import{aL as x,aM as l,p as y,dC as m,__tla as S}from"./index.40478546.js";let h,_=Promise.all([(()=>{try{return S}catch{}})()]).then(async()=>{h=x("viewStore",()=>{const t=l({componentData:[],name:"",id:"",img:"",height:1080,width:1920}),s=l({name:"",label:"",props:{},id:"",type:"",dataSetting:{type:"static",data:"",handleFunc:"",params:{}},positionSize:{top:0,left:0,width:100,height:100}}),r=a=>{const{id:o}=a;let e=t.componentData.find(i=>i.id==o);e&&Object.assign(e,{...e,...a})},p=l([]),n=y(0),c=()=>{p[n.value++]=m.exports.cloneDeep(t.componentData)},D=()=>{n.value>0&&(n.value--,t.componentData=m.exports.cloneDeep(p[n.value]))},u=()=>{n.value<p.length-1&&(n.value++,t.componentData=m.exports.cloneDeep(p[n.value]))},g=a=>{let o=t.componentData.findIndex(e=>e.id===a.id);o!=-1&&Object.assign(s,t.componentData[o])},b=a=>{t.componentData.push(a),c()},C=(a,o)=>{let e=t.componentData.findIndex(f=>f.id===o),i=t.componentData[e];switch(a){case"delete":t.componentData.splice(e,1);break;case"placeTop":t.componentData.splice(e,1),t.componentData.push(i);break;case"placeBottom":t.componentData.splice(e,1),t.componentData.unshift(i);break}c()},v=()=>{Object.assign(t,{componentData:[],name:"",id:"",img:"",height:1080,width:1920}),d()},w=a=>{Object.assign(t,a)},d=()=>{Object.assign(s,{name:"",label:"",props:{},id:"",type:"",dataSetting:{type:"static",data:"",handleFunc:"",params:{}},positionSize:{top:0,left:0,width:100,height:100}})};return{viewData:t,curCompData:s,snapshotData:p,curSnapshotIdx:n,setSnapshot:c,undo:D,redo:u,onClickComp:g,setComp:r,addComp:b,changeCompByCommand:C,init:v,setViewData:w,initCurComp:d}})});export{_ as __tla,h as u};
