import{d as v,r as p,e as j,f as F,g as I,o as U,c as A,h as f,b as a,w as t,i as r,j as B,k as G,l as H,E as K,m as M,n as Q,p as R,q as T,_ as W,__tla as X}from"./index.47ffa79d.js";import{E as Y,a as Z,__tla as $}from"./divider.f1d95b34.js";import{E as aa,__tla as ea}from"./link.8105198d.js";import{a as h,__tla as ta}from"./api.8a4af52a.js";import{E as oa,__tla as la}from"./request.a1520fd8.js";let b,sa=Promise.all([(()=>{try{return X}catch{}})(),(()=>{try{return $}catch{}})(),(()=>{try{return ea}catch{}})(),(()=>{try{return ta}catch{}})(),(()=>{try{return la}catch{}})()]).then(async()=>{const k={class:"form-list"},w={class:"opt"},C={class:"filter"},P={class:"main"},x=v({name:"formList"}),E=v({...x,setup(ra){const u=p([]),S=p({columns:[{label:"\u8868\u5355id",prop:"id"},{label:"\u8868\u5355\u540D\u79F0",prop:"name"}],opt:{label:"\u64CD\u4F5C",width:200,fixed:"right"}}),n=p({show:!0,pageNumber:1,pageSize:10,keyword:"",total:0,pageSizes:[10,20,30]}),c=()=>{h.getList(n.value).then(o=>{const{code:e,data:l,msg:s}=o;e==0&&(u.value=l.rows,n.value.total=l.count)})};j(()=>{c()});const q=o=>{const e=B.cloneDeep(o.row);e.list=JSON.parse(e.list),e.formProp=JSON.parse(e.formProp),G({title:e.name,content:H,componentProps:{formConfig:e}}).open()},_=F(),D=()=>{_.push({name:"formDesign",query:{type:"add"}})},N=o=>{_.push({name:"formDesign",query:{id:o.row.id,type:"edit"}})},O=o=>{h.deleteForm({id:o.row.id}).then(e=>{const{code:l,msg:s}=e;l==0&&(oa.success(s),c())})};return(o,e)=>{const l=K,s=M,m=Q,V=I("e-col"),z=R,d=aa,g=Y,J=Z,L=T;return U(),A("div",k,[f("div",w,[a(m,null,{default:t(()=>[a(s,{offset:22,span:2},{default:t(()=>[a(l,{type:"primary",onClick:D},{default:t(()=>[r(" \u65B0\u589E ")]),_:1})]),_:1})]),_:1})]),f("div",C,[a(m,{align:"middle"},{default:t(()=>[a(V,{span:4},{default:t(()=>[r(" \u8868\u5355\u540D\u79F0 ")]),_:1}),a(s,{span:4,offset:1},{default:t(()=>[a(z,{modelValue:n.value.keyword,"onUpdate:modelValue":e[0]||(e[0]=i=>n.value.keyword=i)},null,8,["modelValue"])]),_:1}),a(s,{span:4,offset:10},{default:t(()=>[a(l,{onClick:c},{default:t(()=>[r(" \u641C\u7D22 ")]),_:1})]),_:1})]),_:1})]),f("div",P,[a(L,{data:u.value,"table-config":S.value,"pag-config":n.value,onOnPageChange:c},{opt:t(i=>[a(d,{type:"primary",onClick:y=>q(i)},{default:t(()=>[r(" \u9884\u89C8 ")]),_:2},1032,["onClick"]),a(g,{direction:"vertical"}),a(d,{type:"primary",onClick:y=>N(i)},{default:t(()=>[r(" \u7F16\u8F91 ")]),_:2},1032,["onClick"]),a(g,{direction:"vertical"}),a(J,{title:"\u786E\u5B9A\u8981\u5220\u9664\u5417?","confirm-button-text":"\u786E\u8BA4","cancel-button-text":"\u53D6\u6D88",onConfirm:y=>O(i)},{reference:t(()=>[a(d,{type:"danger"},{default:t(()=>[r(" \u5220\u9664 ")]),_:1})]),_:2},1032,["onConfirm"])]),_:1},8,["data","table-config","pag-config"])])])}}});b=W(E,[["__scopeId","data-v-6f2db9cb"]])});export{sa as __tla,b as default};
