import{b7 as Ke,b8 as Ve,b9 as Me,s as H,C as U,D as ne,d as K,B as G,ah as Z,H as W,h as N,I as F,aC as ee,ba as oe,o as re,c as ie,O as ue,u as E,au as Oe,A as ce,bb as B,X,bc as qe,bd as He,v as M,ad as de,be as We,b as v,z as Y,V as Xe,W as Ye,bf as je,bg as j,aF as De,Y as Ie,bh as Je,as as be,aw as ve,bi as pe,bj as Qe,aO as Ue,aE as Ge,bk as me,i as Ze,bl as ea,a4 as aa,aJ as ta,Q as la,a0 as sa,aS as na,__tla as oa}from"./index.7a01168f.js";let fe,he,ra=Promise.all([(()=>{try{return oa}catch{}})()]).then(async()=>{const O=Symbol("tabsRootContextKey"),ye=(e,l,p)=>Ve(e.subTree).filter(i=>{var t;return Me(i)&&((t=i.type)==null?void 0:t.name)===l&&!!i.component}).map(i=>i.component.uid).map(i=>p[i]).filter(i=>!!i),ge=(e,l)=>{const p={},i=Ke([]);return{children:i,addChild:t=>{p[t.uid]=t,i.value=ye(e,l,p)},removeChild:t=>{delete p[t],i.value=i.value.filter(s=>s.uid!==t)}}},Ce=H({tabs:{type:U(Array),default:()=>ne([])}}),ae="ElTabBar",$e=K({name:ae}),we=K({...$e,props:Ce,setup(e,{expose:l}){const p=e,i=X(),t=G(O);t||Z(ae,"<el-tabs><el-tab-bar /></el-tabs>");const s=W("tabs"),m=N(),R=N(),d=()=>{let f=0,r=0;const c=["top","bottom"].includes(t.props.tabPosition)?"width":"height",b=c==="width"?"x":"y";return p.tabs.every(P=>{var T,A,a,$;const h=(A=(T=i.parent)==null?void 0:T.refs)==null?void 0:A[`tab-${P.uid}`];if(!h)return!1;if(!P.active)return!0;r=h[`client${B(c)}`];const S=b==="x"?"left":"top";f=h[`offset${B(S)}`]-(($=(a=h.parentElement)==null?void 0:a[`offset${B(S)}`])!=null?$:0);const q=h.closest(".is-scrollable");if(q){const V=window.getComputedStyle(q);f+=Number.parseFloat(V[`padding${B(S)}`])}const L=window.getComputedStyle(h);return c==="width"&&(p.tabs.length>1&&(r-=Number.parseFloat(L.paddingLeft)+Number.parseFloat(L.paddingRight)),f+=Number.parseFloat(L.paddingLeft)),!1}),{[c]:`${r}px`,transform:`translate${B(b)}(${f}px)`}},g=()=>R.value=d();return F(()=>p.tabs,async()=>{await ee(),g()},{immediate:!0}),oe(m,()=>g()),l({ref:m,update:g}),(f,r)=>(re(),ie("div",{ref_key:"barRef",ref:m,class:ue([E(s).e("active-bar"),E(s).is(E(t).props.tabPosition)]),style:Oe(R.value)},null,6))}});var xe=ce(we,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const ke=H({panes:{type:U(Array),default:()=>ne([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Ne={tabClick:(e,l,p)=>p instanceof Event,tabRemove:(e,l)=>l instanceof Event},te="ElTabNav",Pe=K({name:te,props:ke,emits:Ne,setup(e,{expose:l,emit:p}){const i=X(),t=G(O);t||Z(te,"<el-tabs><tab-nav /></el-tabs>");const s=W("tabs"),m=qe(),R=He(),d=N(),g=N(),f=N(),r=N(!1),c=N(0),b=N(!1),P=N(!0),T=M(()=>["top","bottom"].includes(t.props.tabPosition)?"width":"height"),A=M(()=>({transform:`translate${T.value==="width"?"X":"Y"}(-${c.value}px)`})),a=()=>{if(!d.value)return;const o=d.value[`offset${B(T.value)}`],u=c.value;if(!u)return;const n=u>o?u-o:0;c.value=n},$=()=>{if(!d.value||!g.value)return;const o=g.value[`offset${B(T.value)}`],u=d.value[`offset${B(T.value)}`],n=c.value;if(o-n<=u)return;const x=o-n>u*2?n+u:o-u;c.value=x},h=async()=>{const o=g.value;if(!r.value||!f.value||!d.value||!o)return;await ee();const u=f.value.querySelector(".is-active");if(!u)return;const n=d.value,x=["top","bottom"].includes(t.props.tabPosition),w=u.getBoundingClientRect(),C=n.getBoundingClientRect(),_=x?o.offsetWidth-C.width:o.offsetHeight-C.height,k=c.value;let y=k;x?(w.left<C.left&&(y=k-(C.left-w.left)),w.right>C.right&&(y=k+w.right-C.right)):(w.top<C.top&&(y=k-(C.top-w.top)),w.bottom>C.bottom&&(y=k+(w.bottom-C.bottom))),y=Math.max(y,0),c.value=Math.min(y,_)},S=()=>{if(!g.value||!d.value)return;const o=g.value[`offset${B(T.value)}`],u=d.value[`offset${B(T.value)}`],n=c.value;if(u<o){const x=c.value;r.value=r.value||{},r.value.prev=x,r.value.next=x+u<o,o-x<u&&(c.value=o-u)}else r.value=!1,n>0&&(c.value=0)},q=o=>{const u=o.code,{up:n,down:x,left:w,right:C}=j;if(![n,x,w,C].includes(u))return;const _=Array.from(o.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),k=_.indexOf(o.target);let y;u===w||u===n?k===0?y=_.length-1:y=k-1:k<_.length-1?y=k+1:y=0,_[y].focus({preventScroll:!0}),_[y].click(),L()},L=()=>{P.value&&(b.value=!0)},V=()=>b.value=!1;return F(m,o=>{o==="hidden"?P.value=!1:o==="visible"&&setTimeout(()=>P.value=!0,50)}),F(R,o=>{o?setTimeout(()=>P.value=!0,50):P.value=!1}),oe(f,S),de(()=>setTimeout(()=>h(),0)),We(()=>S()),l({scrollToActiveTab:h,removeFocus:V}),F(()=>e.panes,()=>i.update(),{flush:"post"}),()=>{const o=r.value?[v("span",{class:[s.e("nav-prev"),s.is("disabled",!r.value.prev)],onClick:a},[v(Y,null,{default:()=>[v(Xe,null,null)]})]),v("span",{class:[s.e("nav-next"),s.is("disabled",!r.value.next)],onClick:$},[v(Y,null,{default:()=>[v(Ye,null,null)]})])]:null,u=e.panes.map((n,x)=>{var w,C,_,k;const y=n.uid,I=n.props.disabled,J=(C=(w=n.props.name)!=null?w:n.index)!=null?C:`${x}`,Q=!I&&(n.isClosable||e.editable);n.index=`${x}`;const Ae=Q?v(Y,{class:"is-icon-close",onClick:z=>p("tabRemove",n,z)},{default:()=>[v(je,null,null)]}):null,ze=((k=(_=n.slots).label)==null?void 0:k.call(_))||n.props.label,Le=!I&&n.active?0:-1;return v("div",{ref:`tab-${y}`,class:[s.e("item"),s.is(t.props.tabPosition),s.is("active",n.active),s.is("disabled",I),s.is("closable",Q),s.is("focus",b.value)],id:`tab-${J}`,key:`tab-${y}`,"aria-controls":`pane-${J}`,role:"tab","aria-selected":n.active,tabindex:Le,onFocus:()=>L(),onBlur:()=>V(),onClick:z=>{V(),p("tabClick",n,J,z)},onKeydown:z=>{Q&&(z.code===j.delete||z.code===j.backspace)&&p("tabRemove",n,z)}},[ze,Ae])});return v("div",{ref:f,class:[s.e("nav-wrap"),s.is("scrollable",!!r.value),s.is(t.props.tabPosition)]},[o,v("div",{class:s.e("nav-scroll"),ref:d},[v("div",{class:[s.e("nav"),s.is(t.props.tabPosition),s.is("stretch",e.stretch&&["top","bottom"].includes(t.props.tabPosition))],ref:g,style:A.value,role:"tablist",onKeydown:q},[e.type?null:v(xe,{tabs:[...e.panes]},null),u])])])}}}),Te=H({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:U(Function),default:()=>!0},stretch:Boolean}),D=e=>Qe(e)||Ue(e),Se={[ve]:e=>D(e),tabClick:(e,l)=>l instanceof Event,tabChange:e=>D(e),edit:(e,l)=>["remove","add"].includes(l),tabRemove:e=>D(e),tabAdd:()=>!0};var _e=K({name:"ElTabs",props:Te,emits:Se,setup(e,{emit:l,slots:p,expose:i}){var t,s;const m=W("tabs"),{children:R,addChild:d,removeChild:g}=ge(X(),"ElTabPane"),f=N(),r=N((s=(t=e.modelValue)!=null?t:e.activeName)!=null?s:"0"),c=a=>{r.value=a,l(ve,a),l("tabChange",a)},b=async a=>{var $,h,S;if(!(r.value===a||pe(a)))try{await(($=e.beforeLeave)==null?void 0:$.call(e,a,r.value))!==!1&&(c(a),(S=(h=f.value)==null?void 0:h.removeFocus)==null||S.call(h))}catch{}},P=(a,$,h)=>{a.props.disabled||(b($),l("tabClick",a,h))},T=(a,$)=>{a.props.disabled||pe(a.props.name)||($.stopPropagation(),l("edit",a.props.name,"remove"),l("tabRemove",a.props.name))},A=()=>{l("edit",void 0,"add"),l("tabAdd")};return De({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},M(()=>!!e.activeName)),F(()=>e.activeName,a=>b(a)),F(()=>e.modelValue,a=>b(a)),F(r,async()=>{var a;await ee(),(a=f.value)==null||a.scrollToActiveTab()}),Ie(O,{props:e,currentName:r,registerPane:d,unregisterPane:g}),i({currentName:r}),()=>{const a=e.editable||e.addable?v("span",{class:m.e("new-tab"),tabindex:"0",onClick:A,onKeydown:S=>{S.code===j.enter&&A()}},[v(Y,{class:m.is("icon-plus")},{default:()=>[v(Je,null,null)]})]):null,$=v("div",{class:[m.e("header"),m.is(e.tabPosition)]},[a,v(Pe,{ref:f,currentName:r.value,editable:e.editable,type:e.type,panes:R.value,stretch:e.stretch,onTabClick:P,onTabRemove:T},null)]),h=v("div",{class:m.e("content")},[be(p,"default")]);return v("div",{class:[m.b(),m.m(e.tabPosition),{[m.m("card")]:e.type==="card",[m.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[$,h]:[h,$]])}}});const Be=H({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Ee=["id","aria-hidden","aria-labelledby"],le="ElTabPane",Re=K({name:le}),Fe=K({...Re,props:Be,setup(e){const l=e,p=X(),i=Ge(),t=G(O);t||Z(le,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const s=W("tab-pane"),m=N(),R=M(()=>l.closable||t.props.closable),d=me(()=>{var b;return t.currentName.value===((b=l.name)!=null?b:m.value)}),g=N(d.value),f=M(()=>{var b;return(b=l.name)!=null?b:m.value}),r=me(()=>!l.lazy||g.value||d.value);F(d,b=>{b&&(g.value=!0)});const c=Ze({uid:p.uid,slots:i,props:l,paneName:f,active:d,index:m,isClosable:R});return de(()=>{t.registerPane(c)}),ea(()=>{t.unregisterPane(c.uid)}),(b,P)=>E(r)?aa((re(),ie("div",{key:0,id:`pane-${E(f)}`,class:ue(E(s).b()),role:"tabpanel","aria-hidden":!E(d),"aria-labelledby":`tab-${E(f)}`},[be(b.$slots,"default")],10,Ee)),[[ta,E(d)]]):la("v-if",!0)}});var se=ce(Fe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);he=sa(_e,{TabPane:se}),fe=na(se)});export{fe as E,ra as __tla,he as a};
