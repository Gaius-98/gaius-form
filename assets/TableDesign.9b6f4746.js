import{d as z,r as f,bp as U,o as w,z as k,A as l,b as e,aj as P,br as S,bA as T,bB as E,u as o,c as q,I as R,Q as A,bx as ee,by as le,bs as B,bv as ae,bD as de,bE as oe,ag as Q,B as D,ad as C,ae as te,C as re,D as se,a4 as ue,dQ as ne,ak as pe,bL as ie,am as me,an as ce,ao as be,dU as fe,_ as _e,__tla as ge}from"./index.b3476c46.js";import{E as he,a as ve,b as Ve,__tla as we}from"./dropdown-item.1aef010a.js";import{d as ye,__tla as xe}from"./vuedraggable.umd.047e2710.js";import{__tla as Ue}from"./refs.4f9c98e4.js";let j,Ce=Promise.all([(()=>{try{return ge}catch{}})(),(()=>{try{return we}catch{}})(),(()=>{try{return xe}catch{}})(),(()=>{try{return Ue}catch{}})()]).then(async()=>{const G=z({__name:"TableField",setup(_,{expose:h}){const c=f(),r=U({}),a=U({prop:[{required:!0,trigger:"blur",message:"\u5B57\u6BB5\u540D\u4E0D\u80FD\u4E3A\u7A7A"}],label:[{required:!0,trigger:"blur",message:"\u5217\u540D\u4E0D\u80FD\u4E3A\u7A7A"}]});return h({getFormData:()=>r,resetForm:()=>{!c.value||c.value.resetFields()},getFormValidate:()=>new Promise((v,b)=>{var s;(s=c.value)==null||s.validate((m,n)=>{v({valid:m,fields:n})})})}),(v,b)=>{const s=P,m=S,n=T;return w(),k(n,{ref_key:"formRef",ref:c,"label-position":"left","label-width":"80",model:r,rules:a},{default:l(()=>[e(m,{prop:"prop",label:"\u5B57\u6BB5\u540D"},{default:l(()=>[e(s,{modelValue:r.prop,"onUpdate:modelValue":b[0]||(b[0]=u=>r.prop=u),placeholder:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u540D",readonly:!1,disabled:!1,clearable:!0,"show-password":!1},null,8,["modelValue"])]),_:1}),e(m,{prop:"label",label:"\u5217\u540D"},{default:l(()=>[e(s,{modelValue:r.label,"onUpdate:modelValue":b[1]||(b[1]=u=>r.label=u),placeholder:"\u8BF7\u8F93\u5165\u5217\u540D",readonly:!1,disabled:!1,clearable:!0,"show-password":!1},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])}}}),L=z({__name:"TableCfg",props:{cfg:{default:()=>({label:"",prop:""})}},setup(_,{expose:h}){const c=_,r=f(),{cfg:a}=E(c),v=U({}),b=()=>a,s=U([{label:"\u5DE6",value:"left"},{label:"\u53F3",value:"right"}]),m=U([{label:"\u5DE6\u5BF9\u9F50",value:"left"},{label:"\u53F3\u5BF9\u9F50",value:"right"},{label:"\u5C45\u4E2D",value:"center"}]);return h({getFormData:b,resetForm:()=>{!r.value||r.value.resetFields()}}),(n,u)=>{const g=P,p=S,y=ee,F=le,t=B,i=T;return w(),k(i,{ref_key:"formRef",ref:r,size:"default","label-position":"left","label-width":"120",model:o(a),rules:v},{default:l(()=>[e(p,{prop:"prop",label:"\u5B57\u6BB5\u540D"},{default:l(()=>[e(g,{modelValue:o(a).prop,"onUpdate:modelValue":u[0]||(u[0]=d=>o(a).prop=d),placeholder:"\u8BF7\u8F93\u5165\u5B57\u6BB5\u540D",readonly:!1,disabled:!1,clearable:!0,"show-password":!1},null,8,["modelValue"])]),_:1}),e(p,{prop:"label",label:"\u5217\u540D"},{default:l(()=>[e(g,{modelValue:o(a).label,"onUpdate:modelValue":u[1]||(u[1]=d=>o(a).label=d),placeholder:"\u8BF7\u8F93\u5165\u5217\u540D",readonly:!1,disabled:!1,clearable:!0,"show-password":!1},null,8,["modelValue"])]),_:1}),e(p,{prop:"width",label:"\u5BBD\u5EA6"},{default:l(()=>[e(g,{modelValue:o(a).width,"onUpdate:modelValue":u[2]||(u[2]=d=>o(a).width=d),placeholder:"\u8BF7\u8F93\u5165\u5BBD\u5EA6",readonly:!1,disabled:!1,clearable:!0,"show-password":!1},null,8,["modelValue"])]),_:1}),e(p,{prop:"fixed",label:"\u56FA\u5B9A\u5217"},{default:l(()=>[e(F,{modelValue:o(a).fixed,"onUpdate:modelValue":u[3]||(u[3]=d=>o(a).fixed=d),placeholder:"",readonly:!1,disabled:!1,filterable:!1,clearable:!0},{default:l(()=>[(w(!0),q(R,null,A(s,d=>(w(),k(y,{key:d.value,value:d.value,label:d.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(p,{prop:"sortable",label:"\u662F\u5426\u53EF\u6392\u5E8F"},{default:l(()=>[e(t,{modelValue:o(a).sortable,"onUpdate:modelValue":u[4]||(u[4]=d=>o(a).sortable=d),disabled:!1,"active-text":"\u53EF\u6392\u5E8F","inactive-text":"\u4E0D\u53EF\u6392\u5E8F"},null,8,["modelValue"])]),_:1}),e(p,{prop:"align",label:"\u6587\u5B57\u5BF9\u9F50\u65B9\u5F0F"},{default:l(()=>[e(F,{modelValue:o(a).align,"onUpdate:modelValue":u[5]||(u[5]=d=>o(a).align=d),placeholder:"",readonly:!1,disabled:!1,filterable:!1,clearable:!1},{default:l(()=>[(w(!0),q(R,null,A(m,d=>(w(),k(y,{key:d.value,value:d.value,label:d.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])}}}),H=z({__name:"GlobalCfg",props:{cfg:{default:()=>({label:"",prop:""})}},setup(_,{expose:h}){const c=_,r=f(),{cfg:a}=E(c),v=U({});return h({getFormData:()=>a,resetForm:()=>{!r.value||r.value.resetFields()}}),(b,s)=>{const m=B,n=S,u=ae,g=de,p=oe,y=P,F=T;return w(),k(F,{ref_key:"formRef",ref:r,size:"default","label-position":"left","label-width":"120",model:o(a),rules:v},{default:l(()=>[e(p,null,{default:l(()=>[e(g,{title:"\u5206\u9875\u914D\u7F6E",name:"\u5206\u9875\u914D\u7F6E"},{default:l(()=>[e(n,{prop:"pagConfig.show",label:"\u5F00\u542F\u5206\u9875"},{default:l(()=>[e(m,{modelValue:o(a).pagConfig.show,"onUpdate:modelValue":s[0]||(s[0]=t=>o(a).pagConfig.show=t),disabled:!1,"active-text":"","inactive-text":""},null,8,["modelValue"])]),_:1}),e(n,{prop:"pagConfig.pageSize",label:"\u9ED8\u8BA4\u5C55\u793A\u884C\u6570"},{default:l(()=>[e(u,{modelValue:o(a).pagConfig.pageSize,"onUpdate:modelValue":s[1]||(s[1]=t=>o(a).pagConfig.pageSize=t),readonly:!1,disabled:!1,step:1,min:0,max:100,placeholder:"\u8F93\u5165\u63D0\u793A","controls-position":"right"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(p,null,{default:l(()=>[e(g,{title:"\u65B0\u589E\u914D\u7F6E",name:"\u65B0\u589E\u914D\u7F6E"},{default:l(()=>[e(n,{prop:"add.show",label:"\u5F00\u542F\u65B0\u589E\u529F\u80FD"},{default:l(()=>[e(m,{modelValue:o(a).add.show,"onUpdate:modelValue":s[2]||(s[2]=t=>o(a).add.show=t),disabled:!1,"active-text":"","inactive-text":""},null,8,["modelValue"])]),_:1}),e(n,{prop:"add.id",label:"\u8868\u5355ID"},{default:l(()=>[e(y,{modelValue:o(a).add.id,"onUpdate:modelValue":s[3]||(s[3]=t=>o(a).add.id=t),placeholder:"\u8F93\u5165\u63D0\u793A",readonly:!1,disabled:!1,clearable:!0,"show-password":!1},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(p,null,{default:l(()=>[e(g,{title:"\u7F16\u8F91\u914D\u7F6E",name:"\u7F16\u8F91\u914D\u7F6E"},{default:l(()=>[e(n,{prop:"edit.show",label:"\u5F00\u542F\u7F16\u8F91\u529F\u80FD"},{default:l(()=>[e(m,{modelValue:o(a).edit.show,"onUpdate:modelValue":s[4]||(s[4]=t=>o(a).edit.show=t),disabled:!1,"active-text":"","inactive-text":""},null,8,["modelValue"])]),_:1}),e(n,{prop:"edit.id",label:"\u8868\u5355ID"},{default:l(()=>[e(y,{modelValue:o(a).edit.id,"onUpdate:modelValue":s[5]||(s[5]=t=>o(a).edit.id=t),placeholder:"\u8F93\u5165\u63D0\u793A",readonly:!1,disabled:!1,clearable:!0,"show-password":!1},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),J=_=>(ce("data-v-9eaea24e"),_=_(),be(),_),K={class:"table-design"},M={class:"table-container"},N=["onClick"],O=J(()=>D("span",{style:{"font-size":"10px",color:"#ccc"}},"(\u6CE8\uFF1A\u53EA\u5C55\u793A\u524D10\u6761\u6570\u636E)",-1)),W={class:"table-cfg"},X=z({__name:"TableDesign",setup(_){const h=f({label:"",prop:""}),c=f(""),r=U({columns:[{label:"\u65E5\u671F",prop:"date"},{label:"\u59D3\u540D",prop:"name"},{label:"\u5730\u5740",prop:"address"}]}),a=f({type:"static",data:[{date:"2016-05-02",name:"\u738B\u5C0F\u864E",address:"\u4E0A\u6D77\u5E02\u666E\u9640\u533A\u91D1\u6C99\u6C5F\u8DEF 1518 \u5F04"},{date:"2016-05-04",name:"\u738B\u5C0F\u864E",address:"\u4E0A\u6D77\u5E02\u666E\u9640\u533A\u91D1\u6C99\u6C5F\u8DEF 1517 \u5F04"},{date:"2016-05-01",name:"\u738B\u5C0F\u864E",address:"\u4E0A\u6D77\u5E02\u666E\u9640\u533A\u91D1\u6C99\u6C5F\u8DEF 1519 \u5F04"},{date:"2016-05-03",name:"\u738B\u5C0F\u864E",address:"\u4E0A\u6D77\u5E02\u666E\u9640\u533A\u91D1\u6C99\u6C5F\u8DEF 1516 \u5F04"}],reqType:"get",params:{},handleFunc:"return resData",interfaceUrl:"http://xxxx"}),v=f(),b=f([]),s=f({pagConfig:{show:!1,pageSize:10},add:{show:!1,id:""},edit:{show:!1,id:""}}),m=t=>{c.value=t,h.value=r.columns.find(i=>i.prop==t)},n=Q({title:"\u65B0\u589E\u5217\u8868\u5B57\u6BB5",content:G,componentProps:{},width:400,height:200}),u=()=>{n.open(async t=>{const{valid:i}=await t.data.getFormValidate(),d=t.data.getFormData();i&&(r.columns.push({label:d.label,prop:d.prop}),n.destroyed())})},g=(t,i)=>{const d=i.attrs.field,x=r.columns.findIndex(I=>I.prop==d);x!=-1&&r.columns.splice(x,1)},p=f(!1),y=async()=>{p.value=!0;const t=await fe(a.value);b.value=t.slice(0,9),p.value=!1},F=()=>{const t=Q({title:"\u6570\u636E\u6E90\u914D\u7F6E",content:ne,height:820,componentProps:{data:a.value}});t.open(({type:i,data:d})=>{console.log(i,d,d.data),i=="ok"&&(a.value=d.data),y(),t.destroyed()})};return(t,i)=>{const d=pe,x=ie,I=he,Y=ve,Z=Ve,$=me;return w(),q("div",K,[D("div",M,[e(d,{type:"primary",onClick:F},{default:l(()=>[C(" \u6570\u636E\u6E90\u914D\u7F6E ")]),_:1}),e(d,{type:"primary",icon:o(te),onClick:u},{default:l(()=>[C(" \u65B0\u589E\u5B57\u6BB5 ")]),_:1},8,["icon"]),e(x,null,{default:l(()=>[C(" \u914D\u7F6E\u5217 ")]),_:1}),e(o(ye),{modelValue:r.columns,"onUpdate:modelValue":i[0]||(i[0]=V=>r.columns=V),"item-key":"prop",class:"table-header"},{item:l(({element:V})=>[e(Z,{trigger:"contextmenu",onCommand:g},{dropdown:l(()=>[e(Y,null,{default:l(()=>[e(I,{command:"delete",field:V.prop},{default:l(()=>[C(" \u5220\u9664 ")]),_:2},1032,["field"])]),_:2},1024)]),default:l(()=>[D("div",{class:re(["header-cell",c.value==V.prop?"cur-column":""]),style:se({width:V.width?V.width+"px":"auto"}),onClick:Fe=>m(V.prop)},ue(V.label),15,N)]),_:2},1024)]),_:1},8,["modelValue"]),e(x,null,{default:l(()=>[C(" \u9884\u89C8\u533A\u57DF "),O]),_:1}),e($,{ref_key:"table",ref:v,data:b.value,"table-config":r,border:"",height:"750",loading:p.value},null,8,["data","table-config","loading"])]),D("div",W,[e(x,null,{default:l(()=>[C(" \u5168\u5C40\u914D\u7F6E ")]),_:1}),e(H,{cfg:s.value},null,8,["cfg"]),e(x,{style:{"margin-top":"20px"}},{default:l(()=>[C(" \u5F53\u524D\u5217\u914D\u7F6E ")]),_:1}),e(L,{cfg:h.value},null,8,["cfg"])])])}}});j=_e(X,[["__scopeId","data-v-9eaea24e"]])});export{Ce as __tla,j as default};
