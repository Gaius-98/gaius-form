import{ac as h,ad as i,W as u,dk as l,__tla as v}from"./index.cd001ee6.js";let d,g=Promise.all([(()=>{try{return v}catch{}})()]).then(async()=>{d=h("viewStore",()=>{const t=i({componentData:[],name:"",id:"",img:"",height:1080,width:1920}),m=i({name:"",label:"",props:{},id:"",type:"",dataSetting:{type:"static",data:"",handleFunc:"",params:{}},positionSize:{top:0,left:0,width:100,height:100}}),D=n=>{const{id:o}=n;let a=t.componentData.find(c=>c.id==o);a&&Object.assign(a,{...a,...n})},p=i([]),e=u(0),s=()=>{p[e.value++]=l.exports.cloneDeep(t.componentData)};return{viewData:t,curCompData:m,snapshotData:p,curSnapshotIdx:e,setSnapshot:s,undo:()=>{e.value>0&&(e.value--,t.componentData=l.exports.cloneDeep(p[e.value]))},redo:()=>{e.value<p.length-1&&(e.value++,t.componentData=l.exports.cloneDeep(p[e.value]))},onClickComp:n=>{let o=t.componentData.findIndex(a=>a.id===n.id);o!=-1&&Object.assign(m,t.componentData[o])},setComp:D,addComp:n=>{t.componentData.push(n),s()},changeCompByCommand:(n,o)=>{let a=t.componentData.findIndex(r=>r.id===o),c=t.componentData[a];switch(n){case"delete":t.componentData.splice(a,1);break;case"placeTop":t.componentData.splice(a,1),t.componentData.push(c);break;case"placeBottom":t.componentData.splice(a,1),t.componentData.unshift(c);break}s()}}})});export{g as __tla,d as u};
