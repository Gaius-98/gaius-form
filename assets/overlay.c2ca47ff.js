import{a7 as $e,a8 as ee,D as _e,a9 as Le,aa as N,ab as De,ac as ze,p as q,ad as Oe,ae as oe,af as te,s as X,ag as Pe,ah as Te,ai as Ye,aj as Ne,ak as qe,al as j,e as H,l as V,d as P,b as T,am as G,an as h,R as Xe,i as je,f as He,k as le,ao as Ve,g as $,o as _,c as U,B as Y,A as C,u as o,t as Ge,w as B,h as Z,r as Ue,E as Ze,G as K,ap as ae,j as se,aq as Ke,ar as ne,as as We,at as Je,au as ue,q as I,av as Qe,aw as eo,ax as oo,O as to,ay as re,az as lo,aA as de,P as ao,Z as so,aB as no,aC as uo,aD as ro,aE as co,aF as io,aG as fo,S as po,__tla as mo}from"./index.1074f534.js";let ce,vo=Promise.all([(()=>{try{return mo}catch{}})()]).then(async()=>{const ie=(...e)=>a=>{e.forEach(l=>{$e(l)?l(a):l.value=a})},fe=(e,a,l)=>{let n={offsetX:0,offsetY:0};const r=t=>{const i=t.clientX,m=t.clientY,{offsetX:f,offsetY:c}=n,s=e.value.getBoundingClientRect(),b=s.left,k=s.top,L=s.width,D=s.height,z=document.documentElement.clientWidth,F=document.documentElement.clientHeight,R=-b+f,w=-k+c,E=z-b-L+f,O=F-k-D+c,M=S=>{const u=Math.min(Math.max(f+S.clientX-i,R),E),g=Math.min(Math.max(c+S.clientY-m,w),O);n={offsetX:u,offsetY:g},e.value.style.transform=`translate(${N(u)}, ${N(g)})`},v=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",v)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",v)},d=()=>{a.value&&e.value&&a.value.addEventListener("mousedown",r)},p=()=>{a.value&&e.value&&a.value.removeEventListener("mousedown",r)};ee(()=>{_e(()=>{l.value?d():p()})}),Le(()=>{p()})},pe=(e,a={})=>{De(e)||ze("[useLockscreen]","You need to pass a ref param to this function");const l=a.ns||q("popup"),n=Oe(()=>l.bm("parent","hidden"));if(!oe||te(document.body,n.value))return;let r=0,d=!1,p="0";const t=()=>{setTimeout(()=>{qe(document==null?void 0:document.body,n.value),d&&document&&(document.body.style.width=p)},200)};X(e,i=>{if(!i){t();return}d=!te(document.body,n.value),d&&(p=document.body.style.width),r=Pe(l.namespace.value);const m=document.documentElement.clientHeight<document.body.scrollHeight,f=Te(document.body,"overflowY");r>0&&(m||f==="scroll")&&d&&(document.body.style.width=`calc(100% - ${r}px)`),Ye(document.body,n.value)}),Ne(()=>t())},W=e=>{if(!e)return{onClick:j,onMousedown:j,onMouseup:j};let a=!1,l=!1;return{onClick:n=>{a&&l&&e(n),a=l=!1},onMousedown:n=>{a=n.target===n.currentTarget},onMouseup:n=>{l=n.target===n.currentTarget}}},me=H({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:V([String,Array,Object])},zIndex:{type:V([String,Number])}}),ve={click:e=>e instanceof MouseEvent},ye="overlay";var ge=P({name:"ElOverlay",props:me,emits:ve,setup(e,{slots:a,emit:l}){const n=q(ye),r=i=>{l("click",i)},{onClick:d,onMousedown:p,onMouseup:t}=W(e.customMaskEvent?void 0:r);return()=>e.mask?T("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:d,onMousedown:p,onMouseup:t},[h(a,"default")],G.STYLE|G.CLASS|G.PROPS,["onClick","onMouseup","onMousedown"]):Xe("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[h(a,"default")])}});const be=ge,J=Symbol("dialogInjectionKey"),Q=H({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:je},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),he={close:()=>!0},Ce=["aria-label"],ke=["id"],we=P({name:"ElDialogContent"}),Ee=P({...we,props:Q,emits:he,setup(e){const a=e,{t:l}=He(),{Close:n}=Ke,{dialogRef:r,headerRef:d,bodyId:p,ns:t,style:i}=le(J),{focusTrapRef:m}=le(Ve),f=ie(m,r),c=$(()=>a.draggable);return fe(r,d,c),(s,b)=>(_(),U("div",{ref:o(f),class:C([o(t).b(),o(t).is("fullscreen",s.fullscreen),o(t).is("draggable",o(c)),o(t).is("align-center",s.alignCenter),{[o(t).m("center")]:s.center},s.customClass]),style:ae(o(i)),tabindex:"-1"},[Y("header",{ref_key:"headerRef",ref:d,class:C(o(t).e("header"))},[h(s.$slots,"header",{},()=>[Y("span",{role:"heading",class:C(o(t).e("title"))},Ge(s.title),3)]),s.showClose?(_(),U("button",{key:0,"aria-label":o(l)("el.dialog.close"),class:C(o(t).e("headerbtn")),type:"button",onClick:b[0]||(b[0]=k=>s.$emit("close"))},[T(o(Ze),{class:C(o(t).e("close"))},{default:B(()=>[(_(),Z(Ue(s.closeIcon||o(n))))]),_:1},8,["class"])],10,Ce)):K("v-if",!0)],2),Y("div",{id:o(p),class:C(o(t).e("body"))},[h(s.$slots,"default")],10,ke),s.$slots.footer?(_(),U("footer",{key:0,class:C(o(t).e("footer"))},[h(s.$slots,"footer")],2)):K("v-if",!0)],6))}});var Me=se(Ee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const xe=H({...Q,appendToBody:{type:Boolean,default:!1},beforeClose:{type:V(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),Ae={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ne]:e=>We(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Be=(e,a)=>{const l=to().emit,{nextZIndex:n}=Je();let r="";const d=ue(),p=ue(),t=I(!1),i=I(!1),m=I(!1),f=I(e.zIndex||n());let c,s;const b=Qe("namespace",eo),k=$(()=>{const y={},A=`--${b.value}-dialog`;return e.fullscreen||(e.top&&(y[`${A}-margin-top`]=e.top),e.width&&(y[`${A}-width`]=N(e.width))),y}),L=$(()=>e.alignCenter?{display:"flex"}:{});function D(){l("opened")}function z(){l("closed"),l(ne,!1),e.destroyOnClose&&(m.value=!1)}function F(){l("close")}function R(){s==null||s(),c==null||c(),e.openDelay&&e.openDelay>0?{stop:c}=re(()=>M(),e.openDelay):M()}function w(){c==null||c(),s==null||s(),e.closeDelay&&e.closeDelay>0?{stop:s}=re(()=>v(),e.closeDelay):v()}function E(){function y(A){A||(i.value=!0,t.value=!1)}e.beforeClose?e.beforeClose(y):w()}function O(){e.closeOnClickModal&&E()}function M(){!oe||(t.value=!0)}function v(){t.value=!1}function S(){l("openAutoFocus")}function u(){l("closeAutoFocus")}function g(y){var A;((A=y.detail)==null?void 0:A.focusReason)==="pointer"&&y.preventDefault()}e.lockScroll&&pe(t);function x(){e.closeOnPressEscape&&E()}return X(()=>e.modelValue,y=>{y?(i.value=!1,R(),m.value=!0,f.value=e.zIndex?f.value++:n(),oo(()=>{l("open"),a.value&&(a.value.scrollTop=0)})):t.value&&w()}),X(()=>e.fullscreen,y=>{!a.value||(y?(r=a.value.style.transform,a.value.style.transform=""):a.value.style.transform=r)}),ee(()=>{e.modelValue&&(t.value=!0,m.value=!0,R())}),{afterEnter:D,afterLeave:z,beforeLeave:F,handleClose:E,onModalClick:O,close:w,doClose:v,onOpenAutoFocus:S,onCloseAutoFocus:u,onCloseRequested:x,onFocusoutPrevented:g,titleId:d,bodyId:p,closed:i,style:k,overlayDialogStyle:L,rendered:m,visible:t,zIndex:f}},Ie=["aria-label","aria-labelledby","aria-describedby"],Fe=P({name:"ElDialog",inheritAttrs:!1}),Re=P({...Fe,props:xe,emits:Ae,setup(e,{expose:a}){const l=e,n=lo();de({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},$(()=>!!n.title)),de({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},$(()=>!!l.customClass));const r=q("dialog"),d=I(),p=I(),t=I(),{visible:i,titleId:m,bodyId:f,style:c,overlayDialogStyle:s,rendered:b,zIndex:k,afterEnter:L,afterLeave:D,beforeLeave:z,handleClose:F,onModalClick:R,onOpenAutoFocus:w,onCloseAutoFocus:E,onCloseRequested:O,onFocusoutPrevented:M}=Be(l,d);ao(J,{dialogRef:d,headerRef:p,bodyId:f,ns:r,rendered:b,style:c});const v=W(R),S=$(()=>l.draggable&&!l.fullscreen);return a({visible:i,dialogContentRef:t}),(u,g)=>(_(),Z(fo,{to:"body",disabled:!u.appendToBody},[T(io,{name:"dialog-fade",onAfterEnter:o(L),onAfterLeave:o(D),onBeforeLeave:o(z),persisted:""},{default:B(()=>[so(T(o(be),{"custom-mask-event":"",mask:u.modal,"overlay-class":u.modalClass,"z-index":o(k)},{default:B(()=>[Y("div",{role:"dialog","aria-modal":"true","aria-label":u.title||void 0,"aria-labelledby":u.title?void 0:o(m),"aria-describedby":o(f),class:C(`${o(r).namespace.value}-overlay-dialog`),style:ae(o(s)),onClick:g[0]||(g[0]=(...x)=>o(v).onClick&&o(v).onClick(...x)),onMousedown:g[1]||(g[1]=(...x)=>o(v).onMousedown&&o(v).onMousedown(...x)),onMouseup:g[2]||(g[2]=(...x)=>o(v).onMouseup&&o(v).onMouseup(...x))},[T(o(no),{loop:"",trapped:o(i),"focus-start-el":"container",onFocusAfterTrapped:o(w),onFocusAfterReleased:o(E),onFocusoutPrevented:o(M),onReleaseRequested:o(O)},{default:B(()=>[o(b)?(_(),Z(Me,uo({key:0,ref_key:"dialogContentRef",ref:t},u.$attrs,{"custom-class":u.customClass,center:u.center,"align-center":u.alignCenter,"close-icon":u.closeIcon,draggable:o(S),fullscreen:u.fullscreen,"show-close":u.showClose,title:u.title,onClose:o(F)}),ro({header:B(()=>[u.$slots.title?h(u.$slots,"title",{key:1}):h(u.$slots,"header",{key:0,close:o(F),titleId:o(m),titleClass:o(r).e("title")})]),default:B(()=>[h(u.$slots,"default")]),_:2},[u.$slots.footer?{name:"footer",fn:B(()=>[h(u.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):K("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ie)]),_:3},8,["mask","overlay-class","z-index"]),[[co,o(i)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Se=se(Re,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);ce=po(Se)});export{ce as E,vo as __tla};
