import{f as q,d as w,n as Ue,v as f,h as $,o as g,c as z,T as P,b as D,A as _,R as Z,B as E,C as v,u as r,a4 as G,S as W,U as X,W as Y,$ as Le,aa as Re,g as J,m as Me,a2 as K,au as Ae,av as je,r as U,aw as Q,y as Fe,w as He,X as Oe,ax as qe,z as b,D as Pe,F as B,G as V,N as Ze,I as Ge,E as We,ay as Xe,az as Ye,Y as Je,aA as ee,a6 as te,aB as se,aC as L,aD as ne,a5 as Ke,aE as Qe,aF as Ve,__tla as et}from"./index.50528b0d.js";let I,oe,tt=Promise.all([(()=>{try{return et}catch{}})()]).then(async()=>{const ae=q({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),re=["textContent"],ue=w({name:"ElBadge"}),le=w({...ue,props:ae,setup(e,{expose:s}){const t=e,o=Ue("badge"),n=f(()=>t.isDot?"":$(t.value)&&$(t.max)?t.max<t.value?`${t.max}+`:`${t.value}`:`${t.value}`);return s({content:n}),(l,a)=>(g(),z("div",{class:v(r(o).b())},[P(l.$slots,"default"),D(X,{name:`${r(o).namespace.value}-zoom-in-center`,persisted:""},{default:_(()=>[Z(E("sup",{class:v([r(o).e("content"),r(o).em("content",l.type),r(o).is("fixed",!!l.$slots.default),r(o).is("dot",l.isDot)]),textContent:G(r(n))},null,10,re),[[W,!l.hidden&&(r(n)||l.isDot)]])]),_:1},8,["name"])],2))}});var ce=Y(le,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const ie=Le(ce),R=["success","info","warning","error"],i=Me({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:K?document.body:void 0}),pe=q({customClass:{type:String,default:i.customClass},center:{type:Boolean,default:i.center},dangerouslyUseHTMLString:{type:Boolean,default:i.dangerouslyUseHTMLString},duration:{type:Number,default:i.duration},icon:{type:Re,default:i.icon},id:{type:String,default:i.id},message:{type:J([String,Object,Function]),default:i.message},onClose:{type:J(Function),required:!1},showClose:{type:Boolean,default:i.showClose},type:{type:String,values:R,default:i.type},offset:{type:Number,default:i.offset},zIndex:{type:Number,default:i.zIndex},grouping:{type:Boolean,default:i.grouping},repeatNum:{type:Number,default:i.repeatNum}}),de={destroy:()=>!0},d=Ae([]),me=e=>{const s=d.findIndex(n=>n.id===e),t=d[s];let o;return s>0&&(o=d[s-1]),{current:t,prev:o}},fe=e=>{const{prev:s}=me(e);return s?s.vm.exposed.bottom.value:0},ge=(e,s)=>d.findIndex(t=>t.id===e)>0?20:s,ve=["id"],ye=["innerHTML"],he=w({name:"ElMessage"}),be=w({...he,props:pe,emits:de,setup(e,{expose:s}){const t=e,{Close:o}=Xe,{ns:n,zIndex:l}=je("message"),{currentZIndex:a,nextZIndex:c}=l,p=U(),m=U(!1),h=U(0);let C;const Ne=f(()=>t.type?t.type==="error"?"danger":t.type:"info"),Se=f(()=>{const u=t.type;return{[n.bm("icon",u)]:u&&Q[u]}}),j=f(()=>t.icon||Q[t.type]||""),$e=f(()=>fe(t.id)),F=f(()=>ge(t.id,t.offset)+$e.value),ze=f(()=>h.value+F.value),De=f(()=>({top:`${F.value}px`,zIndex:a.value}));function S(){t.duration!==0&&({stop:C}=Ye(()=>{k()},t.duration))}function H(){C==null||C()}function k(){m.value=!1}function Ee({code:u}){u===Je.esc&&k()}return Fe(()=>{S(),c(),m.value=!0}),He(()=>t.repeatNum,()=>{H(),S()}),Oe(document,"keydown",Ee),qe(p,()=>{h.value=p.value.getBoundingClientRect().height}),s({visible:m,bottom:ze,close:k}),(u,O)=>(g(),b(X,{name:r(n).b("fade"),onBeforeLeave:u.onClose,onAfterLeave:O[0]||(O[0]=st=>u.$emit("destroy")),persisted:""},{default:_(()=>[Z(E("div",{id:u.id,ref_key:"messageRef",ref:p,class:v([r(n).b(),{[r(n).m(u.type)]:u.type&&!u.icon},r(n).is("center",u.center),r(n).is("closable",u.showClose),u.customClass]),style:Pe(r(De)),role:"alert",onMouseenter:H,onMouseleave:S},[u.repeatNum>1?(g(),b(r(ie),{key:0,value:u.repeatNum,type:r(Ne),class:v(r(n).e("badge"))},null,8,["value","type","class"])):B("v-if",!0),r(j)?(g(),b(r(V),{key:1,class:v([r(n).e("icon"),r(Se)])},{default:_(()=>[(g(),b(Ze(r(j))))]),_:1},8,["class"])):B("v-if",!0),P(u.$slots,"default",{},()=>[u.dangerouslyUseHTMLString?(g(),z(Ge,{key:1},[B(" Caution here, message could've been compromised, never use user's input as message "),E("p",{class:v(r(n).e("content")),innerHTML:u.message},null,10,ye)],2112)):(g(),z("p",{key:0,class:v(r(n).e("content"))},G(u.message),3))]),u.showClose?(g(),b(r(V),{key:2,class:v(r(n).e("closeBtn")),onClick:We(k,["stop"])},{default:_(()=>[D(r(o))]),_:1},8,["class","onClick"])):B("v-if",!0)],46,ve),[[W,m.value]])]),_:3},8,["name","onBeforeLeave"]))}});var xe=Y(be,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let Ce=1;const M=e=>{const s=!e||te(e)||se(e)||L(e)?{message:e}:e,t={...i,...s};if(!t.appendTo)t.appendTo=document.body;else if(te(t.appendTo)){let o=document.querySelector(t.appendTo);Ke(o)||(o=document.body),t.appendTo=o}return t},ke=e=>{const s=d.indexOf(e);if(s===-1)return;d.splice(s,1);const{handler:t}=e;t.close()},we=({appendTo:e,...s},t)=>{const o=`message_${Ce++}`,n=s.onClose,l=document.createElement("div"),a={...s,id:o,onClose:()=>{n==null||n(),ke(m)},onDestroy:()=>{ne(null,l)}},c=D(xe,a,L(a.message)||se(a.message)?{default:L(a.message)?a.message:()=>a.message}:null);c.appContext=t||y._context,ne(c,l),e.appendChild(l.firstElementChild);const p=c.component,m={id:o,vnode:c,vm:p,handler:{close:()=>{p.exposed.visible.value=!1}},props:c.component.props};return m},y=(e={},s)=>{if(!K)return{close:()=>{}};if($(ee.max)&&d.length>=ee.max)return{close:()=>{}};const t=M(e);if(t.grouping&&d.length){const n=d.find(({vnode:l})=>{var a;return((a=l.props)==null?void 0:a.message)===t.message});if(n)return n.props.repeatNum+=1,n.props.type=t.type,n.handler}const o=we(t,s);return d.push(o),o.handler};R.forEach(e=>{y[e]=(s={},t)=>{const o=M(s);return y({...o,type:e},t)}});function _e(e){for(const s of d)(!e||e===s.props.type)&&s.handler.close()}y.closeAll=_e,y._context=null,I=Qe(y,"$message");function x(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var o in t)e[o]=t[o]}return e}var Be={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function T(e,s){function t(n,l,a){if(!(typeof document>"u")){a=x({},s,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var p in a)!a[p]||(c+="; "+p,a[p]!==!0&&(c+="="+a[p].split(";")[0]));return document.cookie=n+"="+e.write(l,n)+c}}function o(n){if(!(typeof document>"u"||arguments.length&&!n)){for(var l=document.cookie?document.cookie.split("; "):[],a={},c=0;c<l.length;c++){var p=l[c].split("="),m=p.slice(1).join("=");try{var h=decodeURIComponent(p[0]);if(a[h]=e.read(m,h),n===h)break}catch{}}return n?a[n]:a}}return Object.create({set:t,get:o,remove:function(n,l){t(n,"",x({},l,{expires:-1}))},withAttributes:function(n){return T(this.converter,x({},this.attributes,n))},withConverter:function(n){return T(x({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(s)},converter:{value:Object.freeze(e)}})}var Ie=T(Be,{path:"/"});const Te=e=>Ie.get(e),N=Ve.create({baseURL:"/api"});N.interceptors.request.use(e=>{const s=Te("ev-token");return s&&e.headers&&(e.headers.Authorization=`bearer ${s}`),e},e=>e),N.interceptors.response.use(e=>{const{code:s,msg:t}=e.data;return s==0?e.data:(I.error(t),Promise.reject(new Error(t)))},e=>{var t;let s;switch((t=e.response)==null?void 0:t.status){case 401:s="token \u5931\u6548\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55";break;case 403:s="\u6CA1\u6709\u6743\u9650";break;case 404:s="\u8BF7\u6C42\u5730\u5740\u9519\u8BEF";break;case 500:s="\u670D\u52A1\u5668\u9519\u8BEF";break;default:s="\u7F51\u7EDC\u8FDE\u63A5\u6545\u969C"}return I.error(s),Promise.reject(e)});let A;A=e=>new Promise((s,t)=>{N.request(e).then(o=>{s(o)},o=>{t(o)})}),oe=A});export{I as E,tt as __tla,oe as r};
