let withInstall,inject,definePropType,mutable,componentSizes,ElButton,useLocale,useNamespace,watch,isEqual,Fragment,renderList,ElOption,ElSelect,normalizeClass,watchEffect,createCommentVNode,d_arrow_left_default,more_filled_default,d_arrow_right_default,withKeys,arrow_left_default,arrow_right_default,getCurrentInstance,provide,debugWarn,h$2,_export_sfc$2,createStaticVNode,unflat,useSysStore,getDict,resolveDirective,withDirectives,edit_default,view_default,document_copy_default,share_default,delete_default,getCookie,defaultNamespace,nextTick,useTimeoutFn,useSlots,useDeprecated,ElFocusTrap,mergeProps,createSlots,vShow,Transition,Teleport,request,CHANGE_EVENT,isNumber$4,castArray$1,withModifiers,_CollapseTransition,withNoopInstall,lodash,toRefs,ElSwitch,ElColorPicker,useCssVars,resolveComponent,withAsyncContext,flat,axios$3,ElMessage,isFunction$5,onMounted,onBeforeUnmount,addUnit,isRef,throwError$2,computed$1,isClient,hasClass,getScrollBarWidth,getStyle$2,addClass,onScopeDispose,removeClass,NOOP,PatchFlags,renderSlot,FOCUS_TRAP_INJECTION_KEY,normalizeStyle$2,CloseComponents,UPDATE_MODEL_EVENT,isBoolean$2,useZIndex,useId,useGlobalConfig,createVNode$2,getTransitionRawChildren,exportFile,_sfc_main$h,__unplugin_components_5,_sfc_main$9,__unplugin_components_7,__unplugin_components_8,__vitePreload,shallowRef,flattedChildren,isVNode,shallowReadonly,stop$2,toRaw,toRef,triggerRef,camelize,capitalize$1,normalizeProps,toHandlerKey,BaseTransition,Comment,KeepAlive,Static,Suspense,Text$1,callWithAsyncErrorHandling,callWithErrorHandling,cloneVNode,compatUtils,createHydrationRenderer,createPropsRestProxy,createRenderer,defineAsyncComponent,defineEmits,defineExpose,defineProps,devtools,useResizeObserver,capitalize,useDocumentVisibility,useWindowFocus,onUpdated,close_default,EVENT_CODE,plus_default,isUndefined$2,isString$5,computedEager,onUnmounted,EffectScope,ReactiveEffect,customRef,effect,effectScope,getCurrentScope,isProxy,isReactive,isReadonly,isShallow,markRaw,proxyRefs,readonly,shallowReactive,createElementBlock,ElTimePicker,guardReactiveProps,handleError,initCustomFormatter,isMemoSame,isRuntimeOnly,mergeDefaults,onActivated,onBeforeMount,onBeforeUpdate,onDeactivated,withScopeId,TransitionGroup,VueElement,createApp,createSSRApp,defineCustomElement,defineSSRCustomElement,hydrate,initDirectivesForSSR,render$2,useCssModule,vModelCheckbox,vModelDynamic,vModelRadio,vModelSelect,vModelText,defineStore,storeToRefs,ElRadio,ElRadioGroup,_sfc_main$b,getAugmentedNamespace,getDefaultExportFromCjs,commonjsGlobal,ElCheckbox,ElCheckboxGroup$1,ElDatePicker,onErrorCaptured,onRenderTracked,onRenderTriggered,onServerPrefetch,popScopeId,pushScopeId,queuePostFlushCb,registerRuntimeCompiler,resolveFilter,resolveTransitionHooks,setBlockTracking,setDevtoolsHook,setTransitionHooks,ssrContextKey,ssrUtils,toHandlers,transformVNodeArgs,useAttrs$1,useSSRContext,useTransitionState,version,warn$2,watchPostEffect,watchSyncEffect,withDefaults,withMemo,defineComponent,v4$1,createFormSfc,_sfc_main$e,useRouter,createBaseVNode,createTextVNode,reactive,createBlock,ElInput,ElFormItem,ElCol,ElInputNumber,ElRow,openBlock,ElForm,buildProps,ref,iconPropType,computed,unref,toDisplayString,withCtx,resolveDynamicComponent,ElIcon,_export_sfc$1,__tla=(async()=>{(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const $ of document.querySelectorAll('link[rel="modulepreload"]'))r($);new MutationObserver($=>{for(const L of $)if(L.type==="childList")for(const V of L.addedNodes)V.tagName==="LINK"&&V.rel==="modulepreload"&&r(V)}).observe(document,{childList:!0,subtree:!0});function n($){const L={};return $.integrity&&(L.integrity=$.integrity),$.referrerpolicy&&(L.referrerPolicy=$.referrerpolicy),$.crossorigin==="use-credentials"?L.credentials="include":$.crossorigin==="anonymous"?L.credentials="omit":L.credentials="same-origin",L}function r($){if($.ep)return;$.ep=!0;const L=n($);fetch($.href,L)}})();function makeMap(g,n){const r=Object.create(null),$=g.split(",");for(let L=0;L<$.length;L++)r[$[L]]=!0;return n?L=>!!r[L.toLowerCase()]:L=>!!r[L]}const GLOBALS_WHITE_LISTED="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",isGloballyWhitelisted=makeMap(GLOBALS_WHITE_LISTED);normalizeStyle$2=function g(n){if(isArray$9(n)){const r={};for(let $=0;$<n.length;$++){const L=n[$],V=isString$5(L)?parseStringStyle(L):g(L);if(V)for(const oe in V)r[oe]=V[oe]}return r}else if(isString$5(n)||isObject$c(n))return n};const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(g){const n={};return g.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const $=r.split(propertyDelimiterRE);$.length>1&&(n[$[0].trim()]=$[1].trim())}}),n}normalizeClass=function g(n){let r="";if(isString$5(n))r=n;else if(isArray$9(n))for(let $=0;$<n.length;$++){const L=g(n[$]);L&&(r+=L+" ")}else if(isObject$c(n))for(const $ in n)n[$]&&(r+=$+" ");return r.trim()},normalizeProps=function(n){if(!n)return null;let{class:r,style:$}=n;return r&&!isString$5(r)&&(n.class=normalizeClass(r)),$&&(n.style=normalizeStyle$2($)),n};const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(g){return!!g||g===""}function looseCompareArrays(g,n){if(g.length!==n.length)return!1;let r=!0;for(let $=0;r&&$<g.length;$++)r=looseEqual(g[$],n[$]);return r}function looseEqual(g,n){if(g===n)return!0;let r=isDate$2(g),$=isDate$2(n);if(r||$)return r&&$?g.getTime()===n.getTime():!1;if(r=isSymbol$1(g),$=isSymbol$1(n),r||$)return g===n;if(r=isArray$9(g),$=isArray$9(n),r||$)return r&&$?looseCompareArrays(g,n):!1;if(r=isObject$c(g),$=isObject$c(n),r||$){if(!r||!$)return!1;const L=Object.keys(g).length,V=Object.keys(n).length;if(L!==V)return!1;for(const oe in g){const ae=g.hasOwnProperty(oe),re=n.hasOwnProperty(oe);if(ae&&!re||!ae&&re||!looseEqual(g[oe],n[oe]))return!1}}return String(g)===String(n)}function looseIndexOf(g,n){return g.findIndex(r=>looseEqual(r,n))}let replacer,EMPTY_OBJ$2,EMPTY_ARR,NO,onRE,isOn,isModelListener,extend$5,remove$1,hasOwnProperty$e,hasOwn$2,isArray$9,isMap$2,isSet$2,isDate$2,isSymbol$1,isObject$c,isPromise,objectToString$1,toTypeString,toRawType,isPlainObject$3,isIntegerKey,isReservedProp,cacheStringFunction,camelizeRE,hyphenateRE,hyphenate,hasChanged,invokeArrayFns,def,toNumber$1;toDisplayString=g=>isString$5(g)?g:g==null?"":isArray$9(g)||isObject$c(g)&&(g.toString===objectToString$1||!isFunction$5(g.toString))?JSON.stringify(g,replacer,2):String(g),replacer=(g,n)=>n&&n.__v_isRef?replacer(g,n.value):isMap$2(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((r,[$,L])=>(r[`${$} =>`]=L,r),{})}:isSet$2(n)?{[`Set(${n.size})`]:[...n.values()]}:isObject$c(n)&&!isArray$9(n)&&!isPlainObject$3(n)?String(n):n,EMPTY_OBJ$2={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=g=>onRE.test(g),isModelListener=g=>g.startsWith("onUpdate:"),extend$5=Object.assign,remove$1=(g,n)=>{const r=g.indexOf(n);r>-1&&g.splice(r,1)},hasOwnProperty$e=Object.prototype.hasOwnProperty,hasOwn$2=(g,n)=>hasOwnProperty$e.call(g,n),isArray$9=Array.isArray,isMap$2=g=>toTypeString(g)==="[object Map]",isSet$2=g=>toTypeString(g)==="[object Set]",isDate$2=g=>toTypeString(g)==="[object Date]",isFunction$5=g=>typeof g=="function",isString$5=g=>typeof g=="string",isSymbol$1=g=>typeof g=="symbol",isObject$c=g=>g!==null&&typeof g=="object",isPromise=g=>isObject$c(g)&&isFunction$5(g.then)&&isFunction$5(g.catch),objectToString$1=Object.prototype.toString,toTypeString=g=>objectToString$1.call(g),toRawType=g=>toTypeString(g).slice(8,-1),isPlainObject$3=g=>toTypeString(g)==="[object Object]",isIntegerKey=g=>isString$5(g)&&g!=="NaN"&&g[0]!=="-"&&""+parseInt(g,10)===g,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=g=>{const n=Object.create(null);return r=>n[r]||(n[r]=g(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(g=>g.replace(camelizeRE,(n,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(g=>g.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$1=cacheStringFunction(g=>g.charAt(0).toUpperCase()+g.slice(1)),toHandlerKey=cacheStringFunction(g=>g?`on${capitalize$1(g)}`:""),hasChanged=(g,n)=>!Object.is(g,n),invokeArrayFns=(g,n)=>{for(let r=0;r<g.length;r++)g[r](n)},def=(g,n,r)=>{Object.defineProperty(g,n,{configurable:!0,enumerable:!1,value:r})},toNumber$1=g=>{const n=parseFloat(g);return isNaN(n)?g:n};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;EffectScope=class{constructor(n=!1){this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!n&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(n){if(this.active){const r=activeEffectScope;try{return activeEffectScope=this,n()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(n){if(this.active){let r,$;for(r=0,$=this.effects.length;r<$;r++)this.effects[r].stop();for(r=0,$=this.cleanups.length;r<$;r++)this.cleanups[r]();if(this.scopes)for(r=0,$=this.scopes.length;r<$;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!n){const L=this.parent.scopes.pop();L&&L!==this&&(this.parent.scopes[this.index]=L,L.index=this.index)}this.parent=void 0,this.active=!1}}},effectScope=function(n){return new EffectScope(n)};function recordEffectScope(g,n=activeEffectScope){n&&n.active&&n.effects.push(g)}getCurrentScope=function(){return activeEffectScope},onScopeDispose=function(n){activeEffectScope&&activeEffectScope.cleanups.push(n)};const createDep=g=>{const n=new Set(g);return n.w=0,n.n=0,n},wasTracked=g=>(g.w&trackOpBit)>0,newTracked=g=>(g.n&trackOpBit)>0,initDepMarkers=({deps:g})=>{if(g.length)for(let n=0;n<g.length;n++)g[n].w|=trackOpBit},finalizeDepMarkers=g=>{const{deps:n}=g;if(n.length){let r=0;for(let $=0;$<n.length;$++){const L=n[$];wasTracked(L)&&!newTracked(L)?L.delete(g):n[r++]=L,L.w&=~trackOpBit,L.n&=~trackOpBit}n.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");ReactiveEffect=class{constructor(n,r=null,$){this.fn=n,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,$)}run(){if(!this.active)return this.fn();let n=activeEffect,r=shouldTrack;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}};function cleanupEffect(g){const{deps:n}=g;if(n.length){for(let r=0;r<n.length;r++)n[r].delete(g);n.length=0}}effect=function(n,r){n.effect&&(n=n.effect.fn);const $=new ReactiveEffect(n);r&&(extend$5($,r),r.scope&&recordEffectScope($,r.scope)),(!r||!r.lazy)&&$.run();const L=$.run.bind($);return L.effect=$,L},stop$2=function(n){n.effect.stop()};let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const g=trackStack.pop();shouldTrack=g===void 0?!0:g}function track(g,n,r){if(shouldTrack&&activeEffect){let $=targetMap.get(g);$||targetMap.set(g,$=new Map);let L=$.get(r);L||$.set(r,L=createDep()),trackEffects(L)}}function trackEffects(g,n){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(g)||(g.n|=trackOpBit,r=!wasTracked(g)):r=!g.has(activeEffect),r&&(g.add(activeEffect),activeEffect.deps.push(g))}function trigger$4(g,n,r,$,L,V){const oe=targetMap.get(g);if(!oe)return;let ae=[];if(n==="clear")ae=[...oe.values()];else if(r==="length"&&isArray$9(g)){const re=toNumber$1($);oe.forEach((le,ue)=>{(ue==="length"||ue>=re)&&ae.push(le)})}else switch(r!==void 0&&ae.push(oe.get(r)),n){case"add":isArray$9(g)?isIntegerKey(r)&&ae.push(oe.get("length")):(ae.push(oe.get(ITERATE_KEY)),isMap$2(g)&&ae.push(oe.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$9(g)||(ae.push(oe.get(ITERATE_KEY)),isMap$2(g)&&ae.push(oe.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$2(g)&&ae.push(oe.get(ITERATE_KEY));break}if(ae.length===1)ae[0]&&triggerEffects(ae[0]);else{const re=[];for(const le of ae)le&&re.push(...le);triggerEffects(createDep(re))}}function triggerEffects(g,n){const r=isArray$9(g)?g:[...g];for(const $ of r)$.computed&&triggerEffect($);for(const $ of r)$.computed||triggerEffect($)}function triggerEffect(g,n){(g!==activeEffect||g.allowRecurse)&&(g.scheduler?g.scheduler():g.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(g=>g!=="arguments"&&g!=="caller").map(g=>Symbol[g]).filter(isSymbol$1)),get$3=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),shallowReadonlyGet=createGetter(!0,!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const g={};return["includes","indexOf","lastIndexOf"].forEach(n=>{g[n]=function(...r){const $=toRaw(this);for(let V=0,oe=this.length;V<oe;V++)track($,"get",V+"");const L=$[n](...r);return L===-1||L===!1?$[n](...r.map(toRaw)):L}}),["push","pop","shift","unshift","splice"].forEach(n=>{g[n]=function(...r){pauseTracking();const $=toRaw(this)[n].apply(this,r);return resetTracking(),$}}),g}function createGetter(g=!1,n=!1){return function(r,$,L){if($==="__v_isReactive")return!g;if($==="__v_isReadonly")return g;if($==="__v_isShallow")return n;if($==="__v_raw"&&L===(g?n?shallowReadonlyMap:readonlyMap:n?shallowReactiveMap:reactiveMap).get(r))return r;const V=isArray$9(r);if(!g&&V&&hasOwn$2(arrayInstrumentations,$))return Reflect.get(arrayInstrumentations,$,L);const oe=Reflect.get(r,$,L);return(isSymbol$1($)?builtInSymbols.has($):isNonTrackableKeys($))||(g||track(r,"get",$),n)?oe:isRef(oe)?V&&isIntegerKey($)?oe:oe.value:isObject$c(oe)?g?readonly(oe):reactive(oe):oe}}const set$5=createSetter(),shallowSet=createSetter(!0);function createSetter(g=!1){return function(n,r,$,L){let V=n[r];if(isReadonly(V)&&isRef(V)&&!isRef($))return!1;if(!g&&(!isShallow($)&&!isReadonly($)&&(V=toRaw(V),$=toRaw($)),!isArray$9(n)&&isRef(V)&&!isRef($)))return V.value=$,!0;const oe=isArray$9(n)&&isIntegerKey(r)?Number(r)<n.length:hasOwn$2(n,r),ae=Reflect.set(n,r,$,L);return n===toRaw(L)&&(oe?hasChanged($,V)&&trigger$4(n,"set",r,$):trigger$4(n,"add",r,$)),ae}}function deleteProperty(g,n){const r=hasOwn$2(g,n);g[n];const $=Reflect.deleteProperty(g,n);return $&&r&&trigger$4(g,"delete",n,void 0),$}function has$4(g,n){const r=Reflect.has(g,n);return(!isSymbol$1(n)||!builtInSymbols.has(n))&&track(g,"has",n),r}function ownKeys(g){return track(g,"iterate",isArray$9(g)?"length":ITERATE_KEY),Reflect.ownKeys(g)}const mutableHandlers={get:get$3,set:set$5,deleteProperty,has:has$4,ownKeys},readonlyHandlers={get:readonlyGet,set(g,n){return!0},deleteProperty(g,n){return!0}},shallowReactiveHandlers=extend$5({},mutableHandlers,{get:shallowGet,set:shallowSet}),shallowReadonlyHandlers=extend$5({},readonlyHandlers,{get:shallowReadonlyGet}),toShallow=g=>g,getProto=g=>Reflect.getPrototypeOf(g);function get$1$1(g,n,r=!1,$=!1){g=g.__v_raw;const L=toRaw(g),V=toRaw(n);r||(n!==V&&track(L,"get",n),track(L,"get",V));const{has:oe}=getProto(L),ae=$?toShallow:r?toReadonly:toReactive;if(oe.call(L,n))return ae(g.get(n));if(oe.call(L,V))return ae(g.get(V));g!==L&&g.get(n)}function has$1$1(g,n=!1){const r=this.__v_raw,$=toRaw(r),L=toRaw(g);return n||(g!==L&&track($,"has",g),track($,"has",L)),g===L?r.has(g):r.has(g)||r.has(L)}function size(g,n=!1){return g=g.__v_raw,!n&&track(toRaw(g),"iterate",ITERATE_KEY),Reflect.get(g,"size",g)}function add$3(g){g=toRaw(g);const n=toRaw(this);return getProto(n).has.call(n,g)||(n.add(g),trigger$4(n,"add",g,g)),this}function set$1$1(g,n){n=toRaw(n);const r=toRaw(this),{has:$,get:L}=getProto(r);let V=$.call(r,g);V||(g=toRaw(g),V=$.call(r,g));const oe=L.call(r,g);return r.set(g,n),V?hasChanged(n,oe)&&trigger$4(r,"set",g,n):trigger$4(r,"add",g,n),this}function deleteEntry(g){const n=toRaw(this),{has:r,get:$}=getProto(n);let L=r.call(n,g);L||(g=toRaw(g),L=r.call(n,g)),$&&$.call(n,g);const V=n.delete(g);return L&&trigger$4(n,"delete",g,void 0),V}function clear$4(){const g=toRaw(this),n=g.size!==0,r=g.clear();return n&&trigger$4(g,"clear",void 0,void 0),r}function createForEach(g,n){return function(r,$){const L=this,V=L.__v_raw,oe=toRaw(V),ae=n?toShallow:g?toReadonly:toReactive;return!g&&track(oe,"iterate",ITERATE_KEY),V.forEach((re,le)=>r.call($,ae(re),ae(le),L))}}function createIterableMethod(g,n,r){return function(...$){const L=this.__v_raw,V=toRaw(L),oe=isMap$2(V),ae=g==="entries"||g===Symbol.iterator&&oe,re=g==="keys"&&oe,le=L[g](...$),ue=r?toShallow:n?toReadonly:toReactive;return!n&&track(V,"iterate",re?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:de,done:he}=le.next();return he?{value:de,done:he}:{value:ae?[ue(de[0]),ue(de[1])]:ue(de),done:he}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(g){return function(...n){return g==="delete"?!1:this}}function createInstrumentations(){const g={get(L){return get$1$1(this,L)},get size(){return size(this)},has:has$1$1,add:add$3,set:set$1$1,delete:deleteEntry,clear:clear$4,forEach:createForEach(!1,!1)},n={get(L){return get$1$1(this,L,!1,!0)},get size(){return size(this)},has:has$1$1,add:add$3,set:set$1$1,delete:deleteEntry,clear:clear$4,forEach:createForEach(!1,!0)},r={get(L){return get$1$1(this,L,!0)},get size(){return size(this,!0)},has(L){return has$1$1.call(this,L,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},$={get(L){return get$1$1(this,L,!0,!0)},get size(){return size(this,!0)},has(L){return has$1$1.call(this,L,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(L=>{g[L]=createIterableMethod(L,!1,!1),r[L]=createIterableMethod(L,!0,!1),n[L]=createIterableMethod(L,!1,!0),$[L]=createIterableMethod(L,!0,!0)}),[g,r,n,$]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(g,n){const r=n?g?shallowReadonlyInstrumentations:shallowInstrumentations:g?readonlyInstrumentations:mutableInstrumentations;return($,L,V)=>L==="__v_isReactive"?!g:L==="__v_isReadonly"?g:L==="__v_raw"?$:Reflect.get(hasOwn$2(r,L)&&L in $?r:$,L,V)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(g){switch(g){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(g){return g.__v_skip||!Object.isExtensible(g)?0:targetTypeMap(toRawType(g))}reactive=function(n){return isReadonly(n)?n:createReactiveObject(n,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)},shallowReactive=function(n){return createReactiveObject(n,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)},readonly=function(n){return createReactiveObject(n,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)},shallowReadonly=function(n){return createReactiveObject(n,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)};function createReactiveObject(g,n,r,$,L){if(!isObject$c(g)||g.__v_raw&&!(n&&g.__v_isReactive))return g;const V=L.get(g);if(V)return V;const oe=getTargetType(g);if(oe===0)return g;const ae=new Proxy(g,oe===2?$:r);return L.set(g,ae),ae}isReactive=function g(n){return isReadonly(n)?g(n.__v_raw):!!(n&&n.__v_isReactive)},isReadonly=function(n){return!!(n&&n.__v_isReadonly)},isShallow=function(n){return!!(n&&n.__v_isShallow)},isProxy=function(n){return isReactive(n)||isReadonly(n)},toRaw=function g(n){const r=n&&n.__v_raw;return r?g(r):n},markRaw=function(n){return def(n,"__v_skip",!0),n};const toReactive=g=>isObject$c(g)?reactive(g):g,toReadonly=g=>isObject$c(g)?readonly(g):g;function trackRefValue(g){shouldTrack&&activeEffect&&(g=toRaw(g),trackEffects(g.dep||(g.dep=createDep())))}function triggerRefValue(g,n){g=toRaw(g),g.dep&&triggerEffects(g.dep)}isRef=function(n){return!!(n&&n.__v_isRef===!0)},ref=function(n){return createRef(n,!1)},shallowRef=function(n){return createRef(n,!0)};function createRef(g,n){return isRef(g)?g:new RefImpl(g,n)}class RefImpl{constructor(n,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?n:toRaw(n),this._value=r?n:toReactive(n)}get value(){return trackRefValue(this),this._value}set value(n){const r=this.__v_isShallow||isShallow(n)||isReadonly(n);n=r?n:toRaw(n),hasChanged(n,this._rawValue)&&(this._rawValue=n,this._value=r?n:toReactive(n),triggerRefValue(this))}}triggerRef=function(n){triggerRefValue(n)},unref=function(n){return isRef(n)?n.value:n};const shallowUnwrapHandlers={get:(g,n,r)=>unref(Reflect.get(g,n,r)),set:(g,n,r,$)=>{const L=g[n];return isRef(L)&&!isRef(r)?(L.value=r,!0):Reflect.set(g,n,r,$)}};proxyRefs=function(n){return isReactive(n)?n:new Proxy(n,shallowUnwrapHandlers)};class CustomRefImpl{constructor(n){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:$}=n(()=>trackRefValue(this),()=>triggerRefValue(this));this._get=r,this._set=$}get value(){return this._get()}set value(n){this._set(n)}}customRef=function(n){return new CustomRefImpl(n)},toRefs=function(n){const r=isArray$9(n)?new Array(n.length):{};for(const $ in n)r[$]=toRef(n,$);return r};class ObjectRefImpl{constructor(n,r,$){this._object=n,this._key=r,this._defaultValue=$,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}}toRef=function(n,r,$){const L=n[r];return isRef(L)?L:new ObjectRefImpl(n,r,$)};var _a$4;class ComputedRefImpl{constructor(n,r,$,L){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[_a$4]=!1,this._dirty=!0,this.effect=new ReactiveEffect(n,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!L,this.__v_isReadonly=$}get value(){const n=toRaw(this);return trackRefValue(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}_a$4="__v_isReadonly",computed$1=function(n,r,$=!1){let L,V;const oe=isFunction$5(n);return oe?(L=n,V=NOOP):(L=n.get,V=n.set),new ComputedRefImpl(L,V,oe||!V,$)},warn$2=function(n,...r){},callWithErrorHandling=function(n,r,$,L){let V;try{V=L?n(...L):n()}catch(oe){handleError(oe,r,$)}return V},callWithAsyncErrorHandling=function g(n,r,$,L){if(isFunction$5(n)){const oe=callWithErrorHandling(n,r,$,L);return oe&&isPromise(oe)&&oe.catch(ae=>{handleError(ae,r,$)}),oe}const V=[];for(let oe=0;oe<n.length;oe++)V.push(g(n[oe],r,$,L));return V},handleError=function(n,r,$,L=!0){const V=r?r.vnode:null;if(r){let oe=r.parent;const ae=r.proxy,re=$;for(;oe;){const ue=oe.ec;if(ue){for(let de=0;de<ue.length;de++)if(ue[de](n,ae,re)===!1)return}oe=oe.parent}const le=r.appContext.config.errorHandler;if(le){callWithErrorHandling(le,null,10,[n,ae,re]);return}}logError$2(n,$,V,L)};function logError$2(g,n,r,$=!0){console.error(g)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;nextTick=function(n){const r=currentFlushPromise||resolvedPromise;return n?r.then(this?n.bind(this):n):r};function findInsertionIndex(g){let n=flushIndex+1,r=queue.length;for(;n<r;){const $=n+r>>>1;getId$2(queue[$])<g?n=$+1:r=$}return n}function queueJob(g){(!queue.length||!queue.includes(g,isFlushing&&g.allowRecurse?flushIndex+1:flushIndex))&&(g.id==null?queue.push(g):queue.splice(findInsertionIndex(g.id),0,g),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(g){const n=queue.indexOf(g);n>flushIndex&&queue.splice(n,1)}queuePostFlushCb=function(n){isArray$9(n)?pendingPostFlushCbs.push(...n):(!activePostFlushCbs||!activePostFlushCbs.includes(n,n.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(n),queueFlush()};function flushPreFlushCbs(g,n=isFlushing?flushIndex+1:0){for(;n<queue.length;n++){const r=queue[n];r&&r.pre&&(queue.splice(n,1),n--,r())}}function flushPostFlushCbs(g){if(pendingPostFlushCbs.length){const n=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...n);return}for(activePostFlushCbs=n,activePostFlushCbs.sort((r,$)=>getId$2(r)-getId$2($)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId$2=g=>g.id==null?1/0:g.id,comparator=(g,n)=>{const r=getId$2(g)-getId$2(n);if(r===0){if(g.pre&&!n.pre)return-1;if(n.pre&&!g.pre)return 1}return r};function flushJobs(g){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const n=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];r&&r.active!==!1&&callWithErrorHandling(r,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let buffer;buffer=[],setDevtoolsHook=function g(n,r){var $,L;devtools=n,devtools?(devtools.enabled=!0,buffer.forEach(({event:V,args:oe})=>devtools.emit(V,...oe)),buffer=[]):typeof window<"u"&&window.HTMLElement&&!(!((L=($=window.navigator)===null||$===void 0?void 0:$.userAgent)===null||L===void 0)&&L.includes("jsdom"))?((r.__VUE_DEVTOOLS_HOOK_REPLAY__=r.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(V=>{g(V,r)}),setTimeout(()=>{devtools||(r.__VUE_DEVTOOLS_HOOK_REPLAY__=null,buffer=[])},3e3)):buffer=[]};function emit$1(g,n,...r){if(g.isUnmounted)return;const $=g.vnode.props||EMPTY_OBJ$2;let L=r;const V=n.startsWith("update:"),oe=V&&n.slice(7);if(oe&&oe in $){const ue=`${oe==="modelValue"?"model":oe}Modifiers`,{number:de,trim:he}=$[ue]||EMPTY_OBJ$2;he&&(L=r.map(pe=>isString$5(pe)?pe.trim():pe)),de&&(L=r.map(toNumber$1))}let ae,re=$[ae=toHandlerKey(n)]||$[ae=toHandlerKey(camelize(n))];!re&&V&&(re=$[ae=toHandlerKey(hyphenate(n))]),re&&callWithAsyncErrorHandling(re,g,6,L);const le=$[ae+"Once"];if(le){if(!g.emitted)g.emitted={};else if(g.emitted[ae])return;g.emitted[ae]=!0,callWithAsyncErrorHandling(le,g,6,L)}}function normalizeEmitsOptions(g,n,r=!1){const $=n.emitsCache,L=$.get(g);if(L!==void 0)return L;const V=g.emits;let oe={},ae=!1;if(!isFunction$5(g)){const re=le=>{const ue=normalizeEmitsOptions(le,n,!0);ue&&(ae=!0,extend$5(oe,ue))};!r&&n.mixins.length&&n.mixins.forEach(re),g.extends&&re(g.extends),g.mixins&&g.mixins.forEach(re)}return!V&&!ae?(isObject$c(g)&&$.set(g,null),null):(isArray$9(V)?V.forEach(re=>oe[re]=null):extend$5(oe,V),isObject$c(g)&&$.set(g,oe),oe)}function isEmitListener(g,n){return!g||!isOn(n)?!1:(n=n.slice(2).replace(/Once$/,""),hasOwn$2(g,n[0].toLowerCase()+n.slice(1))||hasOwn$2(g,hyphenate(n))||hasOwn$2(g,n))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(g){const n=currentRenderingInstance;return currentRenderingInstance=g,currentScopeId=g&&g.type.__scopeId||null,n}pushScopeId=function(n){currentScopeId=n},popScopeId=function(){currentScopeId=null},withScopeId=g=>withCtx,withCtx=function(n,r=currentRenderingInstance,$){if(!r||n._n)return n;const L=(...V)=>{L._d&&setBlockTracking(-1);const oe=setCurrentRenderingInstance(r);let ae;try{ae=n(...V)}finally{setCurrentRenderingInstance(oe),L._d&&setBlockTracking(1)}return ae};return L._n=!0,L._c=!0,L._d=!0,L};function markAttrsAccessed(){}function renderComponentRoot(g){const{type:n,vnode:r,proxy:$,withProxy:L,props:V,propsOptions:[oe],slots:ae,attrs:re,emit:le,render:ue,renderCache:de,data:he,setupState:pe,ctx:_e,inheritAttrs:$e}=g;let xe,Oe;const Ce=setCurrentRenderingInstance(g);try{if(r.shapeFlag&4){const Ne=L||$;xe=normalizeVNode(ue.call(Ne,Ne,de,V,pe,he,_e)),Oe=re}else{const Ne=n;xe=normalizeVNode(Ne.length>1?Ne(V,{attrs:re,slots:ae,emit:le}):Ne(V,null)),Oe=n.props?re:getFunctionalFallthrough(re)}}catch(Ne){blockStack.length=0,handleError(Ne,g,1),xe=createVNode$2(Comment)}let Ie=xe;if(Oe&&$e!==!1){const Ne=Object.keys(Oe),{shapeFlag:ze}=Ie;Ne.length&&ze&7&&(oe&&Ne.some(isModelListener)&&(Oe=filterModelListeners(Oe,oe)),Ie=cloneVNode(Ie,Oe))}return r.dirs&&(Ie=cloneVNode(Ie),Ie.dirs=Ie.dirs?Ie.dirs.concat(r.dirs):r.dirs),r.transition&&(Ie.transition=r.transition),xe=Ie,setCurrentRenderingInstance(Ce),xe}function filterSingleRoot(g){let n;for(let r=0;r<g.length;r++){const $=g[r];if(isVNode($)){if($.type!==Comment||$.children==="v-if"){if(n)return;n=$}}else return}return n}const getFunctionalFallthrough=g=>{let n;for(const r in g)(r==="class"||r==="style"||isOn(r))&&((n||(n={}))[r]=g[r]);return n},filterModelListeners=(g,n)=>{const r={};for(const $ in g)(!isModelListener($)||!($.slice(9)in n))&&(r[$]=g[$]);return r};function shouldUpdateComponent(g,n,r){const{props:$,children:L,component:V}=g,{props:oe,children:ae,patchFlag:re}=n,le=V.emitsOptions;if(n.dirs||n.transition)return!0;if(r&&re>=0){if(re&1024)return!0;if(re&16)return $?hasPropsChanged($,oe,le):!!oe;if(re&8){const ue=n.dynamicProps;for(let de=0;de<ue.length;de++){const he=ue[de];if(oe[he]!==$[he]&&!isEmitListener(le,he))return!0}}}else return(L||ae)&&(!ae||!ae.$stable)?!0:$===oe?!1:$?oe?hasPropsChanged($,oe,le):!0:!!oe;return!1}function hasPropsChanged(g,n,r){const $=Object.keys(n);if($.length!==Object.keys(g).length)return!0;for(let L=0;L<$.length;L++){const V=$[L];if(n[V]!==g[V]&&!isEmitListener(r,V))return!0}return!1}function updateHOCHostEl({vnode:g,parent:n},r){for(;n&&n.subTree===g;)(g=n.vnode).el=r,n=n.parent}let isSuspense,SuspenseImpl;isSuspense=g=>g.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(g,n,r,$,L,V,oe,ae,re,le){g==null?mountSuspense(n,r,$,L,V,oe,ae,re,le):patchSuspense(g,n,r,$,L,oe,ae,re,le)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent$1(g,n){const r=g.props&&g.props[n];isFunction$5(r)&&r()}function mountSuspense(g,n,r,$,L,V,oe,ae,re){const{p:le,o:{createElement:ue}}=re,de=ue("div"),he=g.suspense=createSuspenseBoundary(g,L,$,n,de,r,V,oe,ae,re);le(null,he.pendingBranch=g.ssContent,de,null,$,he,V,oe),he.deps>0?(triggerEvent$1(g,"onPending"),triggerEvent$1(g,"onFallback"),le(null,g.ssFallback,n,r,$,null,V,oe),setActiveBranch(he,g.ssFallback)):he.resolve()}function patchSuspense(g,n,r,$,L,V,oe,ae,{p:re,um:le,o:{createElement:ue}}){const de=n.suspense=g.suspense;de.vnode=n,n.el=g.el;const he=n.ssContent,pe=n.ssFallback,{activeBranch:_e,pendingBranch:$e,isInFallback:xe,isHydrating:Oe}=de;if($e)de.pendingBranch=he,isSameVNodeType(he,$e)?(re($e,he,de.hiddenContainer,null,L,de,V,oe,ae),de.deps<=0?de.resolve():xe&&(re(_e,pe,r,$,L,null,V,oe,ae),setActiveBranch(de,pe))):(de.pendingId++,Oe?(de.isHydrating=!1,de.activeBranch=$e):le($e,L,de),de.deps=0,de.effects.length=0,de.hiddenContainer=ue("div"),xe?(re(null,he,de.hiddenContainer,null,L,de,V,oe,ae),de.deps<=0?de.resolve():(re(_e,pe,r,$,L,null,V,oe,ae),setActiveBranch(de,pe))):_e&&isSameVNodeType(he,_e)?(re(_e,he,r,$,L,de,V,oe,ae),de.resolve(!0)):(re(null,he,de.hiddenContainer,null,L,de,V,oe,ae),de.deps<=0&&de.resolve()));else if(_e&&isSameVNodeType(he,_e))re(_e,he,r,$,L,de,V,oe,ae),setActiveBranch(de,he);else if(triggerEvent$1(n,"onPending"),de.pendingBranch=he,de.pendingId++,re(null,he,de.hiddenContainer,null,L,de,V,oe,ae),de.deps<=0)de.resolve();else{const{timeout:Ce,pendingId:Ie}=de;Ce>0?setTimeout(()=>{de.pendingId===Ie&&de.fallback(pe)},Ce):Ce===0&&de.fallback(pe)}}function createSuspenseBoundary(g,n,r,$,L,V,oe,ae,re,le,ue=!1){const{p:de,m:he,um:pe,n:_e,o:{parentNode:$e,remove:xe}}=le,Oe=toNumber$1(g.props&&g.props.timeout),Ce={vnode:g,parent:n,parentComponent:r,isSVG:oe,container:$,hiddenContainer:L,anchor:V,deps:0,pendingId:0,timeout:typeof Oe=="number"?Oe:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:ue,isUnmounted:!1,effects:[],resolve(Ie=!1){const{vnode:Ne,activeBranch:ze,pendingBranch:Fe,pendingId:Ue,effects:At,parentComponent:Et,container:Pt}=Ce;if(Ce.isHydrating)Ce.isHydrating=!1;else if(!Ie){const Lt=ze&&Fe.transition&&Fe.transition.mode==="out-in";Lt&&(ze.transition.afterLeave=()=>{Ue===Ce.pendingId&&he(Fe,Pt,hn,0)});let{anchor:hn}=Ce;ze&&(hn=_e(ze),pe(ze,Et,Ce,!0)),Lt||he(Fe,Pt,hn,0)}setActiveBranch(Ce,Fe),Ce.pendingBranch=null,Ce.isInFallback=!1;let kt=Ce.parent,Dt=!1;for(;kt;){if(kt.pendingBranch){kt.effects.push(...At),Dt=!0;break}kt=kt.parent}Dt||queuePostFlushCb(At),Ce.effects=[],triggerEvent$1(Ne,"onResolve")},fallback(Ie){if(!Ce.pendingBranch)return;const{vnode:Ne,activeBranch:ze,parentComponent:Fe,container:Ue,isSVG:At}=Ce;triggerEvent$1(Ne,"onFallback");const Et=_e(ze),Pt=()=>{!Ce.isInFallback||(de(null,Ie,Ue,Et,Fe,null,At,ae,re),setActiveBranch(Ce,Ie))},kt=Ie.transition&&Ie.transition.mode==="out-in";kt&&(ze.transition.afterLeave=Pt),Ce.isInFallback=!0,pe(ze,Fe,null,!0),kt||Pt()},move(Ie,Ne,ze){Ce.activeBranch&&he(Ce.activeBranch,Ie,Ne,ze),Ce.container=Ie},next(){return Ce.activeBranch&&_e(Ce.activeBranch)},registerDep(Ie,Ne){const ze=!!Ce.pendingBranch;ze&&Ce.deps++;const Fe=Ie.vnode.el;Ie.asyncDep.catch(Ue=>{handleError(Ue,Ie,0)}).then(Ue=>{if(Ie.isUnmounted||Ce.isUnmounted||Ce.pendingId!==Ie.suspenseId)return;Ie.asyncResolved=!0;const{vnode:At}=Ie;handleSetupResult(Ie,Ue,!1),Fe&&(At.el=Fe);const Et=!Fe&&Ie.subTree.el;Ne(Ie,At,$e(Fe||Ie.subTree.el),Fe?null:_e(Ie.subTree),Ce,oe,re),Et&&xe(Et),updateHOCHostEl(Ie,At.el),ze&&--Ce.deps===0&&Ce.resolve()})},unmount(Ie,Ne){Ce.isUnmounted=!0,Ce.activeBranch&&pe(Ce.activeBranch,r,Ie,Ne),Ce.pendingBranch&&pe(Ce.pendingBranch,r,Ie,Ne)}};return Ce}function hydrateSuspense(g,n,r,$,L,V,oe,ae,re){const le=n.suspense=createSuspenseBoundary(n,$,r,g.parentNode,document.createElement("div"),null,L,V,oe,ae,!0),ue=re(g,le.pendingBranch=n.ssContent,r,le,V,oe);return le.deps===0&&le.resolve(),ue}function normalizeSuspenseChildren(g){const{shapeFlag:n,children:r}=g,$=n&32;g.ssContent=normalizeSuspenseSlot($?r.default:r),g.ssFallback=$?normalizeSuspenseSlot(r.fallback):createVNode$2(Comment)}function normalizeSuspenseSlot(g){let n;if(isFunction$5(g)){const r=isBlockTreeEnabled&&g._c;r&&(g._d=!1,openBlock()),g=g(),r&&(g._d=!0,n=currentBlock,closeBlock())}return isArray$9(g)&&(g=filterSingleRoot(g)),g=normalizeVNode(g),n&&!g.dynamicChildren&&(g.dynamicChildren=n.filter(r=>r!==g)),g}function queueEffectWithSuspense(g,n){n&&n.pendingBranch?isArray$9(g)?n.effects.push(...g):n.effects.push(g):queuePostFlushCb(g)}function setActiveBranch(g,n){g.activeBranch=n;const{vnode:r,parentComponent:$}=g,L=r.el=n.el;$&&$.subTree===r&&($.vnode.el=L,updateHOCHostEl($,L))}provide=function(n,r){if(currentInstance){let $=currentInstance.provides;const L=currentInstance.parent&&currentInstance.parent.provides;L===$&&($=currentInstance.provides=Object.create(L)),$[n]=r}},inject=function(n,r,$=!1){const L=currentInstance||currentRenderingInstance;if(L){const V=L.parent==null?L.vnode.appContext&&L.vnode.appContext.provides:L.parent.provides;if(V&&n in V)return V[n];if(arguments.length>1)return $&&isFunction$5(r)?r.call(L.proxy):r}},watchEffect=function(n,r){return doWatch(n,null,r)},watchPostEffect=function(n,r){return doWatch(n,null,{flush:"post"})},watchSyncEffect=function(n,r){return doWatch(n,null,{flush:"sync"})};const INITIAL_WATCHER_VALUE={};watch=function(n,r,$){return doWatch(n,r,$)};function doWatch(g,n,{immediate:r,deep:$,flush:L,onTrack:V,onTrigger:oe}=EMPTY_OBJ$2){const ae=currentInstance;let re,le=!1,ue=!1;if(isRef(g)?(re=()=>g.value,le=isShallow(g)):isReactive(g)?(re=()=>g,$=!0):isArray$9(g)?(ue=!0,le=g.some(Ie=>isReactive(Ie)||isShallow(Ie)),re=()=>g.map(Ie=>{if(isRef(Ie))return Ie.value;if(isReactive(Ie))return traverse(Ie);if(isFunction$5(Ie))return callWithErrorHandling(Ie,ae,2)})):isFunction$5(g)?n?re=()=>callWithErrorHandling(g,ae,2):re=()=>{if(!(ae&&ae.isUnmounted))return de&&de(),callWithAsyncErrorHandling(g,ae,3,[he])}:re=NOOP,n&&$){const Ie=re;re=()=>traverse(Ie())}let de,he=Ie=>{de=Oe.onStop=()=>{callWithErrorHandling(Ie,ae,4)}},pe;if(isInSSRComponentSetup)if(he=NOOP,n?r&&callWithAsyncErrorHandling(n,ae,3,[re(),ue?[]:void 0,he]):re(),L==="sync"){const Ie=useSSRContext();pe=Ie.__watcherHandles||(Ie.__watcherHandles=[])}else return NOOP;let _e=ue?new Array(g.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const $e=()=>{if(Oe.active)if(n){const Ie=Oe.run();($||le||(ue?Ie.some((Ne,ze)=>hasChanged(Ne,_e[ze])):hasChanged(Ie,_e)))&&(de&&de(),callWithAsyncErrorHandling(n,ae,3,[Ie,_e===INITIAL_WATCHER_VALUE?void 0:ue&&_e[0]===INITIAL_WATCHER_VALUE?[]:_e,he]),_e=Ie)}else Oe.run()};$e.allowRecurse=!!n;let xe;L==="sync"?xe=$e:L==="post"?xe=()=>queuePostRenderEffect($e,ae&&ae.suspense):($e.pre=!0,ae&&($e.id=ae.uid),xe=()=>queueJob($e));const Oe=new ReactiveEffect(re,xe);n?r?$e():_e=Oe.run():L==="post"?queuePostRenderEffect(Oe.run.bind(Oe),ae&&ae.suspense):Oe.run();const Ce=()=>{Oe.stop(),ae&&ae.scope&&remove$1(ae.scope.effects,Oe)};return pe&&pe.push(Ce),Ce}function instanceWatch(g,n,r){const $=this.proxy,L=isString$5(g)?g.includes(".")?createPathGetter($,g):()=>$[g]:g.bind($,$);let V;isFunction$5(n)?V=n:(V=n.handler,r=n);const oe=currentInstance;setCurrentInstance(this);const ae=doWatch(L,V.bind($),r);return oe?setCurrentInstance(oe):unsetCurrentInstance(),ae}function createPathGetter(g,n){const r=n.split(".");return()=>{let $=g;for(let L=0;L<r.length&&$;L++)$=$[r[L]];return $}}function traverse(g,n){if(!isObject$c(g)||g.__v_skip||(n=n||new Set,n.has(g)))return g;if(n.add(g),isRef(g))traverse(g.value,n);else if(isArray$9(g))for(let r=0;r<g.length;r++)traverse(g[r],n);else if(isSet$2(g)||isMap$2(g))g.forEach(r=>{traverse(r,n)});else if(isPlainObject$3(g))for(const r in g)traverse(g[r],n);return g}useTransitionState=function(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{n.isMounted=!0}),onBeforeUnmount(()=>{n.isUnmounting=!0}),n};let TransitionHookValidator,BaseTransitionImpl;TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(g,{slots:n}){const r=getCurrentInstance(),$=useTransitionState();let L;return()=>{const V=n.default&&getTransitionRawChildren(n.default(),!0);if(!V||!V.length)return;let oe=V[0];if(V.length>1){for(const $e of V)if($e.type!==Comment){oe=$e;break}}const ae=toRaw(g),{mode:re}=ae;if($.isLeaving)return emptyPlaceholder(oe);const le=getKeepAliveChild(oe);if(!le)return emptyPlaceholder(oe);const ue=resolveTransitionHooks(le,ae,$,r);setTransitionHooks(le,ue);const de=r.subTree,he=de&&getKeepAliveChild(de);let pe=!1;const{getTransitionKey:_e}=le.type;if(_e){const $e=_e();L===void 0?L=$e:$e!==L&&(L=$e,pe=!0)}if(he&&he.type!==Comment&&(!isSameVNodeType(le,he)||pe)){const $e=resolveTransitionHooks(he,ae,$,r);if(setTransitionHooks(he,$e),re==="out-in")return $.isLeaving=!0,$e.afterLeave=()=>{$.isLeaving=!1,r.update.active!==!1&&r.update()},emptyPlaceholder(oe);re==="in-out"&&le.type!==Comment&&($e.delayLeave=(xe,Oe,Ce)=>{const Ie=getLeavingNodesForType($,he);Ie[String(he.key)]=he,xe._leaveCb=()=>{Oe(),xe._leaveCb=void 0,delete ue.delayedLeave},ue.delayedLeave=Ce})}return oe}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(g,n){const{leavingVNodes:r}=g;let $=r.get(n.type);return $||($=Object.create(null),r.set(n.type,$)),$}resolveTransitionHooks=function g(n,r,$,L){const{appear:V,mode:oe,persisted:ae=!1,onBeforeEnter:re,onEnter:le,onAfterEnter:ue,onEnterCancelled:de,onBeforeLeave:he,onLeave:pe,onAfterLeave:_e,onLeaveCancelled:$e,onBeforeAppear:xe,onAppear:Oe,onAfterAppear:Ce,onAppearCancelled:Ie}=r,Ne=String(n.key),ze=getLeavingNodesForType($,n),Fe=(Et,Pt)=>{Et&&callWithAsyncErrorHandling(Et,L,9,Pt)},Ue=(Et,Pt)=>{const kt=Pt[1];Fe(Et,Pt),isArray$9(Et)?Et.every(Dt=>Dt.length<=1)&&kt():Et.length<=1&&kt()},At={mode:oe,persisted:ae,beforeEnter(Et){let Pt=re;if(!$.isMounted)if(V)Pt=xe||re;else return;Et._leaveCb&&Et._leaveCb(!0);const kt=ze[Ne];kt&&isSameVNodeType(n,kt)&&kt.el._leaveCb&&kt.el._leaveCb(),Fe(Pt,[Et])},enter(Et){let Pt=le,kt=ue,Dt=de;if(!$.isMounted)if(V)Pt=Oe||le,kt=Ce||ue,Dt=Ie||de;else return;let Lt=!1;const hn=Et._enterCb=vn=>{Lt||(Lt=!0,vn?Fe(Dt,[Et]):Fe(kt,[Et]),At.delayedLeave&&At.delayedLeave(),Et._enterCb=void 0)};Pt?Ue(Pt,[Et,hn]):hn()},leave(Et,Pt){const kt=String(n.key);if(Et._enterCb&&Et._enterCb(!0),$.isUnmounting)return Pt();Fe(he,[Et]);let Dt=!1;const Lt=Et._leaveCb=hn=>{Dt||(Dt=!0,Pt(),hn?Fe($e,[Et]):Fe(_e,[Et]),Et._leaveCb=void 0,ze[kt]===n&&delete ze[kt])};ze[kt]=n,pe?Ue(pe,[Et,Lt]):Lt()},clone(Et){return g(Et,r,$,L)}};return At};function emptyPlaceholder(g){if(isKeepAlive(g))return g=cloneVNode(g),g.children=null,g}function getKeepAliveChild(g){return isKeepAlive(g)?g.children?g.children[0]:void 0:g}setTransitionHooks=function g(n,r){n.shapeFlag&6&&n.component?g(n.component.subTree,r):n.shapeFlag&128?(n.ssContent.transition=r.clone(n.ssContent),n.ssFallback.transition=r.clone(n.ssFallback)):n.transition=r},getTransitionRawChildren=function g(n,r=!1,$){let L=[],V=0;for(let oe=0;oe<n.length;oe++){let ae=n[oe];const re=$==null?ae.key:String($)+String(ae.key!=null?ae.key:oe);ae.type===Fragment?(ae.patchFlag&128&&V++,L=L.concat(g(ae.children,r,re))):(r||ae.type!==Comment)&&L.push(re!=null?cloneVNode(ae,{key:re}):ae)}if(V>1)for(let oe=0;oe<L.length;oe++)L[oe].patchFlag=-2;return L},defineComponent=function(n){return isFunction$5(n)?{setup:n,name:n.name}:n};const isAsyncWrapper=g=>!!g.type.__asyncLoader;defineAsyncComponent=function(n){isFunction$5(n)&&(n={loader:n});const{loader:r,loadingComponent:$,errorComponent:L,delay:V=200,timeout:oe,suspensible:ae=!0,onError:re}=n;let le=null,ue,de=0;const he=()=>(de++,le=null,pe()),pe=()=>{let _e;return le||(_e=le=r().catch($e=>{if($e=$e instanceof Error?$e:new Error(String($e)),re)return new Promise((xe,Oe)=>{re($e,()=>xe(he()),()=>Oe($e),de+1)});throw $e}).then($e=>_e!==le&&le?le:($e&&($e.__esModule||$e[Symbol.toStringTag]==="Module")&&($e=$e.default),ue=$e,$e)))};return defineComponent({name:"AsyncComponentWrapper",__asyncLoader:pe,get __asyncResolved(){return ue},setup(){const _e=currentInstance;if(ue)return()=>createInnerComp(ue,_e);const $e=Ie=>{le=null,handleError(Ie,_e,13,!L)};if(ae&&_e.suspense||isInSSRComponentSetup)return pe().then(Ie=>()=>createInnerComp(Ie,_e)).catch(Ie=>($e(Ie),()=>L?createVNode$2(L,{error:Ie}):null));const xe=ref(!1),Oe=ref(),Ce=ref(!!V);return V&&setTimeout(()=>{Ce.value=!1},V),oe!=null&&setTimeout(()=>{if(!xe.value&&!Oe.value){const Ie=new Error(`Async component timed out after ${oe}ms.`);$e(Ie),Oe.value=Ie}},oe),pe().then(()=>{xe.value=!0,_e.parent&&isKeepAlive(_e.parent.vnode)&&queueJob(_e.parent.update)}).catch(Ie=>{$e(Ie),Oe.value=Ie}),()=>{if(xe.value&&ue)return createInnerComp(ue,_e);if(Oe.value&&L)return createVNode$2(L,{error:Oe.value});if($&&!Ce.value)return createVNode$2($)}}})};function createInnerComp(g,n){const{ref:r,props:$,children:L,ce:V}=n.vnode,oe=createVNode$2(g,$,L);return oe.ref=r,oe.ce=V,delete n.vnode.ce,oe}let isKeepAlive,KeepAliveImpl;isKeepAlive=g=>g.type.__isKeepAlive,KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(g,{slots:n}){const r=getCurrentInstance(),$=r.ctx;if(!$.renderer)return()=>{const Ce=n.default&&n.default();return Ce&&Ce.length===1?Ce[0]:Ce};const L=new Map,V=new Set;let oe=null;const ae=r.suspense,{renderer:{p:re,m:le,um:ue,o:{createElement:de}}}=$,he=de("div");$.activate=(Ce,Ie,Ne,ze,Fe)=>{const Ue=Ce.component;le(Ce,Ie,Ne,0,ae),re(Ue.vnode,Ce,Ie,Ne,Ue,ae,ze,Ce.slotScopeIds,Fe),queuePostRenderEffect(()=>{Ue.isDeactivated=!1,Ue.a&&invokeArrayFns(Ue.a);const At=Ce.props&&Ce.props.onVnodeMounted;At&&invokeVNodeHook(At,Ue.parent,Ce)},ae)},$.deactivate=Ce=>{const Ie=Ce.component;le(Ce,he,null,1,ae),queuePostRenderEffect(()=>{Ie.da&&invokeArrayFns(Ie.da);const Ne=Ce.props&&Ce.props.onVnodeUnmounted;Ne&&invokeVNodeHook(Ne,Ie.parent,Ce),Ie.isDeactivated=!0},ae)};function pe(Ce){resetShapeFlag(Ce),ue(Ce,r,ae,!0)}function _e(Ce){L.forEach((Ie,Ne)=>{const ze=getComponentName(Ie.type);ze&&(!Ce||!Ce(ze))&&$e(Ne)})}function $e(Ce){const Ie=L.get(Ce);!oe||Ie.type!==oe.type?pe(Ie):oe&&resetShapeFlag(oe),L.delete(Ce),V.delete(Ce)}watch(()=>[g.include,g.exclude],([Ce,Ie])=>{Ce&&_e(Ne=>matches(Ce,Ne)),Ie&&_e(Ne=>!matches(Ie,Ne))},{flush:"post",deep:!0});let xe=null;const Oe=()=>{xe!=null&&L.set(xe,getInnerChild(r.subTree))};return onMounted(Oe),onUpdated(Oe),onBeforeUnmount(()=>{L.forEach(Ce=>{const{subTree:Ie,suspense:Ne}=r,ze=getInnerChild(Ie);if(Ce.type===ze.type){resetShapeFlag(ze);const Fe=ze.component.da;Fe&&queuePostRenderEffect(Fe,Ne);return}pe(Ce)})}),()=>{if(xe=null,!n.default)return null;const Ce=n.default(),Ie=Ce[0];if(Ce.length>1)return oe=null,Ce;if(!isVNode(Ie)||!(Ie.shapeFlag&4)&&!(Ie.shapeFlag&128))return oe=null,Ie;let Ne=getInnerChild(Ie);const ze=Ne.type,Fe=getComponentName(isAsyncWrapper(Ne)?Ne.type.__asyncResolved||{}:ze),{include:Ue,exclude:At,max:Et}=g;if(Ue&&(!Fe||!matches(Ue,Fe))||At&&Fe&&matches(At,Fe))return oe=Ne,Ie;const Pt=Ne.key==null?ze:Ne.key,kt=L.get(Pt);return Ne.el&&(Ne=cloneVNode(Ne),Ie.shapeFlag&128&&(Ie.ssContent=Ne)),xe=Pt,kt?(Ne.el=kt.el,Ne.component=kt.component,Ne.transition&&setTransitionHooks(Ne,Ne.transition),Ne.shapeFlag|=512,V.delete(Pt),V.add(Pt)):(V.add(Pt),Et&&V.size>parseInt(Et,10)&&$e(V.values().next().value)),Ne.shapeFlag|=256,oe=Ne,isSuspense(Ie.type)?Ie:Ne}}},KeepAlive=KeepAliveImpl;function matches(g,n){return isArray$9(g)?g.some(r=>matches(r,n)):isString$5(g)?g.split(",").includes(n):g.test?g.test(n):!1}onActivated=function(n,r){registerKeepAliveHook(n,"a",r)},onDeactivated=function(n,r){registerKeepAliveHook(n,"da",r)};function registerKeepAliveHook(g,n,r=currentInstance){const $=g.__wdc||(g.__wdc=()=>{let L=r;for(;L;){if(L.isDeactivated)return;L=L.parent}return g()});if(injectHook(n,$,r),r){let L=r.parent;for(;L&&L.parent;)isKeepAlive(L.parent.vnode)&&injectToKeepAliveRoot($,n,r,L),L=L.parent}}function injectToKeepAliveRoot(g,n,r,$){const L=injectHook(n,g,$,!0);onUnmounted(()=>{remove$1($[n],L)},r)}function resetShapeFlag(g){g.shapeFlag&=-257,g.shapeFlag&=-513}function getInnerChild(g){return g.shapeFlag&128?g.ssContent:g}function injectHook(g,n,r=currentInstance,$=!1){if(r){const L=r[g]||(r[g]=[]),V=n.__weh||(n.__weh=(...oe)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const ae=callWithAsyncErrorHandling(n,r,g,oe);return unsetCurrentInstance(),resetTracking(),ae});return $?L.unshift(V):L.push(V),V}}let createHook;createHook=g=>(n,r=currentInstance)=>(!isInSSRComponentSetup||g==="sp")&&injectHook(g,(...$)=>n(...$),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc"),onErrorCaptured=function(n,r=currentInstance){injectHook("ec",n,r)},withDirectives=function(n,r){const $=currentRenderingInstance;if($===null)return n;const L=getExposeProxy($)||$.proxy,V=n.dirs||(n.dirs=[]);for(let oe=0;oe<r.length;oe++){let[ae,re,le,ue=EMPTY_OBJ$2]=r[oe];ae&&(isFunction$5(ae)&&(ae={mounted:ae,updated:ae}),ae.deep&&traverse(re),V.push({dir:ae,instance:L,value:re,oldValue:void 0,arg:le,modifiers:ue}))}return n};function invokeDirectiveHook(g,n,r,$){const L=g.dirs,V=n&&n.dirs;for(let oe=0;oe<L.length;oe++){const ae=L[oe];V&&(ae.oldValue=V[oe].value);let re=ae.dir[$];re&&(pauseTracking(),callWithAsyncErrorHandling(re,r,8,[g.el,ae,g,n]),resetTracking())}}const COMPONENTS="components",DIRECTIVES="directives";resolveComponent=function(n,r){return resolveAsset(COMPONENTS,n,!0,r)||n};const NULL_DYNAMIC_COMPONENT=Symbol();resolveDynamicComponent=function(n){return isString$5(n)?resolveAsset(COMPONENTS,n,!1)||n:n||NULL_DYNAMIC_COMPONENT},resolveDirective=function(n){return resolveAsset(DIRECTIVES,n)};function resolveAsset(g,n,r=!0,$=!1){const L=currentRenderingInstance||currentInstance;if(L){const V=L.type;if(g===COMPONENTS){const ae=getComponentName(V,!1);if(ae&&(ae===n||ae===camelize(n)||ae===capitalize$1(camelize(n))))return V}const oe=resolve(L[g]||V[g],n)||resolve(L.appContext[g],n);return!oe&&$?V:oe}}function resolve(g,n){return g&&(g[n]||g[camelize(n)]||g[capitalize$1(camelize(n))])}renderList=function(n,r,$,L){let V;const oe=$&&$[L];if(isArray$9(n)||isString$5(n)){V=new Array(n.length);for(let ae=0,re=n.length;ae<re;ae++)V[ae]=r(n[ae],ae,void 0,oe&&oe[ae])}else if(typeof n=="number"){V=new Array(n);for(let ae=0;ae<n;ae++)V[ae]=r(ae+1,ae,void 0,oe&&oe[ae])}else if(isObject$c(n))if(n[Symbol.iterator])V=Array.from(n,(ae,re)=>r(ae,re,void 0,oe&&oe[re]));else{const ae=Object.keys(n);V=new Array(ae.length);for(let re=0,le=ae.length;re<le;re++){const ue=ae[re];V[re]=r(n[ue],ue,re,oe&&oe[re])}}else V=[];return $&&($[L]=V),V},createSlots=function(n,r){for(let $=0;$<r.length;$++){const L=r[$];if(isArray$9(L))for(let V=0;V<L.length;V++)n[L[V].name]=L[V].fn;else L&&(n[L.name]=L.key?(...V)=>{const oe=L.fn(...V);return oe&&(oe.key=L.key),oe}:L.fn)}return n},renderSlot=function(n,r,$={},L,V){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return r!=="default"&&($.name=r),createVNode$2("slot",$,L&&L());let oe=n[r];oe&&oe._c&&(oe._d=!1),openBlock();const ae=oe&&ensureValidVNode(oe($)),re=createBlock(Fragment,{key:$.key||ae&&ae.key||`_${r}`},ae||(L?L():[]),ae&&n._===1?64:-2);return!V&&re.scopeId&&(re.slotScopeIds=[re.scopeId+"-s"]),oe&&oe._c&&(oe._d=!0),re};function ensureValidVNode(g){return g.some(n=>isVNode(n)?!(n.type===Comment||n.type===Fragment&&!ensureValidVNode(n.children)):!0)?g:null}toHandlers=function(n,r){const $={};for(const L in n)$[r&&/[A-Z]/.test(L)?`on:${L}`:toHandlerKey(L)]=n[L];return $};const getPublicInstance=g=>g?isStatefulComponent(g)?getExposeProxy(g)||g.proxy:getPublicInstance(g.parent):null,publicPropertiesMap=extend$5(Object.create(null),{$:g=>g,$el:g=>g.vnode.el,$data:g=>g.data,$props:g=>g.props,$attrs:g=>g.attrs,$slots:g=>g.slots,$refs:g=>g.refs,$parent:g=>getPublicInstance(g.parent),$root:g=>getPublicInstance(g.root),$emit:g=>g.emit,$options:g=>resolveMergedOptions(g),$forceUpdate:g=>g.f||(g.f=()=>queueJob(g.update)),$nextTick:g=>g.n||(g.n=nextTick.bind(g.proxy)),$watch:g=>instanceWatch.bind(g)}),hasSetupBinding=(g,n)=>g!==EMPTY_OBJ$2&&!g.__isScriptSetup&&hasOwn$2(g,n),PublicInstanceProxyHandlers={get({_:g},n){const{ctx:r,setupState:$,data:L,props:V,accessCache:oe,type:ae,appContext:re}=g;let le;if(n[0]!=="$"){const pe=oe[n];if(pe!==void 0)switch(pe){case 1:return $[n];case 2:return L[n];case 4:return r[n];case 3:return V[n]}else{if(hasSetupBinding($,n))return oe[n]=1,$[n];if(L!==EMPTY_OBJ$2&&hasOwn$2(L,n))return oe[n]=2,L[n];if((le=g.propsOptions[0])&&hasOwn$2(le,n))return oe[n]=3,V[n];if(r!==EMPTY_OBJ$2&&hasOwn$2(r,n))return oe[n]=4,r[n];shouldCacheAccess&&(oe[n]=0)}}const ue=publicPropertiesMap[n];let de,he;if(ue)return n==="$attrs"&&track(g,"get",n),ue(g);if((de=ae.__cssModules)&&(de=de[n]))return de;if(r!==EMPTY_OBJ$2&&hasOwn$2(r,n))return oe[n]=4,r[n];if(he=re.config.globalProperties,hasOwn$2(he,n))return he[n]},set({_:g},n,r){const{data:$,setupState:L,ctx:V}=g;return hasSetupBinding(L,n)?(L[n]=r,!0):$!==EMPTY_OBJ$2&&hasOwn$2($,n)?($[n]=r,!0):hasOwn$2(g.props,n)||n[0]==="$"&&n.slice(1)in g?!1:(V[n]=r,!0)},has({_:{data:g,setupState:n,accessCache:r,ctx:$,appContext:L,propsOptions:V}},oe){let ae;return!!r[oe]||g!==EMPTY_OBJ$2&&hasOwn$2(g,oe)||hasSetupBinding(n,oe)||(ae=V[0])&&hasOwn$2(ae,oe)||hasOwn$2($,oe)||hasOwn$2(publicPropertiesMap,oe)||hasOwn$2(L.config.globalProperties,oe)},defineProperty(g,n,r){return r.get!=null?g._.accessCache[n]=0:hasOwn$2(r,"value")&&this.set(g,n,r.value,null),Reflect.defineProperty(g,n,r)}},RuntimeCompiledPublicInstanceProxyHandlers=extend$5({},PublicInstanceProxyHandlers,{get(g,n){if(n!==Symbol.unscopables)return PublicInstanceProxyHandlers.get(g,n,g)},has(g,n){return n[0]!=="_"&&!isGloballyWhitelisted(n)}});let shouldCacheAccess=!0;function applyOptions(g){const n=resolveMergedOptions(g),r=g.proxy,$=g.ctx;shouldCacheAccess=!1,n.beforeCreate&&callHook$1(n.beforeCreate,g,"bc");const{data:L,computed:V,methods:oe,watch:ae,provide:re,inject:le,created:ue,beforeMount:de,mounted:he,beforeUpdate:pe,updated:_e,activated:$e,deactivated:xe,beforeDestroy:Oe,beforeUnmount:Ce,destroyed:Ie,unmounted:Ne,render:ze,renderTracked:Fe,renderTriggered:Ue,errorCaptured:At,serverPrefetch:Et,expose:Pt,inheritAttrs:kt,components:Dt,directives:Lt,filters:hn}=n;if(le&&resolveInjections(le,$,null,g.appContext.config.unwrapInjectedRef),oe)for(const _n in oe){const $n=oe[_n];isFunction$5($n)&&($[_n]=$n.bind(r))}if(L){const _n=L.call(r,r);isObject$c(_n)&&(g.data=reactive(_n))}if(shouldCacheAccess=!0,V)for(const _n in V){const $n=V[_n],Sn=isFunction$5($n)?$n.bind(r,r):isFunction$5($n.get)?$n.get.bind(r,r):NOOP,xn=!isFunction$5($n)&&isFunction$5($n.set)?$n.set.bind(r):NOOP,On=computed({get:Sn,set:xn});Object.defineProperty($,_n,{enumerable:!0,configurable:!0,get:()=>On.value,set:Cn=>On.value=Cn})}if(ae)for(const _n in ae)createWatcher(ae[_n],$,r,_n);if(re){const _n=isFunction$5(re)?re.call(r):re;Reflect.ownKeys(_n).forEach($n=>{provide($n,_n[$n])})}ue&&callHook$1(ue,g,"c");function vn(_n,$n){isArray$9($n)?$n.forEach(Sn=>_n(Sn.bind(r))):$n&&_n($n.bind(r))}if(vn(onBeforeMount,de),vn(onMounted,he),vn(onBeforeUpdate,pe),vn(onUpdated,_e),vn(onActivated,$e),vn(onDeactivated,xe),vn(onErrorCaptured,At),vn(onRenderTracked,Fe),vn(onRenderTriggered,Ue),vn(onBeforeUnmount,Ce),vn(onUnmounted,Ne),vn(onServerPrefetch,Et),isArray$9(Pt))if(Pt.length){const _n=g.exposed||(g.exposed={});Pt.forEach($n=>{Object.defineProperty(_n,$n,{get:()=>r[$n],set:Sn=>r[$n]=Sn})})}else g.exposed||(g.exposed={});ze&&g.render===NOOP&&(g.render=ze),kt!=null&&(g.inheritAttrs=kt),Dt&&(g.components=Dt),Lt&&(g.directives=Lt)}function resolveInjections(g,n,r=NOOP,$=!1){isArray$9(g)&&(g=normalizeInject(g));for(const L in g){const V=g[L];let oe;isObject$c(V)?"default"in V?oe=inject(V.from||L,V.default,!0):oe=inject(V.from||L):oe=inject(V),isRef(oe)&&$?Object.defineProperty(n,L,{enumerable:!0,configurable:!0,get:()=>oe.value,set:ae=>oe.value=ae}):n[L]=oe}}function callHook$1(g,n,r){callWithAsyncErrorHandling(isArray$9(g)?g.map($=>$.bind(n.proxy)):g.bind(n.proxy),n,r)}function createWatcher(g,n,r,$){const L=$.includes(".")?createPathGetter(r,$):()=>r[$];if(isString$5(g)){const V=n[g];isFunction$5(V)&&watch(L,V)}else if(isFunction$5(g))watch(L,g.bind(r));else if(isObject$c(g))if(isArray$9(g))g.forEach(V=>createWatcher(V,n,r,$));else{const V=isFunction$5(g.handler)?g.handler.bind(r):n[g.handler];isFunction$5(V)&&watch(L,V,g)}}function resolveMergedOptions(g){const n=g.type,{mixins:r,extends:$}=n,{mixins:L,optionsCache:V,config:{optionMergeStrategies:oe}}=g.appContext,ae=V.get(n);let re;return ae?re=ae:!L.length&&!r&&!$?re=n:(re={},L.length&&L.forEach(le=>mergeOptions$2(re,le,oe,!0)),mergeOptions$2(re,n,oe)),isObject$c(n)&&V.set(n,re),re}function mergeOptions$2(g,n,r,$=!1){const{mixins:L,extends:V}=n;V&&mergeOptions$2(g,V,r,!0),L&&L.forEach(oe=>mergeOptions$2(g,oe,r,!0));for(const oe in n)if(!($&&oe==="expose")){const ae=internalOptionMergeStrats[oe]||r&&r[oe];g[oe]=ae?ae(g[oe],n[oe]):n[oe]}return g}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(g,n){return n?g?function(){return extend$5(isFunction$5(g)?g.call(this,this):g,isFunction$5(n)?n.call(this,this):n)}:n:g}function mergeInject(g,n){return mergeObjectOptions(normalizeInject(g),normalizeInject(n))}function normalizeInject(g){if(isArray$9(g)){const n={};for(let r=0;r<g.length;r++)n[g[r]]=g[r];return n}return g}function mergeAsArray(g,n){return g?[...new Set([].concat(g,n))]:n}function mergeObjectOptions(g,n){return g?extend$5(extend$5(Object.create(null),g),n):n}function mergeWatchOptions(g,n){if(!g)return n;if(!n)return g;const r=extend$5(Object.create(null),g);for(const $ in n)r[$]=mergeAsArray(g[$],n[$]);return r}function initProps$2(g,n,r,$=!1){const L={},V={};def(V,InternalObjectKey,1),g.propsDefaults=Object.create(null),setFullProps(g,n,L,V);for(const oe in g.propsOptions[0])oe in L||(L[oe]=void 0);r?g.props=$?L:shallowReactive(L):g.type.props?g.props=L:g.props=V,g.attrs=V}function updateProps$4(g,n,r,$){const{props:L,attrs:V,vnode:{patchFlag:oe}}=g,ae=toRaw(L),[re]=g.propsOptions;let le=!1;if(($||oe>0)&&!(oe&16)){if(oe&8){const ue=g.vnode.dynamicProps;for(let de=0;de<ue.length;de++){let he=ue[de];if(isEmitListener(g.emitsOptions,he))continue;const pe=n[he];if(re)if(hasOwn$2(V,he))pe!==V[he]&&(V[he]=pe,le=!0);else{const _e=camelize(he);L[_e]=resolvePropValue(re,ae,_e,pe,g,!1)}else pe!==V[he]&&(V[he]=pe,le=!0)}}}else{setFullProps(g,n,L,V)&&(le=!0);let ue;for(const de in ae)(!n||!hasOwn$2(n,de)&&((ue=hyphenate(de))===de||!hasOwn$2(n,ue)))&&(re?r&&(r[de]!==void 0||r[ue]!==void 0)&&(L[de]=resolvePropValue(re,ae,de,void 0,g,!0)):delete L[de]);if(V!==ae)for(const de in V)(!n||!hasOwn$2(n,de)&&!0)&&(delete V[de],le=!0)}le&&trigger$4(g,"set","$attrs")}function setFullProps(g,n,r,$){const[L,V]=g.propsOptions;let oe=!1,ae;if(n)for(let re in n){if(isReservedProp(re))continue;const le=n[re];let ue;L&&hasOwn$2(L,ue=camelize(re))?!V||!V.includes(ue)?r[ue]=le:(ae||(ae={}))[ue]=le:isEmitListener(g.emitsOptions,re)||(!(re in $)||le!==$[re])&&($[re]=le,oe=!0)}if(V){const re=toRaw(r),le=ae||EMPTY_OBJ$2;for(let ue=0;ue<V.length;ue++){const de=V[ue];r[de]=resolvePropValue(L,re,de,le[de],g,!hasOwn$2(le,de))}}return oe}function resolvePropValue(g,n,r,$,L,V){const oe=g[r];if(oe!=null){const ae=hasOwn$2(oe,"default");if(ae&&$===void 0){const re=oe.default;if(oe.type!==Function&&isFunction$5(re)){const{propsDefaults:le}=L;r in le?$=le[r]:(setCurrentInstance(L),$=le[r]=re.call(null,n),unsetCurrentInstance())}else $=re}oe[0]&&(V&&!ae?$=!1:oe[1]&&($===""||$===hyphenate(r))&&($=!0))}return $}function normalizePropsOptions(g,n,r=!1){const $=n.propsCache,L=$.get(g);if(L)return L;const V=g.props,oe={},ae=[];let re=!1;if(!isFunction$5(g)){const ue=de=>{re=!0;const[he,pe]=normalizePropsOptions(de,n,!0);extend$5(oe,he),pe&&ae.push(...pe)};!r&&n.mixins.length&&n.mixins.forEach(ue),g.extends&&ue(g.extends),g.mixins&&g.mixins.forEach(ue)}if(!V&&!re)return isObject$c(g)&&$.set(g,EMPTY_ARR),EMPTY_ARR;if(isArray$9(V))for(let ue=0;ue<V.length;ue++){const de=camelize(V[ue]);validatePropName(de)&&(oe[de]=EMPTY_OBJ$2)}else if(V)for(const ue in V){const de=camelize(ue);if(validatePropName(de)){const he=V[ue],pe=oe[de]=isArray$9(he)||isFunction$5(he)?{type:he}:Object.assign({},he);if(pe){const _e=getTypeIndex(Boolean,pe.type),$e=getTypeIndex(String,pe.type);pe[0]=_e>-1,pe[1]=$e<0||_e<$e,(_e>-1||hasOwn$2(pe,"default"))&&ae.push(de)}}}const le=[oe,ae];return isObject$c(g)&&$.set(g,le),le}function validatePropName(g){return g[0]!=="$"}function getType(g){const n=g&&g.toString().match(/^\s*function (\w+)/);return n?n[1]:g===null?"null":""}function isSameType(g,n){return getType(g)===getType(n)}function getTypeIndex(g,n){return isArray$9(n)?n.findIndex(r=>isSameType(r,g)):isFunction$5(n)&&isSameType(n,g)?0:-1}const isInternalKey=g=>g[0]==="_"||g==="$stable",normalizeSlotValue=g=>isArray$9(g)?g.map(normalizeVNode):[normalizeVNode(g)],normalizeSlot$1=(g,n,r)=>{if(n._n)return n;const $=withCtx((...L)=>normalizeSlotValue(n(...L)),r);return $._c=!1,$},normalizeObjectSlots=(g,n,r)=>{const $=g._ctx;for(const L in g){if(isInternalKey(L))continue;const V=g[L];if(isFunction$5(V))n[L]=normalizeSlot$1(L,V,$);else if(V!=null){const oe=normalizeSlotValue(V);n[L]=()=>oe}}},normalizeVNodeSlots=(g,n)=>{const r=normalizeSlotValue(n);g.slots.default=()=>r},initSlots=(g,n)=>{if(g.vnode.shapeFlag&32){const r=n._;r?(g.slots=toRaw(n),def(n,"_",r)):normalizeObjectSlots(n,g.slots={})}else g.slots={},n&&normalizeVNodeSlots(g,n);def(g.slots,InternalObjectKey,1)},updateSlots=(g,n,r)=>{const{vnode:$,slots:L}=g;let V=!0,oe=EMPTY_OBJ$2;if($.shapeFlag&32){const ae=n._;ae?r&&ae===1?V=!1:(extend$5(L,n),!r&&ae===1&&delete L._):(V=!n.$stable,normalizeObjectSlots(n,L)),oe=n}else n&&(normalizeVNodeSlots(g,n),oe={default:1});if(V)for(const ae in L)!isInternalKey(ae)&&!(ae in oe)&&delete L[ae]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(g,n){return function(r,$=null){isFunction$5(r)||(r=Object.assign({},r)),$!=null&&!isObject$c($)&&($=null);const L=createAppContext(),V=new Set;let oe=!1;const ae=L.app={_uid:uid++,_component:r,_props:$,_container:null,_context:L,_instance:null,version,get config(){return L.config},set config(re){},use(re,...le){return V.has(re)||(re&&isFunction$5(re.install)?(V.add(re),re.install(ae,...le)):isFunction$5(re)&&(V.add(re),re(ae,...le))),ae},mixin(re){return L.mixins.includes(re)||L.mixins.push(re),ae},component(re,le){return le?(L.components[re]=le,ae):L.components[re]},directive(re,le){return le?(L.directives[re]=le,ae):L.directives[re]},mount(re,le,ue){if(!oe){const de=createVNode$2(r,$);return de.appContext=L,le&&n?n(de,re):g(de,re,ue),oe=!0,ae._container=re,re.__vue_app__=ae,getExposeProxy(de.component)||de.component.proxy}},unmount(){oe&&(g(null,ae._container),delete ae._container.__vue_app__)},provide(re,le){return L.provides[re]=le,ae}};return ae}}function setRef(g,n,r,$,L=!1){if(isArray$9(g)){g.forEach((he,pe)=>setRef(he,n&&(isArray$9(n)?n[pe]:n),r,$,L));return}if(isAsyncWrapper($)&&!L)return;const V=$.shapeFlag&4?getExposeProxy($.component)||$.component.proxy:$.el,oe=L?null:V,{i:ae,r:re}=g,le=n&&n.r,ue=ae.refs===EMPTY_OBJ$2?ae.refs={}:ae.refs,de=ae.setupState;if(le!=null&&le!==re&&(isString$5(le)?(ue[le]=null,hasOwn$2(de,le)&&(de[le]=null)):isRef(le)&&(le.value=null)),isFunction$5(re))callWithErrorHandling(re,ae,12,[oe,ue]);else{const he=isString$5(re),pe=isRef(re);if(he||pe){const _e=()=>{if(g.f){const $e=he?hasOwn$2(de,re)?de[re]:ue[re]:re.value;L?isArray$9($e)&&remove$1($e,V):isArray$9($e)?$e.includes(V)||$e.push(V):he?(ue[re]=[V],hasOwn$2(de,re)&&(de[re]=ue[re])):(re.value=[V],g.k&&(ue[g.k]=re.value))}else he?(ue[re]=oe,hasOwn$2(de,re)&&(de[re]=oe)):pe&&(re.value=oe,g.k&&(ue[g.k]=oe))};oe?(_e.id=-1,queuePostRenderEffect(_e,r)):_e()}}}let hasMismatch=!1;const isSVGContainer=g=>/svg/.test(g.namespaceURI)&&g.tagName!=="foreignObject",isComment=g=>g.nodeType===8;function createHydrationFunctions(g){const{mt:n,p:r,o:{patchProp:$,createText:L,nextSibling:V,parentNode:oe,remove:ae,insert:re,createComment:le}}=g,ue=(Oe,Ce)=>{if(!Ce.hasChildNodes()){r(null,Oe,Ce),flushPostFlushCbs(),Ce._vnode=Oe;return}hasMismatch=!1,de(Ce.firstChild,Oe,null,null,null),flushPostFlushCbs(),Ce._vnode=Oe,hasMismatch&&console.error("Hydration completed but contains mismatches.")},de=(Oe,Ce,Ie,Ne,ze,Fe=!1)=>{const Ue=isComment(Oe)&&Oe.data==="[",At=()=>$e(Oe,Ce,Ie,Ne,ze,Ue),{type:Et,ref:Pt,shapeFlag:kt,patchFlag:Dt}=Ce;let Lt=Oe.nodeType;Ce.el=Oe,Dt===-2&&(Fe=!1,Ce.dynamicChildren=null);let hn=null;switch(Et){case Text$1:Lt!==3?Ce.children===""?(re(Ce.el=L(""),oe(Oe),Oe),hn=Oe):hn=At():(Oe.data!==Ce.children&&(hasMismatch=!0,Oe.data=Ce.children),hn=V(Oe));break;case Comment:Lt!==8||Ue?hn=At():hn=V(Oe);break;case Static:if(Ue&&(Oe=V(Oe),Lt=Oe.nodeType),Lt===1||Lt===3){hn=Oe;const vn=!Ce.children.length;for(let _n=0;_n<Ce.staticCount;_n++)vn&&(Ce.children+=hn.nodeType===1?hn.outerHTML:hn.data),_n===Ce.staticCount-1&&(Ce.anchor=hn),hn=V(hn);return Ue?V(hn):hn}else At();break;case Fragment:Ue?hn=_e(Oe,Ce,Ie,Ne,ze,Fe):hn=At();break;default:if(kt&1)Lt!==1||Ce.type.toLowerCase()!==Oe.tagName.toLowerCase()?hn=At():hn=he(Oe,Ce,Ie,Ne,ze,Fe);else if(kt&6){Ce.slotScopeIds=ze;const vn=oe(Oe);if(n(Ce,vn,null,Ie,Ne,isSVGContainer(vn),Fe),hn=Ue?xe(Oe):V(Oe),hn&&isComment(hn)&&hn.data==="teleport end"&&(hn=V(hn)),isAsyncWrapper(Ce)){let _n;Ue?(_n=createVNode$2(Fragment),_n.anchor=hn?hn.previousSibling:vn.lastChild):_n=Oe.nodeType===3?createTextVNode(""):createVNode$2("div"),_n.el=Oe,Ce.component.subTree=_n}}else kt&64?Lt!==8?hn=At():hn=Ce.type.hydrate(Oe,Ce,Ie,Ne,ze,Fe,g,pe):kt&128&&(hn=Ce.type.hydrate(Oe,Ce,Ie,Ne,isSVGContainer(oe(Oe)),ze,Fe,g,de))}return Pt!=null&&setRef(Pt,null,Ne,Ce),hn},he=(Oe,Ce,Ie,Ne,ze,Fe)=>{Fe=Fe||!!Ce.dynamicChildren;const{type:Ue,props:At,patchFlag:Et,shapeFlag:Pt,dirs:kt}=Ce,Dt=Ue==="input"&&kt||Ue==="option";if(Dt||Et!==-1){if(kt&&invokeDirectiveHook(Ce,null,Ie,"created"),At)if(Dt||!Fe||Et&48)for(const hn in At)(Dt&&hn.endsWith("value")||isOn(hn)&&!isReservedProp(hn))&&$(Oe,hn,null,At[hn],!1,void 0,Ie);else At.onClick&&$(Oe,"onClick",null,At.onClick,!1,void 0,Ie);let Lt;if((Lt=At&&At.onVnodeBeforeMount)&&invokeVNodeHook(Lt,Ie,Ce),kt&&invokeDirectiveHook(Ce,null,Ie,"beforeMount"),((Lt=At&&At.onVnodeMounted)||kt)&&queueEffectWithSuspense(()=>{Lt&&invokeVNodeHook(Lt,Ie,Ce),kt&&invokeDirectiveHook(Ce,null,Ie,"mounted")},Ne),Pt&16&&!(At&&(At.innerHTML||At.textContent))){let hn=pe(Oe.firstChild,Ce,Oe,Ie,Ne,ze,Fe);for(;hn;){hasMismatch=!0;const vn=hn;hn=hn.nextSibling,ae(vn)}}else Pt&8&&Oe.textContent!==Ce.children&&(hasMismatch=!0,Oe.textContent=Ce.children)}return Oe.nextSibling},pe=(Oe,Ce,Ie,Ne,ze,Fe,Ue)=>{Ue=Ue||!!Ce.dynamicChildren;const At=Ce.children,Et=At.length;for(let Pt=0;Pt<Et;Pt++){const kt=Ue?At[Pt]:At[Pt]=normalizeVNode(At[Pt]);if(Oe)Oe=de(Oe,kt,Ne,ze,Fe,Ue);else{if(kt.type===Text$1&&!kt.children)continue;hasMismatch=!0,r(null,kt,Ie,null,Ne,ze,isSVGContainer(Ie),Fe)}}return Oe},_e=(Oe,Ce,Ie,Ne,ze,Fe)=>{const{slotScopeIds:Ue}=Ce;Ue&&(ze=ze?ze.concat(Ue):Ue);const At=oe(Oe),Et=pe(V(Oe),Ce,At,Ie,Ne,ze,Fe);return Et&&isComment(Et)&&Et.data==="]"?V(Ce.anchor=Et):(hasMismatch=!0,re(Ce.anchor=le("]"),At,Et),Et)},$e=(Oe,Ce,Ie,Ne,ze,Fe)=>{if(hasMismatch=!0,Ce.el=null,Fe){const Et=xe(Oe);for(;;){const Pt=V(Oe);if(Pt&&Pt!==Et)ae(Pt);else break}}const Ue=V(Oe),At=oe(Oe);return ae(Oe),r(null,Ce,At,Ue,Ie,Ne,isSVGContainer(At),ze),Ue},xe=Oe=>{let Ce=0;for(;Oe;)if(Oe=V(Oe),Oe&&isComment(Oe)&&(Oe.data==="["&&Ce++,Oe.data==="]")){if(Ce===0)return V(Oe);Ce--}return Oe};return[ue,de]}const queuePostRenderEffect=queueEffectWithSuspense;createRenderer=function(n){return baseCreateRenderer(n)},createHydrationRenderer=function(n){return baseCreateRenderer(n,createHydrationFunctions)};function baseCreateRenderer(g,n){const r=getGlobalThis();r.__VUE__=!0;const{insert:$,remove:L,patchProp:V,createElement:oe,createText:ae,createComment:re,setText:le,setElementText:ue,parentNode:de,nextSibling:he,setScopeId:pe=NOOP,insertStaticContent:_e}=g,$e=(Tn,In,Bn,Qn=null,Zn=null,Kn=null,ui=!1,ei=null,si=!!In.dynamicChildren)=>{if(Tn===In)return;Tn&&!isSameVNodeType(Tn,In)&&(Qn=Dn(Tn),An(Tn,Zn,Kn,!0),Tn=null),In.patchFlag===-2&&(si=!1,In.dynamicChildren=null);const{type:ti,ref:Jn,shapeFlag:di}=In;switch(ti){case Text$1:xe(Tn,In,Bn,Qn);break;case Comment:Oe(Tn,In,Bn,Qn);break;case Static:Tn==null&&Ce(In,Bn,Qn,ui);break;case Fragment:Dt(Tn,In,Bn,Qn,Zn,Kn,ui,ei,si);break;default:di&1?ze(Tn,In,Bn,Qn,Zn,Kn,ui,ei,si):di&6?Lt(Tn,In,Bn,Qn,Zn,Kn,ui,ei,si):(di&64||di&128)&&ti.process(Tn,In,Bn,Qn,Zn,Kn,ui,ei,si,Nn)}Jn!=null&&Zn&&setRef(Jn,Tn&&Tn.ref,Kn,In||Tn,!In)},xe=(Tn,In,Bn,Qn)=>{if(Tn==null)$(In.el=ae(In.children),Bn,Qn);else{const Zn=In.el=Tn.el;In.children!==Tn.children&&le(Zn,In.children)}},Oe=(Tn,In,Bn,Qn)=>{Tn==null?$(In.el=re(In.children||""),Bn,Qn):In.el=Tn.el},Ce=(Tn,In,Bn,Qn)=>{[Tn.el,Tn.anchor]=_e(Tn.children,In,Bn,Qn,Tn.el,Tn.anchor)},Ie=({el:Tn,anchor:In},Bn,Qn)=>{let Zn;for(;Tn&&Tn!==In;)Zn=he(Tn),$(Tn,Bn,Qn),Tn=Zn;$(In,Bn,Qn)},Ne=({el:Tn,anchor:In})=>{let Bn;for(;Tn&&Tn!==In;)Bn=he(Tn),L(Tn),Tn=Bn;L(In)},ze=(Tn,In,Bn,Qn,Zn,Kn,ui,ei,si)=>{ui=ui||In.type==="svg",Tn==null?Fe(In,Bn,Qn,Zn,Kn,ui,ei,si):Et(Tn,In,Zn,Kn,ui,ei,si)},Fe=(Tn,In,Bn,Qn,Zn,Kn,ui,ei)=>{let si,ti;const{type:Jn,props:di,shapeFlag:mi,transition:yi,dirs:$i}=Tn;if(si=Tn.el=oe(Tn.type,Kn,di&&di.is,di),mi&8?ue(si,Tn.children):mi&16&&At(Tn.children,si,null,Qn,Zn,Kn&&Jn!=="foreignObject",ui,ei),$i&&invokeDirectiveHook(Tn,null,Qn,"created"),di){for(const Wn in di)Wn!=="value"&&!isReservedProp(Wn)&&V(si,Wn,null,di[Wn],Kn,Tn.children,Qn,Zn,Un);"value"in di&&V(si,"value",null,di.value),(ti=di.onVnodeBeforeMount)&&invokeVNodeHook(ti,Qn,Tn)}Ue(si,Tn,Tn.scopeId,ui,Qn),$i&&invokeDirectiveHook(Tn,null,Qn,"beforeMount");const pi=(!Zn||Zn&&!Zn.pendingBranch)&&yi&&!yi.persisted;pi&&yi.beforeEnter(si),$(si,In,Bn),((ti=di&&di.onVnodeMounted)||pi||$i)&&queuePostRenderEffect(()=>{ti&&invokeVNodeHook(ti,Qn,Tn),pi&&yi.enter(si),$i&&invokeDirectiveHook(Tn,null,Qn,"mounted")},Zn)},Ue=(Tn,In,Bn,Qn,Zn)=>{if(Bn&&pe(Tn,Bn),Qn)for(let Kn=0;Kn<Qn.length;Kn++)pe(Tn,Qn[Kn]);if(Zn){let Kn=Zn.subTree;if(In===Kn){const ui=Zn.vnode;Ue(Tn,ui,ui.scopeId,ui.slotScopeIds,Zn.parent)}}},At=(Tn,In,Bn,Qn,Zn,Kn,ui,ei,si=0)=>{for(let ti=si;ti<Tn.length;ti++){const Jn=Tn[ti]=ei?cloneIfMounted(Tn[ti]):normalizeVNode(Tn[ti]);$e(null,Jn,In,Bn,Qn,Zn,Kn,ui,ei)}},Et=(Tn,In,Bn,Qn,Zn,Kn,ui)=>{const ei=In.el=Tn.el;let{patchFlag:si,dynamicChildren:ti,dirs:Jn}=In;si|=Tn.patchFlag&16;const di=Tn.props||EMPTY_OBJ$2,mi=In.props||EMPTY_OBJ$2;let yi;Bn&&toggleRecurse(Bn,!1),(yi=mi.onVnodeBeforeUpdate)&&invokeVNodeHook(yi,Bn,In,Tn),Jn&&invokeDirectiveHook(In,Tn,Bn,"beforeUpdate"),Bn&&toggleRecurse(Bn,!0);const $i=Zn&&In.type!=="foreignObject";if(ti?Pt(Tn.dynamicChildren,ti,ei,Bn,Qn,$i,Kn):ui||Sn(Tn,In,ei,null,Bn,Qn,$i,Kn,!1),si>0){if(si&16)kt(ei,In,di,mi,Bn,Qn,Zn);else if(si&2&&di.class!==mi.class&&V(ei,"class",null,mi.class,Zn),si&4&&V(ei,"style",di.style,mi.style,Zn),si&8){const pi=In.dynamicProps;for(let Wn=0;Wn<pi.length;Wn++){const ii=pi[Wn],Hn=di[ii],oi=mi[ii];(oi!==Hn||ii==="value")&&V(ei,ii,Hn,oi,Zn,Tn.children,Bn,Qn,Un)}}si&1&&Tn.children!==In.children&&ue(ei,In.children)}else!ui&&ti==null&&kt(ei,In,di,mi,Bn,Qn,Zn);((yi=mi.onVnodeUpdated)||Jn)&&queuePostRenderEffect(()=>{yi&&invokeVNodeHook(yi,Bn,In,Tn),Jn&&invokeDirectiveHook(In,Tn,Bn,"updated")},Qn)},Pt=(Tn,In,Bn,Qn,Zn,Kn,ui)=>{for(let ei=0;ei<In.length;ei++){const si=Tn[ei],ti=In[ei],Jn=si.el&&(si.type===Fragment||!isSameVNodeType(si,ti)||si.shapeFlag&70)?de(si.el):Bn;$e(si,ti,Jn,null,Qn,Zn,Kn,ui,!0)}},kt=(Tn,In,Bn,Qn,Zn,Kn,ui)=>{if(Bn!==Qn){if(Bn!==EMPTY_OBJ$2)for(const ei in Bn)!isReservedProp(ei)&&!(ei in Qn)&&V(Tn,ei,Bn[ei],null,ui,In.children,Zn,Kn,Un);for(const ei in Qn){if(isReservedProp(ei))continue;const si=Qn[ei],ti=Bn[ei];si!==ti&&ei!=="value"&&V(Tn,ei,ti,si,ui,In.children,Zn,Kn,Un)}"value"in Qn&&V(Tn,"value",Bn.value,Qn.value)}},Dt=(Tn,In,Bn,Qn,Zn,Kn,ui,ei,si)=>{const ti=In.el=Tn?Tn.el:ae(""),Jn=In.anchor=Tn?Tn.anchor:ae("");let{patchFlag:di,dynamicChildren:mi,slotScopeIds:yi}=In;yi&&(ei=ei?ei.concat(yi):yi),Tn==null?($(ti,Bn,Qn),$(Jn,Bn,Qn),At(In.children,Bn,Jn,Zn,Kn,ui,ei,si)):di>0&&di&64&&mi&&Tn.dynamicChildren?(Pt(Tn.dynamicChildren,mi,Bn,Zn,Kn,ui,ei),(In.key!=null||Zn&&In===Zn.subTree)&&traverseStaticChildren(Tn,In,!0)):Sn(Tn,In,Bn,Jn,Zn,Kn,ui,ei,si)},Lt=(Tn,In,Bn,Qn,Zn,Kn,ui,ei,si)=>{In.slotScopeIds=ei,Tn==null?In.shapeFlag&512?Zn.ctx.activate(In,Bn,Qn,ui,si):hn(In,Bn,Qn,Zn,Kn,ui,si):vn(Tn,In,si)},hn=(Tn,In,Bn,Qn,Zn,Kn,ui)=>{const ei=Tn.component=createComponentInstance(Tn,Qn,Zn);if(isKeepAlive(Tn)&&(ei.ctx.renderer=Nn),setupComponent(ei),ei.asyncDep){if(Zn&&Zn.registerDep(ei,_n),!Tn.el){const si=ei.subTree=createVNode$2(Comment);Oe(null,si,In,Bn)}return}_n(ei,Tn,In,Bn,Zn,Kn,ui)},vn=(Tn,In,Bn)=>{const Qn=In.component=Tn.component;if(shouldUpdateComponent(Tn,In,Bn))if(Qn.asyncDep&&!Qn.asyncResolved){$n(Qn,In,Bn);return}else Qn.next=In,invalidateJob(Qn.update),Qn.update();else In.el=Tn.el,Qn.vnode=In},_n=(Tn,In,Bn,Qn,Zn,Kn,ui)=>{const ei=()=>{if(Tn.isMounted){let{next:Jn,bu:di,u:mi,parent:yi,vnode:$i}=Tn,pi=Jn,Wn;toggleRecurse(Tn,!1),Jn?(Jn.el=$i.el,$n(Tn,Jn,ui)):Jn=$i,di&&invokeArrayFns(di),(Wn=Jn.props&&Jn.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Wn,yi,Jn,$i),toggleRecurse(Tn,!0);const ii=renderComponentRoot(Tn),Hn=Tn.subTree;Tn.subTree=ii,$e(Hn,ii,de(Hn.el),Dn(Hn),Tn,Zn,Kn),Jn.el=ii.el,pi===null&&updateHOCHostEl(Tn,ii.el),mi&&queuePostRenderEffect(mi,Zn),(Wn=Jn.props&&Jn.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Wn,yi,Jn,$i),Zn)}else{let Jn;const{el:di,props:mi}=In,{bm:yi,m:$i,parent:pi}=Tn,Wn=isAsyncWrapper(In);if(toggleRecurse(Tn,!1),yi&&invokeArrayFns(yi),!Wn&&(Jn=mi&&mi.onVnodeBeforeMount)&&invokeVNodeHook(Jn,pi,In),toggleRecurse(Tn,!0),di&&Ln){const ii=()=>{Tn.subTree=renderComponentRoot(Tn),Ln(di,Tn.subTree,Tn,Zn,null)};Wn?In.type.__asyncLoader().then(()=>!Tn.isUnmounted&&ii()):ii()}else{const ii=Tn.subTree=renderComponentRoot(Tn);$e(null,ii,Bn,Qn,Tn,Zn,Kn),In.el=ii.el}if($i&&queuePostRenderEffect($i,Zn),!Wn&&(Jn=mi&&mi.onVnodeMounted)){const ii=In;queuePostRenderEffect(()=>invokeVNodeHook(Jn,pi,ii),Zn)}(In.shapeFlag&256||pi&&isAsyncWrapper(pi.vnode)&&pi.vnode.shapeFlag&256)&&Tn.a&&queuePostRenderEffect(Tn.a,Zn),Tn.isMounted=!0,In=Bn=Qn=null}},si=Tn.effect=new ReactiveEffect(ei,()=>queueJob(ti),Tn.scope),ti=Tn.update=()=>si.run();ti.id=Tn.uid,toggleRecurse(Tn,!0),ti()},$n=(Tn,In,Bn)=>{In.component=Tn;const Qn=Tn.vnode.props;Tn.vnode=In,Tn.next=null,updateProps$4(Tn,In.props,Qn,Bn),updateSlots(Tn,In.children,Bn),pauseTracking(),flushPreFlushCbs(),resetTracking()},Sn=(Tn,In,Bn,Qn,Zn,Kn,ui,ei,si=!1)=>{const ti=Tn&&Tn.children,Jn=Tn?Tn.shapeFlag:0,di=In.children,{patchFlag:mi,shapeFlag:yi}=In;if(mi>0){if(mi&128){On(ti,di,Bn,Qn,Zn,Kn,ui,ei,si);return}else if(mi&256){xn(ti,di,Bn,Qn,Zn,Kn,ui,ei,si);return}}yi&8?(Jn&16&&Un(ti,Zn,Kn),di!==ti&&ue(Bn,di)):Jn&16?yi&16?On(ti,di,Bn,Qn,Zn,Kn,ui,ei,si):Un(ti,Zn,Kn,!0):(Jn&8&&ue(Bn,""),yi&16&&At(di,Bn,Qn,Zn,Kn,ui,ei,si))},xn=(Tn,In,Bn,Qn,Zn,Kn,ui,ei,si)=>{Tn=Tn||EMPTY_ARR,In=In||EMPTY_ARR;const ti=Tn.length,Jn=In.length,di=Math.min(ti,Jn);let mi;for(mi=0;mi<di;mi++){const yi=In[mi]=si?cloneIfMounted(In[mi]):normalizeVNode(In[mi]);$e(Tn[mi],yi,Bn,null,Zn,Kn,ui,ei,si)}ti>Jn?Un(Tn,Zn,Kn,!0,!1,di):At(In,Bn,Qn,Zn,Kn,ui,ei,si,di)},On=(Tn,In,Bn,Qn,Zn,Kn,ui,ei,si)=>{let ti=0;const Jn=In.length;let di=Tn.length-1,mi=Jn-1;for(;ti<=di&&ti<=mi;){const yi=Tn[ti],$i=In[ti]=si?cloneIfMounted(In[ti]):normalizeVNode(In[ti]);if(isSameVNodeType(yi,$i))$e(yi,$i,Bn,null,Zn,Kn,ui,ei,si);else break;ti++}for(;ti<=di&&ti<=mi;){const yi=Tn[di],$i=In[mi]=si?cloneIfMounted(In[mi]):normalizeVNode(In[mi]);if(isSameVNodeType(yi,$i))$e(yi,$i,Bn,null,Zn,Kn,ui,ei,si);else break;di--,mi--}if(ti>di){if(ti<=mi){const yi=mi+1,$i=yi<Jn?In[yi].el:Qn;for(;ti<=mi;)$e(null,In[ti]=si?cloneIfMounted(In[ti]):normalizeVNode(In[ti]),Bn,$i,Zn,Kn,ui,ei,si),ti++}}else if(ti>mi)for(;ti<=di;)An(Tn[ti],Zn,Kn,!0),ti++;else{const yi=ti,$i=ti,pi=new Map;for(ti=$i;ti<=mi;ti++){const hi=In[ti]=si?cloneIfMounted(In[ti]):normalizeVNode(In[ti]);hi.key!=null&&pi.set(hi.key,ti)}let Wn,ii=0;const Hn=mi-$i+1;let oi=!1,zn=0;const Yn=new Array(Hn);for(ti=0;ti<Hn;ti++)Yn[ti]=0;for(ti=yi;ti<=di;ti++){const hi=Tn[ti];if(ii>=Hn){An(hi,Zn,Kn,!0);continue}let Ti;if(hi.key!=null)Ti=pi.get(hi.key);else for(Wn=$i;Wn<=mi;Wn++)if(Yn[Wn-$i]===0&&isSameVNodeType(hi,In[Wn])){Ti=Wn;break}Ti===void 0?An(hi,Zn,Kn,!0):(Yn[Ti-$i]=ti+1,Ti>=zn?zn=Ti:oi=!0,$e(hi,In[Ti],Bn,null,Zn,Kn,ui,ei,si),ii++)}const ai=oi?getSequence(Yn):EMPTY_ARR;for(Wn=ai.length-1,ti=Hn-1;ti>=0;ti--){const hi=$i+ti,Ti=In[hi],Bi=hi+1<Jn?In[hi+1].el:Qn;Yn[ti]===0?$e(null,Ti,Bn,Bi,Zn,Kn,ui,ei,si):oi&&(Wn<0||ti!==ai[Wn]?Cn(Ti,Bn,Bi,2):Wn--)}}},Cn=(Tn,In,Bn,Qn,Zn=null)=>{const{el:Kn,type:ui,transition:ei,children:si,shapeFlag:ti}=Tn;if(ti&6){Cn(Tn.component.subTree,In,Bn,Qn);return}if(ti&128){Tn.suspense.move(In,Bn,Qn);return}if(ti&64){ui.move(Tn,In,Bn,Nn);return}if(ui===Fragment){$(Kn,In,Bn);for(let Jn=0;Jn<si.length;Jn++)Cn(si[Jn],In,Bn,Qn);$(Tn.anchor,In,Bn);return}if(ui===Static){Ie(Tn,In,Bn);return}if(Qn!==2&&ti&1&&ei)if(Qn===0)ei.beforeEnter(Kn),$(Kn,In,Bn),queuePostRenderEffect(()=>ei.enter(Kn),Zn);else{const{leave:Jn,delayLeave:di,afterLeave:mi}=ei,yi=()=>$(Kn,In,Bn),$i=()=>{Jn(Kn,()=>{yi(),mi&&mi()})};di?di(Kn,yi,$i):$i()}else $(Kn,In,Bn)},An=(Tn,In,Bn,Qn=!1,Zn=!1)=>{const{type:Kn,props:ui,ref:ei,children:si,dynamicChildren:ti,shapeFlag:Jn,patchFlag:di,dirs:mi}=Tn;if(ei!=null&&setRef(ei,null,Bn,Tn,!0),Jn&256){In.ctx.deactivate(Tn);return}const yi=Jn&1&&mi,$i=!isAsyncWrapper(Tn);let pi;if($i&&(pi=ui&&ui.onVnodeBeforeUnmount)&&invokeVNodeHook(pi,In,Tn),Jn&6)Pn(Tn.component,Bn,Qn);else{if(Jn&128){Tn.suspense.unmount(Bn,Qn);return}yi&&invokeDirectiveHook(Tn,null,In,"beforeUnmount"),Jn&64?Tn.type.remove(Tn,In,Bn,Zn,Nn,Qn):ti&&(Kn!==Fragment||di>0&&di&64)?Un(ti,In,Bn,!1,!0):(Kn===Fragment&&di&384||!Zn&&Jn&16)&&Un(si,In,Bn),Qn&&Rn(Tn)}($i&&(pi=ui&&ui.onVnodeUnmounted)||yi)&&queuePostRenderEffect(()=>{pi&&invokeVNodeHook(pi,In,Tn),yi&&invokeDirectiveHook(Tn,null,In,"unmounted")},Bn)},Rn=Tn=>{const{type:In,el:Bn,anchor:Qn,transition:Zn}=Tn;if(In===Fragment){Fn(Bn,Qn);return}if(In===Static){Ne(Tn);return}const Kn=()=>{L(Bn),Zn&&!Zn.persisted&&Zn.afterLeave&&Zn.afterLeave()};if(Tn.shapeFlag&1&&Zn&&!Zn.persisted){const{leave:ui,delayLeave:ei}=Zn,si=()=>ui(Bn,Kn);ei?ei(Tn.el,Kn,si):si()}else Kn()},Fn=(Tn,In)=>{let Bn;for(;Tn!==In;)Bn=he(Tn),L(Tn),Tn=Bn;L(In)},Pn=(Tn,In,Bn)=>{const{bum:Qn,scope:Zn,update:Kn,subTree:ui,um:ei}=Tn;Qn&&invokeArrayFns(Qn),Zn.stop(),Kn&&(Kn.active=!1,An(ui,Tn,In,Bn)),ei&&queuePostRenderEffect(ei,In),queuePostRenderEffect(()=>{Tn.isUnmounted=!0},In),In&&In.pendingBranch&&!In.isUnmounted&&Tn.asyncDep&&!Tn.asyncResolved&&Tn.suspenseId===In.pendingId&&(In.deps--,In.deps===0&&In.resolve())},Un=(Tn,In,Bn,Qn=!1,Zn=!1,Kn=0)=>{for(let ui=Kn;ui<Tn.length;ui++)An(Tn[ui],In,Bn,Qn,Zn)},Dn=Tn=>Tn.shapeFlag&6?Dn(Tn.component.subTree):Tn.shapeFlag&128?Tn.suspense.next():he(Tn.anchor||Tn.el),kn=(Tn,In,Bn)=>{Tn==null?In._vnode&&An(In._vnode,null,null,!0):$e(In._vnode||null,Tn,In,null,null,null,Bn),flushPreFlushCbs(),flushPostFlushCbs(),In._vnode=Tn},Nn={p:$e,um:An,m:Cn,r:Rn,mt:hn,mc:At,pc:Sn,pbc:Pt,n:Dn,o:g};let Vn,Ln;return n&&([Vn,Ln]=n(Nn)),{render:kn,hydrate:Vn,createApp:createAppAPI(kn,Vn)}}function toggleRecurse({effect:g,update:n},r){g.allowRecurse=n.allowRecurse=r}function traverseStaticChildren(g,n,r=!1){const $=g.children,L=n.children;if(isArray$9($)&&isArray$9(L))for(let V=0;V<$.length;V++){const oe=$[V];let ae=L[V];ae.shapeFlag&1&&!ae.dynamicChildren&&((ae.patchFlag<=0||ae.patchFlag===32)&&(ae=L[V]=cloneIfMounted(L[V]),ae.el=oe.el),r||traverseStaticChildren(oe,ae)),ae.type===Text$1&&(ae.el=oe.el)}}function getSequence(g){const n=g.slice(),r=[0];let $,L,V,oe,ae;const re=g.length;for($=0;$<re;$++){const le=g[$];if(le!==0){if(L=r[r.length-1],g[L]<le){n[$]=L,r.push($);continue}for(V=0,oe=r.length-1;V<oe;)ae=V+oe>>1,g[r[ae]]<le?V=ae+1:oe=ae;le<g[r[V]]&&(V>0&&(n[$]=r[V-1]),r[V]=$)}}for(V=r.length,oe=r[V-1];V-- >0;)r[V]=oe,oe=n[oe];return r}const isTeleport=g=>g.__isTeleport,isTeleportDisabled=g=>g&&(g.disabled||g.disabled===""),isTargetSVG=g=>typeof SVGElement<"u"&&g instanceof SVGElement,resolveTarget=(g,n)=>{const r=g&&g.to;return isString$5(r)?n?n(r):null:r},TeleportImpl={__isTeleport:!0,process(g,n,r,$,L,V,oe,ae,re,le){const{mc:ue,pc:de,pbc:he,o:{insert:pe,querySelector:_e,createText:$e,createComment:xe}}=le,Oe=isTeleportDisabled(n.props);let{shapeFlag:Ce,children:Ie,dynamicChildren:Ne}=n;if(g==null){const ze=n.el=$e(""),Fe=n.anchor=$e("");pe(ze,r,$),pe(Fe,r,$);const Ue=n.target=resolveTarget(n.props,_e),At=n.targetAnchor=$e("");Ue&&(pe(At,Ue),oe=oe||isTargetSVG(Ue));const Et=(Pt,kt)=>{Ce&16&&ue(Ie,Pt,kt,L,V,oe,ae,re)};Oe?Et(r,Fe):Ue&&Et(Ue,At)}else{n.el=g.el;const ze=n.anchor=g.anchor,Fe=n.target=g.target,Ue=n.targetAnchor=g.targetAnchor,At=isTeleportDisabled(g.props),Et=At?r:Fe,Pt=At?ze:Ue;if(oe=oe||isTargetSVG(Fe),Ne?(he(g.dynamicChildren,Ne,Et,L,V,oe,ae),traverseStaticChildren(g,n,!0)):re||de(g,n,Et,Pt,L,V,oe,ae,!1),Oe)At||moveTeleport(n,r,ze,le,1);else if((n.props&&n.props.to)!==(g.props&&g.props.to)){const kt=n.target=resolveTarget(n.props,_e);kt&&moveTeleport(n,kt,null,le,0)}else At&&moveTeleport(n,Fe,Ue,le,1)}updateCssVars(n)},remove(g,n,r,$,{um:L,o:{remove:V}},oe){const{shapeFlag:ae,children:re,anchor:le,targetAnchor:ue,target:de,props:he}=g;if(de&&V(ue),(oe||!isTeleportDisabled(he))&&(V(le),ae&16))for(let pe=0;pe<re.length;pe++){const _e=re[pe];L(_e,n,r,!0,!!_e.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(g,n,r,{o:{insert:$},m:L},V=2){V===0&&$(g.targetAnchor,n,r);const{el:oe,anchor:ae,shapeFlag:re,children:le,props:ue}=g,de=V===2;if(de&&$(oe,n,r),(!de||isTeleportDisabled(ue))&&re&16)for(let he=0;he<le.length;he++)L(le[he],n,r,2);de&&$(ae,n,r)}function hydrateTeleport(g,n,r,$,L,V,{o:{nextSibling:oe,parentNode:ae,querySelector:re}},le){const ue=n.target=resolveTarget(n.props,re);if(ue){const de=ue._lpa||ue.firstChild;if(n.shapeFlag&16)if(isTeleportDisabled(n.props))n.anchor=le(oe(g),n,ae(g),r,$,L,V),n.targetAnchor=de;else{n.anchor=oe(g);let he=de;for(;he;)if(he=oe(he),he&&he.nodeType===8&&he.data==="teleport anchor"){n.targetAnchor=he,ue._lpa=n.targetAnchor&&oe(n.targetAnchor);break}le(de,n,ue,r,$,L,V)}updateCssVars(n)}return n.anchor&&oe(n.anchor)}Teleport=TeleportImpl;function updateCssVars(g){const n=g.ctx;if(n&&n.ut){let r=g.children[0].el;for(;r!==g.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}let blockStack;Fragment=Symbol(void 0),Text$1=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;openBlock=function(n=!1){blockStack.push(currentBlock=n?null:[])};function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;setBlockTracking=function(n){isBlockTreeEnabled+=n};function setupBlock(g){return g.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(g),g}createElementBlock=function(n,r,$,L,V,oe){return setupBlock(createBaseVNode(n,r,$,L,V,oe,!0))},createBlock=function(n,r,$,L,V){return setupBlock(createVNode$2(n,r,$,L,V,!0))},isVNode=function(n){return n?n.__v_isVNode===!0:!1};function isSameVNodeType(g,n){return g.type===n.type&&g.key===n.key}transformVNodeArgs=function(n){};const InternalObjectKey="__vInternal",normalizeKey=({key:g})=>g!=null?g:null,normalizeRef=({ref:g,ref_key:n,ref_for:r})=>g!=null?isString$5(g)||isRef(g)||isFunction$5(g)?{i:currentRenderingInstance,r:g,k:n,f:!!r}:g:null;createBaseVNode=function(n,r=null,$=null,L=0,V=null,oe=n===Fragment?0:1,ae=!1,re=!1){const le={__v_isVNode:!0,__v_skip:!0,type:n,props:r,key:r&&normalizeKey(r),ref:r&&normalizeRef(r),scopeId:currentScopeId,slotScopeIds:null,children:$,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:oe,patchFlag:L,dynamicProps:V,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return re?(normalizeChildren(le,$),oe&128&&n.normalize(le)):$&&(le.shapeFlag|=isString$5($)?8:16),isBlockTreeEnabled>0&&!ae&&currentBlock&&(le.patchFlag>0||oe&6)&&le.patchFlag!==32&&currentBlock.push(le),le},createVNode$2=_createVNode;function _createVNode(g,n=null,r=null,$=0,L=null,V=!1){if((!g||g===NULL_DYNAMIC_COMPONENT)&&(g=Comment),isVNode(g)){const ae=cloneVNode(g,n,!0);return r&&normalizeChildren(ae,r),isBlockTreeEnabled>0&&!V&&currentBlock&&(ae.shapeFlag&6?currentBlock[currentBlock.indexOf(g)]=ae:currentBlock.push(ae)),ae.patchFlag|=-2,ae}if(isClassComponent(g)&&(g=g.__vccOpts),n){n=guardReactiveProps(n);let{class:ae,style:re}=n;ae&&!isString$5(ae)&&(n.class=normalizeClass(ae)),isObject$c(re)&&(isProxy(re)&&!isArray$9(re)&&(re=extend$5({},re)),n.style=normalizeStyle$2(re))}const oe=isString$5(g)?1:isSuspense(g)?128:isTeleport(g)?64:isObject$c(g)?4:isFunction$5(g)?2:0;return createBaseVNode(g,n,r,$,L,oe,V,!0)}guardReactiveProps=function(n){return n?isProxy(n)||InternalObjectKey in n?extend$5({},n):n:null},cloneVNode=function g(n,r,$=!1){const{props:L,ref:V,patchFlag:oe,children:ae}=n,re=r?mergeProps(L||{},r):L;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:re,key:re&&normalizeKey(re),ref:r&&r.ref?$&&V?isArray$9(V)?V.concat(normalizeRef(r)):[V,normalizeRef(r)]:normalizeRef(r):V,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:ae,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:r&&n.type!==Fragment?oe===-1?16:oe|16:oe,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&g(n.ssContent),ssFallback:n.ssFallback&&g(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx}},createTextVNode=function(n=" ",r=0){return createVNode$2(Text$1,null,n,r)},createStaticVNode=function(n,r){const $=createVNode$2(Static,null,n);return $.staticCount=r,$},createCommentVNode=function(n="",r=!1){return r?(openBlock(),createBlock(Comment,null,n)):createVNode$2(Comment,null,n)};function normalizeVNode(g){return g==null||typeof g=="boolean"?createVNode$2(Comment):isArray$9(g)?createVNode$2(Fragment,null,g.slice()):typeof g=="object"?cloneIfMounted(g):createVNode$2(Text$1,null,String(g))}function cloneIfMounted(g){return g.el===null&&g.patchFlag!==-1||g.memo?g:cloneVNode(g)}function normalizeChildren(g,n){let r=0;const{shapeFlag:$}=g;if(n==null)n=null;else if(isArray$9(n))r=16;else if(typeof n=="object")if($&65){const L=n.default;L&&(L._c&&(L._d=!1),normalizeChildren(g,L()),L._c&&(L._d=!0));return}else{r=32;const L=n._;!L&&!(InternalObjectKey in n)?n._ctx=currentRenderingInstance:L===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?n._=1:(n._=2,g.patchFlag|=1024))}else isFunction$5(n)?(n={default:n,_ctx:currentRenderingInstance},r=32):(n=String(n),$&64?(r=16,n=[createTextVNode(n)]):r=8);g.children=n,g.shapeFlag|=r}mergeProps=function(...n){const r={};for(let $=0;$<n.length;$++){const L=n[$];for(const V in L)if(V==="class")r.class!==L.class&&(r.class=normalizeClass([r.class,L.class]));else if(V==="style")r.style=normalizeStyle$2([r.style,L.style]);else if(isOn(V)){const oe=r[V],ae=L[V];ae&&oe!==ae&&!(isArray$9(oe)&&oe.includes(ae))&&(r[V]=oe?[].concat(oe,ae):ae)}else V!==""&&(r[V]=L[V])}return r};function invokeVNodeHook(g,n,r,$=null){callWithAsyncErrorHandling(g,n,7,[r,$])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(g,n,r){const $=g.type,L=(n?n.appContext:g.appContext)||emptyAppContext,V={uid:uid$1++,vnode:g,type:$,parent:n,appContext:L,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(L.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions($,L),emitsOptions:normalizeEmitsOptions($,L),emit:null,emitted:null,propsDefaults:EMPTY_OBJ$2,inheritAttrs:$.inheritAttrs,ctx:EMPTY_OBJ$2,data:EMPTY_OBJ$2,props:EMPTY_OBJ$2,attrs:EMPTY_OBJ$2,slots:EMPTY_OBJ$2,refs:EMPTY_OBJ$2,setupState:EMPTY_OBJ$2,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return V.ctx={_:V},V.root=n?n.root:V,V.emit=emit$1.bind(null,V),g.ce&&g.ce(V),V}let currentInstance=null,setCurrentInstance,unsetCurrentInstance;getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=g=>{currentInstance=g,g.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(g){return g.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(g,n=!1){isInSSRComponentSetup=n;const{props:r,children:$}=g.vnode,L=isStatefulComponent(g);initProps$2(g,r,L,n),initSlots(g,$);const V=L?setupStatefulComponent(g,n):void 0;return isInSSRComponentSetup=!1,V}function setupStatefulComponent(g,n){const r=g.type;g.accessCache=Object.create(null),g.proxy=markRaw(new Proxy(g.ctx,PublicInstanceProxyHandlers));const{setup:$}=r;if($){const L=g.setupContext=$.length>1?createSetupContext(g):null;setCurrentInstance(g),pauseTracking();const V=callWithErrorHandling($,g,0,[g.props,L]);if(resetTracking(),unsetCurrentInstance(),isPromise(V)){if(V.then(unsetCurrentInstance,unsetCurrentInstance),n)return V.then(oe=>{handleSetupResult(g,oe,n)}).catch(oe=>{handleError(oe,g,0)});g.asyncDep=V}else handleSetupResult(g,V,n)}else finishComponentSetup(g,n)}function handleSetupResult(g,n,r){isFunction$5(n)?g.type.__ssrInlineRender?g.ssrRender=n:g.render=n:isObject$c(n)&&(g.setupState=proxyRefs(n)),finishComponentSetup(g,r)}let compile,installWithProxy;registerRuntimeCompiler=function(n){compile=n,installWithProxy=r=>{r.render._rc&&(r.withProxy=new Proxy(r.ctx,RuntimeCompiledPublicInstanceProxyHandlers))}},isRuntimeOnly=()=>!compile;function finishComponentSetup(g,n,r){const $=g.type;if(!g.render){if(!n&&compile&&!$.render){const L=$.template||resolveMergedOptions(g).template;if(L){const{isCustomElement:V,compilerOptions:oe}=g.appContext.config,{delimiters:ae,compilerOptions:re}=$,le=extend$5(extend$5({isCustomElement:V,delimiters:ae},oe),re);$.render=compile(L,le)}}g.render=$.render||NOOP,installWithProxy&&installWithProxy(g)}setCurrentInstance(g),pauseTracking(),applyOptions(g),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(g){return new Proxy(g.attrs,{get(n,r){return track(g,"get","$attrs"),n[r]}})}function createSetupContext(g){const n=$=>{g.exposed=$||{}};let r;return{get attrs(){return r||(r=createAttrsProxy(g))},slots:g.slots,emit:g.emit,expose:n}}function getExposeProxy(g){if(g.exposed)return g.exposeProxy||(g.exposeProxy=new Proxy(proxyRefs(markRaw(g.exposed)),{get(n,r){if(r in n)return n[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](g)},has(n,r){return r in n||r in publicPropertiesMap}}))}function getComponentName(g,n=!0){return isFunction$5(g)?g.displayName||g.name:g.name||n&&g.__name}function isClassComponent(g){return isFunction$5(g)&&"__vccOpts"in g}computed=(g,n)=>computed$1(g,n,isInSSRComponentSetup),defineProps=function(){return null},defineEmits=function(){return null},defineExpose=function(n){},withDefaults=function(n,r){return null},useSlots=function(){return getContext().slots},useAttrs$1=function(){return getContext().attrs};function getContext(){const g=getCurrentInstance();return g.setupContext||(g.setupContext=createSetupContext(g))}mergeDefaults=function(n,r){const $=isArray$9(n)?n.reduce((L,V)=>(L[V]={},L),{}):n;for(const L in r){const V=$[L];V?isArray$9(V)||isFunction$5(V)?$[L]={type:V,default:r[L]}:V.default=r[L]:V===null&&($[L]={default:r[L]})}return $},createPropsRestProxy=function(n,r){const $={};for(const L in n)r.includes(L)||Object.defineProperty($,L,{enumerable:!0,get:()=>n[L]});return $},withAsyncContext=function(n){const r=getCurrentInstance();let $=n();return unsetCurrentInstance(),isPromise($)&&($=$.catch(L=>{throw setCurrentInstance(r),L})),[$,()=>setCurrentInstance(r)]},h$2=function(n,r,$){const L=arguments.length;return L===2?isObject$c(r)&&!isArray$9(r)?isVNode(r)?createVNode$2(n,null,[r]):createVNode$2(n,r):createVNode$2(n,null,r):(L>3?$=Array.prototype.slice.call(arguments,2):L===3&&isVNode($)&&($=[$]),createVNode$2(n,r,$))},ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey),initCustomFormatter=function(){},withMemo=function(n,r,$,L){const V=$[L];if(V&&isMemoSame(V,n))return V;const oe=r();return oe.memo=n.slice(),$[L]=oe},isMemoSame=function(n,r){const $=n.memo;if($.length!=r.length)return!1;for(let L=0;L<$.length;L++)if(hasChanged($[L],r[L]))return!1;return isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(n),!0};let _ssrUtils,svgNS,doc$1,templateContainer,nodeOps;version="3.2.45",_ssrUtils={createComponentInstance,setupComponent,renderComponentRoot,setCurrentRenderingInstance,isVNode,normalizeVNode},ssrUtils=_ssrUtils,resolveFilter=null,compatUtils=null,svgNS="http://www.w3.org/2000/svg",doc$1=typeof document<"u"?document:null,templateContainer=doc$1&&doc$1.createElement("template"),nodeOps={insert:(g,n,r)=>{n.insertBefore(g,r||null)},remove:g=>{const n=g.parentNode;n&&n.removeChild(g)},createElement:(g,n,r,$)=>{const L=n?doc$1.createElementNS(svgNS,g):doc$1.createElement(g,r?{is:r}:void 0);return g==="select"&&$&&$.multiple!=null&&L.setAttribute("multiple",$.multiple),L},createText:g=>doc$1.createTextNode(g),createComment:g=>doc$1.createComment(g),setText:(g,n)=>{g.nodeValue=n},setElementText:(g,n)=>{g.textContent=n},parentNode:g=>g.parentNode,nextSibling:g=>g.nextSibling,querySelector:g=>doc$1.querySelector(g),setScopeId(g,n){g.setAttribute(n,"")},insertStaticContent(g,n,r,$,L,V){const oe=r?r.previousSibling:n.lastChild;if(L&&(L===V||L.nextSibling))for(;n.insertBefore(L.cloneNode(!0),r),!(L===V||!(L=L.nextSibling)););else{templateContainer.innerHTML=$?`<svg>${g}</svg>`:g;const ae=templateContainer.content;if($){const re=ae.firstChild;for(;re.firstChild;)ae.appendChild(re.firstChild);ae.removeChild(re)}n.insertBefore(ae,r)}return[oe?oe.nextSibling:n.firstChild,r?r.previousSibling:n.lastChild]}};function patchClass(g,n,r){const $=g._vtc;$&&(n=(n?[n,...$]:[...$]).join(" ")),n==null?g.removeAttribute("class"):r?g.setAttribute("class",n):g.className=n}function patchStyle(g,n,r){const $=g.style,L=isString$5(r);if(r&&!L){for(const V in r)setStyle($,V,r[V]);if(n&&!isString$5(n))for(const V in n)r[V]==null&&setStyle($,V,"")}else{const V=$.display;L?n!==r&&($.cssText=r):n&&g.removeAttribute("style"),"_vod"in g&&($.display=V)}}const importantRE=/\s*!important$/;function setStyle(g,n,r){if(isArray$9(r))r.forEach($=>setStyle(g,n,$));else if(r==null&&(r=""),n.startsWith("--"))g.setProperty(n,r);else{const $=autoPrefix(g,n);importantRE.test(r)?g.setProperty(hyphenate($),r.replace(importantRE,""),"important"):g[$]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(g,n){const r=prefixCache[n];if(r)return r;let $=camelize(n);if($!=="filter"&&$ in g)return prefixCache[n]=$;$=capitalize$1($);for(let L=0;L<prefixes.length;L++){const V=prefixes[L]+$;if(V in g)return prefixCache[n]=V}return n}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(g,n,r,$,L){if($&&n.startsWith("xlink:"))r==null?g.removeAttributeNS(xlinkNS,n.slice(6,n.length)):g.setAttributeNS(xlinkNS,n,r);else{const V=isSpecialBooleanAttr(n);r==null||V&&!includeBooleanAttr(r)?g.removeAttribute(n):g.setAttribute(n,V?"":r)}}function patchDOMProp(g,n,r,$,L,V,oe){if(n==="innerHTML"||n==="textContent"){$&&oe($,L,V),g[n]=r!=null?r:"";return}if(n==="value"&&g.tagName!=="PROGRESS"&&!g.tagName.includes("-")){g._value=r;const re=r!=null?r:"";(g.value!==re||g.tagName==="OPTION")&&(g.value=re),r==null&&g.removeAttribute(n);return}let ae=!1;if(r===""||r==null){const re=typeof g[n];re==="boolean"?r=includeBooleanAttr(r):r==null&&re==="string"?(r="",ae=!0):re==="number"&&(r=0,ae=!0)}try{g[n]=r}catch{}ae&&g.removeAttribute(n)}function addEventListener$2(g,n,r,$){g.addEventListener(n,r,$)}function removeEventListener$2(g,n,r,$){g.removeEventListener(n,r,$)}function patchEvent(g,n,r,$,L=null){const V=g._vei||(g._vei={}),oe=V[n];if($&&oe)oe.value=$;else{const[ae,re]=parseName(n);if($){const le=V[n]=createInvoker($,L);addEventListener$2(g,ae,le,re)}else oe&&(removeEventListener$2(g,ae,oe,re),V[n]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(g){let n;if(optionsModifierRE.test(g)){n={};let r;for(;r=g.match(optionsModifierRE);)g=g.slice(0,g.length-r[0].length),n[r[0].toLowerCase()]=!0}return[g[2]===":"?g.slice(3):hyphenate(g.slice(2)),n]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(g,n){const r=$=>{if(!$._vts)$._vts=Date.now();else if($._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation($,r.value),n,5,[$])};return r.value=g,r.attached=getNow(),r}function patchStopImmediatePropagation(g,n){if(isArray$9(n)){const r=g.stopImmediatePropagation;return g.stopImmediatePropagation=()=>{r.call(g),g._stopped=!0},n.map($=>L=>!L._stopped&&$&&$(L))}else return n}const nativeOnRE=/^on[a-z]/,patchProp=(g,n,r,$,L=!1,V,oe,ae,re)=>{n==="class"?patchClass(g,$,L):n==="style"?patchStyle(g,r,$):isOn(n)?isModelListener(n)||patchEvent(g,n,r,$,oe):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):shouldSetAsProp(g,n,$,L))?patchDOMProp(g,n,$,V,oe,ae,re):(n==="true-value"?g._trueValue=$:n==="false-value"&&(g._falseValue=$),patchAttr(g,n,$,L))};function shouldSetAsProp(g,n,r,$){return $?!!(n==="innerHTML"||n==="textContent"||n in g&&nativeOnRE.test(n)&&isFunction$5(r)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&g.tagName==="INPUT"||n==="type"&&g.tagName==="TEXTAREA"||nativeOnRE.test(n)&&isString$5(r)?!1:n in g}defineCustomElement=function(n,r){const $=defineComponent(n);class L extends VueElement{constructor(oe){super($,oe,r)}}return L.def=$,L};let BaseClass;defineSSRCustomElement=g=>defineCustomElement(g,hydrate),BaseClass=typeof HTMLElement<"u"?HTMLElement:class{},VueElement=class cc extends BaseClass{constructor(n,r={},$){super(),this._def=n,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&$?$(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,nextTick(()=>{this._connected||(render$2(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let $=0;$<this.attributes.length;$++)this._setAttr(this.attributes[$].name);new MutationObserver($=>{for(const L of $)this._setAttr(L.attributeName)}).observe(this,{attributes:!0});const n=($,L=!1)=>{const{props:V,styles:oe}=$;let ae;if(V&&!isArray$9(V))for(const re in V){const le=V[re];(le===Number||le&&le.type===Number)&&(re in this._props&&(this._props[re]=toNumber$1(this._props[re])),(ae||(ae=Object.create(null)))[camelize(re)]=!0)}this._numberProps=ae,L&&this._resolveProps($),this._applyStyles(oe),this._update()},r=this._def.__asyncLoader;r?r().then($=>n($,!0)):n(this._def)}_resolveProps(n){const{props:r}=n,$=isArray$9(r)?r:Object.keys(r||{});for(const L of Object.keys(this))L[0]!=="_"&&$.includes(L)&&this._setProp(L,this[L],!0,!1);for(const L of $.map(camelize))Object.defineProperty(this,L,{get(){return this._getProp(L)},set(V){this._setProp(L,V)}})}_setAttr(n){let r=this.getAttribute(n);const $=camelize(n);this._numberProps&&this._numberProps[$]&&(r=toNumber$1(r)),this._setProp($,r,!1)}_getProp(n){return this._props[n]}_setProp(n,r,$=!0,L=!0){r!==this._props[n]&&(this._props[n]=r,L&&this._instance&&this._update(),$&&(r===!0?this.setAttribute(hyphenate(n),""):typeof r=="string"||typeof r=="number"?this.setAttribute(hyphenate(n),r+""):r||this.removeAttribute(hyphenate(n))))}_update(){render$2(this._createVNode(),this.shadowRoot)}_createVNode(){const n=createVNode$2(this._def,extend$5({},this._props));return this._instance||(n.ce=r=>{this._instance=r,r.isCE=!0;const $=(V,oe)=>{this.dispatchEvent(new CustomEvent(V,{detail:oe}))};r.emit=(V,...oe)=>{$(V,oe),hyphenate(V)!==V&&$(hyphenate(V),oe)};let L=this;for(;L=L&&(L.parentNode||L.host);)if(L instanceof cc){r.parent=L._instance,r.provides=L._instance.provides;break}}),n}_applyStyles(n){n&&n.forEach(r=>{const $=document.createElement("style");$.textContent=r,this.shadowRoot.appendChild($)})}},useCssModule=function(n="$style"){{const r=getCurrentInstance();if(!r)return EMPTY_OBJ$2;const $=r.type.__cssModules;return $&&$[n]||EMPTY_OBJ$2}},useCssVars=function(n){const r=getCurrentInstance();if(!r)return;const $=r.ut=(V=n(r.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${r.uid}"]`)).forEach(oe=>setVarsOnNode(oe,V))},L=()=>{const V=n(r.proxy);setVarsOnVNode(r.subTree,V),$(V)};watchPostEffect(L),onMounted(()=>{const V=new MutationObserver(L);V.observe(r.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>V.disconnect())})};function setVarsOnVNode(g,n){if(g.shapeFlag&128){const r=g.suspense;g=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{setVarsOnVNode(r.activeBranch,n)})}for(;g.component;)g=g.component.subTree;if(g.shapeFlag&1&&g.el)setVarsOnNode(g.el,n);else if(g.type===Fragment)g.children.forEach(r=>setVarsOnVNode(r,n));else if(g.type===Static){let{el:r,anchor:$}=g;for(;r&&(setVarsOnNode(r,n),r!==$);)r=r.nextSibling}}function setVarsOnNode(g,n){if(g.nodeType===1){const r=g.style;for(const $ in n)r.setProperty(`--${$}`,n[$])}}let TRANSITION,ANIMATION;TRANSITION="transition",ANIMATION="animation",Transition=(g,{slots:n})=>h$2(BaseTransition,resolveTransitionProps(g),n),Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend$5({},BaseTransition.props,DOMTransitionPropsValidators),callHook=(g,n=[])=>{isArray$9(g)?g.forEach(r=>r(...n)):g&&g(...n)},hasExplicitCallback=g=>g?isArray$9(g)?g.some(n=>n.length>1):g.length>1:!1;function resolveTransitionProps(g){const n={};for(const Dt in g)Dt in DOMTransitionPropsValidators||(n[Dt]=g[Dt]);if(g.css===!1)return n;const{name:r="v",type:$,duration:L,enterFromClass:V=`${r}-enter-from`,enterActiveClass:oe=`${r}-enter-active`,enterToClass:ae=`${r}-enter-to`,appearFromClass:re=V,appearActiveClass:le=oe,appearToClass:ue=ae,leaveFromClass:de=`${r}-leave-from`,leaveActiveClass:he=`${r}-leave-active`,leaveToClass:pe=`${r}-leave-to`}=g,_e=normalizeDuration(L),$e=_e&&_e[0],xe=_e&&_e[1],{onBeforeEnter:Oe,onEnter:Ce,onEnterCancelled:Ie,onLeave:Ne,onLeaveCancelled:ze,onBeforeAppear:Fe=Oe,onAppear:Ue=Ce,onAppearCancelled:At=Ie}=n,Et=(Dt,Lt,hn)=>{removeTransitionClass(Dt,Lt?ue:ae),removeTransitionClass(Dt,Lt?le:oe),hn&&hn()},Pt=(Dt,Lt)=>{Dt._isLeaving=!1,removeTransitionClass(Dt,de),removeTransitionClass(Dt,pe),removeTransitionClass(Dt,he),Lt&&Lt()},kt=Dt=>(Lt,hn)=>{const vn=Dt?Ue:Ce,_n=()=>Et(Lt,Dt,hn);callHook(vn,[Lt,_n]),nextFrame(()=>{removeTransitionClass(Lt,Dt?re:V),addTransitionClass(Lt,Dt?ue:ae),hasExplicitCallback(vn)||whenTransitionEnds(Lt,$,$e,_n)})};return extend$5(n,{onBeforeEnter(Dt){callHook(Oe,[Dt]),addTransitionClass(Dt,V),addTransitionClass(Dt,oe)},onBeforeAppear(Dt){callHook(Fe,[Dt]),addTransitionClass(Dt,re),addTransitionClass(Dt,le)},onEnter:kt(!1),onAppear:kt(!0),onLeave(Dt,Lt){Dt._isLeaving=!0;const hn=()=>Pt(Dt,Lt);addTransitionClass(Dt,de),forceReflow(),addTransitionClass(Dt,he),nextFrame(()=>{!Dt._isLeaving||(removeTransitionClass(Dt,de),addTransitionClass(Dt,pe),hasExplicitCallback(Ne)||whenTransitionEnds(Dt,$,xe,hn))}),callHook(Ne,[Dt,hn])},onEnterCancelled(Dt){Et(Dt,!1),callHook(Ie,[Dt])},onAppearCancelled(Dt){Et(Dt,!0),callHook(At,[Dt])},onLeaveCancelled(Dt){Pt(Dt),callHook(ze,[Dt])}})}function normalizeDuration(g){if(g==null)return null;if(isObject$c(g))return[NumberOf(g.enter),NumberOf(g.leave)];{const n=NumberOf(g);return[n,n]}}function NumberOf(g){return toNumber$1(g)}function addTransitionClass(g,n){n.split(/\s+/).forEach(r=>r&&g.classList.add(r)),(g._vtc||(g._vtc=new Set)).add(n)}function removeTransitionClass(g,n){n.split(/\s+/).forEach($=>$&&g.classList.remove($));const{_vtc:r}=g;r&&(r.delete(n),r.size||(g._vtc=void 0))}function nextFrame(g){requestAnimationFrame(()=>{requestAnimationFrame(g)})}let endId=0;function whenTransitionEnds(g,n,r,$){const L=g._endId=++endId,V=()=>{L===g._endId&&$()};if(r)return setTimeout(V,r);const{type:oe,timeout:ae,propCount:re}=getTransitionInfo(g,n);if(!oe)return $();const le=oe+"end";let ue=0;const de=()=>{g.removeEventListener(le,he),V()},he=pe=>{pe.target===g&&++ue>=re&&de()};setTimeout(()=>{ue<re&&de()},ae+1),g.addEventListener(le,he)}function getTransitionInfo(g,n){const r=window.getComputedStyle(g),$=_e=>(r[_e]||"").split(", "),L=$(`${TRANSITION}Delay`),V=$(`${TRANSITION}Duration`),oe=getTimeout(L,V),ae=$(`${ANIMATION}Delay`),re=$(`${ANIMATION}Duration`),le=getTimeout(ae,re);let ue=null,de=0,he=0;n===TRANSITION?oe>0&&(ue=TRANSITION,de=oe,he=V.length):n===ANIMATION?le>0&&(ue=ANIMATION,de=le,he=re.length):(de=Math.max(oe,le),ue=de>0?oe>le?TRANSITION:ANIMATION:null,he=ue?ue===TRANSITION?V.length:re.length:0);const pe=ue===TRANSITION&&/\b(transform|all)(,|$)/.test($(`${TRANSITION}Property`).toString());return{type:ue,timeout:de,propCount:he,hasTransform:pe}}function getTimeout(g,n){for(;g.length<n.length;)g=g.concat(g);return Math.max(...n.map((r,$)=>toMs(r)+toMs(g[$])))}function toMs(g){return Number(g.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}let positionMap,newPositionMap,TransitionGroupImpl;positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend$5({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(g,{slots:n}){const r=getCurrentInstance(),$=useTransitionState();let L,V;return onUpdated(()=>{if(!L.length)return;const oe=g.moveClass||`${g.name||"v"}-move`;if(!hasCSSTransform(L[0].el,r.vnode.el,oe))return;L.forEach(callPendingCbs),L.forEach(recordPosition);const ae=L.filter(applyTranslation);forceReflow(),ae.forEach(re=>{const le=re.el,ue=le.style;addTransitionClass(le,oe),ue.transform=ue.webkitTransform=ue.transitionDuration="";const de=le._moveCb=he=>{he&&he.target!==le||(!he||/transform$/.test(he.propertyName))&&(le.removeEventListener("transitionend",de),le._moveCb=null,removeTransitionClass(le,oe))};le.addEventListener("transitionend",de)})}),()=>{const oe=toRaw(g),ae=resolveTransitionProps(oe);let re=oe.tag||Fragment;L=V,V=n.default?getTransitionRawChildren(n.default()):[];for(let le=0;le<V.length;le++){const ue=V[le];ue.key!=null&&setTransitionHooks(ue,resolveTransitionHooks(ue,ae,$,r))}if(L)for(let le=0;le<L.length;le++){const ue=L[le];setTransitionHooks(ue,resolveTransitionHooks(ue,ae,$,r)),positionMap.set(ue,ue.el.getBoundingClientRect())}return createVNode$2(re,null,V)}}},TransitionGroup=TransitionGroupImpl;function callPendingCbs(g){const n=g.el;n._moveCb&&n._moveCb(),n._enterCb&&n._enterCb()}function recordPosition(g){newPositionMap.set(g,g.el.getBoundingClientRect())}function applyTranslation(g){const n=positionMap.get(g),r=newPositionMap.get(g),$=n.left-r.left,L=n.top-r.top;if($||L){const V=g.el.style;return V.transform=V.webkitTransform=`translate(${$}px,${L}px)`,V.transitionDuration="0s",g}}function hasCSSTransform(g,n,r){const $=g.cloneNode();g._vtc&&g._vtc.forEach(oe=>{oe.split(/\s+/).forEach(ae=>ae&&$.classList.remove(ae))}),r.split(/\s+/).forEach(oe=>oe&&$.classList.add(oe)),$.style.display="none";const L=n.nodeType===1?n:n.parentNode;L.appendChild($);const{hasTransform:V}=getTransitionInfo($);return L.removeChild($),V}const getModelAssigner=g=>{const n=g.props["onUpdate:modelValue"]||!1;return isArray$9(n)?r=>invokeArrayFns(n,r):n};function onCompositionStart(g){g.target.composing=!0}function onCompositionEnd(g){const n=g.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}vModelText={created(g,{modifiers:{lazy:n,trim:r,number:$}},L){g._assign=getModelAssigner(L);const V=$||L.props&&L.props.type==="number";addEventListener$2(g,n?"change":"input",oe=>{if(oe.target.composing)return;let ae=g.value;r&&(ae=ae.trim()),V&&(ae=toNumber$1(ae)),g._assign(ae)}),r&&addEventListener$2(g,"change",()=>{g.value=g.value.trim()}),n||(addEventListener$2(g,"compositionstart",onCompositionStart),addEventListener$2(g,"compositionend",onCompositionEnd),addEventListener$2(g,"change",onCompositionEnd))},mounted(g,{value:n}){g.value=n!=null?n:""},beforeUpdate(g,{value:n,modifiers:{lazy:r,trim:$,number:L}},V){if(g._assign=getModelAssigner(V),g.composing||document.activeElement===g&&g.type!=="range"&&(r||$&&g.value.trim()===n||(L||g.type==="number")&&toNumber$1(g.value)===n))return;const oe=n!=null?n:"";g.value!==oe&&(g.value=oe)}},vModelCheckbox={deep:!0,created(g,n,r){g._assign=getModelAssigner(r),addEventListener$2(g,"change",()=>{const $=g._modelValue,L=getValue$2(g),V=g.checked,oe=g._assign;if(isArray$9($)){const ae=looseIndexOf($,L),re=ae!==-1;if(V&&!re)oe($.concat(L));else if(!V&&re){const le=[...$];le.splice(ae,1),oe(le)}}else if(isSet$2($)){const ae=new Set($);V?ae.add(L):ae.delete(L),oe(ae)}else oe(getCheckboxValue(g,V))})},mounted:setChecked,beforeUpdate(g,n,r){g._assign=getModelAssigner(r),setChecked(g,n,r)}};function setChecked(g,{value:n,oldValue:r},$){g._modelValue=n,isArray$9(n)?g.checked=looseIndexOf(n,$.props.value)>-1:isSet$2(n)?g.checked=n.has($.props.value):n!==r&&(g.checked=looseEqual(n,getCheckboxValue(g,!0)))}vModelRadio={created(g,{value:n},r){g.checked=looseEqual(n,r.props.value),g._assign=getModelAssigner(r),addEventListener$2(g,"change",()=>{g._assign(getValue$2(g))})},beforeUpdate(g,{value:n,oldValue:r},$){g._assign=getModelAssigner($),n!==r&&(g.checked=looseEqual(n,$.props.value))}},vModelSelect={deep:!0,created(g,{value:n,modifiers:{number:r}},$){const L=isSet$2(n);addEventListener$2(g,"change",()=>{const V=Array.prototype.filter.call(g.options,oe=>oe.selected).map(oe=>r?toNumber$1(getValue$2(oe)):getValue$2(oe));g._assign(g.multiple?L?new Set(V):V:V[0])}),g._assign=getModelAssigner($)},mounted(g,{value:n}){setSelected(g,n)},beforeUpdate(g,n,r){g._assign=getModelAssigner(r)},updated(g,{value:n}){setSelected(g,n)}};function setSelected(g,n){const r=g.multiple;if(!(r&&!isArray$9(n)&&!isSet$2(n))){for(let $=0,L=g.options.length;$<L;$++){const V=g.options[$],oe=getValue$2(V);if(r)isArray$9(n)?V.selected=looseIndexOf(n,oe)>-1:V.selected=n.has(oe);else if(looseEqual(getValue$2(V),n)){g.selectedIndex!==$&&(g.selectedIndex=$);return}}!r&&g.selectedIndex!==-1&&(g.selectedIndex=-1)}}function getValue$2(g){return"_value"in g?g._value:g.value}function getCheckboxValue(g,n){const r=n?"_trueValue":"_falseValue";return r in g?g[r]:n}vModelDynamic={created(g,n,r){callModelHook(g,n,r,null,"created")},mounted(g,n,r){callModelHook(g,n,r,null,"mounted")},beforeUpdate(g,n,r,$){callModelHook(g,n,r,$,"beforeUpdate")},updated(g,n,r,$){callModelHook(g,n,r,$,"updated")}};function resolveDynamicModel(g,n){switch(g){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(n){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(g,n,r,$,L){const V=resolveDynamicModel(g.tagName,r.props&&r.props.type)[L];V&&V(g,n,r,$)}function initVModelForSSR(){vModelText.getSSRProps=({value:g})=>({value:g}),vModelRadio.getSSRProps=({value:g},n)=>{if(n.props&&looseEqual(n.props.value,g))return{checked:!0}},vModelCheckbox.getSSRProps=({value:g},n)=>{if(isArray$9(g)){if(n.props&&looseIndexOf(g,n.props.value)>-1)return{checked:!0}}else if(isSet$2(g)){if(n.props&&g.has(n.props.value))return{checked:!0}}else if(g)return{checked:!0}},vModelDynamic.getSSRProps=(g,n)=>{if(typeof n.type!="string")return;const r=resolveDynamicModel(n.type.toUpperCase(),n.props&&n.props.type);if(r.getSSRProps)return r.getSSRProps(g,n)}}let systemModifiers,modifierGuards,keyNames;systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:g=>g.stopPropagation(),prevent:g=>g.preventDefault(),self:g=>g.target!==g.currentTarget,ctrl:g=>!g.ctrlKey,shift:g=>!g.shiftKey,alt:g=>!g.altKey,meta:g=>!g.metaKey,left:g=>"button"in g&&g.button!==0,middle:g=>"button"in g&&g.button!==1,right:g=>"button"in g&&g.button!==2,exact:(g,n)=>systemModifiers.some(r=>g[`${r}Key`]&&!n.includes(r))},withModifiers=(g,n)=>(r,...$)=>{for(let L=0;L<n.length;L++){const V=modifierGuards[n[L]];if(V&&V(r,n))return}return g(r,...$)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(g,n)=>r=>{if(!("key"in r))return;const $=hyphenate(r.key);if(n.some(L=>L===$||keyNames[L]===$))return g(r)},vShow={beforeMount(g,{value:n},{transition:r}){g._vod=g.style.display==="none"?"":g.style.display,r&&n?r.beforeEnter(g):setDisplay(g,n)},mounted(g,{value:n},{transition:r}){r&&n&&r.enter(g)},updated(g,{value:n,oldValue:r},{transition:$}){!n!=!r&&($?n?($.beforeEnter(g),setDisplay(g,!0),$.enter(g)):$.leave(g,()=>{setDisplay(g,!1)}):setDisplay(g,n))},beforeUnmount(g,{value:n}){setDisplay(g,n)}};function setDisplay(g,n){g.style.display=n?g._vod:"none"}function initVShowForSSR(){vShow.getSSRProps=({value:g})=>{if(!g)return{style:{display:"none"}}}}const rendererOptions=extend$5({patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}render$2=(...g)=>{ensureRenderer().render(...g)},hydrate=(...g)=>{ensureHydrationRenderer().hydrate(...g)},createApp=(...g)=>{const n=ensureRenderer().createApp(...g),{mount:r}=n;return n.mount=$=>{const L=normalizeContainer($);if(!L)return;const V=n._component;!isFunction$5(V)&&!V.render&&!V.template&&(V.template=L.innerHTML),L.innerHTML="";const oe=r(L,!1,L instanceof SVGElement);return L instanceof Element&&(L.removeAttribute("v-cloak"),L.setAttribute("data-v-app","")),oe},n},createSSRApp=(...g)=>{const n=ensureHydrationRenderer().createApp(...g),{mount:r}=n;return n.mount=$=>{const L=normalizeContainer($);if(L)return r(L,!0,L instanceof SVGElement)},n};function normalizeContainer(g){return isString$5(g)?document.querySelector(g):g}let ssrDirectiveInitialized=!1,App_vue_vue_type_style_index_0_lang,_sfc_main$1b;initDirectivesForSSR=()=>{ssrDirectiveInitialized||(ssrDirectiveInitialized=!0,initVModelForSSR(),initVShowForSSR())},App_vue_vue_type_style_index_0_lang="",_export_sfc$2=(g,n)=>{const r=g.__vccOpts||g;for(const[$,L]of n)r[$]=L;return r},_sfc_main$1b={};function _sfc_render$e(g,n){const r=resolveComponent("router-view");return openBlock(),createBlock(r)}const App=_export_sfc$2(_sfc_main$1b,[["render",_sfc_render$e]]);var isVue2=!1;let activePinia;const setActivePinia=g=>activePinia=g,piniaSymbol=Symbol();function isPlainObject$2(g){return g&&typeof g=="object"&&Object.prototype.toString.call(g)==="[object Object]"&&typeof g.toJSON!="function"}var MutationType;(function(g){g.direct="direct",g.patchObject="patch object",g.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const g=effectScope(!0),n=g.run(()=>ref({}));let r=[],$=[];const L=markRaw({install(V){setActivePinia(L),L._a=V,V.provide(piniaSymbol,L),V.config.globalProperties.$pinia=L,$.forEach(oe=>r.push(oe)),$=[]},use(V){return!this._a&&!isVue2?$.push(V):r.push(V),this},_p:r,_a:null,_e:g,_s:new Map,state:n});return L}const noop$7=()=>{};function addSubscription(g,n,r,$=noop$7){g.push(n);const L=()=>{const V=g.indexOf(n);V>-1&&(g.splice(V,1),$())};return!r&&getCurrentScope()&&onScopeDispose(L),L}function triggerSubscriptions(g,...n){g.slice().forEach(r=>{r(...n)})}function mergeReactiveObjects(g,n){g instanceof Map&&n instanceof Map&&n.forEach((r,$)=>g.set($,r)),g instanceof Set&&n instanceof Set&&n.forEach(g.add,g);for(const r in n){if(!n.hasOwnProperty(r))continue;const $=n[r],L=g[r];isPlainObject$2(L)&&isPlainObject$2($)&&g.hasOwnProperty(r)&&!isRef($)&&!isReactive($)?g[r]=mergeReactiveObjects(L,$):g[r]=$}return g}const skipHydrateSymbol=Symbol();function shouldHydrate(g){return!isPlainObject$2(g)||!g.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$2}=Object;function isComputed(g){return!!(isRef(g)&&g.effect)}function createOptionsStore(g,n,r,$){const{state:L,actions:V,getters:oe}=n,ae=r.state.value[g];let re;function le(){ae||(r.state.value[g]=L?L():{});const ue=toRefs(r.state.value[g]);return assign$2(ue,V,Object.keys(oe||{}).reduce((de,he)=>(de[he]=markRaw(computed(()=>{setActivePinia(r);const pe=r._s.get(g);return oe[he].call(pe,pe)})),de),{}))}return re=createSetupStore(g,le,n,r,$,!0),re.$reset=function(){const ue=L?L():{};this.$patch(de=>{assign$2(de,ue)})},re}function createSetupStore(g,n,r={},$,L,V){let oe;const ae=assign$2({actions:{}},r),re={deep:!0};let le,ue,de=markRaw([]),he=markRaw([]),pe;const _e=$.state.value[g];!V&&!_e&&($.state.value[g]={}),ref({});let $e;function xe(Ue){let At;le=ue=!1,typeof Ue=="function"?(Ue($.state.value[g]),At={type:MutationType.patchFunction,storeId:g,events:pe}):(mergeReactiveObjects($.state.value[g],Ue),At={type:MutationType.patchObject,payload:Ue,storeId:g,events:pe});const Et=$e=Symbol();nextTick().then(()=>{$e===Et&&(le=!0)}),ue=!0,triggerSubscriptions(de,At,$.state.value[g])}const Oe=noop$7;function Ce(){oe.stop(),de=[],he=[],$._s.delete(g)}function Ie(Ue,At){return function(){setActivePinia($);const Et=Array.from(arguments),Pt=[],kt=[];function Dt(vn){Pt.push(vn)}function Lt(vn){kt.push(vn)}triggerSubscriptions(he,{args:Et,name:Ue,store:ze,after:Dt,onError:Lt});let hn;try{hn=At.apply(this&&this.$id===g?this:ze,Et)}catch(vn){throw triggerSubscriptions(kt,vn),vn}return hn instanceof Promise?hn.then(vn=>(triggerSubscriptions(Pt,vn),vn)).catch(vn=>(triggerSubscriptions(kt,vn),Promise.reject(vn))):(triggerSubscriptions(Pt,hn),hn)}}const Ne={_p:$,$id:g,$onAction:addSubscription.bind(null,he),$patch:xe,$reset:Oe,$subscribe(Ue,At={}){const Et=addSubscription(de,Ue,At.detached,()=>Pt()),Pt=oe.run(()=>watch(()=>$.state.value[g],kt=>{(At.flush==="sync"?ue:le)&&Ue({storeId:g,type:MutationType.direct,events:pe},kt)},assign$2({},re,At)));return Et},$dispose:Ce},ze=reactive(Ne);$._s.set(g,ze);const Fe=$._e.run(()=>(oe=effectScope(),oe.run(()=>n())));for(const Ue in Fe){const At=Fe[Ue];if(isRef(At)&&!isComputed(At)||isReactive(At))V||(_e&&shouldHydrate(At)&&(isRef(At)?At.value=_e[Ue]:mergeReactiveObjects(At,_e[Ue])),$.state.value[g][Ue]=At);else if(typeof At=="function"){const Et=Ie(Ue,At);Fe[Ue]=Et,ae.actions[Ue]=At}}return assign$2(ze,Fe),assign$2(toRaw(ze),Fe),Object.defineProperty(ze,"$state",{get:()=>$.state.value[g],set:Ue=>{xe(At=>{assign$2(At,Ue)})}}),$._p.forEach(Ue=>{assign$2(ze,oe.run(()=>Ue({store:ze,app:$._a,pinia:$,options:ae})))}),_e&&V&&r.hydrate&&r.hydrate(ze.$state,_e),le=!0,ue=!0,ze}defineStore=function(n,r,$){let L,V;const oe=typeof r=="function";typeof n=="string"?(L=n,V=oe?$:r):(V=n,L=n.id);function ae(re,le){const ue=getCurrentInstance();return re=re||ue&&inject(piniaSymbol),re&&setActivePinia(re),re=activePinia,re._s.has(L)||(oe?createSetupStore(L,r,V,re):createOptionsStore(L,V,re)),re._s.get(L)}return ae.$id=L,ae},storeToRefs=function(n){if(isVue2)return toRefs(n);{n=toRaw(n);const r={};for(const $ in n){const L=n[$];(isRef(L)||isReactive(L))&&(r[$]=toRef(n,$))}return r}};var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")();const root$1=root;var Symbol$3=root$1.Symbol;const Symbol$4=Symbol$3;var objectProto$e=Object.prototype,hasOwnProperty$d=objectProto$e.hasOwnProperty,nativeObjectToString$1=objectProto$e.toString,symToStringTag$1=Symbol$4?Symbol$4.toStringTag:void 0;function getRawTag(g){var n=hasOwnProperty$d.call(g,symToStringTag$1),r=g[symToStringTag$1];try{g[symToStringTag$1]=void 0;var $=!0}catch{}var L=nativeObjectToString$1.call(g);return $&&(n?g[symToStringTag$1]=r:delete g[symToStringTag$1]),L}var objectProto$d=Object.prototype,nativeObjectToString=objectProto$d.toString;function objectToString(g){return nativeObjectToString.call(g)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$4?Symbol$4.toStringTag:void 0;function baseGetTag(g){return g==null?g===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(g)?getRawTag(g):objectToString(g)}function isObjectLike(g){return g!=null&&typeof g=="object"}var symbolTag$3="[object Symbol]";function isSymbol(g){return typeof g=="symbol"||isObjectLike(g)&&baseGetTag(g)==symbolTag$3}function arrayMap(g,n){for(var r=-1,$=g==null?0:g.length,L=Array($);++r<$;)L[r]=n(g[r],r,g);return L}var isArray$7=Array.isArray;const isArray$8=isArray$7;var INFINITY$2=1/0,symbolProto$2=Symbol$4?Symbol$4.prototype:void 0,symbolToString=symbolProto$2?symbolProto$2.toString:void 0;function baseToString(g){if(typeof g=="string")return g;if(isArray$8(g))return arrayMap(g,baseToString)+"";if(isSymbol(g))return symbolToString?symbolToString.call(g):"";var n=g+"";return n=="0"&&1/g==-INFINITY$2?"-0":n}var reWhitespace=/\s/;function trimmedEndIndex(g){for(var n=g.length;n--&&reWhitespace.test(g.charAt(n)););return n}var reTrimStart=/^\s+/;function baseTrim(g){return g&&g.slice(0,trimmedEndIndex(g)+1).replace(reTrimStart,"")}function isObject$b(g){var n=typeof g;return g!=null&&(n=="object"||n=="function")}var NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(g){if(typeof g=="number")return g;if(isSymbol(g))return NAN;if(isObject$b(g)){var n=typeof g.valueOf=="function"?g.valueOf():g;g=isObject$b(n)?n+"":n}if(typeof g!="string")return g===0?g:+g;g=baseTrim(g);var r=reIsBinary.test(g);return r||reIsOctal.test(g)?freeParseInt(g.slice(2),r?2:8):reIsBadHex.test(g)?NAN:+g}function identity$3(g){return g}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$4(g){if(!isObject$b(g))return!1;var n=baseGetTag(g);return n==funcTag$2||n==genTag$1||n==asyncTag||n==proxyTag}var coreJsData=root$1["__core-js_shared__"];const coreJsData$1=coreJsData;var maskSrcKey=function(){var g=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}();function isMasked(g){return!!maskSrcKey&&maskSrcKey in g}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(g){if(g!=null){try{return funcToString$1.call(g)}catch{}try{return g+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$c=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$c=objectProto$c.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$c).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(g){if(!isObject$b(g)||isMasked(g))return!1;var n=isFunction$4(g)?reIsNative:reIsHostCtor;return n.test(toSource(g))}function getValue$1(g,n){return g==null?void 0:g[n]}function getNative(g,n){var r=getValue$1(g,n);return baseIsNative(r)?r:void 0}var WeakMap$4=getNative(root$1,"WeakMap");const WeakMap$5=WeakMap$4;var objectCreate=Object.create,baseCreate=function(){function g(){}return function(n){if(!isObject$b(n))return{};if(objectCreate)return objectCreate(n);g.prototype=n;var r=new g;return g.prototype=void 0,r}}();const baseCreate$1=baseCreate;function apply(g,n,r){switch(r.length){case 0:return g.call(n);case 1:return g.call(n,r[0]);case 2:return g.call(n,r[0],r[1]);case 3:return g.call(n,r[0],r[1],r[2])}return g.apply(n,r)}function noop$6(){}function copyArray(g,n){var r=-1,$=g.length;for(n||(n=Array($));++r<$;)n[r]=g[r];return n}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(g){var n=0,r=0;return function(){var $=nativeNow(),L=HOT_SPAN-($-r);if(r=$,L>0){if(++n>=HOT_COUNT)return arguments[0]}else n=0;return g.apply(void 0,arguments)}}function constant(g){return function(){return g}}var defineProperty=function(){try{var g=getNative(Object,"defineProperty");return g({},"",{}),g}catch{}}();const defineProperty$1=defineProperty;var baseSetToString=defineProperty$1?function(g,n){return defineProperty$1(g,"toString",{configurable:!0,enumerable:!1,value:constant(n),writable:!0})}:identity$3;const baseSetToString$1=baseSetToString;var setToString=shortOut(baseSetToString$1);const setToString$1=setToString;function arrayEach(g,n){for(var r=-1,$=g==null?0:g.length;++r<$&&n(g[r],r,g)!==!1;);return g}function baseFindIndex(g,n,r,$){for(var L=g.length,V=r+($?1:-1);$?V--:++V<L;)if(n(g[V],V,g))return V;return-1}function baseIsNaN(g){return g!==g}function strictIndexOf(g,n,r){for(var $=r-1,L=g.length;++$<L;)if(g[$]===n)return $;return-1}function baseIndexOf(g,n,r){return n===n?strictIndexOf(g,n,r):baseFindIndex(g,baseIsNaN,r)}function arrayIncludes(g,n){var r=g==null?0:g.length;return!!r&&baseIndexOf(g,n,0)>-1}var MAX_SAFE_INTEGER$3=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(g,n){var r=typeof g;return n=n!=null?n:MAX_SAFE_INTEGER$3,!!n&&(r=="number"||r!="symbol"&&reIsUint.test(g))&&g>-1&&g%1==0&&g<n}function baseAssignValue(g,n,r){n=="__proto__"&&defineProperty$1?defineProperty$1(g,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):g[n]=r}function eq(g,n){return g===n||g!==g&&n!==n}var objectProto$b=Object.prototype,hasOwnProperty$b=objectProto$b.hasOwnProperty;function assignValue(g,n,r){var $=g[n];(!(hasOwnProperty$b.call(g,n)&&eq($,r))||r===void 0&&!(n in g))&&baseAssignValue(g,n,r)}function copyObject(g,n,r,$){var L=!r;r||(r={});for(var V=-1,oe=n.length;++V<oe;){var ae=n[V],re=$?$(r[ae],g[ae],ae,r,g):void 0;re===void 0&&(re=g[ae]),L?baseAssignValue(r,ae,re):assignValue(r,ae,re)}return r}var nativeMax$1=Math.max;function overRest(g,n,r){return n=nativeMax$1(n===void 0?g.length-1:n,0),function(){for(var $=arguments,L=-1,V=nativeMax$1($.length-n,0),oe=Array(V);++L<V;)oe[L]=$[n+L];L=-1;for(var ae=Array(n+1);++L<n;)ae[L]=$[L];return ae[n]=r(oe),apply(g,this,ae)}}function baseRest(g,n){return setToString$1(overRest(g,n,identity$3),g+"")}var MAX_SAFE_INTEGER$2=9007199254740991;function isLength(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=MAX_SAFE_INTEGER$2}function isArrayLike$2(g){return g!=null&&isLength(g.length)&&!isFunction$4(g)}var objectProto$a=Object.prototype;function isPrototype(g){var n=g&&g.constructor,r=typeof n=="function"&&n.prototype||objectProto$a;return g===r}function baseTimes(g,n){for(var r=-1,$=Array(g);++r<g;)$[r]=n(r);return $}var argsTag$3="[object Arguments]";function baseIsArguments(g){return isObjectLike(g)&&baseGetTag(g)==argsTag$3}var objectProto$9=Object.prototype,hasOwnProperty$a=objectProto$9.hasOwnProperty,propertyIsEnumerable$1=objectProto$9.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(g){return isObjectLike(g)&&hasOwnProperty$a.call(g,"callee")&&!propertyIsEnumerable$1.call(g,"callee")};const isArguments$1=isArguments;function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root$1.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer$2=nativeIsBuffer||stubFalse;const isBuffer$3=isBuffer$2;var argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$5="[object Map]",numberTag$3="[object Number]",objectTag$3="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0,typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(g){return isObjectLike(g)&&isLength(g.length)&&!!typedArrayTags[baseGetTag(g)]}function baseUnary(g){return function(n){return g(n)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal$1.process,nodeUtil=function(){try{var g=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return g||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}();const nodeUtil$1=nodeUtil;var nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray$4=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;const isTypedArray$5=isTypedArray$4;var objectProto$8=Object.prototype,hasOwnProperty$9=objectProto$8.hasOwnProperty;function arrayLikeKeys(g,n){var r=isArray$8(g),$=!r&&isArguments$1(g),L=!r&&!$&&isBuffer$3(g),V=!r&&!$&&!L&&isTypedArray$5(g),oe=r||$||L||V,ae=oe?baseTimes(g.length,String):[],re=ae.length;for(var le in g)(n||hasOwnProperty$9.call(g,le))&&!(oe&&(le=="length"||L&&(le=="offset"||le=="parent")||V&&(le=="buffer"||le=="byteLength"||le=="byteOffset")||isIndex(le,re)))&&ae.push(le);return ae}function overArg(g,n){return function(r){return g(n(r))}}var nativeKeys=overArg(Object.keys,Object);const nativeKeys$1=nativeKeys;var objectProto$7=Object.prototype,hasOwnProperty$8=objectProto$7.hasOwnProperty;function baseKeys(g){if(!isPrototype(g))return nativeKeys$1(g);var n=[];for(var r in Object(g))hasOwnProperty$8.call(g,r)&&r!="constructor"&&n.push(r);return n}function keys$3(g){return isArrayLike$2(g)?arrayLikeKeys(g):baseKeys(g)}function nativeKeysIn(g){var n=[];if(g!=null)for(var r in Object(g))n.push(r);return n}var objectProto$6=Object.prototype,hasOwnProperty$7=objectProto$6.hasOwnProperty;function baseKeysIn(g){if(!isObject$b(g))return nativeKeysIn(g);var n=isPrototype(g),r=[];for(var $ in g)$=="constructor"&&(n||!hasOwnProperty$7.call(g,$))||r.push($);return r}function keysIn(g){return isArrayLike$2(g)?arrayLikeKeys(g,!0):baseKeysIn(g)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(g,n){if(isArray$8(g))return!1;var r=typeof g;return r=="number"||r=="symbol"||r=="boolean"||g==null||isSymbol(g)?!0:reIsPlainProp.test(g)||!reIsDeepProp.test(g)||n!=null&&g in Object(n)}var nativeCreate=getNative(Object,"create");const nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(g){var n=this.has(g)&&delete this.__data__[g];return this.size-=n?1:0,n}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$5=Object.prototype,hasOwnProperty$6=objectProto$5.hasOwnProperty;function hashGet(g){var n=this.__data__;if(nativeCreate$1){var r=n[g];return r===HASH_UNDEFINED$2?void 0:r}return hasOwnProperty$6.call(n,g)?n[g]:void 0}var objectProto$4=Object.prototype,hasOwnProperty$5=objectProto$4.hasOwnProperty;function hashHas(g){var n=this.__data__;return nativeCreate$1?n[g]!==void 0:hasOwnProperty$5.call(n,g)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(g,n){var r=this.__data__;return this.size+=this.has(g)?0:1,r[g]=nativeCreate$1&&n===void 0?HASH_UNDEFINED$1:n,this}function Hash(g){var n=-1,r=g==null?0:g.length;for(this.clear();++n<r;){var $=g[n];this.set($[0],$[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(g,n){for(var r=g.length;r--;)if(eq(g[r][0],n))return r;return-1}var arrayProto$2=Array.prototype,splice=arrayProto$2.splice;function listCacheDelete(g){var n=this.__data__,r=assocIndexOf(n,g);if(r<0)return!1;var $=n.length-1;return r==$?n.pop():splice.call(n,r,1),--this.size,!0}function listCacheGet$2(g){var n=this.__data__,r=assocIndexOf(n,g);return r<0?void 0:n[r][1]}function listCacheHas(g){return assocIndexOf(this.__data__,g)>-1}function listCacheSet$2(g,n){var r=this.__data__,$=assocIndexOf(r,g);return $<0?(++this.size,r.push([g,n])):r[$][1]=n,this}function ListCache(g){var n=-1,r=g==null?0:g.length;for(this.clear();++n<r;){var $=g[n];this.set($[0],$[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet$2,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet$2;var Map$1=getNative(root$1,"Map");const Map$2=Map$1;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(g){var n=typeof g;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?g!=="__proto__":g===null}function getMapData(g,n){var r=g.__data__;return isKeyable(n)?r[typeof n=="string"?"string":"hash"]:r.map}function mapCacheDelete(g){var n=getMapData(this,g).delete(g);return this.size-=n?1:0,n}function mapCacheGet(g){return getMapData(this,g).get(g)}function mapCacheHas(g){return getMapData(this,g).has(g)}function mapCacheSet(g,n){var r=getMapData(this,g),$=r.size;return r.set(g,n),this.size+=r.size==$?0:1,this}function MapCache(g){var n=-1,r=g==null?0:g.length;for(this.clear();++n<r;){var $=g[n];this.set($[0],$[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT$1="Expected a function";function memoize(g,n){if(typeof g!="function"||n!=null&&typeof n!="function")throw new TypeError(FUNC_ERROR_TEXT$1);var r=function(){var $=arguments,L=n?n.apply(this,$):$[0],V=r.cache;if(V.has(L))return V.get(L);var oe=g.apply(this,$);return r.cache=V.set(L,oe)||V,oe};return r.cache=new(memoize.Cache||MapCache),r}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(g){var n=memoize(g,function($){return r.size===MAX_MEMOIZE_SIZE&&r.clear(),$}),r=n.cache;return n}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(g){var n=[];return g.charCodeAt(0)===46&&n.push(""),g.replace(rePropName,function(r,$,L,V){n.push(L?V.replace(reEscapeChar,"$1"):$||r)}),n});const stringToPath$1=stringToPath;function toString$2(g){return g==null?"":baseToString(g)}function castPath(g,n){return isArray$8(g)?g:isKey(g,n)?[g]:stringToPath$1(toString$2(g))}var INFINITY$1=1/0;function toKey(g){if(typeof g=="string"||isSymbol(g))return g;var n=g+"";return n=="0"&&1/g==-INFINITY$1?"-0":n}function baseGet(g,n){n=castPath(n,g);for(var r=0,$=n.length;g!=null&&r<$;)g=g[toKey(n[r++])];return r&&r==$?g:void 0}function get$2(g,n,r){var $=g==null?void 0:baseGet(g,n);return $===void 0?r:$}function arrayPush(g,n){for(var r=-1,$=n.length,L=g.length;++r<$;)g[L+r]=n[r];return g}var spreadableSymbol=Symbol$4?Symbol$4.isConcatSpreadable:void 0;function isFlattenable(g){return isArray$8(g)||isArguments$1(g)||!!(spreadableSymbol&&g&&g[spreadableSymbol])}function baseFlatten(g,n,r,$,L){var V=-1,oe=g.length;for(r||(r=isFlattenable),L||(L=[]);++V<oe;){var ae=g[V];n>0&&r(ae)?n>1?baseFlatten(ae,n-1,r,$,L):arrayPush(L,ae):$||(L[L.length]=ae)}return L}function flatten$1(g){var n=g==null?0:g.length;return n?baseFlatten(g,1):[]}function flatRest(g){return setToString$1(overRest(g,void 0,flatten$1),g+"")}var getPrototype=overArg(Object.getPrototypeOf,Object);const getPrototype$1=getPrototype;castArray$1=function(){if(!arguments.length)return[];var n=arguments[0];return isArray$8(n)?n:[n]};function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(g){var n=this.__data__,r=n.delete(g);return this.size=n.size,r}function stackGet(g){return this.__data__.get(g)}function stackHas(g){return this.__data__.has(g)}var LARGE_ARRAY_SIZE$1=200;function stackSet(g,n){var r=this.__data__;if(r instanceof ListCache){var $=r.__data__;if(!Map$2||$.length<LARGE_ARRAY_SIZE$1-1)return $.push([g,n]),this.size=++r.size,this;r=this.__data__=new MapCache($)}return r.set(g,n),this.size=r.size,this}function Stack$1(g){var n=this.__data__=new ListCache(g);this.size=n.size}Stack$1.prototype.clear=stackClear,Stack$1.prototype.delete=stackDelete,Stack$1.prototype.get=stackGet,Stack$1.prototype.has=stackHas,Stack$1.prototype.set=stackSet;function baseAssign(g,n){return g&&copyObject(n,keys$3(n),g)}function baseAssignIn(g,n){return g&&copyObject(n,keysIn(n),g)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root$1.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(g,n){if(n)return g.slice();var r=g.length,$=allocUnsafe?allocUnsafe(r):new g.constructor(r);return g.copy($),$}function arrayFilter(g,n){for(var r=-1,$=g==null?0:g.length,L=0,V=[];++r<$;){var oe=g[r];n(oe,r,g)&&(V[L++]=oe)}return V}function stubArray(){return[]}var objectProto$3=Object.prototype,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(g){return g==null?[]:(g=Object(g),arrayFilter(nativeGetSymbols$1(g),function(n){return propertyIsEnumerable.call(g,n)}))}:stubArray;const getSymbols$1=getSymbols;function copySymbols(g,n){return copyObject(g,getSymbols$1(g),n)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(g){for(var n=[];g;)arrayPush(n,getSymbols$1(g)),g=getPrototype$1(g);return n}:stubArray;const getSymbolsIn$1=getSymbolsIn;function copySymbolsIn(g,n){return copyObject(g,getSymbolsIn$1(g),n)}function baseGetAllKeys(g,n,r){var $=n(g);return isArray$8(g)?$:arrayPush($,r(g))}function getAllKeys(g){return baseGetAllKeys(g,keys$3,getSymbols$1)}function getAllKeysIn(g){return baseGetAllKeys(g,keysIn,getSymbolsIn$1)}var DataView$4=getNative(root$1,"DataView");const DataView$5=DataView$4;var Promise$1=getNative(root$1,"Promise");const Promise$2=Promise$1;var Set$1=getNative(root$1,"Set");const Set$2=Set$1;var mapTag$4="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$4="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView$5),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$5),getTag=baseGetTag;(DataView$5&&getTag(new DataView$5(new ArrayBuffer(1)))!=dataViewTag$3||Map$2&&getTag(new Map$2)!=mapTag$4||Promise$2&&getTag(Promise$2.resolve())!=promiseTag||Set$2&&getTag(new Set$2)!=setTag$4||WeakMap$5&&getTag(new WeakMap$5)!=weakMapTag$1)&&(getTag=function(g){var n=baseGetTag(g),r=n==objectTag$2?g.constructor:void 0,$=r?toSource(r):"";if($)switch($){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$4;case promiseCtorString:return promiseTag;case setCtorString:return setTag$4;case weakMapCtorString:return weakMapTag$1}return n});const getTag$1=getTag;var objectProto$2=Object.prototype,hasOwnProperty$4=objectProto$2.hasOwnProperty;function initCloneArray(g){var n=g.length,r=new g.constructor(n);return n&&typeof g[0]=="string"&&hasOwnProperty$4.call(g,"index")&&(r.index=g.index,r.input=g.input),r}var Uint8Array$1=root$1.Uint8Array;const Uint8Array$2=Uint8Array$1;function cloneArrayBuffer(g){var n=new g.constructor(g.byteLength);return new Uint8Array$2(n).set(new Uint8Array$2(g)),n}function cloneDataView(g,n){var r=n?cloneArrayBuffer(g.buffer):g.buffer;return new g.constructor(r,g.byteOffset,g.byteLength)}var reFlags=/\w*$/;function cloneRegExp(g){var n=new g.constructor(g.source,reFlags.exec(g));return n.lastIndex=g.lastIndex,n}var symbolProto$1=Symbol$4?Symbol$4.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(g){return symbolValueOf$1?Object(symbolValueOf$1.call(g)):{}}function cloneTypedArray(g,n){var r=n?cloneArrayBuffer(g.buffer):g.buffer;return new g.constructor(r,g.byteOffset,g.length)}var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$3="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(g,n,r){var $=g.constructor;switch(n){case arrayBufferTag$2:return cloneArrayBuffer(g);case boolTag$2:case dateTag$2:return new $(+g);case dataViewTag$2:return cloneDataView(g,r);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(g,r);case mapTag$3:return new $;case numberTag$2:case stringTag$2:return new $(g);case regexpTag$2:return cloneRegExp(g);case setTag$3:return new $;case symbolTag$2:return cloneSymbol(g)}}function initCloneObject(g){return typeof g.constructor=="function"&&!isPrototype(g)?baseCreate$1(getPrototype$1(g)):{}}var mapTag$2="[object Map]";function baseIsMap(g){return isObjectLike(g)&&getTag$1(g)==mapTag$2}var nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;const isMap$1=isMap;var setTag$2="[object Set]";function baseIsSet(g){return isObjectLike(g)&&getTag$1(g)==setTag$2}var nodeIsSet=nodeUtil$1&&nodeUtil$1.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;const isSet$1=isSet;var CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$2=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$1="[object Map]",numberTag$1="[object Number]",objectTag$1="[object Object]",regexpTag$1="[object RegExp]",setTag$1="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$1]=cloneableTags[numberTag$1]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$1]=cloneableTags[setTag$1]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(g,n,r,$,L,V){var oe,ae=n&CLONE_DEEP_FLAG$1,re=n&CLONE_FLAT_FLAG,le=n&CLONE_SYMBOLS_FLAG$2;if(r&&(oe=L?r(g,$,L,V):r(g)),oe!==void 0)return oe;if(!isObject$b(g))return g;var ue=isArray$8(g);if(ue){if(oe=initCloneArray(g),!ae)return copyArray(g,oe)}else{var de=getTag$1(g),he=de==funcTag||de==genTag;if(isBuffer$3(g))return cloneBuffer(g,ae);if(de==objectTag$1||de==argsTag$1||he&&!L){if(oe=re||he?{}:initCloneObject(g),!ae)return re?copySymbolsIn(g,baseAssignIn(oe,g)):copySymbols(g,baseAssign(oe,g))}else{if(!cloneableTags[de])return L?g:{};oe=initCloneByTag(g,de,ae)}}V||(V=new Stack$1);var pe=V.get(g);if(pe)return pe;V.set(g,oe),isSet$1(g)?g.forEach(function(xe){oe.add(baseClone(xe,n,r,xe,g,V))}):isMap$1(g)&&g.forEach(function(xe,Oe){oe.set(Oe,baseClone(xe,n,r,Oe,g,V))});var _e=le?re?getAllKeysIn:getAllKeys:re?keysIn:keys$3,$e=ue?void 0:_e(g);return arrayEach($e||g,function(xe,Oe){$e&&(Oe=xe,xe=g[Oe]),assignValue(oe,Oe,baseClone(xe,n,r,Oe,g,V))}),oe}var CLONE_SYMBOLS_FLAG$1=4;function clone$a(g){return baseClone(g,CLONE_SYMBOLS_FLAG$1)}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(g){return baseClone(g,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(g){return this.__data__.set(g,HASH_UNDEFINED),this}function setCacheHas(g){return this.__data__.has(g)}function SetCache(g){var n=-1,r=g==null?0:g.length;for(this.__data__=new MapCache;++n<r;)this.add(g[n])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas;function arraySome(g,n){for(var r=-1,$=g==null?0:g.length;++r<$;)if(n(g[r],r,g))return!0;return!1}function cacheHas(g,n){return g.has(n)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(g,n,r,$,L,V){var oe=r&COMPARE_PARTIAL_FLAG$5,ae=g.length,re=n.length;if(ae!=re&&!(oe&&re>ae))return!1;var le=V.get(g),ue=V.get(n);if(le&&ue)return le==n&&ue==g;var de=-1,he=!0,pe=r&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(V.set(g,n),V.set(n,g);++de<ae;){var _e=g[de],$e=n[de];if($)var xe=oe?$($e,_e,de,n,g,V):$(_e,$e,de,g,n,V);if(xe!==void 0){if(xe)continue;he=!1;break}if(pe){if(!arraySome(n,function(Oe,Ce){if(!cacheHas(pe,Ce)&&(_e===Oe||L(_e,Oe,r,$,V)))return pe.push(Ce)})){he=!1;break}}else if(!(_e===$e||L(_e,$e,r,$,V))){he=!1;break}}return V.delete(g),V.delete(n),he}function mapToArray(g){var n=-1,r=Array(g.size);return g.forEach(function($,L){r[++n]=[L,$]}),r}function setToArray(g){var n=-1,r=Array(g.size);return g.forEach(function($){r[++n]=$}),r}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$4?Symbol$4.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(g,n,r,$,L,V,oe){switch(r){case dataViewTag:if(g.byteLength!=n.byteLength||g.byteOffset!=n.byteOffset)return!1;g=g.buffer,n=n.buffer;case arrayBufferTag:return!(g.byteLength!=n.byteLength||!V(new Uint8Array$2(g),new Uint8Array$2(n)));case boolTag:case dateTag:case numberTag:return eq(+g,+n);case errorTag:return g.name==n.name&&g.message==n.message;case regexpTag:case stringTag:return g==n+"";case mapTag:var ae=mapToArray;case setTag:var re=$&COMPARE_PARTIAL_FLAG$4;if(ae||(ae=setToArray),g.size!=n.size&&!re)return!1;var le=oe.get(g);if(le)return le==n;$|=COMPARE_UNORDERED_FLAG$2,oe.set(g,n);var ue=equalArrays(ae(g),ae(n),$,L,V,oe);return oe.delete(g),ue;case symbolTag:if(symbolValueOf)return symbolValueOf.call(g)==symbolValueOf.call(n)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$3=objectProto$1.hasOwnProperty;function equalObjects(g,n,r,$,L,V){var oe=r&COMPARE_PARTIAL_FLAG$3,ae=getAllKeys(g),re=ae.length,le=getAllKeys(n),ue=le.length;if(re!=ue&&!oe)return!1;for(var de=re;de--;){var he=ae[de];if(!(oe?he in n:hasOwnProperty$3.call(n,he)))return!1}var pe=V.get(g),_e=V.get(n);if(pe&&_e)return pe==n&&_e==g;var $e=!0;V.set(g,n),V.set(n,g);for(var xe=oe;++de<re;){he=ae[de];var Oe=g[he],Ce=n[he];if($)var Ie=oe?$(Ce,Oe,he,n,g,V):$(Oe,Ce,he,g,n,V);if(!(Ie===void 0?Oe===Ce||L(Oe,Ce,r,$,V):Ie)){$e=!1;break}xe||(xe=he=="constructor")}if($e&&!xe){var Ne=g.constructor,ze=n.constructor;Ne!=ze&&"constructor"in g&&"constructor"in n&&!(typeof Ne=="function"&&Ne instanceof Ne&&typeof ze=="function"&&ze instanceof ze)&&($e=!1)}return V.delete(g),V.delete(n),$e}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty$2=objectProto.hasOwnProperty;function baseIsEqualDeep(g,n,r,$,L,V){var oe=isArray$8(g),ae=isArray$8(n),re=oe?arrayTag:getTag$1(g),le=ae?arrayTag:getTag$1(n);re=re==argsTag?objectTag:re,le=le==argsTag?objectTag:le;var ue=re==objectTag,de=le==objectTag,he=re==le;if(he&&isBuffer$3(g)){if(!isBuffer$3(n))return!1;oe=!0,ue=!1}if(he&&!ue)return V||(V=new Stack$1),oe||isTypedArray$5(g)?equalArrays(g,n,r,$,L,V):equalByTag(g,n,re,r,$,L,V);if(!(r&COMPARE_PARTIAL_FLAG$2)){var pe=ue&&hasOwnProperty$2.call(g,"__wrapped__"),_e=de&&hasOwnProperty$2.call(n,"__wrapped__");if(pe||_e){var $e=pe?g.value():g,xe=_e?n.value():n;return V||(V=new Stack$1),L($e,xe,r,$,V)}}return he?(V||(V=new Stack$1),equalObjects(g,n,r,$,L,V)):!1}function baseIsEqual(g,n,r,$,L){return g===n?!0:g==null||n==null||!isObjectLike(g)&&!isObjectLike(n)?g!==g&&n!==n:baseIsEqualDeep(g,n,r,$,baseIsEqual,L)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(g,n,r,$){var L=r.length,V=L,oe=!$;if(g==null)return!V;for(g=Object(g);L--;){var ae=r[L];if(oe&&ae[2]?ae[1]!==g[ae[0]]:!(ae[0]in g))return!1}for(;++L<V;){ae=r[L];var re=ae[0],le=g[re],ue=ae[1];if(oe&&ae[2]){if(le===void 0&&!(re in g))return!1}else{var de=new Stack$1;if($)var he=$(le,ue,re,g,n,de);if(!(he===void 0?baseIsEqual(ue,le,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,$,de):he))return!1}}return!0}function isStrictComparable(g){return g===g&&!isObject$b(g)}function getMatchData(g){for(var n=keys$3(g),r=n.length;r--;){var $=n[r],L=g[$];n[r]=[$,L,isStrictComparable(L)]}return n}function matchesStrictComparable(g,n){return function(r){return r==null?!1:r[g]===n&&(n!==void 0||g in Object(r))}}function baseMatches(g){var n=getMatchData(g);return n.length==1&&n[0][2]?matchesStrictComparable(n[0][0],n[0][1]):function(r){return r===g||baseIsMatch(r,g,n)}}function baseHasIn(g,n){return g!=null&&n in Object(g)}function hasPath(g,n,r){n=castPath(n,g);for(var $=-1,L=n.length,V=!1;++$<L;){var oe=toKey(n[$]);if(!(V=g!=null&&r(g,oe)))break;g=g[oe]}return V||++$!=L?V:(L=g==null?0:g.length,!!L&&isLength(L)&&isIndex(oe,L)&&(isArray$8(g)||isArguments$1(g)))}function hasIn(g,n){return g!=null&&hasPath(g,n,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(g,n){return isKey(g)&&isStrictComparable(n)?matchesStrictComparable(toKey(g),n):function(r){var $=get$2(r,g);return $===void 0&&$===n?hasIn(r,g):baseIsEqual(n,$,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(g){return function(n){return n==null?void 0:n[g]}}function basePropertyDeep(g){return function(n){return baseGet(n,g)}}function property(g){return isKey(g)?baseProperty(toKey(g)):basePropertyDeep(g)}function baseIteratee(g){return typeof g=="function"?g:g==null?identity$3:typeof g=="object"?isArray$8(g)?baseMatchesProperty(g[0],g[1]):baseMatches(g):property(g)}function createBaseFor(g){return function(n,r,$){for(var L=-1,V=Object(n),oe=$(n),ae=oe.length;ae--;){var re=oe[g?ae:++L];if(r(V[re],re,V)===!1)break}return n}}var baseFor=createBaseFor();const baseFor$1=baseFor;function baseForOwn(g,n){return g&&baseFor$1(g,n,keys$3)}function createBaseEach(g,n){return function(r,$){if(r==null)return r;if(!isArrayLike$2(r))return g(r,$);for(var L=r.length,V=n?L:-1,oe=Object(r);(n?V--:++V<L)&&$(oe[V],V,oe)!==!1;);return r}}var baseEach=createBaseEach(baseForOwn);const baseEach$1=baseEach;var now=function(){return root$1.Date.now()};const now$1=now;var FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(g,n,r){var $,L,V,oe,ae,re,le=0,ue=!1,de=!1,he=!0;if(typeof g!="function")throw new TypeError(FUNC_ERROR_TEXT);n=toNumber(n)||0,isObject$b(r)&&(ue=!!r.leading,de="maxWait"in r,V=de?nativeMax(toNumber(r.maxWait)||0,n):V,he="trailing"in r?!!r.trailing:he);function pe(Fe){var Ue=$,At=L;return $=L=void 0,le=Fe,oe=g.apply(At,Ue),oe}function _e(Fe){return le=Fe,ae=setTimeout(Oe,n),ue?pe(Fe):oe}function $e(Fe){var Ue=Fe-re,At=Fe-le,Et=n-Ue;return de?nativeMin(Et,V-At):Et}function xe(Fe){var Ue=Fe-re,At=Fe-le;return re===void 0||Ue>=n||Ue<0||de&&At>=V}function Oe(){var Fe=now$1();if(xe(Fe))return Ce(Fe);ae=setTimeout(Oe,$e(Fe))}function Ce(Fe){return ae=void 0,he&&$?pe(Fe):($=L=void 0,oe)}function Ie(){ae!==void 0&&clearTimeout(ae),le=0,$=re=L=ae=void 0}function Ne(){return ae===void 0?oe:Ce(now$1())}function ze(){var Fe=now$1(),Ue=xe(Fe);if($=arguments,L=this,re=Fe,Ue){if(ae===void 0)return _e(re);if(de)return clearTimeout(ae),ae=setTimeout(Oe,n),pe(re)}return ae===void 0&&(ae=setTimeout(Oe,n)),oe}return ze.cancel=Ie,ze.flush=Ne,ze}function isArrayLikeObject(g){return isObjectLike(g)&&isArrayLike$2(g)}function arrayIncludesWith(g,n,r){for(var $=-1,L=g==null?0:g.length;++$<L;)if(r(n,g[$]))return!0;return!1}function baseMap(g,n){var r=-1,$=isArrayLike$2(g)?Array(g.length):[];return baseEach$1(g,function(L,V,oe){$[++r]=n(L,V,oe)}),$}function map$4(g,n){var r=isArray$8(g)?arrayMap:baseMap;return r(g,baseIteratee(n))}function flatMap(g,n){return baseFlatten(map$4(g,n),1)}function fromPairs(g){for(var n=-1,r=g==null?0:g.length,$={};++n<r;){var L=g[n];$[L[0]]=L[1]}return $}isEqual=function(n,r){return baseIsEqual(n,r)};function isNil(g){return g==null}function baseSet(g,n,r,$){if(!isObject$b(g))return g;n=castPath(n,g);for(var L=-1,V=n.length,oe=V-1,ae=g;ae!=null&&++L<V;){var re=toKey(n[L]),le=r;if(re==="__proto__"||re==="constructor"||re==="prototype")return g;if(L!=oe){var ue=ae[re];le=$?$(ue,re,ae):void 0,le===void 0&&(le=isObject$b(ue)?ue:isIndex(n[L+1])?[]:{})}assignValue(ae,re,le),ae=ae[re]}return g}function basePickBy(g,n,r){for(var $=-1,L=n.length,V={};++$<L;){var oe=n[$],ae=baseGet(g,oe);r(ae,oe)&&baseSet(V,castPath(oe,g),ae)}return V}function basePick(g,n){return basePickBy(g,n,function(r,$){return hasIn(g,$)})}var pick=flatRest(function(g,n){return g==null?{}:basePick(g,n)});const pick$1=pick;function set$4(g,n,r){return g==null?g:baseSet(g,n,r)}var INFINITY=1/0,createSet=Set$2&&1/setToArray(new Set$2([,-0]))[1]==INFINITY?function(g){return new Set$2(g)}:noop$6;const createSet$1=createSet;var LARGE_ARRAY_SIZE=200;function baseUniq(g,n,r){var $=-1,L=arrayIncludes,V=g.length,oe=!0,ae=[],re=ae;if(r)oe=!1,L=arrayIncludesWith;else if(V>=LARGE_ARRAY_SIZE){var le=n?null:createSet$1(g);if(le)return setToArray(le);oe=!1,L=cacheHas,re=new SetCache}else re=n?[]:ae;e:for(;++$<V;){var ue=g[$],de=n?n(ue):ue;if(ue=r||ue!==0?ue:0,oe&&de===de){for(var he=re.length;he--;)if(re[he]===de)continue e;n&&re.push(de),ae.push(ue)}else L(re,de,r)||(re!==ae&&re.push(de),ae.push(ue))}return ae}var union=baseRest(function(g){return baseUniq(baseFlatten(g,1,isArrayLikeObject,!0))});const union$1=union,triggerEvent=function(g,n,...r){let $;n.includes("mouse")||n.includes("click")?$="MouseEvents":n.includes("key")?$="KeyboardEvent":$="HTMLEvents";const L=document.createEvent($);return L.initEvent(n,...r),g.dispatchEvent(L),g},composeEventHandlers=(g,n,{checkForDefaultPrevented:r=!0}={})=>$=>{const L=g==null?void 0:g($);if(r===!1||!L)return n==null?void 0:n($)};var __defProp$9=Object.defineProperty,__defProps$6=Object.defineProperties,__getOwnPropDescs$6=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$b=Object.getOwnPropertySymbols,__hasOwnProp$b=Object.prototype.hasOwnProperty,__propIsEnum$b=Object.prototype.propertyIsEnumerable,__defNormalProp$9=(g,n,r)=>n in g?__defProp$9(g,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):g[n]=r,__spreadValues$9=(g,n)=>{for(var r in n||(n={}))__hasOwnProp$b.call(n,r)&&__defNormalProp$9(g,r,n[r]);if(__getOwnPropSymbols$b)for(var r of __getOwnPropSymbols$b(n))__propIsEnum$b.call(n,r)&&__defNormalProp$9(g,r,n[r]);return g},__spreadProps$6=(g,n)=>__defProps$6(g,__getOwnPropDescs$6(n));computedEager=function(n,r){var $;const L=shallowRef();return watchEffect(()=>{L.value=n()},__spreadProps$6(__spreadValues$9({},r),{flush:($=r==null?void 0:r.flush)!=null?$:"sync"})),readonly(L)};var _a$3;let isString$4,noop$5;isClient=typeof window<"u",isBoolean$2=g=>typeof g=="boolean",isNumber$4=g=>typeof g=="number",isString$4=g=>typeof g=="string",noop$5=()=>{},isClient&&((_a$3=window==null?void 0:window.navigator)==null?void 0:_a$3.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(g){return typeof g=="function"?g():unref(g)}function createFilterWrapper(g,n){function r(...$){g(()=>n.apply(this,$),{fn:n,thisArg:this,args:$})}return r}function debounceFilter(g,n={}){let r,$;return L=>{const V=resolveUnref(g),oe=resolveUnref(n.maxWait);if(r&&clearTimeout(r),V<=0||oe!==void 0&&oe<=0)return $&&(clearTimeout($),$=null),L();oe&&!$&&($=setTimeout(()=>{r&&clearTimeout(r),$=null,L()},oe)),r=setTimeout(()=>{$&&clearTimeout($),$=null,L()},V)}}function identity$2(g){return g}function tryOnScopeDispose(g){return getCurrentScope()?(onScopeDispose(g),!0):!1}function useDebounceFn(g,n=200,r={}){return createFilterWrapper(debounceFilter(n,r),g)}function refDebounced(g,n=200,r={}){const $=ref(g.value),L=useDebounceFn(()=>{$.value=g.value},n,r);return watch(g,()=>L()),$}function tryOnMounted(g,n=!0){getCurrentInstance()?onMounted(g):n?g():nextTick(g)}useTimeoutFn=function(n,r,$={}){const{immediate:L=!0}=$,V=ref(!1);let oe=null;function ae(){oe&&(clearTimeout(oe),oe=null)}function re(){V.value=!1,ae()}function le(...ue){ae(),V.value=!0,oe=setTimeout(()=>{V.value=!1,oe=null,n(...ue)},resolveUnref(r))}return L&&(V.value=!0,isClient&&le()),tryOnScopeDispose(re),{isPending:V,start:le,stop:re}};function unrefElement(g){var n;const r=resolveUnref(g);return(n=r==null?void 0:r.$el)!=null?n:r}const defaultWindow=isClient?window:void 0,defaultDocument=isClient?window.document:void 0;function useEventListener(...g){let n,r,$,L;if(isString$4(g[0])||Array.isArray(g[0])?([r,$,L]=g,n=defaultWindow):[n,r,$,L]=g,!n)return noop$5;Array.isArray(r)||(r=[r]),Array.isArray($)||($=[$]);const V=[],oe=()=>{V.forEach(ue=>ue()),V.length=0},ae=(ue,de,he)=>(ue.addEventListener(de,he,L),()=>ue.removeEventListener(de,he,L)),re=watch(()=>unrefElement(n),ue=>{oe(),ue&&V.push(...r.flatMap(de=>$.map(he=>ae(ue,de,he))))},{immediate:!0,flush:"post"}),le=()=>{re(),oe()};return tryOnScopeDispose(le),le}function onClickOutside(g,n,r={}){const{window:$=defaultWindow,ignore:L,capture:V=!0,detectIframe:oe=!1}=r;if(!$)return;let ae=!0,re;const le=he=>{$.clearTimeout(re);const pe=unrefElement(g);if(!(!pe||pe===he.target||he.composedPath().includes(pe))){if(!ae){ae=!0;return}n(he)}},ue=he=>L&&L.some(pe=>{const _e=unrefElement(pe);return _e&&(he.target===_e||he.composedPath().includes(_e))}),de=[useEventListener($,"click",le,{passive:!0,capture:V}),useEventListener($,"pointerdown",he=>{const pe=unrefElement(g);pe&&(ae=!he.composedPath().includes(pe)&&!ue(he))},{passive:!0}),useEventListener($,"pointerup",he=>{if(he.button===0){const pe=he.composedPath();he.composedPath=()=>pe,re=$.setTimeout(()=>le(he),50)}},{passive:!0}),oe&&useEventListener($,"blur",he=>{var pe;const _e=unrefElement(g);((pe=$.document.activeElement)==null?void 0:pe.tagName)==="IFRAME"&&!(_e!=null&&_e.contains($.document.activeElement))&&n(he)})].filter(Boolean);return()=>de.forEach(he=>he())}function useSupported(g,n=!1){const r=ref(),$=()=>r.value=Boolean(g());return $(),tryOnMounted($,n),r}const _global$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global$2[globalKey]=_global$2[globalKey]||{},_global$2[globalKey],useDocumentVisibility=function({document:n=defaultDocument}={}){if(!n)return ref("visible");const r=ref(n.visibilityState);return useEventListener(n,"visibilitychange",()=>{r.value=n.visibilityState}),r};var __getOwnPropSymbols$f=Object.getOwnPropertySymbols,__hasOwnProp$f=Object.prototype.hasOwnProperty,__propIsEnum$f=Object.prototype.propertyIsEnumerable,__objRest$2=(g,n)=>{var r={};for(var $ in g)__hasOwnProp$f.call(g,$)&&n.indexOf($)<0&&(r[$]=g[$]);if(g!=null&&__getOwnPropSymbols$f)for(var $ of __getOwnPropSymbols$f(g))n.indexOf($)<0&&__propIsEnum$f.call(g,$)&&(r[$]=g[$]);return r};useResizeObserver=function(n,r,$={}){const L=$,{window:V=defaultWindow}=L,oe=__objRest$2(L,["window"]);let ae;const re=useSupported(()=>V&&"ResizeObserver"in V),le=()=>{ae&&(ae.disconnect(),ae=void 0)},ue=watch(()=>unrefElement(n),he=>{le(),re.value&&V&&he&&(ae=new ResizeObserver(r),ae.observe(he,oe))},{immediate:!0,flush:"post"}),de=()=>{le(),ue()};return tryOnScopeDispose(de),{isSupported:re,stop:de}};var SwipeDirection;(function(g){g.UP="UP",g.RIGHT="RIGHT",g.DOWN="DOWN",g.LEFT="LEFT",g.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(g,n,r)=>n in g?__defProp(g,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):g[n]=r,__spreadValues=(g,n)=>{for(var r in n||(n={}))__hasOwnProp.call(n,r)&&__defNormalProp(g,r,n[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(n))__propIsEnum.call(n,r)&&__defNormalProp(g,r,n[r]);return g};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity$2},_TransitionPresets),useWindowFocus=function({window:n=defaultWindow}={}){if(!n)return ref(!1);const r=ref(n.document.hasFocus());return useEventListener(n,"blur",()=>{r.value=!1}),useEventListener(n,"focus",()=>{r.value=!0}),r};let getClientXY,isEmpty,isElement,isStringNumber,escapeStringRegexp,keysOf,getProp;getClientXY=g=>{let n,r;return g.type==="touchend"?(r=g.changedTouches[0].clientY,n=g.changedTouches[0].clientX):g.type.startsWith("touch")?(r=g.touches[0].clientY,n=g.touches[0].clientX):(r=g.clientY,n=g.clientX),{clientX:n,clientY:r}},isUndefined$2=g=>g===void 0,isEmpty=g=>!g&&g!==0||isArray$9(g)&&g.length===0||isObject$c(g)&&!Object.keys(g).length,isElement=g=>typeof Element>"u"?!1:g instanceof Element,isStringNumber=g=>isString$5(g)?!Number.isNaN(Number(g)):!1,escapeStringRegexp=(g="")=>g.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),capitalize=g=>capitalize$1(g),keysOf=g=>Object.keys(g),getProp=(g,n,r)=>({get value(){return get$2(g,n,r)},set value($){set$4(g,n,$)}});class ElementPlusError extends Error{constructor(n){super(n),this.name="ElementPlusError"}}throwError$2=function(n,r){throw new ElementPlusError(`[${n}] ${r}`)},debugWarn=function(n,r){};let classNameToArray;classNameToArray=(g="")=>g.split(" ").filter(n=>!!n.trim()),hasClass=(g,n)=>{if(!g||!n)return!1;if(n.includes(" "))throw new Error("className should not contain space.");return g.classList.contains(n)},addClass=(g,n)=>{!g||!n.trim()||g.classList.add(...classNameToArray(n))},removeClass=(g,n)=>{!g||!n.trim()||g.classList.remove(...classNameToArray(n))},getStyle$2=(g,n)=>{var r;if(!isClient||!g||!n)return"";let $=camelize(n);$==="float"&&($="cssFloat");try{const L=g.style[$];if(L)return L;const V=(r=document.defaultView)==null?void 0:r.getComputedStyle(g,"");return V?V[$]:""}catch{return g.style[$]}},addUnit=function(n,r="px"){if(!n)return"";if(isNumber$4(n)||isStringNumber(n))return`${n}${r}`;if(isString$5(n))return n};let scrollBarWidth;getScrollBarWidth=g=>{var n;if(!isClient)return 0;if(scrollBarWidth!==void 0)return scrollBarWidth;const r=document.createElement("div");r.className=`${g}-scrollbar__wrap`,r.style.visibility="hidden",r.style.width="100px",r.style.position="absolute",r.style.top="-9999px",document.body.appendChild(r);const $=r.offsetWidth;r.style.overflow="scroll";const L=document.createElement("div");L.style.width="100%",r.appendChild(L);const V=L.offsetWidth;return(n=r.parentNode)==null||n.removeChild(r),scrollBarWidth=$-V,scrollBarWidth};function scrollIntoView$2(g,n){if(!isClient)return;if(!n){g.scrollTop=0;return}const r=[];let $=n.offsetParent;for(;$!==null&&g!==$&&g.contains($);)r.push($),$=$.offsetParent;const L=n.offsetTop+r.reduce((re,le)=>re+le.offsetTop,0),V=L+n.offsetHeight,oe=g.scrollTop,ae=oe+g.clientHeight;L<oe?g.scrollTop=L:V>ae&&(g.scrollTop=V-g.clientHeight)}var export_helper_default=(g,n)=>{let r=g.__vccOpts||g;for(let[$,L]of n)r[$]=L;return r},arrow_down_vue_vue_type_script_lang_default={name:"ArrowDown"},_hoisted_16={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_26=createBaseVNode("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),_hoisted_36=[_hoisted_26];function _sfc_render6(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_16,_hoisted_36)}var arrow_down_default=export_helper_default(arrow_down_vue_vue_type_script_lang_default,[["render",_sfc_render6],["__file","arrow-down.vue"]]),arrow_left_vue_vue_type_script_lang_default={name:"ArrowLeft"},_hoisted_18={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_28=createBaseVNode("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),_hoisted_38=[_hoisted_28];function _sfc_render8(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_18,_hoisted_38)}let arrow_right_vue_vue_type_script_lang_default,_hoisted_110,_hoisted_210,_hoisted_310;arrow_left_default=export_helper_default(arrow_left_vue_vue_type_script_lang_default,[["render",_sfc_render8],["__file","arrow-left.vue"]]),arrow_right_vue_vue_type_script_lang_default={name:"ArrowRight"},_hoisted_110={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_210=createBaseVNode("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),_hoisted_310=[_hoisted_210];function _sfc_render10(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_110,_hoisted_310)}let arrow_up_vue_vue_type_script_lang_default,_hoisted_112,_hoisted_212,_hoisted_312;arrow_right_default=export_helper_default(arrow_right_vue_vue_type_script_lang_default,[["render",_sfc_render10],["__file","arrow-right.vue"]]),arrow_up_vue_vue_type_script_lang_default={name:"ArrowUp"},_hoisted_112={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_212=createBaseVNode("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),_hoisted_312=[_hoisted_212];function _sfc_render12(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_112,_hoisted_312)}var arrow_up_default=export_helper_default(arrow_up_vue_vue_type_script_lang_default,[["render",_sfc_render12],["__file","arrow-up.vue"]]),calendar_vue_vue_type_script_lang_default={name:"Calendar"},_hoisted_129={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_229=createBaseVNode("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),_hoisted_328=[_hoisted_229];function _sfc_render29(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_129,_hoisted_328)}var calendar_default=export_helper_default(calendar_vue_vue_type_script_lang_default,[["render",_sfc_render29],["__file","calendar.vue"]]),circle_check_vue_vue_type_script_lang_default={name:"CircleCheck"},_hoisted_149={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_249=createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_348=createBaseVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),_hoisted_415=[_hoisted_249,_hoisted_348];function _sfc_render49(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_149,_hoisted_415)}var circle_check_default=export_helper_default(circle_check_vue_vue_type_script_lang_default,[["render",_sfc_render49],["__file","circle-check.vue"]]),circle_close_filled_vue_vue_type_script_lang_default={name:"CircleCloseFilled"},_hoisted_150={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_250=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),_hoisted_349=[_hoisted_250];function _sfc_render50(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_150,_hoisted_349)}var circle_close_filled_default=export_helper_default(circle_close_filled_vue_vue_type_script_lang_default,[["render",_sfc_render50],["__file","circle-close-filled.vue"]]),circle_close_vue_vue_type_script_lang_default={name:"CircleClose"},_hoisted_151={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_251=createBaseVNode("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),_hoisted_350=createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_416=[_hoisted_251,_hoisted_350];function _sfc_render51(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_151,_hoisted_416)}var circle_close_default=export_helper_default(circle_close_vue_vue_type_script_lang_default,[["render",_sfc_render51],["__file","circle-close.vue"]]),clock_vue_vue_type_script_lang_default={name:"Clock"},_hoisted_154={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_254=createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_353=createBaseVNode("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),_hoisted_418=createBaseVNode("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),_hoisted_56=[_hoisted_254,_hoisted_353,_hoisted_418];function _sfc_render54(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_154,_hoisted_56)}var clock_default=export_helper_default(clock_vue_vue_type_script_lang_default,[["render",_sfc_render54],["__file","clock.vue"]]),close_vue_vue_type_script_lang_default={name:"Close"},_hoisted_156={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_256=createBaseVNode("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),_hoisted_355=[_hoisted_256];function _sfc_render56(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_156,_hoisted_355)}let d_arrow_left_vue_vue_type_script_lang_default,_hoisted_172,_hoisted_272,_hoisted_371;close_default=export_helper_default(close_vue_vue_type_script_lang_default,[["render",_sfc_render56],["__file","close.vue"]]),d_arrow_left_vue_vue_type_script_lang_default={name:"DArrowLeft"},_hoisted_172={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_272=createBaseVNode("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),_hoisted_371=[_hoisted_272];function _sfc_render72(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_172,_hoisted_371)}let d_arrow_right_vue_vue_type_script_lang_default,_hoisted_173,_hoisted_273,_hoisted_372;d_arrow_left_default=export_helper_default(d_arrow_left_vue_vue_type_script_lang_default,[["render",_sfc_render72],["__file","d-arrow-left.vue"]]),d_arrow_right_vue_vue_type_script_lang_default={name:"DArrowRight"},_hoisted_173={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_273=createBaseVNode("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),_hoisted_372=[_hoisted_273];function _sfc_render73(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_173,_hoisted_372)}let delete_vue_vue_type_script_lang_default,_hoisted_180,_hoisted_280,_hoisted_379;d_arrow_right_default=export_helper_default(d_arrow_right_vue_vue_type_script_lang_default,[["render",_sfc_render73],["__file","d-arrow-right.vue"]]),delete_vue_vue_type_script_lang_default={name:"Delete"},_hoisted_180={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_280=createBaseVNode("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),_hoisted_379=[_hoisted_280];function _sfc_render80(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_180,_hoisted_379)}let document_copy_vue_vue_type_script_lang_default,_hoisted_187,_hoisted_287,_hoisted_386;delete_default=export_helper_default(delete_vue_vue_type_script_lang_default,[["render",_sfc_render80],["__file","delete.vue"]]),document_copy_vue_vue_type_script_lang_default={name:"DocumentCopy"},_hoisted_187={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_287=createBaseVNode("path",{fill:"currentColor",d:"M128 320v576h576V320H128zm-32-64h640a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32zM960 96v704a32 32 0 0 1-32 32h-96v-64h64V128H384v64h-64V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32zM256 672h320v64H256v-64zm0-192h320v64H256v-64z"},null,-1),_hoisted_386=[_hoisted_287];function _sfc_render87(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_187,_hoisted_386)}let edit_vue_vue_type_script_lang_default,_hoisted_194,_hoisted_294,_hoisted_393,_hoisted_431;document_copy_default=export_helper_default(document_copy_vue_vue_type_script_lang_default,[["render",_sfc_render87],["__file","document-copy.vue"]]),edit_vue_vue_type_script_lang_default={name:"Edit"},_hoisted_194={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_294=createBaseVNode("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z"},null,-1),_hoisted_393=createBaseVNode("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"},null,-1),_hoisted_431=[_hoisted_294,_hoisted_393];function _sfc_render94(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_194,_hoisted_431)}let hide_vue_vue_type_script_lang_default,_hoisted_1133,_hoisted_2133,_hoisted_3132,_hoisted_438;edit_default=export_helper_default(edit_vue_vue_type_script_lang_default,[["render",_sfc_render94],["__file","edit.vue"]]),hide_vue_vue_type_script_lang_default={name:"Hide"},_hoisted_1133={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2133=createBaseVNode("path",{d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z",fill:"currentColor"},null,-1),_hoisted_3132=createBaseVNode("path",{d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z",fill:"currentColor"},null,-1),_hoisted_438=[_hoisted_2133,_hoisted_3132];function _sfc_render133(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1133,_hoisted_438)}var hide_default=export_helper_default(hide_vue_vue_type_script_lang_default,[["render",_sfc_render133],["__file","hide.vue"]]),info_filled_vue_vue_type_script_lang_default={name:"InfoFilled"},_hoisted_1143={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2143=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),_hoisted_3142=[_hoisted_2143];function _sfc_render143(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1143,_hoisted_3142)}var info_filled_default=export_helper_default(info_filled_vue_vue_type_script_lang_default,[["render",_sfc_render143],["__file","info-filled.vue"]]),loading_vue_vue_type_script_lang_default={name:"Loading"},_hoisted_1150={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2150=createBaseVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),_hoisted_3149=[_hoisted_2150];function _sfc_render150(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1150,_hoisted_3149)}var loading_default=export_helper_default(loading_vue_vue_type_script_lang_default,[["render",_sfc_render150],["__file","loading.vue"]]),minus_vue_vue_type_script_lang_default={name:"Minus"},_hoisted_1169={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2169=createBaseVNode("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),_hoisted_3168=[_hoisted_2169];function _sfc_render169(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1169,_hoisted_3168)}var minus_default=export_helper_default(minus_vue_vue_type_script_lang_default,[["render",_sfc_render169],["__file","minus.vue"]]),more_filled_vue_vue_type_script_lang_default={name:"MoreFilled"},_hoisted_1174={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2174=createBaseVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z"},null,-1),_hoisted_3173=[_hoisted_2174];function _sfc_render174(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1174,_hoisted_3173)}let more_vue_vue_type_script_lang_default,_hoisted_1175,_hoisted_2175,_hoisted_3174;more_filled_default=export_helper_default(more_filled_vue_vue_type_script_lang_default,[["render",_sfc_render174],["__file","more-filled.vue"]]),more_vue_vue_type_script_lang_default={name:"More"},_hoisted_1175={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2175=createBaseVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),_hoisted_3174=[_hoisted_2175];function _sfc_render175(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1175,_hoisted_3174)}var more_default=export_helper_default(more_vue_vue_type_script_lang_default,[["render",_sfc_render175],["__file","more.vue"]]),plus_vue_vue_type_script_lang_default={name:"Plus"},_hoisted_1201={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2201=createBaseVNode("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),_hoisted_3200=[_hoisted_2201];function _sfc_render201(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1201,_hoisted_3200)}let share_vue_vue_type_script_lang_default,_hoisted_1232,_hoisted_2232,_hoisted_3231;plus_default=export_helper_default(plus_vue_vue_type_script_lang_default,[["render",_sfc_render201],["__file","plus.vue"]]),share_vue_vue_type_script_lang_default={name:"Share"},_hoisted_1232={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2232=createBaseVNode("path",{fill:"currentColor",d:"m679.872 348.8-301.76 188.608a127.808 127.808 0 0 1 5.12 52.16l279.936 104.96a128 128 0 1 1-22.464 59.904l-279.872-104.96a128 128 0 1 1-16.64-166.272l301.696-188.608a128 128 0 1 1 33.92 54.272z"},null,-1),_hoisted_3231=[_hoisted_2232];function _sfc_render232(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1232,_hoisted_3231)}let success_filled_vue_vue_type_script_lang_default,_hoisted_1249,_hoisted_2249,_hoisted_3248;share_default=export_helper_default(share_vue_vue_type_script_lang_default,[["render",_sfc_render232],["__file","share.vue"]]),success_filled_vue_vue_type_script_lang_default={name:"SuccessFilled"},_hoisted_1249={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2249=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),_hoisted_3248=[_hoisted_2249];function _sfc_render249(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1249,_hoisted_3248)}var success_filled_default=export_helper_default(success_filled_vue_vue_type_script_lang_default,[["render",_sfc_render249],["__file","success-filled.vue"]]),view_vue_vue_type_script_lang_default={name:"View"},_hoisted_1283={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2283=createBaseVNode("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),_hoisted_3282=[_hoisted_2283];function _sfc_render283(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1283,_hoisted_3282)}let warning_filled_vue_vue_type_script_lang_default,_hoisted_1287,_hoisted_2287,_hoisted_3286;view_default=export_helper_default(view_vue_vue_type_script_lang_default,[["render",_sfc_render283],["__file","view.vue"]]),warning_filled_vue_vue_type_script_lang_default={name:"WarningFilled"},_hoisted_1287={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2287=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),_hoisted_3286=[_hoisted_2287];function _sfc_render287(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1287,_hoisted_3286)}var warning_filled_default=export_helper_default(warning_filled_vue_vue_type_script_lang_default,[["render",_sfc_render287],["__file","warning-filled.vue"]]);let epPropKey,isEpProp,buildProp,TypeComponents,TypeComponentsMap,ValidateComponentsMap,withInstallFunction,datePickTypes,INPUT_EVENT,componentSizeMap,getComponentSize,isValidComponentSize;epPropKey="__epPropKey",definePropType=g=>g,isEpProp=g=>isObject$c(g)&&!!g[epPropKey],buildProp=(g,n)=>{if(!isObject$c(g)||isEpProp(g))return g;const{values:r,required:$,default:L,type:V,validator:oe}=g,ae={type:V,required:!!$,validator:r||oe?re=>{let le=!1,ue=[];if(r&&(ue=Array.from(r),hasOwn$2(g,"default")&&ue.push(L),le||(le=ue.includes(re))),oe&&(le||(le=oe(re))),!le&&ue.length>0){const de=[...new Set(ue)].map(he=>JSON.stringify(he)).join(", ");warn$2(`Invalid prop: validation failed${n?` for prop "${n}"`:""}. Expected one of [${de}], got value ${JSON.stringify(re)}.`)}return le}:void 0,[epPropKey]:!0};return hasOwn$2(g,"default")&&(ae.default=L),ae},buildProps=g=>fromPairs(Object.entries(g).map(([n,r])=>[n,buildProp(r,n)])),iconPropType=definePropType([String,Object,Function]),CloseComponents={Close:close_default},TypeComponents={Close:close_default,SuccessFilled:success_filled_default,InfoFilled:info_filled_default,WarningFilled:warning_filled_default,CircleCloseFilled:circle_close_filled_default},TypeComponentsMap={success:success_filled_default,warning:warning_filled_default,error:circle_close_filled_default,info:info_filled_default},ValidateComponentsMap={validating:loading_default,success:circle_check_default,error:circle_close_default},withInstall=(g,n)=>{if(g.install=r=>{for(const $ of[g,...Object.values(n!=null?n:{})])r.component($.name,$)},n)for(const[r,$]of Object.entries(n))g[r]=$;return g},withInstallFunction=(g,n)=>(g.install=r=>{g._context=r._context,r.config.globalProperties[n]=g},g),withNoopInstall=g=>(g.install=NOOP,g),EVENT_CODE={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},datePickTypes=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],UPDATE_MODEL_EVENT="update:modelValue",CHANGE_EVENT="change",INPUT_EVENT="input",componentSizes=["","default","small","large"],componentSizeMap={large:40,default:32,small:24},getComponentSize=g=>componentSizeMap[g||"default"],isValidComponentSize=g=>["",...componentSizes].includes(g),PatchFlags=(g=>(g[g.TEXT=1]="TEXT",g[g.CLASS=2]="CLASS",g[g.STYLE=4]="STYLE",g[g.PROPS=8]="PROPS",g[g.FULL_PROPS=16]="FULL_PROPS",g[g.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",g[g.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",g[g.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",g[g.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",g[g.NEED_PATCH=512]="NEED_PATCH",g[g.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",g[g.HOISTED=-1]="HOISTED",g[g.BAIL=-2]="BAIL",g))(PatchFlags||{});let castArray,isKorean,DEFAULT_EXCLUDE_KEYS,LISTENER_PREFIX,useAttrs,buttonGroupContextKey,checkboxGroupContextKey,configProviderContextKey,formContextKey,formItemContextKey,radioGroupKey,rowContextKey,scrollbarContextKey,POPPER_INJECTION_KEY,POPPER_CONTENT_INJECTION_KEY,TOOLTIP_INJECTION_KEY,ROOT_PICKER_INJECTION_KEY,useProp,globalConfig;flattedChildren=g=>{const n=isArray$9(g)?g:[g],r=[];return n.forEach($=>{var L;isArray$9($)?r.push(...flattedChildren($)):isVNode($)&&isArray$9($.children)?r.push(...flattedChildren($.children)):(r.push($),isVNode($)&&((L=$.component)==null?void 0:L.subTree)&&r.push(...flattedChildren($.component.subTree)))}),r},castArray=g=>!g&&g!==0?[]:Array.isArray(g)?g:[g],isKorean=g=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(g),mutable=g=>g,DEFAULT_EXCLUDE_KEYS=["class","style"],LISTENER_PREFIX=/^on[A-Z]/,useAttrs=(g={})=>{const{excludeListeners:n=!1,excludeKeys:r}=g,$=computed(()=>((r==null?void 0:r.value)||[]).concat(DEFAULT_EXCLUDE_KEYS)),L=getCurrentInstance();return computed(L?()=>{var V;return fromPairs(Object.entries((V=L.proxy)==null?void 0:V.$attrs).filter(([oe])=>!$.value.includes(oe)&&!(n&&LISTENER_PREFIX.test(oe))))}:()=>({}))},buttonGroupContextKey=Symbol("buttonGroupContextKey"),checkboxGroupContextKey=Symbol("checkboxGroupContextKey"),configProviderContextKey=Symbol(),formContextKey=Symbol("formContextKey"),formItemContextKey=Symbol("formItemContextKey"),radioGroupKey=Symbol("radioGroupKey"),rowContextKey=Symbol("rowContextKey"),scrollbarContextKey=Symbol("scrollbarContextKey"),POPPER_INJECTION_KEY=Symbol("popper"),POPPER_CONTENT_INJECTION_KEY=Symbol("popperContent"),TOOLTIP_INJECTION_KEY=Symbol("elTooltip"),ROOT_PICKER_INJECTION_KEY=Symbol(),useProp=g=>{const n=getCurrentInstance();return computed(()=>{var r,$;return($=((r=n.proxy)==null?void 0:r.$props)[g])!=null?$:void 0})},globalConfig=ref(),useGlobalConfig=function(n,r=void 0){const $=getCurrentInstance()?inject(configProviderContextKey,globalConfig):globalConfig;return n?computed(()=>{var L,V;return(V=(L=$.value)==null?void 0:L[n])!=null?V:r}):$};let provideGlobalConfig,mergeConfig$2,useSizeProp,useSize,useDisabled,useFocus,statePrefix,_bem,defaultIdInjection,ID_INJECTION_KEY,useIdInjection,useFormItem,useFormItemInputId;provideGlobalConfig=(g,n,r=!1)=>{var $;const L=!!getCurrentInstance(),V=L?useGlobalConfig():void 0,oe=($=n==null?void 0:n.provide)!=null?$:L?provide:void 0;if(!oe)return;const ae=computed(()=>{const re=unref(g);return V!=null&&V.value?mergeConfig$2(V.value,re):re});return oe(configProviderContextKey,ae),(r||!globalConfig.value)&&(globalConfig.value=ae.value),ae},mergeConfig$2=(g,n)=>{var r;const $=[...new Set([...keysOf(g),...keysOf(n)])],L={};for(const V of $)L[V]=(r=n[V])!=null?r:g[V];return L},useSizeProp=buildProp({type:String,values:componentSizes,required:!1}),useSize=(g,n={})=>{const r=ref(void 0),$=n.prop?r:useProp("size"),L=n.global?r:useGlobalConfig("size"),V=n.form?{size:void 0}:inject(formContextKey,void 0),oe=n.formItem?{size:void 0}:inject(formItemContextKey,void 0);return computed(()=>$.value||unref(g)||(oe==null?void 0:oe.size)||(V==null?void 0:V.size)||L.value||"")},useDisabled=g=>{const n=useProp("disabled"),r=inject(formContextKey,void 0);return computed(()=>n.value||unref(g)||(r==null?void 0:r.disabled)||!1)},useDeprecated=({from:g,replacement:n,scope:r,version:$,ref:L,type:V="API"},oe)=>{watch(()=>unref(oe),ae=>{},{immediate:!0})},useFocus=g=>({focus:()=>{var n,r;(r=(n=g.value)==null?void 0:n.focus)==null||r.call(n)}}),defaultNamespace="el",statePrefix="is-",_bem=(g,n,r,$,L)=>{let V=`${g}-${n}`;return r&&(V+=`-${r}`),$&&(V+=`__${$}`),L&&(V+=`--${L}`),V},useNamespace=g=>{const n=useGlobalConfig("namespace",defaultNamespace);return{namespace:n,b:(r="")=>_bem(n.value,g,r,"",""),e:r=>r?_bem(n.value,g,"",r,""):"",m:r=>r?_bem(n.value,g,"","",r):"",be:(r,$)=>r&&$?_bem(n.value,g,r,$,""):"",em:(r,$)=>r&&$?_bem(n.value,g,"",r,$):"",bm:(r,$)=>r&&$?_bem(n.value,g,r,"",$):"",bem:(r,$,L)=>r&&$&&L?_bem(n.value,g,r,$,L):"",is:(r,...$)=>{const L=$.length>=1?$[0]:!0;return r&&L?`${statePrefix}${r}`:""},cssVar:r=>{const $={};for(const L in r)r[L]&&($[`--${n.value}-${L}`]=r[L]);return $},cssVarName:r=>`--${n.value}-${r}`,cssVarBlock:r=>{const $={};for(const L in r)r[L]&&($[`--${n.value}-${g}-${L}`]=r[L]);return $},cssVarBlockName:r=>`--${n.value}-${g}-${r}`}},defaultIdInjection={prefix:Math.floor(Math.random()*1e4),current:0},ID_INJECTION_KEY=Symbol("elIdInjection"),useIdInjection=()=>getCurrentInstance()?inject(ID_INJECTION_KEY,defaultIdInjection):defaultIdInjection,useId=g=>{const n=useIdInjection(),r=useGlobalConfig("namespace",defaultNamespace);return computed(()=>unref(g)||`${r.value}-id-${n.prefix}-${n.current++}`)},useFormItem=()=>{const g=inject(formContextKey,void 0),n=inject(formItemContextKey,void 0);return{form:g,formItem:n}},useFormItemInputId=(g,{formItemContext:n,disableIdGeneration:r,disableIdManagement:$})=>{r||(r=ref(!1)),$||($=ref(!1));const L=ref();let V;const oe=computed(()=>{var ae;return!!(!g.label&&n&&n.inputIds&&((ae=n.inputIds)==null?void 0:ae.length)<=1)});return onMounted(()=>{V=watch([toRef(g,"id"),r],([ae,re])=>{const le=ae!=null?ae:re?void 0:useId().value;le!==L.value&&(n!=null&&n.removeInputId&&(L.value&&n.removeInputId(L.value),!($!=null&&$.value)&&!re&&le&&n.addInputId(le)),L.value=le)},{immediate:!0})}),onUnmounted(()=>{V&&V(),(n==null?void 0:n.removeInputId)&&L.value&&n.removeInputId(L.value)}),{isLabeledByFormItem:oe,inputId:L}};var English={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};let buildTranslator,translate$2,buildLocaleContext,_prop,_event,createModelToggleComposable;buildTranslator=g=>(n,r)=>translate$2(n,r,unref(g)),translate$2=(g,n,r)=>get$2(r,g,g).replace(/\{(\w+)\}/g,($,L)=>{var V;return`${(V=n==null?void 0:n[L])!=null?V:`{${L}}`}`}),buildLocaleContext=g=>{const n=computed(()=>unref(g).name),r=isRef(g)?g:ref(g);return{lang:n,locale:r,t:buildTranslator(g)}},useLocale=()=>{const g=useGlobalConfig("locale");return buildLocaleContext(computed(()=>g.value||English))},_prop=buildProp({type:definePropType(Boolean),default:null}),_event=buildProp({type:definePropType(Function)}),createModelToggleComposable=g=>{const n=`update:${g}`,r=`onUpdate:${g}`,$=[n],L={[g]:_prop,[r]:_event};return{useModelToggle:({indicator:V,toggleReason:oe,shouldHideWhenRouteChanges:ae,shouldProceed:re,onShow:le,onHide:ue})=>{const de=getCurrentInstance(),{emit:he}=de,pe=de.props,_e=computed(()=>isFunction$5(pe[r])),$e=computed(()=>pe[g]===null),xe=Fe=>{V.value!==!0&&(V.value=!0,oe&&(oe.value=Fe),isFunction$5(le)&&le(Fe))},Oe=Fe=>{V.value!==!1&&(V.value=!1,oe&&(oe.value=Fe),isFunction$5(ue)&&ue(Fe))},Ce=Fe=>{if(pe.disabled===!0||isFunction$5(re)&&!re())return;const Ue=_e.value&&isClient;Ue&&he(n,!0),($e.value||!Ue)&&xe(Fe)},Ie=Fe=>{if(pe.disabled===!0||!isClient)return;const Ue=_e.value&&isClient;Ue&&he(n,!1),($e.value||!Ue)&&Oe(Fe)},Ne=Fe=>{!isBoolean$2(Fe)||(pe.disabled&&Fe?_e.value&&he(n,!1):V.value!==Fe&&(Fe?xe():Oe()))},ze=()=>{V.value?Ie():Ce()};return watch(()=>pe[g],Ne),ae&&de.appContext.config.globalProperties.$route!==void 0&&watch(()=>({...de.proxy.$route}),()=>{ae.value&&V.value&&Ie()}),onMounted(()=>{Ne(pe[g])}),{hide:Ie,show:Ce,toggle:ze,hasUpdateHandler:_e}},useModelToggleProps:L,useModelToggleEmits:$}};function useTimeout(){let g;const n=($,L)=>{r(),g=window.setTimeout($,L)},r=()=>window.clearTimeout(g);return tryOnScopeDispose(()=>r()),{registerTimeout:n,cancelTimeout:r}}let registeredEscapeHandlers=[];const cachedHandler=g=>{const n=g;n.key===EVENT_CODE.esc&&registeredEscapeHandlers.forEach(r=>r(n))},useEscapeKeydown=g=>{onMounted(()=>{registeredEscapeHandlers.length===0&&document.addEventListener("keydown",cachedHandler),isClient&&registeredEscapeHandlers.push(g)}),onBeforeUnmount(()=>{registeredEscapeHandlers=registeredEscapeHandlers.filter(n=>n!==g),registeredEscapeHandlers.length===0&&isClient&&document.removeEventListener("keydown",cachedHandler)})};let cachedContainer,usePopperContainerId,createContainer,usePopperContainer,useDelayedToggleProps,useDelayedToggle,FORWARD_REF_INJECTION_KEY,useForwardRef,useForwardRefDirective,zIndex;usePopperContainerId=()=>{const g=useGlobalConfig("namespace",defaultNamespace),n=useIdInjection(),r=computed(()=>`${g.value}-popper-container-${n.prefix}`),$=computed(()=>`#${r.value}`);return{id:r,selector:$}},createContainer=g=>{const n=document.createElement("div");return n.id=g,document.body.appendChild(n),n},usePopperContainer=()=>{onBeforeMount(()=>{if(!isClient)return;const{id:g,selector:n}=usePopperContainerId();!cachedContainer&&!document.body.querySelector(n.value)&&(cachedContainer=createContainer(g.value))})},useDelayedToggleProps=buildProps({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200}}),useDelayedToggle=({showAfter:g,hideAfter:n,open:r,close:$})=>{const{registerTimeout:L}=useTimeout();return{onOpen:V=>{L(()=>{r(V)},unref(g))},onClose:V=>{L(()=>{$(V)},unref(n))}}},FORWARD_REF_INJECTION_KEY=Symbol("elForwardRef"),useForwardRef=g=>{provide(FORWARD_REF_INJECTION_KEY,{setForwardRef:n=>{g.value=n}})},useForwardRefDirective=g=>({mounted(n){g(n)},updated(n){g(n)},unmounted(){g(null)}}),zIndex=ref(0),useZIndex=()=>{const g=useGlobalConfig("zIndex",2e3),n=computed(()=>g.value+zIndex.value);return{initialZIndex:g,currentZIndex:n,nextZIndex:()=>(zIndex.value++,n.value)}};function useCursor(g){const n=ref();function r(){if(g.value==null)return;const{selectionStart:L,selectionEnd:V,value:oe}=g.value;if(L==null||V==null)return;const ae=oe.slice(0,Math.max(0,L)),re=oe.slice(Math.max(0,V));n.value={selectionStart:L,selectionEnd:V,value:oe,beforeTxt:ae,afterTxt:re}}function $(){if(g.value==null||n.value==null)return;const{value:L}=g.value,{beforeTxt:V,afterTxt:oe,selectionStart:ae}=n.value;if(V==null||oe==null||ae==null)return;let re=L.length;if(L.endsWith(oe))re=L.length-oe.length;else if(L.startsWith(V))re=V.length;else{const le=V[ae-1],ue=L.indexOf(le,ae-1);ue!==-1&&(re=ue+1)}g.value.setSelectionRange(re,re)}return[r,$]}_export_sfc$1=(g,n)=>{const r=g.__vccOpts||g;for(const[$,L]of n)r[$]=L;return r};const iconProps=buildProps({size:{type:definePropType([Number,String])},color:{type:String}}),__default__$L=defineComponent({name:"ElIcon",inheritAttrs:!1}),_sfc_main$1a=defineComponent({...__default__$L,props:iconProps,setup(g){const n=g,r=useNamespace("icon"),$=computed(()=>{const{size:L,color:V}=n;return!L&&!V?{}:{fontSize:isUndefined$2(L)?void 0:addUnit(L),"--color":V}});return(L,V)=>(openBlock(),createElementBlock("i",mergeProps({class:unref(r).b(),style:unref($)},L.$attrs),[renderSlot(L.$slots,"default")],16))}});var Icon=_export_sfc$1(_sfc_main$1a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);ElIcon=withInstall(Icon);let hiddenTextarea;const HIDDEN_STYLE=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,CONTEXT_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function calculateNodeStyling(g){const n=window.getComputedStyle(g),r=n.getPropertyValue("box-sizing"),$=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),L=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:CONTEXT_STYLE.map(V=>`${V}:${n.getPropertyValue(V)}`).join(";"),paddingSize:$,borderSize:L,boxSizing:r}}function calcTextareaHeight(g,n=1,r){var $;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),document.body.appendChild(hiddenTextarea));const{paddingSize:L,borderSize:V,boxSizing:oe,contextStyle:ae}=calculateNodeStyling(g);hiddenTextarea.setAttribute("style",`${ae};${HIDDEN_STYLE}`),hiddenTextarea.value=g.value||g.placeholder||"";let re=hiddenTextarea.scrollHeight;const le={};oe==="border-box"?re=re+V:oe==="content-box"&&(re=re-L),hiddenTextarea.value="";const ue=hiddenTextarea.scrollHeight-L;if(isNumber$4(n)){let de=ue*n;oe==="border-box"&&(de=de+L+V),re=Math.max(de,re),le.minHeight=`${de}px`}if(isNumber$4(r)){let de=ue*r;oe==="border-box"&&(de=de+L+V),re=Math.min(de,re)}return le.height=`${re}px`,($=hiddenTextarea.parentNode)==null||$.removeChild(hiddenTextarea),hiddenTextarea=void 0,le}const inputProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:definePropType([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:definePropType([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:iconPropType},prefixIcon:{type:iconPropType},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:definePropType([Object,Array,String]),default:()=>mutable({})}}),inputEmits={[UPDATE_MODEL_EVENT]:g=>isString$5(g),input:g=>isString$5(g),change:g=>isString$5(g),focus:g=>g instanceof FocusEvent,blur:g=>g instanceof FocusEvent,clear:()=>!0,mouseleave:g=>g instanceof MouseEvent,mouseenter:g=>g instanceof MouseEvent,keydown:g=>g instanceof Event,compositionstart:g=>g instanceof CompositionEvent,compositionupdate:g=>g instanceof CompositionEvent,compositionend:g=>g instanceof CompositionEvent},_hoisted_1$C=["role"],_hoisted_2$m=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],_hoisted_3$b=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],__default__$K=defineComponent({name:"ElInput",inheritAttrs:!1}),_sfc_main$19=defineComponent({...__default__$K,props:inputProps,emits:inputEmits,setup(g,{expose:n,emit:r}){const $=g,L=useAttrs$1(),V=useSlots(),oe=computed(()=>{const Jn={};return $.containerRole==="combobox"&&(Jn["aria-haspopup"]=L["aria-haspopup"],Jn["aria-owns"]=L["aria-owns"],Jn["aria-expanded"]=L["aria-expanded"]),Jn}),ae=computed(()=>[$.type==="textarea"?xe.b():$e.b(),$e.m(pe.value),$e.is("disabled",_e.value),$e.is("exceed",Cn.value),{[$e.b("group")]:V.prepend||V.append,[$e.bm("group","append")]:V.append,[$e.bm("group","prepend")]:V.prepend,[$e.m("prefix")]:V.prefix||$.prefixIcon,[$e.m("suffix")]:V.suffix||$.suffixIcon||$.clearable||$.showPassword,[$e.bm("suffix","password-clear")]:$n.value&&Sn.value},L.class]),re=computed(()=>[$e.e("wrapper"),$e.is("focus",Ie.value)]),le=useAttrs({excludeKeys:computed(()=>Object.keys(oe.value))}),{form:ue,formItem:de}=useFormItem(),{inputId:he}=useFormItemInputId($,{formItemContext:de}),pe=useSize(),_e=useDisabled(),$e=useNamespace("input"),xe=useNamespace("textarea"),Oe=shallowRef(),Ce=shallowRef(),Ie=ref(!1),Ne=ref(!1),ze=ref(!1),Fe=ref(!1),Ue=ref(),At=shallowRef($.inputStyle),Et=computed(()=>Oe.value||Ce.value),Pt=computed(()=>{var Jn;return(Jn=ue==null?void 0:ue.statusIcon)!=null?Jn:!1}),kt=computed(()=>(de==null?void 0:de.validateState)||""),Dt=computed(()=>kt.value&&ValidateComponentsMap[kt.value]),Lt=computed(()=>Fe.value?view_default:hide_default),hn=computed(()=>[L.style,$.inputStyle]),vn=computed(()=>[$.inputStyle,At.value,{resize:$.resize}]),_n=computed(()=>isNil($.modelValue)?"":String($.modelValue)),$n=computed(()=>$.clearable&&!_e.value&&!$.readonly&&!!_n.value&&(Ie.value||Ne.value)),Sn=computed(()=>$.showPassword&&!_e.value&&!$.readonly&&!!_n.value&&(!!_n.value||Ie.value)),xn=computed(()=>$.showWordLimit&&!!le.value.maxlength&&($.type==="text"||$.type==="textarea")&&!_e.value&&!$.readonly&&!$.showPassword),On=computed(()=>Array.from(_n.value).length),Cn=computed(()=>!!xn.value&&On.value>Number(le.value.maxlength)),An=computed(()=>!!V.suffix||!!$.suffixIcon||$n.value||$.showPassword||xn.value||!!kt.value&&Pt.value),[Rn,Fn]=useCursor(Oe);useResizeObserver(Ce,Jn=>{if(!xn.value||$.resize!=="both")return;const di=Jn[0],{width:mi}=di.contentRect;Ue.value={right:`calc(100% - ${mi+15+6}px)`}});const Pn=()=>{const{type:Jn,autosize:di}=$;if(!(!isClient||Jn!=="textarea"))if(di){const mi=isObject$c(di)?di.minRows:void 0,yi=isObject$c(di)?di.maxRows:void 0;At.value={...calcTextareaHeight(Ce.value,mi,yi)}}else At.value={minHeight:calcTextareaHeight(Ce.value).minHeight}},Un=()=>{const Jn=Et.value;!Jn||Jn.value===_n.value||(Jn.value=_n.value)},Dn=async Jn=>{Rn();let{value:di}=Jn.target;if($.formatter&&(di=$.parser?$.parser(di):di,di=$.formatter(di)),!ze.value){if(di===_n.value){Un();return}r(UPDATE_MODEL_EVENT,di),r("input",di),await nextTick(),Un(),Fn()}},kn=Jn=>{r("change",Jn.target.value)},Nn=Jn=>{r("compositionstart",Jn),ze.value=!0},Vn=Jn=>{var di;r("compositionupdate",Jn);const mi=(di=Jn.target)==null?void 0:di.value,yi=mi[mi.length-1]||"";ze.value=!isKorean(yi)},Ln=Jn=>{r("compositionend",Jn),ze.value&&(ze.value=!1,Dn(Jn))},Tn=()=>{Fe.value=!Fe.value,In()},In=async()=>{var Jn;await nextTick(),(Jn=Et.value)==null||Jn.focus()},Bn=()=>{var Jn;return(Jn=Et.value)==null?void 0:Jn.blur()},Qn=Jn=>{Ie.value=!0,r("focus",Jn)},Zn=Jn=>{var di;Ie.value=!1,r("blur",Jn),$.validateEvent&&((di=de==null?void 0:de.validate)==null||di.call(de,"blur").catch(mi=>{}))},Kn=Jn=>{Ne.value=!1,r("mouseleave",Jn)},ui=Jn=>{Ne.value=!0,r("mouseenter",Jn)},ei=Jn=>{r("keydown",Jn)},si=()=>{var Jn;(Jn=Et.value)==null||Jn.select()},ti=()=>{r(UPDATE_MODEL_EVENT,""),r("change",""),r("clear"),r("input","")};return watch(()=>$.modelValue,()=>{var Jn;nextTick(()=>Pn()),$.validateEvent&&((Jn=de==null?void 0:de.validate)==null||Jn.call(de,"change").catch(di=>{}))}),watch(_n,()=>Un()),watch(()=>$.type,async()=>{await nextTick(),Un(),Pn()}),onMounted(()=>{!$.formatter&&$.parser,Un(),nextTick(Pn)}),n({input:Oe,textarea:Ce,ref:Et,textareaStyle:vn,autosize:toRef($,"autosize"),focus:In,blur:Bn,select:si,clear:ti,resizeTextarea:Pn}),(Jn,di)=>withDirectives((openBlock(),createElementBlock("div",mergeProps(unref(oe),{class:unref(ae),style:unref(hn),role:Jn.containerRole,onMouseenter:ui,onMouseleave:Kn}),[createCommentVNode(" input "),Jn.type!=="textarea"?(openBlock(),createElementBlock(Fragment,{key:0},[createCommentVNode(" prepend slot "),Jn.$slots.prepend?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref($e).be("group","prepend"))},[renderSlot(Jn.$slots,"prepend")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(re))},[createCommentVNode(" prefix slot "),Jn.$slots.prefix||Jn.prefixIcon?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref($e).e("prefix"))},[createBaseVNode("span",{class:normalizeClass(unref($e).e("prefix-inner")),onClick:In},[renderSlot(Jn.$slots,"prefix"),Jn.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref($e).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Jn.prefixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("input",mergeProps({id:unref(he),ref_key:"input",ref:Oe,class:unref($e).e("inner")},unref(le),{type:Jn.showPassword?Fe.value?"text":"password":Jn.type,disabled:unref(_e),formatter:Jn.formatter,parser:Jn.parser,readonly:Jn.readonly,autocomplete:Jn.autocomplete,tabindex:Jn.tabindex,"aria-label":Jn.label,placeholder:Jn.placeholder,style:Jn.inputStyle,form:$.form,onCompositionstart:Nn,onCompositionupdate:Vn,onCompositionend:Ln,onInput:Dn,onFocus:Qn,onBlur:Zn,onChange:kn,onKeydown:ei}),null,16,_hoisted_2$m),createCommentVNode(" suffix slot "),unref(An)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref($e).e("suffix"))},[createBaseVNode("span",{class:normalizeClass(unref($e).e("suffix-inner")),onClick:In},[!unref($n)||!unref(Sn)||!unref(xn)?(openBlock(),createElementBlock(Fragment,{key:0},[renderSlot(Jn.$slots,"suffix"),Jn.suffixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref($e).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Jn.suffixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0),unref($n)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref($e).e("icon"),unref($e).e("clear")]),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:ti},{default:withCtx(()=>[createVNode$2(unref(circle_close_default))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0),unref(Sn)?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass([unref($e).e("icon"),unref($e).e("password")]),onClick:Tn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Lt))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),unref(xn)?(openBlock(),createElementBlock("span",{key:3,class:normalizeClass(unref($e).e("count"))},[createBaseVNode("span",{class:normalizeClass(unref($e).e("count-inner"))},toDisplayString(unref(On))+" / "+toDisplayString(unref(le).maxlength),3)],2)):createCommentVNode("v-if",!0),unref(kt)&&unref(Dt)&&unref(Pt)?(openBlock(),createBlock(unref(ElIcon),{key:4,class:normalizeClass([unref($e).e("icon"),unref($e).e("validateIcon"),unref($e).is("loading",unref(kt)==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Dt))))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0)],2),createCommentVNode(" append slot "),Jn.$slots.append?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref($e).be("group","append"))},[renderSlot(Jn.$slots,"append")],2)):createCommentVNode("v-if",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" textarea "),createBaseVNode("textarea",mergeProps({id:unref(he),ref_key:"textarea",ref:Ce,class:unref(xe).e("inner")},unref(le),{tabindex:Jn.tabindex,disabled:unref(_e),readonly:Jn.readonly,autocomplete:Jn.autocomplete,style:unref(vn),"aria-label":Jn.label,placeholder:Jn.placeholder,form:$.form,onCompositionstart:Nn,onCompositionupdate:Vn,onCompositionend:Ln,onInput:Dn,onFocus:Qn,onBlur:Zn,onChange:kn,onKeydown:ei}),null,16,_hoisted_3$b),unref(xn)?(openBlock(),createElementBlock("span",{key:0,style:normalizeStyle$2(Ue.value),class:normalizeClass(unref($e).e("count"))},toDisplayString(unref(On))+" / "+toDisplayString(unref(le).maxlength),7)):createCommentVNode("v-if",!0)],64))],16,_hoisted_1$C)),[[vShow,Jn.type!=="hidden"]])}});var Input=_export_sfc$1(_sfc_main$19,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);let GAP,BAR_MAP,renderThumbStyle,thumbProps,COMPONENT_NAME$8,_sfc_main$18;ElInput=withInstall(Input),GAP=4,BAR_MAP={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},renderThumbStyle=({move:g,size:n,bar:r})=>({[r.size]:n,transform:`translate${r.axis}(${g}%)`}),thumbProps=buildProps({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),COMPONENT_NAME$8="Thumb",_sfc_main$18=defineComponent({__name:"thumb",props:thumbProps,setup(g){const n=g,r=inject(scrollbarContextKey),$=useNamespace("scrollbar");r||throwError$2(COMPONENT_NAME$8,"can not inject scrollbar context");const L=ref(),V=ref(),oe=ref({}),ae=ref(!1);let re=!1,le=!1,ue=isClient?document.onselectstart:null;const de=computed(()=>BAR_MAP[n.vertical?"vertical":"horizontal"]),he=computed(()=>renderThumbStyle({size:n.size,move:n.move,bar:de.value})),pe=computed(()=>L.value[de.value.offset]**2/r.wrapElement[de.value.scrollSize]/n.ratio/V.value[de.value.offset]),_e=Fe=>{var Ue;if(Fe.stopPropagation(),Fe.ctrlKey||[1,2].includes(Fe.button))return;(Ue=window.getSelection())==null||Ue.removeAllRanges(),xe(Fe);const At=Fe.currentTarget;!At||(oe.value[de.value.axis]=At[de.value.offset]-(Fe[de.value.client]-At.getBoundingClientRect()[de.value.direction]))},$e=Fe=>{if(!V.value||!L.value||!r.wrapElement)return;const Ue=Math.abs(Fe.target.getBoundingClientRect()[de.value.direction]-Fe[de.value.client]),At=V.value[de.value.offset]/2,Et=(Ue-At)*100*pe.value/L.value[de.value.offset];r.wrapElement[de.value.scroll]=Et*r.wrapElement[de.value.scrollSize]/100},xe=Fe=>{Fe.stopImmediatePropagation(),re=!0,document.addEventListener("mousemove",Oe),document.addEventListener("mouseup",Ce),ue=document.onselectstart,document.onselectstart=()=>!1},Oe=Fe=>{if(!L.value||!V.value||re===!1)return;const Ue=oe.value[de.value.axis];if(!Ue)return;const At=(L.value.getBoundingClientRect()[de.value.direction]-Fe[de.value.client])*-1,Et=V.value[de.value.offset]-Ue,Pt=(At-Et)*100*pe.value/L.value[de.value.offset];r.wrapElement[de.value.scroll]=Pt*r.wrapElement[de.value.scrollSize]/100},Ce=()=>{re=!1,oe.value[de.value.axis]=0,document.removeEventListener("mousemove",Oe),document.removeEventListener("mouseup",Ce),ze(),le&&(ae.value=!1)},Ie=()=>{le=!1,ae.value=!!n.size},Ne=()=>{le=!0,ae.value=re};onBeforeUnmount(()=>{ze(),document.removeEventListener("mouseup",Ce)});const ze=()=>{document.onselectstart!==ue&&(document.onselectstart=ue)};return useEventListener(toRef(r,"scrollbarElement"),"mousemove",Ie),useEventListener(toRef(r,"scrollbarElement"),"mouseleave",Ne),(Fe,Ue)=>(openBlock(),createBlock(Transition,{name:unref($).b("fade"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{ref_key:"instance",ref:L,class:normalizeClass([unref($).e("bar"),unref($).is(unref(de).key)]),onMousedown:$e},[createBaseVNode("div",{ref_key:"thumb",ref:V,class:normalizeClass(unref($).e("thumb")),style:normalizeStyle$2(unref(he)),onMousedown:_e},null,38)],34),[[vShow,Fe.always||ae.value]])]),_:1},8,["name"]))}});var Thumb=_export_sfc$1(_sfc_main$18,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const barProps=buildProps({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),_sfc_main$17=defineComponent({__name:"bar",props:barProps,setup(g,{expose:n}){const r=g,$=ref(0),L=ref(0);return n({handleScroll:V=>{if(V){const oe=V.offsetHeight-GAP,ae=V.offsetWidth-GAP;L.value=V.scrollTop*100/oe*r.ratioY,$.value=V.scrollLeft*100/ae*r.ratioX}}}),(V,oe)=>(openBlock(),createElementBlock(Fragment,null,[createVNode$2(Thumb,{move:$.value,ratio:V.ratioX,size:V.width,always:V.always},null,8,["move","ratio","size","always"]),createVNode$2(Thumb,{move:L.value,ratio:V.ratioY,size:V.height,vertical:"",always:V.always},null,8,["move","ratio","size","always"])],64))}});var Bar=_export_sfc$1(_sfc_main$17,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const scrollbarProps=buildProps({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:definePropType([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),scrollbarEmits={scroll:({scrollTop:g,scrollLeft:n})=>[g,n].every(isNumber$4)},COMPONENT_NAME$7="ElScrollbar",__default__$J=defineComponent({name:COMPONENT_NAME$7}),_sfc_main$16=defineComponent({...__default__$J,props:scrollbarProps,emits:scrollbarEmits,setup(g,{expose:n,emit:r}){const $=g,L=useNamespace("scrollbar");let V,oe;const ae=ref(),re=ref(),le=ref(),ue=ref("0"),de=ref("0"),he=ref(),pe=ref(1),_e=ref(1),$e=computed(()=>{const Ue={};return $.height&&(Ue.height=addUnit($.height)),$.maxHeight&&(Ue.maxHeight=addUnit($.maxHeight)),[$.wrapStyle,Ue]}),xe=computed(()=>[$.wrapClass,L.e("wrap"),{[L.em("wrap","hidden-default")]:!$.native}]),Oe=computed(()=>[L.e("view"),$.viewClass]),Ce=()=>{var Ue;re.value&&((Ue=he.value)==null||Ue.handleScroll(re.value),r("scroll",{scrollTop:re.value.scrollTop,scrollLeft:re.value.scrollLeft}))};function Ie(Ue,At){isObject$c(Ue)?re.value.scrollTo(Ue):isNumber$4(Ue)&&isNumber$4(At)&&re.value.scrollTo(Ue,At)}const Ne=Ue=>{!isNumber$4(Ue)||(re.value.scrollTop=Ue)},ze=Ue=>{!isNumber$4(Ue)||(re.value.scrollLeft=Ue)},Fe=()=>{if(!re.value)return;const Ue=re.value.offsetHeight-GAP,At=re.value.offsetWidth-GAP,Et=Ue**2/re.value.scrollHeight,Pt=At**2/re.value.scrollWidth,kt=Math.max(Et,$.minSize),Dt=Math.max(Pt,$.minSize);pe.value=Et/(Ue-Et)/(kt/(Ue-kt)),_e.value=Pt/(At-Pt)/(Dt/(At-Dt)),de.value=kt+GAP<Ue?`${kt}px`:"",ue.value=Dt+GAP<At?`${Dt}px`:""};return watch(()=>$.noresize,Ue=>{Ue?(V==null||V(),oe==null||oe()):({stop:V}=useResizeObserver(le,Fe),oe=useEventListener("resize",Fe))},{immediate:!0}),watch(()=>[$.maxHeight,$.height],()=>{$.native||nextTick(()=>{var Ue;Fe(),re.value&&((Ue=he.value)==null||Ue.handleScroll(re.value))})}),provide(scrollbarContextKey,reactive({scrollbarElement:ae,wrapElement:re})),onMounted(()=>{$.native||nextTick(()=>{Fe()})}),onUpdated(()=>Fe()),n({wrapRef:re,update:Fe,scrollTo:Ie,setScrollTop:Ne,setScrollLeft:ze,handleScroll:Ce}),(Ue,At)=>(openBlock(),createElementBlock("div",{ref_key:"scrollbarRef",ref:ae,class:normalizeClass(unref(L).b())},[createBaseVNode("div",{ref_key:"wrapRef",ref:re,class:normalizeClass(unref(xe)),style:normalizeStyle$2(unref($e)),onScroll:Ce},[(openBlock(),createBlock(resolveDynamicComponent(Ue.tag),{ref_key:"resizeRef",ref:le,class:normalizeClass(unref(Oe)),style:normalizeStyle$2(Ue.viewStyle)},{default:withCtx(()=>[renderSlot(Ue.$slots,"default")]),_:3},8,["class","style"]))],38),Ue.native?createCommentVNode("v-if",!0):(openBlock(),createBlock(Bar,{key:0,ref_key:"barRef",ref:he,height:de.value,width:ue.value,always:Ue.always,"ratio-x":_e.value,"ratio-y":pe.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var Scrollbar=_export_sfc$1(_sfc_main$16,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const ElScrollbar=withInstall(Scrollbar),Effect={LIGHT:"light",DARK:"dark"},roleTypes=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],popperProps=buildProps({role:{type:String,values:roleTypes,default:"tooltip"}}),__default__$I=defineComponent({name:"ElPopperRoot",inheritAttrs:!1}),_sfc_main$15=defineComponent({...__default__$I,props:popperProps,setup(g,{expose:n}){const r=g,$=ref(),L=ref(),V=ref(),oe=ref(),ae=computed(()=>r.role),re={triggerRef:$,popperInstanceRef:L,contentRef:V,referenceRef:oe,role:ae};return n(re),provide(POPPER_INJECTION_KEY,re),(le,ue)=>renderSlot(le.$slots,"default")}});var Popper=_export_sfc$1(_sfc_main$15,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const popperArrowProps=buildProps({arrowOffset:{type:Number,default:5}}),__default__$H=defineComponent({name:"ElPopperArrow",inheritAttrs:!1}),_sfc_main$14=defineComponent({...__default__$H,props:popperArrowProps,setup(g,{expose:n}){const r=g,$=useNamespace("popper"),{arrowOffset:L,arrowRef:V}=inject(POPPER_CONTENT_INJECTION_KEY,void 0);return watch(()=>r.arrowOffset,oe=>{L.value=oe}),onBeforeUnmount(()=>{V.value=void 0}),n({arrowRef:V}),(oe,ae)=>(openBlock(),createElementBlock("span",{ref_key:"arrowRef",ref:V,class:normalizeClass(unref($).e("arrow")),"data-popper-arrow":""},null,2))}});var ElPopperArrow=_export_sfc$1(_sfc_main$14,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const NAME="ElOnlyChild",OnlyChild=defineComponent({name:NAME,setup(g,{slots:n,attrs:r}){var $;const L=inject(FORWARD_REF_INJECTION_KEY),V=useForwardRefDirective(($=L==null?void 0:L.setForwardRef)!=null?$:NOOP);return()=>{var oe;const ae=(oe=n.default)==null?void 0:oe.call(n,r);if(!ae||ae.length>1)return null;const re=findFirstLegitChild(ae);return re?withDirectives(cloneVNode(re,r),[[V]]):null}}});function findFirstLegitChild(g){if(!g)return null;const n=g;for(const r of n){if(isObject$c(r))switch(r.type){case Comment:continue;case Text$1:case"svg":return wrapTextContent(r);case Fragment:return findFirstLegitChild(r.children);default:return r}return wrapTextContent(r)}return null}function wrapTextContent(g){const n=useNamespace("only-child");return createVNode$2("span",{class:n.e("content")},[g])}const popperTriggerProps=buildProps({virtualRef:{type:definePropType(Object)},virtualTriggering:Boolean,onMouseenter:{type:definePropType(Function)},onMouseleave:{type:definePropType(Function)},onClick:{type:definePropType(Function)},onKeydown:{type:definePropType(Function)},onFocus:{type:definePropType(Function)},onBlur:{type:definePropType(Function)},onContextmenu:{type:definePropType(Function)},id:String,open:Boolean}),__default__$G=defineComponent({name:"ElPopperTrigger",inheritAttrs:!1}),_sfc_main$13=defineComponent({...__default__$G,props:popperTriggerProps,setup(g,{expose:n}){const r=g,{role:$,triggerRef:L}=inject(POPPER_INJECTION_KEY,void 0);useForwardRef(L);const V=computed(()=>ae.value?r.id:void 0),oe=computed(()=>{if($&&$.value==="tooltip")return r.open&&r.id?r.id:void 0}),ae=computed(()=>{if($&&$.value!=="tooltip")return $.value}),re=computed(()=>ae.value?`${r.open}`:void 0);let le;return onMounted(()=>{watch(()=>r.virtualRef,ue=>{ue&&(L.value=unrefElement(ue))},{immediate:!0}),watch(L,(ue,de)=>{le==null||le(),le=void 0,isElement(ue)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(he=>{var pe;const _e=r[he];_e&&(ue.addEventListener(he.slice(2).toLowerCase(),_e),(pe=de==null?void 0:de.removeEventListener)==null||pe.call(de,he.slice(2).toLowerCase(),_e))}),le=watch([V,oe,ae,re],he=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((pe,_e)=>{isNil(he[_e])?ue.removeAttribute(pe):ue.setAttribute(pe,he[_e])})},{immediate:!0})),isElement(de)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(he=>de.removeAttribute(he))},{immediate:!0})}),onBeforeUnmount(()=>{le==null||le(),le=void 0}),n({triggerRef:L}),(ue,de)=>ue.virtualTriggering?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(OnlyChild),mergeProps({key:0},ue.$attrs,{"aria-controls":unref(V),"aria-describedby":unref(oe),"aria-expanded":unref(re),"aria-haspopup":unref(ae)}),{default:withCtx(()=>[renderSlot(ue.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var ElPopperTrigger=_export_sfc$1(_sfc_main$13,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]),E$1="top",R="bottom",W="right",P$2="left",me="auto",G=[E$1,R,W,P$2],U$2="start",J="end",Xe="clippingParents",je="viewport",K="popper",Ye="reference",De=G.reduce(function(g,n){return g.concat([n+"-"+U$2,n+"-"+J])},[]),Ee=[].concat(G,[me]).reduce(function(g,n){return g.concat([n,n+"-"+U$2,n+"-"+J])},[]),Ge="beforeRead",Je="read",Ke="afterRead",Qe="beforeMain",Ze="main",et="afterMain",tt="beforeWrite",nt="write",rt$2="afterWrite",ot=[Ge,Je,Ke,Qe,Ze,et,tt,nt,rt$2];function C$2(g){return g?(g.nodeName||"").toLowerCase():null}function H(g){if(g==null)return window;if(g.toString()!=="[object Window]"){var n=g.ownerDocument;return n&&n.defaultView||window}return g}function Q(g){var n=H(g).Element;return g instanceof n||g instanceof Element}function B$1(g){var n=H(g).HTMLElement;return g instanceof n||g instanceof HTMLElement}function Pe(g){if(typeof ShadowRoot>"u")return!1;var n=H(g).ShadowRoot;return g instanceof n||g instanceof ShadowRoot}function Mt(g){var n=g.state;Object.keys(n.elements).forEach(function(r){var $=n.styles[r]||{},L=n.attributes[r]||{},V=n.elements[r];!B$1(V)||!C$2(V)||(Object.assign(V.style,$),Object.keys(L).forEach(function(oe){var ae=L[oe];ae===!1?V.removeAttribute(oe):V.setAttribute(oe,ae===!0?"":ae)}))})}function Rt(g){var n=g.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow),function(){Object.keys(n.elements).forEach(function($){var L=n.elements[$],V=n.attributes[$]||{},oe=Object.keys(n.styles.hasOwnProperty($)?n.styles[$]:r[$]),ae=oe.reduce(function(re,le){return re[le]="",re},{});!B$1(L)||!C$2(L)||(Object.assign(L.style,ae),Object.keys(V).forEach(function(re){L.removeAttribute(re)}))})}}var Ae={name:"applyStyles",enabled:!0,phase:"write",fn:Mt,effect:Rt,requires:["computeStyles"]};function q(g){return g.split("-")[0]}var X$1=Math.max,ve=Math.min,Z=Math.round;function ee(g,n){n===void 0&&(n=!1);var r=g.getBoundingClientRect(),$=1,L=1;if(B$1(g)&&n){var V=g.offsetHeight,oe=g.offsetWidth;oe>0&&($=Z(r.width)/oe||1),V>0&&(L=Z(r.height)/V||1)}return{width:r.width/$,height:r.height/L,top:r.top/L,right:r.right/$,bottom:r.bottom/L,left:r.left/$,x:r.left/$,y:r.top/L}}function ke(g){var n=ee(g),r=g.offsetWidth,$=g.offsetHeight;return Math.abs(n.width-r)<=1&&(r=n.width),Math.abs(n.height-$)<=1&&($=n.height),{x:g.offsetLeft,y:g.offsetTop,width:r,height:$}}function it(g,n){var r=n.getRootNode&&n.getRootNode();if(g.contains(n))return!0;if(r&&Pe(r)){var $=n;do{if($&&g.isSameNode($))return!0;$=$.parentNode||$.host}while($)}return!1}function N$1(g){return H(g).getComputedStyle(g)}function Wt(g){return["table","td","th"].indexOf(C$2(g))>=0}function I$1(g){return((Q(g)?g.ownerDocument:g.document)||window.document).documentElement}function ge(g){return C$2(g)==="html"?g:g.assignedSlot||g.parentNode||(Pe(g)?g.host:null)||I$1(g)}function at(g){return!B$1(g)||N$1(g).position==="fixed"?null:g.offsetParent}function Bt(g){var n=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&B$1(g)){var $=N$1(g);if($.position==="fixed")return null}var L=ge(g);for(Pe(L)&&(L=L.host);B$1(L)&&["html","body"].indexOf(C$2(L))<0;){var V=N$1(L);if(V.transform!=="none"||V.perspective!=="none"||V.contain==="paint"||["transform","perspective"].indexOf(V.willChange)!==-1||n&&V.willChange==="filter"||n&&V.filter&&V.filter!=="none")return L;L=L.parentNode}return null}function se(g){for(var n=H(g),r=at(g);r&&Wt(r)&&N$1(r).position==="static";)r=at(r);return r&&(C$2(r)==="html"||C$2(r)==="body"&&N$1(r).position==="static")?n:r||Bt(g)||n}function Le(g){return["top","bottom"].indexOf(g)>=0?"x":"y"}function fe(g,n,r){return X$1(g,ve(n,r))}function St(g,n,r){var $=fe(g,n,r);return $>r?r:$}function st(){return{top:0,right:0,bottom:0,left:0}}function ft(g){return Object.assign({},st(),g)}function ct(g,n){return n.reduce(function(r,$){return r[$]=g,r},{})}var Tt=function(g,n){return g=typeof g=="function"?g(Object.assign({},n.rects,{placement:n.placement})):g,ft(typeof g!="number"?g:ct(g,G))};function Ht(g){var n,r=g.state,$=g.name,L=g.options,V=r.elements.arrow,oe=r.modifiersData.popperOffsets,ae=q(r.placement),re=Le(ae),le=[P$2,W].indexOf(ae)>=0,ue=le?"height":"width";if(!(!V||!oe)){var de=Tt(L.padding,r),he=ke(V),pe=re==="y"?E$1:P$2,_e=re==="y"?R:W,$e=r.rects.reference[ue]+r.rects.reference[re]-oe[re]-r.rects.popper[ue],xe=oe[re]-r.rects.reference[re],Oe=se(V),Ce=Oe?re==="y"?Oe.clientHeight||0:Oe.clientWidth||0:0,Ie=$e/2-xe/2,Ne=de[pe],ze=Ce-he[ue]-de[_e],Fe=Ce/2-he[ue]/2+Ie,Ue=fe(Ne,Fe,ze),At=re;r.modifiersData[$]=(n={},n[At]=Ue,n.centerOffset=Ue-Fe,n)}}function Ct(g){var n=g.state,r=g.options,$=r.element,L=$===void 0?"[data-popper-arrow]":$;L!=null&&(typeof L=="string"&&(L=n.elements.popper.querySelector(L),!L)||!it(n.elements.popper,L)||(n.elements.arrow=L))}var pt={name:"arrow",enabled:!0,phase:"main",fn:Ht,effect:Ct,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te(g){return g.split("-")[1]}var qt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vt(g){var n=g.x,r=g.y,$=window,L=$.devicePixelRatio||1;return{x:Z(n*L)/L||0,y:Z(r*L)/L||0}}function ut(g){var n,r=g.popper,$=g.popperRect,L=g.placement,V=g.variation,oe=g.offsets,ae=g.position,re=g.gpuAcceleration,le=g.adaptive,ue=g.roundOffsets,de=g.isFixed,he=oe.x,pe=he===void 0?0:he,_e=oe.y,$e=_e===void 0?0:_e,xe=typeof ue=="function"?ue({x:pe,y:$e}):{x:pe,y:$e};pe=xe.x,$e=xe.y;var Oe=oe.hasOwnProperty("x"),Ce=oe.hasOwnProperty("y"),Ie=P$2,Ne=E$1,ze=window;if(le){var Fe=se(r),Ue="clientHeight",At="clientWidth";if(Fe===H(r)&&(Fe=I$1(r),N$1(Fe).position!=="static"&&ae==="absolute"&&(Ue="scrollHeight",At="scrollWidth")),Fe=Fe,L===E$1||(L===P$2||L===W)&&V===J){Ne=R;var Et=de&&Fe===ze&&ze.visualViewport?ze.visualViewport.height:Fe[Ue];$e-=Et-$.height,$e*=re?1:-1}if(L===P$2||(L===E$1||L===R)&&V===J){Ie=W;var Pt=de&&Fe===ze&&ze.visualViewport?ze.visualViewport.width:Fe[At];pe-=Pt-$.width,pe*=re?1:-1}}var kt=Object.assign({position:ae},le&&qt),Dt=ue===!0?Vt({x:pe,y:$e}):{x:pe,y:$e};if(pe=Dt.x,$e=Dt.y,re){var Lt;return Object.assign({},kt,(Lt={},Lt[Ne]=Ce?"0":"",Lt[Ie]=Oe?"0":"",Lt.transform=(ze.devicePixelRatio||1)<=1?"translate("+pe+"px, "+$e+"px)":"translate3d("+pe+"px, "+$e+"px, 0)",Lt))}return Object.assign({},kt,(n={},n[Ne]=Ce?$e+"px":"",n[Ie]=Oe?pe+"px":"",n.transform="",n))}function Nt(g){var n=g.state,r=g.options,$=r.gpuAcceleration,L=$===void 0?!0:$,V=r.adaptive,oe=V===void 0?!0:V,ae=r.roundOffsets,re=ae===void 0?!0:ae,le={placement:q(n.placement),variation:te(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:L,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,ut(Object.assign({},le,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:oe,roundOffsets:re})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,ut(Object.assign({},le,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:re})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}var Me={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nt,data:{}},ye={passive:!0};function It(g){var n=g.state,r=g.instance,$=g.options,L=$.scroll,V=L===void 0?!0:L,oe=$.resize,ae=oe===void 0?!0:oe,re=H(n.elements.popper),le=[].concat(n.scrollParents.reference,n.scrollParents.popper);return V&&le.forEach(function(ue){ue.addEventListener("scroll",r.update,ye)}),ae&&re.addEventListener("resize",r.update,ye),function(){V&&le.forEach(function(ue){ue.removeEventListener("scroll",r.update,ye)}),ae&&re.removeEventListener("resize",r.update,ye)}}var Re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:It,data:{}},_t={left:"right",right:"left",bottom:"top",top:"bottom"};function be(g){return g.replace(/left|right|bottom|top/g,function(n){return _t[n]})}var zt={start:"end",end:"start"};function lt$2(g){return g.replace(/start|end/g,function(n){return zt[n]})}function We(g){var n=H(g),r=n.pageXOffset,$=n.pageYOffset;return{scrollLeft:r,scrollTop:$}}function Be(g){return ee(I$1(g)).left+We(g).scrollLeft}function Ft(g){var n=H(g),r=I$1(g),$=n.visualViewport,L=r.clientWidth,V=r.clientHeight,oe=0,ae=0;return $&&(L=$.width,V=$.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(oe=$.offsetLeft,ae=$.offsetTop)),{width:L,height:V,x:oe+Be(g),y:ae}}function Ut(g){var n,r=I$1(g),$=We(g),L=(n=g.ownerDocument)==null?void 0:n.body,V=X$1(r.scrollWidth,r.clientWidth,L?L.scrollWidth:0,L?L.clientWidth:0),oe=X$1(r.scrollHeight,r.clientHeight,L?L.scrollHeight:0,L?L.clientHeight:0),ae=-$.scrollLeft+Be(g),re=-$.scrollTop;return N$1(L||r).direction==="rtl"&&(ae+=X$1(r.clientWidth,L?L.clientWidth:0)-V),{width:V,height:oe,x:ae,y:re}}function Se(g){var n=N$1(g),r=n.overflow,$=n.overflowX,L=n.overflowY;return/auto|scroll|overlay|hidden/.test(r+L+$)}function dt(g){return["html","body","#document"].indexOf(C$2(g))>=0?g.ownerDocument.body:B$1(g)&&Se(g)?g:dt(ge(g))}function ce(g,n){var r;n===void 0&&(n=[]);var $=dt(g),L=$===((r=g.ownerDocument)==null?void 0:r.body),V=H($),oe=L?[V].concat(V.visualViewport||[],Se($)?$:[]):$,ae=n.concat(oe);return L?ae:ae.concat(ce(ge(oe)))}function Te(g){return Object.assign({},g,{left:g.x,top:g.y,right:g.x+g.width,bottom:g.y+g.height})}function Xt(g){var n=ee(g);return n.top=n.top+g.clientTop,n.left=n.left+g.clientLeft,n.bottom=n.top+g.clientHeight,n.right=n.left+g.clientWidth,n.width=g.clientWidth,n.height=g.clientHeight,n.x=n.left,n.y=n.top,n}function ht(g,n){return n===je?Te(Ft(g)):Q(n)?Xt(n):Te(Ut(I$1(g)))}function Yt(g){var n=ce(ge(g)),r=["absolute","fixed"].indexOf(N$1(g).position)>=0,$=r&&B$1(g)?se(g):g;return Q($)?n.filter(function(L){return Q(L)&&it(L,$)&&C$2(L)!=="body"}):[]}function Gt(g,n,r){var $=n==="clippingParents"?Yt(g):[].concat(n),L=[].concat($,[r]),V=L[0],oe=L.reduce(function(ae,re){var le=ht(g,re);return ae.top=X$1(le.top,ae.top),ae.right=ve(le.right,ae.right),ae.bottom=ve(le.bottom,ae.bottom),ae.left=X$1(le.left,ae.left),ae},ht(g,V));return oe.width=oe.right-oe.left,oe.height=oe.bottom-oe.top,oe.x=oe.left,oe.y=oe.top,oe}function mt(g){var n=g.reference,r=g.element,$=g.placement,L=$?q($):null,V=$?te($):null,oe=n.x+n.width/2-r.width/2,ae=n.y+n.height/2-r.height/2,re;switch(L){case E$1:re={x:oe,y:n.y-r.height};break;case R:re={x:oe,y:n.y+n.height};break;case W:re={x:n.x+n.width,y:ae};break;case P$2:re={x:n.x-r.width,y:ae};break;default:re={x:n.x,y:n.y}}var le=L?Le(L):null;if(le!=null){var ue=le==="y"?"height":"width";switch(V){case U$2:re[le]=re[le]-(n[ue]/2-r[ue]/2);break;case J:re[le]=re[le]+(n[ue]/2-r[ue]/2);break}}return re}function ne(g,n){n===void 0&&(n={});var r=n,$=r.placement,L=$===void 0?g.placement:$,V=r.boundary,oe=V===void 0?Xe:V,ae=r.rootBoundary,re=ae===void 0?je:ae,le=r.elementContext,ue=le===void 0?K:le,de=r.altBoundary,he=de===void 0?!1:de,pe=r.padding,_e=pe===void 0?0:pe,$e=ft(typeof _e!="number"?_e:ct(_e,G)),xe=ue===K?Ye:K,Oe=g.rects.popper,Ce=g.elements[he?xe:ue],Ie=Gt(Q(Ce)?Ce:Ce.contextElement||I$1(g.elements.popper),oe,re),Ne=ee(g.elements.reference),ze=mt({reference:Ne,element:Oe,strategy:"absolute",placement:L}),Fe=Te(Object.assign({},Oe,ze)),Ue=ue===K?Fe:Ne,At={top:Ie.top-Ue.top+$e.top,bottom:Ue.bottom-Ie.bottom+$e.bottom,left:Ie.left-Ue.left+$e.left,right:Ue.right-Ie.right+$e.right},Et=g.modifiersData.offset;if(ue===K&&Et){var Pt=Et[L];Object.keys(At).forEach(function(kt){var Dt=[W,R].indexOf(kt)>=0?1:-1,Lt=[E$1,R].indexOf(kt)>=0?"y":"x";At[kt]+=Pt[Lt]*Dt})}return At}function Jt(g,n){n===void 0&&(n={});var r=n,$=r.placement,L=r.boundary,V=r.rootBoundary,oe=r.padding,ae=r.flipVariations,re=r.allowedAutoPlacements,le=re===void 0?Ee:re,ue=te($),de=ue?ae?De:De.filter(function(_e){return te(_e)===ue}):G,he=de.filter(function(_e){return le.indexOf(_e)>=0});he.length===0&&(he=de);var pe=he.reduce(function(_e,$e){return _e[$e]=ne(g,{placement:$e,boundary:L,rootBoundary:V,padding:oe})[q($e)],_e},{});return Object.keys(pe).sort(function(_e,$e){return pe[_e]-pe[$e]})}function Kt(g){if(q(g)===me)return[];var n=be(g);return[lt$2(g),n,lt$2(n)]}function Qt(g){var n=g.state,r=g.options,$=g.name;if(!n.modifiersData[$]._skip){for(var L=r.mainAxis,V=L===void 0?!0:L,oe=r.altAxis,ae=oe===void 0?!0:oe,re=r.fallbackPlacements,le=r.padding,ue=r.boundary,de=r.rootBoundary,he=r.altBoundary,pe=r.flipVariations,_e=pe===void 0?!0:pe,$e=r.allowedAutoPlacements,xe=n.options.placement,Oe=q(xe),Ce=Oe===xe,Ie=re||(Ce||!_e?[be(xe)]:Kt(xe)),Ne=[xe].concat(Ie).reduce(function(Fn,Pn){return Fn.concat(q(Pn)===me?Jt(n,{placement:Pn,boundary:ue,rootBoundary:de,padding:le,flipVariations:_e,allowedAutoPlacements:$e}):Pn)},[]),ze=n.rects.reference,Fe=n.rects.popper,Ue=new Map,At=!0,Et=Ne[0],Pt=0;Pt<Ne.length;Pt++){var kt=Ne[Pt],Dt=q(kt),Lt=te(kt)===U$2,hn=[E$1,R].indexOf(Dt)>=0,vn=hn?"width":"height",_n=ne(n,{placement:kt,boundary:ue,rootBoundary:de,altBoundary:he,padding:le}),$n=hn?Lt?W:P$2:Lt?R:E$1;ze[vn]>Fe[vn]&&($n=be($n));var Sn=be($n),xn=[];if(V&&xn.push(_n[Dt]<=0),ae&&xn.push(_n[$n]<=0,_n[Sn]<=0),xn.every(function(Fn){return Fn})){Et=kt,At=!1;break}Ue.set(kt,xn)}if(At)for(var On=_e?3:1,Cn=function(Fn){var Pn=Ne.find(function(Un){var Dn=Ue.get(Un);if(Dn)return Dn.slice(0,Fn).every(function(kn){return kn})});if(Pn)return Et=Pn,"break"},An=On;An>0;An--){var Rn=Cn(An);if(Rn==="break")break}n.placement!==Et&&(n.modifiersData[$]._skip=!0,n.placement=Et,n.reset=!0)}}var vt={name:"flip",enabled:!0,phase:"main",fn:Qt,requiresIfExists:["offset"],data:{_skip:!1}};function gt(g,n,r){return r===void 0&&(r={x:0,y:0}),{top:g.top-n.height-r.y,right:g.right-n.width+r.x,bottom:g.bottom-n.height+r.y,left:g.left-n.width-r.x}}function yt(g){return[E$1,W,R,P$2].some(function(n){return g[n]>=0})}function Zt(g){var n=g.state,r=g.name,$=n.rects.reference,L=n.rects.popper,V=n.modifiersData.preventOverflow,oe=ne(n,{elementContext:"reference"}),ae=ne(n,{altBoundary:!0}),re=gt(oe,$),le=gt(ae,L,V),ue=yt(re),de=yt(le);n.modifiersData[r]={referenceClippingOffsets:re,popperEscapeOffsets:le,isReferenceHidden:ue,hasPopperEscaped:de},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":ue,"data-popper-escaped":de})}var bt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zt};function en(g,n,r){var $=q(g),L=[P$2,E$1].indexOf($)>=0?-1:1,V=typeof r=="function"?r(Object.assign({},n,{placement:g})):r,oe=V[0],ae=V[1];return oe=oe||0,ae=(ae||0)*L,[P$2,W].indexOf($)>=0?{x:ae,y:oe}:{x:oe,y:ae}}function tn(g){var n=g.state,r=g.options,$=g.name,L=r.offset,V=L===void 0?[0,0]:L,oe=Ee.reduce(function(ue,de){return ue[de]=en(de,n.rects,V),ue},{}),ae=oe[n.placement],re=ae.x,le=ae.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=re,n.modifiersData.popperOffsets.y+=le),n.modifiersData[$]=oe}var wt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tn};function nn(g){var n=g.state,r=g.name;n.modifiersData[r]=mt({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}var He={name:"popperOffsets",enabled:!0,phase:"read",fn:nn,data:{}};function rn(g){return g==="x"?"y":"x"}function on(g){var n=g.state,r=g.options,$=g.name,L=r.mainAxis,V=L===void 0?!0:L,oe=r.altAxis,ae=oe===void 0?!1:oe,re=r.boundary,le=r.rootBoundary,ue=r.altBoundary,de=r.padding,he=r.tether,pe=he===void 0?!0:he,_e=r.tetherOffset,$e=_e===void 0?0:_e,xe=ne(n,{boundary:re,rootBoundary:le,padding:de,altBoundary:ue}),Oe=q(n.placement),Ce=te(n.placement),Ie=!Ce,Ne=Le(Oe),ze=rn(Ne),Fe=n.modifiersData.popperOffsets,Ue=n.rects.reference,At=n.rects.popper,Et=typeof $e=="function"?$e(Object.assign({},n.rects,{placement:n.placement})):$e,Pt=typeof Et=="number"?{mainAxis:Et,altAxis:Et}:Object.assign({mainAxis:0,altAxis:0},Et),kt=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Dt={x:0,y:0};if(Fe){if(V){var Lt,hn=Ne==="y"?E$1:P$2,vn=Ne==="y"?R:W,_n=Ne==="y"?"height":"width",$n=Fe[Ne],Sn=$n+xe[hn],xn=$n-xe[vn],On=pe?-At[_n]/2:0,Cn=Ce===U$2?Ue[_n]:At[_n],An=Ce===U$2?-At[_n]:-Ue[_n],Rn=n.elements.arrow,Fn=pe&&Rn?ke(Rn):{width:0,height:0},Pn=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:st(),Un=Pn[hn],Dn=Pn[vn],kn=fe(0,Ue[_n],Fn[_n]),Nn=Ie?Ue[_n]/2-On-kn-Un-Pt.mainAxis:Cn-kn-Un-Pt.mainAxis,Vn=Ie?-Ue[_n]/2+On+kn+Dn+Pt.mainAxis:An+kn+Dn+Pt.mainAxis,Ln=n.elements.arrow&&se(n.elements.arrow),Tn=Ln?Ne==="y"?Ln.clientTop||0:Ln.clientLeft||0:0,In=(Lt=kt==null?void 0:kt[Ne])!=null?Lt:0,Bn=$n+Nn-In-Tn,Qn=$n+Vn-In,Zn=fe(pe?ve(Sn,Bn):Sn,$n,pe?X$1(xn,Qn):xn);Fe[Ne]=Zn,Dt[Ne]=Zn-$n}if(ae){var Kn,ui=Ne==="x"?E$1:P$2,ei=Ne==="x"?R:W,si=Fe[ze],ti=ze==="y"?"height":"width",Jn=si+xe[ui],di=si-xe[ei],mi=[E$1,P$2].indexOf(Oe)!==-1,yi=(Kn=kt==null?void 0:kt[ze])!=null?Kn:0,$i=mi?Jn:si-Ue[ti]-At[ti]-yi+Pt.altAxis,pi=mi?si+Ue[ti]+At[ti]-yi-Pt.altAxis:di,Wn=pe&&mi?St($i,si,pi):fe(pe?$i:Jn,si,pe?pi:di);Fe[ze]=Wn,Dt[ze]=Wn-si}n.modifiersData[$]=Dt}}var xt={name:"preventOverflow",enabled:!0,phase:"main",fn:on,requiresIfExists:["offset"]};function an(g){return{scrollLeft:g.scrollLeft,scrollTop:g.scrollTop}}function sn(g){return g===H(g)||!B$1(g)?We(g):an(g)}function fn(g){var n=g.getBoundingClientRect(),r=Z(n.width)/g.offsetWidth||1,$=Z(n.height)/g.offsetHeight||1;return r!==1||$!==1}function cn(g,n,r){r===void 0&&(r=!1);var $=B$1(n),L=B$1(n)&&fn(n),V=I$1(n),oe=ee(g,L),ae={scrollLeft:0,scrollTop:0},re={x:0,y:0};return($||!$&&!r)&&((C$2(n)!=="body"||Se(V))&&(ae=sn(n)),B$1(n)?(re=ee(n,!0),re.x+=n.clientLeft,re.y+=n.clientTop):V&&(re.x=Be(V))),{x:oe.left+ae.scrollLeft-re.x,y:oe.top+ae.scrollTop-re.y,width:oe.width,height:oe.height}}function pn(g){var n=new Map,r=new Set,$=[];g.forEach(function(V){n.set(V.name,V)});function L(V){r.add(V.name);var oe=[].concat(V.requires||[],V.requiresIfExists||[]);oe.forEach(function(ae){if(!r.has(ae)){var re=n.get(ae);re&&L(re)}}),$.push(V)}return g.forEach(function(V){r.has(V.name)||L(V)}),$}function un(g){var n=pn(g);return ot.reduce(function(r,$){return r.concat(n.filter(function(L){return L.phase===$}))},[])}function ln(g){var n;return function(){return n||(n=new Promise(function(r){Promise.resolve().then(function(){n=void 0,r(g())})})),n}}function dn(g){var n=g.reduce(function(r,$){var L=r[$.name];return r[$.name]=L?Object.assign({},L,$,{options:Object.assign({},L.options,$.options),data:Object.assign({},L.data,$.data)}):$,r},{});return Object.keys(n).map(function(r){return n[r]})}var Ot={placement:"bottom",modifiers:[],strategy:"absolute"};function $t(){for(var g=arguments.length,n=new Array(g),r=0;r<g;r++)n[r]=arguments[r];return!n.some(function($){return!($&&typeof $.getBoundingClientRect=="function")})}function we(g){g===void 0&&(g={});var n=g,r=n.defaultModifiers,$=r===void 0?[]:r,L=n.defaultOptions,V=L===void 0?Ot:L;return function(oe,ae,re){re===void 0&&(re=V);var le={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot,V),modifiersData:{},elements:{reference:oe,popper:ae},attributes:{},styles:{}},ue=[],de=!1,he={state:le,setOptions:function($e){var xe=typeof $e=="function"?$e(le.options):$e;_e(),le.options=Object.assign({},V,le.options,xe),le.scrollParents={reference:Q(oe)?ce(oe):oe.contextElement?ce(oe.contextElement):[],popper:ce(ae)};var Oe=un(dn([].concat($,le.options.modifiers)));return le.orderedModifiers=Oe.filter(function(Ce){return Ce.enabled}),pe(),he.update()},forceUpdate:function(){if(!de){var $e=le.elements,xe=$e.reference,Oe=$e.popper;if($t(xe,Oe)){le.rects={reference:cn(xe,se(Oe),le.options.strategy==="fixed"),popper:ke(Oe)},le.reset=!1,le.placement=le.options.placement,le.orderedModifiers.forEach(function(At){return le.modifiersData[At.name]=Object.assign({},At.data)});for(var Ce=0;Ce<le.orderedModifiers.length;Ce++){if(le.reset===!0){le.reset=!1,Ce=-1;continue}var Ie=le.orderedModifiers[Ce],Ne=Ie.fn,ze=Ie.options,Fe=ze===void 0?{}:ze,Ue=Ie.name;typeof Ne=="function"&&(le=Ne({state:le,options:Fe,name:Ue,instance:he})||le)}}}},update:ln(function(){return new Promise(function($e){he.forceUpdate(),$e(le)})}),destroy:function(){_e(),de=!0}};if(!$t(oe,ae))return he;he.setOptions(re).then(function($e){!de&&re.onFirstUpdate&&re.onFirstUpdate($e)});function pe(){le.orderedModifiers.forEach(function($e){var xe=$e.name,Oe=$e.options,Ce=Oe===void 0?{}:Oe,Ie=$e.effect;if(typeof Ie=="function"){var Ne=Ie({state:le,name:xe,instance:he,options:Ce}),ze=function(){};ue.push(Ne||ze)}})}function _e(){ue.forEach(function($e){return $e()}),ue=[]}return he}}we();var mn=[Re,He,Me,Ae];we({defaultModifiers:mn});var gn=[Re,He,Me,Ae,wt,vt,xt,pt,bt],yn=we({defaultModifiers:gn});let FOCUS_AFTER_TRAPPED,FOCUS_AFTER_RELEASED,FOCUSOUT_PREVENTED,FOCUS_AFTER_TRAPPED_OPTS,FOCUSOUT_PREVENTED_OPTS,ON_TRAP_FOCUS_EVT,ON_RELEASE_FOCUS_EVT,focusReason,lastUserFocusTimestamp,lastAutomatedFocusTimestamp;FOCUS_AFTER_TRAPPED="focus-trap.focus-after-trapped",FOCUS_AFTER_RELEASED="focus-trap.focus-after-released",FOCUSOUT_PREVENTED="focus-trap.focusout-prevented",FOCUS_AFTER_TRAPPED_OPTS={cancelable:!0,bubbles:!1},FOCUSOUT_PREVENTED_OPTS={cancelable:!0,bubbles:!1},ON_TRAP_FOCUS_EVT="focusAfterTrapped",ON_RELEASE_FOCUS_EVT="focusAfterReleased",FOCUS_TRAP_INJECTION_KEY=Symbol("elFocusTrap"),focusReason=ref(),lastUserFocusTimestamp=ref(0),lastAutomatedFocusTimestamp=ref(0);let focusReasonUserCount=0;const obtainAllFocusableElements=g=>{const n=[],r=document.createTreeWalker(g,NodeFilter.SHOW_ELEMENT,{acceptNode:$=>{const L=$.tagName==="INPUT"&&$.type==="hidden";return $.disabled||$.hidden||L?NodeFilter.FILTER_SKIP:$.tabIndex>=0||$===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n},getVisibleElement=(g,n)=>{for(const r of g)if(!isHidden(r,n))return r},isHidden=(g,n)=>{if(getComputedStyle(g).visibility==="hidden")return!0;for(;g;){if(n&&g===n)return!1;if(getComputedStyle(g).display==="none")return!0;g=g.parentElement}return!1},getEdges=g=>{const n=obtainAllFocusableElements(g),r=getVisibleElement(n,g),$=getVisibleElement(n.reverse(),g);return[r,$]},isSelectable=g=>g instanceof HTMLInputElement&&"select"in g,tryFocus=(g,n)=>{if(g&&g.focus){const r=document.activeElement;if(g.focus({preventScroll:!0}),lastAutomatedFocusTimestamp.value=window.performance.now(),g!==r&&isSelectable(g)&&n){if(g.tagName==="INPUT"){g.setSelectionRange(g.value.length,g.value.length);return}g.select()}}};function removeFromStack(g,n){const r=[...g],$=g.indexOf(n);return $!==-1&&r.splice($,1),r}const createFocusableStack=()=>{let g=[];return{push:n=>{const r=g[0];r&&n!==r&&r.pause(),g=removeFromStack(g,n),g.unshift(n)},remove:n=>{var r,$;g=removeFromStack(g,n),($=(r=g[0])==null?void 0:r.resume)==null||$.call(r)}}},focusFirstDescendant=(g,n=!1)=>{const r=document.activeElement;for(const $ of g)if(tryFocus($,n),document.activeElement!==r)return},focusableStack=createFocusableStack(),isFocusCausedByUserEvent=()=>lastUserFocusTimestamp.value>lastAutomatedFocusTimestamp.value,notifyFocusReasonPointer=()=>{focusReason.value="pointer",lastUserFocusTimestamp.value=window.performance.now()},notifyFocusReasonKeydown=()=>{focusReason.value="keyboard",lastUserFocusTimestamp.value=window.performance.now()},useFocusReason=()=>(onMounted(()=>{focusReasonUserCount===0&&(document.addEventListener("mousedown",notifyFocusReasonPointer),document.addEventListener("touchstart",notifyFocusReasonPointer),document.addEventListener("keydown",notifyFocusReasonKeydown)),focusReasonUserCount++}),onBeforeUnmount(()=>{focusReasonUserCount--,focusReasonUserCount<=0&&(document.removeEventListener("mousedown",notifyFocusReasonPointer),document.removeEventListener("touchstart",notifyFocusReasonPointer),document.removeEventListener("keydown",notifyFocusReasonKeydown))}),{focusReason,lastUserFocusTimestamp,lastAutomatedFocusTimestamp}),createFocusOutPreventedEvent=g=>new CustomEvent(FOCUSOUT_PREVENTED,{...FOCUSOUT_PREVENTED_OPTS,detail:g}),_sfc_main$12=defineComponent({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ON_TRAP_FOCUS_EVT,ON_RELEASE_FOCUS_EVT,"focusin","focusout","focusout-prevented","release-requested"],setup(g,{emit:n}){const r=ref();let $,L;const{focusReason:V}=useFocusReason();useEscapeKeydown(_e=>{g.trapped&&!oe.paused&&n("release-requested",_e)});const oe={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},ae=_e=>{if(!g.loop&&!g.trapped||oe.paused)return;const{key:$e,altKey:xe,ctrlKey:Oe,metaKey:Ce,currentTarget:Ie,shiftKey:Ne}=_e,{loop:ze}=g,Fe=$e===EVENT_CODE.tab&&!xe&&!Oe&&!Ce,Ue=document.activeElement;if(Fe&&Ue){const At=Ie,[Et,Pt]=getEdges(At);if(Et&&Pt){if(!Ne&&Ue===Pt){const kt=createFocusOutPreventedEvent({focusReason:V.value});n("focusout-prevented",kt),kt.defaultPrevented||(_e.preventDefault(),ze&&tryFocus(Et,!0))}else if(Ne&&[Et,At].includes(Ue)){const kt=createFocusOutPreventedEvent({focusReason:V.value});n("focusout-prevented",kt),kt.defaultPrevented||(_e.preventDefault(),ze&&tryFocus(Pt,!0))}}else if(Ue===At){const kt=createFocusOutPreventedEvent({focusReason:V.value});n("focusout-prevented",kt),kt.defaultPrevented||_e.preventDefault()}}};provide(FOCUS_TRAP_INJECTION_KEY,{focusTrapRef:r,onKeydown:ae}),watch(()=>g.focusTrapEl,_e=>{_e&&(r.value=_e)},{immediate:!0}),watch([r],([_e],[$e])=>{_e&&(_e.addEventListener("keydown",ae),_e.addEventListener("focusin",ue),_e.addEventListener("focusout",de)),$e&&($e.removeEventListener("keydown",ae),$e.removeEventListener("focusin",ue),$e.removeEventListener("focusout",de))});const re=_e=>{n(ON_TRAP_FOCUS_EVT,_e)},le=_e=>n(ON_RELEASE_FOCUS_EVT,_e),ue=_e=>{const $e=unref(r);if(!$e)return;const xe=_e.target,Oe=_e.relatedTarget,Ce=xe&&$e.contains(xe);g.trapped||Oe&&$e.contains(Oe)||($=Oe),Ce&&n("focusin",_e),!oe.paused&&g.trapped&&(Ce?L=xe:tryFocus(L,!0))},de=_e=>{const $e=unref(r);if(!(oe.paused||!$e))if(g.trapped){const xe=_e.relatedTarget;!isNil(xe)&&!$e.contains(xe)&&setTimeout(()=>{if(!oe.paused&&g.trapped){const Oe=createFocusOutPreventedEvent({focusReason:V.value});n("focusout-prevented",Oe),Oe.defaultPrevented||tryFocus(L,!0)}},0)}else{const xe=_e.target;xe&&$e.contains(xe)||n("focusout",_e)}};async function he(){await nextTick();const _e=unref(r);if(_e){focusableStack.push(oe);const $e=_e.contains(document.activeElement)?$:document.activeElement;if($=$e,!_e.contains($e)){const xe=new Event(FOCUS_AFTER_TRAPPED,FOCUS_AFTER_TRAPPED_OPTS);_e.addEventListener(FOCUS_AFTER_TRAPPED,re),_e.dispatchEvent(xe),xe.defaultPrevented||nextTick(()=>{let Oe=g.focusStartEl;isString$5(Oe)||(tryFocus(Oe),document.activeElement!==Oe&&(Oe="first")),Oe==="first"&&focusFirstDescendant(obtainAllFocusableElements(_e),!0),(document.activeElement===$e||Oe==="container")&&tryFocus(_e)})}}}function pe(){const _e=unref(r);if(_e){_e.removeEventListener(FOCUS_AFTER_TRAPPED,re);const $e=new CustomEvent(FOCUS_AFTER_RELEASED,{...FOCUS_AFTER_TRAPPED_OPTS,detail:{focusReason:V.value}});_e.addEventListener(FOCUS_AFTER_RELEASED,le),_e.dispatchEvent($e),!$e.defaultPrevented&&(V.value=="keyboard"||!isFocusCausedByUserEvent())&&tryFocus($!=null?$:document.body,!0),_e.removeEventListener(FOCUS_AFTER_RELEASED,re),focusableStack.remove(oe)}}return onMounted(()=>{g.trapped&&he(),watch(()=>g.trapped,_e=>{_e?he():pe()})}),onBeforeUnmount(()=>{g.trapped&&pe()}),{onKeydown:ae}}});function _sfc_render$d(g,n,r,$,L,V){return renderSlot(g.$slots,"default",{handleKeydown:g.onKeydown})}ElFocusTrap=_export_sfc$1(_sfc_main$12,[["render",_sfc_render$d],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const POSITIONING_STRATEGIES=["fixed","absolute"],popperCoreConfigProps=buildProps({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:definePropType(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ee,default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},strategy:{type:String,values:POSITIONING_STRATEGIES,default:"absolute"}}),popperContentProps=buildProps({...popperCoreConfigProps,id:String,style:{type:definePropType([String,Array,Object])},className:{type:definePropType([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:definePropType([String,Array,Object])},popperStyle:{type:definePropType([String,Array,Object])},referenceEl:{type:definePropType(Object)},triggerTargetEl:{type:definePropType(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),popperContentEmits={mouseenter:g=>g instanceof MouseEvent,mouseleave:g=>g instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},buildPopperOptions=(g,n)=>{const{placement:r,strategy:$,popperOptions:L}=g,V={placement:r,strategy:$,...L,modifiers:genModifiers(g)};return attachArrow(V,n),deriveExtraModifiers(V,L==null?void 0:L.modifiers),V},unwrapMeasurableEl=g=>{if(isClient)return unrefElement(g)};function genModifiers(g){const{offset:n,gpuAcceleration:r,fallbackPlacements:$}=g;return[{name:"offset",options:{offset:[0,n!=null?n:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:$}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function attachArrow(g,{arrowEl:n,arrowOffset:r}){g.modifiers.push({name:"arrow",options:{element:n,padding:r!=null?r:5}})}function deriveExtraModifiers(g,n){n&&(g.modifiers=[...g.modifiers,...n!=null?n:[]])}const __default__$F=defineComponent({name:"ElPopperContent"}),_sfc_main$11=defineComponent({...__default__$F,props:popperContentProps,emits:popperContentEmits,setup(g,{expose:n,emit:r}){const $=g,{popperInstanceRef:L,contentRef:V,triggerRef:oe,role:ae}=inject(POPPER_INJECTION_KEY,void 0),re=inject(formItemContextKey,void 0),{nextZIndex:le}=useZIndex(),ue=useNamespace("popper"),de=ref(),he=ref("first"),pe=ref(),_e=ref();provide(POPPER_CONTENT_INJECTION_KEY,{arrowRef:pe,arrowOffset:_e}),re&&(re.addInputId||re.removeInputId)&&provide(formItemContextKey,{...re,addInputId:NOOP,removeInputId:NOOP});const $e=ref($.zIndex||le()),xe=ref(!1);let Oe;const Ce=computed(()=>unwrapMeasurableEl($.referenceEl)||unref(oe)),Ie=computed(()=>[{zIndex:unref($e)},$.popperStyle]),Ne=computed(()=>[ue.b(),ue.is("pure",$.pure),ue.is($.effect),$.popperClass]),ze=computed(()=>ae&&ae.value==="dialog"?"false":void 0),Fe=({referenceEl:hn,popperContentEl:vn,arrowEl:_n})=>{const $n=buildPopperOptions($,{arrowEl:_n,arrowOffset:unref(_e)});return yn(hn,vn,$n)},Ue=(hn=!0)=>{var vn;(vn=unref(L))==null||vn.update(),hn&&($e.value=$.zIndex||le())},At=()=>{var hn,vn;const _n={name:"eventListeners",enabled:$.visible};(vn=(hn=unref(L))==null?void 0:hn.setOptions)==null||vn.call(hn,$n=>({...$n,modifiers:[...$n.modifiers||[],_n]})),Ue(!1),$.visible&&$.focusOnShow?xe.value=!0:$.visible===!1&&(xe.value=!1)},Et=()=>{r("focus")},Pt=hn=>{var vn;((vn=hn.detail)==null?void 0:vn.focusReason)!=="pointer"&&(he.value="first",r("blur"))},kt=hn=>{$.visible&&!xe.value&&(hn.target&&(he.value=hn.target),xe.value=!0)},Dt=hn=>{$.trapping||(hn.detail.focusReason==="pointer"&&hn.preventDefault(),xe.value=!1)},Lt=()=>{xe.value=!1,r("close")};return onMounted(()=>{let hn;watch(Ce,vn=>{var _n;hn==null||hn();const $n=unref(L);if((_n=$n==null?void 0:$n.destroy)==null||_n.call($n),vn){const Sn=unref(de);V.value=Sn,L.value=Fe({referenceEl:vn,popperContentEl:Sn,arrowEl:unref(pe)}),hn=watch(()=>vn.getBoundingClientRect(),()=>Ue(),{immediate:!0})}else L.value=void 0},{immediate:!0}),watch(()=>$.triggerTargetEl,(vn,_n)=>{Oe==null||Oe(),Oe=void 0;const $n=unref(vn||de.value),Sn=unref(_n||de.value);isElement($n)&&(Oe=watch([ae,()=>$.ariaLabel,ze,()=>$.id],xn=>{["role","aria-label","aria-modal","id"].forEach((On,Cn)=>{isNil(xn[Cn])?$n.removeAttribute(On):$n.setAttribute(On,xn[Cn])})},{immediate:!0})),Sn!==$n&&isElement(Sn)&&["role","aria-label","aria-modal","id"].forEach(xn=>{Sn.removeAttribute(xn)})},{immediate:!0}),watch(()=>$.visible,At,{immediate:!0}),watch(()=>buildPopperOptions($,{arrowEl:unref(pe),arrowOffset:unref(_e)}),vn=>{var _n;return(_n=L.value)==null?void 0:_n.setOptions(vn)})}),onBeforeUnmount(()=>{Oe==null||Oe(),Oe=void 0}),n({popperContentRef:de,popperInstanceRef:L,updatePopper:Ue,contentStyle:Ie}),(hn,vn)=>(openBlock(),createElementBlock("div",{ref_key:"popperContentRef",ref:de,style:normalizeStyle$2(unref(Ie)),class:normalizeClass(unref(Ne)),tabindex:"-1",onMouseenter:vn[0]||(vn[0]=_n=>hn.$emit("mouseenter",_n)),onMouseleave:vn[1]||(vn[1]=_n=>hn.$emit("mouseleave",_n))},[createVNode$2(unref(ElFocusTrap),{trapped:xe.value,"trap-on-focus-in":!0,"focus-trap-el":de.value,"focus-start-el":he.value,onFocusAfterTrapped:Et,onFocusAfterReleased:Pt,onFocusin:kt,onFocusoutPrevented:Dt,onReleaseRequested:Lt},{default:withCtx(()=>[renderSlot(hn.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el"])],38))}});var ElPopperContent=_export_sfc$1(_sfc_main$11,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const ElPopper=withInstall(Popper),ns=useNamespace("tooltip"),useTooltipContentProps=buildProps({...useDelayedToggleProps,...popperContentProps,appendTo:{type:definePropType([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:definePropType(Boolean),default:null},transition:{type:String,default:`${ns.namespace.value}-fade-in-linear`},teleported:{type:Boolean,default:!0},disabled:{type:Boolean}}),useTooltipTriggerProps=buildProps({...popperTriggerProps,disabled:Boolean,trigger:{type:definePropType([String,Array]),default:"hover"},triggerKeys:{type:definePropType(Array),default:()=>[EVENT_CODE.enter,EVENT_CODE.space]}}),{useModelToggleProps:useTooltipModelToggleProps,useModelToggleEmits:useTooltipModelToggleEmits,useModelToggle:useTooltipModelToggle}=createModelToggleComposable("visible"),useTooltipProps=buildProps({...popperProps,...useTooltipModelToggleProps,...useTooltipContentProps,...useTooltipTriggerProps,...popperArrowProps,showArrow:{type:Boolean,default:!0}}),tooltipEmits=[...useTooltipModelToggleEmits,"before-show","before-hide","show","hide","open","close"],isTriggerType=(g,n)=>isArray$9(g)?g.includes(n):g===n,whenTrigger=(g,n,r)=>$=>{isTriggerType(unref(g),n)&&r($)},__default__$E=defineComponent({name:"ElTooltipTrigger"}),_sfc_main$10=defineComponent({...__default__$E,props:useTooltipTriggerProps,setup(g,{expose:n}){const r=g,$=useNamespace("tooltip"),{controlled:L,id:V,open:oe,onOpen:ae,onClose:re,onToggle:le}=inject(TOOLTIP_INJECTION_KEY,void 0),ue=ref(null),de=()=>{if(unref(L)||r.disabled)return!0},he=toRef(r,"trigger"),pe=composeEventHandlers(de,whenTrigger(he,"hover",ae)),_e=composeEventHandlers(de,whenTrigger(he,"hover",re)),$e=composeEventHandlers(de,whenTrigger(he,"click",Ne=>{Ne.button===0&&le(Ne)})),xe=composeEventHandlers(de,whenTrigger(he,"focus",ae)),Oe=composeEventHandlers(de,whenTrigger(he,"focus",re)),Ce=composeEventHandlers(de,whenTrigger(he,"contextmenu",Ne=>{Ne.preventDefault(),le(Ne)})),Ie=composeEventHandlers(de,Ne=>{const{code:ze}=Ne;r.triggerKeys.includes(ze)&&(Ne.preventDefault(),le(Ne))});return n({triggerRef:ue}),(Ne,ze)=>(openBlock(),createBlock(unref(ElPopperTrigger),{id:unref(V),"virtual-ref":Ne.virtualRef,open:unref(oe),"virtual-triggering":Ne.virtualTriggering,class:normalizeClass(unref($).e("trigger")),onBlur:unref(Oe),onClick:unref($e),onContextmenu:unref(Ce),onFocus:unref(xe),onMouseenter:unref(pe),onMouseleave:unref(_e),onKeydown:unref(Ie)},{default:withCtx(()=>[renderSlot(Ne.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var ElTooltipTrigger=_export_sfc$1(_sfc_main$10,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const __default__$D=defineComponent({name:"ElTooltipContent",inheritAttrs:!1}),_sfc_main$$=defineComponent({...__default__$D,props:useTooltipContentProps,setup(g,{expose:n}){const r=g,{selector:$}=usePopperContainerId(),L=ref(null),V=ref(!1),{controlled:oe,id:ae,open:re,trigger:le,onClose:ue,onOpen:de,onShow:he,onHide:pe,onBeforeShow:_e,onBeforeHide:$e}=inject(TOOLTIP_INJECTION_KEY,void 0),xe=computed(()=>r.persistent);onBeforeUnmount(()=>{V.value=!0});const Oe=computed(()=>unref(xe)?!0:unref(re)),Ce=computed(()=>r.disabled?!1:unref(re)),Ie=computed(()=>r.appendTo||$.value),Ne=computed(()=>{var vn;return(vn=r.style)!=null?vn:{}}),ze=computed(()=>!unref(re)),Fe=()=>{pe()},Ue=()=>{if(unref(oe))return!0},At=composeEventHandlers(Ue,()=>{r.enterable&&unref(le)==="hover"&&de()}),Et=composeEventHandlers(Ue,()=>{unref(le)==="hover"&&ue()}),Pt=()=>{var vn,_n;(_n=(vn=L.value)==null?void 0:vn.updatePopper)==null||_n.call(vn),_e==null||_e()},kt=()=>{$e==null||$e()},Dt=()=>{he(),hn=onClickOutside(computed(()=>{var vn;return(vn=L.value)==null?void 0:vn.popperContentRef}),()=>{unref(oe)||unref(le)!=="hover"&&ue()})},Lt=()=>{r.virtualTriggering||ue()};let hn;return watch(()=>unref(re),vn=>{vn||(hn==null||hn())},{flush:"post"}),watch(()=>r.content,()=>{var vn,_n;(_n=(vn=L.value)==null?void 0:vn.updatePopper)==null||_n.call(vn)}),n({contentRef:L}),(vn,_n)=>(openBlock(),createBlock(Teleport,{disabled:!vn.teleported,to:unref(Ie)},[createVNode$2(Transition,{name:vn.transition,onAfterLeave:Fe,onBeforeEnter:Pt,onAfterEnter:Dt,onBeforeLeave:kt},{default:withCtx(()=>[unref(Oe)?withDirectives((openBlock(),createBlock(unref(ElPopperContent),mergeProps({key:0,id:unref(ae),ref_key:"contentRef",ref:L},vn.$attrs,{"aria-label":vn.ariaLabel,"aria-hidden":unref(ze),"boundaries-padding":vn.boundariesPadding,"fallback-placements":vn.fallbackPlacements,"gpu-acceleration":vn.gpuAcceleration,offset:vn.offset,placement:vn.placement,"popper-options":vn.popperOptions,strategy:vn.strategy,effect:vn.effect,enterable:vn.enterable,pure:vn.pure,"popper-class":vn.popperClass,"popper-style":[vn.popperStyle,unref(Ne)],"reference-el":vn.referenceEl,"trigger-target-el":vn.triggerTargetEl,visible:unref(Ce),"z-index":vn.zIndex,onMouseenter:unref(At),onMouseleave:unref(Et),onBlur:Lt,onClose:unref(ue)}),{default:withCtx(()=>[V.value?createCommentVNode("v-if",!0):renderSlot(vn.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[vShow,unref(Ce)]]):createCommentVNode("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var ElTooltipContent=_export_sfc$1(_sfc_main$$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const _hoisted_1$B=["innerHTML"],_hoisted_2$l={key:1},__default__$C=defineComponent({name:"ElTooltip"}),_sfc_main$_=defineComponent({...__default__$C,props:useTooltipProps,emits:tooltipEmits,setup(g,{expose:n,emit:r}){const $=g;usePopperContainer();const L=useId(),V=ref(),oe=ref(),ae=()=>{var Oe;const Ce=unref(V);Ce&&((Oe=Ce.popperInstanceRef)==null||Oe.update())},re=ref(!1),le=ref(),{show:ue,hide:de,hasUpdateHandler:he}=useTooltipModelToggle({indicator:re,toggleReason:le}),{onOpen:pe,onClose:_e}=useDelayedToggle({showAfter:toRef($,"showAfter"),hideAfter:toRef($,"hideAfter"),open:ue,close:de}),$e=computed(()=>isBoolean$2($.visible)&&!he.value);provide(TOOLTIP_INJECTION_KEY,{controlled:$e,id:L,open:readonly(re),trigger:toRef($,"trigger"),onOpen:Oe=>{pe(Oe)},onClose:Oe=>{_e(Oe)},onToggle:Oe=>{unref(re)?_e(Oe):pe(Oe)},onShow:()=>{r("show",le.value)},onHide:()=>{r("hide",le.value)},onBeforeShow:()=>{r("before-show",le.value)},onBeforeHide:()=>{r("before-hide",le.value)},updatePopper:ae}),watch(()=>$.disabled,Oe=>{Oe&&re.value&&(re.value=!1)});const xe=()=>{var Oe,Ce;const Ie=(Ce=(Oe=oe.value)==null?void 0:Oe.contentRef)==null?void 0:Ce.popperContentRef;return Ie&&Ie.contains(document.activeElement)};return onDeactivated(()=>re.value&&de()),n({popperRef:V,contentRef:oe,isFocusInsideContent:xe,updatePopper:ae,onOpen:pe,onClose:_e,hide:de}),(Oe,Ce)=>(openBlock(),createBlock(unref(ElPopper),{ref_key:"popperRef",ref:V,role:Oe.role},{default:withCtx(()=>[createVNode$2(ElTooltipTrigger,{disabled:Oe.disabled,trigger:Oe.trigger,"trigger-keys":Oe.triggerKeys,"virtual-ref":Oe.virtualRef,"virtual-triggering":Oe.virtualTriggering},{default:withCtx(()=>[Oe.$slots.default?renderSlot(Oe.$slots,"default",{key:0}):createCommentVNode("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),createVNode$2(ElTooltipContent,{ref_key:"contentRef",ref:oe,"aria-label":Oe.ariaLabel,"boundaries-padding":Oe.boundariesPadding,content:Oe.content,disabled:Oe.disabled,effect:Oe.effect,enterable:Oe.enterable,"fallback-placements":Oe.fallbackPlacements,"hide-after":Oe.hideAfter,"gpu-acceleration":Oe.gpuAcceleration,offset:Oe.offset,persistent:Oe.persistent,"popper-class":Oe.popperClass,"popper-style":Oe.popperStyle,placement:Oe.placement,"popper-options":Oe.popperOptions,pure:Oe.pure,"raw-content":Oe.rawContent,"reference-el":Oe.referenceEl,"trigger-target-el":Oe.triggerTargetEl,"show-after":Oe.showAfter,strategy:Oe.strategy,teleported:Oe.teleported,transition:Oe.transition,"virtual-triggering":Oe.virtualTriggering,"z-index":Oe.zIndex,"append-to":Oe.appendTo},{default:withCtx(()=>[renderSlot(Oe.$slots,"content",{},()=>[Oe.rawContent?(openBlock(),createElementBlock("span",{key:0,innerHTML:Oe.content},null,8,_hoisted_1$B)):(openBlock(),createElementBlock("span",_hoisted_2$l,toDisplayString(Oe.content),1))]),Oe.showArrow?(openBlock(),createBlock(unref(ElPopperArrow),{key:0,"arrow-offset":Oe.arrowOffset},null,8,["arrow-offset"])):createCommentVNode("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Tooltip=_export_sfc$1(_sfc_main$_,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const ElTooltip=withInstall(Tooltip),badgeProps=buildProps({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),_hoisted_1$A=["textContent"],__default__$B=defineComponent({name:"ElBadge"}),_sfc_main$Z=defineComponent({...__default__$B,props:badgeProps,setup(g,{expose:n}){const r=g,$=useNamespace("badge"),L=computed(()=>r.isDot?"":isNumber$4(r.value)&&isNumber$4(r.max)?r.max<r.value?`${r.max}+`:`${r.value}`:`${r.value}`);return n({content:L}),(V,oe)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref($).b())},[renderSlot(V.$slots,"default"),createVNode$2(Transition,{name:`${unref($).namespace.value}-zoom-in-center`,persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("sup",{class:normalizeClass([unref($).e("content"),unref($).em("content",V.type),unref($).is("fixed",!!V.$slots.default),unref($).is("dot",V.isDot)]),textContent:toDisplayString(unref(L))},null,10,_hoisted_1$A),[[vShow,!V.hidden&&(unref(L)||V.isDot)]])]),_:1},8,["name"])],2))}});var Badge=_export_sfc$1(_sfc_main$Z,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const ElBadge=withInstall(Badge),useButton=(g,n)=>{useDeprecated({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},computed(()=>g.type==="text"));const r=inject(buttonGroupContextKey,void 0),$=useGlobalConfig("button"),{form:L}=useFormItem(),V=useSize(computed(()=>r==null?void 0:r.size)),oe=useDisabled(),ae=ref(),re=useSlots(),le=computed(()=>g.type||(r==null?void 0:r.type)||""),ue=computed(()=>{var he,pe,_e;return(_e=(pe=g.autoInsertSpace)!=null?pe:(he=$.value)==null?void 0:he.autoInsertSpace)!=null?_e:!1}),de=computed(()=>{var he;const pe=(he=re.default)==null?void 0:he.call(re);if(ue.value&&(pe==null?void 0:pe.length)===1){const _e=pe[0];if((_e==null?void 0:_e.type)===Text$1){const $e=_e.children;return/^\p{Unified_Ideograph}{2}$/u.test($e.trim())}}return!1});return{_disabled:oe,_size:V,_type:le,_ref:ae,shouldAddSpace:de,handleClick:he=>{g.nativeType==="reset"&&(L==null||L.resetFields()),n("click",he)}}},buttonTypes=["default","primary","success","warning","info","danger","text",""],buttonNativeTypes=["button","submit","reset"],buttonProps=buildProps({size:useSizeProp,disabled:Boolean,type:{type:String,values:buttonTypes,default:""},icon:{type:iconPropType},nativeType:{type:String,values:buttonNativeTypes,default:"button"},loading:Boolean,loadingIcon:{type:iconPropType,default:()=>loading_default},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0}}),buttonEmits={click:g=>g instanceof MouseEvent};function bound01$1(g,n){isOnePointZero$1(g)&&(g="100%");var r=isPercentage$1(g);return g=n===360?g:Math.min(n,Math.max(0,parseFloat(g))),r&&(g=parseInt(String(g*n),10)/100),Math.abs(g-n)<1e-6?1:(n===360?g=(g<0?g%n+n:g%n)/parseFloat(String(n)):g=g%n/parseFloat(String(n)),g)}function clamp01(g){return Math.min(1,Math.max(0,g))}function isOnePointZero$1(g){return typeof g=="string"&&g.indexOf(".")!==-1&&parseFloat(g)===1}function isPercentage$1(g){return typeof g=="string"&&g.indexOf("%")!==-1}function boundAlpha(g){return g=parseFloat(g),(isNaN(g)||g<0||g>1)&&(g=1),g}function convertToPercentage(g){return g<=1?"".concat(Number(g)*100,"%"):g}function pad2(g){return g.length===1?"0"+g:String(g)}function rgbToRgb(g,n,r){return{r:bound01$1(g,255)*255,g:bound01$1(n,255)*255,b:bound01$1(r,255)*255}}function rgbToHsl(g,n,r){g=bound01$1(g,255),n=bound01$1(n,255),r=bound01$1(r,255);var $=Math.max(g,n,r),L=Math.min(g,n,r),V=0,oe=0,ae=($+L)/2;if($===L)oe=0,V=0;else{var re=$-L;switch(oe=ae>.5?re/(2-$-L):re/($+L),$){case g:V=(n-r)/re+(n<r?6:0);break;case n:V=(r-g)/re+2;break;case r:V=(g-n)/re+4;break}V/=6}return{h:V,s:oe,l:ae}}function hue2rgb(g,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<.16666666666666666?g+(n-g)*(6*r):r<.5?n:r<.6666666666666666?g+(n-g)*(.6666666666666666-r)*6:g}function hslToRgb(g,n,r){var $,L,V;if(g=bound01$1(g,360),n=bound01$1(n,100),r=bound01$1(r,100),n===0)L=r,V=r,$=r;else{var oe=r<.5?r*(1+n):r+n-r*n,ae=2*r-oe;$=hue2rgb(ae,oe,g+.3333333333333333),L=hue2rgb(ae,oe,g),V=hue2rgb(ae,oe,g-.3333333333333333)}return{r:$*255,g:L*255,b:V*255}}function rgbToHsv(g,n,r){g=bound01$1(g,255),n=bound01$1(n,255),r=bound01$1(r,255);var $=Math.max(g,n,r),L=Math.min(g,n,r),V=0,oe=$,ae=$-L,re=$===0?0:ae/$;if($===L)V=0;else{switch($){case g:V=(n-r)/ae+(n<r?6:0);break;case n:V=(r-g)/ae+2;break;case r:V=(g-n)/ae+4;break}V/=6}return{h:V,s:re,v:oe}}function hsvToRgb(g,n,r){g=bound01$1(g,360)*6,n=bound01$1(n,100),r=bound01$1(r,100);var $=Math.floor(g),L=g-$,V=r*(1-n),oe=r*(1-L*n),ae=r*(1-(1-L)*n),re=$%6,le=[r,oe,V,V,ae,r][re],ue=[ae,r,r,oe,V,V][re],de=[V,V,ae,r,r,oe][re];return{r:le*255,g:ue*255,b:de*255}}function rgbToHex(g,n,r,$){var L=[pad2(Math.round(g).toString(16)),pad2(Math.round(n).toString(16)),pad2(Math.round(r).toString(16))];return $&&L[0].startsWith(L[0].charAt(1))&&L[1].startsWith(L[1].charAt(1))&&L[2].startsWith(L[2].charAt(1))?L[0].charAt(0)+L[1].charAt(0)+L[2].charAt(0):L.join("")}function rgbaToHex(g,n,r,$,L){var V=[pad2(Math.round(g).toString(16)),pad2(Math.round(n).toString(16)),pad2(Math.round(r).toString(16)),pad2(convertDecimalToHex($))];return L&&V[0].startsWith(V[0].charAt(1))&&V[1].startsWith(V[1].charAt(1))&&V[2].startsWith(V[2].charAt(1))&&V[3].startsWith(V[3].charAt(1))?V[0].charAt(0)+V[1].charAt(0)+V[2].charAt(0)+V[3].charAt(0):V.join("")}function convertDecimalToHex(g){return Math.round(parseFloat(g)*255).toString(16)}function convertHexToDecimal(g){return parseIntFromHex(g)/255}function parseIntFromHex(g){return parseInt(g,16)}function numberInputToObject(g){return{r:g>>16,g:(g&65280)>>8,b:g&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(g){var n={r:0,g:0,b:0},r=1,$=null,L=null,V=null,oe=!1,ae=!1;return typeof g=="string"&&(g=stringInputToObject(g)),typeof g=="object"&&(isValidCSSUnit(g.r)&&isValidCSSUnit(g.g)&&isValidCSSUnit(g.b)?(n=rgbToRgb(g.r,g.g,g.b),oe=!0,ae=String(g.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(g.h)&&isValidCSSUnit(g.s)&&isValidCSSUnit(g.v)?($=convertToPercentage(g.s),L=convertToPercentage(g.v),n=hsvToRgb(g.h,$,L),oe=!0,ae="hsv"):isValidCSSUnit(g.h)&&isValidCSSUnit(g.s)&&isValidCSSUnit(g.l)&&($=convertToPercentage(g.s),V=convertToPercentage(g.l),n=hslToRgb(g.h,$,V),oe=!0,ae="hsl"),Object.prototype.hasOwnProperty.call(g,"a")&&(r=g.a)),r=boundAlpha(r),{ok:oe,format:g.format||ae,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(g){if(g=g.trim().toLowerCase(),g.length===0)return!1;var n=!1;if(names[g])g=names[g],n=!0;else if(g==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=matchers.rgb.exec(g);return r?{r:r[1],g:r[2],b:r[3]}:(r=matchers.rgba.exec(g),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=matchers.hsl.exec(g),r?{h:r[1],s:r[2],l:r[3]}:(r=matchers.hsla.exec(g),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=matchers.hsv.exec(g),r?{h:r[1],s:r[2],v:r[3]}:(r=matchers.hsva.exec(g),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=matchers.hex8.exec(g),r?{r:parseIntFromHex(r[1]),g:parseIntFromHex(r[2]),b:parseIntFromHex(r[3]),a:convertHexToDecimal(r[4]),format:n?"name":"hex8"}:(r=matchers.hex6.exec(g),r?{r:parseIntFromHex(r[1]),g:parseIntFromHex(r[2]),b:parseIntFromHex(r[3]),format:n?"name":"hex"}:(r=matchers.hex4.exec(g),r?{r:parseIntFromHex(r[1]+r[1]),g:parseIntFromHex(r[2]+r[2]),b:parseIntFromHex(r[3]+r[3]),a:convertHexToDecimal(r[4]+r[4]),format:n?"name":"hex8"}:(r=matchers.hex3.exec(g),r?{r:parseIntFromHex(r[1]+r[1]),g:parseIntFromHex(r[2]+r[2]),b:parseIntFromHex(r[3]+r[3]),format:n?"name":"hex"}:!1)))))))))}function isValidCSSUnit(g){return Boolean(matchers.CSS_UNIT.exec(String(g)))}var TinyColor=function(){function g(n,r){n===void 0&&(n=""),r===void 0&&(r={});var $;if(n instanceof g)return n;typeof n=="number"&&(n=numberInputToObject(n)),this.originalInput=n;var L=inputToRGB(n);this.originalInput=n,this.r=L.r,this.g=L.g,this.b=L.b,this.a=L.a,this.roundA=Math.round(100*this.a)/100,this.format=($=r.format)!==null&&$!==void 0?$:L.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=L.ok}return g.prototype.isDark=function(){return this.getBrightness()<128},g.prototype.isLight=function(){return!this.isDark()},g.prototype.getBrightness=function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},g.prototype.getLuminance=function(){var n=this.toRgb(),r,$,L,V=n.r/255,oe=n.g/255,ae=n.b/255;return V<=.03928?r=V/12.92:r=Math.pow((V+.055)/1.055,2.4),oe<=.03928?$=oe/12.92:$=Math.pow((oe+.055)/1.055,2.4),ae<=.03928?L=ae/12.92:L=Math.pow((ae+.055)/1.055,2.4),.2126*r+.7152*$+.0722*L},g.prototype.getAlpha=function(){return this.a},g.prototype.setAlpha=function(n){return this.a=boundAlpha(n),this.roundA=Math.round(100*this.a)/100,this},g.prototype.toHsv=function(){var n=rgbToHsv(this.r,this.g,this.b);return{h:n.h*360,s:n.s,v:n.v,a:this.a}},g.prototype.toHsvString=function(){var n=rgbToHsv(this.r,this.g,this.b),r=Math.round(n.h*360),$=Math.round(n.s*100),L=Math.round(n.v*100);return this.a===1?"hsv(".concat(r,", ").concat($,"%, ").concat(L,"%)"):"hsva(".concat(r,", ").concat($,"%, ").concat(L,"%, ").concat(this.roundA,")")},g.prototype.toHsl=function(){var n=rgbToHsl(this.r,this.g,this.b);return{h:n.h*360,s:n.s,l:n.l,a:this.a}},g.prototype.toHslString=function(){var n=rgbToHsl(this.r,this.g,this.b),r=Math.round(n.h*360),$=Math.round(n.s*100),L=Math.round(n.l*100);return this.a===1?"hsl(".concat(r,", ").concat($,"%, ").concat(L,"%)"):"hsla(".concat(r,", ").concat($,"%, ").concat(L,"%, ").concat(this.roundA,")")},g.prototype.toHex=function(n){return n===void 0&&(n=!1),rgbToHex(this.r,this.g,this.b,n)},g.prototype.toHexString=function(n){return n===void 0&&(n=!1),"#"+this.toHex(n)},g.prototype.toHex8=function(n){return n===void 0&&(n=!1),rgbaToHex(this.r,this.g,this.b,this.a,n)},g.prototype.toHex8String=function(n){return n===void 0&&(n=!1),"#"+this.toHex8(n)},g.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},g.prototype.toRgbString=function(){var n=Math.round(this.r),r=Math.round(this.g),$=Math.round(this.b);return this.a===1?"rgb(".concat(n,", ").concat(r,", ").concat($,")"):"rgba(".concat(n,", ").concat(r,", ").concat($,", ").concat(this.roundA,")")},g.prototype.toPercentageRgb=function(){var n=function(r){return"".concat(Math.round(bound01$1(r,255)*100),"%")};return{r:n(this.r),g:n(this.g),b:n(this.b),a:this.a}},g.prototype.toPercentageRgbString=function(){var n=function(r){return Math.round(bound01$1(r,255)*100)};return this.a===1?"rgb(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%)"):"rgba(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%, ").concat(this.roundA,")")},g.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var n="#"+rgbToHex(this.r,this.g,this.b,!1),r=0,$=Object.entries(names);r<$.length;r++){var L=$[r],V=L[0],oe=L[1];if(n===oe)return V}return!1},g.prototype.toString=function(n){var r=Boolean(n);n=n!=null?n:this.format;var $=!1,L=this.a<1&&this.a>=0,V=!r&&L&&(n.startsWith("hex")||n==="name");return V?n==="name"&&this.a===0?this.toName():this.toRgbString():(n==="rgb"&&($=this.toRgbString()),n==="prgb"&&($=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&($=this.toHexString()),n==="hex3"&&($=this.toHexString(!0)),n==="hex4"&&($=this.toHex8String(!0)),n==="hex8"&&($=this.toHex8String()),n==="name"&&($=this.toName()),n==="hsl"&&($=this.toHslString()),n==="hsv"&&($=this.toHsvString()),$||this.toHexString())},g.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},g.prototype.clone=function(){return new g(this.toString())},g.prototype.lighten=function(n){n===void 0&&(n=10);var r=this.toHsl();return r.l+=n/100,r.l=clamp01(r.l),new g(r)},g.prototype.brighten=function(n){n===void 0&&(n=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(n/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(n/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(n/100)))),new g(r)},g.prototype.darken=function(n){n===void 0&&(n=10);var r=this.toHsl();return r.l-=n/100,r.l=clamp01(r.l),new g(r)},g.prototype.tint=function(n){return n===void 0&&(n=10),this.mix("white",n)},g.prototype.shade=function(n){return n===void 0&&(n=10),this.mix("black",n)},g.prototype.desaturate=function(n){n===void 0&&(n=10);var r=this.toHsl();return r.s-=n/100,r.s=clamp01(r.s),new g(r)},g.prototype.saturate=function(n){n===void 0&&(n=10);var r=this.toHsl();return r.s+=n/100,r.s=clamp01(r.s),new g(r)},g.prototype.greyscale=function(){return this.desaturate(100)},g.prototype.spin=function(n){var r=this.toHsl(),$=(r.h+n)%360;return r.h=$<0?360+$:$,new g(r)},g.prototype.mix=function(n,r){r===void 0&&(r=50);var $=this.toRgb(),L=new g(n).toRgb(),V=r/100,oe={r:(L.r-$.r)*V+$.r,g:(L.g-$.g)*V+$.g,b:(L.b-$.b)*V+$.b,a:(L.a-$.a)*V+$.a};return new g(oe)},g.prototype.analogous=function(n,r){n===void 0&&(n=6),r===void 0&&(r=30);var $=this.toHsl(),L=360/r,V=[this];for($.h=($.h-(L*n>>1)+720)%360;--n;)$.h=($.h+L)%360,V.push(new g($));return V},g.prototype.complement=function(){var n=this.toHsl();return n.h=(n.h+180)%360,new g(n)},g.prototype.monochromatic=function(n){n===void 0&&(n=6);for(var r=this.toHsv(),$=r.h,L=r.s,V=r.v,oe=[],ae=1/n;n--;)oe.push(new g({h:$,s:L,v:V})),V=(V+ae)%1;return oe},g.prototype.splitcomplement=function(){var n=this.toHsl(),r=n.h;return[this,new g({h:(r+72)%360,s:n.s,l:n.l}),new g({h:(r+216)%360,s:n.s,l:n.l})]},g.prototype.onBackground=function(n){var r=this.toRgb(),$=new g(n).toRgb();return new g({r:$.r+(r.r-$.r)*r.a,g:$.g+(r.g-$.g)*r.a,b:$.b+(r.b-$.b)*r.a})},g.prototype.triad=function(){return this.polyad(3)},g.prototype.tetrad=function(){return this.polyad(4)},g.prototype.polyad=function(n){for(var r=this.toHsl(),$=r.h,L=[this],V=360/n,oe=1;oe<n;oe++)L.push(new g({h:($+oe*V)%360,s:r.s,l:r.l}));return L},g.prototype.equals=function(n){return this.toRgbString()===new g(n).toRgbString()},g}();function darken(g,n=20){return g.mix("#141414",n).toString()}function useButtonCustomStyle(g){const n=useDisabled(),r=useNamespace("button");return computed(()=>{let $={};const L=g.color;if(L){const V=new TinyColor(L),oe=g.dark?V.tint(20).toString():darken(V,20);if(g.plain)$=r.cssVarBlock({"bg-color":g.dark?darken(V,90):V.tint(90).toString(),"text-color":L,"border-color":g.dark?darken(V,50):V.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":L,"hover-border-color":L,"active-bg-color":oe,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":oe}),n.value&&($[r.cssVarBlockName("disabled-bg-color")]=g.dark?darken(V,90):V.tint(90).toString(),$[r.cssVarBlockName("disabled-text-color")]=g.dark?darken(V,50):V.tint(50).toString(),$[r.cssVarBlockName("disabled-border-color")]=g.dark?darken(V,80):V.tint(80).toString());else{const ae=g.dark?darken(V,30):V.tint(30).toString(),re=V.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if($=r.cssVarBlock({"bg-color":L,"text-color":re,"border-color":L,"hover-bg-color":ae,"hover-text-color":re,"hover-border-color":ae,"active-bg-color":oe,"active-border-color":oe}),n.value){const le=g.dark?darken(V,50):V.tint(50).toString();$[r.cssVarBlockName("disabled-bg-color")]=le,$[r.cssVarBlockName("disabled-text-color")]=g.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,$[r.cssVarBlockName("disabled-border-color")]=le}}}return $})}const _hoisted_1$z=["aria-disabled","disabled","autofocus","type"],__default__$A=defineComponent({name:"ElButton"}),_sfc_main$Y=defineComponent({...__default__$A,props:buttonProps,emits:buttonEmits,setup(g,{expose:n,emit:r}){const $=g,L=useButtonCustomStyle($),V=useNamespace("button"),{_ref:oe,_size:ae,_type:re,_disabled:le,shouldAddSpace:ue,handleClick:de}=useButton($,r);return n({ref:oe,size:ae,type:re,disabled:le,shouldAddSpace:ue}),(he,pe)=>(openBlock(),createElementBlock("button",{ref_key:"_ref",ref:oe,class:normalizeClass([unref(V).b(),unref(V).m(unref(re)),unref(V).m(unref(ae)),unref(V).is("disabled",unref(le)),unref(V).is("loading",he.loading),unref(V).is("plain",he.plain),unref(V).is("round",he.round),unref(V).is("circle",he.circle),unref(V).is("text",he.text),unref(V).is("link",he.link),unref(V).is("has-bg",he.bg)]),"aria-disabled":unref(le)||he.loading,disabled:unref(le)||he.loading,autofocus:he.autofocus,type:he.nativeType,style:normalizeStyle$2(unref(L)),onClick:pe[0]||(pe[0]=(..._e)=>unref(de)&&unref(de)(..._e))},[he.loading?(openBlock(),createElementBlock(Fragment,{key:0},[he.$slots.loading?renderSlot(he.$slots,"loading",{key:0}):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(V).is("loading"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(he.loadingIcon)))]),_:1},8,["class"]))],64)):he.icon||he.$slots.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[he.icon?(openBlock(),createBlock(resolveDynamicComponent(he.icon),{key:0})):renderSlot(he.$slots,"icon",{key:1})]),_:3})):createCommentVNode("v-if",!0),he.$slots.default?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass({[unref(V).em("text","expand")]:unref(ue)})},[renderSlot(he.$slots,"default")],2)):createCommentVNode("v-if",!0)],14,_hoisted_1$z))}});var Button=_export_sfc$1(_sfc_main$Y,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const buttonGroupProps={size:buttonProps.size,type:buttonProps.type},__default__$z=defineComponent({name:"ElButtonGroup"}),_sfc_main$X=defineComponent({...__default__$z,props:buttonGroupProps,setup(g){const n=g;provide(buttonGroupContextKey,reactive({size:toRef(n,"size"),type:toRef(n,"type")}));const r=useNamespace("button");return($,L)=>(openBlock(),createElementBlock("div",{class:normalizeClass(`${unref(r).b("group")}`)},[renderSlot($.$slots,"default")],2))}});var ButtonGroup=_export_sfc$1(_sfc_main$X,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);ElButton=withInstall(Button,{ButtonGroup}),withNoopInstall(ButtonGroup),commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},getDefaultExportFromCjs=function(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n},getAugmentedNamespace=function(n){var r=n.default;if(typeof r=="function"){var $=function(){return r.apply(this,arguments)};$.prototype=r.prototype}else $={};return Object.defineProperty($,"__esModule",{value:!0}),Object.keys(n).forEach(function(L){var V=Object.getOwnPropertyDescriptor(n,L);Object.defineProperty($,L,V.get?V:{enumerable:!0,get:function(){return n[L]}})}),$};var dayjs_min={exports:{}};(function(g,n){(function(r,$){g.exports=$()})(commonjsGlobal,function(){var r=1e3,$=6e4,L=36e5,V="millisecond",oe="second",ae="minute",re="hour",le="day",ue="week",de="month",he="quarter",pe="year",_e="date",$e="Invalid Date",xe=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Oe=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ce={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Lt){var hn=["th","st","nd","rd"],vn=Lt%100;return"["+Lt+(hn[(vn-20)%10]||hn[vn]||hn[0])+"]"}},Ie=function(Lt,hn,vn){var _n=String(Lt);return!_n||_n.length>=hn?Lt:""+Array(hn+1-_n.length).join(vn)+Lt},Ne={s:Ie,z:function(Lt){var hn=-Lt.utcOffset(),vn=Math.abs(hn),_n=Math.floor(vn/60),$n=vn%60;return(hn<=0?"+":"-")+Ie(_n,2,"0")+":"+Ie($n,2,"0")},m:function Lt(hn,vn){if(hn.date()<vn.date())return-Lt(vn,hn);var _n=12*(vn.year()-hn.year())+(vn.month()-hn.month()),$n=hn.clone().add(_n,de),Sn=vn-$n<0,xn=hn.clone().add(_n+(Sn?-1:1),de);return+(-(_n+(vn-$n)/(Sn?$n-xn:xn-$n))||0)},a:function(Lt){return Lt<0?Math.ceil(Lt)||0:Math.floor(Lt)},p:function(Lt){return{M:de,y:pe,w:ue,d:le,D:_e,h:re,m:ae,s:oe,ms:V,Q:he}[Lt]||String(Lt||"").toLowerCase().replace(/s$/,"")},u:function(Lt){return Lt===void 0}},ze="en",Fe={};Fe[ze]=Ce;var Ue=function(Lt){return Lt instanceof kt},At=function Lt(hn,vn,_n){var $n;if(!hn)return ze;if(typeof hn=="string"){var Sn=hn.toLowerCase();Fe[Sn]&&($n=Sn),vn&&(Fe[Sn]=vn,$n=Sn);var xn=hn.split("-");if(!$n&&xn.length>1)return Lt(xn[0])}else{var On=hn.name;Fe[On]=hn,$n=On}return!_n&&$n&&(ze=$n),$n||!_n&&ze},Et=function(Lt,hn){if(Ue(Lt))return Lt.clone();var vn=typeof hn=="object"?hn:{};return vn.date=Lt,vn.args=arguments,new kt(vn)},Pt=Ne;Pt.l=At,Pt.i=Ue,Pt.w=function(Lt,hn){return Et(Lt,{locale:hn.$L,utc:hn.$u,x:hn.$x,$offset:hn.$offset})};var kt=function(){function Lt(vn){this.$L=At(vn.locale,null,!0),this.parse(vn)}var hn=Lt.prototype;return hn.parse=function(vn){this.$d=function(_n){var $n=_n.date,Sn=_n.utc;if($n===null)return new Date(NaN);if(Pt.u($n))return new Date;if($n instanceof Date)return new Date($n);if(typeof $n=="string"&&!/Z$/i.test($n)){var xn=$n.match(xe);if(xn){var On=xn[2]-1||0,Cn=(xn[7]||"0").substring(0,3);return Sn?new Date(Date.UTC(xn[1],On,xn[3]||1,xn[4]||0,xn[5]||0,xn[6]||0,Cn)):new Date(xn[1],On,xn[3]||1,xn[4]||0,xn[5]||0,xn[6]||0,Cn)}}return new Date($n)}(vn),this.$x=vn.x||{},this.init()},hn.init=function(){var vn=this.$d;this.$y=vn.getFullYear(),this.$M=vn.getMonth(),this.$D=vn.getDate(),this.$W=vn.getDay(),this.$H=vn.getHours(),this.$m=vn.getMinutes(),this.$s=vn.getSeconds(),this.$ms=vn.getMilliseconds()},hn.$utils=function(){return Pt},hn.isValid=function(){return this.$d.toString()!==$e},hn.isSame=function(vn,_n){var $n=Et(vn);return this.startOf(_n)<=$n&&$n<=this.endOf(_n)},hn.isAfter=function(vn,_n){return Et(vn)<this.startOf(_n)},hn.isBefore=function(vn,_n){return this.endOf(_n)<Et(vn)},hn.$g=function(vn,_n,$n){return Pt.u(vn)?this[_n]:this.set($n,vn)},hn.unix=function(){return Math.floor(this.valueOf()/1e3)},hn.valueOf=function(){return this.$d.getTime()},hn.startOf=function(vn,_n){var $n=this,Sn=!!Pt.u(_n)||_n,xn=Pt.p(vn),On=function(kn,Nn){var Vn=Pt.w($n.$u?Date.UTC($n.$y,Nn,kn):new Date($n.$y,Nn,kn),$n);return Sn?Vn:Vn.endOf(le)},Cn=function(kn,Nn){return Pt.w($n.toDate()[kn].apply($n.toDate("s"),(Sn?[0,0,0,0]:[23,59,59,999]).slice(Nn)),$n)},An=this.$W,Rn=this.$M,Fn=this.$D,Pn="set"+(this.$u?"UTC":"");switch(xn){case pe:return Sn?On(1,0):On(31,11);case de:return Sn?On(1,Rn):On(0,Rn+1);case ue:var Un=this.$locale().weekStart||0,Dn=(An<Un?An+7:An)-Un;return On(Sn?Fn-Dn:Fn+(6-Dn),Rn);case le:case _e:return Cn(Pn+"Hours",0);case re:return Cn(Pn+"Minutes",1);case ae:return Cn(Pn+"Seconds",2);case oe:return Cn(Pn+"Milliseconds",3);default:return this.clone()}},hn.endOf=function(vn){return this.startOf(vn,!1)},hn.$set=function(vn,_n){var $n,Sn=Pt.p(vn),xn="set"+(this.$u?"UTC":""),On=($n={},$n[le]=xn+"Date",$n[_e]=xn+"Date",$n[de]=xn+"Month",$n[pe]=xn+"FullYear",$n[re]=xn+"Hours",$n[ae]=xn+"Minutes",$n[oe]=xn+"Seconds",$n[V]=xn+"Milliseconds",$n)[Sn],Cn=Sn===le?this.$D+(_n-this.$W):_n;if(Sn===de||Sn===pe){var An=this.clone().set(_e,1);An.$d[On](Cn),An.init(),this.$d=An.set(_e,Math.min(this.$D,An.daysInMonth())).$d}else On&&this.$d[On](Cn);return this.init(),this},hn.set=function(vn,_n){return this.clone().$set(vn,_n)},hn.get=function(vn){return this[Pt.p(vn)]()},hn.add=function(vn,_n){var $n,Sn=this;vn=Number(vn);var xn=Pt.p(_n),On=function(Rn){var Fn=Et(Sn);return Pt.w(Fn.date(Fn.date()+Math.round(Rn*vn)),Sn)};if(xn===de)return this.set(de,this.$M+vn);if(xn===pe)return this.set(pe,this.$y+vn);if(xn===le)return On(1);if(xn===ue)return On(7);var Cn=($n={},$n[ae]=$,$n[re]=L,$n[oe]=r,$n)[xn]||1,An=this.$d.getTime()+vn*Cn;return Pt.w(An,this)},hn.subtract=function(vn,_n){return this.add(-1*vn,_n)},hn.format=function(vn){var _n=this,$n=this.$locale();if(!this.isValid())return $n.invalidDate||$e;var Sn=vn||"YYYY-MM-DDTHH:mm:ssZ",xn=Pt.z(this),On=this.$H,Cn=this.$m,An=this.$M,Rn=$n.weekdays,Fn=$n.months,Pn=function(Nn,Vn,Ln,Tn){return Nn&&(Nn[Vn]||Nn(_n,Sn))||Ln[Vn].slice(0,Tn)},Un=function(Nn){return Pt.s(On%12||12,Nn,"0")},Dn=$n.meridiem||function(Nn,Vn,Ln){var Tn=Nn<12?"AM":"PM";return Ln?Tn.toLowerCase():Tn},kn={YY:String(this.$y).slice(-2),YYYY:this.$y,M:An+1,MM:Pt.s(An+1,2,"0"),MMM:Pn($n.monthsShort,An,Fn,3),MMMM:Pn(Fn,An),D:this.$D,DD:Pt.s(this.$D,2,"0"),d:String(this.$W),dd:Pn($n.weekdaysMin,this.$W,Rn,2),ddd:Pn($n.weekdaysShort,this.$W,Rn,3),dddd:Rn[this.$W],H:String(On),HH:Pt.s(On,2,"0"),h:Un(1),hh:Un(2),a:Dn(On,Cn,!0),A:Dn(On,Cn,!1),m:String(Cn),mm:Pt.s(Cn,2,"0"),s:String(this.$s),ss:Pt.s(this.$s,2,"0"),SSS:Pt.s(this.$ms,3,"0"),Z:xn};return Sn.replace(Oe,function(Nn,Vn){return Vn||kn[Nn]||xn.replace(":","")})},hn.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},hn.diff=function(vn,_n,$n){var Sn,xn=Pt.p(_n),On=Et(vn),Cn=(On.utcOffset()-this.utcOffset())*$,An=this-On,Rn=Pt.m(this,On);return Rn=(Sn={},Sn[pe]=Rn/12,Sn[de]=Rn,Sn[he]=Rn/3,Sn[ue]=(An-Cn)/6048e5,Sn[le]=(An-Cn)/864e5,Sn[re]=An/L,Sn[ae]=An/$,Sn[oe]=An/r,Sn)[xn]||An,$n?Rn:Pt.a(Rn)},hn.daysInMonth=function(){return this.endOf(de).$D},hn.$locale=function(){return Fe[this.$L]},hn.locale=function(vn,_n){if(!vn)return this.$L;var $n=this.clone(),Sn=At(vn,_n,!0);return Sn&&($n.$L=Sn),$n},hn.clone=function(){return Pt.w(this.$d,this)},hn.toDate=function(){return new Date(this.valueOf())},hn.toJSON=function(){return this.isValid()?this.toISOString():null},hn.toISOString=function(){return this.$d.toISOString()},hn.toString=function(){return this.$d.toUTCString()},Lt}(),Dt=kt.prototype;return Et.prototype=Dt,[["$ms",V],["$s",oe],["$m",ae],["$H",re],["$W",le],["$M",de],["$y",pe],["$D",_e]].forEach(function(Lt){Dt[Lt[1]]=function(hn){return this.$g(hn,Lt[0],Lt[1])}}),Et.extend=function(Lt,hn){return Lt.$i||(Lt(hn,kt,Et),Lt.$i=!0),Et},Et.locale=At,Et.isDayjs=Ue,Et.unix=function(Lt){return Et(1e3*Lt)},Et.en=Fe[ze],Et.Ls=Fe,Et.p={},Et})})(dayjs_min);const dayjs=dayjs_min.exports;var customParseFormat$1={exports:{}};(function(g,n){(function(r,$){g.exports=$()})(commonjsGlobal,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},$=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,L=/\d\d/,V=/\d\d?/,oe=/\d*[^-_:/,()\s\d]+/,ae={},re=function($e){return($e=+$e)+($e>68?1900:2e3)},le=function($e){return function(xe){this[$e]=+xe}},ue=[/[+-]\d\d:?(\d\d)?|Z/,function($e){(this.zone||(this.zone={})).offset=function(xe){if(!xe||xe==="Z")return 0;var Oe=xe.match(/([+-]|\d\d)/g),Ce=60*Oe[1]+(+Oe[2]||0);return Ce===0?0:Oe[0]==="+"?-Ce:Ce}($e)}],de=function($e){var xe=ae[$e];return xe&&(xe.indexOf?xe:xe.s.concat(xe.f))},he=function($e,xe){var Oe,Ce=ae.meridiem;if(Ce){for(var Ie=1;Ie<=24;Ie+=1)if($e.indexOf(Ce(Ie,0,xe))>-1){Oe=Ie>12;break}}else Oe=$e===(xe?"pm":"PM");return Oe},pe={A:[oe,function($e){this.afternoon=he($e,!1)}],a:[oe,function($e){this.afternoon=he($e,!0)}],S:[/\d/,function($e){this.milliseconds=100*+$e}],SS:[L,function($e){this.milliseconds=10*+$e}],SSS:[/\d{3}/,function($e){this.milliseconds=+$e}],s:[V,le("seconds")],ss:[V,le("seconds")],m:[V,le("minutes")],mm:[V,le("minutes")],H:[V,le("hours")],h:[V,le("hours")],HH:[V,le("hours")],hh:[V,le("hours")],D:[V,le("day")],DD:[L,le("day")],Do:[oe,function($e){var xe=ae.ordinal,Oe=$e.match(/\d+/);if(this.day=Oe[0],xe)for(var Ce=1;Ce<=31;Ce+=1)xe(Ce).replace(/\[|\]/g,"")===$e&&(this.day=Ce)}],M:[V,le("month")],MM:[L,le("month")],MMM:[oe,function($e){var xe=de("months"),Oe=(de("monthsShort")||xe.map(function(Ce){return Ce.slice(0,3)})).indexOf($e)+1;if(Oe<1)throw new Error;this.month=Oe%12||Oe}],MMMM:[oe,function($e){var xe=de("months").indexOf($e)+1;if(xe<1)throw new Error;this.month=xe%12||xe}],Y:[/[+-]?\d+/,le("year")],YY:[L,function($e){this.year=re($e)}],YYYY:[/\d{4}/,le("year")],Z:ue,ZZ:ue};function _e($e){var xe,Oe;xe=$e,Oe=ae&&ae.formats;for(var Ce=($e=xe.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Et,Pt,kt){var Dt=kt&&kt.toUpperCase();return Pt||Oe[kt]||r[kt]||Oe[Dt].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Lt,hn,vn){return hn||vn.slice(1)})})).match($),Ie=Ce.length,Ne=0;Ne<Ie;Ne+=1){var ze=Ce[Ne],Fe=pe[ze],Ue=Fe&&Fe[0],At=Fe&&Fe[1];Ce[Ne]=At?{regex:Ue,parser:At}:ze.replace(/^\[|\]$/g,"")}return function(Et){for(var Pt={},kt=0,Dt=0;kt<Ie;kt+=1){var Lt=Ce[kt];if(typeof Lt=="string")Dt+=Lt.length;else{var hn=Lt.regex,vn=Lt.parser,_n=Et.slice(Dt),$n=hn.exec(_n)[0];vn.call(Pt,$n),Et=Et.replace($n,"")}}return function(Sn){var xn=Sn.afternoon;if(xn!==void 0){var On=Sn.hours;xn?On<12&&(Sn.hours+=12):On===12&&(Sn.hours=0),delete Sn.afternoon}}(Pt),Pt}}return function($e,xe,Oe){Oe.p.customParseFormat=!0,$e&&$e.parseTwoDigitYear&&(re=$e.parseTwoDigitYear);var Ce=xe.prototype,Ie=Ce.parse;Ce.parse=function(Ne){var ze=Ne.date,Fe=Ne.utc,Ue=Ne.args;this.$u=Fe;var At=Ue[1];if(typeof At=="string"){var Et=Ue[2]===!0,Pt=Ue[3]===!0,kt=Et||Pt,Dt=Ue[2];Pt&&(Dt=Ue[2]),ae=this.$locale(),!Et&&Dt&&(ae=Oe.Ls[Dt]),this.$d=function(_n,$n,Sn){try{if(["x","X"].indexOf($n)>-1)return new Date(($n==="X"?1e3:1)*_n);var xn=_e($n)(_n),On=xn.year,Cn=xn.month,An=xn.day,Rn=xn.hours,Fn=xn.minutes,Pn=xn.seconds,Un=xn.milliseconds,Dn=xn.zone,kn=new Date,Nn=An||(On||Cn?1:kn.getDate()),Vn=On||kn.getFullYear(),Ln=0;On&&!Cn||(Ln=Cn>0?Cn-1:kn.getMonth());var Tn=Rn||0,In=Fn||0,Bn=Pn||0,Qn=Un||0;return Dn?new Date(Date.UTC(Vn,Ln,Nn,Tn,In,Bn,Qn+60*Dn.offset*1e3)):Sn?new Date(Date.UTC(Vn,Ln,Nn,Tn,In,Bn,Qn)):new Date(Vn,Ln,Nn,Tn,In,Bn,Qn)}catch{return new Date("")}}(ze,At,Fe),this.init(),Dt&&Dt!==!0&&(this.$L=this.locale(Dt).$L),kt&&ze!=this.format(At)&&(this.$d=new Date("")),ae={}}else if(At instanceof Array)for(var Lt=At.length,hn=1;hn<=Lt;hn+=1){Ue[1]=At[hn-1];var vn=Oe.apply(this,Ue);if(vn.isValid()){this.$d=vn.$d,this.$L=vn.$L,this.init();break}hn===Lt&&(this.$d=new Date(""))}else Ie.call(this,Ne)}}})})(customParseFormat$1);const customParseFormat=customParseFormat$1.exports,timeUnits$2=["hours","minutes","seconds"],DEFAULT_FORMATS_TIME="HH:mm:ss",DEFAULT_FORMATS_DATE="YYYY-MM-DD",DEFAULT_FORMATS_DATEPICKER={date:DEFAULT_FORMATS_DATE,dates:DEFAULT_FORMATS_DATE,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`,monthrange:"YYYY-MM",daterange:DEFAULT_FORMATS_DATE,datetimerange:`${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`},buildTimeList=(g,n)=>[g>0?g-1:void 0,g,g<n?g+1:void 0],rangeArr=g=>Array.from(Array.from({length:g}).keys()),extractDateFormat=g=>g.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),extractTimeFormat=g=>g.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),dateEquals=function(g,n){const r=isDate$2(g),$=isDate$2(n);return r&&$?g.getTime()===n.getTime():!r&&!$?g===n:!1},valueEquals=function(g,n){const r=isArray$9(g),$=isArray$9(n);return r&&$?g.length!==n.length?!1:g.every((L,V)=>dateEquals(L,n[V])):!r&&!$?dateEquals(g,n):!1},parseDate$2=function(g,n,r){const $=isEmpty(n)||n==="x"?dayjs(g).locale(r):dayjs(g,n).locale(r);return $.isValid()?$:void 0},formatter=function(g,n,r){return isEmpty(n)?g:n==="x"?+g:dayjs(g).locale(r).format(n)},makeList=(g,n)=>{var r;const $=[],L=n==null?void 0:n();for(let V=0;V<g;V++)$.push((r=L==null?void 0:L.includes(V))!=null?r:!1);return $},disabledTimeListsProps=buildProps({disabledHours:{type:definePropType(Function)},disabledMinutes:{type:definePropType(Function)},disabledSeconds:{type:definePropType(Function)}}),timePanelSharedProps=buildProps({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),timePickerDefaultProps=buildProps({id:{type:definePropType([Array,String])},name:{type:definePropType([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:definePropType([String,Object]),default:circle_close_default},editable:{type:Boolean,default:!0},prefixIcon:{type:definePropType([String,Object]),default:""},size:useSizeProp,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})},modelValue:{type:definePropType([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:definePropType([Date,Array])},defaultTime:{type:definePropType([Date,Array])},isRange:{type:Boolean,default:!1},...disabledTimeListsProps,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:definePropType([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),_hoisted_1$y=["id","name","placeholder","value","disabled","readonly"],_hoisted_2$k=["id","name","placeholder","value","disabled","readonly"],__default__$y=defineComponent({name:"Picker"}),_sfc_main$W=defineComponent({...__default__$y,props:timePickerDefaultProps,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(g,{expose:n,emit:r}){const $=g,{lang:L}=useLocale(),V=useNamespace("date"),oe=useNamespace("input"),ae=useNamespace("range"),{form:re,formItem:le}=useFormItem(),ue=inject("ElPopperOptions",{}),de=ref(),he=ref(),pe=ref(!1),_e=ref(!1),$e=ref(null);let xe=!1,Oe=!1;watch(pe,zn=>{zn?nextTick(()=>{zn&&($e.value=$.modelValue)}):(Kn.value=null,nextTick(()=>{Ce($.modelValue)}))});const Ce=(zn,Yn)=>{(Yn||!valueEquals(zn,$e.value))&&(r("change",zn),$.validateEvent&&(le==null||le.validate("change").catch(ai=>{})))},Ie=zn=>{if(!valueEquals($.modelValue,zn)){let Yn;isArray$9(zn)?Yn=zn.map(ai=>formatter(ai,$.valueFormat,L.value)):zn&&(Yn=formatter(zn,$.valueFormat,L.value)),r("update:modelValue",zn&&Yn,L.value)}},Ne=zn=>{r("keydown",zn)},ze=computed(()=>{if(he.value){const zn=In.value?he.value:he.value.$el;return Array.from(zn.querySelectorAll("input"))}return[]}),Fe=(zn,Yn,ai)=>{const hi=ze.value;!hi.length||(!ai||ai==="min"?(hi[0].setSelectionRange(zn,Yn),hi[0].focus()):ai==="max"&&(hi[1].setSelectionRange(zn,Yn),hi[1].focus()))},Ue=()=>{vn(!0,!0),nextTick(()=>{Oe=!1})},At=(zn="",Yn=!1)=>{Yn||(Oe=!0),pe.value=Yn;let ai;isArray$9(zn)?ai=zn.map(hi=>hi.toDate()):ai=zn&&zn.toDate(),Kn.value=null,Ie(ai)},Et=()=>{_e.value=!0},Pt=()=>{r("visible-change",!0)},kt=zn=>{(zn==null?void 0:zn.key)===EVENT_CODE.esc&&vn(!0,!0)},Dt=()=>{_e.value=!1,pe.value=!1,Oe=!1,r("visible-change",!1)},Lt=()=>{pe.value=!0},hn=()=>{pe.value=!1},vn=(zn=!0,Yn=!1)=>{Oe=Yn;const[ai,hi]=unref(ze);let Ti=ai;!zn&&In.value&&(Ti=hi),Ti&&Ti.focus()},_n=zn=>{$.readonly||xn.value||pe.value||Oe||(pe.value=!0,r("focus",zn))};let $n;const Sn=zn=>{const Yn=async()=>{setTimeout(()=>{var ai;$n===Yn&&(!(((ai=de.value)==null?void 0:ai.isFocusInsideContent())&&!xe)&&ze.value.filter(hi=>hi.contains(document.activeElement)).length===0&&(ui(),pe.value=!1,r("blur",zn),$.validateEvent&&(le==null||le.validate("blur").catch(hi=>{}))),xe=!1)},0)};$n=Yn,Yn()},xn=computed(()=>$.disabled||(re==null?void 0:re.disabled)),On=computed(()=>{let zn;if(kn.value?Wn.value.getDefaultValue&&(zn=Wn.value.getDefaultValue()):isArray$9($.modelValue)?zn=$.modelValue.map(Yn=>parseDate$2(Yn,$.valueFormat,L.value)):zn=parseDate$2($.modelValue,$.valueFormat,L.value),Wn.value.getRangeAvailableTime){const Yn=Wn.value.getRangeAvailableTime(zn);isEqual(Yn,zn)||(zn=Yn,Ie(isArray$9(zn)?zn.map(ai=>ai.toDate()):zn.toDate()))}return isArray$9(zn)&&zn.some(Yn=>!Yn)&&(zn=[]),zn}),Cn=computed(()=>{if(!Wn.value.panelReady)return"";const zn=si(On.value);return isArray$9(Kn.value)?[Kn.value[0]||zn&&zn[0]||"",Kn.value[1]||zn&&zn[1]||""]:Kn.value!==null?Kn.value:!Rn.value&&kn.value||!pe.value&&kn.value?"":zn?Fn.value?zn.join(", "):zn:""}),An=computed(()=>$.type.includes("time")),Rn=computed(()=>$.type.startsWith("time")),Fn=computed(()=>$.type==="dates"),Pn=computed(()=>$.prefixIcon||(An.value?clock_default:calendar_default)),Un=ref(!1),Dn=zn=>{$.readonly||xn.value||Un.value&&(zn.stopPropagation(),Ue(),Ie(null),Ce(null,!0),Un.value=!1,pe.value=!1,Wn.value.handleClear&&Wn.value.handleClear())},kn=computed(()=>{const{modelValue:zn}=$;return!zn||isArray$9(zn)&&!zn.filter(Boolean).length}),Nn=async zn=>{var Yn;$.readonly||xn.value||(((Yn=zn.target)==null?void 0:Yn.tagName)!=="INPUT"||ze.value.includes(document.activeElement))&&(pe.value=!0)},Vn=()=>{$.readonly||xn.value||!kn.value&&$.clearable&&(Un.value=!0)},Ln=()=>{Un.value=!1},Tn=zn=>{var Yn;$.readonly||xn.value||(((Yn=zn.touches[0].target)==null?void 0:Yn.tagName)!=="INPUT"||ze.value.includes(document.activeElement))&&(pe.value=!0)},In=computed(()=>$.type.includes("range")),Bn=useSize(),Qn=computed(()=>{var zn,Yn;return(Yn=(zn=unref(de))==null?void 0:zn.popperRef)==null?void 0:Yn.contentRef}),Zn=computed(()=>{var zn;return unref(In)?unref(he):(zn=unref(he))==null?void 0:zn.$el});onClickOutside(Zn,zn=>{const Yn=unref(Qn),ai=unref(Zn);Yn&&(zn.target===Yn||zn.composedPath().includes(Yn))||zn.target===ai||zn.composedPath().includes(ai)||(pe.value=!1)});const Kn=ref(null),ui=()=>{if(Kn.value){const zn=ei(Cn.value);zn&&ti(zn)&&(Ie(isArray$9(zn)?zn.map(Yn=>Yn.toDate()):zn.toDate()),Kn.value=null)}Kn.value===""&&(Ie(null),Ce(null),Kn.value=null)},ei=zn=>zn?Wn.value.parseUserInput(zn):null,si=zn=>zn?Wn.value.formatToString(zn):null,ti=zn=>Wn.value.isValidValue(zn),Jn=async zn=>{if($.readonly||xn.value)return;const{code:Yn}=zn;if(Ne(zn),Yn===EVENT_CODE.esc){pe.value===!0&&(pe.value=!1,zn.preventDefault(),zn.stopPropagation());return}if(Yn===EVENT_CODE.down&&(Wn.value.handleFocusPicker&&(zn.preventDefault(),zn.stopPropagation()),pe.value===!1&&(pe.value=!0,await nextTick()),Wn.value.handleFocusPicker)){Wn.value.handleFocusPicker();return}if(Yn===EVENT_CODE.tab){xe=!0;return}if(Yn===EVENT_CODE.enter||Yn===EVENT_CODE.numpadEnter){(Kn.value===null||Kn.value===""||ti(ei(Cn.value)))&&(ui(),pe.value=!1),zn.stopPropagation();return}if(Kn.value){zn.stopPropagation();return}Wn.value.handleKeydownInput&&Wn.value.handleKeydownInput(zn)},di=zn=>{Kn.value=zn,pe.value||(pe.value=!0)},mi=zn=>{const Yn=zn.target;Kn.value?Kn.value=[Yn.value,Kn.value[1]]:Kn.value=[Yn.value,null]},yi=zn=>{const Yn=zn.target;Kn.value?Kn.value=[Kn.value[0],Yn.value]:Kn.value=[null,Yn.value]},$i=()=>{var zn;const Yn=Kn.value,ai=ei(Yn&&Yn[0]),hi=unref(On);if(ai&&ai.isValid()){Kn.value=[si(ai),((zn=Cn.value)==null?void 0:zn[1])||null];const Ti=[ai,hi&&(hi[1]||null)];ti(Ti)&&(Ie(Ti),Kn.value=null)}},pi=()=>{var zn;const Yn=unref(Kn),ai=ei(Yn&&Yn[1]),hi=unref(On);if(ai&&ai.isValid()){Kn.value=[((zn=unref(Cn))==null?void 0:zn[0])||null,si(ai)];const Ti=[hi&&hi[0],ai];ti(Ti)&&(Ie(Ti),Kn.value=null)}},Wn=ref({}),ii=zn=>{Wn.value[zn[0]]=zn[1],Wn.value.panelReady=!0},Hn=zn=>{r("calendar-change",zn)},oi=(zn,Yn,ai)=>{r("panel-change",zn,Yn,ai)};return provide("EP_PICKER_BASE",{props:$}),n({focus:vn,handleFocusInput:_n,handleBlurInput:Sn,handleOpen:Lt,handleClose:hn,onPick:At}),(zn,Yn)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"refPopper",ref:de,visible:pe.value,effect:"light",pure:"",trigger:"click"},zn.$attrs,{role:"dialog",teleported:"",transition:`${unref(V).namespace.value}-zoom-in-top`,"popper-class":[`${unref(V).namespace.value}-picker__popper`,zn.popperClass],"popper-options":unref(ue),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:Et,onShow:Pt,onHide:Dt}),{default:withCtx(()=>[unref(In)?(openBlock(),createElementBlock("div",{key:1,ref_key:"inputRef",ref:he,class:normalizeClass([unref(V).b("editor"),unref(V).bm("editor",zn.type),unref(oe).e("wrapper"),unref(V).is("disabled",unref(xn)),unref(V).is("active",pe.value),unref(ae).b("editor"),unref(Bn)?unref(ae).bm("editor",unref(Bn)):"",zn.$attrs.class]),style:normalizeStyle$2(zn.$attrs.style),onClick:_n,onMouseenter:Vn,onMouseleave:Ln,onTouchstart:Tn,onKeydown:Jn},[unref(Pn)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(oe).e("icon"),unref(ae).e("icon")]),onMousedown:withModifiers(Nn,["prevent"]),onTouchstart:Tn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Pn))))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0),createBaseVNode("input",{id:zn.id&&zn.id[0],autocomplete:"off",name:zn.name&&zn.name[0],placeholder:zn.startPlaceholder,value:unref(Cn)&&unref(Cn)[0],disabled:unref(xn),readonly:!zn.editable||zn.readonly,class:normalizeClass(unref(ae).b("input")),onMousedown:Nn,onInput:mi,onChange:$i,onFocus:_n,onBlur:Sn},null,42,_hoisted_1$y),renderSlot(zn.$slots,"range-separator",{},()=>[createBaseVNode("span",{class:normalizeClass(unref(ae).b("separator"))},toDisplayString(zn.rangeSeparator),3)]),createBaseVNode("input",{id:zn.id&&zn.id[1],autocomplete:"off",name:zn.name&&zn.name[1],placeholder:zn.endPlaceholder,value:unref(Cn)&&unref(Cn)[1],disabled:unref(xn),readonly:!zn.editable||zn.readonly,class:normalizeClass(unref(ae).b("input")),onMousedown:Nn,onFocus:_n,onBlur:Sn,onInput:yi,onChange:pi},null,42,_hoisted_2$k),zn.clearIcon?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(oe).e("icon"),unref(ae).e("close-icon"),{[unref(ae).e("close-icon--hidden")]:!Un.value}]),onClick:Dn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(zn.clearIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],38)):(openBlock(),createBlock(unref(ElInput),{key:0,id:zn.id,ref_key:"inputRef",ref:he,"container-role":"combobox","model-value":unref(Cn),name:zn.name,size:unref(Bn),disabled:unref(xn),placeholder:zn.placeholder,class:normalizeClass([unref(V).b("editor"),unref(V).bm("editor",zn.type),zn.$attrs.class]),style:normalizeStyle$2(zn.$attrs.style),readonly:!zn.editable||zn.readonly||unref(Fn)||zn.type==="week",label:zn.label,tabindex:zn.tabindex,"validate-event":!1,onInput:di,onFocus:_n,onBlur:Sn,onKeydown:Jn,onChange:ui,onMousedown:Nn,onMouseenter:Vn,onMouseleave:Ln,onTouchstart:Tn,onClick:Yn[0]||(Yn[0]=withModifiers(()=>{},["stop"]))},{prefix:withCtx(()=>[unref(Pn)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(oe).e("icon")),onMousedown:withModifiers(Nn,["prevent"]),onTouchstart:Tn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Pn))))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0)]),suffix:withCtx(()=>[Un.value&&zn.clearIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(`${unref(oe).e("icon")} clear-icon`),onClick:withModifiers(Dn,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(zn.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:withCtx(()=>[renderSlot(zn.$slots,"default",{visible:pe.value,actualVisible:_e.value,parsedValue:unref(On),format:zn.format,unlinkPanels:zn.unlinkPanels,type:zn.type,defaultValue:zn.defaultValue,onPick:At,onSelectRange:Fe,onSetPickerOption:ii,onCalendarChange:Hn,onPanelChange:oi,onKeydown:kt,onMousedown:Yn[1]||(Yn[1]=withModifiers(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var CommonPicker=_export_sfc$1(_sfc_main$W,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const panelTimePickerProps=buildProps({...timePanelSharedProps,datetimeRole:String,parsedValue:{type:definePropType(Object)}}),useTimePanel=({getAvailableHours:g,getAvailableMinutes:n,getAvailableSeconds:r})=>{const $=(V,oe,ae,re)=>{const le={hour:g,minute:n,second:r};let ue=V;return["hour","minute","second"].forEach(de=>{if(le[de]){let he;const pe=le[de];switch(de){case"minute":{he=pe(ue.hour(),oe,re);break}case"second":{he=pe(ue.hour(),ue.minute(),oe,re);break}default:{he=pe(oe,re);break}}if((he==null?void 0:he.length)&&!he.includes(ue[de]())){const _e=ae?0:he.length-1;ue=ue[de](he[_e])}}}),ue},L={};return{timePickerOptions:L,getAvailableTime:$,onSetOption:([V,oe])=>{L[V]=oe}}},makeAvailableArr=g=>{const n=($,L)=>$||L,r=$=>$!==!0;return g.map(n).filter(r)},getTimeLists=(g,n,r)=>({getHoursList:($,L)=>makeList(24,g&&(()=>g==null?void 0:g($,L))),getMinutesList:($,L,V)=>makeList(60,n&&(()=>n==null?void 0:n($,L,V))),getSecondsList:($,L,V,oe)=>makeList(60,r&&(()=>r==null?void 0:r($,L,V,oe)))}),buildAvailableTimeSlotGetter=(g,n,r)=>{const{getHoursList:$,getMinutesList:L,getSecondsList:V}=getTimeLists(g,n,r);return{getAvailableHours:(oe,ae)=>makeAvailableArr($(oe,ae)),getAvailableMinutes:(oe,ae,re)=>makeAvailableArr(L(oe,ae,re)),getAvailableSeconds:(oe,ae,re,le)=>makeAvailableArr(V(oe,ae,re,le))}},useOldValue=g=>{const n=ref(g.parsedValue);return watch(()=>g.visible,r=>{r||(n.value=g.parsedValue)}),n},nodeList=new Map;let startClick;isClient&&(document.addEventListener("mousedown",g=>startClick=g),document.addEventListener("mouseup",g=>{for(const n of nodeList.values())for(const{documentHandler:r}of n)r(g,startClick)}));function createDocumentHandler(g,n){let r=[];return Array.isArray(n.arg)?r=n.arg:isElement(n.arg)&&r.push(n.arg),function($,L){const V=n.instance.popperRef,oe=$.target,ae=L==null?void 0:L.target,re=!n||!n.instance,le=!oe||!ae,ue=g.contains(oe)||g.contains(ae),de=g===oe,he=r.length&&r.some(_e=>_e==null?void 0:_e.contains(oe))||r.length&&r.includes(ae),pe=V&&(V.contains(oe)||V.contains(ae));re||le||ue||de||he||pe||n.value($,L)}}const ClickOutside={beforeMount(g,n){nodeList.has(g)||nodeList.set(g,[]),nodeList.get(g).push({documentHandler:createDocumentHandler(g,n),bindingFn:n.value})},updated(g,n){nodeList.has(g)||nodeList.set(g,[]);const r=nodeList.get(g),$=r.findIndex(V=>V.bindingFn===n.oldValue),L={documentHandler:createDocumentHandler(g,n),bindingFn:n.value};$>=0?r.splice($,1,L):r.push(L)},unmounted(g){nodeList.delete(g)}},REPEAT_INTERVAL=100,REPEAT_DELAY=600,vRepeatClick={beforeMount(g,n){const r=n.value,{interval:$=REPEAT_INTERVAL,delay:L=REPEAT_DELAY}=isFunction$5(r)?{}:r;let V,oe;const ae=()=>isFunction$5(r)?r():r.handler(),re=()=>{oe&&(clearTimeout(oe),oe=void 0),V&&(clearInterval(V),V=void 0)};g.addEventListener("mousedown",le=>{le.button===0&&(re(),ae(),document.addEventListener("mouseup",()=>re(),{once:!0}),oe=setTimeout(()=>{V=setInterval(()=>{ae()},$)},L))})}};var v=!1,o,f,s,u,d,N,l,p,m$2,w$1,D$1,x$1,E,M,F$1;function a(){if(!v){v=!0;var g=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(g),r=/(Mac OS X)|(Windows)|(Linux)/.exec(g);if(x$1=/\b(iPhone|iP[ao]d)/.exec(g),E=/\b(iP[ao]d)/.exec(g),w$1=/Android/i.exec(g),M=/FBAN\/\w+;/i.exec(g),F$1=/Mobile/i.exec(g),D$1=!!/Win64/.exec(g),n){o=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,o&&document&&document.documentMode&&(o=document.documentMode);var $=/(?:Trident\/(\d+.\d+))/.exec(g);N=$?parseFloat($[1])+4:o,f=n[2]?parseFloat(n[2]):NaN,s=n[3]?parseFloat(n[3]):NaN,u=n[4]?parseFloat(n[4]):NaN,u?(n=/(?:Chrome\/(\d+\.\d+))/.exec(g),d=n&&n[1]?parseFloat(n[1]):NaN):d=NaN}else o=f=s=d=u=NaN;if(r){if(r[1]){var L=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(g);l=L?parseFloat(L[1].replace("_",".")):!0}else l=!1;p=!!r[2],m$2=!!r[3]}else l=p=m$2=!1}}var _={ie:function(){return a()||o},ieCompatibilityMode:function(){return a()||N>o},ie64:function(){return _.ie()&&D$1},firefox:function(){return a()||f},opera:function(){return a()||s},webkit:function(){return a()||u},safari:function(){return _.webkit()},chrome:function(){return a()||d},windows:function(){return a()||p},osx:function(){return a()||l},linux:function(){return a()||m$2},iphone:function(){return a()||x$1},mobile:function(){return a()||x$1||E||w$1||F$1},nativeApp:function(){return a()||M},android:function(){return a()||w$1},ipad:function(){return a()||E}},A=_,c=!!(typeof window<"u"&&window.document&&window.document.createElement),U$1={canUseDOM:c,canUseWorkers:typeof Worker<"u",canUseEventListeners:c&&!!(window.addEventListener||window.attachEvent),canUseViewport:c&&!!window.screen,isInWorker:!c},h$1=U$1,X;h$1.canUseDOM&&(X=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function S$1(g,n){if(!h$1.canUseDOM||n&&!("addEventListener"in document))return!1;var r="on"+g,$=r in document;if(!$){var L=document.createElement("div");L.setAttribute(r,"return;"),$=typeof L[r]=="function"}return!$&&X&&g==="wheel"&&($=document.implementation.hasFeature("Events.wheel","3.0")),$}var b=S$1,O$1=10,I=40,P$1=800;function T$1(g){var n=0,r=0,$=0,L=0;return"detail"in g&&(r=g.detail),"wheelDelta"in g&&(r=-g.wheelDelta/120),"wheelDeltaY"in g&&(r=-g.wheelDeltaY/120),"wheelDeltaX"in g&&(n=-g.wheelDeltaX/120),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(n=r,r=0),$=n*O$1,L=r*O$1,"deltaY"in g&&(L=g.deltaY),"deltaX"in g&&($=g.deltaX),($||L)&&g.deltaMode&&(g.deltaMode==1?($*=I,L*=I):($*=P$1,L*=P$1)),$&&!n&&(n=$<1?-1:1),L&&!r&&(r=L<1?-1:1),{spinX:n,spinY:r,pixelX:$,pixelY:L}}T$1.getEventType=function(){return A.firefox()?"DOMMouseScroll":b("wheel")?"wheel":"mousewheel"};var Y=T$1;const mousewheel=function(g,n){if(g&&g.addEventListener){const r=function($){const L=Y($);n&&Reflect.apply(n,this,[$,L])};g.addEventListener("wheel",r,{passive:!0})}},Mousewheel={beforeMount(g,n){mousewheel(g,n.value)}},basicTimeSpinnerProps=buildProps({role:{type:String,required:!0},spinnerDate:{type:definePropType(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:definePropType(String),default:""},...disabledTimeListsProps}),_hoisted_1$x=["onClick"],_hoisted_2$j=["onMouseenter"],_sfc_main$V=defineComponent({__name:"basic-time-spinner",props:basicTimeSpinnerProps,emits:["change","select-range","set-option"],setup(g,{emit:n}){const r=g,$=useNamespace("time"),{getHoursList:L,getMinutesList:V,getSecondsList:oe}=getTimeLists(r.disabledHours,r.disabledMinutes,r.disabledSeconds);let ae=!1;const re=ref(),le=ref(),ue=ref(),de=ref(),he={hours:le,minutes:ue,seconds:de},pe=computed(()=>r.showSeconds?timeUnits$2:timeUnits$2.slice(0,2)),_e=computed(()=>{const{spinnerDate:xn}=r,On=xn.hour(),Cn=xn.minute(),An=xn.second();return{hours:On,minutes:Cn,seconds:An}}),$e=computed(()=>{const{hours:xn,minutes:On}=unref(_e);return{hours:L(r.role),minutes:V(xn,r.role),seconds:oe(xn,On,r.role)}}),xe=computed(()=>{const{hours:xn,minutes:On,seconds:Cn}=unref(_e);return{hours:buildTimeList(xn,23),minutes:buildTimeList(On,59),seconds:buildTimeList(Cn,59)}}),Oe=debounce(xn=>{ae=!1,Ne(xn)},200),Ce=xn=>{if(!r.amPmMode)return"";const On=r.amPmMode==="A";let Cn=xn<12?" am":" pm";return On&&(Cn=Cn.toUpperCase()),Cn},Ie=xn=>{let On;switch(xn){case"hours":On=[0,2];break;case"minutes":On=[3,5];break;case"seconds":On=[6,8];break}const[Cn,An]=On;n("select-range",Cn,An),re.value=xn},Ne=xn=>{Ue(xn,unref(_e)[xn])},ze=()=>{Ne("hours"),Ne("minutes"),Ne("seconds")},Fe=xn=>xn.querySelector(`.${$.namespace.value}-scrollbar__wrap`),Ue=(xn,On)=>{if(r.arrowControl)return;const Cn=unref(he[xn]);Cn&&Cn.$el&&(Fe(Cn.$el).scrollTop=Math.max(0,On*At(xn)))},At=xn=>{const On=unref(he[xn]);return(On==null?void 0:On.$el.querySelector("li").offsetHeight)||0},Et=()=>{kt(1)},Pt=()=>{kt(-1)},kt=xn=>{re.value||Ie("hours");const On=re.value,Cn=unref(_e)[On],An=re.value==="hours"?24:60,Rn=Dt(On,Cn,xn,An);Lt(On,Rn),Ue(On,Rn),nextTick(()=>Ie(On))},Dt=(xn,On,Cn,An)=>{let Rn=(On+Cn+An)%An;const Fn=unref($e)[xn];for(;Fn[Rn]&&Rn!==On;)Rn=(Rn+Cn+An)%An;return Rn},Lt=(xn,On)=>{if(unref($e)[xn][On])return;const{hours:Cn,minutes:An,seconds:Rn}=unref(_e);let Fn;switch(xn){case"hours":Fn=r.spinnerDate.hour(On).minute(An).second(Rn);break;case"minutes":Fn=r.spinnerDate.hour(Cn).minute(On).second(Rn);break;case"seconds":Fn=r.spinnerDate.hour(Cn).minute(An).second(On);break}n("change",Fn)},hn=(xn,{value:On,disabled:Cn})=>{Cn||(Lt(xn,On),Ie(xn),Ue(xn,On))},vn=xn=>{ae=!0,Oe(xn);const On=Math.min(Math.round((Fe(unref(he[xn]).$el).scrollTop-(_n(xn)*.5-10)/At(xn)+3)/At(xn)),xn==="hours"?23:59);Lt(xn,On)},_n=xn=>unref(he[xn]).$el.offsetHeight,$n=()=>{const xn=On=>{const Cn=unref(he[On]);Cn&&Cn.$el&&(Fe(Cn.$el).onscroll=()=>{vn(On)})};xn("hours"),xn("minutes"),xn("seconds")};onMounted(()=>{nextTick(()=>{!r.arrowControl&&$n(),ze(),r.role==="start"&&Ie("hours")})});const Sn=(xn,On)=>{he[On].value=xn};return n("set-option",[`${r.role}_scrollDown`,kt]),n("set-option",[`${r.role}_emitSelectRange`,Ie]),watch(()=>r.spinnerDate,()=>{ae||ze()}),(xn,On)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref($).b("spinner"),{"has-seconds":xn.showSeconds}])},[xn.arrowControl?createCommentVNode("v-if",!0):(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(unref(pe),Cn=>(openBlock(),createBlock(unref(ElScrollbar),{key:Cn,ref_for:!0,ref:An=>Sn(An,Cn),class:normalizeClass(unref($).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":unref($).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:An=>Ie(Cn),onMousemove:An=>Ne(Cn)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref($e)[Cn],(An,Rn)=>(openBlock(),createElementBlock("li",{key:Rn,class:normalizeClass([unref($).be("spinner","item"),unref($).is("active",Rn===unref(_e)[Cn]),unref($).is("disabled",An)]),onClick:Fn=>hn(Cn,{value:Rn,disabled:An})},[Cn==="hours"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(("0"+(xn.amPmMode?Rn%12||12:Rn)).slice(-2))+toDisplayString(Ce(Rn)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(("0"+Rn).slice(-2)),1)],64))],10,_hoisted_1$x))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),xn.arrowControl?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(unref(pe),Cn=>(openBlock(),createElementBlock("div",{key:Cn,class:normalizeClass([unref($).be("spinner","wrapper"),unref($).is("arrow")]),onMouseenter:An=>Ie(Cn)},[withDirectives((openBlock(),createBlock(unref(ElIcon),{class:normalizeClass(["arrow-up",unref($).be("spinner","arrow")])},{default:withCtx(()=>[createVNode$2(unref(arrow_up_default))]),_:1},8,["class"])),[[unref(vRepeatClick),Pt]]),withDirectives((openBlock(),createBlock(unref(ElIcon),{class:normalizeClass(["arrow-down",unref($).be("spinner","arrow")])},{default:withCtx(()=>[createVNode$2(unref(arrow_down_default))]),_:1},8,["class"])),[[unref(vRepeatClick),Et]]),createBaseVNode("ul",{class:normalizeClass(unref($).be("spinner","list"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(xe)[Cn],(An,Rn)=>(openBlock(),createElementBlock("li",{key:Rn,class:normalizeClass([unref($).be("spinner","item"),unref($).is("active",An===unref(_e)[Cn]),unref($).is("disabled",unref($e)[Cn][An])])},[typeof An=="number"?(openBlock(),createElementBlock(Fragment,{key:0},[Cn==="hours"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(("0"+(xn.amPmMode?An%12||12:An)).slice(-2))+toDisplayString(Ce(An)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(("0"+An).slice(-2)),1)],64))],64)):createCommentVNode("v-if",!0)],2))),128))],2)],42,_hoisted_2$j))),128)):createCommentVNode("v-if",!0)],2))}});var TimeSpinner=_export_sfc$1(_sfc_main$V,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const _sfc_main$U=defineComponent({__name:"panel-time-pick",props:panelTimePickerProps,emits:["pick","select-range","set-picker-option"],setup(g,{emit:n}){const r=g,$=inject("EP_PICKER_BASE"),{arrowControl:L,disabledHours:V,disabledMinutes:oe,disabledSeconds:ae,defaultValue:re}=$.props,{getAvailableHours:le,getAvailableMinutes:ue,getAvailableSeconds:de}=buildAvailableTimeSlotGetter(V,oe,ae),he=useNamespace("time"),{t:pe,lang:_e}=useLocale(),$e=ref([0,2]),xe=useOldValue(r),Oe=computed(()=>isUndefined$2(r.actualVisible)?`${he.namespace.value}-zoom-in-top`:""),Ce=computed(()=>r.format.includes("ss")),Ie=computed(()=>r.format.includes("A")?"A":r.format.includes("a")?"a":""),Ne=Sn=>{const xn=dayjs(Sn).locale(_e.value),On=hn(xn);return xn.isSame(On)},ze=()=>{n("pick",xe.value,!1)},Fe=(Sn=!1,xn=!1)=>{xn||n("pick",r.parsedValue,Sn)},Ue=Sn=>{if(!r.visible)return;const xn=hn(Sn).millisecond(0);n("pick",xn,!0)},At=(Sn,xn)=>{n("select-range",Sn,xn),$e.value=[Sn,xn]},Et=Sn=>{const xn=[0,3].concat(Ce.value?[6]:[]),On=["hours","minutes"].concat(Ce.value?["seconds"]:[]),Cn=(xn.indexOf($e.value[0])+Sn+xn.length)%xn.length;kt.start_emitSelectRange(On[Cn])},Pt=Sn=>{const xn=Sn.code,{left:On,right:Cn,up:An,down:Rn}=EVENT_CODE;if([On,Cn].includes(xn)){Et(xn===On?-1:1),Sn.preventDefault();return}if([An,Rn].includes(xn)){const Fn=xn===An?-1:1;kt.start_scrollDown(Fn),Sn.preventDefault();return}},{timePickerOptions:kt,onSetOption:Dt,getAvailableTime:Lt}=useTimePanel({getAvailableHours:le,getAvailableMinutes:ue,getAvailableSeconds:de}),hn=Sn=>Lt(Sn,r.datetimeRole||"",!0),vn=Sn=>Sn?dayjs(Sn,r.format).locale(_e.value):null,_n=Sn=>Sn?Sn.format(r.format):null,$n=()=>dayjs(re).locale(_e.value);return n("set-picker-option",["isValidValue",Ne]),n("set-picker-option",["formatToString",_n]),n("set-picker-option",["parseUserInput",vn]),n("set-picker-option",["handleKeydownInput",Pt]),n("set-picker-option",["getRangeAvailableTime",hn]),n("set-picker-option",["getDefaultValue",$n]),(Sn,xn)=>(openBlock(),createBlock(Transition,{name:unref(Oe)},{default:withCtx(()=>[Sn.actualVisible||Sn.visible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(he).b("panel"))},[createBaseVNode("div",{class:normalizeClass([unref(he).be("panel","content"),{"has-seconds":unref(Ce)}])},[createVNode$2(TimeSpinner,{ref:"spinner",role:Sn.datetimeRole||"start","arrow-control":unref(L),"show-seconds":unref(Ce),"am-pm-mode":unref(Ie),"spinner-date":Sn.parsedValue,"disabled-hours":unref(V),"disabled-minutes":unref(oe),"disabled-seconds":unref(ae),onChange:Ue,onSetOption:unref(Dt),onSelectRange:At},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),createBaseVNode("div",{class:normalizeClass(unref(he).be("panel","footer"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(he).be("panel","btn"),"cancel"]),onClick:ze},toDisplayString(unref(pe)("el.datepicker.cancel")),3),createBaseVNode("button",{type:"button",class:normalizeClass([unref(he).be("panel","btn"),"confirm"]),onClick:xn[0]||(xn[0]=On=>Fe())},toDisplayString(unref(pe)("el.datepicker.confirm")),3)],2)],2)):createCommentVNode("v-if",!0)]),_:1},8,["name"]))}});var TimePickPanel=_export_sfc$1(_sfc_main$U,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const panelTimeRangeProps=buildProps({...timePanelSharedProps,parsedValue:{type:definePropType(Array)}}),_hoisted_1$w=["disabled"],_sfc_main$T=defineComponent({__name:"panel-time-range",props:panelTimeRangeProps,emits:["pick","select-range","set-picker-option"],setup(g,{emit:n}){const r=g,$=(Nn,Vn)=>{const Ln=[];for(let Tn=Nn;Tn<=Vn;Tn++)Ln.push(Tn);return Ln},{t:L,lang:V}=useLocale(),oe=useNamespace("time"),ae=useNamespace("picker"),re=inject("EP_PICKER_BASE"),{arrowControl:le,disabledHours:ue,disabledMinutes:de,disabledSeconds:he,defaultValue:pe}=re.props,_e=computed(()=>r.parsedValue[0]),$e=computed(()=>r.parsedValue[1]),xe=useOldValue(r),Oe=()=>{n("pick",xe.value,!1)},Ce=computed(()=>r.format.includes("ss")),Ie=computed(()=>r.format.includes("A")?"A":r.format.includes("a")?"a":""),Ne=(Nn=!1)=>{n("pick",[_e.value,$e.value],Nn)},ze=Nn=>{At(Nn.millisecond(0),$e.value)},Fe=Nn=>{At(_e.value,Nn.millisecond(0))},Ue=Nn=>{const Vn=Nn.map(Tn=>dayjs(Tn).locale(V.value)),Ln=xn(Vn);return Vn[0].isSame(Ln[0])&&Vn[1].isSame(Ln[1])},At=(Nn,Vn)=>{n("pick",[Nn,Vn],!0)},Et=computed(()=>_e.value>$e.value),Pt=ref([0,2]),kt=(Nn,Vn)=>{n("select-range",Nn,Vn,"min"),Pt.value=[Nn,Vn]},Dt=computed(()=>Ce.value?11:8),Lt=(Nn,Vn)=>{n("select-range",Nn,Vn,"max");const Ln=unref(Dt);Pt.value=[Nn+Ln,Vn+Ln]},hn=Nn=>{const Vn=Ce.value?[0,3,6,11,14,17]:[0,3,8,11],Ln=["hours","minutes"].concat(Ce.value?["seconds"]:[]),Tn=(Vn.indexOf(Pt.value[0])+Nn+Vn.length)%Vn.length,In=Vn.length/2;Tn<In?Rn.start_emitSelectRange(Ln[Tn]):Rn.end_emitSelectRange(Ln[Tn-In])},vn=Nn=>{const Vn=Nn.code,{left:Ln,right:Tn,up:In,down:Bn}=EVENT_CODE;if([Ln,Tn].includes(Vn)){hn(Vn===Ln?-1:1),Nn.preventDefault();return}if([In,Bn].includes(Vn)){const Qn=Vn===In?-1:1,Zn=Pt.value[0]<Dt.value?"start":"end";Rn[`${Zn}_scrollDown`](Qn),Nn.preventDefault();return}},_n=(Nn,Vn)=>{const Ln=ue?ue(Nn):[],Tn=Nn==="start",In=(Vn||(Tn?$e.value:_e.value)).hour(),Bn=Tn?$(In+1,23):$(0,In-1);return union$1(Ln,Bn)},$n=(Nn,Vn,Ln)=>{const Tn=de?de(Nn,Vn):[],In=Vn==="start",Bn=Ln||(In?$e.value:_e.value),Qn=Bn.hour();if(Nn!==Qn)return Tn;const Zn=Bn.minute(),Kn=In?$(Zn+1,59):$(0,Zn-1);return union$1(Tn,Kn)},Sn=(Nn,Vn,Ln,Tn)=>{const In=he?he(Nn,Vn,Ln):[],Bn=Ln==="start",Qn=Tn||(Bn?$e.value:_e.value),Zn=Qn.hour(),Kn=Qn.minute();if(Nn!==Zn||Vn!==Kn)return In;const ui=Qn.second(),ei=Bn?$(ui+1,59):$(0,ui-1);return union$1(In,ei)},xn=([Nn,Vn])=>[Fn(Nn,"start",!0,Vn),Fn(Vn,"end",!1,Nn)],{getAvailableHours:On,getAvailableMinutes:Cn,getAvailableSeconds:An}=buildAvailableTimeSlotGetter(_n,$n,Sn),{timePickerOptions:Rn,getAvailableTime:Fn,onSetOption:Pn}=useTimePanel({getAvailableHours:On,getAvailableMinutes:Cn,getAvailableSeconds:An}),Un=Nn=>Nn?isArray$9(Nn)?Nn.map(Vn=>dayjs(Vn,r.format).locale(V.value)):dayjs(Nn,r.format).locale(V.value):null,Dn=Nn=>Nn?isArray$9(Nn)?Nn.map(Vn=>Vn.format(r.format)):Nn.format(r.format):null,kn=()=>{if(isArray$9(pe))return pe.map(Vn=>dayjs(Vn).locale(V.value));const Nn=dayjs(pe).locale(V.value);return[Nn,Nn.add(60,"m")]};return n("set-picker-option",["formatToString",Dn]),n("set-picker-option",["parseUserInput",Un]),n("set-picker-option",["isValidValue",Ue]),n("set-picker-option",["handleKeydownInput",vn]),n("set-picker-option",["getDefaultValue",kn]),n("set-picker-option",["getRangeAvailableTime",xn]),(Nn,Vn)=>Nn.actualVisible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(oe).b("range-picker"),unref(ae).b("panel")])},[createBaseVNode("div",{class:normalizeClass(unref(oe).be("range-picker","content"))},[createBaseVNode("div",{class:normalizeClass(unref(oe).be("range-picker","cell"))},[createBaseVNode("div",{class:normalizeClass(unref(oe).be("range-picker","header"))},toDisplayString(unref(L)("el.datepicker.startTime")),3),createBaseVNode("div",{class:normalizeClass([unref(oe).be("range-picker","body"),unref(oe).be("panel","content"),unref(oe).is("arrow",unref(le)),{"has-seconds":unref(Ce)}])},[createVNode$2(TimeSpinner,{ref:"minSpinner",role:"start","show-seconds":unref(Ce),"am-pm-mode":unref(Ie),"arrow-control":unref(le),"spinner-date":unref(_e),"disabled-hours":_n,"disabled-minutes":$n,"disabled-seconds":Sn,onChange:ze,onSetOption:unref(Pn),onSelectRange:kt},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),createBaseVNode("div",{class:normalizeClass(unref(oe).be("range-picker","cell"))},[createBaseVNode("div",{class:normalizeClass(unref(oe).be("range-picker","header"))},toDisplayString(unref(L)("el.datepicker.endTime")),3),createBaseVNode("div",{class:normalizeClass([unref(oe).be("range-picker","body"),unref(oe).be("panel","content"),unref(oe).is("arrow",unref(le)),{"has-seconds":unref(Ce)}])},[createVNode$2(TimeSpinner,{ref:"maxSpinner",role:"end","show-seconds":unref(Ce),"am-pm-mode":unref(Ie),"arrow-control":unref(le),"spinner-date":unref($e),"disabled-hours":_n,"disabled-minutes":$n,"disabled-seconds":Sn,onChange:Fe,onSetOption:unref(Pn),onSelectRange:Lt},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),createBaseVNode("div",{class:normalizeClass(unref(oe).be("panel","footer"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(oe).be("panel","btn"),"cancel"]),onClick:Vn[0]||(Vn[0]=Ln=>Oe())},toDisplayString(unref(L)("el.datepicker.cancel")),3),createBaseVNode("button",{type:"button",class:normalizeClass([unref(oe).be("panel","btn"),"confirm"]),disabled:unref(Et),onClick:Vn[1]||(Vn[1]=Ln=>Ne())},toDisplayString(unref(L)("el.datepicker.confirm")),11,_hoisted_1$w)],2)],2)):createCommentVNode("v-if",!0)}});var TimeRangePanel=_export_sfc$1(_sfc_main$T,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);dayjs.extend(customParseFormat);var TimePicker=defineComponent({name:"ElTimePicker",install:null,props:{...timePickerDefaultProps,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(g,n){const r=ref(),[$,L]=g.isRange?["timerange",TimeRangePanel]:["time",TimePickPanel],V=oe=>n.emit("update:modelValue",oe);return provide("ElPopperOptions",g.popperOptions),n.expose({focus:oe=>{var ae;(ae=r.value)==null||ae.handleFocusInput(oe)},blur:oe=>{var ae;(ae=r.value)==null||ae.handleBlurInput(oe)},handleOpen:()=>{var oe;(oe=r.value)==null||oe.handleOpen()},handleClose:()=>{var oe;(oe=r.value)==null||oe.handleClose()}}),()=>{var oe;const ae=(oe=g.format)!=null?oe:DEFAULT_FORMATS_TIME;return createVNode$2(CommonPicker,mergeProps(g,{ref:r,type:$,format:ae,"onUpdate:modelValue":V}),{default:re=>createVNode$2(L,re,null)})}}});const _TimePicker=TimePicker;_TimePicker.install=g=>{g.component(_TimePicker.name,_TimePicker)},ElTimePicker=_TimePicker;var localeData$1={exports:{}};(function(g,n){(function(r,$){g.exports=$()})(commonjsGlobal,function(){return function(r,$,L){var V=$.prototype,oe=function(de){return de&&(de.indexOf?de:de.s)},ae=function(de,he,pe,_e,$e){var xe=de.name?de:de.$locale(),Oe=oe(xe[he]),Ce=oe(xe[pe]),Ie=Oe||Ce.map(function(ze){return ze.slice(0,_e)});if(!$e)return Ie;var Ne=xe.weekStart;return Ie.map(function(ze,Fe){return Ie[(Fe+(Ne||0))%7]})},re=function(){return L.Ls[L.locale()]},le=function(de,he){return de.formats[he]||function(pe){return pe.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_e,$e,xe){return $e||xe.slice(1)})}(de.formats[he.toUpperCase()])},ue=function(){var de=this;return{months:function(he){return he?he.format("MMMM"):ae(de,"months")},monthsShort:function(he){return he?he.format("MMM"):ae(de,"monthsShort","months",3)},firstDayOfWeek:function(){return de.$locale().weekStart||0},weekdays:function(he){return he?he.format("dddd"):ae(de,"weekdays")},weekdaysMin:function(he){return he?he.format("dd"):ae(de,"weekdaysMin","weekdays",2)},weekdaysShort:function(he){return he?he.format("ddd"):ae(de,"weekdaysShort","weekdays",3)},longDateFormat:function(he){return le(de.$locale(),he)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};V.localeData=function(){return ue.bind(this)()},L.localeData=function(){var de=re();return{firstDayOfWeek:function(){return de.weekStart||0},weekdays:function(){return L.weekdays()},weekdaysShort:function(){return L.weekdaysShort()},weekdaysMin:function(){return L.weekdaysMin()},months:function(){return L.months()},monthsShort:function(){return L.monthsShort()},longDateFormat:function(he){return le(de,he)},meridiem:de.meridiem,ordinal:de.ordinal}},L.months=function(){return ae(re(),"months")},L.monthsShort=function(){return ae(re(),"monthsShort","months",3)},L.weekdays=function(de){return ae(re(),"weekdays",null,null,de)},L.weekdaysShort=function(de){return ae(re(),"weekdaysShort","weekdays",3,de)},L.weekdaysMin=function(de){return ae(re(),"weekdaysMin","weekdays",2,de)}}})})(localeData$1);const localeData=localeData$1.exports,checkboxProps={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:useSizeProp,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},checkboxEmits={[UPDATE_MODEL_EVENT]:g=>isString$5(g)||isNumber$4(g)||isBoolean$2(g),change:g=>isString$5(g)||isNumber$4(g)||isBoolean$2(g)},useCheckboxDisabled=({model:g,isChecked:n})=>{const r=inject(checkboxGroupContextKey,void 0),$=computed(()=>{var L,V;const oe=(L=r==null?void 0:r.max)==null?void 0:L.value,ae=(V=r==null?void 0:r.min)==null?void 0:V.value;return!isUndefined$2(oe)&&g.value.length>=oe&&!n.value||!isUndefined$2(ae)&&g.value.length<=ae&&n.value});return{isDisabled:useDisabled(computed(()=>(r==null?void 0:r.disabled.value)||$.value)),isLimitDisabled:$}},useCheckboxEvent=(g,{model:n,isLimitExceeded:r,hasOwnLabel:$,isDisabled:L,isLabeledByFormItem:V})=>{const oe=inject(checkboxGroupContextKey,void 0),{formItem:ae}=useFormItem(),{emit:re}=getCurrentInstance();function le(_e){var $e,xe;return _e===g.trueLabel||_e===!0?($e=g.trueLabel)!=null?$e:!0:(xe=g.falseLabel)!=null?xe:!1}function ue(_e,$e){re("change",le(_e),$e)}function de(_e){if(r.value)return;const $e=_e.target;re("change",le($e.checked),_e)}async function he(_e){r.value||!$.value&&!L.value&&V.value&&(_e.composedPath().some($e=>$e.tagName==="LABEL")||(n.value=le([!1,g.falseLabel].includes(n.value)),await nextTick(),ue(n.value,_e)))}const pe=computed(()=>(oe==null?void 0:oe.validateEvent)||g.validateEvent);return watch(()=>g.modelValue,()=>{pe.value&&(ae==null||ae.validate("change").catch(_e=>{}))}),{handleChange:de,onClickRoot:he}},useCheckboxModel=g=>{const n=ref(!1),{emit:r}=getCurrentInstance(),$=inject(checkboxGroupContextKey,void 0),L=computed(()=>isUndefined$2($)===!1),V=ref(!1);return{model:computed({get(){var oe,ae;return L.value?(oe=$==null?void 0:$.modelValue)==null?void 0:oe.value:(ae=g.modelValue)!=null?ae:n.value},set(oe){var ae,re;L.value&&isArray$9(oe)?(V.value=((ae=$==null?void 0:$.max)==null?void 0:ae.value)!==void 0&&oe.length>($==null?void 0:$.max.value),V.value===!1&&((re=$==null?void 0:$.changeEvent)==null||re.call($,oe))):(r(UPDATE_MODEL_EVENT,oe),n.value=oe)}}),isGroup:L,isLimitExceeded:V}},useCheckboxStatus=(g,n,{model:r})=>{const $=inject(checkboxGroupContextKey,void 0),L=ref(!1),V=computed(()=>{const le=r.value;return isBoolean$2(le)?le:isArray$9(le)?isObject$c(g.label)?le.map(toRaw).some(ue=>isEqual(ue,g.label)):le.map(toRaw).includes(g.label):le!=null?le===g.trueLabel:!!le}),oe=useSize(computed(()=>{var le;return(le=$==null?void 0:$.size)==null?void 0:le.value}),{prop:!0}),ae=useSize(computed(()=>{var le;return(le=$==null?void 0:$.size)==null?void 0:le.value})),re=computed(()=>!!(n.default||g.label));return{checkboxButtonSize:oe,isChecked:V,isFocused:L,checkboxSize:ae,hasOwnLabel:re}},setStoreValue=(g,{model:n})=>{function r(){isArray$9(n.value)&&!n.value.includes(g.label)?n.value.push(g.label):n.value=g.trueLabel||!0}g.checked&&r()},useCheckbox=(g,n)=>{const{formItem:r}=useFormItem(),{model:$,isGroup:L,isLimitExceeded:V}=useCheckboxModel(g),{isFocused:oe,isChecked:ae,checkboxButtonSize:re,checkboxSize:le,hasOwnLabel:ue}=useCheckboxStatus(g,n,{model:$}),{isDisabled:de}=useCheckboxDisabled({model:$,isChecked:ae}),{inputId:he,isLabeledByFormItem:pe}=useFormItemInputId(g,{formItemContext:r,disableIdGeneration:ue,disableIdManagement:L}),{handleChange:_e,onClickRoot:$e}=useCheckboxEvent(g,{model:$,isLimitExceeded:V,hasOwnLabel:ue,isDisabled:de,isLabeledByFormItem:pe});return setStoreValue(g,{model:$}),{inputId:he,isLabeledByFormItem:pe,isChecked:ae,isDisabled:de,isFocused:oe,checkboxButtonSize:re,checkboxSize:le,hasOwnLabel:ue,model:$,handleChange:_e,onClickRoot:$e}},_hoisted_1$v=["tabindex","role","aria-checked"],_hoisted_2$i=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],_hoisted_3$a=["id","aria-hidden","disabled","value","name","tabindex"],__default__$x=defineComponent({name:"ElCheckbox"}),_sfc_main$S=defineComponent({...__default__$x,props:checkboxProps,emits:checkboxEmits,setup(g){const n=g,r=useSlots(),{inputId:$,isLabeledByFormItem:L,isChecked:V,isDisabled:oe,isFocused:ae,checkboxSize:re,hasOwnLabel:le,model:ue,handleChange:de,onClickRoot:he}=useCheckbox(n,r),pe=useNamespace("checkbox");return(_e,$e)=>(openBlock(),createBlock(resolveDynamicComponent(!unref(le)&&unref(L)?"span":"label"),{class:normalizeClass([unref(pe).b(),unref(pe).m(unref(re)),unref(pe).is("disabled",unref(oe)),unref(pe).is("bordered",_e.border),unref(pe).is("checked",unref(V))]),"aria-controls":_e.indeterminate?_e.controls:null,onClick:unref(he)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass([unref(pe).e("input"),unref(pe).is("disabled",unref(oe)),unref(pe).is("checked",unref(V)),unref(pe).is("indeterminate",_e.indeterminate),unref(pe).is("focus",unref(ae))]),tabindex:_e.indeterminate?0:void 0,role:_e.indeterminate?"checkbox":void 0,"aria-checked":_e.indeterminate?"mixed":void 0},[_e.trueLabel||_e.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,id:unref($),"onUpdate:modelValue":$e[0]||($e[0]=xe=>isRef(ue)?ue.value=xe:null),class:normalizeClass(unref(pe).e("original")),type:"checkbox","aria-hidden":_e.indeterminate?"true":"false",name:_e.name,tabindex:_e.tabindex,disabled:unref(oe),"true-value":_e.trueLabel,"false-value":_e.falseLabel,onChange:$e[1]||($e[1]=(...xe)=>unref(de)&&unref(de)(...xe)),onFocus:$e[2]||($e[2]=xe=>ae.value=!0),onBlur:$e[3]||($e[3]=xe=>ae.value=!1)},null,42,_hoisted_2$i)),[[vModelCheckbox,unref(ue)]]):withDirectives((openBlock(),createElementBlock("input",{key:1,id:unref($),"onUpdate:modelValue":$e[4]||($e[4]=xe=>isRef(ue)?ue.value=xe:null),class:normalizeClass(unref(pe).e("original")),type:"checkbox","aria-hidden":_e.indeterminate?"true":"false",disabled:unref(oe),value:_e.label,name:_e.name,tabindex:_e.tabindex,onChange:$e[5]||($e[5]=(...xe)=>unref(de)&&unref(de)(...xe)),onFocus:$e[6]||($e[6]=xe=>ae.value=!0),onBlur:$e[7]||($e[7]=xe=>ae.value=!1)},null,42,_hoisted_3$a)),[[vModelCheckbox,unref(ue)]]),createBaseVNode("span",{class:normalizeClass(unref(pe).e("inner"))},null,2)],10,_hoisted_1$v),unref(le)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(pe).e("label"))},[renderSlot(_e.$slots,"default"),_e.$slots.default?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(_e.label),1)],64))],2)):createCommentVNode("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var Checkbox=_export_sfc$1(_sfc_main$S,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const _hoisted_1$u=["name","tabindex","disabled","true-value","false-value"],_hoisted_2$h=["name","tabindex","disabled","value"],__default__$w=defineComponent({name:"ElCheckboxButton"}),_sfc_main$R=defineComponent({...__default__$w,props:checkboxProps,emits:checkboxEmits,setup(g){const n=g,r=useSlots(),{isFocused:$,isChecked:L,isDisabled:V,checkboxButtonSize:oe,model:ae,handleChange:re}=useCheckbox(n,r),le=inject(checkboxGroupContextKey,void 0),ue=useNamespace("checkbox"),de=computed(()=>{var he,pe,_e,$e;const xe=(pe=(he=le==null?void 0:le.fill)==null?void 0:he.value)!=null?pe:"";return{backgroundColor:xe,borderColor:xe,color:($e=(_e=le==null?void 0:le.textColor)==null?void 0:_e.value)!=null?$e:"",boxShadow:xe?`-1px 0 0 0 ${xe}`:void 0}});return(he,pe)=>(openBlock(),createElementBlock("label",{class:normalizeClass([unref(ue).b("button"),unref(ue).bm("button",unref(oe)),unref(ue).is("disabled",unref(V)),unref(ue).is("checked",unref(L)),unref(ue).is("focus",unref($))])},[he.trueLabel||he.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":pe[0]||(pe[0]=_e=>isRef(ae)?ae.value=_e:null),class:normalizeClass(unref(ue).be("button","original")),type:"checkbox",name:he.name,tabindex:he.tabindex,disabled:unref(V),"true-value":he.trueLabel,"false-value":he.falseLabel,onChange:pe[1]||(pe[1]=(..._e)=>unref(re)&&unref(re)(..._e)),onFocus:pe[2]||(pe[2]=_e=>$.value=!0),onBlur:pe[3]||(pe[3]=_e=>$.value=!1)},null,42,_hoisted_1$u)),[[vModelCheckbox,unref(ae)]]):withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":pe[4]||(pe[4]=_e=>isRef(ae)?ae.value=_e:null),class:normalizeClass(unref(ue).be("button","original")),type:"checkbox",name:he.name,tabindex:he.tabindex,disabled:unref(V),value:he.label,onChange:pe[5]||(pe[5]=(..._e)=>unref(re)&&unref(re)(..._e)),onFocus:pe[6]||(pe[6]=_e=>$.value=!0),onBlur:pe[7]||(pe[7]=_e=>$.value=!1)},null,42,_hoisted_2$h)),[[vModelCheckbox,unref(ae)]]),he.$slots.default||he.label?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass(unref(ue).be("button","inner")),style:normalizeStyle$2(unref(L)?unref(de):void 0)},[renderSlot(he.$slots,"default",{},()=>[createTextVNode(toDisplayString(he.label),1)])],6)):createCommentVNode("v-if",!0)],2))}});var CheckboxButton=_export_sfc$1(_sfc_main$R,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const checkboxGroupProps=buildProps({modelValue:{type:definePropType(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:useSizeProp,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),checkboxGroupEmits={[UPDATE_MODEL_EVENT]:g=>isArray$9(g),change:g=>isArray$9(g)},__default__$v=defineComponent({name:"ElCheckboxGroup"}),_sfc_main$Q=defineComponent({...__default__$v,props:checkboxGroupProps,emits:checkboxGroupEmits,setup(g,{emit:n}){const r=g,$=useNamespace("checkbox"),{formItem:L}=useFormItem(),{inputId:V,isLabeledByFormItem:oe}=useFormItemInputId(r,{formItemContext:L}),ae=async le=>{n(UPDATE_MODEL_EVENT,le),await nextTick(),n("change",le)},re=computed({get(){return r.modelValue},set(le){ae(le)}});return provide(checkboxGroupContextKey,{...pick$1(toRefs(r),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:re,changeEvent:ae}),watch(()=>r.modelValue,()=>{r.validateEvent&&(L==null||L.validate("change").catch(le=>{}))}),(le,ue)=>{var de;return openBlock(),createBlock(resolveDynamicComponent(le.tag),{id:unref(V),class:normalizeClass(unref($).b("group")),role:"group","aria-label":unref(oe)?void 0:le.label||"checkbox-group","aria-labelledby":unref(oe)?(de=unref(L))==null?void 0:de.labelId:void 0},{default:withCtx(()=>[renderSlot(le.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var CheckboxGroup=_export_sfc$1(_sfc_main$Q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);ElCheckbox=withInstall(Checkbox,{CheckboxButton,CheckboxGroup}),withNoopInstall(CheckboxButton);let radioPropsBase,radioProps,radioEmits,useRadio,_hoisted_1$t,__default__$u,_sfc_main$P;ElCheckboxGroup$1=withNoopInstall(CheckboxGroup),radioPropsBase=buildProps({size:useSizeProp,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),radioProps=buildProps({...radioPropsBase,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),radioEmits={[UPDATE_MODEL_EVENT]:g=>isString$5(g)||isNumber$4(g)||isBoolean$2(g),[CHANGE_EVENT]:g=>isString$5(g)||isNumber$4(g)||isBoolean$2(g)},useRadio=(g,n)=>{const r=ref(),$=inject(radioGroupKey,void 0),L=computed(()=>!!$),V=computed({get(){return L.value?$.modelValue:g.modelValue},set(ue){L.value?$.changeEvent(ue):n&&n(UPDATE_MODEL_EVENT,ue),r.value.checked=g.modelValue===g.label}}),oe=useSize(computed(()=>$==null?void 0:$.size)),ae=useDisabled(computed(()=>$==null?void 0:$.disabled)),re=ref(!1),le=computed(()=>ae.value||L.value&&V.value!==g.label?-1:0);return{radioRef:r,isGroup:L,radioGroup:$,focus:re,size:oe,disabled:ae,tabIndex:le,modelValue:V}},_hoisted_1$t=["value","name","disabled"],__default__$u=defineComponent({name:"ElRadio"}),_sfc_main$P=defineComponent({...__default__$u,props:radioProps,emits:radioEmits,setup(g,{emit:n}){const r=g,$=useNamespace("radio"),{radioRef:L,radioGroup:V,focus:oe,size:ae,disabled:re,modelValue:le}=useRadio(r,n);function ue(){nextTick(()=>n("change",le.value))}return(de,he)=>{var pe;return openBlock(),createElementBlock("label",{class:normalizeClass([unref($).b(),unref($).is("disabled",unref(re)),unref($).is("focus",unref(oe)),unref($).is("bordered",de.border),unref($).is("checked",unref(le)===de.label),unref($).m(unref(ae))])},[createBaseVNode("span",{class:normalizeClass([unref($).e("input"),unref($).is("disabled",unref(re)),unref($).is("checked",unref(le)===de.label)])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:L,"onUpdate:modelValue":he[0]||(he[0]=_e=>isRef(le)?le.value=_e:null),class:normalizeClass(unref($).e("original")),value:de.label,name:de.name||((pe=unref(V))==null?void 0:pe.name),disabled:unref(re),type:"radio",onFocus:he[1]||(he[1]=_e=>oe.value=!0),onBlur:he[2]||(he[2]=_e=>oe.value=!1),onChange:ue},null,42,_hoisted_1$t),[[vModelRadio,unref(le)]]),createBaseVNode("span",{class:normalizeClass(unref($).e("inner"))},null,2)],2),createBaseVNode("span",{class:normalizeClass(unref($).e("label")),onKeydown:he[3]||(he[3]=withModifiers(()=>{},["stop"]))},[renderSlot(de.$slots,"default",{},()=>[createTextVNode(toDisplayString(de.label),1)])],34)],2)}}});var Radio=_export_sfc$1(_sfc_main$P,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const radioButtonProps=buildProps({...radioPropsBase,name:{type:String,default:""}}),_hoisted_1$s=["value","name","disabled"],__default__$t=defineComponent({name:"ElRadioButton"}),_sfc_main$O=defineComponent({...__default__$t,props:radioButtonProps,setup(g){const n=g,r=useNamespace("radio"),{radioRef:$,focus:L,size:V,disabled:oe,modelValue:ae,radioGroup:re}=useRadio(n),le=computed(()=>({backgroundColor:(re==null?void 0:re.fill)||"",borderColor:(re==null?void 0:re.fill)||"",boxShadow:re!=null&&re.fill?`-1px 0 0 0 ${re.fill}`:"",color:(re==null?void 0:re.textColor)||""}));return(ue,de)=>{var he;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(r).b("button"),unref(r).is("active",unref(ae)===ue.label),unref(r).is("disabled",unref(oe)),unref(r).is("focus",unref(L)),unref(r).bm("button",unref(V))])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:$,"onUpdate:modelValue":de[0]||(de[0]=pe=>isRef(ae)?ae.value=pe:null),class:normalizeClass(unref(r).be("button","original-radio")),value:ue.label,type:"radio",name:ue.name||((he=unref(re))==null?void 0:he.name),disabled:unref(oe),onFocus:de[1]||(de[1]=pe=>L.value=!0),onBlur:de[2]||(de[2]=pe=>L.value=!1)},null,42,_hoisted_1$s),[[vModelRadio,unref(ae)]]),createBaseVNode("span",{class:normalizeClass(unref(r).be("button","inner")),style:normalizeStyle$2(unref(ae)===ue.label?unref(le):{}),onKeydown:de[3]||(de[3]=withModifiers(()=>{},["stop"]))},[renderSlot(ue.$slots,"default",{},()=>[createTextVNode(toDisplayString(ue.label),1)])],38)],2)}}});var RadioButton=_export_sfc$1(_sfc_main$O,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const radioGroupProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),radioGroupEmits=radioEmits,_hoisted_1$r=["id","aria-label","aria-labelledby"],__default__$s=defineComponent({name:"ElRadioGroup"}),_sfc_main$N=defineComponent({...__default__$s,props:radioGroupProps,emits:radioGroupEmits,setup(g,{emit:n}){const r=g,$=useNamespace("radio"),L=useId(),V=ref(),{formItem:oe}=useFormItem(),{inputId:ae,isLabeledByFormItem:re}=useFormItemInputId(r,{formItemContext:oe}),le=de=>{n(UPDATE_MODEL_EVENT,de),nextTick(()=>n("change",de))};onMounted(()=>{const de=V.value.querySelectorAll("[type=radio]"),he=de[0];!Array.from(de).some(pe=>pe.checked)&&he&&(he.tabIndex=0)});const ue=computed(()=>r.name||L.value);return provide(radioGroupKey,reactive({...toRefs(r),changeEvent:le,name:ue})),watch(()=>r.modelValue,()=>{r.validateEvent&&(oe==null||oe.validate("change").catch(de=>{}))}),(de,he)=>(openBlock(),createElementBlock("div",{id:unref(ae),ref_key:"radioGroupRef",ref:V,class:normalizeClass(unref($).b("group")),role:"radiogroup","aria-label":unref(re)?void 0:de.label||"radio-group","aria-labelledby":unref(re)?unref(oe).labelId:void 0},[renderSlot(de.$slots,"default")],10,_hoisted_1$r))}});var RadioGroup=_export_sfc$1(_sfc_main$N,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);ElRadio=withInstall(Radio,{RadioButton,RadioGroup}),ElRadioGroup=withNoopInstall(RadioGroup),withNoopInstall(RadioButton);const tagProps=buildProps({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:componentSizes,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),tagEmits={close:g=>g instanceof MouseEvent,click:g=>g instanceof MouseEvent},__default__$r=defineComponent({name:"ElTag"}),_sfc_main$M=defineComponent({...__default__$r,props:tagProps,emits:tagEmits,setup(g,{emit:n}){const r=g,$=useSize(),L=useNamespace("tag"),V=computed(()=>{const{type:re,hit:le,effect:ue,closable:de,round:he}=r;return[L.b(),L.is("closable",de),L.m(re),L.m($.value),L.m(ue),L.is("hit",le),L.is("round",he)]}),oe=re=>{n("close",re)},ae=re=>{n("click",re)};return(re,le)=>re.disableTransitions?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(V)),style:normalizeStyle$2({backgroundColor:re.color}),onClick:ae},[createBaseVNode("span",{class:normalizeClass(unref(L).e("content"))},[renderSlot(re.$slots,"default")],2),re.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(L).e("close")),onClick:withModifiers(oe,["stop"])},{default:withCtx(()=>[createVNode$2(unref(close_default))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)):(openBlock(),createBlock(Transition,{key:1,name:`${unref(L).namespace.value}-zoom-in-center`,appear:""},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(unref(V)),style:normalizeStyle$2({backgroundColor:re.color}),onClick:ae},[createBaseVNode("span",{class:normalizeClass(unref(L).e("content"))},[renderSlot(re.$slots,"default")],2),re.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(L).e("close")),onClick:withModifiers(oe,["stop"])},{default:withCtx(()=>[createVNode$2(unref(close_default))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)]),_:3},8,["name"]))}});var Tag$1=_export_sfc$1(_sfc_main$M,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const ElTag=withInstall(Tag$1),colProps=buildProps({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:definePropType([Number,Object]),default:()=>mutable({})},sm:{type:definePropType([Number,Object]),default:()=>mutable({})},md:{type:definePropType([Number,Object]),default:()=>mutable({})},lg:{type:definePropType([Number,Object]),default:()=>mutable({})},xl:{type:definePropType([Number,Object]),default:()=>mutable({})}}),__default__$q=defineComponent({name:"ElCol"}),_sfc_main$L=defineComponent({...__default__$q,props:colProps,setup(g){const n=g,{gutter:r}=inject(rowContextKey,{gutter:computed(()=>0)}),$=useNamespace("col"),L=computed(()=>{const oe={};return r.value&&(oe.paddingLeft=oe.paddingRight=`${r.value/2}px`),oe}),V=computed(()=>{const oe=[];return["span","offset","pull","push"].forEach(ae=>{const re=n[ae];isNumber$4(re)&&(ae==="span"?oe.push($.b(`${n[ae]}`)):re>0&&oe.push($.b(`${ae}-${n[ae]}`)))}),["xs","sm","md","lg","xl"].forEach(ae=>{isNumber$4(n[ae])?oe.push($.b(`${ae}-${n[ae]}`)):isObject$c(n[ae])&&Object.entries(n[ae]).forEach(([re,le])=>{oe.push(re!=="span"?$.b(`${ae}-${re}-${le}`):$.b(`${ae}-${le}`))})}),r.value&&oe.push($.is("guttered")),[$.b(),oe]});return(oe,ae)=>(openBlock(),createBlock(resolveDynamicComponent(oe.tag),{class:normalizeClass(unref(V)),style:normalizeStyle$2(unref(L))},{default:withCtx(()=>[renderSlot(oe.$slots,"default")]),_:3},8,["class","style"]))}});var Col=_export_sfc$1(_sfc_main$L,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);let __default__$p,_sfc_main$K;ElCol=withInstall(Col),__default__$p=defineComponent({name:"ElCollapseTransition"}),_sfc_main$K=defineComponent({...__default__$p,setup(g){const n=useNamespace("collapse-transition"),r={beforeEnter($){$.dataset||($.dataset={}),$.dataset.oldPaddingTop=$.style.paddingTop,$.dataset.oldPaddingBottom=$.style.paddingBottom,$.style.maxHeight=0,$.style.paddingTop=0,$.style.paddingBottom=0},enter($){$.dataset.oldOverflow=$.style.overflow,$.scrollHeight!==0?($.style.maxHeight=`${$.scrollHeight}px`,$.style.paddingTop=$.dataset.oldPaddingTop,$.style.paddingBottom=$.dataset.oldPaddingBottom):($.style.maxHeight=0,$.style.paddingTop=$.dataset.oldPaddingTop,$.style.paddingBottom=$.dataset.oldPaddingBottom),$.style.overflow="hidden"},afterEnter($){$.style.maxHeight="",$.style.overflow=$.dataset.oldOverflow},beforeLeave($){$.dataset||($.dataset={}),$.dataset.oldPaddingTop=$.style.paddingTop,$.dataset.oldPaddingBottom=$.style.paddingBottom,$.dataset.oldOverflow=$.style.overflow,$.style.maxHeight=`${$.scrollHeight}px`,$.style.overflow="hidden"},leave($){$.scrollHeight!==0&&($.style.maxHeight=0,$.style.paddingTop=0,$.style.paddingBottom=0)},afterLeave($){$.style.maxHeight="",$.style.overflow=$.dataset.oldOverflow,$.style.paddingTop=$.dataset.oldPaddingTop,$.style.paddingBottom=$.dataset.oldPaddingBottom}};return($,L)=>(openBlock(),createBlock(Transition,mergeProps({name:unref(n).b()},toHandlers(r)),{default:withCtx(()=>[renderSlot($.$slots,"default")]),_:3},16,["name"]))}});var CollapseTransition=_export_sfc$1(_sfc_main$K,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);CollapseTransition.install=g=>{g.component(CollapseTransition.name,CollapseTransition)},_CollapseTransition=CollapseTransition;let isDragging=!1;function draggable(g,n){if(!isClient)return;const r=function(V){var oe;(oe=n.drag)==null||oe.call(n,V)},$=function(V){var oe;document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",$),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",$),document.onselectstart=null,document.ondragstart=null,isDragging=!1,(oe=n.end)==null||oe.call(n,V)},L=function(V){var oe;isDragging||(V.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",r),document.addEventListener("mouseup",$),document.addEventListener("touchmove",r),document.addEventListener("touchend",$),isDragging=!0,(oe=n.start)==null||oe.call(n,V))};g.addEventListener("mousedown",L),g.addEventListener("touchstart",L)}const _sfc_main$J=defineComponent({name:"ElColorAlphaSlider",props:{color:{type:Object,required:!0},vertical:{type:Boolean,default:!1}},setup(g){const n=useNamespace("color-alpha-slider"),r=getCurrentInstance(),$=shallowRef(),L=shallowRef(),V=ref(0),oe=ref(0),ae=ref();watch(()=>g.color.get("alpha"),()=>{pe()}),watch(()=>g.color.value,()=>{pe()});function re(){if(!$.value||g.vertical)return 0;const _e=r.vnode.el,$e=g.color.get("alpha");return _e?Math.round($e*(_e.offsetWidth-$.value.offsetWidth/2)/100):0}function le(){if(!$.value)return 0;const _e=r.vnode.el;if(!g.vertical)return 0;const $e=g.color.get("alpha");return _e?Math.round($e*(_e.offsetHeight-$.value.offsetHeight/2)/100):0}function ue(){if(g.color&&g.color.value){const{r:_e,g:$e,b:xe}=g.color.toRgb();return`linear-gradient(to right, rgba(${_e}, ${$e}, ${xe}, 0) 0%, rgba(${_e}, ${$e}, ${xe}, 1) 100%)`}return""}function de(_e){_e.target!==$.value&&he(_e)}function he(_e){if(!L.value||!$.value)return;const $e=r.vnode.el.getBoundingClientRect(),{clientX:xe,clientY:Oe}=getClientXY(_e);if(g.vertical){let Ce=Oe-$e.top;Ce=Math.max($.value.offsetHeight/2,Ce),Ce=Math.min(Ce,$e.height-$.value.offsetHeight/2),g.color.set("alpha",Math.round((Ce-$.value.offsetHeight/2)/($e.height-$.value.offsetHeight)*100))}else{let Ce=xe-$e.left;Ce=Math.max($.value.offsetWidth/2,Ce),Ce=Math.min(Ce,$e.width-$.value.offsetWidth/2),g.color.set("alpha",Math.round((Ce-$.value.offsetWidth/2)/($e.width-$.value.offsetWidth)*100))}}function pe(){V.value=re(),oe.value=le(),ae.value=ue()}return onMounted(()=>{if(!L.value||!$.value)return;const _e={drag:$e=>{he($e)},end:$e=>{he($e)}};draggable(L.value,_e),draggable($.value,_e),pe()}),{thumb:$,bar:L,thumbLeft:V,thumbTop:oe,background:ae,handleClick:de,update:pe,ns:n}}});function _sfc_render$c(g,n,r,$,L,V){return openBlock(),createElementBlock("div",{class:normalizeClass([g.ns.b(),g.ns.is("vertical",g.vertical)])},[createBaseVNode("div",{ref:"bar",class:normalizeClass(g.ns.e("bar")),style:normalizeStyle$2({background:g.background}),onClick:n[0]||(n[0]=(...oe)=>g.handleClick&&g.handleClick(...oe))},null,6),createBaseVNode("div",{ref:"thumb",class:normalizeClass(g.ns.e("thumb")),style:normalizeStyle$2({left:g.thumbLeft+"px",top:g.thumbTop+"px"})},null,6)],2)}var AlphaSlider=_export_sfc$1(_sfc_main$J,[["render",_sfc_render$c],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);const _sfc_main$I=defineComponent({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(g){const n=useNamespace("color-hue-slider"),r=getCurrentInstance(),$=ref(),L=ref(),V=ref(0),oe=ref(0),ae=computed(()=>g.color.get("hue"));watch(()=>ae.value,()=>{he()});function re(pe){pe.target!==$.value&&le(pe)}function le(pe){if(!L.value||!$.value)return;const _e=r.vnode.el.getBoundingClientRect(),{clientX:$e,clientY:xe}=getClientXY(pe);let Oe;if(g.vertical){let Ce=xe-_e.top;Ce=Math.min(Ce,_e.height-$.value.offsetHeight/2),Ce=Math.max($.value.offsetHeight/2,Ce),Oe=Math.round((Ce-$.value.offsetHeight/2)/(_e.height-$.value.offsetHeight)*360)}else{let Ce=$e-_e.left;Ce=Math.min(Ce,_e.width-$.value.offsetWidth/2),Ce=Math.max($.value.offsetWidth/2,Ce),Oe=Math.round((Ce-$.value.offsetWidth/2)/(_e.width-$.value.offsetWidth)*360)}g.color.set("hue",Oe)}function ue(){if(!$.value)return 0;const pe=r.vnode.el;if(g.vertical)return 0;const _e=g.color.get("hue");return pe?Math.round(_e*(pe.offsetWidth-$.value.offsetWidth/2)/360):0}function de(){if(!$.value)return 0;const pe=r.vnode.el;if(!g.vertical)return 0;const _e=g.color.get("hue");return pe?Math.round(_e*(pe.offsetHeight-$.value.offsetHeight/2)/360):0}function he(){V.value=ue(),oe.value=de()}return onMounted(()=>{if(!L.value||!$.value)return;const pe={drag:_e=>{le(_e)},end:_e=>{le(_e)}};draggable(L.value,pe),draggable($.value,pe),he()}),{bar:L,thumb:$,thumbLeft:V,thumbTop:oe,hueValue:ae,handleClick:re,update:he,ns:n}}});function _sfc_render$b(g,n,r,$,L,V){return openBlock(),createElementBlock("div",{class:normalizeClass([g.ns.b(),g.ns.is("vertical",g.vertical)])},[createBaseVNode("div",{ref:"bar",class:normalizeClass(g.ns.e("bar")),onClick:n[0]||(n[0]=(...oe)=>g.handleClick&&g.handleClick(...oe))},null,2),createBaseVNode("div",{ref:"thumb",class:normalizeClass(g.ns.e("thumb")),style:normalizeStyle$2({left:g.thumbLeft+"px",top:g.thumbTop+"px"})},null,6)],2)}var HueSlider=_export_sfc$1(_sfc_main$I,[["render",_sfc_render$b],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const colorPickerProps=buildProps({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:useSizeProp,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:definePropType(Array)},validateEvent:{type:Boolean,default:!0}}),colorPickerEmits={[UPDATE_MODEL_EVENT]:g=>isString$5(g)||isNil(g),[CHANGE_EVENT]:g=>isString$5(g)||isNil(g),activeChange:g=>isString$5(g)||isNil(g)},colorPickerContextKey=Symbol("colorPickerContextKey"),hsv2hsl=function(g,n,r){return[g,n*r/((g=(2-n)*r)<1?g:2-g)||0,g/2]},isOnePointZero=function(g){return typeof g=="string"&&g.includes(".")&&Number.parseFloat(g)===1},isPercentage=function(g){return typeof g=="string"&&g.includes("%")},bound01=function(g,n){isOnePointZero(g)&&(g="100%");const r=isPercentage(g);return g=Math.min(n,Math.max(0,Number.parseFloat(`${g}`))),r&&(g=Number.parseInt(`${g*n}`,10)/100),Math.abs(g-n)<1e-6?1:g%n/Number.parseFloat(n)},INT_HEX_MAP={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},hexOne=g=>{g=Math.min(Math.round(g),255);const n=Math.floor(g/16),r=g%16;return`${INT_HEX_MAP[n]||n}${INT_HEX_MAP[r]||r}`},toHex=function({r:g,g:n,b:r}){return Number.isNaN(+g)||Number.isNaN(+n)||Number.isNaN(+r)?"":`#${hexOne(g)}${hexOne(n)}${hexOne(r)}`},HEX_INT_MAP={A:10,B:11,C:12,D:13,E:14,F:15},parseHexChannel=function(g){return g.length===2?(HEX_INT_MAP[g[0].toUpperCase()]||+g[0])*16+(HEX_INT_MAP[g[1].toUpperCase()]||+g[1]):HEX_INT_MAP[g[1].toUpperCase()]||+g[1]},hsl2hsv=function(g,n,r){n=n/100,r=r/100;let $=n;const L=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,$*=L<=1?L:2-L;const V=(r+n)/2,oe=r===0?2*$/(L+$):2*n/(r+n);return{h:g,s:oe*100,v:V*100}},rgb2hsv=(g,n,r)=>{g=bound01(g,255),n=bound01(n,255),r=bound01(r,255);const $=Math.max(g,n,r),L=Math.min(g,n,r);let V;const oe=$,ae=$-L,re=$===0?0:ae/$;if($===L)V=0;else{switch($){case g:{V=(n-r)/ae+(n<r?6:0);break}case n:{V=(r-g)/ae+2;break}case r:{V=(g-n)/ae+4;break}}V/=6}return{h:V*360,s:re*100,v:oe*100}},hsv2rgb=function(g,n,r){g=bound01(g,360)*6,n=bound01(n,100),r=bound01(r,100);const $=Math.floor(g),L=g-$,V=r*(1-n),oe=r*(1-L*n),ae=r*(1-(1-L)*n),re=$%6,le=[r,oe,V,V,ae,r][re],ue=[ae,r,r,oe,V,V][re],de=[V,V,ae,r,r,oe][re];return{r:Math.round(le*255),g:Math.round(ue*255),b:Math.round(de*255)}};class Color{constructor(n={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const r in n)hasOwn$2(n,r)&&(this[r]=n[r]);n.value?this.fromString(n.value):this.doOnChange()}set(n,r){if(arguments.length===1&&typeof n=="object"){for(const $ in n)hasOwn$2(n,$)&&this.set($,n[$]);return}this[`_${n}`]=r,this.doOnChange()}get(n){return n==="alpha"?Math.floor(this[`_${n}`]):this[`_${n}`]}toRgb(){return hsv2rgb(this._hue,this._saturation,this._value)}fromString(n){if(!n){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const r=($,L,V)=>{this._hue=Math.max(0,Math.min(360,$)),this._saturation=Math.max(0,Math.min(100,L)),this._value=Math.max(0,Math.min(100,V)),this.doOnChange()};if(n.includes("hsl")){const $=n.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(L=>L!=="").map((L,V)=>V>2?Number.parseFloat(L):Number.parseInt(L,10));if($.length===4?this._alpha=Number.parseFloat($[3])*100:$.length===3&&(this._alpha=100),$.length>=3){const{h:L,s:V,v:oe}=hsl2hsv($[0],$[1],$[2]);r(L,V,oe)}}else if(n.includes("hsv")){const $=n.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(L=>L!=="").map((L,V)=>V>2?Number.parseFloat(L):Number.parseInt(L,10));$.length===4?this._alpha=Number.parseFloat($[3])*100:$.length===3&&(this._alpha=100),$.length>=3&&r($[0],$[1],$[2])}else if(n.includes("rgb")){const $=n.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(L=>L!=="").map((L,V)=>V>2?Number.parseFloat(L):Number.parseInt(L,10));if($.length===4?this._alpha=Number.parseFloat($[3])*100:$.length===3&&(this._alpha=100),$.length>=3){const{h:L,s:V,v:oe}=rgb2hsv($[0],$[1],$[2]);r(L,V,oe)}}else if(n.includes("#")){const $=n.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test($))return;let L,V,oe;$.length===3?(L=parseHexChannel($[0]+$[0]),V=parseHexChannel($[1]+$[1]),oe=parseHexChannel($[2]+$[2])):($.length===6||$.length===8)&&(L=parseHexChannel($.slice(0,2)),V=parseHexChannel($.slice(2,4)),oe=parseHexChannel($.slice(4,6))),$.length===8?this._alpha=parseHexChannel($.slice(6))/255*100:($.length===3||$.length===6)&&(this._alpha=100);const{h:ae,s:re,v:le}=rgb2hsv(L,V,oe);r(ae,re,le)}}compare(n){return Math.abs(n._hue-this._hue)<2&&Math.abs(n._saturation-this._saturation)<1&&Math.abs(n._value-this._value)<1&&Math.abs(n._alpha-this._alpha)<1}doOnChange(){const{_hue:n,_saturation:r,_value:$,_alpha:L,format:V}=this;if(this.enableAlpha)switch(V){case"hsl":{const oe=hsv2hsl(n,r/100,$/100);this.value=`hsla(${n}, ${Math.round(oe[1]*100)}%, ${Math.round(oe[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${n}, ${Math.round(r)}%, ${Math.round($)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${toHex(hsv2rgb(n,r,$))}${hexOne(L*255/100)}`;break}default:{const{r:oe,g:ae,b:re}=hsv2rgb(n,r,$);this.value=`rgba(${oe}, ${ae}, ${re}, ${this.get("alpha")/100})`}}else switch(V){case"hsl":{const oe=hsv2hsl(n,r/100,$/100);this.value=`hsl(${n}, ${Math.round(oe[1]*100)}%, ${Math.round(oe[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${n}, ${Math.round(r)}%, ${Math.round($)}%)`;break}case"rgb":{const{r:oe,g:ae,b:re}=hsv2rgb(n,r,$);this.value=`rgb(${oe}, ${ae}, ${re})`;break}default:this.value=toHex(hsv2rgb(n,r,$))}}}const _sfc_main$H=defineComponent({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(g){const n=useNamespace("color-predefine"),{currentColor:r}=inject(colorPickerContextKey),$=ref(V(g.colors,g.color));watch(()=>r.value,oe=>{const ae=new Color;ae.fromString(oe),$.value.forEach(re=>{re.selected=ae.compare(re)})}),watchEffect(()=>{$.value=V(g.colors,g.color)});function L(oe){g.color.fromString(g.colors[oe])}function V(oe,ae){return oe.map(re=>{const le=new Color;return le.enableAlpha=!0,le.format="rgba",le.fromString(re),le.selected=le.value===ae.value,le})}return{rgbaColors:$,handleSelect:L,ns:n}}}),_hoisted_1$q=["onClick"];function _sfc_render$a(g,n,r,$,L,V){return openBlock(),createElementBlock("div",{class:normalizeClass(g.ns.b())},[createBaseVNode("div",{class:normalizeClass(g.ns.e("colors"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.rgbaColors,(oe,ae)=>(openBlock(),createElementBlock("div",{key:g.colors[ae],class:normalizeClass([g.ns.e("color-selector"),g.ns.is("alpha",oe._alpha<100),{selected:oe.selected}]),onClick:re=>g.handleSelect(ae)},[createBaseVNode("div",{style:normalizeStyle$2({backgroundColor:oe.value})},null,4)],10,_hoisted_1$q))),128))],2)],2)}var Predefine=_export_sfc$1(_sfc_main$H,[["render",_sfc_render$a],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const _sfc_main$G=defineComponent({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(g){const n=useNamespace("color-svpanel"),r=getCurrentInstance(),$=ref(0),L=ref(0),V=ref("hsl(0, 100%, 50%)"),oe=computed(()=>{const le=g.color.get("hue"),ue=g.color.get("value");return{hue:le,value:ue}});function ae(){const le=g.color.get("saturation"),ue=g.color.get("value"),de=r.vnode.el,{clientWidth:he,clientHeight:pe}=de;L.value=le*he/100,$.value=(100-ue)*pe/100,V.value=`hsl(${g.color.get("hue")}, 100%, 50%)`}function re(le){const ue=r.vnode.el.getBoundingClientRect(),{clientX:de,clientY:he}=getClientXY(le);let pe=de-ue.left,_e=he-ue.top;pe=Math.max(0,pe),pe=Math.min(pe,ue.width),_e=Math.max(0,_e),_e=Math.min(_e,ue.height),L.value=pe,$.value=_e,g.color.set({saturation:pe/ue.width*100,value:100-_e/ue.height*100})}return watch(()=>oe.value,()=>{ae()}),onMounted(()=>{draggable(r.vnode.el,{drag:le=>{re(le)},end:le=>{re(le)}}),ae()}),{cursorTop:$,cursorLeft:L,background:V,colorValue:oe,handleDrag:re,update:ae,ns:n}}}),_hoisted_1$p=createBaseVNode("div",null,null,-1),_hoisted_2$g=[_hoisted_1$p];function _sfc_render$9(g,n,r,$,L,V){return openBlock(),createElementBlock("div",{class:normalizeClass(g.ns.b()),style:normalizeStyle$2({backgroundColor:g.background})},[createBaseVNode("div",{class:normalizeClass(g.ns.e("white"))},null,2),createBaseVNode("div",{class:normalizeClass(g.ns.e("black"))},null,2),createBaseVNode("div",{class:normalizeClass(g.ns.e("cursor")),style:normalizeStyle$2({top:g.cursorTop+"px",left:g.cursorLeft+"px"})},_hoisted_2$g,6)],6)}var SvPanel=_export_sfc$1(_sfc_main$G,[["render",_sfc_render$9],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const _hoisted_1$o=["id","aria-label","aria-labelledby","aria-description","tabindex","onKeydown"],__default__$o=defineComponent({name:"ElColorPicker"}),_sfc_main$F=defineComponent({...__default__$o,props:colorPickerProps,emits:colorPickerEmits,setup(g,{expose:n,emit:r}){const $=g,{t:L}=useLocale(),V=useNamespace("color"),{formItem:oe}=useFormItem(),ae=useSize(),re=useDisabled(),{inputId:le,isLabeledByFormItem:ue}=useFormItemInputId($,{formItemContext:oe}),de=ref(),he=ref(),pe=ref(),_e=ref();let $e=!0;const xe=reactive(new Color({enableAlpha:$.showAlpha,format:$.colorFormat||"",value:$.modelValue})),Oe=ref(!1),Ce=ref(!1),Ie=ref(""),Ne=computed(()=>!$.modelValue&&!Ce.value?"transparent":At(xe,$.showAlpha)),ze=computed(()=>!$.modelValue&&!Ce.value?"":xe.value),Fe=computed(()=>ue.value?void 0:$.label||L("el.colorpicker.defaultLabel")),Ue=computed(()=>ue.value?oe==null?void 0:oe.labelId:void 0);function At($n,Sn){if(!($n instanceof Color))throw new TypeError("color should be instance of _color Class");const{r:xn,g:On,b:Cn}=$n.toRgb();return Sn?`rgba(${xn}, ${On}, ${Cn}, ${$n.get("alpha")/100})`:`rgb(${xn}, ${On}, ${Cn})`}function Et($n){Oe.value=$n}const Pt=debounce(Et,100);function kt(){Pt(!1),Dt()}function Dt(){nextTick(()=>{$.modelValue?xe.fromString($.modelValue):(xe.value="",nextTick(()=>{Ce.value=!1}))})}function Lt(){re.value||Pt(!Oe.value)}function hn(){xe.fromString(Ie.value)}function vn(){const $n=xe.value;r(UPDATE_MODEL_EVENT,$n),r("change",$n),$.validateEvent&&(oe==null||oe.validate("change").catch(Sn=>{})),Pt(!1),nextTick(()=>{const Sn=new Color({enableAlpha:$.showAlpha,format:$.colorFormat||"",value:$.modelValue});xe.compare(Sn)||Dt()})}function _n(){Pt(!1),r(UPDATE_MODEL_EVENT,null),r("change",null),$.modelValue!==null&&$.validateEvent&&(oe==null||oe.validate("change").catch($n=>{})),Dt()}return onMounted(()=>{$.modelValue&&(Ie.value=ze.value)}),watch(()=>$.modelValue,$n=>{$n?$n&&$n!==xe.value&&($e=!1,xe.fromString($n)):Ce.value=!1}),watch(()=>ze.value,$n=>{Ie.value=$n,$e&&r("activeChange",$n),$e=!0}),watch(()=>xe.value,()=>{!$.modelValue&&!Ce.value&&(Ce.value=!0)}),watch(()=>Oe.value,()=>{nextTick(()=>{var $n,Sn,xn;($n=de.value)==null||$n.update(),(Sn=he.value)==null||Sn.update(),(xn=pe.value)==null||xn.update()})}),provide(colorPickerContextKey,{currentColor:ze}),n({color:xe}),($n,Sn)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"popper",ref:_e,visible:Oe.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[unref(V).be("picker","panel"),unref(V).b("dropdown"),$n.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${unref(V).namespace.value}-zoom-in-top`,persistent:""},{content:withCtx(()=>[withDirectives((openBlock(),createElementBlock("div",null,[createBaseVNode("div",{class:normalizeClass(unref(V).be("dropdown","main-wrapper"))},[createVNode$2(HueSlider,{ref_key:"hue",ref:de,class:"hue-slider",color:unref(xe),vertical:""},null,8,["color"]),createVNode$2(SvPanel,{ref:"svPanel",color:unref(xe)},null,8,["color"])],2),$n.showAlpha?(openBlock(),createBlock(AlphaSlider,{key:0,ref_key:"alpha",ref:pe,color:unref(xe)},null,8,["color"])):createCommentVNode("v-if",!0),$n.predefine?(openBlock(),createBlock(Predefine,{key:1,ref:"predefine",color:unref(xe),colors:$n.predefine},null,8,["color","colors"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(V).be("dropdown","btns"))},[createBaseVNode("span",{class:normalizeClass(unref(V).be("dropdown","value"))},[createVNode$2(unref(ElInput),{modelValue:Ie.value,"onUpdate:modelValue":Sn[0]||(Sn[0]=xn=>Ie.value=xn),"validate-event":!1,size:"small",onKeyup:withKeys(hn,["enter"]),onBlur:hn},null,8,["modelValue","onKeyup"])],2),createVNode$2(unref(ElButton),{class:normalizeClass(unref(V).be("dropdown","link-btn")),text:"",size:"small",onClick:_n},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(L)("el.colorpicker.clear")),1)]),_:1},8,["class"]),createVNode$2(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(V).be("dropdown","btn")),onClick:vn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(L)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)])),[[unref(ClickOutside),kt]])]),default:withCtx(()=>[createBaseVNode("div",{id:unref(le),class:normalizeClass([unref(V).b("picker"),unref(V).is("disabled",unref(re)),unref(V).bm("picker",unref(ae))]),role:"button","aria-label":unref(Fe),"aria-labelledby":unref(Ue),"aria-description":unref(L)("el.colorpicker.description",{color:$n.modelValue||""}),tabindex:$n.tabindex,onKeydown:withKeys(Lt,["enter"])},[unref(re)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(V).be("picker","mask"))},null,2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(V).be("picker","trigger")),onClick:Lt},[createBaseVNode("span",{class:normalizeClass([unref(V).be("picker","color"),unref(V).is("alpha",$n.showAlpha)])},[createBaseVNode("span",{class:normalizeClass(unref(V).be("picker","color-inner")),style:normalizeStyle$2({backgroundColor:unref(Ne)})},[withDirectives(createVNode$2(unref(ElIcon),{class:normalizeClass([unref(V).be("picker","icon"),unref(V).is("icon-arrow-down")])},{default:withCtx(()=>[createVNode$2(unref(arrow_down_default))]),_:1},8,["class"]),[[vShow,$n.modelValue||Ce.value]]),!$n.modelValue&&!Ce.value?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(V).be("picker","empty"),unref(V).is("icon-close")])},{default:withCtx(()=>[createVNode$2(unref(close_default))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],6)],2)],2)],42,_hoisted_1$o)]),_:1},8,["visible","popper-class","transition"]))}});var ColorPicker=_export_sfc$1(_sfc_main$F,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue"]]);let messageConfig,configProviderProps;ElColorPicker=withInstall(ColorPicker),messageConfig={},configProviderProps=buildProps({a11y:{type:Boolean,default:!0},locale:{type:definePropType(Object)},size:useSizeProp,button:{type:definePropType(Object)},experimentalFeatures:{type:definePropType(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:definePropType(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),defineComponent({name:"ElConfigProvider",props:configProviderProps,setup(g,{slots:n}){watch(()=>g.message,$=>{Object.assign(messageConfig,$!=null?$:{})},{immediate:!0,deep:!0});const r=provideGlobalConfig(g);return()=>renderSlot(n,"default",{config:r==null?void 0:r.value})}});var advancedFormat$1={exports:{}};(function(g,n){(function(r,$){g.exports=$()})(commonjsGlobal,function(){return function(r,$){var L=$.prototype,V=L.format;L.format=function(oe){var ae=this,re=this.$locale();if(!this.isValid())return V.bind(this)(oe);var le=this.$utils(),ue=(oe||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(de){switch(de){case"Q":return Math.ceil((ae.$M+1)/3);case"Do":return re.ordinal(ae.$D);case"gggg":return ae.weekYear();case"GGGG":return ae.isoWeekYear();case"wo":return re.ordinal(ae.week(),"W");case"w":case"ww":return le.s(ae.week(),de==="w"?1:2,"0");case"W":case"WW":return le.s(ae.isoWeek(),de==="W"?1:2,"0");case"k":case"kk":return le.s(String(ae.$H===0?24:ae.$H),de==="k"?1:2,"0");case"X":return Math.floor(ae.$d.getTime()/1e3);case"x":return ae.$d.getTime();case"z":return"["+ae.offsetName()+"]";case"zzz":return"["+ae.offsetName("long")+"]";default:return de}});return V.bind(this)(ue)}}})})(advancedFormat$1);const advancedFormat=advancedFormat$1.exports;var weekOfYear$1={exports:{}};(function(g,n){(function(r,$){g.exports=$()})(commonjsGlobal,function(){var r="week",$="year";return function(L,V,oe){var ae=V.prototype;ae.week=function(re){if(re===void 0&&(re=null),re!==null)return this.add(7*(re-this.week()),"day");var le=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var ue=oe(this).startOf($).add(1,$).date(le),de=oe(this).endOf(r);if(ue.isBefore(de))return 1}var he=oe(this).startOf($).date(le).startOf(r).subtract(1,"millisecond"),pe=this.diff(he,r,!0);return pe<0?oe(this).startOf("week").week():Math.ceil(pe)},ae.weeks=function(re){return re===void 0&&(re=null),this.week(re)}}})})(weekOfYear$1);const weekOfYear=weekOfYear$1.exports;var weekYear$1={exports:{}};(function(g,n){(function(r,$){g.exports=$()})(commonjsGlobal,function(){return function(r,$){$.prototype.weekYear=function(){var L=this.month(),V=this.week(),oe=this.year();return V===1&&L===11?oe+1:L===0&&V>=52?oe-1:oe}}})})(weekYear$1);const weekYear=weekYear$1.exports;var dayOfYear$1={exports:{}};(function(g,n){(function(r,$){g.exports=$()})(commonjsGlobal,function(){return function(r,$,L){$.prototype.dayOfYear=function(V){var oe=Math.round((L(this).startOf("day")-L(this).startOf("year"))/864e5)+1;return V==null?oe:this.add(V-oe,"day")}}})})(dayOfYear$1);const dayOfYear=dayOfYear$1.exports;var isSameOrAfter$1={exports:{}};(function(g,n){(function(r,$){g.exports=$()})(commonjsGlobal,function(){return function(r,$){$.prototype.isSameOrAfter=function(L,V){return this.isSame(L,V)||this.isAfter(L,V)}}})})(isSameOrAfter$1);const isSameOrAfter=isSameOrAfter$1.exports;var isSameOrBefore$1={exports:{}};(function(g,n){(function(r,$){g.exports=$()})(commonjsGlobal,function(){return function(r,$){$.prototype.isSameOrBefore=function(L,V){return this.isSame(L,V)||this.isBefore(L,V)}}})})(isSameOrBefore$1);const isSameOrBefore=isSameOrBefore$1.exports,datePickerProps=buildProps({type:{type:definePropType(String),default:"date"}}),selectionModes=["date","dates","year","month","week","range"],datePickerSharedProps=buildProps({disabledDate:{type:definePropType(Function)},date:{type:definePropType(Object),required:!0},minDate:{type:definePropType(Object)},maxDate:{type:definePropType(Object)},parsedValue:{type:definePropType([Object,Array])},rangeState:{type:definePropType(Object),default:()=>({endDate:null,selecting:!1})}}),panelSharedProps=buildProps({type:{type:definePropType(String),required:!0,values:datePickTypes}}),panelRangeSharedProps=buildProps({unlinkPanels:Boolean,parsedValue:{type:definePropType(Array)}}),selectionModeWithDefault=g=>({type:String,values:selectionModes,default:g}),panelDatePickProps=buildProps({...panelSharedProps,parsedValue:{type:definePropType([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),basicDateTableProps=buildProps({...datePickerSharedProps,cellClassName:{type:definePropType(Function)},showWeekNumber:Boolean,selectionMode:selectionModeWithDefault("date")}),isValidRange=g=>{if(!isArray$9(g))return!1;const[n,r]=g;return dayjs.isDayjs(n)&&dayjs.isDayjs(r)&&n.isSameOrBefore(r)},getDefaultValue=(g,{lang:n,unit:r,unlinkPanels:$})=>{let L;if(isArray$9(g)){let[V,oe]=g.map(ae=>dayjs(ae).locale(n));return $||(oe=V.add(1,r)),[V,oe]}else g?L=dayjs(g):L=dayjs();return L=L.locale(n),[L,L.add(1,r)]},buildPickerTable=(g,n,{columnIndexOffset:r,startDate:$,nextEndDate:L,now:V,unit:oe,relativeDateGetter:ae,setCellMetadata:re,setRowMetadata:le})=>{for(let ue=0;ue<g.row;ue++){const de=n[ue];for(let he=0;he<g.column;he++){let pe=de[he+r];pe||(pe={row:ue,column:he,type:"normal",inRange:!1,start:!1,end:!1});const _e=ue*g.column+he,$e=ae(_e);pe.dayjs=$e,pe.date=$e.toDate(),pe.timestamp=$e.valueOf(),pe.type="normal",pe.inRange=!!($&&$e.isSameOrAfter($,oe)&&L&&$e.isSameOrBefore(L,oe))||!!($&&$e.isSameOrBefore($,oe)&&L&&$e.isSameOrAfter(L,oe)),$!=null&&$.isSameOrAfter(L)?(pe.start=!!L&&$e.isSame(L,oe),pe.end=$&&$e.isSame($,oe)):(pe.start=!!$&&$e.isSame($,oe),pe.end=!!L&&$e.isSame(L,oe)),$e.isSame(V,oe)&&(pe.type="today"),re==null||re(pe,{rowIndex:ue,columnIndex:he}),de[he+r]=pe}le==null||le(de)}},basicCellProps=buildProps({cell:{type:definePropType(Object)}});var ElDatePickerCell=defineComponent({name:"ElDatePickerCell",props:basicCellProps,setup(g){const n=useNamespace("date-table-cell"),{slots:r}=inject(ROOT_PICKER_INJECTION_KEY);return()=>{const{cell:$}=g;if(r.default){const L=r.default($).filter(V=>V.patchFlag!==-2&&V.type.toString()!=="Symbol(Comment)");if(L.length)return L}return createVNode$2("div",{class:n.b()},[createVNode$2("span",{class:n.e("text")},[$==null?void 0:$.text])])}}});const _hoisted_1$n=["aria-label"],_hoisted_2$f={key:0,scope:"col"},_hoisted_3$9=["aria-label"],_hoisted_4$5=["aria-current","aria-selected","tabindex"],_sfc_main$E=defineComponent({__name:"basic-date-table",props:basicDateTableProps,emits:["changerange","pick","select"],setup(g,{expose:n,emit:r}){const $=g,L=useNamespace("date-table"),{t:V,lang:oe}=useLocale(),ae=ref(),re=ref(),le=ref(),ue=ref(),de=ref([[],[],[],[],[],[]]);let he=!1;const pe=$.date.$locale().weekStart||7,_e=$.date.locale("en").localeData().weekdaysShort().map(An=>An.toLowerCase()),$e=computed(()=>pe>3?7-pe:-pe),xe=computed(()=>{const An=$.date.startOf("month");return An.subtract(An.day()||7,"day")}),Oe=computed(()=>_e.concat(_e).slice(pe,pe+7)),Ce=computed(()=>flatten$1(At.value).some(An=>An.isCurrent)),Ie=computed(()=>{const An=$.date.startOf("month"),Rn=An.day()||7,Fn=An.daysInMonth(),Pn=An.subtract(1,"month").daysInMonth();return{startOfMonthDay:Rn,dateCountOfMonth:Fn,dateCountOfLastMonth:Pn}}),Ne=computed(()=>$.selectionMode==="dates"?castArray($.parsedValue):[]),ze=(An,{count:Rn,rowIndex:Fn,columnIndex:Pn})=>{const{startOfMonthDay:Un,dateCountOfMonth:Dn,dateCountOfLastMonth:kn}=unref(Ie),Nn=unref($e);if(Fn>=0&&Fn<=1){const Vn=Un+Nn<0?7+Un+Nn:Un+Nn;if(Pn+Fn*7>=Vn)return An.text=Rn,!0;An.text=kn-(Vn-Pn%7)+1+Fn*7,An.type="prev-month"}else return Rn<=Dn?An.text=Rn:(An.text=Rn-Dn,An.type="next-month"),!0;return!1},Fe=(An,{columnIndex:Rn,rowIndex:Fn},Pn)=>{const{disabledDate:Un,cellClassName:Dn}=$,kn=unref(Ne),Nn=ze(An,{count:Pn,rowIndex:Fn,columnIndex:Rn}),Vn=An.dayjs.toDate();return An.selected=kn.find(Ln=>Ln.valueOf()===An.dayjs.valueOf()),An.isSelected=!!An.selected,An.isCurrent=kt(An),An.disabled=Un==null?void 0:Un(Vn),An.customClass=Dn==null?void 0:Dn(Vn),Nn},Ue=An=>{if($.selectionMode==="week"){const[Rn,Fn]=$.showWeekNumber?[1,7]:[0,6],Pn=Cn(An[Rn+1]);An[Rn].inRange=Pn,An[Rn].start=Pn,An[Fn].inRange=Pn,An[Fn].end=Pn}},At=computed(()=>{const{minDate:An,maxDate:Rn,rangeState:Fn,showWeekNumber:Pn}=$,Un=$e.value,Dn=de.value,kn="day";let Nn=1;if(Pn)for(let Vn=0;Vn<6;Vn++)Dn[Vn][0]||(Dn[Vn][0]={type:"week",text:xe.value.add(Vn*7+1,kn).week()});return buildPickerTable({row:6,column:7},Dn,{startDate:An,columnIndexOffset:Pn?1:0,nextEndDate:Fn.endDate||Rn||Fn.selecting&&An||null,now:dayjs().locale(unref(oe)).startOf(kn),unit:kn,relativeDateGetter:Vn=>xe.value.add(Vn-Un,kn),setCellMetadata:(...Vn)=>{Fe(...Vn,Nn)&&(Nn+=1)},setRowMetadata:Ue}),Dn});watch(()=>$.date,async()=>{var An,Rn;(An=ae.value)!=null&&An.contains(document.activeElement)&&(await nextTick(),(Rn=re.value)==null||Rn.focus())});const Et=async()=>{var An;(An=re.value)==null||An.focus()},Pt=(An="")=>["normal","today"].includes(An),kt=An=>$.selectionMode==="date"&&Pt(An.type)&&Dt(An,$.parsedValue),Dt=(An,Rn)=>Rn?dayjs(Rn).locale(oe.value).isSame($.date.date(Number(An.text)),"day"):!1,Lt=An=>{const Rn=[];return Pt(An.type)&&!An.disabled?(Rn.push("available"),An.type==="today"&&Rn.push("today")):Rn.push(An.type),kt(An)&&Rn.push("current"),An.inRange&&(Pt(An.type)||$.selectionMode==="week")&&(Rn.push("in-range"),An.start&&Rn.push("start-date"),An.end&&Rn.push("end-date")),An.disabled&&Rn.push("disabled"),An.selected&&Rn.push("selected"),An.customClass&&Rn.push(An.customClass),Rn.join(" ")},hn=(An,Rn)=>{const Fn=An*7+(Rn-($.showWeekNumber?1:0))-$e.value;return xe.value.add(Fn,"day")},vn=An=>{var Rn;if(!$.rangeState.selecting)return;let Fn=An.target;if(Fn.tagName==="SPAN"&&(Fn=(Rn=Fn.parentNode)==null?void 0:Rn.parentNode),Fn.tagName==="DIV"&&(Fn=Fn.parentNode),Fn.tagName!=="TD")return;const Pn=Fn.parentNode.rowIndex-1,Un=Fn.cellIndex;At.value[Pn][Un].disabled||(Pn!==le.value||Un!==ue.value)&&(le.value=Pn,ue.value=Un,r("changerange",{selecting:!0,endDate:hn(Pn,Un)}))},_n=An=>!Ce.value&&(An==null?void 0:An.text)===1&&An.type==="normal"||An.isCurrent,$n=An=>{he||Ce.value||$.selectionMode!=="date"||On(An,!0)},Sn=An=>{!An.target.closest("td")||(he=!0)},xn=An=>{!An.target.closest("td")||(he=!1)},On=(An,Rn=!1)=>{const Fn=An.target.closest("td");if(!Fn)return;const Pn=Fn.parentNode.rowIndex-1,Un=Fn.cellIndex,Dn=At.value[Pn][Un];if(Dn.disabled||Dn.type==="week")return;const kn=hn(Pn,Un);if($.selectionMode==="range")!$.rangeState.selecting||!$.minDate?(r("pick",{minDate:kn,maxDate:null}),r("select",!0)):(kn>=$.minDate?r("pick",{minDate:$.minDate,maxDate:kn}):r("pick",{minDate:kn,maxDate:$.minDate}),r("select",!1));else if($.selectionMode==="date")r("pick",kn,Rn);else if($.selectionMode==="week"){const Nn=kn.week(),Vn=`${kn.year()}w${Nn}`;r("pick",{year:kn.year(),week:Nn,value:Vn,date:kn.startOf("week")})}else if($.selectionMode==="dates"){const Nn=Dn.selected?castArray($.parsedValue).filter(Vn=>(Vn==null?void 0:Vn.valueOf())!==kn.valueOf()):castArray($.parsedValue).concat([kn]);r("pick",Nn)}},Cn=An=>{if($.selectionMode!=="week")return!1;let Rn=$.date.startOf("day");if(An.type==="prev-month"&&(Rn=Rn.subtract(1,"month")),An.type==="next-month"&&(Rn=Rn.add(1,"month")),Rn=Rn.date(Number.parseInt(An.text,10)),$.parsedValue&&!Array.isArray($.parsedValue)){const Fn=($.parsedValue.day()-pe+7)%7-1;return $.parsedValue.subtract(Fn,"day").isSame(Rn,"day")}return!1};return n({focus:Et}),(An,Rn)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref(V)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:normalizeClass([unref(L).b(),{"is-week-mode":An.selectionMode==="week"}]),onClick:On,onMousemove:vn,onMousedown:Sn,onMouseup:xn},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:ae},[createBaseVNode("tr",null,[An.showWeekNumber?(openBlock(),createElementBlock("th",_hoisted_2$f,toDisplayString(unref(V)("el.datepicker.week")),1)):createCommentVNode("v-if",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Oe),(Fn,Pn)=>(openBlock(),createElementBlock("th",{key:Pn,scope:"col","aria-label":unref(V)("el.datepicker.weeksFull."+Fn)},toDisplayString(unref(V)("el.datepicker.weeks."+Fn)),9,_hoisted_3$9))),128))]),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(At),(Fn,Pn)=>(openBlock(),createElementBlock("tr",{key:Pn,class:normalizeClass([unref(L).e("row"),{current:Cn(Fn[1])}])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Fn,(Un,Dn)=>(openBlock(),createElementBlock("td",{key:`${Pn}.${Dn}`,ref_for:!0,ref:kn=>_n(Un)&&(re.value=kn),class:normalizeClass(Lt(Un)),"aria-current":Un.isCurrent?"date":void 0,"aria-selected":Un.isCurrent,tabindex:_n(Un)?0:-1,onFocus:$n},[createVNode$2(unref(ElDatePickerCell),{cell:Un},null,8,["cell"])],42,_hoisted_4$5))),128))],2))),128))],512)],42,_hoisted_1$n))}});var DateTable=_export_sfc$1(_sfc_main$E,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const basicMonthTableProps=buildProps({...datePickerSharedProps,selectionMode:selectionModeWithDefault("month")}),_hoisted_1$m=["aria-label"],_hoisted_2$e=["aria-selected","aria-label","tabindex","onKeydown"],_hoisted_3$8={class:"cell"},_sfc_main$D=defineComponent({__name:"basic-month-table",props:basicMonthTableProps,emits:["changerange","pick","select"],setup(g,{expose:n,emit:r}){const $=g,L=(Ne,ze,Fe)=>{const Ue=dayjs().locale(Fe).startOf("month").month(ze).year(Ne),At=Ue.daysInMonth();return rangeArr(At).map(Et=>Ue.add(Et,"day").toDate())},V=useNamespace("month-table"),{t:oe,lang:ae}=useLocale(),re=ref(),le=ref(),ue=ref($.date.locale("en").localeData().monthsShort().map(Ne=>Ne.toLowerCase())),de=ref([[],[],[]]),he=ref(),pe=ref(),_e=computed(()=>{var Ne,ze;const Fe=de.value,Ue=dayjs().locale(ae.value).startOf("month");for(let At=0;At<3;At++){const Et=Fe[At];for(let Pt=0;Pt<4;Pt++){const kt=Et[Pt]||(Et[Pt]={row:At,column:Pt,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});kt.type="normal";const Dt=At*4+Pt,Lt=$.date.startOf("year").month(Dt),hn=$.rangeState.endDate||$.maxDate||$.rangeState.selecting&&$.minDate||null;kt.inRange=!!($.minDate&&Lt.isSameOrAfter($.minDate,"month")&&hn&&Lt.isSameOrBefore(hn,"month"))||!!($.minDate&&Lt.isSameOrBefore($.minDate,"month")&&hn&&Lt.isSameOrAfter(hn,"month")),(Ne=$.minDate)!=null&&Ne.isSameOrAfter(hn)?(kt.start=!!(hn&&Lt.isSame(hn,"month")),kt.end=$.minDate&&Lt.isSame($.minDate,"month")):(kt.start=!!($.minDate&&Lt.isSame($.minDate,"month")),kt.end=!!(hn&&Lt.isSame(hn,"month"))),Ue.isSame(Lt)&&(kt.type="today"),kt.text=Dt,kt.disabled=((ze=$.disabledDate)==null?void 0:ze.call($,Lt.toDate()))||!1}}return Fe}),$e=()=>{var Ne;(Ne=le.value)==null||Ne.focus()},xe=Ne=>{const ze={},Fe=$.date.year(),Ue=new Date,At=Ne.text;return ze.disabled=$.disabledDate?L(Fe,At,ae.value).every($.disabledDate):!1,ze.current=castArray($.parsedValue).findIndex(Et=>dayjs.isDayjs(Et)&&Et.year()===Fe&&Et.month()===At)>=0,ze.today=Ue.getFullYear()===Fe&&Ue.getMonth()===At,Ne.inRange&&(ze["in-range"]=!0,Ne.start&&(ze["start-date"]=!0),Ne.end&&(ze["end-date"]=!0)),ze},Oe=Ne=>{const ze=$.date.year(),Fe=Ne.text;return castArray($.date).findIndex(Ue=>Ue.year()===ze&&Ue.month()===Fe)>=0},Ce=Ne=>{var ze;if(!$.rangeState.selecting)return;let Fe=Ne.target;if(Fe.tagName==="A"&&(Fe=(ze=Fe.parentNode)==null?void 0:ze.parentNode),Fe.tagName==="DIV"&&(Fe=Fe.parentNode),Fe.tagName!=="TD")return;const Ue=Fe.parentNode.rowIndex,At=Fe.cellIndex;_e.value[Ue][At].disabled||(Ue!==he.value||At!==pe.value)&&(he.value=Ue,pe.value=At,r("changerange",{selecting:!0,endDate:$.date.startOf("year").month(Ue*4+At)}))},Ie=Ne=>{var ze;const Fe=(ze=Ne.target)==null?void 0:ze.closest("td");if((Fe==null?void 0:Fe.tagName)!=="TD"||hasClass(Fe,"disabled"))return;const Ue=Fe.cellIndex,At=Fe.parentNode.rowIndex*4+Ue,Et=$.date.startOf("year").month(At);$.selectionMode==="range"?$.rangeState.selecting?($.minDate&&Et>=$.minDate?r("pick",{minDate:$.minDate,maxDate:Et}):r("pick",{minDate:Et,maxDate:$.minDate}),r("select",!1)):(r("pick",{minDate:Et,maxDate:null}),r("select",!0)):r("pick",At)};return watch(()=>$.date,async()=>{var Ne,ze;(Ne=re.value)!=null&&Ne.contains(document.activeElement)&&(await nextTick(),(ze=le.value)==null||ze.focus())}),n({focus:$e}),(Ne,ze)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref(oe)("el.datepicker.monthTablePrompt"),class:normalizeClass(unref(V).b()),onClick:Ie,onMousemove:Ce},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:re},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(_e),(Fe,Ue)=>(openBlock(),createElementBlock("tr",{key:Ue},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Fe,(At,Et)=>(openBlock(),createElementBlock("td",{key:Et,ref_for:!0,ref:Pt=>Oe(At)&&(le.value=Pt),class:normalizeClass(xe(At)),"aria-selected":`${Oe(At)}`,"aria-label":unref(oe)(`el.datepicker.month${+At.text+1}`),tabindex:Oe(At)?0:-1,onKeydown:[withKeys(withModifiers(Ie,["prevent","stop"]),["space"]),withKeys(withModifiers(Ie,["prevent","stop"]),["enter"])]},[createBaseVNode("div",null,[createBaseVNode("span",_hoisted_3$8,toDisplayString(unref(oe)("el.datepicker.months."+ue.value[At.text])),1)])],42,_hoisted_2$e))),128))]))),128))],512)],42,_hoisted_1$m))}});var MonthTable=_export_sfc$1(_sfc_main$D,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:date$1,disabledDate,parsedValue}=datePickerSharedProps,basicYearTableProps=buildProps({date:date$1,disabledDate,parsedValue}),_hoisted_1$l=["aria-label"],_hoisted_2$d=["aria-selected","tabindex","onKeydown"],_hoisted_3$7={class:"cell"},_hoisted_4$4={key:1},_sfc_main$C=defineComponent({__name:"basic-year-table",props:basicYearTableProps,emits:["pick"],setup(g,{expose:n,emit:r}){const $=g,L=($e,xe)=>{const Oe=dayjs(String($e)).locale(xe).startOf("year"),Ce=Oe.endOf("year").dayOfYear();return rangeArr(Ce).map(Ie=>Oe.add(Ie,"day").toDate())},V=useNamespace("year-table"),{t:oe,lang:ae}=useLocale(),re=ref(),le=ref(),ue=computed(()=>Math.floor($.date.year()/10)*10),de=()=>{var $e;($e=le.value)==null||$e.focus()},he=$e=>{const xe={},Oe=dayjs().locale(ae.value);return xe.disabled=$.disabledDate?L($e,ae.value).every($.disabledDate):!1,xe.current=castArray($.parsedValue).findIndex(Ce=>Ce.year()===$e)>=0,xe.today=Oe.year()===$e,xe},pe=$e=>$e===ue.value&&$.date.year()<ue.value&&$.date.year()>ue.value+9||castArray($.date).findIndex(xe=>xe.year()===$e)>=0,_e=$e=>{const xe=$e.target.closest("td");if(xe&&xe.textContent){if(hasClass(xe,"disabled"))return;const Oe=xe.textContent||xe.innerText;r("pick",Number(Oe))}};return watch(()=>$.date,async()=>{var $e,xe;($e=re.value)!=null&&$e.contains(document.activeElement)&&(await nextTick(),(xe=le.value)==null||xe.focus())}),n({focus:de}),($e,xe)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref(oe)("el.datepicker.yearTablePrompt"),class:normalizeClass(unref(V).b()),onClick:_e},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:re},[(openBlock(),createElementBlock(Fragment,null,renderList(3,(Oe,Ce)=>createBaseVNode("tr",{key:Ce},[(openBlock(),createElementBlock(Fragment,null,renderList(4,(Ie,Ne)=>(openBlock(),createElementBlock(Fragment,{key:Ce+"_"+Ne},[Ce*4+Ne<10?(openBlock(),createElementBlock("td",{key:0,ref_for:!0,ref:ze=>pe(unref(ue)+Ce*4+Ne)&&(le.value=ze),class:normalizeClass(["available",he(unref(ue)+Ce*4+Ne)]),"aria-selected":`${pe(unref(ue)+Ce*4+Ne)}`,tabindex:pe(unref(ue)+Ce*4+Ne)?0:-1,onKeydown:[withKeys(withModifiers(_e,["prevent","stop"]),["space"]),withKeys(withModifiers(_e,["prevent","stop"]),["enter"])]},[createBaseVNode("span",_hoisted_3$7,toDisplayString(unref(ue)+Ce*4+Ne),1)],42,_hoisted_2$d)):(openBlock(),createElementBlock("td",_hoisted_4$4))],64))),64))])),64))],512)],10,_hoisted_1$l))}});var YearTable=_export_sfc$1(_sfc_main$C,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const _hoisted_1$k=["onClick"],_hoisted_2$c=["aria-label"],_hoisted_3$6=["aria-label"],_hoisted_4$3=["aria-label"],_hoisted_5$3=["aria-label"],_sfc_main$B=defineComponent({__name:"panel-date-pick",props:panelDatePickProps,emits:["pick","set-picker-option","panel-change"],setup(g,{emit:n}){const r=g,$=(Wn,ii,Hn)=>!0,L=useNamespace("picker-panel"),V=useNamespace("date-picker"),oe=useAttrs$1(),ae=useSlots(),{t:re,lang:le}=useLocale(),ue=inject("EP_PICKER_BASE"),de=inject(TOOLTIP_INJECTION_KEY),{shortcuts:he,disabledDate:pe,cellClassName:_e,defaultTime:$e,arrowControl:xe}=ue.props,Oe=toRef(ue.props,"defaultValue"),Ce=ref(),Ie=ref(dayjs().locale(le.value)),Ne=computed(()=>dayjs($e).locale(le.value)),ze=computed(()=>Ie.value.month()),Fe=computed(()=>Ie.value.year()),Ue=ref([]),At=ref(null),Et=ref(null),Pt=Wn=>Ue.value.length>0?$(Wn,Ue.value,r.format||"HH:mm:ss"):!0,kt=Wn=>$e&&!Ln.value?Ne.value.year(Wn.year()).month(Wn.month()).date(Wn.date()):Pn.value?Wn.millisecond(0):Wn.startOf("day"),Dt=(Wn,...ii)=>{if(!Wn)n("pick",Wn,...ii);else if(isArray$9(Wn)){const Hn=Wn.map(kt);n("pick",Hn,...ii)}else n("pick",kt(Wn),...ii);At.value=null,Et.value=null},Lt=(Wn,ii)=>{if(xn.value==="date"){Wn=Wn;let Hn=r.parsedValue?r.parsedValue.year(Wn.year()).month(Wn.month()).date(Wn.date()):Wn;Pt(Hn)||(Hn=Ue.value[0][0].year(Wn.year()).month(Wn.month()).date(Wn.date())),Ie.value=Hn,Dt(Hn,Pn.value||ii)}else xn.value==="week"?Dt(Wn.date):xn.value==="dates"&&Dt(Wn,!0)},hn=Wn=>{const ii=Wn?"add":"subtract";Ie.value=Ie.value[ii](1,"month"),pi("month")},vn=Wn=>{const ii=Ie.value,Hn=Wn?"add":"subtract";Ie.value=_n.value==="year"?ii[Hn](10,"year"):ii[Hn](1,"year"),pi("year")},_n=ref("date"),$n=computed(()=>{const Wn=re("el.datepicker.year");if(_n.value==="year"){const ii=Math.floor(Fe.value/10)*10;return Wn?`${ii} ${Wn} - ${ii+9} ${Wn}`:`${ii} - ${ii+9}`}return`${Fe.value} ${Wn}`}),Sn=Wn=>{const ii=isFunction$5(Wn.value)?Wn.value():Wn.value;if(ii){Dt(dayjs(ii).locale(le.value));return}Wn.onClick&&Wn.onClick({attrs:oe,slots:ae,emit:n})},xn=computed(()=>{const{type:Wn}=r;return["week","month","year","dates"].includes(Wn)?Wn:"date"}),On=computed(()=>xn.value==="date"?_n.value:xn.value),Cn=computed(()=>!!he.length),An=async Wn=>{Ie.value=Ie.value.startOf("month").month(Wn),xn.value==="month"?Dt(Ie.value,!1):(_n.value="date",["month","year","date","week"].includes(xn.value)&&(Dt(Ie.value,!0),await nextTick(),mi())),pi("month")},Rn=async Wn=>{xn.value==="year"?(Ie.value=Ie.value.startOf("year").year(Wn),Dt(Ie.value,!1)):(Ie.value=Ie.value.year(Wn),_n.value="month",["month","year","date","week"].includes(xn.value)&&(Dt(Ie.value,!0),await nextTick(),mi())),pi("year")},Fn=async Wn=>{_n.value=Wn,await nextTick(),mi()},Pn=computed(()=>r.type==="datetime"||r.type==="datetimerange"),Un=computed(()=>Pn.value||xn.value==="dates"),Dn=()=>{if(xn.value==="dates")Dt(r.parsedValue);else{let Wn=r.parsedValue;if(!Wn){const ii=dayjs($e).locale(le.value),Hn=di();Wn=ii.year(Hn.year()).month(Hn.month()).date(Hn.date())}Ie.value=Wn,Dt(Wn)}},kn=()=>{const Wn=dayjs().locale(le.value).toDate();(!pe||!pe(Wn))&&Pt(Wn)&&(Ie.value=dayjs().locale(le.value),Dt(Ie.value))},Nn=computed(()=>extractTimeFormat(r.format)),Vn=computed(()=>extractDateFormat(r.format)),Ln=computed(()=>{if(Et.value)return Et.value;if(!(!r.parsedValue&&!Oe.value))return(r.parsedValue||Ie.value).format(Nn.value)}),Tn=computed(()=>{if(At.value)return At.value;if(!(!r.parsedValue&&!Oe.value))return(r.parsedValue||Ie.value).format(Vn.value)}),In=ref(!1),Bn=()=>{In.value=!0},Qn=()=>{In.value=!1},Zn=Wn=>({hour:Wn.hour(),minute:Wn.minute(),second:Wn.second(),year:Wn.year(),month:Wn.month(),date:Wn.date()}),Kn=(Wn,ii,Hn)=>{const{hour:oi,minute:zn,second:Yn}=Zn(Wn),ai=r.parsedValue?r.parsedValue.hour(oi).minute(zn).second(Yn):Wn;Ie.value=ai,Dt(Ie.value,!0),Hn||(In.value=ii)},ui=Wn=>{const ii=dayjs(Wn,Nn.value).locale(le.value);if(ii.isValid()&&Pt(ii)){const{year:Hn,month:oi,date:zn}=Zn(Ie.value);Ie.value=ii.year(Hn).month(oi).date(zn),Et.value=null,In.value=!1,Dt(Ie.value,!0)}},ei=Wn=>{const ii=dayjs(Wn,Vn.value).locale(le.value);if(ii.isValid()){if(pe&&pe(ii.toDate()))return;const{hour:Hn,minute:oi,second:zn}=Zn(Ie.value);Ie.value=ii.hour(Hn).minute(oi).second(zn),At.value=null,Dt(Ie.value,!0)}},si=Wn=>dayjs.isDayjs(Wn)&&Wn.isValid()&&(pe?!pe(Wn.toDate()):!0),ti=Wn=>xn.value==="dates"?Wn.map(ii=>ii.format(r.format)):Wn.format(r.format),Jn=Wn=>dayjs(Wn,r.format).locale(le.value),di=()=>{const Wn=dayjs(Oe.value).locale(le.value);if(!Oe.value){const ii=Ne.value;return dayjs().hour(ii.hour()).minute(ii.minute()).second(ii.second()).locale(le.value)}return Wn},mi=async()=>{var Wn;["week","month","year","date"].includes(xn.value)&&((Wn=Ce.value)==null||Wn.focus(),xn.value==="week"&&$i(EVENT_CODE.down))},yi=Wn=>{const{code:ii}=Wn;[EVENT_CODE.up,EVENT_CODE.down,EVENT_CODE.left,EVENT_CODE.right,EVENT_CODE.home,EVENT_CODE.end,EVENT_CODE.pageUp,EVENT_CODE.pageDown].includes(ii)&&($i(ii),Wn.stopPropagation(),Wn.preventDefault()),[EVENT_CODE.enter,EVENT_CODE.space].includes(ii)&&At.value===null&&Et.value===null&&(Wn.preventDefault(),Dt(Ie.value,!1))},$i=Wn=>{var ii;const{up:Hn,down:oi,left:zn,right:Yn,home:ai,end:hi,pageUp:Ti,pageDown:Bi}=EVENT_CODE,Gi={year:{[Hn]:-4,[oi]:4,[zn]:-1,[Yn]:1,offset:(ki,to)=>ki.setFullYear(ki.getFullYear()+to)},month:{[Hn]:-4,[oi]:4,[zn]:-1,[Yn]:1,offset:(ki,to)=>ki.setMonth(ki.getMonth()+to)},week:{[Hn]:-1,[oi]:1,[zn]:-1,[Yn]:1,offset:(ki,to)=>ki.setDate(ki.getDate()+to*7)},date:{[Hn]:-7,[oi]:7,[zn]:-1,[Yn]:1,[ai]:ki=>-ki.getDay(),[hi]:ki=>-ki.getDay()+6,[Ti]:ki=>-new Date(ki.getFullYear(),ki.getMonth(),0).getDate(),[Bi]:ki=>new Date(ki.getFullYear(),ki.getMonth()+1,0).getDate(),offset:(ki,to)=>ki.setDate(ki.getDate()+to)}},eo=Ie.value.toDate();for(;Math.abs(Ie.value.diff(eo,"year",!0))<1;){const ki=Gi[On.value];if(!ki)return;if(ki.offset(eo,isFunction$5(ki[Wn])?ki[Wn](eo):(ii=ki[Wn])!=null?ii:0),pe&&pe(eo))break;const to=dayjs(eo).locale(le.value);Ie.value=to,n("pick",to,!0);break}},pi=Wn=>{n("panel-change",Ie.value.toDate(),Wn,_n.value)};return watch(()=>xn.value,Wn=>{if(["month","year"].includes(Wn)){_n.value=Wn;return}_n.value="date"},{immediate:!0}),watch(()=>_n.value,()=>{de==null||de.updatePopper()}),watch(()=>Oe.value,Wn=>{Wn&&(Ie.value=di())},{immediate:!0}),watch(()=>r.parsedValue,Wn=>{if(Wn){if(xn.value==="dates"||Array.isArray(Wn))return;Ie.value=Wn}else Ie.value=di()},{immediate:!0}),n("set-picker-option",["isValidValue",si]),n("set-picker-option",["formatToString",ti]),n("set-picker-option",["parseUserInput",Jn]),n("set-picker-option",["handleFocusPicker",mi]),(Wn,ii)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(L).b(),unref(V).b(),{"has-sidebar":Wn.$slots.sidebar||unref(Cn),"has-time":unref(Pn)}])},[createBaseVNode("div",{class:normalizeClass(unref(L).e("body-wrapper"))},[renderSlot(Wn.$slots,"sidebar",{class:normalizeClass(unref(L).e("sidebar"))}),unref(Cn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(L).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(he),(Hn,oi)=>(openBlock(),createElementBlock("button",{key:oi,type:"button",class:normalizeClass(unref(L).e("shortcut")),onClick:zn=>Sn(Hn)},toDisplayString(Hn.text),11,_hoisted_1$k))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(L).e("body"))},[unref(Pn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(V).e("time-header"))},[createBaseVNode("span",{class:normalizeClass(unref(V).e("editor-wrap"))},[createVNode$2(unref(ElInput),{placeholder:unref(re)("el.datepicker.selectDate"),"model-value":unref(Tn),size:"small","validate-event":!1,onInput:ii[0]||(ii[0]=Hn=>At.value=Hn),onChange:ei},null,8,["placeholder","model-value"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(V).e("editor-wrap"))},[createVNode$2(unref(ElInput),{placeholder:unref(re)("el.datepicker.selectTime"),"model-value":unref(Ln),size:"small","validate-event":!1,onFocus:Bn,onInput:ii[1]||(ii[1]=Hn=>Et.value=Hn),onChange:ui},null,8,["placeholder","model-value"]),createVNode$2(unref(TimePickPanel),{visible:In.value,format:unref(Nn),"time-arrow-control":unref(xe),"parsed-value":Ie.value,onPick:Kn},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[unref(ClickOutside),Qn]])],2)):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{class:normalizeClass([unref(V).e("header"),(_n.value==="year"||_n.value==="month")&&unref(V).e("header--bordered")])},[createBaseVNode("span",{class:normalizeClass(unref(V).e("prev-btn"))},[createBaseVNode("button",{type:"button","aria-label":unref(re)("el.datepicker.prevYear"),class:normalizeClass(["d-arrow-left",unref(L).e("icon-btn")]),onClick:ii[2]||(ii[2]=Hn=>vn(!1))},[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[createVNode$2(unref(d_arrow_left_default))]),_:1})],10,_hoisted_2$c),withDirectives(createBaseVNode("button",{type:"button","aria-label":unref(re)("el.datepicker.prevMonth"),class:normalizeClass([unref(L).e("icon-btn"),"arrow-left"]),onClick:ii[3]||(ii[3]=Hn=>hn(!1))},[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[createVNode$2(unref(arrow_left_default))]),_:1})],10,_hoisted_3$6),[[vShow,_n.value==="date"]])],2),createBaseVNode("span",{role:"button",class:normalizeClass(unref(V).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:ii[4]||(ii[4]=withKeys(Hn=>Fn("year"),["enter"])),onClick:ii[5]||(ii[5]=Hn=>Fn("year"))},toDisplayString(unref($n)),35),withDirectives(createBaseVNode("span",{role:"button","aria-live":"polite",tabindex:"0",class:normalizeClass([unref(V).e("header-label"),{active:_n.value==="month"}]),onKeydown:ii[6]||(ii[6]=withKeys(Hn=>Fn("month"),["enter"])),onClick:ii[7]||(ii[7]=Hn=>Fn("month"))},toDisplayString(unref(re)(`el.datepicker.month${unref(ze)+1}`)),35),[[vShow,_n.value==="date"]]),createBaseVNode("span",{class:normalizeClass(unref(V).e("next-btn"))},[withDirectives(createBaseVNode("button",{type:"button","aria-label":unref(re)("el.datepicker.nextMonth"),class:normalizeClass([unref(L).e("icon-btn"),"arrow-right"]),onClick:ii[8]||(ii[8]=Hn=>hn(!0))},[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[createVNode$2(unref(arrow_right_default))]),_:1})],10,_hoisted_4$3),[[vShow,_n.value==="date"]]),createBaseVNode("button",{type:"button","aria-label":unref(re)("el.datepicker.nextYear"),class:normalizeClass([unref(L).e("icon-btn"),"d-arrow-right"]),onClick:ii[9]||(ii[9]=Hn=>vn(!0))},[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[createVNode$2(unref(d_arrow_right_default))]),_:1})],10,_hoisted_5$3)],2)],2),[[vShow,_n.value!=="time"]]),createBaseVNode("div",{class:normalizeClass(unref(L).e("content")),onKeydown:yi},[_n.value==="date"?(openBlock(),createBlock(DateTable,{key:0,ref_key:"currentViewRef",ref:Ce,"selection-mode":unref(xn),date:Ie.value,"parsed-value":Wn.parsedValue,"disabled-date":unref(pe),"cell-class-name":unref(_e),onPick:Lt},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):createCommentVNode("v-if",!0),_n.value==="year"?(openBlock(),createBlock(YearTable,{key:1,ref_key:"currentViewRef",ref:Ce,date:Ie.value,"disabled-date":unref(pe),"parsed-value":Wn.parsedValue,onPick:Rn},null,8,["date","disabled-date","parsed-value"])):createCommentVNode("v-if",!0),_n.value==="month"?(openBlock(),createBlock(MonthTable,{key:2,ref_key:"currentViewRef",ref:Ce,date:Ie.value,"parsed-value":Wn.parsedValue,"disabled-date":unref(pe),onPick:An},null,8,["date","parsed-value","disabled-date"])):createCommentVNode("v-if",!0)],34)],2)],2),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(L).e("footer"))},[withDirectives(createVNode$2(unref(ElButton),{text:"",size:"small",class:normalizeClass(unref(L).e("link-btn")),onClick:kn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(re)("el.datepicker.now")),1)]),_:1},8,["class"]),[[vShow,unref(xn)!=="dates"]]),createVNode$2(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(L).e("link-btn")),onClick:Dn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(re)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[vShow,unref(Un)&&_n.value==="date"]])],2))}});var DatePickPanel=_export_sfc$1(_sfc_main$B,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const panelDateRangeProps=buildProps({...panelSharedProps,...panelRangeSharedProps}),useShortcut=g=>{const{emit:n}=getCurrentInstance(),r=useAttrs$1(),$=useSlots();return L=>{const V=isFunction$5(L.value)?L.value():L.value;if(V){n("pick",[dayjs(V[0]).locale(g.value),dayjs(V[1]).locale(g.value)]);return}L.onClick&&L.onClick({attrs:r,slots:$,emit:n})}},useRangePicker=(g,{defaultValue:n,leftDate:r,rightDate:$,unit:L,onParsedValueChanged:V})=>{const{emit:oe}=getCurrentInstance(),{pickerNs:ae}=inject(ROOT_PICKER_INJECTION_KEY),re=useNamespace("date-range-picker"),{t:le,lang:ue}=useLocale(),de=useShortcut(ue),he=ref(),pe=ref(),_e=ref({endDate:null,selecting:!1}),$e=Ie=>{_e.value=Ie},xe=(Ie=!1)=>{const Ne=unref(he),ze=unref(pe);isValidRange([Ne,ze])&&oe("pick",[Ne,ze],Ie)},Oe=Ie=>{_e.value.selecting=Ie,Ie||(_e.value.endDate=null)},Ce=()=>{const[Ie,Ne]=getDefaultValue(unref(n),{lang:unref(ue),unit:L,unlinkPanels:g.unlinkPanels});he.value=void 0,pe.value=void 0,r.value=Ie,$.value=Ne};return watch(n,Ie=>{Ie&&Ce()},{immediate:!0}),watch(()=>g.parsedValue,Ie=>{if(isArray$9(Ie)&&Ie.length===2){const[Ne,ze]=Ie;he.value=Ne,r.value=Ne,pe.value=ze,V(unref(he),unref(pe))}else Ce()},{immediate:!0}),{minDate:he,maxDate:pe,rangeState:_e,lang:ue,ppNs:ae,drpNs:re,handleChangeRange:$e,handleRangeConfirm:xe,handleShortcutClick:de,onSelect:Oe,t:le}},_hoisted_1$j=["onClick"],_hoisted_2$b=["disabled"],_hoisted_3$5=["disabled"],_hoisted_4$2=["disabled"],_hoisted_5$2=["disabled"],unit$1="month",_sfc_main$A=defineComponent({__name:"panel-date-range",props:panelDateRangeProps,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(g,{emit:n}){const r=g,$=inject("EP_PICKER_BASE"),{disabledDate:L,cellClassName:V,format:oe,defaultTime:ae,arrowControl:re,clearable:le}=$.props,ue=toRef($.props,"shortcuts"),de=toRef($.props,"defaultValue"),{lang:he}=useLocale(),pe=ref(dayjs().locale(he.value)),_e=ref(dayjs().locale(he.value).add(1,unit$1)),{minDate:$e,maxDate:xe,rangeState:Oe,ppNs:Ce,drpNs:Ie,handleChangeRange:Ne,handleRangeConfirm:ze,handleShortcutClick:Fe,onSelect:Ue,t:At}=useRangePicker(r,{defaultValue:de,leftDate:pe,rightDate:_e,unit:unit$1,onParsedValueChanged:zn}),Et=ref({min:null,max:null}),Pt=ref({min:null,max:null}),kt=computed(()=>`${pe.value.year()} ${At("el.datepicker.year")} ${At(`el.datepicker.month${pe.value.month()+1}`)}`),Dt=computed(()=>`${_e.value.year()} ${At("el.datepicker.year")} ${At(`el.datepicker.month${_e.value.month()+1}`)}`),Lt=computed(()=>pe.value.year()),hn=computed(()=>pe.value.month()),vn=computed(()=>_e.value.year()),_n=computed(()=>_e.value.month()),$n=computed(()=>!!ue.value.length),Sn=computed(()=>Et.value.min!==null?Et.value.min:$e.value?$e.value.format(Rn.value):""),xn=computed(()=>Et.value.max!==null?Et.value.max:xe.value||$e.value?(xe.value||$e.value).format(Rn.value):""),On=computed(()=>Pt.value.min!==null?Pt.value.min:$e.value?$e.value.format(An.value):""),Cn=computed(()=>Pt.value.max!==null?Pt.value.max:xe.value||$e.value?(xe.value||$e.value).format(An.value):""),An=computed(()=>extractTimeFormat(oe)),Rn=computed(()=>extractDateFormat(oe)),Fn=()=>{pe.value=pe.value.subtract(1,"year"),r.unlinkPanels||(_e.value=pe.value.add(1,"month")),Tn("year")},Pn=()=>{pe.value=pe.value.subtract(1,"month"),r.unlinkPanels||(_e.value=pe.value.add(1,"month")),Tn("month")},Un=()=>{r.unlinkPanels?_e.value=_e.value.add(1,"year"):(pe.value=pe.value.add(1,"year"),_e.value=pe.value.add(1,"month")),Tn("year")},Dn=()=>{r.unlinkPanels?_e.value=_e.value.add(1,"month"):(pe.value=pe.value.add(1,"month"),_e.value=pe.value.add(1,"month")),Tn("month")},kn=()=>{pe.value=pe.value.add(1,"year"),Tn("year")},Nn=()=>{pe.value=pe.value.add(1,"month"),Tn("month")},Vn=()=>{_e.value=_e.value.subtract(1,"year"),Tn("year")},Ln=()=>{_e.value=_e.value.subtract(1,"month"),Tn("month")},Tn=Yn=>{n("panel-change",[pe.value.toDate(),_e.value.toDate()],Yn)},In=computed(()=>{const Yn=(hn.value+1)%12,ai=hn.value+1>=12?1:0;return r.unlinkPanels&&new Date(Lt.value+ai,Yn)<new Date(vn.value,_n.value)}),Bn=computed(()=>r.unlinkPanels&&vn.value*12+_n.value-(Lt.value*12+hn.value+1)>=12),Qn=computed(()=>!($e.value&&xe.value&&!Oe.value.selecting&&isValidRange([$e.value,xe.value]))),Zn=computed(()=>r.type==="datetime"||r.type==="datetimerange"),Kn=(Yn,ai)=>{if(Yn)return ae?dayjs(ae[ai]||ae).locale(he.value).year(Yn.year()).month(Yn.month()).date(Yn.date()):Yn},ui=(Yn,ai=!0)=>{const hi=Yn.minDate,Ti=Yn.maxDate,Bi=Kn(hi,0),Gi=Kn(Ti,1);xe.value===Gi&&$e.value===Bi||(n("calendar-change",[hi.toDate(),Ti&&Ti.toDate()]),xe.value=Gi,$e.value=Bi,!(!ai||Zn.value)&&ze())},ei=ref(!1),si=ref(!1),ti=()=>{ei.value=!1},Jn=()=>{si.value=!1},di=(Yn,ai)=>{Et.value[ai]=Yn;const hi=dayjs(Yn,Rn.value).locale(he.value);if(hi.isValid()){if(L&&L(hi.toDate()))return;ai==="min"?(pe.value=hi,$e.value=($e.value||pe.value).year(hi.year()).month(hi.month()).date(hi.date()),r.unlinkPanels||(_e.value=hi.add(1,"month"),xe.value=$e.value.add(1,"month"))):(_e.value=hi,xe.value=(xe.value||_e.value).year(hi.year()).month(hi.month()).date(hi.date()),r.unlinkPanels||(pe.value=hi.subtract(1,"month"),$e.value=xe.value.subtract(1,"month")))}},mi=(Yn,ai)=>{Et.value[ai]=null},yi=(Yn,ai)=>{Pt.value[ai]=Yn;const hi=dayjs(Yn,An.value).locale(he.value);hi.isValid()&&(ai==="min"?(ei.value=!0,$e.value=($e.value||pe.value).hour(hi.hour()).minute(hi.minute()).second(hi.second()),(!xe.value||xe.value.isBefore($e.value))&&(xe.value=$e.value)):(si.value=!0,xe.value=(xe.value||_e.value).hour(hi.hour()).minute(hi.minute()).second(hi.second()),_e.value=xe.value,xe.value&&xe.value.isBefore($e.value)&&($e.value=xe.value)))},$i=(Yn,ai)=>{Pt.value[ai]=null,ai==="min"?(pe.value=$e.value,ei.value=!1):(_e.value=xe.value,si.value=!1)},pi=(Yn,ai,hi)=>{Pt.value.min||(Yn&&(pe.value=Yn,$e.value=($e.value||pe.value).hour(Yn.hour()).minute(Yn.minute()).second(Yn.second())),hi||(ei.value=ai),(!xe.value||xe.value.isBefore($e.value))&&(xe.value=$e.value,_e.value=Yn))},Wn=(Yn,ai,hi)=>{Pt.value.max||(Yn&&(_e.value=Yn,xe.value=(xe.value||_e.value).hour(Yn.hour()).minute(Yn.minute()).second(Yn.second())),hi||(si.value=ai),xe.value&&xe.value.isBefore($e.value)&&($e.value=xe.value))},ii=()=>{pe.value=getDefaultValue(unref(de),{lang:unref(he),unit:"month",unlinkPanels:r.unlinkPanels})[0],_e.value=pe.value.add(1,"month"),n("pick",null)},Hn=Yn=>isArray$9(Yn)?Yn.map(ai=>ai.format(oe)):Yn.format(oe),oi=Yn=>isArray$9(Yn)?Yn.map(ai=>dayjs(ai,oe).locale(he.value)):dayjs(Yn,oe).locale(he.value);function zn(Yn,ai){if(r.unlinkPanels&&ai){const hi=(Yn==null?void 0:Yn.year())||0,Ti=(Yn==null?void 0:Yn.month())||0,Bi=ai.year(),Gi=ai.month();_e.value=hi===Bi&&Ti===Gi?ai.add(1,unit$1):ai}else _e.value=pe.value.add(1,unit$1),ai&&(_e.value=_e.value.hour(ai.hour()).minute(ai.minute()).second(ai.second()))}return n("set-picker-option",["isValidValue",isValidRange]),n("set-picker-option",["parseUserInput",oi]),n("set-picker-option",["formatToString",Hn]),n("set-picker-option",["handleClear",ii]),(Yn,ai)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(Ce).b(),unref(Ie).b(),{"has-sidebar":Yn.$slots.sidebar||unref($n),"has-time":unref(Zn)}])},[createBaseVNode("div",{class:normalizeClass(unref(Ce).e("body-wrapper"))},[renderSlot(Yn.$slots,"sidebar",{class:normalizeClass(unref(Ce).e("sidebar"))}),unref($n)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Ce).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(ue),(hi,Ti)=>(openBlock(),createElementBlock("button",{key:Ti,type:"button",class:normalizeClass(unref(Ce).e("shortcut")),onClick:Bi=>unref(Fe)(hi)},toDisplayString(hi.text),11,_hoisted_1$j))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(Ce).e("body"))},[unref(Zn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Ie).e("time-header"))},[createBaseVNode("span",{class:normalizeClass(unref(Ie).e("editors-wrap"))},[createBaseVNode("span",{class:normalizeClass(unref(Ie).e("time-picker-wrap"))},[createVNode$2(unref(ElInput),{size:"small",disabled:unref(Oe).selecting,placeholder:unref(At)("el.datepicker.startDate"),class:normalizeClass(unref(Ie).e("editor")),"model-value":unref(Sn),"validate-event":!1,onInput:ai[0]||(ai[0]=hi=>di(hi,"min")),onChange:ai[1]||(ai[1]=hi=>mi(hi,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(Ie).e("time-picker-wrap"))},[createVNode$2(unref(ElInput),{size:"small",class:normalizeClass(unref(Ie).e("editor")),disabled:unref(Oe).selecting,placeholder:unref(At)("el.datepicker.startTime"),"model-value":unref(On),"validate-event":!1,onFocus:ai[2]||(ai[2]=hi=>ei.value=!0),onInput:ai[3]||(ai[3]=hi=>yi(hi,"min")),onChange:ai[4]||(ai[4]=hi=>$i(hi,"min"))},null,8,["class","disabled","placeholder","model-value"]),createVNode$2(unref(TimePickPanel),{visible:ei.value,format:unref(An),"datetime-role":"start","time-arrow-control":unref(re),"parsed-value":pe.value,onPick:pi},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[unref(ClickOutside),ti]])],2),createBaseVNode("span",null,[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[createVNode$2(unref(arrow_right_default))]),_:1})]),createBaseVNode("span",{class:normalizeClass([unref(Ie).e("editors-wrap"),"is-right"])},[createBaseVNode("span",{class:normalizeClass(unref(Ie).e("time-picker-wrap"))},[createVNode$2(unref(ElInput),{size:"small",class:normalizeClass(unref(Ie).e("editor")),disabled:unref(Oe).selecting,placeholder:unref(At)("el.datepicker.endDate"),"model-value":unref(xn),readonly:!unref($e),"validate-event":!1,onInput:ai[5]||(ai[5]=hi=>di(hi,"max")),onChange:ai[6]||(ai[6]=hi=>mi(hi,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(Ie).e("time-picker-wrap"))},[createVNode$2(unref(ElInput),{size:"small",class:normalizeClass(unref(Ie).e("editor")),disabled:unref(Oe).selecting,placeholder:unref(At)("el.datepicker.endTime"),"model-value":unref(Cn),readonly:!unref($e),"validate-event":!1,onFocus:ai[7]||(ai[7]=hi=>unref($e)&&(si.value=!0)),onInput:ai[8]||(ai[8]=hi=>yi(hi,"max")),onChange:ai[9]||(ai[9]=hi=>$i(hi,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),createVNode$2(unref(TimePickPanel),{"datetime-role":"end",visible:si.value,format:unref(An),"time-arrow-control":unref(re),"parsed-value":_e.value,onPick:Wn},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[unref(ClickOutside),Jn]])],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([[unref(Ce).e("content"),unref(Ie).e("content")],"is-left"])},[createBaseVNode("div",{class:normalizeClass(unref(Ie).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(Ce).e("icon-btn"),"d-arrow-left"]),onClick:Fn},[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[createVNode$2(unref(d_arrow_left_default))]),_:1})],2),createBaseVNode("button",{type:"button",class:normalizeClass([unref(Ce).e("icon-btn"),"arrow-left"]),onClick:Pn},[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[createVNode$2(unref(arrow_left_default))]),_:1})],2),Yn.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(Bn),class:normalizeClass([[unref(Ce).e("icon-btn"),{"is-disabled":!unref(Bn)}],"d-arrow-right"]),onClick:kn},[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[createVNode$2(unref(d_arrow_right_default))]),_:1})],10,_hoisted_2$b)):createCommentVNode("v-if",!0),Yn.unlinkPanels?(openBlock(),createElementBlock("button",{key:1,type:"button",disabled:!unref(In),class:normalizeClass([[unref(Ce).e("icon-btn"),{"is-disabled":!unref(In)}],"arrow-right"]),onClick:Nn},[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[createVNode$2(unref(arrow_right_default))]),_:1})],10,_hoisted_3$5)):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString(unref(kt)),1)],2),createVNode$2(DateTable,{"selection-mode":"range",date:pe.value,"min-date":unref($e),"max-date":unref(xe),"range-state":unref(Oe),"disabled-date":unref(L),"cell-class-name":unref(V),onChangerange:unref(Ne),onPick:ui,onSelect:unref(Ue)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),createBaseVNode("div",{class:normalizeClass([[unref(Ce).e("content"),unref(Ie).e("content")],"is-right"])},[createBaseVNode("div",{class:normalizeClass(unref(Ie).e("header"))},[Yn.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(Bn),class:normalizeClass([[unref(Ce).e("icon-btn"),{"is-disabled":!unref(Bn)}],"d-arrow-left"]),onClick:Vn},[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[createVNode$2(unref(d_arrow_left_default))]),_:1})],10,_hoisted_4$2)):createCommentVNode("v-if",!0),Yn.unlinkPanels?(openBlock(),createElementBlock("button",{key:1,type:"button",disabled:!unref(In),class:normalizeClass([[unref(Ce).e("icon-btn"),{"is-disabled":!unref(In)}],"arrow-left"]),onClick:Ln},[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[createVNode$2(unref(arrow_left_default))]),_:1})],10,_hoisted_5$2)):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button",class:normalizeClass([unref(Ce).e("icon-btn"),"d-arrow-right"]),onClick:Un},[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[createVNode$2(unref(d_arrow_right_default))]),_:1})],2),createBaseVNode("button",{type:"button",class:normalizeClass([unref(Ce).e("icon-btn"),"arrow-right"]),onClick:Dn},[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[createVNode$2(unref(arrow_right_default))]),_:1})],2),createBaseVNode("div",null,toDisplayString(unref(Dt)),1)],2),createVNode$2(DateTable,{"selection-mode":"range",date:_e.value,"min-date":unref($e),"max-date":unref(xe),"range-state":unref(Oe),"disabled-date":unref(L),"cell-class-name":unref(V),onChangerange:unref(Ne),onPick:ui,onSelect:unref(Ue)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),unref(Zn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Ce).e("footer"))},[unref(le)?(openBlock(),createBlock(unref(ElButton),{key:0,text:"",size:"small",class:normalizeClass(unref(Ce).e("link-btn")),onClick:ii},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(At)("el.datepicker.clear")),1)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createVNode$2(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(Ce).e("link-btn")),disabled:unref(Qn),onClick:ai[10]||(ai[10]=hi=>unref(ze)(!1))},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(At)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):createCommentVNode("v-if",!0)],2))}});var DateRangePickPanel=_export_sfc$1(_sfc_main$A,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const panelMonthRangeProps=buildProps({...panelRangeSharedProps}),panelMonthRangeEmits=["pick","set-picker-option"],useMonthRangeHeader=({unlinkPanels:g,leftDate:n,rightDate:r})=>{const{t:$}=useLocale(),L=()=>{n.value=n.value.subtract(1,"year"),g.value||(r.value=r.value.subtract(1,"year"))},V=()=>{g.value||(n.value=n.value.add(1,"year")),r.value=r.value.add(1,"year")},oe=()=>{n.value=n.value.add(1,"year")},ae=()=>{r.value=r.value.subtract(1,"year")},re=computed(()=>`${n.value.year()} ${$("el.datepicker.year")}`),le=computed(()=>`${r.value.year()} ${$("el.datepicker.year")}`),ue=computed(()=>n.value.year()),de=computed(()=>r.value.year()===n.value.year()?n.value.year()+1:r.value.year());return{leftPrevYear:L,rightNextYear:V,leftNextYear:oe,rightPrevYear:ae,leftLabel:re,rightLabel:le,leftYear:ue,rightYear:de}},_hoisted_1$i=["onClick"],_hoisted_2$a=["disabled"],_hoisted_3$4=["disabled"],unit="year",__default__$n=defineComponent({name:"DatePickerMonthRange"}),_sfc_main$z=defineComponent({...__default__$n,props:panelMonthRangeProps,emits:panelMonthRangeEmits,setup(g,{emit:n}){const r=g,{lang:$}=useLocale(),L=inject("EP_PICKER_BASE"),{shortcuts:V,disabledDate:oe,format:ae}=L.props,re=toRef(L.props,"defaultValue"),le=ref(dayjs().locale($.value)),ue=ref(dayjs().locale($.value).add(1,unit)),{minDate:de,maxDate:he,rangeState:pe,ppNs:_e,drpNs:$e,handleChangeRange:xe,handleRangeConfirm:Oe,handleShortcutClick:Ce,onSelect:Ie}=useRangePicker(r,{defaultValue:re,leftDate:le,rightDate:ue,unit,onParsedValueChanged:_n}),Ne=computed(()=>!!V.length),{leftPrevYear:ze,rightNextYear:Fe,leftNextYear:Ue,rightPrevYear:At,leftLabel:Et,rightLabel:Pt,leftYear:kt,rightYear:Dt}=useMonthRangeHeader({unlinkPanels:toRef(r,"unlinkPanels"),leftDate:le,rightDate:ue}),Lt=computed(()=>r.unlinkPanels&&Dt.value>kt.value+1),hn=($n,Sn=!0)=>{const xn=$n.minDate,On=$n.maxDate;he.value===On&&de.value===xn||(he.value=On,de.value=xn,Sn&&Oe())},vn=$n=>$n.map(Sn=>Sn.format(ae));function _n($n,Sn){if(r.unlinkPanels&&Sn){const xn=($n==null?void 0:$n.year())||0,On=Sn.year();ue.value=xn===On?Sn.add(1,unit):Sn}else ue.value=le.value.add(1,unit)}return n("set-picker-option",["formatToString",vn]),($n,Sn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(_e).b(),unref($e).b(),{"has-sidebar":Boolean($n.$slots.sidebar)||unref(Ne)}])},[createBaseVNode("div",{class:normalizeClass(unref(_e).e("body-wrapper"))},[renderSlot($n.$slots,"sidebar",{class:normalizeClass(unref(_e).e("sidebar"))}),unref(Ne)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(_e).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(V),(xn,On)=>(openBlock(),createElementBlock("button",{key:On,type:"button",class:normalizeClass(unref(_e).e("shortcut")),onClick:Cn=>unref(Ce)(xn)},toDisplayString(xn.text),11,_hoisted_1$i))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(_e).e("body"))},[createBaseVNode("div",{class:normalizeClass([[unref(_e).e("content"),unref($e).e("content")],"is-left"])},[createBaseVNode("div",{class:normalizeClass(unref($e).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(_e).e("icon-btn"),"d-arrow-left"]),onClick:Sn[0]||(Sn[0]=(...xn)=>unref(ze)&&unref(ze)(...xn))},[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[createVNode$2(unref(d_arrow_left_default))]),_:1})],2),$n.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(Lt),class:normalizeClass([[unref(_e).e("icon-btn"),{[unref(_e).is("disabled")]:!unref(Lt)}],"d-arrow-right"]),onClick:Sn[1]||(Sn[1]=(...xn)=>unref(Ue)&&unref(Ue)(...xn))},[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[createVNode$2(unref(d_arrow_right_default))]),_:1})],10,_hoisted_2$a)):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString(unref(Et)),1)],2),createVNode$2(MonthTable,{"selection-mode":"range",date:le.value,"min-date":unref(de),"max-date":unref(he),"range-state":unref(pe),"disabled-date":unref(oe),onChangerange:unref(xe),onPick:hn,onSelect:unref(Ie)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),createBaseVNode("div",{class:normalizeClass([[unref(_e).e("content"),unref($e).e("content")],"is-right"])},[createBaseVNode("div",{class:normalizeClass(unref($e).e("header"))},[$n.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(Lt),class:normalizeClass([[unref(_e).e("icon-btn"),{"is-disabled":!unref(Lt)}],"d-arrow-left"]),onClick:Sn[2]||(Sn[2]=(...xn)=>unref(At)&&unref(At)(...xn))},[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[createVNode$2(unref(d_arrow_left_default))]),_:1})],10,_hoisted_3$4)):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button",class:normalizeClass([unref(_e).e("icon-btn"),"d-arrow-right"]),onClick:Sn[3]||(Sn[3]=(...xn)=>unref(Fe)&&unref(Fe)(...xn))},[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[createVNode$2(unref(d_arrow_right_default))]),_:1})],2),createBaseVNode("div",null,toDisplayString(unref(Pt)),1)],2),createVNode$2(MonthTable,{"selection-mode":"range",date:ue.value,"min-date":unref(de),"max-date":unref(he),"range-state":unref(pe),"disabled-date":unref(oe),onChangerange:unref(xe),onPick:hn,onSelect:unref(Ie)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var MonthRangePickPanel=_export_sfc$1(_sfc_main$z,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const getPanel$1=function(g){switch(g){case"daterange":case"datetimerange":return DateRangePickPanel;case"monthrange":return MonthRangePickPanel;default:return DatePickPanel}};dayjs.extend(localeData),dayjs.extend(advancedFormat),dayjs.extend(customParseFormat),dayjs.extend(weekOfYear),dayjs.extend(weekYear),dayjs.extend(dayOfYear),dayjs.extend(isSameOrAfter),dayjs.extend(isSameOrBefore);var DatePicker=defineComponent({name:"ElDatePicker",install:null,props:{...timePickerDefaultProps,...datePickerProps},emits:["update:modelValue"],setup(g,{expose:n,emit:r,slots:$}){const L=useNamespace("picker-panel");provide("ElPopperOptions",reactive(toRef(g,"popperOptions"))),provide(ROOT_PICKER_INJECTION_KEY,{slots:$,pickerNs:L});const V=ref();n({focus:(ae=!0)=>{var re;(re=V.value)==null||re.focus(ae)},handleOpen:()=>{var ae;(ae=V.value)==null||ae.handleOpen()},handleClose:()=>{var ae;(ae=V.value)==null||ae.handleClose()}});const oe=ae=>{r("update:modelValue",ae)};return()=>{var ae;const re=(ae=g.format)!=null?ae:DEFAULT_FORMATS_DATEPICKER[g.type]||DEFAULT_FORMATS_DATE,le=getPanel$1(g.type);return createVNode$2(CommonPicker,mergeProps(g,{format:re,type:g.type,ref:V,"onUpdate:modelValue":oe}),{default:ue=>createVNode$2(le,ue,null),"range-separator":$["range-separator"]})}}});const _DatePicker=DatePicker;_DatePicker.install=g=>{g.component(_DatePicker.name,_DatePicker)};let formProps,formEmits;ElDatePicker=_DatePicker,formProps=buildProps({model:Object,rules:{type:definePropType(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:{type:String,values:componentSizes},disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean}),formEmits={validate:(g,n,r)=>(isArray$9(g)||isString$5(g))&&isBoolean$2(n)&&isString$5(r)};function useFormLabelWidth(){const g=ref([]),n=computed(()=>{if(!g.value.length)return"0";const V=Math.max(...g.value);return V?`${V}px`:""});function r(V){const oe=g.value.indexOf(V);return oe===-1&&n.value,oe}function $(V,oe){if(V&&oe){const ae=r(oe);g.value.splice(ae,1,V)}else V&&g.value.push(V)}function L(V){const oe=r(V);oe>-1&&g.value.splice(oe,1)}return{autoLabelWidth:n,registerLabelWidth:$,deregisterLabelWidth:L}}const filterFields=(g,n)=>{const r=castArray$1(n);return r.length>0?g.filter($=>$.prop&&r.includes($.prop)):g},COMPONENT_NAME$6="ElForm",__default__$m=defineComponent({name:COMPONENT_NAME$6}),_sfc_main$y=defineComponent({...__default__$m,props:formProps,emits:formEmits,setup(g,{expose:n,emit:r}){const $=g,L=[],V=useSize(),oe=useNamespace("form"),ae=computed(()=>{const{labelPosition:Ce,inline:Ie}=$;return[oe.b(),oe.m(V.value||"default"),{[oe.m(`label-${Ce}`)]:Ce,[oe.m("inline")]:Ie}]}),re=Ce=>{L.push(Ce)},le=Ce=>{Ce.prop&&L.splice(L.indexOf(Ce),1)},ue=(Ce=[])=>{!$.model||filterFields(L,Ce).forEach(Ie=>Ie.resetField())},de=(Ce=[])=>{filterFields(L,Ce).forEach(Ie=>Ie.clearValidate())},he=computed(()=>!!$.model),pe=Ce=>{if(L.length===0)return[];const Ie=filterFields(L,Ce);return Ie.length?Ie:[]},_e=async Ce=>xe(void 0,Ce),$e=async(Ce=[])=>{if(!he.value)return!1;const Ie=pe(Ce);if(Ie.length===0)return!0;let Ne={};for(const ze of Ie)try{await ze.validate("")}catch(Fe){Ne={...Ne,...Fe}}return Object.keys(Ne).length===0?!0:Promise.reject(Ne)},xe=async(Ce=[],Ie)=>{const Ne=!isFunction$5(Ie);try{const ze=await $e(Ce);return ze===!0&&(Ie==null||Ie(ze)),ze}catch(ze){if(ze instanceof Error)throw ze;const Fe=ze;return $.scrollToError&&Oe(Object.keys(Fe)[0]),Ie==null||Ie(!1,Fe),Ne&&Promise.reject(Fe)}},Oe=Ce=>{var Ie;const Ne=filterFields(L,Ce)[0];Ne&&((Ie=Ne.$el)==null||Ie.scrollIntoView())};return watch(()=>$.rules,()=>{$.validateOnRuleChange&&_e().catch(Ce=>{})},{deep:!0}),provide(formContextKey,reactive({...toRefs($),emit:r,resetFields:ue,clearValidate:de,validateField:xe,addField:re,removeField:le,...useFormLabelWidth()})),n({validate:_e,validateField:xe,resetFields:ue,clearValidate:de,scrollToField:Oe}),(Ce,Ie)=>(openBlock(),createElementBlock("form",{class:normalizeClass(unref(ae))},[renderSlot(Ce.$slots,"default")],2))}});var Form=_export_sfc$1(_sfc_main$y,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function _extends(){return _extends=Object.assign?Object.assign.bind():function(g){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var $ in r)Object.prototype.hasOwnProperty.call(r,$)&&(g[$]=r[$])}return g},_extends.apply(this,arguments)}function _inheritsLoose(g,n){g.prototype=Object.create(n.prototype),g.prototype.constructor=g,_setPrototypeOf(g,n)}function _getPrototypeOf(g){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf(g)}function _setPrototypeOf(g,n){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,$){return r.__proto__=$,r},_setPrototypeOf(g,n)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(g,n,r){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function($,L,V){var oe=[null];oe.push.apply(oe,L);var ae=Function.bind.apply($,oe),re=new ae;return V&&_setPrototypeOf(re,V.prototype),re},_construct.apply(null,arguments)}function _isNativeFunction(g){return Function.toString.call(g).indexOf("[native code]")!==-1}function _wrapNativeSuper(g){var n=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(r){if(r===null||!_isNativeFunction(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(r))return n.get(r);n.set(r,$)}function $(){return _construct(r,arguments,_getPrototypeOf(this).constructor)}return $.prototype=Object.create(r.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf($,r)},_wrapNativeSuper(g)}var formatRegExp=/%[sdj%]/g,warning=function(){};typeof process<"u"&&process.env;function convertFieldsError(g){if(!g||!g.length)return null;var n={};return g.forEach(function(r){var $=r.field;n[$]=n[$]||[],n[$].push(r)}),n}function format$2(g){for(var n=arguments.length,r=new Array(n>1?n-1:0),$=1;$<n;$++)r[$-1]=arguments[$];var L=0,V=r.length;if(typeof g=="function")return g.apply(null,r);if(typeof g=="string"){var oe=g.replace(formatRegExp,function(ae){if(ae==="%%")return"%";if(L>=V)return ae;switch(ae){case"%s":return String(r[L++]);case"%d":return Number(r[L++]);case"%j":try{return JSON.stringify(r[L++])}catch{return"[Circular]"}break;default:return ae}});return oe}return g}function isNativeStringType(g){return g==="string"||g==="url"||g==="hex"||g==="email"||g==="date"||g==="pattern"}function isEmptyValue$2(g,n){return!!(g==null||n==="array"&&Array.isArray(g)&&!g.length||isNativeStringType(n)&&typeof g=="string"&&!g)}function asyncParallelArray(g,n,r){var $=[],L=0,V=g.length;function oe(ae){$.push.apply($,ae||[]),L++,L===V&&r($)}g.forEach(function(ae){n(ae,oe)})}function asyncSerialArray(g,n,r){var $=0,L=g.length;function V(oe){if(oe&&oe.length){r(oe);return}var ae=$;$=$+1,ae<L?n(g[ae],V):r([])}V([])}function flattenObjArr(g){var n=[];return Object.keys(g).forEach(function(r){n.push.apply(n,g[r]||[])}),n}var AsyncValidationError=function(g){_inheritsLoose(n,g);function n(r,$){var L;return L=g.call(this,"Async Validation Error")||this,L.errors=r,L.fields=$,L}return n}(_wrapNativeSuper(Error));function asyncMap(g,n,r,$,L){if(n.first){var V=new Promise(function(he,pe){var _e=function(xe){return $(xe),xe.length?pe(new AsyncValidationError(xe,convertFieldsError(xe))):he(L)},$e=flattenObjArr(g);asyncSerialArray($e,r,_e)});return V.catch(function(he){return he}),V}var oe=n.firstFields===!0?Object.keys(g):n.firstFields||[],ae=Object.keys(g),re=ae.length,le=0,ue=[],de=new Promise(function(he,pe){var _e=function($e){if(ue.push.apply(ue,$e),le++,le===re)return $(ue),ue.length?pe(new AsyncValidationError(ue,convertFieldsError(ue))):he(L)};ae.length||($(ue),he(L)),ae.forEach(function($e){var xe=g[$e];oe.indexOf($e)!==-1?asyncSerialArray(xe,r,_e):asyncParallelArray(xe,r,_e)})});return de.catch(function(he){return he}),de}function isErrorObj(g){return!!(g&&g.message!==void 0)}function getValue(g,n){for(var r=g,$=0;$<n.length;$++){if(r==null)return r;r=r[n[$]]}return r}function complementError(g,n){return function(r){var $;return g.fullFields?$=getValue(n,g.fullFields):$=n[r.field||g.fullField],isErrorObj(r)?(r.field=r.field||g.fullField,r.fieldValue=$,r):{message:typeof r=="function"?r():r,fieldValue:$,field:r.field||g.fullField}}}function deepMerge(g,n){if(n){for(var r in n)if(n.hasOwnProperty(r)){var $=n[r];typeof $=="object"&&typeof g[r]=="object"?g[r]=_extends({},g[r],$):g[r]=$}}return g}var required$1=function(g,n,r,$,L,V){g.required&&(!r.hasOwnProperty(g.field)||isEmptyValue$2(n,V||g.type))&&$.push(format$2(L.messages.required,g.fullField))},whitespace=function(g,n,r,$,L){(/^\s+$/.test(n)||n==="")&&$.push(format$2(L.messages.whitespace,g.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var g="[a-fA-F\\d:]",n=function(Ie){return Ie&&Ie.includeBoundaries?"(?:(?<=\\s|^)(?="+g+")|(?<="+g+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",$="[a-fA-F\\d]{1,4}",L=(`
(?:
(?:`+$+":){7}(?:"+$+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+$+":){6}(?:"+r+"|:"+$+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+$+":){5}(?::"+r+"|(?::"+$+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+$+":){4}(?:(?::"+$+"){0,1}:"+r+"|(?::"+$+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+$+":){3}(?:(?::"+$+"){0,2}:"+r+"|(?::"+$+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+$+":){2}(?:(?::"+$+"){0,3}:"+r+"|(?::"+$+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+$+":){1}(?:(?::"+$+"){0,4}:"+r+"|(?::"+$+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+$+"){0,5}:"+r+"|(?::"+$+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),V=new RegExp("(?:^"+r+"$)|(?:^"+L+"$)"),oe=new RegExp("^"+r+"$"),ae=new RegExp("^"+L+"$"),re=function(Ie){return Ie&&Ie.exact?V:new RegExp("(?:"+n(Ie)+r+n(Ie)+")|(?:"+n(Ie)+L+n(Ie)+")","g")};re.v4=function(Ie){return Ie&&Ie.exact?oe:new RegExp(""+n(Ie)+r+n(Ie),"g")},re.v6=function(Ie){return Ie&&Ie.exact?ae:new RegExp(""+n(Ie)+L+n(Ie),"g")};var le="(?:(?:[a-z]+:)?//)",ue="(?:\\S+(?::\\S*)?@)?",de=re.v4().source,he=re.v6().source,pe="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",_e="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",$e="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",xe="(?::\\d{2,5})?",Oe='(?:[/?#][^\\s"]*)?',Ce="(?:"+le+"|www\\.)"+ue+"(?:localhost|"+de+"|"+he+"|"+pe+_e+$e+")"+xe+Oe;return urlReg=new RegExp("(?:^"+Ce+"$)","i"),urlReg},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types$1={integer:function(g){return types$1.number(g)&&parseInt(g,10)===g},float:function(g){return types$1.number(g)&&!types$1.integer(g)},array:function(g){return Array.isArray(g)},regexp:function(g){if(g instanceof RegExp)return!0;try{return!!new RegExp(g)}catch{return!1}},date:function(g){return typeof g.getTime=="function"&&typeof g.getMonth=="function"&&typeof g.getYear=="function"&&!isNaN(g.getTime())},number:function(g){return isNaN(g)?!1:typeof g=="number"},object:function(g){return typeof g=="object"&&!types$1.array(g)},method:function(g){return typeof g=="function"},email:function(g){return typeof g=="string"&&g.length<=320&&!!g.match(pattern$2.email)},url:function(g){return typeof g=="string"&&g.length<=2048&&!!g.match(getUrlRegex())},hex:function(g){return typeof g=="string"&&!!g.match(pattern$2.hex)}},type$1=function(g,n,r,$,L){if(g.required&&n===void 0){required$1(g,n,r,$,L);return}var V=["integer","float","array","regexp","object","method","email","number","date","url","hex"],oe=g.type;V.indexOf(oe)>-1?types$1[oe](n)||$.push(format$2(L.messages.types[oe],g.fullField,g.type)):oe&&typeof n!==g.type&&$.push(format$2(L.messages.types[oe],g.fullField,g.type))},range=function(g,n,r,$,L){var V=typeof g.len=="number",oe=typeof g.min=="number",ae=typeof g.max=="number",re=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,le=n,ue=null,de=typeof n=="number",he=typeof n=="string",pe=Array.isArray(n);if(de?ue="number":he?ue="string":pe&&(ue="array"),!ue)return!1;pe&&(le=n.length),he&&(le=n.replace(re,"_").length),V?le!==g.len&&$.push(format$2(L.messages[ue].len,g.fullField,g.len)):oe&&!ae&&le<g.min?$.push(format$2(L.messages[ue].min,g.fullField,g.min)):ae&&!oe&&le>g.max?$.push(format$2(L.messages[ue].max,g.fullField,g.max)):oe&&ae&&(le<g.min||le>g.max)&&$.push(format$2(L.messages[ue].range,g.fullField,g.min,g.max))},ENUM$1="enum",enumerable$1=function(g,n,r,$,L){g[ENUM$1]=Array.isArray(g[ENUM$1])?g[ENUM$1]:[],g[ENUM$1].indexOf(n)===-1&&$.push(format$2(L.messages[ENUM$1],g.fullField,g[ENUM$1].join(", ")))},pattern$1=function(g,n,r,$,L){if(g.pattern){if(g.pattern instanceof RegExp)g.pattern.lastIndex=0,g.pattern.test(n)||$.push(format$2(L.messages.pattern.mismatch,g.fullField,n,g.pattern));else if(typeof g.pattern=="string"){var V=new RegExp(g.pattern);V.test(n)||$.push(format$2(L.messages.pattern.mismatch,g.fullField,n,g.pattern))}}},rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string$1=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue$2(n,"string")&&!g.required)return r();rules.required(g,n,$,V,L,"string"),isEmptyValue$2(n,"string")||(rules.type(g,n,$,V,L),rules.range(g,n,$,V,L),rules.pattern(g,n,$,V,L),g.whitespace===!0&&rules.whitespace(g,n,$,V,L))}r(V)},method=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue$2(n)&&!g.required)return r();rules.required(g,n,$,V,L),n!==void 0&&rules.type(g,n,$,V,L)}r(V)},number$1=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(n===""&&(n=void 0),isEmptyValue$2(n)&&!g.required)return r();rules.required(g,n,$,V,L),n!==void 0&&(rules.type(g,n,$,V,L),rules.range(g,n,$,V,L))}r(V)},_boolean=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue$2(n)&&!g.required)return r();rules.required(g,n,$,V,L),n!==void 0&&rules.type(g,n,$,V,L)}r(V)},regexp$2=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue$2(n)&&!g.required)return r();rules.required(g,n,$,V,L),isEmptyValue$2(n)||rules.type(g,n,$,V,L)}r(V)},integer=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue$2(n)&&!g.required)return r();rules.required(g,n,$,V,L),n!==void 0&&(rules.type(g,n,$,V,L),rules.range(g,n,$,V,L))}r(V)},floatFn=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue$2(n)&&!g.required)return r();rules.required(g,n,$,V,L),n!==void 0&&(rules.type(g,n,$,V,L),rules.range(g,n,$,V,L))}r(V)},array=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(n==null&&!g.required)return r();rules.required(g,n,$,V,L,"array"),n!=null&&(rules.type(g,n,$,V,L),rules.range(g,n,$,V,L))}r(V)},object=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue$2(n)&&!g.required)return r();rules.required(g,n,$,V,L),n!==void 0&&rules.type(g,n,$,V,L)}r(V)},ENUM="enum",enumerable=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue$2(n)&&!g.required)return r();rules.required(g,n,$,V,L),n!==void 0&&rules[ENUM](g,n,$,V,L)}r(V)},pattern=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue$2(n,"string")&&!g.required)return r();rules.required(g,n,$,V,L),isEmptyValue$2(n,"string")||rules.pattern(g,n,$,V,L)}r(V)},date=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue$2(n,"date")&&!g.required)return r();if(rules.required(g,n,$,V,L),!isEmptyValue$2(n,"date")){var ae;n instanceof Date?ae=n:ae=new Date(n),rules.type(g,ae,$,V,L),ae&&rules.range(g,ae.getTime(),$,V,L)}}r(V)},required=function(g,n,r,$,L){var V=[],oe=Array.isArray(n)?"array":typeof n;rules.required(g,n,$,V,L,oe),r(V)},type=function(g,n,r,$,L){var V=g.type,oe=[],ae=g.required||!g.required&&$.hasOwnProperty(g.field);if(ae){if(isEmptyValue$2(n,V)&&!g.required)return r();rules.required(g,n,$,oe,L,V),isEmptyValue$2(n,V)||rules.type(g,n,$,oe,L)}r(oe)},any=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue$2(n)&&!g.required)return r();rules.required(g,n,$,V,L)}r(V)},validators$4={string:string$1,method,number:number$1,boolean:_boolean,regexp:regexp$2,integer,float:floatFn,array,object,enum:enumerable,pattern,date,url:type,hex:type,email:type,required,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var g=JSON.parse(JSON.stringify(this));return g.clone=this.clone,g}}}var messages=newMessages(),Schema=function(){function g(r){this.rules=null,this._messages=messages,this.define(r)}var n=g.prototype;return n.define=function(r){var $=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(L){var V=r[L];$.rules[L]=Array.isArray(V)?V:[V]})},n.messages=function(r){return r&&(this._messages=deepMerge(newMessages(),r)),this._messages},n.validate=function(r,$,L){var V=this;$===void 0&&($={}),L===void 0&&(L=function(){});var oe=r,ae=$,re=L;if(typeof ae=="function"&&(re=ae,ae={}),!this.rules||Object.keys(this.rules).length===0)return re&&re(null,oe),Promise.resolve(oe);function le(_e){var $e=[],xe={};function Oe(Ie){if(Array.isArray(Ie)){var Ne;$e=(Ne=$e).concat.apply(Ne,Ie)}else $e.push(Ie)}for(var Ce=0;Ce<_e.length;Ce++)Oe(_e[Ce]);$e.length?(xe=convertFieldsError($e),re($e,xe)):re(null,oe)}if(ae.messages){var ue=this.messages();ue===messages&&(ue=newMessages()),deepMerge(ue,ae.messages),ae.messages=ue}else ae.messages=this.messages();var de={},he=ae.keys||Object.keys(this.rules);he.forEach(function(_e){var $e=V.rules[_e],xe=oe[_e];$e.forEach(function(Oe){var Ce=Oe;typeof Ce.transform=="function"&&(oe===r&&(oe=_extends({},oe)),xe=oe[_e]=Ce.transform(xe)),typeof Ce=="function"?Ce={validator:Ce}:Ce=_extends({},Ce),Ce.validator=V.getValidationMethod(Ce),Ce.validator&&(Ce.field=_e,Ce.fullField=Ce.fullField||_e,Ce.type=V.getType(Ce),de[_e]=de[_e]||[],de[_e].push({rule:Ce,value:xe,source:oe,field:_e}))})});var pe={};return asyncMap(de,ae,function(_e,$e){var ze;var xe=_e.rule,Oe=(xe.type==="object"||xe.type==="array")&&(typeof xe.fields=="object"||typeof xe.defaultField=="object");Oe=Oe&&(xe.required||!xe.required&&_e.value),xe.field=_e.field;function Ce(Fe,Ue){return _extends({},Ue,{fullField:xe.fullField+"."+Fe,fullFields:xe.fullFields?[].concat(xe.fullFields,[Fe]):[Fe]})}function Ie(Fe){Fe===void 0&&(Fe=[]);var Ue=Array.isArray(Fe)?Fe:[Fe];!ae.suppressWarning&&Ue.length&&g.warning("async-validator:",Ue),Ue.length&&xe.message!==void 0&&(Ue=[].concat(xe.message));var At=Ue.map(complementError(xe,oe));if(ae.first&&At.length)return pe[xe.field]=1,$e(At);if(!Oe)$e(At);else{if(xe.required&&!_e.value)return xe.message!==void 0?At=[].concat(xe.message).map(complementError(xe,oe)):ae.error&&(At=[ae.error(xe,format$2(ae.messages.required,xe.field))]),$e(At);var Et={};xe.defaultField&&Object.keys(_e.value).map(function(Dt){Et[Dt]=xe.defaultField}),Et=_extends({},Et,_e.rule.fields);var Pt={};Object.keys(Et).forEach(function(Dt){var Lt=Et[Dt],hn=Array.isArray(Lt)?Lt:[Lt];Pt[Dt]=hn.map(Ce.bind(null,Dt))});var kt=new g(Pt);kt.messages(ae.messages),_e.rule.options&&(_e.rule.options.messages=ae.messages,_e.rule.options.error=ae.error),kt.validate(_e.value,_e.rule.options||ae,function(Dt){var Lt=[];At&&At.length&&Lt.push.apply(Lt,At),Dt&&Dt.length&&Lt.push.apply(Lt,Dt),$e(Lt.length?Lt:null)})}}var Ne;if(xe.asyncValidator)Ne=xe.asyncValidator(xe,_e.value,Ie,_e.source,ae);else if(xe.validator){try{Ne=xe.validator(xe,_e.value,Ie,_e.source,ae)}catch(Fe){(ze=console.error)==null||ze.call(console,Fe),ae.suppressValidatorError||setTimeout(function(){throw Fe},0),Ie(Fe.message)}Ne===!0?Ie():Ne===!1?Ie(typeof xe.message=="function"?xe.message(xe.fullField||xe.field):xe.message||(xe.fullField||xe.field)+" fails"):Ne instanceof Array?Ie(Ne):Ne instanceof Error&&Ie(Ne.message)}Ne&&Ne.then&&Ne.then(function(){return Ie()},function(Fe){return Ie(Fe)})},function(_e){le(_e)},oe)},n.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!validators$4.hasOwnProperty(r.type))throw new Error(format$2("Unknown rule type %s",r.type));return r.type||"string"},n.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var $=Object.keys(r),L=$.indexOf("message");return L!==-1&&$.splice(L,1),$.length===1&&$[0]==="required"?validators$4.required:validators$4[this.getType(r)]||void 0},g}();Schema.register=function(g,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators$4[g]=n},Schema.warning=warning,Schema.messages=messages,Schema.validators=validators$4;const formItemValidateStates=["","error","validating","success"],formItemProps=buildProps({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:definePropType([String,Array])},required:{type:Boolean,default:void 0},rules:{type:definePropType([Object,Array])},error:String,validateStatus:{type:String,values:formItemValidateStates},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:componentSizes}}),COMPONENT_NAME$5="ElLabelWrap";var FormLabelWrap=defineComponent({name:COMPONENT_NAME$5,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(g,{slots:n}){const r=inject(formContextKey,void 0),$=inject(formItemContextKey);$||throwError$2(COMPONENT_NAME$5,"usage: <el-form-item><label-wrap /></el-form-item>");const L=useNamespace("form"),V=ref(),oe=ref(0),ae=()=>{var ue;if((ue=V.value)!=null&&ue.firstElementChild){const de=window.getComputedStyle(V.value.firstElementChild).width;return Math.ceil(Number.parseFloat(de))}else return 0},re=(ue="update")=>{nextTick(()=>{n.default&&g.isAutoWidth&&(ue==="update"?oe.value=ae():ue==="remove"&&(r==null||r.deregisterLabelWidth(oe.value)))})},le=()=>re("update");return onMounted(()=>{le()}),onBeforeUnmount(()=>{re("remove")}),onUpdated(()=>le()),watch(oe,(ue,de)=>{g.updateAll&&(r==null||r.registerLabelWidth(ue,de))}),useResizeObserver(computed(()=>{var ue,de;return(de=(ue=V.value)==null?void 0:ue.firstElementChild)!=null?de:null}),le),()=>{var ue,de;if(!n)return null;const{isAutoWidth:he}=g;if(he){const pe=r==null?void 0:r.autoLabelWidth,_e=$==null?void 0:$.hasLabel,$e={};if(_e&&pe&&pe!=="auto"){const xe=Math.max(0,Number.parseInt(pe,10)-oe.value),Oe=r.labelPosition==="left"?"marginRight":"marginLeft";xe&&($e[Oe]=`${xe}px`)}return createVNode$2("div",{ref:V,class:[L.be("item","label-wrap")],style:$e},[(ue=n.default)==null?void 0:ue.call(n)])}else return createVNode$2(Fragment,{ref:V},[(de=n.default)==null?void 0:de.call(n)])}}});const _hoisted_1$h=["role","aria-labelledby"],__default__$l=defineComponent({name:"ElFormItem"}),_sfc_main$x=defineComponent({...__default__$l,props:formItemProps,setup(g,{expose:n}){const r=g,$=useSlots(),L=inject(formContextKey,void 0),V=inject(formItemContextKey,void 0),oe=useSize(void 0,{formItem:!1}),ae=useNamespace("form-item"),re=useId().value,le=ref([]),ue=ref(""),de=refDebounced(ue,100),he=ref(""),pe=ref();let _e,$e=!1;const xe=computed(()=>{if((L==null?void 0:L.labelPosition)==="top")return{};const Dn=addUnit(r.labelWidth||(L==null?void 0:L.labelWidth)||"");return Dn?{width:Dn}:{}}),Oe=computed(()=>{if((L==null?void 0:L.labelPosition)==="top"||(L==null?void 0:L.inline))return{};if(!r.label&&!r.labelWidth&&Et)return{};const Dn=addUnit(r.labelWidth||(L==null?void 0:L.labelWidth)||"");return!r.label&&!$.label?{marginLeft:Dn}:{}}),Ce=computed(()=>[ae.b(),ae.m(oe.value),ae.is("error",ue.value==="error"),ae.is("validating",ue.value==="validating"),ae.is("success",ue.value==="success"),ae.is("required",hn.value||r.required),ae.is("no-asterisk",L==null?void 0:L.hideRequiredAsterisk),(L==null?void 0:L.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[ae.m("feedback")]:L==null?void 0:L.statusIcon}]),Ie=computed(()=>isBoolean$2(r.inlineMessage)?r.inlineMessage:(L==null?void 0:L.inlineMessage)||!1),Ne=computed(()=>[ae.e("error"),{[ae.em("error","inline")]:Ie.value}]),ze=computed(()=>r.prop?isString$5(r.prop)?r.prop:r.prop.join("."):""),Fe=computed(()=>!!(r.label||$.label)),Ue=computed(()=>r.for||le.value.length===1?le.value[0]:void 0),At=computed(()=>!Ue.value&&Fe.value),Et=!!V,Pt=computed(()=>{const Dn=L==null?void 0:L.model;if(!(!Dn||!r.prop))return getProp(Dn,r.prop).value}),kt=computed(()=>{const{required:Dn}=r,kn=[];r.rules&&kn.push(...castArray$1(r.rules));const Nn=L==null?void 0:L.rules;if(Nn&&r.prop){const Vn=getProp(Nn,r.prop).value;Vn&&kn.push(...castArray$1(Vn))}if(Dn!==void 0){const Vn=kn.map((Ln,Tn)=>[Ln,Tn]).filter(([Ln])=>Object.keys(Ln).includes("required"));if(Vn.length>0)for(const[Ln,Tn]of Vn)Ln.required!==Dn&&(kn[Tn]={...Ln,required:Dn});else kn.push({required:Dn})}return kn}),Dt=computed(()=>kt.value.length>0),Lt=Dn=>kt.value.filter(kn=>!kn.trigger||!Dn?!0:Array.isArray(kn.trigger)?kn.trigger.includes(Dn):kn.trigger===Dn).map(({trigger:kn,...Nn})=>Nn),hn=computed(()=>kt.value.some(Dn=>Dn.required)),vn=computed(()=>{var Dn;return de.value==="error"&&r.showMessage&&((Dn=L==null?void 0:L.showMessage)!=null?Dn:!0)}),_n=computed(()=>`${r.label||""}${(L==null?void 0:L.labelSuffix)||""}`),$n=Dn=>{ue.value=Dn},Sn=Dn=>{var kn,Nn;const{errors:Vn,fields:Ln}=Dn;(!Vn||!Ln)&&console.error(Dn),$n("error"),he.value=Vn?(Nn=(kn=Vn==null?void 0:Vn[0])==null?void 0:kn.message)!=null?Nn:`${r.prop} is required`:"",L==null||L.emit("validate",r.prop,!1,he.value)},xn=()=>{$n("success"),L==null||L.emit("validate",r.prop,!0,"")},On=async Dn=>{const kn=ze.value;return new Schema({[kn]:Dn}).validate({[kn]:Pt.value},{firstFields:!0}).then(()=>(xn(),!0)).catch(Nn=>(Sn(Nn),Promise.reject(Nn)))},Cn=async(Dn,kn)=>{if($e||!r.prop)return!1;const Nn=isFunction$5(kn);if(!Dt.value)return kn==null||kn(!1),!1;const Vn=Lt(Dn);return Vn.length===0?(kn==null||kn(!0),!0):($n("validating"),On(Vn).then(()=>(kn==null||kn(!0),!0)).catch(Ln=>{const{fields:Tn}=Ln;return kn==null||kn(!1,Tn),Nn?!1:Promise.reject(Tn)}))},An=()=>{$n(""),he.value="",$e=!1},Rn=async()=>{const Dn=L==null?void 0:L.model;if(!Dn||!r.prop)return;const kn=getProp(Dn,r.prop);$e=!0,kn.value=clone$a(_e),await nextTick(),An(),$e=!1},Fn=Dn=>{le.value.includes(Dn)||le.value.push(Dn)},Pn=Dn=>{le.value=le.value.filter(kn=>kn!==Dn)};watch(()=>r.error,Dn=>{he.value=Dn||"",$n(Dn?"error":"")},{immediate:!0}),watch(()=>r.validateStatus,Dn=>$n(Dn||""));const Un=reactive({...toRefs(r),$el:pe,size:oe,validateState:ue,labelId:re,inputIds:le,isGroup:At,hasLabel:Fe,addInputId:Fn,removeInputId:Pn,resetField:Rn,clearValidate:An,validate:Cn});return provide(formItemContextKey,Un),onMounted(()=>{r.prop&&(L==null||L.addField(Un),_e=clone$a(Pt.value))}),onBeforeUnmount(()=>{L==null||L.removeField(Un)}),n({size:oe,validateMessage:he,validateState:ue,validate:Cn,clearValidate:An,resetField:Rn}),(Dn,kn)=>{var Nn;return openBlock(),createElementBlock("div",{ref_key:"formItemRef",ref:pe,class:normalizeClass(unref(Ce)),role:unref(At)?"group":void 0,"aria-labelledby":unref(At)?unref(re):void 0},[createVNode$2(unref(FormLabelWrap),{"is-auto-width":unref(xe).width==="auto","update-all":((Nn=unref(L))==null?void 0:Nn.labelWidth)==="auto"},{default:withCtx(()=>[unref(Fe)?(openBlock(),createBlock(resolveDynamicComponent(unref(Ue)?"label":"div"),{key:0,id:unref(re),for:unref(Ue),class:normalizeClass(unref(ae).e("label")),style:normalizeStyle$2(unref(xe))},{default:withCtx(()=>[renderSlot(Dn.$slots,"label",{label:unref(_n)},()=>[createTextVNode(toDisplayString(unref(_n)),1)])]),_:3},8,["id","for","class","style"])):createCommentVNode("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),createBaseVNode("div",{class:normalizeClass(unref(ae).e("content")),style:normalizeStyle$2(unref(Oe))},[renderSlot(Dn.$slots,"default"),createVNode$2(Transition,{name:`${unref(ae).namespace.value}-zoom-in-top`},{default:withCtx(()=>[unref(vn)?renderSlot(Dn.$slots,"error",{key:0,error:he.value},()=>[createBaseVNode("div",{class:normalizeClass(unref(Ne))},toDisplayString(he.value),3)]):createCommentVNode("v-if",!0)]),_:3},8,["name"])],6)],10,_hoisted_1$h)}}});var FormItem=_export_sfc$1(_sfc_main$x,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);let inputNumberProps,inputNumberEmits,_hoisted_1$g,_hoisted_2$9,__default__$k,_sfc_main$w;ElForm=withInstall(Form,{FormItem}),ElFormItem=withNoopInstall(FormItem),inputNumberProps=buildProps({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:useSizeProp,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:g=>g===null||isNumber$4(g)||["min","max"].includes(g),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:g=>g>=0&&g===Number.parseInt(`${g}`,10)},validateEvent:{type:Boolean,default:!0}}),inputNumberEmits={[CHANGE_EVENT]:(g,n)=>g!==n,blur:g=>g instanceof FocusEvent,focus:g=>g instanceof FocusEvent,[INPUT_EVENT]:g=>isNumber$4(g)||isNil(g),[UPDATE_MODEL_EVENT]:g=>isNumber$4(g)||isNil(g)},_hoisted_1$g=["aria-label","onKeydown"],_hoisted_2$9=["aria-label","onKeydown"],__default__$k=defineComponent({name:"ElInputNumber"}),_sfc_main$w=defineComponent({...__default__$k,props:inputNumberProps,emits:inputNumberEmits,setup(g,{expose:n,emit:r}){const $=g,{t:L}=useLocale(),V=useNamespace("input-number"),oe=ref(),ae=reactive({currentValue:$.modelValue,userInput:null}),{formItem:re}=useFormItem(),le=computed(()=>isNumber$4($.modelValue)&&Ce($.modelValue,-1)<$.min),ue=computed(()=>isNumber$4($.modelValue)&&Ce($.modelValue)>$.max),de=computed(()=>{const Lt=Oe($.step);return isUndefined$2($.precision)?Math.max(Oe($.modelValue),Lt):(Lt>$.precision,$.precision)}),he=computed(()=>$.controls&&$.controlsPosition==="right"),pe=useSize(),_e=useDisabled(),$e=computed(()=>{if(ae.userInput!==null)return ae.userInput;let Lt=ae.currentValue;if(isNil(Lt))return"";if(isNumber$4(Lt)){if(Number.isNaN(Lt))return"";isUndefined$2($.precision)||(Lt=Lt.toFixed($.precision))}return Lt}),xe=(Lt,hn)=>{if(isUndefined$2(hn)&&(hn=de.value),hn===0)return Math.round(Lt);let vn=String(Lt);const _n=vn.indexOf(".");if(_n===-1||!vn.replace(".","").split("")[_n+hn])return Lt;const $n=vn.length;return vn.charAt($n-1)==="5"&&(vn=`${vn.slice(0,Math.max(0,$n-1))}6`),Number.parseFloat(Number(vn).toFixed(hn))},Oe=Lt=>{if(isNil(Lt))return 0;const hn=Lt.toString(),vn=hn.indexOf(".");let _n=0;return vn!==-1&&(_n=hn.length-vn-1),_n},Ce=(Lt,hn=1)=>isNumber$4(Lt)?xe(Lt+$.step*hn):ae.currentValue,Ie=()=>{if($.readonly||_e.value||ue.value)return;const Lt=Number($e.value)||0,hn=Ce(Lt);Fe(hn),r(INPUT_EVENT,ae.currentValue)},Ne=()=>{if($.readonly||_e.value||le.value)return;const Lt=Number($e.value)||0,hn=Ce(Lt,-1);Fe(hn),r(INPUT_EVENT,ae.currentValue)},ze=(Lt,hn)=>{const{max:vn,min:_n,step:$n,precision:Sn,stepStrictly:xn,valueOnClear:On}=$;let Cn=Number(Lt);if(isNil(Lt)||Number.isNaN(Cn))return null;if(Lt===""){if(On===null)return null;Cn=isString$5(On)?{min:_n,max:vn}[On]:On}return xn&&(Cn=xe(Math.round(Cn/$n)*$n,Sn)),isUndefined$2(Sn)||(Cn=xe(Cn,Sn)),(Cn>vn||Cn<_n)&&(Cn=Cn>vn?vn:_n,hn&&r(UPDATE_MODEL_EVENT,Cn)),Cn},Fe=(Lt,hn=!0)=>{var vn;const _n=ae.currentValue,$n=ze(Lt);if(_n!==$n){if(!hn){r(UPDATE_MODEL_EVENT,$n);return}ae.userInput=null,r(UPDATE_MODEL_EVENT,$n),r(CHANGE_EVENT,$n,_n),$.validateEvent&&((vn=re==null?void 0:re.validate)==null||vn.call(re,"change").catch(Sn=>{})),ae.currentValue=$n}},Ue=Lt=>{ae.userInput=Lt;const hn=Lt===""?null:Number(Lt);r(INPUT_EVENT,hn),Fe(hn,!1)},At=Lt=>{const hn=Lt!==""?Number(Lt):"";(isNumber$4(hn)&&!Number.isNaN(hn)||Lt==="")&&Fe(hn),ae.userInput=null},Et=()=>{var Lt,hn;(hn=(Lt=oe.value)==null?void 0:Lt.focus)==null||hn.call(Lt)},Pt=()=>{var Lt,hn;(hn=(Lt=oe.value)==null?void 0:Lt.blur)==null||hn.call(Lt)},kt=Lt=>{r("focus",Lt)},Dt=Lt=>{var hn;r("blur",Lt),$.validateEvent&&((hn=re==null?void 0:re.validate)==null||hn.call(re,"blur").catch(vn=>{}))};return watch(()=>$.modelValue,Lt=>{const hn=ze(ae.userInput),vn=ze(Lt,!0);(!hn||hn!==vn)&&(ae.currentValue=vn,ae.userInput=null)},{immediate:!0}),onMounted(()=>{var Lt;const{min:hn,max:vn,modelValue:_n}=$,$n=(Lt=oe.value)==null?void 0:Lt.input;if($n.setAttribute("role","spinbutton"),Number.isFinite(vn)?$n.setAttribute("aria-valuemax",String(vn)):$n.removeAttribute("aria-valuemax"),Number.isFinite(hn)?$n.setAttribute("aria-valuemin",String(hn)):$n.removeAttribute("aria-valuemin"),$n.setAttribute("aria-valuenow",String(ae.currentValue)),$n.setAttribute("aria-disabled",String(_e.value)),!isNumber$4(_n)&&_n!=null){let Sn=Number(_n);Number.isNaN(Sn)&&(Sn=null),r(UPDATE_MODEL_EVENT,Sn)}}),onUpdated(()=>{var Lt;const hn=(Lt=oe.value)==null?void 0:Lt.input;hn==null||hn.setAttribute("aria-valuenow",`${ae.currentValue}`)}),n({focus:Et,blur:Pt}),(Lt,hn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(V).b(),unref(V).m(unref(pe)),unref(V).is("disabled",unref(_e)),unref(V).is("without-controls",!Lt.controls),unref(V).is("controls-right",unref(he))]),onDragstart:hn[0]||(hn[0]=withModifiers(()=>{},["prevent"]))},[Lt.controls?withDirectives((openBlock(),createElementBlock("span",{key:0,role:"button","aria-label":unref(L)("el.inputNumber.decrease"),class:normalizeClass([unref(V).e("decrease"),unref(V).is("disabled",unref(le))]),onKeydown:withKeys(Ne,["enter"])},[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[unref(he)?(openBlock(),createBlock(unref(arrow_down_default),{key:0})):(openBlock(),createBlock(unref(minus_default),{key:1}))]),_:1})],42,_hoisted_1$g)),[[unref(vRepeatClick),Ne]]):createCommentVNode("v-if",!0),Lt.controls?withDirectives((openBlock(),createElementBlock("span",{key:1,role:"button","aria-label":unref(L)("el.inputNumber.increase"),class:normalizeClass([unref(V).e("increase"),unref(V).is("disabled",unref(ue))]),onKeydown:withKeys(Ie,["enter"])},[createVNode$2(unref(ElIcon),null,{default:withCtx(()=>[unref(he)?(openBlock(),createBlock(unref(arrow_up_default),{key:0})):(openBlock(),createBlock(unref(plus_default),{key:1}))]),_:1})],42,_hoisted_2$9)),[[unref(vRepeatClick),Ie]]):createCommentVNode("v-if",!0),createVNode$2(unref(ElInput),{id:Lt.id,ref_key:"input",ref:oe,type:"number",step:Lt.step,"model-value":unref($e),placeholder:Lt.placeholder,readonly:Lt.readonly,disabled:unref(_e),size:unref(pe),max:Lt.max,min:Lt.min,name:Lt.name,label:Lt.label,"validate-event":!1,onKeydown:[withKeys(withModifiers(Ie,["prevent"]),["up"]),withKeys(withModifiers(Ne,["prevent"]),["down"])],onBlur:Dt,onFocus:kt,onInput:Ue,onChange:At},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var InputNumber=_export_sfc$1(_sfc_main$w,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);ElInputNumber=withInstall(InputNumber);class SubMenu$1{constructor(n,r){this.parent=n,this.domNode=r,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(n){n===this.subMenuItems.length?n=0:n<0&&(n=this.subMenuItems.length-1),this.subMenuItems[n].focus(),this.subIndex=n}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,r=>{r.addEventListener("keydown",$=>{let L=!1;switch($.code){case EVENT_CODE.down:{this.gotoSubIndex(this.subIndex+1),L=!0;break}case EVENT_CODE.up:{this.gotoSubIndex(this.subIndex-1),L=!0;break}case EVENT_CODE.tab:{triggerEvent(n,"mouseleave");break}case EVENT_CODE.enter:case EVENT_CODE.space:{L=!0,$.currentTarget.click();break}}return L&&($.preventDefault(),$.stopPropagation()),!1})})}}class MenuItem$1{constructor(n,r){this.domNode=n,this.submenu=null,this.submenu=null,this.init(r)}init(n){this.domNode.setAttribute("tabindex","0");const r=this.domNode.querySelector(`.${n}-menu`);r&&(this.submenu=new SubMenu$1(this,r)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",n=>{let r=!1;switch(n.code){case EVENT_CODE.down:{triggerEvent(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),r=!0;break}case EVENT_CODE.up:{triggerEvent(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),r=!0;break}case EVENT_CODE.tab:{triggerEvent(n.currentTarget,"mouseleave");break}case EVENT_CODE.enter:case EVENT_CODE.space:{r=!0,n.currentTarget.click();break}}r&&n.preventDefault()})}}class Menu$1{constructor(n,r){this.domNode=n,this.init(r)}init(n){const r=this.domNode.childNodes;Array.from(r).forEach($=>{$.nodeType===1&&new MenuItem$1($,n)})}}const _sfc_main$v=defineComponent({name:"ElMenuCollapseTransition",setup(){const g=useNamespace("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,r){addClass(n,`${g.namespace.value}-opacity-transition`),n.style.opacity="1",r()},onAfterEnter(n){removeClass(n,`${g.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),hasClass(n,g.m("collapse"))?(removeClass(n,g.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),addClass(n,g.m("collapse"))):(addClass(n,g.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),removeClass(n,g.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){addClass(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function _sfc_render$8(g,n,r,$,L,V){return openBlock(),createBlock(Transition,mergeProps({mode:"out-in"},g.listeners),{default:withCtx(()=>[renderSlot(g.$slots,"default")]),_:3},16)}var ElMenuCollapseTransition=_export_sfc$1(_sfc_main$v,[["render",_sfc_render$8],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function useMenu(g,n){const r=computed(()=>{let $=g.parent;const L=[n.value];for(;$.type.name!=="ElMenu";)$.props.index&&L.unshift($.props.index),$=$.parent;return L});return{parentMenu:computed(()=>{let $=g.parent;for(;$&&!["ElMenu","ElSubMenu"].includes($.type.name);)$=$.parent;return $}),indexPath:r}}function useMenuColor(g){return computed(()=>{const n=g.backgroundColor;return n?new TinyColor(n).shade(20).toString():""})}const useMenuCssVar=(g,n)=>{const r=useNamespace("menu");return computed(()=>r.cssVarBlock({"text-color":g.textColor||"","hover-text-color":g.textColor||"","bg-color":g.backgroundColor||"","hover-bg-color":useMenuColor(g).value||"","active-color":g.activeTextColor||"",level:`${n}`}))},subMenuProps=buildProps({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:iconPropType},expandOpenIcon:{type:iconPropType},collapseCloseIcon:{type:iconPropType},collapseOpenIcon:{type:iconPropType}}),COMPONENT_NAME$4="ElSubMenu";var SubMenu=defineComponent({name:COMPONENT_NAME$4,props:subMenuProps,setup(g,{slots:n,expose:r}){const $=getCurrentInstance(),{indexPath:L,parentMenu:V}=useMenu($,computed(()=>g.index)),oe=useNamespace("menu"),ae=useNamespace("sub-menu"),re=inject("rootMenu");re||throwError$2(COMPONENT_NAME$4,"can not inject root menu");const le=inject(`subMenu:${V.value.uid}`);le||throwError$2(COMPONENT_NAME$4,"can not inject sub menu");const ue=ref({}),de=ref({});let he;const pe=ref(!1),_e=ref(),$e=ref(null),xe=computed(()=>kt.value==="horizontal"&&Ce.value?"bottom-start":"right-start"),Oe=computed(()=>kt.value==="horizontal"&&Ce.value||kt.value==="vertical"&&!re.props.collapse?g.expandCloseIcon&&g.expandOpenIcon?Fe.value?g.expandOpenIcon:g.expandCloseIcon:arrow_down_default:g.collapseCloseIcon&&g.collapseOpenIcon?Fe.value?g.collapseOpenIcon:g.collapseCloseIcon:arrow_right_default),Ce=computed(()=>le.level===0),Ie=computed(()=>g.popperAppendToBody===void 0?Ce.value:Boolean(g.popperAppendToBody)),Ne=computed(()=>re.props.collapse?`${oe.namespace.value}-zoom-in-left`:`${oe.namespace.value}-zoom-in-top`),ze=computed(()=>kt.value==="horizontal"&&Ce.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),Fe=computed(()=>re.openedMenus.includes(g.index)),Ue=computed(()=>{let xn=!1;return Object.values(ue.value).forEach(On=>{On.active&&(xn=!0)}),Object.values(de.value).forEach(On=>{On.active&&(xn=!0)}),xn}),At=computed(()=>re.props.backgroundColor||""),Et=computed(()=>re.props.activeTextColor||""),Pt=computed(()=>re.props.textColor||""),kt=computed(()=>re.props.mode),Dt=reactive({index:g.index,indexPath:L,active:Ue}),Lt=computed(()=>kt.value!=="horizontal"?{color:Pt.value}:{borderBottomColor:Ue.value?re.props.activeTextColor?Et.value:"":"transparent",color:Ue.value?Et.value:Pt.value}),hn=()=>{var xn,On,Cn;return(Cn=(On=(xn=$e.value)==null?void 0:xn.popperRef)==null?void 0:On.popperInstanceRef)==null?void 0:Cn.destroy()},vn=xn=>{xn||hn()},_n=()=>{re.props.menuTrigger==="hover"&&re.props.mode==="horizontal"||re.props.collapse&&re.props.mode==="vertical"||g.disabled||re.handleSubMenuClick({index:g.index,indexPath:L.value,active:Ue.value})},$n=(xn,On=g.showTimeout)=>{var Cn;xn.type!=="focus"&&(re.props.menuTrigger==="click"&&re.props.mode==="horizontal"||!re.props.collapse&&re.props.mode==="vertical"||g.disabled||(le.mouseInChild.value=!0,he==null||he(),{stop:he}=useTimeoutFn(()=>{re.openMenu(g.index,L.value)},On),Ie.value&&((Cn=V.value.vnode.el)==null||Cn.dispatchEvent(new MouseEvent("mouseenter")))))},Sn=(xn=!1)=>{var On,Cn;re.props.menuTrigger==="click"&&re.props.mode==="horizontal"||!re.props.collapse&&re.props.mode==="vertical"||(he==null||he(),le.mouseInChild.value=!1,{stop:he}=useTimeoutFn(()=>!pe.value&&re.closeMenu(g.index,L.value),g.hideTimeout),Ie.value&&xn&&((On=$.parent)==null?void 0:On.type.name)==="ElSubMenu"&&((Cn=le.handleMouseleave)==null||Cn.call(le,!0)))};watch(()=>re.props.collapse,xn=>vn(Boolean(xn)));{const xn=Cn=>{de.value[Cn.index]=Cn},On=Cn=>{delete de.value[Cn.index]};provide(`subMenu:${$.uid}`,{addSubMenu:xn,removeSubMenu:On,handleMouseleave:Sn,mouseInChild:pe,level:le.level+1})}return r({opened:Fe}),onMounted(()=>{re.addSubMenu(Dt),le.addSubMenu(Dt)}),onBeforeUnmount(()=>{le.removeSubMenu(Dt),re.removeSubMenu(Dt)}),()=>{var xn;const On=[(xn=n.title)==null?void 0:xn.call(n),h$2(ElIcon,{class:ae.e("icon-arrow"),style:{transform:Fe.value?g.expandCloseIcon&&g.expandOpenIcon||g.collapseCloseIcon&&g.collapseOpenIcon&&re.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>isString$5(Oe.value)?h$2($.appContext.components[Oe.value]):h$2(Oe.value)})],Cn=useMenuCssVar(re.props,le.level+1),An=re.isMenuPopup?h$2(ElTooltip,{ref:$e,visible:Fe.value,effect:"light",pure:!0,offset:g.popperOffset,showArrow:!1,persistent:!0,popperClass:g.popperClass,placement:xe.value,teleported:Ie.value,fallbackPlacements:ze.value,transition:Ne.value,gpuAcceleration:!1},{content:()=>{var Rn;return h$2("div",{class:[oe.m(kt.value),oe.m("popup-container"),g.popperClass],onMouseenter:Fn=>$n(Fn,100),onMouseleave:()=>Sn(!0),onFocus:Fn=>$n(Fn,100)},[h$2("ul",{class:[oe.b(),oe.m("popup"),oe.m(`popup-${xe.value}`)],style:Cn.value},[(Rn=n.default)==null?void 0:Rn.call(n)])])},default:()=>h$2("div",{class:ae.e("title"),style:[Lt.value,{backgroundColor:At.value}],onClick:_n},On)}):h$2(Fragment,{},[h$2("div",{class:ae.e("title"),style:[Lt.value,{backgroundColor:At.value}],ref:_e,onClick:_n},On),h$2(_CollapseTransition,{},{default:()=>{var Rn;return withDirectives(h$2("ul",{role:"menu",class:[oe.b(),oe.m("inline")],style:Cn.value},[(Rn=n.default)==null?void 0:Rn.call(n)]),[[vShow,Fe.value]])}})]);return h$2("li",{class:[ae.b(),ae.is("active",Ue.value),ae.is("opened",Fe.value),ae.is("disabled",g.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:Fe.value,onMouseenter:$n,onMouseleave:()=>Sn(!0),onFocus:$n},[An])}}});const menuProps=buildProps({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:definePropType(Array),default:()=>mutable([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0}}),checkIndexPath=g=>Array.isArray(g)&&g.every(n=>isString$5(n)),menuEmits={close:(g,n)=>isString$5(g)&&checkIndexPath(n),open:(g,n)=>isString$5(g)&&checkIndexPath(n),select:(g,n,r,$)=>isString$5(g)&&checkIndexPath(n)&&isObject$c(r)&&($===void 0||$ instanceof Promise)};var Menu=defineComponent({name:"ElMenu",props:menuProps,emits:menuEmits,setup(g,{emit:n,slots:r,expose:$}){const L=getCurrentInstance(),V=L.appContext.config.globalProperties.$router,oe=ref(),ae=useNamespace("menu"),re=useNamespace("sub-menu"),le=ref(-1),ue=ref(g.defaultOpeneds&&!g.collapse?g.defaultOpeneds.slice(0):[]),de=ref(g.defaultActive),he=ref({}),pe=ref({}),_e=computed(()=>g.mode==="horizontal"||g.mode==="vertical"&&g.collapse),$e=()=>{const Pt=de.value&&he.value[de.value];!Pt||g.mode==="horizontal"||g.collapse||Pt.indexPath.forEach(kt=>{const Dt=pe.value[kt];Dt&&xe(kt,Dt.indexPath)})},xe=(Pt,kt)=>{ue.value.includes(Pt)||(g.uniqueOpened&&(ue.value=ue.value.filter(Dt=>kt.includes(Dt))),ue.value.push(Pt),n("open",Pt,kt))},Oe=(Pt,kt)=>{const Dt=ue.value.indexOf(Pt);Dt!==-1&&ue.value.splice(Dt,1),n("close",Pt,kt)},Ce=({index:Pt,indexPath:kt})=>{ue.value.includes(Pt)?Oe(Pt,kt):xe(Pt,kt)},Ie=Pt=>{(g.mode==="horizontal"||g.collapse)&&(ue.value=[]);const{index:kt,indexPath:Dt}=Pt;if(!(kt===void 0||Dt===void 0))if(g.router&&V){const Lt=Pt.route||kt,hn=V.push(Lt).then(vn=>(vn||(de.value=kt),vn));n("select",kt,Dt,{index:kt,indexPath:Dt,route:Lt},hn)}else de.value=kt,n("select",kt,Dt,{index:kt,indexPath:Dt})},Ne=Pt=>{const kt=he.value,Dt=kt[Pt]||de.value&&kt[de.value]||kt[g.defaultActive];Dt?de.value=Dt.index:de.value=Pt},ze=()=>{var Pt,kt;if(!oe.value)return-1;const Dt=Array.from((kt=(Pt=oe.value)==null?void 0:Pt.childNodes)!=null?kt:[]).filter(xn=>xn.nodeName!=="#text"||xn.nodeValue),Lt=64,hn=Number.parseInt(getComputedStyle(oe.value).paddingLeft,10),vn=Number.parseInt(getComputedStyle(oe.value).paddingRight,10),_n=oe.value.clientWidth-hn-vn;let $n=0,Sn=0;return Dt.forEach((xn,On)=>{$n+=xn.offsetWidth||0,$n<=_n-Lt&&(Sn=On+1)}),Sn===Dt.length?-1:Sn},Fe=(Pt,kt=33.34)=>{let Dt;return()=>{Dt&&clearTimeout(Dt),Dt=setTimeout(()=>{Pt()},kt)}};let Ue=!0;const At=()=>{const Pt=()=>{le.value=-1,nextTick(()=>{le.value=ze()})};Ue?Pt():Fe(Pt)(),Ue=!1};watch(()=>g.defaultActive,Pt=>{he.value[Pt]||(de.value=""),Ne(Pt)}),watch(()=>g.collapse,Pt=>{Pt&&(ue.value=[])}),watch(he.value,$e);let Et;watchEffect(()=>{g.mode==="horizontal"&&g.ellipsis?Et=useResizeObserver(oe,At).stop:Et==null||Et()});{const Pt=Dt=>{pe.value[Dt.index]=Dt},kt=Dt=>{delete pe.value[Dt.index]};provide("rootMenu",reactive({props:g,openedMenus:ue,items:he,subMenus:pe,activeIndex:de,isMenuPopup:_e,addMenuItem:Dt=>{he.value[Dt.index]=Dt},removeMenuItem:Dt=>{delete he.value[Dt.index]},addSubMenu:Pt,removeSubMenu:kt,openMenu:xe,closeMenu:Oe,handleMenuItemClick:Ie,handleSubMenuClick:Ce})),provide(`subMenu:${L.uid}`,{addSubMenu:Pt,removeSubMenu:kt,mouseInChild:ref(!1),level:0})}return onMounted(()=>{g.mode==="horizontal"&&new Menu$1(L.vnode.el,ae.namespace.value)}),$({open:Pt=>{const{indexPath:kt}=pe.value[Pt];kt.forEach(Dt=>xe(Dt,kt))},close:Oe,handleResize:At}),()=>{var Pt,kt;let Dt=(kt=(Pt=r.default)==null?void 0:Pt.call(r))!=null?kt:[];const Lt=[];if(g.mode==="horizontal"&&oe.value){const _n=flattedChildren(Dt),$n=le.value===-1?_n:_n.slice(0,le.value),Sn=le.value===-1?[]:_n.slice(le.value);(Sn==null?void 0:Sn.length)&&g.ellipsis&&(Dt=$n,Lt.push(h$2(SubMenu,{index:"sub-menu-more",class:re.e("hide-arrow")},{title:()=>h$2(ElIcon,{class:re.e("icon-more")},{default:()=>h$2(more_default)}),default:()=>Sn})))}const hn=useMenuCssVar(g,0),vn=h$2("ul",{key:String(g.collapse),role:"menubar",ref:oe,style:hn.value,class:{[ae.b()]:!0,[ae.m(g.mode)]:!0,[ae.m("collapse")]:g.collapse}},[...Dt,...Lt]);return g.collapseTransition&&g.mode==="vertical"?h$2(ElMenuCollapseTransition,()=>vn):vn}}});const menuItemProps=buildProps({index:{type:definePropType([String,null]),default:null},route:{type:definePropType([String,Object])},disabled:Boolean}),menuItemEmits={click:g=>isString$5(g.index)&&Array.isArray(g.indexPath)},COMPONENT_NAME$3="ElMenuItem",_sfc_main$u=defineComponent({name:COMPONENT_NAME$3,components:{ElTooltip},props:menuItemProps,emits:menuItemEmits,setup(g,{emit:n}){const r=getCurrentInstance(),$=inject("rootMenu"),L=useNamespace("menu"),V=useNamespace("menu-item");$||throwError$2(COMPONENT_NAME$3,"can not inject root menu");const{parentMenu:oe,indexPath:ae}=useMenu(r,toRef(g,"index")),re=inject(`subMenu:${oe.value.uid}`);re||throwError$2(COMPONENT_NAME$3,"can not inject sub menu");const le=computed(()=>g.index===$.activeIndex),ue=reactive({index:g.index,indexPath:ae,active:le}),de=()=>{g.disabled||($.handleMenuItemClick({index:g.index,indexPath:ae.value,route:g.route}),n("click",ue))};return onMounted(()=>{re.addSubMenu(ue),$.addMenuItem(ue)}),onBeforeUnmount(()=>{re.removeSubMenu(ue),$.removeMenuItem(ue)}),{Effect,parentMenu:oe,rootMenu:$,active:le,nsMenu:L,nsMenuItem:V,handleClick:de}}});function _sfc_render$7(g,n,r,$,L,V){const oe=resolveComponent("el-tooltip");return openBlock(),createElementBlock("li",{class:normalizeClass([g.nsMenuItem.b(),g.nsMenuItem.is("active",g.active),g.nsMenuItem.is("disabled",g.disabled)]),role:"menuitem",tabindex:"-1",onClick:n[0]||(n[0]=(...ae)=>g.handleClick&&g.handleClick(...ae))},[g.parentMenu.type.name==="ElMenu"&&g.rootMenu.props.collapse&&g.$slots.title?(openBlock(),createBlock(oe,{key:0,effect:g.Effect.DARK,placement:"right","fallback-placements":["left"],persistent:""},{content:withCtx(()=>[renderSlot(g.$slots,"title")]),default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(g.nsMenu.be("tooltip","trigger"))},[renderSlot(g.$slots,"default")],2)]),_:3},8,["effect"])):(openBlock(),createElementBlock(Fragment,{key:1},[renderSlot(g.$slots,"default"),renderSlot(g.$slots,"title")],64))],2)}var MenuItem=_export_sfc$1(_sfc_main$u,[["render",_sfc_render$7],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const menuItemGroupProps={title:String},COMPONENT_NAME$2="ElMenuItemGroup",_sfc_main$t=defineComponent({name:COMPONENT_NAME$2,props:menuItemGroupProps,setup(){return{ns:useNamespace("menu-item-group")}}});function _sfc_render$6(g,n,r,$,L,V){return openBlock(),createElementBlock("li",{class:normalizeClass(g.ns.b())},[createBaseVNode("div",{class:normalizeClass(g.ns.e("title"))},[g.$slots.title?renderSlot(g.$slots,"title",{key:1}):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(g.title),1)],64))],2),createBaseVNode("ul",null,[renderSlot(g.$slots,"default")])],2)}var MenuItemGroup=_export_sfc$1(_sfc_main$t,[["render",_sfc_render$6],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const ElMenu=withInstall(Menu,{MenuItem,MenuItemGroup,SubMenu}),ElMenuItem=withNoopInstall(MenuItem);withNoopInstall(MenuItemGroup);const ElSubMenu=withNoopInstall(SubMenu),selectGroupKey="ElSelectGroup",selectKey="ElSelect";function useOption(g,n){const r=inject(selectKey),$=inject(selectGroupKey,{disabled:!1}),L=computed(()=>Object.prototype.toString.call(g.value).toLowerCase()==="[object object]"),V=computed(()=>r.props.multiple?de(r.props.modelValue,g.value):he(g.value,r.props.modelValue)),oe=computed(()=>{if(r.props.multiple){const $e=r.props.modelValue||[];return!V.value&&$e.length>=r.props.multipleLimit&&r.props.multipleLimit>0}else return!1}),ae=computed(()=>g.label||(L.value?"":g.value)),re=computed(()=>g.value||g.label||""),le=computed(()=>g.disabled||n.groupDisabled||oe.value),ue=getCurrentInstance(),de=($e=[],xe)=>{if(L.value){const Oe=r.props.valueKey;return $e&&$e.some(Ce=>toRaw(get$2(Ce,Oe))===get$2(xe,Oe))}else return $e&&$e.includes(xe)},he=($e,xe)=>{if(L.value){const{valueKey:Oe}=r.props;return get$2($e,Oe)===get$2(xe,Oe)}else return $e===xe},pe=()=>{!g.disabled&&!$.disabled&&(r.hoverIndex=r.optionsArray.indexOf(ue.proxy))};watch(()=>ae.value,()=>{!g.created&&!r.props.remote&&r.setSelected()}),watch(()=>g.value,($e,xe)=>{const{remote:Oe,valueKey:Ce}=r.props;if(Object.is($e,xe)||(r.onOptionDestroy(xe,ue.proxy),r.onOptionCreate(ue.proxy)),!g.created&&!Oe){if(Ce&&typeof $e=="object"&&typeof xe=="object"&&$e[Ce]===xe[Ce])return;r.setSelected()}}),watch(()=>$.disabled,()=>{n.groupDisabled=$.disabled},{immediate:!0});const{queryChange:_e}=toRaw(r);return watch(_e,$e=>{const{query:xe}=unref($e),Oe=new RegExp(escapeStringRegexp(xe),"i");n.visible=Oe.test(ae.value)||g.created,n.visible||r.filteredOptionsCount--}),{select:r,currentLabel:ae,currentValue:re,itemSelected:V,isDisabled:le,hoverItem:pe}}const _sfc_main$s=defineComponent({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(g){const n=useNamespace("select"),r=reactive({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:$,itemSelected:L,isDisabled:V,select:oe,hoverItem:ae}=useOption(g,r),{visible:re,hover:le}=toRefs(r),ue=getCurrentInstance().proxy;oe.onOptionCreate(ue),onBeforeUnmount(()=>{const he=ue.value,{selected:pe}=oe,_e=(oe.props.multiple?pe:[pe]).some($e=>$e.value===ue.value);nextTick(()=>{oe.cachedOptions.get(he)===ue&&!_e&&oe.cachedOptions.delete(he)}),oe.onOptionDestroy(he,ue)});function de(){g.disabled!==!0&&r.groupDisabled!==!0&&oe.handleOptionSelect(ue,!0)}return{ns:n,currentLabel:$,itemSelected:L,isDisabled:V,select:oe,hoverItem:ae,visible:re,hover:le,selectOptionClick:de,states:r}}});function _sfc_render$5(g,n,r,$,L,V){return withDirectives((openBlock(),createElementBlock("li",{class:normalizeClass([g.ns.be("dropdown","item"),g.ns.is("disabled",g.isDisabled),{selected:g.itemSelected,hover:g.hover}]),onMouseenter:n[0]||(n[0]=(...oe)=>g.hoverItem&&g.hoverItem(...oe)),onClick:n[1]||(n[1]=withModifiers((...oe)=>g.selectOptionClick&&g.selectOptionClick(...oe),["stop"]))},[renderSlot(g.$slots,"default",{},()=>[createBaseVNode("span",null,toDisplayString(g.currentLabel),1)])],34)),[[vShow,g.visible]])}var Option$1=_export_sfc$1(_sfc_main$s,[["render",_sfc_render$5],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const _sfc_main$r=defineComponent({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const g=inject(selectKey),n=useNamespace("select"),r=computed(()=>g.props.popperClass),$=computed(()=>g.props.multiple),L=computed(()=>g.props.fitInputWidth),V=ref("");function oe(){var ae;V.value=`${(ae=g.selectWrapper)==null?void 0:ae.offsetWidth}px`}return onMounted(()=>{oe(),useResizeObserver(g.selectWrapper,oe)}),{ns:n,minWidth:V,popperClass:r,isMultiple:$,isFitInputWidth:L}}});function _sfc_render$4(g,n,r,$,L,V){return openBlock(),createElementBlock("div",{class:normalizeClass([g.ns.b("dropdown"),g.ns.is("multiple",g.isMultiple),g.popperClass]),style:normalizeStyle$2({[g.isFitInputWidth?"width":"minWidth"]:g.minWidth})},[renderSlot(g.$slots,"default")],6)}var ElSelectMenu=_export_sfc$1(_sfc_main$r,[["render",_sfc_render$4],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function useSelectStates(g){const{t:n}=useLocale();return reactive({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:g.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:n("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1,mouseEnter:!1})}const useSelect=(g,n,r)=>{const{t:$}=useLocale(),L=useNamespace("select");useDeprecated({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},computed(()=>g.suffixTransition===!1));const V=ref(null),oe=ref(null),ae=ref(null),re=ref(null),le=ref(null),ue=ref(null),de=ref(-1),he=shallowRef({query:""}),pe=shallowRef(""),{form:_e,formItem:$e}=useFormItem(),xe=computed(()=>!g.filterable||g.multiple||!n.visible),Oe=computed(()=>g.disabled||(_e==null?void 0:_e.disabled)),Ce=computed(()=>{const Hn=g.multiple?Array.isArray(g.modelValue)&&g.modelValue.length>0:g.modelValue!==void 0&&g.modelValue!==null&&g.modelValue!=="";return g.clearable&&!Oe.value&&n.inputHovering&&Hn}),Ie=computed(()=>g.remote&&g.filterable&&!g.remoteShowSuffix?"":g.suffixIcon),Ne=computed(()=>L.is("reverse",Ie.value&&n.visible&&g.suffixTransition)),ze=computed(()=>g.remote?300:0),Fe=computed(()=>g.loading?g.loadingText||$("el.select.loading"):g.remote&&n.query===""&&n.options.size===0?!1:g.filterable&&n.query&&n.options.size>0&&n.filteredOptionsCount===0?g.noMatchText||$("el.select.noMatch"):n.options.size===0?g.noDataText||$("el.select.noData"):null),Ue=computed(()=>Array.from(n.options.values())),At=computed(()=>Array.from(n.cachedOptions.values())),Et=computed(()=>{const Hn=Ue.value.filter(oi=>!oi.created).some(oi=>oi.currentLabel===n.query);return g.filterable&&g.allowCreate&&n.query!==""&&!Hn}),Pt=useSize(),kt=computed(()=>["small"].includes(Pt.value)?"small":"default"),Dt=computed({get(){return n.visible&&Fe.value!==!1},set(Hn){n.visible=Hn}});watch([()=>Oe.value,()=>Pt.value,()=>_e==null?void 0:_e.size],()=>{nextTick(()=>{Lt()})}),watch(()=>g.placeholder,Hn=>{n.cachedPlaceHolder=n.currentPlaceholder=Hn}),watch(()=>g.modelValue,(Hn,oi)=>{g.multiple&&(Lt(),Hn&&Hn.length>0||oe.value&&n.query!==""?n.currentPlaceholder="":n.currentPlaceholder=n.cachedPlaceHolder,g.filterable&&!g.reserveKeyword&&(n.query="",hn(n.query))),$n(),g.filterable&&!g.multiple&&(n.inputLength=20),!isEqual(Hn,oi)&&g.validateEvent&&($e==null||$e.validate("change").catch(zn=>{}))},{flush:"post",deep:!0}),watch(()=>n.visible,Hn=>{var oi,zn,Yn;Hn?((zn=(oi=ae.value)==null?void 0:oi.updatePopper)==null||zn.call(oi),g.filterable&&(n.filteredOptionsCount=n.optionsCount,n.query=g.remote?"":n.selectedLabel,g.multiple?(Yn=oe.value)==null||Yn.focus():n.selectedLabel&&(n.currentPlaceholder=`${n.selectedLabel}`,n.selectedLabel=""),hn(n.query),!g.multiple&&!g.remote&&(he.value.query="",triggerRef(he),triggerRef(pe)))):(g.filterable&&(isFunction$5(g.filterMethod)&&g.filterMethod(""),isFunction$5(g.remoteMethod)&&g.remoteMethod("")),oe.value&&oe.value.blur(),n.query="",n.previousQuery=null,n.selectedLabel="",n.inputLength=20,n.menuVisibleOnFocus=!1,xn(),nextTick(()=>{oe.value&&oe.value.value===""&&n.selected.length===0&&(n.currentPlaceholder=n.cachedPlaceHolder)}),g.multiple||(n.selected&&(g.filterable&&g.allowCreate&&n.createdSelected&&n.createdLabel?n.selectedLabel=n.createdLabel:n.selectedLabel=n.selected.currentLabel,g.filterable&&(n.query=n.selectedLabel)),g.filterable&&(n.currentPlaceholder=n.cachedPlaceHolder))),r.emit("visible-change",Hn)}),watch(()=>n.options.entries(),()=>{var Hn,oi,zn;if(!isClient)return;(oi=(Hn=ae.value)==null?void 0:Hn.updatePopper)==null||oi.call(Hn),g.multiple&&Lt();const Yn=((zn=le.value)==null?void 0:zn.querySelectorAll("input"))||[];Array.from(Yn).includes(document.activeElement)||$n(),g.defaultFirstOption&&(g.filterable||g.remote)&&n.filteredOptionsCount&&_n()},{flush:"post"}),watch(()=>n.hoverIndex,Hn=>{isNumber$4(Hn)&&Hn>-1?de.value=Ue.value[Hn]||{}:de.value={},Ue.value.forEach(oi=>{oi.hover=de.value===oi})});const Lt=()=>{g.collapseTags&&!g.filterable||nextTick(()=>{var Hn,oi;if(!V.value)return;const zn=V.value.$el.querySelector("input"),Yn=re.value,ai=getComponentSize(Pt.value||(_e==null?void 0:_e.size));zn.style.height=`${(n.selected.length===0?ai:Math.max(Yn?Yn.clientHeight+(Yn.clientHeight>ai?6:0):0,ai))-2}px`,n.tagInMultiLine=Number.parseFloat(zn.style.height)>=ai,n.visible&&Fe.value!==!1&&((oi=(Hn=ae.value)==null?void 0:Hn.updatePopper)==null||oi.call(Hn))})},hn=async Hn=>{if(!(n.previousQuery===Hn||n.isOnComposition)){if(n.previousQuery===null&&(isFunction$5(g.filterMethod)||isFunction$5(g.remoteMethod))){n.previousQuery=Hn;return}n.previousQuery=Hn,nextTick(()=>{var oi,zn;n.visible&&((zn=(oi=ae.value)==null?void 0:oi.updatePopper)==null||zn.call(oi))}),n.hoverIndex=-1,g.multiple&&g.filterable&&nextTick(()=>{const oi=oe.value.value.length*15+20;n.inputLength=g.collapseTags?Math.min(50,oi):oi,vn(),Lt()}),g.remote&&isFunction$5(g.remoteMethod)?(n.hoverIndex=-1,g.remoteMethod(Hn)):isFunction$5(g.filterMethod)?(g.filterMethod(Hn),triggerRef(pe)):(n.filteredOptionsCount=n.optionsCount,he.value.query=Hn,triggerRef(he),triggerRef(pe)),g.defaultFirstOption&&(g.filterable||g.remote)&&n.filteredOptionsCount&&(await nextTick(),_n())}},vn=()=>{n.currentPlaceholder!==""&&(n.currentPlaceholder=oe.value.value?"":n.cachedPlaceHolder)},_n=()=>{const Hn=Ue.value.filter(Yn=>Yn.visible&&!Yn.disabled&&!Yn.states.groupDisabled),oi=Hn.find(Yn=>Yn.created),zn=Hn[0];n.hoverIndex=Vn(Ue.value,oi||zn)},$n=()=>{var Hn;if(g.multiple)n.selectedLabel="";else{const zn=Sn(g.modelValue);(Hn=zn.props)!=null&&Hn.created?(n.createdLabel=zn.props.value,n.createdSelected=!0):n.createdSelected=!1,n.selectedLabel=zn.currentLabel,n.selected=zn,g.filterable&&(n.query=n.selectedLabel);return}const oi=[];Array.isArray(g.modelValue)&&g.modelValue.forEach(zn=>{oi.push(Sn(zn))}),n.selected=oi,nextTick(()=>{Lt()})},Sn=Hn=>{let oi;const zn=toRawType(Hn).toLowerCase()==="object",Yn=toRawType(Hn).toLowerCase()==="null",ai=toRawType(Hn).toLowerCase()==="undefined";for(let Bi=n.cachedOptions.size-1;Bi>=0;Bi--){const Gi=At.value[Bi];if(zn?get$2(Gi.value,g.valueKey)===get$2(Hn,g.valueKey):Gi.value===Hn){oi={value:Hn,currentLabel:Gi.currentLabel,isDisabled:Gi.isDisabled};break}}if(oi)return oi;const hi=zn?Hn.label:!Yn&&!ai?Hn:"",Ti={value:Hn,currentLabel:hi};return g.multiple&&(Ti.hitState=!1),Ti},xn=()=>{setTimeout(()=>{const Hn=g.valueKey;g.multiple?n.selected.length>0?n.hoverIndex=Math.min.apply(null,n.selected.map(oi=>Ue.value.findIndex(zn=>get$2(zn,Hn)===get$2(oi,Hn)))):n.hoverIndex=-1:n.hoverIndex=Ue.value.findIndex(oi=>pi(oi)===pi(n.selected))},300)},On=()=>{var Hn,oi;Cn(),(oi=(Hn=ae.value)==null?void 0:Hn.updatePopper)==null||oi.call(Hn),g.multiple&&!g.filterable&&Lt()},Cn=()=>{var Hn;n.inputWidth=(Hn=V.value)==null?void 0:Hn.$el.getBoundingClientRect().width},An=()=>{g.filterable&&n.query!==n.selectedLabel&&(n.query=n.selectedLabel,hn(n.query))},Rn=debounce(()=>{An()},ze.value),Fn=debounce(Hn=>{hn(Hn.target.value)},ze.value),Pn=Hn=>{isEqual(g.modelValue,Hn)||r.emit(CHANGE_EVENT,Hn)},Un=Hn=>{if(Hn.target.value.length<=0&&!Zn()){const oi=g.modelValue.slice();oi.pop(),r.emit(UPDATE_MODEL_EVENT,oi),Pn(oi)}Hn.target.value.length===1&&g.modelValue.length===0&&(n.currentPlaceholder=n.cachedPlaceHolder)},Dn=(Hn,oi)=>{const zn=n.selected.indexOf(oi);if(zn>-1&&!Oe.value){const Yn=g.modelValue.slice();Yn.splice(zn,1),r.emit(UPDATE_MODEL_EVENT,Yn),Pn(Yn),r.emit("remove-tag",oi.value)}Hn.stopPropagation()},kn=Hn=>{Hn.stopPropagation();const oi=g.multiple?[]:"";if(!isString$5(oi))for(const zn of n.selected)zn.isDisabled&&oi.push(zn.value);r.emit(UPDATE_MODEL_EVENT,oi),Pn(oi),n.hoverIndex=-1,n.visible=!1,r.emit("clear")},Nn=(Hn,oi)=>{var zn;if(g.multiple){const Yn=(g.modelValue||[]).slice(),ai=Vn(Yn,Hn.value);ai>-1?Yn.splice(ai,1):(g.multipleLimit<=0||Yn.length<g.multipleLimit)&&Yn.push(Hn.value),r.emit(UPDATE_MODEL_EVENT,Yn),Pn(Yn),Hn.created&&(n.query="",hn(""),n.inputLength=20),g.filterable&&((zn=oe.value)==null||zn.focus())}else r.emit(UPDATE_MODEL_EVENT,Hn.value),Pn(Hn.value),n.visible=!1;n.isSilentBlur=oi,Ln(),!n.visible&&nextTick(()=>{Tn(Hn)})},Vn=(Hn=[],oi)=>{if(!isObject$c(oi))return Hn.indexOf(oi);const zn=g.valueKey;let Yn=-1;return Hn.some((ai,hi)=>toRaw(get$2(ai,zn))===get$2(oi,zn)?(Yn=hi,!0):!1),Yn},Ln=()=>{n.softFocus=!0;const Hn=oe.value||V.value;Hn&&(Hn==null||Hn.focus())},Tn=Hn=>{var oi,zn,Yn,ai,hi;const Ti=Array.isArray(Hn)?Hn[0]:Hn;let Bi=null;if(Ti!=null&&Ti.value){const Gi=Ue.value.filter(eo=>eo.value===Ti.value);Gi.length>0&&(Bi=Gi[0].$el)}if(ae.value&&Bi){const Gi=(ai=(Yn=(zn=(oi=ae.value)==null?void 0:oi.popperRef)==null?void 0:zn.contentRef)==null?void 0:Yn.querySelector)==null?void 0:ai.call(Yn,`.${L.be("dropdown","wrap")}`);Gi&&scrollIntoView$2(Gi,Bi)}(hi=ue.value)==null||hi.handleScroll()},In=Hn=>{n.optionsCount++,n.filteredOptionsCount++,n.options.set(Hn.value,Hn),n.cachedOptions.set(Hn.value,Hn)},Bn=(Hn,oi)=>{n.options.get(Hn)===oi&&(n.optionsCount--,n.filteredOptionsCount--,n.options.delete(Hn))},Qn=Hn=>{Hn.code!==EVENT_CODE.backspace&&Zn(!1),n.inputLength=oe.value.value.length*15+20,Lt()},Zn=Hn=>{if(!Array.isArray(n.selected))return;const oi=n.selected[n.selected.length-1];if(oi)return Hn===!0||Hn===!1?(oi.hitState=Hn,Hn):(oi.hitState=!oi.hitState,oi.hitState)},Kn=Hn=>{const oi=Hn.target.value;if(Hn.type==="compositionend")n.isOnComposition=!1,nextTick(()=>hn(oi));else{const zn=oi[oi.length-1]||"";n.isOnComposition=!isKorean(zn)}},ui=()=>{nextTick(()=>Tn(n.selected))},ei=Hn=>{n.softFocus?n.softFocus=!1:((g.automaticDropdown||g.filterable)&&(g.filterable&&!n.visible&&(n.menuVisibleOnFocus=!0),n.visible=!0),r.emit("focus",Hn))},si=()=>{var Hn;n.visible=!1,(Hn=V.value)==null||Hn.blur()},ti=Hn=>{nextTick(()=>{n.isSilentBlur?n.isSilentBlur=!1:r.emit("blur",Hn)}),n.softFocus=!1},Jn=Hn=>{kn(Hn)},di=()=>{n.visible=!1},mi=Hn=>{n.visible&&(Hn.preventDefault(),Hn.stopPropagation(),n.visible=!1)},yi=Hn=>{var oi;Hn&&!n.mouseEnter||Oe.value||(n.menuVisibleOnFocus?n.menuVisibleOnFocus=!1:(!ae.value||!ae.value.isFocusInsideContent())&&(n.visible=!n.visible),n.visible&&((oi=oe.value||V.value)==null||oi.focus()))},$i=()=>{n.visible?Ue.value[n.hoverIndex]&&Nn(Ue.value[n.hoverIndex],void 0):yi()},pi=Hn=>isObject$c(Hn.value)?get$2(Hn.value,g.valueKey):Hn.value,Wn=computed(()=>Ue.value.filter(Hn=>Hn.visible).every(Hn=>Hn.disabled)),ii=Hn=>{if(!n.visible){n.visible=!0;return}if(!(n.options.size===0||n.filteredOptionsCount===0)&&!n.isOnComposition&&!Wn.value){Hn==="next"?(n.hoverIndex++,n.hoverIndex===n.options.size&&(n.hoverIndex=0)):Hn==="prev"&&(n.hoverIndex--,n.hoverIndex<0&&(n.hoverIndex=n.options.size-1));const oi=Ue.value[n.hoverIndex];(oi.disabled===!0||oi.states.groupDisabled===!0||!oi.visible)&&ii(Hn),nextTick(()=>Tn(de.value))}};return{optionsArray:Ue,selectSize:Pt,handleResize:On,debouncedOnInputChange:Rn,debouncedQueryChange:Fn,deletePrevTag:Un,deleteTag:Dn,deleteSelected:kn,handleOptionSelect:Nn,scrollToOption:Tn,readonly:xe,resetInputHeight:Lt,showClose:Ce,iconComponent:Ie,iconReverse:Ne,showNewOption:Et,collapseTagSize:kt,setSelected:$n,managePlaceholder:vn,selectDisabled:Oe,emptyText:Fe,toggleLastOptionHitState:Zn,resetInputState:Qn,handleComposition:Kn,onOptionCreate:In,onOptionDestroy:Bn,handleMenuEnter:ui,handleFocus:ei,blur:si,handleBlur:ti,handleClearClick:Jn,handleClose:di,handleKeydownEscape:mi,toggleMenu:yi,selectOption:$i,getValueKey:pi,navigateOptions:ii,dropMenuVisible:Dt,queryChange:he,groupQueryChange:pe,reference:V,input:oe,tooltipRef:ae,tags:re,selectWrapper:le,scrollbar:ue,handleMouseEnter:()=>{n.mouseEnter=!0},handleMouseLeave:()=>{n.mouseEnter=!1}}},COMPONENT_NAME$1="ElSelect",_sfc_main$q=defineComponent({name:COMPONENT_NAME$1,componentName:COMPONENT_NAME$1,components:{ElInput,ElSelectMenu,ElOption:Option$1,ElTag,ElScrollbar,ElTooltip,ElIcon},directives:{ClickOutside},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:isValidComponentSize},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:iconPropType,default:circle_close_default},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:iconPropType,default:arrow_down_default},tagType:{...tagProps.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Ee,default:"bottom-start"}},emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur"],setup(g,n){const r=useNamespace("select"),$=useNamespace("input"),{t:L}=useLocale(),V=useSelectStates(g),{optionsArray:oe,selectSize:ae,readonly:re,handleResize:le,collapseTagSize:ue,debouncedOnInputChange:de,debouncedQueryChange:he,deletePrevTag:pe,deleteTag:_e,deleteSelected:$e,handleOptionSelect:xe,scrollToOption:Oe,setSelected:Ce,resetInputHeight:Ie,managePlaceholder:Ne,showClose:ze,selectDisabled:Fe,iconComponent:Ue,iconReverse:At,showNewOption:Et,emptyText:Pt,toggleLastOptionHitState:kt,resetInputState:Dt,handleComposition:Lt,onOptionCreate:hn,onOptionDestroy:vn,handleMenuEnter:_n,handleFocus:$n,blur:Sn,handleBlur:xn,handleClearClick:On,handleClose:Cn,handleKeydownEscape:An,toggleMenu:Rn,selectOption:Fn,getValueKey:Pn,navigateOptions:Un,dropMenuVisible:Dn,reference:kn,input:Nn,tooltipRef:Vn,tags:Ln,selectWrapper:Tn,scrollbar:In,queryChange:Bn,groupQueryChange:Qn,handleMouseEnter:Zn,handleMouseLeave:Kn}=useSelect(g,V,n),{focus:ui}=useFocus(kn),{inputWidth:ei,selected:si,inputLength:ti,filteredOptionsCount:Jn,visible:di,softFocus:mi,selectedLabel:yi,hoverIndex:$i,query:pi,inputHovering:Wn,currentPlaceholder:ii,menuVisibleOnFocus:Hn,isOnComposition:oi,isSilentBlur:zn,options:Yn,cachedOptions:ai,optionsCount:hi,prefixWidth:Ti,tagInMultiLine:Bi}=toRefs(V),Gi=computed(()=>{const uo=[r.b()],Io=unref(ae);return Io&&uo.push(r.m(Io)),g.disabled&&uo.push(r.m("disabled")),uo}),eo=computed(()=>({maxWidth:`${unref(ei)-32}px`,width:"100%"})),ki=computed(()=>({maxWidth:`${unref(ei)>123?unref(ei)-123:unref(ei)-75}px`}));provide(selectKey,reactive({props:g,options:Yn,optionsArray:oe,cachedOptions:ai,optionsCount:hi,filteredOptionsCount:Jn,hoverIndex:$i,handleOptionSelect:xe,onOptionCreate:hn,onOptionDestroy:vn,selectWrapper:Tn,selected:si,setSelected:Ce,queryChange:Bn,groupQueryChange:Qn})),onMounted(()=>{V.cachedPlaceHolder=ii.value=g.placeholder||L("el.select.placeholder"),g.multiple&&Array.isArray(g.modelValue)&&g.modelValue.length>0&&(ii.value=""),useResizeObserver(Tn,le),g.remote&&g.multiple&&Ie(),nextTick(()=>{const uo=kn.value&&kn.value.$el;if(!!uo&&(ei.value=uo.getBoundingClientRect().width,n.slots.prefix)){const Io=uo.querySelector(`.${$.e("prefix")}`);Ti.value=Math.max(Io.getBoundingClientRect().width+5,30)}}),Ce()}),g.multiple&&!Array.isArray(g.modelValue)&&n.emit(UPDATE_MODEL_EVENT,[]),!g.multiple&&Array.isArray(g.modelValue)&&n.emit(UPDATE_MODEL_EVENT,"");const to=computed(()=>{var uo,Io;return(Io=(uo=Vn.value)==null?void 0:uo.popperRef)==null?void 0:Io.contentRef});return{tagInMultiLine:Bi,prefixWidth:Ti,selectSize:ae,readonly:re,handleResize:le,collapseTagSize:ue,debouncedOnInputChange:de,debouncedQueryChange:he,deletePrevTag:pe,deleteTag:_e,deleteSelected:$e,handleOptionSelect:xe,scrollToOption:Oe,inputWidth:ei,selected:si,inputLength:ti,filteredOptionsCount:Jn,visible:di,softFocus:mi,selectedLabel:yi,hoverIndex:$i,query:pi,inputHovering:Wn,currentPlaceholder:ii,menuVisibleOnFocus:Hn,isOnComposition:oi,isSilentBlur:zn,options:Yn,resetInputHeight:Ie,managePlaceholder:Ne,showClose:ze,selectDisabled:Fe,iconComponent:Ue,iconReverse:At,showNewOption:Et,emptyText:Pt,toggleLastOptionHitState:kt,resetInputState:Dt,handleComposition:Lt,handleMenuEnter:_n,handleFocus:$n,blur:Sn,handleBlur:xn,handleClearClick:On,handleClose:Cn,handleKeydownEscape:An,toggleMenu:Rn,selectOption:Fn,getValueKey:Pn,navigateOptions:Un,dropMenuVisible:Dn,focus:ui,reference:kn,input:Nn,tooltipRef:Vn,popperPaneRef:to,tags:Ln,selectWrapper:Tn,scrollbar:In,wrapperKls:Gi,selectTagsStyle:eo,nsSelect:r,tagTextStyle:ki,handleMouseEnter:Zn,handleMouseLeave:Kn}}}),_hoisted_1$f=["disabled","autocomplete"],_hoisted_2$8={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function _sfc_render$3(g,n,r,$,L,V){const oe=resolveComponent("el-tag"),ae=resolveComponent("el-tooltip"),re=resolveComponent("el-icon"),le=resolveComponent("el-input"),ue=resolveComponent("el-option"),de=resolveComponent("el-scrollbar"),he=resolveComponent("el-select-menu"),pe=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",{ref:"selectWrapper",class:normalizeClass(g.wrapperKls),onMouseenter:n[22]||(n[22]=(..._e)=>g.handleMouseEnter&&g.handleMouseEnter(..._e)),onMouseleave:n[23]||(n[23]=(..._e)=>g.handleMouseLeave&&g.handleMouseLeave(..._e)),onClick:n[24]||(n[24]=withModifiers((..._e)=>g.toggleMenu&&g.toggleMenu(..._e),["stop"]))},[createVNode$2(ae,{ref:"tooltipRef",visible:g.dropMenuVisible,placement:g.placement,teleported:g.teleported,"popper-class":[g.nsSelect.e("popper"),g.popperClass],"fallback-placements":["bottom-start","top-start","right","left"],effect:g.effect,pure:"",trigger:"click",transition:`${g.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:g.persistent,onShow:g.handleMenuEnter},{default:withCtx(()=>[createBaseVNode("div",{class:"select-trigger",onMouseenter:n[20]||(n[20]=_e=>g.inputHovering=!0),onMouseleave:n[21]||(n[21]=_e=>g.inputHovering=!1)},[g.multiple?(openBlock(),createElementBlock("div",{key:0,ref:"tags",class:normalizeClass(g.nsSelect.e("tags")),style:normalizeStyle$2(g.selectTagsStyle)},[g.collapseTags&&g.selected.length?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass([g.nsSelect.b("tags-wrapper"),{"has-prefix":g.prefixWidth&&g.selected.length}])},[createVNode$2(oe,{closable:!g.selectDisabled&&!g.selected[0].isDisabled,size:g.collapseTagSize,hit:g.selected[0].hitState,type:g.tagType,"disable-transitions":"",onClose:n[0]||(n[0]=_e=>g.deleteTag(_e,g.selected[0]))},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(g.nsSelect.e("tags-text")),style:normalizeStyle$2(g.tagTextStyle)},toDisplayString(g.selected[0].currentLabel),7)]),_:1},8,["closable","size","hit","type"]),g.selected.length>1?(openBlock(),createBlock(oe,{key:0,closable:!1,size:g.collapseTagSize,type:g.tagType,"disable-transitions":""},{default:withCtx(()=>[g.collapseTagsTooltip?(openBlock(),createBlock(ae,{key:0,disabled:g.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:g.effect,placement:"bottom",teleported:g.teleported},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(g.nsSelect.e("tags-text"))},"+ "+toDisplayString(g.selected.length-1),3)]),content:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(g.nsSelect.e("collapse-tags"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.selected.slice(1),(_e,$e)=>(openBlock(),createElementBlock("div",{key:$e,class:normalizeClass(g.nsSelect.e("collapse-tag"))},[(openBlock(),createBlock(oe,{key:g.getValueKey(_e),class:"in-tooltip",closable:!g.selectDisabled&&!_e.isDisabled,size:g.collapseTagSize,hit:_e.hitState,type:g.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:xe=>g.deleteTag(xe,_e)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(g.nsSelect.e("tags-text")),style:normalizeStyle$2({maxWidth:g.inputWidth-75+"px"})},toDisplayString(_e.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(g.nsSelect.e("tags-text"))},"+ "+toDisplayString(g.selected.length-1),3))]),_:1},8,["size","type"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createCommentVNode(" <div> "),g.collapseTags?createCommentVNode("v-if",!0):(openBlock(),createBlock(Transition,{key:1,onAfterLeave:g.resetInputHeight},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass([g.nsSelect.b("tags-wrapper"),{"has-prefix":g.prefixWidth&&g.selected.length}])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.selected,_e=>(openBlock(),createBlock(oe,{key:g.getValueKey(_e),closable:!g.selectDisabled&&!_e.isDisabled,size:g.collapseTagSize,hit:_e.hitState,type:g.tagType,"disable-transitions":"",onClose:$e=>g.deleteTag($e,_e)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(g.nsSelect.e("tags-text")),style:normalizeStyle$2({maxWidth:g.inputWidth-75+"px"})},toDisplayString(_e.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),createCommentVNode(" </div> "),g.filterable?withDirectives((openBlock(),createElementBlock("input",{key:2,ref:"input","onUpdate:modelValue":n[1]||(n[1]=_e=>g.query=_e),type:"text",class:normalizeClass([g.nsSelect.e("input"),g.nsSelect.is(g.selectSize)]),disabled:g.selectDisabled,autocomplete:g.autocomplete,style:normalizeStyle$2({marginLeft:g.prefixWidth&&!g.selected.length||g.tagInMultiLine?`${g.prefixWidth}px`:"",flexGrow:1,width:`${g.inputLength/(g.inputWidth-32)}%`,maxWidth:`${g.inputWidth-42}px`}),onFocus:n[2]||(n[2]=(..._e)=>g.handleFocus&&g.handleFocus(..._e)),onBlur:n[3]||(n[3]=(..._e)=>g.handleBlur&&g.handleBlur(..._e)),onKeyup:n[4]||(n[4]=(..._e)=>g.managePlaceholder&&g.managePlaceholder(..._e)),onKeydown:[n[5]||(n[5]=(..._e)=>g.resetInputState&&g.resetInputState(..._e)),n[6]||(n[6]=withKeys(withModifiers(_e=>g.navigateOptions("next"),["prevent"]),["down"])),n[7]||(n[7]=withKeys(withModifiers(_e=>g.navigateOptions("prev"),["prevent"]),["up"])),n[8]||(n[8]=withKeys((..._e)=>g.handleKeydownEscape&&g.handleKeydownEscape(..._e),["esc"])),n[9]||(n[9]=withKeys(withModifiers((..._e)=>g.selectOption&&g.selectOption(..._e),["stop","prevent"]),["enter"])),n[10]||(n[10]=withKeys((..._e)=>g.deletePrevTag&&g.deletePrevTag(..._e),["delete"])),n[11]||(n[11]=withKeys(_e=>g.visible=!1,["tab"]))],onCompositionstart:n[12]||(n[12]=(..._e)=>g.handleComposition&&g.handleComposition(..._e)),onCompositionupdate:n[13]||(n[13]=(..._e)=>g.handleComposition&&g.handleComposition(..._e)),onCompositionend:n[14]||(n[14]=(..._e)=>g.handleComposition&&g.handleComposition(..._e)),onInput:n[15]||(n[15]=(..._e)=>g.debouncedQueryChange&&g.debouncedQueryChange(..._e))},null,46,_hoisted_1$f)),[[vModelText,g.query]]):createCommentVNode("v-if",!0)],6)):createCommentVNode("v-if",!0),createVNode$2(le,{id:g.id,ref:"reference",modelValue:g.selectedLabel,"onUpdate:modelValue":n[16]||(n[16]=_e=>g.selectedLabel=_e),type:"text",placeholder:g.currentPlaceholder,name:g.name,autocomplete:g.autocomplete,size:g.selectSize,disabled:g.selectDisabled,readonly:g.readonly,"validate-event":!1,class:normalizeClass([g.nsSelect.is("focus",g.visible)]),tabindex:g.multiple&&g.filterable?-1:void 0,onFocus:g.handleFocus,onBlur:g.handleBlur,onInput:g.debouncedOnInputChange,onPaste:g.debouncedOnInputChange,onCompositionstart:g.handleComposition,onCompositionupdate:g.handleComposition,onCompositionend:g.handleComposition,onKeydown:[n[17]||(n[17]=withKeys(withModifiers(_e=>g.navigateOptions("next"),["stop","prevent"]),["down"])),n[18]||(n[18]=withKeys(withModifiers(_e=>g.navigateOptions("prev"),["stop","prevent"]),["up"])),withKeys(withModifiers(g.selectOption,["stop","prevent"]),["enter"]),withKeys(g.handleKeydownEscape,["esc"]),n[19]||(n[19]=withKeys(_e=>g.visible=!1,["tab"]))]},createSlots({suffix:withCtx(()=>[g.iconComponent&&!g.showClose?(openBlock(),createBlock(re,{key:0,class:normalizeClass([g.nsSelect.e("caret"),g.nsSelect.e("icon"),g.iconReverse])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(g.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),g.showClose&&g.clearIcon?(openBlock(),createBlock(re,{key:1,class:normalizeClass([g.nsSelect.e("caret"),g.nsSelect.e("icon")]),onClick:g.handleClearClick},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(g.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)]),_:2},[g.$slots.prefix?{name:"prefix",fn:withCtx(()=>[createBaseVNode("div",_hoisted_2$8,[renderSlot(g.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:withCtx(()=>[createVNode$2(he,null,{default:withCtx(()=>[withDirectives(createVNode$2(de,{ref:"scrollbar",tag:"ul","wrap-class":g.nsSelect.be("dropdown","wrap"),"view-class":g.nsSelect.be("dropdown","list"),class:normalizeClass([g.nsSelect.is("empty",!g.allowCreate&&Boolean(g.query)&&g.filteredOptionsCount===0)])},{default:withCtx(()=>[g.showNewOption?(openBlock(),createBlock(ue,{key:0,value:g.query,created:!0},null,8,["value"])):createCommentVNode("v-if",!0),renderSlot(g.$slots,"default")]),_:3},8,["wrap-class","view-class","class"]),[[vShow,g.options.size>0&&!g.loading]]),g.emptyText&&(!g.allowCreate||g.loading||g.allowCreate&&g.options.size===0)?(openBlock(),createElementBlock(Fragment,{key:0},[g.$slots.empty?renderSlot(g.$slots,"empty",{key:0}):(openBlock(),createElementBlock("p",{key:1,class:normalizeClass(g.nsSelect.be("dropdown","empty"))},toDisplayString(g.emptyText),3))],64)):createCommentVNode("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","effect","transition","persistent","onShow"])],34)),[[pe,g.handleClose,g.popperPaneRef]])}var Select=_export_sfc$1(_sfc_main$q,[["render",_sfc_render$3],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const _sfc_main$p=defineComponent({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(g){const n=useNamespace("select"),r=ref(!0),$=getCurrentInstance(),L=ref([]);provide(selectGroupKey,reactive({...toRefs(g)}));const V=inject(selectKey);onMounted(()=>{L.value=oe($.subTree)});const oe=re=>{const le=[];return Array.isArray(re.children)&&re.children.forEach(ue=>{var de;ue.type&&ue.type.name==="ElOption"&&ue.component&&ue.component.proxy?le.push(ue.component.proxy):(de=ue.children)!=null&&de.length&&le.push(...oe(ue))}),le},{groupQueryChange:ae}=toRaw(V);return watch(ae,()=>{r.value=L.value.some(re=>re.visible===!0)},{flush:"post"}),{visible:r,ns:n}}});function _sfc_render$2(g,n,r,$,L,V){return withDirectives((openBlock(),createElementBlock("ul",{class:normalizeClass(g.ns.be("group","wrap"))},[createBaseVNode("li",{class:normalizeClass(g.ns.be("group","title"))},toDisplayString(g.label),3),createBaseVNode("li",null,[createBaseVNode("ul",{class:normalizeClass(g.ns.b("group"))},[renderSlot(g.$slots,"default")],2)])],2)),[[vShow,g.visible]])}var OptionGroup=_export_sfc$1(_sfc_main$p,[["render",_sfc_render$2],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);ElSelect=withInstall(Select,{Option:Option$1,OptionGroup}),ElOption=withNoopInstall(Option$1),withNoopInstall(OptionGroup);const RowJustify=["start","center","end","space-around","space-between","space-evenly"],RowAlign=["top","middle","bottom"],rowProps=buildProps({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:RowJustify,default:"start"},align:{type:String,values:RowAlign,default:"top"}}),__default__$j=defineComponent({name:"ElRow"}),_sfc_main$o=defineComponent({...__default__$j,props:rowProps,setup(g){const n=g,r=useNamespace("row"),$=computed(()=>n.gutter);provide(rowContextKey,{gutter:$});const L=computed(()=>{const oe={};return n.gutter&&(oe.marginRight=oe.marginLeft=`-${n.gutter/2}px`),oe}),V=computed(()=>[r.b(),r.is(`justify-${n.justify}`,n.justify!=="start"),r.is(`align-${n.align}`,n.align!=="top")]);return(oe,ae)=>(openBlock(),createBlock(resolveDynamicComponent(oe.tag),{class:normalizeClass(unref(V)),style:normalizeStyle$2(unref(L))},{default:withCtx(()=>[renderSlot(oe.$slots,"default")]),_:3},8,["class","style"]))}});var Row=_export_sfc$1(_sfc_main$o,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);let switchProps,switchEmits,_hoisted_1$e,_hoisted_2$7,_hoisted_3$3,_hoisted_4$1,_hoisted_5$1,COMPONENT_NAME,__default__$i,_sfc_main$n;ElRow=withInstall(Row),switchProps=buildProps({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:iconPropType},inactiveIcon:{type:iconPropType},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:definePropType(Function)},size:{type:String,validator:isValidComponentSize},tabindex:{type:[String,Number]}}),switchEmits={[UPDATE_MODEL_EVENT]:g=>isBoolean$2(g)||isString$5(g)||isNumber$4(g),[CHANGE_EVENT]:g=>isBoolean$2(g)||isString$5(g)||isNumber$4(g),[INPUT_EVENT]:g=>isBoolean$2(g)||isString$5(g)||isNumber$4(g)},_hoisted_1$e=["onClick"],_hoisted_2$7=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],_hoisted_3$3=["aria-hidden"],_hoisted_4$1=["aria-hidden"],_hoisted_5$1=["aria-hidden"],COMPONENT_NAME="ElSwitch",__default__$i=defineComponent({name:COMPONENT_NAME}),_sfc_main$n=defineComponent({...__default__$i,props:switchProps,emits:switchEmits,setup(g,{expose:n,emit:r}){const $=g,L=getCurrentInstance(),{formItem:V}=useFormItem(),oe=useSize(),ae=useNamespace("switch");useDeprecated({from:'"value"',replacement:'"model-value" or "v-model"',scope:COMPONENT_NAME,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},computed(()=>{var ze;return!!((ze=L.vnode.props)!=null&&ze.value)}));const{inputId:re}=useFormItemInputId($,{formItemContext:V}),le=useDisabled(computed(()=>$.loading)),ue=ref($.modelValue!==!1),de=ref(),he=ref(),pe=computed(()=>[ae.b(),ae.m(oe.value),ae.is("disabled",le.value),ae.is("checked",xe.value)]),_e=computed(()=>({width:addUnit($.width)}));watch(()=>$.modelValue,()=>{ue.value=!0}),watch(()=>$.value,()=>{ue.value=!1});const $e=computed(()=>ue.value?$.modelValue:$.value),xe=computed(()=>$e.value===$.activeValue);[$.activeValue,$.inactiveValue].includes($e.value)||(r(UPDATE_MODEL_EVENT,$.inactiveValue),r(CHANGE_EVENT,$.inactiveValue),r(INPUT_EVENT,$.inactiveValue)),watch(xe,ze=>{var Fe;de.value.checked=ze,$.validateEvent&&((Fe=V==null?void 0:V.validate)==null||Fe.call(V,"change").catch(Ue=>{}))});const Oe=()=>{const ze=xe.value?$.inactiveValue:$.activeValue;r(UPDATE_MODEL_EVENT,ze),r(CHANGE_EVENT,ze),r(INPUT_EVENT,ze),nextTick(()=>{de.value.checked=xe.value})},Ce=()=>{if(le.value)return;const{beforeChange:ze}=$;if(!ze){Oe();return}const Fe=ze();[isPromise(Fe),isBoolean$2(Fe)].includes(!0)||throwError$2(COMPONENT_NAME,"beforeChange must return type `Promise<boolean>` or `boolean`"),isPromise(Fe)?Fe.then(Ue=>{Ue&&Oe()}).catch(Ue=>{}):Fe&&Oe()},Ie=computed(()=>ae.cssVarBlock({...$.activeColor?{"on-color":$.activeColor}:null,...$.inactiveColor?{"off-color":$.inactiveColor}:null,...$.borderColor?{"border-color":$.borderColor}:null})),Ne=()=>{var ze,Fe;(Fe=(ze=de.value)==null?void 0:ze.focus)==null||Fe.call(ze)};return onMounted(()=>{de.value.checked=xe.value}),n({focus:Ne,checked:xe}),(ze,Fe)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(pe)),style:normalizeStyle$2(unref(Ie)),onClick:withModifiers(Ce,["prevent"])},[createBaseVNode("input",{id:unref(re),ref_key:"input",ref:de,class:normalizeClass(unref(ae).e("input")),type:"checkbox",role:"switch","aria-checked":unref(xe),"aria-disabled":unref(le),name:ze.name,"true-value":ze.activeValue,"false-value":ze.inactiveValue,disabled:unref(le),tabindex:ze.tabindex,onChange:Oe,onKeydown:withKeys(Ce,["enter"])},null,42,_hoisted_2$7),!ze.inlinePrompt&&(ze.inactiveIcon||ze.inactiveText)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass([unref(ae).e("label"),unref(ae).em("label","left"),unref(ae).is("active",!unref(xe))])},[ze.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ze.inactiveIcon)))]),_:1})):createCommentVNode("v-if",!0),!ze.inactiveIcon&&ze.inactiveText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":unref(xe)},toDisplayString(ze.inactiveText),9,_hoisted_3$3)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("span",{ref_key:"core",ref:he,class:normalizeClass(unref(ae).e("core")),style:normalizeStyle$2(unref(_e))},[ze.inlinePrompt?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(ae).e("inner"))},[ze.activeIcon||ze.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(ae).is("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(xe)?ze.activeIcon:ze.inactiveIcon)))]),_:1},8,["class"])):ze.activeText||ze.inactiveText?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(ae).is("text")),"aria-hidden":!unref(xe)},toDisplayString(unref(xe)?ze.activeText:ze.inactiveText),11,_hoisted_4$1)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(ae).e("action"))},[ze.loading?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(ae).is("loading"))},{default:withCtx(()=>[createVNode$2(unref(loading_default))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],6),!ze.inlinePrompt&&(ze.activeIcon||ze.activeText)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass([unref(ae).e("label"),unref(ae).em("label","right"),unref(ae).is("active",unref(xe))])},[ze.activeIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ze.activeIcon)))]),_:1})):createCommentVNode("v-if",!0),!ze.activeIcon&&ze.activeText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":!unref(xe)},toDisplayString(ze.activeText),9,_hoisted_5$1)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],14,_hoisted_1$e))}});var Switch=_export_sfc$1(_sfc_main$n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);ElSwitch=withInstall(Switch);var matchHtmlRegExp=/["'&<>]/,escapeHtml_1=escapeHtml;function escapeHtml(g){var n=""+g,r=matchHtmlRegExp.exec(n);if(!r)return n;var $,L="",V=0,oe=0;for(V=r.index;V<n.length;V++){switch(n.charCodeAt(V)){case 34:$="&quot;";break;case 38:$="&amp;";break;case 39:$="&#39;";break;case 60:$="&lt;";break;case 62:$="&gt;";break;default:continue}oe!==V&&(L+=n.substring(oe,V)),oe=V+1,L+=$}return oe!==V?L+n.substring(oe,V):L}const getCell=function(g){var n;return(n=g.target)==null?void 0:n.closest("td")},isObject$a=function(g){return g!==null&&typeof g=="object"},orderBy=function(g,n,r,$,L){if(!n&&!$&&(!L||Array.isArray(L)&&!L.length))return g;typeof r=="string"?r=r==="descending"?-1:1:r=r&&r<0?-1:1;const V=$?null:function(ae,re){return L?(Array.isArray(L)||(L=[L]),L.map(le=>typeof le=="string"?get$2(ae,le):le(ae,re,g))):(n!=="$key"&&isObject$a(ae)&&"$value"in ae&&(ae=ae.$value),[isObject$a(ae)?get$2(ae,n):ae])},oe=function(ae,re){if($)return $(ae.value,re.value);for(let le=0,ue=ae.key.length;le<ue;le++){if(ae.key[le]<re.key[le])return-1;if(ae.key[le]>re.key[le])return 1}return 0};return g.map((ae,re)=>({value:ae,index:re,key:V?V(ae,re):null})).sort((ae,re)=>{let le=oe(ae,re);return le||(le=ae.index-re.index),le*+r}).map(ae=>ae.value)},getColumnById=function(g,n){let r=null;return g.columns.forEach($=>{$.id===n&&(r=$)}),r},getColumnByKey=function(g,n){let r=null;for(let $=0;$<g.columns.length;$++){const L=g.columns[$];if(L.columnKey===n){r=L;break}}return r||throwError$2("ElTable",`No column matching with column-key: ${n}`),r},getColumnByCell=function(g,n,r){const $=(n.className||"").match(new RegExp(`${r}-table_[^\\s]+`,"gm"));return $?getColumnById(g,$[0]):null},getRowIdentity=(g,n)=>{if(!g)throw new Error("Row is required when get row identity");if(typeof n=="string"){if(!n.includes("."))return`${g[n]}`;const r=n.split(".");let $=g;for(const L of r)$=$[L];return`${$}`}else if(typeof n=="function")return n.call(null,g)},getKeysMap=function(g,n){const r={};return(g||[]).forEach(($,L)=>{r[getRowIdentity($,n)]={row:$,index:L}}),r};function mergeOptions$1(g,n){const r={};let $;for($ in g)r[$]=g[$];for($ in n)if(hasOwn$2(n,$)){const L=n[$];typeof L<"u"&&(r[$]=L)}return r}function parseWidth(g){return g===""||g!==void 0&&(g=Number.parseInt(g,10),Number.isNaN(g)&&(g="")),g}function parseMinWidth(g){return g===""||g!==void 0&&(g=parseWidth(g),Number.isNaN(g)&&(g=80)),g}function parseHeight(g){return typeof g=="number"?g:typeof g=="string"?/^\d+(?:px)?$/.test(g)?Number.parseInt(g,10):g:null}function compose(...g){return g.length===0?n=>n:g.length===1?g[0]:g.reduce((n,r)=>(...$)=>n(r(...$)))}function toggleRowStatus(g,n,r){let $=!1;const L=g.indexOf(n),V=L!==-1,oe=ae=>{ae==="add"?g.push(n):g.splice(L,1),$=!0,isArray$9(n.children)&&n.children.forEach(re=>{toggleRowStatus(g,re,r!=null?r:!V)})};return isBoolean$2(r)?r&&!V?oe("add"):!r&&V&&oe("remove"):oe(V?"remove":"add"),$}function walkTreeNode(g,n,r="children",$="hasChildren"){const L=oe=>!(Array.isArray(oe)&&oe.length);function V(oe,ae,re){n(oe,ae,re),ae.forEach(le=>{if(le[$]){n(le,null,re+1);return}const ue=le[r];L(ue)||V(le,ue,re+1)})}g.forEach(oe=>{if(oe[$]){n(oe,null,0);return}const ae=oe[r];L(ae)||V(oe,ae,0)})}let removePopper;function createTablePopper(g,n,r,$,L){const{nextZIndex:V}=useZIndex(),oe=g==null?void 0:g.dataset.prefix,ae=g==null?void 0:g.querySelector(`.${oe}-scrollbar__wrap`);function re(){const _e=L==="light",$e=document.createElement("div");return $e.className=`${oe}-popper ${_e?"is-light":"is-dark"}`,r=escapeHtml_1(r),$e.innerHTML=r,$e.style.zIndex=String(V()),g==null||g.appendChild($e),$e}function le(){const _e=document.createElement("div");return _e.className=`${oe}-popper__arrow`,_e}function ue(){de&&de.update()}removePopper==null||removePopper(),removePopper=()=>{try{de&&de.destroy(),he&&(g==null||g.removeChild(he)),n.removeEventListener("mouseenter",ue),n.removeEventListener("mouseleave",removePopper),ae==null||ae.removeEventListener("scroll",removePopper),removePopper=void 0}catch{}};let de=null;const he=re(),pe=le();return he.appendChild(pe),de=yn(n,he,{strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{element:pe,padding:10}}],...$}),n.addEventListener("mouseenter",ue),n.addEventListener("mouseleave",removePopper),ae==null||ae.addEventListener("scroll",removePopper),de}function getCurrentColumns(g){return g.children?flatMap(g.children,getCurrentColumns):[g]}function getColSpan(g,n){return g+n.colSpan}const isFixedColumn=(g,n,r,$)=>{let L=0,V=g;const oe=r.states.columns.value;if($){const re=getCurrentColumns($[g]);L=oe.slice(0,oe.indexOf(re[0])).reduce(getColSpan,0),V=L+re.reduce(getColSpan,0)-1}else L=g;let ae;switch(n){case"left":V<r.states.fixedLeafColumnsLength.value&&(ae="left");break;case"right":L>=oe.length-r.states.rightFixedLeafColumnsLength.value&&(ae="right");break;default:V<r.states.fixedLeafColumnsLength.value?ae="left":L>=oe.length-r.states.rightFixedLeafColumnsLength.value&&(ae="right")}return ae?{direction:ae,start:L,after:V}:{}},getFixedColumnsClass=(g,n,r,$,L,V=0)=>{const oe=[],{direction:ae,start:re,after:le}=isFixedColumn(n,r,$,L);if(ae){const ue=ae==="left";oe.push(`${g}-fixed-column--${ae}`),ue&&le+V===$.states.fixedLeafColumnsLength.value-1?oe.push("is-last-column"):!ue&&re-V===$.states.columns.value.length-$.states.rightFixedLeafColumnsLength.value&&oe.push("is-first-column")}return oe};function getOffset(g,n){return g+(n.realWidth===null||Number.isNaN(n.realWidth)?Number(n.width):n.realWidth)}const getFixedColumnOffset=(g,n,r,$)=>{const{direction:L,start:V=0,after:oe=0}=isFixedColumn(g,n,r,$);if(!L)return;const ae={},re=L==="left",le=r.states.columns.value;return re?ae.left=le.slice(0,V).reduce(getOffset,0):ae.right=le.slice(oe+1).reverse().reduce(getOffset,0),ae},ensurePosition=(g,n)=>{!g||Number.isNaN(g[n])||(g[n]=`${g[n]}px`)};function useExpand(g){const n=getCurrentInstance(),r=ref(!1),$=ref([]);return{updateExpandRows:()=>{const L=g.data.value||[],V=g.rowKey.value;if(r.value)$.value=L.slice();else if(V){const oe=getKeysMap($.value,V);$.value=L.reduce((ae,re)=>{const le=getRowIdentity(re,V);return oe[le]&&ae.push(re),ae},[])}else $.value=[]},toggleRowExpansion:(L,V)=>{toggleRowStatus($.value,L,V)&&n.emit("expand-change",L,$.value.slice())},setExpandRowKeys:L=>{n.store.assertRowKey();const V=g.data.value||[],oe=g.rowKey.value,ae=getKeysMap(V,oe);$.value=L.reduce((re,le)=>{const ue=ae[le];return ue&&re.push(ue.row),re},[])},isRowExpanded:L=>{const V=g.rowKey.value;return V?!!getKeysMap($.value,V)[getRowIdentity(L,V)]:$.value.includes(L)},states:{expandRows:$,defaultExpandAll:r}}}function useCurrent(g){const n=getCurrentInstance(),r=ref(null),$=ref(null),L=ae=>{n.store.assertRowKey(),r.value=ae,oe(ae)},V=()=>{r.value=null},oe=ae=>{const{data:re,rowKey:le}=g;let ue=null;le.value&&(ue=(unref(re)||[]).find(de=>getRowIdentity(de,le.value)===ae)),$.value=ue,n.emit("current-change",$.value,null)};return{setCurrentRowKey:L,restoreCurrentRowKey:V,setCurrentRowByKey:oe,updateCurrentRow:ae=>{const re=$.value;if(ae&&ae!==re){$.value=ae,n.emit("current-change",$.value,re);return}!ae&&re&&($.value=null,n.emit("current-change",null,re))},updateCurrentRowData:()=>{const ae=g.rowKey.value,re=g.data.value||[],le=$.value;if(!re.includes(le)&&le){if(ae){const ue=getRowIdentity(le,ae);oe(ue)}else $.value=null;$.value===null&&n.emit("current-change",null,le)}else r.value&&(oe(r.value),V())},states:{_currentRowKey:r,currentRow:$}}}function useTree(g){const n=ref([]),r=ref({}),$=ref(16),L=ref(!1),V=ref({}),oe=ref("hasChildren"),ae=ref("children"),re=getCurrentInstance(),le=computed(()=>{if(!g.rowKey.value)return{};const Oe=g.data.value||[];return de(Oe)}),ue=computed(()=>{const Oe=g.rowKey.value,Ce=Object.keys(V.value),Ie={};return Ce.length&&Ce.forEach(Ne=>{if(V.value[Ne].length){const ze={children:[]};V.value[Ne].forEach(Fe=>{const Ue=getRowIdentity(Fe,Oe);ze.children.push(Ue),Fe[oe.value]&&!Ie[Ue]&&(Ie[Ue]={children:[]})}),Ie[Ne]=ze}}),Ie}),de=Oe=>{const Ce=g.rowKey.value,Ie={};return walkTreeNode(Oe,(Ne,ze,Fe)=>{const Ue=getRowIdentity(Ne,Ce);Array.isArray(ze)?Ie[Ue]={children:ze.map(At=>getRowIdentity(At,Ce)),level:Fe}:L.value&&(Ie[Ue]={children:[],lazy:!0,level:Fe})},ae.value,oe.value),Ie},he=(Oe=!1,Ce=(Ie=>(Ie=re.store)==null?void 0:Ie.states.defaultExpandAll.value)())=>{var Ie;const Ne=le.value,ze=ue.value,Fe=Object.keys(Ne),Ue={};if(Fe.length){const At=unref(r),Et=[],Pt=(Dt,Lt)=>{if(Oe)return n.value?Ce||n.value.includes(Lt):!!(Ce||(Dt==null?void 0:Dt.expanded));{const hn=Ce||n.value&&n.value.includes(Lt);return!!((Dt==null?void 0:Dt.expanded)||hn)}};Fe.forEach(Dt=>{const Lt=At[Dt],hn={...Ne[Dt]};if(hn.expanded=Pt(Lt,Dt),hn.lazy){const{loaded:vn=!1,loading:_n=!1}=Lt||{};hn.loaded=!!vn,hn.loading=!!_n,Et.push(Dt)}Ue[Dt]=hn});const kt=Object.keys(ze);L.value&&kt.length&&Et.length&&kt.forEach(Dt=>{const Lt=At[Dt],hn=ze[Dt].children;if(Et.includes(Dt)){if(Ue[Dt].children.length!==0)throw new Error("[ElTable]children must be an empty array.");Ue[Dt].children=hn}else{const{loaded:vn=!1,loading:_n=!1}=Lt||{};Ue[Dt]={lazy:!0,loaded:!!vn,loading:!!_n,expanded:Pt(Lt,Dt),children:hn,level:""}}})}r.value=Ue,(Ie=re.store)==null||Ie.updateTableScrollY()};watch(()=>n.value,()=>{he(!0)}),watch(()=>le.value,()=>{he()}),watch(()=>ue.value,()=>{he()});const pe=Oe=>{n.value=Oe,he()},_e=(Oe,Ce)=>{re.store.assertRowKey();const Ie=g.rowKey.value,Ne=getRowIdentity(Oe,Ie),ze=Ne&&r.value[Ne];if(Ne&&ze&&"expanded"in ze){const Fe=ze.expanded;Ce=typeof Ce>"u"?!ze.expanded:Ce,r.value[Ne].expanded=Ce,Fe!==Ce&&re.emit("expand-change",Oe,Ce),re.store.updateTableScrollY()}},$e=Oe=>{re.store.assertRowKey();const Ce=g.rowKey.value,Ie=getRowIdentity(Oe,Ce),Ne=r.value[Ie];L.value&&Ne&&"loaded"in Ne&&!Ne.loaded?xe(Oe,Ie,Ne):_e(Oe,void 0)},xe=(Oe,Ce,Ie)=>{const{load:Ne}=re.props;Ne&&!r.value[Ce].loaded&&(r.value[Ce].loading=!0,Ne(Oe,Ie,ze=>{if(!Array.isArray(ze))throw new TypeError("[ElTable] data must be an array");r.value[Ce].loading=!1,r.value[Ce].loaded=!0,r.value[Ce].expanded=!0,ze.length&&(V.value[Ce]=ze),re.emit("expand-change",Oe,!0)}))};return{loadData:xe,loadOrToggle:$e,toggleTreeExpansion:_e,updateTreeExpandKeys:pe,updateTreeData:he,normalize:de,states:{expandRowKeys:n,treeData:r,indent:$,lazy:L,lazyTreeNodeMap:V,lazyColumnIdentifier:oe,childrenColumnName:ae}}}const sortData=(g,n)=>{const r=n.sortingColumn;return!r||typeof r.sortable=="string"?g:orderBy(g,n.sortProp,n.sortOrder,r.sortMethod,r.sortBy)},doFlattenColumns=g=>{const n=[];return g.forEach(r=>{r.children?n.push.apply(n,doFlattenColumns(r.children)):n.push(r)}),n};function useWatcher$1(){var g;const n=getCurrentInstance(),{size:r}=toRefs((g=n.proxy)==null?void 0:g.$props),$=ref(null),L=ref([]),V=ref([]),oe=ref(!1),ae=ref([]),re=ref([]),le=ref([]),ue=ref([]),de=ref([]),he=ref([]),pe=ref([]),_e=ref([]),$e=ref(0),xe=ref(0),Oe=ref(0),Ce=ref(!1),Ie=ref([]),Ne=ref(!1),ze=ref(!1),Fe=ref(null),Ue=ref({}),At=ref(null),Et=ref(null),Pt=ref(null),kt=ref(null),Dt=ref(null);watch(L,()=>n.state&&_n(!1),{deep:!0});const Lt=()=>{if(!$.value)throw new Error("[ElTable] prop row-key is required")},hn=pi=>{var Wn;(Wn=pi.children)==null||Wn.forEach(ii=>{ii.fixed=pi.fixed,hn(ii)})},vn=()=>{ae.value.forEach(oi=>{hn(oi)}),ue.value=ae.value.filter(oi=>oi.fixed===!0||oi.fixed==="left"),de.value=ae.value.filter(oi=>oi.fixed==="right"),ue.value.length>0&&ae.value[0]&&ae.value[0].type==="selection"&&!ae.value[0].fixed&&(ae.value[0].fixed=!0,ue.value.unshift(ae.value[0]));const pi=ae.value.filter(oi=>!oi.fixed);re.value=[].concat(ue.value).concat(pi).concat(de.value);const Wn=doFlattenColumns(pi),ii=doFlattenColumns(ue.value),Hn=doFlattenColumns(de.value);$e.value=Wn.length,xe.value=ii.length,Oe.value=Hn.length,le.value=[].concat(ii).concat(Wn).concat(Hn),oe.value=ue.value.length>0||de.value.length>0},_n=(pi,Wn=!1)=>{pi&&vn(),Wn?n.state.doLayout():n.state.debouncedUpdateLayout()},$n=pi=>Ie.value.includes(pi),Sn=()=>{Ce.value=!1,Ie.value.length&&(Ie.value=[],n.emit("selection-change",[]))},xn=()=>{let pi;if($.value){pi=[];const Wn=getKeysMap(Ie.value,$.value),ii=getKeysMap(L.value,$.value);for(const Hn in Wn)hasOwn$2(Wn,Hn)&&!ii[Hn]&&pi.push(Wn[Hn].row)}else pi=Ie.value.filter(Wn=>!L.value.includes(Wn));if(pi.length){const Wn=Ie.value.filter(ii=>!pi.includes(ii));Ie.value=Wn,n.emit("selection-change",Wn.slice())}},On=()=>(Ie.value||[]).slice(),Cn=(pi,Wn=void 0,ii=!0)=>{if(toggleRowStatus(Ie.value,pi,Wn)){const Hn=(Ie.value||[]).slice();ii&&n.emit("select",Hn,pi),n.emit("selection-change",Hn)}},An=()=>{var pi,Wn;const ii=ze.value?!Ce.value:!(Ce.value||Ie.value.length);Ce.value=ii;let Hn=!1,oi=0;const zn=(Wn=(pi=n==null?void 0:n.store)==null?void 0:pi.states)==null?void 0:Wn.rowKey.value;L.value.forEach((Yn,ai)=>{const hi=ai+oi;Fe.value?Fe.value.call(null,Yn,hi)&&toggleRowStatus(Ie.value,Yn,ii)&&(Hn=!0):toggleRowStatus(Ie.value,Yn,ii)&&(Hn=!0),oi+=Pn(getRowIdentity(Yn,zn))}),Hn&&n.emit("selection-change",Ie.value?Ie.value.slice():[]),n.emit("select-all",Ie.value)},Rn=()=>{const pi=getKeysMap(Ie.value,$.value);L.value.forEach(Wn=>{const ii=getRowIdentity(Wn,$.value),Hn=pi[ii];Hn&&(Ie.value[Hn.index]=Wn)})},Fn=()=>{var pi,Wn,ii;if(((pi=L.value)==null?void 0:pi.length)===0){Ce.value=!1;return}let Hn;$.value&&(Hn=getKeysMap(Ie.value,$.value));const oi=function(hi){return Hn?!!Hn[getRowIdentity(hi,$.value)]:Ie.value.includes(hi)};let zn=!0,Yn=0,ai=0;for(let hi=0,Ti=(L.value||[]).length;hi<Ti;hi++){const Bi=(ii=(Wn=n==null?void 0:n.store)==null?void 0:Wn.states)==null?void 0:ii.rowKey.value,Gi=hi+ai,eo=L.value[hi],ki=Fe.value&&Fe.value.call(null,eo,Gi);if(oi(eo))Yn++;else if(!Fe.value||ki){zn=!1;break}ai+=Pn(getRowIdentity(eo,Bi))}Yn===0&&(zn=!1),Ce.value=zn},Pn=pi=>{var Wn;if(!n||!n.store)return 0;const{treeData:ii}=n.store.states;let Hn=0;const oi=(Wn=ii.value[pi])==null?void 0:Wn.children;return oi&&(Hn+=oi.length,oi.forEach(zn=>{Hn+=Pn(zn)})),Hn},Un=(pi,Wn)=>{Array.isArray(pi)||(pi=[pi]);const ii={};return pi.forEach(Hn=>{Ue.value[Hn.id]=Wn,ii[Hn.columnKey||Hn.id]=Wn}),ii},Dn=(pi,Wn,ii)=>{Et.value&&Et.value!==pi&&(Et.value.order=null),Et.value=pi,Pt.value=Wn,kt.value=ii},kn=()=>{let pi=unref(V);Object.keys(Ue.value).forEach(Wn=>{const ii=Ue.value[Wn];if(!ii||ii.length===0)return;const Hn=getColumnById({columns:le.value},Wn);Hn&&Hn.filterMethod&&(pi=pi.filter(oi=>ii.some(zn=>Hn.filterMethod.call(null,zn,oi,Hn))))}),At.value=pi},Nn=()=>{L.value=sortData(At.value,{sortingColumn:Et.value,sortProp:Pt.value,sortOrder:kt.value})},Vn=(pi=void 0)=>{pi&&pi.filter||kn(),Nn()},Ln=pi=>{const{tableHeaderRef:Wn}=n.refs;if(!Wn)return;const ii=Object.assign({},Wn.filterPanels),Hn=Object.keys(ii);if(Hn.length)if(typeof pi=="string"&&(pi=[pi]),Array.isArray(pi)){const oi=pi.map(zn=>getColumnByKey({columns:le.value},zn));Hn.forEach(zn=>{const Yn=oi.find(ai=>ai.id===zn);Yn&&(Yn.filteredValue=[])}),n.store.commit("filterChange",{column:oi,values:[],silent:!0,multi:!0})}else Hn.forEach(oi=>{const zn=le.value.find(Yn=>Yn.id===oi);zn&&(zn.filteredValue=[])}),Ue.value={},n.store.commit("filterChange",{column:{},values:[],silent:!0})},Tn=()=>{!Et.value||(Dn(null,null,null),n.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:In,toggleRowExpansion:Bn,updateExpandRows:Qn,states:Zn,isRowExpanded:Kn}=useExpand({data:L,rowKey:$}),{updateTreeExpandKeys:ui,toggleTreeExpansion:ei,updateTreeData:si,loadOrToggle:ti,states:Jn}=useTree({data:L,rowKey:$}),{updateCurrentRowData:di,updateCurrentRow:mi,setCurrentRowKey:yi,states:$i}=useCurrent({data:L,rowKey:$});return{assertRowKey:Lt,updateColumns:vn,scheduleLayout:_n,isSelected:$n,clearSelection:Sn,cleanSelection:xn,getSelectionRows:On,toggleRowSelection:Cn,_toggleAllSelection:An,toggleAllSelection:null,updateSelectionByRowKey:Rn,updateAllSelected:Fn,updateFilters:Un,updateCurrentRow:mi,updateSort:Dn,execFilter:kn,execSort:Nn,execQuery:Vn,clearFilter:Ln,clearSort:Tn,toggleRowExpansion:Bn,setExpandRowKeysAdapter:pi=>{In(pi),ui(pi)},setCurrentRowKey:yi,toggleRowExpansionAdapter:(pi,Wn)=>{le.value.some(({type:ii})=>ii==="expand")?Bn(pi,Wn):ei(pi,Wn)},isRowExpanded:Kn,updateExpandRows:Qn,updateCurrentRowData:di,loadOrToggle:ti,updateTreeData:si,states:{tableSize:r,rowKey:$,data:L,_data:V,isComplex:oe,_columns:ae,originColumns:re,columns:le,fixedColumns:ue,rightFixedColumns:de,leafColumns:he,fixedLeafColumns:pe,rightFixedLeafColumns:_e,leafColumnsLength:$e,fixedLeafColumnsLength:xe,rightFixedLeafColumnsLength:Oe,isAllSelected:Ce,selection:Ie,reserveSelection:Ne,selectOnIndeterminate:ze,selectable:Fe,filters:Ue,filteredData:At,sortingColumn:Et,sortProp:Pt,sortOrder:kt,hoverRow:Dt,...Zn,...Jn,...$i}}}function replaceColumn(g,n){return g.map(r=>{var $;return r.id===n.id?n:(($=r.children)!=null&&$.length&&(r.children=replaceColumn(r.children,n)),r)})}function sortColumn(g){g.forEach(n=>{var r,$;n.no=(r=n.getColumnIndex)==null?void 0:r.call(n),($=n.children)!=null&&$.length&&sortColumn(n.children)}),g.sort((n,r)=>n.no-r.no)}function useStore(){const g=getCurrentInstance(),n=useWatcher$1();return{ns:useNamespace("table"),...n,mutations:{setData(r,$){const L=unref(r._data)!==$;r.data.value=$,r._data.value=$,g.store.execQuery(),g.store.updateCurrentRowData(),g.store.updateExpandRows(),g.store.updateTreeData(g.store.states.defaultExpandAll.value),unref(r.reserveSelection)?(g.store.assertRowKey(),g.store.updateSelectionByRowKey()):L?g.store.clearSelection():g.store.cleanSelection(),g.store.updateAllSelected(),g.$ready&&g.store.scheduleLayout()},insertColumn(r,$,L){const V=unref(r._columns);let oe=[];L?(L&&!L.children&&(L.children=[]),L.children.push($),oe=replaceColumn(V,L)):(V.push($),oe=V),sortColumn(oe),r._columns.value=oe,$.type==="selection"&&(r.selectable.value=$.selectable,r.reserveSelection.value=$.reserveSelection),g.$ready&&(g.store.updateColumns(),g.store.scheduleLayout())},removeColumn(r,$,L){const V=unref(r._columns)||[];if(L)L.children.splice(L.children.findIndex(oe=>oe.id===$.id),1),L.children.length===0&&delete L.children,r._columns.value=replaceColumn(V,L);else{const oe=V.indexOf($);oe>-1&&(V.splice(oe,1),r._columns.value=V)}g.$ready&&(g.store.updateColumns(),g.store.scheduleLayout())},sort(r,$){const{prop:L,order:V,init:oe}=$;if(L){const ae=unref(r.columns).find(re=>re.property===L);ae&&(ae.order=V,g.store.updateSort(ae,L,V),g.store.commit("changeSortCondition",{init:oe}))}},changeSortCondition(r,$){const{sortingColumn:L,sortProp:V,sortOrder:oe}=r,ae=unref(L),re=unref(V),le=unref(oe);le===null&&(r.sortingColumn.value=null,r.sortProp.value=null);const ue={filter:!0};g.store.execQuery(ue),(!$||!($.silent||$.init))&&g.emit("sort-change",{column:ae,prop:re,order:le}),g.store.updateTableScrollY()},filterChange(r,$){const{column:L,values:V,silent:oe}=$,ae=g.store.updateFilters(L,V);g.store.execQuery(),oe||g.emit("filter-change",ae),g.store.updateTableScrollY()},toggleAllSelection(){g.store.toggleAllSelection()},rowSelectedChanged(r,$){g.store.toggleRowSelection($),g.store.updateAllSelected()},setHoverRow(r,$){r.hoverRow.value=$},setCurrentRow(r,$){g.store.updateCurrentRow($)}},commit:function(r,...$){const L=g.store.mutations;if(L[r])L[r].apply(g,[g.store.states].concat($));else throw new Error(`Action not found: ${r}`)},updateTableScrollY:function(){nextTick(()=>g.layout.updateScrollY.apply(g.layout))}}}const InitialStateMap={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data",["treeProps.hasChildren"]:{key:"lazyColumnIdentifier",default:"hasChildren"},["treeProps.children"]:{key:"childrenColumnName",default:"children"}};function createStore(g,n){if(!g)throw new Error("Table is required.");const r=useStore();return r.toggleAllSelection=debounce(r._toggleAllSelection,10),Object.keys(InitialStateMap).forEach($=>{handleValue(getArrKeysValue(n,$),$,r)}),proxyTableProps(r,n),r}function proxyTableProps(g,n){Object.keys(InitialStateMap).forEach(r=>{watch(()=>getArrKeysValue(n,r),$=>{handleValue($,r,g)})})}function handleValue(g,n,r){let $=g,L=InitialStateMap[n];typeof InitialStateMap[n]=="object"&&(L=L.key,$=$||InitialStateMap[n].default),r.states[L].value=$}function getArrKeysValue(g,n){if(n.includes(".")){const r=n.split(".");let $=g;return r.forEach(L=>{$=$[L]}),$}else return g[n]}class TableLayout{constructor(n){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=ref(null),this.scrollX=ref(!1),this.scrollY=ref(!1),this.bodyWidth=ref(null),this.fixedWidth=ref(null),this.rightFixedWidth=ref(null),this.gutterWidth=0;for(const r in n)hasOwn$2(n,r)&&(isRef(this[r])?this[r].value=n[r]:this[r]=n[r]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&n){let r=!0;const $=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,$!==r}return!1}setHeight(n,r="height"){if(!isClient)return;const $=this.table.vnode.el;if(n=parseHeight(n),this.height.value=Number(n),!$&&(n||n===0))return nextTick(()=>this.setHeight(n,r));typeof n=="number"?($.style[r]=`${n}px`,this.updateElsHeight()):typeof n=="string"&&($.style[r]=n,this.updateElsHeight())}setMaxHeight(n){this.setHeight(n,"max-height")}getFlattenColumns(){const n=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?n.push.apply(n,r.columns):n.push(r)}),n}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(n){if(!n)return!0;let r=n;for(;r.tagName!=="DIV";){if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}updateColumnsWidth(){if(!isClient)return;const n=this.fit,r=this.table.vnode.el.clientWidth;let $=0;const L=this.getFlattenColumns(),V=L.filter(re=>typeof re.width!="number");if(L.forEach(re=>{typeof re.width=="number"&&re.realWidth&&(re.realWidth=null)}),V.length>0&&n){if(L.forEach(re=>{$+=Number(re.width||re.minWidth||80)}),$<=r){this.scrollX.value=!1;const re=r-$;if(V.length===1)V[0].realWidth=Number(V[0].minWidth||80)+re;else{const le=V.reduce((he,pe)=>he+Number(pe.minWidth||80),0),ue=re/le;let de=0;V.forEach((he,pe)=>{if(pe===0)return;const _e=Math.floor(Number(he.minWidth||80)*ue);de+=_e,he.realWidth=Number(he.minWidth||80)+_e}),V[0].realWidth=Number(V[0].minWidth||80)+re-de}}else this.scrollX.value=!0,V.forEach(re=>{re.realWidth=Number(re.minWidth)});this.bodyWidth.value=Math.max($,r),this.table.state.resizeState.value.width=this.bodyWidth.value}else L.forEach(re=>{!re.width&&!re.minWidth?re.realWidth=80:re.realWidth=Number(re.width||re.minWidth),$+=re.realWidth}),this.scrollX.value=$>r,this.bodyWidth.value=$;const oe=this.store.states.fixedColumns.value;if(oe.length>0){let re=0;oe.forEach(le=>{re+=Number(le.realWidth||le.width)}),this.fixedWidth.value=re}const ae=this.store.states.rightFixedColumns.value;if(ae.length>0){let re=0;ae.forEach(le=>{re+=Number(le.realWidth||le.width)}),this.rightFixedWidth.value=re}this.notifyObservers("columns")}addObserver(n){this.observers.push(n)}removeObserver(n){const r=this.observers.indexOf(n);r!==-1&&this.observers.splice(r,1)}notifyObservers(n){this.observers.forEach(r=>{var $,L;switch(n){case"columns":($=r.state)==null||$.onColumnsChange(this);break;case"scrollable":(L=r.state)==null||L.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${n}.`)}})}}const{CheckboxGroup:ElCheckboxGroup}=ElCheckbox,_sfc_main$m=defineComponent({name:"ElTableFilterPanel",components:{ElCheckbox,ElCheckboxGroup,ElScrollbar,ElTooltip,ElIcon,ArrowDown:arrow_down_default,ArrowUp:arrow_up_default},directives:{ClickOutside},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(g){const n=getCurrentInstance(),{t:r}=useLocale(),$=useNamespace("table-filter"),L=n==null?void 0:n.parent;L.filterPanels.value[g.column.id]||(L.filterPanels.value[g.column.id]=n);const V=ref(!1),oe=ref(null),ae=computed(()=>g.column&&g.column.filters),re=computed({get:()=>{var Ne;return(((Ne=g.column)==null?void 0:Ne.filteredValue)||[])[0]},set:Ne=>{le.value&&(typeof Ne<"u"&&Ne!==null?le.value.splice(0,1,Ne):le.value.splice(0,1))}}),le=computed({get(){return g.column?g.column.filteredValue||[]:[]},set(Ne){g.column&&g.upDataColumn("filteredValue",Ne)}}),ue=computed(()=>g.column?g.column.filterMultiple:!0),de=Ne=>Ne.value===re.value,he=()=>{V.value=!1},pe=Ne=>{Ne.stopPropagation(),V.value=!V.value},_e=()=>{V.value=!1},$e=()=>{Ce(le.value),he()},xe=()=>{le.value=[],Ce(le.value),he()},Oe=Ne=>{re.value=Ne,Ce(typeof Ne<"u"&&Ne!==null?le.value:[]),he()},Ce=Ne=>{g.store.commit("filterChange",{column:g.column,values:Ne}),g.store.updateAllSelected()};watch(V,Ne=>{g.column&&g.upDataColumn("filterOpened",Ne)},{immediate:!0});const Ie=computed(()=>{var Ne,ze;return(ze=(Ne=oe.value)==null?void 0:Ne.popperRef)==null?void 0:ze.contentRef});return{tooltipVisible:V,multiple:ue,filteredValue:le,filterValue:re,filters:ae,handleConfirm:$e,handleReset:xe,handleSelect:Oe,isActive:de,t:r,ns:$,showFilterPanel:pe,hideFilterPanel:_e,popperPaneRef:Ie,tooltip:oe}}}),_hoisted_1$d={key:0},_hoisted_2$6=["disabled"],_hoisted_3$2=["label","onClick"];function _sfc_render$1(g,n,r,$,L,V){const oe=resolveComponent("el-checkbox"),ae=resolveComponent("el-checkbox-group"),re=resolveComponent("el-scrollbar"),le=resolveComponent("arrow-up"),ue=resolveComponent("arrow-down"),de=resolveComponent("el-icon"),he=resolveComponent("el-tooltip"),pe=resolveDirective("click-outside");return openBlock(),createBlock(he,{ref:"tooltip",visible:g.tooltipVisible,offset:0,placement:g.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":g.ns.b(),persistent:""},{content:withCtx(()=>[g.multiple?(openBlock(),createElementBlock("div",_hoisted_1$d,[createBaseVNode("div",{class:normalizeClass(g.ns.e("content"))},[createVNode$2(re,{"wrap-class":g.ns.e("wrap")},{default:withCtx(()=>[createVNode$2(ae,{modelValue:g.filteredValue,"onUpdate:modelValue":n[0]||(n[0]=_e=>g.filteredValue=_e),class:normalizeClass(g.ns.e("checkbox-group"))},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.filters,_e=>(openBlock(),createBlock(oe,{key:_e.value,label:_e.value},{default:withCtx(()=>[createTextVNode(toDisplayString(_e.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),createBaseVNode("div",{class:normalizeClass(g.ns.e("bottom"))},[createBaseVNode("button",{class:normalizeClass({[g.ns.is("disabled")]:g.filteredValue.length===0}),disabled:g.filteredValue.length===0,type:"button",onClick:n[1]||(n[1]=(..._e)=>g.handleConfirm&&g.handleConfirm(..._e))},toDisplayString(g.t("el.table.confirmFilter")),11,_hoisted_2$6),createBaseVNode("button",{type:"button",onClick:n[2]||(n[2]=(..._e)=>g.handleReset&&g.handleReset(..._e))},toDisplayString(g.t("el.table.resetFilter")),1)],2)])):(openBlock(),createElementBlock("ul",{key:1,class:normalizeClass(g.ns.e("list"))},[createBaseVNode("li",{class:normalizeClass([g.ns.e("list-item"),{[g.ns.is("active")]:g.filterValue===void 0||g.filterValue===null}]),onClick:n[3]||(n[3]=_e=>g.handleSelect(null))},toDisplayString(g.t("el.table.clearFilter")),3),(openBlock(!0),createElementBlock(Fragment,null,renderList(g.filters,_e=>(openBlock(),createElementBlock("li",{key:_e.value,class:normalizeClass([g.ns.e("list-item"),g.ns.is("active",g.isActive(_e))]),label:_e.value,onClick:$e=>g.handleSelect(_e.value)},toDisplayString(_e.text),11,_hoisted_3$2))),128))],2))]),default:withCtx(()=>[withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass([`${g.ns.namespace.value}-table__column-filter-trigger`,`${g.ns.namespace.value}-none-outline`]),onClick:n[4]||(n[4]=(..._e)=>g.showFilterPanel&&g.showFilterPanel(..._e))},[createVNode$2(de,null,{default:withCtx(()=>[g.column.filterOpened?(openBlock(),createBlock(le,{key:0})):(openBlock(),createBlock(ue,{key:1}))]),_:1})],2)),[[pe,g.hideFilterPanel,g.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var FilterPanel=_export_sfc$1(_sfc_main$m,[["render",_sfc_render$1],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function useLayoutObserver(g){const n=getCurrentInstance();onBeforeMount(()=>{r.value.addObserver(n)}),onMounted(()=>{$(r.value),L(r.value)}),onUpdated(()=>{$(r.value),L(r.value)}),onUnmounted(()=>{r.value.removeObserver(n)});const r=computed(()=>{const V=g.layout;if(!V)throw new Error("Can not find table layout.");return V}),$=V=>{var oe;const ae=((oe=g.vnode.el)==null?void 0:oe.querySelectorAll("colgroup > col"))||[];if(!ae.length)return;const re=V.getFlattenColumns(),le={};re.forEach(ue=>{le[ue.id]=ue});for(let ue=0,de=ae.length;ue<de;ue++){const he=ae[ue],pe=he.getAttribute("name"),_e=le[pe];_e&&he.setAttribute("width",_e.realWidth||_e.width)}},L=V=>{var oe,ae;const re=((oe=g.vnode.el)==null?void 0:oe.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let ue=0,de=re.length;ue<de;ue++)re[ue].setAttribute("width",V.scrollY.value?V.gutterWidth:"0");const le=((ae=g.vnode.el)==null?void 0:ae.querySelectorAll("th.gutter"))||[];for(let ue=0,de=le.length;ue<de;ue++){const he=le[ue];he.style.width=V.scrollY.value?`${V.gutterWidth}px`:"0",he.style.display=V.scrollY.value?"":"none"}};return{tableLayout:r.value,onColumnsChange:$,onScrollableChange:L}}const TABLE_INJECTION_KEY=Symbol("ElTable");function useEvent(g,n){const r=getCurrentInstance(),$=inject(TABLE_INJECTION_KEY),L=$e=>{$e.stopPropagation()},V=($e,xe)=>{!xe.filters&&xe.sortable?_e($e,xe,!1):xe.filterable&&!xe.sortable&&L($e),$==null||$.emit("header-click",xe,$e)},oe=($e,xe)=>{$==null||$.emit("header-contextmenu",xe,$e)},ae=ref(null),re=ref(!1),le=ref({}),ue=($e,xe)=>{if(!!isClient&&!(xe.children&&xe.children.length>0)&&ae.value&&g.border){re.value=!0;const Oe=$;n("set-drag-visible",!0);const Ce=(Oe==null?void 0:Oe.vnode.el).getBoundingClientRect().left,Ie=r.vnode.el.querySelector(`th.${xe.id}`),Ne=Ie.getBoundingClientRect(),ze=Ne.left-Ce+30;addClass(Ie,"noclick"),le.value={startMouseLeft:$e.clientX,startLeft:Ne.right-Ce,startColumnLeft:Ne.left-Ce,tableLeft:Ce};const Fe=Oe==null?void 0:Oe.refs.resizeProxy;Fe.style.left=`${le.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const Ue=Et=>{const Pt=Et.clientX-le.value.startMouseLeft,kt=le.value.startLeft+Pt;Fe.style.left=`${Math.max(ze,kt)}px`},At=()=>{if(re.value){const{startColumnLeft:Et,startLeft:Pt}=le.value,kt=Number.parseInt(Fe.style.left,10)-Et;xe.width=xe.realWidth=kt,Oe==null||Oe.emit("header-dragend",xe.width,Pt-Et,xe,$e),requestAnimationFrame(()=>{g.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",re.value=!1,ae.value=null,le.value={},n("set-drag-visible",!1)}document.removeEventListener("mousemove",Ue),document.removeEventListener("mouseup",At),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{removeClass(Ie,"noclick")},0)};document.addEventListener("mousemove",Ue),document.addEventListener("mouseup",At)}},de=($e,xe)=>{var Oe;if(xe.children&&xe.children.length>0)return;const Ce=(Oe=$e.target)==null?void 0:Oe.closest("th");if(!(!xe||!xe.resizable)&&!re.value&&g.border){const Ie=Ce.getBoundingClientRect(),Ne=document.body.style;Ie.width>12&&Ie.right-$e.pageX<8?(Ne.cursor="col-resize",hasClass(Ce,"is-sortable")&&(Ce.style.cursor="col-resize"),ae.value=xe):re.value||(Ne.cursor="",hasClass(Ce,"is-sortable")&&(Ce.style.cursor="pointer"),ae.value=null)}},he=()=>{!isClient||(document.body.style.cursor="")},pe=({order:$e,sortOrders:xe})=>{if($e==="")return xe[0];const Oe=xe.indexOf($e||null);return xe[Oe>xe.length-2?0:Oe+1]},_e=($e,xe,Oe)=>{var Ce;$e.stopPropagation();const Ie=xe.order===Oe?null:Oe||pe(xe),Ne=(Ce=$e.target)==null?void 0:Ce.closest("th");if(Ne&&hasClass(Ne,"noclick")){removeClass(Ne,"noclick");return}if(!xe.sortable)return;const ze=g.store.states;let Fe=ze.sortProp.value,Ue;const At=ze.sortingColumn.value;(At!==xe||At===xe&&At.order===null)&&(At&&(At.order=null),ze.sortingColumn.value=xe,Fe=xe.property),Ie?Ue=xe.order=Ie:Ue=xe.order=null,ze.sortProp.value=Fe,ze.sortOrder.value=Ue,$==null||$.store.commit("changeSortCondition")};return{handleHeaderClick:V,handleHeaderContextMenu:oe,handleMouseDown:ue,handleMouseMove:de,handleMouseOut:he,handleSortClick:_e,handleFilterClick:L}}function useStyle$2(g){const n=inject(TABLE_INJECTION_KEY),r=useNamespace("table");return{getHeaderRowStyle:$=>{const L=n==null?void 0:n.props.headerRowStyle;return typeof L=="function"?L.call(null,{rowIndex:$}):L},getHeaderRowClass:$=>{const L=[],V=n==null?void 0:n.props.headerRowClassName;return typeof V=="string"?L.push(V):typeof V=="function"&&L.push(V.call(null,{rowIndex:$})),L.join(" ")},getHeaderCellStyle:($,L,V,oe)=>{var ae;let re=(ae=n==null?void 0:n.props.headerCellStyle)!=null?ae:{};typeof re=="function"&&(re=re.call(null,{rowIndex:$,columnIndex:L,row:V,column:oe}));const le=getFixedColumnOffset(L,oe.fixed,g.store,V);return ensurePosition(le,"left"),ensurePosition(le,"right"),Object.assign({},re,le)},getHeaderCellClass:($,L,V,oe)=>{const ae=getFixedColumnsClass(r.b(),L,oe.fixed,g.store,V),re=[oe.id,oe.order,oe.headerAlign,oe.className,oe.labelClassName,...ae];oe.children||re.push("is-leaf"),oe.sortable&&re.push("is-sortable");const le=n==null?void 0:n.props.headerCellClassName;return typeof le=="string"?re.push(le):typeof le=="function"&&re.push(le.call(null,{rowIndex:$,columnIndex:L,row:V,column:oe})),re.push(r.e("cell")),re.filter(ue=>Boolean(ue)).join(" ")}}}const getAllColumns=g=>{const n=[];return g.forEach(r=>{r.children?(n.push(r),n.push.apply(n,getAllColumns(r.children))):n.push(r)}),n},convertToRows=g=>{let n=1;const r=(L,V)=>{if(V&&(L.level=V.level+1,n<L.level&&(n=L.level)),L.children){let oe=0;L.children.forEach(ae=>{r(ae,L),oe+=ae.colSpan}),L.colSpan=oe}else L.colSpan=1};g.forEach(L=>{L.level=1,r(L,void 0)});const $=[];for(let L=0;L<n;L++)$.push([]);return getAllColumns(g).forEach(L=>{L.children?(L.rowSpan=1,L.children.forEach(V=>V.isSubColumn=!0)):L.rowSpan=n-L.level+1,$[L.level-1].push(L)}),$};function useUtils$1(g){const n=inject(TABLE_INJECTION_KEY),r=computed(()=>convertToRows(g.store.states.originColumns.value));return{isGroup:computed(()=>{const $=r.value.length>1;return $&&n&&(n.state.isGroup.value=!0),$}),toggleAllSelection:$=>{$.stopPropagation(),n==null||n.store.commit("toggleAllSelection")},columnRows:r}}var TableHeader=defineComponent({name:"ElTableHeader",components:{ElCheckbox},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(g,{emit:n}){const r=getCurrentInstance(),$=inject(TABLE_INJECTION_KEY),L=useNamespace("table"),V=ref({}),{onColumnsChange:oe,onScrollableChange:ae}=useLayoutObserver($);onMounted(async()=>{await nextTick(),await nextTick();const{prop:Fe,order:Ue}=g.defaultSort;$==null||$.store.commit("sort",{prop:Fe,order:Ue,init:!0})});const{handleHeaderClick:re,handleHeaderContextMenu:le,handleMouseDown:ue,handleMouseMove:de,handleMouseOut:he,handleSortClick:pe,handleFilterClick:_e}=useEvent(g,n),{getHeaderRowStyle:$e,getHeaderRowClass:xe,getHeaderCellStyle:Oe,getHeaderCellClass:Ce}=useStyle$2(g),{isGroup:Ie,toggleAllSelection:Ne,columnRows:ze}=useUtils$1(g);return r.state={onColumnsChange:oe,onScrollableChange:ae},r.filterPanels=V,{ns:L,filterPanels:V,onColumnsChange:oe,onScrollableChange:ae,columnRows:ze,getHeaderRowClass:xe,getHeaderRowStyle:$e,getHeaderCellClass:Ce,getHeaderCellStyle:Oe,handleHeaderClick:re,handleHeaderContextMenu:le,handleMouseDown:ue,handleMouseMove:de,handleMouseOut:he,handleSortClick:pe,handleFilterClick:_e,isGroup:Ie,toggleAllSelection:Ne}},render(){const{ns:g,isGroup:n,columnRows:r,getHeaderCellStyle:$,getHeaderCellClass:L,getHeaderRowClass:V,getHeaderRowStyle:oe,handleHeaderClick:ae,handleHeaderContextMenu:re,handleMouseDown:le,handleMouseMove:ue,handleSortClick:de,handleMouseOut:he,store:pe,$parent:_e}=this;let $e=1;return h$2("thead",{class:{[g.is("group")]:n}},r.map((xe,Oe)=>h$2("tr",{class:V(Oe),key:Oe,style:oe(Oe)},xe.map((Ce,Ie)=>(Ce.rowSpan>$e&&($e=Ce.rowSpan),h$2("th",{class:L(Oe,Ie,xe,Ce),colspan:Ce.colSpan,key:`${Ce.id}-thead`,rowspan:Ce.rowSpan,style:$(Oe,Ie,xe,Ce),onClick:Ne=>ae(Ne,Ce),onContextmenu:Ne=>re(Ne,Ce),onMousedown:Ne=>le(Ne,Ce),onMousemove:Ne=>ue(Ne,Ce),onMouseout:he},[h$2("div",{class:["cell",Ce.filteredValue&&Ce.filteredValue.length>0?"highlight":""]},[Ce.renderHeader?Ce.renderHeader({column:Ce,$index:Ie,store:pe,_self:_e}):Ce.label,Ce.sortable&&h$2("span",{onClick:Ne=>de(Ne,Ce),class:"caret-wrapper"},[h$2("i",{onClick:Ne=>de(Ne,Ce,"ascending"),class:"sort-caret ascending"}),h$2("i",{onClick:Ne=>de(Ne,Ce,"descending"),class:"sort-caret descending"})]),Ce.filterable&&h$2(FilterPanel,{store:pe,placement:Ce.filterPlacement||"bottom-start",column:Ce,upDataColumn:(Ne,ze)=>{Ce[Ne]=ze}})])]))))))}});function useEvents(g){const n=inject(TABLE_INJECTION_KEY),r=ref(""),$=ref(h$2("div")),L=(ue,de,he)=>{var pe;const _e=n,$e=getCell(ue);let xe;const Oe=(pe=_e==null?void 0:_e.vnode.el)==null?void 0:pe.dataset.prefix;$e&&(xe=getColumnByCell({columns:g.store.states.columns.value},$e,Oe),xe&&(_e==null||_e.emit(`cell-${he}`,de,xe,$e,ue))),_e==null||_e.emit(`row-${he}`,de,xe,ue)},V=(ue,de)=>{L(ue,de,"dblclick")},oe=(ue,de)=>{g.store.commit("setCurrentRow",de),L(ue,de,"click")},ae=(ue,de)=>{L(ue,de,"contextmenu")},re=debounce(ue=>{g.store.commit("setHoverRow",ue)},30),le=debounce(()=>{g.store.commit("setHoverRow",null)},30);return{handleDoubleClick:V,handleClick:oe,handleContextMenu:ae,handleMouseEnter:re,handleMouseLeave:le,handleCellMouseEnter:(ue,de,he)=>{var pe;const _e=n,$e=getCell(ue),xe=(pe=_e==null?void 0:_e.vnode.el)==null?void 0:pe.dataset.prefix;if($e){const ze=getColumnByCell({columns:g.store.states.columns.value},$e,xe),Fe=_e.hoverState={cell:$e,column:ze,row:de};_e==null||_e.emit("cell-mouse-enter",Fe.row,Fe.column,Fe.cell,ue)}const Oe=ue.target.querySelector(".cell");if(!(hasClass(Oe,`${xe}-tooltip`)&&Oe.childNodes.length))return;const Ce=document.createRange();Ce.setStart(Oe,0),Ce.setEnd(Oe,Oe.childNodes.length);const Ie=Ce.getBoundingClientRect().width,Ne=(Number.parseInt(getStyle$2(Oe,"paddingLeft"),10)||0)+(Number.parseInt(getStyle$2(Oe,"paddingRight"),10)||0);(Ie+Ne>Oe.offsetWidth||Oe.scrollWidth>Oe.offsetWidth)&&createTablePopper(n==null?void 0:n.refs.tableWrapper,$e,$e.innerText||$e.textContent,{placement:"top",strategy:"fixed"},he)},handleCellMouseLeave:ue=>{if(!getCell(ue))return;const de=n==null?void 0:n.hoverState;n==null||n.emit("cell-mouse-leave",de==null?void 0:de.row,de==null?void 0:de.column,de==null?void 0:de.cell,ue)},tooltipContent:r,tooltipTrigger:$}}function useStyles(g){const n=inject(TABLE_INJECTION_KEY),r=useNamespace("table");return{getRowStyle:($,L)=>{const V=n==null?void 0:n.props.rowStyle;return typeof V=="function"?V.call(null,{row:$,rowIndex:L}):V||null},getRowClass:($,L)=>{const V=[r.e("row")];(n==null?void 0:n.props.highlightCurrentRow)&&$===g.store.states.currentRow.value&&V.push("current-row"),g.stripe&&L%2===1&&V.push(r.em("row","striped"));const oe=n==null?void 0:n.props.rowClassName;return typeof oe=="string"?V.push(oe):typeof oe=="function"&&V.push(oe.call(null,{row:$,rowIndex:L})),V},getCellStyle:($,L,V,oe)=>{const ae=n==null?void 0:n.props.cellStyle;let re=ae!=null?ae:{};typeof ae=="function"&&(re=ae.call(null,{rowIndex:$,columnIndex:L,row:V,column:oe}));const le=getFixedColumnOffset(L,g==null?void 0:g.fixed,g.store);return ensurePosition(le,"left"),ensurePosition(le,"right"),Object.assign({},re,le)},getCellClass:($,L,V,oe,ae)=>{const re=getFixedColumnsClass(r.b(),L,g==null?void 0:g.fixed,g.store,void 0,ae),le=[oe.id,oe.align,oe.className,...re],ue=n==null?void 0:n.props.cellClassName;return typeof ue=="string"?le.push(ue):typeof ue=="function"&&le.push(ue.call(null,{rowIndex:$,columnIndex:L,row:V,column:oe})),le.push(r.e("cell")),le.filter(de=>Boolean(de)).join(" ")},getSpan:($,L,V,oe)=>{let ae=1,re=1;const le=n==null?void 0:n.props.spanMethod;if(typeof le=="function"){const ue=le({row:$,column:L,rowIndex:V,columnIndex:oe});Array.isArray(ue)?(ae=ue[0],re=ue[1]):typeof ue=="object"&&(ae=ue.rowspan,re=ue.colspan)}return{rowspan:ae,colspan:re}},getColspanRealWidth:($,L,V)=>{if(L<1)return $[V].realWidth;const oe=$.map(({realWidth:ae,width:re})=>ae||re).slice(V,V+L);return Number(oe.reduce((ae,re)=>Number(ae)+Number(re),-1))}}}function useRender$1(g){const n=inject(TABLE_INJECTION_KEY),r=useNamespace("table"),{handleDoubleClick:$,handleClick:L,handleContextMenu:V,handleMouseEnter:oe,handleMouseLeave:ae,handleCellMouseEnter:re,handleCellMouseLeave:le,tooltipContent:ue,tooltipTrigger:de}=useEvents(g),{getRowStyle:he,getRowClass:pe,getCellStyle:_e,getCellClass:$e,getSpan:xe,getColspanRealWidth:Oe}=useStyles(g),Ce=computed(()=>g.store.states.columns.value.findIndex(({type:Fe})=>Fe==="default")),Ie=(Fe,Ue)=>{const At=n.props.rowKey;return At?getRowIdentity(Fe,At):Ue},Ne=(Fe,Ue,At,Et=!1)=>{const{tooltipEffect:Pt,store:kt}=g,{indent:Dt,columns:Lt}=kt.states,hn=pe(Fe,Ue);let vn=!0;return At&&(hn.push(r.em("row",`level-${At.level}`)),vn=At.display),h$2("tr",{style:[vn?null:{display:"none"},he(Fe,Ue)],class:hn,key:Ie(Fe,Ue),onDblclick:_n=>$(_n,Fe),onClick:_n=>L(_n,Fe),onContextmenu:_n=>V(_n,Fe),onMouseenter:()=>oe(Ue),onMouseleave:ae},Lt.value.map((_n,$n)=>{const{rowspan:Sn,colspan:xn}=xe(Fe,_n,Ue,$n);if(!Sn||!xn)return null;const On={..._n};On.realWidth=Oe(Lt.value,xn,$n);const Cn={store:g.store,_self:g.context||n,column:On,row:Fe,$index:Ue,cellIndex:$n,expanded:Et};$n===Ce.value&&At&&(Cn.treeNode={indent:At.level*Dt.value,level:At.level},typeof At.expanded=="boolean"&&(Cn.treeNode.expanded=At.expanded,"loading"in At&&(Cn.treeNode.loading=At.loading),"noLazyChildren"in At&&(Cn.treeNode.noLazyChildren=At.noLazyChildren)));const An=`${Ue},${$n}`,Rn=On.columnKey||On.rawColumnKey||"",Fn=ze($n,_n,Cn);return h$2("td",{style:_e(Ue,$n,Fe,_n),class:$e(Ue,$n,Fe,_n,xn-1),key:`${Rn}${An}`,rowspan:Sn,colspan:xn,onMouseenter:Pn=>re(Pn,Fe,Pt),onMouseleave:le},[Fn])}))},ze=(Fe,Ue,At)=>Ue.renderCell(At);return{wrappedRowRender:(Fe,Ue)=>{const At=g.store,{isRowExpanded:Et,assertRowKey:Pt}=At,{treeData:kt,lazyTreeNodeMap:Dt,childrenColumnName:Lt,rowKey:hn}=At.states,vn=At.states.columns.value;if(vn.some(({type:_n})=>_n==="expand")){const _n=Et(Fe),$n=Ne(Fe,Ue,void 0,_n),Sn=n.renderExpanded;return _n?Sn?[[$n,h$2("tr",{key:`expanded-row__${$n.key}`},[h$2("td",{colspan:vn.length,class:`${r.e("cell")} ${r.e("expanded-cell")}`},[Sn({row:Fe,$index:Ue,store:At,expanded:_n})])])]]:(console.error("[Element Error]renderExpanded is required."),$n):[[$n]]}else if(Object.keys(kt.value).length){Pt();const _n=getRowIdentity(Fe,hn.value);let $n=kt.value[_n],Sn=null;$n&&(Sn={expanded:$n.expanded,level:$n.level,display:!0},typeof $n.lazy=="boolean"&&(typeof $n.loaded=="boolean"&&$n.loaded&&(Sn.noLazyChildren=!($n.children&&$n.children.length)),Sn.loading=$n.loading));const xn=[Ne(Fe,Ue,Sn)];if($n){let On=0;const Cn=(Rn,Fn)=>{!(Rn&&Rn.length&&Fn)||Rn.forEach(Pn=>{const Un={display:Fn.display&&Fn.expanded,level:Fn.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Dn=getRowIdentity(Pn,hn.value);if(Dn==null)throw new Error("For nested data item, row-key is required.");if($n={...kt.value[Dn]},$n&&(Un.expanded=$n.expanded,$n.level=$n.level||Un.level,$n.display=!!($n.expanded&&Un.display),typeof $n.lazy=="boolean"&&(typeof $n.loaded=="boolean"&&$n.loaded&&(Un.noLazyChildren=!($n.children&&$n.children.length)),Un.loading=$n.loading)),On++,xn.push(Ne(Pn,Ue+On,Un)),$n){const kn=Dt.value[Dn]||Pn[Lt.value];Cn(kn,$n)}})};$n.display=!0;const An=Dt.value[_n]||Fe[Lt.value];Cn(An,$n)}return xn}else return Ne(Fe,Ue,void 0)},tooltipContent:ue,tooltipTrigger:de}}const defaultProps$2={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var TableBody=defineComponent({name:"ElTableBody",props:defaultProps$2,setup(g){const n=getCurrentInstance(),r=inject(TABLE_INJECTION_KEY),$=useNamespace("table"),{wrappedRowRender:L,tooltipContent:V,tooltipTrigger:oe}=useRender$1(g),{onColumnsChange:ae,onScrollableChange:re}=useLayoutObserver(r);return watch(g.store.states.hoverRow,(le,ue)=>{if(!g.store.states.isComplex.value||!isClient)return;let de=window.requestAnimationFrame;de||(de=he=>window.setTimeout(he,16)),de(()=>{const he=n==null?void 0:n.vnode.el,pe=Array.from((he==null?void 0:he.children)||[]).filter(xe=>xe==null?void 0:xe.classList.contains(`${$.e("row")}`)),_e=pe[ue],$e=pe[le];_e&&removeClass(_e,"hover-row"),$e&&addClass($e,"hover-row")})}),onUnmounted(()=>{var le;(le=removePopper)==null||le()}),{ns:$,onColumnsChange:ae,onScrollableChange:re,wrappedRowRender:L,tooltipContent:V,tooltipTrigger:oe}},render(){const{wrappedRowRender:g,store:n}=this,r=n.states.data.value||[];return h$2("tbody",{},[r.reduce(($,L)=>$.concat(g(L,$.length)),[])])}});function hColgroup(g){const n=g.tableLayout==="auto";let r=g.columns||[];n&&r.every(L=>L.width===void 0)&&(r=[]);const $=L=>{const V={key:`${g.tableLayout}_${L.id}`,style:{},name:void 0};return n?V.style={width:`${L.width}px`}:V.name=L.id,V};return h$2("colgroup",{},r.map(L=>h$2("col",$(L))))}hColgroup.props=["columns","tableLayout"];function useMapState(){const g=inject(TABLE_INJECTION_KEY),n=g==null?void 0:g.store,r=computed(()=>n.states.fixedLeafColumnsLength.value),$=computed(()=>n.states.rightFixedColumns.value.length),L=computed(()=>n.states.columns.value.length),V=computed(()=>n.states.fixedColumns.value.length),oe=computed(()=>n.states.rightFixedColumns.value.length);return{leftFixedLeafCount:r,rightFixedLeafCount:$,columnsCount:L,leftFixedCount:V,rightFixedCount:oe,columns:n.states.columns}}function useStyle$1(g){const{columns:n}=useMapState(),r=useNamespace("table");return{getCellClasses:($,L)=>{const V=$[L],oe=[r.e("cell"),V.id,V.align,V.labelClassName,...getFixedColumnsClass(r.b(),L,V.fixed,g.store)];return V.className&&oe.push(V.className),V.children||oe.push(r.is("leaf")),oe},getCellStyles:($,L)=>{const V=getFixedColumnOffset(L,$.fixed,g.store);return ensurePosition(V,"left"),ensurePosition(V,"right"),V},columns:n}}var TableFooter=defineComponent({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(g){const{getCellClasses:n,getCellStyles:r,columns:$}=useStyle$1(g);return{ns:useNamespace("table"),getCellClasses:n,getCellStyles:r,columns:$}},render(){const{columns:g,getCellStyles:n,getCellClasses:r,summaryMethod:$,sumText:L,ns:V}=this,oe=this.store.states.data.value;let ae=[];return $?ae=$({columns:g,data:oe}):g.forEach((re,le)=>{if(le===0){ae[le]=L;return}const ue=oe.map(_e=>Number(_e[re.property])),de=[];let he=!0;ue.forEach(_e=>{if(!Number.isNaN(+_e)){he=!1;const $e=`${_e}`.split(".")[1];de.push($e?$e.length:0)}});const pe=Math.max.apply(null,de);he?ae[le]="":ae[le]=ue.reduce((_e,$e)=>{const xe=Number($e);return Number.isNaN(+xe)?_e:Number.parseFloat((_e+$e).toFixed(Math.min(pe,20)))},0)}),h$2("table",{class:V.e("footer"),cellspacing:"0",cellpadding:"0",border:"0"},[hColgroup({columns:g}),h$2("tbody",[h$2("tr",{},[...g.map((re,le)=>h$2("td",{key:le,colspan:re.colSpan,rowspan:re.rowSpan,class:r(g,le),style:n(re,le)},[h$2("div",{class:["cell",re.labelClassName]},[ae[le]])]))])])])}});function useUtils(g){return{setCurrentRow:n=>{g.commit("setCurrentRow",n)},getSelectionRows:()=>g.getSelectionRows(),toggleRowSelection:(n,r)=>{g.toggleRowSelection(n,r,!1),g.updateAllSelected()},clearSelection:()=>{g.clearSelection()},clearFilter:n=>{g.clearFilter(n)},toggleAllSelection:()=>{g.commit("toggleAllSelection")},toggleRowExpansion:(n,r)=>{g.toggleRowExpansionAdapter(n,r)},clearSort:()=>{g.clearSort()},sort:(n,r)=>{g.commit("sort",{prop:n,order:r})}}}function useStyle(g,n,r,$){const L=ref(!1),V=ref(null),oe=ref(!1),ae=$n=>{oe.value=$n},re=ref({width:null,height:null,headerHeight:null}),le=ref(!1),ue={display:"inline-block",verticalAlign:"middle"},de=ref(),he=ref(0),pe=ref(0),_e=ref(0),$e=ref(0);watchEffect(()=>{n.setHeight(g.height)}),watchEffect(()=>{n.setMaxHeight(g.maxHeight)}),watch(()=>[g.currentRowKey,r.states.rowKey],([$n,Sn])=>{!unref(Sn)||!unref($n)||r.setCurrentRowKey(`${$n}`)},{immediate:!0}),watch(()=>g.data,$n=>{$.store.commit("setData",$n)},{immediate:!0,deep:!0}),watchEffect(()=>{g.expandRowKeys&&r.setExpandRowKeysAdapter(g.expandRowKeys)});const xe=()=>{$.store.commit("setHoverRow",null),$.hoverState&&($.hoverState=null)},Oe=($n,Sn)=>{const{pixelX:xn,pixelY:On}=Sn;Math.abs(xn)>=Math.abs(On)&&($.refs.bodyWrapper.scrollLeft+=Sn.pixelX/5)},Ce=computed(()=>g.height||g.maxHeight||r.states.fixedColumns.value.length>0||r.states.rightFixedColumns.value.length>0),Ie=computed(()=>({width:n.bodyWidth.value?`${n.bodyWidth.value}px`:""})),Ne=()=>{Ce.value&&n.updateElsHeight(),n.updateColumnsWidth(),requestAnimationFrame(At)};onMounted(async()=>{await nextTick(),r.updateColumns(),Et(),requestAnimationFrame(Ne);const $n=$.vnode.el,Sn=$.refs.headerWrapper;g.flexible&&$n&&$n.parentElement&&($n.parentElement.style.minWidth="0"),re.value={width:de.value=$n.offsetWidth,height:$n.offsetHeight,headerHeight:g.showHeader&&Sn?Sn.offsetHeight:null},r.states.columns.value.forEach(xn=>{xn.filteredValue&&xn.filteredValue.length&&$.store.commit("filterChange",{column:xn,values:xn.filteredValue,silent:!0})}),$.$ready=!0});const ze=($n,Sn)=>{if(!$n)return;const xn=Array.from($n.classList).filter(On=>!On.startsWith("is-scrolling-"));xn.push(n.scrollX.value?Sn:"is-scrolling-none"),$n.className=xn.join(" ")},Fe=$n=>{const{tableWrapper:Sn}=$.refs;ze(Sn,$n)},Ue=$n=>{const{tableWrapper:Sn}=$.refs;return!!(Sn&&Sn.classList.contains($n))},At=function(){if(!$.refs.scrollBarRef)return;if(!n.scrollX.value){const Fn="is-scrolling-none";Ue(Fn)||Fe(Fn);return}const $n=$.refs.scrollBarRef.wrapRef;if(!$n)return;const{scrollLeft:Sn,offsetWidth:xn,scrollWidth:On}=$n,{headerWrapper:Cn,footerWrapper:An}=$.refs;Cn&&(Cn.scrollLeft=Sn),An&&(An.scrollLeft=Sn);const Rn=On-xn-1;Sn>=Rn?Fe("is-scrolling-right"):Fe(Sn===0?"is-scrolling-left":"is-scrolling-middle")},Et=()=>{!$.refs.scrollBarRef||($.refs.scrollBarRef.wrapRef&&useEventListener($.refs.scrollBarRef.wrapRef,"scroll",At,{passive:!0}),g.fit?useResizeObserver($.vnode.el,Pt):useEventListener(window,"resize",Pt),useResizeObserver($.refs.bodyWrapper,()=>{var $n,Sn;Pt(),(Sn=($n=$.refs)==null?void 0:$n.scrollBarRef)==null||Sn.update()}))},Pt=()=>{var $n,Sn,xn;const On=$.vnode.el;if(!$.$ready||!On)return;let Cn=!1;const{width:An,height:Rn,headerHeight:Fn}=re.value,Pn=de.value=On.offsetWidth;An!==Pn&&(Cn=!0);const Un=On.offsetHeight;(g.height||Ce.value)&&Rn!==Un&&(Cn=!0);const Dn=g.tableLayout==="fixed"?$.refs.headerWrapper:($n=$.refs.tableHeaderRef)==null?void 0:$n.$el;g.showHeader&&(Dn==null?void 0:Dn.offsetHeight)!==Fn&&(Cn=!0),he.value=((Sn=$.refs.tableWrapper)==null?void 0:Sn.scrollHeight)||0,_e.value=(Dn==null?void 0:Dn.scrollHeight)||0,$e.value=((xn=$.refs.footerWrapper)==null?void 0:xn.offsetHeight)||0,pe.value=he.value-_e.value-$e.value,Cn&&(re.value={width:Pn,height:Un,headerHeight:g.showHeader&&(Dn==null?void 0:Dn.offsetHeight)||0},Ne())},kt=useSize(),Dt=computed(()=>{const{bodyWidth:$n,scrollY:Sn,gutterWidth:xn}=n;return $n.value?`${$n.value-(Sn.value?xn:0)}px`:""}),Lt=computed(()=>g.maxHeight?"fixed":g.tableLayout),hn=computed(()=>{if(g.data&&g.data.length)return null;let $n="100%";g.height&&pe.value&&($n=`${pe.value}px`);const Sn=de.value;return{width:Sn?`${Sn}px`:"",height:$n}}),vn=computed(()=>g.height?{height:Number.isNaN(Number(g.height))?g.height:`${g.height}px`}:g.maxHeight?{maxHeight:Number.isNaN(Number(g.maxHeight))?g.maxHeight:`${g.maxHeight}px`}:{}),_n=computed(()=>{if(g.height)return{height:"100%"};if(g.maxHeight){if(Number.isNaN(Number(g.maxHeight)))return{maxHeight:`calc(${g.maxHeight} - ${_e.value+$e.value}px)`};{const $n=g.maxHeight;if(he.value>=Number($n))return{maxHeight:`${he.value-_e.value-$e.value}px`}}}return{}});return{isHidden:L,renderExpanded:V,setDragVisible:ae,isGroup:le,handleMouseLeave:xe,handleHeaderFooterMousewheel:Oe,tableSize:kt,emptyBlockStyle:hn,handleFixedMousewheel:($n,Sn)=>{const xn=$.refs.bodyWrapper;if(Math.abs(Sn.spinY)>0){const On=xn.scrollTop;Sn.pixelY<0&&On!==0&&$n.preventDefault(),Sn.pixelY>0&&xn.scrollHeight-xn.clientHeight>On&&$n.preventDefault(),xn.scrollTop+=Math.ceil(Sn.pixelY/5)}else xn.scrollLeft+=Math.ceil(Sn.pixelX/5)},resizeProxyVisible:oe,bodyWidth:Dt,resizeState:re,doLayout:Ne,tableBodyStyles:Ie,tableLayout:Lt,scrollbarViewStyle:ue,tableInnerStyle:vn,scrollbarStyle:_n}}var defaultProps$1={data:{type:Array,default:()=>[]},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:{type:Boolean,default:!1},flexible:Boolean};const useScrollbar=()=>{const g=ref(),n=($,L)=>{const V=g.value;V&&V.scrollTo($,L)},r=($,L)=>{const V=g.value;V&&isNumber$4(L)&&["Top","Left"].includes($)&&V[`setScroll${$}`](L)};return{scrollBarRef:g,scrollTo:n,setScrollTop:$=>r("Top",$),setScrollLeft:$=>r("Left",$)}};let tableIdSeed=1;const _sfc_main$l=defineComponent({name:"ElTable",directives:{Mousewheel},components:{TableHeader,TableBody,TableFooter,ElScrollbar,hColgroup},props:defaultProps$1,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(g){const{t:n}=useLocale(),r=useNamespace("table"),$=getCurrentInstance();provide(TABLE_INJECTION_KEY,$);const L=createStore($,g);$.store=L;const V=new TableLayout({store:$.store,table:$,fit:g.fit,showHeader:g.showHeader});$.layout=V;const oe=computed(()=>(L.states.data.value||[]).length===0),{setCurrentRow:ae,getSelectionRows:re,toggleRowSelection:le,clearSelection:ue,clearFilter:de,toggleAllSelection:he,toggleRowExpansion:pe,clearSort:_e,sort:$e}=useUtils(L),{isHidden:xe,renderExpanded:Oe,setDragVisible:Ce,isGroup:Ie,handleMouseLeave:Ne,handleHeaderFooterMousewheel:ze,tableSize:Fe,emptyBlockStyle:Ue,handleFixedMousewheel:At,resizeProxyVisible:Et,bodyWidth:Pt,resizeState:kt,doLayout:Dt,tableBodyStyles:Lt,tableLayout:hn,scrollbarViewStyle:vn,tableInnerStyle:_n,scrollbarStyle:$n}=useStyle(g,V,L,$),{scrollBarRef:Sn,scrollTo:xn,setScrollLeft:On,setScrollTop:Cn}=useScrollbar(),An=debounce(Dt,50),Rn=`${r.namespace.value}-table_${tableIdSeed++}`;$.tableId=Rn,$.state={isGroup:Ie,resizeState:kt,doLayout:Dt,debouncedUpdateLayout:An};const Fn=computed(()=>g.sumText||n("el.table.sumText")),Pn=computed(()=>g.emptyText||n("el.table.emptyText"));return{ns:r,layout:V,store:L,handleHeaderFooterMousewheel:ze,handleMouseLeave:Ne,tableId:Rn,tableSize:Fe,isHidden:xe,isEmpty:oe,renderExpanded:Oe,resizeProxyVisible:Et,resizeState:kt,isGroup:Ie,bodyWidth:Pt,tableBodyStyles:Lt,emptyBlockStyle:Ue,debouncedUpdateLayout:An,handleFixedMousewheel:At,setCurrentRow:ae,getSelectionRows:re,toggleRowSelection:le,clearSelection:ue,clearFilter:de,toggleAllSelection:he,toggleRowExpansion:pe,clearSort:_e,doLayout:Dt,sort:$e,t:n,setDragVisible:Ce,context:$,computedSumText:Fn,computedEmptyText:Pn,tableLayout:hn,scrollbarViewStyle:vn,tableInnerStyle:_n,scrollbarStyle:$n,scrollBarRef:Sn,scrollTo:xn,setScrollLeft:On,setScrollTop:Cn}}}),_hoisted_1$c=["data-prefix"],_hoisted_2$5={ref:"hiddenColumns",class:"hidden-columns"};function _sfc_render(g,n,r,$,L,V){const oe=resolveComponent("hColgroup"),ae=resolveComponent("table-header"),re=resolveComponent("table-body"),le=resolveComponent("el-scrollbar"),ue=resolveComponent("table-footer"),de=resolveDirective("mousewheel");return openBlock(),createElementBlock("div",{ref:"tableWrapper",class:normalizeClass([{[g.ns.m("fit")]:g.fit,[g.ns.m("striped")]:g.stripe,[g.ns.m("border")]:g.border||g.isGroup,[g.ns.m("hidden")]:g.isHidden,[g.ns.m("group")]:g.isGroup,[g.ns.m("fluid-height")]:g.maxHeight,[g.ns.m("scrollable-x")]:g.layout.scrollX.value,[g.ns.m("scrollable-y")]:g.layout.scrollY.value,[g.ns.m("enable-row-hover")]:!g.store.states.isComplex.value,[g.ns.m("enable-row-transition")]:(g.store.states.data.value||[]).length!==0&&(g.store.states.data.value||[]).length<100,"has-footer":g.showSummary},g.ns.m(g.tableSize),g.className,g.ns.b(),g.ns.m(`layout-${g.tableLayout}`)]),style:normalizeStyle$2(g.style),"data-prefix":g.ns.namespace.value,onMouseleave:n[0]||(n[0]=he=>g.handleMouseLeave())},[createBaseVNode("div",{class:normalizeClass(g.ns.e("inner-wrapper")),style:normalizeStyle$2(g.tableInnerStyle)},[createBaseVNode("div",_hoisted_2$5,[renderSlot(g.$slots,"default")],512),g.showHeader&&g.tableLayout==="fixed"?withDirectives((openBlock(),createElementBlock("div",{key:0,ref:"headerWrapper",class:normalizeClass(g.ns.e("header-wrapper"))},[createBaseVNode("table",{ref:"tableHeader",class:normalizeClass(g.ns.e("header")),style:normalizeStyle$2(g.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[createVNode$2(oe,{columns:g.store.states.columns.value,"table-layout":g.tableLayout},null,8,["columns","table-layout"]),createVNode$2(ae,{ref:"tableHeaderRef",border:g.border,"default-sort":g.defaultSort,store:g.store,onSetDragVisible:g.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[de,g.handleHeaderFooterMousewheel]]):createCommentVNode("v-if",!0),createBaseVNode("div",{ref:"bodyWrapper",class:normalizeClass(g.ns.e("body-wrapper"))},[createVNode$2(le,{ref:"scrollBarRef","view-style":g.scrollbarViewStyle,"wrap-style":g.scrollbarStyle,always:g.scrollbarAlwaysOn},{default:withCtx(()=>[createBaseVNode("table",{ref:"tableBody",class:normalizeClass(g.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:normalizeStyle$2({width:g.bodyWidth,tableLayout:g.tableLayout})},[createVNode$2(oe,{columns:g.store.states.columns.value,"table-layout":g.tableLayout},null,8,["columns","table-layout"]),g.showHeader&&g.tableLayout==="auto"?(openBlock(),createBlock(ae,{key:0,ref:"tableHeaderRef",border:g.border,"default-sort":g.defaultSort,store:g.store,onSetDragVisible:g.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])):createCommentVNode("v-if",!0),createVNode$2(re,{context:g.context,highlight:g.highlightCurrentRow,"row-class-name":g.rowClassName,"tooltip-effect":g.tooltipEffect,"row-style":g.rowStyle,store:g.store,stripe:g.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","row-style","store","stripe"])],6),g.isEmpty?(openBlock(),createElementBlock("div",{key:0,ref:"emptyBlock",style:normalizeStyle$2(g.emptyBlockStyle),class:normalizeClass(g.ns.e("empty-block"))},[createBaseVNode("span",{class:normalizeClass(g.ns.e("empty-text"))},[renderSlot(g.$slots,"empty",{},()=>[createTextVNode(toDisplayString(g.computedEmptyText),1)])],2)],6)):createCommentVNode("v-if",!0),g.$slots.append?(openBlock(),createElementBlock("div",{key:1,ref:"appendWrapper",class:normalizeClass(g.ns.e("append-wrapper"))},[renderSlot(g.$slots,"append")],2)):createCommentVNode("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),g.showSummary?withDirectives((openBlock(),createElementBlock("div",{key:1,ref:"footerWrapper",class:normalizeClass(g.ns.e("footer-wrapper"))},[createVNode$2(ue,{border:g.border,"default-sort":g.defaultSort,store:g.store,style:normalizeStyle$2(g.tableBodyStyles),"sum-text":g.computedSumText,"summary-method":g.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],2)),[[vShow,!g.isEmpty],[de,g.handleHeaderFooterMousewheel]]):createCommentVNode("v-if",!0),g.border||g.isGroup?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(g.ns.e("border-left-patch"))},null,2)):createCommentVNode("v-if",!0)],6),withDirectives(createBaseVNode("div",{ref:"resizeProxy",class:normalizeClass(g.ns.e("column-resize-proxy"))},null,2),[[vShow,g.resizeProxyVisible]])],46,_hoisted_1$c)}var Table=_export_sfc$1(_sfc_main$l,[["render",_sfc_render],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const defaultClassNames={selection:"table-column--selection",expand:"table__expand-column"},cellStarts={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},getDefaultClassName=g=>defaultClassNames[g]||"",cellForced={selection:{renderHeader({store:g}){function n(){return g.states.data.value&&g.states.data.value.length===0}return h$2(ElCheckbox,{disabled:n(),size:g.states.tableSize.value,indeterminate:g.states.selection.value.length>0&&!g.states.isAllSelected.value,"onUpdate:modelValue":g.toggleAllSelection,modelValue:g.states.isAllSelected.value})},renderCell({row:g,column:n,store:r,$index:$}){return h$2(ElCheckbox,{disabled:n.selectable?!n.selectable.call(null,g,$):!1,size:r.states.tableSize.value,onChange:()=>{r.commit("rowSelectedChanged",g)},onClick:L=>L.stopPropagation(),modelValue:r.isSelected(g)})},sortable:!1,resizable:!1},index:{renderHeader({column:g}){return g.label||"#"},renderCell({column:g,$index:n}){let r=n+1;const $=g.index;return typeof $=="number"?r=n+$:typeof $=="function"&&(r=$(n)),h$2("div",{},[r])},sortable:!1},expand:{renderHeader({column:g}){return g.label||""},renderCell({row:g,store:n,expanded:r}){const{ns:$}=n,L=[$.e("expand-icon")];return r&&L.push($.em("expand-icon","expanded")),h$2("div",{class:L,onClick:function(V){V.stopPropagation(),n.toggleRowExpansion(g)}},{default:()=>[h$2(ElIcon,null,{default:()=>[h$2(arrow_right_default)]})]})},sortable:!1,resizable:!1}};function defaultRenderCell({row:g,column:n,$index:r}){var $;const L=n.property,V=L&&getProp(g,L).value;return n&&n.formatter?n.formatter(g,n,V,r):(($=V==null?void 0:V.toString)==null?void 0:$.call(V))||""}function treeCellPrefix({row:g,treeNode:n,store:r},$=!1){const{ns:L}=r;if(!n)return $?[h$2("span",{class:L.e("placeholder")})]:null;const V=[],oe=function(ae){ae.stopPropagation(),!n.loading&&r.loadOrToggle(g)};if(n.indent&&V.push(h$2("span",{class:L.e("indent"),style:{"padding-left":`${n.indent}px`}})),typeof n.expanded=="boolean"&&!n.noLazyChildren){const ae=[L.e("expand-icon"),n.expanded?L.em("expand-icon","expanded"):""];let re=arrow_right_default;n.loading&&(re=loading_default),V.push(h$2("div",{class:ae,onClick:oe},{default:()=>[h$2(ElIcon,{class:{[L.is("loading")]:n.loading}},{default:()=>[h$2(re)]})]}))}else V.push(h$2("span",{class:L.e("placeholder")}));return V}function getAllAliases(g,n){return g.reduce((r,$)=>(r[$]=$,r),n)}function useWatcher(g,n){const r=getCurrentInstance();return{registerComplexWatchers:()=>{const $=["fixed"],L={realWidth:"width",realMinWidth:"minWidth"},V=getAllAliases($,L);Object.keys(V).forEach(oe=>{const ae=L[oe];hasOwn$2(n,ae)&&watch(()=>n[ae],re=>{let le=re;ae==="width"&&oe==="realWidth"&&(le=parseWidth(re)),ae==="minWidth"&&oe==="realMinWidth"&&(le=parseMinWidth(re)),r.columnConfig.value[ae]=le,r.columnConfig.value[oe]=le;const ue=ae==="fixed";g.value.store.scheduleLayout(ue)})})},registerNormalWatchers:()=>{const $=["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],L={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},V=getAllAliases($,L);Object.keys(V).forEach(oe=>{const ae=L[oe];hasOwn$2(n,ae)&&watch(()=>n[ae],re=>{r.columnConfig.value[oe]=re})})}}}function useRender(g,n,r){const $=getCurrentInstance(),L=ref(""),V=ref(!1),oe=ref(),ae=ref(),re=useNamespace("table");watchEffect(()=>{oe.value=g.align?`is-${g.align}`:null,oe.value}),watchEffect(()=>{ae.value=g.headerAlign?`is-${g.headerAlign}`:oe.value,ae.value});const le=computed(()=>{let xe=$.vnode.vParent||$.parent;for(;xe&&!xe.tableId&&!xe.columnId;)xe=xe.vnode.vParent||xe.parent;return xe}),ue=computed(()=>{const{store:xe}=$.parent;if(!xe)return!1;const{treeData:Oe}=xe.states,Ce=Oe.value;return Ce&&Object.keys(Ce).length>0}),de=ref(parseWidth(g.width)),he=ref(parseMinWidth(g.minWidth)),pe=xe=>(de.value&&(xe.width=de.value),he.value&&(xe.minWidth=he.value),!de.value&&he.value&&(xe.width=void 0),xe.minWidth||(xe.minWidth=80),xe.realWidth=Number(xe.width===void 0?xe.minWidth:xe.width),xe),_e=xe=>{const Oe=xe.type,Ce=cellForced[Oe]||{};Object.keys(Ce).forEach(Ne=>{const ze=Ce[Ne];Ne!=="className"&&ze!==void 0&&(xe[Ne]=ze)});const Ie=getDefaultClassName(Oe);if(Ie){const Ne=`${unref(re.namespace)}-${Ie}`;xe.className=xe.className?`${xe.className} ${Ne}`:Ne}return xe},$e=xe=>{Array.isArray(xe)?xe.forEach(Ce=>Oe(Ce)):Oe(xe);function Oe(Ce){var Ie;((Ie=Ce==null?void 0:Ce.type)==null?void 0:Ie.name)==="ElTableColumn"&&(Ce.vParent=$)}};return{columnId:L,realAlign:oe,isSubColumn:V,realHeaderAlign:ae,columnOrTableParent:le,setColumnWidth:pe,setColumnForcedProps:_e,setColumnRenders:xe=>{g.renderHeader||xe.type!=="selection"&&(xe.renderHeader=Ce=>{$.columnConfig.value.label;const Ie=n.header;return Ie?Ie(Ce):xe.label});let Oe=xe.renderCell;return xe.type==="expand"?(xe.renderCell=Ce=>h$2("div",{class:"cell"},[Oe(Ce)]),r.value.renderExpanded=Ce=>n.default?n.default(Ce):n.default):(Oe=Oe||defaultRenderCell,xe.renderCell=Ce=>{let Ie=null;if(n.default){const Ue=n.default(Ce);Ie=Ue.some(At=>At.type!==Comment)?Ue:Oe(Ce)}else Ie=Oe(Ce);const Ne=ue.value&&Ce.cellIndex===0&&Ce.column.type!=="selection",ze=treeCellPrefix(Ce,Ne),Fe={class:"cell",style:{}};return xe.showOverflowTooltip&&(Fe.class=`${Fe.class} ${unref(re.namespace)}-tooltip`,Fe.style={width:`${(Ce.column.realWidth||Number(Ce.column.width))-1}px`}),$e(Ie),h$2("div",Fe,[ze,Ie])}),xe},getPropsData:(...xe)=>xe.reduce((Oe,Ce)=>(Array.isArray(Ce)&&Ce.forEach(Ie=>{Oe[Ie]=g[Ie]}),Oe),{}),getColumnElIndex:(xe,Oe)=>Array.prototype.indexOf.call(xe,Oe)}}var defaultProps={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:g=>g.every(n=>["ascending","descending",null].includes(n))}};let columnIdSeed=1;var ElTableColumn$1=defineComponent({name:"ElTableColumn",components:{ElCheckbox},props:defaultProps,setup(g,{slots:n}){const r=getCurrentInstance(),$=ref({}),L=computed(()=>{let Ce=r.parent;for(;Ce&&!Ce.tableId;)Ce=Ce.parent;return Ce}),{registerNormalWatchers:V,registerComplexWatchers:oe}=useWatcher(L,g),{columnId:ae,isSubColumn:re,realHeaderAlign:le,columnOrTableParent:ue,setColumnWidth:de,setColumnForcedProps:he,setColumnRenders:pe,getPropsData:_e,getColumnElIndex:$e,realAlign:xe}=useRender(g,n,L),Oe=ue.value;ae.value=`${Oe.tableId||Oe.columnId}_column_${columnIdSeed++}`,onBeforeMount(()=>{re.value=L.value!==Oe;const Ce=g.type||"default",Ie=g.sortable===""?!0:g.sortable,Ne={...cellStarts[Ce],id:ae.value,type:Ce,property:g.prop||g.property,align:xe,headerAlign:le,showOverflowTooltip:g.showOverflowTooltip||g.showTooltipWhenOverflow,filterable:g.filters||g.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:Ie,index:g.index,rawColumnKey:r.vnode.key};let ze=_e(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);ze=mergeOptions$1(Ne,ze),ze=compose(pe,de,he)(ze),$.value=ze,V(),oe()}),onMounted(()=>{var Ce;const Ie=ue.value,Ne=re.value?Ie.vnode.el.children:(Ce=Ie.refs.hiddenColumns)==null?void 0:Ce.children,ze=()=>$e(Ne||[],r.vnode.el);$.value.getColumnIndex=ze,ze()>-1&&L.value.store.commit("insertColumn",$.value,re.value?Ie.columnConfig.value:null)}),onBeforeUnmount(()=>{L.value.store.commit("removeColumn",$.value,re.value?Oe.columnConfig.value:null)}),r.columnId=ae.value,r.columnConfig=$},render(){var g,n,r;try{const $=(n=(g=this.$slots).default)==null?void 0:n.call(g,{row:{},column:{},$index:-1}),L=[];if(Array.isArray($))for(const V of $)((r=V.type)==null?void 0:r.name)==="ElTableColumn"||V.shapeFlag&2?L.push(V):V.type===Fragment&&Array.isArray(V.children)&&V.children.forEach(oe=>{(oe==null?void 0:oe.patchFlag)!==1024&&!isString$5(oe==null?void 0:oe.children)&&L.push(oe)});return h$2("div",L)}catch{return h$2("div",[])}}});const ElTable=withInstall(Table,{TableColumn:ElTableColumn$1}),ElTableColumn=withNoopInstall(ElTableColumn$1),messageTypes=["success","info","warning","error"],messageDefaults=mutable({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:isClient?document.body:void 0}),messageProps=buildProps({customClass:{type:String,default:messageDefaults.customClass},center:{type:Boolean,default:messageDefaults.center},dangerouslyUseHTMLString:{type:Boolean,default:messageDefaults.dangerouslyUseHTMLString},duration:{type:Number,default:messageDefaults.duration},icon:{type:iconPropType,default:messageDefaults.icon},id:{type:String,default:messageDefaults.id},message:{type:definePropType([String,Object,Function]),default:messageDefaults.message},onClose:{type:definePropType(Function),required:!1},showClose:{type:Boolean,default:messageDefaults.showClose},type:{type:String,values:messageTypes,default:messageDefaults.type},offset:{type:Number,default:messageDefaults.offset},zIndex:{type:Number,default:messageDefaults.zIndex},grouping:{type:Boolean,default:messageDefaults.grouping},repeatNum:{type:Number,default:messageDefaults.repeatNum}}),messageEmits={destroy:()=>!0},instances$4=shallowReactive([]),getInstance=g=>{const n=instances$4.findIndex(L=>L.id===g),r=instances$4[n];let $;return n>0&&($=instances$4[n-1]),{current:r,prev:$}},getLastOffset=g=>{const{prev:n}=getInstance(g);return n?n.vm.exposed.bottom.value:0},_hoisted_1$b=["id"],_hoisted_2$4=["innerHTML"],__default__$h=defineComponent({name:"ElMessage"}),_sfc_main$k=defineComponent({...__default__$h,props:messageProps,emits:messageEmits,setup(g,{expose:n}){const r=g,{Close:$}=TypeComponents,L=useNamespace("message"),V=ref(),oe=ref(!1),ae=ref(0);let re;const le=computed(()=>r.type?r.type==="error"?"danger":r.type:"info"),ue=computed(()=>{const Ne=r.type;return{[L.bm("icon",Ne)]:Ne&&TypeComponentsMap[Ne]}}),de=computed(()=>r.icon||TypeComponentsMap[r.type]||""),he=computed(()=>getLastOffset(r.id)),pe=computed(()=>r.offset+he.value),_e=computed(()=>ae.value+pe.value),$e=computed(()=>({top:`${pe.value}px`,zIndex:r.zIndex}));function xe(){r.duration!==0&&({stop:re}=useTimeoutFn(()=>{Ce()},r.duration))}function Oe(){re==null||re()}function Ce(){oe.value=!1}function Ie({code:Ne}){Ne===EVENT_CODE.esc&&Ce()}return onMounted(()=>{xe(),oe.value=!0}),watch(()=>r.repeatNum,()=>{Oe(),xe()}),useEventListener(document,"keydown",Ie),useResizeObserver(V,()=>{ae.value=V.value.getBoundingClientRect().height}),n({visible:oe,bottom:_e,close:Ce}),(Ne,ze)=>(openBlock(),createBlock(Transition,{name:unref(L).b("fade"),onBeforeLeave:Ne.onClose,onAfterLeave:ze[0]||(ze[0]=Fe=>Ne.$emit("destroy")),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:Ne.id,ref_key:"messageRef",ref:V,class:normalizeClass([unref(L).b(),{[unref(L).m(Ne.type)]:Ne.type&&!Ne.icon},unref(L).is("center",Ne.center),unref(L).is("closable",Ne.showClose),Ne.customClass]),style:normalizeStyle$2(unref($e)),role:"alert",onMouseenter:Oe,onMouseleave:xe},[Ne.repeatNum>1?(openBlock(),createBlock(unref(ElBadge),{key:0,value:Ne.repeatNum,type:unref(le),class:normalizeClass(unref(L).e("badge"))},null,8,["value","type","class"])):createCommentVNode("v-if",!0),unref(de)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(L).e("icon"),unref(ue)])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(de))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),renderSlot(Ne.$slots,"default",{},()=>[Ne.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{class:normalizeClass(unref(L).e("content")),innerHTML:Ne.message},null,10,_hoisted_2$4)],2112)):(openBlock(),createElementBlock("p",{key:0,class:normalizeClass(unref(L).e("content"))},toDisplayString(Ne.message),3))]),Ne.showClose?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref(L).e("closeBtn")),onClick:withModifiers(Ce,["stop"])},{default:withCtx(()=>[createVNode$2(unref($))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],46,_hoisted_1$b),[[vShow,oe.value]])]),_:3},8,["name","onBeforeLeave"]))}});var MessageConstructor=_export_sfc$1(_sfc_main$k,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let seed=1;const normalizeOptions=g=>{const n=!g||isString$5(g)||isVNode(g)||isFunction$5(g)?{message:g}:g,r={...messageDefaults,...n};if(!r.appendTo)r.appendTo=document.body;else if(isString$5(r.appendTo)){let $=document.querySelector(r.appendTo);isElement($)||($=document.body),r.appendTo=$}return r},closeMessage=g=>{const n=instances$4.indexOf(g);if(n===-1)return;instances$4.splice(n,1);const{handler:r}=g;r.close()},createMessage=({appendTo:g,...n},r)=>{const{nextZIndex:$}=useZIndex(),L=`message_${seed++}`,V=n.onClose,oe=document.createElement("div"),ae={...n,zIndex:$()+n.zIndex,id:L,onClose:()=>{V==null||V(),closeMessage(ue)},onDestroy:()=>{render$2(null,oe)}},re=createVNode$2(MessageConstructor,ae,isFunction$5(ae.message)||isVNode(ae.message)?{default:isFunction$5(ae.message)?ae.message:()=>ae.message}:null);re.appContext=r||message._context,render$2(re,oe),g.appendChild(oe.firstElementChild);const le=re.component,ue={id:L,vnode:re,vm:le,handler:{close:()=>{le.exposed.visible.value=!1}},props:re.component.props};return ue},message=(g={},n)=>{if(!isClient)return{close:()=>{}};if(isNumber$4(messageConfig.max)&&instances$4.length>=messageConfig.max)return{close:()=>{}};const r=normalizeOptions(g);if(r.grouping&&instances$4.length){const L=instances$4.find(({vnode:V})=>{var oe;return((oe=V.props)==null?void 0:oe.message)===r.message});if(L)return L.props.repeatNum+=1,L.props.type=r.type,L.handler}const $=createMessage(r,n);return instances$4.push($),$.handler};messageTypes.forEach(g=>{message[g]=(n={},r)=>{const $=normalizeOptions(n);return message({...$,type:g},r)}});function closeAll(g){for(const n of instances$4)(!g||g===n.props.type)&&n.handler.close()}message.closeAll=closeAll,message._context=null;let copyText$1,copy$5,__vite_glob_0_0$1,_withScopeId$1,_hoisted_1$a,_hoisted_2$3,_hoisted_3$1,__default__$g,_sfc_main$j,EvLoading_vue_vue_type_style_index_0_scoped_9a984c7b_lang,loadingComp,__vite_glob_1_3,judgeLoading,app,load,loading,__vite_glob_0_1$1;ElMessage=withInstallFunction(message,"$message"),copyText$1=g=>{const n=document.createElement("input");n.value=g,document.body.appendChild(n),n.select();try{document.execCommand("Copy"),ElMessage.success("\u590D\u5236\u6210\u529F")}catch(r){ElMessage.error(`\u590D\u5236\u5931\u8D25:${r}`)}document.body.removeChild(n)},copy$5={name:"copy",options:{mounted(g,n){g.addEventListener("click",()=>{let r=n.value;copyText$1(r)})}}},__vite_glob_0_0$1=Object.freeze(Object.defineProperty({__proto__:null,default:copy$5},Symbol.toStringTag,{value:"Module"})),_withScopeId$1=g=>(pushScopeId("data-v-9a984c7b"),g=g(),popScopeId(),g),_hoisted_1$a={class:"ev-loading-container"},_hoisted_2$3=_withScopeId$1(()=>createBaseVNode("div",{class:"ev-loading"}," loading ",-1)),_hoisted_3$1=[_hoisted_2$3],__default__$g=defineComponent({name:"EvLoading"}),_sfc_main$j=defineComponent({...__default__$g,setup(g){return(n,r)=>(openBlock(),createElementBlock("div",_hoisted_1$a,_hoisted_3$1))}}),EvLoading_vue_vue_type_style_index_0_scoped_9a984c7b_lang="",loadingComp=_export_sfc$2(_sfc_main$j,[["__scopeId","data-v-9a984c7b"]]),__vite_glob_1_3=Object.freeze(Object.defineProperty({__proto__:null,default:loadingComp},Symbol.toStringTag,{value:"Module"})),judgeLoading=(g,n)=>{var V;const r=(V=n.modifiers)!=null&&V.fullscreen?document.body:g,$=oe=>{const ae=getComputedStyle(oe);oe.setAttribute("oldPosition",ae.position),["absolute","fixed","relative"].includes(ae.position)||(oe.style.position="relative"),oe.appendChild(load.$el)},L=oe=>{try{oe.removeChild(load.$el),oe.style.position=oe.getAttribute("oldPosition")||""}catch(ae){console.warn(ae)}};n.value?$(r):L(r)},app=createApp(loadingComp),load=app.mount(document.createElement("div")),loading={name:"loading",options:{mounted(g,n){judgeLoading(g,n)},updated(g,n){judgeLoading(g,n)}}},__vite_glob_0_1$1=Object.freeze(Object.defineProperty({__proto__:null,default:loading},Symbol.toStringTag,{value:"Module"}));var extendStatics$2=function(g,n){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,$){r.__proto__=$}||function(r,$){for(var L in $)Object.prototype.hasOwnProperty.call($,L)&&(r[L]=$[L])},extendStatics$2(g,n)};function __extends$2(g,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");extendStatics$2(g,n);function r(){this.constructor=g}g.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Browser$1=function(){function g(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return g}(),Env$1=function(){function g(){this.browser=new Browser$1,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return g}(),env$2=new Env$1;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env$2.wxa=!0,env$2.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env$2.worker=!0:typeof navigator>"u"?(env$2.node=!0,env$2.svgSupported=!0):detect$1(navigator.userAgent,env$2);function detect$1(g,n){var r=n.browser,$=g.match(/Firefox\/([\d.]+)/),L=g.match(/MSIE\s([\d.]+)/)||g.match(/Trident\/.+?rv:(([\d.]+))/),V=g.match(/Edge?\/([\d.]+)/),oe=/micromessenger/i.test(g);$&&(r.firefox=!0,r.version=$[1]),L&&(r.ie=!0,r.version=L[1]),V&&(r.edge=!0,r.version=V[1],r.newEdge=+V[1].split(".")[0]>18),oe&&(r.weChat=!0),n.svgSupported=typeof SVGRect<"u",n.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,n.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),n.domSupported=typeof document<"u";var ae=document.documentElement.style;n.transform3dSupported=(r.ie&&"transition"in ae||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in ae)&&!("OTransition"in ae),n.transformSupported=n.transform3dSupported||r.ie&&+r.version>=9}const env$3=env$2;var DEFAULT_FONT_SIZE$1=12,DEFAULT_FONT_FAMILY$1="sans-serif",DEFAULT_FONT$1=DEFAULT_FONT_SIZE$1+"px "+DEFAULT_FONT_FAMILY$1,OFFSET$1=20,SCALE$1=100,defaultWidthMapStr$1="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap$1(g){var n={};if(typeof JSON>"u")return n;for(var r=0;r<g.length;r++){var $=String.fromCharCode(r+32),L=(g.charCodeAt(r)-OFFSET$1)/SCALE$1;n[$]=L}return n}var DEFAULT_TEXT_WIDTH_MAP$1=getTextWidthMap$1(defaultWidthMapStr$1),platformApi$1={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var g,n;return function(r,$){if(!g){var L=platformApi$1.createCanvas();g=L&&L.getContext("2d")}if(g)return n!==$&&(n=g.font=$||DEFAULT_FONT$1),g.measureText(r);r=r||"",$=$||DEFAULT_FONT$1;var V=/(\d+)px/.exec($),oe=V&&+V[1]||DEFAULT_FONT_SIZE$1,ae=0;if($.indexOf("mono")>=0)ae=oe*r.length;else for(var re=0;re<r.length;re++){var le=DEFAULT_TEXT_WIDTH_MAP$1[r[re]];ae+=le==null?oe:le*oe}return{width:ae}}}(),loadImage:function(g,n,r){var $=new Image;return $.onload=n,$.onerror=r,$.src=g,$}},BUILTIN_OBJECT$1=reduce$1(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(g,n){return g["[object "+n+"]"]=!0,g},{}),TYPED_ARRAY$1=reduce$1(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(g,n){return g["[object "+n+"Array]"]=!0,g},{}),objToString$1=Object.prototype.toString,arrayProto$1=Array.prototype,nativeForEach$1=arrayProto$1.forEach,nativeFilter$1=arrayProto$1.filter,nativeSlice$1=arrayProto$1.slice,nativeMap$1=arrayProto$1.map,ctorFunction$1=function(){}.constructor,protoFunction$1=ctorFunction$1?ctorFunction$1.prototype:null,protoKey$1="__proto__",idStart$1=2311;function guid$1(){return idStart$1++}function logError$1(){for(var g=[],n=0;n<arguments.length;n++)g[n]=arguments[n];typeof console<"u"&&console.error.apply(console,g)}function clone$9(g){if(g==null||typeof g!="object")return g;var n=g,r=objToString$1.call(g);if(r==="[object Array]"){if(!isPrimitive$1(g)){n=[];for(var $=0,L=g.length;$<L;$++)n[$]=clone$9(g[$])}}else if(TYPED_ARRAY$1[r]){if(!isPrimitive$1(g)){var V=g.constructor;if(V.from)n=V.from(g);else{n=new V(g.length);for(var $=0,L=g.length;$<L;$++)n[$]=g[$]}}}else if(!BUILTIN_OBJECT$1[r]&&!isPrimitive$1(g)&&!isDom$1(g)){n={};for(var oe in g)g.hasOwnProperty(oe)&&oe!==protoKey$1&&(n[oe]=clone$9(g[oe]))}return n}function merge$3(g,n,r){if(!isObject$9(n)||!isObject$9(g))return r?clone$9(n):g;for(var $ in n)if(n.hasOwnProperty($)&&$!==protoKey$1){var L=g[$],V=n[$];isObject$9(V)&&isObject$9(L)&&!isArray$6(V)&&!isArray$6(L)&&!isDom$1(V)&&!isDom$1(L)&&!isBuiltInObject$1(V)&&!isBuiltInObject$1(L)&&!isPrimitive$1(V)&&!isPrimitive$1(L)?merge$3(L,V,r):(r||!($ in g))&&(g[$]=clone$9(n[$]))}return g}function mergeAll$1(g,n){for(var r=g[0],$=1,L=g.length;$<L;$++)r=merge$3(r,g[$],n);return r}function extend$4(g,n){if(Object.assign)Object.assign(g,n);else for(var r in n)n.hasOwnProperty(r)&&r!==protoKey$1&&(g[r]=n[r]);return g}function defaults$7(g,n,r){for(var $=keys$2(n),L=0;L<$.length;L++){var V=$[L];(r?n[V]!=null:g[V]==null)&&(g[V]=n[V])}return g}function indexOf$1(g,n){if(g){if(g.indexOf)return g.indexOf(n);for(var r=0,$=g.length;r<$;r++)if(g[r]===n)return r}return-1}function inherits$3(g,n){var r=g.prototype;function $(){}$.prototype=n.prototype,g.prototype=new $;for(var L in r)r.hasOwnProperty(L)&&(g.prototype[L]=r[L]);g.prototype.constructor=g,g.superClass=n}function mixin$1(g,n,r){if(g="prototype"in g?g.prototype:g,n="prototype"in n?n.prototype:n,Object.getOwnPropertyNames)for(var $=Object.getOwnPropertyNames(n),L=0;L<$.length;L++){var V=$[L];V!=="constructor"&&(r?n[V]!=null:g[V]==null)&&(g[V]=n[V])}else defaults$7(g,n,r)}function isArrayLike$1(g){return!g||typeof g=="string"?!1:typeof g.length=="number"}function each$v(g,n,r){if(g&&n)if(g.forEach&&g.forEach===nativeForEach$1)g.forEach(n,r);else if(g.length===+g.length)for(var $=0,L=g.length;$<L;$++)n.call(r,g[$],$,g);else for(var V in g)g.hasOwnProperty(V)&&n.call(r,g[V],V,g)}function map$3(g,n,r){if(!g)return[];if(!n)return slice$1(g);if(g.map&&g.map===nativeMap$1)return g.map(n,r);for(var $=[],L=0,V=g.length;L<V;L++)$.push(n.call(r,g[L],L,g));return $}function reduce$1(g,n,r,$){if(g&&n){for(var L=0,V=g.length;L<V;L++)r=n.call($,r,g[L],L,g);return r}}function filter$1(g,n,r){if(!g)return[];if(!n)return slice$1(g);if(g.filter&&g.filter===nativeFilter$1)return g.filter(n,r);for(var $=[],L=0,V=g.length;L<V;L++)n.call(r,g[L],L,g)&&$.push(g[L]);return $}function find$2(g,n,r){if(g&&n){for(var $=0,L=g.length;$<L;$++)if(n.call(r,g[$],$,g))return g[$]}}function keys$2(g){if(!g)return[];if(Object.keys)return Object.keys(g);var n=[];for(var r in g)g.hasOwnProperty(r)&&n.push(r);return n}function bindPolyfill$1(g,n){for(var r=[],$=2;$<arguments.length;$++)r[$-2]=arguments[$];return function(){return g.apply(n,r.concat(nativeSlice$1.call(arguments)))}}var bind$5=protoFunction$1&&isFunction$3(protoFunction$1.bind)?protoFunction$1.call.bind(protoFunction$1.bind):bindPolyfill$1;function curry$3(g){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){return g.apply(this,n.concat(nativeSlice$1.call(arguments)))}}function isArray$6(g){return Array.isArray?Array.isArray(g):objToString$1.call(g)==="[object Array]"}function isFunction$3(g){return typeof g=="function"}function isString$3(g){return typeof g=="string"}function isStringSafe$1(g){return objToString$1.call(g)==="[object String]"}function isNumber$3(g){return typeof g=="number"}function isObject$9(g){var n=typeof g;return n==="function"||!!g&&n==="object"}function isBuiltInObject$1(g){return!!BUILTIN_OBJECT$1[objToString$1.call(g)]}function isTypedArray$3(g){return!!TYPED_ARRAY$1[objToString$1.call(g)]}function isDom$1(g){return typeof g=="object"&&typeof g.nodeType=="number"&&typeof g.ownerDocument=="object"}function isGradientObject$1(g){return g.colorStops!=null}function isImagePatternObject$1(g){return g.image!=null}function isRegExp$3(g){return objToString$1.call(g)==="[object RegExp]"}function eqNaN$1(g){return g!==g}function retrieve$1(){for(var g=[],n=0;n<arguments.length;n++)g[n]=arguments[n];for(var r=0,$=g.length;r<$;r++)if(g[r]!=null)return g[r]}function retrieve2$1(g,n){return g!=null?g:n}function retrieve3$1(g,n,r){var $;return($=g!=null?g:n)!=null?$:r}function slice$1(g){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return nativeSlice$1.apply(g,n)}function normalizeCssArray$3(g){if(typeof g=="number")return[g,g,g,g];var n=g.length;return n===2?[g[0],g[1],g[0],g[1]]:n===3?[g[0],g[1],g[2],g[1]]:g}function assert$1(g,n){if(!g)throw new Error(n)}function trim$5(g){return g==null?null:typeof g.trim=="function"?g.trim():g.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey$1="__ec_primitive__";function setAsPrimitive$1(g){g[primitiveKey$1]=!0}function isPrimitive$1(g){return g[primitiveKey$1]}var MapPolyfill$1=function(){function g(){this.data={}}return g.prototype.delete=function(n){var r=this.has(n);return r&&delete this.data[n],r},g.prototype.has=function(n){return this.data.hasOwnProperty(n)},g.prototype.get=function(n){return this.data[n]},g.prototype.set=function(n,r){return this.data[n]=r,this},g.prototype.keys=function(){return keys$2(this.data)},g.prototype.forEach=function(n){var r=this.data;for(var $ in r)r.hasOwnProperty($)&&n(r[$],$)},g}(),isNativeMapSupported$1=typeof Map=="function";function maybeNativeMap$1(){return isNativeMapSupported$1?new Map:new MapPolyfill$1}var HashMap$1=function(){function g(n){var r=isArray$6(n);this.data=maybeNativeMap$1();var $=this;n instanceof g?n.each(L):n&&each$v(n,L);function L(V,oe){r?$.set(V,oe):$.set(oe,V)}}return g.prototype.hasKey=function(n){return this.data.has(n)},g.prototype.get=function(n){return this.data.get(n)},g.prototype.set=function(n,r){return this.data.set(n,r),r},g.prototype.each=function(n,r){this.data.forEach(function($,L){n.call(r,$,L)})},g.prototype.keys=function(){var n=this.data.keys();return isNativeMapSupported$1?Array.from(n):n},g.prototype.removeKey=function(n){this.data.delete(n)},g}();function createHashMap$1(g){return new HashMap$1(g)}function concatArray$1(g,n){for(var r=new g.constructor(g.length+n.length),$=0;$<g.length;$++)r[$]=g[$];for(var L=g.length,$=0;$<n.length;$++)r[$+L]=n[$];return r}function createObject$1(g,n){var r;if(Object.create)r=Object.create(g);else{var $=function(){};$.prototype=g,r=new $}return n&&extend$4(r,n),r}function disableUserSelect$1(g){var n=g.style;n.webkitUserSelect="none",n.userSelect="none",n.webkitTapHighlightColor="rgba(0,0,0,0)",n["-webkit-touch-callout"]="none"}function hasOwn$1(g,n){return g.hasOwnProperty(n)}function noop$4(){}var RADIAN_TO_DEGREE$1=180/Math.PI,extendStatics$1=function(g,n){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,$){r.__proto__=$}||function(r,$){for(var L in $)Object.prototype.hasOwnProperty.call($,L)&&(r[L]=$[L])},extendStatics$1(g,n)};function __extends$1(g,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");extendStatics$1(g,n);function r(){this.constructor=g}g.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function create$5(g,n){return g==null&&(g=0),n==null&&(n=0),[g,n]}function copy$4(g,n){return g[0]=n[0],g[1]=n[1],g}function clone$8(g){return[g[0],g[1]]}function set$3(g,n,r){return g[0]=n,g[1]=r,g}function add$2(g,n,r){return g[0]=n[0]+r[0],g[1]=n[1]+r[1],g}function scaleAndAdd$3(g,n,r,$){return g[0]=n[0]+r[0]*$,g[1]=n[1]+r[1]*$,g}function sub$1(g,n,r){return g[0]=n[0]-r[0],g[1]=n[1]-r[1],g}function len$1(g){return Math.sqrt(lenSquare$1(g))}function lenSquare$1(g){return g[0]*g[0]+g[1]*g[1]}function scale$5(g,n,r){return g[0]=n[0]*r,g[1]=n[1]*r,g}function normalize$8(g,n){var r=len$1(n);return r===0?(g[0]=0,g[1]=0):(g[0]=n[0]/r,g[1]=n[1]/r),g}function distance$1(g,n){return Math.sqrt((g[0]-n[0])*(g[0]-n[0])+(g[1]-n[1])*(g[1]-n[1]))}var dist$3=distance$1;function distanceSquare$1(g,n){return(g[0]-n[0])*(g[0]-n[0])+(g[1]-n[1])*(g[1]-n[1])}var distSquare$1=distanceSquare$1;function lerp$3(g,n,r,$){return g[0]=n[0]+$*(r[0]-n[0]),g[1]=n[1]+$*(r[1]-n[1]),g}function applyTransform$3(g,n,r){var $=n[0],L=n[1];return g[0]=r[0]*$+r[2]*L+r[4],g[1]=r[1]*$+r[3]*L+r[5],g}function min$3(g,n,r){return g[0]=Math.min(n[0],r[0]),g[1]=Math.min(n[1],r[1]),g}function max$3(g,n,r){return g[0]=Math.max(n[0],r[0]),g[1]=Math.max(n[1],r[1]),g}var Param$1=function(){function g(n,r){this.target=n,this.topTarget=r&&r.topTarget}return g}(),Draggable$2=function(){function g(n){this.handler=n,n.on("mousedown",this._dragStart,this),n.on("mousemove",this._drag,this),n.on("mouseup",this._dragEnd,this)}return g.prototype._dragStart=function(n){for(var r=n.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this.handler.dispatchToElement(new Param$1(r,n),"dragstart",n.event))},g.prototype._drag=function(n){var r=this._draggingTarget;if(r){var $=n.offsetX,L=n.offsetY,V=$-this._x,oe=L-this._y;this._x=$,this._y=L,r.drift(V,oe,n),this.handler.dispatchToElement(new Param$1(r,n),"drag",n.event);var ae=this.handler.findHover($,L,r).target,re=this._dropTarget;this._dropTarget=ae,r!==ae&&(re&&ae!==re&&this.handler.dispatchToElement(new Param$1(re,n),"dragleave",n.event),ae&&ae!==re&&this.handler.dispatchToElement(new Param$1(ae,n),"dragenter",n.event))}},g.prototype._dragEnd=function(n){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new Param$1(r,n),"dragend",n.event),this._dropTarget&&this.handler.dispatchToElement(new Param$1(this._dropTarget,n),"drop",n.event),this._draggingTarget=null,this._dropTarget=null},g}();const Draggable$3=Draggable$2;var Eventful$2=function(){function g(n){n&&(this._$eventProcessor=n)}return g.prototype.on=function(n,r,$,L){this._$handlers||(this._$handlers={});var V=this._$handlers;if(typeof r=="function"&&(L=$,$=r,r=null),!$||!n)return this;var oe=this._$eventProcessor;r!=null&&oe&&oe.normalizeQuery&&(r=oe.normalizeQuery(r)),V[n]||(V[n]=[]);for(var ae=0;ae<V[n].length;ae++)if(V[n][ae].h===$)return this;var re={h:$,query:r,ctx:L||this,callAtLast:$.zrEventfulCallAtLast},le=V[n].length-1,ue=V[n][le];return ue&&ue.callAtLast?V[n].splice(le,0,re):V[n].push(re),this},g.prototype.isSilent=function(n){var r=this._$handlers;return!r||!r[n]||!r[n].length},g.prototype.off=function(n,r){var $=this._$handlers;if(!$)return this;if(!n)return this._$handlers={},this;if(r){if($[n]){for(var L=[],V=0,oe=$[n].length;V<oe;V++)$[n][V].h!==r&&L.push($[n][V]);$[n]=L}$[n]&&$[n].length===0&&delete $[n]}else delete $[n];return this},g.prototype.trigger=function(n){for(var r=[],$=1;$<arguments.length;$++)r[$-1]=arguments[$];if(!this._$handlers)return this;var L=this._$handlers[n],V=this._$eventProcessor;if(L)for(var oe=r.length,ae=L.length,re=0;re<ae;re++){var le=L[re];if(!(V&&V.filter&&le.query!=null&&!V.filter(n,le.query)))switch(oe){case 0:le.h.call(le.ctx);break;case 1:le.h.call(le.ctx,r[0]);break;case 2:le.h.call(le.ctx,r[0],r[1]);break;default:le.h.apply(le.ctx,r);break}}return V&&V.afterTrigger&&V.afterTrigger(n),this},g.prototype.triggerWithContext=function(n){for(var r=[],$=1;$<arguments.length;$++)r[$-1]=arguments[$];if(!this._$handlers)return this;var L=this._$handlers[n],V=this._$eventProcessor;if(L)for(var oe=r.length,ae=r[oe-1],re=L.length,le=0;le<re;le++){var ue=L[le];if(!(V&&V.filter&&ue.query!=null&&!V.filter(n,ue.query)))switch(oe){case 0:ue.h.call(ae);break;case 1:ue.h.call(ae,r[0]);break;case 2:ue.h.call(ae,r[0],r[1]);break;default:ue.h.apply(ae,r.slice(1,oe-1));break}}return V&&V.afterTrigger&&V.afterTrigger(n),this},g}();const Eventful$3=Eventful$2;var LN2$1=Math.log(2);function determinant$1(g,n,r,$,L,V){var oe=$+"-"+L,ae=g.length;if(V.hasOwnProperty(oe))return V[oe];if(n===1){var re=Math.round(Math.log((1<<ae)-1&~L)/LN2$1);return g[r][re]}for(var le=$|1<<r,ue=r+1;$&1<<ue;)ue++;for(var de=0,he=0,pe=0;he<ae;he++){var _e=1<<he;_e&L||(de+=(pe%2?-1:1)*g[r][he]*determinant$1(g,n-1,ue,le,L|_e,V),pe++)}return V[oe]=de,de}function buildTransformer$1(g,n){var r=[[g[0],g[1],1,0,0,0,-n[0]*g[0],-n[0]*g[1]],[0,0,0,g[0],g[1],1,-n[1]*g[0],-n[1]*g[1]],[g[2],g[3],1,0,0,0,-n[2]*g[2],-n[2]*g[3]],[0,0,0,g[2],g[3],1,-n[3]*g[2],-n[3]*g[3]],[g[4],g[5],1,0,0,0,-n[4]*g[4],-n[4]*g[5]],[0,0,0,g[4],g[5],1,-n[5]*g[4],-n[5]*g[5]],[g[6],g[7],1,0,0,0,-n[6]*g[6],-n[6]*g[7]],[0,0,0,g[6],g[7],1,-n[7]*g[6],-n[7]*g[7]]],$={},L=determinant$1(r,8,0,0,0,$);if(L!==0){for(var V=[],oe=0;oe<8;oe++)for(var ae=0;ae<8;ae++)V[ae]==null&&(V[ae]=0),V[ae]+=((oe+ae)%2?-1:1)*determinant$1(r,7,oe===0?1:0,1<<oe,1<<ae,$)/L*n[oe];return function(re,le,ue){var de=le*V[6]+ue*V[7]+1;re[0]=(le*V[0]+ue*V[1]+V[2])/de,re[1]=(le*V[3]+ue*V[4]+V[5])/de}}}var EVENT_SAVED_PROP$1="___zrEVENTSAVED",_calcOut$3=[];function transformLocalCoord$1(g,n,r,$,L){return transformCoordWithViewport$1(_calcOut$3,n,$,L,!0)&&transformCoordWithViewport$1(g,r,_calcOut$3[0],_calcOut$3[1])}function transformCoordWithViewport$1(g,n,r,$,L){if(n.getBoundingClientRect&&env$3.domSupported&&!isCanvasEl$1(n)){var V=n[EVENT_SAVED_PROP$1]||(n[EVENT_SAVED_PROP$1]={}),oe=prepareCoordMarkers$1(n,V),ae=preparePointerTransformer$1(oe,V,L);if(ae)return ae(g,r,$),!0}return!1}function prepareCoordMarkers$1(g,n){var r=n.markers;if(r)return r;r=n.markers=[];for(var $=["left","right"],L=["top","bottom"],V=0;V<4;V++){var oe=document.createElement("div"),ae=oe.style,re=V%2,le=(V>>1)%2;ae.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",$[re]+":0",L[le]+":0",$[1-re]+":auto",L[1-le]+":auto",""].join("!important;"),g.appendChild(oe),r.push(oe)}return r}function preparePointerTransformer$1(g,n,r){for(var $=r?"invTrans":"trans",L=n[$],V=n.srcCoords,oe=[],ae=[],re=!0,le=0;le<4;le++){var ue=g[le].getBoundingClientRect(),de=2*le,he=ue.left,pe=ue.top;oe.push(he,pe),re=re&&V&&he===V[de]&&pe===V[de+1],ae.push(g[le].offsetLeft,g[le].offsetTop)}return re&&L?L:(n.srcCoords=oe,n[$]=r?buildTransformer$1(ae,oe):buildTransformer$1(oe,ae))}function isCanvasEl$1(g){return g.nodeName.toUpperCase()==="CANVAS"}var replaceReg$1=/([&<>"'])/g,replaceMap$1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML$1(g){return g==null?"":(g+"").replace(replaceReg$1,function(n,r){return replaceMap$1[r]})}var MOUSE_EVENT_REG$1=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut$2=[],firefoxNotSupportOffsetXY$1=env$3.browser.firefox&&+env$3.browser.version.split(".")[0]<39;function clientToLocal$1(g,n,r,$){return r=r||{},$?calculateZrXY$1(g,n,r):firefoxNotSupportOffsetXY$1&&n.layerX!=null&&n.layerX!==n.offsetX?(r.zrX=n.layerX,r.zrY=n.layerY):n.offsetX!=null?(r.zrX=n.offsetX,r.zrY=n.offsetY):calculateZrXY$1(g,n,r),r}function calculateZrXY$1(g,n,r){if(env$3.domSupported&&g.getBoundingClientRect){var $=n.clientX,L=n.clientY;if(isCanvasEl$1(g)){var V=g.getBoundingClientRect();r.zrX=$-V.left,r.zrY=L-V.top;return}else if(transformCoordWithViewport$1(_calcOut$2,g,$,L)){r.zrX=_calcOut$2[0],r.zrY=_calcOut$2[1];return}}r.zrX=r.zrY=0}function getNativeEvent$1(g){return g||window.event}function normalizeEvent$1(g,n,r){if(n=getNativeEvent$1(n),n.zrX!=null)return n;var $=n.type,L=$&&$.indexOf("touch")>=0;if(L){var V=$!=="touchend"?n.targetTouches[0]:n.changedTouches[0];V&&clientToLocal$1(g,V,n,r)}else{clientToLocal$1(g,n,n,r);var oe=getWheelDeltaMayPolyfill$1(n);n.zrDelta=oe?oe/120:-(n.detail||0)/3}var ae=n.button;return n.which==null&&ae!==void 0&&MOUSE_EVENT_REG$1.test(n.type)&&(n.which=ae&1?1:ae&2?3:ae&4?2:0),n}function getWheelDeltaMayPolyfill$1(g){var n=g.wheelDelta;if(n)return n;var r=g.deltaX,$=g.deltaY;if(r==null||$==null)return n;var L=Math.abs($!==0?$:r),V=$>0?-1:$<0?1:r>0?-1:1;return 3*L*V}function addEventListener$1(g,n,r,$){g.addEventListener(n,r,$)}function removeEventListener$1(g,n,r,$){g.removeEventListener(n,r,$)}var stop$1=function(g){g.preventDefault(),g.stopPropagation(),g.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown$1(g){return g.which===2||g.which===3}var GestureMgr$1=function(){function g(){this._track=[]}return g.prototype.recognize=function(n,r,$){return this._doTrack(n,r,$),this._recognize(n)},g.prototype.clear=function(){return this._track.length=0,this},g.prototype._doTrack=function(n,r,$){var L=n.touches;if(L){for(var V={points:[],touches:[],target:r,event:n},oe=0,ae=L.length;oe<ae;oe++){var re=L[oe],le=clientToLocal$1($,re,{});V.points.push([le.zrX,le.zrY]),V.touches.push(re)}this._track.push(V)}},g.prototype._recognize=function(n){for(var r in recognizers$1)if(recognizers$1.hasOwnProperty(r)){var $=recognizers$1[r](this._track,n);if($)return $}},g}();function dist$2(g){var n=g[1][0]-g[0][0],r=g[1][1]-g[0][1];return Math.sqrt(n*n+r*r)}function center$3(g){return[(g[0][0]+g[1][0])/2,(g[0][1]+g[1][1])/2]}var recognizers$1={pinch:function(g,n){var r=g.length;if(r){var $=(g[r-1]||{}).points,L=(g[r-2]||{}).points||$;if(L&&L.length>1&&$&&$.length>1){var V=dist$2($)/dist$2(L);!isFinite(V)&&(V=1),n.pinchScale=V;var oe=center$3($);return n.pinchX=oe[0],n.pinchY=oe[1],{type:"pinch",target:g[0].target,event:n}}}}};function create$4(){return[1,0,0,1,0,0]}function identity$1(g){return g[0]=1,g[1]=0,g[2]=0,g[3]=1,g[4]=0,g[5]=0,g}function copy$3(g,n){return g[0]=n[0],g[1]=n[1],g[2]=n[2],g[3]=n[3],g[4]=n[4],g[5]=n[5],g}function mul$1(g,n,r){var $=n[0]*r[0]+n[2]*r[1],L=n[1]*r[0]+n[3]*r[1],V=n[0]*r[2]+n[2]*r[3],oe=n[1]*r[2]+n[3]*r[3],ae=n[0]*r[4]+n[2]*r[5]+n[4],re=n[1]*r[4]+n[3]*r[5]+n[5];return g[0]=$,g[1]=L,g[2]=V,g[3]=oe,g[4]=ae,g[5]=re,g}function translate$1(g,n,r){return g[0]=n[0],g[1]=n[1],g[2]=n[2],g[3]=n[3],g[4]=n[4]+r[0],g[5]=n[5]+r[1],g}function rotate$1(g,n,r){var $=n[0],L=n[2],V=n[4],oe=n[1],ae=n[3],re=n[5],le=Math.sin(r),ue=Math.cos(r);return g[0]=$*ue+oe*le,g[1]=-$*le+oe*ue,g[2]=L*ue+ae*le,g[3]=-L*le+ue*ae,g[4]=ue*V+le*re,g[5]=ue*re-le*V,g}function scale$4(g,n,r){var $=r[0],L=r[1];return g[0]=n[0]*$,g[1]=n[1]*L,g[2]=n[2]*$,g[3]=n[3]*L,g[4]=n[4]*$,g[5]=n[5]*L,g}function invert$1(g,n){var r=n[0],$=n[2],L=n[4],V=n[1],oe=n[3],ae=n[5],re=r*oe-V*$;return re?(re=1/re,g[0]=oe*re,g[1]=-V*re,g[2]=-$*re,g[3]=r*re,g[4]=($*ae-oe*L)*re,g[5]=(V*L-r*ae)*re,g):null}function clone$7(g){var n=create$4();return copy$3(n,g),n}var Point$2=function(){function g(n,r){this.x=n||0,this.y=r||0}return g.prototype.copy=function(n){return this.x=n.x,this.y=n.y,this},g.prototype.clone=function(){return new g(this.x,this.y)},g.prototype.set=function(n,r){return this.x=n,this.y=r,this},g.prototype.equal=function(n){return n.x===this.x&&n.y===this.y},g.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this},g.prototype.scale=function(n){this.x*=n,this.y*=n},g.prototype.scaleAndAdd=function(n,r){this.x+=n.x*r,this.y+=n.y*r},g.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this},g.prototype.dot=function(n){return this.x*n.x+this.y*n.y},g.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},g.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},g.prototype.normalize=function(){var n=this.len();return this.x/=n,this.y/=n,this},g.prototype.distance=function(n){var r=this.x-n.x,$=this.y-n.y;return Math.sqrt(r*r+$*$)},g.prototype.distanceSquare=function(n){var r=this.x-n.x,$=this.y-n.y;return r*r+$*$},g.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},g.prototype.transform=function(n){if(n){var r=this.x,$=this.y;return this.x=n[0]*r+n[2]*$+n[4],this.y=n[1]*r+n[3]*$+n[5],this}},g.prototype.toArray=function(n){return n[0]=this.x,n[1]=this.y,n},g.prototype.fromArray=function(n){this.x=n[0],this.y=n[1]},g.set=function(n,r,$){n.x=r,n.y=$},g.copy=function(n,r){n.x=r.x,n.y=r.y},g.len=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},g.lenSquare=function(n){return n.x*n.x+n.y*n.y},g.dot=function(n,r){return n.x*r.x+n.y*r.y},g.add=function(n,r,$){n.x=r.x+$.x,n.y=r.y+$.y},g.sub=function(n,r,$){n.x=r.x-$.x,n.y=r.y-$.y},g.scale=function(n,r,$){n.x=r.x*$,n.y=r.y*$},g.scaleAndAdd=function(n,r,$,L){n.x=r.x+$.x*L,n.y=r.y+$.y*L},g.lerp=function(n,r,$,L){var V=1-L;n.x=V*r.x+L*$.x,n.y=V*r.y+L*$.y},g}();const Point$3=Point$2;var mathMin$l=Math.min,mathMax$l=Math.max,lt$1=new Point$3,rb$1=new Point$3,lb$1=new Point$3,rt$1=new Point$3,minTv$3=new Point$3,maxTv$3=new Point$3,BoundingRect$2=function(){function g(n,r,$,L){$<0&&(n=n+$,$=-$),L<0&&(r=r+L,L=-L),this.x=n,this.y=r,this.width=$,this.height=L}return g.prototype.union=function(n){var r=mathMin$l(n.x,this.x),$=mathMin$l(n.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$l(n.x+n.width,this.x+this.width)-r:this.width=n.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$l(n.y+n.height,this.y+this.height)-$:this.height=n.height,this.x=r,this.y=$},g.prototype.applyTransform=function(n){g.applyTransform(this,this,n)},g.prototype.calculateTransform=function(n){var r=this,$=n.width/r.width,L=n.height/r.height,V=create$4();return translate$1(V,V,[-r.x,-r.y]),scale$4(V,V,[$,L]),translate$1(V,V,[n.x,n.y]),V},g.prototype.intersect=function(n,r){if(!n)return!1;n instanceof g||(n=g.create(n));var $=this,L=$.x,V=$.x+$.width,oe=$.y,ae=$.y+$.height,re=n.x,le=n.x+n.width,ue=n.y,de=n.y+n.height,he=!(V<re||le<L||ae<ue||de<oe);if(r){var pe=1/0,_e=0,$e=Math.abs(V-re),xe=Math.abs(le-L),Oe=Math.abs(ae-ue),Ce=Math.abs(de-oe),Ie=Math.min($e,xe),Ne=Math.min(Oe,Ce);V<re||le<L?Ie>_e&&(_e=Ie,$e<xe?Point$3.set(maxTv$3,-$e,0):Point$3.set(maxTv$3,xe,0)):Ie<pe&&(pe=Ie,$e<xe?Point$3.set(minTv$3,$e,0):Point$3.set(minTv$3,-xe,0)),ae<ue||de<oe?Ne>_e&&(_e=Ne,Oe<Ce?Point$3.set(maxTv$3,0,-Oe):Point$3.set(maxTv$3,0,Ce)):Ie<pe&&(pe=Ie,Oe<Ce?Point$3.set(minTv$3,0,Oe):Point$3.set(minTv$3,0,-Ce))}return r&&Point$3.copy(r,he?minTv$3:maxTv$3),he},g.prototype.contain=function(n,r){var $=this;return n>=$.x&&n<=$.x+$.width&&r>=$.y&&r<=$.y+$.height},g.prototype.clone=function(){return new g(this.x,this.y,this.width,this.height)},g.prototype.copy=function(n){g.copy(this,n)},g.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},g.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},g.prototype.isZero=function(){return this.width===0||this.height===0},g.create=function(n){return new g(n.x,n.y,n.width,n.height)},g.copy=function(n,r){n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height},g.applyTransform=function(n,r,$){if(!$){n!==r&&g.copy(n,r);return}if($[1]<1e-5&&$[1]>-1e-5&&$[2]<1e-5&&$[2]>-1e-5){var L=$[0],V=$[3],oe=$[4],ae=$[5];n.x=r.x*L+oe,n.y=r.y*V+ae,n.width=r.width*L,n.height=r.height*V,n.width<0&&(n.x+=n.width,n.width=-n.width),n.height<0&&(n.y+=n.height,n.height=-n.height);return}lt$1.x=lb$1.x=r.x,lt$1.y=rt$1.y=r.y,rb$1.x=rt$1.x=r.x+r.width,rb$1.y=lb$1.y=r.y+r.height,lt$1.transform($),rt$1.transform($),rb$1.transform($),lb$1.transform($),n.x=mathMin$l(lt$1.x,rb$1.x,lb$1.x,rt$1.x),n.y=mathMin$l(lt$1.y,rb$1.y,lb$1.y,rt$1.y);var re=mathMax$l(lt$1.x,rb$1.x,lb$1.x,rt$1.x),le=mathMax$l(lt$1.y,rb$1.y,lb$1.y,rt$1.y);n.width=re-n.x,n.height=le-n.y},g}();const BoundingRect$3=BoundingRect$2;var SILENT$1="silent";function makeEventPacket$1(g,n,r){return{type:g,event:r,target:n.target,topTarget:n.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:stopEvent$1}}function stopEvent$1(){stop$1(this.event)}var EmptyProxy$1=function(g){__extends$1(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.handler=null,r}return n.prototype.dispose=function(){},n.prototype.setCursor=function(){},n}(Eventful$3),HoveredResult$1=function(){function g(n,r){this.x=n,this.y=r}return g}(),handlerNames$1=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$3=new BoundingRect$3(0,0,0,0),Handler$2=function(g){__extends$1(n,g);function n(r,$,L,V,oe){var ae=g.call(this)||this;return ae._hovered=new HoveredResult$1(0,0),ae.storage=r,ae.painter=$,ae.painterRoot=V,ae._pointerSize=oe,L=L||new EmptyProxy$1,ae.proxy=null,ae.setHandlerProxy(L),ae._draggingMgr=new Draggable$3(ae),ae}return n.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(each$v(handlerNames$1,function($){r.on&&r.on($,this[$],this)},this),r.handler=this),this.proxy=r},n.prototype.mousemove=function(r){var $=r.zrX,L=r.zrY,V=isOutsideBoundary$1(this,$,L),oe=this._hovered,ae=oe.target;ae&&!ae.__zr&&(oe=this.findHover(oe.x,oe.y),ae=oe.target);var re=this._hovered=V?new HoveredResult$1($,L):this.findHover($,L),le=re.target,ue=this.proxy;ue.setCursor&&ue.setCursor(le?le.cursor:"default"),ae&&le!==ae&&this.dispatchToElement(oe,"mouseout",r),this.dispatchToElement(re,"mousemove",r),le&&le!==ae&&this.dispatchToElement(re,"mouseover",r)},n.prototype.mouseout=function(r){var $=r.zrEventControl;$!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),$!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},n.prototype.resize=function(){this._hovered=new HoveredResult$1(0,0)},n.prototype.dispatch=function(r,$){var L=this[r];L&&L.call(this,$)},n.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},n.prototype.setCursorStyle=function(r){var $=this.proxy;$.setCursor&&$.setCursor(r)},n.prototype.dispatchToElement=function(r,$,L){r=r||{};var V=r.target;if(!(V&&V.silent)){for(var oe="on"+$,ae=makeEventPacket$1($,r,L);V&&(V[oe]&&(ae.cancelBubble=!!V[oe].call(V,ae)),V.trigger($,ae),V=V.__hostTarget?V.__hostTarget:V.parent,!ae.cancelBubble););ae.cancelBubble||(this.trigger($,ae),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(re){typeof re[oe]=="function"&&re[oe].call(re,ae),re.trigger&&re.trigger($,ae)}))}},n.prototype.findHover=function(r,$,L){var V=this.storage.getDisplayList(),oe=new HoveredResult$1(r,$);if(setHoverTarget$1(V,oe,r,$,L),this._pointerSize&&!oe.target){for(var ae=[],re=this._pointerSize,le=re/2,ue=new BoundingRect$3(r-le,$-le,re,re),de=V.length-1;de>=0;de--){var he=V[de];he!==L&&!he.ignore&&!he.ignoreCoarsePointer&&(!he.parent||!he.parent.ignoreCoarsePointer)&&(tmpRect$3.copy(he.getBoundingRect()),he.transform&&tmpRect$3.applyTransform(he.transform),tmpRect$3.intersect(ue)&&ae.push(he))}if(ae.length)for(var pe=4,_e=Math.PI/12,$e=Math.PI*2,xe=0;xe<le;xe+=pe)for(var Oe=0;Oe<$e;Oe+=_e){var Ce=r+xe*Math.cos(Oe),Ie=$+xe*Math.sin(Oe);if(setHoverTarget$1(ae,oe,Ce,Ie,L),oe.target)return oe}}return oe},n.prototype.processGesture=function(r,$){this._gestureMgr||(this._gestureMgr=new GestureMgr$1);var L=this._gestureMgr;$==="start"&&L.clear();var V=L.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if($==="end"&&L.clear(),V){var oe=V.type;r.gestureEvent=oe;var ae=new HoveredResult$1;ae.target=V.target,this.dispatchToElement(ae,oe,V.event)}},n}(Eventful$3);each$v(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(g){Handler$2.prototype[g]=function(n){var r=n.zrX,$=n.zrY,L=isOutsideBoundary$1(this,r,$),V,oe;if((g!=="mouseup"||!L)&&(V=this.findHover(r,$),oe=V.target),g==="mousedown")this._downEl=oe,this._downPoint=[n.zrX,n.zrY],this._upEl=oe;else if(g==="mouseup")this._upEl=oe;else if(g==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$3(this._downPoint,[n.zrX,n.zrY])>4)return;this._downPoint=null}this.dispatchToElement(V,g,n)}});function isHover$1(g,n,r){if(g[g.rectHover?"rectContain":"contain"](n,r)){for(var $=g,L=void 0,V=!1;$;){if($.ignoreClip&&(V=!0),!V){var oe=$.getClipPath();if(oe&&!oe.contain(n,r))return!1;$.silent&&(L=!0)}var ae=$.__hostTarget;$=ae||$.parent}return L?SILENT$1:!0}return!1}function setHoverTarget$1(g,n,r,$,L){for(var V=g.length-1;V>=0;V--){var oe=g[V],ae=void 0;if(oe!==L&&!oe.ignore&&(ae=isHover$1(oe,r,$))&&(!n.topTarget&&(n.topTarget=oe),ae!==SILENT$1)){n.target=oe;break}}}function isOutsideBoundary$1(g,n,r){var $=g.painter;return n<0||n>$.getWidth()||r<0||r>$.getHeight()}const Handler$3=Handler$2;var DEFAULT_MIN_MERGE$1=32,DEFAULT_MIN_GALLOPING$1=7;function minRunLength$1(g){for(var n=0;g>=DEFAULT_MIN_MERGE$1;)n|=g&1,g>>=1;return g+n}function makeAscendingRun$1(g,n,r,$){var L=n+1;if(L===r)return 1;if($(g[L++],g[n])<0){for(;L<r&&$(g[L],g[L-1])<0;)L++;reverseRun$1(g,n,L)}else for(;L<r&&$(g[L],g[L-1])>=0;)L++;return L-n}function reverseRun$1(g,n,r){for(r--;n<r;){var $=g[n];g[n++]=g[r],g[r--]=$}}function binaryInsertionSort$1(g,n,r,$,L){for($===n&&$++;$<r;$++){for(var V=g[$],oe=n,ae=$,re;oe<ae;)re=oe+ae>>>1,L(V,g[re])<0?ae=re:oe=re+1;var le=$-oe;switch(le){case 3:g[oe+3]=g[oe+2];case 2:g[oe+2]=g[oe+1];case 1:g[oe+1]=g[oe];break;default:for(;le>0;)g[oe+le]=g[oe+le-1],le--}g[oe]=V}}function gallopLeft$1(g,n,r,$,L,V){var oe=0,ae=0,re=1;if(V(g,n[r+L])>0){for(ae=$-L;re<ae&&V(g,n[r+L+re])>0;)oe=re,re=(re<<1)+1,re<=0&&(re=ae);re>ae&&(re=ae),oe+=L,re+=L}else{for(ae=L+1;re<ae&&V(g,n[r+L-re])<=0;)oe=re,re=(re<<1)+1,re<=0&&(re=ae);re>ae&&(re=ae);var le=oe;oe=L-re,re=L-le}for(oe++;oe<re;){var ue=oe+(re-oe>>>1);V(g,n[r+ue])>0?oe=ue+1:re=ue}return re}function gallopRight$1(g,n,r,$,L,V){var oe=0,ae=0,re=1;if(V(g,n[r+L])<0){for(ae=L+1;re<ae&&V(g,n[r+L-re])<0;)oe=re,re=(re<<1)+1,re<=0&&(re=ae);re>ae&&(re=ae);var le=oe;oe=L-re,re=L-le}else{for(ae=$-L;re<ae&&V(g,n[r+L+re])>=0;)oe=re,re=(re<<1)+1,re<=0&&(re=ae);re>ae&&(re=ae),oe+=L,re+=L}for(oe++;oe<re;){var ue=oe+(re-oe>>>1);V(g,n[r+ue])<0?re=ue:oe=ue+1}return re}function TimSort$1(g,n){var r=DEFAULT_MIN_GALLOPING$1,$,L,V=0;g.length;var oe=[];$=[],L=[];function ae(pe,_e){$[V]=pe,L[V]=_e,V+=1}function re(){for(;V>1;){var pe=V-2;if(pe>=1&&L[pe-1]<=L[pe]+L[pe+1]||pe>=2&&L[pe-2]<=L[pe]+L[pe-1])L[pe-1]<L[pe+1]&&pe--;else if(L[pe]>L[pe+1])break;ue(pe)}}function le(){for(;V>1;){var pe=V-2;pe>0&&L[pe-1]<L[pe+1]&&pe--,ue(pe)}}function ue(pe){var _e=$[pe],$e=L[pe],xe=$[pe+1],Oe=L[pe+1];L[pe]=$e+Oe,pe===V-3&&($[pe+1]=$[pe+2],L[pe+1]=L[pe+2]),V--;var Ce=gallopRight$1(g[xe],g,_e,$e,0,n);_e+=Ce,$e-=Ce,$e!==0&&(Oe=gallopLeft$1(g[_e+$e-1],g,xe,Oe,Oe-1,n),Oe!==0&&($e<=Oe?de(_e,$e,xe,Oe):he(_e,$e,xe,Oe)))}function de(pe,_e,$e,xe){var Oe=0;for(Oe=0;Oe<_e;Oe++)oe[Oe]=g[pe+Oe];var Ce=0,Ie=$e,Ne=pe;if(g[Ne++]=g[Ie++],--xe===0){for(Oe=0;Oe<_e;Oe++)g[Ne+Oe]=oe[Ce+Oe];return}if(_e===1){for(Oe=0;Oe<xe;Oe++)g[Ne+Oe]=g[Ie+Oe];g[Ne+xe]=oe[Ce];return}for(var ze=r,Fe,Ue,At;;){Fe=0,Ue=0,At=!1;do if(n(g[Ie],oe[Ce])<0){if(g[Ne++]=g[Ie++],Ue++,Fe=0,--xe===0){At=!0;break}}else if(g[Ne++]=oe[Ce++],Fe++,Ue=0,--_e===1){At=!0;break}while((Fe|Ue)<ze);if(At)break;do{if(Fe=gallopRight$1(g[Ie],oe,Ce,_e,0,n),Fe!==0){for(Oe=0;Oe<Fe;Oe++)g[Ne+Oe]=oe[Ce+Oe];if(Ne+=Fe,Ce+=Fe,_e-=Fe,_e<=1){At=!0;break}}if(g[Ne++]=g[Ie++],--xe===0){At=!0;break}if(Ue=gallopLeft$1(oe[Ce],g,Ie,xe,0,n),Ue!==0){for(Oe=0;Oe<Ue;Oe++)g[Ne+Oe]=g[Ie+Oe];if(Ne+=Ue,Ie+=Ue,xe-=Ue,xe===0){At=!0;break}}if(g[Ne++]=oe[Ce++],--_e===1){At=!0;break}ze--}while(Fe>=DEFAULT_MIN_GALLOPING$1||Ue>=DEFAULT_MIN_GALLOPING$1);if(At)break;ze<0&&(ze=0),ze+=2}if(r=ze,r<1&&(r=1),_e===1){for(Oe=0;Oe<xe;Oe++)g[Ne+Oe]=g[Ie+Oe];g[Ne+xe]=oe[Ce]}else{if(_e===0)throw new Error;for(Oe=0;Oe<_e;Oe++)g[Ne+Oe]=oe[Ce+Oe]}}function he(pe,_e,$e,xe){var Oe=0;for(Oe=0;Oe<xe;Oe++)oe[Oe]=g[$e+Oe];var Ce=pe+_e-1,Ie=xe-1,Ne=$e+xe-1,ze=0,Fe=0;if(g[Ne--]=g[Ce--],--_e===0){for(ze=Ne-(xe-1),Oe=0;Oe<xe;Oe++)g[ze+Oe]=oe[Oe];return}if(xe===1){for(Ne-=_e,Ce-=_e,Fe=Ne+1,ze=Ce+1,Oe=_e-1;Oe>=0;Oe--)g[Fe+Oe]=g[ze+Oe];g[Ne]=oe[Ie];return}for(var Ue=r;;){var At=0,Et=0,Pt=!1;do if(n(oe[Ie],g[Ce])<0){if(g[Ne--]=g[Ce--],At++,Et=0,--_e===0){Pt=!0;break}}else if(g[Ne--]=oe[Ie--],Et++,At=0,--xe===1){Pt=!0;break}while((At|Et)<Ue);if(Pt)break;do{if(At=_e-gallopRight$1(oe[Ie],g,pe,_e,_e-1,n),At!==0){for(Ne-=At,Ce-=At,_e-=At,Fe=Ne+1,ze=Ce+1,Oe=At-1;Oe>=0;Oe--)g[Fe+Oe]=g[ze+Oe];if(_e===0){Pt=!0;break}}if(g[Ne--]=oe[Ie--],--xe===1){Pt=!0;break}if(Et=xe-gallopLeft$1(g[Ce],oe,0,xe,xe-1,n),Et!==0){for(Ne-=Et,Ie-=Et,xe-=Et,Fe=Ne+1,ze=Ie+1,Oe=0;Oe<Et;Oe++)g[Fe+Oe]=oe[ze+Oe];if(xe<=1){Pt=!0;break}}if(g[Ne--]=g[Ce--],--_e===0){Pt=!0;break}Ue--}while(At>=DEFAULT_MIN_GALLOPING$1||Et>=DEFAULT_MIN_GALLOPING$1);if(Pt)break;Ue<0&&(Ue=0),Ue+=2}if(r=Ue,r<1&&(r=1),xe===1){for(Ne-=_e,Ce-=_e,Fe=Ne+1,ze=Ce+1,Oe=_e-1;Oe>=0;Oe--)g[Fe+Oe]=g[ze+Oe];g[Ne]=oe[Ie]}else{if(xe===0)throw new Error;for(ze=Ne-(xe-1),Oe=0;Oe<xe;Oe++)g[ze+Oe]=oe[Oe]}}return{mergeRuns:re,forceMergeRuns:le,pushRun:ae}}function sort$5(g,n,r,$){r||(r=0),$||($=g.length);var L=$-r;if(!(L<2)){var V=0;if(L<DEFAULT_MIN_MERGE$1){V=makeAscendingRun$1(g,r,$,n),binaryInsertionSort$1(g,r,$,r+V,n);return}var oe=TimSort$1(g,n),ae=minRunLength$1(L);do{if(V=makeAscendingRun$1(g,r,$,n),V<ae){var re=L;re>ae&&(re=ae),binaryInsertionSort$1(g,r,r+re,r+V,n),V=re}oe.pushRun(r,V),oe.mergeRuns(),L-=V,r+=V}while(L!==0);oe.forceMergeRuns()}}var REDRAW_BIT$1=1,STYLE_CHANGED_BIT$1=2,SHAPE_CHANGED_BIT$1=4,invalidZErrorLogged$1=!1;function logInvalidZError$1(){invalidZErrorLogged$1||(invalidZErrorLogged$1=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc$1(g,n){return g.zlevel===n.zlevel?g.z===n.z?g.z2-n.z2:g.z-n.z:g.zlevel-n.zlevel}var Storage$2=function(){function g(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc$1}return g.prototype.traverse=function(n,r){for(var $=0;$<this._roots.length;$++)this._roots[$].traverse(n,r)},g.prototype.getDisplayList=function(n,r){r=r||!1;var $=this._displayList;return(n||!$.length)&&this.updateDisplayList(r),$},g.prototype.updateDisplayList=function(n){this._displayListLen=0;for(var r=this._roots,$=this._displayList,L=0,V=r.length;L<V;L++)this._updateAndAddDisplayable(r[L],null,n);$.length=this._displayListLen,sort$5($,shapeCompareFunc$1)},g.prototype._updateAndAddDisplayable=function(n,r,$){if(!(n.ignore&&!$)){n.beforeUpdate(),n.update(),n.afterUpdate();var L=n.getClipPath();if(n.ignoreClip)r=null;else if(L){r?r=r.slice():r=[];for(var V=L,oe=n;V;)V.parent=oe,V.updateTransform(),r.push(V),oe=V,V=V.getClipPath()}if(n.childrenRef){for(var ae=n.childrenRef(),re=0;re<ae.length;re++){var le=ae[re];n.__dirty&&(le.__dirty|=REDRAW_BIT$1),this._updateAndAddDisplayable(le,r,$)}n.__dirty=0}else{var ue=n;r&&r.length?ue.__clipPaths=r:ue.__clipPaths&&ue.__clipPaths.length>0&&(ue.__clipPaths=[]),isNaN(ue.z)&&(logInvalidZError$1(),ue.z=0),isNaN(ue.z2)&&(logInvalidZError$1(),ue.z2=0),isNaN(ue.zlevel)&&(logInvalidZError$1(),ue.zlevel=0),this._displayList[this._displayListLen++]=ue}var de=n.getDecalElement&&n.getDecalElement();de&&this._updateAndAddDisplayable(de,r,$);var he=n.getTextGuideLine();he&&this._updateAndAddDisplayable(he,r,$);var pe=n.getTextContent();pe&&this._updateAndAddDisplayable(pe,r,$)}},g.prototype.addRoot=function(n){n.__zr&&n.__zr.storage===this||this._roots.push(n)},g.prototype.delRoot=function(n){if(n instanceof Array){for(var r=0,$=n.length;r<$;r++)this.delRoot(n[r]);return}var L=indexOf$1(this._roots,n);L>=0&&this._roots.splice(L,1)},g.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},g.prototype.getRoots=function(){return this._roots},g.prototype.dispose=function(){this._displayList=null,this._roots=null},g}();const Storage$3=Storage$2;var requestAnimationFrame$2;requestAnimationFrame$2=env$3.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(g){return setTimeout(g,16)};const requestAnimationFrame$3=requestAnimationFrame$2;var easingFuncs$2={linear:function(g){return g},quadraticIn:function(g){return g*g},quadraticOut:function(g){return g*(2-g)},quadraticInOut:function(g){return(g*=2)<1?.5*g*g:-.5*(--g*(g-2)-1)},cubicIn:function(g){return g*g*g},cubicOut:function(g){return--g*g*g+1},cubicInOut:function(g){return(g*=2)<1?.5*g*g*g:.5*((g-=2)*g*g+2)},quarticIn:function(g){return g*g*g*g},quarticOut:function(g){return 1- --g*g*g*g},quarticInOut:function(g){return(g*=2)<1?.5*g*g*g*g:-.5*((g-=2)*g*g*g-2)},quinticIn:function(g){return g*g*g*g*g},quinticOut:function(g){return--g*g*g*g*g+1},quinticInOut:function(g){return(g*=2)<1?.5*g*g*g*g*g:.5*((g-=2)*g*g*g*g+2)},sinusoidalIn:function(g){return 1-Math.cos(g*Math.PI/2)},sinusoidalOut:function(g){return Math.sin(g*Math.PI/2)},sinusoidalInOut:function(g){return .5*(1-Math.cos(Math.PI*g))},exponentialIn:function(g){return g===0?0:Math.pow(1024,g-1)},exponentialOut:function(g){return g===1?1:1-Math.pow(2,-10*g)},exponentialInOut:function(g){return g===0?0:g===1?1:(g*=2)<1?.5*Math.pow(1024,g-1):.5*(-Math.pow(2,-10*(g-1))+2)},circularIn:function(g){return 1-Math.sqrt(1-g*g)},circularOut:function(g){return Math.sqrt(1- --g*g)},circularInOut:function(g){return(g*=2)<1?-.5*(Math.sqrt(1-g*g)-1):.5*(Math.sqrt(1-(g-=2)*g)+1)},elasticIn:function(g){var n,r=.1,$=.4;return g===0?0:g===1?1:(!r||r<1?(r=1,n=$/4):n=$*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(g-=1))*Math.sin((g-n)*(2*Math.PI)/$)))},elasticOut:function(g){var n,r=.1,$=.4;return g===0?0:g===1?1:(!r||r<1?(r=1,n=$/4):n=$*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*g)*Math.sin((g-n)*(2*Math.PI)/$)+1)},elasticInOut:function(g){var n,r=.1,$=.4;return g===0?0:g===1?1:(!r||r<1?(r=1,n=$/4):n=$*Math.asin(1/r)/(2*Math.PI),(g*=2)<1?-.5*(r*Math.pow(2,10*(g-=1))*Math.sin((g-n)*(2*Math.PI)/$)):r*Math.pow(2,-10*(g-=1))*Math.sin((g-n)*(2*Math.PI)/$)*.5+1)},backIn:function(g){var n=1.70158;return g*g*((n+1)*g-n)},backOut:function(g){var n=1.70158;return--g*g*((n+1)*g+n)+1},backInOut:function(g){var n=2.5949095;return(g*=2)<1?.5*(g*g*((n+1)*g-n)):.5*((g-=2)*g*((n+1)*g+n)+2)},bounceIn:function(g){return 1-easingFuncs$2.bounceOut(1-g)},bounceOut:function(g){return g<1/2.75?7.5625*g*g:g<2/2.75?7.5625*(g-=1.5/2.75)*g+.75:g<2.5/2.75?7.5625*(g-=2.25/2.75)*g+.9375:7.5625*(g-=2.625/2.75)*g+.984375},bounceInOut:function(g){return g<.5?easingFuncs$2.bounceIn(g*2)*.5:easingFuncs$2.bounceOut(g*2-1)*.5+.5}};const easingFuncs$3=easingFuncs$2;var mathPow$5=Math.pow,mathSqrt$7=Math.sqrt,EPSILON$9=1e-8,EPSILON_NUMERIC$1=1e-4,THREE_SQRT$1=mathSqrt$7(3),ONE_THIRD$1=1/3,_v0$1=create$5(),_v1$1=create$5(),_v2$1=create$5();function isAroundZero$3(g){return g>-EPSILON$9&&g<EPSILON$9}function isNotAroundZero$3(g){return g>EPSILON$9||g<-EPSILON$9}function cubicAt$1(g,n,r,$,L){var V=1-L;return V*V*(V*g+3*L*n)+L*L*(L*$+3*V*r)}function cubicDerivativeAt$1(g,n,r,$,L){var V=1-L;return 3*(((n-g)*V+2*(r-n)*L)*V+($-r)*L*L)}function cubicRootAt$1(g,n,r,$,L,V){var oe=$+3*(n-r)-g,ae=3*(r-n*2+g),re=3*(n-g),le=g-L,ue=ae*ae-3*oe*re,de=ae*re-9*oe*le,he=re*re-3*ae*le,pe=0;if(isAroundZero$3(ue)&&isAroundZero$3(de))if(isAroundZero$3(ae))V[0]=0;else{var _e=-re/ae;_e>=0&&_e<=1&&(V[pe++]=_e)}else{var $e=de*de-4*ue*he;if(isAroundZero$3($e)){var xe=de/ue,_e=-ae/oe+xe,Oe=-xe/2;_e>=0&&_e<=1&&(V[pe++]=_e),Oe>=0&&Oe<=1&&(V[pe++]=Oe)}else if($e>0){var Ce=mathSqrt$7($e),Ie=ue*ae+1.5*oe*(-de+Ce),Ne=ue*ae+1.5*oe*(-de-Ce);Ie<0?Ie=-mathPow$5(-Ie,ONE_THIRD$1):Ie=mathPow$5(Ie,ONE_THIRD$1),Ne<0?Ne=-mathPow$5(-Ne,ONE_THIRD$1):Ne=mathPow$5(Ne,ONE_THIRD$1);var _e=(-ae-(Ie+Ne))/(3*oe);_e>=0&&_e<=1&&(V[pe++]=_e)}else{var ze=(2*ue*ae-3*oe*de)/(2*mathSqrt$7(ue*ue*ue)),Fe=Math.acos(ze)/3,Ue=mathSqrt$7(ue),At=Math.cos(Fe),_e=(-ae-2*Ue*At)/(3*oe),Oe=(-ae+Ue*(At+THREE_SQRT$1*Math.sin(Fe)))/(3*oe),Et=(-ae+Ue*(At-THREE_SQRT$1*Math.sin(Fe)))/(3*oe);_e>=0&&_e<=1&&(V[pe++]=_e),Oe>=0&&Oe<=1&&(V[pe++]=Oe),Et>=0&&Et<=1&&(V[pe++]=Et)}}return pe}function cubicExtrema$1(g,n,r,$,L){var V=6*r-12*n+6*g,oe=9*n+3*$-3*g-9*r,ae=3*n-3*g,re=0;if(isAroundZero$3(oe)){if(isNotAroundZero$3(V)){var le=-ae/V;le>=0&&le<=1&&(L[re++]=le)}}else{var ue=V*V-4*oe*ae;if(isAroundZero$3(ue))L[0]=-V/(2*oe);else if(ue>0){var de=mathSqrt$7(ue),le=(-V+de)/(2*oe),he=(-V-de)/(2*oe);le>=0&&le<=1&&(L[re++]=le),he>=0&&he<=1&&(L[re++]=he)}}return re}function cubicSubdivide$1(g,n,r,$,L,V){var oe=(n-g)*L+g,ae=(r-n)*L+n,re=($-r)*L+r,le=(ae-oe)*L+oe,ue=(re-ae)*L+ae,de=(ue-le)*L+le;V[0]=g,V[1]=oe,V[2]=le,V[3]=de,V[4]=de,V[5]=ue,V[6]=re,V[7]=$}function cubicProjectPoint$1(g,n,r,$,L,V,oe,ae,re,le,ue){var de,he=.005,pe=1/0,_e,$e,xe,Oe;_v0$1[0]=re,_v0$1[1]=le;for(var Ce=0;Ce<1;Ce+=.05)_v1$1[0]=cubicAt$1(g,r,L,oe,Ce),_v1$1[1]=cubicAt$1(n,$,V,ae,Ce),xe=distSquare$1(_v0$1,_v1$1),xe<pe&&(de=Ce,pe=xe);pe=1/0;for(var Ie=0;Ie<32&&!(he<EPSILON_NUMERIC$1);Ie++)_e=de-he,$e=de+he,_v1$1[0]=cubicAt$1(g,r,L,oe,_e),_v1$1[1]=cubicAt$1(n,$,V,ae,_e),xe=distSquare$1(_v1$1,_v0$1),_e>=0&&xe<pe?(de=_e,pe=xe):(_v2$1[0]=cubicAt$1(g,r,L,oe,$e),_v2$1[1]=cubicAt$1(n,$,V,ae,$e),Oe=distSquare$1(_v2$1,_v0$1),$e<=1&&Oe<pe?(de=$e,pe=Oe):he*=.5);return ue&&(ue[0]=cubicAt$1(g,r,L,oe,de),ue[1]=cubicAt$1(n,$,V,ae,de)),mathSqrt$7(pe)}function cubicLength$1(g,n,r,$,L,V,oe,ae,re){for(var le=g,ue=n,de=0,he=1/re,pe=1;pe<=re;pe++){var _e=pe*he,$e=cubicAt$1(g,r,L,oe,_e),xe=cubicAt$1(n,$,V,ae,_e),Oe=$e-le,Ce=xe-ue;de+=Math.sqrt(Oe*Oe+Ce*Ce),le=$e,ue=xe}return de}function quadraticAt$3(g,n,r,$){var L=1-$;return L*(L*g+2*$*n)+$*$*r}function quadraticDerivativeAt$1(g,n,r,$){return 2*((1-$)*(n-g)+$*(r-n))}function quadraticRootAt$1(g,n,r,$,L){var V=g-2*n+r,oe=2*(n-g),ae=g-$,re=0;if(isAroundZero$3(V)){if(isNotAroundZero$3(oe)){var le=-ae/oe;le>=0&&le<=1&&(L[re++]=le)}}else{var ue=oe*oe-4*V*ae;if(isAroundZero$3(ue)){var le=-oe/(2*V);le>=0&&le<=1&&(L[re++]=le)}else if(ue>0){var de=mathSqrt$7(ue),le=(-oe+de)/(2*V),he=(-oe-de)/(2*V);le>=0&&le<=1&&(L[re++]=le),he>=0&&he<=1&&(L[re++]=he)}}return re}function quadraticExtremum$1(g,n,r){var $=g+r-2*n;return $===0?.5:(g-n)/$}function quadraticSubdivide$1(g,n,r,$,L){var V=(n-g)*$+g,oe=(r-n)*$+n,ae=(oe-V)*$+V;L[0]=g,L[1]=V,L[2]=ae,L[3]=ae,L[4]=oe,L[5]=r}function quadraticProjectPoint$1(g,n,r,$,L,V,oe,ae,re){var le,ue=.005,de=1/0;_v0$1[0]=oe,_v0$1[1]=ae;for(var he=0;he<1;he+=.05){_v1$1[0]=quadraticAt$3(g,r,L,he),_v1$1[1]=quadraticAt$3(n,$,V,he);var pe=distSquare$1(_v0$1,_v1$1);pe<de&&(le=he,de=pe)}de=1/0;for(var _e=0;_e<32&&!(ue<EPSILON_NUMERIC$1);_e++){var $e=le-ue,xe=le+ue;_v1$1[0]=quadraticAt$3(g,r,L,$e),_v1$1[1]=quadraticAt$3(n,$,V,$e);var pe=distSquare$1(_v1$1,_v0$1);if($e>=0&&pe<de)le=$e,de=pe;else{_v2$1[0]=quadraticAt$3(g,r,L,xe),_v2$1[1]=quadraticAt$3(n,$,V,xe);var Oe=distSquare$1(_v2$1,_v0$1);xe<=1&&Oe<de?(le=xe,de=Oe):ue*=.5}}return re&&(re[0]=quadraticAt$3(g,r,L,le),re[1]=quadraticAt$3(n,$,V,le)),mathSqrt$7(de)}function quadraticLength$1(g,n,r,$,L,V,oe){for(var ae=g,re=n,le=0,ue=1/oe,de=1;de<=oe;de++){var he=de*ue,pe=quadraticAt$3(g,r,L,he),_e=quadraticAt$3(n,$,V,he),$e=pe-ae,xe=_e-re;le+=Math.sqrt($e*$e+xe*xe),ae=pe,re=_e}return le}var regexp$1=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc$1(g){var n=g&&regexp$1.exec(g);if(n){var r=n[1].split(","),$=+trim$5(r[0]),L=+trim$5(r[1]),V=+trim$5(r[2]),oe=+trim$5(r[3]);if(isNaN($+L+V+oe))return;var ae=[];return function(re){return re<=0?0:re>=1?1:cubicRootAt$1(0,$,V,1,re,ae)&&cubicAt$1(0,L,oe,1,ae[0])}}}var Clip$2=function(){function g(n){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=n.life||1e3,this._delay=n.delay||0,this.loop=n.loop||!1,this.onframe=n.onframe||noop$4,this.ondestroy=n.ondestroy||noop$4,this.onrestart=n.onrestart||noop$4,n.easing&&this.setEasing(n.easing)}return g.prototype.step=function(n,r){if(this._inited||(this._startTime=n+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var $=this._life,L=n-this._startTime-this._pausedTime,V=L/$;V<0&&(V=0),V=Math.min(V,1);var oe=this.easingFunc,ae=oe?oe(V):V;if(this.onframe(ae),V===1)if(this.loop){var re=L%$;this._startTime=n-re,this._pausedTime=0,this.onrestart()}else return!0;return!1},g.prototype.pause=function(){this._paused=!0},g.prototype.resume=function(){this._paused=!1},g.prototype.setEasing=function(n){this.easing=n,this.easingFunc=isFunction$3(n)?n:easingFuncs$3[n]||createCubicEasingFunc$1(n)},g}();const Clip$3=Clip$2;var Entry$1=function(){function g(n){this.value=n}return g}(),LinkedList$1=function(){function g(){this._len=0}return g.prototype.insert=function(n){var r=new Entry$1(n);return this.insertEntry(r),r},g.prototype.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n,this._len++},g.prototype.remove=function(n){var r=n.prev,$=n.next;r?r.next=$:this.head=$,$?$.prev=r:this.tail=r,n.next=n.prev=null,this._len--},g.prototype.len=function(){return this._len},g.prototype.clear=function(){this.head=this.tail=null,this._len=0},g}(),LRU$2=function(){function g(n){this._list=new LinkedList$1,this._maxSize=10,this._map={},this._maxSize=n}return g.prototype.put=function(n,r){var $=this._list,L=this._map,V=null;if(L[n]==null){var oe=$.len(),ae=this._lastRemovedEntry;if(oe>=this._maxSize&&oe>0){var re=$.head;$.remove(re),delete L[re.key],V=re.value,this._lastRemovedEntry=re}ae?ae.value=r:ae=new Entry$1(r),ae.key=n,$.insertEntry(ae),L[n]=ae}return V},g.prototype.get=function(n){var r=this._map[n],$=this._list;if(r!=null)return r!==$.tail&&($.remove(r),$.insertEntry(r)),r.value},g.prototype.clear=function(){this._list.clear(),this._map={}},g.prototype.len=function(){return this._list.len()},g}();const LRU$3=LRU$2;var kCSSColorTable$1={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte$1(g){return g=Math.round(g),g<0?0:g>255?255:g}function clampCssAngle$1(g){return g=Math.round(g),g<0?0:g>360?360:g}function clampCssFloat$1(g){return g<0?0:g>1?1:g}function parseCssInt$1(g){var n=g;return n.length&&n.charAt(n.length-1)==="%"?clampCssByte$1(parseFloat(n)/100*255):clampCssByte$1(parseInt(n,10))}function parseCssFloat$1(g){var n=g;return n.length&&n.charAt(n.length-1)==="%"?clampCssFloat$1(parseFloat(n)/100):clampCssFloat$1(parseFloat(n))}function cssHueToRgb$1(g,n,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?g+(n-g)*r*6:r*2<1?n:r*3<2?g+(n-g)*(.6666666666666666-r)*6:g}function lerpNumber$1(g,n,r){return g+(n-g)*r}function setRgba$1(g,n,r,$,L){return g[0]=n,g[1]=r,g[2]=$,g[3]=L,g}function copyRgba$1(g,n){return g[0]=n[0],g[1]=n[1],g[2]=n[2],g[3]=n[3],g}var colorCache$1=new LRU$3(20),lastRemovedArr$1=null;function putToCache$1(g,n){lastRemovedArr$1&&copyRgba$1(lastRemovedArr$1,n),lastRemovedArr$1=colorCache$1.put(g,lastRemovedArr$1||n.slice())}function parse$1(g,n){if(g){n=n||[];var r=colorCache$1.get(g);if(r)return copyRgba$1(n,r);g=g+"";var $=g.replace(/ /g,"").toLowerCase();if($ in kCSSColorTable$1)return copyRgba$1(n,kCSSColorTable$1[$]),putToCache$1(g,n),n;var L=$.length;if($.charAt(0)==="#"){if(L===4||L===5){var V=parseInt($.slice(1,4),16);if(!(V>=0&&V<=4095)){setRgba$1(n,0,0,0,1);return}return setRgba$1(n,(V&3840)>>4|(V&3840)>>8,V&240|(V&240)>>4,V&15|(V&15)<<4,L===5?parseInt($.slice(4),16)/15:1),putToCache$1(g,n),n}else if(L===7||L===9){var V=parseInt($.slice(1,7),16);if(!(V>=0&&V<=16777215)){setRgba$1(n,0,0,0,1);return}return setRgba$1(n,(V&16711680)>>16,(V&65280)>>8,V&255,L===9?parseInt($.slice(7),16)/255:1),putToCache$1(g,n),n}return}var oe=$.indexOf("("),ae=$.indexOf(")");if(oe!==-1&&ae+1===L){var re=$.substr(0,oe),le=$.substr(oe+1,ae-(oe+1)).split(","),ue=1;switch(re){case"rgba":if(le.length!==4)return le.length===3?setRgba$1(n,+le[0],+le[1],+le[2],1):setRgba$1(n,0,0,0,1);ue=parseCssFloat$1(le.pop());case"rgb":if(le.length>=3)return setRgba$1(n,parseCssInt$1(le[0]),parseCssInt$1(le[1]),parseCssInt$1(le[2]),le.length===3?ue:parseCssFloat$1(le[3])),putToCache$1(g,n),n;setRgba$1(n,0,0,0,1);return;case"hsla":if(le.length!==4){setRgba$1(n,0,0,0,1);return}return le[3]=parseCssFloat$1(le[3]),hsla2rgba$1(le,n),putToCache$1(g,n),n;case"hsl":if(le.length!==3){setRgba$1(n,0,0,0,1);return}return hsla2rgba$1(le,n),putToCache$1(g,n),n;default:return}}setRgba$1(n,0,0,0,1)}}function hsla2rgba$1(g,n){var r=(parseFloat(g[0])%360+360)%360/360,$=parseCssFloat$1(g[1]),L=parseCssFloat$1(g[2]),V=L<=.5?L*($+1):L+$-L*$,oe=L*2-V;return n=n||[],setRgba$1(n,clampCssByte$1(cssHueToRgb$1(oe,V,r+.3333333333333333)*255),clampCssByte$1(cssHueToRgb$1(oe,V,r)*255),clampCssByte$1(cssHueToRgb$1(oe,V,r-.3333333333333333)*255),1),g.length===4&&(n[3]=g[3]),n}function rgba2hsla$1(g){if(g){var n=g[0]/255,r=g[1]/255,$=g[2]/255,L=Math.min(n,r,$),V=Math.max(n,r,$),oe=V-L,ae=(V+L)/2,re,le;if(oe===0)re=0,le=0;else{ae<.5?le=oe/(V+L):le=oe/(2-V-L);var ue=((V-n)/6+oe/2)/oe,de=((V-r)/6+oe/2)/oe,he=((V-$)/6+oe/2)/oe;n===V?re=he-de:r===V?re=.3333333333333333+ue-he:$===V&&(re=.6666666666666666+de-ue),re<0&&(re+=1),re>1&&(re-=1)}var pe=[re*360,le,ae];return g[3]!=null&&pe.push(g[3]),pe}}function lift$1(g,n){var r=parse$1(g);if(r){for(var $=0;$<3;$++)n<0?r[$]=r[$]*(1-n)|0:r[$]=(255-r[$])*n+r[$]|0,r[$]>255?r[$]=255:r[$]<0&&(r[$]=0);return stringify$2(r,r.length===4?"rgba":"rgb")}}function fastLerp$1(g,n,r){if(!(!(n&&n.length)||!(g>=0&&g<=1))){r=r||[];var $=g*(n.length-1),L=Math.floor($),V=Math.ceil($),oe=n[L],ae=n[V],re=$-L;return r[0]=clampCssByte$1(lerpNumber$1(oe[0],ae[0],re)),r[1]=clampCssByte$1(lerpNumber$1(oe[1],ae[1],re)),r[2]=clampCssByte$1(lerpNumber$1(oe[2],ae[2],re)),r[3]=clampCssFloat$1(lerpNumber$1(oe[3],ae[3],re)),r}}function lerp$2(g,n,r){if(!(!(n&&n.length)||!(g>=0&&g<=1))){var $=g*(n.length-1),L=Math.floor($),V=Math.ceil($),oe=parse$1(n[L]),ae=parse$1(n[V]),re=$-L,le=stringify$2([clampCssByte$1(lerpNumber$1(oe[0],ae[0],re)),clampCssByte$1(lerpNumber$1(oe[1],ae[1],re)),clampCssByte$1(lerpNumber$1(oe[2],ae[2],re)),clampCssFloat$1(lerpNumber$1(oe[3],ae[3],re))],"rgba");return r?{color:le,leftIndex:L,rightIndex:V,value:$}:le}}function modifyHSL$1(g,n,r,$){var L=parse$1(g);if(g)return L=rgba2hsla$1(L),n!=null&&(L[0]=clampCssAngle$1(n)),r!=null&&(L[1]=parseCssFloat$1(r)),$!=null&&(L[2]=parseCssFloat$1($)),stringify$2(hsla2rgba$1(L),"rgba")}function modifyAlpha$1(g,n){var r=parse$1(g);if(r&&n!=null)return r[3]=clampCssFloat$1(n),stringify$2(r,"rgba")}function stringify$2(g,n){if(!(!g||!g.length)){var r=g[0]+","+g[1]+","+g[2];return(n==="rgba"||n==="hsva"||n==="hsla")&&(r+=","+g[3]),n+"("+r+")"}}function lum$1(g,n){var r=parse$1(g);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*n:0}var mathRound$3=Math.round;function normalizeColor$1(g){var n;if(!g||g==="transparent")g="none";else if(typeof g=="string"&&g.indexOf("rgba")>-1){var r=parse$1(g);r&&(g="rgb("+r[0]+","+r[1]+","+r[2]+")",n=r[3])}return{color:g,opacity:n!=null?n:1}}var EPSILON$8=1e-4;function isAroundZero$2(g){return g<EPSILON$8&&g>-EPSILON$8}function round3$1(g){return mathRound$3(g*1e3)/1e3}function round4$1(g){return mathRound$3(g*1e4)/1e4}function getMatrixStr$1(g){return"matrix("+round3$1(g[0])+","+round3$1(g[1])+","+round3$1(g[2])+","+round3$1(g[3])+","+round4$1(g[4])+","+round4$1(g[5])+")"}var TEXT_ALIGN_TO_ANCHOR$1={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$3(g,n,r){return r==="top"?g+=n/2:r==="bottom"&&(g-=n/2),g}function hasShadow$1(g){return g&&(g.shadowBlur||g.shadowOffsetX||g.shadowOffsetY)}function getShadowKey$1(g){var n=g.style,r=g.getGlobalScale();return[n.shadowColor,(n.shadowBlur||0).toFixed(2),(n.shadowOffsetX||0).toFixed(2),(n.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function isImagePattern$1(g){return g&&!!g.image}function isSVGPattern$1(g){return g&&!!g.svgElement}function isPattern$1(g){return isImagePattern$1(g)||isSVGPattern$1(g)}function isLinearGradient$1(g){return g.type==="linear"}function isRadialGradient$1(g){return g.type==="radial"}function isGradient$1(g){return g&&(g.type==="linear"||g.type==="radial")}function getIdURL$1(g){return"url(#"+g+")"}function getPathPrecision$1(g){var n=g.getGlobalScale(),r=Math.max(n[0],n[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function getSRTTransformString$1(g){var n=g.x||0,r=g.y||0,$=(g.rotation||0)*RADIAN_TO_DEGREE$1,L=retrieve2$1(g.scaleX,1),V=retrieve2$1(g.scaleY,1),oe=g.skewX||0,ae=g.skewY||0,re=[];return(n||r)&&re.push("translate("+n+"px,"+r+"px)"),$&&re.push("rotate("+$+")"),(L!==1||V!==1)&&re.push("scale("+L+","+V+")"),(oe||ae)&&re.push("skew("+mathRound$3(oe*RADIAN_TO_DEGREE$1)+"deg, "+mathRound$3(ae*RADIAN_TO_DEGREE$1)+"deg)"),re.join(" ")}var encodeBase64$1=function(){return env$3.hasGlobalWindow&&isFunction$3(window.btoa)?function(g){return window.btoa(unescape(encodeURIComponent(g)))}:typeof Buffer<"u"?function(g){return Buffer.from(g).toString("base64")}:function(g){return null}}(),arraySlice$1=Array.prototype.slice;function interpolateNumber$3(g,n,r){return(n-g)*r+g}function interpolate1DArray$1(g,n,r,$){for(var L=n.length,V=0;V<L;V++)g[V]=interpolateNumber$3(n[V],r[V],$);return g}function interpolate2DArray$1(g,n,r,$){for(var L=n.length,V=L&&n[0].length,oe=0;oe<L;oe++){g[oe]||(g[oe]=[]);for(var ae=0;ae<V;ae++)g[oe][ae]=interpolateNumber$3(n[oe][ae],r[oe][ae],$)}return g}function add1DArray$1(g,n,r,$){for(var L=n.length,V=0;V<L;V++)g[V]=n[V]+r[V]*$;return g}function add2DArray$1(g,n,r,$){for(var L=n.length,V=L&&n[0].length,oe=0;oe<L;oe++){g[oe]||(g[oe]=[]);for(var ae=0;ae<V;ae++)g[oe][ae]=n[oe][ae]+r[oe][ae]*$}return g}function fillColorStops$1(g,n){for(var r=g.length,$=n.length,L=r>$?n:g,V=Math.min(r,$),oe=L[V-1]||{color:[0,0,0,0],offset:0},ae=V;ae<Math.max(r,$);ae++)L.push({offset:oe.offset,color:oe.color.slice()})}function fillArray$1(g,n,r){var $=g,L=n;if(!(!$.push||!L.push)){var V=$.length,oe=L.length;if(V!==oe){var ae=V>oe;if(ae)$.length=oe;else for(var re=V;re<oe;re++)$.push(r===1?L[re]:arraySlice$1.call(L[re]))}for(var le=$[0]&&$[0].length,re=0;re<$.length;re++)if(r===1)isNaN($[re])&&($[re]=L[re]);else for(var ue=0;ue<le;ue++)isNaN($[re][ue])&&($[re][ue]=L[re][ue])}}function cloneValue$1(g){if(isArrayLike$1(g)){var n=g.length;if(isArrayLike$1(g[0])){for(var r=[],$=0;$<n;$++)r.push(arraySlice$1.call(g[$]));return r}return arraySlice$1.call(g)}return g}function rgba2String$1(g){return g[0]=Math.floor(g[0])||0,g[1]=Math.floor(g[1])||0,g[2]=Math.floor(g[2])||0,g[3]=g[3]==null?1:g[3],"rgba("+g.join(",")+")"}function guessArrayDim$1(g){return isArrayLike$1(g&&g[0])?2:1}var VALUE_TYPE_NUMBER$1=0,VALUE_TYPE_1D_ARRAY$1=1,VALUE_TYPE_2D_ARRAY$1=2,VALUE_TYPE_COLOR$1=3,VALUE_TYPE_LINEAR_GRADIENT$1=4,VALUE_TYPE_RADIAL_GRADIENT$1=5,VALUE_TYPE_UNKOWN$1=6;function isGradientValueType$1(g){return g===VALUE_TYPE_LINEAR_GRADIENT$1||g===VALUE_TYPE_RADIAL_GRADIENT$1}function isArrayValueType$1(g){return g===VALUE_TYPE_1D_ARRAY$1||g===VALUE_TYPE_2D_ARRAY$1}var tmpRgba$1=[0,0,0,0],Track$1=function(){function g(n){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=n}return g.prototype.isFinished=function(){return this._finished},g.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},g.prototype.needsAnimate=function(){return this.keyframes.length>=1},g.prototype.getAdditiveTrack=function(){return this._additiveTrack},g.prototype.addKeyframe=function(n,r,$){this._needsSort=!0;var L=this.keyframes,V=L.length,oe=!1,ae=VALUE_TYPE_UNKOWN$1,re=r;if(isArrayLike$1(r)){var le=guessArrayDim$1(r);ae=le,(le===1&&!isNumber$3(r[0])||le===2&&!isNumber$3(r[0][0]))&&(oe=!0)}else if(isNumber$3(r)&&!eqNaN$1(r))ae=VALUE_TYPE_NUMBER$1;else if(isString$3(r))if(!isNaN(+r))ae=VALUE_TYPE_NUMBER$1;else{var ue=parse$1(r);ue&&(re=ue,ae=VALUE_TYPE_COLOR$1)}else if(isGradientObject$1(r)){var de=extend$4({},re);de.colorStops=map$3(r.colorStops,function(pe){return{offset:pe.offset,color:parse$1(pe.color)}}),isLinearGradient$1(r)?ae=VALUE_TYPE_LINEAR_GRADIENT$1:isRadialGradient$1(r)&&(ae=VALUE_TYPE_RADIAL_GRADIENT$1),re=de}V===0?this.valType=ae:(ae!==this.valType||ae===VALUE_TYPE_UNKOWN$1)&&(oe=!0),this.discrete=this.discrete||oe;var he={time:n,value:re,rawValue:r,percent:0};return $&&(he.easing=$,he.easingFunc=isFunction$3($)?$:easingFuncs$3[$]||createCubicEasingFunc$1($)),L.push(he),he},g.prototype.prepare=function(n,r){var $=this.keyframes;this._needsSort&&$.sort(function($e,xe){return $e.time-xe.time});for(var L=this.valType,V=$.length,oe=$[V-1],ae=this.discrete,re=isArrayValueType$1(L),le=isGradientValueType$1(L),ue=0;ue<V;ue++){var de=$[ue],he=de.value,pe=oe.value;de.percent=de.time/n,ae||(re&&ue!==V-1?fillArray$1(he,pe,L):le&&fillColorStops$1(he.colorStops,pe.colorStops))}if(!ae&&L!==VALUE_TYPE_RADIAL_GRADIENT$1&&r&&this.needsAnimate()&&r.needsAnimate()&&L===r.valType&&!r._finished){this._additiveTrack=r;for(var _e=$[0].value,ue=0;ue<V;ue++)L===VALUE_TYPE_NUMBER$1?$[ue].additiveValue=$[ue].value-_e:L===VALUE_TYPE_COLOR$1?$[ue].additiveValue=add1DArray$1([],$[ue].value,_e,-1):isArrayValueType$1(L)&&($[ue].additiveValue=L===VALUE_TYPE_1D_ARRAY$1?add1DArray$1([],$[ue].value,_e,-1):add2DArray$1([],$[ue].value,_e,-1))}},g.prototype.step=function(n,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var $=this._additiveTrack!=null,L=$?"additiveValue":"value",V=this.valType,oe=this.keyframes,ae=oe.length,re=this.propName,le=V===VALUE_TYPE_COLOR$1,ue,de=this._lastFr,he=Math.min,pe,_e;if(ae===1)pe=_e=oe[0];else{if(r<0)ue=0;else if(r<this._lastFrP){var $e=he(de+1,ae-1);for(ue=$e;ue>=0&&!(oe[ue].percent<=r);ue--);ue=he(ue,ae-2)}else{for(ue=de;ue<ae&&!(oe[ue].percent>r);ue++);ue=he(ue-1,ae-2)}_e=oe[ue+1],pe=oe[ue]}if(pe&&_e){this._lastFr=ue,this._lastFrP=r;var xe=_e.percent-pe.percent,Oe=xe===0?1:he((r-pe.percent)/xe,1);_e.easingFunc&&(Oe=_e.easingFunc(Oe));var Ce=$?this._additiveValue:le?tmpRgba$1:n[re];if((isArrayValueType$1(V)||le)&&!Ce&&(Ce=this._additiveValue=[]),this.discrete)n[re]=Oe<1?pe.rawValue:_e.rawValue;else if(isArrayValueType$1(V))V===VALUE_TYPE_1D_ARRAY$1?interpolate1DArray$1(Ce,pe[L],_e[L],Oe):interpolate2DArray$1(Ce,pe[L],_e[L],Oe);else if(isGradientValueType$1(V)){var Ie=pe[L],Ne=_e[L],ze=V===VALUE_TYPE_LINEAR_GRADIENT$1;n[re]={type:ze?"linear":"radial",x:interpolateNumber$3(Ie.x,Ne.x,Oe),y:interpolateNumber$3(Ie.y,Ne.y,Oe),colorStops:map$3(Ie.colorStops,function(Ue,At){var Et=Ne.colorStops[At];return{offset:interpolateNumber$3(Ue.offset,Et.offset,Oe),color:rgba2String$1(interpolate1DArray$1([],Ue.color,Et.color,Oe))}}),global:Ne.global},ze?(n[re].x2=interpolateNumber$3(Ie.x2,Ne.x2,Oe),n[re].y2=interpolateNumber$3(Ie.y2,Ne.y2,Oe)):n[re].r=interpolateNumber$3(Ie.r,Ne.r,Oe)}else if(le)interpolate1DArray$1(Ce,pe[L],_e[L],Oe),$||(n[re]=rgba2String$1(Ce));else{var Fe=interpolateNumber$3(pe[L],_e[L],Oe);$?this._additiveValue=Fe:n[re]=Fe}$&&this._addToTarget(n)}}},g.prototype._addToTarget=function(n){var r=this.valType,$=this.propName,L=this._additiveValue;r===VALUE_TYPE_NUMBER$1?n[$]=n[$]+L:r===VALUE_TYPE_COLOR$1?(parse$1(n[$],tmpRgba$1),add1DArray$1(tmpRgba$1,tmpRgba$1,L,1),n[$]=rgba2String$1(tmpRgba$1)):r===VALUE_TYPE_1D_ARRAY$1?add1DArray$1(n[$],n[$],L,1):r===VALUE_TYPE_2D_ARRAY$1&&add2DArray$1(n[$],n[$],L,1)},g}(),Animator$2=function(){function g(n,r,$,L){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=n,this._loop=r,r&&L){logError$1("Can' use additive animation on looped animation.");return}this._additiveAnimators=L,this._allowDiscrete=$}return g.prototype.getMaxTime=function(){return this._maxTime},g.prototype.getDelay=function(){return this._delay},g.prototype.getLoop=function(){return this._loop},g.prototype.getTarget=function(){return this._target},g.prototype.changeTarget=function(n){this._target=n},g.prototype.when=function(n,r,$){return this.whenWithKeys(n,r,keys$2(r),$)},g.prototype.whenWithKeys=function(n,r,$,L){for(var V=this._tracks,oe=0;oe<$.length;oe++){var ae=$[oe],re=V[ae];if(!re){re=V[ae]=new Track$1(ae);var le=void 0,ue=this._getAdditiveTrack(ae);if(ue){var de=ue.keyframes,he=de[de.length-1];le=he&&he.value,ue.valType===VALUE_TYPE_COLOR$1&&le&&(le=rgba2String$1(le))}else le=this._target[ae];if(le==null)continue;n>0&&re.addKeyframe(0,cloneValue$1(le),L),this._trackKeys.push(ae)}re.addKeyframe(n,cloneValue$1(r[ae]),L)}return this._maxTime=Math.max(this._maxTime,n),this},g.prototype.pause=function(){this._clip.pause(),this._paused=!0},g.prototype.resume=function(){this._clip.resume(),this._paused=!1},g.prototype.isPaused=function(){return!!this._paused},g.prototype.duration=function(n){return this._maxTime=n,this._force=!0,this},g.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var n=this._doneCbs;if(n)for(var r=n.length,$=0;$<r;$++)n[$].call(this)},g.prototype._abortedCallback=function(){this._setTracksFinished();var n=this.animation,r=this._abortedCbs;if(n&&n.removeClip(this._clip),this._clip=null,r)for(var $=0;$<r.length;$++)r[$].call(this)},g.prototype._setTracksFinished=function(){for(var n=this._tracks,r=this._trackKeys,$=0;$<r.length;$++)n[r[$]].setFinished()},g.prototype._getAdditiveTrack=function(n){var r,$=this._additiveAnimators;if($)for(var L=0;L<$.length;L++){var V=$[L].getTrack(n);V&&(r=V)}return r},g.prototype.start=function(n){if(!(this._started>0)){this._started=1;for(var r=this,$=[],L=this._maxTime||0,V=0;V<this._trackKeys.length;V++){var oe=this._trackKeys[V],ae=this._tracks[oe],re=this._getAdditiveTrack(oe),le=ae.keyframes,ue=le.length;if(ae.prepare(L,re),ae.needsAnimate())if(!this._allowDiscrete&&ae.discrete){var de=le[ue-1];de&&(r._target[ae.propName]=de.rawValue),ae.setFinished()}else $.push(ae)}if($.length||this._force){var he=new Clip$3({life:L,loop:this._loop,delay:this._delay||0,onframe:function(pe){r._started=2;var _e=r._additiveAnimators;if(_e){for(var $e=!1,xe=0;xe<_e.length;xe++)if(_e[xe]._clip){$e=!0;break}$e||(r._additiveAnimators=null)}for(var xe=0;xe<$.length;xe++)$[xe].step(r._target,pe);var Oe=r._onframeCbs;if(Oe)for(var xe=0;xe<Oe.length;xe++)Oe[xe](r._target,pe)},ondestroy:function(){r._doneCallback()}});this._clip=he,this.animation&&this.animation.addClip(he),n&&he.setEasing(n)}else this._doneCallback();return this}},g.prototype.stop=function(n){if(this._clip){var r=this._clip;n&&r.onframe(1),this._abortedCallback()}},g.prototype.delay=function(n){return this._delay=n,this},g.prototype.during=function(n){return n&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(n)),this},g.prototype.done=function(n){return n&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(n)),this},g.prototype.aborted=function(n){return n&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(n)),this},g.prototype.getClip=function(){return this._clip},g.prototype.getTrack=function(n){return this._tracks[n]},g.prototype.getTracks=function(){var n=this;return map$3(this._trackKeys,function(r){return n._tracks[r]})},g.prototype.stopTracks=function(n,r){if(!n.length||!this._clip)return!0;for(var $=this._tracks,L=this._trackKeys,V=0;V<n.length;V++){var oe=$[n[V]];oe&&!oe.isFinished()&&(r?oe.step(this._target,1):this._started===1&&oe.step(this._target,0),oe.setFinished())}for(var ae=!0,V=0;V<L.length;V++)if(!$[L[V]].isFinished()){ae=!1;break}return ae&&this._abortedCallback(),ae},g.prototype.saveTo=function(n,r,$){if(n){r=r||this._trackKeys;for(var L=0;L<r.length;L++){var V=r[L],oe=this._tracks[V];if(!(!oe||oe.isFinished())){var ae=oe.keyframes,re=ae[$?0:ae.length-1];re&&(n[V]=cloneValue$1(re.rawValue))}}}},g.prototype.__changeFinalValue=function(n,r){r=r||keys$2(n);for(var $=0;$<r.length;$++){var L=r[$],V=this._tracks[L];if(V){var oe=V.keyframes;if(oe.length>1){var ae=oe.pop();V.addKeyframe(ae.time,n[L]),V.prepare(this._maxTime,V.getAdditiveTrack())}}}},g}();const Animator$3=Animator$2;function getTime$1(){return new Date().getTime()}var Animation$2=function(g){__extends$1(n,g);function n(r){var $=g.call(this)||this;return $._running=!1,$._time=0,$._pausedTime=0,$._pauseStart=0,$._paused=!1,r=r||{},$.stage=r.stage||{},$}return n.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},n.prototype.addAnimator=function(r){r.animation=this;var $=r.getClip();$&&this.addClip($)},n.prototype.removeClip=function(r){if(r.animation){var $=r.prev,L=r.next;$?$.next=L:this._head=L,L?L.prev=$:this._tail=$,r.next=r.prev=r.animation=null}},n.prototype.removeAnimator=function(r){var $=r.getClip();$&&this.removeClip($),r.animation=null},n.prototype.update=function(r){for(var $=getTime$1()-this._pausedTime,L=$-this._time,V=this._head;V;){var oe=V.next,ae=V.step($,L);ae&&(V.ondestroy(),this.removeClip(V)),V=oe}this._time=$,r||(this.trigger("frame",L),this.stage.update&&this.stage.update())},n.prototype._startLoop=function(){var r=this;this._running=!0;function $(){r._running&&(requestAnimationFrame$3($),!r._paused&&r.update())}requestAnimationFrame$3($)},n.prototype.start=function(){this._running||(this._time=getTime$1(),this._pausedTime=0,this._startLoop())},n.prototype.stop=function(){this._running=!1},n.prototype.pause=function(){this._paused||(this._pauseStart=getTime$1(),this._paused=!0)},n.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime$1()-this._pauseStart,this._paused=!1)},n.prototype.clear=function(){for(var r=this._head;r;){var $=r.next;r.prev=r.next=r.animation=null,r=$}this._head=this._tail=null},n.prototype.isFinished=function(){return this._head==null},n.prototype.animate=function(r,$){$=$||{},this.start();var L=new Animator$3(r,$.loop);return this.addAnimator(L),L},n}(Eventful$3);const Animation$3=Animation$2;var TOUCH_CLICK_DELAY$1=300,globalEventSupported$1=env$3.domSupported,localNativeListenerNames$1=function(){var g=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],n=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},$=map$3(g,function(L){var V=L.replace("mouse","pointer");return r.hasOwnProperty(V)?V:L});return{mouse:g,touch:n,pointer:$}}(),globalNativeListenerNames$1={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported$1=!1;function isPointerFromTouch$1(g){var n=g.pointerType;return n==="pen"||n==="touch"}function setTouchTimer$1(g){g.touching=!0,g.touchTimer!=null&&(clearTimeout(g.touchTimer),g.touchTimer=null),g.touchTimer=setTimeout(function(){g.touching=!1,g.touchTimer=null},700)}function markTouch$1(g){g&&(g.zrByTouch=!0)}function normalizeGlobalEvent$1(g,n){return normalizeEvent$1(g.dom,new FakeGlobalEvent$1(g,n),!0)}function isLocalEl$1(g,n){for(var r=n,$=!1;r&&r.nodeType!==9&&!($=r.domBelongToZr||r!==n&&r===g.painterRoot);)r=r.parentNode;return $}var FakeGlobalEvent$1=function(){function g(n,r){this.stopPropagation=noop$4,this.stopImmediatePropagation=noop$4,this.preventDefault=noop$4,this.type=r.type,this.target=this.currentTarget=n.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return g}(),localDOMHandlers$1={mousedown:function(g){g=normalizeEvent$1(this.dom,g),this.__mayPointerCapture=[g.zrX,g.zrY],this.trigger("mousedown",g)},mousemove:function(g){g=normalizeEvent$1(this.dom,g);var n=this.__mayPointerCapture;n&&(g.zrX!==n[0]||g.zrY!==n[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",g)},mouseup:function(g){g=normalizeEvent$1(this.dom,g),this.__togglePointerCapture(!1),this.trigger("mouseup",g)},mouseout:function(g){g=normalizeEvent$1(this.dom,g);var n=g.toElement||g.relatedTarget;isLocalEl$1(this,n)||(this.__pointerCapturing&&(g.zrEventControl="no_globalout"),this.trigger("mouseout",g))},wheel:function(g){wheelEventSupported$1=!0,g=normalizeEvent$1(this.dom,g),this.trigger("mousewheel",g)},mousewheel:function(g){wheelEventSupported$1||(g=normalizeEvent$1(this.dom,g),this.trigger("mousewheel",g))},touchstart:function(g){g=normalizeEvent$1(this.dom,g),markTouch$1(g),this.__lastTouchMoment=new Date,this.handler.processGesture(g,"start"),localDOMHandlers$1.mousemove.call(this,g),localDOMHandlers$1.mousedown.call(this,g)},touchmove:function(g){g=normalizeEvent$1(this.dom,g),markTouch$1(g),this.handler.processGesture(g,"change"),localDOMHandlers$1.mousemove.call(this,g)},touchend:function(g){g=normalizeEvent$1(this.dom,g),markTouch$1(g),this.handler.processGesture(g,"end"),localDOMHandlers$1.mouseup.call(this,g),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY$1&&localDOMHandlers$1.click.call(this,g)},pointerdown:function(g){localDOMHandlers$1.mousedown.call(this,g)},pointermove:function(g){isPointerFromTouch$1(g)||localDOMHandlers$1.mousemove.call(this,g)},pointerup:function(g){localDOMHandlers$1.mouseup.call(this,g)},pointerout:function(g){isPointerFromTouch$1(g)||localDOMHandlers$1.mouseout.call(this,g)}};each$v(["click","dblclick","contextmenu"],function(g){localDOMHandlers$1[g]=function(n){n=normalizeEvent$1(this.dom,n),this.trigger(g,n)}});var globalDOMHandlers$1={pointermove:function(g){isPointerFromTouch$1(g)||globalDOMHandlers$1.mousemove.call(this,g)},pointerup:function(g){globalDOMHandlers$1.mouseup.call(this,g)},mousemove:function(g){this.trigger("mousemove",g)},mouseup:function(g){var n=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",g),n&&(g.zrEventControl="only_globalout",this.trigger("mouseout",g))}};function mountLocalDOMEventListeners$1(g,n){var r=n.domHandlers;env$3.pointerEventsSupported?each$v(localNativeListenerNames$1.pointer,function($){mountSingleDOMEventListener$1(n,$,function(L){r[$].call(g,L)})}):(env$3.touchEventsSupported&&each$v(localNativeListenerNames$1.touch,function($){mountSingleDOMEventListener$1(n,$,function(L){r[$].call(g,L),setTouchTimer$1(n)})}),each$v(localNativeListenerNames$1.mouse,function($){mountSingleDOMEventListener$1(n,$,function(L){L=getNativeEvent$1(L),n.touching||r[$].call(g,L)})}))}function mountGlobalDOMEventListeners$1(g,n){env$3.pointerEventsSupported?each$v(globalNativeListenerNames$1.pointer,r):env$3.touchEventsSupported||each$v(globalNativeListenerNames$1.mouse,r);function r($){function L(V){V=getNativeEvent$1(V),isLocalEl$1(g,V.target)||(V=normalizeGlobalEvent$1(g,V),n.domHandlers[$].call(g,V))}mountSingleDOMEventListener$1(n,$,L,{capture:!0})}}function mountSingleDOMEventListener$1(g,n,r,$){g.mounted[n]=r,g.listenerOpts[n]=$,addEventListener$1(g.domTarget,n,r,$)}function unmountDOMEventListeners$1(g){var n=g.mounted;for(var r in n)n.hasOwnProperty(r)&&removeEventListener$1(g.domTarget,r,n[r],g.listenerOpts[r]);g.mounted={}}var DOMHandlerScope$1=function(){function g(n,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=r}return g}(),HandlerDomProxy$1=function(g){__extends$1(n,g);function n(r,$){var L=g.call(this)||this;return L.__pointerCapturing=!1,L.dom=r,L.painterRoot=$,L._localHandlerScope=new DOMHandlerScope$1(r,localDOMHandlers$1),globalEventSupported$1&&(L._globalHandlerScope=new DOMHandlerScope$1(document,globalDOMHandlers$1)),mountLocalDOMEventListeners$1(L,L._localHandlerScope),L}return n.prototype.dispose=function(){unmountDOMEventListeners$1(this._localHandlerScope),globalEventSupported$1&&unmountDOMEventListeners$1(this._globalHandlerScope)},n.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},n.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,globalEventSupported$1&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var $=this._globalHandlerScope;r?mountGlobalDOMEventListeners$1(this,$):unmountDOMEventListeners$1($)}},n}(Eventful$3);const HandlerProxy$1=HandlerDomProxy$1;var dpr$1=1;env$3.hasGlobalWindow&&(dpr$1=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio$1=dpr$1,DARK_MODE_THRESHOLD$1=.4,DARK_LABEL_COLOR$1="#333",LIGHT_LABEL_COLOR$1="#ccc",LIGHTER_LABEL_COLOR$1="#eee",mIdentity$1=identity$1,EPSILON$7=5e-5;function isNotAroundZero$2(g){return g>EPSILON$7||g<-EPSILON$7}var scaleTmp$1=[],tmpTransform$1=[],originTransform$1=create$4(),abs$1=Math.abs,Transformable$1=function(){function g(){}return g.prototype.getLocalTransform=function(n){return g.getLocalTransform(this,n)},g.prototype.setPosition=function(n){this.x=n[0],this.y=n[1]},g.prototype.setScale=function(n){this.scaleX=n[0],this.scaleY=n[1]},g.prototype.setSkew=function(n){this.skewX=n[0],this.skewY=n[1]},g.prototype.setOrigin=function(n){this.originX=n[0],this.originY=n[1]},g.prototype.needLocalTransform=function(){return isNotAroundZero$2(this.rotation)||isNotAroundZero$2(this.x)||isNotAroundZero$2(this.y)||isNotAroundZero$2(this.scaleX-1)||isNotAroundZero$2(this.scaleY-1)||isNotAroundZero$2(this.skewX)||isNotAroundZero$2(this.skewY)},g.prototype.updateTransform=function(){var n=this.parent&&this.parent.transform,r=this.needLocalTransform(),$=this.transform;if(!(r||n)){$&&mIdentity$1($);return}$=$||create$4(),r?this.getLocalTransform($):mIdentity$1($),n&&(r?mul$1($,n,$):copy$3($,n)),this.transform=$,this._resolveGlobalScaleRatio($)},g.prototype._resolveGlobalScaleRatio=function(n){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(scaleTmp$1);var $=scaleTmp$1[0]<0?-1:1,L=scaleTmp$1[1]<0?-1:1,V=((scaleTmp$1[0]-$)*r+$)/scaleTmp$1[0]||0,oe=((scaleTmp$1[1]-L)*r+L)/scaleTmp$1[1]||0;n[0]*=V,n[1]*=V,n[2]*=oe,n[3]*=oe}this.invTransform=this.invTransform||create$4(),invert$1(this.invTransform,n)},g.prototype.getComputedTransform=function(){for(var n=this,r=[];n;)r.push(n),n=n.parent;for(;n=r.pop();)n.updateTransform();return this.transform},g.prototype.setLocalTransform=function(n){if(n){var r=n[0]*n[0]+n[1]*n[1],$=n[2]*n[2]+n[3]*n[3],L=Math.atan2(n[1],n[0]),V=Math.PI/2+L-Math.atan2(n[3],n[2]);$=Math.sqrt($)*Math.cos(V),r=Math.sqrt(r),this.skewX=V,this.skewY=0,this.rotation=-L,this.x=+n[4],this.y=+n[5],this.scaleX=r,this.scaleY=$,this.originX=0,this.originY=0}},g.prototype.decomposeTransform=function(){if(this.transform){var n=this.parent,r=this.transform;n&&n.transform&&(mul$1(tmpTransform$1,n.invTransform,r),r=tmpTransform$1);var $=this.originX,L=this.originY;($||L)&&(originTransform$1[4]=$,originTransform$1[5]=L,mul$1(tmpTransform$1,r,originTransform$1),tmpTransform$1[4]-=$,tmpTransform$1[5]-=L,r=tmpTransform$1),this.setLocalTransform(r)}},g.prototype.getGlobalScale=function(n){var r=this.transform;return n=n||[],r?(n[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),n[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(n[0]=-n[0]),r[3]<0&&(n[1]=-n[1]),n):(n[0]=1,n[1]=1,n)},g.prototype.transformCoordToLocal=function(n,r){var $=[n,r],L=this.invTransform;return L&&applyTransform$3($,$,L),$},g.prototype.transformCoordToGlobal=function(n,r){var $=[n,r],L=this.transform;return L&&applyTransform$3($,$,L),$},g.prototype.getLineScale=function(){var n=this.transform;return n&&abs$1(n[0]-1)>1e-10&&abs$1(n[3]-1)>1e-10?Math.sqrt(abs$1(n[0]*n[3]-n[2]*n[1])):1},g.prototype.copyTransform=function(n){copyTransform$1(this,n)},g.getLocalTransform=function(n,r){r=r||[];var $=n.originX||0,L=n.originY||0,V=n.scaleX,oe=n.scaleY,ae=n.anchorX,re=n.anchorY,le=n.rotation||0,ue=n.x,de=n.y,he=n.skewX?Math.tan(n.skewX):0,pe=n.skewY?Math.tan(-n.skewY):0;if($||L||ae||re){var _e=$+ae,$e=L+re;r[4]=-_e*V-he*$e*oe,r[5]=-$e*oe-pe*_e*V}else r[4]=r[5]=0;return r[0]=V,r[3]=oe,r[1]=pe*V,r[2]=he*oe,le&&rotate$1(r,r,le),r[4]+=$+ue,r[5]+=L+de,r},g.initDefaultProps=function(){var n=g.prototype;n.scaleX=n.scaleY=n.globalScaleRatio=1,n.x=n.y=n.originX=n.originY=n.skewX=n.skewY=n.rotation=n.anchorX=n.anchorY=0}(),g}(),TRANSFORMABLE_PROPS$1=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform$1(g,n){for(var r=0;r<TRANSFORMABLE_PROPS$1.length;r++){var $=TRANSFORMABLE_PROPS$1[r];g[$]=n[$]}}var textWidthCache$1={};function getWidth$1(g,n){n=n||DEFAULT_FONT$1;var r=textWidthCache$1[n];r||(r=textWidthCache$1[n]=new LRU$3(500));var $=r.get(g);return $==null&&($=platformApi$1.measureText(g,n).width,r.put(g,$)),$}function innerGetBoundingRect$1(g,n,r,$){var L=getWidth$1(g,n),V=getLineHeight$1(n),oe=adjustTextX$1(0,L,r),ae=adjustTextY$2(0,V,$),re=new BoundingRect$3(oe,ae,L,V);return re}function getBoundingRect$1(g,n,r,$){var L=((g||"")+"").split(`
`),V=L.length;if(V===1)return innerGetBoundingRect$1(L[0],n,r,$);for(var oe=new BoundingRect$3(0,0,0,0),ae=0;ae<L.length;ae++){var re=innerGetBoundingRect$1(L[ae],n,r,$);ae===0?oe.copy(re):oe.union(re)}return oe}function adjustTextX$1(g,n,r){return r==="right"?g-=n:r==="center"&&(g-=n/2),g}function adjustTextY$2(g,n,r){return r==="middle"?g-=n/2:r==="bottom"&&(g-=n),g}function getLineHeight$1(g){return getWidth$1("\u56FD",g)}function parsePercent$3(g,n){return typeof g=="string"?g.lastIndexOf("%")>=0?parseFloat(g)/100*n:parseFloat(g):g}function calculateTextPosition$1(g,n,r){var $=n.position||"inside",L=n.distance!=null?n.distance:5,V=r.height,oe=r.width,ae=V/2,re=r.x,le=r.y,ue="left",de="top";if($ instanceof Array)re+=parsePercent$3($[0],r.width),le+=parsePercent$3($[1],r.height),ue=null,de=null;else switch($){case"left":re-=L,le+=ae,ue="right",de="middle";break;case"right":re+=L+oe,le+=ae,de="middle";break;case"top":re+=oe/2,le-=L,ue="center",de="bottom";break;case"bottom":re+=oe/2,le+=V+L,ue="center";break;case"inside":re+=oe/2,le+=ae,ue="center",de="middle";break;case"insideLeft":re+=L,le+=ae,de="middle";break;case"insideRight":re+=oe-L,le+=ae,ue="right",de="middle";break;case"insideTop":re+=oe/2,le+=L,ue="center";break;case"insideBottom":re+=oe/2,le+=V-L,ue="center",de="bottom";break;case"insideTopLeft":re+=L,le+=L;break;case"insideTopRight":re+=oe-L,le+=L,ue="right";break;case"insideBottomLeft":re+=L,le+=V-L,de="bottom";break;case"insideBottomRight":re+=oe-L,le+=V-L,ue="right",de="bottom";break}return g=g||{},g.x=re,g.y=le,g.align=ue,g.verticalAlign=de,g}var PRESERVED_NORMAL_STATE$1="__zr_normal__",PRIMARY_STATES_KEYS$3=TRANSFORMABLE_PROPS$1.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP$1=reduce$1(TRANSFORMABLE_PROPS$1,function(g,n){return g[n]=!0,g},{ignore:!1}),tmpTextPosCalcRes$1={},tmpBoundingRect$1=new BoundingRect$3(0,0,0,0),Element$2=function(){function g(n){this.id=guid$1(),this.animators=[],this.currentStates=[],this.states={},this._init(n)}return g.prototype._init=function(n){this.attr(n)},g.prototype.drift=function(n,r,$){switch(this.draggable){case"horizontal":r=0;break;case"vertical":n=0;break}var L=this.transform;L||(L=this.transform=[1,0,0,1,0,0]),L[4]+=n,L[5]+=r,this.decomposeTransform(),this.markRedraw()},g.prototype.beforeUpdate=function(){},g.prototype.afterUpdate=function(){},g.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},g.prototype.updateInnerText=function(n){var r=this._textContent;if(r&&(!r.ignore||n)){this.textConfig||(this.textConfig={});var $=this.textConfig,L=$.local,V=r.innerTransformable,oe=void 0,ae=void 0,re=!1;V.parent=L?this:null;var le=!1;if(V.copyTransform(r),$.position!=null){var ue=tmpBoundingRect$1;$.layoutRect?ue.copy($.layoutRect):ue.copy(this.getBoundingRect()),L||ue.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes$1,$,ue):calculateTextPosition$1(tmpTextPosCalcRes$1,$,ue),V.x=tmpTextPosCalcRes$1.x,V.y=tmpTextPosCalcRes$1.y,oe=tmpTextPosCalcRes$1.align,ae=tmpTextPosCalcRes$1.verticalAlign;var de=$.origin;if(de&&$.rotation!=null){var he=void 0,pe=void 0;de==="center"?(he=ue.width*.5,pe=ue.height*.5):(he=parsePercent$3(de[0],ue.width),pe=parsePercent$3(de[1],ue.height)),le=!0,V.originX=-V.x+he+(L?0:ue.x),V.originY=-V.y+pe+(L?0:ue.y)}}$.rotation!=null&&(V.rotation=$.rotation);var _e=$.offset;_e&&(V.x+=_e[0],V.y+=_e[1],le||(V.originX=-_e[0],V.originY=-_e[1]));var $e=$.inside==null?typeof $.position=="string"&&$.position.indexOf("inside")>=0:$.inside,xe=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),Oe=void 0,Ce=void 0,Ie=void 0;$e&&this.canBeInsideText()?(Oe=$.insideFill,Ce=$.insideStroke,(Oe==null||Oe==="auto")&&(Oe=this.getInsideTextFill()),(Ce==null||Ce==="auto")&&(Ce=this.getInsideTextStroke(Oe),Ie=!0)):(Oe=$.outsideFill,Ce=$.outsideStroke,(Oe==null||Oe==="auto")&&(Oe=this.getOutsideFill()),(Ce==null||Ce==="auto")&&(Ce=this.getOutsideStroke(Oe),Ie=!0)),Oe=Oe||"#000",(Oe!==xe.fill||Ce!==xe.stroke||Ie!==xe.autoStroke||oe!==xe.align||ae!==xe.verticalAlign)&&(re=!0,xe.fill=Oe,xe.stroke=Ce,xe.autoStroke=Ie,xe.align=oe,xe.verticalAlign=ae,r.setDefaultTextStyle(xe)),r.__dirty|=REDRAW_BIT$1,re&&r.dirtyStyle(!0)}},g.prototype.canBeInsideText=function(){return!0},g.prototype.getInsideTextFill=function(){return"#fff"},g.prototype.getInsideTextStroke=function(n){return"#000"},g.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR$1:DARK_LABEL_COLOR$1},g.prototype.getOutsideStroke=function(n){var r=this.__zr&&this.__zr.getBackgroundColor(),$=typeof r=="string"&&parse$1(r);$||($=[255,255,255,1]);for(var L=$[3],V=this.__zr.isDarkMode(),oe=0;oe<3;oe++)$[oe]=$[oe]*L+(V?0:255)*(1-L);return $[3]=1,stringify$2($,"rgba")},g.prototype.traverse=function(n,r){},g.prototype.attrKV=function(n,r){n==="textConfig"?this.setTextConfig(r):n==="textContent"?this.setTextContent(r):n==="clipPath"?this.setClipPath(r):n==="extra"?(this.extra=this.extra||{},extend$4(this.extra,r)):this[n]=r},g.prototype.hide=function(){this.ignore=!0,this.markRedraw()},g.prototype.show=function(){this.ignore=!1,this.markRedraw()},g.prototype.attr=function(n,r){if(typeof n=="string")this.attrKV(n,r);else if(isObject$9(n))for(var $=n,L=keys$2($),V=0;V<L.length;V++){var oe=L[V];this.attrKV(oe,n[oe])}return this.markRedraw(),this},g.prototype.saveCurrentToNormalState=function(n){this._innerSaveToNormal(n);for(var r=this._normalState,$=0;$<this.animators.length;$++){var L=this.animators[$],V=L.__fromStateTransition;if(!(L.getLoop()||V&&V!==PRESERVED_NORMAL_STATE$1)){var oe=L.targetName,ae=oe?r[oe]:r;L.saveTo(ae)}}},g.prototype._innerSaveToNormal=function(n){var r=this._normalState;r||(r=this._normalState={}),n.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(n,r,PRIMARY_STATES_KEYS$3)},g.prototype._savePrimaryToNormal=function(n,r,$){for(var L=0;L<$.length;L++){var V=$[L];n[V]!=null&&!(V in r)&&(r[V]=this[V])}},g.prototype.hasState=function(){return this.currentStates.length>0},g.prototype.getState=function(n){return this.states[n]},g.prototype.ensureState=function(n){var r=this.states;return r[n]||(r[n]={}),r[n]},g.prototype.clearStates=function(n){this.useState(PRESERVED_NORMAL_STATE$1,!1,n)},g.prototype.useState=function(n,r,$,L){var V=n===PRESERVED_NORMAL_STATE$1,oe=this.hasState();if(!(!oe&&V)){var ae=this.currentStates,re=this.stateTransition;if(!(indexOf$1(ae,n)>=0&&(r||ae.length===1))){var le;if(this.stateProxy&&!V&&(le=this.stateProxy(n)),le||(le=this.states&&this.states[n]),!le&&!V){logError$1("State "+n+" not exists.");return}V||this.saveCurrentToNormalState(le);var ue=!!(le&&le.hoverLayer||L);ue&&this._toggleHoverLayerFlag(!0),this._applyStateObj(n,le,this._normalState,r,!$&&!this.__inHover&&re&&re.duration>0,re);var de=this._textContent,he=this._textGuide;return de&&de.useState(n,r,$,ue),he&&he.useState(n,r,$,ue),V?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(n):this.currentStates=[n],this._updateAnimationTargets(),this.markRedraw(),!ue&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT$1),le}}},g.prototype.useStates=function(n,r,$){if(!n.length)this.clearStates();else{var L=[],V=this.currentStates,oe=n.length,ae=oe===V.length;if(ae){for(var re=0;re<oe;re++)if(n[re]!==V[re]){ae=!1;break}}if(ae)return;for(var re=0;re<oe;re++){var le=n[re],ue=void 0;this.stateProxy&&(ue=this.stateProxy(le,n)),ue||(ue=this.states[le]),ue&&L.push(ue)}var de=L[oe-1],he=!!(de&&de.hoverLayer||$);he&&this._toggleHoverLayerFlag(!0);var pe=this._mergeStates(L),_e=this.stateTransition;this.saveCurrentToNormalState(pe),this._applyStateObj(n.join(","),pe,this._normalState,!1,!r&&!this.__inHover&&_e&&_e.duration>0,_e);var $e=this._textContent,xe=this._textGuide;$e&&$e.useStates(n,r,he),xe&&xe.useStates(n,r,he),this._updateAnimationTargets(),this.currentStates=n.slice(),this.markRedraw(),!he&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT$1)}},g.prototype._updateAnimationTargets=function(){for(var n=0;n<this.animators.length;n++){var r=this.animators[n];r.targetName&&r.changeTarget(this[r.targetName])}},g.prototype.removeState=function(n){var r=indexOf$1(this.currentStates,n);if(r>=0){var $=this.currentStates.slice();$.splice(r,1),this.useStates($)}},g.prototype.replaceState=function(n,r,$){var L=this.currentStates.slice(),V=indexOf$1(L,n),oe=indexOf$1(L,r)>=0;V>=0?oe?L.splice(V,1):L[V]=r:$&&!oe&&L.push(r),this.useStates(L)},g.prototype.toggleState=function(n,r){r?this.useState(n,!0):this.removeState(n)},g.prototype._mergeStates=function(n){for(var r={},$,L=0;L<n.length;L++){var V=n[L];extend$4(r,V),V.textConfig&&($=$||{},extend$4($,V.textConfig))}return $&&(r.textConfig=$),r},g.prototype._applyStateObj=function(n,r,$,L,V,oe){var ae=!(r&&L);r&&r.textConfig?(this.textConfig=extend$4({},L?this.textConfig:$.textConfig),extend$4(this.textConfig,r.textConfig)):ae&&$.textConfig&&(this.textConfig=$.textConfig);for(var re={},le=!1,ue=0;ue<PRIMARY_STATES_KEYS$3.length;ue++){var de=PRIMARY_STATES_KEYS$3[ue],he=V&&DEFAULT_ANIMATABLE_MAP$1[de];r&&r[de]!=null?he?(le=!0,re[de]=r[de]):this[de]=r[de]:ae&&$[de]!=null&&(he?(le=!0,re[de]=$[de]):this[de]=$[de])}if(!V)for(var ue=0;ue<this.animators.length;ue++){var pe=this.animators[ue],_e=pe.targetName;pe.getLoop()||pe.__changeFinalValue(_e?(r||$)[_e]:r||$)}le&&this._transitionState(n,re,oe)},g.prototype._attachComponent=function(n){if(!(n.__zr&&!n.__hostTarget)&&n!==this){var r=this.__zr;r&&n.addSelfToZr(r),n.__zr=r,n.__hostTarget=this}},g.prototype._detachComponent=function(n){n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__hostTarget=null},g.prototype.getClipPath=function(){return this._clipPath},g.prototype.setClipPath=function(n){this._clipPath&&this._clipPath!==n&&this.removeClipPath(),this._attachComponent(n),this._clipPath=n,this.markRedraw()},g.prototype.removeClipPath=function(){var n=this._clipPath;n&&(this._detachComponent(n),this._clipPath=null,this.markRedraw())},g.prototype.getTextContent=function(){return this._textContent},g.prototype.setTextContent=function(n){var r=this._textContent;r!==n&&(r&&r!==n&&this.removeTextContent(),n.innerTransformable=new Transformable$1,this._attachComponent(n),this._textContent=n,this.markRedraw())},g.prototype.setTextConfig=function(n){this.textConfig||(this.textConfig={}),extend$4(this.textConfig,n),this.markRedraw()},g.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},g.prototype.removeTextContent=function(){var n=this._textContent;n&&(n.innerTransformable=null,this._detachComponent(n),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},g.prototype.getTextGuideLine=function(){return this._textGuide},g.prototype.setTextGuideLine=function(n){this._textGuide&&this._textGuide!==n&&this.removeTextGuideLine(),this._attachComponent(n),this._textGuide=n,this.markRedraw()},g.prototype.removeTextGuideLine=function(){var n=this._textGuide;n&&(this._detachComponent(n),this._textGuide=null,this.markRedraw())},g.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT$1;var n=this.__zr;n&&(this.__inHover?n.refreshHover():n.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},g.prototype.dirty=function(){this.markRedraw()},g.prototype._toggleHoverLayerFlag=function(n){this.__inHover=n;var r=this._textContent,$=this._textGuide;r&&(r.__inHover=n),$&&($.__inHover=n)},g.prototype.addSelfToZr=function(n){if(this.__zr!==n){this.__zr=n;var r=this.animators;if(r)for(var $=0;$<r.length;$++)n.animation.addAnimator(r[$]);this._clipPath&&this._clipPath.addSelfToZr(n),this._textContent&&this._textContent.addSelfToZr(n),this._textGuide&&this._textGuide.addSelfToZr(n)}},g.prototype.removeSelfFromZr=function(n){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var $=0;$<r.length;$++)n.animation.removeAnimator(r[$]);this._clipPath&&this._clipPath.removeSelfFromZr(n),this._textContent&&this._textContent.removeSelfFromZr(n),this._textGuide&&this._textGuide.removeSelfFromZr(n)}},g.prototype.animate=function(n,r,$){var L=n?this[n]:this,V=new Animator$3(L,r,$);return n&&(V.targetName=n),this.addAnimator(V,n),V},g.prototype.addAnimator=function(n,r){var $=this.__zr,L=this;n.during(function(){L.updateDuringAnimation(r)}).done(function(){var V=L.animators,oe=indexOf$1(V,n);oe>=0&&V.splice(oe,1)}),this.animators.push(n),$&&$.animation.addAnimator(n),$&&$.wakeUp()},g.prototype.updateDuringAnimation=function(n){this.markRedraw()},g.prototype.stopAnimation=function(n,r){for(var $=this.animators,L=$.length,V=[],oe=0;oe<L;oe++){var ae=$[oe];!n||n===ae.scope?ae.stop(r):V.push(ae)}return this.animators=V,this},g.prototype.animateTo=function(n,r,$){animateTo$1(this,n,r,$)},g.prototype.animateFrom=function(n,r,$){animateTo$1(this,n,r,$,!0)},g.prototype._transitionState=function(n,r,$,L){for(var V=animateTo$1(this,r,$,L),oe=0;oe<V.length;oe++)V[oe].__fromStateTransition=n},g.prototype.getBoundingRect=function(){return null},g.prototype.getPaintRect=function(){return null},g.initDefaultProps=function(){var n=g.prototype;n.type="element",n.name="",n.ignore=n.silent=n.isGroup=n.draggable=n.dragging=n.ignoreClip=n.__inHover=!1,n.__dirty=REDRAW_BIT$1;function r($,L,V,oe){Object.defineProperty(n,$,{get:function(){if(!this[L]){var re=this[L]=[];ae(this,re)}return this[L]},set:function(re){this[V]=re[0],this[oe]=re[1],this[L]=re,ae(this,re)}});function ae(re,le){Object.defineProperty(le,0,{get:function(){return re[V]},set:function(ue){re[V]=ue}}),Object.defineProperty(le,1,{get:function(){return re[oe]},set:function(ue){re[oe]=ue}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),g}();mixin$1(Element$2,Eventful$3),mixin$1(Element$2,Transformable$1);function animateTo$1(g,n,r,$,L){r=r||{};var V=[];animateToShallow$1(g,"",g,n,r,$,V,L);var oe=V.length,ae=!1,re=r.done,le=r.aborted,ue=function(){ae=!0,oe--,oe<=0&&(ae?re&&re():le&&le())},de=function(){oe--,oe<=0&&(ae?re&&re():le&&le())};oe||re&&re(),V.length>0&&r.during&&V[0].during(function(_e,$e){r.during($e)});for(var he=0;he<V.length;he++){var pe=V[he];ue&&pe.done(ue),de&&pe.aborted(de),r.force&&pe.duration(r.duration),pe.start(r.easing)}return V}function copyArrShallow$1(g,n,r){for(var $=0;$<r;$++)g[$]=n[$]}function is2DArray$1(g){return isArrayLike$1(g[0])}function copyValue$1(g,n,r){if(isArrayLike$1(n[r]))if(isArrayLike$1(g[r])||(g[r]=[]),isTypedArray$3(n[r])){var $=n[r].length;g[r].length!==$&&(g[r]=new n[r].constructor($),copyArrShallow$1(g[r],n[r],$))}else{var L=n[r],V=g[r],oe=L.length;if(is2DArray$1(L))for(var ae=L[0].length,re=0;re<oe;re++)V[re]?copyArrShallow$1(V[re],L[re],ae):V[re]=Array.prototype.slice.call(L[re]);else copyArrShallow$1(V,L,oe);V.length=L.length}else g[r]=n[r]}function isValueSame$1(g,n){return g===n||isArrayLike$1(g)&&isArrayLike$1(n)&&is1DArraySame$1(g,n)}function is1DArraySame$1(g,n){var r=g.length;if(r!==n.length)return!1;for(var $=0;$<r;$++)if(g[$]!==n[$])return!1;return!0}function animateToShallow$1(g,n,r,$,L,V,oe,ae){for(var re=keys$2($),le=L.duration,ue=L.delay,de=L.additive,he=L.setToFinal,pe=!isObject$9(V),_e=g.animators,$e=[],xe=0;xe<re.length;xe++){var Oe=re[xe],Ce=$[Oe];if(Ce!=null&&r[Oe]!=null&&(pe||V[Oe]))if(isObject$9(Ce)&&!isArrayLike$1(Ce)&&!isGradientObject$1(Ce)){if(n){ae||(r[Oe]=Ce,g.updateDuringAnimation(n));continue}animateToShallow$1(g,Oe,r[Oe],Ce,L,V&&V[Oe],oe,ae)}else $e.push(Oe);else ae||(r[Oe]=Ce,g.updateDuringAnimation(n),$e.push(Oe))}var Ie=$e.length;if(!de&&Ie)for(var Ne=0;Ne<_e.length;Ne++){var ze=_e[Ne];if(ze.targetName===n){var Fe=ze.stopTracks($e);if(Fe){var Ue=indexOf$1(_e,ze);_e.splice(Ue,1)}}}if(L.force||($e=filter$1($e,function(kt){return!isValueSame$1($[kt],r[kt])}),Ie=$e.length),Ie>0||L.force&&!oe.length){var At=void 0,Et=void 0,Pt=void 0;if(ae){Et={},he&&(At={});for(var Ne=0;Ne<Ie;Ne++){var Oe=$e[Ne];Et[Oe]=r[Oe],he?At[Oe]=$[Oe]:r[Oe]=$[Oe]}}else if(he){Pt={};for(var Ne=0;Ne<Ie;Ne++){var Oe=$e[Ne];Pt[Oe]=cloneValue$1(r[Oe]),copyValue$1(r,$,Oe)}}var ze=new Animator$3(r,!1,!1,de?filter$1(_e,function(Dt){return Dt.targetName===n}):null);ze.targetName=n,L.scope&&(ze.scope=L.scope),he&&At&&ze.whenWithKeys(0,At,$e),Pt&&ze.whenWithKeys(0,Pt,$e),ze.whenWithKeys(le!=null?le:500,ae?Et:$,$e).delay(ue||0),g.addAnimator(ze,n),oe.push(ze)}}const Element$3=Element$2;var Group$8=function(g){__extends$1(n,g);function n(r){var $=g.call(this)||this;return $.isGroup=!0,$._children=[],$.attr(r),$}return n.prototype.childrenRef=function(){return this._children},n.prototype.children=function(){return this._children.slice()},n.prototype.childAt=function(r){return this._children[r]},n.prototype.childOfName=function(r){for(var $=this._children,L=0;L<$.length;L++)if($[L].name===r)return $[L]},n.prototype.childCount=function(){return this._children.length},n.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},n.prototype.addBefore=function(r,$){if(r&&r!==this&&r.parent!==this&&$&&$.parent===this){var L=this._children,V=L.indexOf($);V>=0&&(L.splice(V,0,r),this._doAdd(r))}return this},n.prototype.replace=function(r,$){var L=indexOf$1(this._children,r);return L>=0&&this.replaceAt($,L),this},n.prototype.replaceAt=function(r,$){var L=this._children,V=L[$];if(r&&r!==this&&r.parent!==this&&r!==V){L[$]=r,V.parent=null;var oe=this.__zr;oe&&V.removeSelfFromZr(oe),this._doAdd(r)}return this},n.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var $=this.__zr;$&&$!==r.__zr&&r.addSelfToZr($),$&&$.refresh()},n.prototype.remove=function(r){var $=this.__zr,L=this._children,V=indexOf$1(L,r);return V<0?this:(L.splice(V,1),r.parent=null,$&&r.removeSelfFromZr($),$&&$.refresh(),this)},n.prototype.removeAll=function(){for(var r=this._children,$=this.__zr,L=0;L<r.length;L++){var V=r[L];$&&V.removeSelfFromZr($),V.parent=null}return r.length=0,this},n.prototype.eachChild=function(r,$){for(var L=this._children,V=0;V<L.length;V++){var oe=L[V];r.call($,oe,V)}return this},n.prototype.traverse=function(r,$){for(var L=0;L<this._children.length;L++){var V=this._children[L],oe=r.call($,V);V.isGroup&&!oe&&V.traverse(r,$)}return this},n.prototype.addSelfToZr=function(r){g.prototype.addSelfToZr.call(this,r);for(var $=0;$<this._children.length;$++){var L=this._children[$];L.addSelfToZr(r)}},n.prototype.removeSelfFromZr=function(r){g.prototype.removeSelfFromZr.call(this,r);for(var $=0;$<this._children.length;$++){var L=this._children[$];L.removeSelfFromZr(r)}},n.prototype.getBoundingRect=function(r){for(var $=new BoundingRect$3(0,0,0,0),L=r||this._children,V=[],oe=null,ae=0;ae<L.length;ae++){var re=L[ae];if(!(re.ignore||re.invisible)){var le=re.getBoundingRect(),ue=re.getLocalTransform(V);ue?(BoundingRect$3.applyTransform($,le,ue),oe=oe||$.clone(),oe.union($)):(oe=oe||le.clone(),oe.union(le))}}return oe||$},n}(Element$3);Group$8.prototype.type="group";const Group$9=Group$8;var painterCtors$1={},instances$3={};function delInstance$1(g){delete instances$3[g]}function isDarkMode$1(g){if(!g)return!1;if(typeof g=="string")return lum$1(g,1)<DARK_MODE_THRESHOLD$1;if(g.colorStops){for(var n=g.colorStops,r=0,$=n.length,L=0;L<$;L++)r+=lum$1(n[L].color,1);return r/=$,r<DARK_MODE_THRESHOLD$1}return!1}var ZRender$1=function(){function g(n,r,$){var L=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,$=$||{},this.dom=r,this.id=n;var V=new Storage$3,oe=$.renderer||"canvas";painterCtors$1[oe]||(oe=keys$2(painterCtors$1)[0]),$.useDirtyRect=$.useDirtyRect==null?!1:$.useDirtyRect;var ae=new painterCtors$1[oe](r,V,$,n),re=$.ssr||ae.ssrOnly;this.storage=V,this.painter=ae;var le=!env$3.node&&!env$3.worker&&!re?new HandlerProxy$1(ae.getViewportRoot(),ae.root):null,ue=$.useCoarsePointer,de=ue==null||ue==="auto"?env$3.touchEventsSupported:!!ue,he=44,pe;de&&(pe=retrieve2$1($.pointerSize,he)),this.handler=new Handler$3(V,ae,le,ae.root,pe),this.animation=new Animation$3({stage:{update:re?null:function(){return L._flush(!0)}}}),re||this.animation.start()}return g.prototype.add=function(n){!n||(this.storage.addRoot(n),n.addSelfToZr(this),this.refresh())},g.prototype.remove=function(n){!n||(this.storage.delRoot(n),n.removeSelfFromZr(this),this.refresh())},g.prototype.configLayer=function(n,r){this.painter.configLayer&&this.painter.configLayer(n,r),this.refresh()},g.prototype.setBackgroundColor=function(n){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(n),this.refresh(),this._backgroundColor=n,this._darkMode=isDarkMode$1(n)},g.prototype.getBackgroundColor=function(){return this._backgroundColor},g.prototype.setDarkMode=function(n){this._darkMode=n},g.prototype.isDarkMode=function(){return this._darkMode},g.prototype.refreshImmediately=function(n){n||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},g.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},g.prototype.flush=function(){this._flush(!1)},g.prototype._flush=function(n){var r,$=getTime$1();this._needsRefresh&&(r=!0,this.refreshImmediately(n)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var L=getTime$1();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:L-$})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},g.prototype.setSleepAfterStill=function(n){this._sleepAfterStill=n},g.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},g.prototype.refreshHover=function(){this._needsRefreshHover=!0},g.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},g.prototype.resize=function(n){n=n||{},this.painter.resize(n.width,n.height),this.handler.resize()},g.prototype.clearAnimation=function(){this.animation.clear()},g.prototype.getWidth=function(){return this.painter.getWidth()},g.prototype.getHeight=function(){return this.painter.getHeight()},g.prototype.setCursorStyle=function(n){this.handler.setCursorStyle(n)},g.prototype.findHover=function(n,r){return this.handler.findHover(n,r)},g.prototype.on=function(n,r,$){return this.handler.on(n,r,$),this},g.prototype.off=function(n,r){this.handler.off(n,r)},g.prototype.trigger=function(n,r){this.handler.trigger(n,r)},g.prototype.clear=function(){for(var n=this.storage.getRoots(),r=0;r<n.length;r++)n[r]instanceof Group$9&&n[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},g.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delInstance$1(this.id)},g}();function init$6(g,n){var r=new ZRender$1(guid$1(),g,n);return instances$3[r.id]=r,r}function registerPainter$1(g,n){painterCtors$1[g]=n}var RADIAN_EPSILON$1=1e-4,ROUND_SUPPORTED_PRECISION_MAX$1=20;function _trim$1(g){return g.replace(/^\s+|\s+$/g,"")}function linearMap$5(g,n,r,$){var L=n[0],V=n[1],oe=r[0],ae=r[1],re=V-L,le=ae-oe;if(re===0)return le===0?oe:(oe+ae)/2;if($)if(re>0){if(g<=L)return oe;if(g>=V)return ae}else{if(g>=L)return oe;if(g<=V)return ae}else{if(g===L)return oe;if(g===V)return ae}return(g-L)/re*le+oe}function parsePercent$2(g,n){switch(g){case"center":case"middle":g="50%";break;case"left":case"top":g="0%";break;case"right":case"bottom":g="100%";break}return isString$3(g)?_trim$1(g).match(/%$/)?parseFloat(g)/100*n:parseFloat(g):g==null?NaN:+g}function round$7(g,n,r){return n==null&&(n=10),n=Math.min(Math.max(0,n),ROUND_SUPPORTED_PRECISION_MAX$1),g=(+g).toFixed(n),r?g:+g}function asc$5(g){return g.sort(function(n,r){return n-r}),g}function getPrecision$1(g){if(g=+g,isNaN(g))return 0;if(g>1e-14){for(var n=1,r=0;r<15;r++,n*=10)if(Math.round(g*n)/n===g)return r}return getPrecisionSafe$1(g)}function getPrecisionSafe$1(g){var n=g.toString().toLowerCase(),r=n.indexOf("e"),$=r>0?+n.slice(r+1):0,L=r>0?r:n.length,V=n.indexOf("."),oe=V<0?0:L-1-V;return Math.max(0,oe-$)}function getPixelPrecision$1(g,n){var r=Math.log,$=Math.LN10,L=Math.floor(r(g[1]-g[0])/$),V=Math.round(r(Math.abs(n[1]-n[0]))/$),oe=Math.min(Math.max(-L+V,0),20);return isFinite(oe)?oe:20}function getPercentSeats$1(g,n){var r=reduce$1(g,function(pe,_e){return pe+(isNaN(_e)?0:_e)},0);if(r===0)return[];for(var $=Math.pow(10,n),L=map$3(g,function(pe){return(isNaN(pe)?0:pe)/r*$*100}),V=$*100,oe=map$3(L,function(pe){return Math.floor(pe)}),ae=reduce$1(oe,function(pe,_e){return pe+_e},0),re=map$3(L,function(pe,_e){return pe-oe[_e]});ae<V;){for(var le=Number.NEGATIVE_INFINITY,ue=null,de=0,he=re.length;de<he;++de)re[de]>le&&(le=re[de],ue=de);++oe[ue],re[ue]=0,++ae}return map$3(oe,function(pe){return pe/$})}function addSafe$1(g,n){var r=Math.max(getPrecision$1(g),getPrecision$1(n)),$=g+n;return r>ROUND_SUPPORTED_PRECISION_MAX$1?$:round$7($,r)}var MAX_SAFE_INTEGER$1=9007199254740991;function remRadian$1(g){var n=Math.PI*2;return(g%n+n)%n}function isRadianAroundZero$1(g){return g>-RADIAN_EPSILON$1&&g<RADIAN_EPSILON$1}var TIME_REG$1=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate$1(g){if(g instanceof Date)return g;if(isString$3(g)){var n=TIME_REG$1.exec(g);if(!n)return new Date(NaN);if(n[8]){var r=+n[4]||0;return n[8].toUpperCase()!=="Z"&&(r-=+n[8].slice(0,3)),new Date(Date.UTC(+n[1],+(n[2]||1)-1,+n[3]||1,r,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0))}else return new Date(+n[1],+(n[2]||1)-1,+n[3]||1,+n[4]||0,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0)}else if(g==null)return new Date(NaN);return new Date(Math.round(g))}function quantity$1(g){return Math.pow(10,quantityExponent$1(g))}function quantityExponent$1(g){if(g===0)return 0;var n=Math.floor(Math.log(g)/Math.LN10);return g/Math.pow(10,n)>=10&&n++,n}function nice$1(g,n){var r=quantityExponent$1(g),$=Math.pow(10,r),L=g/$,V;return n?L<1.5?V=1:L<2.5?V=2:L<4?V=3:L<7?V=5:V=10:L<1?V=1:L<2?V=2:L<3?V=3:L<5?V=5:V=10,g=V*$,r>=-20?+g.toFixed(r<0?-r:0):g}function quantile$1(g,n){var r=(g.length-1)*n+1,$=Math.floor(r),L=+g[$-1],V=r-$;return V?L+V*(g[$]-L):L}function reformIntervals$1(g){g.sort(function(re,le){return ae(re,le,0)?-1:1});for(var n=-1/0,r=1,$=0;$<g.length;){for(var L=g[$].interval,V=g[$].close,oe=0;oe<2;oe++)L[oe]<=n&&(L[oe]=n,V[oe]=oe?1:1-r),n=L[oe],r=V[oe];L[0]===L[1]&&V[0]*V[1]!==1?g.splice($,1):$++}return g;function ae(re,le,ue){return re.interval[ue]<le.interval[ue]||re.interval[ue]===le.interval[ue]&&(re.close[ue]-le.close[ue]===(ue?-1:1)||!ue&&ae(re,le,1))}}function numericToNumber$1(g){var n=parseFloat(g);return n==g&&(n!==0||!isString$3(g)||g.indexOf("x")<=0)?n:NaN}function isNumeric$1(g){return!isNaN(numericToNumber$1(g))}function getRandomIdBase$1(){return Math.round(Math.random()*9)}function getGreatestCommonDividor$1(g,n){return n===0?g:getGreatestCommonDividor$1(n,g%n)}function getLeastCommonMultiple$1(g,n){return g==null?n:n==null?g:g*n/getGreatestCommonDividor$1(g,n)}var ECHARTS_PREFIX$1="[ECharts] ",storedLogs$1={},hasConsole$1=typeof console<"u"&&console.warn&&console.log;function outputLog$1(g,n,r){if(hasConsole$1){if(r){if(storedLogs$1[n])return;storedLogs$1[n]=!0}console[g](ECHARTS_PREFIX$1+n)}}function warn$1(g,n){outputLog$1("warn",g,n)}function throwError$1(g){throw new Error(g)}function interpolateNumber$2(g,n,r){return(n-g)*r+g}var DUMMY_COMPONENT_NAME_PREFIX$1="series\0",INTERNAL_COMPONENT_ID_PREFIX$1="\0_ec_\0";function normalizeToArray$1(g){return g instanceof Array?g:g==null?[]:[g]}function defaultEmphasis$1(g,n,r){if(g){g[n]=g[n]||{},g.emphasis=g.emphasis||{},g.emphasis[n]=g.emphasis[n]||{};for(var $=0,L=r.length;$<L;$++){var V=r[$];!g.emphasis[n].hasOwnProperty(V)&&g[n].hasOwnProperty(V)&&(g.emphasis[n][V]=g[n][V])}}}var TEXT_STYLE_OPTIONS$1=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue$1(g){return isObject$9(g)&&!isArray$6(g)&&!(g instanceof Date)?g.value:g}function isDataItemOption$1(g){return isObject$9(g)&&!(g instanceof Array)}function mappingToExists$1(g,n,r){var $=r==="normalMerge",L=r==="replaceMerge",V=r==="replaceAll";g=g||[],n=(n||[]).slice();var oe=createHashMap$1();each$v(n,function(re,le){if(!isObject$9(re)){n[le]=null;return}});var ae=prepareResult$1(g,oe,r);return($||L)&&mappingById$1(ae,g,oe,n),$&&mappingByName$1(ae,n),$||L?mappingByIndex$1(ae,n,L):V&&mappingInReplaceAllMode$1(ae,n),makeIdAndName$1(ae),ae}function prepareResult$1(g,n,r){var $=[];if(r==="replaceAll")return $;for(var L=0;L<g.length;L++){var V=g[L];V&&V.id!=null&&n.set(V.id,L),$.push({existing:r==="replaceMerge"||isComponentIdInternal$1(V)?null:V,newOption:null,keyInfo:null,brandNew:null})}return $}function mappingById$1(g,n,r,$){each$v($,function(L,V){if(!(!L||L.id==null)){var oe=makeComparableKey$1(L.id),ae=r.get(oe);if(ae!=null){var re=g[ae];assert$1(!re.newOption,'Duplicated option on id "'+oe+'".'),re.newOption=L,re.existing=n[ae],$[V]=null}}})}function mappingByName$1(g,n){each$v(n,function(r,$){if(!(!r||r.name==null))for(var L=0;L<g.length;L++){var V=g[L].existing;if(!g[L].newOption&&V&&(V.id==null||r.id==null)&&!isComponentIdInternal$1(r)&&!isComponentIdInternal$1(V)&&keyExistAndEqual$1("name",V,r)){g[L].newOption=r,n[$]=null;return}}})}function mappingByIndex$1(g,n,r){each$v(n,function($){if($){for(var L,V=0;(L=g[V])&&(L.newOption||isComponentIdInternal$1(L.existing)||L.existing&&$.id!=null&&!keyExistAndEqual$1("id",$,L.existing));)V++;L?(L.newOption=$,L.brandNew=r):g.push({newOption:$,brandNew:r,existing:null,keyInfo:null}),V++}})}function mappingInReplaceAllMode$1(g,n){each$v(n,function(r){g.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName$1(g){var n=createHashMap$1();each$v(g,function(r){var $=r.existing;$&&n.set($.id,r)}),each$v(g,function(r){var $=r.newOption;assert$1(!$||$.id==null||!n.get($.id)||n.get($.id)===r,"id duplicates: "+($&&$.id)),$&&$.id!=null&&n.set($.id,r),!r.keyInfo&&(r.keyInfo={})}),each$v(g,function(r,$){var L=r.existing,V=r.newOption,oe=r.keyInfo;if(isObject$9(V)){if(oe.name=V.name!=null?makeComparableKey$1(V.name):L?L.name:DUMMY_COMPONENT_NAME_PREFIX$1+$,L)oe.id=makeComparableKey$1(L.id);else if(V.id!=null)oe.id=makeComparableKey$1(V.id);else{var ae=0;do oe.id="\0"+oe.name+"\0"+ae++;while(n.get(oe.id))}n.set(oe.id,r)}})}function keyExistAndEqual$1(g,n,r){var $=convertOptionIdName$1(n[g],null),L=convertOptionIdName$1(r[g],null);return $!=null&&L!=null&&$===L}function makeComparableKey$1(g){return convertOptionIdName$1(g,"")}function convertOptionIdName$1(g,n){return g==null?n:isString$3(g)?g:isNumber$3(g)||isStringSafe$1(g)?g+"":n}function isNameSpecified$1(g){var n=g.name;return!!(n&&n.indexOf(DUMMY_COMPONENT_NAME_PREFIX$1))}function isComponentIdInternal$1(g){return g&&g.id!=null&&makeComparableKey$1(g.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX$1)===0}function makeInternalComponentId$1(g){return INTERNAL_COMPONENT_ID_PREFIX$1+g}function setComponentTypeToKeyInfo$1(g,n,r){each$v(g,function($){var L=$.newOption;isObject$9(L)&&($.keyInfo.mainType=n,$.keyInfo.subType=determineSubType$1(n,L,$.existing,r))})}function determineSubType$1(g,n,r,$){var L=n.type?n.type:r?r.subType:$.determineSubType(g,n);return L}function compressBatches$1(g,n){var r={},$={};return L(g||[],r),L(n||[],$,r),[V(r),V($)];function L(oe,ae,re){for(var le=0,ue=oe.length;le<ue;le++){var de=convertOptionIdName$1(oe[le].seriesId,null);if(de==null)return;for(var he=normalizeToArray$1(oe[le].dataIndex),pe=re&&re[de],_e=0,$e=he.length;_e<$e;_e++){var xe=he[_e];pe&&pe[xe]?pe[xe]=null:(ae[de]||(ae[de]={}))[xe]=1}}}function V(oe,ae){var re=[];for(var le in oe)if(oe.hasOwnProperty(le)&&oe[le]!=null)if(ae)re.push(+le);else{var ue=V(oe[le],!0);ue.length&&re.push({seriesId:le,dataIndex:ue})}return re}}function queryDataIndex$1(g,n){if(n.dataIndexInside!=null)return n.dataIndexInside;if(n.dataIndex!=null)return isArray$6(n.dataIndex)?map$3(n.dataIndex,function(r){return g.indexOfRawIndex(r)}):g.indexOfRawIndex(n.dataIndex);if(n.name!=null)return isArray$6(n.name)?map$3(n.name,function(r){return g.indexOfName(r)}):g.indexOfName(n.name)}function makeInner$1(){var g="__ec_inner_"+innerUniqueIndex$1++;return function(n){return n[g]||(n[g]={})}}var innerUniqueIndex$1=getRandomIdBase$1();function parseFinder$3(g,n,r){var $=preParseFinder$1(n,r),L=$.mainTypeSpecified,V=$.queryOptionMap,oe=$.others,ae=oe,re=r?r.defaultMainType:null;return!L&&re&&V.set(re,{}),V.each(function(le,ue){var de=queryReferringComponents$1(g,ue,le,{useDefault:re===ue,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});ae[ue+"Models"]=de.models,ae[ue+"Model"]=de.models[0]}),ae}function preParseFinder$1(g,n){var r;if(isString$3(g)){var $={};$[g+"Index"]=0,r=$}else r=g;var L=createHashMap$1(),V={},oe=!1;return each$v(r,function(ae,re){if(re==="dataIndex"||re==="dataIndexInside"){V[re]=ae;return}var le=re.match(/^(\w+)(Index|Id|Name)$/)||[],ue=le[1],de=(le[2]||"").toLowerCase();if(!(!ue||!de||n&&n.includeMainTypes&&indexOf$1(n.includeMainTypes,ue)<0)){oe=oe||!!ue;var he=L.get(ue)||L.set(ue,{});he[de]=ae}}),{mainTypeSpecified:oe,queryOptionMap:L,others:V}}var SINGLE_REFERRING$1={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING$1={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents$1(g,n,r,$){$=$||SINGLE_REFERRING$1;var L=r.index,V=r.id,oe=r.name,ae={models:null,specified:L!=null||V!=null||oe!=null};if(!ae.specified){var re=void 0;return ae.models=$.useDefault&&(re=g.getComponent(n))?[re]:[],ae}return L==="none"||L===!1?(assert$1($.enableNone,'`"none"` or `false` is not a valid value on index option.'),ae.models=[],ae):(L==="all"&&(assert$1($.enableAll,'`"all"` is not a valid value on index option.'),L=V=oe=null),ae.models=g.queryComponents({mainType:n,index:L,id:V,name:oe}),ae)}function setAttribute$1(g,n,r){g.setAttribute?g.setAttribute(n,r):g[n]=r}function getAttribute$1(g,n){return g.getAttribute?g.getAttribute(n):g[n]}function getTooltipRenderMode$1(g){return g==="auto"?env$3.domSupported?"html":"richText":g||"html"}function groupData$1(g,n){var r=createHashMap$1(),$=[];return each$v(g,function(L){var V=n(L);(r.get(V)||($.push(V),r.set(V,[]))).push(L)}),{keys:$,buckets:r}}function interpolateRawValues$1(g,n,r,$,L){var V=n==null||n==="auto";if($==null)return $;if(isNumber$3($)){var oe=interpolateNumber$2(r||0,$,L);return round$7(oe,V?Math.max(getPrecision$1(r||0),getPrecision$1($)):n)}else{if(isString$3($))return L<1?r:$;for(var ae=[],re=r,le=$,ue=Math.max(re?re.length:0,le.length),de=0;de<ue;++de){var he=g.getDimensionInfo(de);if(he&&he.type==="ordinal")ae[de]=(L<1&&re?re:le)[de];else{var pe=re&&re[de]?re[de]:0,_e=le[de],oe=interpolateNumber$2(pe,_e,L);ae[de]=round$7(oe,V?Math.max(getPrecision$1(pe),getPrecision$1(_e)):n)}}return ae}}var TYPE_DELIMITER$1=".",IS_CONTAINER$1="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS$1="___EC__EXTENDED_CLASS___";function parseClassType$1(g){var n={main:"",sub:""};if(g){var r=g.split(TYPE_DELIMITER$1);n.main=r[0]||"",n.sub=r[1]||""}return n}function checkClassType$1(g){assert$1(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(g),'componentType "'+g+'" illegal')}function isExtendedClass$1(g){return!!(g&&g[IS_EXTENDED_CLASS$1])}function enableClassExtend$1(g,n){g.$constructor=g,g.extend=function(r){var $=this,L;return isESClass$1($)?L=function(V){__extends$2(oe,V);function oe(){return V.apply(this,arguments)||this}return oe}($):(L=function(){(r.$constructor||$).apply(this,arguments)},inherits$3(L,this)),extend$4(L.prototype,r),L[IS_EXTENDED_CLASS$1]=!0,L.extend=this.extend,L.superCall=superCall$1,L.superApply=superApply$1,L.superClass=$,L}}function isESClass$1(g){return isFunction$3(g)&&/^class\s/.test(Function.prototype.toString.call(g))}function mountExtend$1(g,n){g.extend=n.extend}var classBase$1=Math.round(Math.random()*10);function enableClassCheck$1(g){var n=["__\0is_clz",classBase$1++].join("_");g.prototype[n]=!0,g.isInstance=function(r){return!!(r&&r[n])}}function superCall$1(g,n){for(var r=[],$=2;$<arguments.length;$++)r[$-2]=arguments[$];return this.superClass.prototype[n].apply(g,r)}function superApply$1(g,n,r){return this.superClass.prototype[n].apply(g,r)}function enableClassManagement$1(g){var n={};g.registerClass=function($){var L=$.type||$.prototype.type;if(L){checkClassType$1(L),$.prototype.type=L;var V=parseClassType$1(L);if(!V.sub)n[V.main]=$;else if(V.sub!==IS_CONTAINER$1){var oe=r(V);oe[V.sub]=$}}return $},g.getClass=function($,L,V){var oe=n[$];if(oe&&oe[IS_CONTAINER$1]&&(oe=L?oe[L]:null),V&&!oe)throw new Error(L?"Component "+$+"."+(L||"")+" is used but not imported.":$+".type should be specified.");return oe},g.getClassesByMainType=function($){var L=parseClassType$1($),V=[],oe=n[L.main];return oe&&oe[IS_CONTAINER$1]?each$v(oe,function(ae,re){re!==IS_CONTAINER$1&&V.push(ae)}):V.push(oe),V},g.hasClass=function($){var L=parseClassType$1($);return!!n[L.main]},g.getAllClassMainTypes=function(){var $=[];return each$v(n,function(L,V){$.push(V)}),$},g.hasSubTypes=function($){var L=parseClassType$1($),V=n[L.main];return V&&V[IS_CONTAINER$1]};function r($){var L=n[$.main];return(!L||!L[IS_CONTAINER$1])&&(L=n[$.main]={},L[IS_CONTAINER$1]=!0),L}}function makeStyleMapper$1(g,n){for(var r=0;r<g.length;r++)g[r][1]||(g[r][1]=g[r][0]);return n=n||!1,function($,L,V){for(var oe={},ae=0;ae<g.length;ae++){var re=g[ae][1];if(!(L&&indexOf$1(L,re)>=0||V&&indexOf$1(V,re)<0)){var le=$.getShallow(re,n);le!=null&&(oe[g[ae][0]]=le)}}return oe}}var AREA_STYLE_KEY_MAP$1=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle$1=makeStyleMapper$1(AREA_STYLE_KEY_MAP$1),AreaStyleMixin$1=function(){function g(){}return g.prototype.getAreaStyle=function(n,r){return getAreaStyle$1(this,n,r)},g}(),globalImageCache$1=new LRU$3(50);function findExistImage$1(g){if(typeof g=="string"){var n=globalImageCache$1.get(g);return n&&n.image}else return g}function createOrUpdateImage$1(g,n,r,$,L){if(g)if(typeof g=="string"){if(n&&n.__zrImageSrc===g||!r)return n;var V=globalImageCache$1.get(g),oe={hostEl:r,cb:$,cbPayload:L};return V?(n=V.image,!isImageReady$1(n)&&V.pending.push(oe)):(n=platformApi$1.loadImage(g,imageOnLoad$1,imageOnLoad$1),n.__zrImageSrc=g,globalImageCache$1.put(g,n.__cachedImgObj={image:n,pending:[oe]})),n}else return g;else return n}function imageOnLoad$1(){var g=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var n=0;n<g.pending.length;n++){var r=g.pending[n],$=r.cb;$&&$(this,r.cbPayload),r.hostEl.dirty()}g.pending.length=0}function isImageReady$1(g){return g&&g.width&&g.height}var STYLE_REG$1=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText$1(g,n,r,$,L){if(!n)return"";var V=(g+"").split(`
`);L=prepareTruncateOptions$1(n,r,$,L);for(var oe=0,ae=V.length;oe<ae;oe++)V[oe]=truncateSingleLine$1(V[oe],L);return V.join(`
`)}function prepareTruncateOptions$1(g,n,r,$){$=$||{};var L=extend$4({},$);L.font=n,r=retrieve2$1(r,"..."),L.maxIterations=retrieve2$1($.maxIterations,2);var V=L.minChar=retrieve2$1($.minChar,0);L.cnCharWidth=getWidth$1("\u56FD",n);var oe=L.ascCharWidth=getWidth$1("a",n);L.placeholder=retrieve2$1($.placeholder,"");for(var ae=g=Math.max(0,g-1),re=0;re<V&&ae>=oe;re++)ae-=oe;var le=getWidth$1(r,n);return le>ae&&(r="",le=0),ae=g-le,L.ellipsis=r,L.ellipsisWidth=le,L.contentWidth=ae,L.containerWidth=g,L}function truncateSingleLine$1(g,n){var r=n.containerWidth,$=n.font,L=n.contentWidth;if(!r)return"";var V=getWidth$1(g,$);if(V<=r)return g;for(var oe=0;;oe++){if(V<=L||oe>=n.maxIterations){g+=n.ellipsis;break}var ae=oe===0?estimateLength$1(g,L,n.ascCharWidth,n.cnCharWidth):V>0?Math.floor(g.length*L/V):0;g=g.substr(0,ae),V=getWidth$1(g,$)}return g===""&&(g=n.placeholder),g}function estimateLength$1(g,n,r,$){for(var L=0,V=0,oe=g.length;V<oe&&L<n;V++){var ae=g.charCodeAt(V);L+=0<=ae&&ae<=127?r:$}return V}function parsePlainText$1(g,n){g!=null&&(g+="");var r=n.overflow,$=n.padding,L=n.font,V=r==="truncate",oe=getLineHeight$1(L),ae=retrieve2$1(n.lineHeight,oe),re=!!n.backgroundColor,le=n.lineOverflow==="truncate",ue=n.width,de;ue!=null&&(r==="break"||r==="breakAll")?de=g?wrapText$1(g,n.font,ue,r==="breakAll",0).lines:[]:de=g?g.split(`
`):[];var he=de.length*ae,pe=retrieve2$1(n.height,he);if(he>pe&&le){var _e=Math.floor(pe/ae);de=de.slice(0,_e)}if(g&&V&&ue!=null)for(var $e=prepareTruncateOptions$1(ue,L,n.ellipsis,{minChar:n.truncateMinChar,placeholder:n.placeholder}),xe=0;xe<de.length;xe++)de[xe]=truncateSingleLine$1(de[xe],$e);for(var Oe=pe,Ce=0,xe=0;xe<de.length;xe++)Ce=Math.max(getWidth$1(de[xe],L),Ce);ue==null&&(ue=Ce);var Ie=Ce;return $&&(Oe+=$[0]+$[2],Ie+=$[1]+$[3],ue+=$[1]+$[3]),re&&(Ie=ue),{lines:de,height:pe,outerWidth:Ie,outerHeight:Oe,lineHeight:ae,calculatedLineHeight:oe,contentWidth:Ce,contentHeight:he,width:ue}}var RichTextToken$1=function(){function g(){}return g}(),RichTextLine$1=function(){function g(n){this.tokens=[],n&&(this.tokens=n)}return g}(),RichTextContentBlock$1=function(){function g(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return g}();function parseRichText$1(g,n){var r=new RichTextContentBlock$1;if(g!=null&&(g+=""),!g)return r;for(var $=n.width,L=n.height,V=n.overflow,oe=(V==="break"||V==="breakAll")&&$!=null?{width:$,accumWidth:0,breakAll:V==="breakAll"}:null,ae=STYLE_REG$1.lastIndex=0,re;(re=STYLE_REG$1.exec(g))!=null;){var le=re.index;le>ae&&pushTokens$1(r,g.substring(ae,le),n,oe),pushTokens$1(r,re[2],n,oe,re[1]),ae=STYLE_REG$1.lastIndex}ae<g.length&&pushTokens$1(r,g.substring(ae,g.length),n,oe);var ue=[],de=0,he=0,pe=n.padding,_e=V==="truncate",$e=n.lineOverflow==="truncate";function xe(Sn,xn,On){Sn.width=xn,Sn.lineHeight=On,de+=On,he=Math.max(he,xn)}e:for(var Oe=0;Oe<r.lines.length;Oe++){for(var Ce=r.lines[Oe],Ie=0,Ne=0,ze=0;ze<Ce.tokens.length;ze++){var Fe=Ce.tokens[ze],Ue=Fe.styleName&&n.rich[Fe.styleName]||{},At=Fe.textPadding=Ue.padding,Et=At?At[1]+At[3]:0,Pt=Fe.font=Ue.font||n.font;Fe.contentHeight=getLineHeight$1(Pt);var kt=retrieve2$1(Ue.height,Fe.contentHeight);if(Fe.innerHeight=kt,At&&(kt+=At[0]+At[2]),Fe.height=kt,Fe.lineHeight=retrieve3$1(Ue.lineHeight,n.lineHeight,kt),Fe.align=Ue&&Ue.align||n.align,Fe.verticalAlign=Ue&&Ue.verticalAlign||"middle",$e&&L!=null&&de+Fe.lineHeight>L){ze>0?(Ce.tokens=Ce.tokens.slice(0,ze),xe(Ce,Ne,Ie),r.lines=r.lines.slice(0,Oe+1)):r.lines=r.lines.slice(0,Oe);break e}var Dt=Ue.width,Lt=Dt==null||Dt==="auto";if(typeof Dt=="string"&&Dt.charAt(Dt.length-1)==="%")Fe.percentWidth=Dt,ue.push(Fe),Fe.contentWidth=getWidth$1(Fe.text,Pt);else{if(Lt){var hn=Ue.backgroundColor,vn=hn&&hn.image;vn&&(vn=findExistImage$1(vn),isImageReady$1(vn)&&(Fe.width=Math.max(Fe.width,vn.width*kt/vn.height)))}var _n=_e&&$!=null?$-Ne:null;_n!=null&&_n<Fe.width?!Lt||_n<Et?(Fe.text="",Fe.width=Fe.contentWidth=0):(Fe.text=truncateText$1(Fe.text,_n-Et,Pt,n.ellipsis,{minChar:n.truncateMinChar}),Fe.width=Fe.contentWidth=getWidth$1(Fe.text,Pt)):Fe.contentWidth=getWidth$1(Fe.text,Pt)}Fe.width+=Et,Ne+=Fe.width,Ue&&(Ie=Math.max(Ie,Fe.lineHeight))}xe(Ce,Ne,Ie)}r.outerWidth=r.width=retrieve2$1($,he),r.outerHeight=r.height=retrieve2$1(L,de),r.contentHeight=de,r.contentWidth=he,pe&&(r.outerWidth+=pe[1]+pe[3],r.outerHeight+=pe[0]+pe[2]);for(var Oe=0;Oe<ue.length;Oe++){var Fe=ue[Oe],$n=Fe.percentWidth;Fe.width=parseInt($n,10)/100*r.width}return r}function pushTokens$1(g,n,r,$,L){var V=n==="",oe=L&&r.rich[L]||{},ae=g.lines,re=oe.font||r.font,le=!1,ue,de;if($){var he=oe.padding,pe=he?he[1]+he[3]:0;if(oe.width!=null&&oe.width!=="auto"){var _e=parsePercent$3(oe.width,$.width)+pe;ae.length>0&&_e+$.accumWidth>$.width&&(ue=n.split(`
`),le=!0),$.accumWidth=_e}else{var $e=wrapText$1(n,re,$.width,$.breakAll,$.accumWidth);$.accumWidth=$e.accumWidth+pe,de=$e.linesWidths,ue=$e.lines}}else ue=n.split(`
`);for(var xe=0;xe<ue.length;xe++){var Oe=ue[xe],Ce=new RichTextToken$1;if(Ce.styleName=L,Ce.text=Oe,Ce.isLineHolder=!Oe&&!V,typeof oe.width=="number"?Ce.width=oe.width:Ce.width=de?de[xe]:getWidth$1(Oe,re),!xe&&!le){var Ie=(ae[ae.length-1]||(ae[0]=new RichTextLine$1)).tokens,Ne=Ie.length;Ne===1&&Ie[0].isLineHolder?Ie[0]=Ce:(Oe||!Ne||V)&&Ie.push(Ce)}else ae.push(new RichTextLine$1([Ce]))}}function isLatin$1(g){var n=g.charCodeAt(0);return n>=33&&n<=383}var breakCharMap$1=reduce$1(",&?/;] ".split(""),function(g,n){return g[n]=!0,g},{});function isWordBreakChar$1(g){return isLatin$1(g)?!!breakCharMap$1[g]:!0}function wrapText$1(g,n,r,$,L){for(var V=[],oe=[],ae="",re="",le=0,ue=0,de=0;de<g.length;de++){var he=g.charAt(de);if(he===`
`){re&&(ae+=re,ue+=le),V.push(ae),oe.push(ue),ae="",re="",le=0,ue=0;continue}var pe=getWidth$1(he,n),_e=$?!1:!isWordBreakChar$1(he);if(V.length?ue+pe>r:L+ue+pe>r){ue?(ae||re)&&(_e?(ae||(ae=re,re="",le=0,ue=le),V.push(ae),oe.push(ue-le),re+=he,le+=pe,ae="",ue=le):(re&&(ae+=re,re="",le=0),V.push(ae),oe.push(ue),ae=he,ue=pe)):_e?(V.push(re),oe.push(le),re=he,le=pe):(V.push(he),oe.push(pe));continue}ue+=pe,_e?(re+=he,le+=pe):(re&&(ae+=re,re="",le=0),ae+=he)}return!V.length&&!ae&&(ae=g,re="",le=0),re&&(ae+=re),ae&&(V.push(ae),oe.push(ue)),V.length===1&&(ue+=L),{accumWidth:ue,lines:V,linesWidths:oe}}var STYLE_MAGIC_KEY$1="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE$1={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS$1={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE$1[STYLE_MAGIC_KEY$1]=!0;var PRIMARY_STATES_KEYS$2=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER$1=["invisible"],Displayable$2=function(g){__extends$1(n,g);function n(r){return g.call(this,r)||this}return n.prototype._init=function(r){for(var $=keys$2(r),L=0;L<$.length;L++){var V=$[L];V==="style"?this.useStyle(r[V]):g.prototype.attrKV.call(this,V,r[V])}this.style||this.useStyle({})},n.prototype.beforeBrush=function(){},n.prototype.afterBrush=function(){},n.prototype.innerBeforeBrush=function(){},n.prototype.innerAfterBrush=function(){},n.prototype.shouldBePainted=function(r,$,L,V){var oe=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled$1(this,r,$)||oe&&!oe[0]&&!oe[3])return!1;if(L&&this.__clipPaths){for(var ae=0;ae<this.__clipPaths.length;++ae)if(this.__clipPaths[ae].isZeroArea())return!1}if(V&&this.parent)for(var re=this.parent;re;){if(re.ignore)return!1;re=re.parent}return!0},n.prototype.contain=function(r,$){return this.rectContain(r,$)},n.prototype.traverse=function(r,$){r.call($,this)},n.prototype.rectContain=function(r,$){var L=this.transformCoordToLocal(r,$),V=this.getBoundingRect();return V.contain(L[0],L[1])},n.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var $=this.transform,L=this.getBoundingRect(),V=this.style,oe=V.shadowBlur||0,ae=V.shadowOffsetX||0,re=V.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new BoundingRect$3(0,0,0,0)),$?BoundingRect$3.applyTransform(r,L,$):r.copy(L),(oe||ae||re)&&(r.width+=oe*2+Math.abs(ae),r.height+=oe*2+Math.abs(re),r.x=Math.min(r.x,r.x+ae-oe),r.y=Math.min(r.y,r.y+re-oe));var le=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-le),r.y=Math.floor(r.y-le),r.width=Math.ceil(r.width+1+le*2),r.height=Math.ceil(r.height+1+le*2))}return r},n.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new BoundingRect$3(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},n.prototype.getPrevPaintRect=function(){return this._prevPaintRect},n.prototype.animateStyle=function(r){return this.animate("style",r)},n.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},n.prototype.attrKV=function(r,$){r!=="style"?g.prototype.attrKV.call(this,r,$):this.style?this.setStyle($):this.useStyle($)},n.prototype.setStyle=function(r,$){return typeof r=="string"?this.style[r]=$:extend$4(this.style,r),this.dirtyStyle(),this},n.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT$1,this._rect&&(this._rect=null)},n.prototype.dirty=function(){this.dirtyStyle()},n.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT$1)},n.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT$1},n.prototype.createStyle=function(r){return createObject$1(DEFAULT_COMMON_STYLE$1,r)},n.prototype.useStyle=function(r){r[STYLE_MAGIC_KEY$1]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},n.prototype.isStyleObject=function(r){return r[STYLE_MAGIC_KEY$1]},n.prototype._innerSaveToNormal=function(r){g.prototype._innerSaveToNormal.call(this,r);var $=this._normalState;r.style&&!$.style&&($.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,$,PRIMARY_STATES_KEYS$2)},n.prototype._applyStateObj=function(r,$,L,V,oe,ae){g.prototype._applyStateObj.call(this,r,$,L,V,oe,ae);var re=!($&&V),le;if($&&$.style?oe?V?le=$.style:(le=this._mergeStyle(this.createStyle(),L.style),this._mergeStyle(le,$.style)):(le=this._mergeStyle(this.createStyle(),V?this.style:L.style),this._mergeStyle(le,$.style)):re&&(le=L.style),le)if(oe){var ue=this.style;if(this.style=this.createStyle(re?{}:ue),re)for(var de=keys$2(ue),he=0;he<de.length;he++){var pe=de[he];pe in le&&(le[pe]=le[pe],this.style[pe]=ue[pe])}for(var _e=keys$2(le),he=0;he<_e.length;he++){var pe=_e[he];this.style[pe]=this.style[pe]}this._transitionState(r,{style:le},ae,this.getAnimationStyleProps())}else this.useStyle(le);for(var $e=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER$1:PRIMARY_STATES_KEYS$2,he=0;he<$e.length;he++){var pe=$e[he];$&&$[pe]!=null?this[pe]=$[pe]:re&&L[pe]!=null&&(this[pe]=L[pe])}},n.prototype._mergeStates=function(r){for(var $=g.prototype._mergeStates.call(this,r),L,V=0;V<r.length;V++){var oe=r[V];oe.style&&(L=L||{},this._mergeStyle(L,oe.style))}return L&&($.style=L),$},n.prototype._mergeStyle=function(r,$){return extend$4(r,$),r},n.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS$1},n.initDefaultProps=function(){var r=n.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=REDRAW_BIT$1|STYLE_CHANGED_BIT$1}(),n}(Element$3),tmpRect$2=new BoundingRect$3(0,0,0,0),viewRect$1=new BoundingRect$3(0,0,0,0);function isDisplayableCulled$1(g,n,r){return tmpRect$2.copy(g.getBoundingRect()),g.transform&&tmpRect$2.applyTransform(g.transform),viewRect$1.width=n,viewRect$1.height=r,!tmpRect$2.intersect(viewRect$1)}const Displayable$3=Displayable$2;var mathMin$k=Math.min,mathMax$k=Math.max,mathSin$9=Math.sin,mathCos$9=Math.cos,PI2$h=Math.PI*2,start$1=create$5(),end$1=create$5(),extremity$1=create$5();function fromPoints$1(g,n,r){if(g.length!==0){for(var $=g[0],L=$[0],V=$[0],oe=$[1],ae=$[1],re=1;re<g.length;re++)$=g[re],L=mathMin$k(L,$[0]),V=mathMax$k(V,$[0]),oe=mathMin$k(oe,$[1]),ae=mathMax$k(ae,$[1]);n[0]=L,n[1]=oe,r[0]=V,r[1]=ae}}function fromLine$1(g,n,r,$,L,V){L[0]=mathMin$k(g,r),L[1]=mathMin$k(n,$),V[0]=mathMax$k(g,r),V[1]=mathMax$k(n,$)}var xDim$1=[],yDim$1=[];function fromCubic$1(g,n,r,$,L,V,oe,ae,re,le){var ue=cubicExtrema$1,de=cubicAt$1,he=ue(g,r,L,oe,xDim$1);re[0]=1/0,re[1]=1/0,le[0]=-1/0,le[1]=-1/0;for(var pe=0;pe<he;pe++){var _e=de(g,r,L,oe,xDim$1[pe]);re[0]=mathMin$k(_e,re[0]),le[0]=mathMax$k(_e,le[0])}he=ue(n,$,V,ae,yDim$1);for(var pe=0;pe<he;pe++){var $e=de(n,$,V,ae,yDim$1[pe]);re[1]=mathMin$k($e,re[1]),le[1]=mathMax$k($e,le[1])}re[0]=mathMin$k(g,re[0]),le[0]=mathMax$k(g,le[0]),re[0]=mathMin$k(oe,re[0]),le[0]=mathMax$k(oe,le[0]),re[1]=mathMin$k(n,re[1]),le[1]=mathMax$k(n,le[1]),re[1]=mathMin$k(ae,re[1]),le[1]=mathMax$k(ae,le[1])}function fromQuadratic$1(g,n,r,$,L,V,oe,ae){var re=quadraticExtremum$1,le=quadraticAt$3,ue=mathMax$k(mathMin$k(re(g,r,L),1),0),de=mathMax$k(mathMin$k(re(n,$,V),1),0),he=le(g,r,L,ue),pe=le(n,$,V,de);oe[0]=mathMin$k(g,L,he),oe[1]=mathMin$k(n,V,pe),ae[0]=mathMax$k(g,L,he),ae[1]=mathMax$k(n,V,pe)}function fromArc$1(g,n,r,$,L,V,oe,ae,re){var le=min$3,ue=max$3,de=Math.abs(L-V);if(de%PI2$h<1e-4&&de>1e-4){ae[0]=g-r,ae[1]=n-$,re[0]=g+r,re[1]=n+$;return}if(start$1[0]=mathCos$9(L)*r+g,start$1[1]=mathSin$9(L)*$+n,end$1[0]=mathCos$9(V)*r+g,end$1[1]=mathSin$9(V)*$+n,le(ae,start$1,end$1),ue(re,start$1,end$1),L=L%PI2$h,L<0&&(L=L+PI2$h),V=V%PI2$h,V<0&&(V=V+PI2$h),L>V&&!oe?V+=PI2$h:L<V&&oe&&(L+=PI2$h),oe){var he=V;V=L,L=he}for(var pe=0;pe<V;pe+=Math.PI/2)pe>L&&(extremity$1[0]=mathCos$9(pe)*r+g,extremity$1[1]=mathSin$9(pe)*$+n,le(ae,extremity$1,ae),ue(re,extremity$1,re))}var CMD$9={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX$1=[],tmpOutY$1=[],min$2=[],max$2=[],min2$1=[],max2$1=[],mathMin$j=Math.min,mathMax$j=Math.max,mathCos$8=Math.cos,mathSin$8=Math.sin,mathAbs$5=Math.abs,PI$h=Math.PI,PI2$g=PI$h*2,hasTypedArray$1=typeof Float32Array<"u",tmpAngles$1=[];function modPI2$1(g){var n=Math.round(g/PI$h*1e8)/1e8;return n%2*PI$h}function normalizeArcAngles$1(g,n){var r=modPI2$1(g[0]);r<0&&(r+=PI2$g);var $=r-g[0],L=g[1];L+=$,!n&&L-r>=PI2$g?L=r+PI2$g:n&&r-L>=PI2$g?L=r-PI2$g:!n&&r>L?L=r+(PI2$g-modPI2$1(r-L)):n&&r<L&&(L=r-(PI2$g-modPI2$1(L-r))),g[0]=r,g[1]=L}var PathProxy$2=function(){function g(n){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,n&&(this._saveData=!1),this._saveData&&(this.data=[])}return g.prototype.increaseVersion=function(){this._version++},g.prototype.getVersion=function(){return this._version},g.prototype.setScale=function(n,r,$){$=$||0,$>0&&(this._ux=mathAbs$5($/devicePixelRatio$1/n)||0,this._uy=mathAbs$5($/devicePixelRatio$1/r)||0)},g.prototype.setDPR=function(n){this.dpr=n},g.prototype.setContext=function(n){this._ctx=n},g.prototype.getContext=function(){return this._ctx},g.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},g.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},g.prototype.moveTo=function(n,r){return this._drawPendingPt(),this.addData(CMD$9.M,n,r),this._ctx&&this._ctx.moveTo(n,r),this._x0=n,this._y0=r,this._xi=n,this._yi=r,this},g.prototype.lineTo=function(n,r){var $=mathAbs$5(n-this._xi),L=mathAbs$5(r-this._yi),V=$>this._ux||L>this._uy;if(this.addData(CMD$9.L,n,r),this._ctx&&V&&this._ctx.lineTo(n,r),V)this._xi=n,this._yi=r,this._pendingPtDist=0;else{var oe=$*$+L*L;oe>this._pendingPtDist&&(this._pendingPtX=n,this._pendingPtY=r,this._pendingPtDist=oe)}return this},g.prototype.bezierCurveTo=function(n,r,$,L,V,oe){return this._drawPendingPt(),this.addData(CMD$9.C,n,r,$,L,V,oe),this._ctx&&this._ctx.bezierCurveTo(n,r,$,L,V,oe),this._xi=V,this._yi=oe,this},g.prototype.quadraticCurveTo=function(n,r,$,L){return this._drawPendingPt(),this.addData(CMD$9.Q,n,r,$,L),this._ctx&&this._ctx.quadraticCurveTo(n,r,$,L),this._xi=$,this._yi=L,this},g.prototype.arc=function(n,r,$,L,V,oe){this._drawPendingPt(),tmpAngles$1[0]=L,tmpAngles$1[1]=V,normalizeArcAngles$1(tmpAngles$1,oe),L=tmpAngles$1[0],V=tmpAngles$1[1];var ae=V-L;return this.addData(CMD$9.A,n,r,$,$,L,ae,0,oe?0:1),this._ctx&&this._ctx.arc(n,r,$,L,V,oe),this._xi=mathCos$8(V)*$+n,this._yi=mathSin$8(V)*$+r,this},g.prototype.arcTo=function(n,r,$,L,V){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(n,r,$,L,V),this},g.prototype.rect=function(n,r,$,L){return this._drawPendingPt(),this._ctx&&this._ctx.rect(n,r,$,L),this.addData(CMD$9.R,n,r,$,L),this},g.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$9.Z);var n=this._ctx,r=this._x0,$=this._y0;return n&&n.closePath(),this._xi=r,this._yi=$,this},g.prototype.fill=function(n){n&&n.fill(),this.toStatic()},g.prototype.stroke=function(n){n&&n.stroke(),this.toStatic()},g.prototype.len=function(){return this._len},g.prototype.setData=function(n){var r=n.length;!(this.data&&this.data.length===r)&&hasTypedArray$1&&(this.data=new Float32Array(r));for(var $=0;$<r;$++)this.data[$]=n[$];this._len=r},g.prototype.appendPath=function(n){n instanceof Array||(n=[n]);for(var r=n.length,$=0,L=this._len,V=0;V<r;V++)$+=n[V].len();hasTypedArray$1&&this.data instanceof Float32Array&&(this.data=new Float32Array(L+$));for(var V=0;V<r;V++)for(var oe=n[V].data,ae=0;ae<oe.length;ae++)this.data[L++]=oe[ae];this._len=L},g.prototype.addData=function(n,r,$,L,V,oe,ae,re,le){if(this._saveData){var ue=this.data;this._len+arguments.length>ue.length&&(this._expandData(),ue=this.data);for(var de=0;de<arguments.length;de++)ue[this._len++]=arguments[de]}},g.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},g.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var n=[],r=0;r<this._len;r++)n[r]=this.data[r];this.data=n}},g.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var n=this.data;n instanceof Array&&(n.length=this._len,hasTypedArray$1&&this._len>11&&(this.data=new Float32Array(n)))}},g.prototype.getBoundingRect=function(){min$2[0]=min$2[1]=min2$1[0]=min2$1[1]=Number.MAX_VALUE,max$2[0]=max$2[1]=max2$1[0]=max2$1[1]=-Number.MAX_VALUE;var n=this.data,r=0,$=0,L=0,V=0,oe;for(oe=0;oe<this._len;){var ae=n[oe++],re=oe===1;switch(re&&(r=n[oe],$=n[oe+1],L=r,V=$),ae){case CMD$9.M:r=L=n[oe++],$=V=n[oe++],min2$1[0]=L,min2$1[1]=V,max2$1[0]=L,max2$1[1]=V;break;case CMD$9.L:fromLine$1(r,$,n[oe],n[oe+1],min2$1,max2$1),r=n[oe++],$=n[oe++];break;case CMD$9.C:fromCubic$1(r,$,n[oe++],n[oe++],n[oe++],n[oe++],n[oe],n[oe+1],min2$1,max2$1),r=n[oe++],$=n[oe++];break;case CMD$9.Q:fromQuadratic$1(r,$,n[oe++],n[oe++],n[oe],n[oe+1],min2$1,max2$1),r=n[oe++],$=n[oe++];break;case CMD$9.A:var le=n[oe++],ue=n[oe++],de=n[oe++],he=n[oe++],pe=n[oe++],_e=n[oe++]+pe;oe+=1;var $e=!n[oe++];re&&(L=mathCos$8(pe)*de+le,V=mathSin$8(pe)*he+ue),fromArc$1(le,ue,de,he,pe,_e,$e,min2$1,max2$1),r=mathCos$8(_e)*de+le,$=mathSin$8(_e)*he+ue;break;case CMD$9.R:L=r=n[oe++],V=$=n[oe++];var xe=n[oe++],Oe=n[oe++];fromLine$1(L,V,L+xe,V+Oe,min2$1,max2$1);break;case CMD$9.Z:r=L,$=V;break}min$3(min$2,min$2,min2$1),max$3(max$2,max$2,max2$1)}return oe===0&&(min$2[0]=min$2[1]=max$2[0]=max$2[1]=0),new BoundingRect$3(min$2[0],min$2[1],max$2[0]-min$2[0],max$2[1]-min$2[1])},g.prototype._calculateLength=function(){var n=this.data,r=this._len,$=this._ux,L=this._uy,V=0,oe=0,ae=0,re=0;this._pathSegLen||(this._pathSegLen=[]);for(var le=this._pathSegLen,ue=0,de=0,he=0;he<r;){var pe=n[he++],_e=he===1;_e&&(V=n[he],oe=n[he+1],ae=V,re=oe);var $e=-1;switch(pe){case CMD$9.M:V=ae=n[he++],oe=re=n[he++];break;case CMD$9.L:{var xe=n[he++],Oe=n[he++],Ce=xe-V,Ie=Oe-oe;(mathAbs$5(Ce)>$||mathAbs$5(Ie)>L||he===r-1)&&($e=Math.sqrt(Ce*Ce+Ie*Ie),V=xe,oe=Oe);break}case CMD$9.C:{var Ne=n[he++],ze=n[he++],xe=n[he++],Oe=n[he++],Fe=n[he++],Ue=n[he++];$e=cubicLength$1(V,oe,Ne,ze,xe,Oe,Fe,Ue,10),V=Fe,oe=Ue;break}case CMD$9.Q:{var Ne=n[he++],ze=n[he++],xe=n[he++],Oe=n[he++];$e=quadraticLength$1(V,oe,Ne,ze,xe,Oe,10),V=xe,oe=Oe;break}case CMD$9.A:var At=n[he++],Et=n[he++],Pt=n[he++],kt=n[he++],Dt=n[he++],Lt=n[he++],hn=Lt+Dt;he+=1,n[he++],_e&&(ae=mathCos$8(Dt)*Pt+At,re=mathSin$8(Dt)*kt+Et),$e=mathMax$j(Pt,kt)*mathMin$j(PI2$g,Math.abs(Lt)),V=mathCos$8(hn)*Pt+At,oe=mathSin$8(hn)*kt+Et;break;case CMD$9.R:{ae=V=n[he++],re=oe=n[he++];var vn=n[he++],_n=n[he++];$e=vn*2+_n*2;break}case CMD$9.Z:{var Ce=ae-V,Ie=re-oe;$e=Math.sqrt(Ce*Ce+Ie*Ie),V=ae,oe=re;break}}$e>=0&&(le[de++]=$e,ue+=$e)}return this._pathLen=ue,ue},g.prototype.rebuildPath=function(n,r){var $=this.data,L=this._ux,V=this._uy,oe=this._len,ae,re,le,ue,de,he,pe=r<1,_e,$e,xe=0,Oe=0,Ce,Ie=0,Ne,ze;if(pe&&(this._pathSegLen||this._calculateLength(),_e=this._pathSegLen,$e=this._pathLen,Ce=r*$e,!Ce))return;e:for(var Fe=0;Fe<oe;){var Ue=$[Fe++],At=Fe===1;switch(At&&(le=$[Fe],ue=$[Fe+1],ae=le,re=ue),Ue!==CMD$9.L&&Ie>0&&(n.lineTo(Ne,ze),Ie=0),Ue){case CMD$9.M:ae=le=$[Fe++],re=ue=$[Fe++],n.moveTo(le,ue);break;case CMD$9.L:{de=$[Fe++],he=$[Fe++];var Et=mathAbs$5(de-le),Pt=mathAbs$5(he-ue);if(Et>L||Pt>V){if(pe){var kt=_e[Oe++];if(xe+kt>Ce){var Dt=(Ce-xe)/kt;n.lineTo(le*(1-Dt)+de*Dt,ue*(1-Dt)+he*Dt);break e}xe+=kt}n.lineTo(de,he),le=de,ue=he,Ie=0}else{var Lt=Et*Et+Pt*Pt;Lt>Ie&&(Ne=de,ze=he,Ie=Lt)}break}case CMD$9.C:{var hn=$[Fe++],vn=$[Fe++],_n=$[Fe++],$n=$[Fe++],Sn=$[Fe++],xn=$[Fe++];if(pe){var kt=_e[Oe++];if(xe+kt>Ce){var Dt=(Ce-xe)/kt;cubicSubdivide$1(le,hn,_n,Sn,Dt,tmpOutX$1),cubicSubdivide$1(ue,vn,$n,xn,Dt,tmpOutY$1),n.bezierCurveTo(tmpOutX$1[1],tmpOutY$1[1],tmpOutX$1[2],tmpOutY$1[2],tmpOutX$1[3],tmpOutY$1[3]);break e}xe+=kt}n.bezierCurveTo(hn,vn,_n,$n,Sn,xn),le=Sn,ue=xn;break}case CMD$9.Q:{var hn=$[Fe++],vn=$[Fe++],_n=$[Fe++],$n=$[Fe++];if(pe){var kt=_e[Oe++];if(xe+kt>Ce){var Dt=(Ce-xe)/kt;quadraticSubdivide$1(le,hn,_n,Dt,tmpOutX$1),quadraticSubdivide$1(ue,vn,$n,Dt,tmpOutY$1),n.quadraticCurveTo(tmpOutX$1[1],tmpOutY$1[1],tmpOutX$1[2],tmpOutY$1[2]);break e}xe+=kt}n.quadraticCurveTo(hn,vn,_n,$n),le=_n,ue=$n;break}case CMD$9.A:var On=$[Fe++],Cn=$[Fe++],An=$[Fe++],Rn=$[Fe++],Fn=$[Fe++],Pn=$[Fe++],Un=$[Fe++],Dn=!$[Fe++],kn=An>Rn?An:Rn,Nn=mathAbs$5(An-Rn)>.001,Vn=Fn+Pn,Ln=!1;if(pe){var kt=_e[Oe++];xe+kt>Ce&&(Vn=Fn+Pn*(Ce-xe)/kt,Ln=!0),xe+=kt}if(Nn&&n.ellipse?n.ellipse(On,Cn,An,Rn,Un,Fn,Vn,Dn):n.arc(On,Cn,kn,Fn,Vn,Dn),Ln)break e;At&&(ae=mathCos$8(Fn)*An+On,re=mathSin$8(Fn)*Rn+Cn),le=mathCos$8(Vn)*An+On,ue=mathSin$8(Vn)*Rn+Cn;break;case CMD$9.R:ae=le=$[Fe],re=ue=$[Fe+1],de=$[Fe++],he=$[Fe++];var Tn=$[Fe++],In=$[Fe++];if(pe){var kt=_e[Oe++];if(xe+kt>Ce){var Bn=Ce-xe;n.moveTo(de,he),n.lineTo(de+mathMin$j(Bn,Tn),he),Bn-=Tn,Bn>0&&n.lineTo(de+Tn,he+mathMin$j(Bn,In)),Bn-=In,Bn>0&&n.lineTo(de+mathMax$j(Tn-Bn,0),he+In),Bn-=Tn,Bn>0&&n.lineTo(de,he+mathMax$j(In-Bn,0));break e}xe+=kt}n.rect(de,he,Tn,In);break;case CMD$9.Z:if(pe){var kt=_e[Oe++];if(xe+kt>Ce){var Dt=(Ce-xe)/kt;n.lineTo(le*(1-Dt)+ae*Dt,ue*(1-Dt)+re*Dt);break e}xe+=kt}n.closePath(),le=ae,ue=re}}},g.prototype.clone=function(){var n=new g,r=this.data;return n.data=r.slice?r.slice():Array.prototype.slice.call(r),n._len=this._len,n},g.CMD=CMD$9,g.initDefaultProps=function(){var n=g.prototype;n._saveData=!0,n._ux=0,n._uy=0,n._pendingPtDist=0,n._version=0}(),g}();const PathProxy$3=PathProxy$2;function containStroke$9(g,n,r,$,L,V,oe){if(L===0)return!1;var ae=L,re=0,le=g;if(oe>n+ae&&oe>$+ae||oe<n-ae&&oe<$-ae||V>g+ae&&V>r+ae||V<g-ae&&V<r-ae)return!1;if(g!==r)re=(n-$)/(g-r),le=(g*$-r*n)/(g-r);else return Math.abs(V-g)<=ae/2;var ue=re*V-oe+le,de=ue*ue/(re*re+1);return de<=ae/2*ae/2}function containStroke$8(g,n,r,$,L,V,oe,ae,re,le,ue){if(re===0)return!1;var de=re;if(ue>n+de&&ue>$+de&&ue>V+de&&ue>ae+de||ue<n-de&&ue<$-de&&ue<V-de&&ue<ae-de||le>g+de&&le>r+de&&le>L+de&&le>oe+de||le<g-de&&le<r-de&&le<L-de&&le<oe-de)return!1;var he=cubicProjectPoint$1(g,n,r,$,L,V,oe,ae,le,ue,null);return he<=de/2}function containStroke$7(g,n,r,$,L,V,oe,ae,re){if(oe===0)return!1;var le=oe;if(re>n+le&&re>$+le&&re>V+le||re<n-le&&re<$-le&&re<V-le||ae>g+le&&ae>r+le&&ae>L+le||ae<g-le&&ae<r-le&&ae<L-le)return!1;var ue=quadraticProjectPoint$1(g,n,r,$,L,V,ae,re,null);return ue<=le/2}var PI2$f=Math.PI*2;function normalizeRadian$1(g){return g%=PI2$f,g<0&&(g+=PI2$f),g}var PI2$e=Math.PI*2;function containStroke$6(g,n,r,$,L,V,oe,ae,re){if(oe===0)return!1;var le=oe;ae-=g,re-=n;var ue=Math.sqrt(ae*ae+re*re);if(ue-le>r||ue+le<r)return!1;if(Math.abs($-L)%PI2$e<1e-4)return!0;if(V){var de=$;$=normalizeRadian$1(L),L=normalizeRadian$1(de)}else $=normalizeRadian$1($),L=normalizeRadian$1(L);$>L&&(L+=PI2$e);var he=Math.atan2(re,ae);return he<0&&(he+=PI2$e),he>=$&&he<=L||he+PI2$e>=$&&he+PI2$e<=L}function windingLine$1(g,n,r,$,L,V){if(V>n&&V>$||V<n&&V<$||$===n)return 0;var oe=(V-n)/($-n),ae=$<n?1:-1;(oe===1||oe===0)&&(ae=$<n?.5:-.5);var re=oe*(r-g)+g;return re===L?1/0:re>L?ae:0}var CMD$8=PathProxy$3.CMD,PI2$d=Math.PI*2,EPSILON$6=1e-4;function isAroundEqual$3(g,n){return Math.abs(g-n)<EPSILON$6}var roots$1=[-1,-1,-1],extrema$1=[-1,-1];function swapExtrema$1(){var g=extrema$1[0];extrema$1[0]=extrema$1[1],extrema$1[1]=g}function windingCubic$1(g,n,r,$,L,V,oe,ae,re,le){if(le>n&&le>$&&le>V&&le>ae||le<n&&le<$&&le<V&&le<ae)return 0;var ue=cubicRootAt$1(n,$,V,ae,le,roots$1);if(ue===0)return 0;for(var de=0,he=-1,pe=void 0,_e=void 0,$e=0;$e<ue;$e++){var xe=roots$1[$e],Oe=xe===0||xe===1?.5:1,Ce=cubicAt$1(g,r,L,oe,xe);Ce<re||(he<0&&(he=cubicExtrema$1(n,$,V,ae,extrema$1),extrema$1[1]<extrema$1[0]&&he>1&&swapExtrema$1(),pe=cubicAt$1(n,$,V,ae,extrema$1[0]),he>1&&(_e=cubicAt$1(n,$,V,ae,extrema$1[1]))),he===2?xe<extrema$1[0]?de+=pe<n?Oe:-Oe:xe<extrema$1[1]?de+=_e<pe?Oe:-Oe:de+=ae<_e?Oe:-Oe:xe<extrema$1[0]?de+=pe<n?Oe:-Oe:de+=ae<pe?Oe:-Oe)}return de}function windingQuadratic$1(g,n,r,$,L,V,oe,ae){if(ae>n&&ae>$&&ae>V||ae<n&&ae<$&&ae<V)return 0;var re=quadraticRootAt$1(n,$,V,ae,roots$1);if(re===0)return 0;var le=quadraticExtremum$1(n,$,V);if(le>=0&&le<=1){for(var ue=0,de=quadraticAt$3(n,$,V,le),he=0;he<re;he++){var pe=roots$1[he]===0||roots$1[he]===1?.5:1,_e=quadraticAt$3(g,r,L,roots$1[he]);_e<oe||(roots$1[he]<le?ue+=de<n?pe:-pe:ue+=V<de?pe:-pe)}return ue}else{var pe=roots$1[0]===0||roots$1[0]===1?.5:1,_e=quadraticAt$3(g,r,L,roots$1[0]);return _e<oe?0:V<n?pe:-pe}}function windingArc$1(g,n,r,$,L,V,oe,ae){if(ae-=n,ae>r||ae<-r)return 0;var re=Math.sqrt(r*r-ae*ae);roots$1[0]=-re,roots$1[1]=re;var le=Math.abs($-L);if(le<1e-4)return 0;if(le>=PI2$d-1e-4){$=0,L=PI2$d;var ue=V?1:-1;return oe>=roots$1[0]+g&&oe<=roots$1[1]+g?ue:0}if($>L){var de=$;$=L,L=de}$<0&&($+=PI2$d,L+=PI2$d);for(var he=0,pe=0;pe<2;pe++){var _e=roots$1[pe];if(_e+g>oe){var $e=Math.atan2(ae,_e),ue=V?1:-1;$e<0&&($e=PI2$d+$e),($e>=$&&$e<=L||$e+PI2$d>=$&&$e+PI2$d<=L)&&($e>Math.PI/2&&$e<Math.PI*1.5&&(ue=-ue),he+=ue)}}return he}function containPath$1(g,n,r,$,L){for(var V=g.data,oe=g.len(),ae=0,re=0,le=0,ue=0,de=0,he,pe,_e=0;_e<oe;){var $e=V[_e++],xe=_e===1;switch($e===CMD$8.M&&_e>1&&(r||(ae+=windingLine$1(re,le,ue,de,$,L))),xe&&(re=V[_e],le=V[_e+1],ue=re,de=le),$e){case CMD$8.M:ue=V[_e++],de=V[_e++],re=ue,le=de;break;case CMD$8.L:if(r){if(containStroke$9(re,le,V[_e],V[_e+1],n,$,L))return!0}else ae+=windingLine$1(re,le,V[_e],V[_e+1],$,L)||0;re=V[_e++],le=V[_e++];break;case CMD$8.C:if(r){if(containStroke$8(re,le,V[_e++],V[_e++],V[_e++],V[_e++],V[_e],V[_e+1],n,$,L))return!0}else ae+=windingCubic$1(re,le,V[_e++],V[_e++],V[_e++],V[_e++],V[_e],V[_e+1],$,L)||0;re=V[_e++],le=V[_e++];break;case CMD$8.Q:if(r){if(containStroke$7(re,le,V[_e++],V[_e++],V[_e],V[_e+1],n,$,L))return!0}else ae+=windingQuadratic$1(re,le,V[_e++],V[_e++],V[_e],V[_e+1],$,L)||0;re=V[_e++],le=V[_e++];break;case CMD$8.A:var Oe=V[_e++],Ce=V[_e++],Ie=V[_e++],Ne=V[_e++],ze=V[_e++],Fe=V[_e++];_e+=1;var Ue=!!(1-V[_e++]);he=Math.cos(ze)*Ie+Oe,pe=Math.sin(ze)*Ne+Ce,xe?(ue=he,de=pe):ae+=windingLine$1(re,le,he,pe,$,L);var At=($-Oe)*Ne/Ie+Oe;if(r){if(containStroke$6(Oe,Ce,Ne,ze,ze+Fe,Ue,n,At,L))return!0}else ae+=windingArc$1(Oe,Ce,Ne,ze,ze+Fe,Ue,At,L);re=Math.cos(ze+Fe)*Ie+Oe,le=Math.sin(ze+Fe)*Ne+Ce;break;case CMD$8.R:ue=re=V[_e++],de=le=V[_e++];var Et=V[_e++],Pt=V[_e++];if(he=ue+Et,pe=de+Pt,r){if(containStroke$9(ue,de,he,de,n,$,L)||containStroke$9(he,de,he,pe,n,$,L)||containStroke$9(he,pe,ue,pe,n,$,L)||containStroke$9(ue,pe,ue,de,n,$,L))return!0}else ae+=windingLine$1(he,de,he,pe,$,L),ae+=windingLine$1(ue,pe,ue,de,$,L);break;case CMD$8.Z:if(r){if(containStroke$9(re,le,ue,de,n,$,L))return!0}else ae+=windingLine$1(re,le,ue,de,$,L);re=ue,le=de;break}}return!r&&!isAroundEqual$3(le,de)&&(ae+=windingLine$1(re,le,ue,de,$,L)||0),ae!==0}function contain$5(g,n,r){return containPath$1(g,0,!1,n,r)}function containStroke$5(g,n,r,$){return containPath$1(g,n,!0,r,$)}var DEFAULT_PATH_STYLE$1=defaults$7({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE$1),DEFAULT_PATH_ANIMATION_PROPS$1={style:defaults$7({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS$1.style)},pathCopyParams$1=TRANSFORMABLE_PROPS$1.concat(["invisible","culling","z","z2","zlevel","parent"]),Path$2=function(g){__extends$1(n,g);function n(r){return g.call(this,r)||this}return n.prototype.update=function(){var r=this;g.prototype.update.call(this);var $=this.style;if($.decal){var L=this._decalEl=this._decalEl||new n;L.buildPath===n.prototype.buildPath&&(L.buildPath=function(re){r.buildPath(re,r.shape)}),L.silent=!0;var V=L.style;for(var oe in $)V[oe]!==$[oe]&&(V[oe]=$[oe]);V.fill=$.fill?$.decal:null,V.decal=null,V.shadowColor=null,$.strokeFirst&&(V.stroke=null);for(var ae=0;ae<pathCopyParams$1.length;++ae)L[pathCopyParams$1[ae]]=this[pathCopyParams$1[ae]];L.__dirty|=REDRAW_BIT$1}else this._decalEl&&(this._decalEl=null)},n.prototype.getDecalElement=function(){return this._decalEl},n.prototype._init=function(r){var $=keys$2(r);this.shape=this.getDefaultShape();var L=this.getDefaultStyle();L&&this.useStyle(L);for(var V=0;V<$.length;V++){var oe=$[V],ae=r[oe];oe==="style"?this.style?extend$4(this.style,ae):this.useStyle(ae):oe==="shape"?extend$4(this.shape,ae):g.prototype.attrKV.call(this,oe,ae)}this.style||this.useStyle({})},n.prototype.getDefaultStyle=function(){return null},n.prototype.getDefaultShape=function(){return{}},n.prototype.canBeInsideText=function(){return this.hasFill()},n.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(isString$3(r)){var $=lum$1(r,0);return $>.5?DARK_LABEL_COLOR$1:$>.2?LIGHTER_LABEL_COLOR$1:LIGHT_LABEL_COLOR$1}else if(r)return LIGHT_LABEL_COLOR$1}return DARK_LABEL_COLOR$1},n.prototype.getInsideTextStroke=function(r){var $=this.style.fill;if(isString$3($)){var L=this.__zr,V=!!(L&&L.isDarkMode()),oe=lum$1(r,0)<DARK_MODE_THRESHOLD$1;if(V===oe)return $}},n.prototype.buildPath=function(r,$,L){},n.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT$1},n.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},n.prototype.createPathProxy=function(){this.path=new PathProxy$3(!1)},n.prototype.hasStroke=function(){var r=this.style,$=r.stroke;return!($==null||$==="none"||!(r.lineWidth>0))},n.prototype.hasFill=function(){var r=this.style,$=r.fill;return $!=null&&$!=="none"},n.prototype.getBoundingRect=function(){var r=this._rect,$=this.style,L=!r;if(L){var V=!1;this.path||(V=!0,this.createPathProxy());var oe=this.path;(V||this.__dirty&SHAPE_CHANGED_BIT$1)&&(oe.beginPath(),this.buildPath(oe,this.shape,!1),this.pathUpdated()),r=oe.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var ae=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||L){ae.copy(r);var re=$.strokeNoScale?this.getLineScale():1,le=$.lineWidth;if(!this.hasFill()){var ue=this.strokeContainThreshold;le=Math.max(le,ue!=null?ue:4)}re>1e-10&&(ae.width+=le/re,ae.height+=le/re,ae.x-=le/re/2,ae.y-=le/re/2)}return ae}return r},n.prototype.contain=function(r,$){var L=this.transformCoordToLocal(r,$),V=this.getBoundingRect(),oe=this.style;if(r=L[0],$=L[1],V.contain(r,$)){var ae=this.path;if(this.hasStroke()){var re=oe.lineWidth,le=oe.strokeNoScale?this.getLineScale():1;if(le>1e-10&&(this.hasFill()||(re=Math.max(re,this.strokeContainThreshold)),containStroke$5(ae,re/le,r,$)))return!0}if(this.hasFill())return contain$5(ae,r,$)}return!1},n.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT$1,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},n.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},n.prototype.animateShape=function(r){return this.animate("shape",r)},n.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},n.prototype.attrKV=function(r,$){r==="shape"?this.setShape($):g.prototype.attrKV.call(this,r,$)},n.prototype.setShape=function(r,$){var L=this.shape;return L||(L=this.shape={}),typeof r=="string"?L[r]=$:extend$4(L,r),this.dirtyShape(),this},n.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT$1)},n.prototype.createStyle=function(r){return createObject$1(DEFAULT_PATH_STYLE$1,r)},n.prototype._innerSaveToNormal=function(r){g.prototype._innerSaveToNormal.call(this,r);var $=this._normalState;r.shape&&!$.shape&&($.shape=extend$4({},this.shape))},n.prototype._applyStateObj=function(r,$,L,V,oe,ae){g.prototype._applyStateObj.call(this,r,$,L,V,oe,ae);var re=!($&&V),le;if($&&$.shape?oe?V?le=$.shape:(le=extend$4({},L.shape),extend$4(le,$.shape)):(le=extend$4({},V?this.shape:L.shape),extend$4(le,$.shape)):re&&(le=L.shape),le)if(oe){this.shape=extend$4({},this.shape);for(var ue={},de=keys$2(le),he=0;he<de.length;he++){var pe=de[he];typeof le[pe]=="object"?this.shape[pe]=le[pe]:ue[pe]=le[pe]}this._transitionState(r,{shape:ue},ae)}else this.shape=le,this.dirtyShape()},n.prototype._mergeStates=function(r){for(var $=g.prototype._mergeStates.call(this,r),L,V=0;V<r.length;V++){var oe=r[V];oe.shape&&(L=L||{},this._mergeStyle(L,oe.shape))}return L&&($.shape=L),$},n.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS$1},n.prototype.isZeroArea=function(){return!1},n.extend=function(r){var $=function(V){__extends$1(oe,V);function oe(ae){var re=V.call(this,ae)||this;return r.init&&r.init.call(re,ae),re}return oe.prototype.getDefaultStyle=function(){return clone$9(r.style)},oe.prototype.getDefaultShape=function(){return clone$9(r.shape)},oe}(n);for(var L in r)typeof r[L]=="function"&&($.prototype[L]=r[L]);return $},n.initDefaultProps=function(){var r=n.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=REDRAW_BIT$1|STYLE_CHANGED_BIT$1|SHAPE_CHANGED_BIT$1}(),n}(Displayable$3);const Path$3=Path$2;var DEFAULT_TSPAN_STYLE$1=defaults$7({strokeFirst:!0,font:DEFAULT_FONT$1,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE$1),TSpan$2=function(g){__extends$1(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.hasStroke=function(){var r=this.style,$=r.stroke;return $!=null&&$!=="none"&&r.lineWidth>0},n.prototype.hasFill=function(){var r=this.style,$=r.fill;return $!=null&&$!=="none"},n.prototype.createStyle=function(r){return createObject$1(DEFAULT_TSPAN_STYLE$1,r)},n.prototype.setBoundingRect=function(r){this._rect=r},n.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var $=r.text;$!=null?$+="":$="";var L=getBoundingRect$1($,r.font,r.textAlign,r.textBaseline);if(L.x+=r.x||0,L.y+=r.y||0,this.hasStroke()){var V=r.lineWidth;L.x-=V/2,L.y-=V/2,L.width+=V,L.height+=V}this._rect=L}return this._rect},n.initDefaultProps=function(){var r=n.prototype;r.dirtyRectTolerance=10}(),n}(Displayable$3);TSpan$2.prototype.type="tspan";const TSpan$3=TSpan$2;var DEFAULT_IMAGE_STYLE$1=defaults$7({x:0,y:0},DEFAULT_COMMON_STYLE$1),DEFAULT_IMAGE_ANIMATION_PROPS$1={style:defaults$7({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS$1.style)};function isImageLike$3(g){return!!(g&&typeof g!="string"&&g.width&&g.height)}var ZRImage$2=function(g){__extends$1(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.createStyle=function(r){return createObject$1(DEFAULT_IMAGE_STYLE$1,r)},n.prototype._getSize=function(r){var $=this.style,L=$[r];if(L!=null)return L;var V=isImageLike$3($.image)?$.image:this.__image;if(!V)return 0;var oe=r==="width"?"height":"width",ae=$[oe];return ae==null?V[r]:V[r]/V[oe]*ae},n.prototype.getWidth=function(){return this._getSize("width")},n.prototype.getHeight=function(){return this._getSize("height")},n.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS$1},n.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new BoundingRect$3(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},n}(Displayable$3);ZRImage$2.prototype.type="image";const ZRImage$3=ZRImage$2;function buildPath$5(g,n){var r=n.x,$=n.y,L=n.width,V=n.height,oe=n.r,ae,re,le,ue;L<0&&(r=r+L,L=-L),V<0&&($=$+V,V=-V),typeof oe=="number"?ae=re=le=ue=oe:oe instanceof Array?oe.length===1?ae=re=le=ue=oe[0]:oe.length===2?(ae=le=oe[0],re=ue=oe[1]):oe.length===3?(ae=oe[0],re=ue=oe[1],le=oe[2]):(ae=oe[0],re=oe[1],le=oe[2],ue=oe[3]):ae=re=le=ue=0;var de;ae+re>L&&(de=ae+re,ae*=L/de,re*=L/de),le+ue>L&&(de=le+ue,le*=L/de,ue*=L/de),re+le>V&&(de=re+le,re*=V/de,le*=V/de),ae+ue>V&&(de=ae+ue,ae*=V/de,ue*=V/de),g.moveTo(r+ae,$),g.lineTo(r+L-re,$),re!==0&&g.arc(r+L-re,$+re,re,-Math.PI/2,0),g.lineTo(r+L,$+V-le),le!==0&&g.arc(r+L-le,$+V-le,le,0,Math.PI/2),g.lineTo(r+ue,$+V),ue!==0&&g.arc(r+ue,$+V-ue,ue,Math.PI/2,Math.PI),g.lineTo(r,$+ae),ae!==0&&g.arc(r+ae,$+ae,ae,Math.PI,Math.PI*1.5)}var round$6=Math.round;function subPixelOptimizeLine$3(g,n,r){if(n){var $=n.x1,L=n.x2,V=n.y1,oe=n.y2;g.x1=$,g.x2=L,g.y1=V,g.y2=oe;var ae=r&&r.lineWidth;return ae&&(round$6($*2)===round$6(L*2)&&(g.x1=g.x2=subPixelOptimize$3($,ae,!0)),round$6(V*2)===round$6(oe*2)&&(g.y1=g.y2=subPixelOptimize$3(V,ae,!0))),g}}function subPixelOptimizeRect$3(g,n,r){if(n){var $=n.x,L=n.y,V=n.width,oe=n.height;g.x=$,g.y=L,g.width=V,g.height=oe;var ae=r&&r.lineWidth;return ae&&(g.x=subPixelOptimize$3($,ae,!0),g.y=subPixelOptimize$3(L,ae,!0),g.width=Math.max(subPixelOptimize$3($+V,ae,!1)-g.x,V===0?0:1),g.height=Math.max(subPixelOptimize$3(L+oe,ae,!1)-g.y,oe===0?0:1)),g}}function subPixelOptimize$3(g,n,r){if(!n)return g;var $=round$6(g*2);return($+round$6(n))%2===0?$/2:($+(r?1:-1))/2}var RectShape$1=function(){function g(){this.x=0,this.y=0,this.width=0,this.height=0}return g}(),subPixelOptimizeOutputShape$3={},Rect$6=function(g){__extends$1(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new RectShape$1},n.prototype.buildPath=function(r,$){var L,V,oe,ae;if(this.subPixelOptimize){var re=subPixelOptimizeRect$3(subPixelOptimizeOutputShape$3,$,this.style);L=re.x,V=re.y,oe=re.width,ae=re.height,re.r=$.r,$=re}else L=$.x,V=$.y,oe=$.width,ae=$.height;$.r?buildPath$5(r,$):r.rect(L,V,oe,ae)},n.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},n}(Path$3);Rect$6.prototype.type="rect";const Rect$7=Rect$6;var DEFAULT_RICH_TEXT_COLOR$1={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH$1=2,DEFAULT_TEXT_ANIMATION_PROPS$1={style:defaults$7({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS$1.style)},ZRText$2=function(g){__extends$1(n,g);function n(r){var $=g.call(this)||this;return $.type="text",$._children=[],$._defaultStyle=DEFAULT_RICH_TEXT_COLOR$1,$.attr(r),$}return n.prototype.childrenRef=function(){return this._children},n.prototype.update=function(){g.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var $=this._children[r];$.zlevel=this.zlevel,$.z=this.z,$.z2=this.z2,$.culling=this.culling,$.cursor=this.cursor,$.invisible=this.invisible}},n.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):g.prototype.updateTransform.call(this)},n.prototype.getLocalTransform=function(r){var $=this.innerTransformable;return $?$.getLocalTransform(r):g.prototype.getLocalTransform.call(this,r)},n.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),g.prototype.getComputedTransform.call(this)},n.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle$1(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},n.prototype.addSelfToZr=function(r){g.prototype.addSelfToZr.call(this,r);for(var $=0;$<this._children.length;$++)this._children[$].__zr=r},n.prototype.removeSelfFromZr=function(r){g.prototype.removeSelfFromZr.call(this,r);for(var $=0;$<this._children.length;$++)this._children[$].__zr=null},n.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new BoundingRect$3(0,0,0,0),$=this._children,L=[],V=null,oe=0;oe<$.length;oe++){var ae=$[oe],re=ae.getBoundingRect(),le=ae.getLocalTransform(L);le?(r.copy(re),r.applyTransform(le),V=V||r.clone(),V.union(r)):(V=V||re.clone(),V.union(re))}this._rect=V||r}return this._rect},n.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||DEFAULT_RICH_TEXT_COLOR$1},n.prototype.setTextContent=function(r){},n.prototype._mergeStyle=function(r,$){if(!$)return r;var L=$.rich,V=r.rich||L&&{};return extend$4(r,$),L&&V?(this._mergeRich(V,L),r.rich=V):V&&(r.rich=V),r},n.prototype._mergeRich=function(r,$){for(var L=keys$2($),V=0;V<L.length;V++){var oe=L[V];r[oe]=r[oe]||{},extend$4(r[oe],$[oe])}},n.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS$1},n.prototype._getOrCreateChild=function(r){var $=this._children[this._childCursor];return(!$||!($ instanceof r))&&($=new r),this._children[this._childCursor++]=$,$.__zr=this.__zr,$.parent=this,$},n.prototype._updatePlainTexts=function(){var r=this.style,$=r.font||DEFAULT_FONT$1,L=r.padding,V=getStyleText$1(r),oe=parsePlainText$1(V,r),ae=needDrawBackground$1(r),re=!!r.backgroundColor,le=oe.outerHeight,ue=oe.outerWidth,de=oe.contentWidth,he=oe.lines,pe=oe.lineHeight,_e=this._defaultStyle,$e=r.x||0,xe=r.y||0,Oe=r.align||_e.align||"left",Ce=r.verticalAlign||_e.verticalAlign||"top",Ie=$e,Ne=adjustTextY$2(xe,oe.contentHeight,Ce);if(ae||L){var ze=adjustTextX$1($e,ue,Oe),Fe=adjustTextY$2(xe,le,Ce);ae&&this._renderBackground(r,r,ze,Fe,ue,le)}Ne+=pe/2,L&&(Ie=getTextXForPadding$1($e,Oe,L),Ce==="top"?Ne+=L[0]:Ce==="bottom"&&(Ne-=L[2]));for(var Ue=0,At=!1,Et=getFill$1("fill"in r?r.fill:(At=!0,_e.fill)),Pt=getStroke$1("stroke"in r?r.stroke:!re&&(!_e.autoStroke||At)?(Ue=DEFAULT_STROKE_LINE_WIDTH$1,_e.stroke):null),kt=r.textShadowBlur>0,Dt=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),Lt=oe.calculatedLineHeight,hn=0;hn<he.length;hn++){var vn=this._getOrCreateChild(TSpan$3),_n=vn.createStyle();vn.useStyle(_n),_n.text=he[hn],_n.x=Ie,_n.y=Ne,Oe&&(_n.textAlign=Oe),_n.textBaseline="middle",_n.opacity=r.opacity,_n.strokeFirst=!0,kt&&(_n.shadowBlur=r.textShadowBlur||0,_n.shadowColor=r.textShadowColor||"transparent",_n.shadowOffsetX=r.textShadowOffsetX||0,_n.shadowOffsetY=r.textShadowOffsetY||0),_n.stroke=Pt,_n.fill=Et,Pt&&(_n.lineWidth=r.lineWidth||Ue,_n.lineDash=r.lineDash,_n.lineDashOffset=r.lineDashOffset||0),_n.font=$,setSeparateFont$1(_n,r),Ne+=pe,Dt&&vn.setBoundingRect(new BoundingRect$3(adjustTextX$1(_n.x,r.width,_n.textAlign),adjustTextY$2(_n.y,Lt,_n.textBaseline),de,Lt))}},n.prototype._updateRichTexts=function(){var r=this.style,$=getStyleText$1(r),L=parseRichText$1($,r),V=L.width,oe=L.outerWidth,ae=L.outerHeight,re=r.padding,le=r.x||0,ue=r.y||0,de=this._defaultStyle,he=r.align||de.align,pe=r.verticalAlign||de.verticalAlign,_e=adjustTextX$1(le,oe,he),$e=adjustTextY$2(ue,ae,pe),xe=_e,Oe=$e;re&&(xe+=re[3],Oe+=re[0]);var Ce=xe+V;needDrawBackground$1(r)&&this._renderBackground(r,r,_e,$e,oe,ae);for(var Ie=!!r.backgroundColor,Ne=0;Ne<L.lines.length;Ne++){for(var ze=L.lines[Ne],Fe=ze.tokens,Ue=Fe.length,At=ze.lineHeight,Et=ze.width,Pt=0,kt=xe,Dt=Ce,Lt=Ue-1,hn=void 0;Pt<Ue&&(hn=Fe[Pt],!hn.align||hn.align==="left");)this._placeToken(hn,r,At,Oe,kt,"left",Ie),Et-=hn.width,kt+=hn.width,Pt++;for(;Lt>=0&&(hn=Fe[Lt],hn.align==="right");)this._placeToken(hn,r,At,Oe,Dt,"right",Ie),Et-=hn.width,Dt-=hn.width,Lt--;for(kt+=(V-(kt-xe)-(Ce-Dt)-Et)/2;Pt<=Lt;)hn=Fe[Pt],this._placeToken(hn,r,At,Oe,kt+hn.width/2,"center",Ie),kt+=hn.width,Pt++;Oe+=At}},n.prototype._placeToken=function(r,$,L,V,oe,ae,re){var le=$.rich[r.styleName]||{};le.text=r.text;var ue=r.verticalAlign,de=V+L/2;ue==="top"?de=V+r.height/2:ue==="bottom"&&(de=V+L-r.height/2);var he=!r.isLineHolder&&needDrawBackground$1(le);he&&this._renderBackground(le,$,ae==="right"?oe-r.width:ae==="center"?oe-r.width/2:oe,de-r.height/2,r.width,r.height);var pe=!!le.backgroundColor,_e=r.textPadding;_e&&(oe=getTextXForPadding$1(oe,ae,_e),de-=r.height/2-_e[0]-r.innerHeight/2);var $e=this._getOrCreateChild(TSpan$3),xe=$e.createStyle();$e.useStyle(xe);var Oe=this._defaultStyle,Ce=!1,Ie=0,Ne=getFill$1("fill"in le?le.fill:"fill"in $?$.fill:(Ce=!0,Oe.fill)),ze=getStroke$1("stroke"in le?le.stroke:"stroke"in $?$.stroke:!pe&&!re&&(!Oe.autoStroke||Ce)?(Ie=DEFAULT_STROKE_LINE_WIDTH$1,Oe.stroke):null),Fe=le.textShadowBlur>0||$.textShadowBlur>0;xe.text=r.text,xe.x=oe,xe.y=de,Fe&&(xe.shadowBlur=le.textShadowBlur||$.textShadowBlur||0,xe.shadowColor=le.textShadowColor||$.textShadowColor||"transparent",xe.shadowOffsetX=le.textShadowOffsetX||$.textShadowOffsetX||0,xe.shadowOffsetY=le.textShadowOffsetY||$.textShadowOffsetY||0),xe.textAlign=ae,xe.textBaseline="middle",xe.font=r.font||DEFAULT_FONT$1,xe.opacity=retrieve3$1(le.opacity,$.opacity,1),setSeparateFont$1(xe,le),ze&&(xe.lineWidth=retrieve3$1(le.lineWidth,$.lineWidth,Ie),xe.lineDash=retrieve2$1(le.lineDash,$.lineDash),xe.lineDashOffset=$.lineDashOffset||0,xe.stroke=ze),Ne&&(xe.fill=Ne);var Ue=r.contentWidth,At=r.contentHeight;$e.setBoundingRect(new BoundingRect$3(adjustTextX$1(xe.x,Ue,xe.textAlign),adjustTextY$2(xe.y,At,xe.textBaseline),Ue,At))},n.prototype._renderBackground=function(r,$,L,V,oe,ae){var re=r.backgroundColor,le=r.borderWidth,ue=r.borderColor,de=re&&re.image,he=re&&!de,pe=r.borderRadius,_e=this,$e,xe;if(he||r.lineHeight||le&&ue){$e=this._getOrCreateChild(Rect$7),$e.useStyle($e.createStyle()),$e.style.fill=null;var Oe=$e.shape;Oe.x=L,Oe.y=V,Oe.width=oe,Oe.height=ae,Oe.r=pe,$e.dirtyShape()}if(he){var Ce=$e.style;Ce.fill=re||null,Ce.fillOpacity=retrieve2$1(r.fillOpacity,1)}else if(de){xe=this._getOrCreateChild(ZRImage$3),xe.onload=function(){_e.dirtyStyle()};var Ie=xe.style;Ie.image=re.image,Ie.x=L,Ie.y=V,Ie.width=oe,Ie.height=ae}if(le&&ue){var Ce=$e.style;Ce.lineWidth=le,Ce.stroke=ue,Ce.strokeOpacity=retrieve2$1(r.strokeOpacity,1),Ce.lineDash=r.borderDash,Ce.lineDashOffset=r.borderDashOffset||0,$e.strokeContainThreshold=0,$e.hasFill()&&$e.hasStroke()&&(Ce.strokeFirst=!0,Ce.lineWidth*=2)}var Ne=($e||xe).style;Ne.shadowBlur=r.shadowBlur||0,Ne.shadowColor=r.shadowColor||"transparent",Ne.shadowOffsetX=r.shadowOffsetX||0,Ne.shadowOffsetY=r.shadowOffsetY||0,Ne.opacity=retrieve3$1(r.opacity,$.opacity,1)},n.makeFont=function(r){var $="";return hasSeparateFont$1(r)&&($=[r.fontStyle,r.fontWeight,parseFontSize$1(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),$&&trim$5($)||r.textFont||r.font},n}(Displayable$3),VALID_TEXT_ALIGN$1={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN$1={top:1,bottom:1,middle:1},FONT_PARTS$1=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize$1(g){return typeof g=="string"&&(g.indexOf("px")!==-1||g.indexOf("rem")!==-1||g.indexOf("em")!==-1)?g:isNaN(+g)?DEFAULT_FONT_SIZE$1+"px":g+"px"}function setSeparateFont$1(g,n){for(var r=0;r<FONT_PARTS$1.length;r++){var $=FONT_PARTS$1[r],L=n[$];L!=null&&(g[$]=L)}}function hasSeparateFont$1(g){return g.fontSize!=null||g.fontFamily||g.fontWeight}function normalizeTextStyle$1(g){return normalizeStyle$1(g),each$v(g.rich,normalizeStyle$1),g}function normalizeStyle$1(g){if(g){g.font=ZRText$2.makeFont(g);var n=g.align;n==="middle"&&(n="center"),g.align=n==null||VALID_TEXT_ALIGN$1[n]?n:"left";var r=g.verticalAlign;r==="center"&&(r="middle"),g.verticalAlign=r==null||VALID_TEXT_VERTICAL_ALIGN$1[r]?r:"top";var $=g.padding;$&&(g.padding=normalizeCssArray$3(g.padding))}}function getStroke$1(g,n){return g==null||n<=0||g==="transparent"||g==="none"?null:g.image||g.colorStops?"#000":g}function getFill$1(g){return g==null||g==="none"?null:g.image||g.colorStops?"#000":g}function getTextXForPadding$1(g,n,r){return n==="right"?g-r[1]:n==="center"?g+r[3]/2-r[1]/2:g+r[3]}function getStyleText$1(g){var n=g.text;return n!=null&&(n+=""),n}function needDrawBackground$1(g){return!!(g.backgroundColor||g.lineHeight||g.borderWidth&&g.borderColor)}const ZRText$3=ZRText$2;var getECData$1=makeInner$1(),setCommonECData$1=function(g,n,r,$){if($){var L=getECData$1($);L.dataIndex=r,L.dataType=n,L.seriesIndex=g,$.type==="group"&&$.traverse(function(V){var oe=getECData$1(V);oe.seriesIndex=g,oe.dataIndex=r,oe.dataType=n})}},_highlightNextDigit$1=1,_highlightKeyMap$1={},getSavedStates$1=makeInner$1(),getComponentStates$1=makeInner$1(),HOVER_STATE_NORMAL$1=0,HOVER_STATE_BLUR$1=1,HOVER_STATE_EMPHASIS$1=2,SPECIAL_STATES$1=["emphasis","blur","select"],DISPLAY_STATES$1=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT$1=10,Z2_SELECT_LIFT$1=9,HIGHLIGHT_ACTION_TYPE$1="highlight",DOWNPLAY_ACTION_TYPE$1="downplay",SELECT_ACTION_TYPE$1="select",UNSELECT_ACTION_TYPE$1="unselect",TOGGLE_SELECT_ACTION_TYPE$1="toggleSelect";function hasFillOrStroke$1(g){return g!=null&&g!=="none"}var liftedColorCache$1=new LRU$3(100);function liftColor$1(g){if(isString$3(g)){var n=liftedColorCache$1.get(g);return n||(n=lift$1(g,-.1),liftedColorCache$1.put(g,n)),n}else if(isGradientObject$1(g)){var r=extend$4({},g);return r.colorStops=map$3(g.colorStops,function($){return{offset:$.offset,color:lift$1($.color,-.1)}}),r}return g}function doChangeHoverState$1(g,n,r){g.onHoverStateChange&&(g.hoverState||0)!==r&&g.onHoverStateChange(n),g.hoverState=r}function singleEnterEmphasis$1(g){doChangeHoverState$1(g,"emphasis",HOVER_STATE_EMPHASIS$1)}function singleLeaveEmphasis$1(g){g.hoverState===HOVER_STATE_EMPHASIS$1&&doChangeHoverState$1(g,"normal",HOVER_STATE_NORMAL$1)}function singleEnterBlur$1(g){doChangeHoverState$1(g,"blur",HOVER_STATE_BLUR$1)}function singleLeaveBlur$1(g){g.hoverState===HOVER_STATE_BLUR$1&&doChangeHoverState$1(g,"normal",HOVER_STATE_NORMAL$1)}function singleEnterSelect$1(g){g.selected=!0}function singleLeaveSelect$1(g){g.selected=!1}function updateElementState$1(g,n,r){n(g,r)}function traverseUpdateState$1(g,n,r){updateElementState$1(g,n,r),g.isGroup&&g.traverse(function($){updateElementState$1($,n,r)})}function setStatesFlag$1(g,n){switch(n){case"emphasis":g.hoverState=HOVER_STATE_EMPHASIS$1;break;case"normal":g.hoverState=HOVER_STATE_NORMAL$1;break;case"blur":g.hoverState=HOVER_STATE_BLUR$1;break;case"select":g.selected=!0}}function getFromStateStyle$1(g,n,r,$){for(var L=g.style,V={},oe=0;oe<n.length;oe++){var ae=n[oe],re=L[ae];V[ae]=re!=null?re:$&&$[ae]}for(var oe=0;oe<g.animators.length;oe++){var le=g.animators[oe];le.__fromStateTransition&&le.__fromStateTransition.indexOf(r)<0&&le.targetName==="style"&&le.saveTo(V,n)}return V}function createEmphasisDefaultState$1(g,n,r,$){var L=r&&indexOf$1(r,"select")>=0,V=!1;if(g instanceof Path$3){var oe=getSavedStates$1(g),ae=L&&oe.selectFill||oe.normalFill,re=L&&oe.selectStroke||oe.normalStroke;if(hasFillOrStroke$1(ae)||hasFillOrStroke$1(re)){$=$||{};var le=$.style||{};le.fill==="inherit"?(V=!0,$=extend$4({},$),le=extend$4({},le),le.fill=ae):!hasFillOrStroke$1(le.fill)&&hasFillOrStroke$1(ae)?(V=!0,$=extend$4({},$),le=extend$4({},le),le.fill=liftColor$1(ae)):!hasFillOrStroke$1(le.stroke)&&hasFillOrStroke$1(re)&&(V||($=extend$4({},$),le=extend$4({},le)),le.stroke=liftColor$1(re)),$.style=le}}if($&&$.z2==null){V||($=extend$4({},$));var ue=g.z2EmphasisLift;$.z2=g.z2+(ue!=null?ue:Z2_EMPHASIS_LIFT$1)}return $}function createSelectDefaultState$1(g,n,r){if(r&&r.z2==null){r=extend$4({},r);var $=g.z2SelectLift;r.z2=g.z2+($!=null?$:Z2_SELECT_LIFT$1)}return r}function createBlurDefaultState$1(g,n,r){var $=indexOf$1(g.currentStates,n)>=0,L=g.style.opacity,V=$?null:getFromStateStyle$1(g,["opacity"],n,{opacity:1});r=r||{};var oe=r.style||{};return oe.opacity==null&&(r=extend$4({},r),oe=extend$4({opacity:$?L:V.opacity*.1},oe),r.style=oe),r}function elementStateProxy$1(g,n){var r=this.states[g];if(this.style){if(g==="emphasis")return createEmphasisDefaultState$1(this,g,n,r);if(g==="blur")return createBlurDefaultState$1(this,g,r);if(g==="select")return createSelectDefaultState$1(this,g,r)}return r}function setDefaultStateProxy$1(g){g.stateProxy=elementStateProxy$1;var n=g.getTextContent(),r=g.getTextGuideLine();n&&(n.stateProxy=elementStateProxy$1),r&&(r.stateProxy=elementStateProxy$1)}function enterEmphasisWhenMouseOver$1(g,n){!shouldSilent$1(g,n)&&!g.__highByOuter&&traverseUpdateState$1(g,singleEnterEmphasis$1)}function leaveEmphasisWhenMouseOut$1(g,n){!shouldSilent$1(g,n)&&!g.__highByOuter&&traverseUpdateState$1(g,singleLeaveEmphasis$1)}function enterEmphasis$1(g,n){g.__highByOuter|=1<<(n||0),traverseUpdateState$1(g,singleEnterEmphasis$1)}function leaveEmphasis$1(g,n){!(g.__highByOuter&=~(1<<(n||0)))&&traverseUpdateState$1(g,singleLeaveEmphasis$1)}function enterBlur$1(g){traverseUpdateState$1(g,singleEnterBlur$1)}function leaveBlur$1(g){traverseUpdateState$1(g,singleLeaveBlur$1)}function enterSelect$1(g){traverseUpdateState$1(g,singleEnterSelect$1)}function leaveSelect$1(g){traverseUpdateState$1(g,singleLeaveSelect$1)}function shouldSilent$1(g,n){return g.__highDownSilentOnTouch&&n.zrByTouch}function allLeaveBlur$1(g){var n=g.getModel(),r=[],$=[];n.eachComponent(function(L,V){var oe=getComponentStates$1(V),ae=L==="series",re=ae?g.getViewOfSeriesModel(V):g.getViewOfComponentModel(V);!ae&&$.push(re),oe.isBlured&&(re.group.traverse(function(le){singleLeaveBlur$1(le)}),ae&&r.push(V)),oe.isBlured=!1}),each$v($,function(L){L&&L.toggleBlurSeries&&L.toggleBlurSeries(r,!1,n)})}function blurSeries$1(g,n,r,$){var L=$.getModel();r=r||"coordinateSystem";function V(le,ue){for(var de=0;de<ue.length;de++){var he=le.getItemGraphicEl(ue[de]);he&&leaveBlur$1(he)}}if(g!=null&&!(!n||n==="none")){var oe=L.getSeriesByIndex(g),ae=oe.coordinateSystem;ae&&ae.master&&(ae=ae.master);var re=[];L.eachSeries(function(le){var ue=oe===le,de=le.coordinateSystem;de&&de.master&&(de=de.master);var he=de&&ae?de===ae:ue;if(!(r==="series"&&!ue||r==="coordinateSystem"&&!he||n==="series"&&ue)){var pe=$.getViewOfSeriesModel(le);if(pe.group.traverse(function(xe){singleEnterBlur$1(xe)}),isArrayLike$1(n))V(le.getData(),n);else if(isObject$9(n))for(var _e=keys$2(n),$e=0;$e<_e.length;$e++)V(le.getData(_e[$e]),n[_e[$e]]);re.push(le),getComponentStates$1(le).isBlured=!0}}),L.eachComponent(function(le,ue){if(le!=="series"){var de=$.getViewOfComponentModel(ue);de&&de.toggleBlurSeries&&de.toggleBlurSeries(re,!0,L)}})}}function blurComponent$1(g,n,r){if(!(g==null||n==null)){var $=r.getModel().getComponent(g,n);if($){getComponentStates$1($).isBlured=!0;var L=r.getViewOfComponentModel($);!L||!L.focusBlurEnabled||L.group.traverse(function(V){singleEnterBlur$1(V)})}}}function blurSeriesFromHighlightPayload$1(g,n,r){var $=g.seriesIndex,L=g.getData(n.dataType);if(L){var V=queryDataIndex$1(L,n);V=(isArray$6(V)?V[0]:V)||0;var oe=L.getItemGraphicEl(V);if(!oe)for(var ae=L.count(),re=0;!oe&&re<ae;)oe=L.getItemGraphicEl(re++);if(oe){var le=getECData$1(oe);blurSeries$1($,le.focus,le.blurScope,r)}else{var ue=g.get(["emphasis","focus"]),de=g.get(["emphasis","blurScope"]);ue!=null&&blurSeries$1($,ue,de,r)}}}function findComponentHighDownDispatchers$1(g,n,r,$){var L={focusSelf:!1,dispatchers:null};if(g==null||g==="series"||n==null||r==null)return L;var V=$.getModel().getComponent(g,n);if(!V)return L;var oe=$.getViewOfComponentModel(V);if(!oe||!oe.findHighDownDispatchers)return L;for(var ae=oe.findHighDownDispatchers(r),re,le=0;le<ae.length;le++)if(getECData$1(ae[le]).focus==="self"){re=!0;break}return{focusSelf:re,dispatchers:ae}}function handleGlobalMouseOverForHighDown$1(g,n,r){var $=getECData$1(g),L=findComponentHighDownDispatchers$1($.componentMainType,$.componentIndex,$.componentHighDownName,r),V=L.dispatchers,oe=L.focusSelf;V?(oe&&blurComponent$1($.componentMainType,$.componentIndex,r),each$v(V,function(ae){return enterEmphasisWhenMouseOver$1(ae,n)})):(blurSeries$1($.seriesIndex,$.focus,$.blurScope,r),$.focus==="self"&&blurComponent$1($.componentMainType,$.componentIndex,r),enterEmphasisWhenMouseOver$1(g,n))}function handleGlobalMouseOutForHighDown$1(g,n,r){allLeaveBlur$1(r);var $=getECData$1(g),L=findComponentHighDownDispatchers$1($.componentMainType,$.componentIndex,$.componentHighDownName,r).dispatchers;L?each$v(L,function(V){return leaveEmphasisWhenMouseOut$1(V,n)}):leaveEmphasisWhenMouseOut$1(g,n)}function toggleSelectionFromPayload$1(g,n,r){if(isSelectChangePayload$1(n)){var $=n.dataType,L=g.getData($),V=queryDataIndex$1(L,n);isArray$6(V)||(V=[V]),g[n.type===TOGGLE_SELECT_ACTION_TYPE$1?"toggleSelect":n.type===SELECT_ACTION_TYPE$1?"select":"unselect"](V,$)}}function updateSeriesElementSelection$1(g){var n=g.getAllData();each$v(n,function(r){var $=r.data,L=r.type;$.eachItemGraphicEl(function(V,oe){g.isSelected(oe,L)?enterSelect$1(V):leaveSelect$1(V)})})}function getAllSelectedIndices$1(g){var n=[];return g.eachSeries(function(r){var $=r.getAllData();each$v($,function(L){L.data;var V=L.type,oe=r.getSelectedDataIndices();if(oe.length>0){var ae={dataIndex:oe,seriesIndex:r.seriesIndex};V!=null&&(ae.dataType=V),n.push(ae)}})}),n}function enableHoverEmphasis$1(g,n,r){setAsHighDownDispatcher$1(g,!0),traverseUpdateState$1(g,setDefaultStateProxy$1),enableHoverFocus$1(g,n,r)}function disableHoverEmphasis$1(g){setAsHighDownDispatcher$1(g,!1)}function toggleHoverEmphasis$1(g,n,r,$){$?disableHoverEmphasis$1(g):enableHoverEmphasis$1(g,n,r)}function enableHoverFocus$1(g,n,r){var $=getECData$1(g);n!=null?($.focus=n,$.blurScope=r):$.focus&&($.focus=null)}var OTHER_STATES$1=["emphasis","blur","select"],defaultStyleGetterMap$1={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel$1(g,n,r,$){r=r||"itemStyle";for(var L=0;L<OTHER_STATES$1.length;L++){var V=OTHER_STATES$1[L],oe=n.getModel([V,r]),ae=g.ensureState(V);ae.style=$?$(oe):oe[defaultStyleGetterMap$1[r]]()}}function setAsHighDownDispatcher$1(g,n){var r=n===!1,$=g;g.highDownSilentOnTouch&&($.__highDownSilentOnTouch=g.highDownSilentOnTouch),(!r||$.__highDownDispatcher)&&($.__highByOuter=$.__highByOuter||0,$.__highDownDispatcher=!r)}function isHighDownDispatcher$1(g){return!!(g&&g.__highDownDispatcher)}function enableComponentHighDownFeatures$1(g,n,r){var $=getECData$1(g);$.componentMainType=n.mainType,$.componentIndex=n.componentIndex,$.componentHighDownName=r}function getHighlightDigit$1(g){var n=_highlightKeyMap$1[g];return n==null&&_highlightNextDigit$1<=32&&(n=_highlightKeyMap$1[g]=_highlightNextDigit$1++),n}function isSelectChangePayload$1(g){var n=g.type;return n===SELECT_ACTION_TYPE$1||n===UNSELECT_ACTION_TYPE$1||n===TOGGLE_SELECT_ACTION_TYPE$1}function isHighDownPayload$1(g){var n=g.type;return n===HIGHLIGHT_ACTION_TYPE$1||n===DOWNPLAY_ACTION_TYPE$1}function savePathStates$1(g){var n=getSavedStates$1(g);n.normalFill=g.style.fill,n.normalStroke=g.style.stroke;var r=g.states.select||{};n.selectFill=r.style&&r.style.fill||null,n.selectStroke=r.style&&r.style.stroke||null}var CMD$7=PathProxy$3.CMD,points$5=[[],[],[]],mathSqrt$6=Math.sqrt,mathAtan2$1=Math.atan2;function transformPath$1(g,n){if(n){var r=g.data,$=g.len(),L,V,oe,ae,re,le,ue=CMD$7.M,de=CMD$7.C,he=CMD$7.L,pe=CMD$7.R,_e=CMD$7.A,$e=CMD$7.Q;for(oe=0,ae=0;oe<$;){switch(L=r[oe++],ae=oe,V=0,L){case ue:V=1;break;case he:V=1;break;case de:V=3;break;case $e:V=2;break;case _e:var xe=n[4],Oe=n[5],Ce=mathSqrt$6(n[0]*n[0]+n[1]*n[1]),Ie=mathSqrt$6(n[2]*n[2]+n[3]*n[3]),Ne=mathAtan2$1(-n[1]/Ie,n[0]/Ce);r[oe]*=Ce,r[oe++]+=xe,r[oe]*=Ie,r[oe++]+=Oe,r[oe++]*=Ce,r[oe++]*=Ie,r[oe++]+=Ne,r[oe++]+=Ne,oe+=2,ae=oe;break;case pe:le[0]=r[oe++],le[1]=r[oe++],applyTransform$3(le,le,n),r[ae++]=le[0],r[ae++]=le[1],le[0]+=r[oe++],le[1]+=r[oe++],applyTransform$3(le,le,n),r[ae++]=le[0],r[ae++]=le[1]}for(re=0;re<V;re++){var ze=points$5[re];ze[0]=r[oe++],ze[1]=r[oe++],applyTransform$3(ze,ze,n),r[ae++]=ze[0],r[ae++]=ze[1]}}g.increaseVersion()}}var mathSqrt$5=Math.sqrt,mathSin$7=Math.sin,mathCos$7=Math.cos,PI$g=Math.PI;function vMag$1(g){return Math.sqrt(g[0]*g[0]+g[1]*g[1])}function vRatio$1(g,n){return(g[0]*n[0]+g[1]*n[1])/(vMag$1(g)*vMag$1(n))}function vAngle$1(g,n){return(g[0]*n[1]<g[1]*n[0]?-1:1)*Math.acos(vRatio$1(g,n))}function processArc$1(g,n,r,$,L,V,oe,ae,re,le,ue){var de=re*(PI$g/180),he=mathCos$7(de)*(g-r)/2+mathSin$7(de)*(n-$)/2,pe=-1*mathSin$7(de)*(g-r)/2+mathCos$7(de)*(n-$)/2,_e=he*he/(oe*oe)+pe*pe/(ae*ae);_e>1&&(oe*=mathSqrt$5(_e),ae*=mathSqrt$5(_e));var $e=(L===V?-1:1)*mathSqrt$5((oe*oe*(ae*ae)-oe*oe*(pe*pe)-ae*ae*(he*he))/(oe*oe*(pe*pe)+ae*ae*(he*he)))||0,xe=$e*oe*pe/ae,Oe=$e*-ae*he/oe,Ce=(g+r)/2+mathCos$7(de)*xe-mathSin$7(de)*Oe,Ie=(n+$)/2+mathSin$7(de)*xe+mathCos$7(de)*Oe,Ne=vAngle$1([1,0],[(he-xe)/oe,(pe-Oe)/ae]),ze=[(he-xe)/oe,(pe-Oe)/ae],Fe=[(-1*he-xe)/oe,(-1*pe-Oe)/ae],Ue=vAngle$1(ze,Fe);if(vRatio$1(ze,Fe)<=-1&&(Ue=PI$g),vRatio$1(ze,Fe)>=1&&(Ue=0),Ue<0){var At=Math.round(Ue/PI$g*1e6)/1e6;Ue=PI$g*2+At%2*PI$g}ue.addData(le,Ce,Ie,oe,ae,Ne,Ue,de,V)}var commandReg$1=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg$3=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString$1(g){var n=new PathProxy$3;if(!g)return n;var r=0,$=0,L=r,V=$,oe,ae=PathProxy$3.CMD,re=g.match(commandReg$1);if(!re)return n;for(var le=0;le<re.length;le++){for(var ue=re[le],de=ue.charAt(0),he=void 0,pe=ue.match(numberReg$3)||[],_e=pe.length,$e=0;$e<_e;$e++)pe[$e]=parseFloat(pe[$e]);for(var xe=0;xe<_e;){var Oe=void 0,Ce=void 0,Ie=void 0,Ne=void 0,ze=void 0,Fe=void 0,Ue=void 0,At=r,Et=$,Pt=void 0,kt=void 0;switch(de){case"l":r+=pe[xe++],$+=pe[xe++],he=ae.L,n.addData(he,r,$);break;case"L":r=pe[xe++],$=pe[xe++],he=ae.L,n.addData(he,r,$);break;case"m":r+=pe[xe++],$+=pe[xe++],he=ae.M,n.addData(he,r,$),L=r,V=$,de="l";break;case"M":r=pe[xe++],$=pe[xe++],he=ae.M,n.addData(he,r,$),L=r,V=$,de="L";break;case"h":r+=pe[xe++],he=ae.L,n.addData(he,r,$);break;case"H":r=pe[xe++],he=ae.L,n.addData(he,r,$);break;case"v":$+=pe[xe++],he=ae.L,n.addData(he,r,$);break;case"V":$=pe[xe++],he=ae.L,n.addData(he,r,$);break;case"C":he=ae.C,n.addData(he,pe[xe++],pe[xe++],pe[xe++],pe[xe++],pe[xe++],pe[xe++]),r=pe[xe-2],$=pe[xe-1];break;case"c":he=ae.C,n.addData(he,pe[xe++]+r,pe[xe++]+$,pe[xe++]+r,pe[xe++]+$,pe[xe++]+r,pe[xe++]+$),r+=pe[xe-2],$+=pe[xe-1];break;case"S":Oe=r,Ce=$,Pt=n.len(),kt=n.data,oe===ae.C&&(Oe+=r-kt[Pt-4],Ce+=$-kt[Pt-3]),he=ae.C,At=pe[xe++],Et=pe[xe++],r=pe[xe++],$=pe[xe++],n.addData(he,Oe,Ce,At,Et,r,$);break;case"s":Oe=r,Ce=$,Pt=n.len(),kt=n.data,oe===ae.C&&(Oe+=r-kt[Pt-4],Ce+=$-kt[Pt-3]),he=ae.C,At=r+pe[xe++],Et=$+pe[xe++],r+=pe[xe++],$+=pe[xe++],n.addData(he,Oe,Ce,At,Et,r,$);break;case"Q":At=pe[xe++],Et=pe[xe++],r=pe[xe++],$=pe[xe++],he=ae.Q,n.addData(he,At,Et,r,$);break;case"q":At=pe[xe++]+r,Et=pe[xe++]+$,r+=pe[xe++],$+=pe[xe++],he=ae.Q,n.addData(he,At,Et,r,$);break;case"T":Oe=r,Ce=$,Pt=n.len(),kt=n.data,oe===ae.Q&&(Oe+=r-kt[Pt-4],Ce+=$-kt[Pt-3]),r=pe[xe++],$=pe[xe++],he=ae.Q,n.addData(he,Oe,Ce,r,$);break;case"t":Oe=r,Ce=$,Pt=n.len(),kt=n.data,oe===ae.Q&&(Oe+=r-kt[Pt-4],Ce+=$-kt[Pt-3]),r+=pe[xe++],$+=pe[xe++],he=ae.Q,n.addData(he,Oe,Ce,r,$);break;case"A":Ie=pe[xe++],Ne=pe[xe++],ze=pe[xe++],Fe=pe[xe++],Ue=pe[xe++],At=r,Et=$,r=pe[xe++],$=pe[xe++],he=ae.A,processArc$1(At,Et,r,$,Fe,Ue,Ie,Ne,ze,he,n);break;case"a":Ie=pe[xe++],Ne=pe[xe++],ze=pe[xe++],Fe=pe[xe++],Ue=pe[xe++],At=r,Et=$,r+=pe[xe++],$+=pe[xe++],he=ae.A,processArc$1(At,Et,r,$,Fe,Ue,Ie,Ne,ze,he,n);break}}(de==="z"||de==="Z")&&(he=ae.Z,n.addData(he),r=L,$=V),oe=he}return n.toStatic(),n}var SVGPath$1=function(g){__extends$1(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.applyTransform=function(r){},n}(Path$3);function isPathProxy$1(g){return g.setData!=null}function createPathOptions$1(g,n){var r=createPathProxyFromString$1(g),$=extend$4({},n);return $.buildPath=function(L){if(isPathProxy$1(L)){L.setData(r.data);var V=L.getContext();V&&L.rebuildPath(V,1)}else{var V=L;r.rebuildPath(V,1)}},$.applyTransform=function(L){transformPath$1(r,L),this.dirtyShape()},$}function createFromString$1(g,n){return new SVGPath$1(createPathOptions$1(g,n))}function extendFromString$1(g,n){var r=createPathOptions$1(g,n),$=function(L){__extends$1(V,L);function V(oe){var ae=L.call(this,oe)||this;return ae.applyTransform=r.applyTransform,ae.buildPath=r.buildPath,ae}return V}(SVGPath$1);return $}function mergePath$3(g,n){for(var r=[],$=g.length,L=0;L<$;L++){var V=g[L];r.push(V.getUpdatedPathProxy(!0))}var oe=new Path$3(n);return oe.createPathProxy(),oe.buildPath=function(ae){if(isPathProxy$1(ae)){ae.appendPath(r);var re=ae.getContext();re&&ae.rebuildPath(re,1)}},oe}function clonePath$1(g,n){n=n||{};var r=new Path$3;return g.shape&&r.setShape(g.shape),r.setStyle(g.style),n.bakeTransform?transformPath$1(r.path,g.getComputedTransform()):n.toLocal?r.setLocalTransform(g.getComputedTransform()):r.copyTransform(g),r.buildPath=g.buildPath,r.applyTransform=r.applyTransform,r.z=g.z,r.z2=g.z2,r.zlevel=g.zlevel,r}var CircleShape$1=function(){function g(){this.cx=0,this.cy=0,this.r=0}return g}(),Circle$2=function(g){__extends$1(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new CircleShape$1},n.prototype.buildPath=function(r,$){r.moveTo($.cx+$.r,$.cy),r.arc($.cx,$.cy,$.r,0,Math.PI*2)},n}(Path$3);Circle$2.prototype.type="circle";const Circle$3=Circle$2;var EllipseShape$1=function(){function g(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return g}(),Ellipse$2=function(g){__extends$1(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new EllipseShape$1},n.prototype.buildPath=function(r,$){var L=.5522848,V=$.cx,oe=$.cy,ae=$.rx,re=$.ry,le=ae*L,ue=re*L;r.moveTo(V-ae,oe),r.bezierCurveTo(V-ae,oe-ue,V-le,oe-re,V,oe-re),r.bezierCurveTo(V+le,oe-re,V+ae,oe-ue,V+ae,oe),r.bezierCurveTo(V+ae,oe+ue,V+le,oe+re,V,oe+re),r.bezierCurveTo(V-le,oe+re,V-ae,oe+ue,V-ae,oe),r.closePath()},n}(Path$3);Ellipse$2.prototype.type="ellipse";const Ellipse$3=Ellipse$2;var PI$f=Math.PI,PI2$c=PI$f*2,mathSin$6=Math.sin,mathCos$6=Math.cos,mathACos$1=Math.acos,mathATan2$1=Math.atan2,mathAbs$4=Math.abs,mathSqrt$4=Math.sqrt,mathMax$i=Math.max,mathMin$i=Math.min,e$1=1e-4;function intersect$1(g,n,r,$,L,V,oe,ae){var re=r-g,le=$-n,ue=oe-L,de=ae-V,he=de*re-ue*le;if(!(he*he<e$1))return he=(ue*(n-V)-de*(g-L))/he,[g+he*re,n+he*le]}function computeCornerTangents$1(g,n,r,$,L,V,oe){var ae=g-r,re=n-$,le=(oe?V:-V)/mathSqrt$4(ae*ae+re*re),ue=le*re,de=-le*ae,he=g+ue,pe=n+de,_e=r+ue,$e=$+de,xe=(he+_e)/2,Oe=(pe+$e)/2,Ce=_e-he,Ie=$e-pe,Ne=Ce*Ce+Ie*Ie,ze=L-V,Fe=he*$e-_e*pe,Ue=(Ie<0?-1:1)*mathSqrt$4(mathMax$i(0,ze*ze*Ne-Fe*Fe)),At=(Fe*Ie-Ce*Ue)/Ne,Et=(-Fe*Ce-Ie*Ue)/Ne,Pt=(Fe*Ie+Ce*Ue)/Ne,kt=(-Fe*Ce+Ie*Ue)/Ne,Dt=At-xe,Lt=Et-Oe,hn=Pt-xe,vn=kt-Oe;return Dt*Dt+Lt*Lt>hn*hn+vn*vn&&(At=Pt,Et=kt),{cx:At,cy:Et,x0:-ue,y0:-de,x1:At*(L/ze-1),y1:Et*(L/ze-1)}}function normalizeCornerRadius$1(g){var n;if(isArray$6(g)){var r=g.length;if(!r)return g;r===1?n=[g[0],g[0],0,0]:r===2?n=[g[0],g[0],g[1],g[1]]:r===3?n=g.concat(g[2]):n=g}else n=[g,g,g,g];return n}function buildPath$4(g,n){var r,$=mathMax$i(n.r,0),L=mathMax$i(n.r0||0,0),V=$>0,oe=L>0;if(!(!V&&!oe)){if(V||($=L,L=0),L>$){var ae=$;$=L,L=ae}var re=n.startAngle,le=n.endAngle;if(!(isNaN(re)||isNaN(le))){var ue=n.cx,de=n.cy,he=!!n.clockwise,pe=mathAbs$4(le-re),_e=pe>PI2$c&&pe%PI2$c;if(_e>e$1&&(pe=_e),!($>e$1))g.moveTo(ue,de);else if(pe>PI2$c-e$1)g.moveTo(ue+$*mathCos$6(re),de+$*mathSin$6(re)),g.arc(ue,de,$,re,le,!he),L>e$1&&(g.moveTo(ue+L*mathCos$6(le),de+L*mathSin$6(le)),g.arc(ue,de,L,le,re,he));else{var $e=void 0,xe=void 0,Oe=void 0,Ce=void 0,Ie=void 0,Ne=void 0,ze=void 0,Fe=void 0,Ue=void 0,At=void 0,Et=void 0,Pt=void 0,kt=void 0,Dt=void 0,Lt=void 0,hn=void 0,vn=$*mathCos$6(re),_n=$*mathSin$6(re),$n=L*mathCos$6(le),Sn=L*mathSin$6(le),xn=pe>e$1;if(xn){var On=n.cornerRadius;On&&(r=normalizeCornerRadius$1(On),$e=r[0],xe=r[1],Oe=r[2],Ce=r[3]);var Cn=mathAbs$4($-L)/2;if(Ie=mathMin$i(Cn,Oe),Ne=mathMin$i(Cn,Ce),ze=mathMin$i(Cn,$e),Fe=mathMin$i(Cn,xe),Et=Ue=mathMax$i(Ie,Ne),Pt=At=mathMax$i(ze,Fe),(Ue>e$1||At>e$1)&&(kt=$*mathCos$6(le),Dt=$*mathSin$6(le),Lt=L*mathCos$6(re),hn=L*mathSin$6(re),pe<PI$f)){var An=intersect$1(vn,_n,Lt,hn,kt,Dt,$n,Sn);if(An){var Rn=vn-An[0],Fn=_n-An[1],Pn=kt-An[0],Un=Dt-An[1],Dn=1/mathSin$6(mathACos$1((Rn*Pn+Fn*Un)/(mathSqrt$4(Rn*Rn+Fn*Fn)*mathSqrt$4(Pn*Pn+Un*Un)))/2),kn=mathSqrt$4(An[0]*An[0]+An[1]*An[1]);Et=mathMin$i(Ue,($-kn)/(Dn+1)),Pt=mathMin$i(At,(L-kn)/(Dn-1))}}}if(!xn)g.moveTo(ue+vn,de+_n);else if(Et>e$1){var Nn=mathMin$i(Oe,Et),Vn=mathMin$i(Ce,Et),Ln=computeCornerTangents$1(Lt,hn,vn,_n,$,Nn,he),Tn=computeCornerTangents$1(kt,Dt,$n,Sn,$,Vn,he);g.moveTo(ue+Ln.cx+Ln.x0,de+Ln.cy+Ln.y0),Et<Ue&&Nn===Vn?g.arc(ue+Ln.cx,de+Ln.cy,Et,mathATan2$1(Ln.y0,Ln.x0),mathATan2$1(Tn.y0,Tn.x0),!he):(Nn>0&&g.arc(ue+Ln.cx,de+Ln.cy,Nn,mathATan2$1(Ln.y0,Ln.x0),mathATan2$1(Ln.y1,Ln.x1),!he),g.arc(ue,de,$,mathATan2$1(Ln.cy+Ln.y1,Ln.cx+Ln.x1),mathATan2$1(Tn.cy+Tn.y1,Tn.cx+Tn.x1),!he),Vn>0&&g.arc(ue+Tn.cx,de+Tn.cy,Vn,mathATan2$1(Tn.y1,Tn.x1),mathATan2$1(Tn.y0,Tn.x0),!he))}else g.moveTo(ue+vn,de+_n),g.arc(ue,de,$,re,le,!he);if(!(L>e$1)||!xn)g.lineTo(ue+$n,de+Sn);else if(Pt>e$1){var Nn=mathMin$i($e,Pt),Vn=mathMin$i(xe,Pt),Ln=computeCornerTangents$1($n,Sn,kt,Dt,L,-Vn,he),Tn=computeCornerTangents$1(vn,_n,Lt,hn,L,-Nn,he);g.lineTo(ue+Ln.cx+Ln.x0,de+Ln.cy+Ln.y0),Pt<At&&Nn===Vn?g.arc(ue+Ln.cx,de+Ln.cy,Pt,mathATan2$1(Ln.y0,Ln.x0),mathATan2$1(Tn.y0,Tn.x0),!he):(Vn>0&&g.arc(ue+Ln.cx,de+Ln.cy,Vn,mathATan2$1(Ln.y0,Ln.x0),mathATan2$1(Ln.y1,Ln.x1),!he),g.arc(ue,de,L,mathATan2$1(Ln.cy+Ln.y1,Ln.cx+Ln.x1),mathATan2$1(Tn.cy+Tn.y1,Tn.cx+Tn.x1),he),Nn>0&&g.arc(ue+Tn.cx,de+Tn.cy,Nn,mathATan2$1(Tn.y1,Tn.x1),mathATan2$1(Tn.y0,Tn.x0),!he))}else g.lineTo(ue+$n,de+Sn),g.arc(ue,de,L,le,re,he)}g.closePath()}}}var SectorShape$1=function(){function g(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return g}(),Sector$2=function(g){__extends$1(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new SectorShape$1},n.prototype.buildPath=function(r,$){buildPath$4(r,$)},n.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},n}(Path$3);Sector$2.prototype.type="sector";const Sector$3=Sector$2;var RingShape$1=function(){function g(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return g}(),Ring$2=function(g){__extends$1(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new RingShape$1},n.prototype.buildPath=function(r,$){var L=$.cx,V=$.cy,oe=Math.PI*2;r.moveTo(L+$.r,V),r.arc(L,V,$.r,0,oe,!1),r.moveTo(L+$.r0,V),r.arc(L,V,$.r0,0,oe,!0)},n}(Path$3);Ring$2.prototype.type="ring";const Ring$3=Ring$2;function smoothBezier$1(g,n,r,$){var L=[],V=[],oe=[],ae=[],re,le,ue,de;if($){ue=[1/0,1/0],de=[-1/0,-1/0];for(var he=0,pe=g.length;he<pe;he++)min$3(ue,ue,g[he]),max$3(de,de,g[he]);min$3(ue,ue,$[0]),max$3(de,de,$[1])}for(var he=0,pe=g.length;he<pe;he++){var _e=g[he];if(r)re=g[he?he-1:pe-1],le=g[(he+1)%pe];else if(he===0||he===pe-1){L.push(clone$8(g[he]));continue}else re=g[he-1],le=g[he+1];sub$1(V,le,re),scale$5(V,V,n);var $e=distance$1(_e,re),xe=distance$1(_e,le),Oe=$e+xe;Oe!==0&&($e/=Oe,xe/=Oe),scale$5(oe,V,-$e),scale$5(ae,V,xe);var Ce=add$2([],_e,oe),Ie=add$2([],_e,ae);$&&(max$3(Ce,Ce,ue),min$3(Ce,Ce,de),max$3(Ie,Ie,ue),min$3(Ie,Ie,de)),L.push(Ce),L.push(Ie)}return r&&L.push(L.shift()),L}function buildPath$3(g,n,r){var $=n.smooth,L=n.points;if(L&&L.length>=2){if($){var V=smoothBezier$1(L,$,r,n.smoothConstraint);g.moveTo(L[0][0],L[0][1]);for(var oe=L.length,ae=0;ae<(r?oe:oe-1);ae++){var re=V[ae*2],le=V[ae*2+1],ue=L[(ae+1)%oe];g.bezierCurveTo(re[0],re[1],le[0],le[1],ue[0],ue[1])}}else{g.moveTo(L[0][0],L[0][1]);for(var ae=1,de=L.length;ae<de;ae++)g.lineTo(L[ae][0],L[ae][1])}r&&g.closePath()}}var PolygonShape$1=function(){function g(){this.points=null,this.smooth=0,this.smoothConstraint=null}return g}(),Polygon$2=function(g){__extends$1(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new PolygonShape$1},n.prototype.buildPath=function(r,$){buildPath$3(r,$,!0)},n}(Path$3);Polygon$2.prototype.type="polygon";const Polygon$3=Polygon$2;var PolylineShape$1=function(){function g(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return g}(),Polyline$6=function(g){__extends$1(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new PolylineShape$1},n.prototype.buildPath=function(r,$){buildPath$3(r,$,!1)},n}(Path$3);Polyline$6.prototype.type="polyline";const Polyline$7=Polyline$6;var subPixelOptimizeOutputShape$2={},LineShape$1=function(){function g(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return g}(),Line$7=function(g){__extends$1(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LineShape$1},n.prototype.buildPath=function(r,$){var L,V,oe,ae;if(this.subPixelOptimize){var re=subPixelOptimizeLine$3(subPixelOptimizeOutputShape$2,$,this.style);L=re.x1,V=re.y1,oe=re.x2,ae=re.y2}else L=$.x1,V=$.y1,oe=$.x2,ae=$.y2;var le=$.percent;le!==0&&(r.moveTo(L,V),le<1&&(oe=L*(1-le)+oe*le,ae=V*(1-le)+ae*le),r.lineTo(oe,ae))},n.prototype.pointAt=function(r){var $=this.shape;return[$.x1*(1-r)+$.x2*r,$.y1*(1-r)+$.y2*r]},n}(Path$3);Line$7.prototype.type="line";const Line$8=Line$7;var out$1=[],BezierCurveShape$1=function(){function g(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return g}();function someVectorAt$1(g,n,r){var $=g.cpx2,L=g.cpy2;return $!=null||L!=null?[(r?cubicDerivativeAt$1:cubicAt$1)(g.x1,g.cpx1,g.cpx2,g.x2,n),(r?cubicDerivativeAt$1:cubicAt$1)(g.y1,g.cpy1,g.cpy2,g.y2,n)]:[(r?quadraticDerivativeAt$1:quadraticAt$3)(g.x1,g.cpx1,g.x2,n),(r?quadraticDerivativeAt$1:quadraticAt$3)(g.y1,g.cpy1,g.y2,n)]}var BezierCurve$2=function(g){__extends$1(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new BezierCurveShape$1},n.prototype.buildPath=function(r,$){var L=$.x1,V=$.y1,oe=$.x2,ae=$.y2,re=$.cpx1,le=$.cpy1,ue=$.cpx2,de=$.cpy2,he=$.percent;he!==0&&(r.moveTo(L,V),ue==null||de==null?(he<1&&(quadraticSubdivide$1(L,re,oe,he,out$1),re=out$1[1],oe=out$1[2],quadraticSubdivide$1(V,le,ae,he,out$1),le=out$1[1],ae=out$1[2]),r.quadraticCurveTo(re,le,oe,ae)):(he<1&&(cubicSubdivide$1(L,re,ue,oe,he,out$1),re=out$1[1],ue=out$1[2],oe=out$1[3],cubicSubdivide$1(V,le,de,ae,he,out$1),le=out$1[1],de=out$1[2],ae=out$1[3]),r.bezierCurveTo(re,le,ue,de,oe,ae)))},n.prototype.pointAt=function(r){return someVectorAt$1(this.shape,r,!1)},n.prototype.tangentAt=function(r){var $=someVectorAt$1(this.shape,r,!0);return normalize$8($,$)},n}(Path$3);BezierCurve$2.prototype.type="bezier-curve";const BezierCurve$3=BezierCurve$2;var ArcShape$1=function(){function g(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return g}(),Arc$2=function(g){__extends$1(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ArcShape$1},n.prototype.buildPath=function(r,$){var L=$.cx,V=$.cy,oe=Math.max($.r,0),ae=$.startAngle,re=$.endAngle,le=$.clockwise,ue=Math.cos(ae),de=Math.sin(ae);r.moveTo(ue*oe+L,de*oe+V),r.arc(L,V,oe,ae,re,!le)},n}(Path$3);Arc$2.prototype.type="arc";const Arc$3=Arc$2;var CompoundPath$2=function(g){__extends$1(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="compound",r}return n.prototype._updatePathDirty=function(){for(var r=this.shape.paths,$=this.shapeChanged(),L=0;L<r.length;L++)$=$||r[L].shapeChanged();$&&this.dirtyShape()},n.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],$=this.getGlobalScale(),L=0;L<r.length;L++)r[L].path||r[L].createPathProxy(),r[L].path.setScale($[0],$[1],r[L].segmentIgnoreThreshold)},n.prototype.buildPath=function(r,$){for(var L=$.paths||[],V=0;V<L.length;V++)L[V].buildPath(r,L[V].shape,!0)},n.prototype.afterBrush=function(){for(var r=this.shape.paths||[],$=0;$<r.length;$++)r[$].pathUpdated()},n.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path$3.prototype.getBoundingRect.call(this)},n}(Path$3);const CompoundPath$3=CompoundPath$2;var Gradient$2=function(){function g(n){this.colorStops=n||[]}return g.prototype.addColorStop=function(n,r){this.colorStops.push({offset:n,color:r})},g}();const Gradient$3=Gradient$2;var LinearGradient$2=function(g){__extends$1(n,g);function n(r,$,L,V,oe,ae){var re=g.call(this,oe)||this;return re.x=r!=null?r:0,re.y=$!=null?$:0,re.x2=L!=null?L:1,re.y2=V!=null?V:0,re.type="linear",re.global=ae||!1,re}return n}(Gradient$3);const LinearGradient$3=LinearGradient$2;var RadialGradient$2=function(g){__extends$1(n,g);function n(r,$,L,V,oe){var ae=g.call(this,V)||this;return ae.x=r!=null?r:.5,ae.y=$!=null?$:.5,ae.r=L!=null?L:.5,ae.type="radial",ae.global=oe||!1,ae}return n}(Gradient$3);const RadialGradient$3=RadialGradient$2;var extent$1=[0,0],extent2$1=[0,0],minTv$2=new Point$3,maxTv$2=new Point$3,OrientedBoundingRect$2=function(){function g(n,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var $=0;$<4;$++)this._corners[$]=new Point$3;for(var $=0;$<2;$++)this._axes[$]=new Point$3;n&&this.fromBoundingRect(n,r)}return g.prototype.fromBoundingRect=function(n,r){var $=this._corners,L=this._axes,V=n.x,oe=n.y,ae=V+n.width,re=oe+n.height;if($[0].set(V,oe),$[1].set(ae,oe),$[2].set(ae,re),$[3].set(V,re),r)for(var le=0;le<4;le++)$[le].transform(r);Point$3.sub(L[0],$[1],$[0]),Point$3.sub(L[1],$[3],$[0]),L[0].normalize(),L[1].normalize();for(var le=0;le<2;le++)this._origin[le]=L[le].dot($[0])},g.prototype.intersect=function(n,r){var $=!0,L=!r;return minTv$2.set(1/0,1/0),maxTv$2.set(0,0),!this._intersectCheckOneSide(this,n,minTv$2,maxTv$2,L,1)&&($=!1,L)||!this._intersectCheckOneSide(n,this,minTv$2,maxTv$2,L,-1)&&($=!1,L)||L||Point$3.copy(r,$?minTv$2:maxTv$2),$},g.prototype._intersectCheckOneSide=function(n,r,$,L,V,oe){for(var ae=!0,re=0;re<2;re++){var le=this._axes[re];if(this._getProjMinMaxOnAxis(re,n._corners,extent$1),this._getProjMinMaxOnAxis(re,r._corners,extent2$1),extent$1[1]<extent2$1[0]||extent$1[0]>extent2$1[1]){if(ae=!1,V)return ae;var ue=Math.abs(extent2$1[0]-extent$1[1]),de=Math.abs(extent$1[0]-extent2$1[1]);Math.min(ue,de)>L.len()&&(ue<de?Point$3.scale(L,le,-ue*oe):Point$3.scale(L,le,de*oe))}else if($){var ue=Math.abs(extent2$1[0]-extent$1[1]),de=Math.abs(extent$1[0]-extent2$1[1]);Math.min(ue,de)<$.len()&&(ue<de?Point$3.scale($,le,ue*oe):Point$3.scale($,le,-de*oe))}}return ae},g.prototype._getProjMinMaxOnAxis=function(n,r,$){for(var L=this._axes[n],V=this._origin,oe=r[0].dot(L)+V[n],ae=oe,re=oe,le=1;le<r.length;le++){var ue=r[le].dot(L)+V[n];ae=Math.min(ue,ae),re=Math.max(ue,re)}$[0]=ae,$[1]=re},g}();const OrientedBoundingRect$3=OrientedBoundingRect$2;var m$1=[],IncrementalDisplayable$2=function(g){__extends$1(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return n.prototype.traverse=function(r,$){r.call($,this)},n.prototype.useStyle=function(){this.style={}},n.prototype.getCursor=function(){return this._cursor},n.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},n.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},n.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},n.prototype.addDisplayable=function(r,$){$?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},n.prototype.addDisplayables=function(r,$){$=$||!1;for(var L=0;L<r.length;L++)this.addDisplayable(r[L],$)},n.prototype.getDisplayables=function(){return this._displayables},n.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},n.prototype.eachPendingDisplayable=function(r){for(var $=this._cursor;$<this._displayables.length;$++)r&&r(this._displayables[$]);for(var $=0;$<this._temporaryDisplayables.length;$++)r&&r(this._temporaryDisplayables[$])},n.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var $=this._displayables[r];$.parent=this,$.update(),$.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var $=this._temporaryDisplayables[r];$.parent=this,$.update(),$.parent=null}},n.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new BoundingRect$3(1/0,1/0,-1/0,-1/0),$=0;$<this._displayables.length;$++){var L=this._displayables[$],V=L.getBoundingRect().clone();L.needLocalTransform()&&V.applyTransform(L.getLocalTransform(m$1)),r.union(V)}this._rect=r}return this._rect},n.prototype.contain=function(r,$){var L=this.transformCoordToLocal(r,$),V=this.getBoundingRect();if(V.contain(L[0],L[1]))for(var oe=0;oe<this._displayables.length;oe++){var ae=this._displayables[oe];if(ae.contain(r,$))return!0}return!1},n}(Displayable$3);const IncrementalDisplayable$3=IncrementalDisplayable$2;var transitionStore$1=makeInner$1();function getAnimationConfig$1(g,n,r,$,L){var V;if(n&&n.ecModel){var oe=n.ecModel.getUpdatePayload();V=oe&&oe.animation}var ae=n&&n.isAnimationEnabled(),re=g==="update";if(ae){var le=void 0,ue=void 0,de=void 0;$?(le=retrieve2$1($.duration,200),ue=retrieve2$1($.easing,"cubicOut"),de=0):(le=n.getShallow(re?"animationDurationUpdate":"animationDuration"),ue=n.getShallow(re?"animationEasingUpdate":"animationEasing"),de=n.getShallow(re?"animationDelayUpdate":"animationDelay")),V&&(V.duration!=null&&(le=V.duration),V.easing!=null&&(ue=V.easing),V.delay!=null&&(de=V.delay)),isFunction$3(de)&&(de=de(r,L)),isFunction$3(le)&&(le=le(r));var he={duration:le||0,delay:de,easing:ue};return he}else return null}function animateOrSetProps$1(g,n,r,$,L,V,oe){var ae=!1,re;isFunction$3(L)?(oe=V,V=L,L=null):isObject$9(L)&&(V=L.cb,oe=L.during,ae=L.isFrom,re=L.removeOpt,L=L.dataIndex);var le=g==="leave";le||n.stopAnimation("leave");var ue=getAnimationConfig$1(g,$,L,le?re||{}:null,$&&$.getAnimationDelayParams?$.getAnimationDelayParams(n,L):null);if(ue&&ue.duration>0){var de=ue.duration,he=ue.delay,pe=ue.easing,_e={duration:de,delay:he||0,easing:pe,done:V,force:!!V||!!oe,setToFinal:!le,scope:g,during:oe};ae?n.animateFrom(r,_e):n.animateTo(r,_e)}else n.stopAnimation(),!ae&&n.attr(r),oe&&oe(1),V&&V()}function updateProps$3(g,n,r,$,L,V){animateOrSetProps$1("update",g,n,r,$,L,V)}function initProps$1(g,n,r,$,L,V){animateOrSetProps$1("enter",g,n,r,$,L,V)}function isElementRemoved$1(g){if(!g.__zr)return!0;for(var n=0;n<g.animators.length;n++){var r=g.animators[n];if(r.scope==="leave")return!0}return!1}function removeElement$1(g,n,r,$,L,V){isElementRemoved$1(g)||animateOrSetProps$1("leave",g,n,r,$,L,V)}function fadeOutDisplayable$1(g,n,r,$){g.removeTextContent(),g.removeTextGuideLine(),removeElement$1(g,{style:{opacity:0}},n,r,$)}function removeElementWithFadeOut$1(g,n,r){function $(){g.parent&&g.parent.remove(g)}g.isGroup?g.traverse(function(L){L.isGroup||fadeOutDisplayable$1(L,n,r,$)}):fadeOutDisplayable$1(g,n,r,$)}function saveOldStyle$1(g){transitionStore$1(g).oldStyle=g.style}function getOldStyle$1(g){return transitionStore$1(g).oldStyle}var mathMax$h=Math.max,mathMin$h=Math.min,_customShapeMap$1={};function extendShape$1(g){return Path$3.extend(g)}var extendPathFromString$1=extendFromString$1;function extendPath$1(g,n){return extendPathFromString$1(g,n)}function registerShape$1(g,n){_customShapeMap$1[g]=n}function getShapeClass$1(g){if(_customShapeMap$1.hasOwnProperty(g))return _customShapeMap$1[g]}function makePath$1(g,n,r,$){var L=createFromString$1(g,n);return r&&($==="center"&&(r=centerGraphic$1(r,L.getBoundingRect())),resizePath$1(L,r)),L}function makeImage$1(g,n,r){var $=new ZRImage$3({style:{image:g,x:n.x,y:n.y,width:n.width,height:n.height},onload:function(L){if(r==="center"){var V={width:L.width,height:L.height};$.setStyle(centerGraphic$1(n,V))}}});return $}function centerGraphic$1(g,n){var r=n.width/n.height,$=g.height*r,L;$<=g.width?L=g.height:($=g.width,L=$/r);var V=g.x+g.width/2,oe=g.y+g.height/2;return{x:V-$/2,y:oe-L/2,width:$,height:L}}var mergePath$2=mergePath$3;function resizePath$1(g,n){if(g.applyTransform){var r=g.getBoundingRect(),$=r.calculateTransform(n);g.applyTransform($)}}function subPixelOptimizeLine$2(g,n){return subPixelOptimizeLine$3(g,g,{lineWidth:n}),g}function subPixelOptimizeRect$2(g){return subPixelOptimizeRect$3(g.shape,g.shape,g.style),g}var subPixelOptimize$2=subPixelOptimize$3;function getTransform$3(g,n){for(var r=identity$1([]);g&&g!==n;)mul$1(r,g.getLocalTransform(),r),g=g.parent;return r}function applyTransform$2(g,n,r){return n&&!isArrayLike$1(n)&&(n=Transformable$1.getLocalTransform(n)),r&&(n=invert$1([],n)),applyTransform$3([],g,n)}function transformDirection$1(g,n,r){var $=n[4]===0||n[5]===0||n[0]===0?1:Math.abs(2*n[4]/n[0]),L=n[4]===0||n[5]===0||n[2]===0?1:Math.abs(2*n[4]/n[2]),V=[g==="left"?-$:g==="right"?$:0,g==="top"?-L:g==="bottom"?L:0];return V=applyTransform$2(V,n,r),Math.abs(V[0])>Math.abs(V[1])?V[0]>0?"right":"left":V[1]>0?"bottom":"top"}function isNotGroup$1(g){return!g.isGroup}function isPath$3(g){return g.shape!=null}function groupTransition$1(g,n,r){if(!g||!n)return;function $(oe){var ae={};return oe.traverse(function(re){isNotGroup$1(re)&&re.anid&&(ae[re.anid]=re)}),ae}function L(oe){var ae={x:oe.x,y:oe.y,rotation:oe.rotation};return isPath$3(oe)&&(ae.shape=extend$4({},oe.shape)),ae}var V=$(g);n.traverse(function(oe){if(isNotGroup$1(oe)&&oe.anid){var ae=V[oe.anid];if(ae){var re=L(oe);oe.attr(L(ae)),updateProps$3(oe,re,r,getECData$1(oe).dataIndex)}}})}function clipPointsByRect$1(g,n){return map$3(g,function(r){var $=r[0];$=mathMax$h($,n.x),$=mathMin$h($,n.x+n.width);var L=r[1];return L=mathMax$h(L,n.y),L=mathMin$h(L,n.y+n.height),[$,L]})}function clipRectByRect$1(g,n){var r=mathMax$h(g.x,n.x),$=mathMin$h(g.x+g.width,n.x+n.width),L=mathMax$h(g.y,n.y),V=mathMin$h(g.y+g.height,n.y+n.height);if($>=r&&V>=L)return{x:r,y:L,width:$-r,height:V-L}}function createIcon$1(g,n,r){var $=extend$4({rectHover:!0},n),L=$.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},g)return g.indexOf("image://")===0?(L.image=g.slice(8),defaults$7(L,r),new ZRImage$3($)):makePath$1(g.replace("path://",""),$,r,"center")}function linePolygonIntersect$1(g,n,r,$,L){for(var V=0,oe=L[L.length-1];V<L.length;V++){var ae=L[V];if(lineLineIntersect$3(g,n,r,$,ae[0],ae[1],oe[0],oe[1]))return!0;oe=ae}}function lineLineIntersect$3(g,n,r,$,L,V,oe,ae){var re=r-g,le=$-n,ue=oe-L,de=ae-V,he=crossProduct2d$3(ue,de,re,le);if(nearZero$1(he))return!1;var pe=g-L,_e=n-V,$e=crossProduct2d$3(pe,_e,re,le)/he;if($e<0||$e>1)return!1;var xe=crossProduct2d$3(pe,_e,ue,de)/he;return!(xe<0||xe>1)}function crossProduct2d$3(g,n,r,$){return g*$-r*n}function nearZero$1(g){return g<=1e-6&&g>=-1e-6}function setTooltipConfig$1(g){var n=g.itemTooltipOption,r=g.componentModel,$=g.itemName,L=isString$3(n)?{formatter:n}:n,V=r.mainType,oe=r.componentIndex,ae={componentType:V,name:$,$vars:["name"]};ae[V+"Index"]=oe;var re=g.formatterParamsExtra;re&&each$v(keys$2(re),function(ue){hasOwn$1(ae,ue)||(ae[ue]=re[ue],ae.$vars.push(ue))});var le=getECData$1(g.el);le.componentMainType=V,le.componentIndex=oe,le.tooltipConfig={name:$,option:defaults$7({content:$,formatterParams:ae},L)}}function traverseElement$1(g,n){var r;g.isGroup&&(r=n(g)),r||g.traverse(n)}function traverseElements$1(g,n){if(g)if(isArray$6(g))for(var r=0;r<g.length;r++)traverseElement$1(g[r],n);else traverseElement$1(g,n)}registerShape$1("circle",Circle$3),registerShape$1("ellipse",Ellipse$3),registerShape$1("sector",Sector$3),registerShape$1("ring",Ring$3),registerShape$1("polygon",Polygon$3),registerShape$1("polyline",Polyline$7),registerShape$1("rect",Rect$7),registerShape$1("line",Line$8),registerShape$1("bezierCurve",BezierCurve$3),registerShape$1("arc",Arc$3);const graphic$1=Object.freeze(Object.defineProperty({__proto__:null,updateProps:updateProps$3,initProps:initProps$1,removeElement:removeElement$1,removeElementWithFadeOut:removeElementWithFadeOut$1,isElementRemoved:isElementRemoved$1,extendShape:extendShape$1,extendPath:extendPath$1,registerShape:registerShape$1,getShapeClass:getShapeClass$1,makePath:makePath$1,makeImage:makeImage$1,mergePath:mergePath$2,resizePath:resizePath$1,subPixelOptimizeLine:subPixelOptimizeLine$2,subPixelOptimizeRect:subPixelOptimizeRect$2,subPixelOptimize:subPixelOptimize$2,getTransform:getTransform$3,applyTransform:applyTransform$2,transformDirection:transformDirection$1,groupTransition:groupTransition$1,clipPointsByRect:clipPointsByRect$1,clipRectByRect:clipRectByRect$1,createIcon:createIcon$1,linePolygonIntersect:linePolygonIntersect$1,lineLineIntersect:lineLineIntersect$3,setTooltipConfig:setTooltipConfig$1,traverseElements:traverseElements$1,Group:Group$9,Image:ZRImage$3,Text:ZRText$3,Circle:Circle$3,Ellipse:Ellipse$3,Sector:Sector$3,Ring:Ring$3,Polygon:Polygon$3,Polyline:Polyline$7,Rect:Rect$7,Line:Line$8,BezierCurve:BezierCurve$3,Arc:Arc$3,IncrementalDisplayable:IncrementalDisplayable$3,CompoundPath:CompoundPath$3,LinearGradient:LinearGradient$3,RadialGradient:RadialGradient$3,BoundingRect:BoundingRect$3,OrientedBoundingRect:OrientedBoundingRect$3,Point:Point$3,Path:Path$3},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ$1={};function setLabelText$1(g,n){for(var r=0;r<SPECIAL_STATES$1.length;r++){var $=SPECIAL_STATES$1[r],L=n[$],V=g.ensureState($);V.style=V.style||{},V.style.text=L}var oe=g.currentStates.slice();g.clearStates(!0),g.setStyle({text:n.normal}),g.useStates(oe,!0)}function getLabelText$1(g,n,r){var $=g.labelFetcher,L=g.labelDataIndex,V=g.labelDimIndex,oe=n.normal,ae;$&&(ae=$.getFormattedLabel(L,"normal",null,V,oe&&oe.get("formatter"),r!=null?{interpolatedValue:r}:null)),ae==null&&(ae=isFunction$3(g.defaultText)?g.defaultText(L,g,r):g.defaultText);for(var re={normal:ae},le=0;le<SPECIAL_STATES$1.length;le++){var ue=SPECIAL_STATES$1[le],de=n[ue];re[ue]=retrieve2$1($?$.getFormattedLabel(L,ue,null,V,de&&de.get("formatter")):null,ae)}return re}function setLabelStyle$1(g,n,r,$){r=r||EMPTY_OBJ$1;for(var L=g instanceof ZRText$3,V=!1,oe=0;oe<DISPLAY_STATES$1.length;oe++){var ae=n[DISPLAY_STATES$1[oe]];if(ae&&ae.getShallow("show")){V=!0;break}}var re=L?g:g.getTextContent();if(V){L||(re||(re=new ZRText$3,g.setTextContent(re)),g.stateProxy&&(re.stateProxy=g.stateProxy));var le=getLabelText$1(r,n),ue=n.normal,de=!!ue.getShallow("show"),he=createTextStyle$1(ue,$&&$.normal,r,!1,!L);he.text=le.normal,L||g.setTextConfig(createTextConfig$1(ue,r,!1));for(var oe=0;oe<SPECIAL_STATES$1.length;oe++){var pe=SPECIAL_STATES$1[oe],ae=n[pe];if(ae){var _e=re.ensureState(pe),$e=!!retrieve2$1(ae.getShallow("show"),de);if($e!==de&&(_e.ignore=!$e),_e.style=createTextStyle$1(ae,$&&$[pe],r,!0,!L),_e.style.text=le[pe],!L){var xe=g.ensureState(pe);xe.textConfig=createTextConfig$1(ae,r,!0)}}}re.silent=!!ue.getShallow("silent"),re.style.x!=null&&(he.x=re.style.x),re.style.y!=null&&(he.y=re.style.y),re.ignore=!de,re.useStyle(he),re.dirty(),r.enableTextSetter&&(labelInner$1(re).setLabelText=function(Oe){var Ce=getLabelText$1(r,n,Oe);setLabelText$1(re,Ce)})}else re&&(re.ignore=!0);g.dirty()}function getLabelStatesModels$1(g,n){n=n||"label";for(var r={normal:g.getModel(n)},$=0;$<SPECIAL_STATES$1.length;$++){var L=SPECIAL_STATES$1[$];r[L]=g.getModel([L,n])}return r}function createTextStyle$1(g,n,r,$,L){var V={};return setTextStyleCommon$1(V,g,r,$,L),n&&extend$4(V,n),V}function createTextConfig$1(g,n,r){n=n||{};var $={},L,V=g.getShallow("rotate"),oe=retrieve2$1(g.getShallow("distance"),r?null:5),ae=g.getShallow("offset");return L=g.getShallow("position")||(r?null:"inside"),L==="outside"&&(L=n.defaultOutsidePosition||"top"),L!=null&&($.position=L),ae!=null&&($.offset=ae),V!=null&&(V*=Math.PI/180,$.rotation=V),oe!=null&&($.distance=oe),$.outsideFill=g.get("color")==="inherit"?n.inheritColor||null:"auto",$}function setTextStyleCommon$1(g,n,r,$,L){r=r||EMPTY_OBJ$1;var V=n.ecModel,oe=V&&V.option.textStyle,ae=getRichItemNames$1(n),re;if(ae){re={};for(var le in ae)if(ae.hasOwnProperty(le)){var ue=n.getModel(["rich",le]);setTokenTextStyle$1(re[le]={},ue,oe,r,$,L,!1,!0)}}re&&(g.rich=re);var de=n.get("overflow");de&&(g.overflow=de);var he=n.get("minMargin");he!=null&&(g.margin=he),setTokenTextStyle$1(g,n,oe,r,$,L,!0,!1)}function getRichItemNames$1(g){for(var n;g&&g!==g.ecModel;){var r=(g.option||EMPTY_OBJ$1).rich;if(r){n=n||{};for(var $=keys$2(r),L=0;L<$.length;L++){var V=$[L];n[V]=1}}g=g.parentModel}return n}var TEXT_PROPS_WITH_GLOBAL$1=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF$1=["align","lineHeight","width","height","tag","verticalAlign"],TEXT_PROPS_BOX$1=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle$1(g,n,r,$,L,V,oe,ae){r=!L&&r||EMPTY_OBJ$1;var re=$&&$.inheritColor,le=n.getShallow("color"),ue=n.getShallow("textBorderColor"),de=retrieve2$1(n.getShallow("opacity"),r.opacity);(le==="inherit"||le==="auto")&&(re?le=re:le=null),(ue==="inherit"||ue==="auto")&&(re?ue=re:ue=null),V||(le=le||r.color,ue=ue||r.textBorderColor),le!=null&&(g.fill=le),ue!=null&&(g.stroke=ue);var he=retrieve2$1(n.getShallow("textBorderWidth"),r.textBorderWidth);he!=null&&(g.lineWidth=he);var pe=retrieve2$1(n.getShallow("textBorderType"),r.textBorderType);pe!=null&&(g.lineDash=pe);var _e=retrieve2$1(n.getShallow("textBorderDashOffset"),r.textBorderDashOffset);_e!=null&&(g.lineDashOffset=_e),!L&&de==null&&!ae&&(de=$&&$.defaultOpacity),de!=null&&(g.opacity=de),!L&&!V&&g.fill==null&&$.inheritColor&&(g.fill=$.inheritColor);for(var $e=0;$e<TEXT_PROPS_WITH_GLOBAL$1.length;$e++){var xe=TEXT_PROPS_WITH_GLOBAL$1[$e],Oe=retrieve2$1(n.getShallow(xe),r[xe]);Oe!=null&&(g[xe]=Oe)}for(var $e=0;$e<TEXT_PROPS_SELF$1.length;$e++){var xe=TEXT_PROPS_SELF$1[$e],Oe=n.getShallow(xe);Oe!=null&&(g[xe]=Oe)}if(g.verticalAlign==null){var Ce=n.getShallow("baseline");Ce!=null&&(g.verticalAlign=Ce)}if(!oe||!$.disableBox){for(var $e=0;$e<TEXT_PROPS_BOX$1.length;$e++){var xe=TEXT_PROPS_BOX$1[$e],Oe=n.getShallow(xe);Oe!=null&&(g[xe]=Oe)}var Ie=n.getShallow("borderType");Ie!=null&&(g.borderDash=Ie),(g.backgroundColor==="auto"||g.backgroundColor==="inherit")&&re&&(g.backgroundColor=re),(g.borderColor==="auto"||g.borderColor==="inherit")&&re&&(g.borderColor=re)}}function getFont$1(g,n){var r=n&&n.getModel("textStyle");return trim$5([g.fontStyle||r&&r.getShallow("fontStyle")||"",g.fontWeight||r&&r.getShallow("fontWeight")||"",(g.fontSize||r&&r.getShallow("fontSize")||12)+"px",g.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner$1=makeInner$1();function setLabelValueAnimation$1(g,n,r,$){if(g){var L=labelInner$1(g);L.prevValue=L.value,L.value=r;var V=n.normal;L.valueAnimation=V.get("valueAnimation"),L.valueAnimation&&(L.precision=V.get("precision"),L.defaultInterpolatedText=$,L.statesModels=n)}}function animateLabelValue$1(g,n,r,$,L){var V=labelInner$1(g);if(!V.valueAnimation||V.prevValue===V.value)return;var oe=V.defaultInterpolatedText,ae=retrieve2$1(V.interpolatedValue,V.prevValue),re=V.value;function le(ue){var de=interpolateRawValues$1(r,V.precision,ae,re,ue);V.interpolatedValue=ue===1?null:de;var he=getLabelText$1({labelDataIndex:n,labelFetcher:L,defaultText:oe?oe(de):de+""},V.statesModels,de);setLabelText$1(g,he)}g.percent=0,(V.prevValue==null?initProps$1:updateProps$3)(g,{percent:1},$,n,null,le)}var PATH_COLOR$1=["textStyle","color"],textStyleParams$1=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText$1=new ZRText$3,TextStyleMixin$2=function(){function g(){}return g.prototype.getTextColor=function(n){var r=this.ecModel;return this.getShallow("color")||(!n&&r?r.get(PATH_COLOR$1):null)},g.prototype.getFont=function(){return getFont$1({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},g.prototype.getTextRect=function(n){for(var r={text:n,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},$=0;$<textStyleParams$1.length;$++)r[textStyleParams$1[$]]=this.getShallow(textStyleParams$1[$]);return tmpText$1.useStyle(r),tmpText$1.update(),tmpText$1.getBoundingRect()},g}();const TextStyleMixin$3=TextStyleMixin$2;var LINE_STYLE_KEY_MAP$1=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle$1=makeStyleMapper$1(LINE_STYLE_KEY_MAP$1),LineStyleMixin$1=function(){function g(){}return g.prototype.getLineStyle=function(n){return getLineStyle$1(this,n)},g}(),ITEM_STYLE_KEY_MAP$1=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle$1=makeStyleMapper$1(ITEM_STYLE_KEY_MAP$1),ItemStyleMixin$1=function(){function g(){}return g.prototype.getItemStyle=function(n,r){return getItemStyle$1(this,n,r)},g}(),Model$2=function(){function g(n,r,$){this.parentModel=r,this.ecModel=$,this.option=n}return g.prototype.init=function(n,r,$){},g.prototype.mergeOption=function(n,r){merge$3(this.option,n,!0)},g.prototype.get=function(n,r){return n==null?this.option:this._doGet(this.parsePath(n),!r&&this.parentModel)},g.prototype.getShallow=function(n,r){var $=this.option,L=$==null?$:$[n];if(L==null&&!r){var V=this.parentModel;V&&(L=V.getShallow(n))}return L},g.prototype.getModel=function(n,r){var $=n!=null,L=$?this.parsePath(n):null,V=$?this._doGet(L):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(L)),new g(V,r,this.ecModel)},g.prototype.isEmpty=function(){return this.option==null},g.prototype.restoreData=function(){},g.prototype.clone=function(){var n=this.constructor;return new n(clone$9(this.option))},g.prototype.parsePath=function(n){return typeof n=="string"?n.split("."):n},g.prototype.resolveParentPath=function(n){return n},g.prototype.isAnimationEnabled=function(){if(!env$3.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},g.prototype._doGet=function(n,r){var $=this.option;if(!n)return $;for(var L=0;L<n.length&&!(!!n[L]&&($=$&&typeof $=="object"?$[n[L]]:null,$==null));L++);return $==null&&r&&($=r._doGet(this.resolveParentPath(n),r.parentModel)),$},g}();enableClassExtend$1(Model$2),enableClassCheck$1(Model$2),mixin$1(Model$2,LineStyleMixin$1),mixin$1(Model$2,ItemStyleMixin$1),mixin$1(Model$2,AreaStyleMixin$1),mixin$1(Model$2,TextStyleMixin$3);const Model$3=Model$2;var base$4=Math.round(Math.random()*10);function getUID$1(g){return[g||"",base$4++].join("_")}function enableSubTypeDefaulter$1(g){var n={};g.registerSubTypeDefaulter=function(r,$){var L=parseClassType$1(r);n[L.main]=$},g.determineSubType=function(r,$){var L=$.type;if(!L){var V=parseClassType$1(r).main;g.hasSubTypes(r)&&n[V]&&(L=n[V]($))}return L}}function enableTopologicalTravel$1(g,n){g.topologicalTravel=function(V,oe,ae,re){if(!V.length)return;var le=r(oe),ue=le.graph,de=le.noEntryList,he={};for(each$v(V,function(Ce){he[Ce]=!0});de.length;){var pe=de.pop(),_e=ue[pe],$e=!!he[pe];$e&&(ae.call(re,pe,_e.originalDeps.slice()),delete he[pe]),each$v(_e.successor,$e?Oe:xe)}each$v(he,function(){var Ce="";throw new Error(Ce)});function xe(Ce){ue[Ce].entryCount--,ue[Ce].entryCount===0&&de.push(Ce)}function Oe(Ce){he[Ce]=!0,xe(Ce)}};function r(V){var oe={},ae=[];return each$v(V,function(re){var le=$(oe,re),ue=le.originalDeps=n(re),de=L(ue,V);le.entryCount=de.length,le.entryCount===0&&ae.push(re),each$v(de,function(he){indexOf$1(le.predecessor,he)<0&&le.predecessor.push(he);var pe=$(oe,he);indexOf$1(pe.successor,he)<0&&pe.successor.push(re)})}),{graph:oe,noEntryList:ae}}function $(V,oe){return V[oe]||(V[oe]={predecessor:[],successor:[]}),V[oe]}function L(V,oe){var ae=[];return each$v(V,function(re){indexOf$1(oe,re)>=0&&ae.push(re)}),ae}}function inheritDefaultOption$1(g,n){return merge$3(merge$3({},g,!0),n,!0)}const langEN$1={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH$1={time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}};var LOCALE_ZH$1="ZH",LOCALE_EN$1="EN",DEFAULT_LOCALE$1=LOCALE_EN$1,localeStorage$1={},localeModels$1={},SYSTEM_LANG$1=env$3.domSupported?function(){var g=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return g.indexOf(LOCALE_ZH$1)>-1?LOCALE_ZH$1:DEFAULT_LOCALE$1}():DEFAULT_LOCALE$1;function registerLocale$1(g,n){g=g.toUpperCase(),localeModels$1[g]=new Model$3(n),localeStorage$1[g]=n}function createLocaleObject$1(g){if(isString$3(g)){var n=localeStorage$1[g.toUpperCase()]||{};return g===LOCALE_ZH$1||g===LOCALE_EN$1?clone$9(n):merge$3(clone$9(n),clone$9(localeStorage$1[DEFAULT_LOCALE$1]),!1)}else return merge$3(clone$9(g),clone$9(localeStorage$1[DEFAULT_LOCALE$1]),!1)}function getLocaleModel$1(g){return localeModels$1[g]}function getDefaultLocaleModel$1(){return localeModels$1[DEFAULT_LOCALE$1]}registerLocale$1(LOCALE_EN$1,langEN$1),registerLocale$1(LOCALE_ZH$1,langZH$1);var ONE_SECOND$1=1e3,ONE_MINUTE$1=ONE_SECOND$1*60,ONE_HOUR$1=ONE_MINUTE$1*60,ONE_DAY$1=ONE_HOUR$1*24,ONE_YEAR$1=ONE_DAY$1*365,defaultLeveledFormatter$1={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter$1="{yyyy}-{MM}-{dd}",fullLeveledFormatter$1={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter$1,hour:fullDayFormatter$1+" "+defaultLeveledFormatter$1.hour,minute:fullDayFormatter$1+" "+defaultLeveledFormatter$1.minute,second:fullDayFormatter$1+" "+defaultLeveledFormatter$1.second,millisecond:defaultLeveledFormatter$1.none},primaryTimeUnits$1=["year","month","day","hour","minute","second","millisecond"],timeUnits$1=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad$1(g,n){return g+="","0000".substr(0,n-g.length)+g}function getPrimaryTimeUnit$1(g){switch(g){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return g}}function isPrimaryTimeUnit$1(g){return g===getPrimaryTimeUnit$1(g)}function getDefaultFormatPrecisionOfInterval$1(g){switch(g){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format$1(g,n,r,$){var L=parseDate$1(g),V=L[fullYearGetterName$1(r)](),oe=L[monthGetterName$1(r)]()+1,ae=Math.floor((oe-1)/3)+1,re=L[dateGetterName$1(r)](),le=L["get"+(r?"UTC":"")+"Day"](),ue=L[hoursGetterName$1(r)](),de=(ue-1)%12+1,he=L[minutesGetterName$1(r)](),pe=L[secondsGetterName$1(r)](),_e=L[millisecondsGetterName$1(r)](),$e=$ instanceof Model$3?$:getLocaleModel$1($||SYSTEM_LANG$1)||getDefaultLocaleModel$1(),xe=$e.getModel("time"),Oe=xe.get("month"),Ce=xe.get("monthAbbr"),Ie=xe.get("dayOfWeek"),Ne=xe.get("dayOfWeekAbbr");return(n||"").replace(/{yyyy}/g,V+"").replace(/{yy}/g,V%100+"").replace(/{Q}/g,ae+"").replace(/{MMMM}/g,Oe[oe-1]).replace(/{MMM}/g,Ce[oe-1]).replace(/{MM}/g,pad$1(oe,2)).replace(/{M}/g,oe+"").replace(/{dd}/g,pad$1(re,2)).replace(/{d}/g,re+"").replace(/{eeee}/g,Ie[le]).replace(/{ee}/g,Ne[le]).replace(/{e}/g,le+"").replace(/{HH}/g,pad$1(ue,2)).replace(/{H}/g,ue+"").replace(/{hh}/g,pad$1(de+"",2)).replace(/{h}/g,de+"").replace(/{mm}/g,pad$1(he,2)).replace(/{m}/g,he+"").replace(/{ss}/g,pad$1(pe,2)).replace(/{s}/g,pe+"").replace(/{SSS}/g,pad$1(_e,3)).replace(/{S}/g,_e+"")}function leveledFormat$1(g,n,r,$,L){var V=null;if(isString$3(r))V=r;else if(isFunction$3(r))V=r(g.value,n,{level:g.level});else{var oe=extend$4({},defaultLeveledFormatter$1);if(g.level>0)for(var ae=0;ae<primaryTimeUnits$1.length;++ae)oe[primaryTimeUnits$1[ae]]="{primary|"+oe[primaryTimeUnits$1[ae]]+"}";var re=r?r.inherit===!1?r:defaults$7(r,oe):oe,le=getUnitFromValue$1(g.value,L);if(re[le])V=re[le];else if(re.inherit){for(var ue=timeUnits$1.indexOf(le),ae=ue-1;ae>=0;--ae)if(re[le]){V=re[le];break}V=V||oe.none}if(isArray$6(V)){var de=g.level==null?0:g.level>=0?g.level:V.length+g.level;de=Math.min(de,V.length-1),V=V[de]}}return format$1(new Date(g.value),V,L,$)}function getUnitFromValue$1(g,n){var r=parseDate$1(g),$=r[monthGetterName$1(n)]()+1,L=r[dateGetterName$1(n)](),V=r[hoursGetterName$1(n)](),oe=r[minutesGetterName$1(n)](),ae=r[secondsGetterName$1(n)](),re=r[millisecondsGetterName$1(n)](),le=re===0,ue=le&&ae===0,de=ue&&oe===0,he=de&&V===0,pe=he&&L===1,_e=pe&&$===1;return _e?"year":pe?"month":he?"day":de?"hour":ue?"minute":le?"second":"millisecond"}function getUnitValue$1(g,n,r){var $=isNumber$3(g)?parseDate$1(g):g;switch(n=n||getUnitFromValue$1(g,r),n){case"year":return $[fullYearGetterName$1(r)]();case"half-year":return $[monthGetterName$1(r)]()>=6?1:0;case"quarter":return Math.floor(($[monthGetterName$1(r)]()+1)/4);case"month":return $[monthGetterName$1(r)]();case"day":return $[dateGetterName$1(r)]();case"half-day":return $[hoursGetterName$1(r)]()/24;case"hour":return $[hoursGetterName$1(r)]();case"minute":return $[minutesGetterName$1(r)]();case"second":return $[secondsGetterName$1(r)]();case"millisecond":return $[millisecondsGetterName$1(r)]()}}function fullYearGetterName$1(g){return g?"getUTCFullYear":"getFullYear"}function monthGetterName$1(g){return g?"getUTCMonth":"getMonth"}function dateGetterName$1(g){return g?"getUTCDate":"getDate"}function hoursGetterName$1(g){return g?"getUTCHours":"getHours"}function minutesGetterName$1(g){return g?"getUTCMinutes":"getMinutes"}function secondsGetterName$1(g){return g?"getUTCSeconds":"getSeconds"}function millisecondsGetterName$1(g){return g?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName$1(g){return g?"setUTCFullYear":"setFullYear"}function monthSetterName$1(g){return g?"setUTCMonth":"setMonth"}function dateSetterName$1(g){return g?"setUTCDate":"setDate"}function hoursSetterName$1(g){return g?"setUTCHours":"setHours"}function minutesSetterName$1(g){return g?"setUTCMinutes":"setMinutes"}function secondsSetterName$1(g){return g?"setUTCSeconds":"setSeconds"}function millisecondsSetterName$1(g){return g?"setUTCMilliseconds":"setMilliseconds"}function addCommas$1(g){if(!isNumeric$1(g))return isString$3(g)?g:"-";var n=(g+"").split(".");return n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:"")}function toCamelCase$3(g,n){return g=(g||"").toLowerCase().replace(/-(.)/g,function(r,$){return $.toUpperCase()}),n&&g&&(g=g.charAt(0).toUpperCase()+g.slice(1)),g}var normalizeCssArray$2=normalizeCssArray$3;function makeValueReadable$1(g,n,r){var $="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function L(ue){return ue&&trim$5(ue)?ue:"-"}function V(ue){return!!(ue!=null&&!isNaN(ue)&&isFinite(ue))}var oe=n==="time",ae=g instanceof Date;if(oe||ae){var re=oe?parseDate$1(g):g;if(isNaN(+re)){if(ae)return"-"}else return format$1(re,$,r)}if(n==="ordinal")return isStringSafe$1(g)?L(g):isNumber$3(g)&&V(g)?g+"":"-";var le=numericToNumber$1(g);return V(le)?addCommas$1(le):isStringSafe$1(g)?L(g):typeof g=="boolean"?g+"":"-"}var TPL_VAR_ALIAS$1=["a","b","c","d","e","f","g"],wrapVar$1=function(g,n){return"{"+g+(n!=null?n:"")+"}"};function formatTpl$1(g,n,r){isArray$6(n)||(n=[n]);var $=n.length;if(!$)return"";for(var L=n[0].$vars||[],V=0;V<L.length;V++){var oe=TPL_VAR_ALIAS$1[V];g=g.replace(wrapVar$1(oe),wrapVar$1(oe,0))}for(var ae=0;ae<$;ae++)for(var re=0;re<L.length;re++){var le=n[ae][L[re]];g=g.replace(wrapVar$1(TPL_VAR_ALIAS$1[re],ae),r?encodeHTML$1(le):le)}return g}function formatTplSimple$1(g,n,r){return each$v(n,function($,L){g=g.replace("{"+L+"}",r?encodeHTML$1($):$)}),g}function getTooltipMarker$1(g,n){var r=isString$3(g)?{color:g,extraCssText:n}:g||{},$=r.color,L=r.type;n=r.extraCssText;var V=r.renderMode||"html";if(!$)return"";if(V==="html")return L==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML$1($)+";"+(n||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML$1($)+";"+(n||"")+'"></span>';var oe=r.markerId||"markerX";return{renderMode:V,content:"{"+oe+"|}  ",style:L==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:$}:{width:10,height:10,borderRadius:5,backgroundColor:$}}}function convertToColorString$1(g,n){return n=n||"transparent",isString$3(g)?g:isObject$9(g)&&g.colorStops&&(g.colorStops[0]||{}).color||n}function windowOpen$1(g,n){if(n==="_blank"||n==="blank"){var r=window.open();r.opener=null,r.location.href=g}else window.open(g,n)}var each$u=each$v,LOCATION_PARAMS$1=["left","right","top","bottom","width","height"],HV_NAMES$1=[["width","left","right"],["height","top","bottom"]];function boxLayout$1(g,n,r,$,L){var V=0,oe=0;$==null&&($=1/0),L==null&&(L=1/0);var ae=0;n.eachChild(function(re,le){var ue=re.getBoundingRect(),de=n.childAt(le+1),he=de&&de.getBoundingRect(),pe,_e;if(g==="horizontal"){var $e=ue.width+(he?-he.x+ue.x:0);pe=V+$e,pe>$||re.newline?(V=0,pe=$e,oe+=ae+r,ae=ue.height):ae=Math.max(ae,ue.height)}else{var xe=ue.height+(he?-he.y+ue.y:0);_e=oe+xe,_e>L||re.newline?(V+=ae+r,oe=0,_e=xe,ae=ue.width):ae=Math.max(ae,ue.width)}re.newline||(re.x=V,re.y=oe,re.markRedraw(),g==="horizontal"?V=pe+r:oe=_e+r)})}var box$1=boxLayout$1;curry$3(boxLayout$1,"vertical"),curry$3(boxLayout$1,"horizontal");function getAvailableSize$1(g,n,r){var $=n.width,L=n.height,V=parsePercent$2(g.left,$),oe=parsePercent$2(g.top,L),ae=parsePercent$2(g.right,$),re=parsePercent$2(g.bottom,L);return(isNaN(V)||isNaN(parseFloat(g.left)))&&(V=0),(isNaN(ae)||isNaN(parseFloat(g.right)))&&(ae=$),(isNaN(oe)||isNaN(parseFloat(g.top)))&&(oe=0),(isNaN(re)||isNaN(parseFloat(g.bottom)))&&(re=L),r=normalizeCssArray$2(r||0),{width:Math.max(ae-V-r[1]-r[3],0),height:Math.max(re-oe-r[0]-r[2],0)}}function getLayoutRect$1(g,n,r){r=normalizeCssArray$2(r||0);var $=n.width,L=n.height,V=parsePercent$2(g.left,$),oe=parsePercent$2(g.top,L),ae=parsePercent$2(g.right,$),re=parsePercent$2(g.bottom,L),le=parsePercent$2(g.width,$),ue=parsePercent$2(g.height,L),de=r[2]+r[0],he=r[1]+r[3],pe=g.aspect;switch(isNaN(le)&&(le=$-ae-he-V),isNaN(ue)&&(ue=L-re-de-oe),pe!=null&&(isNaN(le)&&isNaN(ue)&&(pe>$/L?le=$*.8:ue=L*.8),isNaN(le)&&(le=pe*ue),isNaN(ue)&&(ue=le/pe)),isNaN(V)&&(V=$-ae-le-he),isNaN(oe)&&(oe=L-re-ue-de),g.left||g.right){case"center":V=$/2-le/2-r[3];break;case"right":V=$-le-he;break}switch(g.top||g.bottom){case"middle":case"center":oe=L/2-ue/2-r[0];break;case"bottom":oe=L-ue-de;break}V=V||0,oe=oe||0,isNaN(le)&&(le=$-he-V-(ae||0)),isNaN(ue)&&(ue=L-de-oe-(re||0));var _e=new BoundingRect$3(V+r[3],oe+r[0],le,ue);return _e.margin=r,_e}function positionElement$1(g,n,r,$,L,V){var oe=!L||!L.hv||L.hv[0],ae=!L||!L.hv||L.hv[1],re=L&&L.boundingMode||"all";if(V=V||g,V.x=g.x,V.y=g.y,!oe&&!ae)return!1;var le;if(re==="raw")le=g.type==="group"?new BoundingRect$3(0,0,+n.width||0,+n.height||0):g.getBoundingRect();else if(le=g.getBoundingRect(),g.needLocalTransform()){var ue=g.getLocalTransform();le=le.clone(),le.applyTransform(ue)}var de=getLayoutRect$1(defaults$7({width:le.width,height:le.height},n),r,$),he=oe?de.x-le.x:0,pe=ae?de.y-le.y:0;return re==="raw"?(V.x=he,V.y=pe):(V.x+=he,V.y+=pe),V===g&&g.markRedraw(),!0}function sizeCalculable$1(g,n){return g[HV_NAMES$1[n][0]]!=null||g[HV_NAMES$1[n][1]]!=null&&g[HV_NAMES$1[n][2]]!=null}function fetchLayoutMode$1(g){var n=g.layoutMode||g.constructor.layoutMode;return isObject$9(n)?n:n?{type:n}:null}function mergeLayoutParam$1(g,n,r){var $=r&&r.ignoreSize;!isArray$6($)&&($=[$,$]);var L=oe(HV_NAMES$1[0],0),V=oe(HV_NAMES$1[1],1);le(HV_NAMES$1[0],g,L),le(HV_NAMES$1[1],g,V);function oe(ue,de){var he={},pe=0,_e={},$e=0,xe=2;if(each$u(ue,function(Ie){_e[Ie]=g[Ie]}),each$u(ue,function(Ie){ae(n,Ie)&&(he[Ie]=_e[Ie]=n[Ie]),re(he,Ie)&&pe++,re(_e,Ie)&&$e++}),$[de])return re(n,ue[1])?_e[ue[2]]=null:re(n,ue[2])&&(_e[ue[1]]=null),_e;if($e===xe||!pe)return _e;if(pe>=xe)return he;for(var Oe=0;Oe<ue.length;Oe++){var Ce=ue[Oe];if(!ae(he,Ce)&&ae(g,Ce)){he[Ce]=g[Ce];break}}return he}function ae(ue,de){return ue.hasOwnProperty(de)}function re(ue,de){return ue[de]!=null&&ue[de]!=="auto"}function le(ue,de,he){each$u(ue,function(pe){de[pe]=he[pe]})}}function getLayoutParams$1(g){return copyLayoutParams$1({},g)}function copyLayoutParams$1(g,n){return n&&g&&each$u(LOCATION_PARAMS$1,function(r){n.hasOwnProperty(r)&&(g[r]=n[r])}),g}var inner$H=makeInner$1(),ComponentModel$2=function(g){__extends$2(n,g);function n(r,$,L){var V=g.call(this,r,$,L)||this;return V.uid=getUID$1("ec_cpt_model"),V}return n.prototype.init=function(r,$,L){this.mergeDefaultAndTheme(r,L)},n.prototype.mergeDefaultAndTheme=function(r,$){var L=fetchLayoutMode$1(this),V=L?getLayoutParams$1(r):{},oe=$.getTheme();merge$3(r,oe.get(this.mainType)),merge$3(r,this.getDefaultOption()),L&&mergeLayoutParam$1(r,V,L)},n.prototype.mergeOption=function(r,$){merge$3(this.option,r,!0);var L=fetchLayoutMode$1(this);L&&mergeLayoutParam$1(this.option,r,L)},n.prototype.optionUpdated=function(r,$){},n.prototype.getDefaultOption=function(){var r=this.constructor;if(!isExtendedClass$1(r))return r.defaultOption;var $=inner$H(this);if(!$.defaultOption){for(var L=[],V=r;V;){var oe=V.prototype.defaultOption;oe&&L.push(oe),V=V.superClass}for(var ae={},re=L.length-1;re>=0;re--)ae=merge$3(ae,L[re],!0);$.defaultOption=ae}return $.defaultOption},n.prototype.getReferringComponents=function(r,$){var L=r+"Index",V=r+"Id";return queryReferringComponents$1(this.ecModel,r,{index:this.get(L,!0),id:this.get(V,!0)},$)},n.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},n.prototype.getZLevelKey=function(){return""},n.prototype.setZLevel=function(r){this.option.zlevel=r},n.protoInitialize=function(){var r=n.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),n}(Model$3);mountExtend$1(ComponentModel$2,Model$3),enableClassManagement$1(ComponentModel$2),enableSubTypeDefaulter$1(ComponentModel$2),enableTopologicalTravel$1(ComponentModel$2,getDependencies$1);function getDependencies$1(g){var n=[];return each$v(ComponentModel$2.getClassesByMainType(g),function(r){n=n.concat(r.dependencies||r.prototype.dependencies||[])}),n=map$3(n,function(r){return parseClassType$1(r).main}),g!=="dataset"&&indexOf$1(n,"dataset")<=0&&n.unshift("dataset"),n}const ComponentModel$3=ComponentModel$2;var platform$3="";typeof navigator<"u"&&(platform$3=navigator.platform||"");var decalColor$1="rgba(0, 0, 0, 0.2)";const globalDefault$1={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor$1,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor$1,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor$1,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor$1,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor$1,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor$1,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform$3.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS$1=createHashMap$1(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL$1="original",SOURCE_FORMAT_ARRAY_ROWS$1="arrayRows",SOURCE_FORMAT_OBJECT_ROWS$1="objectRows",SOURCE_FORMAT_KEYED_COLUMNS$1="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY$1="typedArray",SOURCE_FORMAT_UNKNOWN$1="unknown",SERIES_LAYOUT_BY_COLUMN$1="column",SERIES_LAYOUT_BY_ROW$1="row",BE_ORDINAL$1={Must:1,Might:2,Not:3},innerGlobalModel$1=makeInner$1();function resetSourceDefaulter$1(g){innerGlobalModel$1(g).datasetMap=createHashMap$1()}function makeSeriesEncodeForAxisCoordSys$1(g,n,r){var $={},L=querySeriesUpstreamDatasetModel$1(n);if(!L||!g)return $;var V=[],oe=[],ae=n.ecModel,re=innerGlobalModel$1(ae).datasetMap,le=L.uid+"_"+r.seriesLayoutBy,ue,de;g=g.slice(),each$v(g,function($e,xe){var Oe=isObject$9($e)?$e:g[xe]={name:$e};Oe.type==="ordinal"&&ue==null&&(ue=xe,de=_e(Oe)),$[Oe.name]=[]});var he=re.get(le)||re.set(le,{categoryWayDim:de,valueWayDim:0});each$v(g,function($e,xe){var Oe=$e.name,Ce=_e($e);if(ue==null){var Ie=he.valueWayDim;pe($[Oe],Ie,Ce),pe(oe,Ie,Ce),he.valueWayDim+=Ce}else if(ue===xe)pe($[Oe],0,Ce),pe(V,0,Ce);else{var Ie=he.categoryWayDim;pe($[Oe],Ie,Ce),pe(oe,Ie,Ce),he.categoryWayDim+=Ce}});function pe($e,xe,Oe){for(var Ce=0;Ce<Oe;Ce++)$e.push(xe+Ce)}function _e($e){var xe=$e.dimsDef;return xe?xe.length:1}return V.length&&($.itemName=V),oe.length&&($.seriesName=oe),$}function makeSeriesEncodeForNameBased$1(g,n,r){var $={},L=querySeriesUpstreamDatasetModel$1(g);if(!L)return $;var V=n.sourceFormat,oe=n.dimensionsDefine,ae;(V===SOURCE_FORMAT_OBJECT_ROWS$1||V===SOURCE_FORMAT_KEYED_COLUMNS$1)&&each$v(oe,function(ue,de){(isObject$9(ue)?ue.name:ue)==="name"&&(ae=de)});var re=function(){for(var ue={},de={},he=[],pe=0,_e=Math.min(5,r);pe<_e;pe++){var $e=doGuessOrdinal$1(n.data,V,n.seriesLayoutBy,oe,n.startIndex,pe);he.push($e);var xe=$e===BE_ORDINAL$1.Not;if(xe&&ue.v==null&&pe!==ae&&(ue.v=pe),(ue.n==null||ue.n===ue.v||!xe&&he[ue.n]===BE_ORDINAL$1.Not)&&(ue.n=pe),Oe(ue)&&he[ue.n]!==BE_ORDINAL$1.Not)return ue;xe||($e===BE_ORDINAL$1.Might&&de.v==null&&pe!==ae&&(de.v=pe),(de.n==null||de.n===de.v)&&(de.n=pe))}function Oe(Ce){return Ce.v!=null&&Ce.n!=null}return Oe(ue)?ue:Oe(de)?de:null}();if(re){$.value=[re.v];var le=ae!=null?ae:re.n;$.itemName=[le],$.seriesName=[le]}return $}function querySeriesUpstreamDatasetModel$1(g){var n=g.get("data",!0);if(!n)return queryReferringComponents$1(g.ecModel,"dataset",{index:g.get("datasetIndex",!0),id:g.get("datasetId",!0)},SINGLE_REFERRING$1).models[0]}function queryDatasetUpstreamDatasetModels$1(g){return!g.get("transform",!0)&&!g.get("fromTransformResult",!0)?[]:queryReferringComponents$1(g.ecModel,"dataset",{index:g.get("fromDatasetIndex",!0),id:g.get("fromDatasetId",!0)},SINGLE_REFERRING$1).models}function guessOrdinal$1(g,n){return doGuessOrdinal$1(g.data,g.sourceFormat,g.seriesLayoutBy,g.dimensionsDefine,g.startIndex,n)}function doGuessOrdinal$1(g,n,r,$,L,V){var oe,ae=5;if(isTypedArray$3(g))return BE_ORDINAL$1.Not;var re,le;if($){var ue=$[V];isObject$9(ue)?(re=ue.name,le=ue.type):isString$3(ue)&&(re=ue)}if(le!=null)return le==="ordinal"?BE_ORDINAL$1.Must:BE_ORDINAL$1.Not;if(n===SOURCE_FORMAT_ARRAY_ROWS$1){var de=g;if(r===SERIES_LAYOUT_BY_ROW$1){for(var he=de[V],pe=0;pe<(he||[]).length&&pe<ae;pe++)if((oe=Ne(he[L+pe]))!=null)return oe}else for(var pe=0;pe<de.length&&pe<ae;pe++){var _e=de[L+pe];if(_e&&(oe=Ne(_e[V]))!=null)return oe}}else if(n===SOURCE_FORMAT_OBJECT_ROWS$1){var $e=g;if(!re)return BE_ORDINAL$1.Not;for(var pe=0;pe<$e.length&&pe<ae;pe++){var xe=$e[pe];if(xe&&(oe=Ne(xe[re]))!=null)return oe}}else if(n===SOURCE_FORMAT_KEYED_COLUMNS$1){var Oe=g;if(!re)return BE_ORDINAL$1.Not;var he=Oe[re];if(!he||isTypedArray$3(he))return BE_ORDINAL$1.Not;for(var pe=0;pe<he.length&&pe<ae;pe++)if((oe=Ne(he[pe]))!=null)return oe}else if(n===SOURCE_FORMAT_ORIGINAL$1)for(var Ce=g,pe=0;pe<Ce.length&&pe<ae;pe++){var xe=Ce[pe],Ie=getDataItemValue$1(xe);if(!isArray$6(Ie))return BE_ORDINAL$1.Not;if((oe=Ne(Ie[V]))!=null)return oe}function Ne(ze){var Fe=isString$3(ze);if(ze!=null&&isFinite(ze)&&ze!=="")return Fe?BE_ORDINAL$1.Might:BE_ORDINAL$1.Not;if(Fe&&ze!=="-")return BE_ORDINAL$1.Must}return BE_ORDINAL$1.Not}var internalOptionCreatorMap$1=createHashMap$1();function registerInternalOptionCreator$1(g,n){assert$1(internalOptionCreatorMap$1.get(g)==null&&n),internalOptionCreatorMap$1.set(g,n)}function concatInternalOptions$1(g,n,r){var $=internalOptionCreatorMap$1.get(n);if(!$)return r;var L=$(g);return L?r.concat(L):r}var innerColor$1=makeInner$1(),innerDecal$1=makeInner$1(),PaletteMixin$1=function(){function g(){}return g.prototype.getColorFromPalette=function(n,r,$){var L=normalizeToArray$1(this.get("color",!0)),V=this.get("colorLayer",!0);return getFromPalette$1(this,innerColor$1,L,V,n,r,$)},g.prototype.clearColorPalette=function(){clearPalette$1(this,innerColor$1)},g}();function getDecalFromPalette$1(g,n,r,$){var L=normalizeToArray$1(g.get(["aria","decal","decals"]));return getFromPalette$1(g,innerDecal$1,L,null,n,r,$)}function getNearestPalette$1(g,n){for(var r=g.length,$=0;$<r;$++)if(g[$].length>n)return g[$];return g[r-1]}function getFromPalette$1(g,n,r,$,L,V,oe){V=V||g;var ae=n(V),re=ae.paletteIdx||0,le=ae.paletteNameMap=ae.paletteNameMap||{};if(le.hasOwnProperty(L))return le[L];var ue=oe==null||!$?r:getNearestPalette$1($,oe);if(ue=ue||r,!(!ue||!ue.length)){var de=ue[re];return L&&(le[L]=de),ae.paletteIdx=(re+1)%ue.length,de}}function clearPalette$1(g,n){n(g).paletteIdx=0,n(g).paletteNameMap={}}var reCreateSeriesIndices$1,assertSeriesInitialized$1,initBase$1,OPTION_INNER_KEY$1="\0_ec_inner",OPTION_INNER_VALUE$1=1,GlobalModel$2=function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.init=function(r,$,L,V,oe,ae){V=V||{},this.option=null,this._theme=new Model$3(V),this._locale=new Model$3(oe),this._optionManager=ae},n.prototype.setOption=function(r,$,L){var V=normalizeSetOptionInput$1($);this._optionManager.setOption(r,L,V),this._resetOption(null,V)},n.prototype.resetOption=function(r,$){return this._resetOption(r,normalizeSetOptionInput$1($))},n.prototype._resetOption=function(r,$){var L=!1,V=this._optionManager;if(!r||r==="recreate"){var oe=V.mountOption(r==="recreate");!this.option||r==="recreate"?initBase$1(this,oe):(this.restoreData(),this._mergeOption(oe,$)),L=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var ae=V.getTimelineOption(this);ae&&(L=!0,this._mergeOption(ae,$))}if(!r||r==="recreate"||r==="media"){var re=V.getMediaOption(this);re.length&&each$v(re,function(le){L=!0,this._mergeOption(le,$)},this)}return L},n.prototype.mergeOption=function(r){this._mergeOption(r,null)},n.prototype._mergeOption=function(r,$){var L=this.option,V=this._componentsMap,oe=this._componentsCount,ae=[],re=createHashMap$1(),le=$&&$.replaceMergeMainTypeMap;resetSourceDefaulter$1(this),each$v(r,function(de,he){de!=null&&(ComponentModel$3.hasClass(he)?he&&(ae.push(he),re.set(he,!0)):L[he]=L[he]==null?clone$9(de):merge$3(L[he],de,!0))}),le&&le.each(function(de,he){ComponentModel$3.hasClass(he)&&!re.get(he)&&(ae.push(he),re.set(he,!0))}),ComponentModel$3.topologicalTravel(ae,ComponentModel$3.getAllClassMainTypes(),ue,this);function ue(de){var he=concatInternalOptions$1(this,de,normalizeToArray$1(r[de])),pe=V.get(de),_e=pe?le&&le.get(de)?"replaceMerge":"normalMerge":"replaceAll",$e=mappingToExists$1(pe,he,_e);setComponentTypeToKeyInfo$1($e,de,ComponentModel$3),L[de]=null,V.set(de,null),oe.set(de,0);var xe=[],Oe=[],Ce=0,Ie;each$v($e,function(Ne,ze){var Fe=Ne.existing,Ue=Ne.newOption;if(!Ue)Fe&&(Fe.mergeOption({},this),Fe.optionUpdated({},!1));else{var At=de==="series",Et=ComponentModel$3.getClass(de,Ne.keyInfo.subType,!At);if(!Et)return;if(de==="tooltip"){if(Ie)return;Ie=!0}if(Fe&&Fe.constructor===Et)Fe.name=Ne.keyInfo.name,Fe.mergeOption(Ue,this),Fe.optionUpdated(Ue,!1);else{var Pt=extend$4({componentIndex:ze},Ne.keyInfo);Fe=new Et(Ue,this,this,Pt),extend$4(Fe,Pt),Ne.brandNew&&(Fe.__requireNewView=!0),Fe.init(Ue,this,this),Fe.optionUpdated(null,!0)}}Fe?(xe.push(Fe.option),Oe.push(Fe),Ce++):(xe.push(void 0),Oe.push(void 0))},this),L[de]=xe,V.set(de,Oe),oe.set(de,Ce),de==="series"&&reCreateSeriesIndices$1(this)}this._seriesIndices||reCreateSeriesIndices$1(this)},n.prototype.getOption=function(){var r=clone$9(this.option);return each$v(r,function($,L){if(ComponentModel$3.hasClass(L)){for(var V=normalizeToArray$1($),oe=V.length,ae=!1,re=oe-1;re>=0;re--)V[re]&&!isComponentIdInternal$1(V[re])?ae=!0:(V[re]=null,!ae&&oe--);V.length=oe,r[L]=V}}),delete r[OPTION_INNER_KEY$1],r},n.prototype.getTheme=function(){return this._theme},n.prototype.getLocaleModel=function(){return this._locale},n.prototype.setUpdatePayload=function(r){this._payload=r},n.prototype.getUpdatePayload=function(){return this._payload},n.prototype.getComponent=function(r,$){var L=this._componentsMap.get(r);if(L){var V=L[$||0];if(V)return V;if($==null){for(var oe=0;oe<L.length;oe++)if(L[oe])return L[oe]}}},n.prototype.queryComponents=function(r){var $=r.mainType;if(!$)return[];var L=r.index,V=r.id,oe=r.name,ae=this._componentsMap.get($);if(!ae||!ae.length)return[];var re;return L!=null?(re=[],each$v(normalizeToArray$1(L),function(le){ae[le]&&re.push(ae[le])})):V!=null?re=queryByIdOrName$1("id",V,ae):oe!=null?re=queryByIdOrName$1("name",oe,ae):re=filter$1(ae,function(le){return!!le}),filterBySubType$1(re,r)},n.prototype.findComponents=function(r){var $=r.query,L=r.mainType,V=ae($),oe=V?this.queryComponents(V):filter$1(this._componentsMap.get(L),function(le){return!!le});return re(filterBySubType$1(oe,r));function ae(le){var ue=L+"Index",de=L+"Id",he=L+"Name";return le&&(le[ue]!=null||le[de]!=null||le[he]!=null)?{mainType:L,index:le[ue],id:le[de],name:le[he]}:null}function re(le){return r.filter?filter$1(le,r.filter):le}},n.prototype.eachComponent=function(r,$,L){var V=this._componentsMap;if(isFunction$3(r)){var oe=$,ae=r;V.each(function(de,he){for(var pe=0;de&&pe<de.length;pe++){var _e=de[pe];_e&&ae.call(oe,he,_e,_e.componentIndex)}})}else for(var re=isString$3(r)?V.get(r):isObject$9(r)?this.findComponents(r):null,le=0;re&&le<re.length;le++){var ue=re[le];ue&&$.call(L,ue,ue.componentIndex)}},n.prototype.getSeriesByName=function(r){var $=convertOptionIdName$1(r,null);return filter$1(this._componentsMap.get("series"),function(L){return!!L&&$!=null&&L.name===$})},n.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},n.prototype.getSeriesByType=function(r){return filter$1(this._componentsMap.get("series"),function($){return!!$&&$.subType===r})},n.prototype.getSeries=function(){return filter$1(this._componentsMap.get("series"),function(r){return!!r})},n.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},n.prototype.eachSeries=function(r,$){assertSeriesInitialized$1(this),each$v(this._seriesIndices,function(L){var V=this._componentsMap.get("series")[L];r.call($,V,L)},this)},n.prototype.eachRawSeries=function(r,$){each$v(this._componentsMap.get("series"),function(L){L&&r.call($,L,L.componentIndex)})},n.prototype.eachSeriesByType=function(r,$,L){assertSeriesInitialized$1(this),each$v(this._seriesIndices,function(V){var oe=this._componentsMap.get("series")[V];oe.subType===r&&$.call(L,oe,V)},this)},n.prototype.eachRawSeriesByType=function(r,$,L){return each$v(this.getSeriesByType(r),$,L)},n.prototype.isSeriesFiltered=function(r){return assertSeriesInitialized$1(this),this._seriesIndicesMap.get(r.componentIndex)==null},n.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},n.prototype.filterSeries=function(r,$){assertSeriesInitialized$1(this);var L=[];each$v(this._seriesIndices,function(V){var oe=this._componentsMap.get("series")[V];r.call($,oe,V)&&L.push(V)},this),this._seriesIndices=L,this._seriesIndicesMap=createHashMap$1(L)},n.prototype.restoreData=function(r){reCreateSeriesIndices$1(this);var $=this._componentsMap,L=[];$.each(function(V,oe){ComponentModel$3.hasClass(oe)&&L.push(oe)}),ComponentModel$3.topologicalTravel(L,ComponentModel$3.getAllClassMainTypes(),function(V){each$v($.get(V),function(oe){oe&&(V!=="series"||!isNotTargetSeries$1(oe,r))&&oe.restoreData()})})},n.internalField=function(){reCreateSeriesIndices$1=function(r){var $=r._seriesIndices=[];each$v(r._componentsMap.get("series"),function(L){L&&$.push(L.componentIndex)}),r._seriesIndicesMap=createHashMap$1($)},assertSeriesInitialized$1=function(r){},initBase$1=function(r,$){r.option={},r.option[OPTION_INNER_KEY$1]=OPTION_INNER_VALUE$1,r._componentsMap=createHashMap$1({series:[]}),r._componentsCount=createHashMap$1();var L=$.aria;isObject$9(L)&&L.enabled==null&&(L.enabled=!0),mergeTheme$1($,r._theme.option),merge$3($,globalDefault$1,!1),r._mergeOption($,null)}}(),n}(Model$3);function isNotTargetSeries$1(g,n){if(n){var r=n.seriesIndex,$=n.seriesId,L=n.seriesName;return r!=null&&g.componentIndex!==r||$!=null&&g.id!==$||L!=null&&g.name!==L}}function mergeTheme$1(g,n){var r=g.color&&!g.colorLayer;each$v(n,function($,L){L==="colorLayer"&&r||ComponentModel$3.hasClass(L)||(typeof $=="object"?g[L]=g[L]?merge$3(g[L],$,!1):clone$9($):g[L]==null&&(g[L]=$))})}function queryByIdOrName$1(g,n,r){if(isArray$6(n)){var $=createHashMap$1();return each$v(n,function(V){if(V!=null){var oe=convertOptionIdName$1(V,null);oe!=null&&$.set(V,!0)}}),filter$1(r,function(V){return V&&$.get(V[g])})}else{var L=convertOptionIdName$1(n,null);return filter$1(r,function(V){return V&&L!=null&&V[g]===L})}}function filterBySubType$1(g,n){return n.hasOwnProperty("subType")?filter$1(g,function(r){return r&&r.subType===n.subType}):g}function normalizeSetOptionInput$1(g){var n=createHashMap$1();return g&&each$v(normalizeToArray$1(g.replaceMerge),function(r){n.set(r,!0)}),{replaceMergeMainTypeMap:n}}mixin$1(GlobalModel$2,PaletteMixin$1);const GlobalModel$3=GlobalModel$2;var availableMethods$1=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI$2=function(){function g(n){each$v(availableMethods$1,function(r){this[r]=bind$5(n[r],n)},this)}return g}();const ExtensionAPI$3=ExtensionAPI$2;var coordinateSystemCreators$1={},CoordinateSystemManager$1=function(){function g(){this._coordinateSystems=[]}return g.prototype.create=function(n,r){var $=[];each$v(coordinateSystemCreators$1,function(L,V){var oe=L.create(n,r);$=$.concat(oe||[])}),this._coordinateSystems=$},g.prototype.update=function(n,r){each$v(this._coordinateSystems,function($){$.update&&$.update(n,r)})},g.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},g.register=function(n,r){coordinateSystemCreators$1[n]=r},g.get=function(n){return coordinateSystemCreators$1[n]},g}();const CoordinateSystem$1=CoordinateSystemManager$1;var QUERY_REG$1=/^(min|max)?(.+)$/,OptionManager$2=function(){function g(n){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=n}return g.prototype.setOption=function(n,r,$){n&&(each$v(normalizeToArray$1(n.series),function(oe){oe&&oe.data&&isTypedArray$3(oe.data)&&setAsPrimitive$1(oe.data)}),each$v(normalizeToArray$1(n.dataset),function(oe){oe&&oe.source&&isTypedArray$3(oe.source)&&setAsPrimitive$1(oe.source)})),n=clone$9(n);var L=this._optionBackup,V=parseRawOption$1(n,r,!L);this._newBaseOption=V.baseOption,L?(V.timelineOptions.length&&(L.timelineOptions=V.timelineOptions),V.mediaList.length&&(L.mediaList=V.mediaList),V.mediaDefault&&(L.mediaDefault=V.mediaDefault)):this._optionBackup=V},g.prototype.mountOption=function(n){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],clone$9(n?r.baseOption:this._newBaseOption)},g.prototype.getTimelineOption=function(n){var r,$=this._timelineOptions;if($.length){var L=n.getComponent("timeline");L&&(r=clone$9($[L.getCurrentIndex()]))}return r},g.prototype.getMediaOption=function(n){var r=this._api.getWidth(),$=this._api.getHeight(),L=this._mediaList,V=this._mediaDefault,oe=[],ae=[];if(!L.length&&!V)return ae;for(var re=0,le=L.length;re<le;re++)applyMediaQuery$1(L[re].query,r,$)&&oe.push(re);return!oe.length&&V&&(oe=[-1]),oe.length&&!indicesEquals$1(oe,this._currentMediaIndices)&&(ae=map$3(oe,function(ue){return clone$9(ue===-1?V.option:L[ue].option)})),this._currentMediaIndices=oe,ae},g}();function parseRawOption$1(g,n,r){var $=[],L,V,oe=g.baseOption,ae=g.timeline,re=g.options,le=g.media,ue=!!g.media,de=!!(re||ae||oe&&oe.timeline);oe?(V=oe,V.timeline||(V.timeline=ae)):((de||ue)&&(g.options=g.media=null),V=g),ue&&isArray$6(le)&&each$v(le,function(pe){pe&&pe.option&&(pe.query?$.push(pe):L||(L=pe))}),he(V),each$v(re,function(pe){return he(pe)}),each$v($,function(pe){return he(pe.option)});function he(pe){each$v(n,function(_e){_e(pe,r)})}return{baseOption:V,timelineOptions:re||[],mediaDefault:L,mediaList:$}}function applyMediaQuery$1(g,n,r){var $={width:n,height:r,aspectratio:n/r},L=!0;return each$v(g,function(V,oe){var ae=oe.match(QUERY_REG$1);if(!(!ae||!ae[1]||!ae[2])){var re=ae[1],le=ae[2].toLowerCase();compare$2($[le],V,re)||(L=!1)}}),L}function compare$2(g,n,r){return r==="min"?g>=n:r==="max"?g<=n:g===n}function indicesEquals$1(g,n){return g.join(",")===n.join(",")}const OptionManager$3=OptionManager$2;var each$t=each$v,isObject$8=isObject$9,POSSIBLE_STYLES$1=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle$1(g){var n=g&&g.itemStyle;if(n)for(var r=0,$=POSSIBLE_STYLES$1.length;r<$;r++){var L=POSSIBLE_STYLES$1[r],V=n.normal,oe=n.emphasis;V&&V[L]&&(g[L]=g[L]||{},g[L].normal?merge$3(g[L].normal,V[L]):g[L].normal=V[L],V[L]=null),oe&&oe[L]&&(g[L]=g[L]||{},g[L].emphasis?merge$3(g[L].emphasis,oe[L]):g[L].emphasis=oe[L],oe[L]=null)}}function convertNormalEmphasis$1(g,n,r){if(g&&g[n]&&(g[n].normal||g[n].emphasis)){var $=g[n].normal,L=g[n].emphasis;$&&(r?(g[n].normal=g[n].emphasis=null,defaults$7(g[n],$)):g[n]=$),L&&(g.emphasis=g.emphasis||{},g.emphasis[n]=L,L.focus&&(g.emphasis.focus=L.focus),L.blurScope&&(g.emphasis.blurScope=L.blurScope))}}function removeEC3NormalStatus$1(g){convertNormalEmphasis$1(g,"itemStyle"),convertNormalEmphasis$1(g,"lineStyle"),convertNormalEmphasis$1(g,"areaStyle"),convertNormalEmphasis$1(g,"label"),convertNormalEmphasis$1(g,"labelLine"),convertNormalEmphasis$1(g,"upperLabel"),convertNormalEmphasis$1(g,"edgeLabel")}function compatTextStyle$1(g,n){var r=isObject$8(g)&&g[n],$=isObject$8(r)&&r.textStyle;if($)for(var L=0,V=TEXT_STYLE_OPTIONS$1.length;L<V;L++){var oe=TEXT_STYLE_OPTIONS$1[L];$.hasOwnProperty(oe)&&(r[oe]=$[oe])}}function compatEC3CommonStyles$1(g){g&&(removeEC3NormalStatus$1(g),compatTextStyle$1(g,"label"),g.emphasis&&compatTextStyle$1(g.emphasis,"label"))}function processSeries$1(g){if(isObject$8(g)){compatEC2ItemStyle$1(g),removeEC3NormalStatus$1(g),compatTextStyle$1(g,"label"),compatTextStyle$1(g,"upperLabel"),compatTextStyle$1(g,"edgeLabel"),g.emphasis&&(compatTextStyle$1(g.emphasis,"label"),compatTextStyle$1(g.emphasis,"upperLabel"),compatTextStyle$1(g.emphasis,"edgeLabel"));var n=g.markPoint;n&&(compatEC2ItemStyle$1(n),compatEC3CommonStyles$1(n));var r=g.markLine;r&&(compatEC2ItemStyle$1(r),compatEC3CommonStyles$1(r));var $=g.markArea;$&&compatEC3CommonStyles$1($);var L=g.data;if(g.type==="graph"){L=L||g.nodes;var V=g.links||g.edges;if(V&&!isTypedArray$3(V))for(var oe=0;oe<V.length;oe++)compatEC3CommonStyles$1(V[oe]);each$v(g.categories,function(le){removeEC3NormalStatus$1(le)})}if(L&&!isTypedArray$3(L))for(var oe=0;oe<L.length;oe++)compatEC3CommonStyles$1(L[oe]);if(n=g.markPoint,n&&n.data)for(var ae=n.data,oe=0;oe<ae.length;oe++)compatEC3CommonStyles$1(ae[oe]);if(r=g.markLine,r&&r.data)for(var re=r.data,oe=0;oe<re.length;oe++)isArray$6(re[oe])?(compatEC3CommonStyles$1(re[oe][0]),compatEC3CommonStyles$1(re[oe][1])):compatEC3CommonStyles$1(re[oe]);g.type==="gauge"?(compatTextStyle$1(g,"axisLabel"),compatTextStyle$1(g,"title"),compatTextStyle$1(g,"detail")):g.type==="treemap"?(convertNormalEmphasis$1(g.breadcrumb,"itemStyle"),each$v(g.levels,function(le){removeEC3NormalStatus$1(le)})):g.type==="tree"&&removeEC3NormalStatus$1(g.leaves)}}function toArr$1(g){return isArray$6(g)?g:g?[g]:[]}function toObj$1(g){return(isArray$6(g)?g[0]:g)||{}}function globalCompatStyle$1(g,n){each$t(toArr$1(g.series),function($){isObject$8($)&&processSeries$1($)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];n&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$t(r,function($){each$t(toArr$1(g[$]),function(L){L&&(compatTextStyle$1(L,"axisLabel"),compatTextStyle$1(L.axisPointer,"label"))})}),each$t(toArr$1(g.parallel),function($){var L=$&&$.parallelAxisDefault;compatTextStyle$1(L,"axisLabel"),compatTextStyle$1(L&&L.axisPointer,"label")}),each$t(toArr$1(g.calendar),function($){convertNormalEmphasis$1($,"itemStyle"),compatTextStyle$1($,"dayLabel"),compatTextStyle$1($,"monthLabel"),compatTextStyle$1($,"yearLabel")}),each$t(toArr$1(g.radar),function($){compatTextStyle$1($,"name"),$.name&&$.axisName==null&&($.axisName=$.name,delete $.name),$.nameGap!=null&&$.axisNameGap==null&&($.axisNameGap=$.nameGap,delete $.nameGap)}),each$t(toArr$1(g.geo),function($){isObject$8($)&&(compatEC3CommonStyles$1($),each$t(toArr$1($.regions),function(L){compatEC3CommonStyles$1(L)}))}),each$t(toArr$1(g.timeline),function($){compatEC3CommonStyles$1($),convertNormalEmphasis$1($,"label"),convertNormalEmphasis$1($,"itemStyle"),convertNormalEmphasis$1($,"controlStyle",!0);var L=$.data;isArray$6(L)&&each$v(L,function(V){isObject$9(V)&&(convertNormalEmphasis$1(V,"label"),convertNormalEmphasis$1(V,"itemStyle"))})}),each$t(toArr$1(g.toolbox),function($){convertNormalEmphasis$1($,"iconStyle"),each$t($.feature,function(L){convertNormalEmphasis$1(L,"iconStyle")})}),compatTextStyle$1(toObj$1(g.axisPointer),"label"),compatTextStyle$1(toObj$1(g.tooltip).axisPointer,"label")}function get$1(g,n){for(var r=n.split(","),$=g,L=0;L<r.length&&($=$&&$[r[L]],$!=null);L++);return $}function set$2(g,n,r,$){for(var L=n.split(","),V=g,oe,ae=0;ae<L.length-1;ae++)oe=L[ae],V[oe]==null&&(V[oe]={}),V=V[oe];($||V[L[ae]]==null)&&(V[L[ae]]=r)}function compatLayoutProperties$1(g){g&&each$v(LAYOUT_PROPERTIES$1,function(n){n[0]in g&&!(n[1]in g)&&(g[n[1]]=g[n[0]])})}var LAYOUT_PROPERTIES$1=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS$1=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP$1=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle$1(g){var n=g&&g.itemStyle;if(n)for(var r=0;r<BAR_ITEM_STYLE_MAP$1.length;r++){var $=BAR_ITEM_STYLE_MAP$1[r][1],L=BAR_ITEM_STYLE_MAP$1[r][0];n[$]!=null&&(n[L]=n[$])}}function compatPieLabel$1(g){!g||g.alignTo==="edge"&&g.margin!=null&&g.edgeDistance==null&&(g.edgeDistance=g.margin)}function compatSunburstState$1(g){!g||g.downplay&&!g.blur&&(g.blur=g.downplay)}function compatGraphFocus$1(g){!g||g.focusNodeAdjacency!=null&&(g.emphasis=g.emphasis||{},g.emphasis.focus==null&&(g.emphasis.focus="adjacency"))}function traverseTree$1(g,n){if(g)for(var r=0;r<g.length;r++)n(g[r]),g[r]&&traverseTree$1(g[r].children,n)}function globalBackwardCompat$1(g,n){globalCompatStyle$1(g,n),g.series=normalizeToArray$1(g.series),each$v(g.series,function(r){if(isObject$9(r)){var $=r.type;if($==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if($==="pie"||$==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),compatPieLabel$1(r.label);var L=r.data;if(L&&!isTypedArray$3(L))for(var V=0;V<L.length;V++)compatPieLabel$1(L[V]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if($==="gauge"){var oe=get$1(r,"pointer.color");oe!=null&&set$2(r,"itemStyle.color",oe)}else if($==="bar"){compatBarItemStyle$1(r),compatBarItemStyle$1(r.backgroundStyle),compatBarItemStyle$1(r.emphasis);var L=r.data;if(L&&!isTypedArray$3(L))for(var V=0;V<L.length;V++)typeof L[V]=="object"&&(compatBarItemStyle$1(L[V]),compatBarItemStyle$1(L[V]&&L[V].emphasis))}else if($==="sunburst"){var ae=r.highlightPolicy;ae&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=ae)),compatSunburstState$1(r),traverseTree$1(r.data,compatSunburstState$1)}else $==="graph"||$==="sankey"?compatGraphFocus$1(r):$==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&defaults$7(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),compatLayoutProperties$1(r)}}),g.dataRange&&(g.visualMap=g.dataRange),each$v(COMPATITABLE_COMPONENTS$1,function(r){var $=g[r];$&&(isArray$6($)||($=[$]),each$v($,function(L){compatLayoutProperties$1(L)}))})}function dataStack$1(g){var n=createHashMap$1();g.eachSeries(function(r){var $=r.get("stack");if($){var L=n.get($)||n.set($,[]),V=r.getData(),oe={stackResultDimension:V.getCalculationInfo("stackResultDimension"),stackedOverDimension:V.getCalculationInfo("stackedOverDimension"),stackedDimension:V.getCalculationInfo("stackedDimension"),stackedByDimension:V.getCalculationInfo("stackedByDimension"),isStackedByIndex:V.getCalculationInfo("isStackedByIndex"),data:V,seriesModel:r};if(!oe.stackedDimension||!(oe.isStackedByIndex||oe.stackedByDimension))return;L.length&&V.setCalculationInfo("stackedOnSeries",L[L.length-1].seriesModel),L.push(oe)}}),n.each(calculateStack$1)}function calculateStack$1(g){each$v(g,function(n,r){var $=[],L=[NaN,NaN],V=[n.stackResultDimension,n.stackedOverDimension],oe=n.data,ae=n.isStackedByIndex,re=n.seriesModel.get("stackStrategy")||"samesign";oe.modify(V,function(le,ue,de){var he=oe.get(n.stackedDimension,de);if(isNaN(he))return L;var pe,_e;ae?_e=oe.getRawIndex(de):pe=oe.get(n.stackedByDimension,de);for(var $e=NaN,xe=r-1;xe>=0;xe--){var Oe=g[xe];if(ae||(_e=Oe.data.rawIndexOf(Oe.stackedByDimension,pe)),_e>=0){var Ce=Oe.data.getByRawIndex(Oe.stackResultDimension,_e);if(re==="all"||re==="positive"&&Ce>0||re==="negative"&&Ce<0||re==="samesign"&&he>=0&&Ce>0||re==="samesign"&&he<=0&&Ce<0){he=addSafe$1(he,Ce),$e=Ce;break}}}return $[0]=he,$[1]=$e,$})})}var SourceImpl$1=function(){function g(n){this.data=n.data||(n.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS$1?{}:[]),this.sourceFormat=n.sourceFormat||SOURCE_FORMAT_UNKNOWN$1,this.seriesLayoutBy=n.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN$1,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var r=this.dimensionsDefine=n.dimensionsDefine;if(r)for(var $=0;$<r.length;$++){var L=r[$];L.type==null&&guessOrdinal$1(this,$)===BE_ORDINAL$1.Must&&(L.type="ordinal")}}return g}();function isSourceInstance$1(g){return g instanceof SourceImpl$1}function createSource$1(g,n,r){r=r||detectSourceFormat$1(g);var $=n.seriesLayoutBy,L=determineSourceDimensions$1(g,r,$,n.sourceHeader,n.dimensions),V=new SourceImpl$1({data:g,sourceFormat:r,seriesLayoutBy:$,dimensionsDefine:L.dimensionsDefine,startIndex:L.startIndex,dimensionsDetectedCount:L.dimensionsDetectedCount,metaRawOption:clone$9(n)});return V}function createSourceFromSeriesDataOption$1(g){return new SourceImpl$1({data:g,sourceFormat:isTypedArray$3(g)?SOURCE_FORMAT_TYPED_ARRAY$1:SOURCE_FORMAT_ORIGINAL$1})}function cloneSourceShallow$1(g){return new SourceImpl$1({data:g.data,sourceFormat:g.sourceFormat,seriesLayoutBy:g.seriesLayoutBy,dimensionsDefine:clone$9(g.dimensionsDefine),startIndex:g.startIndex,dimensionsDetectedCount:g.dimensionsDetectedCount})}function detectSourceFormat$1(g){var n=SOURCE_FORMAT_UNKNOWN$1;if(isTypedArray$3(g))n=SOURCE_FORMAT_TYPED_ARRAY$1;else if(isArray$6(g)){g.length===0&&(n=SOURCE_FORMAT_ARRAY_ROWS$1);for(var r=0,$=g.length;r<$;r++){var L=g[r];if(L!=null){if(isArray$6(L)){n=SOURCE_FORMAT_ARRAY_ROWS$1;break}else if(isObject$9(L)){n=SOURCE_FORMAT_OBJECT_ROWS$1;break}}}}else if(isObject$9(g)){for(var V in g)if(hasOwn$1(g,V)&&isArrayLike$1(g[V])){n=SOURCE_FORMAT_KEYED_COLUMNS$1;break}}return n}function determineSourceDimensions$1(g,n,r,$,L){var V,oe;if(!g)return{dimensionsDefine:normalizeDimensionsOption$1(L),startIndex:oe,dimensionsDetectedCount:V};if(n===SOURCE_FORMAT_ARRAY_ROWS$1){var ae=g;$==="auto"||$==null?arrayRowsTravelFirst$1(function(le){le!=null&&le!=="-"&&(isString$3(le)?oe==null&&(oe=1):oe=0)},r,ae,10):oe=isNumber$3($)?$:$?1:0,!L&&oe===1&&(L=[],arrayRowsTravelFirst$1(function(le,ue){L[ue]=le!=null?le+"":""},r,ae,1/0)),V=L?L.length:r===SERIES_LAYOUT_BY_ROW$1?ae.length:ae[0]?ae[0].length:null}else if(n===SOURCE_FORMAT_OBJECT_ROWS$1)L||(L=objectRowsCollectDimensions$1(g));else if(n===SOURCE_FORMAT_KEYED_COLUMNS$1)L||(L=[],each$v(g,function(le,ue){L.push(ue)}));else if(n===SOURCE_FORMAT_ORIGINAL$1){var re=getDataItemValue$1(g[0]);V=isArray$6(re)&&re.length||1}return{startIndex:oe,dimensionsDefine:normalizeDimensionsOption$1(L),dimensionsDetectedCount:V}}function objectRowsCollectDimensions$1(g){for(var n=0,r;n<g.length&&!(r=g[n++]););if(r){var $=[];return each$v(r,function(L,V){$.push(V)}),$}}function normalizeDimensionsOption$1(g){if(g){var n=createHashMap$1();return map$3(g,function(r,$){r=isObject$9(r)?r:{name:r};var L={name:r.name,displayName:r.displayName,type:r.type};if(L.name==null)return L;L.name+="",L.displayName==null&&(L.displayName=L.name);var V=n.get(L.name);return V?L.name+="-"+V.count++:n.set(L.name,{count:1}),L})}}function arrayRowsTravelFirst$1(g,n,r,$){if(n===SERIES_LAYOUT_BY_ROW$1)for(var L=0;L<r.length&&L<$;L++)g(r[L]?r[L][0]:null,L);else for(var V=r[0]||[],L=0;L<V.length&&L<$;L++)g(V[L],L)}function shouldRetrieveDataByName$1(g){var n=g.sourceFormat;return n===SOURCE_FORMAT_OBJECT_ROWS$1||n===SOURCE_FORMAT_KEYED_COLUMNS$1}var _a$2,_b$1,_c$1,providerMethods$1,mountMethods$1,DefaultDataProvider$1=function(){function g(n,r){var $=isSourceInstance$1(n)?n:createSourceFromSeriesDataOption$1(n);this._source=$;var L=this._data=$.data;$.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY$1&&(this._offset=0,this._dimSize=r,this._data=L),mountMethods$1(this,L,$)}return g.prototype.getSource=function(){return this._source},g.prototype.count=function(){return 0},g.prototype.getItem=function(n,r){},g.prototype.appendData=function(n){},g.prototype.clean=function(){},g.protoInitialize=function(){var n=g.prototype;n.pure=!1,n.persistent=!0}(),g.internalField=function(){var n;mountMethods$1=function(oe,ae,re){var le=re.sourceFormat,ue=re.seriesLayoutBy,de=re.startIndex,he=re.dimensionsDefine,pe=providerMethods$1[getMethodMapKey$1(le,ue)];if(extend$4(oe,pe),le===SOURCE_FORMAT_TYPED_ARRAY$1)oe.getItem=r,oe.count=L,oe.fillStorage=$;else{var _e=getRawSourceItemGetter$1(le,ue);oe.getItem=bind$5(_e,null,ae,de,he);var $e=getRawSourceDataCounter$1(le,ue);oe.count=bind$5($e,null,ae,de,he)}};var r=function(oe,ae){oe=oe-this._offset,ae=ae||[];for(var re=this._data,le=this._dimSize,ue=le*oe,de=0;de<le;de++)ae[de]=re[ue+de];return ae},$=function(oe,ae,re,le){for(var ue=this._data,de=this._dimSize,he=0;he<de;he++){for(var pe=le[he],_e=pe[0]==null?1/0:pe[0],$e=pe[1]==null?-1/0:pe[1],xe=ae-oe,Oe=re[he],Ce=0;Ce<xe;Ce++){var Ie=ue[Ce*de+he];Oe[oe+Ce]=Ie,Ie<_e&&(_e=Ie),Ie>$e&&($e=Ie)}pe[0]=_e,pe[1]=$e}},L=function(){return this._data?this._data.length/this._dimSize:0};providerMethods$1=(n={},n[SOURCE_FORMAT_ARRAY_ROWS$1+"_"+SERIES_LAYOUT_BY_COLUMN$1]={pure:!0,appendData:V},n[SOURCE_FORMAT_ARRAY_ROWS$1+"_"+SERIES_LAYOUT_BY_ROW$1]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},n[SOURCE_FORMAT_OBJECT_ROWS$1]={pure:!0,appendData:V},n[SOURCE_FORMAT_KEYED_COLUMNS$1]={pure:!0,appendData:function(oe){var ae=this._data;each$v(oe,function(re,le){for(var ue=ae[le]||(ae[le]=[]),de=0;de<(re||[]).length;de++)ue.push(re[de])})}},n[SOURCE_FORMAT_ORIGINAL$1]={appendData:V},n[SOURCE_FORMAT_TYPED_ARRAY$1]={persistent:!1,pure:!0,appendData:function(oe){this._data=oe},clean:function(){this._offset+=this.count(),this._data=null}},n);function V(oe){for(var ae=0;ae<oe.length;ae++)this._data.push(oe[ae])}}(),g}(),getItemSimply$1=function(g,n,r,$){return g[$]},rawSourceItemGetterMap$1=(_a$2={},_a$2[SOURCE_FORMAT_ARRAY_ROWS$1+"_"+SERIES_LAYOUT_BY_COLUMN$1]=function(g,n,r,$){return g[$+n]},_a$2[SOURCE_FORMAT_ARRAY_ROWS$1+"_"+SERIES_LAYOUT_BY_ROW$1]=function(g,n,r,$,L){$+=n;for(var V=L||[],oe=g,ae=0;ae<oe.length;ae++){var re=oe[ae];V[ae]=re?re[$]:null}return V},_a$2[SOURCE_FORMAT_OBJECT_ROWS$1]=getItemSimply$1,_a$2[SOURCE_FORMAT_KEYED_COLUMNS$1]=function(g,n,r,$,L){for(var V=L||[],oe=0;oe<r.length;oe++){var ae=r[oe].name,re=g[ae];V[oe]=re?re[$]:null}return V},_a$2[SOURCE_FORMAT_ORIGINAL$1]=getItemSimply$1,_a$2);function getRawSourceItemGetter$1(g,n){var r=rawSourceItemGetterMap$1[getMethodMapKey$1(g,n)];return r}var countSimply$1=function(g,n,r){return g.length},rawSourceDataCounterMap$1=(_b$1={},_b$1[SOURCE_FORMAT_ARRAY_ROWS$1+"_"+SERIES_LAYOUT_BY_COLUMN$1]=function(g,n,r){return Math.max(0,g.length-n)},_b$1[SOURCE_FORMAT_ARRAY_ROWS$1+"_"+SERIES_LAYOUT_BY_ROW$1]=function(g,n,r){var $=g[0];return $?Math.max(0,$.length-n):0},_b$1[SOURCE_FORMAT_OBJECT_ROWS$1]=countSimply$1,_b$1[SOURCE_FORMAT_KEYED_COLUMNS$1]=function(g,n,r){var $=r[0].name,L=g[$];return L?L.length:0},_b$1[SOURCE_FORMAT_ORIGINAL$1]=countSimply$1,_b$1);function getRawSourceDataCounter$1(g,n){var r=rawSourceDataCounterMap$1[getMethodMapKey$1(g,n)];return r}var getRawValueSimply$1=function(g,n,r){return g[n]},rawSourceValueGetterMap$1=(_c$1={},_c$1[SOURCE_FORMAT_ARRAY_ROWS$1]=getRawValueSimply$1,_c$1[SOURCE_FORMAT_OBJECT_ROWS$1]=function(g,n,r){return g[r]},_c$1[SOURCE_FORMAT_KEYED_COLUMNS$1]=getRawValueSimply$1,_c$1[SOURCE_FORMAT_ORIGINAL$1]=function(g,n,r){var $=getDataItemValue$1(g);return $ instanceof Array?$[n]:$},_c$1[SOURCE_FORMAT_TYPED_ARRAY$1]=getRawValueSimply$1,_c$1);function getRawSourceValueGetter$1(g){var n=rawSourceValueGetterMap$1[g];return n}function getMethodMapKey$1(g,n){return g===SOURCE_FORMAT_ARRAY_ROWS$1?g+"_"+n:g}function retrieveRawValue$1(g,n,r){if(g){var $=g.getRawDataItem(n);if($!=null){var L=g.getStore(),V=L.getSource().sourceFormat;if(r!=null){var oe=g.getDimensionIndex(r),ae=L.getDimensionProperty(oe);return getRawSourceValueGetter$1(V)($,oe,ae)}else{var re=$;return V===SOURCE_FORMAT_ORIGINAL$1&&(re=getDataItemValue$1($)),re}}}}var DIMENSION_LABEL_REG$1=/\{@(.+?)\}/g,DataFormatMixin$1=function(){function g(){}return g.prototype.getDataParams=function(n,r){var $=this.getData(r),L=this.getRawValue(n,r),V=$.getRawIndex(n),oe=$.getName(n),ae=$.getRawDataItem(n),re=$.getItemVisual(n,"style"),le=re&&re[$.getItemVisual(n,"drawType")||"fill"],ue=re&&re.stroke,de=this.mainType,he=de==="series",pe=$.userOutput&&$.userOutput.get();return{componentType:de,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:he?this.subType:null,seriesIndex:this.seriesIndex,seriesId:he?this.id:null,seriesName:he?this.name:null,name:oe,dataIndex:V,data:ae,dataType:r,value:L,color:le,borderColor:ue,dimensionNames:pe?pe.fullDimensions:null,encode:pe?pe.encode:null,$vars:["seriesName","name","value"]}},g.prototype.getFormattedLabel=function(n,r,$,L,V,oe){r=r||"normal";var ae=this.getData($),re=this.getDataParams(n,$);if(oe&&(re.value=oe.interpolatedValue),L!=null&&isArray$6(re.value)&&(re.value=re.value[L]),!V){var le=ae.getItemModel(n);V=le.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(isFunction$3(V))return re.status=r,re.dimensionIndex=L,V(re);if(isString$3(V)){var ue=formatTpl$1(V,re);return ue.replace(DIMENSION_LABEL_REG$1,function(de,he){var pe=he.length,_e=he;_e.charAt(0)==="["&&_e.charAt(pe-1)==="]"&&(_e=+_e.slice(1,pe-1));var $e=retrieveRawValue$1(ae,n,_e);if(oe&&isArray$6(oe.interpolatedValue)){var xe=ae.getDimensionIndex(_e);xe>=0&&($e=oe.interpolatedValue[xe])}return $e!=null?$e+"":""})}},g.prototype.getRawValue=function(n,r){return retrieveRawValue$1(this.getData(r),n)},g.prototype.formatTooltip=function(n,r,$){},g}();function normalizeTooltipFormatResult$1(g){var n,r;return isObject$9(g)?g.type&&(r=g):n=g,{text:n,frag:r}}function createTask$1(g){return new Task$1(g)}var Task$1=function(){function g(n){n=n||{},this._reset=n.reset,this._plan=n.plan,this._count=n.count,this._onDirty=n.onDirty,this._dirty=!0}return g.prototype.perform=function(n){var r=this._upstream,$=n&&n.skip;if(this._dirty&&r){var L=this.context;L.data=L.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var V;this._plan&&!$&&(V=this._plan(this.context));var oe=ue(this._modBy),ae=this._modDataCount||0,re=ue(n&&n.modBy),le=n&&n.modDataCount||0;(oe!==re||ae!==le)&&(V="reset");function ue(Ce){return!(Ce>=1)&&(Ce=1),Ce}var de;(this._dirty||V==="reset")&&(this._dirty=!1,de=this._doReset($)),this._modBy=re,this._modDataCount=le;var he=n&&n.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var pe=this._dueIndex,_e=Math.min(he!=null?this._dueIndex+he:1/0,this._dueEnd);if(!$&&(de||pe<_e)){var $e=this._progress;if(isArray$6($e))for(var xe=0;xe<$e.length;xe++)this._doProgress($e[xe],pe,_e,re,le);else this._doProgress($e,pe,_e,re,le)}this._dueIndex=_e;var Oe=this._settedOutputEnd!=null?this._settedOutputEnd:_e;this._outputDueEnd=Oe}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},g.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},g.prototype._doProgress=function(n,r,$,L,V){iterator$1.reset(r,$,L,V),this._callingProgress=n,this._callingProgress({start:r,end:$,count:$-r,next:iterator$1.next},this.context)},g.prototype._doReset=function(n){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,$;!n&&this._reset&&(r=this._reset(this.context),r&&r.progress&&($=r.forceFirstProgress,r=r.progress),isArray$6(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var L=this._downstream;return L&&L.dirty(),$},g.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},g.prototype.pipe=function(n){(this._downstream!==n||this._dirty)&&(this._downstream=n,n._upstream=this,n.dirty())},g.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},g.prototype.getUpstream=function(){return this._upstream},g.prototype.getDownstream=function(){return this._downstream},g.prototype.setOutputEnd=function(n){this._outputDueEnd=this._settedOutputEnd=n},g}(),iterator$1=function(){var g,n,r,$,L,V={reset:function(re,le,ue,de){n=re,g=le,r=ue,$=de,L=Math.ceil($/r),V.next=r>1&&$>0?ae:oe}};return V;function oe(){return n<g?n++:null}function ae(){var re=n%L*r+Math.ceil(n/L),le=n>=g?null:re<$?re:n;return n++,le}}();function parseDataValue$1(g,n){var r=n&&n.type;return r==="ordinal"?g:(r==="time"&&!isNumber$3(g)&&g!=null&&g!=="-"&&(g=+parseDate$1(g)),g==null||g===""?NaN:+g)}var valueParserMap$1=createHashMap$1({number:function(g){return parseFloat(g)},time:function(g){return+parseDate$1(g)},trim:function(g){return isString$3(g)?trim$5(g):g}});function getRawValueParser$1(g){return valueParserMap$1.get(g)}var ORDER_COMPARISON_OP_MAP$1={lt:function(g,n){return g<n},lte:function(g,n){return g<=n},gt:function(g,n){return g>n},gte:function(g,n){return g>=n}},FilterOrderComparator$1=function(){function g(n,r){if(!isNumber$3(r)){var $="";throwError$1($)}this._opFn=ORDER_COMPARISON_OP_MAP$1[n],this._rvalFloat=numericToNumber$1(r)}return g.prototype.evaluate=function(n){return isNumber$3(n)?this._opFn(n,this._rvalFloat):this._opFn(numericToNumber$1(n),this._rvalFloat)},g}(),SortOrderComparator$1=function(){function g(n,r){var $=n==="desc";this._resultLT=$?1:-1,r==null&&(r=$?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return g.prototype.evaluate=function(n,r){var $=isNumber$3(n)?n:numericToNumber$1(n),L=isNumber$3(r)?r:numericToNumber$1(r),V=isNaN($),oe=isNaN(L);if(V&&($=this._incomparable),oe&&(L=this._incomparable),V&&oe){var ae=isString$3(n),re=isString$3(r);ae&&($=re?n:0),re&&(L=ae?r:0)}return $<L?this._resultLT:$>L?-this._resultLT:0},g}(),FilterEqualityComparator$1=function(){function g(n,r){this._rval=r,this._isEQ=n,this._rvalTypeof=typeof r,this._rvalFloat=numericToNumber$1(r)}return g.prototype.evaluate=function(n){var r=n===this._rval;if(!r){var $=typeof n;$!==this._rvalTypeof&&($==="number"||this._rvalTypeof==="number")&&(r=numericToNumber$1(n)===this._rvalFloat)}return this._isEQ?r:!r},g}();function createFilterComparator$1(g,n){return g==="eq"||g==="ne"?new FilterEqualityComparator$1(g==="eq",n):hasOwn$1(ORDER_COMPARISON_OP_MAP$1,g)?new FilterOrderComparator$1(g,n):null}var ExternalSource$1=function(){function g(){}return g.prototype.getRawData=function(){throw new Error("not supported")},g.prototype.getRawDataItem=function(n){throw new Error("not supported")},g.prototype.cloneRawData=function(){},g.prototype.getDimensionInfo=function(n){},g.prototype.cloneAllDimensionInfo=function(){},g.prototype.count=function(){},g.prototype.retrieveValue=function(n,r){},g.prototype.retrieveValueFromItem=function(n,r){},g.prototype.convertValue=function(n,r){return parseDataValue$1(n,r)},g}();function createExternalSource$1(g,n){var r=new ExternalSource$1,$=g.data,L=r.sourceFormat=g.sourceFormat,V=g.startIndex,oe="";g.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN$1&&throwError$1(oe);var ae=[],re={},le=g.dimensionsDefine;if(le)each$v(le,function($e,xe){var Oe=$e.name,Ce={index:xe,name:Oe,displayName:$e.displayName};if(ae.push(Ce),Oe!=null){var Ie="";hasOwn$1(re,Oe)&&throwError$1(Ie),re[Oe]=Ce}});else for(var ue=0;ue<g.dimensionsDetectedCount;ue++)ae.push({index:ue});var de=getRawSourceItemGetter$1(L,SERIES_LAYOUT_BY_COLUMN$1);n.__isBuiltIn&&(r.getRawDataItem=function($e){return de($,V,ae,$e)},r.getRawData=bind$5(getRawData$1,null,g)),r.cloneRawData=bind$5(cloneRawData$1,null,g);var he=getRawSourceDataCounter$1(L,SERIES_LAYOUT_BY_COLUMN$1);r.count=bind$5(he,null,$,V,ae);var pe=getRawSourceValueGetter$1(L);r.retrieveValue=function($e,xe){var Oe=de($,V,ae,$e);return _e(Oe,xe)};var _e=r.retrieveValueFromItem=function($e,xe){if($e!=null){var Oe=ae[xe];if(Oe)return pe($e,xe,Oe.name)}};return r.getDimensionInfo=bind$5(getDimensionInfo$1,null,ae,re),r.cloneAllDimensionInfo=bind$5(cloneAllDimensionInfo$1,null,ae),r}function getRawData$1(g){var n=g.sourceFormat;if(!isSupportedSourceFormat$1(n)){var r="";throwError$1(r)}return g.data}function cloneRawData$1(g){var n=g.sourceFormat,r=g.data;if(!isSupportedSourceFormat$1(n)){var $="";throwError$1($)}if(n===SOURCE_FORMAT_ARRAY_ROWS$1){for(var L=[],V=0,oe=r.length;V<oe;V++)L.push(r[V].slice());return L}else if(n===SOURCE_FORMAT_OBJECT_ROWS$1){for(var L=[],V=0,oe=r.length;V<oe;V++)L.push(extend$4({},r[V]));return L}}function getDimensionInfo$1(g,n,r){if(r!=null){if(isNumber$3(r)||!isNaN(r)&&!hasOwn$1(n,r))return g[r];if(hasOwn$1(n,r))return n[r]}}function cloneAllDimensionInfo$1(g){return clone$9(g)}var externalTransformMap$1=createHashMap$1();function registerExternalTransform$1(g){g=clone$9(g);var n=g.type,r="";n||throwError$1(r);var $=n.split(":");$.length!==2&&throwError$1(r);var L=!1;$[0]==="echarts"&&(n=$[1],L=!0),g.__isBuiltIn=L,externalTransformMap$1.set(n,g)}function applyDataTransform$1(g,n,r){var $=normalizeToArray$1(g),L=$.length,V="";L||throwError$1(V);for(var oe=0,ae=L;oe<ae;oe++){var re=$[oe];n=applySingleDataTransform$1(re,n),oe!==ae-1&&(n.length=Math.max(n.length,1))}return n}function applySingleDataTransform$1(g,n,r,$){var L="";n.length||throwError$1(L),isObject$9(g)||throwError$1(L);var V=g.type,oe=externalTransformMap$1.get(V);oe||throwError$1(L);var ae=map$3(n,function(le){return createExternalSource$1(le,oe)}),re=normalizeToArray$1(oe.transform({upstream:ae[0],upstreamList:ae,config:clone$9(g.config)}));return map$3(re,function(le,ue){var de="";isObject$9(le)||throwError$1(de),le.data||throwError$1(de);var he=detectSourceFormat$1(le.data);isSupportedSourceFormat$1(he)||throwError$1(de);var pe,_e=n[0];if(_e&&ue===0&&!le.dimensions){var $e=_e.startIndex;$e&&(le.data=_e.data.slice(0,$e).concat(le.data)),pe={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN$1,sourceHeader:$e,dimensions:_e.metaRawOption.dimensions}}else pe={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN$1,sourceHeader:0,dimensions:le.dimensions};return createSource$1(le.data,pe,null)})}function isSupportedSourceFormat$1(g){return g===SOURCE_FORMAT_ARRAY_ROWS$1||g===SOURCE_FORMAT_OBJECT_ROWS$1}var UNDEFINED$1="undefined",CtorUint32Array$1=typeof Uint32Array===UNDEFINED$1?Array:Uint32Array,CtorUint16Array$1=typeof Uint16Array===UNDEFINED$1?Array:Uint16Array,CtorInt32Array$3=typeof Int32Array===UNDEFINED$1?Array:Int32Array,CtorFloat64Array$1=typeof Float64Array===UNDEFINED$1?Array:Float64Array,dataCtors$1={float:CtorFloat64Array$1,int:CtorInt32Array$3,ordinal:Array,number:Array,time:CtorFloat64Array$1},defaultDimValueGetters$1;function getIndicesCtor$1(g){return g>65535?CtorUint32Array$1:CtorUint16Array$1}function getInitialExtent$1(){return[1/0,-1/0]}function cloneChunk$1(g){var n=g.constructor;return n===Array?g.slice():new n(g)}function prepareStore$1(g,n,r,$,L){var V=dataCtors$1[r||"float"];if(L){var oe=g[n],ae=oe&&oe.length;if(ae!==$){for(var re=new V($),le=0;le<ae;le++)re[le]=oe[le];g[n]=re}}else g[n]=new V($)}var DataStore$1=function(){function g(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap$1()}return g.prototype.initData=function(n,r,$){this._provider=n,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var L=n.getSource(),V=this.defaultDimValueGetter=defaultDimValueGetters$1[L.sourceFormat];this._dimValueGetter=$||V,this._rawExtent=[],shouldRetrieveDataByName$1(L),this._dimensions=map$3(r,function(oe){return{type:oe.type,property:oe.property}}),this._initDataFromProvider(0,n.count())},g.prototype.getProvider=function(){return this._provider},g.prototype.getSource=function(){return this._provider.getSource()},g.prototype.ensureCalculationDimension=function(n,r){var $=this._calcDimNameToIdx,L=this._dimensions,V=$.get(n);if(V!=null){if(L[V].type===r)return V}else V=L.length;return L[V]={type:r},$.set(n,V),this._chunks[V]=new dataCtors$1[r||"float"](this._rawCount),this._rawExtent[V]=getInitialExtent$1(),V},g.prototype.collectOrdinalMeta=function(n,r){var $=this._chunks[n],L=this._dimensions[n],V=this._rawExtent,oe=L.ordinalOffset||0,ae=$.length;oe===0&&(V[n]=getInitialExtent$1());for(var re=V[n],le=oe;le<ae;le++){var ue=$[le]=r.parseAndCollect($[le]);isNaN(ue)||(re[0]=Math.min(ue,re[0]),re[1]=Math.max(ue,re[1]))}L.ordinalMeta=r,L.ordinalOffset=ae,L.type="ordinal"},g.prototype.getOrdinalMeta=function(n){var r=this._dimensions[n],$=r.ordinalMeta;return $},g.prototype.getDimensionProperty=function(n){var r=this._dimensions[n];return r&&r.property},g.prototype.appendData=function(n){var r=this._provider,$=this.count();r.appendData(n);var L=r.count();return r.persistent||(L+=$),$<L&&this._initDataFromProvider($,L,!0),[$,L]},g.prototype.appendValues=function(n,r){for(var $=this._chunks,L=this._dimensions,V=L.length,oe=this._rawExtent,ae=this.count(),re=ae+Math.max(n.length,r||0),le=0;le<V;le++){var ue=L[le];prepareStore$1($,le,ue.type,re,!0)}for(var de=[],he=ae;he<re;he++)for(var pe=he-ae,_e=0;_e<V;_e++){var ue=L[_e],$e=defaultDimValueGetters$1.arrayRows.call(this,n[pe]||de,ue.property,pe,_e);$[_e][he]=$e;var xe=oe[_e];$e<xe[0]&&(xe[0]=$e),$e>xe[1]&&(xe[1]=$e)}return this._rawCount=this._count=re,{start:ae,end:re}},g.prototype._initDataFromProvider=function(n,r,$){for(var L=this._provider,V=this._chunks,oe=this._dimensions,ae=oe.length,re=this._rawExtent,le=map$3(oe,function(Ce){return Ce.property}),ue=0;ue<ae;ue++){var de=oe[ue];re[ue]||(re[ue]=getInitialExtent$1()),prepareStore$1(V,ue,de.type,r,$)}if(L.fillStorage)L.fillStorage(n,r,V,re);else for(var he=[],pe=n;pe<r;pe++){he=L.getItem(pe,he);for(var _e=0;_e<ae;_e++){var $e=V[_e],xe=this._dimValueGetter(he,le[_e],pe,_e);$e[pe]=xe;var Oe=re[_e];xe<Oe[0]&&(Oe[0]=xe),xe>Oe[1]&&(Oe[1]=xe)}}!L.persistent&&L.clean&&L.clean(),this._rawCount=this._count=r,this._extent=[]},g.prototype.count=function(){return this._count},g.prototype.get=function(n,r){if(!(r>=0&&r<this._count))return NaN;var $=this._chunks[n];return $?$[this.getRawIndex(r)]:NaN},g.prototype.getValues=function(n,r){var $=[],L=[];if(r==null){r=n,n=[];for(var V=0;V<this._dimensions.length;V++)L.push(V)}else L=n;for(var V=0,oe=L.length;V<oe;V++)$.push(this.get(L[V],r));return $},g.prototype.getByRawIndex=function(n,r){if(!(r>=0&&r<this._rawCount))return NaN;var $=this._chunks[n];return $?$[r]:NaN},g.prototype.getSum=function(n){var r=this._chunks[n],$=0;if(r)for(var L=0,V=this.count();L<V;L++){var oe=this.get(n,L);isNaN(oe)||($+=oe)}return $},g.prototype.getMedian=function(n){var r=[];this.each([n],function(V){isNaN(V)||r.push(V)});var $=r.sort(function(V,oe){return V-oe}),L=this.count();return L===0?0:L%2===1?$[(L-1)/2]:($[L/2]+$[L/2-1])/2},g.prototype.indexOfRawIndex=function(n){if(n>=this._rawCount||n<0)return-1;if(!this._indices)return n;var r=this._indices,$=r[n];if($!=null&&$<this._count&&$===n)return n;for(var L=0,V=this._count-1;L<=V;){var oe=(L+V)/2|0;if(r[oe]<n)L=oe+1;else if(r[oe]>n)V=oe-1;else return oe}return-1},g.prototype.indicesOfNearest=function(n,r,$){var L=this._chunks,V=L[n],oe=[];if(!V)return oe;$==null&&($=1/0);for(var ae=1/0,re=-1,le=0,ue=0,de=this.count();ue<de;ue++){var he=this.getRawIndex(ue),pe=r-V[he],_e=Math.abs(pe);_e<=$&&((_e<ae||_e===ae&&pe>=0&&re<0)&&(ae=_e,re=pe,le=0),pe===re&&(oe[le++]=ue))}return oe.length=le,oe},g.prototype.getIndices=function(){var n,r=this._indices;if(r){var $=r.constructor,L=this._count;if($===Array){n=new $(L);for(var V=0;V<L;V++)n[V]=r[V]}else n=new $(r.buffer,0,L)}else{var $=getIndicesCtor$1(this._rawCount);n=new $(this.count());for(var V=0;V<n.length;V++)n[V]=V}return n},g.prototype.filter=function(n,r){if(!this._count)return this;for(var $=this.clone(),L=$.count(),V=getIndicesCtor$1($._rawCount),oe=new V(L),ae=[],re=n.length,le=0,ue=n[0],de=$._chunks,he=0;he<L;he++){var pe=void 0,_e=$.getRawIndex(he);if(re===0)pe=r(he);else if(re===1){var $e=de[ue][_e];pe=r($e,he)}else{for(var xe=0;xe<re;xe++)ae[xe]=de[n[xe]][_e];ae[xe]=he,pe=r.apply(null,ae)}pe&&(oe[le++]=_e)}return le<L&&($._indices=oe),$._count=le,$._extent=[],$._updateGetRawIdx(),$},g.prototype.selectRange=function(n){var r=this.clone(),$=r._count;if(!$)return this;var L=keys$2(n),V=L.length;if(!V)return this;var oe=r.count(),ae=getIndicesCtor$1(r._rawCount),re=new ae(oe),le=0,ue=L[0],de=n[ue][0],he=n[ue][1],pe=r._chunks,_e=!1;if(!r._indices){var $e=0;if(V===1){for(var xe=pe[L[0]],Oe=0;Oe<$;Oe++){var Ce=xe[Oe];(Ce>=de&&Ce<=he||isNaN(Ce))&&(re[le++]=$e),$e++}_e=!0}else if(V===2){for(var xe=pe[L[0]],Ie=pe[L[1]],Ne=n[L[1]][0],ze=n[L[1]][1],Oe=0;Oe<$;Oe++){var Ce=xe[Oe],Fe=Ie[Oe];(Ce>=de&&Ce<=he||isNaN(Ce))&&(Fe>=Ne&&Fe<=ze||isNaN(Fe))&&(re[le++]=$e),$e++}_e=!0}}if(!_e)if(V===1)for(var Oe=0;Oe<oe;Oe++){var Ue=r.getRawIndex(Oe),Ce=pe[L[0]][Ue];(Ce>=de&&Ce<=he||isNaN(Ce))&&(re[le++]=Ue)}else for(var Oe=0;Oe<oe;Oe++){for(var At=!0,Ue=r.getRawIndex(Oe),Et=0;Et<V;Et++){var Pt=L[Et],Ce=pe[Pt][Ue];(Ce<n[Pt][0]||Ce>n[Pt][1])&&(At=!1)}At&&(re[le++]=r.getRawIndex(Oe))}return le<oe&&(r._indices=re),r._count=le,r._extent=[],r._updateGetRawIdx(),r},g.prototype.map=function(n,r){var $=this.clone(n);return this._updateDims($,n,r),$},g.prototype.modify=function(n,r){this._updateDims(this,n,r)},g.prototype._updateDims=function(n,r,$){for(var L=n._chunks,V=[],oe=r.length,ae=n.count(),re=[],le=n._rawExtent,ue=0;ue<r.length;ue++)le[r[ue]]=getInitialExtent$1();for(var de=0;de<ae;de++){for(var he=n.getRawIndex(de),pe=0;pe<oe;pe++)re[pe]=L[r[pe]][he];re[oe]=de;var _e=$&&$.apply(null,re);if(_e!=null){typeof _e!="object"&&(V[0]=_e,_e=V);for(var ue=0;ue<_e.length;ue++){var $e=r[ue],xe=_e[ue],Oe=le[$e],Ce=L[$e];Ce&&(Ce[he]=xe),xe<Oe[0]&&(Oe[0]=xe),xe>Oe[1]&&(Oe[1]=xe)}}}},g.prototype.lttbDownSample=function(n,r){var $=this.clone([n],!0),L=$._chunks,V=L[n],oe=this.count(),ae=0,re=Math.floor(1/r),le=this.getRawIndex(0),ue,de,he,pe=new(getIndicesCtor$1(this._rawCount))(Math.min((Math.ceil(oe/re)+2)*2,oe));pe[ae++]=le;for(var _e=1;_e<oe-1;_e+=re){for(var $e=Math.min(_e+re,oe-1),xe=Math.min(_e+re*2,oe),Oe=(xe+$e)/2,Ce=0,Ie=$e;Ie<xe;Ie++){var Ne=this.getRawIndex(Ie),ze=V[Ne];isNaN(ze)||(Ce+=ze)}Ce/=xe-$e;var Fe=_e,Ue=Math.min(_e+re,oe),At=_e-1,Et=V[le];ue=-1,he=Fe;for(var Pt=-1,kt=0,Ie=Fe;Ie<Ue;Ie++){var Ne=this.getRawIndex(Ie),ze=V[Ne];if(isNaN(ze)){kt++,Pt<0&&(Pt=Ne);continue}de=Math.abs((At-Oe)*(ze-Et)-(At-Ie)*(Ce-Et)),de>ue&&(ue=de,he=Ne)}kt>0&&kt<Ue-Fe&&(pe[ae++]=Math.min(Pt,he),he=Math.max(Pt,he)),pe[ae++]=he,le=he}return pe[ae++]=this.getRawIndex(oe-1),$._count=ae,$._indices=pe,$.getRawIndex=this._getRawIdx,$},g.prototype.downSample=function(n,r,$,L){for(var V=this.clone([n],!0),oe=V._chunks,ae=[],re=Math.floor(1/r),le=oe[n],ue=this.count(),de=V._rawExtent[n]=getInitialExtent$1(),he=new(getIndicesCtor$1(this._rawCount))(Math.ceil(ue/re)),pe=0,_e=0;_e<ue;_e+=re){re>ue-_e&&(re=ue-_e,ae.length=re);for(var $e=0;$e<re;$e++){var xe=this.getRawIndex(_e+$e);ae[$e]=le[xe]}var Oe=$(ae),Ce=this.getRawIndex(Math.min(_e+L(ae,Oe)||0,ue-1));le[Ce]=Oe,Oe<de[0]&&(de[0]=Oe),Oe>de[1]&&(de[1]=Oe),he[pe++]=Ce}return V._count=pe,V._indices=he,V._updateGetRawIdx(),V},g.prototype.each=function(n,r){if(this._count)for(var $=n.length,L=this._chunks,V=0,oe=this.count();V<oe;V++){var ae=this.getRawIndex(V);switch($){case 0:r(V);break;case 1:r(L[n[0]][ae],V);break;case 2:r(L[n[0]][ae],L[n[1]][ae],V);break;default:for(var re=0,le=[];re<$;re++)le[re]=L[n[re]][ae];le[re]=V,r.apply(null,le)}}},g.prototype.getDataExtent=function(n){var r=this._chunks[n],$=getInitialExtent$1();if(!r)return $;var L=this.count(),V=!this._indices,oe;if(V)return this._rawExtent[n].slice();if(oe=this._extent[n],oe)return oe.slice();oe=$;for(var ae=oe[0],re=oe[1],le=0;le<L;le++){var ue=this.getRawIndex(le),de=r[ue];de<ae&&(ae=de),de>re&&(re=de)}return oe=[ae,re],this._extent[n]=oe,oe},g.prototype.getRawDataItem=function(n){var r=this.getRawIndex(n);if(this._provider.persistent)return this._provider.getItem(r);for(var $=[],L=this._chunks,V=0;V<L.length;V++)$.push(L[V][r]);return $},g.prototype.clone=function(n,r){var $=new g,L=this._chunks,V=n&&reduce$1(n,function(ae,re){return ae[re]=!0,ae},{});if(V)for(var oe=0;oe<L.length;oe++)$._chunks[oe]=V[oe]?cloneChunk$1(L[oe]):L[oe];else $._chunks=L;return this._copyCommonProps($),r||($._indices=this._cloneIndices()),$._updateGetRawIdx(),$},g.prototype._copyCommonProps=function(n){n._count=this._count,n._rawCount=this._rawCount,n._provider=this._provider,n._dimensions=this._dimensions,n._extent=clone$9(this._extent),n._rawExtent=clone$9(this._rawExtent)},g.prototype._cloneIndices=function(){if(this._indices){var n=this._indices.constructor,r=void 0;if(n===Array){var $=this._indices.length;r=new n($);for(var L=0;L<$;L++)r[L]=this._indices[L]}else r=new n(this._indices);return r}return null},g.prototype._getRawIdxIdentity=function(n){return n},g.prototype._getRawIdx=function(n){return n<this._count&&n>=0?this._indices[n]:-1},g.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},g.internalField=function(){function n(r,$,L,V){return parseDataValue$1(r[V],this._dimensions[V])}defaultDimValueGetters$1={arrayRows:n,objectRows:function(r,$,L,V){return parseDataValue$1(r[$],this._dimensions[V])},keyedColumns:n,original:function(r,$,L,V){var oe=r&&(r.value==null?r:r.value);return parseDataValue$1(oe instanceof Array?oe[V]:oe,this._dimensions[V])},typedArray:function(r,$,L,V){return r[V]}}}(),g}(),SourceManager$1=function(){function g(n){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=n}return g.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},g.prototype._setLocalSource=function(n,r){this._sourceList=n,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},g.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},g.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},g.prototype._createSource=function(){this._setLocalSource([],[]);var n=this._sourceHost,r=this._getUpstreamSourceManagers(),$=!!r.length,L,V;if(isSeries$1(n)){var oe=n,ae=void 0,re=void 0,le=void 0;if($){var ue=r[0];ue.prepareSource(),le=ue.getSource(),ae=le.data,re=le.sourceFormat,V=[ue._getVersionSign()]}else ae=oe.get("data",!0),re=isTypedArray$3(ae)?SOURCE_FORMAT_TYPED_ARRAY$1:SOURCE_FORMAT_ORIGINAL$1,V=[];var de=this._getSourceMetaRawOption()||{},he=le&&le.metaRawOption||{},pe=retrieve2$1(de.seriesLayoutBy,he.seriesLayoutBy)||null,_e=retrieve2$1(de.sourceHeader,he.sourceHeader),$e=retrieve2$1(de.dimensions,he.dimensions),xe=pe!==he.seriesLayoutBy||!!_e!=!!he.sourceHeader||$e;L=xe?[createSource$1(ae,{seriesLayoutBy:pe,sourceHeader:_e,dimensions:$e},re)]:[]}else{var Oe=n;if($){var Ce=this._applyTransform(r);L=Ce.sourceList,V=Ce.upstreamSignList}else{var Ie=Oe.get("source",!0);L=[createSource$1(Ie,this._getSourceMetaRawOption(),null)],V=[]}}this._setLocalSource(L,V)},g.prototype._applyTransform=function(n){var r=this._sourceHost,$=r.get("transform",!0),L=r.get("fromTransformResult",!0);if(L!=null){var V="";n.length!==1&&doThrow$1(V)}var oe,ae=[],re=[];return each$v(n,function(le){le.prepareSource();var ue=le.getSource(L||0),de="";L!=null&&!ue&&doThrow$1(de),ae.push(ue),re.push(le._getVersionSign())}),$?oe=applyDataTransform$1($,ae,{datasetIndex:r.componentIndex}):L!=null&&(oe=[cloneSourceShallow$1(ae[0])]),{sourceList:oe,upstreamSignList:re}},g.prototype._isDirty=function(){if(this._dirty)return!0;for(var n=this._getUpstreamSourceManagers(),r=0;r<n.length;r++){var $=n[r];if($._isDirty()||this._upstreamSignList[r]!==$._getVersionSign())return!0}},g.prototype.getSource=function(n){n=n||0;var r=this._sourceList[n];if(!r){var $=this._getUpstreamSourceManagers();return $[0]&&$[0].getSource(n)}return r},g.prototype.getSharedDataStore=function(n){var r=n.makeStoreSchema();return this._innerGetDataStore(r.dimensions,n.source,r.hash)},g.prototype._innerGetDataStore=function(n,r,$){var L=0,V=this._storeList,oe=V[L];oe||(oe=V[L]={});var ae=oe[$];if(!ae){var re=this._getUpstreamSourceManagers()[0];isSeries$1(this._sourceHost)&&re?ae=re._innerGetDataStore(n,r,$):(ae=new DataStore$1,ae.initData(new DefaultDataProvider$1(r,n.length),n)),oe[$]=ae}return ae},g.prototype._getUpstreamSourceManagers=function(){var n=this._sourceHost;if(isSeries$1(n)){var r=querySeriesUpstreamDatasetModel$1(n);return r?[r.getSourceManager()]:[]}else return map$3(queryDatasetUpstreamDatasetModels$1(n),function($){return $.getSourceManager()})},g.prototype._getSourceMetaRawOption=function(){var n=this._sourceHost,r,$,L;if(isSeries$1(n))r=n.get("seriesLayoutBy",!0),$=n.get("sourceHeader",!0),L=n.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var V=n;r=V.get("seriesLayoutBy",!0),$=V.get("sourceHeader",!0),L=V.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:$,dimensions:L}},g}();function disableTransformOptionMerge$1(g){var n=g.option.transform;n&&setAsPrimitive$1(g.option.transform)}function isSeries$1(g){return g.mainType==="series"}function doThrow$1(g){throw new Error(g)}var TOOLTIP_LINE_HEIGHT_CSS$1="line-height:1";function getTooltipTextStyle$1(g,n){var r=g.color||"#6e7079",$=g.fontSize||12,L=g.fontWeight||"400",V=g.color||"#464646",oe=g.fontSize||14,ae=g.fontWeight||"900";return n==="html"?{nameStyle:"font-size:"+encodeHTML$1($+"")+"px;color:"+encodeHTML$1(r)+";font-weight:"+encodeHTML$1(L+""),valueStyle:"font-size:"+encodeHTML$1(oe+"")+"px;color:"+encodeHTML$1(V)+";font-weight:"+encodeHTML$1(ae+"")}:{nameStyle:{fontSize:$,fill:r,fontWeight:L},valueStyle:{fontSize:oe,fill:V,fontWeight:ae}}}var HTML_GAPS$1=[0,10,20,30],RICH_TEXT_GAPS$1=["",`
`,`

`,`


`];function createTooltipMarkup$1(g,n){return n.type=g,n}function isSectionFragment$1(g){return g.type==="section"}function getBuilder$1(g){return isSectionFragment$1(g)?buildSection$1:buildNameValue$1}function getBlockGapLevel$1(g){if(isSectionFragment$1(g)){var n=0,r=g.blocks.length,$=r>1||r>0&&!g.noHeader;return each$v(g.blocks,function(L){var V=getBlockGapLevel$1(L);V>=n&&(n=V+ +($&&(!V||isSectionFragment$1(L)&&!L.noHeader)))}),n}return 0}function buildSection$1(g,n,r,$){var L=n.noHeader,V=getGap$1(getBlockGapLevel$1(n)),oe=[],ae=n.blocks||[];assert$1(!ae||isArray$6(ae)),ae=ae||[];var re=g.orderMode;if(n.sortBlocks&&re){ae=ae.slice();var le={valueAsc:"asc",valueDesc:"desc"};if(hasOwn$1(le,re)){var ue=new SortOrderComparator$1(le[re],null);ae.sort(function(_e,$e){return ue.evaluate(_e.sortParam,$e.sortParam)})}else re==="seriesDesc"&&ae.reverse()}each$v(ae,function(_e,$e){var xe=n.valueFormatter,Oe=getBuilder$1(_e)(xe?extend$4(extend$4({},g),{valueFormatter:xe}):g,_e,$e>0?V.html:0,$);Oe!=null&&oe.push(Oe)});var de=g.renderMode==="richText"?oe.join(V.richText):wrapBlockHTML$1(oe.join(""),L?r:V.html);if(L)return de;var he=makeValueReadable$1(n.header,"ordinal",g.useUTC),pe=getTooltipTextStyle$1($,g.renderMode).nameStyle;return g.renderMode==="richText"?wrapInlineNameRichText$1(g,he,pe)+V.richText+de:wrapBlockHTML$1('<div style="'+pe+";"+TOOLTIP_LINE_HEIGHT_CSS$1+';">'+encodeHTML$1(he)+"</div>"+de,r)}function buildNameValue$1(g,n,r,$){var L=g.renderMode,V=n.noName,oe=n.noValue,ae=!n.markerType,re=n.name,le=g.useUTC,ue=n.valueFormatter||g.valueFormatter||function(Ne){return Ne=isArray$6(Ne)?Ne:[Ne],map$3(Ne,function(ze,Fe){return makeValueReadable$1(ze,isArray$6(pe)?pe[Fe]:pe,le)})};if(!(V&&oe)){var de=ae?"":g.markupStyleCreator.makeTooltipMarker(n.markerType,n.markerColor||"#333",L),he=V?"":makeValueReadable$1(re,"ordinal",le),pe=n.valueType,_e=oe?[]:ue(n.value),$e=!ae||!V,xe=!ae&&V,Oe=getTooltipTextStyle$1($,L),Ce=Oe.nameStyle,Ie=Oe.valueStyle;return L==="richText"?(ae?"":de)+(V?"":wrapInlineNameRichText$1(g,he,Ce))+(oe?"":wrapInlineValueRichText$1(g,_e,$e,xe,Ie)):wrapBlockHTML$1((ae?"":de)+(V?"":wrapInlineNameHTML$1(he,!ae,Ce))+(oe?"":wrapInlineValueHTML$1(_e,$e,xe,Ie)),r)}}function buildTooltipMarkup$1(g,n,r,$,L,V){if(g){var oe=getBuilder$1(g),ae={useUTC:L,renderMode:r,orderMode:$,markupStyleCreator:n,valueFormatter:g.valueFormatter};return oe(ae,g,0,V)}}function getGap$1(g){return{html:HTML_GAPS$1[g],richText:RICH_TEXT_GAPS$1[g]}}function wrapBlockHTML$1(g,n){var r='<div style="clear:both"></div>',$="margin: "+n+"px 0 0";return'<div style="'+$+";"+TOOLTIP_LINE_HEIGHT_CSS$1+';">'+g+r+"</div>"}function wrapInlineNameHTML$1(g,n,r){var $=n?"margin-left:2px":"";return'<span style="'+r+";"+$+'">'+encodeHTML$1(g)+"</span>"}function wrapInlineValueHTML$1(g,n,r,$){var L=r?"10px":"20px",V=n?"float:right;margin-left:"+L:"";return g=isArray$6(g)?g:[g],'<span style="'+V+";"+$+'">'+map$3(g,function(oe){return encodeHTML$1(oe)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText$1(g,n,r){return g.markupStyleCreator.wrapRichTextStyle(n,r)}function wrapInlineValueRichText$1(g,n,r,$,L){var V=[L],oe=$?10:20;return r&&V.push({padding:[0,0,0,oe],align:"right"}),g.markupStyleCreator.wrapRichTextStyle(isArray$6(n)?n.join("  "):n,V)}function retrieveVisualColorForTooltipMarker$1(g,n){var r=g.getData().getItemVisual(n,"style"),$=r[g.visualDrawType];return convertToColorString$1($)}function getPaddingFromTooltipModel$1(g,n){var r=g.get("padding");return r!=null?r:n==="richText"?[8,10]:10}var TooltipMarkupStyleCreator$1=function(){function g(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase$1()}return g.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},g.prototype.makeTooltipMarker=function(n,r,$){var L=$==="richText"?this._generateStyleName():null,V=getTooltipMarker$1({color:r,type:n,renderMode:$,markerId:L});return isString$3(V)?V:(this.richTextStyles[L]=V.style,V.content)},g.prototype.wrapRichTextStyle=function(n,r){var $={};isArray$6(r)?each$v(r,function(V){return extend$4($,V)}):extend$4($,r);var L=this._generateStyleName();return this.richTextStyles[L]=$,"{"+L+"|"+n+"}"},g}();function defaultSeriesFormatTooltip$1(g){var n=g.series,r=g.dataIndex,$=g.multipleSeries,L=n.getData(),V=L.mapDimensionsAll("defaultedTooltip"),oe=V.length,ae=n.getRawValue(r),re=isArray$6(ae),le=retrieveVisualColorForTooltipMarker$1(n,r),ue,de,he,pe;if(oe>1||re&&!oe){var _e=formatTooltipArrayValue$1(ae,n,r,V,le);ue=_e.inlineValues,de=_e.inlineValueTypes,he=_e.blocks,pe=_e.inlineValues[0]}else if(oe){var $e=L.getDimensionInfo(V[0]);pe=ue=retrieveRawValue$1(L,r,V[0]),de=$e.type}else pe=ue=re?ae[0]:ae;var xe=isNameSpecified$1(n),Oe=xe&&n.name||"",Ce=L.getName(r),Ie=$?Oe:Ce;return createTooltipMarkup$1("section",{header:Oe,noHeader:$||!xe,sortParam:pe,blocks:[createTooltipMarkup$1("nameValue",{markerType:"item",markerColor:le,name:Ie,noName:!trim$5(Ie),value:ue,valueType:de})].concat(he||[])})}function formatTooltipArrayValue$1(g,n,r,$,L){var V=n.getData(),oe=reduce$1(g,function(de,he,pe){var _e=V.getDimensionInfo(pe);return de=de||_e&&_e.tooltip!==!1&&_e.displayName!=null},!1),ae=[],re=[],le=[];$.length?each$v($,function(de){ue(retrieveRawValue$1(V,r,de),de)}):each$v(g,ue);function ue(de,he){var pe=V.getDimensionInfo(he);!pe||pe.otherDims.tooltip===!1||(oe?le.push(createTooltipMarkup$1("nameValue",{markerType:"subItem",markerColor:L,name:pe.displayName,value:de,valueType:pe.type})):(ae.push(de),re.push(pe.type)))}return{inlineValues:ae,inlineValueTypes:re,blocks:le}}var inner$G=makeInner$1();function getSelectionKey$1(g,n){return g.getName(n)||g.getId(n)}var SERIES_UNIVERSAL_TRANSITION_PROP$1="__universalTransitionEnabled",SeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return n.prototype.init=function(r,$,L){this.seriesIndex=this.componentIndex,this.dataTask=createTask$1({count:dataTaskCount$1,reset:dataTaskReset$1}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,L);var V=inner$G(this).sourceManager=new SourceManager$1(this);V.prepareSource();var oe=this.getInitialData(r,L);wrapData$1(oe,this),this.dataTask.context.data=oe,inner$G(this).dataBeforeProcessed=oe,autoSeriesName$1(this),this._initSelectedMapFromData(oe)},n.prototype.mergeDefaultAndTheme=function(r,$){var L=fetchLayoutMode$1(this),V=L?getLayoutParams$1(r):{},oe=this.subType;ComponentModel$3.hasClass(oe)&&(oe+="Series"),merge$3(r,$.getTheme().get(this.subType)),merge$3(r,this.getDefaultOption()),defaultEmphasis$1(r,"label",["show"]),this.fillDataTextStyle(r.data),L&&mergeLayoutParam$1(r,V,L)},n.prototype.mergeOption=function(r,$){r=merge$3(this.option,r,!0),this.fillDataTextStyle(r.data);var L=fetchLayoutMode$1(this);L&&mergeLayoutParam$1(this.option,r,L);var V=inner$G(this).sourceManager;V.dirty(),V.prepareSource();var oe=this.getInitialData(r,$);wrapData$1(oe,this),this.dataTask.dirty(),this.dataTask.context.data=oe,inner$G(this).dataBeforeProcessed=oe,autoSeriesName$1(this),this._initSelectedMapFromData(oe)},n.prototype.fillDataTextStyle=function(r){if(r&&!isTypedArray$3(r))for(var $=["show"],L=0;L<r.length;L++)r[L]&&r[L].label&&defaultEmphasis$1(r[L],"label",$)},n.prototype.getInitialData=function(r,$){},n.prototype.appendData=function(r){var $=this.getRawData();$.appendData(r.data)},n.prototype.getData=function(r){var $=getCurrentTask$1(this);if($){var L=$.context.data;return r==null?L:L.getLinkedData(r)}else return inner$G(this).data},n.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},n.prototype.setData=function(r){var $=getCurrentTask$1(this);if($){var L=$.context;L.outputData=r,$!==this.dataTask&&(L.data=r)}inner$G(this).data=r},n.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return createHashMap$1(r)},n.prototype.getSourceManager=function(){return inner$G(this).sourceManager},n.prototype.getSource=function(){return this.getSourceManager().getSource()},n.prototype.getRawData=function(){return inner$G(this).dataBeforeProcessed},n.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},n.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},n.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},n.prototype.formatTooltip=function(r,$,L){return defaultSeriesFormatTooltip$1({series:this,dataIndex:r,multipleSeries:$})},n.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(env$3.node&&!(r&&r.ssr))return!1;var $=this.getShallow("animation");return $&&this.getData().count()>this.getShallow("animationThreshold")&&($=!1),!!$},n.prototype.restoreData=function(){this.dataTask.dirty()},n.prototype.getColorFromPalette=function(r,$,L){var V=this.ecModel,oe=PaletteMixin$1.prototype.getColorFromPalette.call(this,r,$,L);return oe||(oe=V.getColorFromPalette(r,$,L)),oe},n.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},n.prototype.getProgressive=function(){return this.get("progressive")},n.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},n.prototype.select=function(r,$){this._innerSelect(this.getData($),r)},n.prototype.unselect=function(r,$){var L=this.option.selectedMap;if(L){var V=this.option.selectedMode,oe=this.getData($);if(V==="series"||L==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var ae=0;ae<r.length;ae++){var re=r[ae],le=getSelectionKey$1(oe,re);L[le]=!1,this._selectedDataIndicesMap[le]=-1}}},n.prototype.toggleSelect=function(r,$){for(var L=[],V=0;V<r.length;V++)L[0]=r[V],this.isSelected(r[V],$)?this.unselect(L,$):this.select(L,$)},n.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,$=keys$2(r),L=[],V=0;V<$.length;V++){var oe=r[$[V]];oe>=0&&L.push(oe)}return L},n.prototype.isSelected=function(r,$){var L=this.option.selectedMap;if(!L)return!1;var V=this.getData($);return(L==="all"||L[getSelectionKey$1(V,r)])&&!V.getItemModel(r).get(["select","disabled"])},n.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP$1])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},n.prototype._innerSelect=function(r,$){var L,V,oe=this.option,ae=oe.selectedMode,re=$.length;if(!(!ae||!re)){if(ae==="series")oe.selectedMap="all";else if(ae==="multiple"){isObject$9(oe.selectedMap)||(oe.selectedMap={});for(var le=oe.selectedMap,ue=0;ue<re;ue++){var de=$[ue],he=getSelectionKey$1(r,de);le[he]=!0,this._selectedDataIndicesMap[he]=r.getRawIndex(de)}}else if(ae==="single"||ae===!0){var pe=$[re-1],he=getSelectionKey$1(r,pe);oe.selectedMap=(L={},L[he]=!0,L),this._selectedDataIndicesMap=(V={},V[he]=r.getRawIndex(pe),V)}}},n.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var $=[];r.hasItemOption&&r.each(function(L){var V=r.getRawDataItem(L);V&&V.selected&&$.push(L)}),$.length>0&&this._innerSelect(r,$)}},n.registerClass=function(r){return ComponentModel$3.registerClass(r)},n.protoInitialize=function(){var r=n.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),n}(ComponentModel$3);mixin$1(SeriesModel$2,DataFormatMixin$1),mixin$1(SeriesModel$2,PaletteMixin$1),mountExtend$1(SeriesModel$2,ComponentModel$3);function autoSeriesName$1(g){var n=g.name;isNameSpecified$1(g)||(g.name=getSeriesAutoName$1(g)||n)}function getSeriesAutoName$1(g){var n=g.getRawData(),r=n.mapDimensionsAll("seriesName"),$=[];return each$v(r,function(L){var V=n.getDimensionInfo(L);V.displayName&&$.push(V.displayName)}),$.join(" ")}function dataTaskCount$1(g){return g.model.getRawData().count()}function dataTaskReset$1(g){var n=g.model;return n.setData(n.getRawData().cloneShallow()),dataTaskProgress$1}function dataTaskProgress$1(g,n){n.outputData&&g.end>n.outputData.count()&&n.model.getRawData().cloneShallow(n.outputData)}function wrapData$1(g,n){each$v(concatArray$1(g.CHANGABLE_METHODS,g.DOWNSAMPLE_METHODS),function(r){g.wrapMethod(r,curry$3(onDataChange$1,n))})}function onDataChange$1(g,n){var r=getCurrentTask$1(g);return r&&r.setOutputEnd((n||this).count()),n}function getCurrentTask$1(g){var n=(g.ecModel||{}).scheduler,r=n&&n.getPipeline(g.uid);if(r){var $=r.currentTask;if($){var L=$.agentStubMap;L&&($=L.get(g.uid))}return $}}const SeriesModel$3=SeriesModel$2;var ComponentView$2=function(){function g(){this.group=new Group$9,this.uid=getUID$1("viewComponent")}return g.prototype.init=function(n,r){},g.prototype.render=function(n,r,$,L){},g.prototype.dispose=function(n,r){},g.prototype.updateView=function(n,r,$,L){},g.prototype.updateLayout=function(n,r,$,L){},g.prototype.updateVisual=function(n,r,$,L){},g.prototype.toggleBlurSeries=function(n,r,$){},g.prototype.eachRendered=function(n){var r=this.group;r&&r.traverse(n)},g}();enableClassExtend$1(ComponentView$2),enableClassManagement$1(ComponentView$2);const ComponentView$3=ComponentView$2;function createRenderPlanner$1(){var g=makeInner$1();return function(n){var r=g(n),$=n.pipelineContext,L=!!r.large,V=!!r.progressiveRender,oe=r.large=!!($&&$.large),ae=r.progressiveRender=!!($&&$.progressiveRender);return(L!==oe||V!==ae)&&"reset"}}var inner$F=makeInner$1(),renderPlanner$1=createRenderPlanner$1(),ChartView$2=function(){function g(){this.group=new Group$9,this.uid=getUID$1("viewChart"),this.renderTask=createTask$1({plan:renderTaskPlan$1,reset:renderTaskReset$1}),this.renderTask.context={view:this}}return g.prototype.init=function(n,r){},g.prototype.render=function(n,r,$,L){},g.prototype.highlight=function(n,r,$,L){var V=n.getData(L&&L.dataType);!V||toggleHighlight$1(V,L,"emphasis")},g.prototype.downplay=function(n,r,$,L){var V=n.getData(L&&L.dataType);!V||toggleHighlight$1(V,L,"normal")},g.prototype.remove=function(n,r){this.group.removeAll()},g.prototype.dispose=function(n,r){},g.prototype.updateView=function(n,r,$,L){this.render(n,r,$,L)},g.prototype.updateLayout=function(n,r,$,L){this.render(n,r,$,L)},g.prototype.updateVisual=function(n,r,$,L){this.render(n,r,$,L)},g.prototype.eachRendered=function(n){traverseElements$1(this.group,n)},g.markUpdateMethod=function(n,r){inner$F(n).updateMethod=r},g.protoInitialize=function(){var n=g.prototype;n.type="chart"}(),g}();function elSetState$1(g,n,r){g&&isHighDownDispatcher$1(g)&&(n==="emphasis"?enterEmphasis$1:leaveEmphasis$1)(g,r)}function toggleHighlight$1(g,n,r){var $=queryDataIndex$1(g,n),L=n&&n.highlightKey!=null?getHighlightDigit$1(n.highlightKey):null;$!=null?each$v(normalizeToArray$1($),function(V){elSetState$1(g.getItemGraphicEl(V),r,L)}):g.eachItemGraphicEl(function(V){elSetState$1(V,r,L)})}enableClassExtend$1(ChartView$2),enableClassManagement$1(ChartView$2);function renderTaskPlan$1(g){return renderPlanner$1(g.model)}function renderTaskReset$1(g){var n=g.model,r=g.ecModel,$=g.api,L=g.payload,V=n.pipelineContext.progressiveRender,oe=g.view,ae=L&&inner$F(L).updateMethod,re=V?"incrementalPrepareRender":ae&&oe[ae]?ae:"render";return re!=="render"&&oe[re](n,r,$,L),progressMethodMap$1[re]}var progressMethodMap$1={incrementalPrepareRender:{progress:function(g,n){n.view.incrementalRender(g,n.model,n.ecModel,n.api,n.payload)}},render:{forceFirstProgress:!0,progress:function(g,n){n.view.render(n.model,n.ecModel,n.api,n.payload)}}};const ChartView$3=ChartView$2;var ORIGIN_METHOD$1="\0__throttleOriginMethod",RATE$1="\0__throttleRate",THROTTLE_TYPE$1="\0__throttleType";function throttle$1(g,n,r){var $,L=0,V=0,oe=null,ae,re,le,ue;n=n||0;function de(){V=new Date().getTime(),oe=null,g.apply(re,le||[])}var he=function(){for(var pe=[],_e=0;_e<arguments.length;_e++)pe[_e]=arguments[_e];$=new Date().getTime(),re=this,le=pe;var $e=ue||n,xe=ue||r;ue=null,ae=$-(xe?L:V)-$e,clearTimeout(oe),xe?oe=setTimeout(de,$e):ae>=0?de():oe=setTimeout(de,-ae),L=$};return he.clear=function(){oe&&(clearTimeout(oe),oe=null)},he.debounceNextCall=function(pe){ue=pe},he}function createOrUpdate$1(g,n,r,$){var L=g[n];if(L){var V=L[ORIGIN_METHOD$1]||L,oe=L[THROTTLE_TYPE$1],ae=L[RATE$1];if(ae!==r||oe!==$){if(r==null||!$)return g[n]=V;L=g[n]=throttle$1(V,r,$==="debounce"),L[ORIGIN_METHOD$1]=V,L[THROTTLE_TYPE$1]=$,L[RATE$1]=r}return L}}function clear$3(g,n){var r=g[n];r&&r[ORIGIN_METHOD$1]&&(r.clear&&r.clear(),g[n]=r[ORIGIN_METHOD$1])}var inner$E=makeInner$1(),defaultStyleMappers$1={itemStyle:makeStyleMapper$1(ITEM_STYLE_KEY_MAP$1,!0),lineStyle:makeStyleMapper$1(LINE_STYLE_KEY_MAP$1,!0)},defaultColorKey$1={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper$1(g,n){var r=g.visualStyleMapper||defaultStyleMappers$1[n];return r||(console.warn("Unknown style type '"+n+"'."),defaultStyleMappers$1.itemStyle)}function getDefaultColorKey$1(g,n){var r=g.visualDrawType||defaultColorKey$1[n];return r||(console.warn("Unknown style type '"+n+"'."),"fill")}var seriesStyleTask$1={createOnAllSeries:!0,performRawSeries:!0,reset:function(g,n){var r=g.getData(),$=g.visualStyleAccessPath||"itemStyle",L=g.getModel($),V=getStyleMapper$1(g,$),oe=V(L),ae=L.getShallow("decal");ae&&(r.setVisual("decal",ae),ae.dirty=!0);var re=getDefaultColorKey$1(g,$),le=oe[re],ue=isFunction$3(le)?le:null,de=oe.fill==="auto"||oe.stroke==="auto";if(!oe[re]||ue||de){var he=g.getColorFromPalette(g.name,null,n.getSeriesCount());oe[re]||(oe[re]=he,r.setVisual("colorFromPalette",!0)),oe.fill=oe.fill==="auto"||isFunction$3(oe.fill)?he:oe.fill,oe.stroke=oe.stroke==="auto"||isFunction$3(oe.stroke)?he:oe.stroke}if(r.setVisual("style",oe),r.setVisual("drawType",re),!n.isSeriesFiltered(g)&&ue)return r.setVisual("colorFromPalette",!1),{dataEach:function(pe,_e){var $e=g.getDataParams(_e),xe=extend$4({},oe);xe[re]=ue($e),pe.setItemVisual(_e,"style",xe)}}}},sharedModel$1=new Model$3,dataStyleTask$1={createOnAllSeries:!0,performRawSeries:!0,reset:function(g,n){if(!(g.ignoreStyleOnData||n.isSeriesFiltered(g))){var r=g.getData(),$=g.visualStyleAccessPath||"itemStyle",L=getStyleMapper$1(g,$),V=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(oe,ae){var re=oe.getRawDataItem(ae);if(re&&re[$]){sharedModel$1.option=re[$];var le=L(sharedModel$1),ue=oe.ensureUniqueItemVisual(ae,"style");extend$4(ue,le),sharedModel$1.option.decal&&(oe.setItemVisual(ae,"decal",sharedModel$1.option.decal),sharedModel$1.option.decal.dirty=!0),V in le&&oe.setItemVisual(ae,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask$1={performRawSeries:!0,overallReset:function(g){var n=createHashMap$1();g.eachSeries(function(r){var $=r.getColorBy();if(!r.isColorBySeries()){var L=r.type+"-"+$,V=n.get(L);V||(V={},n.set(L,V)),inner$E(r).scope=V}}),g.eachSeries(function(r){if(!(r.isColorBySeries()||g.isSeriesFiltered(r))){var $=r.getRawData(),L={},V=r.getData(),oe=inner$E(r).scope,ae=r.visualStyleAccessPath||"itemStyle",re=getDefaultColorKey$1(r,ae);V.each(function(le){var ue=V.getRawIndex(le);L[ue]=le}),$.each(function(le){var ue=L[le],de=V.getItemVisual(ue,"colorFromPalette");if(de){var he=V.ensureUniqueItemVisual(ue,"style"),pe=$.getName(le)||le+"",_e=$.count();he[re]=r.getColorFromPalette(pe,oe,_e)}})}})}},PI$e=Math.PI;function defaultLoading$1(g,n){n=n||{},defaults$7(n,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Group$9,$=new Rect$7({style:{fill:n.maskColor},zlevel:n.zlevel,z:1e4});r.add($);var L=new ZRText$3({style:{text:n.text,fill:n.textColor,fontSize:n.fontSize,fontWeight:n.fontWeight,fontStyle:n.fontStyle,fontFamily:n.fontFamily},zlevel:n.zlevel,z:10001}),V=new Rect$7({style:{fill:"none"},textContent:L,textConfig:{position:"right",distance:10},zlevel:n.zlevel,z:10001});r.add(V);var oe;return n.showSpinner&&(oe=new Arc$3({shape:{startAngle:-PI$e/2,endAngle:-PI$e/2+.1,r:n.spinnerRadius},style:{stroke:n.color,lineCap:"round",lineWidth:n.lineWidth},zlevel:n.zlevel,z:10001}),oe.animateShape(!0).when(1e3,{endAngle:PI$e*3/2}).start("circularInOut"),oe.animateShape(!0).when(1e3,{startAngle:PI$e*3/2}).delay(300).start("circularInOut"),r.add(oe)),r.resize=function(){var ae=L.getBoundingRect().width,re=n.showSpinner?n.spinnerRadius:0,le=(g.getWidth()-re*2-(n.showSpinner&&ae?10:0)-ae)/2-(n.showSpinner&&ae?0:5+ae/2)+(n.showSpinner?0:ae/2)+(ae?0:re),ue=g.getHeight()/2;n.showSpinner&&oe.setShape({cx:le,cy:ue}),V.setShape({x:le-re,y:ue-re,width:re*2,height:re*2}),$.setShape({x:0,y:0,width:g.getWidth(),height:g.getHeight()})},r.resize(),r}var Scheduler$2=function(){function g(n,r,$,L){this._stageTaskMap=createHashMap$1(),this.ecInstance=n,this.api=r,$=this._dataProcessorHandlers=$.slice(),L=this._visualHandlers=L.slice(),this._allHandlers=$.concat(L)}return g.prototype.restoreData=function(n,r){n.restoreData(r),this._stageTaskMap.each(function($){var L=$.overallTask;L&&L.dirty()})},g.prototype.getPerformArgs=function(n,r){if(n.__pipeline){var $=this._pipelineMap.get(n.__pipeline.id),L=$.context,V=!r&&$.progressiveEnabled&&(!L||L.progressiveRender)&&n.__idxInPipeline>$.blockIndex,oe=V?$.step:null,ae=L&&L.modDataCount,re=ae!=null?Math.ceil(ae/oe):null;return{step:oe,modBy:re,modDataCount:ae}}},g.prototype.getPipeline=function(n){return this._pipelineMap.get(n)},g.prototype.updateStreamModes=function(n,r){var $=this._pipelineMap.get(n.uid),L=n.getData(),V=L.count(),oe=$.progressiveEnabled&&r.incrementalPrepareRender&&V>=$.threshold,ae=n.get("large")&&V>=n.get("largeThreshold"),re=n.get("progressiveChunkMode")==="mod"?V:null;n.pipelineContext=$.context={progressiveRender:oe,modDataCount:re,large:ae}},g.prototype.restorePipelines=function(n){var r=this,$=r._pipelineMap=createHashMap$1();n.eachSeries(function(L){var V=L.getProgressive(),oe=L.uid;$.set(oe,{id:oe,head:null,tail:null,threshold:L.getProgressiveThreshold(),progressiveEnabled:V&&!(L.preventIncremental&&L.preventIncremental()),blockIndex:-1,step:Math.round(V||700),count:0}),r._pipe(L,L.dataTask)})},g.prototype.prepareStageTasks=function(){var n=this._stageTaskMap,r=this.api.getModel(),$=this.api;each$v(this._allHandlers,function(L){var V=n.get(L.uid)||n.set(L.uid,{}),oe="";assert$1(!(L.reset&&L.overallReset),oe),L.reset&&this._createSeriesStageTask(L,V,r,$),L.overallReset&&this._createOverallStageTask(L,V,r,$)},this)},g.prototype.prepareView=function(n,r,$,L){var V=n.renderTask,oe=V.context;oe.model=r,oe.ecModel=$,oe.api=L,V.__block=!n.incrementalPrepareRender,this._pipe(r,V)},g.prototype.performDataProcessorTasks=function(n,r){this._performStageTasks(this._dataProcessorHandlers,n,r,{block:!0})},g.prototype.performVisualTasks=function(n,r,$){this._performStageTasks(this._visualHandlers,n,r,$)},g.prototype._performStageTasks=function(n,r,$,L){L=L||{};var V=!1,oe=this;each$v(n,function(re,le){if(!(L.visualType&&L.visualType!==re.visualType)){var ue=oe._stageTaskMap.get(re.uid),de=ue.seriesTaskMap,he=ue.overallTask;if(he){var pe,_e=he.agentStubMap;_e.each(function(xe){ae(L,xe)&&(xe.dirty(),pe=!0)}),pe&&he.dirty(),oe.updatePayload(he,$);var $e=oe.getPerformArgs(he,L.block);_e.each(function(xe){xe.perform($e)}),he.perform($e)&&(V=!0)}else de&&de.each(function(xe,Oe){ae(L,xe)&&xe.dirty();var Ce=oe.getPerformArgs(xe,L.block);Ce.skip=!re.performRawSeries&&r.isSeriesFiltered(xe.context.model),oe.updatePayload(xe,$),xe.perform(Ce)&&(V=!0)})}});function ae(re,le){return re.setDirty&&(!re.dirtyMap||re.dirtyMap.get(le.__pipeline.id))}this.unfinished=V||this.unfinished},g.prototype.performSeriesTasks=function(n){var r;n.eachSeries(function($){r=$.dataTask.perform()||r}),this.unfinished=r||this.unfinished},g.prototype.plan=function(){this._pipelineMap.each(function(n){var r=n.tail;do{if(r.__block){n.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},g.prototype.updatePayload=function(n,r){r!=="remain"&&(n.context.payload=r)},g.prototype._createSeriesStageTask=function(n,r,$,L){var V=this,oe=r.seriesTaskMap,ae=r.seriesTaskMap=createHashMap$1(),re=n.seriesType,le=n.getTargetSeries;n.createOnAllSeries?$.eachRawSeries(ue):re?$.eachRawSeriesByType(re,ue):le&&le($,L).each(ue);function ue(de){var he=de.uid,pe=ae.set(he,oe&&oe.get(he)||createTask$1({plan:seriesTaskPlan$1,reset:seriesTaskReset$1,count:seriesTaskCount$1}));pe.context={model:de,ecModel:$,api:L,useClearVisual:n.isVisual&&!n.isLayout,plan:n.plan,reset:n.reset,scheduler:V},V._pipe(de,pe)}},g.prototype._createOverallStageTask=function(n,r,$,L){var V=this,oe=r.overallTask=r.overallTask||createTask$1({reset:overallTaskReset$1});oe.context={ecModel:$,api:L,overallReset:n.overallReset,scheduler:V};var ae=oe.agentStubMap,re=oe.agentStubMap=createHashMap$1(),le=n.seriesType,ue=n.getTargetSeries,de=!0,he=!1,pe="";assert$1(!n.createOnAllSeries,pe),le?$.eachRawSeriesByType(le,_e):ue?ue($,L).each(_e):(de=!1,each$v($.getSeries(),_e));function _e($e){var xe=$e.uid,Oe=re.set(xe,ae&&ae.get(xe)||(he=!0,createTask$1({reset:stubReset$1,onDirty:stubOnDirty$1})));Oe.context={model:$e,overallProgress:de},Oe.agent=oe,Oe.__block=de,V._pipe($e,Oe)}he&&oe.dirty()},g.prototype._pipe=function(n,r){var $=n.uid,L=this._pipelineMap.get($);!L.head&&(L.head=r),L.tail&&L.tail.pipe(r),L.tail=r,r.__idxInPipeline=L.count++,r.__pipeline=L},g.wrapStageHandler=function(n,r){return isFunction$3(n)&&(n={overallReset:n,seriesType:detectSeriseType$1(n)}),n.uid=getUID$1("stageHandler"),r&&(n.visualType=r),n},g}();function overallTaskReset$1(g){g.overallReset(g.ecModel,g.api,g.payload)}function stubReset$1(g){return g.overallProgress&&stubProgress$1}function stubProgress$1(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty$1(){this.agent&&this.agent.dirty()}function seriesTaskPlan$1(g){return g.plan?g.plan(g.model,g.ecModel,g.api,g.payload):null}function seriesTaskReset$1(g){g.useClearVisual&&g.data.clearAllVisual();var n=g.resetDefines=normalizeToArray$1(g.reset(g.model,g.ecModel,g.api,g.payload));return n.length>1?map$3(n,function(r,$){return makeSeriesTaskProgress$1($)}):singleSeriesTaskProgress$1}var singleSeriesTaskProgress$1=makeSeriesTaskProgress$1(0);function makeSeriesTaskProgress$1(g){return function(n,r){var $=r.data,L=r.resetDefines[g];if(L&&L.dataEach)for(var V=n.start;V<n.end;V++)L.dataEach($,V);else L&&L.progress&&L.progress(n,$)}}function seriesTaskCount$1(g){return g.data.count()}function detectSeriseType$1(g){seriesType$1=null;try{g(ecModelMock$1,apiMock$1)}catch{}return seriesType$1}var ecModelMock$1={},apiMock$1={},seriesType$1;mockMethods$1(ecModelMock$1,GlobalModel$3),mockMethods$1(apiMock$1,ExtensionAPI$3),ecModelMock$1.eachSeriesByType=ecModelMock$1.eachRawSeriesByType=function(g){seriesType$1=g},ecModelMock$1.eachComponent=function(g){g.mainType==="series"&&g.subType&&(seriesType$1=g.subType)};function mockMethods$1(g,n){for(var r in n.prototype)g[r]=noop$4}const Scheduler$3=Scheduler$2;var colorAll$1=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme$1={color:colorAll$1,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll$1]};var contrastColor$1="#B9B8CE",backgroundColor$1="#100C2A",axisCommon$1=function(){return{axisLine:{lineStyle:{color:contrastColor$1}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette$1=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme$3={darkMode:!0,color:colorPalette$1,backgroundColor:backgroundColor$1,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor$1}},textStyle:{color:contrastColor$1},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor$1}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor$1},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor$1}},timeline:{lineStyle:{color:contrastColor$1},label:{color:contrastColor$1},controlStyle:{color:contrastColor$1,borderColor:contrastColor$1}},calendar:{itemStyle:{color:backgroundColor$1},dayLabel:{color:contrastColor$1},monthLabel:{color:contrastColor$1},yearLabel:{color:contrastColor$1}},timeAxis:axisCommon$1(),logAxis:axisCommon$1(),valueAxis:axisCommon$1(),categoryAxis:axisCommon$1(),line:{symbol:"circle"},graph:{color:colorPalette$1},gauge:{title:{color:contrastColor$1},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor$1},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme$3.categoryAxis.splitLine.show=!1;const darkTheme$2=theme$3;var ECEventProcessor$1=function(){function g(){}return g.prototype.normalizeQuery=function(n){var r={},$={},L={};if(isString$3(n)){var V=parseClassType$1(n);r.mainType=V.main||null,r.subType=V.sub||null}else{var oe=["Index","Name","Id"],ae={name:1,dataIndex:1,dataType:1};each$v(n,function(re,le){for(var ue=!1,de=0;de<oe.length;de++){var he=oe[de],pe=le.lastIndexOf(he);if(pe>0&&pe===le.length-he.length){var _e=le.slice(0,pe);_e!=="data"&&(r.mainType=_e,r[he.toLowerCase()]=re,ue=!0)}}ae.hasOwnProperty(le)&&($[le]=re,ue=!0),ue||(L[le]=re)})}return{cptQuery:r,dataQuery:$,otherQuery:L}},g.prototype.filter=function(n,r){var $=this.eventInfo;if(!$)return!0;var L=$.targetEl,V=$.packedEvent,oe=$.model,ae=$.view;if(!oe||!ae)return!0;var re=r.cptQuery,le=r.dataQuery;return ue(re,oe,"mainType")&&ue(re,oe,"subType")&&ue(re,oe,"index","componentIndex")&&ue(re,oe,"name")&&ue(re,oe,"id")&&ue(le,V,"name")&&ue(le,V,"dataIndex")&&ue(le,V,"dataType")&&(!ae.filterForExposedEvent||ae.filterForExposedEvent(n,r.otherQuery,L,V));function ue(de,he,pe,_e){return de[pe]==null||he[_e||pe]===de[pe]}},g.prototype.afterTrigger=function(){this.eventInfo=null},g}(),SYMBOL_PROPS_WITH_CB$1=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS$1=SYMBOL_PROPS_WITH_CB$1.concat(["symbolKeepAspect"]),seriesSymbolTask$1={createOnAllSeries:!0,performRawSeries:!0,reset:function(g,n){var r=g.getData();if(g.legendIcon&&r.setVisual("legendIcon",g.legendIcon),!g.hasSymbolVisual)return;for(var $={},L={},V=!1,oe=0;oe<SYMBOL_PROPS_WITH_CB$1.length;oe++){var ae=SYMBOL_PROPS_WITH_CB$1[oe],re=g.get(ae);isFunction$3(re)?(V=!0,L[ae]=re):$[ae]=re}if($.symbol=$.symbol||g.defaultSymbol,r.setVisual(extend$4({legendIcon:g.legendIcon||$.symbol,symbolKeepAspect:g.get("symbolKeepAspect")},$)),n.isSeriesFiltered(g))return;var le=keys$2(L);function ue(de,he){for(var pe=g.getRawValue(he),_e=g.getDataParams(he),$e=0;$e<le.length;$e++){var xe=le[$e];de.setItemVisual(he,xe,L[xe](pe,_e))}}return{dataEach:V?ue:null}}},dataSymbolTask$1={createOnAllSeries:!0,performRawSeries:!0,reset:function(g,n){if(!g.hasSymbolVisual||n.isSeriesFiltered(g))return;var r=g.getData();function $(L,V){for(var oe=L.getItemModel(V),ae=0;ae<SYMBOL_PROPS$1.length;ae++){var re=SYMBOL_PROPS$1[ae],le=oe.getShallow(re,!0);le!=null&&L.setItemVisual(V,re,le)}}return{dataEach:r.hasItemOption?$:null}}};function getItemVisualFromData$1(g,n,r){switch(r){case"color":var $=g.getItemVisual(n,"style");return $[g.getVisual("drawType")];case"opacity":return g.getItemVisual(n,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return g.getItemVisual(n,r)}}function getVisualFromData$1(g,n){switch(n){case"color":var r=g.getVisual("style");return r[g.getVisual("drawType")];case"opacity":return g.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return g.getVisual(n)}}function setItemVisualFromData$1(g,n,r,$){switch(r){case"color":var L=g.ensureUniqueItemVisual(n,"style");L[g.getVisual("drawType")]=$,g.setItemVisual(n,"colorFromPalette",!1);break;case"opacity":g.ensureUniqueItemVisual(n,"style").opacity=$;break;case"symbol":case"symbolSize":case"liftZ":g.setItemVisual(n,r,$);break}}function createLegacyDataSelectAction$1(g,n){function r($,L){var V=[];return $.eachComponent({mainType:"series",subType:g,query:L},function(oe){V.push(oe.seriesIndex)}),V}each$v([[g+"ToggleSelect","toggleSelect"],[g+"Select","select"],[g+"UnSelect","unselect"]],function($){n($[0],function(L,V,oe){L=extend$4({},L),oe.dispatchAction(extend$4(L,{type:$[1],seriesIndex:r(V,L)}))})})}function handleSeriesLegacySelectEvents$1(g,n,r,$,L){var V=g+n;r.isSilent(V)||$.eachComponent({mainType:"series",subType:"pie"},function(oe){for(var ae=oe.seriesIndex,re=oe.option.selectedMap,le=L.selected,ue=0;ue<le.length;ue++)if(le[ue].seriesIndex===ae){var de=oe.getData(),he=queryDataIndex$1(de,L.fromActionPayload);r.trigger(V,{type:V,seriesId:oe.id,name:isArray$6(he)?de.getName(he[0]):de.getName(he),selected:isString$3(re)?re:extend$4({},re)})}})}function handleLegacySelectEvents$1(g,n,r){g.on("selectchanged",function($){var L=r.getModel();$.isFromClick?(handleSeriesLegacySelectEvents$1("map","selectchanged",n,L,$),handleSeriesLegacySelectEvents$1("pie","selectchanged",n,L,$)):$.fromAction==="select"?(handleSeriesLegacySelectEvents$1("map","selected",n,L,$),handleSeriesLegacySelectEvents$1("pie","selected",n,L,$)):$.fromAction==="unselect"&&(handleSeriesLegacySelectEvents$1("map","unselected",n,L,$),handleSeriesLegacySelectEvents$1("pie","unselected",n,L,$))})}function findEventDispatcher$1(g,n,r){for(var $;g&&!(n(g)&&($=g,r));)g=g.__hostTarget||g.parent;return $}var wmUniqueIndex$1=Math.round(Math.random()*9),supportDefineProperty$1=typeof Object.defineProperty=="function",WeakMap$2=function(){function g(){this._id="__ec_inner_"+wmUniqueIndex$1++}return g.prototype.get=function(n){return this._guard(n)[this._id]},g.prototype.set=function(n,r){var $=this._guard(n);return supportDefineProperty$1?Object.defineProperty($,this._id,{value:r,enumerable:!1,configurable:!0}):$[this._id]=r,this},g.prototype.delete=function(n){return this.has(n)?(delete this._guard(n)[this._id],!0):!1},g.prototype.has=function(n){return!!this._guard(n)[this._id]},g.prototype._guard=function(n){if(n!==Object(n))throw TypeError("Value of WeakMap is not a non-null object.");return n},g}();const WeakMap$3=WeakMap$2;var Triangle$1=Path$3.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(g,n){var r=n.cx,$=n.cy,L=n.width/2,V=n.height/2;g.moveTo(r,$-V),g.lineTo(r+L,$+V),g.lineTo(r-L,$+V),g.closePath()}}),Diamond$1=Path$3.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(g,n){var r=n.cx,$=n.cy,L=n.width/2,V=n.height/2;g.moveTo(r,$-V),g.lineTo(r+L,$),g.lineTo(r,$+V),g.lineTo(r-L,$),g.closePath()}}),Pin$1=Path$3.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(g,n){var r=n.x,$=n.y,L=n.width/5*3,V=Math.max(L,n.height),oe=L/2,ae=oe*oe/(V-oe),re=$-V+oe+ae,le=Math.asin(ae/oe),ue=Math.cos(le)*oe,de=Math.sin(le),he=Math.cos(le),pe=oe*.6,_e=oe*.7;g.moveTo(r-ue,re+ae),g.arc(r,re,oe,Math.PI-le,Math.PI*2+le),g.bezierCurveTo(r+ue-de*pe,re+ae+he*pe,r,$-_e,r,$),g.bezierCurveTo(r,$-_e,r-ue+de*pe,re+ae+he*pe,r-ue,re+ae),g.closePath()}}),Arrow$1=Path$3.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(g,n){var r=n.height,$=n.width,L=n.x,V=n.y,oe=$/3*2;g.moveTo(L,V),g.lineTo(L+oe,V+r),g.lineTo(L,V+r/4*3),g.lineTo(L-oe,V+r),g.lineTo(L,V),g.closePath()}}),symbolCtors$1={line:Line$8,rect:Rect$7,roundRect:Rect$7,square:Rect$7,circle:Circle$3,diamond:Diamond$1,pin:Pin$1,arrow:Arrow$1,triangle:Triangle$1},symbolShapeMakers$1={line:function(g,n,r,$,L){L.x1=g,L.y1=n+$/2,L.x2=g+r,L.y2=n+$/2},rect:function(g,n,r,$,L){L.x=g,L.y=n,L.width=r,L.height=$},roundRect:function(g,n,r,$,L){L.x=g,L.y=n,L.width=r,L.height=$,L.r=Math.min(r,$)/4},square:function(g,n,r,$,L){var V=Math.min(r,$);L.x=g,L.y=n,L.width=V,L.height=V},circle:function(g,n,r,$,L){L.cx=g+r/2,L.cy=n+$/2,L.r=Math.min(r,$)/2},diamond:function(g,n,r,$,L){L.cx=g+r/2,L.cy=n+$/2,L.width=r,L.height=$},pin:function(g,n,r,$,L){L.x=g+r/2,L.y=n+$/2,L.width=r,L.height=$},arrow:function(g,n,r,$,L){L.x=g+r/2,L.y=n+$/2,L.width=r,L.height=$},triangle:function(g,n,r,$,L){L.cx=g+r/2,L.cy=n+$/2,L.width=r,L.height=$}},symbolBuildProxies$1={};each$v(symbolCtors$1,function(g,n){symbolBuildProxies$1[n]=new g});var SymbolClz$3=Path$3.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(g,n,r){var $=calculateTextPosition$1(g,n,r),L=this.shape;return L&&L.symbolType==="pin"&&n.position==="inside"&&($.y=r.y+r.height*.4),$},buildPath:function(g,n,r){var $=n.symbolType;if($!=="none"){var L=symbolBuildProxies$1[$];L||($="rect",L=symbolBuildProxies$1[$]),symbolShapeMakers$1[$](n.x,n.y,n.width,n.height,L.shape),L.buildPath(g,L.shape,r)}}});function symbolPathSetColor$1(g,n){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=g,r.fill=n||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=g:r.fill=g,this.markRedraw()}}function createSymbol$3(g,n,r,$,L,V,oe){var ae=g.indexOf("empty")===0;ae&&(g=g.substr(5,1).toLowerCase()+g.substr(6));var re;return g.indexOf("image://")===0?re=makeImage$1(g.slice(8),new BoundingRect$3(n,r,$,L),oe?"center":"cover"):g.indexOf("path://")===0?re=makePath$1(g.slice(7),{},new BoundingRect$3(n,r,$,L),oe?"center":"cover"):re=new SymbolClz$3({shape:{symbolType:g,x:n,y:r,width:$,height:L}}),re.__isEmptyBrush=ae,re.setColor=symbolPathSetColor$1,V&&re.setColor(V),re}function normalizeSymbolSize$1(g){return isArray$6(g)||(g=[+g,+g]),[g[0]||0,g[1]||0]}function normalizeSymbolOffset$1(g,n){if(g!=null)return isArray$6(g)||(g=[g,g]),[parsePercent$2(g[0],n[0])||0,parsePercent$2(retrieve2$1(g[1],g[0]),n[1])||0]}function isSafeNum$1(g){return isFinite(g)}function createLinearGradient$1(g,n,r){var $=n.x==null?0:n.x,L=n.x2==null?1:n.x2,V=n.y==null?0:n.y,oe=n.y2==null?0:n.y2;n.global||($=$*r.width+r.x,L=L*r.width+r.x,V=V*r.height+r.y,oe=oe*r.height+r.y),$=isSafeNum$1($)?$:0,L=isSafeNum$1(L)?L:1,V=isSafeNum$1(V)?V:0,oe=isSafeNum$1(oe)?oe:0;var ae=g.createLinearGradient($,V,L,oe);return ae}function createRadialGradient$1(g,n,r){var $=r.width,L=r.height,V=Math.min($,L),oe=n.x==null?.5:n.x,ae=n.y==null?.5:n.y,re=n.r==null?.5:n.r;n.global||(oe=oe*$+r.x,ae=ae*L+r.y,re=re*V),oe=isSafeNum$1(oe)?oe:.5,ae=isSafeNum$1(ae)?ae:.5,re=re>=0&&isSafeNum$1(re)?re:.5;var le=g.createRadialGradient(oe,ae,0,oe,ae,re);return le}function getCanvasGradient$1(g,n,r){for(var $=n.type==="radial"?createRadialGradient$1(g,n,r):createLinearGradient$1(g,n,r),L=n.colorStops,V=0;V<L.length;V++)$.addColorStop(L[V].offset,L[V].color);return $}function isClipPathChanged$1(g,n){if(g===n||!g&&!n)return!1;if(!g||!n||g.length!==n.length)return!0;for(var r=0;r<g.length;r++)if(g[r]!==n[r])return!0;return!1}function parseInt10$1(g){return parseInt(g,10)}function getSize$3(g,n,r){var $=["width","height"][n],L=["clientWidth","clientHeight"][n],V=["paddingLeft","paddingTop"][n],oe=["paddingRight","paddingBottom"][n];if(r[$]!=null&&r[$]!=="auto")return parseFloat(r[$]);var ae=document.defaultView.getComputedStyle(g);return(g[L]||parseInt10$1(ae[$])||parseInt10$1(g.style[$]))-(parseInt10$1(ae[V])||0)-(parseInt10$1(ae[oe])||0)|0}function normalizeLineDash$1(g,n){return!g||g==="solid"||!(n>0)?null:g==="dashed"?[4*n,2*n]:g==="dotted"?[n]:isNumber$3(g)?[g]:isArray$6(g)?g:null}function getLineDash$1(g){var n=g.style,r=n.lineDash&&n.lineWidth>0&&normalizeLineDash$1(n.lineDash,n.lineWidth),$=n.lineDashOffset;if(r){var L=n.strokeNoScale&&g.getLineScale?g.getLineScale():1;L&&L!==1&&(r=map$3(r,function(V){return V/L}),$/=L)}return[r,$]}var pathProxyForDraw$1=new PathProxy$3(!0);function styleHasStroke$1(g){var n=g.stroke;return!(n==null||n==="none"||!(g.lineWidth>0))}function isValidStrokeFillStyle$1(g){return typeof g=="string"&&g!=="none"}function styleHasFill$1(g){var n=g.fill;return n!=null&&n!=="none"}function doFillPath$1(g,n){if(n.fillOpacity!=null&&n.fillOpacity!==1){var r=g.globalAlpha;g.globalAlpha=n.fillOpacity*n.opacity,g.fill(),g.globalAlpha=r}else g.fill()}function doStrokePath$1(g,n){if(n.strokeOpacity!=null&&n.strokeOpacity!==1){var r=g.globalAlpha;g.globalAlpha=n.strokeOpacity*n.opacity,g.stroke(),g.globalAlpha=r}else g.stroke()}function createCanvasPattern$1(g,n,r){var $=createOrUpdateImage$1(n.image,n.__image,r);if(isImageReady$1($)){var L=g.createPattern($,n.repeat||"repeat");if(typeof DOMMatrix=="function"&&L&&L.setTransform){var V=new DOMMatrix;V.translateSelf(n.x||0,n.y||0),V.rotateSelf(0,0,(n.rotation||0)*RADIAN_TO_DEGREE$1),V.scaleSelf(n.scaleX||1,n.scaleY||1),L.setTransform(V)}return L}}function brushPath$1(g,n,r,$){var L,V=styleHasStroke$1(r),oe=styleHasFill$1(r),ae=r.strokePercent,re=ae<1,le=!n.path;(!n.silent||re)&&le&&n.createPathProxy();var ue=n.path||pathProxyForDraw$1,de=n.__dirty;if(!$){var he=r.fill,pe=r.stroke,_e=oe&&!!he.colorStops,$e=V&&!!pe.colorStops,xe=oe&&!!he.image,Oe=V&&!!pe.image,Ce=void 0,Ie=void 0,Ne=void 0,ze=void 0,Fe=void 0;(_e||$e)&&(Fe=n.getBoundingRect()),_e&&(Ce=de?getCanvasGradient$1(g,he,Fe):n.__canvasFillGradient,n.__canvasFillGradient=Ce),$e&&(Ie=de?getCanvasGradient$1(g,pe,Fe):n.__canvasStrokeGradient,n.__canvasStrokeGradient=Ie),xe&&(Ne=de||!n.__canvasFillPattern?createCanvasPattern$1(g,he,n):n.__canvasFillPattern,n.__canvasFillPattern=Ne),Oe&&(ze=de||!n.__canvasStrokePattern?createCanvasPattern$1(g,pe,n):n.__canvasStrokePattern,n.__canvasStrokePattern=Ne),_e?g.fillStyle=Ce:xe&&(Ne?g.fillStyle=Ne:oe=!1),$e?g.strokeStyle=Ie:Oe&&(ze?g.strokeStyle=ze:V=!1)}var Ue=n.getGlobalScale();ue.setScale(Ue[0],Ue[1],n.segmentIgnoreThreshold);var At,Et;g.setLineDash&&r.lineDash&&(L=getLineDash$1(n),At=L[0],Et=L[1]);var Pt=!0;(le||de&SHAPE_CHANGED_BIT$1)&&(ue.setDPR(g.dpr),re?ue.setContext(null):(ue.setContext(g),Pt=!1),ue.reset(),n.buildPath(ue,n.shape,$),ue.toStatic(),n.pathUpdated()),Pt&&ue.rebuildPath(g,re?ae:1),At&&(g.setLineDash(At),g.lineDashOffset=Et),$||(r.strokeFirst?(V&&doStrokePath$1(g,r),oe&&doFillPath$1(g,r)):(oe&&doFillPath$1(g,r),V&&doStrokePath$1(g,r))),At&&g.setLineDash([])}function brushImage$1(g,n,r){var $=n.__image=createOrUpdateImage$1(r.image,n.__image,n,n.onload);if(!(!$||!isImageReady$1($))){var L=r.x||0,V=r.y||0,oe=n.getWidth(),ae=n.getHeight(),re=$.width/$.height;if(oe==null&&ae!=null?oe=ae*re:ae==null&&oe!=null?ae=oe/re:oe==null&&ae==null&&(oe=$.width,ae=$.height),r.sWidth&&r.sHeight){var le=r.sx||0,ue=r.sy||0;g.drawImage($,le,ue,r.sWidth,r.sHeight,L,V,oe,ae)}else if(r.sx&&r.sy){var le=r.sx,ue=r.sy,de=oe-le,he=ae-ue;g.drawImage($,le,ue,de,he,L,V,oe,ae)}else g.drawImage($,L,V,oe,ae)}}function brushText$1(g,n,r){var $,L=r.text;if(L!=null&&(L+=""),L){g.font=r.font||DEFAULT_FONT$1,g.textAlign=r.textAlign,g.textBaseline=r.textBaseline;var V=void 0,oe=void 0;g.setLineDash&&r.lineDash&&($=getLineDash$1(n),V=$[0],oe=$[1]),V&&(g.setLineDash(V),g.lineDashOffset=oe),r.strokeFirst?(styleHasStroke$1(r)&&g.strokeText(L,r.x,r.y),styleHasFill$1(r)&&g.fillText(L,r.x,r.y)):(styleHasFill$1(r)&&g.fillText(L,r.x,r.y),styleHasStroke$1(r)&&g.strokeText(L,r.x,r.y)),V&&g.setLineDash([])}}var SHADOW_NUMBER_PROPS$1=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS$1=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps$1(g,n,r,$,L){var V=!1;if(!$&&(r=r||{},n===r))return!1;if($||n.opacity!==r.opacity){flushPathDrawn$1(g,L),V=!0;var oe=Math.max(Math.min(n.opacity,1),0);g.globalAlpha=isNaN(oe)?DEFAULT_COMMON_STYLE$1.opacity:oe}($||n.blend!==r.blend)&&(V||(flushPathDrawn$1(g,L),V=!0),g.globalCompositeOperation=n.blend||DEFAULT_COMMON_STYLE$1.blend);for(var ae=0;ae<SHADOW_NUMBER_PROPS$1.length;ae++){var re=SHADOW_NUMBER_PROPS$1[ae];($||n[re]!==r[re])&&(V||(flushPathDrawn$1(g,L),V=!0),g[re]=g.dpr*(n[re]||0))}return($||n.shadowColor!==r.shadowColor)&&(V||(flushPathDrawn$1(g,L),V=!0),g.shadowColor=n.shadowColor||DEFAULT_COMMON_STYLE$1.shadowColor),V}function bindPathAndTextCommonStyle$1(g,n,r,$,L){var V=getStyle$1(n,L.inHover),oe=$?null:r&&getStyle$1(r,L.inHover)||{};if(V===oe)return!1;var ae=bindCommonProps$1(g,V,oe,$,L);if(($||V.fill!==oe.fill)&&(ae||(flushPathDrawn$1(g,L),ae=!0),isValidStrokeFillStyle$1(V.fill)&&(g.fillStyle=V.fill)),($||V.stroke!==oe.stroke)&&(ae||(flushPathDrawn$1(g,L),ae=!0),isValidStrokeFillStyle$1(V.stroke)&&(g.strokeStyle=V.stroke)),($||V.opacity!==oe.opacity)&&(ae||(flushPathDrawn$1(g,L),ae=!0),g.globalAlpha=V.opacity==null?1:V.opacity),n.hasStroke()){var re=V.lineWidth,le=re/(V.strokeNoScale&&n.getLineScale?n.getLineScale():1);g.lineWidth!==le&&(ae||(flushPathDrawn$1(g,L),ae=!0),g.lineWidth=le)}for(var ue=0;ue<STROKE_PROPS$1.length;ue++){var de=STROKE_PROPS$1[ue],he=de[0];($||V[he]!==oe[he])&&(ae||(flushPathDrawn$1(g,L),ae=!0),g[he]=V[he]||de[1])}return ae}function bindImageStyle$1(g,n,r,$,L){return bindCommonProps$1(g,getStyle$1(n,L.inHover),r&&getStyle$1(r,L.inHover),$,L)}function setContextTransform$1(g,n){var r=n.transform,$=g.dpr||1;r?g.setTransform($*r[0],$*r[1],$*r[2],$*r[3],$*r[4],$*r[5]):g.setTransform($,0,0,$,0,0)}function updateClipStatus$1(g,n,r){for(var $=!1,L=0;L<g.length;L++){var V=g[L];$=$||V.isZeroArea(),setContextTransform$1(n,V),n.beginPath(),V.buildPath(n,V.shape),n.clip()}r.allClipped=$}function isTransformChanged$1(g,n){return g&&n?g[0]!==n[0]||g[1]!==n[1]||g[2]!==n[2]||g[3]!==n[3]||g[4]!==n[4]||g[5]!==n[5]:!(!g&&!n)}var DRAW_TYPE_PATH$1=1,DRAW_TYPE_IMAGE$1=2,DRAW_TYPE_TEXT$1=3,DRAW_TYPE_INCREMENTAL$1=4;function canPathBatch$1(g){var n=styleHasFill$1(g),r=styleHasStroke$1(g);return!(g.lineDash||!(+n^+r)||n&&typeof g.fill!="string"||r&&typeof g.stroke!="string"||g.strokePercent<1||g.strokeOpacity<1||g.fillOpacity<1)}function flushPathDrawn$1(g,n){n.batchFill&&g.fill(),n.batchStroke&&g.stroke(),n.batchFill="",n.batchStroke=""}function getStyle$1(g,n){return n&&g.__hoverStyle||g.style}function brushSingle$1(g,n){brush$3(g,n,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$3(g,n,r,$){var L=n.transform;if(!n.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){n.__dirty&=~REDRAW_BIT$1,n.__isRendered=!1;return}var V=n.__clipPaths,oe=r.prevElClipPaths,ae=!1,re=!1;if((!oe||isClipPathChanged$1(V,oe))&&(oe&&oe.length&&(flushPathDrawn$1(g,r),g.restore(),re=ae=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),V&&V.length&&(flushPathDrawn$1(g,r),g.save(),updateClipStatus$1(V,g,r),ae=!0),r.prevElClipPaths=V),r.allClipped){n.__isRendered=!1;return}n.beforeBrush&&n.beforeBrush(),n.innerBeforeBrush();var le=r.prevEl;le||(re=ae=!0);var ue=n instanceof Path$3&&n.autoBatch&&canPathBatch$1(n.style);ae||isTransformChanged$1(L,le.transform)?(flushPathDrawn$1(g,r),setContextTransform$1(g,n)):ue||flushPathDrawn$1(g,r);var de=getStyle$1(n,r.inHover);n instanceof Path$3?(r.lastDrawType!==DRAW_TYPE_PATH$1&&(re=!0,r.lastDrawType=DRAW_TYPE_PATH$1),bindPathAndTextCommonStyle$1(g,n,le,re,r),(!ue||!r.batchFill&&!r.batchStroke)&&g.beginPath(),brushPath$1(g,n,de,ue),ue&&(r.batchFill=de.fill||"",r.batchStroke=de.stroke||"")):n instanceof TSpan$3?(r.lastDrawType!==DRAW_TYPE_TEXT$1&&(re=!0,r.lastDrawType=DRAW_TYPE_TEXT$1),bindPathAndTextCommonStyle$1(g,n,le,re,r),brushText$1(g,n,de)):n instanceof ZRImage$3?(r.lastDrawType!==DRAW_TYPE_IMAGE$1&&(re=!0,r.lastDrawType=DRAW_TYPE_IMAGE$1),bindImageStyle$1(g,n,le,re,r),brushImage$1(g,n,de)):n.getTemporalDisplayables&&(r.lastDrawType!==DRAW_TYPE_INCREMENTAL$1&&(re=!0,r.lastDrawType=DRAW_TYPE_INCREMENTAL$1),brushIncremental$1(g,n,r)),ue&&$&&flushPathDrawn$1(g,r),n.innerAfterBrush(),n.afterBrush&&n.afterBrush(),r.prevEl=n,n.__dirty=0,n.__isRendered=!0}function brushIncremental$1(g,n,r){var $=n.getDisplayables(),L=n.getTemporalDisplayables();g.save();var V={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},oe,ae;for(oe=n.getCursor(),ae=$.length;oe<ae;oe++){var re=$[oe];re.beforeBrush&&re.beforeBrush(),re.innerBeforeBrush(),brush$3(g,re,V,oe===ae-1),re.innerAfterBrush(),re.afterBrush&&re.afterBrush(),V.prevEl=re}for(var le=0,ue=L.length;le<ue;le++){var re=L[le];re.beforeBrush&&re.beforeBrush(),re.innerBeforeBrush(),brush$3(g,re,V,le===ue-1),re.innerAfterBrush(),re.afterBrush&&re.afterBrush(),V.prevEl=re}n.clearTemporalDisplayables(),n.notClear=!0,g.restore()}var decalMap$1=new WeakMap$3,decalCache$1=new LRU$3(100),decalKeys$1=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal$1(g,n){if(g==="none")return null;var r=n.getDevicePixelRatio(),$=n.getZr(),L=$.painter.type==="svg";g.dirty&&decalMap$1.delete(g);var V=decalMap$1.get(g);if(V)return V;var oe=defaults$7(g,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});oe.backgroundColor==="none"&&(oe.backgroundColor=null);var ae={repeat:"repeat"};return re(ae),ae.rotation=oe.rotation,ae.scaleX=ae.scaleY=L?1:1/r,decalMap$1.set(g,ae),g.dirty=!1,ae;function re(le){for(var ue=[r],de=!0,he=0;he<decalKeys$1.length;++he){var pe=oe[decalKeys$1[he]];if(pe!=null&&!isArray$6(pe)&&!isString$3(pe)&&!isNumber$3(pe)&&typeof pe!="boolean"){de=!1;break}ue.push(pe)}var _e;if(de){_e=ue.join(",")+(L?"-svg":"");var $e=decalCache$1.get(_e);$e&&(L?le.svgElement=$e:le.image=$e)}var xe=normalizeDashArrayX$1(oe.dashArrayX),Oe=normalizeDashArrayY$1(oe.dashArrayY),Ce=normalizeSymbolArray$1(oe.symbol),Ie=getLineBlockLengthX$1(xe),Ne=getLineBlockLengthY$1(Oe),ze=!L&&platformApi$1.createCanvas(),Fe=L&&{tag:"g",attrs:{},key:"dcl",children:[]},Ue=Et(),At;ze&&(ze.width=Ue.width*r,ze.height=Ue.height*r,At=ze.getContext("2d")),Pt(),de&&decalCache$1.put(_e,ze||Fe),le.image=ze,le.svgElement=Fe,le.svgWidth=Ue.width,le.svgHeight=Ue.height;function Et(){for(var kt=1,Dt=0,Lt=Ie.length;Dt<Lt;++Dt)kt=getLeastCommonMultiple$1(kt,Ie[Dt]);for(var hn=1,Dt=0,Lt=Ce.length;Dt<Lt;++Dt)hn=getLeastCommonMultiple$1(hn,Ce[Dt].length);kt*=hn;var vn=Ne*Ie.length*Ce.length;return{width:Math.max(1,Math.min(kt,oe.maxTileWidth)),height:Math.max(1,Math.min(vn,oe.maxTileHeight))}}function Pt(){At&&(At.clearRect(0,0,ze.width,ze.height),oe.backgroundColor&&(At.fillStyle=oe.backgroundColor,At.fillRect(0,0,ze.width,ze.height)));for(var kt=0,Dt=0;Dt<Oe.length;++Dt)kt+=Oe[Dt];if(kt<=0)return;for(var Lt=-Ne,hn=0,vn=0,_n=0;Lt<Ue.height;){if(hn%2===0){for(var $n=vn/2%Ce.length,Sn=0,xn=0,On=0;Sn<Ue.width*2;){for(var Cn=0,Dt=0;Dt<xe[_n].length;++Dt)Cn+=xe[_n][Dt];if(Cn<=0)break;if(xn%2===0){var An=(1-oe.symbolSize)*.5,Rn=Sn+xe[_n][xn]*An,Fn=Lt+Oe[hn]*An,Pn=xe[_n][xn]*oe.symbolSize,Un=Oe[hn]*oe.symbolSize,Dn=On/2%Ce[$n].length;kn(Rn,Fn,Pn,Un,Ce[$n][Dn])}Sn+=xe[_n][xn],++On,++xn,xn===xe[_n].length&&(xn=0)}++_n,_n===xe.length&&(_n=0)}Lt+=Oe[hn],++vn,++hn,hn===Oe.length&&(hn=0)}function kn(Nn,Vn,Ln,Tn,In){var Bn=L?1:r,Qn=createSymbol$3(In,Nn*Bn,Vn*Bn,Ln*Bn,Tn*Bn,oe.color,oe.symbolKeepAspect);if(L){var Zn=$.painter.renderOneToVNode(Qn);Zn&&Fe.children.push(Zn)}else brushSingle$1(At,Qn)}}}}function normalizeSymbolArray$1(g){if(!g||g.length===0)return[["rect"]];if(isString$3(g))return[[g]];for(var n=!0,r=0;r<g.length;++r)if(!isString$3(g[r])){n=!1;break}if(n)return normalizeSymbolArray$1([g]);for(var $=[],r=0;r<g.length;++r)isString$3(g[r])?$.push([g[r]]):$.push(g[r]);return $}function normalizeDashArrayX$1(g){if(!g||g.length===0)return[[0,0]];if(isNumber$3(g)){var n=Math.ceil(g);return[[n,n]]}for(var r=!0,$=0;$<g.length;++$)if(!isNumber$3(g[$])){r=!1;break}if(r)return normalizeDashArrayX$1([g]);for(var L=[],$=0;$<g.length;++$)if(isNumber$3(g[$])){var n=Math.ceil(g[$]);L.push([n,n])}else{var n=map$3(g[$],function(ae){return Math.ceil(ae)});n.length%2===1?L.push(n.concat(n)):L.push(n)}return L}function normalizeDashArrayY$1(g){if(!g||typeof g=="object"&&g.length===0)return[0,0];if(isNumber$3(g)){var n=Math.ceil(g);return[n,n]}var r=map$3(g,function($){return Math.ceil($)});return g.length%2?r.concat(r):r}function getLineBlockLengthX$1(g){return map$3(g,function(n){return getLineBlockLengthY$1(n)})}function getLineBlockLengthY$1(g){for(var n=0,r=0;r<g.length;++r)n+=g[r];return g.length%2===1?n*2:n}function decalVisual$1(g,n){g.eachRawSeries(function(r){if(!g.isSeriesFiltered(r)){var $=r.getData();$.hasItemVisual()&&$.each(function(oe){var ae=$.getItemVisual(oe,"decal");if(ae){var re=$.ensureUniqueItemVisual(oe,"style");re.decal=createOrUpdatePatternFromDecal$1(ae,n)}});var L=$.getVisual("decal");if(L){var V=$.getVisual("style");V.decal=createOrUpdatePatternFromDecal$1(L,n)}}})}var lifecycle$2=new Eventful$3;const lifecycle$3=lifecycle$2;var implsStore$1={};function registerImpl$1(g,n){implsStore$1[g]=n}function getImpl$1(g){return implsStore$1[g]}var TEST_FRAME_REMAIN_TIME$1=1,PRIORITY_PROCESSOR_SERIES_FILTER$1=800,PRIORITY_PROCESSOR_DATASTACK$1=900,PRIORITY_PROCESSOR_FILTER$1=1e3,PRIORITY_PROCESSOR_DEFAULT$1=2e3,PRIORITY_PROCESSOR_STATISTIC$1=5e3,PRIORITY_VISUAL_LAYOUT$1=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT$1=1100,PRIORITY_VISUAL_GLOBAL$1=2e3,PRIORITY_VISUAL_CHART$1=3e3,PRIORITY_VISUAL_COMPONENT$1=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM$1=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT$1=4600,PRIORITY_VISUAL_BRUSH$1=5e3,PRIORITY_VISUAL_ARIA$1=6e3,PRIORITY_VISUAL_DECAL$1=7e3,PRIORITY$1={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER$1,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER$1,STATISTIC:PRIORITY_PROCESSOR_STATISTIC$1},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT$1,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT$1,GLOBAL:PRIORITY_VISUAL_GLOBAL$1,CHART:PRIORITY_VISUAL_CHART$1,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT$1,COMPONENT:PRIORITY_VISUAL_COMPONENT$1,BRUSH:PRIORITY_VISUAL_BRUSH$1,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM$1,ARIA:PRIORITY_VISUAL_ARIA$1,DECAL:PRIORITY_VISUAL_DECAL$1}},IN_MAIN_PROCESS_KEY$1="__flagInMainProcess",PENDING_UPDATE$1="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY$1="__needsUpdateStatus",ACTION_REG$1=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY$1="__connectUpdateStatus",CONNECT_STATUS_PENDING$1=0,CONNECT_STATUS_UPDATING$1=1,CONNECT_STATUS_UPDATED$1=2;function createRegisterEventWithLowercaseECharts$1(g){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful$1(this,g,n)}}function createRegisterEventWithLowercaseMessageCenter$1(g){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return toLowercaseNameAndCallEventful$1(this,g,n)}}function toLowercaseNameAndCallEventful$1(g,n,r){return r[0]=r[0]&&r[0].toLowerCase(),Eventful$3.prototype[n].apply(g,r)}var MessageCenter$1=function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n}(Eventful$3),messageCenterProto$1=MessageCenter$1.prototype;messageCenterProto$1.on=createRegisterEventWithLowercaseMessageCenter$1("on"),messageCenterProto$1.off=createRegisterEventWithLowercaseMessageCenter$1("off");var prepare$1,prepareView$1,updateDirectly$1,updateMethods$1,doConvertPixel$1,updateStreamModes$1,doDispatchAction$1,flushPendingActions$1,triggerUpdatedEvent$1,bindRenderedEvent$1,bindMouseEvent$1,render$1,renderComponents$1,renderSeries$1,createExtensionAPI$1,enableConnect$1,markStatusToUpdate$1,applyChangedStates$1,ECharts$1=function(g){__extends$2(n,g);function n(r,$,L){var V=g.call(this,new ECEventProcessor$1)||this;V._chartsViews=[],V._chartsMap={},V._componentsViews=[],V._componentsMap={},V._pendingActions=[],L=L||{},isString$3($)&&($=themeStorage$1[$]),V._dom=r;var oe="canvas",ae="auto",re=!1,le=V._zr=init$6(r,{renderer:L.renderer||oe,devicePixelRatio:L.devicePixelRatio,width:L.width,height:L.height,ssr:L.ssr,useDirtyRect:retrieve2$1(L.useDirtyRect,re),useCoarsePointer:retrieve2$1(L.useCoarsePointer,ae),pointerSize:L.pointerSize});V._ssr=L.ssr,V._throttledZrFlush=throttle$1(bind$5(le.flush,le),17),$=clone$9($),$&&globalBackwardCompat$1($,!0),V._theme=$,V._locale=createLocaleObject$1(L.locale||SYSTEM_LANG$1),V._coordSysMgr=new CoordinateSystem$1;var ue=V._api=createExtensionAPI$1(V);function de(he,pe){return he.__prio-pe.__prio}return sort$5(visualFuncs$1,de),sort$5(dataProcessorFuncs$1,de),V._scheduler=new Scheduler$3(V,ue,dataProcessorFuncs$1,visualFuncs$1),V._messageCenter=new MessageCenter$1,V._initEvents(),V.resize=bind$5(V.resize,V),le.animation.on("frame",V._onframe,V),bindRenderedEvent$1(le,V),bindMouseEvent$1(le,V),setAsPrimitive$1(V),V}return n.prototype._onframe=function(){if(!this._disposed){applyChangedStates$1(this);var r=this._scheduler;if(this[PENDING_UPDATE$1]){var $=this[PENDING_UPDATE$1].silent;this[IN_MAIN_PROCESS_KEY$1]=!0;try{prepare$1(this),updateMethods$1.update.call(this,null,this[PENDING_UPDATE$1].updateParams)}catch(re){throw this[IN_MAIN_PROCESS_KEY$1]=!1,this[PENDING_UPDATE$1]=null,re}this._zr.flush(),this[IN_MAIN_PROCESS_KEY$1]=!1,this[PENDING_UPDATE$1]=null,flushPendingActions$1.call(this,$),triggerUpdatedEvent$1.call(this,$)}else if(r.unfinished){var L=TEST_FRAME_REMAIN_TIME$1,V=this._model,oe=this._api;r.unfinished=!1;do{var ae=+new Date;r.performSeriesTasks(V),r.performDataProcessorTasks(V),updateStreamModes$1(this,V),r.performVisualTasks(V),renderSeries$1(this,this._model,oe,"remain",{}),L-=+new Date-ae}while(L>0&&r.unfinished);r.unfinished||this._zr.flush()}}},n.prototype.getDom=function(){return this._dom},n.prototype.getId=function(){return this.id},n.prototype.getZr=function(){return this._zr},n.prototype.isSSR=function(){return this._ssr},n.prototype.setOption=function(r,$,L){if(!this[IN_MAIN_PROCESS_KEY$1]){if(this._disposed){this.id;return}var V,oe,ae;if(isObject$9($)&&(L=$.lazyUpdate,V=$.silent,oe=$.replaceMerge,ae=$.transition,$=$.notMerge),this[IN_MAIN_PROCESS_KEY$1]=!0,!this._model||$){var re=new OptionManager$3(this._api),le=this._theme,ue=this._model=new GlobalModel$3;ue.scheduler=this._scheduler,ue.ssr=this._ssr,ue.init(null,null,null,le,this._locale,re)}this._model.setOption(r,{replaceMerge:oe},optionPreprocessorFuncs$1);var de={seriesTransition:ae,optionChanged:!0};if(L)this[PENDING_UPDATE$1]={silent:V,updateParams:de},this[IN_MAIN_PROCESS_KEY$1]=!1,this.getZr().wakeUp();else{try{prepare$1(this),updateMethods$1.update.call(this,null,de)}catch(he){throw this[PENDING_UPDATE$1]=null,this[IN_MAIN_PROCESS_KEY$1]=!1,he}this._ssr||this._zr.flush(),this[PENDING_UPDATE$1]=null,this[IN_MAIN_PROCESS_KEY$1]=!1,flushPendingActions$1.call(this,V),triggerUpdatedEvent$1.call(this,V)}}},n.prototype.setTheme=function(){},n.prototype.getModel=function(){return this._model},n.prototype.getOption=function(){return this._model&&this._model.getOption()},n.prototype.getWidth=function(){return this._zr.getWidth()},n.prototype.getHeight=function(){return this._zr.getHeight()},n.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env$3.hasGlobalWindow&&window.devicePixelRatio||1},n.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},n.prototype.renderToCanvas=function(r){r=r||{};var $=this._zr.painter;return $.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},n.prototype.renderToSVGString=function(r){r=r||{};var $=this._zr.painter;return $.renderToString({useViewBox:r.useViewBox})},n.prototype.getSvgDataURL=function(){if(env$3.svgSupported){var r=this._zr,$=r.storage.getDisplayList();return each$v($,function(L){L.stopAnimation(null,!0)}),r.painter.toDataURL()}},n.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var $=r.excludeComponents,L=this._model,V=[],oe=this;each$v($,function(re){L.eachComponent({mainType:re},function(le){var ue=oe._componentsMap[le.__viewId];ue.group.ignore||(V.push(ue),ue.group.ignore=!0)})});var ae=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return each$v(V,function(re){re.group.ignore=!1}),ae},n.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var $=r.type==="svg",L=this.group,V=Math.min,oe=Math.max,ae=1/0;if(connectedGroups$1[L]){var re=ae,le=ae,ue=-ae,de=-ae,he=[],pe=r&&r.pixelRatio||this.getDevicePixelRatio();each$v(instances$2,function(Ie,Ne){if(Ie.group===L){var ze=$?Ie.getZr().painter.getSvgDom().innerHTML:Ie.renderToCanvas(clone$9(r)),Fe=Ie.getDom().getBoundingClientRect();re=V(Fe.left,re),le=V(Fe.top,le),ue=oe(Fe.right,ue),de=oe(Fe.bottom,de),he.push({dom:ze,left:Fe.left,top:Fe.top})}}),re*=pe,le*=pe,ue*=pe,de*=pe;var _e=ue-re,$e=de-le,xe=platformApi$1.createCanvas(),Oe=init$6(xe,{renderer:$?"svg":"canvas"});if(Oe.resize({width:_e,height:$e}),$){var Ce="";return each$v(he,function(Ie){var Ne=Ie.left-re,ze=Ie.top-le;Ce+='<g transform="translate('+Ne+","+ze+')">'+Ie.dom+"</g>"}),Oe.painter.getSvgRoot().innerHTML=Ce,r.connectedBackgroundColor&&Oe.painter.setBackgroundColor(r.connectedBackgroundColor),Oe.refreshImmediately(),Oe.painter.toDataURL()}else return r.connectedBackgroundColor&&Oe.add(new Rect$7({shape:{x:0,y:0,width:_e,height:$e},style:{fill:r.connectedBackgroundColor}})),each$v(he,function(Ie){var Ne=new ZRImage$3({style:{x:Ie.left*pe-re,y:Ie.top*pe-le,image:Ie.dom}});Oe.add(Ne)}),Oe.refreshImmediately(),xe.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},n.prototype.convertToPixel=function(r,$){return doConvertPixel$1(this,"convertToPixel",r,$)},n.prototype.convertFromPixel=function(r,$){return doConvertPixel$1(this,"convertFromPixel",r,$)},n.prototype.containPixel=function(r,$){if(this._disposed){this.id;return}var L=this._model,V,oe=parseFinder$3(L,r);return each$v(oe,function(ae,re){re.indexOf("Models")>=0&&each$v(ae,function(le){var ue=le.coordinateSystem;if(ue&&ue.containPoint)V=V||!!ue.containPoint($);else if(re==="seriesModels"){var de=this._chartsMap[le.__viewId];de&&de.containPoint&&(V=V||de.containPoint($,le))}},this)},this),!!V},n.prototype.getVisual=function(r,$){var L=this._model,V=parseFinder$3(L,r,{defaultMainType:"series"}),oe=V.seriesModel,ae=oe.getData(),re=V.hasOwnProperty("dataIndexInside")?V.dataIndexInside:V.hasOwnProperty("dataIndex")?ae.indexOfRawIndex(V.dataIndex):null;return re!=null?getItemVisualFromData$1(ae,re,$):getVisualFromData$1(ae,$)},n.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},n.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},n.prototype._initEvents=function(){var r=this;each$v(MOUSE_EVENT_NAMES$1,function($){var L=function(V){var oe=r.getModel(),ae=V.target,re,le=$==="globalout";if(le?re={}:ae&&findEventDispatcher$1(ae,function(_e){var $e=getECData$1(_e);if($e&&$e.dataIndex!=null){var xe=$e.dataModel||oe.getSeriesByIndex($e.seriesIndex);return re=xe&&xe.getDataParams($e.dataIndex,$e.dataType)||{},!0}else if($e.eventData)return re=extend$4({},$e.eventData),!0},!0),re){var ue=re.componentType,de=re.componentIndex;(ue==="markLine"||ue==="markPoint"||ue==="markArea")&&(ue="series",de=re.seriesIndex);var he=ue&&de!=null&&oe.getComponent(ue,de),pe=he&&r[he.mainType==="series"?"_chartsMap":"_componentsMap"][he.__viewId];re.event=V,re.type=$,r._$eventProcessor.eventInfo={targetEl:ae,packedEvent:re,model:he,view:pe},r.trigger($,re)}};L.zrEventfulCallAtLast=!0,r._zr.on($,L,r)}),each$v(eventActionMap$1,function($,L){r._messageCenter.on(L,function(V){this.trigger(L,V)},r)}),each$v(["selectchanged"],function($){r._messageCenter.on($,function(L){this.trigger($,L)},r)}),handleLegacySelectEvents$1(this._messageCenter,this,this._api)},n.prototype.isDisposed=function(){return this._disposed},n.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},n.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&setAttribute$1(this.getDom(),DOM_ATTRIBUTE_KEY$1,"");var $=this,L=$._api,V=$._model;each$v($._componentsViews,function(oe){oe.dispose(V,L)}),each$v($._chartsViews,function(oe){oe.dispose(V,L)}),$._zr.dispose(),$._dom=$._model=$._chartsMap=$._componentsMap=$._chartsViews=$._componentsViews=$._scheduler=$._api=$._zr=$._throttledZrFlush=$._theme=$._coordSysMgr=$._messageCenter=null,delete instances$2[$.id]},n.prototype.resize=function(r){if(!this[IN_MAIN_PROCESS_KEY$1]){if(this._disposed){this.id;return}this._zr.resize(r);var $=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!$){var L=$.resetOption("media"),V=r&&r.silent;this[PENDING_UPDATE$1]&&(V==null&&(V=this[PENDING_UPDATE$1].silent),L=!0,this[PENDING_UPDATE$1]=null),this[IN_MAIN_PROCESS_KEY$1]=!0;try{L&&prepare$1(this),updateMethods$1.update.call(this,{type:"resize",animation:extend$4({duration:0},r&&r.animation)})}catch(oe){throw this[IN_MAIN_PROCESS_KEY$1]=!1,oe}this[IN_MAIN_PROCESS_KEY$1]=!1,flushPendingActions$1.call(this,V),triggerUpdatedEvent$1.call(this,V)}}},n.prototype.showLoading=function(r,$){if(this._disposed){this.id;return}if(isObject$9(r)&&($=r,r=""),r=r||"default",this.hideLoading(),!!loadingEffects$1[r]){var L=loadingEffects$1[r](this._api,$),V=this._zr;this._loadingFX=L,V.add(L)}},n.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},n.prototype.makeActionFromEvent=function(r){var $=extend$4({},r);return $.type=eventActionMap$1[r.type],$},n.prototype.dispatchAction=function(r,$){if(this._disposed){this.id;return}if(isObject$9($)||($={silent:!!$}),!!actions$1[r.type]&&!!this._model){if(this[IN_MAIN_PROCESS_KEY$1]){this._pendingActions.push(r);return}var L=$.silent;doDispatchAction$1.call(this,r,L);var V=$.flush;V?this._zr.flush():V!==!1&&env$3.browser.weChat&&this._throttledZrFlush(),flushPendingActions$1.call(this,L),triggerUpdatedEvent$1.call(this,L)}},n.prototype.updateLabelLayout=function(){lifecycle$3.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},n.prototype.appendData=function(r){if(this._disposed){this.id;return}var $=r.seriesIndex,L=this.getModel(),V=L.getSeriesByIndex($);V.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},n.internalField=function(){prepare$1=function(de){var he=de._scheduler;he.restorePipelines(de._model),he.prepareStageTasks(),prepareView$1(de,!0),prepareView$1(de,!1),he.plan()},prepareView$1=function(de,he){for(var pe=de._model,_e=de._scheduler,$e=he?de._componentsViews:de._chartsViews,xe=he?de._componentsMap:de._chartsMap,Oe=de._zr,Ce=de._api,Ie=0;Ie<$e.length;Ie++)$e[Ie].__alive=!1;he?pe.eachComponent(function(Fe,Ue){Fe!=="series"&&Ne(Ue)}):pe.eachSeries(Ne);function Ne(Fe){var Ue=Fe.__requireNewView;Fe.__requireNewView=!1;var At="_ec_"+Fe.id+"_"+Fe.type,Et=!Ue&&xe[At];if(!Et){var Pt=parseClassType$1(Fe.type),kt=he?ComponentView$3.getClass(Pt.main,Pt.sub):ChartView$3.getClass(Pt.sub);Et=new kt,Et.init(pe,Ce),xe[At]=Et,$e.push(Et),Oe.add(Et.group)}Fe.__viewId=Et.__id=At,Et.__alive=!0,Et.__model=Fe,Et.group.__ecComponentInfo={mainType:Fe.mainType,index:Fe.componentIndex},!he&&_e.prepareView(Et,Fe,pe,Ce)}for(var Ie=0;Ie<$e.length;){var ze=$e[Ie];ze.__alive?Ie++:(!he&&ze.renderTask.dispose(),Oe.remove(ze.group),ze.dispose(pe,Ce),$e.splice(Ie,1),xe[ze.__id]===ze&&delete xe[ze.__id],ze.__id=ze.group.__ecComponentInfo=null)}},updateDirectly$1=function(de,he,pe,_e,$e){var xe=de._model;if(xe.setUpdatePayload(pe),!_e){each$v([].concat(de._componentsViews).concat(de._chartsViews),ze);return}var Oe={};Oe[_e+"Id"]=pe[_e+"Id"],Oe[_e+"Index"]=pe[_e+"Index"],Oe[_e+"Name"]=pe[_e+"Name"];var Ce={mainType:_e,query:Oe};$e&&(Ce.subType=$e);var Ie=pe.excludeSeriesId,Ne;Ie!=null&&(Ne=createHashMap$1(),each$v(normalizeToArray$1(Ie),function(Fe){var Ue=convertOptionIdName$1(Fe,null);Ue!=null&&Ne.set(Ue,!0)})),xe&&xe.eachComponent(Ce,function(Fe){var Ue=Ne&&Ne.get(Fe.id)!=null;if(!Ue)if(isHighDownPayload$1(pe))if(Fe instanceof SeriesModel$3)pe.type===HIGHLIGHT_ACTION_TYPE$1&&!pe.notBlur&&!Fe.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload$1(Fe,pe,de._api);else{var At=findComponentHighDownDispatchers$1(Fe.mainType,Fe.componentIndex,pe.name,de._api),Et=At.focusSelf,Pt=At.dispatchers;pe.type===HIGHLIGHT_ACTION_TYPE$1&&Et&&!pe.notBlur&&blurComponent$1(Fe.mainType,Fe.componentIndex,de._api),Pt&&each$v(Pt,function(kt){pe.type===HIGHLIGHT_ACTION_TYPE$1?enterEmphasis$1(kt):leaveEmphasis$1(kt)})}else isSelectChangePayload$1(pe)&&Fe instanceof SeriesModel$3&&(toggleSelectionFromPayload$1(Fe,pe,de._api),updateSeriesElementSelection$1(Fe),markStatusToUpdate$1(de))},de),xe&&xe.eachComponent(Ce,function(Fe){var Ue=Ne&&Ne.get(Fe.id)!=null;Ue||ze(de[_e==="series"?"_chartsMap":"_componentsMap"][Fe.__viewId])},de);function ze(Fe){Fe&&Fe.__alive&&Fe[he]&&Fe[he](Fe.__model,xe,de._api,pe)}},updateMethods$1={prepareAndUpdate:function(de){prepare$1(this),updateMethods$1.update.call(this,de,{optionChanged:de.newOption!=null})},update:function(de,he){var pe=this._model,_e=this._api,$e=this._zr,xe=this._coordSysMgr,Oe=this._scheduler;if(pe){pe.setUpdatePayload(de),Oe.restoreData(pe,de),Oe.performSeriesTasks(pe),xe.create(pe,_e),Oe.performDataProcessorTasks(pe,de),updateStreamModes$1(this,pe),xe.update(pe,_e),r(pe),Oe.performVisualTasks(pe,de),render$1(this,pe,_e,de,he);var Ce=pe.get("backgroundColor")||"transparent",Ie=pe.get("darkMode");$e.setBackgroundColor(Ce),Ie!=null&&Ie!=="auto"&&$e.setDarkMode(Ie),lifecycle$3.trigger("afterupdate",pe,_e)}},updateTransform:function(de){var he=this,pe=this._model,_e=this._api;if(pe){pe.setUpdatePayload(de);var $e=[];pe.eachComponent(function(Oe,Ce){if(Oe!=="series"){var Ie=he.getViewOfComponentModel(Ce);if(Ie&&Ie.__alive)if(Ie.updateTransform){var Ne=Ie.updateTransform(Ce,pe,_e,de);Ne&&Ne.update&&$e.push(Ie)}else $e.push(Ie)}});var xe=createHashMap$1();pe.eachSeries(function(Oe){var Ce=he._chartsMap[Oe.__viewId];if(Ce.updateTransform){var Ie=Ce.updateTransform(Oe,pe,_e,de);Ie&&Ie.update&&xe.set(Oe.uid,1)}else xe.set(Oe.uid,1)}),r(pe),this._scheduler.performVisualTasks(pe,de,{setDirty:!0,dirtyMap:xe}),renderSeries$1(this,pe,_e,de,{},xe),lifecycle$3.trigger("afterupdate",pe,_e)}},updateView:function(de){var he=this._model;!he||(he.setUpdatePayload(de),ChartView$3.markUpdateMethod(de,"updateView"),r(he),this._scheduler.performVisualTasks(he,de,{setDirty:!0}),render$1(this,he,this._api,de,{}),lifecycle$3.trigger("afterupdate",he,this._api))},updateVisual:function(de){var he=this,pe=this._model;!pe||(pe.setUpdatePayload(de),pe.eachSeries(function(_e){_e.getData().clearAllVisual()}),ChartView$3.markUpdateMethod(de,"updateVisual"),r(pe),this._scheduler.performVisualTasks(pe,de,{visualType:"visual",setDirty:!0}),pe.eachComponent(function(_e,$e){if(_e!=="series"){var xe=he.getViewOfComponentModel($e);xe&&xe.__alive&&xe.updateVisual($e,pe,he._api,de)}}),pe.eachSeries(function(_e){var $e=he._chartsMap[_e.__viewId];$e.updateVisual(_e,pe,he._api,de)}),lifecycle$3.trigger("afterupdate",pe,this._api))},updateLayout:function(de){updateMethods$1.update.call(this,de)}},doConvertPixel$1=function(de,he,pe,_e){if(de._disposed){de.id;return}for(var $e=de._model,xe=de._coordSysMgr.getCoordinateSystems(),Oe,Ce=parseFinder$3($e,pe),Ie=0;Ie<xe.length;Ie++){var Ne=xe[Ie];if(Ne[he]&&(Oe=Ne[he]($e,Ce,_e))!=null)return Oe}},updateStreamModes$1=function(de,he){var pe=de._chartsMap,_e=de._scheduler;he.eachSeries(function($e){_e.updateStreamModes($e,pe[$e.__viewId])})},doDispatchAction$1=function(de,he){var pe=this,_e=this.getModel(),$e=de.type,xe=de.escapeConnect,Oe=actions$1[$e],Ce=Oe.actionInfo,Ie=(Ce.update||"update").split(":"),Ne=Ie.pop(),ze=Ie[0]!=null&&parseClassType$1(Ie[0]);this[IN_MAIN_PROCESS_KEY$1]=!0;var Fe=[de],Ue=!1;de.batch&&(Ue=!0,Fe=map$3(de.batch,function(hn){return hn=defaults$7(extend$4({},hn),de),hn.batch=null,hn}));var At=[],Et,Pt=isSelectChangePayload$1(de),kt=isHighDownPayload$1(de);if(kt&&allLeaveBlur$1(this._api),each$v(Fe,function(hn){if(Et=Oe.action(hn,pe._model,pe._api),Et=Et||extend$4({},hn),Et.type=Ce.event||Et.type,At.push(Et),kt){var vn=preParseFinder$1(de),_n=vn.queryOptionMap,$n=vn.mainTypeSpecified,Sn=$n?_n.keys()[0]:"series";updateDirectly$1(pe,Ne,hn,Sn),markStatusToUpdate$1(pe)}else Pt?(updateDirectly$1(pe,Ne,hn,"series"),markStatusToUpdate$1(pe)):ze&&updateDirectly$1(pe,Ne,hn,ze.main,ze.sub)}),Ne!=="none"&&!kt&&!Pt&&!ze)try{this[PENDING_UPDATE$1]?(prepare$1(this),updateMethods$1.update.call(this,de),this[PENDING_UPDATE$1]=null):updateMethods$1[Ne].call(this,de)}catch(hn){throw this[IN_MAIN_PROCESS_KEY$1]=!1,hn}if(Ue?Et={type:Ce.event||$e,escapeConnect:xe,batch:At}:Et=At[0],this[IN_MAIN_PROCESS_KEY$1]=!1,!he){var Dt=this._messageCenter;if(Dt.trigger(Et.type,Et),Pt){var Lt={type:"selectchanged",escapeConnect:xe,selected:getAllSelectedIndices$1(_e),isFromClick:de.isFromClick||!1,fromAction:de.type,fromActionPayload:de};Dt.trigger(Lt.type,Lt)}}},flushPendingActions$1=function(de){for(var he=this._pendingActions;he.length;){var pe=he.shift();doDispatchAction$1.call(this,pe,de)}},triggerUpdatedEvent$1=function(de){!de&&this.trigger("updated")},bindRenderedEvent$1=function(de,he){de.on("rendered",function(pe){he.trigger("rendered",pe),de.animation.isFinished()&&!he[PENDING_UPDATE$1]&&!he._scheduler.unfinished&&!he._pendingActions.length&&he.trigger("finished")})},bindMouseEvent$1=function(de,he){de.on("mouseover",function(pe){var _e=pe.target,$e=findEventDispatcher$1(_e,isHighDownDispatcher$1);$e&&(handleGlobalMouseOverForHighDown$1($e,pe,he._api),markStatusToUpdate$1(he))}).on("mouseout",function(pe){var _e=pe.target,$e=findEventDispatcher$1(_e,isHighDownDispatcher$1);$e&&(handleGlobalMouseOutForHighDown$1($e,pe,he._api),markStatusToUpdate$1(he))}).on("click",function(pe){var _e=pe.target,$e=findEventDispatcher$1(_e,function(Ce){return getECData$1(Ce).dataIndex!=null},!0);if($e){var xe=$e.selected?"unselect":"select",Oe=getECData$1($e);he._api.dispatchAction({type:xe,dataType:Oe.dataType,dataIndexInside:Oe.dataIndex,seriesIndex:Oe.seriesIndex,isFromClick:!0})}})};function r(de){de.clearColorPalette(),de.eachSeries(function(he){he.clearColorPalette()})}function $(de){var he=[],pe=[],_e=!1;if(de.eachComponent(function(Ce,Ie){var Ne=Ie.get("zlevel")||0,ze=Ie.get("z")||0,Fe=Ie.getZLevelKey();_e=_e||!!Fe,(Ce==="series"?pe:he).push({zlevel:Ne,z:ze,idx:Ie.componentIndex,type:Ce,key:Fe})}),_e){var $e=he.concat(pe),xe,Oe;sort$5($e,function(Ce,Ie){return Ce.zlevel===Ie.zlevel?Ce.z-Ie.z:Ce.zlevel-Ie.zlevel}),each$v($e,function(Ce){var Ie=de.getComponent(Ce.type,Ce.idx),Ne=Ce.zlevel,ze=Ce.key;xe!=null&&(Ne=Math.max(xe,Ne)),ze?(Ne===xe&&ze!==Oe&&Ne++,Oe=ze):Oe&&(Ne===xe&&Ne++,Oe=""),xe=Ne,Ie.setZLevel(Ne)})}}render$1=function(de,he,pe,_e,$e){$(he),renderComponents$1(de,he,pe,_e,$e),each$v(de._chartsViews,function(xe){xe.__alive=!1}),renderSeries$1(de,he,pe,_e,$e),each$v(de._chartsViews,function(xe){xe.__alive||xe.remove(he,pe)})},renderComponents$1=function(de,he,pe,_e,$e,xe){each$v(xe||de._componentsViews,function(Oe){var Ce=Oe.__model;le(Ce,Oe),Oe.render(Ce,he,pe,_e),ae(Ce,Oe),ue(Ce,Oe)})},renderSeries$1=function(de,he,pe,_e,$e,xe){var Oe=de._scheduler;$e=extend$4($e||{},{updatedSeries:he.getSeries()}),lifecycle$3.trigger("series:beforeupdate",he,pe,$e);var Ce=!1;he.eachSeries(function(Ie){var Ne=de._chartsMap[Ie.__viewId];Ne.__alive=!0;var ze=Ne.renderTask;Oe.updatePayload(ze,_e),le(Ie,Ne),xe&&xe.get(Ie.uid)&&ze.dirty(),ze.perform(Oe.getPerformArgs(ze))&&(Ce=!0),Ne.group.silent=!!Ie.get("silent"),oe(Ie,Ne),updateSeriesElementSelection$1(Ie)}),Oe.unfinished=Ce||Oe.unfinished,lifecycle$3.trigger("series:layoutlabels",he,pe,$e),lifecycle$3.trigger("series:transition",he,pe,$e),he.eachSeries(function(Ie){var Ne=de._chartsMap[Ie.__viewId];ae(Ie,Ne),ue(Ie,Ne)}),V(de,he),lifecycle$3.trigger("series:afterupdate",he,pe,$e)},markStatusToUpdate$1=function(de){de[STATUS_NEEDS_UPDATE_KEY$1]=!0,de.getZr().wakeUp()},applyChangedStates$1=function(de){!de[STATUS_NEEDS_UPDATE_KEY$1]||(de.getZr().storage.traverse(function(he){isElementRemoved$1(he)||L(he)}),de[STATUS_NEEDS_UPDATE_KEY$1]=!1)};function L(de){for(var he=[],pe=de.currentStates,_e=0;_e<pe.length;_e++){var $e=pe[_e];$e==="emphasis"||$e==="blur"||$e==="select"||he.push($e)}de.selected&&de.states.select&&he.push("select"),de.hoverState===HOVER_STATE_EMPHASIS$1&&de.states.emphasis?he.push("emphasis"):de.hoverState===HOVER_STATE_BLUR$1&&de.states.blur&&he.push("blur"),de.useStates(he)}function V(de,he){var pe=de._zr,_e=pe.storage,$e=0;_e.traverse(function(xe){xe.isGroup||$e++}),$e>he.get("hoverLayerThreshold")&&!env$3.node&&!env$3.worker&&he.eachSeries(function(xe){if(!xe.preventUsingHoverLayer){var Oe=de._chartsMap[xe.__viewId];Oe.__alive&&Oe.eachRendered(function(Ce){Ce.states.emphasis&&(Ce.states.emphasis.hoverLayer=!0)})}})}function oe(de,he){var pe=de.get("blendMode")||null;he.eachRendered(function(_e){_e.isGroup||(_e.style.blend=pe)})}function ae(de,he){if(!de.preventAutoZ){var pe=de.get("z")||0,_e=de.get("zlevel")||0;he.eachRendered(function($e){return re($e,pe,_e,-1/0),!0})}}function re(de,he,pe,_e){var $e=de.getTextContent(),xe=de.getTextGuideLine(),Oe=de.isGroup;if(Oe)for(var Ce=de.childrenRef(),Ie=0;Ie<Ce.length;Ie++)_e=Math.max(re(Ce[Ie],he,pe,_e),_e);else de.z=he,de.zlevel=pe,_e=Math.max(de.z2,_e);if($e&&($e.z=he,$e.zlevel=pe,isFinite(_e)&&($e.z2=_e+2)),xe){var Ne=de.textGuideLineConfig;xe.z=he,xe.zlevel=pe,isFinite(_e)&&(xe.z2=_e+(Ne&&Ne.showAbove?1:-1))}return _e}function le(de,he){he.eachRendered(function(pe){if(!isElementRemoved$1(pe)){var _e=pe.getTextContent(),$e=pe.getTextGuideLine();pe.stateTransition&&(pe.stateTransition=null),_e&&_e.stateTransition&&(_e.stateTransition=null),$e&&$e.stateTransition&&($e.stateTransition=null),pe.hasState()?(pe.prevStates=pe.currentStates,pe.clearStates()):pe.prevStates&&(pe.prevStates=null)}})}function ue(de,he){var pe=de.getModel("stateAnimation"),_e=de.isAnimationEnabled(),$e=pe.get("duration"),xe=$e>0?{duration:$e,delay:pe.get("delay"),easing:pe.get("easing")}:null;he.eachRendered(function(Oe){if(Oe.states&&Oe.states.emphasis){if(isElementRemoved$1(Oe))return;if(Oe instanceof Path$3&&savePathStates$1(Oe),Oe.__dirty){var Ce=Oe.prevStates;Ce&&Oe.useStates(Ce)}if(_e){Oe.stateTransition=xe;var Ie=Oe.getTextContent(),Ne=Oe.getTextGuideLine();Ie&&(Ie.stateTransition=xe),Ne&&(Ne.stateTransition=xe)}Oe.__dirty&&L(Oe)}})}createExtensionAPI$1=function(de){return new(function(he){__extends$2(pe,he);function pe(){return he!==null&&he.apply(this,arguments)||this}return pe.prototype.getCoordinateSystems=function(){return de._coordSysMgr.getCoordinateSystems()},pe.prototype.getComponentByElement=function(_e){for(;_e;){var $e=_e.__ecComponentInfo;if($e!=null)return de._model.getComponent($e.mainType,$e.index);_e=_e.parent}},pe.prototype.enterEmphasis=function(_e,$e){enterEmphasis$1(_e,$e),markStatusToUpdate$1(de)},pe.prototype.leaveEmphasis=function(_e,$e){leaveEmphasis$1(_e,$e),markStatusToUpdate$1(de)},pe.prototype.enterBlur=function(_e){enterBlur$1(_e),markStatusToUpdate$1(de)},pe.prototype.leaveBlur=function(_e){leaveBlur$1(_e),markStatusToUpdate$1(de)},pe.prototype.enterSelect=function(_e){enterSelect$1(_e),markStatusToUpdate$1(de)},pe.prototype.leaveSelect=function(_e){leaveSelect$1(_e),markStatusToUpdate$1(de)},pe.prototype.getModel=function(){return de.getModel()},pe.prototype.getViewOfComponentModel=function(_e){return de.getViewOfComponentModel(_e)},pe.prototype.getViewOfSeriesModel=function(_e){return de.getViewOfSeriesModel(_e)},pe}(ExtensionAPI$3))(de)},enableConnect$1=function(de){function he(pe,_e){for(var $e=0;$e<pe.length;$e++){var xe=pe[$e];xe[CONNECT_STATUS_KEY$1]=_e}}each$v(eventActionMap$1,function(pe,_e){de._messageCenter.on(_e,function($e){if(connectedGroups$1[de.group]&&de[CONNECT_STATUS_KEY$1]!==CONNECT_STATUS_PENDING$1){if($e&&$e.escapeConnect)return;var xe=de.makeActionFromEvent($e),Oe=[];each$v(instances$2,function(Ce){Ce!==de&&Ce.group===de.group&&Oe.push(Ce)}),he(Oe,CONNECT_STATUS_PENDING$1),each$v(Oe,function(Ce){Ce[CONNECT_STATUS_KEY$1]!==CONNECT_STATUS_UPDATING$1&&Ce.dispatchAction(xe)}),he(Oe,CONNECT_STATUS_UPDATED$1)}})})}}(),n}(Eventful$3),echartsProto$1=ECharts$1.prototype;echartsProto$1.on=createRegisterEventWithLowercaseECharts$1("on"),echartsProto$1.off=createRegisterEventWithLowercaseECharts$1("off"),echartsProto$1.one=function(g,n,r){var $=this;function L(){for(var V=[],oe=0;oe<arguments.length;oe++)V[oe]=arguments[oe];n&&n.apply&&n.apply(this,V),$.off(g,L)}this.on.call(this,g,L,r)};var MOUSE_EVENT_NAMES$1=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning$1(g){}var actions$1={},eventActionMap$1={},dataProcessorFuncs$1=[],optionPreprocessorFuncs$1=[],visualFuncs$1=[],themeStorage$1={},loadingEffects$1={},instances$2={},connectedGroups$1={},idBase$1=+new Date-0,DOM_ATTRIBUTE_KEY$1="_echarts_instance_";function init$5(g,n,r){var $=!(r&&r.ssr);if($){var L=getInstanceByDom$1(g);if(L)return L}var V=new ECharts$1(g,n,r);return V.id="ec_"+idBase$1++,instances$2[V.id]=V,$&&setAttribute$1(g,DOM_ATTRIBUTE_KEY$1,V.id),enableConnect$1(V),lifecycle$3.trigger("afterinit",V),V}function getInstanceByDom$1(g){return instances$2[getAttribute$1(g,DOM_ATTRIBUTE_KEY$1)]}function registerTheme$1(g,n){themeStorage$1[g]=n}function registerPreprocessor$1(g){indexOf$1(optionPreprocessorFuncs$1,g)<0&&optionPreprocessorFuncs$1.push(g)}function registerProcessor$1(g,n){normalizeRegister$1(dataProcessorFuncs$1,g,n,PRIORITY_PROCESSOR_DEFAULT$1)}function registerPostInit$1(g){registerUpdateLifecycle$1("afterinit",g)}function registerPostUpdate$1(g){registerUpdateLifecycle$1("afterupdate",g)}function registerUpdateLifecycle$1(g,n){lifecycle$3.on(g,n)}function registerAction$1(g,n,r){isFunction$3(n)&&(r=n,n="");var $=isObject$9(g)?g.type:[g,g={event:n}][0];g.event=(g.event||$).toLowerCase(),n=g.event,!eventActionMap$1[n]&&(assert$1(ACTION_REG$1.test($)&&ACTION_REG$1.test(n)),actions$1[$]||(actions$1[$]={action:r,actionInfo:g}),eventActionMap$1[n]=$)}function registerCoordinateSystem$1(g,n){CoordinateSystem$1.register(g,n)}function registerLayout$1(g,n){normalizeRegister$1(visualFuncs$1,g,n,PRIORITY_VISUAL_LAYOUT$1,"layout")}function registerVisual$1(g,n){normalizeRegister$1(visualFuncs$1,g,n,PRIORITY_VISUAL_CHART$1,"visual")}var registeredTasks$1=[];function normalizeRegister$1(g,n,r,$,L){if((isFunction$3(n)||isObject$9(n))&&(r=n,n=$),!(indexOf$1(registeredTasks$1,r)>=0)){registeredTasks$1.push(r);var V=Scheduler$3.wrapStageHandler(r,L);V.__prio=n,V.__raw=r,g.push(V)}}function registerLoading$1(g,n){loadingEffects$1[g]=n}function registerMap$3(g,n,r){var $=getImpl$1("registerMap");$&&$(g,n,r)}var registerTransform$1=registerExternalTransform$1;registerVisual$1(PRIORITY_VISUAL_GLOBAL$1,seriesStyleTask$1),registerVisual$1(PRIORITY_VISUAL_CHART_DATA_CUSTOM$1,dataStyleTask$1),registerVisual$1(PRIORITY_VISUAL_CHART_DATA_CUSTOM$1,dataColorPaletteTask$1),registerVisual$1(PRIORITY_VISUAL_GLOBAL$1,seriesSymbolTask$1),registerVisual$1(PRIORITY_VISUAL_CHART_DATA_CUSTOM$1,dataSymbolTask$1),registerVisual$1(PRIORITY_VISUAL_DECAL$1,decalVisual$1),registerPreprocessor$1(globalBackwardCompat$1),registerProcessor$1(PRIORITY_PROCESSOR_DATASTACK$1,dataStack$1),registerLoading$1("default",defaultLoading$1),registerAction$1({type:HIGHLIGHT_ACTION_TYPE$1,event:HIGHLIGHT_ACTION_TYPE$1,update:HIGHLIGHT_ACTION_TYPE$1},noop$4),registerAction$1({type:DOWNPLAY_ACTION_TYPE$1,event:DOWNPLAY_ACTION_TYPE$1,update:DOWNPLAY_ACTION_TYPE$1},noop$4),registerAction$1({type:SELECT_ACTION_TYPE$1,event:SELECT_ACTION_TYPE$1,update:SELECT_ACTION_TYPE$1},noop$4),registerAction$1({type:UNSELECT_ACTION_TYPE$1,event:UNSELECT_ACTION_TYPE$1,update:UNSELECT_ACTION_TYPE$1},noop$4),registerAction$1({type:TOGGLE_SELECT_ACTION_TYPE$1,event:TOGGLE_SELECT_ACTION_TYPE$1,update:TOGGLE_SELECT_ACTION_TYPE$1},noop$4),registerTheme$1("light",lightTheme$1),registerTheme$1("dark",darkTheme$2);var extensions$1=[],extensionRegisters$1={registerPreprocessor:registerPreprocessor$1,registerProcessor:registerProcessor$1,registerPostInit:registerPostInit$1,registerPostUpdate:registerPostUpdate$1,registerUpdateLifecycle:registerUpdateLifecycle$1,registerAction:registerAction$1,registerCoordinateSystem:registerCoordinateSystem$1,registerLayout:registerLayout$1,registerVisual:registerVisual$1,registerTransform:registerTransform$1,registerLoading:registerLoading$1,registerMap:registerMap$3,registerImpl:registerImpl$1,PRIORITY:PRIORITY$1,ComponentModel:ComponentModel$3,ComponentView:ComponentView$3,SeriesModel:SeriesModel$3,ChartView:ChartView$3,registerComponentModel:function(g){ComponentModel$3.registerClass(g)},registerComponentView:function(g){ComponentView$3.registerClass(g)},registerSeriesModel:function(g){SeriesModel$3.registerClass(g)},registerChartView:function(g){ChartView$3.registerClass(g)},registerSubTypeDefaulter:function(g,n){ComponentModel$3.registerSubTypeDefaulter(g,n)},registerPainter:function(g,n){registerPainter$1(g,n)}};function use$1(g){if(isArray$6(g)){each$v(g,function(n){use$1(n)});return}indexOf$1(extensions$1,g)>=0||(extensions$1.push(g),isFunction$3(g)&&(g={install:g}),g.install(extensionRegisters$1))}function dataIndexMapValueLength$1(g){return g==null?0:g.length||1}function defaultKeyGetter$1(g){return g}var DataDiffer$2=function(){function g(n,r,$,L,V,oe){this._old=n,this._new=r,this._oldKeyGetter=$||defaultKeyGetter$1,this._newKeyGetter=L||defaultKeyGetter$1,this.context=V,this._diffModeMultiple=oe==="multiple"}return g.prototype.add=function(n){return this._add=n,this},g.prototype.update=function(n){return this._update=n,this},g.prototype.updateManyToOne=function(n){return this._updateManyToOne=n,this},g.prototype.updateOneToMany=function(n){return this._updateOneToMany=n,this},g.prototype.updateManyToMany=function(n){return this._updateManyToMany=n,this},g.prototype.remove=function(n){return this._remove=n,this},g.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},g.prototype._executeOneToOne=function(){var n=this._old,r=this._new,$={},L=new Array(n.length),V=new Array(r.length);this._initIndexMap(n,null,L,"_oldKeyGetter"),this._initIndexMap(r,$,V,"_newKeyGetter");for(var oe=0;oe<n.length;oe++){var ae=L[oe],re=$[ae],le=dataIndexMapValueLength$1(re);if(le>1){var ue=re.shift();re.length===1&&($[ae]=re[0]),this._update&&this._update(ue,oe)}else le===1?($[ae]=null,this._update&&this._update(re,oe)):this._remove&&this._remove(oe)}this._performRestAdd(V,$)},g.prototype._executeMultiple=function(){var n=this._old,r=this._new,$={},L={},V=[],oe=[];this._initIndexMap(n,$,V,"_oldKeyGetter"),this._initIndexMap(r,L,oe,"_newKeyGetter");for(var ae=0;ae<V.length;ae++){var re=V[ae],le=$[re],ue=L[re],de=dataIndexMapValueLength$1(le),he=dataIndexMapValueLength$1(ue);if(de>1&&he===1)this._updateManyToOne&&this._updateManyToOne(ue,le),L[re]=null;else if(de===1&&he>1)this._updateOneToMany&&this._updateOneToMany(ue,le),L[re]=null;else if(de===1&&he===1)this._update&&this._update(ue,le),L[re]=null;else if(de>1&&he>1)this._updateManyToMany&&this._updateManyToMany(ue,le),L[re]=null;else if(de>1)for(var pe=0;pe<de;pe++)this._remove&&this._remove(le[pe]);else this._remove&&this._remove(le)}this._performRestAdd(oe,L)},g.prototype._performRestAdd=function(n,r){for(var $=0;$<n.length;$++){var L=n[$],V=r[L],oe=dataIndexMapValueLength$1(V);if(oe>1)for(var ae=0;ae<oe;ae++)this._add&&this._add(V[ae]);else oe===1&&this._add&&this._add(V);r[L]=null}},g.prototype._initIndexMap=function(n,r,$,L){for(var V=this._diffModeMultiple,oe=0;oe<n.length;oe++){var ae="_ec_"+this[L](n[oe],oe);if(V||($[oe]=ae),!!r){var re=r[ae],le=dataIndexMapValueLength$1(re);le===0?(r[ae]=oe,V&&$.push(ae)):le===1?r[ae]=[re,oe]:re.push(oe)}}},g}();const DataDiffer$3=DataDiffer$2;var DimensionUserOuput$1=function(){function g(n,r){this._encode=n,this._schema=r}return g.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},g.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},g}();function summarizeDimensions$1(g,n){var r={},$=r.encode={},L=createHashMap$1(),V=[],oe=[],ae={};each$v(g.dimensions,function(he){var pe=g.getDimensionInfo(he),_e=pe.coordDim;if(_e){var $e=pe.coordDimIndex;getOrCreateEncodeArr$1($,_e)[$e]=he,pe.isExtraCoord||(L.set(_e,1),mayLabelDimType$1(pe.type)&&(V[0]=he),getOrCreateEncodeArr$1(ae,_e)[$e]=g.getDimensionIndex(pe.name)),pe.defaultTooltip&&oe.push(he)}VISUAL_DIMENSIONS$1.each(function(xe,Oe){var Ce=getOrCreateEncodeArr$1($,Oe),Ie=pe.otherDims[Oe];Ie!=null&&Ie!==!1&&(Ce[Ie]=pe.name)})});var re=[],le={};L.each(function(he,pe){var _e=$[pe];le[pe]=_e[0],re=re.concat(_e)}),r.dataDimsOnCoord=re,r.dataDimIndicesOnCoord=map$3(re,function(he){return g.getDimensionInfo(he).storeDimIndex}),r.encodeFirstDimNotExtra=le;var ue=$.label;ue&&ue.length&&(V=ue.slice());var de=$.tooltip;return de&&de.length?oe=de.slice():oe.length||(oe=V.slice()),$.defaultedLabel=V,$.defaultedTooltip=oe,r.userOutput=new DimensionUserOuput$1(ae,n),r}function getOrCreateEncodeArr$1(g,n){return g.hasOwnProperty(n)||(g[n]=[]),g[n]}function getDimensionTypeByAxis$1(g){return g==="category"?"ordinal":g==="time"?"time":"float"}function mayLabelDimType$1(g){return!(g==="ordinal"||g==="time")}var SeriesDimensionDefine$2=function(){function g(n){this.otherDims={},n!=null&&extend$4(this,n)}return g}();const SeriesDimensionDefine$3=SeriesDimensionDefine$2;var inner$D=makeInner$1(),dimTypeShort$1={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema$1=function(){function g(n){this.dimensions=n.dimensions,this._dimOmitted=n.dimensionOmitted,this.source=n.source,this._fullDimCount=n.fullDimensionCount,this._updateDimOmitted(n.dimensionOmitted)}return g.prototype.isDimensionOmitted=function(){return this._dimOmitted},g.prototype._updateDimOmitted=function(n){this._dimOmitted=n,n&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap$1(this.source)))},g.prototype.getSourceDimensionIndex=function(n){return retrieve2$1(this._dimNameMap.get(n),-1)},g.prototype.getSourceDimension=function(n){var r=this.source.dimensionsDefine;if(r)return r[n]},g.prototype.makeStoreSchema=function(){for(var n=this._fullDimCount,r=shouldRetrieveDataByName$1(this.source),$=!shouldOmitUnusedDimensions$1(n),L="",V=[],oe=0,ae=0;oe<n;oe++){var re=void 0,le=void 0,ue=void 0,de=this.dimensions[ae];if(de&&de.storeDimIndex===oe)re=r?de.name:null,le=de.type,ue=de.ordinalMeta,ae++;else{var he=this.getSourceDimension(oe);he&&(re=r?he.name:null,le=he.type)}V.push({property:re,type:le,ordinalMeta:ue}),r&&re!=null&&(!de||!de.isCalculationCoord)&&(L+=$?re.replace(/\`/g,"`1").replace(/\$/g,"`2"):re),L+="$",L+=dimTypeShort$1[le]||"f",ue&&(L+=ue.uid),L+="$"}var pe=this.source,_e=[pe.seriesLayoutBy,pe.startIndex,L].join("$$");return{dimensions:V,hash:_e}},g.prototype.makeOutputDimensionNames=function(){for(var n=[],r=0,$=0;r<this._fullDimCount;r++){var L=void 0,V=this.dimensions[$];if(V&&V.storeDimIndex===r)V.isCalculationCoord||(L=V.name),$++;else{var oe=this.getSourceDimension(r);oe&&(L=oe.name)}n.push(L)}return n},g.prototype.appendCalculationDimension=function(n){this.dimensions.push(n),n.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},g}();function isSeriesDataSchema$1(g){return g instanceof SeriesDataSchema$1}function createDimNameMap$1(g){for(var n=createHashMap$1(),r=0;r<(g||[]).length;r++){var $=g[r],L=isObject$9($)?$.name:$;L!=null&&n.get(L)==null&&n.set(L,r)}return n}function ensureSourceDimNameMap$1(g){var n=inner$D(g);return n.dimNameMap||(n.dimNameMap=createDimNameMap$1(g.dimensionsDefine))}function shouldOmitUnusedDimensions$1(g){return g>30}var isObject$7=isObject$9,map$2=map$3,CtorInt32Array$2=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX$1="e\0\0",INDEX_NOT_FOUND$1=-1,TRANSFERABLE_PROPERTIES$1=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES$1=["_approximateExtent"],prepareInvertedIndex$1,getId$1,getIdNameFromStore$1,normalizeDimensions$1,transferProperties$1,cloneListForMapAndSample$1,makeIdFromName$1,SeriesData$2=function(){function g(n,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var $,L=!1;isSeriesDataSchema$1(n)?($=n.dimensions,this._dimOmitted=n.isDimensionOmitted(),this._schema=n):(L=!0,$=n),$=$||["x","y"];for(var V={},oe=[],ae={},re=!1,le={},ue=0;ue<$.length;ue++){var de=$[ue],he=isString$3(de)?new SeriesDimensionDefine$3({name:de}):de instanceof SeriesDimensionDefine$3?de:new SeriesDimensionDefine$3(de),pe=he.name;he.type=he.type||"float",he.coordDim||(he.coordDim=pe,he.coordDimIndex=0);var _e=he.otherDims=he.otherDims||{};oe.push(pe),V[pe]=he,le[pe]!=null&&(re=!0),he.createInvertedIndices&&(ae[pe]=[]),_e.itemName===0&&(this._nameDimIdx=ue),_e.itemId===0&&(this._idDimIdx=ue),L&&(he.storeDimIndex=ue)}if(this.dimensions=oe,this._dimInfos=V,this._initGetDimensionInfo(re),this.hostModel=r,this._invertedIndicesMap=ae,this._dimOmitted){var $e=this._dimIdxToName=createHashMap$1();each$v(oe,function(xe){$e.set(V[xe].storeDimIndex,xe)})}}return g.prototype.getDimension=function(n){var r=this._recognizeDimIndex(n);if(r==null)return n;if(r=n,!this._dimOmitted)return this.dimensions[r];var $=this._dimIdxToName.get(r);if($!=null)return $;var L=this._schema.getSourceDimension(r);if(L)return L.name},g.prototype.getDimensionIndex=function(n){var r=this._recognizeDimIndex(n);if(r!=null)return r;if(n==null)return-1;var $=this._getDimInfo(n);return $?$.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(n):-1},g.prototype._recognizeDimIndex=function(n){if(isNumber$3(n)||n!=null&&!isNaN(n)&&!this._getDimInfo(n)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(n)<0))return+n},g.prototype._getStoreDimIndex=function(n){var r=this.getDimensionIndex(n);return r},g.prototype.getDimensionInfo=function(n){return this._getDimInfo(this.getDimension(n))},g.prototype._initGetDimensionInfo=function(n){var r=this._dimInfos;this._getDimInfo=n?function($){return r.hasOwnProperty($)?r[$]:void 0}:function($){return r[$]}},g.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},g.prototype.mapDimension=function(n,r){var $=this._dimSummary;if(r==null)return $.encodeFirstDimNotExtra[n];var L=$.encode[n];return L?L[r]:null},g.prototype.mapDimensionsAll=function(n){var r=this._dimSummary,$=r.encode[n];return($||[]).slice()},g.prototype.getStore=function(){return this._store},g.prototype.initData=function(n,r,$){var L=this,V;if(n instanceof DataStore$1&&(V=n),!V){var oe=this.dimensions,ae=isSourceInstance$1(n)||isArrayLike$1(n)?new DefaultDataProvider$1(n,oe.length):n;V=new DataStore$1;var re=map$2(oe,function(le){return{type:L._dimInfos[le].type,property:le}});V.initData(ae,re,$)}this._store=V,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,V.count()),this._dimSummary=summarizeDimensions$1(this,this._schema),this.userOutput=this._dimSummary.userOutput},g.prototype.appendData=function(n){var r=this._store.appendData(n);this._doInit(r[0],r[1])},g.prototype.appendValues=function(n,r){var $=this._store.appendValues(n,r.length),L=$.start,V=$.end,oe=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var ae=L;ae<V;ae++){var re=ae-L;this._nameList[ae]=r[re],oe&&makeIdFromName$1(this,ae)}},g.prototype._updateOrdinalMeta=function(){for(var n=this._store,r=this.dimensions,$=0;$<r.length;$++){var L=this._dimInfos[r[$]];L.ordinalMeta&&n.collectOrdinalMeta(L.storeDimIndex,L.ordinalMeta)}},g.prototype._shouldMakeIdFromName=function(){var n=this._store.getProvider();return this._idDimIdx==null&&n.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY$1&&!n.fillStorage},g.prototype._doInit=function(n,r){if(!(n>=r)){var $=this._store,L=$.getProvider();this._updateOrdinalMeta();var V=this._nameList,oe=this._idList,ae=L.getSource().sourceFormat,re=ae===SOURCE_FORMAT_ORIGINAL$1;if(re&&!L.pure)for(var le=[],ue=n;ue<r;ue++){var de=L.getItem(ue,le);if(!this.hasItemOption&&isDataItemOption$1(de)&&(this.hasItemOption=!0),de){var he=de.name;V[ue]==null&&he!=null&&(V[ue]=convertOptionIdName$1(he,null));var pe=de.id;oe[ue]==null&&pe!=null&&(oe[ue]=convertOptionIdName$1(pe,null))}}if(this._shouldMakeIdFromName())for(var ue=n;ue<r;ue++)makeIdFromName$1(this,ue);prepareInvertedIndex$1(this)}},g.prototype.getApproximateExtent=function(n){return this._approximateExtent[n]||this._store.getDataExtent(this._getStoreDimIndex(n))},g.prototype.setApproximateExtent=function(n,r){r=this.getDimension(r),this._approximateExtent[r]=n.slice()},g.prototype.getCalculationInfo=function(n){return this._calculationInfo[n]},g.prototype.setCalculationInfo=function(n,r){isObject$7(n)?extend$4(this._calculationInfo,n):this._calculationInfo[n]=r},g.prototype.getName=function(n){var r=this.getRawIndex(n),$=this._nameList[r];return $==null&&this._nameDimIdx!=null&&($=getIdNameFromStore$1(this,this._nameDimIdx,r)),$==null&&($=""),$},g.prototype._getCategory=function(n,r){var $=this._store.get(n,r),L=this._store.getOrdinalMeta(n);return L?L.categories[$]:$},g.prototype.getId=function(n){return getId$1(this,this.getRawIndex(n))},g.prototype.count=function(){return this._store.count()},g.prototype.get=function(n,r){var $=this._store,L=this._dimInfos[n];if(L)return $.get(L.storeDimIndex,r)},g.prototype.getByRawIndex=function(n,r){var $=this._store,L=this._dimInfos[n];if(L)return $.getByRawIndex(L.storeDimIndex,r)},g.prototype.getIndices=function(){return this._store.getIndices()},g.prototype.getDataExtent=function(n){return this._store.getDataExtent(this._getStoreDimIndex(n))},g.prototype.getSum=function(n){return this._store.getSum(this._getStoreDimIndex(n))},g.prototype.getMedian=function(n){return this._store.getMedian(this._getStoreDimIndex(n))},g.prototype.getValues=function(n,r){var $=this,L=this._store;return isArray$6(n)?L.getValues(map$2(n,function(V){return $._getStoreDimIndex(V)}),r):L.getValues(n)},g.prototype.hasValue=function(n){for(var r=this._dimSummary.dataDimIndicesOnCoord,$=0,L=r.length;$<L;$++)if(isNaN(this._store.get(r[$],n)))return!1;return!0},g.prototype.indexOfName=function(n){for(var r=0,$=this._store.count();r<$;r++)if(this.getName(r)===n)return r;return-1},g.prototype.getRawIndex=function(n){return this._store.getRawIndex(n)},g.prototype.indexOfRawIndex=function(n){return this._store.indexOfRawIndex(n)},g.prototype.rawIndexOf=function(n,r){var $=n&&this._invertedIndicesMap[n],L=$[r];return L==null||isNaN(L)?INDEX_NOT_FOUND$1:L},g.prototype.indicesOfNearest=function(n,r,$){return this._store.indicesOfNearest(this._getStoreDimIndex(n),r,$)},g.prototype.each=function(n,r,$){isFunction$3(n)&&($=r,r=n,n=[]);var L=$||this,V=map$2(normalizeDimensions$1(n),this._getStoreDimIndex,this);this._store.each(V,L?bind$5(r,L):r)},g.prototype.filterSelf=function(n,r,$){isFunction$3(n)&&($=r,r=n,n=[]);var L=$||this,V=map$2(normalizeDimensions$1(n),this._getStoreDimIndex,this);return this._store=this._store.filter(V,L?bind$5(r,L):r),this},g.prototype.selectRange=function(n){var r=this,$={},L=keys$2(n);return each$v(L,function(V){var oe=r._getStoreDimIndex(V);$[oe]=n[V]}),this._store=this._store.selectRange($),this},g.prototype.mapArray=function(n,r,$){isFunction$3(n)&&($=r,r=n,n=[]),$=$||this;var L=[];return this.each(n,function(){L.push(r&&r.apply(this,arguments))},$),L},g.prototype.map=function(n,r,$,L){var V=$||L||this,oe=map$2(normalizeDimensions$1(n),this._getStoreDimIndex,this),ae=cloneListForMapAndSample$1(this);return ae._store=this._store.map(oe,V?bind$5(r,V):r),ae},g.prototype.modify=function(n,r,$,L){var V=$||L||this,oe=map$2(normalizeDimensions$1(n),this._getStoreDimIndex,this);this._store.modify(oe,V?bind$5(r,V):r)},g.prototype.downSample=function(n,r,$,L){var V=cloneListForMapAndSample$1(this);return V._store=this._store.downSample(this._getStoreDimIndex(n),r,$,L),V},g.prototype.lttbDownSample=function(n,r){var $=cloneListForMapAndSample$1(this);return $._store=this._store.lttbDownSample(this._getStoreDimIndex(n),r),$},g.prototype.getRawDataItem=function(n){return this._store.getRawDataItem(n)},g.prototype.getItemModel=function(n){var r=this.hostModel,$=this.getRawDataItem(n);return new Model$3($,r,r&&r.ecModel)},g.prototype.diff=function(n){var r=this;return new DataDiffer$3(n?n.getStore().getIndices():[],this.getStore().getIndices(),function($){return getId$1(n,$)},function($){return getId$1(r,$)})},g.prototype.getVisual=function(n){var r=this._visual;return r&&r[n]},g.prototype.setVisual=function(n,r){this._visual=this._visual||{},isObject$7(n)?extend$4(this._visual,n):this._visual[n]=r},g.prototype.getItemVisual=function(n,r){var $=this._itemVisuals[n],L=$&&$[r];return L!=null?L:this.getVisual(r)},g.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},g.prototype.ensureUniqueItemVisual=function(n,r){var $=this._itemVisuals,L=$[n];L||(L=$[n]={});var V=L[r];return V==null&&(V=this.getVisual(r),isArray$6(V)?V=V.slice():isObject$7(V)&&(V=extend$4({},V)),L[r]=V),V},g.prototype.setItemVisual=function(n,r,$){var L=this._itemVisuals[n]||{};this._itemVisuals[n]=L,isObject$7(r)?extend$4(L,r):L[r]=$},g.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},g.prototype.setLayout=function(n,r){isObject$7(n)?extend$4(this._layout,n):this._layout[n]=r},g.prototype.getLayout=function(n){return this._layout[n]},g.prototype.getItemLayout=function(n){return this._itemLayouts[n]},g.prototype.setItemLayout=function(n,r,$){this._itemLayouts[n]=$?extend$4(this._itemLayouts[n]||{},r):r},g.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},g.prototype.setItemGraphicEl=function(n,r){var $=this.hostModel&&this.hostModel.seriesIndex;setCommonECData$1($,this.dataType,n,r),this._graphicEls[n]=r},g.prototype.getItemGraphicEl=function(n){return this._graphicEls[n]},g.prototype.eachItemGraphicEl=function(n,r){each$v(this._graphicEls,function($,L){$&&n&&n.call(r,$,L)})},g.prototype.cloneShallow=function(n){return n||(n=new g(this._schema?this._schema:map$2(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties$1(n,this),n._store=this._store,n},g.prototype.wrapMethod=function(n,r){var $=this[n];!isFunction$3($)||(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(n),this[n]=function(){var L=$.apply(this,arguments);return r.apply(this,[L].concat(slice$1(arguments)))})},g.internalField=function(){prepareInvertedIndex$1=function(n){var r=n._invertedIndicesMap;each$v(r,function($,L){var V=n._dimInfos[L],oe=V.ordinalMeta,ae=n._store;if(oe){$=r[L]=new CtorInt32Array$2(oe.categories.length);for(var re=0;re<$.length;re++)$[re]=INDEX_NOT_FOUND$1;for(var re=0;re<ae.count();re++)$[ae.get(V.storeDimIndex,re)]=re}})},getIdNameFromStore$1=function(n,r,$){return convertOptionIdName$1(n._getCategory(r,$),null)},getId$1=function(n,r){var $=n._idList[r];return $==null&&n._idDimIdx!=null&&($=getIdNameFromStore$1(n,n._idDimIdx,r)),$==null&&($=ID_PREFIX$1+r),$},normalizeDimensions$1=function(n){return isArray$6(n)||(n=n!=null?[n]:[]),n},cloneListForMapAndSample$1=function(n){var r=new g(n._schema?n._schema:map$2(n.dimensions,n._getDimInfo,n),n.hostModel);return transferProperties$1(r,n),r},transferProperties$1=function(n,r){each$v(TRANSFERABLE_PROPERTIES$1.concat(r.__wrappedMethods||[]),function($){r.hasOwnProperty($)&&(n[$]=r[$])}),n.__wrappedMethods=r.__wrappedMethods,each$v(CLONE_PROPERTIES$1,function($){n[$]=clone$9(r[$])}),n._calculationInfo=extend$4({},r._calculationInfo)},makeIdFromName$1=function(n,r){var $=n._nameList,L=n._idList,V=n._nameDimIdx,oe=n._idDimIdx,ae=$[r],re=L[r];if(ae==null&&V!=null&&($[r]=ae=getIdNameFromStore$1(n,V,r)),re==null&&oe!=null&&(L[r]=re=getIdNameFromStore$1(n,oe,r)),re==null&&ae!=null){var le=n._nameRepeatCount,ue=le[ae]=(le[ae]||0)+1;re=ae,ue>1&&(re+="__ec__"+ue),L[r]=re}}}(),g}();const SeriesData$3=SeriesData$2;function prepareSeriesDataSchema$1(g,n){isSourceInstance$1(g)||(g=createSourceFromSeriesDataOption$1(g)),n=n||{};var r=n.coordDimensions||[],$=n.dimensionsDefine||g.dimensionsDefine||[],L=createHashMap$1(),V=[],oe=getDimCount$1(g,r,$,n.dimensionsCount),ae=n.canOmitUnusedDimensions&&shouldOmitUnusedDimensions$1(oe),re=$===g.dimensionsDefine,le=re?ensureSourceDimNameMap$1(g):createDimNameMap$1($),ue=n.encodeDefine;!ue&&n.encodeDefaulter&&(ue=n.encodeDefaulter(g,oe));for(var de=createHashMap$1(ue),he=new CtorInt32Array$3(oe),pe=0;pe<he.length;pe++)he[pe]=-1;function _e(Et){var Pt=he[Et];if(Pt<0){var kt=$[Et],Dt=isObject$9(kt)?kt:{name:kt},Lt=new SeriesDimensionDefine$3,hn=Dt.name;hn!=null&&le.get(hn)!=null&&(Lt.name=Lt.displayName=hn),Dt.type!=null&&(Lt.type=Dt.type),Dt.displayName!=null&&(Lt.displayName=Dt.displayName);var vn=V.length;return he[Et]=vn,Lt.storeDimIndex=Et,V.push(Lt),Lt}return V[Pt]}if(!ae)for(var pe=0;pe<oe;pe++)_e(pe);de.each(function(Et,Pt){var kt=normalizeToArray$1(Et).slice();if(kt.length===1&&!isString$3(kt[0])&&kt[0]<0){de.set(Pt,!1);return}var Dt=de.set(Pt,[]);each$v(kt,function(Lt,hn){var vn=isString$3(Lt)?le.get(Lt):Lt;vn!=null&&vn<oe&&(Dt[hn]=vn,xe(_e(vn),Pt,hn))})});var $e=0;each$v(r,function(Et){var Pt,kt,Dt,Lt;if(isString$3(Et))Pt=Et,Lt={};else{Lt=Et,Pt=Lt.name;var hn=Lt.ordinalMeta;Lt.ordinalMeta=null,Lt=extend$4({},Lt),Lt.ordinalMeta=hn,kt=Lt.dimsDef,Dt=Lt.otherDims,Lt.name=Lt.coordDim=Lt.coordDimIndex=Lt.dimsDef=Lt.otherDims=null}var vn=de.get(Pt);if(vn!==!1){if(vn=normalizeToArray$1(vn),!vn.length)for(var _n=0;_n<(kt&&kt.length||1);_n++){for(;$e<oe&&_e($e).coordDim!=null;)$e++;$e<oe&&vn.push($e++)}each$v(vn,function($n,Sn){var xn=_e($n);if(re&&Lt.type!=null&&(xn.type=Lt.type),xe(defaults$7(xn,Lt),Pt,Sn),xn.name==null&&kt){var On=kt[Sn];!isObject$9(On)&&(On={name:On}),xn.name=xn.displayName=On.name,xn.defaultTooltip=On.defaultTooltip}Dt&&defaults$7(xn.otherDims,Dt)})}});function xe(Et,Pt,kt){VISUAL_DIMENSIONS$1.get(Pt)!=null?Et.otherDims[Pt]=kt:(Et.coordDim=Pt,Et.coordDimIndex=kt,L.set(Pt,!0))}var Oe=n.generateCoord,Ce=n.generateCoordCount,Ie=Ce!=null;Ce=Oe?Ce||1:0;var Ne=Oe||"value";function ze(Et){Et.name==null&&(Et.name=Et.coordDim)}if(ae)each$v(V,function(Et){ze(Et)}),V.sort(function(Et,Pt){return Et.storeDimIndex-Pt.storeDimIndex});else for(var Fe=0;Fe<oe;Fe++){var Ue=_e(Fe),At=Ue.coordDim;At==null&&(Ue.coordDim=genCoordDimName$1(Ne,L,Ie),Ue.coordDimIndex=0,(!Oe||Ce<=0)&&(Ue.isExtraCoord=!0),Ce--),ze(Ue),Ue.type==null&&(guessOrdinal$1(g,Fe)===BE_ORDINAL$1.Must||Ue.isExtraCoord&&(Ue.otherDims.itemName!=null||Ue.otherDims.seriesName!=null))&&(Ue.type="ordinal")}return removeDuplication$1(V),new SeriesDataSchema$1({source:g,dimensions:V,fullDimensionCount:oe,dimensionOmitted:ae})}function removeDuplication$1(g){for(var n=createHashMap$1(),r=0;r<g.length;r++){var $=g[r],L=$.name,V=n.get(L)||0;V>0&&($.name=L+(V-1)),V++,n.set(L,V)}}function getDimCount$1(g,n,r,$){var L=Math.max(g.dimensionsDetectedCount||1,n.length,r.length,$||0);return each$v(n,function(V){var oe;isObject$9(V)&&(oe=V.dimsDef)&&(L=Math.max(L,oe.length))}),L}function genCoordDimName$1(g,n,r){if(r||n.hasKey(g)){for(var $=0;n.hasKey(g+$);)$++;g+=$}return n.set(g,!0),g}var CoordSysInfo$1=function(){function g(n){this.coordSysDims=[],this.axisMap=createHashMap$1(),this.categoryAxisMap=createHashMap$1(),this.coordSysName=n}return g}();function getCoordSysInfoBySeries$1(g){var n=g.get("coordinateSystem"),r=new CoordSysInfo$1(n),$=fetchers$1[n];if($)return $(g,r,r.axisMap,r.categoryAxisMap),r}var fetchers$1={cartesian2d:function(g,n,r,$){var L=g.getReferringComponents("xAxis",SINGLE_REFERRING$1).models[0],V=g.getReferringComponents("yAxis",SINGLE_REFERRING$1).models[0];n.coordSysDims=["x","y"],r.set("x",L),r.set("y",V),isCategory$1(L)&&($.set("x",L),n.firstCategoryDimIndex=0),isCategory$1(V)&&($.set("y",V),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},singleAxis:function(g,n,r,$){var L=g.getReferringComponents("singleAxis",SINGLE_REFERRING$1).models[0];n.coordSysDims=["single"],r.set("single",L),isCategory$1(L)&&($.set("single",L),n.firstCategoryDimIndex=0)},polar:function(g,n,r,$){var L=g.getReferringComponents("polar",SINGLE_REFERRING$1).models[0],V=L.findAxisModel("radiusAxis"),oe=L.findAxisModel("angleAxis");n.coordSysDims=["radius","angle"],r.set("radius",V),r.set("angle",oe),isCategory$1(V)&&($.set("radius",V),n.firstCategoryDimIndex=0),isCategory$1(oe)&&($.set("angle",oe),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},geo:function(g,n,r,$){n.coordSysDims=["lng","lat"]},parallel:function(g,n,r,$){var L=g.ecModel,V=L.getComponent("parallel",g.get("parallelIndex")),oe=n.coordSysDims=V.dimensions.slice();each$v(V.parallelAxisIndex,function(ae,re){var le=L.getComponent("parallelAxis",ae),ue=oe[re];r.set(ue,le),isCategory$1(le)&&($.set(ue,le),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=re))})}};function isCategory$1(g){return g.get("type")==="category"}function enableDataStack$1(g,n,r){r=r||{};var $=r.byIndex,L=r.stackedCoordDimension,V,oe,ae;isLegacyDimensionsInput$1(n)?V=n:(oe=n.schema,V=oe.dimensions,ae=n.store);var re=!!(g&&g.get("stack")),le,ue,de,he;if(each$v(V,function(Ce,Ie){isString$3(Ce)&&(V[Ie]=Ce={name:Ce}),re&&!Ce.isExtraCoord&&(!$&&!le&&Ce.ordinalMeta&&(le=Ce),!ue&&Ce.type!=="ordinal"&&Ce.type!=="time"&&(!L||L===Ce.coordDim)&&(ue=Ce))}),ue&&!$&&!le&&($=!0),ue){de="__\0ecstackresult_"+g.id,he="__\0ecstackedover_"+g.id,le&&(le.createInvertedIndices=!0);var pe=ue.coordDim,_e=ue.type,$e=0;each$v(V,function(Ce){Ce.coordDim===pe&&$e++});var xe={name:de,coordDim:pe,coordDimIndex:$e,type:_e,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:V.length},Oe={name:he,coordDim:he,coordDimIndex:$e+1,type:_e,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:V.length+1};oe?(ae&&(xe.storeDimIndex=ae.ensureCalculationDimension(he,_e),Oe.storeDimIndex=ae.ensureCalculationDimension(de,_e)),oe.appendCalculationDimension(xe),oe.appendCalculationDimension(Oe)):(V.push(xe),V.push(Oe))}return{stackedDimension:ue&&ue.name,stackedByDimension:le&&le.name,isStackedByIndex:$,stackedOverDimension:he,stackResultDimension:de}}function isLegacyDimensionsInput$1(g){return!isSeriesDataSchema$1(g.schema)}function isDimensionStacked$1(g,n){return!!n&&n===g.getCalculationInfo("stackedDimension")}function getStackedDimension$1(g,n){return isDimensionStacked$1(g,n)?g.getCalculationInfo("stackResultDimension"):n}function getCoordSysDimDefs$1(g,n){var r=g.get("coordinateSystem"),$=CoordinateSystem$1.get(r),L;return n&&n.coordSysDims&&(L=map$3(n.coordSysDims,function(V){var oe={name:V},ae=n.axisMap.get(V);if(ae){var re=ae.get("type");oe.type=getDimensionTypeByAxis$1(re)}return oe})),L||(L=$&&($.getDimensionsInfo?$.getDimensionsInfo():$.dimensions.slice())||["x","y"]),L}function injectOrdinalMeta$1(g,n,r){var $,L;return r&&each$v(g,function(V,oe){var ae=V.coordDim,re=r.categoryAxisMap.get(ae);re&&($==null&&($=oe),V.ordinalMeta=re.getOrdinalMeta(),n&&(V.createInvertedIndices=!0)),V.otherDims.itemName!=null&&(L=!0)}),!L&&$!=null&&(g[$].otherDims.itemName=0),$}function createSeriesData$1(g,n,r){r=r||{};var $=n.getSourceManager(),L,V=!1;g?(V=!0,L=createSourceFromSeriesDataOption$1(g)):(L=$.getSource(),V=L.sourceFormat===SOURCE_FORMAT_ORIGINAL$1);var oe=getCoordSysInfoBySeries$1(n),ae=getCoordSysDimDefs$1(n,oe),re=r.useEncodeDefaulter,le=isFunction$3(re)?re:re?curry$3(makeSeriesEncodeForAxisCoordSys$1,ae,n):null,ue={coordDimensions:ae,generateCoord:r.generateCoord,encodeDefine:n.getEncode(),encodeDefaulter:le,canOmitUnusedDimensions:!V},de=prepareSeriesDataSchema$1(L,ue),he=injectOrdinalMeta$1(de.dimensions,r.createInvertedIndices,oe),pe=V?null:$.getSharedDataStore(de),_e=enableDataStack$1(n,{schema:de,store:pe}),$e=new SeriesData$3(de,n);$e.setCalculationInfo(_e);var xe=he!=null&&isNeedCompleteOrdinalData$1(L)?function(Oe,Ce,Ie,Ne){return Ne===he?Ie:this.defaultDimValueGetter(Oe,Ce,Ie,Ne)}:null;return $e.hasItemOption=!1,$e.initData(V?L:pe,null,xe),$e}function isNeedCompleteOrdinalData$1(g){if(g.sourceFormat===SOURCE_FORMAT_ORIGINAL$1){var n=firstDataNotNull$1(g.data||[]);return!isArray$6(getDataItemValue$1(n))}}function firstDataNotNull$1(g){for(var n=0;n<g.length&&g[n]==null;)n++;return g[n]}var Scale$2=function(){function g(n){this._setting=n||{},this._extent=[1/0,-1/0]}return g.prototype.getSetting=function(n){return this._setting[n]},g.prototype.unionExtent=function(n){var r=this._extent;n[0]<r[0]&&(r[0]=n[0]),n[1]>r[1]&&(r[1]=n[1])},g.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},g.prototype.getExtent=function(){return this._extent.slice()},g.prototype.setExtent=function(n,r){var $=this._extent;isNaN(n)||($[0]=n),isNaN(r)||($[1]=r)},g.prototype.isInExtentRange=function(n){return this._extent[0]<=n&&this._extent[1]>=n},g.prototype.isBlank=function(){return this._isBlank},g.prototype.setBlank=function(n){this._isBlank=n},g}();enableClassManagement$1(Scale$2);const Scale$3=Scale$2;var uidBase$1=0,OrdinalMeta$2=function(){function g(n){this.categories=n.categories||[],this._needCollect=n.needCollect,this._deduplication=n.deduplication,this.uid=++uidBase$1}return g.createByAxisModel=function(n){var r=n.option,$=r.data,L=$&&map$3($,getName$1);return new g({categories:L,needCollect:!L,deduplication:r.dedplication!==!1})},g.prototype.getOrdinal=function(n){return this._getOrCreateMap().get(n)},g.prototype.parseAndCollect=function(n){var r,$=this._needCollect;if(!isString$3(n)&&!$)return n;if($&&!this._deduplication)return r=this.categories.length,this.categories[r]=n,r;var L=this._getOrCreateMap();return r=L.get(n),r==null&&($?(r=this.categories.length,this.categories[r]=n,L.set(n,r)):r=NaN),r},g.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap$1(this.categories))},g}();function getName$1(g){return isObject$9(g)&&g.value!=null?g.value:g+""}const OrdinalMeta$3=OrdinalMeta$2;function isIntervalOrLogScale$1(g){return g.type==="interval"||g.type==="log"}function intervalScaleNiceTicks$1(g,n,r,$){var L={},V=g[1]-g[0],oe=L.interval=nice$1(V/n,!0);r!=null&&oe<r&&(oe=L.interval=r),$!=null&&oe>$&&(oe=L.interval=$);var ae=L.intervalPrecision=getIntervalPrecision$1(oe),re=L.niceTickExtent=[round$7(Math.ceil(g[0]/oe)*oe,ae),round$7(Math.floor(g[1]/oe)*oe,ae)];return fixExtent$1(re,g),L}function increaseInterval$1(g){var n=Math.pow(10,quantityExponent$1(g)),r=g/n;return r?r===2?r=3:r===3?r=5:r*=2:r=1,round$7(r*n)}function getIntervalPrecision$1(g){return getPrecision$1(g)+2}function clamp$1(g,n,r){g[n]=Math.max(Math.min(g[n],r[1]),r[0])}function fixExtent$1(g,n){!isFinite(g[0])&&(g[0]=n[0]),!isFinite(g[1])&&(g[1]=n[1]),clamp$1(g,0,n),clamp$1(g,1,n),g[0]>g[1]&&(g[0]=g[1])}function contain$4(g,n){return g>=n[0]&&g<=n[1]}function normalize$7(g,n){return n[1]===n[0]?.5:(g-n[0])/(n[1]-n[0])}function scale$3(g,n){return g*(n[1]-n[0])+n[0]}var OrdinalScale$2=function(g){__extends$2(n,g);function n(r){var $=g.call(this,r)||this;$.type="ordinal";var L=$.getSetting("ordinalMeta");return L||(L=new OrdinalMeta$3({})),isArray$6(L)&&(L=new OrdinalMeta$3({categories:map$3(L,function(V){return isObject$9(V)?V.value:V})})),$._ordinalMeta=L,$._extent=$.getSetting("extent")||[0,L.categories.length-1],$}return n.prototype.parse=function(r){return r==null?NaN:isString$3(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},n.prototype.contain=function(r){return r=this.parse(r),contain$4(r,this._extent)&&this._ordinalMeta.categories[r]!=null},n.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),normalize$7(r,this._extent)},n.prototype.scale=function(r){return r=Math.round(scale$3(r,this._extent)),this.getRawOrdinalNumber(r)},n.prototype.getTicks=function(){for(var r=[],$=this._extent,L=$[0];L<=$[1];)r.push({value:L}),L++;return r},n.prototype.getMinorTicks=function(r){},n.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var $=r.ordinalNumbers,L=this._ordinalNumbersByTick=[],V=this._ticksByOrdinalNumber=[],oe=0,ae=this._ordinalMeta.categories.length,re=Math.min(ae,$.length);oe<re;++oe){var le=$[oe];L[oe]=le,V[le]=oe}for(var ue=0;oe<ae;++oe){for(;V[ue]!=null;)ue++;L.push(ue),V[ue]=oe}},n.prototype._getTickNumber=function(r){var $=this._ticksByOrdinalNumber;return $&&r>=0&&r<$.length?$[r]:r},n.prototype.getRawOrdinalNumber=function(r){var $=this._ordinalNumbersByTick;return $&&r>=0&&r<$.length?$[r]:r},n.prototype.getLabel=function(r){if(!this.isBlank()){var $=this.getRawOrdinalNumber(r.value),L=this._ordinalMeta.categories[$];return L==null?"":L+""}},n.prototype.count=function(){return this._extent[1]-this._extent[0]+1},n.prototype.unionExtentFromData=function(r,$){this.unionExtent(r.getApproximateExtent($))},n.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},n.prototype.getOrdinalMeta=function(){return this._ordinalMeta},n.prototype.calcNiceTicks=function(){},n.prototype.calcNiceExtent=function(){},n.type="ordinal",n}(Scale$3);Scale$3.registerClass(OrdinalScale$2);const OrdinalScale$3=OrdinalScale$2;var roundNumber$1=round$7,IntervalScale$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return n.prototype.parse=function(r){return r},n.prototype.contain=function(r){return contain$4(r,this._extent)},n.prototype.normalize=function(r){return normalize$7(r,this._extent)},n.prototype.scale=function(r){return scale$3(r,this._extent)},n.prototype.setExtent=function(r,$){var L=this._extent;isNaN(r)||(L[0]=parseFloat(r)),isNaN($)||(L[1]=parseFloat($))},n.prototype.unionExtent=function(r){var $=this._extent;r[0]<$[0]&&($[0]=r[0]),r[1]>$[1]&&($[1]=r[1]),this.setExtent($[0],$[1])},n.prototype.getInterval=function(){return this._interval},n.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision$1(r)},n.prototype.getTicks=function(r){var $=this._interval,L=this._extent,V=this._niceExtent,oe=this._intervalPrecision,ae=[];if(!$)return ae;var re=1e4;L[0]<V[0]&&(r?ae.push({value:roundNumber$1(V[0]-$,oe)}):ae.push({value:L[0]}));for(var le=V[0];le<=V[1]&&(ae.push({value:le}),le=roundNumber$1(le+$,oe),le!==ae[ae.length-1].value);)if(ae.length>re)return[];var ue=ae.length?ae[ae.length-1].value:V[1];return L[1]>ue&&(r?ae.push({value:roundNumber$1(ue+$,oe)}):ae.push({value:L[1]})),ae},n.prototype.getMinorTicks=function(r){for(var $=this.getTicks(!0),L=[],V=this.getExtent(),oe=1;oe<$.length;oe++){for(var ae=$[oe],re=$[oe-1],le=0,ue=[],de=ae.value-re.value,he=de/r;le<r-1;){var pe=roundNumber$1(re.value+(le+1)*he);pe>V[0]&&pe<V[1]&&ue.push(pe),le++}L.push(ue)}return L},n.prototype.getLabel=function(r,$){if(r==null)return"";var L=$&&$.precision;L==null?L=getPrecision$1(r.value)||0:L==="auto"&&(L=this._intervalPrecision);var V=roundNumber$1(r.value,L,!0);return addCommas$1(V)},n.prototype.calcNiceTicks=function(r,$,L){r=r||5;var V=this._extent,oe=V[1]-V[0];if(isFinite(oe)){oe<0&&(oe=-oe,V.reverse());var ae=intervalScaleNiceTicks$1(V,r,$,L);this._intervalPrecision=ae.intervalPrecision,this._interval=ae.interval,this._niceExtent=ae.niceTickExtent}},n.prototype.calcNiceExtent=function(r){var $=this._extent;if($[0]===$[1])if($[0]!==0){var L=Math.abs($[0]);r.fixMax||($[1]+=L/2),$[0]-=L/2}else $[1]=1;var V=$[1]-$[0];isFinite(V)||($[0]=0,$[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var oe=this._interval;r.fixMin||($[0]=roundNumber$1(Math.floor($[0]/oe)*oe)),r.fixMax||($[1]=roundNumber$1(Math.ceil($[1]/oe)*oe))},n.prototype.setNiceExtent=function(r,$){this._niceExtent=[r,$]},n.type="interval",n}(Scale$3);Scale$3.registerClass(IntervalScale$2);const IntervalScale$3=IntervalScale$2;var supportFloat32Array$1=typeof Float32Array<"u",Float32ArrayCtor$1=supportFloat32Array$1?Float32Array:Array;function createFloat32Array$1(g){return isArray$6(g)?supportFloat32Array$1?new Float32Array(g):g:new Float32ArrayCtor$1(g)}var STACK_PREFIX$1="__ec_stack_";function getSeriesStackId$3(g){return g.get("stack")||STACK_PREFIX$1+g.seriesIndex}function getAxisKey$3(g){return g.dim+g.index}function getLayoutOnAxis$1(g){var n=[],r=g.axis,$="axis0";if(r.type==="category"){for(var L=r.getBandWidth(),V=0;V<g.count;V++)n.push(defaults$7({bandWidth:L,axisKey:$,stackId:STACK_PREFIX$1+V},g));for(var oe=doCalBarWidthAndOffset$1(n),ae=[],V=0;V<g.count;V++){var re=oe[$][STACK_PREFIX$1+V];re.offsetCenter=re.offset+re.width/2,ae.push(re)}return ae}}function prepareLayoutBarSeries$1(g,n){var r=[];return n.eachSeriesByType(g,function($){isOnCartesian$1($)&&r.push($)}),r}function getValueAxesMinGaps$1(g){var n={};each$v(g,function(re){var le=re.coordinateSystem,ue=le.getBaseAxis();if(!(ue.type!=="time"&&ue.type!=="value"))for(var de=re.getData(),he=ue.dim+"_"+ue.index,pe=de.getDimensionIndex(de.mapDimension(ue.dim)),_e=de.getStore(),$e=0,xe=_e.count();$e<xe;++$e){var Oe=_e.get(pe,$e);n[he]?n[he].push(Oe):n[he]=[Oe]}});var r={};for(var $ in n)if(n.hasOwnProperty($)){var L=n[$];if(L){L.sort(function(re,le){return re-le});for(var V=null,oe=1;oe<L.length;++oe){var ae=L[oe]-L[oe-1];ae>0&&(V=V===null?ae:Math.min(V,ae))}r[$]=V}}return r}function makeColumnLayout$1(g){var n=getValueAxesMinGaps$1(g),r=[];return each$v(g,function($){var L=$.coordinateSystem,V=L.getBaseAxis(),oe=V.getExtent(),ae;if(V.type==="category")ae=V.getBandWidth();else if(V.type==="value"||V.type==="time"){var re=V.dim+"_"+V.index,le=n[re],ue=Math.abs(oe[1]-oe[0]),de=V.scale.getExtent(),he=Math.abs(de[1]-de[0]);ae=le?ue/he*le:ue}else{var pe=$.getData();ae=Math.abs(oe[1]-oe[0])/pe.count()}var _e=parsePercent$2($.get("barWidth"),ae),$e=parsePercent$2($.get("barMaxWidth"),ae),xe=parsePercent$2($.get("barMinWidth")||(isInLargeMode$1($)?.5:1),ae),Oe=$.get("barGap"),Ce=$.get("barCategoryGap");r.push({bandWidth:ae,barWidth:_e,barMaxWidth:$e,barMinWidth:xe,barGap:Oe,barCategoryGap:Ce,axisKey:getAxisKey$3(V),stackId:getSeriesStackId$3($)})}),doCalBarWidthAndOffset$1(r)}function doCalBarWidthAndOffset$1(g){var n={};each$v(g,function($,L){var V=$.axisKey,oe=$.bandWidth,ae=n[V]||{bandWidth:oe,remainedWidth:oe,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},re=ae.stacks;n[V]=ae;var le=$.stackId;re[le]||ae.autoWidthCount++,re[le]=re[le]||{width:0,maxWidth:0};var ue=$.barWidth;ue&&!re[le].width&&(re[le].width=ue,ue=Math.min(ae.remainedWidth,ue),ae.remainedWidth-=ue);var de=$.barMaxWidth;de&&(re[le].maxWidth=de);var he=$.barMinWidth;he&&(re[le].minWidth=he);var pe=$.barGap;pe!=null&&(ae.gap=pe);var _e=$.barCategoryGap;_e!=null&&(ae.categoryGap=_e)});var r={};return each$v(n,function($,L){r[L]={};var V=$.stacks,oe=$.bandWidth,ae=$.categoryGap;if(ae==null){var re=keys$2(V).length;ae=Math.max(35-re*4,15)+"%"}var le=parsePercent$2(ae,oe),ue=parsePercent$2($.gap,1),de=$.remainedWidth,he=$.autoWidthCount,pe=(de-le)/(he+(he-1)*ue);pe=Math.max(pe,0),each$v(V,function(Oe){var Ce=Oe.maxWidth,Ie=Oe.minWidth;if(Oe.width){var Ne=Oe.width;Ce&&(Ne=Math.min(Ne,Ce)),Ie&&(Ne=Math.max(Ne,Ie)),Oe.width=Ne,de-=Ne+ue*Ne,he--}else{var Ne=pe;Ce&&Ce<Ne&&(Ne=Math.min(Ce,de)),Ie&&Ie>Ne&&(Ne=Ie),Ne!==pe&&(Oe.width=Ne,de-=Ne+ue*Ne,he--)}}),pe=(de-le)/(he+(he-1)*ue),pe=Math.max(pe,0);var _e=0,$e;each$v(V,function(Oe,Ce){Oe.width||(Oe.width=pe),$e=Oe,_e+=Oe.width*(1+ue)}),$e&&(_e-=$e.width*ue);var xe=-_e/2;each$v(V,function(Oe,Ce){r[L][Ce]=r[L][Ce]||{bandWidth:oe,offset:xe,width:Oe.width},xe+=Oe.width*(1+ue)})}),r}function retrieveColumnLayout$1(g,n,r){if(g&&n){var $=g[getAxisKey$3(n)];return $!=null&&r!=null?$[getSeriesStackId$3(r)]:$}}function layout$8(g,n){var r=prepareLayoutBarSeries$1(g,n),$=makeColumnLayout$1(r);each$v(r,function(L){var V=L.getData(),oe=L.coordinateSystem,ae=oe.getBaseAxis(),re=getSeriesStackId$3(L),le=$[getAxisKey$3(ae)][re],ue=le.offset,de=le.width;V.setLayout({bandWidth:le.bandWidth,offset:ue,size:de})})}function createProgressiveLayout$1(g){return{seriesType:g,plan:createRenderPlanner$1(),reset:function(n){if(isOnCartesian$1(n)){var r=n.getData(),$=n.coordinateSystem,L=$.getBaseAxis(),V=$.getOtherAxis(L),oe=r.getDimensionIndex(r.mapDimension(V.dim)),ae=r.getDimensionIndex(r.mapDimension(L.dim)),re=n.get("showBackground",!0),le=r.mapDimension(V.dim),ue=r.getCalculationInfo("stackResultDimension"),de=isDimensionStacked$1(r,le)&&!!r.getCalculationInfo("stackedOnSeries"),he=V.isHorizontal(),pe=getValueAxisStart$1(L,V),_e=isInLargeMode$1(n),$e=n.get("barMinHeight")||0,xe=ue&&r.getDimensionIndex(ue),Oe=r.getLayout("size"),Ce=r.getLayout("offset");return{progress:function(Ie,Ne){for(var ze=Ie.count,Fe=_e&&createFloat32Array$1(ze*3),Ue=_e&&re&&createFloat32Array$1(ze*3),At=_e&&createFloat32Array$1(ze),Et=$.master.getRect(),Pt=he?Et.width:Et.height,kt,Dt=Ne.getStore(),Lt=0;(kt=Ie.next())!=null;){var hn=Dt.get(de?xe:oe,kt),vn=Dt.get(ae,kt),_n=pe,$n=void 0;de&&($n=+hn-Dt.get(oe,kt));var Sn=void 0,xn=void 0,On=void 0,Cn=void 0;if(he){var An=$.dataToPoint([hn,vn]);if(de){var Rn=$.dataToPoint([$n,vn]);_n=Rn[0]}Sn=_n,xn=An[1]+Ce,On=An[0]-_n,Cn=Oe,Math.abs(On)<$e&&(On=(On<0?-1:1)*$e)}else{var An=$.dataToPoint([vn,hn]);if(de){var Rn=$.dataToPoint([vn,$n]);_n=Rn[1]}Sn=An[0]+Ce,xn=_n,On=Oe,Cn=An[1]-_n,Math.abs(Cn)<$e&&(Cn=(Cn<=0?-1:1)*$e)}_e?(Fe[Lt]=Sn,Fe[Lt+1]=xn,Fe[Lt+2]=he?On:Cn,Ue&&(Ue[Lt]=he?Et.x:Sn,Ue[Lt+1]=he?xn:Et.y,Ue[Lt+2]=Pt),At[kt]=kt):Ne.setItemLayout(kt,{x:Sn,y:xn,width:On,height:Cn}),Lt+=3}_e&&Ne.setLayout({largePoints:Fe,largeDataIndices:At,largeBackgroundPoints:Ue,valueAxisHorizontal:he})}}}}}}function isOnCartesian$1(g){return g.coordinateSystem&&g.coordinateSystem.type==="cartesian2d"}function isInLargeMode$1(g){return g.pipelineContext&&g.pipelineContext.large}function getValueAxisStart$1(g,n){return n.toGlobalCoord(n.dataToCoord(n.type==="log"?1:0))}var bisect$1=function(g,n,r,$){for(;r<$;){var L=r+$>>>1;g[L][1]<n?r=L+1:$=L}return r},TimeScale$2=function(g){__extends$2(n,g);function n(r){var $=g.call(this,r)||this;return $.type="time",$}return n.prototype.getLabel=function(r){var $=this.getSetting("useUTC");return format$1(r.value,fullLeveledFormatter$1[getDefaultFormatPrecisionOfInterval$1(getPrimaryTimeUnit$1(this._minLevelUnit))]||fullLeveledFormatter$1.second,$,this.getSetting("locale"))},n.prototype.getFormattedLabel=function(r,$,L){var V=this.getSetting("useUTC"),oe=this.getSetting("locale");return leveledFormat$1(r,$,L,oe,V)},n.prototype.getTicks=function(){var r=this._interval,$=this._extent,L=[];if(!r)return L;L.push({value:$[0],level:0});var V=this.getSetting("useUTC"),oe=getIntervalTicks$1(this._minLevelUnit,this._approxInterval,V,$);return L=L.concat(oe),L.push({value:$[1],level:0}),L},n.prototype.calcNiceExtent=function(r){var $=this._extent;if($[0]===$[1]&&($[0]-=ONE_DAY$1,$[1]+=ONE_DAY$1),$[1]===-1/0&&$[0]===1/0){var L=new Date;$[1]=+new Date(L.getFullYear(),L.getMonth(),L.getDate()),$[0]=$[1]-ONE_DAY$1}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},n.prototype.calcNiceTicks=function(r,$,L){r=r||10;var V=this._extent,oe=V[1]-V[0];this._approxInterval=oe/r,$!=null&&this._approxInterval<$&&(this._approxInterval=$),L!=null&&this._approxInterval>L&&(this._approxInterval=L);var ae=scaleIntervals$1.length,re=Math.min(bisect$1(scaleIntervals$1,this._approxInterval,0,ae),ae-1);this._interval=scaleIntervals$1[re][1],this._minLevelUnit=scaleIntervals$1[Math.max(re-1,0)][0]},n.prototype.parse=function(r){return isNumber$3(r)?r:+parseDate$1(r)},n.prototype.contain=function(r){return contain$4(this.parse(r),this._extent)},n.prototype.normalize=function(r){return normalize$7(this.parse(r),this._extent)},n.prototype.scale=function(r){return scale$3(r,this._extent)},n.type="time",n}(IntervalScale$3),scaleIntervals$1=[["second",ONE_SECOND$1],["minute",ONE_MINUTE$1],["hour",ONE_HOUR$1],["quarter-day",ONE_HOUR$1*6],["half-day",ONE_HOUR$1*12],["day",ONE_DAY$1*1.2],["half-week",ONE_DAY$1*3.5],["week",ONE_DAY$1*7],["month",ONE_DAY$1*31],["quarter",ONE_DAY$1*95],["half-year",ONE_YEAR$1/2],["year",ONE_YEAR$1]];function isUnitValueSame$1(g,n,r,$){var L=parseDate$1(n),V=parseDate$1(r),oe=function(_e){return getUnitValue$1(L,_e,$)===getUnitValue$1(V,_e,$)},ae=function(){return oe("year")},re=function(){return ae()&&oe("month")},le=function(){return re()&&oe("day")},ue=function(){return le()&&oe("hour")},de=function(){return ue()&&oe("minute")},he=function(){return de()&&oe("second")},pe=function(){return he()&&oe("millisecond")};switch(g){case"year":return ae();case"month":return re();case"day":return le();case"hour":return ue();case"minute":return de();case"second":return he();case"millisecond":return pe()}}function getDateInterval$1(g,n){return g/=ONE_DAY$1,g>16?16:g>7.5?7:g>3.5?4:g>1.5?2:1}function getMonthInterval$1(g){var n=30*ONE_DAY$1;return g/=n,g>6?6:g>3?3:g>2?2:1}function getHourInterval$1(g){return g/=ONE_HOUR$1,g>12?12:g>6?6:g>3.5?4:g>2?2:1}function getMinutesAndSecondsInterval$1(g,n){return g/=n?ONE_MINUTE$1:ONE_SECOND$1,g>30?30:g>20?20:g>15?15:g>10?10:g>5?5:g>2?2:1}function getMillisecondsInterval$1(g){return nice$1(g,!0)}function getFirstTimestampOfUnit$1(g,n,r){var $=new Date(g);switch(getPrimaryTimeUnit$1(n)){case"year":case"month":$[monthSetterName$1(r)](0);case"day":$[dateSetterName$1(r)](1);case"hour":$[hoursSetterName$1(r)](0);case"minute":$[minutesSetterName$1(r)](0);case"second":$[secondsSetterName$1(r)](0),$[millisecondsSetterName$1(r)](0)}return $.getTime()}function getIntervalTicks$1(g,n,r,$){var L=1e4,V=timeUnits$1,oe=0;function ae(Pt,kt,Dt,Lt,hn,vn,_n){for(var $n=new Date(kt),Sn=kt,xn=$n[Lt]();Sn<Dt&&Sn<=$[1];)_n.push({value:Sn}),xn+=Pt,$n[hn](xn),Sn=$n.getTime();_n.push({value:Sn,notAdd:!0})}function re(Pt,kt,Dt){var Lt=[],hn=!kt.length;if(!isUnitValueSame$1(getPrimaryTimeUnit$1(Pt),$[0],$[1],r)){hn&&(kt=[{value:getFirstTimestampOfUnit$1(new Date($[0]),Pt,r)},{value:$[1]}]);for(var vn=0;vn<kt.length-1;vn++){var _n=kt[vn].value,$n=kt[vn+1].value;if(_n!==$n){var Sn=void 0,xn=void 0,On=void 0,Cn=!1;switch(Pt){case"year":Sn=Math.max(1,Math.round(n/ONE_DAY$1/365)),xn=fullYearGetterName$1(r),On=fullYearSetterName$1(r);break;case"half-year":case"quarter":case"month":Sn=getMonthInterval$1(n),xn=monthGetterName$1(r),On=monthSetterName$1(r);break;case"week":case"half-week":case"day":Sn=getDateInterval$1(n),xn=dateGetterName$1(r),On=dateSetterName$1(r),Cn=!0;break;case"half-day":case"quarter-day":case"hour":Sn=getHourInterval$1(n),xn=hoursGetterName$1(r),On=hoursSetterName$1(r);break;case"minute":Sn=getMinutesAndSecondsInterval$1(n,!0),xn=minutesGetterName$1(r),On=minutesSetterName$1(r);break;case"second":Sn=getMinutesAndSecondsInterval$1(n,!1),xn=secondsGetterName$1(r),On=secondsSetterName$1(r);break;case"millisecond":Sn=getMillisecondsInterval$1(n),xn=millisecondsGetterName$1(r),On=millisecondsSetterName$1(r);break}ae(Sn,_n,$n,xn,On,Cn,Lt),Pt==="year"&&Dt.length>1&&vn===0&&Dt.unshift({value:Dt[0].value-Sn})}}for(var vn=0;vn<Lt.length;vn++)Dt.push(Lt[vn]);return Lt}}for(var le=[],ue=[],de=0,he=0,pe=0;pe<V.length&&oe++<L;++pe){var _e=getPrimaryTimeUnit$1(V[pe]);if(isPrimaryTimeUnit$1(V[pe])){re(V[pe],le[le.length-1]||[],ue);var $e=V[pe+1]?getPrimaryTimeUnit$1(V[pe+1]):null;if(_e!==$e){if(ue.length){he=de,ue.sort(function(Pt,kt){return Pt.value-kt.value});for(var xe=[],Oe=0;Oe<ue.length;++Oe){var Ce=ue[Oe].value;(Oe===0||ue[Oe-1].value!==Ce)&&(xe.push(ue[Oe]),Ce>=$[0]&&Ce<=$[1]&&de++)}var Ie=($[1]-$[0])/n;if(de>Ie*1.5&&he>Ie/1.5||(le.push(xe),de>Ie||g===V[pe]))break}ue=[]}}}for(var Ne=filter$1(map$3(le,function(kt){return filter$1(kt,function(Dt){return Dt.value>=$[0]&&Dt.value<=$[1]&&!Dt.notAdd})}),function(kt){return kt.length>0}),ze=[],Fe=Ne.length-1,pe=0;pe<Ne.length;++pe)for(var Ue=Ne[pe],At=0;At<Ue.length;++At)ze.push({value:Ue[At].value,level:Fe-pe});ze.sort(function(Pt,kt){return Pt.value-kt.value});for(var Et=[],pe=0;pe<ze.length;++pe)(pe===0||ze[pe].value!==ze[pe-1].value)&&Et.push(ze[pe]);return Et}Scale$3.registerClass(TimeScale$2);const TimeScale$3=TimeScale$2;var scaleProto$1=Scale$3.prototype,intervalScaleProto$1=IntervalScale$3.prototype,roundingErrorFix$1=round$7,mathFloor$3=Math.floor,mathCeil$3=Math.ceil,mathPow$4=Math.pow,mathLog$3=Math.log,LogScale$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new IntervalScale$3,r._interval=0,r}return n.prototype.getTicks=function(r){var $=this._originalScale,L=this._extent,V=$.getExtent(),oe=intervalScaleProto$1.getTicks.call(this,r);return map$3(oe,function(ae){var re=ae.value,le=round$7(mathPow$4(this.base,re));return le=re===L[0]&&this._fixMin?fixRoundingError$1(le,V[0]):le,le=re===L[1]&&this._fixMax?fixRoundingError$1(le,V[1]):le,{value:le}},this)},n.prototype.setExtent=function(r,$){var L=mathLog$3(this.base);r=mathLog$3(Math.max(0,r))/L,$=mathLog$3(Math.max(0,$))/L,intervalScaleProto$1.setExtent.call(this,r,$)},n.prototype.getExtent=function(){var r=this.base,$=scaleProto$1.getExtent.call(this);$[0]=mathPow$4(r,$[0]),$[1]=mathPow$4(r,$[1]);var L=this._originalScale,V=L.getExtent();return this._fixMin&&($[0]=fixRoundingError$1($[0],V[0])),this._fixMax&&($[1]=fixRoundingError$1($[1],V[1])),$},n.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var $=this.base;r[0]=mathLog$3(r[0])/mathLog$3($),r[1]=mathLog$3(r[1])/mathLog$3($),scaleProto$1.unionExtent.call(this,r)},n.prototype.unionExtentFromData=function(r,$){this.unionExtent(r.getApproximateExtent($))},n.prototype.calcNiceTicks=function(r){r=r||10;var $=this._extent,L=$[1]-$[0];if(!(L===1/0||L<=0)){var V=quantity$1(L),oe=r/L*V;for(oe<=.5&&(V*=10);!isNaN(V)&&Math.abs(V)<1&&Math.abs(V)>0;)V*=10;var ae=[round$7(mathCeil$3($[0]/V)*V),round$7(mathFloor$3($[1]/V)*V)];this._interval=V,this._niceExtent=ae}},n.prototype.calcNiceExtent=function(r){intervalScaleProto$1.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},n.prototype.parse=function(r){return r},n.prototype.contain=function(r){return r=mathLog$3(r)/mathLog$3(this.base),contain$4(r,this._extent)},n.prototype.normalize=function(r){return r=mathLog$3(r)/mathLog$3(this.base),normalize$7(r,this._extent)},n.prototype.scale=function(r){return r=scale$3(r,this._extent),mathPow$4(this.base,r)},n.type="log",n}(Scale$3),proto$1=LogScale$2.prototype;proto$1.getMinorTicks=intervalScaleProto$1.getMinorTicks,proto$1.getLabel=intervalScaleProto$1.getLabel;function fixRoundingError$1(g,n){return roundingErrorFix$1(g,getPrecision$1(n))}Scale$3.registerClass(LogScale$2);const LogScale$3=LogScale$2;var ScaleRawExtentInfo$1=function(){function g(n,r,$){this._prepareParams(n,r,$)}return g.prototype._prepareParams=function(n,r,$){$[1]<$[0]&&($=[NaN,NaN]),this._dataMin=$[0],this._dataMax=$[1];var L=this._isOrdinal=n.type==="ordinal";this._needCrossZero=n.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var V=this._modelMinRaw=r.get("min",!0);isFunction$3(V)?this._modelMinNum=parseAxisModelMinMax$1(n,V({min:$[0],max:$[1]})):V!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax$1(n,V));var oe=this._modelMaxRaw=r.get("max",!0);if(isFunction$3(oe)?this._modelMaxNum=parseAxisModelMinMax$1(n,oe({min:$[0],max:$[1]})):oe!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax$1(n,oe)),L)this._axisDataLen=r.getCategories().length;else{var ae=r.get("boundaryGap"),re=isArray$6(ae)?ae:[ae||0,ae||0];typeof re[0]=="boolean"||typeof re[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$3(re[0],1),parsePercent$3(re[1],1)]}},g.prototype.calculate=function(){var n=this._isOrdinal,r=this._dataMin,$=this._dataMax,L=this._axisDataLen,V=this._boundaryGapInner,oe=n?null:$-r||Math.abs(r),ae=this._modelMinRaw==="dataMin"?r:this._modelMinNum,re=this._modelMaxRaw==="dataMax"?$:this._modelMaxNum,le=ae!=null,ue=re!=null;ae==null&&(ae=n?L?0:NaN:r-V[0]*oe),re==null&&(re=n?L?L-1:NaN:$+V[1]*oe),(ae==null||!isFinite(ae))&&(ae=NaN),(re==null||!isFinite(re))&&(re=NaN);var de=eqNaN$1(ae)||eqNaN$1(re)||n&&!L;this._needCrossZero&&(ae>0&&re>0&&!le&&(ae=0),ae<0&&re<0&&!ue&&(re=0));var he=this._determinedMin,pe=this._determinedMax;return he!=null&&(ae=he,le=!0),pe!=null&&(re=pe,ue=!0),{min:ae,max:re,minFixed:le,maxFixed:ue,isBlank:de}},g.prototype.modifyDataMinMax=function(n,r){this[DATA_MIN_MAX_ATTR$1[n]]=r},g.prototype.setDeterminedMinMax=function(n,r){var $=DETERMINED_MIN_MAX_ATTR$1[n];this[$]=r},g.prototype.freeze=function(){this.frozen=!0},g}(),DETERMINED_MIN_MAX_ATTR$1={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR$1={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo$1(g,n,r){var $=g.rawExtentInfo;return $||($=new ScaleRawExtentInfo$1(g,n,r),g.rawExtentInfo=$,$)}function parseAxisModelMinMax$1(g,n){return n==null?null:eqNaN$1(n)?NaN:g.parse(n)}function getScaleExtent$1(g,n){var r=g.type,$=ensureScaleRawExtentInfo$1(g,n,g.getExtent()).calculate();g.setBlank($.isBlank);var L=$.min,V=$.max,oe=n.ecModel;if(oe&&r==="time"){var ae=prepareLayoutBarSeries$1("bar",oe),re=!1;if(each$v(ae,function(de){re=re||de.getBaseAxis()===n.axis}),re){var le=makeColumnLayout$1(ae),ue=adjustScaleForOverflow$1(L,V,n,le);L=ue.min,V=ue.max}}return{extent:[L,V],fixMin:$.minFixed,fixMax:$.maxFixed}}function adjustScaleForOverflow$1(g,n,r,$){var L=r.axis.getExtent(),V=L[1]-L[0],oe=retrieveColumnLayout$1($,r.axis);if(oe===void 0)return{min:g,max:n};var ae=1/0;each$v(oe,function(pe){ae=Math.min(pe.offset,ae)});var re=-1/0;each$v(oe,function(pe){re=Math.max(pe.offset+pe.width,re)}),ae=Math.abs(ae),re=Math.abs(re);var le=ae+re,ue=n-g,de=1-(ae+re)/V,he=ue/de-ue;return n+=he*(re/le),g-=he*(ae/le),{min:g,max:n}}function niceScaleExtent$1(g,n){var r=n,$=getScaleExtent$1(g,r),L=$.extent,V=r.get("splitNumber");g instanceof LogScale$3&&(g.base=r.get("logBase"));var oe=g.type,ae=r.get("interval"),re=oe==="interval"||oe==="time";g.setExtent(L[0],L[1]),g.calcNiceExtent({splitNumber:V,fixMin:$.fixMin,fixMax:$.fixMax,minInterval:re?r.get("minInterval"):null,maxInterval:re?r.get("maxInterval"):null}),ae!=null&&g.setInterval&&g.setInterval(ae)}function createScaleByModel$3(g,n){if(n=n||g.get("type"),n)switch(n){case"category":return new OrdinalScale$3({ordinalMeta:g.getOrdinalMeta?g.getOrdinalMeta():g.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$3({locale:g.ecModel.getLocaleModel(),useUTC:g.ecModel.get("useUTC")});default:return new(Scale$3.getClass(n)||IntervalScale$3)}}function ifAxisCrossZero$1(g){var n=g.scale.getExtent(),r=n[0],$=n[1];return!(r>0&&$>0||r<0&&$<0)}function makeLabelFormatter$1(g){var n=g.getLabelModel().get("formatter"),r=g.type==="category"?g.scale.getExtent()[0]:null;return g.scale.type==="time"?function($){return function(L,V){return g.scale.getFormattedLabel(L,V,$)}}(n):isString$3(n)?function($){return function(L){var V=g.scale.getLabel(L),oe=$.replace("{value}",V!=null?V:"");return oe}}(n):isFunction$3(n)?function($){return function(L,V){return r!=null&&(V=L.value-r),$(getAxisRawValue$1(g,L),V,L.level!=null?{level:L.level}:null)}}(n):function($){return g.scale.getLabel($)}}function getAxisRawValue$1(g,n){return g.type==="category"?g.scale.getLabel(n):n.value}function estimateLabelUnionRect$1(g){var n=g.model,r=g.scale;if(!(!n.get(["axisLabel","show"])||r.isBlank())){var $,L,V=r.getExtent();r instanceof OrdinalScale$3?L=r.count():($=r.getTicks(),L=$.length);var oe=g.getLabelModel(),ae=makeLabelFormatter$1(g),re,le=1;L>40&&(le=Math.ceil(L/40));for(var ue=0;ue<L;ue+=le){var de=$?$[ue]:{value:V[0]+ue},he=ae(de,ue),pe=oe.getTextRect(he),_e=rotateTextRect$1(pe,oe.get("rotate")||0);re?re.union(_e):re=_e}return re}}function rotateTextRect$1(g,n){var r=n*Math.PI/180,$=g.width,L=g.height,V=$*Math.abs(Math.cos(r))+Math.abs(L*Math.sin(r)),oe=$*Math.abs(Math.sin(r))+Math.abs(L*Math.cos(r)),ae=new BoundingRect$3(g.x,g.y,V,oe);return ae}function getOptionCategoryInterval$1(g){var n=g.get("interval");return n!=null?n:"auto"}function shouldShowAllLabels$1(g){return g.type==="category"&&getOptionCategoryInterval$1(g.getLabelModel())===0}function getDataDimensionsOnAxis$1(g,n){var r={};return each$v(g.mapDimensionsAll(n),function($){r[getStackedDimension$1(g,$)]=!0}),keys$2(r)}function unionAxisExtentFromData$1(g,n,r){n&&each$v(getDataDimensionsOnAxis$1(n,r),function($){var L=n.getApproximateExtent($);L[0]<g[0]&&(g[0]=L[0]),L[1]>g[1]&&(g[1]=L[1])})}var AxisModelCommonMixin$1=function(){function g(){}return g.prototype.getNeedCrossZero=function(){var n=this.option;return!n.scale},g.prototype.getCoordSysModel=function(){},g}(),EPSILON$5=1e-8;function isAroundEqual$2(g,n){return Math.abs(g-n)<EPSILON$5}function contain$3(g,n,r){var $=0,L=g[0];if(!L)return!1;for(var V=1;V<g.length;V++){var oe=g[V];$+=windingLine$1(L[0],L[1],oe[0],oe[1],n,r),L=oe}var ae=g[0];return(!isAroundEqual$2(L[0],ae[0])||!isAroundEqual$2(L[1],ae[1]))&&($+=windingLine$1(L[0],L[1],ae[0],ae[1],n,r)),$!==0}var TMP_TRANSFORM$1=[];function transformPoints$1(g,n){for(var r=0;r<g.length;r++)applyTransform$3(g[r],g[r],n)}function updateBBoxFromPoints$1(g,n,r,$){for(var L=0;L<g.length;L++){var V=g[L];$&&(V=$.project(V)),V&&isFinite(V[0])&&isFinite(V[1])&&(min$3(n,n,V),max$3(r,r,V))}}function centroid$3(g){for(var n=0,r=0,$=0,L=g.length,V=g[L-1][0],oe=g[L-1][1],ae=0;ae<L;ae++){var re=g[ae][0],le=g[ae][1],ue=V*le-re*oe;n+=ue,r+=(V+re)*ue,$+=(oe+le)*ue,V=re,oe=le}return n?[r/n/3,$/n/3,n]:[g[0][0]||0,g[0][1]||0]}var Region$1=function(){function g(n){this.name=n}return g.prototype.setCenter=function(n){this._center=n},g.prototype.getCenter=function(){var n=this._center;return n||(n=this._center=this.calcCenter()),n},g}(),GeoJSONPolygonGeometry$1=function(){function g(n,r){this.type="polygon",this.exterior=n,this.interiors=r}return g}(),GeoJSONLineStringGeometry$1=function(){function g(n){this.type="linestring",this.points=n}return g}(),GeoJSONRegion$1=function(g){__extends$2(n,g);function n(r,$,L){var V=g.call(this,r)||this;return V.type="geoJSON",V.geometries=$,V._center=L&&[L[0],L[1]],V}return n.prototype.calcCenter=function(){for(var r=this.geometries,$,L=0,V=0;V<r.length;V++){var oe=r[V],ae=oe.exterior,re=ae&&ae.length;re>L&&($=oe,L=re)}if($)return centroid$3($.exterior);var le=this.getBoundingRect();return[le.x+le.width/2,le.y+le.height/2]},n.prototype.getBoundingRect=function(r){var $=this._rect;if($&&!r)return $;var L=[1/0,1/0],V=[-1/0,-1/0],oe=this.geometries;return each$v(oe,function(ae){ae.type==="polygon"?updateBBoxFromPoints$1(ae.exterior,L,V,r):each$v(ae.points,function(re){updateBBoxFromPoints$1(re,L,V,r)})}),isFinite(L[0])&&isFinite(L[1])&&isFinite(V[0])&&isFinite(V[1])||(L[0]=L[1]=V[0]=V[1]=0),$=new BoundingRect$3(L[0],L[1],V[0]-L[0],V[1]-L[1]),r||(this._rect=$),$},n.prototype.contain=function(r){var $=this.getBoundingRect(),L=this.geometries;if(!$.contain(r[0],r[1]))return!1;e:for(var V=0,oe=L.length;V<oe;V++){var ae=L[V];if(ae.type==="polygon"){var re=ae.exterior,le=ae.interiors;if(contain$3(re,r[0],r[1])){for(var ue=0;ue<(le?le.length:0);ue++)if(contain$3(le[ue],r[0],r[1]))continue e;return!0}}}return!1},n.prototype.transformTo=function(r,$,L,V){var oe=this.getBoundingRect(),ae=oe.width/oe.height;L?V||(V=L/ae):L=ae*V;for(var re=new BoundingRect$3(r,$,L,V),le=oe.calculateTransform(re),ue=this.geometries,de=0;de<ue.length;de++){var he=ue[de];he.type==="polygon"?(transformPoints$1(he.exterior,le),each$v(he.interiors,function(pe){transformPoints$1(pe,le)})):each$v(he.points,function(pe){transformPoints$1(pe,le)})}oe=this._rect,oe.copy(re),this._center=[oe.x+oe.width/2,oe.y+oe.height/2]},n.prototype.cloneShallow=function(r){r==null&&(r=this.name);var $=new n(r,this.geometries,this._center);return $._rect=this._rect,$.transformTo=null,$},n}(Region$1),GeoSVGRegion$1=function(g){__extends$2(n,g);function n(r,$){var L=g.call(this,r)||this;return L.type="geoSVG",L._elOnlyForCalculate=$,L}return n.prototype.calcCenter=function(){for(var r=this._elOnlyForCalculate,$=r.getBoundingRect(),L=[$.x+$.width/2,$.y+$.height/2],V=identity$1(TMP_TRANSFORM$1),oe=r;oe&&!oe.isGeoSVGGraphicRoot;)mul$1(V,oe.getLocalTransform(),V),oe=oe.parent;return invert$1(V,V),applyTransform$3(L,L,V),L},n}(Region$1);function decode$2(g){if(!g.UTF8Encoding)return g;var n=g,r=n.UTF8Scale;r==null&&(r=1024);var $=n.features;return each$v($,function(L){var V=L.geometry,oe=V.encodeOffsets,ae=V.coordinates;if(oe)switch(V.type){case"LineString":V.coordinates=decodeRing$1(ae,oe,r);break;case"Polygon":decodeRings$1(ae,oe,r);break;case"MultiLineString":decodeRings$1(ae,oe,r);break;case"MultiPolygon":each$v(ae,function(re,le){return decodeRings$1(re,oe[le],r)})}}),n.UTF8Encoding=!1,n}function decodeRings$1(g,n,r){for(var $=0;$<g.length;$++)g[$]=decodeRing$1(g[$],n[$],r)}function decodeRing$1(g,n,r){for(var $=[],L=n[0],V=n[1],oe=0;oe<g.length;oe+=2){var ae=g.charCodeAt(oe)-64,re=g.charCodeAt(oe+1)-64;ae=ae>>1^-(ae&1),re=re>>1^-(re&1),ae+=L,re+=V,L=ae,V=re,$.push([ae/r,re/r])}return $}function parseGeoJSON$1(g,n){return g=decode$2(g),map$3(filter$1(g.features,function(r){return r.geometry&&r.properties&&r.geometry.coordinates.length>0}),function(r){var $=r.properties,L=r.geometry,V=[];switch(L.type){case"Polygon":var oe=L.coordinates;V.push(new GeoJSONPolygonGeometry$1(oe[0],oe.slice(1)));break;case"MultiPolygon":each$v(L.coordinates,function(re){re[0]&&V.push(new GeoJSONPolygonGeometry$1(re[0],re.slice(1)))});break;case"LineString":V.push(new GeoJSONLineStringGeometry$1([L.coordinates]));break;case"MultiLineString":V.push(new GeoJSONLineStringGeometry$1(L.coordinates))}var ae=new GeoJSONRegion$1($[n||"name"],V,$.cp);return ae.properties=$,ae})}var inner$C=makeInner$1();function createAxisLabels$1(g){return g.type==="category"?makeCategoryLabels$1(g):makeRealNumberLabels$1(g)}function createAxisTicks$1(g,n){return g.type==="category"?makeCategoryTicks$1(g,n):{ticks:map$3(g.scale.getTicks(),function(r){return r.value})}}function makeCategoryLabels$1(g){var n=g.getLabelModel(),r=makeCategoryLabelsActually$1(g,n);return!n.get("show")||g.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function makeCategoryLabelsActually$1(g,n){var r=getListCache$1(g,"labels"),$=getOptionCategoryInterval$1(n),L=listCacheGet$1(r,$);if(L)return L;var V,oe;return isFunction$3($)?V=makeLabelsByCustomizedCategoryInterval$1(g,$):(oe=$==="auto"?makeAutoCategoryInterval$1(g):$,V=makeLabelsByNumericCategoryInterval$1(g,oe)),listCacheSet$1(r,$,{labels:V,labelCategoryInterval:oe})}function makeCategoryTicks$1(g,n){var r=getListCache$1(g,"ticks"),$=getOptionCategoryInterval$1(n),L=listCacheGet$1(r,$);if(L)return L;var V,oe;if((!n.get("show")||g.scale.isBlank())&&(V=[]),isFunction$3($))V=makeLabelsByCustomizedCategoryInterval$1(g,$,!0);else if($==="auto"){var ae=makeCategoryLabelsActually$1(g,g.getLabelModel());oe=ae.labelCategoryInterval,V=map$3(ae.labels,function(re){return re.tickValue})}else oe=$,V=makeLabelsByNumericCategoryInterval$1(g,oe,!0);return listCacheSet$1(r,$,{ticks:V,tickCategoryInterval:oe})}function makeRealNumberLabels$1(g){var n=g.scale.getTicks(),r=makeLabelFormatter$1(g);return{labels:map$3(n,function($,L){return{level:$.level,formattedLabel:r($,L),rawLabel:g.scale.getLabel($),tickValue:$.value}})}}function getListCache$1(g,n){return inner$C(g)[n]||(inner$C(g)[n]=[])}function listCacheGet$1(g,n){for(var r=0;r<g.length;r++)if(g[r].key===n)return g[r].value}function listCacheSet$1(g,n,r){return g.push({key:n,value:r}),r}function makeAutoCategoryInterval$1(g){var n=inner$C(g).autoInterval;return n!=null?n:inner$C(g).autoInterval=g.calculateCategoryInterval()}function calculateCategoryInterval$1(g){var n=fetchAutoCategoryIntervalCalculationParams$1(g),r=makeLabelFormatter$1(g),$=(n.axisRotate-n.labelRotate)/180*Math.PI,L=g.scale,V=L.getExtent(),oe=L.count();if(V[1]-V[0]<1)return 0;var ae=1;oe>40&&(ae=Math.max(1,Math.floor(oe/40)));for(var re=V[0],le=g.dataToCoord(re+1)-g.dataToCoord(re),ue=Math.abs(le*Math.cos($)),de=Math.abs(le*Math.sin($)),he=0,pe=0;re<=V[1];re+=ae){var _e=0,$e=0,xe=getBoundingRect$1(r({value:re}),n.font,"center","top");_e=xe.width*1.3,$e=xe.height*1.3,he=Math.max(he,_e,7),pe=Math.max(pe,$e,7)}var Oe=he/ue,Ce=pe/de;isNaN(Oe)&&(Oe=1/0),isNaN(Ce)&&(Ce=1/0);var Ie=Math.max(0,Math.floor(Math.min(Oe,Ce))),Ne=inner$C(g.model),ze=g.getExtent(),Fe=Ne.lastAutoInterval,Ue=Ne.lastTickCount;return Fe!=null&&Ue!=null&&Math.abs(Fe-Ie)<=1&&Math.abs(Ue-oe)<=1&&Fe>Ie&&Ne.axisExtent0===ze[0]&&Ne.axisExtent1===ze[1]?Ie=Fe:(Ne.lastTickCount=oe,Ne.lastAutoInterval=Ie,Ne.axisExtent0=ze[0],Ne.axisExtent1=ze[1]),Ie}function fetchAutoCategoryIntervalCalculationParams$1(g){var n=g.getLabelModel();return{axisRotate:g.getRotate?g.getRotate():g.isHorizontal&&!g.isHorizontal()?90:0,labelRotate:n.get("rotate")||0,font:n.getFont()}}function makeLabelsByNumericCategoryInterval$1(g,n,r){var $=makeLabelFormatter$1(g),L=g.scale,V=L.getExtent(),oe=g.getLabelModel(),ae=[],re=Math.max((n||0)+1,1),le=V[0],ue=L.count();le!==0&&re>1&&ue/re>2&&(le=Math.round(Math.ceil(le/re)*re));var de=shouldShowAllLabels$1(g),he=oe.get("showMinLabel")||de,pe=oe.get("showMaxLabel")||de;he&&le!==V[0]&&$e(V[0]);for(var _e=le;_e<=V[1];_e+=re)$e(_e);pe&&_e-re!==V[1]&&$e(V[1]);function $e(xe){var Oe={value:xe};ae.push(r?xe:{formattedLabel:$(Oe),rawLabel:L.getLabel(Oe),tickValue:xe})}return ae}function makeLabelsByCustomizedCategoryInterval$1(g,n,r){var $=g.scale,L=makeLabelFormatter$1(g),V=[];return each$v($.getTicks(),function(oe){var ae=$.getLabel(oe),re=oe.value;n(oe.value,ae)&&V.push(r?re:{formattedLabel:L(oe),rawLabel:ae,tickValue:re})}),V}var NORMALIZED_EXTENT$1=[0,1],Axis$2=function(){function g(n,r,$){this.onBand=!1,this.inverse=!1,this.dim=n,this.scale=r,this._extent=$||[0,0]}return g.prototype.contain=function(n){var r=this._extent,$=Math.min(r[0],r[1]),L=Math.max(r[0],r[1]);return n>=$&&n<=L},g.prototype.containData=function(n){return this.scale.contain(n)},g.prototype.getExtent=function(){return this._extent.slice()},g.prototype.getPixelPrecision=function(n){return getPixelPrecision$1(n||this.scale.getExtent(),this._extent)},g.prototype.setExtent=function(n,r){var $=this._extent;$[0]=n,$[1]=r},g.prototype.dataToCoord=function(n,r){var $=this._extent,L=this.scale;return n=L.normalize(n),this.onBand&&L.type==="ordinal"&&($=$.slice(),fixExtentWithBands$1($,L.count())),linearMap$5(n,NORMALIZED_EXTENT$1,$,r)},g.prototype.coordToData=function(n,r){var $=this._extent,L=this.scale;this.onBand&&L.type==="ordinal"&&($=$.slice(),fixExtentWithBands$1($,L.count()));var V=linearMap$5(n,$,NORMALIZED_EXTENT$1,r);return this.scale.scale(V)},g.prototype.pointToData=function(n,r){},g.prototype.getTicksCoords=function(n){n=n||{};var r=n.tickModel||this.getTickModel(),$=createAxisTicks$1(this,r),L=$.ticks,V=map$3(L,function(ae){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(ae):ae),tickValue:ae}},this),oe=r.get("alignWithLabel");return fixOnBandTicksCoords$1(this,V,oe,n.clamp),V},g.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var n=this.model.getModel("minorTick"),r=n.get("splitNumber");r>0&&r<100||(r=5);var $=this.scale.getMinorTicks(r),L=map$3($,function(V){return map$3(V,function(oe){return{coord:this.dataToCoord(oe),tickValue:oe}},this)},this);return L},g.prototype.getViewLabels=function(){return createAxisLabels$1(this).labels},g.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},g.prototype.getTickModel=function(){return this.model.getModel("axisTick")},g.prototype.getBandWidth=function(){var n=this._extent,r=this.scale.getExtent(),$=r[1]-r[0]+(this.onBand?1:0);$===0&&($=1);var L=Math.abs(n[1]-n[0]);return Math.abs(L)/$},g.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval$1(this)},g}();function fixExtentWithBands$1(g,n){var r=g[1]-g[0],$=n,L=r/$/2;g[0]+=L,g[1]-=L}function fixOnBandTicksCoords$1(g,n,r,$){var L=n.length;if(!g.onBand||r||!L)return;var V=g.getExtent(),oe,ae;if(L===1)n[0].coord=V[0],oe=n[1]={coord:V[0]};else{var re=n[L-1].tickValue-n[0].tickValue,le=(n[L-1].coord-n[0].coord)/re;each$v(n,function(pe){pe.coord-=le/2});var ue=g.scale.getExtent();ae=1+ue[1]-n[L-1].tickValue,oe={coord:n[L-1].coord+le*ae},n.push(oe)}var de=V[0]>V[1];he(n[0].coord,V[0])&&($?n[0].coord=V[0]:n.shift()),$&&he(V[0],n[0].coord)&&n.unshift({coord:V[0]}),he(V[1],oe.coord)&&($?oe.coord=V[1]:n.pop()),$&&he(oe.coord,V[1])&&n.push({coord:V[1]});function he(pe,_e){return pe=round$7(pe),_e=round$7(_e),de?pe>_e:pe<_e}}const Axis$3=Axis$2;var PI2$b=Math.PI*2,CMD$6=PathProxy$3.CMD,DEFAULT_SEARCH_SPACE$1=["top","right","bottom","left"];function getCandidateAnchor$1(g,n,r,$,L){var V=r.width,oe=r.height;switch(g){case"top":$.set(r.x+V/2,r.y-n),L.set(0,-1);break;case"bottom":$.set(r.x+V/2,r.y+oe+n),L.set(0,1);break;case"left":$.set(r.x-n,r.y+oe/2),L.set(-1,0);break;case"right":$.set(r.x+V+n,r.y+oe/2),L.set(1,0);break}}function projectPointToArc$1(g,n,r,$,L,V,oe,ae,re){oe-=g,ae-=n;var le=Math.sqrt(oe*oe+ae*ae);oe/=le,ae/=le;var ue=oe*r+g,de=ae*r+n;if(Math.abs($-L)%PI2$b<1e-4)return re[0]=ue,re[1]=de,le-r;if(V){var he=$;$=normalizeRadian$1(L),L=normalizeRadian$1(he)}else $=normalizeRadian$1($),L=normalizeRadian$1(L);$>L&&(L+=PI2$b);var pe=Math.atan2(ae,oe);if(pe<0&&(pe+=PI2$b),pe>=$&&pe<=L||pe+PI2$b>=$&&pe+PI2$b<=L)return re[0]=ue,re[1]=de,le-r;var _e=r*Math.cos($)+g,$e=r*Math.sin($)+n,xe=r*Math.cos(L)+g,Oe=r*Math.sin(L)+n,Ce=(_e-oe)*(_e-oe)+($e-ae)*($e-ae),Ie=(xe-oe)*(xe-oe)+(Oe-ae)*(Oe-ae);return Ce<Ie?(re[0]=_e,re[1]=$e,Math.sqrt(Ce)):(re[0]=xe,re[1]=Oe,Math.sqrt(Ie))}function projectPointToLine$1(g,n,r,$,L,V,oe,ae){var re=L-g,le=V-n,ue=r-g,de=$-n,he=Math.sqrt(ue*ue+de*de);ue/=he,de/=he;var pe=re*ue+le*de,_e=pe/he;ae&&(_e=Math.min(Math.max(_e,0),1)),_e*=he;var $e=oe[0]=g+_e*ue,xe=oe[1]=n+_e*de;return Math.sqrt(($e-L)*($e-L)+(xe-V)*(xe-V))}function projectPointToRect$1(g,n,r,$,L,V,oe){r<0&&(g=g+r,r=-r),$<0&&(n=n+$,$=-$);var ae=g+r,re=n+$,le=oe[0]=Math.min(Math.max(L,g),ae),ue=oe[1]=Math.min(Math.max(V,n),re);return Math.sqrt((le-L)*(le-L)+(ue-V)*(ue-V))}var tmpPt$1=[];function nearestPointOnRect$1(g,n,r){var $=projectPointToRect$1(n.x,n.y,n.width,n.height,g.x,g.y,tmpPt$1);return r.set(tmpPt$1[0],tmpPt$1[1]),$}function nearestPointOnPath$1(g,n,r){for(var $=0,L=0,V=0,oe=0,ae,re,le=1/0,ue=n.data,de=g.x,he=g.y,pe=0;pe<ue.length;){var _e=ue[pe++];pe===1&&($=ue[pe],L=ue[pe+1],V=$,oe=L);var $e=le;switch(_e){case CMD$6.M:V=ue[pe++],oe=ue[pe++],$=V,L=oe;break;case CMD$6.L:$e=projectPointToLine$1($,L,ue[pe],ue[pe+1],de,he,tmpPt$1,!0),$=ue[pe++],L=ue[pe++];break;case CMD$6.C:$e=cubicProjectPoint$1($,L,ue[pe++],ue[pe++],ue[pe++],ue[pe++],ue[pe],ue[pe+1],de,he,tmpPt$1),$=ue[pe++],L=ue[pe++];break;case CMD$6.Q:$e=quadraticProjectPoint$1($,L,ue[pe++],ue[pe++],ue[pe],ue[pe+1],de,he,tmpPt$1),$=ue[pe++],L=ue[pe++];break;case CMD$6.A:var xe=ue[pe++],Oe=ue[pe++],Ce=ue[pe++],Ie=ue[pe++],Ne=ue[pe++],ze=ue[pe++];pe+=1;var Fe=!!(1-ue[pe++]);ae=Math.cos(Ne)*Ce+xe,re=Math.sin(Ne)*Ie+Oe,pe<=1&&(V=ae,oe=re);var Ue=(de-xe)*Ie/Ce+xe;$e=projectPointToArc$1(xe,Oe,Ie,Ne,Ne+ze,Fe,Ue,he,tmpPt$1),$=Math.cos(Ne+ze)*Ce+xe,L=Math.sin(Ne+ze)*Ie+Oe;break;case CMD$6.R:V=$=ue[pe++],oe=L=ue[pe++];var At=ue[pe++],Et=ue[pe++];$e=projectPointToRect$1(V,oe,At,Et,de,he,tmpPt$1);break;case CMD$6.Z:$e=projectPointToLine$1($,L,V,oe,de,he,tmpPt$1,!0),$=V,L=oe;break}$e<le&&(le=$e,r.set(tmpPt$1[0],tmpPt$1[1]))}return le}var pt0$1=new Point$3,pt1$1=new Point$3,pt2$1=new Point$3,dir$1=new Point$3,dir2$1=new Point$3;function updateLabelLinePoints$1(g,n){if(g){var r=g.getTextGuideLine(),$=g.getTextContent();if($&&r){var L=g.textGuideLineConfig||{},V=[[0,0],[0,0],[0,0]],oe=L.candidates||DEFAULT_SEARCH_SPACE$1,ae=$.getBoundingRect().clone();ae.applyTransform($.getComputedTransform());var re=1/0,le=L.anchor,ue=g.getComputedTransform(),de=ue&&invert$1([],ue),he=n.get("length2")||0;le&&pt2$1.copy(le);for(var pe=0;pe<oe.length;pe++){var _e=oe[pe];getCandidateAnchor$1(_e,0,ae,pt0$1,dir$1),Point$3.scaleAndAdd(pt1$1,pt0$1,dir$1,he),pt1$1.transform(de);var $e=g.getBoundingRect(),xe=le?le.distance(pt1$1):g instanceof Path$3?nearestPointOnPath$1(pt1$1,g.path,pt2$1):nearestPointOnRect$1(pt1$1,$e,pt2$1);xe<re&&(re=xe,pt1$1.transform(ue),pt2$1.transform(ue),pt2$1.toArray(V[0]),pt1$1.toArray(V[1]),pt0$1.toArray(V[2]))}limitTurnAngle$1(V,n.get("minTurnAngle")),r.setShape({points:V})}}}var tmpArr$1=[],tmpProjPoint$1=new Point$3;function limitTurnAngle$1(g,n){if(n<=180&&n>0){n=n/180*Math.PI,pt0$1.fromArray(g[0]),pt1$1.fromArray(g[1]),pt2$1.fromArray(g[2]),Point$3.sub(dir$1,pt0$1,pt1$1),Point$3.sub(dir2$1,pt2$1,pt1$1);var r=dir$1.len(),$=dir2$1.len();if(!(r<.001||$<.001)){dir$1.scale(1/r),dir2$1.scale(1/$);var L=dir$1.dot(dir2$1),V=Math.cos(n);if(V<L){var oe=projectPointToLine$1(pt1$1.x,pt1$1.y,pt2$1.x,pt2$1.y,pt0$1.x,pt0$1.y,tmpArr$1,!1);tmpProjPoint$1.fromArray(tmpArr$1),tmpProjPoint$1.scaleAndAdd(dir2$1,oe/Math.tan(Math.PI-n));var ae=pt2$1.x!==pt1$1.x?(tmpProjPoint$1.x-pt1$1.x)/(pt2$1.x-pt1$1.x):(tmpProjPoint$1.y-pt1$1.y)/(pt2$1.y-pt1$1.y);if(isNaN(ae))return;ae<0?Point$3.copy(tmpProjPoint$1,pt1$1):ae>1&&Point$3.copy(tmpProjPoint$1,pt2$1),tmpProjPoint$1.toArray(g[1])}}}}function limitSurfaceAngle$1(g,n,r){if(r<=180&&r>0){r=r/180*Math.PI,pt0$1.fromArray(g[0]),pt1$1.fromArray(g[1]),pt2$1.fromArray(g[2]),Point$3.sub(dir$1,pt1$1,pt0$1),Point$3.sub(dir2$1,pt2$1,pt1$1);var $=dir$1.len(),L=dir2$1.len();if(!($<.001||L<.001)){dir$1.scale(1/$),dir2$1.scale(1/L);var V=dir$1.dot(n),oe=Math.cos(r);if(V<oe){var ae=projectPointToLine$1(pt1$1.x,pt1$1.y,pt2$1.x,pt2$1.y,pt0$1.x,pt0$1.y,tmpArr$1,!1);tmpProjPoint$1.fromArray(tmpArr$1);var re=Math.PI/2,le=Math.acos(dir2$1.dot(n)),ue=re+le-r;if(ue>=re)Point$3.copy(tmpProjPoint$1,pt2$1);else{tmpProjPoint$1.scaleAndAdd(dir2$1,ae/Math.tan(Math.PI/2-ue));var de=pt2$1.x!==pt1$1.x?(tmpProjPoint$1.x-pt1$1.x)/(pt2$1.x-pt1$1.x):(tmpProjPoint$1.y-pt1$1.y)/(pt2$1.y-pt1$1.y);if(isNaN(de))return;de<0?Point$3.copy(tmpProjPoint$1,pt1$1):de>1&&Point$3.copy(tmpProjPoint$1,pt2$1)}tmpProjPoint$1.toArray(g[1])}}}}function setLabelLineState$1(g,n,r,$){var L=r==="normal",V=L?g:g.ensureState(r);V.ignore=n;var oe=$.get("smooth");oe&&oe===!0&&(oe=.3),V.shape=V.shape||{},oe>0&&(V.shape.smooth=oe);var ae=$.getModel("lineStyle").getLineStyle();L?g.useStyle(ae):V.style=ae}function buildLabelLinePath$1(g,n){var r=n.smooth,$=n.points;if($)if(g.moveTo($[0][0],$[0][1]),r>0&&$.length>=3){var L=dist$3($[0],$[1]),V=dist$3($[1],$[2]);if(!L||!V){g.lineTo($[1][0],$[1][1]),g.lineTo($[2][0],$[2][1]);return}var oe=Math.min(L,V)*r,ae=lerp$3([],$[1],$[0],oe/L),re=lerp$3([],$[1],$[2],oe/V),le=lerp$3([],ae,re,.5);g.bezierCurveTo(ae[0],ae[1],ae[0],ae[1],le[0],le[1]),g.bezierCurveTo(re[0],re[1],re[0],re[1],$[2][0],$[2][1])}else for(var ue=1;ue<$.length;ue++)g.lineTo($[ue][0],$[ue][1])}function setLabelLineStyle$1(g,n,r){var $=g.getTextGuideLine(),L=g.getTextContent();if(!L){$&&g.removeTextGuideLine();return}for(var V=n.normal,oe=V.get("show"),ae=L.ignore,re=0;re<DISPLAY_STATES$1.length;re++){var le=DISPLAY_STATES$1[re],ue=n[le],de=le==="normal";if(ue){var he=ue.get("show"),pe=de?ae:retrieve2$1(L.states[le]&&L.states[le].ignore,ae);if(pe||!retrieve2$1(he,oe)){var _e=de?$:$&&$.states[le];_e&&(_e.ignore=!0);continue}$||($=new Polyline$7,g.setTextGuideLine($),!de&&(ae||!oe)&&setLabelLineState$1($,!0,"normal",n.normal),g.stateProxy&&($.stateProxy=g.stateProxy)),setLabelLineState$1($,!1,le,ue)}}if($){defaults$7($.style,r),$.style.fill=null;var $e=V.get("showAbove"),xe=g.textGuideLineConfig=g.textGuideLineConfig||{};xe.showAbove=$e||!1,$.buildPath=buildLabelLinePath$1}}function getLabelLineStatesModels$1(g,n){n=n||"labelLine";for(var r={normal:g.getModel(n)},$=0;$<SPECIAL_STATES$1.length;$++){var L=SPECIAL_STATES$1[$];r[L]=g.getModel([L,n])}return r}function prepareLayoutList$1(g){for(var n=[],r=0;r<g.length;r++){var $=g[r];if(!$.defaultAttr.ignore){var L=$.label,V=L.getComputedTransform(),oe=L.getBoundingRect(),ae=!V||V[1]<1e-5&&V[2]<1e-5,re=L.style.margin||0,le=oe.clone();le.applyTransform(V),le.x-=re/2,le.y-=re/2,le.width+=re,le.height+=re;var ue=ae?new OrientedBoundingRect$3(oe,V):null;n.push({label:L,labelLine:$.labelLine,rect:le,localRect:oe,obb:ue,priority:$.priority,defaultAttr:$.defaultAttr,layoutOption:$.computedLayoutOption,axisAligned:ae,transform:V})}}return n}function shiftLayout$1(g,n,r,$,L,V){var oe=g.length;if(oe<2)return;g.sort(function(At,Et){return At.rect[n]-Et.rect[n]});for(var ae=0,re,le=!1,ue=0,de=0;de<oe;de++){var he=g[de],pe=he.rect;re=pe[n]-ae,re<0&&(pe[n]-=re,he.label[n]-=re,le=!0);var _e=Math.max(-re,0);ue+=_e,ae=pe[n]+pe[r]}ue>0&&V&&ze(-ue/oe,0,oe);var $e=g[0],xe=g[oe-1],Oe,Ce;Ie(),Oe<0&&Fe(-Oe,.8),Ce<0&&Fe(Ce,.8),Ie(),Ne(Oe,Ce,1),Ne(Ce,Oe,-1),Ie(),Oe<0&&Ue(-Oe),Ce<0&&Ue(Ce);function Ie(){Oe=$e.rect[n]-$,Ce=L-xe.rect[n]-xe.rect[r]}function Ne(At,Et,Pt){if(At<0){var kt=Math.min(Et,-At);if(kt>0){ze(kt*Pt,0,oe);var Dt=kt+At;Dt<0&&Fe(-Dt*Pt,1)}else Fe(-At*Pt,1)}}function ze(At,Et,Pt){At!==0&&(le=!0);for(var kt=Et;kt<Pt;kt++){var Dt=g[kt],Lt=Dt.rect;Lt[n]+=At,Dt.label[n]+=At}}function Fe(At,Et){for(var Pt=[],kt=0,Dt=1;Dt<oe;Dt++){var Lt=g[Dt-1].rect,hn=Math.max(g[Dt].rect[n]-Lt[n]-Lt[r],0);Pt.push(hn),kt+=hn}if(kt){var vn=Math.min(Math.abs(At)/kt,Et);if(At>0)for(var Dt=0;Dt<oe-1;Dt++){var _n=Pt[Dt]*vn;ze(_n,0,Dt+1)}else for(var Dt=oe-1;Dt>0;Dt--){var _n=Pt[Dt-1]*vn;ze(-_n,Dt,oe)}}}function Ue(At){var Et=At<0?-1:1;At=Math.abs(At);for(var Pt=Math.ceil(At/(oe-1)),kt=0;kt<oe-1;kt++)if(Et>0?ze(Pt,0,kt+1):ze(-Pt,oe-kt-1,oe),At-=Pt,At<=0)return}return le}function shiftLayoutOnX$1(g,n,r,$){return shiftLayout$1(g,"x","width",n,r,$)}function shiftLayoutOnY$1(g,n,r,$){return shiftLayout$1(g,"y","height",n,r,$)}function hideOverlap$1(g){var n=[];g.sort(function($e,xe){return xe.priority-$e.priority});var r=new BoundingRect$3(0,0,0,0);function $($e){if(!$e.ignore){var xe=$e.ensureState("emphasis");xe.ignore==null&&(xe.ignore=!1)}$e.ignore=!0}for(var L=0;L<g.length;L++){var V=g[L],oe=V.axisAligned,ae=V.localRect,re=V.transform,le=V.label,ue=V.labelLine;r.copy(V.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var de=V.obb,he=!1,pe=0;pe<n.length;pe++){var _e=n[pe];if(r.intersect(_e.rect)){if(oe&&_e.axisAligned){he=!0;break}if(_e.obb||(_e.obb=new OrientedBoundingRect$3(_e.localRect,_e.transform)),de||(de=new OrientedBoundingRect$3(ae,re)),de.intersect(_e.obb)){he=!0;break}}}he?($(le),ue&&$(ue)):(le.attr("ignore",V.defaultAttr.ignore),ue&&ue.attr("ignore",V.defaultAttr.labelGuideIgnore),n.push(V))}}function cloneArr$1(g){if(g){for(var n=[],r=0;r<g.length;r++)n.push(g[r].slice());return n}}function prepareLayoutCallbackParams$1(g,n){var r=g.label,$=n&&n.getTextGuideLine();return{dataIndex:g.dataIndex,dataType:g.dataType,seriesIndex:g.seriesModel.seriesIndex,text:g.label.style.text,rect:g.hostRect,labelRect:g.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:cloneArr$1($&&$.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS$1=["align","verticalAlign","width","height","fontSize"],dummyTransformable$1=new Transformable$1,labelLayoutInnerStore$1=makeInner$1(),labelLineAnimationStore$1=makeInner$1();function extendWithKeys$1(g,n,r){for(var $=0;$<r.length;$++){var L=r[$];n[L]!=null&&(g[L]=n[L])}}var LABEL_LAYOUT_PROPS$1=["x","y","rotation"],LabelManager$2=function(){function g(){this._labelList=[],this._chartViewList=[]}return g.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},g.prototype._addLabel=function(n,r,$,L,V){var oe=L.style,ae=L.__hostTarget,re=ae.textConfig||{},le=L.getComputedTransform(),ue=L.getBoundingRect().plain();BoundingRect$3.applyTransform(ue,ue,le),le?dummyTransformable$1.setLocalTransform(le):(dummyTransformable$1.x=dummyTransformable$1.y=dummyTransformable$1.rotation=dummyTransformable$1.originX=dummyTransformable$1.originY=0,dummyTransformable$1.scaleX=dummyTransformable$1.scaleY=1);var de=L.__hostTarget,he;if(de){he=de.getBoundingRect().plain();var pe=de.getComputedTransform();BoundingRect$3.applyTransform(he,he,pe)}var _e=he&&de.getTextGuideLine();this._labelList.push({label:L,labelLine:_e,seriesModel:$,dataIndex:n,dataType:r,layoutOption:V,computedLayoutOption:null,rect:ue,hostRect:he,priority:he?he.width*he.height:0,defaultAttr:{ignore:L.ignore,labelGuideIgnore:_e&&_e.ignore,x:dummyTransformable$1.x,y:dummyTransformable$1.y,scaleX:dummyTransformable$1.scaleX,scaleY:dummyTransformable$1.scaleY,rotation:dummyTransformable$1.rotation,style:{x:oe.x,y:oe.y,align:oe.align,verticalAlign:oe.verticalAlign,width:oe.width,height:oe.height,fontSize:oe.fontSize},cursor:L.cursor,attachedPos:re.position,attachedRot:re.rotation}})},g.prototype.addLabelsOfSeries=function(n){var r=this;this._chartViewList.push(n);var $=n.__model,L=$.get("labelLayout");!(isFunction$3(L)||keys$2(L).length)||n.group.traverse(function(V){if(V.ignore)return!0;var oe=V.getTextContent(),ae=getECData$1(V);oe&&!oe.disableLabelLayout&&r._addLabel(ae.dataIndex,ae.dataType,$,oe,L)})},g.prototype.updateLayoutConfig=function(n){var r=n.getWidth(),$=n.getHeight();function L(Ie,Ne){return function(){updateLabelLinePoints$1(Ie,Ne)}}for(var V=0;V<this._labelList.length;V++){var oe=this._labelList[V],ae=oe.label,re=ae.__hostTarget,le=oe.defaultAttr,ue=void 0;isFunction$3(oe.layoutOption)?ue=oe.layoutOption(prepareLayoutCallbackParams$1(oe,re)):ue=oe.layoutOption,ue=ue||{},oe.computedLayoutOption=ue;var de=Math.PI/180;re&&re.setTextConfig({local:!1,position:ue.x!=null||ue.y!=null?null:le.attachedPos,rotation:ue.rotate!=null?ue.rotate*de:le.attachedRot,offset:[ue.dx||0,ue.dy||0]});var he=!1;if(ue.x!=null?(ae.x=parsePercent$2(ue.x,r),ae.setStyle("x",0),he=!0):(ae.x=le.x,ae.setStyle("x",le.style.x)),ue.y!=null?(ae.y=parsePercent$2(ue.y,$),ae.setStyle("y",0),he=!0):(ae.y=le.y,ae.setStyle("y",le.style.y)),ue.labelLinePoints){var pe=re.getTextGuideLine();pe&&(pe.setShape({points:ue.labelLinePoints}),he=!1)}var _e=labelLayoutInnerStore$1(ae);_e.needsUpdateLabelLine=he,ae.rotation=ue.rotate!=null?ue.rotate*de:le.rotation,ae.scaleX=le.scaleX,ae.scaleY=le.scaleY;for(var $e=0;$e<LABEL_OPTION_TO_STYLE_KEYS$1.length;$e++){var xe=LABEL_OPTION_TO_STYLE_KEYS$1[$e];ae.setStyle(xe,ue[xe]!=null?ue[xe]:le.style[xe])}if(ue.draggable){if(ae.draggable=!0,ae.cursor="move",re){var Oe=oe.seriesModel;if(oe.dataIndex!=null){var Ce=oe.seriesModel.getData(oe.dataType);Oe=Ce.getItemModel(oe.dataIndex)}ae.on("drag",L(re,Oe.getModel("labelLine")))}}else ae.off("drag"),ae.cursor=le.cursor}},g.prototype.layout=function(n){var r=n.getWidth(),$=n.getHeight(),L=prepareLayoutList$1(this._labelList),V=filter$1(L,function(re){return re.layoutOption.moveOverlap==="shiftX"}),oe=filter$1(L,function(re){return re.layoutOption.moveOverlap==="shiftY"});shiftLayoutOnX$1(V,0,r),shiftLayoutOnY$1(oe,0,$);var ae=filter$1(L,function(re){return re.layoutOption.hideOverlap});hideOverlap$1(ae)},g.prototype.processLabelsOverall=function(){var n=this;each$v(this._chartViewList,function(r){var $=r.__model,L=r.ignoreLabelLineUpdate,V=$.isAnimationEnabled();r.group.traverse(function(oe){if(oe.ignore&&!oe.forceLabelAnimation)return!0;var ae=!L,re=oe.getTextContent();!ae&&re&&(ae=labelLayoutInnerStore$1(re).needsUpdateLabelLine),ae&&n._updateLabelLine(oe,$),V&&n._animateLabels(oe,$)})})},g.prototype._updateLabelLine=function(n,r){var $=n.getTextContent(),L=getECData$1(n),V=L.dataIndex;if($&&V!=null){var oe=r.getData(L.dataType),ae=oe.getItemModel(V),re={},le=oe.getItemVisual(V,"style"),ue=oe.getVisual("drawType");re.stroke=le[ue];var de=ae.getModel("labelLine");setLabelLineStyle$1(n,getLabelLineStatesModels$1(ae),re),updateLabelLinePoints$1(n,de)}},g.prototype._animateLabels=function(n,r){var $=n.getTextContent(),L=n.getTextGuideLine();if($&&(n.forceLabelAnimation||!$.ignore&&!$.invisible&&!n.disableLabelAnimation&&!isElementRemoved$1(n))){var V=labelLayoutInnerStore$1($),oe=V.oldLayout,ae=getECData$1(n),re=ae.dataIndex,le={x:$.x,y:$.y,rotation:$.rotation},ue=r.getData(ae.dataType);if(oe){$.attr(oe);var de=n.prevStates;de&&(indexOf$1(de,"select")>=0&&$.attr(V.oldLayoutSelect),indexOf$1(de,"emphasis")>=0&&$.attr(V.oldLayoutEmphasis)),updateProps$3($,le,r,re)}else if($.attr(le),!labelInner$1($).valueAnimation){var he=retrieve2$1($.style.opacity,1);$.style.opacity=0,initProps$1($,{style:{opacity:he}},r,re)}if(V.oldLayout=le,$.states.select){var pe=V.oldLayoutSelect={};extendWithKeys$1(pe,le,LABEL_LAYOUT_PROPS$1),extendWithKeys$1(pe,$.states.select,LABEL_LAYOUT_PROPS$1)}if($.states.emphasis){var _e=V.oldLayoutEmphasis={};extendWithKeys$1(_e,le,LABEL_LAYOUT_PROPS$1),extendWithKeys$1(_e,$.states.emphasis,LABEL_LAYOUT_PROPS$1)}animateLabelValue$1($,re,ue,r,r)}if(L&&!L.ignore&&!L.invisible){var V=labelLineAnimationStore$1(L),oe=V.oldLayout,$e={points:L.shape.points};oe?(L.attr({shape:oe}),updateProps$3(L,{shape:$e},r)):(L.setShape($e),L.style.strokePercent=0,initProps$1(L,{style:{strokePercent:1}},r)),V.oldLayout=$e}},g}();const LabelManager$3=LabelManager$2;var getLabelManager$1=makeInner$1();function installLabelLayout$1(g){g.registerUpdateLifecycle("series:beforeupdate",function(n,r,$){var L=getLabelManager$1(r).labelManager;L||(L=getLabelManager$1(r).labelManager=new LabelManager$3),L.clearLabels()}),g.registerUpdateLifecycle("series:layoutlabels",function(n,r,$){var L=getLabelManager$1(r).labelManager;$.updatedSeries.forEach(function(V){L.addLabelsOfSeries(r.getViewOfSeriesModel(V))}),L.updateLayoutConfig(r),L.layout(r),L.processLabelsOverall()})}var mathSin$5=Math.sin,mathCos$5=Math.cos,PI$d=Math.PI,PI2$a=Math.PI*2,degree$1=180/PI$d,SVGPathRebuilder$2=function(){function g(){}return g.prototype.reset=function(n){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,n||4)},g.prototype.moveTo=function(n,r){this._add("M",n,r)},g.prototype.lineTo=function(n,r){this._add("L",n,r)},g.prototype.bezierCurveTo=function(n,r,$,L,V,oe){this._add("C",n,r,$,L,V,oe)},g.prototype.quadraticCurveTo=function(n,r,$,L){this._add("Q",n,r,$,L)},g.prototype.arc=function(n,r,$,L,V,oe){this.ellipse(n,r,$,$,0,L,V,oe)},g.prototype.ellipse=function(n,r,$,L,V,oe,ae,re){var le=ae-oe,ue=!re,de=Math.abs(le),he=isAroundZero$2(de-PI2$a)||(ue?le>=PI2$a:-le>=PI2$a),pe=le>0?le%PI2$a:le%PI2$a+PI2$a,_e=!1;he?_e=!0:isAroundZero$2(de)?_e=!1:_e=pe>=PI$d==!!ue;var $e=n+$*mathCos$5(oe),xe=r+L*mathSin$5(oe);this._start&&this._add("M",$e,xe);var Oe=Math.round(V*degree$1);if(he){var Ce=1/this._p,Ie=(ue?1:-1)*(PI2$a-Ce);this._add("A",$,L,Oe,1,+ue,n+$*mathCos$5(oe+Ie),r+L*mathSin$5(oe+Ie)),Ce>.01&&this._add("A",$,L,Oe,0,+ue,$e,xe)}else{var Ne=n+$*mathCos$5(ae),ze=r+L*mathSin$5(ae);this._add("A",$,L,Oe,+_e,+ue,Ne,ze)}},g.prototype.rect=function(n,r,$,L){this._add("M",n,r),this._add("l",$,0),this._add("l",0,L),this._add("l",-$,0),this._add("Z")},g.prototype.closePath=function(){this._d.length>0&&this._add("Z")},g.prototype._add=function(n,r,$,L,V,oe,ae,re,le){for(var ue=[],de=this._p,he=1;he<arguments.length;he++){var pe=arguments[he];if(isNaN(pe)){this._invalid=!0;return}ue.push(Math.round(pe*de)/de)}this._d.push(n+ue.join(" ")),this._start=n==="Z"},g.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},g.prototype.getStr=function(){return this._str},g}();const SVGPathRebuilder$3=SVGPathRebuilder$2;var NONE$1="none",mathRound$2=Math.round;function pathHasFill$1(g){var n=g.fill;return n!=null&&n!==NONE$1}function pathHasStroke$1(g){var n=g.stroke;return n!=null&&n!==NONE$1}var strokeProps$1=["lineCap","miterLimit","lineJoin"],svgStrokeProps$1=map$3(strokeProps$1,function(g){return"stroke-"+g.toLowerCase()});function mapStyleToAttrs$1(g,n,r,$){var L=n.opacity==null?1:n.opacity;if(r instanceof ZRImage$3){g("opacity",L);return}if(pathHasFill$1(n)){var V=normalizeColor$1(n.fill);g("fill",V.color);var oe=n.fillOpacity!=null?n.fillOpacity*V.opacity*L:V.opacity*L;($||oe<1)&&g("fill-opacity",oe)}else g("fill",NONE$1);if(pathHasStroke$1(n)){var ae=normalizeColor$1(n.stroke);g("stroke",ae.color);var re=n.strokeNoScale?r.getLineScale():1,le=re?(n.lineWidth||0)/re:0,ue=n.strokeOpacity!=null?n.strokeOpacity*ae.opacity*L:ae.opacity*L,de=n.strokeFirst;if(($||le!==1)&&g("stroke-width",le),($||de)&&g("paint-order",de?"stroke":"fill"),($||ue<1)&&g("stroke-opacity",ue),n.lineDash){var he=getLineDash$1(r),pe=he[0],_e=he[1];pe&&(_e=mathRound$2(_e||0),g("stroke-dasharray",pe.join(",")),(_e||$)&&g("stroke-dashoffset",_e))}else $&&g("stroke-dasharray",NONE$1);for(var $e=0;$e<strokeProps$1.length;$e++){var xe=strokeProps$1[$e];if($||n[xe]!==DEFAULT_PATH_STYLE$1[xe]){var Oe=n[xe]||DEFAULT_PATH_STYLE$1[xe];Oe&&g(svgStrokeProps$1[$e],Oe)}}}else $&&g("stroke",NONE$1)}var SVGNS$1="http://www.w3.org/2000/svg",XLINKNS$1="http://www.w3.org/1999/xlink",XMLNS$1="http://www.w3.org/2000/xmlns/",XML_NAMESPACE$1="http://www.w3.org/XML/1998/namespace";function createElement$1(g){return document.createElementNS(SVGNS$1,g)}function createVNode$1(g,n,r,$,L){return{tag:g,attrs:r||{},children:$,text:L,key:n}}function createElementOpen$1(g,n){var r=[];if(n)for(var $ in n){var L=n[$],V=$;L!==!1&&(L!==!0&&L!=null&&(V+='="'+L+'"'),r.push(V))}return"<"+g+" "+r.join(" ")+">"}function createElementClose$1(g){return"</"+g+">"}function vNodeToString$1(g,n){n=n||{};var r=n.newline?`
`:"";function $(L){var V=L.children,oe=L.tag,ae=L.attrs;return createElementOpen$1(oe,ae)+encodeHTML$1(L.text)+(V?""+r+map$3(V,function(re){return $(re)}).join(r)+r:"")+createElementClose$1(oe)}return $(g)}function getCssString$1(g,n,r){r=r||{};var $=r.newline?`
`:"",L=" {"+$,V=$+"}",oe=map$3(keys$2(g),function(re){return re+L+map$3(keys$2(g[re]),function(le){return le+":"+g[re][le]+";"}).join($)+V}).join($),ae=map$3(keys$2(n),function(re){return"@keyframes "+re+L+map$3(keys$2(n[re]),function(le){return le+L+map$3(keys$2(n[re][le]),function(ue){var de=n[re][le][ue];return ue==="d"&&(de='path("'+de+'")'),ue+":"+de+";"}).join($)+V}).join($)+V}).join($);return!oe&&!ae?"":["<![CDATA[",oe,ae,"]]>"].join($)}function createBrushScope$1(g){return{zrId:g,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode$1(g,n,r,$){return createVNode$1("svg","root",{width:g,height:n,xmlns:SVGNS$1,"xmlns:xlink":XLINKNS$1,version:"1.1",baseProfile:"full",viewBox:$?"0 0 "+g+" "+n:!1},r)}var EASING_MAP$1={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey$1="transform-origin";function buildPathString$1(g,n,r){var $=extend$4({},g.shape);extend$4($,n),g.buildPath(r,$);var L=new SVGPathRebuilder$3;return L.reset(getPathPrecision$1(g)),r.rebuildPath(L,1),L.generateStr(),L.getStr()}function setTransformOrigin$1(g,n){var r=n.originX,$=n.originY;(r||$)&&(g[transformOriginKey$1]=r+"px "+$+"px")}var ANIMATE_STYLE_MAP$1={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation$1(g,n){var r=n.zrId+"-ani-"+n.cssAnimIdx++;return n.cssAnims[r]=g,r}function createCompoundPathCSSAnimation$1(g,n,r){var $=g.shape.paths,L={},V,oe;if(each$v($,function(re){var le=createBrushScope$1(r.zrId);le.animation=!0,createCSSAnimation$1(re,{},le,!0);var ue=le.cssAnims,de=le.cssNodes,he=keys$2(ue),pe=he.length;if(pe){oe=he[pe-1];var _e=ue[oe];for(var $e in _e){var xe=_e[$e];L[$e]=L[$e]||{d:""},L[$e].d+=xe.d||""}for(var Oe in de){var Ce=de[Oe].animation;Ce.indexOf(oe)>=0&&(V=Ce)}}}),!!V){n.d=!1;var ae=addAnimation$1(L,r);return V.replace(oe,ae)}}function getEasingFunc$1(g){return isString$3(g)?EASING_MAP$1[g]?"cubic-bezier("+EASING_MAP$1[g]+")":createCubicEasingFunc$1(g)?g:"":""}function createCSSAnimation$1(g,n,r,$){var L=g.animators,V=L.length,oe=[];if(g instanceof CompoundPath$3){var ae=createCompoundPathCSSAnimation$1(g,n,r);if(ae)oe.push(ae);else if(!V)return}else if(!V)return;for(var re={},le=0;le<V;le++){var ue=L[le],de=[ue.getMaxTime()/1e3+"s"],he=getEasingFunc$1(ue.getClip().easing),pe=ue.getDelay();he?de.push(he):de.push("linear"),pe&&de.push(pe/1e3+"s"),ue.getLoop()&&de.push("infinite");var _e=de.join(" ");re[_e]=re[_e]||[_e,[]],re[_e][1].push(ue)}function $e(Ce){var Ie=Ce[1],Ne=Ie.length,ze={},Fe={},Ue={},At="animation-timing-function";function Et(kn,Nn,Vn){for(var Ln=kn.getTracks(),Tn=kn.getMaxTime(),In=0;In<Ln.length;In++){var Bn=Ln[In];if(Bn.needsAnimate()){var Qn=Bn.keyframes,Zn=Bn.propName;if(Vn&&(Zn=Vn(Zn)),Zn)for(var Kn=0;Kn<Qn.length;Kn++){var ui=Qn[Kn],ei=Math.round(ui.time/Tn*100)+"%",si=getEasingFunc$1(ui.easing),ti=ui.rawValue;(isString$3(ti)||isNumber$3(ti))&&(Nn[ei]=Nn[ei]||{},Nn[ei][Zn]=ui.rawValue,si&&(Nn[ei][At]=si))}}}}for(var Pt=0;Pt<Ne;Pt++){var kt=Ie[Pt],Dt=kt.targetName;Dt?Dt==="shape"&&Et(kt,Fe):!$&&Et(kt,ze)}for(var Lt in ze){var hn={};copyTransform$1(hn,g),extend$4(hn,ze[Lt]);var vn=getSRTTransformString$1(hn),_n=ze[Lt][At];Ue[Lt]=vn?{transform:vn}:{},setTransformOrigin$1(Ue[Lt],hn),_n&&(Ue[Lt][At]=_n)}var $n,Sn=!0;for(var Lt in Fe){Ue[Lt]=Ue[Lt]||{};var xn=!$n,_n=Fe[Lt][At];xn&&($n=new PathProxy$3);var On=$n.len();$n.reset(),Ue[Lt].d=buildPathString$1(g,Fe[Lt],$n);var Cn=$n.len();if(!xn&&On!==Cn){Sn=!1;break}_n&&(Ue[Lt][At]=_n)}if(!Sn)for(var Lt in Ue)delete Ue[Lt].d;if(!$)for(var Pt=0;Pt<Ne;Pt++){var kt=Ie[Pt],Dt=kt.targetName;Dt==="style"&&Et(kt,Ue,function(Ln){return ANIMATE_STYLE_MAP$1[Ln]})}for(var An=keys$2(Ue),Rn=!0,Fn,Pt=1;Pt<An.length;Pt++){var Pn=An[Pt-1],Un=An[Pt];if(Ue[Pn][transformOriginKey$1]!==Ue[Un][transformOriginKey$1]){Rn=!1;break}Fn=Ue[Pn][transformOriginKey$1]}if(Rn&&Fn){for(var Lt in Ue)Ue[Lt][transformOriginKey$1]&&delete Ue[Lt][transformOriginKey$1];n[transformOriginKey$1]=Fn}if(filter$1(An,function(kn){return keys$2(Ue[kn]).length>0}).length){var Dn=addAnimation$1(Ue,r);return Dn+" "+Ce[0]+" both"}}for(var xe in re){var ae=$e(re[xe]);ae&&oe.push(ae)}if(oe.length){var Oe=r.zrId+"-cls-"+r.cssClassIdx++;r.cssNodes["."+Oe]={animation:oe.join(",")},n.class=Oe}}var round$5=Math.round;function isImageLike$2(g){return g&&isString$3(g.src)}function isCanvasLike$1(g){return g&&isFunction$3(g.toDataURL)}function setStyleAttrs$1(g,n,r,$){mapStyleToAttrs$1(function(L,V){var oe=L==="fill"||L==="stroke";oe&&isGradient$1(V)?setGradient$1(n,g,L,$):oe&&isPattern$1(V)?setPattern$1(r,g,L,$):g[L]=V},n,r,!1),setShadow$1(r,g,$)}function noRotateScale$1(g){return isAroundZero$2(g[0]-1)&&isAroundZero$2(g[1])&&isAroundZero$2(g[2])&&isAroundZero$2(g[3]-1)}function noTranslate$1(g){return isAroundZero$2(g[4])&&isAroundZero$2(g[5])}function setTransform$1(g,n,r){if(n&&!(noTranslate$1(n)&&noRotateScale$1(n))){var $=r?10:1e4;g.transform=noRotateScale$1(n)?"translate("+round$5(n[4]*$)/$+" "+round$5(n[5]*$)/$+")":getMatrixStr$1(n)}}function convertPolyShape$1(g,n,r){for(var $=g.points,L=[],V=0;V<$.length;V++)L.push(round$5($[V][0]*r)/r),L.push(round$5($[V][1]*r)/r);n.points=L.join(" ")}function validatePolyShape$1(g){return!g.smooth}function createAttrsConvert$1(g){var n=map$3(g,function(r){return typeof r=="string"?[r,r]:r});return function(r,$,L){for(var V=0;V<n.length;V++){var oe=n[V],ae=r[oe[0]];ae!=null&&($[oe[1]]=round$5(ae*L)/L)}}}var builtinShapesDef$1={circle:[createAttrsConvert$1(["cx","cy","r"])],polyline:[convertPolyShape$1,validatePolyShape$1],polygon:[convertPolyShape$1,validatePolyShape$1]};function hasShapeAnimation$1(g){for(var n=g.animators,r=0;r<n.length;r++)if(n[r].targetName==="shape")return!0;return!1}function brushSVGPath$1(g,n){var r=g.style,$=g.shape,L=builtinShapesDef$1[g.type],V={},oe=n.animation,ae="path",re=g.style.strokePercent,le=n.compress&&getPathPrecision$1(g)||4;if(L&&!n.willUpdate&&!(L[1]&&!L[1]($))&&!(oe&&hasShapeAnimation$1(g))&&!(re<1)){ae=g.type;var ue=Math.pow(10,le);L[0]($,V,ue)}else{var de=!g.path||g.shapeChanged();g.path||g.createPathProxy();var he=g.path;de&&(he.beginPath(),g.buildPath(he,g.shape),g.pathUpdated());var pe=he.getVersion(),_e=g,$e=_e.__svgPathBuilder;(_e.__svgPathVersion!==pe||!$e||re!==_e.__svgPathStrokePercent)&&($e||($e=_e.__svgPathBuilder=new SVGPathRebuilder$3),$e.reset(le),he.rebuildPath($e,re),$e.generateStr(),_e.__svgPathVersion=pe,_e.__svgPathStrokePercent=re),V.d=$e.getStr()}return setTransform$1(V,g.transform),setStyleAttrs$1(V,r,g,n),n.animation&&createCSSAnimation$1(g,V,n),createVNode$1(ae,g.id+"",V)}function brushSVGImage$1(g,n){var r=g.style,$=r.image;if($&&!isString$3($)&&(isImageLike$2($)?$=$.src:isCanvasLike$1($)&&($=$.toDataURL())),!!$){var L=r.x||0,V=r.y||0,oe=r.width,ae=r.height,re={href:$,width:oe,height:ae};return L&&(re.x=L),V&&(re.y=V),setTransform$1(re,g.transform),setStyleAttrs$1(re,r,g,n),n.animation&&createCSSAnimation$1(g,re,n),createVNode$1("image",g.id+"",re)}}function brushSVGTSpan$1(g,n){var r=g.style,$=r.text;if($!=null&&($+=""),!(!$||isNaN(r.x)||isNaN(r.y))){var L=r.font||DEFAULT_FONT$1,V=r.x||0,oe=adjustTextY$3(r.y||0,getLineHeight$1(L),r.textBaseline),ae=TEXT_ALIGN_TO_ANCHOR$1[r.textAlign]||r.textAlign,re={"dominant-baseline":"central","text-anchor":ae};if(hasSeparateFont$1(r)){var le="",ue=r.fontStyle,de=parseFontSize$1(r.fontSize);if(!parseFloat(de))return;var he=r.fontFamily||DEFAULT_FONT_FAMILY$1,pe=r.fontWeight;le+="font-size:"+de+";font-family:"+he+";",ue&&ue!=="normal"&&(le+="font-style:"+ue+";"),pe&&pe!=="normal"&&(le+="font-weight:"+pe+";"),re.style=le}else re.style="font: "+L;return $.match(/\s/)&&(re["xml:space"]="preserve"),V&&(re.x=V),oe&&(re.y=oe),setTransform$1(re,g.transform),setStyleAttrs$1(re,r,g,n),n.animation&&createCSSAnimation$1(g,re,n),createVNode$1("text",g.id+"",re,void 0,$)}}function brush$2(g,n){if(g instanceof Path$3)return brushSVGPath$1(g,n);if(g instanceof ZRImage$3)return brushSVGImage$1(g,n);if(g instanceof TSpan$3)return brushSVGTSpan$1(g,n)}function setShadow$1(g,n,r){var $=g.style;if(hasShadow$1($)){var L=getShadowKey$1(g),V=r.shadowCache,oe=V[L];if(!oe){var ae=g.getGlobalScale(),re=ae[0],le=ae[1];if(!re||!le)return;var ue=$.shadowOffsetX||0,de=$.shadowOffsetY||0,he=$.shadowBlur,pe=normalizeColor$1($.shadowColor),_e=pe.opacity,$e=pe.color,xe=he/2/re,Oe=he/2/le,Ce=xe+" "+Oe;oe=r.zrId+"-s"+r.shadowIdx++,r.defs[oe]=createVNode$1("filter",oe,{id:oe,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode$1("feDropShadow","",{dx:ue/re,dy:de/le,stdDeviation:Ce,"flood-color":$e,"flood-opacity":_e})]),V[L]=oe}n.filter=getIdURL$1(oe)}}function setGradient$1(g,n,r,$){var L=g[r],V,oe={gradientUnits:L.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient$1(L))V="linearGradient",oe.x1=L.x,oe.y1=L.y,oe.x2=L.x2,oe.y2=L.y2;else if(isRadialGradient$1(L))V="radialGradient",oe.cx=retrieve2$1(L.x,.5),oe.cy=retrieve2$1(L.y,.5),oe.r=retrieve2$1(L.r,.5);else return;for(var ae=L.colorStops,re=[],le=0,ue=ae.length;le<ue;++le){var de=round4$1(ae[le].offset)*100+"%",he=ae[le].color,pe=normalizeColor$1(he),_e=pe.color,$e=pe.opacity,xe={offset:de};xe["stop-color"]=_e,$e<1&&(xe["stop-opacity"]=$e),re.push(createVNode$1("stop",le+"",xe))}var Oe=createVNode$1(V,"",oe,re),Ce=vNodeToString$1(Oe),Ie=$.gradientCache,Ne=Ie[Ce];Ne||(Ne=$.zrId+"-g"+$.gradientIdx++,Ie[Ce]=Ne,oe.id=Ne,$.defs[Ne]=createVNode$1(V,Ne,oe,re)),n[r]=getIdURL$1(Ne)}function setPattern$1(g,n,r,$){var L=g.style[r],V=g.getBoundingRect(),oe={},ae=L.repeat,re=ae==="no-repeat",le=ae==="repeat-x",ue=ae==="repeat-y",de;if(isImagePattern$1(L)){var he=L.imageWidth,pe=L.imageHeight,_e=void 0,$e=L.image;if(isString$3($e)?_e=$e:isImageLike$2($e)?_e=$e.src:isCanvasLike$1($e)&&(_e=$e.toDataURL()),typeof Image>"u"){var xe="Image width/height must been given explictly in svg-ssr renderer.";assert$1(he,xe),assert$1(pe,xe)}else if(he==null||pe==null){var Oe=function(Pt,kt){if(Pt){var Dt=Pt.elm,Lt=he||kt.width,hn=pe||kt.height;Pt.tag==="pattern"&&(le?(hn=1,Lt/=V.width):ue&&(Lt=1,hn/=V.height)),Pt.attrs.width=Lt,Pt.attrs.height=hn,Dt&&(Dt.setAttribute("width",Lt),Dt.setAttribute("height",hn))}},Ce=createOrUpdateImage$1(_e,null,g,function(Pt){re||Oe(Fe,Pt),Oe(de,Pt)});Ce&&Ce.width&&Ce.height&&(he=he||Ce.width,pe=pe||Ce.height)}de=createVNode$1("image","img",{href:_e,width:he,height:pe}),oe.width=he,oe.height=pe}else L.svgElement&&(de=clone$9(L.svgElement),oe.width=L.svgWidth,oe.height=L.svgHeight);if(de){var Ie,Ne;re?Ie=Ne=1:le?(Ne=1,Ie=oe.width/V.width):ue?(Ie=1,Ne=oe.height/V.height):oe.patternUnits="userSpaceOnUse",Ie!=null&&!isNaN(Ie)&&(oe.width=Ie),Ne!=null&&!isNaN(Ne)&&(oe.height=Ne);var ze=getSRTTransformString$1(L);ze&&(oe.patternTransform=ze);var Fe=createVNode$1("pattern","",oe,[de]),Ue=vNodeToString$1(Fe),At=$.patternCache,Et=At[Ue];Et||(Et=$.zrId+"-p"+$.patternIdx++,At[Ue]=Et,oe.id=Et,Fe=$.defs[Et]=createVNode$1("pattern",Et,oe,[de])),n[r]=getIdURL$1(Et)}}function setClipPath$1(g,n,r){var $=r.clipPathCache,L=r.defs,V=$[g.id];if(!V){V=r.zrId+"-c"+r.clipPathIdx++;var oe={id:V};$[g.id]=V,L[V]=createVNode$1("clipPath",V,oe,[brushSVGPath$1(g,r)])}n["clip-path"]=getIdURL$1(V)}function createTextNode$1(g){return document.createTextNode(g)}function insertBefore$1(g,n,r){g.insertBefore(n,r)}function removeChild$1(g,n){g.removeChild(n)}function appendChild$1(g,n){g.appendChild(n)}function parentNode$1(g){return g.parentNode}function nextSibling$1(g){return g.nextSibling}function setTextContent$1(g,n){g.textContent=n}var colonChar$1=58,xChar$1=120,emptyNode$1=createVNode$1("","");function isUndef$1(g){return g===void 0}function isDef$1(g){return g!==void 0}function createKeyToOldIdx$1(g,n,r){for(var $={},L=n;L<=r;++L){var V=g[L].key;V!==void 0&&($[V]=L)}return $}function sameVnode$1(g,n){var r=g.key===n.key,$=g.tag===n.tag;return $&&r}function createElm$1(g){var n,r=g.children,$=g.tag;if(isDef$1($)){var L=g.elm=createElement$1($);if(updateAttrs$2(emptyNode$1,g),isArray$6(r))for(n=0;n<r.length;++n){var V=r[n];V!=null&&appendChild$1(L,createElm$1(V))}else isDef$1(g.text)&&!isObject$9(g.text)&&appendChild$1(L,createTextNode$1(g.text))}else g.elm=createTextNode$1(g.text);return g.elm}function addVnodes$1(g,n,r,$,L){for(;$<=L;++$){var V=r[$];V!=null&&insertBefore$1(g,createElm$1(V),n)}}function removeVnodes$1(g,n,r,$){for(;r<=$;++r){var L=n[r];if(L!=null)if(isDef$1(L.tag)){var V=parentNode$1(L.elm);removeChild$1(V,L.elm)}else removeChild$1(g,L.elm)}}function updateAttrs$2(g,n){var r,$=n.elm,L=g&&g.attrs||{},V=n.attrs||{};if(L!==V){for(r in V){var oe=V[r],ae=L[r];ae!==oe&&(oe===!0?$.setAttribute(r,""):oe===!1?$.removeAttribute(r):r.charCodeAt(0)!==xChar$1?$.setAttribute(r,oe):r==="xmlns:xlink"||r==="xmlns"?$.setAttributeNS(XMLNS$1,r,oe):r.charCodeAt(3)===colonChar$1?$.setAttributeNS(XML_NAMESPACE$1,r,oe):r.charCodeAt(5)===colonChar$1?$.setAttributeNS(XLINKNS$1,r,oe):$.setAttribute(r,oe))}for(r in L)r in V||$.removeAttribute(r)}}function updateChildren$1(g,n,r){for(var $=0,L=0,V=n.length-1,oe=n[0],ae=n[V],re=r.length-1,le=r[0],ue=r[re],de,he,pe,_e;$<=V&&L<=re;)oe==null?oe=n[++$]:ae==null?ae=n[--V]:le==null?le=r[++L]:ue==null?ue=r[--re]:sameVnode$1(oe,le)?(patchVnode$1(oe,le),oe=n[++$],le=r[++L]):sameVnode$1(ae,ue)?(patchVnode$1(ae,ue),ae=n[--V],ue=r[--re]):sameVnode$1(oe,ue)?(patchVnode$1(oe,ue),insertBefore$1(g,oe.elm,nextSibling$1(ae.elm)),oe=n[++$],ue=r[--re]):sameVnode$1(ae,le)?(patchVnode$1(ae,le),insertBefore$1(g,ae.elm,oe.elm),ae=n[--V],le=r[++L]):(isUndef$1(de)&&(de=createKeyToOldIdx$1(n,$,V)),he=de[le.key],isUndef$1(he)?insertBefore$1(g,createElm$1(le),oe.elm):(pe=n[he],pe.tag!==le.tag?insertBefore$1(g,createElm$1(le),oe.elm):(patchVnode$1(pe,le),n[he]=void 0,insertBefore$1(g,pe.elm,oe.elm))),le=r[++L]);($<=V||L<=re)&&($>V?(_e=r[re+1]==null?null:r[re+1].elm,addVnodes$1(g,_e,r,L,re)):removeVnodes$1(g,n,$,V))}function patchVnode$1(g,n){var r=n.elm=g.elm,$=g.children,L=n.children;g!==n&&(updateAttrs$2(g,n),isUndef$1(n.text)?isDef$1($)&&isDef$1(L)?$!==L&&updateChildren$1(r,$,L):isDef$1(L)?(isDef$1(g.text)&&setTextContent$1(r,""),addVnodes$1(r,null,L,0,L.length-1)):isDef$1($)?removeVnodes$1(r,$,0,$.length-1):isDef$1(g.text)&&setTextContent$1(r,""):g.text!==n.text&&(isDef$1($)&&removeVnodes$1(r,$,0,$.length-1),setTextContent$1(r,n.text)))}function patch$1(g,n){if(sameVnode$1(g,n))patchVnode$1(g,n);else{var r=g.elm,$=parentNode$1(r);createElm$1(n),$!==null&&(insertBefore$1($,n.elm,nextSibling$1(r)),removeVnodes$1($,[g],0,0))}return n}var svgId$1=0,SVGPainter$2=function(){function g(n,r,$){if(this.type="svg",this.refreshHover=createMethodNotSupport$1(),this.configLayer=createMethodNotSupport$1(),this.storage=r,this._opts=$=extend$4({},$),this.root=n,this._id="zr"+svgId$1++,this._oldVNode=createSVGVNode$1($.width,$.height),n&&!$.ssr){var L=this._viewport=document.createElement("div");L.style.cssText="position:relative;overflow:hidden";var V=this._svgDom=this._oldVNode.elm=createElement$1("svg");updateAttrs$2(null,this._oldVNode),L.appendChild(V),n.appendChild(L)}this.resize($.width,$.height)}return g.prototype.getType=function(){return this.type},g.prototype.getViewportRoot=function(){return this._viewport},g.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},g.prototype.getSvgDom=function(){return this._svgDom},g.prototype.refresh=function(){if(this.root){var n=this.renderToVNode({willUpdate:!0});n.attrs.style="position:absolute;left:0;top:0;user-select:none",patch$1(this._oldVNode,n),this._oldVNode=n}},g.prototype.renderOneToVNode=function(n){return brush$2(n,createBrushScope$1(this._id))},g.prototype.renderToVNode=function(n){n=n||{};var r=this.storage.getDisplayList(!0),$=this._width,L=this._height,V=createBrushScope$1(this._id);V.animation=n.animation,V.willUpdate=n.willUpdate,V.compress=n.compress;var oe=[],ae=this._bgVNode=createBackgroundVNode$1($,L,this._backgroundColor,V);ae&&oe.push(ae);var re=n.compress?null:this._mainVNode=createVNode$1("g","main",{},[]);this._paintList(r,V,re?re.children:oe),re&&oe.push(re);var le=map$3(keys$2(V.defs),function(he){return V.defs[he]});if(le.length&&oe.push(createVNode$1("defs","defs",{},le)),n.animation){var ue=getCssString$1(V.cssNodes,V.cssAnims,{newline:!0});if(ue){var de=createVNode$1("style","stl",{},[],ue);oe.push(de)}}return createSVGVNode$1($,L,oe,n.useViewBox)},g.prototype.renderToString=function(n){return n=n||{},vNodeToString$1(this.renderToVNode({animation:retrieve2$1(n.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2$1(n.useViewBox,!0)}),{newline:!0})},g.prototype.setBackgroundColor=function(n){this._backgroundColor=n},g.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},g.prototype._paintList=function(n,r,$){for(var L=n.length,V=[],oe=0,ae,re,le=0,ue=0;ue<L;ue++){var de=n[ue];if(!de.invisible){var he=de.__clipPaths,pe=he&&he.length||0,_e=re&&re.length||0,$e=void 0;for($e=Math.max(pe-1,_e-1);$e>=0&&!(he&&re&&he[$e]===re[$e]);$e--);for(var xe=_e-1;xe>$e;xe--)oe--,ae=V[oe-1];for(var Oe=$e+1;Oe<pe;Oe++){var Ce={};setClipPath$1(he[Oe],Ce,r);var Ie=createVNode$1("g","clip-g-"+le++,Ce,[]);(ae?ae.children:$).push(Ie),V[oe++]=Ie,ae=Ie}re=he;var Ne=brush$2(de,r);Ne&&(ae?ae.children:$).push(Ne)}}},g.prototype.resize=function(n,r){var $=this._opts,L=this.root,V=this._viewport;if(n!=null&&($.width=n),r!=null&&($.height=r),L&&V&&(V.style.display="none",n=getSize$3(L,0,$),r=getSize$3(L,1,$),V.style.display=""),this._width!==n||this._height!==r){if(this._width=n,this._height=r,V){var oe=V.style;oe.width=n+"px",oe.height=r+"px"}if(isPattern$1(this._backgroundColor))this.refresh();else{var ae=this._svgDom;ae&&(ae.setAttribute("width",n),ae.setAttribute("height",r));var re=this._bgVNode&&this._bgVNode.elm;re&&(re.setAttribute("width",n),re.setAttribute("height",r))}}},g.prototype.getWidth=function(){return this._width},g.prototype.getHeight=function(){return this._height},g.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},g.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},g.prototype.toDataURL=function(n){var r=this.renderToString(),$="data:image/svg+xml;";return n?(r=encodeBase64$1(r),r&&$+"base64,"+r):$+"charset=UTF-8,"+encodeURIComponent(r)},g}();function createMethodNotSupport$1(g){return function(){}}function createBackgroundVNode$1(g,n,r,$){var L;if(r&&r!=="none")if(L=createVNode$1("rect","bg",{width:g,height:n,x:"0",y:"0",id:"0"}),isGradient$1(r))setGradient$1({fill:r},L.attrs,"fill",$);else if(isPattern$1(r))setPattern$1({style:{fill:r},dirty:noop$4,getBoundingRect:function(){return{width:g,height:n}}},L.attrs,"fill",$);else{var V=normalizeColor$1(r),oe=V.color,ae=V.opacity;L.attrs.fill=oe,ae<1&&(L.attrs["fill-opacity"]=ae)}return L}const SVGPainter$3=SVGPainter$2;function install$1L(g){g.registerPainter("svg",SVGPainter$3)}function createDom$1(g,n,r){var $=platformApi$1.createCanvas(),L=n.getWidth(),V=n.getHeight(),oe=$.style;return oe&&(oe.position="absolute",oe.left="0",oe.top="0",oe.width=L+"px",oe.height=V+"px",$.setAttribute("data-zr-dom-id",g)),$.width=L*r,$.height=V*r,$}var Layer$2=function(g){__extends$1(n,g);function n(r,$,L){var V=g.call(this)||this;V.motionBlur=!1,V.lastFrameAlpha=.7,V.dpr=1,V.virtual=!1,V.config={},V.incremental=!1,V.zlevel=0,V.maxRepaintRectCount=5,V.__dirty=!0,V.__firstTimePaint=!0,V.__used=!1,V.__drawIndex=0,V.__startIndex=0,V.__endIndex=0,V.__prevStartIndex=null,V.__prevEndIndex=null;var oe;L=L||devicePixelRatio$1,typeof r=="string"?oe=createDom$1(r,$,L):isObject$9(r)&&(oe=r,r=oe.id),V.id=r,V.dom=oe;var ae=oe.style;return ae&&(disableUserSelect$1(oe),oe.onselectstart=function(){return!1},ae.padding="0",ae.margin="0",ae.borderWidth="0"),V.painter=$,V.dpr=L,V}return n.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},n.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},n.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},n.prototype.setUnpainted=function(){this.__firstTimePaint=!0},n.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=createDom$1("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},n.prototype.createRepaintRects=function(r,$,L,V){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var oe=[],ae=this.maxRepaintRectCount,re=!1,le=new BoundingRect$3(0,0,0,0);function ue(Ce){if(!(!Ce.isFinite()||Ce.isZero()))if(oe.length===0){var Ie=new BoundingRect$3(0,0,0,0);Ie.copy(Ce),oe.push(Ie)}else{for(var Ne=!1,ze=1/0,Fe=0,Ue=0;Ue<oe.length;++Ue){var At=oe[Ue];if(At.intersect(Ce)){var Et=new BoundingRect$3(0,0,0,0);Et.copy(At),Et.union(Ce),oe[Ue]=Et,Ne=!0;break}else if(re){le.copy(Ce),le.union(At);var Pt=Ce.width*Ce.height,kt=At.width*At.height,Dt=le.width*le.height,Lt=Dt-Pt-kt;Lt<ze&&(ze=Lt,Fe=Ue)}}if(re&&(oe[Fe].union(Ce),Ne=!0),!Ne){var Ie=new BoundingRect$3(0,0,0,0);Ie.copy(Ce),oe.push(Ie)}re||(re=oe.length>=ae)}}for(var de=this.__startIndex;de<this.__endIndex;++de){var he=r[de];if(he){var pe=he.shouldBePainted(L,V,!0,!0),_e=he.__isRendered&&(he.__dirty&REDRAW_BIT$1||!pe)?he.getPrevPaintRect():null;_e&&ue(_e);var $e=pe&&(he.__dirty&REDRAW_BIT$1||!he.__isRendered)?he.getPaintRect():null;$e&&ue($e)}}for(var de=this.__prevStartIndex;de<this.__prevEndIndex;++de){var he=$[de],pe=he.shouldBePainted(L,V,!0,!0);if(he&&(!pe||!he.__zr)&&he.__isRendered){var _e=he.getPrevPaintRect();_e&&ue(_e)}}var xe;do{xe=!1;for(var de=0;de<oe.length;){if(oe[de].isZero()){oe.splice(de,1);continue}for(var Oe=de+1;Oe<oe.length;)oe[de].intersect(oe[Oe])?(xe=!0,oe[de].union(oe[Oe]),oe.splice(Oe,1)):Oe++;de++}}while(xe);return this._paintRects=oe,oe},n.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},n.prototype.resize=function(r,$){var L=this.dpr,V=this.dom,oe=V.style,ae=this.domBack;oe&&(oe.width=r+"px",oe.height=$+"px"),V.width=r*L,V.height=$*L,ae&&(ae.width=r*L,ae.height=$*L,L!==1&&this.ctxBack.scale(L,L))},n.prototype.clear=function(r,$,L){var V=this.dom,oe=this.ctx,ae=V.width,re=V.height;$=$||this.clearColor;var le=this.motionBlur&&!r,ue=this.lastFrameAlpha,de=this.dpr,he=this;le&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(V,0,0,ae/de,re/de));var pe=this.domBack;function _e($e,xe,Oe,Ce){if(oe.clearRect($e,xe,Oe,Ce),$&&$!=="transparent"){var Ie=void 0;if(isGradientObject$1($)){var Ne=$.global||$.__width===Oe&&$.__height===Ce;Ie=Ne&&$.__canvasGradient||getCanvasGradient$1(oe,$,{x:0,y:0,width:Oe,height:Ce}),$.__canvasGradient=Ie,$.__width=Oe,$.__height=Ce}else isImagePatternObject$1($)&&($.scaleX=$.scaleX||de,$.scaleY=$.scaleY||de,Ie=createCanvasPattern$1(oe,$,{dirty:function(){he.setUnpainted(),he.__painter.refresh()}}));oe.save(),oe.fillStyle=Ie||$,oe.fillRect($e,xe,Oe,Ce),oe.restore()}le&&(oe.save(),oe.globalAlpha=ue,oe.drawImage(pe,$e,xe,Oe,Ce),oe.restore())}!L||le?_e(0,0,ae,re):L.length&&each$v(L,function($e){_e($e.x*de,$e.y*de,$e.width*de,$e.height*de)})},n}(Eventful$3);const Layer$3=Layer$2;var HOVER_LAYER_ZLEVEL$1=1e5,CANVAS_ZLEVEL$1=314159,EL_AFTER_INCREMENTAL_INC$1=.01,INCREMENTAL_INC$1=.001;function isLayerValid$1(g){return g?g.__builtin__?!0:!(typeof g.resize!="function"||typeof g.refresh!="function"):!1}function createRoot$1(g,n){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+g+"px","height:"+n+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var CanvasPainter$2=function(){function g(n,r,$,L){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var V=!n.nodeName||n.nodeName.toUpperCase()==="CANVAS";this._opts=$=extend$4({},$||{}),this.dpr=$.devicePixelRatio||devicePixelRatio$1,this._singleCanvas=V,this.root=n;var oe=n.style;oe&&(disableUserSelect$1(n),n.innerHTML=""),this.storage=r;var ae=this._zlevelList;this._prevDisplayList=[];var re=this._layers;if(V){var le=n,ue=le.width,de=le.height;$.width!=null&&(ue=$.width),$.height!=null&&(de=$.height),this.dpr=$.devicePixelRatio||1,le.width=ue*this.dpr,le.height=de*this.dpr,this._width=ue,this._height=de;var he=new Layer$3(le,this,this.dpr);he.__builtin__=!0,he.initContext(),re[CANVAS_ZLEVEL$1]=he,he.zlevel=CANVAS_ZLEVEL$1,ae.push(CANVAS_ZLEVEL$1),this._domRoot=n}else{this._width=getSize$3(n,0,$),this._height=getSize$3(n,1,$);var pe=this._domRoot=createRoot$1(this._width,this._height);n.appendChild(pe)}}return g.prototype.getType=function(){return"canvas"},g.prototype.isSingleCanvas=function(){return this._singleCanvas},g.prototype.getViewportRoot=function(){return this._domRoot},g.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},g.prototype.refresh=function(n){var r=this.storage.getDisplayList(!0),$=this._prevDisplayList,L=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,$,n,this._redrawId);for(var V=0;V<L.length;V++){var oe=L[V],ae=this._layers[oe];if(!ae.__builtin__&&ae.refresh){var re=V===0?this._backgroundColor:null;ae.refresh(re)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},g.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},g.prototype._paintHoverList=function(n){var r=n.length,$=this._hoverlayer;if($&&$.clear(),!!r){for(var L={inHover:!0,viewWidth:this._width,viewHeight:this._height},V,oe=0;oe<r;oe++){var ae=n[oe];ae.__inHover&&($||($=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL$1)),V||(V=$.ctx,V.save()),brush$3(V,ae,L,oe===r-1))}V&&V.restore()}},g.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL$1)},g.prototype.paintOne=function(n,r){brushSingle$1(n,r)},g.prototype._paintList=function(n,r,$,L){if(this._redrawId===L){$=$||!1,this._updateLayerStatus(n);var V=this._doPaintList(n,r,$),oe=V.finished,ae=V.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),ae&&this._paintHoverList(n),oe)this.eachLayer(function(le){le.afterBrush&&le.afterBrush()});else{var re=this;requestAnimationFrame$3(function(){re._paintList(n,r,$,L)})}}},g.prototype._compositeManually=function(){var n=this.getLayer(CANVAS_ZLEVEL$1).ctx,r=this._domRoot.width,$=this._domRoot.height;n.clearRect(0,0,r,$),this.eachBuiltinLayer(function(L){L.virtual&&n.drawImage(L.dom,0,0,r,$)})},g.prototype._doPaintList=function(n,r,$){for(var L=this,V=[],oe=this._opts.useDirtyRect,ae=0;ae<this._zlevelList.length;ae++){var re=this._zlevelList[ae],le=this._layers[re];le.__builtin__&&le!==this._hoverlayer&&(le.__dirty||$)&&V.push(le)}for(var ue=!0,de=!1,he=function($e){var xe=V[$e],Oe=xe.ctx,Ce=oe&&xe.createRepaintRects(n,r,pe._width,pe._height),Ie=$?xe.__startIndex:xe.__drawIndex,Ne=!$&&xe.incremental&&Date.now,ze=Ne&&Date.now(),Fe=xe.zlevel===pe._zlevelList[0]?pe._backgroundColor:null;if(xe.__startIndex===xe.__endIndex)xe.clear(!1,Fe,Ce);else if(Ie===xe.__startIndex){var Ue=n[Ie];(!Ue.incremental||!Ue.notClear||$)&&xe.clear(!1,Fe,Ce)}Ie===-1&&(console.error("For some unknown reason. drawIndex is -1"),Ie=xe.__startIndex);var At,Et=function(Lt){var hn={inHover:!1,allClipped:!1,prevEl:null,viewWidth:L._width,viewHeight:L._height};for(At=Ie;At<xe.__endIndex;At++){var vn=n[At];if(vn.__inHover&&(de=!0),L._doPaintEl(vn,xe,oe,Lt,hn,At===xe.__endIndex-1),Ne){var _n=Date.now()-ze;if(_n>15)break}}hn.prevElClipPaths&&Oe.restore()};if(Ce)if(Ce.length===0)At=xe.__endIndex;else for(var Pt=pe.dpr,kt=0;kt<Ce.length;++kt){var Dt=Ce[kt];Oe.save(),Oe.beginPath(),Oe.rect(Dt.x*Pt,Dt.y*Pt,Dt.width*Pt,Dt.height*Pt),Oe.clip(),Et(Dt),Oe.restore()}else Oe.save(),Et(),Oe.restore();xe.__drawIndex=At,xe.__drawIndex<xe.__endIndex&&(ue=!1)},pe=this,_e=0;_e<V.length;_e++)he(_e);return env$3.wxa&&each$v(this._layers,function($e){$e&&$e.ctx&&$e.ctx.draw&&$e.ctx.draw()}),{finished:ue,needsRefreshHover:de}},g.prototype._doPaintEl=function(n,r,$,L,V,oe){var ae=r.ctx;if($){var re=n.getPaintRect();(!L||re&&re.intersect(L))&&(brush$3(ae,n,V,oe),n.setPrevPaintRect(re))}else brush$3(ae,n,V,oe)},g.prototype.getLayer=function(n,r){this._singleCanvas&&!this._needsManuallyCompositing&&(n=CANVAS_ZLEVEL$1);var $=this._layers[n];return $||($=new Layer$3("zr_"+n,this,this.dpr),$.zlevel=n,$.__builtin__=!0,this._layerConfig[n]?merge$3($,this._layerConfig[n],!0):this._layerConfig[n-EL_AFTER_INCREMENTAL_INC$1]&&merge$3($,this._layerConfig[n-EL_AFTER_INCREMENTAL_INC$1],!0),r&&($.virtual=r),this.insertLayer(n,$),$.initContext()),$},g.prototype.insertLayer=function(n,r){var $=this._layers,L=this._zlevelList,V=L.length,oe=this._domRoot,ae=null,re=-1;if(!$[n]&&!!isLayerValid$1(r)){if(V>0&&n>L[0]){for(re=0;re<V-1&&!(L[re]<n&&L[re+1]>n);re++);ae=$[L[re]]}if(L.splice(re+1,0,n),$[n]=r,!r.virtual)if(ae){var le=ae.dom;le.nextSibling?oe.insertBefore(r.dom,le.nextSibling):oe.appendChild(r.dom)}else oe.firstChild?oe.insertBefore(r.dom,oe.firstChild):oe.appendChild(r.dom);r.__painter=this}},g.prototype.eachLayer=function(n,r){for(var $=this._zlevelList,L=0;L<$.length;L++){var V=$[L];n.call(r,this._layers[V],V)}},g.prototype.eachBuiltinLayer=function(n,r){for(var $=this._zlevelList,L=0;L<$.length;L++){var V=$[L],oe=this._layers[V];oe.__builtin__&&n.call(r,oe,V)}},g.prototype.eachOtherLayer=function(n,r){for(var $=this._zlevelList,L=0;L<$.length;L++){var V=$[L],oe=this._layers[V];oe.__builtin__||n.call(r,oe,V)}},g.prototype.getLayers=function(){return this._layers},g.prototype._updateLayerStatus=function(n){this.eachBuiltinLayer(function(de,he){de.__dirty=de.__used=!1});function r(de){V&&(V.__endIndex!==de&&(V.__dirty=!0),V.__endIndex=de)}if(this._singleCanvas)for(var $=1;$<n.length;$++){var L=n[$];if(L.zlevel!==n[$-1].zlevel||L.incremental){this._needsManuallyCompositing=!0;break}}var V=null,oe=0,ae,re;for(re=0;re<n.length;re++){var L=n[re],le=L.zlevel,ue=void 0;ae!==le&&(ae=le,oe=0),L.incremental?(ue=this.getLayer(le+INCREMENTAL_INC$1,this._needsManuallyCompositing),ue.incremental=!0,oe=1):ue=this.getLayer(le+(oe>0?EL_AFTER_INCREMENTAL_INC$1:0),this._needsManuallyCompositing),ue.__builtin__||logError$1("ZLevel "+le+" has been used by unkown layer "+ue.id),ue!==V&&(ue.__used=!0,ue.__startIndex!==re&&(ue.__dirty=!0),ue.__startIndex=re,ue.incremental?ue.__drawIndex=-1:ue.__drawIndex=re,r(re),V=ue),L.__dirty&REDRAW_BIT$1&&!L.__inHover&&(ue.__dirty=!0,ue.incremental&&ue.__drawIndex<0&&(ue.__drawIndex=re))}r(re),this.eachBuiltinLayer(function(de,he){!de.__used&&de.getElementCount()>0&&(de.__dirty=!0,de.__startIndex=de.__endIndex=de.__drawIndex=0),de.__dirty&&de.__drawIndex<0&&(de.__drawIndex=de.__startIndex)})},g.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},g.prototype._clearLayer=function(n){n.clear()},g.prototype.setBackgroundColor=function(n){this._backgroundColor=n,each$v(this._layers,function(r){r.setUnpainted()})},g.prototype.configLayer=function(n,r){if(r){var $=this._layerConfig;$[n]?merge$3($[n],r,!0):$[n]=r;for(var L=0;L<this._zlevelList.length;L++){var V=this._zlevelList[L];if(V===n||V===n+EL_AFTER_INCREMENTAL_INC$1){var oe=this._layers[V];merge$3(oe,$[n],!0)}}}},g.prototype.delLayer=function(n){var r=this._layers,$=this._zlevelList,L=r[n];!L||(L.dom.parentNode.removeChild(L.dom),delete r[n],$.splice(indexOf$1($,n),1))},g.prototype.resize=function(n,r){if(this._domRoot.style){var $=this._domRoot;$.style.display="none";var L=this._opts,V=this.root;if(n!=null&&(L.width=n),r!=null&&(L.height=r),n=getSize$3(V,0,L),r=getSize$3(V,1,L),$.style.display="",this._width!==n||r!==this._height){$.style.width=n+"px",$.style.height=r+"px";for(var oe in this._layers)this._layers.hasOwnProperty(oe)&&this._layers[oe].resize(n,r);this.refresh(!0)}this._width=n,this._height=r}else{if(n==null||r==null)return;this._width=n,this._height=r,this.getLayer(CANVAS_ZLEVEL$1).resize(n,r)}return this},g.prototype.clearLayer=function(n){var r=this._layers[n];r&&r.clear()},g.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},g.prototype.getRenderedCanvas=function(n){if(n=n||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL$1].dom;var r=new Layer$3("image",this,n.pixelRatio||this.dpr);r.initContext(),r.clear(!1,n.backgroundColor||this._backgroundColor);var $=r.ctx;if(n.pixelRatio<=this.dpr){this.refresh();var L=r.dom.width,V=r.dom.height;this.eachLayer(function(de){de.__builtin__?$.drawImage(de.dom,0,0,L,V):de.renderToCanvas&&($.save(),de.renderToCanvas($),$.restore())})}else for(var oe={inHover:!1,viewWidth:this._width,viewHeight:this._height},ae=this.storage.getDisplayList(!0),re=0,le=ae.length;re<le;re++){var ue=ae[re];brush$3($,ue,oe,re===le-1)}return r.dom},g.prototype.getWidth=function(){return this._width},g.prototype.getHeight=function(){return this._height},g}();const CanvasPainter$3=CanvasPainter$2;function install$1K(g){g.registerPainter("canvas",CanvasPainter$3)}var LineSeriesModel$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(r){return createSeriesData$1(null,this,{useEncodeDefaulter:!0})},n.prototype.getLegendIcon=function(r){var $=new Group$9,L=createSymbol$3("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);$.add(L),L.setStyle(r.lineStyle);var V=this.getData().getVisual("symbol"),oe=this.getData().getVisual("symbolRotate"),ae=V==="none"?"circle":V,re=r.itemHeight*.8,le=createSymbol$3(ae,(r.itemWidth-re)/2,(r.itemHeight-re)/2,re,re,r.itemStyle.fill);$.add(le),le.setStyle(r.itemStyle);var ue=r.iconRotate==="inherit"?oe:r.iconRotate||0;return le.rotation=ue*Math.PI/180,le.setOrigin([r.itemWidth/2,r.itemHeight/2]),ae.indexOf("empty")>-1&&(le.style.stroke=le.style.fill,le.style.fill="#fff",le.style.lineWidth=2),$},n.type="series.line",n.dependencies=["grid","polar"],n.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},n}(SeriesModel$3);const LineSeries$1=LineSeriesModel$1;function getDefaultLabel$1(g,n){var r=g.mapDimensionsAll("defaultedLabel"),$=r.length;if($===1){var L=retrieveRawValue$1(g,n,r[0]);return L!=null?L+"":null}else if($){for(var V=[],oe=0;oe<r.length;oe++)V.push(retrieveRawValue$1(g,n,r[oe]));return V.join(" ")}}function getDefaultInterpolatedLabel$1(g,n){var r=g.mapDimensionsAll("defaultedLabel");if(!isArray$6(n))return n+"";for(var $=[],L=0;L<r.length;L++){var V=g.getDimensionIndex(r[L]);V>=0&&$.push(n[V])}return $.join(" ")}var Symbol$2=function(g){__extends$2(n,g);function n(r,$,L,V){var oe=g.call(this)||this;return oe.updateData(r,$,L,V),oe}return n.prototype._createSymbol=function(r,$,L,V,oe){this.removeAll();var ae=createSymbol$3(r,-1,-1,2,2,null,oe);ae.attr({z2:100,culling:!0,scaleX:V[0]/2,scaleY:V[1]/2}),ae.drift=driftSymbol$1,this._symbolType=r,this.add(ae)},n.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},n.prototype.getSymbolType=function(){return this._symbolType},n.prototype.getSymbolPath=function(){return this.childAt(0)},n.prototype.highlight=function(){enterEmphasis$1(this.childAt(0))},n.prototype.downplay=function(){leaveEmphasis$1(this.childAt(0))},n.prototype.setZ=function(r,$){var L=this.childAt(0);L.zlevel=r,L.z=$},n.prototype.setDraggable=function(r,$){var L=this.childAt(0);L.draggable=r,L.cursor=!$&&r?"move":L.cursor},n.prototype.updateData=function(r,$,L,V){this.silent=!1;var oe=r.getItemVisual($,"symbol")||"circle",ae=r.hostModel,re=n.getSymbolSize(r,$),le=oe!==this._symbolType,ue=V&&V.disableAnimation;if(le){var de=r.getItemVisual($,"symbolKeepAspect");this._createSymbol(oe,r,$,re,de)}else{var he=this.childAt(0);he.silent=!1;var pe={scaleX:re[0]/2,scaleY:re[1]/2};ue?he.attr(pe):updateProps$3(he,pe,ae,$),saveOldStyle$1(he)}if(this._updateCommon(r,$,re,L,V),le){var he=this.childAt(0);if(!ue){var pe={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:he.style.opacity}};he.scaleX=he.scaleY=0,he.style.opacity=0,initProps$1(he,pe,ae,$)}}ue&&this.childAt(0).stopAnimation("leave")},n.prototype._updateCommon=function(r,$,L,V,oe){var ae=this.childAt(0),re=r.hostModel,le,ue,de,he,pe,_e,$e,xe,Oe;if(V&&(le=V.emphasisItemStyle,ue=V.blurItemStyle,de=V.selectItemStyle,he=V.focus,pe=V.blurScope,$e=V.labelStatesModels,xe=V.hoverScale,Oe=V.cursorStyle,_e=V.emphasisDisabled),!V||r.hasItemOption){var Ce=V&&V.itemModel?V.itemModel:r.getItemModel($),Ie=Ce.getModel("emphasis");le=Ie.getModel("itemStyle").getItemStyle(),de=Ce.getModel(["select","itemStyle"]).getItemStyle(),ue=Ce.getModel(["blur","itemStyle"]).getItemStyle(),he=Ie.get("focus"),pe=Ie.get("blurScope"),_e=Ie.get("disabled"),$e=getLabelStatesModels$1(Ce),xe=Ie.getShallow("scale"),Oe=Ce.getShallow("cursor")}var Ne=r.getItemVisual($,"symbolRotate");ae.attr("rotation",(Ne||0)*Math.PI/180||0);var ze=normalizeSymbolOffset$1(r.getItemVisual($,"symbolOffset"),L);ze&&(ae.x=ze[0],ae.y=ze[1]),Oe&&ae.attr("cursor",Oe);var Fe=r.getItemVisual($,"style"),Ue=Fe.fill;if(ae instanceof ZRImage$3){var At=ae.style;ae.useStyle(extend$4({image:At.image,x:At.x,y:At.y,width:At.width,height:At.height},Fe))}else ae.__isEmptyBrush?ae.useStyle(extend$4({},Fe)):ae.useStyle(Fe),ae.style.decal=null,ae.setColor(Ue,oe&&oe.symbolInnerColor),ae.style.strokeNoScale=!0;var Et=r.getItemVisual($,"liftZ"),Pt=this._z2;Et!=null?Pt==null&&(this._z2=ae.z2,ae.z2+=Et):Pt!=null&&(ae.z2=Pt,this._z2=null);var kt=oe&&oe.useNameLabel;setLabelStyle$1(ae,$e,{labelFetcher:re,labelDataIndex:$,defaultText:Dt,inheritColor:Ue,defaultOpacity:Fe.opacity});function Dt(vn){return kt?r.getName(vn):getDefaultLabel$1(r,vn)}this._sizeX=L[0]/2,this._sizeY=L[1]/2;var Lt=ae.ensureState("emphasis");Lt.style=le,ae.ensureState("select").style=de,ae.ensureState("blur").style=ue;var hn=xe==null||xe===!0?Math.max(1.1,3/this._sizeY):isFinite(xe)&&xe>0?+xe:1;Lt.scaleX=this._sizeX*hn,Lt.scaleY=this._sizeY*hn,this.setSymbolScale(1),toggleHoverEmphasis$1(this,he,pe,_e)},n.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},n.prototype.fadeOut=function(r,$,L){var V=this.childAt(0),oe=getECData$1(this).dataIndex,ae=L&&L.animation;if(this.silent=V.silent=!0,L&&L.fadeLabel){var re=V.getTextContent();re&&removeElement$1(re,{style:{opacity:0}},$,{dataIndex:oe,removeOpt:ae,cb:function(){V.removeTextContent()}})}else V.removeTextContent();removeElement$1(V,{style:{opacity:0},scaleX:0,scaleY:0},$,{dataIndex:oe,cb:r,removeOpt:ae})},n.getSymbolSize=function(r,$){return normalizeSymbolSize$1(r.getItemVisual($,"symbolSize"))},n}(Group$9);function driftSymbol$1(g,n){this.parent.drift(g,n)}const SymbolClz$2=Symbol$2;function symbolNeedsDraw$3(g,n,r,$){return n&&!isNaN(n[0])&&!isNaN(n[1])&&!($.isIgnore&&$.isIgnore(r))&&!($.clipShape&&!$.clipShape.contain(n[0],n[1]))&&g.getItemVisual(r,"symbol")!=="none"}function normalizeUpdateOpt$1(g){return g!=null&&!isObject$9(g)&&(g={isIgnore:g}),g||{}}function makeSeriesScope$5(g){var n=g.hostModel,r=n.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:n.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:n.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:getLabelStatesModels$1(n),cursorStyle:n.get("cursor")}}var SymbolDraw$2=function(){function g(n){this.group=new Group$9,this._SymbolCtor=n||SymbolClz$2}return g.prototype.updateData=function(n,r){this._progressiveEls=null,r=normalizeUpdateOpt$1(r);var $=this.group,L=n.hostModel,V=this._data,oe=this._SymbolCtor,ae=r.disableAnimation,re=makeSeriesScope$5(n),le={disableAnimation:ae},ue=r.getSymbolPoint||function(de){return n.getItemLayout(de)};V||$.removeAll(),n.diff(V).add(function(de){var he=ue(de);if(symbolNeedsDraw$3(n,he,de,r)){var pe=new oe(n,de,re,le);pe.setPosition(he),n.setItemGraphicEl(de,pe),$.add(pe)}}).update(function(de,he){var pe=V.getItemGraphicEl(he),_e=ue(de);if(!symbolNeedsDraw$3(n,_e,de,r)){$.remove(pe);return}var $e=n.getItemVisual(de,"symbol")||"circle",xe=pe&&pe.getSymbolType&&pe.getSymbolType();if(!pe||xe&&xe!==$e)$.remove(pe),pe=new oe(n,de,re,le),pe.setPosition(_e);else{pe.updateData(n,de,re,le);var Oe={x:_e[0],y:_e[1]};ae?pe.attr(Oe):updateProps$3(pe,Oe,L)}$.add(pe),n.setItemGraphicEl(de,pe)}).remove(function(de){var he=V.getItemGraphicEl(de);he&&he.fadeOut(function(){$.remove(he)},L)}).execute(),this._getSymbolPoint=ue,this._data=n},g.prototype.updateLayout=function(){var n=this,r=this._data;r&&r.eachItemGraphicEl(function($,L){var V=n._getSymbolPoint(L);$.setPosition(V),$.markRedraw()})},g.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=makeSeriesScope$5(n),this._data=null,this.group.removeAll()},g.prototype.incrementalUpdate=function(n,r,$){this._progressiveEls=[],$=normalizeUpdateOpt$1($);function L(re){re.isGroup||(re.incremental=!0,re.ensureState("emphasis").hoverLayer=!0)}for(var V=n.start;V<n.end;V++){var oe=r.getItemLayout(V);if(symbolNeedsDraw$3(r,oe,V,$)){var ae=new this._SymbolCtor(r,V,this._seriesScope);ae.traverse(L),ae.setPosition(oe),this.group.add(ae),r.setItemGraphicEl(V,ae),this._progressiveEls.push(ae)}}},g.prototype.eachRendered=function(n){traverseElements$1(this._progressiveEls||this.group,n)},g.prototype.remove=function(n){var r=this.group,$=this._data;$&&n?$.eachItemGraphicEl(function(L){L.fadeOut(function(){r.remove(L)},$.hostModel)}):r.removeAll()},g}();const SymbolDraw$3=SymbolDraw$2;function prepareDataCoordInfo$1(g,n,r){var $=g.getBaseAxis(),L=g.getOtherAxis($),V=getValueStart$1(L,r),oe=$.dim,ae=L.dim,re=n.mapDimension(ae),le=n.mapDimension(oe),ue=ae==="x"||ae==="radius"?1:0,de=map$3(g.dimensions,function(_e){return n.mapDimension(_e)}),he=!1,pe=n.getCalculationInfo("stackResultDimension");return isDimensionStacked$1(n,de[0])&&(he=!0,de[0]=pe),isDimensionStacked$1(n,de[1])&&(he=!0,de[1]=pe),{dataDimsForPoint:de,valueStart:V,valueAxisDim:ae,baseAxisDim:oe,stacked:!!he,valueDim:re,baseDim:le,baseDataOffset:ue,stackedOverDimension:n.getCalculationInfo("stackedOverDimension")}}function getValueStart$1(g,n){var r=0,$=g.scale.getExtent();return n==="start"?r=$[0]:n==="end"?r=$[1]:isNumber$3(n)&&!isNaN(n)?r=n:$[0]>0?r=$[0]:$[1]<0&&(r=$[1]),r}function getStackedOnPoint$1(g,n,r,$){var L=NaN;g.stacked&&(L=r.get(r.getCalculationInfo("stackedOverDimension"),$)),isNaN(L)&&(L=g.valueStart);var V=g.baseDataOffset,oe=[];return oe[V]=r.get(g.baseDim,$),oe[1-V]=L,n.dataToPoint(oe)}function diffData$1(g,n){var r=[];return n.diff(g).add(function($){r.push({cmd:"+",idx:$})}).update(function($,L){r.push({cmd:"=",idx:L,idx1:$})}).remove(function($){r.push({cmd:"-",idx:$})}).execute(),r}function lineAnimationDiff$1(g,n,r,$,L,V,oe,ae){for(var re=diffData$1(g,n),le=[],ue=[],de=[],he=[],pe=[],_e=[],$e=[],xe=prepareDataCoordInfo$1(L,n,oe),Oe=g.getLayout("points")||[],Ce=n.getLayout("points")||[],Ie=0;Ie<re.length;Ie++){var Ne=re[Ie],ze=!0,Fe=void 0,Ue=void 0;switch(Ne.cmd){case"=":Fe=Ne.idx*2,Ue=Ne.idx1*2;var At=Oe[Fe],Et=Oe[Fe+1],Pt=Ce[Ue],kt=Ce[Ue+1];(isNaN(At)||isNaN(Et))&&(At=Pt,Et=kt),le.push(At,Et),ue.push(Pt,kt),de.push(r[Fe],r[Fe+1]),he.push($[Ue],$[Ue+1]),$e.push(n.getRawIndex(Ne.idx1));break;case"+":var Dt=Ne.idx,Lt=xe.dataDimsForPoint,hn=L.dataToPoint([n.get(Lt[0],Dt),n.get(Lt[1],Dt)]);Ue=Dt*2,le.push(hn[0],hn[1]),ue.push(Ce[Ue],Ce[Ue+1]);var vn=getStackedOnPoint$1(xe,L,n,Dt);de.push(vn[0],vn[1]),he.push($[Ue],$[Ue+1]),$e.push(n.getRawIndex(Dt));break;case"-":ze=!1}ze&&(pe.push(Ne),_e.push(_e.length))}_e.sort(function(Pn,Un){return $e[Pn]-$e[Un]});for(var _n=le.length,$n=createFloat32Array$1(_n),Sn=createFloat32Array$1(_n),xn=createFloat32Array$1(_n),On=createFloat32Array$1(_n),Cn=[],Ie=0;Ie<_e.length;Ie++){var An=_e[Ie],Rn=Ie*2,Fn=An*2;$n[Rn]=le[Fn],$n[Rn+1]=le[Fn+1],Sn[Rn]=ue[Fn],Sn[Rn+1]=ue[Fn+1],xn[Rn]=de[Fn],xn[Rn+1]=de[Fn+1],On[Rn]=he[Fn],On[Rn+1]=he[Fn+1],Cn[Ie]=pe[An]}return{current:$n,next:Sn,stackedOnCurrent:xn,stackedOnNext:On,status:Cn}}var mathMin$g=Math.min,mathMax$g=Math.max;function isPointNull$3(g,n){return isNaN(g)||isNaN(n)}function drawSegment$1(g,n,r,$,L,V,oe,ae,re){for(var le,ue,de,he,pe,_e,$e=r,xe=0;xe<$;xe++){var Oe=n[$e*2],Ce=n[$e*2+1];if($e>=L||$e<0)break;if(isPointNull$3(Oe,Ce)){if(re){$e+=V;continue}break}if($e===r)g[V>0?"moveTo":"lineTo"](Oe,Ce),de=Oe,he=Ce;else{var Ie=Oe-le,Ne=Ce-ue;if(Ie*Ie+Ne*Ne<.5){$e+=V;continue}if(oe>0){for(var ze=$e+V,Fe=n[ze*2],Ue=n[ze*2+1];Fe===Oe&&Ue===Ce&&xe<$;)xe++,ze+=V,$e+=V,Fe=n[ze*2],Ue=n[ze*2+1],Oe=n[$e*2],Ce=n[$e*2+1],Ie=Oe-le,Ne=Ce-ue;var At=xe+1;if(re)for(;isPointNull$3(Fe,Ue)&&At<$;)At++,ze+=V,Fe=n[ze*2],Ue=n[ze*2+1];var Et=.5,Pt=0,kt=0,Dt=void 0,Lt=void 0;if(At>=$||isPointNull$3(Fe,Ue))pe=Oe,_e=Ce;else{Pt=Fe-le,kt=Ue-ue;var hn=Oe-le,vn=Fe-Oe,_n=Ce-ue,$n=Ue-Ce,Sn=void 0,xn=void 0;if(ae==="x"){Sn=Math.abs(hn),xn=Math.abs(vn);var On=Pt>0?1:-1;pe=Oe-On*Sn*oe,_e=Ce,Dt=Oe+On*xn*oe,Lt=Ce}else if(ae==="y"){Sn=Math.abs(_n),xn=Math.abs($n);var Cn=kt>0?1:-1;pe=Oe,_e=Ce-Cn*Sn*oe,Dt=Oe,Lt=Ce+Cn*xn*oe}else Sn=Math.sqrt(hn*hn+_n*_n),xn=Math.sqrt(vn*vn+$n*$n),Et=xn/(xn+Sn),pe=Oe-Pt*oe*(1-Et),_e=Ce-kt*oe*(1-Et),Dt=Oe+Pt*oe*Et,Lt=Ce+kt*oe*Et,Dt=mathMin$g(Dt,mathMax$g(Fe,Oe)),Lt=mathMin$g(Lt,mathMax$g(Ue,Ce)),Dt=mathMax$g(Dt,mathMin$g(Fe,Oe)),Lt=mathMax$g(Lt,mathMin$g(Ue,Ce)),Pt=Dt-Oe,kt=Lt-Ce,pe=Oe-Pt*Sn/xn,_e=Ce-kt*Sn/xn,pe=mathMin$g(pe,mathMax$g(le,Oe)),_e=mathMin$g(_e,mathMax$g(ue,Ce)),pe=mathMax$g(pe,mathMin$g(le,Oe)),_e=mathMax$g(_e,mathMin$g(ue,Ce)),Pt=Oe-pe,kt=Ce-_e,Dt=Oe+Pt*xn/Sn,Lt=Ce+kt*xn/Sn}g.bezierCurveTo(de,he,pe,_e,Oe,Ce),de=Dt,he=Lt}else g.lineTo(Oe,Ce)}le=Oe,ue=Ce,$e+=V}return xe}var ECPolylineShape$1=function(){function g(){this.smooth=0,this.smoothConstraint=!0}return g}(),ECPolyline$1=function(g){__extends$2(n,g);function n(r){var $=g.call(this,r)||this;return $.type="ec-polyline",$}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ECPolylineShape$1},n.prototype.buildPath=function(r,$){var L=$.points,V=0,oe=L.length/2;if($.connectNulls){for(;oe>0&&isPointNull$3(L[oe*2-2],L[oe*2-1]);oe--);for(;V<oe&&isPointNull$3(L[V*2],L[V*2+1]);V++);}for(;V<oe;)V+=drawSegment$1(r,L,V,oe,oe,1,$.smooth,$.smoothMonotone,$.connectNulls)+1},n.prototype.getPointOn=function(r,$){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var L=this.path,V=L.data,oe=PathProxy$3.CMD,ae,re,le=$==="x",ue=[],de=0;de<V.length;){var he=V[de++],pe=void 0,_e=void 0,$e=void 0,xe=void 0,Oe=void 0,Ce=void 0,Ie=void 0;switch(he){case oe.M:ae=V[de++],re=V[de++];break;case oe.L:if(pe=V[de++],_e=V[de++],Ie=le?(r-ae)/(pe-ae):(r-re)/(_e-re),Ie<=1&&Ie>=0){var Ne=le?(_e-re)*Ie+re:(pe-ae)*Ie+ae;return le?[r,Ne]:[Ne,r]}ae=pe,re=_e;break;case oe.C:pe=V[de++],_e=V[de++],$e=V[de++],xe=V[de++],Oe=V[de++],Ce=V[de++];var ze=le?cubicRootAt$1(ae,pe,$e,Oe,r,ue):cubicRootAt$1(re,_e,xe,Ce,r,ue);if(ze>0)for(var Fe=0;Fe<ze;Fe++){var Ue=ue[Fe];if(Ue<=1&&Ue>=0){var Ne=le?cubicAt$1(re,_e,xe,Ce,Ue):cubicAt$1(ae,pe,$e,Oe,Ue);return le?[r,Ne]:[Ne,r]}}ae=Oe,re=Ce;break}}},n}(Path$3),ECPolygonShape$1=function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n}(ECPolylineShape$1),ECPolygon$1=function(g){__extends$2(n,g);function n(r){var $=g.call(this,r)||this;return $.type="ec-polygon",$}return n.prototype.getDefaultShape=function(){return new ECPolygonShape$1},n.prototype.buildPath=function(r,$){var L=$.points,V=$.stackedOnPoints,oe=0,ae=L.length/2,re=$.smoothMonotone;if($.connectNulls){for(;ae>0&&isPointNull$3(L[ae*2-2],L[ae*2-1]);ae--);for(;oe<ae&&isPointNull$3(L[oe*2],L[oe*2+1]);oe++);}for(;oe<ae;){var le=drawSegment$1(r,L,oe,ae,ae,1,$.smooth,re,$.connectNulls);drawSegment$1(r,V,oe+le-1,le,ae,-1,$.stackedOnSmooth,re,$.connectNulls),oe+=le+1,r.closePath()}},n}(Path$3);function createGridClipPath$1(g,n,r,$,L){var V=g.getArea(),oe=V.x,ae=V.y,re=V.width,le=V.height,ue=r.get(["lineStyle","width"])||2;oe-=ue/2,ae-=ue/2,re+=ue,le+=ue,oe=Math.floor(oe),re=Math.round(re);var de=new Rect$7({shape:{x:oe,y:ae,width:re,height:le}});if(n){var he=g.getBaseAxis(),pe=he.isHorizontal(),_e=he.inverse;pe?(_e&&(de.shape.x+=re),de.shape.width=0):(_e||(de.shape.y+=le),de.shape.height=0);var $e=isFunction$3(L)?function(xe){L(xe,de)}:null;initProps$1(de,{shape:{width:re,height:le,x:oe,y:ae}},r,null,$,$e)}return de}function createPolarClipPath$1(g,n,r){var $=g.getArea(),L=round$7($.r0,1),V=round$7($.r,1),oe=new Sector$3({shape:{cx:round$7(g.cx,1),cy:round$7(g.cy,1),r0:L,r:V,startAngle:$.startAngle,endAngle:$.endAngle,clockwise:$.clockwise}});if(n){var ae=g.getBaseAxis().dim==="angle";ae?oe.shape.endAngle=$.startAngle:oe.shape.r=L,initProps$1(oe,{shape:{endAngle:$.endAngle,r:V}},r)}return oe}function createClipPath$1(g,n,r,$,L){if(g){if(g.type==="polar")return createPolarClipPath$1(g,n,r);if(g.type==="cartesian2d")return createGridClipPath$1(g,n,r,$,L)}else return null;return null}function isCoordinateSystemType$1(g,n){return g.type===n}function isPointsSame$1(g,n){if(g.length===n.length){for(var r=0;r<g.length;r++)if(g[r]!==n[r])return;return!0}}function bboxFromPoints$1(g){for(var n=1/0,r=1/0,$=-1/0,L=-1/0,V=0;V<g.length;){var oe=g[V++],ae=g[V++];isNaN(oe)||(n=Math.min(oe,n),$=Math.max(oe,$)),isNaN(ae)||(r=Math.min(ae,r),L=Math.max(ae,L))}return[[n,r],[$,L]]}function getBoundingDiff$1(g,n){var r=bboxFromPoints$1(g),$=r[0],L=r[1],V=bboxFromPoints$1(n),oe=V[0],ae=V[1];return Math.max(Math.abs($[0]-oe[0]),Math.abs($[1]-oe[1]),Math.abs(L[0]-ae[0]),Math.abs(L[1]-ae[1]))}function getSmooth$1(g){return isNumber$3(g)?g:g?.5:0}function getStackedOnPoints$1(g,n,r){if(!r.valueDim)return[];for(var $=n.count(),L=createFloat32Array$1($*2),V=0;V<$;V++){var oe=getStackedOnPoint$1(r,g,n,V);L[V*2]=oe[0],L[V*2+1]=oe[1]}return L}function turnPointsIntoStep$1(g,n,r,$){var L=n.getBaseAxis(),V=L.dim==="x"||L.dim==="radius"?0:1,oe=[],ae=0,re=[],le=[],ue=[],de=[];if($){for(ae=0;ae<g.length;ae+=2)!isNaN(g[ae])&&!isNaN(g[ae+1])&&de.push(g[ae],g[ae+1]);g=de}for(ae=0;ae<g.length-2;ae+=2)switch(ue[0]=g[ae+2],ue[1]=g[ae+3],le[0]=g[ae],le[1]=g[ae+1],oe.push(le[0],le[1]),r){case"end":re[V]=ue[V],re[1-V]=le[1-V],oe.push(re[0],re[1]);break;case"middle":var he=(le[V]+ue[V])/2,pe=[];re[V]=pe[V]=he,re[1-V]=le[1-V],pe[1-V]=ue[1-V],oe.push(re[0],re[1]),oe.push(pe[0],pe[1]);break;default:re[V]=le[V],re[1-V]=ue[1-V],oe.push(re[0],re[1])}return oe.push(g[ae++],g[ae++]),oe}function clipColorStops$1(g,n){var r=[],$=g.length,L,V;function oe(ue,de,he){var pe=ue.coord,_e=(he-pe)/(de.coord-pe),$e=lerp$2(_e,[ue.color,de.color]);return{coord:he,color:$e}}for(var ae=0;ae<$;ae++){var re=g[ae],le=re.coord;if(le<0)L=re;else if(le>n){V?r.push(oe(V,re,n)):L&&r.push(oe(L,re,0),oe(L,re,n));break}else L&&(r.push(oe(L,re,0)),L=null),r.push(re),V=re}return r}function getVisualGradient$1(g,n,r){var $=g.getVisual("visualMeta");if(!(!$||!$.length||!g.count())&&n.type==="cartesian2d"){for(var L,V,oe=$.length-1;oe>=0;oe--){var ae=g.getDimensionInfo($[oe].dimension);if(L=ae&&ae.coordDim,L==="x"||L==="y"){V=$[oe];break}}if(V){var re=n.getAxis(L),le=map$3(V.stops,function(Ie){return{coord:re.toGlobalCoord(re.dataToCoord(Ie.value)),color:Ie.color}}),ue=le.length,de=V.outerColors.slice();ue&&le[0].coord>le[ue-1].coord&&(le.reverse(),de.reverse());var he=clipColorStops$1(le,L==="x"?r.getWidth():r.getHeight()),pe=he.length;if(!pe&&ue)return le[0].coord<0?de[1]?de[1]:le[ue-1].color:de[0]?de[0]:le[0].color;var _e=10,$e=he[0].coord-_e,xe=he[pe-1].coord+_e,Oe=xe-$e;if(Oe<.001)return"transparent";each$v(he,function(Ie){Ie.offset=(Ie.coord-$e)/Oe}),he.push({offset:pe?he[pe-1].offset:.5,color:de[1]||"transparent"}),he.unshift({offset:pe?he[0].offset:.5,color:de[0]||"transparent"});var Ce=new LinearGradient$3(0,0,0,0,he,!0);return Ce[L]=$e,Ce[L+"2"]=xe,Ce}}}function getIsIgnoreFunc$1(g,n,r){var $=g.get("showAllSymbol"),L=$==="auto";if(!($&&!L)){var V=r.getAxesByScale("ordinal")[0];if(!!V&&!(L&&canShowAllSymbolForCategory$1(V,n))){var oe=n.mapDimension(V.dim),ae={};return each$v(V.getViewLabels(),function(re){var le=V.scale.getRawOrdinalNumber(re.tickValue);ae[le]=1}),function(re){return!ae.hasOwnProperty(n.get(oe,re))}}}}function canShowAllSymbolForCategory$1(g,n){var r=g.getExtent(),$=Math.abs(r[1]-r[0])/g.scale.count();isNaN($)&&($=0);for(var L=n.count(),V=Math.max(1,Math.round(L/5)),oe=0;oe<L;oe+=V)if(SymbolClz$2.getSymbolSize(n,oe)[g.isHorizontal()?1:0]*1.5>$)return!1;return!0}function isPointNull$2(g,n){return isNaN(g)||isNaN(n)}function getLastIndexNotNull$1(g){for(var n=g.length/2;n>0&&isPointNull$2(g[n*2-2],g[n*2-1]);n--);return n-1}function getPointAtIndex$1(g,n){return[g[n*2],g[n*2+1]]}function getIndexRange$1(g,n,r){for(var $=g.length/2,L=r==="x"?0:1,V,oe,ae=0,re=-1,le=0;le<$;le++)if(oe=g[le*2+L],!(isNaN(oe)||isNaN(g[le*2+1-L]))){if(le===0){V=oe;continue}if(V<=n&&oe>=n||V>=n&&oe<=n){re=le;break}ae=le,V=oe}return{range:[ae,re],t:(n-V)/(oe-V)}}function anyStateShowEndLabel$1(g){if(g.get(["endLabel","show"]))return!0;for(var n=0;n<SPECIAL_STATES$1.length;n++)if(g.get([SPECIAL_STATES$1[n],"endLabel","show"]))return!0;return!1}function createLineClipPath$1(g,n,r,$){if(isCoordinateSystemType$1(n,"cartesian2d")){var L=$.getModel("endLabel"),V=L.get("valueAnimation"),oe=$.getData(),ae={lastFrameIndex:0},re=anyStateShowEndLabel$1($)?function(pe,_e){g._endLabelOnDuring(pe,_e,oe,ae,V,L,n)}:null,le=n.getBaseAxis().isHorizontal(),ue=createGridClipPath$1(n,r,$,function(){var pe=g._endLabel;pe&&r&&ae.originalX!=null&&pe.attr({x:ae.originalX,y:ae.originalY})},re);if(!$.get("clip",!0)){var de=ue.shape,he=Math.max(de.width,de.height);le?(de.y-=he,de.height+=he*2):(de.x-=he,de.width+=he*2)}return re&&re(1,ue),ue}else return createPolarClipPath$1(n,r,$)}function getEndLabelStateSpecified$1(g,n){var r=n.getBaseAxis(),$=r.isHorizontal(),L=r.inverse,V=$?L?"right":"left":"center",oe=$?"middle":L?"top":"bottom";return{normal:{align:g.get("align")||V,verticalAlign:g.get("verticalAlign")||oe}}}var LineView$3=function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.init=function(){var r=new Group$9,$=new SymbolDraw$3;this.group.add($.group),this._symbolDraw=$,this._lineGroup=r},n.prototype.render=function(r,$,L){var V=this,oe=r.coordinateSystem,ae=this.group,re=r.getData(),le=r.getModel("lineStyle"),ue=r.getModel("areaStyle"),de=re.getLayout("points")||[],he=oe.type==="polar",pe=this._coordSys,_e=this._symbolDraw,$e=this._polyline,xe=this._polygon,Oe=this._lineGroup,Ce=r.get("animation"),Ie=!ue.isEmpty(),Ne=ue.get("origin"),ze=prepareDataCoordInfo$1(oe,re,Ne),Fe=Ie&&getStackedOnPoints$1(oe,re,ze),Ue=r.get("showSymbol"),At=r.get("connectNulls"),Et=Ue&&!he&&getIsIgnoreFunc$1(r,re,oe),Pt=this._data;Pt&&Pt.eachItemGraphicEl(function(Un,Dn){Un.__temp&&(ae.remove(Un),Pt.setItemGraphicEl(Dn,null))}),Ue||_e.remove(),ae.add(Oe);var kt=he?!1:r.get("step"),Dt;oe&&oe.getArea&&r.get("clip",!0)&&(Dt=oe.getArea(),Dt.width!=null?(Dt.x-=.1,Dt.y-=.1,Dt.width+=.2,Dt.height+=.2):Dt.r0&&(Dt.r0-=.5,Dt.r+=.5)),this._clipShapeForSymbol=Dt;var Lt=getVisualGradient$1(re,oe,L)||re.getVisual("style")[re.getVisual("drawType")];if(!($e&&pe.type===oe.type&&kt===this._step))Ue&&_e.updateData(re,{isIgnore:Et,clipShape:Dt,disableAnimation:!0,getSymbolPoint:function(Un){return[de[Un*2],de[Un*2+1]]}}),Ce&&this._initSymbolLabelAnimation(re,oe,Dt),kt&&(de=turnPointsIntoStep$1(de,oe,kt,At),Fe&&(Fe=turnPointsIntoStep$1(Fe,oe,kt,At))),$e=this._newPolyline(de),Ie?xe=this._newPolygon(de,Fe):xe&&(Oe.remove(xe),xe=this._polygon=null),he||this._initOrUpdateEndLabel(r,oe,convertToColorString$1(Lt)),Oe.setClipPath(createLineClipPath$1(this,oe,!0,r));else{Ie&&!xe?xe=this._newPolygon(de,Fe):xe&&!Ie&&(Oe.remove(xe),xe=this._polygon=null),he||this._initOrUpdateEndLabel(r,oe,convertToColorString$1(Lt));var hn=Oe.getClipPath();if(hn){var vn=createLineClipPath$1(this,oe,!1,r);initProps$1(hn,{shape:vn.shape},r)}else Oe.setClipPath(createLineClipPath$1(this,oe,!0,r));Ue&&_e.updateData(re,{isIgnore:Et,clipShape:Dt,disableAnimation:!0,getSymbolPoint:function(Un){return[de[Un*2],de[Un*2+1]]}}),(!isPointsSame$1(this._stackedOnPoints,Fe)||!isPointsSame$1(this._points,de))&&(Ce?this._doUpdateAnimation(re,Fe,oe,L,kt,Ne,At):(kt&&(de=turnPointsIntoStep$1(de,oe,kt,At),Fe&&(Fe=turnPointsIntoStep$1(Fe,oe,kt,At))),$e.setShape({points:de}),xe&&xe.setShape({points:de,stackedOnPoints:Fe})))}var _n=r.getModel("emphasis"),$n=_n.get("focus"),Sn=_n.get("blurScope"),xn=_n.get("disabled");if($e.useStyle(defaults$7(le.getLineStyle(),{fill:"none",stroke:Lt,lineJoin:"bevel"})),setStatesStylesFromModel$1($e,r,"lineStyle"),$e.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var On=$e.getState("emphasis").style;On.lineWidth=+$e.style.lineWidth+1}getECData$1($e).seriesIndex=r.seriesIndex,toggleHoverEmphasis$1($e,$n,Sn,xn);var Cn=getSmooth$1(r.get("smooth")),An=r.get("smoothMonotone");if($e.setShape({smooth:Cn,smoothMonotone:An,connectNulls:At}),xe){var Rn=re.getCalculationInfo("stackedOnSeries"),Fn=0;xe.useStyle(defaults$7(ue.getAreaStyle(),{fill:Lt,opacity:.7,lineJoin:"bevel",decal:re.getVisual("style").decal})),Rn&&(Fn=getSmooth$1(Rn.get("smooth"))),xe.setShape({smooth:Cn,stackedOnSmooth:Fn,smoothMonotone:An,connectNulls:At}),setStatesStylesFromModel$1(xe,r,"areaStyle"),getECData$1(xe).seriesIndex=r.seriesIndex,toggleHoverEmphasis$1(xe,$n,Sn,xn)}var Pn=function(Un){V._changePolyState(Un)};re.eachItemGraphicEl(function(Un){Un&&(Un.onHoverStateChange=Pn)}),this._polyline.onHoverStateChange=Pn,this._data=re,this._coordSys=oe,this._stackedOnPoints=Fe,this._points=de,this._step=kt,this._valueOrigin=Ne,r.get("triggerLineEvent")&&(this.packEventData(r,$e),xe&&this.packEventData(r,xe))},n.prototype.packEventData=function(r,$){getECData$1($).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},n.prototype.highlight=function(r,$,L,V){var oe=r.getData(),ae=queryDataIndex$1(oe,V);if(this._changePolyState("emphasis"),!(ae instanceof Array)&&ae!=null&&ae>=0){var re=oe.getLayout("points"),le=oe.getItemGraphicEl(ae);if(!le){var ue=re[ae*2],de=re[ae*2+1];if(isNaN(ue)||isNaN(de)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(ue,de))return;var he=r.get("zlevel")||0,pe=r.get("z")||0;le=new SymbolClz$2(oe,ae),le.x=ue,le.y=de,le.setZ(he,pe);var _e=le.getSymbolPath().getTextContent();_e&&(_e.zlevel=he,_e.z=pe,_e.z2=this._polyline.z2+1),le.__temp=!0,oe.setItemGraphicEl(ae,le),le.stopSymbolAnimation(!0),this.group.add(le)}le.highlight()}else ChartView$3.prototype.highlight.call(this,r,$,L,V)},n.prototype.downplay=function(r,$,L,V){var oe=r.getData(),ae=queryDataIndex$1(oe,V);if(this._changePolyState("normal"),ae!=null&&ae>=0){var re=oe.getItemGraphicEl(ae);re&&(re.__temp?(oe.setItemGraphicEl(ae,null),this.group.remove(re)):re.downplay())}else ChartView$3.prototype.downplay.call(this,r,$,L,V)},n.prototype._changePolyState=function(r){var $=this._polygon;setStatesFlag$1(this._polyline,r),$&&setStatesFlag$1($,r)},n.prototype._newPolyline=function(r){var $=this._polyline;return $&&this._lineGroup.remove($),$=new ECPolyline$1({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add($),this._polyline=$,$},n.prototype._newPolygon=function(r,$){var L=this._polygon;return L&&this._lineGroup.remove(L),L=new ECPolygon$1({shape:{points:r,stackedOnPoints:$},segmentIgnoreThreshold:2}),this._lineGroup.add(L),this._polygon=L,L},n.prototype._initSymbolLabelAnimation=function(r,$,L){var V,oe,ae=$.getBaseAxis(),re=ae.inverse;$.type==="cartesian2d"?(V=ae.isHorizontal(),oe=!1):$.type==="polar"&&(V=ae.dim==="angle",oe=!0);var le=r.hostModel,ue=le.get("animationDuration");isFunction$3(ue)&&(ue=ue(null));var de=le.get("animationDelay")||0,he=isFunction$3(de)?de(null):de;r.eachItemGraphicEl(function(pe,_e){var $e=pe;if($e){var xe=[pe.x,pe.y],Oe=void 0,Ce=void 0,Ie=void 0;if(L)if(oe){var Ne=L,ze=$.pointToCoord(xe);V?(Oe=Ne.startAngle,Ce=Ne.endAngle,Ie=-ze[1]/180*Math.PI):(Oe=Ne.r0,Ce=Ne.r,Ie=ze[0])}else{var Fe=L;V?(Oe=Fe.x,Ce=Fe.x+Fe.width,Ie=pe.x):(Oe=Fe.y+Fe.height,Ce=Fe.y,Ie=pe.y)}var Ue=Ce===Oe?0:(Ie-Oe)/(Ce-Oe);re&&(Ue=1-Ue);var At=isFunction$3(de)?de(_e):ue*Ue+he,Et=$e.getSymbolPath(),Pt=Et.getTextContent();$e.attr({scaleX:0,scaleY:0}),$e.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:At}),Pt&&Pt.animateFrom({style:{opacity:0}},{duration:300,delay:At}),Et.disableLabelAnimation=!0}})},n.prototype._initOrUpdateEndLabel=function(r,$,L){var V=r.getModel("endLabel");if(anyStateShowEndLabel$1(r)){var oe=r.getData(),ae=this._polyline,re=oe.getLayout("points");if(!re){ae.removeTextContent(),this._endLabel=null;return}var le=this._endLabel;le||(le=this._endLabel=new ZRText$3({z2:200}),le.ignoreClip=!0,ae.setTextContent(this._endLabel),ae.disableLabelAnimation=!0);var ue=getLastIndexNotNull$1(re);ue>=0&&(setLabelStyle$1(ae,getLabelStatesModels$1(r,"endLabel"),{inheritColor:L,labelFetcher:r,labelDataIndex:ue,defaultText:function(de,he,pe){return pe!=null?getDefaultInterpolatedLabel$1(oe,pe):getDefaultLabel$1(oe,de)},enableTextSetter:!0},getEndLabelStateSpecified$1(V,$)),ae.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},n.prototype._endLabelOnDuring=function(r,$,L,V,oe,ae,re){var le=this._endLabel,ue=this._polyline;if(le){r<1&&V.originalX==null&&(V.originalX=le.x,V.originalY=le.y);var de=L.getLayout("points"),he=L.hostModel,pe=he.get("connectNulls"),_e=ae.get("precision"),$e=ae.get("distance")||0,xe=re.getBaseAxis(),Oe=xe.isHorizontal(),Ce=xe.inverse,Ie=$.shape,Ne=Ce?Oe?Ie.x:Ie.y+Ie.height:Oe?Ie.x+Ie.width:Ie.y,ze=(Oe?$e:0)*(Ce?-1:1),Fe=(Oe?0:-$e)*(Ce?-1:1),Ue=Oe?"x":"y",At=getIndexRange$1(de,Ne,Ue),Et=At.range,Pt=Et[1]-Et[0],kt=void 0;if(Pt>=1){if(Pt>1&&!pe){var Dt=getPointAtIndex$1(de,Et[0]);le.attr({x:Dt[0]+ze,y:Dt[1]+Fe}),oe&&(kt=he.getRawValue(Et[0]))}else{var Dt=ue.getPointOn(Ne,Ue);Dt&&le.attr({x:Dt[0]+ze,y:Dt[1]+Fe});var Lt=he.getRawValue(Et[0]),hn=he.getRawValue(Et[1]);oe&&(kt=interpolateRawValues$1(L,_e,Lt,hn,At.t))}V.lastFrameIndex=Et[0]}else{var vn=r===1||V.lastFrameIndex>0?Et[0]:0,Dt=getPointAtIndex$1(de,vn);oe&&(kt=he.getRawValue(vn)),le.attr({x:Dt[0]+ze,y:Dt[1]+Fe})}oe&&labelInner$1(le).setLabelText(kt)}},n.prototype._doUpdateAnimation=function(r,$,L,V,oe,ae,re){var le=this._polyline,ue=this._polygon,de=r.hostModel,he=lineAnimationDiff$1(this._data,r,this._stackedOnPoints,$,this._coordSys,L,this._valueOrigin),pe=he.current,_e=he.stackedOnCurrent,$e=he.next,xe=he.stackedOnNext;if(oe&&(pe=turnPointsIntoStep$1(he.current,L,oe,re),_e=turnPointsIntoStep$1(he.stackedOnCurrent,L,oe,re),$e=turnPointsIntoStep$1(he.next,L,oe,re),xe=turnPointsIntoStep$1(he.stackedOnNext,L,oe,re)),getBoundingDiff$1(pe,$e)>3e3||ue&&getBoundingDiff$1(_e,xe)>3e3){le.stopAnimation(),le.setShape({points:$e}),ue&&(ue.stopAnimation(),ue.setShape({points:$e,stackedOnPoints:xe}));return}le.shape.__points=he.current,le.shape.points=pe;var Oe={shape:{points:$e}};he.current!==pe&&(Oe.shape.__points=he.next),le.stopAnimation(),updateProps$3(le,Oe,de),ue&&(ue.setShape({points:pe,stackedOnPoints:_e}),ue.stopAnimation(),updateProps$3(ue,{shape:{stackedOnPoints:xe}},de),le.shape.points!==ue.shape.points&&(ue.shape.points=le.shape.points));for(var Ce=[],Ie=he.status,Ne=0;Ne<Ie.length;Ne++){var ze=Ie[Ne].cmd;if(ze==="="){var Fe=r.getItemGraphicEl(Ie[Ne].idx1);Fe&&Ce.push({el:Fe,ptIdx:Ne})}}le.animators&&le.animators.length&&le.animators[0].during(function(){ue&&ue.dirtyShape();for(var Ue=le.shape.__points,At=0;At<Ce.length;At++){var Et=Ce[At].el,Pt=Ce[At].ptIdx*2;Et.x=Ue[Pt],Et.y=Ue[Pt+1],Et.markRedraw()}})},n.prototype.remove=function(r){var $=this.group,L=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),L&&L.eachItemGraphicEl(function(V,oe){V.__temp&&($.remove(V),L.setItemGraphicEl(oe,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},n.type="line",n}(ChartView$3);const LineView$4=LineView$3;function pointsLayout$1(g,n){return{seriesType:g,plan:createRenderPlanner$1(),reset:function(r){var $=r.getData(),L=r.coordinateSystem,V=r.pipelineContext,oe=n||V.large;if(L){var ae=map$3(L.dimensions,function(pe){return $.mapDimension(pe)}).slice(0,2),re=ae.length,le=$.getCalculationInfo("stackResultDimension");isDimensionStacked$1($,ae[0])&&(ae[0]=le),isDimensionStacked$1($,ae[1])&&(ae[1]=le);var ue=$.getStore(),de=$.getDimensionIndex(ae[0]),he=$.getDimensionIndex(ae[1]);return re&&{progress:function(pe,_e){for(var $e=pe.end-pe.start,xe=oe&&createFloat32Array$1($e*re),Oe=[],Ce=[],Ie=pe.start,Ne=0;Ie<pe.end;Ie++){var ze=void 0;if(re===1){var Fe=ue.get(de,Ie);ze=L.dataToPoint(Fe,null,Ce)}else Oe[0]=ue.get(de,Ie),Oe[1]=ue.get(he,Ie),ze=L.dataToPoint(Oe,null,Ce);oe?(xe[Ne++]=ze[0],xe[Ne++]=ze[1]):_e.setItemLayout(Ie,ze.slice())}oe&&_e.setLayout("points",xe)}}}}}}var samplers$1={average:function(g){for(var n=0,r=0,$=0;$<g.length;$++)isNaN(g[$])||(n+=g[$],r++);return r===0?NaN:n/r},sum:function(g){for(var n=0,r=0;r<g.length;r++)n+=g[r]||0;return n},max:function(g){for(var n=-1/0,r=0;r<g.length;r++)g[r]>n&&(n=g[r]);return isFinite(n)?n:NaN},min:function(g){for(var n=1/0,r=0;r<g.length;r++)g[r]<n&&(n=g[r]);return isFinite(n)?n:NaN},nearest:function(g){return g[0]}},indexSampler$1=function(g){return Math.round(g.length/2)};function dataSample$1(g){return{seriesType:g,reset:function(n,r,$){var L=n.getData(),V=n.get("sampling"),oe=n.coordinateSystem,ae=L.count();if(ae>10&&oe.type==="cartesian2d"&&V){var re=oe.getBaseAxis(),le=oe.getOtherAxis(re),ue=re.getExtent(),de=$.getDevicePixelRatio(),he=Math.abs(ue[1]-ue[0])*(de||1),pe=Math.round(ae/he);if(isFinite(pe)&&pe>1){V==="lttb"&&n.setData(L.lttbDownSample(L.mapDimension(le.dim),1/pe));var _e=void 0;isString$3(V)?_e=samplers$1[V]:isFunction$3(V)&&(_e=V),_e&&n.setData(L.downSample(L.mapDimension(le.dim),1/pe,_e,indexSampler$1))}}}}}function install$1J(g){g.registerChartView(LineView$4),g.registerSeriesModel(LineSeries$1),g.registerLayout(pointsLayout$1("line",!0)),g.registerVisual({seriesType:"line",reset:function(n){var r=n.getData(),$=n.getModel("lineStyle").getLineStyle();$&&!$.stroke&&($.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",$)}}),g.registerProcessor(g.PRIORITY.PROCESSOR.STATISTIC,dataSample$1("line"))}var BaseBarSeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(r,$){return createSeriesData$1(null,this,{useEncodeDefaulter:!0})},n.prototype.getMarkerPosition=function(r,$,L){var V=this.coordinateSystem;if(V&&V.clampData){var oe=V.dataToPoint(V.clampData(r));if(L)each$v(V.getAxes(),function(de,he){if(de.type==="category"){var pe=de.getTicksCoords(),_e=V.clampData(r)[he];$&&($[he]==="x1"||$[he]==="y1")&&(_e+=1),_e>pe.length-1&&(_e=pe.length-1),_e<0&&(_e=0),pe[_e]&&(oe[he]=de.toGlobalCoord(pe[_e].coord))}});else{var ae=this.getData(),re=ae.getLayout("offset"),le=ae.getLayout("size"),ue=V.getBaseAxis().isHorizontal()?0:1;oe[ue]+=re+le/2}return oe}return[NaN,NaN]},n.type="series.__base_bar__",n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},n}(SeriesModel$3);SeriesModel$3.registerClass(BaseBarSeriesModel$2);const BaseBarSeriesModel$3=BaseBarSeriesModel$2;var BarSeriesModel$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(){return createSeriesData$1(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},n.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},n.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),$=this.get("largeThreshold");return $>r&&(r=$),r},n.prototype.brushSelector=function(r,$,L){return L.rect($.getItemLayout(r))},n.type="series.bar",n.dependencies=["grid","polar"],n.defaultOption=inheritDefaultOption$1(BaseBarSeriesModel$3.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),n}(BaseBarSeriesModel$3);const BarSeries$1=BarSeriesModel$1;var SausageShape$1=function(){function g(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return g}(),SausagePath$1=function(g){__extends$2(n,g);function n(r){var $=g.call(this,r)||this;return $.type="sausage",$}return n.prototype.getDefaultShape=function(){return new SausageShape$1},n.prototype.buildPath=function(r,$){var L=$.cx,V=$.cy,oe=Math.max($.r0||0,0),ae=Math.max($.r,0),re=(ae-oe)*.5,le=oe+re,ue=$.startAngle,de=$.endAngle,he=$.clockwise,pe=Math.PI*2,_e=he?de-ue<pe:ue-de<pe;_e||(ue=de-(he?pe:-pe));var $e=Math.cos(ue),xe=Math.sin(ue),Oe=Math.cos(de),Ce=Math.sin(de);_e?(r.moveTo($e*oe+L,xe*oe+V),r.arc($e*le+L,xe*le+V,re,-Math.PI+ue,ue,!he)):r.moveTo($e*ae+L,xe*ae+V),r.arc(L,V,ae,ue,de,!he),r.arc(Oe*le+L,Ce*le+V,re,de-Math.PI*2,de-Math.PI,!he),oe!==0&&r.arc(L,V,oe,de,ue,he)},n}(Path$3);const Sausage$1=SausagePath$1;function createSectorCalculateTextPosition$1(g,n){n=n||{};var r=n.isRoundCap;return function($,L,V){var oe=L.position;if(!oe||oe instanceof Array)return calculateTextPosition$1($,L,V);var ae=g(oe),re=L.distance!=null?L.distance:5,le=this.shape,ue=le.cx,de=le.cy,he=le.r,pe=le.r0,_e=(he+pe)/2,$e=le.startAngle,xe=le.endAngle,Oe=($e+xe)/2,Ce=r?Math.abs(he-pe)/2:0,Ie=Math.cos,Ne=Math.sin,ze=ue+he*Ie($e),Fe=de+he*Ne($e),Ue="left",At="top";switch(ae){case"startArc":ze=ue+(pe-re)*Ie(Oe),Fe=de+(pe-re)*Ne(Oe),Ue="center",At="top";break;case"insideStartArc":ze=ue+(pe+re)*Ie(Oe),Fe=de+(pe+re)*Ne(Oe),Ue="center",At="bottom";break;case"startAngle":ze=ue+_e*Ie($e)+adjustAngleDistanceX$1($e,re+Ce,!1),Fe=de+_e*Ne($e)+adjustAngleDistanceY$1($e,re+Ce,!1),Ue="right",At="middle";break;case"insideStartAngle":ze=ue+_e*Ie($e)+adjustAngleDistanceX$1($e,-re+Ce,!1),Fe=de+_e*Ne($e)+adjustAngleDistanceY$1($e,-re+Ce,!1),Ue="left",At="middle";break;case"middle":ze=ue+_e*Ie(Oe),Fe=de+_e*Ne(Oe),Ue="center",At="middle";break;case"endArc":ze=ue+(he+re)*Ie(Oe),Fe=de+(he+re)*Ne(Oe),Ue="center",At="bottom";break;case"insideEndArc":ze=ue+(he-re)*Ie(Oe),Fe=de+(he-re)*Ne(Oe),Ue="center",At="top";break;case"endAngle":ze=ue+_e*Ie(xe)+adjustAngleDistanceX$1(xe,re+Ce,!0),Fe=de+_e*Ne(xe)+adjustAngleDistanceY$1(xe,re+Ce,!0),Ue="left",At="middle";break;case"insideEndAngle":ze=ue+_e*Ie(xe)+adjustAngleDistanceX$1(xe,-re+Ce,!0),Fe=de+_e*Ne(xe)+adjustAngleDistanceY$1(xe,-re+Ce,!0),Ue="right",At="middle";break;default:return calculateTextPosition$1($,L,V)}return $=$||{},$.x=ze,$.y=Fe,$.align=Ue,$.verticalAlign=At,$}}function setSectorTextRotation$1(g,n,r,$){if(isNumber$3($)){g.setTextConfig({rotation:$});return}else if(isArray$6(n)){g.setTextConfig({rotation:0});return}var L=g.shape,V=L.clockwise?L.startAngle:L.endAngle,oe=L.clockwise?L.endAngle:L.startAngle,ae=(V+oe)/2,re,le=r(n);switch(le){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":re=ae;break;case"startAngle":case"insideStartAngle":re=V;break;case"endAngle":case"insideEndAngle":re=oe;break;default:g.setTextConfig({rotation:0});return}var ue=Math.PI*1.5-re;le==="middle"&&ue>Math.PI/2&&ue<Math.PI*1.5&&(ue-=Math.PI),g.setTextConfig({rotation:ue})}function adjustAngleDistanceX$1(g,n,r){return n*Math.sin(g)*(r?-1:1)}function adjustAngleDistanceY$1(g,n,r){return n*Math.cos(g)*(r?1:-1)}var mathMax$f=Math.max,mathMin$f=Math.min;function getClipArea$1(g,n){var r=g.getArea&&g.getArea();if(isCoordinateSystemType$1(g,"cartesian2d")){var $=g.getBaseAxis();if($.type!=="category"||!$.onBand){var L=n.getLayout("bandWidth");$.isHorizontal()?(r.x-=L,r.width+=L*2):(r.y-=L,r.height+=L*2)}}return r}var BarView$2=function(g){__extends$2(n,g);function n(){var r=g.call(this)||this;return r.type=n.type,r._isFirstFrame=!0,r}return n.prototype.render=function(r,$,L,V){this._model=r,this._removeOnRenderedListener(L),this._updateDrawMode(r);var oe=r.get("coordinateSystem");(oe==="cartesian2d"||oe==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,$,L):this._renderNormal(r,$,L,V))},n.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},n.prototype.incrementalRender=function(r,$){this._progressiveEls=[],this._incrementalRenderLarge(r,$)},n.prototype.eachRendered=function(r){traverseElements$1(this._progressiveEls||this.group,r)},n.prototype._updateDrawMode=function(r){var $=r.pipelineContext.large;(this._isLargeDraw==null||$!==this._isLargeDraw)&&(this._isLargeDraw=$,this._clear())},n.prototype._renderNormal=function(r,$,L,V){var oe=this.group,ae=r.getData(),re=this._data,le=r.coordinateSystem,ue=le.getBaseAxis(),de;le.type==="cartesian2d"?de=ue.isHorizontal():le.type==="polar"&&(de=ue.dim==="angle");var he=r.isAnimationEnabled()?r:null,pe=shouldRealtimeSort$1(r,le);pe&&this._enableRealtimeSort(pe,ae,L);var _e=r.get("clip",!0)||pe,$e=getClipArea$1(le,ae);oe.removeClipPath();var xe=r.get("roundCap",!0),Oe=r.get("showBackground",!0),Ce=r.getModel("backgroundStyle"),Ie=Ce.get("borderRadius")||0,Ne=[],ze=this._backgroundEls,Fe=V&&V.isInitSort,Ue=V&&V.type==="changeAxisOrder";function At(kt){var Dt=getLayout$1[le.type](ae,kt),Lt=createBackgroundEl$1(le,de,Dt);return Lt.useStyle(Ce.getItemStyle()),le.type==="cartesian2d"&&Lt.setShape("r",Ie),Ne[kt]=Lt,Lt}ae.diff(re).add(function(kt){var Dt=ae.getItemModel(kt),Lt=getLayout$1[le.type](ae,kt,Dt);if(Oe&&At(kt),!(!ae.hasValue(kt)||!isValidLayout$1[le.type](Lt))){var hn=!1;_e&&(hn=clip$1[le.type]($e,Lt));var vn=elementCreator$1[le.type](r,ae,kt,Lt,de,he,ue.model,!1,xe);pe&&(vn.forceLabelAnimation=!0),updateStyle$1(vn,ae,kt,Dt,Lt,r,de,le.type==="polar"),Fe?vn.attr({shape:Lt}):pe?updateRealtimeAnimation$1(pe,he,vn,Lt,kt,de,!1,!1):initProps$1(vn,{shape:Lt},r,kt),ae.setItemGraphicEl(kt,vn),oe.add(vn),vn.ignore=hn}}).update(function(kt,Dt){var Lt=ae.getItemModel(kt),hn=getLayout$1[le.type](ae,kt,Lt);if(Oe){var vn=void 0;ze.length===0?vn=At(Dt):(vn=ze[Dt],vn.useStyle(Ce.getItemStyle()),le.type==="cartesian2d"&&vn.setShape("r",Ie),Ne[kt]=vn);var _n=getLayout$1[le.type](ae,kt),$n=createBackgroundShape$1(de,_n,le);updateProps$3(vn,{shape:$n},he,kt)}var Sn=re.getItemGraphicEl(Dt);if(!ae.hasValue(kt)||!isValidLayout$1[le.type](hn)){oe.remove(Sn);return}var xn=!1;if(_e&&(xn=clip$1[le.type]($e,hn),xn&&oe.remove(Sn)),Sn?saveOldStyle$1(Sn):Sn=elementCreator$1[le.type](r,ae,kt,hn,de,he,ue.model,!!Sn,xe),pe&&(Sn.forceLabelAnimation=!0),Ue){var On=Sn.getTextContent();if(On){var Cn=labelInner$1(On);Cn.prevValue!=null&&(Cn.prevValue=Cn.value)}}else updateStyle$1(Sn,ae,kt,Lt,hn,r,de,le.type==="polar");Fe?Sn.attr({shape:hn}):pe?updateRealtimeAnimation$1(pe,he,Sn,hn,kt,de,!0,Ue):updateProps$3(Sn,{shape:hn},r,kt,null),ae.setItemGraphicEl(kt,Sn),Sn.ignore=xn,oe.add(Sn)}).remove(function(kt){var Dt=re.getItemGraphicEl(kt);Dt&&removeElementWithFadeOut$1(Dt,r,kt)}).execute();var Et=this._backgroundGroup||(this._backgroundGroup=new Group$9);Et.removeAll();for(var Pt=0;Pt<Ne.length;++Pt)Et.add(Ne[Pt]);oe.add(Et),this._backgroundEls=Ne,this._data=ae},n.prototype._renderLarge=function(r,$,L){this._clear(),createLarge$3(r,this.group),this._updateLargeClip(r)},n.prototype._incrementalRenderLarge=function(r,$){this._removeBackground(),createLarge$3($,this.group,this._progressiveEls,!0)},n.prototype._updateLargeClip=function(r){var $=r.get("clip",!0)&&createClipPath$1(r.coordinateSystem,!1,r),L=this.group;$?L.setClipPath($):L.removeClipPath()},n.prototype._enableRealtimeSort=function(r,$,L){var V=this;if($.count()){var oe=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort($,r,L),this._isFirstFrame=!1;else{var ae=function(re){var le=$.getItemGraphicEl(re),ue=le&&le.shape;return ue&&Math.abs(oe.isHorizontal()?ue.height:ue.width)||0};this._onRendered=function(){V._updateSortWithinSameData($,ae,oe,L)},L.getZr().on("rendered",this._onRendered)}}},n.prototype._dataSort=function(r,$,L){var V=[];return r.each(r.mapDimension($.dim),function(oe,ae){var re=L(ae);re=re!=null?re:NaN,V.push({dataIndex:ae,mappedValue:re,ordinalNumber:oe})}),V.sort(function(oe,ae){return ae.mappedValue-oe.mappedValue}),{ordinalNumbers:map$3(V,function(oe){return oe.ordinalNumber})}},n.prototype._isOrderChangedWithinSameData=function(r,$,L){for(var V=L.scale,oe=r.mapDimension(L.dim),ae=Number.MAX_VALUE,re=0,le=V.getOrdinalMeta().categories.length;re<le;++re){var ue=r.rawIndexOf(oe,V.getRawOrdinalNumber(re)),de=ue<0?Number.MIN_VALUE:$(r.indexOfRawIndex(ue));if(de>ae)return!0;ae=de}return!1},n.prototype._isOrderDifferentInView=function(r,$){for(var L=$.scale,V=L.getExtent(),oe=Math.max(0,V[0]),ae=Math.min(V[1],L.getOrdinalMeta().categories.length-1);oe<=ae;++oe)if(r.ordinalNumbers[oe]!==L.getRawOrdinalNumber(oe))return!0},n.prototype._updateSortWithinSameData=function(r,$,L,V){if(this._isOrderChangedWithinSameData(r,$,L)){var oe=this._dataSort(r,L,$);this._isOrderDifferentInView(oe,L)&&(this._removeOnRenderedListener(V),V.dispatchAction({type:"changeAxisOrder",componentType:L.dim+"Axis",axisId:L.index,sortInfo:oe}))}},n.prototype._dispatchInitSort=function(r,$,L){var V=$.baseAxis,oe=this._dataSort(r,V,function(ae){return r.get(r.mapDimension($.otherAxis.dim),ae)});L.dispatchAction({type:"changeAxisOrder",componentType:V.dim+"Axis",isInitSort:!0,axisId:V.index,sortInfo:oe})},n.prototype.remove=function(r,$){this._clear(this._model),this._removeOnRenderedListener($)},n.prototype.dispose=function(r,$){this._removeOnRenderedListener($)},n.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},n.prototype._clear=function(r){var $=this.group,L=this._data;r&&r.isAnimationEnabled()&&L&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],L.eachItemGraphicEl(function(V){removeElementWithFadeOut$1(V,r,getECData$1(V).dataIndex)})):$.removeAll(),this._data=null,this._isFirstFrame=!0},n.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},n.type="bar",n}(ChartView$3),clip$1={cartesian2d:function(g,n){var r=n.width<0?-1:1,$=n.height<0?-1:1;r<0&&(n.x+=n.width,n.width=-n.width),$<0&&(n.y+=n.height,n.height=-n.height);var L=g.x+g.width,V=g.y+g.height,oe=mathMax$f(n.x,g.x),ae=mathMin$f(n.x+n.width,L),re=mathMax$f(n.y,g.y),le=mathMin$f(n.y+n.height,V),ue=ae<oe,de=le<re;return n.x=ue&&oe>L?ae:oe,n.y=de&&re>V?le:re,n.width=ue?0:ae-oe,n.height=de?0:le-re,r<0&&(n.x+=n.width,n.width=-n.width),$<0&&(n.y+=n.height,n.height=-n.height),ue||de},polar:function(g,n){var r=n.r0<=n.r?1:-1;if(r<0){var $=n.r;n.r=n.r0,n.r0=$}var L=mathMin$f(n.r,g.r),V=mathMax$f(n.r0,g.r0);n.r=L,n.r0=V;var oe=L-V<0;if(r<0){var $=n.r;n.r=n.r0,n.r0=$}return oe}},elementCreator$1={cartesian2d:function(g,n,r,$,L,V,oe,ae,re){var le=new Rect$7({shape:extend$4({},$),z2:1});if(le.__dataIndex=r,le.name="item",V){var ue=le.shape,de=L?"height":"width";ue[de]=0}return le},polar:function(g,n,r,$,L,V,oe,ae,re){var le=!L&&re?Sausage$1:Sector$3,ue=new le({shape:$,z2:1});ue.name="item";var de=createPolarPositionMapping$1(L);if(ue.calculateTextPosition=createSectorCalculateTextPosition$1(de,{isRoundCap:le===Sausage$1}),V){var he=ue.shape,pe=L?"r":"endAngle",_e={};he[pe]=L?0:$.startAngle,_e[pe]=$[pe],(ae?updateProps$3:initProps$1)(ue,{shape:_e},V)}return ue}};function shouldRealtimeSort$1(g,n){var r=g.get("realtimeSort",!0),$=n.getBaseAxis();if(r&&$.type==="category"&&n.type==="cartesian2d")return{baseAxis:$,otherAxis:n.getOtherAxis($)}}function updateRealtimeAnimation$1(g,n,r,$,L,V,oe,ae){var re,le;V?(le={x:$.x,width:$.width},re={y:$.y,height:$.height}):(le={y:$.y,height:$.height},re={x:$.x,width:$.width}),ae||(oe?updateProps$3:initProps$1)(r,{shape:re},n,L,null);var ue=n?g.baseAxis.model:null;(oe?updateProps$3:initProps$1)(r,{shape:le},ue,L)}function checkPropertiesNotValid$1(g,n){for(var r=0;r<n.length;r++)if(!isFinite(g[n[r]]))return!0;return!1}var rectPropties$1=["x","y","width","height"],polarPropties$1=["cx","cy","r","startAngle","endAngle"],isValidLayout$1={cartesian2d:function(g){return!checkPropertiesNotValid$1(g,rectPropties$1)},polar:function(g){return!checkPropertiesNotValid$1(g,polarPropties$1)}},getLayout$1={cartesian2d:function(g,n,r){var $=g.getItemLayout(n),L=r?getLineWidth$1(r,$):0,V=$.width>0?1:-1,oe=$.height>0?1:-1;return{x:$.x+V*L/2,y:$.y+oe*L/2,width:$.width-V*L,height:$.height-oe*L}},polar:function(g,n,r){var $=g.getItemLayout(n);return{cx:$.cx,cy:$.cy,r0:$.r0,r:$.r,startAngle:$.startAngle,endAngle:$.endAngle,clockwise:$.clockwise}}};function isZeroOnPolar$1(g){return g.startAngle!=null&&g.endAngle!=null&&g.startAngle===g.endAngle}function createPolarPositionMapping$1(g){return function(n){var r=n?"Arc":"Angle";return function($){switch($){case"start":case"insideStart":case"end":case"insideEnd":return $+r;default:return $}}}(g)}function updateStyle$1(g,n,r,$,L,V,oe,ae){var re=n.getItemVisual(r,"style");ae||g.setShape("r",$.get(["itemStyle","borderRadius"])||0),g.useStyle(re);var le=$.getShallow("cursor");le&&g.attr("cursor",le);var ue=ae?oe?L.r>=L.r0?"endArc":"startArc":L.endAngle>=L.startAngle?"endAngle":"startAngle":oe?L.height>=0?"bottom":"top":L.width>=0?"right":"left",de=getLabelStatesModels$1($);setLabelStyle$1(g,de,{labelFetcher:V,labelDataIndex:r,defaultText:getDefaultLabel$1(V.getData(),r),inheritColor:re.fill,defaultOpacity:re.opacity,defaultOutsidePosition:ue});var he=g.getTextContent();if(ae&&he){var pe=$.get(["label","position"]);g.textConfig.inside=pe==="middle"?!0:null,setSectorTextRotation$1(g,pe==="outside"?ue:pe,createPolarPositionMapping$1(oe),$.get(["label","rotate"]))}setLabelValueAnimation$1(he,de,V.getRawValue(r),function($e){return getDefaultInterpolatedLabel$1(n,$e)});var _e=$.getModel(["emphasis"]);toggleHoverEmphasis$1(g,_e.get("focus"),_e.get("blurScope"),_e.get("disabled")),setStatesStylesFromModel$1(g,$),isZeroOnPolar$1(L)&&(g.style.fill="none",g.style.stroke="none",each$v(g.states,function($e){$e.style&&($e.style.fill=$e.style.stroke="none")}))}function getLineWidth$1(g,n){var r=g.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var $=g.get(["itemStyle","borderWidth"])||0,L=isNaN(n.width)?Number.MAX_VALUE:Math.abs(n.width),V=isNaN(n.height)?Number.MAX_VALUE:Math.abs(n.height);return Math.min($,L,V)}var LagePathShape$1=function(){function g(){}return g}(),LargePath$1=function(g){__extends$2(n,g);function n(r){var $=g.call(this,r)||this;return $.type="largeBar",$}return n.prototype.getDefaultShape=function(){return new LagePathShape$1},n.prototype.buildPath=function(r,$){for(var L=$.points,V=this.baseDimIdx,oe=1-this.baseDimIdx,ae=[],re=[],le=this.barWidth,ue=0;ue<L.length;ue+=3)re[V]=le,re[oe]=L[ue+2],ae[V]=L[ue+V],ae[oe]=L[ue+oe],r.rect(ae[0],ae[1],re[0],re[1])},n}(Path$3);function createLarge$3(g,n,r,$){var L=g.getData(),V=L.getLayout("valueAxisHorizontal")?1:0,oe=L.getLayout("largeDataIndices"),ae=L.getLayout("size"),re=g.getModel("backgroundStyle"),le=L.getLayout("largeBackgroundPoints");if(le){var ue=new LargePath$1({shape:{points:le},incremental:!!$,silent:!0,z2:0});ue.baseDimIdx=V,ue.largeDataIndices=oe,ue.barWidth=ae,ue.useStyle(re.getItemStyle()),n.add(ue),r&&r.push(ue)}var de=new LargePath$1({shape:{points:L.getLayout("largePoints")},incremental:!!$,ignoreCoarsePointer:!0,z2:1});de.baseDimIdx=V,de.largeDataIndices=oe,de.barWidth=ae,n.add(de),de.useStyle(L.getVisual("style")),getECData$1(de).seriesIndex=g.seriesIndex,g.get("silent")||(de.on("mousedown",largePathUpdateDataIndex$1),de.on("mousemove",largePathUpdateDataIndex$1)),r&&r.push(de)}var largePathUpdateDataIndex$1=throttle$1(function(g){var n=this,r=largePathFindDataIndex$1(n,g.offsetX,g.offsetY);getECData$1(n).dataIndex=r>=0?r:null},30,!1);function largePathFindDataIndex$1(g,n,r){for(var $=g.baseDimIdx,L=1-$,V=g.shape.points,oe=g.largeDataIndices,ae=[],re=[],le=g.barWidth,ue=0,de=V.length/3;ue<de;ue++){var he=ue*3;if(re[$]=le,re[L]=V[he+2],ae[$]=V[he+$],ae[L]=V[he+L],re[L]<0&&(ae[L]+=re[L],re[L]=-re[L]),n>=ae[0]&&n<=ae[0]+re[0]&&r>=ae[1]&&r<=ae[1]+re[1])return oe[ue]}return-1}function createBackgroundShape$1(g,n,r){if(isCoordinateSystemType$1(r,"cartesian2d")){var $=n,L=r.getArea();return{x:g?$.x:L.x,y:g?L.y:$.y,width:g?$.width:L.width,height:g?L.height:$.height}}else{var L=r.getArea(),V=n;return{cx:L.cx,cy:L.cy,r0:g?L.r0:V.r0,r:g?L.r:V.r,startAngle:g?V.startAngle:0,endAngle:g?V.endAngle:Math.PI*2}}}function createBackgroundEl$1(g,n,r){var $=g.type==="polar"?Sector$3:Rect$7;return new $({shape:createBackgroundShape$1(n,r,g),silent:!0,z2:0})}const BarView$3=BarView$2;function install$1I(g){g.registerChartView(BarView$3),g.registerSeriesModel(BarSeries$1),g.registerLayout(g.PRIORITY.VISUAL.LAYOUT,curry$3(layout$8,"bar")),g.registerLayout(g.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout$1("bar")),g.registerProcessor(g.PRIORITY.PROCESSOR.STATISTIC,dataSample$1("bar")),g.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(n,r){var $=n.componentType||"series";r.eachComponent({mainType:$,query:n},function(L){n.sortInfo&&L.axis.setCategorySortInfo(n.sortInfo)})})}var PI2$9=Math.PI*2,RADIAN$5=Math.PI/180;function getViewRect$b(g,n){return getLayoutRect$1(g.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getBasicPieLayout$1(g,n){var r=getViewRect$b(g,n),$=g.get("center"),L=g.get("radius");isArray$6(L)||(L=[0,L]);var V=parsePercent$2(r.width,n.getWidth()),oe=parsePercent$2(r.height,n.getHeight()),ae=Math.min(V,oe),re=parsePercent$2(L[0],ae/2),le=parsePercent$2(L[1],ae/2),ue,de,he=g.coordinateSystem;if(he){var pe=he.dataToPoint($);ue=pe[0]||0,de=pe[1]||0}else isArray$6($)||($=[$,$]),ue=parsePercent$2($[0],V)+r.x,de=parsePercent$2($[1],oe)+r.y;return{cx:ue,cy:de,r0:re,r:le}}function pieLayout$1(g,n,r){n.eachSeriesByType(g,function($){var L=$.getData(),V=L.mapDimension("value"),oe=getViewRect$b($,r),ae=getBasicPieLayout$1($,r),re=ae.cx,le=ae.cy,ue=ae.r,de=ae.r0,he=-$.get("startAngle")*RADIAN$5,pe=$.get("minAngle")*RADIAN$5,_e=0;L.each(V,function(Pt){!isNaN(Pt)&&_e++});var $e=L.getSum(V),xe=Math.PI/($e||_e)*2,Oe=$.get("clockwise"),Ce=$.get("roseType"),Ie=$.get("stillShowZeroSum"),Ne=L.getDataExtent(V);Ne[0]=0;var ze=PI2$9,Fe=0,Ue=he,At=Oe?1:-1;if(L.setLayout({viewRect:oe,r:ue}),L.each(V,function(Pt,kt){var Dt;if(isNaN(Pt)){L.setItemLayout(kt,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:Oe,cx:re,cy:le,r0:de,r:Ce?NaN:ue});return}Ce!=="area"?Dt=$e===0&&Ie?xe:Pt*xe:Dt=PI2$9/_e,Dt<pe?(Dt=pe,ze-=pe):Fe+=Pt;var Lt=Ue+At*Dt;L.setItemLayout(kt,{angle:Dt,startAngle:Ue,endAngle:Lt,clockwise:Oe,cx:re,cy:le,r0:de,r:Ce?linearMap$5(Pt,Ne,[de,ue]):ue}),Ue=Lt}),ze<PI2$9&&_e)if(ze<=.001){var Et=PI2$9/_e;L.each(V,function(Pt,kt){if(!isNaN(Pt)){var Dt=L.getItemLayout(kt);Dt.angle=Et,Dt.startAngle=he+At*kt*Et,Dt.endAngle=he+At*(kt+1)*Et}})}else xe=ze/Fe,Ue=he,L.each(V,function(Pt,kt){if(!isNaN(Pt)){var Dt=L.getItemLayout(kt),Lt=Dt.angle===pe?pe:Pt*xe;Dt.startAngle=Ue,Dt.endAngle=Ue+At*Lt,Ue+=At*Lt}})})}function dataFilter$3(g){return{seriesType:g,reset:function(n,r){var $=r.findComponents({mainType:"legend"});if(!(!$||!$.length)){var L=n.getData();L.filterSelf(function(V){for(var oe=L.getName(V),ae=0;ae<$.length;ae++)if(!$[ae].isSelected(oe))return!1;return!0})}}}}var RADIAN$4=Math.PI/180;function adjustSingleSide$1(g,n,r,$,L,V,oe,ae,re,le){if(g.length<2)return;function ue($e){for(var xe=$e.rB,Oe=xe*xe,Ce=0;Ce<$e.list.length;Ce++){var Ie=$e.list[Ce],Ne=Math.abs(Ie.label.y-r),ze=$+Ie.len,Fe=ze*ze,Ue=Math.sqrt((1-Math.abs(Ne*Ne/Oe))*Fe),At=n+(Ue+Ie.len2)*L,Et=At-Ie.label.x,Pt=Ie.targetTextWidth-Et*L;constrainTextWidth$1(Ie,Pt,!0),Ie.label.x=At}}function de($e){for(var xe={list:[],maxY:0},Oe={list:[],maxY:0},Ce=0;Ce<$e.length;Ce++)if($e[Ce].labelAlignTo==="none"){var Ie=$e[Ce],Ne=Ie.label.y>r?Oe:xe,ze=Math.abs(Ie.label.y-r);if(ze>=Ne.maxY){var Fe=Ie.label.x-n-Ie.len2*L,Ue=$+Ie.len,At=Math.abs(Fe)<Ue?Math.sqrt(ze*ze/(1-Fe*Fe/Ue/Ue)):Ue;Ne.rB=At,Ne.maxY=ze}Ne.list.push(Ie)}ue(xe),ue(Oe)}for(var he=g.length,pe=0;pe<he;pe++)if(g[pe].position==="outer"&&g[pe].labelAlignTo==="labelLine"){var _e=g[pe].label.x-le;g[pe].linePoints[1][0]+=_e,g[pe].label.x=le}shiftLayoutOnY$1(g,re,re+oe)&&de(g)}function avoidOverlap$1(g,n,r,$,L,V,oe,ae){for(var re=[],le=[],ue=Number.MAX_VALUE,de=-Number.MAX_VALUE,he=0;he<g.length;he++){var pe=g[he].label;isPositionCenter$1(g[he])||(pe.x<n?(ue=Math.min(ue,pe.x),re.push(g[he])):(de=Math.max(de,pe.x),le.push(g[he])))}for(var he=0;he<g.length;he++){var _e=g[he];if(!isPositionCenter$1(_e)&&_e.linePoints){if(_e.labelStyleWidth!=null)continue;var pe=_e.label,$e=_e.linePoints,xe=void 0;_e.labelAlignTo==="edge"?pe.x<n?xe=$e[2][0]-_e.labelDistance-oe-_e.edgeDistance:xe=oe+L-_e.edgeDistance-$e[2][0]-_e.labelDistance:_e.labelAlignTo==="labelLine"?pe.x<n?xe=ue-oe-_e.bleedMargin:xe=oe+L-de-_e.bleedMargin:pe.x<n?xe=pe.x-oe-_e.bleedMargin:xe=oe+L-pe.x-_e.bleedMargin,_e.targetTextWidth=xe,constrainTextWidth$1(_e,xe)}}adjustSingleSide$1(le,n,r,$,1,L,V,oe,ae,de),adjustSingleSide$1(re,n,r,$,-1,L,V,oe,ae,ue);for(var he=0;he<g.length;he++){var _e=g[he];if(!isPositionCenter$1(_e)&&_e.linePoints){var pe=_e.label,$e=_e.linePoints,Oe=_e.labelAlignTo==="edge",Ce=pe.style.padding,Ie=Ce?Ce[1]+Ce[3]:0,Ne=pe.style.backgroundColor?0:Ie,ze=_e.rect.width+Ne,Fe=$e[1][0]-$e[2][0];Oe?pe.x<n?$e[2][0]=oe+_e.edgeDistance+ze+_e.labelDistance:$e[2][0]=oe+L-_e.edgeDistance-ze-_e.labelDistance:(pe.x<n?$e[2][0]=pe.x+_e.labelDistance:$e[2][0]=pe.x-_e.labelDistance,$e[1][0]=$e[2][0]+Fe),$e[1][1]=$e[2][1]=pe.y}}}function constrainTextWidth$1(g,n,r){if(r===void 0&&(r=!1),g.labelStyleWidth==null){var $=g.label,L=$.style,V=g.rect,oe=L.backgroundColor,ae=L.padding,re=ae?ae[1]+ae[3]:0,le=L.overflow,ue=V.width+(oe?0:re);if(n<ue||r){var de=V.height;if(le&&le.match("break")){$.setStyle("backgroundColor",null),$.setStyle("width",n-re);var he=$.getBoundingRect();$.setStyle("width",Math.ceil(he.width)),$.setStyle("backgroundColor",oe)}else{var pe=n-re,_e=n<ue?pe:r?pe>g.unconstrainedWidth?null:pe:null;$.setStyle("width",_e)}var $e=$.getBoundingRect();V.width=$e.width;var xe=($.style.margin||0)+2.1;V.height=$e.height+xe,V.y-=(V.height-de)/2}}}function isPositionCenter$1(g){return g.position==="center"}function pieLabelLayout$1(g){var n=g.getData(),r=[],$,L,V=!1,oe=(g.get("minShowLabelAngle")||0)*RADIAN$4,ae=n.getLayout("viewRect"),re=n.getLayout("r"),le=ae.width,ue=ae.x,de=ae.y,he=ae.height;function pe(Fe){Fe.ignore=!0}function _e(Fe){if(!Fe.ignore)return!0;for(var Ue in Fe.states)if(Fe.states[Ue].ignore===!1)return!0;return!1}n.each(function(Fe){var Ue=n.getItemGraphicEl(Fe),At=Ue.shape,Et=Ue.getTextContent(),Pt=Ue.getTextGuideLine(),kt=n.getItemModel(Fe),Dt=kt.getModel("label"),Lt=Dt.get("position")||kt.get(["emphasis","label","position"]),hn=Dt.get("distanceToLabelLine"),vn=Dt.get("alignTo"),_n=parsePercent$2(Dt.get("edgeDistance"),le),$n=Dt.get("bleedMargin"),Sn=kt.getModel("labelLine"),xn=Sn.get("length");xn=parsePercent$2(xn,le);var On=Sn.get("length2");if(On=parsePercent$2(On,le),Math.abs(At.endAngle-At.startAngle)<oe){each$v(Et.states,pe),Et.ignore=!0,Pt&&(each$v(Pt.states,pe),Pt.ignore=!0);return}if(_e(Et)){var Cn=(At.startAngle+At.endAngle)/2,An=Math.cos(Cn),Rn=Math.sin(Cn),Fn,Pn,Un,Dn;$=At.cx,L=At.cy;var kn=Lt==="inside"||Lt==="inner";if(Lt==="center")Fn=At.cx,Pn=At.cy,Dn="center";else{var Nn=(kn?(At.r+At.r0)/2*An:At.r*An)+$,Vn=(kn?(At.r+At.r0)/2*Rn:At.r*Rn)+L;if(Fn=Nn+An*3,Pn=Vn+Rn*3,!kn){var Ln=Nn+An*(xn+re-At.r),Tn=Vn+Rn*(xn+re-At.r),In=Ln+(An<0?-1:1)*On,Bn=Tn;vn==="edge"?Fn=An<0?ue+_n:ue+le-_n:Fn=In+(An<0?-hn:hn),Pn=Bn,Un=[[Nn,Vn],[Ln,Tn],[In,Bn]]}Dn=kn?"center":vn==="edge"?An>0?"right":"left":An>0?"left":"right"}var Qn=Math.PI,Zn=0,Kn=Dt.get("rotate");if(isNumber$3(Kn))Zn=Kn*(Qn/180);else if(Lt==="center")Zn=0;else if(Kn==="radial"||Kn===!0){var ui=An<0?-Cn+Qn:-Cn;Zn=ui}else if(Kn==="tangential"&&Lt!=="outside"&&Lt!=="outer"){var ei=Math.atan2(An,Rn);ei<0&&(ei=Qn*2+ei);var si=Rn>0;si&&(ei=Qn+ei),Zn=ei-Qn}if(V=!!Zn,Et.x=Fn,Et.y=Pn,Et.rotation=Zn,Et.setStyle({verticalAlign:"middle"}),kn){Et.setStyle({align:Dn});var ti=Et.states.select;ti&&(ti.x+=Et.x,ti.y+=Et.y)}else{var Jn=Et.getBoundingRect().clone();Jn.applyTransform(Et.getComputedTransform());var di=(Et.style.margin||0)+2.1;Jn.y-=di/2,Jn.height+=di,r.push({label:Et,labelLine:Pt,position:Lt,len:xn,len2:On,minTurnAngle:Sn.get("minTurnAngle"),maxSurfaceAngle:Sn.get("maxSurfaceAngle"),surfaceNormal:new Point$3(An,Rn),linePoints:Un,textAlign:Dn,labelDistance:hn,labelAlignTo:vn,edgeDistance:_n,bleedMargin:$n,rect:Jn,unconstrainedWidth:Jn.width,labelStyleWidth:Et.style.width})}Ue.setTextConfig({inside:kn})}}),!V&&g.get("avoidLabelOverlap")&&avoidOverlap$1(r,$,L,re,le,he,ue,de);for(var $e=0;$e<r.length;$e++){var xe=r[$e],Oe=xe.label,Ce=xe.labelLine,Ie=isNaN(Oe.x)||isNaN(Oe.y);if(Oe){Oe.setStyle({align:xe.textAlign}),Ie&&(each$v(Oe.states,pe),Oe.ignore=!0);var Ne=Oe.states.select;Ne&&(Ne.x+=Oe.x,Ne.y+=Oe.y)}if(Ce){var ze=xe.linePoints;Ie||!ze?(each$v(Ce.states,pe),Ce.ignore=!0):(limitTurnAngle$1(ze,xe.minTurnAngle),limitSurfaceAngle$1(ze,xe.surfaceNormal,xe.maxSurfaceAngle),Ce.setShape({points:ze}),Oe.__hostTarget.textGuideLineConfig={anchor:new Point$3(ze[0][0],ze[0][1])})}}}function getSectorCornerRadius$1(g,n,r){var $=g.get("borderRadius");if($==null)return r?{cornerRadius:0}:null;isArray$6($)||($=[$,$,$,$]);var L=Math.abs(n.r||0-n.r0||0);return{cornerRadius:map$3($,function(V){return parsePercent$3(V,L)})}}var PiePiece$1=function(g){__extends$2(n,g);function n(r,$,L){var V=g.call(this)||this;V.z2=2;var oe=new ZRText$3;return V.setTextContent(oe),V.updateData(r,$,L,!0),V}return n.prototype.updateData=function(r,$,L,V){var oe=this,ae=r.hostModel,re=r.getItemModel($),le=re.getModel("emphasis"),ue=r.getItemLayout($),de=extend$4(getSectorCornerRadius$1(re.getModel("itemStyle"),ue,!0),ue);if(isNaN(de.startAngle)){oe.setShape(de);return}if(V){oe.setShape(de);var he=ae.getShallow("animationType");ae.ecModel.ssr?(initProps$1(oe,{scaleX:0,scaleY:0},ae,{dataIndex:$,isFrom:!0}),oe.originX=de.cx,oe.originY=de.cy):he==="scale"?(oe.shape.r=ue.r0,initProps$1(oe,{shape:{r:ue.r}},ae,$)):L!=null?(oe.setShape({startAngle:L,endAngle:L}),initProps$1(oe,{shape:{startAngle:ue.startAngle,endAngle:ue.endAngle}},ae,$)):(oe.shape.endAngle=ue.startAngle,updateProps$3(oe,{shape:{endAngle:ue.endAngle}},ae,$))}else saveOldStyle$1(oe),updateProps$3(oe,{shape:de},ae,$);oe.useStyle(r.getItemVisual($,"style")),setStatesStylesFromModel$1(oe,re);var pe=(ue.startAngle+ue.endAngle)/2,_e=ae.get("selectedOffset"),$e=Math.cos(pe)*_e,xe=Math.sin(pe)*_e,Oe=re.getShallow("cursor");Oe&&oe.attr("cursor",Oe),this._updateLabel(ae,r,$),oe.ensureState("emphasis").shape=extend$4({r:ue.r+(le.get("scale")&&le.get("scaleSize")||0)},getSectorCornerRadius$1(le.getModel("itemStyle"),ue)),extend$4(oe.ensureState("select"),{x:$e,y:xe,shape:getSectorCornerRadius$1(re.getModel(["select","itemStyle"]),ue)}),extend$4(oe.ensureState("blur"),{shape:getSectorCornerRadius$1(re.getModel(["blur","itemStyle"]),ue)});var Ce=oe.getTextGuideLine(),Ie=oe.getTextContent();Ce&&extend$4(Ce.ensureState("select"),{x:$e,y:xe}),extend$4(Ie.ensureState("select"),{x:$e,y:xe}),toggleHoverEmphasis$1(this,le.get("focus"),le.get("blurScope"),le.get("disabled"))},n.prototype._updateLabel=function(r,$,L){var V=this,oe=$.getItemModel(L),ae=oe.getModel("labelLine"),re=$.getItemVisual(L,"style"),le=re&&re.fill,ue=re&&re.opacity;setLabelStyle$1(V,getLabelStatesModels$1(oe),{labelFetcher:$.hostModel,labelDataIndex:L,inheritColor:le,defaultOpacity:ue,defaultText:r.getFormattedLabel(L,"normal")||$.getName(L)});var de=V.getTextContent();V.setTextConfig({position:null,rotation:null}),de.attr({z2:10});var he=r.get(["label","position"]);if(he!=="outside"&&he!=="outer")V.removeTextGuideLine();else{var pe=this.getTextGuideLine();pe||(pe=new Polyline$7,this.setTextGuideLine(pe)),setLabelLineStyle$1(this,getLabelLineStatesModels$1(oe),{stroke:le,opacity:retrieve3$1(ae.get(["lineStyle","opacity"]),ue,1)})}},n}(Sector$3),PieView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return n.prototype.render=function(r,$,L,V){var oe=r.getData(),ae=this._data,re=this.group,le;if(!ae&&oe.count()>0){for(var ue=oe.getItemLayout(0),de=1;isNaN(ue&&ue.startAngle)&&de<oe.count();++de)ue=oe.getItemLayout(de);ue&&(le=ue.startAngle)}if(this._emptyCircleSector&&re.remove(this._emptyCircleSector),oe.count()===0&&r.get("showEmptyCircle")){var he=new Sector$3({shape:getBasicPieLayout$1(r,L)});he.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=he,re.add(he)}oe.diff(ae).add(function(pe){var _e=new PiePiece$1(oe,pe,le);oe.setItemGraphicEl(pe,_e),re.add(_e)}).update(function(pe,_e){var $e=ae.getItemGraphicEl(_e);$e.updateData(oe,pe,le),$e.off("click"),re.add($e),oe.setItemGraphicEl(pe,$e)}).remove(function(pe){var _e=ae.getItemGraphicEl(pe);removeElementWithFadeOut$1(_e,r,pe)}).execute(),pieLabelLayout$1(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=oe)},n.prototype.dispose=function(){},n.prototype.containPoint=function(r,$){var L=$.getData(),V=L.getItemLayout(0);if(V){var oe=r[0]-V.cx,ae=r[1]-V.cy,re=Math.sqrt(oe*oe+ae*ae);return re<=V.r&&re>=V.r0}},n.type="pie",n}(ChartView$3);const PieView$3=PieView$2;function createSeriesDataSimply$1(g,n,r){n=isArray$6(n)&&{coordDimensions:n}||extend$4({encodeDefine:g.getEncode()},n);var $=g.getSource(),L=prepareSeriesDataSchema$1($,n).dimensions,V=new SeriesData$3(L,g);return V.initData($,r),V}var LegendVisualProvider$2=function(){function g(n,r){this._getDataWithEncodedVisual=n,this._getRawData=r}return g.prototype.getAllNames=function(){var n=this._getRawData();return n.mapArray(n.getName)},g.prototype.containName=function(n){var r=this._getRawData();return r.indexOfName(n)>=0},g.prototype.indexOfName=function(n){var r=this._getDataWithEncodedVisual();return r.indexOfName(n)},g.prototype.getItemVisual=function(n,r){var $=this._getDataWithEncodedVisual();return $.getItemVisual(n,r)},g}();const LegendVisualProvider$3=LegendVisualProvider$2;var innerData$1=makeInner$1(),PieSeriesModel$2=function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.init=function(r){g.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$3(bind$5(this.getData,this),bind$5(this.getRawData,this)),this._defaultLabelLine(r)},n.prototype.mergeOption=function(){g.prototype.mergeOption.apply(this,arguments)},n.prototype.getInitialData=function(){return createSeriesDataSimply$1(this,{coordDimensions:["value"],encodeDefaulter:curry$3(makeSeriesEncodeForNameBased$1,this)})},n.prototype.getDataParams=function(r){var $=this.getData(),L=innerData$1($),V=L.seats;if(!V){var oe=[];$.each($.mapDimension("value"),function(re){oe.push(re)}),V=L.seats=getPercentSeats$1(oe,$.hostModel.get("percentPrecision"))}var ae=g.prototype.getDataParams.call(this,r);return ae.percent=V[r]||0,ae.$vars.push("percent"),ae},n.prototype._defaultLabelLine=function(r){defaultEmphasis$1(r,"labelLine",["show"]);var $=r.labelLine,L=r.emphasis.labelLine;$.show=$.show&&r.label.show,L.show=L.show&&r.emphasis.label.show},n.type="series.pie",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},n}(SeriesModel$3);const PieSeriesModel$3=PieSeriesModel$2;function negativeDataFilter$1(g){return{seriesType:g,reset:function(n,r){var $=n.getData();$.filterSelf(function(L){var V=$.mapDimension("value"),oe=$.get(V,L);return!(isNumber$3(oe)&&!isNaN(oe)&&oe<0)})}}}function install$1H(g){g.registerChartView(PieView$3),g.registerSeriesModel(PieSeriesModel$3),createLegacyDataSelectAction$1("pie",g.registerAction),g.registerLayout(curry$3(pieLayout$1,"pie")),g.registerProcessor(dataFilter$3("pie")),g.registerProcessor(negativeDataFilter$1("pie"))}var ScatterSeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(r,$){return createSeriesData$1(null,this,{useEncodeDefaulter:!0})},n.prototype.getProgressive=function(){var r=this.option.progressive;return r!=null?r:this.option.large?5e3:this.get("progressive")},n.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r!=null?r:this.option.large?1e4:this.get("progressiveThreshold")},n.prototype.brushSelector=function(r,$,L){return L.point($.getItemLayout(r))},n.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},n.type="series.scatter",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},n}(SeriesModel$3);const ScatterSeriesModel$3=ScatterSeriesModel$2;var BOOST_SIZE_THRESHOLD$1=4,LargeSymbolPathShape$1=function(){function g(){}return g}(),LargeSymbolPath$1=function(g){__extends$2(n,g);function n(r){var $=g.call(this,r)||this;return $._off=0,$.hoverDataIdx=-1,$}return n.prototype.getDefaultShape=function(){return new LargeSymbolPathShape$1},n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.buildPath=function(r,$){var L=$.points,V=$.size,oe=this.symbolProxy,ae=oe.shape,re=r.getContext?r.getContext():r,le=re&&V[0]<BOOST_SIZE_THRESHOLD$1,ue=this.softClipShape,de;if(le){this._ctx=re;return}for(this._ctx=null,de=this._off;de<L.length;){var he=L[de++],pe=L[de++];isNaN(he)||isNaN(pe)||ue&&!ue.contain(he,pe)||(ae.x=he-V[0]/2,ae.y=pe-V[1]/2,ae.width=V[0],ae.height=V[1],oe.buildPath(r,ae,!0))}this.incremental&&(this._off=de,this.notClear=!0)},n.prototype.afterBrush=function(){var r=this.shape,$=r.points,L=r.size,V=this._ctx,oe=this.softClipShape,ae;if(V){for(ae=this._off;ae<$.length;){var re=$[ae++],le=$[ae++];isNaN(re)||isNaN(le)||oe&&!oe.contain(re,le)||V.fillRect(re-L[0]/2,le-L[1]/2,L[0],L[1])}this.incremental&&(this._off=ae,this.notClear=!0)}},n.prototype.findDataIndex=function(r,$){for(var L=this.shape,V=L.points,oe=L.size,ae=Math.max(oe[0],4),re=Math.max(oe[1],4),le=V.length/2-1;le>=0;le--){var ue=le*2,de=V[ue]-ae/2,he=V[ue+1]-re/2;if(r>=de&&$>=he&&r<=de+ae&&$<=he+re)return le}return-1},n.prototype.contain=function(r,$){var L=this.transformCoordToLocal(r,$),V=this.getBoundingRect();if(r=L[0],$=L[1],V.contain(r,$)){var oe=this.hoverDataIdx=this.findDataIndex(r,$);return oe>=0}return this.hoverDataIdx=-1,!1},n.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var $=this.shape,L=$.points,V=$.size,oe=V[0],ae=V[1],re=1/0,le=1/0,ue=-1/0,de=-1/0,he=0;he<L.length;){var pe=L[he++],_e=L[he++];re=Math.min(pe,re),ue=Math.max(pe,ue),le=Math.min(_e,le),de=Math.max(_e,de)}r=this._rect=new BoundingRect$3(re-oe/2,le-ae/2,ue-re+oe,de-le+ae)}return r},n}(Path$3),LargeSymbolDraw$2=function(){function g(){this.group=new Group$9}return g.prototype.updateData=function(n,r){this._clear();var $=this._create();$.setShape({points:n.getLayout("points")}),this._setCommon($,n,r)},g.prototype.updateLayout=function(n){var r=n.getLayout("points");this.group.eachChild(function($){if($.startIndex!=null){var L=($.endIndex-$.startIndex)*2,V=$.startIndex*4*2;r=new Float32Array(r.buffer,V,L)}$.setShape("points",r),$.reset()})},g.prototype.incrementalPrepareUpdate=function(n){this._clear()},g.prototype.incrementalUpdate=function(n,r,$){var L=this._newAdded[0],V=r.getLayout("points"),oe=L&&L.shape.points;if(oe&&oe.length<2e4){var ae=oe.length,re=new Float32Array(ae+V.length);re.set(oe),re.set(V,ae),L.endIndex=n.end,L.setShape({points:re})}else{this._newAdded=[];var le=this._create();le.startIndex=n.start,le.endIndex=n.end,le.incremental=!0,le.setShape({points:V}),this._setCommon(le,r,$)}},g.prototype.eachRendered=function(n){this._newAdded[0]&&n(this._newAdded[0])},g.prototype._create=function(){var n=new LargeSymbolPath$1({cursor:"default"});return n.ignoreCoarsePointer=!0,this.group.add(n),this._newAdded.push(n),n},g.prototype._setCommon=function(n,r,$){var L=r.hostModel;$=$||{};var V=r.getVisual("symbolSize");n.setShape("size",V instanceof Array?V:[V,V]),n.softClipShape=$.clipShape||null,n.symbolProxy=createSymbol$3(r.getVisual("symbol"),0,0,0,0),n.setColor=n.symbolProxy.setColor;var oe=n.shape.size[0]<BOOST_SIZE_THRESHOLD$1;n.useStyle(L.getModel("itemStyle").getItemStyle(oe?["color","shadowBlur","shadowColor"]:["color"]));var ae=r.getVisual("style"),re=ae&&ae.fill;re&&n.setColor(re);var le=getECData$1(n);le.seriesIndex=L.seriesIndex,n.on("mousemove",function(ue){le.dataIndex=null;var de=n.hoverDataIdx;de>=0&&(le.dataIndex=de+(n.startIndex||0))})},g.prototype.remove=function(){this._clear()},g.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},g}();const LargeSymbolDraw$3=LargeSymbolDraw$2;var ScatterView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=r.getData(),oe=this._updateSymbolDraw(V,r);oe.updateData(V,{clipShape:this._getClipShape(r)}),this._finished=!0},n.prototype.incrementalPrepareRender=function(r,$,L){var V=r.getData(),oe=this._updateSymbolDraw(V,r);oe.incrementalPrepareUpdate(V),this._finished=!1},n.prototype.incrementalRender=function(r,$,L){this._symbolDraw.incrementalUpdate(r,$.getData(),{clipShape:this._getClipShape($)}),this._finished=r.end===$.getData().count()},n.prototype.updateTransform=function(r,$,L){var V=r.getData();if(this.group.dirty(),!this._finished||V.count()>1e4)return{update:!0};var oe=pointsLayout$1("").reset(r,$,L);oe.progress&&oe.progress({start:0,end:V.count(),count:V.count()},V),this._symbolDraw.updateLayout(V)},n.prototype.eachRendered=function(r){this._symbolDraw&&this._symbolDraw.eachRendered(r)},n.prototype._getClipShape=function(r){var $=r.coordinateSystem,L=$&&$.getArea&&$.getArea();return r.get("clip",!0)?L:null},n.prototype._updateSymbolDraw=function(r,$){var L=this._symbolDraw,V=$.pipelineContext,oe=V.large;return(!L||oe!==this._isLargeDraw)&&(L&&L.remove(),L=this._symbolDraw=oe?new LargeSymbolDraw$3:new SymbolDraw$3,this._isLargeDraw=oe,this.group.removeAll()),this.group.add(L.group),L},n.prototype.remove=function(r,$){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},n.prototype.dispose=function(){},n.type="scatter",n}(ChartView$3);const ScatterView$3=ScatterView$2;var GridModel$2=function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.type="grid",n.dependencies=["xAxis","yAxis"],n.layoutMode="box",n.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},n}(ComponentModel$3);const GridModel$3=GridModel$2;var CartesianAxisModel$1=function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING$1).models[0]},n.type="cartesian2dAxis",n}(ComponentModel$3);mixin$1(CartesianAxisModel$1,AxisModelCommonMixin$1);var defaultOption$3={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis$1=merge$3({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption$3),valueAxis$1=merge$3({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption$3),timeAxis$1=merge$3({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis$1),logAxis$1=defaults$7({logBase:10},valueAxis$1);const axisDefault$1={category:categoryAxis$1,value:valueAxis$1,time:timeAxis$1,log:logAxis$1};var AXIS_TYPES$1={value:1,category:1,time:1,log:1};function axisModelCreator$1(g,n,r,$){each$v(AXIS_TYPES$1,function(L,V){var oe=merge$3(merge$3({},axisDefault$1[V],!0),$,!0),ae=function(re){__extends$2(le,re);function le(){var ue=re!==null&&re.apply(this,arguments)||this;return ue.type=n+"Axis."+V,ue}return le.prototype.mergeDefaultAndTheme=function(ue,de){var he=fetchLayoutMode$1(this),pe=he?getLayoutParams$1(ue):{},_e=de.getTheme();merge$3(ue,_e.get(V+"Axis")),merge$3(ue,this.getDefaultOption()),ue.type=getAxisType$1(ue),he&&mergeLayoutParam$1(ue,pe,he)},le.prototype.optionUpdated=function(){var ue=this.option;ue.type==="category"&&(this.__ordinalMeta=OrdinalMeta$3.createByAxisModel(this))},le.prototype.getCategories=function(ue){var de=this.option;if(de.type==="category")return ue?de.data:this.__ordinalMeta.categories},le.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},le.type=n+"Axis."+V,le.defaultOption=oe,le}(r);g.registerComponentModel(ae)}),g.registerSubTypeDefaulter(n+"Axis",getAxisType$1)}function getAxisType$1(g){return g.type||(g.data?"category":"value")}var Cartesian$2=function(){function g(n){this.type="cartesian",this._dimList=[],this._axes={},this.name=n||""}return g.prototype.getAxis=function(n){return this._axes[n]},g.prototype.getAxes=function(){return map$3(this._dimList,function(n){return this._axes[n]},this)},g.prototype.getAxesByScale=function(n){return n=n.toLowerCase(),filter$1(this.getAxes(),function(r){return r.scale.type===n})},g.prototype.addAxis=function(n){var r=n.dim;this._axes[r]=n,this._dimList.push(r)},g}();const Cartesian$3=Cartesian$2;var cartesian2DDimensions$1=["x","y"];function canCalculateAffineTransform$1(g){return g.type==="interval"||g.type==="time"}var Cartesian2D$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=cartesian2DDimensions$1,r}return n.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,$=this.getAxis("y").scale;if(!(!canCalculateAffineTransform$1(r)||!canCalculateAffineTransform$1($))){var L=r.getExtent(),V=$.getExtent(),oe=this.dataToPoint([L[0],V[0]]),ae=this.dataToPoint([L[1],V[1]]),re=L[1]-L[0],le=V[1]-V[0];if(!(!re||!le)){var ue=(ae[0]-oe[0])/re,de=(ae[1]-oe[1])/le,he=oe[0]-L[0]*ue,pe=oe[1]-V[0]*de,_e=this._transform=[ue,0,0,de,he,pe];this._invTransform=invert$1([],_e)}}},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},n.prototype.containPoint=function(r){var $=this.getAxis("x"),L=this.getAxis("y");return $.contain($.toLocalCoord(r[0]))&&L.contain(L.toLocalCoord(r[1]))},n.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},n.prototype.containZone=function(r,$){var L=this.dataToPoint(r),V=this.dataToPoint($),oe=this.getArea(),ae=new BoundingRect$3(L[0],L[1],V[0]-L[0],V[1]-L[1]);return oe.intersect(ae)},n.prototype.dataToPoint=function(r,$,L){L=L||[];var V=r[0],oe=r[1];if(this._transform&&V!=null&&isFinite(V)&&oe!=null&&isFinite(oe))return applyTransform$3(L,r,this._transform);var ae=this.getAxis("x"),re=this.getAxis("y");return L[0]=ae.toGlobalCoord(ae.dataToCoord(V,$)),L[1]=re.toGlobalCoord(re.dataToCoord(oe,$)),L},n.prototype.clampData=function(r,$){var L=this.getAxis("x").scale,V=this.getAxis("y").scale,oe=L.getExtent(),ae=V.getExtent(),re=L.parse(r[0]),le=V.parse(r[1]);return $=$||[],$[0]=Math.min(Math.max(Math.min(oe[0],oe[1]),re),Math.max(oe[0],oe[1])),$[1]=Math.min(Math.max(Math.min(ae[0],ae[1]),le),Math.max(ae[0],ae[1])),$},n.prototype.pointToData=function(r,$){var L=[];if(this._invTransform)return applyTransform$3(L,r,this._invTransform);var V=this.getAxis("x"),oe=this.getAxis("y");return L[0]=V.coordToData(V.toLocalCoord(r[0]),$),L[1]=oe.coordToData(oe.toLocalCoord(r[1]),$),L},n.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},n.prototype.getArea=function(){var r=this.getAxis("x").getGlobalExtent(),$=this.getAxis("y").getGlobalExtent(),L=Math.min(r[0],r[1]),V=Math.min($[0],$[1]),oe=Math.max(r[0],r[1])-L,ae=Math.max($[0],$[1])-V;return new BoundingRect$3(L,V,oe,ae)},n}(Cartesian$3),Axis2D$2=function(g){__extends$2(n,g);function n(r,$,L,V,oe){var ae=g.call(this,r,$,L)||this;return ae.index=0,ae.type=V||"value",ae.position=oe||"bottom",ae}return n.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},n.prototype.getGlobalExtent=function(r){var $=this.getExtent();return $[0]=this.toGlobalCoord($[0]),$[1]=this.toGlobalCoord($[1]),r&&$[0]>$[1]&&$.reverse(),$},n.prototype.pointToData=function(r,$){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),$)},n.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},n}(Axis$3);const Axis2D$3=Axis2D$2;function layout$7(g,n,r){r=r||{};var $=g.coordinateSystem,L=n.axis,V={},oe=L.getAxesOnZeroOf()[0],ae=L.position,re=oe?"onZero":ae,le=L.dim,ue=$.getRect(),de=[ue.x,ue.x+ue.width,ue.y,ue.y+ue.height],he={left:0,right:1,top:0,bottom:1,onZero:2},pe=n.get("offset")||0,_e=le==="x"?[de[2]-pe,de[3]+pe]:[de[0]-pe,de[1]+pe];if(oe){var $e=oe.toGlobalCoord(oe.dataToCoord(0));_e[he.onZero]=Math.max(Math.min($e,_e[1]),_e[0])}V.position=[le==="y"?_e[he[re]]:de[0],le==="x"?_e[he[re]]:de[3]],V.rotation=Math.PI/2*(le==="x"?0:1);var xe={top:-1,bottom:1,left:-1,right:1};V.labelDirection=V.tickDirection=V.nameDirection=xe[ae],V.labelOffset=oe?_e[he[ae]]-_e[he.onZero]:0,n.get(["axisTick","inside"])&&(V.tickDirection=-V.tickDirection),retrieve$1(r.labelInside,n.get(["axisLabel","inside"]))&&(V.labelDirection=-V.labelDirection);var Oe=n.get(["axisLabel","rotate"]);return V.labelRotate=re==="top"?-Oe:Oe,V.z2=1,V}function isCartesian2DSeries$1(g){return g.get("coordinateSystem")==="cartesian2d"}function findAxisModels$1(g){var n={xAxisModel:null,yAxisModel:null};return each$v(n,function(r,$){var L=$.replace(/Model$/,""),V=g.getReferringComponents(L,SINGLE_REFERRING$1).models[0];n[$]=V}),n}var mathLog$2=Math.log;function alignScaleTicks$1(g,n,r){var $=IntervalScale$3.prototype,L=$.getTicks.call(r),V=$.getTicks.call(r,!0),oe=L.length-1,ae=$.getInterval.call(r),re=getScaleExtent$1(g,n),le=re.extent,ue=re.fixMin,de=re.fixMax;if(g.type==="log"){var he=mathLog$2(g.base);le=[mathLog$2(le[0])/he,mathLog$2(le[1])/he]}g.setExtent(le[0],le[1]),g.calcNiceExtent({splitNumber:oe,fixMin:ue,fixMax:de});var pe=$.getExtent.call(g);ue&&(le[0]=pe[0]),de&&(le[1]=pe[1]);var _e=$.getInterval.call(g),$e=le[0],xe=le[1];if(ue&&de)_e=(xe-$e)/oe;else if(ue)for(xe=le[0]+_e*oe;xe<le[1]&&isFinite(xe)&&isFinite(le[1]);)_e=increaseInterval$1(_e),xe=le[0]+_e*oe;else if(de)for($e=le[1]-_e*oe;$e>le[0]&&isFinite($e)&&isFinite(le[0]);)_e=increaseInterval$1(_e),$e=le[1]-_e*oe;else{var Oe=g.getTicks().length-1;Oe>oe&&(_e=increaseInterval$1(_e));var Ce=_e*oe;xe=Math.ceil(le[1]/_e)*_e,$e=round$7(xe-Ce),$e<0&&le[0]>=0?($e=0,xe=round$7(Ce)):xe>0&&le[1]<=0&&(xe=0,$e=-round$7(Ce))}var Ie=(L[0].value-V[0].value)/ae,Ne=(L[oe].value-V[oe].value)/ae;$.setExtent.call(g,$e+_e*Ie,xe+_e*Ne),$.setInterval.call(g,_e),(Ie||Ne)&&$.setNiceExtent.call(g,$e+_e,xe-_e)}var Grid$2=function(){function g(n,r,$){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions$1,this._initCartesian(n,r,$),this.model=n}return g.prototype.getRect=function(){return this._rect},g.prototype.update=function(n,r){var $=this._axesMap;this._updateScale(n,this.model);function L(oe){var ae,re=keys$2(oe),le=re.length;if(le){for(var ue=[],de=le-1;de>=0;de--){var he=+re[de],pe=oe[he],_e=pe.model,$e=pe.scale;isIntervalOrLogScale$1($e)&&_e.get("alignTicks")&&_e.get("interval")==null?ue.push(pe):(niceScaleExtent$1($e,_e),isIntervalOrLogScale$1($e)&&(ae=pe))}ue.length&&(ae||(ae=ue.pop(),niceScaleExtent$1(ae.scale,ae.model)),each$v(ue,function(xe){alignScaleTicks$1(xe.scale,xe.model,ae.scale)}))}}L($.x),L($.y);var V={};each$v($.x,function(oe){fixAxisOnZero$1($,"y",oe,V)}),each$v($.y,function(oe){fixAxisOnZero$1($,"x",oe,V)}),this.resize(this.model,r)},g.prototype.resize=function(n,r,$){var L=n.getBoxLayoutParams(),V=!$&&n.get("containLabel"),oe=getLayoutRect$1(L,{width:r.getWidth(),height:r.getHeight()});this._rect=oe;var ae=this._axesList;re(),V&&(each$v(ae,function(le){if(!le.model.get(["axisLabel","inside"])){var ue=estimateLabelUnionRect$1(le);if(ue){var de=le.isHorizontal()?"height":"width",he=le.model.get(["axisLabel","margin"]);oe[de]-=ue[de]+he,le.position==="top"?oe.y+=ue.height+he:le.position==="left"&&(oe.x+=ue.width+he)}}}),re()),each$v(this._coordsList,function(le){le.calcAffineTransform()});function re(){each$v(ae,function(le){var ue=le.isHorizontal(),de=ue?[0,oe.width]:[0,oe.height],he=le.inverse?1:0;le.setExtent(de[he],de[1-he]),updateAxisTransform$1(le,ue?oe.x:oe.y)})}},g.prototype.getAxis=function(n,r){var $=this._axesMap[n];if($!=null)return $[r||0]},g.prototype.getAxes=function(){return this._axesList.slice()},g.prototype.getCartesian=function(n,r){if(n!=null&&r!=null){var $="x"+n+"y"+r;return this._coordsMap[$]}isObject$9(n)&&(r=n.yAxisIndex,n=n.xAxisIndex);for(var L=0,V=this._coordsList;L<V.length;L++)if(V[L].getAxis("x").index===n||V[L].getAxis("y").index===r)return V[L]},g.prototype.getCartesians=function(){return this._coordsList.slice()},g.prototype.convertToPixel=function(n,r,$){var L=this._findConvertTarget(r);return L.cartesian?L.cartesian.dataToPoint($):L.axis?L.axis.toGlobalCoord(L.axis.dataToCoord($)):null},g.prototype.convertFromPixel=function(n,r,$){var L=this._findConvertTarget(r);return L.cartesian?L.cartesian.pointToData($):L.axis?L.axis.coordToData(L.axis.toLocalCoord($)):null},g.prototype._findConvertTarget=function(n){var r=n.seriesModel,$=n.xAxisModel||r&&r.getReferringComponents("xAxis",SINGLE_REFERRING$1).models[0],L=n.yAxisModel||r&&r.getReferringComponents("yAxis",SINGLE_REFERRING$1).models[0],V=n.gridModel,oe=this._coordsList,ae,re;if(r)ae=r.coordinateSystem,indexOf$1(oe,ae)<0&&(ae=null);else if($&&L)ae=this.getCartesian($.componentIndex,L.componentIndex);else if($)re=this.getAxis("x",$.componentIndex);else if(L)re=this.getAxis("y",L.componentIndex);else if(V){var le=V.coordinateSystem;le===this&&(ae=this._coordsList[0])}return{cartesian:ae,axis:re}},g.prototype.containPoint=function(n){var r=this._coordsList[0];if(r)return r.containPoint(n)},g.prototype._initCartesian=function(n,r,$){var L=this,V=this,oe={left:!1,right:!1,top:!1,bottom:!1},ae={x:{},y:{}},re={x:0,y:0};if(r.eachComponent("xAxis",le("x"),this),r.eachComponent("yAxis",le("y"),this),!re.x||!re.y){this._axesMap={},this._axesList=[];return}this._axesMap=ae,each$v(ae.x,function(ue,de){each$v(ae.y,function(he,pe){var _e="x"+de+"y"+pe,$e=new Cartesian2D$1(_e);$e.master=L,$e.model=n,L._coordsMap[_e]=$e,L._coordsList.push($e),$e.addAxis(ue),$e.addAxis(he)})});function le(ue){return function(de,he){if(isAxisUsedInTheGrid$1(de,n)){var pe=de.get("position");ue==="x"?pe!=="top"&&pe!=="bottom"&&(pe=oe.bottom?"top":"bottom"):pe!=="left"&&pe!=="right"&&(pe=oe.left?"right":"left"),oe[pe]=!0;var _e=new Axis2D$3(ue,createScaleByModel$3(de),[0,0],de.get("type"),pe),$e=_e.type==="category";_e.onBand=$e&&de.get("boundaryGap"),_e.inverse=de.get("inverse"),de.axis=_e,_e.model=de,_e.grid=V,_e.index=he,V._axesList.push(_e),ae[ue][he]=_e,re[ue]++}}}},g.prototype._updateScale=function(n,r){each$v(this._axesList,function(L){if(L.scale.setExtent(1/0,-1/0),L.type==="category"){var V=L.model.get("categorySortInfo");L.scale.setSortInfo(V)}}),n.eachSeries(function(L){if(isCartesian2DSeries$1(L)){var V=findAxisModels$1(L),oe=V.xAxisModel,ae=V.yAxisModel;if(!isAxisUsedInTheGrid$1(oe,r)||!isAxisUsedInTheGrid$1(ae,r))return;var re=this.getCartesian(oe.componentIndex,ae.componentIndex),le=L.getData(),ue=re.getAxis("x"),de=re.getAxis("y");$(le,ue),$(le,de)}},this);function $(L,V){each$v(getDataDimensionsOnAxis$1(L,V.dim),function(oe){V.scale.unionExtentFromData(L,oe)})}},g.prototype.getTooltipAxes=function(n){var r=[],$=[];return each$v(this.getCartesians(),function(L){var V=n!=null&&n!=="auto"?L.getAxis(n):L.getBaseAxis(),oe=L.getOtherAxis(V);indexOf$1(r,V)<0&&r.push(V),indexOf$1($,oe)<0&&$.push(oe)}),{baseAxes:r,otherAxes:$}},g.create=function(n,r){var $=[];return n.eachComponent("grid",function(L,V){var oe=new g(L,n,r);oe.name="grid_"+V,oe.resize(L,r,!0),L.coordinateSystem=oe,$.push(oe)}),n.eachSeries(function(L){if(isCartesian2DSeries$1(L)){var V=findAxisModels$1(L),oe=V.xAxisModel,ae=V.yAxisModel,re=oe.getCoordSysModel(),le=re.coordinateSystem;L.coordinateSystem=le.getCartesian(oe.componentIndex,ae.componentIndex)}}),$},g.dimensions=cartesian2DDimensions$1,g}();function isAxisUsedInTheGrid$1(g,n){return g.getCoordSysModel()===n}function fixAxisOnZero$1(g,n,r,$){r.getAxesOnZeroOf=function(){return V?[V]:[]};var L=g[n],V,oe=r.model,ae=oe.get(["axisLine","onZero"]),re=oe.get(["axisLine","onZeroAxisIndex"]);if(!ae)return;if(re!=null)canOnZeroToAxis$1(L[re])&&(V=L[re]);else for(var le in L)if(L.hasOwnProperty(le)&&canOnZeroToAxis$1(L[le])&&!$[ue(L[le])]){V=L[le];break}V&&($[ue(V)]=!0);function ue(de){return de.dim+"_"+de.index}}function canOnZeroToAxis$1(g){return g&&g.type!=="category"&&g.type!=="time"&&ifAxisCrossZero$1(g)}function updateAxisTransform$1(g,n){var r=g.getExtent(),$=r[0]+r[1];g.toGlobalCoord=g.dim==="x"?function(L){return L+n}:function(L){return $-L+n},g.toLocalCoord=g.dim==="x"?function(L){return L-n}:function(L){return $-L+n}}const Grid$3=Grid$2;var PI$c=Math.PI,AxisBuilder$2=function(){function g(n,r){this.group=new Group$9,this.opt=r,this.axisModel=n,defaults$7(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var $=new Group$9({x:r.position[0],y:r.position[1],rotation:r.rotation});$.updateTransform(),this._transformGroup=$}return g.prototype.hasBuilder=function(n){return!!builders$1[n]},g.prototype.add=function(n){builders$1[n](this.opt,this.axisModel,this.group,this._transformGroup)},g.prototype.getGroup=function(){return this.group},g.innerTextLayout=function(n,r,$){var L=remRadian$1(r-n),V,oe;return isRadianAroundZero$1(L)?(oe=$>0?"top":"bottom",V="center"):isRadianAroundZero$1(L-PI$c)?(oe=$>0?"bottom":"top",V="center"):(oe="middle",L>0&&L<PI$c?V=$>0?"right":"left":V=$>0?"left":"right"),{rotation:L,textAlign:V,textVerticalAlign:oe}},g.makeAxisEventDataBase=function(n){var r={componentType:n.mainType,componentIndex:n.componentIndex};return r[n.mainType+"Index"]=n.componentIndex,r},g.isLabelSilent=function(n){var r=n.get("tooltip");return n.get("silent")||!(n.get("triggerEvent")||r&&r.show)},g}(),builders$1={axisLine:function(g,n,r,$){var L=n.get(["axisLine","show"]);if(L==="auto"&&g.handleAutoShown&&(L=g.handleAutoShown("axisLine")),!!L){var V=n.axis.getExtent(),oe=$.transform,ae=[V[0],0],re=[V[1],0],le=ae[0]>re[0];oe&&(applyTransform$3(ae,ae,oe),applyTransform$3(re,re,oe));var ue=extend$4({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),de=new Line$8({shape:{x1:ae[0],y1:ae[1],x2:re[0],y2:re[1]},style:ue,strokeContainThreshold:g.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine$2(de.shape,de.style.lineWidth),de.anid="line",r.add(de);var he=n.get(["axisLine","symbol"]);if(he!=null){var pe=n.get(["axisLine","symbolSize"]);isString$3(he)&&(he=[he,he]),(isString$3(pe)||isNumber$3(pe))&&(pe=[pe,pe]);var _e=normalizeSymbolOffset$1(n.get(["axisLine","symbolOffset"])||0,pe),$e=pe[0],xe=pe[1];each$v([{rotate:g.rotation+Math.PI/2,offset:_e[0],r:0},{rotate:g.rotation-Math.PI/2,offset:_e[1],r:Math.sqrt((ae[0]-re[0])*(ae[0]-re[0])+(ae[1]-re[1])*(ae[1]-re[1]))}],function(Oe,Ce){if(he[Ce]!=="none"&&he[Ce]!=null){var Ie=createSymbol$3(he[Ce],-$e/2,-xe/2,$e,xe,ue.stroke,!0),Ne=Oe.r+Oe.offset,ze=le?re:ae;Ie.attr({rotation:Oe.rotate,x:ze[0]+Ne*Math.cos(g.rotation),y:ze[1]-Ne*Math.sin(g.rotation),silent:!0,z2:11}),r.add(Ie)}})}}},axisTickLabel:function(g,n,r,$){var L=buildAxisMajorTicks$1(r,$,n,g),V=buildAxisLabel$1(r,$,n,g);if(fixMinMaxLabelShow$1(n,V,L),buildAxisMinorTicks$1(r,$,n,g.tickDirection),n.get(["axisLabel","hideOverlap"])){var oe=prepareLayoutList$1(map$3(V,function(ae){return{label:ae,priority:ae.z2,defaultAttr:{ignore:ae.ignore}}}));hideOverlap$1(oe)}},axisName:function(g,n,r,$){var L=retrieve$1(g.axisName,n.get("name"));if(L){var V=n.get("nameLocation"),oe=g.nameDirection,ae=n.getModel("nameTextStyle"),re=n.get("nameGap")||0,le=n.axis.getExtent(),ue=le[0]>le[1]?-1:1,de=[V==="start"?le[0]-ue*re:V==="end"?le[1]+ue*re:(le[0]+le[1])/2,isNameLocationCenter$1(V)?g.labelOffset+oe*re:0],he,pe=n.get("nameRotate");pe!=null&&(pe=pe*PI$c/180);var _e;isNameLocationCenter$1(V)?he=AxisBuilder$2.innerTextLayout(g.rotation,pe!=null?pe:g.rotation,oe):(he=endTextLayout$1(g.rotation,V,pe||0,le),_e=g.axisNameAvailableWidth,_e!=null&&(_e=Math.abs(_e/Math.sin(he.rotation)),!isFinite(_e)&&(_e=null)));var $e=ae.getFont(),xe=n.get("nameTruncate",!0)||{},Oe=xe.ellipsis,Ce=retrieve$1(g.nameTruncateMaxWidth,xe.maxWidth,_e),Ie=new ZRText$3({x:de[0],y:de[1],rotation:he.rotation,silent:AxisBuilder$2.isLabelSilent(n),style:createTextStyle$1(ae,{text:L,font:$e,overflow:"truncate",width:Ce,ellipsis:Oe,fill:ae.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:ae.get("align")||he.textAlign,verticalAlign:ae.get("verticalAlign")||he.textVerticalAlign}),z2:1});if(setTooltipConfig$1({el:Ie,componentModel:n,itemName:L}),Ie.__fullText=L,Ie.anid="name",n.get("triggerEvent")){var Ne=AxisBuilder$2.makeAxisEventDataBase(n);Ne.targetType="axisName",Ne.name=L,getECData$1(Ie).eventData=Ne}$.add(Ie),Ie.updateTransform(),r.add(Ie),Ie.decomposeTransform()}}};function endTextLayout$1(g,n,r,$){var L=remRadian$1(r-g),V,oe,ae=$[0]>$[1],re=n==="start"&&!ae||n!=="start"&&ae;return isRadianAroundZero$1(L-PI$c/2)?(oe=re?"bottom":"top",V="center"):isRadianAroundZero$1(L-PI$c*1.5)?(oe=re?"top":"bottom",V="center"):(oe="middle",L<PI$c*1.5&&L>PI$c/2?V=re?"left":"right":V=re?"right":"left"),{rotation:L,textAlign:V,textVerticalAlign:oe}}function fixMinMaxLabelShow$1(g,n,r){if(!shouldShowAllLabels$1(g.axis)){var $=g.get(["axisLabel","showMinLabel"]),L=g.get(["axisLabel","showMaxLabel"]);n=n||[],r=r||[];var V=n[0],oe=n[1],ae=n[n.length-1],re=n[n.length-2],le=r[0],ue=r[1],de=r[r.length-1],he=r[r.length-2];$===!1?(ignoreEl$1(V),ignoreEl$1(le)):isTwoLabelOverlapped$1(V,oe)&&($?(ignoreEl$1(oe),ignoreEl$1(ue)):(ignoreEl$1(V),ignoreEl$1(le))),L===!1?(ignoreEl$1(ae),ignoreEl$1(de)):isTwoLabelOverlapped$1(re,ae)&&(L?(ignoreEl$1(re),ignoreEl$1(he)):(ignoreEl$1(ae),ignoreEl$1(de)))}}function ignoreEl$1(g){g&&(g.ignore=!0)}function isTwoLabelOverlapped$1(g,n){var r=g&&g.getBoundingRect().clone(),$=n&&n.getBoundingRect().clone();if(!(!r||!$)){var L=identity$1([]);return rotate$1(L,L,-g.rotation),r.applyTransform(mul$1([],L,g.getLocalTransform())),$.applyTransform(mul$1([],L,n.getLocalTransform())),r.intersect($)}}function isNameLocationCenter$1(g){return g==="middle"||g==="center"}function createTicks$1(g,n,r,$,L){for(var V=[],oe=[],ae=[],re=0;re<g.length;re++){var le=g[re].coord;oe[0]=le,oe[1]=0,ae[0]=le,ae[1]=r,n&&(applyTransform$3(oe,oe,n),applyTransform$3(ae,ae,n));var ue=new Line$8({shape:{x1:oe[0],y1:oe[1],x2:ae[0],y2:ae[1]},style:$,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine$2(ue.shape,ue.style.lineWidth),ue.anid=L+"_"+g[re].tickValue,V.push(ue)}return V}function buildAxisMajorTicks$1(g,n,r,$){var L=r.axis,V=r.getModel("axisTick"),oe=V.get("show");if(oe==="auto"&&$.handleAutoShown&&(oe=$.handleAutoShown("axisTick")),!(!oe||L.scale.isBlank())){for(var ae=V.getModel("lineStyle"),re=$.tickDirection*V.get("length"),le=L.getTicksCoords(),ue=createTicks$1(le,n.transform,re,defaults$7(ae.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),de=0;de<ue.length;de++)g.add(ue[de]);return ue}}function buildAxisMinorTicks$1(g,n,r,$){var L=r.axis,V=r.getModel("minorTick");if(!(!V.get("show")||L.scale.isBlank())){var oe=L.getMinorTicksCoords();if(oe.length)for(var ae=V.getModel("lineStyle"),re=$*V.get("length"),le=defaults$7(ae.getLineStyle(),defaults$7(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),ue=0;ue<oe.length;ue++)for(var de=createTicks$1(oe[ue],n.transform,re,le,"minorticks_"+ue),he=0;he<de.length;he++)g.add(de[he])}}function buildAxisLabel$1(g,n,r,$){var L=r.axis,V=retrieve$1($.axisLabelShow,r.get(["axisLabel","show"]));if(!(!V||L.scale.isBlank())){var oe=r.getModel("axisLabel"),ae=oe.get("margin"),re=L.getViewLabels(),le=(retrieve$1($.labelRotate,oe.get("rotate"))||0)*PI$c/180,ue=AxisBuilder$2.innerTextLayout($.rotation,le,$.labelDirection),de=r.getCategories&&r.getCategories(!0),he=[],pe=AxisBuilder$2.isLabelSilent(r),_e=r.get("triggerEvent");return each$v(re,function($e,xe){var Oe=L.scale.type==="ordinal"?L.scale.getRawOrdinalNumber($e.tickValue):$e.tickValue,Ce=$e.formattedLabel,Ie=$e.rawLabel,Ne=oe;if(de&&de[Oe]){var ze=de[Oe];isObject$9(ze)&&ze.textStyle&&(Ne=new Model$3(ze.textStyle,oe,r.ecModel))}var Fe=Ne.getTextColor()||r.get(["axisLine","lineStyle","color"]),Ue=L.dataToCoord(Oe),At=new ZRText$3({x:Ue,y:$.labelOffset+$.labelDirection*ae,rotation:ue.rotation,silent:pe,z2:10+($e.level||0),style:createTextStyle$1(Ne,{text:Ce,align:Ne.getShallow("align",!0)||ue.textAlign,verticalAlign:Ne.getShallow("verticalAlign",!0)||Ne.getShallow("baseline",!0)||ue.textVerticalAlign,fill:isFunction$3(Fe)?Fe(L.type==="category"?Ie:L.type==="value"?Oe+"":Oe,xe):Fe})});if(At.anid="label_"+Oe,_e){var Et=AxisBuilder$2.makeAxisEventDataBase(r);Et.targetType="axisLabel",Et.value=Ie,Et.tickIndex=xe,L.type==="category"&&(Et.dataIndex=Oe),getECData$1(At).eventData=Et}n.add(At),At.updateTransform(),he.push(At),g.add(At),At.decomposeTransform()}),he}}const AxisBuilder$3=AxisBuilder$2;function collect$1(g,n){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo$1(r,g,n),r.seriesInvolved&&collectSeriesInfo$1(r,g),r}function collectAxesInfo$1(g,n,r){var $=n.getComponent("tooltip"),L=n.getComponent("axisPointer"),V=L.get("link",!0)||[],oe=[];each$v(r.getCoordinateSystems(),function(ae){if(!ae.axisPointerEnabled)return;var re=makeKey$1(ae.model),le=g.coordSysAxesInfo[re]={};g.coordSysMap[re]=ae;var ue=ae.model,de=ue.getModel("tooltip",$);if(each$v(ae.getAxes(),curry$3($e,!1,null)),ae.getTooltipAxes&&$&&de.get("show")){var he=de.get("trigger")==="axis",pe=de.get(["axisPointer","type"])==="cross",_e=ae.getTooltipAxes(de.get(["axisPointer","axis"]));(he||pe)&&each$v(_e.baseAxes,curry$3($e,pe?"cross":!0,he)),pe&&each$v(_e.otherAxes,curry$3($e,"cross",!1))}function $e(xe,Oe,Ce){var Ie=Ce.model.getModel("axisPointer",L),Ne=Ie.get("show");if(!(!Ne||Ne==="auto"&&!xe&&!isHandleTrigger$1(Ie))){Oe==null&&(Oe=Ie.get("triggerTooltip")),Ie=xe?makeAxisPointerModel$1(Ce,de,L,n,xe,Oe):Ie;var ze=Ie.get("snap"),Fe=makeKey$1(Ce.model),Ue=Oe||ze||Ce.type==="category",At=g.axesInfo[Fe]={key:Fe,axis:Ce,coordSys:ae,axisPointerModel:Ie,triggerTooltip:Oe,involveSeries:Ue,snap:ze,useHandle:isHandleTrigger$1(Ie),seriesModels:[],linkGroup:null};le[Fe]=At,g.seriesInvolved=g.seriesInvolved||Ue;var Et=getLinkGroupIndex$1(V,Ce);if(Et!=null){var Pt=oe[Et]||(oe[Et]={axesInfo:{}});Pt.axesInfo[Fe]=At,Pt.mapper=V[Et].mapper,At.linkGroup=Pt}}}})}function makeAxisPointerModel$1(g,n,r,$,L,V){var oe=n.getModel("axisPointer"),ae=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],re={};each$v(ae,function(he){re[he]=clone$9(oe.get(he))}),re.snap=g.type!=="category"&&!!V,oe.get("type")==="cross"&&(re.type="line");var le=re.label||(re.label={});if(le.show==null&&(le.show=!1),L==="cross"){var ue=oe.get(["label","show"]);if(le.show=ue!=null?ue:!0,!V){var de=re.lineStyle=oe.get("crossStyle");de&&defaults$7(le,de.textStyle)}}return g.model.getModel("axisPointer",new Model$3(re,r,$))}function collectSeriesInfo$1(g,n){n.eachSeries(function(r){var $=r.coordinateSystem,L=r.get(["tooltip","trigger"],!0),V=r.get(["tooltip","show"],!0);!$||L==="none"||L===!1||L==="item"||V===!1||r.get(["axisPointer","show"],!0)===!1||each$v(g.coordSysAxesInfo[makeKey$1($.model)],function(oe){var ae=oe.axis;$.getAxis(ae.dim)===ae&&(oe.seriesModels.push(r),oe.seriesDataCount==null&&(oe.seriesDataCount=0),oe.seriesDataCount+=r.getData().count())})})}function getLinkGroupIndex$1(g,n){for(var r=n.model,$=n.dim,L=0;L<g.length;L++){var V=g[L]||{};if(checkPropInLink$1(V[$+"AxisId"],r.id)||checkPropInLink$1(V[$+"AxisIndex"],r.componentIndex)||checkPropInLink$1(V[$+"AxisName"],r.name))return L}}function checkPropInLink$1(g,n){return g==="all"||isArray$6(g)&&indexOf$1(g,n)>=0||g===n}function fixValue$1(g){var n=getAxisInfo$3(g);if(n){var r=n.axisPointerModel,$=n.axis.scale,L=r.option,V=r.get("status"),oe=r.get("value");oe!=null&&(oe=$.parse(oe));var ae=isHandleTrigger$1(r);V==null&&(L.status=ae?"show":"hide");var re=$.getExtent().slice();re[0]>re[1]&&re.reverse(),(oe==null||oe>re[1])&&(oe=re[1]),oe<re[0]&&(oe=re[0]),L.value=oe,ae&&(L.status=n.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo$3(g){var n=(g.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return n&&n.axesInfo[makeKey$1(g)]}function getAxisPointerModel$1(g){var n=getAxisInfo$3(g);return n&&n.axisPointerModel}function isHandleTrigger$1(g){return!!g.get(["handle","show"])}function makeKey$1(g){return g.type+"||"+g.id}var axisPointerClazz$1={},AxisView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L,V){this.axisPointerClass&&fixValue$1(r),g.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,L,!0)},n.prototype.updateAxisPointer=function(r,$,L,V){this._doUpdateAxisPointerClass(r,L,!1)},n.prototype.remove=function(r,$){var L=this._axisPointer;L&&L.remove($)},n.prototype.dispose=function(r,$){this._disposeAxisPointer($),g.prototype.dispose.apply(this,arguments)},n.prototype._doUpdateAxisPointerClass=function(r,$,L){var V=n.getAxisPointerClass(this.axisPointerClass);if(V){var oe=getAxisPointerModel$1(r);oe?(this._axisPointer||(this._axisPointer=new V)).render(r,oe,$,L):this._disposeAxisPointer($)}},n.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},n.registerAxisPointerClass=function(r,$){axisPointerClazz$1[r]=$},n.getAxisPointerClass=function(r){return r&&axisPointerClazz$1[r]},n.type="axis",n}(ComponentView$3);const AxisView$3=AxisView$2;var inner$B=makeInner$1();function rectCoordAxisBuildSplitArea$1(g,n,r,$){var L=r.axis;if(!L.scale.isBlank()){var V=r.getModel("splitArea"),oe=V.getModel("areaStyle"),ae=oe.get("color"),re=$.coordinateSystem.getRect(),le=L.getTicksCoords({tickModel:V,clamp:!0});if(le.length){var ue=ae.length,de=inner$B(g).splitAreaColors,he=createHashMap$1(),pe=0;if(de)for(var _e=0;_e<le.length;_e++){var $e=de.get(le[_e].tickValue);if($e!=null){pe=($e+(ue-1)*_e)%ue;break}}var xe=L.toGlobalCoord(le[0].coord),Oe=oe.getAreaStyle();ae=isArray$6(ae)?ae:[ae];for(var _e=1;_e<le.length;_e++){var Ce=L.toGlobalCoord(le[_e].coord),Ie=void 0,Ne=void 0,ze=void 0,Fe=void 0;L.isHorizontal()?(Ie=xe,Ne=re.y,ze=Ce-Ie,Fe=re.height,xe=Ie+ze):(Ie=re.x,Ne=xe,ze=re.width,Fe=Ce-Ne,xe=Ne+Fe);var Ue=le[_e-1].tickValue;Ue!=null&&he.set(Ue,pe),n.add(new Rect$7({anid:Ue!=null?"area_"+Ue:null,shape:{x:Ie,y:Ne,width:ze,height:Fe},style:defaults$7({fill:ae[pe]},Oe),autoBatch:!0,silent:!0})),pe=(pe+1)%ue}inner$B(g).splitAreaColors=he}}}function rectCoordAxisHandleRemove$1(g){inner$B(g).splitAreaColors=null}var axisBuilderAttrs$7=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$5=["splitArea","splitLine","minorSplitLine"],CartesianAxisView$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="CartesianAxisPointer",r}return n.prototype.render=function(r,$,L,V){this.group.removeAll();var oe=this._axisGroup;if(this._axisGroup=new Group$9,this.group.add(this._axisGroup),!!r.get("show")){var ae=r.getCoordSysModel(),re=layout$7(ae,r),le=new AxisBuilder$3(r,extend$4({handleAutoShown:function(de){for(var he=ae.coordinateSystem.getCartesians(),pe=0;pe<he.length;pe++)if(isIntervalOrLogScale$1(he[pe].getOtherAxis(r.axis).scale))return!0;return!1}},re));each$v(axisBuilderAttrs$7,le.add,le),this._axisGroup.add(le.getGroup()),each$v(selfBuilderAttrs$5,function(de){r.get([de,"show"])&&axisElementBuilders$5[de](this,this._axisGroup,r,ae)},this);var ue=V&&V.type==="changeAxisOrder"&&V.isInitSort;ue||groupTransition$1(oe,this._axisGroup,r),g.prototype.render.call(this,r,$,L,V)}},n.prototype.remove=function(){rectCoordAxisHandleRemove$1(this)},n.type="cartesianAxis",n}(AxisView$3),axisElementBuilders$5={splitLine:function(g,n,r,$){var L=r.axis;if(!L.scale.isBlank()){var V=r.getModel("splitLine"),oe=V.getModel("lineStyle"),ae=oe.get("color");ae=isArray$6(ae)?ae:[ae];for(var re=$.coordinateSystem.getRect(),le=L.isHorizontal(),ue=0,de=L.getTicksCoords({tickModel:V}),he=[],pe=[],_e=oe.getLineStyle(),$e=0;$e<de.length;$e++){var xe=L.toGlobalCoord(de[$e].coord);le?(he[0]=xe,he[1]=re.y,pe[0]=xe,pe[1]=re.y+re.height):(he[0]=re.x,he[1]=xe,pe[0]=re.x+re.width,pe[1]=xe);var Oe=ue++%ae.length,Ce=de[$e].tickValue,Ie=new Line$8({anid:Ce!=null?"line_"+de[$e].tickValue:null,autoBatch:!0,shape:{x1:he[0],y1:he[1],x2:pe[0],y2:pe[1]},style:defaults$7({stroke:ae[Oe]},_e),silent:!0});subPixelOptimizeLine$2(Ie.shape,_e.lineWidth),n.add(Ie)}}},minorSplitLine:function(g,n,r,$){var L=r.axis,V=r.getModel("minorSplitLine"),oe=V.getModel("lineStyle"),ae=$.coordinateSystem.getRect(),re=L.isHorizontal(),le=L.getMinorTicksCoords();if(le.length)for(var ue=[],de=[],he=oe.getLineStyle(),pe=0;pe<le.length;pe++)for(var _e=0;_e<le[pe].length;_e++){var $e=L.toGlobalCoord(le[pe][_e].coord);re?(ue[0]=$e,ue[1]=ae.y,de[0]=$e,de[1]=ae.y+ae.height):(ue[0]=ae.x,ue[1]=$e,de[0]=ae.x+ae.width,de[1]=$e);var xe=new Line$8({anid:"minor_line_"+le[pe][_e].tickValue,autoBatch:!0,shape:{x1:ue[0],y1:ue[1],x2:de[0],y2:de[1]},style:he,silent:!0});subPixelOptimizeLine$2(xe.shape,he.lineWidth),n.add(xe)}},splitArea:function(g,n,r,$){rectCoordAxisBuildSplitArea$1(g,n,r,$)}},CartesianXAxisView$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="xAxis",n}(CartesianAxisView$1),CartesianYAxisView$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=CartesianXAxisView$1.type,r}return n.type="yAxis",n}(CartesianAxisView$1),GridView$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="grid",r}return n.prototype.render=function(r,$){this.group.removeAll(),r.get("show")&&this.group.add(new Rect$7({shape:r.coordinateSystem.getRect(),style:defaults$7({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},n.type="grid",n}(ComponentView$3),extraOption$1={offset:0};function install$1G(g){g.registerComponentView(GridView$1),g.registerComponentModel(GridModel$3),g.registerCoordinateSystem("cartesian2d",Grid$3),axisModelCreator$1(g,"x",CartesianAxisModel$1,extraOption$1),axisModelCreator$1(g,"y",CartesianAxisModel$1,extraOption$1),g.registerComponentView(CartesianXAxisView$1),g.registerComponentView(CartesianYAxisView$1),g.registerPreprocessor(function(n){n.xAxis&&n.yAxis&&!n.grid&&(n.grid={})})}function install$1F(g){use$1(install$1G),g.registerSeriesModel(ScatterSeriesModel$3),g.registerChartView(ScatterView$3),g.registerLayout(pointsLayout$1("scatter"))}function radarLayout$1(g){g.eachSeriesByType("radar",function(n){var r=n.getData(),$=[],L=n.coordinateSystem;if(L){var V=L.getIndicatorAxes();each$v(V,function(oe,ae){r.each(r.mapDimension(V[ae].dim),function(re,le){$[le]=$[le]||[];var ue=L.dataToPoint(re,ae);$[le][ae]=isValidPoint$1(ue)?ue:getValueMissingPoint$1(L)})}),r.each(function(oe){var ae=find$2($[oe],function(re){return isValidPoint$1(re)})||getValueMissingPoint$1(L);$[oe].push(ae.slice()),r.setItemLayout(oe,$[oe])})}})}function isValidPoint$1(g){return!isNaN(g[0])&&!isNaN(g[1])}function getValueMissingPoint$1(g){return[g.cx,g.cy]}function radarBackwardCompat$1(g){var n=g.polar;if(n){isArray$6(n)||(n=[n]);var r=[];each$v(n,function($,L){$.indicator?($.type&&!$.shape&&($.shape=$.type),g.radar=g.radar||[],isArray$6(g.radar)||(g.radar=[g.radar]),g.radar.push($)):r.push($)}),g.polar=r}each$v(g.series,function($){$&&$.type==="radar"&&$.polarIndex&&($.radarIndex=$.polarIndex)})}var RadarView$6=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=r.coordinateSystem,oe=this.group,ae=r.getData(),re=this._data;function le(he,pe){var _e=he.getItemVisual(pe,"symbol")||"circle";if(_e!=="none"){var $e=normalizeSymbolSize$1(he.getItemVisual(pe,"symbolSize")),xe=createSymbol$3(_e,-1,-1,2,2),Oe=he.getItemVisual(pe,"symbolRotate")||0;return xe.attr({style:{strokeNoScale:!0},z2:100,scaleX:$e[0]/2,scaleY:$e[1]/2,rotation:Oe*Math.PI/180||0}),xe}}function ue(he,pe,_e,$e,xe,Oe){_e.removeAll();for(var Ce=0;Ce<pe.length-1;Ce++){var Ie=le($e,xe);Ie&&(Ie.__dimIdx=Ce,he[Ce]?(Ie.setPosition(he[Ce]),graphic$1[Oe?"initProps":"updateProps"](Ie,{x:pe[Ce][0],y:pe[Ce][1]},r,xe)):Ie.setPosition(pe[Ce]),_e.add(Ie))}}function de(he){return map$3(he,function(pe){return[V.cx,V.cy]})}ae.diff(re).add(function(he){var pe=ae.getItemLayout(he);if(pe){var _e=new Polygon$3,$e=new Polyline$7,xe={shape:{points:pe}};_e.shape.points=de(pe),$e.shape.points=de(pe),initProps$1(_e,xe,r,he),initProps$1($e,xe,r,he);var Oe=new Group$9,Ce=new Group$9;Oe.add($e),Oe.add(_e),Oe.add(Ce),ue($e.shape.points,pe,Ce,ae,he,!0),ae.setItemGraphicEl(he,Oe)}}).update(function(he,pe){var _e=re.getItemGraphicEl(pe),$e=_e.childAt(0),xe=_e.childAt(1),Oe=_e.childAt(2),Ce={shape:{points:ae.getItemLayout(he)}};!Ce.shape.points||(ue($e.shape.points,Ce.shape.points,Oe,ae,he,!1),saveOldStyle$1(xe),saveOldStyle$1($e),updateProps$3($e,Ce,r),updateProps$3(xe,Ce,r),ae.setItemGraphicEl(he,_e))}).remove(function(he){oe.remove(re.getItemGraphicEl(he))}).execute(),ae.eachItemGraphicEl(function(he,pe){var _e=ae.getItemModel(pe),$e=he.childAt(0),xe=he.childAt(1),Oe=he.childAt(2),Ce=ae.getItemVisual(pe,"style"),Ie=Ce.fill;oe.add(he),$e.useStyle(defaults$7(_e.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:Ie})),setStatesStylesFromModel$1($e,_e,"lineStyle"),setStatesStylesFromModel$1(xe,_e,"areaStyle");var Ne=_e.getModel("areaStyle"),ze=Ne.isEmpty()&&Ne.parentModel.isEmpty();xe.ignore=ze,each$v(["emphasis","select","blur"],function(At){var Et=_e.getModel([At,"areaStyle"]),Pt=Et.isEmpty()&&Et.parentModel.isEmpty();xe.ensureState(At).ignore=Pt&&ze}),xe.useStyle(defaults$7(Ne.getAreaStyle(),{fill:Ie,opacity:.7,decal:Ce.decal}));var Fe=_e.getModel("emphasis"),Ue=Fe.getModel("itemStyle").getItemStyle();Oe.eachChild(function(At){if(At instanceof ZRImage$3){var Et=At.style;At.useStyle(extend$4({image:Et.image,x:Et.x,y:Et.y,width:Et.width,height:Et.height},Ce))}else At.useStyle(Ce),At.setColor(Ie),At.style.strokeNoScale=!0;var Pt=At.ensureState("emphasis");Pt.style=clone$9(Ue);var kt=ae.getStore().get(ae.getDimensionIndex(At.__dimIdx),pe);(kt==null||isNaN(kt))&&(kt=""),setLabelStyle$1(At,getLabelStatesModels$1(_e),{labelFetcher:ae.hostModel,labelDataIndex:pe,labelDimIndex:At.__dimIdx,defaultText:kt,inheritColor:Ie,defaultOpacity:Ce.opacity})}),toggleHoverEmphasis$1(he,Fe.get("focus"),Fe.get("blurScope"),Fe.get("disabled"))}),this._data=ae},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.type="radar",n}(ChartView$3);const RadarView$7=RadarView$6;var RadarSeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.init=function(r){g.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$3(bind$5(this.getData,this),bind$5(this.getRawData,this))},n.prototype.getInitialData=function(r,$){return createSeriesDataSimply$1(this,{generateCoord:"indicator_",generateCoordCount:1/0})},n.prototype.formatTooltip=function(r,$,L){var V=this.getData(),oe=this.coordinateSystem,ae=oe.getIndicatorAxes(),re=this.getData().getName(r),le=re===""?this.name:re,ue=retrieveVisualColorForTooltipMarker$1(this,r);return createTooltipMarkup$1("section",{header:le,sortBlocks:!0,blocks:map$3(ae,function(de){var he=V.get(V.mapDimension(de.dim),r);return createTooltipMarkup$1("nameValue",{markerType:"subItem",markerColor:ue,name:de.name,value:he,sortParam:he})})})},n.prototype.getTooltipPosition=function(r){if(r!=null){for(var $=this.getData(),L=this.coordinateSystem,V=$.getValues(map$3(L.dimensions,function(le){return $.mapDimension(le)}),r),oe=0,ae=V.length;oe<ae;oe++)if(!isNaN(V[oe])){var re=L.getIndicatorAxes();return L.coordToPoint(re[oe].dataToCoord(V[oe]),oe)}}},n.type="series.radar",n.dependencies=["radar"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},n}(SeriesModel$3);const RadarSeriesModel$3=RadarSeriesModel$2;var valueAxisDefault$1=axisDefault$1.value;function defaultsShow$1(g,n){return defaults$7({show:n},g)}var RadarModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){var r=this.get("boundaryGap"),$=this.get("splitNumber"),L=this.get("scale"),V=this.get("axisLine"),oe=this.get("axisTick"),ae=this.get("axisLabel"),re=this.get("axisName"),le=this.get(["axisName","show"]),ue=this.get(["axisName","formatter"]),de=this.get("axisNameGap"),he=this.get("triggerEvent"),pe=map$3(this.get("indicator")||[],function(_e){_e.max!=null&&_e.max>0&&!_e.min?_e.min=0:_e.min!=null&&_e.min<0&&!_e.max&&(_e.max=0);var $e=re;_e.color!=null&&($e=defaults$7({color:_e.color},re));var xe=merge$3(clone$9(_e),{boundaryGap:r,splitNumber:$,scale:L,axisLine:V,axisTick:oe,axisLabel:ae,name:_e.text,showName:le,nameLocation:"end",nameGap:de,nameTextStyle:$e,triggerEvent:he},!1);if(isString$3(ue)){var Oe=xe.name;xe.name=ue.replace("{value}",Oe!=null?Oe:"")}else isFunction$3(ue)&&(xe.name=ue(xe.name,xe));var Ce=new Model$3(xe,null,this.ecModel);return mixin$1(Ce,AxisModelCommonMixin$1.prototype),Ce.mainType="radar",Ce.componentIndex=this.componentIndex,Ce},this);this._indicatorModels=pe},n.prototype.getIndicatorModels=function(){return this._indicatorModels},n.type="radar",n.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:merge$3({lineStyle:{color:"#bbb"}},valueAxisDefault$1.axisLine),axisLabel:defaultsShow$1(valueAxisDefault$1.axisLabel,!1),axisTick:defaultsShow$1(valueAxisDefault$1.axisTick,!1),splitLine:defaultsShow$1(valueAxisDefault$1.splitLine,!0),splitArea:defaultsShow$1(valueAxisDefault$1.splitArea,!0),indicator:[]},n}(ComponentModel$3);const RadarModel$3=RadarModel$2;var axisBuilderAttrs$6=["axisLine","axisTickLabel","axisName"],RadarView$4=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=this.group;V.removeAll(),this._buildAxes(r),this._buildSplitLineAndArea(r)},n.prototype._buildAxes=function(r){var $=r.coordinateSystem,L=$.getIndicatorAxes(),V=map$3(L,function(oe){var ae=oe.model.get("showName")?oe.name:"",re=new AxisBuilder$3(oe.model,{axisName:ae,position:[$.cx,$.cy],rotation:oe.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return re});each$v(V,function(oe){each$v(axisBuilderAttrs$6,oe.add,oe),this.group.add(oe.getGroup())},this)},n.prototype._buildSplitLineAndArea=function(r){var $=r.coordinateSystem,L=$.getIndicatorAxes();if(!L.length)return;var V=r.get("shape"),oe=r.getModel("splitLine"),ae=r.getModel("splitArea"),re=oe.getModel("lineStyle"),le=ae.getModel("areaStyle"),ue=oe.get("show"),de=ae.get("show"),he=re.get("color"),pe=le.get("color"),_e=isArray$6(he)?he:[he],$e=isArray$6(pe)?pe:[pe],xe=[],Oe=[];function Ce(vn,_n,$n){var Sn=$n%_n.length;return vn[Sn]=vn[Sn]||[],Sn}if(V==="circle")for(var Ie=L[0].getTicksCoords(),Ne=$.cx,ze=$.cy,Fe=0;Fe<Ie.length;Fe++){if(ue){var Ue=Ce(xe,_e,Fe);xe[Ue].push(new Circle$3({shape:{cx:Ne,cy:ze,r:Ie[Fe].coord}}))}if(de&&Fe<Ie.length-1){var Ue=Ce(Oe,$e,Fe);Oe[Ue].push(new Ring$3({shape:{cx:Ne,cy:ze,r0:Ie[Fe].coord,r:Ie[Fe+1].coord}}))}}else for(var At,Et=map$3(L,function(_n,$n){var Sn=_n.getTicksCoords();return At=At==null?Sn.length-1:Math.min(Sn.length-1,At),map$3(Sn,function(xn){return $.coordToPoint(xn.coord,$n)})}),Pt=[],Fe=0;Fe<=At;Fe++){for(var kt=[],Dt=0;Dt<L.length;Dt++)kt.push(Et[Dt][Fe]);if(kt[0]&&kt.push(kt[0].slice()),ue){var Ue=Ce(xe,_e,Fe);xe[Ue].push(new Polyline$7({shape:{points:kt}}))}if(de&&Pt){var Ue=Ce(Oe,$e,Fe-1);Oe[Ue].push(new Polygon$3({shape:{points:kt.concat(Pt)}}))}Pt=kt.slice().reverse()}var Lt=re.getLineStyle(),hn=le.getAreaStyle();each$v(Oe,function(vn,_n){this.group.add(mergePath$2(vn,{style:defaults$7({stroke:"none",fill:$e[_n%$e.length]},hn),silent:!0}))},this),each$v(xe,function(vn,_n){this.group.add(mergePath$2(vn,{style:defaults$7({fill:"none",stroke:_e[_n%_e.length]},Lt),silent:!0}))},this)},n.type="radar",n}(ComponentView$3);const RadarView$5=RadarView$4;var IndicatorAxis$2=function(g){__extends$2(n,g);function n(r,$,L){var V=g.call(this,r,$,L)||this;return V.type="value",V.angle=0,V.name="",V}return n}(Axis$3);const IndicatorAxis$3=IndicatorAxis$2;var Radar$2=function(){function g(n,r,$){this.dimensions=[],this._model=n,this._indicatorAxes=map$3(n.getIndicatorModels(),function(L,V){var oe="indicator_"+V,ae=new IndicatorAxis$3(oe,new IntervalScale$3);return ae.name=L.get("name"),ae.model=L,L.axis=ae,this.dimensions.push(oe),ae},this),this.resize(n,$)}return g.prototype.getIndicatorAxes=function(){return this._indicatorAxes},g.prototype.dataToPoint=function(n,r){var $=this._indicatorAxes[r];return this.coordToPoint($.dataToCoord(n),r)},g.prototype.coordToPoint=function(n,r){var $=this._indicatorAxes[r],L=$.angle,V=this.cx+n*Math.cos(L),oe=this.cy-n*Math.sin(L);return[V,oe]},g.prototype.pointToData=function(n){var r=n[0]-this.cx,$=n[1]-this.cy,L=Math.sqrt(r*r+$*$);r/=L,$/=L;for(var V=Math.atan2(-$,r),oe=1/0,ae,re=-1,le=0;le<this._indicatorAxes.length;le++){var ue=this._indicatorAxes[le],de=Math.abs(V-ue.angle);de<oe&&(ae=ue,re=le,oe=de)}return[re,+(ae&&ae.coordToData(L))]},g.prototype.resize=function(n,r){var $=n.get("center"),L=r.getWidth(),V=r.getHeight(),oe=Math.min(L,V)/2;this.cx=parsePercent$2($[0],L),this.cy=parsePercent$2($[1],V),this.startAngle=n.get("startAngle")*Math.PI/180;var ae=n.get("radius");(isString$3(ae)||isNumber$3(ae))&&(ae=[0,ae]),this.r0=parsePercent$2(ae[0],oe),this.r=parsePercent$2(ae[1],oe),each$v(this._indicatorAxes,function(re,le){re.setExtent(this.r0,this.r);var ue=this.startAngle+le*Math.PI*2/this._indicatorAxes.length;ue=Math.atan2(Math.sin(ue),Math.cos(ue)),re.angle=ue},this)},g.prototype.update=function(n,r){var $=this._indicatorAxes,L=this._model;each$v($,function(ae){ae.scale.setExtent(1/0,-1/0)}),n.eachSeriesByType("radar",function(ae,re){if(!(ae.get("coordinateSystem")!=="radar"||n.getComponent("radar",ae.get("radarIndex"))!==L)){var le=ae.getData();each$v($,function(ue){ue.scale.unionExtentFromData(le,le.mapDimension(ue.dim))})}},this);var V=L.get("splitNumber"),oe=new IntervalScale$3;oe.setExtent(0,V),oe.setInterval(1),each$v($,function(ae,re){alignScaleTicks$1(ae.scale,ae.model,oe)})},g.prototype.convertToPixel=function(n,r,$){return console.warn("Not implemented."),null},g.prototype.convertFromPixel=function(n,r,$){return console.warn("Not implemented."),null},g.prototype.containPoint=function(n){return console.warn("Not implemented."),!1},g.create=function(n,r){var $=[];return n.eachComponent("radar",function(L){var V=new g(L,n,r);$.push(V),L.coordinateSystem=V}),n.eachSeriesByType("radar",function(L){L.get("coordinateSystem")==="radar"&&(L.coordinateSystem=$[L.get("radarIndex")||0])}),$},g.dimensions=[],g}();const Radar$3=Radar$2;function install$1E(g){g.registerCoordinateSystem("radar",Radar$3),g.registerComponentModel(RadarModel$3),g.registerComponentView(RadarView$5),g.registerVisual({seriesType:"radar",reset:function(n){var r=n.getData();r.each(function($){r.setItemVisual($,"legendIcon","roundRect")}),r.setVisual("legendIcon","roundRect")}})}function install$1D(g){use$1(install$1E),g.registerChartView(RadarView$7),g.registerSeriesModel(RadarSeriesModel$3),g.registerLayout(radarLayout$1),g.registerProcessor(dataFilter$3("radar")),g.registerPreprocessor(radarBackwardCompat$1)}var ATTR$1="\0_ec_interaction_mutex";function take$1(g,n,r){var $=getStore$1(g);$[n]=r}function release$1(g,n,r){var $=getStore$1(g),L=$[n];L===r&&($[n]=null)}function isTaken$1(g,n){return!!getStore$1(g)[n]}function getStore$1(g){return g[ATTR$1]||(g[ATTR$1]={})}registerAction$1({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop$4);var RoamController$2=function(g){__extends$2(n,g);function n(r){var $=g.call(this)||this;$._zr=r;var L=bind$5($._mousedownHandler,$),V=bind$5($._mousemoveHandler,$),oe=bind$5($._mouseupHandler,$),ae=bind$5($._mousewheelHandler,$),re=bind$5($._pinchHandler,$);return $.enable=function(le,ue){this.disable(),this._opt=defaults$7(clone$9(ue)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),le==null&&(le=!0),(le===!0||le==="move"||le==="pan")&&(r.on("mousedown",L),r.on("mousemove",V),r.on("mouseup",oe)),(le===!0||le==="scale"||le==="zoom")&&(r.on("mousewheel",ae),r.on("pinch",re))},$.disable=function(){r.off("mousedown",L),r.off("mousemove",V),r.off("mouseup",oe),r.off("mousewheel",ae),r.off("pinch",re)},$}return n.prototype.isDragging=function(){return this._dragging},n.prototype.isPinching=function(){return this._pinching},n.prototype.setPointerChecker=function(r){this.pointerChecker=r},n.prototype.dispose=function(){this.disable()},n.prototype._mousedownHandler=function(r){if(!isMiddleOrRightButtonOnMouseUpDown$1(r)){for(var $=r.target;$;){if($.draggable)return;$=$.__hostTarget||$.parent}var L=r.offsetX,V=r.offsetY;this.pointerChecker&&this.pointerChecker(r,L,V)&&(this._x=L,this._y=V,this._dragging=!0)}},n.prototype._mousemoveHandler=function(r){if(!(!this._dragging||!isAvailableBehavior$1("moveOnMouseMove",r,this._opt)||r.gestureEvent==="pinch"||isTaken$1(this._zr,"globalPan"))){var $=r.offsetX,L=r.offsetY,V=this._x,oe=this._y,ae=$-V,re=L-oe;this._x=$,this._y=L,this._opt.preventDefaultMouseMove&&stop$1(r.event),trigger$3(this,"pan","moveOnMouseMove",r,{dx:ae,dy:re,oldX:V,oldY:oe,newX:$,newY:L,isAvailableBehavior:null})}},n.prototype._mouseupHandler=function(r){isMiddleOrRightButtonOnMouseUpDown$1(r)||(this._dragging=!1)},n.prototype._mousewheelHandler=function(r){var $=isAvailableBehavior$1("zoomOnMouseWheel",r,this._opt),L=isAvailableBehavior$1("moveOnMouseWheel",r,this._opt),V=r.wheelDelta,oe=Math.abs(V),ae=r.offsetX,re=r.offsetY;if(!(V===0||!$&&!L)){if($){var le=oe>3?1.4:oe>1?1.2:1.1,ue=V>0?le:1/le;checkPointerAndTrigger$1(this,"zoom","zoomOnMouseWheel",r,{scale:ue,originX:ae,originY:re,isAvailableBehavior:null})}if(L){var de=Math.abs(V),he=(V>0?1:-1)*(de>3?.4:de>1?.15:.05);checkPointerAndTrigger$1(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:he,originX:ae,originY:re,isAvailableBehavior:null})}}},n.prototype._pinchHandler=function(r){if(!isTaken$1(this._zr,"globalPan")){var $=r.pinchScale>1?1.1:.9090909090909091;checkPointerAndTrigger$1(this,"zoom",null,r,{scale:$,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})}},n}(Eventful$3);function checkPointerAndTrigger$1(g,n,r,$,L){g.pointerChecker&&g.pointerChecker($,L.originX,L.originY)&&(stop$1($.event),trigger$3(g,n,r,$,L))}function trigger$3(g,n,r,$,L){L.isAvailableBehavior=bind$5(isAvailableBehavior$1,null,r,$),g.trigger(n,L)}function isAvailableBehavior$1(g,n,r){var $=r[g];return!g||$&&(!isString$3($)||n.event[$+"Key"])}const RoamController$3=RoamController$2;function updateViewOnPan$1(g,n,r){var $=g.target;$.x+=n,$.y+=r,$.dirty()}function updateViewOnZoom$1(g,n,r,$){var L=g.target,V=g.zoomLimit,oe=g.zoom=g.zoom||1;if(oe*=n,V){var ae=V.min||0,re=V.max||1/0;oe=Math.max(Math.min(re,oe),ae)}var le=oe/g.zoom;g.zoom=oe,L.x-=(r-L.x)*(le-1),L.y-=($-L.y)*(le-1),L.scaleX*=le,L.scaleY*=le,L.dirty()}var IRRELEVANT_EXCLUDES$1={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement$1(g,n,r){var $=n.getComponentByElement(g.topTarget),L=$&&$.coordinateSystem;return $&&$!==r&&!IRRELEVANT_EXCLUDES$1.hasOwnProperty($.mainType)&&L&&L.model!==r}function parseXML$1(g){if(isString$3(g)){var n=new DOMParser;g=n.parseFromString(g,"text/xml")}var r=g;for(r.nodeType===9&&(r=r.firstChild);r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1;)r=r.nextSibling;return r}var nodeParsers$1,INHERITABLE_STYLE_ATTRIBUTES_MAP$1={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS$1=keys$2(INHERITABLE_STYLE_ATTRIBUTES_MAP$1),SELF_STYLE_ATTRIBUTES_MAP$1={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS$1=keys$2(SELF_STYLE_ATTRIBUTES_MAP$1),SVGParser$1=function(){function g(){this._defs={},this._root=null}return g.prototype.parse=function(n,r){r=r||{};var $=parseXML$1(n);this._defsUsePending=[];var L=new Group$9;this._root=L;var V=[],oe=$.getAttribute("viewBox")||"",ae=parseFloat($.getAttribute("width")||r.width),re=parseFloat($.getAttribute("height")||r.height);isNaN(ae)&&(ae=null),isNaN(re)&&(re=null),parseAttributes$1($,L,null,!0,!1);for(var le=$.firstChild;le;)this._parseNode(le,L,V,null,!1,!1),le=le.nextSibling;applyDefs$1(this._defs,this._defsUsePending),this._defsUsePending=[];var ue,de;if(oe){var he=splitNumberSequence$1(oe);he.length>=4&&(ue={x:parseFloat(he[0]||0),y:parseFloat(he[1]||0),width:parseFloat(he[2]),height:parseFloat(he[3])})}if(ue&&ae!=null&&re!=null&&(de=makeViewBoxTransform$1(ue,{x:0,y:0,width:ae,height:re}),!r.ignoreViewBox)){var pe=L;L=new Group$9,L.add(pe),pe.scaleX=pe.scaleY=de.scale,pe.x=de.x,pe.y=de.y}return!r.ignoreRootClip&&ae!=null&&re!=null&&L.setClipPath(new Rect$7({shape:{x:0,y:0,width:ae,height:re}})),{root:L,width:ae,height:re,viewBoxRect:ue,viewBoxTransform:de,named:V}},g.prototype._parseNode=function(n,r,$,L,V,oe){var ae=n.nodeName.toLowerCase(),re,le=L;if(ae==="defs"&&(V=!0),ae==="text"&&(oe=!0),ae==="defs"||ae==="switch")re=r;else{if(!V){var ue=nodeParsers$1[ae];if(ue&&hasOwn$1(nodeParsers$1,ae)){re=ue.call(this,n,r);var de=n.getAttribute("name");if(de){var he={name:de,namedFrom:null,svgNodeTagLower:ae,el:re};$.push(he),ae==="g"&&(le=he)}else L&&$.push({name:L.name,namedFrom:L,svgNodeTagLower:ae,el:re});r.add(re)}}var pe=paintServerParsers$1[ae];if(pe&&hasOwn$1(paintServerParsers$1,ae)){var _e=pe.call(this,n),$e=n.getAttribute("id");$e&&(this._defs[$e]=_e)}}if(re&&re.isGroup)for(var xe=n.firstChild;xe;)xe.nodeType===1?this._parseNode(xe,re,$,le,V,oe):xe.nodeType===3&&oe&&this._parseText(xe,re),xe=xe.nextSibling},g.prototype._parseText=function(n,r){var $=new TSpan$3({style:{text:n.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle$1(r,$),parseAttributes$1(n,$,this._defsUsePending,!1,!1),applyTextAlignment$1($,r);var L=$.style,V=L.fontSize;V&&V<9&&(L.fontSize=9,$.scaleX*=V/9,$.scaleY*=V/9);var oe=(L.fontSize||L.fontFamily)&&[L.fontStyle,L.fontWeight,(L.fontSize||12)+"px",L.fontFamily||"sans-serif"].join(" ");L.font=oe;var ae=$.getBoundingRect();return this._textX+=ae.width,r.add($),$},g.internalField=function(){nodeParsers$1={g:function(n,r){var $=new Group$9;return inheritStyle$1(r,$),parseAttributes$1(n,$,this._defsUsePending,!1,!1),$},rect:function(n,r){var $=new Rect$7;return inheritStyle$1(r,$),parseAttributes$1(n,$,this._defsUsePending,!1,!1),$.setShape({x:parseFloat(n.getAttribute("x")||"0"),y:parseFloat(n.getAttribute("y")||"0"),width:parseFloat(n.getAttribute("width")||"0"),height:parseFloat(n.getAttribute("height")||"0")}),$.silent=!0,$},circle:function(n,r){var $=new Circle$3;return inheritStyle$1(r,$),parseAttributes$1(n,$,this._defsUsePending,!1,!1),$.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),r:parseFloat(n.getAttribute("r")||"0")}),$.silent=!0,$},line:function(n,r){var $=new Line$8;return inheritStyle$1(r,$),parseAttributes$1(n,$,this._defsUsePending,!1,!1),$.setShape({x1:parseFloat(n.getAttribute("x1")||"0"),y1:parseFloat(n.getAttribute("y1")||"0"),x2:parseFloat(n.getAttribute("x2")||"0"),y2:parseFloat(n.getAttribute("y2")||"0")}),$.silent=!0,$},ellipse:function(n,r){var $=new Ellipse$3;return inheritStyle$1(r,$),parseAttributes$1(n,$,this._defsUsePending,!1,!1),$.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),rx:parseFloat(n.getAttribute("rx")||"0"),ry:parseFloat(n.getAttribute("ry")||"0")}),$.silent=!0,$},polygon:function(n,r){var $=n.getAttribute("points"),L;$&&(L=parsePoints$1($));var V=new Polygon$3({shape:{points:L||[]},silent:!0});return inheritStyle$1(r,V),parseAttributes$1(n,V,this._defsUsePending,!1,!1),V},polyline:function(n,r){var $=n.getAttribute("points"),L;$&&(L=parsePoints$1($));var V=new Polyline$7({shape:{points:L||[]},silent:!0});return inheritStyle$1(r,V),parseAttributes$1(n,V,this._defsUsePending,!1,!1),V},image:function(n,r){var $=new ZRImage$3;return inheritStyle$1(r,$),parseAttributes$1(n,$,this._defsUsePending,!1,!1),$.setStyle({image:n.getAttribute("xlink:href")||n.getAttribute("href"),x:+n.getAttribute("x"),y:+n.getAttribute("y"),width:+n.getAttribute("width"),height:+n.getAttribute("height")}),$.silent=!0,$},text:function(n,r){var $=n.getAttribute("x")||"0",L=n.getAttribute("y")||"0",V=n.getAttribute("dx")||"0",oe=n.getAttribute("dy")||"0";this._textX=parseFloat($)+parseFloat(V),this._textY=parseFloat(L)+parseFloat(oe);var ae=new Group$9;return inheritStyle$1(r,ae),parseAttributes$1(n,ae,this._defsUsePending,!1,!0),ae},tspan:function(n,r){var $=n.getAttribute("x"),L=n.getAttribute("y");$!=null&&(this._textX=parseFloat($)),L!=null&&(this._textY=parseFloat(L));var V=n.getAttribute("dx")||"0",oe=n.getAttribute("dy")||"0",ae=new Group$9;return inheritStyle$1(r,ae),parseAttributes$1(n,ae,this._defsUsePending,!1,!0),this._textX+=parseFloat(V),this._textY+=parseFloat(oe),ae},path:function(n,r){var $=n.getAttribute("d")||"",L=createFromString$1($);return inheritStyle$1(r,L),parseAttributes$1(n,L,this._defsUsePending,!1,!1),L.silent=!0,L}}}(),g}(),paintServerParsers$1={lineargradient:function(g){var n=parseInt(g.getAttribute("x1")||"0",10),r=parseInt(g.getAttribute("y1")||"0",10),$=parseInt(g.getAttribute("x2")||"10",10),L=parseInt(g.getAttribute("y2")||"0",10),V=new LinearGradient$3(n,r,$,L);return parsePaintServerUnit$1(g,V),parseGradientColorStops$1(g,V),V},radialgradient:function(g){var n=parseInt(g.getAttribute("cx")||"0",10),r=parseInt(g.getAttribute("cy")||"0",10),$=parseInt(g.getAttribute("r")||"0",10),L=new RadialGradient$3(n,r,$);return parsePaintServerUnit$1(g,L),parseGradientColorStops$1(g,L),L}};function parsePaintServerUnit$1(g,n){var r=g.getAttribute("gradientUnits");r==="userSpaceOnUse"&&(n.global=!0)}function parseGradientColorStops$1(g,n){for(var r=g.firstChild;r;){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var $=r.getAttribute("offset"),L=void 0;$&&$.indexOf("%")>0?L=parseInt($,10)/100:$?L=parseFloat($):L=0;var V={};parseInlineStyle$1(r,V,V);var oe=V.stopColor||r.getAttribute("stop-color")||"#000000";n.colorStops.push({offset:L,color:oe})}r=r.nextSibling}}function inheritStyle$1(g,n){g&&g.__inheritedStyle&&(n.__inheritedStyle||(n.__inheritedStyle={}),defaults$7(n.__inheritedStyle,g.__inheritedStyle))}function parsePoints$1(g){for(var n=splitNumberSequence$1(g),r=[],$=0;$<n.length;$+=2){var L=parseFloat(n[$]),V=parseFloat(n[$+1]);r.push([L,V])}return r}function parseAttributes$1(g,n,r,$,L){var V=n,oe=V.__inheritedStyle=V.__inheritedStyle||{},ae={};g.nodeType===1&&(parseTransformAttribute$1(g,n),parseInlineStyle$1(g,oe,ae),$||parseAttributeStyle$1(g,oe,ae)),V.style=V.style||{},oe.fill!=null&&(V.style.fill=getFillStrokeStyle$1(V,"fill",oe.fill,r)),oe.stroke!=null&&(V.style.stroke=getFillStrokeStyle$1(V,"stroke",oe.stroke,r)),each$v(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(re){oe[re]!=null&&(V.style[re]=parseFloat(oe[re]))}),each$v(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(re){oe[re]!=null&&(V.style[re]=oe[re])}),L&&(V.__selfStyle=ae),oe.lineDash&&(V.style.lineDash=map$3(splitNumberSequence$1(oe.lineDash),function(re){return parseFloat(re)})),(oe.visibility==="hidden"||oe.visibility==="collapse")&&(V.invisible=!0),oe.display==="none"&&(V.ignore=!0)}function applyTextAlignment$1(g,n){var r=n.__selfStyle;if(r){var $=r.textBaseline,L=$;!$||$==="auto"||$==="baseline"?L="alphabetic":$==="before-edge"||$==="text-before-edge"?L="top":$==="after-edge"||$==="text-after-edge"?L="bottom":($==="central"||$==="mathematical")&&(L="middle"),g.style.textBaseline=L}var V=n.__inheritedStyle;if(V){var oe=V.textAlign,ae=oe;oe&&(oe==="middle"&&(ae="center"),g.style.textAlign=ae)}}var urlRegex$1=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle$1(g,n,r,$){var L=r&&r.match(urlRegex$1);if(L){var V=trim$5(L[1]);$.push([g,n,V]);return}return r==="none"&&(r=null),r}function applyDefs$1(g,n){for(var r=0;r<n.length;r++){var $=n[r];$[0].style[$[1]]=g[$[2]]}}var numberReg$2=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence$1(g){return g.match(numberReg$2)||[]}var transformRegex$1=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE$1=Math.PI/180;function parseTransformAttribute$1(g,n){var r=g.getAttribute("transform");if(r){r=r.replace(/,/g," ");var $=[],L=null;r.replace(transformRegex$1,function(de,he,pe){return $.push(he,pe),""});for(var V=$.length-1;V>0;V-=2){var oe=$[V],ae=$[V-1],re=splitNumberSequence$1(oe);switch(L=L||create$4(),ae){case"translate":translate$1(L,L,[parseFloat(re[0]),parseFloat(re[1]||"0")]);break;case"scale":scale$4(L,L,[parseFloat(re[0]),parseFloat(re[1]||re[0])]);break;case"rotate":rotate$1(L,L,-parseFloat(re[0])*DEGREE_TO_ANGLE$1);break;case"skewX":var le=Math.tan(parseFloat(re[0])*DEGREE_TO_ANGLE$1);mul$1(L,[1,0,le,1,0,0],L);break;case"skewY":var ue=Math.tan(parseFloat(re[0])*DEGREE_TO_ANGLE$1);mul$1(L,[1,ue,0,1,0,0],L);break;case"matrix":L[0]=parseFloat(re[0]),L[1]=parseFloat(re[1]),L[2]=parseFloat(re[2]),L[3]=parseFloat(re[3]),L[4]=parseFloat(re[4]),L[5]=parseFloat(re[5]);break}}n.setLocalTransform(L)}}var styleRegex$1=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle$1(g,n,r){var $=g.getAttribute("style");if($){styleRegex$1.lastIndex=0;for(var L;(L=styleRegex$1.exec($))!=null;){var V=L[1],oe=hasOwn$1(INHERITABLE_STYLE_ATTRIBUTES_MAP$1,V)?INHERITABLE_STYLE_ATTRIBUTES_MAP$1[V]:null;oe&&(n[oe]=L[2]);var ae=hasOwn$1(SELF_STYLE_ATTRIBUTES_MAP$1,V)?SELF_STYLE_ATTRIBUTES_MAP$1[V]:null;ae&&(r[ae]=L[2])}}}function parseAttributeStyle$1(g,n,r){for(var $=0;$<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS$1.length;$++){var L=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS$1[$],V=g.getAttribute(L);V!=null&&(n[INHERITABLE_STYLE_ATTRIBUTES_MAP$1[L]]=V)}for(var $=0;$<SELF_STYLE_ATTRIBUTES_MAP_KEYS$1.length;$++){var L=SELF_STYLE_ATTRIBUTES_MAP_KEYS$1[$],V=g.getAttribute(L);V!=null&&(r[SELF_STYLE_ATTRIBUTES_MAP$1[L]]=V)}}function makeViewBoxTransform$1(g,n){var r=n.width/g.width,$=n.height/g.height,L=Math.min(r,$);return{scale:L,x:-(g.x+g.width/2)*L+(n.x+n.width/2),y:-(g.y+g.height/2)*L+(n.y+n.height/2)}}function parseSVG$1(g,n){var r=new SVGParser$1;return r.parse(g,n)}var REGION_AVAILABLE_SVG_TAG_MAP$1=createHashMap$1(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource$1=function(){function g(n,r){this.type="geoSVG",this._usedGraphicMap=createHashMap$1(),this._freedGraphics=[],this._mapName=n,this._parsedXML=parseXML$1(r)}return g.prototype.load=function(){var n=this._firstGraphic;if(!n){n=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(n),this._boundingRect=this._firstGraphic.boundingRect.clone();var r=createRegions$1(n.named),$=r.regions,L=r.regionsMap;this._regions=$,this._regionsMap=L}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},g.prototype._buildGraphic=function(n){var r,$;try{r=n&&parseSVG$1(n,{ignoreViewBox:!0,ignoreRootClip:!0})||{},$=r.root,assert$1($!=null)}catch(xe){throw new Error(`Invalid svg format
`+xe.message)}var L=new Group$9;L.add($),L.isGeoSVGGraphicRoot=!0;var V=r.width,oe=r.height,ae=r.viewBoxRect,re=this._boundingRect;if(!re){var le=void 0,ue=void 0,de=void 0,he=void 0;if(V!=null?(le=0,de=V):ae&&(le=ae.x,de=ae.width),oe!=null?(ue=0,he=oe):ae&&(ue=ae.y,he=ae.height),le==null||ue==null){var pe=$.getBoundingRect();le==null&&(le=pe.x,de=pe.width),ue==null&&(ue=pe.y,he=pe.height)}re=this._boundingRect=new BoundingRect$3(le,ue,de,he)}if(ae){var _e=makeViewBoxTransform$1(ae,re);$.scaleX=$.scaleY=_e.scale,$.x=_e.x,$.y=_e.y}L.setClipPath(new Rect$7({shape:re.plain()}));var $e=[];return each$v(r.named,function(xe){REGION_AVAILABLE_SVG_TAG_MAP$1.get(xe.svgNodeTagLower)!=null&&($e.push(xe),setSilent$1(xe.el))}),{root:L,boundingRect:re,named:$e}},g.prototype.useGraphic=function(n){var r=this._usedGraphicMap,$=r.get(n);return $||($=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),r.set(n,$),$)},g.prototype.freeGraphic=function(n){var r=this._usedGraphicMap,$=r.get(n);$&&(r.removeKey(n),this._freedGraphics.push($))},g}();function setSilent$1(g){g.silent=!1,g.isGroup&&g.traverse(function(n){n.silent=!1})}function createRegions$1(g){var n=[],r=createHashMap$1();return each$v(g,function($){if($.namedFrom==null){var L=new GeoSVGRegion$1($.name,$.el);n.push(L),r.set($.name,L)}}),{regions:n,regionsMap:r}}for(var geoCoord$1=[126,25],nanhaiName$1="\u5357\u6D77\u8BF8\u5C9B",points$4=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],i$3=0;i$3<points$4.length;i$3++)for(var k$1=0;k$1<points$4[i$3].length;k$1++)points$4[i$3][k$1][0]/=10.5,points$4[i$3][k$1][1]/=-14,points$4[i$3][k$1][0]+=geoCoord$1[0],points$4[i$3][k$1][1]+=geoCoord$1[1];function fixNanhai$1(g,n){if(g==="china"){for(var r=0;r<n.length;r++)if(n[r].name===nanhaiName$1)return;n.push(new GeoJSONRegion$1(nanhaiName$1,map$3(points$4,function($){return{type:"polygon",exterior:$}}),geoCoord$1))}}var coordsOffsetMap$1={\u5357\u6D77\u8BF8\u5C9B:[32,80],\u5E7F\u4E1C:[0,-10],\u9999\u6E2F:[10,5],\u6FB3\u95E8:[-10,10],\u5929\u6D25:[5,5]};function fixTextCoords$1(g,n){if(g==="china"){var r=coordsOffsetMap$1[n.name];if(r){var $=n.getCenter();$[0]+=r[0]/10.5,$[1]+=-r[1]/14,n.setCenter($)}}}var points$3=[[[123.45165252685548,25.73527164402261],[123.497314453125,25.73527164402261],[123.497314453125,25.750734064600884],[123.45165252685548,25.750734064600884],[123.45165252685548,25.73527164402261]]];function fixDiaoyuIsland$1(g,n){g==="china"&&n.name==="\u53F0\u6E7E"&&n.geometries.push({type:"polygon",exterior:points$3[0]})}var DEFAULT_NAME_PROPERTY$1="name",GeoJSONResource$1=function(){function g(n,r,$){this.type="geoJSON",this._parsedMap=createHashMap$1(),this._mapName=n,this._specialAreas=$,this._geoJSON=parseInput$1(r)}return g.prototype.load=function(n,r){r=r||DEFAULT_NAME_PROPERTY$1;var $=this._parsedMap.get(r);if(!$){var L=this._parseToRegions(r);$=this._parsedMap.set(r,{regions:L,boundingRect:calculateBoundingRect$1(L)})}var V=createHashMap$1(),oe=[];return each$v($.regions,function(ae){var re=ae.name;n&&hasOwn$1(n,re)&&(ae=ae.cloneShallow(re=n[re])),oe.push(ae),V.set(re,ae)}),{regions:oe,boundingRect:$.boundingRect||new BoundingRect$3(0,0,0,0),regionsMap:V}},g.prototype._parseToRegions=function(n){var r=this._mapName,$=this._geoJSON,L;try{L=$?parseGeoJSON$1($,n):[]}catch(V){throw new Error(`Invalid geoJson format
`+V.message)}return fixNanhai$1(r,L),each$v(L,function(V){var oe=V.name;fixTextCoords$1(r,V),fixDiaoyuIsland$1(r,V);var ae=this._specialAreas&&this._specialAreas[oe];ae&&V.transformTo(ae.left,ae.top,ae.width,ae.height)},this),L},g.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},g}();function calculateBoundingRect$1(g){for(var n,r=0;r<g.length;r++){var $=g[r].getBoundingRect();n=n||$.clone(),n.union($)}return n}function parseInput$1(g){return isString$3(g)?typeof JSON<"u"&&JSON.parse?JSON.parse(g):new Function("return ("+g+");")():g}var storage$1=createHashMap$1();const geoSourceManager$1={registerMap:function(g,n,r){if(n.svg){var $=new GeoSVGResource$1(g,n.svg);storage$1.set(g,$)}else{var L=n.geoJson||n.geoJSON;L&&!n.features?r=n.specialAreas:L=n;var $=new GeoJSONResource$1(g,L,r);storage$1.set(g,$)}},getGeoResource:function(g){return storage$1.get(g)},getMapForUser:function(g){var n=storage$1.get(g);return n&&n.type==="geoJSON"&&n.getMapForUser()},load:function(g,n,r){var $=storage$1.get(g);if($)return $.load(n,r)}};var OPTION_STYLE_ENABLED_TAGS$1=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP$1=createHashMap$1(OPTION_STYLE_ENABLED_TAGS$1),STATE_TRIGGER_TAG_MAP$1=createHashMap$1(OPTION_STYLE_ENABLED_TAGS$1.concat(["g"])),LABEL_HOST_MAP$1=createHashMap$1(OPTION_STYLE_ENABLED_TAGS$1.concat(["g"])),mapLabelRaw$1=makeInner$1();function getFixedItemStyle$1(g){var n=g.getItemStyle(),r=g.get("areaColor");return r!=null&&(n.fill=r),n}function fixLineStyle$1(g){var n=g.style;n&&(n.stroke=n.stroke||n.fill,n.fill=null)}var MapDraw$2=function(){function g(n){var r=new Group$9;this.uid=getUID$1("ec_map_draw"),this._controller=new RoamController$3(n.getZr()),this._controllerHost={target:r},this.group=r,r.add(this._regionsGroup=new Group$9),r.add(this._svgGroup=new Group$9)}return g.prototype.draw=function(n,r,$,L,V){var oe=n.mainType==="geo",ae=n.getData&&n.getData();oe&&r.eachComponent({mainType:"series",subType:"map"},function(Oe){!ae&&Oe.getHostGeoModel()===n&&(ae=Oe.getData())});var re=n.coordinateSystem,le=this._regionsGroup,ue=this.group,de=re.getTransformInfo(),he=de.raw,pe=de.roam,_e=!le.childAt(0)||V;_e?(ue.x=pe.x,ue.y=pe.y,ue.scaleX=pe.scaleX,ue.scaleY=pe.scaleY,ue.dirty()):updateProps$3(ue,pe,n);var $e=ae&&ae.getVisual("visualMeta")&&ae.getVisual("visualMeta").length>0,xe={api:$,geo:re,mapOrGeoModel:n,data:ae,isVisualEncodedByVisualMap:$e,isGeo:oe,transformInfoRaw:he};re.resourceType==="geoJSON"?this._buildGeoJSON(xe):re.resourceType==="geoSVG"&&this._buildSVG(xe),this._updateController(n,r,$),this._updateMapSelectHandler(n,le,$,L)},g.prototype._buildGeoJSON=function(n){var r=this._regionsGroupByName=createHashMap$1(),$=createHashMap$1(),L=this._regionsGroup,V=n.transformInfoRaw,oe=n.mapOrGeoModel,ae=n.data,re=n.geo.projection,le=re&&re.stream;function ue(pe,_e){return _e&&(pe=_e(pe)),pe&&[pe[0]*V.scaleX+V.x,pe[1]*V.scaleY+V.y]}function de(pe){for(var _e=[],$e=!le&&re&&re.project,xe=0;xe<pe.length;++xe){var Oe=ue(pe[xe],$e);Oe&&_e.push(Oe)}return _e}function he(pe){return{shape:{points:de(pe)}}}L.removeAll(),each$v(n.geo.regions,function(pe){var _e=pe.name,$e=r.get(_e),xe=$.get(_e)||{},Oe=xe.dataIdx,Ce=xe.regionModel;$e||($e=r.set(_e,new Group$9),L.add($e),Oe=ae?ae.indexOfName(_e):null,Ce=n.isGeo?oe.getRegionModel(_e):ae?ae.getItemModel(Oe):null,$.set(_e,{dataIdx:Oe,regionModel:Ce}));var Ie=[],Ne=[];each$v(pe.geometries,function(Ue){if(Ue.type==="polygon"){var At=[Ue.exterior].concat(Ue.interiors||[]);le&&(At=projectPolys$1(At,le)),each$v(At,function(Pt){Ie.push(new Polygon$3(he(Pt)))})}else{var Et=Ue.points;le&&(Et=projectPolys$1(Et,le,!0)),each$v(Et,function(Pt){Ne.push(new Polyline$7(he(Pt)))})}});var ze=ue(pe.getCenter(),re&&re.project);function Fe(Ue,At){if(Ue.length){var Et=new CompoundPath$3({culling:!0,segmentIgnoreThreshold:1,shape:{paths:Ue}});$e.add(Et),applyOptionStyleForRegion$1(n,Et,Oe,Ce),resetLabelForRegion$1(n,Et,_e,Ce,oe,Oe,ze),At&&(fixLineStyle$1(Et),each$v(Et.states,fixLineStyle$1))}}Fe(Ie),Fe(Ne,!0)}),r.each(function(pe,_e){var $e=$.get(_e),xe=$e.dataIdx,Oe=$e.regionModel;resetEventTriggerForRegion$1(n,pe,_e,Oe,oe,xe),resetTooltipForRegion$1(n,pe,_e,Oe,oe),resetStateTriggerForRegion$1(n,pe,_e,Oe,oe)},this)},g.prototype._buildSVG=function(n){var r=n.geo.map,$=n.transformInfoRaw;this._svgGroup.x=$.x,this._svgGroup.y=$.y,this._svgGroup.scaleX=$.scaleX,this._svgGroup.scaleY=$.scaleY,this._svgResourceChanged(r)&&(this._freeSVG(),this._useSVG(r));var L=this._svgDispatcherMap=createHashMap$1(),V=!1;each$v(this._svgGraphicRecord.named,function(oe){var ae=oe.name,re=n.mapOrGeoModel,le=n.data,ue=oe.svgNodeTagLower,de=oe.el,he=le?le.indexOfName(ae):null,pe=re.getRegionModel(ae);if(OPTION_STYLE_ENABLED_TAG_MAP$1.get(ue)!=null&&de instanceof Displayable$3&&applyOptionStyleForRegion$1(n,de,he,pe),de instanceof Displayable$3&&(de.culling=!0),de.z2EmphasisLift=0,!oe.namedFrom&&(LABEL_HOST_MAP$1.get(ue)!=null&&resetLabelForRegion$1(n,de,ae,pe,re,he,null),resetEventTriggerForRegion$1(n,de,ae,pe,re,he),resetTooltipForRegion$1(n,de,ae,pe,re),STATE_TRIGGER_TAG_MAP$1.get(ue)!=null)){var _e=resetStateTriggerForRegion$1(n,de,ae,pe,re);_e==="self"&&(V=!0);var $e=L.get(ae)||L.set(ae,[]);$e.push(de)}},this),this._enableBlurEntireSVG(V,n)},g.prototype._enableBlurEntireSVG=function(n,r){if(n&&r.isGeo){var $=r.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),L=$.opacity;this._svgGraphicRecord.root.traverse(function(V){if(!V.isGroup){setDefaultStateProxy$1(V);var oe=V.ensureState("blur").style||{};oe.opacity==null&&L!=null&&(oe.opacity=L),V.ensureState("emphasis")}})}},g.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},g.prototype.findHighDownDispatchers=function(n,r){if(n==null)return[];var $=r.coordinateSystem;if($.resourceType==="geoJSON"){var L=this._regionsGroupByName;if(L){var V=L.get(n);return V?[V]:[]}}else if($.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(n)||[]},g.prototype._svgResourceChanged=function(n){return this._svgMapName!==n},g.prototype._useSVG=function(n){var r=geoSourceManager$1.getGeoResource(n);if(r&&r.type==="geoSVG"){var $=r.useGraphic(this.uid);this._svgGroup.add($.root),this._svgGraphicRecord=$,this._svgMapName=n}},g.prototype._freeSVG=function(){var n=this._svgMapName;if(n!=null){var r=geoSourceManager$1.getGeoResource(n);r&&r.type==="geoSVG"&&r.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},g.prototype._updateController=function(n,r,$){var L=n.coordinateSystem,V=this._controller,oe=this._controllerHost;oe.zoomLimit=n.get("scaleLimit"),oe.zoom=L.getZoom(),V.enable(n.get("roam")||!1);var ae=n.mainType;function re(){var le={type:"geoRoam",componentType:ae};return le[ae+"Id"]=n.id,le}V.off("pan").on("pan",function(le){this._mouseDownFlag=!1,updateViewOnPan$1(oe,le.dx,le.dy),$.dispatchAction(extend$4(re(),{dx:le.dx,dy:le.dy,animation:{duration:0}}))},this),V.off("zoom").on("zoom",function(le){this._mouseDownFlag=!1,updateViewOnZoom$1(oe,le.scale,le.originX,le.originY),$.dispatchAction(extend$4(re(),{zoom:le.scale,originX:le.originX,originY:le.originY,animation:{duration:0}}))},this),V.setPointerChecker(function(le,ue,de){return L.containPoint([ue,de])&&!onIrrelevantElement$1(le,$,n)})},g.prototype.resetForLabelLayout=function(){this.group.traverse(function(n){var r=n.getTextContent();r&&(r.ignore=mapLabelRaw$1(r).ignore)})},g.prototype._updateMapSelectHandler=function(n,r,$,L){var V=this;r.off("mousedown"),r.off("click"),n.get("selectedMode")&&(r.on("mousedown",function(){V._mouseDownFlag=!0}),r.on("click",function(oe){!V._mouseDownFlag||(V._mouseDownFlag=!1)}))},g}();function applyOptionStyleForRegion$1(g,n,r,$){var L=$.getModel("itemStyle"),V=$.getModel(["emphasis","itemStyle"]),oe=$.getModel(["blur","itemStyle"]),ae=$.getModel(["select","itemStyle"]),re=getFixedItemStyle$1(L),le=getFixedItemStyle$1(V),ue=getFixedItemStyle$1(ae),de=getFixedItemStyle$1(oe),he=g.data;if(he){var pe=he.getItemVisual(r,"style"),_e=he.getItemVisual(r,"decal");g.isVisualEncodedByVisualMap&&pe.fill&&(re.fill=pe.fill),_e&&(re.decal=createOrUpdatePatternFromDecal$1(_e,g.api))}n.setStyle(re),n.style.strokeNoScale=!0,n.ensureState("emphasis").style=le,n.ensureState("select").style=ue,n.ensureState("blur").style=de,setDefaultStateProxy$1(n)}function resetLabelForRegion$1(g,n,r,$,L,V,oe){var ae=g.data,re=g.isGeo,le=ae&&isNaN(ae.get(ae.mapDimension("value"),V)),ue=ae&&ae.getItemLayout(V);if(re||le||ue&&ue.showLabel){var de=re?r:V,he=void 0;(!ae||V>=0)&&(he=L);var pe=oe?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle$1(n,getLabelStatesModels$1($),{labelFetcher:he,labelDataIndex:de,defaultText:r},pe);var _e=n.getTextContent();if(_e&&(mapLabelRaw$1(_e).ignore=_e.ignore,n.textConfig&&oe)){var $e=n.getBoundingRect().clone();n.textConfig.layoutRect=$e,n.textConfig.position=[(oe[0]-$e.x)/$e.width*100+"%",(oe[1]-$e.y)/$e.height*100+"%"]}n.disableLabelAnimation=!0}else n.removeTextContent(),n.removeTextConfig(),n.disableLabelAnimation=null}function resetEventTriggerForRegion$1(g,n,r,$,L,V){g.data?g.data.setItemGraphicEl(V,n):getECData$1(n).eventData={componentType:"geo",componentIndex:L.componentIndex,geoIndex:L.componentIndex,name:r,region:$&&$.option||{}}}function resetTooltipForRegion$1(g,n,r,$,L){g.data||setTooltipConfig$1({el:n,componentModel:L,itemName:r,itemTooltipOption:$.get("tooltip")})}function resetStateTriggerForRegion$1(g,n,r,$,L){n.highDownSilentOnTouch=!!L.get("selectedMode");var V=$.getModel("emphasis"),oe=V.get("focus");return toggleHoverEmphasis$1(n,oe,V.get("blurScope"),V.get("disabled")),g.isGeo&&enableComponentHighDownFeatures$1(n,L,r),oe}function projectPolys$1(g,n,r){var $=[],L;function V(){L=[]}function oe(){L.length&&($.push(L),L=[])}var ae=n({polygonStart:V,polygonEnd:oe,lineStart:V,lineEnd:oe,point:function(re,le){isFinite(re)&&isFinite(le)&&L.push([re,le])},sphere:function(){}});return!r&&ae.polygonStart(),each$v(g,function(re){ae.lineStart();for(var le=0;le<re.length;le++)ae.point(re[le][0],re[le][1]);ae.lineEnd()}),!r&&ae.polygonEnd(),$}const MapDraw$3=MapDraw$2;var MapView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L,V){if(!(V&&V.type==="mapToggleSelect"&&V.from===this.uid)){var oe=this.group;if(oe.removeAll(),!r.getHostGeoModel()){if(this._mapDraw&&V&&V.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),V&&V.type==="geoRoam"&&V.componentType==="series"&&V.seriesId===r.id){var ae=this._mapDraw;ae&&oe.add(ae.group)}else if(r.needsDrawMap){var ae=this._mapDraw||new MapDraw$3(L);oe.add(ae.group),ae.draw(r,$,L,this,V),this._mapDraw=ae}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;r.get("showLegendSymbol")&&$.getComponent("legend")&&this._renderSymbols(r,$,L)}}},n.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},n.prototype._renderSymbols=function(r,$,L){var V=r.originalData,oe=this.group;V.each(V.mapDimension("value"),function(ae,re){if(!isNaN(ae)){var le=V.getItemLayout(re);if(!(!le||!le.point)){var ue=le.point,de=le.offset,he=new Circle$3({style:{fill:r.getData().getVisual("style").fill},shape:{cx:ue[0]+de*9,cy:ue[1],r:3},silent:!0,z2:8+(de?0:Z2_EMPHASIS_LIFT$1+1)});if(!de){var pe=r.mainSeries.getData(),_e=V.getName(re),$e=pe.indexOfName(_e),xe=V.getItemModel(re),Oe=xe.getModel("label"),Ce=pe.getItemGraphicEl($e);setLabelStyle$1(he,getLabelStatesModels$1(xe),{labelFetcher:{getFormattedLabel:function(Ie,Ne){return r.getFormattedLabel($e,Ne)}},defaultText:_e}),he.disableLabelAnimation=!0,Oe.get("position")||he.setTextConfig({position:"bottom"}),Ce.onHoverStateChange=function(Ie){setStatesFlag$1(he,Ie)}}oe.add(he)}}})},n.type="map",n}(ChartView$3);const MapView$3=MapView$2;var MapSeries$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.needsDrawMap=!1,r.seriesGroup=[],r.getTooltipPosition=function($){if($!=null){var L=this.getData().getName($),V=this.coordinateSystem,oe=V.getRegion(L);return oe&&V.dataToPoint(oe.getCenter())}},r}return n.prototype.getInitialData=function(r){for(var $=createSeriesDataSimply$1(this,{coordDimensions:["value"],encodeDefaulter:curry$3(makeSeriesEncodeForNameBased$1,this)}),L=createHashMap$1(),V=[],oe=0,ae=$.count();oe<ae;oe++){var re=$.getName(oe);L.set(re,!0)}var le=geoSourceManager$1.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return each$v(le.regions,function(ue){var de=ue.name;L.get(de)||V.push(de)}),$.appendValues([],V),$},n.prototype.getHostGeoModel=function(){var r=this.option.geoIndex;return r!=null?this.ecModel.getComponent("geo",r):null},n.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},n.prototype.getRawValue=function(r){var $=this.getData();return $.get($.mapDimension("value"),r)},n.prototype.getRegionModel=function(r){var $=this.getData();return $.getItemModel($.indexOfName(r))},n.prototype.formatTooltip=function(r,$,L){for(var V=this.getData(),oe=this.getRawValue(r),ae=V.getName(r),re=this.seriesGroup,le=[],ue=0;ue<re.length;ue++){var de=re[ue].originalData.indexOfName(ae),he=V.mapDimension("value");isNaN(re[ue].originalData.get(he,de))||le.push(re[ue].name)}return createTooltipMarkup$1("section",{header:le.join(", "),noHeader:!le.length,blocks:[createTooltipMarkup$1("nameValue",{name:ae,value:oe})]})},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.getLegendIcon=function(r){var $=r.icon||"roundRect",L=createSymbol$3($,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill);return L.setStyle(r.itemStyle),L.style.stroke="none",$.indexOf("empty")>-1&&(L.style.stroke=L.style.fill,L.style.fill="#fff",L.style.lineWidth=2),L},n.type="series.map",n.dependencies=["geo"],n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},n}(SeriesModel$3);const MapSeries$3=MapSeries$2;function dataStatistics$1(g,n){var r={};return each$v(g,function($){$.each($.mapDimension("value"),function(L,V){var oe="ec-"+$.getName(V);r[oe]=r[oe]||[],isNaN(L)||r[oe].push(L)})}),g[0].map(g[0].mapDimension("value"),function($,L){for(var V="ec-"+g[0].getName(L),oe=0,ae=1/0,re=-1/0,le=r[V].length,ue=0;ue<le;ue++)ae=Math.min(ae,r[V][ue]),re=Math.max(re,r[V][ue]),oe+=r[V][ue];var de;return n==="min"?de=ae:n==="max"?de=re:n==="average"?de=oe/le:de=oe,le===0?NaN:de})}function mapDataStatistic$1(g){var n={};g.eachSeriesByType("map",function(r){var $=r.getHostGeoModel(),L=$?"o"+$.id:"i"+r.getMapType();(n[L]=n[L]||[]).push(r)}),each$v(n,function(r,$){for(var L=dataStatistics$1(map$3(r,function(oe){return oe.getData()}),r[0].get("mapValueCalculation")),V=0;V<r.length;V++)r[V].originalData=r[V].getData();for(var V=0;V<r.length;V++)r[V].seriesGroup=r,r[V].needsDrawMap=V===0&&!r[V].getHostGeoModel(),r[V].setData(L.cloneShallow()),r[V].mainSeries=r[0]})}function mapSymbolLayout$1(g){var n={};g.eachSeriesByType("map",function(r){var $=r.getMapType();if(!(r.getHostGeoModel()||n[$])){var L={};each$v(r.seriesGroup,function(oe){var ae=oe.coordinateSystem,re=oe.originalData;oe.get("showLegendSymbol")&&g.getComponent("legend")&&re.each(re.mapDimension("value"),function(le,ue){var de=re.getName(ue),he=ae.getRegion(de);if(!(!he||isNaN(le))){var pe=L[de]||0,_e=ae.dataToPoint(he.getCenter());L[de]=pe+1,re.setItemLayout(ue,{point:_e,offset:pe})}})});var V=r.getData();V.each(function(oe){var ae=V.getName(oe),re=V.getItemLayout(oe)||{};re.showLabel=!L[ae],V.setItemLayout(oe,re)}),n[$]=!0}})}var v2ApplyTransform$1=applyTransform$3,View$2=function(g){__extends$2(n,g);function n(r){var $=g.call(this)||this;return $.type="view",$.dimensions=["x","y"],$._roamTransformable=new Transformable$1,$._rawTransformable=new Transformable$1,$.name=r,$}return n.prototype.setBoundingRect=function(r,$,L,V){return this._rect=new BoundingRect$3(r,$,L,V),this._rect},n.prototype.getBoundingRect=function(){return this._rect},n.prototype.setViewRect=function(r,$,L,V){this._transformTo(r,$,L,V),this._viewRect=new BoundingRect$3(r,$,L,V)},n.prototype._transformTo=function(r,$,L,V){var oe=this.getBoundingRect(),ae=this._rawTransformable;ae.transform=oe.calculateTransform(new BoundingRect$3(r,$,L,V));var re=ae.parent;ae.parent=null,ae.decomposeTransform(),ae.parent=re,this._updateTransform()},n.prototype.setCenter=function(r,$){!r||(this._center=[parsePercent$2(r[0],$.getWidth()),parsePercent$2(r[1],$.getHeight())],this._updateCenterAndZoom())},n.prototype.setZoom=function(r){r=r||1;var $=this.zoomLimit;$&&($.max!=null&&(r=Math.min($.max,r)),$.min!=null&&(r=Math.max($.min,r))),this._zoom=r,this._updateCenterAndZoom()},n.prototype.getDefaultCenter=function(){var r=this.getBoundingRect(),$=r.x+r.width/2,L=r.y+r.height/2;return[$,L]},n.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},n.prototype.getZoom=function(){return this._zoom||1},n.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},n.prototype._updateCenterAndZoom=function(){var r=this._rawTransformable.getLocalTransform(),$=this._roamTransformable,L=this.getDefaultCenter(),V=this.getCenter(),oe=this.getZoom();V=applyTransform$3([],V,r),L=applyTransform$3([],L,r),$.originX=V[0],$.originY=V[1],$.x=L[0]-V[0],$.y=L[1]-V[1],$.scaleX=$.scaleY=oe,this._updateTransform()},n.prototype._updateTransform=function(){var r=this._roamTransformable,$=this._rawTransformable;$.parent=r,r.updateTransform(),$.updateTransform(),copy$3(this.transform||(this.transform=[]),$.transform||create$4()),this._rawTransform=$.getLocalTransform(),this.invTransform=this.invTransform||[],invert$1(this.invTransform,this.transform),this.decomposeTransform()},n.prototype.getTransformInfo=function(){var r=this._rawTransformable,$=this._roamTransformable,L=new Transformable$1;return L.transform=$.transform,L.decomposeTransform(),{roam:{x:L.x,y:L.y,scaleX:L.scaleX,scaleY:L.scaleY},raw:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY}}},n.prototype.getViewRect=function(){return this._viewRect},n.prototype.getViewRectAfterRoam=function(){var r=this.getBoundingRect().clone();return r.applyTransform(this.transform),r},n.prototype.dataToPoint=function(r,$,L){var V=$?this._rawTransform:this.transform;return L=L||[],V?v2ApplyTransform$1(L,r,V):copy$4(L,r)},n.prototype.pointToData=function(r){var $=this.invTransform;return $?v2ApplyTransform$1([],r,$):[r[0],r[1]]},n.prototype.convertToPixel=function(r,$,L){var V=getCoordSys$9($);return V===this?V.dataToPoint(L):null},n.prototype.convertFromPixel=function(r,$,L){var V=getCoordSys$9($);return V===this?V.pointToData(L):null},n.prototype.containPoint=function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])},n.dimensions=["x","y"],n}(Transformable$1);function getCoordSys$9(g){var n=g.seriesModel;return n?n.coordinateSystem:null}const View$3=View$2;var GEO_DEFAULT_PARAMS$1={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions$1=["lng","lat"],Geo$2=function(g){__extends$2(n,g);function n(r,$,L){var V=g.call(this,r)||this;V.dimensions=geo2DDimensions$1,V.type="geo",V._nameCoordMap=createHashMap$1(),V.map=$;var oe=L.projection,ae=geoSourceManager$1.load($,L.nameMap,L.nameProperty),re=geoSourceManager$1.getGeoResource($);V.resourceType=re?re.type:null;var le=V.regions=ae.regions,ue=GEO_DEFAULT_PARAMS$1[re.type];V._regionsMap=ae.regionsMap,V.regions=ae.regions,V.projection=oe;var de;if(oe)for(var he=0;he<le.length;he++){var pe=le[he].getBoundingRect(oe);de=de||pe.clone(),de.union(pe)}else de=ae.boundingRect;return V.setBoundingRect(de.x,de.y,de.width,de.height),V.aspectScale=oe?1:retrieve2$1(L.aspectScale,ue.aspectScale),V._invertLongitute=oe?!1:ue.invertLongitute,V}return n.prototype._transformTo=function(r,$,L,V){var oe=this.getBoundingRect(),ae=this._invertLongitute;oe=oe.clone(),ae&&(oe.y=-oe.y-oe.height);var re=this._rawTransformable;re.transform=oe.calculateTransform(new BoundingRect$3(r,$,L,V));var le=re.parent;re.parent=null,re.decomposeTransform(),re.parent=le,ae&&(re.scaleY=-re.scaleY),this._updateTransform()},n.prototype.getRegion=function(r){return this._regionsMap.get(r)},n.prototype.getRegionByCoord=function(r){for(var $=this.regions,L=0;L<$.length;L++){var V=$[L];if(V.type==="geoJSON"&&V.contain(r))return $[L]}},n.prototype.addGeoCoord=function(r,$){this._nameCoordMap.set(r,$)},n.prototype.getGeoCoord=function(r){var $=this._regionsMap.get(r);return this._nameCoordMap.get(r)||$&&$.getCenter()},n.prototype.dataToPoint=function(r,$,L){if(isString$3(r)&&(r=this.getGeoCoord(r)),r){var V=this.projection;return V&&(r=V.project(r)),r&&this.projectedToPoint(r,$,L)}},n.prototype.pointToData=function(r){var $=this.projection;return $&&(r=$.unproject(r)),r&&this.pointToProjected(r)},n.prototype.pointToProjected=function(r){return g.prototype.pointToData.call(this,r)},n.prototype.projectedToPoint=function(r,$,L){return g.prototype.dataToPoint.call(this,r,$,L)},n.prototype.convertToPixel=function(r,$,L){var V=getCoordSys$8($);return V===this?V.dataToPoint(L):null},n.prototype.convertFromPixel=function(r,$,L){var V=getCoordSys$8($);return V===this?V.pointToData(L):null},n}(View$3);mixin$1(Geo$2,View$3);function getCoordSys$8(g){var n=g.geoModel,r=g.seriesModel;return n?n.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo",SINGLE_REFERRING$1).models[0]||{}).coordinateSystem:null}const Geo$3=Geo$2;function resizeGeo$1(g,n){var r=g.get("boundingCoords");if(r!=null){var $=r[0],L=r[1];if(isFinite($[0])&&isFinite($[1])&&isFinite(L[0])&&isFinite(L[1])){var V=this.projection;if(V){var oe=$[0],ae=$[1],re=L[0],le=L[1];$=[1/0,1/0],L=[-1/0,-1/0];var ue=function(Fe,Ue,At,Et){for(var Pt=At-Fe,kt=Et-Ue,Dt=0;Dt<=100;Dt++){var Lt=Dt/100,hn=V.project([Fe+Pt*Lt,Ue+kt*Lt]);min$3($,$,hn),max$3(L,L,hn)}};ue(oe,ae,re,ae),ue(re,ae,re,le),ue(re,le,oe,le),ue(oe,le,re,ae)}this.setBoundingRect($[0],$[1],L[0]-$[0],L[1]-$[1])}}var de=this.getBoundingRect(),he=g.get("layoutCenter"),pe=g.get("layoutSize"),_e=n.getWidth(),$e=n.getHeight(),xe=de.width/de.height*this.aspectScale,Oe=!1,Ce,Ie;he&&pe&&(Ce=[parsePercent$2(he[0],_e),parsePercent$2(he[1],$e)],Ie=parsePercent$2(pe,Math.min(_e,$e)),!isNaN(Ce[0])&&!isNaN(Ce[1])&&!isNaN(Ie)&&(Oe=!0));var Ne;if(Oe)Ne={},xe>1?(Ne.width=Ie,Ne.height=Ie/xe):(Ne.height=Ie,Ne.width=Ie*xe),Ne.y=Ce[1]-Ne.height/2,Ne.x=Ce[0]-Ne.width/2;else{var ze=g.getBoxLayoutParams();ze.aspect=xe,Ne=getLayoutRect$1(ze,{width:_e,height:$e})}this.setViewRect(Ne.x,Ne.y,Ne.width,Ne.height),this.setCenter(g.get("center"),n),this.setZoom(g.get("zoom"))}function setGeoCoords$1(g,n){each$v(n.get("geoCoord"),function(r,$){g.addGeoCoord($,r)})}var GeoCreator$1=function(){function g(){this.dimensions=geo2DDimensions$1}return g.prototype.create=function(n,r){var $=[];function L(oe){return{nameProperty:oe.get("nameProperty"),aspectScale:oe.get("aspectScale"),projection:oe.get("projection")}}n.eachComponent("geo",function(oe,ae){var re=oe.get("map"),le=new Geo$3(re+ae,re,extend$4({nameMap:oe.get("nameMap")},L(oe)));le.zoomLimit=oe.get("scaleLimit"),$.push(le),oe.coordinateSystem=le,le.model=oe,le.resize=resizeGeo$1,le.resize(oe,r)}),n.eachSeries(function(oe){var ae=oe.get("coordinateSystem");if(ae==="geo"){var re=oe.get("geoIndex")||0;oe.coordinateSystem=$[re]}});var V={};return n.eachSeriesByType("map",function(oe){if(!oe.getHostGeoModel()){var ae=oe.getMapType();V[ae]=V[ae]||[],V[ae].push(oe)}}),each$v(V,function(oe,ae){var re=map$3(oe,function(ue){return ue.get("nameMap")}),le=new Geo$3(ae,ae,extend$4({nameMap:mergeAll$1(re)},L(oe[0])));le.zoomLimit=retrieve$1.apply(null,map$3(oe,function(ue){return ue.get("scaleLimit")})),$.push(le),le.resize=resizeGeo$1,le.resize(oe[0],r),each$v(oe,function(ue){ue.coordinateSystem=le,setGeoCoords$1(le,ue)})}),$},g.prototype.getFilledRegions=function(n,r,$,L){for(var V=(n||[]).slice(),oe=createHashMap$1(),ae=0;ae<V.length;ae++)oe.set(V[ae].name,V[ae]);var re=geoSourceManager$1.load(r,$,L);return each$v(re.regions,function(le){var ue=le.name;!oe.get(ue)&&V.push({name:ue})}),V},g}(),geoCreator$2=new GeoCreator$1;const geoCreator$3=geoCreator$2;var GeoModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$,L){var V=geoSourceManager$1.getGeoResource(r.map);if(V&&V.type==="geoJSON"){var oe=r.itemStyle=r.itemStyle||{};"color"in oe||(oe.color="#eee")}this.mergeDefaultAndTheme(r,L),defaultEmphasis$1(r,"label",["show"])},n.prototype.optionUpdated=function(){var r=this,$=this.option;$.regions=geoCreator$3.getFilledRegions($.regions,$.map,$.nameMap,$.nameProperty);var L={};this._optionModelMap=reduce$1($.regions||[],function(V,oe){var ae=oe.name;return ae&&(V.set(ae,new Model$3(oe,r,r.ecModel)),oe.selected&&(L[ae]=!0)),V},createHashMap$1()),$.selectedMap||($.selectedMap=L)},n.prototype.getRegionModel=function(r){return this._optionModelMap.get(r)||new Model$3(null,this,this.ecModel)},n.prototype.getFormattedLabel=function(r,$){var L=this.getRegionModel(r),V=$==="normal"?L.get(["label","formatter"]):L.get(["emphasis","label","formatter"]),oe={name:r};if(isFunction$3(V))return oe.status=$,V(oe);if(isString$3(V))return V.replace("{a}",r!=null?r:"")},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.select=function(r){var $=this.option,L=$.selectedMode;if(L){L!=="multiple"&&($.selectedMap=null);var V=$.selectedMap||($.selectedMap={});V[r]=!0}},n.prototype.unSelect=function(r){var $=this.option.selectedMap;$&&($[r]=!1)},n.prototype.toggleSelected=function(r){this[this.isSelected(r)?"unSelect":"select"](r)},n.prototype.isSelected=function(r){var $=this.option.selectedMap;return!!($&&$[r])},n.type="geo",n.layoutMode="box",n.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},n}(ComponentModel$3);const GeoModel$3=GeoModel$2;function getCenterCoord$1(g,n){return g.pointToProjected?g.pointToProjected(n):g.pointToData(n)}function updateCenterAndZoom$1(g,n,r,$){var L=g.getZoom(),V=g.getCenter(),oe=n.zoom,ae=g.projectedToPoint?g.projectedToPoint(V):g.dataToPoint(V);if(n.dx!=null&&n.dy!=null&&(ae[0]-=n.dx,ae[1]-=n.dy,g.setCenter(getCenterCoord$1(g,ae),$)),oe!=null){if(r){var re=r.min||0,le=r.max||1/0;oe=Math.max(Math.min(L*oe,le),re)/L}g.scaleX*=oe,g.scaleY*=oe;var ue=(n.originX-g.x)*(oe-1),de=(n.originY-g.y)*(oe-1);g.x-=ue,g.y-=de,g.updateTransform(),g.setCenter(getCenterCoord$1(g,ae),$),g.setZoom(oe*L)}return{center:g.getCenter(),zoom:g.getZoom()}}var GeoView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.focusBlurEnabled=!0,r}return n.prototype.init=function(r,$){this._api=$},n.prototype.render=function(r,$,L,V){if(this._model=r,!r.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new MapDraw$3(L));var oe=this._mapDraw;oe.draw(r,$,L,this,V),oe.group.on("click",this._handleRegionClick,this),oe.group.silent=r.get("silent"),this.group.add(oe.group),this.updateSelectStatus(r,$,L)},n.prototype._handleRegionClick=function(r){var $;findEventDispatcher$1(r.target,function(L){return($=getECData$1(L).eventData)!=null},!0),$&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:$.name})},n.prototype.updateSelectStatus=function(r,$,L){var V=this;this._mapDraw.group.traverse(function(oe){var ae=getECData$1(oe).eventData;if(ae)return V._model.isSelected(ae.name)?L.enterSelect(oe):L.leaveSelect(oe),!0})},n.prototype.findHighDownDispatchers=function(r){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(r,this._model)},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},n.type="geo",n}(ComponentView$3);const GeoView$3=GeoView$2;function registerMap$2(g,n,r){geoSourceManager$1.registerMap(g,n,r)}function install$1C(g){g.registerCoordinateSystem("geo",geoCreator$3),g.registerComponentModel(GeoModel$3),g.registerComponentView(GeoView$3),g.registerImpl("registerMap",registerMap$2),g.registerImpl("getMap",function(r){return geoSourceManager$1.getMapForUser(r)});function n(r,$){$.update="geo:updateSelectStatus",g.registerAction($,function(L,V){var oe={},ae=[];return V.eachComponent({mainType:"geo",query:L},function(re){re[r](L.name);var le=re.coordinateSystem;each$v(le.regions,function(de){oe[de.name]=re.isSelected(de.name)||!1});var ue=[];each$v(oe,function(de,he){oe[he]&&ue.push(he)}),ae.push({geoIndex:re.componentIndex,name:ue})}),{selected:oe,allSelected:ae,name:L.name}})}n("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),n("select",{type:"geoSelect",event:"geoselected"}),n("unSelect",{type:"geoUnSelect",event:"geounselected"}),g.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(r,$,L){var V=r.componentType||"series";$.eachComponent({mainType:V,query:r},function(oe){var ae=oe.coordinateSystem;if(ae.type==="geo"){var re=updateCenterAndZoom$1(ae,r,oe.get("scaleLimit"),L);oe.setCenter&&oe.setCenter(re.center),oe.setZoom&&oe.setZoom(re.zoom),V==="series"&&each$v(oe.seriesGroup,function(le){le.setCenter(re.center),le.setZoom(re.zoom)})}})})}function install$1B(g){use$1(install$1C),g.registerChartView(MapView$3),g.registerSeriesModel(MapSeries$3),g.registerLayout(mapSymbolLayout$1),g.registerProcessor(g.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic$1),createLegacyDataSelectAction$1("map",g.registerAction)}function init$4(g){var n=g;n.hierNode={defaultAncestor:null,ancestor:n,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r=[n],$,L;$=r.pop();)if(L=$.children,$.isExpand&&L.length)for(var V=L.length,oe=V-1;oe>=0;oe--){var ae=L[oe];ae.hierNode={defaultAncestor:null,ancestor:ae,prelim:0,modifier:0,change:0,shift:0,i:oe,thread:null},r.push(ae)}}function firstWalk$1(g,n){var r=g.isExpand?g.children:[],$=g.parentNode.children,L=g.hierNode.i?$[g.hierNode.i-1]:null;if(r.length){executeShifts$1(g);var V=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;L?(g.hierNode.prelim=L.hierNode.prelim+n(g,L),g.hierNode.modifier=g.hierNode.prelim-V):g.hierNode.prelim=V}else L&&(g.hierNode.prelim=L.hierNode.prelim+n(g,L));g.parentNode.hierNode.defaultAncestor=apportion$1(g,L,g.parentNode.hierNode.defaultAncestor||$[0],n)}function secondWalk$1(g){var n=g.hierNode.prelim+g.parentNode.hierNode.modifier;g.setLayout({x:n},!0),g.hierNode.modifier+=g.parentNode.hierNode.modifier}function separation$1(g){return arguments.length?g:defaultSeparation$1}function radialCoordinate$1(g,n){return g-=Math.PI/2,{x:n*Math.cos(g),y:n*Math.sin(g)}}function getViewRect$a(g,n){return getLayoutRect$1(g.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function executeShifts$1(g){for(var n=g.children,r=n.length,$=0,L=0;--r>=0;){var V=n[r];V.hierNode.prelim+=$,V.hierNode.modifier+=$,L+=V.hierNode.change,$+=V.hierNode.shift+L}}function apportion$1(g,n,r,$){if(n){for(var L=g,V=g,oe=V.parentNode.children[0],ae=n,re=L.hierNode.modifier,le=V.hierNode.modifier,ue=oe.hierNode.modifier,de=ae.hierNode.modifier;ae=nextRight$1(ae),V=nextLeft$1(V),ae&&V;){L=nextRight$1(L),oe=nextLeft$1(oe),L.hierNode.ancestor=g;var he=ae.hierNode.prelim+de-V.hierNode.prelim-le+$(ae,V);he>0&&(moveSubtree$1(nextAncestor$1(ae,g,r),g,he),le+=he,re+=he),de+=ae.hierNode.modifier,le+=V.hierNode.modifier,re+=L.hierNode.modifier,ue+=oe.hierNode.modifier}ae&&!nextRight$1(L)&&(L.hierNode.thread=ae,L.hierNode.modifier+=de-re),V&&!nextLeft$1(oe)&&(oe.hierNode.thread=V,oe.hierNode.modifier+=le-ue,r=g)}return r}function nextRight$1(g){var n=g.children;return n.length&&g.isExpand?n[n.length-1]:g.hierNode.thread}function nextLeft$1(g){var n=g.children;return n.length&&g.isExpand?n[0]:g.hierNode.thread}function nextAncestor$1(g,n,r){return g.hierNode.ancestor.parentNode===n.parentNode?g.hierNode.ancestor:r}function moveSubtree$1(g,n,r){var $=r/(n.hierNode.i-g.hierNode.i);n.hierNode.change-=$,n.hierNode.shift+=r,n.hierNode.modifier+=r,n.hierNode.prelim+=r,g.hierNode.change+=$}function defaultSeparation$1(g,n){return g.parentNode===n.parentNode?1:2}var TreeEdgeShape$1=function(){function g(){this.parentPoint=[],this.childPoints=[]}return g}(),TreePath$1=function(g){__extends$2(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new TreeEdgeShape$1},n.prototype.buildPath=function(r,$){var L=$.childPoints,V=L.length,oe=$.parentPoint,ae=L[0],re=L[V-1];if(V===1){r.moveTo(oe[0],oe[1]),r.lineTo(ae[0],ae[1]);return}var le=$.orient,ue=le==="TB"||le==="BT"?0:1,de=1-ue,he=parsePercent$2($.forkPosition,1),pe=[];pe[ue]=oe[ue],pe[de]=oe[de]+(re[de]-oe[de])*he,r.moveTo(oe[0],oe[1]),r.lineTo(pe[0],pe[1]),r.moveTo(ae[0],ae[1]),pe[ue]=ae[ue],r.lineTo(pe[0],pe[1]),pe[ue]=re[ue],r.lineTo(pe[0],pe[1]),r.lineTo(re[0],re[1]);for(var _e=1;_e<V-1;_e++){var $e=L[_e];r.moveTo($e[0],$e[1]),pe[ue]=$e[ue],r.lineTo(pe[0],pe[1])}},n}(Path$3),TreeView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._mainGroup=new Group$9,r}return n.prototype.init=function(r,$){this._controller=new RoamController$3($.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},n.prototype.render=function(r,$,L){var V=r.getData(),oe=r.layoutInfo,ae=this._mainGroup,re=r.get("layout");re==="radial"?(ae.x=oe.x+oe.width/2,ae.y=oe.y+oe.height/2):(ae.x=oe.x,ae.y=oe.y),this._updateViewCoordSys(r,L),this._updateController(r,$,L);var le=this._data;V.diff(le).add(function(ue){symbolNeedsDraw$2(V,ue)&&updateNode$1(V,ue,null,ae,r)}).update(function(ue,de){var he=le.getItemGraphicEl(de);if(!symbolNeedsDraw$2(V,ue)){he&&removeNode$1(le,de,he,ae,r);return}updateNode$1(V,ue,he,ae,r)}).remove(function(ue){var de=le.getItemGraphicEl(ue);de&&removeNode$1(le,ue,de,ae,r)}).execute(),this._nodeScaleRatio=r.get("nodeScaleRatio"),this._updateNodeAndLinkScale(r),r.get("expandAndCollapse")===!0&&V.eachItemGraphicEl(function(ue,de){ue.off("click").on("click",function(){L.dispatchAction({type:"treeExpandAndCollapse",seriesId:r.id,dataIndex:de})})}),this._data=V},n.prototype._updateViewCoordSys=function(r,$){var L=r.getData(),V=[];L.each(function(de){var he=L.getItemLayout(de);he&&!isNaN(he.x)&&!isNaN(he.y)&&V.push([+he.x,+he.y])});var oe=[],ae=[];fromPoints$1(V,oe,ae);var re=this._min,le=this._max;ae[0]-oe[0]===0&&(oe[0]=re?re[0]:oe[0]-1,ae[0]=le?le[0]:ae[0]+1),ae[1]-oe[1]===0&&(oe[1]=re?re[1]:oe[1]-1,ae[1]=le?le[1]:ae[1]+1);var ue=r.coordinateSystem=new View$3;ue.zoomLimit=r.get("scaleLimit"),ue.setBoundingRect(oe[0],oe[1],ae[0]-oe[0],ae[1]-oe[1]),ue.setCenter(r.get("center"),$),ue.setZoom(r.get("zoom")),this.group.attr({x:ue.x,y:ue.y,scaleX:ue.scaleX,scaleY:ue.scaleY}),this._min=oe,this._max=ae},n.prototype._updateController=function(r,$,L){var V=this,oe=this._controller,ae=this._controllerHost,re=this.group;oe.setPointerChecker(function(le,ue,de){var he=re.getBoundingRect();return he.applyTransform(re.transform),he.contain(ue,de)&&!onIrrelevantElement$1(le,L,r)}),oe.enable(r.get("roam")),ae.zoomLimit=r.get("scaleLimit"),ae.zoom=r.coordinateSystem.getZoom(),oe.off("pan").off("zoom").on("pan",function(le){updateViewOnPan$1(ae,le.dx,le.dy),L.dispatchAction({seriesId:r.id,type:"treeRoam",dx:le.dx,dy:le.dy})}).on("zoom",function(le){updateViewOnZoom$1(ae,le.scale,le.originX,le.originY),L.dispatchAction({seriesId:r.id,type:"treeRoam",zoom:le.scale,originX:le.originX,originY:le.originY}),V._updateNodeAndLinkScale(r),L.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(r){var $=r.getData(),L=this._getNodeGlobalScale(r);$.eachItemGraphicEl(function(V,oe){V.setSymbolScale(L)})},n.prototype._getNodeGlobalScale=function(r){var $=r.coordinateSystem;if($.type!=="view")return 1;var L=this._nodeScaleRatio,V=$.scaleX||1,oe=$.getZoom(),ae=(oe-1)*L+1;return ae/V},n.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},n.type="tree",n}(ChartView$3);function symbolNeedsDraw$2(g,n){var r=g.getItemLayout(n);return r&&!isNaN(r.x)&&!isNaN(r.y)}function updateNode$1(g,n,r,$,L){var V=!r,oe=g.tree.getNodeByDataIndex(n),ae=oe.getModel(),re=oe.getVisual("style").fill,le=oe.isExpand===!1&&oe.children.length!==0?re:"#fff",ue=g.tree.root,de=oe.parentNode===ue?oe:oe.parentNode||oe,he=g.getItemGraphicEl(de.dataIndex),pe=de.getLayout(),_e=he?{x:he.__oldX,y:he.__oldY,rawX:he.__radialOldRawX,rawY:he.__radialOldRawY}:pe,$e=oe.getLayout();V?(r=new SymbolClz$2(g,n,null,{symbolInnerColor:le,useNameLabel:!0}),r.x=_e.x,r.y=_e.y):r.updateData(g,n,null,{symbolInnerColor:le,useNameLabel:!0}),r.__radialOldRawX=r.__radialRawX,r.__radialOldRawY=r.__radialRawY,r.__radialRawX=$e.rawX,r.__radialRawY=$e.rawY,$.add(r),g.setItemGraphicEl(n,r),r.__oldX=r.x,r.__oldY=r.y,updateProps$3(r,{x:$e.x,y:$e.y},L);var xe=r.getSymbolPath();if(L.get("layout")==="radial"){var Oe=ue.children[0],Ce=Oe.getLayout(),Ie=Oe.children.length,Ne=void 0,ze=void 0;if($e.x===Ce.x&&oe.isExpand===!0&&Oe.children.length){var Fe={x:(Oe.children[0].getLayout().x+Oe.children[Ie-1].getLayout().x)/2,y:(Oe.children[0].getLayout().y+Oe.children[Ie-1].getLayout().y)/2};Ne=Math.atan2(Fe.y-Ce.y,Fe.x-Ce.x),Ne<0&&(Ne=Math.PI*2+Ne),ze=Fe.x<Ce.x,ze&&(Ne=Ne-Math.PI)}else Ne=Math.atan2($e.y-Ce.y,$e.x-Ce.x),Ne<0&&(Ne=Math.PI*2+Ne),oe.children.length===0||oe.children.length!==0&&oe.isExpand===!1?(ze=$e.x<Ce.x,ze&&(Ne=Ne-Math.PI)):(ze=$e.x>Ce.x,ze||(Ne=Ne-Math.PI));var Ue=ze?"left":"right",At=ae.getModel("label"),Et=At.get("rotate"),Pt=Et*(Math.PI/180),kt=xe.getTextContent();kt&&(xe.setTextConfig({position:At.get("position")||Ue,rotation:Et==null?-Ne:Pt,origin:"center"}),kt.setStyle("verticalAlign","middle"))}var Dt=ae.get(["emphasis","focus"]),Lt=Dt==="relative"?concatArray$1(oe.getAncestorsIndices(),oe.getDescendantIndices()):Dt==="ancestor"?oe.getAncestorsIndices():Dt==="descendant"?oe.getDescendantIndices():null;Lt&&(getECData$1(r).focus=Lt),drawEdge$1(L,oe,ue,r,_e,pe,$e,$),r.__edge&&(r.onHoverStateChange=function(hn){if(hn!=="blur"){var vn=oe.parentNode&&g.getItemGraphicEl(oe.parentNode.dataIndex);vn&&vn.hoverState===HOVER_STATE_BLUR$1||setStatesFlag$1(r.__edge,hn)}})}function drawEdge$1(g,n,r,$,L,V,oe,ae){var re=n.getModel(),le=g.get("edgeShape"),ue=g.get("layout"),de=g.getOrient(),he=g.get(["lineStyle","curveness"]),pe=g.get("edgeForkPosition"),_e=re.getModel("lineStyle").getLineStyle(),$e=$.__edge;if(le==="curve")n.parentNode&&n.parentNode!==r&&($e||($e=$.__edge=new BezierCurve$3({shape:getEdgeShape$1(ue,de,he,L,L)})),updateProps$3($e,{shape:getEdgeShape$1(ue,de,he,V,oe)},g));else if(le==="polyline"&&ue==="orthogonal"&&n!==r&&n.children&&n.children.length!==0&&n.isExpand===!0){for(var xe=n.children,Oe=[],Ce=0;Ce<xe.length;Ce++){var Ie=xe[Ce].getLayout();Oe.push([Ie.x,Ie.y])}$e||($e=$.__edge=new TreePath$1({shape:{parentPoint:[oe.x,oe.y],childPoints:[[oe.x,oe.y]],orient:de,forkPosition:pe}})),updateProps$3($e,{shape:{parentPoint:[oe.x,oe.y],childPoints:Oe}},g)}$e&&!(le==="polyline"&&!n.isExpand)&&($e.useStyle(defaults$7({strokeNoScale:!0,fill:null},_e)),setStatesStylesFromModel$1($e,re,"lineStyle"),setDefaultStateProxy$1($e),ae.add($e))}function removeNodeEdge$1(g,n,r,$,L){var V=n.tree.root,oe=getSourceNode$1(V,g),ae=oe.source,re=oe.sourceLayout,le=n.getItemGraphicEl(g.dataIndex);if(le){var ue=n.getItemGraphicEl(ae.dataIndex),de=ue.__edge,he=le.__edge||(ae.isExpand===!1||ae.children.length===1?de:void 0),pe=$.get("edgeShape"),_e=$.get("layout"),$e=$.get("orient"),xe=$.get(["lineStyle","curveness"]);he&&(pe==="curve"?removeElement$1(he,{shape:getEdgeShape$1(_e,$e,xe,re,re),style:{opacity:0}},$,{cb:function(){r.remove(he)},removeOpt:L}):pe==="polyline"&&$.get("layout")==="orthogonal"&&removeElement$1(he,{shape:{parentPoint:[re.x,re.y],childPoints:[[re.x,re.y]]},style:{opacity:0}},$,{cb:function(){r.remove(he)},removeOpt:L}))}}function getSourceNode$1(g,n){for(var r=n.parentNode===g?n:n.parentNode||n,$;$=r.getLayout(),$==null;)r=r.parentNode===g?r:r.parentNode||r;return{source:r,sourceLayout:$}}function removeNode$1(g,n,r,$,L){var V=g.tree.getNodeByDataIndex(n),oe=g.tree.root,ae=getSourceNode$1(oe,V).sourceLayout,re={duration:L.get("animationDurationUpdate"),easing:L.get("animationEasingUpdate")};removeElement$1(r,{x:ae.x+1,y:ae.y+1},L,{cb:function(){$.remove(r),g.setItemGraphicEl(n,null)},removeOpt:re}),r.fadeOut(null,g.hostModel,{fadeLabel:!0,animation:re}),V.children.forEach(function(le){removeNodeEdge$1(le,g,$,L,re)}),removeNodeEdge$1(V,g,$,L,re)}function getEdgeShape$1(g,n,r,$,L){var V,oe,ae,re,le,ue,de,he;if(g==="radial"){le=$.rawX,de=$.rawY,ue=L.rawX,he=L.rawY;var pe=radialCoordinate$1(le,de),_e=radialCoordinate$1(le,de+(he-de)*r),$e=radialCoordinate$1(ue,he+(de-he)*r),xe=radialCoordinate$1(ue,he);return{x1:pe.x||0,y1:pe.y||0,x2:xe.x||0,y2:xe.y||0,cpx1:_e.x||0,cpy1:_e.y||0,cpx2:$e.x||0,cpy2:$e.y||0}}else le=$.x,de=$.y,ue=L.x,he=L.y,(n==="LR"||n==="RL")&&(V=le+(ue-le)*r,oe=de,ae=ue+(le-ue)*r,re=he),(n==="TB"||n==="BT")&&(V=le,oe=de+(he-de)*r,ae=ue,re=he+(de-he)*r);return{x1:le,y1:de,x2:ue,y2:he,cpx1:V,cpy1:oe,cpx2:ae,cpy2:re}}const TreeView$3=TreeView$2;var inner$A=makeInner$1();function linkSeriesData$1(g){var n=g.mainData,r=g.datas;r||(r={main:n},g.datasAttr={main:"data"}),g.datas=g.mainData=null,linkAll$1(n,r,g),each$v(r,function($){each$v(n.TRANSFERABLE_METHODS,function(L){$.wrapMethod(L,curry$3(transferInjection$1,g))})}),n.wrapMethod("cloneShallow",curry$3(cloneShallowInjection$1,g)),each$v(n.CHANGABLE_METHODS,function($){n.wrapMethod($,curry$3(changeInjection$1,g))}),assert$1(r[n.dataType]===n)}function transferInjection$1(g,n){if(isMainData$1(this)){var r=extend$4({},inner$A(this).datas);r[this.dataType]=n,linkAll$1(n,r,g)}else linkSingle$1(n,this.dataType,inner$A(this).mainData,g);return n}function changeInjection$1(g,n){return g.struct&&g.struct.update(),n}function cloneShallowInjection$1(g,n){return each$v(inner$A(n).datas,function(r,$){r!==n&&linkSingle$1(r.cloneShallow(),$,n,g)}),n}function getLinkedData$1(g){var n=inner$A(this).mainData;return g==null||n==null?n:inner$A(n).datas[g]}function getLinkedDataAll$1(){var g=inner$A(this).mainData;return g==null?[{data:g}]:map$3(keys$2(inner$A(g).datas),function(n){return{type:n,data:inner$A(g).datas[n]}})}function isMainData$1(g){return inner$A(g).mainData===g}function linkAll$1(g,n,r){inner$A(g).datas={},each$v(n,function($,L){linkSingle$1($,L,g,r)})}function linkSingle$1(g,n,r,$){inner$A(r).datas[n]=g,inner$A(g).mainData=r,g.dataType=n,$.struct&&(g[$.structAttr]=$.struct,$.struct[$.datasAttr[n]]=g),g.getLinkedData=getLinkedData$1,g.getLinkedDataAll=getLinkedDataAll$1}var TreeNode$2=function(){function g(n,r){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=n||"",this.hostTree=r}return g.prototype.isRemoved=function(){return this.dataIndex<0},g.prototype.eachNode=function(n,r,$){isFunction$3(n)&&($=r,r=n,n=null),n=n||{},isString$3(n)&&(n={order:n});var L=n.order||"preorder",V=this[n.attr||"children"],oe;L==="preorder"&&(oe=r.call($,this));for(var ae=0;!oe&&ae<V.length;ae++)V[ae].eachNode(n,r,$);L==="postorder"&&r.call($,this)},g.prototype.updateDepthAndHeight=function(n){var r=0;this.depth=n;for(var $=0;$<this.children.length;$++){var L=this.children[$];L.updateDepthAndHeight(n+1),L.height>r&&(r=L.height)}this.height=r+1},g.prototype.getNodeById=function(n){if(this.getId()===n)return this;for(var r=0,$=this.children,L=$.length;r<L;r++){var V=$[r].getNodeById(n);if(V)return V}},g.prototype.contains=function(n){if(n===this)return!0;for(var r=0,$=this.children,L=$.length;r<L;r++){var V=$[r].contains(n);if(V)return V}},g.prototype.getAncestors=function(n){for(var r=[],$=n?this:this.parentNode;$;)r.push($),$=$.parentNode;return r.reverse(),r},g.prototype.getAncestorsIndices=function(){for(var n=[],r=this;r;)n.push(r.dataIndex),r=r.parentNode;return n.reverse(),n},g.prototype.getDescendantIndices=function(){var n=[];return this.eachNode(function(r){n.push(r.dataIndex)}),n},g.prototype.getValue=function(n){var r=this.hostTree.data;return r.getStore().get(r.getDimensionIndex(n||"value"),this.dataIndex)},g.prototype.setLayout=function(n,r){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,n,r)},g.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},g.prototype.getModel=function(n){if(!(this.dataIndex<0)){var r=this.hostTree,$=r.data.getItemModel(this.dataIndex);return $.getModel(n)}},g.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},g.prototype.setVisual=function(n,r){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,n,r)},g.prototype.getVisual=function(n){return this.hostTree.data.getItemVisual(this.dataIndex,n)},g.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},g.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},g.prototype.getChildIndex=function(){if(this.parentNode){for(var n=this.parentNode.children,r=0;r<n.length;++r)if(n[r]===this)return r;return-1}return-1},g.prototype.isAncestorOf=function(n){for(var r=n.parentNode;r;){if(r===this)return!0;r=r.parentNode}return!1},g.prototype.isDescendantOf=function(n){return n!==this&&n.isAncestorOf(this)},g}(),Tree$3=function(){function g(n){this.type="tree",this._nodes=[],this.hostModel=n}return g.prototype.eachNode=function(n,r,$){this.root.eachNode(n,r,$)},g.prototype.getNodeByDataIndex=function(n){var r=this.data.getRawIndex(n);return this._nodes[r]},g.prototype.getNodeById=function(n){return this.root.getNodeById(n)},g.prototype.update=function(){for(var n=this.data,r=this._nodes,$=0,L=r.length;$<L;$++)r[$].dataIndex=-1;for(var $=0,L=n.count();$<L;$++)r[n.getRawIndex($)].dataIndex=$},g.prototype.clearLayouts=function(){this.data.clearItemLayouts()},g.createTree=function(n,r,$){var L=new g(r),V=[],oe=1;ae(n);function ae(ue,de){var he=ue.value;oe=Math.max(oe,isArray$6(he)?he.length:1),V.push(ue);var pe=new TreeNode$2(convertOptionIdName$1(ue.name,""),L);de?addChild$1(pe,de):L.root=pe,L._nodes.push(pe);var _e=ue.children;if(_e)for(var $e=0;$e<_e.length;$e++)ae(_e[$e],pe)}L.root.updateDepthAndHeight(0);var re=prepareSeriesDataSchema$1(V,{coordDimensions:["value"],dimensionsCount:oe}).dimensions,le=new SeriesData$3(re,r);return le.initData(V),$&&$(le),linkSeriesData$1({mainData:le,struct:L,structAttr:"tree"}),L.update(),L},g}();function addChild$1(g,n){var r=n.children;g.parentNode!==n&&(r.push(g),g.parentNode=n)}const Tree$4=Tree$3;function retrieveTargetInfo$1(g,n,r){if(g&&indexOf$1(n,g.type)>=0){var $=r.getData().tree.root,L=g.targetNode;if(isString$3(L)&&(L=$.getNodeById(L)),L&&$.contains(L))return{node:L};var V=g.targetNodeId;if(V!=null&&(L=$.getNodeById(V)))return{node:L}}}function getPathToRoot$1(g){for(var n=[];g;)g=g.parentNode,g&&n.push(g);return n.reverse()}function aboveViewRoot$1(g,n){var r=getPathToRoot$1(g);return indexOf$1(r,n)>=0}function wrapTreePathInfo$1(g,n){for(var r=[];g;){var $=g.dataIndex;r.push({name:g.name,dataIndex:$,value:n.getRawValue($)}),g=g.parentNode}return r.reverse(),r}var TreeSeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.hasSymbolVisual=!0,r.ignoreStyleOnData=!0,r}return n.prototype.getInitialData=function(r){var $={name:r.name,children:r.data},L=r.leaves||{},V=new Model$3(L,this,this.ecModel),oe=Tree$4.createTree($,this,ae);function ae(de){de.wrapMethod("getItemModel",function(he,pe){var _e=oe.getNodeByDataIndex(pe);return _e&&_e.children.length&&_e.isExpand||(he.parentModel=V),he})}var re=0;oe.eachNode("preorder",function(de){de.depth>re&&(re=de.depth)});var le=r.expandAndCollapse,ue=le&&r.initialTreeDepth>=0?r.initialTreeDepth:re;return oe.root.eachNode("preorder",function(de){var he=de.hostTree.data.getRawDataItem(de.dataIndex);de.isExpand=he&&he.collapsed!=null?!he.collapsed:de.depth<=ue}),oe.data},n.prototype.getOrient=function(){var r=this.get("orient");return r==="horizontal"?r="LR":r==="vertical"&&(r="TB"),r},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.formatTooltip=function(r,$,L){for(var V=this.getData().tree,oe=V.root.children[0],ae=V.getNodeByDataIndex(r),re=ae.getValue(),le=ae.name;ae&&ae!==oe;)le=ae.parentNode.name+"."+le,ae=ae.parentNode;return createTooltipMarkup$1("nameValue",{name:le,value:re,noValue:isNaN(re)||re==null})},n.prototype.getDataParams=function(r){var $=g.prototype.getDataParams.apply(this,arguments),L=this.getData().tree.getNodeByDataIndex(r);return $.treeAncestors=wrapTreePathInfo$1(L,this),$.collapsed=!L.isExpand,$},n.type="series.tree",n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},n}(SeriesModel$3);const TreeSeriesModel$3=TreeSeriesModel$2;function eachAfter$1(g,n,r){for(var $=[g],L=[],V;V=$.pop();)if(L.push(V),V.isExpand){var oe=V.children;if(oe.length)for(var ae=0;ae<oe.length;ae++)$.push(oe[ae])}for(;V=L.pop();)n(V,r)}function eachBefore$1(g,n){for(var r=[g],$;$=r.pop();)if(n($),$.isExpand){var L=$.children;if(L.length)for(var V=L.length-1;V>=0;V--)r.push(L[V])}}function treeLayout$1(g,n){g.eachSeriesByType("tree",function(r){commonLayout$1(r,n)})}function commonLayout$1(g,n){var r=getViewRect$a(g,n);g.layoutInfo=r;var $=g.get("layout"),L=0,V=0,oe=null;$==="radial"?(L=2*Math.PI,V=Math.min(r.height,r.width)/2,oe=separation$1(function(Ie,Ne){return(Ie.parentNode===Ne.parentNode?1:2)/Ie.depth})):(L=r.width,V=r.height,oe=separation$1());var ae=g.getData().tree.root,re=ae.children[0];if(re){init$4(ae),eachAfter$1(re,firstWalk$1,oe),ae.hierNode.modifier=-re.hierNode.prelim,eachBefore$1(re,secondWalk$1);var le=re,ue=re,de=re;eachBefore$1(re,function(Ie){var Ne=Ie.getLayout().x;Ne<le.getLayout().x&&(le=Ie),Ne>ue.getLayout().x&&(ue=Ie),Ie.depth>de.depth&&(de=Ie)});var he=le===ue?1:oe(le,ue)/2,pe=he-le.getLayout().x,_e=0,$e=0,xe=0,Oe=0;if($==="radial")_e=L/(ue.getLayout().x+he+pe),$e=V/(de.depth-1||1),eachBefore$1(re,function(Ie){xe=(Ie.getLayout().x+pe)*_e,Oe=(Ie.depth-1)*$e;var Ne=radialCoordinate$1(xe,Oe);Ie.setLayout({x:Ne.x,y:Ne.y,rawX:xe,rawY:Oe},!0)});else{var Ce=g.getOrient();Ce==="RL"||Ce==="LR"?($e=V/(ue.getLayout().x+he+pe),_e=L/(de.depth-1||1),eachBefore$1(re,function(Ie){Oe=(Ie.getLayout().x+pe)*$e,xe=Ce==="LR"?(Ie.depth-1)*_e:L-(Ie.depth-1)*_e,Ie.setLayout({x:xe,y:Oe},!0)})):(Ce==="TB"||Ce==="BT")&&(_e=L/(ue.getLayout().x+he+pe),$e=V/(de.depth-1||1),eachBefore$1(re,function(Ie){xe=(Ie.getLayout().x+pe)*_e,Oe=Ce==="TB"?(Ie.depth-1)*$e:V-(Ie.depth-1)*$e,Ie.setLayout({x:xe,y:Oe},!0)}))}}}function treeVisual$1(g){g.eachSeriesByType("tree",function(n){var r=n.getData(),$=r.tree;$.eachNode(function(L){var V=L.getModel(),oe=V.getModel("itemStyle").getItemStyle(),ae=r.ensureUniqueItemVisual(L.dataIndex,"style");extend$4(ae,oe)})})}function installTreeAction$1(g){g.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(n,r){r.eachComponent({mainType:"series",subType:"tree",query:n},function($){var L=n.dataIndex,V=$.getData().tree,oe=V.getNodeByDataIndex(L);oe.isExpand=!oe.isExpand})}),g.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(n,r,$){r.eachComponent({mainType:"series",subType:"tree",query:n},function(L){var V=L.coordinateSystem,oe=updateCenterAndZoom$1(V,n,void 0,$);L.setCenter&&L.setCenter(oe.center),L.setZoom&&L.setZoom(oe.zoom)})})}function install$1A(g){g.registerChartView(TreeView$3),g.registerSeriesModel(TreeSeriesModel$3),g.registerLayout(treeLayout$1),g.registerVisual(treeVisual$1),installTreeAction$1(g)}var actionTypes$1=["treemapZoomToNode","treemapRender","treemapMove"];function installTreemapAction$1(g){for(var n=0;n<actionTypes$1.length;n++)g.registerAction({type:actionTypes$1[n],update:"updateView"},noop$4);g.registerAction({type:"treemapRootToNode",update:"updateView"},function(r,$){$.eachComponent({mainType:"series",subType:"treemap",query:r},L);function L(V,oe){var ae=["treemapZoomToNode","treemapRootToNode"],re=retrieveTargetInfo$1(r,ae,V);if(re){var le=V.getViewRoot();le&&(r.direction=aboveViewRoot$1(le,re.node)?"rollUp":"drillDown"),V.resetViewRoot(re.node)}}})}function enableAriaDecalForTree$1(g){var n=g.getData(),r=n.tree,$={};r.eachNode(function(L){for(var V=L;V&&V.depth>1;)V=V.parentNode;var oe=getDecalFromPalette$1(g.ecModel,V.name||V.dataIndex+"",$);L.setVisual("decal",oe)})}var TreemapSeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.preventUsingHoverLayer=!0,r}return n.prototype.getInitialData=function(r,$){var L={name:r.name,children:r.data};completeTreeValue$3(L);var V=r.levels||[],oe=this.designatedVisualItemStyle={},ae=new Model$3({itemStyle:oe},this,$);V=r.levels=setDefault$1(V,$);var re=map$3(V||[],function(de){return new Model$3(de,ae,$)},this),le=Tree$4.createTree(L,this,ue);function ue(de){de.wrapMethod("getItemModel",function(he,pe){var _e=le.getNodeByDataIndex(pe),$e=_e?re[_e.depth]:null;return he.parentModel=$e||ae,he})}return le.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.formatTooltip=function(r,$,L){var V=this.getData(),oe=this.getRawValue(r),ae=V.getName(r);return createTooltipMarkup$1("nameValue",{name:ae,value:oe})},n.prototype.getDataParams=function(r){var $=g.prototype.getDataParams.apply(this,arguments),L=this.getData().tree.getNodeByDataIndex(r);return $.treeAncestors=wrapTreePathInfo$1(L,this),$.treePathInfo=$.treeAncestors,$},n.prototype.setLayoutInfo=function(r){this.layoutInfo=this.layoutInfo||{},extend$4(this.layoutInfo,r)},n.prototype.mapIdToIndex=function(r){var $=this._idIndexMap;$||($=this._idIndexMap=createHashMap$1(),this._idIndexMapCount=0);var L=$.get(r);return L==null&&$.set(r,L=this._idIndexMapCount++),L},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var $=this.getRawData().tree.root;(!r||r!==$&&!$.contains(r))&&(this._viewRoot=$)},n.prototype.enableAriaDecal=function(){enableAriaDecalForTree$1(this)},n.type="series.treemap",n.layoutMode="box",n.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},n}(SeriesModel$3);function completeTreeValue$3(g){var n=0;each$v(g.children,function($){completeTreeValue$3($);var L=$.value;isArray$6(L)&&(L=L[0]),n+=L});var r=g.value;isArray$6(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=n),r<0&&(r=0),isArray$6(g.value)?g.value[0]=r:g.value=r}function setDefault$1(g,n){var r=normalizeToArray$1(n.get("color")),$=normalizeToArray$1(n.get(["aria","decal","decals"]));if(r){g=g||[];var L,V;each$v(g,function(ae){var re=new Model$3(ae),le=re.get("color"),ue=re.get("decal");(re.get(["itemStyle","color"])||le&&le!=="none")&&(L=!0),(re.get(["itemStyle","decal"])||ue&&ue!=="none")&&(V=!0)});var oe=g[0]||(g[0]={});return L||(oe.color=r.slice()),!V&&$&&(oe.decal=$.slice()),g}}const TreemapSeriesModel$3=TreemapSeriesModel$2;var TEXT_PADDING$1=8,ITEM_GAP$1=8,ARRAY_LENGTH$1=5,Breadcrumb$2=function(){function g(n){this.group=new Group$9,n.add(this.group)}return g.prototype.render=function(n,r,$,L){var V=n.getModel("breadcrumb"),oe=this.group;if(oe.removeAll(),!(!V.get("show")||!$)){var ae=V.getModel("itemStyle"),re=V.getModel("emphasis"),le=ae.getModel("textStyle"),ue=re.getModel(["itemStyle","textStyle"]),de={pos:{left:V.get("left"),right:V.get("right"),top:V.get("top"),bottom:V.get("bottom")},box:{width:r.getWidth(),height:r.getHeight()},emptyItemWidth:V.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare($,de,le),this._renderContent(n,de,ae,re,le,ue,L),positionElement$1(oe,de.pos,de.box)}},g.prototype._prepare=function(n,r,$){for(var L=n;L;L=L.parentNode){var V=convertOptionIdName$1(L.getModel().get("name"),""),oe=$.getTextRect(V),ae=Math.max(oe.width+TEXT_PADDING$1*2,r.emptyItemWidth);r.totalWidth+=ae+ITEM_GAP$1,r.renderList.push({node:L,text:V,width:ae})}},g.prototype._renderContent=function(n,r,$,L,V,oe,ae){for(var re=0,le=r.emptyItemWidth,ue=n.get(["breadcrumb","height"]),de=getAvailableSize$1(r.pos,r.box),he=r.totalWidth,pe=r.renderList,_e=L.getModel("itemStyle").getItemStyle(),$e=pe.length-1;$e>=0;$e--){var xe=pe[$e],Oe=xe.node,Ce=xe.width,Ie=xe.text;he>de.width&&(he-=Ce-le,Ce=le,Ie=null);var Ne=new Polygon$3({shape:{points:makeItemPoints$1(re,0,Ce,ue,$e===pe.length-1,$e===0)},style:defaults$7($.getItemStyle(),{lineJoin:"bevel"}),textContent:new ZRText$3({style:createTextStyle$1(V,{text:Ie})}),textConfig:{position:"inside"},z2:Z2_EMPHASIS_LIFT$1*1e4,onclick:curry$3(ae,Oe)});Ne.disableLabelAnimation=!0,Ne.getTextContent().ensureState("emphasis").style=createTextStyle$1(oe,{text:Ie}),Ne.ensureState("emphasis").style=_e,toggleHoverEmphasis$1(Ne,L.get("focus"),L.get("blurScope"),L.get("disabled")),this.group.add(Ne),packEventData$1(Ne,n,Oe),re+=Ce+ITEM_GAP$1}},g.prototype.remove=function(){this.group.removeAll()},g}();function makeItemPoints$1(g,n,r,$,L,V){var oe=[[L?g:g-ARRAY_LENGTH$1,n],[g+r,n],[g+r,n+$],[L?g:g-ARRAY_LENGTH$1,n+$]];return!V&&oe.splice(2,0,[g+r+ARRAY_LENGTH$1,n+$/2]),!L&&oe.push([g,n+$/2]),oe}function packEventData$1(g,n,r){getECData$1(g).eventData={componentType:"series",componentSubType:"treemap",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&wrapTreePathInfo$1(r,n)}}const Breadcrumb$3=Breadcrumb$2;var AnimationWrap$1=function(){function g(){this._storage=[],this._elExistsMap={}}return g.prototype.add=function(n,r,$,L,V){return this._elExistsMap[n.id]?!1:(this._elExistsMap[n.id]=!0,this._storage.push({el:n,target:r,duration:$,delay:L,easing:V}),!0)},g.prototype.finished=function(n){return this._finishedCallback=n,this},g.prototype.start=function(){for(var n=this,r=this._storage.length,$=function(){r--,r<=0&&(n._storage.length=0,n._elExistsMap={},n._finishedCallback&&n._finishedCallback())},L=0,V=this._storage.length;L<V;L++){var oe=this._storage[L];oe.el.animateTo(oe.target,{duration:oe.duration,delay:oe.delay,easing:oe.easing,setToFinal:!0,done:$,aborted:$})}return this},g}();function createWrap$1(){return new AnimationWrap$1}var Group$7=Group$9,Rect$5=Rect$7,DRAG_THRESHOLD$1=3,PATH_LABEL_NOAMAL$1="label",PATH_UPPERLABEL_NORMAL$1="upperLabel",Z2_BASE$1=Z2_EMPHASIS_LIFT$1*10,Z2_BG$1=Z2_EMPHASIS_LIFT$1*2,Z2_CONTENT$1=Z2_EMPHASIS_LIFT$1*3,getStateItemStyle$1=makeStyleMapper$1([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal$1=function(g){var n=getStateItemStyle$1(g);return n.stroke=n.fill=n.lineWidth=null,n},inner$z=makeInner$1(),TreemapView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._state="ready",r._storage=createStorage$1(),r}return n.prototype.render=function(r,$,L,V){var oe=$.findComponents({mainType:"series",subType:"treemap",query:V});if(!(indexOf$1(oe,r)<0)){this.seriesModel=r,this.api=L,this.ecModel=$;var ae=["treemapZoomToNode","treemapRootToNode"],re=retrieveTargetInfo$1(V,ae,r),le=V&&V.type,ue=r.layoutInfo,de=!this._oldTree,he=this._storage,pe=le==="treemapRootToNode"&&re&&he?{rootNodeGroup:he.nodeGroup[re.node.getRawIndex()],direction:V.direction}:null,_e=this._giveContainerGroup(ue),$e=r.get("animation"),xe=this._doRender(_e,r,pe);$e&&!de&&(!le||le==="treemapZoomToNode"||le==="treemapRootToNode")?this._doAnimation(_e,xe,r,pe):xe.renderFinally(),this._resetController(L),this._renderBreadcrumb(r,L,re)}},n.prototype._giveContainerGroup=function(r){var $=this._containerGroup;return $||($=this._containerGroup=new Group$7,this._initEvents($),this.group.add($)),$.x=r.x,$.y=r.y,$},n.prototype._doRender=function(r,$,L){var V=$.getData().tree,oe=this._oldTree,ae=createStorage$1(),re=createStorage$1(),le=this._storage,ue=[];function de(xe,Oe,Ce,Ie){return renderNode$1($,re,le,L,ae,ue,xe,Oe,Ce,Ie)}pe(V.root?[V.root]:[],oe&&oe.root?[oe.root]:[],r,V===oe||!oe,0);var he=_e(le);return this._oldTree=V,this._storage=re,{lastsForAnimation:ae,willDeleteEls:he,renderFinally:$e};function pe(xe,Oe,Ce,Ie,Ne){Ie?(Oe=xe,each$v(xe,function(Ue,At){!Ue.isRemoved()&&Fe(At,At)})):new DataDiffer$3(Oe,xe,ze,ze).add(Fe).update(Fe).remove(curry$3(Fe,null)).execute();function ze(Ue){return Ue.getId()}function Fe(Ue,At){var Et=Ue!=null?xe[Ue]:null,Pt=At!=null?Oe[At]:null,kt=de(Et,Pt,Ce,Ne);kt&&pe(Et&&Et.viewChildren||[],Pt&&Pt.viewChildren||[],kt,Ie,Ne+1)}}function _e(xe){var Oe=createStorage$1();return xe&&each$v(xe,function(Ce,Ie){var Ne=Oe[Ie];each$v(Ce,function(ze){ze&&(Ne.push(ze),inner$z(ze).willDelete=!0)})}),Oe}function $e(){each$v(he,function(xe){each$v(xe,function(Oe){Oe.parent&&Oe.parent.remove(Oe)})}),each$v(ue,function(xe){xe.invisible=!0,xe.dirty()})}},n.prototype._doAnimation=function(r,$,L,V){var oe=L.get("animationDurationUpdate"),ae=L.get("animationEasing"),re=(isFunction$3(oe)?0:oe)||0,le=(isFunction$3(ae)?null:ae)||"cubicOut",ue=createWrap$1();each$v($.willDeleteEls,function(de,he){each$v(de,function(pe,_e){if(!pe.invisible){var $e=pe.parent,xe,Oe=inner$z($e);if(V&&V.direction==="drillDown")xe=$e===V.rootNodeGroup?{shape:{x:0,y:0,width:Oe.nodeWidth,height:Oe.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var Ce=0,Ie=0;Oe.willDelete||(Ce=Oe.nodeWidth/2,Ie=Oe.nodeHeight/2),xe=he==="nodeGroup"?{x:Ce,y:Ie,style:{opacity:0}}:{shape:{x:Ce,y:Ie,width:0,height:0},style:{opacity:0}}}xe&&ue.add(pe,xe,re,0,le)}})}),each$v(this._storage,function(de,he){each$v(de,function(pe,_e){var $e=$.lastsForAnimation[he][_e],xe={};!$e||(pe instanceof Group$9?$e.oldX!=null&&(xe.x=pe.x,xe.y=pe.y,pe.x=$e.oldX,pe.y=$e.oldY):($e.oldShape&&(xe.shape=extend$4({},pe.shape),pe.setShape($e.oldShape)),$e.fadein?(pe.setStyle("opacity",0),xe.style={opacity:1}):pe.style.opacity!==1&&(xe.style={opacity:1})),ue.add(pe,xe,re,0,le))})},this),this._state="animating",ue.finished(bind$5(function(){this._state="ready",$.renderFinally()},this)).start()},n.prototype._resetController=function(r){var $=this._controller;$||($=this._controller=new RoamController$3(r.getZr()),$.enable(this.seriesModel.get("roam")),$.on("pan",bind$5(this._onPan,this)),$.on("zoom",bind$5(this._onZoom,this)));var L=new BoundingRect$3(0,0,r.getWidth(),r.getHeight());$.setPointerChecker(function(V,oe,ae){return L.contain(oe,ae)})},n.prototype._clearController=function(){var r=this._controller;r&&(r.dispose(),r=null)},n.prototype._onPan=function(r){if(this._state!=="animating"&&(Math.abs(r.dx)>DRAG_THRESHOLD$1||Math.abs(r.dy)>DRAG_THRESHOLD$1)){var $=this.seriesModel.getData().tree.root;if(!$)return;var L=$.getLayout();if(!L)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:L.x+r.dx,y:L.y+r.dy,width:L.width,height:L.height}})}},n.prototype._onZoom=function(r){var $=r.originX,L=r.originY;if(this._state!=="animating"){var V=this.seriesModel.getData().tree.root;if(!V)return;var oe=V.getLayout();if(!oe)return;var ae=new BoundingRect$3(oe.x,oe.y,oe.width,oe.height),re=this.seriesModel.layoutInfo;$-=re.x,L-=re.y;var le=create$4();translate$1(le,le,[-$,-L]),scale$4(le,le,[r.scale,r.scale]),translate$1(le,le,[$,L]),ae.applyTransform(le),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:ae.x,y:ae.y,width:ae.width,height:ae.height}})}},n.prototype._initEvents=function(r){var $=this;r.on("click",function(L){if($._state==="ready"){var V=$.seriesModel.get("nodeClick",!0);if(V){var oe=$.findTarget(L.offsetX,L.offsetY);if(oe){var ae=oe.node;if(ae.getLayout().isLeafRoot)$._rootToNode(oe);else if(V==="zoomToNode")$._zoomToNode(oe);else if(V==="link"){var re=ae.hostTree.data.getItemModel(ae.dataIndex),le=re.get("link",!0),ue=re.get("target",!0)||"blank";le&&windowOpen$1(le,ue)}}}}},this)},n.prototype._renderBreadcrumb=function(r,$,L){var V=this;L||(L=r.get("leafDepth",!0)!=null?{node:r.getViewRoot()}:this.findTarget($.getWidth()/2,$.getHeight()/2),L||(L={node:r.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb$3(this.group))).render(r,$,L.node,function(oe){V._state!=="animating"&&(aboveViewRoot$1(r.getViewRoot(),oe)?V._rootToNode({node:oe}):V._zoomToNode({node:oe}))})},n.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage$1(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},n.prototype.dispose=function(){this._clearController()},n.prototype._zoomToNode=function(r){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},n.prototype._rootToNode=function(r){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},n.prototype.findTarget=function(r,$){var L,V=this.seriesModel.getViewRoot();return V.eachNode({attr:"viewChildren",order:"preorder"},function(oe){var ae=this._storage.background[oe.getRawIndex()];if(ae){var re=ae.transformCoordToLocal(r,$),le=ae.shape;if(le.x<=re[0]&&re[0]<=le.x+le.width&&le.y<=re[1]&&re[1]<=le.y+le.height)L={node:oe,offsetX:re[0],offsetY:re[1]};else return!1}},this),L},n.type="treemap",n}(ChartView$3);function createStorage$1(){return{nodeGroup:[],background:[],content:[]}}function renderNode$1(g,n,r,$,L,V,oe,ae,re,le){if(!oe)return;var ue=oe.getLayout(),de=g.getData(),he=oe.getModel();if(de.setItemGraphicEl(oe.dataIndex,null),!ue||!ue.isInView)return;var pe=ue.width,_e=ue.height,$e=ue.borderWidth,xe=ue.invisible,Oe=oe.getRawIndex(),Ce=ae&&ae.getRawIndex(),Ie=oe.viewChildren,Ne=ue.upperHeight,ze=Ie&&Ie.length,Fe=he.getModel("itemStyle"),Ue=he.getModel(["emphasis","itemStyle"]),At=he.getModel(["blur","itemStyle"]),Et=he.getModel(["select","itemStyle"]),Pt=Fe.get("borderRadius")||0,kt=Fn("nodeGroup",Group$7);if(!kt)return;if(re.add(kt),kt.x=ue.x||0,kt.y=ue.y||0,kt.markRedraw(),inner$z(kt).nodeWidth=pe,inner$z(kt).nodeHeight=_e,ue.isAboveViewRoot)return kt;var Dt=Fn("background",Rect$5,le,Z2_BG$1);Dt&&xn(kt,Dt,ze&&ue.upperLabelHeight);var Lt=he.getModel("emphasis"),hn=Lt.get("focus"),vn=Lt.get("blurScope"),_n=Lt.get("disabled"),$n=hn==="ancestor"?oe.getAncestorsIndices():hn==="descendant"?oe.getDescendantIndices():hn;if(ze)isHighDownDispatcher$1(kt)&&setAsHighDownDispatcher$1(kt,!1),Dt&&(setAsHighDownDispatcher$1(Dt,!_n),de.setItemGraphicEl(oe.dataIndex,Dt),enableHoverFocus$1(Dt,$n,vn));else{var Sn=Fn("content",Rect$5,le,Z2_CONTENT$1);Sn&&On(kt,Sn),Dt.disableMorphing=!0,Dt&&isHighDownDispatcher$1(Dt)&&setAsHighDownDispatcher$1(Dt,!1),setAsHighDownDispatcher$1(kt,!_n),de.setItemGraphicEl(oe.dataIndex,kt),enableHoverFocus$1(kt,$n,vn)}return kt;function xn(Dn,kn,Nn){var Vn=getECData$1(kn);if(Vn.dataIndex=oe.dataIndex,Vn.seriesIndex=g.seriesIndex,kn.setShape({x:0,y:0,width:pe,height:_e,r:Pt}),xe)Cn(kn);else{kn.invisible=!1;var Ln=oe.getVisual("style"),Tn=Ln.stroke,In=getItemStyleNormal$1(Fe);In.fill=Tn;var Bn=getStateItemStyle$1(Ue);Bn.fill=Ue.get("borderColor");var Qn=getStateItemStyle$1(At);Qn.fill=At.get("borderColor");var Zn=getStateItemStyle$1(Et);if(Zn.fill=Et.get("borderColor"),Nn){var Kn=pe-2*$e;An(kn,Tn,Ln.opacity,{x:$e,y:0,width:Kn,height:Ne})}else kn.removeTextContent();kn.setStyle(In),kn.ensureState("emphasis").style=Bn,kn.ensureState("blur").style=Qn,kn.ensureState("select").style=Zn,setDefaultStateProxy$1(kn)}Dn.add(kn)}function On(Dn,kn){var Nn=getECData$1(kn);Nn.dataIndex=oe.dataIndex,Nn.seriesIndex=g.seriesIndex;var Vn=Math.max(pe-2*$e,0),Ln=Math.max(_e-2*$e,0);if(kn.culling=!0,kn.setShape({x:$e,y:$e,width:Vn,height:Ln,r:Pt}),xe)Cn(kn);else{kn.invisible=!1;var Tn=oe.getVisual("style"),In=Tn.fill,Bn=getItemStyleNormal$1(Fe);Bn.fill=In,Bn.decal=Tn.decal;var Qn=getStateItemStyle$1(Ue),Zn=getStateItemStyle$1(At),Kn=getStateItemStyle$1(Et);An(kn,In,Tn.opacity,null),kn.setStyle(Bn),kn.ensureState("emphasis").style=Qn,kn.ensureState("blur").style=Zn,kn.ensureState("select").style=Kn,setDefaultStateProxy$1(kn)}Dn.add(kn)}function Cn(Dn){!Dn.invisible&&V.push(Dn)}function An(Dn,kn,Nn,Vn){var Ln=he.getModel(Vn?PATH_UPPERLABEL_NORMAL$1:PATH_LABEL_NOAMAL$1),Tn=convertOptionIdName$1(he.get("name"),null),In=Ln.getShallow("show");setLabelStyle$1(Dn,getLabelStatesModels$1(he,Vn?PATH_UPPERLABEL_NORMAL$1:PATH_LABEL_NOAMAL$1),{defaultText:In?Tn:null,inheritColor:kn,defaultOpacity:Nn,labelFetcher:g,labelDataIndex:oe.dataIndex});var Bn=Dn.getTextContent();if(Bn){var Qn=Bn.style,Zn=normalizeCssArray$3(Qn.padding||0);Vn&&(Dn.setTextConfig({layoutRect:Vn}),Bn.disableLabelLayout=!0),Bn.beforeUpdate=function(){var ui=Math.max((Vn?Vn.width:Dn.shape.width)-Zn[1]-Zn[3],0),ei=Math.max((Vn?Vn.height:Dn.shape.height)-Zn[0]-Zn[2],0);(Qn.width!==ui||Qn.height!==ei)&&Bn.setStyle({width:ui,height:ei})},Qn.truncateMinChar=2,Qn.lineOverflow="truncate",Rn(Qn,Vn,ue);var Kn=Bn.getState("emphasis");Rn(Kn?Kn.style:null,Vn,ue)}}function Rn(Dn,kn,Nn){var Vn=Dn?Dn.text:null;if(!kn&&Nn.isLeafRoot&&Vn!=null){var Ln=g.get("drillDownIcon",!0);Dn.text=Ln?Ln+" "+Vn:Vn}}function Fn(Dn,kn,Nn,Vn){var Ln=Ce!=null&&r[Dn][Ce],Tn=L[Dn];return Ln?(r[Dn][Ce]=null,Pn(Tn,Ln)):xe||(Ln=new kn,Ln instanceof Displayable$3&&(Ln.z2=calculateZ2$1(Nn,Vn)),Un(Tn,Ln)),n[Dn][Oe]=Ln}function Pn(Dn,kn){var Nn=Dn[Oe]={};kn instanceof Group$7?(Nn.oldX=kn.x,Nn.oldY=kn.y):Nn.oldShape=extend$4({},kn.shape)}function Un(Dn,kn){var Nn=Dn[Oe]={},Vn=oe.parentNode,Ln=kn instanceof Group$9;if(Vn&&(!$||$.direction==="drillDown")){var Tn=0,In=0,Bn=L.background[Vn.getRawIndex()];!$&&Bn&&Bn.oldShape&&(Tn=Bn.oldShape.width,In=Bn.oldShape.height),Ln?(Nn.oldX=0,Nn.oldY=In):Nn.oldShape={x:Tn,y:In,width:0,height:0}}Nn.fadein=!Ln}}function calculateZ2$1(g,n){return g*Z2_BASE$1+n}const TreemapView$3=TreemapView$2;var each$s=each$v,isObject$6=isObject$9,CATEGORY_DEFAULT_VISUAL_INDEX$1=-1,VisualMapping$2=function(){function g(n){var r=n.mappingMethod,$=n.type,L=this.option=clone$9(n);this.type=$,this.mappingMethod=r,this._normalizeData=normalizers$1[r];var V=g.visualHandlers[$];this.applyVisual=V.applyVisual,this.getColorMapper=V.getColorMapper,this._normalizedToVisual=V._normalizedToVisual[r],r==="piecewise"?(normalizeVisualRange$1(L),preprocessForPiecewise$1(L)):r==="category"?L.categories?preprocessForSpecifiedCategory$1(L):normalizeVisualRange$1(L,!0):(assert$1(r!=="linear"||L.dataExtent),normalizeVisualRange$1(L))}return g.prototype.mapValueToVisual=function(n){var r=this._normalizeData(n);return this._normalizedToVisual(r,n)},g.prototype.getNormalizer=function(){return bind$5(this._normalizeData,this)},g.listVisualTypes=function(){return keys$2(g.visualHandlers)},g.isValidType=function(n){return g.visualHandlers.hasOwnProperty(n)},g.eachVisual=function(n,r,$){isObject$9(n)?each$v(n,r,$):r.call($,n)},g.mapVisual=function(n,r,$){var L,V=isArray$6(n)?[]:isObject$9(n)?{}:(L=!0,null);return g.eachVisual(n,function(oe,ae){var re=r.call($,oe,ae);L?V=re:V[ae]=re}),V},g.retrieveVisuals=function(n){var r={},$;return n&&each$s(g.visualHandlers,function(L,V){n.hasOwnProperty(V)&&(r[V]=n[V],$=!0)}),$?r:null},g.prepareVisualTypes=function(n){if(isArray$6(n))n=n.slice();else if(isObject$6(n)){var r=[];each$s(n,function($,L){r.push(L)}),n=r}else return[];return n.sort(function($,L){return L==="color"&&$!=="color"&&$.indexOf("color")===0?1:-1}),n},g.dependsOn=function(n,r){return r==="color"?!!(n&&n.indexOf(r)===0):n===r},g.findPieceIndex=function(n,r,$){for(var L,V=1/0,oe=0,ae=r.length;oe<ae;oe++){var re=r[oe].value;if(re!=null){if(re===n||isString$3(re)&&re===n+"")return oe;$&&he(re,oe)}}for(var oe=0,ae=r.length;oe<ae;oe++){var le=r[oe],ue=le.interval,de=le.close;if(ue){if(ue[0]===-1/0){if(littleThan$1(de[1],n,ue[1]))return oe}else if(ue[1]===1/0){if(littleThan$1(de[0],ue[0],n))return oe}else if(littleThan$1(de[0],ue[0],n)&&littleThan$1(de[1],n,ue[1]))return oe;$&&he(ue[0],oe),$&&he(ue[1],oe)}}if($)return n===1/0?r.length-1:n===-1/0?0:L;function he(pe,_e){var $e=Math.abs(pe-n);$e<V&&(V=$e,L=_e)}},g.visualHandlers={color:{applyVisual:makeApplyVisual$1("color"),getColorMapper:function(){var n=this.option;return bind$5(n.mappingMethod==="category"?function(r,$){return!$&&(r=this._normalizeData(r)),doMapCategory$1.call(this,r)}:function(r,$,L){var V=!!L;return!$&&(r=this._normalizeData(r)),L=fastLerp$1(r,n.parsedVisual,L),V?L:stringify$2(L,"rgba")},this)},_normalizedToVisual:{linear:function(n){return stringify$2(fastLerp$1(n,this.option.parsedVisual),"rgba")},category:doMapCategory$1,piecewise:function(n,r){var $=getSpecifiedVisual$1.call(this,r);return $==null&&($=stringify$2(fastLerp$1(n,this.option.parsedVisual),"rgba")),$},fixed:doMapFixed$1}},colorHue:makePartialColorVisualHandler$1(function(n,r){return modifyHSL$1(n,r)}),colorSaturation:makePartialColorVisualHandler$1(function(n,r){return modifyHSL$1(n,null,r)}),colorLightness:makePartialColorVisualHandler$1(function(n,r){return modifyHSL$1(n,null,null,r)}),colorAlpha:makePartialColorVisualHandler$1(function(n,r){return modifyAlpha$1(n,r)}),decal:{applyVisual:makeApplyVisual$1("decal"),_normalizedToVisual:{linear:null,category:doMapCategory$1,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual$1("opacity"),_normalizedToVisual:createNormalizedToNumericVisual$1([0,1])},liftZ:{applyVisual:makeApplyVisual$1("liftZ"),_normalizedToVisual:{linear:doMapFixed$1,category:doMapFixed$1,piecewise:doMapFixed$1,fixed:doMapFixed$1}},symbol:{applyVisual:function(n,r,$){var L=this.mapValueToVisual(n);$("symbol",L)},_normalizedToVisual:{linear:doMapToArray$1,category:doMapCategory$1,piecewise:function(n,r){var $=getSpecifiedVisual$1.call(this,r);return $==null&&($=doMapToArray$1.call(this,n)),$},fixed:doMapFixed$1}},symbolSize:{applyVisual:makeApplyVisual$1("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual$1([0,1])}},g}();function preprocessForPiecewise$1(g){var n=g.pieceList;g.hasSpecialVisual=!1,each$v(n,function(r,$){r.originIndex=$,r.visual!=null&&(g.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory$1(g){var n=g.categories,r=g.categoryMap={},$=g.visual;if(each$s(n,function(oe,ae){r[oe]=ae}),!isArray$6($)){var L=[];isObject$9($)?each$s($,function(oe,ae){var re=r[ae];L[re!=null?re:CATEGORY_DEFAULT_VISUAL_INDEX$1]=oe}):L[CATEGORY_DEFAULT_VISUAL_INDEX$1]=$,$=setVisualToOption$1(g,L)}for(var V=n.length-1;V>=0;V--)$[V]==null&&(delete r[n[V]],n.pop())}function normalizeVisualRange$1(g,n){var r=g.visual,$=[];isObject$9(r)?each$s(r,function(V){$.push(V)}):r!=null&&$.push(r);var L={color:1,symbol:1};!n&&$.length===1&&!L.hasOwnProperty(g.type)&&($[1]=$[0]),setVisualToOption$1(g,$)}function makePartialColorVisualHandler$1(g){return{applyVisual:function(n,r,$){var L=this.mapValueToVisual(n);$("color",g(r("color"),L))},_normalizedToVisual:createNormalizedToNumericVisual$1([0,1])}}function doMapToArray$1(g){var n=this.option.visual;return n[Math.round(linearMap$5(g,[0,1],[0,n.length-1],!0))]||{}}function makeApplyVisual$1(g){return function(n,r,$){$(g,this.mapValueToVisual(n))}}function doMapCategory$1(g){var n=this.option.visual;return n[this.option.loop&&g!==CATEGORY_DEFAULT_VISUAL_INDEX$1?g%n.length:g]}function doMapFixed$1(){return this.option.visual[0]}function createNormalizedToNumericVisual$1(g){return{linear:function(n){return linearMap$5(n,g,this.option.visual,!0)},category:doMapCategory$1,piecewise:function(n,r){var $=getSpecifiedVisual$1.call(this,r);return $==null&&($=linearMap$5(n,g,this.option.visual,!0)),$},fixed:doMapFixed$1}}function getSpecifiedVisual$1(g){var n=this.option,r=n.pieceList;if(n.hasSpecialVisual){var $=VisualMapping$2.findPieceIndex(g,r),L=r[$];if(L&&L.visual)return L.visual[this.type]}}function setVisualToOption$1(g,n){return g.visual=n,g.type==="color"&&(g.parsedVisual=map$3(n,function(r){var $=parse$1(r);return $||[0,0,0,1]})),n}var normalizers$1={linear:function(g){return linearMap$5(g,this.option.dataExtent,[0,1],!0)},piecewise:function(g){var n=this.option.pieceList,r=VisualMapping$2.findPieceIndex(g,n,!0);if(r!=null)return linearMap$5(r,[0,n.length-1],[0,1],!0)},category:function(g){var n=this.option.categories?this.option.categoryMap[g]:g;return n!=null?n:CATEGORY_DEFAULT_VISUAL_INDEX$1},fixed:noop$4};function littleThan$1(g,n,r){return g?n<=r:n<r}const VisualMapping$3=VisualMapping$2;var ITEM_STYLE_NORMAL$1="itemStyle",inner$y=makeInner$1();const treemapVisual$1={seriesType:"treemap",reset:function(g){var n=g.getData().tree,r=n.root;r.isRemoved()||travelTree$1(r,{},g.getViewRoot().getAncestors(),g)}};function travelTree$1(g,n,r,$){var L=g.getModel(),V=g.getLayout(),oe=g.hostTree.data;if(!(!V||V.invisible||!V.isInView)){var ae=L.getModel(ITEM_STYLE_NORMAL$1),re=buildVisuals$1(ae,n,$),le=oe.ensureUniqueItemVisual(g.dataIndex,"style"),ue=ae.get("borderColor"),de=ae.get("borderColorSaturation"),he;de!=null&&(he=calculateColor$1(re),ue=calculateBorderColor$1(de,he)),le.stroke=ue;var pe=g.viewChildren;if(!pe||!pe.length)he=calculateColor$1(re),le.fill=he;else{var _e=buildVisualMapping$1(g,L,V,ae,re,pe);each$v(pe,function($e,xe){if($e.depth>=r.length||$e===r[$e.depth]){var Oe=mapVisual$3(L,re,$e,xe,_e,$);travelTree$1($e,Oe,r,$)}})}}}function buildVisuals$1(g,n,r){var $=extend$4({},n),L=r.designatedVisualItemStyle;return each$v(["color","colorAlpha","colorSaturation"],function(V){L[V]=n[V];var oe=g.get(V);L[V]=null,oe!=null&&($[V]=oe)}),$}function calculateColor$1(g){var n=getValueVisualDefine$1(g,"color");if(n){var r=getValueVisualDefine$1(g,"colorAlpha"),$=getValueVisualDefine$1(g,"colorSaturation");return $&&(n=modifyHSL$1(n,null,null,$)),r&&(n=modifyAlpha$1(n,r)),n}}function calculateBorderColor$1(g,n){return n!=null?modifyHSL$1(n,null,null,g):null}function getValueVisualDefine$1(g,n){var r=g[n];if(r!=null&&r!=="none")return r}function buildVisualMapping$1(g,n,r,$,L,V){if(!(!V||!V.length)){var oe=getRangeVisual$1(n,"color")||L.color!=null&&L.color!=="none"&&(getRangeVisual$1(n,"colorAlpha")||getRangeVisual$1(n,"colorSaturation"));if(oe){var ae=n.get("visualMin"),re=n.get("visualMax"),le=r.dataExtent.slice();ae!=null&&ae<le[0]&&(le[0]=ae),re!=null&&re>le[1]&&(le[1]=re);var ue=n.get("colorMappingBy"),de={type:oe.name,dataExtent:le,visual:oe.range};de.type==="color"&&(ue==="index"||ue==="id")?(de.mappingMethod="category",de.loop=!0):de.mappingMethod="linear";var he=new VisualMapping$3(de);return inner$y(he).drColorMappingBy=ue,he}}}function getRangeVisual$1(g,n){var r=g.get(n);return isArray$6(r)&&r.length?{name:n,range:r}:null}function mapVisual$3(g,n,r,$,L,V){var oe=extend$4({},n);if(L){var ae=L.type,re=ae==="color"&&inner$y(L).drColorMappingBy,le=re==="index"?$:re==="id"?V.mapIdToIndex(r.getId()):r.getValue(g.get("visualDimension"));oe[ae]=L.mapValueToVisual(le)}return oe}var mathMax$e=Math.max,mathMin$e=Math.min,retrieveValue$1=retrieve$1,each$r=each$v,PATH_BORDER_WIDTH$1=["itemStyle","borderWidth"],PATH_GAP_WIDTH$1=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW$1=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT$1=["upperLabel","height"];const treemapLayout$1={seriesType:"treemap",reset:function(g,n,r,$){var L=r.getWidth(),V=r.getHeight(),oe=g.option,ae=getLayoutRect$1(g.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),re=oe.size||[],le=parsePercent$2(retrieveValue$1(ae.width,re[0]),L),ue=parsePercent$2(retrieveValue$1(ae.height,re[1]),V),de=$&&$.type,he=["treemapZoomToNode","treemapRootToNode"],pe=retrieveTargetInfo$1($,he,g),_e=de==="treemapRender"||de==="treemapMove"?$.rootRect:null,$e=g.getViewRoot(),xe=getPathToRoot$1($e);if(de!=="treemapMove"){var Oe=de==="treemapZoomToNode"?estimateRootSize$1(g,pe,$e,le,ue):_e?[_e.width,_e.height]:[le,ue],Ce=oe.sort;Ce&&Ce!=="asc"&&Ce!=="desc"&&(Ce="desc");var Ie={squareRatio:oe.squareRatio,sort:Ce,leafDepth:oe.leafDepth};$e.hostTree.clearLayouts();var Ne={x:0,y:0,width:Oe[0],height:Oe[1],area:Oe[0]*Oe[1]};$e.setLayout(Ne),squarify$1($e,Ie,!1,0),Ne=$e.getLayout(),each$r(xe,function(Fe,Ue){var At=(xe[Ue+1]||$e).getValue();Fe.setLayout(extend$4({dataExtent:[At,At],borderWidth:0,upperHeight:0},Ne))})}var ze=g.getData().tree.root;ze.setLayout(calculateRootPosition$1(ae,_e,pe),!0),g.setLayoutInfo(ae),prunning$1(ze,new BoundingRect$3(-ae.x,-ae.y,L,V),xe,$e,0)}};function squarify$1(g,n,r,$){var L,V;if(!g.isRemoved()){var oe=g.getLayout();L=oe.width,V=oe.height;var ae=g.getModel(),re=ae.get(PATH_BORDER_WIDTH$1),le=ae.get(PATH_GAP_WIDTH$1)/2,ue=getUpperLabelHeight$1(ae),de=Math.max(re,ue),he=re-le,pe=de-le;g.setLayout({borderWidth:re,upperHeight:de,upperLabelHeight:ue},!0),L=mathMax$e(L-2*he,0),V=mathMax$e(V-he-pe,0);var _e=L*V,$e=initChildren$3(g,ae,_e,n,r,$);if($e.length){var xe={x:he,y:pe,width:L,height:V},Oe=mathMin$e(L,V),Ce=1/0,Ie=[];Ie.area=0;for(var Ne=0,ze=$e.length;Ne<ze;){var Fe=$e[Ne];Ie.push(Fe),Ie.area+=Fe.getLayout().area;var Ue=worst$1(Ie,Oe,n.squareRatio);Ue<=Ce?(Ne++,Ce=Ue):(Ie.area-=Ie.pop().getLayout().area,position$1(Ie,Oe,xe,le,!1),Oe=mathMin$e(xe.width,xe.height),Ie.length=Ie.area=0,Ce=1/0)}if(Ie.length&&position$1(Ie,Oe,xe,le,!0),!r){var At=ae.get("childrenVisibleMin");At!=null&&_e<At&&(r=!0)}for(var Ne=0,ze=$e.length;Ne<ze;Ne++)squarify$1($e[Ne],n,r,$+1)}}}function initChildren$3(g,n,r,$,L,V){var oe=g.children||[],ae=$.sort;ae!=="asc"&&ae!=="desc"&&(ae=null);var re=$.leafDepth!=null&&$.leafDepth<=V;if(L&&!re)return g.viewChildren=[];oe=filter$1(oe,function(pe){return!pe.isRemoved()}),sort$4(oe,ae);var le=statistic$1(n,oe,ae);if(le.sum===0)return g.viewChildren=[];if(le.sum=filterByThreshold$1(n,r,le.sum,ae,oe),le.sum===0)return g.viewChildren=[];for(var ue=0,de=oe.length;ue<de;ue++){var he=oe[ue].getValue()/le.sum*r;oe[ue].setLayout({area:he})}return re&&(oe.length&&g.setLayout({isLeafRoot:!0},!0),oe.length=0),g.viewChildren=oe,g.setLayout({dataExtent:le.dataExtent},!0),oe}function filterByThreshold$1(g,n,r,$,L){if(!$)return r;for(var V=g.get("visibleMin"),oe=L.length,ae=oe,re=oe-1;re>=0;re--){var le=L[$==="asc"?oe-re-1:re].getValue();le/r*n<V&&(ae=re,r-=le)}return $==="asc"?L.splice(0,oe-ae):L.splice(ae,oe-ae),r}function sort$4(g,n){return n&&g.sort(function(r,$){var L=n==="asc"?r.getValue()-$.getValue():$.getValue()-r.getValue();return L===0?n==="asc"?r.dataIndex-$.dataIndex:$.dataIndex-r.dataIndex:L}),g}function statistic$1(g,n,r){for(var $=0,L=0,V=n.length;L<V;L++)$+=n[L].getValue();var oe=g.get("visualDimension"),ae;return!n||!n.length?ae=[NaN,NaN]:oe==="value"&&r?(ae=[n[n.length-1].getValue(),n[0].getValue()],r==="asc"&&ae.reverse()):(ae=[1/0,-1/0],each$r(n,function(re){var le=re.getValue(oe);le<ae[0]&&(ae[0]=le),le>ae[1]&&(ae[1]=le)})),{sum:$,dataExtent:ae}}function worst$1(g,n,r){for(var $=0,L=1/0,V=0,oe=void 0,ae=g.length;V<ae;V++)oe=g[V].getLayout().area,oe&&(oe<L&&(L=oe),oe>$&&($=oe));var re=g.area*g.area,le=n*n*r;return re?mathMax$e(le*$/re,re/(le*L)):1/0}function position$1(g,n,r,$,L){var V=n===r.width?0:1,oe=1-V,ae=["x","y"],re=["width","height"],le=r[ae[V]],ue=n?g.area/n:0;(L||ue>r[re[oe]])&&(ue=r[re[oe]]);for(var de=0,he=g.length;de<he;de++){var pe=g[de],_e={},$e=ue?pe.getLayout().area/ue:0,xe=_e[re[oe]]=mathMax$e(ue-2*$,0),Oe=r[ae[V]]+r[re[V]]-le,Ce=de===he-1||Oe<$e?Oe:$e,Ie=_e[re[V]]=mathMax$e(Ce-2*$,0);_e[ae[oe]]=r[ae[oe]]+mathMin$e($,xe/2),_e[ae[V]]=le+mathMin$e($,Ie/2),le+=Ce,pe.setLayout(_e,!0)}r[ae[oe]]+=ue,r[re[oe]]-=ue}function estimateRootSize$1(g,n,r,$,L){var V=(n||{}).node,oe=[$,L];if(!V||V===r)return oe;for(var ae,re=$*L,le=re*g.option.zoomToNodeRatio;ae=V.parentNode;){for(var ue=0,de=ae.children,he=0,pe=de.length;he<pe;he++)ue+=de[he].getValue();var _e=V.getValue();if(_e===0)return oe;le*=ue/_e;var $e=ae.getModel(),xe=$e.get(PATH_BORDER_WIDTH$1),Oe=Math.max(xe,getUpperLabelHeight$1($e));le+=4*xe*xe+(3*xe+Oe)*Math.pow(le,.5),le>MAX_SAFE_INTEGER$1&&(le=MAX_SAFE_INTEGER$1),V=ae}le<re&&(le=re);var Ce=Math.pow(le/re,.5);return[$*Ce,L*Ce]}function calculateRootPosition$1(g,n,r){if(n)return{x:n.x,y:n.y};var $={x:0,y:0};if(!r)return $;var L=r.node,V=L.getLayout();if(!V)return $;for(var oe=[V.width/2,V.height/2],ae=L;ae;){var re=ae.getLayout();oe[0]+=re.x,oe[1]+=re.y,ae=ae.parentNode}return{x:g.width/2-oe[0],y:g.height/2-oe[1]}}function prunning$1(g,n,r,$,L){var V=g.getLayout(),oe=r[L],ae=oe&&oe===g;if(!(oe&&!ae||L===r.length&&g!==$)){g.setLayout({isInView:!0,invisible:!ae&&!n.intersect(V),isAboveViewRoot:ae},!0);var re=new BoundingRect$3(n.x-V.x,n.y-V.y,n.width,n.height);each$r(g.viewChildren||[],function(le){prunning$1(le,re,r,$,L+1)})}}function getUpperLabelHeight$1(g){return g.get(PATH_UPPER_LABEL_SHOW$1)?g.get(PATH_UPPER_LABEL_HEIGHT$1):0}function install$1z(g){g.registerSeriesModel(TreemapSeriesModel$3),g.registerChartView(TreemapView$3),g.registerVisual(treemapVisual$1),g.registerLayout(treemapLayout$1),installTreemapAction$1(g)}function categoryFilter$1(g){var n=g.findComponents({mainType:"legend"});!n||!n.length||g.eachSeriesByType("graph",function(r){var $=r.getCategoriesData(),L=r.getGraph(),V=L.data,oe=$.mapArray($.getName);V.filterSelf(function(ae){var re=V.getItemModel(ae),le=re.getShallow("category");if(le!=null){isNumber$3(le)&&(le=oe[le]);for(var ue=0;ue<n.length;ue++)if(!n[ue].isSelected(le))return!1}return!0})})}function categoryVisual$1(g){var n={};g.eachSeriesByType("graph",function(r){var $=r.getCategoriesData(),L=r.getData(),V={};$.each(function(oe){var ae=$.getName(oe);V["ec-"+ae]=oe;var re=$.getItemModel(oe),le=re.getModel("itemStyle").getItemStyle();le.fill||(le.fill=r.getColorFromPalette(ae,n)),$.setItemVisual(oe,"style",le);for(var ue=["symbol","symbolSize","symbolKeepAspect"],de=0;de<ue.length;de++){var he=re.getShallow(ue[de],!0);he!=null&&$.setItemVisual(oe,ue[de],he)}}),$.count()&&L.each(function(oe){var ae=L.getItemModel(oe),re=ae.getShallow("category");if(re!=null){isString$3(re)&&(re=V["ec-"+re]);var le=$.getItemVisual(re,"style"),ue=L.ensureUniqueItemVisual(oe,"style");extend$4(ue,le);for(var de=["symbol","symbolSize","symbolKeepAspect"],he=0;he<de.length;he++)L.setItemVisual(oe,de[he],$.getItemVisual(re,de[he]))}})})}function normalize$6(g){return g instanceof Array||(g=[g,g]),g}function graphEdgeVisual$1(g){g.eachSeriesByType("graph",function(n){var r=n.getGraph(),$=n.getEdgeData(),L=normalize$6(n.get("edgeSymbol")),V=normalize$6(n.get("edgeSymbolSize"));$.setVisual("fromSymbol",L&&L[0]),$.setVisual("toSymbol",L&&L[1]),$.setVisual("fromSymbolSize",V&&V[0]),$.setVisual("toSymbolSize",V&&V[1]),$.setVisual("style",n.getModel("lineStyle").getLineStyle()),$.each(function(oe){var ae=$.getItemModel(oe),re=r.getEdgeByIndex(oe),le=normalize$6(ae.getShallow("symbol",!0)),ue=normalize$6(ae.getShallow("symbolSize",!0)),de=ae.getModel("lineStyle").getLineStyle(),he=$.ensureUniqueItemVisual(oe,"style");switch(extend$4(he,de),he.stroke){case"source":{var pe=re.node1.getVisual("style");he.stroke=pe&&pe.fill;break}case"target":{var pe=re.node2.getVisual("style");he.stroke=pe&&pe.fill;break}}le[0]&&re.setVisual("fromSymbol",le[0]),le[1]&&re.setVisual("toSymbol",le[1]),ue[0]&&re.setVisual("fromSymbolSize",ue[0]),ue[1]&&re.setVisual("toSymbolSize",ue[1])})})}var KEY_DELIMITER$1="-->",getAutoCurvenessParams$1=function(g){return g.get("autoCurveness")||null},createCurveness$1=function(g,n){var r=getAutoCurvenessParams$1(g),$=20,L=[];if(isNumber$3(r))$=r;else if(isArray$6(r)){g.__curvenessList=r;return}n>$&&($=n);var V=$%2?$+2:$+3;L=[];for(var oe=0;oe<V;oe++)L.push((oe%2?oe+1:oe)/10*(oe%2?-1:1));g.__curvenessList=L},getKeyOfEdges$1=function(g,n,r){var $=[g.id,g.dataIndex].join("."),L=[n.id,n.dataIndex].join(".");return[r.uid,$,L].join(KEY_DELIMITER$1)},getOppositeKey$1=function(g){var n=g.split(KEY_DELIMITER$1);return[n[0],n[2],n[1]].join(KEY_DELIMITER$1)},getEdgeFromMap$1=function(g,n){var r=getKeyOfEdges$1(g.node1,g.node2,n);return n.__edgeMap[r]},getTotalLengthBetweenNodes$1=function(g,n){var r=getEdgeMapLengthWithKey$1(getKeyOfEdges$1(g.node1,g.node2,n),n),$=getEdgeMapLengthWithKey$1(getKeyOfEdges$1(g.node2,g.node1,n),n);return r+$},getEdgeMapLengthWithKey$1=function(g,n){var r=n.__edgeMap;return r[g]?r[g].length:0};function initCurvenessList$1(g){!getAutoCurvenessParams$1(g)||(g.__curvenessList=[],g.__edgeMap={},createCurveness$1(g))}function createEdgeMapForCurveness$1(g,n,r,$){if(getAutoCurvenessParams$1(r)){var L=getKeyOfEdges$1(g,n,r),V=r.__edgeMap,oe=V[getOppositeKey$1(L)];V[L]&&!oe?V[L].isForward=!0:oe&&V[L]&&(oe.isForward=!0,V[L].isForward=!1),V[L]=V[L]||[],V[L].push($)}}function getCurvenessForEdge$1(g,n,r,$){var L=getAutoCurvenessParams$1(n),V=isArray$6(L);if(!L)return null;var oe=getEdgeFromMap$1(g,n);if(!oe)return null;for(var ae=-1,re=0;re<oe.length;re++)if(oe[re]===r){ae=re;break}var le=getTotalLengthBetweenNodes$1(g,n);createCurveness$1(n,le),g.lineStyle=g.lineStyle||{};var ue=getKeyOfEdges$1(g.node1,g.node2,n),de=n.__curvenessList,he=V||le%2?0:1;if(oe.isForward)return de[he+ae];var pe=getOppositeKey$1(ue),_e=getEdgeMapLengthWithKey$1(pe,n),$e=de[ae+_e+he];return $?V?L&&L[0]===0?(_e+he)%2?$e:-$e:((_e%2?0:1)+he)%2?$e:-$e:(_e+he)%2?$e:-$e:de[ae+_e+he]}function simpleLayout$1(g){var n=g.coordinateSystem;if(!(n&&n.type!=="view")){var r=g.getGraph();r.eachNode(function($){var L=$.getModel();$.setLayout([+L.get("x"),+L.get("y")])}),simpleLayoutEdge$1(r,g)}}function simpleLayoutEdge$1(g,n){g.eachEdge(function(r,$){var L=retrieve3$1(r.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge$1(r,n,$,!0),0),V=clone$8(r.node1.getLayout()),oe=clone$8(r.node2.getLayout()),ae=[V,oe];+L&&ae.push([(V[0]+oe[0])/2-(V[1]-oe[1])*L,(V[1]+oe[1])/2-(oe[0]-V[0])*L]),r.setLayout(ae)})}function graphSimpleLayout$1(g,n){g.eachSeriesByType("graph",function(r){var $=r.get("layout"),L=r.coordinateSystem;if(L&&L.type!=="view"){var V=r.getData(),oe=[];each$v(L.dimensions,function(he){oe=oe.concat(V.mapDimensionsAll(he))});for(var ae=0;ae<V.count();ae++){for(var re=[],le=!1,ue=0;ue<oe.length;ue++){var de=V.get(oe[ue],ae);isNaN(de)||(le=!0),re.push(de)}le?V.setItemLayout(ae,L.dataToPoint(re)):V.setItemLayout(ae,[NaN,NaN])}simpleLayoutEdge$1(V.graph,r)}else(!$||$==="none")&&simpleLayout$1(r)})}function getNodeGlobalScale$1(g){var n=g.coordinateSystem;if(n.type!=="view")return 1;var r=g.option.nodeScaleRatio,$=n.scaleX,L=n.getZoom(),V=(L-1)*r+1;return V/$}function getSymbolSize$1(g){var n=g.getVisual("symbolSize");return n instanceof Array&&(n=(n[0]+n[1])/2),+n}var PI$b=Math.PI,_symbolRadiansHalf$1=[];function circularLayout$1(g,n,r,$){var L=g.coordinateSystem;if(!(L&&L.type!=="view")){var V=L.getBoundingRect(),oe=g.getData(),ae=oe.graph,re=V.width/2+V.x,le=V.height/2+V.y,ue=Math.min(V.width,V.height)/2,de=oe.count();if(oe.setLayout({cx:re,cy:le}),!!de){if(r){var he=L.pointToData($),pe=he[0],_e=he[1],$e=[pe-re,_e-le];normalize$8($e,$e),scale$5($e,$e,ue),r.setLayout([re+$e[0],le+$e[1]],!0);var xe=g.get(["circular","rotateLabel"]);rotateNodeLabel$1(r,xe,re,le)}_layoutNodesBasedOn$1[n](g,ae,oe,ue,re,le,de),ae.eachEdge(function(Oe,Ce){var Ie=retrieve3$1(Oe.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge$1(Oe,g,Ce),0),Ne=clone$8(Oe.node1.getLayout()),ze=clone$8(Oe.node2.getLayout()),Fe,Ue=(Ne[0]+ze[0])/2,At=(Ne[1]+ze[1])/2;+Ie&&(Ie*=3,Fe=[re*Ie+Ue*(1-Ie),le*Ie+At*(1-Ie)]),Oe.setLayout([Ne,ze,Fe])})}}}var _layoutNodesBasedOn$1={value:function(g,n,r,$,L,V,oe){var ae=0,re=r.getSum("value"),le=Math.PI*2/(re||oe);n.eachNode(function(ue){var de=ue.getValue("value"),he=le*(re?de:1)/2;ae+=he,ue.setLayout([$*Math.cos(ae)+L,$*Math.sin(ae)+V]),ae+=he})},symbolSize:function(g,n,r,$,L,V,oe){var ae=0;_symbolRadiansHalf$1.length=oe;var re=getNodeGlobalScale$1(g);n.eachNode(function(de){var he=getSymbolSize$1(de);isNaN(he)&&(he=2),he<0&&(he=0),he*=re;var pe=Math.asin(he/2/$);isNaN(pe)&&(pe=PI$b/2),_symbolRadiansHalf$1[de.dataIndex]=pe,ae+=pe*2});var le=(2*PI$b-ae)/oe/2,ue=0;n.eachNode(function(de){var he=le+_symbolRadiansHalf$1[de.dataIndex];ue+=he,(!de.getLayout()||!de.getLayout().fixed)&&de.setLayout([$*Math.cos(ue)+L,$*Math.sin(ue)+V]),ue+=he})}};function rotateNodeLabel$1(g,n,r,$){var L=g.getGraphicEl();if(L){var V=g.getModel(),oe=V.get(["label","rotate"])||0,ae=L.getSymbolPath();if(n){var re=g.getLayout(),le=Math.atan2(re[1]-$,re[0]-r);le<0&&(le=Math.PI*2+le);var ue=re[0]<r;ue&&(le=le-Math.PI);var de=ue?"left":"right";ae.setTextConfig({rotation:-le,position:de,origin:"center"});var he=ae.ensureState("emphasis");extend$4(he.textConfig||(he.textConfig={}),{position:de})}else ae.setTextConfig({rotation:oe*=Math.PI/180})}}function graphCircularLayout$1(g){g.eachSeriesByType("graph",function(n){n.get("layout")==="circular"&&circularLayout$1(n,"symbolSize")})}var scaleAndAdd$2=scaleAndAdd$3;function forceLayout$1(g,n,r){for(var $=g,L=n,V=r.rect,oe=V.width,ae=V.height,re=[V.x+oe/2,V.y+ae/2],le=r.gravity==null?.1:r.gravity,ue=0;ue<$.length;ue++){var de=$[ue];de.p||(de.p=create$5(oe*(Math.random()-.5)+re[0],ae*(Math.random()-.5)+re[1])),de.pp=clone$8(de.p),de.edges=null}var he=r.friction==null?.6:r.friction,pe=he,_e,$e;return{warmUp:function(){pe=he*.8},setFixed:function(xe){$[xe].fixed=!0},setUnfixed:function(xe){$[xe].fixed=!1},beforeStep:function(xe){_e=xe},afterStep:function(xe){$e=xe},step:function(xe){_e&&_e($,L);for(var Oe=[],Ce=$.length,Ie=0;Ie<L.length;Ie++){var Ne=L[Ie];if(!Ne.ignoreForceLayout){var ze=Ne.n1,Fe=Ne.n2;sub$1(Oe,Fe.p,ze.p);var Ue=len$1(Oe)-Ne.d,At=Fe.w/(ze.w+Fe.w);isNaN(At)&&(At=0),normalize$8(Oe,Oe),!ze.fixed&&scaleAndAdd$2(ze.p,ze.p,Oe,At*Ue*pe),!Fe.fixed&&scaleAndAdd$2(Fe.p,Fe.p,Oe,-(1-At)*Ue*pe)}}for(var Ie=0;Ie<Ce;Ie++){var Et=$[Ie];Et.fixed||(sub$1(Oe,re,Et.p),scaleAndAdd$2(Et.p,Et.p,Oe,le*pe))}for(var Ie=0;Ie<Ce;Ie++)for(var ze=$[Ie],Pt=Ie+1;Pt<Ce;Pt++){var Fe=$[Pt];sub$1(Oe,Fe.p,ze.p);var Ue=len$1(Oe);Ue===0&&(set$3(Oe,Math.random()-.5,Math.random()-.5),Ue=1);var kt=(ze.rep+Fe.rep)/Ue/Ue;!ze.fixed&&scaleAndAdd$2(ze.pp,ze.pp,Oe,kt),!Fe.fixed&&scaleAndAdd$2(Fe.pp,Fe.pp,Oe,-kt)}for(var Dt=[],Ie=0;Ie<Ce;Ie++){var Et=$[Ie];Et.fixed||(sub$1(Dt,Et.p,Et.pp),scaleAndAdd$2(Et.p,Et.p,Dt,pe),copy$4(Et.pp,Et.p))}pe=pe*.992;var Lt=pe<.01;$e&&$e($,L,Lt),xe&&xe(Lt)}}}function graphForceLayout$1(g){g.eachSeriesByType("graph",function(n){var r=n.coordinateSystem;if(!(r&&r.type!=="view"))if(n.get("layout")==="force"){var $=n.preservedPoints||{},L=n.getGraph(),V=L.data,oe=L.edgeData,ae=n.getModel("force"),re=ae.get("initLayout");n.preservedPoints?V.each(function(Ie){var Ne=V.getId(Ie);V.setItemLayout(Ie,$[Ne]||[NaN,NaN])}):!re||re==="none"?simpleLayout$1(n):re==="circular"&&circularLayout$1(n,"value");var le=V.getDataExtent("value"),ue=oe.getDataExtent("value"),de=ae.get("repulsion"),he=ae.get("edgeLength"),pe=isArray$6(de)?de:[de,de],_e=isArray$6(he)?he:[he,he];_e=[_e[1],_e[0]];var $e=V.mapArray("value",function(Ie,Ne){var ze=V.getItemLayout(Ne),Fe=linearMap$5(Ie,le,pe);return isNaN(Fe)&&(Fe=(pe[0]+pe[1])/2),{w:Fe,rep:Fe,fixed:V.getItemModel(Ne).get("fixed"),p:!ze||isNaN(ze[0])||isNaN(ze[1])?null:ze}}),xe=oe.mapArray("value",function(Ie,Ne){var ze=L.getEdgeByIndex(Ne),Fe=linearMap$5(Ie,ue,_e);isNaN(Fe)&&(Fe=(_e[0]+_e[1])/2);var Ue=ze.getModel(),At=retrieve3$1(ze.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge$1(ze,n,Ne,!0),0);return{n1:$e[ze.node1.dataIndex],n2:$e[ze.node2.dataIndex],d:Fe,curveness:At,ignoreForceLayout:Ue.get("ignoreForceLayout")}}),Oe=r.getBoundingRect(),Ce=forceLayout$1($e,xe,{rect:Oe,gravity:ae.get("gravity"),friction:ae.get("friction")});Ce.beforeStep(function(Ie,Ne){for(var ze=0,Fe=Ie.length;ze<Fe;ze++)Ie[ze].fixed&&copy$4(Ie[ze].p,L.getNodeByIndex(ze).getLayout())}),Ce.afterStep(function(Ie,Ne,ze){for(var Fe=0,Ue=Ie.length;Fe<Ue;Fe++)Ie[Fe].fixed||L.getNodeByIndex(Fe).setLayout(Ie[Fe].p),$[V.getId(Fe)]=Ie[Fe].p;for(var Fe=0,Ue=Ne.length;Fe<Ue;Fe++){var At=Ne[Fe],Et=L.getEdgeByIndex(Fe),Pt=At.n1.p,kt=At.n2.p,Dt=Et.getLayout();Dt=Dt?Dt.slice():[],Dt[0]=Dt[0]||[],Dt[1]=Dt[1]||[],copy$4(Dt[0],Pt),copy$4(Dt[1],kt),+At.curveness&&(Dt[2]=[(Pt[0]+kt[0])/2-(Pt[1]-kt[1])*At.curveness,(Pt[1]+kt[1])/2-(kt[0]-Pt[0])*At.curveness]),Et.setLayout(Dt)}}),n.forceLayout=Ce,n.preservedPoints=$,Ce.step()}else n.forceLayout=null})}function getViewRect$9(g,n,r){var $=extend$4(g.getBoxLayoutParams(),{aspect:r});return getLayoutRect$1($,{width:n.getWidth(),height:n.getHeight()})}function createViewCoordSys$1(g,n){var r=[];return g.eachSeriesByType("graph",function($){var L=$.get("coordinateSystem");if(!L||L==="view"){var V=$.getData(),oe=V.mapArray(function(xe){var Oe=V.getItemModel(xe);return[+Oe.get("x"),+Oe.get("y")]}),ae=[],re=[];fromPoints$1(oe,ae,re),re[0]-ae[0]===0&&(re[0]+=1,ae[0]-=1),re[1]-ae[1]===0&&(re[1]+=1,ae[1]-=1);var le=(re[0]-ae[0])/(re[1]-ae[1]),ue=getViewRect$9($,n,le);isNaN(le)&&(ae=[ue.x,ue.y],re=[ue.x+ue.width,ue.y+ue.height]);var de=re[0]-ae[0],he=re[1]-ae[1],pe=ue.width,_e=ue.height,$e=$.coordinateSystem=new View$3;$e.zoomLimit=$.get("scaleLimit"),$e.setBoundingRect(ae[0],ae[1],de,he),$e.setViewRect(ue.x,ue.y,pe,_e),$e.setCenter($.get("center"),n),$e.setZoom($.get("zoom")),r.push($e)}}),r}var straightLineProto$1=Line$8.prototype,bezierCurveProto$1=BezierCurve$3.prototype,StraightLineShape$1=function(){function g(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return g}();(function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n})(StraightLineShape$1);function isStraightLine$1(g){return isNaN(+g.cpx1)||isNaN(+g.cpy1)}var ECLinePath$2=function(g){__extends$2(n,g);function n(r){var $=g.call(this,r)||this;return $.type="ec-line",$}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new StraightLineShape$1},n.prototype.buildPath=function(r,$){isStraightLine$1($)?straightLineProto$1.buildPath.call(this,r,$):bezierCurveProto$1.buildPath.call(this,r,$)},n.prototype.pointAt=function(r){return isStraightLine$1(this.shape)?straightLineProto$1.pointAt.call(this,r):bezierCurveProto$1.pointAt.call(this,r)},n.prototype.tangentAt=function(r){var $=this.shape,L=isStraightLine$1($)?[$.x2-$.x1,$.y2-$.y1]:bezierCurveProto$1.tangentAt.call(this,r);return normalize$8(L,L)},n}(Path$3);const ECLinePath$3=ECLinePath$2;var SYMBOL_CATEGORIES$1=["fromSymbol","toSymbol"];function makeSymbolTypeKey$1(g){return"_"+g+"Type"}function createSymbol$2(g,n,r){var $=n.getItemVisual(r,g);if(!(!$||$==="none")){var L=n.getItemVisual(r,g+"Size"),V=n.getItemVisual(r,g+"Rotate"),oe=n.getItemVisual(r,g+"Offset"),ae=n.getItemVisual(r,g+"KeepAspect"),re=normalizeSymbolSize$1(L),le=normalizeSymbolOffset$1(oe||0,re),ue=createSymbol$3($,-re[0]/2+le[0],-re[1]/2+le[1],re[0],re[1],null,ae);return ue.__specifiedRotation=V==null||isNaN(V)?void 0:+V*Math.PI/180||0,ue.name=g,ue}}function createLine$1(g){var n=new ECLinePath$3({name:"line",subPixelOptimize:!0});return setLinePoints$1(n.shape,g),n}function setLinePoints$1(g,n){g.x1=n[0][0],g.y1=n[0][1],g.x2=n[1][0],g.y2=n[1][1],g.percent=1;var r=n[2];r?(g.cpx1=r[0],g.cpy1=r[1]):(g.cpx1=NaN,g.cpy1=NaN)}var Line$5=function(g){__extends$2(n,g);function n(r,$,L){var V=g.call(this)||this;return V._createLine(r,$,L),V}return n.prototype._createLine=function(r,$,L){var V=r.hostModel,oe=r.getItemLayout($),ae=createLine$1(oe);ae.shape.percent=0,initProps$1(ae,{shape:{percent:1}},V,$),this.add(ae),each$v(SYMBOL_CATEGORIES$1,function(re){var le=createSymbol$2(re,r,$);this.add(le),this[makeSymbolTypeKey$1(re)]=r.getItemVisual($,re)},this),this._updateCommonStl(r,$,L)},n.prototype.updateData=function(r,$,L){var V=r.hostModel,oe=this.childOfName("line"),ae=r.getItemLayout($),re={shape:{}};setLinePoints$1(re.shape,ae),updateProps$3(oe,re,V,$),each$v(SYMBOL_CATEGORIES$1,function(le){var ue=r.getItemVisual($,le),de=makeSymbolTypeKey$1(le);if(this[de]!==ue){this.remove(this.childOfName(le));var he=createSymbol$2(le,r,$);this.add(he)}this[de]=ue},this),this._updateCommonStl(r,$,L)},n.prototype.getLinePath=function(){return this.childAt(0)},n.prototype._updateCommonStl=function(r,$,L){var V=r.hostModel,oe=this.childOfName("line"),ae=L&&L.emphasisLineStyle,re=L&&L.blurLineStyle,le=L&&L.selectLineStyle,ue=L&&L.labelStatesModels,de=L&&L.emphasisDisabled,he=L&&L.focus,pe=L&&L.blurScope;if(!L||r.hasItemOption){var _e=r.getItemModel($),$e=_e.getModel("emphasis");ae=$e.getModel("lineStyle").getLineStyle(),re=_e.getModel(["blur","lineStyle"]).getLineStyle(),le=_e.getModel(["select","lineStyle"]).getLineStyle(),de=$e.get("disabled"),he=$e.get("focus"),pe=$e.get("blurScope"),ue=getLabelStatesModels$1(_e)}var xe=r.getItemVisual($,"style"),Oe=xe.stroke;oe.useStyle(xe),oe.style.fill=null,oe.style.strokeNoScale=!0,oe.ensureState("emphasis").style=ae,oe.ensureState("blur").style=re,oe.ensureState("select").style=le,each$v(SYMBOL_CATEGORIES$1,function(Fe){var Ue=this.childOfName(Fe);if(Ue){Ue.setColor(Oe),Ue.style.opacity=xe.opacity;for(var At=0;At<SPECIAL_STATES$1.length;At++){var Et=SPECIAL_STATES$1[At],Pt=oe.getState(Et);if(Pt){var kt=Pt.style||{},Dt=Ue.ensureState(Et),Lt=Dt.style||(Dt.style={});kt.stroke!=null&&(Lt[Ue.__isEmptyBrush?"stroke":"fill"]=kt.stroke),kt.opacity!=null&&(Lt.opacity=kt.opacity)}}Ue.markRedraw()}},this);var Ce=V.getRawValue($);setLabelStyle$1(this,ue,{labelDataIndex:$,labelFetcher:{getFormattedLabel:function(Fe,Ue){return V.getFormattedLabel(Fe,Ue,r.dataType)}},inheritColor:Oe||"#000",defaultOpacity:xe.opacity,defaultText:(Ce==null?r.getName($):isFinite(Ce)?round$7(Ce):Ce)+""});var Ie=this.getTextContent();if(Ie){var Ne=ue.normal;Ie.__align=Ie.style.align,Ie.__verticalAlign=Ie.style.verticalAlign,Ie.__position=Ne.get("position")||"middle";var ze=Ne.get("distance");isArray$6(ze)||(ze=[ze,ze]),Ie.__labelDistance=ze}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis$1(this,he,pe,de)},n.prototype.highlight=function(){enterEmphasis$1(this)},n.prototype.downplay=function(){leaveEmphasis$1(this)},n.prototype.updateLayout=function(r,$){this.setLinePoints(r.getItemLayout($))},n.prototype.setLinePoints=function(r){var $=this.childOfName("line");setLinePoints$1($.shape,r),$.dirty()},n.prototype.beforeUpdate=function(){var r=this,$=r.childOfName("fromSymbol"),L=r.childOfName("toSymbol"),V=r.getTextContent();if(!$&&!L&&(!V||V.ignore))return;for(var oe=1,ae=this.parent;ae;)ae.scaleX&&(oe/=ae.scaleX),ae=ae.parent;var re=r.childOfName("line");if(!this.__dirty&&!re.__dirty)return;var le=re.shape.percent,ue=re.pointAt(0),de=re.pointAt(le),he=sub$1([],de,ue);normalize$8(he,he);function pe(Pt,kt){var Dt=Pt.__specifiedRotation;if(Dt==null){var Lt=re.tangentAt(kt);Pt.attr("rotation",(kt===1?-1:1)*Math.PI/2-Math.atan2(Lt[1],Lt[0]))}else Pt.attr("rotation",Dt)}if($&&($.setPosition(ue),pe($,0),$.scaleX=$.scaleY=oe*le,$.markRedraw()),L&&(L.setPosition(de),pe(L,1),L.scaleX=L.scaleY=oe*le,L.markRedraw()),V&&!V.ignore){V.x=V.y=0,V.originX=V.originY=0;var _e=void 0,$e=void 0,xe=V.__labelDistance,Oe=xe[0]*oe,Ce=xe[1]*oe,Ie=le/2,Ne=re.tangentAt(Ie),ze=[Ne[1],-Ne[0]],Fe=re.pointAt(Ie);ze[1]>0&&(ze[0]=-ze[0],ze[1]=-ze[1]);var Ue=Ne[0]<0?-1:1;if(V.__position!=="start"&&V.__position!=="end"){var At=-Math.atan2(Ne[1],Ne[0]);de[0]<ue[0]&&(At=Math.PI+At),V.rotation=At}var Et=void 0;switch(V.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":Et=-Ce,$e="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":Et=Ce,$e="top";break;default:Et=0,$e="middle"}switch(V.__position){case"end":V.x=he[0]*Oe+de[0],V.y=he[1]*Ce+de[1],_e=he[0]>.8?"left":he[0]<-.8?"right":"center",$e=he[1]>.8?"top":he[1]<-.8?"bottom":"middle";break;case"start":V.x=-he[0]*Oe+ue[0],V.y=-he[1]*Ce+ue[1],_e=he[0]>.8?"right":he[0]<-.8?"left":"center",$e=he[1]>.8?"bottom":he[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":V.x=Oe*Ue+ue[0],V.y=ue[1]+Et,_e=Ne[0]<0?"right":"left",V.originX=-Oe*Ue,V.originY=-Et;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":V.x=Fe[0],V.y=Fe[1]+Et,_e="center",V.originY=-Et;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":V.x=-Oe*Ue+de[0],V.y=de[1]+Et,_e=Ne[0]>=0?"right":"left",V.originX=Oe*Ue,V.originY=-Et;break}V.scaleX=V.scaleY=oe,V.setStyle({verticalAlign:V.__verticalAlign||$e,align:V.__align||_e})}},n}(Group$9);const Line$6=Line$5;var LineDraw$2=function(){function g(n){this.group=new Group$9,this._LineCtor=n||Line$6}return g.prototype.updateData=function(n){var r=this;this._progressiveEls=null;var $=this,L=$.group,V=$._lineData;$._lineData=n,V||L.removeAll();var oe=makeSeriesScope$4(n);n.diff(V).add(function(ae){r._doAdd(n,ae,oe)}).update(function(ae,re){r._doUpdate(V,n,re,ae,oe)}).remove(function(ae){L.remove(V.getItemGraphicEl(ae))}).execute()},g.prototype.updateLayout=function(){var n=this._lineData;!n||n.eachItemGraphicEl(function(r,$){r.updateLayout(n,$)},this)},g.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=makeSeriesScope$4(n),this._lineData=null,this.group.removeAll()},g.prototype.incrementalUpdate=function(n,r){this._progressiveEls=[];function $(ae){!ae.isGroup&&!isEffectObject$1(ae)&&(ae.incremental=!0,ae.ensureState("emphasis").hoverLayer=!0)}for(var L=n.start;L<n.end;L++){var V=r.getItemLayout(L);if(lineNeedsDraw$1(V)){var oe=new this._LineCtor(r,L,this._seriesScope);oe.traverse($),this.group.add(oe),r.setItemGraphicEl(L,oe),this._progressiveEls.push(oe)}}},g.prototype.remove=function(){this.group.removeAll()},g.prototype.eachRendered=function(n){traverseElements$1(this._progressiveEls||this.group,n)},g.prototype._doAdd=function(n,r,$){var L=n.getItemLayout(r);if(lineNeedsDraw$1(L)){var V=new this._LineCtor(n,r,$);n.setItemGraphicEl(r,V),this.group.add(V)}},g.prototype._doUpdate=function(n,r,$,L,V){var oe=n.getItemGraphicEl($);if(!lineNeedsDraw$1(r.getItemLayout(L))){this.group.remove(oe);return}oe?oe.updateData(r,L,V):oe=new this._LineCtor(r,L,V),r.setItemGraphicEl(L,oe),this.group.add(oe)},g}();function isEffectObject$1(g){return g.animators&&g.animators.length>0}function makeSeriesScope$4(g){var n=g.hostModel,r=n.getModel("emphasis");return{lineStyle:n.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:n.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:n.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:getLabelStatesModels$1(n)}}function isPointNaN$1(g){return isNaN(g[0])||isNaN(g[1])}function lineNeedsDraw$1(g){return g&&!isPointNaN$1(g[0])&&!isPointNaN$1(g[1])}const LineDraw$3=LineDraw$2;var v1$1=[],v2$1=[],v3$1=[],quadraticAt$2=quadraticAt$3,v2DistSquare$1=distSquare$1,mathAbs$3=Math.abs;function intersectCurveCircle$1(g,n,r){for(var $=g[0],L=g[1],V=g[2],oe=1/0,ae,re=r*r,le=.1,ue=.1;ue<=.9;ue+=.1){v1$1[0]=quadraticAt$2($[0],L[0],V[0],ue),v1$1[1]=quadraticAt$2($[1],L[1],V[1],ue);var de=mathAbs$3(v2DistSquare$1(v1$1,n)-re);de<oe&&(oe=de,ae=ue)}for(var he=0;he<32;he++){var pe=ae+le;v2$1[0]=quadraticAt$2($[0],L[0],V[0],ae),v2$1[1]=quadraticAt$2($[1],L[1],V[1],ae),v3$1[0]=quadraticAt$2($[0],L[0],V[0],pe),v3$1[1]=quadraticAt$2($[1],L[1],V[1],pe);var de=v2DistSquare$1(v2$1,n)-re;if(mathAbs$3(de)<.01)break;var _e=v2DistSquare$1(v3$1,n)-re;le/=2,de<0?_e>=0?ae=ae+le:ae=ae-le:_e>=0?ae=ae-le:ae=ae+le}return ae}function adjustEdge$1(g,n){var r=[],$=quadraticSubdivide$1,L=[[],[],[]],V=[[],[]],oe=[];n/=2,g.eachEdge(function(ae,re){var le=ae.getLayout(),ue=ae.getVisual("fromSymbol"),de=ae.getVisual("toSymbol");le.__original||(le.__original=[clone$8(le[0]),clone$8(le[1])],le[2]&&le.__original.push(clone$8(le[2])));var he=le.__original;if(le[2]!=null){if(copy$4(L[0],he[0]),copy$4(L[1],he[2]),copy$4(L[2],he[1]),ue&&ue!=="none"){var pe=getSymbolSize$1(ae.node1),_e=intersectCurveCircle$1(L,he[0],pe*n);$(L[0][0],L[1][0],L[2][0],_e,r),L[0][0]=r[3],L[1][0]=r[4],$(L[0][1],L[1][1],L[2][1],_e,r),L[0][1]=r[3],L[1][1]=r[4]}if(de&&de!=="none"){var pe=getSymbolSize$1(ae.node2),_e=intersectCurveCircle$1(L,he[1],pe*n);$(L[0][0],L[1][0],L[2][0],_e,r),L[1][0]=r[1],L[2][0]=r[2],$(L[0][1],L[1][1],L[2][1],_e,r),L[1][1]=r[1],L[2][1]=r[2]}copy$4(le[0],L[0]),copy$4(le[1],L[2]),copy$4(le[2],L[1])}else{if(copy$4(V[0],he[0]),copy$4(V[1],he[1]),sub$1(oe,V[1],V[0]),normalize$8(oe,oe),ue&&ue!=="none"){var pe=getSymbolSize$1(ae.node1);scaleAndAdd$3(V[0],V[0],oe,pe*n)}if(de&&de!=="none"){var pe=getSymbolSize$1(ae.node2);scaleAndAdd$3(V[1],V[1],oe,-pe*n)}copy$4(le[0],V[0]),copy$4(le[1],V[1])}})}function isViewCoordSys$1(g){return g.type==="view"}var GraphView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$){var L=new SymbolDraw$3,V=new LineDraw$3,oe=this.group;this._controller=new RoamController$3($.getZr()),this._controllerHost={target:oe},oe.add(L.group),oe.add(V.group),this._symbolDraw=L,this._lineDraw=V,this._firstRender=!0},n.prototype.render=function(r,$,L){var V=this,oe=r.coordinateSystem;this._model=r;var ae=this._symbolDraw,re=this._lineDraw,le=this.group;if(isViewCoordSys$1(oe)){var ue={x:oe.x,y:oe.y,scaleX:oe.scaleX,scaleY:oe.scaleY};this._firstRender?le.attr(ue):updateProps$3(le,ue,r)}adjustEdge$1(r.getGraph(),getNodeGlobalScale$1(r));var de=r.getData();ae.updateData(de);var he=r.getEdgeData();re.updateData(he),this._updateNodeAndLinkScale(),this._updateController(r,$,L),clearTimeout(this._layoutTimeout);var pe=r.forceLayout,_e=r.get(["force","layoutAnimation"]);pe&&this._startForceLayoutIteration(pe,_e);var $e=r.get("layout");de.graph.eachNode(function(Ie){var Ne=Ie.dataIndex,ze=Ie.getGraphicEl(),Fe=Ie.getModel();if(ze){ze.off("drag").off("dragend");var Ue=Fe.get("draggable");Ue&&ze.on("drag",function(Et){switch($e){case"force":pe.warmUp(),!V._layouting&&V._startForceLayoutIteration(pe,_e),pe.setFixed(Ne),de.setItemLayout(Ne,[ze.x,ze.y]);break;case"circular":de.setItemLayout(Ne,[ze.x,ze.y]),Ie.setLayout({fixed:!0},!0),circularLayout$1(r,"symbolSize",Ie,[Et.offsetX,Et.offsetY]),V.updateLayout(r);break;case"none":default:de.setItemLayout(Ne,[ze.x,ze.y]),simpleLayoutEdge$1(r.getGraph(),r),V.updateLayout(r);break}}).on("dragend",function(){pe&&pe.setUnfixed(Ne)}),ze.setDraggable(Ue,!!Fe.get("cursor"));var At=Fe.get(["emphasis","focus"]);At==="adjacency"&&(getECData$1(ze).focus=Ie.getAdjacentDataIndices())}}),de.graph.eachEdge(function(Ie){var Ne=Ie.getGraphicEl(),ze=Ie.getModel().get(["emphasis","focus"]);!Ne||ze==="adjacency"&&(getECData$1(Ne).focus={edge:[Ie.dataIndex],node:[Ie.node1.dataIndex,Ie.node2.dataIndex]})});var xe=r.get("layout")==="circular"&&r.get(["circular","rotateLabel"]),Oe=de.getLayout("cx"),Ce=de.getLayout("cy");de.graph.eachNode(function(Ie){rotateNodeLabel$1(Ie,xe,Oe,Ce)}),this._firstRender=!1},n.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype._startForceLayoutIteration=function(r,$){var L=this;(function V(){r.step(function(oe){L.updateLayout(L._model),(L._layouting=!oe)&&($?L._layoutTimeout=setTimeout(V,16):V())})})()},n.prototype._updateController=function(r,$,L){var V=this,oe=this._controller,ae=this._controllerHost,re=this.group;if(oe.setPointerChecker(function(le,ue,de){var he=re.getBoundingRect();return he.applyTransform(re.transform),he.contain(ue,de)&&!onIrrelevantElement$1(le,L,r)}),!isViewCoordSys$1(r.coordinateSystem)){oe.disable();return}oe.enable(r.get("roam")),ae.zoomLimit=r.get("scaleLimit"),ae.zoom=r.coordinateSystem.getZoom(),oe.off("pan").off("zoom").on("pan",function(le){updateViewOnPan$1(ae,le.dx,le.dy),L.dispatchAction({seriesId:r.id,type:"graphRoam",dx:le.dx,dy:le.dy})}).on("zoom",function(le){updateViewOnZoom$1(ae,le.scale,le.originX,le.originY),L.dispatchAction({seriesId:r.id,type:"graphRoam",zoom:le.scale,originX:le.originX,originY:le.originY}),V._updateNodeAndLinkScale(),adjustEdge$1(r.getGraph(),getNodeGlobalScale$1(r)),V._lineDraw.updateLayout(),L.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(){var r=this._model,$=r.getData(),L=getNodeGlobalScale$1(r);$.eachItemGraphicEl(function(V,oe){V&&V.setSymbolScale(L)})},n.prototype.updateLayout=function(r){adjustEdge$1(r.getGraph(),getNodeGlobalScale$1(r)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},n.prototype.remove=function(r,$){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},n.type="graph",n}(ChartView$3);const GraphView$3=GraphView$2;function generateNodeKey$1(g){return"_EC_"+g}var Graph$2=function(){function g(n){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=n||!1}return g.prototype.isDirected=function(){return this._directed},g.prototype.addNode=function(n,r){n=n==null?""+r:""+n;var $=this._nodesMap;if(!$[generateNodeKey$1(n)]){var L=new GraphNode$1(n,r);return L.hostGraph=this,this.nodes.push(L),$[generateNodeKey$1(n)]=L,L}},g.prototype.getNodeByIndex=function(n){var r=this.data.getRawIndex(n);return this.nodes[r]},g.prototype.getNodeById=function(n){return this._nodesMap[generateNodeKey$1(n)]},g.prototype.addEdge=function(n,r,$){var L=this._nodesMap,V=this._edgesMap;if(isNumber$3(n)&&(n=this.nodes[n]),isNumber$3(r)&&(r=this.nodes[r]),n instanceof GraphNode$1||(n=L[generateNodeKey$1(n)]),r instanceof GraphNode$1||(r=L[generateNodeKey$1(r)]),!(!n||!r)){var oe=n.id+"-"+r.id,ae=new GraphEdge$1(n,r,$);return ae.hostGraph=this,this._directed&&(n.outEdges.push(ae),r.inEdges.push(ae)),n.edges.push(ae),n!==r&&r.edges.push(ae),this.edges.push(ae),V[oe]=ae,ae}},g.prototype.getEdgeByIndex=function(n){var r=this.edgeData.getRawIndex(n);return this.edges[r]},g.prototype.getEdge=function(n,r){n instanceof GraphNode$1&&(n=n.id),r instanceof GraphNode$1&&(r=r.id);var $=this._edgesMap;return this._directed?$[n+"-"+r]:$[n+"-"+r]||$[r+"-"+n]},g.prototype.eachNode=function(n,r){for(var $=this.nodes,L=$.length,V=0;V<L;V++)$[V].dataIndex>=0&&n.call(r,$[V],V)},g.prototype.eachEdge=function(n,r){for(var $=this.edges,L=$.length,V=0;V<L;V++)$[V].dataIndex>=0&&$[V].node1.dataIndex>=0&&$[V].node2.dataIndex>=0&&n.call(r,$[V],V)},g.prototype.breadthFirstTraverse=function(n,r,$,L){if(r instanceof GraphNode$1||(r=this._nodesMap[generateNodeKey$1(r)]),!!r){for(var V=$==="out"?"outEdges":$==="in"?"inEdges":"edges",oe=0;oe<this.nodes.length;oe++)this.nodes[oe].__visited=!1;if(!n.call(L,r,null))for(var ae=[r];ae.length;)for(var re=ae.shift(),le=re[V],oe=0;oe<le.length;oe++){var ue=le[oe],de=ue.node1===re?ue.node2:ue.node1;if(!de.__visited){if(n.call(L,de,re))return;ae.push(de),de.__visited=!0}}}},g.prototype.update=function(){for(var n=this.data,r=this.edgeData,$=this.nodes,L=this.edges,V=0,oe=$.length;V<oe;V++)$[V].dataIndex=-1;for(var V=0,oe=n.count();V<oe;V++)$[n.getRawIndex(V)].dataIndex=V;r.filterSelf(function(ae){var re=L[r.getRawIndex(ae)];return re.node1.dataIndex>=0&&re.node2.dataIndex>=0});for(var V=0,oe=L.length;V<oe;V++)L[V].dataIndex=-1;for(var V=0,oe=r.count();V<oe;V++)L[r.getRawIndex(V)].dataIndex=V},g.prototype.clone=function(){for(var n=new g(this._directed),r=this.nodes,$=this.edges,L=0;L<r.length;L++)n.addNode(r[L].id,r[L].dataIndex);for(var L=0;L<$.length;L++){var V=$[L];n.addEdge(V.node1.id,V.node2.id,V.dataIndex)}return n},g}(),GraphNode$1=function(){function g(n,r){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=n!=null?n:"",this.dataIndex=r!=null?r:-1}return g.prototype.degree=function(){return this.edges.length},g.prototype.inDegree=function(){return this.inEdges.length},g.prototype.outDegree=function(){return this.outEdges.length},g.prototype.getModel=function(n){if(!(this.dataIndex<0)){var r=this.hostGraph,$=r.data.getItemModel(this.dataIndex);return $.getModel(n)}},g.prototype.getAdjacentDataIndices=function(){for(var n={edge:[],node:[]},r=0;r<this.edges.length;r++){var $=this.edges[r];$.dataIndex<0||(n.edge.push($.dataIndex),n.node.push($.node1.dataIndex,$.node2.dataIndex))}return n},g}(),GraphEdge$1=function(){function g(n,r,$){this.dataIndex=-1,this.node1=n,this.node2=r,this.dataIndex=$!=null?$:-1}return g.prototype.getModel=function(n){if(!(this.dataIndex<0)){var r=this.hostGraph,$=r.edgeData.getItemModel(this.dataIndex);return $.getModel(n)}},g.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},g}();function createGraphDataProxyMixin$1(g,n){return{getValue:function(r){var $=this[g][n];return $.getStore().get($.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,$){this.dataIndex>=0&&this[g][n].setItemVisual(this.dataIndex,r,$)},getVisual:function(r){return this[g][n].getItemVisual(this.dataIndex,r)},setLayout:function(r,$){this.dataIndex>=0&&this[g][n].setItemLayout(this.dataIndex,r,$)},getLayout:function(){return this[g][n].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[g][n].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[g][n].getRawIndex(this.dataIndex)}}}mixin$1(GraphNode$1,createGraphDataProxyMixin$1("hostGraph","data")),mixin$1(GraphEdge$1,createGraphDataProxyMixin$1("hostGraph","edgeData"));const Graph$3=Graph$2;function createGraphFromNodeEdge$1(g,n,r,$,L){for(var V=new Graph$3($),oe=0;oe<g.length;oe++)V.addNode(retrieve$1(g[oe].id,g[oe].name,oe),oe);for(var ae=[],re=[],le=0,oe=0;oe<n.length;oe++){var ue=n[oe],de=ue.source,he=ue.target;V.addEdge(de,he,le)&&(re.push(ue),ae.push(retrieve$1(convertOptionIdName$1(ue.id,null),de+" > "+he)),le++)}var pe=r.get("coordinateSystem"),_e;if(pe==="cartesian2d"||pe==="polar")_e=createSeriesData$1(g,r);else{var $e=CoordinateSystem$1.get(pe),xe=$e?$e.dimensions||[]:[];indexOf$1(xe,"value")<0&&xe.concat(["value"]);var Oe=prepareSeriesDataSchema$1(g,{coordDimensions:xe,encodeDefine:r.getEncode()}).dimensions;_e=new SeriesData$3(Oe,r),_e.initData(g)}var Ce=new SeriesData$3(["value"],r);return Ce.initData(re,ae),L&&L(_e,Ce),linkSeriesData$1({mainData:_e,struct:V,structAttr:"graph",datas:{node:_e,edge:Ce},datasAttr:{node:"data",edge:"edgeData"}}),V.update(),V}var GraphSeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.init=function(r){g.prototype.init.apply(this,arguments);var $=this;function L(){return $._categoriesData}this.legendVisualProvider=new LegendVisualProvider$3(L,L),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},n.prototype.mergeOption=function(r){g.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},n.prototype.mergeDefaultAndTheme=function(r){g.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis$1(r,"edgeLabel",["show"])},n.prototype.getInitialData=function(r,$){var L=r.edges||r.links||[],V=r.data||r.nodes||[],oe=this;if(V&&L){initCurvenessList$1(this);var ae=createGraphFromNodeEdge$1(V,L,this,!0,re);return each$v(ae.edges,function(le){createEdgeMapForCurveness$1(le.node1,le.node2,this,le.dataIndex)},this),ae.data}function re(le,ue){le.wrapMethod("getItemModel",function(_e){var $e=oe._categoriesModels,xe=_e.getShallow("category"),Oe=$e[xe];return Oe&&(Oe.parentModel=_e.parentModel,_e.parentModel=Oe),_e});var de=Model$3.prototype.getModel;function he(_e,$e){var xe=de.call(this,_e,$e);return xe.resolveParentPath=pe,xe}ue.wrapMethod("getItemModel",function(_e){return _e.resolveParentPath=pe,_e.getModel=he,_e});function pe(_e){if(_e&&(_e[0]==="label"||_e[1]==="label")){var $e=_e.slice();return _e[0]==="label"?$e[0]="edgeLabel":_e[1]==="label"&&($e[1]="edgeLabel"),$e}return _e}}},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.getCategoriesData=function(){return this._categoriesData},n.prototype.formatTooltip=function(r,$,L){if(L==="edge"){var V=this.getData(),oe=this.getDataParams(r,L),ae=V.graph.getEdgeByIndex(r),re=V.getName(ae.node1.dataIndex),le=V.getName(ae.node2.dataIndex),ue=[];return re!=null&&ue.push(re),le!=null&&ue.push(le),createTooltipMarkup$1("nameValue",{name:ue.join(" > "),value:oe.value,noValue:oe.value==null})}var de=defaultSeriesFormatTooltip$1({series:this,dataIndex:r,multipleSeries:$});return de},n.prototype._updateCategoriesData=function(){var r=map$3(this.option.categories||[],function(L){return L.value!=null?L:extend$4({value:0},L)}),$=new SeriesData$3(["value"],this);$.initData(r),this._categoriesData=$,this._categoriesModels=$.mapArray(function(L){return $.getItemModel(L)})},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.isAnimationEnabled=function(){return g.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},n.type="series.graph",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel$3);const GraphSeriesModel$3=GraphSeriesModel$2;var actionInfo$3={type:"graphRoam",event:"graphRoam",update:"none"};function install$1y(g){g.registerChartView(GraphView$3),g.registerSeriesModel(GraphSeriesModel$3),g.registerProcessor(categoryFilter$1),g.registerVisual(categoryVisual$1),g.registerVisual(graphEdgeVisual$1),g.registerLayout(graphSimpleLayout$1),g.registerLayout(g.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout$1),g.registerLayout(graphForceLayout$1),g.registerCoordinateSystem("graphView",{dimensions:View$3.dimensions,create:createViewCoordSys$1}),g.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},noop$4),g.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},noop$4),g.registerAction(actionInfo$3,function(n,r,$){r.eachComponent({mainType:"series",query:n},function(L){var V=L.coordinateSystem,oe=updateCenterAndZoom$1(V,n,void 0,$);L.setCenter&&L.setCenter(oe.center),L.setZoom&&L.setZoom(oe.zoom)})})}var PointerShape$1=function(){function g(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return g}(),PointerPath$2=function(g){__extends$2(n,g);function n(r){var $=g.call(this,r)||this;return $.type="pointer",$}return n.prototype.getDefaultShape=function(){return new PointerShape$1},n.prototype.buildPath=function(r,$){var L=Math.cos,V=Math.sin,oe=$.r,ae=$.width,re=$.angle,le=$.x-L(re)*ae*(ae>=oe/3?1:2),ue=$.y-V(re)*ae*(ae>=oe/3?1:2);re=$.angle-Math.PI/2,r.moveTo(le,ue),r.lineTo($.x+L(re)*ae,$.y+V(re)*ae),r.lineTo($.x+L($.angle)*oe,$.y+V($.angle)*oe),r.lineTo($.x-L(re)*ae,$.y-V(re)*ae),r.lineTo(le,ue)},n}(Path$3);const PointerPath$3=PointerPath$2;function parsePosition$1(g,n){var r=g.get("center"),$=n.getWidth(),L=n.getHeight(),V=Math.min($,L),oe=parsePercent$2(r[0],n.getWidth()),ae=parsePercent$2(r[1],n.getHeight()),re=parsePercent$2(g.get("radius"),V/2);return{cx:oe,cy:ae,r:re}}function formatLabel$1(g,n){var r=g==null?"":g+"";return n&&(isString$3(n)?r=n.replace("{value}",r):isFunction$3(n)&&(r=n(g))),r}var GaugeView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){this.group.removeAll();var V=r.get(["axisLine","lineStyle","color"]),oe=parsePosition$1(r,L);this._renderMain(r,$,L,V,oe),this._data=r.getData()},n.prototype.dispose=function(){},n.prototype._renderMain=function(r,$,L,V,oe){var ae=this.group,re=r.get("clockwise"),le=-r.get("startAngle")/180*Math.PI,ue=-r.get("endAngle")/180*Math.PI,de=r.getModel("axisLine"),he=de.get("roundCap"),pe=he?Sausage$1:Sector$3,_e=de.get("show"),$e=de.getModel("lineStyle"),xe=$e.get("width"),Oe=[le,ue];normalizeArcAngles$1(Oe,!re),le=Oe[0],ue=Oe[1];for(var Ce=ue-le,Ie=le,Ne=[],ze=0;_e&&ze<V.length;ze++){var Fe=Math.min(Math.max(V[ze][0],0),1);ue=le+Ce*Fe;var Ue=new pe({shape:{startAngle:Ie,endAngle:ue,cx:oe.cx,cy:oe.cy,clockwise:re,r0:oe.r-xe,r:oe.r},silent:!0});Ue.setStyle({fill:V[ze][1]}),Ue.setStyle($e.getLineStyle(["color","width"])),Ne.push(Ue),Ie=ue}Ne.reverse(),each$v(Ne,function(Et){return ae.add(Et)});var At=function(Et){if(Et<=0)return V[0][1];var Pt;for(Pt=0;Pt<V.length;Pt++)if(V[Pt][0]>=Et&&(Pt===0?0:V[Pt-1][0])<Et)return V[Pt][1];return V[Pt-1][1]};this._renderTicks(r,$,L,At,oe,le,ue,re,xe),this._renderTitleAndDetail(r,$,L,At,oe),this._renderAnchor(r,oe),this._renderPointer(r,$,L,At,oe,le,ue,re,xe)},n.prototype._renderTicks=function(r,$,L,V,oe,ae,re,le,ue){for(var de=this.group,he=oe.cx,pe=oe.cy,_e=oe.r,$e=+r.get("min"),xe=+r.get("max"),Oe=r.getModel("splitLine"),Ce=r.getModel("axisTick"),Ie=r.getModel("axisLabel"),Ne=r.get("splitNumber"),ze=Ce.get("splitNumber"),Fe=parsePercent$2(Oe.get("length"),_e),Ue=parsePercent$2(Ce.get("length"),_e),At=ae,Et=(re-ae)/Ne,Pt=Et/ze,kt=Oe.getModel("lineStyle").getLineStyle(),Dt=Ce.getModel("lineStyle").getLineStyle(),Lt=Oe.get("distance"),hn,vn,_n=0;_n<=Ne;_n++){if(hn=Math.cos(At),vn=Math.sin(At),Oe.get("show")){var $n=Lt?Lt+ue:ue,Sn=new Line$8({shape:{x1:hn*(_e-$n)+he,y1:vn*(_e-$n)+pe,x2:hn*(_e-Fe-$n)+he,y2:vn*(_e-Fe-$n)+pe},style:kt,silent:!0});kt.stroke==="auto"&&Sn.setStyle({stroke:V(_n/Ne)}),de.add(Sn)}if(Ie.get("show")){var $n=Ie.get("distance")+Lt,xn=formatLabel$1(round$7(_n/Ne*(xe-$e)+$e),Ie.get("formatter")),On=V(_n/Ne),Cn=hn*(_e-Fe-$n)+he,An=vn*(_e-Fe-$n)+pe,Rn=Ie.get("rotate"),Fn=0;Rn==="radial"?(Fn=-At+2*Math.PI,Fn>Math.PI/2&&(Fn+=Math.PI)):Rn==="tangential"?Fn=-At-Math.PI/2:isNumber$3(Rn)&&(Fn=Rn*Math.PI/180),Fn===0?de.add(new ZRText$3({style:createTextStyle$1(Ie,{text:xn,x:Cn,y:An,verticalAlign:vn<-.8?"top":vn>.8?"bottom":"middle",align:hn<-.4?"left":hn>.4?"right":"center"},{inheritColor:On}),silent:!0})):de.add(new ZRText$3({style:createTextStyle$1(Ie,{text:xn,x:Cn,y:An,verticalAlign:"middle",align:"center"},{inheritColor:On}),silent:!0,originX:Cn,originY:An,rotation:Fn}))}if(Ce.get("show")&&_n!==Ne){var $n=Ce.get("distance");$n=$n?$n+ue:ue;for(var Pn=0;Pn<=ze;Pn++){hn=Math.cos(At),vn=Math.sin(At);var Un=new Line$8({shape:{x1:hn*(_e-$n)+he,y1:vn*(_e-$n)+pe,x2:hn*(_e-Ue-$n)+he,y2:vn*(_e-Ue-$n)+pe},silent:!0,style:Dt});Dt.stroke==="auto"&&Un.setStyle({stroke:V((_n+Pn/ze)/Ne)}),de.add(Un),At+=Pt}At-=Pt}else At+=Et}},n.prototype._renderPointer=function(r,$,L,V,oe,ae,re,le,ue){var de=this.group,he=this._data,pe=this._progressEls,_e=[],$e=r.get(["pointer","show"]),xe=r.getModel("progress"),Oe=xe.get("show"),Ce=r.getData(),Ie=Ce.mapDimension("value"),Ne=+r.get("min"),ze=+r.get("max"),Fe=[Ne,ze],Ue=[ae,re];function At(Pt,kt){var Dt=Ce.getItemModel(Pt),Lt=Dt.getModel("pointer"),hn=parsePercent$2(Lt.get("width"),oe.r),vn=parsePercent$2(Lt.get("length"),oe.r),_n=r.get(["pointer","icon"]),$n=Lt.get("offsetCenter"),Sn=parsePercent$2($n[0],oe.r),xn=parsePercent$2($n[1],oe.r),On=Lt.get("keepAspect"),Cn;return _n?Cn=createSymbol$3(_n,Sn-hn/2,xn-vn,hn,vn,null,On):Cn=new PointerPath$3({shape:{angle:-Math.PI/2,width:hn,r:vn,x:Sn,y:xn}}),Cn.rotation=-(kt+Math.PI/2),Cn.x=oe.cx,Cn.y=oe.cy,Cn}function Et(Pt,kt){var Dt=xe.get("roundCap"),Lt=Dt?Sausage$1:Sector$3,hn=xe.get("overlap"),vn=hn?xe.get("width"):ue/Ce.count(),_n=hn?oe.r-vn:oe.r-(Pt+1)*vn,$n=hn?oe.r:oe.r-Pt*vn,Sn=new Lt({shape:{startAngle:ae,endAngle:kt,cx:oe.cx,cy:oe.cy,clockwise:le,r0:_n,r:$n}});return hn&&(Sn.z2=ze-Ce.get(Ie,Pt)%ze),Sn}(Oe||$e)&&(Ce.diff(he).add(function(Pt){var kt=Ce.get(Ie,Pt);if($e){var Dt=At(Pt,ae);initProps$1(Dt,{rotation:-((isNaN(+kt)?Ue[0]:linearMap$5(kt,Fe,Ue,!0))+Math.PI/2)},r),de.add(Dt),Ce.setItemGraphicEl(Pt,Dt)}if(Oe){var Lt=Et(Pt,ae),hn=xe.get("clip");initProps$1(Lt,{shape:{endAngle:linearMap$5(kt,Fe,Ue,hn)}},r),de.add(Lt),setCommonECData$1(r.seriesIndex,Ce.dataType,Pt,Lt),_e[Pt]=Lt}}).update(function(Pt,kt){var Dt=Ce.get(Ie,Pt);if($e){var Lt=he.getItemGraphicEl(kt),hn=Lt?Lt.rotation:ae,vn=At(Pt,hn);vn.rotation=hn,updateProps$3(vn,{rotation:-((isNaN(+Dt)?Ue[0]:linearMap$5(Dt,Fe,Ue,!0))+Math.PI/2)},r),de.add(vn),Ce.setItemGraphicEl(Pt,vn)}if(Oe){var _n=pe[kt],$n=_n?_n.shape.endAngle:ae,Sn=Et(Pt,$n),xn=xe.get("clip");updateProps$3(Sn,{shape:{endAngle:linearMap$5(Dt,Fe,Ue,xn)}},r),de.add(Sn),setCommonECData$1(r.seriesIndex,Ce.dataType,Pt,Sn),_e[Pt]=Sn}}).execute(),Ce.each(function(Pt){var kt=Ce.getItemModel(Pt),Dt=kt.getModel("emphasis"),Lt=Dt.get("focus"),hn=Dt.get("blurScope"),vn=Dt.get("disabled");if($e){var _n=Ce.getItemGraphicEl(Pt),$n=Ce.getItemVisual(Pt,"style"),Sn=$n.fill;if(_n instanceof ZRImage$3){var xn=_n.style;_n.useStyle(extend$4({image:xn.image,x:xn.x,y:xn.y,width:xn.width,height:xn.height},$n))}else _n.useStyle($n),_n.type!=="pointer"&&_n.setColor(Sn);_n.setStyle(kt.getModel(["pointer","itemStyle"]).getItemStyle()),_n.style.fill==="auto"&&_n.setStyle("fill",V(linearMap$5(Ce.get(Ie,Pt),Fe,[0,1],!0))),_n.z2EmphasisLift=0,setStatesStylesFromModel$1(_n,kt),toggleHoverEmphasis$1(_n,Lt,hn,vn)}if(Oe){var On=_e[Pt];On.useStyle(Ce.getItemVisual(Pt,"style")),On.setStyle(kt.getModel(["progress","itemStyle"]).getItemStyle()),On.z2EmphasisLift=0,setStatesStylesFromModel$1(On,kt),toggleHoverEmphasis$1(On,Lt,hn,vn)}}),this._progressEls=_e)},n.prototype._renderAnchor=function(r,$){var L=r.getModel("anchor"),V=L.get("show");if(V){var oe=L.get("size"),ae=L.get("icon"),re=L.get("offsetCenter"),le=L.get("keepAspect"),ue=createSymbol$3(ae,$.cx-oe/2+parsePercent$2(re[0],$.r),$.cy-oe/2+parsePercent$2(re[1],$.r),oe,oe,null,le);ue.z2=L.get("showAbove")?1:0,ue.setStyle(L.getModel("itemStyle").getItemStyle()),this.group.add(ue)}},n.prototype._renderTitleAndDetail=function(r,$,L,V,oe){var ae=this,re=r.getData(),le=re.mapDimension("value"),ue=+r.get("min"),de=+r.get("max"),he=new Group$9,pe=[],_e=[],$e=r.isAnimationEnabled(),xe=r.get(["pointer","showAbove"]);re.diff(this._data).add(function(Oe){pe[Oe]=new ZRText$3({silent:!0}),_e[Oe]=new ZRText$3({silent:!0})}).update(function(Oe,Ce){pe[Oe]=ae._titleEls[Ce],_e[Oe]=ae._detailEls[Ce]}).execute(),re.each(function(Oe){var Ce=re.getItemModel(Oe),Ie=re.get(le,Oe),Ne=new Group$9,ze=V(linearMap$5(Ie,[ue,de],[0,1],!0)),Fe=Ce.getModel("title");if(Fe.get("show")){var Ue=Fe.get("offsetCenter"),At=oe.cx+parsePercent$2(Ue[0],oe.r),Et=oe.cy+parsePercent$2(Ue[1],oe.r),Pt=pe[Oe];Pt.attr({z2:xe?0:2,style:createTextStyle$1(Fe,{x:At,y:Et,text:re.getName(Oe),align:"center",verticalAlign:"middle"},{inheritColor:ze})}),Ne.add(Pt)}var kt=Ce.getModel("detail");if(kt.get("show")){var Dt=kt.get("offsetCenter"),Lt=oe.cx+parsePercent$2(Dt[0],oe.r),hn=oe.cy+parsePercent$2(Dt[1],oe.r),vn=parsePercent$2(kt.get("width"),oe.r),_n=parsePercent$2(kt.get("height"),oe.r),$n=r.get(["progress","show"])?re.getItemVisual(Oe,"style").fill:ze,Pt=_e[Oe],Sn=kt.get("formatter");Pt.attr({z2:xe?0:2,style:createTextStyle$1(kt,{x:Lt,y:hn,text:formatLabel$1(Ie,Sn),width:isNaN(vn)?null:vn,height:isNaN(_n)?null:_n,align:"center",verticalAlign:"middle"},{inheritColor:$n})}),setLabelValueAnimation$1(Pt,{normal:kt},Ie,function(On){return formatLabel$1(On,Sn)}),$e&&animateLabelValue$1(Pt,Oe,re,r,{getFormattedLabel:function(On,Cn,An,Rn,Fn,Pn){return formatLabel$1(Pn?Pn.interpolatedValue:Ie,Sn)}}),Ne.add(Pt)}he.add(Ne)}),this.group.add(he),this._titleEls=pe,this._detailEls=_e},n.type="gauge",n}(ChartView$3);const GaugeView$3=GaugeView$2;var GaugeSeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath="itemStyle",r}return n.prototype.getInitialData=function(r,$){return createSeriesDataSimply$1(this,["value"])},n.type="series.gauge",n.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},n}(SeriesModel$3);const GaugeSeriesModel$3=GaugeSeriesModel$2;function install$1x(g){g.registerChartView(GaugeView$3),g.registerSeriesModel(GaugeSeriesModel$3)}var opacityAccessPath$3=["itemStyle","opacity"],FunnelPiece$1=function(g){__extends$2(n,g);function n(r,$){var L=g.call(this)||this,V=L,oe=new Polyline$7,ae=new ZRText$3;return V.setTextContent(ae),L.setTextGuideLine(oe),L.updateData(r,$,!0),L}return n.prototype.updateData=function(r,$,L){var V=this,oe=r.hostModel,ae=r.getItemModel($),re=r.getItemLayout($),le=ae.getModel("emphasis"),ue=ae.get(opacityAccessPath$3);ue=ue!=null?ue:1,L||saveOldStyle$1(V),V.useStyle(r.getItemVisual($,"style")),V.style.lineJoin="round",L?(V.setShape({points:re.points}),V.style.opacity=0,initProps$1(V,{style:{opacity:ue}},oe,$)):updateProps$3(V,{style:{opacity:ue},shape:{points:re.points}},oe,$),setStatesStylesFromModel$1(V,ae),this._updateLabel(r,$),toggleHoverEmphasis$1(this,le.get("focus"),le.get("blurScope"),le.get("disabled"))},n.prototype._updateLabel=function(r,$){var L=this,V=this.getTextGuideLine(),oe=L.getTextContent(),ae=r.hostModel,re=r.getItemModel($),le=r.getItemLayout($),ue=le.label,de=r.getItemVisual($,"style"),he=de.fill;setLabelStyle$1(oe,getLabelStatesModels$1(re),{labelFetcher:r.hostModel,labelDataIndex:$,defaultOpacity:de.opacity,defaultText:r.getName($)},{normal:{align:ue.textAlign,verticalAlign:ue.verticalAlign}}),L.setTextConfig({local:!0,inside:!!ue.inside,insideStroke:he,outsideFill:he});var pe=ue.linePoints;V.setShape({points:pe}),L.textGuideLineConfig={anchor:pe?new Point$3(pe[0][0],pe[0][1]):null},updateProps$3(oe,{style:{x:ue.x,y:ue.y}},ae,$),oe.attr({rotation:ue.rotation,originX:ue.x,originY:ue.y,z2:10}),setLabelLineStyle$1(L,getLabelLineStatesModels$1(re),{stroke:he})},n}(Polygon$3),FunnelView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.ignoreLabelLineUpdate=!0,r}return n.prototype.render=function(r,$,L){var V=r.getData(),oe=this._data,ae=this.group;V.diff(oe).add(function(re){var le=new FunnelPiece$1(V,re);V.setItemGraphicEl(re,le),ae.add(le)}).update(function(re,le){var ue=oe.getItemGraphicEl(le);ue.updateData(V,re),ae.add(ue),V.setItemGraphicEl(re,ue)}).remove(function(re){var le=oe.getItemGraphicEl(re);removeElementWithFadeOut$1(le,r,re)}).execute(),this._data=V},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.prototype.dispose=function(){},n.type="funnel",n}(ChartView$3);const FunnelView$3=FunnelView$2;var FunnelSeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r){g.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$3(bind$5(this.getData,this),bind$5(this.getRawData,this)),this._defaultLabelLine(r)},n.prototype.getInitialData=function(r,$){return createSeriesDataSimply$1(this,{coordDimensions:["value"],encodeDefaulter:curry$3(makeSeriesEncodeForNameBased$1,this)})},n.prototype._defaultLabelLine=function(r){defaultEmphasis$1(r,"labelLine",["show"]);var $=r.labelLine,L=r.emphasis.labelLine;$.show=$.show&&r.label.show,L.show=L.show&&r.emphasis.label.show},n.prototype.getDataParams=function(r){var $=this.getData(),L=g.prototype.getDataParams.call(this,r),V=$.mapDimension("value"),oe=$.getSum(V);return L.percent=oe?+($.get(V,r)/oe*100).toFixed(2):0,L.$vars.push("percent"),L},n.type="series.funnel",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel$3);const FunnelSeriesModel$3=FunnelSeriesModel$2;function getViewRect$8(g,n){return getLayoutRect$1(g.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getSortedIndices$1(g,n){for(var r=g.mapDimension("value"),$=g.mapArray(r,function(re){return re}),L=[],V=n==="ascending",oe=0,ae=g.count();oe<ae;oe++)L[oe]=oe;return isFunction$3(n)?L.sort(n):n!=="none"&&L.sort(function(re,le){return V?$[re]-$[le]:$[le]-$[re]}),L}function labelLayout$1(g){var n=g.hostModel,r=n.get("orient");g.each(function($){var L=g.getItemModel($),V=L.getModel("label"),oe=V.get("position"),ae=L.getModel("labelLine"),re=g.getItemLayout($),le=re.points,ue=oe==="inner"||oe==="inside"||oe==="center"||oe==="insideLeft"||oe==="insideRight",de,he,pe,_e;if(ue)oe==="insideLeft"?(he=(le[0][0]+le[3][0])/2+5,pe=(le[0][1]+le[3][1])/2,de="left"):oe==="insideRight"?(he=(le[1][0]+le[2][0])/2-5,pe=(le[1][1]+le[2][1])/2,de="right"):(he=(le[0][0]+le[1][0]+le[2][0]+le[3][0])/4,pe=(le[0][1]+le[1][1]+le[2][1]+le[3][1])/4,de="center"),_e=[[he,pe],[he,pe]];else{var $e=void 0,xe=void 0,Oe=void 0,Ce=void 0,Ie=ae.get("length");oe==="left"?($e=(le[3][0]+le[0][0])/2,xe=(le[3][1]+le[0][1])/2,Oe=$e-Ie,he=Oe-5,de="right"):oe==="right"?($e=(le[1][0]+le[2][0])/2,xe=(le[1][1]+le[2][1])/2,Oe=$e+Ie,he=Oe+5,de="left"):oe==="top"?($e=(le[3][0]+le[0][0])/2,xe=(le[3][1]+le[0][1])/2,Ce=xe-Ie,pe=Ce-5,de="center"):oe==="bottom"?($e=(le[1][0]+le[2][0])/2,xe=(le[1][1]+le[2][1])/2,Ce=xe+Ie,pe=Ce+5,de="center"):oe==="rightTop"?($e=r==="horizontal"?le[3][0]:le[1][0],xe=r==="horizontal"?le[3][1]:le[1][1],r==="horizontal"?(Ce=xe-Ie,pe=Ce-5,de="center"):(Oe=$e+Ie,he=Oe+5,de="top")):oe==="rightBottom"?($e=le[2][0],xe=le[2][1],r==="horizontal"?(Ce=xe+Ie,pe=Ce+5,de="center"):(Oe=$e+Ie,he=Oe+5,de="bottom")):oe==="leftTop"?($e=le[0][0],xe=r==="horizontal"?le[0][1]:le[1][1],r==="horizontal"?(Ce=xe-Ie,pe=Ce-5,de="center"):(Oe=$e-Ie,he=Oe-5,de="right")):oe==="leftBottom"?($e=r==="horizontal"?le[1][0]:le[3][0],xe=r==="horizontal"?le[1][1]:le[2][1],r==="horizontal"?(Ce=xe+Ie,pe=Ce+5,de="center"):(Oe=$e-Ie,he=Oe-5,de="right")):($e=(le[1][0]+le[2][0])/2,xe=(le[1][1]+le[2][1])/2,r==="horizontal"?(Ce=xe+Ie,pe=Ce+5,de="center"):(Oe=$e+Ie,he=Oe+5,de="left")),r==="horizontal"?(Oe=$e,he=Oe):(Ce=xe,pe=Ce),_e=[[$e,xe],[Oe,Ce]]}re.label={linePoints:_e,x:he,y:pe,verticalAlign:"middle",textAlign:de,inside:ue}})}function funnelLayout$1(g,n){g.eachSeriesByType("funnel",function(r){var $=r.getData(),L=$.mapDimension("value"),V=r.get("sort"),oe=getViewRect$8(r,n),ae=r.get("orient"),re=oe.width,le=oe.height,ue=getSortedIndices$1($,V),de=oe.x,he=oe.y,pe=ae==="horizontal"?[parsePercent$2(r.get("minSize"),le),parsePercent$2(r.get("maxSize"),le)]:[parsePercent$2(r.get("minSize"),re),parsePercent$2(r.get("maxSize"),re)],_e=$.getDataExtent(L),$e=r.get("min"),xe=r.get("max");$e==null&&($e=Math.min(_e[0],0)),xe==null&&(xe=_e[1]);var Oe=r.get("funnelAlign"),Ce=r.get("gap"),Ie=ae==="horizontal"?re:le,Ne=(Ie-Ce*($.count()-1))/$.count(),ze=function(hn,vn){if(ae==="horizontal"){var _n=$.get(L,hn)||0,$n=linearMap$5(_n,[$e,xe],pe,!0),Sn=void 0;switch(Oe){case"top":Sn=he;break;case"center":Sn=he+(le-$n)/2;break;case"bottom":Sn=he+(le-$n);break}return[[vn,Sn],[vn,Sn+$n]]}var xn=$.get(L,hn)||0,On=linearMap$5(xn,[$e,xe],pe,!0),Cn;switch(Oe){case"left":Cn=de;break;case"center":Cn=de+(re-On)/2;break;case"right":Cn=de+re-On;break}return[[Cn,vn],[Cn+On,vn]]};V==="ascending"&&(Ne=-Ne,Ce=-Ce,ae==="horizontal"?de+=re:he+=le,ue=ue.reverse());for(var Fe=0;Fe<ue.length;Fe++){var Ue=ue[Fe],At=ue[Fe+1],Et=$.getItemModel(Ue);if(ae==="horizontal"){var Pt=Et.get(["itemStyle","width"]);Pt==null?Pt=Ne:(Pt=parsePercent$2(Pt,re),V==="ascending"&&(Pt=-Pt));var kt=ze(Ue,de),Dt=ze(At,de+Pt);de+=Pt+Ce,$.setItemLayout(Ue,{points:kt.concat(Dt.slice().reverse())})}else{var Lt=Et.get(["itemStyle","height"]);Lt==null?Lt=Ne:(Lt=parsePercent$2(Lt,le),V==="ascending"&&(Lt=-Lt));var kt=ze(Ue,he),Dt=ze(At,he+Lt);he+=Lt+Ce,$.setItemLayout(Ue,{points:kt.concat(Dt.slice().reverse())})}}labelLayout$1($)})}function install$1w(g){g.registerChartView(FunnelView$3),g.registerSeriesModel(FunnelSeriesModel$3),g.registerLayout(funnelLayout$1),g.registerProcessor(dataFilter$3("funnel"))}var DEFAULT_SMOOTH$1=.3,ParallelView$6=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._dataGroup=new Group$9,r._initialized=!1,r}return n.prototype.init=function(){this.group.add(this._dataGroup)},n.prototype.render=function(r,$,L,V){this._progressiveEls=null;var oe=this._dataGroup,ae=r.getData(),re=this._data,le=r.coordinateSystem,ue=le.dimensions,de=makeSeriesScope$3(r);ae.diff(re).add(he).update(pe).remove(_e).execute();function he(xe){var Oe=addEl$1(ae,oe,xe,ue,le);updateElCommon$1(Oe,ae,xe,de)}function pe(xe,Oe){var Ce=re.getItemGraphicEl(Oe),Ie=createLinePoints$1(ae,xe,ue,le);ae.setItemGraphicEl(xe,Ce),updateProps$3(Ce,{shape:{points:Ie}},r,xe),saveOldStyle$1(Ce),updateElCommon$1(Ce,ae,xe,de)}function _e(xe){var Oe=re.getItemGraphicEl(xe);oe.remove(Oe)}if(!this._initialized){this._initialized=!0;var $e=createGridClipShape$5(le,r,function(){setTimeout(function(){oe.removeClipPath()})});oe.setClipPath($e)}this._data=ae},n.prototype.incrementalPrepareRender=function(r,$,L){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},n.prototype.incrementalRender=function(r,$,L){for(var V=$.getData(),oe=$.coordinateSystem,ae=oe.dimensions,re=makeSeriesScope$3($),le=this._progressiveEls=[],ue=r.start;ue<r.end;ue++){var de=addEl$1(V,this._dataGroup,ue,ae,oe);de.incremental=!0,updateElCommon$1(de,V,ue,re),le.push(de)}},n.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},n.type="parallel",n}(ChartView$3);function createGridClipShape$5(g,n,r){var $=g.model,L=g.getRect(),V=new Rect$7({shape:{x:L.x,y:L.y,width:L.width,height:L.height}}),oe=$.get("layout")==="horizontal"?"width":"height";return V.setShape(oe,0),initProps$1(V,{shape:{width:L.width,height:L.height}},n,r),V}function createLinePoints$1(g,n,r,$){for(var L=[],V=0;V<r.length;V++){var oe=r[V],ae=g.get(g.mapDimension(oe),n);isEmptyValue$1(ae,$.getAxis(oe).type)||L.push($.dataToPoint(ae,oe))}return L}function addEl$1(g,n,r,$,L){var V=createLinePoints$1(g,r,$,L),oe=new Polyline$7({shape:{points:V},z2:10});return n.add(oe),g.setItemGraphicEl(r,oe),oe}function makeSeriesScope$3(g){var n=g.get("smooth",!0);return n===!0&&(n=DEFAULT_SMOOTH$1),n=numericToNumber$1(n),eqNaN$1(n)&&(n=0),{smooth:n}}function updateElCommon$1(g,n,r,$){g.useStyle(n.getItemVisual(r,"style")),g.style.fill=null,g.setShape("smooth",$.smooth);var L=n.getItemModel(r),V=L.getModel("emphasis");setStatesStylesFromModel$1(g,L,"lineStyle"),toggleHoverEmphasis$1(g,V.get("focus"),V.get("blurScope"),V.get("disabled"))}function isEmptyValue$1(g,n){return n==="category"?g==null:g==null||isNaN(g)}const ParallelView$7=ParallelView$6;var ParallelSeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return n.prototype.getInitialData=function(r,$){return createSeriesData$1(null,this,{useEncodeDefaulter:bind$5(makeDefaultEncode$1,null,this)})},n.prototype.getRawIndicesByActiveState=function(r){var $=this.coordinateSystem,L=this.getData(),V=[];return $.eachActiveState(L,function(oe,ae){r===oe&&V.push(L.getRawIndex(ae))}),V},n.type="series.parallel",n.dependencies=["parallel"],n.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},n}(SeriesModel$3);function makeDefaultEncode$1(g){var n=g.ecModel.getComponent("parallel",g.get("parallelIndex"));if(n){var r={};return each$v(n.dimensions,function($){var L=convertDimNameToNumber$1($);r[$]=L}),r}}function convertDimNameToNumber$1(g){return+g.replace("dim","")}const ParallelSeriesModel$3=ParallelSeriesModel$2;var opacityAccessPath$2=["lineStyle","opacity"],parallelVisual$2={seriesType:"parallel",reset:function(g,n){var r=g.coordinateSystem,$={normal:g.get(["lineStyle","opacity"]),active:g.get("activeOpacity"),inactive:g.get("inactiveOpacity")};return{progress:function(L,V){r.eachActiveState(V,function(oe,ae){var re=$[oe];if(oe==="normal"&&V.hasItemOption){var le=V.getItemModel(ae).get(opacityAccessPath$2,!0);le!=null&&(re=le)}var ue=V.ensureUniqueItemVisual(ae,"style");ue.opacity=re},L.start,L.end)}}}};const parallelVisual$3=parallelVisual$2;function parallelPreprocessor$1(g){createParallelIfNeeded$1(g),mergeAxisOptionFromParallel$1(g)}function createParallelIfNeeded$1(g){if(!g.parallel){var n=!1;each$v(g.series,function(r){r&&r.type==="parallel"&&(n=!0)}),n&&(g.parallel=[{}])}}function mergeAxisOptionFromParallel$1(g){var n=normalizeToArray$1(g.parallelAxis);each$v(n,function(r){if(isObject$9(r)){var $=r.parallelIndex||0,L=normalizeToArray$1(g.parallel)[$];L&&L.parallelAxisDefault&&merge$3(r,L.parallelAxisDefault,!1)}})}var CLICK_THRESHOLD$1=5,ParallelView$4=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){this._model=r,this._api=L,this._handlers||(this._handlers={},each$v(handlers$4,function(V,oe){L.getZr().on(oe,this._handlers[oe]=bind$5(V,this))},this)),createOrUpdate$1(this,"_throttledDispatchExpand",r.get("axisExpandRate"),"fixRate")},n.prototype.dispose=function(r,$){clear$3(this,"_throttledDispatchExpand"),each$v(this._handlers,function(L,V){$.getZr().off(V,L)}),this._handlers=null},n.prototype._throttledDispatchExpand=function(r){this._dispatchExpand(r)},n.prototype._dispatchExpand=function(r){r&&this._api.dispatchAction(extend$4({type:"parallelAxisExpand"},r))},n.type="parallel",n}(ComponentView$3),handlers$4={mousedown:function(g){checkTrigger$1(this,"click")&&(this._mouseDownPoint=[g.offsetX,g.offsetY])},mouseup:function(g){var n=this._mouseDownPoint;if(checkTrigger$1(this,"click")&&n){var r=[g.offsetX,g.offsetY],$=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2);if($>CLICK_THRESHOLD$1)return;var L=this._model.coordinateSystem.getSlidedAxisExpandWindow([g.offsetX,g.offsetY]);L.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:L.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(g){if(!(this._mouseDownPoint||!checkTrigger$1(this,"mousemove"))){var n=this._model,r=n.coordinateSystem.getSlidedAxisExpandWindow([g.offsetX,g.offsetY]),$=r.behavior;$==="jump"&&this._throttledDispatchExpand.debounceNextCall(n.get("axisExpandDebounce")),this._throttledDispatchExpand($==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:$==="jump"?null:{duration:0}})}}};function checkTrigger$1(g,n){var r=g._model;return r.get("axisExpandable")&&r.get("axisExpandTriggerOn")===n}const ParallelView$5=ParallelView$4;var ParallelModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){g.prototype.init.apply(this,arguments),this.mergeOption({})},n.prototype.mergeOption=function(r){var $=this.option;r&&merge$3($,r,!0),this._initDimensions()},n.prototype.contains=function(r,$){var L=r.get("parallelIndex");return L!=null&&$.getComponent("parallel",L)===this},n.prototype.setAxisExpand=function(r){each$v(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function($){r.hasOwnProperty($)&&(this.option[$]=r[$])},this)},n.prototype._initDimensions=function(){var r=this.dimensions=[],$=this.parallelAxisIndex=[],L=filter$1(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(V){return(V.get("parallelIndex")||0)===this.componentIndex},this);each$v(L,function(V){r.push("dim"+V.get("dim")),$.push(V.componentIndex)})},n.type="parallel",n.dependencies=["parallelAxis"],n.layoutMode="box",n.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},n}(ComponentModel$3);const ParallelModel$3=ParallelModel$2;var ParallelAxis$2=function(g){__extends$2(n,g);function n(r,$,L,V,oe){var ae=g.call(this,r,$,L)||this;return ae.type=V||"value",ae.axisIndex=oe,ae}return n.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},n}(Axis$3);const ParallelAxis$3=ParallelAxis$2;function sliderMove$1(g,n,r,$,L,V){g=g||0;var oe=r[1]-r[0];if(L!=null&&(L=restrict$3(L,[0,oe])),V!=null&&(V=Math.max(V,L!=null?L:0)),$==="all"){var ae=Math.abs(n[1]-n[0]);ae=restrict$3(ae,[0,oe]),L=V=restrict$3(ae,[L,V]),$=0}n[0]=restrict$3(n[0],r),n[1]=restrict$3(n[1],r);var re=getSpanSign$1(n,$);n[$]+=g;var le=L||0,ue=r.slice();re.sign<0?ue[0]+=le:ue[1]-=le,n[$]=restrict$3(n[$],ue);var de;return de=getSpanSign$1(n,$),L!=null&&(de.sign!==re.sign||de.span<L)&&(n[1-$]=n[$]+re.sign*L),de=getSpanSign$1(n,$),V!=null&&de.span>V&&(n[1-$]=n[$]+de.sign*V),n}function getSpanSign$1(g,n){var r=g[n]-g[1-n];return{span:Math.abs(r),sign:r>0?-1:r<0?1:n?-1:1}}function restrict$3(g,n){return Math.min(n[1]!=null?n[1]:1/0,Math.max(n[0]!=null?n[0]:-1/0,g))}var each$q=each$v,mathMin$d=Math.min,mathMax$d=Math.max,mathFloor$2=Math.floor,mathCeil$2=Math.ceil,round$4=round$7,PI$a=Math.PI,Parallel$2=function(){function g(n,r,$){this.type="parallel",this._axesMap=createHashMap$1(),this._axesLayout={},this.dimensions=n.dimensions,this._model=n,this._init(n,r,$)}return g.prototype._init=function(n,r,$){var L=n.dimensions,V=n.parallelAxisIndex;each$q(L,function(oe,ae){var re=V[ae],le=r.getComponent("parallelAxis",re),ue=this._axesMap.set(oe,new ParallelAxis$3(oe,createScaleByModel$3(le),[0,0],le.get("type"),re)),de=ue.type==="category";ue.onBand=de&&le.get("boundaryGap"),ue.inverse=le.get("inverse"),le.axis=ue,ue.model=le,ue.coordinateSystem=le.coordinateSystem=this},this)},g.prototype.update=function(n,r){this._updateAxesFromSeries(this._model,n)},g.prototype.containPoint=function(n){var r=this._makeLayoutInfo(),$=r.axisBase,L=r.layoutBase,V=r.pixelDimIndex,oe=n[1-V],ae=n[V];return oe>=$&&oe<=$+r.axisLength&&ae>=L&&ae<=L+r.layoutLength},g.prototype.getModel=function(){return this._model},g.prototype._updateAxesFromSeries=function(n,r){r.eachSeries(function($){if(n.contains($,r)){var L=$.getData();each$q(this.dimensions,function(V){var oe=this._axesMap.get(V);oe.scale.unionExtentFromData(L,L.mapDimension(V)),niceScaleExtent$1(oe.scale,oe.model)},this)}},this)},g.prototype.resize=function(n,r){this._rect=getLayoutRect$1(n.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),this._layoutAxes()},g.prototype.getRect=function(){return this._rect},g.prototype._makeLayoutInfo=function(){var n=this._model,r=this._rect,$=["x","y"],L=["width","height"],V=n.get("layout"),oe=V==="horizontal"?0:1,ae=r[L[oe]],re=[0,ae],le=this.dimensions.length,ue=restrict$2(n.get("axisExpandWidth"),re),de=restrict$2(n.get("axisExpandCount")||0,[0,le]),he=n.get("axisExpandable")&&le>3&&le>de&&de>1&&ue>0&&ae>0,pe=n.get("axisExpandWindow"),_e;if(pe)_e=restrict$2(pe[1]-pe[0],re),pe[1]=pe[0]+_e;else{_e=restrict$2(ue*(de-1),re);var $e=n.get("axisExpandCenter")||mathFloor$2(le/2);pe=[ue*$e-_e/2],pe[1]=pe[0]+_e}var xe=(ae-_e)/(le-de);xe<3&&(xe=0);var Oe=[mathFloor$2(round$4(pe[0]/ue,1))+1,mathCeil$2(round$4(pe[1]/ue,1))-1],Ce=xe/ue*pe[0];return{layout:V,pixelDimIndex:oe,layoutBase:r[$[oe]],layoutLength:ae,axisBase:r[$[1-oe]],axisLength:r[L[1-oe]],axisExpandable:he,axisExpandWidth:ue,axisCollapseWidth:xe,axisExpandWindow:pe,axisCount:le,winInnerIndices:Oe,axisExpandWindow0Pos:Ce}},g.prototype._layoutAxes=function(){var n=this._rect,r=this._axesMap,$=this.dimensions,L=this._makeLayoutInfo(),V=L.layout;r.each(function(oe){var ae=[0,L.axisLength],re=oe.inverse?1:0;oe.setExtent(ae[re],ae[1-re])}),each$q($,function(oe,ae){var re=(L.axisExpandable?layoutAxisWithExpand$1:layoutAxisWithoutExpand$1)(ae,L),le={horizontal:{x:re.position,y:L.axisLength},vertical:{x:0,y:re.position}},ue={horizontal:PI$a/2,vertical:0},de=[le[V].x+n.x,le[V].y+n.y],he=ue[V],pe=create$4();rotate$1(pe,pe,he),translate$1(pe,pe,de),this._axesLayout[oe]={position:de,rotation:he,transform:pe,axisNameAvailableWidth:re.axisNameAvailableWidth,axisLabelShow:re.axisLabelShow,nameTruncateMaxWidth:re.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},g.prototype.getAxis=function(n){return this._axesMap.get(n)},g.prototype.dataToPoint=function(n,r){return this.axisCoordToPoint(this._axesMap.get(r).dataToCoord(n),r)},g.prototype.eachActiveState=function(n,r,$,L){$==null&&($=0),L==null&&(L=n.count());var V=this._axesMap,oe=this.dimensions,ae=[],re=[];each$v(oe,function(xe){ae.push(n.mapDimension(xe)),re.push(V.get(xe).model)});for(var le=this.hasAxisBrushed(),ue=$;ue<L;ue++){var de=void 0;if(!le)de="normal";else{de="active";for(var he=n.getValues(ae,ue),pe=0,_e=oe.length;pe<_e;pe++){var $e=re[pe].getActiveState(he[pe]);if($e==="inactive"){de="inactive";break}}}r(de,ue)}},g.prototype.hasAxisBrushed=function(){for(var n=this.dimensions,r=this._axesMap,$=!1,L=0,V=n.length;L<V;L++)r.get(n[L]).model.getActiveState()!=="normal"&&($=!0);return $},g.prototype.axisCoordToPoint=function(n,r){var $=this._axesLayout[r];return applyTransform$2([n,0],$.transform)},g.prototype.getAxisLayout=function(n){return clone$9(this._axesLayout[n])},g.prototype.getSlidedAxisExpandWindow=function(n){var r=this._makeLayoutInfo(),$=r.pixelDimIndex,L=r.axisExpandWindow.slice(),V=L[1]-L[0],oe=[0,r.axisExpandWidth*(r.axisCount-1)];if(!this.containPoint(n))return{behavior:"none",axisExpandWindow:L};var ae=n[$]-r.layoutBase-r.axisExpandWindow0Pos,re,le="slide",ue=r.axisCollapseWidth,de=this._model.get("axisExpandSlideTriggerArea"),he=de[0]!=null;if(ue)he&&ue&&ae<V*de[0]?(le="jump",re=ae-V*de[2]):he&&ue&&ae>V*(1-de[0])?(le="jump",re=ae-V*(1-de[2])):(re=ae-V*de[1])>=0&&(re=ae-V*(1-de[1]))<=0&&(re=0),re*=r.axisExpandWidth/ue,re?sliderMove$1(re,L,oe,"all"):le="none";else{var pe=L[1]-L[0],_e=oe[1]*ae/pe;L=[mathMax$d(0,_e-pe/2)],L[1]=mathMin$d(oe[1],L[0]+pe),L[0]=L[1]-pe}return{axisExpandWindow:L,behavior:le}},g}();function restrict$2(g,n){return mathMin$d(mathMax$d(g,n[0]),n[1])}function layoutAxisWithoutExpand$1(g,n){var r=n.layoutLength/(n.axisCount-1);return{position:r*g,axisNameAvailableWidth:r,axisLabelShow:!0}}function layoutAxisWithExpand$1(g,n){var r=n.layoutLength,$=n.axisExpandWidth,L=n.axisCount,V=n.axisCollapseWidth,oe=n.winInnerIndices,ae,re=V,le=!1,ue;return g<oe[0]?(ae=g*V,ue=V):g<=oe[1]?(ae=n.axisExpandWindow0Pos+g*$-n.axisExpandWindow[0],re=$,le=!0):(ae=r-(L-1-g)*V,ue=V),{position:ae,axisNameAvailableWidth:re,axisLabelShow:le,nameTruncateMaxWidth:ue}}const Parallel$3=Parallel$2;function createParallelCoordSys$1(g,n){var r=[];return g.eachComponent("parallel",function($,L){var V=new Parallel$3($,g,n);V.name="parallel_"+L,V.resize($,n),$.coordinateSystem=V,V.model=$,r.push(V)}),g.eachSeries(function($){if($.get("coordinateSystem")==="parallel"){var L=$.getReferringComponents("parallel",SINGLE_REFERRING$1).models[0];$.coordinateSystem=L.coordinateSystem}}),r}var parallelCoordSysCreator$2={create:createParallelCoordSys$1};const parallelCoordSysCreator$3=parallelCoordSysCreator$2;var ParallelAxisModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.activeIntervals=[],r}return n.prototype.getAreaSelectStyle=function(){return makeStyleMapper$1([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},n.prototype.setActiveIntervals=function(r){var $=this.activeIntervals=clone$9(r);if($)for(var L=$.length-1;L>=0;L--)asc$5($[L])},n.prototype.getActiveState=function(r){var $=this.activeIntervals;if(!$.length)return"normal";if(r==null||isNaN(+r))return"inactive";if($.length===1){var L=$[0];if(L[0]<=r&&r<=L[1])return"active"}else for(var V=0,oe=$.length;V<oe;V++)if($[V][0]<=r&&r<=$[V][1])return"active";return"inactive"},n}(ComponentModel$3);mixin$1(ParallelAxisModel$2,AxisModelCommonMixin$1);const ParallelAxisModel$3=ParallelAxisModel$2;var BRUSH_PANEL_GLOBAL$1=!0,mathMin$c=Math.min,mathMax$c=Math.max,mathPow$3=Math.pow,COVER_Z$1=1e4,UNSELECT_THRESHOLD$1=6,MIN_RESIZE_LINE_WIDTH$1=6,MUTEX_RESOURCE_KEY$1="globalPan",DIRECTION_MAP$1={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP$1={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT$1={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID$1=0,BrushController$2=function(g){__extends$2(n,g);function n(r){var $=g.call(this)||this;return $._track=[],$._covers=[],$._handlers={},$._zr=r,$.group=new Group$9,$._uid="brushController_"+baseUID$1++,each$v(pointerHandlers$1,function(L,V){this._handlers[V]=bind$5(L,this)},$),$}return n.prototype.enableBrush=function(r){return this._brushType&&this._doDisableBrush(),r.brushType&&this._doEnableBrush(r),this},n.prototype._doEnableBrush=function(r){var $=this._zr;this._enableGlobalPan||take$1($,MUTEX_RESOURCE_KEY$1,this._uid),each$v(this._handlers,function(L,V){$.on(V,L)}),this._brushType=r.brushType,this._brushOption=merge$3(clone$9(DEFAULT_BRUSH_OPT$1),r,!0)},n.prototype._doDisableBrush=function(){var r=this._zr;release$1(r,MUTEX_RESOURCE_KEY$1,this._uid),each$v(this._handlers,function($,L){r.off(L,$)}),this._brushType=this._brushOption=null},n.prototype.setPanels=function(r){if(r&&r.length){var $=this._panels={};each$v(r,function(L){$[L.panelId]=clone$9(L)})}else this._panels=null;return this},n.prototype.mount=function(r){r=r||{},this._enableGlobalPan=r.enableGlobalPan;var $=this.group;return this._zr.add($),$.attr({x:r.x||0,y:r.y||0,rotation:r.rotation||0,scaleX:r.scaleX||1,scaleY:r.scaleY||1}),this._transform=$.getLocalTransform(),this},n.prototype.updateCovers=function(r){r=map$3(r,function(he){return merge$3(clone$9(DEFAULT_BRUSH_OPT$1),he,!0)});var $="\0-brush-index-",L=this._covers,V=this._covers=[],oe=this,ae=this._creatingCover;return new DataDiffer$3(L,r,le,re).add(ue).update(ue).remove(de).execute(),this;function re(he,pe){return(he.id!=null?he.id:$+pe)+"-"+he.brushType}function le(he,pe){return re(he.__brushOption,pe)}function ue(he,pe){var _e=r[he];if(pe!=null&&L[pe]===ae)V[he]=L[pe];else{var $e=V[he]=pe!=null?(L[pe].__brushOption=_e,L[pe]):endCreating$1(oe,createCover$1(oe,_e));updateCoverAfterCreation$1(oe,$e)}}function de(he){L[he]!==ae&&oe.group.remove(L[he])}},n.prototype.unmount=function(){return this.enableBrush(!1),clearCovers$1(this),this._zr.remove(this.group),this},n.prototype.dispose=function(){this.unmount(),this.off()},n}(Eventful$3);function createCover$1(g,n){var r=coverRenderers$1[n.brushType].createCover(g,n);return r.__brushOption=n,updateZ$3(r,n),g.group.add(r),r}function endCreating$1(g,n){var r=getCoverRenderer$1(n);return r.endCreating&&(r.endCreating(g,n),updateZ$3(n,n.__brushOption)),n}function updateCoverShape$1(g,n){var r=n.__brushOption;getCoverRenderer$1(n).updateCoverShape(g,n,r.range,r)}function updateZ$3(g,n){var r=n.z;r==null&&(r=COVER_Z$1),g.traverse(function($){$.z=r,$.z2=r})}function updateCoverAfterCreation$1(g,n){getCoverRenderer$1(n).updateCommon(g,n),updateCoverShape$1(g,n)}function getCoverRenderer$1(g){return coverRenderers$1[g.__brushOption.brushType]}function getPanelByPoint$1(g,n,r){var $=g._panels;if(!$)return BRUSH_PANEL_GLOBAL$1;var L,V=g._transform;return each$v($,function(oe){oe.isTargetByCursor(n,r,V)&&(L=oe)}),L}function getPanelByCover$1(g,n){var r=g._panels;if(!r)return BRUSH_PANEL_GLOBAL$1;var $=n.__brushOption.panelId;return $!=null?r[$]:BRUSH_PANEL_GLOBAL$1}function clearCovers$1(g){var n=g._covers,r=n.length;return each$v(n,function($){g.group.remove($)},g),n.length=0,!!r}function trigger$2(g,n){var r=map$3(g._covers,function($){var L=$.__brushOption,V=clone$9(L.range);return{brushType:L.brushType,panelId:L.panelId,range:V}});g.trigger("brush",{areas:r,isEnd:!!n.isEnd,removeOnClick:!!n.removeOnClick})}function shouldShowCover$1(g){var n=g._track;if(!n.length)return!1;var r=n[n.length-1],$=n[0],L=r[0]-$[0],V=r[1]-$[1],oe=mathPow$3(L*L+V*V,.5);return oe>UNSELECT_THRESHOLD$1}function getTrackEnds$1(g){var n=g.length-1;return n<0&&(n=0),[g[0],g[n]]}function createBaseRectCover$1(g,n,r,$){var L=new Group$9;return L.add(new Rect$7({name:"main",style:makeStyle$1(r),silent:!0,draggable:!0,cursor:"move",drift:curry$3(driftRect$1,g,n,L,["n","s","w","e"]),ondragend:curry$3(trigger$2,n,{isEnd:!0})})),each$v($,function(V){L.add(new Rect$7({name:V.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry$3(driftRect$1,g,n,L,V),ondragend:curry$3(trigger$2,n,{isEnd:!0})}))}),L}function updateBaseRect$1(g,n,r,$){var L=$.brushStyle.lineWidth||0,V=mathMax$c(L,MIN_RESIZE_LINE_WIDTH$1),oe=r[0][0],ae=r[1][0],re=oe-L/2,le=ae-L/2,ue=r[0][1],de=r[1][1],he=ue-V+L/2,pe=de-V+L/2,_e=ue-oe,$e=de-ae,xe=_e+L,Oe=$e+L;updateRectShape$1(g,n,"main",oe,ae,_e,$e),$.transformable&&(updateRectShape$1(g,n,"w",re,le,V,Oe),updateRectShape$1(g,n,"e",he,le,V,Oe),updateRectShape$1(g,n,"n",re,le,xe,V),updateRectShape$1(g,n,"s",re,pe,xe,V),updateRectShape$1(g,n,"nw",re,le,V,V),updateRectShape$1(g,n,"ne",he,le,V,V),updateRectShape$1(g,n,"sw",re,pe,V,V),updateRectShape$1(g,n,"se",he,pe,V,V))}function updateCommon$3(g,n){var r=n.__brushOption,$=r.transformable,L=n.childAt(0);L.useStyle(makeStyle$1(r)),L.attr({silent:!$,cursor:$?"move":"default"}),each$v([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(V){var oe=n.childOfName(V.join("")),ae=V.length===1?getGlobalDirection1$1(g,V[0]):getGlobalDirection2$1(g,V);oe&&oe.attr({silent:!$,invisible:!$,cursor:$?CURSOR_MAP$1[ae]+"-resize":null})})}function updateRectShape$1(g,n,r,$,L,V,oe){var ae=n.childOfName(r);ae&&ae.setShape(pointsToRect$1(clipByPanel$1(g,n,[[$,L],[$+V,L+oe]])))}function makeStyle$1(g){return defaults$7({strokeNoScale:!0},g.brushStyle)}function formatRectRange$1(g,n,r,$){var L=[mathMin$c(g,r),mathMin$c(n,$)],V=[mathMax$c(g,r),mathMax$c(n,$)];return[[L[0],V[0]],[L[1],V[1]]]}function getTransform$2(g){return getTransform$3(g.group)}function getGlobalDirection1$1(g,n){var r={w:"left",e:"right",n:"top",s:"bottom"},$={left:"w",right:"e",top:"n",bottom:"s"},L=transformDirection$1(r[n],getTransform$2(g));return $[L]}function getGlobalDirection2$1(g,n){var r=[getGlobalDirection1$1(g,n[0]),getGlobalDirection1$1(g,n[1])];return(r[0]==="e"||r[0]==="w")&&r.reverse(),r.join("")}function driftRect$1(g,n,r,$,L,V){var oe=r.__brushOption,ae=g.toRectRange(oe.range),re=toLocalDelta$1(n,L,V);each$v($,function(le){var ue=DIRECTION_MAP$1[le];ae[ue[0]][ue[1]]+=re[ue[0]]}),oe.range=g.fromRectRange(formatRectRange$1(ae[0][0],ae[1][0],ae[0][1],ae[1][1])),updateCoverAfterCreation$1(n,r),trigger$2(n,{isEnd:!1})}function driftPolygon$1(g,n,r,$){var L=n.__brushOption.range,V=toLocalDelta$1(g,r,$);each$v(L,function(oe){oe[0]+=V[0],oe[1]+=V[1]}),updateCoverAfterCreation$1(g,n),trigger$2(g,{isEnd:!1})}function toLocalDelta$1(g,n,r){var $=g.group,L=$.transformCoordToLocal(n,r),V=$.transformCoordToLocal(0,0);return[L[0]-V[0],L[1]-V[1]]}function clipByPanel$1(g,n,r){var $=getPanelByCover$1(g,n);return $&&$!==BRUSH_PANEL_GLOBAL$1?$.clipPath(r,g._transform):clone$9(r)}function pointsToRect$1(g){var n=mathMin$c(g[0][0],g[1][0]),r=mathMin$c(g[0][1],g[1][1]),$=mathMax$c(g[0][0],g[1][0]),L=mathMax$c(g[0][1],g[1][1]);return{x:n,y:r,width:$-n,height:L-r}}function resetCursor$1(g,n,r){if(!(!g._brushType||isOutsideZrArea$1(g,n.offsetX,n.offsetY))){var $=g._zr,L=g._covers,V=getPanelByPoint$1(g,n,r);if(!g._dragging)for(var oe=0;oe<L.length;oe++){var ae=L[oe].__brushOption;if(V&&(V===BRUSH_PANEL_GLOBAL$1||ae.panelId===V.panelId)&&coverRenderers$1[ae.brushType].contain(L[oe],r[0],r[1]))return}V&&$.setCursorStyle("crosshair")}}function preventDefault$1(g){var n=g.event;n.preventDefault&&n.preventDefault()}function mainShapeContain$1(g,n,r){return g.childOfName("main").contain(n,r)}function updateCoverByMouse$1(g,n,r,$){var L=g._creatingCover,V=g._creatingPanel,oe=g._brushOption,ae;if(g._track.push(r.slice()),shouldShowCover$1(g)||L){if(V&&!L){oe.brushMode==="single"&&clearCovers$1(g);var re=clone$9(oe);re.brushType=determineBrushType$1(re.brushType,V),re.panelId=V===BRUSH_PANEL_GLOBAL$1?null:V.panelId,L=g._creatingCover=createCover$1(g,re),g._covers.push(L)}if(L){var le=coverRenderers$1[determineBrushType$1(g._brushType,V)],ue=L.__brushOption;ue.range=le.getCreatingRange(clipByPanel$1(g,L,g._track)),$&&(endCreating$1(g,L),le.updateCommon(g,L)),updateCoverShape$1(g,L),ae={isEnd:$}}}else $&&oe.brushMode==="single"&&oe.removeOnClick&&getPanelByPoint$1(g,n,r)&&clearCovers$1(g)&&(ae={isEnd:$,removeOnClick:!0});return ae}function determineBrushType$1(g,n){return g==="auto"?n.defaultBrushType:g}var pointerHandlers$1={mousedown:function(g){if(this._dragging)handleDragEnd$1(this,g);else if(!g.target||!g.target.draggable){preventDefault$1(g);var n=this.group.transformCoordToLocal(g.offsetX,g.offsetY);this._creatingCover=null;var r=this._creatingPanel=getPanelByPoint$1(this,g,n);r&&(this._dragging=!0,this._track=[n.slice()])}},mousemove:function(g){var n=g.offsetX,r=g.offsetY,$=this.group.transformCoordToLocal(n,r);if(resetCursor$1(this,g,$),this._dragging){preventDefault$1(g);var L=updateCoverByMouse$1(this,g,$,!1);L&&trigger$2(this,L)}},mouseup:function(g){handleDragEnd$1(this,g)}};function handleDragEnd$1(g,n){if(g._dragging){preventDefault$1(n);var r=n.offsetX,$=n.offsetY,L=g.group.transformCoordToLocal(r,$),V=updateCoverByMouse$1(g,n,L,!0);g._dragging=!1,g._track=[],g._creatingCover=null,V&&trigger$2(g,V)}}function isOutsideZrArea$1(g,n,r){var $=g._zr;return n<0||n>$.getWidth()||r<0||r>$.getHeight()}var coverRenderers$1={lineX:getLineRenderer$1(0),lineY:getLineRenderer$1(1),rect:{createCover:function(g,n){function r($){return $}return createBaseRectCover$1({toRectRange:r,fromRectRange:r},g,n,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(g){var n=getTrackEnds$1(g);return formatRectRange$1(n[1][0],n[1][1],n[0][0],n[0][1])},updateCoverShape:function(g,n,r,$){updateBaseRect$1(g,n,r,$)},updateCommon:updateCommon$3,contain:mainShapeContain$1},polygon:{createCover:function(g,n){var r=new Group$9;return r.add(new Polyline$7({name:"main",style:makeStyle$1(n),silent:!0})),r},getCreatingRange:function(g){return g},endCreating:function(g,n){n.remove(n.childAt(0)),n.add(new Polygon$3({name:"main",draggable:!0,drift:curry$3(driftPolygon$1,g,n),ondragend:curry$3(trigger$2,g,{isEnd:!0})}))},updateCoverShape:function(g,n,r,$){n.childAt(0).setShape({points:clipByPanel$1(g,n,r)})},updateCommon:updateCommon$3,contain:mainShapeContain$1}};function getLineRenderer$1(g){return{createCover:function(n,r){return createBaseRectCover$1({toRectRange:function($){var L=[$,[0,100]];return g&&L.reverse(),L},fromRectRange:function($){return $[g]}},n,r,[[["w"],["e"]],[["n"],["s"]]][g])},getCreatingRange:function(n){var r=getTrackEnds$1(n),$=mathMin$c(r[0][g],r[1][g]),L=mathMax$c(r[0][g],r[1][g]);return[$,L]},updateCoverShape:function(n,r,$,L){var V,oe=getPanelByCover$1(n,r);if(oe!==BRUSH_PANEL_GLOBAL$1&&oe.getLinearBrushOtherExtent)V=oe.getLinearBrushOtherExtent(g);else{var ae=n._zr;V=[0,[ae.getWidth(),ae.getHeight()][1-g]]}var re=[$,V];g&&re.reverse(),updateBaseRect$1(n,r,re,L)},updateCommon:updateCommon$3,contain:mainShapeContain$1}}const BrushController$3=BrushController$2;function makeRectPanelClipPath$1(g){return g=normalizeRect$1(g),function(n){return clipPointsByRect$1(n,g)}}function makeLinearBrushOtherExtent$1(g,n){return g=normalizeRect$1(g),function(r){var $=n!=null?n:r,L=$?g.width:g.height,V=$?g.x:g.y;return[V,V+(L||0)]}}function makeRectIsTargetByCursor$1(g,n,r){var $=normalizeRect$1(g);return function(L,V){return $.contain(V[0],V[1])&&!onIrrelevantElement$1(L,n,r)}}function normalizeRect$1(g){return BoundingRect$3.create(g)}var elementList$3=["axisLine","axisTickLabel","axisName"],ParallelAxisView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$){g.prototype.init.apply(this,arguments),(this._brushController=new BrushController$3($.getZr())).on("brush",bind$5(this._onBrush,this))},n.prototype.render=function(r,$,L,V){if(!fromAxisAreaSelect$1(r,$,V)){this.axisModel=r,this.api=L,this.group.removeAll();var oe=this._axisGroup;if(this._axisGroup=new Group$9,this.group.add(this._axisGroup),!!r.get("show")){var ae=getCoordSysModel$1(r,$),re=ae.coordinateSystem,le=r.getAreaSelectStyle(),ue=le.width,de=r.axis.dim,he=re.getAxisLayout(de),pe=extend$4({strokeContainThreshold:ue},he),_e=new AxisBuilder$3(r,pe);each$v(elementList$3,_e.add,_e),this._axisGroup.add(_e.getGroup()),this._refreshBrushController(pe,le,r,ae,ue,L),groupTransition$1(oe,this._axisGroup,r)}}},n.prototype._refreshBrushController=function(r,$,L,V,oe,ae){var re=L.axis.getExtent(),le=re[1]-re[0],ue=Math.min(30,Math.abs(le)*.1),de=BoundingRect$3.create({x:re[0],y:-oe/2,width:le,height:oe});de.x-=ue,de.width+=2*ue,this._brushController.mount({enableGlobalPan:!0,rotation:r.rotation,x:r.position[0],y:r.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath$1(de),isTargetByCursor:makeRectIsTargetByCursor$1(de,ae,V),getLinearBrushOtherExtent:makeLinearBrushOtherExtent$1(de,0)}]).enableBrush({brushType:"lineX",brushStyle:$,removeOnClick:!0}).updateCovers(getCoverInfoList$1(L))},n.prototype._onBrush=function(r){var $=r.areas,L=this.axisModel,V=L.axis,oe=map$3($,function(ae){return[V.coordToData(ae.range[0],!0),V.coordToData(ae.range[1],!0)]});(!L.option.realtime===r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:L.id,intervals:oe})},n.prototype.dispose=function(){this._brushController.dispose()},n.type="parallelAxis",n}(ComponentView$3);function fromAxisAreaSelect$1(g,n,r){return r&&r.type==="axisAreaSelect"&&n.findComponents({mainType:"parallelAxis",query:r})[0]===g}function getCoverInfoList$1(g){var n=g.axis;return map$3(g.activeIntervals,function(r){return{brushType:"lineX",panelId:"pl",range:[n.dataToCoord(r[0],!0),n.dataToCoord(r[1],!0)]}})}function getCoordSysModel$1(g,n){return n.getComponent("parallel",g.get("parallelIndex"))}const ParallelAxisView$3=ParallelAxisView$2;var actionInfo$2={type:"axisAreaSelect",event:"axisAreaSelected"};function installParallelActions$1(g){g.registerAction(actionInfo$2,function(n,r){r.eachComponent({mainType:"parallelAxis",query:n},function($){$.axis.model.setActiveIntervals(n.intervals)})}),g.registerAction("parallelAxisExpand",function(n,r){r.eachComponent({mainType:"parallel",query:n},function($){$.setAxisExpand(n)})})}var defaultAxisOption$1={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function install$1v(g){g.registerComponentView(ParallelView$5),g.registerComponentModel(ParallelModel$3),g.registerCoordinateSystem("parallel",parallelCoordSysCreator$3),g.registerPreprocessor(parallelPreprocessor$1),g.registerComponentModel(ParallelAxisModel$3),g.registerComponentView(ParallelAxisView$3),axisModelCreator$1(g,"parallel",ParallelAxisModel$3,defaultAxisOption$1),installParallelActions$1(g)}function install$1u(g){use$1(install$1v),g.registerChartView(ParallelView$7),g.registerSeriesModel(ParallelSeriesModel$3),g.registerVisual(g.PRIORITY.VISUAL.BRUSH,parallelVisual$3)}var SankeyPathShape$1=function(){function g(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return g}(),SankeyPath$1=function(g){__extends$2(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new SankeyPathShape$1},n.prototype.buildPath=function(r,$){var L=$.extent;r.moveTo($.x1,$.y1),r.bezierCurveTo($.cpx1,$.cpy1,$.cpx2,$.cpy2,$.x2,$.y2),$.orient==="vertical"?(r.lineTo($.x2+L,$.y2),r.bezierCurveTo($.cpx2+L,$.cpy2,$.cpx1+L,$.cpy1,$.x1+L,$.y1)):(r.lineTo($.x2,$.y2+L),r.bezierCurveTo($.cpx2,$.cpy2+L,$.cpx1,$.cpy1+L,$.x1,$.y1+L)),r.closePath()},n.prototype.highlight=function(){enterEmphasis$1(this)},n.prototype.downplay=function(){leaveEmphasis$1(this)},n}(Path$3),SankeyView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._focusAdjacencyDisabled=!1,r}return n.prototype.render=function(r,$,L){var V=this,oe=r.getGraph(),ae=this.group,re=r.layoutInfo,le=re.width,ue=re.height,de=r.getData(),he=r.getData("edge"),pe=r.get("orient");this._model=r,ae.removeAll(),ae.x=re.x,ae.y=re.y,oe.eachEdge(function(_e){var $e=new SankeyPath$1,xe=getECData$1($e);xe.dataIndex=_e.dataIndex,xe.seriesIndex=r.seriesIndex,xe.dataType="edge";var Oe=_e.getModel(),Ce=Oe.getModel("lineStyle"),Ie=Ce.get("curveness"),Ne=_e.node1.getLayout(),ze=_e.node1.getModel(),Fe=ze.get("localX"),Ue=ze.get("localY"),At=_e.node2.getLayout(),Et=_e.node2.getModel(),Pt=Et.get("localX"),kt=Et.get("localY"),Dt=_e.getLayout(),Lt,hn,vn,_n,$n,Sn,xn,On;switch($e.shape.extent=Math.max(1,Dt.dy),$e.shape.orient=pe,pe==="vertical"?(Lt=(Fe!=null?Fe*le:Ne.x)+Dt.sy,hn=(Ue!=null?Ue*ue:Ne.y)+Ne.dy,vn=(Pt!=null?Pt*le:At.x)+Dt.ty,_n=kt!=null?kt*ue:At.y,$n=Lt,Sn=hn*(1-Ie)+_n*Ie,xn=vn,On=hn*Ie+_n*(1-Ie)):(Lt=(Fe!=null?Fe*le:Ne.x)+Ne.dx,hn=(Ue!=null?Ue*ue:Ne.y)+Dt.sy,vn=Pt!=null?Pt*le:At.x,_n=(kt!=null?kt*ue:At.y)+Dt.ty,$n=Lt*(1-Ie)+vn*Ie,Sn=hn,xn=Lt*Ie+vn*(1-Ie),On=_n),$e.setShape({x1:Lt,y1:hn,x2:vn,y2:_n,cpx1:$n,cpy1:Sn,cpx2:xn,cpy2:On}),$e.useStyle(Ce.getItemStyle()),$e.style.fill){case"source":$e.style.fill=_e.node1.getVisual("color"),$e.style.decal=_e.node1.getVisual("style").decal;break;case"target":$e.style.fill=_e.node2.getVisual("color"),$e.style.decal=_e.node2.getVisual("style").decal;break;case"gradient":var Cn=_e.node1.getVisual("color"),An=_e.node2.getVisual("color");isString$3(Cn)&&isString$3(An)&&($e.style.fill=new LinearGradient$3(0,0,+(pe==="horizontal"),+(pe==="vertical"),[{color:Cn,offset:0},{color:An,offset:1}]))}setLabelStyle$1($e,getLabelStatesModels$1(Oe,"edgeLabel"),{labelFetcher:r,labelDataIndex:_e.dataIndex,defaultText:""+Oe.get("value")}),$e.setTextConfig({position:"inside"});var Rn=Oe.getModel("emphasis");setStatesStylesFromModel$1($e,Oe,"lineStyle",function(Pn){return Pn.getItemStyle()}),ae.add($e),he.setItemGraphicEl(_e.dataIndex,$e);var Fn=Rn.get("focus");toggleHoverEmphasis$1($e,Fn==="adjacency"?_e.getAdjacentDataIndices():Fn,Rn.get("blurScope"),Rn.get("disabled")),getECData$1($e).dataType="edge"}),oe.eachNode(function(_e){var $e=_e.getLayout(),xe=_e.getModel(),Oe=xe.get("localX"),Ce=xe.get("localY"),Ie=xe.getModel("emphasis"),Ne=new Rect$7({shape:{x:Oe!=null?Oe*le:$e.x,y:Ce!=null?Ce*ue:$e.y,width:$e.dx,height:$e.dy},style:xe.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle$1(Ne,getLabelStatesModels$1(xe),{labelFetcher:r,labelDataIndex:_e.dataIndex,defaultText:_e.id}),Ne.disableLabelAnimation=!0,Ne.setStyle("fill",_e.getVisual("color")),Ne.setStyle("decal",_e.getVisual("style").decal),setStatesStylesFromModel$1(Ne,xe),ae.add(Ne),de.setItemGraphicEl(_e.dataIndex,Ne),getECData$1(Ne).dataType="node";var ze=Ie.get("focus");toggleHoverEmphasis$1(Ne,ze==="adjacency"?_e.getAdjacentDataIndices():ze,Ie.get("blurScope"),Ie.get("disabled"))}),de.eachItemGraphicEl(function(_e,$e){var xe=de.getItemModel($e);xe.get("draggable")&&(_e.drift=function(Oe,Ce){V._focusAdjacencyDisabled=!0,this.shape.x+=Oe,this.shape.y+=Ce,this.dirty(),L.dispatchAction({type:"dragNode",seriesId:r.id,dataIndex:de.getRawIndex($e),localX:this.shape.x/le,localY:this.shape.y/ue})},_e.ondragend=function(){V._focusAdjacencyDisabled=!1},_e.draggable=!0,_e.cursor="move")}),!this._data&&r.isAnimationEnabled()&&ae.setClipPath(createGridClipShape$4(ae.getBoundingRect(),r,function(){ae.removeClipPath()})),this._data=r.getData()},n.prototype.dispose=function(){},n.type="sankey",n}(ChartView$3);function createGridClipShape$4(g,n,r){var $=new Rect$7({shape:{x:g.x-10,y:g.y-10,width:0,height:g.height+20}});return initProps$1($,{shape:{width:g.width+20}},n,r),$}const SankeyView$3=SankeyView$2;var SankeySeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(r,$){var L=r.edges||r.links,V=r.data||r.nodes,oe=r.levels;this.levelModels=[];for(var ae=this.levelModels,re=0;re<oe.length;re++)oe[re].depth!=null&&oe[re].depth>=0&&(ae[oe[re].depth]=new Model$3(oe[re],this,$));if(V&&L){var le=createGraphFromNodeEdge$1(V,L,this,!0,ue);return le.data}function ue(de,he){de.wrapMethod("getItemModel",function(pe,_e){var $e=pe.parentModel,xe=$e.getData().getItemLayout(_e);if(xe){var Oe=xe.depth,Ce=$e.levelModels[Oe];Ce&&(pe.parentModel=Ce)}return pe}),he.wrapMethod("getItemModel",function(pe,_e){var $e=pe.parentModel,xe=$e.getGraph().getEdgeByIndex(_e),Oe=xe.node1.getLayout();if(Oe){var Ce=Oe.depth,Ie=$e.levelModels[Ce];Ie&&(pe.parentModel=Ie)}return pe})}},n.prototype.setNodePosition=function(r,$){var L=this.option.data||this.option.nodes,V=L[r];V.localX=$[0],V.localY=$[1]},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.formatTooltip=function(r,$,L){function V(pe){return isNaN(pe)||pe==null}if(L==="edge"){var oe=this.getDataParams(r,L),ae=oe.data,re=oe.value,le=ae.source+" -- "+ae.target;return createTooltipMarkup$1("nameValue",{name:le,value:re,noValue:V(re)})}else{var ue=this.getGraph().getNodeByIndex(r),de=ue.getLayout().value,he=this.getDataParams(r,L).data.name;return createTooltipMarkup$1("nameValue",{name:he!=null?he+"":null,value:de,noValue:V(de)})}},n.prototype.optionUpdated=function(){},n.prototype.getDataParams=function(r,$){var L=g.prototype.getDataParams.call(this,r,$);if(L.value==null&&$==="node"){var V=this.getGraph().getNodeByIndex(r),oe=V.getLayout().value;L.value=oe}return L},n.type="series.sankey",n.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},n}(SeriesModel$3);const SankeySeriesModel$3=SankeySeriesModel$2;function sankeyLayout$1(g,n){g.eachSeriesByType("sankey",function(r){var $=r.get("nodeWidth"),L=r.get("nodeGap"),V=getViewRect$7(r,n);r.layoutInfo=V;var oe=V.width,ae=V.height,re=r.getGraph(),le=re.nodes,ue=re.edges;computeNodeValues$1(le);var de=filter$1(le,function($e){return $e.getLayout().value===0}),he=de.length!==0?0:r.get("layoutIterations"),pe=r.get("orient"),_e=r.get("nodeAlign");layoutSankey$1(le,ue,$,L,oe,ae,he,pe,_e)})}function getViewRect$7(g,n){return getLayoutRect$1(g.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function layoutSankey$1(g,n,r,$,L,V,oe,ae,re){computeNodeBreadths$1(g,n,r,L,V,ae,re),computeNodeDepths$1(g,n,V,L,$,oe,ae),computeEdgeDepths$1(g,ae)}function computeNodeValues$1(g){each$v(g,function(n){var r=sum$1(n.outEdges,getEdgeValue$1),$=sum$1(n.inEdges,getEdgeValue$1),L=n.getValue()||0,V=Math.max(r,$,L);n.setLayout({value:V},!0)})}function computeNodeBreadths$1(g,n,r,$,L,V,oe){for(var ae=[],re=[],le=[],ue=[],de=0,he=0;he<n.length;he++)ae[he]=1;for(var he=0;he<g.length;he++)re[he]=g[he].inEdges.length,re[he]===0&&le.push(g[he]);for(var pe=-1;le.length;){for(var _e=0;_e<le.length;_e++){var $e=le[_e],xe=$e.hostGraph.data.getRawDataItem($e.dataIndex),Oe=xe.depth!=null&&xe.depth>=0;Oe&&xe.depth>pe&&(pe=xe.depth),$e.setLayout({depth:Oe?xe.depth:de},!0),V==="vertical"?$e.setLayout({dy:r},!0):$e.setLayout({dx:r},!0);for(var Ce=0;Ce<$e.outEdges.length;Ce++){var Ie=$e.outEdges[Ce],Ne=n.indexOf(Ie);ae[Ne]=0;var ze=Ie.node2,Fe=g.indexOf(ze);--re[Fe]===0&&ue.indexOf(ze)<0&&ue.push(ze)}}++de,le=ue,ue=[]}for(var he=0;he<ae.length;he++)if(ae[he]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var Ue=pe>de-1?pe:de-1;oe&&oe!=="left"&&adjustNodeWithNodeAlign$1(g,oe,V,Ue);var At=V==="vertical"?(L-r)/Ue:($-r)/Ue;scaleNodeBreadths$1(g,At,V)}function isNodeDepth$1(g){var n=g.hostGraph.data.getRawDataItem(g.dataIndex);return n.depth!=null&&n.depth>=0}function adjustNodeWithNodeAlign$1(g,n,r,$){if(n==="right"){for(var L=[],V=g,oe=0;V.length;){for(var ae=0;ae<V.length;ae++){var re=V[ae];re.setLayout({skNodeHeight:oe},!0);for(var le=0;le<re.inEdges.length;le++){var ue=re.inEdges[le];L.indexOf(ue.node1)<0&&L.push(ue.node1)}}V=L,L=[],++oe}each$v(g,function(de){isNodeDepth$1(de)||de.setLayout({depth:Math.max(0,$-de.getLayout().skNodeHeight)},!0)})}else n==="justify"&&moveSinksRight$1(g,$)}function moveSinksRight$1(g,n){each$v(g,function(r){!isNodeDepth$1(r)&&!r.outEdges.length&&r.setLayout({depth:n},!0)})}function scaleNodeBreadths$1(g,n,r){each$v(g,function($){var L=$.getLayout().depth*n;r==="vertical"?$.setLayout({y:L},!0):$.setLayout({x:L},!0)})}function computeNodeDepths$1(g,n,r,$,L,V,oe){var ae=prepareNodesByBreadth$1(g,oe);initializeNodeDepth$1(ae,n,r,$,L,oe),resolveCollisions$1(ae,L,r,$,oe);for(var re=1;V>0;V--)re*=.99,relaxRightToLeft$1(ae,re,oe),resolveCollisions$1(ae,L,r,$,oe),relaxLeftToRight$1(ae,re,oe),resolveCollisions$1(ae,L,r,$,oe)}function prepareNodesByBreadth$1(g,n){var r=[],$=n==="vertical"?"y":"x",L=groupData$1(g,function(V){return V.getLayout()[$]});return L.keys.sort(function(V,oe){return V-oe}),each$v(L.keys,function(V){r.push(L.buckets.get(V))}),r}function initializeNodeDepth$1(g,n,r,$,L,V){var oe=1/0;each$v(g,function(ae){var re=ae.length,le=0;each$v(ae,function(de){le+=de.getLayout().value});var ue=V==="vertical"?($-(re-1)*L)/le:(r-(re-1)*L)/le;ue<oe&&(oe=ue)}),each$v(g,function(ae){each$v(ae,function(re,le){var ue=re.getLayout().value*oe;V==="vertical"?(re.setLayout({x:le},!0),re.setLayout({dx:ue},!0)):(re.setLayout({y:le},!0),re.setLayout({dy:ue},!0))})}),each$v(n,function(ae){var re=+ae.getValue()*oe;ae.setLayout({dy:re},!0)})}function resolveCollisions$1(g,n,r,$,L){var V=L==="vertical"?"x":"y";each$v(g,function(oe){oe.sort(function($e,xe){return $e.getLayout()[V]-xe.getLayout()[V]});for(var ae,re,le,ue=0,de=oe.length,he=L==="vertical"?"dx":"dy",pe=0;pe<de;pe++)re=oe[pe],le=ue-re.getLayout()[V],le>0&&(ae=re.getLayout()[V]+le,L==="vertical"?re.setLayout({x:ae},!0):re.setLayout({y:ae},!0)),ue=re.getLayout()[V]+re.getLayout()[he]+n;var _e=L==="vertical"?$:r;if(le=ue-n-_e,le>0){ae=re.getLayout()[V]-le,L==="vertical"?re.setLayout({x:ae},!0):re.setLayout({y:ae},!0),ue=ae;for(var pe=de-2;pe>=0;--pe)re=oe[pe],le=re.getLayout()[V]+re.getLayout()[he]+n-ue,le>0&&(ae=re.getLayout()[V]-le,L==="vertical"?re.setLayout({x:ae},!0):re.setLayout({y:ae},!0)),ue=re.getLayout()[V]}})}function relaxRightToLeft$1(g,n,r){each$v(g.slice().reverse(),function($){each$v($,function(L){if(L.outEdges.length){var V=sum$1(L.outEdges,weightedTarget$1,r)/sum$1(L.outEdges,getEdgeValue$1);if(isNaN(V)){var oe=L.outEdges.length;V=oe?sum$1(L.outEdges,centerTarget$1,r)/oe:0}if(r==="vertical"){var ae=L.getLayout().x+(V-center$2(L,r))*n;L.setLayout({x:ae},!0)}else{var re=L.getLayout().y+(V-center$2(L,r))*n;L.setLayout({y:re},!0)}}})})}function weightedTarget$1(g,n){return center$2(g.node2,n)*g.getValue()}function centerTarget$1(g,n){return center$2(g.node2,n)}function weightedSource$1(g,n){return center$2(g.node1,n)*g.getValue()}function centerSource$1(g,n){return center$2(g.node1,n)}function center$2(g,n){return n==="vertical"?g.getLayout().x+g.getLayout().dx/2:g.getLayout().y+g.getLayout().dy/2}function getEdgeValue$1(g){return g.getValue()}function sum$1(g,n,r){for(var $=0,L=g.length,V=-1;++V<L;){var oe=+n(g[V],r);isNaN(oe)||($+=oe)}return $}function relaxLeftToRight$1(g,n,r){each$v(g,function($){each$v($,function(L){if(L.inEdges.length){var V=sum$1(L.inEdges,weightedSource$1,r)/sum$1(L.inEdges,getEdgeValue$1);if(isNaN(V)){var oe=L.inEdges.length;V=oe?sum$1(L.inEdges,centerSource$1,r)/oe:0}if(r==="vertical"){var ae=L.getLayout().x+(V-center$2(L,r))*n;L.setLayout({x:ae},!0)}else{var re=L.getLayout().y+(V-center$2(L,r))*n;L.setLayout({y:re},!0)}}})})}function computeEdgeDepths$1(g,n){var r=n==="vertical"?"x":"y";each$v(g,function($){$.outEdges.sort(function(L,V){return L.node2.getLayout()[r]-V.node2.getLayout()[r]}),$.inEdges.sort(function(L,V){return L.node1.getLayout()[r]-V.node1.getLayout()[r]})}),each$v(g,function($){var L=0,V=0;each$v($.outEdges,function(oe){oe.setLayout({sy:L},!0),L+=oe.getLayout().dy}),each$v($.inEdges,function(oe){oe.setLayout({ty:V},!0),V+=oe.getLayout().dy})})}function sankeyVisual$1(g){g.eachSeriesByType("sankey",function(n){var r=n.getGraph(),$=r.nodes,L=r.edges;if($.length){var V=1/0,oe=-1/0;each$v($,function(ae){var re=ae.getLayout().value;re<V&&(V=re),re>oe&&(oe=re)}),each$v($,function(ae){var re=new VisualMapping$3({type:"color",mappingMethod:"linear",dataExtent:[V,oe],visual:n.get("color")}),le=re.mapValueToVisual(ae.getLayout().value),ue=ae.getModel().get(["itemStyle","color"]);ue!=null?(ae.setVisual("color",ue),ae.setVisual("style",{fill:ue})):(ae.setVisual("color",le),ae.setVisual("style",{fill:le}))})}L.length&&each$v(L,function(ae){var re=ae.getModel().get("lineStyle");ae.setVisual("style",re)})})}function install$1t(g){g.registerChartView(SankeyView$3),g.registerSeriesModel(SankeySeriesModel$3),g.registerLayout(sankeyLayout$1),g.registerVisual(sankeyVisual$1),g.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(n,r){r.eachComponent({mainType:"series",subType:"sankey",query:n},function($){$.setNodePosition(n.dataIndex,[n.localX,n.localY])})})}var WhiskerBoxCommonMixin$1=function(){function g(){}return g.prototype.getInitialData=function(n,r){var $,L=r.getComponent("xAxis",this.get("xAxisIndex")),V=r.getComponent("yAxis",this.get("yAxisIndex")),oe=L.get("type"),ae=V.get("type"),re;oe==="category"?(n.layout="horizontal",$=L.getOrdinalMeta(),re=!0):ae==="category"?(n.layout="vertical",$=V.getOrdinalMeta(),re=!0):n.layout=n.layout||"horizontal";var le=["x","y"],ue=n.layout==="horizontal"?0:1,de=this._baseAxisDim=le[ue],he=le[1-ue],pe=[L,V],_e=pe[ue].get("type"),$e=pe[1-ue].get("type"),xe=n.data;if(xe&&re){var Oe=[];each$v(xe,function(Ne,ze){var Fe;isArray$6(Ne)?(Fe=Ne.slice(),Ne.unshift(ze)):isArray$6(Ne.value)?(Fe=extend$4({},Ne),Fe.value=Fe.value.slice(),Ne.value.unshift(ze)):Fe=Ne,Oe.push(Fe)}),n.data=Oe}var Ce=this.defaultValueDimensions,Ie=[{name:de,type:getDimensionTypeByAxis$1(_e),ordinalMeta:$,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:he,type:getDimensionTypeByAxis$1($e),dimsDef:Ce.slice()}];return createSeriesDataSimply$1(this,{coordDimensions:Ie,dimensionsCount:Ce.length+1,encodeDefaulter:curry$3(makeSeriesEncodeForAxisCoordSys$1,Ie,this)})},g.prototype.getBaseAxis=function(){var n=this._baseAxisDim;return this.ecModel.getComponent(n+"Axis",this.get(n+"AxisIndex")).axis},g}(),BoxplotSeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],r.visualDrawType="stroke",r}return n.type="series.boxplot",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},n}(SeriesModel$3);mixin$1(BoxplotSeriesModel$2,WhiskerBoxCommonMixin$1,!0);const BoxplotSeriesModel$3=BoxplotSeriesModel$2;var BoxplotView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=r.getData(),oe=this.group,ae=this._data;this._data||oe.removeAll();var re=r.get("layout")==="horizontal"?1:0;V.diff(ae).add(function(le){if(V.hasValue(le)){var ue=V.getItemLayout(le),de=createNormalBox$3(ue,V,le,re,!0);V.setItemGraphicEl(le,de),oe.add(de)}}).update(function(le,ue){var de=ae.getItemGraphicEl(ue);if(!V.hasValue(le)){oe.remove(de);return}var he=V.getItemLayout(le);de?(saveOldStyle$1(de),updateNormalBoxData$1(he,de,V,le)):de=createNormalBox$3(he,V,le,re),oe.add(de),V.setItemGraphicEl(le,de)}).remove(function(le){var ue=ae.getItemGraphicEl(le);ue&&oe.remove(ue)}).execute(),this._data=V},n.prototype.remove=function(r){var $=this.group,L=this._data;this._data=null,L&&L.eachItemGraphicEl(function(V){V&&$.remove(V)})},n.type="boxplot",n}(ChartView$3),BoxPathShape$1=function(){function g(){}return g}(),BoxPath$1=function(g){__extends$2(n,g);function n(r){var $=g.call(this,r)||this;return $.type="boxplotBoxPath",$}return n.prototype.getDefaultShape=function(){return new BoxPathShape$1},n.prototype.buildPath=function(r,$){var L=$.points,V=0;for(r.moveTo(L[V][0],L[V][1]),V++;V<4;V++)r.lineTo(L[V][0],L[V][1]);for(r.closePath();V<L.length;V++)r.moveTo(L[V][0],L[V][1]),V++,r.lineTo(L[V][0],L[V][1])},n}(Path$3);function createNormalBox$3(g,n,r,$,L){var V=g.ends,oe=new BoxPath$1({shape:{points:L?transInit$3(V,$,g):V}});return updateNormalBoxData$1(g,oe,n,r,L),oe}function updateNormalBoxData$1(g,n,r,$,L){var V=r.hostModel,oe=graphic$1[L?"initProps":"updateProps"];oe(n,{shape:{points:g.ends}},V,$),n.useStyle(r.getItemVisual($,"style")),n.style.strokeNoScale=!0,n.z2=100;var ae=r.getItemModel($),re=ae.getModel("emphasis");setStatesStylesFromModel$1(n,ae),toggleHoverEmphasis$1(n,re.get("focus"),re.get("blurScope"),re.get("disabled"))}function transInit$3(g,n,r){return map$3(g,function($){return $=$.slice(),$[n]=r.initBaseline,$})}const BoxplotView$3=BoxplotView$2;var each$p=each$v;function boxplotLayout$1(g){var n=groupSeriesByAxis$1(g);each$p(n,function(r){var $=r.seriesModels;!$.length||(calculateBase$1(r),each$p($,function(L,V){layoutSingleSeries$1(L,r.boxOffsetList[V],r.boxWidthList[V])}))})}function groupSeriesByAxis$1(g){var n=[],r=[];return g.eachSeriesByType("boxplot",function($){var L=$.getBaseAxis(),V=indexOf$1(r,L);V<0&&(V=r.length,r[V]=L,n[V]={axis:L,seriesModels:[]}),n[V].seriesModels.push($)}),n}function calculateBase$1(g){var n=g.axis,r=g.seriesModels,$=r.length,L=g.boxWidthList=[],V=g.boxOffsetList=[],oe=[],ae;if(n.type==="category")ae=n.getBandWidth();else{var re=0;each$p(r,function(_e){re=Math.max(re,_e.getData().count())});var le=n.getExtent();ae=Math.abs(le[1]-le[0])/re}each$p(r,function(_e){var $e=_e.get("boxWidth");isArray$6($e)||($e=[$e,$e]),oe.push([parsePercent$2($e[0],ae)||0,parsePercent$2($e[1],ae)||0])});var ue=ae*.8-2,de=ue/$*.3,he=(ue-de*($-1))/$,pe=he/2-ue/2;each$p(r,function(_e,$e){V.push(pe),pe+=de+he,L.push(Math.min(Math.max(he,oe[$e][0]),oe[$e][1]))})}function layoutSingleSeries$1(g,n,r){var $=g.coordinateSystem,L=g.getData(),V=r/2,oe=g.get("layout")==="horizontal"?0:1,ae=1-oe,re=["x","y"],le=L.mapDimension(re[oe]),ue=L.mapDimensionsAll(re[ae]);if(le==null||ue.length<5)return;for(var de=0;de<L.count();de++){var he=L.get(le,de),pe=Ie(he,ue[2],de),_e=Ie(he,ue[0],de),$e=Ie(he,ue[1],de),xe=Ie(he,ue[3],de),Oe=Ie(he,ue[4],de),Ce=[];Ne(Ce,$e,!1),Ne(Ce,xe,!0),Ce.push(_e,$e,Oe,xe),ze(Ce,_e),ze(Ce,Oe),ze(Ce,pe),L.setItemLayout(de,{initBaseline:pe[ae],ends:Ce})}function Ie(Fe,Ue,At){var Et=L.get(Ue,At),Pt=[];Pt[oe]=Fe,Pt[ae]=Et;var kt;return isNaN(Fe)||isNaN(Et)?kt=[NaN,NaN]:(kt=$.dataToPoint(Pt),kt[oe]+=n),kt}function Ne(Fe,Ue,At){var Et=Ue.slice(),Pt=Ue.slice();Et[oe]+=V,Pt[oe]-=V,At?Fe.push(Et,Pt):Fe.push(Pt,Et)}function ze(Fe,Ue){var At=Ue.slice(),Et=Ue.slice();At[oe]-=V,Et[oe]+=V,Fe.push(At,Et)}}function prepareBoxplotData$1(g,n){n=n||{};for(var r=[],$=[],L=n.boundIQR,V=L==="none"||L===0,oe=0;oe<g.length;oe++){var ae=asc$5(g[oe].slice()),re=quantile$1(ae,.25),le=quantile$1(ae,.5),ue=quantile$1(ae,.75),de=ae[0],he=ae[ae.length-1],pe=(L!=null?L:1.5)*(ue-re),_e=V?de:Math.max(de,re-pe),$e=V?he:Math.min(he,ue+pe),xe=n.itemNameFormatter,Oe=isFunction$3(xe)?xe({value:oe}):isString$3(xe)?xe.replace("{value}",oe+""):oe+"";r.push([Oe,_e,re,le,ue,$e]);for(var Ce=0;Ce<ae.length;Ce++){var Ie=ae[Ce];if(Ie<_e||Ie>$e){var Ne=[Oe,Ie];$.push(Ne)}}}return{boxData:r,outliers:$}}var boxplotTransform$1={type:"echarts:boxplot",transform:function(g){var n=g.upstream;if(n.sourceFormat!==SOURCE_FORMAT_ARRAY_ROWS$1){var r="";throwError$1(r)}var $=prepareBoxplotData$1(n.getRawData(),g.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:$.boxData},{data:$.outliers}]}};function install$1s(g){g.registerSeriesModel(BoxplotSeriesModel$3),g.registerChartView(BoxplotView$3),g.registerLayout(boxplotLayout$1),g.registerTransform(boxplotTransform$1)}var SKIP_PROPS$1=["color","borderColor"],CandlestickView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(r),this._isLargeDraw?this._renderLarge(r):this._renderNormal(r)},n.prototype.incrementalPrepareRender=function(r,$,L){this._clear(),this._updateDrawMode(r)},n.prototype.incrementalRender=function(r,$,L,V){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(r,$):this._incrementalRenderNormal(r,$)},n.prototype.eachRendered=function(r){traverseElements$1(this._progressiveEls||this.group,r)},n.prototype._updateDrawMode=function(r){var $=r.pipelineContext.large;(this._isLargeDraw==null||$!==this._isLargeDraw)&&(this._isLargeDraw=$,this._clear())},n.prototype._renderNormal=function(r){var $=r.getData(),L=this._data,V=this.group,oe=$.getLayout("isSimpleBox"),ae=r.get("clip",!0),re=r.coordinateSystem,le=re.getArea&&re.getArea();this._data||V.removeAll(),$.diff(L).add(function(ue){if($.hasValue(ue)){var de=$.getItemLayout(ue);if(ae&&isNormalBoxClipped$1(le,de))return;var he=createNormalBox$2(de,ue,!0);initProps$1(he,{shape:{points:de.ends}},r,ue),setBoxCommon$1(he,$,ue,oe),V.add(he),$.setItemGraphicEl(ue,he)}}).update(function(ue,de){var he=L.getItemGraphicEl(de);if(!$.hasValue(ue)){V.remove(he);return}var pe=$.getItemLayout(ue);if(ae&&isNormalBoxClipped$1(le,pe)){V.remove(he);return}he?(updateProps$3(he,{shape:{points:pe.ends}},r,ue),saveOldStyle$1(he)):he=createNormalBox$2(pe),setBoxCommon$1(he,$,ue,oe),V.add(he),$.setItemGraphicEl(ue,he)}).remove(function(ue){var de=L.getItemGraphicEl(ue);de&&V.remove(de)}).execute(),this._data=$},n.prototype._renderLarge=function(r){this._clear(),createLarge$2(r,this.group);var $=r.get("clip",!0)?createClipPath$1(r.coordinateSystem,!1,r):null;$?this.group.setClipPath($):this.group.removeClipPath()},n.prototype._incrementalRenderNormal=function(r,$){for(var L=$.getData(),V=L.getLayout("isSimpleBox"),oe;(oe=r.next())!=null;){var ae=L.getItemLayout(oe),re=createNormalBox$2(ae);setBoxCommon$1(re,L,oe,V),re.incremental=!0,this.group.add(re),this._progressiveEls.push(re)}},n.prototype._incrementalRenderLarge=function(r,$){createLarge$2($,this.group,this._progressiveEls,!0)},n.prototype.remove=function(r){this._clear()},n.prototype._clear=function(){this.group.removeAll(),this._data=null},n.type="candlestick",n}(ChartView$3),NormalBoxPathShape$1=function(){function g(){}return g}(),NormalBoxPath$1=function(g){__extends$2(n,g);function n(r){var $=g.call(this,r)||this;return $.type="normalCandlestickBox",$}return n.prototype.getDefaultShape=function(){return new NormalBoxPathShape$1},n.prototype.buildPath=function(r,$){var L=$.points;this.__simpleBox?(r.moveTo(L[4][0],L[4][1]),r.lineTo(L[6][0],L[6][1])):(r.moveTo(L[0][0],L[0][1]),r.lineTo(L[1][0],L[1][1]),r.lineTo(L[2][0],L[2][1]),r.lineTo(L[3][0],L[3][1]),r.closePath(),r.moveTo(L[4][0],L[4][1]),r.lineTo(L[5][0],L[5][1]),r.moveTo(L[6][0],L[6][1]),r.lineTo(L[7][0],L[7][1]))},n}(Path$3);function createNormalBox$2(g,n,r){var $=g.ends;return new NormalBoxPath$1({shape:{points:r?transInit$2($,g):$},z2:100})}function isNormalBoxClipped$1(g,n){for(var r=!0,$=0;$<n.ends.length;$++)if(g.contain(n.ends[$][0],n.ends[$][1])){r=!1;break}return r}function setBoxCommon$1(g,n,r,$){var L=n.getItemModel(r);g.useStyle(n.getItemVisual(r,"style")),g.style.strokeNoScale=!0,g.__simpleBox=$,setStatesStylesFromModel$1(g,L)}function transInit$2(g,n){return map$3(g,function(r){return r=r.slice(),r[1]=n.initBaseline,r})}var LargeBoxPathShape$1=function(){function g(){}return g}(),LargeBoxPath$1=function(g){__extends$2(n,g);function n(r){var $=g.call(this,r)||this;return $.type="largeCandlestickBox",$}return n.prototype.getDefaultShape=function(){return new LargeBoxPathShape$1},n.prototype.buildPath=function(r,$){for(var L=$.points,V=0;V<L.length;)if(this.__sign===L[V++]){var oe=L[V++];r.moveTo(oe,L[V++]),r.lineTo(oe,L[V++])}else V+=3},n}(Path$3);function createLarge$2(g,n,r,$){var L=g.getData(),V=L.getLayout("largePoints"),oe=new LargeBoxPath$1({shape:{points:V},__sign:1,ignoreCoarsePointer:!0});n.add(oe);var ae=new LargeBoxPath$1({shape:{points:V},__sign:-1,ignoreCoarsePointer:!0});n.add(ae);var re=new LargeBoxPath$1({shape:{points:V},__sign:0,ignoreCoarsePointer:!0});n.add(re),setLargeStyle$1(1,oe,g),setLargeStyle$1(-1,ae,g),setLargeStyle$1(0,re,g),$&&(oe.incremental=!0,ae.incremental=!0),r&&r.push(oe,ae)}function setLargeStyle$1(g,n,r,$){var L=r.get(["itemStyle",g>0?"borderColor":"borderColor0"])||r.get(["itemStyle",g>0?"color":"color0"]);g===0&&(L=r.get(["itemStyle","borderColorDoji"]));var V=r.getModel("itemStyle").getItemStyle(SKIP_PROPS$1);n.useStyle(V),n.style.fill=null,n.style.stroke=L}const CandlestickView$3=CandlestickView$2;var CandlestickSeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],r}return n.prototype.getShadowDim=function(){return"open"},n.prototype.brushSelector=function(r,$,L){var V=$.getItemLayout(r);return V&&L.rect(V.brushRect)},n.type="series.candlestick",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},n}(SeriesModel$3);mixin$1(CandlestickSeriesModel$2,WhiskerBoxCommonMixin$1,!0);const CandlestickSeriesModel$3=CandlestickSeriesModel$2;function candlestickPreprocessor$1(g){!g||!isArray$6(g.series)||each$v(g.series,function(n){isObject$9(n)&&n.type==="k"&&(n.type="candlestick")})}var positiveBorderColorQuery$1=["itemStyle","borderColor"],negativeBorderColorQuery$1=["itemStyle","borderColor0"],dojiBorderColorQuery$1=["itemStyle","borderColorDoji"],positiveColorQuery$1=["itemStyle","color"],negativeColorQuery$1=["itemStyle","color0"],candlestickVisual$2={seriesType:"candlestick",plan:createRenderPlanner$1(),performRawSeries:!0,reset:function(g,n){function r(V,oe){return oe.get(V>0?positiveColorQuery$1:negativeColorQuery$1)}function $(V,oe){return oe.get(V===0?dojiBorderColorQuery$1:V>0?positiveBorderColorQuery$1:negativeBorderColorQuery$1)}if(!n.isSeriesFiltered(g)){var L=g.pipelineContext.large;return!L&&{progress:function(V,oe){for(var ae;(ae=V.next())!=null;){var re=oe.getItemModel(ae),le=oe.getItemLayout(ae).sign,ue=re.getItemStyle();ue.fill=r(le,re),ue.stroke=$(le,re)||ue.fill;var de=oe.ensureUniqueItemVisual(ae,"style");extend$4(de,ue)}}}}}};const candlestickVisual$3=candlestickVisual$2;var candlestickLayout$2={seriesType:"candlestick",plan:createRenderPlanner$1(),reset:function(g){var n=g.coordinateSystem,r=g.getData(),$=calculateCandleWidth$1(g,r),L=0,V=1,oe=["x","y"],ae=r.getDimensionIndex(r.mapDimension(oe[L])),re=map$3(r.mapDimensionsAll(oe[V]),r.getDimensionIndex,r),le=re[0],ue=re[1],de=re[2],he=re[3];if(r.setLayout({candleWidth:$,isSimpleBox:$<=1.3}),ae<0||re.length<4)return;return{progress:g.pipelineContext.large?_e:pe};function pe($e,xe){for(var Oe,Ce=xe.getStore();(Oe=$e.next())!=null;){var Ie=Ce.get(ae,Oe),Ne=Ce.get(le,Oe),ze=Ce.get(ue,Oe),Fe=Ce.get(de,Oe),Ue=Ce.get(he,Oe),At=Math.min(Ne,ze),Et=Math.max(Ne,ze),Pt=$n(At,Ie),kt=$n(Et,Ie),Dt=$n(Fe,Ie),Lt=$n(Ue,Ie),hn=[];Sn(hn,kt,0),Sn(hn,Pt,1),hn.push(On(Lt),On(kt),On(Dt),On(Pt));var vn=xe.getItemModel(Oe),_n=!!vn.get(["itemStyle","borderColorDoji"]);xe.setItemLayout(Oe,{sign:getSign$1(Ce,Oe,Ne,ze,ue,_n),initBaseline:Ne>ze?kt[V]:Pt[V],ends:hn,brushRect:xn(Fe,Ue,Ie)})}function $n(Cn,An){var Rn=[];return Rn[L]=An,Rn[V]=Cn,isNaN(An)||isNaN(Cn)?[NaN,NaN]:n.dataToPoint(Rn)}function Sn(Cn,An,Rn){var Fn=An.slice(),Pn=An.slice();Fn[L]=subPixelOptimize$2(Fn[L]+$/2,1,!1),Pn[L]=subPixelOptimize$2(Pn[L]-$/2,1,!0),Rn?Cn.push(Fn,Pn):Cn.push(Pn,Fn)}function xn(Cn,An,Rn){var Fn=$n(Cn,Rn),Pn=$n(An,Rn);return Fn[L]-=$/2,Pn[L]-=$/2,{x:Fn[0],y:Fn[1],width:$,height:Pn[1]-Fn[1]}}function On(Cn){return Cn[L]=subPixelOptimize$2(Cn[L],1),Cn}}function _e($e,xe){for(var Oe=createFloat32Array$1($e.count*4),Ce=0,Ie,Ne=[],ze=[],Fe,Ue=xe.getStore(),At=!!g.get(["itemStyle","borderColorDoji"]);(Fe=$e.next())!=null;){var Et=Ue.get(ae,Fe),Pt=Ue.get(le,Fe),kt=Ue.get(ue,Fe),Dt=Ue.get(de,Fe),Lt=Ue.get(he,Fe);if(isNaN(Et)||isNaN(Dt)||isNaN(Lt)){Oe[Ce++]=NaN,Ce+=3;continue}Oe[Ce++]=getSign$1(Ue,Fe,Pt,kt,ue,At),Ne[L]=Et,Ne[V]=Dt,Ie=n.dataToPoint(Ne,null,ze),Oe[Ce++]=Ie?Ie[0]:NaN,Oe[Ce++]=Ie?Ie[1]:NaN,Ne[V]=Lt,Ie=n.dataToPoint(Ne,null,ze),Oe[Ce++]=Ie?Ie[1]:NaN}xe.setLayout("largePoints",Oe)}}};function getSign$1(g,n,r,$,L,V){var oe;return r>$?oe=-1:r<$?oe=1:oe=V?0:n>0?g.get(L,n-1)<=$?1:-1:1,oe}function calculateCandleWidth$1(g,n){var r=g.getBaseAxis(),$,L=r.type==="category"?r.getBandWidth():($=r.getExtent(),Math.abs($[1]-$[0])/n.count()),V=parsePercent$2(retrieve2$1(g.get("barMaxWidth"),L),L),oe=parsePercent$2(retrieve2$1(g.get("barMinWidth"),1),L),ae=g.get("barWidth");return ae!=null?parsePercent$2(ae,L):Math.max(Math.min(L/2,V),oe)}const candlestickLayout$3=candlestickLayout$2;function install$1r(g){g.registerChartView(CandlestickView$3),g.registerSeriesModel(CandlestickSeriesModel$3),g.registerPreprocessor(candlestickPreprocessor$1),g.registerVisual(candlestickVisual$3),g.registerLayout(candlestickLayout$3)}function updateRipplePath$1(g,n){var r=n.rippleEffectColor||n.color;g.eachChild(function($){$.attr({z:n.z,zlevel:n.zlevel,style:{stroke:n.brushType==="stroke"?r:null,fill:n.brushType==="fill"?r:null}})})}var EffectSymbol$2=function(g){__extends$2(n,g);function n(r,$){var L=g.call(this)||this,V=new SymbolClz$2(r,$),oe=new Group$9;return L.add(V),L.add(oe),L.updateData(r,$),L}return n.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},n.prototype.startEffectAnimation=function(r){for(var $=r.symbolType,L=r.color,V=r.rippleNumber,oe=this.childAt(1),ae=0;ae<V;ae++){var re=createSymbol$3($,-1,-1,2,2,L);re.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var le=-ae/V*r.period+r.effectOffset;re.animate("",!0).when(r.period,{scaleX:r.rippleScale/2,scaleY:r.rippleScale/2}).delay(le).start(),re.animateStyle(!0).when(r.period,{opacity:0}).delay(le).start(),oe.add(re)}updateRipplePath$1(oe,r)},n.prototype.updateEffectAnimation=function(r){for(var $=this._effectCfg,L=this.childAt(1),V=["symbolType","period","rippleScale","rippleNumber"],oe=0;oe<V.length;oe++){var ae=V[oe];if($[ae]!==r[ae]){this.stopEffectAnimation(),this.startEffectAnimation(r);return}}updateRipplePath$1(L,r)},n.prototype.highlight=function(){enterEmphasis$1(this)},n.prototype.downplay=function(){leaveEmphasis$1(this)},n.prototype.getSymbolType=function(){var r=this.childAt(0);return r&&r.getSymbolType()},n.prototype.updateData=function(r,$){var L=this,V=r.hostModel;this.childAt(0).updateData(r,$);var oe=this.childAt(1),ae=r.getItemModel($),re=r.getItemVisual($,"symbol"),le=normalizeSymbolSize$1(r.getItemVisual($,"symbolSize")),ue=r.getItemVisual($,"style"),de=ue&&ue.fill,he=ae.getModel("emphasis");oe.setScale(le),oe.traverse(function(xe){xe.setStyle("fill",de)});var pe=normalizeSymbolOffset$1(r.getItemVisual($,"symbolOffset"),le);pe&&(oe.x=pe[0],oe.y=pe[1]);var _e=r.getItemVisual($,"symbolRotate");oe.rotation=(_e||0)*Math.PI/180||0;var $e={};$e.showEffectOn=V.get("showEffectOn"),$e.rippleScale=ae.get(["rippleEffect","scale"]),$e.brushType=ae.get(["rippleEffect","brushType"]),$e.period=ae.get(["rippleEffect","period"])*1e3,$e.effectOffset=$/r.count(),$e.z=V.getShallow("z")||0,$e.zlevel=V.getShallow("zlevel")||0,$e.symbolType=re,$e.color=de,$e.rippleEffectColor=ae.get(["rippleEffect","color"]),$e.rippleNumber=ae.get(["rippleEffect","number"]),$e.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation($e):this.startEffectAnimation($e),this._effectCfg=$e):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(xe){xe==="emphasis"?$e.showEffectOn!=="render"&&L.startEffectAnimation($e):xe==="normal"&&$e.showEffectOn!=="render"&&L.stopEffectAnimation()}),this._effectCfg=$e,toggleHoverEmphasis$1(this,he.get("focus"),he.get("blurScope"),he.get("disabled"))},n.prototype.fadeOut=function(r){r&&r()},n}(Group$9);const EffectSymbol$3=EffectSymbol$2;var EffectScatterView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this._symbolDraw=new SymbolDraw$3(EffectSymbol$3)},n.prototype.render=function(r,$,L){var V=r.getData(),oe=this._symbolDraw;oe.updateData(V,{clipShape:this._getClipShape(r)}),this.group.add(oe.group)},n.prototype._getClipShape=function(r){var $=r.coordinateSystem,L=$&&$.getArea&&$.getArea();return r.get("clip",!0)?L:null},n.prototype.updateTransform=function(r,$,L){var V=r.getData();this.group.dirty();var oe=pointsLayout$1("").reset(r,$,L);oe.progress&&oe.progress({start:0,end:V.count(),count:V.count()},V),this._symbolDraw.updateLayout()},n.prototype._updateGroupTransform=function(r){var $=r.coordinateSystem;$&&$.getRoamTransform&&(this.group.transform=clone$7($.getRoamTransform()),this.group.decomposeTransform())},n.prototype.remove=function(r,$){this._symbolDraw&&this._symbolDraw.remove(!0)},n.type="effectScatter",n}(ChartView$3);const EffectScatterView$3=EffectScatterView$2;var EffectScatterSeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(r,$){return createSeriesData$1(null,this,{useEncodeDefaulter:!0})},n.prototype.brushSelector=function(r,$,L){return L.point($.getItemLayout(r))},n.type="series.effectScatter",n.dependencies=["grid","polar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},n}(SeriesModel$3);const EffectScatterSeriesModel$3=EffectScatterSeriesModel$2;function install$1q(g){g.registerChartView(EffectScatterView$3),g.registerSeriesModel(EffectScatterSeriesModel$3),g.registerLayout(pointsLayout$1("effectScatter"))}var EffectLine$2=function(g){__extends$2(n,g);function n(r,$,L){var V=g.call(this)||this;return V.add(V.createLine(r,$,L)),V._updateEffectSymbol(r,$),V}return n.prototype.createLine=function(r,$,L){return new Line$6(r,$,L)},n.prototype._updateEffectSymbol=function(r,$){var L=r.getItemModel($),V=L.getModel("effect"),oe=V.get("symbolSize"),ae=V.get("symbol");isArray$6(oe)||(oe=[oe,oe]);var re=r.getItemVisual($,"style"),le=V.get("color")||re&&re.stroke,ue=this.childAt(1);this._symbolType!==ae&&(this.remove(ue),ue=createSymbol$3(ae,-.5,-.5,1,1,le),ue.z2=100,ue.culling=!0,this.add(ue)),ue&&(ue.setStyle("shadowColor",le),ue.setStyle(V.getItemStyle(["color"])),ue.scaleX=oe[0],ue.scaleY=oe[1],ue.setColor(le),this._symbolType=ae,this._symbolScale=oe,this._updateEffectAnimation(r,V,$))},n.prototype._updateEffectAnimation=function(r,$,L){var V=this.childAt(1);if(V){var oe=r.getItemLayout(L),ae=$.get("period")*1e3,re=$.get("loop"),le=$.get("roundTrip"),ue=$.get("constantSpeed"),de=retrieve$1($.get("delay"),function(pe){return pe/r.count()*ae/3});if(V.ignore=!0,this._updateAnimationPoints(V,oe),ue>0&&(ae=this._getLineLength(V)/ue*1e3),ae!==this._period||re!==this._loop||le!==this._roundTrip){V.stopAnimation();var he=void 0;isFunction$3(de)?he=de(L):he=de,V.__t>0&&(he=-ae*V.__t),this._animateSymbol(V,ae,he,re,le)}this._period=ae,this._loop=re,this._roundTrip=le}},n.prototype._animateSymbol=function(r,$,L,V,oe){if($>0){r.__t=0;var ae=this,re=r.animate("",V).when(oe?$*2:$,{__t:oe?2:1}).delay(L).during(function(){ae._updateSymbolPosition(r)});V||re.done(function(){ae.remove(r)}),re.start()}},n.prototype._getLineLength=function(r){return dist$3(r.__p1,r.__cp1)+dist$3(r.__cp1,r.__p2)},n.prototype._updateAnimationPoints=function(r,$){r.__p1=$[0],r.__p2=$[1],r.__cp1=$[2]||[($[0][0]+$[1][0])/2,($[0][1]+$[1][1])/2]},n.prototype.updateData=function(r,$,L){this.childAt(0).updateData(r,$,L),this._updateEffectSymbol(r,$)},n.prototype._updateSymbolPosition=function(r){var $=r.__p1,L=r.__p2,V=r.__cp1,oe=r.__t<1?r.__t:2-r.__t,ae=[r.x,r.y],re=ae.slice(),le=quadraticAt$3,ue=quadraticDerivativeAt$1;ae[0]=le($[0],V[0],L[0],oe),ae[1]=le($[1],V[1],L[1],oe);var de=r.__t<1?ue($[0],V[0],L[0],oe):ue(L[0],V[0],$[0],1-oe),he=r.__t<1?ue($[1],V[1],L[1],oe):ue(L[1],V[1],$[1],1-oe);r.rotation=-Math.atan2(he,de)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(r.__lastT!==void 0&&r.__lastT<r.__t?(r.scaleY=dist$3(re,ae)*1.05,oe===1&&(ae[0]=re[0]+(ae[0]-re[0])/2,ae[1]=re[1]+(ae[1]-re[1])/2)):r.__lastT===1?r.scaleY=2*dist$3($,ae):r.scaleY=this._symbolScale[1]),r.__lastT=r.__t,r.ignore=!1,r.x=ae[0],r.y=ae[1]},n.prototype.updateLayout=function(r,$){this.childAt(0).updateLayout(r,$);var L=r.getItemModel($).getModel("effect");this._updateEffectAnimation(r,L,$)},n}(Group$9);const EffectLine$3=EffectLine$2;var Polyline$4=function(g){__extends$2(n,g);function n(r,$,L){var V=g.call(this)||this;return V._createPolyline(r,$,L),V}return n.prototype._createPolyline=function(r,$,L){var V=r.getItemLayout($),oe=new Polyline$7({shape:{points:V}});this.add(oe),this._updateCommonStl(r,$,L)},n.prototype.updateData=function(r,$,L){var V=r.hostModel,oe=this.childAt(0),ae={shape:{points:r.getItemLayout($)}};updateProps$3(oe,ae,V,$),this._updateCommonStl(r,$,L)},n.prototype._updateCommonStl=function(r,$,L){var V=this.childAt(0),oe=r.getItemModel($),ae=L&&L.emphasisLineStyle,re=L&&L.focus,le=L&&L.blurScope,ue=L&&L.emphasisDisabled;if(!L||r.hasItemOption){var de=oe.getModel("emphasis");ae=de.getModel("lineStyle").getLineStyle(),ue=de.get("disabled"),re=de.get("focus"),le=de.get("blurScope")}V.useStyle(r.getItemVisual($,"style")),V.style.fill=null,V.style.strokeNoScale=!0;var he=V.ensureState("emphasis");he.style=ae,toggleHoverEmphasis$1(this,re,le,ue)},n.prototype.updateLayout=function(r,$){var L=this.childAt(0);L.setShape("points",r.getItemLayout($))},n}(Group$9);const Polyline$5=Polyline$4;var EffectPolyline$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r._lastFrame=0,r._lastFramePercent=0,r}return n.prototype.createLine=function(r,$,L){return new Polyline$5(r,$,L)},n.prototype._updateAnimationPoints=function(r,$){this._points=$;for(var L=[0],V=0,oe=1;oe<$.length;oe++){var ae=$[oe-1],re=$[oe];V+=dist$3(ae,re),L.push(V)}if(V===0){this._length=0;return}for(var oe=0;oe<L.length;oe++)L[oe]/=V;this._offsets=L,this._length=V},n.prototype._getLineLength=function(){return this._length},n.prototype._updateSymbolPosition=function(r){var $=r.__t<1?r.__t:2-r.__t,L=this._points,V=this._offsets,oe=L.length;if(V){var ae=this._lastFrame,re;if($<this._lastFramePercent){var le=Math.min(ae+1,oe-1);for(re=le;re>=0&&!(V[re]<=$);re--);re=Math.min(re,oe-2)}else{for(re=ae;re<oe&&!(V[re]>$);re++);re=Math.min(re-1,oe-2)}var ue=($-V[re])/(V[re+1]-V[re]),de=L[re],he=L[re+1];r.x=de[0]*(1-ue)+ue*he[0],r.y=de[1]*(1-ue)+ue*he[1];var pe=r.__t<1?he[0]-de[0]:de[0]-he[0],_e=r.__t<1?he[1]-de[1]:de[1]-he[1];r.rotation=-Math.atan2(_e,pe)-Math.PI/2,this._lastFrame=re,this._lastFramePercent=$,r.ignore=!1}},n}(EffectLine$3);const EffectPolyline$3=EffectPolyline$2;var LargeLinesPathShape$1=function(){function g(){this.polyline=!1,this.curveness=0,this.segs=[]}return g}(),LargeLinesPath$1=function(g){__extends$2(n,g);function n(r){var $=g.call(this,r)||this;return $._off=0,$.hoverDataIdx=-1,$}return n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LargeLinesPathShape$1},n.prototype.buildPath=function(r,$){var L=$.segs,V=$.curveness,oe;if($.polyline)for(oe=this._off;oe<L.length;){var ae=L[oe++];if(ae>0){r.moveTo(L[oe++],L[oe++]);for(var re=1;re<ae;re++)r.lineTo(L[oe++],L[oe++])}}else for(oe=this._off;oe<L.length;){var le=L[oe++],ue=L[oe++],de=L[oe++],he=L[oe++];if(r.moveTo(le,ue),V>0){var pe=(le+de)/2-(ue-he)*V,_e=(ue+he)/2-(de-le)*V;r.quadraticCurveTo(pe,_e,de,he)}else r.lineTo(de,he)}this.incremental&&(this._off=oe,this.notClear=!0)},n.prototype.findDataIndex=function(r,$){var L=this.shape,V=L.segs,oe=L.curveness,ae=this.style.lineWidth;if(L.polyline)for(var re=0,le=0;le<V.length;){var ue=V[le++];if(ue>0)for(var de=V[le++],he=V[le++],pe=1;pe<ue;pe++){var _e=V[le++],$e=V[le++];if(containStroke$9(de,he,_e,$e,ae,r,$))return re}re++}else for(var re=0,le=0;le<V.length;){var de=V[le++],he=V[le++],_e=V[le++],$e=V[le++];if(oe>0){var xe=(de+_e)/2-(he-$e)*oe,Oe=(he+$e)/2-(_e-de)*oe;if(containStroke$7(de,he,xe,Oe,_e,$e,ae,r,$))return re}else if(containStroke$9(de,he,_e,$e,ae,r,$))return re;re++}return-1},n.prototype.contain=function(r,$){var L=this.transformCoordToLocal(r,$),V=this.getBoundingRect();if(r=L[0],$=L[1],V.contain(r,$)){var oe=this.hoverDataIdx=this.findDataIndex(r,$);return oe>=0}return this.hoverDataIdx=-1,!1},n.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var $=this.shape,L=$.segs,V=1/0,oe=1/0,ae=-1/0,re=-1/0,le=0;le<L.length;){var ue=L[le++],de=L[le++];V=Math.min(ue,V),ae=Math.max(ue,ae),oe=Math.min(de,oe),re=Math.max(de,re)}r=this._rect=new BoundingRect$3(V,oe,ae,re)}return r},n}(Path$3),LargeLineDraw$2=function(){function g(){this.group=new Group$9}return g.prototype.updateData=function(n){this._clear();var r=this._create();r.setShape({segs:n.getLayout("linesPoints")}),this._setCommon(r,n)},g.prototype.incrementalPrepareUpdate=function(n){this.group.removeAll(),this._clear()},g.prototype.incrementalUpdate=function(n,r){var $=this._newAdded[0],L=r.getLayout("linesPoints"),V=$&&$.shape.segs;if(V&&V.length<2e4){var oe=V.length,ae=new Float32Array(oe+L.length);ae.set(V),ae.set(L,oe),$.setShape({segs:ae})}else{this._newAdded=[];var re=this._create();re.incremental=!0,re.setShape({segs:L}),this._setCommon(re,r),re.__startIndex=n.start}},g.prototype.remove=function(){this._clear()},g.prototype.eachRendered=function(n){this._newAdded[0]&&n(this._newAdded[0])},g.prototype._create=function(){var n=new LargeLinesPath$1({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(n),this.group.add(n),n},g.prototype._setCommon=function(n,r,$){var L=r.hostModel;n.setShape({polyline:L.get("polyline"),curveness:L.get(["lineStyle","curveness"])}),n.useStyle(L.getModel("lineStyle").getLineStyle()),n.style.strokeNoScale=!0;var V=r.getVisual("style");V&&V.stroke&&n.setStyle("stroke",V.stroke),n.setStyle("fill",null);var oe=getECData$1(n);oe.seriesIndex=L.seriesIndex,n.on("mousemove",function(ae){oe.dataIndex=null;var re=n.hoverDataIdx;re>0&&(oe.dataIndex=re+n.__startIndex)})},g.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},g}();const LargeLineDraw$3=LargeLineDraw$2;var linesLayout$2={seriesType:"lines",plan:createRenderPlanner$1(),reset:function(g){var n=g.coordinateSystem;if(n){var r=g.get("polyline"),$=g.pipelineContext.large;return{progress:function(L,V){var oe=[];if($){var ae=void 0,re=L.end-L.start;if(r){for(var le=0,ue=L.start;ue<L.end;ue++)le+=g.getLineCoordsCount(ue);ae=new Float32Array(re+le*2)}else ae=new Float32Array(re*4);for(var de=0,he=[],ue=L.start;ue<L.end;ue++){var pe=g.getLineCoords(ue,oe);r&&(ae[de++]=pe);for(var _e=0;_e<pe;_e++)he=n.dataToPoint(oe[_e],!1,he),ae[de++]=he[0],ae[de++]=he[1]}V.setLayout("linesPoints",ae)}else for(var ue=L.start;ue<L.end;ue++){var $e=V.getItemModel(ue),pe=g.getLineCoords(ue,oe),xe=[];if(r)for(var Oe=0;Oe<pe;Oe++)xe.push(n.dataToPoint(oe[Oe]));else{xe[0]=n.dataToPoint(oe[0]),xe[1]=n.dataToPoint(oe[1]);var Ce=$e.get(["lineStyle","curveness"]);+Ce&&(xe[2]=[(xe[0][0]+xe[1][0])/2-(xe[0][1]-xe[1][1])*Ce,(xe[0][1]+xe[1][1])/2-(xe[1][0]-xe[0][0])*Ce])}V.setItemLayout(ue,xe)}}}}}};const linesLayout$3=linesLayout$2;var LinesView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=r.getData(),oe=this._updateLineDraw(V,r),ae=r.get("zlevel"),re=r.get(["effect","trailLength"]),le=L.getZr(),ue=le.painter.getType()==="svg";ue||le.painter.getLayer(ae).clear(!0),this._lastZlevel!=null&&!ue&&le.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(r)&&re>0&&(ue||le.configLayer(ae,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(re/10+.9,1),0)})),oe.updateData(V);var de=r.get("clip",!0)&&createClipPath$1(r.coordinateSystem,!1,r);de?this.group.setClipPath(de):this.group.removeClipPath(),this._lastZlevel=ae,this._finished=!0},n.prototype.incrementalPrepareRender=function(r,$,L){var V=r.getData(),oe=this._updateLineDraw(V,r);oe.incrementalPrepareUpdate(V),this._clearLayer(L),this._finished=!1},n.prototype.incrementalRender=function(r,$,L){this._lineDraw.incrementalUpdate(r,$.getData()),this._finished=r.end===$.getData().count()},n.prototype.eachRendered=function(r){this._lineDraw&&this._lineDraw.eachRendered(r)},n.prototype.updateTransform=function(r,$,L){var V=r.getData(),oe=r.pipelineContext;if(!this._finished||oe.large||oe.progressiveRender)return{update:!0};var ae=linesLayout$3.reset(r,$,L);ae.progress&&ae.progress({start:0,end:V.count(),count:V.count()},V),this._lineDraw.updateLayout(),this._clearLayer(L)},n.prototype._updateLineDraw=function(r,$){var L=this._lineDraw,V=this._showEffect($),oe=!!$.get("polyline"),ae=$.pipelineContext,re=ae.large;return(!L||V!==this._hasEffet||oe!==this._isPolyline||re!==this._isLargeDraw)&&(L&&L.remove(),L=this._lineDraw=re?new LargeLineDraw$3:new LineDraw$3(oe?V?EffectPolyline$3:Polyline$5:V?EffectLine$3:Line$6),this._hasEffet=V,this._isPolyline=oe,this._isLargeDraw=re),this.group.add(L.group),L},n.prototype._showEffect=function(r){return!!r.get(["effect","show"])},n.prototype._clearLayer=function(r){var $=r.getZr(),L=$.painter.getType()==="svg";!L&&this._lastZlevel!=null&&$.painter.getLayer(this._lastZlevel).clear(!0)},n.prototype.remove=function(r,$){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer($)},n.prototype.dispose=function(r,$){this.remove(r,$)},n.type="lines",n}(ChartView$3);const LinesView$3=LinesView$2;var Uint32Arr$1=typeof Uint32Array>"u"?Array:Uint32Array,Float64Arr$1=typeof Float64Array>"u"?Array:Float64Array;function compatEc2$1(g){var n=g.data;n&&n[0]&&n[0][0]&&n[0][0].coord&&(g.data=map$3(n,function(r){var $=[r[0].coord,r[1].coord],L={coords:$};return r[0].name&&(L.fromName=r[0].name),r[1].name&&(L.toName=r[1].name),mergeAll$1([L,r[0],r[1]])}))}var LinesSeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return n.prototype.init=function(r){r.data=r.data||[],compatEc2$1(r);var $=this._processFlatCoordsArray(r.data);this._flatCoords=$.flatCoords,this._flatCoordsOffset=$.flatCoordsOffset,$.flatCoords&&(r.data=new Float32Array($.count)),g.prototype.init.apply(this,arguments)},n.prototype.mergeOption=function(r){if(compatEc2$1(r),r.data){var $=this._processFlatCoordsArray(r.data);this._flatCoords=$.flatCoords,this._flatCoordsOffset=$.flatCoordsOffset,$.flatCoords&&(r.data=new Float32Array($.count))}g.prototype.mergeOption.apply(this,arguments)},n.prototype.appendData=function(r){var $=this._processFlatCoordsArray(r.data);$.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray$1(this._flatCoords,$.flatCoords),this._flatCoordsOffset=concatArray$1(this._flatCoordsOffset,$.flatCoordsOffset)):(this._flatCoords=$.flatCoords,this._flatCoordsOffset=$.flatCoordsOffset),r.data=new Float32Array($.count)),this.getRawData().appendData(r.data)},n.prototype._getCoordsFromItemModel=function(r){var $=this.getData().getItemModel(r),L=$.option instanceof Array?$.option:$.getShallow("coords");return L},n.prototype.getLineCoordsCount=function(r){return this._flatCoordsOffset?this._flatCoordsOffset[r*2+1]:this._getCoordsFromItemModel(r).length},n.prototype.getLineCoords=function(r,$){if(this._flatCoordsOffset){for(var L=this._flatCoordsOffset[r*2],V=this._flatCoordsOffset[r*2+1],oe=0;oe<V;oe++)$[oe]=$[oe]||[],$[oe][0]=this._flatCoords[L+oe*2],$[oe][1]=this._flatCoords[L+oe*2+1];return V}else{for(var ae=this._getCoordsFromItemModel(r),oe=0;oe<ae.length;oe++)$[oe]=$[oe]||[],$[oe][0]=ae[oe][0],$[oe][1]=ae[oe][1];return ae.length}},n.prototype._processFlatCoordsArray=function(r){var $=0;if(this._flatCoords&&($=this._flatCoords.length),isNumber$3(r[0])){for(var L=r.length,V=new Uint32Arr$1(L),oe=new Float64Arr$1(L),ae=0,re=0,le=0,ue=0;ue<L;){le++;var de=r[ue++];V[re++]=ae+$,V[re++]=de;for(var he=0;he<de;he++){var pe=r[ue++],_e=r[ue++];oe[ae++]=pe,oe[ae++]=_e}}return{flatCoordsOffset:new Uint32Array(V.buffer,0,re),flatCoords:oe,count:le}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}},n.prototype.getInitialData=function(r,$){var L=new SeriesData$3(["value"],this);return L.hasItemOption=!1,L.initData(r.data,[],function(V,oe,ae,re){if(V instanceof Array)return NaN;L.hasItemOption=!0;var le=V.value;if(le!=null)return le instanceof Array?le[re]:le}),L},n.prototype.formatTooltip=function(r,$,L){var V=this.getData(),oe=V.getItemModel(r),ae=oe.get("name");if(ae)return ae;var re=oe.get("fromName"),le=oe.get("toName"),ue=[];return re!=null&&ue.push(re),le!=null&&ue.push(le),createTooltipMarkup$1("nameValue",{name:ue.join(" > ")})},n.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},n.prototype.getProgressive=function(){var r=this.option.progressive;return r!=null?r:this.option.large?1e4:this.get("progressive")},n.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r!=null?r:this.option.large?2e4:this.get("progressiveThreshold")},n.prototype.getZLevelKey=function(){var r=this.getModel("effect"),$=r.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:r.get("show")&&$>0?$+"":""},n.type="series.lines",n.dependencies=["grid","polar","geo","calendar"],n.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},n}(SeriesModel$3);const LinesSeriesModel$3=LinesSeriesModel$2;function normalize$5(g){return g instanceof Array||(g=[g,g]),g}var linesVisual$2={seriesType:"lines",reset:function(g){var n=normalize$5(g.get("symbol")),r=normalize$5(g.get("symbolSize")),$=g.getData();$.setVisual("fromSymbol",n&&n[0]),$.setVisual("toSymbol",n&&n[1]),$.setVisual("fromSymbolSize",r&&r[0]),$.setVisual("toSymbolSize",r&&r[1]);function L(V,oe){var ae=V.getItemModel(oe),re=normalize$5(ae.getShallow("symbol",!0)),le=normalize$5(ae.getShallow("symbolSize",!0));re[0]&&V.setItemVisual(oe,"fromSymbol",re[0]),re[1]&&V.setItemVisual(oe,"toSymbol",re[1]),le[0]&&V.setItemVisual(oe,"fromSymbolSize",le[0]),le[1]&&V.setItemVisual(oe,"toSymbolSize",le[1])}return{dataEach:$.hasItemOption?L:null}}};const linesVisual$3=linesVisual$2;function install$1p(g){g.registerChartView(LinesView$3),g.registerSeriesModel(LinesSeriesModel$3),g.registerLayout(linesLayout$3),g.registerVisual(linesVisual$3)}var GRADIENT_LEVELS$1=256,HeatmapLayer$2=function(){function g(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var n=platformApi$1.createCanvas();this.canvas=n}return g.prototype.update=function(n,r,$,L,V,oe){var ae=this._getBrush(),re=this._getGradient(V,"inRange"),le=this._getGradient(V,"outOfRange"),ue=this.pointSize+this.blurSize,de=this.canvas,he=de.getContext("2d"),pe=n.length;de.width=r,de.height=$;for(var _e=0;_e<pe;++_e){var $e=n[_e],xe=$e[0],Oe=$e[1],Ce=$e[2],Ie=L(Ce);he.globalAlpha=Ie,he.drawImage(ae,xe-ue,Oe-ue)}if(!de.width||!de.height)return de;for(var Ne=he.getImageData(0,0,de.width,de.height),ze=Ne.data,Fe=0,Ue=ze.length,At=this.minOpacity,Et=this.maxOpacity,Pt=Et-At;Fe<Ue;){var Ie=ze[Fe+3]/256,kt=Math.floor(Ie*(GRADIENT_LEVELS$1-1))*4;if(Ie>0){var Dt=oe(Ie)?re:le;Ie>0&&(Ie=Ie*Pt+At),ze[Fe++]=Dt[kt],ze[Fe++]=Dt[kt+1],ze[Fe++]=Dt[kt+2],ze[Fe++]=Dt[kt+3]*Ie*256}else Fe+=4}return he.putImageData(Ne,0,0),de},g.prototype._getBrush=function(){var n=this._brushCanvas||(this._brushCanvas=platformApi$1.createCanvas()),r=this.pointSize+this.blurSize,$=r*2;n.width=$,n.height=$;var L=n.getContext("2d");return L.clearRect(0,0,$,$),L.shadowOffsetX=$,L.shadowBlur=this.blurSize,L.shadowColor="#000",L.beginPath(),L.arc(-r,r,this.pointSize,0,Math.PI*2,!0),L.closePath(),L.fill(),n},g.prototype._getGradient=function(n,r){for(var $=this._gradientPixels,L=$[r]||($[r]=new Uint8ClampedArray(256*4)),V=[0,0,0,0],oe=0,ae=0;ae<256;ae++)n[r](ae/255,!0,V),L[oe++]=V[0],L[oe++]=V[1],L[oe++]=V[2],L[oe++]=V[3];return L},g}();const HeatmapLayer$3=HeatmapLayer$2;function getIsInPiecewiseRange$1(g,n,r){var $=g[1]-g[0];n=map$3(n,function(oe){return{interval:[(oe.interval[0]-g[0])/$,(oe.interval[1]-g[0])/$]}});var L=n.length,V=0;return function(oe){var ae;for(ae=V;ae<L;ae++){var re=n[ae].interval;if(re[0]<=oe&&oe<=re[1]){V=ae;break}}if(ae===L)for(ae=V-1;ae>=0;ae--){var re=n[ae].interval;if(re[0]<=oe&&oe<=re[1]){V=ae;break}}return ae>=0&&ae<L&&r[ae]}}function getIsInContinuousRange$1(g,n){var r=g[1]-g[0];return n=[(n[0]-g[0])/r,(n[1]-g[0])/r],function($){return $>=n[0]&&$<=n[1]}}function isGeoCoordSys$1(g){var n=g.dimensions;return n[0]==="lng"&&n[1]==="lat"}var HeatmapView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V;$.eachComponent("visualMap",function(ae){ae.eachTargetSeries(function(re){re===r&&(V=ae)})}),this._progressiveEls=null,this.group.removeAll();var oe=r.coordinateSystem;oe.type==="cartesian2d"||oe.type==="calendar"?this._renderOnCartesianAndCalendar(r,L,0,r.getData().count()):isGeoCoordSys$1(oe)&&this._renderOnGeo(oe,r,V,L)},n.prototype.incrementalPrepareRender=function(r,$,L){this.group.removeAll()},n.prototype.incrementalRender=function(r,$,L,V){var oe=$.coordinateSystem;oe&&(isGeoCoordSys$1(oe)?this.render($,L,V):(this._progressiveEls=[],this._renderOnCartesianAndCalendar($,V,r.start,r.end,!0)))},n.prototype.eachRendered=function(r){traverseElements$1(this._progressiveEls||this.group,r)},n.prototype._renderOnCartesianAndCalendar=function(r,$,L,V,oe){var ae=r.coordinateSystem,re=isCoordinateSystemType$1(ae,"cartesian2d"),le,ue,de,he;if(re){var pe=ae.getAxis("x"),_e=ae.getAxis("y");le=pe.getBandWidth()+.5,ue=_e.getBandWidth()+.5,de=pe.scale.getExtent(),he=_e.scale.getExtent()}for(var $e=this.group,xe=r.getData(),Oe=r.getModel(["emphasis","itemStyle"]).getItemStyle(),Ce=r.getModel(["blur","itemStyle"]).getItemStyle(),Ie=r.getModel(["select","itemStyle"]).getItemStyle(),Ne=r.get(["itemStyle","borderRadius"]),ze=getLabelStatesModels$1(r),Fe=r.getModel("emphasis"),Ue=Fe.get("focus"),At=Fe.get("blurScope"),Et=Fe.get("disabled"),Pt=re?[xe.mapDimension("x"),xe.mapDimension("y"),xe.mapDimension("value")]:[xe.mapDimension("time"),xe.mapDimension("value")],kt=L;kt<V;kt++){var Dt=void 0,Lt=xe.getItemVisual(kt,"style");if(re){var hn=xe.get(Pt[0],kt),vn=xe.get(Pt[1],kt);if(isNaN(xe.get(Pt[2],kt))||isNaN(hn)||isNaN(vn)||hn<de[0]||hn>de[1]||vn<he[0]||vn>he[1])continue;var _n=ae.dataToPoint([hn,vn]);Dt=new Rect$7({shape:{x:_n[0]-le/2,y:_n[1]-ue/2,width:le,height:ue},style:Lt})}else{if(isNaN(xe.get(Pt[1],kt)))continue;Dt=new Rect$7({z2:1,shape:ae.dataToRect([xe.get(Pt[0],kt)]).contentShape,style:Lt})}if(xe.hasItemOption){var $n=xe.getItemModel(kt),Sn=$n.getModel("emphasis");Oe=Sn.getModel("itemStyle").getItemStyle(),Ce=$n.getModel(["blur","itemStyle"]).getItemStyle(),Ie=$n.getModel(["select","itemStyle"]).getItemStyle(),Ne=$n.get(["itemStyle","borderRadius"]),Ue=Sn.get("focus"),At=Sn.get("blurScope"),Et=Sn.get("disabled"),ze=getLabelStatesModels$1($n)}Dt.shape.r=Ne;var xn=r.getRawValue(kt),On="-";xn&&xn[2]!=null&&(On=xn[2]+""),setLabelStyle$1(Dt,ze,{labelFetcher:r,labelDataIndex:kt,defaultOpacity:Lt.opacity,defaultText:On}),Dt.ensureState("emphasis").style=Oe,Dt.ensureState("blur").style=Ce,Dt.ensureState("select").style=Ie,toggleHoverEmphasis$1(Dt,Ue,At,Et),Dt.incremental=oe,oe&&(Dt.states.emphasis.hoverLayer=!0),$e.add(Dt),xe.setItemGraphicEl(kt,Dt),this._progressiveEls&&this._progressiveEls.push(Dt)}},n.prototype._renderOnGeo=function(r,$,L,V){var oe=L.targetVisuals.inRange,ae=L.targetVisuals.outOfRange,re=$.getData(),le=this._hmLayer||this._hmLayer||new HeatmapLayer$3;le.blurSize=$.get("blurSize"),le.pointSize=$.get("pointSize"),le.minOpacity=$.get("minOpacity"),le.maxOpacity=$.get("maxOpacity");var ue=r.getViewRect().clone(),de=r.getRoamTransform();ue.applyTransform(de);var he=Math.max(ue.x,0),pe=Math.max(ue.y,0),_e=Math.min(ue.width+ue.x,V.getWidth()),$e=Math.min(ue.height+ue.y,V.getHeight()),xe=_e-he,Oe=$e-pe,Ce=[re.mapDimension("lng"),re.mapDimension("lat"),re.mapDimension("value")],Ie=re.mapArray(Ce,function(Ue,At,Et){var Pt=r.dataToPoint([Ue,At]);return Pt[0]-=he,Pt[1]-=pe,Pt.push(Et),Pt}),Ne=L.getExtent(),ze=L.type==="visualMap.continuous"?getIsInContinuousRange$1(Ne,L.option.range):getIsInPiecewiseRange$1(Ne,L.getPieceList(),L.option.selected);le.update(Ie,xe,Oe,oe.color.getNormalizer(),{inRange:oe.color.getColorMapper(),outOfRange:ae.color.getColorMapper()},ze);var Fe=new ZRImage$3({style:{width:xe,height:Oe,x:he,y:pe,image:le.canvas},silent:!0});this.group.add(Fe)},n.type="heatmap",n}(ChartView$3);const HeatmapView$3=HeatmapView$2;var HeatmapSeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(r,$){return createSeriesData$1(null,this,{generateCoord:"value"})},n.prototype.preventIncremental=function(){var r=CoordinateSystem$1.get(this.get("coordinateSystem"));if(r&&r.dimensions)return r.dimensions[0]==="lng"&&r.dimensions[1]==="lat"},n.type="series.heatmap",n.dependencies=["grid","geo","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel$3);const HeatmapSeriesModel$3=HeatmapSeriesModel$2;function install$1o(g){g.registerChartView(HeatmapView$3),g.registerSeriesModel(HeatmapSeriesModel$3)}var BAR_BORDER_WIDTH_QUERY$1=["itemStyle","borderWidth"],LAYOUT_ATTRS$1=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth$1=new Circle$3,PictorialBarView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=this.group,oe=r.getData(),ae=this._data,re=r.coordinateSystem,le=re.getBaseAxis(),ue=le.isHorizontal(),de=re.master.getRect(),he={ecSize:{width:L.getWidth(),height:L.getHeight()},seriesModel:r,coordSys:re,coordSysExtent:[[de.x,de.x+de.width],[de.y,de.y+de.height]],isHorizontal:ue,valueDim:LAYOUT_ATTRS$1[+ue],categoryDim:LAYOUT_ATTRS$1[1-+ue]};return oe.diff(ae).add(function(pe){if(oe.hasValue(pe)){var _e=getItemModel$1(oe,pe),$e=getSymbolMeta$1(oe,pe,_e,he),xe=createBar$1(oe,he,$e);oe.setItemGraphicEl(pe,xe),V.add(xe),updateCommon$2(xe,he,$e)}}).update(function(pe,_e){var $e=ae.getItemGraphicEl(_e);if(!oe.hasValue(pe)){V.remove($e);return}var xe=getItemModel$1(oe,pe),Oe=getSymbolMeta$1(oe,pe,xe,he),Ce=getShapeStr$1(oe,Oe);$e&&Ce!==$e.__pictorialShapeStr&&(V.remove($e),oe.setItemGraphicEl(pe,null),$e=null),$e?updateBar$1($e,he,Oe):$e=createBar$1(oe,he,Oe,!0),oe.setItemGraphicEl(pe,$e),$e.__pictorialSymbolMeta=Oe,V.add($e),updateCommon$2($e,he,Oe)}).remove(function(pe){var _e=ae.getItemGraphicEl(pe);_e&&removeBar$1(ae,pe,_e.__pictorialSymbolMeta.animationModel,_e)}).execute(),this._data=oe,this.group},n.prototype.remove=function(r,$){var L=this.group,V=this._data;r.get("animation")?V&&V.eachItemGraphicEl(function(oe){removeBar$1(V,getECData$1(oe).dataIndex,r,oe)}):L.removeAll()},n.type="pictorialBar",n}(ChartView$3);function getSymbolMeta$1(g,n,r,$){var L=g.getItemLayout(n),V=r.get("symbolRepeat"),oe=r.get("symbolClip"),ae=r.get("symbolPosition")||"start",re=r.get("symbolRotate"),le=(re||0)*Math.PI/180||0,ue=r.get("symbolPatternSize")||2,de=r.isAnimationEnabled(),he={dataIndex:n,layout:L,itemModel:r,symbolType:g.getItemVisual(n,"symbol")||"circle",style:g.getItemVisual(n,"style"),symbolClip:oe,symbolRepeat:V,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:ue,rotation:le,animationModel:de?r:null,hoverScale:de&&r.get(["emphasis","scale"]),z2:r.getShallow("z",!0)||0};prepareBarLength$1(r,V,L,$,he),prepareSymbolSize$1(g,n,L,V,oe,he.boundingLength,he.pxSign,ue,$,he),prepareLineWidth$1(r,he.symbolScale,le,$,he);var pe=he.symbolSize,_e=normalizeSymbolOffset$1(r.get("symbolOffset"),pe);return prepareLayoutInfo$1(r,pe,L,V,oe,_e,ae,he.valueLineWidth,he.boundingLength,he.repeatCutLength,$,he),he}function prepareBarLength$1(g,n,r,$,L){var V=$.valueDim,oe=g.get("symbolBoundingData"),ae=$.coordSys.getOtherAxis($.coordSys.getBaseAxis()),re=ae.toGlobalCoord(ae.dataToCoord(0)),le=1-+(r[V.wh]<=0),ue;if(isArray$6(oe)){var de=[convertToCoordOnAxis$1(ae,oe[0])-re,convertToCoordOnAxis$1(ae,oe[1])-re];de[1]<de[0]&&de.reverse(),ue=de[le]}else oe!=null?ue=convertToCoordOnAxis$1(ae,oe)-re:n?ue=$.coordSysExtent[V.index][le]-re:ue=r[V.wh];L.boundingLength=ue,n&&(L.repeatCutLength=r[V.wh]),L.pxSign=ue>0?1:-1}function convertToCoordOnAxis$1(g,n){return g.toGlobalCoord(g.dataToCoord(g.scale.parse(n)))}function prepareSymbolSize$1(g,n,r,$,L,V,oe,ae,re,le){var ue=re.valueDim,de=re.categoryDim,he=Math.abs(r[de.wh]),pe=g.getItemVisual(n,"symbolSize"),_e;isArray$6(pe)?_e=pe.slice():pe==null?_e=["100%","100%"]:_e=[pe,pe],_e[de.index]=parsePercent$2(_e[de.index],he),_e[ue.index]=parsePercent$2(_e[ue.index],$?he:Math.abs(V)),le.symbolSize=_e;var $e=le.symbolScale=[_e[0]/ae,_e[1]/ae];$e[ue.index]*=(re.isHorizontal?-1:1)*oe}function prepareLineWidth$1(g,n,r,$,L){var V=g.get(BAR_BORDER_WIDTH_QUERY$1)||0;V&&(pathForLineWidth$1.attr({scaleX:n[0],scaleY:n[1],rotation:r}),pathForLineWidth$1.updateTransform(),V/=pathForLineWidth$1.getLineScale(),V*=n[$.valueDim.index]),L.valueLineWidth=V||0}function prepareLayoutInfo$1(g,n,r,$,L,V,oe,ae,re,le,ue,de){var he=ue.categoryDim,pe=ue.valueDim,_e=de.pxSign,$e=Math.max(n[pe.index]+ae,0),xe=$e;if($){var Oe=Math.abs(re),Ce=retrieve$1(g.get("symbolMargin"),"15%")+"",Ie=!1;Ce.lastIndexOf("!")===Ce.length-1&&(Ie=!0,Ce=Ce.slice(0,Ce.length-1));var Ne=parsePercent$2(Ce,n[pe.index]),ze=Math.max($e+Ne*2,0),Fe=Ie?0:Ne*2,Ue=isNumeric$1($),At=Ue?$:toIntTimes$1((Oe+Fe)/ze),Et=Oe-At*$e;Ne=Et/2/(Ie?At:Math.max(At-1,1)),ze=$e+Ne*2,Fe=Ie?0:Ne*2,!Ue&&$!=="fixed"&&(At=le?toIntTimes$1((Math.abs(le)+Fe)/ze):0),xe=At*ze-Fe,de.repeatTimes=At,de.symbolMargin=Ne}var Pt=_e*(xe/2),kt=de.pathPosition=[];kt[he.index]=r[he.wh]/2,kt[pe.index]=oe==="start"?Pt:oe==="end"?re-Pt:re/2,V&&(kt[0]+=V[0],kt[1]+=V[1]);var Dt=de.bundlePosition=[];Dt[he.index]=r[he.xy],Dt[pe.index]=r[pe.xy];var Lt=de.barRectShape=extend$4({},r);Lt[pe.wh]=_e*Math.max(Math.abs(r[pe.wh]),Math.abs(kt[pe.index]+Pt)),Lt[he.wh]=r[he.wh];var hn=de.clipShape={};hn[he.xy]=-r[he.xy],hn[he.wh]=ue.ecSize[he.wh],hn[pe.xy]=0,hn[pe.wh]=r[pe.wh]}function createPath$1(g){var n=g.symbolPatternSize,r=createSymbol$3(g.symbolType,-n/2,-n/2,n,n);return r.attr({culling:!0}),r.type!=="image"&&r.setStyle({strokeNoScale:!0}),r}function createOrUpdateRepeatSymbols$1(g,n,r,$){var L=g.__pictorialBundle,V=r.symbolSize,oe=r.valueLineWidth,ae=r.pathPosition,re=n.valueDim,le=r.repeatTimes||0,ue=0,de=V[n.valueDim.index]+oe+r.symbolMargin*2;for(eachPath$1(g,function($e){$e.__pictorialAnimationIndex=ue,$e.__pictorialRepeatTimes=le,ue<le?updateAttr$1($e,null,_e(ue),r,$):updateAttr$1($e,null,{scaleX:0,scaleY:0},r,$,function(){L.remove($e)}),ue++});ue<le;ue++){var he=createPath$1(r);he.__pictorialAnimationIndex=ue,he.__pictorialRepeatTimes=le,L.add(he);var pe=_e(ue);updateAttr$1(he,{x:pe.x,y:pe.y,scaleX:0,scaleY:0},{scaleX:pe.scaleX,scaleY:pe.scaleY,rotation:pe.rotation},r,$)}function _e($e){var xe=ae.slice(),Oe=r.pxSign,Ce=$e;return(r.symbolRepeatDirection==="start"?Oe>0:Oe<0)&&(Ce=le-1-$e),xe[re.index]=de*(Ce-le/2+.5)+ae[re.index],{x:xe[0],y:xe[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function createOrUpdateSingleSymbol$1(g,n,r,$){var L=g.__pictorialBundle,V=g.__pictorialMainPath;V?updateAttr$1(V,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,$):(V=g.__pictorialMainPath=createPath$1(r),L.add(V),updateAttr$1(V,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,$))}function createOrUpdateBarRect$1(g,n,r){var $=extend$4({},n.barRectShape),L=g.__pictorialBarRect;L?updateAttr$1(L,null,{shape:$},n,r):(L=g.__pictorialBarRect=new Rect$7({z2:2,shape:$,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),L.disableMorphing=!0,g.add(L))}function createOrUpdateClip$1(g,n,r,$){if(r.symbolClip){var L=g.__pictorialClipPath,V=extend$4({},r.clipShape),oe=n.valueDim,ae=r.animationModel,re=r.dataIndex;if(L)updateProps$3(L,{shape:V},ae,re);else{V[oe.wh]=0,L=new Rect$7({shape:V}),g.__pictorialBundle.setClipPath(L),g.__pictorialClipPath=L;var le={};le[oe.wh]=r.clipShape[oe.wh],graphic$1[$?"updateProps":"initProps"](L,{shape:le},ae,re)}}}function getItemModel$1(g,n){var r=g.getItemModel(n);return r.getAnimationDelayParams=getAnimationDelayParams$1,r.isAnimationEnabled=isAnimationEnabled$1,r}function getAnimationDelayParams$1(g){return{index:g.__pictorialAnimationIndex,count:g.__pictorialRepeatTimes}}function isAnimationEnabled$1(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar$1(g,n,r,$){var L=new Group$9,V=new Group$9;return L.add(V),L.__pictorialBundle=V,V.x=r.bundlePosition[0],V.y=r.bundlePosition[1],r.symbolRepeat?createOrUpdateRepeatSymbols$1(L,n,r):createOrUpdateSingleSymbol$1(L,n,r),createOrUpdateBarRect$1(L,r,$),createOrUpdateClip$1(L,n,r,$),L.__pictorialShapeStr=getShapeStr$1(g,r),L.__pictorialSymbolMeta=r,L}function updateBar$1(g,n,r){var $=r.animationModel,L=r.dataIndex,V=g.__pictorialBundle;updateProps$3(V,{x:r.bundlePosition[0],y:r.bundlePosition[1]},$,L),r.symbolRepeat?createOrUpdateRepeatSymbols$1(g,n,r,!0):createOrUpdateSingleSymbol$1(g,n,r,!0),createOrUpdateBarRect$1(g,r,!0),createOrUpdateClip$1(g,n,r,!0)}function removeBar$1(g,n,r,$){var L=$.__pictorialBarRect;L&&L.removeTextContent();var V=[];eachPath$1($,function(oe){V.push(oe)}),$.__pictorialMainPath&&V.push($.__pictorialMainPath),$.__pictorialClipPath&&(r=null),each$v(V,function(oe){removeElement$1(oe,{scaleX:0,scaleY:0},r,n,function(){$.parent&&$.parent.remove($)})}),g.setItemGraphicEl(n,null)}function getShapeStr$1(g,n){return[g.getItemVisual(n.dataIndex,"symbol")||"none",!!n.symbolRepeat,!!n.symbolClip].join(":")}function eachPath$1(g,n,r){each$v(g.__pictorialBundle.children(),function($){$!==g.__pictorialBarRect&&n.call(r,$)})}function updateAttr$1(g,n,r,$,L,V){n&&g.attr(n),$.symbolClip&&!L?r&&g.attr(r):r&&graphic$1[L?"updateProps":"initProps"](g,r,$.animationModel,$.dataIndex,V)}function updateCommon$2(g,n,r){var $=r.dataIndex,L=r.itemModel,V=L.getModel("emphasis"),oe=V.getModel("itemStyle").getItemStyle(),ae=L.getModel(["blur","itemStyle"]).getItemStyle(),re=L.getModel(["select","itemStyle"]).getItemStyle(),le=L.getShallow("cursor"),ue=V.get("focus"),de=V.get("blurScope"),he=V.get("scale");eachPath$1(g,function($e){if($e instanceof ZRImage$3){var xe=$e.style;$e.useStyle(extend$4({image:xe.image,x:xe.x,y:xe.y,width:xe.width,height:xe.height},r.style))}else $e.useStyle(r.style);var Oe=$e.ensureState("emphasis");Oe.style=oe,he&&(Oe.scaleX=$e.scaleX*1.1,Oe.scaleY=$e.scaleY*1.1),$e.ensureState("blur").style=ae,$e.ensureState("select").style=re,le&&($e.cursor=le),$e.z2=r.z2});var pe=n.valueDim.posDesc[+(r.boundingLength>0)],_e=g.__pictorialBarRect;setLabelStyle$1(_e,getLabelStatesModels$1(L),{labelFetcher:n.seriesModel,labelDataIndex:$,defaultText:getDefaultLabel$1(n.seriesModel.getData(),$),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:pe}),toggleHoverEmphasis$1(g,ue,de,V.get("disabled"))}function toIntTimes$1(g){var n=Math.round(g);return Math.abs(g-n)<1e-4?n:Math.ceil(g)}const PictorialBarView$3=PictorialBarView$2;var PictorialBarSeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r.defaultSymbol="roundRect",r}return n.prototype.getInitialData=function(r){return r.stack=null,g.prototype.getInitialData.apply(this,arguments)},n.type="series.pictorialBar",n.dependencies=["grid"],n.defaultOption=inheritDefaultOption$1(BaseBarSeriesModel$3.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),n}(BaseBarSeriesModel$3);const PictorialBarSeriesModel$3=PictorialBarSeriesModel$2;function install$1n(g){g.registerChartView(PictorialBarView$3),g.registerSeriesModel(PictorialBarSeriesModel$3),g.registerLayout(g.PRIORITY.VISUAL.LAYOUT,curry$3(layout$8,"pictorialBar")),g.registerLayout(g.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout$1("pictorialBar"))}var ThemeRiverView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._layers=[],r}return n.prototype.render=function(r,$,L){var V=r.getData(),oe=this,ae=this.group,re=r.getLayerSeries(),le=V.getLayout("layoutInfo"),ue=le.rect,de=le.boundaryGap;ae.x=0,ae.y=ue.y+de[0];function he(xe){return xe.name}var pe=new DataDiffer$3(this._layersSeries||[],re,he,he),_e=[];pe.add(bind$5($e,this,"add")).update(bind$5($e,this,"update")).remove(bind$5($e,this,"remove")).execute();function $e(xe,Oe,Ce){var Ie=oe._layers;if(xe==="remove"){ae.remove(Ie[Oe]);return}for(var Ne=[],ze=[],Fe,Ue=re[Oe].indices,At=0;At<Ue.length;At++){var Et=V.getItemLayout(Ue[At]),Pt=Et.x,kt=Et.y0,Dt=Et.y;Ne.push(Pt,kt),ze.push(Pt,kt+Dt),Fe=V.getItemVisual(Ue[At],"style")}var Lt,hn=V.getItemLayout(Ue[0]),vn=r.getModel("label"),_n=vn.get("margin"),$n=r.getModel("emphasis");if(xe==="add"){var Sn=_e[Oe]=new Group$9;Lt=new ECPolygon$1({shape:{points:Ne,stackedOnPoints:ze,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Sn.add(Lt),ae.add(Sn),r.isAnimationEnabled()&&Lt.setClipPath(createGridClipShape$3(Lt.getBoundingRect(),r,function(){Lt.removeClipPath()}))}else{var Sn=Ie[Ce];Lt=Sn.childAt(0),ae.add(Sn),_e[Oe]=Sn,updateProps$3(Lt,{shape:{points:Ne,stackedOnPoints:ze}},r),saveOldStyle$1(Lt)}setLabelStyle$1(Lt,getLabelStatesModels$1(r),{labelDataIndex:Ue[At-1],defaultText:V.getName(Ue[At-1]),inheritColor:Fe.fill},{normal:{verticalAlign:"middle"}}),Lt.setTextConfig({position:null,local:!0});var xn=Lt.getTextContent();xn&&(xn.x=hn.x-_n,xn.y=hn.y0+hn.y/2),Lt.useStyle(Fe),V.setItemGraphicEl(Oe,Lt),setStatesStylesFromModel$1(Lt,r),toggleHoverEmphasis$1(Lt,$n.get("focus"),$n.get("blurScope"),$n.get("disabled"))}this._layersSeries=re,this._layers=_e},n.type="themeRiver",n}(ChartView$3);function createGridClipShape$3(g,n,r){var $=new Rect$7({shape:{x:g.x-10,y:g.y-10,width:0,height:g.height+20}});return initProps$1($,{shape:{x:g.x-50,width:g.width+100,height:g.height+20}},n,r),$}const ThemeRiverView$3=ThemeRiverView$2;var DATA_NAME_INDEX$1=2,ThemeRiverSeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r){g.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$3(bind$5(this.getData,this),bind$5(this.getRawData,this))},n.prototype.fixData=function(r){var $=r.length,L={},V=groupData$1(r,function(he){return L.hasOwnProperty(he[0]+"")||(L[he[0]+""]=-1),he[2]}),oe=[];V.buckets.each(function(he,pe){oe.push({name:pe,dataList:he})});for(var ae=oe.length,re=0;re<ae;++re){for(var le=oe[re].name,ue=0;ue<oe[re].dataList.length;++ue){var de=oe[re].dataList[ue][0]+"";L[de]=re}for(var de in L)L.hasOwnProperty(de)&&L[de]!==re&&(L[de]=re,r[$]=[de,0,le],$++)}return r},n.prototype.getInitialData=function(r,$){for(var L=this.getReferringComponents("singleAxis",SINGLE_REFERRING$1).models[0],V=L.get("type"),oe=filter$1(r.data,function(_e){return _e[2]!==void 0}),ae=this.fixData(oe||[]),re=[],le=this.nameMap=createHashMap$1(),ue=0,de=0;de<ae.length;++de)re.push(ae[de][DATA_NAME_INDEX$1]),le.get(ae[de][DATA_NAME_INDEX$1])||(le.set(ae[de][DATA_NAME_INDEX$1],ue),ue++);var he=prepareSeriesDataSchema$1(ae,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis$1(V)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,pe=new SeriesData$3(he,this);return pe.initData(ae),pe},n.prototype.getLayerSeries=function(){for(var r=this.getData(),$=r.count(),L=[],V=0;V<$;++V)L[V]=V;var oe=r.mapDimension("single"),ae=groupData$1(L,function(le){return r.get("name",le)}),re=[];return ae.buckets.each(function(le,ue){le.sort(function(de,he){return r.get(oe,de)-r.get(oe,he)}),re.push({name:ue,indices:le})}),re},n.prototype.getAxisTooltipData=function(r,$,L){isArray$6(r)||(r=r?[r]:[]);for(var V=this.getData(),oe=this.getLayerSeries(),ae=[],re=oe.length,le,ue=0;ue<re;++ue){for(var de=Number.MAX_VALUE,he=-1,pe=oe[ue].indices.length,_e=0;_e<pe;++_e){var $e=V.get(r[0],oe[ue].indices[_e]),xe=Math.abs($e-$);xe<=de&&(le=$e,de=xe,he=oe[ue].indices[_e])}ae.push(he)}return{dataIndices:ae,nestestValue:le}},n.prototype.formatTooltip=function(r,$,L){var V=this.getData(),oe=V.getName(r),ae=V.get(V.mapDimension("value"),r);return createTooltipMarkup$1("nameValue",{name:oe,value:ae})},n.type="series.themeRiver",n.dependencies=["singleAxis"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},n}(SeriesModel$3);const ThemeRiverSeriesModel$3=ThemeRiverSeriesModel$2;function themeRiverLayout$1(g,n){g.eachSeriesByType("themeRiver",function(r){var $=r.getData(),L=r.coordinateSystem,V={},oe=L.getRect();V.rect=oe;var ae=r.get("boundaryGap"),re=L.getAxis();if(V.boundaryGap=ae,re.orient==="horizontal"){ae[0]=parsePercent$2(ae[0],oe.height),ae[1]=parsePercent$2(ae[1],oe.height);var le=oe.height-ae[0]-ae[1];doThemeRiverLayout$1($,r,le)}else{ae[0]=parsePercent$2(ae[0],oe.width),ae[1]=parsePercent$2(ae[1],oe.width);var ue=oe.width-ae[0]-ae[1];doThemeRiverLayout$1($,r,ue)}$.setLayout("layoutInfo",V)})}function doThemeRiverLayout$1(g,n,r){if(g.count())for(var $=n.coordinateSystem,L=n.getLayerSeries(),V=g.mapDimension("single"),oe=g.mapDimension("value"),ae=map$3(L,function(xe){return map$3(xe.indices,function(Oe){var Ce=$.dataToPoint(g.get(V,Oe));return Ce[1]=g.get(oe,Oe),Ce})}),re=computeBaseline$1(ae),le=re.y0,ue=r/re.max,de=L.length,he=L[0].indices.length,pe,_e=0;_e<he;++_e){pe=le[_e]*ue,g.setItemLayout(L[0].indices[_e],{layerIndex:0,x:ae[0][_e][0],y0:pe,y:ae[0][_e][1]*ue});for(var $e=1;$e<de;++$e)pe+=ae[$e-1][_e][1]*ue,g.setItemLayout(L[$e].indices[_e],{layerIndex:$e,x:ae[$e][_e][0],y0:pe,y:ae[$e][_e][1]*ue})}}function computeBaseline$1(g){for(var n=g.length,r=g[0].length,$=[],L=[],V=0,oe=0;oe<r;++oe){for(var ae=0,re=0;re<n;++re)ae+=g[re][oe][1];ae>V&&(V=ae),$.push(ae)}for(var le=0;le<r;++le)L[le]=(V-$[le])/2;V=0;for(var ue=0;ue<r;++ue){var de=$[ue]+L[ue];de>V&&(V=de)}return{y0:L,max:V}}function install$1m(g){g.registerChartView(ThemeRiverView$3),g.registerSeriesModel(ThemeRiverSeriesModel$3),g.registerLayout(themeRiverLayout$1),g.registerProcessor(dataFilter$3("themeRiver"))}var DEFAULT_SECTOR_Z$1=2,DEFAULT_TEXT_Z$1=4,SunburstPiece$2=function(g){__extends$2(n,g);function n(r,$,L,V){var oe=g.call(this)||this;oe.z2=DEFAULT_SECTOR_Z$1,oe.textConfig={inside:!0},getECData$1(oe).seriesIndex=$.seriesIndex;var ae=new ZRText$3({z2:DEFAULT_TEXT_Z$1,silent:r.getModel().get(["label","silent"])});return oe.setTextContent(ae),oe.updateData(!0,r,$,L,V),oe}return n.prototype.updateData=function(r,$,L,V,oe){this.node=$,$.piece=this,L=L||this._seriesModel,V=V||this._ecModel;var ae=this;getECData$1(ae).dataIndex=$.dataIndex;var re=$.getModel(),le=re.getModel("emphasis"),ue=$.getLayout(),de=extend$4({},ue);de.label=null;var he=$.getVisual("style");he.lineJoin="bevel";var pe=$.getVisual("decal");pe&&(he.decal=createOrUpdatePatternFromDecal$1(pe,oe));var _e=getSectorCornerRadius$1(re.getModel("itemStyle"),de,!0);extend$4(de,_e),each$v(SPECIAL_STATES$1,function(Ce){var Ie=ae.ensureState(Ce),Ne=re.getModel([Ce,"itemStyle"]);Ie.style=Ne.getItemStyle();var ze=getSectorCornerRadius$1(Ne,de);ze&&(Ie.shape=ze)}),r?(ae.setShape(de),ae.shape.r=ue.r0,updateProps$3(ae,{shape:{r:ue.r}},L,$.dataIndex)):(updateProps$3(ae,{shape:de},L),saveOldStyle$1(ae)),ae.useStyle(he),this._updateLabel(L);var $e=re.getShallow("cursor");$e&&ae.attr("cursor",$e),this._seriesModel=L||this._seriesModel,this._ecModel=V||this._ecModel;var xe=le.get("focus"),Oe=xe==="ancestor"?$.getAncestorsIndices():xe==="descendant"?$.getDescendantIndices():xe;toggleHoverEmphasis$1(this,Oe,le.get("blurScope"),le.get("disabled"))},n.prototype._updateLabel=function(r){var $=this,L=this.node.getModel(),V=L.getModel("label"),oe=this.node.getLayout(),ae=oe.endAngle-oe.startAngle,re=(oe.startAngle+oe.endAngle)/2,le=Math.cos(re),ue=Math.sin(re),de=this,he=de.getTextContent(),pe=this.node.dataIndex,_e=V.get("minAngle")/180*Math.PI,$e=V.get("show")&&!(_e!=null&&Math.abs(ae)<_e);he.ignore=!$e,each$v(DISPLAY_STATES$1,function(Oe){var Ce=Oe==="normal"?L.getModel("label"):L.getModel([Oe,"label"]),Ie=Oe==="normal",Ne=Ie?he:he.ensureState(Oe),ze=r.getFormattedLabel(pe,Oe);Ie&&(ze=ze||$.node.name),Ne.style=createTextStyle$1(Ce,{},null,Oe!=="normal",!0),ze&&(Ne.style.text=ze);var Fe=Ce.get("show");Fe!=null&&!Ie&&(Ne.ignore=!Fe);var Ue=xe(Ce,"position"),At=Ie?de:de.states[Oe],Et=At.style.fill;At.textConfig={outsideFill:Ce.get("color")==="inherit"?Et:null,inside:Ue!=="outside"};var Pt,kt=xe(Ce,"distance")||0,Dt=xe(Ce,"align");Ue==="outside"?(Pt=oe.r+kt,Dt=re>Math.PI/2?"right":"left"):!Dt||Dt==="center"?(ae===2*Math.PI&&oe.r0===0?Pt=0:Pt=(oe.r+oe.r0)/2,Dt="center"):Dt==="left"?(Pt=oe.r0+kt,re>Math.PI/2&&(Dt="right")):Dt==="right"&&(Pt=oe.r-kt,re>Math.PI/2&&(Dt="left")),Ne.style.align=Dt,Ne.style.verticalAlign=xe(Ce,"verticalAlign")||"middle",Ne.x=Pt*le+oe.cx,Ne.y=Pt*ue+oe.cy;var Lt=xe(Ce,"rotate"),hn=0;Lt==="radial"?(hn=-re,hn<-Math.PI/2&&(hn+=Math.PI)):Lt==="tangential"?(hn=Math.PI/2-re,hn>Math.PI/2?hn-=Math.PI:hn<-Math.PI/2&&(hn+=Math.PI)):isNumber$3(Lt)&&(hn=Lt*Math.PI/180),Ne.rotation=hn});function xe(Oe,Ce){var Ie=Oe.get(Ce);return Ie!=null?Ie:V.get(Ce)}he.dirtyStyle()},n}(Sector$3);const SunburstPiece$3=SunburstPiece$2;var ROOT_TO_NODE_ACTION$1="sunburstRootToNode",HIGHLIGHT_ACTION$1="sunburstHighlight",UNHIGHLIGHT_ACTION$1="sunburstUnhighlight";function installSunburstAction$1(g){g.registerAction({type:ROOT_TO_NODE_ACTION$1,update:"updateView"},function(n,r){r.eachComponent({mainType:"series",subType:"sunburst",query:n},$);function $(L,V){var oe=retrieveTargetInfo$1(n,[ROOT_TO_NODE_ACTION$1],L);if(oe){var ae=L.getViewRoot();ae&&(n.direction=aboveViewRoot$1(ae,oe.node)?"rollUp":"drillDown"),L.resetViewRoot(oe.node)}}}),g.registerAction({type:HIGHLIGHT_ACTION$1,update:"none"},function(n,r,$){n=extend$4({},n),r.eachComponent({mainType:"series",subType:"sunburst",query:n},L);function L(V){var oe=retrieveTargetInfo$1(n,[HIGHLIGHT_ACTION$1],V);oe&&(n.dataIndex=oe.node.dataIndex)}$.dispatchAction(extend$4(n,{type:"highlight"}))}),g.registerAction({type:UNHIGHLIGHT_ACTION$1,update:"updateView"},function(n,r,$){n=extend$4({},n),$.dispatchAction(extend$4(n,{type:"downplay"}))})}var SunburstView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L,V){var oe=this;this.seriesModel=r,this.api=L,this.ecModel=$;var ae=r.getData(),re=ae.tree.root,le=r.getViewRoot(),ue=this.group,de=r.get("renderLabelForZeroData"),he=[];le.eachNode(function(Ce){he.push(Ce)});var pe=this._oldChildren||[];_e(he,pe),Oe(re,le),this._initEvents(),this._oldChildren=he;function _e(Ce,Ie){if(Ce.length===0&&Ie.length===0)return;new DataDiffer$3(Ie,Ce,Ne,Ne).add(ze).update(ze).remove(curry$3(ze,null)).execute();function Ne(Fe){return Fe.getId()}function ze(Fe,Ue){var At=Fe==null?null:Ce[Fe],Et=Ue==null?null:Ie[Ue];$e(At,Et)}}function $e(Ce,Ie){if(!de&&Ce&&!Ce.getValue()&&(Ce=null),Ce!==re&&Ie!==re){if(Ie&&Ie.piece)Ce?(Ie.piece.updateData(!1,Ce,r,$,L),ae.setItemGraphicEl(Ce.dataIndex,Ie.piece)):xe(Ie);else if(Ce){var Ne=new SunburstPiece$3(Ce,r,$,L);ue.add(Ne),ae.setItemGraphicEl(Ce.dataIndex,Ne)}}}function xe(Ce){!Ce||Ce.piece&&(ue.remove(Ce.piece),Ce.piece=null)}function Oe(Ce,Ie){Ie.depth>0?(oe.virtualPiece?oe.virtualPiece.updateData(!1,Ce,r,$,L):(oe.virtualPiece=new SunburstPiece$3(Ce,r,$,L),ue.add(oe.virtualPiece)),Ie.piece.off("click"),oe.virtualPiece.on("click",function(Ne){oe._rootToNode(Ie.parentNode)})):oe.virtualPiece&&(ue.remove(oe.virtualPiece),oe.virtualPiece=null)}},n.prototype._initEvents=function(){var r=this;this.group.off("click"),this.group.on("click",function($){var L=!1,V=r.seriesModel.getViewRoot();V.eachNode(function(oe){if(!L&&oe.piece&&oe.piece===$.target){var ae=oe.getModel().get("nodeClick");if(ae==="rootToNode")r._rootToNode(oe);else if(ae==="link"){var re=oe.getModel(),le=re.get("link");if(le){var ue=re.get("target",!0)||"_blank";windowOpen$1(le,ue)}}L=!0}})})},n.prototype._rootToNode=function(r){r!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION$1,from:this.uid,seriesId:this.seriesModel.id,targetNode:r})},n.prototype.containPoint=function(r,$){var L=$.getData(),V=L.getItemLayout(0);if(V){var oe=r[0]-V.cx,ae=r[1]-V.cy,re=Math.sqrt(oe*oe+ae*ae);return re<=V.r&&re>=V.r0}},n.type="sunburst",n}(ChartView$3);const SunburstView$3=SunburstView$2;var SunburstSeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.ignoreStyleOnData=!0,r}return n.prototype.getInitialData=function(r,$){var L={name:r.name,children:r.data};completeTreeValue$2(L);var V=this._levelModels=map$3(r.levels||[],function(re){return new Model$3(re,this,$)},this),oe=Tree$4.createTree(L,this,ae);function ae(re){re.wrapMethod("getItemModel",function(le,ue){var de=oe.getNodeByDataIndex(ue),he=V[de.depth];return he&&(le.parentModel=he),le})}return oe.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.getDataParams=function(r){var $=g.prototype.getDataParams.apply(this,arguments),L=this.getData().tree.getNodeByDataIndex(r);return $.treePathInfo=wrapTreePathInfo$1(L,this),$},n.prototype.getLevelModel=function(r){return this._levelModels&&this._levelModels[r.depth]},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var $=this.getRawData().tree.root;(!r||r!==$&&!$.contains(r))&&(this._viewRoot=$)},n.prototype.enableAriaDecal=function(){enableAriaDecalForTree$1(this)},n.type="series.sunburst",n.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},n}(SeriesModel$3);function completeTreeValue$2(g){var n=0;each$v(g.children,function($){completeTreeValue$2($);var L=$.value;isArray$6(L)&&(L=L[0]),n+=L});var r=g.value;isArray$6(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=n),r<0&&(r=0),isArray$6(g.value)?g.value[0]=r:g.value=r}const SunburstSeriesModel$3=SunburstSeriesModel$2;var RADIAN$3=Math.PI/180;function sunburstLayout$1(g,n,r){n.eachSeriesByType(g,function($){var L=$.get("center"),V=$.get("radius");isArray$6(V)||(V=[0,V]),isArray$6(L)||(L=[L,L]);var oe=r.getWidth(),ae=r.getHeight(),re=Math.min(oe,ae),le=parsePercent$2(L[0],oe),ue=parsePercent$2(L[1],ae),de=parsePercent$2(V[0],re/2),he=parsePercent$2(V[1],re/2),pe=-$.get("startAngle")*RADIAN$3,_e=$.get("minAngle")*RADIAN$3,$e=$.getData().tree.root,xe=$.getViewRoot(),Oe=xe.depth,Ce=$.get("sort");Ce!=null&&initChildren$2(xe,Ce);var Ie=0;each$v(xe.children,function(_n){!isNaN(_n.getValue())&&Ie++});var Ne=xe.getValue(),ze=Math.PI/(Ne||Ie)*2,Fe=xe.depth>0,Ue=xe.height-(Fe?-1:1),At=(he-de)/(Ue||1),Et=$.get("clockwise"),Pt=$.get("stillShowZeroSum"),kt=Et?1:-1,Dt=function(_n,$n){if(_n){var Sn=$n;if(_n!==$e){var xn=_n.getValue(),On=Ne===0&&Pt?ze:xn*ze;On<_e&&(On=_e),Sn=$n+kt*On;var Cn=_n.depth-Oe-(Fe?-1:1),An=de+At*Cn,Rn=de+At*(Cn+1),Fn=$.getLevelModel(_n);if(Fn){var Pn=Fn.get("r0",!0),Un=Fn.get("r",!0),Dn=Fn.get("radius",!0);Dn!=null&&(Pn=Dn[0],Un=Dn[1]),Pn!=null&&(An=parsePercent$2(Pn,re/2)),Un!=null&&(Rn=parsePercent$2(Un,re/2))}_n.setLayout({angle:On,startAngle:$n,endAngle:Sn,clockwise:Et,cx:le,cy:ue,r0:An,r:Rn})}if(_n.children&&_n.children.length){var kn=0;each$v(_n.children,function(Nn){kn+=Dt(Nn,$n+kn)})}return Sn-$n}};if(Fe){var Lt=de,hn=de+At,vn=Math.PI*2;$e.setLayout({angle:vn,startAngle:pe,endAngle:pe+vn,clockwise:Et,cx:le,cy:ue,r0:Lt,r:hn})}Dt(xe,pe)})}function initChildren$2(g,n){var r=g.children||[];g.children=sort$3(r,n),r.length&&each$v(g.children,function($){initChildren$2($,n)})}function sort$3(g,n){if(isFunction$3(n)){var r=map$3(g,function(L,V){var oe=L.getValue();return{params:{depth:L.depth,height:L.height,dataIndex:L.dataIndex,getValue:function(){return oe}},index:V}});return r.sort(function(L,V){return n(L.params,V.params)}),map$3(r,function(L){return g[L.index]})}else{var $=n==="asc";return g.sort(function(L,V){var oe=(L.getValue()-V.getValue())*($?1:-1);return oe===0?(L.dataIndex-V.dataIndex)*($?-1:1):oe})}}function sunburstVisual$1(g){var n={};function r($,L,V){for(var oe=$;oe&&oe.depth>1;)oe=oe.parentNode;var ae=L.getColorFromPalette(oe.name||oe.dataIndex+"",n);return $.depth>1&&isString$3(ae)&&(ae=lift$1(ae,($.depth-1)/(V-1)*.5)),ae}g.eachSeriesByType("sunburst",function($){var L=$.getData(),V=L.tree;V.eachNode(function(oe){var ae=oe.getModel(),re=ae.getModel("itemStyle").getItemStyle();re.fill||(re.fill=r(oe,$,V.root.height));var le=L.ensureUniqueItemVisual(oe.dataIndex,"style");extend$4(le,re)})})}function install$1l(g){g.registerChartView(SunburstView$3),g.registerSeriesModel(SunburstSeriesModel$3),g.registerLayout(curry$3(sunburstLayout$1,"sunburst")),g.registerProcessor(curry$3(dataFilter$3,"sunburst")),g.registerVisual(sunburstVisual$1),installSunburstAction$1(g)}var STYLE_VISUAL_TYPE$1={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS$1={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore$1=makeInner$1(),CustomSeriesModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},n.prototype.getInitialData=function(r,$){return createSeriesData$1(null,this)},n.prototype.getDataParams=function(r,$,L){var V=g.prototype.getDataParams.call(this,r,$);return L&&(V.info=customInnerStore$1(L).info),V},n.type="series.custom",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},n}(SeriesModel$3);const CustomSeriesModel$3=CustomSeriesModel$2;function dataToCoordSize$7(g,n){return n=n||[0,0],map$3(["x","y"],function(r,$){var L=this.getAxis(r),V=n[$],oe=g[$]/2;return L.type==="category"?L.getBandWidth():Math.abs(L.dataToCoord(V-oe)-L.dataToCoord(V+oe))},this)}function cartesianPrepareCustom$1(g){var n=g.master.getRect();return{coordSys:{type:"cartesian2d",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(r){return g.dataToPoint(r)},size:bind$5(dataToCoordSize$7,g)}}}function dataToCoordSize$6(g,n){return n=n||[0,0],map$3([0,1],function(r){var $=n[r],L=g[r]/2,V=[],oe=[];return V[r]=$-L,oe[r]=$+L,V[1-r]=oe[1-r]=n[1-r],Math.abs(this.dataToPoint(V)[r]-this.dataToPoint(oe)[r])},this)}function geoPrepareCustom$1(g){var n=g.getBoundingRect();return{coordSys:{type:"geo",x:n.x,y:n.y,width:n.width,height:n.height,zoom:g.getZoom()},api:{coord:function(r){return g.dataToPoint(r)},size:bind$5(dataToCoordSize$6,g)}}}function dataToCoordSize$5(g,n){var r=this.getAxis(),$=n instanceof Array?n[0]:n,L=(g instanceof Array?g[0]:g)/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord($-L)-r.dataToCoord($+L))}function singlePrepareCustom$1(g){var n=g.getRect();return{coordSys:{type:"singleAxis",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(r){return g.dataToPoint(r)},size:bind$5(dataToCoordSize$5,g)}}}function dataToCoordSize$4(g,n){return n=n||[0,0],map$3(["Radius","Angle"],function(r,$){var L="get"+r+"Axis",V=this[L](),oe=n[$],ae=g[$]/2,re=V.type==="category"?V.getBandWidth():Math.abs(V.dataToCoord(oe-ae)-V.dataToCoord(oe+ae));return r==="Angle"&&(re=re*Math.PI/180),re},this)}function polarPrepareCustom$1(g){var n=g.getRadiusAxis(),r=g.getAngleAxis(),$=n.getExtent();return $[0]>$[1]&&$.reverse(),{coordSys:{type:"polar",cx:g.cx,cy:g.cy,r:$[1],r0:$[0]},api:{coord:function(L){var V=n.dataToRadius(L[0]),oe=r.dataToAngle(L[1]),ae=g.coordToPoint([V,oe]);return ae.push(V,oe*Math.PI/180),ae},size:bind$5(dataToCoordSize$4,g)}}}function calendarPrepareCustom$1(g){var n=g.getRect(),r=g.getRangeInfo();return{coordSys:{type:"calendar",x:n.x,y:n.y,width:n.width,height:n.height,cellWidth:g.getCellWidth(),cellHeight:g.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function($,L){return g.dataToPoint($,L)}}}}function isEC4CompatibleStyle$1(g,n,r,$){return g&&(g.legacy||g.legacy!==!1&&!r&&!$&&n!=="tspan"&&(n==="text"||hasOwn$1(g,"text")))}function convertFromEC4CompatibleStyle$1(g,n,r){var $=g,L,V,oe;if(n==="text")oe=$;else{oe={},hasOwn$1($,"text")&&(oe.text=$.text),hasOwn$1($,"rich")&&(oe.rich=$.rich),hasOwn$1($,"textFill")&&(oe.fill=$.textFill),hasOwn$1($,"textStroke")&&(oe.stroke=$.textStroke),hasOwn$1($,"fontFamily")&&(oe.fontFamily=$.fontFamily),hasOwn$1($,"fontSize")&&(oe.fontSize=$.fontSize),hasOwn$1($,"fontStyle")&&(oe.fontStyle=$.fontStyle),hasOwn$1($,"fontWeight")&&(oe.fontWeight=$.fontWeight),V={type:"text",style:oe,silent:!0},L={};var ae=hasOwn$1($,"textPosition");r?L.position=ae?$.textPosition:"inside":ae&&(L.position=$.textPosition),hasOwn$1($,"textPosition")&&(L.position=$.textPosition),hasOwn$1($,"textOffset")&&(L.offset=$.textOffset),hasOwn$1($,"textRotation")&&(L.rotation=$.textRotation),hasOwn$1($,"textDistance")&&(L.distance=$.textDistance)}return convertEC4CompatibleRichItem$1(oe,g),each$v(oe.rich,function(re){convertEC4CompatibleRichItem$1(re,re)}),{textConfig:L,textContent:V}}function convertEC4CompatibleRichItem$1(g,n){!n||(n.font=n.textFont||n.font,hasOwn$1(n,"textStrokeWidth")&&(g.lineWidth=n.textStrokeWidth),hasOwn$1(n,"textAlign")&&(g.align=n.textAlign),hasOwn$1(n,"textVerticalAlign")&&(g.verticalAlign=n.textVerticalAlign),hasOwn$1(n,"textLineHeight")&&(g.lineHeight=n.textLineHeight),hasOwn$1(n,"textWidth")&&(g.width=n.textWidth),hasOwn$1(n,"textHeight")&&(g.height=n.textHeight),hasOwn$1(n,"textBackgroundColor")&&(g.backgroundColor=n.textBackgroundColor),hasOwn$1(n,"textPadding")&&(g.padding=n.textPadding),hasOwn$1(n,"textBorderColor")&&(g.borderColor=n.textBorderColor),hasOwn$1(n,"textBorderWidth")&&(g.borderWidth=n.textBorderWidth),hasOwn$1(n,"textBorderRadius")&&(g.borderRadius=n.textBorderRadius),hasOwn$1(n,"textBoxShadowColor")&&(g.shadowColor=n.textBoxShadowColor),hasOwn$1(n,"textBoxShadowBlur")&&(g.shadowBlur=n.textBoxShadowBlur),hasOwn$1(n,"textBoxShadowOffsetX")&&(g.shadowOffsetX=n.textBoxShadowOffsetX),hasOwn$1(n,"textBoxShadowOffsetY")&&(g.shadowOffsetY=n.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise$1(g,n,r){var $=g;$.textPosition=$.textPosition||r.position||"inside",r.offset!=null&&($.textOffset=r.offset),r.rotation!=null&&($.textRotation=r.rotation),r.distance!=null&&($.textDistance=r.distance);var L=$.textPosition.indexOf("inside")>=0,V=g.fill||"#000";convertToEC4RichItem$1($,n);var oe=$.textFill==null;return L?oe&&($.textFill=r.insideFill||"#fff",!$.textStroke&&r.insideStroke&&($.textStroke=r.insideStroke),!$.textStroke&&($.textStroke=V),$.textStrokeWidth==null&&($.textStrokeWidth=2)):(oe&&($.textFill=g.fill||r.outsideFill||"#000"),!$.textStroke&&r.outsideStroke&&($.textStroke=r.outsideStroke)),$.text=n.text,$.rich=n.rich,each$v(n.rich,function(ae){convertToEC4RichItem$1(ae,ae)}),$}function convertToEC4RichItem$1(g,n){!n||(hasOwn$1(n,"fill")&&(g.textFill=n.fill),hasOwn$1(n,"stroke")&&(g.textStroke=n.fill),hasOwn$1(n,"lineWidth")&&(g.textStrokeWidth=n.lineWidth),hasOwn$1(n,"font")&&(g.font=n.font),hasOwn$1(n,"fontStyle")&&(g.fontStyle=n.fontStyle),hasOwn$1(n,"fontWeight")&&(g.fontWeight=n.fontWeight),hasOwn$1(n,"fontSize")&&(g.fontSize=n.fontSize),hasOwn$1(n,"fontFamily")&&(g.fontFamily=n.fontFamily),hasOwn$1(n,"align")&&(g.textAlign=n.align),hasOwn$1(n,"verticalAlign")&&(g.textVerticalAlign=n.verticalAlign),hasOwn$1(n,"lineHeight")&&(g.textLineHeight=n.lineHeight),hasOwn$1(n,"width")&&(g.textWidth=n.width),hasOwn$1(n,"height")&&(g.textHeight=n.height),hasOwn$1(n,"backgroundColor")&&(g.textBackgroundColor=n.backgroundColor),hasOwn$1(n,"padding")&&(g.textPadding=n.padding),hasOwn$1(n,"borderColor")&&(g.textBorderColor=n.borderColor),hasOwn$1(n,"borderWidth")&&(g.textBorderWidth=n.borderWidth),hasOwn$1(n,"borderRadius")&&(g.textBorderRadius=n.borderRadius),hasOwn$1(n,"shadowColor")&&(g.textBoxShadowColor=n.shadowColor),hasOwn$1(n,"shadowBlur")&&(g.textBoxShadowBlur=n.shadowBlur),hasOwn$1(n,"shadowOffsetX")&&(g.textBoxShadowOffsetX=n.shadowOffsetX),hasOwn$1(n,"shadowOffsetY")&&(g.textBoxShadowOffsetY=n.shadowOffsetY),hasOwn$1(n,"textShadowColor")&&(g.textShadowColor=n.textShadowColor),hasOwn$1(n,"textShadowBlur")&&(g.textShadowBlur=n.textShadowBlur),hasOwn$1(n,"textShadowOffsetX")&&(g.textShadowOffsetX=n.textShadowOffsetX),hasOwn$1(n,"textShadowOffsetY")&&(g.textShadowOffsetY=n.textShadowOffsetY))}var LEGACY_TRANSFORM_PROPS_MAP$1={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS$1=keys$2(LEGACY_TRANSFORM_PROPS_MAP$1);reduce$1(TRANSFORMABLE_PROPS$1,function(g,n){return g[n]=1,g},{}),TRANSFORMABLE_PROPS$1.join(", ");var ELEMENT_ANIMATABLE_PROPS$1=["","style","shape","extra"],transitionInnerStore$1=makeInner$1();function getElementAnimationConfig$1(g,n,r,$,L){var V=g+"Animation",oe=getAnimationConfig$1(g,$,L)||{},ae=transitionInnerStore$1(n).userDuring;return oe.duration>0&&(oe.during=ae?bind$5(duringCall$1,{el:n,userDuring:ae}):null,oe.setToFinal=!0,oe.scope=g),extend$4(oe,r[V]),oe}function applyUpdateTransition$1(g,n,r,$){$=$||{};var L=$.dataIndex,V=$.isInit,oe=$.clearStyle,ae=r.isAnimationEnabled(),re=transitionInnerStore$1(g),le=n.style;re.userDuring=n.during;var ue={},de={};if(prepareTransformAllPropsFinal$1(g,n,de),prepareShapeOrExtraAllPropsFinal$1("shape",n,de),prepareShapeOrExtraAllPropsFinal$1("extra",n,de),!V&&ae&&(prepareTransformTransitionFrom$1(g,n,ue),prepareShapeOrExtraTransitionFrom$1("shape",g,n,ue),prepareShapeOrExtraTransitionFrom$1("extra",g,n,ue),prepareStyleTransitionFrom$1(g,n,le,ue)),de.style=le,applyPropsDirectly$1(g,de,oe),applyMiscProps$1(g,n),ae)if(V){var he={};each$v(ELEMENT_ANIMATABLE_PROPS$1,function(_e){var $e=_e?n[_e]:n;$e&&$e.enterFrom&&(_e&&(he[_e]=he[_e]||{}),extend$4(_e?he[_e]:he,$e.enterFrom))});var pe=getElementAnimationConfig$1("enter",g,n,r,L);pe.duration>0&&g.animateFrom(he,pe)}else applyPropsTransition$1(g,n,L||0,r,ue);updateLeaveTo$1(g,n),le?g.dirty():g.markRedraw()}function updateLeaveTo$1(g,n){for(var r=transitionInnerStore$1(g).leaveToProps,$=0;$<ELEMENT_ANIMATABLE_PROPS$1.length;$++){var L=ELEMENT_ANIMATABLE_PROPS$1[$],V=L?n[L]:n;V&&V.leaveTo&&(r||(r=transitionInnerStore$1(g).leaveToProps={}),L&&(r[L]=r[L]||{}),extend$4(L?r[L]:r,V.leaveTo))}}function applyLeaveTransition$1(g,n,r,$){if(g){var L=g.parent,V=transitionInnerStore$1(g).leaveToProps;if(V){var oe=getElementAnimationConfig$1("update",g,n,r,0);oe.done=function(){L.remove(g),$&&$()},g.animateTo(V,oe)}else L.remove(g),$&&$()}}function isTransitionAll$1(g){return g==="all"}function applyPropsDirectly$1(g,n,r){var $=n.style;if(!g.isGroup&&$){if(r){g.useStyle({});for(var L=g.animators,V=0;V<L.length;V++){var oe=L[V];oe.targetName==="style"&&oe.changeTarget(g.style)}}g.setStyle($)}n&&(n.style=null,n&&g.attr(n),n.style=$)}function applyPropsTransition$1(g,n,r,$,L){if(L){var V=getElementAnimationConfig$1("update",g,n,$,r);V.duration>0&&g.animateFrom(L,V)}}function applyMiscProps$1(g,n){hasOwn$1(n,"silent")&&(g.silent=n.silent),hasOwn$1(n,"ignore")&&(g.ignore=n.ignore),g instanceof Displayable$3&&hasOwn$1(n,"invisible")&&(g.invisible=n.invisible),g instanceof Path$3&&hasOwn$1(n,"autoBatch")&&(g.autoBatch=n.autoBatch)}var tmpDuringScope$1={},transitionDuringAPI$1={setTransform:function(g,n){return tmpDuringScope$1.el[g]=n,this},getTransform:function(g){return tmpDuringScope$1.el[g]},setShape:function(g,n){var r=tmpDuringScope$1.el,$=r.shape||(r.shape={});return $[g]=n,r.dirtyShape&&r.dirtyShape(),this},getShape:function(g){var n=tmpDuringScope$1.el.shape;if(n)return n[g]},setStyle:function(g,n){var r=tmpDuringScope$1.el,$=r.style;return $&&($[g]=n,r.dirtyStyle&&r.dirtyStyle()),this},getStyle:function(g){var n=tmpDuringScope$1.el.style;if(n)return n[g]},setExtra:function(g,n){var r=tmpDuringScope$1.el.extra||(tmpDuringScope$1.el.extra={});return r[g]=n,this},getExtra:function(g){var n=tmpDuringScope$1.el.extra;if(n)return n[g]}};function duringCall$1(){var g=this,n=g.el;if(n){var r=transitionInnerStore$1(n).userDuring,$=g.userDuring;if(r!==$){g.el=g.userDuring=null;return}tmpDuringScope$1.el=n,$(transitionDuringAPI$1)}}function prepareShapeOrExtraTransitionFrom$1(g,n,r,$){var L=r[g];if(L){var V=n[g],oe;if(V){var ae=r.transition,re=L.transition;if(re)if(!oe&&(oe=$[g]={}),isTransitionAll$1(re))extend$4(oe,V);else for(var le=normalizeToArray$1(re),ue=0;ue<le.length;ue++){var de=le[ue],he=V[de];oe[de]=he}else if(isTransitionAll$1(ae)||indexOf$1(ae,g)>=0){!oe&&(oe=$[g]={});for(var pe=keys$2(V),ue=0;ue<pe.length;ue++){var de=pe[ue],he=V[de];isNonStyleTransitionEnabled$1(L[de],he)&&(oe[de]=he)}}}}}function prepareShapeOrExtraAllPropsFinal$1(g,n,r){var $=n[g];if($)for(var L=r[g]={},V=keys$2($),oe=0;oe<V.length;oe++){var ae=V[oe];L[ae]=cloneValue$1($[ae])}}function prepareTransformTransitionFrom$1(g,n,r){for(var $=n.transition,L=isTransitionAll$1($)?TRANSFORMABLE_PROPS$1:normalizeToArray$1($||[]),V=0;V<L.length;V++){var oe=L[V];if(!(oe==="style"||oe==="shape"||oe==="extra")){var ae=g[oe];r[oe]=ae}}}function prepareTransformAllPropsFinal$1(g,n,r){for(var $=0;$<LEGACY_TRANSFORM_PROPS$1.length;$++){var L=LEGACY_TRANSFORM_PROPS$1[$],V=LEGACY_TRANSFORM_PROPS_MAP$1[L],oe=n[L];oe&&(r[V[0]]=oe[0],r[V[1]]=oe[1])}for(var $=0;$<TRANSFORMABLE_PROPS$1.length;$++){var ae=TRANSFORMABLE_PROPS$1[$];n[ae]!=null&&(r[ae]=n[ae])}}function prepareStyleTransitionFrom$1(g,n,r,$){if(r){var L=g.style,V;if(L){var oe=r.transition,ae=n.transition;if(oe&&!isTransitionAll$1(oe)){var re=normalizeToArray$1(oe);!V&&(V=$.style={});for(var le=0;le<re.length;le++){var ue=re[le],de=L[ue];V[ue]=de}}else if(g.getAnimationStyleProps&&(isTransitionAll$1(ae)||isTransitionAll$1(oe)||indexOf$1(ae,"style")>=0)){var he=g.getAnimationStyleProps(),pe=he?he.style:null;if(pe){!V&&(V=$.style={});for(var _e=keys$2(r),le=0;le<_e.length;le++){var ue=_e[le];if(pe[ue]){var de=L[ue];V[ue]=de}}}}}}}function isNonStyleTransitionEnabled$1(g,n){return isArrayLike$1(g)?g!==n:g!=null&&isFinite(g)}var getStateToRestore$1=makeInner$1(),KEYFRAME_EXCLUDE_KEYS$1=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore$1(g){g.stopAnimation("keyframe"),g.attr(getStateToRestore$1(g))}function applyKeyframeAnimation$1(g,n,r){if(!(!r.isAnimationEnabled()||!n)){if(isArray$6(n)){each$v(n,function(ae){applyKeyframeAnimation$1(g,ae,r)});return}var $=n.keyframes,L=n.duration;if(r&&L==null){var V=getAnimationConfig$1("enter",r,0);L=V&&V.duration}if(!(!$||!L)){var oe=getStateToRestore$1(g);each$v(ELEMENT_ANIMATABLE_PROPS$1,function(ae){if(!(ae&&!g[ae])){var re;$.sort(function(le,ue){return le.percent-ue.percent}),each$v($,function(le){var ue=g.animators,de=ae?le[ae]:le;if(de){var he=keys$2(de);if(ae||(he=filter$1(he,function($e){return indexOf$1(KEYFRAME_EXCLUDE_KEYS$1,$e)<0})),!!he.length){re||(re=g.animate(ae,n.loop,!0),re.scope="keyframe");for(var pe=0;pe<ue.length;pe++)ue[pe]!==re&&ue[pe].targetName===re.targetName&&ue[pe].stopTracks(he);ae&&(oe[ae]=oe[ae]||{});var _e=ae?oe[ae]:oe;each$v(he,function($e){_e[$e]=((ae?g[ae]:g)||{})[$e]}),re.whenWithKeys(L*le.percent,de,he,le.easing)}}}),re&&re.delay(n.delay||0).duration(L).start(n.easing)}})}}}var EMPHASIS$1="emphasis",NORMAL$1="normal",BLUR$1="blur",SELECT$1="select",STATES$1=[NORMAL$1,EMPHASIS$1,BLUR$1,SELECT$1],PATH_ITEM_STYLE$1={normal:["itemStyle"],emphasis:[EMPHASIS$1,"itemStyle"],blur:[BLUR$1,"itemStyle"],select:[SELECT$1,"itemStyle"]},PATH_LABEL$1={normal:["label"],emphasis:[EMPHASIS$1,"label"],blur:[BLUR$1,"label"],select:[SELECT$1,"label"]},DEFAULT_TRANSITION$1=["x","y"],GROUP_DIFF_PREFIX$1="e\0\0",attachedTxInfoTmp$1={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms$1={cartesian2d:cartesianPrepareCustom$1,geo:geoPrepareCustom$1,single:singlePrepareCustom$1,polar:polarPrepareCustom$1,calendar:calendarPrepareCustom$1};function isPath$2(g){return g instanceof Path$3}function isDisplayable$1(g){return g instanceof Displayable$3}function copyElement$1(g,n){n.copyTransform(g),isDisplayable$1(n)&&isDisplayable$1(g)&&(n.setStyle(g.style),n.z=g.z,n.z2=g.z2,n.zlevel=g.zlevel,n.invisible=g.invisible,n.ignore=g.ignore,isPath$2(n)&&isPath$2(g)&&n.setShape(g.shape))}var CustomChartView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L,V){this._progressiveEls=null;var oe=this._data,ae=r.getData(),re=this.group,le=makeRenderItem$1(r,ae,$,L);oe||re.removeAll(),ae.diff(oe).add(function(de){createOrUpdateItem$1(L,null,de,le(de,V),r,re,ae)}).remove(function(de){var he=oe.getItemGraphicEl(de);he&&applyLeaveTransition$1(he,customInnerStore$1(he).option,r)}).update(function(de,he){var pe=oe.getItemGraphicEl(he);createOrUpdateItem$1(L,pe,de,le(de,V),r,re,ae)}).execute();var ue=r.get("clip",!0)?createClipPath$1(r.coordinateSystem,!1,r):null;ue?re.setClipPath(ue):re.removeClipPath(),this._data=ae},n.prototype.incrementalPrepareRender=function(r,$,L){this.group.removeAll(),this._data=null},n.prototype.incrementalRender=function(r,$,L,V,oe){var ae=$.getData(),re=makeRenderItem$1($,ae,L,V),le=this._progressiveEls=[];function ue(pe){pe.isGroup||(pe.incremental=!0,pe.ensureState("emphasis").hoverLayer=!0)}for(var de=r.start;de<r.end;de++){var he=createOrUpdateItem$1(null,null,de,re(de,oe),$,this.group,ae);he&&(he.traverse(ue),le.push(he))}},n.prototype.eachRendered=function(r){traverseElements$1(this._progressiveEls||this.group,r)},n.prototype.filterForExposedEvent=function(r,$,L,V){var oe=$.element;if(oe==null||L.name===oe)return!0;for(;(L=L.__hostTarget||L.parent)&&L!==this.group;)if(L.name===oe)return!0;return!1},n.type="custom",n}(ChartView$3);const CustomChartView$3=CustomChartView$2;function createEl$3(g){var n=g.type,r;if(n==="path"){var $=g.shape,L=$.width!=null&&$.height!=null?{x:$.x||0,y:$.y||0,width:$.width,height:$.height}:null,V=getPathData$1($);r=makePath$1(V,null,L,$.layout||"center"),customInnerStore$1(r).customPathData=V}else if(n==="image")r=new ZRImage$3({}),customInnerStore$1(r).customImagePath=g.style.image;else if(n==="text")r=new ZRText$3({});else if(n==="group")r=new Group$9;else{if(n==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var oe=getShapeClass$1(n);if(!oe){var ae="";throwError$1(ae)}r=new oe}return customInnerStore$1(r).customGraphicType=n,r.name=g.name,r.z2EmphasisLift=1,r.z2SelectLift=1,r}function updateElNormal$1(g,n,r,$,L,V,oe){stopPreviousKeyframeAnimationAndRestore$1(n);var ae=L&&L.normal.cfg;ae&&n.setTextConfig(ae),$&&$.transition==null&&($.transition=DEFAULT_TRANSITION$1);var re=$&&$.style;if(re){if(n.type==="text"){var le=re;hasOwn$1(le,"textFill")&&(le.fill=le.textFill),hasOwn$1(le,"textStroke")&&(le.stroke=le.textStroke)}var ue=void 0,de=isPath$2(n)?re.decal:null;g&&de&&(de.dirty=!0,ue=createOrUpdatePatternFromDecal$1(de,g)),re.__decalPattern=ue}if(isDisplayable$1(n)&&re){var ue=re.__decalPattern;ue&&(re.decal=ue)}applyUpdateTransition$1(n,$,V,{dataIndex:r,isInit:oe,clearStyle:!0}),applyKeyframeAnimation$1(n,$.keyframeAnimation,V)}function updateElOnState$1(g,n,r,$,L){var V=n.isGroup?null:n,oe=L&&L[g].cfg;if(V){var ae=V.ensureState(g);if($===!1){var re=V.getState(g);re&&(re.style=null)}else ae.style=$||null;oe&&(ae.textConfig=oe),setDefaultStateProxy$1(V)}}function updateZ$2(g,n,r){if(!g.isGroup){var $=g,L=r.currentZ,V=r.currentZLevel;$.z=L,$.zlevel=V;var oe=n.z2;oe!=null&&($.z2=oe||0);for(var ae=0;ae<STATES$1.length;ae++)updateZForEachState$1($,n,STATES$1[ae])}}function updateZForEachState$1(g,n,r){var $=r===NORMAL$1,L=$?n:retrieveStateOption$1(n,r),V=L?L.z2:null,oe;V!=null&&(oe=$?g:g.ensureState(r),oe.z2=V||0)}function makeRenderItem$1(g,n,r,$){var L=g.get("renderItem"),V=g.coordinateSystem,oe={};V&&(oe=V.prepareCustoms?V.prepareCustoms(V):prepareCustoms$1[V.type](V));for(var ae=defaults$7({getWidth:$.getWidth,getHeight:$.getHeight,getZr:$.getZr,getDevicePixelRatio:$.getDevicePixelRatio,value:Ne,style:Fe,ordinalRawValue:ze,styleEmphasis:Ue,visual:Pt,barLayout:kt,currentSeriesIndices:Dt,font:Lt},oe.api||{}),re={context:{},seriesId:g.id,seriesName:g.name,seriesIndex:g.seriesIndex,coordSys:oe.coordSys,dataInsideLength:n.count(),encode:wrapEncodeDef$1(g.getData())},le,ue,de={},he={},pe={},_e={},$e=0;$e<STATES$1.length;$e++){var xe=STATES$1[$e];pe[xe]=g.getModel(PATH_ITEM_STYLE$1[xe]),_e[xe]=g.getModel(PATH_LABEL$1[xe])}function Oe(hn){return hn===le?ue||(ue=n.getItemModel(hn)):n.getItemModel(hn)}function Ce(hn,vn){return n.hasItemOption?hn===le?de[vn]||(de[vn]=Oe(hn).getModel(PATH_ITEM_STYLE$1[vn])):Oe(hn).getModel(PATH_ITEM_STYLE$1[vn]):pe[vn]}function Ie(hn,vn){return n.hasItemOption?hn===le?he[vn]||(he[vn]=Oe(hn).getModel(PATH_LABEL$1[vn])):Oe(hn).getModel(PATH_LABEL$1[vn]):_e[vn]}return function(hn,vn){return le=hn,ue=null,de={},he={},L&&L(defaults$7({dataIndexInside:hn,dataIndex:n.getRawIndex(hn),actionType:vn?vn.type:null},re),ae)};function Ne(hn,vn){return vn==null&&(vn=le),n.getStore().get(n.getDimensionIndex(hn||0),vn)}function ze(hn,vn){vn==null&&(vn=le),hn=hn||0;var _n=n.getDimensionInfo(hn);if(!_n){var $n=n.getDimensionIndex(hn);return $n>=0?n.getStore().get($n,vn):void 0}var Sn=n.get(_n.name,vn),xn=_n&&_n.ordinalMeta;return xn?xn.categories[Sn]:Sn}function Fe(hn,vn){vn==null&&(vn=le);var _n=n.getItemVisual(vn,"style"),$n=_n&&_n.fill,Sn=_n&&_n.opacity,xn=Ce(vn,NORMAL$1).getItemStyle();$n!=null&&(xn.fill=$n),Sn!=null&&(xn.opacity=Sn);var On={inheritColor:isString$3($n)?$n:"#000"},Cn=Ie(vn,NORMAL$1),An=createTextStyle$1(Cn,null,On,!1,!0);An.text=Cn.getShallow("show")?retrieve2$1(g.getFormattedLabel(vn,NORMAL$1),getDefaultLabel$1(n,vn)):null;var Rn=createTextConfig$1(Cn,On,!1);return Et(hn,xn),xn=convertToEC4StyleForCustomSerise$1(xn,An,Rn),hn&&At(xn,hn),xn.legacy=!0,xn}function Ue(hn,vn){vn==null&&(vn=le);var _n=Ce(vn,EMPHASIS$1).getItemStyle(),$n=Ie(vn,EMPHASIS$1),Sn=createTextStyle$1($n,null,null,!0,!0);Sn.text=$n.getShallow("show")?retrieve3$1(g.getFormattedLabel(vn,EMPHASIS$1),g.getFormattedLabel(vn,NORMAL$1),getDefaultLabel$1(n,vn)):null;var xn=createTextConfig$1($n,null,!0);return Et(hn,_n),_n=convertToEC4StyleForCustomSerise$1(_n,Sn,xn),hn&&At(_n,hn),_n.legacy=!0,_n}function At(hn,vn){for(var _n in vn)hasOwn$1(vn,_n)&&(hn[_n]=vn[_n])}function Et(hn,vn){hn&&(hn.textFill&&(vn.textFill=hn.textFill),hn.textPosition&&(vn.textPosition=hn.textPosition))}function Pt(hn,vn){if(vn==null&&(vn=le),hasOwn$1(STYLE_VISUAL_TYPE$1,hn)){var _n=n.getItemVisual(vn,"style");return _n?_n[STYLE_VISUAL_TYPE$1[hn]]:null}if(hasOwn$1(NON_STYLE_VISUAL_PROPS$1,hn))return n.getItemVisual(vn,hn)}function kt(hn){if(V.type==="cartesian2d"){var vn=V.getBaseAxis();return getLayoutOnAxis$1(defaults$7({axis:vn},hn))}}function Dt(){return r.getCurrentSeriesIndices()}function Lt(hn){return getFont$1(hn,r)}}function wrapEncodeDef$1(g){var n={};return each$v(g.dimensions,function(r){var $=g.getDimensionInfo(r);if(!$.isExtraCoord){var L=$.coordDim,V=n[L]=n[L]||[];V[$.coordDimIndex]=g.getDimensionIndex(r)}}),n}function createOrUpdateItem$1(g,n,r,$,L,V,oe){if(!$){V.remove(n);return}var ae=doCreateOrUpdateEl$1(g,n,r,$,L,V);return ae&&oe.setItemGraphicEl(r,ae),ae&&toggleHoverEmphasis$1(ae,$.focus,$.blurScope,$.emphasisDisabled),ae}function doCreateOrUpdateEl$1(g,n,r,$,L,V){var oe=-1,ae=n;n&&doesElNeedRecreate$1(n,$,L)&&(oe=indexOf$1(V.childrenRef(),n),n=null);var re=!n,le=n;le?le.clearStates():(le=createEl$3($),ae&&copyElement$1(ae,le)),$.morph===!1?le.disableMorphing=!0:le.disableMorphing&&(le.disableMorphing=!1),attachedTxInfoTmp$1.normal.cfg=attachedTxInfoTmp$1.normal.conOpt=attachedTxInfoTmp$1.emphasis.cfg=attachedTxInfoTmp$1.emphasis.conOpt=attachedTxInfoTmp$1.blur.cfg=attachedTxInfoTmp$1.blur.conOpt=attachedTxInfoTmp$1.select.cfg=attachedTxInfoTmp$1.select.conOpt=null,attachedTxInfoTmp$1.isLegacy=!1,doCreateOrUpdateAttachedTx$1(le,r,$,L,re,attachedTxInfoTmp$1),doCreateOrUpdateClipPath$1(le,r,$,L,re),updateElNormal$1(g,le,r,$,attachedTxInfoTmp$1,L,re),hasOwn$1($,"info")&&(customInnerStore$1(le).info=$.info);for(var ue=0;ue<STATES$1.length;ue++){var de=STATES$1[ue];if(de!==NORMAL$1){var he=retrieveStateOption$1($,de),pe=retrieveStyleOptionOnState$1($,he,de);updateElOnState$1(de,le,he,pe,attachedTxInfoTmp$1)}}return updateZ$2(le,$,L),$.type==="group"&&mergeChildren$1(g,le,r,$,L),oe>=0?V.replaceAt(le,oe):V.add(le),le}function doesElNeedRecreate$1(g,n,r){var $=customInnerStore$1(g),L=n.type,V=n.shape,oe=n.style;return r.isUniversalTransitionEnabled()||L!=null&&L!==$.customGraphicType||L==="path"&&hasOwnPathData$1(V)&&getPathData$1(V)!==$.customPathData||L==="image"&&hasOwn$1(oe,"image")&&oe.image!==$.customImagePath}function doCreateOrUpdateClipPath$1(g,n,r,$,L){var V=r.clipPath;if(V===!1)g&&g.getClipPath()&&g.removeClipPath();else if(V){var oe=g.getClipPath();oe&&doesElNeedRecreate$1(oe,V,$)&&(oe=null),oe||(oe=createEl$3(V),g.setClipPath(oe)),updateElNormal$1(null,oe,n,V,null,$,L)}}function doCreateOrUpdateAttachedTx$1(g,n,r,$,L,V){if(!g.isGroup){processTxInfo$1(r,null,V),processTxInfo$1(r,EMPHASIS$1,V);var oe=V.normal.conOpt,ae=V.emphasis.conOpt,re=V.blur.conOpt,le=V.select.conOpt;if(oe!=null||ae!=null||le!=null||re!=null){var ue=g.getTextContent();if(oe===!1)ue&&g.removeTextContent();else{oe=V.normal.conOpt=oe||{type:"text"},ue?ue.clearStates():(ue=createEl$3(oe),g.setTextContent(ue)),updateElNormal$1(null,ue,n,oe,null,$,L);for(var de=oe&&oe.style,he=0;he<STATES$1.length;he++){var pe=STATES$1[he];if(pe!==NORMAL$1){var _e=V[pe].conOpt;updateElOnState$1(pe,ue,_e,retrieveStyleOptionOnState$1(oe,_e,pe),null)}}de?ue.dirty():ue.markRedraw()}}}}function processTxInfo$1(g,n,r){var $=n?retrieveStateOption$1(g,n):g,L=n?retrieveStyleOptionOnState$1(g,$,EMPHASIS$1):g.style,V=g.type,oe=$?$.textConfig:null,ae=g.textContent,re=ae?n?retrieveStateOption$1(ae,n):ae:null;if(L&&(r.isLegacy||isEC4CompatibleStyle$1(L,V,!!oe,!!re))){r.isLegacy=!0;var le=convertFromEC4CompatibleStyle$1(L,V,!n);!oe&&le.textConfig&&(oe=le.textConfig),!re&&le.textContent&&(re=le.textContent)}if(!n&&re){var ue=re;!ue.type&&(ue.type="text")}var de=n?r[n]:r.normal;de.cfg=oe,de.conOpt=re}function retrieveStateOption$1(g,n){return n?g?g[n]:null:g}function retrieveStyleOptionOnState$1(g,n,r){var $=n&&n.style;return $==null&&r===EMPHASIS$1&&g&&($=g.styleEmphasis),$}function mergeChildren$1(g,n,r,$,L){var V=$.children,oe=V?V.length:0,ae=$.$mergeChildren,re=ae==="byName"||$.diffChildrenByName,le=ae===!1;if(!(!oe&&!re&&!le)){if(re){diffGroupChildren$1({api:g,oldChildren:n.children()||[],newChildren:V||[],dataIndex:r,seriesModel:L,group:n});return}le&&n.removeAll();for(var ue=0;ue<oe;ue++){var de=V[ue],he=n.childAt(ue);de?(de.ignore==null&&(de.ignore=!1),doCreateOrUpdateEl$1(g,he,r,de,L,n)):he.ignore=!0}for(var pe=n.childCount()-1;pe>=ue;pe--){var _e=n.childAt(pe);removeChildFromGroup$1(n,_e,L)}}}function removeChildFromGroup$1(g,n,r){n&&applyLeaveTransition$1(n,customInnerStore$1(g).option,r)}function diffGroupChildren$1(g){new DataDiffer$3(g.oldChildren,g.newChildren,getKey$1,getKey$1,g).add(processAddUpdate$1).update(processAddUpdate$1).remove(processRemove$1).execute()}function getKey$1(g,n){var r=g&&g.name;return r!=null?r:GROUP_DIFF_PREFIX$1+n}function processAddUpdate$1(g,n){var r=this.context,$=g!=null?r.newChildren[g]:null,L=n!=null?r.oldChildren[n]:null;doCreateOrUpdateEl$1(r.api,L,r.dataIndex,$,r.seriesModel,r.group)}function processRemove$1(g){var n=this.context,r=n.oldChildren[g];r&&applyLeaveTransition$1(r,customInnerStore$1(r).option,n.seriesModel)}function getPathData$1(g){return g&&(g.pathData||g.d)}function hasOwnPathData$1(g){return g&&(hasOwn$1(g,"pathData")||hasOwn$1(g,"d"))}function install$1k(g){g.registerChartView(CustomChartView$3),g.registerSeriesModel(CustomSeriesModel$3)}var inner$x=makeInner$1(),clone$6=clone$9,bind$4=bind$5,BaseAxisPointer$2=function(){function g(){this._dragging=!1,this.animationThreshold=15}return g.prototype.render=function(n,r,$,L){var V=r.get("value"),oe=r.get("status");if(this._axisModel=n,this._axisPointerModel=r,this._api=$,!(!L&&this._lastValue===V&&this._lastStatus===oe)){this._lastValue=V,this._lastStatus=oe;var ae=this._group,re=this._handle;if(!oe||oe==="hide"){ae&&ae.hide(),re&&re.hide();return}ae&&ae.show(),re&&re.show();var le={};this.makeElOption(le,V,n,r,$);var ue=le.graphicKey;ue!==this._lastGraphicKey&&this.clear($),this._lastGraphicKey=ue;var de=this._moveAnimation=this.determineAnimation(n,r);if(!ae)ae=this._group=new Group$9,this.createPointerEl(ae,le,n,r),this.createLabelEl(ae,le,n,r),$.getZr().add(ae);else{var he=curry$3(updateProps$2,r,de);this.updatePointerEl(ae,le,he),this.updateLabelEl(ae,le,he,r)}updateMandatoryProps$1(ae,r,!0),this._renderHandle(V)}},g.prototype.remove=function(n){this.clear(n)},g.prototype.dispose=function(n){this.clear(n)},g.prototype.determineAnimation=function(n,r){var $=r.get("animation"),L=n.axis,V=L.type==="category",oe=r.get("snap");if(!oe&&!V)return!1;if($==="auto"||$==null){var ae=this.animationThreshold;if(V&&L.getBandWidth()>ae)return!0;if(oe){var re=getAxisInfo$3(n).seriesDataCount,le=L.getExtent();return Math.abs(le[0]-le[1])/re>ae}return!1}return $===!0},g.prototype.makeElOption=function(n,r,$,L,V){},g.prototype.createPointerEl=function(n,r,$,L){var V=r.pointer;if(V){var oe=inner$x(n).pointerEl=new graphic$1[V.type](clone$6(r.pointer));n.add(oe)}},g.prototype.createLabelEl=function(n,r,$,L){if(r.label){var V=inner$x(n).labelEl=new ZRText$3(clone$6(r.label));n.add(V),updateLabelShowHide$1(V,L)}},g.prototype.updatePointerEl=function(n,r,$){var L=inner$x(n).pointerEl;L&&r.pointer&&(L.setStyle(r.pointer.style),$(L,{shape:r.pointer.shape}))},g.prototype.updateLabelEl=function(n,r,$,L){var V=inner$x(n).labelEl;V&&(V.setStyle(r.label.style),$(V,{x:r.label.x,y:r.label.y}),updateLabelShowHide$1(V,L))},g.prototype._renderHandle=function(n){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,$=this._api.getZr(),L=this._handle,V=r.getModel("handle"),oe=r.get("status");if(!V.get("show")||!oe||oe==="hide"){L&&$.remove(L),this._handle=null;return}var ae;this._handle||(ae=!0,L=this._handle=createIcon$1(V.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(le){stop$1(le.event)},onmousedown:bind$4(this._onHandleDragMove,this,0,0),drift:bind$4(this._onHandleDragMove,this),ondragend:bind$4(this._onHandleDragEnd,this)}),$.add(L)),updateMandatoryProps$1(L,r,!1),L.setStyle(V.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var re=V.get("size");isArray$6(re)||(re=[re,re]),L.scaleX=re[0]/2,L.scaleY=re[1]/2,createOrUpdate$1(this,"_doDispatchAxisPointer",V.get("throttle")||0,"fixRate"),this._moveHandleToValue(n,ae)}},g.prototype._moveHandleToValue=function(n,r){updateProps$2(this._axisPointerModel,!r&&this._moveAnimation,this._handle,getHandleTransProps$1(this.getHandleTransform(n,this._axisModel,this._axisPointerModel)))},g.prototype._onHandleDragMove=function(n,r){var $=this._handle;if($){this._dragging=!0;var L=this.updateHandleTransform(getHandleTransProps$1($),[n,r],this._axisModel,this._axisPointerModel);this._payloadInfo=L,$.stopAnimation(),$.attr(getHandleTransProps$1(L)),inner$x($).lastProp=null,this._doDispatchAxisPointer()}},g.prototype._doDispatchAxisPointer=function(){var n=this._handle;if(n){var r=this._payloadInfo,$=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:$.axis.dim,axisIndex:$.componentIndex}]})}},g.prototype._onHandleDragEnd=function(){this._dragging=!1;var n=this._handle;if(n){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},g.prototype.clear=function(n){this._lastValue=null,this._lastStatus=null;var r=n.getZr(),$=this._group,L=this._handle;r&&$&&(this._lastGraphicKey=null,$&&r.remove($),L&&r.remove(L),this._group=null,this._handle=null,this._payloadInfo=null),clear$3(this,"_doDispatchAxisPointer")},g.prototype.doClear=function(){},g.prototype.buildLabel=function(n,r,$){return $=$||0,{x:n[$],y:n[1-$],width:r[$],height:r[1-$]}},g}();function updateProps$2(g,n,r,$){propsEqual$1(inner$x(r).lastProp,$)||(inner$x(r).lastProp=$,n?updateProps$3(r,$,g):(r.stopAnimation(),r.attr($)))}function propsEqual$1(g,n){if(isObject$9(g)&&isObject$9(n)){var r=!0;return each$v(n,function($,L){r=r&&propsEqual$1(g[L],$)}),!!r}else return g===n}function updateLabelShowHide$1(g,n){g[n.get(["label","show"])?"show":"hide"]()}function getHandleTransProps$1(g){return{x:g.x||0,y:g.y||0,rotation:g.rotation||0}}function updateMandatoryProps$1(g,n,r){var $=n.get("z"),L=n.get("zlevel");g&&g.traverse(function(V){V.type!=="group"&&($!=null&&(V.z=$),L!=null&&(V.zlevel=L),V.silent=r)})}const BaseAxisPointer$3=BaseAxisPointer$2;function buildElStyle$1(g){var n=g.get("type"),r=g.getModel(n+"Style"),$;return n==="line"?($=r.getLineStyle(),$.fill=null):n==="shadow"&&($=r.getAreaStyle(),$.stroke=null),$}function buildLabelElOption$1(g,n,r,$,L){var V=r.get("value"),oe=getValueLabel$1(V,n.axis,n.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),ae=r.getModel("label"),re=normalizeCssArray$2(ae.get("padding")||0),le=ae.getFont(),ue=getBoundingRect$1(oe,le),de=L.position,he=ue.width+re[1]+re[3],pe=ue.height+re[0]+re[2],_e=L.align;_e==="right"&&(de[0]-=he),_e==="center"&&(de[0]-=he/2);var $e=L.verticalAlign;$e==="bottom"&&(de[1]-=pe),$e==="middle"&&(de[1]-=pe/2),confineInContainer$1(de,he,pe,$);var xe=ae.get("backgroundColor");(!xe||xe==="auto")&&(xe=n.get(["axisLine","lineStyle","color"])),g.label={x:de[0],y:de[1],style:createTextStyle$1(ae,{text:oe,font:le,fill:ae.getTextColor(),padding:re,backgroundColor:xe}),z2:10}}function confineInContainer$1(g,n,r,$){var L=$.getWidth(),V=$.getHeight();g[0]=Math.min(g[0]+n,L)-n,g[1]=Math.min(g[1]+r,V)-r,g[0]=Math.max(g[0],0),g[1]=Math.max(g[1],0)}function getValueLabel$1(g,n,r,$,L){g=n.scale.parse(g);var V=n.scale.getLabel({value:g},{precision:L.precision}),oe=L.formatter;if(oe){var ae={value:getAxisRawValue$1(n,{value:g}),axisDimension:n.dim,axisIndex:n.index,seriesData:[]};each$v($,function(re){var le=r.getSeriesByIndex(re.seriesIndex),ue=re.dataIndexInside,de=le&&le.getDataParams(ue);de&&ae.seriesData.push(de)}),isString$3(oe)?V=oe.replace("{value}",V):isFunction$3(oe)&&(V=oe(ae))}return V}function getTransformedPosition$1(g,n,r){var $=create$4();return rotate$1($,$,r.rotation),translate$1($,$,r.position),applyTransform$2([g.dataToCoord(n),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],$)}function buildCartesianSingleLabelElOption$1(g,n,r,$,L,V){var oe=AxisBuilder$3.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=L.get(["label","margin"]),buildLabelElOption$1(n,$,L,V,{position:getTransformedPosition$1($.axis,g,r),align:oe.textAlign,verticalAlign:oe.textVerticalAlign})}function makeLineShape$1(g,n,r){return r=r||0,{x1:g[r],y1:g[1-r],x2:n[r],y2:n[1-r]}}function makeRectShape$1(g,n,r){return r=r||0,{x:g[r],y:g[1-r],width:n[r],height:n[1-r]}}function makeSectorShape$1(g,n,r,$,L,V){return{cx:g,cy:n,r0:r,r:$,startAngle:L,endAngle:V,clockwise:!0}}var CartesianAxisPointer$2=function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,$,L,V,oe){var ae=L.axis,re=ae.grid,le=V.get("type"),ue=getCartesian$1(re,ae).getOtherAxis(ae).getGlobalExtent(),de=ae.toGlobalCoord(ae.dataToCoord($,!0));if(le&&le!=="none"){var he=buildElStyle$1(V),pe=pointerShapeBuilder$5[le](ae,de,ue);pe.style=he,r.graphicKey=pe.type,r.pointer=pe}var _e=layout$7(re.model,L);buildCartesianSingleLabelElOption$1($,r,_e,L,V,oe)},n.prototype.getHandleTransform=function(r,$,L){var V=layout$7($.axis.grid.model,$,{labelInside:!1});V.labelMargin=L.get(["handle","margin"]);var oe=getTransformedPosition$1($.axis,r,V);return{x:oe[0],y:oe[1],rotation:V.rotation+(V.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(r,$,L,V){var oe=L.axis,ae=oe.grid,re=oe.getGlobalExtent(!0),le=getCartesian$1(ae,oe).getOtherAxis(oe).getGlobalExtent(),ue=oe.dim==="x"?0:1,de=[r.x,r.y];de[ue]+=$[ue],de[ue]=Math.min(re[1],de[ue]),de[ue]=Math.max(re[0],de[ue]);var he=(le[1]+le[0])/2,pe=[he,he];pe[ue]=de[ue];var _e=[{verticalAlign:"middle"},{align:"center"}];return{x:de[0],y:de[1],rotation:r.rotation,cursorPoint:pe,tooltipOption:_e[ue]}},n}(BaseAxisPointer$3);function getCartesian$1(g,n){var r={};return r[n.dim+"AxisIndex"]=n.index,g.getCartesian(r)}var pointerShapeBuilder$5={line:function(g,n,r){var $=makeLineShape$1([n,r[0]],[n,r[1]],getAxisDimIndex$1(g));return{type:"Line",subPixelOptimize:!0,shape:$}},shadow:function(g,n,r){var $=Math.max(1,g.getBandWidth()),L=r[1]-r[0];return{type:"Rect",shape:makeRectShape$1([n-$/2,r[0]],[$,L],getAxisDimIndex$1(g))}}};function getAxisDimIndex$1(g){return g.dim==="x"?0:1}const CartesianAxisPointer$3=CartesianAxisPointer$2;var AxisPointerModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="axisPointer",n.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},n}(ComponentModel$3);const AxisPointerModel$3=AxisPointerModel$2;var inner$w=makeInner$1(),each$o=each$v;function register$1(g,n,r){if(!env$3.node){var $=n.getZr();inner$w($).records||(inner$w($).records={}),initGlobalListeners$1($,n);var L=inner$w($).records[g]||(inner$w($).records[g]={});L.handler=r}}function initGlobalListeners$1(g,n){if(inner$w(g).initialized)return;inner$w(g).initialized=!0,r("click",curry$3(doEnter$1,"click")),r("mousemove",curry$3(doEnter$1,"mousemove")),r("globalout",onLeave$1);function r($,L){g.on($,function(V){var oe=makeDispatchAction$3(n);each$o(inner$w(g).records,function(ae){ae&&L(ae,V,oe.dispatchAction)}),dispatchTooltipFinally$1(oe.pendings,n)})}}function dispatchTooltipFinally$1(g,n){var r=g.showTip.length,$=g.hideTip.length,L;r?L=g.showTip[r-1]:$&&(L=g.hideTip[$-1]),L&&(L.dispatchAction=null,n.dispatchAction(L))}function onLeave$1(g,n,r){g.handler("leave",null,r)}function doEnter$1(g,n,r,$){n.handler(g,r,$)}function makeDispatchAction$3(g){var n={showTip:[],hideTip:[]},r=function($){var L=n[$.type];L?L.push($):($.dispatchAction=r,g.dispatchAction($))};return{dispatchAction:r,pendings:n}}function unregister$1(g,n){if(!env$3.node){var r=n.getZr(),$=(inner$w(r).records||{})[g];$&&(inner$w(r).records[g]=null)}}var AxisPointerView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=$.getComponent("tooltip"),oe=r.get("triggerOn")||V&&V.get("triggerOn")||"mousemove|click";register$1("axisPointer",L,function(ae,re,le){oe!=="none"&&(ae==="leave"||oe.indexOf(ae)>=0)&&le({type:"updateAxisPointer",currTrigger:ae,x:re&&re.offsetX,y:re&&re.offsetY})})},n.prototype.remove=function(r,$){unregister$1("axisPointer",$)},n.prototype.dispose=function(r,$){unregister$1("axisPointer",$)},n.type="axisPointer",n}(ComponentView$3);const AxisPointerView$3=AxisPointerView$2;function findPointFromSeries$1(g,n){var r=[],$=g.seriesIndex,L;if($==null||!(L=n.getSeriesByIndex($)))return{point:[]};var V=L.getData(),oe=queryDataIndex$1(V,g);if(oe==null||oe<0||isArray$6(oe))return{point:[]};var ae=V.getItemGraphicEl(oe),re=L.coordinateSystem;if(L.getTooltipPosition)r=L.getTooltipPosition(oe)||[];else if(re&&re.dataToPoint)if(g.isStacked){var le=re.getBaseAxis(),ue=re.getOtherAxis(le),de=ue.dim,he=le.dim,pe=de==="x"||de==="radius"?1:0,_e=V.mapDimension(he),$e=[];$e[pe]=V.get(_e,oe),$e[1-pe]=V.get(V.getCalculationInfo("stackResultDimension"),oe),r=re.dataToPoint($e)||[]}else r=re.dataToPoint(V.getValues(map$3(re.dimensions,function(Oe){return V.mapDimension(Oe)}),oe))||[];else if(ae){var xe=ae.getBoundingRect().clone();xe.applyTransform(ae.transform),r=[xe.x+xe.width/2,xe.y+xe.height/2]}return{point:r,el:ae}}var inner$v=makeInner$1();function axisTrigger$1(g,n,r){var $=g.currTrigger,L=[g.x,g.y],V=g,oe=g.dispatchAction||bind$5(r.dispatchAction,r),ae=n.getComponent("axisPointer").coordSysAxesInfo;if(ae){illegalPoint$1(L)&&(L=findPointFromSeries$1({seriesIndex:V.seriesIndex,dataIndex:V.dataIndex},n).point);var re=illegalPoint$1(L),le=V.axesInfo,ue=ae.axesInfo,de=$==="leave"||illegalPoint$1(L),he={},pe={},_e={list:[],map:{}},$e={showPointer:curry$3(showPointer$1,pe),showTooltip:curry$3(showTooltip$2,_e)};each$v(ae.coordSysMap,function(Oe,Ce){var Ie=re||Oe.containPoint(L);each$v(ae.coordSysAxesInfo[Ce],function(Ne,ze){var Fe=Ne.axis,Ue=findInputAxisInfo$1(le,Ne);if(!de&&Ie&&(!le||Ue)){var At=Ue&&Ue.value;At==null&&!re&&(At=Fe.pointToData(L)),At!=null&&processOnAxis$1(Ne,At,$e,!1,he)}})});var xe={};return each$v(ue,function(Oe,Ce){var Ie=Oe.linkGroup;Ie&&!pe[Ce]&&each$v(Ie.axesInfo,function(Ne,ze){var Fe=pe[ze];if(Ne!==Oe&&Fe){var Ue=Fe.value;Ie.mapper&&(Ue=Oe.axis.scale.parse(Ie.mapper(Ue,makeMapperParam$1(Ne),makeMapperParam$1(Oe)))),xe[Oe.key]=Ue}})}),each$v(xe,function(Oe,Ce){processOnAxis$1(ue[Ce],Oe,$e,!0,he)}),updateModelActually$1(pe,ue,he),dispatchTooltipActually$1(_e,L,g,oe),dispatchHighDownActually$1(ue,oe,r),he}}function processOnAxis$1(g,n,r,$,L){var V=g.axis;if(!(V.scale.isBlank()||!V.containData(n))){if(!g.involveSeries){r.showPointer(g,n);return}var oe=buildPayloadsBySeries$1(n,g),ae=oe.payloadBatch,re=oe.snapToValue;ae[0]&&L.seriesIndex==null&&extend$4(L,ae[0]),!$&&g.snap&&V.containData(re)&&re!=null&&(n=re),r.showPointer(g,n,ae),r.showTooltip(g,oe,re)}}function buildPayloadsBySeries$1(g,n){var r=n.axis,$=r.dim,L=g,V=[],oe=Number.MAX_VALUE,ae=-1;return each$v(n.seriesModels,function(re,le){var ue=re.getData().mapDimensionsAll($),de,he;if(re.getAxisTooltipData){var pe=re.getAxisTooltipData(ue,g,r);he=pe.dataIndices,de=pe.nestestValue}else{if(he=re.getData().indicesOfNearest(ue[0],g,r.type==="category"?.5:null),!he.length)return;de=re.getData().get(ue[0],he[0])}if(!(de==null||!isFinite(de))){var _e=g-de,$e=Math.abs(_e);$e<=oe&&(($e<oe||_e>=0&&ae<0)&&(oe=$e,ae=_e,L=de,V.length=0),each$v(he,function(xe){V.push({seriesIndex:re.seriesIndex,dataIndexInside:xe,dataIndex:re.getData().getRawIndex(xe)})}))}}),{payloadBatch:V,snapToValue:L}}function showPointer$1(g,n,r,$){g[n.key]={value:r,payloadBatch:$}}function showTooltip$2(g,n,r,$){var L=r.payloadBatch,V=n.axis,oe=V.model,ae=n.axisPointerModel;if(!(!n.triggerTooltip||!L.length)){var re=n.coordSys.model,le=makeKey$1(re),ue=g.map[le];ue||(ue=g.map[le]={coordSysId:re.id,coordSysIndex:re.componentIndex,coordSysType:re.type,coordSysMainType:re.mainType,dataByAxis:[]},g.list.push(ue)),ue.dataByAxis.push({axisDim:V.dim,axisIndex:oe.componentIndex,axisType:oe.type,axisId:oe.id,value:$,valueLabelOpt:{precision:ae.get(["label","precision"]),formatter:ae.get(["label","formatter"])},seriesDataIndices:L.slice()})}}function updateModelActually$1(g,n,r){var $=r.axesInfo=[];each$v(n,function(L,V){var oe=L.axisPointerModel.option,ae=g[V];ae?(!L.useHandle&&(oe.status="show"),oe.value=ae.value,oe.seriesDataIndices=(ae.payloadBatch||[]).slice()):!L.useHandle&&(oe.status="hide"),oe.status==="show"&&$.push({axisDim:L.axis.dim,axisIndex:L.axis.model.componentIndex,value:oe.value})})}function dispatchTooltipActually$1(g,n,r,$){if(illegalPoint$1(n)||!g.list.length){$({type:"hideTip"});return}var L=((g.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};$({type:"showTip",escapeConnect:!0,x:n[0],y:n[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:L.dataIndexInside,dataIndex:L.dataIndex,seriesIndex:L.seriesIndex,dataByCoordSys:g.list})}function dispatchHighDownActually$1(g,n,r){var $=r.getZr(),L="axisPointerLastHighlights",V=inner$v($)[L]||{},oe=inner$v($)[L]={};each$v(g,function(le,ue){var de=le.axisPointerModel.option;de.status==="show"&&each$v(de.seriesDataIndices,function(he){var pe=he.seriesIndex+" | "+he.dataIndex;oe[pe]=he})});var ae=[],re=[];each$v(V,function(le,ue){!oe[ue]&&re.push(le)}),each$v(oe,function(le,ue){!V[ue]&&ae.push(le)}),re.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:re}),ae.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:ae})}function findInputAxisInfo$1(g,n){for(var r=0;r<(g||[]).length;r++){var $=g[r];if(n.axis.dim===$.axisDim&&n.axis.model.componentIndex===$.axisIndex)return $}}function makeMapperParam$1(g){var n=g.axis.model,r={},$=r.axisDim=g.axis.dim;return r.axisIndex=r[$+"AxisIndex"]=n.componentIndex,r.axisName=r[$+"AxisName"]=n.name,r.axisId=r[$+"AxisId"]=n.id,r}function illegalPoint$1(g){return!g||g[0]==null||isNaN(g[0])||g[1]==null||isNaN(g[1])}function install$1j(g){AxisView$3.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer$3),g.registerComponentModel(AxisPointerModel$3),g.registerComponentView(AxisPointerView$3),g.registerPreprocessor(function(n){if(n){(!n.axisPointer||n.axisPointer.length===0)&&(n.axisPointer={});var r=n.axisPointer.link;r&&!isArray$6(r)&&(n.axisPointer.link=[r])}}),g.registerProcessor(g.PRIORITY.PROCESSOR.STATISTIC,function(n,r){n.getComponent("axisPointer").coordSysAxesInfo=collect$1(n,r)}),g.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger$1)}function install$1i(g){use$1(install$1G),use$1(install$1j)}var PolarAxisPointer$2=function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,$,L,V,oe){var ae=L.axis;ae.dim==="angle"&&(this.animationThreshold=Math.PI/18);var re=ae.polar,le=re.getOtherAxis(ae),ue=le.getExtent(),de=ae.dataToCoord($),he=V.get("type");if(he&&he!=="none"){var pe=buildElStyle$1(V),_e=pointerShapeBuilder$4[he](ae,re,de,ue);_e.style=pe,r.graphicKey=_e.type,r.pointer=_e}var $e=V.get(["label","margin"]),xe=getLabelPosition$1($,L,V,re,$e);buildLabelElOption$1(r,L,V,oe,xe)},n}(BaseAxisPointer$3);function getLabelPosition$1(g,n,r,$,L){var V=n.axis,oe=V.dataToCoord(g),ae=$.getAngleAxis().getExtent()[0];ae=ae/180*Math.PI;var re=$.getRadiusAxis().getExtent(),le,ue,de;if(V.dim==="radius"){var he=create$4();rotate$1(he,he,ae),translate$1(he,he,[$.cx,$.cy]),le=applyTransform$2([oe,-L],he);var pe=n.getModel("axisLabel").get("rotate")||0,_e=AxisBuilder$3.innerTextLayout(ae,pe*Math.PI/180,-1);ue=_e.textAlign,de=_e.textVerticalAlign}else{var $e=re[1];le=$.coordToPoint([$e+L,oe]);var xe=$.cx,Oe=$.cy;ue=Math.abs(le[0]-xe)/$e<.3?"center":le[0]>xe?"left":"right",de=Math.abs(le[1]-Oe)/$e<.3?"middle":le[1]>Oe?"top":"bottom"}return{position:le,align:ue,verticalAlign:de}}var pointerShapeBuilder$4={line:function(g,n,r,$){return g.dim==="angle"?{type:"Line",shape:makeLineShape$1(n.coordToPoint([$[0],r]),n.coordToPoint([$[1],r]))}:{type:"Circle",shape:{cx:n.cx,cy:n.cy,r}}},shadow:function(g,n,r,$){var L=Math.max(1,g.getBandWidth()),V=Math.PI/180;return g.dim==="angle"?{type:"Sector",shape:makeSectorShape$1(n.cx,n.cy,$[0],$[1],(-r-L/2)*V,(-r+L/2)*V)}:{type:"Sector",shape:makeSectorShape$1(n.cx,n.cy,r-L/2,r+L/2,0,Math.PI*2)}}};const PolarAxisPointer$3=PolarAxisPointer$2;var PolarModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.findAxisModel=function(r){var $,L=this.ecModel;return L.eachComponent(r,function(V){V.getCoordSysModel()===this&&($=V)},this),$},n.type="polar",n.dependencies=["radiusAxis","angleAxis"],n.defaultOption={z:0,center:["50%","50%"],radius:"80%"},n}(ComponentModel$3);const PolarModel$3=PolarModel$2;var PolarAxisModel$1=function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",SINGLE_REFERRING$1).models[0]},n.type="polarAxis",n}(ComponentModel$3);mixin$1(PolarAxisModel$1,AxisModelCommonMixin$1);var AngleAxisModel$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="angleAxis",n}(PolarAxisModel$1),RadiusAxisModel$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="radiusAxis",n}(PolarAxisModel$1),RadiusAxis$2=function(g){__extends$2(n,g);function n(r,$){return g.call(this,"radius",r,$)||this}return n.prototype.pointToData=function(r,$){return this.polar.pointToData(r,$)[this.dim==="radius"?0:1]},n}(Axis$3);RadiusAxis$2.prototype.dataToRadius=Axis$3.prototype.dataToCoord,RadiusAxis$2.prototype.radiusToData=Axis$3.prototype.coordToData;const RadiusAxis$3=RadiusAxis$2;var inner$u=makeInner$1(),AngleAxis$2=function(g){__extends$2(n,g);function n(r,$){return g.call(this,"angle",r,$||[0,360])||this}return n.prototype.pointToData=function(r,$){return this.polar.pointToData(r,$)[this.dim==="radius"?0:1]},n.prototype.calculateCategoryInterval=function(){var r=this,$=r.getLabelModel(),L=r.scale,V=L.getExtent(),oe=L.count();if(V[1]-V[0]<1)return 0;var ae=V[0],re=r.dataToCoord(ae+1)-r.dataToCoord(ae),le=Math.abs(re),ue=getBoundingRect$1(ae==null?"":ae+"",$.getFont(),"center","top"),de=Math.max(ue.height,7),he=de/le;isNaN(he)&&(he=1/0);var pe=Math.max(0,Math.floor(he)),_e=inner$u(r.model),$e=_e.lastAutoInterval,xe=_e.lastTickCount;return $e!=null&&xe!=null&&Math.abs($e-pe)<=1&&Math.abs(xe-oe)<=1&&$e>pe?pe=$e:(_e.lastTickCount=oe,_e.lastAutoInterval=pe),pe},n}(Axis$3);AngleAxis$2.prototype.dataToAngle=Axis$3.prototype.dataToCoord,AngleAxis$2.prototype.angleToData=Axis$3.prototype.coordToData;const AngleAxis$3=AngleAxis$2;var polarDimensions$1=["radius","angle"],Polar$2=function(){function g(n){this.dimensions=polarDimensions$1,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new RadiusAxis$3,this._angleAxis=new AngleAxis$3,this.axisPointerEnabled=!0,this.name=n||"",this._radiusAxis.polar=this._angleAxis.polar=this}return g.prototype.containPoint=function(n){var r=this.pointToCoord(n);return this._radiusAxis.contain(r[0])&&this._angleAxis.contain(r[1])},g.prototype.containData=function(n){return this._radiusAxis.containData(n[0])&&this._angleAxis.containData(n[1])},g.prototype.getAxis=function(n){var r="_"+n+"Axis";return this[r]},g.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},g.prototype.getAxesByScale=function(n){var r=[],$=this._angleAxis,L=this._radiusAxis;return $.scale.type===n&&r.push($),L.scale.type===n&&r.push(L),r},g.prototype.getAngleAxis=function(){return this._angleAxis},g.prototype.getRadiusAxis=function(){return this._radiusAxis},g.prototype.getOtherAxis=function(n){var r=this._angleAxis;return n===r?this._radiusAxis:r},g.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},g.prototype.getTooltipAxes=function(n){var r=n!=null&&n!=="auto"?this.getAxis(n):this.getBaseAxis();return{baseAxes:[r],otherAxes:[this.getOtherAxis(r)]}},g.prototype.dataToPoint=function(n,r){return this.coordToPoint([this._radiusAxis.dataToRadius(n[0],r),this._angleAxis.dataToAngle(n[1],r)])},g.prototype.pointToData=function(n,r){var $=this.pointToCoord(n);return[this._radiusAxis.radiusToData($[0],r),this._angleAxis.angleToData($[1],r)]},g.prototype.pointToCoord=function(n){var r=n[0]-this.cx,$=n[1]-this.cy,L=this.getAngleAxis(),V=L.getExtent(),oe=Math.min(V[0],V[1]),ae=Math.max(V[0],V[1]);L.inverse?oe=ae-360:ae=oe+360;var re=Math.sqrt(r*r+$*$);r/=re,$/=re;for(var le=Math.atan2(-$,r)/Math.PI*180,ue=le<oe?1:-1;le<oe||le>ae;)le+=ue*360;return[re,le]},g.prototype.coordToPoint=function(n){var r=n[0],$=n[1]/180*Math.PI,L=Math.cos($)*r+this.cx,V=-Math.sin($)*r+this.cy;return[L,V]},g.prototype.getArea=function(){var n=this.getAngleAxis(),r=this.getRadiusAxis(),$=r.getExtent().slice();$[0]>$[1]&&$.reverse();var L=n.getExtent(),V=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:$[0],r:$[1],startAngle:-L[0]*V,endAngle:-L[1]*V,clockwise:n.inverse,contain:function(oe,ae){var re=oe-this.cx,le=ae-this.cy,ue=re*re+le*le-1e-4,de=this.r,he=this.r0;return ue<=de*de&&ue>=he*he}}},g.prototype.convertToPixel=function(n,r,$){var L=getCoordSys$7(r);return L===this?this.dataToPoint($):null},g.prototype.convertFromPixel=function(n,r,$){var L=getCoordSys$7(r);return L===this?this.pointToData($):null},g}();function getCoordSys$7(g){var n=g.seriesModel,r=g.polarModel;return r&&r.coordinateSystem||n&&n.coordinateSystem}const Polar$3=Polar$2;function resizePolar$1(g,n,r){var $=n.get("center"),L=r.getWidth(),V=r.getHeight();g.cx=parsePercent$2($[0],L),g.cy=parsePercent$2($[1],V);var oe=g.getRadiusAxis(),ae=Math.min(L,V)/2,re=n.get("radius");re==null?re=[0,"100%"]:isArray$6(re)||(re=[0,re]);var le=[parsePercent$2(re[0],ae),parsePercent$2(re[1],ae)];oe.inverse?oe.setExtent(le[1],le[0]):oe.setExtent(le[0],le[1])}function updatePolarScale$1(g,n){var r=this,$=r.getAngleAxis(),L=r.getRadiusAxis();if($.scale.setExtent(1/0,-1/0),L.scale.setExtent(1/0,-1/0),g.eachSeries(function(ae){if(ae.coordinateSystem===r){var re=ae.getData();each$v(getDataDimensionsOnAxis$1(re,"radius"),function(le){L.scale.unionExtentFromData(re,le)}),each$v(getDataDimensionsOnAxis$1(re,"angle"),function(le){$.scale.unionExtentFromData(re,le)})}}),niceScaleExtent$1($.scale,$.model),niceScaleExtent$1(L.scale,L.model),$.type==="category"&&!$.onBand){var V=$.getExtent(),oe=360/$.scale.count();$.inverse?V[1]+=oe:V[1]-=oe,$.setExtent(V[0],V[1])}}function isAngleAxisModel$1(g){return g.mainType==="angleAxis"}function setAxis$1(g,n){if(g.type=n.get("type"),g.scale=createScaleByModel$3(n),g.onBand=n.get("boundaryGap")&&g.type==="category",g.inverse=n.get("inverse"),isAngleAxisModel$1(n)){g.inverse=g.inverse!==n.get("clockwise");var r=n.get("startAngle");g.setExtent(r,r+(g.inverse?-360:360))}n.axis=g,g.model=n}var polarCreator$2={dimensions:polarDimensions$1,create:function(g,n){var r=[];return g.eachComponent("polar",function($,L){var V=new Polar$3(L+"");V.update=updatePolarScale$1;var oe=V.getRadiusAxis(),ae=V.getAngleAxis(),re=$.findAxisModel("radiusAxis"),le=$.findAxisModel("angleAxis");setAxis$1(oe,re),setAxis$1(ae,le),resizePolar$1(V,$,n),r.push(V),$.coordinateSystem=V,V.model=$}),g.eachSeries(function($){if($.get("coordinateSystem")==="polar"){var L=$.getReferringComponents("polar",SINGLE_REFERRING$1).models[0];$.coordinateSystem=L.coordinateSystem}}),r}};const polarCreator$3=polarCreator$2;var elementList$2=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape$1(g,n,r){n[1]>n[0]&&(n=n.slice().reverse());var $=g.coordToPoint([n[0],r]),L=g.coordToPoint([n[1],r]);return{x1:$[0],y1:$[1],x2:L[0],y2:L[1]}}function getRadiusIdx$1(g){var n=g.getRadiusAxis();return n.inverse?0:1}function fixAngleOverlap$1(g){var n=g[0],r=g[g.length-1];n&&r&&Math.abs(Math.abs(n.coord-r.coord)-360)<1e-4&&g.pop()}var AngleAxisView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="PolarAxisPointer",r}return n.prototype.render=function(r,$){if(this.group.removeAll(),!!r.get("show")){var L=r.axis,V=L.polar,oe=V.getRadiusAxis().getExtent(),ae=L.getTicksCoords(),re=L.getMinorTicksCoords(),le=map$3(L.getViewLabels(),function(ue){ue=clone$9(ue);var de=L.scale,he=de.type==="ordinal"?de.getRawOrdinalNumber(ue.tickValue):ue.tickValue;return ue.coord=L.dataToCoord(he),ue});fixAngleOverlap$1(le),fixAngleOverlap$1(ae),each$v(elementList$2,function(ue){r.get([ue,"show"])&&(!L.scale.isBlank()||ue==="axisLine")&&angelAxisElementsBuilders$1[ue](this.group,r,V,ae,re,oe,le)},this)}},n.type="angleAxis",n}(AxisView$3),angelAxisElementsBuilders$1={axisLine:function(g,n,r,$,L,V){var oe=n.getModel(["axisLine","lineStyle"]),ae=getRadiusIdx$1(r),re=ae?0:1,le;V[re]===0?le=new Circle$3({shape:{cx:r.cx,cy:r.cy,r:V[ae]},style:oe.getLineStyle(),z2:1,silent:!0}):le=new Ring$3({shape:{cx:r.cx,cy:r.cy,r:V[ae],r0:V[re]},style:oe.getLineStyle(),z2:1,silent:!0}),le.style.fill=null,g.add(le)},axisTick:function(g,n,r,$,L,V){var oe=n.getModel("axisTick"),ae=(oe.get("inside")?-1:1)*oe.get("length"),re=V[getRadiusIdx$1(r)],le=map$3($,function(ue){return new Line$8({shape:getAxisLineShape$1(r,[re,re+ae],ue.coord)})});g.add(mergePath$2(le,{style:defaults$7(oe.getModel("lineStyle").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})}))},minorTick:function(g,n,r,$,L,V){if(L.length){for(var oe=n.getModel("axisTick"),ae=n.getModel("minorTick"),re=(oe.get("inside")?-1:1)*ae.get("length"),le=V[getRadiusIdx$1(r)],ue=[],de=0;de<L.length;de++)for(var he=0;he<L[de].length;he++)ue.push(new Line$8({shape:getAxisLineShape$1(r,[le,le+re],L[de][he].coord)}));g.add(mergePath$2(ue,{style:defaults$7(ae.getModel("lineStyle").getLineStyle(),defaults$7(oe.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(g,n,r,$,L,V,oe){var ae=n.getCategories(!0),re=n.getModel("axisLabel"),le=re.get("margin"),ue=n.get("triggerEvent");each$v(oe,function(de,he){var pe=re,_e=de.tickValue,$e=V[getRadiusIdx$1(r)],xe=r.coordToPoint([$e+le,de.coord]),Oe=r.cx,Ce=r.cy,Ie=Math.abs(xe[0]-Oe)/$e<.3?"center":xe[0]>Oe?"left":"right",Ne=Math.abs(xe[1]-Ce)/$e<.3?"middle":xe[1]>Ce?"top":"bottom";if(ae&&ae[_e]){var ze=ae[_e];isObject$9(ze)&&ze.textStyle&&(pe=new Model$3(ze.textStyle,re,re.ecModel))}var Fe=new ZRText$3({silent:AxisBuilder$3.isLabelSilent(n),style:createTextStyle$1(pe,{x:xe[0],y:xe[1],fill:pe.getTextColor()||n.get(["axisLine","lineStyle","color"]),text:de.formattedLabel,align:Ie,verticalAlign:Ne})});if(g.add(Fe),ue){var Ue=AxisBuilder$3.makeAxisEventDataBase(n);Ue.targetType="axisLabel",Ue.value=de.rawLabel,getECData$1(Fe).eventData=Ue}},this)},splitLine:function(g,n,r,$,L,V){var oe=n.getModel("splitLine"),ae=oe.getModel("lineStyle"),re=ae.get("color"),le=0;re=re instanceof Array?re:[re];for(var ue=[],de=0;de<$.length;de++){var he=le++%re.length;ue[he]=ue[he]||[],ue[he].push(new Line$8({shape:getAxisLineShape$1(r,V,$[de].coord)}))}for(var de=0;de<ue.length;de++)g.add(mergePath$2(ue[de],{style:defaults$7({stroke:re[de%re.length]},ae.getLineStyle()),silent:!0,z:n.get("z")}))},minorSplitLine:function(g,n,r,$,L,V){if(L.length){for(var oe=n.getModel("minorSplitLine"),ae=oe.getModel("lineStyle"),re=[],le=0;le<L.length;le++)for(var ue=0;ue<L[le].length;ue++)re.push(new Line$8({shape:getAxisLineShape$1(r,V,L[le][ue].coord)}));g.add(mergePath$2(re,{style:ae.getLineStyle(),silent:!0,z:n.get("z")}))}},splitArea:function(g,n,r,$,L,V){if($.length){var oe=n.getModel("splitArea"),ae=oe.getModel("areaStyle"),re=ae.get("color"),le=0;re=re instanceof Array?re:[re];for(var ue=[],de=Math.PI/180,he=-$[0].coord*de,pe=Math.min(V[0],V[1]),_e=Math.max(V[0],V[1]),$e=n.get("clockwise"),xe=1,Oe=$.length;xe<=Oe;xe++){var Ce=xe===Oe?$[0].coord:$[xe].coord,Ie=le++%re.length;ue[Ie]=ue[Ie]||[],ue[Ie].push(new Sector$3({shape:{cx:r.cx,cy:r.cy,r0:pe,r:_e,startAngle:he,endAngle:-Ce*de,clockwise:$e},silent:!0})),he=-Ce*de}for(var xe=0;xe<ue.length;xe++)g.add(mergePath$2(ue[xe],{style:defaults$7({fill:re[xe%re.length]},ae.getAreaStyle()),silent:!0}))}}};const AngleAxisView$3=AngleAxisView$2;var axisBuilderAttrs$5=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$4=["splitLine","splitArea","minorSplitLine"],RadiusAxisView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="PolarAxisPointer",r}return n.prototype.render=function(r,$){if(this.group.removeAll(),!!r.get("show")){var L=this._axisGroup,V=this._axisGroup=new Group$9;this.group.add(V);var oe=r.axis,ae=oe.polar,re=ae.getAngleAxis(),le=oe.getTicksCoords(),ue=oe.getMinorTicksCoords(),de=re.getExtent()[0],he=oe.getExtent(),pe=layoutAxis$1(ae,r,de),_e=new AxisBuilder$3(r,pe);each$v(axisBuilderAttrs$5,_e.add,_e),V.add(_e.getGroup()),groupTransition$1(L,V,r),each$v(selfBuilderAttrs$4,function($e){r.get([$e,"show"])&&!oe.scale.isBlank()&&axisElementBuilders$4[$e](this.group,r,ae,de,he,le,ue)},this)}},n.type="radiusAxis",n}(AxisView$3),axisElementBuilders$4={splitLine:function(g,n,r,$,L,V){var oe=n.getModel("splitLine"),ae=oe.getModel("lineStyle"),re=ae.get("color"),le=0;re=re instanceof Array?re:[re];for(var ue=[],de=0;de<V.length;de++){var he=le++%re.length;ue[he]=ue[he]||[],ue[he].push(new Circle$3({shape:{cx:r.cx,cy:r.cy,r:Math.max(V[de].coord,0)}}))}for(var de=0;de<ue.length;de++)g.add(mergePath$2(ue[de],{style:defaults$7({stroke:re[de%re.length],fill:null},ae.getLineStyle()),silent:!0}))},minorSplitLine:function(g,n,r,$,L,V,oe){if(oe.length){for(var ae=n.getModel("minorSplitLine"),re=ae.getModel("lineStyle"),le=[],ue=0;ue<oe.length;ue++)for(var de=0;de<oe[ue].length;de++)le.push(new Circle$3({shape:{cx:r.cx,cy:r.cy,r:oe[ue][de].coord}}));g.add(mergePath$2(le,{style:defaults$7({fill:null},re.getLineStyle()),silent:!0}))}},splitArea:function(g,n,r,$,L,V){if(V.length){var oe=n.getModel("splitArea"),ae=oe.getModel("areaStyle"),re=ae.get("color"),le=0;re=re instanceof Array?re:[re];for(var ue=[],de=V[0].coord,he=1;he<V.length;he++){var pe=le++%re.length;ue[pe]=ue[pe]||[],ue[pe].push(new Sector$3({shape:{cx:r.cx,cy:r.cy,r0:de,r:V[he].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),de=V[he].coord}for(var he=0;he<ue.length;he++)g.add(mergePath$2(ue[he],{style:defaults$7({fill:re[he%re.length]},ae.getAreaStyle()),silent:!0}))}}};function layoutAxis$1(g,n,r){return{position:[g.cx,g.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:n.getModel("axisLabel").get("rotate"),z2:1}}const RadiusAxisView$3=RadiusAxisView$2;function getSeriesStackId$2(g){return g.get("stack")||"__ec_stack_"+g.seriesIndex}function getAxisKey$2(g,n){return n.dim+g.model.componentIndex}function barLayoutPolar$1(g,n,r){var $={},L=calRadialBar$1(filter$1(n.getSeriesByType(g),function(V){return!n.isSeriesFiltered(V)&&V.coordinateSystem&&V.coordinateSystem.type==="polar"}));n.eachSeriesByType(g,function(V){if(V.coordinateSystem.type==="polar"){var oe=V.getData(),ae=V.coordinateSystem,re=ae.getBaseAxis(),le=getAxisKey$2(ae,re),ue=getSeriesStackId$2(V),de=L[le][ue],he=de.offset,pe=de.width,_e=ae.getOtherAxis(re),$e=V.coordinateSystem.cx,xe=V.coordinateSystem.cy,Oe=V.get("barMinHeight")||0,Ce=V.get("barMinAngle")||0;$[ue]=$[ue]||[];for(var Ie=oe.mapDimension(_e.dim),Ne=oe.mapDimension(re.dim),ze=isDimensionStacked$1(oe,Ie),Fe=re.dim!=="radius"||!V.get("roundCap",!0),Ue=_e.dataToCoord(0),At=0,Et=oe.count();At<Et;At++){var Pt=oe.get(Ie,At),kt=oe.get(Ne,At),Dt=Pt>=0?"p":"n",Lt=Ue;ze&&($[ue][kt]||($[ue][kt]={p:Ue,n:Ue}),Lt=$[ue][kt][Dt]);var hn=void 0,vn=void 0,_n=void 0,$n=void 0;if(_e.dim==="radius"){var Sn=_e.dataToCoord(Pt)-Ue,xn=re.dataToCoord(kt);Math.abs(Sn)<Oe&&(Sn=(Sn<0?-1:1)*Oe),hn=Lt,vn=Lt+Sn,_n=xn-he,$n=_n-pe,ze&&($[ue][kt][Dt]=vn)}else{var On=_e.dataToCoord(Pt,Fe)-Ue,Cn=re.dataToCoord(kt);Math.abs(On)<Ce&&(On=(On<0?-1:1)*Ce),hn=Cn+he,vn=hn+pe,_n=Lt,$n=Lt+On,ze&&($[ue][kt][Dt]=$n)}oe.setItemLayout(At,{cx:$e,cy:xe,r0:hn,r:vn,startAngle:-_n*Math.PI/180,endAngle:-$n*Math.PI/180,clockwise:_n>=$n})}}})}function calRadialBar$1(g){var n={};each$v(g,function($,L){var V=$.getData(),oe=$.coordinateSystem,ae=oe.getBaseAxis(),re=getAxisKey$2(oe,ae),le=ae.getExtent(),ue=ae.type==="category"?ae.getBandWidth():Math.abs(le[1]-le[0])/V.count(),de=n[re]||{bandWidth:ue,remainedWidth:ue,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},he=de.stacks;n[re]=de;var pe=getSeriesStackId$2($);he[pe]||de.autoWidthCount++,he[pe]=he[pe]||{width:0,maxWidth:0};var _e=parsePercent$2($.get("barWidth"),ue),$e=parsePercent$2($.get("barMaxWidth"),ue),xe=$.get("barGap"),Oe=$.get("barCategoryGap");_e&&!he[pe].width&&(_e=Math.min(de.remainedWidth,_e),he[pe].width=_e,de.remainedWidth-=_e),$e&&(he[pe].maxWidth=$e),xe!=null&&(de.gap=xe),Oe!=null&&(de.categoryGap=Oe)});var r={};return each$v(n,function($,L){r[L]={};var V=$.stacks,oe=$.bandWidth,ae=parsePercent$2($.categoryGap,oe),re=parsePercent$2($.gap,1),le=$.remainedWidth,ue=$.autoWidthCount,de=(le-ae)/(ue+(ue-1)*re);de=Math.max(de,0),each$v(V,function($e,xe){var Oe=$e.maxWidth;Oe&&Oe<de&&(Oe=Math.min(Oe,le),$e.width&&(Oe=Math.min(Oe,$e.width)),le-=Oe,$e.width=Oe,ue--)}),de=(le-ae)/(ue+(ue-1)*re),de=Math.max(de,0);var he=0,pe;each$v(V,function($e,xe){$e.width||($e.width=de),pe=$e,he+=$e.width*(1+re)}),pe&&(he-=pe.width*re);var _e=-he/2;each$v(V,function($e,xe){r[L][xe]=r[L][xe]||{offset:_e,width:$e.width},_e+=$e.width*(1+re)})}),r}var angleAxisExtraOption$1={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},radiusAxisExtraOption$1={splitNumber:5},PolarView$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="polar",n}(ComponentView$3);function install$1h(g){use$1(install$1j),AxisView$3.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer$3),g.registerCoordinateSystem("polar",polarCreator$3),g.registerComponentModel(PolarModel$3),g.registerComponentView(PolarView$1),axisModelCreator$1(g,"angle",AngleAxisModel$1,angleAxisExtraOption$1),axisModelCreator$1(g,"radius",RadiusAxisModel$1,radiusAxisExtraOption$1),g.registerComponentView(AngleAxisView$3),g.registerComponentView(RadiusAxisView$3),g.registerLayout(curry$3(barLayoutPolar$1,"bar"))}function layout$6(g,n){n=n||{};var r=g.coordinateSystem,$=g.axis,L={},V=$.position,oe=$.orient,ae=r.getRect(),re=[ae.x,ae.x+ae.width,ae.y,ae.y+ae.height],le={horizontal:{top:re[2],bottom:re[3]},vertical:{left:re[0],right:re[1]}};L.position=[oe==="vertical"?le.vertical[V]:re[0],oe==="horizontal"?le.horizontal[V]:re[3]];var ue={horizontal:0,vertical:1};L.rotation=Math.PI/2*ue[oe];var de={top:-1,bottom:1,right:1,left:-1};L.labelDirection=L.tickDirection=L.nameDirection=de[V],g.get(["axisTick","inside"])&&(L.tickDirection=-L.tickDirection),retrieve$1(n.labelInside,g.get(["axisLabel","inside"]))&&(L.labelDirection=-L.labelDirection);var he=n.rotate;return he==null&&(he=g.get(["axisLabel","rotate"])),L.labelRotation=V==="top"?-he:he,L.z2=1,L}var axisBuilderAttrs$4=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$3=["splitArea","splitLine"],SingleAxisView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="SingleAxisPointer",r}return n.prototype.render=function(r,$,L,V){var oe=this.group;oe.removeAll();var ae=this._axisGroup;this._axisGroup=new Group$9;var re=layout$6(r),le=new AxisBuilder$3(r,re);each$v(axisBuilderAttrs$4,le.add,le),oe.add(this._axisGroup),oe.add(le.getGroup()),each$v(selfBuilderAttrs$3,function(ue){r.get([ue,"show"])&&axisElementBuilders$3[ue](this,this.group,this._axisGroup,r)},this),groupTransition$1(ae,this._axisGroup,r),g.prototype.render.call(this,r,$,L,V)},n.prototype.remove=function(){rectCoordAxisHandleRemove$1(this)},n.type="singleAxis",n}(AxisView$3),axisElementBuilders$3={splitLine:function(g,n,r,$){var L=$.axis;if(!L.scale.isBlank()){var V=$.getModel("splitLine"),oe=V.getModel("lineStyle"),ae=oe.get("color");ae=ae instanceof Array?ae:[ae];for(var re=oe.get("width"),le=$.coordinateSystem.getRect(),ue=L.isHorizontal(),de=[],he=0,pe=L.getTicksCoords({tickModel:V}),_e=[],$e=[],xe=0;xe<pe.length;++xe){var Oe=L.toGlobalCoord(pe[xe].coord);ue?(_e[0]=Oe,_e[1]=le.y,$e[0]=Oe,$e[1]=le.y+le.height):(_e[0]=le.x,_e[1]=Oe,$e[0]=le.x+le.width,$e[1]=Oe);var Ce=new Line$8({shape:{x1:_e[0],y1:_e[1],x2:$e[0],y2:$e[1]},silent:!0});subPixelOptimizeLine$2(Ce.shape,re);var Ie=he++%ae.length;de[Ie]=de[Ie]||[],de[Ie].push(Ce)}for(var Ne=oe.getLineStyle(["color"]),xe=0;xe<de.length;++xe)n.add(mergePath$2(de[xe],{style:defaults$7({stroke:ae[xe%ae.length]},Ne),silent:!0}))}},splitArea:function(g,n,r,$){rectCoordAxisBuildSplitArea$1(g,r,$,$)}};const SingleAxisView$3=SingleAxisView$2;var SingleAxisModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getCoordSysModel=function(){return this},n.type="singleAxis",n.layoutMode="box",n.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},n}(ComponentModel$3);mixin$1(SingleAxisModel$2,AxisModelCommonMixin$1.prototype);const SingleAxisModel$3=SingleAxisModel$2;var SingleAxis$2=function(g){__extends$2(n,g);function n(r,$,L,V,oe){var ae=g.call(this,r,$,L)||this;return ae.type=V||"value",ae.position=oe||"bottom",ae}return n.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},n.prototype.pointToData=function(r,$){return this.coordinateSystem.pointToData(r)[0]},n}(Axis$3);const SingleAxis$3=SingleAxis$2;var singleDimensions$1=["single"],Single$1=function(){function g(n,r,$){this.type="single",this.dimension="single",this.dimensions=singleDimensions$1,this.axisPointerEnabled=!0,this.model=n,this._init(n,r,$)}return g.prototype._init=function(n,r,$){var L=this.dimension,V=new SingleAxis$3(L,createScaleByModel$3(n),[0,0],n.get("type"),n.get("position")),oe=V.type==="category";V.onBand=oe&&n.get("boundaryGap"),V.inverse=n.get("inverse"),V.orient=n.get("orient"),n.axis=V,V.model=n,V.coordinateSystem=this,this._axis=V},g.prototype.update=function(n,r){n.eachSeries(function($){if($.coordinateSystem===this){var L=$.getData();each$v(L.mapDimensionsAll(this.dimension),function(V){this._axis.scale.unionExtentFromData(L,V)},this),niceScaleExtent$1(this._axis.scale,this._axis.model)}},this)},g.prototype.resize=function(n,r){this._rect=getLayoutRect$1({left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")},{width:r.getWidth(),height:r.getHeight()}),this._adjustAxis()},g.prototype.getRect=function(){return this._rect},g.prototype._adjustAxis=function(){var n=this._rect,r=this._axis,$=r.isHorizontal(),L=$?[0,n.width]:[0,n.height],V=r.inverse?1:0;r.setExtent(L[V],L[1-V]),this._updateAxisTransform(r,$?n.x:n.y)},g.prototype._updateAxisTransform=function(n,r){var $=n.getExtent(),L=$[0]+$[1],V=n.isHorizontal();n.toGlobalCoord=V?function(oe){return oe+r}:function(oe){return L-oe+r},n.toLocalCoord=V?function(oe){return oe-r}:function(oe){return L-oe+r}},g.prototype.getAxis=function(){return this._axis},g.prototype.getBaseAxis=function(){return this._axis},g.prototype.getAxes=function(){return[this._axis]},g.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},g.prototype.containPoint=function(n){var r=this.getRect(),$=this.getAxis(),L=$.orient;return L==="horizontal"?$.contain($.toLocalCoord(n[0]))&&n[1]>=r.y&&n[1]<=r.y+r.height:$.contain($.toLocalCoord(n[1]))&&n[0]>=r.y&&n[0]<=r.y+r.height},g.prototype.pointToData=function(n){var r=this.getAxis();return[r.coordToData(r.toLocalCoord(n[r.orient==="horizontal"?0:1]))]},g.prototype.dataToPoint=function(n){var r=this.getAxis(),$=this.getRect(),L=[],V=r.orient==="horizontal"?0:1;return n instanceof Array&&(n=n[0]),L[V]=r.toGlobalCoord(r.dataToCoord(+n)),L[1-V]=V===0?$.y+$.height/2:$.x+$.width/2,L},g.prototype.convertToPixel=function(n,r,$){var L=getCoordSys$6(r);return L===this?this.dataToPoint($):null},g.prototype.convertFromPixel=function(n,r,$){var L=getCoordSys$6(r);return L===this?this.pointToData($):null},g}();function getCoordSys$6(g){var n=g.seriesModel,r=g.singleAxisModel;return r&&r.coordinateSystem||n&&n.coordinateSystem}function create$3(g,n){var r=[];return g.eachComponent("singleAxis",function($,L){var V=new Single$1($,g,n);V.name="single_"+L,V.resize($,n),$.coordinateSystem=V,r.push(V)}),g.eachSeries(function($){if($.get("coordinateSystem")==="singleAxis"){var L=$.getReferringComponents("singleAxis",SINGLE_REFERRING$1).models[0];$.coordinateSystem=L&&L.coordinateSystem}}),r}var singleCreator$2={create:create$3,dimensions:singleDimensions$1};const singleCreator$3=singleCreator$2;var XY$3=["x","y"],WH$3=["width","height"],SingleAxisPointer$2=function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,$,L,V,oe){var ae=L.axis,re=ae.coordinateSystem,le=getGlobalExtent$1(re,1-getPointDimIndex$1(ae)),ue=re.dataToPoint($)[0],de=V.get("type");if(de&&de!=="none"){var he=buildElStyle$1(V),pe=pointerShapeBuilder$3[de](ae,ue,le);pe.style=he,r.graphicKey=pe.type,r.pointer=pe}var _e=layout$6(L);buildCartesianSingleLabelElOption$1($,r,_e,L,V,oe)},n.prototype.getHandleTransform=function(r,$,L){var V=layout$6($,{labelInside:!1});V.labelMargin=L.get(["handle","margin"]);var oe=getTransformedPosition$1($.axis,r,V);return{x:oe[0],y:oe[1],rotation:V.rotation+(V.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(r,$,L,V){var oe=L.axis,ae=oe.coordinateSystem,re=getPointDimIndex$1(oe),le=getGlobalExtent$1(ae,re),ue=[r.x,r.y];ue[re]+=$[re],ue[re]=Math.min(le[1],ue[re]),ue[re]=Math.max(le[0],ue[re]);var de=getGlobalExtent$1(ae,1-re),he=(de[1]+de[0])/2,pe=[he,he];return pe[re]=ue[re],{x:ue[0],y:ue[1],rotation:r.rotation,cursorPoint:pe,tooltipOption:{verticalAlign:"middle"}}},n}(BaseAxisPointer$3),pointerShapeBuilder$3={line:function(g,n,r){var $=makeLineShape$1([n,r[0]],[n,r[1]],getPointDimIndex$1(g));return{type:"Line",subPixelOptimize:!0,shape:$}},shadow:function(g,n,r){var $=g.getBandWidth(),L=r[1]-r[0];return{type:"Rect",shape:makeRectShape$1([n-$/2,r[0]],[$,L],getPointDimIndex$1(g))}}};function getPointDimIndex$1(g){return g.isHorizontal()?0:1}function getGlobalExtent$1(g,n){var r=g.getRect();return[r[XY$3[n]],r[XY$3[n]]+r[WH$3[n]]]}const SingleAxisPointer$3=SingleAxisPointer$2;var SingleView$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="single",n}(ComponentView$3);function install$1g(g){use$1(install$1j),AxisView$3.registerAxisPointerClass("SingleAxisPointer",SingleAxisPointer$3),g.registerComponentView(SingleView$1),g.registerComponentView(SingleAxisView$3),g.registerComponentModel(SingleAxisModel$3),axisModelCreator$1(g,"single",SingleAxisModel$3,SingleAxisModel$3.defaultOption),g.registerCoordinateSystem("single",singleCreator$3)}var CalendarModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$,L){var V=getLayoutParams$1(r);g.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams$3(r,V)},n.prototype.mergeOption=function(r){g.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams$3(this.option,r)},n.prototype.getCellSize=function(){return this.option.cellSize},n.type="calendar",n.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},n}(ComponentModel$3);function mergeAndNormalizeLayoutParams$3(g,n){var r=g.cellSize,$;isArray$6(r)?$=r:$=g.cellSize=[r,r],$.length===1&&($[1]=$[0]);var L=map$3([0,1],function(V){return sizeCalculable$1(n,V)&&($[V]="auto"),$[V]!=null&&$[V]!=="auto"});mergeLayoutParam$1(g,n,{type:"box",ignoreSize:L})}const CalendarModel$3=CalendarModel$2;var CalendarView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=this.group;V.removeAll();var oe=r.coordinateSystem,ae=oe.getRangeInfo(),re=oe.getOrient(),le=$.getLocaleModel();this._renderDayRect(r,ae,V),this._renderLines(r,ae,re,V),this._renderYearText(r,ae,re,V),this._renderMonthText(r,le,re,V),this._renderWeekText(r,le,ae,re,V)},n.prototype._renderDayRect=function(r,$,L){for(var V=r.coordinateSystem,oe=r.getModel("itemStyle").getItemStyle(),ae=V.getCellWidth(),re=V.getCellHeight(),le=$.start.time;le<=$.end.time;le=V.getNextNDay(le,1).time){var ue=V.dataToRect([le],!1).tl,de=new Rect$7({shape:{x:ue[0],y:ue[1],width:ae,height:re},cursor:"default",style:oe});L.add(de)}},n.prototype._renderLines=function(r,$,L,V){var oe=this,ae=r.coordinateSystem,re=r.getModel(["splitLine","lineStyle"]).getLineStyle(),le=r.get(["splitLine","show"]),ue=re.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var de=$.start,he=0;de.time<=$.end.time;he++){_e(de.formatedDate),he===0&&(de=ae.getDateInfo($.start.y+"-"+$.start.m));var pe=de.date;pe.setMonth(pe.getMonth()+1),de=ae.getDateInfo(pe)}_e(ae.getNextNDay($.end.time,1).formatedDate);function _e($e){oe._firstDayOfMonth.push(ae.getDateInfo($e)),oe._firstDayPoints.push(ae.dataToRect([$e],!1).tl);var xe=oe._getLinePointsOfOneWeek(r,$e,L);oe._tlpoints.push(xe[0]),oe._blpoints.push(xe[xe.length-1]),le&&oe._drawSplitline(xe,re,V)}le&&this._drawSplitline(oe._getEdgesPoints(oe._tlpoints,ue,L),re,V),le&&this._drawSplitline(oe._getEdgesPoints(oe._blpoints,ue,L),re,V)},n.prototype._getEdgesPoints=function(r,$,L){var V=[r[0].slice(),r[r.length-1].slice()],oe=L==="horizontal"?0:1;return V[0][oe]=V[0][oe]-$/2,V[1][oe]=V[1][oe]+$/2,V},n.prototype._drawSplitline=function(r,$,L){var V=new Polyline$7({z2:20,shape:{points:r},style:$});L.add(V)},n.prototype._getLinePointsOfOneWeek=function(r,$,L){for(var V=r.coordinateSystem,oe=V.getDateInfo($),ae=[],re=0;re<7;re++){var le=V.getNextNDay(oe.time,re),ue=V.dataToRect([le.time],!1);ae[2*le.day]=ue.tl,ae[2*le.day+1]=ue[L==="horizontal"?"bl":"tr"]}return ae},n.prototype._formatterLabel=function(r,$){return isString$3(r)&&r?formatTplSimple$1(r,$):isFunction$3(r)?r($):$.nameMap},n.prototype._yearTextPositionControl=function(r,$,L,V,oe){var ae=$[0],re=$[1],le=["center","bottom"];V==="bottom"?(re+=oe,le=["center","top"]):V==="left"?ae-=oe:V==="right"?(ae+=oe,le=["center","top"]):re-=oe;var ue=0;return(V==="left"||V==="right")&&(ue=Math.PI/2),{rotation:ue,x:ae,y:re,style:{align:le[0],verticalAlign:le[1]}}},n.prototype._renderYearText=function(r,$,L,V){var oe=r.getModel("yearLabel");if(oe.get("show")){var ae=oe.get("margin"),re=oe.get("position");re||(re=L!=="horizontal"?"top":"left");var le=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],ue=(le[0][0]+le[1][0])/2,de=(le[0][1]+le[1][1])/2,he=L==="horizontal"?0:1,pe={top:[ue,le[he][1]],bottom:[ue,le[1-he][1]],left:[le[1-he][0],de],right:[le[he][0],de]},_e=$.start.y;+$.end.y>+$.start.y&&(_e=_e+"-"+$.end.y);var $e=oe.get("formatter"),xe={start:$.start.y,end:$.end.y,nameMap:_e},Oe=this._formatterLabel($e,xe),Ce=new ZRText$3({z2:30,style:createTextStyle$1(oe,{text:Oe})});Ce.attr(this._yearTextPositionControl(Ce,pe[re],L,re,ae)),V.add(Ce)}},n.prototype._monthTextPositionControl=function(r,$,L,V,oe){var ae="left",re="top",le=r[0],ue=r[1];return L==="horizontal"?(ue=ue+oe,$&&(ae="center"),V==="start"&&(re="bottom")):(le=le+oe,$&&(re="middle"),V==="start"&&(ae="right")),{x:le,y:ue,align:ae,verticalAlign:re}},n.prototype._renderMonthText=function(r,$,L,V){var oe=r.getModel("monthLabel");if(oe.get("show")){var ae=oe.get("nameMap"),re=oe.get("margin"),le=oe.get("position"),ue=oe.get("align"),de=[this._tlpoints,this._blpoints];(!ae||isString$3(ae))&&(ae&&($=getLocaleModel$1(ae)||$),ae=$.get(["time","monthAbbr"])||[]);var he=le==="start"?0:1,pe=L==="horizontal"?0:1;re=le==="start"?-re:re;for(var _e=ue==="center",$e=0;$e<de[he].length-1;$e++){var xe=de[he][$e].slice(),Oe=this._firstDayOfMonth[$e];if(_e){var Ce=this._firstDayPoints[$e];xe[pe]=(Ce[pe]+de[0][$e+1][pe])/2}var Ie=oe.get("formatter"),Ne=ae[+Oe.m-1],ze={yyyy:Oe.y,yy:(Oe.y+"").slice(2),MM:Oe.m,M:+Oe.m,nameMap:Ne},Fe=this._formatterLabel(Ie,ze),Ue=new ZRText$3({z2:30,style:extend$4(createTextStyle$1(oe,{text:Fe}),this._monthTextPositionControl(xe,_e,L,le,re))});V.add(Ue)}}},n.prototype._weekTextPositionControl=function(r,$,L,V,oe){var ae="center",re="middle",le=r[0],ue=r[1],de=L==="start";return $==="horizontal"?(le=le+V+(de?1:-1)*oe[0]/2,ae=de?"right":"left"):(ue=ue+V+(de?1:-1)*oe[1]/2,re=de?"bottom":"top"),{x:le,y:ue,align:ae,verticalAlign:re}},n.prototype._renderWeekText=function(r,$,L,V,oe){var ae=r.getModel("dayLabel");if(ae.get("show")){var re=r.coordinateSystem,le=ae.get("position"),ue=ae.get("nameMap"),de=ae.get("margin"),he=re.getFirstDayOfWeek();if(!ue||isString$3(ue)){ue&&($=getLocaleModel$1(ue)||$);var pe=$.get(["time","dayOfWeekShort"]);ue=pe||map$3($.get(["time","dayOfWeekAbbr"]),function(ze){return ze[0]})}var _e=re.getNextNDay(L.end.time,7-L.lweek).time,$e=[re.getCellWidth(),re.getCellHeight()];de=parsePercent$2(de,Math.min($e[1],$e[0])),le==="start"&&(_e=re.getNextNDay(L.start.time,-(7+L.fweek)).time,de=-de);for(var xe=0;xe<7;xe++){var Oe=re.getNextNDay(_e,xe),Ce=re.dataToRect([Oe.time],!1).center,Ie=xe;Ie=Math.abs((xe+he)%7);var Ne=new ZRText$3({z2:30,style:extend$4(createTextStyle$1(ae,{text:ue[Ie]}),this._weekTextPositionControl(Ce,V,le,de,$e))});oe.add(Ne)}}},n.type="calendar",n}(ComponentView$3);const CalendarView$3=CalendarView$2;var PROXIMATE_ONE_DAY$1=864e5,Calendar$2=function(){function g(n,r,$){this.type="calendar",this.dimensions=g.dimensions,this.getDimensionsInfo=g.getDimensionsInfo,this._model=n}return g.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},g.prototype.getRangeInfo=function(){return this._rangeInfo},g.prototype.getModel=function(){return this._model},g.prototype.getRect=function(){return this._rect},g.prototype.getCellWidth=function(){return this._sw},g.prototype.getCellHeight=function(){return this._sh},g.prototype.getOrient=function(){return this._orient},g.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},g.prototype.getDateInfo=function(n){n=parseDate$1(n);var r=n.getFullYear(),$=n.getMonth()+1,L=$<10?"0"+$:""+$,V=n.getDate(),oe=V<10?"0"+V:""+V,ae=n.getDay();return ae=Math.abs((ae+7-this.getFirstDayOfWeek())%7),{y:r+"",m:L,d:oe,day:ae,time:n.getTime(),formatedDate:r+"-"+L+"-"+oe,date:n}},g.prototype.getNextNDay=function(n,r){return r=r||0,r===0?this.getDateInfo(n):(n=new Date(this.getDateInfo(n).time),n.setDate(n.getDate()+r),this.getDateInfo(n))},g.prototype.update=function(n,r){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var $=this._rangeInfo.weeks||1,L=["width","height"],V=this._model.getCellSize().slice(),oe=this._model.getBoxLayoutParams(),ae=this._orient==="horizontal"?[$,7]:[7,$];each$v([0,1],function(de){ue(V,de)&&(oe[L[de]]=V[de]*ae[de])});var re={width:r.getWidth(),height:r.getHeight()},le=this._rect=getLayoutRect$1(oe,re);each$v([0,1],function(de){ue(V,de)||(V[de]=le[L[de]]/ae[de])});function ue(de,he){return de[he]!=null&&de[he]!=="auto"}this._sw=V[0],this._sh=V[1]},g.prototype.dataToPoint=function(n,r){isArray$6(n)&&(n=n[0]),r==null&&(r=!0);var $=this.getDateInfo(n),L=this._rangeInfo,V=$.formatedDate;if(r&&!($.time>=L.start.time&&$.time<L.end.time+PROXIMATE_ONE_DAY$1))return[NaN,NaN];var oe=$.day,ae=this._getRangeInfo([L.start.time,V]).nthWeek;return this._orient==="vertical"?[this._rect.x+oe*this._sw+this._sw/2,this._rect.y+ae*this._sh+this._sh/2]:[this._rect.x+ae*this._sw+this._sw/2,this._rect.y+oe*this._sh+this._sh/2]},g.prototype.pointToData=function(n){var r=this.pointToDate(n);return r&&r.time},g.prototype.dataToRect=function(n,r){var $=this.dataToPoint(n,r);return{contentShape:{x:$[0]-(this._sw-this._lineWidth)/2,y:$[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:$,tl:[$[0]-this._sw/2,$[1]-this._sh/2],tr:[$[0]+this._sw/2,$[1]-this._sh/2],br:[$[0]+this._sw/2,$[1]+this._sh/2],bl:[$[0]-this._sw/2,$[1]+this._sh/2]}},g.prototype.pointToDate=function(n){var r=Math.floor((n[0]-this._rect.x)/this._sw)+1,$=Math.floor((n[1]-this._rect.y)/this._sh)+1,L=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay($,r-1,L):this._getDateByWeeksAndDay(r,$-1,L)},g.prototype.convertToPixel=function(n,r,$){var L=getCoordSys$5(r);return L===this?L.dataToPoint($):null},g.prototype.convertFromPixel=function(n,r,$){var L=getCoordSys$5(r);return L===this?L.pointToData($):null},g.prototype.containPoint=function(n){return console.warn("Not implemented."),!1},g.prototype._initRangeOption=function(){var n=this._model.get("range"),r;if(isArray$6(n)&&n.length===1&&(n=n[0]),isArray$6(n))r=n;else{var $=n.toString();if(/^\d{4}$/.test($)&&(r=[$+"-01-01",$+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test($)){var L=this.getDateInfo($),V=L.date;V.setMonth(V.getMonth()+1);var oe=this.getNextNDay(V,-1);r=[L.formatedDate,oe.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test($)&&(r=[$,$])}if(!r)return n;var ae=this._getRangeInfo(r);return ae.start.time>ae.end.time&&r.reverse(),r},g.prototype._getRangeInfo=function(n){var r=[this.getDateInfo(n[0]),this.getDateInfo(n[1])],$;r[0].time>r[1].time&&($=!0,r.reverse());var L=Math.floor(r[1].time/PROXIMATE_ONE_DAY$1)-Math.floor(r[0].time/PROXIMATE_ONE_DAY$1)+1,V=new Date(r[0].time),oe=V.getDate(),ae=r[1].date.getDate();V.setDate(oe+L-1);var re=V.getDate();if(re!==ae)for(var le=V.getTime()-r[1].time>0?1:-1;(re=V.getDate())!==ae&&(V.getTime()-r[1].time)*le>0;)L-=le,V.setDate(re-le);var ue=Math.floor((L+r[0].day+6)/7),de=$?-ue+1:ue-1;return $&&r.reverse(),{range:[r[0].formatedDate,r[1].formatedDate],start:r[0],end:r[1],allDay:L,weeks:ue,nthWeek:de,fweek:r[0].day,lweek:r[1].day}},g.prototype._getDateByWeeksAndDay=function(n,r,$){var L=this._getRangeInfo($);if(n>L.weeks||n===0&&r<L.fweek||n===L.weeks&&r>L.lweek)return null;var V=(n-1)*7-L.fweek+r,oe=new Date(L.start.time);return oe.setDate(+L.start.d+V),this.getDateInfo(oe)},g.create=function(n,r){var $=[];return n.eachComponent("calendar",function(L){var V=new g(L);$.push(V),L.coordinateSystem=V}),n.eachSeries(function(L){L.get("coordinateSystem")==="calendar"&&(L.coordinateSystem=$[L.get("calendarIndex")||0])}),$},g.dimensions=["time","value"],g}();function getCoordSys$5(g){var n=g.calendarModel,r=g.seriesModel,$=n?n.coordinateSystem:r?r.coordinateSystem:null;return $}const Calendar$3=Calendar$2;function install$1f(g){g.registerComponentModel(CalendarModel$3),g.registerComponentView(CalendarView$3),g.registerCoordinateSystem("calendar",Calendar$3)}function setKeyInfoToNewElOption$1(g,n){var r=g.existing;if(n.id=g.keyInfo.id,!n.type&&r&&(n.type=r.type),n.parentId==null){var $=n.parentOption;$?n.parentId=$.id:r&&(n.parentId=r.parentId)}n.parentOption=null}function isSetLoc$1(g,n){var r;return each$v(n,function($){g[$]!=null&&g[$]!=="auto"&&(r=!0)}),r}function mergeNewElOptionToExist$1(g,n,r){var $=extend$4({},r),L=g[n],V=r.$action||"merge";V==="merge"?L?(merge$3(L,$,!0),mergeLayoutParam$1(L,$,{ignoreSize:!0}),copyLayoutParams$1(r,L),copyTransitionInfo$1(r,L),copyTransitionInfo$1(r,L,"shape"),copyTransitionInfo$1(r,L,"style"),copyTransitionInfo$1(r,L,"extra"),r.clipPath=L.clipPath):g[n]=$:V==="replace"?g[n]=$:V==="remove"&&L&&(g[n]=null)}var TRANSITION_PROPS_TO_COPY$1=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY$1=TRANSITION_PROPS_TO_COPY$1.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo$1(g,n,r){if(r&&(!g[r]&&n[r]&&(g[r]={}),g=g[r],n=n[r]),!(!g||!n))for(var $=r?TRANSITION_PROPS_TO_COPY$1:ROOT_TRANSITION_PROPS_TO_COPY$1,L=0;L<$.length;L++){var V=$[L];g[V]==null&&n[V]!=null&&(g[V]=n[V])}}function setLayoutInfoToExist$1(g,n){if(!!g&&(g.hv=n.hv=[isSetLoc$1(n,["left","right"]),isSetLoc$1(n,["top","bottom"])],g.type==="group")){var r=g,$=n;r.width==null&&(r.width=$.width=0),r.height==null&&(r.height=$.height=0)}}var GraphicComponentModel$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.preventAutoZ=!0,r}return n.prototype.mergeOption=function(r,$){var L=this.option.elements;this.option.elements=null,g.prototype.mergeOption.call(this,r,$),this.option.elements=L},n.prototype.optionUpdated=function(r,$){var L=this.option,V=($?L:r).elements,oe=L.elements=$?[]:L.elements,ae=[];this._flatten(V,ae,null);var re=mappingToExists$1(oe,ae,"normalMerge"),le=this._elOptionsToUpdate=[];each$v(re,function(ue,de){var he=ue.newOption;!he||(le.push(he),setKeyInfoToNewElOption$1(ue,he),mergeNewElOptionToExist$1(oe,de,he),setLayoutInfoToExist$1(oe[de],he))},this),L.elements=filter$1(oe,function(ue){return ue&&delete ue.$action,ue!=null})},n.prototype._flatten=function(r,$,L){each$v(r,function(V){if(V){L&&(V.parentOption=L),$.push(V);var oe=V.children;oe&&oe.length&&this._flatten(oe,$,V),delete V.children}},this)},n.prototype.useElOptionsToUpdate=function(){var r=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,r},n.type="graphic",n.defaultOption={elements:[]},n}(ComponentModel$3),nonShapeGraphicElements$1={path:null,compoundPath:null,group:Group$9,image:ZRImage$3,text:ZRText$3},inner$t=makeInner$1(),GraphicComponentView$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this._elMap=createHashMap$1()},n.prototype.render=function(r,$,L){r!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=r,this._updateElements(r),this._relocate(r,L)},n.prototype._updateElements=function(r){var $=r.useElOptionsToUpdate();if($){var L=this._elMap,V=this.group,oe=r.get("z"),ae=r.get("zlevel");each$v($,function(re){var le=convertOptionIdName$1(re.id,null),ue=le!=null?L.get(le):null,de=convertOptionIdName$1(re.parentId,null),he=de!=null?L.get(de):V,pe=re.type,_e=re.style;pe==="text"&&_e&&re.hv&&re.hv[1]&&(_e.textVerticalAlign=_e.textBaseline=_e.verticalAlign=_e.align=null);var $e=re.textContent,xe=re.textConfig;if(_e&&isEC4CompatibleStyle$1(_e,pe,!!xe,!!$e)){var Oe=convertFromEC4CompatibleStyle$1(_e,pe,!0);!xe&&Oe.textConfig&&(xe=re.textConfig=Oe.textConfig),!$e&&Oe.textContent&&($e=Oe.textContent)}var Ce=getCleanedElOption$1(re),Ie=re.$action||"merge",Ne=Ie==="merge",ze=Ie==="replace";if(Ne){var Fe=!ue,Ue=ue;Fe?Ue=createEl$2(le,he,re.type,L):(Ue&&(inner$t(Ue).isNew=!1),stopPreviousKeyframeAnimationAndRestore$1(Ue)),Ue&&(applyUpdateTransition$1(Ue,Ce,r,{isInit:Fe}),updateCommonAttrs$1(Ue,re,oe,ae))}else if(ze){removeEl$3(ue,re,L,r);var At=createEl$2(le,he,re.type,L);At&&(applyUpdateTransition$1(At,Ce,r,{isInit:!0}),updateCommonAttrs$1(At,re,oe,ae))}else Ie==="remove"&&(updateLeaveTo$1(ue,re),removeEl$3(ue,re,L,r));var Et=L.get(le);if(Et&&$e)if(Ne){var Pt=Et.getTextContent();Pt?Pt.attr($e):Et.setTextContent(new ZRText$3($e))}else ze&&Et.setTextContent(new ZRText$3($e));if(Et){var kt=re.clipPath;if(kt){var Dt=kt.type,Lt=void 0,Fe=!1;if(Ne){var hn=Et.getClipPath();Fe=!hn||inner$t(hn).type!==Dt,Lt=Fe?newEl$1(Dt):hn}else ze&&(Fe=!0,Lt=newEl$1(Dt));Et.setClipPath(Lt),applyUpdateTransition$1(Lt,kt,r,{isInit:Fe}),applyKeyframeAnimation$1(Lt,kt.keyframeAnimation,r)}var vn=inner$t(Et);Et.setTextConfig(xe),vn.option=re,setEventData$1(Et,r,re),setTooltipConfig$1({el:Et,componentModel:r,itemName:Et.name,itemTooltipOption:re.tooltip}),applyKeyframeAnimation$1(Et,re.keyframeAnimation,r)}})}},n.prototype._relocate=function(r,$){for(var L=r.option.elements,V=this.group,oe=this._elMap,ae=$.getWidth(),re=$.getHeight(),le=["x","y"],ue=0;ue<L.length;ue++){var de=L[ue],he=convertOptionIdName$1(de.id,null),pe=he!=null?oe.get(he):null;if(!(!pe||!pe.isGroup)){var _e=pe.parent,$e=_e===V,xe=inner$t(pe),Oe=inner$t(_e);xe.width=parsePercent$2(xe.option.width,$e?ae:Oe.width)||0,xe.height=parsePercent$2(xe.option.height,$e?re:Oe.height)||0}}for(var ue=L.length-1;ue>=0;ue--){var de=L[ue],he=convertOptionIdName$1(de.id,null),pe=he!=null?oe.get(he):null;if(pe){var _e=pe.parent,Oe=inner$t(_e),Ce=_e===V?{width:ae,height:re}:{width:Oe.width,height:Oe.height},Ie={},Ne=positionElement$1(pe,de,Ce,null,{hv:de.hv,boundingMode:de.bounding},Ie);if(!inner$t(pe).isNew&&Ne){for(var ze=de.transition,Fe={},Ue=0;Ue<le.length;Ue++){var At=le[Ue],Et=Ie[At];ze&&(isTransitionAll$1(ze)||indexOf$1(ze,At)>=0)?Fe[At]=Et:pe[At]=Et}updateProps$3(pe,Fe,r,0)}else pe.attr(Ie)}}},n.prototype._clear=function(){var r=this,$=this._elMap;$.each(function(L){removeEl$3(L,inner$t(L).option,$,r._lastGraphicModel)}),this._elMap=createHashMap$1()},n.prototype.dispose=function(){this._clear()},n.type="graphic",n}(ComponentView$3);function newEl$1(g){var n=hasOwn$1(nonShapeGraphicElements$1,g)?nonShapeGraphicElements$1[g]:getShapeClass$1(g),r=new n({});return inner$t(r).type=g,r}function createEl$2(g,n,r,$){var L=newEl$1(r);return n.add(L),$.set(g,L),inner$t(L).id=g,inner$t(L).isNew=!0,L}function removeEl$3(g,n,r,$){var L=g&&g.parent;L&&(g.type==="group"&&g.traverse(function(V){removeEl$3(V,n,r,$)}),applyLeaveTransition$1(g,n,$),r.removeKey(inner$t(g).id))}function updateCommonAttrs$1(g,n,r,$){g.isGroup||each$v([["cursor",Displayable$3.prototype.cursor],["zlevel",$||0],["z",r||0],["z2",0]],function(L){var V=L[0];hasOwn$1(n,V)?g[V]=retrieve2$1(n[V],L[1]):g[V]==null&&(g[V]=L[1])}),each$v(keys$2(n),function(L){if(L.indexOf("on")===0){var V=n[L];g[L]=isFunction$3(V)?V:null}}),hasOwn$1(n,"draggable")&&(g.draggable=n.draggable),n.name!=null&&(g.name=n.name),n.id!=null&&(g.id=n.id)}function getCleanedElOption$1(g){return g=extend$4({},g),each$v(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS$1),function(n){delete g[n]}),g}function setEventData$1(g,n,r){var $=getECData$1(g).eventData;!g.silent&&!g.ignore&&!$&&($=getECData$1(g).eventData={componentType:"graphic",componentIndex:n.componentIndex,name:g.name}),$&&($.info=r.info)}function install$1e(g){g.registerComponentModel(GraphicComponentModel$1),g.registerComponentView(GraphicComponentView$1),g.registerPreprocessor(function(n){var r=n.graphic;isArray$6(r)?!r[0]||!r[0].elements?n.graphic=[{elements:r}]:n.graphic=[n.graphic[0]]:r&&!r.elements&&(n.graphic=[{elements:[r]}])})}var DATA_ZOOM_AXIS_DIMENSIONS$1=["x","y","radius","angle","single"],SERIES_COORDS$1=["cartesian2d","polar","singleAxis"];function isCoordSupported$1(g){var n=g.get("coordinateSystem");return indexOf$1(SERIES_COORDS$1,n)>=0}function getAxisMainType$1(g){return g+"Axis"}function findEffectedDataZooms$1(g,n){var r=createHashMap$1(),$=[],L=createHashMap$1();g.eachComponent({mainType:"dataZoom",query:n},function(ue){L.get(ue.uid)||ae(ue)});var V;do V=!1,g.eachComponent("dataZoom",oe);while(V);function oe(ue){!L.get(ue.uid)&&re(ue)&&(ae(ue),V=!0)}function ae(ue){L.set(ue.uid,!0),$.push(ue),le(ue)}function re(ue){var de=!1;return ue.eachTargetAxis(function(he,pe){var _e=r.get(he);_e&&_e[pe]&&(de=!0)}),de}function le(ue){ue.eachTargetAxis(function(de,he){(r.get(de)||r.set(de,[]))[he]=!0})}return $}function collectReferCoordSysModelInfo$1(g){var n=g.ecModel,r={infoList:[],infoMap:createHashMap$1()};return g.eachTargetAxis(function($,L){var V=n.getComponent(getAxisMainType$1($),L);if(V){var oe=V.getCoordSysModel();if(oe){var ae=oe.uid,re=r.infoMap.get(ae);re||(re={model:oe,axisModels:[]},r.infoList.push(re),r.infoMap.set(ae,re)),re.axisModels.push(V)}}}),r}var DataZoomAxisInfo$1=function(){function g(){this.indexList=[],this.indexMap=[]}return g.prototype.add=function(n){this.indexMap[n]||(this.indexList.push(n),this.indexMap[n]=!0)},g}(),DataZoomModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return n.prototype.init=function(r,$,L){var V=retrieveRawOption$1(r);this.settledOption=V,this.mergeDefaultAndTheme(r,L),this._doInit(V)},n.prototype.mergeOption=function(r){var $=retrieveRawOption$1(r);merge$3(this.option,r,!0),merge$3(this.settledOption,$,!0),this._doInit($)},n.prototype._doInit=function(r){var $=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var L=this.settledOption;each$v([["start","startValue"],["end","endValue"]],function(V,oe){this._rangePropMode[oe]==="value"&&($[V[0]]=L[V[0]]=null)},this),this._resetTarget()},n.prototype._resetTarget=function(){var r=this.get("orient",!0),$=this._targetAxisInfoMap=createHashMap$1(),L=this._fillSpecifiedTargetAxis($);L?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient($,this._orient)),this._noTarget=!0,$.each(function(V){V.indexList.length&&(this._noTarget=!1)},this)},n.prototype._fillSpecifiedTargetAxis=function(r){var $=!1;return each$v(DATA_ZOOM_AXIS_DIMENSIONS$1,function(L){var V=this.getReferringComponents(getAxisMainType$1(L),MULTIPLE_REFERRING$1);if(V.specified){$=!0;var oe=new DataZoomAxisInfo$1;each$v(V.models,function(ae){oe.add(ae.componentIndex)}),r.set(L,oe)}},this),$},n.prototype._fillAutoTargetAxisByOrient=function(r,$){var L=this.ecModel,V=!0;if(V){var oe=$==="vertical"?"y":"x",ae=L.findComponents({mainType:oe+"Axis"});re(ae,oe)}if(V){var ae=L.findComponents({mainType:"singleAxis",filter:function(ue){return ue.get("orient",!0)===$}});re(ae,"single")}function re(le,ue){var de=le[0];if(de){var he=new DataZoomAxisInfo$1;if(he.add(de.componentIndex),r.set(ue,he),V=!1,ue==="x"||ue==="y"){var pe=de.getReferringComponents("grid",SINGLE_REFERRING$1).models[0];pe&&each$v(le,function(_e){de.componentIndex!==_e.componentIndex&&pe===_e.getReferringComponents("grid",SINGLE_REFERRING$1).models[0]&&he.add(_e.componentIndex)})}}}V&&each$v(DATA_ZOOM_AXIS_DIMENSIONS$1,function(le){if(V){var ue=L.findComponents({mainType:getAxisMainType$1(le),filter:function(he){return he.get("type",!0)==="category"}});if(ue[0]){var de=new DataZoomAxisInfo$1;de.add(ue[0].componentIndex),r.set(le,de),V=!1}}},this)},n.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function($){!r&&(r=$)},this),r==="y"?"vertical":"horizontal"},n.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var $=this.ecModel.option;this.option.throttle=$.animation&&$.animationDurationUpdate>0?100:20}},n.prototype._updateRangeUse=function(r){var $=this._rangePropMode,L=this.get("rangeMode");each$v([["start","startValue"],["end","endValue"]],function(V,oe){var ae=r[V[0]]!=null,re=r[V[1]]!=null;ae&&!re?$[oe]="percent":!ae&&re?$[oe]="value":L?$[oe]=L[oe]:ae&&($[oe]="percent")})},n.prototype.noTarget=function(){return this._noTarget},n.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function($,L){r==null&&(r=this.ecModel.getComponent(getAxisMainType$1($),L))},this),r},n.prototype.eachTargetAxis=function(r,$){this._targetAxisInfoMap.each(function(L,V){each$v(L.indexList,function(oe){r.call($,V,oe)})})},n.prototype.getAxisProxy=function(r,$){var L=this.getAxisModel(r,$);if(L)return L.__dzAxisProxy},n.prototype.getAxisModel=function(r,$){var L=this._targetAxisInfoMap.get(r);if(L&&L.indexMap[$])return this.ecModel.getComponent(getAxisMainType$1(r),$)},n.prototype.setRawRange=function(r){var $=this.option,L=this.settledOption;each$v([["start","startValue"],["end","endValue"]],function(V){(r[V[0]]!=null||r[V[1]]!=null)&&($[V[0]]=L[V[0]]=r[V[0]],$[V[1]]=L[V[1]]=r[V[1]])},this),this._updateRangeUse(r)},n.prototype.setCalculatedRange=function(r){var $=this.option;each$v(["start","startValue","end","endValue"],function(L){$[L]=r[L]})},n.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},n.prototype.getValueRange=function(r,$){if(r==null&&$==null){var L=this.findRepresentativeAxisProxy();if(L)return L.getDataValueWindow()}else return this.getAxisProxy(r,$).getDataValueWindow()},n.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var $,L=this._targetAxisInfoMap.keys(),V=0;V<L.length;V++)for(var oe=L[V],ae=this._targetAxisInfoMap.get(oe),re=0;re<ae.indexList.length;re++){var le=this.getAxisProxy(oe,ae.indexList[re]);if(le.hostedBy(this))return le;$||($=le)}return $},n.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},n.prototype.getOrient=function(){return this._orient},n.type="dataZoom",n.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],n.defaultOption={z:4,filterMode:"filter",start:0,end:100},n}(ComponentModel$3);function retrieveRawOption$1(g){var n={};return each$v(["start","end","startValue","endValue","throttle"],function(r){g.hasOwnProperty(r)&&(n[r]=g[r])}),n}const DataZoomModel$3=DataZoomModel$2;var SelectDataZoomModel$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.select",n}(DataZoomModel$3);const SelectZoomModel$1=SelectDataZoomModel$1;var DataZoomView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L,V){this.dataZoomModel=r,this.ecModel=$,this.api=L},n.type="dataZoom",n}(ComponentView$3);const DataZoomView$3=DataZoomView$2;var SelectDataZoomView$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.select",n}(DataZoomView$3);const SelectZoomView$1=SelectDataZoomView$1;var each$n=each$v,asc$4=asc$5,AxisProxy$2=function(){function g(n,r,$,L){this._dimName=n,this._axisIndex=r,this.ecModel=L,this._dataZoomModel=$}return g.prototype.hostedBy=function(n){return this._dataZoomModel===n},g.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},g.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},g.prototype.getTargetSeriesModels=function(){var n=[];return this.ecModel.eachSeries(function(r){if(isCoordSupported$1(r)){var $=getAxisMainType$1(this._dimName),L=r.getReferringComponents($,SINGLE_REFERRING$1).models[0];L&&this._axisIndex===L.componentIndex&&n.push(r)}},this),n},g.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},g.prototype.getMinMaxSpan=function(){return clone$9(this._minMaxSpan)},g.prototype.calculateDataWindow=function(n){var r=this._dataExtent,$=this.getAxisModel(),L=$.axis.scale,V=this._dataZoomModel.getRangePropMode(),oe=[0,100],ae=[],re=[],le;each$n(["start","end"],function(he,pe){var _e=n[he],$e=n[he+"Value"];V[pe]==="percent"?(_e==null&&(_e=oe[pe]),$e=L.parse(linearMap$5(_e,oe,r))):(le=!0,$e=$e==null?r[pe]:L.parse($e),_e=linearMap$5($e,r,oe)),re[pe]=$e==null||isNaN($e)?r[pe]:$e,ae[pe]=_e==null||isNaN(_e)?oe[pe]:_e}),asc$4(re),asc$4(ae);var ue=this._minMaxSpan;le?de(re,ae,r,oe,!1):de(ae,re,oe,r,!0);function de(he,pe,_e,$e,xe){var Oe=xe?"Span":"ValueSpan";sliderMove$1(0,he,_e,"all",ue["min"+Oe],ue["max"+Oe]);for(var Ce=0;Ce<2;Ce++)pe[Ce]=linearMap$5(he[Ce],_e,$e,!0),xe&&(pe[Ce]=L.parse(pe[Ce]))}return{valueWindow:re,percentWindow:ae}},g.prototype.reset=function(n){if(n===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent$1(this,this._dimName,r),this._updateMinMaxSpan();var $=this.calculateDataWindow(n.settledOption);this._valueWindow=$.valueWindow,this._percentWindow=$.percentWindow,this._setAxisModel()}},g.prototype.filterData=function(n,r){if(n!==this._dataZoomModel)return;var $=this._dimName,L=this.getTargetSeriesModels(),V=n.get("filterMode"),oe=this._valueWindow;if(V==="none")return;each$n(L,function(re){var le=re.getData(),ue=le.mapDimensionsAll($);if(ue.length){if(V==="weakFilter"){var de=le.getStore(),he=map$3(ue,function(pe){return le.getDimensionIndex(pe)},le);le.filterSelf(function(pe){for(var _e,$e,xe,Oe=0;Oe<ue.length;Oe++){var Ce=de.get(he[Oe],pe),Ie=!isNaN(Ce),Ne=Ce<oe[0],ze=Ce>oe[1];if(Ie&&!Ne&&!ze)return!0;Ie&&(xe=!0),Ne&&(_e=!0),ze&&($e=!0)}return xe&&_e&&$e})}else each$n(ue,function(pe){if(V==="empty")re.setData(le=le.map(pe,function($e){return ae($e)?$e:NaN}));else{var _e={};_e[pe]=oe,le.selectRange(_e)}});each$n(ue,function(pe){le.setApproximateExtent(oe,pe)})}});function ae(re){return re>=oe[0]&&re<=oe[1]}},g.prototype._updateMinMaxSpan=function(){var n=this._minMaxSpan={},r=this._dataZoomModel,$=this._dataExtent;each$n(["min","max"],function(L){var V=r.get(L+"Span"),oe=r.get(L+"ValueSpan");oe!=null&&(oe=this.getAxisModel().axis.scale.parse(oe)),oe!=null?V=linearMap$5($[0]+oe,$,[0,100],!0):V!=null&&(oe=linearMap$5(V,[0,100],$,!0)-$[0]),n[L+"Span"]=V,n[L+"ValueSpan"]=oe},this)},g.prototype._setAxisModel=function(){var n=this.getAxisModel(),r=this._percentWindow,$=this._valueWindow;if(r){var L=getPixelPrecision$1($,[0,500]);L=Math.min(L,20);var V=n.axis.scale.rawExtentInfo;r[0]!==0&&V.setDeterminedMinMax("min",+$[0].toFixed(L)),r[1]!==100&&V.setDeterminedMinMax("max",+$[1].toFixed(L)),V.freeze()}},g}();function calculateDataExtent$1(g,n,r){var $=[1/0,-1/0];each$n(r,function(oe){unionAxisExtentFromData$1($,oe.getData(),n)});var L=g.getAxisModel(),V=ensureScaleRawExtentInfo$1(L.axis.scale,L,$).calculate();return[V.min,V.max]}const AxisProxy$3=AxisProxy$2;var dataZoomProcessor$2={getTargetSeries:function(g){function n(L){g.eachComponent("dataZoom",function(V){V.eachTargetAxis(function(oe,ae){var re=g.getComponent(getAxisMainType$1(oe),ae);L(oe,ae,re,V)})})}n(function(L,V,oe,ae){oe.__dzAxisProxy=null});var r=[];n(function(L,V,oe,ae){oe.__dzAxisProxy||(oe.__dzAxisProxy=new AxisProxy$3(L,V,ae,g),r.push(oe.__dzAxisProxy))});var $=createHashMap$1();return each$v(r,function(L){each$v(L.getTargetSeriesModels(),function(V){$.set(V.uid,V)})}),$},overallReset:function(g,n){g.eachComponent("dataZoom",function(r){r.eachTargetAxis(function($,L){r.getAxisProxy($,L).reset(r)}),r.eachTargetAxis(function($,L){r.getAxisProxy($,L).filterData(r,n)})}),g.eachComponent("dataZoom",function(r){var $=r.findRepresentativeAxisProxy();if($){var L=$.getDataPercentWindow(),V=$.getDataValueWindow();r.setCalculatedRange({start:L[0],end:L[1],startValue:V[0],endValue:V[1]})}})}};const dataZoomProcessor$3=dataZoomProcessor$2;function installDataZoomAction$1(g){g.registerAction("dataZoom",function(n,r){var $=findEffectedDataZooms$1(r,n);each$v($,function(L){L.setRawRange({start:n.start,end:n.end,startValue:n.startValue,endValue:n.endValue})})})}var installed$3=!1;function installCommon$3(g){installed$3||(installed$3=!0,g.registerProcessor(g.PRIORITY.PROCESSOR.FILTER,dataZoomProcessor$3),installDataZoomAction$1(g),g.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function install$1d(g){g.registerComponentModel(SelectZoomModel$1),g.registerComponentView(SelectZoomView$1),installCommon$3(g)}var ToolboxFeature$1=function(){function g(){}return g}(),features$1={};function registerFeature$1(g,n){features$1[g]=n}function getFeature$1(g){return features$1[g]}var ToolboxModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){g.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;each$v(this.option.feature,function($,L){var V=getFeature$1(L);V&&(V.getDefaultOption&&(V.defaultOption=V.getDefaultOption(r)),merge$3($,V.defaultOption))})},n.type="toolbox",n.layoutMode={type:"box",ignoreSize:!0},n.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},n}(ComponentModel$3);const ToolboxModel$3=ToolboxModel$2;function layout$5(g,n,r){var $=n.getBoxLayoutParams(),L=n.get("padding"),V={width:r.getWidth(),height:r.getHeight()},oe=getLayoutRect$1($,V,L);box$1(n.get("orient"),g,n.get("itemGap"),oe.width,oe.height),positionElement$1(g,$,V,L)}function makeBackground$1(g,n){var r=normalizeCssArray$2(n.get("padding")),$=n.getItemStyle(["color","opacity"]);return $.fill=n.get("backgroundColor"),g=new Rect$7({shape:{x:g.x-r[3],y:g.y-r[0],width:g.width+r[1]+r[3],height:g.height+r[0]+r[2],r:n.get("borderRadius")},style:$,silent:!0,z2:-1}),g}var ToolboxView$2=function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.render=function(r,$,L,V){var oe=this.group;if(oe.removeAll(),!r.get("show"))return;var ae=+r.get("itemSize"),re=r.get("orient")==="vertical",le=r.get("feature")||{},ue=this._features||(this._features={}),de=[];each$v(le,function(_e,$e){de.push($e)}),new DataDiffer$3(this._featureNames||[],de).add(he).update(he).remove(curry$3(he,null)).execute(),this._featureNames=de;function he(_e,$e){var xe=de[_e],Oe=de[$e],Ce=le[xe],Ie=new Model$3(Ce,r,r.ecModel),Ne;if(V&&V.newTitle!=null&&V.featureName===xe&&(Ce.title=V.newTitle),xe&&!Oe){if(isUserFeatureName$1(xe))Ne={onclick:Ie.option.onclick,featureName:xe};else{var ze=getFeature$1(xe);if(!ze)return;Ne=new ze}ue[xe]=Ne}else if(Ne=ue[Oe],!Ne)return;Ne.uid=getUID$1("toolbox-feature"),Ne.model=Ie,Ne.ecModel=$,Ne.api=L;var Fe=Ne instanceof ToolboxFeature$1;if(!xe&&Oe){Fe&&Ne.dispose&&Ne.dispose($,L);return}if(!Ie.get("show")||Fe&&Ne.unusable){Fe&&Ne.remove&&Ne.remove($,L);return}pe(Ie,Ne,xe),Ie.setIconStatus=function(Ue,At){var Et=this.option,Pt=this.iconPaths;Et.iconStatus=Et.iconStatus||{},Et.iconStatus[Ue]=At,Pt[Ue]&&(At==="emphasis"?enterEmphasis$1:leaveEmphasis$1)(Pt[Ue])},Ne instanceof ToolboxFeature$1&&Ne.render&&Ne.render(Ie,$,L,V)}function pe(_e,$e,xe){var Oe=_e.getModel("iconStyle"),Ce=_e.getModel(["emphasis","iconStyle"]),Ie=$e instanceof ToolboxFeature$1&&$e.getIcons?$e.getIcons():_e.get("icon"),Ne=_e.get("title")||{},ze,Fe;isString$3(Ie)?(ze={},ze[xe]=Ie):ze=Ie,isString$3(Ne)?(Fe={},Fe[xe]=Ne):Fe=Ne;var Ue=_e.iconPaths={};each$v(ze,function(At,Et){var Pt=createIcon$1(At,{},{x:-ae/2,y:-ae/2,width:ae,height:ae});Pt.setStyle(Oe.getItemStyle());var kt=Pt.ensureState("emphasis");kt.style=Ce.getItemStyle();var Dt=new ZRText$3({style:{text:Fe[Et],align:Ce.get("textAlign"),borderRadius:Ce.get("textBorderRadius"),padding:Ce.get("textPadding"),fill:null},ignore:!0});Pt.setTextContent(Dt),setTooltipConfig$1({el:Pt,componentModel:r,itemName:Et,formatterParamsExtra:{title:Fe[Et]}}),Pt.__title=Fe[Et],Pt.on("mouseover",function(){var Lt=Ce.getItemStyle(),hn=re?r.get("right")==null&&r.get("left")!=="right"?"right":"left":r.get("bottom")==null&&r.get("top")!=="bottom"?"bottom":"top";Dt.setStyle({fill:Ce.get("textFill")||Lt.fill||Lt.stroke||"#000",backgroundColor:Ce.get("textBackgroundColor")}),Pt.setTextConfig({position:Ce.get("textPosition")||hn}),Dt.ignore=!r.get("showTitle"),L.enterEmphasis(this)}).on("mouseout",function(){_e.get(["iconStatus",Et])!=="emphasis"&&L.leaveEmphasis(this),Dt.hide()}),(_e.get(["iconStatus",Et])==="emphasis"?enterEmphasis$1:leaveEmphasis$1)(Pt),oe.add(Pt),Pt.on("click",bind$5($e.onclick,$e,$,L,Et)),Ue[Et]=Pt})}layout$5(oe,r,L),oe.add(makeBackground$1(oe.getBoundingRect(),r)),re||oe.eachChild(function(_e){var $e=_e.__title,xe=_e.ensureState("emphasis"),Oe=xe.textConfig||(xe.textConfig={}),Ce=_e.getTextContent(),Ie=Ce&&Ce.ensureState("emphasis");if(Ie&&!isFunction$3(Ie)&&$e){var Ne=Ie.style||(Ie.style={}),ze=getBoundingRect$1($e,ZRText$3.makeFont(Ne)),Fe=_e.x+oe.x,Ue=_e.y+oe.y+ae,At=!1;Ue+ze.height>L.getHeight()&&(Oe.position="top",At=!0);var Et=At?-5-ze.height:ae+10;Fe+ze.width/2>L.getWidth()?(Oe.position=["100%",Et],Ne.align="right"):Fe-ze.width/2<0&&(Oe.position=[0,Et],Ne.align="left")}})},n.prototype.updateView=function(r,$,L,V){each$v(this._features,function(oe){oe instanceof ToolboxFeature$1&&oe.updateView&&oe.updateView(oe.model,$,L,V)})},n.prototype.remove=function(r,$){each$v(this._features,function(L){L instanceof ToolboxFeature$1&&L.remove&&L.remove(r,$)}),this.group.removeAll()},n.prototype.dispose=function(r,$){each$v(this._features,function(L){L instanceof ToolboxFeature$1&&L.dispose&&L.dispose(r,$)})},n.type="toolbox",n}(ComponentView$3);function isUserFeatureName$1(g){return g.indexOf("my")===0}const ToolboxView$3=ToolboxView$2;var SaveAsImage$2=function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.onclick=function(r,$){var L=this.model,V=L.get("name")||r.get("title.0.text")||"echarts",oe=$.getZr().painter.getType()==="svg",ae=oe?"svg":L.get("type",!0)||"png",re=$.getConnectedDataURL({type:ae,backgroundColor:L.get("backgroundColor",!0)||r.get("backgroundColor")||"#fff",connectedBackgroundColor:L.get("connectedBackgroundColor"),excludeComponents:L.get("excludeComponents"),pixelRatio:L.get("pixelRatio")}),le=env$3.browser;if(isFunction$3(MouseEvent)&&(le.newEdge||!le.ie&&!le.edge)){var ue=document.createElement("a");ue.download=V+"."+ae,ue.target="_blank",ue.href=re;var de=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});ue.dispatchEvent(de)}else if(window.navigator.msSaveOrOpenBlob||oe){var he=re.split(","),pe=he[0].indexOf("base64")>-1,_e=oe?decodeURIComponent(he[1]):he[1];pe&&(_e=window.atob(_e));var $e=V+"."+ae;if(window.navigator.msSaveOrOpenBlob){for(var xe=_e.length,Oe=new Uint8Array(xe);xe--;)Oe[xe]=_e.charCodeAt(xe);var Ce=new Blob([Oe]);window.navigator.msSaveOrOpenBlob(Ce,$e)}else{var Ie=document.createElement("iframe");document.body.appendChild(Ie);var Ne=Ie.contentWindow,ze=Ne.document;ze.open("image/svg+xml","replace"),ze.write(_e),ze.close(),Ne.focus(),ze.execCommand("SaveAs",!0,$e),document.body.removeChild(Ie)}}else{var Fe=L.get("lang"),Ue='<body style="margin:0;"><img src="'+re+'" style="max-width:100%;" title="'+(Fe&&Fe[0]||"")+'" /></body>',At=window.open();At.document.write(Ue),At.document.title=V}},n.getDefaultOption=function(r){var $={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return $},n}(ToolboxFeature$1);const SaveAsImage$3=SaveAsImage$2;var INNER_STACK_KEYWORD$1="__ec_magicType_stack__",radioTypes$1=[["line","bar"],["stack"]],MagicType$2=function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.getIcons=function(){var r=this.model,$=r.get("icon"),L={};return each$v(r.get("type"),function(V){$[V]&&(L[V]=$[V])}),L},n.getDefaultOption=function(r){var $={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return $},n.prototype.onclick=function(r,$,L){var V=this.model,oe=V.get(["seriesIndex",L]);if(seriesOptGenreator$1[L]){var ae={series:[]},re=function(de){var he=de.subType,pe=de.id,_e=seriesOptGenreator$1[L](he,pe,de,V);_e&&(defaults$7(_e,de.option),ae.series.push(_e));var $e=de.coordinateSystem;if($e&&$e.type==="cartesian2d"&&(L==="line"||L==="bar")){var xe=$e.getAxesByScale("ordinal")[0];if(xe){var Oe=xe.dim,Ce=Oe+"Axis",Ie=de.getReferringComponents(Ce,SINGLE_REFERRING$1).models[0],Ne=Ie.componentIndex;ae[Ce]=ae[Ce]||[];for(var ze=0;ze<=Ne;ze++)ae[Ce][Ne]=ae[Ce][Ne]||{};ae[Ce][Ne].boundaryGap=L==="bar"}}};each$v(radioTypes$1,function(de){indexOf$1(de,L)>=0&&each$v(de,function(he){V.setIconStatus(he,"normal")})}),V.setIconStatus(L,"emphasis"),r.eachComponent({mainType:"series",query:oe==null?null:{seriesIndex:oe}},re);var le,ue=L;L==="stack"&&(le=merge$3({stack:V.option.title.tiled,tiled:V.option.title.stack},V.option.title),V.get(["iconStatus",L])!=="emphasis"&&(ue="tiled")),$.dispatchAction({type:"changeMagicType",currentType:ue,newOption:ae,newTitle:le,featureName:"magicType"})}},n}(ToolboxFeature$1),seriesOptGenreator$1={line:function(g,n,r,$){if(g==="bar")return merge$3({id:n,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},$.get(["option","line"])||{},!0)},bar:function(g,n,r,$){if(g==="line")return merge$3({id:n,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},$.get(["option","bar"])||{},!0)},stack:function(g,n,r,$){var L=r.get("stack")===INNER_STACK_KEYWORD$1;if(g==="line"||g==="bar")return $.setIconStatus("stack",L?"normal":"emphasis"),merge$3({id:n,stack:L?"":INNER_STACK_KEYWORD$1},$.get(["option","stack"])||{},!0)}};registerAction$1({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(g,n){n.mergeOption(g.newOption)});const MagicType$3=MagicType$2;var BLOCK_SPLITER$1=new Array(60).join("-"),ITEM_SPLITER$1="	";function groupSeries$1(g){var n={},r=[],$=[];return g.eachRawSeries(function(L){var V=L.coordinateSystem;if(V&&(V.type==="cartesian2d"||V.type==="polar")){var oe=V.getBaseAxis();if(oe.type==="category"){var ae=oe.dim+"_"+oe.index;n[ae]||(n[ae]={categoryAxis:oe,valueAxis:V.getOtherAxis(oe),series:[]},$.push({axisDim:oe.dim,axisIndex:oe.index})),n[ae].series.push(L)}else r.push(L)}else r.push(L)}),{seriesGroupByCategoryAxis:n,other:r,meta:$}}function assembleSeriesWithCategoryAxis$1(g){var n=[];return each$v(g,function(r,$){var L=r.categoryAxis,V=r.valueAxis,oe=V.dim,ae=[" "].concat(map$3(r.series,function(pe){return pe.name})),re=[L.model.getCategories()];each$v(r.series,function(pe){var _e=pe.getRawData();re.push(pe.getRawData().mapArray(_e.mapDimension(oe),function($e){return $e}))});for(var le=[ae.join(ITEM_SPLITER$1)],ue=0;ue<re[0].length;ue++){for(var de=[],he=0;he<re.length;he++)de.push(re[he][ue]);le.push(de.join(ITEM_SPLITER$1))}n.push(le.join(`
`))}),n.join(`

`+BLOCK_SPLITER$1+`

`)}function assembleOtherSeries$1(g){return map$3(g,function(n){var r=n.getRawData(),$=[n.name],L=[];return r.each(r.dimensions,function(){for(var V=arguments.length,oe=arguments[V-1],ae=r.getName(oe),re=0;re<V-1;re++)L[re]=arguments[re];$.push((ae?ae+ITEM_SPLITER$1:"")+L.join(ITEM_SPLITER$1))}),$.join(`
`)}).join(`

`+BLOCK_SPLITER$1+`

`)}function getContentFromModel$1(g){var n=groupSeries$1(g);return{value:filter$1([assembleSeriesWithCategoryAxis$1(n.seriesGroupByCategoryAxis),assembleOtherSeries$1(n.other)],function(r){return!!r.replace(/[\n\t\s]/g,"")}).join(`

`+BLOCK_SPLITER$1+`

`),meta:n.meta}}function trim$4(g){return g.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat$1(g){var n=g.slice(0,g.indexOf(`
`));if(n.indexOf(ITEM_SPLITER$1)>=0)return!0}var itemSplitRegex$1=new RegExp("["+ITEM_SPLITER$1+"]+","g");function parseTSVContents$1(g){for(var n=g.split(/\n+/g),r=trim$4(n.shift()).split(itemSplitRegex$1),$=[],L=map$3(r,function(re){return{name:re,data:[]}}),V=0;V<n.length;V++){var oe=trim$4(n[V]).split(itemSplitRegex$1);$.push(oe.shift());for(var ae=0;ae<oe.length;ae++)L[ae]&&(L[ae].data[V]=oe[ae])}return{series:L,categories:$}}function parseListContents$1(g){for(var n=g.split(/\n+/g),r=trim$4(n.shift()),$=[],L=0;L<n.length;L++){var V=trim$4(n[L]);if(V){var oe=V.split(itemSplitRegex$1),ae="",re=void 0,le=!1;isNaN(oe[0])?(le=!0,ae=oe[0],oe=oe.slice(1),$[L]={name:ae,value:[]},re=$[L].value):re=$[L]=[];for(var ue=0;ue<oe.length;ue++)re.push(+oe[ue]);re.length===1&&(le?$[L].value=re[0]:$[L]=re[0])}}return{name:r,data:$}}function parseContents$1(g,n){var r=g.split(new RegExp(`
*`+BLOCK_SPLITER$1+`
*`,"g")),$={series:[]};return each$v(r,function(L,V){if(isTSVFormat$1(L)){var oe=parseTSVContents$1(L),ae=n[V],re=ae.axisDim+"Axis";ae&&($[re]=$[re]||[],$[re][ae.axisIndex]={data:oe.categories},$.series=$.series.concat(oe.series))}else{var oe=parseListContents$1(L);$.series.push(oe)}}),$}var DataView$2=function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.onclick=function(r,$){setTimeout(function(){$.dispatchAction({type:"hideTip"})});var L=$.getDom(),V=this.model;this._dom&&L.removeChild(this._dom);var oe=document.createElement("div");oe.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",oe.style.backgroundColor=V.get("backgroundColor")||"#fff";var ae=document.createElement("h4"),re=V.get("lang")||[];ae.innerHTML=re[0]||V.get("title"),ae.style.cssText="margin:10px 20px",ae.style.color=V.get("textColor");var le=document.createElement("div"),ue=document.createElement("textarea");le.style.cssText="overflow:auto";var de=V.get("optionToContent"),he=V.get("contentToOption"),pe=getContentFromModel$1(r);if(isFunction$3(de)){var _e=de($.getOption());isString$3(_e)?le.innerHTML=_e:isDom$1(_e)&&le.appendChild(_e)}else{ue.readOnly=V.get("readOnly");var $e=ue.style;$e.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",$e.color=V.get("textColor"),$e.borderColor=V.get("textareaBorderColor"),$e.backgroundColor=V.get("textareaColor"),ue.value=pe.value,le.appendChild(ue)}var xe=pe.meta,Oe=document.createElement("div");Oe.style.cssText="position:absolute;bottom:5px;left:0;right:0";var Ce="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",Ie=document.createElement("div"),Ne=document.createElement("div");Ce+=";background-color:"+V.get("buttonColor"),Ce+=";color:"+V.get("buttonTextColor");var ze=this;function Fe(){L.removeChild(oe),ze._dom=null}addEventListener$1(Ie,"click",Fe),addEventListener$1(Ne,"click",function(){if(he==null&&de!=null||he!=null&&de==null){Fe();return}var Ue;try{isFunction$3(he)?Ue=he(le,$.getOption()):Ue=parseContents$1(ue.value,xe)}catch(At){throw Fe(),new Error("Data view format error "+At)}Ue&&$.dispatchAction({type:"changeDataView",newOption:Ue}),Fe()}),Ie.innerHTML=re[1],Ne.innerHTML=re[2],Ne.style.cssText=Ie.style.cssText=Ce,!V.get("readOnly")&&Oe.appendChild(Ne),Oe.appendChild(Ie),oe.appendChild(ae),oe.appendChild(le),oe.appendChild(Oe),le.style.height=L.clientHeight-80+"px",L.appendChild(oe),this._dom=oe},n.prototype.remove=function(r,$){this._dom&&$.getDom().removeChild(this._dom)},n.prototype.dispose=function(r,$){this.remove(r,$)},n.getDefaultOption=function(r){var $={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.getLocaleModel().get(["toolbox","dataView","title"]),lang:r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return $},n}(ToolboxFeature$1);function tryMergeDataOption$1(g,n){return map$3(g,function(r,$){var L=n&&n[$];if(isObject$9(L)&&!isArray$6(L)){var V=isObject$9(r)&&!isArray$6(r);V||(r={value:r});var oe=L.name!=null&&r.name==null;return r=defaults$7(r,L),oe&&delete r.name,r}else return r})}registerAction$1({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(g,n){var r=[];each$v(g.newOption.series,function($){var L=n.getSeriesByName($.name)[0];if(!L)r.push(extend$4({type:"scatter"},$));else{var V=L.get("data");r.push({name:$.name,data:tryMergeDataOption$1($.data,V)})}}),n.mergeOption(defaults$7({series:r},g.newOption))});const DataView$3=DataView$2;var each$m=each$v,inner$s=makeInner$1();function push$1(g,n){var r=getStoreSnapshots$1(g);each$m(n,function($,L){for(var V=r.length-1;V>=0;V--){var oe=r[V];if(oe[L])break}if(V<0){var ae=g.queryComponents({mainType:"dataZoom",subType:"select",id:L})[0];if(ae){var re=ae.getPercentRange();r[0][L]={dataZoomId:L,start:re[0],end:re[1]}}}}),r.push(n)}function pop$1(g){var n=getStoreSnapshots$1(g),r=n[n.length-1];n.length>1&&n.pop();var $={};return each$m(r,function(L,V){for(var oe=n.length-1;oe>=0;oe--)if(L=n[oe][V],L){$[V]=L;break}}),$}function clear$2(g){inner$s(g).snapshots=null}function count$1(g){return getStoreSnapshots$1(g).length}function getStoreSnapshots$1(g){var n=inner$s(g);return n.snapshots||(n.snapshots=[{}]),n.snapshots}var RestoreOption$1=function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.onclick=function(r,$){clear$2(r),$.dispatchAction({type:"restore",from:this.uid})},n.getDefaultOption=function(r){var $={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.getLocaleModel().get(["toolbox","restore","title"])};return $},n}(ToolboxFeature$1);registerAction$1({type:"restore",event:"restore",update:"prepareAndUpdate"},function(g,n){n.resetOption("recreate")});const Restore$1=RestoreOption$1;var INCLUDE_FINDER_MAIN_TYPES$1=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager$2=function(){function g(n,r,$){var L=this;this._targetInfoList=[];var V=parseFinder$2(r,n);each$v(targetInfoBuilders$1,function(oe,ae){(!$||!$.include||indexOf$1($.include,ae)>=0)&&oe(V,L._targetInfoList)})}return g.prototype.setOutputRanges=function(n,r){return this.matchOutputRanges(n,r,function($,L,V){if(($.coordRanges||($.coordRanges=[])).push(L),!$.coordRange){$.coordRange=L;var oe=coordConvert$1[$.brushType](0,V,L);$.__rangeOffset={offset:diffProcessor$1[$.brushType](oe.values,$.range,[1,1]),xyMinMax:oe.xyMinMax}}}),n},g.prototype.matchOutputRanges=function(n,r,$){each$v(n,function(L){var V=this.findTargetInfo(L,r);V&&V!==!0&&each$v(V.coordSyses,function(oe){var ae=coordConvert$1[L.brushType](1,oe,L.range,!0);$(L,ae.values,oe,r)})},this)},g.prototype.setInputRanges=function(n,r){each$v(n,function($){var L=this.findTargetInfo($,r);if($.range=$.range||[],L&&L!==!0){$.panelId=L.panelId;var V=coordConvert$1[$.brushType](0,L.coordSys,$.coordRange),oe=$.__rangeOffset;$.range=oe?diffProcessor$1[$.brushType](V.values,oe.offset,getScales$1(V.xyMinMax,oe.xyMinMax)):V.values}},this)},g.prototype.makePanelOpts=function(n,r){return map$3(this._targetInfoList,function($){var L=$.getPanelRect();return{panelId:$.panelId,defaultBrushType:r?r($):null,clipPath:makeRectPanelClipPath$1(L),isTargetByCursor:makeRectIsTargetByCursor$1(L,n,$.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent$1(L)}})},g.prototype.controlSeries=function(n,r,$){var L=this.findTargetInfo(n,$);return L===!0||L&&indexOf$1(L.coordSyses,r.coordinateSystem)>=0},g.prototype.findTargetInfo=function(n,r){for(var $=this._targetInfoList,L=parseFinder$2(r,n),V=0;V<$.length;V++){var oe=$[V],ae=n.panelId;if(ae){if(oe.panelId===ae)return oe}else for(var re=0;re<targetInfoMatchers$1.length;re++)if(targetInfoMatchers$1[re](L,oe))return oe}return!0},g}();function formatMinMax$1(g){return g[0]>g[1]&&g.reverse(),g}function parseFinder$2(g,n){return parseFinder$3(g,n,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES$1})}var targetInfoBuilders$1={grid:function(g,n){var r=g.xAxisModels,$=g.yAxisModels,L=g.gridModels,V=createHashMap$1(),oe={},ae={};!r&&!$&&!L||(each$v(r,function(re){var le=re.axis.grid.model;V.set(le.id,le),oe[le.id]=!0}),each$v($,function(re){var le=re.axis.grid.model;V.set(le.id,le),ae[le.id]=!0}),each$v(L,function(re){V.set(re.id,re),oe[re.id]=!0,ae[re.id]=!0}),V.each(function(re){var le=re.coordinateSystem,ue=[];each$v(le.getCartesians(),function(de,he){(indexOf$1(r,de.getAxis("x").model)>=0||indexOf$1($,de.getAxis("y").model)>=0)&&ue.push(de)}),n.push({panelId:"grid--"+re.id,gridModel:re,coordSysModel:re,coordSys:ue[0],coordSyses:ue,getPanelRect:panelRectBuilders$1.grid,xAxisDeclared:oe[re.id],yAxisDeclared:ae[re.id]})}))},geo:function(g,n){each$v(g.geoModels,function(r){var $=r.coordinateSystem;n.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:$,coordSyses:[$],getPanelRect:panelRectBuilders$1.geo})})}},targetInfoMatchers$1=[function(g,n){var r=g.xAxisModel,$=g.yAxisModel,L=g.gridModel;return!L&&r&&(L=r.axis.grid.model),!L&&$&&(L=$.axis.grid.model),L&&L===n.gridModel},function(g,n){var r=g.geoModel;return r&&r===n.geoModel}],panelRectBuilders$1={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var g=this.coordSys,n=g.getBoundingRect().clone();return n.applyTransform(getTransform$3(g)),n}},coordConvert$1={lineX:curry$3(axisConvert$1,0),lineY:curry$3(axisConvert$1,1),rect:function(g,n,r,$){var L=g?n.pointToData([r[0][0],r[1][0]],$):n.dataToPoint([r[0][0],r[1][0]],$),V=g?n.pointToData([r[0][1],r[1][1]],$):n.dataToPoint([r[0][1],r[1][1]],$),oe=[formatMinMax$1([L[0],V[0]]),formatMinMax$1([L[1],V[1]])];return{values:oe,xyMinMax:oe}},polygon:function(g,n,r,$){var L=[[1/0,-1/0],[1/0,-1/0]],V=map$3(r,function(oe){var ae=g?n.pointToData(oe,$):n.dataToPoint(oe,$);return L[0][0]=Math.min(L[0][0],ae[0]),L[1][0]=Math.min(L[1][0],ae[1]),L[0][1]=Math.max(L[0][1],ae[0]),L[1][1]=Math.max(L[1][1],ae[1]),ae});return{values:V,xyMinMax:L}}};function axisConvert$1(g,n,r,$){var L=r.getAxis(["x","y"][g]),V=formatMinMax$1(map$3([0,1],function(ae){return n?L.coordToData(L.toLocalCoord($[ae]),!0):L.toGlobalCoord(L.dataToCoord($[ae]))})),oe=[];return oe[g]=V,oe[1-g]=[NaN,NaN],{values:V,xyMinMax:oe}}var diffProcessor$1={lineX:curry$3(axisDiffProcessor$1,0),lineY:curry$3(axisDiffProcessor$1,1),rect:function(g,n,r){return[[g[0][0]-r[0]*n[0][0],g[0][1]-r[0]*n[0][1]],[g[1][0]-r[1]*n[1][0],g[1][1]-r[1]*n[1][1]]]},polygon:function(g,n,r){return map$3(g,function($,L){return[$[0]-r[0]*n[L][0],$[1]-r[1]*n[L][1]]})}};function axisDiffProcessor$1(g,n,r,$){return[n[0]-$[g]*r[0],n[1]-$[g]*r[1]]}function getScales$1(g,n){var r=getSize$2(g),$=getSize$2(n),L=[r[0]/$[0],r[1]/$[1]];return isNaN(L[0])&&(L[0]=1),isNaN(L[1])&&(L[1]=1),L}function getSize$2(g){return g?[g[0][1]-g[0][0],g[1][1]-g[1][0]]:[NaN,NaN]}const BrushTargetManager$3=BrushTargetManager$2;var each$l=each$v,DATA_ZOOM_ID_BASE$1=makeInternalComponentId$1("toolbox-dataZoom_"),DataZoomFeature$1=function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.render=function(r,$,L,V){this._brushController||(this._brushController=new BrushController$3(L.getZr()),this._brushController.on("brush",bind$5(this._onBrush,this)).mount()),updateZoomBtnStatus$1(r,$,this,V,L),updateBackBtnStatus$1(r,$)},n.prototype.onclick=function(r,$,L){handlers$3[L].call(this)},n.prototype.remove=function(r,$){this._brushController&&this._brushController.unmount()},n.prototype.dispose=function(r,$){this._brushController&&this._brushController.dispose()},n.prototype._onBrush=function(r){var $=r.areas;if(!r.isEnd||!$.length)return;var L={},V=this.ecModel;this._brushController.updateCovers([]);var oe=new BrushTargetManager$3(makeAxisFinder$1(this.model),V,{include:["grid"]});oe.matchOutputRanges($,V,function(le,ue,de){if(de.type==="cartesian2d"){var he=le.brushType;he==="rect"?(ae("x",de,ue[0]),ae("y",de,ue[1])):ae({lineX:"x",lineY:"y"}[he],de,ue)}}),push$1(V,L),this._dispatchZoomAction(L);function ae(le,ue,de){var he=ue.getAxis(le),pe=he.model,_e=re(le,pe,V),$e=_e.findRepresentativeAxisProxy(pe).getMinMaxSpan();($e.minValueSpan!=null||$e.maxValueSpan!=null)&&(de=sliderMove$1(0,de.slice(),he.scale.getExtent(),0,$e.minValueSpan,$e.maxValueSpan)),_e&&(L[_e.id]={dataZoomId:_e.id,startValue:de[0],endValue:de[1]})}function re(le,ue,de){var he;return de.eachComponent({mainType:"dataZoom",subType:"select"},function(pe){var _e=pe.getAxisModel(le,ue.componentIndex);_e&&(he=pe)}),he}},n.prototype._dispatchZoomAction=function(r){var $=[];each$l(r,function(L,V){$.push(clone$9(L))}),$.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:$})},n.getDefaultOption=function(r){var $={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return $},n}(ToolboxFeature$1),handlers$3={zoom:function(){var g=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:g})},back:function(){this._dispatchZoomAction(pop$1(this.ecModel))}};function makeAxisFinder$1(g){var n={xAxisIndex:g.get("xAxisIndex",!0),yAxisIndex:g.get("yAxisIndex",!0),xAxisId:g.get("xAxisId",!0),yAxisId:g.get("yAxisId",!0)};return n.xAxisIndex==null&&n.xAxisId==null&&(n.xAxisIndex="all"),n.yAxisIndex==null&&n.yAxisId==null&&(n.yAxisIndex="all"),n}function updateBackBtnStatus$1(g,n){g.setIconStatus("back",count$1(n)>1?"emphasis":"normal")}function updateZoomBtnStatus$1(g,n,r,$,L){var V=r._isZoomActive;$&&$.type==="takeGlobalCursor"&&(V=$.key==="dataZoomSelect"?$.dataZoomSelectActive:!1),r._isZoomActive=V,g.setIconStatus("zoom",V?"emphasis":"normal");var oe=new BrushTargetManager$3(makeAxisFinder$1(g),n,{include:["grid"]}),ae=oe.makePanelOpts(L,function(re){return re.xAxisDeclared&&!re.yAxisDeclared?"lineX":!re.xAxisDeclared&&re.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(ae).enableBrush(V&&ae.length?{brushType:"auto",brushStyle:g.getModel("brushStyle").getItemStyle()}:!1)}registerInternalOptionCreator$1("dataZoom",function(g){var n=g.getComponent("toolbox",0),r=["feature","dataZoom"];if(!n||n.get(r)==null)return;var $=n.getModel(r),L=[],V=makeAxisFinder$1($),oe=parseFinder$3(g,V);each$l(oe.xAxisModels,function(re){return ae(re,"xAxis","xAxisIndex")}),each$l(oe.yAxisModels,function(re){return ae(re,"yAxis","yAxisIndex")});function ae(re,le,ue){var de=re.componentIndex,he={type:"select",$fromToolbox:!0,filterMode:$.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE$1+le+de};he[ue]=de,L.push(he)}return L});const DataZoom$1=DataZoomFeature$1;function install$1c(g){g.registerComponentModel(ToolboxModel$3),g.registerComponentView(ToolboxView$3),registerFeature$1("saveAsImage",SaveAsImage$3),registerFeature$1("magicType",MagicType$3),registerFeature$1("dataView",DataView$3),registerFeature$1("dataZoom",DataZoom$1),registerFeature$1("restore",Restore$1),use$1(install$1d)}var TooltipModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="tooltip",n.dependencies=["axisPointer"],n.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},n}(ComponentModel$3);const TooltipModel$3=TooltipModel$2;function shouldTooltipConfine$1(g){var n=g.get("confine");return n!=null?!!n:g.get("renderMode")==="richText"}function testStyle$1(g){if(env$3.domSupported){for(var n=document.documentElement.style,r=0,$=g.length;r<$;r++)if(g[r]in n)return g[r]}}var TRANSFORM_VENDOR$1=testStyle$1(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR$1=testStyle$1(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix$1(g,n){if(!g)return n;n=toCamelCase$3(n,!0);var r=g.indexOf(n);return g=r===-1?n:"-"+g.slice(0,r)+"-"+n,g.toLowerCase()}function getComputedStyle$2(g,n){var r=g.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(g);return r?n?r[n]:r:null}var CSS_TRANSITION_VENDOR$1=toCSSVendorPrefix$1(TRANSITION_VENDOR$1,"transition"),CSS_TRANSFORM_VENDOR$1=toCSSVendorPrefix$1(TRANSFORM_VENDOR$1,"transform"),gCssText$1="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env$3.transform3dSupported?"will-change:transform;":"");function mirrorPos$1(g){return g=g==="left"?"right":g==="right"?"left":g==="top"?"bottom":"top",g}function assembleArrow$1(g,n,r){if(!isString$3(r)||r==="inside")return"";var $=g.get("backgroundColor"),L=g.get("borderWidth");n=convertToColorString$1(n);var V=mirrorPos$1(r),oe=Math.max(Math.round(L)*1.5,6),ae="",re=CSS_TRANSFORM_VENDOR$1+":",le;indexOf$1(["left","right"],V)>-1?(ae+="top:50%",re+="translateY(-50%) rotate("+(le=V==="left"?-225:-45)+"deg)"):(ae+="left:50%",re+="translateX(-50%) rotate("+(le=V==="top"?225:45)+"deg)");var ue=le*Math.PI/180,de=oe+L,he=de*Math.abs(Math.cos(ue))+de*Math.abs(Math.sin(ue)),pe=Math.round(((he-Math.SQRT2*L)/2+Math.SQRT2*L-(he-de)/2)*100)/100;ae+=";"+V+":-"+pe+"px";var _e=n+" solid "+L+"px;",$e=["position:absolute;width:"+oe+"px;height:"+oe+"px;z-index:-1;",ae+";"+re+";","border-bottom:"+_e,"border-right:"+_e,"background-color:"+$+";"];return'<div style="'+$e.join("")+'"></div>'}function assembleTransition$1(g,n){var r="cubic-bezier(0.23,1,0.32,1)",$=" "+g/2+"s "+r,L="opacity"+$+",visibility"+$;return n||($=" "+g+"s "+r,L+=env$3.transformSupported?","+CSS_TRANSFORM_VENDOR$1+$:",left"+$+",top"+$),CSS_TRANSITION_VENDOR$1+":"+L}function assembleTransform$1(g,n,r){var $=g.toFixed(0)+"px",L=n.toFixed(0)+"px";if(!env$3.transformSupported)return r?"top:"+L+";left:"+$+";":[["top",L],["left",$]];var V=env$3.transform3dSupported,oe="translate"+(V?"3d":"")+"("+$+","+L+(V?",0":"")+")";return r?"top:0;left:0;"+CSS_TRANSFORM_VENDOR$1+":"+oe+";":[["top",0],["left",0],[TRANSFORM_VENDOR$1,oe]]}function assembleFont$1(g){var n=[],r=g.get("fontSize"),$=g.getTextColor();$&&n.push("color:"+$),n.push("font:"+g.getFont()),r&&n.push("line-height:"+Math.round(r*3/2)+"px");var L=g.get("textShadowColor"),V=g.get("textShadowBlur")||0,oe=g.get("textShadowOffsetX")||0,ae=g.get("textShadowOffsetY")||0;return L&&V&&n.push("text-shadow:"+oe+"px "+ae+"px "+V+"px "+L),each$v(["decoration","align"],function(re){var le=g.get(re);le&&n.push("text-"+re+":"+le)}),n.join(";")}function assembleCssText$1(g,n,r){var $=[],L=g.get("transitionDuration"),V=g.get("backgroundColor"),oe=g.get("shadowBlur"),ae=g.get("shadowColor"),re=g.get("shadowOffsetX"),le=g.get("shadowOffsetY"),ue=g.getModel("textStyle"),de=getPaddingFromTooltipModel$1(g,"html"),he=re+"px "+le+"px "+oe+"px "+ae;return $.push("box-shadow:"+he),n&&L&&$.push(assembleTransition$1(L,r)),V&&$.push("background-color:"+V),each$v(["width","color","radius"],function(pe){var _e="border-"+pe,$e=toCamelCase$3(_e),xe=g.get($e);xe!=null&&$.push(_e+":"+xe+(pe==="color"?"":"px"))}),$.push(assembleFont$1(ue)),de!=null&&$.push("padding:"+normalizeCssArray$2(de).join("px ")+"px"),$.join(";")+";"}function makeStyleCoord$3(g,n,r,$,L){var V=n&&n.painter;if(r){var oe=V&&V.getViewportRoot();oe&&transformLocalCoord$1(g,oe,document.body,$,L)}else{g[0]=$,g[1]=L;var ae=V&&V.getViewportRootOffset();ae&&(g[0]+=ae.offsetLeft,g[1]+=ae.offsetTop)}g[2]=g[0]/n.getWidth(),g[3]=g[1]/n.getHeight()}var TooltipHTMLContent$2=function(){function g(n,r,$){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,env$3.wxa)return null;var L=document.createElement("div");L.domBelongToZr=!0,this.el=L;var V=this._zr=r.getZr(),oe=this._appendToBody=$&&$.appendToBody;makeStyleCoord$3(this._styleCoord,V,oe,r.getWidth()/2,r.getHeight()/2),oe?document.body.appendChild(L):n.appendChild(L),this._container=n;var ae=this;L.onmouseenter=function(){ae._enterable&&(clearTimeout(ae._hideTimeout),ae._show=!0),ae._inContent=!0},L.onmousemove=function(re){if(re=re||window.event,!ae._enterable){var le=V.handler,ue=V.painter.getViewportRoot();normalizeEvent$1(ue,re,!0),le.dispatch("mousemove",re)}},L.onmouseleave=function(){ae._inContent=!1,ae._enterable&&ae._show&&ae.hideLater(ae._hideDelay)}}return g.prototype.update=function(n){var r=this._container,$=getComputedStyle$2(r,"position"),L=r.style;L.position!=="absolute"&&$!=="absolute"&&(L.position="relative");var V=n.get("alwaysShowContent");V&&this._moveIfResized(),this.el.className=n.get("className")||""},g.prototype.show=function(n,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var $=this.el,L=$.style,V=this._styleCoord;$.innerHTML?L.cssText=gCssText$1+assembleCssText$1(n,!this._firstShow,this._longHide)+assembleTransform$1(V[0],V[1],!0)+("border-color:"+convertToColorString$1(r)+";")+(n.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):L.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},g.prototype.setContent=function(n,r,$,L,V){var oe=this.el;if(n==null){oe.innerHTML="";return}var ae="";if(isString$3(V)&&$.get("trigger")==="item"&&!shouldTooltipConfine$1($)&&(ae=assembleArrow$1($,L,V)),isString$3(n))oe.innerHTML=n+ae;else if(n){oe.innerHTML="",isArray$6(n)||(n=[n]);for(var re=0;re<n.length;re++)isDom$1(n[re])&&n[re].parentNode!==oe&&oe.appendChild(n[re]);if(ae&&oe.childNodes.length){var le=document.createElement("div");le.innerHTML=ae,oe.appendChild(le)}}},g.prototype.setEnterable=function(n){this._enterable=n},g.prototype.getSize=function(){var n=this.el;return[n.offsetWidth,n.offsetHeight]},g.prototype.moveTo=function(n,r){var $=this._styleCoord;if(makeStyleCoord$3($,this._zr,this._appendToBody,n,r),$[0]!=null&&$[1]!=null){var L=this.el.style,V=assembleTransform$1($[0],$[1]);each$v(V,function(oe){L[oe[0]]=oe[1]})}},g.prototype._moveIfResized=function(){var n=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),r*this._zr.getHeight())},g.prototype.hide=function(){var n=this,r=this.el.style;r.visibility="hidden",r.opacity="0",env$3.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return n._longHide=!0},500)},g.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$5(this.hide,this),n)):this.hide())},g.prototype.isShow=function(){return this._show},g.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},g}();const TooltipHTMLContent$3=TooltipHTMLContent$2;var TooltipRichContent$2=function(){function g(n){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=n.getZr(),makeStyleCoord$2(this._styleCoord,this._zr,n.getWidth()/2,n.getHeight()/2)}return g.prototype.update=function(n){var r=n.get("alwaysShowContent");r&&this._moveIfResized()},g.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},g.prototype.setContent=function(n,r,$,L,V){var oe=this;isObject$9(n)&&throwError$1(""),this.el&&this._zr.remove(this.el);var ae=$.getModel("textStyle");this.el=new ZRText$3({style:{rich:r.richTextStyles,text:n,lineHeight:22,borderWidth:1,borderColor:L,textShadowColor:ae.get("textShadowColor"),fill:$.get(["textStyle","color"]),padding:getPaddingFromTooltipModel$1($,"richText"),verticalAlign:"top",align:"left"},z:$.get("z")}),each$v(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(le){oe.el.style[le]=$.get(le)}),each$v(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(le){oe.el.style[le]=ae.get(le)||0}),this._zr.add(this.el);var re=this;this.el.on("mouseover",function(){re._enterable&&(clearTimeout(re._hideTimeout),re._show=!0),re._inContent=!0}),this.el.on("mouseout",function(){re._enterable&&re._show&&re.hideLater(re._hideDelay),re._inContent=!1})},g.prototype.setEnterable=function(n){this._enterable=n},g.prototype.getSize=function(){var n=this.el,r=this.el.getBoundingRect(),$=calcShadowOuterSize$1(n.style);return[r.width+$.left+$.right,r.height+$.top+$.bottom]},g.prototype.moveTo=function(n,r){var $=this.el;if($){var L=this._styleCoord;makeStyleCoord$2(L,this._zr,n,r),n=L[0],r=L[1];var V=$.style,oe=mathMaxWith0$1(V.borderWidth||0),ae=calcShadowOuterSize$1(V);$.x=n+oe+ae.left,$.y=r+oe+ae.top,$.markRedraw()}},g.prototype._moveIfResized=function(){var n=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),r*this._zr.getHeight())},g.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},g.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$5(this.hide,this),n)):this.hide())},g.prototype.isShow=function(){return this._show},g.prototype.dispose=function(){this._zr.remove(this.el)},g}();function mathMaxWith0$1(g){return Math.max(0,g)}function calcShadowOuterSize$1(g){var n=mathMaxWith0$1(g.shadowBlur||0),r=mathMaxWith0$1(g.shadowOffsetX||0),$=mathMaxWith0$1(g.shadowOffsetY||0);return{left:mathMaxWith0$1(n-r),right:mathMaxWith0$1(n+r),top:mathMaxWith0$1(n-$),bottom:mathMaxWith0$1(n+$)}}function makeStyleCoord$2(g,n,r,$){g[0]=r,g[1]=$,g[2]=g[0]/n.getWidth(),g[3]=g[1]/n.getHeight()}const TooltipRichContent$3=TooltipRichContent$2;var proxyRect$1=new Rect$7({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$){if(!(env$3.node||!$.getDom())){var L=r.getComponent("tooltip"),V=this._renderMode=getTooltipRenderMode$1(L.get("renderMode"));this._tooltipContent=V==="richText"?new TooltipRichContent$3($):new TooltipHTMLContent$3($.getDom(),$,{appendToBody:L.get("appendToBody",!0)})}},n.prototype.render=function(r,$,L){if(!(env$3.node||!L.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=$,this._api=L,this._alwaysShowContent=r.get("alwaysShowContent");var V=this._tooltipContent;V.update(r),V.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?createOrUpdate$1(this,"_updatePosition",50,"fixRate"):clear$3(this,"_updatePosition")}},n.prototype._initGlobalListener=function(){var r=this._tooltipModel,$=r.get("triggerOn");register$1("itemTooltip",this._api,bind$5(function(L,V,oe){$!=="none"&&($.indexOf(L)>=0?this._tryShow(V,oe):L==="leave"&&this._hide(oe))},this))},n.prototype._keepShow=function(){var r=this._tooltipModel,$=this._ecModel,L=this._api,V=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&V!=="none"&&V!=="click"){var oe=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!L.isDisposed()&&oe.manuallyShowTip(r,$,L,{x:oe._lastX,y:oe._lastY,dataByCoordSys:oe._lastDataByCoordSys})})}},n.prototype.manuallyShowTip=function(r,$,L,V){if(!(V.from===this.uid||env$3.node||!L.getDom())){var oe=makeDispatchAction$2(V,L);this._ticket="";var ae=V.dataByCoordSys,re=findComponentReference$1(V,$,L);if(re){var le=re.el.getBoundingRect().clone();le.applyTransform(re.el.transform),this._tryShow({offsetX:le.x+le.width/2,offsetY:le.y+le.height/2,target:re.el,position:V.position,positionDefault:"bottom"},oe)}else if(V.tooltip&&V.x!=null&&V.y!=null){var ue=proxyRect$1;ue.x=V.x,ue.y=V.y,ue.update(),getECData$1(ue).tooltipConfig={name:null,option:V.tooltip},this._tryShow({offsetX:V.x,offsetY:V.y,target:ue},oe)}else if(ae)this._tryShow({offsetX:V.x,offsetY:V.y,position:V.position,dataByCoordSys:ae,tooltipOption:V.tooltipOption},oe);else if(V.seriesIndex!=null){if(this._manuallyAxisShowTip(r,$,L,V))return;var de=findPointFromSeries$1(V,$),he=de.point[0],pe=de.point[1];he!=null&&pe!=null&&this._tryShow({offsetX:he,offsetY:pe,target:de.el,position:V.position,positionDefault:"bottom"},oe)}else V.x!=null&&V.y!=null&&(L.dispatchAction({type:"updateAxisPointer",x:V.x,y:V.y}),this._tryShow({offsetX:V.x,offsetY:V.y,position:V.position,target:L.getZr().findHover(V.x,V.y).target},oe))}},n.prototype.manuallyHideTip=function(r,$,L,V){var oe=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&oe.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,V.from!==this.uid&&this._hide(makeDispatchAction$2(V,L))},n.prototype._manuallyAxisShowTip=function(r,$,L,V){var oe=V.seriesIndex,ae=V.dataIndex,re=$.getComponent("axisPointer").coordSysAxesInfo;if(!(oe==null||ae==null||re==null)){var le=$.getSeriesByIndex(oe);if(le){var ue=le.getData(),de=buildTooltipModel$1([ue.getItemModel(ae),le,(le.coordinateSystem||{}).model],this._tooltipModel);if(de.get("trigger")==="axis")return L.dispatchAction({type:"updateAxisPointer",seriesIndex:oe,dataIndex:ae,position:V.position}),!0}}},n.prototype._tryShow=function(r,$){var L=r.target,V=this._tooltipModel;if(V){this._lastX=r.offsetX,this._lastY=r.offsetY;var oe=r.dataByCoordSys;if(oe&&oe.length)this._showAxisTooltip(oe,r);else if(L){this._lastDataByCoordSys=null;var ae,re;findEventDispatcher$1(L,function(le){if(getECData$1(le).dataIndex!=null)return ae=le,!0;if(getECData$1(le).tooltipConfig!=null)return re=le,!0},!0),ae?this._showSeriesItemTooltip(r,ae,$):re?this._showComponentItemTooltip(r,re,$):this._hide($)}else this._lastDataByCoordSys=null,this._hide($)}},n.prototype._showOrMove=function(r,$){var L=r.get("showDelay");$=bind$5($,this),clearTimeout(this._showTimout),L>0?this._showTimout=setTimeout($,L):$()},n.prototype._showAxisTooltip=function(r,$){var L=this._ecModel,V=this._tooltipModel,oe=[$.offsetX,$.offsetY],ae=buildTooltipModel$1([$.tooltipOption],V),re=this._renderMode,le=[],ue=createTooltipMarkup$1("section",{blocks:[],noHeader:!0}),de=[],he=new TooltipMarkupStyleCreator$1;each$v(r,function(Ce){each$v(Ce.dataByAxis,function(Ie){var Ne=L.getComponent(Ie.axisDim+"Axis",Ie.axisIndex),ze=Ie.value;if(!(!Ne||ze==null)){var Fe=getValueLabel$1(ze,Ne.axis,L,Ie.seriesDataIndices,Ie.valueLabelOpt),Ue=createTooltipMarkup$1("section",{header:Fe,noHeader:!trim$5(Fe),sortBlocks:!0,blocks:[]});ue.blocks.push(Ue),each$v(Ie.seriesDataIndices,function(At){var Et=L.getSeriesByIndex(At.seriesIndex),Pt=At.dataIndexInside,kt=Et.getDataParams(Pt);if(!(kt.dataIndex<0)){kt.axisDim=Ie.axisDim,kt.axisIndex=Ie.axisIndex,kt.axisType=Ie.axisType,kt.axisId=Ie.axisId,kt.axisValue=getAxisRawValue$1(Ne.axis,{value:ze}),kt.axisValueLabel=Fe,kt.marker=he.makeTooltipMarker("item",convertToColorString$1(kt.color),re);var Dt=normalizeTooltipFormatResult$1(Et.formatTooltip(Pt,!0,null)),Lt=Dt.frag;if(Lt){var hn=buildTooltipModel$1([Et],V).get("valueFormatter");Ue.blocks.push(hn?extend$4({valueFormatter:hn},Lt):Lt)}Dt.text&&de.push(Dt.text),le.push(kt)}})}})}),ue.blocks.reverse(),de.reverse();var pe=$.position,_e=ae.get("order"),$e=buildTooltipMarkup$1(ue,he,re,_e,L.get("useUTC"),ae.get("textStyle"));$e&&de.unshift($e);var xe=re==="richText"?`

`:"<br/>",Oe=de.join(xe);this._showOrMove(ae,function(){this._updateContentNotChangedOnAxis(r,le)?this._updatePosition(ae,pe,oe[0],oe[1],this._tooltipContent,le):this._showTooltipContent(ae,Oe,le,Math.random()+"",oe[0],oe[1],pe,null,he)})},n.prototype._showSeriesItemTooltip=function(r,$,L){var V=this._ecModel,oe=getECData$1($),ae=oe.seriesIndex,re=V.getSeriesByIndex(ae),le=oe.dataModel||re,ue=oe.dataIndex,de=oe.dataType,he=le.getData(de),pe=this._renderMode,_e=r.positionDefault,$e=buildTooltipModel$1([he.getItemModel(ue),le,re&&(re.coordinateSystem||{}).model],this._tooltipModel,_e?{position:_e}:null),xe=$e.get("trigger");if(!(xe!=null&&xe!=="item")){var Oe=le.getDataParams(ue,de),Ce=new TooltipMarkupStyleCreator$1;Oe.marker=Ce.makeTooltipMarker("item",convertToColorString$1(Oe.color),pe);var Ie=normalizeTooltipFormatResult$1(le.formatTooltip(ue,!1,de)),Ne=$e.get("order"),ze=$e.get("valueFormatter"),Fe=Ie.frag,Ue=Fe?buildTooltipMarkup$1(ze?extend$4({valueFormatter:ze},Fe):Fe,Ce,pe,Ne,V.get("useUTC"),$e.get("textStyle")):Ie.text,At="item_"+le.name+"_"+ue;this._showOrMove($e,function(){this._showTooltipContent($e,Ue,Oe,At,r.offsetX,r.offsetY,r.position,r.target,Ce)}),L({type:"showTip",dataIndexInside:ue,dataIndex:he.getRawIndex(ue),seriesIndex:ae,from:this.uid})}},n.prototype._showComponentItemTooltip=function(r,$,L){var V=getECData$1($),oe=V.tooltipConfig,ae=oe.option||{};if(isString$3(ae)){var re=ae;ae={content:re,formatter:re}}var le=[ae],ue=this._ecModel.getComponent(V.componentMainType,V.componentIndex);ue&&le.push(ue),le.push({formatter:ae.content});var de=r.positionDefault,he=buildTooltipModel$1(le,this._tooltipModel,de?{position:de}:null),pe=he.get("content"),_e=Math.random()+"",$e=new TooltipMarkupStyleCreator$1;this._showOrMove(he,function(){var xe=clone$9(he.get("formatterParams")||{});this._showTooltipContent(he,pe,xe,_e,r.offsetX,r.offsetY,r.position,$,$e)}),L({type:"showTip",from:this.uid})},n.prototype._showTooltipContent=function(r,$,L,V,oe,ae,re,le,ue){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var de=this._tooltipContent;de.setEnterable(r.get("enterable"));var he=r.get("formatter");re=re||r.get("position");var pe=$,_e=this._getNearestPoint([oe,ae],L,r.get("trigger"),r.get("borderColor")),$e=_e.color;if(he)if(isString$3(he)){var xe=r.ecModel.get("useUTC"),Oe=isArray$6(L)?L[0]:L,Ce=Oe&&Oe.axisType&&Oe.axisType.indexOf("time")>=0;pe=he,Ce&&(pe=format$1(Oe.axisValue,pe,xe)),pe=formatTpl$1(pe,L,!0)}else if(isFunction$3(he)){var Ie=bind$5(function(Ne,ze){Ne===this._ticket&&(de.setContent(ze,ue,r,$e,re),this._updatePosition(r,re,oe,ae,de,L,le))},this);this._ticket=V,pe=he(L,V,Ie)}else pe=he;de.setContent(pe,ue,r,$e,re),de.show(r,$e),this._updatePosition(r,re,oe,ae,de,L,le)}},n.prototype._getNearestPoint=function(r,$,L,V){if(L==="axis"||isArray$6($))return{color:V||(this._renderMode==="html"?"#fff":"none")};if(!isArray$6($))return{color:V||$.color||$.borderColor}},n.prototype._updatePosition=function(r,$,L,V,oe,ae,re){var le=this._api.getWidth(),ue=this._api.getHeight();$=$||r.get("position");var de=oe.getSize(),he=r.get("align"),pe=r.get("verticalAlign"),_e=re&&re.getBoundingRect().clone();if(re&&_e.applyTransform(re.transform),isFunction$3($)&&($=$([L,V],ae,oe.el,_e,{viewSize:[le,ue],contentSize:de.slice()})),isArray$6($))L=parsePercent$2($[0],le),V=parsePercent$2($[1],ue);else if(isObject$9($)){var $e=$;$e.width=de[0],$e.height=de[1];var xe=getLayoutRect$1($e,{width:le,height:ue});L=xe.x,V=xe.y,he=null,pe=null}else if(isString$3($)&&re){var Oe=calcTooltipPosition$1($,_e,de,r.get("borderWidth"));L=Oe[0],V=Oe[1]}else{var Oe=refixTooltipPosition$1(L,V,oe,le,ue,he?null:20,pe?null:20);L=Oe[0],V=Oe[1]}if(he&&(L-=isCenterAlign$1(he)?de[0]/2:he==="right"?de[0]:0),pe&&(V-=isCenterAlign$1(pe)?de[1]/2:pe==="bottom"?de[1]:0),shouldTooltipConfine$1(r)){var Oe=confineTooltipPosition$1(L,V,oe,le,ue);L=Oe[0],V=Oe[1]}oe.moveTo(L,V)},n.prototype._updateContentNotChangedOnAxis=function(r,$){var L=this._lastDataByCoordSys,V=this._cbParamsList,oe=!!L&&L.length===r.length;return oe&&each$v(L,function(ae,re){var le=ae.dataByAxis||[],ue=r[re]||{},de=ue.dataByAxis||[];oe=oe&&le.length===de.length,oe&&each$v(le,function(he,pe){var _e=de[pe]||{},$e=he.seriesDataIndices||[],xe=_e.seriesDataIndices||[];oe=oe&&he.value===_e.value&&he.axisType===_e.axisType&&he.axisId===_e.axisId&&$e.length===xe.length,oe&&each$v($e,function(Oe,Ce){var Ie=xe[Ce];oe=oe&&Oe.seriesIndex===Ie.seriesIndex&&Oe.dataIndex===Ie.dataIndex}),V&&each$v(he.seriesDataIndices,function(Oe){var Ce=Oe.seriesIndex,Ie=$[Ce],Ne=V[Ce];Ie&&Ne&&Ne.data!==Ie.data&&(oe=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=$,!!oe},n.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},n.prototype.dispose=function(r,$){env$3.node||!$.getDom()||(clear$3(this,"_updatePosition"),this._tooltipContent.dispose(),unregister$1("itemTooltip",$))},n.type="tooltip",n}(ComponentView$3);function buildTooltipModel$1(g,n,r){var $=n.ecModel,L;r?(L=new Model$3(r,$,$),L=new Model$3(n.option,L,$)):L=n;for(var V=g.length-1;V>=0;V--){var oe=g[V];oe&&(oe instanceof Model$3&&(oe=oe.get("tooltip",!0)),isString$3(oe)&&(oe={formatter:oe}),oe&&(L=new Model$3(oe,L,$)))}return L}function makeDispatchAction$2(g,n){return g.dispatchAction||bind$5(n.dispatchAction,n)}function refixTooltipPosition$1(g,n,r,$,L,V,oe){var ae=r.getSize(),re=ae[0],le=ae[1];return V!=null&&(g+re+V+2>$?g-=re+V:g+=V),oe!=null&&(n+le+oe>L?n-=le+oe:n+=oe),[g,n]}function confineTooltipPosition$1(g,n,r,$,L){var V=r.getSize(),oe=V[0],ae=V[1];return g=Math.min(g+oe,$)-oe,n=Math.min(n+ae,L)-ae,g=Math.max(g,0),n=Math.max(n,0),[g,n]}function calcTooltipPosition$1(g,n,r,$){var L=r[0],V=r[1],oe=Math.ceil(Math.SQRT2*$)+8,ae=0,re=0,le=n.width,ue=n.height;switch(g){case"inside":ae=n.x+le/2-L/2,re=n.y+ue/2-V/2;break;case"top":ae=n.x+le/2-L/2,re=n.y-V-oe;break;case"bottom":ae=n.x+le/2-L/2,re=n.y+ue+oe;break;case"left":ae=n.x-L-oe,re=n.y+ue/2-V/2;break;case"right":ae=n.x+le+oe,re=n.y+ue/2-V/2}return[ae,re]}function isCenterAlign$1(g){return g==="center"||g==="middle"}function findComponentReference$1(g,n,r){var $=preParseFinder$1(g).queryOptionMap,L=$.keys()[0];if(!(!L||L==="series")){var V=queryReferringComponents$1(n,L,$.get(L),{useDefault:!1,enableAll:!1,enableNone:!1}),oe=V.models[0];if(oe){var ae=r.getViewOfComponentModel(oe),re;if(ae.group.traverse(function(le){var ue=getECData$1(le).tooltipConfig;if(ue&&ue.name===g.name)return re=le,!0}),re)return{componentMainType:L,componentIndex:oe.componentIndex,el:re}}}}const TooltipView$3=TooltipView$2;function install$1b(g){use$1(install$1j),g.registerComponentModel(TooltipModel$3),g.registerComponentView(TooltipView$3),g.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop$4),g.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop$4)}var DEFAULT_TOOLBOX_BTNS$1=["rect","polygon","keep","clear"];function brushPreprocessor$1(g,n){var r=normalizeToArray$1(g?g.brush:[]);if(r.length){var $=[];each$v(r,function(re){var le=re.hasOwnProperty("toolbox")?re.toolbox:[];le instanceof Array&&($=$.concat(le))});var L=g&&g.toolbox;isArray$6(L)&&(L=L[0]),L||(L={feature:{}},g.toolbox=[L]);var V=L.feature||(L.feature={}),oe=V.brush||(V.brush={}),ae=oe.type||(oe.type=[]);ae.push.apply(ae,$),removeDuplicate$1(ae),n&&!ae.length&&ae.push.apply(ae,DEFAULT_TOOLBOX_BTNS$1)}}function removeDuplicate$1(g){var n={};each$v(g,function(r){n[r]=1}),g.length=0,each$v(n,function(r,$){g.push($)})}var each$k=each$v;function hasKeys$1(g){if(g){for(var n in g)if(g.hasOwnProperty(n))return!0}}function createVisualMappings$1(g,n,r){var $={};return each$k(n,function(V){var oe=$[V]=L();each$k(g[V],function(ae,re){if(VisualMapping$3.isValidType(re)){var le={type:re,visual:ae};r&&r(le,V),oe[re]=new VisualMapping$3(le),re==="opacity"&&(le=clone$9(le),le.type="colorAlpha",oe.__hidden.__alphaForOpacity=new VisualMapping$3(le))}})}),$;function L(){var V=function(){};V.prototype.__hidden=V.prototype;var oe=new V;return oe}}function replaceVisualOption$1(g,n,r){var $;each$v(r,function(L){n.hasOwnProperty(L)&&hasKeys$1(n[L])&&($=!0)}),$&&each$v(r,function(L){n.hasOwnProperty(L)&&hasKeys$1(n[L])?g[L]=clone$9(n[L]):delete g[L]})}function applyVisual$1(g,n,r,$,L,V){var oe={};each$v(g,function(de){var he=VisualMapping$3.prepareVisualTypes(n[de]);oe[de]=he});var ae;function re(de){return getItemVisualFromData$1(r,ae,de)}function le(de,he){setItemVisualFromData$1(r,ae,de,he)}V==null?r.each(ue):r.each([V],ue);function ue(de,he){ae=V==null?de:he;var pe=r.getRawDataItem(ae);if(!(pe&&pe.visualMap===!1))for(var _e=$.call(L,de),$e=n[_e],xe=oe[_e],Oe=0,Ce=xe.length;Oe<Ce;Oe++){var Ie=xe[Oe];$e[Ie]&&$e[Ie].applyVisual(de,re,le)}}}function incrementalApplyVisual$1(g,n,r,$){var L={};return each$v(g,function(V){var oe=VisualMapping$3.prepareVisualTypes(n[V]);L[V]=oe}),{progress:function(V,oe){var ae;$!=null&&(ae=oe.getDimensionIndex($));function re(Ne){return getItemVisualFromData$1(oe,ue,Ne)}function le(Ne,ze){setItemVisualFromData$1(oe,ue,Ne,ze)}for(var ue,de=oe.getStore();(ue=V.next())!=null;){var he=oe.getRawDataItem(ue);if(!(he&&he.visualMap===!1))for(var pe=$!=null?de.get(ae,ue):ue,_e=r(pe),$e=n[_e],xe=L[_e],Oe=0,Ce=xe.length;Oe<Ce;Oe++){var Ie=xe[Oe];$e[Ie]&&$e[Ie].applyVisual(pe,re,le)}}}}}function makeBrushCommonSelectorForSeries$1(g){var n=g.brushType,r={point:function($){return selector$1[n].point($,r,g)},rect:function($){return selector$1[n].rect($,r,g)}};return r}var selector$1={lineX:getLineSelectors$1(0),lineY:getLineSelectors$1(1),rect:{point:function(g,n,r){return g&&r.boundingRect.contain(g[0],g[1])},rect:function(g,n,r){return g&&r.boundingRect.intersect(g)}},polygon:{point:function(g,n,r){return g&&r.boundingRect.contain(g[0],g[1])&&contain$3(r.range,g[0],g[1])},rect:function(g,n,r){var $=r.range;if(!g||$.length<=1)return!1;var L=g.x,V=g.y,oe=g.width,ae=g.height,re=$[0];if(contain$3($,L,V)||contain$3($,L+oe,V)||contain$3($,L,V+ae)||contain$3($,L+oe,V+ae)||BoundingRect$3.create(g).contain(re[0],re[1])||linePolygonIntersect$1(L,V,L+oe,V,$)||linePolygonIntersect$1(L,V,L,V+ae,$)||linePolygonIntersect$1(L+oe,V,L+oe,V+ae,$)||linePolygonIntersect$1(L,V+ae,L+oe,V+ae,$))return!0}}};function getLineSelectors$1(g){var n=["x","y"],r=["width","height"];return{point:function($,L,V){if($){var oe=V.range,ae=$[g];return inLineRange$1(ae,oe)}},rect:function($,L,V){if($){var oe=V.range,ae=[$[n[g]],$[n[g]]+$[r[g]]];return ae[1]<ae[0]&&ae.reverse(),inLineRange$1(ae[0],oe)||inLineRange$1(ae[1],oe)||inLineRange$1(oe[0],ae)||inLineRange$1(oe[1],ae)}}}}function inLineRange$1(g,n){return n[0]<=g&&g<=n[1]}var STATE_LIST$1=["inBrush","outOfBrush"],DISPATCH_METHOD$1="__ecBrushSelect",DISPATCH_FLAG$1="__ecInBrushSelectEvent";function layoutCovers$1(g){g.eachComponent({mainType:"brush"},function(n){var r=n.brushTargetManager=new BrushTargetManager$3(n.option,g);r.setInputRanges(n.areas,g)})}function brushVisual$1(g,n,r){var $=[],L,V;g.eachComponent({mainType:"brush"},function(oe){r&&r.type==="takeGlobalCursor"&&oe.setBrushOption(r.key==="brush"?r.brushOption:{brushType:!1})}),layoutCovers$1(g),g.eachComponent({mainType:"brush"},function(oe,ae){var re={brushId:oe.id,brushIndex:ae,brushName:oe.name,areas:clone$9(oe.areas),selected:[]};$.push(re);var le=oe.option,ue=le.brushLink,de=[],he=[],pe=[],_e=!1;ae||(L=le.throttleType,V=le.throttleDelay);var $e=map$3(oe.areas,function(ze){var Fe=boundingRectBuilders$1[ze.brushType],Ue=defaults$7({boundingRect:Fe?Fe(ze):void 0},ze);return Ue.selectors=makeBrushCommonSelectorForSeries$1(Ue),Ue}),xe=createVisualMappings$1(oe.option,STATE_LIST$1,function(ze){ze.mappingMethod="fixed"});isArray$6(ue)&&each$v(ue,function(ze){de[ze]=1});function Oe(ze){return ue==="all"||!!de[ze]}function Ce(ze){return!!ze.length}g.eachSeries(function(ze,Fe){var Ue=pe[Fe]=[];ze.subType==="parallel"?Ie(ze,Fe):Ne(ze,Fe,Ue)});function Ie(ze,Fe){var Ue=ze.coordinateSystem;_e=_e||Ue.hasAxisBrushed(),Oe(Fe)&&Ue.eachActiveState(ze.getData(),function(At,Et){At==="active"&&(he[Et]=1)})}function Ne(ze,Fe,Ue){if(!(!ze.brushSelector||brushModelNotControll$1(oe,Fe))&&(each$v($e,function(Et){oe.brushTargetManager.controlSeries(Et,ze,g)&&Ue.push(Et),_e=_e||Ce(Ue)}),Oe(Fe)&&Ce(Ue))){var At=ze.getData();At.each(function(Et){checkInRange$1(ze,Ue,At,Et)&&(he[Et]=1)})}}g.eachSeries(function(ze,Fe){var Ue={seriesId:ze.id,seriesIndex:Fe,seriesName:ze.name,dataIndex:[]};re.selected.push(Ue);var At=pe[Fe],Et=ze.getData(),Pt=Oe(Fe)?function(kt){return he[kt]?(Ue.dataIndex.push(Et.getRawIndex(kt)),"inBrush"):"outOfBrush"}:function(kt){return checkInRange$1(ze,At,Et,kt)?(Ue.dataIndex.push(Et.getRawIndex(kt)),"inBrush"):"outOfBrush"};(Oe(Fe)?_e:Ce(At))&&applyVisual$1(STATE_LIST$1,xe,Et,Pt)})}),dispatchAction$3(n,L,V,$,r)}function dispatchAction$3(g,n,r,$,L){if(L){var V=g.getZr();if(!V[DISPATCH_FLAG$1]){V[DISPATCH_METHOD$1]||(V[DISPATCH_METHOD$1]=doDispatch$1);var oe=createOrUpdate$1(V,DISPATCH_METHOD$1,r,n);oe(g,$)}}}function doDispatch$1(g,n){if(!g.isDisposed()){var r=g.getZr();r[DISPATCH_FLAG$1]=!0,g.dispatchAction({type:"brushSelect",batch:n}),r[DISPATCH_FLAG$1]=!1}}function checkInRange$1(g,n,r,$){for(var L=0,V=n.length;L<V;L++){var oe=n[L];if(g.brushSelector($,r,oe.selectors,oe))return!0}}function brushModelNotControll$1(g,n){var r=g.option.seriesIndex;return r!=null&&r!=="all"&&(isArray$6(r)?indexOf$1(r,n)<0:n!==r)}var boundingRectBuilders$1={rect:function(g){return getBoundingRectFromMinMax$1(g.range)},polygon:function(g){for(var n,r=g.range,$=0,L=r.length;$<L;$++){n=n||[[1/0,-1/0],[1/0,-1/0]];var V=r[$];V[0]<n[0][0]&&(n[0][0]=V[0]),V[0]>n[0][1]&&(n[0][1]=V[0]),V[1]<n[1][0]&&(n[1][0]=V[1]),V[1]>n[1][1]&&(n[1][1]=V[1])}return n&&getBoundingRectFromMinMax$1(n)}};function getBoundingRectFromMinMax$1(g){return new BoundingRect$3(g[0][0],g[1][0],g[0][1]-g[0][0],g[1][1]-g[1][0])}var BrushView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$){this.ecModel=r,this.api=$,this.model,(this._brushController=new BrushController$3($.getZr())).on("brush",bind$5(this._onBrush,this)).mount()},n.prototype.render=function(r,$,L,V){this.model=r,this._updateController(r,$,L,V)},n.prototype.updateTransform=function(r,$,L,V){layoutCovers$1($),this._updateController(r,$,L,V)},n.prototype.updateVisual=function(r,$,L,V){this.updateTransform(r,$,L,V)},n.prototype.updateView=function(r,$,L,V){this._updateController(r,$,L,V)},n.prototype._updateController=function(r,$,L,V){(!V||V.$from!==r.id)&&this._brushController.setPanels(r.brushTargetManager.makePanelOpts(L)).enableBrush(r.brushOption).updateCovers(r.areas.slice())},n.prototype.dispose=function(){this._brushController.dispose()},n.prototype._onBrush=function(r){var $=this.model.id,L=this.model.brushTargetManager.setOutputRanges(r.areas,this.ecModel);(!r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:$,areas:clone$9(L),$from:$}),r.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:$,areas:clone$9(L),$from:$})},n.type="brush",n}(ComponentView$3);const BrushView$3=BrushView$2;var DEFAULT_OUT_OF_BRUSH_COLOR$1="#ddd",BrushModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.areas=[],r.brushOption={},r}return n.prototype.optionUpdated=function(r,$){var L=this.option;!$&&replaceVisualOption$1(L,r,["inBrush","outOfBrush"]);var V=L.inBrush=L.inBrush||{};L.outOfBrush=L.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR$1},V.hasOwnProperty("liftZ")||(V.liftZ=5)},n.prototype.setAreas=function(r){!r||(this.areas=map$3(r,function($){return generateBrushOption$1(this.option,$)},this))},n.prototype.setBrushOption=function(r){this.brushOption=generateBrushOption$1(this.option,r),this.brushType=this.brushOption.brushType},n.type="brush",n.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],n.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},n}(ComponentModel$3);function generateBrushOption$1(g,n){return merge$3({brushType:g.brushType,brushMode:g.brushMode,transformable:g.transformable,brushStyle:new Model$3(g.brushStyle).getItemStyle(),removeOnClick:g.removeOnClick,z:g.z},n,!0)}const BrushModel$3=BrushModel$2;var ICON_TYPES$1=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature$2=function(g){__extends$2(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.render=function(r,$,L){var V,oe,ae;$.eachComponent({mainType:"brush"},function(re){V=re.brushType,oe=re.brushOption.brushMode||"single",ae=ae||!!re.areas.length}),this._brushType=V,this._brushMode=oe,each$v(r.get("type",!0),function(re){r.setIconStatus(re,(re==="keep"?oe==="multiple":re==="clear"?ae:re===V)?"emphasis":"normal")})},n.prototype.updateView=function(r,$,L){this.render(r,$,L)},n.prototype.getIcons=function(){var r=this.model,$=r.get("icon",!0),L={};return each$v(r.get("type",!0),function(V){$[V]&&(L[V]=$[V])}),L},n.prototype.onclick=function(r,$,L){var V=this._brushType,oe=this._brushMode;L==="clear"?($.dispatchAction({type:"axisAreaSelect",intervals:[]}),$.dispatchAction({type:"brush",command:"clear",areas:[]})):$.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:L==="keep"?V:V===L?!1:L,brushMode:L==="keep"?oe==="multiple"?"single":"multiple":oe}})},n.getDefaultOption=function(r){var $={show:!0,type:ICON_TYPES$1.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:r.getLocaleModel().get(["toolbox","brush","title"])};return $},n}(ToolboxFeature$1);const BrushFeature$3=BrushFeature$2;function install$1a(g){g.registerComponentView(BrushView$3),g.registerComponentModel(BrushModel$3),g.registerPreprocessor(brushPreprocessor$1),g.registerVisual(g.PRIORITY.VISUAL.BRUSH,brushVisual$1),g.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(n,r){r.eachComponent({mainType:"brush",query:n},function($){$.setAreas(n.areas)})}),g.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},noop$4),g.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},noop$4),registerFeature$1("brush",BrushFeature$3)}var TitleModel$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.layoutMode={type:"box",ignoreSize:!0},r}return n.type="title",n.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},n}(ComponentModel$3),TitleView$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){if(this.group.removeAll(),!!r.get("show")){var V=this.group,oe=r.getModel("textStyle"),ae=r.getModel("subtextStyle"),re=r.get("textAlign"),le=retrieve2$1(r.get("textBaseline"),r.get("textVerticalAlign")),ue=new ZRText$3({style:createTextStyle$1(oe,{text:r.get("text"),fill:oe.getTextColor()},{disableBox:!0}),z2:10}),de=ue.getBoundingRect(),he=r.get("subtext"),pe=new ZRText$3({style:createTextStyle$1(ae,{text:he,fill:ae.getTextColor(),y:de.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),_e=r.get("link"),$e=r.get("sublink"),xe=r.get("triggerEvent",!0);ue.silent=!_e&&!xe,pe.silent=!$e&&!xe,_e&&ue.on("click",function(){windowOpen$1(_e,"_"+r.get("target"))}),$e&&pe.on("click",function(){windowOpen$1($e,"_"+r.get("subtarget"))}),getECData$1(ue).eventData=getECData$1(pe).eventData=xe?{componentType:"title",componentIndex:r.componentIndex}:null,V.add(ue),he&&V.add(pe);var Oe=V.getBoundingRect(),Ce=r.getBoxLayoutParams();Ce.width=Oe.width,Ce.height=Oe.height;var Ie=getLayoutRect$1(Ce,{width:L.getWidth(),height:L.getHeight()},r.get("padding"));re||(re=r.get("left")||r.get("right"),re==="middle"&&(re="center"),re==="right"?Ie.x+=Ie.width:re==="center"&&(Ie.x+=Ie.width/2)),le||(le=r.get("top")||r.get("bottom"),le==="center"&&(le="middle"),le==="bottom"?Ie.y+=Ie.height:le==="middle"&&(Ie.y+=Ie.height/2),le=le||"top"),V.x=Ie.x,V.y=Ie.y,V.markRedraw();var Ne={align:re,verticalAlign:le};ue.setStyle(Ne),pe.setStyle(Ne),Oe=V.getBoundingRect();var ze=Ie.margin,Fe=r.getItemStyle(["color","opacity"]);Fe.fill=r.get("backgroundColor");var Ue=new Rect$7({shape:{x:Oe.x-ze[3],y:Oe.y-ze[0],width:Oe.width+ze[1]+ze[3],height:Oe.height+ze[0]+ze[2],r:r.get("borderRadius")},style:Fe,subPixelOptimize:!0,silent:!0});V.add(Ue)}},n.type="title",n}(ComponentView$3);function install$19(g){g.registerComponentModel(TitleModel$1),g.registerComponentView(TitleView$1)}var TimelineModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.layoutMode="box",r}return n.prototype.init=function(r,$,L){this.mergeDefaultAndTheme(r,L),this._initData()},n.prototype.mergeOption=function(r){g.prototype.mergeOption.apply(this,arguments),this._initData()},n.prototype.setCurrentIndex=function(r){r==null&&(r=this.option.currentIndex);var $=this._data.count();this.option.loop?r=(r%$+$)%$:(r>=$&&(r=$-1),r<0&&(r=0)),this.option.currentIndex=r},n.prototype.getCurrentIndex=function(){return this.option.currentIndex},n.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},n.prototype.setPlayState=function(r){this.option.autoPlay=!!r},n.prototype.getPlayState=function(){return!!this.option.autoPlay},n.prototype._initData=function(){var r=this.option,$=r.data||[],L=r.axisType,V=this._names=[],oe;L==="category"?(oe=[],each$v($,function(le,ue){var de=convertOptionIdName$1(getDataItemValue$1(le),""),he;isObject$9(le)?(he=clone$9(le),he.value=ue):he=ue,oe.push(he),V.push(de)})):oe=$;var ae={category:"ordinal",time:"time",value:"number"}[L]||"number",re=this._data=new SeriesData$3([{name:"value",type:ae}],this);re.initData(oe,V)},n.prototype.getData=function(){return this._data},n.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},n.type="timeline",n.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},n}(ComponentModel$3);const TimelineModel$3=TimelineModel$2;var SliderTimelineModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="timeline.slider",n.defaultOption=inheritDefaultOption$1(TimelineModel$3.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),n}(TimelineModel$3);mixin$1(SliderTimelineModel$2,DataFormatMixin$1.prototype);const SliderTimelineModel$3=SliderTimelineModel$2;var TimelineView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="timeline",n}(ComponentView$3);const TimelineView$3=TimelineView$2;var TimelineAxis$2=function(g){__extends$2(n,g);function n(r,$,L,V){var oe=g.call(this,r,$,L)||this;return oe.type=V||"value",oe}return n.prototype.getLabelModel=function(){return this.model.getModel("label")},n.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},n}(Axis$3);const TimelineAxis$3=TimelineAxis$2;var PI$9=Math.PI,labelDataIndexStore$1=makeInner$1(),SliderTimelineView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$){this.api=$},n.prototype.render=function(r,$,L){if(this.model=r,this.api=L,this.ecModel=$,this.group.removeAll(),r.get("show",!0)){var V=this._layout(r,L),oe=this._createGroup("_mainGroup"),ae=this._createGroup("_labelGroup"),re=this._axis=this._createAxis(V,r);r.formatTooltip=function(le){var ue=re.scale.getLabel({value:le});return createTooltipMarkup$1("nameValue",{noName:!0,value:ue})},each$v(["AxisLine","AxisTick","Control","CurrentPointer"],function(le){this["_render"+le](V,oe,re,r)},this),this._renderAxisLabel(V,ae,re,r),this._position(V,r)}this._doPlayStop(),this._updateTicksStatus()},n.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},n.prototype.dispose=function(){this._clearTimer()},n.prototype._layout=function(r,$){var L=r.get(["label","position"]),V=r.get("orient"),oe=getViewRect$6(r,$),ae;L==null||L==="auto"?ae=V==="horizontal"?oe.y+oe.height/2<$.getHeight()/2?"-":"+":oe.x+oe.width/2<$.getWidth()/2?"+":"-":isString$3(L)?ae={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[V][L]:ae=L;var re={horizontal:"center",vertical:ae>=0||ae==="+"?"left":"right"},le={horizontal:ae>=0||ae==="+"?"top":"bottom",vertical:"middle"},ue={horizontal:0,vertical:PI$9/2},de=V==="vertical"?oe.height:oe.width,he=r.getModel("controlStyle"),pe=he.get("show",!0),_e=pe?he.get("itemSize"):0,$e=pe?he.get("itemGap"):0,xe=_e+$e,Oe=r.get(["label","rotate"])||0;Oe=Oe*PI$9/180;var Ce,Ie,Ne,ze=he.get("position",!0),Fe=pe&&he.get("showPlayBtn",!0),Ue=pe&&he.get("showPrevBtn",!0),At=pe&&he.get("showNextBtn",!0),Et=0,Pt=de;ze==="left"||ze==="bottom"?(Fe&&(Ce=[0,0],Et+=xe),Ue&&(Ie=[Et,0],Et+=xe),At&&(Ne=[Pt-_e,0],Pt-=xe)):(Fe&&(Ce=[Pt-_e,0],Pt-=xe),Ue&&(Ie=[0,0],Et+=xe),At&&(Ne=[Pt-_e,0],Pt-=xe));var kt=[Et,Pt];return r.get("inverse")&&kt.reverse(),{viewRect:oe,mainLength:de,orient:V,rotation:ue[V],labelRotation:Oe,labelPosOpt:ae,labelAlign:r.get(["label","align"])||re[V],labelBaseline:r.get(["label","verticalAlign"])||r.get(["label","baseline"])||le[V],playPosition:Ce,prevBtnPosition:Ie,nextBtnPosition:Ne,axisExtent:kt,controlSize:_e,controlGap:$e}},n.prototype._position=function(r,$){var L=this._mainGroup,V=this._labelGroup,oe=r.viewRect;if(r.orient==="vertical"){var ae=create$4(),re=oe.x,le=oe.y+oe.height;translate$1(ae,ae,[-re,-le]),rotate$1(ae,ae,-PI$9/2),translate$1(ae,ae,[re,le]),oe=oe.clone(),oe.applyTransform(ae)}var ue=Ce(oe),de=Ce(L.getBoundingRect()),he=Ce(V.getBoundingRect()),pe=[L.x,L.y],_e=[V.x,V.y];_e[0]=pe[0]=ue[0][0];var $e=r.labelPosOpt;if($e==null||isString$3($e)){var xe=$e==="+"?0:1;Ie(pe,de,ue,1,xe),Ie(_e,he,ue,1,1-xe)}else{var xe=$e>=0?0:1;Ie(pe,de,ue,1,xe),_e[1]=pe[1]+$e}L.setPosition(pe),V.setPosition(_e),L.rotation=V.rotation=r.rotation,Oe(L),Oe(V);function Oe(Ne){Ne.originX=ue[0][0]-Ne.x,Ne.originY=ue[1][0]-Ne.y}function Ce(Ne){return[[Ne.x,Ne.x+Ne.width],[Ne.y,Ne.y+Ne.height]]}function Ie(Ne,ze,Fe,Ue,At){Ne[Ue]+=Fe[Ue][At]-ze[Ue][At]}},n.prototype._createAxis=function(r,$){var L=$.getData(),V=$.get("axisType"),oe=createScaleByModel$2($,V);oe.getTicks=function(){return L.mapArray(["value"],function(le){return{value:le}})};var ae=L.getDataExtent("value");oe.setExtent(ae[0],ae[1]),oe.calcNiceTicks();var re=new TimelineAxis$3("value",oe,r.axisExtent,V);return re.model=$,re},n.prototype._createGroup=function(r){var $=this[r]=new Group$9;return this.group.add($),$},n.prototype._renderAxisLine=function(r,$,L,V){var oe=L.getExtent();if(V.get(["lineStyle","show"])){var ae=new Line$8({shape:{x1:oe[0],y1:0,x2:oe[1],y2:0},style:extend$4({lineCap:"round"},V.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});$.add(ae);var re=this._progressLine=new Line$8({shape:{x1:oe[0],x2:this._currentPointer?this._currentPointer.x:oe[0],y1:0,y2:0},style:defaults$7({lineCap:"round",lineWidth:ae.style.lineWidth},V.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});$.add(re)}},n.prototype._renderAxisTick=function(r,$,L,V){var oe=this,ae=V.getData(),re=L.scale.getTicks();this._tickSymbols=[],each$v(re,function(le){var ue=L.dataToCoord(le.value),de=ae.getItemModel(le.value),he=de.getModel("itemStyle"),pe=de.getModel(["emphasis","itemStyle"]),_e=de.getModel(["progress","itemStyle"]),$e={x:ue,y:0,onclick:bind$5(oe._changeTimeline,oe,le.value)},xe=giveSymbol$1(de,he,$,$e);xe.ensureState("emphasis").style=pe.getItemStyle(),xe.ensureState("progress").style=_e.getItemStyle(),enableHoverEmphasis$1(xe);var Oe=getECData$1(xe);de.get("tooltip")?(Oe.dataIndex=le.value,Oe.dataModel=V):Oe.dataIndex=Oe.dataModel=null,oe._tickSymbols.push(xe)})},n.prototype._renderAxisLabel=function(r,$,L,V){var oe=this,ae=L.getLabelModel();if(ae.get("show")){var re=V.getData(),le=L.getViewLabels();this._tickLabels=[],each$v(le,function(ue){var de=ue.tickValue,he=re.getItemModel(de),pe=he.getModel("label"),_e=he.getModel(["emphasis","label"]),$e=he.getModel(["progress","label"]),xe=L.dataToCoord(ue.tickValue),Oe=new ZRText$3({x:xe,y:0,rotation:r.labelRotation-r.rotation,onclick:bind$5(oe._changeTimeline,oe,de),silent:!1,style:createTextStyle$1(pe,{text:ue.formattedLabel,align:r.labelAlign,verticalAlign:r.labelBaseline})});Oe.ensureState("emphasis").style=createTextStyle$1(_e),Oe.ensureState("progress").style=createTextStyle$1($e),$.add(Oe),enableHoverEmphasis$1(Oe),labelDataIndexStore$1(Oe).dataIndex=de,oe._tickLabels.push(Oe)})}},n.prototype._renderControl=function(r,$,L,V){var oe=r.controlSize,ae=r.rotation,re=V.getModel("controlStyle").getItemStyle(),le=V.getModel(["emphasis","controlStyle"]).getItemStyle(),ue=V.getPlayState(),de=V.get("inverse",!0);he(r.nextBtnPosition,"next",bind$5(this._changeTimeline,this,de?"-":"+")),he(r.prevBtnPosition,"prev",bind$5(this._changeTimeline,this,de?"+":"-")),he(r.playPosition,ue?"stop":"play",bind$5(this._handlePlayClick,this,!ue),!0);function he(pe,_e,$e,xe){if(pe){var Oe=parsePercent$3(retrieve2$1(V.get(["controlStyle",_e+"BtnSize"]),oe),oe),Ce=[0,-Oe/2,Oe,Oe],Ie=makeControlIcon$1(V,_e+"Icon",Ce,{x:pe[0],y:pe[1],originX:oe/2,originY:0,rotation:xe?-ae:0,rectHover:!0,style:re,onclick:$e});Ie.ensureState("emphasis").style=le,$.add(Ie),enableHoverEmphasis$1(Ie)}}},n.prototype._renderCurrentPointer=function(r,$,L,V){var oe=V.getData(),ae=V.getCurrentIndex(),re=oe.getItemModel(ae).getModel("checkpointStyle"),le=this,ue={onCreate:function(de){de.draggable=!0,de.drift=bind$5(le._handlePointerDrag,le),de.ondragend=bind$5(le._handlePointerDragend,le),pointerMoveTo$1(de,le._progressLine,ae,L,V,!0)},onUpdate:function(de){pointerMoveTo$1(de,le._progressLine,ae,L,V)}};this._currentPointer=giveSymbol$1(re,re,this._mainGroup,{},this._currentPointer,ue)},n.prototype._handlePlayClick=function(r){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:r,from:this.uid})},n.prototype._handlePointerDrag=function(r,$,L){this._clearTimer(),this._pointerChangeTimeline([L.offsetX,L.offsetY])},n.prototype._handlePointerDragend=function(r){this._pointerChangeTimeline([r.offsetX,r.offsetY],!0)},n.prototype._pointerChangeTimeline=function(r,$){var L=this._toAxisCoord(r)[0],V=this._axis,oe=asc$5(V.getExtent().slice());L>oe[1]&&(L=oe[1]),L<oe[0]&&(L=oe[0]),this._currentPointer.x=L,this._currentPointer.markRedraw();var ae=this._progressLine;ae&&(ae.shape.x2=L,ae.dirty());var re=this._findNearestTick(L),le=this.model;($||re!==le.getCurrentIndex()&&le.get("realtime"))&&this._changeTimeline(re)},n.prototype._doPlayStop=function(){var r=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var $=r.model;r._changeTimeline($.getCurrentIndex()+($.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},n.prototype._toAxisCoord=function(r){var $=this._mainGroup.getLocalTransform();return applyTransform$2(r,$,!0)},n.prototype._findNearestTick=function(r){var $=this.model.getData(),L=1/0,V,oe=this._axis;return $.each(["value"],function(ae,re){var le=oe.dataToCoord(ae),ue=Math.abs(le-r);ue<L&&(L=ue,V=re)}),V},n.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},n.prototype._changeTimeline=function(r){var $=this.model.getCurrentIndex();r==="+"?r=$+1:r==="-"&&(r=$-1),this.api.dispatchAction({type:"timelineChange",currentIndex:r,from:this.uid})},n.prototype._updateTicksStatus=function(){var r=this.model.getCurrentIndex(),$=this._tickSymbols,L=this._tickLabels;if($)for(var V=0;V<$.length;V++)$&&$[V]&&$[V].toggleState("progress",V<r);if(L)for(var V=0;V<L.length;V++)L&&L[V]&&L[V].toggleState("progress",labelDataIndexStore$1(L[V]).dataIndex<=r)},n.type="timeline.slider",n}(TimelineView$3);function createScaleByModel$2(g,n){if(n=n||g.get("type"),n)switch(n){case"category":return new OrdinalScale$3({ordinalMeta:g.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$3({locale:g.ecModel.getLocaleModel(),useUTC:g.ecModel.get("useUTC")});default:return new IntervalScale$3}}function getViewRect$6(g,n){return getLayoutRect$1(g.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},g.get("padding"))}function makeControlIcon$1(g,n,r,$){var L=$.style,V=createIcon$1(g.get(["controlStyle",n]),$||{},new BoundingRect$3(r[0],r[1],r[2],r[3]));return L&&V.setStyle(L),V}function giveSymbol$1(g,n,r,$,L,V){var oe=n.get("color");if(L)L.setColor(oe),r.add(L),V&&V.onUpdate(L);else{var ae=g.get("symbol");L=createSymbol$3(ae,-1,-1,2,2,oe),L.setStyle("strokeNoScale",!0),r.add(L),V&&V.onCreate(L)}var re=n.getItemStyle(["color"]);L.setStyle(re),$=merge$3({rectHover:!0,z2:100},$,!0);var le=normalizeSymbolSize$1(g.get("symbolSize"));$.scaleX=le[0]/2,$.scaleY=le[1]/2;var ue=normalizeSymbolOffset$1(g.get("symbolOffset"),le);ue&&($.x=($.x||0)+ue[0],$.y=($.y||0)+ue[1]);var de=g.get("symbolRotate");return $.rotation=(de||0)*Math.PI/180||0,L.attr($),L.updateTransform(),L}function pointerMoveTo$1(g,n,r,$,L,V){if(!g.dragging){var oe=L.getModel("checkpointStyle"),ae=$.dataToCoord(L.getData().get("value",r));if(V||!oe.get("animation",!0))g.attr({x:ae,y:0}),n&&n.attr({shape:{x2:ae}});else{var re={duration:oe.get("animationDuration",!0),easing:oe.get("animationEasing",!0)};g.stopAnimation(null,!0),g.animateTo({x:ae,y:0},re),n&&n.animateTo({shape:{x2:ae}},re)}}}const SliderTimelineView$3=SliderTimelineView$2;function installTimelineAction$1(g){g.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(n,r,$){var L=r.getComponent("timeline");return L&&n.currentIndex!=null&&(L.setCurrentIndex(n.currentIndex),!L.get("loop",!0)&&L.isIndexMax()&&L.getPlayState()&&(L.setPlayState(!1),$.dispatchAction({type:"timelinePlayChange",playState:!1,from:n.from}))),r.resetOption("timeline",{replaceMerge:L.get("replaceMerge",!0)}),defaults$7({currentIndex:L.option.currentIndex},n)}),g.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(n,r){var $=r.getComponent("timeline");$&&n.playState!=null&&$.setPlayState(n.playState)})}function timelinePreprocessor$1(g){var n=g&&g.timeline;isArray$6(n)||(n=n?[n]:[]),each$v(n,function(r){!r||compatibleEC2$1(r)})}function compatibleEC2$1(g){var n=g.type,r={number:"value",time:"time"};if(r[n]&&(g.axisType=r[n],delete g.type),transferItem$1(g),has$3(g,"controlPosition")){var $=g.controlStyle||(g.controlStyle={});has$3($,"position")||($.position=g.controlPosition),$.position==="none"&&!has$3($,"show")&&($.show=!1,delete $.position),delete g.controlPosition}each$v(g.data||[],function(L){isObject$9(L)&&!isArray$6(L)&&(!has$3(L,"value")&&has$3(L,"name")&&(L.value=L.name),transferItem$1(L))})}function transferItem$1(g){var n=g.itemStyle||(g.itemStyle={}),r=n.emphasis||(n.emphasis={}),$=g.label||g.label||{},L=$.normal||($.normal={}),V={normal:1,emphasis:1};each$v($,function(oe,ae){!V[ae]&&!has$3(L,ae)&&(L[ae]=oe)}),r.label&&!has$3($,"emphasis")&&($.emphasis=r.label,delete r.label)}function has$3(g,n){return g.hasOwnProperty(n)}function install$18(g){g.registerComponentModel(SliderTimelineModel$3),g.registerComponentView(SliderTimelineView$3),g.registerSubTypeDefaulter("timeline",function(){return"slider"}),installTimelineAction$1(g),g.registerPreprocessor(timelinePreprocessor$1)}function checkMarkerInSeries$1(g,n){if(!g)return!1;for(var r=isArray$6(g)?g:[g],$=0;$<r.length;$++)if(r[$]&&r[$][n])return!0;return!1}function fillLabel$1(g){defaultEmphasis$1(g,"label",["show"])}var inner$r=makeInner$1(),MarkerModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.createdBySelf=!1,r}return n.prototype.init=function(r,$,L){this.mergeDefaultAndTheme(r,L),this._mergeOption(r,L,!1,!0)},n.prototype.isAnimationEnabled=function(){if(env$3.node)return!1;var r=this.__hostSeries;return this.getShallow("animation")&&r&&r.isAnimationEnabled()},n.prototype.mergeOption=function(r,$){this._mergeOption(r,$,!1,!1)},n.prototype._mergeOption=function(r,$,L,V){var oe=this.mainType;L||$.eachSeries(function(ae){var re=ae.get(this.mainType,!0),le=inner$r(ae)[oe];if(!re||!re.data){inner$r(ae)[oe]=null;return}le?le._mergeOption(re,$,!0):(V&&fillLabel$1(re),each$v(re.data,function(ue){ue instanceof Array?(fillLabel$1(ue[0]),fillLabel$1(ue[1])):fillLabel$1(ue)}),le=this.createMarkerModelFromSeries(re,this,$),extend$4(le,{mainType:this.mainType,seriesIndex:ae.seriesIndex,name:ae.name,createdBySelf:!0}),le.__hostSeries=ae),inner$r(ae)[oe]=le},this)},n.prototype.formatTooltip=function(r,$,L){var V=this.getData(),oe=this.getRawValue(r),ae=V.getName(r);return createTooltipMarkup$1("section",{header:this.name,blocks:[createTooltipMarkup$1("nameValue",{name:ae,value:oe,noName:!ae,noValue:oe==null})]})},n.prototype.getData=function(){return this._data},n.prototype.setData=function(r){this._data=r},n.getMarkerModelFromSeries=function(r,$){return inner$r(r)[$]},n.type="marker",n.dependencies=["series","grid","polar","geo"],n}(ComponentModel$3);mixin$1(MarkerModel$2,DataFormatMixin$1.prototype);const MarkerModel$3=MarkerModel$2;var MarkPointModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(r,$,L){return new n(r,$,L)},n.type="markPoint",n.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},n}(MarkerModel$3);const MarkPointModel$3=MarkPointModel$2;function hasXOrY$1(g){return!(isNaN(parseFloat(g.x))&&isNaN(parseFloat(g.y)))}function hasXAndY$1(g){return!isNaN(parseFloat(g.x))&&!isNaN(parseFloat(g.y))}function markerTypeCalculatorWithExtent$1(g,n,r,$,L,V){var oe=[],ae=isDimensionStacked$1(n,$),re=ae?n.getCalculationInfo("stackResultDimension"):$,le=numCalculate$1(n,re,g),ue=n.indicesOfNearest(re,le)[0];oe[L]=n.get(r,ue),oe[V]=n.get(re,ue);var de=n.get($,ue),he=getPrecision$1(n.get($,ue));return he=Math.min(he,20),he>=0&&(oe[V]=+oe[V].toFixed(he)),[oe,de]}var markerTypeCalculator$1={min:curry$3(markerTypeCalculatorWithExtent$1,"min"),max:curry$3(markerTypeCalculatorWithExtent$1,"max"),average:curry$3(markerTypeCalculatorWithExtent$1,"average"),median:curry$3(markerTypeCalculatorWithExtent$1,"median")};function dataTransform$1(g,n){if(n){var r=g.getData(),$=g.coordinateSystem,L=$.dimensions;if(!hasXAndY$1(n)&&!isArray$6(n.coord)&&$){var V=getAxisInfo$2(n,r,$,g);if(n=clone$9(n),n.type&&markerTypeCalculator$1[n.type]&&V.baseAxis&&V.valueAxis){var oe=indexOf$1(L,V.baseAxis.dim),ae=indexOf$1(L,V.valueAxis.dim),re=markerTypeCalculator$1[n.type](r,V.baseDataDim,V.valueDataDim,oe,ae);n.coord=re[0],n.value=re[1]}else n.coord=[n.xAxis!=null?n.xAxis:n.radiusAxis,n.yAxis!=null?n.yAxis:n.angleAxis]}if(n.coord==null)n.coord=[];else for(var le=n.coord,ue=0;ue<2;ue++)markerTypeCalculator$1[le[ue]]&&(le[ue]=numCalculate$1(r,r.mapDimension(L[ue]),le[ue]));return n}}function getAxisInfo$2(g,n,r,$){var L={};return g.valueIndex!=null||g.valueDim!=null?(L.valueDataDim=g.valueIndex!=null?n.getDimension(g.valueIndex):g.valueDim,L.valueAxis=r.getAxis(dataDimToCoordDim$1($,L.valueDataDim)),L.baseAxis=r.getOtherAxis(L.valueAxis),L.baseDataDim=n.mapDimension(L.baseAxis.dim)):(L.baseAxis=$.getBaseAxis(),L.valueAxis=r.getOtherAxis(L.baseAxis),L.baseDataDim=n.mapDimension(L.baseAxis.dim),L.valueDataDim=n.mapDimension(L.valueAxis.dim)),L}function dataDimToCoordDim$1(g,n){var r=g.getData().getDimensionInfo(n);return r&&r.coordDim}function dataFilter$2(g,n){return g&&g.containData&&n.coord&&!hasXOrY$1(n)?g.containData(n.coord):!0}function zoneFilter$1(g,n,r){return g&&g.containZone&&n.coord&&r.coord&&!hasXOrY$1(n)&&!hasXOrY$1(r)?g.containZone(n.coord,r.coord):!0}function createMarkerDimValueGetter$1(g,n){return g?function(r,$,L,V){var oe=V<2?r.coord&&r.coord[V]:r.value;return parseDataValue$1(oe,n[V])}:function(r,$,L,V){return parseDataValue$1(r.value,n[V])}}function numCalculate$1(g,n,r){if(r==="average"){var $=0,L=0;return g.each(n,function(V,oe){isNaN(V)||($+=V,L++)}),$/L}else return r==="median"?g.getMedian(n):g.getDataExtent(n)[r==="max"?1:0]}var inner$q=makeInner$1(),MarkerView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this.markerGroupMap=createHashMap$1()},n.prototype.render=function(r,$,L){var V=this,oe=this.markerGroupMap;oe.each(function(ae){inner$q(ae).keep=!1}),$.eachSeries(function(ae){var re=MarkerModel$3.getMarkerModelFromSeries(ae,V.type);re&&V.renderSeries(ae,re,$,L)}),oe.each(function(ae){!inner$q(ae).keep&&V.group.remove(ae.group)})},n.prototype.markKeep=function(r){inner$q(r).keep=!0},n.prototype.toggleBlurSeries=function(r,$){var L=this;each$v(r,function(V){var oe=MarkerModel$3.getMarkerModelFromSeries(V,L.type);if(oe){var ae=oe.getData();ae.eachItemGraphicEl(function(re){re&&($?enterBlur$1(re):leaveBlur$1(re))})}})},n.type="marker",n}(ComponentView$3);const MarkerView$3=MarkerView$2;function updateMarkerLayout$1(g,n,r){var $=n.coordinateSystem;g.each(function(L){var V=g.getItemModel(L),oe,ae=parsePercent$2(V.get("x"),r.getWidth()),re=parsePercent$2(V.get("y"),r.getHeight());if(!isNaN(ae)&&!isNaN(re))oe=[ae,re];else if(n.getMarkerPosition)oe=n.getMarkerPosition(g.getValues(g.dimensions,L));else if($){var le=g.get($.dimensions[0],L),ue=g.get($.dimensions[1],L);oe=$.dataToPoint([le,ue])}isNaN(ae)||(oe[0]=ae),isNaN(re)||(oe[1]=re),g.setItemLayout(L,oe)})}var MarkPointView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(r,$,L){$.eachSeries(function(V){var oe=MarkerModel$3.getMarkerModelFromSeries(V,"markPoint");oe&&(updateMarkerLayout$1(oe.getData(),V,L),this.markerGroupMap.get(V.id).updateLayout())},this)},n.prototype.renderSeries=function(r,$,L,V){var oe=r.coordinateSystem,ae=r.id,re=r.getData(),le=this.markerGroupMap,ue=le.get(ae)||le.set(ae,new SymbolDraw$3),de=createData$1(oe,r,$);$.setData(de),updateMarkerLayout$1($.getData(),r,V),de.each(function(he){var pe=de.getItemModel(he),_e=pe.getShallow("symbol"),$e=pe.getShallow("symbolSize"),xe=pe.getShallow("symbolRotate"),Oe=pe.getShallow("symbolOffset"),Ce=pe.getShallow("symbolKeepAspect");if(isFunction$3(_e)||isFunction$3($e)||isFunction$3(xe)||isFunction$3(Oe)){var Ie=$.getRawValue(he),Ne=$.getDataParams(he);isFunction$3(_e)&&(_e=_e(Ie,Ne)),isFunction$3($e)&&($e=$e(Ie,Ne)),isFunction$3(xe)&&(xe=xe(Ie,Ne)),isFunction$3(Oe)&&(Oe=Oe(Ie,Ne))}var ze=pe.getModel("itemStyle").getItemStyle(),Fe=getVisualFromData$1(re,"color");ze.fill||(ze.fill=Fe),de.setItemVisual(he,{symbol:_e,symbolSize:$e,symbolRotate:xe,symbolOffset:Oe,symbolKeepAspect:Ce,style:ze})}),ue.updateData(de),this.group.add(ue.group),de.eachItemGraphicEl(function(he){he.traverse(function(pe){getECData$1(pe).dataModel=$})}),this.markKeep(ue),ue.group.silent=$.get("silent")||r.get("silent")},n.type="markPoint",n}(MarkerView$3);function createData$1(g,n,r){var $;g?$=map$3(g&&g.dimensions,function(ae){var re=n.getData().getDimensionInfo(n.getData().mapDimension(ae))||{};return extend$4(extend$4({},re),{name:ae,ordinalMeta:null})}):$=[{name:"value",type:"float"}];var L=new SeriesData$3($,r),V=map$3(r.get("data"),curry$3(dataTransform$1,n));g&&(V=filter$1(V,curry$3(dataFilter$2,g)));var oe=createMarkerDimValueGetter$1(!!g,$);return L.initData(V,null,oe),L}const MarkPointView$3=MarkPointView$2;function install$17(g){g.registerComponentModel(MarkPointModel$3),g.registerComponentView(MarkPointView$3),g.registerPreprocessor(function(n){checkMarkerInSeries$1(n.series,"markPoint")&&(n.markPoint=n.markPoint||{})})}var MarkLineModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(r,$,L){return new n(r,$,L)},n.type="markLine",n.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},n}(MarkerModel$3);const MarkLineModel$3=MarkLineModel$2;var inner$p=makeInner$1(),markLineTransform$1=function(g,n,r,$){var L=g.getData(),V;if(isArray$6($))V=$;else{var oe=$.type;if(oe==="min"||oe==="max"||oe==="average"||oe==="median"||$.xAxis!=null||$.yAxis!=null){var ae=void 0,re=void 0;if($.yAxis!=null||$.xAxis!=null)ae=n.getAxis($.yAxis!=null?"y":"x"),re=retrieve$1($.yAxis,$.xAxis);else{var le=getAxisInfo$2($,L,n,g);ae=le.valueAxis;var ue=getStackedDimension$1(L,le.valueDataDim);re=numCalculate$1(L,ue,oe)}var de=ae.dim==="x"?0:1,he=1-de,pe=clone$9($),_e={coord:[]};pe.type=null,pe.coord=[],pe.coord[he]=-1/0,_e.coord[he]=1/0;var $e=r.get("precision");$e>=0&&isNumber$3(re)&&(re=+re.toFixed(Math.min($e,20))),pe.coord[de]=_e.coord[de]=re,V=[pe,_e,{type:oe,valueIndex:$.valueIndex,value:re}]}else V=[]}var xe=[dataTransform$1(g,V[0]),dataTransform$1(g,V[1]),extend$4({},V[2])];return xe[2].type=xe[2].type||null,merge$3(xe[2],xe[0]),merge$3(xe[2],xe[1]),xe};function isInfinity$3(g){return!isNaN(g)&&!isFinite(g)}function ifMarkLineHasOnlyDim$1(g,n,r,$){var L=1-g,V=$.dimensions[g];return isInfinity$3(n[L])&&isInfinity$3(r[L])&&n[g]===r[g]&&$.getAxis(V).containData(n[g])}function markLineFilter$1(g,n){if(g.type==="cartesian2d"){var r=n[0].coord,$=n[1].coord;if(r&&$&&(ifMarkLineHasOnlyDim$1(1,r,$,g)||ifMarkLineHasOnlyDim$1(0,r,$,g)))return!0}return dataFilter$2(g,n[0])&&dataFilter$2(g,n[1])}function updateSingleMarkerEndLayout$1(g,n,r,$,L){var V=$.coordinateSystem,oe=g.getItemModel(n),ae,re=parsePercent$2(oe.get("x"),L.getWidth()),le=parsePercent$2(oe.get("y"),L.getHeight());if(!isNaN(re)&&!isNaN(le))ae=[re,le];else{if($.getMarkerPosition)ae=$.getMarkerPosition(g.getValues(g.dimensions,n));else{var ue=V.dimensions,de=g.get(ue[0],n),he=g.get(ue[1],n);ae=V.dataToPoint([de,he])}if(isCoordinateSystemType$1(V,"cartesian2d")){var pe=V.getAxis("x"),_e=V.getAxis("y"),ue=V.dimensions;isInfinity$3(g.get(ue[0],n))?ae[0]=pe.toGlobalCoord(pe.getExtent()[r?0:1]):isInfinity$3(g.get(ue[1],n))&&(ae[1]=_e.toGlobalCoord(_e.getExtent()[r?0:1]))}isNaN(re)||(ae[0]=re),isNaN(le)||(ae[1]=le)}g.setItemLayout(n,ae)}var MarkLineView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(r,$,L){$.eachSeries(function(V){var oe=MarkerModel$3.getMarkerModelFromSeries(V,"markLine");if(oe){var ae=oe.getData(),re=inner$p(oe).from,le=inner$p(oe).to;re.each(function(ue){updateSingleMarkerEndLayout$1(re,ue,!0,V,L),updateSingleMarkerEndLayout$1(le,ue,!1,V,L)}),ae.each(function(ue){ae.setItemLayout(ue,[re.getItemLayout(ue),le.getItemLayout(ue)])}),this.markerGroupMap.get(V.id).updateLayout()}},this)},n.prototype.renderSeries=function(r,$,L,V){var oe=r.coordinateSystem,ae=r.id,re=r.getData(),le=this.markerGroupMap,ue=le.get(ae)||le.set(ae,new LineDraw$3);this.group.add(ue.group);var de=createList$3(oe,r,$),he=de.from,pe=de.to,_e=de.line;inner$p($).from=he,inner$p($).to=pe,$.setData(_e);var $e=$.get("symbol"),xe=$.get("symbolSize"),Oe=$.get("symbolRotate"),Ce=$.get("symbolOffset");isArray$6($e)||($e=[$e,$e]),isArray$6(xe)||(xe=[xe,xe]),isArray$6(Oe)||(Oe=[Oe,Oe]),isArray$6(Ce)||(Ce=[Ce,Ce]),de.from.each(function(Ne){Ie(he,Ne,!0),Ie(pe,Ne,!1)}),_e.each(function(Ne){var ze=_e.getItemModel(Ne).getModel("lineStyle").getLineStyle();_e.setItemLayout(Ne,[he.getItemLayout(Ne),pe.getItemLayout(Ne)]),ze.stroke==null&&(ze.stroke=he.getItemVisual(Ne,"style").fill),_e.setItemVisual(Ne,{fromSymbolKeepAspect:he.getItemVisual(Ne,"symbolKeepAspect"),fromSymbolOffset:he.getItemVisual(Ne,"symbolOffset"),fromSymbolRotate:he.getItemVisual(Ne,"symbolRotate"),fromSymbolSize:he.getItemVisual(Ne,"symbolSize"),fromSymbol:he.getItemVisual(Ne,"symbol"),toSymbolKeepAspect:pe.getItemVisual(Ne,"symbolKeepAspect"),toSymbolOffset:pe.getItemVisual(Ne,"symbolOffset"),toSymbolRotate:pe.getItemVisual(Ne,"symbolRotate"),toSymbolSize:pe.getItemVisual(Ne,"symbolSize"),toSymbol:pe.getItemVisual(Ne,"symbol"),style:ze})}),ue.updateData(_e),de.line.eachItemGraphicEl(function(Ne){getECData$1(Ne).dataModel=$,Ne.traverse(function(ze){getECData$1(ze).dataModel=$})});function Ie(Ne,ze,Fe){var Ue=Ne.getItemModel(ze);updateSingleMarkerEndLayout$1(Ne,ze,Fe,r,V);var At=Ue.getModel("itemStyle").getItemStyle();At.fill==null&&(At.fill=getVisualFromData$1(re,"color")),Ne.setItemVisual(ze,{symbolKeepAspect:Ue.get("symbolKeepAspect"),symbolOffset:retrieve2$1(Ue.get("symbolOffset",!0),Ce[Fe?0:1]),symbolRotate:retrieve2$1(Ue.get("symbolRotate",!0),Oe[Fe?0:1]),symbolSize:retrieve2$1(Ue.get("symbolSize"),xe[Fe?0:1]),symbol:retrieve2$1(Ue.get("symbol",!0),$e[Fe?0:1]),style:At})}this.markKeep(ue),ue.group.silent=$.get("silent")||r.get("silent")},n.type="markLine",n}(MarkerView$3);function createList$3(g,n,r){var $;g?$=map$3(g&&g.dimensions,function(le){var ue=n.getData().getDimensionInfo(n.getData().mapDimension(le))||{};return extend$4(extend$4({},ue),{name:le,ordinalMeta:null})}):$=[{name:"value",type:"float"}];var L=new SeriesData$3($,r),V=new SeriesData$3($,r),oe=new SeriesData$3([],r),ae=map$3(r.get("data"),curry$3(markLineTransform$1,n,g,r));g&&(ae=filter$1(ae,curry$3(markLineFilter$1,g)));var re=createMarkerDimValueGetter$1(!!g,$);return L.initData(map$3(ae,function(le){return le[0]}),null,re),V.initData(map$3(ae,function(le){return le[1]}),null,re),oe.initData(map$3(ae,function(le){return le[2]})),oe.hasItemOption=!0,{from:L,to:V,line:oe}}const MarkLineView$3=MarkLineView$2;function install$16(g){g.registerComponentModel(MarkLineModel$3),g.registerComponentView(MarkLineView$3),g.registerPreprocessor(function(n){checkMarkerInSeries$1(n.series,"markLine")&&(n.markLine=n.markLine||{})})}var MarkAreaModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(r,$,L){return new n(r,$,L)},n.type="markArea",n.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},n}(MarkerModel$3);const MarkAreaModel$3=MarkAreaModel$2;var inner$o=makeInner$1(),markAreaTransform$1=function(g,n,r,$){var L=$[0],V=$[1];if(!(!L||!V)){var oe=dataTransform$1(g,L),ae=dataTransform$1(g,V),re=oe.coord,le=ae.coord;re[0]=retrieve$1(re[0],-1/0),re[1]=retrieve$1(re[1],-1/0),le[0]=retrieve$1(le[0],1/0),le[1]=retrieve$1(le[1],1/0);var ue=mergeAll$1([{},oe,ae]);return ue.coord=[oe.coord,ae.coord],ue.x0=oe.x,ue.y0=oe.y,ue.x1=ae.x,ue.y1=ae.y,ue}};function isInfinity$2(g){return!isNaN(g)&&!isFinite(g)}function ifMarkAreaHasOnlyDim$1(g,n,r,$){var L=1-g;return isInfinity$2(n[L])&&isInfinity$2(r[L])}function markAreaFilter$1(g,n){var r=n.coord[0],$=n.coord[1],L={coord:r,x:n.x0,y:n.y0},V={coord:$,x:n.x1,y:n.y1};return isCoordinateSystemType$1(g,"cartesian2d")?r&&$&&(ifMarkAreaHasOnlyDim$1(1,r,$)||ifMarkAreaHasOnlyDim$1(0,r,$))?!0:zoneFilter$1(g,L,V):dataFilter$2(g,L)||dataFilter$2(g,V)}function getSingleMarkerEndPoint$1(g,n,r,$,L){var V=$.coordinateSystem,oe=g.getItemModel(n),ae,re=parsePercent$2(oe.get(r[0]),L.getWidth()),le=parsePercent$2(oe.get(r[1]),L.getHeight());if(!isNaN(re)&&!isNaN(le))ae=[re,le];else{if($.getMarkerPosition){var ue=g.getValues(["x0","y0"],n),de=g.getValues(["x1","y1"],n),he=V.clampData(ue),pe=V.clampData(de),_e=[];r[0]==="x0"?_e[0]=he[0]>pe[0]?de[0]:ue[0]:_e[0]=he[0]>pe[0]?ue[0]:de[0],r[1]==="y0"?_e[1]=he[1]>pe[1]?de[1]:ue[1]:_e[1]=he[1]>pe[1]?ue[1]:de[1],ae=$.getMarkerPosition(_e,r,!0)}else{var $e=g.get(r[0],n),xe=g.get(r[1],n),Oe=[$e,xe];V.clampData&&V.clampData(Oe,Oe),ae=V.dataToPoint(Oe,!0)}if(isCoordinateSystemType$1(V,"cartesian2d")){var Ce=V.getAxis("x"),Ie=V.getAxis("y"),$e=g.get(r[0],n),xe=g.get(r[1],n);isInfinity$2($e)?ae[0]=Ce.toGlobalCoord(Ce.getExtent()[r[0]==="x0"?0:1]):isInfinity$2(xe)&&(ae[1]=Ie.toGlobalCoord(Ie.getExtent()[r[1]==="y0"?0:1]))}isNaN(re)||(ae[0]=re),isNaN(le)||(ae[1]=le)}return ae}var dimPermutations$1=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(r,$,L){$.eachSeries(function(V){var oe=MarkerModel$3.getMarkerModelFromSeries(V,"markArea");if(oe){var ae=oe.getData();ae.each(function(re){var le=map$3(dimPermutations$1,function(de){return getSingleMarkerEndPoint$1(ae,re,de,V,L)});ae.setItemLayout(re,le);var ue=ae.getItemGraphicEl(re);ue.setShape("points",le)})}},this)},n.prototype.renderSeries=function(r,$,L,V){var oe=r.coordinateSystem,ae=r.id,re=r.getData(),le=this.markerGroupMap,ue=le.get(ae)||le.set(ae,{group:new Group$9});this.group.add(ue.group),this.markKeep(ue);var de=createList$2(oe,r,$);$.setData(de),de.each(function(he){var pe=map$3(dimPermutations$1,function(At){return getSingleMarkerEndPoint$1(de,he,At,r,V)}),_e=oe.getAxis("x").scale,$e=oe.getAxis("y").scale,xe=_e.getExtent(),Oe=$e.getExtent(),Ce=[_e.parse(de.get("x0",he)),_e.parse(de.get("x1",he))],Ie=[$e.parse(de.get("y0",he)),$e.parse(de.get("y1",he))];asc$5(Ce),asc$5(Ie);var Ne=!(xe[0]>Ce[1]||xe[1]<Ce[0]||Oe[0]>Ie[1]||Oe[1]<Ie[0]),ze=!Ne;de.setItemLayout(he,{points:pe,allClipped:ze});var Fe=de.getItemModel(he).getModel("itemStyle").getItemStyle(),Ue=getVisualFromData$1(re,"color");Fe.fill||(Fe.fill=Ue,isString$3(Fe.fill)&&(Fe.fill=modifyAlpha$1(Fe.fill,.4))),Fe.stroke||(Fe.stroke=Ue),de.setItemVisual(he,"style",Fe)}),de.diff(inner$o(ue).data).add(function(he){var pe=de.getItemLayout(he);if(!pe.allClipped){var _e=new Polygon$3({shape:{points:pe.points}});de.setItemGraphicEl(he,_e),ue.group.add(_e)}}).update(function(he,pe){var _e=inner$o(ue).data.getItemGraphicEl(pe),$e=de.getItemLayout(he);$e.allClipped?_e&&ue.group.remove(_e):(_e?updateProps$3(_e,{shape:{points:$e.points}},$,he):_e=new Polygon$3({shape:{points:$e.points}}),de.setItemGraphicEl(he,_e),ue.group.add(_e))}).remove(function(he){var pe=inner$o(ue).data.getItemGraphicEl(he);ue.group.remove(pe)}).execute(),de.eachItemGraphicEl(function(he,pe){var _e=de.getItemModel(pe),$e=de.getItemVisual(pe,"style");he.useStyle(de.getItemVisual(pe,"style")),setLabelStyle$1(he,getLabelStatesModels$1(_e),{labelFetcher:$,labelDataIndex:pe,defaultText:de.getName(pe)||"",inheritColor:isString$3($e.fill)?modifyAlpha$1($e.fill,1):"#000"}),setStatesStylesFromModel$1(he,_e),toggleHoverEmphasis$1(he,null,null,_e.get(["emphasis","disabled"])),getECData$1(he).dataModel=$}),inner$o(ue).data=de,ue.group.silent=$.get("silent")||r.get("silent")},n.type="markArea",n}(MarkerView$3);function createList$2(g,n,r){var $,L,V=["x0","y0","x1","y1"];if(g){var oe=map$3(g&&g.dimensions,function(le){var ue=n.getData(),de=ue.getDimensionInfo(ue.mapDimension(le))||{};return extend$4(extend$4({},de),{name:le,ordinalMeta:null})});L=map$3(V,function(le,ue){return{name:le,type:oe[ue%2].type}}),$=new SeriesData$3(L,r)}else L=[{name:"value",type:"float"}],$=new SeriesData$3(L,r);var ae=map$3(r.get("data"),curry$3(markAreaTransform$1,n,g,r));g&&(ae=filter$1(ae,curry$3(markAreaFilter$1,g)));var re=g?function(le,ue,de,he){var pe=le.coord[Math.floor(he/2)][he%2];return parseDataValue$1(pe,L[he])}:function(le,ue,de,he){return parseDataValue$1(le.value,L[he])};return $.initData(ae,null,re),$.hasItemOption=!0,$}const MarkAreaView$3=MarkAreaView$2;function install$15(g){g.registerComponentModel(MarkAreaModel$3),g.registerComponentView(MarkAreaView$3),g.registerPreprocessor(function(n){checkMarkerInSeries$1(n.series,"markArea")&&(n.markArea=n.markArea||{})})}var getDefaultSelectorOptions$1=function(g,n){if(n==="all")return{type:"all",title:g.getLocaleModel().get(["legend","selector","all"])};if(n==="inverse")return{type:"inverse",title:g.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.layoutMode={type:"box",ignoreSize:!0},r}return n.prototype.init=function(r,$,L){this.mergeDefaultAndTheme(r,L),r.selected=r.selected||{},this._updateSelector(r)},n.prototype.mergeOption=function(r,$){g.prototype.mergeOption.call(this,r,$),this._updateSelector(r)},n.prototype._updateSelector=function(r){var $=r.selector,L=this.ecModel;$===!0&&($=r.selector=["all","inverse"]),isArray$6($)&&each$v($,function(V,oe){isString$3(V)&&(V={type:V}),$[oe]=merge$3(V,getDefaultSelectorOptions$1(L,V.type))})},n.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var $=!1,L=0;L<r.length;L++){var V=r[L].get("name");if(this.isSelected(V)){this.select(V),$=!0;break}}!$&&this.select(r[0].get("name"))}},n.prototype._updateData=function(r){var $=[],L=[];r.eachRawSeries(function(re){var le=re.name;L.push(le);var ue;if(re.legendVisualProvider){var de=re.legendVisualProvider,he=de.getAllNames();r.isSeriesFiltered(re)||(L=L.concat(he)),he.length?$=$.concat(he):ue=!0}else ue=!0;ue&&isNameSpecified$1(re)&&$.push(re.name)}),this._availableNames=L;var V=this.get("data")||$,oe=createHashMap$1(),ae=map$3(V,function(re){return(isString$3(re)||isNumber$3(re))&&(re={name:re}),oe.get(re.name)?null:(oe.set(re.name,!0),new Model$3(re,this,this.ecModel))},this);this._data=filter$1(ae,function(re){return!!re})},n.prototype.getData=function(){return this._data},n.prototype.select=function(r){var $=this.option.selected,L=this.get("selectedMode");if(L==="single"){var V=this._data;each$v(V,function(oe){$[oe.get("name")]=!1})}$[r]=!0},n.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},n.prototype.toggleSelected=function(r){var $=this.option.selected;$.hasOwnProperty(r)||($[r]=!0),this[$[r]?"unSelect":"select"](r)},n.prototype.allSelect=function(){var r=this._data,$=this.option.selected;each$v(r,function(L){$[L.get("name",!0)]=!0})},n.prototype.inverseSelect=function(){var r=this._data,$=this.option.selected;each$v(r,function(L){var V=L.get("name",!0);$.hasOwnProperty(V)||($[V]=!0),$[V]=!$[V]})},n.prototype.isSelected=function(r){var $=this.option.selected;return!($.hasOwnProperty(r)&&!$[r])&&indexOf$1(this._availableNames,r)>=0},n.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},n.type="legend.plain",n.dependencies=["series"],n.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},n}(ComponentModel$3);const LegendModel$3=LegendModel$2;var curry$2=curry$3,each$j=each$v,Group$6=Group$9,LegendView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.newlineDisabled=!1,r}return n.prototype.init=function(){this.group.add(this._contentGroup=new Group$6),this.group.add(this._selectorGroup=new Group$6),this._isFirstRender=!0},n.prototype.getContentGroup=function(){return this._contentGroup},n.prototype.getSelectorGroup=function(){return this._selectorGroup},n.prototype.render=function(r,$,L){var V=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var oe=r.get("align"),ae=r.get("orient");(!oe||oe==="auto")&&(oe=r.get("left")==="right"&&ae==="vertical"?"right":"left");var re=r.get("selector",!0),le=r.get("selectorPosition",!0);re&&(!le||le==="auto")&&(le=ae==="horizontal"?"end":"start"),this.renderInner(oe,r,$,L,re,ae,le);var ue=r.getBoxLayoutParams(),de={width:L.getWidth(),height:L.getHeight()},he=r.get("padding"),pe=getLayoutRect$1(ue,de,he),_e=this.layoutInner(r,oe,pe,V,re,le),$e=getLayoutRect$1(defaults$7({width:_e.width,height:_e.height},ue),de,he);this.group.x=$e.x-_e.x,this.group.y=$e.y-_e.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground$1(_e,r))}},n.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},n.prototype.renderInner=function(r,$,L,V,oe,ae,re){var le=this.getContentGroup(),ue=createHashMap$1(),de=$.get("selectedMode"),he=[];L.eachRawSeries(function(pe){!pe.get("legendHoverLink")&&he.push(pe.id)}),each$j($.getData(),function(pe,_e){var $e=pe.get("name");if(!this.newlineDisabled&&($e===""||$e===`
`)){var xe=new Group$6;xe.newline=!0,le.add(xe);return}var Oe=L.getSeriesByName($e)[0];if(!ue.get($e))if(Oe){var Ce=Oe.getData(),Ie=Ce.getVisual("legendLineStyle")||{},Ne=Ce.getVisual("legendIcon"),ze=Ce.getVisual("style"),Fe=this._createItem(Oe,$e,_e,pe,$,r,Ie,ze,Ne,de,V);Fe.on("click",curry$2(dispatchSelectAction$1,$e,null,V,he)).on("mouseover",curry$2(dispatchHighlightAction$1,Oe.name,null,V,he)).on("mouseout",curry$2(dispatchDownplayAction$1,Oe.name,null,V,he)),ue.set($e,!0)}else L.eachRawSeries(function(Ue){if(!ue.get($e)&&Ue.legendVisualProvider){var At=Ue.legendVisualProvider;if(!At.containName($e))return;var Et=At.indexOfName($e),Pt=At.getItemVisual(Et,"style"),kt=At.getItemVisual(Et,"legendIcon"),Dt=parse$1(Pt.fill);Dt&&Dt[3]===0&&(Dt[3]=.2,Pt=extend$4(extend$4({},Pt),{fill:stringify$2(Dt,"rgba")}));var Lt=this._createItem(Ue,$e,_e,pe,$,r,{},Pt,kt,de,V);Lt.on("click",curry$2(dispatchSelectAction$1,null,$e,V,he)).on("mouseover",curry$2(dispatchHighlightAction$1,null,$e,V,he)).on("mouseout",curry$2(dispatchDownplayAction$1,null,$e,V,he)),ue.set($e,!0)}},this)},this),oe&&this._createSelector(oe,$,V,ae,re)},n.prototype._createSelector=function(r,$,L,V,oe){var ae=this.getSelectorGroup();each$j(r,function(re){var le=re.type,ue=new ZRText$3({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){L.dispatchAction({type:le==="all"?"legendAllSelect":"legendInverseSelect"})}});ae.add(ue);var de=$.getModel("selectorLabel"),he=$.getModel(["emphasis","selectorLabel"]);setLabelStyle$1(ue,{normal:de,emphasis:he},{defaultText:re.title}),enableHoverEmphasis$1(ue)})},n.prototype._createItem=function(r,$,L,V,oe,ae,re,le,ue,de,he){var pe=r.visualDrawType,_e=oe.get("itemWidth"),$e=oe.get("itemHeight"),xe=oe.isSelected($),Oe=V.get("symbolRotate"),Ce=V.get("symbolKeepAspect"),Ie=V.get("icon");ue=Ie||ue||"roundRect";var Ne=getLegendStyle$1(ue,V,re,le,pe,xe,he),ze=new Group$6,Fe=V.getModel("textStyle");if(isFunction$3(r.getLegendIcon)&&(!Ie||Ie==="inherit"))ze.add(r.getLegendIcon({itemWidth:_e,itemHeight:$e,icon:ue,iconRotate:Oe,itemStyle:Ne.itemStyle,lineStyle:Ne.lineStyle,symbolKeepAspect:Ce}));else{var Ue=Ie==="inherit"&&r.getData().getVisual("symbol")?Oe==="inherit"?r.getData().getVisual("symbolRotate"):Oe:0;ze.add(getDefaultLegendIcon$1({itemWidth:_e,itemHeight:$e,icon:ue,iconRotate:Ue,itemStyle:Ne.itemStyle,lineStyle:Ne.lineStyle,symbolKeepAspect:Ce}))}var At=ae==="left"?_e+5:-5,Et=ae,Pt=oe.get("formatter"),kt=$;isString$3(Pt)&&Pt?kt=Pt.replace("{name}",$!=null?$:""):isFunction$3(Pt)&&(kt=Pt($));var Dt=V.get("inactiveColor");ze.add(new ZRText$3({style:createTextStyle$1(Fe,{text:kt,x:At,y:$e/2,fill:xe?Fe.getTextColor():Dt,align:Et,verticalAlign:"middle"})}));var Lt=new Rect$7({shape:ze.getBoundingRect(),invisible:!0}),hn=V.getModel("tooltip");return hn.get("show")&&setTooltipConfig$1({el:Lt,componentModel:oe,itemName:$,itemTooltipOption:hn.option}),ze.add(Lt),ze.eachChild(function(vn){vn.silent=!0}),Lt.silent=!de,this.getContentGroup().add(ze),enableHoverEmphasis$1(ze),ze.__legendDataIndex=L,ze},n.prototype.layoutInner=function(r,$,L,V,oe,ae){var re=this.getContentGroup(),le=this.getSelectorGroup();box$1(r.get("orient"),re,r.get("itemGap"),L.width,L.height);var ue=re.getBoundingRect(),de=[-ue.x,-ue.y];if(le.markRedraw(),re.markRedraw(),oe){box$1("horizontal",le,r.get("selectorItemGap",!0));var he=le.getBoundingRect(),pe=[-he.x,-he.y],_e=r.get("selectorButtonGap",!0),$e=r.getOrient().index,xe=$e===0?"width":"height",Oe=$e===0?"height":"width",Ce=$e===0?"y":"x";ae==="end"?pe[$e]+=ue[xe]+_e:de[$e]+=he[xe]+_e,pe[1-$e]+=ue[Oe]/2-he[Oe]/2,le.x=pe[0],le.y=pe[1],re.x=de[0],re.y=de[1];var Ie={x:0,y:0};return Ie[xe]=ue[xe]+_e+he[xe],Ie[Oe]=Math.max(ue[Oe],he[Oe]),Ie[Ce]=Math.min(0,he[Ce]+pe[1-$e]),Ie}else return re.x=de[0],re.y=de[1],this.group.getBoundingRect()},n.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},n.type="legend.plain",n}(ComponentView$3);function getLegendStyle$1(g,n,r,$,L,V,oe){function ae(xe,Oe){xe.lineWidth==="auto"&&(xe.lineWidth=Oe.lineWidth>0?2:0),each$j(xe,function(Ce,Ie){xe[Ie]==="inherit"&&(xe[Ie]=Oe[Ie])})}var re=n.getModel("itemStyle"),le=re.getItemStyle(),ue=g.lastIndexOf("empty",0)===0?"fill":"stroke",de=re.getShallow("decal");le.decal=!de||de==="inherit"?$.decal:createOrUpdatePatternFromDecal$1(de,oe),le.fill==="inherit"&&(le.fill=$[L]),le.stroke==="inherit"&&(le.stroke=$[ue]),le.opacity==="inherit"&&(le.opacity=(L==="fill"?$:r).opacity),ae(le,$);var he=n.getModel("lineStyle"),pe=he.getLineStyle();if(ae(pe,r),le.fill==="auto"&&(le.fill=$.fill),le.stroke==="auto"&&(le.stroke=$.fill),pe.stroke==="auto"&&(pe.stroke=$.fill),!V){var _e=n.get("inactiveBorderWidth"),$e=le[ue];le.lineWidth=_e==="auto"?$.lineWidth>0&&$e?2:0:le.lineWidth,le.fill=n.get("inactiveColor"),le.stroke=n.get("inactiveBorderColor"),pe.stroke=he.get("inactiveColor"),pe.lineWidth=he.get("inactiveWidth")}return{itemStyle:le,lineStyle:pe}}function getDefaultLegendIcon$1(g){var n=g.icon||"roundRect",r=createSymbol$3(n,0,0,g.itemWidth,g.itemHeight,g.itemStyle.fill,g.symbolKeepAspect);return r.setStyle(g.itemStyle),r.rotation=(g.iconRotate||0)*Math.PI/180,r.setOrigin([g.itemWidth/2,g.itemHeight/2]),n.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function dispatchSelectAction$1(g,n,r,$){dispatchDownplayAction$1(g,n,r,$),r.dispatchAction({type:"legendToggleSelect",name:g!=null?g:n}),dispatchHighlightAction$1(g,n,r,$)}function isUseHoverLayer$1(g){for(var n=g.getZr().storage.getDisplayList(),r,$=0,L=n.length;$<L&&!(r=n[$].states.emphasis);)$++;return r&&r.hoverLayer}function dispatchHighlightAction$1(g,n,r,$){isUseHoverLayer$1(r)||r.dispatchAction({type:"highlight",seriesName:g,name:n,excludeSeriesId:$})}function dispatchDownplayAction$1(g,n,r,$){isUseHoverLayer$1(r)||r.dispatchAction({type:"downplay",seriesName:g,name:n,excludeSeriesId:$})}const LegendView$3=LegendView$2;function legendFilter$1(g){var n=g.findComponents({mainType:"legend"});n&&n.length&&g.filterSeries(function(r){for(var $=0;$<n.length;$++)if(!n[$].isSelected(r.name))return!1;return!0})}function legendSelectActionHandler$1(g,n,r){var $={},L=g==="toggleSelected",V;return r.eachComponent("legend",function(oe){L&&V!=null?oe[V?"select":"unSelect"](n.name):g==="allSelect"||g==="inverseSelect"?oe[g]():(oe[g](n.name),V=oe.isSelected(n.name));var ae=oe.getData();each$v(ae,function(re){var le=re.get("name");if(!(le===`
`||le==="")){var ue=oe.isSelected(le);$.hasOwnProperty(le)?$[le]=$[le]&&ue:$[le]=ue}})}),g==="allSelect"||g==="inverseSelect"?{selected:$}:{name:n.name,selected:$}}function installLegendAction$1(g){g.registerAction("legendToggleSelect","legendselectchanged",curry$3(legendSelectActionHandler$1,"toggleSelected")),g.registerAction("legendAllSelect","legendselectall",curry$3(legendSelectActionHandler$1,"allSelect")),g.registerAction("legendInverseSelect","legendinverseselect",curry$3(legendSelectActionHandler$1,"inverseSelect")),g.registerAction("legendSelect","legendselected",curry$3(legendSelectActionHandler$1,"select")),g.registerAction("legendUnSelect","legendunselected",curry$3(legendSelectActionHandler$1,"unSelect"))}function install$14(g){g.registerComponentModel(LegendModel$3),g.registerComponentView(LegendView$3),g.registerProcessor(g.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter$1),g.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction$1(g)}var ScrollableLegendModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},n.prototype.init=function(r,$,L){var V=getLayoutParams$1(r);g.prototype.init.call(this,r,$,L),mergeAndNormalizeLayoutParams$2(this,r,V)},n.prototype.mergeOption=function(r,$){g.prototype.mergeOption.call(this,r,$),mergeAndNormalizeLayoutParams$2(this,this.option,r)},n.type="legend.scroll",n.defaultOption=inheritDefaultOption$1(LegendModel$3.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),n}(LegendModel$3);function mergeAndNormalizeLayoutParams$2(g,n,r){var $=g.getOrient(),L=[1,1];L[$.index]=0,mergeLayoutParam$1(n,r,{type:"box",ignoreSize:!!L})}const ScrollableLegendModel$3=ScrollableLegendModel$2;var Group$5=Group$9,WH$2=["width","height"],XY$2=["x","y"],ScrollableLegendView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.newlineDisabled=!0,r._currentIndex=0,r}return n.prototype.init=function(){g.prototype.init.call(this),this.group.add(this._containerGroup=new Group$5),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group$5)},n.prototype.resetInner=function(){g.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},n.prototype.renderInner=function(r,$,L,V,oe,ae,re){var le=this;g.prototype.renderInner.call(this,r,$,L,V,oe,ae,re);var ue=this._controllerGroup,de=$.get("pageIconSize",!0),he=isArray$6(de)?de:[de,de];_e("pagePrev",0);var pe=$.getModel("pageTextStyle");ue.add(new ZRText$3({name:"pageText",style:{text:"xx/xx",fill:pe.getTextColor(),font:pe.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),_e("pageNext",1);function _e($e,xe){var Oe=$e+"DataIndex",Ce=createIcon$1($.get("pageIcons",!0)[$.getOrient().name][xe],{onclick:bind$5(le._pageGo,le,Oe,$,V)},{x:-he[0]/2,y:-he[1]/2,width:he[0],height:he[1]});Ce.name=$e,ue.add(Ce)}},n.prototype.layoutInner=function(r,$,L,V,oe,ae){var re=this.getSelectorGroup(),le=r.getOrient().index,ue=WH$2[le],de=XY$2[le],he=WH$2[1-le],pe=XY$2[1-le];oe&&box$1("horizontal",re,r.get("selectorItemGap",!0));var _e=r.get("selectorButtonGap",!0),$e=re.getBoundingRect(),xe=[-$e.x,-$e.y],Oe=clone$9(L);oe&&(Oe[ue]=L[ue]-$e[ue]-_e);var Ce=this._layoutContentAndController(r,V,Oe,le,ue,he,pe,de);if(oe){if(ae==="end")xe[le]+=Ce[ue]+_e;else{var Ie=$e[ue]+_e;xe[le]-=Ie,Ce[de]-=Ie}Ce[ue]+=$e[ue]+_e,xe[1-le]+=Ce[pe]+Ce[he]/2-$e[he]/2,Ce[he]=Math.max(Ce[he],$e[he]),Ce[pe]=Math.min(Ce[pe],$e[pe]+xe[1-le]),re.x=xe[0],re.y=xe[1],re.markRedraw()}return Ce},n.prototype._layoutContentAndController=function(r,$,L,V,oe,ae,re,le){var ue=this.getContentGroup(),de=this._containerGroup,he=this._controllerGroup;box$1(r.get("orient"),ue,r.get("itemGap"),V?L.width:null,V?null:L.height),box$1("horizontal",he,r.get("pageButtonItemGap",!0));var pe=ue.getBoundingRect(),_e=he.getBoundingRect(),$e=this._showController=pe[oe]>L[oe],xe=[-pe.x,-pe.y];$||(xe[V]=ue[le]);var Oe=[0,0],Ce=[-_e.x,-_e.y],Ie=retrieve2$1(r.get("pageButtonGap",!0),r.get("itemGap",!0));if($e){var Ne=r.get("pageButtonPosition",!0);Ne==="end"?Ce[V]+=L[oe]-_e[oe]:Oe[V]+=_e[oe]+Ie}Ce[1-V]+=pe[ae]/2-_e[ae]/2,ue.setPosition(xe),de.setPosition(Oe),he.setPosition(Ce);var ze={x:0,y:0};if(ze[oe]=$e?L[oe]:pe[oe],ze[ae]=Math.max(pe[ae],_e[ae]),ze[re]=Math.min(0,_e[re]+Ce[1-V]),de.__rectSize=L[oe],$e){var Fe={x:0,y:0};Fe[oe]=Math.max(L[oe]-_e[oe]-Ie,0),Fe[ae]=ze[ae],de.setClipPath(new Rect$7({shape:Fe})),de.__rectSize=Fe[oe]}else he.eachChild(function(At){At.attr({invisible:!0,silent:!0})});var Ue=this._getPageInfo(r);return Ue.pageIndex!=null&&updateProps$3(ue,{x:Ue.contentPosition[0],y:Ue.contentPosition[1]},$e?r:null),this._updatePageInfoView(r,Ue),ze},n.prototype._pageGo=function(r,$,L){var V=this._getPageInfo($)[r];V!=null&&L.dispatchAction({type:"legendScroll",scrollDataIndex:V,legendId:$.id})},n.prototype._updatePageInfoView=function(r,$){var L=this._controllerGroup;each$v(["pagePrev","pageNext"],function(ue){var de=ue+"DataIndex",he=$[de]!=null,pe=L.childOfName(ue);pe&&(pe.setStyle("fill",he?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),pe.cursor=he?"pointer":"default")});var V=L.childOfName("pageText"),oe=r.get("pageFormatter"),ae=$.pageIndex,re=ae!=null?ae+1:0,le=$.pageCount;V&&oe&&V.setStyle("text",isString$3(oe)?oe.replace("{current}",re==null?"":re+"").replace("{total}",le==null?"":le+""):oe({current:re,total:le}))},n.prototype._getPageInfo=function(r){var $=r.get("scrollDataIndex",!0),L=this.getContentGroup(),V=this._containerGroup.__rectSize,oe=r.getOrient().index,ae=WH$2[oe],re=XY$2[oe],le=this._findTargetItemIndex($),ue=L.children(),de=ue[le],he=ue.length,pe=he?1:0,_e={contentPosition:[L.x,L.y],pageCount:pe,pageIndex:pe-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!de)return _e;var $e=Ne(de);_e.contentPosition[oe]=-$e.s;for(var xe=le+1,Oe=$e,Ce=$e,Ie=null;xe<=he;++xe)Ie=Ne(ue[xe]),(!Ie&&Ce.e>Oe.s+V||Ie&&!ze(Ie,Oe.s))&&(Ce.i>Oe.i?Oe=Ce:Oe=Ie,Oe&&(_e.pageNextDataIndex==null&&(_e.pageNextDataIndex=Oe.i),++_e.pageCount)),Ce=Ie;for(var xe=le-1,Oe=$e,Ce=$e,Ie=null;xe>=-1;--xe)Ie=Ne(ue[xe]),(!Ie||!ze(Ce,Ie.s))&&Oe.i<Ce.i&&(Ce=Oe,_e.pagePrevDataIndex==null&&(_e.pagePrevDataIndex=Oe.i),++_e.pageCount,++_e.pageIndex),Oe=Ie;return _e;function Ne(Fe){if(Fe){var Ue=Fe.getBoundingRect(),At=Ue[re]+Fe[re];return{s:At,e:At+Ue[ae],i:Fe.__legendDataIndex}}}function ze(Fe,Ue){return Fe.e>=Ue&&Fe.s<=Ue+V}},n.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var $,L=this.getContentGroup(),V;return L.eachChild(function(oe,ae){var re=oe.__legendDataIndex;V==null&&re!=null&&(V=ae),re===r&&($=ae)}),$!=null?$:V},n.type="legend.scroll",n}(LegendView$3);const ScrollableLegendView$3=ScrollableLegendView$2;function installScrollableLegendAction$1(g){g.registerAction("legendScroll","legendscroll",function(n,r){var $=n.scrollDataIndex;$!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:n},function(L){L.setScrollDataIndex($)})})}function install$13(g){use$1(install$14),g.registerComponentModel(ScrollableLegendModel$3),g.registerComponentView(ScrollableLegendView$3),installScrollableLegendAction$1(g)}function install$12(g){use$1(install$14),use$1(install$13)}var InsideZoomModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.inside",n.defaultOption=inheritDefaultOption$1(DataZoomModel$3.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),n}(DataZoomModel$3);const InsideZoomModel$3=InsideZoomModel$2;var inner$n=makeInner$1();function setViewInfoToCoordSysRecord$1(g,n,r){inner$n(g).coordSysRecordMap.each(function($){var L=$.dataZoomInfoMap.get(n.uid);L&&(L.getRange=r)})}function disposeCoordSysRecordIfNeeded$1(g,n){for(var r=inner$n(g).coordSysRecordMap,$=r.keys(),L=0;L<$.length;L++){var V=$[L],oe=r.get(V),ae=oe.dataZoomInfoMap;if(ae){var re=n.uid,le=ae.get(re);le&&(ae.removeKey(re),ae.keys().length||disposeCoordSysRecord$1(r,oe))}}}function disposeCoordSysRecord$1(g,n){if(n){g.removeKey(n.model.uid);var r=n.controller;r&&r.dispose()}}function createCoordSysRecord$1(g,n){var r={model:n,containsPoint:curry$3(containsPoint$1,n),dispatchAction:curry$3(dispatchAction$2,g),dataZoomInfoMap:null,controller:null},$=r.controller=new RoamController$3(g.getZr());return each$v(["pan","zoom","scrollMove"],function(L){$.on(L,function(V){var oe=[];r.dataZoomInfoMap.each(function(ae){if(V.isAvailableBehavior(ae.model.option)){var re=(ae.getRange||{})[L],le=re&&re(ae.dzReferCoordSysInfo,r.model.mainType,r.controller,V);!ae.model.get("disabled",!0)&&le&&oe.push({dataZoomId:ae.model.id,start:le[0],end:le[1]})}}),oe.length&&r.dispatchAction(oe)})}),r}function dispatchAction$2(g,n){g.isDisposed()||g.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:n})}function containsPoint$1(g,n,r,$){return g.coordinateSystem.containPoint([r,$])}function mergeControllerParams$1(g){var n,r="type_",$={type_true:2,type_move:1,type_false:0,type_undefined:-1},L=!0;return g.each(function(V){var oe=V.model,ae=oe.get("disabled",!0)?!1:oe.get("zoomLock",!0)?"move":!0;$[r+ae]>$[r+n]&&(n=ae),L=L&&oe.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!L}}}function installDataZoomRoamProcessor$1(g){g.registerProcessor(g.PRIORITY.PROCESSOR.FILTER,function(n,r){var $=inner$n(r),L=$.coordSysRecordMap||($.coordSysRecordMap=createHashMap$1());L.each(function(V){V.dataZoomInfoMap=null}),n.eachComponent({mainType:"dataZoom",subType:"inside"},function(V){var oe=collectReferCoordSysModelInfo$1(V);each$v(oe.infoList,function(ae){var re=ae.model.uid,le=L.get(re)||L.set(re,createCoordSysRecord$1(r,ae.model)),ue=le.dataZoomInfoMap||(le.dataZoomInfoMap=createHashMap$1());ue.set(V.uid,{dzReferCoordSysInfo:ae,model:V,getRange:null})})}),L.each(function(V){var oe=V.controller,ae,re=V.dataZoomInfoMap;if(re){var le=re.keys()[0];le!=null&&(ae=re.get(le))}if(!ae){disposeCoordSysRecord$1(L,V);return}var ue=mergeControllerParams$1(re);oe.enable(ue.controlType,ue.opt),oe.setPointerChecker(V.containsPoint),createOrUpdate$1(V,"dispatchAction",ae.model.get("throttle",!0),"fixRate")})})}var InsideZoomView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="dataZoom.inside",r}return n.prototype.render=function(r,$,L){if(g.prototype.render.apply(this,arguments),r.noTarget()){this._clear();return}this.range=r.getPercentRange(),setViewInfoToCoordSysRecord$1(L,r,{pan:bind$5(getRangeHandlers$1.pan,this),zoom:bind$5(getRangeHandlers$1.zoom,this),scrollMove:bind$5(getRangeHandlers$1.scrollMove,this)})},n.prototype.dispose=function(){this._clear(),g.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){disposeCoordSysRecordIfNeeded$1(this.api,this.dataZoomModel),this.range=null},n.type="dataZoom.inside",n}(DataZoomView$3),getRangeHandlers$1={zoom:function(g,n,r,$){var L=this.range,V=L.slice(),oe=g.axisModels[0];if(oe){var ae=getDirectionInfo$1[n](null,[$.originX,$.originY],oe,r,g),re=(ae.signal>0?ae.pixelStart+ae.pixelLength-ae.pixel:ae.pixel-ae.pixelStart)/ae.pixelLength*(V[1]-V[0])+V[0],le=Math.max(1/$.scale,0);V[0]=(V[0]-re)*le+re,V[1]=(V[1]-re)*le+re;var ue=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove$1(0,V,[0,100],0,ue.minSpan,ue.maxSpan),this.range=V,L[0]!==V[0]||L[1]!==V[1])return V}},pan:makeMover$1(function(g,n,r,$,L,V){var oe=getDirectionInfo$1[$]([V.oldX,V.oldY],[V.newX,V.newY],n,L,r);return oe.signal*(g[1]-g[0])*oe.pixel/oe.pixelLength}),scrollMove:makeMover$1(function(g,n,r,$,L,V){var oe=getDirectionInfo$1[$]([0,0],[V.scrollDelta,V.scrollDelta],n,L,r);return oe.signal*(g[1]-g[0])*V.scrollDelta})};function makeMover$1(g){return function(n,r,$,L){var V=this.range,oe=V.slice(),ae=n.axisModels[0];if(ae){var re=g(oe,ae,n,r,$,L);if(sliderMove$1(re,oe,[0,100],"all"),this.range=oe,V[0]!==oe[0]||V[1]!==oe[1])return oe}}}var getDirectionInfo$1={grid:function(g,n,r,$,L){var V=r.axis,oe={},ae=L.model.coordinateSystem.getRect();return g=g||[0,0],V.dim==="x"?(oe.pixel=n[0]-g[0],oe.pixelLength=ae.width,oe.pixelStart=ae.x,oe.signal=V.inverse?1:-1):(oe.pixel=n[1]-g[1],oe.pixelLength=ae.height,oe.pixelStart=ae.y,oe.signal=V.inverse?-1:1),oe},polar:function(g,n,r,$,L){var V=r.axis,oe={},ae=L.model.coordinateSystem,re=ae.getRadiusAxis().getExtent(),le=ae.getAngleAxis().getExtent();return g=g?ae.pointToCoord(g):[0,0],n=ae.pointToCoord(n),r.mainType==="radiusAxis"?(oe.pixel=n[0]-g[0],oe.pixelLength=re[1]-re[0],oe.pixelStart=re[0],oe.signal=V.inverse?1:-1):(oe.pixel=n[1]-g[1],oe.pixelLength=le[1]-le[0],oe.pixelStart=le[0],oe.signal=V.inverse?-1:1),oe},singleAxis:function(g,n,r,$,L){var V=r.axis,oe=L.model.coordinateSystem.getRect(),ae={};return g=g||[0,0],V.orient==="horizontal"?(ae.pixel=n[0]-g[0],ae.pixelLength=oe.width,ae.pixelStart=oe.x,ae.signal=V.inverse?1:-1):(ae.pixel=n[1]-g[1],ae.pixelLength=oe.height,ae.pixelStart=oe.y,ae.signal=V.inverse?-1:1),ae}};const InsideZoomView$3=InsideZoomView$2;function install$11(g){installCommon$3(g),g.registerComponentModel(InsideZoomModel$3),g.registerComponentView(InsideZoomView$3),installDataZoomRoamProcessor$1(g)}var SliderZoomModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.slider",n.layoutMode="box",n.defaultOption=inheritDefaultOption$1(DataZoomModel$3.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),n}(DataZoomModel$3);const SliderZoomModel$3=SliderZoomModel$2;var Rect$4=Rect$7,DEFAULT_LOCATION_EDGE_GAP$1=7,DEFAULT_FRAME_BORDER_WIDTH$1=1,DEFAULT_FILLER_SIZE$1=30,DEFAULT_MOVE_HANDLE_SIZE$1=7,HORIZONTAL$1="horizontal",VERTICAL$1="vertical",LABEL_GAP$1=5,SHOW_DATA_SHADOW_SERIES_TYPE$1=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG$1={easing:"cubicOut",duration:100,delay:0},SliderZoomView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._displayables={},r}return n.prototype.init=function(r,$){this.api=$,this._onBrush=bind$5(this._onBrush,this),this._onBrushEnd=bind$5(this._onBrushEnd,this)},n.prototype.render=function(r,$,L,V){if(g.prototype.render.apply(this,arguments),createOrUpdate$1(this,"_dispatchZoomAction",r.get("throttle"),"fixRate"),this._orient=r.getOrient(),r.get("show")===!1){this.group.removeAll();return}if(r.noTarget()){this._clear(),this.group.removeAll();return}(!V||V.type!=="dataZoom"||V.from!==this.uid)&&this._buildView(),this._updateView()},n.prototype.dispose=function(){this._clear(),g.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){clear$3(this,"_dispatchZoomAction");var r=this.api.getZr();r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)},n.prototype._buildView=function(){var r=this.group;r.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var $=this._displayables.sliderGroup=new Group$9;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),r.add($),this._positionGroup()},n.prototype._resetLocation=function(){var r=this.dataZoomModel,$=this.api,L=r.get("brushSelect"),V=L?DEFAULT_MOVE_HANDLE_SIZE$1:0,oe=this._findCoordRect(),ae={width:$.getWidth(),height:$.getHeight()},re=this._orient===HORIZONTAL$1?{right:ae.width-oe.x-oe.width,top:ae.height-DEFAULT_FILLER_SIZE$1-DEFAULT_LOCATION_EDGE_GAP$1-V,width:oe.width,height:DEFAULT_FILLER_SIZE$1}:{right:DEFAULT_LOCATION_EDGE_GAP$1,top:oe.y,width:DEFAULT_FILLER_SIZE$1,height:oe.height},le=getLayoutParams$1(r.option);each$v(["right","top","width","height"],function(de){le[de]==="ph"&&(le[de]=re[de])});var ue=getLayoutRect$1(le,ae);this._location={x:ue.x,y:ue.y},this._size=[ue.width,ue.height],this._orient===VERTICAL$1&&this._size.reverse()},n.prototype._positionGroup=function(){var r=this.group,$=this._location,L=this._orient,V=this.dataZoomModel.getFirstTargetAxisModel(),oe=V&&V.get("inverse"),ae=this._displayables.sliderGroup,re=(this._dataShadowInfo||{}).otherAxisInverse;ae.attr(L===HORIZONTAL$1&&!oe?{scaleY:re?1:-1,scaleX:1}:L===HORIZONTAL$1&&oe?{scaleY:re?1:-1,scaleX:-1}:L===VERTICAL$1&&!oe?{scaleY:re?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:re?-1:1,scaleX:-1,rotation:Math.PI/2});var le=r.getBoundingRect([ae]);r.x=$.x-le.x,r.y=$.y-le.y,r.markRedraw()},n.prototype._getViewExtent=function(){return[0,this._size[0]]},n.prototype._renderBackground=function(){var r=this.dataZoomModel,$=this._size,L=this._displayables.sliderGroup,V=r.get("brushSelect");L.add(new Rect$4({silent:!0,shape:{x:0,y:0,width:$[0],height:$[1]},style:{fill:r.get("backgroundColor")},z2:-40}));var oe=new Rect$4({shape:{x:0,y:0,width:$[0],height:$[1]},style:{fill:"transparent"},z2:0,onclick:bind$5(this._onClickPanel,this)}),ae=this.api.getZr();V?(oe.on("mousedown",this._onBrushStart,this),oe.cursor="crosshair",ae.on("mousemove",this._onBrush),ae.on("mouseup",this._onBrushEnd)):(ae.off("mousemove",this._onBrush),ae.off("mouseup",this._onBrushEnd)),L.add(oe)},n.prototype._renderDataShadow=function(){var r=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!r)return;var $=this._size,L=this._shadowSize||[],V=r.series,oe=V.getRawData(),ae=V.getShadowDim&&V.getShadowDim(),re=ae&&oe.getDimensionInfo(ae)?V.getShadowDim():r.otherDim;if(re==null)return;var le=this._shadowPolygonPts,ue=this._shadowPolylinePts;if(oe!==this._shadowData||re!==this._shadowDim||$[0]!==L[0]||$[1]!==L[1]){var de=oe.getDataExtent(re),he=(de[1]-de[0])*.3;de=[de[0]-he,de[1]+he];var pe=[0,$[1]],_e=[0,$[0]],$e=[[$[0],0],[0,0]],xe=[],Oe=_e[1]/(oe.count()-1),Ce=0,Ie=Math.round(oe.count()/$[0]),Ne;oe.each([re],function(Et,Pt){if(Ie>0&&Pt%Ie){Ce+=Oe;return}var kt=Et==null||isNaN(Et)||Et==="",Dt=kt?0:linearMap$5(Et,de,pe,!0);kt&&!Ne&&Pt?($e.push([$e[$e.length-1][0],0]),xe.push([xe[xe.length-1][0],0])):!kt&&Ne&&($e.push([Ce,0]),xe.push([Ce,0])),$e.push([Ce,Dt]),xe.push([Ce,Dt]),Ce+=Oe,Ne=kt}),le=this._shadowPolygonPts=$e,ue=this._shadowPolylinePts=xe}this._shadowData=oe,this._shadowDim=re,this._shadowSize=[$[0],$[1]];var ze=this.dataZoomModel;function Fe(Et){var Pt=ze.getModel(Et?"selectedDataBackground":"dataBackground"),kt=new Group$9,Dt=new Polygon$3({shape:{points:le},segmentIgnoreThreshold:1,style:Pt.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Lt=new Polyline$7({shape:{points:ue},segmentIgnoreThreshold:1,style:Pt.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return kt.add(Dt),kt.add(Lt),kt}for(var Ue=0;Ue<3;Ue++){var At=Fe(Ue===1);this._displayables.sliderGroup.add(At),this._displayables.dataShadowSegs.push(At)}},n.prototype._prepareDataShadowInfo=function(){var r=this.dataZoomModel,$=r.get("showDataShadow");if($!==!1){var L,V=this.ecModel;return r.eachTargetAxis(function(oe,ae){var re=r.getAxisProxy(oe,ae).getTargetSeriesModels();each$v(re,function(le){if(!L&&!($!==!0&&indexOf$1(SHOW_DATA_SHADOW_SERIES_TYPE$1,le.get("type"))<0)){var ue=V.getComponent(getAxisMainType$1(oe),ae).axis,de=getOtherDim$1(oe),he,pe=le.coordinateSystem;de!=null&&pe.getOtherAxis&&(he=pe.getOtherAxis(ue).inverse),de=le.getData().mapDimension(de),L={thisAxis:ue,series:le,thisDim:oe,otherDim:de,otherAxisInverse:he}}},this)},this),L}},n.prototype._renderHandle=function(){var r=this.group,$=this._displayables,L=$.handles=[null,null],V=$.handleLabels=[null,null],oe=this._displayables.sliderGroup,ae=this._size,re=this.dataZoomModel,le=this.api,ue=re.get("borderRadius")||0,de=re.get("brushSelect"),he=$.filler=new Rect$4({silent:de,style:{fill:re.get("fillerColor")},textConfig:{position:"inside"}});oe.add(he),oe.add(new Rect$4({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:ae[0],height:ae[1],r:ue},style:{stroke:re.get("dataBackgroundColor")||re.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH$1,fill:"rgba(0,0,0,0)"}})),each$v([0,1],function(Ie){var Ne=re.get("handleIcon");!symbolBuildProxies$1[Ne]&&Ne.indexOf("path://")<0&&Ne.indexOf("image://")<0&&(Ne="path://"+Ne);var ze=createSymbol$3(Ne,-1,0,2,2,null,!0);ze.attr({cursor:getCursor$3(this._orient),draggable:!0,drift:bind$5(this._onDragMove,this,Ie),ondragend:bind$5(this._onDragEnd,this),onmouseover:bind$5(this._showDataInfo,this,!0),onmouseout:bind$5(this._showDataInfo,this,!1),z2:5});var Fe=ze.getBoundingRect(),Ue=re.get("handleSize");this._handleHeight=parsePercent$2(Ue,this._size[1]),this._handleWidth=Fe.width/Fe.height*this._handleHeight,ze.setStyle(re.getModel("handleStyle").getItemStyle()),ze.style.strokeNoScale=!0,ze.rectHover=!0,ze.ensureState("emphasis").style=re.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis$1(ze);var At=re.get("handleColor");At!=null&&(ze.style.fill=At),oe.add(L[Ie]=ze);var Et=re.getModel("textStyle");r.add(V[Ie]=new ZRText$3({silent:!0,invisible:!0,style:createTextStyle$1(Et,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:Et.getTextColor(),font:Et.getFont()}),z2:10}))},this);var pe=he;if(de){var _e=parsePercent$2(re.get("moveHandleSize"),ae[1]),$e=$.moveHandle=new Rect$7({style:re.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:ae[1]-.5,height:_e}}),xe=_e*.8,Oe=$.moveHandleIcon=createSymbol$3(re.get("moveHandleIcon"),-xe/2,-xe/2,xe,xe,"#fff",!0);Oe.silent=!0,Oe.y=ae[1]+_e/2-.5,$e.ensureState("emphasis").style=re.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var Ce=Math.min(ae[1]/2,Math.max(_e,10));pe=$.moveZone=new Rect$7({invisible:!0,shape:{y:ae[1]-Ce,height:_e+Ce}}),pe.on("mouseover",function(){le.enterEmphasis($e)}).on("mouseout",function(){le.leaveEmphasis($e)}),oe.add($e),oe.add(Oe),oe.add(pe)}pe.attr({draggable:!0,cursor:getCursor$3(this._orient),drift:bind$5(this._onDragMove,this,"all"),ondragstart:bind$5(this._showDataInfo,this,!0),ondragend:bind$5(this._onDragEnd,this),onmouseover:bind$5(this._showDataInfo,this,!0),onmouseout:bind$5(this._showDataInfo,this,!1)})},n.prototype._resetInterval=function(){var r=this._range=this.dataZoomModel.getPercentRange(),$=this._getViewExtent();this._handleEnds=[linearMap$5(r[0],[0,100],$,!0),linearMap$5(r[1],[0,100],$,!0)]},n.prototype._updateInterval=function(r,$){var L=this.dataZoomModel,V=this._handleEnds,oe=this._getViewExtent(),ae=L.findRepresentativeAxisProxy().getMinMaxSpan(),re=[0,100];sliderMove$1($,V,oe,L.get("zoomLock")?"all":r,ae.minSpan!=null?linearMap$5(ae.minSpan,re,oe,!0):null,ae.maxSpan!=null?linearMap$5(ae.maxSpan,re,oe,!0):null);var le=this._range,ue=this._range=asc$5([linearMap$5(V[0],oe,re,!0),linearMap$5(V[1],oe,re,!0)]);return!le||le[0]!==ue[0]||le[1]!==ue[1]},n.prototype._updateView=function(r){var $=this._displayables,L=this._handleEnds,V=asc$5(L.slice()),oe=this._size;each$v([0,1],function(pe){var _e=$.handles[pe],$e=this._handleHeight;_e.attr({scaleX:$e/2,scaleY:$e/2,x:L[pe]+(pe?-1:1),y:oe[1]/2-$e/2})},this),$.filler.setShape({x:V[0],y:0,width:V[1]-V[0],height:oe[1]});var ae={x:V[0],width:V[1]-V[0]};$.moveHandle&&($.moveHandle.setShape(ae),$.moveZone.setShape(ae),$.moveZone.getBoundingRect(),$.moveHandleIcon&&$.moveHandleIcon.attr("x",ae.x+ae.width/2));for(var re=$.dataShadowSegs,le=[0,V[0],V[1],oe[0]],ue=0;ue<re.length;ue++){var de=re[ue],he=de.getClipPath();he||(he=new Rect$7,de.setClipPath(he)),he.setShape({x:le[ue],y:0,width:le[ue+1]-le[ue],height:oe[1]})}this._updateDataInfo(r)},n.prototype._updateDataInfo=function(r){var $=this.dataZoomModel,L=this._displayables,V=L.handleLabels,oe=this._orient,ae=["",""];if($.get("showDetail")){var re=$.findRepresentativeAxisProxy();if(re){var le=re.getAxisModel().axis,ue=this._range,de=r?re.calculateDataWindow({start:ue[0],end:ue[1]}).valueWindow:re.getDataValueWindow();ae=[this._formatLabel(de[0],le),this._formatLabel(de[1],le)]}}var he=asc$5(this._handleEnds.slice());pe.call(this,0),pe.call(this,1);function pe(_e){var $e=getTransform$3(L.handles[_e].parent,this.group),xe=transformDirection$1(_e===0?"right":"left",$e),Oe=this._handleWidth/2+LABEL_GAP$1,Ce=applyTransform$2([he[_e]+(_e===0?-Oe:Oe),this._size[1]/2],$e);V[_e].setStyle({x:Ce[0],y:Ce[1],verticalAlign:oe===HORIZONTAL$1?"middle":xe,align:oe===HORIZONTAL$1?xe:"center",text:ae[_e]})}},n.prototype._formatLabel=function(r,$){var L=this.dataZoomModel,V=L.get("labelFormatter"),oe=L.get("labelPrecision");(oe==null||oe==="auto")&&(oe=$.getPixelPrecision());var ae=r==null||isNaN(r)?"":$.type==="category"||$.type==="time"?$.scale.getLabel({value:Math.round(r)}):r.toFixed(Math.min(oe,20));return isFunction$3(V)?V(r,ae):isString$3(V)?V.replace("{value}",ae):ae},n.prototype._showDataInfo=function(r){r=this._dragging||r;var $=this._displayables,L=$.handleLabels;L[0].attr("invisible",!r),L[1].attr("invisible",!r),$.moveHandle&&this.api[r?"enterEmphasis":"leaveEmphasis"]($.moveHandle,1)},n.prototype._onDragMove=function(r,$,L,V){this._dragging=!0,stop$1(V.event);var oe=this._displayables.sliderGroup.getLocalTransform(),ae=applyTransform$2([$,L],oe,!0),re=this._updateInterval(r,ae[0]),le=this.dataZoomModel.get("realtime");this._updateView(!le),re&&le&&this._dispatchZoomAction(!0)},n.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var r=this.dataZoomModel.get("realtime");!r&&this._dispatchZoomAction(!1)},n.prototype._onClickPanel=function(r){var $=this._size,L=this._displayables.sliderGroup.transformCoordToLocal(r.offsetX,r.offsetY);if(!(L[0]<0||L[0]>$[0]||L[1]<0||L[1]>$[1])){var V=this._handleEnds,oe=(V[0]+V[1])/2,ae=this._updateInterval("all",L[0]-oe);this._updateView(),ae&&this._dispatchZoomAction(!1)}},n.prototype._onBrushStart=function(r){var $=r.offsetX,L=r.offsetY;this._brushStart=new Point$3($,L),this._brushing=!0,this._brushStartTime=+new Date},n.prototype._onBrushEnd=function(r){if(this._brushing){var $=this._displayables.brushRect;if(this._brushing=!1,!!$){$.attr("ignore",!0);var L=$.shape,V=+new Date;if(!(V-this._brushStartTime<200&&Math.abs(L.width)<5)){var oe=this._getViewExtent(),ae=[0,100];this._range=asc$5([linearMap$5(L.x,oe,ae,!0),linearMap$5(L.x+L.width,oe,ae,!0)]),this._handleEnds=[L.x,L.x+L.width],this._updateView(),this._dispatchZoomAction(!1)}}}},n.prototype._onBrush=function(r){this._brushing&&(stop$1(r.event),this._updateBrushRect(r.offsetX,r.offsetY))},n.prototype._updateBrushRect=function(r,$){var L=this._displayables,V=this.dataZoomModel,oe=L.brushRect;oe||(oe=L.brushRect=new Rect$4({silent:!0,style:V.getModel("brushStyle").getItemStyle()}),L.sliderGroup.add(oe)),oe.attr("ignore",!1);var ae=this._brushStart,re=this._displayables.sliderGroup,le=re.transformCoordToLocal(r,$),ue=re.transformCoordToLocal(ae.x,ae.y),de=this._size;le[0]=Math.max(Math.min(de[0],le[0]),0),oe.setShape({x:ue[0],y:0,width:le[0]-ue[0],height:de[1]})},n.prototype._dispatchZoomAction=function(r){var $=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:r?REALTIME_ANIMATION_CONFIG$1:null,start:$[0],end:$[1]})},n.prototype._findCoordRect=function(){var r,$=collectReferCoordSysModelInfo$1(this.dataZoomModel).infoList;if(!r&&$.length){var L=$[0].model.coordinateSystem;r=L.getRect&&L.getRect()}if(!r){var V=this.api.getWidth(),oe=this.api.getHeight();r={x:V*.2,y:oe*.2,width:V*.6,height:oe*.6}}return r},n.type="dataZoom.slider",n}(DataZoomView$3);function getOtherDim$1(g){var n={x:"y",y:"x",radius:"angle",angle:"radius"};return n[g]}function getCursor$3(g){return g==="vertical"?"ns-resize":"ew-resize"}const SliderZoomView$3=SliderZoomView$2;function install$10(g){g.registerComponentModel(SliderZoomModel$3),g.registerComponentView(SliderZoomView$3),installCommon$3(g)}function install$$(g){use$1(install$11),use$1(install$10)}var visualDefault$2={get:function(g,n,r){var $=clone$9((defaultOption$2[g]||{})[n]);return r&&isArray$6($)?$[$.length-1]:$}},defaultOption$2={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const visualDefault$3=visualDefault$2;var mapVisual$2=VisualMapping$3.mapVisual,eachVisual$1=VisualMapping$3.eachVisual,isArray$5=isArray$6,each$i=each$v,asc$3=asc$5,linearMap$4=linearMap$5,VisualMapModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.stateList=["inRange","outOfRange"],r.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],r.layoutMode={type:"box",ignoreSize:!0},r.dataBound=[-1/0,1/0],r.targetVisuals={},r.controllerVisuals={},r}return n.prototype.init=function(r,$,L){this.mergeDefaultAndTheme(r,L)},n.prototype.optionUpdated=function(r,$){var L=this.option;!$&&replaceVisualOption$1(L,r,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},n.prototype.resetVisual=function(r){var $=this.stateList;r=bind$5(r,this),this.controllerVisuals=createVisualMappings$1(this.option.controller,$,r),this.targetVisuals=createVisualMappings$1(this.option.target,$,r)},n.prototype.getItemSymbol=function(){return null},n.prototype.getTargetSeriesIndices=function(){var r=this.option.seriesIndex,$=[];return r==null||r==="all"?this.ecModel.eachSeries(function(L,V){$.push(V)}):$=normalizeToArray$1(r),$},n.prototype.eachTargetSeries=function(r,$){each$v(this.getTargetSeriesIndices(),function(L){var V=this.ecModel.getSeriesByIndex(L);V&&r.call($,V)},this)},n.prototype.isTargetSeries=function(r){var $=!1;return this.eachTargetSeries(function(L){L===r&&($=!0)}),$},n.prototype.formatValueText=function(r,$,L){var V=this.option,oe=V.precision,ae=this.dataBound,re=V.formatter,le;L=L||["<",">"],isArray$6(r)&&(r=r.slice(),le=!0);var ue=$?r:le?[de(r[0]),de(r[1])]:de(r);if(isString$3(re))return re.replace("{value}",le?ue[0]:ue).replace("{value2}",le?ue[1]:ue);if(isFunction$3(re))return le?re(r[0],r[1]):re(r);if(le)return r[0]===ae[0]?L[0]+" "+ue[1]:r[1]===ae[1]?L[1]+" "+ue[0]:ue[0]+" - "+ue[1];return ue;function de(he){return he===ae[0]?"min":he===ae[1]?"max":(+he).toFixed(Math.min(oe,20))}},n.prototype.resetExtent=function(){var r=this.option,$=asc$3([r.min,r.max]);this._dataExtent=$},n.prototype.getDataDimensionIndex=function(r){var $=this.option.dimension;if($!=null)return r.getDimensionIndex($);for(var L=r.dimensions,V=L.length-1;V>=0;V--){var oe=L[V],ae=r.getDimensionInfo(oe);if(!ae.isCalculationCoord)return ae.storeDimIndex}},n.prototype.getExtent=function(){return this._dataExtent.slice()},n.prototype.completeVisualOption=function(){var r=this.ecModel,$=this.option,L={inRange:$.inRange,outOfRange:$.outOfRange},V=$.target||($.target={}),oe=$.controller||($.controller={});merge$3(V,L),merge$3(oe,L);var ae=this.isCategory();re.call(this,V),re.call(this,oe),le.call(this,V,"inRange","outOfRange"),ue.call(this,oe);function re(de){isArray$5($.color)&&!de.inRange&&(de.inRange={color:$.color.slice().reverse()}),de.inRange=de.inRange||{color:r.get("gradientColor")}}function le(de,he,pe){var _e=de[he],$e=de[pe];_e&&!$e&&($e=de[pe]={},each$i(_e,function(xe,Oe){if(VisualMapping$3.isValidType(Oe)){var Ce=visualDefault$3.get(Oe,"inactive",ae);Ce!=null&&($e[Oe]=Ce,Oe==="color"&&!$e.hasOwnProperty("opacity")&&!$e.hasOwnProperty("colorAlpha")&&($e.opacity=[0,0]))}}))}function ue(de){var he=(de.inRange||{}).symbol||(de.outOfRange||{}).symbol,pe=(de.inRange||{}).symbolSize||(de.outOfRange||{}).symbolSize,_e=this.get("inactiveColor"),$e=this.getItemSymbol(),xe=$e||"roundRect";each$i(this.stateList,function(Oe){var Ce=this.itemSize,Ie=de[Oe];Ie||(Ie=de[Oe]={color:ae?_e:[_e]}),Ie.symbol==null&&(Ie.symbol=he&&clone$9(he)||(ae?xe:[xe])),Ie.symbolSize==null&&(Ie.symbolSize=pe&&clone$9(pe)||(ae?Ce[0]:[Ce[0],Ce[0]])),Ie.symbol=mapVisual$2(Ie.symbol,function(Fe){return Fe==="none"?xe:Fe});var Ne=Ie.symbolSize;if(Ne!=null){var ze=-1/0;eachVisual$1(Ne,function(Fe){Fe>ze&&(ze=Fe)}),Ie.symbolSize=mapVisual$2(Ne,function(Fe){return linearMap$4(Fe,[0,ze],[0,Ce[0]],!0)})}},this)}},n.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},n.prototype.isCategory=function(){return!!this.option.categories},n.prototype.setSelected=function(r){},n.prototype.getSelected=function(){return null},n.prototype.getValueState=function(r){return null},n.prototype.getVisualMeta=function(r){return null},n.type="visualMap",n.dependencies=["series"],n.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},n}(ComponentModel$3);const VisualMapModel$3=VisualMapModel$2;var DEFAULT_BAR_BOUND$1=[20,140],ContinuousModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(r,$){g.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(L){L.mappingMethod="linear",L.dataExtent=this.getExtent()}),this._resetRange()},n.prototype.resetItemSize=function(){g.prototype.resetItemSize.apply(this,arguments);var r=this.itemSize;(r[0]==null||isNaN(r[0]))&&(r[0]=DEFAULT_BAR_BOUND$1[0]),(r[1]==null||isNaN(r[1]))&&(r[1]=DEFAULT_BAR_BOUND$1[1])},n.prototype._resetRange=function(){var r=this.getExtent(),$=this.option.range;!$||$.auto?(r.auto=1,this.option.range=r):isArray$6($)&&($[0]>$[1]&&$.reverse(),$[0]=Math.max($[0],r[0]),$[1]=Math.min($[1],r[1]))},n.prototype.completeVisualOption=function(){g.prototype.completeVisualOption.apply(this,arguments),each$v(this.stateList,function(r){var $=this.option.controller[r].symbolSize;$&&$[0]!==$[1]&&($[0]=$[1]/3)},this)},n.prototype.setSelected=function(r){this.option.range=r.slice(),this._resetRange()},n.prototype.getSelected=function(){var r=this.getExtent(),$=asc$5((this.get("range")||[]).slice());return $[0]>r[1]&&($[0]=r[1]),$[1]>r[1]&&($[1]=r[1]),$[0]<r[0]&&($[0]=r[0]),$[1]<r[0]&&($[1]=r[0]),$},n.prototype.getValueState=function(r){var $=this.option.range,L=this.getExtent();return($[0]<=L[0]||$[0]<=r)&&($[1]>=L[1]||r<=$[1])?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(r){var $=[];return this.eachTargetSeries(function(L){var V=[],oe=L.getData();oe.each(this.getDataDimensionIndex(oe),function(ae,re){r[0]<=ae&&ae<=r[1]&&V.push(re)},this),$.push({seriesId:L.id,dataIndex:V})},this),$},n.prototype.getVisualMeta=function(r){var $=getColorStopValues$1(this,"outOfRange",this.getExtent()),L=getColorStopValues$1(this,"inRange",this.option.range.slice()),V=[];function oe(pe,_e){V.push({value:pe,color:r(pe,_e)})}for(var ae=0,re=0,le=L.length,ue=$.length;re<ue&&(!L.length||$[re]<=L[0]);re++)$[re]<L[ae]&&oe($[re],"outOfRange");for(var de=1;ae<le;ae++,de=0)de&&V.length&&oe(L[ae],"outOfRange"),oe(L[ae],"inRange");for(var de=1;re<ue;re++)(!L.length||L[L.length-1]<$[re])&&(de&&(V.length&&oe(V[V.length-1].value,"outOfRange"),de=0),oe($[re],"outOfRange"));var he=V.length;return{stops:V,outerColors:[he?V[0].color:"transparent",he?V[he-1].color:"transparent"]}},n.type="visualMap.continuous",n.defaultOption=inheritDefaultOption$1(VisualMapModel$3.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),n}(VisualMapModel$3);function getColorStopValues$1(g,n,r){if(r[0]===r[1])return r.slice();for(var $=200,L=(r[1]-r[0])/$,V=r[0],oe=[],ae=0;ae<=$&&V<r[1];ae++)oe.push(V),V+=L;return oe.push(r[1]),oe}const ContinuousModel$3=ContinuousModel$2;var VisualMapView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.autoPositionValues={left:1,right:1,top:1,bottom:1},r}return n.prototype.init=function(r,$){this.ecModel=r,this.api=$},n.prototype.render=function(r,$,L,V){if(this.visualMapModel=r,r.get("show")===!1){this.group.removeAll();return}this.doRender(r,$,L,V)},n.prototype.renderBackground=function(r){var $=this.visualMapModel,L=normalizeCssArray$2($.get("padding")||0),V=r.getBoundingRect();r.add(new Rect$7({z2:-1,silent:!0,shape:{x:V.x-L[3],y:V.y-L[0],width:V.width+L[3]+L[1],height:V.height+L[0]+L[2]},style:{fill:$.get("backgroundColor"),stroke:$.get("borderColor"),lineWidth:$.get("borderWidth")}}))},n.prototype.getControllerVisual=function(r,$,L){L=L||{};var V=L.forceState,oe=this.visualMapModel,ae={};if($==="color"){var re=oe.get("contentColor");ae.color=re}function le(pe){return ae[pe]}function ue(pe,_e){ae[pe]=_e}var de=oe.controllerVisuals[V||oe.getValueState(r)],he=VisualMapping$3.prepareVisualTypes(de);return each$v(he,function(pe){var _e=de[pe];L.convertOpacityToAlpha&&pe==="opacity"&&(pe="colorAlpha",_e=de.__alphaForOpacity),VisualMapping$3.dependsOn(pe,$)&&_e&&_e.applyVisual(r,le,ue)}),ae[$]},n.prototype.positionGroup=function(r){var $=this.visualMapModel,L=this.api;positionElement$1(r,$.getBoxLayoutParams(),{width:L.getWidth(),height:L.getHeight()})},n.prototype.doRender=function(r,$,L,V){},n.type="visualMap",n}(ComponentView$3);const VisualMapView$3=VisualMapView$2;var paramsSet$1=[["left","right","width"],["top","bottom","height"]];function getItemAlign$1(g,n,r){var $=g.option,L=$.align;if(L!=null&&L!=="auto")return L;for(var V={width:n.getWidth(),height:n.getHeight()},oe=$.orient==="horizontal"?1:0,ae=paramsSet$1[oe],re=[0,null,10],le={},ue=0;ue<3;ue++)le[paramsSet$1[1-oe][ue]]=re[ue],le[ae[ue]]=ue===2?r[0]:$[ae[ue]];var de=[["x","width",3],["y","height",0]][oe],he=getLayoutRect$1(le,V,$.padding);return ae[(he.margin[de[2]]||0)+he[de[0]]+he[de[1]]*.5<V[de[1]]*.5?0:1]}function makeHighDownBatch$1(g,n){return each$v(g||[],function(r){r.dataIndex!=null&&(r.dataIndexInside=r.dataIndex,r.dataIndex=null),r.highlightKey="visualMap"+(n?n.componentIndex:"")}),g}var linearMap$3=linearMap$5,each$h=each$v,mathMin$b=Math.min,mathMax$b=Math.max,HOVER_LINK_SIZE$1=12,HOVER_LINK_OUT$1=6,ContinuousView$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._shapes={},r._dataInterval=[],r._handleEnds=[],r._hoverLinkDataIndices=[],r}return n.prototype.doRender=function(r,$,L,V){this._api=L,(!V||V.type!=="selectDataRange"||V.from!==this.uid)&&this._buildView()},n.prototype._buildView=function(){this.group.removeAll();var r=this.visualMapModel,$=this.group;this._orient=r.get("orient"),this._useHandle=r.get("calculable"),this._resetInterval(),this._renderBar($);var L=r.get("text");this._renderEndsText($,L,0),this._renderEndsText($,L,1),this._updateView(!0),this.renderBackground($),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup($)},n.prototype._renderEndsText=function(r,$,L){if($){var V=$[1-L];V=V!=null?V+"":"";var oe=this.visualMapModel,ae=oe.get("textGap"),re=oe.itemSize,le=this._shapes.mainGroup,ue=this._applyTransform([re[0]/2,L===0?-ae:re[1]+ae],le),de=this._applyTransform(L===0?"bottom":"top",le),he=this._orient,pe=this.visualMapModel.textStyleModel;this.group.add(new ZRText$3({style:createTextStyle$1(pe,{x:ue[0],y:ue[1],verticalAlign:he==="horizontal"?"middle":de,align:he==="horizontal"?de:"center",text:V})}))}},n.prototype._renderBar=function(r){var $=this.visualMapModel,L=this._shapes,V=$.itemSize,oe=this._orient,ae=this._useHandle,re=getItemAlign$1($,this.api,V),le=L.mainGroup=this._createBarGroup(re),ue=new Group$9;le.add(ue),ue.add(L.outOfRange=createPolygon$1()),ue.add(L.inRange=createPolygon$1(null,ae?getCursor$2(this._orient):null,bind$5(this._dragHandle,this,"all",!1),bind$5(this._dragHandle,this,"all",!0))),ue.setClipPath(new Rect$7({shape:{x:0,y:0,width:V[0],height:V[1],r:3}}));var de=$.textStyleModel.getTextRect("\u56FD"),he=mathMax$b(de.width,de.height);ae&&(L.handleThumbs=[],L.handleLabels=[],L.handleLabelPoints=[],this._createHandle($,le,0,V,he,oe),this._createHandle($,le,1,V,he,oe)),this._createIndicator($,le,V,he,oe),r.add(le)},n.prototype._createHandle=function(r,$,L,V,oe,ae){var re=bind$5(this._dragHandle,this,L,!1),le=bind$5(this._dragHandle,this,L,!0),ue=parsePercent$3(r.get("handleSize"),V[0]),de=createSymbol$3(r.get("handleIcon"),-ue/2,-ue/2,ue,ue,null,!0),he=getCursor$2(this._orient);de.attr({cursor:he,draggable:!0,drift:re,ondragend:le,onmousemove:function(Oe){stop$1(Oe.event)}}),de.x=V[0]/2,de.useStyle(r.getModel("handleStyle").getItemStyle()),de.setStyle({strokeNoScale:!0,strokeFirst:!0}),de.style.lineWidth*=2,de.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher$1(de,!0),$.add(de);var pe=this.visualMapModel.textStyleModel,_e=new ZRText$3({cursor:he,draggable:!0,drift:re,onmousemove:function(Oe){stop$1(Oe.event)},ondragend:le,style:createTextStyle$1(pe,{x:0,y:0,text:""})});_e.ensureState("blur").style={opacity:.1},_e.stateTransition={duration:200},this.group.add(_e);var $e=[ue,0],xe=this._shapes;xe.handleThumbs[L]=de,xe.handleLabelPoints[L]=$e,xe.handleLabels[L]=_e},n.prototype._createIndicator=function(r,$,L,V,oe){var ae=parsePercent$3(r.get("indicatorSize"),L[0]),re=createSymbol$3(r.get("indicatorIcon"),-ae/2,-ae/2,ae,ae,null,!0);re.attr({cursor:"move",invisible:!0,silent:!0,x:L[0]/2});var le=r.getModel("indicatorStyle").getItemStyle();if(re instanceof ZRImage$3){var ue=re.style;re.useStyle(extend$4({image:ue.image,x:ue.x,y:ue.y,width:ue.width,height:ue.height},le))}else re.useStyle(le);$.add(re);var de=this.visualMapModel.textStyleModel,he=new ZRText$3({silent:!0,invisible:!0,style:createTextStyle$1(de,{x:0,y:0,text:""})});this.group.add(he);var pe=[(oe==="horizontal"?V/2:HOVER_LINK_OUT$1)+L[0]/2,0],_e=this._shapes;_e.indicator=re,_e.indicatorLabel=he,_e.indicatorLabelPoint=pe,this._firstShowIndicator=!0},n.prototype._dragHandle=function(r,$,L,V){if(this._useHandle){if(this._dragging=!$,!$){var oe=this._applyTransform([L,V],this._shapes.mainGroup,!0);this._updateInterval(r,oe[1]),this._hideIndicator(),this._updateView()}$===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),$?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle$1(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[r],!1)}},n.prototype._resetInterval=function(){var r=this.visualMapModel,$=this._dataInterval=r.getSelected(),L=r.getExtent(),V=[0,r.itemSize[1]];this._handleEnds=[linearMap$3($[0],L,V,!0),linearMap$3($[1],L,V,!0)]},n.prototype._updateInterval=function(r,$){$=$||0;var L=this.visualMapModel,V=this._handleEnds,oe=[0,L.itemSize[1]];sliderMove$1($,V,oe,r,0);var ae=L.getExtent();this._dataInterval=[linearMap$3(V[0],oe,ae,!0),linearMap$3(V[1],oe,ae,!0)]},n.prototype._updateView=function(r){var $=this.visualMapModel,L=$.getExtent(),V=this._shapes,oe=[0,$.itemSize[1]],ae=r?oe:this._handleEnds,re=this._createBarVisual(this._dataInterval,L,ae,"inRange"),le=this._createBarVisual(L,L,oe,"outOfRange");V.inRange.setStyle({fill:re.barColor}).setShape("points",re.barPoints),V.outOfRange.setStyle({fill:le.barColor}).setShape("points",le.barPoints),this._updateHandle(ae,re)},n.prototype._createBarVisual=function(r,$,L,V){var oe={forceState:V,convertOpacityToAlpha:!0},ae=this._makeColorGradient(r,oe),re=[this.getControllerVisual(r[0],"symbolSize",oe),this.getControllerVisual(r[1],"symbolSize",oe)],le=this._createBarPoints(L,re);return{barColor:new LinearGradient$3(0,0,0,1,ae),barPoints:le,handlesColor:[ae[0].color,ae[ae.length-1].color]}},n.prototype._makeColorGradient=function(r,$){var L=100,V=[],oe=(r[1]-r[0])/L;V.push({color:this.getControllerVisual(r[0],"color",$),offset:0});for(var ae=1;ae<L;ae++){var re=r[0]+oe*ae;if(re>r[1])break;V.push({color:this.getControllerVisual(re,"color",$),offset:ae/L})}return V.push({color:this.getControllerVisual(r[1],"color",$),offset:1}),V},n.prototype._createBarPoints=function(r,$){var L=this.visualMapModel.itemSize;return[[L[0]-$[0],r[0]],[L[0],r[0]],[L[0],r[1]],[L[0]-$[1],r[1]]]},n.prototype._createBarGroup=function(r){var $=this._orient,L=this.visualMapModel.get("inverse");return new Group$9($==="horizontal"&&!L?{scaleX:r==="bottom"?1:-1,rotation:Math.PI/2}:$==="horizontal"&&L?{scaleX:r==="bottom"?-1:1,rotation:-Math.PI/2}:$==="vertical"&&!L?{scaleX:r==="left"?1:-1,scaleY:-1}:{scaleX:r==="left"?1:-1})},n.prototype._updateHandle=function(r,$){if(this._useHandle){var L=this._shapes,V=this.visualMapModel,oe=L.handleThumbs,ae=L.handleLabels,re=V.itemSize,le=V.getExtent();each$h([0,1],function(ue){var de=oe[ue];de.setStyle("fill",$.handlesColor[ue]),de.y=r[ue];var he=linearMap$3(r[ue],[0,re[1]],le,!0),pe=this.getControllerVisual(he,"symbolSize");de.scaleX=de.scaleY=pe/re[0],de.x=re[0]-pe/2;var _e=applyTransform$2(L.handleLabelPoints[ue],getTransform$3(de,this.group));ae[ue].setStyle({x:_e[0],y:_e[1],text:V.formatValueText(this._dataInterval[ue]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",L.mainGroup):"center"})},this)}},n.prototype._showIndicator=function(r,$,L,V){var oe=this.visualMapModel,ae=oe.getExtent(),re=oe.itemSize,le=[0,re[1]],ue=this._shapes,de=ue.indicator;if(de){de.attr("invisible",!1);var he={convertOpacityToAlpha:!0},pe=this.getControllerVisual(r,"color",he),_e=this.getControllerVisual(r,"symbolSize"),$e=linearMap$3(r,ae,le,!0),xe=re[0]-_e/2,Oe={x:de.x,y:de.y};de.y=$e,de.x=xe;var Ce=applyTransform$2(ue.indicatorLabelPoint,getTransform$3(de,this.group)),Ie=ue.indicatorLabel;Ie.attr("invisible",!1);var Ne=this._applyTransform("left",ue.mainGroup),ze=this._orient,Fe=ze==="horizontal";Ie.setStyle({text:(L||"")+oe.formatValueText($),verticalAlign:Fe?Ne:"middle",align:Fe?"center":Ne});var Ue={x:xe,y:$e,style:{fill:pe}},At={style:{x:Ce[0],y:Ce[1]}};if(oe.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var Et={duration:100,easing:"cubicInOut",additive:!0};de.x=Oe.x,de.y=Oe.y,de.animateTo(Ue,Et),Ie.animateTo(At,Et)}else de.attr(Ue),Ie.attr(At);this._firstShowIndicator=!1;var Pt=this._shapes.handleLabels;if(Pt)for(var kt=0;kt<Pt.length;kt++)this._api.enterBlur(Pt[kt])}},n.prototype._enableHoverLinkToSeries=function(){var r=this;this._shapes.mainGroup.on("mousemove",function($){if(r._hovering=!0,!r._dragging){var L=r.visualMapModel.itemSize,V=r._applyTransform([$.offsetX,$.offsetY],r._shapes.mainGroup,!0,!0);V[1]=mathMin$b(mathMax$b(0,V[1]),L[1]),r._doHoverLinkToSeries(V[1],0<=V[0]&&V[0]<=L[0])}}).on("mouseout",function(){r._hovering=!1,!r._dragging&&r._clearHoverLinkToSeries()})},n.prototype._enableHoverLinkFromSeries=function(){var r=this.api.getZr();this.visualMapModel.option.hoverLink?(r.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),r.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},n.prototype._doHoverLinkToSeries=function(r,$){var L=this.visualMapModel,V=L.itemSize;if(L.option.hoverLink){var oe=[0,V[1]],ae=L.getExtent();r=mathMin$b(mathMax$b(oe[0],r),oe[1]);var re=getHalfHoverLinkSize$1(L,ae,oe),le=[r-re,r+re],ue=linearMap$3(r,oe,ae,!0),de=[linearMap$3(le[0],oe,ae,!0),linearMap$3(le[1],oe,ae,!0)];le[0]<oe[0]&&(de[0]=-1/0),le[1]>oe[1]&&(de[1]=1/0),$&&(de[0]===-1/0?this._showIndicator(ue,de[1],"< ",re):de[1]===1/0?this._showIndicator(ue,de[0],"> ",re):this._showIndicator(ue,ue,"\u2248 ",re));var he=this._hoverLinkDataIndices,pe=[];($||useHoverLinkOnHandle$1(L))&&(pe=this._hoverLinkDataIndices=L.findTargetDataIndices(de));var _e=compressBatches$1(he,pe);this._dispatchHighDown("downplay",makeHighDownBatch$1(_e[0],L)),this._dispatchHighDown("highlight",makeHighDownBatch$1(_e[1],L))}},n.prototype._hoverLinkFromSeriesMouseOver=function(r){var $;if(findEventDispatcher$1(r.target,function(re){var le=getECData$1(re);if(le.dataIndex!=null)return $=le,!0},!0),!!$){var L=this.ecModel.getSeriesByIndex($.seriesIndex),V=this.visualMapModel;if(V.isTargetSeries(L)){var oe=L.getData($.dataType),ae=oe.getStore().get(V.getDataDimensionIndex(oe),$.dataIndex);isNaN(ae)||this._showIndicator(ae,ae)}}},n.prototype._hideIndicator=function(){var r=this._shapes;r.indicator&&r.indicator.attr("invisible",!0),r.indicatorLabel&&r.indicatorLabel.attr("invisible",!0);var $=this._shapes.handleLabels;if($)for(var L=0;L<$.length;L++)this._api.leaveBlur($[L])},n.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var r=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch$1(r,this.visualMapModel)),r.length=0},n.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var r=this.api.getZr();r.off("mouseover",this._hoverLinkFromSeriesMouseOver),r.off("mouseout",this._hideIndicator)},n.prototype._applyTransform=function(r,$,L,V){var oe=getTransform$3($,V?null:this.group);return isArray$6(r)?applyTransform$2(r,oe,L):transformDirection$1(r,oe,L)},n.prototype._dispatchHighDown=function(r,$){$&&$.length&&this.api.dispatchAction({type:r,batch:$})},n.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.type="visualMap.continuous",n}(VisualMapView$3);function createPolygon$1(g,n,r,$){return new Polygon$3({shape:{points:g},draggable:!!r,cursor:n,drift:r,onmousemove:function(L){stop$1(L.event)},ondragend:$})}function getHalfHoverLinkSize$1(g,n,r){var $=HOVER_LINK_SIZE$1/2,L=g.get("hoverLinkDataSize");return L&&($=linearMap$3(L,n,r,!0)/2),$}function useHoverLinkOnHandle$1(g){var n=g.get("hoverLinkOnHandle");return!!(n!=null?n:g.get("realtime"))}function getCursor$2(g){return g==="vertical"?"ns-resize":"ew-resize"}const ContinuousView$3=ContinuousView$2;var visualMapActionInfo$1={type:"selectDataRange",event:"dataRangeSelected",update:"update"},visualMapActionHander$1=function(g,n){n.eachComponent({mainType:"visualMap",query:g},function(r){r.setSelected(g.selected)})},visualMapEncodingHandlers$1=[{createOnAllSeries:!0,reset:function(g,n){var r=[];return n.eachComponent("visualMap",function($){var L=g.pipelineContext;!$.isTargetSeries(g)||L&&L.large||r.push(incrementalApplyVisual$1($.stateList,$.targetVisuals,bind$5($.getValueState,$),$.getDataDimensionIndex(g.getData())))}),r}},{createOnAllSeries:!0,reset:function(g,n){var r=g.getData(),$=[];n.eachComponent("visualMap",function(L){if(L.isTargetSeries(g)){var V=L.getVisualMeta(bind$5(getColorVisual$1,null,g,L))||{stops:[],outerColors:[]},oe=L.getDataDimensionIndex(r);oe>=0&&(V.dimension=oe,$.push(V))}}),g.getData().setVisual("visualMeta",$)}}];function getColorVisual$1(g,n,r,$){for(var L=n.targetVisuals[$],V=VisualMapping$3.prepareVisualTypes(L),oe={color:getVisualFromData$1(g.getData(),"color")},ae=0,re=V.length;ae<re;ae++){var le=V[ae],ue=L[le==="opacity"?"__alphaForOpacity":le];ue&&ue.applyVisual(r,de,he)}return oe.color;function de(pe){return oe[pe]}function he(pe,_e){oe[pe]=_e}}var each$g=each$v;function visualMapPreprocessor$1(g){var n=g&&g.visualMap;isArray$6(n)||(n=n?[n]:[]),each$g(n,function(r){if(r){has$2(r,"splitList")&&!has$2(r,"pieces")&&(r.pieces=r.splitList,delete r.splitList);var $=r.pieces;$&&isArray$6($)&&each$g($,function(L){isObject$9(L)&&(has$2(L,"start")&&!has$2(L,"min")&&(L.min=L.start),has$2(L,"end")&&!has$2(L,"max")&&(L.max=L.end))})}})}function has$2(g,n){return g&&g.hasOwnProperty&&g.hasOwnProperty(n)}var installed$2=!1;function installCommon$2(g){installed$2||(installed$2=!0,g.registerSubTypeDefaulter("visualMap",function(n){return!n.categories&&(!(n.pieces?n.pieces.length>0:n.splitNumber>0)||n.calculable)?"continuous":"piecewise"}),g.registerAction(visualMapActionInfo$1,visualMapActionHander$1),each$v(visualMapEncodingHandlers$1,function(n){g.registerVisual(g.PRIORITY.VISUAL.COMPONENT,n)}),g.registerPreprocessor(visualMapPreprocessor$1))}function install$_(g){g.registerComponentModel(ContinuousModel$3),g.registerComponentView(ContinuousView$3),installCommon$2(g)}var PiecewiseModel$2=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._pieceList=[],r}return n.prototype.optionUpdated=function(r,$){g.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var L=this._mode=this._determineMode();this._pieceList=[],resetMethods$1[this._mode].call(this,this._pieceList),this._resetSelected(r,$);var V=this.option.categories;this.resetVisual(function(oe,ae){L==="categories"?(oe.mappingMethod="category",oe.categories=clone$9(V)):(oe.dataExtent=this.getExtent(),oe.mappingMethod="piecewise",oe.pieceList=map$3(this._pieceList,function(re){return re=clone$9(re),ae!=="inRange"&&(re.visual=null),re}))})},n.prototype.completeVisualOption=function(){var r=this.option,$={},L=VisualMapping$3.listVisualTypes(),V=this.isCategory();each$v(r.pieces,function(ae){each$v(L,function(re){ae.hasOwnProperty(re)&&($[re]=1)})}),each$v($,function(ae,re){var le=!1;each$v(this.stateList,function(ue){le=le||oe(r,ue,re)||oe(r.target,ue,re)},this),!le&&each$v(this.stateList,function(ue){(r[ue]||(r[ue]={}))[re]=visualDefault$3.get(re,ue==="inRange"?"active":"inactive",V)})},this);function oe(ae,re,le){return ae&&ae[re]&&ae[re].hasOwnProperty(le)}g.prototype.completeVisualOption.apply(this,arguments)},n.prototype._resetSelected=function(r,$){var L=this.option,V=this._pieceList,oe=($?L:r).selected||{};if(L.selected=oe,each$v(V,function(re,le){var ue=this.getSelectedMapKey(re);oe.hasOwnProperty(ue)||(oe[ue]=!0)},this),L.selectedMode==="single"){var ae=!1;each$v(V,function(re,le){var ue=this.getSelectedMapKey(re);oe[ue]&&(ae?oe[ue]=!1:ae=!0)},this)}},n.prototype.getItemSymbol=function(){return this.get("itemSymbol")},n.prototype.getSelectedMapKey=function(r){return this._mode==="categories"?r.value+"":r.index+""},n.prototype.getPieceList=function(){return this._pieceList},n.prototype._determineMode=function(){var r=this.option;return r.pieces&&r.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},n.prototype.setSelected=function(r){this.option.selected=clone$9(r)},n.prototype.getValueState=function(r){var $=VisualMapping$3.findPieceIndex(r,this._pieceList);return $!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[$])]?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(r){var $=[],L=this._pieceList;return this.eachTargetSeries(function(V){var oe=[],ae=V.getData();ae.each(this.getDataDimensionIndex(ae),function(re,le){var ue=VisualMapping$3.findPieceIndex(re,L);ue===r&&oe.push(le)},this),$.push({seriesId:V.id,dataIndex:oe})},this),$},n.prototype.getRepresentValue=function(r){var $;if(this.isCategory())$=r.value;else if(r.value!=null)$=r.value;else{var L=r.interval||[];$=L[0]===-1/0&&L[1]===1/0?0:(L[0]+L[1])/2}return $},n.prototype.getVisualMeta=function(r){if(this.isCategory())return;var $=[],L=["",""],V=this;function oe(ue,de){var he=V.getRepresentValue({interval:ue});de||(de=V.getValueState(he));var pe=r(he,de);ue[0]===-1/0?L[0]=pe:ue[1]===1/0?L[1]=pe:$.push({value:ue[0],color:pe},{value:ue[1],color:pe})}var ae=this._pieceList.slice();if(!ae.length)ae.push({interval:[-1/0,1/0]});else{var re=ae[0].interval[0];re!==-1/0&&ae.unshift({interval:[-1/0,re]}),re=ae[ae.length-1].interval[1],re!==1/0&&ae.push({interval:[re,1/0]})}var le=-1/0;return each$v(ae,function(ue){var de=ue.interval;de&&(de[0]>le&&oe([le,de[0]],"outOfRange"),oe(de.slice()),le=de[1])},this),{stops:$,outerColors:L}},n.type="visualMap.piecewise",n.defaultOption=inheritDefaultOption$1(VisualMapModel$3.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),n}(VisualMapModel$3),resetMethods$1={splitNumber:function(g){var n=this.option,r=Math.min(n.precision,20),$=this.getExtent(),L=n.splitNumber;L=Math.max(parseInt(L,10),1),n.splitNumber=L;for(var V=($[1]-$[0])/L;+V.toFixed(r)!==V&&r<5;)r++;n.precision=r,V=+V.toFixed(r),n.minOpen&&g.push({interval:[-1/0,$[0]],close:[0,0]});for(var oe=0,ae=$[0];oe<L;ae+=V,oe++){var re=oe===L-1?$[1]:ae+V;g.push({interval:[ae,re],close:[1,1]})}n.maxOpen&&g.push({interval:[$[1],1/0],close:[0,0]}),reformIntervals$1(g),each$v(g,function(le,ue){le.index=ue,le.text=this.formatValueText(le.interval)},this)},categories:function(g){var n=this.option;each$v(n.categories,function(r){g.push({text:this.formatValueText(r,!0),value:r})},this),normalizeReverse$1(n,g)},pieces:function(g){var n=this.option;each$v(n.pieces,function(r,$){isObject$9(r)||(r={value:r});var L={text:"",index:$};if(r.label!=null&&(L.text=r.label),r.hasOwnProperty("value")){var V=L.value=r.value;L.interval=[V,V],L.close=[1,1]}else{for(var oe=L.interval=[],ae=L.close=[0,0],re=[1,0,1],le=[-1/0,1/0],ue=[],de=0;de<2;de++){for(var he=[["gte","gt","min"],["lte","lt","max"]][de],pe=0;pe<3&&oe[de]==null;pe++)oe[de]=r[he[pe]],ae[de]=re[pe],ue[de]=pe===2;oe[de]==null&&(oe[de]=le[de])}ue[0]&&oe[1]===1/0&&(ae[0]=0),ue[1]&&oe[0]===-1/0&&(ae[1]=0),oe[0]===oe[1]&&ae[0]&&ae[1]&&(L.value=oe[0])}L.visual=VisualMapping$3.retrieveVisuals(r),g.push(L)},this),normalizeReverse$1(n,g),reformIntervals$1(g),each$v(g,function(r){var $=r.close,L=[["<","\u2264"][$[1]],[">","\u2265"][$[0]]];r.text=r.text||this.formatValueText(r.value!=null?r.value:r.interval,!1,L)},this)}};function normalizeReverse$1(g,n){var r=g.inverse;(g.orient==="vertical"?!r:r)&&n.reverse()}const PiecewiseModel$3=PiecewiseModel$2;var PiecewiseVisualMapView$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.doRender=function(){var r=this.group;r.removeAll();var $=this.visualMapModel,L=$.get("textGap"),V=$.textStyleModel,oe=V.getFont(),ae=V.getTextColor(),re=this._getItemAlign(),le=$.itemSize,ue=this._getViewData(),de=ue.endsText,he=retrieve$1($.get("showLabel",!0),!de);de&&this._renderEndsText(r,de[0],le,he,re),each$v(ue.viewPieceList,function(pe){var _e=pe.piece,$e=new Group$9;$e.onclick=bind$5(this._onItemClick,this,_e),this._enableHoverLink($e,pe.indexInModelPieceList);var xe=$.getRepresentValue(_e);if(this._createItemSymbol($e,xe,[0,0,le[0],le[1]]),he){var Oe=this.visualMapModel.getValueState(xe);$e.add(new ZRText$3({style:{x:re==="right"?-L:le[0]+L,y:le[1]/2,text:_e.text,verticalAlign:"middle",align:re,font:oe,fill:ae,opacity:Oe==="outOfRange"?.5:1}}))}r.add($e)},this),de&&this._renderEndsText(r,de[1],le,he,re),box$1($.get("orient"),r,$.get("itemGap")),this.renderBackground(r),this.positionGroup(r)},n.prototype._enableHoverLink=function(r,$){var L=this;r.on("mouseover",function(){return V("highlight")}).on("mouseout",function(){return V("downplay")});var V=function(oe){var ae=L.visualMapModel;ae.option.hoverLink&&L.api.dispatchAction({type:oe,batch:makeHighDownBatch$1(ae.findTargetDataIndices($),ae)})}},n.prototype._getItemAlign=function(){var r=this.visualMapModel,$=r.option;if($.orient==="vertical")return getItemAlign$1(r,this.api,r.itemSize);var L=$.align;return(!L||L==="auto")&&(L="left"),L},n.prototype._renderEndsText=function(r,$,L,V,oe){if($){var ae=new Group$9,re=this.visualMapModel.textStyleModel;ae.add(new ZRText$3({style:createTextStyle$1(re,{x:V?oe==="right"?L[0]:0:L[0]/2,y:L[1]/2,verticalAlign:"middle",align:V?oe:"center",text:$})})),r.add(ae)}},n.prototype._getViewData=function(){var r=this.visualMapModel,$=map$3(r.getPieceList(),function(ae,re){return{piece:ae,indexInModelPieceList:re}}),L=r.get("text"),V=r.get("orient"),oe=r.get("inverse");return(V==="horizontal"?oe:!oe)?$.reverse():L&&(L=L.slice().reverse()),{viewPieceList:$,endsText:L}},n.prototype._createItemSymbol=function(r,$,L){r.add(createSymbol$3(this.getControllerVisual($,"symbol"),L[0],L[1],L[2],L[3],this.getControllerVisual($,"color")))},n.prototype._onItemClick=function(r){var $=this.visualMapModel,L=$.option,V=L.selectedMode;if(V){var oe=clone$9(L.selected),ae=$.getSelectedMapKey(r);V==="single"||V===!0?(oe[ae]=!0,each$v(oe,function(re,le){oe[le]=le===ae})):oe[ae]=!oe[ae],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:oe})}},n.type="visualMap.piecewise",n}(VisualMapView$3);const PiecewiseView$1=PiecewiseVisualMapView$1;function install$Z(g){g.registerComponentModel(PiecewiseModel$3),g.registerComponentView(PiecewiseView$1),installCommon$2(g)}function install$Y(g){use$1(install$_),use$1(install$Z)}var DEFAULT_OPTION$1={label:{enabled:!0},decal:{show:!1}},inner$m=makeInner$1(),decalPaletteScope$1={};function ariaVisual$1(g,n){var r=g.getModel("aria");if(!r.get("enabled"))return;var $=clone$9(DEFAULT_OPTION$1);merge$3($.label,g.getLocaleModel().get("aria"),!1),merge$3(r.option,$,!1),L(),V();function L(){var le=r.getModel("decal"),ue=le.get("show");if(ue){var de=createHashMap$1();g.eachSeries(function(he){if(!he.isColorBySeries()){var pe=de.get(he.type);pe||(pe={},de.set(he.type,pe)),inner$m(he).scope=pe}}),g.eachRawSeries(function(he){if(g.isSeriesFiltered(he))return;if(isFunction$3(he.enableAriaDecal)){he.enableAriaDecal();return}var pe=he.getData();if(he.isColorBySeries()){var _e=getDecalFromPalette$1(he.ecModel,he.name,decalPaletteScope$1,g.getSeriesCount()),$e=pe.getVisual("decal");pe.setVisual("decal",Ne($e,_e))}else{var xe=he.getRawData(),Oe={},Ce=inner$m(he).scope;pe.each(function(ze){var Fe=pe.getRawIndex(ze);Oe[Fe]=ze});var Ie=xe.count();xe.each(function(ze){var Fe=Oe[ze],Ue=xe.getName(ze)||ze+"",At=getDecalFromPalette$1(he.ecModel,Ue,Ce,Ie),Et=pe.getItemVisual(Fe,"decal");pe.setItemVisual(Fe,"decal",Ne(Et,At))})}function Ne(ze,Fe){var Ue=ze?extend$4(extend$4({},Fe),ze):Fe;return Ue.dirty=!0,Ue}})}}function V(){var le=g.getLocaleModel().get("aria"),ue=r.getModel("label");if(ue.option=defaults$7(ue.option,le),!!ue.get("enabled")){var de=n.getZr().dom;if(ue.get("description")){de.setAttribute("aria-label",ue.get("description"));return}var he=g.getSeriesCount(),pe=ue.get(["data","maxCount"])||10,_e=ue.get(["series","maxCount"])||10,$e=Math.min(he,_e),xe;if(!(he<1)){var Oe=ae();if(Oe){var Ce=ue.get(["general","withTitle"]);xe=oe(Ce,{title:Oe})}else xe=ue.get(["general","withoutTitle"]);var Ie=[],Ne=he>1?ue.get(["series","multiple","prefix"]):ue.get(["series","single","prefix"]);xe+=oe(Ne,{seriesCount:he}),g.eachSeries(function(At,Et){if(Et<$e){var Pt=void 0,kt=At.get("name"),Dt=kt?"withName":"withoutName";Pt=he>1?ue.get(["series","multiple",Dt]):ue.get(["series","single",Dt]),Pt=oe(Pt,{seriesId:At.seriesIndex,seriesName:At.get("name"),seriesType:re(At.subType)});var Lt=At.getData();if(Lt.count()>pe){var hn=ue.get(["data","partialData"]);Pt+=oe(hn,{displayCnt:pe})}else Pt+=ue.get(["data","allData"]);for(var vn=ue.get(["data","separator","middle"]),_n=ue.get(["data","separator","end"]),$n=[],Sn=0;Sn<Lt.count();Sn++)if(Sn<pe){var xn=Lt.getName(Sn),On=Lt.getValues(Sn),Cn=ue.get(["data",xn?"withName":"withoutName"]);$n.push(oe(Cn,{name:xn,value:On.join(vn)}))}Pt+=$n.join(vn)+_n,Ie.push(Pt)}});var ze=ue.getModel(["series","multiple","separator"]),Fe=ze.get("middle"),Ue=ze.get("end");xe+=Ie.join(Fe)+Ue,de.setAttribute("aria-label",xe)}}}function oe(le,ue){if(!isString$3(le))return le;var de=le;return each$v(ue,function(he,pe){de=de.replace(new RegExp("\\{\\s*"+pe+"\\s*\\}","g"),he)}),de}function ae(){var le=g.get("title");return le&&le.length&&(le=le[0]),le&&le.text}function re(le){return g.getLocaleModel().get(["series","typeNames"])[le]||"\u81EA\u5B9A\u4E49\u56FE"}}function ariaPreprocessor$1(g){if(!(!g||!g.aria)){var n=g.aria;n.show!=null&&(n.enabled=n.show),n.label=n.label||{},each$v(["description","general","series","data"],function(r){n[r]!=null&&(n.label[r]=n[r])})}}function install$X(g){g.registerPreprocessor(ariaPreprocessor$1),g.registerVisual(g.PRIORITY.VISUAL.ARIA,ariaVisual$1)}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP$1={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},RegExpEvaluator$1=function(){function g(n){var r=this._condVal=isString$3(n)?new RegExp(n):isRegExp$3(n)?n:null;if(r==null){var $="";throwError$1($)}}return g.prototype.evaluate=function(n){var r=typeof n;return isString$3(r)?this._condVal.test(n):isNumber$3(r)?this._condVal.test(n+""):!1},g}(),ConstConditionInternal$1=function(){function g(){}return g.prototype.evaluate=function(){return this.value},g}(),AndConditionInternal$1=function(){function g(){}return g.prototype.evaluate=function(){for(var n=this.children,r=0;r<n.length;r++)if(!n[r].evaluate())return!1;return!0},g}(),OrConditionInternal$1=function(){function g(){}return g.prototype.evaluate=function(){for(var n=this.children,r=0;r<n.length;r++)if(n[r].evaluate())return!0;return!1},g}(),NotConditionInternal$1=function(){function g(){}return g.prototype.evaluate=function(){return!this.child.evaluate()},g}(),RelationalConditionInternal$1=function(){function g(){}return g.prototype.evaluate=function(){for(var n=!!this.valueParser,r=this.getValue,$=r(this.valueGetterParam),L=n?this.valueParser($):null,V=0;V<this.subCondList.length;V++)if(!this.subCondList[V].evaluate(n?L:$))return!1;return!0},g}();function parseOption$1(g,n){if(g===!0||g===!1){var r=new ConstConditionInternal$1;return r.value=g,r}var $="";return isObjectNotArray$1(g)||throwError$1($),g.and?parseAndOrOption$1("and",g,n):g.or?parseAndOrOption$1("or",g,n):g.not?parseNotOption$1(g,n):parseRelationalOption$1(g,n)}function parseAndOrOption$1(g,n,r){var $=n[g],L="";isArray$6($)||throwError$1(L),$.length||throwError$1(L);var V=g==="and"?new AndConditionInternal$1:new OrConditionInternal$1;return V.children=map$3($,function(oe){return parseOption$1(oe,r)}),V.children.length||throwError$1(L),V}function parseNotOption$1(g,n){var r=g.not,$="";isObjectNotArray$1(r)||throwError$1($);var L=new NotConditionInternal$1;return L.child=parseOption$1(r,n),L.child||throwError$1($),L}function parseRelationalOption$1(g,n){for(var r="",$=n.prepareGetValue(g),L=[],V=keys$2(g),oe=g.parser,ae=oe?getRawValueParser$1(oe):null,re=0;re<V.length;re++){var le=V[re];if(!(le==="parser"||n.valueGetterAttrMap.get(le))){var ue=hasOwn$1(RELATIONAL_EXPRESSION_OP_ALIAS_MAP$1,le)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP$1[le]:le,de=g[le],he=ae?ae(de):de,pe=createFilterComparator$1(ue,he)||ue==="reg"&&new RegExpEvaluator$1(he);pe||throwError$1(r),L.push(pe)}}L.length||throwError$1(r);var _e=new RelationalConditionInternal$1;return _e.valueGetterParam=$,_e.valueParser=ae,_e.getValue=n.getValue,_e.subCondList=L,_e}function isObjectNotArray$1(g){return isObject$9(g)&&!isArrayLike$1(g)}var ConditionalExpressionParsed$1=function(){function g(n,r){this._cond=parseOption$1(n,r)}return g.prototype.evaluate=function(){return this._cond.evaluate()},g}();function parseConditionalExpression$1(g,n){return new ConditionalExpressionParsed$1(g,n)}var filterTransform$1={type:"echarts:filter",transform:function(g){for(var n=g.upstream,r,$=parseConditionalExpression$1(g.config,{valueGetterAttrMap:createHashMap$1({dimension:!0}),prepareGetValue:function(ae){var re="",le=ae.dimension;hasOwn$1(ae,"dimension")||throwError$1(re);var ue=n.getDimensionInfo(le);return ue||throwError$1(re),{dimIdx:ue.index}},getValue:function(ae){return n.retrieveValueFromItem(r,ae.dimIdx)}}),L=[],V=0,oe=n.count();V<oe;V++)r=n.getRawDataItem(V),$.evaluate()&&L.push(r);return{data:L}}},sortTransform$1={type:"echarts:sort",transform:function(g){var n=g.upstream,r=g.config,$="",L=normalizeToArray$1(r);L.length||throwError$1($);var V=[];each$v(L,function(ue){var de=ue.dimension,he=ue.order,pe=ue.parser,_e=ue.incomparable;if(de==null&&throwError$1($),he!=="asc"&&he!=="desc"&&throwError$1($),_e&&_e!=="min"&&_e!=="max"){var $e="";throwError$1($e)}if(he!=="asc"&&he!=="desc"){var xe="";throwError$1(xe)}var Oe=n.getDimensionInfo(de);Oe||throwError$1($);var Ce=pe?getRawValueParser$1(pe):null;pe&&!Ce&&throwError$1($),V.push({dimIdx:Oe.index,parser:Ce,comparator:new SortOrderComparator$1(he,_e)})});var oe=n.sourceFormat;oe!==SOURCE_FORMAT_ARRAY_ROWS$1&&oe!==SOURCE_FORMAT_OBJECT_ROWS$1&&throwError$1($);for(var ae=[],re=0,le=n.count();re<le;re++)ae.push(n.getRawDataItem(re));return ae.sort(function(ue,de){for(var he=0;he<V.length;he++){var pe=V[he],_e=n.retrieveValueFromItem(ue,pe.dimIdx),$e=n.retrieveValueFromItem(de,pe.dimIdx);pe.parser&&(_e=pe.parser(_e),$e=pe.parser($e));var xe=pe.comparator.evaluate(_e,$e);if(xe!==0)return xe}return 0}),{data:ae}}};function install$W(g){g.registerTransform(filterTransform$1),g.registerTransform(sortTransform$1)}var DatasetModel$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="dataset",r}return n.prototype.init=function(r,$,L){g.prototype.init.call(this,r,$,L),this._sourceManager=new SourceManager$1(this),disableTransformOptionMerge$1(this)},n.prototype.mergeOption=function(r,$){g.prototype.mergeOption.call(this,r,$),disableTransformOptionMerge$1(this)},n.prototype.optionUpdated=function(){this._sourceManager.dirty()},n.prototype.getSourceManager=function(){return this._sourceManager},n.type="dataset",n.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN$1},n}(ComponentModel$3),DatasetView$1=function(g){__extends$2(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="dataset",r}return n.type="dataset",n}(ComponentView$3);function install$V(g){g.registerComponentModel(DatasetModel$1),g.registerComponentView(DatasetView$1)}var CMD$5=PathProxy$3.CMD;function aroundEqual$1(g,n){return Math.abs(g-n)<1e-5}function pathToBezierCurves$1(g){var n=g.data,r=g.len(),$=[],L,V=0,oe=0,ae=0,re=0;function le(Lt,hn){L&&L.length>2&&$.push(L),L=[Lt,hn]}function ue(Lt,hn,vn,_n){aroundEqual$1(Lt,vn)&&aroundEqual$1(hn,_n)||L.push(Lt,hn,vn,_n,vn,_n)}function de(Lt,hn,vn,_n,$n,Sn){var xn=Math.abs(hn-Lt),On=Math.tan(xn/4)*4/3,Cn=hn<Lt?-1:1,An=Math.cos(Lt),Rn=Math.sin(Lt),Fn=Math.cos(hn),Pn=Math.sin(hn),Un=An*$n+vn,Dn=Rn*Sn+_n,kn=Fn*$n+vn,Nn=Pn*Sn+_n,Vn=$n*On*Cn,Ln=Sn*On*Cn;L.push(Un-Vn*Rn,Dn+Ln*An,kn+Vn*Pn,Nn-Ln*Fn,kn,Nn)}for(var he,pe,_e,$e,xe=0;xe<r;){var Oe=n[xe++],Ce=xe===1;switch(Ce&&(V=n[xe],oe=n[xe+1],ae=V,re=oe,(Oe===CMD$5.L||Oe===CMD$5.C||Oe===CMD$5.Q)&&(L=[ae,re])),Oe){case CMD$5.M:V=ae=n[xe++],oe=re=n[xe++],le(ae,re);break;case CMD$5.L:he=n[xe++],pe=n[xe++],ue(V,oe,he,pe),V=he,oe=pe;break;case CMD$5.C:L.push(n[xe++],n[xe++],n[xe++],n[xe++],V=n[xe++],oe=n[xe++]);break;case CMD$5.Q:he=n[xe++],pe=n[xe++],_e=n[xe++],$e=n[xe++],L.push(V+.6666666666666666*(he-V),oe+.6666666666666666*(pe-oe),_e+.6666666666666666*(he-_e),$e+.6666666666666666*(pe-$e),_e,$e),V=_e,oe=$e;break;case CMD$5.A:var Ie=n[xe++],Ne=n[xe++],ze=n[xe++],Fe=n[xe++],Ue=n[xe++],At=n[xe++]+Ue;xe+=1;var Et=!n[xe++];he=Math.cos(Ue)*ze+Ie,pe=Math.sin(Ue)*Fe+Ne,Ce?(ae=he,re=pe,le(ae,re)):ue(V,oe,he,pe),V=Math.cos(At)*ze+Ie,oe=Math.sin(At)*Fe+Ne;for(var Pt=(Et?-1:1)*Math.PI/2,kt=Ue;Et?kt>At:kt<At;kt+=Pt){var Dt=Et?Math.max(kt+Pt,At):Math.min(kt+Pt,At);de(kt,Dt,Ie,Ne,ze,Fe)}break;case CMD$5.R:ae=V=n[xe++],re=oe=n[xe++],he=ae+n[xe++],pe=re+n[xe++],le(he,re),ue(he,re,he,pe),ue(he,pe,ae,pe),ue(ae,pe,ae,re),ue(ae,re,he,re);break;case CMD$5.Z:L&&ue(V,oe,ae,re),V=ae,oe=re;break}}return L&&L.length>2&&$.push(L),$}function adpativeBezier$1(g,n,r,$,L,V,oe,ae,re,le){if(aroundEqual$1(g,r)&&aroundEqual$1(n,$)&&aroundEqual$1(L,oe)&&aroundEqual$1(V,ae)){re.push(oe,ae);return}var ue=2/le,de=ue*ue,he=oe-g,pe=ae-n,_e=Math.sqrt(he*he+pe*pe);he/=_e,pe/=_e;var $e=r-g,xe=$-n,Oe=L-oe,Ce=V-ae,Ie=$e*$e+xe*xe,Ne=Oe*Oe+Ce*Ce;if(Ie<de&&Ne<de){re.push(oe,ae);return}var ze=he*$e+pe*xe,Fe=-he*Oe-pe*Ce,Ue=Ie-ze*ze,At=Ne-Fe*Fe;if(Ue<de&&ze>=0&&At<de&&Fe>=0){re.push(oe,ae);return}var Et=[],Pt=[];cubicSubdivide$1(g,r,L,oe,.5,Et),cubicSubdivide$1(n,$,V,ae,.5,Pt),adpativeBezier$1(Et[0],Pt[0],Et[1],Pt[1],Et[2],Pt[2],Et[3],Pt[3],re,le),adpativeBezier$1(Et[4],Pt[4],Et[5],Pt[5],Et[6],Pt[6],Et[7],Pt[7],re,le)}function pathToPolygons$1(g,n){var r=pathToBezierCurves$1(g),$=[];n=n||1;for(var L=0;L<r.length;L++){var V=r[L],oe=[],ae=V[0],re=V[1];oe.push(ae,re);for(var le=2;le<V.length;){var ue=V[le++],de=V[le++],he=V[le++],pe=V[le++],_e=V[le++],$e=V[le++];adpativeBezier$1(ae,re,ue,de,he,pe,_e,$e,oe,n),ae=_e,re=$e}$.push(oe)}return $}function getDividingGrids$1(g,n,r){var $=g[n],L=g[1-n],V=Math.abs($/L),oe=Math.ceil(Math.sqrt(V*r)),ae=Math.floor(r/oe);ae===0&&(ae=1,oe=r);for(var re=[],le=0;le<oe;le++)re.push(ae);var ue=oe*ae,de=r-ue;if(de>0)for(var le=0;le<de;le++)re[le%oe]+=1;return re}function divideSector$1(g,n,r){for(var $=g.r0,L=g.r,V=g.startAngle,oe=g.endAngle,ae=Math.abs(oe-V),re=ae*L,le=L-$,ue=re>Math.abs(le),de=getDividingGrids$1([re,le],ue?0:1,n),he=(ue?ae:le)/de.length,pe=0;pe<de.length;pe++)for(var _e=(ue?le:ae)/de[pe],$e=0;$e<de[pe];$e++){var xe={};ue?(xe.startAngle=V+he*pe,xe.endAngle=V+he*(pe+1),xe.r0=$+_e*$e,xe.r=$+_e*($e+1)):(xe.startAngle=V+_e*$e,xe.endAngle=V+_e*($e+1),xe.r0=$+he*pe,xe.r=$+he*(pe+1)),xe.clockwise=g.clockwise,xe.cx=g.cx,xe.cy=g.cy,r.push(xe)}}function divideRect$1(g,n,r){for(var $=g.width,L=g.height,V=$>L,oe=getDividingGrids$1([$,L],V?0:1,n),ae=V?"width":"height",re=V?"height":"width",le=V?"x":"y",ue=V?"y":"x",de=g[ae]/oe.length,he=0;he<oe.length;he++)for(var pe=g[re]/oe[he],_e=0;_e<oe[he];_e++){var $e={};$e[le]=he*de,$e[ue]=_e*pe,$e[ae]=de,$e[re]=pe,$e.x+=g.x,$e.y+=g.y,r.push($e)}}function crossProduct2d$2(g,n,r,$){return g*$-r*n}function lineLineIntersect$2(g,n,r,$,L,V,oe,ae){var re=r-g,le=$-n,ue=oe-L,de=ae-V,he=crossProduct2d$2(ue,de,re,le);if(Math.abs(he)<1e-6)return null;var pe=g-L,_e=n-V,$e=crossProduct2d$2(pe,_e,ue,de)/he;return $e<0||$e>1?null:new Point$3($e*re+g,$e*le+n)}function projPtOnLine$1(g,n,r){var $=new Point$3;Point$3.sub($,r,n),$.normalize();var L=new Point$3;Point$3.sub(L,g,n);var V=L.dot($);return V}function addToPoly$1(g,n){var r=g[g.length-1];r&&r[0]===n[0]&&r[1]===n[1]||g.push(n)}function splitPolygonByLine$1(g,n,r){for(var $=g.length,L=[],V=0;V<$;V++){var oe=g[V],ae=g[(V+1)%$],re=lineLineIntersect$2(oe[0],oe[1],ae[0],ae[1],n.x,n.y,r.x,r.y);re&&L.push({projPt:projPtOnLine$1(re,n,r),pt:re,idx:V})}if(L.length<2)return[{points:g},{points:g}];L.sort(function(xe,Oe){return xe.projPt-Oe.projPt});var le=L[0],ue=L[L.length-1];if(ue.idx<le.idx){var de=le;le=ue,ue=de}for(var he=[le.pt.x,le.pt.y],pe=[ue.pt.x,ue.pt.y],_e=[he],$e=[pe],V=le.idx+1;V<=ue.idx;V++)addToPoly$1(_e,g[V].slice());addToPoly$1(_e,pe),addToPoly$1(_e,he);for(var V=ue.idx+1;V<=le.idx+$;V++)addToPoly$1($e,g[V%$].slice());return addToPoly$1($e,he),addToPoly$1($e,pe),[{points:_e},{points:$e}]}function binaryDividePolygon$1(g){var n=g.points,r=[],$=[];fromPoints$1(n,r,$);var L=new BoundingRect$3(r[0],r[1],$[0]-r[0],$[1]-r[1]),V=L.width,oe=L.height,ae=L.x,re=L.y,le=new Point$3,ue=new Point$3;return V>oe?(le.x=ue.x=ae+V/2,le.y=re,ue.y=re+oe):(le.y=ue.y=re+oe/2,le.x=ae,ue.x=ae+V),splitPolygonByLine$1(n,le,ue)}function binaryDivideRecursive$1(g,n,r,$){if(r===1)$.push(n);else{var L=Math.floor(r/2),V=g(n);binaryDivideRecursive$1(g,V[0],L,$),binaryDivideRecursive$1(g,V[1],r-L,$)}return $}function clone$5(g,n){for(var r=[],$=0;$<n;$++)r.push(clonePath$1(g));return r}function copyPathProps$1(g,n){n.setStyle(g.style),n.z=g.z,n.z2=g.z2,n.zlevel=g.zlevel}function polygonConvert$1(g){for(var n=[],r=0;r<g.length;)n.push([g[r++],g[r++]]);return n}function split$1(g,n){var r=[],$=g.shape,L;switch(g.type){case"rect":divideRect$1($,n,r),L=Rect$7;break;case"sector":divideSector$1($,n,r),L=Sector$3;break;case"circle":divideSector$1({r0:0,r:$.r,startAngle:0,endAngle:Math.PI*2,cx:$.cx,cy:$.cy},n,r),L=Sector$3;break;default:var V=g.getComputedTransform(),oe=V?Math.sqrt(Math.max(V[0]*V[0]+V[1]*V[1],V[2]*V[2]+V[3]*V[3])):1,ae=map$3(pathToPolygons$1(g.getUpdatedPathProxy(),oe),function(Oe){return polygonConvert$1(Oe)}),re=ae.length;if(re===0)binaryDivideRecursive$1(binaryDividePolygon$1,{points:ae[0]},n,r);else if(re===n)for(var le=0;le<re;le++)r.push({points:ae[le]});else{var ue=0,de=map$3(ae,function(Oe){var Ce=[],Ie=[];fromPoints$1(Oe,Ce,Ie);var Ne=(Ie[1]-Ce[1])*(Ie[0]-Ce[0]);return ue+=Ne,{poly:Oe,area:Ne}});de.sort(function(Oe,Ce){return Ce.area-Oe.area});for(var he=n,le=0;le<re;le++){var pe=de[le];if(he<=0)break;var _e=le===re-1?he:Math.ceil(pe.area/ue*n);_e<0||(binaryDivideRecursive$1(binaryDividePolygon$1,{points:pe.poly},_e,r),he-=_e)}}L=Polygon$3;break}if(!L)return clone$5(g,n);for(var $e=[],le=0;le<r.length;le++){var xe=new L;xe.setShape(r[le]),copyPathProps$1(g,xe),$e.push(xe)}return $e}function alignSubpath$1(g,n){var r=g.length,$=n.length;if(r===$)return[g,n];for(var L=[],V=[],oe=r<$?g:n,ae=Math.min(r,$),re=Math.abs($-r)/6,le=(ae-2)/6,ue=Math.ceil(re/le)+1,de=[oe[0],oe[1]],he=re,pe=2;pe<ae;){var _e=oe[pe-2],$e=oe[pe-1],xe=oe[pe++],Oe=oe[pe++],Ce=oe[pe++],Ie=oe[pe++],Ne=oe[pe++],ze=oe[pe++];if(he<=0){de.push(xe,Oe,Ce,Ie,Ne,ze);continue}for(var Fe=Math.min(he,ue-1)+1,Ue=1;Ue<=Fe;Ue++){var At=Ue/Fe;cubicSubdivide$1(_e,xe,Ce,Ne,At,L),cubicSubdivide$1($e,Oe,Ie,ze,At,V),_e=L[3],$e=V[3],de.push(L[1],V[1],L[2],V[2],_e,$e),xe=L[5],Oe=V[5],Ce=L[6],Ie=V[6]}he-=Fe-1}return oe===g?[de,n]:[g,de]}function createSubpath$1(g,n){for(var r=g.length,$=g[r-2],L=g[r-1],V=[],oe=0;oe<n.length;)V[oe++]=$,V[oe++]=L;return V}function alignBezierCurves$1(g,n){for(var r,$,L,V=[],oe=[],ae=0;ae<Math.max(g.length,n.length);ae++){var re=g[ae],le=n[ae],ue=void 0,de=void 0;re?le?(r=alignSubpath$1(re,le),ue=r[0],de=r[1],$=ue,L=de):(de=createSubpath$1(L||re,re),ue=re):(ue=createSubpath$1($||le,le),de=le),V.push(ue),oe.push(de)}return[V,oe]}function centroid$2(g){for(var n=0,r=0,$=0,L=g.length,V=0,oe=L-2;V<L;oe=V,V+=2){var ae=g[oe],re=g[oe+1],le=g[V],ue=g[V+1],de=ae*ue-le*re;n+=de,r+=(ae+le)*de,$+=(re+ue)*de}return n===0?[g[0]||0,g[1]||0]:[r/n/3,$/n/3,n]}function findBestRingOffset$1(g,n,r,$){for(var L=(g.length-2)/6,V=1/0,oe=0,ae=g.length,re=ae-2,le=0;le<L;le++){for(var ue=le*6,de=0,he=0;he<ae;he+=2){var pe=he===0?ue:(ue+he-2)%re+2,_e=g[pe]-r[0],$e=g[pe+1]-r[1],xe=n[he]-$[0],Oe=n[he+1]-$[1],Ce=xe-_e,Ie=Oe-$e;de+=Ce*Ce+Ie*Ie}de<V&&(V=de,oe=le)}return oe}function reverse$1(g){for(var n=[],r=g.length,$=0;$<r;$+=2)n[$]=g[r-$-2],n[$+1]=g[r-$-1];return n}function findBestMorphingRotation$1(g,n,r,$){for(var L=[],V,oe=0;oe<g.length;oe++){var ae=g[oe],re=n[oe],le=centroid$2(ae),ue=centroid$2(re);V==null&&(V=le[2]<0!=ue[2]<0);var de=[],he=[],pe=0,_e=1/0,$e=[],xe=ae.length;V&&(ae=reverse$1(ae));for(var Oe=findBestRingOffset$1(ae,re,le,ue)*6,Ce=xe-2,Ie=0;Ie<Ce;Ie+=2){var Ne=(Oe+Ie)%Ce+2;de[Ie+2]=ae[Ne]-le[0],de[Ie+3]=ae[Ne+1]-le[1]}if(de[0]=ae[Oe]-le[0],de[1]=ae[Oe+1]-le[1],r>0)for(var ze=$/r,Fe=-$/2;Fe<=$/2;Fe+=ze){for(var Ue=Math.sin(Fe),At=Math.cos(Fe),Et=0,Ie=0;Ie<ae.length;Ie+=2){var Pt=de[Ie],kt=de[Ie+1],Dt=re[Ie]-ue[0],Lt=re[Ie+1]-ue[1],hn=Dt*At-Lt*Ue,vn=Dt*Ue+Lt*At;$e[Ie]=hn,$e[Ie+1]=vn;var _n=hn-Pt,$n=vn-kt;Et+=_n*_n+$n*$n}if(Et<_e){_e=Et,pe=Fe;for(var Sn=0;Sn<$e.length;Sn++)he[Sn]=$e[Sn]}}else for(var xn=0;xn<xe;xn+=2)he[xn]=re[xn]-ue[0],he[xn+1]=re[xn+1]-ue[1];L.push({from:de,to:he,fromCp:le,toCp:ue,rotation:-pe})}return L}function isCombineMorphing$1(g){return g.__isCombineMorphing}var SAVED_METHOD_PREFIX$1="__mOriginal_";function saveAndModifyMethod$1(g,n,r){var $=SAVED_METHOD_PREFIX$1+n,L=g[$]||g[n];g[$]||(g[$]=g[n]);var V=r.replace,oe=r.after,ae=r.before;g[n]=function(){var re=arguments,le;return ae&&ae.apply(this,re),V?le=V.apply(this,re):le=L.apply(this,re),oe&&oe.apply(this,re),le}}function restoreMethod$1(g,n){var r=SAVED_METHOD_PREFIX$1+n;g[r]&&(g[n]=g[r],g[r]=null)}function applyTransformOnBeziers$1(g,n){for(var r=0;r<g.length;r++)for(var $=g[r],L=0;L<$.length;){var V=$[L],oe=$[L+1];$[L++]=n[0]*V+n[2]*oe+n[4],$[L++]=n[1]*V+n[3]*oe+n[5]}}function prepareMorphPath$1(g,n){var r=g.getUpdatedPathProxy(),$=n.getUpdatedPathProxy(),L=alignBezierCurves$1(pathToBezierCurves$1(r),pathToBezierCurves$1($)),V=L[0],oe=L[1],ae=g.getComputedTransform(),re=n.getComputedTransform();function le(){this.transform=null}ae&&applyTransformOnBeziers$1(V,ae),re&&applyTransformOnBeziers$1(oe,re),saveAndModifyMethod$1(n,"updateTransform",{replace:le}),n.transform=null;var ue=findBestMorphingRotation$1(V,oe,10,Math.PI),de=[];saveAndModifyMethod$1(n,"buildPath",{replace:function(he){for(var pe=n.__morphT,_e=1-pe,$e=[],xe=0;xe<ue.length;xe++){var Oe=ue[xe],Ce=Oe.from,Ie=Oe.to,Ne=Oe.rotation*pe,ze=Oe.fromCp,Fe=Oe.toCp,Ue=Math.sin(Ne),At=Math.cos(Ne);lerp$3($e,ze,Fe,pe);for(var Et=0;Et<Ce.length;Et+=2){var Pt=Ce[Et],kt=Ce[Et+1],Dt=Ie[Et],Lt=Ie[Et+1],hn=Pt*_e+Dt*pe,vn=kt*_e+Lt*pe;de[Et]=hn*At-vn*Ue+$e[0],de[Et+1]=hn*Ue+vn*At+$e[1]}var _n=de[0],$n=de[1];he.moveTo(_n,$n);for(var Et=2;Et<Ce.length;){var Dt=de[Et++],Lt=de[Et++],Sn=de[Et++],xn=de[Et++],On=de[Et++],Cn=de[Et++];_n===Dt&&$n===Lt&&Sn===On&&xn===Cn?he.lineTo(On,Cn):he.bezierCurveTo(Dt,Lt,Sn,xn,On,Cn),_n=On,$n=Cn}}}})}function morphPath$1(g,n,r){if(!g||!n)return n;var $=r.done,L=r.during;prepareMorphPath$1(g,n),n.__morphT=0;function V(){restoreMethod$1(n,"buildPath"),restoreMethod$1(n,"updateTransform"),n.__morphT=-1,n.createPathProxy(),n.dirtyShape()}return n.animateTo({__morphT:1},defaults$7({during:function(oe){n.dirtyShape(),L&&L(oe)},done:function(){V(),$&&$()}},r)),n}function hilbert$1(g,n,r,$,L,V){var oe=16;g=L===r?0:Math.round(32767*(g-r)/(L-r)),n=V===$?0:Math.round(32767*(n-$)/(V-$));for(var ae=0,re,le=(1<<oe)/2;le>0;le/=2){var ue=0,de=0;(g&le)>0&&(ue=1),(n&le)>0&&(de=1),ae+=le*le*(3*ue^de),de===0&&(ue===1&&(g=le-1-g,n=le-1-n),re=g,g=n,n=re)}return ae}function sortPaths$1(g){var n=1/0,r=1/0,$=-1/0,L=-1/0,V=map$3(g,function(ae){var re=ae.getBoundingRect(),le=ae.getComputedTransform(),ue=re.x+re.width/2+(le?le[4]:0),de=re.y+re.height/2+(le?le[5]:0);return n=Math.min(ue,n),r=Math.min(de,r),$=Math.max(ue,$),L=Math.max(de,L),[ue,de]}),oe=map$3(V,function(ae,re){return{cp:ae,z:hilbert$1(ae[0],ae[1],n,r,$,L),path:g[re]}});return oe.sort(function(ae,re){return ae.z-re.z}).map(function(ae){return ae.path})}function defaultDividePath$1(g){return split$1(g.path,g.count)}function createEmptyReturn$1(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph$1(g,n,r){var $=[];function L(ze){for(var Fe=0;Fe<ze.length;Fe++){var Ue=ze[Fe];isCombineMorphing$1(Ue)?L(Ue.childrenRef()):Ue instanceof Path$3&&$.push(Ue)}}L(g);var V=$.length;if(!V)return createEmptyReturn$1();var oe=r.dividePath||defaultDividePath$1,ae=oe({path:n,count:V});if(ae.length!==V)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn$1();$=sortPaths$1($),ae=sortPaths$1(ae);for(var re=r.done,le=r.during,ue=r.individualDelay,de=new Transformable$1,he=0;he<V;he++){var pe=$[he],_e=ae[he];_e.parent=n,_e.copyTransform(de),ue||prepareMorphPath$1(pe,_e)}n.__isCombineMorphing=!0,n.childrenRef=function(){return ae};function $e(ze){for(var Fe=0;Fe<ae.length;Fe++)ae[Fe].addSelfToZr(ze)}saveAndModifyMethod$1(n,"addSelfToZr",{after:function(ze){$e(ze)}}),saveAndModifyMethod$1(n,"removeSelfFromZr",{after:function(ze){for(var Fe=0;Fe<ae.length;Fe++)ae[Fe].removeSelfFromZr(ze)}});function xe(){n.__isCombineMorphing=!1,n.__morphT=-1,n.childrenRef=null,restoreMethod$1(n,"addSelfToZr"),restoreMethod$1(n,"removeSelfFromZr")}var Oe=ae.length;if(ue)for(var Ce=Oe,Ie=function(){Ce--,Ce===0&&(xe(),re&&re())},he=0;he<Oe;he++){var Ne=ue?defaults$7({delay:(r.delay||0)+ue(he,Oe,$[he],ae[he]),done:Ie},r):r;morphPath$1($[he],ae[he],Ne)}else n.__morphT=0,n.animateTo({__morphT:1},defaults$7({during:function(ze){for(var Fe=0;Fe<Oe;Fe++){var Ue=ae[Fe];Ue.__morphT=n.__morphT,Ue.dirtyShape()}le&&le(ze)},done:function(){xe();for(var ze=0;ze<g.length;ze++)restoreMethod$1(g[ze],"updateTransform");re&&re()}},r));return n.__zr&&$e(n.__zr),{fromIndividuals:$,toIndividuals:ae,count:Oe}}function separateMorph$1(g,n,r){var $=n.length,L=[],V=r.dividePath||defaultDividePath$1;function oe(pe){for(var _e=0;_e<pe.length;_e++){var $e=pe[_e];isCombineMorphing$1($e)?oe($e.childrenRef()):$e instanceof Path$3&&L.push($e)}}if(isCombineMorphing$1(g)){oe(g.childrenRef());var ae=L.length;if(ae<$)for(var re=0,le=ae;le<$;le++)L.push(clonePath$1(L[re++%ae]));L.length=$}else{L=V({path:g,count:$});for(var ue=g.getComputedTransform(),le=0;le<L.length;le++)L[le].setLocalTransform(ue);if(L.length!==$)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn$1()}L=sortPaths$1(L),n=sortPaths$1(n);for(var de=r.individualDelay,le=0;le<$;le++){var he=de?defaults$7({delay:(r.delay||0)+de(le,$,L[le],n[le])},r):r;morphPath$1(L[le],n[le],he)}return{fromIndividuals:L,toIndividuals:n,count:n.length}}function isMultiple$1(g){return isArray$6(g[0])}function prepareMorphBatches$1(g,n){for(var r=[],$=g.length,L=0;L<$;L++)r.push({one:g[L],many:[]});for(var L=0;L<n.length;L++){var V=n[L].length,oe=void 0;for(oe=0;oe<V;oe++)r[oe%$].many.push(n[L][oe])}for(var ae=0,L=$-1;L>=0;L--)if(!r[L].many.length){var re=r[ae].many;if(re.length<=1)if(ae)ae=0;else return r;var V=re.length,le=Math.ceil(V/2);r[L].many=re.slice(le,V),r[ae].many=re.slice(0,le),ae++}return r}var pathDividers$1={clone:function(g){for(var n=[],r=1-Math.pow(1-g.path.style.opacity,1/g.count),$=0;$<g.count;$++){var L=clonePath$1(g.path);L.setStyle("opacity",r),n.push(L)}return n},split:null};function applyMorphAnimation$1(g,n,r,$,L,V){if(!g.length||!n.length)return;var oe=getAnimationConfig$1("update",$,L);if(!(oe&&oe.duration>0))return;var ae=$.getModel("universalTransition").get("delay"),re=Object.assign({setToFinal:!0},oe),le,ue;isMultiple$1(g)&&(le=g,ue=n),isMultiple$1(n)&&(le=n,ue=g);function de(Oe,Ce,Ie,Ne,ze){var Fe=Oe.many,Ue=Oe.one;if(Fe.length===1&&!ze){var At=Ce?Fe[0]:Ue,Et=Ce?Ue:Fe[0];if(isCombineMorphing$1(At))de({many:[At],one:Et},!0,Ie,Ne,!0);else{var Pt=ae?defaults$7({delay:ae(Ie,Ne)},re):re;morphPath$1(At,Et,Pt),V(At,Et,At,Et,Pt)}}else for(var kt=defaults$7({dividePath:pathDividers$1[r],individualDelay:ae&&function($n,Sn,xn,On){return ae($n+Ie,Ne)}},re),Dt=Ce?combineMorph$1(Fe,Ue,kt):separateMorph$1(Ue,Fe,kt),Lt=Dt.fromIndividuals,hn=Dt.toIndividuals,vn=Lt.length,_n=0;_n<vn;_n++){var Pt=ae?defaults$7({delay:ae(_n,vn)},re):re;V(Lt[_n],hn[_n],Ce?Fe[_n]:Oe.one,Ce?Oe.one:Fe[_n],Pt)}}for(var he=le?le===g:g.length>n.length,pe=le?prepareMorphBatches$1(ue,le):prepareMorphBatches$1(he?n:g,[he?g:n]),_e=0,$e=0;$e<pe.length;$e++)_e+=pe[$e].many.length;for(var xe=0,$e=0;$e<pe.length;$e++)de(pe[$e],he,xe,_e),xe+=pe[$e].many.length}function getPathList$1(g){if(!g)return[];if(isArray$6(g)){for(var n=[],r=0;r<g.length;r++)n.push(getPathList$1(g[r]));return n}var $=[];return g.traverse(function(L){L instanceof Path$3&&!L.disableMorphing&&!L.invisible&&!L.ignore&&$.push(L)}),$}var DATA_COUNT_THRESHOLD$1=1e4,getUniversalTransitionGlobalStore$1=makeInner$1();function getGroupIdDimension$1(g){for(var n=g.dimensions,r=0;r<n.length;r++){var $=g.getDimensionInfo(n[r]);if($&&$.otherDims.itemGroupId===0)return n[r]}}function flattenDataDiffItems$1(g){var n=[];return each$v(g,function(r){var $=r.data;if(!($.count()>DATA_COUNT_THRESHOLD$1))for(var L=$.getIndices(),V=getGroupIdDimension$1($),oe=0;oe<L.length;oe++)n.push({dataGroupId:r.dataGroupId,data:$,dim:r.dim||V,divide:r.divide,dataIndex:oe})}),n}function fadeInElement$1(g,n,r){g.traverse(function($){$ instanceof Path$3&&initProps$1($,{style:{opacity:0}},n,{dataIndex:r,isFrom:!0})})}function removeEl$2(g){if(g.parent){var n=g.getComputedTransform();g.setLocalTransform(n),g.parent.remove(g)}}function stopAnimation$1(g){g.stopAnimation(),g.isGroup&&g.traverse(function(n){n.stopAnimation()})}function animateElementStyles$1(g,n,r){var $=getAnimationConfig$1("update",r,n);$&&g.traverse(function(L){if(L instanceof Displayable$3){var V=getOldStyle$1(L);V&&L.animateFrom({style:V},$)}})}function isAllIdSame$1(g,n){var r=g.length;if(r!==n.length)return!1;for(var $=0;$<r;$++){var L=g[$],V=n[$];if(L.data.getId(L.dataIndex)!==V.data.getId(V.dataIndex))return!1}return!0}function transitionBetween$1(g,n,r){var $=flattenDataDiffItems$1(g),L=flattenDataDiffItems$1(n);function V(Oe,Ce,Ie,Ne,ze){(Ie||Oe)&&Ce.animateFrom({style:Ie&&Ie!==Oe?extend$4(extend$4({},Ie.style),Oe.style):Oe.style},ze)}function oe(Oe){for(var Ce=0;Ce<Oe.length;Ce++)if(Oe[Ce].dim)return Oe[Ce].dim}var ae=oe($),re=oe(L),le=!1;function ue(Oe,Ce){return function(Ie){var Ne=Ie.data,ze=Ie.dataIndex;if(Ce)return Ne.getId(ze);var Fe=Ie.dataGroupId,Ue=Oe?ae||re:re||ae,At=Ue&&Ne.getDimensionInfo(Ue),Et=At&&At.ordinalMeta;if(At){var Pt=Ne.get(At.name,ze);return Et&&Et.categories[Pt]||Pt+""}var kt=Ne.getRawDataItem(ze);return kt&&kt.groupId?kt.groupId+"":Fe||Ne.getId(ze)}}var de=isAllIdSame$1($,L),he={};if(!de)for(var pe=0;pe<L.length;pe++){var _e=L[pe],$e=_e.data.getItemGraphicEl(_e.dataIndex);$e&&(he[$e.id]=!0)}function xe(Oe,Ce){var Ie=$[Ce],Ne=L[Oe],ze=Ne.data.hostModel,Fe=Ie.data.getItemGraphicEl(Ie.dataIndex),Ue=Ne.data.getItemGraphicEl(Ne.dataIndex);if(Fe===Ue){Ue&&animateElementStyles$1(Ue,Ne.dataIndex,ze);return}Fe&&he[Fe.id]||Ue&&(stopAnimation$1(Ue),Fe?(stopAnimation$1(Fe),removeEl$2(Fe),le=!0,applyMorphAnimation$1(getPathList$1(Fe),getPathList$1(Ue),Ne.divide,ze,Oe,V)):fadeInElement$1(Ue,ze,Oe))}new DataDiffer$3($,L,ue(!0,de),ue(!1,de),null,"multiple").update(xe).updateManyToOne(function(Oe,Ce){var Ie=L[Oe],Ne=Ie.data,ze=Ne.hostModel,Fe=Ne.getItemGraphicEl(Ie.dataIndex),Ue=filter$1(map$3(Ce,function(At){return $[At].data.getItemGraphicEl($[At].dataIndex)}),function(At){return At&&At!==Fe&&!he[At.id]});Fe&&(stopAnimation$1(Fe),Ue.length?(each$v(Ue,function(At){stopAnimation$1(At),removeEl$2(At)}),le=!0,applyMorphAnimation$1(getPathList$1(Ue),getPathList$1(Fe),Ie.divide,ze,Oe,V)):fadeInElement$1(Fe,ze,Ie.dataIndex))}).updateOneToMany(function(Oe,Ce){var Ie=$[Ce],Ne=Ie.data.getItemGraphicEl(Ie.dataIndex);if(!(Ne&&he[Ne.id])){var ze=filter$1(map$3(Oe,function(Ue){return L[Ue].data.getItemGraphicEl(L[Ue].dataIndex)}),function(Ue){return Ue&&Ue!==Ne}),Fe=L[Oe[0]].data.hostModel;ze.length&&(each$v(ze,function(Ue){return stopAnimation$1(Ue)}),Ne?(stopAnimation$1(Ne),removeEl$2(Ne),le=!0,applyMorphAnimation$1(getPathList$1(Ne),getPathList$1(ze),Ie.divide,Fe,Oe[0],V)):each$v(ze,function(Ue){return fadeInElement$1(Ue,Fe,Oe[0])}))}}).updateManyToMany(function(Oe,Ce){new DataDiffer$3(Ce,Oe,function(Ie){return $[Ie].data.getId($[Ie].dataIndex)},function(Ie){return L[Ie].data.getId(L[Ie].dataIndex)}).update(function(Ie,Ne){xe(Oe[Ie],Ce[Ne])}).execute()}).execute(),le&&each$v(n,function(Oe){var Ce=Oe.data,Ie=Ce.hostModel,Ne=Ie&&r.getViewOfSeriesModel(Ie),ze=getAnimationConfig$1("update",Ie,0);Ne&&Ie.isAnimationEnabled()&&ze&&ze.duration>0&&Ne.group.traverse(function(Fe){Fe instanceof Path$3&&!Fe.animators.length&&Fe.animateFrom({style:{opacity:0}},ze)})})}function getSeriesTransitionKey$1(g){var n=g.getModel("universalTransition").get("seriesKey");return n||g.id}function convertArraySeriesKeyToString$1(g){return isArray$6(g)?g.sort().join(","):g}function getDivideShapeFromData$1(g){if(g.hostModel)return g.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches$1(g,n){var r=createHashMap$1(),$=createHashMap$1(),L=createHashMap$1();return each$v(g.oldSeries,function(V,oe){var ae=g.oldDataGroupIds[oe],re=g.oldData[oe],le=getSeriesTransitionKey$1(V),ue=convertArraySeriesKeyToString$1(le);$.set(ue,{dataGroupId:ae,data:re}),isArray$6(le)&&each$v(le,function(de){L.set(de,{key:ue,dataGroupId:ae,data:re})})}),each$v(n.updatedSeries,function(V){if(V.isUniversalTransitionEnabled()&&V.isAnimationEnabled()){var oe=V.get("dataGroupId"),ae=V.getData(),re=getSeriesTransitionKey$1(V),le=convertArraySeriesKeyToString$1(re),ue=$.get(le);if(ue)r.set(le,{oldSeries:[{dataGroupId:ue.dataGroupId,divide:getDivideShapeFromData$1(ue.data),data:ue.data}],newSeries:[{dataGroupId:oe,divide:getDivideShapeFromData$1(ae),data:ae}]});else if(isArray$6(re)){var de=[];each$v(re,function(_e){var $e=$.get(_e);$e.data&&de.push({dataGroupId:$e.dataGroupId,divide:getDivideShapeFromData$1($e.data),data:$e.data})}),de.length&&r.set(le,{oldSeries:de,newSeries:[{dataGroupId:oe,data:ae,divide:getDivideShapeFromData$1(ae)}]})}else{var he=L.get(re);if(he){var pe=r.get(he.key);pe||(pe={oldSeries:[{dataGroupId:he.dataGroupId,data:he.data,divide:getDivideShapeFromData$1(he.data)}],newSeries:[]},r.set(he.key,pe)),pe.newSeries.push({dataGroupId:oe,data:ae,divide:getDivideShapeFromData$1(ae)})}}}}),r}function querySeries$1(g,n){for(var r=0;r<g.length;r++){var $=n.seriesIndex!=null&&n.seriesIndex===g[r].seriesIndex||n.seriesId!=null&&n.seriesId===g[r].id;if($)return r}}function transitionSeriesFromOpt$1(g,n,r,$){var L=[],V=[];each$v(normalizeToArray$1(g.from),function(oe){var ae=querySeries$1(n.oldSeries,oe);ae>=0&&L.push({dataGroupId:n.oldDataGroupIds[ae],data:n.oldData[ae],divide:getDivideShapeFromData$1(n.oldData[ae]),dim:oe.dimension})}),each$v(normalizeToArray$1(g.to),function(oe){var ae=querySeries$1(r.updatedSeries,oe);if(ae>=0){var re=r.updatedSeries[ae].getData();V.push({dataGroupId:n.oldDataGroupIds[ae],data:re,divide:getDivideShapeFromData$1(re),dim:oe.dimension})}}),L.length>0&&V.length>0&&transitionBetween$1(L,V,$)}function installUniversalTransition$1(g){g.registerUpdateLifecycle("series:beforeupdate",function(n,r,$){each$v(normalizeToArray$1($.seriesTransition),function(L){each$v(normalizeToArray$1(L.to),function(V){for(var oe=$.updatedSeries,ae=0;ae<oe.length;ae++)(V.seriesIndex!=null&&V.seriesIndex===oe[ae].seriesIndex||V.seriesId!=null&&V.seriesId===oe[ae].id)&&(oe[ae][SERIES_UNIVERSAL_TRANSITION_PROP$1]=!0)})})}),g.registerUpdateLifecycle("series:transition",function(n,r,$){var L=getUniversalTransitionGlobalStore$1(r);if(L.oldSeries&&$.updatedSeries&&$.optionChanged){var V=$.seriesTransition;if(V)each$v(normalizeToArray$1(V),function(pe){transitionSeriesFromOpt$1(pe,L,$,r)});else{var oe=findTransitionSeriesBatches$1(L,$);each$v(oe.keys(),function(pe){var _e=oe.get(pe);transitionBetween$1(_e.oldSeries,_e.newSeries,r)})}each$v($.updatedSeries,function(pe){pe[SERIES_UNIVERSAL_TRANSITION_PROP$1]&&(pe[SERIES_UNIVERSAL_TRANSITION_PROP$1]=!1)})}for(var ae=n.getSeries(),re=L.oldSeries=[],le=L.oldDataGroupIds=[],ue=L.oldData=[],de=0;de<ae.length;de++){var he=ae[de].getData();he.count()<DATA_COUNT_THRESHOLD$1&&(re.push(ae[de]),le.push(ae[de].get("dataGroupId")),ue.push(he))}})}use$1([install$1K]),use$1([install$1L]),use$1([install$1J,install$1I,install$1H,install$1F,install$1D,install$1B,install$1A,install$1z,install$1y,install$1x,install$1w,install$1u,install$1t,install$1s,install$1r,install$1q,install$1p,install$1o,install$1n,install$1m,install$1l,install$1k]),use$1(install$1i),use$1(install$1h),use$1(install$1C),use$1(install$1g),use$1(install$1v),use$1(install$1f),use$1(install$1e),use$1(install$1c),use$1(install$1b),use$1(install$1j),use$1(install$1a),use$1(install$19),use$1(install$18),use$1(install$17),use$1(install$16),use$1(install$15),use$1(install$12),use$1(install$$),use$1(install$11),use$1(install$10),use$1(install$Y),use$1(install$_),use$1(install$Z),use$1(install$X),use$1(install$W),use$1(install$V),use$1(installUniversalTransition$1),use$1(installLabelLayout$1);function bind$3(g,n){return function(){return g.apply(n,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,kindOf$1=(g=>n=>{const r=toString$1.call(n);return g[r]||(g[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest$1=g=>(g=g.toLowerCase(),n=>kindOf$1(n)===g),typeOfTest$1=g=>n=>typeof n===g,{isArray:isArray$4}=Array,isUndefined$1=typeOfTest$1("undefined");function isBuffer$1(g){return g!==null&&!isUndefined$1(g)&&g.constructor!==null&&!isUndefined$1(g.constructor)&&isFunction$2(g.constructor.isBuffer)&&g.constructor.isBuffer(g)}const isArrayBuffer$1=kindOfTest$1("ArrayBuffer");function isArrayBufferView$1(g){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(g):n=g&&g.buffer&&isArrayBuffer$1(g.buffer),n}const isString$2=typeOfTest$1("string"),isFunction$2=typeOfTest$1("function"),isNumber$2=typeOfTest$1("number"),isObject$5=g=>g!==null&&typeof g=="object",isBoolean$1=g=>g===!0||g===!1,isPlainObject$1=g=>{if(kindOf$1(g)!=="object")return!1;const n=getPrototypeOf$1(g);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in g)&&!(Symbol.iterator in g)},isDate$1=kindOfTest$1("Date"),isFile$1=kindOfTest$1("File"),isBlob$1=kindOfTest$1("Blob"),isFileList$1=kindOfTest$1("FileList"),isStream$1=g=>isObject$5(g)&&isFunction$2(g.pipe),isFormData$1=g=>{const n="[object FormData]";return g&&(typeof FormData=="function"&&g instanceof FormData||toString$1.call(g)===n||isFunction$2(g.toString)&&g.toString()===n)},isURLSearchParams$1=kindOfTest$1("URLSearchParams"),trim$3=g=>g.trim?g.trim():g.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(g,n,{allOwnKeys:r=!1}={}){if(g===null||typeof g>"u")return;let $,L;if(typeof g!="object"&&(g=[g]),isArray$4(g))for($=0,L=g.length;$<L;$++)n.call(null,g[$],$,g);else{const V=r?Object.getOwnPropertyNames(g):Object.keys(g),oe=V.length;let ae;for($=0;$<oe;$++)ae=V[$],n.call(null,g[ae],ae,g)}}function findKey$1(g,n){n=n.toLowerCase();const r=Object.keys(g);let $=r.length,L;for(;$-- >0;)if(L=r[$],n===L.toLowerCase())return L;return null}const _global$1=typeof self>"u"?typeof global>"u"?globalThis:global:self,isContextDefined$1=g=>!isUndefined$1(g)&&g!==_global$1;function merge$2(){const{caseless:g}=isContextDefined$1(this)&&this||{},n={},r=($,L)=>{const V=g&&findKey$1(n,L)||L;isPlainObject$1(n[V])&&isPlainObject$1($)?n[V]=merge$2(n[V],$):isPlainObject$1($)?n[V]=merge$2({},$):isArray$4($)?n[V]=$.slice():n[V]=$};for(let $=0,L=arguments.length;$<L;$++)arguments[$]&&forEach$1(arguments[$],r);return n}const extend$3=(g,n,r,{allOwnKeys:$}={})=>(forEach$1(n,(L,V)=>{r&&isFunction$2(L)?g[V]=bind$3(L,r):g[V]=L},{allOwnKeys:$}),g),stripBOM$1=g=>(g.charCodeAt(0)===65279&&(g=g.slice(1)),g),inherits$2=(g,n,r,$)=>{g.prototype=Object.create(n.prototype,$),g.prototype.constructor=g,Object.defineProperty(g,"super",{value:n.prototype}),r&&Object.assign(g.prototype,r)},toFlatObject$1=(g,n,r,$)=>{let L,V,oe;const ae={};if(n=n||{},g==null)return n;do{for(L=Object.getOwnPropertyNames(g),V=L.length;V-- >0;)oe=L[V],(!$||$(oe,g,n))&&!ae[oe]&&(n[oe]=g[oe],ae[oe]=!0);g=r!==!1&&getPrototypeOf$1(g)}while(g&&(!r||r(g,n))&&g!==Object.prototype);return n},endsWith$1=(g,n,r)=>{g=String(g),(r===void 0||r>g.length)&&(r=g.length),r-=n.length;const $=g.indexOf(n,r);return $!==-1&&$===r},toArray$1=g=>{if(!g)return null;if(isArray$4(g))return g;let n=g.length;if(!isNumber$2(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=g[n];return r},isTypedArray$2=(g=>n=>g&&n instanceof g)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry$1=(g,n)=>{const r=(g&&g[Symbol.iterator]).call(g);let $;for(;($=r.next())&&!$.done;){const L=$.value;n.call(g,L[0],L[1])}},matchAll$1=(g,n)=>{let r;const $=[];for(;(r=g.exec(n))!==null;)$.push(r);return $},isHTMLForm$1=kindOfTest$1("HTMLFormElement"),toCamelCase$2=g=>g.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,r,$){return r.toUpperCase()+$}),hasOwnProperty$1=(({hasOwnProperty:g})=>(n,r)=>g.call(n,r))(Object.prototype),isRegExp$2=kindOfTest$1("RegExp"),reduceDescriptors$1=(g,n)=>{const r=Object.getOwnPropertyDescriptors(g),$={};forEach$1(r,(L,V)=>{n(L,V,g)!==!1&&($[V]=L)}),Object.defineProperties(g,$)},freezeMethods$1=g=>{reduceDescriptors$1(g,(n,r)=>{if(isFunction$2(g)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const $=g[r];if(isFunction$2($)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet$1=(g,n)=>{const r={},$=L=>{L.forEach(V=>{r[V]=!0})};return isArray$4(g)?$(g):$(String(g).split(n)),r},noop$3=()=>{},toFiniteNumber$1=(g,n)=>(g=+g,Number.isFinite(g)?g:n),toJSONObject$1=g=>{const n=new Array(10),r=($,L)=>{if(isObject$5($)){if(n.indexOf($)>=0)return;if(!("toJSON"in $)){n[L]=$;const V=isArray$4($)?[]:{};return forEach$1($,(oe,ae)=>{const re=r(oe,L+1);!isUndefined$1(re)&&(V[ae]=re)}),n[L]=void 0,V}}return $};return r(g,0)},utils$1={isArray:isArray$4,isArrayBuffer:isArrayBuffer$1,isBuffer:isBuffer$1,isFormData:isFormData$1,isArrayBufferView:isArrayBufferView$1,isString:isString$2,isNumber:isNumber$2,isBoolean:isBoolean$1,isObject:isObject$5,isPlainObject:isPlainObject$1,isUndefined:isUndefined$1,isDate:isDate$1,isFile:isFile$1,isBlob:isBlob$1,isRegExp:isRegExp$2,isFunction:isFunction$2,isStream:isStream$1,isURLSearchParams:isURLSearchParams$1,isTypedArray:isTypedArray$2,isFileList:isFileList$1,forEach:forEach$1,merge:merge$2,extend:extend$3,trim:trim$3,stripBOM:stripBOM$1,inherits:inherits$2,toFlatObject:toFlatObject$1,kindOf:kindOf$1,kindOfTest:kindOfTest$1,endsWith:endsWith$1,toArray:toArray$1,forEachEntry:forEachEntry$1,matchAll:matchAll$1,isHTMLForm:isHTMLForm$1,hasOwnProperty:hasOwnProperty$1,hasOwnProp:hasOwnProperty$1,reduceDescriptors:reduceDescriptors$1,freezeMethods:freezeMethods$1,toObjectSet:toObjectSet$1,toCamelCase:toCamelCase$2,noop:noop$3,toFiniteNumber:toFiniteNumber$1,findKey:findKey$1,global:_global$1,isContextDefined:isContextDefined$1,toJSONObject:toJSONObject$1};function AxiosError$1(g,n,r,$,L){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=g,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),$&&(this.request=$),L&&(this.response=L)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$3=AxiosError$1.prototype,descriptors$1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(g=>{descriptors$1[g]={value:g}}),Object.defineProperties(AxiosError$1,descriptors$1),Object.defineProperty(prototype$3,"isAxiosError",{value:!0}),AxiosError$1.from=(g,n,r,$,L,V)=>{const oe=Object.create(prototype$3);return utils$1.toFlatObject(g,oe,function(ae){return ae!==Error.prototype},ae=>ae!=="isAxiosError"),AxiosError$1.call(oe,g.message,n,r,$,L),oe.cause=g,oe.name=g.name,V&&Object.assign(oe,V),oe};var browser$1=typeof self=="object"?self.FormData:window.FormData;const FormData$3=browser$1;function isVisitable$1(g){return utils$1.isPlainObject(g)||utils$1.isArray(g)}function removeBrackets$1(g){return utils$1.endsWith(g,"[]")?g.slice(0,-2):g}function renderKey$1(g,n,r){return g?g.concat(n).map(function($,L){return $=removeBrackets$1($),!r&&L?"["+$+"]":$}).join(r?".":""):n}function isFlatArray$1(g){return utils$1.isArray(g)&&!g.some(isVisitable$1)}const predicates$1=utils$1.toFlatObject(utils$1,{},null,function(g){return/^is[A-Z]/.test(g)});function isSpecCompliant(g){return g&&utils$1.isFunction(g.append)&&g[Symbol.toStringTag]==="FormData"&&g[Symbol.iterator]}function toFormData$1(g,n,r){if(!utils$1.isObject(g))throw new TypeError("target must be an object");n=n||new(FormData$3||FormData),r=utils$1.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(pe,_e){return!utils$1.isUndefined(_e[pe])});const $=r.metaTokens,L=r.visitor||le,V=r.dots,oe=r.indexes,ae=(r.Blob||typeof Blob<"u"&&Blob)&&isSpecCompliant(n);if(!utils$1.isFunction(L))throw new TypeError("visitor must be a function");function re(pe){if(pe===null)return"";if(utils$1.isDate(pe))return pe.toISOString();if(!ae&&utils$1.isBlob(pe))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(pe)||utils$1.isTypedArray(pe)?ae&&typeof Blob=="function"?new Blob([pe]):Buffer.from(pe):pe}function le(pe,_e,$e){let xe=pe;if(pe&&!$e&&typeof pe=="object"){if(utils$1.endsWith(_e,"{}"))_e=$?_e:_e.slice(0,-2),pe=JSON.stringify(pe);else if(utils$1.isArray(pe)&&isFlatArray$1(pe)||utils$1.isFileList(pe)||utils$1.endsWith(_e,"[]")&&(xe=utils$1.toArray(pe)))return _e=removeBrackets$1(_e),xe.forEach(function(Oe,Ce){!(utils$1.isUndefined(Oe)||Oe===null)&&n.append(oe===!0?renderKey$1([_e],Ce,V):oe===null?_e:_e+"[]",re(Oe))}),!1}return isVisitable$1(pe)?!0:(n.append(renderKey$1($e,_e,V),re(pe)),!1)}const ue=[],de=Object.assign(predicates$1,{defaultVisitor:le,convertValue:re,isVisitable:isVisitable$1});function he(pe,_e){if(!utils$1.isUndefined(pe)){if(ue.indexOf(pe)!==-1)throw Error("Circular reference detected in "+_e.join("."));ue.push(pe),utils$1.forEach(pe,function($e,xe){(!(utils$1.isUndefined($e)||$e===null)&&L.call(n,$e,utils$1.isString(xe)?xe.trim():xe,_e,de))===!0&&he($e,_e?_e.concat(xe):[xe])}),ue.pop()}}if(!utils$1.isObject(g))throw new TypeError("data must be an object");return he(g),n}function encode$3(g){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(g).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function AxiosURLSearchParams$1(g,n){this._pairs=[],g&&toFormData$1(g,this,n)}const prototype$2=AxiosURLSearchParams$1.prototype;prototype$2.append=function(g,n){this._pairs.push([g,n])},prototype$2.toString=function(g){const n=g?function(r){return g.call(this,r,encode$3)}:encode$3;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function encode$2(g){return encodeURIComponent(g).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL$1(g,n,r){if(!n)return g;const $=r&&r.encode||encode$2,L=r&&r.serialize;let V;if(L?V=L(n,r):V=utils$1.isURLSearchParams(n)?n.toString():new AxiosURLSearchParams$1(n,r).toString($),V){const oe=g.indexOf("#");oe!==-1&&(g=g.slice(0,oe)),g+=(g.indexOf("?")===-1?"?":"&")+V}return g}class InterceptorManager$2{constructor(){this.handlers=[]}use(n,r,$){return this.handlers.push({fulfilled:n,rejected:r,synchronous:$?$.synchronous:!1,runWhen:$?$.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){utils$1.forEach(this.handlers,function(r){r!==null&&n(r)})}}const InterceptorManager$3=InterceptorManager$2,transitionalDefaults$1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$2=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams$1,FormData$2=FormData,isStandardBrowserEnv$1=(()=>{let g;return typeof navigator<"u"&&((g=navigator.product)==="ReactNative"||g==="NativeScript"||g==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),platform$2={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$2,FormData:FormData$2,Blob},isStandardBrowserEnv:isStandardBrowserEnv$1,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm$1(g,n){return toFormData$1(g,new platform$2.classes.URLSearchParams,Object.assign({visitor:function(r,$,L,V){return platform$2.isNode&&utils$1.isBuffer(r)?(this.append($,r.toString("base64")),!1):V.defaultVisitor.apply(this,arguments)}},n))}function parsePropPath$1(g){return utils$1.matchAll(/\w+|\[(\w*)]/g,g).map(n=>n[0]==="[]"?"":n[1]||n[0])}function arrayToObject$1(g){const n={},r=Object.keys(g);let $;const L=r.length;let V;for($=0;$<L;$++)V=r[$],n[V]=g[V];return n}function formDataToJSON$1(g){function n(r,$,L,V){let oe=r[V++];const ae=Number.isFinite(+oe),re=V>=r.length;return oe=!oe&&utils$1.isArray(L)?L.length:oe,re?(utils$1.hasOwnProp(L,oe)?L[oe]=[L[oe],$]:L[oe]=$,!ae):((!L[oe]||!utils$1.isObject(L[oe]))&&(L[oe]=[]),n(r,$,L[oe],V)&&utils$1.isArray(L[oe])&&(L[oe]=arrayToObject$1(L[oe])),!ae)}if(utils$1.isFormData(g)&&utils$1.isFunction(g.entries)){const r={};return utils$1.forEachEntry(g,($,L)=>{n(parsePropPath$1($),L,r,0)}),r}return null}const DEFAULT_CONTENT_TYPE$1={"Content-Type":void 0};function stringifySafely$1(g,n,r){if(utils$1.isString(g))try{return(n||JSON.parse)(g),utils$1.trim(g)}catch($){if($.name!=="SyntaxError")throw $}return(r||JSON.stringify)(g)}const defaults$5={transitional:transitionalDefaults$1,adapter:["xhr","http"],transformRequest:[function(g,n){const r=n.getContentType()||"",$=r.indexOf("application/json")>-1,L=utils$1.isObject(g);if(L&&utils$1.isHTMLForm(g)&&(g=new FormData(g)),utils$1.isFormData(g))return $&&$?JSON.stringify(formDataToJSON$1(g)):g;if(utils$1.isArrayBuffer(g)||utils$1.isBuffer(g)||utils$1.isStream(g)||utils$1.isFile(g)||utils$1.isBlob(g))return g;if(utils$1.isArrayBufferView(g))return g.buffer;if(utils$1.isURLSearchParams(g))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),g.toString();let V;if(L){if(r.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm$1(g,this.formSerializer).toString();if((V=utils$1.isFileList(g))||r.indexOf("multipart/form-data")>-1){const oe=this.env&&this.env.FormData;return toFormData$1(V?{"files[]":g}:g,oe&&new oe,this.formSerializer)}}return L||$?(n.setContentType("application/json",!1),stringifySafely$1(g)):g}],transformResponse:[function(g){const n=this.transitional||defaults$5.transitional,r=n&&n.forcedJSONParsing,$=this.responseType==="json";if(g&&utils$1.isString(g)&&(r&&!this.responseType||$)){const L=!(n&&n.silentJSONParsing)&&$;try{return JSON.parse(g)}catch(V){if(L)throw V.name==="SyntaxError"?AxiosError$1.from(V,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):V}}return g}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform$2.classes.FormData,Blob:platform$2.classes.Blob},validateStatus:function(g){return g>=200&&g<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$1.forEach(["delete","get","head"],function(g){defaults$5.headers[g]={}}),utils$1.forEach(["post","put","patch"],function(g){defaults$5.headers[g]=utils$1.merge(DEFAULT_CONTENT_TYPE$1)});const defaults$6=defaults$5,ignoreDuplicateOf$1=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders$1=g=>{const n={};let r,$,L;return g&&g.split(`
`).forEach(function(V){L=V.indexOf(":"),r=V.substring(0,L).trim().toLowerCase(),$=V.substring(L+1).trim(),!(!r||n[r]&&ignoreDuplicateOf$1[r])&&(r==="set-cookie"?n[r]?n[r].push($):n[r]=[$]:n[r]=n[r]?n[r]+", "+$:$)}),n},$internals$1=Symbol("internals");function normalizeHeader$1(g){return g&&String(g).trim().toLowerCase()}function normalizeValue$1(g){return g===!1||g==null?g:utils$1.isArray(g)?g.map(normalizeValue$1):String(g)}function parseTokens$1(g){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let $;for(;$=r.exec(g);)n[$[1]]=$[2];return n}function isValidHeaderName$1(g){return/^[-_a-zA-Z]+$/.test(g.trim())}function matchHeaderValue$1(g,n,r,$){if(utils$1.isFunction($))return $.call(this,n,r);if(utils$1.isString(n)){if(utils$1.isString($))return n.indexOf($)!==-1;if(utils$1.isRegExp($))return $.test(n)}}function formatHeader$1(g){return g.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,$)=>r.toUpperCase()+$)}function buildAccessors$1(g,n){const r=utils$1.toCamelCase(" "+n);["get","set","has"].forEach($=>{Object.defineProperty(g,$+r,{value:function(L,V,oe){return this[$].call(this,n,L,V,oe)},configurable:!0})})}class AxiosHeaders$2{constructor(n){n&&this.set(n)}set(n,r,$){const L=this;function V(ae,re,le){const ue=normalizeHeader$1(re);if(!ue)throw new Error("header name must be a non-empty string");const de=utils$1.findKey(L,ue);(!de||L[de]===void 0||le===!0||le===void 0&&L[de]!==!1)&&(L[de||re]=normalizeValue$1(ae))}const oe=(ae,re)=>utils$1.forEach(ae,(le,ue)=>V(le,ue,re));return utils$1.isPlainObject(n)||n instanceof this.constructor?oe(n,r):utils$1.isString(n)&&(n=n.trim())&&!isValidHeaderName$1(n)?oe(parseHeaders$1(n),r):n!=null&&V(r,n,$),this}get(n,r){if(n=normalizeHeader$1(n),n){const $=utils$1.findKey(this,n);if($){const L=this[$];if(!r)return L;if(r===!0)return parseTokens$1(L);if(utils$1.isFunction(r))return r.call(this,L,$);if(utils$1.isRegExp(r))return r.exec(L);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=normalizeHeader$1(n),n){const $=utils$1.findKey(this,n);return!!($&&(!r||matchHeaderValue$1(this,this[$],$,r)))}return!1}delete(n,r){const $=this;let L=!1;function V(oe){if(oe=normalizeHeader$1(oe),oe){const ae=utils$1.findKey($,oe);ae&&(!r||matchHeaderValue$1($,$[ae],ae,r))&&(delete $[ae],L=!0)}}return utils$1.isArray(n)?n.forEach(V):V(n),L}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(n){const r=this,$={};return utils$1.forEach(this,(L,V)=>{const oe=utils$1.findKey($,V);if(oe){r[oe]=normalizeValue$1(L),delete r[V];return}const ae=n?formatHeader$1(V):String(V).trim();ae!==V&&delete r[V],r[ae]=normalizeValue$1(L),$[ae]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return utils$1.forEach(this,($,L)=>{$!=null&&$!==!1&&(r[L]=n&&utils$1.isArray($)?$.join(", "):$)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const $=new this(n);return r.forEach(L=>$.set(L)),$}static accessor(n){const r=(this[$internals$1]=this[$internals$1]={accessors:{}}).accessors,$=this.prototype;function L(V){const oe=normalizeHeader$1(V);r[oe]||(buildAccessors$1($,V),r[oe]=!0)}return utils$1.isArray(n)?n.forEach(L):L(n),this}}AxiosHeaders$2.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),utils$1.freezeMethods(AxiosHeaders$2.prototype),utils$1.freezeMethods(AxiosHeaders$2);const AxiosHeaders$3=AxiosHeaders$2;function transformData$1(g,n){const r=this||defaults$6,$=n||r,L=AxiosHeaders$3.from($.headers);let V=$.data;return utils$1.forEach(g,function(oe){V=oe.call(r,V,L.normalize(),n?n.status:void 0)}),L.normalize(),V}function isCancel$1(g){return!!(g&&g.__CANCEL__)}function CanceledError$1(g,n,r){AxiosError$1.call(this,g!=null?g:"canceled",AxiosError$1.ERR_CANCELED,n,r),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});const httpAdapter$1=null;function settle$1(g,n,r){const $=r.config.validateStatus;!r.status||!$||$(r.status)?g(r):n(new AxiosError$1("Request failed with status code "+r.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const cookies$1=platform$2.isStandardBrowserEnv?function(){return{write:function(g,n,r,$,L,V){const oe=[];oe.push(g+"="+encodeURIComponent(n)),utils$1.isNumber(r)&&oe.push("expires="+new Date(r).toGMTString()),utils$1.isString($)&&oe.push("path="+$),utils$1.isString(L)&&oe.push("domain="+L),V===!0&&oe.push("secure"),document.cookie=oe.join("; ")},read:function(g){const n=document.cookie.match(new RegExp("(^|;\\s*)("+g+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(g){this.write(g,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL$1(g){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(g)}function combineURLs$1(g,n){return n?g.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):g}function buildFullPath$1(g,n){return g&&!isAbsoluteURL$1(n)?combineURLs$1(g,n):n}const isURLSameOrigin$1=platform$2.isStandardBrowserEnv?function(){const g=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function $(L){let V=L;return g&&(n.setAttribute("href",V),V=n.href),n.setAttribute("href",V),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=$(window.location.href),function(L){const V=utils$1.isString(L)?$(L):L;return V.protocol===r.protocol&&V.host===r.host}}():function(){return function(){return!0}}();function parseProtocol$1(g){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(g);return n&&n[1]||""}function speedometer$1(g,n){g=g||10;const r=new Array(g),$=new Array(g);let L=0,V=0,oe;return n=n!==void 0?n:1e3,function(ae){const re=Date.now(),le=$[V];oe||(oe=re),r[L]=ae,$[L]=re;let ue=V,de=0;for(;ue!==L;)de+=r[ue++],ue=ue%g;if(L=(L+1)%g,L===V&&(V=(V+1)%g),re-oe<n)return;const he=le&&re-le;return he?Math.round(de*1e3/he):void 0}}function progressEventReducer$1(g,n){let r=0;const $=speedometer$1(50,250);return L=>{const V=L.loaded,oe=L.lengthComputable?L.total:void 0,ae=V-r,re=$(ae),le=V<=oe;r=V;const ue={loaded:V,total:oe,progress:oe?V/oe:void 0,bytes:ae,rate:re||void 0,estimated:re&&oe&&le?(oe-V)/re:void 0,event:L};ue[n?"download":"upload"]=!0,g(ue)}}const isXHRAdapterSupported$1=typeof XMLHttpRequest<"u",xhrAdapter$1=isXHRAdapterSupported$1&&function(g){return new Promise(function(n,r){let $=g.data;const L=AxiosHeaders$3.from(g.headers).normalize(),V=g.responseType;let oe;function ae(){g.cancelToken&&g.cancelToken.unsubscribe(oe),g.signal&&g.signal.removeEventListener("abort",oe)}utils$1.isFormData($)&&platform$2.isStandardBrowserEnv&&L.setContentType(!1);let re=new XMLHttpRequest;if(g.auth){const he=g.auth.username||"",pe=g.auth.password?unescape(encodeURIComponent(g.auth.password)):"";L.set("Authorization","Basic "+btoa(he+":"+pe))}const le=buildFullPath$1(g.baseURL,g.url);re.open(g.method.toUpperCase(),buildURL$1(le,g.params,g.paramsSerializer),!0),re.timeout=g.timeout;function ue(){if(!re)return;const he=AxiosHeaders$3.from("getAllResponseHeaders"in re&&re.getAllResponseHeaders()),pe={data:!V||V==="text"||V==="json"?re.responseText:re.response,status:re.status,statusText:re.statusText,headers:he,config:g,request:re};settle$1(function(_e){n(_e),ae()},function(_e){r(_e),ae()},pe),re=null}if("onloadend"in re?re.onloadend=ue:re.onreadystatechange=function(){!re||re.readyState!==4||re.status===0&&!(re.responseURL&&re.responseURL.indexOf("file:")===0)||setTimeout(ue)},re.onabort=function(){!re||(r(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,g,re)),re=null)},re.onerror=function(){r(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,g,re)),re=null},re.ontimeout=function(){let he=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const pe=g.transitional||transitionalDefaults$1;g.timeoutErrorMessage&&(he=g.timeoutErrorMessage),r(new AxiosError$1(he,pe.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,g,re)),re=null},platform$2.isStandardBrowserEnv){const he=(g.withCredentials||isURLSameOrigin$1(le))&&g.xsrfCookieName&&cookies$1.read(g.xsrfCookieName);he&&L.set(g.xsrfHeaderName,he)}$===void 0&&L.setContentType(null),"setRequestHeader"in re&&utils$1.forEach(L.toJSON(),function(he,pe){re.setRequestHeader(pe,he)}),utils$1.isUndefined(g.withCredentials)||(re.withCredentials=!!g.withCredentials),V&&V!=="json"&&(re.responseType=g.responseType),typeof g.onDownloadProgress=="function"&&re.addEventListener("progress",progressEventReducer$1(g.onDownloadProgress,!0)),typeof g.onUploadProgress=="function"&&re.upload&&re.upload.addEventListener("progress",progressEventReducer$1(g.onUploadProgress)),(g.cancelToken||g.signal)&&(oe=he=>{!re||(r(!he||he.type?new CanceledError$1(null,g,re):he),re.abort(),re=null)},g.cancelToken&&g.cancelToken.subscribe(oe),g.signal&&(g.signal.aborted?oe():g.signal.addEventListener("abort",oe)));const de=parseProtocol$1(le);if(de&&platform$2.protocols.indexOf(de)===-1){r(new AxiosError$1("Unsupported protocol "+de+":",AxiosError$1.ERR_BAD_REQUEST,g));return}re.send($||null)})},knownAdapters$1={http:httpAdapter$1,xhr:xhrAdapter$1};utils$1.forEach(knownAdapters$1,(g,n)=>{if(g){try{Object.defineProperty(g,"name",{value:n})}catch{}Object.defineProperty(g,"adapterName",{value:n})}});const adapters$1={getAdapter:g=>{g=utils$1.isArray(g)?g:[g];const{length:n}=g;let r,$;for(let L=0;L<n&&(r=g[L],!($=utils$1.isString(r)?knownAdapters$1[r.toLowerCase()]:r));L++);if(!$)throw $===!1?new AxiosError$1(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(utils$1.hasOwnProp(knownAdapters$1,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!utils$1.isFunction($))throw new TypeError("adapter is not a function");return $},adapters:knownAdapters$1};function throwIfCancellationRequested$1(g){if(g.cancelToken&&g.cancelToken.throwIfRequested(),g.signal&&g.signal.aborted)throw new CanceledError$1}function dispatchRequest$1(g){return throwIfCancellationRequested$1(g),g.headers=AxiosHeaders$3.from(g.headers),g.data=transformData$1.call(g,g.transformRequest),["post","put","patch"].indexOf(g.method)!==-1&&g.headers.setContentType("application/x-www-form-urlencoded",!1),adapters$1.getAdapter(g.adapter||defaults$6.adapter)(g).then(function(n){return throwIfCancellationRequested$1(g),n.data=transformData$1.call(g,g.transformResponse,n),n.headers=AxiosHeaders$3.from(n.headers),n},function(n){return isCancel$1(n)||(throwIfCancellationRequested$1(g),n&&n.response&&(n.response.data=transformData$1.call(g,g.transformResponse,n.response),n.response.headers=AxiosHeaders$3.from(n.response.headers))),Promise.reject(n)})}const headersToObject$1=g=>g instanceof AxiosHeaders$3?g.toJSON():g;function mergeConfig$1(g,n){n=n||{};const r={};function $(le,ue,de){return utils$1.isPlainObject(le)&&utils$1.isPlainObject(ue)?utils$1.merge.call({caseless:de},le,ue):utils$1.isPlainObject(ue)?utils$1.merge({},ue):utils$1.isArray(ue)?ue.slice():ue}function L(le,ue,de){if(utils$1.isUndefined(ue)){if(!utils$1.isUndefined(le))return $(void 0,le,de)}else return $(le,ue,de)}function V(le,ue){if(!utils$1.isUndefined(ue))return $(void 0,ue)}function oe(le,ue){if(utils$1.isUndefined(ue)){if(!utils$1.isUndefined(le))return $(void 0,le)}else return $(void 0,ue)}function ae(le,ue,de){if(de in n)return $(le,ue);if(de in g)return $(void 0,le)}const re={url:V,method:V,data:V,baseURL:oe,transformRequest:oe,transformResponse:oe,paramsSerializer:oe,timeout:oe,timeoutMessage:oe,withCredentials:oe,adapter:oe,responseType:oe,xsrfCookieName:oe,xsrfHeaderName:oe,onUploadProgress:oe,onDownloadProgress:oe,decompress:oe,maxContentLength:oe,maxBodyLength:oe,beforeRedirect:oe,transport:oe,httpAgent:oe,httpsAgent:oe,cancelToken:oe,socketPath:oe,responseEncoding:oe,validateStatus:ae,headers:(le,ue)=>L(headersToObject$1(le),headersToObject$1(ue),!0)};return utils$1.forEach(Object.keys(g).concat(Object.keys(n)),function(le){const ue=re[le]||L,de=ue(g[le],n[le],le);utils$1.isUndefined(de)&&ue!==ae||(r[le]=de)}),r}const VERSION$1="1.2.0",validators$3={};["object","boolean","number","function","string","symbol"].forEach((g,n)=>{validators$3[g]=function(r){return typeof r===g||"a"+(n<1?"n ":" ")+g}});const deprecatedWarnings$1={};validators$3.transitional=function(g,n,r){function $(L,V){return"[Axios v"+VERSION$1+"] Transitional option '"+L+"'"+V+(r?". "+r:"")}return(L,V,oe)=>{if(g===!1)throw new AxiosError$1($(V," has been removed"+(n?" in "+n:"")),AxiosError$1.ERR_DEPRECATED);return n&&!deprecatedWarnings$1[V]&&(deprecatedWarnings$1[V]=!0,console.warn($(V," has been deprecated since v"+n+" and will be removed in the near future"))),g?g(L,V,oe):!0}};function assertOptions$1(g,n,r){if(typeof g!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const $=Object.keys(g);let L=$.length;for(;L-- >0;){const V=$[L],oe=n[V];if(oe){const ae=g[V],re=ae===void 0||oe(ae,V,g);if(re!==!0)throw new AxiosError$1("option "+V+" must be "+re,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError$1("Unknown option "+V,AxiosError$1.ERR_BAD_OPTION)}}const validator$1={assertOptions:assertOptions$1,validators:validators$3},validators$2=validator$1.validators;class Axios$2{constructor(n){this.defaults=n,this.interceptors={request:new InterceptorManager$3,response:new InterceptorManager$3}}request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=mergeConfig$1(this.defaults,r);const{transitional:$,paramsSerializer:L,headers:V}=r;$!==void 0&&validator$1.assertOptions($,{silentJSONParsing:validators$2.transitional(validators$2.boolean),forcedJSONParsing:validators$2.transitional(validators$2.boolean),clarifyTimeoutError:validators$2.transitional(validators$2.boolean)},!1),L!==void 0&&validator$1.assertOptions(L,{encode:validators$2.function,serialize:validators$2.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let oe;oe=V&&utils$1.merge(V.common,V[r.method]),oe&&utils$1.forEach(["delete","get","head","post","put","patch","common"],_e=>{delete V[_e]}),r.headers=AxiosHeaders$3.concat(oe,V);const ae=[];let re=!0;this.interceptors.request.forEach(function(_e){typeof _e.runWhen=="function"&&_e.runWhen(r)===!1||(re=re&&_e.synchronous,ae.unshift(_e.fulfilled,_e.rejected))});const le=[];this.interceptors.response.forEach(function(_e){le.push(_e.fulfilled,_e.rejected)});let ue,de=0,he;if(!re){const _e=[dispatchRequest$1.bind(this),void 0];for(_e.unshift.apply(_e,ae),_e.push.apply(_e,le),he=_e.length,ue=Promise.resolve(r);de<he;)ue=ue.then(_e[de++],_e[de++]);return ue}he=ae.length;let pe=r;for(de=0;de<he;){const _e=ae[de++],$e=ae[de++];try{pe=_e(pe)}catch(xe){$e.call(this,xe);break}}try{ue=dispatchRequest$1.call(this,pe)}catch(_e){return Promise.reject(_e)}for(de=0,he=le.length;de<he;)ue=ue.then(le[de++],le[de++]);return ue}getUri(n){n=mergeConfig$1(this.defaults,n);const r=buildFullPath$1(n.baseURL,n.url);return buildURL$1(r,n.params,n.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function(g){Axios$2.prototype[g]=function(n,r){return this.request(mergeConfig$1(r||{},{method:g,url:n,data:(r||{}).data}))}}),utils$1.forEach(["post","put","patch"],function(g){function n(r){return function($,L,V){return this.request(mergeConfig$1(V||{},{method:g,headers:r?{"Content-Type":"multipart/form-data"}:{},url:$,data:L}))}}Axios$2.prototype[g]=n(),Axios$2.prototype[g+"Form"]=n(!0)});const Axios$3=Axios$2;class CancelToken$2{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(L){r=L});const $=this;this.promise.then(L=>{if(!$._listeners)return;let V=$._listeners.length;for(;V-- >0;)$._listeners[V](L);$._listeners=null}),this.promise.then=L=>{let V;const oe=new Promise(ae=>{$.subscribe(ae),V=ae}).then(L);return oe.cancel=function(){$.unsubscribe(V)},oe},n(function(L,V,oe){$.reason||($.reason=new CanceledError$1(L,V,oe),r($.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}static source(){let n;return{token:new CancelToken$2(function(r){n=r}),cancel:n}}}const CancelToken$3=CancelToken$2;function spread$1(g){return function(n){return g.apply(null,n)}}function isAxiosError$1(g){return utils$1.isObject(g)&&g.isAxiosError===!0}function createInstance$1(g){const n=new Axios$3(g),r=bind$3(Axios$3.prototype.request,n);return utils$1.extend(r,Axios$3.prototype,n,{allOwnKeys:!0}),utils$1.extend(r,n,null,{allOwnKeys:!0}),r.create=function($){return createInstance$1(mergeConfig$1(g,$))},r}const axios$2=createInstance$1(defaults$6);axios$2.Axios=Axios$3,axios$2.CanceledError=CanceledError$1,axios$2.CancelToken=CancelToken$3,axios$2.isCancel=isCancel$1,axios$2.VERSION=VERSION$1,axios$2.toFormData=toFormData$1,axios$2.AxiosError=AxiosError$1,axios$2.Cancel=axios$2.CanceledError,axios$2.all=function(g){return Promise.all(g)},axios$2.spread=spread$1,axios$2.isAxiosError=isAxiosError$1,axios$2.AxiosHeaders=AxiosHeaders$3,axios$2.formToJSON=g=>formDataToJSON$1(utils$1.isHTMLForm(g)?new FormData(g):g),axios$2.default=axios$2,axios$3=axios$2;function assign$1(g){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var $ in r)g[$]=r[$]}return g}var defaultConverter={read:function(g){return g[0]==='"'&&(g=g.slice(1,-1)),g.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(g){return encodeURIComponent(g).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init$3(g,n){function r(L,V,oe){if(!(typeof document>"u")){oe=assign$1({},n,oe),typeof oe.expires=="number"&&(oe.expires=new Date(Date.now()+oe.expires*864e5)),oe.expires&&(oe.expires=oe.expires.toUTCString()),L=encodeURIComponent(L).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var ae="";for(var re in oe)!oe[re]||(ae+="; "+re,oe[re]!==!0&&(ae+="="+oe[re].split(";")[0]));return document.cookie=L+"="+g.write(V,L)+ae}}function $(L){if(!(typeof document>"u"||arguments.length&&!L)){for(var V=document.cookie?document.cookie.split("; "):[],oe={},ae=0;ae<V.length;ae++){var re=V[ae].split("="),le=re.slice(1).join("=");try{var ue=decodeURIComponent(re[0]);if(oe[ue]=g.read(le,ue),L===ue)break}catch{}}return L?oe[L]:oe}}return Object.create({set:r,get:$,remove:function(L,V){r(L,"",assign$1({},V,{expires:-1}))},withAttributes:function(L){return init$3(this.converter,assign$1({},this.attributes,L))},withConverter:function(L){return init$3(assign$1({},this.converter,L),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(g)}})}var api=init$3(defaultConverter,{path:"/"});let service;getCookie=g=>api.get(g),service=axios$3.create({baseURL:"/api"}),service.interceptors.request.use(g=>{const n=getCookie("ev-token");return n&&g.headers&&(g.headers.Authorization=`bearer ${n}`),g},g=>g),service.interceptors.response.use(g=>{const{code:n,msg:r}=g.data;return n==0?g.data:(ElMessage.error(r),Promise.reject(new Error(r)))},g=>{var r;let n;switch((r=g.response)==null?void 0:r.status){case 401:n="token \u5931\u6548\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55";break;case 403:n="\u6CA1\u6709\u6743\u9650";break;case 404:n="\u8BF7\u6C42\u5730\u5740\u9519\u8BEF";break;case 500:n="\u670D\u52A1\u5668\u9519\u8BEF";break;default:n="\u7F51\u7EDC\u8FDE\u63A5\u6545\u969C"}return ElMessage.error(n),Promise.reject(g)});let getChart;request=g=>new Promise((n,r)=>{service.request(g).then($=>{n($)},$=>{r($)})}),getDict=g=>request({url:"/dict/getDict",method:"post",data:{dictType:g}}),getChart=g=>request({url:"/chart/find",method:"post",data:g});const isBrowser=typeof window<"u";function isESModule(g){return g.__esModule||g[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(g,n){const r={};for(const $ in n){const L=n[$];r[$]=isArray$3(L)?L.map(g):g(L)}return r}const noop$2=()=>{},isArray$3=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=g=>g.replace(TRAILING_SLASH_RE,"");function parseURL(g,n,r="/"){let $,L={},V="",oe="";const ae=n.indexOf("#");let re=n.indexOf("?");return ae<re&&ae>=0&&(re=-1),re>-1&&($=n.slice(0,re),V=n.slice(re+1,ae>-1?ae:n.length),L=g(V)),ae>-1&&($=$||n.slice(0,ae),oe=n.slice(ae,n.length)),$=resolveRelativePath($!=null?$:n,r),{fullPath:$+(V&&"?")+V+oe,path:$,query:L,hash:oe}}function stringifyURL(g,n){const r=n.query?g(n.query):"";return n.path+(r&&"?")+r+(n.hash||"")}function stripBase(g,n){return!n||!g.toLowerCase().startsWith(n.toLowerCase())?g:g.slice(n.length)||"/"}function isSameRouteLocation(g,n,r){const $=n.matched.length-1,L=r.matched.length-1;return $>-1&&$===L&&isSameRouteRecord(n.matched[$],r.matched[L])&&isSameRouteLocationParams(n.params,r.params)&&g(n.query)===g(r.query)&&n.hash===r.hash}function isSameRouteRecord(g,n){return(g.aliasOf||g)===(n.aliasOf||n)}function isSameRouteLocationParams(g,n){if(Object.keys(g).length!==Object.keys(n).length)return!1;for(const r in g)if(!isSameRouteLocationParamsValue(g[r],n[r]))return!1;return!0}function isSameRouteLocationParamsValue(g,n){return isArray$3(g)?isEquivalentArray(g,n):isArray$3(n)?isEquivalentArray(n,g):g===n}function isEquivalentArray(g,n){return isArray$3(n)?g.length===n.length&&g.every((r,$)=>r===n[$]):g.length===1&&g[0]===n}function resolveRelativePath(g,n){if(g.startsWith("/"))return g;if(!g)return n;const r=n.split("/"),$=g.split("/");let L=r.length-1,V,oe;for(V=0;V<$.length;V++)if(oe=$[V],oe!==".")if(oe==="..")L>1&&L--;else break;return r.slice(0,L).join("/")+"/"+$.slice(V-(V===$.length?1:0)).join("/")}var NavigationType;(function(g){g.pop="pop",g.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(g){g.back="back",g.forward="forward",g.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(g){if(!g)if(isBrowser){const n=document.querySelector("base");g=n&&n.getAttribute("href")||"/",g=g.replace(/^\w+:\/\/[^\/]+/,"")}else g="/";return g[0]!=="/"&&g[0]!=="#"&&(g="/"+g),removeTrailingSlash(g)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(g,n){return g.replace(BEFORE_HASH_RE,"#")+n}function getElementPosition(g,n){const r=document.documentElement.getBoundingClientRect(),$=g.getBoundingClientRect();return{behavior:n.behavior,left:$.left-r.left-(n.left||0),top:$.top-r.top-(n.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(g){let n;if("el"in g){const r=g.el,$=typeof r=="string"&&r.startsWith("#"),L=typeof r=="string"?$?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!L)return;n=getElementPosition(L,g)}else n=g;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function getScrollKey(g,n){return(history.state?history.state.position-n:-1)+g}const scrollPositions=new Map;function saveScrollPosition(g,n){scrollPositions.set(g,n)}function getSavedScrollPosition(g){const n=scrollPositions.get(g);return scrollPositions.delete(g),n}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(g,n){const{pathname:r,search:$,hash:L}=n,V=g.indexOf("#");if(V>-1){let oe=L.includes(g.slice(V))?g.slice(V).length:1,ae=L.slice(oe);return ae[0]!=="/"&&(ae="/"+ae),stripBase(ae,"")}return stripBase(r,g)+$+L}function useHistoryListeners(g,n,r,$){let L=[],V=[],oe=null;const ae=({state:he})=>{const pe=createCurrentLocation(g,location),_e=r.value,$e=n.value;let xe=0;if(he){if(r.value=pe,n.value=he,oe&&oe===_e){oe=null;return}xe=$e?he.position-$e.position:0}else $(pe);L.forEach(Oe=>{Oe(r.value,_e,{delta:xe,type:NavigationType.pop,direction:xe?xe>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function re(){oe=r.value}function le(he){L.push(he);const pe=()=>{const _e=L.indexOf(he);_e>-1&&L.splice(_e,1)};return V.push(pe),pe}function ue(){const{history:he}=window;!he.state||he.replaceState(assign({},he.state,{scroll:computeScrollPosition()}),"")}function de(){for(const he of V)he();V=[],window.removeEventListener("popstate",ae),window.removeEventListener("beforeunload",ue)}return window.addEventListener("popstate",ae),window.addEventListener("beforeunload",ue),{pauseListeners:re,listen:le,destroy:de}}function buildState(g,n,r,$=!1,L=!1){return{back:g,current:n,forward:r,replaced:$,position:window.history.length,scroll:L?computeScrollPosition():null}}function useHistoryStateNavigation(g){const{history:n,location:r}=window,$={value:createCurrentLocation(g,r)},L={value:n.state};L.value||V($.value,{back:null,current:$.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function V(re,le,ue){const de=g.indexOf("#"),he=de>-1?(r.host&&document.querySelector("base")?g:g.slice(de))+re:createBaseLocation()+g+re;try{n[ue?"replaceState":"pushState"](le,"",he),L.value=le}catch(pe){console.error(pe),r[ue?"replace":"assign"](he)}}function oe(re,le){const ue=assign({},n.state,buildState(L.value.back,re,L.value.forward,!0),le,{position:L.value.position});V(re,ue,!0),$.value=re}function ae(re,le){const ue=assign({},L.value,n.state,{forward:re,scroll:computeScrollPosition()});V(ue.current,ue,!0);const de=assign({},buildState($.value,re,null),{position:ue.position+1},le);V(re,de,!1),$.value=re}return{location:$,state:L,push:ae,replace:oe}}function createWebHistory(g){g=normalizeBase(g);const n=useHistoryStateNavigation(g),r=useHistoryListeners(g,n.state,n.location,n.replace);function $(V,oe=!0){oe||r.pauseListeners(),history.go(V)}const L=assign({location:"",base:g,go:$,createHref:createHref.bind(null,g)},n,r);return Object.defineProperty(L,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(L,"state",{enumerable:!0,get:()=>n.state.value}),L}function createWebHashHistory(g){return g=location.host?g||location.pathname+location.search:"",g.includes("#")||(g+="#"),createWebHistory(g)}function isRouteLocation(g){return typeof g=="string"||g&&typeof g=="object"}function isRouteName(g){return typeof g=="string"||typeof g=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(g){g[g.aborted=4]="aborted",g[g.cancelled=8]="cancelled",g[g.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(g,n){return assign(new Error,{type:g,[NavigationFailureSymbol]:!0},n)}function isNavigationFailure(g,n){return g instanceof Error&&NavigationFailureSymbol in g&&(n==null||!!(g.type&n))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(g,n){const r=assign({},BASE_PATH_PARSER_OPTIONS,n),$=[];let L=r.start?"^":"";const V=[];for(const le of g){const ue=le.length?[]:[90];r.strict&&!le.length&&(L+="/");for(let de=0;de<le.length;de++){const he=le[de];let pe=40+(r.sensitive?.25:0);if(he.type===0)de||(L+="/"),L+=he.value.replace(REGEX_CHARS_RE,"\\$&"),pe+=40;else if(he.type===1){const{value:_e,repeatable:$e,optional:xe,regexp:Oe}=he;V.push({name:_e,repeatable:$e,optional:xe});const Ce=Oe||BASE_PARAM_PATTERN;if(Ce!==BASE_PARAM_PATTERN){pe+=10;try{new RegExp(`(${Ce})`)}catch(Ne){throw new Error(`Invalid custom RegExp for param "${_e}" (${Ce}): `+Ne.message)}}let Ie=$e?`((?:${Ce})(?:/(?:${Ce}))*)`:`(${Ce})`;de||(Ie=xe&&le.length<2?`(?:/${Ie})`:"/"+Ie),xe&&(Ie+="?"),L+=Ie,pe+=20,xe&&(pe+=-8),$e&&(pe+=-20),Ce===".*"&&(pe+=-50)}ue.push(pe)}$.push(ue)}if(r.strict&&r.end){const le=$.length-1;$[le][$[le].length-1]+=.7000000000000001}r.strict||(L+="/?"),r.end?L+="$":r.strict&&(L+="(?:/|$)");const oe=new RegExp(L,r.sensitive?"":"i");function ae(le){const ue=le.match(oe),de={};if(!ue)return null;for(let he=1;he<ue.length;he++){const pe=ue[he]||"",_e=V[he-1];de[_e.name]=pe&&_e.repeatable?pe.split("/"):pe}return de}function re(le){let ue="",de=!1;for(const he of g){(!de||!ue.endsWith("/"))&&(ue+="/"),de=!1;for(const pe of he)if(pe.type===0)ue+=pe.value;else if(pe.type===1){const{value:_e,repeatable:$e,optional:xe}=pe,Oe=_e in le?le[_e]:"";if(isArray$3(Oe)&&!$e)throw new Error(`Provided param "${_e}" is an array but it is not repeatable (* or + modifiers)`);const Ce=isArray$3(Oe)?Oe.join("/"):Oe;if(!Ce)if(xe)he.length<2&&(ue.endsWith("/")?ue=ue.slice(0,-1):de=!0);else throw new Error(`Missing required param "${_e}"`);ue+=Ce}}return ue||"/"}return{re:oe,score:$,keys:V,parse:ae,stringify:re}}function compareScoreArray(g,n){let r=0;for(;r<g.length&&r<n.length;){const $=n[r]-g[r];if($)return $;r++}return g.length<n.length?g.length===1&&g[0]===80?-1:1:g.length>n.length?n.length===1&&n[0]===80?1:-1:0}function comparePathParserScore(g,n){let r=0;const $=g.score,L=n.score;for(;r<$.length&&r<L.length;){const V=compareScoreArray($[r],L[r]);if(V)return V;r++}if(Math.abs(L.length-$.length)===1){if(isLastScoreNegative($))return 1;if(isLastScoreNegative(L))return-1}return L.length-$.length}function isLastScoreNegative(g){const n=g[g.length-1];return g.length>0&&n[n.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(g){if(!g)return[[]];if(g==="/")return[[ROOT_TOKEN]];if(!g.startsWith("/"))throw new Error(`Invalid path "${g}"`);function n(pe){throw new Error(`ERR (${r})/"${le}": ${pe}`)}let r=0,$=r;const L=[];let V;function oe(){V&&L.push(V),V=[]}let ae=0,re,le="",ue="";function de(){!le||(r===0?V.push({type:0,value:le}):r===1||r===2||r===3?(V.length>1&&(re==="*"||re==="+")&&n(`A repeatable param (${le}) must be alone in its segment. eg: '/:ids+.`),V.push({type:1,value:le,regexp:ue,repeatable:re==="*"||re==="+",optional:re==="*"||re==="?"})):n("Invalid state to consume buffer"),le="")}function he(){le+=re}for(;ae<g.length;){if(re=g[ae++],re==="\\"&&r!==2){$=r,r=4;continue}switch(r){case 0:re==="/"?(le&&de(),oe()):re===":"?(de(),r=1):he();break;case 4:he(),r=$;break;case 1:re==="("?r=2:VALID_PARAM_RE.test(re)?he():(de(),r=0,re!=="*"&&re!=="?"&&re!=="+"&&ae--);break;case 2:re===")"?ue[ue.length-1]=="\\"?ue=ue.slice(0,-1)+re:r=3:ue+=re;break;case 3:de(),r=0,re!=="*"&&re!=="?"&&re!=="+"&&ae--,ue="";break;default:n("Unknown state");break}}return r===2&&n(`Unfinished custom RegExp for param "${le}"`),de(),oe(),L}function createRouteRecordMatcher(g,n,r){const $=tokensToParser(tokenizePath(g.path),r),L=assign($,{record:g,parent:n,children:[],alias:[]});return n&&!L.record.aliasOf==!n.record.aliasOf&&n.children.push(L),L}function createRouterMatcher(g,n){const r=[],$=new Map;n=mergeOptions({strict:!1,end:!0,sensitive:!1},n);function L(ue){return $.get(ue)}function V(ue,de,he){const pe=!he,_e=normalizeRouteRecord(ue);_e.aliasOf=he&&he.record;const $e=mergeOptions(n,ue),xe=[_e];if("alias"in ue){const Ie=typeof ue.alias=="string"?[ue.alias]:ue.alias;for(const Ne of Ie)xe.push(assign({},_e,{components:he?he.record.components:_e.components,path:Ne,aliasOf:he?he.record:_e}))}let Oe,Ce;for(const Ie of xe){const{path:Ne}=Ie;if(de&&Ne[0]!=="/"){const ze=de.record.path,Fe=ze[ze.length-1]==="/"?"":"/";Ie.path=de.record.path+(Ne&&Fe+Ne)}if(Oe=createRouteRecordMatcher(Ie,de,$e),he?he.alias.push(Oe):(Ce=Ce||Oe,Ce!==Oe&&Ce.alias.push(Oe),pe&&ue.name&&!isAliasRecord(Oe)&&oe(ue.name)),_e.children){const ze=_e.children;for(let Fe=0;Fe<ze.length;Fe++)V(ze[Fe],Oe,he&&he.children[Fe])}he=he||Oe,(Oe.record.components&&Object.keys(Oe.record.components).length||Oe.record.name||Oe.record.redirect)&&re(Oe)}return Ce?()=>{oe(Ce)}:noop$2}function oe(ue){if(isRouteName(ue)){const de=$.get(ue);de&&($.delete(ue),r.splice(r.indexOf(de),1),de.children.forEach(oe),de.alias.forEach(oe))}else{const de=r.indexOf(ue);de>-1&&(r.splice(de,1),ue.record.name&&$.delete(ue.record.name),ue.children.forEach(oe),ue.alias.forEach(oe))}}function ae(){return r}function re(ue){let de=0;for(;de<r.length&&comparePathParserScore(ue,r[de])>=0&&(ue.record.path!==r[de].record.path||!isRecordChildOf(ue,r[de]));)de++;r.splice(de,0,ue),ue.record.name&&!isAliasRecord(ue)&&$.set(ue.record.name,ue)}function le(ue,de){let he,pe={},_e,$e;if("name"in ue&&ue.name){if(he=$.get(ue.name),!he)throw createRouterError(1,{location:ue});$e=he.record.name,pe=assign(paramsFromLocation(de.params,he.keys.filter(Ce=>!Ce.optional).map(Ce=>Ce.name)),ue.params&&paramsFromLocation(ue.params,he.keys.map(Ce=>Ce.name))),_e=he.stringify(pe)}else if("path"in ue)_e=ue.path,he=r.find(Ce=>Ce.re.test(_e)),he&&(pe=he.parse(_e),$e=he.record.name);else{if(he=de.name?$.get(de.name):r.find(Ce=>Ce.re.test(de.path)),!he)throw createRouterError(1,{location:ue,currentLocation:de});$e=he.record.name,pe=assign({},de.params,ue.params),_e=he.stringify(pe)}const xe=[];let Oe=he;for(;Oe;)xe.unshift(Oe.record),Oe=Oe.parent;return{name:$e,path:_e,params:pe,matched:xe,meta:mergeMetaFields(xe)}}return g.forEach(ue=>V(ue)),{addRoute:V,resolve:le,removeRoute:oe,getRoutes:ae,getRecordMatcher:L}}function paramsFromLocation(g,n){const r={};for(const $ of n)$ in g&&(r[$]=g[$]);return r}function normalizeRouteRecord(g){return{path:g.path,redirect:g.redirect,name:g.name,meta:g.meta||{},aliasOf:void 0,beforeEnter:g.beforeEnter,props:normalizeRecordProps(g),children:g.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in g?g.components||null:g.component&&{default:g.component}}}function normalizeRecordProps(g){const n={},r=g.props||!1;if("component"in g)n.default=r;else for(const $ in g.components)n[$]=typeof r=="boolean"?r:r[$];return n}function isAliasRecord(g){for(;g;){if(g.record.aliasOf)return!0;g=g.parent}return!1}function mergeMetaFields(g){return g.reduce((n,r)=>assign(n,r.meta),{})}function mergeOptions(g,n){const r={};for(const $ in g)r[$]=$ in n?n[$]:g[$];return r}function isRecordChildOf(g,n){return n.children.some(r=>r===g||isRecordChildOf(g,r))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(g){return encodeURI(""+g).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(g){return commonEncode(g).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(g){return commonEncode(g).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(g){return encodeQueryValue(g).replace(EQUAL_RE,"%3D")}function encodePath(g){return commonEncode(g).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(g){return g==null?"":encodePath(g).replace(SLASH_RE,"%2F")}function decode$1(g){try{return decodeURIComponent(""+g)}catch{}return""+g}function parseQuery(g){const n={};if(g===""||g==="?")return n;const r=(g[0]==="?"?g.slice(1):g).split("&");for(let $=0;$<r.length;++$){const L=r[$].replace(PLUS_RE," "),V=L.indexOf("="),oe=decode$1(V<0?L:L.slice(0,V)),ae=V<0?null:decode$1(L.slice(V+1));if(oe in n){let re=n[oe];isArray$3(re)||(re=n[oe]=[re]),re.push(ae)}else n[oe]=ae}return n}function stringifyQuery(g){let n="";for(let r in g){const $=g[r];if(r=encodeQueryKey(r),$==null){$!==void 0&&(n+=(n.length?"&":"")+r);continue}(isArray$3($)?$.map(L=>L&&encodeQueryValue(L)):[$&&encodeQueryValue($)]).forEach(L=>{L!==void 0&&(n+=(n.length?"&":"")+r,L!=null&&(n+="="+L))})}return n}function normalizeQuery(g){const n={};for(const r in g){const $=g[r];$!==void 0&&(n[r]=isArray$3($)?$.map(L=>L==null?null:""+L):$==null?$:""+$)}return n}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let g=[];function n($){return g.push($),()=>{const L=g.indexOf($);L>-1&&g.splice(L,1)}}function r(){g=[]}return{add:n,list:()=>g,reset:r}}function guardToPromiseFn(g,n,r,$,L){const V=$&&($.enterCallbacks[L]=$.enterCallbacks[L]||[]);return()=>new Promise((oe,ae)=>{const re=de=>{de===!1?ae(createRouterError(4,{from:r,to:n})):de instanceof Error?ae(de):isRouteLocation(de)?ae(createRouterError(2,{from:n,to:de})):(V&&$.enterCallbacks[L]===V&&typeof de=="function"&&V.push(de),oe())},le=g.call($&&$.instances[L],n,r,re);let ue=Promise.resolve(le);g.length<3&&(ue=ue.then(re)),ue.catch(de=>ae(de))})}function extractComponentsGuards(g,n,r,$){const L=[];for(const V of g)for(const oe in V.components){let ae=V.components[oe];if(!(n!=="beforeRouteEnter"&&!V.instances[oe]))if(isRouteComponent(ae)){const re=(ae.__vccOpts||ae)[n];re&&L.push(guardToPromiseFn(re,r,$,V,oe))}else{let re=ae();L.push(()=>re.then(le=>{if(!le)return Promise.reject(new Error(`Couldn't resolve component "${oe}" at "${V.path}"`));const ue=isESModule(le)?le.default:le;V.components[oe]=ue;const de=(ue.__vccOpts||ue)[n];return de&&guardToPromiseFn(de,r,$,V,oe)()}))}}return L}function isRouteComponent(g){return typeof g=="object"||"displayName"in g||"props"in g||"__vccOpts"in g}function useLink(g){const n=inject(routerKey),r=inject(routeLocationKey),$=computed(()=>n.resolve(unref(g.to))),L=computed(()=>{const{matched:re}=$.value,{length:le}=re,ue=re[le-1],de=r.matched;if(!ue||!de.length)return-1;const he=de.findIndex(isSameRouteRecord.bind(null,ue));if(he>-1)return he;const pe=getOriginalPath(re[le-2]);return le>1&&getOriginalPath(ue)===pe&&de[de.length-1].path!==pe?de.findIndex(isSameRouteRecord.bind(null,re[le-2])):he}),V=computed(()=>L.value>-1&&includesParams(r.params,$.value.params)),oe=computed(()=>L.value>-1&&L.value===r.matched.length-1&&isSameRouteLocationParams(r.params,$.value.params));function ae(re={}){return guardEvent(re)?n[unref(g.replace)?"replace":"push"](unref(g.to)).catch(noop$2):Promise.resolve()}return{route:$,href:computed(()=>$.value.href),isActive:V,isExactActive:oe,navigate:ae}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(g,{slots:n}){const r=reactive(useLink(g)),{options:$}=inject(routerKey),L=computed(()=>({[getLinkClass(g.activeClass,$.linkActiveClass,"router-link-active")]:r.isActive,[getLinkClass(g.exactActiveClass,$.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const V=n.default&&n.default(r);return g.custom?V:h$2("a",{"aria-current":r.isExactActive?g.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:L.value},V)}}}),RouterLink=RouterLinkImpl;function guardEvent(g){if(!(g.metaKey||g.altKey||g.ctrlKey||g.shiftKey)&&!g.defaultPrevented&&!(g.button!==void 0&&g.button!==0)){if(g.currentTarget&&g.currentTarget.getAttribute){const n=g.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return g.preventDefault&&g.preventDefault(),!0}}function includesParams(g,n){for(const r in n){const $=n[r],L=g[r];if(typeof $=="string"){if($!==L)return!1}else if(!isArray$3(L)||L.length!==$.length||$.some((V,oe)=>V!==L[oe]))return!1}return!0}function getOriginalPath(g){return g?g.aliasOf?g.aliasOf.path:g.path:""}const getLinkClass=(g,n,r)=>{var $;return($=g!=null?g:n)!=null?$:r},RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(g,{attrs:n,slots:r}){const $=inject(routerViewLocationKey),L=computed(()=>g.route||$.value),V=inject(viewDepthKey,0),oe=computed(()=>{let le=unref(V);const{matched:ue}=L.value;let de;for(;(de=ue[le])&&!de.components;)le++;return le}),ae=computed(()=>L.value.matched[oe.value]);provide(viewDepthKey,computed(()=>oe.value+1)),provide(matchedRouteKey,ae),provide(routerViewLocationKey,L);const re=ref();return watch(()=>[re.value,ae.value,g.name],([le,ue,de],[he,pe,_e])=>{ue&&(ue.instances[de]=le,pe&&pe!==ue&&le&&le===he&&(ue.leaveGuards.size||(ue.leaveGuards=pe.leaveGuards),ue.updateGuards.size||(ue.updateGuards=pe.updateGuards))),le&&ue&&(!pe||!isSameRouteRecord(ue,pe)||!he)&&(ue.enterCallbacks[de]||[]).forEach($e=>$e(le))},{flush:"post"}),()=>{const le=L.value,ue=g.name,de=ae.value,he=de&&de.components[ue];if(!he)return normalizeSlot(r.default,{Component:he,route:le});const pe=de.props[ue],_e=pe?pe===!0?le.params:typeof pe=="function"?pe(le):pe:null,$e=h$2(he,assign({},_e,n,{onVnodeUnmounted:xe=>{xe.component.isUnmounted&&(de.instances[ue]=null)},ref:re}));return normalizeSlot(r.default,{Component:$e,route:le})||$e}}});function normalizeSlot(g,n){if(!g)return null;const r=g(n);return r.length===1?r[0]:r}const RouterView=RouterViewImpl;function createRouter(g){const n=createRouterMatcher(g.routes,g),r=g.parseQuery||parseQuery,$=g.stringifyQuery||stringifyQuery,L=g.history,V=useCallbacks(),oe=useCallbacks(),ae=useCallbacks(),re=shallowRef(START_LOCATION_NORMALIZED);let le=START_LOCATION_NORMALIZED;isBrowser&&g.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const ue=applyToParams.bind(null,Pn=>""+Pn),de=applyToParams.bind(null,encodeParam),he=applyToParams.bind(null,decode$1);function pe(Pn,Un){let Dn,kn;return isRouteName(Pn)?(Dn=n.getRecordMatcher(Pn),kn=Un):kn=Pn,n.addRoute(kn,Dn)}function _e(Pn){const Un=n.getRecordMatcher(Pn);Un&&n.removeRoute(Un)}function $e(){return n.getRoutes().map(Pn=>Pn.record)}function xe(Pn){return!!n.getRecordMatcher(Pn)}function Oe(Pn,Un){if(Un=assign({},Un||re.value),typeof Pn=="string"){const Tn=parseURL(r,Pn,Un.path),In=n.resolve({path:Tn.path},Un),Bn=L.createHref(Tn.fullPath);return assign(Tn,In,{params:he(In.params),hash:decode$1(Tn.hash),redirectedFrom:void 0,href:Bn})}let Dn;if("path"in Pn)Dn=assign({},Pn,{path:parseURL(r,Pn.path,Un.path).path});else{const Tn=assign({},Pn.params);for(const In in Tn)Tn[In]==null&&delete Tn[In];Dn=assign({},Pn,{params:de(Pn.params)}),Un.params=de(Un.params)}const kn=n.resolve(Dn,Un),Nn=Pn.hash||"";kn.params=ue(he(kn.params));const Vn=stringifyURL($,assign({},Pn,{hash:encodeHash(Nn),path:kn.path})),Ln=L.createHref(Vn);return assign({fullPath:Vn,hash:Nn,query:$===stringifyQuery?normalizeQuery(Pn.query):Pn.query||{}},kn,{redirectedFrom:void 0,href:Ln})}function Ce(Pn){return typeof Pn=="string"?parseURL(r,Pn,re.value.path):assign({},Pn)}function Ie(Pn,Un){if(le!==Pn)return createRouterError(8,{from:Un,to:Pn})}function Ne(Pn){return Ue(Pn)}function ze(Pn){return Ne(assign(Ce(Pn),{replace:!0}))}function Fe(Pn){const Un=Pn.matched[Pn.matched.length-1];if(Un&&Un.redirect){const{redirect:Dn}=Un;let kn=typeof Dn=="function"?Dn(Pn):Dn;return typeof kn=="string"&&(kn=kn.includes("?")||kn.includes("#")?kn=Ce(kn):{path:kn},kn.params={}),assign({query:Pn.query,hash:Pn.hash,params:"path"in kn?{}:Pn.params},kn)}}function Ue(Pn,Un){const Dn=le=Oe(Pn),kn=re.value,Nn=Pn.state,Vn=Pn.force,Ln=Pn.replace===!0,Tn=Fe(Dn);if(Tn)return Ue(assign(Ce(Tn),{state:typeof Tn=="object"?assign({},Nn,Tn.state):Nn,force:Vn,replace:Ln}),Un||Dn);const In=Dn;In.redirectedFrom=Un;let Bn;return!Vn&&isSameRouteLocation($,kn,Dn)&&(Bn=createRouterError(16,{to:In,from:kn}),On(kn,kn,!0,!1)),(Bn?Promise.resolve(Bn):Et(In,kn)).catch(Qn=>isNavigationFailure(Qn)?isNavigationFailure(Qn,2)?Qn:xn(Qn):$n(Qn,In,kn)).then(Qn=>{if(Qn){if(isNavigationFailure(Qn,2))return Ue(assign({replace:Ln},Ce(Qn.to),{state:typeof Qn.to=="object"?assign({},Nn,Qn.to.state):Nn,force:Vn}),Un||In)}else Qn=kt(In,kn,!0,Ln,Nn);return Pt(In,kn,Qn),Qn})}function At(Pn,Un){const Dn=Ie(Pn,Un);return Dn?Promise.reject(Dn):Promise.resolve()}function Et(Pn,Un){let Dn;const[kn,Nn,Vn]=extractChangingRecords(Pn,Un);Dn=extractComponentsGuards(kn.reverse(),"beforeRouteLeave",Pn,Un);for(const Tn of kn)Tn.leaveGuards.forEach(In=>{Dn.push(guardToPromiseFn(In,Pn,Un))});const Ln=At.bind(null,Pn,Un);return Dn.push(Ln),runGuardQueue(Dn).then(()=>{Dn=[];for(const Tn of V.list())Dn.push(guardToPromiseFn(Tn,Pn,Un));return Dn.push(Ln),runGuardQueue(Dn)}).then(()=>{Dn=extractComponentsGuards(Nn,"beforeRouteUpdate",Pn,Un);for(const Tn of Nn)Tn.updateGuards.forEach(In=>{Dn.push(guardToPromiseFn(In,Pn,Un))});return Dn.push(Ln),runGuardQueue(Dn)}).then(()=>{Dn=[];for(const Tn of Pn.matched)if(Tn.beforeEnter&&!Un.matched.includes(Tn))if(isArray$3(Tn.beforeEnter))for(const In of Tn.beforeEnter)Dn.push(guardToPromiseFn(In,Pn,Un));else Dn.push(guardToPromiseFn(Tn.beforeEnter,Pn,Un));return Dn.push(Ln),runGuardQueue(Dn)}).then(()=>(Pn.matched.forEach(Tn=>Tn.enterCallbacks={}),Dn=extractComponentsGuards(Vn,"beforeRouteEnter",Pn,Un),Dn.push(Ln),runGuardQueue(Dn))).then(()=>{Dn=[];for(const Tn of oe.list())Dn.push(guardToPromiseFn(Tn,Pn,Un));return Dn.push(Ln),runGuardQueue(Dn)}).catch(Tn=>isNavigationFailure(Tn,8)?Tn:Promise.reject(Tn))}function Pt(Pn,Un,Dn){for(const kn of ae.list())kn(Pn,Un,Dn)}function kt(Pn,Un,Dn,kn,Nn){const Vn=Ie(Pn,Un);if(Vn)return Vn;const Ln=Un===START_LOCATION_NORMALIZED,Tn=isBrowser?history.state:{};Dn&&(kn||Ln?L.replace(Pn.fullPath,assign({scroll:Ln&&Tn&&Tn.scroll},Nn)):L.push(Pn.fullPath,Nn)),re.value=Pn,On(Pn,Un,Dn,Ln),xn()}let Dt;function Lt(){Dt||(Dt=L.listen((Pn,Un,Dn)=>{if(!Fn.listening)return;const kn=Oe(Pn),Nn=Fe(kn);if(Nn){Ue(assign(Nn,{replace:!0}),kn).catch(noop$2);return}le=kn;const Vn=re.value;isBrowser&&saveScrollPosition(getScrollKey(Vn.fullPath,Dn.delta),computeScrollPosition()),Et(kn,Vn).catch(Ln=>isNavigationFailure(Ln,12)?Ln:isNavigationFailure(Ln,2)?(Ue(Ln.to,kn).then(Tn=>{isNavigationFailure(Tn,20)&&!Dn.delta&&Dn.type===NavigationType.pop&&L.go(-1,!1)}).catch(noop$2),Promise.reject()):(Dn.delta&&L.go(-Dn.delta,!1),$n(Ln,kn,Vn))).then(Ln=>{Ln=Ln||kt(kn,Vn,!1),Ln&&(Dn.delta&&!isNavigationFailure(Ln,8)?L.go(-Dn.delta,!1):Dn.type===NavigationType.pop&&isNavigationFailure(Ln,20)&&L.go(-1,!1)),Pt(kn,Vn,Ln)}).catch(noop$2)}))}let hn=useCallbacks(),vn=useCallbacks(),_n;function $n(Pn,Un,Dn){xn(Pn);const kn=vn.list();return kn.length?kn.forEach(Nn=>Nn(Pn,Un,Dn)):console.error(Pn),Promise.reject(Pn)}function Sn(){return _n&&re.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((Pn,Un)=>{hn.add([Pn,Un])})}function xn(Pn){return _n||(_n=!Pn,Lt(),hn.list().forEach(([Un,Dn])=>Pn?Dn(Pn):Un()),hn.reset()),Pn}function On(Pn,Un,Dn,kn){const{scrollBehavior:Nn}=g;if(!isBrowser||!Nn)return Promise.resolve();const Vn=!Dn&&getSavedScrollPosition(getScrollKey(Pn.fullPath,0))||(kn||!Dn)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Nn(Pn,Un,Vn)).then(Ln=>Ln&&scrollToPosition(Ln)).catch(Ln=>$n(Ln,Pn,Un))}const Cn=Pn=>L.go(Pn);let An;const Rn=new Set,Fn={currentRoute:re,listening:!0,addRoute:pe,removeRoute:_e,hasRoute:xe,getRoutes:$e,resolve:Oe,options:g,push:Ne,replace:ze,go:Cn,back:()=>Cn(-1),forward:()=>Cn(1),beforeEach:V.add,beforeResolve:oe.add,afterEach:ae.add,onError:vn.add,isReady:Sn,install(Pn){const Un=this;Pn.component("RouterLink",RouterLink),Pn.component("RouterView",RouterView),Pn.config.globalProperties.$router=Un,Object.defineProperty(Pn.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(re)}),isBrowser&&!An&&re.value===START_LOCATION_NORMALIZED&&(An=!0,Ne(L.location).catch(Nn=>{}));const Dn={};for(const Nn in START_LOCATION_NORMALIZED)Dn[Nn]=computed(()=>re.value[Nn]);Pn.provide(routerKey,Un),Pn.provide(routeLocationKey,reactive(Dn)),Pn.provide(routerViewLocationKey,re);const kn=Pn.unmount;Rn.add(Pn),Pn.unmount=function(){Rn.delete(Pn),Rn.size<1&&(le=START_LOCATION_NORMALIZED,Dt&&Dt(),Dt=null,re.value=START_LOCATION_NORMALIZED,An=!1,_n=!1),kn()}}};return Fn}function runGuardQueue(g){return g.reduce((n,r)=>n.then(()=>r()),Promise.resolve())}function extractChangingRecords(g,n){const r=[],$=[],L=[],V=Math.max(n.matched.length,g.matched.length);for(let oe=0;oe<V;oe++){const ae=n.matched[oe];ae&&(g.matched.find(le=>isSameRouteRecord(le,ae))?$.push(ae):r.push(ae));const re=g.matched[oe];re&&(n.matched.find(le=>isSameRouteRecord(le,re))||L.push(re))}return[r,$,L]}useRouter=function(){return inject(routerKey)};function useRoute(){return inject(routeLocationKey)}let __default__$f,_sfc_main$i,EvChart_vue_vue_type_style_index_0_scoped_ae2aa14c_lang,__vite_glob_1_0;__default__$f=defineComponent({name:"EvChart"}),_sfc_main$i=defineComponent({...__default__$f,props:{chartId:{type:String,default:""},option:{type:Object,default:null}},setup(__props){const props=__props,loading=ref(!0),route=useRoute(),{chartId,option}=toRefs(props),chartOption=reactive({}),req=reactive({url:"",method:"get",params:{},data:{},headers:{}}),oldParams=reactive({}),variable=reactive({}),handleDatajs=ref("");chartId.value?(loading.value=!0,getChart({chartId:chartId.value}).then(res=>{const{data}=res;Object.assign(req,data.reqOption),req.method=="get"?Object.assign(oldParams,req.params):Object.assign(oldParams,req.data),Object.assign(variable,data.variable),axios$3({...req}).then(reqData=>{const option=data.option;handleDatajs.value=data.handleDatajs;try{eval(data.handleDatajs)}catch(g){console.log(g)}Object.assign(chartOption,option),initEchart()}).catch(g=>{ElMessage.error(g),loading.value=!1})})):Object.assign(chartOption,option.value);const evChart=ref();let evChartInstance;const timer=ref(0),initEchart=()=>{evChartInstance?(evChartInstance.clear(),evChartInstance.setOption(chartOption)):evChart.value&&(evChartInstance=init$5(evChart.value),evChartInstance.setOption(chartOption)),loading.value=!1},rsOb=new ResizeObserver(g=>{timer.value&&clearTimeout(timer.value),timer.value=window.setTimeout(()=>{try{evChartInstance.resize()}catch(n){console.warn(`chart\u91CD\u65B0\u8BBE\u7F6E\u5927\u5C0F\u5931\u8D25,\u5931\u8D25\u539F\u56E0\uFF1A${n}`)}},50)});onMounted(()=>{initEchart(),rsOb.observe(evChart.value),window.addEventListener("hashchange",()=>{let g=window.location.href;if(g.includes("?")){let n=g.split("?")[1];const r=new URLSearchParams(n),$=Object.fromEntries(r.entries());handleUrl($)}})}),watch(option,()=>{Object.assign(chartOption,option.value),initEchart()},{deep:!0}),watch(route,()=>{const{query:g}=route;handleUrl(g)},{deep:!0});const handleUrl=g=>{const n=[];Object.keys(variable).forEach(r=>{n.push({realParamsName:r,alias:variable[r]||r})}),n.forEach(r=>{g[r.alias]&&(req.method=="get"?req.params[r.realParamsName]=g[r.alias]:req.data[r.realParamsName]=g[r.alias])}),handleVar()},handleVar=()=>{loading.value=!0,axios$3({...req}).then(reqData=>{const option=chartOption;eval(handleDatajs.value),Object.assign(chartOption,option),initEchart()})};return(g,n)=>{const r=resolveDirective("loading");return withDirectives((openBlock(),createElementBlock("div",{ref_key:"evChart",ref:evChart,class:"ev-chart"},null,512)),[[r,loading.value]])}}}),EvChart_vue_vue_type_style_index_0_scoped_ae2aa14c_lang="",__unplugin_components_8=_export_sfc$2(_sfc_main$i,[["__scopeId","data-v-ae2aa14c"]]),__vite_glob_1_0=Object.freeze(Object.defineProperty({__proto__:null,default:__unplugin_components_8},Symbol.toStringTag,{value:"Module"}));class Text{constructor(){}lineAt(n){if(n<0||n>this.length)throw new RangeError(`Invalid position ${n} in document of length ${this.length}`);return this.lineInner(n,!1,1,0)}line(n){if(n<1||n>this.lines)throw new RangeError(`Invalid line number ${n} in ${this.lines}-line document`);return this.lineInner(n,!0,1,0)}replace(n,r,$){let L=[];return this.decompose(0,n,L,2),$.length&&$.decompose(0,$.length,L,3),this.decompose(r,this.length,L,1),TextNode.from(L,this.length-(r-n)+$.length)}append(n){return this.replace(this.length,this.length,n)}slice(n,r=this.length){let $=[];return this.decompose(n,r,$,0),TextNode.from($,r-n)}eq(n){if(n==this)return!0;if(n.length!=this.length||n.lines!=this.lines)return!1;let r=this.scanIdentical(n,1),$=this.length-this.scanIdentical(n,-1),L=new RawTextCursor(this),V=new RawTextCursor(n);for(let oe=r,ae=r;;){if(L.next(oe),V.next(oe),oe=0,L.lineBreak!=V.lineBreak||L.done!=V.done||L.value!=V.value)return!1;if(ae+=L.value.length,L.done||ae>=$)return!0}}iter(n=1){return new RawTextCursor(this,n)}iterRange(n,r=this.length){return new PartialTextCursor(this,n,r)}iterLines(n,r){let $;if(n==null)$=this.iter();else{r==null&&(r=this.lines+1);let L=this.line(n).from;$=this.iterRange(L,Math.max(L,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new LineCursor($)}toString(){return this.sliceString(0)}toJSON(){let n=[];return this.flatten(n),n}static of(n){if(n.length==0)throw new RangeError("A document must have at least one line");return n.length==1&&!n[0]?Text.empty:n.length<=32?new TextLeaf(n):TextNode.from(TextLeaf.split(n,[]))}}class TextLeaf extends Text{constructor(n,r=textLength(n)){super(),this.text=n,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(n,r,$,L){for(let V=0;;V++){let oe=this.text[V],ae=L+oe.length;if((r?$:ae)>=n)return new Line$4(L,ae,$,oe);L=ae+1,$++}}decompose(n,r,$,L){let V=n<=0&&r>=this.length?this:new TextLeaf(sliceText(this.text,n,r),Math.min(r,this.length)-Math.max(0,n));if(L&1){let oe=$.pop(),ae=appendText(V.text,oe.text.slice(),0,V.length);if(ae.length<=32)$.push(new TextLeaf(ae,oe.length+V.length));else{let re=ae.length>>1;$.push(new TextLeaf(ae.slice(0,re)),new TextLeaf(ae.slice(re)))}}else $.push(V)}replace(n,r,$){if(!($ instanceof TextLeaf))return super.replace(n,r,$);let L=appendText(this.text,appendText($.text,sliceText(this.text,0,n)),r),V=this.length+$.length-(r-n);return L.length<=32?new TextLeaf(L,V):TextNode.from(TextLeaf.split(L,[]),V)}sliceString(n,r=this.length,$=`
`){let L="";for(let V=0,oe=0;V<=r&&oe<this.text.length;oe++){let ae=this.text[oe],re=V+ae.length;V>n&&oe&&(L+=$),n<re&&r>V&&(L+=ae.slice(Math.max(0,n-V),r-V)),V=re+1}return L}flatten(n){for(let r of this.text)n.push(r)}scanIdentical(){return 0}static split(n,r){let $=[],L=-1;for(let V of n)$.push(V),L+=V.length+1,$.length==32&&(r.push(new TextLeaf($,L)),$=[],L=-1);return L>-1&&r.push(new TextLeaf($,L)),r}}class TextNode extends Text{constructor(n,r){super(),this.children=n,this.length=r,this.lines=0;for(let $ of n)this.lines+=$.lines}lineInner(n,r,$,L){for(let V=0;;V++){let oe=this.children[V],ae=L+oe.length,re=$+oe.lines-1;if((r?re:ae)>=n)return oe.lineInner(n,r,$,L);L=ae+1,$=re+1}}decompose(n,r,$,L){for(let V=0,oe=0;oe<=r&&V<this.children.length;V++){let ae=this.children[V],re=oe+ae.length;if(n<=re&&r>=oe){let le=L&((oe<=n?1:0)|(re>=r?2:0));oe>=n&&re<=r&&!le?$.push(ae):ae.decompose(n-oe,r-oe,$,le)}oe=re+1}}replace(n,r,$){if($.lines<this.lines)for(let L=0,V=0;L<this.children.length;L++){let oe=this.children[L],ae=V+oe.length;if(n>=V&&r<=ae){let re=oe.replace(n-V,r-V,$),le=this.lines-oe.lines+re.lines;if(re.lines<le>>4&&re.lines>le>>6){let ue=this.children.slice();return ue[L]=re,new TextNode(ue,this.length-(r-n)+$.length)}return super.replace(V,ae,re)}V=ae+1}return super.replace(n,r,$)}sliceString(n,r=this.length,$=`
`){let L="";for(let V=0,oe=0;V<this.children.length&&oe<=r;V++){let ae=this.children[V],re=oe+ae.length;oe>n&&V&&(L+=$),n<re&&r>oe&&(L+=ae.sliceString(n-oe,r-oe,$)),oe=re+1}return L}flatten(n){for(let r of this.children)r.flatten(n)}scanIdentical(n,r){if(!(n instanceof TextNode))return 0;let $=0,[L,V,oe,ae]=r>0?[0,0,this.children.length,n.children.length]:[this.children.length-1,n.children.length-1,-1,-1];for(;;L+=r,V+=r){if(L==oe||V==ae)return $;let re=this.children[L],le=n.children[V];if(re!=le)return $+re.scanIdentical(le,r);$+=re.length+1}}static from(n,r=n.reduce(($,L)=>$+L.length+1,-1)){let $=0;for(let pe of n)$+=pe.lines;if($<32){let pe=[];for(let _e of n)_e.flatten(pe);return new TextLeaf(pe,r)}let L=Math.max(32,$>>5),V=L<<1,oe=L>>1,ae=[],re=0,le=-1,ue=[];function de(pe){let _e;if(pe.lines>V&&pe instanceof TextNode)for(let $e of pe.children)de($e);else pe.lines>oe&&(re>oe||!re)?(he(),ae.push(pe)):pe instanceof TextLeaf&&re&&(_e=ue[ue.length-1])instanceof TextLeaf&&pe.lines+_e.lines<=32?(re+=pe.lines,le+=pe.length+1,ue[ue.length-1]=new TextLeaf(_e.text.concat(pe.text),_e.length+1+pe.length)):(re+pe.lines>L&&he(),re+=pe.lines,le+=pe.length+1,ue.push(pe))}function he(){re!=0&&(ae.push(ue.length==1?ue[0]:TextNode.from(ue,le)),le=-1,re=ue.length=0)}for(let pe of n)de(pe);return he(),ae.length==1?ae[0]:new TextNode(ae,r)}}Text.empty=new TextLeaf([""],0);function textLength(g){let n=-1;for(let r of g)n+=r.length+1;return n}function appendText(g,n,r=0,$=1e9){for(let L=0,V=0,oe=!0;V<g.length&&L<=$;V++){let ae=g[V],re=L+ae.length;re>=r&&(re>$&&(ae=ae.slice(0,$-L)),L<r&&(ae=ae.slice(r-L)),oe?(n[n.length-1]+=ae,oe=!1):n.push(ae)),L=re+1}return n}function sliceText(g,n,r){return appendText(g,[""],n,r)}class RawTextCursor{constructor(n,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[n],this.offsets=[r>0?1:(n instanceof TextLeaf?n.text.length:n.children.length)<<1]}nextInner(n,r){for(this.done=this.lineBreak=!1;;){let $=this.nodes.length-1,L=this.nodes[$],V=this.offsets[$],oe=V>>1,ae=L instanceof TextLeaf?L.text.length:L.children.length;if(oe==(r>0?ae:0)){if($==0)return this.done=!0,this.value="",this;r>0&&this.offsets[$-1]++,this.nodes.pop(),this.offsets.pop()}else if((V&1)==(r>0?0:1)){if(this.offsets[$]+=r,n==0)return this.lineBreak=!0,this.value=`
`,this;n--}else if(L instanceof TextLeaf){let re=L.text[oe+(r<0?-1:0)];if(this.offsets[$]+=r,re.length>Math.max(0,n))return this.value=n==0?re:r>0?re.slice(n):re.slice(0,re.length-n),this;n-=re.length}else{let re=L.children[oe+(r<0?-1:0)];n>re.length?(n-=re.length,this.offsets[$]+=r):(r<0&&this.offsets[$]--,this.nodes.push(re),this.offsets.push(r>0?1:(re instanceof TextLeaf?re.text.length:re.children.length)<<1))}}}next(n=0){return n<0&&(this.nextInner(-n,-this.dir),n=this.value.length),this.nextInner(n,this.dir)}}class PartialTextCursor{constructor(n,r,$){this.value="",this.done=!1,this.cursor=new RawTextCursor(n,r>$?-1:1),this.pos=r>$?n.length:0,this.from=Math.min(r,$),this.to=Math.max(r,$)}nextInner(n,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;n+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let $=r<0?this.pos-this.from:this.to-this.pos;n>$&&(n=$),$-=n;let{value:L}=this.cursor.next(n);return this.pos+=(L.length+n)*r,this.value=L.length<=$?L:r<0?L.slice(L.length-$):L.slice(0,$),this.done=!this.value,this}next(n=0){return n<0?n=Math.max(n,this.from-this.pos):n>0&&(n=Math.min(n,this.to-this.pos)),this.nextInner(n,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(n){this.inner=n,this.afterBreak=!0,this.value="",this.done=!1}next(n=0){let{done:r,lineBreak:$,value:L}=this.inner.next(n);return r?(this.done=!0,this.value=""):$?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=L,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line$4{constructor(n,r,$,L){this.from=n,this.to=r,this.number=$,this.text=L}get length(){return this.to-this.from}}let extend$2="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(g=>g?parseInt(g,36):1);for(let g=1;g<extend$2.length;g++)extend$2[g]+=extend$2[g-1];function isExtendingChar(g){for(let n=1;n<extend$2.length;n+=2)if(extend$2[n]>g)return extend$2[n-1]<=g;return!1}function isRegionalIndicator(g){return g>=127462&&g<=127487}const ZWJ=8205;function findClusterBreak(g,n,r=!0,$=!0){return(r?nextClusterBreak:prevClusterBreak)(g,n,$)}function nextClusterBreak(g,n,r){if(n==g.length)return n;n&&surrogateLow(g.charCodeAt(n))&&surrogateHigh(g.charCodeAt(n-1))&&n--;let $=codePointAt(g,n);for(n+=codePointSize($);n<g.length;){let L=codePointAt(g,n);if($==ZWJ||L==ZWJ||r&&isExtendingChar(L))n+=codePointSize(L),$=L;else if(isRegionalIndicator(L)){let V=0,oe=n-2;for(;oe>=0&&isRegionalIndicator(codePointAt(g,oe));)V++,oe-=2;if(V%2==0)break;n+=2}else break}return n}function prevClusterBreak(g,n,r){for(;n>0;){let $=nextClusterBreak(g,n-2,r);if($<n)return $;n--}return 0}function surrogateLow(g){return g>=56320&&g<57344}function surrogateHigh(g){return g>=55296&&g<56320}function codePointAt(g,n){let r=g.charCodeAt(n);if(!surrogateHigh(r)||n+1==g.length)return r;let $=g.charCodeAt(n+1);return surrogateLow($)?(r-55296<<10)+($-56320)+65536:r}function fromCodePoint(g){return g<=65535?String.fromCharCode(g):(g-=65536,String.fromCharCode((g>>10)+55296,(g&1023)+56320))}function codePointSize(g){return g<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(g){return g[g.Simple=0]="Simple",g[g.TrackDel=1]="TrackDel",g[g.TrackBefore=2]="TrackBefore",g[g.TrackAfter=3]="TrackAfter",g}(MapMode||(MapMode={}));class ChangeDesc{constructor(n){this.sections=n}get length(){let n=0;for(let r=0;r<this.sections.length;r+=2)n+=this.sections[r];return n}get newLength(){let n=0;for(let r=0;r<this.sections.length;r+=2){let $=this.sections[r+1];n+=$<0?this.sections[r]:$}return n}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(n){for(let r=0,$=0,L=0;r<this.sections.length;){let V=this.sections[r++],oe=this.sections[r++];oe<0?(n($,L,V),L+=V):L+=oe,$+=V}}iterChangedRanges(n,r=!1){iterChanges(this,n,r)}get invertedDesc(){let n=[];for(let r=0;r<this.sections.length;){let $=this.sections[r++],L=this.sections[r++];L<0?n.push($,L):n.push(L,$)}return new ChangeDesc(n)}composeDesc(n){return this.empty?n:n.empty?this:composeSets(this,n)}mapDesc(n,r=!1){return n.empty?this:mapSet(this,n,r)}mapPos(n,r=-1,$=MapMode.Simple){let L=0,V=0;for(let oe=0;oe<this.sections.length;){let ae=this.sections[oe++],re=this.sections[oe++],le=L+ae;if(re<0){if(le>n)return V+(n-L);V+=ae}else{if($!=MapMode.Simple&&le>=n&&($==MapMode.TrackDel&&L<n&&le>n||$==MapMode.TrackBefore&&L<n||$==MapMode.TrackAfter&&le>n))return null;if(le>n||le==n&&r<0&&!ae)return n==L||r<0?V:V+re;V+=re}L=le}if(n>L)throw new RangeError(`Position ${n} is out of range for changeset of length ${L}`);return V}touchesRange(n,r=n){for(let $=0,L=0;$<this.sections.length&&L<=r;){let V=this.sections[$++],oe=this.sections[$++],ae=L+V;if(oe>=0&&L<=r&&ae>=n)return L<n&&ae>r?"cover":!0;L=ae}return!1}toString(){let n="";for(let r=0;r<this.sections.length;){let $=this.sections[r++],L=this.sections[r++];n+=(n?" ":"")+$+(L>=0?":"+L:"")}return n}toJSON(){return this.sections}static fromJSON(n){if(!Array.isArray(n)||n.length%2||n.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(n)}static create(n){return new ChangeDesc(n)}}class ChangeSet extends ChangeDesc{constructor(n,r){super(n),this.inserted=r}apply(n){if(this.length!=n.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(r,$,L,V,oe)=>n=n.replace(L,L+($-r),oe),!1),n}mapDesc(n,r=!1){return mapSet(this,n,r,!0)}invert(n){let r=this.sections.slice(),$=[];for(let L=0,V=0;L<r.length;L+=2){let oe=r[L],ae=r[L+1];if(ae>=0){r[L]=ae,r[L+1]=oe;let re=L>>1;for(;$.length<re;)$.push(Text.empty);$.push(oe?n.slice(V,V+oe):Text.empty)}V+=oe}return new ChangeSet(r,$)}compose(n){return this.empty?n:n.empty?this:composeSets(this,n,!0)}map(n,r=!1){return n.empty?this:mapSet(this,n,r,!0)}iterChanges(n,r=!1){iterChanges(this,n,r)}get desc(){return ChangeDesc.create(this.sections)}filter(n){let r=[],$=[],L=[],V=new SectionIter(this);e:for(let oe=0,ae=0;;){let re=oe==n.length?1e9:n[oe++];for(;ae<re||ae==re&&V.len==0;){if(V.done)break e;let ue=Math.min(V.len,re-ae);addSection(L,ue,-1);let de=V.ins==-1?-1:V.off==0?V.ins:0;addSection(r,ue,de),de>0&&addInsert($,r,V.text),V.forward(ue),ae+=ue}let le=n[oe++];for(;ae<le;){if(V.done)break e;let ue=Math.min(V.len,le-ae);addSection(r,ue,-1),addSection(L,ue,V.ins==-1?-1:V.off==0?V.ins:0),V.forward(ue),ae+=ue}}return{changes:new ChangeSet(r,$),filtered:ChangeDesc.create(L)}}toJSON(){let n=[];for(let r=0;r<this.sections.length;r+=2){let $=this.sections[r],L=this.sections[r+1];L<0?n.push($):L==0?n.push([$]):n.push([$].concat(this.inserted[r>>1].toJSON()))}return n}static of(n,r,$){let L=[],V=[],oe=0,ae=null;function re(ue=!1){if(!ue&&!L.length)return;oe<r&&addSection(L,r-oe,-1);let de=new ChangeSet(L,V);ae=ae?ae.compose(de.map(ae)):de,L=[],V=[],oe=0}function le(ue){if(Array.isArray(ue))for(let de of ue)le(de);else if(ue instanceof ChangeSet){if(ue.length!=r)throw new RangeError(`Mismatched change set length (got ${ue.length}, expected ${r})`);re(),ae=ae?ae.compose(ue.map(ae)):ue}else{let{from:de,to:he=de,insert:pe}=ue;if(de>he||de<0||he>r)throw new RangeError(`Invalid change range ${de} to ${he} (in doc of length ${r})`);let _e=pe?typeof pe=="string"?Text.of(pe.split($||DefaultSplit)):pe:Text.empty,$e=_e.length;if(de==he&&$e==0)return;de<oe&&re(),de>oe&&addSection(L,de-oe,-1),addSection(L,he-de,$e),addInsert(V,L,_e),oe=he}}return le(n),re(!ae),ae}static empty(n){return new ChangeSet(n?[n,-1]:[],[])}static fromJSON(n){if(!Array.isArray(n))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],$=[];for(let L=0;L<n.length;L++){let V=n[L];if(typeof V=="number")r.push(V,-1);else{if(!Array.isArray(V)||typeof V[0]!="number"||V.some((oe,ae)=>ae&&typeof oe!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(V.length==1)r.push(V[0],0);else{for(;$.length<L;)$.push(Text.empty);$[L]=Text.of(V.slice(1)),r.push(V[0],$[L].length)}}}return new ChangeSet(r,$)}static createSet(n,r){return new ChangeSet(n,r)}}function addSection(g,n,r,$=!1){if(n==0&&r<=0)return;let L=g.length-2;L>=0&&r<=0&&r==g[L+1]?g[L]+=n:n==0&&g[L]==0?g[L+1]+=r:$?(g[L]+=n,g[L+1]+=r):g.push(n,r)}function addInsert(g,n,r){if(r.length==0)return;let $=n.length-2>>1;if($<g.length)g[g.length-1]=g[g.length-1].append(r);else{for(;g.length<$;)g.push(Text.empty);g.push(r)}}function iterChanges(g,n,r){let $=g.inserted;for(let L=0,V=0,oe=0;oe<g.sections.length;){let ae=g.sections[oe++],re=g.sections[oe++];if(re<0)L+=ae,V+=ae;else{let le=L,ue=V,de=Text.empty;for(;le+=ae,ue+=re,re&&$&&(de=de.append($[oe-2>>1])),!(r||oe==g.sections.length||g.sections[oe+1]<0);)ae=g.sections[oe++],re=g.sections[oe++];n(L,le,V,ue,de),L=le,V=ue}}}function mapSet(g,n,r,$=!1){let L=[],V=$?[]:null,oe=new SectionIter(g),ae=new SectionIter(n);for(let re=-1;;)if(oe.ins==-1&&ae.ins==-1){let le=Math.min(oe.len,ae.len);addSection(L,le,-1),oe.forward(le),ae.forward(le)}else if(ae.ins>=0&&(oe.ins<0||re==oe.i||oe.off==0&&(ae.len<oe.len||ae.len==oe.len&&!r))){let le=ae.len;for(addSection(L,ae.ins,-1);le;){let ue=Math.min(oe.len,le);oe.ins>=0&&re<oe.i&&oe.len<=ue&&(addSection(L,0,oe.ins),V&&addInsert(V,L,oe.text),re=oe.i),oe.forward(ue),le-=ue}ae.next()}else if(oe.ins>=0){let le=0,ue=oe.len;for(;ue;)if(ae.ins==-1){let de=Math.min(ue,ae.len);le+=de,ue-=de,ae.forward(de)}else if(ae.ins==0&&ae.len<ue)ue-=ae.len,ae.next();else break;addSection(L,le,re<oe.i?oe.ins:0),V&&re<oe.i&&addInsert(V,L,oe.text),re=oe.i,oe.forward(oe.len-ue)}else{if(oe.done&&ae.done)return V?ChangeSet.createSet(L,V):ChangeDesc.create(L);throw new Error("Mismatched change set lengths")}}function composeSets(g,n,r=!1){let $=[],L=r?[]:null,V=new SectionIter(g),oe=new SectionIter(n);for(let ae=!1;;){if(V.done&&oe.done)return L?ChangeSet.createSet($,L):ChangeDesc.create($);if(V.ins==0)addSection($,V.len,0,ae),V.next();else if(oe.len==0&&!oe.done)addSection($,0,oe.ins,ae),L&&addInsert(L,$,oe.text),oe.next();else{if(V.done||oe.done)throw new Error("Mismatched change set lengths");{let re=Math.min(V.len2,oe.len),le=$.length;if(V.ins==-1){let ue=oe.ins==-1?-1:oe.off?0:oe.ins;addSection($,re,ue,ae),L&&ue&&addInsert(L,$,oe.text)}else oe.ins==-1?(addSection($,V.off?0:V.len,re,ae),L&&addInsert(L,$,V.textBit(re))):(addSection($,V.off?0:V.len,oe.off?0:oe.ins,ae),L&&!oe.off&&addInsert(L,$,oe.text));ae=(V.ins>re||oe.ins>=0&&oe.len>re)&&(ae||$.length>le),V.forward2(re),oe.forward(re)}}}}class SectionIter{constructor(n){this.set=n,this.i=0,this.next()}next(){let{sections:n}=this.set;this.i<n.length?(this.len=n[this.i++],this.ins=n[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length?Text.empty:n[r]}textBit(n){let{inserted:r}=this.set,$=this.i-2>>1;return $>=r.length&&!n?Text.empty:r[$].slice(this.off,n==null?void 0:this.off+n)}forward(n){n==this.len?this.next():(this.len-=n,this.off+=n)}forward2(n){this.ins==-1?this.forward(n):n==this.ins?this.next():(this.ins-=n,this.off+=n)}}class SelectionRange{constructor(n,r,$){this.from=n,this.to=r,this.flags=$}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let n=this.flags&3;return n==3?null:n}get goalColumn(){let n=this.flags>>5;return n==33554431?void 0:n}map(n,r=-1){let $,L;return this.empty?$=L=n.mapPos(this.from,r):($=n.mapPos(this.from,1),L=n.mapPos(this.to,-1)),$==this.from&&L==this.to?this:new SelectionRange($,L,this.flags)}extend(n,r=n){if(n<=this.anchor&&r>=this.anchor)return EditorSelection.range(n,r);let $=Math.abs(n-this.anchor)>Math.abs(r-this.anchor)?n:r;return EditorSelection.range(this.anchor,$)}eq(n){return this.anchor==n.anchor&&this.head==n.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(n){if(!n||typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(n.anchor,n.head)}static create(n,r,$){return new SelectionRange(n,r,$)}}class EditorSelection{constructor(n,r){this.ranges=n,this.mainIndex=r}map(n,r=-1){return n.empty?this:EditorSelection.create(this.ranges.map($=>$.map(n,r)),this.mainIndex)}eq(n){if(this.ranges.length!=n.ranges.length||this.mainIndex!=n.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(n.ranges[r]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(n,r=!0){return EditorSelection.create([n].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(n,r=this.mainIndex){let $=this.ranges.slice();return $[r]=n,EditorSelection.create($,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(n=>n.toJSON()),main:this.mainIndex}}static fromJSON(n){if(!n||!Array.isArray(n.ranges)||typeof n.main!="number"||n.main>=n.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(n.ranges.map(r=>SelectionRange.fromJSON(r)),n.main)}static single(n,r=n){return new EditorSelection([EditorSelection.range(n,r)],0)}static create(n,r=0){if(n.length==0)throw new RangeError("A selection needs at least one range");for(let $=0,L=0;L<n.length;L++){let V=n[L];if(V.empty?V.from<=$:V.from<$)return EditorSelection.normalized(n.slice(),r);$=V.to}return new EditorSelection(n,r)}static cursor(n,r=0,$,L){return SelectionRange.create(n,n,(r==0?0:r<0?4:8)|($==null?3:Math.min(2,$))|(L!=null?L:33554431)<<5)}static range(n,r,$){let L=($!=null?$:33554431)<<5;return r<n?SelectionRange.create(r,n,16|L|8):SelectionRange.create(n,r,L|(r>n?4:0))}static normalized(n,r=0){let $=n[r];n.sort((L,V)=>L.from-V.from),r=n.indexOf($);for(let L=1;L<n.length;L++){let V=n[L],oe=n[L-1];if(V.empty?V.from<=oe.to:V.from<oe.to){let ae=oe.from,re=Math.max(V.to,oe.to);L<=r&&r--,n.splice(--L,2,V.anchor>V.head?EditorSelection.range(re,ae):EditorSelection.range(ae,re))}}return new EditorSelection(n,r)}}function checkSelection(g,n){for(let r of g.ranges)if(r.to>n)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(n,r,$,L,V){this.combine=n,this.compareInput=r,this.compare=$,this.isStatic=L,this.id=nextID++,this.default=n([]),this.extensions=typeof V=="function"?V(this):V}static define(n={}){return new Facet(n.combine||(r=>r),n.compareInput||((r,$)=>r===$),n.compare||(n.combine?(r,$)=>r===$:sameArray$1),!!n.static,n.enables)}of(n){return new FacetProvider([],this,0,n)}compute(n,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(n,this,1,r)}computeN(n,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(n,this,2,r)}from(n,r){return r||(r=$=>$),this.compute([n],$=>r($.field(n)))}}function sameArray$1(g,n){return g==n||g.length==n.length&&g.every((r,$)=>r===n[$])}class FacetProvider{constructor(n,r,$,L){this.dependencies=n,this.facet=r,this.type=$,this.value=L,this.id=nextID++}dynamicSlot(n){var r;let $=this.value,L=this.facet.compareInput,V=this.id,oe=n[V]>>1,ae=this.type==2,re=!1,le=!1,ue=[];for(let de of this.dependencies)de=="doc"?re=!0:de=="selection"?le=!0:(((r=n[de.id])!==null&&r!==void 0?r:1)&1)==0&&ue.push(n[de.id]);return{create(de){return de.values[oe]=$(de),1},update(de,he){if(re&&he.docChanged||le&&(he.docChanged||he.selection)||ensureAll(de,ue)){let pe=$(de);if(ae?!compareArray(pe,de.values[oe],L):!L(pe,de.values[oe]))return de.values[oe]=pe,1}return 0},reconfigure:(de,he)=>{let pe,_e=he.config.address[V];if(_e!=null){let $e=getAddr(he,_e);if(this.dependencies.every(xe=>xe instanceof Facet?he.facet(xe)===de.facet(xe):xe instanceof StateField?he.field(xe,!1)==de.field(xe,!1):!0)||(ae?compareArray(pe=$(de),$e,L):L(pe=$(de),$e)))return de.values[oe]=$e,0}else pe=$(de);return de.values[oe]=pe,1}}}}function compareArray(g,n,r){if(g.length!=n.length)return!1;for(let $=0;$<g.length;$++)if(!r(g[$],n[$]))return!1;return!0}function ensureAll(g,n){let r=!1;for(let $ of n)ensureAddr(g,$)&1&&(r=!0);return r}function dynamicFacetSlot(g,n,r){let $=r.map(re=>g[re.id]),L=r.map(re=>re.type),V=$.filter(re=>!(re&1)),oe=g[n.id]>>1;function ae(re){let le=[];for(let ue=0;ue<$.length;ue++){let de=getAddr(re,$[ue]);if(L[ue]==2)for(let he of de)le.push(he);else le.push(de)}return n.combine(le)}return{create(re){for(let le of $)ensureAddr(re,le);return re.values[oe]=ae(re),1},update(re,le){if(!ensureAll(re,V))return 0;let ue=ae(re);return n.compare(ue,re.values[oe])?0:(re.values[oe]=ue,1)},reconfigure(re,le){let ue=ensureAll(re,$),de=le.config.facets[n.id],he=le.facet(n);if(de&&!ue&&sameArray$1(r,de))return re.values[oe]=he,0;let pe=ae(re);return n.compare(pe,he)?(re.values[oe]=he,0):(re.values[oe]=pe,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(n,r,$,L,V){this.id=n,this.createF=r,this.updateF=$,this.compareF=L,this.spec=V,this.provides=void 0}static define(n){let r=new StateField(nextID++,n.create,n.update,n.compare||(($,L)=>$===L),n);return n.provide&&(r.provides=n.provide(r)),r}create(n){let r=n.facet(initField).find($=>$.field==this);return((r==null?void 0:r.create)||this.createF)(n)}slot(n){let r=n[this.id]>>1;return{create:$=>($.values[r]=this.create($),1),update:($,L)=>{let V=$.values[r],oe=this.updateF(V,L);return this.compareF(V,oe)?0:($.values[r]=oe,1)},reconfigure:($,L)=>L.config.address[this.id]!=null?($.values[r]=L.field(this),0):($.values[r]=this.create($),1)}}init(n){return[this,initField.of({field:this,create:n})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(g){return n=>new PrecExtension(n,g)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(n,r){this.inner=n,this.prec=r}}class Compartment{of(n){return new CompartmentInstance(this,n)}reconfigure(n){return Compartment.reconfigure.of({compartment:this,extension:n})}get(n){return n.config.compartments.get(this)}}class CompartmentInstance{constructor(n,r){this.compartment=n,this.inner=r}}class Configuration{constructor(n,r,$,L,V,oe){for(this.base=n,this.compartments=r,this.dynamicSlots=$,this.address=L,this.staticValues=V,this.facets=oe,this.statusTemplate=[];this.statusTemplate.length<$.length;)this.statusTemplate.push(0)}staticFacet(n){let r=this.address[n.id];return r==null?n.default:this.staticValues[r>>1]}static resolve(n,r,$){let L=[],V=Object.create(null),oe=new Map;for(let he of flatten(n,r,oe))he instanceof StateField?L.push(he):(V[he.facet.id]||(V[he.facet.id]=[])).push(he);let ae=Object.create(null),re=[],le=[];for(let he of L)ae[he.id]=le.length<<1,le.push(pe=>he.slot(pe));let ue=$==null?void 0:$.config.facets;for(let he in V){let pe=V[he],_e=pe[0].facet,$e=ue&&ue[he]||[];if(pe.every(xe=>xe.type==0))if(ae[_e.id]=re.length<<1|1,sameArray$1($e,pe))re.push($.facet(_e));else{let xe=_e.combine(pe.map(Oe=>Oe.value));re.push($&&_e.compare(xe,$.facet(_e))?$.facet(_e):xe)}else{for(let xe of pe)xe.type==0?(ae[xe.id]=re.length<<1|1,re.push(xe.value)):(ae[xe.id]=le.length<<1,le.push(Oe=>xe.dynamicSlot(Oe)));ae[_e.id]=le.length<<1,le.push(xe=>dynamicFacetSlot(xe,_e,pe))}}let de=le.map(he=>he(ae));return new Configuration(n,oe,de,ae,re,V)}}function flatten(g,n,r){let $=[[],[],[],[],[]],L=new Map;function V(oe,ae){let re=L.get(oe);if(re!=null){if(re<=ae)return;let le=$[re].indexOf(oe);le>-1&&$[re].splice(le,1),oe instanceof CompartmentInstance&&r.delete(oe.compartment)}if(L.set(oe,ae),Array.isArray(oe))for(let le of oe)V(le,ae);else if(oe instanceof CompartmentInstance){if(r.has(oe.compartment))throw new RangeError("Duplicate use of compartment in extensions");let le=n.get(oe.compartment)||oe.inner;r.set(oe.compartment,le),V(le,ae)}else if(oe instanceof PrecExtension)V(oe.inner,oe.prec);else if(oe instanceof StateField)$[ae].push(oe),oe.provides&&V(oe.provides,ae);else if(oe instanceof FacetProvider)$[ae].push(oe),oe.facet.extensions&&V(oe.facet.extensions,Prec_.default);else{let le=oe.extension;if(!le)throw new Error(`Unrecognized extension value in extension set (${oe}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);V(le,ae)}}return V(g,Prec_.default),$.reduce((oe,ae)=>oe.concat(ae))}function ensureAddr(g,n){if(n&1)return 2;let r=n>>1,$=g.status[r];if($==4)throw new Error("Cyclic dependency between fields and/or facets");if($&2)return $;g.status[r]=4;let L=g.computeSlot(g,g.config.dynamicSlots[r]);return g.status[r]=2|L}function getAddr(g,n){return n&1?g.config.staticValues[n>>1]:g.values[n>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:g=>g.some(n=>n),static:!0}),lineSeparator=Facet.define({combine:g=>g.length?g[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:g=>g.length?g[0]:!1});class Annotation{constructor(n,r){this.type=n,this.value=r}static define(){return new AnnotationType}}class AnnotationType{of(n){return new Annotation(this,n)}}class StateEffectType{constructor(n){this.map=n}of(n){return new StateEffect(this,n)}}class StateEffect{constructor(n,r){this.type=n,this.value=r}map(n){let r=this.type.map(this.value,n);return r===void 0?void 0:r==this.value?this:new StateEffect(this.type,r)}is(n){return this.type==n}static define(n={}){return new StateEffectType(n.map||(r=>r))}static mapEffects(n,r){if(!n.length)return n;let $=[];for(let L of n){let V=L.map(r);V&&$.push(V)}return $}}StateEffect.reconfigure=StateEffect.define(),StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(n,r,$,L,V,oe){this.startState=n,this.changes=r,this.selection=$,this.effects=L,this.annotations=V,this.scrollIntoView=oe,this._doc=null,this._state=null,$&&checkSelection($,r.newLength),V.some(ae=>ae.type==Transaction.time)||(this.annotations=V.concat(Transaction.time.of(Date.now())))}static create(n,r,$,L,V,oe){return new Transaction(n,r,$,L,V,oe)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(n){for(let r of this.annotations)if(r.type==n)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(n){let r=this.annotation(Transaction.userEvent);return!!(r&&(r==n||r.length>n.length&&r.slice(0,n.length)==n&&r[n.length]=="."))}}Transaction.time=Annotation.define(),Transaction.userEvent=Annotation.define(),Transaction.addToHistory=Annotation.define(),Transaction.remote=Annotation.define();function joinRanges(g,n){let r=[];for(let $=0,L=0;;){let V,oe;if($<g.length&&(L==n.length||n[L]>=g[$]))V=g[$++],oe=g[$++];else if(L<n.length)V=n[L++],oe=n[L++];else return r;!r.length||r[r.length-1]<V?r.push(V,oe):r[r.length-1]<oe&&(r[r.length-1]=oe)}}function mergeTransaction(g,n,r){var $;let L,V,oe;return r?(L=n.changes,V=ChangeSet.empty(n.changes.length),oe=g.changes.compose(n.changes)):(L=n.changes.map(g.changes),V=g.changes.mapDesc(n.changes,!0),oe=g.changes.compose(L)),{changes:oe,selection:n.selection?n.selection.map(V):($=g.selection)===null||$===void 0?void 0:$.map(L),effects:StateEffect.mapEffects(g.effects,L).concat(StateEffect.mapEffects(n.effects,V)),annotations:g.annotations.length?g.annotations.concat(n.annotations):n.annotations,scrollIntoView:g.scrollIntoView||n.scrollIntoView}}function resolveTransactionInner(g,n,r){let $=n.selection,L=asArray$1(n.annotations);return n.userEvent&&(L=L.concat(Transaction.userEvent.of(n.userEvent))),{changes:n.changes instanceof ChangeSet?n.changes:ChangeSet.of(n.changes||[],r,g.facet(lineSeparator)),selection:$&&($ instanceof EditorSelection?$:EditorSelection.single($.anchor,$.head)),effects:asArray$1(n.effects),annotations:L,scrollIntoView:!!n.scrollIntoView}}function resolveTransaction(g,n,r){let $=resolveTransactionInner(g,n.length?n[0]:{},g.doc.length);n.length&&n[0].filter===!1&&(r=!1);for(let V=1;V<n.length;V++){n[V].filter===!1&&(r=!1);let oe=!!n[V].sequential;$=mergeTransaction($,resolveTransactionInner(g,n[V],oe?$.changes.newLength:g.doc.length),oe)}let L=Transaction.create(g,$.changes,$.selection,$.effects,$.annotations,$.scrollIntoView);return extendTransaction(r?filterTransaction(L):L)}function filterTransaction(g){let n=g.startState,r=!0;for(let L of n.facet(changeFilter)){let V=L(g);if(V===!1){r=!1;break}Array.isArray(V)&&(r=r===!0?V:joinRanges(r,V))}if(r!==!0){let L,V;if(r===!1)V=g.changes.invertedDesc,L=ChangeSet.empty(n.doc.length);else{let oe=g.changes.filter(r);L=oe.changes,V=oe.filtered.mapDesc(oe.changes).invertedDesc}g=Transaction.create(n,L,g.selection&&g.selection.map(V),StateEffect.mapEffects(g.effects,V),g.annotations,g.scrollIntoView)}let $=n.facet(transactionFilter);for(let L=$.length-1;L>=0;L--){let V=$[L](g);V instanceof Transaction?g=V:Array.isArray(V)&&V.length==1&&V[0]instanceof Transaction?g=V[0]:g=resolveTransaction(n,asArray$1(V),!1)}return g}function extendTransaction(g){let n=g.startState,r=n.facet(transactionExtender),$=g;for(let L=r.length-1;L>=0;L--){let V=r[L](g);V&&Object.keys(V).length&&($=mergeTransaction($,resolveTransactionInner(n,V,g.changes.newLength),!0))}return $==g?g:Transaction.create(n,g.changes,g.selection,$.effects,$.annotations,$.scrollIntoView)}const none$2=[];function asArray$1(g){return g==null?none$2:Array.isArray(g)?g:[g]}var CharCategory=function(g){return g[g.Word=0]="Word",g[g.Space=1]="Space",g[g.Other=2]="Other",g}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(g){}function hasWordChar(g){if(wordChar)return wordChar.test(g);for(let n=0;n<g.length;n++){let r=g[n];if(/\w/.test(r)||r>"\x80"&&(r.toUpperCase()!=r.toLowerCase()||nonASCIISingleCaseWordChar.test(r)))return!0}return!1}function makeCategorizer(g){return n=>{if(!/\S/.test(n))return CharCategory.Space;if(hasWordChar(n))return CharCategory.Word;for(let r=0;r<g.length;r++)if(n.indexOf(g[r])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(n,r,$,L,V,oe){this.config=n,this.doc=r,this.selection=$,this.values=L,this.status=n.statusTemplate.slice(),this.computeSlot=V,oe&&(oe._state=this);for(let ae=0;ae<this.config.dynamicSlots.length;ae++)ensureAddr(this,ae<<1);this.computeSlot=null}field(n,r=!0){let $=this.config.address[n.id];if($==null){if(r)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,$),getAddr(this,$)}update(...n){return resolveTransaction(this,n,!0)}applyTransaction(n){let r=this.config,{base:$,compartments:L}=r;for(let oe of n.effects)oe.is(Compartment.reconfigure)?(r&&(L=new Map,r.compartments.forEach((ae,re)=>L.set(re,ae)),r=null),L.set(oe.value.compartment,oe.value.extension)):oe.is(StateEffect.reconfigure)?(r=null,$=oe.value):oe.is(StateEffect.appendConfig)&&(r=null,$=asArray$1($).concat(oe.value));let V;r?V=n.startState.values.slice():(r=Configuration.resolve($,L,this),V=new EditorState(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(oe,ae)=>ae.reconfigure(oe,this),null).values),new EditorState(r,n.newDoc,n.newSelection,V,(oe,ae)=>ae.update(oe,n),n)}replaceSelection(n){return typeof n=="string"&&(n=this.toText(n)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:n},range:EditorSelection.cursor(r.from+n.length)}))}changeByRange(n){let r=this.selection,$=n(r.ranges[0]),L=this.changes($.changes),V=[$.range],oe=asArray$1($.effects);for(let ae=1;ae<r.ranges.length;ae++){let re=n(r.ranges[ae]),le=this.changes(re.changes),ue=le.map(L);for(let he=0;he<ae;he++)V[he]=V[he].map(ue);let de=L.mapDesc(le,!0);V.push(re.range.map(de)),L=L.compose(ue),oe=StateEffect.mapEffects(oe,ue).concat(StateEffect.mapEffects(asArray$1(re.effects),de))}return{changes:L,selection:EditorSelection.create(V,r.mainIndex),effects:oe}}changes(n=[]){return n instanceof ChangeSet?n:ChangeSet.of(n,this.doc.length,this.facet(EditorState.lineSeparator))}toText(n){return Text.of(n.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(n=0,r=this.doc.length){return this.doc.sliceString(n,r,this.lineBreak)}facet(n){let r=this.config.address[n.id];return r==null?n.default:(ensureAddr(this,r),getAddr(this,r))}toJSON(n){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(n)for(let $ in n){let L=n[$];L instanceof StateField&&this.config.address[L.id]!=null&&(r[$]=L.spec.toJSON(this.field(n[$]),this))}return r}static fromJSON(n,r={},$){if(!n||typeof n.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let L=[];if($){for(let V in $)if(Object.prototype.hasOwnProperty.call(n,V)){let oe=$[V],ae=n[V];L.push(oe.init(re=>oe.spec.fromJSON(ae,re)))}}return EditorState.create({doc:n.doc,selection:EditorSelection.fromJSON(n.selection),extensions:r.extensions?L.concat([r.extensions]):L})}static create(n={}){let r=Configuration.resolve(n.extensions||[],new Map),$=n.doc instanceof Text?n.doc:Text.of((n.doc||"").split(r.staticFacet(EditorState.lineSeparator)||DefaultSplit)),L=n.selection?n.selection instanceof EditorSelection?n.selection:EditorSelection.single(n.selection.anchor,n.selection.head):EditorSelection.single(0);return checkSelection(L,$.length),r.staticFacet(allowMultipleSelections)||(L=L.asSingle()),new EditorState(r,$,L,r.dynamicSlots.map(()=>null),(V,oe)=>oe.create(V),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(n,...r){for(let $ of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call($,n)){n=$[n];break}return r.length&&(n=n.replace(/\$(\$|\d*)/g,($,L)=>{if(L=="$")return"$";let V=+(L||1);return!V||V>r.length?$:r[V-1]})),n}languageDataAt(n,r,$=-1){let L=[];for(let V of this.facet(languageData))for(let oe of V(this,r,$))Object.prototype.hasOwnProperty.call(oe,n)&&L.push(oe[n]);return L}charCategorizer(n){return makeCategorizer(this.languageDataAt("wordChars",n).join(""))}wordAt(n){let{text:r,from:$,length:L}=this.doc.lineAt(n),V=this.charCategorizer(n),oe=n-$,ae=n-$;for(;oe>0;){let re=findClusterBreak(r,oe,!1);if(V(r.slice(re,oe))!=CharCategory.Word)break;oe=re}for(;ae<L;){let re=findClusterBreak(r,ae);if(V(r.slice(ae,re))!=CharCategory.Word)break;ae=re}return oe==ae?null:EditorSelection.range(oe+$,ae+$)}}EditorState.allowMultipleSelections=allowMultipleSelections,EditorState.tabSize=Facet.define({combine:g=>g.length?g[0]:4}),EditorState.lineSeparator=lineSeparator,EditorState.readOnly=readOnly,EditorState.phrases=Facet.define({compare(g,n){let r=Object.keys(g),$=Object.keys(n);return r.length==$.length&&r.every(L=>g[L]==n[L])}}),EditorState.languageData=languageData,EditorState.changeFilter=changeFilter,EditorState.transactionFilter=transactionFilter,EditorState.transactionExtender=transactionExtender,Compartment.reconfigure=StateEffect.define();function combineConfig(g,n,r={}){let $={};for(let L of g)for(let V of Object.keys(L)){let oe=L[V],ae=$[V];if(ae===void 0)$[V]=oe;else if(!(ae===oe||oe===void 0))if(Object.hasOwnProperty.call(r,V))$[V]=r[V](ae,oe);else throw new Error("Config merge conflict for field "+V)}for(let L in n)$[L]===void 0&&($[L]=n[L]);return $}class RangeValue{eq(n){return this==n}range(n,r=n){return Range$1.create(n,r,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0,RangeValue.prototype.point=!1,RangeValue.prototype.mapMode=MapMode.TrackDel;class Range$1{constructor(n,r,$){this.from=n,this.to=r,this.value=$}static create(n,r,$){return new Range$1(n,r,$)}}function cmpRange(g,n){return g.from-n.from||g.value.startSide-n.value.startSide}class Chunk{constructor(n,r,$,L){this.from=n,this.to=r,this.value=$,this.maxPoint=L}get length(){return this.to[this.to.length-1]}findIndex(n,r,$,L=0){let V=$?this.to:this.from;for(let oe=L,ae=V.length;;){if(oe==ae)return oe;let re=oe+ae>>1,le=V[re]-n||($?this.value[re].endSide:this.value[re].startSide)-r;if(re==oe)return le>=0?oe:ae;le>=0?ae=re:oe=re+1}}between(n,r,$,L){for(let V=this.findIndex(r,-1e9,!0),oe=this.findIndex($,1e9,!1,V);V<oe;V++)if(L(this.from[V]+n,this.to[V]+n,this.value[V])===!1)return!1}map(n,r){let $=[],L=[],V=[],oe=-1,ae=-1;for(let re=0;re<this.value.length;re++){let le=this.value[re],ue=this.from[re]+n,de=this.to[re]+n,he,pe;if(ue==de){let _e=r.mapPos(ue,le.startSide,le.mapMode);if(_e==null||(he=pe=_e,le.startSide!=le.endSide&&(pe=r.mapPos(ue,le.endSide),pe<he)))continue}else if(he=r.mapPos(ue,le.startSide),pe=r.mapPos(de,le.endSide),he>pe||he==pe&&le.startSide>0&&le.endSide<=0)continue;(pe-he||le.endSide-le.startSide)<0||(oe<0&&(oe=he),le.point&&(ae=Math.max(ae,pe-he)),$.push(le),L.push(he-oe),V.push(pe-oe))}return{mapped:$.length?new Chunk(L,V,$,ae):null,pos:oe}}}class RangeSet{constructor(n,r,$,L){this.chunkPos=n,this.chunk=r,this.nextLayer=$,this.maxPoint=L}static create(n,r,$,L){return new RangeSet(n,r,$,L)}get length(){let n=this.chunk.length-1;return n<0?0:Math.max(this.chunkEnd(n),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let n=this.nextLayer.size;for(let r of this.chunk)n+=r.value.length;return n}chunkEnd(n){return this.chunkPos[n]+this.chunk[n].length}update(n){let{add:r=[],sort:$=!1,filterFrom:L=0,filterTo:V=this.length}=n,oe=n.filter;if(r.length==0&&!oe)return this;if($&&(r=r.slice().sort(cmpRange)),this.isEmpty)return r.length?RangeSet.of(r):this;let ae=new LayerCursor(this,null,-1).goto(0),re=0,le=[],ue=new RangeSetBuilder;for(;ae.value||re<r.length;)if(re<r.length&&(ae.from-r[re].from||ae.startSide-r[re].value.startSide)>=0){let de=r[re++];ue.addInner(de.from,de.to,de.value)||le.push(de)}else ae.rangeIndex==1&&ae.chunkIndex<this.chunk.length&&(re==r.length||this.chunkEnd(ae.chunkIndex)<r[re].from)&&(!oe||L>this.chunkEnd(ae.chunkIndex)||V<this.chunkPos[ae.chunkIndex])&&ue.addChunk(this.chunkPos[ae.chunkIndex],this.chunk[ae.chunkIndex])?ae.nextChunk():((!oe||L>ae.to||V<ae.from||oe(ae.from,ae.to,ae.value))&&(ue.addInner(ae.from,ae.to,ae.value)||le.push(Range$1.create(ae.from,ae.to,ae.value))),ae.next());return ue.finishInner(this.nextLayer.isEmpty&&!le.length?RangeSet.empty:this.nextLayer.update({add:le,filter:oe,filterFrom:L,filterTo:V}))}map(n){if(n.empty||this.isEmpty)return this;let r=[],$=[],L=-1;for(let oe=0;oe<this.chunk.length;oe++){let ae=this.chunkPos[oe],re=this.chunk[oe],le=n.touchesRange(ae,ae+re.length);if(le===!1)L=Math.max(L,re.maxPoint),r.push(re),$.push(n.mapPos(ae));else if(le===!0){let{mapped:ue,pos:de}=re.map(ae,n);ue&&(L=Math.max(L,ue.maxPoint),r.push(ue),$.push(de))}}let V=this.nextLayer.map(n);return r.length==0?V:new RangeSet($,r,V||RangeSet.empty,L)}between(n,r,$){if(!this.isEmpty){for(let L=0;L<this.chunk.length;L++){let V=this.chunkPos[L],oe=this.chunk[L];if(r>=V&&n<=V+oe.length&&oe.between(V,n-V,r-V,$)===!1)return}this.nextLayer.between(n,r,$)}}iter(n=0){return HeapCursor.from([this]).goto(n)}get isEmpty(){return this.nextLayer==this}static iter(n,r=0){return HeapCursor.from(n).goto(r)}static compare(n,r,$,L,V=-1){let oe=n.filter(de=>de.maxPoint>0||!de.isEmpty&&de.maxPoint>=V),ae=r.filter(de=>de.maxPoint>0||!de.isEmpty&&de.maxPoint>=V),re=findSharedChunks(oe,ae,$),le=new SpanCursor(oe,re,V),ue=new SpanCursor(ae,re,V);$.iterGaps((de,he,pe)=>compare$1(le,de,ue,he,pe,L)),$.empty&&$.length==0&&compare$1(le,0,ue,0,0,L)}static eq(n,r,$=0,L){L==null&&(L=999999999);let V=n.filter(ue=>!ue.isEmpty&&r.indexOf(ue)<0),oe=r.filter(ue=>!ue.isEmpty&&n.indexOf(ue)<0);if(V.length!=oe.length)return!1;if(!V.length)return!0;let ae=findSharedChunks(V,oe),re=new SpanCursor(V,ae,0).goto($),le=new SpanCursor(oe,ae,0).goto($);for(;;){if(re.to!=le.to||!sameValues(re.active,le.active)||re.point&&(!le.point||!re.point.eq(le.point)))return!1;if(re.to>L)return!0;re.next(),le.next()}}static spans(n,r,$,L,V=-1){let oe=new SpanCursor(n,null,V).goto(r),ae=r,re=oe.openStart;for(;;){let le=Math.min(oe.to,$);if(oe.point){let ue=oe.activeForPoint(oe.to),de=oe.pointFrom<r?ue.length+1:Math.min(ue.length,re);L.point(ae,le,oe.point,ue,de,oe.pointRank),re=Math.min(oe.openEnd(le),ue.length)}else le>ae&&(L.span(ae,le,oe.active,re),re=oe.openEnd(le));if(oe.to>$)return re+(oe.point&&oe.to>$?1:0);ae=oe.to,oe.next()}}static of(n,r=!1){let $=new RangeSetBuilder;for(let L of n instanceof Range$1?[n]:r?lazySort(n):n)$.add(L.from,L.to,L.value);return $.finish()}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(g){if(g.length>1)for(let n=g[0],r=1;r<g.length;r++){let $=g[r];if(cmpRange(n,$)>0)return g.slice().sort(cmpRange);n=$}return g}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(n){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,n&&(this.from=[],this.to=[],this.value=[])}add(n,r,$){this.addInner(n,r,$)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(n,r,$)}addInner(n,r,$){let L=n-this.lastTo||$.startSide-this.last.endSide;if(L<=0&&(n-this.lastFrom||$.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return L<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=n),this.from.push(n-this.chunkStart),this.to.push(r-this.chunkStart),this.last=$,this.lastFrom=n,this.lastTo=r,this.value.push($),$.point&&(this.maxPoint=Math.max(this.maxPoint,r-n)),!0)}addChunk(n,r){if((n-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(n);let $=r.value.length-1;return this.last=r.value[$],this.lastFrom=r.from[$]+n,this.lastTo=r.to[$]+n,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(n){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return n;let r=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(n):n,this.setMaxPoint);return this.from=null,r}}function findSharedChunks(g,n,r){let $=new Map;for(let V of g)for(let oe=0;oe<V.chunk.length;oe++)V.chunk[oe].maxPoint<=0&&$.set(V.chunk[oe],V.chunkPos[oe]);let L=new Set;for(let V of n)for(let oe=0;oe<V.chunk.length;oe++){let ae=$.get(V.chunk[oe]);ae!=null&&(r?r.mapPos(ae):ae)==V.chunkPos[oe]&&!(r!=null&&r.touchesRange(ae,ae+V.chunk[oe].length))&&L.add(V.chunk[oe])}return L}class LayerCursor{constructor(n,r,$,L=0){this.layer=n,this.skip=r,this.minPoint=$,this.rank=L}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(n,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(n,r,!1),this}gotoInner(n,r,$){for(;this.chunkIndex<this.layer.chunk.length;){let L=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(L)||this.layer.chunkEnd(this.chunkIndex)<n||L.maxPoint<this.minPoint))break;this.chunkIndex++,$=!1}if(this.chunkIndex<this.layer.chunk.length){let L=this.layer.chunk[this.chunkIndex].findIndex(n-this.layer.chunkPos[this.chunkIndex],r,!0);(!$||this.rangeIndex<L)&&this.setRangeIndex(L)}this.next()}forward(n,r){(this.to-n||this.endSide-r)<0&&this.gotoInner(n,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let n=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],$=n+r.from[this.rangeIndex];if(this.from=$,this.to=n+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(n){if(n==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=n}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(n){return this.from-n.from||this.startSide-n.startSide||this.rank-n.rank||this.to-n.to||this.endSide-n.endSide}}class HeapCursor{constructor(n){this.heap=n}static from(n,r=null,$=-1){let L=[];for(let V=0;V<n.length;V++)for(let oe=n[V];!oe.isEmpty;oe=oe.nextLayer)oe.maxPoint>=$&&L.push(new LayerCursor(oe,r,$,V));return L.length==1?L[0]:new HeapCursor(L)}get startSide(){return this.value?this.value.startSide:0}goto(n,r=-1e9){for(let $ of this.heap)$.goto(n,r);for(let $=this.heap.length>>1;$>=0;$--)heapBubble(this.heap,$);return this.next(),this}forward(n,r){for(let $ of this.heap)$.forward(n,r);for(let $=this.heap.length>>1;$>=0;$--)heapBubble(this.heap,$);(this.to-n||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let n=this.heap[0];this.from=n.from,this.to=n.to,this.value=n.value,this.rank=n.rank,n.value&&n.next(),heapBubble(this.heap,0)}}}function heapBubble(g,n){for(let r=g[n];;){let $=(n<<1)+1;if($>=g.length)break;let L=g[$];if($+1<g.length&&L.compare(g[$+1])>=0&&(L=g[$+1],$++),r.compare(L)<0)break;g[$]=r,g[n]=L,n=$}}class SpanCursor{constructor(n,r,$){this.minPoint=$,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(n,r,$)}goto(n,r=-1e9){return this.cursor.goto(n,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=n,this.endSide=r,this.openStart=-1,this.next(),this}forward(n,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-n||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(n,r)}removeActive(n){remove(this.active,n),remove(this.activeTo,n),remove(this.activeRank,n),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(n){let r=0,{value:$,to:L,rank:V}=this.cursor;for(;r<this.activeRank.length&&this.activeRank[r]<=V;)r++;insert(this.active,r,$),insert(this.activeTo,r,L),insert(this.activeRank,r,V),n&&insert(n,r,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let n=this.to,r=this.point;this.point=null;let $=this.openStart<0?[]:null;for(;;){let L=this.minActive;if(L>-1&&(this.activeTo[L]-this.cursor.from||this.active[L].endSide-this.cursor.startSide)<0){if(this.activeTo[L]>n){this.to=this.activeTo[L],this.endSide=this.active[L].endSide;break}this.removeActive(L),$&&remove($,L)}else if(this.cursor.value)if(this.cursor.from>n){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let V=this.cursor.value;if(!V.point)this.addActive($),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=V,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=V.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if($){this.openStart=0;for(let L=$.length-1;L>=0&&$[L]<n;L--)this.openStart++}}activeForPoint(n){if(!this.active.length)return this.active;let r=[];for(let $=this.active.length-1;$>=0&&!(this.activeRank[$]<this.pointRank);$--)(this.activeTo[$]>n||this.activeTo[$]==n&&this.active[$].endSide>=this.point.endSide)&&r.push(this.active[$]);return r.reverse()}openEnd(n){let r=0;for(let $=this.activeTo.length-1;$>=0&&this.activeTo[$]>n;$--)r++;return r}}function compare$1(g,n,r,$,L,V){g.goto(n),r.goto($);let oe=$+L,ae=$,re=$-n;for(;;){let le=g.to+re-r.to||g.endSide-r.endSide,ue=le<0?g.to+re:r.to,de=Math.min(ue,oe);if(g.point||r.point?g.point&&r.point&&(g.point==r.point||g.point.eq(r.point))&&sameValues(g.activeForPoint(g.to+re),r.activeForPoint(r.to))||V.comparePoint(ae,de,g.point,r.point):de>ae&&!sameValues(g.active,r.active)&&V.compareRange(ae,de,g.active,r.active),ue>oe)break;ae=ue,le<=0&&g.next(),le>=0&&r.next()}}function sameValues(g,n){if(g.length!=n.length)return!1;for(let r=0;r<g.length;r++)if(g[r]!=n[r]&&!g[r].eq(n[r]))return!1;return!0}function remove(g,n){for(let r=n,$=g.length-1;r<$;r++)g[r]=g[r+1];g.pop()}function insert(g,n,r){for(let $=g.length-1;$>=n;$--)g[$+1]=g[$];g[n]=r}function findMinIndex(g,n){let r=-1,$=1e9;for(let L=0;L<n.length;L++)(n[L]-$||g[L].endSide-g[r].endSide)<0&&(r=L,$=n[L]);return r}function countColumn(g,n,r=g.length){let $=0;for(let L=0;L<r;)g.charCodeAt(L)==9?($+=n-$%n,L++):($++,L=findClusterBreak(g,L));return $}function findColumn(g,n,r,$){for(let L=0,V=0;;){if(V>=n)return L;if(L==g.length)break;V+=g.charCodeAt(L)==9?r-V%r:1,L=findClusterBreak(g,L)}return $===!0?-1:g.length}const C$1="\u037C",COUNT=typeof Symbol>"u"?"__"+C$1:Symbol.for(C$1),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(n,r){this.rules=[];let{finish:$}=r||{};function L(oe){return/^@/.test(oe)?[oe]:oe.split(/,\s*/)}function V(oe,ae,re,le){let ue=[],de=/^@(\w+)\b/.exec(oe[0]),he=de&&de[1]=="keyframes";if(de&&ae==null)return re.push(oe[0]+";");for(let pe in ae){let _e=ae[pe];if(/&/.test(pe))V(pe.split(/,\s*/).map($e=>oe.map(xe=>$e.replace(/&/,xe))).reduce(($e,xe)=>$e.concat(xe)),_e,re);else if(_e&&typeof _e=="object"){if(!de)throw new RangeError("The value of a property ("+pe+") should be a primitive value.");V(L(pe),_e,ue,he)}else _e!=null&&ue.push(pe.replace(/_.*/,"").replace(/[A-Z]/g,$e=>"-"+$e.toLowerCase())+": "+_e+";")}(ue.length||he)&&re.push(($&&!de&&!le?oe.map($):oe).join(", ")+" {"+ue.join(" ")+"}")}for(let oe in n)V(L(oe),n[oe],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let n=top[COUNT]||1;return top[COUNT]=n+1,C$1+n.toString(36)}static mount(n,r){(n[SET]||new StyleSet(n)).mount(Array.isArray(r)?r:[r])}}let adoptedSet=null;class StyleSet{constructor(n){if(!n.head&&n.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(adoptedSet)return n.adoptedStyleSheets=[adoptedSet.sheet].concat(n.adoptedStyleSheets),n[SET]=adoptedSet;this.sheet=new CSSStyleSheet,n.adoptedStyleSheets=[this.sheet].concat(n.adoptedStyleSheets),adoptedSet=this}else{this.styleTag=(n.ownerDocument||n).createElement("style");let r=n.head||n;r.insertBefore(this.styleTag,r.firstChild)}this.modules=[],n[SET]=this}mount(n){let r=this.sheet,$=0,L=0;for(let V=0;V<n.length;V++){let oe=n[V],ae=this.modules.indexOf(oe);if(ae<L&&ae>-1&&(this.modules.splice(ae,1),L--,ae=-1),ae==-1){if(this.modules.splice(L++,0,oe),r)for(let re=0;re<oe.rules.length;re++)r.insertRule(oe.rules[re],$++)}else{for(;L<ae;)$+=this.modules[L++].rules.length;$+=oe.rules.length,L++}}if(!r){let V="";for(let oe=0;oe<this.modules.length;oe++)V+=this.modules[oe].getRules()+`
`;this.styleTag.textContent=V}}}var base$3={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},chrome$1=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent);typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent);for(var mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),brokenModifierNames=mac||chrome$1&&+chrome$1[1]<57,i$2=0;i$2<10;i$2++)base$3[48+i$2]=base$3[96+i$2]=String(i$2);for(var i$2=1;i$2<=24;i$2++)base$3[i$2+111]="F"+i$2;for(var i$2=65;i$2<=90;i$2++)base$3[i$2]=String.fromCharCode(i$2+32),shift[i$2]=String.fromCharCode(i$2);for(var code in base$3)shift.hasOwnProperty(code)||(shift[code]=base$3[code]);function keyName(g){var n=brokenModifierNames&&(g.ctrlKey||g.altKey||g.metaKey)||ie$1&&g.shiftKey&&g.key&&g.key.length==1||g.key=="Unidentified",r=!n&&g.key||(g.shiftKey?shift:base$3)[g.keyCode]||g.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function getSelection(g){let n;return g.nodeType==11?n=g.getSelection?g:g.ownerDocument:n=g,n.getSelection()}function contains(g,n){return n?g==n||g.contains(n.nodeType!=1?n.parentNode:n):!1}function deepActiveElement(g){let n=g.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function hasSelection(g,n){if(!n.anchorNode)return!1;try{return contains(g,n.anchorNode)}catch{return!1}}function clientRectsFor(g){return g.nodeType==3?textRange(g,0,g.nodeValue.length).getClientRects():g.nodeType==1?g.getClientRects():[]}function isEquivalentPosition(g,n,r,$){return r?scanFor(g,n,r,$,-1)||scanFor(g,n,r,$,1):!1}function domIndex(g){for(var n=0;;n++)if(g=g.previousSibling,!g)return n}function scanFor(g,n,r,$,L){for(;;){if(g==r&&n==$)return!0;if(n==(L<0?0:maxOffset(g))){if(g.nodeName=="DIV")return!1;let V=g.parentNode;if(!V||V.nodeType!=1)return!1;n=domIndex(g)+(L<0?0:1),g=V}else if(g.nodeType==1){if(g=g.childNodes[n+(L<0?-1:0)],g.nodeType==1&&g.contentEditable=="false")return!1;n=L<0?maxOffset(g):0}else return!1}}function maxOffset(g){return g.nodeType==3?g.nodeValue.length:g.childNodes.length}const Rect0={left:0,right:0,top:0,bottom:0};function flattenRect(g,n){let r=n?g.left:g.right;return{left:r,right:r,top:g.top,bottom:g.bottom}}function windowRect(g){return{left:0,right:g.innerWidth,top:0,bottom:g.innerHeight}}function scrollRectIntoView(g,n,r,$,L,V,oe,ae){let re=g.ownerDocument,le=re.defaultView||window;for(let ue=g;ue;)if(ue.nodeType==1){let de,he=ue==re.body;if(he)de=windowRect(le);else{if(ue.scrollHeight<=ue.clientHeight&&ue.scrollWidth<=ue.clientWidth){ue=ue.assignedSlot||ue.parentNode;continue}let $e=ue.getBoundingClientRect();de={left:$e.left,right:$e.left+ue.clientWidth,top:$e.top,bottom:$e.top+ue.clientHeight}}let pe=0,_e=0;if(L=="nearest")n.top<de.top?(_e=-(de.top-n.top+oe),r>0&&n.bottom>de.bottom+_e&&(_e=n.bottom-de.bottom+_e+oe)):n.bottom>de.bottom&&(_e=n.bottom-de.bottom+oe,r<0&&n.top-_e<de.top&&(_e=-(de.top+_e-n.top+oe)));else{let $e=n.bottom-n.top,xe=de.bottom-de.top;_e=(L=="center"&&$e<=xe?n.top+$e/2-xe/2:L=="start"||L=="center"&&r<0?n.top-oe:n.bottom-xe+oe)-de.top}if($=="nearest"?n.left<de.left?(pe=-(de.left-n.left+V),r>0&&n.right>de.right+pe&&(pe=n.right-de.right+pe+V)):n.right>de.right&&(pe=n.right-de.right+V,r<0&&n.left<de.left+pe&&(pe=-(de.left+pe-n.left+V))):pe=($=="center"?n.left+(n.right-n.left)/2-(de.right-de.left)/2:$=="start"==ae?n.left-V:n.right-(de.right-de.left)+V)-de.left,pe||_e)if(he)le.scrollBy(pe,_e);else{let $e=0,xe=0;if(_e){let Oe=ue.scrollTop;ue.scrollTop+=_e,xe=ue.scrollTop-Oe}if(pe){let Oe=ue.scrollLeft;ue.scrollLeft+=pe,$e=ue.scrollLeft-Oe}n={left:n.left-$e,top:n.top-xe,right:n.right-$e,bottom:n.bottom-xe},$e&&Math.abs($e-pe)<1&&($="nearest"),xe&&Math.abs(xe-_e)<1&&(L="nearest")}if(he)break;ue=ue.assignedSlot||ue.parentNode}else if(ue.nodeType==11)ue=ue.host;else break}function scrollableParent(g){let n=g.ownerDocument;for(let r=g.parentNode;r&&r!=n.body;)if(r.nodeType==1){if(r.scrollHeight>r.clientHeight||r.scrollWidth>r.clientWidth)return r;r=r.assignedSlot||r.parentNode}else if(r.nodeType==11)r=r.host;else break;return null}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(n){return this.anchorNode==n.anchorNode&&this.anchorOffset==n.anchorOffset&&this.focusNode==n.focusNode&&this.focusOffset==n.focusOffset}setRange(n){this.set(n.anchorNode,n.anchorOffset,n.focusNode,n.focusOffset)}set(n,r,$,L){this.anchorNode=n,this.anchorOffset=r,this.focusNode=$,this.focusOffset=L}}let preventScrollSupported=null;function focusPreventScroll(g){if(g.setActive)return g.setActive();if(preventScrollSupported)return g.focus(preventScrollSupported);let n=[];for(let r=g;r&&(n.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(g.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let r=0;r<n.length;){let $=n[r++],L=n[r++],V=n[r++];$.scrollTop!=L&&($.scrollTop=L),$.scrollLeft!=V&&($.scrollLeft=V)}}}let scratchRange;function textRange(g,n,r=n){let $=scratchRange||(scratchRange=document.createRange());return $.setEnd(g,r),$.setStart(g,n),$}function dispatchKey(g,n,r){let $={key:n,code:n,keyCode:r,which:r,cancelable:!0},L=new KeyboardEvent("keydown",$);L.synthetic=!0,g.dispatchEvent(L);let V=new KeyboardEvent("keyup",$);return V.synthetic=!0,g.dispatchEvent(V),L.defaultPrevented||V.defaultPrevented}function getRoot(g){for(;g;){if(g&&(g.nodeType==9||g.nodeType==11&&g.host))return g;g=g.assignedSlot||g.parentNode}return null}function clearAttributes(g){for(;g.attributes.length;)g.removeAttributeNode(g.attributes[0])}function atElementStart(g,n){let r=n.focusNode,$=n.focusOffset;if(!r||n.anchorNode!=r||n.anchorOffset!=$)return!1;for(;;)if($){if(r.nodeType!=1)return!1;let L=r.childNodes[$-1];L.contentEditable=="false"?$--:(r=L,$=maxOffset(r))}else{if(r==g)return!0;$=domIndex(r),r=r.parentNode}}class DOMPos{constructor(n,r,$=!0){this.node=n,this.offset=r,this.precise=$}static before(n,r){return new DOMPos(n.parentNode,domIndex(n),r)}static after(n,r){return new DOMPos(n.parentNode,domIndex(n)+1,r)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(n){let r=this.posAtStart;for(let $ of this.children){if($==n)return r;r+=$.length+$.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(n){return this.posBefore(n)+n.length}coordsAt(n,r){return null}sync(n){if(this.dirty&2){let r=this.dom,$=null,L;for(let V of this.children){if(V.dirty){if(!V.dom&&(L=$?$.nextSibling:r.firstChild)){let oe=ContentView.get(L);(!oe||!oe.parent&&oe.canReuseDOM(V))&&V.reuseDOM(L)}V.sync(n),V.dirty=0}if(L=$?$.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&L!=V.dom&&(n.written=!0),V.dom.parentNode==r)for(;L&&L!=V.dom;)L=rm$1(L);else r.insertBefore(V.dom,L);$=V.dom}for(L=$?$.nextSibling:r.firstChild,L&&n&&n.node==r&&(n.written=!0);L;)L=rm$1(L)}else if(this.dirty&1)for(let r of this.children)r.dirty&&(r.sync(n),r.dirty=0)}reuseDOM(n){}localPosFromDOM(n,r){let $;if(n==this.dom)$=this.dom.childNodes[r];else{let L=maxOffset(n)==0?0:r==0?-1:1;for(;;){let V=n.parentNode;if(V==this.dom)break;L==0&&V.firstChild!=V.lastChild&&(n==V.firstChild?L=-1:L=1),n=V}L<0?$=n:$=n.nextSibling}if($==this.dom.firstChild)return 0;for(;$&&!ContentView.get($);)$=$.nextSibling;if(!$)return this.length;for(let L=0,V=0;;L++){let oe=this.children[L];if(oe.dom==$)return V;V+=oe.length+oe.breakAfter}}domBoundsAround(n,r,$=0){let L=-1,V=-1,oe=-1,ae=-1;for(let re=0,le=$,ue=$;re<this.children.length;re++){let de=this.children[re],he=le+de.length;if(le<n&&he>r)return de.domBoundsAround(n,r,le);if(he>=n&&L==-1&&(L=re,V=le),le>r&&de.dom.parentNode==this.dom){oe=re,ae=ue;break}ue=he,le=he+de.breakAfter}return{from:V,to:ae<0?$+this.length:ae,startDOM:(L?this.children[L-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:oe<this.children.length&&oe>=0?this.children[oe].dom:null}}markDirty(n=!1){this.dirty|=2,this.markParentsDirty(n)}markParentsDirty(n){for(let r=this.parent;r;r=r.parent){if(n&&(r.dirty|=2),r.dirty&1)return;r.dirty|=1,n=!1}}setParent(n){this.parent!=n&&(this.parent=n,this.dirty&&this.markParentsDirty(!0))}setDOM(n){this.dom&&(this.dom.cmView=null),this.dom=n,n.cmView=this}get rootView(){for(let n=this;;){let r=n.parent;if(!r)return n;n=r}}replaceChildren(n,r,$=noChildren){this.markDirty();for(let L=n;L<r;L++){let V=this.children[L];V.parent==this&&V.destroy()}this.children.splice(n,r-n,...$);for(let L=0;L<$.length;L++)$[L].setParent(this)}ignoreMutation(n){return!1}ignoreEvent(n){return!1}childCursor(n=this.length){return new ChildCursor(this.children,n,this.children.length)}childPos(n,r=1){return this.childCursor().findPos(n,r)}toString(){let n=this.constructor.name.replace("View","");return n+(this.children.length?"("+this.children.join()+")":this.length?"["+(n=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(n){return n.cmView}get isEditable(){return!0}merge(n,r,$,L,V,oe){return!1}become(n){return!1}canReuseDOM(n){return n.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(g){let n=g.nextSibling;return g.parentNode.removeChild(g),n}class ChildCursor{constructor(n,r,$){this.children=n,this.pos=r,this.i=$,this.off=0}findPos(n,r=1){for(;;){if(n>this.pos||n==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=n-this.pos,this;let $=this.children[--this.i];this.pos-=$.length+$.breakAfter}}}function replaceRange(g,n,r,$,L,V,oe,ae,re){let{children:le}=g,ue=le.length?le[n]:null,de=V.length?V[V.length-1]:null,he=de?de.breakAfter:oe;if(!(n==$&&ue&&!oe&&!he&&V.length<2&&ue.merge(r,L,V.length?de:null,r==0,ae,re))){if($<le.length){let pe=le[$];pe&&L<pe.length?(n==$&&(pe=pe.split(L),L=0),!he&&de&&pe.merge(0,L,de,!0,0,re)?V[V.length-1]=pe:(L&&pe.merge(0,L,null,!1,0,re),V.push(pe))):pe!=null&&pe.breakAfter&&(de?de.breakAfter=1:oe=1),$++}for(ue&&(ue.breakAfter=oe,r>0&&(!oe&&V.length&&ue.merge(r,ue.length,V[0],!1,ae,0)?ue.breakAfter=V.shift().breakAfter:(r<ue.length||ue.children.length&&ue.children[ue.children.length-1].length==0)&&ue.merge(r,ue.length,null,!1,ae,0),n++));n<$&&V.length;)if(le[$-1].become(V[V.length-1]))$--,V.pop(),re=V.length?0:ae;else if(le[n].become(V[0]))n++,V.shift(),ae=V.length?0:re;else break;!V.length&&n&&$<le.length&&!le[n-1].breakAfter&&le[$].merge(0,0,le[n-1],!1,ae,re)&&n--,(n<$||V.length)&&g.replaceChildren(n,$,V)}}function mergeChildrenInto(g,n,r,$,L,V){let oe=g.childCursor(),{i:ae,off:re}=oe.findPos(r,1),{i:le,off:ue}=oe.findPos(n,-1),de=n-r;for(let he of $)de+=he.length;g.length+=de,replaceRange(g,le,ue,ae,re,$,0,L,V)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit,safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(n){super(),this.text=n}get length(){return this.text.length}createDOM(n){this.setDOM(n||document.createTextNode(this.text))}sync(n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(n){n.nodeType==3&&this.createDOM(n)}merge(n,r,$){return $&&(!($ instanceof TextView)||this.length-(r-n)+$.length>MaxJoinLen)?!1:(this.text=this.text.slice(0,n)+($?$.text:"")+this.text.slice(r),this.markDirty(),!0)}split(n){let r=new TextView(this.text.slice(n));return this.text=this.text.slice(0,n),this.markDirty(),r}localPosFromDOM(n,r){return n==this.dom?r:r?this.text.length:0}domAtPos(n){return new DOMPos(this.dom,n)}domBoundsAround(n,r,$){return{from:$,to:$+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(n,r){return textCoords(this.dom,n,r)}}class MarkView extends ContentView{constructor(n,r=[],$=0){super(),this.mark=n,this.children=r,this.length=$;for(let L of r)L.setParent(this)}setAttrs(n){if(clearAttributes(n),this.mark.class&&(n.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)n.setAttribute(r,this.mark.attrs[r]);return n}reuseDOM(n){n.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(n),this.dirty|=6)}sync(n){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(n)}merge(n,r,$,L,V,oe){return $&&(!($ instanceof MarkView&&$.mark.eq(this.mark))||n&&V<=0||r<this.length&&oe<=0)?!1:(mergeChildrenInto(this,n,r,$?$.children:[],V-1,oe-1),this.markDirty(),!0)}split(n){let r=[],$=0,L=-1,V=0;for(let ae of this.children){let re=$+ae.length;re>n&&r.push($<n?ae.split(n-$):ae),L<0&&$>=n&&(L=V),$=re,V++}let oe=this.length-n;return this.length=n,L>-1&&(this.children.length=L,this.markDirty()),new MarkView(this.mark,r,oe)}domAtPos(n){return inlineDOMAtPos(this,n)}coordsAt(n,r){return coordsInChildren(this,n,r)}}function textCoords(g,n,r){let $=g.nodeValue.length;n>$&&(n=$);let L=n,V=n,oe=0;n==0&&r<0||n==$&&r>=0?browser.chrome||browser.gecko||(n?(L--,oe=1):V<$&&(V++,oe=-1)):r<0?L--:V<$&&V++;let ae=textRange(g,L,V).getClientRects();if(!ae.length)return Rect0;let re=ae[(oe?oe<0:r>=0)?0:ae.length-1];return browser.safari&&!oe&&re.width==0&&(re=Array.prototype.find.call(ae,le=>le.width)||re),oe?flattenRect(re,oe<0):re||null}class WidgetView extends ContentView{constructor(n,r,$){super(),this.widget=n,this.length=r,this.side=$,this.prevWidget=null}static create(n,r,$){return new(n.customView||WidgetView)(n,r,$)}split(n){let r=WidgetView.create(this.widget,this.length-n,this.side);return this.length-=n,r}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(n,r,$,L,V,oe){return $&&(!($ instanceof WidgetView)||!this.widget.compare($.widget)||n>0&&V<=0||r<this.length&&oe<=0)?!1:(this.length=n+($?$.length:0)+(this.length-r),!0)}become(n){return n.length==this.length&&n instanceof WidgetView&&n.side==this.side&&this.widget.constructor==n.widget.constructor?(this.widget.eq(n.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=n.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(n){return this.widget.ignoreEvent(n)}get overrideDOMText(){if(this.length==0)return Text.empty;let n=this;for(;n.parent;)n=n.parent;let r=n.editorView,$=r&&r.state.doc,L=this.posAtStart;return $?$.slice(L,L+this.length):Text.empty}domAtPos(n){return n==0?DOMPos.before(this.dom):DOMPos.after(this.dom,n==this.length)}domBoundsAround(){return null}coordsAt(n,r){let $=this.dom.getClientRects(),L=null;if(!$.length)return Rect0;for(let V=n>0?$.length-1:0;L=$[V],!(n>0?V==0:V==$.length-1||L.top<L.bottom);V+=n>0?-1:1);return this.length?L:flattenRect(L,this.side>0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class CompositionView extends WidgetView{domAtPos(n){let{topView:r,text:$}=this.widget;return r?scanCompositionTree(n,0,r,$,(L,V)=>L.domAtPos(V),L=>new DOMPos($,Math.min(L,$.nodeValue.length))):new DOMPos($,Math.min(n,$.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(n,r){let{topView:$,text:L}=this.widget;return $?posFromDOMInCompositionTree(n,r,$,L):Math.min(r,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(n,r){let{topView:$,text:L}=this.widget;return $?scanCompositionTree(n,r,$,L,(V,oe,ae)=>V.coordsAt(oe,ae),(V,oe)=>textCoords(L,V,oe)):textCoords(L,n,r)}destroy(){var n;super.destroy(),(n=this.widget.topView)===null||n===void 0||n.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function scanCompositionTree(g,n,r,$,L,V){if(r instanceof MarkView){for(let oe=r.dom.firstChild;oe;oe=oe.nextSibling){let ae=ContentView.get(oe);if(!ae)return V(g,n);let re=contains(oe,$),le=ae.length+(re?$.nodeValue.length:0);if(g<le||g==le&&ae.getSide()<=0)return re?scanCompositionTree(g,n,ae,$,L,V):L(ae,g,n);g-=le}return L(r,r.length,-1)}else return r.dom==$?V(g,n):L(r,g,n)}function posFromDOMInCompositionTree(g,n,r,$){if(r instanceof MarkView)for(let L of r.children){let V=0,oe=contains(L.dom,$);if(contains(L.dom,g))return V+(oe?posFromDOMInCompositionTree(g,n,L,$):L.localPosFromDOM(g,n));V+=oe?$.nodeValue.length:L.length}else if(r.dom==$)return Math.min(n,$.nodeValue.length);return r.localPosFromDOM(g,n)}class WidgetBufferView extends ContentView{constructor(n){super(),this.side=n}get length(){return 0}merge(){return!1}become(n){return n instanceof WidgetBufferView&&n.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),this.setDOM(n)}}getSide(){return this.side}domAtPos(n){return DOMPos.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(n){let r=this.dom.getBoundingClientRect(),$=inlineSiblingRect(this,this.side>0?-1:1);return $&&$.top<r.bottom&&$.bottom>r.top?{left:r.left,right:r.right,top:$.top,bottom:$.bottom}:r}get overrideDOMText(){return Text.empty}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineSiblingRect(g,n){let r=g.parent,$=r?r.children.indexOf(g):-1;for(;r&&$>=0;)if(n<0?$>0:$<r.children.length){let L=r.children[$+n];if(L instanceof TextView){let V=L.coordsAt(n<0?L.length:0,n);if(V)return V}$+=n}else if(r instanceof MarkView&&r.parent)$=r.parent.children.indexOf(r)+(n<0?0:1),r=r.parent;else{let L=r.dom.lastChild;if(L&&L.nodeName=="BR")return L.getClientRects()[0];break}}function inlineDOMAtPos(g,n){let r=g.dom,{children:$}=g,L=0;for(let V=0;L<$.length;L++){let oe=$[L],ae=V+oe.length;if(!(ae==V&&oe.getSide()<=0)){if(n>V&&n<ae&&oe.dom.parentNode==r)return oe.domAtPos(n-V);if(n<=V)break;V=ae}}for(let V=L;V>0;V--){let oe=$[V-1];if(oe.dom.parentNode==r)return oe.domAtPos(oe.length)}for(let V=L;V<$.length;V++){let oe=$[V];if(oe.dom.parentNode==r)return oe.domAtPos(0)}return new DOMPos(r,0)}function joinInlineInto(g,n,r){let $,{children:L}=g;r>0&&n instanceof MarkView&&L.length&&($=L[L.length-1])instanceof MarkView&&$.mark.eq(n.mark)?joinInlineInto($,n.children[0],r-1):(L.push(n),n.setParent(g)),g.length+=n.length}function coordsInChildren(g,n,r){let $=null,L=-1,V=null,oe=-1;function ae(le,ue){for(let de=0,he=0;de<le.children.length&&he<=ue;de++){let pe=le.children[de],_e=he+pe.length;_e>=ue&&(pe.children.length?ae(pe,ue-he):!V&&(_e>ue||he==_e&&pe.getSide()>0)?(V=pe,oe=ue-he):(he<ue||he==_e&&pe.getSide()<0)&&($=pe,L=ue-he)),he=_e}}ae(g,n);let re=(r<0?$:V)||$||V;return re?re.coordsAt(Math.max(0,re==$?L:oe),r):fallbackRect(g)}function fallbackRect(g){let n=g.dom.lastChild;if(!n)return g.dom.getBoundingClientRect();let r=clientRectsFor(n);return r[r.length-1]||null}function combineAttrs(g,n){for(let r in g)r=="class"&&n.class?n.class+=" "+g.class:r=="style"&&n.style?n.style+=";"+g.style:n[r]=g[r];return n}function attrsEq(g,n){if(g==n)return!0;if(!g||!n)return!1;let r=Object.keys(g),$=Object.keys(n);if(r.length!=$.length)return!1;for(let L of r)if($.indexOf(L)==-1||g[L]!==n[L])return!1;return!0}function updateAttrs$1(g,n,r){let $=null;if(n)for(let L in n)r&&L in r||g.removeAttribute($=L);if(r)for(let L in r)n&&n[L]==r[L]||g.setAttribute($=L,r[L]);return!!$}class WidgetType{eq(n){return!1}updateDOM(n){return!1}compare(n){return this==n||this.constructor==n.constructor&&this.eq(n)}get estimatedHeight(){return-1}ignoreEvent(n){return!0}get customView(){return null}destroy(n){}}var BlockType=function(g){return g[g.Text=0]="Text",g[g.WidgetBefore=1]="WidgetBefore",g[g.WidgetAfter=2]="WidgetAfter",g[g.WidgetRange=3]="WidgetRange",g}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(n,r,$,L){super(),this.startSide=n,this.endSide=r,this.widget=$,this.spec=L}get heightRelevant(){return!1}static mark(n){return new MarkDecoration(n)}static widget(n){let r=n.side||0,$=!!n.block;return r+=$?r>0?3e8:-4e8:r>0?1e8:-1e8,new PointDecoration(n,r,r,$,n.widget||null,!1)}static replace(n){let r=!!n.block,$,L;if(n.isBlockGap)$=-5e8,L=4e8;else{let{start:V,end:oe}=getInclusive(n,r);$=(V?r?-3e8:-1:5e8)-1,L=(oe?r?2e8:1:-6e8)+1}return new PointDecoration(n,$,L,r,n.widget||null,!0)}static line(n){return new LineDecoration(n)}static set(n,r=!1){return RangeSet.of(n,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(n){let{start:r,end:$}=getInclusive(n);super(r?-1:5e8,$?1:-6e8,null,n),this.tagName=n.tagName||"span",this.class=n.class||"",this.attrs=n.attributes||null}eq(n){return this==n||n instanceof MarkDecoration&&this.tagName==n.tagName&&this.class==n.class&&attrsEq(this.attrs,n.attrs)}range(n,r=n){if(n>=r)throw new RangeError("Mark decorations may not be empty");return super.range(n,r)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(n){super(-2e8,-2e8,null,n)}eq(n){return n instanceof LineDecoration&&attrsEq(this.spec.attributes,n.spec.attributes)}range(n,r=n){if(r!=n)throw new RangeError("Line decoration ranges must be zero-length");return super.range(n,r)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore,LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(n,r,$,L,V,oe){super(r,$,V,n),this.block=L,this.isReplace=oe,this.mapMode=L?r<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide<this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(n){return n instanceof PointDecoration&&widgetsEq(this.widget,n.widget)&&this.block==n.block&&this.startSide==n.startSide&&this.endSide==n.endSide}range(n,r=n){if(this.isReplace&&(n>r||n==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=n)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(n,r)}}PointDecoration.prototype.point=!0;function getInclusive(g,n=!1){let{inclusiveStart:r,inclusiveEnd:$}=g;return r==null&&(r=g.inclusive),$==null&&($=g.inclusive),{start:r!=null?r:n,end:$!=null?$:n}}function widgetsEq(g,n){return g==n||!!(g&&n&&g.compare(n))}function addRange(g,n,r,$=0){let L=r.length-1;L>=0&&r[L]+$>=g?r[L]=Math.max(r[L],n):r.push(g,n)}class LineView$2 extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(n,r,$,L,V,oe){if($){if(!($ instanceof LineView$2))return!1;this.dom||$.transferDOM(this)}return L&&this.setDeco($?$.attrs:null),mergeChildrenInto(this,n,r,$?$.children:[],V,oe),!0}split(n){let r=new LineView$2;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i:$,off:L}=this.childPos(n);L&&(r.append(this.children[$].split(L),0),this.children[$].merge(L,this.children[$].length,null,!1,0,0),$++);for(let V=$;V<this.children.length;V++)r.append(this.children[V],0);for(;$>0&&this.children[$-1].length==0;)this.children[--$].destroy();return this.children.length=$,this.markDirty(),this.length=n,r}transferDOM(n){!this.dom||(this.markDirty(),n.setDOM(this.dom),n.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(n){attrsEq(this.attrs,n)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=n)}append(n,r){joinInlineInto(this,n,r)}addLineDeco(n){let r=n.spec.attributes,$=n.spec.class;r&&(this.attrs=combineAttrs(r,this.attrs||{})),$&&(this.attrs=combineAttrs({class:$},this.attrs||{}))}domAtPos(n){return inlineDOMAtPos(this,n)}reuseDOM(n){n.nodeName=="DIV"&&(this.setDOM(n),this.dirty|=6)}sync(n){var r;this.dom?this.dirty&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs$1(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(n);let $=this.dom.lastChild;for(;$&&ContentView.get($)instanceof MarkView;)$=$.lastChild;if(!$||!this.length||$.nodeName!="BR"&&((r=ContentView.get($))===null||r===void 0?void 0:r.isEditable)==!1&&(!browser.ios||!this.children.some(L=>L instanceof TextView))){let L=document.createElement("BR");L.cmIgnore=!0,this.dom.appendChild(L)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let n=0;for(let r of this.children){if(!(r instanceof TextView)||/[^ -~]/.test(r.text))return null;let $=clientRectsFor(r.dom);if($.length!=1)return null;n+=$[0].width}return n?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:n/this.length}:null}coordsAt(n,r){return coordsInChildren(this,n,r)}become(n){return!1}get type(){return BlockType.Text}static find(n,r){for(let $=0,L=0;$<n.children.length;$++){let V=n.children[$],oe=L+V.length;if(oe>=r){if(V instanceof LineView$2)return V;if(oe>r)break}L=oe+V.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(n,r,$){super(),this.widget=n,this.length=r,this.type=$,this.breakAfter=0,this.prevWidget=null}merge(n,r,$,L,V,oe){return $&&(!($ instanceof BlockWidgetView)||!this.widget.compare($.widget)||n>0&&V<=0||r<this.length&&oe<=0)?!1:(this.length=n+($?$.length:0)+(this.length-r),!0)}domAtPos(n){return n==0?DOMPos.before(this.dom):DOMPos.after(this.dom,n==this.length)}split(n){let r=this.length-n;this.length=n;let $=new BlockWidgetView(this.widget,r,this.type);return $.breakAfter=this.breakAfter,$}get children(){return noChildren}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(n){return n instanceof BlockWidgetView&&n.type==this.type&&n.widget.constructor==this.widget.constructor?(n.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=n.widget,this.length=n.length,this.breakAfter=n.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(n){return this.widget.ignoreEvent(n)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ContentBuilder{constructor(n,r,$,L){this.doc=n,this.pos=r,this.end=$,this.disallowBlockEffectsFor=L,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=n.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let n=this.content[this.content.length-1];return!n.breakAfter&&!(n instanceof BlockWidgetView&&n.type==BlockType.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView$2),this.atCursorPos=!0),this.curLine}flushBuffer(n=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),n),n.length),this.pendingBuffer=0)}addBlockWidget(n){this.flushBuffer(),this.curLine=null,this.content.push(n)}finish(n){this.pendingBuffer&&n<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(n,r,$){for(;n>0;){if(this.textOff==this.text.length){let{value:V,lineBreak:oe,done:ae}=this.cursor.next(this.skip);if(this.skip=0,ae)throw new Error("Ran out of text content when drawing inline views");if(oe){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,n--;continue}else this.text=V,this.textOff=0}let L=Math.min(this.text.length-this.textOff,n,512);this.flushBuffer(r.slice(r.length-$)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+L)),r),$),this.atCursorPos=!0,this.textOff+=L,n-=L,$=0}}span(n,r,$,L){this.buildText(r-n,$,L),this.pos=r,this.openStart<0&&(this.openStart=L)}point(n,r,$,L,V,oe){if(this.disallowBlockEffectsFor[oe]&&$ instanceof PointDecoration){if($.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let ae=r-n;if($ instanceof PointDecoration)if($.block){let{type:re}=$;re==BlockType.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView($.widget||new NullWidget("div"),ae,re))}else{let re=WidgetView.create($.widget||new NullWidget("span"),ae,ae?0:$.startSide),le=this.atCursorPos&&!re.isEditable&&V<=L.length&&(n<r||$.startSide>0),ue=!re.isEditable&&(n<r||V>L.length||$.startSide<=0),de=this.getLine();this.pendingBuffer==2&&!le&&(this.pendingBuffer=0),this.flushBuffer(L),le&&(de.append(wrapMarks(new WidgetBufferView(1),L),V),V=L.length+Math.max(0,V-L.length)),de.append(wrapMarks(re,L),V),this.atCursorPos=ue,this.pendingBuffer=ue?n<r||V>L.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=L.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco($);ae&&(this.textOff+ae<=this.text.length?this.textOff+=ae:(this.skip+=ae-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=V)}static build(n,r,$,L,V){let oe=new ContentBuilder(n,r,$,V);return oe.openEnd=RangeSet.spans(L,r,$,oe),oe.openStart<0&&(oe.openStart=oe.openEnd),oe.finish(oe.openEnd),oe}}function wrapMarks(g,n){for(let r of n)g=new MarkView(r,[g],g.length);return g}class NullWidget extends WidgetType{constructor(n){super(),this.tag=n}eq(n){return n.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(n){return n.nodeName.toLowerCase()==this.tag}}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),perLineTextDirection=Facet.define({combine:g=>g.some(n=>n)}),nativeSelectionHidden=Facet.define({combine:g=>g.some(n=>n)});class ScrollTarget{constructor(n,r="nearest",$="nearest",L=5,V=5){this.range=n,this.y=r,this.x=$,this.yMargin=L,this.xMargin=V}map(n){return n.empty?this:new ScrollTarget(this.range.map(n),this.y,this.x,this.yMargin,this.xMargin)}}const scrollIntoView$1=StateEffect.define({map:(g,n)=>g.map(n)});function logException(g,n,r){let $=g.facet(exceptionSink);$.length?$[0](n):window.onerror?window.onerror(String(n),r,void 0,void 0,n):r?console.error(r+":",n):console.error(n)}const editable=Facet.define({combine:g=>g.length?g[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define();class ViewPlugin{constructor(n,r,$,L){this.id=n,this.create=r,this.domEventHandlers=$,this.extension=L(this)}static define(n,r){const{eventHandlers:$,provide:L,decorations:V}=r||{};return new ViewPlugin(nextPluginID++,n,$,oe=>{let ae=[viewPlugin.of(oe)];return V&&ae.push(decorations.of(re=>{let le=re.plugin(oe);return le?V(le):Decoration.none})),L&&ae.push(L(oe)),ae})}static fromClass(n,r){return ViewPlugin.define($=>new n($),r)}}class PluginInstance{constructor(n){this.spec=n,this.mustUpdate=null,this.value=null}update(n){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch($){if(logException(r.state,$,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(n)}catch(r){logException(n.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(n){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch($){logException(n.state,$,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),atomicRanges=Facet.define(),scrollMargins=Facet.define(),styleModule=Facet.define();class ChangedRange{constructor(n,r,$,L){this.fromA=n,this.toA=r,this.fromB=$,this.toB=L}join(n){return new ChangedRange(Math.min(this.fromA,n.fromA),Math.max(this.toA,n.toA),Math.min(this.fromB,n.fromB),Math.max(this.toB,n.toB))}addToSet(n){let r=n.length,$=this;for(;r>0;r--){let L=n[r-1];if(!(L.fromA>$.toA)){if(L.toA<$.fromA)break;$=$.join(L),n.splice(r-1,1)}}return n.splice(r,0,$),n}static extendWithRanges(n,r){if(r.length==0)return n;let $=[];for(let L=0,V=0,oe=0,ae=0;;L++){let re=L==n.length?null:n[L],le=oe-ae,ue=re?re.fromB:1e9;for(;V<r.length&&r[V]<ue;){let de=r[V],he=r[V+1],pe=Math.max(ae,de),_e=Math.min(ue,he);if(pe<=_e&&new ChangedRange(pe+le,_e+le,pe,_e).addToSet($),he>ue)break;V+=2}if(!re)return $;new ChangedRange(re.fromA,re.toA,re.fromB,re.toB).addToSet($),oe=re.toA,ae=re.toB}}}class ViewUpdate{constructor(n,r,$){this.view=n,this.state=r,this.transactions=$,this.flags=0,this.startState=n.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let oe of $)this.changes=this.changes.compose(oe.changes);let L=[];this.changes.iterChangedRanges((oe,ae,re,le)=>L.push(new ChangedRange(oe,ae,re,le))),this.changedRanges=L;let V=n.hasFocus;V!=n.inputState.notifiedFocused&&(n.inputState.notifiedFocused=V,this.flags|=1)}static create(n,r,$){return new ViewUpdate(n,r,$)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(n=>n.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var Direction=function(g){return g[g.LTR=0]="LTR",g[g.RTL=1]="RTL",g}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(g){let n=[];for(let r=0;r<g.length;r++)n.push(1<<+g[r]);return n}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let g of["()","[]","{}"]){let n=g.charCodeAt(0),r=g.charCodeAt(1);Brackets[n]=r,Brackets[r]=-n}function charType(g){return g<=247?LowTypes[g]:1424<=g&&g<=1524?2:1536<=g&&g<=1785?ArabicTypes[g-1536]:1774<=g&&g<=2220?4:8192<=g&&g<=8203?256:64336<=g&&g<=65023?4:g==8204?256:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{constructor(n,r,$){this.from=n,this.to=r,this.level=$}get dir(){return this.level%2?RTL:LTR}side(n,r){return this.dir==r==n?this.to:this.from}static find(n,r,$,L){let V=-1;for(let oe=0;oe<n.length;oe++){let ae=n[oe];if(ae.from<=r&&ae.to>=r){if(ae.level==$)return oe;(V<0||(L!=0?L<0?ae.from<r:ae.to>r:n[V].level>ae.level))&&(V=oe)}}if(V<0)throw new RangeError("Index out of range");return V}}const types=[];function computeOrder(g,n){let r=g.length,$=n==LTR?1:2,L=n==LTR?2:1;if(!g||$==1&&!BidiRE.test(g))return trivialOrder(r);for(let oe=0,ae=$,re=$;oe<r;oe++){let le=charType(g.charCodeAt(oe));le==512?le=ae:le==8&&re==4&&(le=16),types[oe]=le==4?2:le,le&7&&(re=le),ae=le}for(let oe=0,ae=$,re=$;oe<r;oe++){let le=types[oe];if(le==128)oe<r-1&&ae==types[oe+1]&&ae&24?le=types[oe]=ae:types[oe]=256;else if(le==64){let ue=oe+1;for(;ue<r&&types[ue]==64;)ue++;let de=oe&&ae==8||ue<r&&types[ue]==8?re==1?1:8:256;for(let he=oe;he<ue;he++)types[he]=de;oe=ue-1}else le==8&&re==1&&(types[oe]=1);ae=le,le&7&&(re=le)}for(let oe=0,ae=0,re=0,le,ue,de;oe<r;oe++)if(ue=Brackets[le=g.charCodeAt(oe)])if(ue<0){for(let he=ae-3;he>=0;he-=3)if(BracketStack[he+1]==-ue){let pe=BracketStack[he+2],_e=pe&2?$:pe&4?pe&1?L:$:0;_e&&(types[oe]=types[BracketStack[he]]=_e),ae=he;break}}else{if(BracketStack.length==189)break;BracketStack[ae++]=oe,BracketStack[ae++]=le,BracketStack[ae++]=re}else if((de=types[oe])==2||de==1){let he=de==$;re=he?0:1;for(let pe=ae-3;pe>=0;pe-=3){let _e=BracketStack[pe+2];if(_e&2)break;if(he)BracketStack[pe+2]|=2;else{if(_e&4)break;BracketStack[pe+2]|=4}}}for(let oe=0;oe<r;oe++)if(types[oe]==256){let ae=oe+1;for(;ae<r&&types[ae]==256;)ae++;let re=(oe?types[oe-1]:$)==1,le=(ae<r?types[ae]:$)==1,ue=re==le?re?1:2:$;for(let de=oe;de<ae;de++)types[de]=ue;oe=ae-1}let V=[];if($==1)for(let oe=0;oe<r;){let ae=oe,re=types[oe++]!=1;for(;oe<r&&re==(types[oe]!=1);)oe++;if(re)for(let le=oe;le>ae;){let ue=le,de=types[--le]!=2;for(;le>ae&&de==(types[le-1]!=2);)le--;V.push(new BidiSpan(le,ue,de?2:1))}else V.push(new BidiSpan(ae,oe,0))}else for(let oe=0;oe<r;){let ae=oe,re=types[oe++]==2;for(;oe<r&&re==(types[oe]==2);)oe++;V.push(new BidiSpan(ae,oe,re?1:2))}return V}function trivialOrder(g){return[new BidiSpan(0,g,0)]}let movedOver="";function moveVisually(g,n,r,$,L){var V;let oe=$.head-g.from,ae=-1;if(oe==0){if(!L||!g.length)return null;n[0].level!=r&&(oe=n[0].side(!1,r),ae=0)}else if(oe==g.length){if(L)return null;let he=n[n.length-1];he.level!=r&&(oe=he.side(!0,r),ae=n.length-1)}ae<0&&(ae=BidiSpan.find(n,oe,(V=$.bidiLevel)!==null&&V!==void 0?V:-1,$.assoc));let re=n[ae];oe==re.side(L,r)&&(re=n[ae+=L?1:-1],oe=re.side(!L,r));let le=L==(re.dir==r),ue=findClusterBreak(g.text,oe,le);if(movedOver=g.text.slice(Math.min(oe,ue),Math.max(oe,ue)),ue!=re.side(L,r))return EditorSelection.cursor(ue+g.from,le?-1:1,re.level);let de=ae==(L?n.length-1:0)?null:n[ae+(L?1:-1)];return!de&&re.level!=r?EditorSelection.cursor(L?g.to:g.from,L?-1:1,r):de&&de.level<re.level?EditorSelection.cursor(de.side(!L,r)+g.from,L?1:-1,de.level):EditorSelection.cursor(ue+g.from,L?-1:1,re.level)}const LineBreakPlaceholder="\uFFFF";class DOMReader{constructor(n,r){this.points=n,this.text="",this.lineSeparator=r.facet(EditorState.lineSeparator)}append(n){this.text+=n}lineBreak(){this.text+=LineBreakPlaceholder}readRange(n,r){if(!n)return this;let $=n.parentNode;for(let L=n;;){this.findPointBefore($,L),this.readNode(L);let V=L.nextSibling;if(V==r)break;let oe=ContentView.get(L),ae=ContentView.get(V);(oe&&ae?oe.breakAfter:(oe?oe.breakAfter:isBlockElement(L))||isBlockElement(V)&&(L.nodeName!="BR"||L.cmIgnore))&&this.lineBreak(),L=V}return this.findPointBefore($,r),this}readTextNode(n){let r=n.nodeValue;for(let $ of this.points)$.node==n&&($.pos=this.text.length+Math.min($.offset,r.length));for(let $=0,L=this.lineSeparator?null:/\r\n?|\n/g;;){let V=-1,oe=1,ae;if(this.lineSeparator?(V=r.indexOf(this.lineSeparator,$),oe=this.lineSeparator.length):(ae=L.exec(r))&&(V=ae.index,oe=ae[0].length),this.append(r.slice($,V<0?r.length:V)),V<0)break;if(this.lineBreak(),oe>1)for(let re of this.points)re.node==n&&re.pos>this.text.length&&(re.pos-=oe-1);$=V+oe}}readNode(n){if(n.cmIgnore)return;let r=ContentView.get(n),$=r&&r.overrideDOMText;if($!=null){this.findPointInside(n,$.length);for(let L=$.iter();!L.next().done;)L.lineBreak?this.lineBreak():this.append(L.value)}else n.nodeType==3?this.readTextNode(n):n.nodeName=="BR"?n.nextSibling&&this.lineBreak():n.nodeType==1&&this.readRange(n.firstChild,null)}findPointBefore(n,r){for(let $ of this.points)$.node==n&&n.childNodes[$.offset]==r&&($.pos=this.text.length)}findPointInside(n,r){for(let $ of this.points)(n.nodeType==3?$.node==n:n.contains($.node))&&($.pos=this.text.length+Math.min(r,$.offset))}}function isBlockElement(g){return g.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(g.nodeName)}class DOMPoint{constructor(n,r){this.node=n,this.offset=r,this.pos=-1}}class DocView extends ContentView{constructor(n){super(),this.view=n,this.compositionDeco=Decoration.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(n.contentDOM),this.children=[new LineView$2],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,n.state.doc.length)],0)}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(n){let r=n.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:oe,toA:ae})=>ae<this.minWidthFrom||oe>this.minWidthTo)?(this.minWidthFrom=n.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=n.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Decoration.none:(n.transactions.length||this.dirty)&&(this.compositionDeco=computeCompositionDeco(this.view,n.changes)),(browser.ie||browser.chrome)&&!this.compositionDeco.size&&n&&n.state.doc.lines!=n.startState.doc.lines&&(this.forceSelection=!0);let $=this.decorations,L=this.updateDeco(),V=findChangedDeco($,L,n.changes);return r=ChangedRange.extendWithRanges(r,V),this.dirty==0&&r.length==0?!1:(this.updateInner(r,n.startState.doc.length),n.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(n,r);let{observer:$}=this.view;$.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let V=browser.chrome||browser.ios?{node:$.selectionRange.focusNode,written:!1}:void 0;this.sync(V),this.dirty=0,V&&(V.written||$.selectionRange.focusNode!=V.node)&&(this.forceSelection=!0),this.dom.style.height=""});let L=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let V of this.children)V instanceof BlockWidgetView&&V.widget instanceof BlockGapWidget&&L.push(V.dom);$.updateGaps(L)}updateChildren(n,r){let $=this.childCursor(r);for(let L=n.length-1;;L--){let V=L>=0?n[L]:null;if(!V)break;let{fromA:oe,toA:ae,fromB:re,toB:le}=V,{content:ue,breakAtStart:de,openStart:he,openEnd:pe}=ContentBuilder.build(this.view.state.doc,re,le,this.decorations,this.dynamicDecorationMap),{i:_e,off:$e}=$.findPos(ae,1),{i:xe,off:Oe}=$.findPos(oe,-1);replaceRange(this,xe,Oe,_e,$e,ue,de,he,pe)}}updateSelection(n=!1,r=!1){if((n||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!(r||this.mayControlSelection()))return;let $=this.forceSelection;this.forceSelection=!1;let L=this.view.state.selection.main,V=this.domAtPos(L.anchor),oe=L.empty?V:this.domAtPos(L.head);if(browser.gecko&&L.empty&&betweenUneditable(V)){let re=document.createTextNode("");this.view.observer.ignore(()=>V.node.insertBefore(re,V.node.childNodes[V.offset]||null)),V=oe=new DOMPos(re,0),$=!0}let ae=this.view.observer.selectionRange;($||!ae.focusNode||!isEquivalentPosition(V.node,V.offset,ae.anchorNode,ae.anchorOffset)||!isEquivalentPosition(oe.node,oe.offset,ae.focusNode,ae.focusOffset))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(ae.focusNode)&&inUneditable(ae.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let re=getSelection(this.view.root);if(re)if(L.empty){if(browser.gecko){let le=nextToUneditable(V.node,V.offset);if(le&&le!=3){let ue=nearbyTextNode(V.node,V.offset,le==1?1:-1);ue&&(V=new DOMPos(ue,le==1?0:ue.nodeValue.length))}}re.collapse(V.node,V.offset),L.bidiLevel!=null&&ae.cursorBidiLevel!=null&&(ae.cursorBidiLevel=L.bidiLevel)}else if(re.extend){re.collapse(V.node,V.offset);try{re.extend(oe.node,oe.offset)}catch{}}else{let le=document.createRange();L.anchor>L.head&&([V,oe]=[oe,V]),le.setEnd(oe.node,oe.offset),le.setStart(V.node,V.offset),re.removeAllRanges(),re.addRange(le)}}),this.view.observer.setSelectionRange(V,oe)),this.impreciseAnchor=V.precise?null:new DOMPos(ae.anchorNode,ae.anchorOffset),this.impreciseHead=oe.precise?null:new DOMPos(ae.focusNode,ae.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:n}=this,r=n.state.selection.main,$=getSelection(n.root),{anchorNode:L,anchorOffset:V}=n.observer.selectionRange;if(!$||!r.empty||!r.assoc||!$.modify)return;let oe=LineView$2.find(this,r.head);if(!oe)return;let ae=oe.posAtStart;if(r.head==ae||r.head==ae+oe.length)return;let re=this.coordsAt(r.head,-1),le=this.coordsAt(r.head,1);if(!re||!le||re.bottom>le.top)return;let ue=this.domAtPos(r.head+r.assoc);$.collapse(ue.node,ue.offset),$.modify("move",r.assoc<0?"forward":"backward","lineboundary"),n.observer.readSelectionRange();let de=n.observer.selectionRange;n.docView.posFromDOM(de.anchorNode,de.anchorOffset)!=r.from&&$.collapse(L,V)}mayControlSelection(){let n=this.view.root.activeElement;return n==this.dom||hasSelection(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n))}nearest(n){for(let r=n;r;){let $=ContentView.get(r);if($&&$.rootView==this)return $;r=r.parentNode}return null}posFromDOM(n,r){let $=this.nearest(n);if(!$)throw new RangeError("Trying to find position for a DOM position outside of the document");return $.localPosFromDOM(n,r)+$.posAtStart}domAtPos(n){let{i:r,off:$}=this.childCursor().findPos(n,-1);for(;r<this.children.length-1;){let L=this.children[r];if($<L.length||L instanceof LineView$2)break;r++,$=0}return this.children[r].domAtPos($)}coordsAt(n,r){for(let $=this.length,L=this.children.length-1;;L--){let V=this.children[L],oe=$-V.breakAfter-V.length;if(n>oe||n==oe&&V.type!=BlockType.WidgetBefore&&V.type!=BlockType.WidgetAfter&&(!L||r==2||this.children[L-1].breakAfter||this.children[L-1].type==BlockType.WidgetBefore&&r>-2))return V.coordsAt(n-oe,r);$=oe}}measureVisibleLineHeights(n){let r=[],{from:$,to:L}=n,V=this.view.contentDOM.clientWidth,oe=V>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,ae=-1,re=this.view.textDirection==Direction.LTR;for(let le=0,ue=0;ue<this.children.length;ue++){let de=this.children[ue],he=le+de.length;if(he>L)break;if(le>=$){let pe=de.dom.getBoundingClientRect();if(r.push(pe.height),oe){let _e=de.dom.lastChild,$e=_e?clientRectsFor(_e):[];if($e.length){let xe=$e[$e.length-1],Oe=re?xe.right-pe.left:pe.right-xe.left;Oe>ae&&(ae=Oe,this.minWidth=V,this.minWidthFrom=le,this.minWidthTo=he)}}}le=he+de.breakAfter}return r}textDirectionAt(n){let{i:r}=this.childPos(n,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let L of this.children)if(L instanceof LineView$2){let V=L.measureTextSize();if(V)return V}let n=document.createElement("div"),r,$;return n.className="cm-line",n.style.width="99999px",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(n);let L=clientRectsFor(n.firstChild)[0];r=n.getBoundingClientRect().height,$=L?L.width/27:7,n.remove()}),{lineHeight:r,charWidth:$}}childCursor(n=this.length){let r=this.children.length;return r&&(n-=this.children[--r].length),new ChildCursor(this.children,n,r)}computeBlockGapDeco(){let n=[],r=this.view.viewState;for(let $=0,L=0;;L++){let V=L==r.viewports.length?null:r.viewports[L],oe=V?V.from-1:this.length;if(oe>$){let ae=r.lineBlockAt(oe).bottom-r.lineBlockAt($).top;n.push(Decoration.replace({widget:new BlockGapWidget(ae),block:!0,inclusive:!0,isBlockGap:!0}).range($,oe))}if(!V)break;$=V.to+1}return Decoration.set(n)}updateDeco(){let n=this.view.state.facet(decorations).map((r,$)=>(this.dynamicDecorationMap[$]=typeof r=="function")?r(this.view):r);for(let r=n.length;r<n.length+3;r++)this.dynamicDecorationMap[r]=!1;return this.decorations=[...n,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(n){let{range:r}=n,$=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),L;if(!$)return;!r.empty&&(L=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&($={left:Math.min($.left,L.left),top:Math.min($.top,L.top),right:Math.max($.right,L.right),bottom:Math.max($.bottom,L.bottom)});let V=0,oe=0,ae=0,re=0;for(let ue of this.view.state.facet(scrollMargins).map(de=>de(this.view)))if(ue){let{left:de,right:he,top:pe,bottom:_e}=ue;de!=null&&(V=Math.max(V,de)),he!=null&&(oe=Math.max(oe,he)),pe!=null&&(ae=Math.max(ae,pe)),_e!=null&&(re=Math.max(re,_e))}let le={left:$.left-V,top:$.top-ae,right:$.right+oe,bottom:$.bottom+re};scrollRectIntoView(this.view.scrollDOM,le,r.head<r.anchor?-1:1,n.x,n.y,n.xMargin,n.yMargin,this.view.textDirection==Direction.LTR)}}function betweenUneditable(g){return g.node.nodeType==1&&g.node.firstChild&&(g.offset==0||g.node.childNodes[g.offset-1].contentEditable=="false")&&(g.offset==g.node.childNodes.length||g.node.childNodes[g.offset].contentEditable=="false")}class BlockGapWidget extends WidgetType{constructor(n){super(),this.height=n}toDOM(){let n=document.createElement("div");return this.updateDOM(n),n}eq(n){return n.height==this.height}updateDOM(n){return n.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function compositionSurroundingNode(g){let n=g.observer.selectionRange,r=n.focusNode&&nearbyTextNode(n.focusNode,n.focusOffset,0);if(!r)return null;let $=g.docView.nearest(r);if(!$)return null;if($ instanceof LineView$2){let L=r;for(;L.parentNode!=$.dom;)L=L.parentNode;let V=L.previousSibling;for(;V&&!ContentView.get(V);)V=V.previousSibling;let oe=V?ContentView.get(V).posAtEnd:$.posAtStart;return{from:oe,to:oe,node:L,text:r}}else{for(;;){let{parent:V}=$;if(!V)return null;if(V instanceof LineView$2)break;$=V}let L=$.posAtStart;return{from:L,to:L+$.length,node:$.dom,text:r}}}function computeCompositionDeco(g,n){let r=compositionSurroundingNode(g);if(!r)return Decoration.none;let{from:$,to:L,node:V,text:oe}=r,ae=n.mapPos($,1),re=Math.max(ae,n.mapPos(L,-1)),{state:le}=g,ue=V.nodeType==3?V.nodeValue:new DOMReader([],le).readRange(V.firstChild,null).text;if(re-ae<ue.length)if(le.doc.sliceString(ae,Math.min(le.doc.length,ae+ue.length),LineBreakPlaceholder)==ue)re=ae+ue.length;else if(le.doc.sliceString(Math.max(0,re-ue.length),re,LineBreakPlaceholder)==ue)ae=re-ue.length;else return Decoration.none;else if(le.doc.sliceString(ae,re,LineBreakPlaceholder)!=ue)return Decoration.none;let de=ContentView.get(V);return de instanceof CompositionView?de=de.widget.topView:de&&(de.parent=null),Decoration.set(Decoration.replace({widget:new CompositionWidget(V,oe,de),inclusive:!0}).range(ae,re))}class CompositionWidget extends WidgetType{constructor(n,r,$){super(),this.top=n,this.text=r,this.topView=$}eq(n){return this.top==n.top&&this.text==n.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return CompositionView}}function nearbyTextNode(g,n,r){for(;;){if(g.nodeType==3)return g;if(g.nodeType==1&&n>0&&r<=0)g=g.childNodes[n-1],n=maxOffset(g);else if(g.nodeType==1&&n<g.childNodes.length&&r>=0)g=g.childNodes[n],n=0;else return null}}function nextToUneditable(g,n){return g.nodeType!=1?0:(n&&g.childNodes[n-1].contentEditable=="false"?1:0)|(n<g.childNodes.length&&g.childNodes[n].contentEditable=="false"?2:0)}class DecorationComparator$1{constructor(){this.changes=[]}compareRange(n,r){addRange(n,r,this.changes)}comparePoint(n,r){addRange(n,r,this.changes)}}function findChangedDeco(g,n,r){let $=new DecorationComparator$1;return RangeSet.compare(g,n,r,$),$.changes}function inUneditable(g,n){for(let r=g;r&&r!=n;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function groupAt(g,n,r=1){let $=g.charCategorizer(n),L=g.doc.lineAt(n),V=n-L.from;if(L.length==0)return EditorSelection.cursor(n);V==0?r=1:V==L.length&&(r=-1);let oe=V,ae=V;r<0?oe=findClusterBreak(L.text,V,!1):ae=findClusterBreak(L.text,V);let re=$(L.text.slice(oe,ae));for(;oe>0;){let le=findClusterBreak(L.text,oe,!1);if($(L.text.slice(le,oe))!=re)break;oe=le}for(;ae<L.length;){let le=findClusterBreak(L.text,ae);if($(L.text.slice(ae,le))!=re)break;ae=le}return EditorSelection.range(oe+L.from,ae+L.from)}function getdx(g,n){return n.left>g?n.left-g:Math.max(0,g-n.right)}function getdy(g,n){return n.top>g?n.top-g:Math.max(0,g-n.bottom)}function yOverlap(g,n){return g.top<n.bottom-1&&g.bottom>n.top+1}function upTop(g,n){return n<g.top?{top:n,left:g.left,right:g.right,bottom:g.bottom}:g}function upBot(g,n){return n>g.bottom?{top:g.top,left:g.left,right:g.right,bottom:n}:g}function domPosAtCoords(g,n,r){let $,L,V,oe,ae=!1,re,le,ue,de;for(let _e=g.firstChild;_e;_e=_e.nextSibling){let $e=clientRectsFor(_e);for(let xe=0;xe<$e.length;xe++){let Oe=$e[xe];L&&yOverlap(L,Oe)&&(Oe=upTop(upBot(Oe,L.bottom),L.top));let Ce=getdx(n,Oe),Ie=getdy(r,Oe);if(Ce==0&&Ie==0)return _e.nodeType==3?domPosInText(_e,n,r):domPosAtCoords(_e,n,r);(!$||oe>Ie||oe==Ie&&V>Ce)&&($=_e,L=Oe,V=Ce,oe=Ie,ae=!Ce||(Ce>0?xe<$e.length-1:xe>0)),Ce==0?r>Oe.bottom&&(!ue||ue.bottom<Oe.bottom)?(re=_e,ue=Oe):r<Oe.top&&(!de||de.top>Oe.top)&&(le=_e,de=Oe):ue&&yOverlap(ue,Oe)?ue=upBot(ue,Oe.bottom):de&&yOverlap(de,Oe)&&(de=upTop(de,Oe.top))}}if(ue&&ue.bottom>=r?($=re,L=ue):de&&de.top<=r&&($=le,L=de),!$)return{node:g,offset:0};let he=Math.max(L.left,Math.min(L.right,n));if($.nodeType==3)return domPosInText($,he,r);if(ae&&$.contentEditable!="false")return domPosAtCoords($,he,r);let pe=Array.prototype.indexOf.call(g.childNodes,$)+(n>=(L.left+L.right)/2?1:0);return{node:g,offset:pe}}function domPosInText(g,n,r){let $=g.nodeValue.length,L=-1,V=1e9,oe=0;for(let ae=0;ae<$;ae++){let re=textRange(g,ae,ae+1).getClientRects();for(let le=0;le<re.length;le++){let ue=re[le];if(ue.top==ue.bottom)continue;oe||(oe=n-ue.left);let de=(ue.top>r?ue.top-r:r-ue.bottom)-1;if(ue.left-1<=n&&ue.right+1>=n&&de<V){let he=n>=(ue.left+ue.right)/2,pe=he;if((browser.chrome||browser.gecko)&&textRange(g,ae).getBoundingClientRect().left==ue.right&&(pe=!he),de<=0)return{node:g,offset:ae+(pe?1:0)};L=ae+(pe?1:0),V=de}}}return{node:g,offset:L>-1?L:oe>0?g.nodeValue.length:0}}function posAtCoords(g,{x:n,y:r},$,L=-1){var V;let oe=g.contentDOM.getBoundingClientRect(),ae=oe.top+g.viewState.paddingTop,re,{docHeight:le}=g.viewState,ue=r-ae;if(ue<0)return 0;if(ue>le)return g.state.doc.length;for(let Oe=g.defaultLineHeight/2,Ce=!1;re=g.elementAtHeight(ue),re.type!=BlockType.Text;)for(;ue=L>0?re.bottom+Oe:re.top-Oe,!(ue>=0&&ue<=le);){if(Ce)return $?null:0;Ce=!0,L=-L}r=ae+ue;let de=re.from;if(de<g.viewport.from)return g.viewport.from==0?0:$?null:posAtCoordsImprecise(g,oe,re,n,r);if(de>g.viewport.to)return g.viewport.to==g.state.doc.length?g.state.doc.length:$?null:posAtCoordsImprecise(g,oe,re,n,r);let he=g.dom.ownerDocument,pe=g.root.elementFromPoint?g.root:he,_e=pe.elementFromPoint(n,r);_e&&!g.contentDOM.contains(_e)&&(_e=null),_e||(n=Math.max(oe.left+1,Math.min(oe.right-1,n)),_e=pe.elementFromPoint(n,r),_e&&!g.contentDOM.contains(_e)&&(_e=null));let $e,xe=-1;if(_e&&((V=g.docView.nearest(_e))===null||V===void 0?void 0:V.isEditable)!=!1){if(he.caretPositionFromPoint){let Oe=he.caretPositionFromPoint(n,r);Oe&&({offsetNode:$e,offset:xe}=Oe)}else if(he.caretRangeFromPoint){let Oe=he.caretRangeFromPoint(n,r);Oe&&({startContainer:$e,startOffset:xe}=Oe,(!g.contentDOM.contains($e)||browser.safari&&isSuspiciousSafariCaretResult($e,xe,n)||browser.chrome&&isSuspiciousChromeCaretResult($e,xe,n))&&($e=void 0))}}if(!$e||!g.docView.dom.contains($e)){let Oe=LineView$2.find(g.docView,de);if(!Oe)return ue>re.top+re.height/2?re.to:re.from;({node:$e,offset:xe}=domPosAtCoords(Oe.dom,n,r))}return g.docView.posFromDOM($e,xe)}function posAtCoordsImprecise(g,n,r,$,L){let V=Math.round(($-n.left)*g.defaultCharacterWidth);if(g.lineWrapping&&r.height>g.defaultLineHeight*1.5){let ae=Math.floor((L-r.top)/g.defaultLineHeight);V+=ae*g.viewState.heightOracle.lineLength}let oe=g.state.sliceDoc(r.from,r.to);return r.from+findColumn(oe,V,g.state.tabSize)}function isSuspiciousSafariCaretResult(g,n,r){let $;if(g.nodeType!=3||n!=($=g.nodeValue.length))return!1;for(let L=g.nextSibling;L;L=L.nextSibling)if(L.nodeType!=1||L.nodeName!="BR")return!1;return textRange(g,$-1,$).getBoundingClientRect().left>r}function isSuspiciousChromeCaretResult(g,n,r){if(n!=0)return!1;for(let L=g;;){let V=L.parentNode;if(!V||V.nodeType!=1||V.firstChild!=L)return!1;if(V.classList.contains("cm-line"))break;L=V}let $=g.nodeType==1?g.getBoundingClientRect():textRange(g,0,Math.max(g.nodeValue.length,1)).getBoundingClientRect();return r-$.left>5}function moveToLineBoundary(g,n,r,$){let L=g.state.doc.lineAt(n.head),V=!$||!g.lineWrapping?null:g.coordsAtPos(n.assoc<0&&n.head>L.from?n.head-1:n.head);if(V){let re=g.dom.getBoundingClientRect(),le=g.textDirectionAt(L.from),ue=g.posAtCoords({x:r==(le==Direction.LTR)?re.right-1:re.left+1,y:(V.top+V.bottom)/2});if(ue!=null)return EditorSelection.cursor(ue,r?-1:1)}let oe=LineView$2.find(g.docView,n.head),ae=oe?r?oe.posAtEnd:oe.posAtStart:r?L.to:L.from;return EditorSelection.cursor(ae,r?-1:1)}function moveByChar(g,n,r,$){let L=g.state.doc.lineAt(n.head),V=g.bidiSpans(L),oe=g.textDirectionAt(L.from);for(let ae=n,re=null;;){let le=moveVisually(L,V,oe,ae,r),ue=movedOver;if(!le){if(L.number==(r?g.state.doc.lines:1))return ae;ue=`
`,L=g.state.doc.line(L.number+(r?1:-1)),V=g.bidiSpans(L),le=EditorSelection.cursor(r?L.from:L.to)}if(re){if(!re(ue))return ae}else{if(!$)return le;re=$(ue)}ae=le}}function byGroup(g,n,r){let $=g.state.charCategorizer(n),L=$(r);return V=>{let oe=$(V);return L==CharCategory.Space&&(L=oe),L==oe}}function moveVertically(g,n,r,$){let L=n.head,V=r?1:-1;if(L==(r?g.state.doc.length:0))return EditorSelection.cursor(L,n.assoc);let oe=n.goalColumn,ae,re=g.contentDOM.getBoundingClientRect(),le=g.coordsAtPos(L),ue=g.documentTop;if(le)oe==null&&(oe=le.left-re.left),ae=V<0?le.top:le.bottom;else{let pe=g.viewState.lineBlockAt(L);oe==null&&(oe=Math.min(re.right-re.left,g.defaultCharacterWidth*(L-pe.from))),ae=(V<0?pe.top:pe.bottom)+ue}let de=re.left+oe,he=$!=null?$:g.defaultLineHeight>>1;for(let pe=0;;pe+=10){let _e=ae+(he+pe)*V,$e=posAtCoords(g,{x:de,y:_e},!1,V);if(_e<re.top||_e>re.bottom||(V<0?$e<L:$e>L))return EditorSelection.cursor($e,n.assoc,void 0,oe)}}function skipAtoms(g,n,r){let $=g.state.facet(atomicRanges).map(L=>L(g));for(;;){let L=!1;for(let V of $)V.between(r.from-1,r.from+1,(oe,ae,re)=>{r.from>oe&&r.from<ae&&(r=n.head>r.from?EditorSelection.cursor(oe,1):EditorSelection.cursor(ae,-1),L=!0)});if(!L)return r}}class InputState{constructor(n){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;let r=($,L)=>{this.ignoreDuringComposition(L)||L.type=="keydown"&&this.keydown(n,L)||(this.mustFlushObserver(L)&&n.observer.forceFlush(),this.runCustomHandlers(L.type,n,L)?L.preventDefault():$(n,L))};for(let $ in handlers$2){let L=handlers$2[$];n.contentDOM.addEventListener($,V=>{eventBelongsToEditor(n,V)&&r(L,V)},handlerOptions[$]),this.registeredEvents.push($)}n.scrollDOM.addEventListener("mousedown",$=>{$.target==n.scrollDOM&&r(handlers$2.mousedown,$)}),browser.chrome&&browser.chrome_version==102&&n.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?n.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,n.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=n.hasFocus,browser.safari&&n.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(n){this.lastSelectionOrigin=n,this.lastSelectionTime=Date.now()}ensureHandlers(n,r){var $;let L;this.customHandlers=[];for(let V of r)if(L=($=V.update(n).spec)===null||$===void 0?void 0:$.domEventHandlers){this.customHandlers.push({plugin:V.value,handlers:L});for(let oe in L)this.registeredEvents.indexOf(oe)<0&&oe!="scroll"&&(this.registeredEvents.push(oe),n.contentDOM.addEventListener(oe,ae=>{!eventBelongsToEditor(n,ae)||this.runCustomHandlers(oe,n,ae)&&ae.preventDefault()}))}}runCustomHandlers(n,r,$){for(let L of this.customHandlers){let V=L.handlers[n];if(V)try{if(V.call(L.plugin,$,r)||$.defaultPrevented)return!0}catch(oe){logException(r.state,oe)}}return!1}runScrollHandlers(n,r){this.lastScrollTop=n.scrollDOM.scrollTop,this.lastScrollLeft=n.scrollDOM.scrollLeft;for(let $ of this.customHandlers){let L=$.handlers.scroll;if(L)try{L.call($.plugin,r,n)}catch(V){logException(n.state,V)}}}keydown(n,r){if(this.lastKeyCode=r.keyCode,this.lastKeyTime=Date.now(),r.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(browser.android&&browser.chrome&&!r.synthetic&&(r.keyCode==13||r.keyCode==8))return n.observer.delayAndroidKey(r.key,r.keyCode),!0;let $;return browser.ios&&!r.synthetic&&!r.altKey&&!r.metaKey&&(($=PendingKeys.find(L=>L.keyCode==r.keyCode))&&!r.ctrlKey||EmacsyPendingKeys.indexOf(r.key)>-1&&r.ctrlKey&&!r.shiftKey)?(this.pendingIOSKey=$||r,setTimeout(()=>this.flushIOSKey(n),250),!0):!1}flushIOSKey(n){let r=this.pendingIOSKey;return r?(this.pendingIOSKey=void 0,dispatchKey(n.contentDOM,r.key,r.keyCode)):!1}ignoreDuringComposition(n){return/^key/.test(n.type)?this.composing>0?!0:browser.safari&&!browser.ios&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(n){return n.type=="keydown"&&n.keyCode!=229}startMouseSelection(n){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=n}update(n){this.mouseSelection&&this.mouseSelection.update(n),n.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225];function dragScrollSpeed(g){return g*.7+8}class MouseSelection{constructor(n,r,$,L){this.view=n,this.style=$,this.mustSelect=L,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParent=scrollableParent(n.contentDOM);let V=n.contentDOM.ownerDocument;V.addEventListener("mousemove",this.move=this.move.bind(this)),V.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=n.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(n,r),this.dragMove=dragMovesSelection(n,r),this.dragging=isInPrimarySelection(n,r)&&getClickType(r)==1?null:!1,this.dragging===!1&&(r.preventDefault(),this.select(r))}move(n){var r;if(n.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=n);let $=0,L=0,V=((r=this.scrollParent)===null||r===void 0?void 0:r.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};n.clientX<=V.left?$=-dragScrollSpeed(V.left-n.clientX):n.clientX>=V.right&&($=dragScrollSpeed(n.clientX-V.right)),n.clientY<=V.top?L=-dragScrollSpeed(V.top-n.clientY):n.clientY>=V.bottom&&(L=dragScrollSpeed(n.clientY-V.bottom)),this.setScrollSpeed($,L)}up(n){this.dragging==null&&this.select(this.lastEvent),this.dragging||n.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let n=this.view.contentDOM.ownerDocument;n.removeEventListener("mousemove",this.move),n.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(n,r){this.scrollSpeed={x:n,y:r},n||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}select(n){let r=this.style.get(n,this.extend,this.multiple);(this.mustSelect||!r.eq(this.view.state.selection)||r.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(n){n.docChanged&&this.dragging&&(this.dragging=this.dragging.map(n.changes)),this.style.update(n)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(g,n){let r=g.state.facet(clickAddsSelectionRange);return r.length?r[0](n):browser.mac?n.metaKey:n.ctrlKey}function dragMovesSelection(g,n){let r=g.state.facet(dragMovesSelection$1);return r.length?r[0](n):browser.mac?!n.altKey:!n.ctrlKey}function isInPrimarySelection(g,n){let{main:r}=g.state.selection;if(r.empty)return!1;let $=getSelection(g.root);if(!$||$.rangeCount==0)return!0;let L=$.getRangeAt(0).getClientRects();for(let V=0;V<L.length;V++){let oe=L[V];if(oe.left<=n.clientX&&oe.right>=n.clientX&&oe.top<=n.clientY&&oe.bottom>=n.clientY)return!0}return!1}function eventBelongsToEditor(g,n){if(!n.bubbles)return!0;if(n.defaultPrevented)return!1;for(let r=n.target,$;r!=g.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||($=ContentView.get(r))&&$.ignoreEvent(n))return!1;return!0}const handlers$2=Object.create(null),handlerOptions=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(g){let n=g.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{g.focus(),r.remove(),doPaste(g,r.value)},50)}function doPaste(g,n){let{state:r}=g,$,L=1,V=r.toText(n),oe=V.lines==r.selection.ranges.length;if(lastLinewiseCopy!=null&&r.selection.ranges.every(ae=>ae.empty)&&lastLinewiseCopy==V.toString()){let ae=-1;$=r.changeByRange(re=>{let le=r.doc.lineAt(re.from);if(le.from==ae)return{range:re};ae=le.from;let ue=r.toText((oe?V.line(L++).text:n)+r.lineBreak);return{changes:{from:le.from,insert:ue},range:EditorSelection.cursor(re.from+ue.length)}})}else oe?$=r.changeByRange(ae=>{let re=V.line(L++);return{changes:{from:ae.from,to:ae.to,insert:re.text},range:EditorSelection.cursor(ae.from+re.length)}}):$=r.replaceSelection(V);g.dispatch($,{userEvent:"input.paste",scrollIntoView:!0})}handlers$2.keydown=(g,n)=>{g.inputState.setSelectionOrigin("select"),n.keyCode==27?g.inputState.lastEscPress=Date.now():modifierCodes.indexOf(n.keyCode)<0&&(g.inputState.lastEscPress=0)},handlers$2.touchstart=(g,n)=>{g.inputState.lastTouchTime=Date.now(),g.inputState.setSelectionOrigin("select.pointer")},handlers$2.touchmove=g=>{g.inputState.setSelectionOrigin("select.pointer")},handlerOptions.touchstart=handlerOptions.touchmove={passive:!0},handlers$2.mousedown=(g,n)=>{if(g.observer.flush(),g.inputState.lastTouchTime>Date.now()-2e3)return;let r=null;for(let $ of g.state.facet(mouseSelectionStyle))if(r=$(g,n),r)break;if(!r&&n.button==0&&(r=basicMouseSelection(g,n)),r){let $=g.root.activeElement!=g.contentDOM;$&&g.observer.ignore(()=>focusPreventScroll(g.contentDOM)),g.inputState.startMouseSelection(new MouseSelection(g,n,r,$))}};function rangeForClick(g,n,r,$){if($==1)return EditorSelection.cursor(n,r);if($==2)return groupAt(g.state,n,r);{let L=LineView$2.find(g.docView,n),V=g.state.doc.lineAt(L?L.posAtEnd:n),oe=L?L.posAtStart:V.from,ae=L?L.posAtEnd:V.to;return ae<g.state.doc.length&&ae==V.to&&ae++,EditorSelection.range(oe,ae)}}let insideY=(g,n)=>g>=n.top&&g<=n.bottom,inside=(g,n,r)=>insideY(n,r)&&g>=r.left&&g<=r.right;function findPositionSide(g,n,r,$){let L=LineView$2.find(g.docView,n);if(!L)return 1;let V=n-L.posAtStart;if(V==0)return 1;if(V==L.length)return-1;let oe=L.coordsAt(V,-1);if(oe&&inside(r,$,oe))return-1;let ae=L.coordsAt(V,1);return ae&&inside(r,$,ae)?1:oe&&insideY($,oe)?-1:1}function queryPos(g,n){let r=g.posAtCoords({x:n.clientX,y:n.clientY},!1);return{pos:r,bias:findPositionSide(g,r,n.clientX,n.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(g){if(!BadMouseDetail)return g.detail;let n=lastMouseDown,r=lastMouseDownTime;return lastMouseDown=g,lastMouseDownTime=Date.now(),lastMouseDownCount=!n||r>Date.now()-400&&Math.abs(n.clientX-g.clientX)<2&&Math.abs(n.clientY-g.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(g,n){let r=queryPos(g,n),$=getClickType(n),L=g.state.selection;return{update(V){V.docChanged&&(r.pos=V.changes.mapPos(r.pos),L=L.map(V.changes))},get(V,oe,ae){let re=queryPos(g,V),le=rangeForClick(g,re.pos,re.bias,$);if(r.pos!=re.pos&&!oe){let ue=rangeForClick(g,r.pos,r.bias,$),de=Math.min(ue.from,le.from),he=Math.max(ue.to,le.to);le=de<le.from?EditorSelection.range(de,he):EditorSelection.range(he,de)}return oe?L.replaceRange(L.main.extend(le.from,le.to)):ae&&L.ranges.length>1&&L.ranges.some(ue=>ue.eq(le))?removeRange(L,le):ae?L.addRange(le):EditorSelection.create([le])}}}function removeRange(g,n){for(let r=0;;r++)if(g.ranges[r].eq(n))return EditorSelection.create(g.ranges.slice(0,r).concat(g.ranges.slice(r+1)),g.mainIndex==r?0:g.mainIndex-(g.mainIndex>r?1:0))}handlers$2.dragstart=(g,n)=>{let{selection:{main:r}}=g.state,{mouseSelection:$}=g.inputState;$&&($.dragging=r),n.dataTransfer&&(n.dataTransfer.setData("Text",g.state.sliceDoc(r.from,r.to)),n.dataTransfer.effectAllowed="copyMove")};function dropText(g,n,r,$){if(!r)return;let L=g.posAtCoords({x:n.clientX,y:n.clientY},!1);n.preventDefault();let{mouseSelection:V}=g.inputState,oe=$&&V&&V.dragging&&V.dragMove?{from:V.dragging.from,to:V.dragging.to}:null,ae={from:L,insert:r},re=g.state.changes(oe?[oe,ae]:ae);g.focus(),g.dispatch({changes:re,selection:{anchor:re.mapPos(L,-1),head:re.mapPos(L,1)},userEvent:oe?"move.drop":"input.drop"})}handlers$2.drop=(g,n)=>{if(!n.dataTransfer)return;if(g.state.readOnly)return n.preventDefault();let r=n.dataTransfer.files;if(r&&r.length){n.preventDefault();let $=Array(r.length),L=0,V=()=>{++L==r.length&&dropText(g,n,$.filter(oe=>oe!=null).join(g.state.lineBreak),!1)};for(let oe=0;oe<r.length;oe++){let ae=new FileReader;ae.onerror=V,ae.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(ae.result)||($[oe]=ae.result),V()},ae.readAsText(r[oe])}}else dropText(g,n,n.dataTransfer.getData("Text"),!0)},handlers$2.paste=(g,n)=>{if(g.state.readOnly)return n.preventDefault();g.observer.flush();let r=brokenClipboardAPI?null:n.clipboardData;r?(doPaste(g,r.getData("text/plain")),n.preventDefault()):capturePaste(g)};function captureCopy(g,n){let r=g.dom.parentNode;if(!r)return;let $=r.appendChild(document.createElement("textarea"));$.style.cssText="position: fixed; left: -10000px; top: 10px",$.value=n,$.focus(),$.selectionEnd=n.length,$.selectionStart=0,setTimeout(()=>{$.remove(),g.focus()},50)}function copiedRange(g){let n=[],r=[],$=!1;for(let L of g.selection.ranges)L.empty||(n.push(g.sliceDoc(L.from,L.to)),r.push(L));if(!n.length){let L=-1;for(let{from:V}of g.selection.ranges){let oe=g.doc.lineAt(V);oe.number>L&&(n.push(oe.text),r.push({from:oe.from,to:Math.min(g.doc.length,oe.to+1)})),L=oe.number}$=!0}return{text:n.join(g.lineBreak),ranges:r,linewise:$}}let lastLinewiseCopy=null;handlers$2.copy=handlers$2.cut=(g,n)=>{let{text:r,ranges:$,linewise:L}=copiedRange(g.state);if(!r&&!L)return;lastLinewiseCopy=L?r:null;let V=brokenClipboardAPI?null:n.clipboardData;V?(n.preventDefault(),V.clearData(),V.setData("text/plain",r)):captureCopy(g,r),n.type=="cut"&&!g.state.readOnly&&g.dispatch({changes:$,scrollIntoView:!0,userEvent:"delete.cut"})};function updateForFocusChange(g){setTimeout(()=>{g.hasFocus!=g.inputState.notifiedFocused&&g.update([])},10)}handlers$2.focus=g=>{g.inputState.lastFocusTime=Date.now(),!g.scrollDOM.scrollTop&&(g.inputState.lastScrollTop||g.inputState.lastScrollLeft)&&(g.scrollDOM.scrollTop=g.inputState.lastScrollTop,g.scrollDOM.scrollLeft=g.inputState.lastScrollLeft),updateForFocusChange(g)},handlers$2.blur=g=>{g.observer.clearSelectionRange(),updateForFocusChange(g)},handlers$2.compositionstart=handlers$2.compositionupdate=g=>{g.inputState.compositionFirstChange==null&&(g.inputState.compositionFirstChange=!0),g.inputState.composing<0&&(g.inputState.composing=0)},handlers$2.compositionend=g=>{g.inputState.composing=-1,g.inputState.compositionEndedAt=Date.now(),g.inputState.compositionFirstChange=null,browser.chrome&&browser.android&&g.observer.flushSoon(),setTimeout(()=>{g.inputState.composing<0&&g.docView.compositionDeco.size&&g.update([])},50)},handlers$2.contextmenu=g=>{g.inputState.lastContextMenu=Date.now()},handlers$2.beforeinput=(g,n)=>{var r;let $;if(browser.chrome&&browser.android&&($=PendingKeys.find(L=>L.inputType==n.inputType))&&(g.observer.delayAndroidKey($.key,$.keyCode),$.key=="Backspace"||$.key=="Delete")){let L=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var V;(((V=window.visualViewport)===null||V===void 0?void 0:V.height)||0)>L+10&&g.hasFocus&&(g.contentDOM.blur(),g.focus())},100)}};const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];class HeightOracle{constructor(n){this.lineWrapping=n,this.doc=Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(n,r){let $=this.doc.lineAt(r).number-this.doc.lineAt(n).number+1;return this.lineWrapping&&($+=Math.ceil((r-n-$*this.lineLength*.5)/this.lineLength)),this.lineHeight*$}heightForLine(n){return this.lineWrapping?(1+Math.max(0,Math.ceil((n-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(n){return this.doc=n,this}mustRefreshForWrapping(n){return wrappingWhiteSpace.indexOf(n)>-1!=this.lineWrapping}mustRefreshForHeights(n){let r=!1;for(let $=0;$<n.length;$++){let L=n[$];L<0?$++:this.heightSamples[Math.floor(L*10)]||(r=!0,this.heightSamples[Math.floor(L*10)]=!0)}return r}refresh(n,r,$,L,V){let oe=wrappingWhiteSpace.indexOf(n)>-1,ae=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=oe;if(this.lineWrapping=oe,this.lineHeight=r,this.charWidth=$,this.lineLength=L,ae){this.heightSamples={};for(let re=0;re<V.length;re++){let le=V[re];le<0?re++:this.heightSamples[Math.floor(le*10)]=!0}}return ae}}class MeasuredHeights{constructor(n,r){this.from=n,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(n,r,$,L,V){this.from=n,this.length=r,this.top=$,this.height=L,this.type=V}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(n){let r=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(n.type)?n.type:[n]);return new BlockInfo(this.from,this.length+n.length,this.top,this.height+n.height,r)}}var QueryType$1=function(g){return g[g.ByPos=0]="ByPos",g[g.ByHeight=1]="ByHeight",g[g.ByPosNoHeight=2]="ByPosNoHeight",g}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(n,r,$=2){this.length=n,this.height=r,this.flags=$}get outdated(){return(this.flags&2)>0}set outdated(n){this.flags=(n?2:0)|this.flags&-3}setHeight(n,r){this.height!=r&&(Math.abs(this.height-r)>Epsilon&&(n.heightChanged=!0),this.height=r)}replace(n,r,$){return HeightMap.of($)}decomposeLeft(n,r){r.push(this)}decomposeRight(n,r){r.push(this)}applyChanges(n,r,$,L){let V=this;for(let oe=L.length-1;oe>=0;oe--){let{fromA:ae,toA:re,fromB:le,toB:ue}=L[oe],de=V.lineAt(ae,QueryType$1.ByPosNoHeight,r,0,0),he=de.to>=re?de:V.lineAt(re,QueryType$1.ByPosNoHeight,r,0,0);for(ue+=he.to-re,re=he.to;oe>0&&de.from<=L[oe-1].toA;)ae=L[oe-1].fromA,le=L[oe-1].fromB,oe--,ae<de.from&&(de=V.lineAt(ae,QueryType$1.ByPosNoHeight,r,0,0));le+=de.from-ae,ae=de.from;let pe=NodeBuilder.build($,n,le,ue);V=V.replace(ae,re,pe)}return V.updateHeight($,0)}static empty(){return new HeightMapText(0,0)}static of(n){if(n.length==1)return n[0];let r=0,$=n.length,L=0,V=0;for(;;)if(r==$)if(L>V*2){let ae=n[r-1];ae.break?n.splice(--r,1,ae.left,null,ae.right):n.splice(--r,1,ae.left,ae.right),$+=1+ae.break,L-=ae.size}else if(V>L*2){let ae=n[$];ae.break?n.splice($,1,ae.left,null,ae.right):n.splice($,1,ae.left,ae.right),$+=2+ae.break,V-=ae.size}else break;else if(L<V){let ae=n[r++];ae&&(L+=ae.size)}else{let ae=n[--$];ae&&(V+=ae.size)}let oe=0;return n[r-1]==null?(oe=1,r--):n[r]==null&&(oe=1,$++),new HeightMapBranch(HeightMap.of(n.slice(0,r)),oe,HeightMap.of(n.slice($)))}}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(n,r,$){super(n,r),this.type=$}blockAt(n,r,$,L){return new BlockInfo(L,this.length,$,this.height,this.type)}lineAt(n,r,$,L,V){return this.blockAt(0,$,L,V)}forEachLine(n,r,$,L,V,oe){n<=V+this.length&&r>=V&&oe(this.blockAt(0,$,L,V))}updateHeight(n,r=0,$=!1,L){return L&&L.from<=r&&L.more&&this.setHeight(n,L.heights[L.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(n,r){super(n,r,BlockType.Text),this.collapsed=0,this.widgetHeight=0}replace(n,r,$){let L=$[0];return $.length==1&&(L instanceof HeightMapText||L instanceof HeightMapGap&&L.flags&4)&&Math.abs(this.length-L.length)<10?(L instanceof HeightMapGap?L=new HeightMapText(L.length,this.height):L.height=this.height,this.outdated||(L.outdated=!1),L):HeightMap.of($)}updateHeight(n,r=0,$=!1,L){return L&&L.from<=r&&L.more?this.setHeight(n,L.heights[L.index++]):($||this.outdated)&&this.setHeight(n,Math.max(this.widgetHeight,n.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(n){super(n,0)}lines(n,r){let $=n.lineAt(r).number,L=n.lineAt(r+this.length).number;return{firstLine:$,lastLine:L,lineHeight:this.height/(L-$+1)}}blockAt(n,r,$,L){let{firstLine:V,lastLine:oe,lineHeight:ae}=this.lines(r,L),re=Math.max(0,Math.min(oe-V,Math.floor((n-$)/ae))),{from:le,length:ue}=r.line(V+re);return new BlockInfo(le,ue,$+ae*re,ae,BlockType.Text)}lineAt(n,r,$,L,V){if(r==QueryType$1.ByHeight)return this.blockAt(n,$,L,V);if(r==QueryType$1.ByPosNoHeight){let{from:de,to:he}=$.lineAt(n);return new BlockInfo(de,he-de,0,0,BlockType.Text)}let{firstLine:oe,lineHeight:ae}=this.lines($,V),{from:re,length:le,number:ue}=$.lineAt(n);return new BlockInfo(re,le,L+ae*(ue-oe),ae,BlockType.Text)}forEachLine(n,r,$,L,V,oe){let{firstLine:ae,lineHeight:re}=this.lines($,V);for(let le=Math.max(n,V),ue=Math.min(V+this.length,r);le<=ue;){let de=$.lineAt(le);le==n&&(L+=re*(de.number-ae)),oe(new BlockInfo(de.from,de.length,L,re,BlockType.Text)),L+=re,le=de.to+1}}replace(n,r,$){let L=this.length-r;if(L>0){let V=$[$.length-1];V instanceof HeightMapGap?$[$.length-1]=new HeightMapGap(V.length+L):$.push(null,new HeightMapGap(L-1))}if(n>0){let V=$[0];V instanceof HeightMapGap?$[0]=new HeightMapGap(n+V.length):$.unshift(new HeightMapGap(n-1),null)}return HeightMap.of($)}decomposeLeft(n,r){r.push(new HeightMapGap(n-1),null)}decomposeRight(n,r){r.push(null,new HeightMapGap(this.length-n-1))}updateHeight(n,r=0,$=!1,L){let V=r+this.length;if(L&&L.from<=r+this.length&&L.more){let oe=[],ae=Math.max(r,L.from),re=-1,le=n.heightChanged;for(L.from>r&&oe.push(new HeightMapGap(L.from-r-1).updateHeight(n,r));ae<=V&&L.more;){let de=n.doc.lineAt(ae).length;oe.length&&oe.push(null);let he=L.heights[L.index++];re==-1?re=he:Math.abs(he-re)>=Epsilon&&(re=-2);let pe=new HeightMapText(de,he);pe.outdated=!1,oe.push(pe),ae+=de+1}ae<=V&&oe.push(null,new HeightMapGap(V-ae).updateHeight(n,ae));let ue=HeightMap.of(oe);return n.heightChanged=le||re<0||Math.abs(ue.height-this.height)>=Epsilon||Math.abs(re-this.lines(n.doc,r).lineHeight)>=Epsilon,ue}else($||this.outdated)&&(this.setHeight(n,n.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(n,r,$){super(n.length+r+$.length,n.height+$.height,r|(n.outdated||$.outdated?2:0)),this.left=n,this.right=$,this.size=n.size+$.size}get break(){return this.flags&1}blockAt(n,r,$,L){let V=$+this.left.height;return n<V?this.left.blockAt(n,r,$,L):this.right.blockAt(n,r,V,L+this.left.length+this.break)}lineAt(n,r,$,L,V){let oe=L+this.left.height,ae=V+this.left.length+this.break,re=r==QueryType$1.ByHeight?n<oe:n<ae,le=re?this.left.lineAt(n,r,$,L,V):this.right.lineAt(n,r,$,oe,ae);if(this.break||(re?le.to<ae:le.from>ae))return le;let ue=r==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return re?le.join(this.right.lineAt(ae,ue,$,oe,ae)):this.left.lineAt(ae,ue,$,L,V).join(le)}forEachLine(n,r,$,L,V,oe){let ae=L+this.left.height,re=V+this.left.length+this.break;if(this.break)n<re&&this.left.forEachLine(n,r,$,L,V,oe),r>=re&&this.right.forEachLine(n,r,$,ae,re,oe);else{let le=this.lineAt(re,QueryType$1.ByPos,$,L,V);n<le.from&&this.left.forEachLine(n,le.from-1,$,L,V,oe),le.to>=n&&le.from<=r&&oe(le),r>le.to&&this.right.forEachLine(le.to+1,r,$,ae,re,oe)}}replace(n,r,$){let L=this.left.length+this.break;if(r<L)return this.balanced(this.left.replace(n,r,$),this.right);if(n>this.left.length)return this.balanced(this.left,this.right.replace(n-L,r-L,$));let V=[];n>0&&this.decomposeLeft(n,V);let oe=V.length;for(let ae of $)V.push(ae);if(n>0&&mergeGaps(V,oe-1),r<this.length){let ae=V.length;this.decomposeRight(r,V),mergeGaps(V,ae)}return HeightMap.of(V)}decomposeLeft(n,r){let $=this.left.length;if(n<=$)return this.left.decomposeLeft(n,r);r.push(this.left),this.break&&($++,n>=$&&r.push(null)),n>$&&this.right.decomposeLeft(n-$,r)}decomposeRight(n,r){let $=this.left.length,L=$+this.break;if(n>=L)return this.right.decomposeRight(n-L,r);n<$&&this.left.decomposeRight(n,r),this.break&&n<L&&r.push(null),r.push(this.right)}balanced(n,r){return n.size>2*r.size||r.size>2*n.size?HeightMap.of(this.break?[n,null,r]:[n,r]):(this.left=n,this.right=r,this.height=n.height+r.height,this.outdated=n.outdated||r.outdated,this.size=n.size+r.size,this.length=n.length+this.break+r.length,this)}updateHeight(n,r=0,$=!1,L){let{left:V,right:oe}=this,ae=r+V.length+this.break,re=null;return L&&L.from<=r+V.length&&L.more?re=V=V.updateHeight(n,r,$,L):V.updateHeight(n,r,$),L&&L.from<=ae+oe.length&&L.more?re=oe=oe.updateHeight(n,ae,$,L):oe.updateHeight(n,ae,$),re?this.balanced(V,oe):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(g,n){let r,$;g[n]==null&&(r=g[n-1])instanceof HeightMapGap&&($=g[n+1])instanceof HeightMapGap&&g.splice(n-1,3,new HeightMapGap(r.length+1+$.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(n,r){this.pos=n,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=n}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(n,r){if(this.lineStart>-1){let $=Math.min(r,this.lineEnd),L=this.nodes[this.nodes.length-1];L instanceof HeightMapText?L.length+=$-this.pos:($>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText($-this.pos,-1)),this.writtenTo=$,r>$&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(n,r,$){if(n<r||$.heightRelevant){let L=$.widget?$.widget.estimatedHeight:0;L<0&&(L=this.oracle.lineHeight);let V=r-n;$.block?this.addBlock(new HeightMapBlock(V,L,$.type)):(V||L>=relevantWidgetHeight)&&this.addLineDeco(L,V)}else r>n&&this.span(n,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:n,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=n,this.lineEnd=r,this.writtenTo<n&&((this.writtenTo<n-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,n-1)),this.nodes.push(null)),this.pos>n&&this.nodes.push(new HeightMapText(this.pos-n,-1)),this.writtenTo=this.pos}blankContent(n,r){let $=new HeightMapGap(r-n);return this.oracle.doc.lineAt(n).to==r&&($.flags|=4),$}ensureLine(){this.enterLine();let n=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(n instanceof HeightMapText)return n;let r=new HeightMapText(0,-1);return this.nodes.push(r),r}addBlock(n){this.enterLine(),n.type==BlockType.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(n),this.writtenTo=this.pos=this.pos+n.length,n.type!=BlockType.WidgetBefore&&(this.covering=n)}addLineDeco(n,r){let $=this.ensureLine();$.length+=r,$.collapsed+=r,$.widgetHeight=Math.max($.widgetHeight,n),this.writtenTo=this.pos=this.pos+r}finish(n){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let $=n;for(let L of this.nodes)L instanceof HeightMapText&&L.updateHeight(this.oracle,$),$+=L?L.length:1;return this.nodes}static build(n,r,$,L){let V=new NodeBuilder($,n);return RangeSet.spans(r,$,L,V,0),V.finish($)}}function heightRelevantDecoChanges(g,n,r){let $=new DecorationComparator;return RangeSet.compare(g,n,r,$,0),$.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(n,r,$,L){(n<r||$&&$.heightRelevant||L&&L.heightRelevant)&&addRange(n,r,this.changes,5)}}function visiblePixelRange(g,n){let r=g.getBoundingClientRect(),$=g.ownerDocument,L=$.defaultView||window,V=Math.max(0,r.left),oe=Math.min(L.innerWidth,r.right),ae=Math.max(0,r.top),re=Math.min(L.innerHeight,r.bottom);for(let le=g.parentNode;le&&le!=$.body;)if(le.nodeType==1){let ue=le,de=window.getComputedStyle(ue);if((ue.scrollHeight>ue.clientHeight||ue.scrollWidth>ue.clientWidth)&&de.overflow!="visible"){let he=ue.getBoundingClientRect();V=Math.max(V,he.left),oe=Math.min(oe,he.right),ae=Math.max(ae,he.top),re=le==g.parentNode?he.bottom:Math.min(re,he.bottom)}le=de.position=="absolute"||de.position=="fixed"?ue.offsetParent:ue.parentNode}else if(le.nodeType==11)le=le.host;else break;return{left:V-r.left,right:Math.max(V,oe)-r.left,top:ae-(r.top+n),bottom:Math.max(ae,re)-(r.top+n)}}function fullPixelRange(g,n){let r=g.getBoundingClientRect();return{left:0,right:r.right-r.left,top:n,bottom:r.bottom-(r.top+n)}}class LineGap{constructor(n,r,$){this.from=n,this.to=r,this.size=$}static same(n,r){if(n.length!=r.length)return!1;for(let $=0;$<n.length;$++){let L=n[$],V=r[$];if(L.from!=V.from||L.to!=V.to||L.size!=V.size)return!1}return!0}draw(n){return Decoration.replace({widget:new LineGapWidget(this.size,n)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(n,r){super(),this.size=n,this.vertical=r}eq(n){return n.size==this.size&&n.vertical==this.vertical}toDOM(){let n=document.createElement("div");return this.vertical?n.style.height=this.size+"px":(n.style.width=this.size+"px",n.style.height="2px",n.style.display="inline-block"),n}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(n){this.state=n,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=n.facet(contentAttributes).some($=>typeof $!="function"&&$.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(r),this.stateDeco=n.facet(decorations).filter($=>typeof $!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(n.doc),[new ChangedRange(0,0,0,n.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map($=>$.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let n=[this.viewport],{main:r}=this.state.selection;for(let $=0;$<=1;$++){let L=$?r.head:r.anchor;if(!n.some(({from:V,to:oe})=>L>=V&&L<=oe)){let{from:V,to:oe}=this.lineBlockAt(L);n.push(new Viewport(V,oe))}}this.viewports=n.sort(($,L)=>$.from-L.from),this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,n=>{this.viewportLines.push(this.scaler.scale==1?n:scaleBlock(n,this.scaler))})}update(n,r=null){this.state=n.state;let $=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(le=>typeof le!="function");let L=n.changedRanges,V=ChangedRange.extendWithRanges(L,heightRelevantDecoChanges($,this.stateDeco,n?n.changes:ChangeSet.empty(this.state.doc.length))),oe=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,n.startState.doc,this.heightOracle.setDoc(this.state.doc),V),this.heightMap.height!=oe&&(n.flags|=2);let ae=V.length?this.mapViewport(this.viewport,n.changes):this.viewport;(r&&(r.range.head<ae.from||r.range.head>ae.to)||!this.viewportIsAppropriate(ae))&&(ae=this.getViewport(0,r));let re=!n.changes.empty||n.flags&2||ae.from!=this.viewport.from||ae.to!=this.viewport.to;this.viewport=ae,this.updateForViewport(),re&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,n.changes))),n.flags|=this.computeVisibleRanges(),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&n.selectionSet&&n.view.lineWrapping&&n.state.selection.main.empty&&n.state.selection.main.assoc&&!n.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(n){let r=n.contentDOM,$=window.getComputedStyle(r),L=this.heightOracle,V=$.whiteSpace;this.defaultTextDirection=$.direction=="rtl"?Direction.RTL:Direction.LTR;let oe=this.heightOracle.mustRefreshForWrapping(V),ae=oe||this.mustMeasureContent||this.contentDOMHeight!=r.clientHeight;this.contentDOMHeight=r.clientHeight,this.mustMeasureContent=!1;let re=0,le=0,ue=parseInt($.paddingTop)||0,de=parseInt($.paddingBottom)||0;(this.paddingTop!=ue||this.paddingBottom!=de)&&(this.paddingTop=ue,this.paddingBottom=de,re|=10),this.editorWidth!=n.scrollDOM.clientWidth&&(L.lineWrapping&&(ae=!0),this.editorWidth=n.scrollDOM.clientWidth,re|=8);let he=(this.printing?fullPixelRange:visiblePixelRange)(r,this.paddingTop),pe=he.top-this.pixelViewport.top,_e=he.bottom-this.pixelViewport.bottom;this.pixelViewport=he;let $e=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if($e!=this.inView&&(this.inView=$e,$e&&(ae=!0)),!this.inView&&!this.scrollTarget)return 0;let xe=r.clientWidth;if((this.contentDOMWidth!=xe||this.editorHeight!=n.scrollDOM.clientHeight)&&(this.contentDOMWidth=xe,this.editorHeight=n.scrollDOM.clientHeight,re|=8),ae){let Ce=n.docView.measureVisibleLineHeights(this.viewport);if(L.mustRefreshForHeights(Ce)&&(oe=!0),oe||L.lineWrapping&&Math.abs(xe-this.contentDOMWidth)>L.charWidth){let{lineHeight:Ie,charWidth:Ne}=n.docView.measureTextSize();oe=Ie>0&&L.refresh(V,Ie,Ne,xe/Ne,Ce),oe&&(n.docView.minWidth=0,re|=8)}pe>0&&_e>0?le=Math.max(pe,_e):pe<0&&_e<0&&(le=Math.min(pe,_e)),L.heightChanged=!1;for(let Ie of this.viewports){let Ne=Ie.from==this.viewport.from?Ce:n.docView.measureVisibleLineHeights(Ie);this.heightMap=(oe?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,n.state.doc.length)]):this.heightMap).updateHeight(L,0,oe,new MeasuredHeights(Ie.from,Ne))}L.heightChanged&&(re|=2)}let Oe=!this.viewportIsAppropriate(this.viewport,le)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return Oe&&(this.viewport=this.getViewport(le,this.scrollTarget)),this.updateForViewport(),(re&2||Oe)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(oe?[]:this.lineGaps,n)),re|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,n.docView.enforceCursorAssoc()),re}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(n,r){let $=.5-Math.max(-.5,Math.min(.5,n/1e3/2)),L=this.heightMap,V=this.state.doc,{visibleTop:oe,visibleBottom:ae}=this,re=new Viewport(L.lineAt(oe-$*1e3,QueryType$1.ByHeight,V,0,0).from,L.lineAt(ae+(1-$)*1e3,QueryType$1.ByHeight,V,0,0).to);if(r){let{head:le}=r.range;if(le<re.from||le>re.to){let ue=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),de=L.lineAt(le,QueryType$1.ByPos,V,0,0),he;r.y=="center"?he=(de.top+de.bottom)/2-ue/2:r.y=="start"||r.y=="nearest"&&le<re.from?he=de.top:he=de.bottom-ue,re=new Viewport(L.lineAt(he-500,QueryType$1.ByHeight,V,0,0).from,L.lineAt(he+ue+500,QueryType$1.ByHeight,V,0,0).to)}}return re}mapViewport(n,r){let $=r.mapPos(n.from,-1),L=r.mapPos(n.to,1);return new Viewport(this.heightMap.lineAt($,QueryType$1.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(L,QueryType$1.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:n,to:r},$=0){if(!this.inView)return!0;let{top:L}=this.heightMap.lineAt(n,QueryType$1.ByPos,this.state.doc,0,0),{bottom:V}=this.heightMap.lineAt(r,QueryType$1.ByPos,this.state.doc,0,0),{visibleTop:oe,visibleBottom:ae}=this;return(n==0||L<=oe-Math.max(10,Math.min(-$,250)))&&(r==this.state.doc.length||V>=ae+Math.max(10,Math.min($,250)))&&L>oe-2e3&&V<ae+2e3}mapLineGaps(n,r){if(!n.length||r.empty)return n;let $=[];for(let L of n)r.touchesRange(L.from,L.to)||$.push(new LineGap(r.mapPos(L.from),r.mapPos(L.to),L.size));return $}ensureLineGaps(n,r){let $=this.heightOracle.lineWrapping,L=$?1e4:2e3,V=L>>1,oe=L<<1;if(this.defaultTextDirection!=Direction.LTR&&!$)return[];let ae=[],re=(le,ue,de,he)=>{if(ue-le<V)return;let pe=this.state.selection.main,_e=[pe.from];pe.empty||_e.push(pe.to);for(let xe of _e)if(xe>le&&xe<ue){re(le,xe-10,de,he),re(xe+10,ue,de,he);return}let $e=find$1(n,xe=>xe.from>=de.from&&xe.to<=de.to&&Math.abs(xe.from-le)<V&&Math.abs(xe.to-ue)<V&&!_e.some(Oe=>xe.from<Oe&&xe.to>Oe));if(!$e){if(ue<de.to&&r&&$&&r.visibleRanges.some(xe=>xe.from<=ue&&xe.to>=ue)){let xe=r.moveToLineBoundary(EditorSelection.cursor(ue),!1,!0).head;xe>le&&(ue=xe)}$e=new LineGap(le,ue,this.gapSize(de,le,ue,he))}ae.push($e)};for(let le of this.viewportLines){if(le.length<oe)continue;let ue=lineStructure(le.from,le.to,this.stateDeco);if(ue.total<oe)continue;let de=this.scrollTarget?this.scrollTarget.range.head:null,he,pe;if($){let _e=L/this.heightOracle.lineLength*this.heightOracle.lineHeight,$e,xe;if(de!=null){let Oe=findFraction(ue,de),Ce=((this.visibleBottom-this.visibleTop)/2+_e)/le.height;$e=Oe-Ce,xe=Oe+Ce}else $e=(this.visibleTop-le.top-_e)/le.height,xe=(this.visibleBottom-le.top+_e)/le.height;he=findPosition(ue,$e),pe=findPosition(ue,xe)}else{let _e=ue.total*this.heightOracle.charWidth,$e=L*this.heightOracle.charWidth,xe,Oe;if(de!=null){let Ce=findFraction(ue,de),Ie=((this.pixelViewport.right-this.pixelViewport.left)/2+$e)/_e;xe=Ce-Ie,Oe=Ce+Ie}else xe=(this.pixelViewport.left-$e)/_e,Oe=(this.pixelViewport.right+$e)/_e;he=findPosition(ue,xe),pe=findPosition(ue,Oe)}he>le.from&&re(le.from,he,le,ue),pe<le.to&&re(pe,le.to,le,ue)}return ae}gapSize(n,r,$,L){let V=findFraction(L,$)-findFraction(L,r);return this.heightOracle.lineWrapping?n.height*V:L.total*this.heightOracle.charWidth*V}updateLineGaps(n){LineGap.same(n,this.lineGaps)||(this.lineGaps=n,this.lineGapDeco=Decoration.set(n.map(r=>r.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];RangeSet.spans(n,this.viewport.from,this.viewport.to,{span(L,V){r.push({from:L,to:V})},point(){}},20);let $=r.length!=this.visibleRanges.length||this.visibleRanges.some((L,V)=>L.from!=r[V].from||L.to!=r[V].to);return this.visibleRanges=r,$?4:0}lineBlockAt(n){return n>=this.viewport.from&&n<=this.viewport.to&&this.viewportLines.find(r=>r.from<=n&&r.to>=n)||scaleBlock(this.heightMap.lineAt(n,QueryType$1.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(n){return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(n),QueryType$1.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(n){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(n),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(n,r){this.from=n,this.to=r}}function lineStructure(g,n,r){let $=[],L=g,V=0;return RangeSet.spans(r,g,n,{span(){},point(oe,ae){oe>L&&($.push({from:L,to:oe}),V+=oe-L),L=ae}},20),L<n&&($.push({from:L,to:n}),V+=n-L),{total:V,ranges:$}}function findPosition({total:g,ranges:n},r){if(r<=0)return n[0].from;if(r>=1)return n[n.length-1].to;let $=Math.floor(g*r);for(let L=0;;L++){let{from:V,to:oe}=n[L],ae=oe-V;if($<=ae)return V+$;$-=ae}}function findFraction(g,n){let r=0;for(let{from:$,to:L}of g.ranges){if(n<=L){r+=n-$;break}r+=L-$}return r/g.total}function find$1(g,n){for(let r of g)if(n(r))return r}const IdScaler={toDOM(g){return g},fromDOM(g){return g},scale:1};class BigScaler{constructor(n,r,$){let L=0,V=0,oe=0;this.viewports=$.map(({from:ae,to:re})=>{let le=r.lineAt(ae,QueryType$1.ByPos,n,0,0).top,ue=r.lineAt(re,QueryType$1.ByPos,n,0,0).bottom;return L+=ue-le,{from:ae,to:re,top:le,bottom:ue,domTop:0,domBottom:0}}),this.scale=(7e6-L)/(r.height-L);for(let ae of this.viewports)ae.domTop=oe+(ae.top-V)*this.scale,oe=ae.domBottom=ae.domTop+(ae.bottom-ae.top),V=ae.bottom}toDOM(n){for(let r=0,$=0,L=0;;r++){let V=r<this.viewports.length?this.viewports[r]:null;if(!V||n<V.top)return L+(n-$)*this.scale;if(n<=V.bottom)return V.domTop+(n-V.top);$=V.bottom,L=V.domBottom}}fromDOM(n){for(let r=0,$=0,L=0;;r++){let V=r<this.viewports.length?this.viewports[r]:null;if(!V||n<V.domTop)return $+(n-L)/this.scale;if(n<=V.domBottom)return V.top+(n-V.domTop);$=V.bottom,L=V.domBottom}}}function scaleBlock(g,n){if(n.scale==1)return g;let r=n.toDOM(g.top),$=n.toDOM(g.bottom);return new BlockInfo(g.from,g.length,r,$-r,Array.isArray(g.type)?g.type.map(L=>scaleBlock(L,n)):g.type)}const theme$2=Facet.define({combine:g=>g.join(" ")}),darkTheme$1=Facet.define({combine:g=>g.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(g,n,r){return new StyleModule(n,{finish($){return/&/.test($)?$.replace(/&\w*/,L=>{if(L=="&")return g;if(!r||!r[L])throw new RangeError(`Unsupported selector: ${L}`);return r[L]}):g+" "+$}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs);class DOMChange{constructor(n,r,$,L){this.typeOver=L,this.bounds=null,this.text="";let{impreciseHead:V,impreciseAnchor:oe}=n.docView;if(n.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=n.docView.domBoundsAround(r,$,0))){let ae=V||oe?[]:selectionPoints(n),re=new DOMReader(ae,n.state);re.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=re.text,this.newSel=selectionFromPoints(ae,this.bounds.from)}else{let ae=n.observer.selectionRange,re=V&&V.node==ae.focusNode&&V.offset==ae.focusOffset||!contains(n.contentDOM,ae.focusNode)?n.state.selection.main.head:n.docView.posFromDOM(ae.focusNode,ae.focusOffset),le=oe&&oe.node==ae.anchorNode&&oe.offset==ae.anchorOffset||!contains(n.contentDOM,ae.anchorNode)?n.state.selection.main.anchor:n.docView.posFromDOM(ae.anchorNode,ae.anchorOffset);this.newSel=EditorSelection.single(le,re)}}}function applyDOMChange(g,n){let r,{newSel:$}=n,L=g.state.selection.main;if(n.bounds){let{from:V,to:oe}=n.bounds,ae=L.from,re=null;(g.inputState.lastKeyCode===8&&g.inputState.lastKeyTime>Date.now()-100||browser.android&&n.text.length<oe-V)&&(ae=L.to,re="end");let le=findDiff(g.state.doc.sliceString(V,oe,LineBreakPlaceholder),n.text,ae-V,re);le&&(browser.chrome&&g.inputState.lastKeyCode==13&&le.toB==le.from+2&&n.text.slice(le.from,le.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&le.toB--,r={from:V+le.from,to:V+le.toA,insert:Text.of(n.text.slice(le.from,le.toB).split(LineBreakPlaceholder))})}else $&&(!g.hasFocus||!g.state.facet(editable)||$.main.eq(L))&&($=null);if(!r&&!$)return!1;if(!r&&n.typeOver&&!L.empty&&$&&$.main.empty?r={from:L.from,to:L.to,insert:g.state.doc.slice(L.from,L.to)}:r&&r.from>=L.from&&r.to<=L.to&&(r.from!=L.from||r.to!=L.to)&&L.to-L.from-(r.to-r.from)<=4?r={from:L.from,to:L.to,insert:g.state.doc.slice(L.from,r.from).append(r.insert).append(g.state.doc.slice(r.to,L.to))}:(browser.mac||browser.android)&&r&&r.from==r.to&&r.from==L.head-1&&/^\. ?$/.test(r.insert.toString())?($&&r.insert.length==2&&($=EditorSelection.single($.main.anchor-1,$.main.head-1)),r={from:L.from,to:L.to,insert:Text.of([" "])}):browser.chrome&&r&&r.from==r.to&&r.from==L.head&&r.insert.toString()==`
 `&&g.lineWrapping&&($&&($=EditorSelection.single($.main.anchor-1,$.main.head-1)),r={from:L.from,to:L.to,insert:Text.of([" "])}),r){let V=g.state;if(browser.ios&&g.inputState.flushIOSKey(g)||browser.android&&(r.from==L.from&&r.to==L.to&&r.insert.length==1&&r.insert.lines==2&&dispatchKey(g.contentDOM,"Enter",13)||r.from==L.from-1&&r.to==L.to&&r.insert.length==0&&dispatchKey(g.contentDOM,"Backspace",8)||r.from==L.from&&r.to==L.to+1&&r.insert.length==0&&dispatchKey(g.contentDOM,"Delete",46)))return!0;let oe=r.insert.toString();if(g.state.facet(inputHandler$1).some(le=>le(g,r.from,r.to,oe)))return!0;g.inputState.composing>=0&&g.inputState.composing++;let ae;if(r.from>=L.from&&r.to<=L.to&&r.to-r.from>=(L.to-L.from)/3&&(!$||$.main.empty&&$.main.from==r.from+r.insert.length)&&g.inputState.composing<0){let le=L.from<r.from?V.sliceDoc(L.from,r.from):"",ue=L.to>r.to?V.sliceDoc(r.to,L.to):"";ae=V.replaceSelection(g.state.toText(le+r.insert.sliceString(0,void 0,g.state.lineBreak)+ue))}else{let le=V.changes(r),ue=$&&!V.selection.main.eq($.main)&&$.main.to<=le.newLength?$.main:void 0;if(V.selection.ranges.length>1&&g.inputState.composing>=0&&r.to<=L.to&&r.to>=L.to-10){let de=g.state.sliceDoc(r.from,r.to),he=compositionSurroundingNode(g)||g.state.doc.lineAt(L.head),pe=L.to-r.to,_e=L.to-L.from;ae=V.changeByRange($e=>{if($e.from==L.from&&$e.to==L.to)return{changes:le,range:ue||$e.map(le)};let xe=$e.to-pe,Oe=xe-de.length;if($e.to-$e.from!=_e||g.state.sliceDoc(Oe,xe)!=de||he&&$e.to>=he.from&&$e.from<=he.to)return{range:$e};let Ce=V.changes({from:Oe,to:xe,insert:r.insert}),Ie=$e.to-L.to;return{changes:Ce,range:ue?EditorSelection.range(Math.max(0,ue.anchor+Ie),Math.max(0,ue.head+Ie)):$e.map(Ce)}})}else ae={changes:le,selection:ue&&V.selection.replaceRange(ue)}}let re="input.type";return g.composing&&(re+=".compose",g.inputState.compositionFirstChange&&(re+=".start",g.inputState.compositionFirstChange=!1)),g.dispatch(ae,{scrollIntoView:!0,userEvent:re}),!0}else if($&&!$.main.eq(L)){let V=!1,oe="select";return g.inputState.lastSelectionTime>Date.now()-50&&(g.inputState.lastSelectionOrigin=="select"&&(V=!0),oe=g.inputState.lastSelectionOrigin),g.dispatch({selection:$,scrollIntoView:V,userEvent:oe}),!0}else return!1}function findDiff(g,n,r,$){let L=Math.min(g.length,n.length),V=0;for(;V<L&&g.charCodeAt(V)==n.charCodeAt(V);)V++;if(V==L&&g.length==n.length)return null;let oe=g.length,ae=n.length;for(;oe>0&&ae>0&&g.charCodeAt(oe-1)==n.charCodeAt(ae-1);)oe--,ae--;if($=="end"){let re=Math.max(0,V-Math.min(oe,ae));r-=oe+re-V}if(oe<V&&g.length<n.length){let re=r<=V&&r>=oe?V-r:0;V-=re,ae=V+(ae-oe),oe=V}else if(ae<V){let re=r<=V&&r>=ae?V-r:0;V-=re,oe=V+(oe-ae),ae=V}return{from:V,toA:oe,toB:ae}}function selectionPoints(g){let n=[];if(g.root.activeElement!=g.contentDOM)return n;let{anchorNode:r,anchorOffset:$,focusNode:L,focusOffset:V}=g.observer.selectionRange;return r&&(n.push(new DOMPoint(r,$)),(L!=r||V!=$)&&n.push(new DOMPoint(L,V))),n}function selectionFromPoints(g,n){if(g.length==0)return null;let r=g[0].pos,$=g.length==2?g[1].pos:r;return r>-1&&$>-1?EditorSelection.single(r+n,$+n):null}const observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(n){this.view=n,this.active=!1,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=n.contentDOM,this.observer=new MutationObserver(r=>{for(let $ of r)this.queue.push($);(browser.ie&&browser.ie_version<=11||browser.ios&&n.composing)&&r.some($=>$.type=="childList"&&$.removedNodes.length||$.type=="characterData"&&$.oldValue.length>$.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(n.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(n.contentDOM)),this.addWindowListeners(this.win=n.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(n){this.view.inputState.runScrollHandlers(this.view,n),this.intersecting&&this.view.measure()}onScroll(n){this.intersecting&&this.flush(!1),this.onScrollChanged(n)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(n){if(this.gapIntersection&&(n.length!=this.gaps.length||this.gaps.some((r,$)=>r!=n[$]))){this.gapIntersection.disconnect();for(let r of n)this.gapIntersection.observe(r);this.gaps=n}}onSelectionChange(n){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:$}=this,L=this.selectionRange;if($.state.facet(editable)?$.root.activeElement!=this.dom:!hasSelection($.dom,L))return;let V=L.anchorNode&&$.docView.nearest(L.anchorNode);if(V&&V.ignoreEvent(n)){r||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!$.state.selection.main.empty&&L.focusNode&&isEquivalentPosition(L.focusNode,L.focusOffset,L.anchorNode,L.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:n}=this,r=browser.safari&&n.root.nodeType==11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariSelectionRangeHack(this.view)||getSelection(n.root);if(!r||this.selectionRange.eq(r))return!1;let $=hasSelection(this.dom,r);return $&&!this.selectionChanged&&n.inputState.lastFocusTime>Date.now()-200&&n.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,r)?(this.view.inputState.lastFocusTime=0,n.docView.updateSelection(),!1):(this.selectionRange.setRange(r),$&&(this.selectionChanged=!0),!0)}setSelectionRange(n,r){this.selectionRange.set(n.node,n.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let n=0,r=null;for(let $=this.dom;$;)if($.nodeType==1)!r&&n<this.scrollTargets.length&&this.scrollTargets[n]==$?n++:r||(r=this.scrollTargets.slice(0,n)),r&&r.push($),$=$.assignedSlot||$.parentNode;else if($.nodeType==11)$=$.host;else break;if(n<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,n)),r){for(let $ of this.scrollTargets)$.removeEventListener("scroll",this.onScroll);for(let $ of this.scrollTargets=r)$.addEventListener("scroll",this.onScroll)}}ignore(n){if(!this.active)return n();try{return this.stop(),n()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){!this.active||(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(n,r){var $;if(!this.delayedAndroidKey){let L=()=>{let V=this.delayedAndroidKey;V&&(this.clearDelayedAndroidKey(),!this.flush()&&V.force&&dispatchKey(this.dom,V.key,V.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(L)}(!this.delayedAndroidKey||n=="Enter")&&(this.delayedAndroidKey={key:n,keyCode:r,force:this.lastChange<Date.now()-50||!!(!(($=this.delayedAndroidKey)===null||$===void 0)&&$.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let n=this.queue;for(let V of this.observer.takeRecords())n.push(V);n.length&&(this.queue=[]);let r=-1,$=-1,L=!1;for(let V of n){let oe=this.readMutation(V);!oe||(oe.typeOver&&(L=!0),r==-1?{from:r,to:$}=oe:(r=Math.min(oe.from,r),$=Math.max(oe.to,$)))}return{from:r,to:$,typeOver:L}}readChange(){let{from:n,to:r,typeOver:$}=this.processRecords(),L=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);return n<0&&!L?null:(n>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new DOMChange(this.view,n,r,$))}flush(n=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;n&&this.readSelectionRange();let r=this.readChange();if(!r)return!1;let $=this.view.state,L=applyDOMChange(this.view,r);return this.view.state==$&&this.view.update([]),L}readMutation(n){let r=this.view.docView.nearest(n.target);if(!r||r.ignoreMutation(n))return null;if(r.markDirty(n.type=="attributes"),n.type=="attributes"&&(r.dirty|=4),n.type=="childList"){let $=findChild(r,n.previousSibling||n.target.previousSibling,-1),L=findChild(r,n.nextSibling||n.target.nextSibling,1);return{from:$?r.posAfter($):r.posAtStart,to:L?r.posBefore(L):r.posAtEnd,typeOver:!1}}else return n.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:n.target.nodeValue==n.oldValue}:null}setWindow(n){n!=this.win&&(this.removeWindowListeners(this.win),this.win=n,this.addWindowListeners(this.win))}addWindowListeners(n){n.addEventListener("resize",this.onResize),n.addEventListener("beforeprint",this.onPrint),n.addEventListener("scroll",this.onScroll),n.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(n){n.removeEventListener("scroll",this.onScroll),n.removeEventListener("resize",this.onResize),n.removeEventListener("beforeprint",this.onPrint),n.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var n,r,$,L;this.stop(),(n=this.intersection)===null||n===void 0||n.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),($=this.resizeScroll)===null||$===void 0||$.disconnect(),(L=this.resizeContent)===null||L===void 0||L.disconnect();for(let V of this.scrollTargets)V.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function findChild(g,n,r){for(;n;){let $=ContentView.get(n);if($&&$.parent==g)return $;let L=n.parentNode;n=L!=g.dom?L:r>0?n.nextSibling:n.previousSibling}return null}function safariSelectionRangeHack(g){let n=null;function r(re){re.preventDefault(),re.stopImmediatePropagation(),n=re.getTargetRanges()[0]}if(g.contentDOM.addEventListener("beforeinput",r,!0),g.dom.ownerDocument.execCommand("indent"),g.contentDOM.removeEventListener("beforeinput",r,!0),!n)return null;let $=n.startContainer,L=n.startOffset,V=n.endContainer,oe=n.endOffset,ae=g.docView.domAtPos(g.state.selection.main.anchor);return isEquivalentPosition(ae.node,ae.offset,V,oe)&&([$,L,V,oe]=[V,oe,$,L]),{anchorNode:$,anchorOffset:L,focusNode:V,focusOffset:oe}}class EditorView{constructor(n={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=n.dispatch||(r=>this.update([r])),this.dispatch=this.dispatch.bind(this),this._root=n.root||getRoot(n.parent)||document,this.viewState=new ViewState(n.state||EditorState.create(n)),this.plugins=this.state.facet(viewPlugin).map(r=>new PluginInstance(r));for(let r of this.plugins)r.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),n.parent&&n.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...n){this._dispatch(n.length==1&&n[0]instanceof Transaction?n[0]:this.state.update(...n))}update(n){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,$=!1,L,V=this.state;for(let le of n){if(le.startState!=V)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");V=le.state}if(this.destroyed){this.viewState.state=V;return}let oe=this.observer.delayedAndroidKey,ae=null;if(oe?(this.observer.clearDelayedAndroidKey(),ae=this.observer.readChange(),(ae&&!this.state.doc.eq(V.doc)||!this.state.selection.eq(V.selection))&&(ae=null)):this.observer.clear(),V.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(V);L=ViewUpdate.create(this,V,n);let re=this.viewState.scrollTarget;try{this.updateState=2;for(let le of n){if(re&&(re=re.map(le.changes)),le.scrollIntoView){let{main:ue}=le.state.selection;re=new ScrollTarget(ue.empty?ue:EditorSelection.cursor(ue.head,ue.head>ue.anchor?-1:1))}for(let ue of le.effects)ue.is(scrollIntoView$1)&&(re=ue.value)}this.viewState.update(L,re),this.bidiCache=CachedOrder.update(this.bidiCache,L.changes),L.empty||(this.updatePlugins(L),this.inputState.update(L)),r=this.docView.update(L),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),$=this.updateAttrs(),this.showAnnouncements(n),this.docView.updateSelection(r,n.some(le=>le.isUserEvent("select.pointer")))}finally{this.updateState=0}if(L.startState.facet(theme$2)!=L.state.facet(theme$2)&&(this.viewState.mustMeasureContent=!0),(r||$||re||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!L.empty)for(let le of this.state.facet(updateListener))le(L);ae&&!applyDOMChange(this,ae)&&oe.force&&dispatchKey(this.contentDOM,oe.key,oe.keyCode)}setState(n){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=n;return}this.updateState=2;let r=this.hasFocus;try{for(let $ of this.plugins)$.destroy(this);this.viewState=new ViewState(n),this.plugins=n.facet(viewPlugin).map($=>new PluginInstance($)),this.pluginMap.clear();for(let $ of this.plugins)$.update(this);this.docView=new DocView(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(n){let r=n.startState.facet(viewPlugin),$=n.state.facet(viewPlugin);if(r!=$){let L=[];for(let V of $){let oe=r.indexOf(V);if(oe<0)L.push(new PluginInstance(V));else{let ae=this.plugins[oe];ae.mustUpdate=n,L.push(ae)}}for(let V of this.plugins)V.mustUpdate!=n&&V.destroy(this);this.plugins=L,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let L of this.plugins)L.mustUpdate=n;for(let L=0;L<this.plugins.length;L++)this.plugins[L].update(this)}measure(n=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,n&&this.observer.forceFlush();let r=null,{scrollHeight:$,scrollTop:L,clientHeight:V}=this.scrollDOM,oe=L>$-V-4?$:L;try{for(let ae=0;;ae++){this.updateState=1;let re=this.viewport,le=this.viewState.lineBlockAtHeight(oe),ue=this.viewState.measure(this);if(!ue&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(ae>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let de=[];ue&4||([this.measureRequests,de]=[de,this.measureRequests]);let he=de.map(xe=>{try{return xe.read(this)}catch(Oe){return logException(this.state,Oe),BadMeasure}}),pe=ViewUpdate.create(this,this.state,[]),_e=!1,$e=!1;pe.flags|=ue,r?r.flags|=ue:r=pe,this.updateState=2,pe.empty||(this.updatePlugins(pe),this.inputState.update(pe),this.updateAttrs(),_e=this.docView.update(pe));for(let xe=0;xe<de.length;xe++)if(he[xe]!=BadMeasure)try{let Oe=de[xe];Oe.write&&Oe.write(he[xe],this)}catch(Oe){logException(this.state,Oe)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,$e=!0;else{let xe=this.viewState.lineBlockAt(le.from).top-le.top;(xe>1||xe<-1)&&(this.scrollDOM.scrollTop+=xe,$e=!0)}if(_e&&this.docView.updateSelection(!0),this.viewport.from==re.from&&this.viewport.to==re.to&&!$e&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let ae of this.state.facet(updateListener))ae(r)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme$1)?baseDarkID:baseLightID)+" "+this.state.facet(theme$2)}updateAttrs(){let n=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,r);let $=this.observer.ignore(()=>{let L=updateAttrs$1(this.contentDOM,this.contentAttrs,r),V=updateAttrs$1(this.dom,this.editorAttrs,n);return L||V});return this.editorAttrs=n,this.contentAttrs=r,$}showAnnouncements(n){let r=!0;for(let $ of n)for(let L of $.effects)if(L.is(EditorView.announce)){r&&(this.announceDOM.textContent=""),r=!1;let V=this.announceDOM.appendChild(document.createElement("div"));V.textContent=L.value}}mountStyles(){this.styleModules=this.state.facet(styleModule),StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(n){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),n){if(n.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===n.key){this.measureRequests[r]=n;return}}this.measureRequests.push(n)}}plugin(n){let r=this.pluginMap.get(n);return(r===void 0||r&&r.spec!=n)&&this.pluginMap.set(n,r=this.plugins.find($=>$.spec==n)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(n){return this.readMeasured(),this.viewState.elementAtHeight(n)}lineBlockAtHeight(n){return this.readMeasured(),this.viewState.lineBlockAtHeight(n)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(n){return this.viewState.lineBlockAt(n)}get contentHeight(){return this.viewState.contentHeight}moveByChar(n,r,$){return skipAtoms(this,n,moveByChar(this,n,r,$))}moveByGroup(n,r){return skipAtoms(this,n,moveByChar(this,n,r,$=>byGroup(this,n.head,$)))}moveToLineBoundary(n,r,$=!0){return moveToLineBoundary(this,n,r,$)}moveVertically(n,r,$){return skipAtoms(this,n,moveVertically(this,n,r,$))}domAtPos(n){return this.docView.domAtPos(n)}posAtDOM(n,r=0){return this.docView.posFromDOM(n,r)}posAtCoords(n,r=!0){return this.readMeasured(),posAtCoords(this,n,r)}coordsAtPos(n,r=1){this.readMeasured();let $=this.docView.coordsAt(n,r);if(!$||$.left==$.right)return $;let L=this.state.doc.lineAt(n),V=this.bidiSpans(L),oe=V[BidiSpan.find(V,n-L.from,-1,r)];return flattenRect($,oe.dir==Direction.LTR==r>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(n){return!this.state.facet(perLineTextDirection)||n<this.viewport.from||n>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(n))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(n){if(n.length>MaxBidiLine)return trivialOrder(n.length);let r=this.textDirectionAt(n.from);for(let L of this.bidiCache)if(L.from==n.from&&L.dir==r)return L.order;let $=computeOrder(n.text,r);return this.bidiCache.push(new CachedOrder(n.from,n.to,r,$)),$}get hasFocus(){var n;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((n=this.inputState)===null||n===void 0?void 0:n.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(n){this._root!=n&&(this._root=n,this.observer.setWindow((n.nodeType==9?n:n.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let n of this.plugins)n.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(n,r={}){return scrollIntoView$1.of(new ScrollTarget(typeof n=="number"?EditorSelection.cursor(n):n,r.y,r.x,r.yMargin,r.xMargin))}static domEventHandlers(n){return ViewPlugin.define(()=>({}),{eventHandlers:n})}static theme(n,r){let $=StyleModule.newName(),L=[theme$2.of($),styleModule.of(buildTheme(`.${$}`,n))];return r&&r.dark&&L.push(darkTheme$1.of(!0)),L}static baseTheme(n){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,n,lightDarkIDs)))}static findFromDOM(n){var r;let $=n.querySelector(".cm-content"),L=$&&ContentView.get($)||ContentView.get(n);return((r=L==null?void 0:L.rootView)===null||r===void 0?void 0:r.view)||null}}EditorView.styleModule=styleModule,EditorView.inputHandler=inputHandler$1,EditorView.perLineTextDirection=perLineTextDirection,EditorView.exceptionSink=exceptionSink,EditorView.updateListener=updateListener,EditorView.editable=editable,EditorView.mouseSelectionStyle=mouseSelectionStyle,EditorView.dragMovesSelection=dragMovesSelection$1,EditorView.clickAddsSelectionRange=clickAddsSelectionRange,EditorView.decorations=decorations,EditorView.atomicRanges=atomicRanges,EditorView.scrollMargins=scrollMargins,EditorView.darkTheme=darkTheme$1,EditorView.contentAttributes=contentAttributes,EditorView.editorAttributes=editorAttributes,EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"}),EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(n,r,$,L){this.from=n,this.to=r,this.dir=$,this.order=L}static update(n,r){if(r.empty)return n;let $=[],L=n.length?n[n.length-1].dir:Direction.LTR;for(let V=Math.max(0,n.length-10);V<n.length;V++){let oe=n[V];oe.dir==L&&!r.touchesRange(oe.from,oe.to)&&$.push(new CachedOrder(r.mapPos(oe.from,1),r.mapPos(oe.to,-1),oe.dir,oe.order))}return $}}function attrsFromFacet(g,n,r){for(let $=g.state.facet(n),L=$.length-1;L>=0;L--){let V=$[L],oe=typeof V=="function"?V(g):V;oe&&combineAttrs(oe,r)}return r}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(g,n){const r=g.split(/-(?!$)/);let $=r[r.length-1];$=="Space"&&($=" ");let L,V,oe,ae;for(let re=0;re<r.length-1;++re){const le=r[re];if(/^(cmd|meta|m)$/i.test(le))ae=!0;else if(/^a(lt)?$/i.test(le))L=!0;else if(/^(c|ctrl|control)$/i.test(le))V=!0;else if(/^s(hift)?$/i.test(le))oe=!0;else if(/^mod$/i.test(le))n=="mac"?ae=!0:V=!0;else throw new Error("Unrecognized modifier name: "+le)}return L&&($="Alt-"+$),V&&($="Ctrl-"+$),ae&&($="Meta-"+$),oe&&($="Shift-"+$),$}function modifiers(g,n,r){return n.altKey&&(g="Alt-"+g),n.ctrlKey&&(g="Ctrl-"+g),n.metaKey&&(g="Meta-"+g),r!==!1&&n.shiftKey&&(g="Shift-"+g),g}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(g,n){return runHandlers(getKeymap(n.state),g,n,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(g){let n=g.facet(keymap),r=Keymaps.get(n);return r||Keymaps.set(n,r=buildKeymap(n.reduce(($,L)=>$.concat(L),[]))),r}function runScopeHandlers(g,n,r){return runHandlers(getKeymap(g.state),n,g,r)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(g,n=currentPlatform){let r=Object.create(null),$=Object.create(null),L=(oe,ae)=>{let re=$[oe];if(re==null)$[oe]=ae;else if(re!=ae)throw new Error("Key binding "+oe+" is used both as a regular binding and as a multi-stroke prefix")},V=(oe,ae,re,le)=>{var ue,de;let he=r[oe]||(r[oe]=Object.create(null)),pe=ae.split(/ (?!$)/).map(xe=>normalizeKeyName(xe,n));for(let xe=1;xe<pe.length;xe++){let Oe=pe.slice(0,xe).join(" ");L(Oe,!0),he[Oe]||(he[Oe]={preventDefault:!0,run:[Ce=>{let Ie=storedPrefix={view:Ce,prefix:Oe,scope:oe};return setTimeout(()=>{storedPrefix==Ie&&(storedPrefix=null)},PrefixTimeout),!0}]})}let _e=pe.join(" ");L(_e,!1);let $e=he[_e]||(he[_e]={preventDefault:!1,run:((de=(ue=he._any)===null||ue===void 0?void 0:ue.run)===null||de===void 0?void 0:de.slice())||[]});re&&$e.run.push(re),le&&($e.preventDefault=!0)};for(let oe of g){let ae=oe.scope?oe.scope.split(" "):["editor"];if(oe.any)for(let le of ae){let ue=r[le]||(r[le]=Object.create(null));ue._any||(ue._any={preventDefault:!1,run:[]});for(let de in ue)ue[de].run.push(oe.any)}let re=oe[n]||oe.key;if(re)for(let le of ae)V(le,re,oe.run,oe.preventDefault),oe.shift&&V(le,"Shift-"+re,oe.shift,oe.preventDefault)}return r}function runHandlers(g,n,r,$){let L=keyName(n),V=codePointAt(L,0),oe=codePointSize(V)==L.length&&L!=" ",ae="",re=!1;storedPrefix&&storedPrefix.view==r&&storedPrefix.scope==$&&(ae=storedPrefix.prefix+" ",(re=modifierCodes.indexOf(n.keyCode)<0)&&(storedPrefix=null));let le=new Set,ue=_e=>{if(_e){for(let $e of _e.run)if(!le.has($e)&&(le.add($e),$e(r,n)))return!0;_e.preventDefault&&(re=!0)}return!1},de=g[$],he,pe;if(de){if(ue(de[ae+modifiers(L,n,!oe)]))return!0;if(oe&&(n.altKey||n.metaKey||n.ctrlKey)&&(he=base$3[n.keyCode])&&he!=L){if(ue(de[ae+modifiers(he,n,!0)])||n.shiftKey&&(pe=shift[n.keyCode])!=L&&pe!=he&&ue(de[ae+modifiers(pe,n,!1)]))return!0}else if(oe&&n.shiftKey&&ue(de[ae+modifiers(L,n,!0)]))return!0;if(ue(de._any))return!0}return re}class RectangleMarker{constructor(n,r,$,L,V){this.className=n,this.left=r,this.top=$,this.width=L,this.height=V}draw(){let n=document.createElement("div");return n.className=this.className,this.adjust(n),n}update(n,r){return r.className!=this.className?!1:(this.adjust(n),!0)}adjust(n){n.style.left=this.left+"px",n.style.top=this.top+"px",this.width!=null&&(n.style.width=this.width+"px"),n.style.height=this.height+"px"}eq(n){return this.left==n.left&&this.top==n.top&&this.width==n.width&&this.height==n.height&&this.className==n.className}static forRange(n,r,$){if($.empty){let L=n.coordsAtPos($.head,$.assoc||1);if(!L)return[];let V=getBase(n);return[new RectangleMarker(r,L.left-V.left,L.top-V.top,null,L.bottom-L.top)]}else return rectanglesForRange(n,r,$)}}function getBase(g){let n=g.scrollDOM.getBoundingClientRect();return{left:(g.textDirection==Direction.LTR?n.left:n.right-g.scrollDOM.clientWidth)-g.scrollDOM.scrollLeft,top:n.top-g.scrollDOM.scrollTop}}function wrappedLine(g,n,r){let $=EditorSelection.cursor(n);return{from:Math.max(r.from,g.moveToLineBoundary($,!1,!0).from),to:Math.min(r.to,g.moveToLineBoundary($,!0,!0).from),type:BlockType.Text}}function blockAt(g,n){let r=g.lineBlockAt(n);if(Array.isArray(r.type)){for(let $ of r.type)if($.to>n||$.to==n&&($.to==r.to||$.type==BlockType.Text))return $}return r}function rectanglesForRange(g,n,r){if(r.to<=g.viewport.from||r.from>=g.viewport.to)return[];let $=Math.max(r.from,g.viewport.from),L=Math.min(r.to,g.viewport.to),V=g.textDirection==Direction.LTR,oe=g.contentDOM,ae=oe.getBoundingClientRect(),re=getBase(g),le=window.getComputedStyle(oe.firstChild),ue=ae.left+parseInt(le.paddingLeft)+Math.min(0,parseInt(le.textIndent)),de=ae.right-parseInt(le.paddingRight),he=blockAt(g,$),pe=blockAt(g,L),_e=he.type==BlockType.Text?he:null,$e=pe.type==BlockType.Text?pe:null;if(g.lineWrapping&&(_e&&(_e=wrappedLine(g,$,_e)),$e&&($e=wrappedLine(g,L,$e))),_e&&$e&&_e.from==$e.from)return Oe(Ce(r.from,r.to,_e));{let Ne=_e?Ce(r.from,null,_e):Ie(he,!1),ze=$e?Ce(null,r.to,$e):Ie(pe,!0),Fe=[];return(_e||he).to<($e||pe).from-1?Fe.push(xe(ue,Ne.bottom,de,ze.top)):Ne.bottom<ze.top&&g.elementAtHeight((Ne.bottom+ze.top)/2).type==BlockType.Text&&(Ne.bottom=ze.top=(Ne.bottom+ze.top)/2),Oe(Ne).concat(Fe).concat(Oe(ze))}function xe(Ne,ze,Fe,Ue){return new RectangleMarker(n,Ne-re.left,ze-re.top-.01,Fe-Ne,Ue-ze+.01)}function Oe({top:Ne,bottom:ze,horizontal:Fe}){let Ue=[];for(let At=0;At<Fe.length;At+=2)Ue.push(xe(Fe[At],Ne,Fe[At+1],ze));return Ue}function Ce(Ne,ze,Fe){let Ue=1e9,At=-1e9,Et=[];function Pt(Lt,hn,vn,_n,$n){let Sn=g.coordsAtPos(Lt,Lt==Fe.to?-2:2),xn=g.coordsAtPos(vn,vn==Fe.from?2:-2);Ue=Math.min(Sn.top,xn.top,Ue),At=Math.max(Sn.bottom,xn.bottom,At),$n==Direction.LTR?Et.push(V&&hn?ue:Sn.left,V&&_n?de:xn.right):Et.push(!V&&_n?ue:xn.left,!V&&hn?de:Sn.right)}let kt=Ne!=null?Ne:Fe.from,Dt=ze!=null?ze:Fe.to;for(let Lt of g.visibleRanges)if(Lt.to>kt&&Lt.from<Dt)for(let hn=Math.max(Lt.from,kt),vn=Math.min(Lt.to,Dt);;){let _n=g.state.doc.lineAt(hn);for(let $n of g.bidiSpans(_n)){let Sn=$n.from+_n.from,xn=$n.to+_n.from;if(Sn>=vn)break;xn>hn&&Pt(Math.max(Sn,hn),Ne==null&&Sn<=kt,Math.min(xn,vn),ze==null&&xn>=Dt,$n.dir)}if(hn=_n.to+1,hn>=vn)break}return Et.length==0&&Pt(kt,Ne==null,Dt,ze==null,g.textDirection),{top:Ue,bottom:At,horizontal:Et}}function Ie(Ne,ze){let Fe=ae.top+(ze?Ne.top:Ne.bottom);return{top:Fe,bottom:Fe,horizontal:[]}}}function sameMarker(g,n){return g.constructor==n.constructor&&g.eq(n)}class LayerView{constructor(n,r){this.view=n,this.layer=r,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=n.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(n.state),n.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,n)}update(n){n.startState.facet(layerOrder)!=n.state.facet(layerOrder)&&this.setOrder(n.state),(this.layer.update(n,this.dom)||n.geometryChanged)&&n.view.requestMeasure(this.measureReq)}setOrder(n){let r=0,$=n.facet(layerOrder);for(;r<$.length&&$[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}draw(n){if(n.length!=this.drawn.length||n.some((r,$)=>!sameMarker(r,this.drawn[$]))){let r=this.dom.firstChild,$=0;for(let L of n)L.update&&r&&L.constructor&&this.drawn[$].constructor&&L.update(r,this.drawn[$])?(r=r.nextSibling,$++):this.dom.insertBefore(L.draw(),r);for(;r;){let L=r.nextSibling;r.remove(),r=L}this.drawn=n}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(g){return[ViewPlugin.define(n=>new LayerView(n,g)),layerOrder.of(g)]}const CanHidePrimary=!browser.ios,selectionConfig=Facet.define({combine(g){return combineConfig(g,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(n,r)=>Math.min(n,r),drawRangeCursor:(n,r)=>n||r})}});function drawSelection(g={}){return[selectionConfig.of(g),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(g){return g.startState.facet(selectionConfig)!=g.startState.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(g){let{state:n}=g,r=n.facet(selectionConfig),$=[];for(let L of n.selection.ranges){let V=L==n.selection.main;if(L.empty?!V||CanHidePrimary:r.drawRangeCursor){let oe=V?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",ae=L.empty?L:EditorSelection.cursor(L.head,L.head>L.anchor?-1:1);for(let re of RectangleMarker.forRange(g,oe,ae))$.push(re)}}return $},update(g,n){g.transactions.some($=>$.scrollIntoView)&&(n.style.animationName=n.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=configChanged(g);return r&&setBlinkRate(g.state,n),g.docChanged||g.selectionSet||r},mount(g,n){setBlinkRate(n.state,g)},class:"cm-cursorLayer"});function setBlinkRate(g,n){n.style.animationDuration=g.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(g){return g.state.selection.ranges.map(n=>n.empty?[]:RectangleMarker.forRange(g,"cm-selectionBackground",n)).reduce((n,r)=>n.concat(r))},update(g,n){return g.docChanged||g.selectionSet||g.viewportChanged||configChanged(g)},class:"cm-selectionLayer"}),themeSpec={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};CanHidePrimary&&(themeSpec[".cm-line"].caretColor="transparent !important");const hideNativeSelection=Prec.highest(EditorView.theme(themeSpec)),setDropCursorPos=StateEffect.define({map(g,n){return g==null?null:n.mapPos(g)}}),dropCursorPos=StateField.define({create(){return null},update(g,n){return g!=null&&(g=n.changes.mapPos(g)),n.effects.reduce((r,$)=>$.is(setDropCursorPos)?$.value:r,g)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(g){this.view=g,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(g){var n;let r=g.state.field(dropCursorPos);r==null?this.cursor!=null&&((n=this.cursor)===null||n===void 0||n.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(g.startState.field(dropCursorPos)!=r||g.docChanged||g.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let g=this.view.state.field(dropCursorPos),n=g!=null&&this.view.coordsAtPos(g);if(!n)return null;let r=this.view.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+this.view.scrollDOM.scrollLeft,top:n.top-r.top+this.view.scrollDOM.scrollTop,height:n.bottom-n.top}}drawCursor(g){this.cursor&&(g?(this.cursor.style.left=g.left+"px",this.cursor.style.top=g.top+"px",this.cursor.style.height=g.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(g){this.view.state.field(dropCursorPos)!=g&&this.view.dispatch({effects:setDropCursorPos.of(g)})}},{eventHandlers:{dragover(g){this.setDropPos(this.view.posAtCoords({x:g.clientX,y:g.clientY}))},dragleave(g){(g.target==this.view.contentDOM||!this.view.contentDOM.contains(g.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(g,n,r,$,L){n.lastIndex=0;for(let V=g.iterRange(r,$),oe=r,ae;!V.next().done;oe+=V.value.length)if(!V.lineBreak)for(;ae=n.exec(V.value);)L(oe+ae.index,ae)}function matchRanges(g,n){let r=g.visibleRanges;if(r.length==1&&r[0].from==g.viewport.from&&r[0].to==g.viewport.to)return r;let $=[];for(let{from:L,to:V}of r)L=Math.max(g.state.doc.lineAt(L).from,L-n),V=Math.min(g.state.doc.lineAt(V).to,V+n),$.length&&$[$.length-1].to>=L?$[$.length-1].to=V:$.push({from:L,to:V});return $}class MatchDecorator{constructor(n){const{regexp:r,decoration:$,decorate:L,boundary:V,maxLength:oe=1e3}=n;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,L)this.addMatch=(ae,re,le,ue)=>L(ue,le,le+ae[0].length,ae,re);else if(typeof $=="function")this.addMatch=(ae,re,le,ue)=>{let de=$(ae,re,le);de&&ue(le,le+ae[0].length,de)};else if($)this.addMatch=(ae,re,le,ue)=>ue(le,le+ae[0].length,$);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=V,this.maxLength=oe}createDeco(n){let r=new RangeSetBuilder,$=r.add.bind(r);for(let{from:L,to:V}of matchRanges(n,this.maxLength))iterMatches(n.state.doc,this.regexp,L,V,(oe,ae)=>this.addMatch(ae,n,oe,$));return r.finish()}updateDeco(n,r){let $=1e9,L=-1;return n.docChanged&&n.changes.iterChanges((V,oe,ae,re)=>{re>n.view.viewport.from&&ae<n.view.viewport.to&&($=Math.min(ae,$),L=Math.max(re,L))}),n.viewportChanged||L-$>1e3?this.createDeco(n.view):L>-1?this.updateRange(n.view,r.map(n.changes),$,L):r}updateRange(n,r,$,L){for(let V of n.visibleRanges){let oe=Math.max(V.from,$),ae=Math.min(V.to,L);if(ae>oe){let re=n.state.doc.lineAt(oe),le=re.to<ae?n.state.doc.lineAt(ae):re,ue=Math.max(V.from,re.from),de=Math.min(V.to,le.to);if(this.boundary){for(;oe>re.from;oe--)if(this.boundary.test(re.text[oe-1-re.from])){ue=oe;break}for(;ae<le.to;ae++)if(this.boundary.test(le.text[ae-le.from])){de=ae;break}}let he=[],pe,_e=($e,xe,Oe)=>he.push(Oe.range($e,xe));if(re==le)for(this.regexp.lastIndex=ue-re.from;(pe=this.regexp.exec(re.text))&&pe.index<de-re.from;)this.addMatch(pe,n,pe.index+re.from,_e);else iterMatches(n.state.doc,this.regexp,ue,de,($e,xe)=>this.addMatch(xe,n,$e,_e));r=r.update({filterFrom:ue,filterTo:de,filter:($e,xe)=>$e<ue||xe>de,add:he})}}return r}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var g;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let n=document.body.style;_supportsTabSize=((g=n.tabSize)!==null&&g!==void 0?g:n.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(g){let n=combineConfig(g,{render:null,specialChars:Specials,addSpecialChars:null});return(n.replaceTabs=!supportsTabSize())&&(n.specialChars=new RegExp("	|"+n.specialChars.source,UnicodeRegexpSupport)),n.addSpecialChars&&(n.specialChars=new RegExp(n.specialChars.source+"|"+n.addSpecialChars.source,UnicodeRegexpSupport)),n}});function highlightSpecialChars(g={}){return[specialCharConfig.of(g),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(g){this.view=g,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(g.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(g)}makeDecorator(g){return new MatchDecorator({regexp:g.specialChars,decoration:(n,r,$)=>{let{doc:L}=r.state,V=codePointAt(n[0],0);if(V==9){let oe=L.lineAt($),ae=r.state.tabSize,re=countColumn(oe.text,ae,$-oe.from);return Decoration.replace({widget:new TabWidget((ae-re%ae)*this.view.defaultCharacterWidth)})}return this.decorationCache[V]||(this.decorationCache[V]=Decoration.replace({widget:new SpecialCharWidget(g,V)}))},boundary:g.replaceTabs?void 0:/[^]/})}update(g){let n=g.state.facet(specialCharConfig);g.startState.facet(specialCharConfig)!=n?(this.decorator=this.makeDecorator(n),this.decorations=this.decorator.createDeco(g.view)):this.decorations=this.decorator.updateDeco(g,this.decorations)}},{decorations:g=>g.decorations}))}const DefaultPlaceholder="\u2022";function placeholder$1(g){return g>=32?DefaultPlaceholder:g==10?"\u2424":String.fromCharCode(9216+g)}class SpecialCharWidget extends WidgetType{constructor(n,r){super(),this.options=n,this.code=r}eq(n){return n.code==this.code}toDOM(n){let r=placeholder$1(this.code),$=n.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),L=this.options.render&&this.options.render(this.code,$,r);if(L)return L;let V=document.createElement("span");return V.textContent=r,V.title=$,V.setAttribute("aria-label",$),V.className="cm-specialChar",V}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(n){super(),this.width=n}eq(n){return n.width==this.width}toDOM(){let n=document.createElement("span");return n.textContent="	",n.className="cm-tab",n.style.width=this.width+"px",n}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(g){this.decorations=this.getDeco(g)}update(g){(g.docChanged||g.selectionSet)&&(this.decorations=this.getDeco(g.view))}getDeco(g){let n=-1,r=[];for(let $ of g.state.selection.ranges){let L=g.lineBlockAt($.head);L.from>n&&(r.push(lineDeco.range(L.from)),n=L.from)}return Decoration.set(r)}},{decorations:g=>g.decorations});class Placeholder extends WidgetType{constructor(n){super(),this.content=n}toDOM(){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?n.setAttribute("aria-label","placeholder "+this.content):n.setAttribute("aria-hidden","true"),n}ignoreEvent(){return!1}}function placeholder(g){return ViewPlugin.fromClass(class{constructor(n){this.view=n,this.placeholder=Decoration.set([Decoration.widget({widget:new Placeholder(g),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?Decoration.none:this.placeholder}},{decorations:n=>n.decorations})}const MaxOff=2e3;function rectangleFor(g,n,r){let $=Math.min(n.line,r.line),L=Math.max(n.line,r.line),V=[];if(n.off>MaxOff||r.off>MaxOff||n.col<0||r.col<0){let oe=Math.min(n.off,r.off),ae=Math.max(n.off,r.off);for(let re=$;re<=L;re++){let le=g.doc.line(re);le.length<=ae&&V.push(EditorSelection.range(le.from+oe,le.to+ae))}}else{let oe=Math.min(n.col,r.col),ae=Math.max(n.col,r.col);for(let re=$;re<=L;re++){let le=g.doc.line(re),ue=findColumn(le.text,oe,g.tabSize,!0);if(ue<0)V.push(EditorSelection.cursor(le.to));else{let de=findColumn(le.text,ae,g.tabSize);V.push(EditorSelection.range(le.from+ue,le.from+de))}}}return V}function absoluteColumn(g,n){let r=g.coordsAtPos(g.viewport.from);return r?Math.round(Math.abs((r.left-n)/g.defaultCharacterWidth)):-1}function getPos(g,n){let r=g.posAtCoords({x:n.clientX,y:n.clientY},!1),$=g.state.doc.lineAt(r),L=r-$.from,V=L>MaxOff?-1:L==$.length?absoluteColumn(g,n.clientX):countColumn($.text,g.state.tabSize,r-$.from);return{line:$.number,col:V,off:L}}function rectangleSelectionStyle(g,n){let r=getPos(g,n),$=g.state.selection;return r?{update(L){if(L.docChanged){let V=L.changes.mapPos(L.startState.doc.line(r.line).from),oe=L.state.doc.lineAt(V);r={line:oe.number,col:r.col,off:Math.min(r.off,oe.length)},$=$.map(L.changes)}},get(L,V,oe){let ae=getPos(g,L);if(!ae)return $;let re=rectangleFor(g.state,r,ae);return re.length?oe?EditorSelection.create(re.concat($.ranges)):EditorSelection.create(re):$}}:null}function rectangularSelection(g){let n=(g==null?void 0:g.eventFilter)||(r=>r.altKey&&r.button==0);return EditorView.mouseSelectionStyle.of((r,$)=>n($)?rectangleSelectionStyle(r,$):null)}const keys$1={Alt:[18,g=>g.altKey],Control:[17,g=>g.ctrlKey],Shift:[16,g=>g.shiftKey],Meta:[91,g=>g.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(g={}){let[n,r]=keys$1[g.key||"Alt"],$=ViewPlugin.fromClass(class{constructor(L){this.view=L,this.isDown=!1}set(L){this.isDown!=L&&(this.isDown=L,this.view.update([]))}},{eventHandlers:{keydown(L){this.set(L.keyCode==n||r(L))},keyup(L){(L.keyCode==n||!r(L))&&this.set(!1)},mousemove(L){this.set(r(L))}}});return[$,EditorView.contentAttributes.of(L=>{var V;return!((V=L.plugin($))===null||V===void 0)&&V.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(n,r,$){this.facet=r,this.createTooltipView=$,this.input=n.state.facet(r),this.tooltips=this.input.filter(L=>L),this.tooltipViews=this.tooltips.map($)}update(n){var r;let $=n.state.facet(this.facet),L=$.filter(oe=>oe);if($===this.input){for(let oe of this.tooltipViews)oe.update&&oe.update(n);return!1}let V=[];for(let oe=0;oe<L.length;oe++){let ae=L[oe],re=-1;if(ae){for(let le=0;le<this.tooltips.length;le++){let ue=this.tooltips[le];ue&&ue.create==ae.create&&(re=le)}if(re<0)V[oe]=this.createTooltipView(ae);else{let le=V[oe]=this.tooltipViews[re];le.update&&le.update(n)}}}for(let oe of this.tooltipViews)V.indexOf(oe)<0&&(oe.dom.remove(),(r=oe.destroy)===null||r===void 0||r.call(oe));return this.input=$,this.tooltips=L,this.tooltipViews=V,!0}}function windowSpace(g){let{win:n}=g;return{top:0,left:0,bottom:n.innerHeight,right:n.innerWidth}}const tooltipConfig=Facet.define({combine:g=>{var n,r,$;return{position:browser.ios?"absolute":((n=g.find(L=>L.position))===null||n===void 0?void 0:n.position)||"fixed",parent:((r=g.find(L=>L.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:(($=g.find(L=>L.tooltipSpace))===null||$===void 0?void 0:$.tooltipSpace)||windowSpace}}}),tooltipPlugin=ViewPlugin.fromClass(class{constructor(g){this.view=g,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let n=g.state.facet(tooltipConfig);this.position=n.position,this.parent=n.parent,this.classes=g.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new TooltipViewManager(g,showTooltip$1,r=>this.createTooltip(r)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),g.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let g of this.manager.tooltipViews)this.intersectionObserver.observe(g.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(g){g.transactions.length&&(this.lastTransaction=Date.now());let n=this.manager.update(g);n&&this.observeIntersection();let r=n||g.geometryChanged,$=g.state.facet(tooltipConfig);if($.position!=this.position){this.position=$.position;for(let L of this.manager.tooltipViews)L.dom.style.position=this.position;r=!0}if($.parent!=this.parent){this.parent&&this.container.remove(),this.parent=$.parent,this.createContainer();for(let L of this.manager.tooltipViews)this.container.appendChild(L.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(g){let n=g.create(this.view);if(n.dom.classList.add("cm-tooltip"),g.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",n.dom.appendChild(r)}return n.dom.style.position=this.position,n.dom.style.top=Outside,this.container.appendChild(n.dom),n.mount&&n.mount(this.view),n}destroy(){var g,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(g=r.destroy)===null||g===void 0||g.call(r);(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let g=this.view.dom.getBoundingClientRect();return{editor:g,parent:this.parent?this.container.getBoundingClientRect():g,pos:this.manager.tooltips.map((n,r)=>{let $=this.manager.tooltipViews[r];return $.getCoords?$.getCoords(n.pos):this.view.coordsAtPos(n.pos)}),size:this.manager.tooltipViews.map(({dom:n})=>n.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view)}}writeMeasure(g){let{editor:n,space:r}=g,$=[];for(let L=0;L<this.manager.tooltips.length;L++){let V=this.manager.tooltips[L],oe=this.manager.tooltipViews[L],{dom:ae}=oe,re=g.pos[L],le=g.size[L];if(!re||re.bottom<=Math.max(n.top,r.top)||re.top>=Math.min(n.bottom,r.bottom)||re.right<Math.max(n.left,r.left)-.1||re.left>Math.min(n.right,r.right)+.1){ae.style.top=Outside;continue}let ue=V.arrow?oe.dom.querySelector(".cm-tooltip-arrow"):null,de=ue?7:0,he=le.right-le.left,pe=le.bottom-le.top,_e=oe.offset||noOffset,$e=this.view.textDirection==Direction.LTR,xe=le.width>r.right-r.left?$e?r.left:r.right-le.width:$e?Math.min(re.left-(ue?14:0)+_e.x,r.right-he):Math.max(r.left,re.left-he+(ue?14:0)-_e.x),Oe=!!V.above;!V.strictSide&&(Oe?re.top-(le.bottom-le.top)-_e.y<r.top:re.bottom+(le.bottom-le.top)+_e.y>r.bottom)&&Oe==r.bottom-re.bottom>re.top-r.top&&(Oe=!Oe);let Ce=(Oe?re.top-r.top:r.bottom-re.bottom)-de;if(Ce<pe&&oe.resize!==!1){if(Ce<this.view.defaultLineHeight){ae.style.top=Outside;continue}ae.style.height=(pe=Ce)+"px"}else ae.style.height&&(ae.style.height="");let Ie=Oe?re.top-pe-de-_e.y:re.bottom+de+_e.y,Ne=xe+he;if(oe.overlap!==!0)for(let ze of $)ze.left<Ne&&ze.right>xe&&ze.top<Ie+pe&&ze.bottom>Ie&&(Ie=Oe?ze.top-pe-2-de:ze.bottom+de+2);this.position=="absolute"?(ae.style.top=Ie-g.parent.top+"px",ae.style.left=xe-g.parent.left+"px"):(ae.style.top=Ie+"px",ae.style.left=xe+"px"),ue&&(ue.style.left=`${re.left+($e?_e.x:-_e.x)-(xe+14-7)}px`),oe.overlap!==!0&&$.push({left:xe,top:Ie,right:Ne,bottom:Ie+pe}),ae.classList.toggle("cm-tooltip-above",Oe),ae.classList.toggle("cm-tooltip-below",!Oe),oe.positioned&&oe.positioned(g.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let g of this.manager.tooltipViews)g.dom.style.top=Outside}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip$1=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define();class HoverTooltipHost{constructor(n){this.view=n,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(n,showHoverTooltip,r=>this.createHostedView(r))}static create(n){return new HoverTooltipHost(n)}createHostedView(n){let r=n.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(r.dom),this.mounted&&r.mount&&r.mount(this.view),r}mount(n){for(let r of this.manager.tooltipViews)r.mount&&r.mount(n);this.mounted=!0}positioned(n){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(n)}update(n){this.manager.update(n)}}const showHoverTooltipHost=showTooltip$1.compute([showHoverTooltip],g=>{let n=g.facet(showHoverTooltip).filter(r=>r);return n.length===0?null:{pos:Math.min(...n.map(r=>r.pos)),end:Math.max(...n.filter(r=>r.end!=null).map(r=>r.end)),create:HoverTooltipHost.create,above:n[0].above,arrow:n.some(r=>r.arrow)}});class HoverPlugin{constructor(n,r,$,L,V){this.view=n,this.source=r,this.field=$,this.setHover=L,this.hoverTime=V,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:n.dom,time:0},this.checkHover=this.checkHover.bind(this),n.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),n.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let n=Date.now()-this.lastMove.time;n<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-n):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:n}=this,r=this.view.contentDOM.contains(n.target)?this.view.posAtCoords(n):null;if(r==null)return;let $=this.view.coordsAtPos(r);if($==null||n.y<$.top||n.y>$.bottom||n.x<$.left-this.view.defaultCharacterWidth||n.x>$.right+this.view.defaultCharacterWidth)return;let L=this.view.bidiSpans(this.view.state.doc.lineAt(r)).find(ae=>ae.from<=r&&ae.to>=r),V=L&&L.dir==Direction.RTL?-1:1,oe=this.source(this.view,r,n.x<$.left?-V:V);if(oe!=null&&oe.then){let ae=this.pending={pos:r};oe.then(re=>{this.pending==ae&&(this.pending=null,re&&this.view.dispatch({effects:this.setHover.of(re)}))},re=>logException(this.view.state,re,"hover tooltip"))}else oe&&this.view.dispatch({effects:this.setHover.of(oe)})}mousemove(n){var r;this.lastMove={x:n.clientX,y:n.clientY,target:n.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let $=this.active;if($&&!isInTooltip(this.lastMove.target)||this.pending){let{pos:L}=$||this.pending,V=(r=$==null?void 0:$.end)!==null&&r!==void 0?r:L;(L==V?this.view.posAtCoords(this.lastMove)!=L:!isOverRange(this.view,L,V,n.clientX,n.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(n){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!isInTooltip(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function isInTooltip(g){for(let n=g;n;n=n.parentNode)if(n.nodeType==1&&n.classList.contains("cm-tooltip"))return!0;return!1}function isOverRange(g,n,r,$,L,V){let oe=document.createRange(),ae=g.domAtPos(n),re=g.domAtPos(r);oe.setEnd(re.node,re.offset),oe.setStart(ae.node,ae.offset);let le=oe.getClientRects();oe.detach();for(let ue=0;ue<le.length;ue++){let de=le[ue];if(Math.max(de.top-L,L-de.bottom,de.left-$,$-de.right)<=V)return!0}return!1}function hoverTooltip(g,n={}){let r=StateEffect.define(),$=StateField.define({create(){return null},update(L,V){if(L&&(n.hideOnChange&&(V.docChanged||V.selection)||n.hideOn&&n.hideOn(V,L)))return null;if(L&&V.docChanged){let oe=V.changes.mapPos(L.pos,-1,MapMode.TrackDel);if(oe==null)return null;let ae=Object.assign(Object.create(null),L);ae.pos=oe,L.end!=null&&(ae.end=V.changes.mapPos(L.end)),L=ae}for(let oe of V.effects)oe.is(r)&&(L=oe.value),oe.is(closeHoverTooltipEffect)&&(L=null);return L},provide:L=>showHoverTooltip.from(L)});return[$,ViewPlugin.define(L=>new HoverPlugin(L,g,$,r,n.hoverTime||300)),showHoverTooltipHost]}function getTooltip(g,n){let r=g.plugin(tooltipPlugin);if(!r)return null;let $=r.manager.tooltips.indexOf(n);return $<0?null:r.manager.tooltipViews[$]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(g){let n,r;for(let $ of g)n=n||$.topContainer,r=r||$.bottomContainer;return{topContainer:n,bottomContainer:r}}});function getPanel(g,n){let r=g.plugin(panelPlugin),$=r?r.specs.indexOf(n):-1;return $>-1?r.panels[$]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(g){this.input=g.state.facet(showPanel),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(g));let n=g.state.facet(panelConfig);this.top=new PanelGroup(g,!0,n.topContainer),this.bottom=new PanelGroup(g,!1,n.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(g){let n=g.state.facet(panelConfig);this.top.container!=n.topContainer&&(this.top.sync([]),this.top=new PanelGroup(g.view,!0,n.topContainer)),this.bottom.container!=n.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(g.view,!1,n.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=g.state.facet(showPanel);if(r!=this.input){let $=r.filter(re=>re),L=[],V=[],oe=[],ae=[];for(let re of $){let le=this.specs.indexOf(re),ue;le<0?(ue=re(g.view),ae.push(ue)):(ue=this.panels[le],ue.update&&ue.update(g)),L.push(ue),(ue.top?V:oe).push(ue)}this.specs=$,this.panels=L,this.top.sync(V),this.bottom.sync(oe);for(let re of ae)re.dom.classList.add("cm-panel"),re.mount&&re.mount()}else for(let $ of this.panels)$.update&&$.update(g)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:g=>EditorView.scrollMargins.of(n=>{let r=n.plugin(g);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class PanelGroup{constructor(n,r,$){this.view=n,this.top=r,this.container=$,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(n){for(let r of this.panels)r.destroy&&n.indexOf(r)<0&&r.destroy();this.panels=n,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let n=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;n!=r.dom;)n=rm(n);n=n.nextSibling}else this.dom.insertBefore(r.dom,n);for(;n;)n=rm(n)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let n of this.classes.split(" "))n&&this.container.classList.remove(n);for(let n of(this.classes=this.view.themeClasses).split(" "))n&&this.container.classList.add(n)}}}function rm(g){let n=g.nextSibling;return g.remove(),n}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(n){return this==n||this.constructor==n.constructor&&this.eq(n)}eq(n){return!1}destroy(n){}}GutterMarker.prototype.elementClass="",GutterMarker.prototype.toDOM=void 0,GutterMarker.prototype.mapMode=MapMode.TrackBefore,GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1,GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),defaults$4={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},activeGutters=Facet.define();function gutter(g){return[gutters(),activeGutters.of(Object.assign(Object.assign({},defaults$4),g))]}const unfixGutters=Facet.define({combine:g=>g.some(n=>n)});function gutters(g){let n=[gutterView];return g&&g.fixed===!1&&n.push(unfixGutters.of(!0)),n}const gutterView=ViewPlugin.fromClass(class{constructor(g){this.view=g,this.prevViewport=g.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=g.state.facet(activeGutters).map(n=>new SingleGutterView(g,n));for(let n of this.gutters)this.dom.appendChild(n.dom);this.fixed=!g.state.facet(unfixGutters),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),g.scrollDOM.insertBefore(this.dom,g.contentDOM)}update(g){if(this.updateGutters(g)){let n=this.prevViewport,r=g.view.viewport,$=Math.min(n.to,r.to)-Math.max(n.from,r.from);this.syncGutters($<(r.to-r.from)*.8)}g.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=g.view.viewport}syncGutters(g){let n=this.dom.nextSibling;g&&this.dom.remove();let r=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),$=[],L=this.gutters.map(V=>new UpdateContext(V,this.view.viewport,-this.view.documentPadding.top));for(let V of this.view.viewportLineBlocks){let oe;if(Array.isArray(V.type)){for(let ae of V.type)if(ae.type==BlockType.Text){oe=ae;break}}else oe=V.type==BlockType.Text?V:void 0;if(oe){$.length&&($=[]),advanceCursor(r,$,V.from);for(let ae of L)ae.line(this.view,oe,$)}}for(let V of L)V.finish();g&&this.view.scrollDOM.insertBefore(this.dom,n)}updateGutters(g){let n=g.startState.facet(activeGutters),r=g.state.facet(activeGutters),$=g.docChanged||g.heightChanged||g.viewportChanged||!RangeSet.eq(g.startState.facet(gutterLineClass),g.state.facet(gutterLineClass),g.view.viewport.from,g.view.viewport.to);if(n==r)for(let L of this.gutters)L.update(g)&&($=!0);else{$=!0;let L=[];for(let V of r){let oe=n.indexOf(V);oe<0?L.push(new SingleGutterView(this.view,V)):(this.gutters[oe].update(g),L.push(this.gutters[oe]))}for(let V of this.gutters)V.dom.remove(),L.indexOf(V)<0&&V.destroy();for(let V of L)this.dom.appendChild(V.dom);this.gutters=L}return $}destroy(){for(let g of this.gutters)g.destroy();this.dom.remove()}},{provide:g=>EditorView.scrollMargins.of(n=>{let r=n.plugin(g);return!r||r.gutters.length==0||!r.fixed?null:n.textDirection==Direction.LTR?{left:r.dom.offsetWidth}:{right:r.dom.offsetWidth}})});function asArray(g){return Array.isArray(g)?g:[g]}function advanceCursor(g,n,r){for(;g.value&&g.from<=r;)g.from==r&&n.push(g.value),g.next()}class UpdateContext{constructor(n,r,$){this.gutter=n,this.height=$,this.localMarkers=[],this.i=0,this.cursor=RangeSet.iter(n.markers,r.from)}line(n,r,$){this.localMarkers.length&&(this.localMarkers=[]),advanceCursor(this.cursor,this.localMarkers,r.from);let L=$.length?this.localMarkers.concat($):this.localMarkers,V=this.gutter.config.lineMarker(n,r,L);V&&L.unshift(V);let oe=this.gutter;if(L.length==0&&!oe.config.renderEmptyElements)return;let ae=r.top-this.height;if(this.i==oe.elements.length){let re=new GutterElement(n,r.height,ae,L);oe.elements.push(re),oe.dom.appendChild(re.dom)}else oe.elements[this.i].update(n,r.height,ae,L);this.height=r.bottom,this.i++}finish(){let n=this.gutter;for(;n.elements.length>this.i;){let r=n.elements.pop();n.dom.removeChild(r.dom),r.destroy()}}}class SingleGutterView{constructor(n,r){this.view=n,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let $ in r.domEventHandlers)this.dom.addEventListener($,L=>{let V=n.lineBlockAtHeight(L.clientY-n.documentTop);r.domEventHandlers[$](n,V,L)&&L.preventDefault()});this.markers=asArray(r.markers(n)),r.initialSpacer&&(this.spacer=new GutterElement(n,0,0,[r.initialSpacer(n)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(n){let r=this.markers;if(this.markers=asArray(this.config.markers(n.view)),this.spacer&&this.config.updateSpacer){let L=this.config.updateSpacer(this.spacer.markers[0],n);L!=this.spacer.markers[0]&&this.spacer.update(n.view,0,0,[L])}let $=n.view.viewport;return!RangeSet.eq(this.markers,r,$.from,$.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(n):!1)}destroy(){for(let n of this.elements)n.destroy()}}class GutterElement{constructor(n,r,$,L){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(n,r,$,L)}update(n,r,$,L){this.height!=r&&(this.dom.style.height=(this.height=r)+"px"),this.above!=$&&(this.dom.style.marginTop=(this.above=$)?$+"px":""),sameMarkers(this.markers,L)||this.setMarkers(n,L)}setMarkers(n,r){let $="cm-gutterElement",L=this.dom.firstChild;for(let V=0,oe=0;;){let ae=oe,re=V<r.length?r[V++]:null,le=!1;if(re){let ue=re.elementClass;ue&&($+=" "+ue);for(let de=oe;de<this.markers.length;de++)if(this.markers[de].compare(re)){ae=de,le=!0;break}}else ae=this.markers.length;for(;oe<ae;){let ue=this.markers[oe++];if(ue.toDOM){ue.destroy(L);let de=L.nextSibling;L.remove(),L=de}}if(!re)break;re.toDOM&&(le?L=L.nextSibling:this.dom.insertBefore(re.toDOM(n),L)),le&&oe++}this.dom.className=$,this.markers=r}destroy(){this.setMarkers(null,[])}}function sameMarkers(g,n){if(g.length!=n.length)return!1;for(let r=0;r<g.length;r++)if(!g[r].compare(n[r]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberConfig=Facet.define({combine(g){return combineConfig(g,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(n,r){let $=Object.assign({},n);for(let L in r){let V=$[L],oe=r[L];$[L]=V?(ae,re,le)=>V(ae,re,le)||oe(ae,re,le):oe}return $}})}});class NumberMarker extends GutterMarker{constructor(n){super(),this.number=n}eq(n){return this.number==n.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(g,n){return g.state.facet(lineNumberConfig).formatNumber(n,g.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],g=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(n){return n.state.facet(lineNumberMarkers)},lineMarker(n,r,$){return $.some(L=>L.toDOM)?null:new NumberMarker(formatNumber(n,n.state.doc.lineAt(r.from).number))},lineMarkerChange:n=>n.startState.facet(lineNumberConfig)!=n.state.facet(lineNumberConfig),initialSpacer(n){return new NumberMarker(formatNumber(n,maxLineNumber(n.state.doc.lines)))},updateSpacer(n,r){let $=formatNumber(r.view,maxLineNumber(r.view.state.doc.lines));return $==n.number?n:new NumberMarker($)},domEventHandlers:g.facet(lineNumberConfig).domEventHandlers}));function lineNumbers(g={}){return[lineNumberConfig.of(g),gutters(),lineNumberGutter]}function maxLineNumber(g){let n=9;for(;n<g;)n=n*10+9;return n}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],g=>{let n=[],r=-1;for(let $ of g.selection.ranges){let L=g.doc.lineAt($.head).from;L>r&&(r=L,n.push(activeLineGutterMarker.range(L)))}return RangeSet.of(n)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(n,r){this.from=n,this.to=r}}class NodeProp{constructor(n={}){this.id=nextPropID++,this.perNode=!!n.perNode,this.deserialize=n.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(n){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof n!="function"&&(n=NodeType.match(n)),r=>{let $=n(r);return $===void 0?null:[this,$]}}}NodeProp.closedBy=new NodeProp({deserialize:g=>g.split(" ")}),NodeProp.openedBy=new NodeProp({deserialize:g=>g.split(" ")}),NodeProp.group=new NodeProp({deserialize:g=>g.split(" ")}),NodeProp.contextHash=new NodeProp({perNode:!0}),NodeProp.lookAhead=new NodeProp({perNode:!0}),NodeProp.mounted=new NodeProp({perNode:!0});const noProps=Object.create(null);class NodeType{constructor(n,r,$,L=0){this.name=n,this.props=r,this.id=$,this.flags=L}static define(n){let r=n.props&&n.props.length?Object.create(null):noProps,$=(n.top?1:0)|(n.skipped?2:0)|(n.error?4:0)|(n.name==null?8:0),L=new NodeType(n.name||"",r,n.id,$);if(n.props){for(let V of n.props)if(Array.isArray(V)||(V=V(L)),V){if(V[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[V[0].id]=V[1]}}return L}prop(n){return this.props[n.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(n){if(typeof n=="string"){if(this.name==n)return!0;let r=this.prop(NodeProp.group);return r?r.indexOf(n)>-1:!1}return this.id==n}static match(n){let r=Object.create(null);for(let $ in n)for(let L of $.split(" "))r[L]=n[$];return $=>{for(let L=$.prop(NodeProp.group),V=-1;V<(L?L.length:0);V++){let oe=r[V<0?$.name:L[V]];if(oe)return oe}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(n){this.types=n;for(let r=0;r<n.length;r++)if(n[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...n){let r=[];for(let $ of this.types){let L=null;for(let V of n){let oe=V($);oe&&(L||(L=Object.assign({},$.props)),L[oe[0].id]=oe[1])}r.push(L?new NodeType($.name,L,$.id,$.flags):$)}return new NodeSet(r)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(g){g[g.ExcludeBuffers=1]="ExcludeBuffers",g[g.IncludeAnonymous=2]="IncludeAnonymous",g[g.IgnoreMounts=4]="IgnoreMounts",g[g.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree$2{constructor(n,r,$,L,V){if(this.type=n,this.children=r,this.positions=$,this.length=L,this.props=null,V&&V.length){this.props=Object.create(null);for(let[oe,ae]of V)this.props[typeof oe=="number"?oe:oe.id]=ae}}toString(){let n=this.prop(NodeProp.mounted);if(n&&!n.overlay)return n.tree.toString();let r="";for(let $ of this.children){let L=$.toString();L&&(r&&(r+=","),r+=L)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(n=0){return new TreeCursor(this.topNode,n)}cursorAt(n,r=0,$=0){let L=CachedNode.get(this)||this.topNode,V=new TreeCursor(L);return V.moveTo(n,r),CachedNode.set(this,V._tree),V}get topNode(){return new TreeNode$1(this,0,0,null)}resolve(n,r=0){let $=resolveNode(CachedNode.get(this)||this.topNode,n,r,!1);return CachedNode.set(this,$),$}resolveInner(n,r=0){let $=resolveNode(CachedInnerNode.get(this)||this.topNode,n,r,!0);return CachedInnerNode.set(this,$),$}iterate(n){let{enter:r,leave:$,from:L=0,to:V=this.length}=n;for(let oe=this.cursor((n.mode||0)|IterMode.IncludeAnonymous);;){let ae=!1;if(oe.from<=V&&oe.to>=L&&(oe.type.isAnonymous||r(oe)!==!1)){if(oe.firstChild())continue;ae=!0}for(;ae&&$&&!oe.type.isAnonymous&&$(oe),!oe.nextSibling();){if(!oe.parent())return;ae=!0}}}prop(n){return n.perNode?this.props?this.props[n.id]:void 0:this.type.prop(n)}get propValues(){let n=[];if(this.props)for(let r in this.props)n.push([+r,this.props[r]]);return n}balance(n={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(r,$,L)=>new Tree$2(this.type,r,$,L,this.propValues),n.makeTree||((r,$,L)=>new Tree$2(NodeType.none,r,$,L)))}static build(n){return buildTree(n)}}Tree$2.empty=new Tree$2(NodeType.none,[],[],0);class FlatBufferCursor{constructor(n,r){this.buffer=n,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(n,r,$){this.buffer=n,this.length=r,this.set=$}get type(){return NodeType.none}toString(){let n=[];for(let r=0;r<this.buffer.length;)n.push(this.childString(r)),r=this.buffer[r+3];return n.join(",")}childString(n){let r=this.buffer[n],$=this.buffer[n+3],L=this.set.types[r],V=L.name;if(/\W/.test(V)&&!L.isError&&(V=JSON.stringify(V)),n+=4,$==n)return V;let oe=[];for(;n<$;)oe.push(this.childString(n)),n=this.buffer[n+3];return V+"("+oe.join(",")+")"}findChild(n,r,$,L,V){let{buffer:oe}=this,ae=-1;for(let re=n;re!=r&&!(checkSide(V,L,oe[re+1],oe[re+2])&&(ae=re,$>0));re=oe[re+3]);return ae}slice(n,r,$){let L=this.buffer,V=new Uint16Array(r-n),oe=0;for(let ae=n,re=0;ae<r;){V[re++]=L[ae++],V[re++]=L[ae++]-$;let le=V[re++]=L[ae++]-$;V[re++]=L[ae++]-n,oe=Math.max(oe,le)}return new TreeBuffer(V,oe,this.set)}}function checkSide(g,n,r,$){switch(g){case-2:return r<n;case-1:return $>=n&&r<n;case 0:return r<n&&$>n;case 1:return r<=n&&$>n;case 2:return $>n;case 4:return!0}}function enterUnfinishedNodesBefore(g,n){let r=g.childBefore(n);for(;r;){let $=r.lastChild;if(!$||$.to!=r.to)break;$.type.isError&&$.from==$.to?(g=r,r=$.prevSibling):r=$}return g}function resolveNode(g,n,r,$){for(var L;g.from==g.to||(r<1?g.from>=n:g.from>n)||(r>-1?g.to<=n:g.to<n);){let oe=!$&&g instanceof TreeNode$1&&g.index<0?null:g.parent;if(!oe)return g;g=oe}let V=$?0:IterMode.IgnoreOverlays;if($)for(let oe=g,ae=oe.parent;ae;oe=ae,ae=oe.parent)oe instanceof TreeNode$1&&oe.index<0&&((L=ae.enter(n,r,V))===null||L===void 0?void 0:L.from)!=oe.from&&(g=ae);for(;;){let oe=g.enter(n,r,V);if(!oe)return g;g=oe}}class TreeNode$1{constructor(n,r,$,L){this._tree=n,this.from=r,this.index=$,this._parent=L}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(n,r,$,L,V=0){for(let oe=this;;){for(let{children:ae,positions:re}=oe._tree,le=r>0?ae.length:-1;n!=le;n+=r){let ue=ae[n],de=re[n]+oe.from;if(checkSide(L,$,de,de+ue.length)){if(ue instanceof TreeBuffer){if(V&IterMode.ExcludeBuffers)continue;let he=ue.findChild(0,ue.buffer.length,r,$-de,L);if(he>-1)return new BufferNode(new BufferContext(oe,ue,n,de),null,he)}else if(V&IterMode.IncludeAnonymous||!ue.type.isAnonymous||hasChild(ue)){let he;if(!(V&IterMode.IgnoreMounts)&&ue.props&&(he=ue.prop(NodeProp.mounted))&&!he.overlay)return new TreeNode$1(he.tree,de,n,oe);let pe=new TreeNode$1(ue,de,n,oe);return V&IterMode.IncludeAnonymous||!pe.type.isAnonymous?pe:pe.nextChild(r<0?ue.children.length-1:0,r,$,L)}}}if(V&IterMode.IncludeAnonymous||!oe.type.isAnonymous||(oe.index>=0?n=oe.index+r:n=r<0?-1:oe._parent._tree.children.length,oe=oe._parent,!oe))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(n){return this.nextChild(0,1,n,2)}childBefore(n){return this.nextChild(this._tree.children.length-1,-1,n,-2)}enter(n,r,$=0){let L;if(!($&IterMode.IgnoreOverlays)&&(L=this._tree.prop(NodeProp.mounted))&&L.overlay){let V=n-this.from;for(let{from:oe,to:ae}of L.overlay)if((r>0?oe<=V:oe<V)&&(r<0?ae>=V:ae>V))return new TreeNode$1(L.tree,L.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,n,r,$)}nextSignificantParent(){let n=this;for(;n.type.isAnonymous&&n._parent;)n=n._parent;return n}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(n=0){return new TreeCursor(this,n)}get tree(){return this._tree}toTree(){return this._tree}resolve(n,r=0){return resolveNode(this,n,r,!1)}resolveInner(n,r=0){return resolveNode(this,n,r,!0)}enterUnfinishedNodesBefore(n){return enterUnfinishedNodesBefore(this,n)}getChild(n,r=null,$=null){let L=getChildren(this,n,r,$);return L.length?L[0]:null}getChildren(n,r=null,$=null){return getChildren(this,n,r,$)}toString(){return this._tree.toString()}get node(){return this}matchContext(n){return matchNodeContext(this,n)}}function getChildren(g,n,r,$){let L=g.cursor(),V=[];if(!L.firstChild())return V;if(r!=null){for(;!L.type.is(r);)if(!L.nextSibling())return V}for(;;){if($!=null&&L.type.is($))return V;if(L.type.is(n)&&V.push(L.node),!L.nextSibling())return $==null?V:[]}}function matchNodeContext(g,n,r=n.length-1){for(let $=g.parent;r>=0;$=$.parent){if(!$)return!1;if(!$.type.isAnonymous){if(n[r]&&n[r]!=$.name)return!1;r--}}return!0}class BufferContext{constructor(n,r,$,L){this.parent=n,this.buffer=r,this.index=$,this.start=L}}class BufferNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(n,r,$){this.context=n,this._parent=r,this.index=$,this.type=n.buffer.set.types[n.buffer.buffer[$]]}child(n,r,$){let{buffer:L}=this.context,V=L.findChild(this.index+4,L.buffer[this.index+3],n,r-this.context.start,$);return V<0?null:new BufferNode(this.context,this,V)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(n){return this.child(1,n,2)}childBefore(n){return this.child(-1,n,-2)}enter(n,r,$=0){if($&IterMode.ExcludeBuffers)return null;let{buffer:L}=this.context,V=L.findChild(this.index+4,L.buffer[this.index+3],r>0?1:-1,n-this.context.start,r);return V<0?null:new BufferNode(this.context,this,V)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(n){return this._parent?null:this.context.parent.nextChild(this.context.index+n,n,0,4)}get nextSibling(){let{buffer:n}=this.context,r=n.buffer[this.index+3];return r<(this._parent?n.buffer[this._parent.index+3]:n.buffer.length)?new BufferNode(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:n}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new BufferNode(this.context,this._parent,n.findChild(r,this.index,-1,0,4))}cursor(n=0){return new TreeCursor(this,n)}get tree(){return null}toTree(){let n=[],r=[],{buffer:$}=this.context,L=this.index+4,V=$.buffer[this.index+3];if(V>L){let oe=$.buffer[this.index+1];n.push($.slice(L,V,oe)),r.push(0)}return new Tree$2(this.type,n,r,this.to-this.from)}resolve(n,r=0){return resolveNode(this,n,r,!1)}resolveInner(n,r=0){return resolveNode(this,n,r,!0)}enterUnfinishedNodesBefore(n){return enterUnfinishedNodesBefore(this,n)}toString(){return this.context.buffer.childString(this.index)}getChild(n,r=null,$=null){let L=getChildren(this,n,r,$);return L.length?L[0]:null}getChildren(n,r=null,$=null){return getChildren(this,n,r,$)}get node(){return this}matchContext(n){return matchNodeContext(this,n)}}class TreeCursor{get name(){return this.type.name}constructor(n,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,n instanceof TreeNode$1)this.yieldNode(n);else{this._tree=n.context.parent,this.buffer=n.context;for(let $=n._parent;$;$=$._parent)this.stack.unshift($.index);this.bufferNode=n,this.yieldBuf(n.index)}}yieldNode(n){return n?(this._tree=n,this.type=n.type,this.from=n.from,this.to=n.to,!0):!1}yieldBuf(n,r){this.index=n;let{start:$,buffer:L}=this.buffer;return this.type=r||L.set.types[L.buffer[n]],this.from=$+L.buffer[n+1],this.to=$+L.buffer[n+2],!0}yield(n){return n?n instanceof TreeNode$1?(this.buffer=null,this.yieldNode(n)):(this.buffer=n.context,this.yieldBuf(n.index,n.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(n,r,$){if(!this.buffer)return this.yield(this._tree.nextChild(n<0?this._tree._tree.children.length-1:0,n,r,$,this.mode));let{buffer:L}=this.buffer,V=L.findChild(this.index+4,L.buffer[this.index+3],n,r-this.buffer.start,$);return V<0?!1:(this.stack.push(this.index),this.yieldBuf(V))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(n){return this.enterChild(1,n,2)}childBefore(n){return this.enterChild(-1,n,-2)}enter(n,r,$=this.mode){return this.buffer?$&IterMode.ExcludeBuffers?!1:this.enterChild(1,n,r):this.yield(this._tree.enter(n,r,$))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let n=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(n)}sibling(n){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+n,n,0,4,this.mode)):!1;let{buffer:r}=this.buffer,$=this.stack.length-1;if(n<0){let L=$<0?0:this.stack[$]+4;if(this.index!=L)return this.yieldBuf(r.findChild(L,this.index,-1,0,4))}else{let L=r.buffer[this.index+3];if(L<($<0?r.buffer.length:r.buffer[this.stack[$]+3]))return this.yieldBuf(L)}return $<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+n,n,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(n){let r,$,{buffer:L}=this;if(L){if(n>0){if(this.index<L.buffer.buffer.length)return!1}else for(let V=0;V<this.index;V++)if(L.buffer.buffer[V+3]<this.index)return!1;({index:r,parent:$}=L)}else({index:r,_parent:$}=this._tree);for(;$;{index:r,_parent:$}=$)if(r>-1)for(let V=r+n,oe=n<0?-1:$._tree.children.length;V!=oe;V+=n){let ae=$._tree.children[V];if(this.mode&IterMode.IncludeAnonymous||ae instanceof TreeBuffer||!ae.type.isAnonymous||hasChild(ae))return!1}return!0}move(n,r){if(r&&this.enterChild(n,0,4))return!0;for(;;){if(this.sibling(n))return!0;if(this.atLastNode(n)||!this.parent())return!1}}next(n=!0){return this.move(1,n)}prev(n=!0){return this.move(-1,n)}moveTo(n,r=0){for(;(this.from==this.to||(r<1?this.from>=n:this.from>n)||(r>-1?this.to<=n:this.to<n))&&this.parent(););for(;this.enterChild(1,n,r););return this}get node(){if(!this.buffer)return this._tree;let n=this.bufferNode,r=null,$=0;if(n&&n.context==this.buffer){e:for(let L=this.index,V=this.stack.length;V>=0;){for(let oe=n;oe;oe=oe._parent)if(oe.index==L){if(L==this.index)return oe;r=oe,$=V+1;break e}L=this.stack[--V]}}for(let L=$;L<this.stack.length;L++)r=new BufferNode(this.buffer,r,this.stack[L]);return this.bufferNode=new BufferNode(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(n,r){for(let $=0;;){let L=!1;if(this.type.isAnonymous||n(this)!==!1){if(this.firstChild()){$++;continue}this.type.isAnonymous||(L=!0)}for(;L&&r&&r(this),L=this.type.isAnonymous,!this.nextSibling();){if(!$)return;this.parent(),$--,L=!0}}}matchContext(n){if(!this.buffer)return matchNodeContext(this.node,n);let{buffer:r}=this.buffer,{types:$}=r.set;for(let L=n.length-1,V=this.stack.length-1;L>=0;V--){if(V<0)return matchNodeContext(this.node,n,L);let oe=$[r.buffer[this.stack[V]]];if(!oe.isAnonymous){if(n[L]&&n[L]!=oe.name)return!1;L--}}return!0}}function hasChild(g){return g.children.some(n=>n instanceof TreeBuffer||!n.type.isAnonymous||hasChild(n))}function buildTree(g){var n;let{buffer:r,nodeSet:$,maxBufferLength:L=DefaultBufferLength,reused:V=[],minRepeatType:oe=$.types.length}=g,ae=Array.isArray(r)?new FlatBufferCursor(r,r.length):r,re=$.types,le=0,ue=0;function de(Ne,ze,Fe,Ue,At){let{id:Et,start:Pt,end:kt,size:Dt}=ae,Lt=ue;for(;Dt<0;)if(ae.next(),Dt==-1){let Sn=V[Et];Fe.push(Sn),Ue.push(Pt-Ne);return}else if(Dt==-3){le=Et;return}else if(Dt==-4){ue=Et;return}else throw new RangeError(`Unrecognized record size: ${Dt}`);let hn=re[Et],vn,_n,$n=Pt-Ne;if(kt-Pt<=L&&(_n=$e(ae.pos-ze,At))){let Sn=new Uint16Array(_n.size-_n.skip),xn=ae.pos-_n.size,On=Sn.length;for(;ae.pos>xn;)On=xe(_n.start,Sn,On);vn=new TreeBuffer(Sn,kt-_n.start,$),$n=_n.start-Ne}else{let Sn=ae.pos-Dt;ae.next();let xn=[],On=[],Cn=Et>=oe?Et:-1,An=0,Rn=kt;for(;ae.pos>Sn;)Cn>=0&&ae.id==Cn&&ae.size>=0?(ae.end<=Rn-L&&(pe(xn,On,Pt,An,ae.end,Rn,Cn,Lt),An=xn.length,Rn=ae.end),ae.next()):de(Pt,Sn,xn,On,Cn);if(Cn>=0&&An>0&&An<xn.length&&pe(xn,On,Pt,An,Pt,Rn,Cn,Lt),xn.reverse(),On.reverse(),Cn>-1&&An>0){let Fn=he(hn);vn=balanceRange(hn,xn,On,0,xn.length,0,kt-Pt,Fn,Fn)}else vn=_e(hn,xn,On,kt-Pt,Lt-kt)}Fe.push(vn),Ue.push($n)}function he(Ne){return(ze,Fe,Ue)=>{let At=0,Et=ze.length-1,Pt,kt;if(Et>=0&&(Pt=ze[Et])instanceof Tree$2){if(!Et&&Pt.type==Ne&&Pt.length==Ue)return Pt;(kt=Pt.prop(NodeProp.lookAhead))&&(At=Fe[Et]+Pt.length+kt)}return _e(Ne,ze,Fe,Ue,At)}}function pe(Ne,ze,Fe,Ue,At,Et,Pt,kt){let Dt=[],Lt=[];for(;Ne.length>Ue;)Dt.push(Ne.pop()),Lt.push(ze.pop()+Fe-At);Ne.push(_e($.types[Pt],Dt,Lt,Et-At,kt-Et)),ze.push(At-Fe)}function _e(Ne,ze,Fe,Ue,At=0,Et){if(le){let Pt=[NodeProp.contextHash,le];Et=Et?[Pt].concat(Et):[Pt]}if(At>25){let Pt=[NodeProp.lookAhead,At];Et=Et?[Pt].concat(Et):[Pt]}return new Tree$2(Ne,ze,Fe,Ue,Et)}function $e(Ne,ze){let Fe=ae.fork(),Ue=0,At=0,Et=0,Pt=Fe.end-L,kt={size:0,start:0,skip:0};e:for(let Dt=Fe.pos-Ne;Fe.pos>Dt;){let Lt=Fe.size;if(Fe.id==ze&&Lt>=0){kt.size=Ue,kt.start=At,kt.skip=Et,Et+=4,Ue+=4,Fe.next();continue}let hn=Fe.pos-Lt;if(Lt<0||hn<Dt||Fe.start<Pt)break;let vn=Fe.id>=oe?4:0,_n=Fe.start;for(Fe.next();Fe.pos>hn;){if(Fe.size<0)if(Fe.size==-3)vn+=4;else break e;else Fe.id>=oe&&(vn+=4);Fe.next()}At=_n,Ue+=Lt,Et+=vn}return(ze<0||Ue==Ne)&&(kt.size=Ue,kt.start=At,kt.skip=Et),kt.size>4?kt:void 0}function xe(Ne,ze,Fe){let{id:Ue,start:At,end:Et,size:Pt}=ae;if(ae.next(),Pt>=0&&Ue<oe){let kt=Fe;if(Pt>4){let Dt=ae.pos-(Pt-4);for(;ae.pos>Dt;)Fe=xe(Ne,ze,Fe)}ze[--Fe]=kt,ze[--Fe]=Et-Ne,ze[--Fe]=At-Ne,ze[--Fe]=Ue}else Pt==-3?le=Ue:Pt==-4&&(ue=Ue);return Fe}let Oe=[],Ce=[];for(;ae.pos>0;)de(g.start||0,g.bufferStart||0,Oe,Ce,-1);let Ie=(n=g.length)!==null&&n!==void 0?n:Oe.length?Ce[0]+Oe[0].length:0;return new Tree$2(re[g.topID],Oe.reverse(),Ce.reverse(),Ie)}const nodeSizeCache=new WeakMap;function nodeSize(g,n){if(!g.isAnonymous||n instanceof TreeBuffer||n.type!=g)return 1;let r=nodeSizeCache.get(n);if(r==null){r=1;for(let $ of n.children){if($.type!=g||!($ instanceof Tree$2)){r=1;break}r+=nodeSize(g,$)}nodeSizeCache.set(n,r)}return r}function balanceRange(g,n,r,$,L,V,oe,ae,re){let le=0;for(let _e=$;_e<L;_e++)le+=nodeSize(g,n[_e]);let ue=Math.ceil(le*1.5/8),de=[],he=[];function pe(_e,$e,xe,Oe,Ce){for(let Ie=xe;Ie<Oe;){let Ne=Ie,ze=$e[Ie],Fe=nodeSize(g,_e[Ie]);for(Ie++;Ie<Oe;Ie++){let Ue=nodeSize(g,_e[Ie]);if(Fe+Ue>=ue)break;Fe+=Ue}if(Ie==Ne+1){if(Fe>ue){let Ue=_e[Ne];pe(Ue.children,Ue.positions,0,Ue.children.length,$e[Ne]+Ce);continue}de.push(_e[Ne])}else{let Ue=$e[Ie-1]+_e[Ie-1].length-ze;de.push(balanceRange(g,_e,$e,Ne,Ie,ze,Ue,null,re))}he.push(ze+Ce-V)}}return pe(n,r,$,L,0),(ae||re)(de,he,oe)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(n,r,$){let L=this.map.get(n);L||this.map.set(n,L=new Map),L.set(r,$)}getBuffer(n,r){let $=this.map.get(n);return $&&$.get(r)}set(n,r){n instanceof BufferNode?this.setBuffer(n.context.buffer,n.index,r):n instanceof TreeNode$1&&this.map.set(n.tree,r)}get(n){return n instanceof BufferNode?this.getBuffer(n.context.buffer,n.index):n instanceof TreeNode$1?this.map.get(n.tree):void 0}cursorSet(n,r){n.buffer?this.setBuffer(n.buffer.buffer,n.index,r):this.map.set(n.tree,r)}cursorGet(n){return n.buffer?this.getBuffer(n.buffer.buffer,n.index):this.map.get(n.tree)}}class TreeFragment{constructor(n,r,$,L,V=!1,oe=!1){this.from=n,this.to=r,this.tree=$,this.offset=L,this.open=(V?1:0)|(oe?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(n,r=[],$=!1){let L=[new TreeFragment(0,n.length,n,0,!1,$)];for(let V of r)V.to>n.length&&L.push(V);return L}static applyChanges(n,r,$=128){if(!r.length)return n;let L=[],V=1,oe=n.length?n[0]:null;for(let ae=0,re=0,le=0;;ae++){let ue=ae<r.length?r[ae]:null,de=ue?ue.fromA:1e9;if(de-re>=$)for(;oe&&oe.from<de;){let he=oe;if(re>=he.from||de<=he.to||le){let pe=Math.max(he.from,re)-le,_e=Math.min(he.to,de)-le;he=pe>=_e?null:new TreeFragment(pe,_e,he.tree,he.offset+le,ae>0,!!ue)}if(he&&L.push(he),oe.to>de)break;oe=V<n.length?n[V++]:null}if(!ue)break;re=ue.toA,le=ue.toA-ue.toB}return L}}class Parser{startParse(n,r,$){return typeof n=="string"&&(n=new StringInput(n)),$=$?$.length?$.map(L=>new Range(L.from,L.to)):[new Range(0,0)]:[new Range(0,n.length)],this.createParse(n,r||[],$)}parse(n,r,$){let L=this.startParse(n,r,$);for(;;){let V=L.advance();if(V)return V}}}class StringInput{constructor(n){this.string=n}get length(){return this.string.length}chunk(n){return this.string.slice(n)}get lineChunks(){return!1}read(n,r){return this.string.slice(n,r)}}new NodeProp({perNode:!0});let nextTagID=0;class Tag{constructor(n,r,$){this.set=n,this.base=r,this.modified=$,this.id=nextTagID++}static define(n){if(n!=null&&n.base)throw new Error("Can not derive from a modified tag");let r=new Tag([],null,[]);if(r.set.push(r),n)for(let $ of n.set)r.set.push($);return r}static defineModifier(){let n=new Modifier;return r=>r.modified.indexOf(n)>-1?r:Modifier.get(r.base||r,r.modified.concat(n).sort(($,L)=>$.id-L.id))}}let nextModifierID=0;class Modifier{constructor(){this.instances=[],this.id=nextModifierID++}static get(n,r){if(!r.length)return n;let $=r[0].instances.find(ae=>ae.base==n&&sameArray(r,ae.modified));if($)return $;let L=[],V=new Tag(L,n,r);for(let ae of r)ae.instances.push(V);let oe=powerSet(r);for(let ae of n.set)if(!ae.modified.length)for(let re of oe)L.push(Modifier.get(ae,re));return V}}function sameArray(g,n){return g.length==n.length&&g.every((r,$)=>r==n[$])}function powerSet(g){let n=[[]];for(let r=0;r<g.length;r++)for(let $=0,L=n.length;$<L;$++)n.push(n[$].concat(g[r]));return n.sort((r,$)=>$.length-r.length)}function styleTags(g){let n=Object.create(null);for(let r in g){let $=g[r];Array.isArray($)||($=[$]);for(let L of r.split(" "))if(L){let V=[],oe=2,ae=L;for(let de=0;;){if(ae=="..."&&de>0&&de+3==L.length){oe=1;break}let he=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(ae);if(!he)throw new RangeError("Invalid path: "+L);if(V.push(he[0]=="*"?"":he[0][0]=='"'?JSON.parse(he[0]):he[0]),de+=he[0].length,de==L.length)break;let pe=L[de++];if(de==L.length&&pe=="!"){oe=0;break}if(pe!="/")throw new RangeError("Invalid path: "+L);ae=L.slice(de)}let re=V.length-1,le=V[re];if(!le)throw new RangeError("Invalid path: "+L);let ue=new Rule($,oe,re>0?V.slice(0,re):null);n[le]=ue.sort(n[le])}}return ruleNodeProp.add(n)}const ruleNodeProp=new NodeProp;class Rule{constructor(n,r,$,L){this.tags=n,this.mode=r,this.context=$,this.next=L}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(n){return!n||n.depth<this.depth?(this.next=n,this):(n.next=this.sort(n.next),n)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(g,n){let r=Object.create(null);for(let V of g)if(!Array.isArray(V.tag))r[V.tag.id]=V.class;else for(let oe of V.tag)r[oe.id]=V.class;let{scope:$,all:L=null}=n||{};return{style:V=>{let oe=L;for(let ae of V)for(let re of ae.set){let le=r[re.id];if(le){oe=oe?oe+" "+le:le;break}}return oe},scope:$}}function highlightTags(g,n){let r=null;for(let $ of g){let L=$.style(n);L&&(r=r?r+" "+L:L)}return r}function highlightTree(g,n,r,$=0,L=g.length){let V=new HighlightBuilder($,Array.isArray(n)?n:[n],r);V.highlightRange(g.cursor(),$,L,"",V.highlighters),V.flush(L)}class HighlightBuilder{constructor(n,r,$){this.at=n,this.highlighters=r,this.span=$,this.class=""}startSpan(n,r){r!=this.class&&(this.flush(n),n>this.at&&(this.at=n),this.class=r)}flush(n){n>this.at&&this.class&&this.span(this.at,n,this.class)}highlightRange(n,r,$,L,V){let{type:oe,from:ae,to:re}=n;if(ae>=$||re<=r)return;oe.isTop&&(V=this.highlighters.filter(pe=>!pe.scope||pe.scope(oe)));let le=L,ue=getStyleTags(n)||Rule.empty,de=highlightTags(V,ue.tags);if(de&&(le&&(le+=" "),le+=de,ue.mode==1&&(L+=(L?" ":"")+de)),this.startSpan(n.from,le),ue.opaque)return;let he=n.tree&&n.tree.prop(NodeProp.mounted);if(he&&he.overlay){let pe=n.node.enter(he.overlay[0].from+ae,1),_e=this.highlighters.filter(xe=>!xe.scope||xe.scope(he.tree.type)),$e=n.firstChild();for(let xe=0,Oe=ae;;xe++){let Ce=xe<he.overlay.length?he.overlay[xe]:null,Ie=Ce?Ce.from+ae:re,Ne=Math.max(r,Oe),ze=Math.min($,Ie);if(Ne<ze&&$e)for(;n.from<ze&&(this.highlightRange(n,Ne,ze,L,V),this.startSpan(Math.min(ze,n.to),le),!(n.to>=Ie||!n.nextSibling())););if(!Ce||Ie>$)break;Oe=Ce.to+ae,Oe>r&&(this.highlightRange(pe.cursor(),Math.max(r,Ce.from+ae),Math.min($,Oe),L,_e),this.startSpan(Oe,le))}$e&&n.parent()}else if(n.firstChild()){do if(!(n.to<=r)){if(n.from>=$)break;this.highlightRange(n,r,$,L,V),this.startSpan(Math.min($,n.to),le)}while(n.nextSibling());n.parent()}}}function getStyleTags(g){let n=g.type.prop(ruleNodeProp);for(;n&&n.context&&!g.matchContext(n.context);)n=n.next;return n||null}const t=Tag.define,comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string=t(literal),number=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name,variableName:t(name),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal,string,docString:t(string),character:t(string),attributeValue:t(string),number,integer:t(number),float:t(number),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier(),constant:Tag.defineModifier(),function:Tag.defineModifier(),standard:Tag.defineModifier(),local:Tag.defineModifier(),special:Tag.defineModifier()};tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);var _a$1;const languageDataProp=new NodeProp;function defineLanguageFacet(g){return Facet.define({combine:g?n=>n.concat(g):void 0})}class Language{constructor(n,r,$=[],L=""){this.data=n,this.name=L,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=r,this.extension=[language.of(this),EditorState.languageData.of((V,oe,ae)=>V.facet(languageDataFacetAt(V,oe,ae)))].concat($)}isActiveAt(n,r,$=-1){return languageDataFacetAt(n,r,$)==this.data}findRegions(n){let r=n.facet(language);if((r==null?void 0:r.data)==this.data)return[{from:0,to:n.doc.length}];if(!r||!r.allowsNesting)return[];let $=[],L=(V,oe)=>{if(V.prop(languageDataProp)==this.data){$.push({from:oe,to:oe+V.length});return}let ae=V.prop(NodeProp.mounted);if(ae){if(ae.tree.prop(languageDataProp)==this.data){if(ae.overlay)for(let re of ae.overlay)$.push({from:re.from+oe,to:re.to+oe});else $.push({from:oe,to:oe+V.length});return}else if(ae.overlay){let re=$.length;if(L(ae.tree,ae.overlay[0].from+oe),$.length>re)return}}for(let re=0;re<V.children.length;re++){let le=V.children[re];le instanceof Tree$2&&L(le,V.positions[re]+oe)}};return L(syntaxTree(n),0),$}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function languageDataFacetAt(g,n,r){let $=g.facet(language);if(!$)return null;let L=$.data;if($.allowsNesting)for(let V=syntaxTree(g).topNode;V;V=V.enter(n,r,IterMode.ExcludeBuffers))L=V.type.prop(languageDataProp)||L;return L}class LRLanguage extends Language{constructor(n,r,$){super(n,r,[],$),this.parser=r}static define(n){let r=defineLanguageFacet(n.languageData);return new LRLanguage(r,n.parser.configure({props:[languageDataProp.add($=>$.isTop?r:void 0)]}),n.name)}configure(n,r){return new LRLanguage(this.data,this.parser.configure(n),r||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(g){let n=g.field(Language.state,!1);return n?n.tree:Tree$2.empty}class DocInput{constructor(n,r=n.length){this.doc=n,this.length=r,this.cursorPos=0,this.string="",this.cursor=n.iter()}syncTo(n){return this.string=this.cursor.next(n-this.cursorPos).value,this.cursorPos=n+this.string.length,this.cursorPos-this.string.length}chunk(n){return this.syncTo(n),this.string}get lineChunks(){return!0}read(n,r){let $=this.cursorPos-this.string.length;return n<$||r>=this.cursorPos?this.doc.sliceString(n,r):this.string.slice(n-$,r-$)}}let currentContext=null;class ParseContext{constructor(n,r,$=[],L,V,oe,ae,re){this.parser=n,this.state=r,this.fragments=$,this.tree=L,this.treeLen=V,this.viewport=oe,this.skipped=ae,this.scheduleOn=re,this.parse=null,this.tempSkipped=[]}static create(n,r,$){return new ParseContext(n,r,[],Tree$2.empty,0,$,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(n,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=Tree$2.empty&&this.isDone(r!=null?r:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var $;if(typeof n=="number"){let L=Date.now()+n;n=()=>Date.now()>L}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let L=this.parse.advance();if(L)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(L,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=($=this.parse.stoppedAt)!==null&&$!==void 0?$:this.state.doc.length,this.tree=L,this.parse=null,this.treeLen<(r!=null?r:this.state.doc.length))this.parse=this.startParse();else return!0;if(n())return!1}})}takeTree(){let n,r;this.parse&&(n=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&this.parse.stopAt(n),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=n,this.tree=r,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(n){let r=currentContext;currentContext=this;try{return n()}finally{currentContext=r}}withoutTempSkipped(n){for(let r;r=this.tempSkipped.pop();)n=cutFragments(n,r.from,r.to);return n}changes(n,r){let{fragments:$,tree:L,treeLen:V,viewport:oe,skipped:ae}=this;if(this.takeTree(),!n.empty){let re=[];if(n.iterChangedRanges((le,ue,de,he)=>re.push({fromA:le,toA:ue,fromB:de,toB:he})),$=TreeFragment.applyChanges($,re),L=Tree$2.empty,V=0,oe={from:n.mapPos(oe.from,-1),to:n.mapPos(oe.to,1)},this.skipped.length){ae=[];for(let le of this.skipped){let ue=n.mapPos(le.from,1),de=n.mapPos(le.to,-1);ue<de&&ae.push({from:ue,to:de})}}}return new ParseContext(this.parser,r,$,L,V,oe,ae,this.scheduleOn)}updateViewport(n){if(this.viewport.from==n.from&&this.viewport.to==n.to)return!1;this.viewport=n;let r=this.skipped.length;for(let $=0;$<this.skipped.length;$++){let{from:L,to:V}=this.skipped[$];L<n.to&&V>n.from&&(this.fragments=cutFragments(this.fragments,L,V),this.skipped.splice($--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(n,r){this.skipped.push({from:n,to:r})}static getSkippingParser(n){return new class extends Parser{createParse(r,$,L){let V=L[0].from,oe=L[L.length-1].to;return{parsedPos:V,advance(){let ae=currentContext;if(ae){for(let re of L)ae.tempSkipped.push(re);n&&(ae.scheduleOn=ae.scheduleOn?Promise.all([ae.scheduleOn,n]):n)}return this.parsedPos=oe,new Tree$2(NodeType.none,[],[],oe-V)},stoppedAt:null,stopAt(){}}}}}isDone(n){n=Math.min(n,this.state.doc.length);let r=this.fragments;return this.treeLen>=n&&r.length&&r[0].from==0&&r[0].to>=n}static get(){return currentContext}}function cutFragments(g,n,r){return TreeFragment.applyChanges(g,[{fromA:n,toA:r,fromB:n,toB:r}])}class LanguageState{constructor(n){this.context=n,this.tree=n.tree}apply(n){if(!n.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(n.changes,n.state),$=this.context.treeLen==n.startState.doc.length?void 0:Math.max(n.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,$)||r.takeTree(),new LanguageState(r)}static init(n){let r=Math.min(3e3,n.doc.length),$=ParseContext.create(n.facet(language).parser,n,{from:0,to:r});return $.work(20,r)||$.takeTree(),new LanguageState($)}}Language.state=StateField.define({create:LanguageState.init,update(g,n){for(let r of n.effects)if(r.is(Language.setState))return r.value;return n.startState.facet(language)!=n.state.facet(language)?LanguageState.init(n.state):g.apply(n)}});let requestIdle=g=>{let n=setTimeout(()=>g(),500);return()=>clearTimeout(n)};typeof requestIdleCallback<"u"&&(requestIdle=g=>{let n=-1,r=setTimeout(()=>{n=requestIdleCallback(g,{timeout:500-100})},100);return()=>n<0?clearTimeout(r):cancelIdleCallback(n)});const isInputPending=typeof navigator<"u"&&((_a$1=navigator.scheduling)===null||_a$1===void 0?void 0:_a$1.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(g){this.view=g,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(g){let n=this.view.state.field(Language.state).context;(n.updateViewport(g.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),g.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:g}=this.view,n=g.field(Language.state);(n.tree!=n.context.tree||!n.context.isDone(g.doc.length))&&(this.working=requestIdle(this.work))}work(g){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:$}}=this.view,L=r.field(Language.state);if(L.tree==L.context.tree&&L.context.isDone($+1e5))return;let V=Date.now()+Math.min(this.chunkBudget,100,g&&!isInputPending?Math.max(25,g.timeRemaining()-5):1e9),oe=L.context.treeLen<$&&r.doc.length>$+1e3,ae=L.context.work(()=>isInputPending&&isInputPending()||Date.now()>V,$+(oe?0:1e5));this.chunkBudget-=Date.now()-n,(ae||this.chunkBudget<=0)&&(L.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(L.context))})),this.chunkBudget>0&&!(ae&&!oe)&&this.scheduleWork(),this.checkAsyncSchedule(L.context)}checkAsyncSchedule(g){g.scheduleOn&&(this.workScheduled++,g.scheduleOn.then(()=>this.scheduleWork()).catch(n=>logException(this.view.state,n)).then(()=>this.workScheduled--),g.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(g){return g.length?g[0]:null},enables:g=>[Language.state,parseWorker,EditorView.contentAttributes.compute([g],n=>{let r=n.facet(g);return r&&r.name?{"data-language":r.name}:{}})]});class LanguageSupport{constructor(n,r=[]){this.language=n,this.support=r,this.extension=[n,r]}}const indentService=Facet.define(),indentUnit=Facet.define({combine:g=>{if(!g.length)return"  ";if(!/^(?: +|\t+)$/.test(g[0]))throw new Error("Invalid indent unit: "+JSON.stringify(g[0]));return g[0]}});function getIndentUnit(g){let n=g.facet(indentUnit);return n.charCodeAt(0)==9?g.tabSize*n.length:n.length}function indentString(g,n){let r="",$=g.tabSize;if(g.facet(indentUnit).charCodeAt(0)==9)for(;n>=$;)r+="	",n-=$;for(let L=0;L<n;L++)r+=" ";return r}function getIndentation(g,n){g instanceof EditorState&&(g=new IndentContext(g));for(let $ of g.state.facet(indentService)){let L=$(g,n);if(L!==void 0)return L}let r=syntaxTree(g.state);return r?syntaxIndentation(g,r,n):null}class IndentContext{constructor(n,r={}){this.state=n,this.options=r,this.unit=getIndentUnit(n)}lineAt(n,r=1){let $=this.state.doc.lineAt(n),{simulateBreak:L,simulateDoubleBreak:V}=this.options;return L!=null&&L>=$.from&&L<=$.to?V&&L==n?{text:"",from:n}:(r<0?L<n:L<=n)?{text:$.text.slice(L-$.from),from:L}:{text:$.text.slice(0,L-$.from),from:$.from}:$}textAfterPos(n,r=1){if(this.options.simulateDoubleBreak&&n==this.options.simulateBreak)return"";let{text:$,from:L}=this.lineAt(n,r);return $.slice(n-L,Math.min($.length,n+100-L))}column(n,r=1){let{text:$,from:L}=this.lineAt(n,r),V=this.countColumn($,n-L),oe=this.options.overrideIndentation?this.options.overrideIndentation(L):-1;return oe>-1&&(V+=oe-this.countColumn($,$.search(/\S|$/))),V}countColumn(n,r=n.length){return countColumn(n,this.state.tabSize,r)}lineIndent(n,r=1){let{text:$,from:L}=this.lineAt(n,r),V=this.options.overrideIndentation;if(V){let oe=V(L);if(oe>-1)return oe}return this.countColumn($,$.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(g,n,r){return indentFrom(n.resolveInner(r).enterUnfinishedNodesBefore(r),r,g)}function ignoreClosed(g){return g.pos==g.options.simulateBreak&&g.options.simulateDoubleBreak}function indentStrategy(g){let n=g.type.prop(indentNodeProp);if(n)return n;let r=g.firstChild,$;if(r&&($=r.type.prop(NodeProp.closedBy))){let L=g.lastChild,V=L&&$.indexOf(L.name)>-1;return oe=>delimitedStrategy(oe,!0,1,void 0,V&&!ignoreClosed(oe)?L.from:void 0)}return g.parent==null?topIndent:null}function indentFrom(g,n,r){for(;g;g=g.parent){let $=indentStrategy(g);if($)return $(TreeIndentContext.create(r,n,g))}return null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(n,r,$){super(n.state,n.options),this.base=n,this.pos=r,this.node=$}static create(n,r,$){return new TreeIndentContext(n,r,$)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let n=this.state.doc.lineAt(this.node.from);for(;;){let r=this.node.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(isParent(r,this.node))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){let n=this.node.parent;return n?indentFrom(n,this.pos,this.base):0}}function isParent(g,n){for(let r=n;r;r=r.parent)if(g==r)return!0;return!1}function bracketedAligned(g){let n=g.node,r=n.childAfter(n.from),$=n.lastChild;if(!r)return null;let L=g.options.simulateBreak,V=g.state.doc.lineAt(r.from),oe=L==null||L<=V.from?V.to:Math.min(V.to,L);for(let ae=r.to;;){let re=n.childAfter(ae);if(!re||re==$)return null;if(!re.type.isSkipped)return re.from<oe?r:null;ae=re.to}}function delimitedIndent({closing:g,align:n=!0,units:r=1}){return $=>delimitedStrategy($,n,r,g)}function delimitedStrategy(g,n,r,$,L){let V=g.textAfter,oe=V.match(/^\s*/)[0].length,ae=$&&V.slice(oe,oe+$.length)==$||L==g.pos+oe,re=n?bracketedAligned(g):null;return re?ae?g.column(re.from):g.column(re.to):g.baseIndent+(ae?0:g.unit*r)}const flatIndent=g=>g.baseIndent;function continuedIndent({except:g,units:n=1}={}){return r=>{let $=g&&g.test(r.textAfter);return r.baseIndent+($?0:n*r.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(g=>{if(!g.docChanged||!g.isUserEvent("input.type")&&!g.isUserEvent("input.complete"))return g;let n=g.startState.languageDataAt("indentOnInput",g.startState.selection.main.head);if(!n.length)return g;let r=g.newDoc,{head:$}=g.newSelection.main,L=r.lineAt($);if($>L.from+DontIndentBeyond)return g;let V=r.sliceString(L.from,$);if(!n.some(le=>le.test(V)))return g;let{state:oe}=g,ae=-1,re=[];for(let{head:le}of oe.selection.ranges){let ue=oe.doc.lineAt(le);if(ue.from==ae)continue;ae=ue.from;let de=getIndentation(oe,ue.from);if(de==null)continue;let he=/^\s*/.exec(ue.text)[0],pe=indentString(oe,de);he!=pe&&re.push({from:ue.from,to:ue.from+he.length,insert:pe})}return re.length?[g,{changes:re,sequential:!0}]:g})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(g){let n=g.firstChild,r=g.lastChild;return n&&n.to<r.from?{from:n.to,to:r.type.isError?g.to:r.from}:null}function syntaxFolding(g,n,r){let $=syntaxTree(g);if($.length<r)return null;let L=$.resolveInner(r,1),V=null;for(let oe=L;oe;oe=oe.parent){if(oe.to<=r||oe.from>r)continue;if(V&&oe.from<n)break;let ae=oe.type.prop(foldNodeProp);if(ae&&(oe.to<$.length-50||$.length==g.doc.length||!isUnfinished(oe))){let re=ae(oe,g);re&&re.from<=r&&re.from>=n&&re.to>r&&(V=re)}}return V}function isUnfinished(g){let n=g.lastChild;return n&&n.to==g.to&&n.type.isError}function foldable(g,n,r){for(let $ of g.facet(foldService)){let L=$(g,n,r);if(L)return L}return syntaxFolding(g,n,r)}function mapRange(g,n){let r=n.mapPos(g.from,1),$=n.mapPos(g.to,-1);return r>=$?void 0:{from:r,to:$}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(g){let n=[];for(let{head:r}of g.state.selection.ranges)n.some($=>$.from<=r&&$.to>=r)||n.push(g.lineBlockAt(r));return n}const foldState=StateField.define({create(){return Decoration.none},update(g,n){g=g.map(n.changes);for(let r of n.effects)r.is(foldEffect)&&!foldExists(g,r.value.from,r.value.to)?g=g.update({add:[foldWidget.range(r.value.from,r.value.to)]}):r.is(unfoldEffect)&&(g=g.update({filter:($,L)=>r.value.from!=$||r.value.to!=L,filterFrom:r.value.from,filterTo:r.value.to}));if(n.selection){let r=!1,{head:$}=n.selection.main;g.between($,$,(L,V)=>{L<$&&V>$&&(r=!0)}),r&&(g=g.update({filterFrom:$,filterTo:$,filter:(L,V)=>V<=$||L>=$}))}return g},provide:g=>EditorView.decorations.from(g),toJSON(g,n){let r=[];return g.between(0,n.doc.length,($,L)=>{r.push($,L)}),r},fromJSON(g){if(!Array.isArray(g)||g.length%2)throw new RangeError("Invalid JSON for fold state");let n=[];for(let r=0;r<g.length;){let $=g[r++],L=g[r++];if(typeof $!="number"||typeof L!="number")throw new RangeError("Invalid JSON for fold state");n.push(foldWidget.range($,L))}return Decoration.set(n,!0)}});function findFold(g,n,r){var $;let L=null;return($=g.field(foldState,!1))===null||$===void 0||$.between(n,r,(V,oe)=>{(!L||L.from>V)&&(L={from:V,to:oe})}),L}function foldExists(g,n,r){let $=!1;return g.between(n,n,(L,V)=>{L==n&&V==r&&($=!0)}),$}function maybeEnable(g,n){return g.field(foldState,!1)?n:n.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=g=>{for(let n of selectedLines(g)){let r=foldable(g.state,n.from,n.to);if(r)return g.dispatch({effects:maybeEnable(g.state,[foldEffect.of(r),announceFold(g,r)])}),!0}return!1},unfoldCode=g=>{if(!g.state.field(foldState,!1))return!1;let n=[];for(let r of selectedLines(g)){let $=findFold(g.state,r.from,r.to);$&&n.push(unfoldEffect.of($),announceFold(g,$,!1))}return n.length&&g.dispatch({effects:n}),n.length>0};function announceFold(g,n,r=!0){let $=g.state.doc.lineAt(n.from).number,L=g.state.doc.lineAt(n.to).number;return EditorView.announce.of(`${g.state.phrase(r?"Folded lines":"Unfolded lines")} ${$} ${g.state.phrase("to")} ${L}.`)}const foldAll=g=>{let{state:n}=g,r=[];for(let $=0;$<n.doc.length;){let L=g.lineBlockAt($),V=foldable(n,L.from,L.to);V&&r.push(foldEffect.of(V)),$=(V?g.lineBlockAt(V.to):L).to+1}return r.length&&g.dispatch({effects:maybeEnable(g.state,r)}),!!r.length},unfoldAll=g=>{let n=g.state.field(foldState,!1);if(!n||!n.size)return!1;let r=[];return n.between(0,g.state.doc.length,($,L)=>{r.push(unfoldEffect.of({from:$,to:L}))}),g.dispatch({effects:r}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,placeholderText:"\u2026"},foldConfig=Facet.define({combine(g){return combineConfig(g,defaultConfig)}});function codeFolding(g){let n=[foldState,baseTheme$1$2];return g&&n.push(foldConfig.of(g)),n}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(g){let{state:n}=g,r=n.facet(foldConfig),$=V=>{let oe=g.lineBlockAt(g.posAtDOM(V.target)),ae=findFold(g.state,oe.from,oe.to);ae&&g.dispatch({effects:unfoldEffect.of(ae)}),V.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(g,$);let L=document.createElement("span");return L.textContent=r.placeholderText,L.setAttribute("aria-label",n.phrase("folded code")),L.title=n.phrase("unfold"),L.className="cm-foldPlaceholder",L.onclick=$,L}}}),foldGutterDefaults={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(n,r){super(),this.config=n,this.open=r}eq(n){return this.config==n.config&&this.open==n.open}toDOM(n){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=n.state.phrase(this.open?"Fold line":"Unfold line"),r}}function foldGutter(g={}){let n=Object.assign(Object.assign({},foldGutterDefaults),g),r=new FoldMarker(n,!0),$=new FoldMarker(n,!1),L=ViewPlugin.fromClass(class{constructor(oe){this.from=oe.viewport.from,this.markers=this.buildMarkers(oe)}update(oe){(oe.docChanged||oe.viewportChanged||oe.startState.facet(language)!=oe.state.facet(language)||oe.startState.field(foldState,!1)!=oe.state.field(foldState,!1)||syntaxTree(oe.startState)!=syntaxTree(oe.state)||n.foldingChanged(oe))&&(this.markers=this.buildMarkers(oe.view))}buildMarkers(oe){let ae=new RangeSetBuilder;for(let re of oe.viewportLineBlocks){let le=findFold(oe.state,re.from,re.to)?$:foldable(oe.state,re.from,re.to)?r:null;le&&ae.add(re.from,re.from,le)}return ae.finish()}}),{domEventHandlers:V}=n;return[L,gutter({class:"cm-foldGutter",markers(oe){var ae;return((ae=oe.plugin(L))===null||ae===void 0?void 0:ae.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(n,!1)},domEventHandlers:Object.assign(Object.assign({},V),{click:(oe,ae,re)=>{if(V.click&&V.click(oe,ae,re))return!0;let le=findFold(oe.state,ae.from,ae.to);if(le)return oe.dispatch({effects:unfoldEffect.of(le)}),!0;let ue=foldable(oe.state,ae.from,ae.to);return ue?(oe.dispatch({effects:foldEffect.of(ue)}),!0):!1}})}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(n,r){this.specs=n;let $;function L(ae){let re=StyleModule.newName();return($||($=Object.create(null)))["."+re]=ae,re}const V=typeof r.all=="string"?r.all:r.all?L(r.all):void 0,oe=r.scope;this.scope=oe instanceof Language?ae=>ae.prop(languageDataProp)==oe.data:oe?ae=>ae==oe:void 0,this.style=tagHighlighter(n.map(ae=>({tag:ae.tag,class:ae.class||L(Object.assign({},ae,{tag:null}))})),{all:V}).style,this.module=$?new StyleModule($):null,this.themeType=r.themeType}static define(n,r){return new HighlightStyle(n,r||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(g){return g.length?[g[0]]:null}});function getHighlighters(g){let n=g.facet(highlighterFacet);return n.length?n:g.facet(fallbackHighlighter)}function syntaxHighlighting(g,n){let r=[treeHighlighter],$;return g instanceof HighlightStyle&&(g.module&&r.push(EditorView.styleModule.of(g.module)),$=g.themeType),n!=null&&n.fallback?r.push(fallbackHighlighter.of(g)):$?r.push(highlighterFacet.computeN([EditorView.darkTheme],L=>L.facet(EditorView.darkTheme)==($=="dark")?[g]:[])):r.push(highlighterFacet.of(g)),r}class TreeHighlighter{constructor(n){this.markCache=Object.create(null),this.tree=syntaxTree(n.state),this.decorations=this.buildDeco(n,getHighlighters(n.state))}update(n){let r=syntaxTree(n.state),$=getHighlighters(n.state),L=$!=getHighlighters(n.startState);r.length<n.view.viewport.to&&!L&&r.type==this.tree.type?this.decorations=this.decorations.map(n.changes):(r!=this.tree||n.viewportChanged||L)&&(this.tree=r,this.decorations=this.buildDeco(n.view,$))}buildDeco(n,r){if(!r||!this.tree.length)return Decoration.none;let $=new RangeSetBuilder;for(let{from:L,to:V}of n.visibleRanges)highlightTree(this.tree,r,(oe,ae,re)=>{$.add(oe,ae,this.markCache[re]||(this.markCache[re]=Decoration.mark({class:re})))},L,V);return $.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:g=>g.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags.meta,color:"#7a757a"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(g){return combineConfig(g,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(g){let n=[],r=g.matched?matchingMark:nonmatchingMark;return n.push(r.range(g.start.from,g.start.to)),g.end&&n.push(r.range(g.end.from,g.end.to)),n}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(g,n){if(!n.docChanged&&!n.selection)return g;let r=[],$=n.state.facet(bracketMatchingConfig);for(let L of n.state.selection.ranges){if(!L.empty)continue;let V=matchBrackets(n.state,L.head,-1,$)||L.head>0&&matchBrackets(n.state,L.head-1,1,$)||$.afterCursor&&(matchBrackets(n.state,L.head,1,$)||L.head<n.state.doc.length&&matchBrackets(n.state,L.head+1,-1,$));V&&(r=r.concat($.renderMatch(V,n.state)))}return Decoration.set(r,!0)},provide:g=>EditorView.decorations.from(g)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(g={}){return[bracketMatchingConfig.of(g),bracketMatchingUnique]}function matchingNodes(g,n,r){let $=g.prop(n<0?NodeProp.openedBy:NodeProp.closedBy);if($)return $;if(g.name.length==1){let L=r.indexOf(g.name);if(L>-1&&L%2==(n<0?1:0))return[r[L+n]]}return null}function matchBrackets(g,n,r,$={}){let L=$.maxScanDistance||DefaultScanDist,V=$.brackets||DefaultBrackets,oe=syntaxTree(g),ae=oe.resolveInner(n,r);for(let re=ae;re;re=re.parent){let le=matchingNodes(re.type,r,V);if(le&&re.from<re.to)return matchMarkedBrackets(g,n,r,re,le,V)}return matchPlainBrackets(g,n,r,oe,ae.type,L,V)}function matchMarkedBrackets(g,n,r,$,L,V){let oe=$.parent,ae={from:$.from,to:$.to},re=0,le=oe==null?void 0:oe.cursor();if(le&&(r<0?le.childBefore($.from):le.childAfter($.to)))do if(r<0?le.to<=$.from:le.from>=$.to){if(re==0&&L.indexOf(le.type.name)>-1&&le.from<le.to)return{start:ae,end:{from:le.from,to:le.to},matched:!0};if(matchingNodes(le.type,r,V))re++;else if(matchingNodes(le.type,-r,V)){if(re==0)return{start:ae,end:le.from==le.to?void 0:{from:le.from,to:le.to},matched:!1};re--}}while(r<0?le.prevSibling():le.nextSibling());return{start:ae,matched:!1}}function matchPlainBrackets(g,n,r,$,L,V,oe){let ae=r<0?g.sliceDoc(n-1,n):g.sliceDoc(n,n+1),re=oe.indexOf(ae);if(re<0||re%2==0!=r>0)return null;let le={from:r<0?n-1:n,to:r>0?n+1:n},ue=g.doc.iterRange(n,r>0?g.doc.length:0),de=0;for(let he=0;!ue.next().done&&he<=V;){let pe=ue.value;r<0&&(he+=pe.length);let _e=n+he*r;for(let $e=r>0?0:pe.length-1,xe=r>0?pe.length:-1;$e!=xe;$e+=r){let Oe=oe.indexOf(pe[$e]);if(!(Oe<0||$.resolveInner(_e+$e,1).type!=L))if(Oe%2==0==r>0)de++;else{if(de==1)return{start:le,end:{from:_e+$e,to:_e+$e+1},matched:Oe>>1==re>>1};de--}}r>0&&(he+=pe.length)}return ue.done?{start:le,matched:!1}:null}const noTokens=Object.create(null),typeArray=[NodeType.none],warned=[],defaultTable=Object.create(null);for(let[g,n]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[g]=createTokenType(noTokens,n);function warnForPart(g,n){warned.indexOf(g)>-1||(warned.push(g),console.warn(n))}function createTokenType(g,n){let r=null;for(let V of n.split(".")){let oe=g[V]||tags[V];oe?typeof oe=="function"?r?r=oe(r):warnForPart(V,`Modifier ${V} used at start of tag`):r?warnForPart(V,`Tag ${V} used as modifier`):r=oe:warnForPart(V,`Unknown highlighting tag ${V}`)}if(!r)return 0;let $=n.replace(/ /g,"_"),L=NodeType.define({id:typeArray.length,name:$,props:[styleTags({[$]:r})]});return typeArray.push(L),L.id}const toggleComment=g=>{let n=getConfig(g.state);return n.line?toggleLineComment(g):n.block?toggleBlockCommentByLine(g):!1};function command(g,n){return({state:r,dispatch:$})=>{if(r.readOnly)return!1;let L=g(n,r);return L?($(r.update(L)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((g,n)=>changeBlockComment(g,n,selectedLineRanges(n)),0);function getConfig(g,n=g.selection.main.head){let r=g.languageDataAt("commentTokens",n);return r.length?r[0]:{}}const SearchMargin=50;function findBlockComment(g,{open:n,close:r},$,L){let V=g.sliceDoc($-SearchMargin,$),oe=g.sliceDoc(L,L+SearchMargin),ae=/\s*$/.exec(V)[0].length,re=/^\s*/.exec(oe)[0].length,le=V.length-ae;if(V.slice(le-n.length,le)==n&&oe.slice(re,re+r.length)==r)return{open:{pos:$-ae,margin:ae&&1},close:{pos:L+re,margin:re&&1}};let ue,de;L-$<=2*SearchMargin?ue=de=g.sliceDoc($,L):(ue=g.sliceDoc($,$+SearchMargin),de=g.sliceDoc(L-SearchMargin,L));let he=/^\s*/.exec(ue)[0].length,pe=/\s*$/.exec(de)[0].length,_e=de.length-pe-r.length;return ue.slice(he,he+n.length)==n&&de.slice(_e,_e+r.length)==r?{open:{pos:$+he+n.length,margin:/\s/.test(ue.charAt(he+n.length))?1:0},close:{pos:L-pe-r.length,margin:/\s/.test(de.charAt(_e-1))?1:0}}:null}function selectedLineRanges(g){let n=[];for(let r of g.selection.ranges){let $=g.doc.lineAt(r.from),L=r.to<=$.to?$:g.doc.lineAt(r.to),V=n.length-1;V>=0&&n[V].to>$.from?n[V].to=L.to:n.push({from:$.from,to:L.to})}return n}function changeBlockComment(g,n,r=n.selection.ranges){let $=r.map(V=>getConfig(n,V.from).block);if(!$.every(V=>V))return null;let L=r.map((V,oe)=>findBlockComment(n,$[oe],V.from,V.to));if(g!=2&&!L.every(V=>V))return{changes:n.changes(r.map((V,oe)=>L[oe]?[]:[{from:V.from,insert:$[oe].open+" "},{from:V.to,insert:" "+$[oe].close}]))};if(g!=1&&L.some(V=>V)){let V=[];for(let oe=0,ae;oe<L.length;oe++)if(ae=L[oe]){let re=$[oe],{open:le,close:ue}=ae;V.push({from:le.pos-re.open.length,to:le.pos+le.margin},{from:ue.pos-ue.margin,to:ue.pos+re.close.length})}return{changes:V}}return null}function changeLineComment(g,n,r=n.selection.ranges){let $=[],L=-1;for(let{from:V,to:oe}of r){let ae=$.length,re=1e9;for(let le=V;le<=oe;){let ue=n.doc.lineAt(le);if(ue.from>L&&(V==oe||oe>ue.from)){L=ue.from;let de=getConfig(n,le).line;if(!de)continue;let he=/^\s*/.exec(ue.text)[0].length,pe=he==ue.length,_e=ue.text.slice(he,he+de.length)==de?he:-1;he<ue.text.length&&he<re&&(re=he),$.push({line:ue,comment:_e,token:de,indent:he,empty:pe,single:!1})}le=ue.to+1}if(re<1e9)for(let le=ae;le<$.length;le++)$[le].indent<$[le].line.text.length&&($[le].indent=re);$.length==ae+1&&($[ae].single=!0)}if(g!=2&&$.some(V=>V.comment<0&&(!V.empty||V.single))){let V=[];for(let{line:ae,token:re,indent:le,empty:ue,single:de}of $)(de||!ue)&&V.push({from:ae.from+le,insert:re+" "});let oe=n.changes(V);return{changes:oe,selection:n.selection.map(oe,1)}}else if(g!=1&&$.some(V=>V.comment>=0)){let V=[];for(let{line:oe,comment:ae,token:re}of $)if(ae>=0){let le=oe.from+ae,ue=le+re.length;oe.text[ue-oe.from]==" "&&ue++,V.push({from:le,to:ue})}return{changes:V}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(g){return combineConfig(g,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}});function changeEnd(g){let n=0;return g.iterChangedRanges((r,$)=>n=$),n}const historyField_=StateField.define({create(){return HistoryState.empty},update(g,n){let r=n.state.facet(historyConfig),$=n.annotation(fromHistory);if($){let re=n.docChanged?EditorSelection.single(changeEnd(n.changes)):void 0,le=HistEvent.fromTransaction(n,re),ue=$.side,de=ue==0?g.undone:g.done;return le?de=updateBranch(de,de.length,r.minDepth,le):de=addSelection(de,n.startState.selection),new HistoryState(ue==0?$.rest:de,ue==0?de:$.rest)}let L=n.annotation(isolateHistory);if((L=="full"||L=="before")&&(g=g.isolate()),n.annotation(Transaction.addToHistory)===!1)return n.changes.empty?g:g.addMapping(n.changes.desc);let V=HistEvent.fromTransaction(n),oe=n.annotation(Transaction.time),ae=n.annotation(Transaction.userEvent);return V?g=g.addChanges(V,oe,ae,r.newGroupDelay,r.minDepth):n.selection&&(g=g.addSelection(n.startState.selection,oe,ae,r.newGroupDelay)),(L=="full"||L=="after")&&(g=g.isolate()),g},toJSON(g){return{done:g.done.map(n=>n.toJSON()),undone:g.undone.map(n=>n.toJSON())}},fromJSON(g){return new HistoryState(g.done.map(HistEvent.fromJSON),g.undone.map(HistEvent.fromJSON))}});function history$1(g={}){return[historyField_,historyConfig.of(g),EditorView.domEventHandlers({beforeinput(n,r){let $=n.inputType=="historyUndo"?undo:n.inputType=="historyRedo"?redo:null;return $?(n.preventDefault(),$(r)):!1}})]}function cmd(g,n){return function({state:r,dispatch:$}){if(!n&&r.readOnly)return!1;let L=r.field(historyField_,!1);if(!L)return!1;let V=L.pop(g,r,n);return V?($(V),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(n,r,$,L,V){this.changes=n,this.effects=r,this.mapped=$,this.startSelection=L,this.selectionsAfter=V}setSelAfter(n){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,n)}toJSON(){var n,r,$;return{changes:(n=this.changes)===null||n===void 0?void 0:n.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:($=this.startSelection)===null||$===void 0?void 0:$.toJSON(),selectionsAfter:this.selectionsAfter.map(L=>L.toJSON())}}static fromJSON(n){return new HistEvent(n.changes&&ChangeSet.fromJSON(n.changes),[],n.mapped&&ChangeDesc.fromJSON(n.mapped),n.startSelection&&EditorSelection.fromJSON(n.startSelection),n.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(n,r){let $=none$1;for(let L of n.startState.facet(invertedEffects)){let V=L(n);V.length&&($=$.concat(V))}return!$.length&&n.changes.empty?null:new HistEvent(n.changes.invert(n.startState.doc),$,void 0,r||n.startState.selection,none$1)}static selection(n){return new HistEvent(void 0,none$1,void 0,void 0,n)}}function updateBranch(g,n,r,$){let L=n+1>r+20?n-r-1:0,V=g.slice(L,n);return V.push($),V}function isAdjacent(g,n){let r=[],$=!1;return g.iterChangedRanges((L,V)=>r.push(L,V)),n.iterChangedRanges((L,V,oe,ae)=>{for(let re=0;re<r.length;){let le=r[re++],ue=r[re++];ae>=le&&oe<=ue&&($=!0)}}),$}function eqSelectionShape(g,n){return g.ranges.length==n.ranges.length&&g.ranges.filter((r,$)=>r.empty!=n.ranges[$].empty).length===0}function conc(g,n){return g.length?n.length?g.concat(n):g:n}const none$1=[],MaxSelectionsPerEvent=200;function addSelection(g,n){if(g.length){let r=g[g.length-1],$=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-MaxSelectionsPerEvent));return $.length&&$[$.length-1].eq(n)?g:($.push(n),updateBranch(g,g.length-1,1e9,r.setSelAfter($)))}else return[HistEvent.selection([n])]}function popSelection(g){let n=g[g.length-1],r=g.slice();return r[g.length-1]=n.setSelAfter(n.selectionsAfter.slice(0,n.selectionsAfter.length-1)),r}function addMappingToBranch(g,n){if(!g.length)return g;let r=g.length,$=none$1;for(;r;){let L=mapEvent(g[r-1],n,$);if(L.changes&&!L.changes.empty||L.effects.length){let V=g.slice(0,r);return V[r-1]=L,V}else n=L.mapped,r--,$=L.selectionsAfter}return $.length?[HistEvent.selection($)]:none$1}function mapEvent(g,n,r){let $=conc(g.selectionsAfter.length?g.selectionsAfter.map(ae=>ae.map(n)):none$1,r);if(!g.changes)return HistEvent.selection($);let L=g.changes.map(n),V=n.mapDesc(g.changes,!0),oe=g.mapped?g.mapped.composeDesc(V):V;return new HistEvent(L,StateEffect.mapEffects(g.effects,n),oe,g.startSelection.map(V),$)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(n,r,$=0,L=void 0){this.done=n,this.undone=r,this.prevTime=$,this.prevUserEvent=L}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(n,r,$,L,V){let oe=this.done,ae=oe[oe.length-1];return ae&&ae.changes&&!ae.changes.empty&&n.changes&&(!$||joinableUserEvent.test($))&&(!ae.selectionsAfter.length&&r-this.prevTime<L&&isAdjacent(ae.changes,n.changes)||$=="input.type.compose")?oe=updateBranch(oe,oe.length-1,V,new HistEvent(n.changes.compose(ae.changes),conc(n.effects,ae.effects),ae.mapped,ae.startSelection,none$1)):oe=updateBranch(oe,oe.length,V,n),new HistoryState(oe,none$1,r,$)}addSelection(n,r,$,L){let V=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;return V.length>0&&r-this.prevTime<L&&$==this.prevUserEvent&&$&&/^select($|\.)/.test($)&&eqSelectionShape(V[V.length-1],n)?this:new HistoryState(addSelection(this.done,n),this.undone,r,$)}addMapping(n){return new HistoryState(addMappingToBranch(this.done,n),addMappingToBranch(this.undone,n),this.prevTime,this.prevUserEvent)}pop(n,r,$){let L=n==0?this.done:this.undone;if(L.length==0)return null;let V=L[L.length-1];if($&&V.selectionsAfter.length)return r.update({selection:V.selectionsAfter[V.selectionsAfter.length-1],annotations:fromHistory.of({side:n,rest:popSelection(L)}),userEvent:n==0?"select.undo":"select.redo",scrollIntoView:!0});if(V.changes){let oe=L.length==1?none$1:L.slice(0,L.length-1);return V.mapped&&(oe=addMappingToBranch(oe,V.mapped)),r.update({changes:V.changes,selection:V.startSelection,effects:V.effects,annotations:fromHistory.of({side:n,rest:oe}),filter:!1,userEvent:n==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(g,n){return EditorSelection.create(g.ranges.map(n),g.mainIndex)}function setSel(g,n){return g.update({selection:n,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:g,dispatch:n},r){let $=updateSel(g.selection,r);return $.eq(g.selection)?!1:(n(setSel(g,$)),!0)}function rangeEnd(g,n){return EditorSelection.cursor(n?g.to:g.from)}function cursorByChar(g,n){return moveSel(g,r=>r.empty?g.moveByChar(r,n):rangeEnd(r,n))}function ltrAtCursor(g){return g.textDirectionAt(g.state.selection.main.head)==Direction.LTR}const cursorCharLeft=g=>cursorByChar(g,!ltrAtCursor(g)),cursorCharRight=g=>cursorByChar(g,ltrAtCursor(g));function cursorByGroup(g,n){return moveSel(g,r=>r.empty?g.moveByGroup(r,n):rangeEnd(r,n))}const cursorGroupLeft=g=>cursorByGroup(g,!ltrAtCursor(g)),cursorGroupRight=g=>cursorByGroup(g,ltrAtCursor(g));function interestingNode(g,n,r){if(n.type.prop(r))return!0;let $=n.to-n.from;return $&&($>2||/[^\s,.;:]/.test(g.sliceDoc(n.from,n.to)))||n.firstChild}function moveBySyntax(g,n,r){let $=syntaxTree(g).resolveInner(n.head),L=r?NodeProp.closedBy:NodeProp.openedBy;for(let re=n.head;;){let le=r?$.childAfter(re):$.childBefore(re);if(!le)break;interestingNode(g,le,L)?$=le:re=r?le.to:le.from}let V=$.type.prop(L),oe,ae;return V&&(oe=r?matchBrackets(g,$.from,1):matchBrackets(g,$.to,-1))&&oe.matched?ae=r?oe.end.to:oe.end.from:ae=r?$.to:$.from,EditorSelection.cursor(ae,r?-1:1)}const cursorSyntaxLeft=g=>moveSel(g,n=>moveBySyntax(g.state,n,!ltrAtCursor(g))),cursorSyntaxRight=g=>moveSel(g,n=>moveBySyntax(g.state,n,ltrAtCursor(g)));function cursorByLine(g,n){return moveSel(g,r=>{if(!r.empty)return rangeEnd(r,n);let $=g.moveVertically(r,n);return $.head!=r.head?$:g.moveToLineBoundary(r,n)})}const cursorLineUp=g=>cursorByLine(g,!1),cursorLineDown=g=>cursorByLine(g,!0);function pageHeight(g){return Math.max(g.defaultLineHeight,Math.min(g.dom.clientHeight,innerHeight)-5)}function cursorByPage(g,n){let{state:r}=g,$=updateSel(r.selection,ae=>ae.empty?g.moveVertically(ae,n,pageHeight(g)):rangeEnd(ae,n));if($.eq(r.selection))return!1;let L=g.coordsAtPos(r.selection.main.head),V=g.scrollDOM.getBoundingClientRect(),oe;return L&&L.top>V.top&&L.bottom<V.bottom&&L.top-V.top<=g.scrollDOM.scrollHeight-g.scrollDOM.scrollTop-g.scrollDOM.clientHeight&&(oe=EditorView.scrollIntoView($.main.head,{y:"start",yMargin:L.top-V.top})),g.dispatch(setSel(r,$),{effects:oe}),!0}const cursorPageUp=g=>cursorByPage(g,!1),cursorPageDown=g=>cursorByPage(g,!0);function moveByLineBoundary(g,n,r){let $=g.lineBlockAt(n.head),L=g.moveToLineBoundary(n,r);if(L.head==n.head&&L.head!=(r?$.to:$.from)&&(L=g.moveToLineBoundary(n,r,!1)),!r&&L.head==$.from&&$.length){let V=/^\s*/.exec(g.state.sliceDoc($.from,Math.min($.from+100,$.to)))[0].length;V&&n.head!=$.from+V&&(L=EditorSelection.cursor($.from+V))}return L}const cursorLineBoundaryForward=g=>moveSel(g,n=>moveByLineBoundary(g,n,!0)),cursorLineBoundaryBackward=g=>moveSel(g,n=>moveByLineBoundary(g,n,!1)),cursorLineBoundaryLeft=g=>moveSel(g,n=>moveByLineBoundary(g,n,!ltrAtCursor(g))),cursorLineBoundaryRight=g=>moveSel(g,n=>moveByLineBoundary(g,n,ltrAtCursor(g))),cursorLineStart=g=>moveSel(g,n=>EditorSelection.cursor(g.lineBlockAt(n.head).from,1)),cursorLineEnd=g=>moveSel(g,n=>EditorSelection.cursor(g.lineBlockAt(n.head).to,-1));function toMatchingBracket(g,n,r){let $=!1,L=updateSel(g.selection,V=>{let oe=matchBrackets(g,V.head,-1)||matchBrackets(g,V.head,1)||V.head>0&&matchBrackets(g,V.head-1,1)||V.head<g.doc.length&&matchBrackets(g,V.head+1,-1);if(!oe||!oe.end)return V;$=!0;let ae=oe.start.from==V.head?oe.end.to:oe.end.from;return r?EditorSelection.range(V.anchor,ae):EditorSelection.cursor(ae)});return $?(n(setSel(g,L)),!0):!1}const cursorMatchingBracket=({state:g,dispatch:n})=>toMatchingBracket(g,n,!1);function extendSel(g,n){let r=updateSel(g.state.selection,$=>{let L=n($);return EditorSelection.range($.anchor,L.head,L.goalColumn)});return r.eq(g.state.selection)?!1:(g.dispatch(setSel(g.state,r)),!0)}function selectByChar(g,n){return extendSel(g,r=>g.moveByChar(r,n))}const selectCharLeft=g=>selectByChar(g,!ltrAtCursor(g)),selectCharRight=g=>selectByChar(g,ltrAtCursor(g));function selectByGroup(g,n){return extendSel(g,r=>g.moveByGroup(r,n))}const selectGroupLeft=g=>selectByGroup(g,!ltrAtCursor(g)),selectGroupRight=g=>selectByGroup(g,ltrAtCursor(g)),selectSyntaxLeft=g=>extendSel(g,n=>moveBySyntax(g.state,n,!ltrAtCursor(g))),selectSyntaxRight=g=>extendSel(g,n=>moveBySyntax(g.state,n,ltrAtCursor(g)));function selectByLine(g,n){return extendSel(g,r=>g.moveVertically(r,n))}const selectLineUp=g=>selectByLine(g,!1),selectLineDown=g=>selectByLine(g,!0);function selectByPage(g,n){return extendSel(g,r=>g.moveVertically(r,n,pageHeight(g)))}const selectPageUp=g=>selectByPage(g,!1),selectPageDown=g=>selectByPage(g,!0),selectLineBoundaryForward=g=>extendSel(g,n=>moveByLineBoundary(g,n,!0)),selectLineBoundaryBackward=g=>extendSel(g,n=>moveByLineBoundary(g,n,!1)),selectLineBoundaryLeft=g=>extendSel(g,n=>moveByLineBoundary(g,n,!ltrAtCursor(g))),selectLineBoundaryRight=g=>extendSel(g,n=>moveByLineBoundary(g,n,ltrAtCursor(g))),selectLineStart=g=>extendSel(g,n=>EditorSelection.cursor(g.lineBlockAt(n.head).from)),selectLineEnd=g=>extendSel(g,n=>EditorSelection.cursor(g.lineBlockAt(n.head).to)),cursorDocStart=({state:g,dispatch:n})=>(n(setSel(g,{anchor:0})),!0),cursorDocEnd=({state:g,dispatch:n})=>(n(setSel(g,{anchor:g.doc.length})),!0),selectDocStart=({state:g,dispatch:n})=>(n(setSel(g,{anchor:g.selection.main.anchor,head:0})),!0),selectDocEnd=({state:g,dispatch:n})=>(n(setSel(g,{anchor:g.selection.main.anchor,head:g.doc.length})),!0),selectAll=({state:g,dispatch:n})=>(n(g.update({selection:{anchor:0,head:g.doc.length},userEvent:"select"})),!0),selectLine=({state:g,dispatch:n})=>{let r=selectedLineBlocks(g).map(({from:$,to:L})=>EditorSelection.range($,Math.min(L+1,g.doc.length)));return n(g.update({selection:EditorSelection.create(r),userEvent:"select"})),!0},selectParentSyntax=({state:g,dispatch:n})=>{let r=updateSel(g.selection,$=>{var L;let V=syntaxTree(g).resolveInner($.head,1);for(;!(V.from<$.from&&V.to>=$.to||V.to>$.to&&V.from<=$.from||!(!((L=V.parent)===null||L===void 0)&&L.parent));)V=V.parent;return EditorSelection.range(V.to,V.from)});return n(setSel(g,r)),!0},simplifySelection=({state:g,dispatch:n})=>{let r=g.selection,$=null;return r.ranges.length>1?$=EditorSelection.create([r.main]):r.main.empty||($=EditorSelection.create([EditorSelection.cursor(r.main.head)])),$?(n(setSel(g,$)),!0):!1};function deleteBy(g,n){if(g.state.readOnly)return!1;let r="delete.selection",{state:$}=g,L=$.changeByRange(V=>{let{from:oe,to:ae}=V;if(oe==ae){let re=n(oe);re<oe?(r="delete.backward",re=skipAtomic(g,re,!1)):re>oe&&(r="delete.forward",re=skipAtomic(g,re,!0)),oe=Math.min(oe,re),ae=Math.max(ae,re)}else oe=skipAtomic(g,oe,!1),ae=skipAtomic(g,ae,!0);return oe==ae?{range:V}:{changes:{from:oe,to:ae},range:EditorSelection.cursor(oe)}});return L.changes.empty?!1:(g.dispatch($.update(L,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?EditorView.announce.of($.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(g,n,r){if(g instanceof EditorView)for(let $ of g.state.facet(EditorView.atomicRanges).map(L=>L(g)))$.between(n,n,(L,V)=>{L<n&&V>n&&(n=r?V:L)});return n}const deleteByChar=(g,n)=>deleteBy(g,r=>{let{state:$}=g,L=$.doc.lineAt(r),V,oe;if(!n&&r>L.from&&r<L.from+200&&!/[^ \t]/.test(V=L.text.slice(0,r-L.from))){if(V[V.length-1]=="	")return r-1;let ae=countColumn(V,$.tabSize),re=ae%getIndentUnit($)||getIndentUnit($);for(let le=0;le<re&&V[V.length-1-le]==" ";le++)r--;oe=r}else oe=findClusterBreak(L.text,r-L.from,n,n)+L.from,oe==r&&L.number!=(n?$.doc.lines:1)&&(oe+=n?1:-1);return oe}),deleteCharBackward=g=>deleteByChar(g,!1),deleteCharForward=g=>deleteByChar(g,!0),deleteByGroup=(g,n)=>deleteBy(g,r=>{let $=r,{state:L}=g,V=L.doc.lineAt($),oe=L.charCategorizer($);for(let ae=null;;){if($==(n?V.to:V.from)){$==r&&V.number!=(n?L.doc.lines:1)&&($+=n?1:-1);break}let re=findClusterBreak(V.text,$-V.from,n)+V.from,le=V.text.slice(Math.min($,re)-V.from,Math.max($,re)-V.from),ue=oe(le);if(ae!=null&&ue!=ae)break;(le!=" "||$!=r)&&(ae=ue),$=re}return $}),deleteGroupBackward=g=>deleteByGroup(g,!1),deleteGroupForward=g=>deleteByGroup(g,!0),deleteToLineEnd=g=>deleteBy(g,n=>{let r=g.lineBlockAt(n).to;return n<r?r:Math.min(g.state.doc.length,n+1)}),deleteToLineStart=g=>deleteBy(g,n=>{let r=g.lineBlockAt(n).from;return n>r?r:Math.max(0,n-1)}),splitLine=({state:g,dispatch:n})=>{if(g.readOnly)return!1;let r=g.changeByRange($=>({changes:{from:$.from,to:$.to,insert:Text.of(["",""])},range:EditorSelection.cursor($.from)}));return n(g.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:g,dispatch:n})=>{if(g.readOnly)return!1;let r=g.changeByRange($=>{if(!$.empty||$.from==0||$.from==g.doc.length)return{range:$};let L=$.from,V=g.doc.lineAt(L),oe=L==V.from?L-1:findClusterBreak(V.text,L-V.from,!1)+V.from,ae=L==V.to?L+1:findClusterBreak(V.text,L-V.from,!0)+V.from;return{changes:{from:oe,to:ae,insert:g.doc.slice(L,ae).append(g.doc.slice(oe,L))},range:EditorSelection.cursor(ae)}});return r.changes.empty?!1:(n(g.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(g){let n=[],r=-1;for(let $ of g.selection.ranges){let L=g.doc.lineAt($.from),V=g.doc.lineAt($.to);if(!$.empty&&$.to==V.from&&(V=g.doc.lineAt($.to-1)),r>=L.number){let oe=n[n.length-1];oe.to=V.to,oe.ranges.push($)}else n.push({from:L.from,to:V.to,ranges:[$]});r=V.number+1}return n}function moveLine(g,n,r){if(g.readOnly)return!1;let $=[],L=[];for(let V of selectedLineBlocks(g)){if(r?V.to==g.doc.length:V.from==0)continue;let oe=g.doc.lineAt(r?V.to+1:V.from-1),ae=oe.length+1;if(r){$.push({from:V.to,to:oe.to},{from:V.from,insert:oe.text+g.lineBreak});for(let re of V.ranges)L.push(EditorSelection.range(Math.min(g.doc.length,re.anchor+ae),Math.min(g.doc.length,re.head+ae)))}else{$.push({from:oe.from,to:V.from},{from:V.to,insert:g.lineBreak+oe.text});for(let re of V.ranges)L.push(EditorSelection.range(re.anchor-ae,re.head-ae))}}return $.length?(n(g.update({changes:$,scrollIntoView:!0,selection:EditorSelection.create(L,g.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:g,dispatch:n})=>moveLine(g,n,!1),moveLineDown=({state:g,dispatch:n})=>moveLine(g,n,!0);function copyLine(g,n,r){if(g.readOnly)return!1;let $=[];for(let L of selectedLineBlocks(g))r?$.push({from:L.from,insert:g.doc.slice(L.from,L.to)+g.lineBreak}):$.push({from:L.to,insert:g.lineBreak+g.doc.slice(L.from,L.to)});return n(g.update({changes:$,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:g,dispatch:n})=>copyLine(g,n,!1),copyLineDown=({state:g,dispatch:n})=>copyLine(g,n,!0),deleteLine=g=>{if(g.state.readOnly)return!1;let{state:n}=g,r=n.changes(selectedLineBlocks(n).map(({from:L,to:V})=>(L>0?L--:V<n.doc.length&&V++,{from:L,to:V}))),$=updateSel(n.selection,L=>g.moveVertically(L,!0)).map(r);return g.dispatch({changes:r,selection:$,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(g,n){if(/\(\)|\[\]|\{\}/.test(g.sliceDoc(n-1,n+1)))return{from:n,to:n};let r=syntaxTree(g).resolveInner(n),$=r.childBefore(n),L=r.childAfter(n),V;return $&&L&&$.to<=n&&L.from>=n&&(V=$.type.prop(NodeProp.closedBy))&&V.indexOf(L.name)>-1&&g.doc.lineAt($.to).from==g.doc.lineAt(L.from).from?{from:$.to,to:L.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(g){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let $=n.changeByRange(L=>{let{from:V,to:oe}=L,ae=n.doc.lineAt(V),re=!g&&V==oe&&isBetweenBrackets(n,V);g&&(V=oe=(oe<=ae.to?ae:n.doc.lineAt(oe)).to);let le=new IndentContext(n,{simulateBreak:V,simulateDoubleBreak:!!re}),ue=getIndentation(le,V);for(ue==null&&(ue=/^\s*/.exec(n.doc.lineAt(V).text)[0].length);oe<ae.to&&/\s/.test(ae.text[oe-ae.from]);)oe++;re?{from:V,to:oe}=re:V>ae.from&&V<ae.from+100&&!/\S/.test(ae.text.slice(0,V))&&(V=ae.from);let de=["",indentString(n,ue)];return re&&de.push(indentString(n,le.lineIndent(ae.from,-1))),{changes:{from:V,to:oe,insert:Text.of(de)},range:EditorSelection.cursor(V+1+de[1].length)}});return r(n.update($,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(g,n){let r=-1;return g.changeByRange($=>{let L=[];for(let oe=$.from;oe<=$.to;){let ae=g.doc.lineAt(oe);ae.number>r&&($.empty||$.to>ae.from)&&(n(ae,L,$),r=ae.number),oe=ae.to+1}let V=g.changes(L);return{changes:L,range:EditorSelection.range(V.mapPos($.anchor,1),V.mapPos($.head,1))}})}const indentSelection=({state:g,dispatch:n})=>{if(g.readOnly)return!1;let r=Object.create(null),$=new IndentContext(g,{overrideIndentation:V=>{let oe=r[V];return oe!=null?oe:-1}}),L=changeBySelectedLine(g,(V,oe,ae)=>{let re=getIndentation($,V.from);if(re==null)return;/\S/.test(V.text)||(re=0);let le=/^\s*/.exec(V.text)[0],ue=indentString(g,re);(le!=ue||ae.from<V.from+le.length)&&(r[V.from]=re,oe.push({from:V.from,to:V.from+le.length,insert:ue}))});return L.changes.empty||n(g.update(L,{userEvent:"indent"})),!0},indentMore=({state:g,dispatch:n})=>g.readOnly?!1:(n(g.update(changeBySelectedLine(g,(r,$)=>{$.push({from:r.from,insert:g.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:g,dispatch:n})=>g.readOnly?!1:(n(g.update(changeBySelectedLine(g,(r,$)=>{let L=/^\s*/.exec(r.text)[0];if(!L)return;let V=countColumn(L,g.tabSize),oe=0,ae=indentString(g,Math.max(0,V-getIndentUnit(g)));for(;oe<L.length&&oe<ae.length&&L.charCodeAt(oe)==ae.charCodeAt(oe);)oe++;$.push({from:r.from+oe,to:r.from+L.length,insert:ae.slice(oe)})}),{userEvent:"delete.dedent"})),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteToLineStart},{mac:"Mod-Delete",run:deleteToLineEnd}].concat(emacsStyleKeymap.map(g=>({mac:g.key,run:g.run,shift:g.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment}].concat(standardKeymap),indentWithTab={key:"Tab",run:indentMore,shift:indentLess};function crelt(){var g=arguments[0];typeof g=="string"&&(g=document.createElement(g));var n=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var $ in r)if(Object.prototype.hasOwnProperty.call(r,$)){var L=r[$];typeof L=="string"?g.setAttribute($,L):L!=null&&(g[$]=L)}n++}for(;n<arguments.length;n++)add$1(g,arguments[n]);return g}function add$1(g,n){if(typeof n=="string")g.appendChild(document.createTextNode(n));else if(n!=null)if(n.nodeType!=null)g.appendChild(n);else if(Array.isArray(n))for(var r=0;r<n.length;r++)add$1(g,n[r]);else throw new RangeError("Unsupported child node: "+n)}const basicNormalize=typeof String.prototype.normalize=="function"?g=>g.normalize("NFKD"):g=>g;class SearchCursor{constructor(n,r,$=0,L=n.length,V,oe){this.test=oe,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=n.iterRange($,L),this.bufferStart=$,this.normalize=V?ae=>V(basicNormalize(ae)):basicNormalize,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let n=this.peek();if(n<0)return this.done=!0,this;let r=fromCodePoint(n),$=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(n);let L=this.normalize(r);for(let V=0,oe=$;;V++){let ae=L.charCodeAt(V),re=this.match(ae,oe);if(re)return this.value=re,this;if(V==L.length-1)break;oe==$&&V<r.length&&r.charCodeAt(V)==ae&&oe++}}}match(n,r){let $=null;for(let L=0;L<this.matches.length;L+=2){let V=this.matches[L],oe=!1;this.query.charCodeAt(V)==n&&(V==this.query.length-1?$={from:this.matches[L+1],to:r+1}:(this.matches[L]++,oe=!0)),oe||(this.matches.splice(L,2),L-=2)}return this.query.charCodeAt(0)==n&&(this.query.length==1?$={from:r,to:r+1}:this.matches.push(1,r)),$&&this.test&&!this.test($.from,$.to,this.buffer,this.bufferPos)&&($=null),$}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(n,r,$,L=0,V=n.length){if(this.text=n,this.to=V,this.curLine="",this.done=!1,this.value=empty,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new MultilineRegExpCursor(n,r,$,L,V);this.re=new RegExp(r,baseFlags+($!=null&&$.ignoreCase?"i":"")),this.test=$==null?void 0:$.test,this.iter=n.iter();let oe=n.lineAt(L);this.curLineStart=oe.from,this.matchPos=toCharEnd(n,L),this.getLine(this.curLineStart)}getLine(n){this.iter.next(n),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let n=this.matchPos-this.curLineStart;;){this.re.lastIndex=n;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let $=this.curLineStart+r.index,L=$+r[0].length;if(this.matchPos=toCharEnd(this.text,L+($==L?1:0)),$==this.curLineStart+this.curLine.length&&this.nextLine(),($<L||$>this.value.to)&&(!this.test||this.test($,L,r)))return this.value={from:$,to:L,match:r},this;n=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),n=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(n,r){this.from=n,this.text=r}get to(){return this.from+this.text.length}static get(n,r,$){let L=flattened.get(n);if(!L||L.from>=$||L.to<=r){let ae=new FlattenedDoc(r,n.sliceString(r,$));return flattened.set(n,ae),ae}if(L.from==r&&L.to==$)return L;let{text:V,from:oe}=L;return oe>r&&(V=n.sliceString(r,oe)+V,oe=r),L.to<$&&(V+=n.sliceString(L.to,$)),flattened.set(n,new FlattenedDoc(oe,V)),new FlattenedDoc(r,V.slice(r-oe,$-oe))}}class MultilineRegExpCursor{constructor(n,r,$,L,V){this.text=n,this.to=V,this.done=!1,this.value=empty,this.matchPos=toCharEnd(n,L),this.re=new RegExp(r,baseFlags+($!=null&&$.ignoreCase?"i":"")),this.test=$==null?void 0:$.test,this.flat=FlattenedDoc.get(n,L,this.chunkEnd(L+5e3))}chunkEnd(n){return n>=this.to?this.to:this.text.lineAt(n).to}next(){for(;;){let n=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==n&&(this.re.lastIndex=n+1,r=this.re.exec(this.flat.text)),r){let $=this.flat.from+r.index,L=$+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test($,L,r)))return this.value={from:$,to:L,match:r},this.matchPos=toCharEnd(this.text,L+($==L?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(g){try{return new RegExp(g,baseFlags),!0}catch{return!1}}function toCharEnd(g,n){if(n>=g.length)return n;let r=g.lineAt(n),$;for(;n<r.to&&($=r.text.charCodeAt(n-r.from))>=56320&&$<57344;)n++;return n}function createLineDialog(g){let n=crelt("input",{class:"cm-textfield",name:"line"}),r=crelt("form",{class:"cm-gotoLine",onkeydown:L=>{L.keyCode==27?(L.preventDefault(),g.dispatch({effects:dialogEffect.of(!1)}),g.focus()):L.keyCode==13&&(L.preventDefault(),$())},onsubmit:L=>{L.preventDefault(),$()}},crelt("label",g.state.phrase("Go to line"),": ",n)," ",crelt("button",{class:"cm-button",type:"submit"},g.state.phrase("go")));function $(){let L=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!L)return;let{state:V}=g,oe=V.doc.lineAt(V.selection.main.head),[,ae,re,le,ue]=L,de=le?+le.slice(1):0,he=re?+re:oe.number;if(re&&ue){let _e=he/100;ae&&(_e=_e*(ae=="-"?-1:1)+oe.number/V.doc.lines),he=Math.round(V.doc.lines*_e)}else re&&ae&&(he=he*(ae=="-"?-1:1)+oe.number);let pe=V.doc.line(Math.max(1,Math.min(V.doc.lines,he)));g.dispatch({effects:dialogEffect.of(!1),selection:EditorSelection.cursor(pe.from+Math.max(0,Math.min(de,pe.length))),scrollIntoView:!0}),g.focus()}return{dom:r}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(g,n){for(let r of n.effects)r.is(dialogEffect)&&(g=r.value);return g},provide:g=>showPanel.from(g,n=>n?createLineDialog:null)}),gotoLine=g=>{let n=getPanel(g,createLineDialog);if(!n){let r=[dialogEffect.of(!0)];g.state.field(dialogField,!1)==null&&r.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),g.dispatch({effects:r}),n=getPanel(g,createLineDialog)}return n&&n.dom.querySelector("input").focus(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(g){return combineConfig(g,defaultHighlightOptions,{highlightWordAroundCursor:(n,r)=>n||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(g){let n=[defaultTheme,matchHighlighter];return g&&n.push(highlightConfig.of(g)),n}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(g,n,r,$){return(r==0||g(n.sliceDoc(r-1,r))!=CharCategory.Word)&&($==n.doc.length||g(n.sliceDoc($,$+1))!=CharCategory.Word)}function insideWord(g,n,r,$){return g(n.sliceDoc(r,r+1))==CharCategory.Word&&g(n.sliceDoc($-1,$))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(g){this.decorations=this.getDeco(g)}update(g){(g.selectionSet||g.docChanged||g.viewportChanged)&&(this.decorations=this.getDeco(g.view))}getDeco(g){let n=g.state.facet(highlightConfig),{state:r}=g,$=r.selection;if($.ranges.length>1)return Decoration.none;let L=$.main,V,oe=null;if(L.empty){if(!n.highlightWordAroundCursor)return Decoration.none;let re=r.wordAt(L.head);if(!re)return Decoration.none;oe=r.charCategorizer(L.head),V=r.sliceDoc(re.from,re.to)}else{let re=L.to-L.from;if(re<n.minSelectionLength||re>200)return Decoration.none;if(n.wholeWords){if(V=r.sliceDoc(L.from,L.to),oe=r.charCategorizer(L.head),!(insideWordBoundaries(oe,r,L.from,L.to)&&insideWord(oe,r,L.from,L.to)))return Decoration.none}else if(V=r.sliceDoc(L.from,L.to).trim(),!V)return Decoration.none}let ae=[];for(let re of g.visibleRanges){let le=new SearchCursor(r.doc,V,re.from,re.to);for(;!le.next().done;){let{from:ue,to:de}=le.value;if((!oe||insideWordBoundaries(oe,r,ue,de))&&(L.empty&&ue<=L.from&&de>=L.to?ae.push(mainMatchDeco.range(ue,de)):(ue>=L.to||de<=L.from)&&ae.push(matchDeco.range(ue,de)),ae.length>n.maxMatches))return Decoration.none}}return Decoration.set(ae)}},{decorations:g=>g.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:g,dispatch:n})=>{let{selection:r}=g,$=EditorSelection.create(r.ranges.map(L=>g.wordAt(L.head)||EditorSelection.cursor(L.head)),r.mainIndex);return $.eq(r)?!1:(n(g.update({selection:$})),!0)};function findNextOccurrence(g,n){let{main:r,ranges:$}=g.selection,L=g.wordAt(r.head),V=L&&L.from==r.from&&L.to==r.to;for(let oe=!1,ae=new SearchCursor(g.doc,n,$[$.length-1].to);;)if(ae.next(),ae.done){if(oe)return null;ae=new SearchCursor(g.doc,n,0,Math.max(0,$[$.length-1].from-1)),oe=!0}else{if(oe&&$.some(re=>re.from==ae.value.from))continue;if(V){let re=g.wordAt(ae.value.from);if(!re||re.from!=ae.value.from||re.to!=ae.value.to)continue}return ae.value}}const selectNextOccurrence=({state:g,dispatch:n})=>{let{ranges:r}=g.selection;if(r.some(V=>V.from===V.to))return selectWord({state:g,dispatch:n});let $=g.sliceDoc(r[0].from,r[0].to);if(g.selection.ranges.some(V=>g.sliceDoc(V.from,V.to)!=$))return!1;let L=findNextOccurrence(g,$);return L?(n(g.update({selection:g.selection.addRange(EditorSelection.range(L.from,L.to),!1),effects:EditorView.scrollIntoView(L.to)})),!0):!1},searchConfigFacet=Facet.define({combine(g){return combineConfig(g,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:n=>new SearchPanel(n)})}});class SearchQuery{constructor(n){this.search=n.search,this.caseSensitive=!!n.caseSensitive,this.literal=!!n.literal,this.regexp=!!n.regexp,this.replace=n.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!n.wholeWord}unquote(n){return this.literal?n:n.replace(/\\([nrt\\])/g,(r,$)=>$=="n"?`
`:$=="r"?"\r":$=="t"?"	":"\\")}eq(n){return this.search==n.search&&this.replace==n.replace&&this.caseSensitive==n.caseSensitive&&this.regexp==n.regexp&&this.wholeWord==n.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(n,r=0,$){let L=n.doc?n:EditorState.create({doc:n});return $==null&&($=L.doc.length),this.regexp?regexpCursor(this,L,r,$):stringCursor(this,L,r,$)}}class QueryType{constructor(n){this.spec=n}}function stringCursor(g,n,r,$){return new SearchCursor(n.doc,g.unquoted,r,$,g.caseSensitive?void 0:L=>L.toLowerCase(),g.wholeWord?stringWordTest(n.doc,n.charCategorizer(n.selection.main.head)):void 0)}function stringWordTest(g,n){return(r,$,L,V)=>((V>r||V+L.length<$)&&(V=Math.max(0,r-2),L=g.sliceString(V,Math.min(g.length,$+2))),(n(charBefore(L,r-V))!=CharCategory.Word||n(charAfter(L,r-V))!=CharCategory.Word)&&(n(charAfter(L,$-V))!=CharCategory.Word||n(charBefore(L,$-V))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(n){super(n)}nextMatch(n,r,$){let L=stringCursor(this.spec,n,$,n.doc.length).nextOverlapping();return L.done&&(L=stringCursor(this.spec,n,0,r).nextOverlapping()),L.done?null:L.value}prevMatchInRange(n,r,$){for(let L=$;;){let V=Math.max(r,L-1e4-this.spec.unquoted.length),oe=stringCursor(this.spec,n,V,L),ae=null;for(;!oe.nextOverlapping().done;)ae=oe.value;if(ae)return ae;if(V==r)return null;L-=1e4}}prevMatch(n,r,$){return this.prevMatchInRange(n,0,r)||this.prevMatchInRange(n,$,n.doc.length)}getReplacement(n){return this.spec.unquote(this.spec.replace)}matchAll(n,r){let $=stringCursor(this.spec,n,0,n.doc.length),L=[];for(;!$.next().done;){if(L.length>=r)return null;L.push($.value)}return L}highlight(n,r,$,L){let V=stringCursor(this.spec,n,Math.max(0,r-this.spec.unquoted.length),Math.min($+this.spec.unquoted.length,n.doc.length));for(;!V.next().done;)L(V.value.from,V.value.to)}}function regexpCursor(g,n,r,$){return new RegExpCursor(n.doc,g.search,{ignoreCase:!g.caseSensitive,test:g.wholeWord?regexpWordTest(n.charCategorizer(n.selection.main.head)):void 0},r,$)}function charBefore(g,n){return g.slice(findClusterBreak(g,n,!1),n)}function charAfter(g,n){return g.slice(n,findClusterBreak(g,n))}function regexpWordTest(g){return(n,r,$)=>!$[0].length||(g(charBefore($.input,$.index))!=CharCategory.Word||g(charAfter($.input,$.index))!=CharCategory.Word)&&(g(charAfter($.input,$.index+$[0].length))!=CharCategory.Word||g(charBefore($.input,$.index+$[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(n,r,$){let L=regexpCursor(this.spec,n,$,n.doc.length).next();return L.done&&(L=regexpCursor(this.spec,n,0,r).next()),L.done?null:L.value}prevMatchInRange(n,r,$){for(let L=1;;L++){let V=Math.max(r,$-L*1e4),oe=regexpCursor(this.spec,n,V,$),ae=null;for(;!oe.next().done;)ae=oe.value;if(ae&&(V==r||ae.from>V+10))return ae;if(V==r)return null}}prevMatch(n,r,$){return this.prevMatchInRange(n,0,r)||this.prevMatchInRange(n,$,n.doc.length)}getReplacement(n){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(r,$)=>$=="$"?"$":$=="&"?n.match[0]:$!="0"&&+$<n.match.length?n.match[$]:r))}matchAll(n,r){let $=regexpCursor(this.spec,n,0,n.doc.length),L=[];for(;!$.next().done;){if(L.length>=r)return null;L.push($.value)}return L}highlight(n,r,$,L){let V=regexpCursor(this.spec,n,Math.max(0,r-250),Math.min($+250,n.doc.length));for(;!V.next().done;)L(V.value.from,V.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(g){return new SearchState(defaultQuery(g).create(),null)},update(g,n){for(let r of n.effects)r.is(setSearchQuery)?g=new SearchState(r.value.create(),g.panel):r.is(togglePanel$1)&&(g=new SearchState(g.query,r.value?createSearchPanel:null));return g},provide:g=>showPanel.from(g,n=>n.panel)});class SearchState{constructor(n,r){this.query=n,this.panel=r}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(g){this.view=g,this.decorations=this.highlight(g.state.field(searchState))}update(g){let n=g.state.field(searchState);(n!=g.startState.field(searchState)||g.docChanged||g.selectionSet||g.viewportChanged)&&(this.decorations=this.highlight(n))}highlight({query:g,panel:n}){if(!n||!g.spec.valid)return Decoration.none;let{view:r}=this,$=new RangeSetBuilder;for(let L=0,V=r.visibleRanges,oe=V.length;L<oe;L++){let{from:ae,to:re}=V[L];for(;L<oe-1&&re>V[L+1].from-2*250;)re=V[++L].to;g.highlight(r.state,ae,re,(le,ue)=>{let de=r.state.selection.ranges.some(he=>he.from==le&&he.to==ue);$.add(le,ue,de?selectedMatchMark:matchMark)})}return $.finish()}},{decorations:g=>g.decorations});function searchCommand(g){return n=>{let r=n.state.field(searchState,!1);return r&&r.query.spec.valid?g(n,r):openSearchPanel(n)}}const findNext=searchCommand((g,{query:n})=>{let{to:r}=g.state.selection.main,$=n.nextMatch(g.state,r,r);return $?(g.dispatch({selection:{anchor:$.from,head:$.to},scrollIntoView:!0,effects:announceMatch(g,$),userEvent:"select.search"}),!0):!1}),findPrevious=searchCommand((g,{query:n})=>{let{state:r}=g,{from:$}=r.selection.main,L=n.prevMatch(r,$,$);return L?(g.dispatch({selection:{anchor:L.from,head:L.to},scrollIntoView:!0,effects:announceMatch(g,L),userEvent:"select.search"}),!0):!1}),selectMatches=searchCommand((g,{query:n})=>{let r=n.matchAll(g.state,1e3);return!r||!r.length?!1:(g.dispatch({selection:EditorSelection.create(r.map($=>EditorSelection.range($.from,$.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:g,dispatch:n})=>{let r=g.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:$,to:L}=r.main,V=[],oe=0;for(let ae=new SearchCursor(g.doc,g.sliceDoc($,L));!ae.next().done;){if(V.length>1e3)return!1;ae.value.from==$&&(oe=V.length),V.push(EditorSelection.range(ae.value.from,ae.value.to))}return n(g.update({selection:EditorSelection.create(V,oe),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((g,{query:n})=>{let{state:r}=g,{from:$,to:L}=r.selection.main;if(r.readOnly)return!1;let V=n.nextMatch(r,$,$);if(!V)return!1;let oe=[],ae,re,le=[];if(V.from==$&&V.to==L&&(re=r.toText(n.getReplacement(V)),oe.push({from:V.from,to:V.to,insert:re}),V=n.nextMatch(r,V.from,V.to),le.push(EditorView.announce.of(r.phrase("replaced match on line $",r.doc.lineAt($).number)+"."))),V){let ue=oe.length==0||oe[0].from>=V.to?0:V.to-V.from-re.length;ae={anchor:V.from-ue,head:V.to-ue},le.push(announceMatch(g,V))}return g.dispatch({changes:oe,selection:ae,scrollIntoView:!!ae,effects:le,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((g,{query:n})=>{if(g.state.readOnly)return!1;let r=n.matchAll(g.state,1e9).map(L=>{let{from:V,to:oe}=L;return{from:V,to:oe,insert:n.getReplacement(L)}});if(!r.length)return!1;let $=g.state.phrase("replaced $ matches",r.length)+".";return g.dispatch({changes:r,effects:EditorView.announce.of($),userEvent:"input.replace.all"}),!0});function createSearchPanel(g){return g.state.facet(searchConfigFacet).createPanel(g)}function defaultQuery(g,n){var r,$,L,V;let oe=g.selection.main,ae=oe.empty||oe.to>oe.from+100?"":g.sliceDoc(oe.from,oe.to);if(n&&!ae)return n;let re=g.facet(searchConfigFacet);return new SearchQuery({search:((r=n==null?void 0:n.literal)!==null&&r!==void 0?r:re.literal)?ae:ae.replace(/\n/g,"\\n"),caseSensitive:($=n==null?void 0:n.caseSensitive)!==null&&$!==void 0?$:re.caseSensitive,literal:(L=n==null?void 0:n.literal)!==null&&L!==void 0?L:re.literal,wholeWord:(V=n==null?void 0:n.wholeWord)!==null&&V!==void 0?V:re.wholeWord})}const openSearchPanel=g=>{let n=g.state.field(searchState,!1);if(n&&n.panel){let r=getPanel(g,createSearchPanel);if(!r)return!1;let $=r.dom.querySelector("[main-field]");if($&&$!=g.root.activeElement){let L=defaultQuery(g.state,n.query.spec);L.valid&&g.dispatch({effects:setSearchQuery.of(L)}),$.focus(),$.select()}}else g.dispatch({effects:[togglePanel$1.of(!0),n?setSearchQuery.of(defaultQuery(g.state,n.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=g=>{let n=g.state.field(searchState,!1);if(!n||!n.panel)return!1;let r=getPanel(g,createSearchPanel);return r&&r.dom.contains(g.root.activeElement)&&g.focus(),g.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(n){this.view=n;let r=this.query=n.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:r.search,placeholder:phrase(n,"Find"),"aria-label":phrase(n,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:r.replace,placeholder:phrase(n,"Replace"),"aria-label":phrase(n,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function $(L,V,oe){return crelt("button",{class:"cm-button",name:L,onclick:V,type:"button"},oe)}this.dom=crelt("div",{onkeydown:L=>this.keydown(L),class:"cm-search"},[this.searchField,$("next",()=>findNext(n),[phrase(n,"next")]),$("prev",()=>findPrevious(n),[phrase(n,"previous")]),$("select",()=>selectMatches(n),[phrase(n,"all")]),crelt("label",null,[this.caseField,phrase(n,"match case")]),crelt("label",null,[this.reField,phrase(n,"regexp")]),crelt("label",null,[this.wordField,phrase(n,"by word")]),...n.state.readOnly?[]:[crelt("br"),this.replaceField,$("replace",()=>replaceNext(n),[phrase(n,"replace")]),$("replaceAll",()=>replaceAll(n),[phrase(n,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(n),"aria-label":phrase(n,"close"),type:"button"},["\xD7"])])}commit(){let n=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});n.eq(this.query)||(this.query=n,this.view.dispatch({effects:setSearchQuery.of(n)}))}keydown(n){runScopeHandlers(this.view,n,"search-panel")?n.preventDefault():n.keyCode==13&&n.target==this.searchField?(n.preventDefault(),(n.shiftKey?findPrevious:findNext)(this.view)):n.keyCode==13&&n.target==this.replaceField&&(n.preventDefault(),replaceNext(this.view))}update(n){for(let r of n.transactions)for(let $ of r.effects)$.is(setSearchQuery)&&!$.value.eq(this.query)&&this.setQuery($.value)}setQuery(n){this.query=n,this.searchField.value=n.search,this.replaceField.value=n.replace,this.caseField.checked=n.caseSensitive,this.reField.checked=n.regexp,this.wordField.checked=n.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(g,n){return g.state.phrase(n)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(g,{from:n,to:r}){let $=g.state.doc.lineAt(n),L=g.state.doc.lineAt(r).to,V=Math.max($.from,n-AnnounceMargin),oe=Math.min(L,r+AnnounceMargin),ae=g.state.sliceDoc(V,oe);if(V!=$.from){for(let re=0;re<AnnounceMargin;re++)if(!Break.test(ae[re+1])&&Break.test(ae[re])){ae=ae.slice(re);break}}if(oe!=L){for(let re=ae.length-1;re>ae.length-AnnounceMargin;re--)if(!Break.test(ae[re-1])&&Break.test(ae[re])){ae=ae.slice(0,re);break}}return EditorView.announce.of(`${g.state.phrase("current match")}. ${ae} ${g.state.phrase("on line")} ${$.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.lowest(searchHighlighter),baseTheme$2];class CompletionContext{constructor(n,r,$){this.state=n,this.pos=r,this.explicit=$,this.abortListeners=[]}tokenBefore(n){let r=syntaxTree(this.state).resolveInner(this.pos,-1);for(;r&&n.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(n){let r=this.state.doc.lineAt(this.pos),$=Math.max(r.from,this.pos-250),L=r.text.slice($-r.from,this.pos-r.from),V=L.search(ensureAnchor(n,!1));return V<0?null:{from:$+V,to:this.pos,text:L.slice(V)}}get aborted(){return this.abortListeners==null}addEventListener(n,r){n=="abort"&&this.abortListeners&&this.abortListeners.push(r)}}function toSet(g){let n=Object.keys(g).join(""),r=/\w/.test(n);return r&&(n=n.replace(/\w/g,"")),`[${r?"\\w":""}${n.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(g){let n=Object.create(null),r=Object.create(null);for(let{label:L}of g){n[L[0]]=!0;for(let V=1;V<L.length;V++)r[L[V]]=!0}let $=toSet(n)+toSet(r)+"*$";return[new RegExp("^"+$),new RegExp($)]}function completeFromList(g){let n=g.map(L=>typeof L=="string"?{label:L}:L),[r,$]=n.every(L=>/^\w+$/.test(L.label))?[/\w*$/,/\w+$/]:prefixMatch(n);return L=>{let V=L.matchBefore($);return V||L.explicit?{from:V?V.from:L.pos,options:n,validFor:r}:null}}function ifNotIn(g,n){return r=>{for(let $=syntaxTree(r.state).resolveInner(r.pos,-1);$;$=$.parent)if(g.indexOf($.name)>-1)return null;return n(r)}}class Option{constructor(n,r,$){this.completion=n,this.source=r,this.match=$}}function cur(g){return g.selection.main.head}function ensureAnchor(g,n){var r;let{source:$}=g,L=n&&$[0]!="^",V=$[$.length-1]!="$";return!L&&!V?g:new RegExp(`${L?"^":""}(?:${$})${V?"$":""}`,(r=g.flags)!==null&&r!==void 0?r:g.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(g,n,r,$){return Object.assign(Object.assign({},g.changeByRange(L=>{if(L==g.selection.main)return{changes:{from:r,to:$,insert:n},range:EditorSelection.cursor(r+n.length)};let V=$-r;return!L.empty||V&&g.sliceDoc(L.from-V,L.from)!=g.sliceDoc(r,$)?{range:L}:{changes:{from:L.from-V,to:L.from,insert:n},range:EditorSelection.cursor(L.from-V+n.length)}})),{userEvent:"input.complete"})}function applyCompletion(g,n){const r=n.completion.apply||n.completion.label;let $=n.source;typeof r=="string"?g.dispatch(Object.assign(Object.assign({},insertCompletionText(g.state,r,$.from,$.to)),{annotations:pickedCompletion.of(n.completion)})):r(g,n.completion,$.from,$.to)}const SourceCache=new WeakMap;function asSource(g){if(!Array.isArray(g))return g;let n=SourceCache.get(g);return n||SourceCache.set(g,n=completeFromList(g)),n}class FuzzyMatcher{constructor(n){this.pattern=n,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let r=0;r<n.length;){let $=codePointAt(n,r),L=codePointSize($);this.chars.push($);let V=n.slice(r,r+L),oe=V.toUpperCase();this.folded.push(codePointAt(oe==V?V.toLowerCase():oe,0)),r+=L}this.astral=n.length!=this.chars.length}match(n){if(this.pattern.length==0)return[0];if(n.length<this.pattern.length)return null;let{chars:r,folded:$,any:L,precise:V,byWord:oe}=this;if(r.length==1){let Ce=codePointAt(n,0);return Ce==r[0]?[0,0,codePointSize(Ce)]:Ce==$[0]?[-200,0,codePointSize(Ce)]:null}let ae=n.indexOf(this.pattern);if(ae==0)return[0,0,this.pattern.length];let re=r.length,le=0;if(ae<0){for(let Ce=0,Ie=Math.min(n.length,200);Ce<Ie&&le<re;){let Ne=codePointAt(n,Ce);(Ne==r[le]||Ne==$[le])&&(L[le++]=Ce),Ce+=codePointSize(Ne)}if(le<re)return null}let ue=0,de=0,he=!1,pe=0,_e=-1,$e=-1,xe=/[a-z]/.test(n),Oe=!0;for(let Ce=0,Ie=Math.min(n.length,200),Ne=0;Ce<Ie&&de<re;){let ze=codePointAt(n,Ce);ae<0&&(ue<re&&ze==r[ue]&&(V[ue++]=Ce),pe<re&&(ze==r[pe]||ze==$[pe]?(pe==0&&(_e=Ce),$e=Ce+1,pe++):pe=0));let Fe,Ue=ze<255?ze>=48&&ze<=57||ze>=97&&ze<=122?2:ze>=65&&ze<=90?1:0:(Fe=fromCodePoint(ze))!=Fe.toLowerCase()?1:Fe!=Fe.toUpperCase()?2:0;(!Ce||Ue==1&&xe||Ne==0&&Ue!=0)&&(r[de]==ze||$[de]==ze&&(he=!0)?oe[de++]=Ce:oe.length&&(Oe=!1)),Ne=Ue,Ce+=codePointSize(ze)}return de==re&&oe[0]==0&&Oe?this.result(-100+(he?-200:0),oe,n):pe==re&&_e==0?[-200-n.length,0,$e]:ae>-1?[-700-n.length,ae,ae+this.pattern.length]:pe==re?[-900-n.length,_e,$e]:de==re?this.result(-100+(he?-200:0)+-700+(Oe?0:-1100),oe,n):r.length==2?null:this.result((L[0]?-700:0)+-200+-1100,L,n)}result(n,r,$){let L=[n-$.length],V=1;for(let oe of r){let ae=oe+(this.astral?codePointSize(codePointAt($,oe)):1);V>1&&L[V-1]==oe?L[V-1]=ae:(L[V++]=oe,L[V++]=ae)}return L}}const completionConfig=Facet.define({combine(g){return combineConfig(g,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(n,r)=>n.label.localeCompare(r.label),interactionDelay:75},{defaultKeymap:(n,r)=>n&&r,closeOnBlur:(n,r)=>n&&r,icons:(n,r)=>n&&r,optionClass:(n,r)=>$=>joinClass(n($),r($)),addToOptions:(n,r)=>n.concat(r)})}});function joinClass(g,n){return g?n?g+" "+n:g:n}function optionContent(g){let n=g.addToOptions.slice();return g.icons&&n.push({render(r){let $=document.createElement("div");return $.classList.add("cm-completionIcon"),r.type&&$.classList.add(...r.type.split(/\s+/g).map(L=>"cm-completionIcon-"+L)),$.setAttribute("aria-hidden","true"),$},position:20}),n.push({render(r,$,L){let V=document.createElement("span");V.className="cm-completionLabel";let{label:oe}=r,ae=0;for(let re=1;re<L.length;){let le=L[re++],ue=L[re++];le>ae&&V.appendChild(document.createTextNode(oe.slice(ae,le)));let de=V.appendChild(document.createElement("span"));de.appendChild(document.createTextNode(oe.slice(le,ue))),de.className="cm-completionMatchedText",ae=ue}return ae<oe.length&&V.appendChild(document.createTextNode(oe.slice(ae))),V},position:50},{render(r){if(!r.detail)return null;let $=document.createElement("span");return $.className="cm-completionDetail",$.textContent=r.detail,$},position:80}),n.sort((r,$)=>r.position-$.position).map(r=>r.render)}function rangeAroundSelected(g,n,r){if(g<=r)return{from:0,to:g};if(n<0&&(n=0),n<=g>>1){let L=Math.floor(n/r);return{from:L*r,to:(L+1)*r}}let $=Math.floor((g-n)/r);return{from:g-($+1)*r,to:g-$*r}}class CompletionTooltip{constructor(n,r){this.view=n,this.stateField=r,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:ae=>this.positionInfo(ae),key:this},this.space=null;let $=n.state.field(r),{options:L,selected:V}=$.open,oe=n.state.facet(completionConfig);this.optionContent=optionContent(oe),this.optionClass=oe.optionClass,this.range=rangeAroundSelected(L.length,V,oe.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",ae=>{for(let re=ae.target,le;re&&re!=this.dom;re=re.parentNode)if(re.nodeName=="LI"&&(le=/-(\d+)$/.exec(re.id))&&+le[1]<L.length){applyCompletion(n,L[+le[1]]),ae.preventDefault();return}}),this.list=this.dom.appendChild(this.createListBox(L,$.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(n){var r,$,L;let V=n.state.field(this.stateField),oe=n.startState.field(this.stateField);V!=oe&&(this.updateSel(),((r=V.open)===null||r===void 0?void 0:r.disabled)!=(($=oe.open)===null||$===void 0?void 0:$.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((L=V.open)===null||L===void 0)&&L.disabled)))}positioned(n){this.space=n,this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let n=this.view.state.field(this.stateField),r=n.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=rangeAroundSelected(r.options.length,r.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(r.options,n.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(r.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:$}=r.options[r.selected],{info:L}=$;if(!L)return;let V=typeof L=="string"?document.createTextNode(L):L($);if(!V)return;"then"in V?V.then(oe=>{oe&&this.view.state.field(this.stateField,!1)==n&&this.addInfoPane(oe)}).catch(oe=>logException(this.view.state,oe,"completion info")):this.addInfoPane(V)}}addInfoPane(n){let r=this.info=document.createElement("div");r.className="cm-tooltip cm-completionInfo",r.appendChild(n),this.dom.appendChild(r),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(n){let r=null;for(let $=this.list.firstChild,L=this.range.from;$;$=$.nextSibling,L++)L==n?$.hasAttribute("aria-selected")||($.setAttribute("aria-selected","true"),r=$):$.hasAttribute("aria-selected")&&$.removeAttribute("aria-selected");return r&&scrollIntoView(this.list,r),r}measureInfo(){let n=this.dom.querySelector("[aria-selected]");if(!n||!this.info)return null;let r=this.dom.getBoundingClientRect(),$=this.info.getBoundingClientRect(),L=n.getBoundingClientRect(),V=this.space;if(!V){let _e=this.dom.ownerDocument.defaultView||window;V={left:0,top:0,right:_e.innerWidth,bottom:_e.innerHeight}}if(L.top>Math.min(V.bottom,r.bottom)-10||L.bottom<Math.max(V.top,r.top)+10)return null;let oe=this.view.textDirection==Direction.RTL,ae=oe,re=!1,le,ue="",de="",he=r.left-V.left,pe=V.right-r.right;if(ae&&he<Math.min($.width,pe)?ae=!1:!ae&&pe<Math.min($.width,he)&&(ae=!0),$.width<=(ae?he:pe))ue=Math.max(V.top,Math.min(L.top,V.bottom-$.height))-r.top+"px",le=Math.min(400,ae?he:pe)+"px";else{re=!0,le=Math.min(400,(oe?r.right:V.right-r.left)-30)+"px";let _e=V.bottom-r.bottom;_e>=$.height||_e>r.top?ue=L.bottom-r.top+"px":de=r.bottom-L.top+"px"}return{top:ue,bottom:de,maxWidth:le,class:re?oe?"left-narrow":"right-narrow":ae?"left":"right"}}positionInfo(n){this.info&&(n?(this.info.style.top=n.top,this.info.style.bottom=n.bottom,this.info.style.maxWidth=n.maxWidth,this.info.className="cm-tooltip cm-completionInfo cm-completionInfo-"+n.class):this.info.style.top="-1e6px")}createListBox(n,r,$){const L=document.createElement("ul");L.id=r,L.setAttribute("role","listbox"),L.setAttribute("aria-expanded","true"),L.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let V=$.from;V<$.to;V++){let{completion:oe,match:ae}=n[V];const re=L.appendChild(document.createElement("li"));re.id=r+"-"+V,re.setAttribute("role","option");let le=this.optionClass(oe);le&&(re.className=le);for(let ue of this.optionContent){let de=ue(oe,this.view.state,ae);de&&re.appendChild(de)}}return $.from&&L.classList.add("cm-completionListIncompleteTop"),$.to<n.length&&L.classList.add("cm-completionListIncompleteBottom"),L}}function completionTooltip(g){return n=>new CompletionTooltip(n,g)}function scrollIntoView(g,n){let r=g.getBoundingClientRect(),$=n.getBoundingClientRect();$.top<r.top?g.scrollTop-=r.top-$.top:$.bottom>r.bottom&&(g.scrollTop+=$.bottom-r.bottom)}function score(g){return(g.boost||0)*100+(g.apply?10:0)+(g.info?5:0)+(g.type?1:0)}function sortOptions(g,n){let r=[],$=0;for(let ae of g)if(ae.hasResult())if(ae.result.filter===!1){let re=ae.result.getMatch;for(let le of ae.result.options){let ue=[1e9-$++];if(re)for(let de of re(le))ue.push(de);r.push(new Option(le,ae,ue))}}else{let re=new FuzzyMatcher(n.sliceDoc(ae.from,ae.to)),le;for(let ue of ae.result.options)(le=re.match(ue.label))&&(ue.boost!=null&&(le[0]+=ue.boost),r.push(new Option(ue,ae,le)))}let L=[],V=null,oe=n.facet(completionConfig).compareCompletions;for(let ae of r.sort((re,le)=>le.match[0]-re.match[0]||oe(re.completion,le.completion)))!V||V.label!=ae.completion.label||V.detail!=ae.completion.detail||V.type!=null&&ae.completion.type!=null&&V.type!=ae.completion.type||V.apply!=ae.completion.apply?L.push(ae):score(ae.completion)>score(V)&&(L[L.length-1]=ae),V=ae.completion;return L}class CompletionDialog{constructor(n,r,$,L,V,oe){this.options=n,this.attrs=r,this.tooltip=$,this.timestamp=L,this.selected=V,this.disabled=oe}setSelected(n,r){return n==this.selected||n>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(r,n),this.tooltip,this.timestamp,n,this.disabled)}static build(n,r,$,L,V){let oe=sortOptions(n,r);if(!oe.length)return L&&n.some(re=>re.state==1)?new CompletionDialog(L.options,L.attrs,L.tooltip,L.timestamp,L.selected,!0):null;let ae=r.facet(completionConfig).selectOnOpen?0:-1;if(L&&L.selected!=ae&&L.selected!=-1){let re=L.options[L.selected].completion;for(let le=0;le<oe.length;le++)if(oe[le].completion==re){ae=le;break}}return new CompletionDialog(oe,makeAttrs($,ae),{pos:n.reduce((re,le)=>le.hasResult()?Math.min(re,le.from):re,1e8),create:completionTooltip(completionState),above:V.aboveCursor},L?L.timestamp:Date.now(),ae,!1)}map(n){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:n.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class CompletionState{constructor(n,r,$){this.active=n,this.id=r,this.open=$}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(n){let{state:r}=n,$=r.facet(completionConfig),L=($.override||r.languageDataAt("autocomplete",cur(r)).map(asSource)).map(oe=>(this.active.find(ae=>ae.source==oe)||new ActiveSource(oe,this.active.some(ae=>ae.state!=0)?1:0)).update(n,$));L.length==this.active.length&&L.every((oe,ae)=>oe==this.active[ae])&&(L=this.active);let V=this.open;n.selection||L.some(oe=>oe.hasResult()&&n.changes.touchesRange(oe.from,oe.to))||!sameResults(L,this.active)?V=CompletionDialog.build(L,r,this.id,this.open,$):V&&V.disabled&&!L.some(oe=>oe.state==1)?V=null:V&&n.docChanged&&(V=V.map(n.changes)),!V&&L.every(oe=>oe.state!=1)&&L.some(oe=>oe.hasResult())&&(L=L.map(oe=>oe.hasResult()?new ActiveSource(oe.source,0):oe));for(let oe of n.effects)oe.is(setSelectedEffect)&&(V=V&&V.setSelected(oe.value,this.id));return L==this.active&&V==this.open?this:new CompletionState(L,this.id,V)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:baseAttrs}}function sameResults(g,n){if(g==n)return!0;for(let r=0,$=0;;){for(;r<g.length&&!g[r].hasResult;)r++;for(;$<n.length&&!n[$].hasResult;)$++;let L=r==g.length,V=$==n.length;if(L||V)return L==V;if(g[r++].result!=n[$++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"};function makeAttrs(g,n){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":g};return n>-1&&(r["aria-activedescendant"]=g+"-"+n),r}const none=[];function getUserEvent(g){return g.isUserEvent("input.type")?"input":g.isUserEvent("delete.backward")?"delete":null}class ActiveSource{constructor(n,r,$=-1){this.source=n,this.state=r,this.explicitPos=$}hasResult(){return!1}update(n,r){let $=getUserEvent(n),L=this;$?L=L.handleUserEvent(n,$,r):n.docChanged?L=L.handleChange(n):n.selection&&L.state!=0&&(L=new ActiveSource(L.source,0));for(let V of n.effects)if(V.is(startCompletionEffect))L=new ActiveSource(L.source,1,V.value?cur(n.state):-1);else if(V.is(closeCompletionEffect))L=new ActiveSource(L.source,0);else if(V.is(setActiveEffect))for(let oe of V.value)oe.source==L.source&&(L=oe);return L}handleUserEvent(n,r,$){return r=="delete"||!$.activateOnTyping?this.map(n.changes):new ActiveSource(this.source,1)}handleChange(n){return n.changes.touchesRange(cur(n.startState))?new ActiveSource(this.source,0):this.map(n.changes)}map(n){return n.empty||this.explicitPos<0?this:new ActiveSource(this.source,this.state,n.mapPos(this.explicitPos))}}class ActiveResult extends ActiveSource{constructor(n,r,$,L,V){super(n,2,r),this.result=$,this.from=L,this.to=V}hasResult(){return!0}handleUserEvent(n,r,$){var L;let V=n.changes.mapPos(this.from),oe=n.changes.mapPos(this.to,1),ae=cur(n.state);if((this.explicitPos<0?ae<=V:ae<this.from)||ae>oe||r=="delete"&&cur(n.startState)==this.from)return new ActiveSource(this.source,r=="input"&&$.activateOnTyping?1:0);let re=this.explicitPos<0?-1:n.changes.mapPos(this.explicitPos),le;return checkValid(this.result.validFor,n.state,V,oe)?new ActiveResult(this.source,re,this.result,V,oe):this.result.update&&(le=this.result.update(this.result,V,oe,new CompletionContext(n.state,ae,re>=0)))?new ActiveResult(this.source,re,le,le.from,(L=le.to)!==null&&L!==void 0?L:cur(n.state)):new ActiveSource(this.source,1,re)}handleChange(n){return n.changes.touchesRange(this.from,this.to)?new ActiveSource(this.source,0):this.map(n.changes)}map(n){return n.empty?this:new ActiveResult(this.source,this.explicitPos<0?-1:n.mapPos(this.explicitPos),this.result,n.mapPos(this.from),n.mapPos(this.to,1))}}function checkValid(g,n,r,$){if(!g)return!1;let L=n.sliceDoc(r,$);return typeof g=="function"?g(L,r,$,n):ensureAnchor(g,!0).test(L)}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define(),setActiveEffect=StateEffect.define({map(g,n){return g.map(r=>r.map(n))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(g,n){return g.update(n)},provide:g=>[showTooltip$1.from(g,n=>n.tooltip),EditorView.contentAttributes.from(g,n=>n.attrs)]});function moveCompletionSelection(g,n="option"){return r=>{let $=r.state.field(completionState,!1);if(!$||!$.open||$.open.disabled||Date.now()-$.open.timestamp<r.state.facet(completionConfig).interactionDelay)return!1;let L=1,V;n=="page"&&(V=getTooltip(r,$.open.tooltip))&&(L=Math.max(2,Math.floor(V.dom.offsetHeight/V.dom.querySelector("li").offsetHeight)-1));let{length:oe}=$.open.options,ae=$.open.selected>-1?$.open.selected+L*(g?1:-1):g?0:oe-1;return ae<0?ae=n=="page"?0:oe-1:ae>=oe&&(ae=n=="page"?oe-1:0),r.dispatch({effects:setSelectedEffect.of(ae)}),!0}}const acceptCompletion=g=>{let n=g.state.field(completionState,!1);return g.state.readOnly||!n||!n.open||n.open.selected<0||Date.now()-n.open.timestamp<g.state.facet(completionConfig).interactionDelay?!1:(n.open.disabled||applyCompletion(g,n.open.options[n.open.selected]),!0)},startCompletion=g=>g.state.field(completionState,!1)?(g.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=g=>{let n=g.state.field(completionState,!1);return!n||!n.active.some(r=>r.state!=0)?!1:(g.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(n,r){this.active=n,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const DebounceTime=50,MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(g){this.view=g,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let n of g.state.field(completionState).active)n.state==1&&this.startQuery(n)}update(g){let n=g.state.field(completionState);if(!g.selectionSet&&!g.docChanged&&g.startState.field(completionState)==n)return;let r=g.transactions.some($=>($.selection||$.docChanged)&&!getUserEvent($));for(let $=0;$<this.running.length;$++){let L=this.running[$];if(r||L.updates.length+g.transactions.length>MaxUpdateCount&&Date.now()-L.time>MinAbortTime){for(let V of L.context.abortListeners)try{V()}catch(oe){logException(this.view.state,oe)}L.context.abortListeners=null,this.running.splice($--,1)}else L.updates.push(...g.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=n.active.some($=>$.state==1&&!this.running.some(L=>L.active.source==$.source))?setTimeout(()=>this.startUpdate(),DebounceTime):-1,this.composing!=0)for(let $ of g.transactions)getUserEvent($)=="input"?this.composing=2:this.composing==2&&$.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:g}=this.view,n=g.field(completionState);for(let r of n.active)r.state==1&&!this.running.some($=>$.active.source==r.source)&&this.startQuery(r)}startQuery(g){let{state:n}=this.view,r=cur(n),$=new CompletionContext(n,r,g.explicitPos==r),L=new RunningQuery(g,$);this.running.push(L),Promise.resolve(g.source($)).then(V=>{L.context.aborted||(L.done=V||null,this.scheduleAccept())},V=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,V)})}scheduleAccept(){this.running.every(g=>g.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),DebounceTime))}accept(){var g;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let n=[],r=this.view.state.facet(completionConfig);for(let $=0;$<this.running.length;$++){let L=this.running[$];if(L.done===void 0)continue;if(this.running.splice($--,1),L.done){let oe=new ActiveResult(L.active.source,L.active.explicitPos,L.done,L.done.from,(g=L.done.to)!==null&&g!==void 0?g:cur(L.updates.length?L.updates[0].startState:this.view.state));for(let ae of L.updates)oe=oe.update(ae,r);if(oe.hasResult()){n.push(oe);continue}}let V=this.view.state.field(completionState).active.find(oe=>oe.source==L.active.source);if(V&&V.state==1)if(L.done==null){let oe=new ActiveSource(L.active.source,0);for(let ae of L.updates)oe=oe.update(ae,r);oe.state!=1&&n.push(oe)}else this.startQuery(V)}n.length&&this.view.dispatch({effects:setActiveEffect.of(n)})}},{eventHandlers:{blur(){let g=this.view.state.field(completionState,!1);g&&g.tooltip&&this.view.state.facet(completionConfig).closeOnBlur&&this.view.dispatch({effects:closeCompletionEffect.of(null)})},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:`${400}px`,boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:`${30}px`},".cm-completionInfo.cm-completionInfo-right-narrow":{left:`${30}px`},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(n,r,$,L){this.field=n,this.line=r,this.from=$,this.to=L}}class FieldRange{constructor(n,r,$){this.field=n,this.from=r,this.to=$}map(n){let r=n.mapPos(this.from,-1,MapMode.TrackDel),$=n.mapPos(this.to,1,MapMode.TrackDel);return r==null||$==null?null:new FieldRange(this.field,r,$)}}class Snippet{constructor(n,r){this.lines=n,this.fieldPositions=r}instantiate(n,r){let $=[],L=[r],V=n.doc.lineAt(r),oe=/^\s*/.exec(V.text)[0];for(let re of this.lines){if($.length){let le=oe,ue=/^\t*/.exec(re)[0].length;for(let de=0;de<ue;de++)le+=n.facet(indentUnit);L.push(r+le.length-ue),re=le+re.slice(ue)}$.push(re),r+=re.length+1}let ae=this.fieldPositions.map(re=>new FieldRange(re.field,L[re.line]+re.from,L[re.line]+re.to));return{text:$,ranges:ae}}static parse(n){let r=[],$=[],L=[],V;for(let oe of n.split(/\r\n?|\n/)){for(;V=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(oe);){let ae=V[1]?+V[1]:null,re=V[2]||V[3]||"",le=-1;for(let ue=0;ue<r.length;ue++)(ae!=null?r[ue].seq==ae:re?r[ue].name==re:!1)&&(le=ue);if(le<0){let ue=0;for(;ue<r.length&&(ae==null||r[ue].seq!=null&&r[ue].seq<ae);)ue++;r.splice(ue,0,{seq:ae,name:re}),le=ue;for(let de of L)de.field>=le&&de.field++}L.push(new FieldPos(le,$.length,V.index,V.index+re.length)),oe=oe.slice(0,V.index)+re+oe.slice(V.index+V[0].length)}for(let ae;ae=/\\([{}])/.exec(oe);){oe=oe.slice(0,ae.index)+ae[1]+oe.slice(ae.index+ae[0].length);for(let re of L)re.line==$.length&&re.from>ae.index&&(re.from--,re.to--)}$.push(oe)}return new Snippet($,L)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let g=document.createElement("span");return g.className="cm-snippetFieldPosition",g}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(n,r){this.ranges=n,this.active=r,this.deco=Decoration.set(n.map($=>($.from==$.to?fieldMarker:fieldRange).range($.from,$.to)))}map(n){let r=[];for(let $ of this.ranges){let L=$.map(n);if(!L)return null;r.push(L)}return new ActiveSnippet(r,this.active)}selectionInsideField(n){return n.ranges.every(r=>this.ranges.some($=>$.field==this.active&&$.from<=r.from&&$.to>=r.to))}}const setActive=StateEffect.define({map(g,n){return g&&g.map(n)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(g,n){for(let r of n.effects){if(r.is(setActive))return r.value;if(r.is(moveToField)&&g)return new ActiveSnippet(g.ranges,r.value)}return g&&n.docChanged&&(g=g.map(n.changes)),g&&n.selection&&!g.selectionInsideField(n.selection)&&(g=null),g},provide:g=>EditorView.decorations.from(g,n=>n?n.deco:Decoration.none)});function fieldSelection(g,n){return EditorSelection.create(g.filter(r=>r.field==n).map(r=>EditorSelection.range(r.from,r.to)))}function snippet(g){let n=Snippet.parse(g);return(r,$,L,V)=>{let{text:oe,ranges:ae}=n.instantiate(r.state,L),re={changes:{from:L,to:V,insert:Text.of(oe)},scrollIntoView:!0};if(ae.length&&(re.selection=fieldSelection(ae,0)),ae.length>1){let le=new ActiveSnippet(ae,0),ue=re.effects=[setActive.of(le)];r.state.field(snippetState,!1)===void 0&&ue.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}r.dispatch(r.state.update(re))}}function moveField(g){return({state:n,dispatch:r})=>{let $=n.field(snippetState,!1);if(!$||g<0&&$.active==0)return!1;let L=$.active+g,V=g>0&&!$.ranges.some(oe=>oe.field==L+g);return r(n.update({selection:fieldSelection($.ranges,L),effects:setActive.of(V?null:new ActiveSnippet($.ranges,L))})),!0}}const clearSnippet=({state:g,dispatch:n})=>g.field(snippetState,!1)?(n(g.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(g){return g.length?g[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],g=>g.facet(snippetKeymap)));function snippetCompletion(g,n){return Object.assign(Object.assign({},n),{apply:snippet(g)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(g,n){let r=n.state.field(snippetState,!1),$;if(!r||($=n.posAtCoords({x:g.clientX,y:g.clientY}))==null)return!1;let L=r.ranges.find(V=>V.from<=$&&V.to>=$);return!L||L.field==r.active?!1:(n.dispatch({selection:fieldSelection(r.ranges,L.field),effects:setActive.of(r.ranges.some(V=>V.field>L.field)?new ActiveSnippet(r.ranges,L.field):null)}),!0)}}),defaults$3={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(g,n){let r=n.mapPos(g,-1,MapMode.TrackAfter);return r!=null?r:void 0}}),skipBracketEffect=StateEffect.define({map(g,n){return n.mapPos(g)}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1,closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(g,n){if(n.selection){let r=n.state.doc.lineAt(n.selection.main.head).from,$=n.startState.doc.lineAt(n.startState.selection.main.head).from;r!=n.changes.mapPos($,-1)&&(g=RangeSet.empty)}g=g.map(n.changes);for(let r of n.effects)r.is(closeBracketEffect)?g=g.update({add:[closedBracket.range(r.value,r.value+1)]}):r.is(skipBracketEffect)&&(g=g.update({filter:$=>$!=r.value}));return g}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(g){for(let n=0;n<definedClosing.length;n+=2)if(definedClosing.charCodeAt(n)==g)return definedClosing.charAt(n+1);return fromCodePoint(g<128?g:g+1)}function config(g,n){return g.languageDataAt("closeBrackets",n)[0]||defaults$3}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((g,n,r,$)=>{if((android$1?g.composing:g.compositionStarted)||g.state.readOnly)return!1;let L=g.state.selection.main;if($.length>2||$.length==2&&codePointSize(codePointAt($,0))==1||n!=L.from||r!=L.to)return!1;let V=insertBracket(g.state,$);return V?(g.dispatch(V),!0):!1}),deleteBracketPair=({state:g,dispatch:n})=>{if(g.readOnly)return!1;let r=config(g,g.selection.main.head).brackets||defaults$3.brackets,$=null,L=g.changeByRange(V=>{if(V.empty){let oe=prevChar(g.doc,V.head);for(let ae of r)if(ae==oe&&nextChar(g.doc,V.head)==closing(codePointAt(ae,0)))return{changes:{from:V.head-ae.length,to:V.head+ae.length},range:EditorSelection.cursor(V.head-ae.length)}}return{range:$=V}});return $||n(g.update(L,{scrollIntoView:!0,userEvent:"delete.backward"})),!$},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(g,n){let r=config(g,g.selection.main.head),$=r.brackets||defaults$3.brackets;for(let L of $){let V=closing(codePointAt(L,0));if(n==L)return V==L?handleSame(g,L,$.indexOf(L+L+L)>-1,r):handleOpen(g,L,V,r.before||defaults$3.before);if(n==V&&closedBracketAt(g,g.selection.main.from))return handleClose(g,L,V)}return null}function closedBracketAt(g,n){let r=!1;return g.field(bracketState).between(0,g.doc.length,$=>{$==n&&(r=!0)}),r}function nextChar(g,n){let r=g.sliceString(n,n+2);return r.slice(0,codePointSize(codePointAt(r,0)))}function prevChar(g,n){let r=g.sliceString(n-2,n);return codePointSize(codePointAt(r,0))==r.length?r:r.slice(1)}function handleOpen(g,n,r,$){let L=null,V=g.changeByRange(oe=>{if(!oe.empty)return{changes:[{insert:n,from:oe.from},{insert:r,from:oe.to}],effects:closeBracketEffect.of(oe.to+n.length),range:EditorSelection.range(oe.anchor+n.length,oe.head+n.length)};let ae=nextChar(g.doc,oe.head);return!ae||/\s/.test(ae)||$.indexOf(ae)>-1?{changes:{insert:n+r,from:oe.head},effects:closeBracketEffect.of(oe.head+n.length),range:EditorSelection.cursor(oe.head+n.length)}:{range:L=oe}});return L?null:g.update(V,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(g,n,r){let $=null,L=g.selection.ranges.map(V=>V.empty&&nextChar(g.doc,V.head)==r?EditorSelection.cursor(V.head+r.length):$=V);return $?null:g.update({selection:EditorSelection.create(L,g.selection.mainIndex),scrollIntoView:!0,effects:g.selection.ranges.map(({from:V})=>skipBracketEffect.of(V))})}function handleSame(g,n,r,$){let L=$.stringPrefixes||defaults$3.stringPrefixes,V=null,oe=g.changeByRange(ae=>{if(!ae.empty)return{changes:[{insert:n,from:ae.from},{insert:n,from:ae.to}],effects:closeBracketEffect.of(ae.to+n.length),range:EditorSelection.range(ae.anchor+n.length,ae.head+n.length)};let re=ae.head,le=nextChar(g.doc,re),ue;if(le==n){if(nodeStart(g,re))return{changes:{insert:n+n,from:re},effects:closeBracketEffect.of(re+n.length),range:EditorSelection.cursor(re+n.length)};if(closedBracketAt(g,re)){let de=r&&g.sliceDoc(re,re+n.length*3)==n+n+n;return{range:EditorSelection.cursor(re+n.length*(de?3:1)),effects:skipBracketEffect.of(re)}}}else{if(r&&g.sliceDoc(re-2*n.length,re)==n+n&&(ue=canStartStringAt(g,re-2*n.length,L))>-1&&nodeStart(g,ue))return{changes:{insert:n+n+n+n,from:re},effects:closeBracketEffect.of(re+n.length),range:EditorSelection.cursor(re+n.length)};if(g.charCategorizer(re)(le)!=CharCategory.Word&&canStartStringAt(g,re,L)>-1&&!probablyInString(g,re,n,L))return{changes:{insert:n+n,from:re},effects:closeBracketEffect.of(re+n.length),range:EditorSelection.cursor(re+n.length)}}return{range:V=ae}});return V?null:g.update(oe,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(g,n){let r=syntaxTree(g).resolveInner(n+1);return r.parent&&r.from==n}function probablyInString(g,n,r,$){let L=syntaxTree(g).resolveInner(n,-1),V=$.reduce((oe,ae)=>Math.max(oe,ae.length),0);for(let oe=0;oe<5;oe++){let ae=g.sliceDoc(L.from,Math.min(L.to,L.from+r.length+V)),re=ae.indexOf(r);if(!re||re>-1&&$.indexOf(ae.slice(0,re))>-1){let ue=L.firstChild;for(;ue&&ue.from==L.from&&ue.to-ue.from>r.length+re;){if(g.sliceDoc(ue.to-r.length,ue.to)==r)return!1;ue=ue.firstChild}return!0}let le=L.to==n&&L.parent;if(!le)break;L=le}return!1}function canStartStringAt(g,n,r){let $=g.charCategorizer(n);if($(g.sliceDoc(n-1,n))!=CharCategory.Word)return n;for(let L of r){let V=n-L.length;if(g.sliceDoc(V,n)==L&&$(g.sliceDoc(V-1,V))!=CharCategory.Word)return V}return-1}function autocompletion(g={}){return[completionState,completionConfig.of(g),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],g=>g.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(n,r,$){this.from=n,this.to=r,this.diagnostic=$}}class LintState{constructor(n,r,$){this.diagnostics=n,this.panel=r,this.selected=$}static init(n,r,$){let L=n,V=$.facet(lintConfig).markerFilter;V&&(L=V(L));let oe=Decoration.set(L.map(ae=>ae.from==ae.to||ae.from==ae.to-1&&$.doc.lineAt(ae.from).to==ae.from?Decoration.widget({widget:new DiagnosticWidget(ae),diagnostic:ae}).range(ae.from):Decoration.mark({attributes:{class:"cm-lintRange cm-lintRange-"+ae.severity},diagnostic:ae}).range(ae.from,ae.to)),!0);return new LintState(oe,r,findDiagnostic(oe))}}function findDiagnostic(g,n=null,r=0){let $=null;return g.between(r,1e9,(L,V,{spec:oe})=>{if(!(n&&oe.diagnostic!=n))return $=new SelectedDiagnostic(L,V,oe.diagnostic),!1}),$}function hideTooltip(g,n){return!!(g.effects.some(r=>r.is(setDiagnosticsEffect))||g.changes.touchesRange(n.pos))}function maybeEnableLint(g,n){return g.field(lintState,!1)?n:n.concat(StateEffect.appendConfig.of([lintState,EditorView.decorations.compute([lintState],r=>{let{selected:$,panel:L}=r.field(lintState);return!$||!L||$.from==$.to?Decoration.none:Decoration.set([activeMark.range($.from,$.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme]))}function setDiagnostics(g,n){return{effects:maybeEnableLint(g,[setDiagnosticsEffect.of(n)])}}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(g,n){if(n.docChanged){let r=g.diagnostics.map(n.changes),$=null;if(g.selected){let L=n.changes.mapPos(g.selected.from,1);$=findDiagnostic(r,g.selected.diagnostic,L)||findDiagnostic(r,null,L)}g=new LintState(r,g.panel,$)}for(let r of n.effects)r.is(setDiagnosticsEffect)?g=LintState.init(r.value,g.panel,n.state):r.is(togglePanel)?g=new LintState(g.diagnostics,r.value?LintPanel.open:null,g.selected):r.is(movePanelSelection)&&(g=new LintState(g.diagnostics,g.panel,r.value));return g},provide:g=>[showPanel.from(g,n=>n.panel),EditorView.decorations.from(g,n=>n.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(g,n,r){let{diagnostics:$}=g.state.field(lintState),L=[],V=2e8,oe=0;$.between(n-(r<0?1:0),n+(r>0?1:0),(re,le,{spec:ue})=>{n>=re&&n<=le&&(re==le||(n>re||r>0)&&(n<le||r<0))&&(L.push(ue.diagnostic),V=Math.min(re,V),oe=Math.max(le,oe))});let ae=g.state.facet(lintConfig).tooltipFilter;return ae&&(L=ae(L)),L.length?{pos:V,end:oe,above:g.state.doc.lineAt(V).to<oe,create(){return{dom:diagnosticsTooltip(g,L)}}}:null}function diagnosticsTooltip(g,n){return crelt("ul",{class:"cm-tooltip-lint"},n.map(r=>renderDiagnostic(g,r,!1)))}const openLintPanel=g=>{let n=g.state.field(lintState,!1);(!n||!n.panel)&&g.dispatch({effects:maybeEnableLint(g.state,[togglePanel.of(!0)])});let r=getPanel(g,LintPanel.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=g=>{let n=g.state.field(lintState,!1);return!n||!n.panel?!1:(g.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=g=>{let n=g.state.field(lintState,!1);if(!n)return!1;let r=g.state.selection.main,$=n.diagnostics.iter(r.to+1);return!$.value&&($=n.diagnostics.iter(0),!$.value||$.from==r.from&&$.to==r.to)?!1:(g.dispatch({selection:{anchor:$.from,head:$.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintPlugin=ViewPlugin.fromClass(class{constructor(g){this.view=g,this.timeout=-1,this.set=!0;let{delay:n}=g.state.facet(lintConfig);this.lintTime=Date.now()+n,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,n)}run(){let g=Date.now();if(g<this.lintTime-10)setTimeout(this.run,this.lintTime-g);else{this.set=!1;let{state:n}=this.view,{sources:r}=n.facet(lintConfig);Promise.all(r.map($=>Promise.resolve($(this.view)))).then($=>{let L=$.reduce((V,oe)=>V.concat(oe));this.view.state.doc==n.doc&&this.view.dispatch(setDiagnostics(this.view.state,L))},$=>{logException(this.view.state,$)})}}update(g){let n=g.state.facet(lintConfig);(g.docChanged||n!=g.startState.facet(lintConfig))&&(this.lintTime=Date.now()+n.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,n.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),lintConfig=Facet.define({combine(g){return Object.assign({sources:g.map(n=>n.source)},combineConfig(g.map(n=>n.config),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:lintPlugin});function assignKeys(g){let n=[];if(g)e:for(let{name:r}of g){for(let $=0;$<r.length;$++){let L=r[$];if(/[a-zA-Z]/.test(L)&&!n.some(V=>V.toLowerCase()==L.toLowerCase())){n.push(L);continue e}}n.push("")}return n}function renderDiagnostic(g,n,r){var $;let L=r?assignKeys(n.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+n.severity},crelt("span",{class:"cm-diagnosticText"},n.renderMessage?n.renderMessage():n.message),($=n.actions)===null||$===void 0?void 0:$.map((V,oe)=>{let ae=de=>{de.preventDefault();let he=findDiagnostic(g.state.field(lintState).diagnostics,n);he&&V.apply(g,he.from,he.to)},{name:re}=V,le=L[oe]?re.indexOf(L[oe]):-1,ue=le<0?re:[re.slice(0,le),crelt("u",re.slice(le,le+1)),re.slice(le+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:ae,onmousedown:ae,"aria-label":` Action: ${re}${le<0?"":` (access key "${L[oe]})"`}.`},ue)}),n.source&&crelt("div",{class:"cm-diagnosticSource"},n.source))}class DiagnosticWidget extends WidgetType{constructor(n){super(),this.diagnostic=n}eq(n){return n.diagnostic==this.diagnostic}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class PanelItem{constructor(n,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(n,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(n){this.view=n,this.items=[];let r=L=>{if(L.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(L.keyCode==38||L.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(L.keyCode==40||L.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(L.keyCode==36)this.moveSelection(0);else if(L.keyCode==35)this.moveSelection(this.items.length-1);else if(L.keyCode==13)this.view.focus();else if(L.keyCode>=65&&L.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:V}=this.items[this.selectedIndex],oe=assignKeys(V.actions);for(let ae=0;ae<oe.length;ae++)if(oe[ae].toUpperCase().charCodeAt(0)==L.keyCode){let re=findDiagnostic(this.view.state.field(lintState).diagnostics,V);re&&V.actions[ae].apply(n,re.from,re.to)}}else return;L.preventDefault()},$=L=>{for(let V=0;V<this.items.length;V++)this.items[V].dom.contains(L.target)&&this.moveSelection(V)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:$}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"\xD7")),this.update()}get selectedIndex(){let n=this.view.state.field(lintState).selected;if(!n)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==n.diagnostic)return r;return-1}update(){let{diagnostics:n,selected:r}=this.view.state.field(lintState),$=0,L=!1,V=null;for(n.between(0,this.view.state.doc.length,(oe,ae,{spec:re})=>{let le=-1,ue;for(let de=$;de<this.items.length;de++)if(this.items[de].diagnostic==re.diagnostic){le=de;break}le<0?(ue=new PanelItem(this.view,re.diagnostic),this.items.splice($,0,ue),L=!0):(ue=this.items[le],le>$&&(this.items.splice($,le-$),L=!0)),r&&ue.diagnostic==r.diagnostic?ue.dom.hasAttribute("aria-selected")||(ue.dom.setAttribute("aria-selected","true"),V=ue):ue.dom.hasAttribute("aria-selected")&&ue.dom.removeAttribute("aria-selected"),$++});$<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)L=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),L=!0),V?(this.list.setAttribute("aria-activedescendant",V.id),this.view.requestMeasure({key:this,read:()=>({sel:V.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:oe,panel:ae})=>{oe.top<ae.top?this.list.scrollTop-=ae.top-oe.top:oe.bottom>ae.bottom&&(this.list.scrollTop+=oe.bottom-ae.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),L&&this.sync()}sync(){let n=this.list.firstChild;function r(){let $=n;n=$.nextSibling,$.remove()}for(let $ of this.items)if($.dom.parentNode==this.list){for(;n!=$.dom;)r();n=$.dom.nextSibling}else this.list.insertBefore($.dom,n);for(;n;)r()}moveSelection(n){if(this.selectedIndex<0)return;let r=this.view.state.field(lintState),$=findDiagnostic(r.diagnostics,this.items[n].diagnostic);!$||this.view.dispatch({selection:{anchor:$.from,head:$.to},scrollIntoView:!0,effects:movePanelSelection.of($)})}static open(n){return new LintPanel(n)}}function svg(g,n='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${n}>${encodeURIComponent(g)}</svg>')`}function underline(g){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${g}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),basicSetup=(()=>[lineNumbers(),highlightActiveLineGutter(),highlightSpecialChars(),history$1(),foldGutter(),drawSelection(),dropCursor(),EditorState.allowMultipleSelections.of(!0),indentOnInput(),syntaxHighlighting(defaultHighlightStyle,{fallback:!0}),bracketMatching(),closeBrackets(),autocompletion(),rectangularSelection(),crosshairCursor(),highlightActiveLine(),highlightSelectionMatches(),keymap.of([...closeBracketsKeymap,...defaultKeymap,...searchKeymap,...historyKeymap,...foldKeymap,...completionKeymap,...lintKeymap])])();var h=Object.freeze({autofocus:!1,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"",autoDestroy:!0,extensions:[basicSetup]}),y=Symbol("vue-codemirror-global-config"),O,j=function(g){var n=g.onUpdate,r=g.onChange,$=g.onFocus,L=g.onBlur,V=function(oe,ae){var re={};for(var le in oe)Object.prototype.hasOwnProperty.call(oe,le)&&ae.indexOf(le)<0&&(re[le]=oe[le]);if(oe!=null&&typeof Object.getOwnPropertySymbols=="function"){var ue=0;for(le=Object.getOwnPropertySymbols(oe);ue<le.length;ue++)ae.indexOf(le[ue])<0&&Object.prototype.propertyIsEnumerable.call(oe,le[ue])&&(re[le[ue]]=oe[le[ue]])}return re}(g,["onUpdate","onChange","onFocus","onBlur"]);return EditorState.create({doc:V.doc,selection:V.selection,extensions:(Array.isArray(V.extensions)?V.extensions:[V.extensions]).concat([EditorView.updateListener.of(function(oe){n(oe),oe.docChanged&&r(oe.state.doc.toString(),oe),oe.focusChanged&&(oe.view.hasFocus?$(oe):L(oe))})])})},S=function(g){var n=new Compartment;return{compartment:n,run:function(r){n.get(g.state)?g.dispatch({effects:n.reconfigure(r)}):g.dispatch({effects:StateEffect.appendConfig.of(n.of(r))})}}},x=function(g,n){var r=S(g),$=r.compartment,L=r.run;return function(V){var oe=$.get(g.state);L((V!=null?V:oe!==n)?n:[])}},C={type:Boolean,default:void 0},D={autofocus:C,disabled:C,indentWithTab:C,tabSize:Number,placeholder:String,style:Object,autoDestroy:C,phrases:Object,root:Object,extensions:Array,selection:Object},U={modelValue:{type:String,default:""}},w=Object.assign(Object.assign({},D),U);(function(g){g.Change="change",g.Update="update",g.Focus="focus",g.Blur="blur",g.Ready="ready",g.ModelUpdate="update:modelValue"})(O||(O={}));var z={};z[O.Change]=function(g,n){return!0},z[O.Update]=function(g){return!0},z[O.Focus]=function(g){return!0},z[O.Blur]=function(g){return!0},z[O.Ready]=function(g){return!0};var B={};B[O.ModelUpdate]=z[O.Change];var F=Object.assign(Object.assign({},z),B),P=defineComponent({name:"VueCodemirror",props:Object.assign({},w),emits:Object.assign({},F),setup:function(g,n){var r=shallowRef(),$=shallowRef(),L=shallowRef(),V=Object.assign(Object.assign({},h),inject(y,{})),oe=computed(function(){var ae={};return Object.keys(toRaw(g)).forEach(function(re){var le;re!=="modelValue"&&(ae[re]=(le=g[re])!==null&&le!==void 0?le:V[re])}),ae});return onMounted(function(){var ae;$.value=j({doc:g.modelValue,selection:oe.value.selection,extensions:(ae=V.extensions)!==null&&ae!==void 0?ae:[],onFocus:function(le){return n.emit(O.Focus,le)},onBlur:function(le){return n.emit(O.Blur,le)},onUpdate:function(le){return n.emit(O.Update,le)},onChange:function(le,ue){le!==g.modelValue&&(n.emit(O.Change,le,ue),n.emit(O.ModelUpdate,le,ue))}}),L.value=function(le){return new EditorView(Object.assign({},le))}({state:$.value,parent:r.value,root:oe.value.root});var re=function(le){var ue=function(){return le.state.doc.toString()},de=S(le).run,he=x(le,[EditorView.editable.of(!1),EditorState.readOnly.of(!0)]),pe=x(le,keymap.of([indentWithTab])),_e=S(le).run,$e=S(le).run,xe=S(le).run,Oe=S(le).run;return{focus:function(){return le.focus()},getDoc:ue,setDoc:function(Ce){Ce!==ue()&&le.dispatch({changes:{from:0,to:le.state.doc.length,insert:Ce}})},reExtensions:de,toggleDisabled:he,toggleIndentWithTab:pe,setTabSize:function(Ce){_e([EditorState.tabSize.of(Ce),indentUnit.of(" ".repeat(Ce))])},setPhrases:function(Ce){$e([EditorState.phrases.of(Ce)])},setPlaceholder:function(Ce){xe(placeholder(Ce))},setStyle:function(Ce){Ce===void 0&&(Ce={}),Oe(EditorView.theme({"&":Object.assign({},Ce)}))}}}(L.value);watch(function(){return g.modelValue},function(le){le!==re.getDoc()&&re.setDoc(le)}),watch(function(){return g.extensions},function(le){return re.reExtensions(le||[])},{immediate:!0}),watch(function(){return oe.value.disabled},function(le){return re.toggleDisabled(le)},{immediate:!0}),watch(function(){return oe.value.indentWithTab},function(le){return re.toggleIndentWithTab(le)},{immediate:!0}),watch(function(){return oe.value.tabSize},function(le){return re.setTabSize(le)},{immediate:!0}),watch(function(){return oe.value.phrases},function(le){return re.setPhrases(le||{})},{immediate:!0}),watch(function(){return oe.value.placeholder},function(le){return re.setPlaceholder(le)},{immediate:!0}),watch(function(){return oe.value.style},function(le){return re.setStyle(le)},{immediate:!0}),oe.value.autofocus&&re.focus(),n.emit(O.Ready,{state:$.value,view:L.value,container:r.value})}),onBeforeUnmount(function(){oe.value.autoDestroy&&L.value&&function(ae){ae.destroy()}(L.value)}),function(){return h$2("div",{class:"v-codemirror",style:{display:"contents"},ref:r})}}}),T=P;class Stack{constructor(n,r,$,L,V,oe,ae,re,le,ue=0,de){this.p=n,this.stack=r,this.state=$,this.reducePos=L,this.pos=V,this.score=oe,this.buffer=ae,this.bufferBase=re,this.curContext=le,this.lookAhead=ue,this.parent=de}toString(){return`[${this.stack.filter((n,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(n,r,$=0){let L=n.parser.context;return new Stack(n,[],r,$,$,0,[],0,L?new StackContext(L,L.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(n,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=n}reduce(n){let r=n>>19,$=n&65535,{parser:L}=this.p,V=L.dynamicPrecedence($);if(V&&(this.score+=V),r==0){this.pushState(L.getGoto(this.state,$,!0),this.reducePos),$<L.minRepeatTerm&&this.storeNode($,this.reducePos,this.reducePos,4,!0),this.reduceContext($,this.reducePos);return}let oe=this.stack.length-(r-1)*3-(n&262144?6:0),ae=this.stack[oe-2],re=this.stack[oe-1],le=this.bufferBase+this.buffer.length-re;if($<L.minRepeatTerm||n&131072){let ue=L.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode($,ae,ue,le+4,!0)}if(n&262144)this.state=this.stack[oe];else{let ue=this.stack[oe-3];this.state=L.getGoto(ue,$,!0)}for(;this.stack.length>oe;)this.stack.pop();this.reduceContext($,ae)}storeNode(n,r,$,L=4,V=!1){if(n==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let oe=this,ae=this.buffer.length;if(ae==0&&oe.parent&&(ae=oe.bufferBase-oe.parent.bufferBase,oe=oe.parent),ae>0&&oe.buffer[ae-4]==0&&oe.buffer[ae-1]>-1){if(r==$)return;if(oe.buffer[ae-2]>=r){oe.buffer[ae-2]=$;return}}}if(!V||this.pos==$)this.buffer.push(n,r,$,L);else{let oe=this.buffer.length;if(oe>0&&this.buffer[oe-4]!=0)for(;oe>0&&this.buffer[oe-2]>$;)this.buffer[oe]=this.buffer[oe-4],this.buffer[oe+1]=this.buffer[oe-3],this.buffer[oe+2]=this.buffer[oe-2],this.buffer[oe+3]=this.buffer[oe-1],oe-=4,L>4&&(L-=4);this.buffer[oe]=n,this.buffer[oe+1]=r,this.buffer[oe+2]=$,this.buffer[oe+3]=L}}shift(n,r,$){let L=this.pos;if(n&131072)this.pushState(n&65535,this.pos);else if((n&262144)==0){let V=n,{parser:oe}=this.p;($>this.pos||r<=oe.maxNode)&&(this.pos=$,oe.stateFlag(V,1)||(this.reducePos=$)),this.pushState(V,L),this.shiftContext(r,L),r<=oe.maxNode&&this.buffer.push(r,L,$,4)}else this.pos=$,this.shiftContext(r,L),r<=this.p.parser.maxNode&&this.buffer.push(r,L,$,4)}apply(n,r,$){n&65536?this.reduce(n):this.shift(n,r,$)}useNode(n,r){let $=this.p.reused.length-1;($<0||this.p.reused[$]!=n)&&(this.p.reused.push(n),$++);let L=this.pos;this.reducePos=this.pos=L+n.length,this.pushState(r,L),this.buffer.push($,L,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,n,this,this.p.stream.reset(this.pos-n.length)))}split(){let n=this,r=n.buffer.length;for(;r>0&&n.buffer[r-2]>n.reducePos;)r-=4;let $=n.buffer.slice(r),L=n.bufferBase+r;for(;n&&L==n.bufferBase;)n=n.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,$,L,this.curContext,this.lookAhead,n)}recoverByDelete(n,r){let $=n<=this.p.parser.maxNode;$&&this.storeNode(n,this.pos,r,4),this.storeNode(0,this.pos,r,$?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(n){for(let r=new SimulatedStack(this);;){let $=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,n);if($==0)return!1;if(($&65536)==0)return!0;r.reduce($)}}recoverByInsert(n){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let L=[];for(let V=0,oe;V<r.length;V+=2)(oe=r[V+1])!=this.state&&this.p.parser.hasAction(oe,n)&&L.push(r[V],oe);if(this.stack.length<120)for(let V=0;L.length<8&&V<r.length;V+=2){let oe=r[V+1];L.some((ae,re)=>re&1&&ae==oe)||L.push(r[V],oe)}r=L}let $=[];for(let L=0;L<r.length&&$.length<4;L+=2){let V=r[L+1];if(V==this.state)continue;let oe=this.split();oe.pushState(V,this.pos),oe.storeNode(0,oe.pos,oe.pos,4,!0),oe.shiftContext(r[L],this.pos),oe.score-=200,$.push(oe)}return $}forceReduce(){let n=this.p.parser.stateSlot(this.state,5);if((n&65536)==0)return!1;let{parser:r}=this.p;if(!r.validAction(this.state,n)){let $=n>>19,L=n&65535,V=this.stack.length-$*3;if(V<0||r.getGoto(this.stack[V],L,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:n}=this.p;return n.data[n.stateSlot(this.state,1)]==65535&&!n.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(n){if(this.state!=n.state||this.stack.length!=n.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=n.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(n){return this.p.parser.dialect.flags[n]}shiftContext(n,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,n,this,this.p.stream.reset(r)))}reduceContext(n,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,n,this,this.p.stream.reset(r)))}emitContext(){let n=this.buffer.length-1;(n<0||this.buffer[n]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let n=this.buffer.length-1;(n<0||this.buffer[n]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(n){if(n!=this.curContext.context){let r=new StackContext(this.curContext.tracker,n);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(n){n>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=n)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(n,r){this.tracker=n,this.context=r,this.hash=n.strict?n.hash(r):0}}var Recover;(function(g){g[g.Insert=200]="Insert",g[g.Delete=190]="Delete",g[g.Reduce=100]="Reduce",g[g.MaxNext=4]="MaxNext",g[g.MaxInsertStackDepth=300]="MaxInsertStackDepth",g[g.DampenInsertStackDepth=120]="DampenInsertStackDepth"})(Recover||(Recover={}));class SimulatedStack{constructor(n){this.start=n,this.state=n.state,this.stack=n.stack,this.base=this.stack.length}reduce(n){let r=n&65535,$=n>>19;$==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=($-1)*3;let L=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=L}}class StackBufferCursor{constructor(n,r,$){this.stack=n,this.pos=r,this.index=$,this.buffer=n.buffer,this.index==0&&this.maybeNext()}static create(n,r=n.bufferBase+n.buffer.length){return new StackBufferCursor(n,r,r-n.bufferBase)}maybeNext(){let n=this.stack.parent;n!=null&&(this.index=this.stack.bufferBase-n.bufferBase,this.stack=n,this.buffer=n.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(n,r){this.input=n,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(n,r){let $=this.range,L=this.rangeIndex,V=this.pos+n;for(;V<$.from;){if(!L)return null;let oe=this.ranges[--L];V-=$.from-oe.to,$=oe}for(;r<0?V>$.to:V>=$.to;){if(L==this.ranges.length-1)return null;let oe=this.ranges[++L];V+=oe.from-$.to,$=oe}return V}clipPos(n){if(n>=this.range.from&&n<this.range.to)return n;for(let r of this.ranges)if(r.to>n)return Math.max(n,r.from);return this.end}peek(n){let r=this.chunkOff+n,$,L;if(r>=0&&r<this.chunk.length)$=this.pos+n,L=this.chunk.charCodeAt(r);else{let V=this.resolveOffset(n,1);if(V==null)return-1;if($=V,$>=this.chunk2Pos&&$<this.chunk2Pos+this.chunk2.length)L=this.chunk2.charCodeAt($-this.chunk2Pos);else{let oe=this.rangeIndex,ae=this.range;for(;ae.to<=$;)ae=this.ranges[++oe];this.chunk2=this.input.chunk(this.chunk2Pos=$),$+this.chunk2.length>ae.to&&(this.chunk2=this.chunk2.slice(0,ae.to-$)),L=this.chunk2.charCodeAt(0)}}return $>=this.token.lookAhead&&(this.token.lookAhead=$+1),L}acceptToken(n,r=0){let $=r?this.resolveOffset(r,-1):this.pos;if($==null||$<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=n,this.token.end=$}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:n,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=n,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let n=this.input.chunk(this.pos),r=this.pos+n.length;this.chunk=r>this.range.to?n.slice(0,this.range.to-this.pos):n,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(n=1){for(this.chunkOff+=n;this.pos+n>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();n-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=n,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(n,r){if(r?(this.token=r,r.start=n,r.lookAhead=n+1,r.value=r.extended=-1):this.token=nullToken,this.pos!=n){if(this.pos=n,n==this.end)return this.setDone(),this;for(;n<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;n>=this.range.to;)this.range=this.ranges[++this.rangeIndex];n>=this.chunkPos&&n<this.chunkPos+this.chunk.length?this.chunkOff=n-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(n,r){if(n>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(n-this.chunkPos,r-this.chunkPos);if(n>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(n-this.chunk2Pos,r-this.chunk2Pos);if(n>=this.range.from&&r<=this.range.to)return this.input.read(n,r);let $="";for(let L of this.ranges){if(L.from>=r)break;L.to>n&&($+=this.input.read(Math.max(L.from,n),Math.min(L.to,r)))}return $}}class TokenGroup{constructor(n,r){this.data=n,this.id=r}token(n,r){readToken(this.data,n,r,this.id)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(n,r={}){this.token=n,this.contextual=!!r.contextual,this.fallback=!!r.fallback,this.extend=!!r.extend}}function readToken(g,n,r,$){let L=0,V=1<<$,{parser:oe}=r.p,{dialect:ae}=oe;e:for(;(V&g[L])!=0;){let re=g[L+1];for(let he=L+3;he<re;he+=2)if((g[he+1]&V)>0){let pe=g[he];if(ae.allows(pe)&&(n.token.value==-1||n.token.value==pe||oe.overrides(pe,n.token.value))){n.acceptToken(pe);break}}let le=n.next,ue=0,de=g[L+2];if(n.next<0&&de>ue&&g[re+de*3-3]==65535&&g[re+de*3-3]==65535){L=g[re+de*3-1];continue e}for(;ue<de;){let he=ue+de>>1,pe=re+he+(he<<1),_e=g[pe],$e=g[pe+1]||65536;if(le<_e)de=he;else if(le>=$e)ue=he+1;else{L=g[pe+2],n.advance();continue e}}break}}function decodeArray(g,n=Uint16Array){if(typeof g!="string")return g;let r=null;for(let $=0,L=0;$<g.length;){let V=0;for(;;){let oe=g.charCodeAt($++),ae=!1;if(oe==126){V=65535;break}oe>=92&&oe--,oe>=34&&oe--;let re=oe-32;if(re>=46&&(re-=46,ae=!0),V+=re,ae)break;V*=46}r?r[L++]=V:r=new n(V)}return r}const verbose=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG);let stackIDs=null;var Safety;(function(g){g[g.Margin=25]="Margin"})(Safety||(Safety={}));function cutAt(g,n,r){let $=g.cursor(IterMode.IncludeAnonymous);for($.moveTo(n);;)if(!(r<0?$.childBefore(n):$.childAfter(n)))for(;;){if((r<0?$.to<n:$.from>n)&&!$.type.isError)return r<0?Math.max(0,Math.min($.to-1,n-25)):Math.min(g.length,Math.max($.from+1,n+25));if(r<0?$.prevSibling():$.nextSibling())break;if(!$.parent())return r<0?0:g.length}}class FragmentCursor{constructor(n,r){this.fragments=n,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let n=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(n){for(this.safeFrom=n.openStart?cutAt(n.tree,n.from+n.offset,1)-n.offset:n.from,this.safeTo=n.openEnd?cutAt(n.tree,n.to+n.offset,-1)-n.offset:n.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(n.tree),this.start.push(-n.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(n){if(n<this.nextStart)return null;for(;this.fragment&&this.safeTo<=n;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let $=this.trees[r],L=this.index[r];if(L==$.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let V=$.children[L],oe=this.start[r]+$.positions[L];if(oe>n)return this.nextStart=oe,null;if(V instanceof Tree$2){if(oe==n){if(oe<this.safeFrom)return null;let ae=oe+V.length;if(ae<=this.safeTo){let re=V.prop(NodeProp.lookAhead);if(!re||ae+re<this.fragment.to)return V}}this.index[r]++,oe+V.length>=Math.max(this.safeFrom,n)&&(this.trees.push(V),this.start.push(oe),this.index.push(0))}else this.index[r]++,this.nextStart=oe+V.length}}}class TokenCache{constructor(n,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=n.tokenizers.map($=>new CachedToken)}getActions(n){let r=0,$=null,{parser:L}=n.p,{tokenizers:V}=L,oe=L.stateSlot(n.state,3),ae=n.curContext?n.curContext.hash:0,re=0;for(let le=0;le<V.length;le++){if((1<<le&oe)==0)continue;let ue=V[le],de=this.tokens[le];if(!($&&!ue.fallback)&&((ue.contextual||de.start!=n.pos||de.mask!=oe||de.context!=ae)&&(this.updateCachedToken(de,ue,n),de.mask=oe,de.context=ae),de.lookAhead>de.end+25&&(re=Math.max(de.lookAhead,re)),de.value!=0)){let he=r;if(de.extended>-1&&(r=this.addActions(n,de.extended,de.end,r)),r=this.addActions(n,de.value,de.end,r),!ue.extend&&($=de,r>he))break}}for(;this.actions.length>r;)this.actions.pop();return re&&n.setLookAhead(re),!$&&n.pos==this.stream.end&&($=new CachedToken,$.value=n.p.parser.eofTerm,$.start=$.end=n.pos,r=this.addActions(n,$.value,$.end,r)),this.mainToken=$,this.actions}getMainToken(n){if(this.mainToken)return this.mainToken;let r=new CachedToken,{pos:$,p:L}=n;return r.start=$,r.end=Math.min($+1,L.stream.end),r.value=$==L.stream.end?L.parser.eofTerm:0,r}updateCachedToken(n,r,$){let L=this.stream.clipPos($.pos);if(r.token(this.stream.reset(L,n),$),n.value>-1){let{parser:V}=$.p;for(let oe=0;oe<V.specialized.length;oe++)if(V.specialized[oe]==n.value){let ae=V.specializers[oe](this.stream.read(n.start,n.end),$);if(ae>=0&&$.p.parser.dialect.allows(ae>>1)){(ae&1)==0?n.value=ae>>1:n.extended=ae>>1;break}}}else n.value=0,n.end=this.stream.clipPos(L+1)}putAction(n,r,$,L){for(let V=0;V<L;V+=3)if(this.actions[V]==n)return L;return this.actions[L++]=n,this.actions[L++]=r,this.actions[L++]=$,L}addActions(n,r,$,L){let{state:V}=n,{parser:oe}=n.p,{data:ae}=oe;for(let re=0;re<2;re++)for(let le=oe.stateSlot(V,re?2:1);;le+=3){if(ae[le]==65535)if(ae[le+1]==1)le=pair(ae,le+2);else{L==0&&ae[le+1]==2&&(L=this.putAction(pair(ae,le+2),r,$,L));break}ae[le]==r&&(L=this.putAction(pair(ae,le+1),r,$,L))}return L}}var Rec;(function(g){g[g.Distance=5]="Distance",g[g.MaxRemainingPerStep=3]="MaxRemainingPerStep",g[g.MinBufferLengthPrune=500]="MinBufferLengthPrune",g[g.ForceReduceLimit=10]="ForceReduceLimit",g[g.CutDepth=15e3]="CutDepth",g[g.CutTo=9e3]="CutTo"})(Rec||(Rec={}));class Parse{constructor(n,r,$,L){this.parser=n,this.input=r,this.ranges=L,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new InputStream(r,L),this.tokens=new TokenCache(n,this.stream),this.topTerm=n.top[1];let{from:V}=L[0];this.stacks=[Stack.start(this,n.top[0],V)],this.fragments=$.length&&this.stream.end-V>n.bufferLength*4?new FragmentCursor($,n.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let n=this.stacks,r=this.minStackPos,$=this.stacks=[],L,V;for(let oe=0;oe<n.length;oe++){let ae=n[oe];for(;;){if(this.tokens.mainToken=null,ae.pos>r)$.push(ae);else{if(this.advanceStack(ae,$,n))continue;{L||(L=[],V=[]),L.push(ae);let re=this.tokens.getMainToken(ae);V.push(re.value,re.end)}}break}}if(!$.length){let oe=L&&findFinished(L);if(oe)return this.stackToTree(oe);if(this.parser.strict)throw verbose&&L&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&L){let oe=this.stoppedAt!=null&&L[0].pos>this.stoppedAt?L[0]:this.runRecovery(L,V,$);if(oe)return this.stackToTree(oe.forceAll())}if(this.recovering){let oe=this.recovering==1?1:this.recovering*3;if($.length>oe)for($.sort((ae,re)=>re.score-ae.score);$.length>oe;)$.pop();$.some(ae=>ae.reducePos>r)&&this.recovering--}else if($.length>1){e:for(let oe=0;oe<$.length-1;oe++){let ae=$[oe];for(let re=oe+1;re<$.length;re++){let le=$[re];if(ae.sameState(le)||ae.buffer.length>500&&le.buffer.length>500)if((ae.score-le.score||ae.buffer.length-le.buffer.length)>0)$.splice(re--,1);else{$.splice(oe--,1);continue e}}}}this.minStackPos=$[0].pos;for(let oe=1;oe<$.length;oe++)$[oe].pos<this.minStackPos&&(this.minStackPos=$[oe].pos);return null}stopAt(n){if(this.stoppedAt!=null&&this.stoppedAt<n)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=n}advanceStack(n,r,$){let L=n.pos,{parser:V}=this,oe=verbose?this.stackID(n)+" -> ":"";if(this.stoppedAt!=null&&L>this.stoppedAt)return n.forceReduce()?n:null;if(this.fragments){let le=n.curContext&&n.curContext.tracker.strict,ue=le?n.curContext.hash:0;for(let de=this.fragments.nodeAt(L);de;){let he=this.parser.nodeSet.types[de.type.id]==de.type?V.getGoto(n.state,de.type.id):-1;if(he>-1&&de.length&&(!le||(de.prop(NodeProp.contextHash)||0)==ue))return n.useNode(de,he),verbose&&console.log(oe+this.stackID(n)+` (via reuse of ${V.getName(de.type.id)})`),!0;if(!(de instanceof Tree$2)||de.children.length==0||de.positions[0]>0)break;let pe=de.children[0];if(pe instanceof Tree$2&&de.positions[0]==0)de=pe;else break}}let ae=V.stateSlot(n.state,4);if(ae>0)return n.reduce(ae),verbose&&console.log(oe+this.stackID(n)+` (via always-reduce ${V.getName(ae&65535)})`),!0;if(n.stack.length>=15e3)for(;n.stack.length>9e3&&n.forceReduce(););let re=this.tokens.getActions(n);for(let le=0;le<re.length;){let ue=re[le++],de=re[le++],he=re[le++],pe=le==re.length||!$,_e=pe?n:n.split();if(_e.apply(ue,de,he),verbose&&console.log(oe+this.stackID(_e)+` (via ${(ue&65536)==0?"shift":`reduce of ${V.getName(ue&65535)}`} for ${V.getName(de)} @ ${L}${_e==n?"":", split"})`),pe)return!0;_e.pos>L?r.push(_e):$.push(_e)}return!1}advanceFully(n,r){let $=n.pos;for(;;){if(!this.advanceStack(n,null,null))return!1;if(n.pos>$)return pushStackDedup(n,r),!0}}runRecovery(n,r,$){let L=null,V=!1;for(let oe=0;oe<n.length;oe++){let ae=n[oe],re=r[oe<<1],le=r[(oe<<1)+1],ue=verbose?this.stackID(ae)+" -> ":"";if(ae.deadEnd&&(V||(V=!0,ae.restart(),verbose&&console.log(ue+this.stackID(ae)+" (restarted)"),this.advanceFully(ae,$))))continue;let de=ae.split(),he=ue;for(let pe=0;de.forceReduce()&&pe<10&&(verbose&&console.log(he+this.stackID(de)+" (via force-reduce)"),!this.advanceFully(de,$));pe++)verbose&&(he=this.stackID(de)+" -> ");for(let pe of ae.recoverByInsert(re))verbose&&console.log(ue+this.stackID(pe)+" (via recover-insert)"),this.advanceFully(pe,$);this.stream.end>ae.pos?(le==ae.pos&&(le++,re=0),ae.recoverByDelete(re,le),verbose&&console.log(ue+this.stackID(ae)+` (via recover-delete ${this.parser.getName(re)})`),pushStackDedup(ae,$)):(!L||L.score<ae.score)&&(L=ae)}return L}stackToTree(n){return n.close(),Tree$2.build({buffer:StackBufferCursor.create(n),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:n.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(n){let r=(stackIDs||(stackIDs=new WeakMap)).get(n);return r||stackIDs.set(n,r=String.fromCodePoint(this.nextStackID++)),r+n}}function pushStackDedup(g,n){for(let r=0;r<n.length;r++){let $=n[r];if($.pos==g.pos&&$.sameState(g)){n[r].score<g.score&&(n[r]=g);return}}n.push(g)}class Dialect{constructor(n,r,$){this.source=n,this.flags=r,this.disabled=$}allows(n){return!this.disabled||this.disabled[n]==0}}const id=g=>g;class ContextTracker{constructor(n){this.start=n.start,this.shift=n.shift||id,this.reduce=n.reduce||id,this.reuse=n.reuse||id,this.hash=n.hash||(()=>0),this.strict=n.strict!==!1}}class LRParser extends Parser{constructor(n){if(super(),this.wrappers=[],n.version!=14)throw new RangeError(`Parser version (${n.version}) doesn't match runtime version (${14})`);let r=n.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let ae=0;ae<n.repeatNodeCount;ae++)r.push("");let $=Object.keys(n.topRules).map(ae=>n.topRules[ae][1]),L=[];for(let ae=0;ae<r.length;ae++)L.push([]);function V(ae,re,le){L[ae].push([re,re.deserialize(String(le))])}if(n.nodeProps)for(let ae of n.nodeProps){let re=ae[0];typeof re=="string"&&(re=NodeProp[re]);for(let le=1;le<ae.length;){let ue=ae[le++];if(ue>=0)V(ue,re,ae[le++]);else{let de=ae[le+-ue];for(let he=-ue;he>0;he--)V(ae[le++],re,de);le++}}}this.nodeSet=new NodeSet(r.map((ae,re)=>NodeType.define({name:re>=this.minRepeatTerm?void 0:ae,id:re,props:L[re],top:$.indexOf(re)>-1,error:re==0,skipped:n.skippedNodes&&n.skippedNodes.indexOf(re)>-1}))),n.propSources&&(this.nodeSet=this.nodeSet.extend(...n.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let oe=decodeArray(n.tokenData);this.context=n.context,this.specializerSpecs=n.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let ae=0;ae<this.specializerSpecs.length;ae++)this.specialized[ae]=this.specializerSpecs[ae].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(n.states,Uint32Array),this.data=decodeArray(n.stateData),this.goto=decodeArray(n.goto),this.maxTerm=n.maxTerm,this.tokenizers=n.tokenizers.map(ae=>typeof ae=="number"?new TokenGroup(oe,ae):ae),this.topRules=n.topRules,this.dialects=n.dialects||{},this.dynamicPrecedences=n.dynamicPrecedences||null,this.tokenPrecTable=n.tokenPrec,this.termNames=n.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(n,r,$){let L=new Parse(this,n,r,$);for(let V of this.wrappers)L=V(L,n,r,$);return L}getGoto(n,r,$=!1){let L=this.goto;if(r>=L[0])return-1;for(let V=L[r+1];;){let oe=L[V++],ae=oe&1,re=L[V++];if(ae&&$)return re;for(let le=V+(oe>>1);V<le;V++)if(L[V]==n)return re;if(ae)return-1}}hasAction(n,r){let $=this.data;for(let L=0;L<2;L++)for(let V=this.stateSlot(n,L?2:1),oe;;V+=3){if((oe=$[V])==65535)if($[V+1]==1)oe=$[V=pair($,V+2)];else{if($[V+1]==2)return pair($,V+2);break}if(oe==r||oe==0)return pair($,V+1)}return 0}stateSlot(n,r){return this.states[n*6+r]}stateFlag(n,r){return(this.stateSlot(n,0)&r)>0}validAction(n,r){if(r==this.stateSlot(n,4))return!0;for(let $=this.stateSlot(n,1);;$+=3){if(this.data[$]==65535)if(this.data[$+1]==1)$=pair(this.data,$+2);else return!1;if(r==pair(this.data,$+1))return!0}}nextStates(n){let r=[];for(let $=this.stateSlot(n,1);;$+=3){if(this.data[$]==65535)if(this.data[$+1]==1)$=pair(this.data,$+2);else break;if((this.data[$+2]&1)==0){let L=this.data[$+1];r.some((V,oe)=>oe&1&&V==L)||r.push(this.data[$],L)}}return r}overrides(n,r){let $=findOffset(this.data,this.tokenPrecTable,r);return $<0||findOffset(this.data,this.tokenPrecTable,n)<$}configure(n){let r=Object.assign(Object.create(LRParser.prototype),this);if(n.props&&(r.nodeSet=this.nodeSet.extend(...n.props)),n.top){let $=this.topRules[n.top];if(!$)throw new RangeError(`Invalid top rule name ${n.top}`);r.top=$}return n.tokenizers&&(r.tokenizers=this.tokenizers.map($=>{let L=n.tokenizers.find(V=>V.from==$);return L?L.to:$})),n.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map(($,L)=>{let V=n.specializers.find(ae=>ae.from==$.external);if(!V)return $;let oe=Object.assign(Object.assign({},$),{external:V.to});return r.specializers[L]=getSpecializer(oe),oe})),n.contextTracker&&(r.context=n.contextTracker),n.dialect&&(r.dialect=this.parseDialect(n.dialect)),n.strict!=null&&(r.strict=n.strict),n.wrap&&(r.wrappers=r.wrappers.concat(n.wrap)),n.bufferLength!=null&&(r.bufferLength=n.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(n){return this.termNames?this.termNames[n]:String(n<=this.maxNode&&this.nodeSet.types[n].name||n)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(n){let r=this.dynamicPrecedences;return r==null?0:r[n]||0}parseDialect(n){let r=Object.keys(this.dialects),$=r.map(()=>!1);if(n)for(let V of n.split(" ")){let oe=r.indexOf(V);oe>=0&&($[oe]=!0)}let L=null;for(let V=0;V<r.length;V++)if(!$[V])for(let oe=this.dialects[r[V]],ae;(ae=this.data[oe++])!=65535;)(L||(L=new Uint8Array(this.maxTerm+1)))[ae]=1;return new Dialect(n,$,L)}static deserialize(n){return new LRParser(n)}}function pair(g,n){return g[n]|g[n+1]<<16}function findOffset(g,n,r){for(let $=n,L;(L=g[$])!=65535;$++)if(L==r)return $-n;return-1}function findFinished(g){let n=null;for(let r of g){let $=r.p.stoppedAt;(r.pos==r.p.stream.end||$!=null&&r.pos>$)&&r.p.parser.stateFlag(r.state,2)&&(!n||n.score<r.score)&&(n=r)}return n}function getSpecializer(g){if(g.external){let n=g.extend?1:0;return(r,$)=>g.external(r,$)<<1|n}return g.get}const TSExtends=1,noSemi=294,incdec=2,incdecPrefix=3,templateContent=295,InterpolationStart=4,templateEnd=296,insertSemi=297,spaces=299,newline=300,LineComment=5,BlockComment=6,Dialect_ts=1,space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,braceL=123,semicolon=59,slash=47,star=42,plus=43,minus=45,dollar=36,backtick=96,backslash=92,trackNewline=new ContextTracker({start:!1,shift(g,n){return n==LineComment||n==BlockComment||n==spaces?g:n==newline},strict:!1}),insertSemicolon=new ExternalTokenizer((g,n)=>{let{next:r}=g;(r==braceR||r==-1||n.context)&&n.canShift(insertSemi)&&g.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((g,n)=>{let{next:r}=g,$;space.indexOf(r)>-1||r==slash&&(($=g.peek(1))==slash||$==star)||r!=braceR&&r!=semicolon&&r!=-1&&!n.context&&n.canShift(noSemi)&&g.acceptToken(noSemi)},{contextual:!0}),incdecToken=new ExternalTokenizer((g,n)=>{let{next:r}=g;if((r==plus||r==minus)&&(g.advance(),r==g.next)){g.advance();let $=!n.context&&n.canShift(incdec);g.acceptToken($?incdec:incdecPrefix)}},{contextual:!0}),template=new ExternalTokenizer(g=>{for(let n=!1,r=0;;r++){let{next:$}=g;if($<0){r&&g.acceptToken(templateContent);break}else if($==backtick){r?g.acceptToken(templateContent):g.acceptToken(templateEnd,1);break}else if($==braceL&&n){r==1?g.acceptToken(InterpolationStart,1):g.acceptToken(templateContent,-1);break}else if($==10&&r){g.advance(),g.acceptToken(templateContent);break}else $==backslash&&g.advance();n=$==dollar,g.advance()}}),tsExtends=new ExternalTokenizer((g,n)=>{if(!(g.next!=101||!n.dialectEnabled(Dialect_ts))){g.advance();for(let r=0;r<6;r++){if(g.next!="xtends".charCodeAt(r))return;g.advance()}g.next>=57&&g.next<=65||g.next>=48&&g.next<=90||g.next==95||g.next>=97&&g.next<=122||g.next>160||g.acceptToken(TSExtends)}}),jsHighlight=styleTags({"get set async static":tags.modifier,"for while do if else switch try catch finally return throw break continue default case":tags.controlKeyword,"in of await yield void typeof delete instanceof":tags.operatorKeyword,"let var const function class extends":tags.definitionKeyword,"import export from":tags.moduleKeyword,"with debugger as new":tags.keyword,TemplateString:tags.special(tags.string),super:tags.atom,BooleanLiteral:tags.bool,this:tags.self,null:tags.null,Star:tags.modifier,VariableName:tags.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags.function(tags.variableName),VariableDefinition:tags.definition(tags.variableName),Label:tags.labelName,PropertyName:tags.propertyName,PrivatePropertyName:tags.special(tags.propertyName),"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),"FunctionDeclaration/VariableDefinition":tags.function(tags.definition(tags.variableName)),"ClassDeclaration/VariableDefinition":tags.definition(tags.className),PropertyDefinition:tags.definition(tags.propertyName),PrivatePropertyDefinition:tags.definition(tags.special(tags.propertyName)),UpdateOp:tags.updateOperator,LineComment:tags.lineComment,BlockComment:tags.blockComment,Number:tags.number,String:tags.string,ArithOp:tags.arithmeticOperator,LogicOp:tags.logicOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,RegExp:tags.regexp,Equals:tags.definitionOperator,Arrow:tags.function(tags.punctuation),": Spread":tags.punctuation,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,"InterpolationStart InterpolationEnd":tags.special(tags.brace),".":tags.derefOperator,", ;":tags.separator,"@":tags.meta,TypeName:tags.typeName,TypeDefinition:tags.definition(tags.typeName),"type enum interface implements namespace module declare":tags.definitionKeyword,"abstract global Privacy readonly override":tags.modifier,"is keyof unique infer":tags.operatorKeyword,JSXAttributeValue:tags.attributeValue,JSXText:tags.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags.angleBracket,"JSXIdentifier JSXNameSpacedName":tags.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags.attributeName,"JSXBuiltin/JSXIdentifier":tags.standard(tags.tagName)}),spec_identifier={__proto__:null,export:18,as:23,from:29,default:32,async:37,function:38,this:50,true:58,false:58,null:68,void:72,typeof:76,super:92,new:126,await:143,yield:145,delete:146,class:156,extends:158,public:213,private:213,protected:213,readonly:215,instanceof:234,satisfies:237,in:238,const:240,import:272,keyof:327,unique:331,infer:337,is:373,abstract:393,implements:395,type:397,let:400,var:402,interface:409,enum:413,namespace:419,module:421,declare:425,global:429,for:450,of:459,while:462,with:466,do:470,if:474,else:476,switch:480,case:486,try:492,catch:496,finally:500,return:504,throw:508,break:512,continue:516,debugger:520},spec_word={__proto__:null,async:113,get:115,set:117,public:175,private:175,protected:175,static:177,abstract:179,override:181,readonly:187,accessor:189,new:377},spec_LessThan={__proto__:null,"<":133},parser=LRParser.deserialize({version:14,states:"$CWO`QdOOO$}QdOOO)WQ(C|O'#ChO)_OWO'#DYO+jQdO'#D_O+zQdO'#DjO$}QdO'#DtO.OQdO'#DzOOQ(C['#ET'#ETO.fQ`O'#EQOOQO'#IW'#IWO.nQ`O'#GgOOQO'#Ee'#EeO.yQ`O'#EdO/OQ`O'#EdO1QQ(C|O'#JQO3nQ(C|O'#JRO4_Q`O'#FSO4dQ!bO'#FkOOQ(C['#F['#F[O4oO#tO'#F[O4}Q&jO'#FrO6bQ`O'#FqOOQ(C['#JR'#JROOQ(CW'#JQ'#JQOOQS'#Jk'#JkO6gQ`O'#H{O6lQ(ChO'#H|OOQS'#Iu'#IuOOQS'#IO'#IOQ`QdOOO$}QdO'#DlO6tQ`O'#GgO6yQ&jO'#CmO7XQ`O'#EcO7dQ`O'#EnO7iQ&jO'#FZO8TQ`O'#GgO8YQ`O'#GkO8eQ`O'#GkO8sQ`O'#GnO8sQ`O'#GoO8sQ`O'#GqO6tQ`O'#GtO9dQ`O'#GwO:uQ`O'#CdO;VQ`O'#HUO;_Q`O'#H[O;_Q`O'#H^O`QdO'#H`O;_Q`O'#HbO;_Q`O'#HeO;dQ`O'#HkO;iQ(CjO'#HqO$}QdO'#HsO;tQ(CjO'#HuO<PQ(CjO'#HwO6lQ(ChO'#HyO<[Q(C|O'#ChO<xQ,UO'#DdQOQ`OOO=mQaO'#D{O6yQ&jO'#EcO={Q`O'#EcO>WQpO'#FZO$}QdO'#DZOOOW'#IQ'#IQO>`OWO,59tOOQ(C[,59t,59tO>kQdO'#IRO?OQ`O'#JSOAQQtO'#JSO)jQdO'#JSOAXQ`O,59yOAoQ`O'#EeOA|Q`O'#J`OBXQ`O'#J_OBXQ`O'#J_OBaQ`O,5;ROBfQ`O'#J^OOQ(C[,5:U,5:UOBmQdO,5:UODnQ(C|O,5:`OE_Q`O,5:fOEdQ`O'#J[OF^Q(ChO'#J]O8YQ`O'#J[OFeQ`O'#J[OFmQ`O,5;QOFrQ`O'#J[OOQ(C]'#Ch'#ChO$}QdO'#DzOGfQpO,5:lOOQO'#JX'#JXOOQO-E<U-E<UO6tQ`O,5=ROG|Q`O,5=ROHRQdO,5;OOJRQ&jO'#E`OKcQ`O,5;OOLxQ&jO'#DnOMPQdO'#DsOMZQ,UO,5;XOMcQ,UO,5;XO$}QdO,5;XOOQS'#Ez'#EzOOQS'#E|'#E|O$}QdO,5;YO$}QdO,5;YO$}QdO,5;YO$}QdO,5;YO$}QdO,5;YO$}QdO,5;YO$}QdO,5;YO$}QdO,5;YO$}QdO,5;YO$}QdO,5;YO$}QdO,5;YOOQS'#FQ'#FQOMqQdO,5;kOOQ(C[,5;p,5;pOOQ(C[,5;q,5;qO! qQ`O,5;qOOQ(C[,5;r,5;rO$}QdO'#I^O! yQ(ChO,5<_OJRQ&jO,5;YO!!hQ&jO,5;YO$}QdO,5;nO!!oQ!bO'#FaO!#lQ!bO'#JdO!#WQ!bO'#JdO!#sQ!bO'#JdOOQO'#Jd'#JdO!$XQ!bO,5;yOOOO,5<V,5<VO!$jQdO'#FmOOOO'#I]'#I]O4oO#tO,5;vO!$qQ!bO'#FoOOQ(C[,5;v,5;vO!%bQ7]O'#CsOOQ(C]'#Cv'#CvO!%uQ`O'#CvO!%zOWO'#CzO!&hQ&kO,5<[O!&oQ`O,5<^O!(RQMhO'#F|O!(`Q`O'#F}O!(eQ`O'#F}O!(jQMhO'#GRO!)iQ,UO'#GVO!*_Q7]O'#I}OOQ(C]'#I}'#I}O!+eQaO'#I|O!+sQ`O'#I{O!+{Q`O'#CrOOQ(C]'#Ct'#CtOOQ(C]'#C}'#C}OOQ(C]'#DP'#DPO.iQ`O'#DROKhQ&jO'#FtOKhQ&jO'#FvO!,TQ`O'#FxO!,YQ`O'#FyO!(eQ`O'#GPOKhQ&jO'#GUO!,_Q`O'#EfO!,yQ`O,5<]O`QdO,5>gOOQS'#Ix'#IxOOQS,5>h,5>hOOQS-E;|-E;|O!.xQ(C|O,5:WOOQ(CX'#Cp'#CpO!/lQ&kO,5=ROOQO'#Cf'#CfO!/}Q(ChO'#IyO6bQ`O'#IyO;dQ`O,59XO!0`Q!bO,59XO!0hQ&jO,59XO6yQ&jO,59XO!0sQ`O,5;OO!0{Q`O'#HTO!1ZQ`O'#JoO$}QdO,5;sO!1cQ,UO,5;uO!1hQ`O,5=nO!1mQ`O,5=nO!1rQ`O,5=nO6lQ(ChO,5=nO!2QQ`O'#EgO!2wQ,UO'#EhOOQ(CW'#J^'#J^O!3OQ(ChO'#JlO6lQ(ChO,5=VO8sQ`O,5=]OOQP'#Cs'#CsO!3ZQ!bO,5=YO!3cQ!cO,5=ZO!3nQ`O,5=]O!3sQpO,5=`O;dQ`O'#GyO6tQ`O'#G{O!3{Q`O'#G{O6yQ&jO'#HOO!4QQ`O'#HOOOQS,5=c,5=cO!4VQ`O'#HPO!4_Q`O'#CmO!4dQ`O,59OO!4nQ`O,59OO!6sQdO,59OOOQS,59O,59OO!7QQ(ChO,59OO$}QdO,59OO!7]QdO'#HWOOQS'#HX'#HXOOQS'#HY'#HYO`QdO,5=pO!7mQ`O,5=pO`QdO,5=vO`QdO,5=xO!7rQ`O,5=zO`QdO,5=|O!7wQ`O,5>PO!7|QdO,5>VOOQS,5>],5>]O$}QdO,5>]O6lQ(ChO,5>_OOQS,5>a,5>aO!<QQ`O,5>aOOQS,5>c,5>cO!<QQ`O,5>cOOQS,5>e,5>eO!<VQ!bO'#DWOOQ(CW'#JU'#JUO$}QdO'#JUO!<tQ!bO'#JUO!=cQ!bO'#DeO!=tQ,UO'#DeO!@PQdO'#DeO!@WQ`O'#JTO!@`Q`O,5:OO!@eQ`O'#EiO!@sQ`O'#JaO!@{Q`O,5;SO!AcQ,UO'#DeO!AmQ,UO'#EOOOQ(C[,5:g,5:gO$}QdO,5:gOJRQ&jO,5:gO!BjQaO,5:gO;dQ`O,5:}O!0`Q!bO,5:}O!0hQ&jO,5:}O6yQ&jO,5:}O!BuQpO,59uOOOW-E<O-E<OOOQ(C[1G/`1G/`O!BzQtO,5>mO)jQdO,5>mOOQO,5>s,5>sO!CUQdO'#IROOQO-E<P-E<PO!CcQ`O,5?nO!CkQtO,5?nO!CrQ`O,5?yOOQ(C[1G/e1G/eO$}QdO,5?zO!CzQ`O'#IXOOQO-E<V-E<VO!CrQ`O,5?yOOQ(CW1G0m1G0mOOQ(C[1G/p1G/pOOQ(C[1G0Q1G0QO!D`Q`O,5?vO8YQ`O,5?vO!DhQ`O,5?vOOQ(CW'#E_'#E_O$}QdO,5?wO!DvQ(ChO,5?wO!EXQ(ChO,5?wO!E`Q`O'#IZO!D`Q`O,5?vOOQ(CW1G0l1G0lOMZQ,UO,5:nOMfQ,UO,5:nOOQO,5:p,5:pO!E}Q`O,5:pO!FVQ&kO1G2mO6tQ`O1G2mOOQ(C[1G0j1G0jO!FhQ(C|O1G0jO!GmQ(CyO,5:zOOQ(C]'#F{'#F{O!JWQ(C}O'#I}OHRQdO1G0jO!J}Q&kO'#JVO!KXQ`O,5:YO!K^QtO'#JWO$}QdO'#JWO!KhQ`O,5:_OOQ(C]'#DW'#DWOOQ(C[1G0s1G0sO$}QdO1G0sOOQ(C[1G1]1G1]O!KmQ`O1G0sO!NUQ(C|O1G0tO!N]Q(C|O1G0tO#!vQ(C|O1G0tO#!}Q(C|O1G0tO#%XQ(C|O1G0tO#%oQ(C|O1G0tO#(iQ(C|O1G0tO#(pQ(C|O1G0tO#+ZQ(C|O1G0tO#+bQ(C|O1G0tO#-YQ(C|O1G0tO#0YQ!LUO'#ChO#2WQ!LUO1G1VO#4UQ!LUO'#JRO! tQ`O1G1]O#4iQ(C|O,5>xOOQ(CW-E<[-E<[O#5]Q(C}O1G0tOOQ(C[1G0t1G0tO#7hQ(C|O1G1YO#8[Q!bO,5;}O#8dQ!bO,5<OO#8lQ!bO'#FfO#9TQ`O'#FeOOQO'#Je'#JeOOQO'#I['#I[O#9YQ!bO1G1eOOQ(C[1G1e1G1eOOOO1G1p1G1pO#9kQ!LUO'#JQO#9uQ`O,5<XOMqQdO,5<XOOOO-E<Z-E<ZOOQ(C[1G1b1G1bOOQ(C[,5<Z,5<ZO#9zQ!bO,5<ZOOQ(C],59b,59bOJRQ&jO'#C|OOOW'#IP'#IPO#:POWO,59fOOQ(C],59f,59fO$}QdO1G1vO!,YQ`O'#I`O#:[Q`O,5<oOOQ(C],5<l,5<lOOQO'#Gb'#GbOKhQ&jO,5<{OOQO'#Gd'#GdOKhQ&jO,5<}OJRQ&jO,5=POOQO1G1x1G1xO#:gQqO'#CpO#:zQqO,5<hO#;RQ`O'#JhO6tQ`O'#JhO#;aQ`O,5<jOKhQ&jO,5<iO#;fQ`O'#GOO#;qQ`O,5<iO#;vQqO'#F{O#<TQqO'#JiO#<_Q`O'#JiOJRQ&jO'#JiO#<dQ`O,5<mOOQ(CW'#Di'#DiO#<iQ!bO'#GWO!)dQ,UO'#GWO#<zQ`O'#GYO#=PQ`O'#G[O!(eQ`O'#G_O#=UQ(ChO'#IbO#=aQ,UO,5<qOOQ(C],5<q,5<qO#=hQ,UO'#GWO#=vQ,UO'#GXO#>OQ,UO'#GXOOQ(C],5=Q,5=QOKhQ&jO,5?hOKhQ&jO,5?hO#>TQ`O'#IcO#>`Q`O,5?gO#>hQ`O,59^O#?XQ&kO,59mOOQ(C],59m,59mO#?zQ&kO,5<`O#@mQ&kO,5<bO#@wQ`O,5<dOOQ(C],5<e,5<eO#@|Q`O,5<kO#ARQ&kO,5<pOHRQdO1G1wO#AcQ`O1G1wOOQS1G4R1G4ROOQ(C[1G/r1G/rO! qQ`O1G/rOOQS1G2m1G2mOJRQ&jO1G2mO$}QdO1G2mOJRQ&jO1G2mO#AhQaO1G2mO#CQQ&jO'#E`OOQ(CW,5?e,5?eO#C[Q(ChO,5?eOOQS1G.s1G.sO;dQ`O1G.sO!0`Q!bO1G.sO!0hQ&jO1G.sO#CmQ`O1G0jO#CrQ`O'#ChO#C}Q`O'#JpO#DVQ`O,5=oO#D[Q`O'#JpO#DaQ`O'#JpO#DiQ`O'#IkO#DwQ`O,5@ZO#EPQtO1G1_OOQ(C[1G1a1G1aO6tQ`O1G3YO#EWQ`O1G3YO#E]Q`O1G3YO#EbQ`O1G3YOOQS1G3Y1G3YO8YQ`O'#J_O8YQ`O'#EiO$}QdO'#EiO8YQ`O'#IeO#EgQ(ChO,5@WOOQS1G2q1G2qO!3nQ`O1G2wOJRQ&jO1G2tO#ErQ`O1G2tOOQS1G2u1G2uOJRQ&jO1G2uO#EwQaO1G2uO#FPQ,UO'#GsOOQS1G2w1G2wO!)dQ,UO'#IgO!3sQpO1G2zOOQS1G2z1G2zOOQS,5=e,5=eO#FXQ&kO,5=gO6tQ`O,5=gO#=PQ`O,5=jO6bQ`O,5=jO!0`Q!bO,5=jO!0hQ&jO,5=jO6yQ&jO,5=jO#FjQ`O'#JnO#FuQ`O,5=kOOQS1G.j1G.jO#FzQ(ChO1G.jO#GVQ`O1G.jO#G[Q`O1G.jO6lQ(ChO1G.jO#GdQtO,5@]O#GnQ`O,5@]O#GyQdO,5=rO#HQQ`O,5=rO8YQ`O,5@]OOQS1G3[1G3[O`QdO1G3[OOQS1G3b1G3bOOQS1G3d1G3dO;_Q`O1G3fO#HVQdO1G3hO#LTQdO'#HgOOQS1G3k1G3kO#LbQ`O'#HmO;dQ`O'#HoOOQS1G3q1G3qO#LjQdO1G3qO6lQ(ChO1G3wOOQS1G3y1G3yOOQ(CW'#GS'#GSO6lQ(ChO1G3{O6lQ(ChO1G3}O$!kQ`O,5?pOMqQdO,5;TO8YQ`O,5;TO;dQ`O,5:POMqQdO,5:PO$}QdO'#JUO!0`Q!bO,5:PO$!pQ!LUO,5:POOQO,5;T,5;TO$!zQ,UO'#ISO$#bQ`O,5?oOOQ(C[1G/j1G/jO$#jQ,UO'#IYO$#tQ`O,5?{OOQ(CW1G0n1G0nO!=tQ,UO,5:PO$#|Q,UO'#E[OOQ(CW'#EZ'#EZO$$sQ(DjO'#E[O$%_Q,UO'#EPOOQO'#IV'#IVO$%pQ,UO,5:jOOQ(C[,5:j,5:jO$&mQ,UO'#EPO$&zQ,UO'#EPO$'[Q,UO'#EbO$'_Q,UO'#E[O$'xQ,UO'#E[O$%_Q,UO'#E[O$(iQ`O1G0RO$(nQqO1G0ROOQ(C[1G0R1G0RO$}QdO1G0ROJRQ&jO1G0ROOQ(C[1G0i1G0iO;dQ`O1G0iO!0`Q!bO1G0iO!0hQ&jO1G0iOOOW1G/a1G/aO$(uQpO,5<_O$(}QtO1G4XOOQO1G4_1G4_O$}QdO,5>mO$)XQ`O1G5YO$)aQ`O1G5eO$)iQtO1G5fO8YQ`O,5>sO$)sQ`O1G5bO$)sQ`O1G5bO8YQ`O1G5bO$){Q(C|O1G5cO$}QdO1G5cO$*]Q(ChO1G5cO$*nQ`O,5>uO8YQ`O,5>uOOQO,5>u,5>uO$+SQ`O,5>uOOQO-E<X-E<XOOQO1G0Y1G0YOOQO1G0[1G0[O! tQ`O1G0[OOQS7+(X7+(XOJRQ&jO7+(XO$}QdO7+(XOJRQ&jO7+(XO$+bQaO7+(XO$+pQ&kO7+(XO$,RQ(C}O,59mO$.ZQ(C}O,5<`O$0fQ(C}O,5<bO$2qQ(C}O,5<pOOQ(C[7+&U7+&UO$5SQ(C|O7+&UO$5vQ&jO'#ITO$6QQ`O,5?qOOQ(C]1G/t1G/tO$6YQdO'#IUO$6gQ`O,5?rO$6oQtO,5?rOOQ(C[1G/y1G/yO$6yQ`O7+&_OOQ(C[7+&_7+&_O$7OQ!LUO,5:`O$}QdO7+&qO$7YQ!LUO,5:WOOQ(C[7+&w7+&wOOQO1G1i1G1iOOQO1G1j1G1jO$7gQ$ISO,5<QOMqQdO,5<POOQO-E<Y-E<YOOQ(C[7+'P7+'POOOO7+'[7+'[OOOO1G1s1G1sO$7rQ`O1G1sOOQ(C[1G1u1G1uO$7wQqO,59hOOOW-E;}-E;}OOQ(C]1G/Q1G/QO$8OQ(C|O7+'bOOQ(C],5>z,5>zO$8rQ`O,5>zOOQ(C]1G2Z1G2ZP$8wQ`O'#I`POQ(C]-E<^-E<^O$9hQ&kO1G2gO$:ZQ&kO1G2iO$:eQqO1G2kOOQ(C]1G2S1G2SO$:lQ`O'#I_O$:zQ`O,5@SO$:zQ`O,5@SO$;SQ`O,5@SO$;_Q`O,5@SOOQO1G2U1G2UO$;mQ&kO1G2TOKhQ&jO1G2TO$;}QMhO'#IaO$<_Q`O,5@TOJRQ&jO,5@TO$<gQqO,5@TOOQ(C]1G2X1G2XOOQ(CW,5<r,5<rOOQ(CW,5<s,5<sO$<qQ`O,5<sO#<uQ`O,5<sO!0`Q!bO,5<rOOQO'#GZ'#GZO$<vQ`O,5<tOOQ(CW,5<v,5<vO$<qQ`O,5<yOOQO,5>|,5>|OOQO-E<`-E<`OOQ(C]1G2]1G2]O!)dQ,UO,5<rO$=OQ`O,5<sO#<zQ`O,5<tO!)dQ,UO,5<sO$=ZQ&kO1G5SO$=eQ&kO1G5SOOQO,5>},5>}OOQO-E<a-E<aOOQP1G.x1G.xO!1cQ,UO,59oO$}QdO,59oO$=rQ`O1G2OOKhQ&jO1G2VO$=wQ(C|O7+'cOOQ(C[7+'c7+'cOHRQdO7+'cOOQ(C[7+%^7+%^O$>kQqO'#JjO$(iQ`O7+(XO$>uQ`O7+(XO$>}QqO7+(XO$?XQ(CyO'#ChO$?lQ(CyO,5<wO$@^Q`O,5<wOOQ(CW1G5P1G5POOQS7+$_7+$_O;dQ`O7+$_O!0`Q!bO7+$_OHRQdO7+&UO$@cQ`O'#IjO$@tQ`O,5@[OOQO1G3Z1G3ZO6tQ`O,5@[O$@tQ`O,5@[O$@|Q`O,5@[OOQO,5?V,5?VOOQO-E<i-E<iOOQ(C[7+&y7+&yO$ARQ`O7+(tO6lQ(ChO7+(tO6tQ`O7+(tO$AWQ`O7+(tO$A]Q`O,5;TOOQ(CW,5?P,5?POOQ(CW-E<c-E<cOOQS7+(c7+(cO$AbQ(CyO7+(`OJRQ&jO7+(`O$AlQqO7+(aOOQS7+(a7+(aOJRQ&jO7+(aO$AsQ`O'#JmO$BOQ`O,5=_OOQO,5?R,5?ROOQO-E<e-E<eOOQS7+(f7+(fO$CUQ,UO'#G|OOQS1G3R1G3ROJRQ&jO1G3RO$}QdO1G3ROJRQ&jO1G3RO$C]QaO1G3RO$CkQ&kO1G3RO6lQ(ChO1G3UO#=PQ`O1G3UO6bQ`O1G3UO!0`Q!bO1G3UO!0hQ&jO1G3UO$C|Q`O'#IiO$DXQ`O,5@YO$DaQ,UO,5@YOOQ(CW1G3V1G3VOOQS7+$U7+$UO$DiQ`O7+$UO6lQ(ChO7+$UO$DnQ`O7+$UO$}QdO1G5wO$}QdO1G5xO$DsQdO1G3^O$DzQ`O1G3^O$EPQdO1G3^O$EWQ(ChO1G5wOOQS7+(v7+(vO6lQ(ChO7+)QO`QdO7+)SOOQS'#Js'#JsOOQS'#Il'#IlO$EbQdO,5>ROOQS,5>R,5>RO$}QdO'#HhO$EoQ`O'#HjOOQS,5>X,5>XO8YQ`O,5>XOOQS,5>Z,5>ZOOQS7+)]7+)]OOQS7+)c7+)cOOQS7+)g7+)gOOQS7+)i7+)iO$EtQ!bO1G5[O$FYQ!LUO1G0oO$FdQ`O1G0oOOQO1G/k1G/kO$FoQ!LUO1G/kO$FyQ`O,5?pO;dQ`O1G/kOMqQdO'#DeOOQO,5>n,5>nOOQO-E<Q-E<QOOQO,5>t,5>tOOQO-E<W-E<WO!0`Q!bO1G/kO$GOQ7[O,5:lO$HOQ(DjO,5:vO$%_Q,UO,5:kO$HjQ,UO,5:kO$HwQ,UO,5:kO$IXQ,UO,5:vO$IrQ,UO,5:vO$%_Q,UO,5:vO;dQ`O,5:kOOQO,5:v,5:vO$}QdO,5:vO$JcQ(ChO,5:vO$JnQ(ChO,5:vO!0`Q!bO,5:kOOQO-E<T-E<TOOQ(C[1G0U1G0UOOQO,5:|,5:|O$J|Q(ChO,5:vOOQ(C[7+%m7+%mO$(iQ`O7+%mO$(nQqO7+%mOOQ(C[7+&T7+&TO;dQ`O7+&TO!0`Q!bO7+&TO$KbQ`O7+*|O$KbQ`O7+*|O$KjQ(C|O7+*}O$}QdO7+*}OOQO1G4a1G4aO8YQ`O1G4aO$KzQ`O1G4aOOQO7+%v7+%vO$(iQ`O<<KsO$LYQ`O<<KsO$LbQqO<<KsOOQS<<Ks<<KsOJRQ&jO<<KsO$}QdO<<KsOJRQ&jO<<KsO$LlQaO<<KsO$LzQ(C}O1G2gO% VQ(C}O1G2iO%#bQ(C}O1G2TO%%sQ&kO,5>oOOQO-E<R-E<RO%%}QtO,5>pO$}QdO,5>pOOQO-E<S-E<SO%&XQ`O1G5^OOQ(C[<<Iy<<IyO%&aQ!LUO1G0jO%(kQ!LUO1G0tO%(rQ!LUO1G0tO%*vQ!LUO1G0tO%*}Q!LUO1G0tO%,rQ!LUO1G0tO%-YQ!LUO1G0tO%/mQ!LUO1G0tO%/tQ!LUO1G0tO%1xQ!LUO1G0tO%2PQ!LUO1G0tO%3wQ!LUO1G0tO%4[Q(C|O<<J]O%5aQ!LVO1G0tO%7VQ!LVO'#I}O%7aQ!LUO1G1YOMqQdO'#FhOOQO'#Jf'#JfOOQO1G1l1G1lO%7nQ`O1G1kO%7sQ!LUO,5>xOOOO7+'_7+'_OOOW1G/S1G/SOOQ(C]1G4f1G4fOKhQ&jO7+(VO%7}Q`O,5>yO6tQ`O,5>yOOQO-E<]-E<]O%8]Q`O1G5nO%8]Q`O1G5nO%8eQ`O1G5nO%8pQ&kO7+'oO%9QQqO,5>{O%9[Q`O,5>{OJRQ&jO,5>{OOQO-E<_-E<_O%9aQqO1G5oO%9kQ`O1G5oOOQ(CW1G2_1G2_O$<qQ`O1G2_OOQ(CW1G2^1G2^O%9sQ`O1G2`OJRQ&jO1G2`OOQ(CW1G2e1G2eO!0`Q!bO1G2^O#<uQ`O1G2_O%9xQ`O1G2`O%:QQ`O1G2_OKhQ&jO7+*nOOQ(C]1G/Z1G/ZO%:]Q`O1G/ZOOQ(C]7+'j7+'jO%:bQ&kO7+'qO%:rQ(C|O<<J}OOQ(C[<<J}<<J}OJRQ&jO'#IdO%;fQ`O,5@UOJRQ&jO1G2cOOQS<<Gy<<GyO;dQ`O<<GyO%;nQ(C|O<<IpOOQ(C[<<Ip<<IpOOQO,5?U,5?UO%<bQ`O,5?UO%<gQ`O,5?UOOQO-E<h-E<hO%<oQ`O1G5vO%<oQ`O1G5vO6tQ`O1G5vO%<wQ`O<<L`OOQS<<L`<<L`O%<|Q`O<<L`O6lQ(ChO<<L`O%=RQ`O1G0oOOQS<<Kz<<KzO$AbQ(CyO<<KzOOQS<<K{<<K{O$AlQqO<<K{O%=WQ,UO'#IfO%=cQ`O,5@XOMqQdO,5@XOOQS1G2y1G2yO%=kQ(DjO'#JUO%>VQdO'#JUO%>^Q,UO'#E[O%>tQ(ChO'#E[O$$sQ(DjO'#E[O$%hQ,UO'#G}OOQO'#Ih'#IhO%?YQ,UO,5=hOOQS,5=h,5=hO%?aQ,UO'#E[O%?rQ,UO'#E[O%@YQ,UO'#E[O%@vQ,UO'#G}O%AXQ`O7+(mO%A^Q`O7+(mO%AfQqO7+(mOOQS7+(m7+(mOJRQ&jO7+(mO$}QdO7+(mOJRQ&jO7+(mO%ApQaO7+(mOOQS7+(p7+(pO6lQ(ChO7+(pO#=PQ`O7+(pO6bQ`O7+(pO!0`Q!bO7+(pO%BOQ`O,5?TOOQO-E<g-E<gOOQO'#HQ'#HQO%BZQ`O1G5tO6lQ(ChO<<GpOOQS<<Gp<<GpO%BcQ`O<<GpO%BhQ`O7++cO%BmQ`O7++dOOQS7+(x7+(xO%BrQ`O7+(xO%BwQdO7+(xO%COQ`O7+(xO$}QdO7++cO$}QdO7++dOOQS<<Ll<<LlOOQS<<Ln<<LnOOQS-E<j-E<jOOQS1G3m1G3mO%CTQ`O,5>SOOQS,5>U,5>UO%CYQ`O1G3sO8YQ`O7+&ZOMqQdO7+&ZOOQ(CW1G5[1G5[OOQO7+%V7+%VO%C_Q!LUO1G5fO;dQ`O7+%VO;dQ`O1G0VOOQO1G0b1G0bO$}QdO1G0bO%CiQ(ChO1G0bO%CtQ(ChO1G0bO!0`Q!bO1G0VO$%_Q,UO1G0VO%DSQ,UO1G0VO%DaQ(DjO1G0bO%D{Q,UO1G0VO$%_Q,UO1G0bO%E]Q,UO1G0bO%EvQ(ChO1G0bOOQO1G0V1G0VO%F[Q(C|O1G0bOOQ(C[<<IX<<IXOOQ(C[<<Io<<IoO;dQ`O<<IoO%FfQ`O<<NhO%FnQ(C|O<<NiOOQO7+){7+){O8YQ`O7+){OOQSANA_ANA_OJRQ&jOANA_O$(iQ`OANA_O%GOQ`OANA_O%GWQqOANA_O$}QdOANA_OJRQ&jOANA_O%GbQ(C}O7+'oO%IsQ(C}O7+'qO%LUQtO1G4[O%L`Q!LUO7+&UO%MUQ!LVO,59mO& YQ!LVO,5<`O&#aQ!LVO,5<bO&%SQ!LVO,5<pO&&xQ!LUO7+'bO&'VQ!LUO7+'cO&'dQ`O,5<SOOQO7+'V7+'VO&'iQ&kO<<KqOOQO1G4e1G4eO&'pQ`O1G4eO&'{Q`O1G4eO&(ZQ`O7++YO&(ZQ`O7++YOJRQ&jO1G4gO&(cQqO1G4gO&(mQ`O7++ZOOQ(CW7+'y7+'yO$<qQ`O7+'zO&(uQqO7+'zOOQ(CW7+'x7+'xO$<qQ`O7+'yO&(|Q`O7+'zOJRQ&jO7+'zO#<uQ`O7+'yO&)RQ&kO<<NYOOQ(C]7+$u7+$uO&)]QqO,5?OOOQO-E<b-E<bO&)gQ(CyO7+'}OOQSAN=eAN=eO6tQ`O1G4pOOQO1G4p1G4pO&)wQ`O1G4pO&)|Q`O7++bO&)|Q`O7++bO6lQ(ChOANAzO&*UQ`OANAzOOQSANAzANAzOOQSANAfANAfOOQSANAgANAgO&*ZQ`O,5?QOOQO-E<d-E<dO&*fQ!LUO1G5sO#=PQ`O,5=iO6bQ`O,5=iO&,vQtO'#ChO&-QQ,UO,5:vO&-[Q,UO,5:vO!0`Q!bO,5=iOOQO-E<f-E<fOOQS1G3S1G3SO%>VQdO,5<tO%=kQ(DjO,5=iO$HOQ(DjO,5:vO$%hQ,UO,5=iO&-lQ,UO,5=iO&-}Q,UO,5:vOOQS<<LX<<LXOJRQ&jO<<LXO%AXQ`O<<LXO&.eQ`O<<LXO&.mQqO<<LXO$}QdO<<LXOJRQ&jO<<LXOOQS<<L[<<L[O6lQ(ChO<<L[O#=PQ`O<<L[O6bQ`O<<L[O&.wQ,UO1G4oO&/PQ`O7++`OOQSAN=[AN=[O6lQ(ChOAN=[OOQS<<N}<<N}OOQS<= O<= OOOQS<<Ld<<LdO&/XQ`O<<LdO&/^QdO<<LdO&/eQ`O<<N}O&/jQ`O<= OOOQS1G3n1G3nO;dQ`O7+)_O&/oQ`O<<IuO&/zQ!LUO<<IuOOQO<<Hq<<HqOOQO7+%q7+%qO%F[Q(C|O7+%|OOQO7+%|7+%|O$}QdO7+%|O&0UQ(ChO7+%|O;dQ`O7+%qO!0`Q!bO7+%qO$%_Q,UO7+%qO&0aQ(ChO7+%|O&0oQ,UO7+%qO&0|Q(ChO7+%|O&1bQ(DjO7+%|O&1lQ,UO7+%qO$%_Q,UO7+%|OOQ(C[AN?ZAN?ZOOQO<<Mg<<MgO$(iQ`OG26yOOQSG26yG26yOJRQ&jOG26yO&1|Q`OG26yO&2UQqOG26yO&2`Q!LUO<<J]O&2mQ!LVO1G2TO&4wQ!LVO1G2gO&7OQ!LVO1G2iO&8qQ!LUO<<J}O&9OQ!LUO<<IpOOQO1G1n1G1nOKhQ&jOANA]OOQO7+*P7+*PO&9]Q`O7+*PO&9hQ`O<<NtO&9pQqO7+*ROOQ(CW<<Kf<<KfO$<qQ`O<<KfOOQ(CW<<Ke<<KeO&9zQqO<<KfO$<qQ`O<<KeOOQO7+*[7+*[O6tQ`O7+*[O&:RQ`O<<N|OOQSG27fG27fO6lQ(ChOG27fOMqQdO1G4lO&:ZQ`O7++_O6lQ(ChO1G3TO#=PQ`O1G3TO&:cQ,UO1G0bO6bQ`O1G3TO!0`Q!bO1G3TO$%hQ,UO1G3TO%=kQ(DjO1G3TO%DaQ(DjO1G0bO&:mQ,UO1G3TO%AXQ`OANAsOOQSANAsANAsOJRQ&jOANAsO&;OQ`OANAsO&;WQqOANAsOOQSANAvANAvO6lQ(ChOANAvO#=PQ`OANAvOOQO'#HR'#HROOQO7+*Z7+*ZOOQSG22vG22vOOQSANBOANBOO&;bQ`OANBOOOQSANDiANDiOOQSANDjANDjOOQS<<Ly<<LyOMqQdOAN?aOOQO<<Ih<<IhO%F[Q(C|O<<IhO$}QdO<<IhOOQO<<I]<<I]O;dQ`O<<I]O!0`Q!bO<<I]O&;gQ(ChO<<IhO$%_Q,UO<<I]O&;rQ(ChO<<IhO&<QQ,UO<<I]O&<_Q(ChO<<IhOOQSLD,eLD,eO$(iQ`OLD,eOJRQ&jOLD,eO&<sQ!LVO7+'oO&>iQ!LVO7+'qO&@_Q&kOG26wOOQO<<Mk<<MkOOQ(CWANAQANAQO$<qQ`OANAQOOQ(CWANAPANAPOOQO<<Mv<<MvOOQSLD-QLD-QO&@oQ!LUO7+*WOOQO7+(o7+(oO6lQ(ChO7+(oO#=PQ`O7+(oO6bQ`O7+(oO!0`Q!bO7+(oO$%hQ,UO7+(oOOQSG27_G27_O%AXQ`OG27_OJRQ&jOG27_OOQSG27bG27bO6lQ(ChOG27bOOQSG27jG27jO&@yQ!LUOG24{OOQOAN?SAN?SO%F[Q(C|OAN?SOOQOAN>wAN>wO;dQ`OAN>wO$}QdOAN?SO!0`Q!bOAN>wO&ATQ(ChOAN?SO$%_Q,UOAN>wO&A`Q(ChOAN?SOOQS!$(!P!$(!PO$(iQ`O!$(!PO&AnQ(C}OG26wOOQ(CWG26lG26lOOQO<<LZ<<LZO6lQ(ChO<<LZO#=PQ`O<<LZO6bQ`O<<LZO!0`Q!bO<<LZOOQSLD,yLD,yO%AXQ`OLD,yOOQSLD,|LD,|OOQOG24nG24nOOQOG24cG24cO%F[Q(C|OG24nO;dQ`OG24cO$}QdOG24nO!0`Q!bOG24cO&DPQ(ChOG24nOOQS!)9Ek!)9EkO&DmQ7]O,5:zOOQOANAuANAuO6lQ(ChOANAuO#=PQ`OANAuO6bQ`OANAuOOQS!$(!e!$(!eOOQOLD*YLD*YOOQOLD)}LD)}O%F[Q(C|OLD*YO;dQ`OLD)}O$}QdOLD*YO&EpQ!LVOG26wO&GfQ7]O,59mO&HfQ7]O,5<`O&IfQ7]O,5<bO&JfQ7]O,5<pOOQOG27aG27aO6lQ(ChOG27aO#=PQ`OG27aOOQO!$'Mt!$'MtOOQO!$'Mi!$'MiO%F[Q(C|O!$'MtO&KiQ7]O1G2gO&LiQ7]O1G2iO&MiQ7]O1G2TOOQOLD,{LD,{O6lQ(ChOLD,{OOQO!)9C`!)9C`O&NlQ7]O7+'oO' oQ7]O7+'qOOQO!$(!g!$(!gO'!rQ7]OG26wOMqQdO'#DtO.fQ`O'#EQO'#uQtO'#JQOMqQdO'#DlO'#|QtO'#ChO'&dQtO'#ChO'&tQdO,5;OO'(tQ&jO'#E`OMqQdO,5;YOMqQdO,5;YOMqQdO,5;YOMqQdO,5;YOMqQdO,5;YOMqQdO,5;YOMqQdO,5;YOMqQdO,5;YOMqQdO,5;YOMqQdO,5;YOMqQdO,5;YOMqQdO'#I^O'*UQ`O,5<_O'*^Q&jO,5;YO'+nQ&jO,5;YOMqQdO,5;nO.iQ`O'#DRO.iQ`O'#DRO.iQ`O'#DROJRQ&jO'#FtO'(tQ&jO'#FtO'*^Q&jO'#FtOJRQ&jO'#FvO'(tQ&jO'#FvO'*^Q&jO'#FvOJRQ&jO'#GUO'(tQ&jO'#GUO'*^Q&jO'#GUOMqQdO,5?zO'&tQdO1G0jO'+uQ!LUO'#ChOMqQdO1G1vOJRQ&jO,5<{O'(tQ&jO,5<{O'*^Q&jO,5<{OJRQ&jO,5<}O'(tQ&jO,5<}O'*^Q&jO,5<}OJRQ&jO,5<iO'(tQ&jO,5<iO'*^Q&jO,5<iO'&tQdO1G1wOMqQdO7+&qOJRQ&jO1G2TO'(tQ&jO1G2TO'*^Q&jO1G2TOJRQ&jO1G2VO'(tQ&jO1G2VO'*^Q&jO1G2VO'&tQdO7+'cO'&tQdO7+&UO',PQ`O7+'zOJRQ&jOANA]O'(tQ&jOANA]O'*^Q&jOANA]O',PQ`O<<KfO',PQ`OANAQO',UQ`O'#EdO',ZQ`O'#EdO',cQ`O'#FSO',hQ`O'#EnO',mQ`O'#J`O',xQ`O'#J^O'-TQ`O,5;OO'-YQ&kO,5<[O'-aQ`O'#F}O'-fQ`O'#F}O'-kQ`O'#F}O'-pQ`O,5<]O'-xQ`O,5;OO'.QQ!LUO1G1VO'.XQ`O,5<iO'.^Q`O,5<iO'.cQ`O,5<iO'.hQ`O,5<kO'.mQ`O,5<kO'.rQ`O,5<kO'.wQ`O1G1wO'.|Q`O1G0jO'/RQ`O1G2`O'/WQ&kO<<KqO'/_Q&kO<<KqO'/fQ&kO<<KqO'/mQqO7+'zO'/tQ`O7+'zO'/yQqO<<KfO4}Q&jO'#FrO6bQ`O'#FqO={Q`O'#EcOMqQdO,5;kO!(eQ`O'#F}O!(eQ`O'#F}O!(eQ`O'#F}O!(eQ`O'#GPO!(eQ`O'#GPO!(eQ`O'#GPO'0QQ`O,5<tOKhQ&jO7+(VOKhQ&jO7+(VOKhQ&jO7+(VOJRQ&jO1G2`O'0YQ`O1G2`OJRQ&jO7+'zO$:eQqO1G2kO$:eQqO1G2kO$:eQqO1G2kOJRQ&jO,5=POJRQ&jO,5=POJRQ&jO,5=P",stateData:"'1c~O'gOS'hOSTOSUOS~OQUORUOX}O]gO_lObrOcqOigOkUOlgOmgOrgOtUOvUO{SO!OgO!PgO!VTO!aoO!fVO!iUO!jUO!kUO!lUO!mUO!ppO!uXO#lwO#|tO$QbO%[uO%^xO%`vO%avO%dyO%fzO%i{O%j{O%l|O%y!OO&P!PO&R!QO&T!RO&V!SO&Y!TO&`!UO&f!VO&h!WO&j!XO&l!YO&n!ZO'jQO'rRO'|WO(ZeO~OQUORUO]gOb!aOc!`OigOkUOlgOmgOrgOtUOvUO{SO!OgO!PgO!V!]O!aoO!fVO!iUO!jUO!kUO!lUO!mUO!p!_O#|!bO$QbO'j![O'rRO'|WO(ZeO~OQ[XZ[X_[Xk[Xx[Xy[X{[X!T[X!c[X!d[X!f[X!l[X#T[X#`dX#c[X#d[X#e[X#f[X#g[X#h[X#i[X#j[X#k[X#m[X#o[X#q[X#r[X#w[X'e[X'r[X'}[X(U[X(V[X~O!_$vX~P&}OS!cO'c!dO'd!fO~OQUORUO]gOb!aOc!`OigOkUOlgOmgOrgOtUOvUO{SO!OgO!PgO!V!]O!aoO!fVO!iUO!jUO!kUO!lUO!mUO!p!_O#|!bO$QbO'j;ZO'rRO'|WO(ZeO~O!S!jO!T!gO!Q'vP!Q(RP~P)jO!U!rO~P`OQUORUO]gOb!aOc!`OigOkUOlgOmgOrgOtUOvUO{SO!OgO!PgO!V!]O!aoO!fVO!iUO!jUO!kUO!lUO!mUO!p!_O#|!bO$QbO'rRO'|WO(ZeO~O!S!xO!uXO#^!{O#_!xO'j;[O!e(OP~P,RO!f!}O'j!|O~O!p#RO!uXO%[#SO~O#`#TO~O!_#UO#`#TO~OQ#lOZ#sOk#aOx#YOy#ZO{#[O!T#pO!c#cO!d#WO!f#XO!l#lO#c#_O#d#`O#e#`O#f#`O#g#bO#h#cO#i#cO#j#rO#k#cO#m#dO#o#fO#q#hO#r#iO'rRO'}#jO(U#]O(V#^O~O_'tX'e'tX'a'tX!e'tX!Q'tX!V'tX%]'tX!_'tX~P/WO#T#tO#w#tOQ'uXZ'uX_'uXk'uXx'uXy'uX{'uX!T'uX!c'uX!d'uX!f'uX!l'uX#c'uX#d'uX#e'uX#f'uX#g'uX#h'uX#i'uX#j'uX#m'uX#o'uX#q'uX#r'uX'r'uX'}'uX(U'uX(V'uX~O#k'uX'e'uX'a'uX!Q'uX!e'uXo'uX!V'uX%]'uX!_'uX~P1nO#T#tO~O$S#vO$U#uO$]#{O~O!V#|O$QbO$`#}O$b$PO~O]$SOi$cOk$TOl$SOm$SOr$dOt$eOv$fO{$[O!V$]O!a$kO!f$XO#_$lO#|$iO$i$gO$k$hO$n$jO'j$RO'n$bO'r$UOe'oP~O!f$mO~O!_$oO~O_$pO'e$pO~O'j$tO~O!f$mO'j$tO'k$vO'n$bO~Oc$|O!f$mO'j$tO~O#k#cO~O]%VOx%RO!V%OO!f%QO%^%UO'j$tO'k$vO^(cP~O!p#RO~O{%WO!V%XO'j$tO~O{%WO!V%XO%f%]O'j$tO~O'j%^O~O#lwO%^xO%`vO%avO%dyO%fzO%i{O%j{O~Ob%gOc%fO!p%dO%[%eO%n%cO~P8xOb%jOcqO!V%iO!ppO!uXO#lwO%[uO%`vO%avO%dyO%fzO%i{O%j{O%l|O~O`%mO#T%pO%^%kO'k$vO~P9wO!f%qO!i%uO~O!f!}O~O!VTO~O_$pO'b%}O'e$pO~O_$pO'b&QO'e$pO~O_$pO'b&SO'e$pO~O'a[Xo[X!Q[X!e[X%}[X!V[X%][X!_[X~P&}O]&XOl&XO{&WO!S&[O!Y&bO!Z&ZO![&ZO'k$vO's&UO!U'wP!U(TP~OP&fO!V&cO!q&eO'j$tO~Oc&kO!f$mO'j$tO~Ox%RO!f%QO~OS!cO'c!dO'd&nO~O!S&pO!Q&uX!Q&{X!T&uX!T&{X~P)jO!T&rO!Q'vX~OQ#lOZ#sOk#aOx#YOy#ZO{#[O!T&rO!c#cO!d#WO!f#XO!l#lO#c#_O#d#`O#e#`O#f#`O#g#bO#h#cO#i#cO#j#rO#k#cO#m#dO#o#fO#q#hO#r#iO'rRO'}#jO(U#]O(V#^O~O!Q'vX~P?WO!Q&wO~O!Q(QX!T(QX!_(QX!e(QX'}(QX~O#T(QX#`#XX!U(QX~PA^O#T&xO!Q(SX!T(SX~O!T&yO!Q(RX~O!Q&|O~O#T#tO~PA^O!U&}O~P`Ox#YOy#ZO{#[O!d#WO!f#XO'rROQ!haZ!hak!ha!T!ha!c!ha!l!ha#c!ha#d!ha#e!ha#f!ha#g!ha#h!ha#i!ha#j!ha#k!ha#m!ha#o!ha#q!ha#r!ha'}!ha(U!ha(V!ha~O_!ha'e!ha'a!ha!Q!ha!e!hao!ha!V!ha%]!ha!_!ha~PBtO!e'OO~O{%WO!V%XO!uXO#^'RO#_'QO'j$tO~O!_#UO#T'TO'}'SO!T(PX_(PX'e(PX~O!e(PX~PExO!T'WO!e(OX~O!e'YO~O{%WO!V%XO#_'QO'j$tO~Ox'ZOy'[O!d#WO!f#XO!u!ta{!ta~O!p!ta%[!ta!V!ta#^!ta#_!ta'j!ta~PGQO!p'`O~OQUORUO]gOb!aOc!`OigOkUOlgOmgOrgOtUOvUO{SO!OgO!PgO!VTO!aoO!fVO!iUO!jUO!kUO!lUO!mUO!p!_O#|!bO$QbO'j![O'rRO'|WO(ZeO~O]$SOi$cOk$TOl$SOm$SOr$dOt$eOv;oO{$[O!V$]O!a=`O!f$XO#_;xO#|$iO$i;rO$k;uO$n$jO'j'dO'n$bO'r$UO~O#`'fO~O]$SOi$cOk$TOl$SOm$SOr$dOt$eOv$fO{$[O!V$]O!a$kO!f$XO#_$lO#|$iO$i$gO$k$hO$n$jO'j'dO'n$bO'r$UO~Oe'yP~PKhO!S'jO!e'zP~P$}O's'lO'|WO~O{'nO!f#XO's'lO'|WO~OQ;VOR;VO]gOb=ZOc!`OigOk;VOlgOmgOrgOt;VOv;VO{SO!OgO!PgO!V!]O!a;YO!fVO!i;VO!j;VO!k;VO!l;VO!m;VO!p!_O#|!bO$QbO'j'|O'rRO'|WO(Z=XO~Oy(PO!f#XO~O!T#pO_$ga'e$ga'a$ga!e$ga!Q$ga!V$ga%]$ga!_$ga~O#l(TO~PJROx(WO!_(VO!V$TX$P$TX$S$TX$U$TX$]$TX~O!_(VO!V(WX$P(WX$S(WX$U(WX$](WX~Ox(WO~P!#WOx(WO!V(WX$P(WX$S(WX$U(WX$](WX~O!V(YO$P(^O$S(XO$U(XO$](_O~O!S(bO~PMqO$S#vO$U#uO$](eO~OP$oXx$oX{$oX!d$oX(U$oX(V$oX~OPgXegXe$oX!TgX#TgX~P!$|Ol(gO~OS(hO'c(iO'd(kO~OP(tOx(mO{(nO(U(pO(V(rO~Oe(lO~P!&VOe(uO~O]$SOi$cOk$TOl$SOm$SOr$dOt$eOv;oO{$[O!V$]O!a=`O!f$XO#_;xO#|$iO$i;rO$k;uO$n$jO'n$bO'r$UO~O!S(yO'j(vO!e([P~P!&tO#`({O~O!f(|O~O!S)RO'j)OO!Q(]P~P!&tOk)`O{)WO!Y)^O!Z)VO![)VO!f(|O#P)_O%S)YO'k$vO's)TO~O!U)]O~P!(wO!d#WOP'qXx'qX{'qX(U'qX(V'qX!T'qX#u'qX!U'qX~Oe'qX#T'qX]'qXl'qX!Y'qX!Z'qX!['qX!u'qX!y'qX!z'qX!{'qX#P'qX#Q'qX'k'qX's'qX'|'qX~P!)pOP)cO#T)bOe'pX!T'pX~O!T)dOe'oX~O'j%^Oe'oP~O!f)kO~O'j'dO~O{%WO!S!xO!V%XO!uXO#^!{O#_!xO'j$tO!e(OP~O!_#UO#`)oO~OQ#lOZ#sOk#aOx#YOy#ZO{#[O!c#cO!d#WO!f#XO!l#lO#c#_O#d#`O#e#`O#f#`O#g#bO#h#cO#i#cO#j#rO#k#cO#m#dO#o#fO#q#hO#r#iO'rRO'}#jO(U#]O(V#^O~O_!`a!T!`a'e!`a'a!`a!Q!`a!e!`ao!`a!V!`a%]!`a!_!`a~P!-ROP)wO!V&cO!q)vO%])uO'n$bO~O!_)yO!V'mX_'mX!T'mX'e'mX~O!f$mO'n$bO~O!f$mO'j$tO'n$bO~O!_#UO#`'fO~O]*UO%^*VO'j*RO!U(dP~O!T*WO^(cX~O's'lO~OZ*[O~O^*]O~O!V%OO'j$tO'k$vO^(cP~O{%WO!S*aO!T&yO!V%XO'j$tO!Q(RP~O]&_Ol&_O{*cO!S*bO's'lO~O!U(TP~P!2fO!T*dO_(`X'e(`X~O#T*hO'n$bO~OP*kO!V$]O'n$bO~O!V*mO~Ox*oO!VTO~O!p*tO~Oc*yO~O'j!|O!U(bP~Oc$|O~O%^xO'j%^O~P9wOZ+PO^+OO~OQUORUO]gObrOcqOigOkUOlgOmgOrgOtUOvUO{SO!OgO!PgO!aoO!fVO!iUO!jUO!kUO!lUO!mUO!ppO!uXO$QbO%[uO'rRO'|WO(ZeO~O!V!]O#|!bO'j![O~P!4vO^+OO_$pO'e$pO~O_+TO#l+VO%`+VO%a+VO~P$}O!f%qO~O&P+[O~O!V+^O~O&b+`O&d+aOQ&_aR&_aX&_a]&_a_&_ab&_ac&_ai&_ak&_al&_am&_ar&_at&_av&_a{&_a!O&_a!P&_a!V&_a!a&_a!f&_a!i&_a!j&_a!k&_a!l&_a!m&_a!p&_a!u&_a#l&_a#|&_a$Q&_a%[&_a%^&_a%`&_a%a&_a%d&_a%f&_a%i&_a%j&_a%l&_a%y&_a&P&_a&R&_a&T&_a&V&_a&Y&_a&`&_a&f&_a&h&_a&j&_a&l&_a&n&_a'a&_a'j&_a'r&_a'|&_a(Z&_a!U&_a&W&_a`&_a&]&_a~O'j+fO~O!TzX!T!]X!UzX!U!]X!_zX!_!]X!f!]X#TzX'n!]X~O!_+kO#T+jO!T#]X!T'xX!U#]X!U'xX!_'xX!f'xX'n'xX~O!_+mO!f$mO'n$bO!T!XX!U!XX~O]&VOl&VO{+nO's)TO~OQ;VOR;VO]gOb=ZOc!`OigOk;VOlgOmgOrgOt;VOv;VO{SO!OgO!PgO!V!]O!a;YO!fVO!i;VO!j;VO!k;VO!l;VO!m;VO!p!_O#|!bO$QbO'rRO'|WO(Z=XO~O'j;}O~P!>SO!T+rO!U'wX~O!U+tO~O!_+kO#T+jO!T#]X!U#]X~O!T+uO!U(TX~O!U+wO~O]&VOl&VO{+nO'k$vO's)TO~O!Z+xO![+xO~P!AQO_+}O!U,PO!Y,QO!Z+|O![+|O!u;WO!y,UO!z,SO!{,TO!|,RO#P,VO#Q,VO'|+zO~P!AQOP,[O!V&cO!q,ZO~Oo,aO~O!Q&ua!T&ua~P!-RO!S,eO!Q&uX!T&uX~P$}O!T&rO!Q'va~O!Q'va~P?WO!T&yO!Q(Ra~O{%WO!S,iO!V%XO'j$tO!Q&{X!T&{X~O!T'WO!e(Oa~O{%WO!V%XO#_,lO'j$tO~O#T,nO!T(Pa!e(Pa_(Pa'e(Pa~O!_#UO~P!DvO{%WO!S,qO!V%XO!uXO#^,sO#_,qO'j$tO!T&}X!e&}X~Oy,wO!f#XO~OP,{O!V&cO!q,zO%],yO'n$bO~O_#Wi!T#Wi'e#Wi'a#Wi!Q#Wi!e#Wio#Wi!V#Wi%]#Wi!_#Wi~P!-ROP=mOx(mO{(nO(U(pO(V(rO~O#`#Sa!T#Sa!e#Sa#T#Sa!V#Sa_#Sa'e#Sa!Q#Sa~P!G[O!d#WOP'qXx'qX{'qX(U'qX(V'qXQ'qXZ'qXk'qXy'qX!T'qX!c'qX!f'qX!l'qX#c'qX#d'qX#e'qX#f'qX#g'qX#h'qX#i'qX#j'qX#k'qX#m'qX#o'qX#q'qX#r'qX'r'qX'}'qX~O#`'qX_'qX'e'qX!e'qX!Q'qX'a'qX!V'qX#T'qXo'qX%]'qX!_'qX~P!HZO!T-UOe'yX~P!&VOe-WO~O!T-XO!e'zX~P!-RO!e-[O~O!Q-^O~OQ#lOx#YOy#ZO{#[O!d#WO!f#XO!l#lO'rROZ#bi_#bik#bi!T#bi!c#bi#d#bi#e#bi#f#bi#g#bi#h#bi#i#bi#j#bi#k#bi#m#bi#o#bi#q#bi#r#bi'e#bi'}#bi(U#bi(V#bi'a#bi!Q#bi!e#bio#bi!V#bi%]#bi!_#bi~O#c#bi~P!KrO#c#_O~P!KrOQ#lOx#YOy#ZO{#[O!d#WO!f#XO!l#lO#c#_O#d#`O#e#`O#f#`O'rROZ#bi_#bi!T#bi!c#bi#g#bi#h#bi#i#bi#j#bi#k#bi#m#bi#o#bi#q#bi#r#bi'e#bi'}#bi(U#bi(V#bi'a#bi!Q#bi!e#bio#bi!V#bi%]#bi!_#bi~Ok#bi~P!NdOk#aO~P!NdOQ#lOk#aOx#YOy#ZO{#[O!d#WO!f#XO!l#lO#c#_O#d#`O#e#`O#f#`O#g#bO'rRO_#bi!T#bi#m#bi#o#bi#q#bi#r#bi'e#bi'}#bi(U#bi(V#bi'a#bi!Q#bi!e#bio#bi!V#bi%]#bi!_#bi~OZ#bi!c#bi#h#bi#i#bi#j#bi#k#bi~P##UOZ#sO!c#cO#h#cO#i#cO#j#rO#k#cO~P##UOQ#lOZ#sOk#aOx#YOy#ZO{#[O!c#cO!d#WO!f#XO!l#lO#c#_O#d#`O#e#`O#f#`O#g#bO#h#cO#i#cO#j#rO#k#cO#m#dO'rRO_#bi!T#bi#o#bi#q#bi#r#bi'e#bi'}#bi(V#bi'a#bi!Q#bi!e#bio#bi!V#bi%]#bi!_#bi~O(U#bi~P#&VO(U#]O~P#&VOQ#lOZ#sOk#aOx#YOy#ZO{#[O!c#cO!d#WO!f#XO!l#lO#c#_O#d#`O#e#`O#f#`O#g#bO#h#cO#i#cO#j#rO#k#cO#m#dO#o#fO'rRO(U#]O_#bi!T#bi#q#bi#r#bi'e#bi'}#bi'a#bi!Q#bi!e#bio#bi!V#bi%]#bi!_#bi~O(V#bi~P#(wO(V#^O~P#(wOQ#lOZ#sOk#aOx#YOy#ZO{#[O!c#cO!d#WO!f#XO!l#lO#c#_O#d#`O#e#`O#f#`O#g#bO#h#cO#i#cO#j#rO#k#cO#m#dO#o#fO#q#hO'rRO(U#]O(V#^O~O_#bi!T#bi#r#bi'e#bi'}#bi'a#bi!Q#bi!e#bio#bi!V#bi%]#bi!_#bi~P#+iOQ[XZ[Xk[Xx[Xy[X{[X!c[X!d[X!f[X!l[X#T[X#`dX#c[X#d[X#e[X#f[X#g[X#h[X#i[X#j[X#k[X#m[X#o[X#q[X#r[X#w[X'r[X'}[X(U[X(V[X!T[X!U[X~O#u[X~P#.SOQ#lOZ;mOk;aOx#YOy#ZO{#[O!c;cO!d#WO!f#XO!l#lO#c;_O#d;`O#e;`O#f;`O#g;bO#h;cO#i;cO#j;lO#k;cO#m;dO#o;fO#q;hO#r;iO'rRO'}#jO(U#]O(V#^O~O#u-`O~P#0aOQ'uXZ'uXk'uXx'uXy'uX{'uX!c'uX!d'uX!f'uX!l'uX#c'uX#d'uX#e'uX#f'uX#g'uX#h'uX#i'uX#j'uX#m'uX#o'uX#q'uX#r'uX'r'uX'}'uX(U'uX(V'uX!T'uX~O#T;nO#w;nO#k'uX#u'uX!U'uX~P#2_O_'Qa!T'Qa'e'Qa'a'Qa!e'Qao'Qa!Q'Qa!V'Qa%]'Qa!_'Qa~P!-ROQ#biZ#bi_#bik#biy#bi!T#bi!c#bi!d#bi!f#bi!l#bi#c#bi#d#bi#e#bi#f#bi#g#bi#h#bi#i#bi#j#bi#k#bi#m#bi#o#bi#q#bi#r#bi'e#bi'r#bi'}#bi'a#bi!Q#bi!e#bio#bi!V#bi%]#bi!_#bi~P!G[O_#vi!T#vi'e#vi'a#vi!Q#vi!e#vio#vi!V#vi%]#vi!_#vi~P!-RO$S-cO$U-cO~O$S-dO$U-dO~O!_(VO#T-eO!V$YX$P$YX$S$YX$U$YX$]$YX~O!S-fO~O!V(YO$P-hO$S(XO$U(XO$]-iO~O!T;jO!U'tX~P#0aO!U-jO~O$]-lO~OS(hO'c(iO'd-oO~O]-rOl-rO!Q-sO~O!TdX!_dX!edX!e$oX'}dX~P!$|O!e-yO~P!G[O!T-zO!_#UO'}'SO!e([X~O!e.PO~O!S(yO'j$tO!e([P~O#`.RO~O!Q$oX!T$oX!_$vX~P!$|O!T.SO!Q(]X~P!G[O!_.UO~O!Q.WO~Ok.[O!_#UO!f$mO'n$bO'}'SO~O'j.^O~O!_)yO~O_$pO!T.bO'e$pO~O!U.dO~P!(wO!Z.eO![.eO'k$vO's)TO~O{.gO's)TO~O#P.hO~O'j%^Oe'VX!T'VX~O!T)dOe'oa~Oe.mO~Ox.nOy.nO{.oOPua(Uua(Vua!Tua#Tua~Oeua#uua~P#>mOx(mO{(nOP$ha(U$ha(V$ha!T$ha#T$ha~Oe$ha#u$ha~P#?cOx(mO{(nOP$ja(U$ja(V$ja!T$ja#T$ja~Oe$ja#u$ja~P#@UO].pO~O#`.qO~Oe$xa!T$xa#T$xa#u$xa~P!&VO#`.tO~OP,{O!V&cO!q,zO%],yO~O]$SOk$TOl$SOm$SOr$dOt$eOv;oO{$[O!V$]O!a=`O!f$XO#_;xO#|$iO$i;rO$k;uO$n$jO'n$bO'r$UO~Oi.{O'j.zO~P#AvO!_)yO!V'ma_'ma!T'ma'e'ma~O#`/RO~OZ[X!TdX!UdX~O!T/SO!U(dX~O!U/UO~OZ/VO~O]/XO'j*RO~O!V%OO'j$tO^'_X!T'_X~O!T*WO^(ca~O!e/[O~P!-RO]/^O~OZ/_O~O^/`O~O!T*dO_(`a'e(`a~O#T/fO~OP/iO!V$]O~O's'lO!U(aP~OP/sO!V/oO!q/rO%]/qO'n$bO~OZ/}O!T/{O!U(bX~O!U0OO~O^0QO_$pO'e$pO~O]0RO~O]0SO'j!|O~O#k0TO%}0UO~P1nO#T#tO#k0TO%}0UO~O_0VO~P$}O_0XO~O&W0]OQ&UiR&UiX&Ui]&Ui_&Uib&Uic&Uii&Uik&Uil&Uim&Uir&Uit&Uiv&Ui{&Ui!O&Ui!P&Ui!V&Ui!a&Ui!f&Ui!i&Ui!j&Ui!k&Ui!l&Ui!m&Ui!p&Ui!u&Ui#l&Ui#|&Ui$Q&Ui%[&Ui%^&Ui%`&Ui%a&Ui%d&Ui%f&Ui%i&Ui%j&Ui%l&Ui%y&Ui&P&Ui&R&Ui&T&Ui&V&Ui&Y&Ui&`&Ui&f&Ui&h&Ui&j&Ui&l&Ui&n&Ui'a&Ui'j&Ui'r&Ui'|&Ui(Z&Ui!U&Ui`&Ui&]&Ui~O`0cO!U0aO&]0bO~P`O!VTO!f0eO~O&d+aOQ&_iR&_iX&_i]&_i_&_ib&_ic&_ii&_ik&_il&_im&_ir&_it&_iv&_i{&_i!O&_i!P&_i!V&_i!a&_i!f&_i!i&_i!j&_i!k&_i!l&_i!m&_i!p&_i!u&_i#l&_i#|&_i$Q&_i%[&_i%^&_i%`&_i%a&_i%d&_i%f&_i%i&_i%j&_i%l&_i%y&_i&P&_i&R&_i&T&_i&V&_i&Y&_i&`&_i&f&_i&h&_i&j&_i&l&_i&n&_i'a&_i'j&_i'r&_i'|&_i(Z&_i!U&_i&W&_i`&_i&]&_i~O!Q0kO~O!T!Xa!U!Xa~P#0aO!S0rO!Y&bO!Z&ZO![&ZO!T&vX!U&vX~P!AQO!T+rO!U'wa~O!T&|X!U&|X~P!2fO!T+uO!U(Ta~O!Y0{O!Z0zO![0zO!u;WO!y1OO!z0}O!{0}O!|0|O#P1PO#Q1PO'|+zO~P!AQO_$pO!_#UO!f$mO!l1UO#T1SO'e$pO'n$bO'}'SO~O]&VOl&VO{+nO's)TO'|+zO~O_+}O!U1XO!Y,QO!Z+|O![+|O!u;WO!y,UO!z,SO!{,TO!|,RO#P,VO#Q,VO'|+zO~P!AQO!Z0zO![0zO'|+zO~P!AQO!Y0{O!Z0zO![0zO'|+zO~P!AQO!VTO!Y0{O!Z0zO![0zO!|0|O#P1PO#Q1PO'|+zO~P!AQO!Y0{O!Z0zO![0zO!z0}O!{0}O!|0|O#P1PO#Q1PO'|+zO~P!AQO!V&cO~O!V&cO~P!G[O!T#pOo$ga~O!Q&ui!T&ui~P!-RO!T&rO!Q'vi~O!T&yO!Q(Ri~O!Q(Si!T(Si~P!-RO!T'WO!e(Oi~O!T(Pi!e(Pi_(Pi'e(Pi~P!-RO#T1eO!T(Pi!e(Pi_(Pi'e(Pi~O{%WO!V%XO!uXO#^1hO#_1gO'j$tO~O{%WO!V%XO#_1gO'j$tO~OP1pO!V&cO!q1oO%]1nO~OP1pO!V&cO!q1oO%]1nO'n$bO~O#`uaQuaZua_uakua!cua!dua!fua!lua#cua#dua#eua#fua#gua#hua#iua#jua#kua#mua#oua#qua#rua'eua'rua'}ua!eua!Qua'aua!Vuaoua%]ua!_ua~P#>mO#`$haQ$haZ$ha_$hak$hay$ha!c$ha!d$ha!f$ha!l$ha#c$ha#d$ha#e$ha#f$ha#g$ha#h$ha#i$ha#j$ha#k$ha#m$ha#o$ha#q$ha#r$ha'e$ha'r$ha'}$ha!e$ha!Q$ha'a$ha!V$hao$ha%]$ha!_$ha~P#?cO#`$jaQ$jaZ$ja_$jak$jay$ja!c$ja!d$ja!f$ja!l$ja#c$ja#d$ja#e$ja#f$ja#g$ja#h$ja#i$ja#j$ja#k$ja#m$ja#o$ja#q$ja#r$ja'e$ja'r$ja'}$ja!e$ja!Q$ja'a$ja!V$jao$ja%]$ja!_$ja~P#@UO#`$xaQ$xaZ$xa_$xak$xay$xa!T$xa!c$xa!d$xa!f$xa!l$xa#c$xa#d$xa#e$xa#f$xa#g$xa#h$xa#i$xa#j$xa#k$xa#m$xa#o$xa#q$xa#r$xa'e$xa'r$xa'}$xa!e$xa!Q$xa'a$xa!V$xa#T$xao$xa%]$xa!_$xa~P!G[O_#Wq!T#Wq'e#Wq'a#Wq!Q#Wq!e#Wqo#Wq!V#Wq%]#Wq!_#Wq~P!-ROe&wX!T&wX~PKhO!T-UOe'ya~O!S1xO!T&xX!e&xX~P$}O!T-XO!e'za~O!T-XO!e'za~P!-RO!Q1{O~O#u!ha!U!ha~PBtO#u!`a!T!`a!U!`a~P#0aO!V2^O$QbO$Z2_O~O!U2cO~Oo2dO~P!G[O_$dq!T$dq'e$dq'a$dq!Q$dq!e$dqo$dq!V$dq%]$dq!_$dq~P!-RO!Q2eO~O]-rOl-rO~Ox(mO{(nO(V(rOP%Ti(U%Ti!T%Ti#T%Ti~Oe%Ti#u%Ti~P$9POx(mO{(nOP%Vi(U%Vi(V%Vi!T%Vi#T%Vi~Oe%Vi#u%Vi~P$9rO'}#jO~P!G[O!S2hO'j$tO!T'RX!e'RX~O!T-zO!e([a~O!T-zO!_#UO!e([a~O!T-zO!_#UO'}'SO!e([a~Oe$qi!T$qi#T$qi#u$qi~P!&VO!S2pO'j)OO!Q'TX!T'TX~P!&tO!T.SO!Q(]a~O!T.SO!Q(]a~P!G[O!_#UO~O!_#UO#k2xO~Ok2{O!_#UO'}'SO~Oe'pi!T'pi~P!&VO#T3OOe'pi!T'pi~P!&VO!e3RO~O_$eq!T$eq'e$eq'a$eq!Q$eq!e$eqo$eq!V$eq%]$eq!_$eq~P!-RO!T3VO!V(^X~P!G[O!V&cO%]1nO~O!V&cO%]1nO~P!G[O!V$oX%Q[X_$oX!T$oX'e$oX~P!$|O%Q3XOPhXxhX{hX!VhX(UhX(VhX_hX!ThX'ehX~O%Q3XO~O]3_O%^3`O'j*RO!T'^X!U'^X~O!T/SO!U(da~OZ3dO~O^3eO~O]3hO~O!Q3iO~O_$pO'e$pO~P!G[O!V$]O~P!G[O!T3nO#T3pO!U(aX~O!U3qO~O]&VOl&VO{3sO!Y4OO!Z3wO![3wO!u;WO!y3}O!z3|O!{3|O#P3{O#Q,VO'k$vO's)TO'|+zO~O!U3zO~P$BTOP4VO!V/oO!q4UO%]4TO~OP4VO!V/oO!q4UO%]4TO'n$bO~O'j!|O!T']X!U']X~O!T/{O!U(ba~O]4aO's4`O~O]4bO~O^4dO~O!e4gO~P$}O_4iO~O_4iO~P$}O#k4kO%}4lO~PExO`0cO!U4pO&]0bO~P`O!_4rO~O!_4tO!T'xi!U'xi!_'xi!f'xi'n'xi~O!T#]i!U#]i~P#0aO#T4uO!T#]i!U#]i~O!T!Xi!U!Xi~P#0aO!Q4vO~O]!tal!ta!Y!ta!Z!ta![!ta!y!ta!z!ta!{!ta!|!ta#P!ta#Q!ta'k!ta's!ta'|!ta~PGQO_$pO!_#UO!f$mO!l5OO#T4|O'e$pO'n$bO'}'SO~O!Z5QO![5QO'|+zO~P!AQO!Y5RO!Z5QO![5QO'|+zO~P!AQO!Y5RO!Z5QO![5QO!|5TO#P5UO#Q5UO'|+zO~P!AQO!Y5RO!Z5QO![5QO!z5VO!{5VO!|5TO#P5UO#Q5UO'|+zO~P!AQO_$pO#T4|O'e$pO~O_$pO!_#UO#T4|O'e$pO~O_$pO!_#UO!l5OO#T4|O'e$pO'}'SO~O!T'WO!e(Oq~O!T(Pq!e(Pq_(Pq'e(Pq~P!-RO{%WO!V%XO#_5aO'j$tO~O!V&cO%]5cO~O!V&cO%]5cO~P!G[OP5hO!V&cO!q5gO%]5cO~O#`%TiQ%TiZ%Ti_%Tik%Tiy%Ti!c%Ti!d%Ti!f%Ti!l%Ti#c%Ti#d%Ti#e%Ti#f%Ti#g%Ti#h%Ti#i%Ti#j%Ti#k%Ti#m%Ti#o%Ti#q%Ti#r%Ti'e%Ti'r%Ti'}%Ti!e%Ti!Q%Ti'a%Ti!V%Tio%Ti%]%Ti!_%Ti~P$9PO#`%ViQ%ViZ%Vi_%Vik%Viy%Vi!c%Vi!d%Vi!f%Vi!l%Vi#c%Vi#d%Vi#e%Vi#f%Vi#g%Vi#h%Vi#i%Vi#j%Vi#k%Vi#m%Vi#o%Vi#q%Vi#r%Vi'e%Vi'r%Vi'}%Vi!e%Vi!Q%Vi'a%Vi!V%Vio%Vi%]%Vi!_%Vi~P$9rO#`$qiQ$qiZ$qi_$qik$qiy$qi!T$qi!c$qi!d$qi!f$qi!l$qi#c$qi#d$qi#e$qi#f$qi#g$qi#h$qi#i$qi#j$qi#k$qi#m$qi#o$qi#q$qi#r$qi'e$qi'r$qi'}$qi!e$qi!Q$qi'a$qi!V$qi#T$qio$qi%]$qi!_$qi~P!G[Oe&wa!T&wa~P!&VO!T&xa!e&xa~P!-RO!T-XO!e'zi~O#u#Wi!T#Wi!U#Wi~P#0aOQ#lOx#YOy#ZO{#[O!d#WO!f#XO!l#lO'rROZ#bik#bi!c#bi#d#bi#e#bi#f#bi#g#bi#h#bi#i#bi#j#bi#k#bi#m#bi#o#bi#q#bi#r#bi#u#bi'}#bi(U#bi(V#bi!T#bi!U#bi~O#c#bi~P%&nO#c;_O~P%&nOQ#lOx#YOy#ZO{#[O!d#WO!f#XO!l#lO#c;_O#d;`O#e;`O#f;`O'rROZ#bi!c#bi#g#bi#h#bi#i#bi#j#bi#k#bi#m#bi#o#bi#q#bi#r#bi#u#bi'}#bi(U#bi(V#bi!T#bi!U#bi~Ok#bi~P%(yOk;aO~P%(yOQ#lOk;aOx#YOy#ZO{#[O!d#WO!f#XO!l#lO#c;_O#d;`O#e;`O#f;`O#g;bO'rRO#m#bi#o#bi#q#bi#r#bi#u#bi'}#bi(U#bi(V#bi!T#bi!U#bi~OZ#bi!c#bi#h#bi#i#bi#j#bi#k#bi~P%+UOZ;mO!c;cO#h;cO#i;cO#j;lO#k;cO~P%+UOQ#lOZ;mOk;aOx#YOy#ZO{#[O!c;cO!d#WO!f#XO!l#lO#c;_O#d;`O#e;`O#f;`O#g;bO#h;cO#i;cO#j;lO#k;cO#m;dO'rRO#o#bi#q#bi#r#bi#u#bi'}#bi(V#bi!T#bi!U#bi~O(U#bi~P%-pO(U#]O~P%-pOQ#lOZ;mOk;aOx#YOy#ZO{#[O!c;cO!d#WO!f#XO!l#lO#c;_O#d;`O#e;`O#f;`O#g;bO#h;cO#i;cO#j;lO#k;cO#m;dO#o;fO'rRO(U#]O#q#bi#r#bi#u#bi'}#bi!T#bi!U#bi~O(V#bi~P%/{O(V#^O~P%/{OQ#lOZ;mOk;aOx#YOy#ZO{#[O!c;cO!d#WO!f#XO!l#lO#c;_O#d;`O#e;`O#f;`O#g;bO#h;cO#i;cO#j;lO#k;cO#m;dO#o;fO#q;hO'rRO(U#]O(V#^O~O#r#bi#u#bi'}#bi!T#bi!U#bi~P%2WO_#sy!T#sy'e#sy'a#sy!Q#sy!e#syo#sy!V#sy%]#sy!_#sy~P!-ROP=oOx(mO{(nO(U(pO(V(rO~OQ#biZ#bik#biy#bi!c#bi!d#bi!f#bi!l#bi#c#bi#d#bi#e#bi#f#bi#g#bi#h#bi#i#bi#j#bi#k#bi#m#bi#o#bi#q#bi#r#bi#u#bi'r#bi'}#bi!T#bi!U#bi~P%5OO#u'qX!U'qX~P!HZO#u#vi!T#vi!U#vi~P#0aO!U5tO~O!T'Qa!U'Qa~P#0aO!_#UO'}'SO!T'Ra!e'Ra~O!T-zO!e([i~O!T-zO!_#UO!e([i~Oe$qq!T$qq#T$qq#u$qq~P!&VO!Q'Ta!T'Ta~P!G[O!_5{O~O!T.SO!Q(]i~P!G[O!T.SO!Q(]i~O!Q6PO~O!_#UO#k6UO~Ok6VO!_#UO'}'SO~O!Q6XO~Oe$sq!T$sq#T$sq#u$sq~P!&VO_$ey!T$ey'e$ey'a$ey!Q$ey!e$eyo$ey!V$ey%]$ey!_$ey~P!-RO!T3VO!V(^a~O_#Wy!T#Wy'e#Wy'a#Wy!Q#Wy!e#Wyo#Wy!V#Wy%]#Wy!_#Wy~P!-ROZ6^O~O]6`O'j*RO~O!T/SO!U(di~O]6cO~O^6dO~O!_4tO~O's'lO!T'YX!U'YX~O!T3nO!U(aa~O!f$mO'n$bO_'xX!_'xX!l'xX#T'xX'e'xX'}'xX~O'j6mO~P,RO!u;WO!y6oO!z6nO!{6nO#P1PO#Q1PO~P$%_O_$pO!_#UO!l1UO#T1SO'e$pO'}'SO~O!U6rO~P$BTO]&VOl&VO{6sO's)TO'|+zO~O!Y6wO!Z6vO![6vO#P1PO#Q1PO'|+zO~P!AQO!Y6wO!Z6vO![6vO!z6xO!{6xO#P1PO#Q1PO'|+zO~P!AQO!Z6vO![6vO'k$vO's)TO'|+zO~O!V/oO~O!V/oO%]6zO~O!V/oO%]6zO~P!G[OP7PO!V/oO!q7OO%]6zO~OZ7UO!T']a!U']a~O!T/{O!U(bi~O]7XO~O!e7YO~O!e7ZO~O!e7[O~O!e7[O~P$}O_7^O~O!_7aO~O!e7bO~O!T(Si!U(Si~P#0aO_$pO#T7iO'e$pO~O_$pO!_#UO#T7iO'e$pO~O!Z7mO![7mO'|+zO~P!AQO_$pO!_#UO!f$mO!l7nO#T7iO'e$pO'n$bO'}'SO~O!Y7oO!Z7mO![7mO'|+zO~P!AQO!Y7oO!Z7mO![7mO!|7rO#P7sO#Q7sO'|+zO~P!AQO_$pO!_#UO!l7nO#T7iO'e$pO'}'SO~O_$pO'e$pO~P!-RO!T'WO!e(Oy~O!T(Py!e(Py_(Py'e(Py~P!-RO!V&cO%]7xO~O!V&cO%]7xO~P!G[O#`$qqQ$qqZ$qq_$qqk$qqy$qq!T$qq!c$qq!d$qq!f$qq!l$qq#c$qq#d$qq#e$qq#f$qq#g$qq#h$qq#i$qq#j$qq#k$qq#m$qq#o$qq#q$qq#r$qq'e$qq'r$qq'}$qq!e$qq!Q$qq'a$qq!V$qq#T$qqo$qq%]$qq!_$qq~P!G[O#`$sqQ$sqZ$sq_$sqk$sqy$sq!T$sq!c$sq!d$sq!f$sq!l$sq#c$sq#d$sq#e$sq#f$sq#g$sq#h$sq#i$sq#j$sq#k$sq#m$sq#o$sq#q$sq#r$sq'e$sq'r$sq'}$sq!e$sq!Q$sq'a$sq!V$sq#T$sqo$sq%]$sq!_$sq~P!G[O!T&xi!e&xi~P!-RO#u#Wq!T#Wq!U#Wq~P#0aOx.nOy.nO{.oOPua(Uua(Vua!Uua~OQuaZuakua!cua!dua!fua!lua#cua#dua#eua#fua#gua#hua#iua#jua#kua#mua#oua#qua#rua#uua'rua'}ua!Tua~P%LmOx(mO{(nOP$ha(U$ha(V$ha!U$ha~OQ$haZ$hak$hay$ha!c$ha!d$ha!f$ha!l$ha#c$ha#d$ha#e$ha#f$ha#g$ha#h$ha#i$ha#j$ha#k$ha#m$ha#o$ha#q$ha#r$ha#u$ha'r$ha'}$ha!T$ha~P%NtOx(mO{(nOP$ja(U$ja(V$ja!U$ja~OQ$jaZ$jak$jay$ja!c$ja!d$ja!f$ja!l$ja#c$ja#d$ja#e$ja#f$ja#g$ja#h$ja#i$ja#j$ja#k$ja#m$ja#o$ja#q$ja#r$ja#u$ja'r$ja'}$ja!T$ja~P&!{OQ$xaZ$xak$xay$xa!c$xa!d$xa!f$xa!l$xa#c$xa#d$xa#e$xa#f$xa#g$xa#h$xa#i$xa#j$xa#k$xa#m$xa#o$xa#q$xa#r$xa#u$xa'r$xa'}$xa!T$xa!U$xa~P%5OO#u$dq!T$dq!U$dq~P#0aO#u$eq!T$eq!U$eq~P#0aO!U8RO~O#u8SO~P!&VO!_#UO!T'Ri!e'Ri~O!_#UO'}'SO!T'Ri!e'Ri~O!T-zO!e([q~O!Q'Ti!T'Ti~P!G[O!T.SO!Q(]q~O!Q8YO~P!G[O!Q8YO~Oe'py!T'py~P!&VO!T'Wa!V'Wa~P!G[O!V%Pq_%Pq!T%Pq'e%Pq~P!G[OZ8_O~O!T/SO!U(dq~O]8bO~O#T8cO!T'Ya!U'Ya~O!T3nO!U(ai~P#0aOQ[XZ[Xk[Xx[Xy[X{[X!Q[X!T[X!c[X!d[X!f[X!l[X#T[X#`dX#c[X#d[X#e[X#f[X#g[X#h[X#i[X#j[X#k[X#m[X#o[X#q[X#r[X#w[X'r[X'}[X(U[X(V[X~O!_$}X#k$}X~P&*pO#P5UO#Q5UO~P$%_O!z8gO!{8gO#P5UO#Q5UO~P$%_O!Z8jO![8jO'k$vO's)TO'|+zO~O!Y8mO!Z8jO![8jO#P5UO#Q5UO'|+zO~P!AQO!V/oO%]8pO~O!V/oO%]8pO~P!G[O]8wO's8vO~O!T/{O!U(bq~O!e8yO~O!e8yO~P$}O!e8{O~O!e8|O~O#T9OO!T#]y!U#]y~O!T#]y!U#]y~P#0aO_$pO#T9RO'e$pO~O_$pO!_#UO#T9RO'e$pO~O!Z9WO![9WO'|+zO~P!AQO_$pO!_#UO!l9XO#T9RO'e$pO'}'SO~O!f$mO'n$bO~P&0|O!Y9YO!Z9WO![9WO'|+zO~P!AQO!V&cO%]9^O~O!V&cO%]9^O~P!G[O#u#sy!T#sy!U#sy~P#0aOQ$qiZ$qik$qiy$qi!c$qi!d$qi!f$qi!l$qi#c$qi#d$qi#e$qi#f$qi#g$qi#h$qi#i$qi#j$qi#k$qi#m$qi#o$qi#q$qi#r$qi#u$qi'r$qi'}$qi!T$qi!U$qi~P%5OOx(mO{(nO(V(rOP%Ti(U%Ti!U%Ti~OQ%TiZ%Tik%Tiy%Ti!c%Ti!d%Ti!f%Ti!l%Ti#c%Ti#d%Ti#e%Ti#f%Ti#g%Ti#h%Ti#i%Ti#j%Ti#k%Ti#m%Ti#o%Ti#q%Ti#r%Ti#u%Ti'r%Ti'}%Ti!T%Ti~P&4cOx(mO{(nOP%Vi(U%Vi(V%Vi!U%Vi~OQ%ViZ%Vik%Viy%Vi!c%Vi!d%Vi!f%Vi!l%Vi#c%Vi#d%Vi#e%Vi#f%Vi#g%Vi#h%Vi#i%Vi#j%Vi#k%Vi#m%Vi#o%Vi#q%Vi#r%Vi#u%Vi'r%Vi'}%Vi!T%Vi~P&6jO#u$ey!T$ey!U$ey~P#0aO#u#Wy!T#Wy!U#Wy~P#0aO!_#UO!T'Rq!e'Rq~O!T-zO!e([y~O!Q'Tq!T'Tq~P!G[O!Q9dO~P!G[O!T/SO!U(dy~O!T3nO!U(aq~O#P7sO#Q7sO~P$%_O!Z9nO![9nO'k$vO's)TO'|+zO~O!V/oO%]9qO~O!V/oO%]9qO~P!G[O!e9tO~O_$pO#T9zO'e$pO~O_$pO!_#UO#T9zO'e$pO~O!Z9}O![9}O'|+zO~P!AQO_$pO!_#UO!l:OO#T9zO'e$pO'}'SO~OQ$qqZ$qqk$qqy$qq!c$qq!d$qq!f$qq!l$qq#c$qq#d$qq#e$qq#f$qq#g$qq#h$qq#i$qq#j$qq#k$qq#m$qq#o$qq#q$qq#r$qq#u$qq'r$qq'}$qq!T$qq!U$qq~P%5OOQ$sqZ$sqk$sqy$sq!c$sq!d$sq!f$sq!l$sq#c$sq#d$sq#e$sq#f$sq#g$sq#h$sq#i$sq#j$sq#k$sq#m$sq#o$sq#q$sq#r$sq#u$sq'r$sq'}$sq!T$sq!U$sq~P%5OOe%X!Z!T%X!Z#T%X!Z#u%X!Z~P!&VO!T'Yq!U'Yq~P#0aO!T#]!Z!U#]!Z~P#0aO_$pO#T:aO'e$pO~O_$pO!_#UO#T:aO'e$pO~O#`%X!ZQ%X!ZZ%X!Z_%X!Zk%X!Zy%X!Z!T%X!Z!c%X!Z!d%X!Z!f%X!Z!l%X!Z#c%X!Z#d%X!Z#e%X!Z#f%X!Z#g%X!Z#h%X!Z#i%X!Z#j%X!Z#k%X!Z#m%X!Z#o%X!Z#q%X!Z#r%X!Z'e%X!Z'r%X!Z'}%X!Z!e%X!Z!Q%X!Z'a%X!Z!V%X!Z#T%X!Zo%X!Z%]%X!Z!_%X!Z~P!G[O_$pO#T:oO'e$pO~OP=nOx(mO{(nO(U(pO(V(rO~O]#Sal#Sa!U#Sa!Y#Sa!Z#Sa![#Sa!u#Sa!y#Sa!z#Sa!{#Sa#P#Sa#Q#Sa'k#Sa's#Sa'|#Sa~P&D[OQ%X!ZZ%X!Zk%X!Zy%X!Z!c%X!Z!d%X!Z!f%X!Z!l%X!Z#c%X!Z#d%X!Z#e%X!Z#f%X!Z#g%X!Z#h%X!Z#i%X!Z#j%X!Z#k%X!Z#m%X!Z#o%X!Z#q%X!Z#r%X!Z#u%X!Z'r%X!Z'}%X!Z!T%X!Z!U%X!Z~P%5OO]ualua!Yua!Zua![ua!uua!yua!zua!{ua#Pua#Qua'kua'sua'|ua~P%LmO]$hal$ha!Y$ha!Z$ha![$ha!u$ha!y$ha!z$ha!{$ha#P$ha#Q$ha'k$ha's$ha'|$ha~P%NtO]$jal$ja!Y$ja!Z$ja![$ja!u$ja!y$ja!z$ja!{$ja#P$ja#Q$ja'k$ja's$ja'|$ja~P&!{O]$xal$xa!U$xa!Y$xa!Z$xa![$xa!u$xa!y$xa!z$xa!{$xa#P$xa#Q$xa'k$xa's$xa'|$xa~P&D[O]%Til%Ti!Y%Ti!Z%Ti![%Ti!u%Ti!y%Ti!z%Ti!{%Ti#P%Ti#Q%Ti'k%Ti's%Ti'|%Ti~P&4cO]%Vil%Vi!Y%Vi!Z%Vi![%Vi!u%Vi!y%Vi!z%Vi!{%Vi#P%Vi#Q%Vi'k%Vi's%Vi'|%Vi~P&6jO]$qil$qi!U$qi!Y$qi!Z$qi![$qi!u$qi!y$qi!z$qi!{$qi#P$qi#Q$qi'k$qi's$qi'|$qi~P&D[O]$qql$qq!U$qq!Y$qq!Z$qq![$qq!u$qq!y$qq!z$qq!{$qq#P$qq#Q$qq'k$qq's$qq'|$qq~P&D[O]$sql$sq!U$sq!Y$sq!Z$sq![$sq!u$sq!y$sq!z$sq!{$sq#P$sq#Q$sq'k$sq's$sq'|$sq~P&D[O]%X!Zl%X!Z!U%X!Z!Y%X!Z!Z%X!Z![%X!Z!u%X!Z!y%X!Z!z%X!Z!{%X!Z#P%X!Z#Q%X!Z'k%X!Z's%X!Z'|%X!Z~P&D[Oo'tX~P/WO!QdX!TdX#TdX~P&*pOQ[XZ[Xk[Xx[Xy[X{[X!T[X!TdX!c[X!d[X!f[X!l[X#T[X#TdX#`dX#c[X#d[X#e[X#f[X#g[X#h[X#i[X#j[X#k[X#m[X#o[X#q[X#r[X#w[X'r[X'}[X(U[X(V[X~O!_dX!e[X!edX'}dX~P'$ZOQ;VOR;VO]gOb=ZOc!`OigOk;VOlgOmgOrgOt;VOv;VO{SO!OgO!PgO!VTO!a;YO!fVO!i;VO!j;VO!k;VO!l;VO!m;VO!p!_O#|!bO$QbO'j'|O'rRO'|WO(Z=XO~O]$SOi$cOk$TOl$SOm$SOr$dOt$eOv;pO{$[O!V$]O!a=aO!f$XO#_;yO#|$iO$i;sO$k;vO$n$jO'j'dO'n$bO'r$UO~O!T;jO!U$ga~O]$SOi$cOk$TOl$SOm$SOr$dOt$eOv;qO{$[O!V$]O!a=bO!f$XO#_;zO#|$iO$i;tO$k;wO$n$jO'j'dO'n$bO'r$UO~O#l(TO~P'*^O!U[X!UdX~P'$ZO!_;^O~O#`;]O~O!_#UO#`;]O~O#T;nO~O#k;cO~O#T;{O!T(SX!U(SX~O#T;nO!T(QX!U(QX~O#`;|O~Oe<OO~P!&VO#`<VO~O#`<WO~O#`<XO~O!_#UO#`<YO~O!_#UO#`;|O~O#u<ZO~P#0aO#`<[O~O#`<]O~O#`<^O~O#`<_O~O#`<`O~O#`<aO~O#`<bO~O#`<cO~O!Q<dO~O#u<eO~P!&VO#u<fO~P!&VO#u<gO~P!&VO!Q<hO~P!G[O!Q<hO~O!Q<iO~P!G[O!_#UO#k=gO~O!_#UO#k=iO~O$Q~!d!y!{!|#P#^#_#j(Z$i$k$n%Q%[%]%^%d%f%i%j%l%n~UT$Q(Z#d!P'g'k#el#c#fkx'h's'h'j$S$U$S~",goto:"$(n(hPPPPPPPP(iP(yP*tPPPP.mPP/SP4y9R9fP9fPPP9fP;l9fP9fP9fP;pPP;vP<a@}PPPARPPPPARC|PPPDSE|PARPHdPPPPJbARPPPPPLlARPP! z!#O!#SP!#s!#w!#sPPPP!&|!(wPP!)P!*VP!#OARAR!-m!0q!5r!5r!9cPPP!9jARPPPPPPPPPPP!<iP!=|PPAR!?]PARPARARARARPAR!@tPP!CvP!FtP!Fx!GQ!GU!GUP!CsP!GY!GYP!JWP!J[ARAR!Jb!M_9fP9fP9f9fP!Ni9f9f#!y9f#%v9f#(Q9f9f#(n#+Q#+Q#+U#+^#+Q#+jP#+QP9f#,f9f#.T9f9f.mPPP#/vPP#0`#0`P#0`P#0u#0`PP#0{P#0rP#0r#1_!({#0r#1|#2S#2V(i#2Y(iP#2a#2a#2aP(iP(iP(iP(iPP(iP#2g#2jP#2j(iP#2nP#2qP(iP(iP(iP(iP(iP(i(iP#2w#3R#3X#3_#3m#3s#3y#4T#4Z#5U#5e#5k#5}#6T#6Z#6i#7O#8w#9V#9]#9c#9i#9o#9y#:P#:V#:a#:s#:yPPPPPPPP#;PPP#;s#?TP#@o#@v#AOPP#Fp#If$ o$ r$ u$#h$#k$#nPP$#t$#x$$q$%q$%u$&ZPP$&_$&e$&iP$&l$&p$&s$'f$'|$(R$(U$(X$(_$(b$(f$(jmlOTn!R!s$o%t%v%w%y+X+^0]0`Q${qQ%StQ%l}S&Z!]+rQ&j!`S)V$])[Q*P$|Q*^%UQ*x%fQ+x&bS+|&c,OQ,`&kQ.e)^Q/z*y[0z+y,Q,R,S,T,US3w/o3yW5Q0{0|0}1OU6v3|3}4OU7m5R5T5VS8j6w6xS9W7o7rQ9n8mR9}9Y%Q`OPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#p#t$o%Q%m%p%t%v%w%y%}&W&e&p&r&x'T'f'j'n(l)o)v*c+T+X+^+n,Z,e,n,z-X-`.o.t/R/r0T0U0V0X0]0`0b1S1e1o1x3s4U4i4k4l4|5g6s7O7^7i9R9z:a:oS#PX;W!l(O#k#|&[(b+j+m-f0r2^3p4u8c9O;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[Q)g$fQ*U%OQ*z%iQ+R%qQ-O;oQ.|)yQ/X*VQ0S+PQ3_/SQ4^/{Q5m;qQ6`3`R:q;ppiOTn}!R!s$o%k%t%v%w%y+X+^0]0`R*|%m&j[OPTUnor!R!W!a!c!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#k#p#t#|$o%Q%m%p%q%t%v%w%y%}&W&e&r&x'T'f'j'n(b(l)o)v*c+T+X+^+j+m+n,Z,e,n,z-X-`-f.o.t/R/r0T0U0V0X0]0`0b0r1S1e1o1x2^3p3s4U4i4k4l4u4|5g6s7O7^7i8c9O9R9z:a:o;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=Z=[[!lSV!g!j&[&pQ$upQ$zqS%Pt%U!U%Yvw!v!x!{$m%W&y'Q'R'W*a*b*d+V+k,i,l,p,q,s0e1g1h4t5aQ%b{Q&g!_Q&i!`Q'_#RS(x$X(|S*O${$|Q*S%OQ*s%dQ*w%fS,_&j&kQ,}'`Q.O(yQ/Q*PQ/W*VQ/Y*WQ/]*[Q/u*tS/y*x*yQ1a,`Q2g-zQ3^/SQ3b/VQ3g/_Q4]/zQ5x2hQ6_3`Q6b3dQ8^6^R9f8_x$Ze#W$g$h$l(q(s({)b)c-U.R.q2f3O8S=X=d=e=f!^$xq!`$z${$|&Y&i&j&k)U*O*P+o+{,_,`.]/Q0w0y1V1a2z5P5S7l7q9U9{:bQ)x$uQ*i%_Q*l%`Q*v%fQ,|'_Q/t*sU/x*w*x*yQ1q,}Q4W/uS4[/y/zS6l3r3vQ7T4]U8h6p6t6uU9l8i8k8lQ:W9mQ:i:X#b=]#U#r#s$X$[&f(h(t)R)u)w)y*h*k,[,y,{.S.U/f/i/q/s1n1p2p2x3V3X4T4V5c5h5{6U6z7P7x8p9^9q;r;u;x<P<S<V<[<_<e=g=i=m=n=od=^;^;s;v;y<Q<T<W<]<`<fg=_;l;m;t;w;z<R<U<X<^<a<gW$`e$b)d=XS%_x%kQ%`yQ%azR*g%]%X$_e#U#W#r#s$X$[$g$h$l&f(h(q(s(t({)R)b)c)u)w)y*h*k,[,y,{-U.R.S.U.q/f/i/q/s1n1p2f2p2x3O3V3X4T4V5c5h5{6U6z7P7x8S8p9^9q;^;l;m;r;s;t;u;v;w;x;y;z<P<Q<R<S<T<U<V<W<X<[<]<^<_<`<a<e<f<g=X=d=e=f=g=i=m=n=oT(i$U(jX)h$f;o;p;qU&_!]%X+uS'm#Y#ZQ*Z%RS,u'Z'[Q/j*mQ3P.nR6h3n&pgOPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#k#p#t#|$o%Q%m%p%q%t%v%w%y%}&W&[&e&p&r&x'T'f'j'n(b(l)o)v*c+T+X+^+j+m+n,Z,e,n,z-X-`-f.o.t/R/r0T0U0V0X0]0`0b0r1S1e1o1x2^3p3s4U4i4k4l4u4|5g6s7O7^7i8c9O9R9z:a:o;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[$a#o_!i!t$s&o&u'b'i'q'r's't'u'v'w'x'y'z'{'}(Q(U(`*Y+p,c,h,m-T-Z-_-a-p.r0l0o1d1w1|1}2O2P2Q2R2S2T2U2V2W2X2Y2]2b3T3[4x5Y5_5k5l5q5r6j7d7g7{8P8Q9Q9h9u9w:_:m:z;X<wT!dR!e&qgOPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#k#p#t#|$o%Q%m%p%q%t%v%w%y%}&W&[&e&p&r&x'T'f'j'n(b(l)o)v*c+T+X+^+j+m+n,Z,e,n,z-X-`-f.o.t/R/r0T0U0V0X0]0`0b0r1S1e1o1x2^3p3s4U4i4k4l4u4|5g6s7O7^7i8c9O9R9z:a:o;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[Q&]!]R0s+r!n&V!]&Z&b&c+r+x+y+|,O,Q,R,S,T,U,V0z0{0|0}1O1P3t3{5Q5R5T5U5V6n6o7m7o7r7s8g9W9Y9}S)U$])[S.])V)^Q.f)_Q/l*oQ2z.eQ2}.hS3r/o3yS6p3w4OS6t3|3}S8i6v6wQ8k6xS9m8j8mR:X9nllOTn!R!s$o%t%v%w%y+X+^0]0`Q%{!US'a#T;]Q)|$yQ*q%bQ*r%cQ,]&hS-S'f;|S.s)o<YQ/O)}Q/n*pQ0d+`Q0f+aQ0n+lQ1Y,SQ1_,^S3U.t<bQ3Y/PS3]/R<cQ4w0qQ5X1QQ5[1`Q6]3ZQ7e4yQ7f4zQ7t5]Q8}7bQ9S7kQ9x9TQ:^9yQ:l:`R:y:n$[#n_!i!t&o&u'b'i'q'r's't'u'v'w'x'y'z'{'}(Q(U(`*Y+p,c,h,m-T-Z-_-p.r0l0o1d1w1|1}2O2P2Q2R2S2T2U2V2W2X2Y2]2b3T3[4x5Y5_5k5l5q5r6j7d7g7{8P8Q9Q9h9u9w:_:m:z;X<wS'^#O0xU)a$^'e2[T)s$s-a$[#m_!i!t&o&u'b'i'q'r's't'u'v'w'x'y'z'{'}(Q(U(`*Y+p,c,h,m-T-Z-_-p.r0l0o1d1w1|1}2O2P2Q2R2S2T2U2V2W2X2Y2]2b3T3[4x5Y5_5k5l5q5r6j7d7g7{8P8Q9Q9h9u9w:_:m:z;X<wS']#O0xS'o#Z#nS)r$s-aS,v'['^Q-b(PQ.u)sR1i,w&pgOPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#k#p#t#|$o%Q%m%p%q%t%v%w%y%}&W&[&e&p&r&x'T'f'j'n(b(l)o)v*c+T+X+^+j+m+n,Z,e,n,z-X-`-f.o.t/R/r0T0U0V0X0]0`0b0r1S1e1o1x2^3p3s4U4i4k4l4u4|5g6s7O7^7i8c9O9R9z:a:o;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[S#PX;WQ%v!PQ%w!QQ%y!SQ%z!TR0[+[Q&d!_Q)t$uQ,Y&gS,x'_)xS1[,W,XY1m,|,}.w.x.yS5Z1]1^W5b1j1k1l1qU7w5d5e5fU9[7v7y7zQ:P9]R:d:QT+}&c,O!]YOTVZn}!R!s!v$m$o%k%m%t%v%w%y&c'W+X+^+y,O,p/o0]0`3t3yT#PX;W%SsOPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#p#t$o%Q%m%p%q%t%v%w%y%}&W&e&p&r&x'T'f'j'n(l)o)v*c+T+X+^+n,Z,e,n,z-X-`.o.t/R/r0T0U0V0X0]0`0b1S1e1o1x3s4U4i4k4l4|5g6s7O7^7i9R9z:a:oS'm#Y#ZS,u'Z'[!m<m#k#|&[(b+j+m-f0r2^3p4u8c9O;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[S+{&c,OW0y+y,S,T,UU1V+|,Q,RU1Z,V3t3{S3v/o3yU5P0z0{0|S5S0}1OU5W1P6n6oS6p3w4OS6u3|3}U7l5Q5R5TS7p5U8gQ7q5VS8i6v6wQ8l6xU9U7m7o7rQ9Z7sS9m8j8mS9{9W9YQ:X9nR:b9}S+}&c,OT3x/o3yS'V!w0YQ-}(xQ.Z)UU1U+{3u3vQ2l.OS2u.[.fU5O0y1Z6uQ5w2gS6S2{2}U7n5S5W8lQ8U5xQ8]6VS9X7p7qR:O9ZQ#V^S'U!w0YQ)p$nQ)z$wQ*Q$}Q,o'VQ-|(xQ.Y)UQ.`)XQ.}){Q/v*uU1T+{3u3vS2k-}.OS2t.Z.fQ2w._Q2y.aQ4Y/wW4}0y1U1Z6uQ5v2gQ5z2lS6O2u2}Q6T2|Q7R4ZW7j5O5S5W8lS8T5w5xS8X6P<dQ8Z6SQ8e6kQ8t7SU9V7n7p7qQ9b8US9c8Y<hQ9e8]Q9j8fQ9s8uS9|9X9ZS:S9d<iQ:U9kQ:c:OQ:g:VQ:v:hQ;P:wQ<p<kQ=O<uQ=P<vQ=Q=cR=V=h%S]OPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#p#t$o%Q%m%p%q%t%v%w%y%}&W&e&p&r&x'T'f'j'n(l)o)v*c+T+X+^+n,Z,e,n,z-X-`.o.t/R/r0T0U0V0X0]0`0b1S1e1o1x3s4U4i4k4l4|5g6s7O7^7i9R9z:a:oS#Vr!a!l<j#k#|&[(b+j+m-f0r2^3p4u8c9O;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[R<p=Z%S^OPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#p#t$o%Q%m%p%q%t%v%w%y%}&W&e&p&r&x'T'f'j'n(l)o)v*c+T+X+^+n,Z,e,n,z-X-`.o.t/R/r0T0U0V0X0]0`0b1S1e1o1x3s4U4i4k4l4|5g6s7O7^7i9R9z:a:oQ$nf!^$wq!`$z${$|&Y&i&j&k)U*O*P+o+{,_,`.]/Q0w0y1V1a2z5P5S7l7q9U9{:bS$}r!aQ){$xQ*u%fW/w*v*w*x*yU4Z/x/y/zS6k3r3vS7S4[4]W8f6l6p6t6uQ8u7TW9k8h8i8k8lS:V9l9mS:h:W:XQ:w:i!l<k#k#|&[(b+j+m-f0r2^3p4u8c9O;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[Q<u=YR<v=Z$vaOPTUno!R!W!c!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#p#t$o%Q%m%p%t%v%w%y%}&W&e&r&x'T'f'j'n(l)o)v*c+T+X+^+n,Z,e,n,z-X-`.o.t/R/r0T0U0V0X0]0`0b1S1e1o1x3s4U4i4k4l4|5g6s7O7^7i9R9z:a:oY!qSV!g!j&p!U%Yvw!v!x!{$m%W&y'Q'R'W*a*b*d+V+k,i,l,p,q,s0e1g1h4t5aQ+S%q!j<l#k#|(b+j+m-f0r2^3p4u8c9O;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[R<o&[S&`!]%XR0u+u%Q`OPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#p#t$o%Q%m%p%t%v%w%y%}&W&e&p&r&x'T'f'j'n(l)o)v*c+T+X+^+n,Z,e,n,z-X-`.o.t/R/r0T0U0V0X0]0`0b1S1e1o1x3s4U4i4k4l4|5g6s7O7^7i9R9z:a:o!l(O#k#|&[(b+j+m-f0r2^3p4u8c9O;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[R+R%q!j#e_!i$s&o&u'b'i'x'y'z'{(Q(U*Y,c,h,m-T-Z-p.r1d1w2Y3T3[5Y5_5k7g9Q9w:_:m:z;X!T;e'}(`+p-a0l0o1|2U2V2W2X2]2b4x5l5q5r6j7d7{8P8Q9h9u<w!f#g_!i$s&o&u'b'i'z'{(Q(U*Y,c,h,m-T-Z-p.r1d1w2Y3T3[5Y5_5k7g9Q9w:_:m:z;X!P;g'}(`+p-a0l0o1|2W2X2]2b4x5l5q5r6j7d7{8P8Q9h9u<w!b#k_!i$s&o&u'b'i(Q(U*Y,c,h,m-T-Z-p.r1d1w2Y3T3[5Y5_5k7g9Q9w:_:m:z;XQ2f-xz=['}(`+p-a0l0o1|2]2b4x5l5q5r6j7d7{8P8Q9h9u<wQ=d=jQ=e=kR=f=l&pgOPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#k#p#t#|$o%Q%m%p%q%t%v%w%y%}&W&[&e&p&r&x'T'f'j'n(b(l)o)v*c+T+X+^+j+m+n,Z,e,n,z-X-`-f.o.t/R/r0T0U0V0X0]0`0b0r1S1e1o1x2^3p3s4U4i4k4l4u4|5g6s7O7^7i8c9O9R9z:a:o;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[S#}d$OR2_-e&wcOPSTUVdno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#k#p#t#|$O$o%Q%m%p%q%t%v%w%y%}&W&[&e&p&r&x'T'f'j'n(b(l)o)v*c+T+X+^+j+m+n,Z,e,n,z-X-`-e-f.o.t/R/r0T0U0V0X0]0`0b0r1S1e1o1x2^3p3s4U4i4k4l4u4|5g6s7O7^7i8c9O9R9z:a:o;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[T#yb$PS#wb$PT(X#z(]T#xb$PT(Z#z(]&wdOPSTUVdno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#k#p#t#|$O$o%Q%m%p%q%t%v%w%y%}&W&[&e&p&r&x'T'f'j'n(b(l)o)v*c+T+X+^+j+m+n,Z,e,n,z-X-`-e-f.o.t/R/r0T0U0V0X0]0`0b0r1S1e1o1x2^3p3s4U4i4k4l4u4|5g6s7O7^7i8c9O9R9z:a:o;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[T#}d$OQ$QdR(d$O%SfOPSTUVno!R!W!c!g!j!s!}#T#X#[#_#`#a#b#c#d#e#f#g#h#i#p#t$o%Q%m%p%q%t%v%w%y%}&W&e&p&r&x'T'f'j'n(l)o)v*c+T+X+^+n,Z,e,n,z-X-`.o.t/R/r0T0U0V0X0]0`0b1S1e1o1x3s4U4i4k4l4|5g6s7O7^7i9R9z:a:o!m=Y#k#|&[(b+j+m-f0r2^3p4u8c9O;V;Y;];_;`;a;b;c;d;e;f;g;h;i;j;n;{;|<O<Y<Z<b<c=[#ahOPTVn!R!W!c!s!}#[#|$o%m%p%q%t%v%w%y%}&W&e'n(b)v*c+T+X+^+n,Z,z-f.o/r0T0U0V0X0]0`0b1o2^3s4U4i4k4l5g6s7O7^!^$^e#W$g$h$l(q(s({)b)c-U.R.q2f3O8S;^;s;v;y<Q<T<W<]<`<f=X=d=e=f#b'e#U#r#s$X$[&f(h(t)R)u)w)y*h*k,[,y,{.S.U/f/i/q/s1n1p2p2x3V3X4T4V5c5h5{6U6z7P7x8p9^9q;r;u;x<P<S<V<[<_<e=g=i=m=n=oQ)l$jQ-q(mg2[;l;m;t;w;z<R<U<X<^<a<gx$Ye#W$g$h$l(q(s({)b)c-U.R.q2f3O8S=X=d=e=fQ(}$ZS)X$])[Q)m$kQ.a)Y#b<r#U#r#s$X$[&f(h(t)R)u)w)y*h*k,[,y,{.S.U/f/i/q/s1n1p2p2x3V3X4T4V5c5h5{6U6z7P7x8p9^9q;r;u;x<P<S<V<[<_<e=g=i=m=n=od<s;^;s;v;y<Q<T<W<]<`<ff<t;l;m;t;w;z<R<U<X<^<a<gQ<x=]Q<y=^Q<z=_Q<{=`Q<|=aR<}=b!^$^e#W$g$h$l(q(s({)b)c-U.R.q2f3O8S;^;s;v;y<Q<T<W<]<`<f=X=d=e=f#b'e#U#r#s$X$[&f(h(t)R)u)w)y*h*k,[,y,{.S.U/f/i/q/s1n1p2p2x3V3X4T4V5c5h5{6U6z7P7x8p9^9q;r;u;x<P<S<V<[<_<e=g=i=m=n=og2[;l;m;t;w;z<R<U<X<^<a<gljOTn!R!s$o%t%v%w%y+X+^0]0`Q)Q$[Q+g&QQ+h&SR2o.S%W$_e#U#W#r#s$X$[$g$h$l&f(h(q(s(t({)R)b)c)u)w)y*h*k,[,y,{-U.R.S.U.q/f/i/q/s1n1p2f2p2x3O3V3X4T4V5c5h5{6U6z7P7x8S8p9^9q;^;l;m;r;s;t;u;v;w;x;y;z<P<Q<R<S<T<U<V<W<X<[<]<^<_<`<a<e<f<g=X=d=e=f=g=i=m=n=oQ*j%`Q/h*lQ3l/gR6g3mT)Z$])[S)Z$])[T3x/o3yQ._)WQ2|.gQ=c3sR=h6sQ)z$wQ.`)XQ.}){Q/v*uQ4Y/wQ7R4ZQ8e6kQ8t7SQ9j8fQ9s8uQ:U9kQ:g:VQ:v:hR;P:wp(q$V'g)n.Q.i.j1u2m3S5u6W9a<q=R=S=T!p<P'c(S(w)P,X-R-m-x.V.v.y/e/g1^1l1t2n2r3k3m4R5f5i5j5|6Q6Y6[6}7z8W8[8r:R=U=W=j=k=l[<Q:e:t:};R;S;U]<R2Z5p7|9_9`:pr(s$V'g)n-v.Q.i.j1u2m3S5u6W9a<q=R=S=T!r<S'c(S(w)P,X-R-m-x.V.v.y/e/g1^1l1r1t2n2r3k3m4R5f5i5j5|6Q6Y6[6}7z8W8[8r:R=U=W=j=k=l^<T:e:t:{:};R;S;U_<U2Z5p7|7}9_9`:ppiOTn}!R!s$o%k%t%v%w%y+X+^0]0`Q%h|R+T%qpiOTn}!R!s$o%k%t%v%w%y+X+^0]0`R%h|Q*n%aR/d*gqiOTn}!R!s$o%k%t%v%w%y+X+^0]0`Q/p*sS4S/t/uW6y4P4Q4R4WU8o6{6|6}U9o8n8q8rQ:Y9pR:j:ZQ%o}R*}%kR4a/}R8w7US%Pt%UR/Y*WQ%t!OR+X%uR+_%zT0^+^0`R+c%{Q+b%{R0g+cQnOQ!sTT$rn!sQ(j$UR-n(jQ!eRR&m!eQ!hSU&s!h&t,fQ&t!iR,f&uQ+s&]R0t+sQ-V'gR1v-VQ-Y'iS1y-Y1zR1z-ZQ,O&cR1W,OrZOTn}!R!s$o%k%m%t%v%w%y+X+^0]0`S!vV$mY#QZ!v+y,p3tS+y&c,OQ,p'WT3t/o3yS!nS%WU&z!n&{,gQ&{!oR,g&vQ+v&`R0v+vQ'X!yQ,j'PW,t'X,j1b5^Q1b,kR5^1cQ(]#zR-g(]Q$OdR(c$OQ#q_U(R#q,b;kQ,b;XR;k(`Q-{(xW2i-{2j5y8VU2j-|-}.OS5y2k2lR8V5z$m(o$V'c'g(S(w)P)i)j)n,X-P-Q-R-m-v-w-x.Q.V.i.j.v.y/e/g1^1l1r1s1t1u2Z2m2n2r3S3k3m4R5f5i5j5n5o5p5u5|6Q6W6Y6[6}7z7|7}8O8W8[8r9_9`9a:R:e:p:r:s:t:{:|:};R;S;U<q=R=S=T=U=W=j=k=lQ.T)PU2q.T2s5}Q2s.VR5}2rQ)[$]R.c)[Q)e$aR.l)eQ3W.vR6Z3WQ*e%ZR/c*eQ3o/jS6i3o8dR8d6jQ*p%bR/m*pQ3y/oR6q3yQ/|*zS4_/|7VR7V4aQ/T*SW3a/T3c6a8`Q3c/WQ6a3bR8`6bQ*X%PR/Z*XQ0`+^R4o0`WmOTn!sQ%x!RQ)q$oQ+W%tQ+Y%vQ+Z%wQ+]%yQ0Z+XS0^+^0`R4n0]Q$qkQ%|!VQ&P!XQ&R!YQ&T!ZQ*`%VQ*f%[Q*|%oQ+e&OQ.b)ZS0P*}+QQ0h+dQ0i+gQ0j+hU1R+{3u3vQ3f/^Q3j/eQ4X/vQ4c0RQ4m0[Y4{0y1T1U1Z6uQ6e3hQ6f3kQ7Q4YQ7W4b[7h4}5O5S5W5Y8lQ8a6cQ8s7RQ8x7XY9P7g7j7n7p7qQ9g8bQ9i8eQ9r8tW9v9Q9V9X9ZQ:T9jQ:[9sU:]9w9|:OQ:f:US:k:_:cQ:u:gQ:x:mQ;O:vQ;Q:zR;T;PQ$yqQ&h!`U)}$z${$|Q+l&YU,^&i&j&kQ.X)US/P*O*PQ0q+oQ1Q+{S1`,_,`Q2v.]Q3Z/QQ4y0wS4z0y1VQ5]1aQ6R2zS7k5P5SS9T7l7qQ9y9UQ:`9{R:n:bS$We=XR)f$bU$ae$b=XR.k)dQ$VeS'c#U)yQ'g#WS(S#r#sQ(w$XQ)P$[Q)i$gQ)j$hQ)n$lQ,X&fQ-P;rQ-Q;uQ-R;xQ-m(hQ-v(qQ-w(sQ-x(tQ.Q({Q.V)RQ.i)bQ.j)cf.v)u,y/q1n4T5c6z7x8p9^9qQ.y)wQ/e*hQ/g*kQ1^,[Q1l,{Q1r<PQ1s<SQ1t<VQ1u-US2Z;l;mQ2m.RQ2n.SQ2r.UQ3S.qQ3k/fQ3m/iQ4R/sQ5f1pQ5i<[Q5j<_Q5n;tQ5o;wQ5p;zQ5u2fQ5|2pQ6Q2xQ6W3OQ6Y3VQ6[3XQ6}4VQ7z5hQ7|<XQ7}<RQ8O<UQ8W5{Q8[6UQ8r7PQ9_<^Q9`<aQ9a8SQ:R<eQ:e;^Q:p<gQ:r;sQ:s;vQ:t;yQ:{<QQ:|<TQ:}<WQ;R<]Q;S<`Q;U<fQ<q=XQ=R=dQ=S=eQ=T=fQ=U=gQ=W=iQ=j=mQ=k=nR=l=olkOTn!R!s$o%t%v%w%y+X+^0]0`Q!^PS!uV!}Q&O!WQ&l!cQ'p#[Q(a#|S+Q%m%pQ+U%qQ+d%}Q+i&WQ,W&eQ-]'nQ-k(bQ.x)vQ/a*cQ0W+TU0p+n3s6sQ1],ZQ1k,zQ2a-fQ3Q.oQ4Q/rQ4e0TQ4f0UQ4h0VQ4j0XQ4q0bQ5e1oQ5s2^Q6|4UQ7]4iQ7_4kQ7`4lQ7y5gQ8q7OR8z7^#U_OPTVn!R!W!s!}#[$o%m%p%q%t%v%w%y%}&W&e'n)v*c+T+X+^+n,Z,z.o/r0T0U0V0X0]0`0b1o3s4U4i4k4l5g6s7O7^Q!iSQ!tUQ$soS&o!g&rQ&u!jQ'b#TQ'i#XQ'q#_Q'r#`Q's#aQ't#bQ'u#cQ'v#dQ'w#eQ'x#fQ'y#gQ'z#hQ'{#iQ'}#kQ(Q#pQ(U#tW(`#|(b-f2^Q*Y%QS+p&[0rS,c&p,eQ,h&xQ,m'TQ-T'fQ-Z'jQ-_;VQ-a;YQ-p(lQ.r)oQ0l+jQ0o+mQ1d,nQ1w-XQ1|;]Q1};_Q2O;`Q2P;aQ2Q;bQ2R;cQ2S;dQ2T;eQ2U;fQ2V;gQ2W;hQ2X;iQ2Y-`Q2];nQ2b;jQ3T.tQ3[/RQ4x;{Q5Y1SQ5_1eQ5k1xQ5l;|Q5q<OQ5r<YQ6j3pQ7d4uQ7g4|Q7{<ZQ8P<bQ8Q<cQ9Q7iQ9h8cQ9u9OQ9w9RQ:_9zQ:m:aQ:z:oQ;X!cR<w=[R!kSR&^!]S&Y!]+rS+o&Z&bS+{&c,OQ0w+xW0y+y,S,T,UU1V+|,Q,RY1Z,V3t3{3|3}S3u/o3yU5P0z0{0|S5S0}1OW5W1P6n6o6xU7l5Q5R5TS7p5U8gQ7q5VU9U7m7o7rQ9Z7sS9{9W9YR:b9}R'h#WR'k#XQ#OXR0x;WT!zV$mS!yV$mU%Zvw+VU'P!v!x!{S,k'Q'RQ,r'WQ/b*dQ1c,lU1f,p,q,sS5`1g1hR7u5a`!mS!g!j%W&p&y*a,it!wVvw!v!x!{$m'Q'R'W*d,l,p,q,s1g1h5aQ0Y+VQ0m+kQ4s0eQ7c4tT<n&[*bT!pS%WS!oS%WS&q!g&yS&v!j*aS+q&[*bT,d&p,iT&a!]%XQ#zbR(f$PT([#z(]R2`-eT(z$X(|R)S$[Q.w)uQ1j,yQ4P/qQ5d1nQ6{4TQ7v5cQ8n6zQ9]7xQ9p8pQ:Q9^R:Z9qllOTn!R!s$o%t%v%w%y+X+^0]0`Q%n}R*|%kV%[vw+VR/k*mR*{%iQ%TtR*_%UR*T%OT%r!O%uT%s!O%uT0_+^0`",nodeNames:"\u26A0 extends ArithOp ArithOp InterpolationStart LineComment BlockComment Script ExportDeclaration export Star as VariableName String from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression",maxTerm:345,context:trackNewline,nodeProps:[["closedBy",4,"InterpolationEnd",43,"]",53,"}",68,")",140,"JSXSelfCloseEndTag JSXEndTag",156,"JSXEndTag"],["group",-26,8,15,17,60,195,199,202,203,205,208,211,222,224,230,232,234,236,239,245,251,253,255,257,259,261,262,"Statement",-30,12,13,25,28,29,34,44,46,47,49,54,62,70,76,77,99,100,109,110,127,130,132,133,134,135,137,138,158,159,161,"Expression",-23,24,26,30,33,35,37,162,164,166,167,169,170,171,173,174,175,177,178,179,189,191,193,194,"Type",-3,81,92,98,"ClassItem"],["openedBy",31,"InterpolationStart",48,"[",52,"{",67,"(",139,"JSXStartTag",151,"JSXStartTag JSXStartCloseTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6],repeatNodeCount:29,tokenData:"#2k~R!bOX%ZXY%uYZ'kZ[%u[]%Z]^'k^p%Zpq%uqr(Rrs)mst7]tu9guv<avw=bwx>lxyJcyzJyz{Ka{|Lm|}MW}!OLm!O!PMn!P!Q!$v!Q!R!Er!R![!G_![!]!Nc!]!^!N{!^!_# c!_!`#!`!`!a##d!a!b#%s!b!c#'h!c!}9g!}#O#(O#O#P%Z#P#Q#(f#Q#R#(|#R#S9g#S#T#)g#T#o#)}#o#p#,w#p#q#,|#q#r#-j#r#s#.S#s$f%Z$f$g%u$g#BY9g#BY#BZ#.j#BZ$IS9g$IS$I_#.j$I_$I|9g$I|$I}#1X$I}$JO#1X$JO$JT9g$JT$JU#.j$JU$KV9g$KV$KW#.j$KW&FU9g&FU&FV#.j&FV;'S9g;'S;=`<Z<%l?HT9g?HT?HU#.j?HUO9gW%`T$`WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%ZW%rP;=`<%l%Z7Z%|i$`W'g7ROX%ZXY%uYZ%ZZ[%u[p%Zpq%uq!^%Z!_#o%Z#p$f%Z$f$g%u$g#BY%Z#BY#BZ%u#BZ$IS%Z$IS$I_%u$I_$JT%Z$JT$JU%u$JU$KV%Z$KV$KW%u$KW&FU%Z&FU&FV%u&FV;'S%Z;'S;=`%o<%l?HT%Z?HT?HU%u?HUO%Z7Z'rT$`W'h7RO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&y(YU$`W!l&qO!^%Z!_!`(l!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t(sU#m&l$`WO!^%Z!_!`)V!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t)^T#m&l$`WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z1i)t]$`W]&ZOY)mYZ*mZr)mrs,js!^)m!^!_-S!_#O)m#O#P1q#P#o)m#o#p-S#p;'S)m;'S;=`7V<%lO)m,^*rX$`WOr*mrs+_s!^*m!^!_+u!_#o*m#o#p+u#p;'S*m;'S;=`,d<%lO*m,^+fT$Z,U$`WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z,U+xTOr+urs,Xs;'S+u;'S;=`,^<%lO+u,U,^O$Z,U,U,aP;=`<%l+u,^,gP;=`<%l*m1i,sT$Z,U$`W]&ZO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z1a-XX]&ZOY-SYZ+uZr-Srs-ts#O-S#O#P-{#P;'S-S;'S;=`1k<%lO-S1a-{O$Z,U]&Z1a.OUOr-Srs.bs;'S-S;'S;=`0y;=`<%l/R<%lO-S1a.iW$Z,U]&ZOY/RZr/Rrs/ps#O/R#O#P/u#P;'S/R;'S;=`0s<%lO/R&Z/WW]&ZOY/RZr/Rrs/ps#O/R#O#P/u#P;'S/R;'S;=`0s<%lO/R&Z/uO]&Z&Z/xRO;'S/R;'S;=`0R;=`O/R&Z0WX]&ZOY/RZr/Rrs/ps#O/R#O#P/u#P;'S/R;'S;=`0s;=`<%l/R<%lO/R&Z0vP;=`<%l/R1a1OX]&ZOY/RZr/Rrs/ps#O/R#O#P/u#P;'S/R;'S;=`0s;=`<%l-S<%lO/R1a1nP;=`<%l-S1i1vY$`WOr)mrs2fs!^)m!^!_-S!_#o)m#o#p-S#p;'S)m;'S;=`6e;=`<%l/R<%lO)m1i2o]$Z,U$`W]&ZOY3hYZ%ZZr3hrs4hs!^3h!^!_/R!_#O3h#O#P5O#P#o3h#o#p/R#p;'S3h;'S;=`6_<%lO3h&c3o]$`W]&ZOY3hYZ%ZZr3hrs4hs!^3h!^!_/R!_#O3h#O#P5O#P#o3h#o#p/R#p;'S3h;'S;=`6_<%lO3h&c4oT$`W]&ZO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c5TW$`WO!^3h!^!_/R!_#o3h#o#p/R#p;'S3h;'S;=`5m;=`<%l/R<%lO3h&c5rX]&ZOY/RZr/Rrs/ps#O/R#O#P/u#P;'S/R;'S;=`0s;=`<%l3h<%lO/R&c6bP;=`<%l3h1i6jX]&ZOY/RZr/Rrs/ps#O/R#O#P/u#P;'S/R;'S;=`0s;=`<%l)m<%lO/R1i7YP;=`<%l)m#]7b]$`WOt%Ztu8Zu!^%Z!_!c%Z!c!}8Z!}#R%Z#R#S8Z#S#T%Z#T#o8Z#p$g%Z$g;'S8Z;'S;=`9a<%lO8Z#]8b_$`W'|#TOt%Ztu8Zu!Q%Z!Q![8Z![!^%Z!_!c%Z!c!}8Z!}#R%Z#R#S8Z#S#T%Z#T#o8Z#p$g%Z$g;'S8Z;'S;=`9a<%lO8Z#]9dP;=`<%l8Z,T9ra$`W's#S'j)s$SSOt%Ztu9gu}%Z}!O:w!O!Q%Z!Q![9g![!^%Z!_!c%Z!c!}9g!}#R%Z#R#S9g#S#T%Z#T#o9g#p$g%Z$g;'S9g;'S;=`<Z<%lO9g[;Oa$`W$SSOt%Ztu:wu}%Z}!O:w!O!Q%Z!Q![:w![!^%Z!_!c%Z!c!}:w!}#R%Z#R#S:w#S#T%Z#T#o:w#p$g%Z$g;'S:w;'S;=`<T<%lO:w[<WP;=`<%l:w,T<^P;=`<%l9g&t<hU$`W#e&lO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t=RT$`W#w&lO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z(h=iW(V(`$`WOv%Zvw>Rw!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t>YU$`W#q&lO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z1i>s]$`W]&ZOY>lYZ?lZw>lwx,jx!^>l!^!_@|!_#O>l#O#PE_#P#o>l#o#p@|#p;'S>l;'S;=`J]<%lO>l,^?qX$`WOw?lwx+_x!^?l!^!_@^!_#o?l#o#p@^#p;'S?l;'S;=`@v<%lO?l,U@aTOw@^wx,Xx;'S@^;'S;=`@p<%lO@^,U@sP;=`<%l@^,^@yP;=`<%l?l1aARX]&ZOY@|YZ@^Zw@|wx-tx#O@|#O#PAn#P;'S@|;'S;=`EX<%lO@|1aAqUOw@|wxBTx;'S@|;'S;=`Dg;=`<%lBt<%lO@|1aB[W$Z,U]&ZOYBtZwBtwx/px#OBt#O#PCc#P;'SBt;'S;=`Da<%lOBt&ZByW]&ZOYBtZwBtwx/px#OBt#O#PCc#P;'SBt;'S;=`Da<%lOBt&ZCfRO;'SBt;'S;=`Co;=`OBt&ZCtX]&ZOYBtZwBtwx/px#OBt#O#PCc#P;'SBt;'S;=`Da;=`<%lBt<%lOBt&ZDdP;=`<%lBt1aDlX]&ZOYBtZwBtwx/px#OBt#O#PCc#P;'SBt;'S;=`Da;=`<%l@|<%lOBt1aE[P;=`<%l@|1iEdY$`WOw>lwxFSx!^>l!^!_@|!_#o>l#o#p@|#p;'S>l;'S;=`Ik;=`<%lBt<%lO>l1iF]]$Z,U$`W]&ZOYGUYZ%ZZwGUwx4hx!^GU!^!_Bt!_#OGU#O#PHU#P#oGU#o#pBt#p;'SGU;'S;=`Ie<%lOGU&cG]]$`W]&ZOYGUYZ%ZZwGUwx4hx!^GU!^!_Bt!_#OGU#O#PHU#P#oGU#o#pBt#p;'SGU;'S;=`Ie<%lOGU&cHZW$`WO!^GU!^!_Bt!_#oGU#o#pBt#p;'SGU;'S;=`Hs;=`<%lBt<%lOGU&cHxX]&ZOYBtZwBtwx/px#OBt#O#PCc#P;'SBt;'S;=`Da;=`<%lGU<%lOBt&cIhP;=`<%lGU1iIpX]&ZOYBtZwBtwx/px#OBt#O#PCc#P;'SBt;'S;=`Da;=`<%l>l<%lOBt1iJ`P;=`<%l>l,TJjT!f+{$`WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z$PKQT!e#w$`WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z)ZKjW$`W'k#e#f&lOz%Zz{LS{!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z&tLZU$`W#c&lO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z*qLtU$`Wk*iO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z,TM_T!T+{$`WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z,TMuX$`Wx(dO!O%Z!O!PNb!P!Q%Z!Q![! d![!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z$oNgV$`WO!O%Z!O!PN|!P!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z$o! TT!S$g$`WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c! k]$`Wl&ZO!Q%Z!Q![! d![!^%Z!_!g%Z!g!h!!d!h#R%Z#R#S! d#S#X%Z#X#Y!!d#Y#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!!i]$`WO{%Z{|!#b|}%Z}!O!#b!O!Q%Z!Q![!$S![!^%Z!_#R%Z#R#S!$S#S#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!#gX$`WO!Q%Z!Q![!$S![!^%Z!_#R%Z#R#S!$S#S#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!$ZX$`Wl&ZO!Q%Z!Q![!$S![!^%Z!_#R%Z#R#S!$S#S#o%Z#p;'S%Z;'S;=`%o<%lO%Z7Z!$}b$`W#d&lOY!&VYZ%ZZz!&Vz{!-n{!P!&V!P!Q!BV!Q!^!&V!^!_!(f!_!`!Ch!`!a!Dm!a!}!&V!}#O!+T#O#P!,v#P#o!&V#o#p!(f#p;'S!&V;'S;=`!-h<%lO!&VX!&^^$`W!PPOY!&VYZ%ZZ!P!&V!P!Q!'Y!Q!^!&V!^!_!(f!_!}!&V!}#O!+T#O#P!,v#P#o!&V#o#p!(f#p;'S!&V;'S;=`!-h<%lO!&VX!'aa$`W!PPO!^%Z!_#Z%Z#Z#[!'Y#[#]%Z#]#^!'Y#^#a%Z#a#b!'Y#b#g%Z#g#h!'Y#h#i%Z#i#j!'Y#j#m%Z#m#n!'Y#n#o%Z#p;'S%Z;'S;=`%o<%lO%ZP!(kX!PPOY!(fZ!P!(f!P!Q!)W!Q!}!(f!}#O!)o#O#P!*n#P;'S!(f;'S;=`!*}<%lO!(fP!)]U!PP#Z#[!)W#]#^!)W#a#b!)W#g#h!)W#i#j!)W#m#n!)WP!)rVOY!)oZ#O!)o#O#P!*X#P#Q!(f#Q;'S!)o;'S;=`!*h<%lO!)oP!*[SOY!)oZ;'S!)o;'S;=`!*h<%lO!)oP!*kP;=`<%l!)oP!*qSOY!(fZ;'S!(f;'S;=`!*}<%lO!(fP!+QP;=`<%l!(fX!+Y[$`WOY!+TYZ%ZZ!^!+T!^!_!)o!_#O!+T#O#P!,O#P#Q!&V#Q#o!+T#o#p!)o#p;'S!+T;'S;=`!,p<%lO!+TX!,TX$`WOY!+TYZ%ZZ!^!+T!^!_!)o!_#o!+T#o#p!)o#p;'S!+T;'S;=`!,p<%lO!+TX!,sP;=`<%l!+TX!,{X$`WOY!&VYZ%ZZ!^!&V!^!_!(f!_#o!&V#o#p!(f#p;'S!&V;'S;=`!-h<%lO!&VX!-kP;=`<%l!&V7Z!-u`$`W!PPOY!-nYZ!.wZz!-nz{!2U{!P!-n!P!Q!@m!Q!^!-n!^!_!4m!_!}!-n!}#O!;l#O#P!?o#P#o!-n#o#p!4m#p;'S!-n;'S;=`!@g<%lO!-n7Z!.|X$`WOz!.wz{!/i{!^!.w!^!_!0w!_#o!.w#o#p!0w#p;'S!.w;'S;=`!2O<%lO!.w7Z!/nZ$`WOz!.wz{!/i{!P!.w!P!Q!0a!Q!^!.w!^!_!0w!_#o!.w#o#p!0w#p;'S!.w;'S;=`!2O<%lO!.w7Z!0hT$`WU7RO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z7R!0zTOz!0wz{!1Z{;'S!0w;'S;=`!1x<%lO!0w7R!1^VOz!0wz{!1Z{!P!0w!P!Q!1s!Q;'S!0w;'S;=`!1x<%lO!0w7R!1xOU7R7R!1{P;=`<%l!0w7Z!2RP;=`<%l!.w7Z!2]`$`W!PPOY!-nYZ!.wZz!-nz{!2U{!P!-n!P!Q!3_!Q!^!-n!^!_!4m!_!}!-n!}#O!;l#O#P!?o#P#o!-n#o#p!4m#p;'S!-n;'S;=`!@g<%lO!-n7Z!3ha$`WU7R!PPO!^%Z!_#Z%Z#Z#[!'Y#[#]%Z#]#^!'Y#^#a%Z#a#b!'Y#b#g%Z#g#h!'Y#h#i%Z#i#j!'Y#j#m%Z#m#n!'Y#n#o%Z#p;'S%Z;'S;=`%o<%lO%Z7R!4r[!PPOY!4mYZ!0wZz!4mz{!5h{!P!4m!P!Q!:b!Q!}!4m!}#O!6|#O#P!9r#P;'S!4m;'S;=`!:[<%lO!4m7R!5m[!PPOY!4mYZ!0wZz!4mz{!5h{!P!4m!P!Q!6c!Q!}!4m!}#O!6|#O#P!9r#P;'S!4m;'S;=`!:[<%lO!4m7R!6jUU7R!PP#Z#[!)W#]#^!)W#a#b!)W#g#h!)W#i#j!)W#m#n!)W7R!7PYOY!6|YZ!0wZz!6|z{!7o{#O!6|#O#P!9S#P#Q!4m#Q;'S!6|;'S;=`!9l<%lO!6|7R!7r[OY!6|YZ!0wZz!6|z{!7o{!P!6|!P!Q!8h!Q#O!6|#O#P!9S#P#Q!4m#Q;'S!6|;'S;=`!9l<%lO!6|7R!8mVU7ROY!)oZ#O!)o#O#P!*X#P#Q!(f#Q;'S!)o;'S;=`!*h<%lO!)o7R!9VVOY!6|YZ!0wZz!6|z{!7o{;'S!6|;'S;=`!9l<%lO!6|7R!9oP;=`<%l!6|7R!9uVOY!4mYZ!0wZz!4mz{!5h{;'S!4m;'S;=`!:[<%lO!4m7R!:_P;=`<%l!4m7R!:ga!PPOz!0wz{!1Z{#Z!0w#Z#[!:b#[#]!0w#]#^!:b#^#a!0w#a#b!:b#b#g!0w#g#h!:b#h#i!0w#i#j!:b#j#m!0w#m#n!:b#n;'S!0w;'S;=`!1x<%lO!0w7Z!;q^$`WOY!;lYZ!.wZz!;lz{!<m{!^!;l!^!_!6|!_#O!;l#O#P!>q#P#Q!-n#Q#o!;l#o#p!6|#p;'S!;l;'S;=`!?i<%lO!;l7Z!<r`$`WOY!;lYZ!.wZz!;lz{!<m{!P!;l!P!Q!=t!Q!^!;l!^!_!6|!_#O!;l#O#P!>q#P#Q!-n#Q#o!;l#o#p!6|#p;'S!;l;'S;=`!?i<%lO!;l7Z!={[$`WU7ROY!+TYZ%ZZ!^!+T!^!_!)o!_#O!+T#O#P!,O#P#Q!&V#Q#o!+T#o#p!)o#p;'S!+T;'S;=`!,p<%lO!+T7Z!>vZ$`WOY!;lYZ!.wZz!;lz{!<m{!^!;l!^!_!6|!_#o!;l#o#p!6|#p;'S!;l;'S;=`!?i<%lO!;l7Z!?lP;=`<%l!;l7Z!?tZ$`WOY!-nYZ!.wZz!-nz{!2U{!^!-n!^!_!4m!_#o!-n#o#p!4m#p;'S!-n;'S;=`!@g<%lO!-n7Z!@jP;=`<%l!-n7Z!@te$`W!PPOz!.wz{!/i{!^!.w!^!_!0w!_#Z!.w#Z#[!@m#[#]!.w#]#^!@m#^#a!.w#a#b!@m#b#g!.w#g#h!@m#h#i!.w#i#j!@m#j#m!.w#m#n!@m#n#o!.w#o#p!0w#p;'S!.w;'S;=`!2O<%lO!.w7Z!B^X$`WT7ROY!BVYZ%ZZ!^!BV!^!_!By!_#o!BV#o#p!By#p;'S!BV;'S;=`!Cb<%lO!BV7R!COST7ROY!ByZ;'S!By;'S;=`!C[<%lO!By7R!C_P;=`<%l!By7Z!CeP;=`<%l!BV&u!Cq^$`W#w&l!PPOY!&VYZ%ZZ!P!&V!P!Q!'Y!Q!^!&V!^!_!(f!_!}!&V!}#O!+T#O#P!,v#P#o!&V#o#p!(f#p;'S!&V;'S;=`!-h<%lO!&V]!Dv^$PS$`W!PPOY!&VYZ%ZZ!P!&V!P!Q!'Y!Q!^!&V!^!_!(f!_!}!&V!}#O!+T#O#P!,v#P#o!&V#o#p!(f#p;'S!&V;'S;=`!-h<%lO!&V&c!Eyf$`Wl&ZO!O%Z!O!P! d!P!Q%Z!Q![!G_![!^%Z!_!g%Z!g!h!!d!h#R%Z#R#S!G_#S#U%Z#U#V!IR#V#X%Z#X#Y!!d#Y#b%Z#b#c!Hk#c#d!Js#d#l%Z#l#m!L_#m#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!Gfa$`Wl&ZO!O%Z!O!P! d!P!Q%Z!Q![!G_![!^%Z!_!g%Z!g!h!!d!h#R%Z#R#S!G_#S#X%Z#X#Y!!d#Y#b%Z#b#c!Hk#c#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!HrT$`Wl&ZO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!IWY$`WO!Q%Z!Q!R!Iv!R!S!Iv!S!^%Z!_#R%Z#R#S!Iv#S#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!I}[$`Wl&ZO!Q%Z!Q!R!Iv!R!S!Iv!S!^%Z!_#R%Z#R#S!Iv#S#b%Z#b#c!Hk#c#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!JxX$`WO!Q%Z!Q!Y!Ke!Y!^%Z!_#R%Z#R#S!Ke#S#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!KlZ$`Wl&ZO!Q%Z!Q!Y!Ke!Y!^%Z!_#R%Z#R#S!Ke#S#b%Z#b#c!Hk#c#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!Ld]$`WO!Q%Z!Q![!M]![!^%Z!_!c%Z!c!i!M]!i#R%Z#R#S!M]#S#T%Z#T#Z!M]#Z#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!Md_$`Wl&ZO!Q%Z!Q![!M]![!^%Z!_!c%Z!c!i!M]!i#R%Z#R#S!M]#S#T%Z#T#Z!M]#Z#b%Z#b#c!Hk#c#o%Z#p;'S%Z;'S;=`%o<%lO%Z(m!NlT!_V$`W#u(^O!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z!P# ST_w$`WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z6i# nR'n$Y!c(O$Q,_(ZP!P!Q# w!^!_# |!_!`#!ZW# |O$bW&l#!RP#g&l!_!`#!U&l#!ZO#w&l&l#!`O#h&l(m#!gV#T(e$`WO!^%Z!_!`(l!`!a#!|!a#o%Z#p;'S%Z;'S;=`%o<%lO%Z&u##TT#`&m$`WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z(m##oVe!s#h&l$]S$`WO!^%Z!_!`#$U!`!a#$l!a#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t#$]T#h&l$`WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t#$sV#g&l$`WO!^%Z!_!`<z!`!a#%Y!a#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t#%aU#g&l$`WO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z(m#%zX'}&q$`WO!O%Z!O!P#&g!P!^%Z!_!a%Z!a!b#&}!b#o%Z#p;'S%Z;'S;=`%o<%lO%Z(i#&nTy(a$`WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t#'UU$`W#r&lO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z#_#'oT!u#V$`WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z,P#(VT{+w$`WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z$P#(mT!Q#w$`WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t#)TU#o&l$`WO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z){#)nT$`W'r)sO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z,T#*Ya$`W's#S'j)s$USOt%Ztu#)}u}%Z}!O#+_!O!Q%Z!Q![#)}![!^%Z!_!c%Z!c!}#)}!}#R%Z#R#S#)}#S#T%Z#T#o#)}#p$g%Z$g;'S#)};'S;=`#,q<%lO#)}[#+fa$`W$USOt%Ztu#+_u}%Z}!O#+_!O!Q%Z!Q![#+_![!^%Z!_!c%Z!c!}#+_!}#R%Z#R#S#+_#S#T%Z#T#o#+_#p$g%Z$g;'S#+_;'S;=`#,k<%lO#+_[#,nP;=`<%l#+_,T#,tP;=`<%l#)}~#,|O!V~(h#-TV(U(`$`WO!^%Z!_!`<z!`#o%Z#p#q#&}#q;'S%Z;'S;=`%o<%lO%Z(}#-sT!U(soQ$`WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%ZX#.ZT!mP$`WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z7Z#.wt$`W'g7R's#S'j)s$SSOX%ZXY%uYZ%ZZ[%u[p%Zpq%uqt%Ztu9gu}%Z}!O:w!O!Q%Z!Q![9g![!^%Z!_!c%Z!c!}9g!}#R%Z#R#S9g#S#T%Z#T#o9g#p$f%Z$f$g%u$g#BY9g#BY#BZ#.j#BZ$IS9g$IS$I_#.j$I_$JT9g$JT$JU#.j$JU$KV9g$KV$KW#.j$KW&FU9g&FU&FV#.j&FV;'S9g;'S;=`<Z<%l?HT9g?HT?HU#.j?HUO9g7Z#1fa$`W'h7R's#S'j)s$SSOt%Ztu9gu}%Z}!O:w!O!Q%Z!Q![9g![!^%Z!_!c%Z!c!}9g!}#R%Z#R#S9g#S#T%Z#T#o9g#p$g%Z$g;'S9g;'S;=`<Z<%lO9g",tokenizers:[tsExtends,noSemicolon,incdecToken,template,0,1,2,3,4,5,6,7,8,9,insertSemicolon],topRules:{Script:[0,7],SingleExpression:[1,263]},dialects:{jsx:13404,ts:13406},dynamicPrecedences:{159:1,187:1},specialized:[{term:302,get:g=>spec_identifier[g]||-1},{term:311,get:g=>spec_word[g]||-1},{term:65,get:g=>spec_LessThan[g]||-1}],tokenPrec:13429}),snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(g){return(n,r)=>{let $=n.node.getChild("VariableDefinition");return $&&r($,g),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(g,n){g.matchContext(functionContext)||n(g,"variable")},TypeDefinition(g,n){n(g,"type")},__proto__:null};function getScope(g,n){let r=cache.get(n);if(r)return r;let $=[],L=!0;function V(oe,ae){let re=g.sliceString(oe.from,oe.to);$.push({label:re,type:ae})}return n.cursor(IterMode.IncludeAnonymous).iterate(oe=>{if(L)L=!1;else if(oe.name){let ae=gatherCompletions[oe.name];if(ae&&ae(oe,V)||ScopeNodes.has(oe.name))return!1}else if(oe.to-oe.from>8192){for(let ae of getScope(g,oe.node))$.push(ae);return!1}}),cache.set(n,$),$}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName"];function localCompletionSource(g){let n=syntaxTree(g.state).resolveInner(g.pos,-1);if(dontComplete.indexOf(n.name)>-1)return null;let r=n.name=="VariableName"||n.to-n.from<20&&Identifier.test(g.state.sliceDoc(n.from,n.to));if(!r&&!g.explicit)return null;let $=[];for(let L=n;L;L=L.parent)ScopeNodes.has(L.name)&&($=$.concat(getScope(g.state.doc,L)));return{options:$,from:r?n.from:g.pos,validFor:Identifier}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:g=>{let n=g.textAfter,r=/^\s*\}/.test(n),$=/^\s*(case|default)\b/.test(n);return g.baseIndent+(r?0:$?1:2)*g.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:g=>g.baseIndent+g.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^{/}),JSXElement(g){let n=/^\s*<\//.test(g.textAfter);return g.lineIndent(g.node.from)+(n?0:g.unit)},JSXEscape(g){let n=/\s*\}/.test(g.textAfter);return g.lineIndent(g.node.from)+(n?0:g.unit)},"JSXOpenTag JSXSelfClosingTag"(g){return g.column(g.node.from)+g.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":foldInside,BlockComment(g){return{from:g.from+2,to:g.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx"}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts"},"typescript"),keywords="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(g=>({label:g,type:"keyword"}));function javascript(g={}){let n=g.jsx?g.typescript?tsxLanguage:jsxLanguage:g.typescript?typescriptLanguage:javascriptLanguage;return new LanguageSupport(n,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(snippets.concat(keywords)))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),g.jsx?autoCloseTags:[]])}function findOpenTag(g){for(;;){if(g.name=="JSXOpenTag"||g.name=="JSXSelfClosingTag"||g.name=="JSXFragmentTag")return g;if(!g.parent)return null;g=g.parent}}function elementName(g,n,r=g.length){for(let $=n==null?void 0:n.firstChild;$;$=$.nextSibling)if($.name=="JSXIdentifier"||$.name=="JSXBuiltin"||$.name=="JSXNamespacedName"||$.name=="JSXMemberExpression")return g.sliceString($.from,Math.min($.to,r));return""}let android,autoCloseTags,chalky,coral,cyan,invalid,ivory,stone,malibu,sage,whiskey,violet,darkBackground,highlightBackground,background,tooltipBackground,selection,cursor,oneDarkTheme,oneDarkHighlightStyle,oneDark,__default__$e,__vite_glob_1_1,base$2,form,row,col,__default__$d,_sfc_main$g,FormGrid_vue_vue_type_style_index_0_scoped_3514cd03_lang,__unplugin_components_11,formItem,_switch,inputNumber,input,timePicker,scrollbar,popper,datePicker,button,checkboxGroup,checkbox,colorPicker,tag,option,optionGroup,select,_hoisted_1$9,__default__$c,_sfc_main$f,__default__$b,__vite_glob_1_2,menu,tooltip,menuItem,subMenu,__default__$a,_sfc_main$d,__default__$9,_sfc_main$c,EvMenu_vue_vue_type_style_index_0_scoped_ab9019dc_lang,__unplugin_components_0,__vite_glob_1_4,table,tableColumn;android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags=EditorView.inputHandler.of((g,n,r,$)=>{if((android?g.composing:g.compositionStarted)||g.state.readOnly||n!=r||$!=">"&&$!="/"||!javascriptLanguage.isActiveAt(g.state,n,-1))return!1;let{state:L}=g,V=L.changeByRange(oe=>{var ae,re;let{head:le}=oe,ue=syntaxTree(L).resolveInner(le,-1),de;if(ue.name=="JSXStartTag"&&(ue=ue.parent),$==">"&&ue.name=="JSXFragmentTag")return{range:EditorSelection.cursor(le+1),changes:{from:le,insert:"><>"}};if($=="/"&&ue.name=="JSXFragmentTag"){let he=ue.parent,pe=he==null?void 0:he.parent;if(he.from==le-1&&((ae=pe.lastChild)===null||ae===void 0?void 0:ae.name)!="JSXEndTag"&&(de=elementName(L.doc,pe==null?void 0:pe.firstChild,le))){let _e=`/${de}>`;return{range:EditorSelection.cursor(le+_e.length),changes:{from:le,insert:_e}}}}else if($==">"){let he=findOpenTag(ue);if(he&&((re=he.lastChild)===null||re===void 0?void 0:re.name)!="JSXEndTag"&&L.sliceDoc(le,le+2)!="</"&&(de=elementName(L.doc,he,le)))return{range:EditorSelection.cursor(le+1),changes:{from:le,insert:`></${de}>`}}}return{range:oe}});return V.changes.empty?!1:(g.dispatch(V,{userEvent:"input.type",scrollIntoView:!0}),!0)}),chalky="#e5c07b",coral="#e06c75",cyan="#56b6c2",invalid="#ffffff",ivory="#abb2bf",stone="#7d8799",malibu="#61afef",sage="#98c379",whiskey="#d19a66",violet="#c678dd",darkBackground="#21252b",highlightBackground="#2c313a",background="#282c34",tooltipBackground="#353a42",selection="#3E4451",cursor="#528bff",oneDarkTheme=EditorView.theme({"&":{color:ivory,backgroundColor:background},".cm-content":{caretColor:cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:cursor},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:selection},".cm-panels":{backgroundColor:darkBackground,color:ivory},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{backgroundColor:background,color:stone,border:"none"},".cm-activeLineGutter":{backgroundColor:highlightBackground},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tooltipBackground,borderBottomColor:tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:highlightBackground,color:ivory}}},{dark:!0}),oneDarkHighlightStyle=HighlightStyle.define([{tag:tags.keyword,color:violet},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:coral},{tag:[tags.function(tags.variableName),tags.labelName],color:malibu},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:whiskey},{tag:[tags.definition(tags.name),tags.separator],color:ivory},{tag:[tags.typeName,tags.className,tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:chalky},{tag:[tags.operator,tags.operatorKeyword,tags.url,tags.escape,tags.regexp,tags.link,tags.special(tags.string)],color:cyan},{tag:[tags.meta,tags.comment],color:stone},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.link,color:stone,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:coral},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:whiskey},{tag:[tags.processingInstruction,tags.string,tags.inserted],color:sage},{tag:tags.invalid,color:invalid}]),oneDark=[oneDarkTheme,syntaxHighlighting(oneDarkHighlightStyle)],__default__$e=defineComponent({name:"EvCode"}),_sfc_main$h=defineComponent({...__default__$e,props:{code:{type:String}},emits:["change","update:code"],setup(g,{emit:n}){const r=g,{code:$}=toRefs(r),L=[javascript(),oneDark],V=oe=>{n("change",oe),n("update:code",oe)};return(oe,ae)=>(openBlock(),createBlock(unref(T),mergeProps({"model-value":unref($),placeholder:"Code gose here...",style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:L},oe.$attrs,{onChange:V}),null,16,["model-value"]))}}),__vite_glob_1_1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$h},Symbol.toStringTag,{value:"Module"})),base$2="",form="",row="",col="",__default__$d=defineComponent({name:"formGrid"}),_sfc_main$g=defineComponent({...__default__$d,props:{cols:{type:Array,required:!0},data:{type:Object,required:!0}},setup(g){const n=g,{cols:r,data:$}=toRefs(n);return(L,V)=>{const oe=ElCol,ae=ElRow;return openBlock(),createBlock(ae,normalizeProps(guardReactiveProps(L.$attrs)),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(r),re=>(openBlock(),createBlock(oe,{key:re.key,span:Number(re.span),class:"col"},{default:withCtx(()=>[createVNode$2(_sfc_main$f,{list:re.list,data:unref($)},null,8,["list","data"])]),_:2},1032,["span"]))),128))]),_:1},16)}}}),FormGrid_vue_vue_type_style_index_0_scoped_3514cd03_lang="",__unplugin_components_11=_export_sfc$2(_sfc_main$g,[["__scopeId","data-v-3514cd03"]]),formItem="",_switch="",inputNumber="",input="",timePicker="",scrollbar="",popper="",datePicker="",button="",checkboxGroup="",checkbox="",colorPicker="",tag="",option="",optionGroup="",select="",_hoisted_1$9={key:1},__default__$c=defineComponent({name:"FormComp"}),_sfc_main$f=defineComponent({...__default__$c,props:{list:{type:Array,required:!0},data:{type:Object,required:!0}},emits:["update:data"],setup(g,{emit:n}){const r=g,{list:$}=toRefs(r),L=computed({get(){return r.data},set(V){n("update:data",V)}});return(V,oe)=>{const ae=ElInput,re=ElOption,le=ElSelect,ue=ElColorPicker,de=ElCheckbox,he=ElCheckboxGroup$1,pe=ElDatePicker,_e=ElTimePicker,$e=ElInputNumber,xe=ElSwitch,Oe=ElFormItem,Ce=__unplugin_components_11;return openBlock(!0),createElementBlock(Fragment,null,renderList(unref($),Ie=>(openBlock(),createElementBlock(Fragment,{key:Ie.compId},[Ie.type=="component"?(openBlock(),createBlock(Oe,mergeProps({key:0,prop:Ie.prop.field},Ie.form_config),{default:withCtx(()=>[Ie.comp=="input"?(openBlock(),createBlock(ae,mergeProps({key:Ie.compId,modelValue:unref(L)[Ie.prop.field],"onUpdate:modelValue":Ne=>unref(L)[Ie.prop.field]=Ne},Ie.prop),null,16,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),Ie.comp=="textarea"?(openBlock(),createBlock(ae,mergeProps({key:Ie.compId,modelValue:unref(L)[Ie.prop.field],"onUpdate:modelValue":Ne=>unref(L)[Ie.prop.field]=Ne},Ie.prop),null,16,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),Ie.comp=="select"?(openBlock(),createBlock(le,mergeProps({key:2},Ie.prop,{key:Ie.compId,modelValue:unref(L)[Ie.prop.field],"onUpdate:modelValue":Ne=>unref(L)[Ie.prop.field]=Ne}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ie.prop.options,Ne=>(openBlock(),createBlock(re,{key:Ne.value,value:Ne.value,label:Ne.label},null,8,["value","label"]))),128))]),_:2},1040,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),Ie.comp=="color"?(openBlock(),createBlock(ue,mergeProps({key:3},Ie.prop,{key:Ie.compId,modelValue:unref(L)[Ie.prop.field],"onUpdate:modelValue":Ne=>unref(L)[Ie.prop.field]=Ne}),null,16,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),Ie.comp=="checkbox"?(openBlock(),createBlock(he,mergeProps({key:4},Ie.prop,{key:Ie.compId,modelValue:unref(L)[Ie.prop.field],"onUpdate:modelValue":Ne=>unref(L)[Ie.prop.field]=Ne}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ie.prop.options,Ne=>(openBlock(),createBlock(de,{key:Ne.value,label:Ne.value},{default:withCtx(()=>[createTextVNode(toDisplayString(Ne.label),1)]),_:2},1032,["label"]))),128))]),_:2},1040,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),Ie.comp=="date"?(openBlock(),createBlock(pe,mergeProps({key:5},Ie.prop,{key:Ie.compId,modelValue:unref(L)[Ie.prop.field],"onUpdate:modelValue":Ne=>unref(L)[Ie.prop.field]=Ne}),null,16,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),Ie.comp=="time"?(openBlock(),createBlock(_e,mergeProps({key:6},Ie.prop,{key:Ie.compId,modelValue:unref(L)[Ie.prop.field],"onUpdate:modelValue":Ne=>unref(L)[Ie.prop.field]=Ne}),null,16,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),Ie.comp=="number"?(openBlock(),createBlock($e,mergeProps({key:7},Ie.prop,{key:Ie.compId,modelValue:unref(L)[Ie.prop.field],"onUpdate:modelValue":Ne=>unref(L)[Ie.prop.field]=Ne}),null,16,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),Ie.comp=="switch"?(openBlock(),createBlock(xe,mergeProps({key:8},Ie.prop,{key:Ie.compId,modelValue:unref(L)[Ie.prop.field],"onUpdate:modelValue":Ne=>unref(L)[Ie.prop.field]=Ne}),null,16,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0)]),_:2},1040,["prop"])):createCommentVNode("",!0),Ie.type=="container"?(openBlock(),createElementBlock("div",_hoisted_1$9,[Ie.comp=="grid"?(openBlock(),createBlock(Ce,mergeProps({key:0},Ie.prop,{data:unref(L)}),null,16,["data"])):createCommentVNode("",!0)])):createCommentVNode("",!0)],64))),128)}}}),__default__$b=defineComponent({name:"EvForm"}),_sfc_main$e=defineComponent({...__default__$b,props:{formConfig:{type:Object,required:!0}},setup(g,{expose:n}){const r=g,$=ref(),L=reactive({}),{formConfig:V}=toRefs(r);return n({getFormData:()=>L,resetForm:()=>{!$.value||$.value.resetFields()}}),(oe,ae)=>{const re=ElForm;return openBlock(),createBlock(re,mergeProps(unref(V).formProp,{ref_key:"formRef",ref:$,model:L}),{default:withCtx(()=>[createVNode$2(_sfc_main$f,{list:unref(V).list,data:L},null,8,["list","data"])]),_:1},16,["model"])}}}),__vite_glob_1_2=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$e},Symbol.toStringTag,{value:"Module"})),menu="",tooltip="",menuItem="",subMenu="",__default__$a=defineComponent({name:"EvMenuItem"}),_sfc_main$d=defineComponent({...__default__$a,props:{menuData:{type:Object,required:!0},replaceFields:{type:Object,required:!1,default:()=>({value:"value",children:"children",label:"label",key:"key",icon:"icon"})}},emits:["onClickItem"],setup(g,{emit:n}){const r=g,{menuData:$,replaceFields:L}=toRefs(r),V=ae=>{n("onClickItem",ae.index)},oe=ae=>{n("onClickItem",ae)};return(ae,re)=>{const le=resolveComponent("EvMenuItem",!0),ue=ElSubMenu,de=ElMenuItem;return openBlock(!0),createElementBlock(Fragment,null,renderList(unref($),(he,pe)=>(openBlock(),createElementBlock(Fragment,{key:pe},[he[unref(L).children]&&he[unref(L).children].length?(openBlock(),createBlock(ue,{key:0,index:he[unref(L).value]},{title:withCtx(()=>[unref(L).icon&&he[unref(L).icon]?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass(["iconfont","icon-"+he[unref(L).icon]])},null,2)):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(he[unref(L).label]),1)]),default:withCtx(()=>[createVNode$2(le,{"menu-data":he[unref(L).children],"replace-fields":unref(L),onOnClickItem:oe},null,8,["menu-data","replace-fields"])]),_:2},1032,["index"])):(openBlock(),createBlock(de,{key:1,index:he[unref(L).value],onClick:V},{default:withCtx(()=>[unref(L).icon&&he[unref(L).icon]?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass(["iconfont","icon-"+he[unref(L).icon]])},null,2)):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(he[unref(L).label]),1)]),_:2},1032,["index"]))],64))),128)}}}),__default__$9=defineComponent({name:"EvMenu"}),_sfc_main$c=defineComponent({...__default__$9,props:{data:{type:Array,required:!0},replaceFields:{type:Object,required:!1,default:()=>({value:"value",children:"children",label:"label",key:"key"})}},emits:["onClickItem"],setup(g,{emit:n}){const r=g,{data:$,replaceFields:L}=toRefs(r),V=oe=>{n("onClickItem",oe)};return(oe,ae)=>{const re=ElMenu;return openBlock(),createBlock(re,mergeProps({class:"ev-menu"},oe.$attrs),{default:withCtx(()=>[createVNode$2(_sfc_main$d,mergeProps({"menu-data":unref($),"replace-fields":unref(L)},oe.$attrs,{onOnClickItem:V}),null,16,["menu-data","replace-fields"])]),_:1},16)}}}),EvMenu_vue_vue_type_style_index_0_scoped_ab9019dc_lang="",__unplugin_components_0=_export_sfc$2(_sfc_main$c,[["__scopeId","data-v-ab9019dc"]]),__vite_glob_1_4=Object.freeze(Object.defineProperty({__proto__:null,default:__unplugin_components_0},Symbol.toStringTag,{value:"Module"})),table="",tableColumn="";let getRandomValues$1;const rnds8$1=new Uint8Array(16);function rng$1(){if(!getRandomValues$1&&(getRandomValues$1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues$1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues$1(rnds8$1)}const byteToHex$1=[];for(let g=0;g<256;++g)byteToHex$1.push((g+256).toString(16).slice(1));function unsafeStringify(g,n=0){return(byteToHex$1[g[n+0]]+byteToHex$1[g[n+1]]+byteToHex$1[g[n+2]]+byteToHex$1[g[n+3]]+"-"+byteToHex$1[g[n+4]]+byteToHex$1[g[n+5]]+"-"+byteToHex$1[g[n+6]]+byteToHex$1[g[n+7]]+"-"+byteToHex$1[g[n+8]]+byteToHex$1[g[n+9]]+"-"+byteToHex$1[g[n+10]]+byteToHex$1[g[n+11]]+byteToHex$1[g[n+12]]+byteToHex$1[g[n+13]]+byteToHex$1[g[n+14]]+byteToHex$1[g[n+15]]).toLowerCase()}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};v4$1=function g(n,r,$){if(native.randomUUID&&!r&&!n)return native.randomUUID();n=n||{};const L=n.random||(n.rng||rng$1)();if(L[6]=L[6]&15|64,L[8]=L[8]&63|128,r){$=$||0;for(let V=0;V<16;++V)r[$+V]=L[V];return r}return unsafeStringify(L)};let _hoisted_1$8,__default__$8,__vite_glob_1_5,radioGroup,radio,_hoisted_1$7,__default__$7,_sfc_main$a,ReqTable_vue_vue_type_style_index_0_scoped_b4fdbe51_lang,ReqTable,__default__$6,__vite_glob_1_6,_hoisted_1$6,_hoisted_2$2,__default__$5,_sfc_main$8,EvTitle_vue_vue_type_style_index_0_scoped_67955e10_lang,__vite_glob_1_7,_hoisted_1$5,__default__$4,_sfc_main$7,EvVar_vue_vue_type_style_index_0_scoped_00f05e19_lang,__vite_glob_1_8,__default__$3,_sfc_main$6,__vite_glob_1_9,install$U,autoImport,scriptRel,assetsURL,seen,_imports_0;_hoisted_1$8=["onClick"],__default__$8=defineComponent({name:"EvOptTable"}),_sfc_main$b=defineComponent({...__default__$8,props:{data:{type:Array,required:!0},columnConfig:{type:Array,required:!0}},emits:["update:data"],setup(g,{emit:n}){const r=g,$=computed({get(){return r.data},set(ae){n("update:data",ae)}}),L=ref(v4$1()),V=()=>{const ae=cloneDeep($.value[0]);Object.keys(ae).forEach(re=>{ae[re]=""}),ae.key=v4$1(),$.value.push(ae),L.value=v4$1()},oe=ae=>{const re=$.value.findIndex(le=>le.key==ae.key);$.value.splice(re,1),L.value=v4$1()};return(ae,re)=>{const le=ElInput,ue=ElTableColumn,de=ElTable;return openBlock(),createBlock(de,{key:L.value,data:unref($)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.columnConfig,he=>(openBlock(),createBlock(ue,{prop:he.field,label:he.label},{default:withCtx(pe=>[createVNode$2(le,{modelValue:pe.row[he.field],"onUpdate:modelValue":_e=>pe.row[he.field]=_e},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","label"]))),256)),createVNode$2(ue,{label:"\u64CD\u4F5C"},{default:withCtx(he=>[createBaseVNode("span",{class:"opt",onClick:re[0]||(re[0]=pe=>V())}," + "),createBaseVNode("span",{class:"opt",onClick:pe=>oe(he.row)}," - ",8,_hoisted_1$8)]),_:1})]),_:1},8,["data"])}}}),__vite_glob_1_5=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$b},Symbol.toStringTag,{value:"Module"})),radioGroup="",radio="",_hoisted_1$7=["onClick"],__default__$7=defineComponent({name:"ReqTable"}),_sfc_main$a=defineComponent({...__default__$7,props:{data:{type:Object,required:!0}},emits:["update:data"],setup(g,{emit:n}){const r=g,{data:$}=toRefs(r),L=ref(v4$1()),V=computed(()=>{const le=[];Object.keys($.value).length==0&&le.push({key:v4$1(),paramsKey:"",paramsValue:""});for(const ue in $.value)if(Object.prototype.hasOwnProperty.call($.value,ue)){const de=$.value[ue];le.push({key:v4$1(),paramsKey:ue,paramsValue:de})}return le}),oe=()=>{const le={};V.value.forEach(ue=>{le[ue.paramsKey]=ue.paramsValue}),n("update:data",le)},ae=()=>{V.value.unshift({key:v4$1(),paramsKey:"",paramsValue:""}),L.value=v4$1()},re=le=>{const ue=V.value.findIndex(de=>de.key==le.key);V.value.splice(ue,1),L.value=v4$1(),oe()};return(le,ue)=>{const de=ElInput,he=ElTableColumn,pe=ElTable;return openBlock(),createBlock(pe,{key:L.value,data:unref(V)},{default:withCtx(()=>[createVNode$2(he,{prop:"paramsKey",label:"\u53C2\u6570\u540D"},{default:withCtx(_e=>[createVNode$2(de,{modelValue:_e.row.paramsKey,"onUpdate:modelValue":$e=>_e.row.paramsKey=$e,onChange:oe},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),createVNode$2(he,{prop:"paramsValue",label:"\u53C2\u6570\u503C"},{default:withCtx(_e=>[createVNode$2(de,{modelValue:_e.row.paramsValue,"onUpdate:modelValue":$e=>_e.row.paramsValue=$e,onChange:oe},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),createVNode$2(he,{label:"\u64CD\u4F5C"},{default:withCtx(_e=>[createBaseVNode("span",{class:"opt",onClick:ue[0]||(ue[0]=$e=>ae())}," + "),createBaseVNode("span",{class:"opt",onClick:$e=>re(_e.row)}," - ",8,_hoisted_1$7)]),_:1})]),_:1},8,["data"])}}}),ReqTable_vue_vue_type_style_index_0_scoped_b4fdbe51_lang="",ReqTable=_export_sfc$2(_sfc_main$a,[["__scopeId","data-v-b4fdbe51"]]),__default__$6=defineComponent({name:"EvReq"}),_sfc_main$9=defineComponent({...__default__$6,props:{reqForm:{type:Object,required:!0}},emits:["getReqData"],setup(g,{expose:n,emit:r}){const $=g,{reqForm:L}=toRefs($),V=()=>{axios$3({...L.value}).then(oe=>{r("getReqData",oe)}).catch(oe=>{r("getReqData",oe)})};return n({onRefresh:V}),(oe,ae)=>{const re=ElInput,le=ElFormItem,ue=ElRadio,de=ElRadioGroup,he=ElButton,pe=ElForm;return openBlock(),createBlock(pe,{model:unref(L),"label-width":"100px"},{default:withCtx(()=>[createVNode$2(le,{prop:"url",label:"\u8BF7\u6C42\u5730\u5740"},{default:withCtx(()=>[createVNode$2(re,{modelValue:unref(L).url,"onUpdate:modelValue":ae[0]||(ae[0]=_e=>unref(L).url=_e)},null,8,["modelValue"])]),_:1}),createVNode$2(le,{prop:"method",label:"\u8BF7\u6C42\u65B9\u5F0F"},{default:withCtx(()=>[createVNode$2(de,{modelValue:unref(L).method,"onUpdate:modelValue":ae[1]||(ae[1]=_e=>unref(L).method=_e)},{default:withCtx(()=>[createVNode$2(ue,{label:"get"},{default:withCtx(()=>[createTextVNode(" GET ")]),_:1}),createVNode$2(ue,{label:"post"},{default:withCtx(()=>[createTextVNode(" POST ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),createVNode$2(le,{label:"headers"},{default:withCtx(()=>[createVNode$2(ReqTable,{data:unref(L).headers,"onUpdate:data":[ae[2]||(ae[2]=_e=>unref(L).headers=_e),ae[3]||(ae[3]=_e=>{unref(L).headers=_e})]},null,8,["data"])]),_:1}),unref(L).method=="get"?(openBlock(),createBlock(le,{key:0,label:"params\u53C2\u6570"},{default:withCtx(()=>[createVNode$2(ReqTable,{data:unref(L).params,"onUpdate:data":[ae[4]||(ae[4]=_e=>unref(L).params=_e),ae[5]||(ae[5]=_e=>{unref(L).params=_e})]},null,8,["data"])]),_:1})):(openBlock(),createBlock(le,{key:1,label:"body\u53C2\u6570"},{default:withCtx(()=>[createVNode$2(ReqTable,{data:unref(L).data,"onUpdate:data":[ae[6]||(ae[6]=_e=>unref(L).data=_e),ae[7]||(ae[7]=_e=>{unref(L).data=_e})]},null,8,["data"])]),_:1})),createVNode$2(le,null,{default:withCtx(()=>[createVNode$2(he,{onClick:V},{default:withCtx(()=>[createTextVNode(" \u5237\u65B0\u6570\u636E ")]),_:1})]),_:1})]),_:1},8,["model"])}}}),__vite_glob_1_6=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$9},Symbol.toStringTag,{value:"Module"})),_hoisted_1$6={class:"ev_title_container"},_hoisted_2$2={class:"ev_title_text"},__default__$5=defineComponent({name:"EvTitle"}),_sfc_main$8=defineComponent({...__default__$5,setup(g){return(n,r)=>(openBlock(),createElementBlock("div",_hoisted_1$6,[createBaseVNode("span",_hoisted_2$2,[renderSlot(n.$slots,"default",{},void 0,!0)]),renderSlot(n.$slots,"opt",{},void 0,!0)]))}}),EvTitle_vue_vue_type_style_index_0_scoped_67955e10_lang="",__unplugin_components_5=_export_sfc$2(_sfc_main$8,[["__scopeId","data-v-67955e10"]]),__vite_glob_1_7=Object.freeze(Object.defineProperty({__proto__:null,default:__unplugin_components_5},Symbol.toStringTag,{value:"Module"})),_hoisted_1$5=["onClick"],__default__$4=defineComponent({name:"ReqTable"}),_sfc_main$7=defineComponent({...__default__$4,props:{data:{type:Object,required:!0}},emits:["update:data"],setup(g,{emit:n}){const r=g,{data:$}=toRefs(r),L=ref(v4$1()),V=computed(()=>{const le=[];Object.keys($.value).length==0&&le.push({key:v4$1(),varKey:"",varValue:""});for(const ue in $.value)if(Object.prototype.hasOwnProperty.call($.value,ue)){const de=$.value[ue];le.push({key:v4$1(),varKey:ue,varValue:de})}return le}),oe=()=>{const le={};V.value.forEach(ue=>{le[ue.varKey]=ue.varValue}),n("update:data",le)},ae=()=>{V.value.unshift({key:v4$1(),varKey:"",varValue:""}),L.value=v4$1()},re=le=>{const ue=V.value.findIndex(de=>de.key==le.key);V.value.splice(ue,1),L.value=v4$1(),oe()};return(le,ue)=>{const de=ElInput,he=ElTableColumn,pe=ElTable;return openBlock(),createBlock(pe,{key:L.value,data:unref(V)},{default:withCtx(()=>[createVNode$2(he,{prop:"varKey",label:"\u53C2\u6570\u540D"},{default:withCtx(_e=>[createVNode$2(de,{modelValue:_e.row.varKey,"onUpdate:modelValue":$e=>_e.row.varKey=$e,onChange:oe},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),createVNode$2(he,{prop:"varValue",label:"\u53C2\u6570\u522B\u540D"},{default:withCtx(_e=>[createVNode$2(de,{modelValue:_e.row.varValue,"onUpdate:modelValue":$e=>_e.row.varValue=$e,onChange:oe},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),createVNode$2(he,{label:"\u64CD\u4F5C"},{default:withCtx(_e=>[createBaseVNode("span",{class:"opt",onClick:ue[0]||(ue[0]=$e=>ae())}," + "),createBaseVNode("span",{class:"opt",onClick:$e=>re(_e.row)}," - ",8,_hoisted_1$5)]),_:1})]),_:1},8,["data"])}}}),EvVar_vue_vue_type_style_index_0_scoped_00f05e19_lang="",__unplugin_components_7=_export_sfc$2(_sfc_main$7,[["__scopeId","data-v-00f05e19"]]),__vite_glob_1_8=Object.freeze(Object.defineProperty({__proto__:null,default:__unplugin_components_7},Symbol.toStringTag,{value:"Module"})),useSysStore=defineStore("sysStore",()=>{const g=ref("light"),n=reactive({sysName:"",sysLoginBackground:"",sysLogo:""});return{theme:g,sysConfig:n}}),__default__$3=defineComponent({name:"ToggleTheme"}),_sfc_main$6=defineComponent({...__default__$3,setup(g){const n=useSysStore(),{theme:r}=storeToRefs(n),$=V=>{const oe=V=="dark"?"light":"dark";document.documentElement.classList.replace(oe,V),localStorage.setItem("ev-theme",V),n.$patch({theme:V})},L=localStorage.getItem("ev-theme");return L&&n.$patch({theme:L}),document.documentElement.classList.add(r.value),(V,oe)=>{const ae=ElSwitch;return openBlock(),createBlock(ae,{"active-value":"dark","inactive-value":"light","model-value":unref(r),onChange:$},null,8,["model-value"])}}}),__vite_glob_1_9=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$6},Symbol.toStringTag,{value:"Module"})),install$U=async g=>{const n=Object.assign({"/src/directives/common/copy.ts":__vite_glob_0_0$1,"/src/directives/common/loading.ts":__vite_glob_0_1$1});for(const $ in n){const L=await n[$];await g.directive(L.default.name,L.default.options)}console.log("%c---------directives\u52A0\u8F7D\u5B8C\u6210---------","color:#ccc");const r=Object.assign({"/src/components/common/EvChart/EvChart.vue":__vite_glob_1_0,"/src/components/common/EvCode/EvCode.vue":__vite_glob_1_1,"/src/components/common/EvForm/EvForm.vue":__vite_glob_1_2,"/src/components/common/EvLoading/EvLoading.vue":__vite_glob_1_3,"/src/components/common/EvMenu/EvMenu.vue":__vite_glob_1_4,"/src/components/common/EvOptTable/EvOptTable.vue":__vite_glob_1_5,"/src/components/common/EvReq/EvReq.vue":__vite_glob_1_6,"/src/components/common/EvTitle/EvTitle.vue":__vite_glob_1_7,"/src/components/common/EvVar/EvVar.vue":__vite_glob_1_8,"/src/components/common/ToggleTheme/ToggleTheme.vue":__vite_glob_1_9});for(const $ in r){const L=r[$];await g.component(L.default.name,L.default)}console.log("%c---------components\u52A0\u8F7D\u5B8C\u6210---------","color:#ccc"),console.log("%c---------\u52A0\u8F7D\u5B8C\u6210\u{1F60A}---------","color:#ccc")},autoImport={install:install$U},scriptRel="modulepreload",assetsURL=function(g,n){return new URL(g,n).href},seen={},__vitePreload=function g(n,r,$){if(!r||r.length===0)return n();const L=document.getElementsByTagName("link");return Promise.all(r.map(V=>{if(V=assetsURL(V,$),V in seen)return;seen[V]=!0;const oe=V.endsWith(".css"),ae=oe?'[rel="stylesheet"]':"";if($)for(let le=L.length-1;le>=0;le--){const ue=L[le];if(ue.href===V&&(!oe||ue.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${V}"]${ae}`))return;const re=document.createElement("link");if(re.rel=oe?"stylesheet":scriptRel,oe||(re.as="script",re.crossOrigin=""),re.href=V,document.head.appendChild(re),oe)return new Promise((le,ue)=>{re.addEventListener("load",le),re.addEventListener("error",()=>ue(new Error(`Unable to preload CSS for ${V}`)))})})).then(()=>n())},_imports_0=""+new URL("ev-logo.2aad7776.jpg",import.meta.url).href,lodash={exports:{}},function(g,n){(function(){var r,$="4.17.21",L=200,V="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",oe="Expected a function",ae="Invalid `variable` option passed into `_.template`",re="__lodash_hash_undefined__",le=500,ue="__lodash_placeholder__",de=1,he=2,pe=4,_e=1,$e=2,xe=1,Oe=2,Ce=4,Ie=8,Ne=16,ze=32,Fe=64,Ue=128,At=256,Et=512,Pt=30,kt="...",Dt=800,Lt=16,hn=1,vn=2,_n=3,$n=1/0,Sn=9007199254740991,xn=17976931348623157e292,On=0/0,Cn=4294967295,An=Cn-1,Rn=Cn>>>1,Fn=[["ary",Ue],["bind",xe],["bindKey",Oe],["curry",Ie],["curryRight",Ne],["flip",Et],["partial",ze],["partialRight",Fe],["rearg",At]],Pn="[object Arguments]",Un="[object Array]",Dn="[object AsyncFunction]",kn="[object Boolean]",Nn="[object Date]",Vn="[object DOMException]",Ln="[object Error]",Tn="[object Function]",In="[object GeneratorFunction]",Bn="[object Map]",Qn="[object Number]",Zn="[object Null]",Kn="[object Object]",ui="[object Promise]",ei="[object Proxy]",si="[object RegExp]",ti="[object Set]",Jn="[object String]",di="[object Symbol]",mi="[object Undefined]",yi="[object WeakMap]",$i="[object WeakSet]",pi="[object ArrayBuffer]",Wn="[object DataView]",ii="[object Float32Array]",Hn="[object Float64Array]",oi="[object Int8Array]",zn="[object Int16Array]",Yn="[object Int32Array]",ai="[object Uint8Array]",hi="[object Uint8ClampedArray]",Ti="[object Uint16Array]",Bi="[object Uint32Array]",Gi=/\b__p \+= '';/g,eo=/\b(__p \+=) '' \+/g,ki=/(__e\(.*?\)|\b__t\)) \+\n'';/g,to=/&(?:amp|lt|gt|quot|#39);/g,uo=/[&<>"']/g,Io=RegExp(to.source),dc=RegExp(uo.source),hc=/<%-([\s\S]+?)%>/g,pc=/<%([\s\S]+?)%>/g,Ns=/<%=([\s\S]+?)%>/g,fc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mc=/^\w*$/,vc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tr=/[\\^$.*+?()[\]{}|]/g,yc=RegExp(Tr.source),Or=/^\s+/,gc=/\s/,$c=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Sc=/\{\n\/\* \[wrapped with (.+)\] \*/,xc=/,? & /,bc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Tc=/[()=,{}\[\]\/\s]/,Oc=/\\(\\)?/g,wc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Bs=/\w*$/,Cc=/^[-+]0x[0-9a-f]+$/i,Ac=/^0b[01]+$/i,Mc=/^\[object .+?Constructor\]$/,Ec=/^0o[0-7]+$/i,Pc=/^(?:0|[1-9]\d*)$/,Ic=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,La=/($^)/,kc=/['\n\r\u2028\u2029\\]/g,Na="\uD800-\uDFFF",Rc="\\u0300-\\u036f",Dc="\\ufe20-\\ufe2f",Lc="\\u20d0-\\u20ff",Fs=Rc+Dc+Lc,Vs="\\u2700-\\u27bf",zs="a-z\\xdf-\\xf6\\xf8-\\xff",Nc="\\xac\\xb1\\xd7\\xf7",Bc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Fc="\\u2000-\\u206f",Vc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gs="A-Z\\xc0-\\xd6\\xd8-\\xde",Hs="\\ufe0e\\ufe0f",Us=Nc+Bc+Fc+Vc,wr="['\u2019]",zc="["+Na+"]",Ws="["+Us+"]",Ba="["+Fs+"]",js="\\d+",Gc="["+Vs+"]",Qs="["+zs+"]",Ys="[^"+Na+Us+js+Vs+zs+Gs+"]",Cr="\uD83C[\uDFFB-\uDFFF]",Hc="(?:"+Ba+"|"+Cr+")",Zs="[^"+Na+"]",Ar="(?:\uD83C[\uDDE6-\uDDFF]){2}",Mr="[\uD800-\uDBFF][\uDC00-\uDFFF]",ra="["+Gs+"]",Xs="\\u200d",qs="(?:"+Qs+"|"+Ys+")",Uc="(?:"+ra+"|"+Ys+")",Ks="(?:"+wr+"(?:d|ll|m|re|s|t|ve))?",Js="(?:"+wr+"(?:D|LL|M|RE|S|T|VE))?",el=Hc+"?",tl="["+Hs+"]?",Wc="(?:"+Xs+"(?:"+[Zs,Ar,Mr].join("|")+")"+tl+el+")*",jc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Qc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",nl=tl+el+Wc,Yc="(?:"+[Gc,Ar,Mr].join("|")+")"+nl,Zc="(?:"+[Zs+Ba+"?",Ba,Ar,Mr,zc].join("|")+")",Xc=RegExp(wr,"g"),qc=RegExp(Ba,"g"),Er=RegExp(Cr+"(?="+Cr+")|"+Zc+nl,"g"),Kc=RegExp([ra+"?"+Qs+"+"+Ks+"(?="+[Ws,ra,"$"].join("|")+")",Uc+"+"+Js+"(?="+[Ws,ra+qs,"$"].join("|")+")",ra+"?"+qs+"+"+Ks,ra+"+"+Js,Qc,jc,js,Yc].join("|"),"g"),Jc=RegExp("["+Xs+Na+Fs+Hs+"]"),ed=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,td=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nd=-1,Vi={};Vi[ii]=Vi[Hn]=Vi[oi]=Vi[zn]=Vi[Yn]=Vi[ai]=Vi[hi]=Vi[Ti]=Vi[Bi]=!0,Vi[Pn]=Vi[Un]=Vi[pi]=Vi[kn]=Vi[Wn]=Vi[Nn]=Vi[Ln]=Vi[Tn]=Vi[Bn]=Vi[Qn]=Vi[Kn]=Vi[si]=Vi[ti]=Vi[Jn]=Vi[yi]=!1;var Fi={};Fi[Pn]=Fi[Un]=Fi[pi]=Fi[Wn]=Fi[kn]=Fi[Nn]=Fi[ii]=Fi[Hn]=Fi[oi]=Fi[zn]=Fi[Yn]=Fi[Bn]=Fi[Qn]=Fi[Kn]=Fi[si]=Fi[ti]=Fi[Jn]=Fi[di]=Fi[ai]=Fi[hi]=Fi[Ti]=Fi[Bi]=!0,Fi[Ln]=Fi[Tn]=Fi[yi]=!1;var od={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},ad={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},sd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ld=parseFloat,ud=parseInt,il=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,cd=typeof self=="object"&&self&&self.Object===Object&&self,Xi=il||cd||Function("return this")(),Pr=n&&!n.nodeType&&n,qo=Pr&&!0&&g&&!g.nodeType&&g,ol=qo&&qo.exports===Pr,Ir=ol&&il.process,yo=function(){try{var Xn=qo&&qo.require&&qo.require("util").types;return Xn||Ir&&Ir.binding&&Ir.binding("util")}catch{}}(),al=yo&&yo.isArrayBuffer,rl=yo&&yo.isDate,sl=yo&&yo.isMap,ll=yo&&yo.isRegExp,ul=yo&&yo.isSet,cl=yo&&yo.isTypedArray;function co(Xn,ri,ni){switch(ni.length){case 0:return Xn.call(ri);case 1:return Xn.call(ri,ni[0]);case 2:return Xn.call(ri,ni[0],ni[1]);case 3:return Xn.call(ri,ni[0],ni[1],ni[2])}return Xn.apply(ri,ni)}function dd(Xn,ri,ni,gi){for(var Oi=-1,Ri=Xn==null?0:Xn.length;++Oi<Ri;){var Qi=Xn[Oi];ri(gi,Qi,ni(Qi),Xn)}return gi}function go(Xn,ri){for(var ni=-1,gi=Xn==null?0:Xn.length;++ni<gi&&ri(Xn[ni],ni,Xn)!==!1;);return Xn}function hd(Xn,ri){for(var ni=Xn==null?0:Xn.length;ni--&&ri(Xn[ni],ni,Xn)!==!1;);return Xn}function dl(Xn,ri){for(var ni=-1,gi=Xn==null?0:Xn.length;++ni<gi;)if(!ri(Xn[ni],ni,Xn))return!1;return!0}function Go(Xn,ri){for(var ni=-1,gi=Xn==null?0:Xn.length,Oi=0,Ri=[];++ni<gi;){var Qi=Xn[ni];ri(Qi,ni,Xn)&&(Ri[Oi++]=Qi)}return Ri}function Fa(Xn,ri){var ni=Xn==null?0:Xn.length;return!!ni&&sa(Xn,ri,0)>-1}function kr(Xn,ri,ni){for(var gi=-1,Oi=Xn==null?0:Xn.length;++gi<Oi;)if(ni(ri,Xn[gi]))return!0;return!1}function zi(Xn,ri){for(var ni=-1,gi=Xn==null?0:Xn.length,Oi=Array(gi);++ni<gi;)Oi[ni]=ri(Xn[ni],ni,Xn);return Oi}function Ho(Xn,ri){for(var ni=-1,gi=ri.length,Oi=Xn.length;++ni<gi;)Xn[Oi+ni]=ri[ni];return Xn}function Rr(Xn,ri,ni,gi){var Oi=-1,Ri=Xn==null?0:Xn.length;for(gi&&Ri&&(ni=Xn[++Oi]);++Oi<Ri;)ni=ri(ni,Xn[Oi],Oi,Xn);return ni}function pd(Xn,ri,ni,gi){var Oi=Xn==null?0:Xn.length;for(gi&&Oi&&(ni=Xn[--Oi]);Oi--;)ni=ri(ni,Xn[Oi],Oi,Xn);return ni}function Dr(Xn,ri){for(var ni=-1,gi=Xn==null?0:Xn.length;++ni<gi;)if(ri(Xn[ni],ni,Xn))return!0;return!1}var fd=Lr("length");function md(Xn){return Xn.split("")}function vd(Xn){return Xn.match(bc)||[]}function hl(Xn,ri,ni){var gi;return ni(Xn,function(Oi,Ri,Qi){if(ri(Oi,Ri,Qi))return gi=Ri,!1}),gi}function Va(Xn,ri,ni,gi){for(var Oi=Xn.length,Ri=ni+(gi?1:-1);gi?Ri--:++Ri<Oi;)if(ri(Xn[Ri],Ri,Xn))return Ri;return-1}function sa(Xn,ri,ni){return ri===ri?Ad(Xn,ri,ni):Va(Xn,pl,ni)}function yd(Xn,ri,ni,gi){for(var Oi=ni-1,Ri=Xn.length;++Oi<Ri;)if(gi(Xn[Oi],ri))return Oi;return-1}function pl(Xn){return Xn!==Xn}function fl(Xn,ri){var ni=Xn==null?0:Xn.length;return ni?Br(Xn,ri)/ni:On}function Lr(Xn){return function(ri){return ri==null?r:ri[Xn]}}function Nr(Xn){return function(ri){return Xn==null?r:Xn[ri]}}function ml(Xn,ri,ni,gi,Oi){return Oi(Xn,function(Ri,Qi,Ni){ni=gi?(gi=!1,Ri):ri(ni,Ri,Qi,Ni)}),ni}function gd(Xn,ri){var ni=Xn.length;for(Xn.sort(ri);ni--;)Xn[ni]=Xn[ni].value;return Xn}function Br(Xn,ri){for(var ni,gi=-1,Oi=Xn.length;++gi<Oi;){var Ri=ri(Xn[gi]);Ri!==r&&(ni=ni===r?Ri:ni+Ri)}return ni}function Fr(Xn,ri){for(var ni=-1,gi=Array(Xn);++ni<Xn;)gi[ni]=ri(ni);return gi}function _d(Xn,ri){return zi(ri,function(ni){return[ni,Xn[ni]]})}function vl(Xn){return Xn&&Xn.slice(0,$l(Xn)+1).replace(Or,"")}function ho(Xn){return function(ri){return Xn(ri)}}function Vr(Xn,ri){return zi(ri,function(ni){return Xn[ni]})}function Sa(Xn,ri){return Xn.has(ri)}function yl(Xn,ri){for(var ni=-1,gi=Xn.length;++ni<gi&&sa(ri,Xn[ni],0)>-1;);return ni}function gl(Xn,ri){for(var ni=Xn.length;ni--&&sa(ri,Xn[ni],0)>-1;);return ni}function $d(Xn,ri){for(var ni=Xn.length,gi=0;ni--;)Xn[ni]===ri&&++gi;return gi}var Sd=Nr(od),xd=Nr(ad);function bd(Xn){return"\\"+sd[Xn]}function Td(Xn,ri){return Xn==null?r:Xn[ri]}function la(Xn){return Jc.test(Xn)}function Od(Xn){return ed.test(Xn)}function wd(Xn){for(var ri,ni=[];!(ri=Xn.next()).done;)ni.push(ri.value);return ni}function zr(Xn){var ri=-1,ni=Array(Xn.size);return Xn.forEach(function(gi,Oi){ni[++ri]=[Oi,gi]}),ni}function _l(Xn,ri){return function(ni){return Xn(ri(ni))}}function Uo(Xn,ri){for(var ni=-1,gi=Xn.length,Oi=0,Ri=[];++ni<gi;){var Qi=Xn[ni];(Qi===ri||Qi===ue)&&(Xn[ni]=ue,Ri[Oi++]=ni)}return Ri}function za(Xn){var ri=-1,ni=Array(Xn.size);return Xn.forEach(function(gi){ni[++ri]=gi}),ni}function Cd(Xn){var ri=-1,ni=Array(Xn.size);return Xn.forEach(function(gi){ni[++ri]=[gi,gi]}),ni}function Ad(Xn,ri,ni){for(var gi=ni-1,Oi=Xn.length;++gi<Oi;)if(Xn[gi]===ri)return gi;return-1}function Md(Xn,ri,ni){for(var gi=ni+1;gi--;)if(Xn[gi]===ri)return gi;return gi}function ua(Xn){return la(Xn)?Pd(Xn):fd(Xn)}function Oo(Xn){return la(Xn)?Id(Xn):md(Xn)}function $l(Xn){for(var ri=Xn.length;ri--&&gc.test(Xn.charAt(ri)););return ri}var Ed=Nr(rd);function Pd(Xn){for(var ri=Er.lastIndex=0;Er.test(Xn);)++ri;return ri}function Id(Xn){return Xn.match(Er)||[]}function kd(Xn){return Xn.match(Kc)||[]}var Rd=function Xn(ri){ri=ri==null?Xi:ca.defaults(Xi.Object(),ri,ca.pick(Xi,td));var ni=ri.Array,gi=ri.Date,Oi=ri.Error,Ri=ri.Function,Qi=ri.Math,Ni=ri.Object,Gr=ri.RegExp,Dd=ri.String,_o=ri.TypeError,Ga=ni.prototype,Ld=Ri.prototype,da=Ni.prototype,Ha=ri["__core-js_shared__"],Ua=Ld.toString,Li=da.hasOwnProperty,Nd=0,Sl=function(){var Ve=/[^.]+$/.exec(Ha&&Ha.keys&&Ha.keys.IE_PROTO||"");return Ve?"Symbol(src)_1."+Ve:""}(),Wa=da.toString,Bd=Ua.call(Ni),Fd=Xi._,Vd=Gr("^"+Ua.call(Li).replace(Tr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ja=ol?ri.Buffer:r,Wo=ri.Symbol,Qa=ri.Uint8Array,xl=ja?ja.allocUnsafe:r,Ya=_l(Ni.getPrototypeOf,Ni),bl=Ni.create,Tl=da.propertyIsEnumerable,Za=Ga.splice,Ol=Wo?Wo.isConcatSpreadable:r,xa=Wo?Wo.iterator:r,Ko=Wo?Wo.toStringTag:r,Xa=function(){try{var Ve=ia(Ni,"defineProperty");return Ve({},"",{}),Ve}catch{}}(),zd=ri.clearTimeout!==Xi.clearTimeout&&ri.clearTimeout,Gd=gi&&gi.now!==Xi.Date.now&&gi.now,Hd=ri.setTimeout!==Xi.setTimeout&&ri.setTimeout,qa=Qi.ceil,Ka=Qi.floor,Hr=Ni.getOwnPropertySymbols,Ud=ja?ja.isBuffer:r,wl=ri.isFinite,Wd=Ga.join,jd=_l(Ni.keys,Ni),Yi=Qi.max,Ki=Qi.min,Qd=gi.now,Yd=ri.parseInt,Cl=Qi.random,Zd=Ga.reverse,Ur=ia(ri,"DataView"),ba=ia(ri,"Map"),Wr=ia(ri,"Promise"),ha=ia(ri,"Set"),Ta=ia(ri,"WeakMap"),Oa=ia(Ni,"create"),Ja=Ta&&new Ta,pa={},Xd=oa(Ur),qd=oa(ba),Kd=oa(Wr),Jd=oa(ha),eh=oa(Ta),er=Wo?Wo.prototype:r,wa=er?er.valueOf:r,Al=er?er.toString:r;function Mn(Ve){if(Ui(Ve)&&!wi(Ve)&&!(Ve instanceof Pi)){if(Ve instanceof $o)return Ve;if(Li.call(Ve,"__wrapped__"))return Mu(Ve)}return new $o(Ve)}var fa=function(){function Ve(){}return function(qe){if(!Hi(qe))return{};if(bl)return bl(qe);Ve.prototype=qe;var jt=new Ve;return Ve.prototype=r,jt}}();function tr(){}function $o(Ve,qe){this.__wrapped__=Ve,this.__actions__=[],this.__chain__=!!qe,this.__index__=0,this.__values__=r}Mn.templateSettings={escape:hc,evaluate:pc,interpolate:Ns,variable:"",imports:{_:Mn}},Mn.prototype=tr.prototype,Mn.prototype.constructor=Mn,$o.prototype=fa(tr.prototype),$o.prototype.constructor=$o;function Pi(Ve){this.__wrapped__=Ve,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Cn,this.__views__=[]}function th(){var Ve=new Pi(this.__wrapped__);return Ve.__actions__=ao(this.__actions__),Ve.__dir__=this.__dir__,Ve.__filtered__=this.__filtered__,Ve.__iteratees__=ao(this.__iteratees__),Ve.__takeCount__=this.__takeCount__,Ve.__views__=ao(this.__views__),Ve}function nh(){if(this.__filtered__){var Ve=new Pi(this);Ve.__dir__=-1,Ve.__filtered__=!0}else Ve=this.clone(),Ve.__dir__*=-1;return Ve}function ih(){var Ve=this.__wrapped__.value(),qe=this.__dir__,jt=wi(Ve),bn=qe<0,wn=jt?Ve.length:0,En=mp(0,wn,this.__views__),Gn=En.start,jn=En.end,qn=jn-Gn,li=bn?jn:Gn-1,ci=this.__iteratees__,fi=ci.length,vi=0,_i=Ki(qn,this.__takeCount__);if(!jt||!bn&&wn==qn&&_i==qn)return Kl(Ve,this.__actions__);var xi=[];e:for(;qn--&&vi<_i;){li+=qe;for(var Ai=-1,bi=Ve[li];++Ai<fi;){var Ei=ci[Ai],Ii=Ei.iteratee,mo=Ei.type,oo=Ii(bi);if(mo==vn)bi=oo;else if(!oo){if(mo==hn)continue e;break e}}xi[vi++]=bi}return xi}Pi.prototype=fa(tr.prototype),Pi.prototype.constructor=Pi;function Jo(Ve){var qe=-1,jt=Ve==null?0:Ve.length;for(this.clear();++qe<jt;){var bn=Ve[qe];this.set(bn[0],bn[1])}}function oh(){this.__data__=Oa?Oa(null):{},this.size=0}function ah(Ve){var qe=this.has(Ve)&&delete this.__data__[Ve];return this.size-=qe?1:0,qe}function rh(Ve){var qe=this.__data__;if(Oa){var jt=qe[Ve];return jt===re?r:jt}return Li.call(qe,Ve)?qe[Ve]:r}function sh(Ve){var qe=this.__data__;return Oa?qe[Ve]!==r:Li.call(qe,Ve)}function lh(Ve,qe){var jt=this.__data__;return this.size+=this.has(Ve)?0:1,jt[Ve]=Oa&&qe===r?re:qe,this}Jo.prototype.clear=oh,Jo.prototype.delete=ah,Jo.prototype.get=rh,Jo.prototype.has=sh,Jo.prototype.set=lh;function ko(Ve){var qe=-1,jt=Ve==null?0:Ve.length;for(this.clear();++qe<jt;){var bn=Ve[qe];this.set(bn[0],bn[1])}}function uh(){this.__data__=[],this.size=0}function ch(Ve){var qe=this.__data__,jt=nr(qe,Ve);if(jt<0)return!1;var bn=qe.length-1;return jt==bn?qe.pop():Za.call(qe,jt,1),--this.size,!0}function dh(Ve){var qe=this.__data__,jt=nr(qe,Ve);return jt<0?r:qe[jt][1]}function hh(Ve){return nr(this.__data__,Ve)>-1}function ph(Ve,qe){var jt=this.__data__,bn=nr(jt,Ve);return bn<0?(++this.size,jt.push([Ve,qe])):jt[bn][1]=qe,this}ko.prototype.clear=uh,ko.prototype.delete=ch,ko.prototype.get=dh,ko.prototype.has=hh,ko.prototype.set=ph;function Ro(Ve){var qe=-1,jt=Ve==null?0:Ve.length;for(this.clear();++qe<jt;){var bn=Ve[qe];this.set(bn[0],bn[1])}}function fh(){this.size=0,this.__data__={hash:new Jo,map:new(ba||ko),string:new Jo}}function mh(Ve){var qe=fr(this,Ve).delete(Ve);return this.size-=qe?1:0,qe}function vh(Ve){return fr(this,Ve).get(Ve)}function yh(Ve){return fr(this,Ve).has(Ve)}function gh(Ve,qe){var jt=fr(this,Ve),bn=jt.size;return jt.set(Ve,qe),this.size+=jt.size==bn?0:1,this}Ro.prototype.clear=fh,Ro.prototype.delete=mh,Ro.prototype.get=vh,Ro.prototype.has=yh,Ro.prototype.set=gh;function ea(Ve){var qe=-1,jt=Ve==null?0:Ve.length;for(this.__data__=new Ro;++qe<jt;)this.add(Ve[qe])}function _h(Ve){return this.__data__.set(Ve,re),this}function $h(Ve){return this.__data__.has(Ve)}ea.prototype.add=ea.prototype.push=_h,ea.prototype.has=$h;function wo(Ve){var qe=this.__data__=new ko(Ve);this.size=qe.size}function Sh(){this.__data__=new ko,this.size=0}function xh(Ve){var qe=this.__data__,jt=qe.delete(Ve);return this.size=qe.size,jt}function bh(Ve){return this.__data__.get(Ve)}function Th(Ve){return this.__data__.has(Ve)}function Oh(Ve,qe){var jt=this.__data__;if(jt instanceof ko){var bn=jt.__data__;if(!ba||bn.length<L-1)return bn.push([Ve,qe]),this.size=++jt.size,this;jt=this.__data__=new Ro(bn)}return jt.set(Ve,qe),this.size=jt.size,this}wo.prototype.clear=Sh,wo.prototype.delete=xh,wo.prototype.get=bh,wo.prototype.has=Th,wo.prototype.set=Oh;function Ml(Ve,qe){var jt=wi(Ve),bn=!jt&&aa(Ve),wn=!jt&&!bn&&Xo(Ve),En=!jt&&!bn&&!wn&&ga(Ve),Gn=jt||bn||wn||En,jn=Gn?Fr(Ve.length,Dd):[],qn=jn.length;for(var li in Ve)(qe||Li.call(Ve,li))&&!(Gn&&(li=="length"||wn&&(li=="offset"||li=="parent")||En&&(li=="buffer"||li=="byteLength"||li=="byteOffset")||Bo(li,qn)))&&jn.push(li);return jn}function El(Ve){var qe=Ve.length;return qe?Ve[is(0,qe-1)]:r}function wh(Ve,qe){return mr(ao(Ve),ta(qe,0,Ve.length))}function Ch(Ve){return mr(ao(Ve))}function jr(Ve,qe,jt){(jt!==r&&!Co(Ve[qe],jt)||jt===r&&!(qe in Ve))&&Do(Ve,qe,jt)}function Ca(Ve,qe,jt){var bn=Ve[qe];(!(Li.call(Ve,qe)&&Co(bn,jt))||jt===r&&!(qe in Ve))&&Do(Ve,qe,jt)}function nr(Ve,qe){for(var jt=Ve.length;jt--;)if(Co(Ve[jt][0],qe))return jt;return-1}function Ah(Ve,qe,jt,bn){return jo(Ve,function(wn,En,Gn){qe(bn,wn,jt(wn),Gn)}),bn}function Pl(Ve,qe){return Ve&&Eo(qe,Zi(qe),Ve)}function Mh(Ve,qe){return Ve&&Eo(qe,so(qe),Ve)}function Do(Ve,qe,jt){qe=="__proto__"&&Xa?Xa(Ve,qe,{configurable:!0,enumerable:!0,value:jt,writable:!0}):Ve[qe]=jt}function Qr(Ve,qe){for(var jt=-1,bn=qe.length,wn=ni(bn),En=Ve==null;++jt<bn;)wn[jt]=En?r:As(Ve,qe[jt]);return wn}function ta(Ve,qe,jt){return Ve===Ve&&(jt!==r&&(Ve=Ve<=jt?Ve:jt),qe!==r&&(Ve=Ve>=qe?Ve:qe)),Ve}function So(Ve,qe,jt,bn,wn,En){var Gn,jn=qe&de,qn=qe&he,li=qe&pe;if(jt&&(Gn=wn?jt(Ve,bn,wn,En):jt(Ve)),Gn!==r)return Gn;if(!Hi(Ve))return Ve;var ci=wi(Ve);if(ci){if(Gn=yp(Ve),!jn)return ao(Ve,Gn)}else{var fi=Ji(Ve),vi=fi==Tn||fi==In;if(Xo(Ve))return tu(Ve,jn);if(fi==Kn||fi==Pn||vi&&!wn){if(Gn=qn||vi?{}:$u(Ve),!jn)return qn?rp(Ve,Mh(Gn,Ve)):ap(Ve,Pl(Gn,Ve))}else{if(!Fi[fi])return wn?Ve:{};Gn=gp(Ve,fi,jn)}}En||(En=new wo);var _i=En.get(Ve);if(_i)return _i;En.set(Ve,Gn),Zu(Ve)?Ve.forEach(function(bi){Gn.add(So(bi,qe,jt,bi,Ve,En))}):Qu(Ve)&&Ve.forEach(function(bi,Ei){Gn.set(Ei,So(bi,qe,jt,Ei,Ve,En))});var xi=li?qn?fs:ps:qn?so:Zi,Ai=ci?r:xi(Ve);return go(Ai||Ve,function(bi,Ei){Ai&&(Ei=bi,bi=Ve[Ei]),Ca(Gn,Ei,So(bi,qe,jt,Ei,Ve,En))}),Gn}function Eh(Ve){var qe=Zi(Ve);return function(jt){return Il(jt,Ve,qe)}}function Il(Ve,qe,jt){var bn=jt.length;if(Ve==null)return!bn;for(Ve=Ni(Ve);bn--;){var wn=jt[bn],En=qe[wn],Gn=Ve[wn];if(Gn===r&&!(wn in Ve)||!En(Gn))return!1}return!0}function kl(Ve,qe,jt){if(typeof Ve!="function")throw new _o(oe);return Ra(function(){Ve.apply(r,jt)},qe)}function Aa(Ve,qe,jt,bn){var wn=-1,En=Fa,Gn=!0,jn=Ve.length,qn=[],li=qe.length;if(!jn)return qn;jt&&(qe=zi(qe,ho(jt))),bn?(En=kr,Gn=!1):qe.length>=L&&(En=Sa,Gn=!1,qe=new ea(qe));e:for(;++wn<jn;){var ci=Ve[wn],fi=jt==null?ci:jt(ci);if(ci=bn||ci!==0?ci:0,Gn&&fi===fi){for(var vi=li;vi--;)if(qe[vi]===fi)continue e;qn.push(ci)}else En(qe,fi,bn)||qn.push(ci)}return qn}var jo=ru(Mo),Rl=ru(Zr,!0);function Ph(Ve,qe){var jt=!0;return jo(Ve,function(bn,wn,En){return jt=!!qe(bn,wn,En),jt}),jt}function ir(Ve,qe,jt){for(var bn=-1,wn=Ve.length;++bn<wn;){var En=Ve[bn],Gn=qe(En);if(Gn!=null&&(jn===r?Gn===Gn&&!fo(Gn):jt(Gn,jn)))var jn=Gn,qn=En}return qn}function Ih(Ve,qe,jt,bn){var wn=Ve.length;for(jt=Ci(jt),jt<0&&(jt=-jt>wn?0:wn+jt),bn=bn===r||bn>wn?wn:Ci(bn),bn<0&&(bn+=wn),bn=jt>bn?0:qu(bn);jt<bn;)Ve[jt++]=qe;return Ve}function Dl(Ve,qe){var jt=[];return jo(Ve,function(bn,wn,En){qe(bn,wn,En)&&jt.push(bn)}),jt}function qi(Ve,qe,jt,bn,wn){var En=-1,Gn=Ve.length;for(jt||(jt=$p),wn||(wn=[]);++En<Gn;){var jn=Ve[En];qe>0&&jt(jn)?qe>1?qi(jn,qe-1,jt,bn,wn):Ho(wn,jn):bn||(wn[wn.length]=jn)}return wn}var Yr=su(),Ll=su(!0);function Mo(Ve,qe){return Ve&&Yr(Ve,qe,Zi)}function Zr(Ve,qe){return Ve&&Ll(Ve,qe,Zi)}function or(Ve,qe){return Go(qe,function(jt){return Fo(Ve[jt])})}function na(Ve,qe){qe=Yo(qe,Ve);for(var jt=0,bn=qe.length;Ve!=null&&jt<bn;)Ve=Ve[Po(qe[jt++])];return jt&&jt==bn?Ve:r}function Nl(Ve,qe,jt){var bn=qe(Ve);return wi(Ve)?bn:Ho(bn,jt(Ve))}function no(Ve){return Ve==null?Ve===r?mi:Zn:Ko&&Ko in Ni(Ve)?fp(Ve):Cp(Ve)}function Xr(Ve,qe){return Ve>qe}function kh(Ve,qe){return Ve!=null&&Li.call(Ve,qe)}function Rh(Ve,qe){return Ve!=null&&qe in Ni(Ve)}function Dh(Ve,qe,jt){return Ve>=Ki(qe,jt)&&Ve<Yi(qe,jt)}function qr(Ve,qe,jt){for(var bn=jt?kr:Fa,wn=Ve[0].length,En=Ve.length,Gn=En,jn=ni(En),qn=1/0,li=[];Gn--;){var ci=Ve[Gn];Gn&&qe&&(ci=zi(ci,ho(qe))),qn=Ki(ci.length,qn),jn[Gn]=!jt&&(qe||wn>=120&&ci.length>=120)?new ea(Gn&&ci):r}ci=Ve[0];var fi=-1,vi=jn[0];e:for(;++fi<wn&&li.length<qn;){var _i=ci[fi],xi=qe?qe(_i):_i;if(_i=jt||_i!==0?_i:0,!(vi?Sa(vi,xi):bn(li,xi,jt))){for(Gn=En;--Gn;){var Ai=jn[Gn];if(!(Ai?Sa(Ai,xi):bn(Ve[Gn],xi,jt)))continue e}vi&&vi.push(xi),li.push(_i)}}return li}function Lh(Ve,qe,jt,bn){return Mo(Ve,function(wn,En,Gn){qe(bn,jt(wn),En,Gn)}),bn}function Ma(Ve,qe,jt){qe=Yo(qe,Ve),Ve=Tu(Ve,qe);var bn=Ve==null?Ve:Ve[Po(bo(qe))];return bn==null?r:co(bn,Ve,jt)}function Bl(Ve){return Ui(Ve)&&no(Ve)==Pn}function Nh(Ve){return Ui(Ve)&&no(Ve)==pi}function Bh(Ve){return Ui(Ve)&&no(Ve)==Nn}function Ea(Ve,qe,jt,bn,wn){return Ve===qe?!0:Ve==null||qe==null||!Ui(Ve)&&!Ui(qe)?Ve!==Ve&&qe!==qe:Fh(Ve,qe,jt,bn,Ea,wn)}function Fh(Ve,qe,jt,bn,wn,En){var Gn=wi(Ve),jn=wi(qe),qn=Gn?Un:Ji(Ve),li=jn?Un:Ji(qe);qn=qn==Pn?Kn:qn,li=li==Pn?Kn:li;var ci=qn==Kn,fi=li==Kn,vi=qn==li;if(vi&&Xo(Ve)){if(!Xo(qe))return!1;Gn=!0,ci=!1}if(vi&&!ci)return En||(En=new wo),Gn||ga(Ve)?yu(Ve,qe,jt,bn,wn,En):hp(Ve,qe,qn,jt,bn,wn,En);if(!(jt&_e)){var _i=ci&&Li.call(Ve,"__wrapped__"),xi=fi&&Li.call(qe,"__wrapped__");if(_i||xi){var Ai=_i?Ve.value():Ve,bi=xi?qe.value():qe;return En||(En=new wo),wn(Ai,bi,jt,bn,En)}}return vi?(En||(En=new wo),pp(Ve,qe,jt,bn,wn,En)):!1}function Vh(Ve){return Ui(Ve)&&Ji(Ve)==Bn}function Kr(Ve,qe,jt,bn){var wn=jt.length,En=wn,Gn=!bn;if(Ve==null)return!En;for(Ve=Ni(Ve);wn--;){var jn=jt[wn];if(Gn&&jn[2]?jn[1]!==Ve[jn[0]]:!(jn[0]in Ve))return!1}for(;++wn<En;){jn=jt[wn];var qn=jn[0],li=Ve[qn],ci=jn[1];if(Gn&&jn[2]){if(li===r&&!(qn in Ve))return!1}else{var fi=new wo;if(bn)var vi=bn(li,ci,qn,Ve,qe,fi);if(!(vi===r?Ea(ci,li,_e|$e,bn,fi):vi))return!1}}return!0}function Fl(Ve){if(!Hi(Ve)||xp(Ve))return!1;var qe=Fo(Ve)?Vd:Mc;return qe.test(oa(Ve))}function zh(Ve){return Ui(Ve)&&no(Ve)==si}function Gh(Ve){return Ui(Ve)&&Ji(Ve)==ti}function Hh(Ve){return Ui(Ve)&&Sr(Ve.length)&&!!Vi[no(Ve)]}function Vl(Ve){return typeof Ve=="function"?Ve:Ve==null?lo:typeof Ve=="object"?wi(Ve)?Hl(Ve[0],Ve[1]):Gl(Ve):lc(Ve)}function Jr(Ve){if(!ka(Ve))return jd(Ve);var qe=[];for(var jt in Ni(Ve))Li.call(Ve,jt)&&jt!="constructor"&&qe.push(jt);return qe}function Uh(Ve){if(!Hi(Ve))return wp(Ve);var qe=ka(Ve),jt=[];for(var bn in Ve)bn=="constructor"&&(qe||!Li.call(Ve,bn))||jt.push(bn);return jt}function es(Ve,qe){return Ve<qe}function zl(Ve,qe){var jt=-1,bn=ro(Ve)?ni(Ve.length):[];return jo(Ve,function(wn,En,Gn){bn[++jt]=qe(wn,En,Gn)}),bn}function Gl(Ve){var qe=vs(Ve);return qe.length==1&&qe[0][2]?xu(qe[0][0],qe[0][1]):function(jt){return jt===Ve||Kr(jt,Ve,qe)}}function Hl(Ve,qe){return gs(Ve)&&Su(qe)?xu(Po(Ve),qe):function(jt){var bn=As(jt,Ve);return bn===r&&bn===qe?Ms(jt,Ve):Ea(qe,bn,_e|$e)}}function ar(Ve,qe,jt,bn,wn){Ve!==qe&&Yr(qe,function(En,Gn){if(wn||(wn=new wo),Hi(En))Wh(Ve,qe,Gn,jt,ar,bn,wn);else{var jn=bn?bn($s(Ve,Gn),En,Gn+"",Ve,qe,wn):r;jn===r&&(jn=En),jr(Ve,Gn,jn)}},so)}function Wh(Ve,qe,jt,bn,wn,En,Gn){var jn=$s(Ve,jt),qn=$s(qe,jt),li=Gn.get(qn);if(li){jr(Ve,jt,li);return}var ci=En?En(jn,qn,jt+"",Ve,qe,Gn):r,fi=ci===r;if(fi){var vi=wi(qn),_i=!vi&&Xo(qn),xi=!vi&&!_i&&ga(qn);ci=qn,vi||_i||xi?wi(jn)?ci=jn:Wi(jn)?ci=ao(jn):_i?(fi=!1,ci=tu(qn,!0)):xi?(fi=!1,ci=nu(qn,!0)):ci=[]:Da(qn)||aa(qn)?(ci=jn,aa(jn)?ci=Ku(jn):(!Hi(jn)||Fo(jn))&&(ci=$u(qn))):fi=!1}fi&&(Gn.set(qn,ci),wn(ci,qn,bn,En,Gn),Gn.delete(qn)),jr(Ve,jt,ci)}function Ul(Ve,qe){var jt=Ve.length;if(jt)return qe+=qe<0?jt:0,Bo(qe,jt)?Ve[qe]:r}function Wl(Ve,qe,jt){qe.length?qe=zi(qe,function(En){return wi(En)?function(Gn){return na(Gn,En.length===1?En[0]:En)}:En}):qe=[lo];var bn=-1;qe=zi(qe,ho(Si()));var wn=zl(Ve,function(En,Gn,jn){var qn=zi(qe,function(li){return li(En)});return{criteria:qn,index:++bn,value:En}});return gd(wn,function(En,Gn){return op(En,Gn,jt)})}function jh(Ve,qe){return jl(Ve,qe,function(jt,bn){return Ms(Ve,bn)})}function jl(Ve,qe,jt){for(var bn=-1,wn=qe.length,En={};++bn<wn;){var Gn=qe[bn],jn=na(Ve,Gn);jt(jn,Gn)&&Pa(En,Yo(Gn,Ve),jn)}return En}function Qh(Ve){return function(qe){return na(qe,Ve)}}function ts(Ve,qe,jt,bn){var wn=bn?yd:sa,En=-1,Gn=qe.length,jn=Ve;for(Ve===qe&&(qe=ao(qe)),jt&&(jn=zi(Ve,ho(jt)));++En<Gn;)for(var qn=0,li=qe[En],ci=jt?jt(li):li;(qn=wn(jn,ci,qn,bn))>-1;)jn!==Ve&&Za.call(jn,qn,1),Za.call(Ve,qn,1);return Ve}function Ql(Ve,qe){for(var jt=Ve?qe.length:0,bn=jt-1;jt--;){var wn=qe[jt];if(jt==bn||wn!==En){var En=wn;Bo(wn)?Za.call(Ve,wn,1):rs(Ve,wn)}}return Ve}function is(Ve,qe){return Ve+Ka(Cl()*(qe-Ve+1))}function Yh(Ve,qe,jt,bn){for(var wn=-1,En=Yi(qa((qe-Ve)/(jt||1)),0),Gn=ni(En);En--;)Gn[bn?En:++wn]=Ve,Ve+=jt;return Gn}function os(Ve,qe){var jt="";if(!Ve||qe<1||qe>Sn)return jt;do qe%2&&(jt+=Ve),qe=Ka(qe/2),qe&&(Ve+=Ve);while(qe);return jt}function Mi(Ve,qe){return Ss(bu(Ve,qe,lo),Ve+"")}function Zh(Ve){return El($a(Ve))}function Xh(Ve,qe){var jt=$a(Ve);return mr(jt,ta(qe,0,jt.length))}function Pa(Ve,qe,jt,bn){if(!Hi(Ve))return Ve;qe=Yo(qe,Ve);for(var wn=-1,En=qe.length,Gn=En-1,jn=Ve;jn!=null&&++wn<En;){var qn=Po(qe[wn]),li=jt;if(qn==="__proto__"||qn==="constructor"||qn==="prototype")return Ve;if(wn!=Gn){var ci=jn[qn];li=bn?bn(ci,qn,jn):r,li===r&&(li=Hi(ci)?ci:Bo(qe[wn+1])?[]:{})}Ca(jn,qn,li),jn=jn[qn]}return Ve}var Yl=Ja?function(Ve,qe){return Ja.set(Ve,qe),Ve}:lo,qh=Xa?function(Ve,qe){return Xa(Ve,"toString",{configurable:!0,enumerable:!1,value:Ps(qe),writable:!0})}:lo;function Kh(Ve){return mr($a(Ve))}function xo(Ve,qe,jt){var bn=-1,wn=Ve.length;qe<0&&(qe=-qe>wn?0:wn+qe),jt=jt>wn?wn:jt,jt<0&&(jt+=wn),wn=qe>jt?0:jt-qe>>>0,qe>>>=0;for(var En=ni(wn);++bn<wn;)En[bn]=Ve[bn+qe];return En}function Jh(Ve,qe){var jt;return jo(Ve,function(bn,wn,En){return jt=qe(bn,wn,En),!jt}),!!jt}function rr(Ve,qe,jt){var bn=0,wn=Ve==null?bn:Ve.length;if(typeof qe=="number"&&qe===qe&&wn<=Rn){for(;bn<wn;){var En=bn+wn>>>1,Gn=Ve[En];Gn!==null&&!fo(Gn)&&(jt?Gn<=qe:Gn<qe)?bn=En+1:wn=En}return wn}return as(Ve,qe,lo,jt)}function as(Ve,qe,jt,bn){var wn=0,En=Ve==null?0:Ve.length;if(En===0)return 0;qe=jt(qe);for(var Gn=qe!==qe,jn=qe===null,qn=fo(qe),li=qe===r;wn<En;){var ci=Ka((wn+En)/2),fi=jt(Ve[ci]),vi=fi!==r,_i=fi===null,xi=fi===fi,Ai=fo(fi);if(Gn)var bi=bn||xi;else li?bi=xi&&(bn||vi):jn?bi=xi&&vi&&(bn||!_i):qn?bi=xi&&vi&&!_i&&(bn||!Ai):_i||Ai?bi=!1:bi=bn?fi<=qe:fi<qe;bi?wn=ci+1:En=ci}return Ki(En,An)}function Zl(Ve,qe){for(var jt=-1,bn=Ve.length,wn=0,En=[];++jt<bn;){var Gn=Ve[jt],jn=qe?qe(Gn):Gn;if(!jt||!Co(jn,qn)){var qn=jn;En[wn++]=Gn===0?0:Gn}}return En}function Xl(Ve){return typeof Ve=="number"?Ve:fo(Ve)?On:+Ve}function po(Ve){if(typeof Ve=="string")return Ve;if(wi(Ve))return zi(Ve,po)+"";if(fo(Ve))return Al?Al.call(Ve):"";var qe=Ve+"";return qe=="0"&&1/Ve==-$n?"-0":qe}function Qo(Ve,qe,jt){var bn=-1,wn=Fa,En=Ve.length,Gn=!0,jn=[],qn=jn;if(jt)Gn=!1,wn=kr;else if(En>=L){var li=qe?null:cp(Ve);if(li)return za(li);Gn=!1,wn=Sa,qn=new ea}else qn=qe?[]:jn;e:for(;++bn<En;){var ci=Ve[bn],fi=qe?qe(ci):ci;if(ci=jt||ci!==0?ci:0,Gn&&fi===fi){for(var vi=qn.length;vi--;)if(qn[vi]===fi)continue e;qe&&qn.push(fi),jn.push(ci)}else wn(qn,fi,jt)||(qn!==jn&&qn.push(fi),jn.push(ci))}return jn}function rs(Ve,qe){return qe=Yo(qe,Ve),Ve=Tu(Ve,qe),Ve==null||delete Ve[Po(bo(qe))]}function ql(Ve,qe,jt,bn){return Pa(Ve,qe,jt(na(Ve,qe)),bn)}function sr(Ve,qe,jt,bn){for(var wn=Ve.length,En=bn?wn:-1;(bn?En--:++En<wn)&&qe(Ve[En],En,Ve););return jt?xo(Ve,bn?0:En,bn?En+1:wn):xo(Ve,bn?En+1:0,bn?wn:En)}function Kl(Ve,qe){var jt=Ve;return jt instanceof Pi&&(jt=jt.value()),Rr(qe,function(bn,wn){return wn.func.apply(wn.thisArg,Ho([bn],wn.args))},jt)}function ss(Ve,qe,jt){var bn=Ve.length;if(bn<2)return bn?Qo(Ve[0]):[];for(var wn=-1,En=ni(bn);++wn<bn;)for(var Gn=Ve[wn],jn=-1;++jn<bn;)jn!=wn&&(En[wn]=Aa(En[wn]||Gn,Ve[jn],qe,jt));return Qo(qi(En,1),qe,jt)}function Jl(Ve,qe,jt){for(var bn=-1,wn=Ve.length,En=qe.length,Gn={};++bn<wn;){var jn=bn<En?qe[bn]:r;jt(Gn,Ve[bn],jn)}return Gn}function ls(Ve){return Wi(Ve)?Ve:[]}function us(Ve){return typeof Ve=="function"?Ve:lo}function Yo(Ve,qe){return wi(Ve)?Ve:gs(Ve,qe)?[Ve]:Au(Di(Ve))}var ep=Mi;function Zo(Ve,qe,jt){var bn=Ve.length;return jt=jt===r?bn:jt,!qe&&jt>=bn?Ve:xo(Ve,qe,jt)}var eu=zd||function(Ve){return Xi.clearTimeout(Ve)};function tu(Ve,qe){if(qe)return Ve.slice();var jt=Ve.length,bn=xl?xl(jt):new Ve.constructor(jt);return Ve.copy(bn),bn}function cs(Ve){var qe=new Ve.constructor(Ve.byteLength);return new Qa(qe).set(new Qa(Ve)),qe}function tp(Ve,qe){var jt=qe?cs(Ve.buffer):Ve.buffer;return new Ve.constructor(jt,Ve.byteOffset,Ve.byteLength)}function np(Ve){var qe=new Ve.constructor(Ve.source,Bs.exec(Ve));return qe.lastIndex=Ve.lastIndex,qe}function ip(Ve){return wa?Ni(wa.call(Ve)):{}}function nu(Ve,qe){var jt=qe?cs(Ve.buffer):Ve.buffer;return new Ve.constructor(jt,Ve.byteOffset,Ve.length)}function iu(Ve,qe){if(Ve!==qe){var jt=Ve!==r,bn=Ve===null,wn=Ve===Ve,En=fo(Ve),Gn=qe!==r,jn=qe===null,qn=qe===qe,li=fo(qe);if(!jn&&!li&&!En&&Ve>qe||En&&Gn&&qn&&!jn&&!li||bn&&Gn&&qn||!jt&&qn||!wn)return 1;if(!bn&&!En&&!li&&Ve<qe||li&&jt&&wn&&!bn&&!En||jn&&jt&&wn||!Gn&&wn||!qn)return-1}return 0}function op(Ve,qe,jt){for(var bn=-1,wn=Ve.criteria,En=qe.criteria,Gn=wn.length,jn=jt.length;++bn<Gn;){var qn=iu(wn[bn],En[bn]);if(qn){if(bn>=jn)return qn;var li=jt[bn];return qn*(li=="desc"?-1:1)}}return Ve.index-qe.index}function ou(Ve,qe,jt,bn){for(var wn=-1,En=Ve.length,Gn=jt.length,jn=-1,qn=qe.length,li=Yi(En-Gn,0),ci=ni(qn+li),fi=!bn;++jn<qn;)ci[jn]=qe[jn];for(;++wn<Gn;)(fi||wn<En)&&(ci[jt[wn]]=Ve[wn]);for(;li--;)ci[jn++]=Ve[wn++];return ci}function au(Ve,qe,jt,bn){for(var wn=-1,En=Ve.length,Gn=-1,jn=jt.length,qn=-1,li=qe.length,ci=Yi(En-jn,0),fi=ni(ci+li),vi=!bn;++wn<ci;)fi[wn]=Ve[wn];for(var _i=wn;++qn<li;)fi[_i+qn]=qe[qn];for(;++Gn<jn;)(vi||wn<En)&&(fi[_i+jt[Gn]]=Ve[wn++]);return fi}function ao(Ve,qe){var jt=-1,bn=Ve.length;for(qe||(qe=ni(bn));++jt<bn;)qe[jt]=Ve[jt];return qe}function Eo(Ve,qe,jt,bn){var wn=!jt;jt||(jt={});for(var En=-1,Gn=qe.length;++En<Gn;){var jn=qe[En],qn=bn?bn(jt[jn],Ve[jn],jn,jt,Ve):r;qn===r&&(qn=Ve[jn]),wn?Do(jt,jn,qn):Ca(jt,jn,qn)}return jt}function ap(Ve,qe){return Eo(Ve,ys(Ve),qe)}function rp(Ve,qe){return Eo(Ve,gu(Ve),qe)}function lr(Ve,qe){return function(jt,bn){var wn=wi(jt)?dd:Ah,En=qe?qe():{};return wn(jt,Ve,Si(bn,2),En)}}function ma(Ve){return Mi(function(qe,jt){var bn=-1,wn=jt.length,En=wn>1?jt[wn-1]:r,Gn=wn>2?jt[2]:r;for(En=Ve.length>3&&typeof En=="function"?(wn--,En):r,Gn&&io(jt[0],jt[1],Gn)&&(En=wn<3?r:En,wn=1),qe=Ni(qe);++bn<wn;){var jn=jt[bn];jn&&Ve(qe,jn,bn,En)}return qe})}function ru(Ve,qe){return function(jt,bn){if(jt==null)return jt;if(!ro(jt))return Ve(jt,bn);for(var wn=jt.length,En=qe?wn:-1,Gn=Ni(jt);(qe?En--:++En<wn)&&bn(Gn[En],En,Gn)!==!1;);return jt}}function su(Ve){return function(qe,jt,bn){for(var wn=-1,En=Ni(qe),Gn=bn(qe),jn=Gn.length;jn--;){var qn=Gn[Ve?jn:++wn];if(jt(En[qn],qn,En)===!1)break}return qe}}function sp(Ve,qe,jt){var bn=qe&xe,wn=Ia(Ve);function En(){var Gn=this&&this!==Xi&&this instanceof En?wn:Ve;return Gn.apply(bn?jt:this,arguments)}return En}function lu(Ve){return function(qe){qe=Di(qe);var jt=la(qe)?Oo(qe):r,bn=jt?jt[0]:qe.charAt(0),wn=jt?Zo(jt,1).join(""):qe.slice(1);return bn[Ve]()+wn}}function va(Ve){return function(qe){return Rr(rc(ac(qe).replace(Xc,"")),Ve,"")}}function Ia(Ve){return function(){var qe=arguments;switch(qe.length){case 0:return new Ve;case 1:return new Ve(qe[0]);case 2:return new Ve(qe[0],qe[1]);case 3:return new Ve(qe[0],qe[1],qe[2]);case 4:return new Ve(qe[0],qe[1],qe[2],qe[3]);case 5:return new Ve(qe[0],qe[1],qe[2],qe[3],qe[4]);case 6:return new Ve(qe[0],qe[1],qe[2],qe[3],qe[4],qe[5]);case 7:return new Ve(qe[0],qe[1],qe[2],qe[3],qe[4],qe[5],qe[6])}var jt=fa(Ve.prototype),bn=Ve.apply(jt,qe);return Hi(bn)?bn:jt}}function lp(Ve,qe,jt){var bn=Ia(Ve);function wn(){for(var En=arguments.length,Gn=ni(En),jn=En,qn=ya(wn);jn--;)Gn[jn]=arguments[jn];var li=En<3&&Gn[0]!==qn&&Gn[En-1]!==qn?[]:Uo(Gn,qn);if(En-=li.length,En<jt)return pu(Ve,qe,ur,wn.placeholder,r,Gn,li,r,r,jt-En);var ci=this&&this!==Xi&&this instanceof wn?bn:Ve;return co(ci,this,Gn)}return wn}function uu(Ve){return function(qe,jt,bn){var wn=Ni(qe);if(!ro(qe)){var En=Si(jt,3);qe=Zi(qe),jt=function(jn){return En(wn[jn],jn,wn)}}var Gn=Ve(qe,jt,bn);return Gn>-1?wn[En?qe[Gn]:Gn]:r}}function cu(Ve){return No(function(qe){var jt=qe.length,bn=jt,wn=$o.prototype.thru;for(Ve&&qe.reverse();bn--;){var En=qe[bn];if(typeof En!="function")throw new _o(oe);if(wn&&!Gn&&pr(En)=="wrapper")var Gn=new $o([],!0)}for(bn=Gn?bn:jt;++bn<jt;){En=qe[bn];var jn=pr(En),qn=jn=="wrapper"?ms(En):r;qn&&_s(qn[0])&&qn[1]==(Ue|Ie|ze|At)&&!qn[4].length&&qn[9]==1?Gn=Gn[pr(qn[0])].apply(Gn,qn[3]):Gn=En.length==1&&_s(En)?Gn[jn]():Gn.thru(En)}return function(){var li=arguments,ci=li[0];if(Gn&&li.length==1&&wi(ci))return Gn.plant(ci).value();for(var fi=0,vi=jt?qe[fi].apply(this,li):ci;++fi<jt;)vi=qe[fi].call(this,vi);return vi}})}function ur(Ve,qe,jt,bn,wn,En,Gn,jn,qn,li){var ci=qe&Ue,fi=qe&xe,vi=qe&Oe,_i=qe&(Ie|Ne),xi=qe&Et,Ai=vi?r:Ia(Ve);function bi(){for(var Ei=arguments.length,Ii=ni(Ei),mo=Ei;mo--;)Ii[mo]=arguments[mo];if(_i)var oo=ya(bi),vo=$d(Ii,oo);if(bn&&(Ii=ou(Ii,bn,wn,_i)),En&&(Ii=au(Ii,En,Gn,_i)),Ei-=vo,_i&&Ei<li){var ji=Uo(Ii,oo);return pu(Ve,qe,ur,bi.placeholder,jt,Ii,ji,jn,qn,li-Ei)}var Ao=fi?jt:this,zo=vi?Ao[Ve]:Ve;return Ei=Ii.length,jn?Ii=Ap(Ii,jn):xi&&Ei>1&&Ii.reverse(),ci&&qn<Ei&&(Ii.length=qn),this&&this!==Xi&&this instanceof bi&&(zo=Ai||Ia(zo)),zo.apply(Ao,Ii)}return bi}function du(Ve,qe){return function(jt,bn){return Lh(jt,Ve,qe(bn),{})}}function cr(Ve,qe){return function(jt,bn){var wn;if(jt===r&&bn===r)return qe;if(jt!==r&&(wn=jt),bn!==r){if(wn===r)return bn;typeof jt=="string"||typeof bn=="string"?(jt=po(jt),bn=po(bn)):(jt=Xl(jt),bn=Xl(bn)),wn=Ve(jt,bn)}return wn}}function ds(Ve){return No(function(qe){return qe=zi(qe,ho(Si())),Mi(function(jt){var bn=this;return Ve(qe,function(wn){return co(wn,bn,jt)})})})}function dr(Ve,qe){qe=qe===r?" ":po(qe);var jt=qe.length;if(jt<2)return jt?os(qe,Ve):qe;var bn=os(qe,qa(Ve/ua(qe)));return la(qe)?Zo(Oo(bn),0,Ve).join(""):bn.slice(0,Ve)}function up(Ve,qe,jt,bn){var wn=qe&xe,En=Ia(Ve);function Gn(){for(var jn=-1,qn=arguments.length,li=-1,ci=bn.length,fi=ni(ci+qn),vi=this&&this!==Xi&&this instanceof Gn?En:Ve;++li<ci;)fi[li]=bn[li];for(;qn--;)fi[li++]=arguments[++jn];return co(vi,wn?jt:this,fi)}return Gn}function hu(Ve){return function(qe,jt,bn){return bn&&typeof bn!="number"&&io(qe,jt,bn)&&(jt=bn=r),qe=Vo(qe),jt===r?(jt=qe,qe=0):jt=Vo(jt),bn=bn===r?qe<jt?1:-1:Vo(bn),Yh(qe,jt,bn,Ve)}}function hr(Ve){return function(qe,jt){return typeof qe=="string"&&typeof jt=="string"||(qe=To(qe),jt=To(jt)),Ve(qe,jt)}}function pu(Ve,qe,jt,bn,wn,En,Gn,jn,qn,li){var ci=qe&Ie,fi=ci?Gn:r,vi=ci?r:Gn,_i=ci?En:r,xi=ci?r:En;qe|=ci?ze:Fe,qe&=~(ci?Fe:ze),qe&Ce||(qe&=~(xe|Oe));var Ai=[Ve,qe,wn,_i,fi,xi,vi,jn,qn,li],bi=jt.apply(r,Ai);return _s(Ve)&&Ou(bi,Ai),bi.placeholder=bn,wu(bi,Ve,qe)}function hs(Ve){var qe=Qi[Ve];return function(jt,bn){if(jt=To(jt),bn=bn==null?0:Ki(Ci(bn),292),bn&&wl(jt)){var wn=(Di(jt)+"e").split("e"),En=qe(wn[0]+"e"+(+wn[1]+bn));return wn=(Di(En)+"e").split("e"),+(wn[0]+"e"+(+wn[1]-bn))}return qe(jt)}}var cp=ha&&1/za(new ha([,-0]))[1]==$n?function(Ve){return new ha(Ve)}:Rs;function fu(Ve){return function(qe){var jt=Ji(qe);return jt==Bn?zr(qe):jt==ti?Cd(qe):_d(qe,Ve(qe))}}function Lo(Ve,qe,jt,bn,wn,En,Gn,jn){var qn=qe&Oe;if(!qn&&typeof Ve!="function")throw new _o(oe);var li=bn?bn.length:0;if(li||(qe&=~(ze|Fe),bn=wn=r),Gn=Gn===r?Gn:Yi(Ci(Gn),0),jn=jn===r?jn:Ci(jn),li-=wn?wn.length:0,qe&Fe){var ci=bn,fi=wn;bn=wn=r}var vi=qn?r:ms(Ve),_i=[Ve,qe,jt,bn,wn,ci,fi,En,Gn,jn];if(vi&&Op(_i,vi),Ve=_i[0],qe=_i[1],jt=_i[2],bn=_i[3],wn=_i[4],jn=_i[9]=_i[9]===r?qn?0:Ve.length:Yi(_i[9]-li,0),!jn&&qe&(Ie|Ne)&&(qe&=~(Ie|Ne)),!qe||qe==xe)var xi=sp(Ve,qe,jt);else qe==Ie||qe==Ne?xi=lp(Ve,qe,jn):(qe==ze||qe==(xe|ze))&&!wn.length?xi=up(Ve,qe,jt,bn):xi=ur.apply(r,_i);var Ai=vi?Yl:Ou;return wu(Ai(xi,_i),Ve,qe)}function mu(Ve,qe,jt,bn){return Ve===r||Co(Ve,da[jt])&&!Li.call(bn,jt)?qe:Ve}function vu(Ve,qe,jt,bn,wn,En){return Hi(Ve)&&Hi(qe)&&(En.set(qe,Ve),ar(Ve,qe,r,vu,En),En.delete(qe)),Ve}function dp(Ve){return Da(Ve)?r:Ve}function yu(Ve,qe,jt,bn,wn,En){var Gn=jt&_e,jn=Ve.length,qn=qe.length;if(jn!=qn&&!(Gn&&qn>jn))return!1;var li=En.get(Ve),ci=En.get(qe);if(li&&ci)return li==qe&&ci==Ve;var fi=-1,vi=!0,_i=jt&$e?new ea:r;for(En.set(Ve,qe),En.set(qe,Ve);++fi<jn;){var xi=Ve[fi],Ai=qe[fi];if(bn)var bi=Gn?bn(Ai,xi,fi,qe,Ve,En):bn(xi,Ai,fi,Ve,qe,En);if(bi!==r){if(bi)continue;vi=!1;break}if(_i){if(!Dr(qe,function(Ei,Ii){if(!Sa(_i,Ii)&&(xi===Ei||wn(xi,Ei,jt,bn,En)))return _i.push(Ii)})){vi=!1;break}}else if(!(xi===Ai||wn(xi,Ai,jt,bn,En))){vi=!1;break}}return En.delete(Ve),En.delete(qe),vi}function hp(Ve,qe,jt,bn,wn,En,Gn){switch(jt){case Wn:if(Ve.byteLength!=qe.byteLength||Ve.byteOffset!=qe.byteOffset)return!1;Ve=Ve.buffer,qe=qe.buffer;case pi:return!(Ve.byteLength!=qe.byteLength||!En(new Qa(Ve),new Qa(qe)));case kn:case Nn:case Qn:return Co(+Ve,+qe);case Ln:return Ve.name==qe.name&&Ve.message==qe.message;case si:case Jn:return Ve==qe+"";case Bn:var jn=zr;case ti:var qn=bn&_e;if(jn||(jn=za),Ve.size!=qe.size&&!qn)return!1;var li=Gn.get(Ve);if(li)return li==qe;bn|=$e,Gn.set(Ve,qe);var ci=yu(jn(Ve),jn(qe),bn,wn,En,Gn);return Gn.delete(Ve),ci;case di:if(wa)return wa.call(Ve)==wa.call(qe)}return!1}function pp(Ve,qe,jt,bn,wn,En){var Gn=jt&_e,jn=ps(Ve),qn=jn.length,li=ps(qe),ci=li.length;if(qn!=ci&&!Gn)return!1;for(var fi=qn;fi--;){var vi=jn[fi];if(!(Gn?vi in qe:Li.call(qe,vi)))return!1}var _i=En.get(Ve),xi=En.get(qe);if(_i&&xi)return _i==qe&&xi==Ve;var Ai=!0;En.set(Ve,qe),En.set(qe,Ve);for(var bi=Gn;++fi<qn;){vi=jn[fi];var Ei=Ve[vi],Ii=qe[vi];if(bn)var mo=Gn?bn(Ii,Ei,vi,qe,Ve,En):bn(Ei,Ii,vi,Ve,qe,En);if(!(mo===r?Ei===Ii||wn(Ei,Ii,jt,bn,En):mo)){Ai=!1;break}bi||(bi=vi=="constructor")}if(Ai&&!bi){var oo=Ve.constructor,vo=qe.constructor;oo!=vo&&"constructor"in Ve&&"constructor"in qe&&!(typeof oo=="function"&&oo instanceof oo&&typeof vo=="function"&&vo instanceof vo)&&(Ai=!1)}return En.delete(Ve),En.delete(qe),Ai}function No(Ve){return Ss(bu(Ve,r,Iu),Ve+"")}function ps(Ve){return Nl(Ve,Zi,ys)}function fs(Ve){return Nl(Ve,so,gu)}var ms=Ja?function(Ve){return Ja.get(Ve)}:Rs;function pr(Ve){for(var qe=Ve.name+"",jt=pa[qe],bn=Li.call(pa,qe)?jt.length:0;bn--;){var wn=jt[bn],En=wn.func;if(En==null||En==Ve)return wn.name}return qe}function ya(Ve){var qe=Li.call(Mn,"placeholder")?Mn:Ve;return qe.placeholder}function Si(){var Ve=Mn.iteratee||Is;return Ve=Ve===Is?Vl:Ve,arguments.length?Ve(arguments[0],arguments[1]):Ve}function fr(Ve,qe){var jt=Ve.__data__;return Sp(qe)?jt[typeof qe=="string"?"string":"hash"]:jt.map}function vs(Ve){for(var qe=Zi(Ve),jt=qe.length;jt--;){var bn=qe[jt],wn=Ve[bn];qe[jt]=[bn,wn,Su(wn)]}return qe}function ia(Ve,qe){var jt=Td(Ve,qe);return Fl(jt)?jt:r}function fp(Ve){var qe=Li.call(Ve,Ko),jt=Ve[Ko];try{Ve[Ko]=r;var bn=!0}catch{}var wn=Wa.call(Ve);return bn&&(qe?Ve[Ko]=jt:delete Ve[Ko]),wn}var ys=Hr?function(Ve){return Ve==null?[]:(Ve=Ni(Ve),Go(Hr(Ve),function(qe){return Tl.call(Ve,qe)}))}:Ds,gu=Hr?function(Ve){for(var qe=[];Ve;)Ho(qe,ys(Ve)),Ve=Ya(Ve);return qe}:Ds,Ji=no;(Ur&&Ji(new Ur(new ArrayBuffer(1)))!=Wn||ba&&Ji(new ba)!=Bn||Wr&&Ji(Wr.resolve())!=ui||ha&&Ji(new ha)!=ti||Ta&&Ji(new Ta)!=yi)&&(Ji=function(Ve){var qe=no(Ve),jt=qe==Kn?Ve.constructor:r,bn=jt?oa(jt):"";if(bn)switch(bn){case Xd:return Wn;case qd:return Bn;case Kd:return ui;case Jd:return ti;case eh:return yi}return qe});function mp(Ve,qe,jt){for(var bn=-1,wn=jt.length;++bn<wn;){var En=jt[bn],Gn=En.size;switch(En.type){case"drop":Ve+=Gn;break;case"dropRight":qe-=Gn;break;case"take":qe=Ki(qe,Ve+Gn);break;case"takeRight":Ve=Yi(Ve,qe-Gn);break}}return{start:Ve,end:qe}}function vp(Ve){var qe=Ve.match(Sc);return qe?qe[1].split(xc):[]}function _u(Ve,qe,jt){qe=Yo(qe,Ve);for(var bn=-1,wn=qe.length,En=!1;++bn<wn;){var Gn=Po(qe[bn]);if(!(En=Ve!=null&&jt(Ve,Gn)))break;Ve=Ve[Gn]}return En||++bn!=wn?En:(wn=Ve==null?0:Ve.length,!!wn&&Sr(wn)&&Bo(Gn,wn)&&(wi(Ve)||aa(Ve)))}function yp(Ve){var qe=Ve.length,jt=new Ve.constructor(qe);return qe&&typeof Ve[0]=="string"&&Li.call(Ve,"index")&&(jt.index=Ve.index,jt.input=Ve.input),jt}function $u(Ve){return typeof Ve.constructor=="function"&&!ka(Ve)?fa(Ya(Ve)):{}}function gp(Ve,qe,jt){var bn=Ve.constructor;switch(qe){case pi:return cs(Ve);case kn:case Nn:return new bn(+Ve);case Wn:return tp(Ve,jt);case ii:case Hn:case oi:case zn:case Yn:case ai:case hi:case Ti:case Bi:return nu(Ve,jt);case Bn:return new bn;case Qn:case Jn:return new bn(Ve);case si:return np(Ve);case ti:return new bn;case di:return ip(Ve)}}function _p(Ve,qe){var jt=qe.length;if(!jt)return Ve;var bn=jt-1;return qe[bn]=(jt>1?"& ":"")+qe[bn],qe=qe.join(jt>2?", ":" "),Ve.replace($c,`{
/* [wrapped with `+qe+`] */
`)}function $p(Ve){return wi(Ve)||aa(Ve)||!!(Ol&&Ve&&Ve[Ol])}function Bo(Ve,qe){var jt=typeof Ve;return qe=qe!=null?qe:Sn,!!qe&&(jt=="number"||jt!="symbol"&&Pc.test(Ve))&&Ve>-1&&Ve%1==0&&Ve<qe}function io(Ve,qe,jt){if(!Hi(jt))return!1;var bn=typeof qe;return(bn=="number"?ro(jt)&&Bo(qe,jt.length):bn=="string"&&qe in jt)?Co(jt[qe],Ve):!1}function gs(Ve,qe){if(wi(Ve))return!1;var jt=typeof Ve;return jt=="number"||jt=="symbol"||jt=="boolean"||Ve==null||fo(Ve)?!0:mc.test(Ve)||!fc.test(Ve)||qe!=null&&Ve in Ni(qe)}function Sp(Ve){var qe=typeof Ve;return qe=="string"||qe=="number"||qe=="symbol"||qe=="boolean"?Ve!=="__proto__":Ve===null}function _s(Ve){var qe=pr(Ve),jt=Mn[qe];if(typeof jt!="function"||!(qe in Pi.prototype))return!1;if(Ve===jt)return!0;var bn=ms(jt);return!!bn&&Ve===bn[0]}function xp(Ve){return!!Sl&&Sl in Ve}var bp=Ha?Fo:Ls;function ka(Ve){var qe=Ve&&Ve.constructor,jt=typeof qe=="function"&&qe.prototype||da;return Ve===jt}function Su(Ve){return Ve===Ve&&!Hi(Ve)}function xu(Ve,qe){return function(jt){return jt==null?!1:jt[Ve]===qe&&(qe!==r||Ve in Ni(jt))}}function Tp(Ve){var qe=_r(Ve,function(bn){return jt.size===le&&jt.clear(),bn}),jt=qe.cache;return qe}function Op(Ve,qe){var jt=Ve[1],bn=qe[1],wn=jt|bn,En=wn<(xe|Oe|Ue),Gn=bn==Ue&&jt==Ie||bn==Ue&&jt==At&&Ve[7].length<=qe[8]||bn==(Ue|At)&&qe[7].length<=qe[8]&&jt==Ie;if(!(En||Gn))return Ve;bn&xe&&(Ve[2]=qe[2],wn|=jt&xe?0:Ce);var jn=qe[3];if(jn){var qn=Ve[3];Ve[3]=qn?ou(qn,jn,qe[4]):jn,Ve[4]=qn?Uo(Ve[3],ue):qe[4]}return jn=qe[5],jn&&(qn=Ve[5],Ve[5]=qn?au(qn,jn,qe[6]):jn,Ve[6]=qn?Uo(Ve[5],ue):qe[6]),jn=qe[7],jn&&(Ve[7]=jn),bn&Ue&&(Ve[8]=Ve[8]==null?qe[8]:Ki(Ve[8],qe[8])),Ve[9]==null&&(Ve[9]=qe[9]),Ve[0]=qe[0],Ve[1]=wn,Ve}function wp(Ve){var qe=[];if(Ve!=null)for(var jt in Ni(Ve))qe.push(jt);return qe}function Cp(Ve){return Wa.call(Ve)}function bu(Ve,qe,jt){return qe=Yi(qe===r?Ve.length-1:qe,0),function(){for(var bn=arguments,wn=-1,En=Yi(bn.length-qe,0),Gn=ni(En);++wn<En;)Gn[wn]=bn[qe+wn];wn=-1;for(var jn=ni(qe+1);++wn<qe;)jn[wn]=bn[wn];return jn[qe]=jt(Gn),co(Ve,this,jn)}}function Tu(Ve,qe){return qe.length<2?Ve:na(Ve,xo(qe,0,-1))}function Ap(Ve,qe){for(var jt=Ve.length,bn=Ki(qe.length,jt),wn=ao(Ve);bn--;){var En=qe[bn];Ve[bn]=Bo(En,jt)?wn[En]:r}return Ve}function $s(Ve,qe){if(!(qe==="constructor"&&typeof Ve[qe]=="function")&&qe!="__proto__")return Ve[qe]}var Ou=Cu(Yl),Ra=Hd||function(Ve,qe){return Xi.setTimeout(Ve,qe)},Ss=Cu(qh);function wu(Ve,qe,jt){var bn=qe+"";return Ss(Ve,_p(bn,Mp(vp(bn),jt)))}function Cu(Ve){var qe=0,jt=0;return function(){var bn=Qd(),wn=Lt-(bn-jt);if(jt=bn,wn>0){if(++qe>=Dt)return arguments[0]}else qe=0;return Ve.apply(r,arguments)}}function mr(Ve,qe){var jt=-1,bn=Ve.length,wn=bn-1;for(qe=qe===r?bn:qe;++jt<qe;){var En=is(jt,wn),Gn=Ve[En];Ve[En]=Ve[jt],Ve[jt]=Gn}return Ve.length=qe,Ve}var Au=Tp(function(Ve){var qe=[];return Ve.charCodeAt(0)===46&&qe.push(""),Ve.replace(vc,function(jt,bn,wn,En){qe.push(wn?En.replace(Oc,"$1"):bn||jt)}),qe});function Po(Ve){if(typeof Ve=="string"||fo(Ve))return Ve;var qe=Ve+"";return qe=="0"&&1/Ve==-$n?"-0":qe}function oa(Ve){if(Ve!=null){try{return Ua.call(Ve)}catch{}try{return Ve+""}catch{}}return""}function Mp(Ve,qe){return go(Fn,function(jt){var bn="_."+jt[0];qe&jt[1]&&!Fa(Ve,bn)&&Ve.push(bn)}),Ve.sort()}function Mu(Ve){if(Ve instanceof Pi)return Ve.clone();var qe=new $o(Ve.__wrapped__,Ve.__chain__);return qe.__actions__=ao(Ve.__actions__),qe.__index__=Ve.__index__,qe.__values__=Ve.__values__,qe}function Ep(Ve,qe,jt){(jt?io(Ve,qe,jt):qe===r)?qe=1:qe=Yi(Ci(qe),0);var bn=Ve==null?0:Ve.length;if(!bn||qe<1)return[];for(var wn=0,En=0,Gn=ni(qa(bn/qe));wn<bn;)Gn[En++]=xo(Ve,wn,wn+=qe);return Gn}function Pp(Ve){for(var qe=-1,jt=Ve==null?0:Ve.length,bn=0,wn=[];++qe<jt;){var En=Ve[qe];En&&(wn[bn++]=En)}return wn}function Ip(){var Ve=arguments.length;if(!Ve)return[];for(var qe=ni(Ve-1),jt=arguments[0],bn=Ve;bn--;)qe[bn-1]=arguments[bn];return Ho(wi(jt)?ao(jt):[jt],qi(qe,1))}var kp=Mi(function(Ve,qe){return Wi(Ve)?Aa(Ve,qi(qe,1,Wi,!0)):[]}),Rp=Mi(function(Ve,qe){var jt=bo(qe);return Wi(jt)&&(jt=r),Wi(Ve)?Aa(Ve,qi(qe,1,Wi,!0),Si(jt,2)):[]}),Dp=Mi(function(Ve,qe){var jt=bo(qe);return Wi(jt)&&(jt=r),Wi(Ve)?Aa(Ve,qi(qe,1,Wi,!0),r,jt):[]});function Lp(Ve,qe,jt){var bn=Ve==null?0:Ve.length;return bn?(qe=jt||qe===r?1:Ci(qe),xo(Ve,qe<0?0:qe,bn)):[]}function Np(Ve,qe,jt){var bn=Ve==null?0:Ve.length;return bn?(qe=jt||qe===r?1:Ci(qe),qe=bn-qe,xo(Ve,0,qe<0?0:qe)):[]}function Bp(Ve,qe){return Ve&&Ve.length?sr(Ve,Si(qe,3),!0,!0):[]}function Fp(Ve,qe){return Ve&&Ve.length?sr(Ve,Si(qe,3),!0):[]}function Vp(Ve,qe,jt,bn){var wn=Ve==null?0:Ve.length;return wn?(jt&&typeof jt!="number"&&io(Ve,qe,jt)&&(jt=0,bn=wn),Ih(Ve,qe,jt,bn)):[]}function Eu(Ve,qe,jt){var bn=Ve==null?0:Ve.length;if(!bn)return-1;var wn=jt==null?0:Ci(jt);return wn<0&&(wn=Yi(bn+wn,0)),Va(Ve,Si(qe,3),wn)}function Pu(Ve,qe,jt){var bn=Ve==null?0:Ve.length;if(!bn)return-1;var wn=bn-1;return jt!==r&&(wn=Ci(jt),wn=jt<0?Yi(bn+wn,0):Ki(wn,bn-1)),Va(Ve,Si(qe,3),wn,!0)}function Iu(Ve){var qe=Ve==null?0:Ve.length;return qe?qi(Ve,1):[]}function zp(Ve){var qe=Ve==null?0:Ve.length;return qe?qi(Ve,$n):[]}function Gp(Ve,qe){var jt=Ve==null?0:Ve.length;return jt?(qe=qe===r?1:Ci(qe),qi(Ve,qe)):[]}function Hp(Ve){for(var qe=-1,jt=Ve==null?0:Ve.length,bn={};++qe<jt;){var wn=Ve[qe];bn[wn[0]]=wn[1]}return bn}function ku(Ve){return Ve&&Ve.length?Ve[0]:r}function Up(Ve,qe,jt){var bn=Ve==null?0:Ve.length;if(!bn)return-1;var wn=jt==null?0:Ci(jt);return wn<0&&(wn=Yi(bn+wn,0)),sa(Ve,qe,wn)}function Wp(Ve){var qe=Ve==null?0:Ve.length;return qe?xo(Ve,0,-1):[]}var jp=Mi(function(Ve){var qe=zi(Ve,ls);return qe.length&&qe[0]===Ve[0]?qr(qe):[]}),Qp=Mi(function(Ve){var qe=bo(Ve),jt=zi(Ve,ls);return qe===bo(jt)?qe=r:jt.pop(),jt.length&&jt[0]===Ve[0]?qr(jt,Si(qe,2)):[]}),Yp=Mi(function(Ve){var qe=bo(Ve),jt=zi(Ve,ls);return qe=typeof qe=="function"?qe:r,qe&&jt.pop(),jt.length&&jt[0]===Ve[0]?qr(jt,r,qe):[]});function Zp(Ve,qe){return Ve==null?"":Wd.call(Ve,qe)}function bo(Ve){var qe=Ve==null?0:Ve.length;return qe?Ve[qe-1]:r}function Xp(Ve,qe,jt){var bn=Ve==null?0:Ve.length;if(!bn)return-1;var wn=bn;return jt!==r&&(wn=Ci(jt),wn=wn<0?Yi(bn+wn,0):Ki(wn,bn-1)),qe===qe?Md(Ve,qe,wn):Va(Ve,pl,wn,!0)}function qp(Ve,qe){return Ve&&Ve.length?Ul(Ve,Ci(qe)):r}var Kp=Mi(Ru);function Ru(Ve,qe){return Ve&&Ve.length&&qe&&qe.length?ts(Ve,qe):Ve}function Jp(Ve,qe,jt){return Ve&&Ve.length&&qe&&qe.length?ts(Ve,qe,Si(jt,2)):Ve}function ef(Ve,qe,jt){return Ve&&Ve.length&&qe&&qe.length?ts(Ve,qe,r,jt):Ve}var tf=No(function(Ve,qe){var jt=Ve==null?0:Ve.length,bn=Qr(Ve,qe);return Ql(Ve,zi(qe,function(wn){return Bo(wn,jt)?+wn:wn}).sort(iu)),bn});function nf(Ve,qe){var jt=[];if(!(Ve&&Ve.length))return jt;var bn=-1,wn=[],En=Ve.length;for(qe=Si(qe,3);++bn<En;){var Gn=Ve[bn];qe(Gn,bn,Ve)&&(jt.push(Gn),wn.push(bn))}return Ql(Ve,wn),jt}function xs(Ve){return Ve==null?Ve:Zd.call(Ve)}function of(Ve,qe,jt){var bn=Ve==null?0:Ve.length;return bn?(jt&&typeof jt!="number"&&io(Ve,qe,jt)?(qe=0,jt=bn):(qe=qe==null?0:Ci(qe),jt=jt===r?bn:Ci(jt)),xo(Ve,qe,jt)):[]}function af(Ve,qe){return rr(Ve,qe)}function rf(Ve,qe,jt){return as(Ve,qe,Si(jt,2))}function sf(Ve,qe){var jt=Ve==null?0:Ve.length;if(jt){var bn=rr(Ve,qe);if(bn<jt&&Co(Ve[bn],qe))return bn}return-1}function lf(Ve,qe){return rr(Ve,qe,!0)}function uf(Ve,qe,jt){return as(Ve,qe,Si(jt,2),!0)}function cf(Ve,qe){var jt=Ve==null?0:Ve.length;if(jt){var bn=rr(Ve,qe,!0)-1;if(Co(Ve[bn],qe))return bn}return-1}function df(Ve){return Ve&&Ve.length?Zl(Ve):[]}function hf(Ve,qe){return Ve&&Ve.length?Zl(Ve,Si(qe,2)):[]}function pf(Ve){var qe=Ve==null?0:Ve.length;return qe?xo(Ve,1,qe):[]}function ff(Ve,qe,jt){return Ve&&Ve.length?(qe=jt||qe===r?1:Ci(qe),xo(Ve,0,qe<0?0:qe)):[]}function mf(Ve,qe,jt){var bn=Ve==null?0:Ve.length;return bn?(qe=jt||qe===r?1:Ci(qe),qe=bn-qe,xo(Ve,qe<0?0:qe,bn)):[]}function vf(Ve,qe){return Ve&&Ve.length?sr(Ve,Si(qe,3),!1,!0):[]}function yf(Ve,qe){return Ve&&Ve.length?sr(Ve,Si(qe,3)):[]}var gf=Mi(function(Ve){return Qo(qi(Ve,1,Wi,!0))}),_f=Mi(function(Ve){var qe=bo(Ve);return Wi(qe)&&(qe=r),Qo(qi(Ve,1,Wi,!0),Si(qe,2))}),$f=Mi(function(Ve){var qe=bo(Ve);return qe=typeof qe=="function"?qe:r,Qo(qi(Ve,1,Wi,!0),r,qe)});function Sf(Ve){return Ve&&Ve.length?Qo(Ve):[]}function xf(Ve,qe){return Ve&&Ve.length?Qo(Ve,Si(qe,2)):[]}function bf(Ve,qe){return qe=typeof qe=="function"?qe:r,Ve&&Ve.length?Qo(Ve,r,qe):[]}function bs(Ve){if(!(Ve&&Ve.length))return[];var qe=0;return Ve=Go(Ve,function(jt){if(Wi(jt))return qe=Yi(jt.length,qe),!0}),Fr(qe,function(jt){return zi(Ve,Lr(jt))})}function Du(Ve,qe){if(!(Ve&&Ve.length))return[];var jt=bs(Ve);return qe==null?jt:zi(jt,function(bn){return co(qe,r,bn)})}var Tf=Mi(function(Ve,qe){return Wi(Ve)?Aa(Ve,qe):[]}),Of=Mi(function(Ve){return ss(Go(Ve,Wi))}),wf=Mi(function(Ve){var qe=bo(Ve);return Wi(qe)&&(qe=r),ss(Go(Ve,Wi),Si(qe,2))}),Cf=Mi(function(Ve){var qe=bo(Ve);return qe=typeof qe=="function"?qe:r,ss(Go(Ve,Wi),r,qe)}),Af=Mi(bs);function Mf(Ve,qe){return Jl(Ve||[],qe||[],Ca)}function Ef(Ve,qe){return Jl(Ve||[],qe||[],Pa)}var Pf=Mi(function(Ve){var qe=Ve.length,jt=qe>1?Ve[qe-1]:r;return jt=typeof jt=="function"?(Ve.pop(),jt):r,Du(Ve,jt)});function Lu(Ve){var qe=Mn(Ve);return qe.__chain__=!0,qe}function If(Ve,qe){return qe(Ve),Ve}function vr(Ve,qe){return qe(Ve)}var kf=No(function(Ve){var qe=Ve.length,jt=qe?Ve[0]:0,bn=this.__wrapped__,wn=function(En){return Qr(En,Ve)};return qe>1||this.__actions__.length||!(bn instanceof Pi)||!Bo(jt)?this.thru(wn):(bn=bn.slice(jt,+jt+(qe?1:0)),bn.__actions__.push({func:vr,args:[wn],thisArg:r}),new $o(bn,this.__chain__).thru(function(En){return qe&&!En.length&&En.push(r),En}))});function Rf(){return Lu(this)}function Df(){return new $o(this.value(),this.__chain__)}function Lf(){this.__values__===r&&(this.__values__=Xu(this.value()));var Ve=this.__index__>=this.__values__.length,qe=Ve?r:this.__values__[this.__index__++];return{done:Ve,value:qe}}function Nf(){return this}function Bf(Ve){for(var qe,jt=this;jt instanceof tr;){var bn=Mu(jt);bn.__index__=0,bn.__values__=r,qe?wn.__wrapped__=bn:qe=bn;var wn=bn;jt=jt.__wrapped__}return wn.__wrapped__=Ve,qe}function Ff(){var Ve=this.__wrapped__;if(Ve instanceof Pi){var qe=Ve;return this.__actions__.length&&(qe=new Pi(this)),qe=qe.reverse(),qe.__actions__.push({func:vr,args:[xs],thisArg:r}),new $o(qe,this.__chain__)}return this.thru(xs)}function Vf(){return Kl(this.__wrapped__,this.__actions__)}var zf=lr(function(Ve,qe,jt){Li.call(Ve,jt)?++Ve[jt]:Do(Ve,jt,1)});function Gf(Ve,qe,jt){var bn=wi(Ve)?dl:Ph;return jt&&io(Ve,qe,jt)&&(qe=r),bn(Ve,Si(qe,3))}function Hf(Ve,qe){var jt=wi(Ve)?Go:Dl;return jt(Ve,Si(qe,3))}var Uf=uu(Eu),Wf=uu(Pu);function jf(Ve,qe){return qi(yr(Ve,qe),1)}function Qf(Ve,qe){return qi(yr(Ve,qe),$n)}function Yf(Ve,qe,jt){return jt=jt===r?1:Ci(jt),qi(yr(Ve,qe),jt)}function Nu(Ve,qe){var jt=wi(Ve)?go:jo;return jt(Ve,Si(qe,3))}function Bu(Ve,qe){var jt=wi(Ve)?hd:Rl;return jt(Ve,Si(qe,3))}var Zf=lr(function(Ve,qe,jt){Li.call(Ve,jt)?Ve[jt].push(qe):Do(Ve,jt,[qe])});function Xf(Ve,qe,jt,bn){Ve=ro(Ve)?Ve:$a(Ve),jt=jt&&!bn?Ci(jt):0;var wn=Ve.length;return jt<0&&(jt=Yi(wn+jt,0)),xr(Ve)?jt<=wn&&Ve.indexOf(qe,jt)>-1:!!wn&&sa(Ve,qe,jt)>-1}var qf=Mi(function(Ve,qe,jt){var bn=-1,wn=typeof qe=="function",En=ro(Ve)?ni(Ve.length):[];return jo(Ve,function(Gn){En[++bn]=wn?co(qe,Gn,jt):Ma(Gn,qe,jt)}),En}),Kf=lr(function(Ve,qe,jt){Do(Ve,jt,qe)});function yr(Ve,qe){var jt=wi(Ve)?zi:zl;return jt(Ve,Si(qe,3))}function Jf(Ve,qe,jt,bn){return Ve==null?[]:(wi(qe)||(qe=qe==null?[]:[qe]),jt=bn?r:jt,wi(jt)||(jt=jt==null?[]:[jt]),Wl(Ve,qe,jt))}var em=lr(function(Ve,qe,jt){Ve[jt?0:1].push(qe)},function(){return[[],[]]});function tm(Ve,qe,jt){var bn=wi(Ve)?Rr:ml,wn=arguments.length<3;return bn(Ve,Si(qe,4),jt,wn,jo)}function nm(Ve,qe,jt){var bn=wi(Ve)?pd:ml,wn=arguments.length<3;return bn(Ve,Si(qe,4),jt,wn,Rl)}function im(Ve,qe){var jt=wi(Ve)?Go:Dl;return jt(Ve,$r(Si(qe,3)))}function om(Ve){var qe=wi(Ve)?El:Zh;return qe(Ve)}function am(Ve,qe,jt){(jt?io(Ve,qe,jt):qe===r)?qe=1:qe=Ci(qe);var bn=wi(Ve)?wh:Xh;return bn(Ve,qe)}function sm(Ve){var qe=wi(Ve)?Ch:Kh;return qe(Ve)}function lm(Ve){if(Ve==null)return 0;if(ro(Ve))return xr(Ve)?ua(Ve):Ve.length;var qe=Ji(Ve);return qe==Bn||qe==ti?Ve.size:Jr(Ve).length}function um(Ve,qe,jt){var bn=wi(Ve)?Dr:Jh;return jt&&io(Ve,qe,jt)&&(qe=r),bn(Ve,Si(qe,3))}var cm=Mi(function(Ve,qe){if(Ve==null)return[];var jt=qe.length;return jt>1&&io(Ve,qe[0],qe[1])?qe=[]:jt>2&&io(qe[0],qe[1],qe[2])&&(qe=[qe[0]]),Wl(Ve,qi(qe,1),[])}),gr=Gd||function(){return Xi.Date.now()};function dm(Ve,qe){if(typeof qe!="function")throw new _o(oe);return Ve=Ci(Ve),function(){if(--Ve<1)return qe.apply(this,arguments)}}function Fu(Ve,qe,jt){return qe=jt?r:qe,qe=Ve&&qe==null?Ve.length:qe,Lo(Ve,Ue,r,r,r,r,qe)}function Vu(Ve,qe){var jt;if(typeof qe!="function")throw new _o(oe);return Ve=Ci(Ve),function(){return--Ve>0&&(jt=qe.apply(this,arguments)),Ve<=1&&(qe=r),jt}}var Ts=Mi(function(Ve,qe,jt){var bn=xe;if(jt.length){var wn=Uo(jt,ya(Ts));bn|=ze}return Lo(Ve,bn,qe,jt,wn)}),zu=Mi(function(Ve,qe,jt){var bn=xe|Oe;if(jt.length){var wn=Uo(jt,ya(zu));bn|=ze}return Lo(qe,bn,Ve,jt,wn)});function Gu(Ve,qe,jt){qe=jt?r:qe;var bn=Lo(Ve,Ie,r,r,r,r,r,qe);return bn.placeholder=Gu.placeholder,bn}function Hu(Ve,qe,jt){qe=jt?r:qe;var bn=Lo(Ve,Ne,r,r,r,r,r,qe);return bn.placeholder=Hu.placeholder,bn}function Uu(Ve,qe,jt){var bn,wn,En,Gn,jn,qn,li=0,ci=!1,fi=!1,vi=!0;if(typeof Ve!="function")throw new _o(oe);qe=To(qe)||0,Hi(jt)&&(ci=!!jt.leading,fi="maxWait"in jt,En=fi?Yi(To(jt.maxWait)||0,qe):En,vi="trailing"in jt?!!jt.trailing:vi);function _i(ji){var Ao=bn,zo=wn;return bn=wn=r,li=ji,Gn=Ve.apply(zo,Ao),Gn}function xi(ji){return li=ji,jn=Ra(Ei,qe),ci?_i(ji):Gn}function Ai(ji){var Ao=ji-qn,zo=ji-li,uc=qe-Ao;return fi?Ki(uc,En-zo):uc}function bi(ji){var Ao=ji-qn,zo=ji-li;return qn===r||Ao>=qe||Ao<0||fi&&zo>=En}function Ei(){var ji=gr();if(bi(ji))return Ii(ji);jn=Ra(Ei,Ai(ji))}function Ii(ji){return jn=r,vi&&bn?_i(ji):(bn=wn=r,Gn)}function mo(){jn!==r&&eu(jn),li=0,bn=qn=wn=jn=r}function oo(){return jn===r?Gn:Ii(gr())}function vo(){var ji=gr(),Ao=bi(ji);if(bn=arguments,wn=this,qn=ji,Ao){if(jn===r)return xi(qn);if(fi)return eu(jn),jn=Ra(Ei,qe),_i(qn)}return jn===r&&(jn=Ra(Ei,qe)),Gn}return vo.cancel=mo,vo.flush=oo,vo}var hm=Mi(function(Ve,qe){return kl(Ve,1,qe)}),pm=Mi(function(Ve,qe,jt){return kl(Ve,To(qe)||0,jt)});function fm(Ve){return Lo(Ve,Et)}function _r(Ve,qe){if(typeof Ve!="function"||qe!=null&&typeof qe!="function")throw new _o(oe);var jt=function(){var bn=arguments,wn=qe?qe.apply(this,bn):bn[0],En=jt.cache;if(En.has(wn))return En.get(wn);var Gn=Ve.apply(this,bn);return jt.cache=En.set(wn,Gn)||En,Gn};return jt.cache=new(_r.Cache||Ro),jt}_r.Cache=Ro;function $r(Ve){if(typeof Ve!="function")throw new _o(oe);return function(){var qe=arguments;switch(qe.length){case 0:return!Ve.call(this);case 1:return!Ve.call(this,qe[0]);case 2:return!Ve.call(this,qe[0],qe[1]);case 3:return!Ve.call(this,qe[0],qe[1],qe[2])}return!Ve.apply(this,qe)}}function mm(Ve){return Vu(2,Ve)}var vm=ep(function(Ve,qe){qe=qe.length==1&&wi(qe[0])?zi(qe[0],ho(Si())):zi(qi(qe,1),ho(Si()));var jt=qe.length;return Mi(function(bn){for(var wn=-1,En=Ki(bn.length,jt);++wn<En;)bn[wn]=qe[wn].call(this,bn[wn]);return co(Ve,this,bn)})}),Os=Mi(function(Ve,qe){var jt=Uo(qe,ya(Os));return Lo(Ve,ze,r,qe,jt)}),Wu=Mi(function(Ve,qe){var jt=Uo(qe,ya(Wu));return Lo(Ve,Fe,r,qe,jt)}),ym=No(function(Ve,qe){return Lo(Ve,At,r,r,r,qe)});function gm(Ve,qe){if(typeof Ve!="function")throw new _o(oe);return qe=qe===r?qe:Ci(qe),Mi(Ve,qe)}function _m(Ve,qe){if(typeof Ve!="function")throw new _o(oe);return qe=qe==null?0:Yi(Ci(qe),0),Mi(function(jt){var bn=jt[qe],wn=Zo(jt,0,qe);return bn&&Ho(wn,bn),co(Ve,this,wn)})}function $m(Ve,qe,jt){var bn=!0,wn=!0;if(typeof Ve!="function")throw new _o(oe);return Hi(jt)&&(bn="leading"in jt?!!jt.leading:bn,wn="trailing"in jt?!!jt.trailing:wn),Uu(Ve,qe,{leading:bn,maxWait:qe,trailing:wn})}function Sm(Ve){return Fu(Ve,1)}function xm(Ve,qe){return Os(us(qe),Ve)}function bm(){if(!arguments.length)return[];var Ve=arguments[0];return wi(Ve)?Ve:[Ve]}function Tm(Ve){return So(Ve,pe)}function Om(Ve,qe){return qe=typeof qe=="function"?qe:r,So(Ve,pe,qe)}function wm(Ve){return So(Ve,de|pe)}function Cm(Ve,qe){return qe=typeof qe=="function"?qe:r,So(Ve,de|pe,qe)}function Am(Ve,qe){return qe==null||Il(Ve,qe,Zi(qe))}function Co(Ve,qe){return Ve===qe||Ve!==Ve&&qe!==qe}var Mm=hr(Xr),Em=hr(function(Ve,qe){return Ve>=qe}),aa=Bl(function(){return arguments}())?Bl:function(Ve){return Ui(Ve)&&Li.call(Ve,"callee")&&!Tl.call(Ve,"callee")},wi=ni.isArray,Pm=al?ho(al):Nh;function ro(Ve){return Ve!=null&&Sr(Ve.length)&&!Fo(Ve)}function Wi(Ve){return Ui(Ve)&&ro(Ve)}function Im(Ve){return Ve===!0||Ve===!1||Ui(Ve)&&no(Ve)==kn}var Xo=Ud||Ls,km=rl?ho(rl):Bh;function Rm(Ve){return Ui(Ve)&&Ve.nodeType===1&&!Da(Ve)}function Dm(Ve){if(Ve==null)return!0;if(ro(Ve)&&(wi(Ve)||typeof Ve=="string"||typeof Ve.splice=="function"||Xo(Ve)||ga(Ve)||aa(Ve)))return!Ve.length;var qe=Ji(Ve);if(qe==Bn||qe==ti)return!Ve.size;if(ka(Ve))return!Jr(Ve).length;for(var jt in Ve)if(Li.call(Ve,jt))return!1;return!0}function Lm(Ve,qe){return Ea(Ve,qe)}function Nm(Ve,qe,jt){jt=typeof jt=="function"?jt:r;var bn=jt?jt(Ve,qe):r;return bn===r?Ea(Ve,qe,r,jt):!!bn}function ws(Ve){if(!Ui(Ve))return!1;var qe=no(Ve);return qe==Ln||qe==Vn||typeof Ve.message=="string"&&typeof Ve.name=="string"&&!Da(Ve)}function Bm(Ve){return typeof Ve=="number"&&wl(Ve)}function Fo(Ve){if(!Hi(Ve))return!1;var qe=no(Ve);return qe==Tn||qe==In||qe==Dn||qe==ei}function ju(Ve){return typeof Ve=="number"&&Ve==Ci(Ve)}function Sr(Ve){return typeof Ve=="number"&&Ve>-1&&Ve%1==0&&Ve<=Sn}function Hi(Ve){var qe=typeof Ve;return Ve!=null&&(qe=="object"||qe=="function")}function Ui(Ve){return Ve!=null&&typeof Ve=="object"}var Qu=sl?ho(sl):Vh;function Fm(Ve,qe){return Ve===qe||Kr(Ve,qe,vs(qe))}function Vm(Ve,qe,jt){return jt=typeof jt=="function"?jt:r,Kr(Ve,qe,vs(qe),jt)}function zm(Ve){return Yu(Ve)&&Ve!=+Ve}function Gm(Ve){if(bp(Ve))throw new Oi(V);return Fl(Ve)}function Hm(Ve){return Ve===null}function Um(Ve){return Ve==null}function Yu(Ve){return typeof Ve=="number"||Ui(Ve)&&no(Ve)==Qn}function Da(Ve){if(!Ui(Ve)||no(Ve)!=Kn)return!1;var qe=Ya(Ve);if(qe===null)return!0;var jt=Li.call(qe,"constructor")&&qe.constructor;return typeof jt=="function"&&jt instanceof jt&&Ua.call(jt)==Bd}var Cs=ll?ho(ll):zh;function Wm(Ve){return ju(Ve)&&Ve>=-Sn&&Ve<=Sn}var Zu=ul?ho(ul):Gh;function xr(Ve){return typeof Ve=="string"||!wi(Ve)&&Ui(Ve)&&no(Ve)==Jn}function fo(Ve){return typeof Ve=="symbol"||Ui(Ve)&&no(Ve)==di}var ga=cl?ho(cl):Hh;function jm(Ve){return Ve===r}function Qm(Ve){return Ui(Ve)&&Ji(Ve)==yi}function Ym(Ve){return Ui(Ve)&&no(Ve)==$i}var Zm=hr(es),Xm=hr(function(Ve,qe){return Ve<=qe});function Xu(Ve){if(!Ve)return[];if(ro(Ve))return xr(Ve)?Oo(Ve):ao(Ve);if(xa&&Ve[xa])return wd(Ve[xa]());var qe=Ji(Ve),jt=qe==Bn?zr:qe==ti?za:$a;return jt(Ve)}function Vo(Ve){if(!Ve)return Ve===0?Ve:0;if(Ve=To(Ve),Ve===$n||Ve===-$n){var qe=Ve<0?-1:1;return qe*xn}return Ve===Ve?Ve:0}function Ci(Ve){var qe=Vo(Ve),jt=qe%1;return qe===qe?jt?qe-jt:qe:0}function qu(Ve){return Ve?ta(Ci(Ve),0,Cn):0}function To(Ve){if(typeof Ve=="number")return Ve;if(fo(Ve))return On;if(Hi(Ve)){var qe=typeof Ve.valueOf=="function"?Ve.valueOf():Ve;Ve=Hi(qe)?qe+"":qe}if(typeof Ve!="string")return Ve===0?Ve:+Ve;Ve=vl(Ve);var jt=Ac.test(Ve);return jt||Ec.test(Ve)?ud(Ve.slice(2),jt?2:8):Cc.test(Ve)?On:+Ve}function Ku(Ve){return Eo(Ve,so(Ve))}function qm(Ve){return Ve?ta(Ci(Ve),-Sn,Sn):Ve===0?Ve:0}function Di(Ve){return Ve==null?"":po(Ve)}var Km=ma(function(Ve,qe){if(ka(qe)||ro(qe)){Eo(qe,Zi(qe),Ve);return}for(var jt in qe)Li.call(qe,jt)&&Ca(Ve,jt,qe[jt])}),Ju=ma(function(Ve,qe){Eo(qe,so(qe),Ve)}),br=ma(function(Ve,qe,jt,bn){Eo(qe,so(qe),Ve,bn)}),Jm=ma(function(Ve,qe,jt,bn){Eo(qe,Zi(qe),Ve,bn)}),ev=No(Qr);function tv(Ve,qe){var jt=fa(Ve);return qe==null?jt:Pl(jt,qe)}var nv=Mi(function(Ve,qe){Ve=Ni(Ve);var jt=-1,bn=qe.length,wn=bn>2?qe[2]:r;for(wn&&io(qe[0],qe[1],wn)&&(bn=1);++jt<bn;)for(var En=qe[jt],Gn=so(En),jn=-1,qn=Gn.length;++jn<qn;){var li=Gn[jn],ci=Ve[li];(ci===r||Co(ci,da[li])&&!Li.call(Ve,li))&&(Ve[li]=En[li])}return Ve}),iv=Mi(function(Ve){return Ve.push(r,vu),co(ec,r,Ve)});function ov(Ve,qe){return hl(Ve,Si(qe,3),Mo)}function av(Ve,qe){return hl(Ve,Si(qe,3),Zr)}function rv(Ve,qe){return Ve==null?Ve:Yr(Ve,Si(qe,3),so)}function sv(Ve,qe){return Ve==null?Ve:Ll(Ve,Si(qe,3),so)}function lv(Ve,qe){return Ve&&Mo(Ve,Si(qe,3))}function uv(Ve,qe){return Ve&&Zr(Ve,Si(qe,3))}function cv(Ve){return Ve==null?[]:or(Ve,Zi(Ve))}function dv(Ve){return Ve==null?[]:or(Ve,so(Ve))}function As(Ve,qe,jt){var bn=Ve==null?r:na(Ve,qe);return bn===r?jt:bn}function hv(Ve,qe){return Ve!=null&&_u(Ve,qe,kh)}function Ms(Ve,qe){return Ve!=null&&_u(Ve,qe,Rh)}var pv=du(function(Ve,qe,jt){qe!=null&&typeof qe.toString!="function"&&(qe=Wa.call(qe)),Ve[qe]=jt},Ps(lo)),fv=du(function(Ve,qe,jt){qe!=null&&typeof qe.toString!="function"&&(qe=Wa.call(qe)),Li.call(Ve,qe)?Ve[qe].push(jt):Ve[qe]=[jt]},Si),mv=Mi(Ma);function Zi(Ve){return ro(Ve)?Ml(Ve):Jr(Ve)}function so(Ve){return ro(Ve)?Ml(Ve,!0):Uh(Ve)}function vv(Ve,qe){var jt={};return qe=Si(qe,3),Mo(Ve,function(bn,wn,En){Do(jt,qe(bn,wn,En),bn)}),jt}function yv(Ve,qe){var jt={};return qe=Si(qe,3),Mo(Ve,function(bn,wn,En){Do(jt,wn,qe(bn,wn,En))}),jt}var gv=ma(function(Ve,qe,jt){ar(Ve,qe,jt)}),ec=ma(function(Ve,qe,jt,bn){ar(Ve,qe,jt,bn)}),_v=No(function(Ve,qe){var jt={};if(Ve==null)return jt;var bn=!1;qe=zi(qe,function(En){return En=Yo(En,Ve),bn||(bn=En.length>1),En}),Eo(Ve,fs(Ve),jt),bn&&(jt=So(jt,de|he|pe,dp));for(var wn=qe.length;wn--;)rs(jt,qe[wn]);return jt});function $v(Ve,qe){return tc(Ve,$r(Si(qe)))}var Sv=No(function(Ve,qe){return Ve==null?{}:jh(Ve,qe)});function tc(Ve,qe){if(Ve==null)return{};var jt=zi(fs(Ve),function(bn){return[bn]});return qe=Si(qe),jl(Ve,jt,function(bn,wn){return qe(bn,wn[0])})}function xv(Ve,qe,jt){qe=Yo(qe,Ve);var bn=-1,wn=qe.length;for(wn||(wn=1,Ve=r);++bn<wn;){var En=Ve==null?r:Ve[Po(qe[bn])];En===r&&(bn=wn,En=jt),Ve=Fo(En)?En.call(Ve):En}return Ve}function bv(Ve,qe,jt){return Ve==null?Ve:Pa(Ve,qe,jt)}function Tv(Ve,qe,jt,bn){return bn=typeof bn=="function"?bn:r,Ve==null?Ve:Pa(Ve,qe,jt,bn)}var nc=fu(Zi),ic=fu(so);function Ov(Ve,qe,jt){var bn=wi(Ve),wn=bn||Xo(Ve)||ga(Ve);if(qe=Si(qe,4),jt==null){var En=Ve&&Ve.constructor;wn?jt=bn?new En:[]:Hi(Ve)?jt=Fo(En)?fa(Ya(Ve)):{}:jt={}}return(wn?go:Mo)(Ve,function(Gn,jn,qn){return qe(jt,Gn,jn,qn)}),jt}function wv(Ve,qe){return Ve==null?!0:rs(Ve,qe)}function Cv(Ve,qe,jt){return Ve==null?Ve:ql(Ve,qe,us(jt))}function Av(Ve,qe,jt,bn){return bn=typeof bn=="function"?bn:r,Ve==null?Ve:ql(Ve,qe,us(jt),bn)}function $a(Ve){return Ve==null?[]:Vr(Ve,Zi(Ve))}function Mv(Ve){return Ve==null?[]:Vr(Ve,so(Ve))}function Ev(Ve,qe,jt){return jt===r&&(jt=qe,qe=r),jt!==r&&(jt=To(jt),jt=jt===jt?jt:0),qe!==r&&(qe=To(qe),qe=qe===qe?qe:0),ta(To(Ve),qe,jt)}function Pv(Ve,qe,jt){return qe=Vo(qe),jt===r?(jt=qe,qe=0):jt=Vo(jt),Ve=To(Ve),Dh(Ve,qe,jt)}function Iv(Ve,qe,jt){if(jt&&typeof jt!="boolean"&&io(Ve,qe,jt)&&(qe=jt=r),jt===r&&(typeof qe=="boolean"?(jt=qe,qe=r):typeof Ve=="boolean"&&(jt=Ve,Ve=r)),Ve===r&&qe===r?(Ve=0,qe=1):(Ve=Vo(Ve),qe===r?(qe=Ve,Ve=0):qe=Vo(qe)),Ve>qe){var bn=Ve;Ve=qe,qe=bn}if(jt||Ve%1||qe%1){var wn=Cl();return Ki(Ve+wn*(qe-Ve+ld("1e-"+((wn+"").length-1))),qe)}return is(Ve,qe)}var kv=va(function(Ve,qe,jt){return qe=qe.toLowerCase(),Ve+(jt?oc(qe):qe)});function oc(Ve){return Es(Di(Ve).toLowerCase())}function ac(Ve){return Ve=Di(Ve),Ve&&Ve.replace(Ic,Sd).replace(qc,"")}function Rv(Ve,qe,jt){Ve=Di(Ve),qe=po(qe);var bn=Ve.length;jt=jt===r?bn:ta(Ci(jt),0,bn);var wn=jt;return jt-=qe.length,jt>=0&&Ve.slice(jt,wn)==qe}function Dv(Ve){return Ve=Di(Ve),Ve&&dc.test(Ve)?Ve.replace(uo,xd):Ve}function Lv(Ve){return Ve=Di(Ve),Ve&&yc.test(Ve)?Ve.replace(Tr,"\\$&"):Ve}var Nv=va(function(Ve,qe,jt){return Ve+(jt?"-":"")+qe.toLowerCase()}),Bv=va(function(Ve,qe,jt){return Ve+(jt?" ":"")+qe.toLowerCase()}),Fv=lu("toLowerCase");function Vv(Ve,qe,jt){Ve=Di(Ve),qe=Ci(qe);var bn=qe?ua(Ve):0;if(!qe||bn>=qe)return Ve;var wn=(qe-bn)/2;return dr(Ka(wn),jt)+Ve+dr(qa(wn),jt)}function zv(Ve,qe,jt){Ve=Di(Ve),qe=Ci(qe);var bn=qe?ua(Ve):0;return qe&&bn<qe?Ve+dr(qe-bn,jt):Ve}function Gv(Ve,qe,jt){Ve=Di(Ve),qe=Ci(qe);var bn=qe?ua(Ve):0;return qe&&bn<qe?dr(qe-bn,jt)+Ve:Ve}function Hv(Ve,qe,jt){return jt||qe==null?qe=0:qe&&(qe=+qe),Yd(Di(Ve).replace(Or,""),qe||0)}function Uv(Ve,qe,jt){return(jt?io(Ve,qe,jt):qe===r)?qe=1:qe=Ci(qe),os(Di(Ve),qe)}function Wv(){var Ve=arguments,qe=Di(Ve[0]);return Ve.length<3?qe:qe.replace(Ve[1],Ve[2])}var jv=va(function(Ve,qe,jt){return Ve+(jt?"_":"")+qe.toLowerCase()});function Qv(Ve,qe,jt){return jt&&typeof jt!="number"&&io(Ve,qe,jt)&&(qe=jt=r),jt=jt===r?Cn:jt>>>0,jt?(Ve=Di(Ve),Ve&&(typeof qe=="string"||qe!=null&&!Cs(qe))&&(qe=po(qe),!qe&&la(Ve))?Zo(Oo(Ve),0,jt):Ve.split(qe,jt)):[]}var Yv=va(function(Ve,qe,jt){return Ve+(jt?" ":"")+Es(qe)});function Zv(Ve,qe,jt){return Ve=Di(Ve),jt=jt==null?0:ta(Ci(jt),0,Ve.length),qe=po(qe),Ve.slice(jt,jt+qe.length)==qe}function Xv(Ve,qe,jt){var bn=Mn.templateSettings;jt&&io(Ve,qe,jt)&&(qe=r),Ve=Di(Ve),qe=br({},qe,bn,mu);var wn=br({},qe.imports,bn.imports,mu),En=Zi(wn),Gn=Vr(wn,En),jn,qn,li=0,ci=qe.interpolate||La,fi="__p += '",vi=Gr((qe.escape||La).source+"|"+ci.source+"|"+(ci===Ns?wc:La).source+"|"+(qe.evaluate||La).source+"|$","g"),_i="//# sourceURL="+(Li.call(qe,"sourceURL")?(qe.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nd+"]")+`
`;Ve.replace(vi,function(bi,Ei,Ii,mo,oo,vo){return Ii||(Ii=mo),fi+=Ve.slice(li,vo).replace(kc,bd),Ei&&(jn=!0,fi+=`' +
__e(`+Ei+`) +
'`),oo&&(qn=!0,fi+=`';
`+oo+`;
__p += '`),Ii&&(fi+=`' +
((__t = (`+Ii+`)) == null ? '' : __t) +
'`),li=vo+bi.length,bi}),fi+=`';
`;var xi=Li.call(qe,"variable")&&qe.variable;if(!xi)fi=`with (obj) {
`+fi+`
}
`;else if(Tc.test(xi))throw new Oi(ae);fi=(qn?fi.replace(Gi,""):fi).replace(eo,"$1").replace(ki,"$1;"),fi="function("+(xi||"obj")+`) {
`+(xi?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(jn?", __e = _.escape":"")+(qn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+fi+`return __p
}`;var Ai=sc(function(){return Ri(En,_i+"return "+fi).apply(r,Gn)});if(Ai.source=fi,ws(Ai))throw Ai;return Ai}function qv(Ve){return Di(Ve).toLowerCase()}function Kv(Ve){return Di(Ve).toUpperCase()}function Jv(Ve,qe,jt){if(Ve=Di(Ve),Ve&&(jt||qe===r))return vl(Ve);if(!Ve||!(qe=po(qe)))return Ve;var bn=Oo(Ve),wn=Oo(qe),En=yl(bn,wn),Gn=gl(bn,wn)+1;return Zo(bn,En,Gn).join("")}function ey(Ve,qe,jt){if(Ve=Di(Ve),Ve&&(jt||qe===r))return Ve.slice(0,$l(Ve)+1);if(!Ve||!(qe=po(qe)))return Ve;var bn=Oo(Ve),wn=gl(bn,Oo(qe))+1;return Zo(bn,0,wn).join("")}function ty(Ve,qe,jt){if(Ve=Di(Ve),Ve&&(jt||qe===r))return Ve.replace(Or,"");if(!Ve||!(qe=po(qe)))return Ve;var bn=Oo(Ve),wn=yl(bn,Oo(qe));return Zo(bn,wn).join("")}function ny(Ve,qe){var jt=Pt,bn=kt;if(Hi(qe)){var wn="separator"in qe?qe.separator:wn;jt="length"in qe?Ci(qe.length):jt,bn="omission"in qe?po(qe.omission):bn}Ve=Di(Ve);var En=Ve.length;if(la(Ve)){var Gn=Oo(Ve);En=Gn.length}if(jt>=En)return Ve;var jn=jt-ua(bn);if(jn<1)return bn;var qn=Gn?Zo(Gn,0,jn).join(""):Ve.slice(0,jn);if(wn===r)return qn+bn;if(Gn&&(jn+=qn.length-jn),Cs(wn)){if(Ve.slice(jn).search(wn)){var li,ci=qn;for(wn.global||(wn=Gr(wn.source,Di(Bs.exec(wn))+"g")),wn.lastIndex=0;li=wn.exec(ci);)var fi=li.index;qn=qn.slice(0,fi===r?jn:fi)}}else if(Ve.indexOf(po(wn),jn)!=jn){var vi=qn.lastIndexOf(wn);vi>-1&&(qn=qn.slice(0,vi))}return qn+bn}function iy(Ve){return Ve=Di(Ve),Ve&&Io.test(Ve)?Ve.replace(to,Ed):Ve}var oy=va(function(Ve,qe,jt){return Ve+(jt?" ":"")+qe.toUpperCase()}),Es=lu("toUpperCase");function rc(Ve,qe,jt){return Ve=Di(Ve),qe=jt?r:qe,qe===r?Od(Ve)?kd(Ve):vd(Ve):Ve.match(qe)||[]}var sc=Mi(function(Ve,qe){try{return co(Ve,r,qe)}catch(jt){return ws(jt)?jt:new Oi(jt)}}),ay=No(function(Ve,qe){return go(qe,function(jt){jt=Po(jt),Do(Ve,jt,Ts(Ve[jt],Ve))}),Ve});function ry(Ve){var qe=Ve==null?0:Ve.length,jt=Si();return Ve=qe?zi(Ve,function(bn){if(typeof bn[1]!="function")throw new _o(oe);return[jt(bn[0]),bn[1]]}):[],Mi(function(bn){for(var wn=-1;++wn<qe;){var En=Ve[wn];if(co(En[0],this,bn))return co(En[1],this,bn)}})}function sy(Ve){return Eh(So(Ve,de))}function Ps(Ve){return function(){return Ve}}function ly(Ve,qe){return Ve==null||Ve!==Ve?qe:Ve}var uy=cu(),cy=cu(!0);function lo(Ve){return Ve}function Is(Ve){return Vl(typeof Ve=="function"?Ve:So(Ve,de))}function dy(Ve){return Gl(So(Ve,de))}function hy(Ve,qe){return Hl(Ve,So(qe,de))}var py=Mi(function(Ve,qe){return function(jt){return Ma(jt,Ve,qe)}}),fy=Mi(function(Ve,qe){return function(jt){return Ma(Ve,jt,qe)}});function ks(Ve,qe,jt){var bn=Zi(qe),wn=or(qe,bn);jt==null&&!(Hi(qe)&&(wn.length||!bn.length))&&(jt=qe,qe=Ve,Ve=this,wn=or(qe,Zi(qe)));var En=!(Hi(jt)&&"chain"in jt)||!!jt.chain,Gn=Fo(Ve);return go(wn,function(jn){var qn=qe[jn];Ve[jn]=qn,Gn&&(Ve.prototype[jn]=function(){var li=this.__chain__;if(En||li){var ci=Ve(this.__wrapped__),fi=ci.__actions__=ao(this.__actions__);return fi.push({func:qn,args:arguments,thisArg:Ve}),ci.__chain__=li,ci}return qn.apply(Ve,Ho([this.value()],arguments))})}),Ve}function my(){return Xi._===this&&(Xi._=Fd),this}function Rs(){}function vy(Ve){return Ve=Ci(Ve),Mi(function(qe){return Ul(qe,Ve)})}var yy=ds(zi),gy=ds(dl),_y=ds(Dr);function lc(Ve){return gs(Ve)?Lr(Po(Ve)):Qh(Ve)}function $y(Ve){return function(qe){return Ve==null?r:na(Ve,qe)}}var Sy=hu(),xy=hu(!0);function Ds(){return[]}function Ls(){return!1}function by(){return{}}function Ty(){return""}function Oy(){return!0}function wy(Ve,qe){if(Ve=Ci(Ve),Ve<1||Ve>Sn)return[];var jt=Cn,bn=Ki(Ve,Cn);qe=Si(qe),Ve-=Cn;for(var wn=Fr(bn,qe);++jt<Ve;)qe(jt);return wn}function Cy(Ve){return wi(Ve)?zi(Ve,Po):fo(Ve)?[Ve]:ao(Au(Di(Ve)))}function Ay(Ve){var qe=++Nd;return Di(Ve)+qe}var My=cr(function(Ve,qe){return Ve+qe},0),Ey=hs("ceil"),Py=cr(function(Ve,qe){return Ve/qe},1),Iy=hs("floor");function ky(Ve){return Ve&&Ve.length?ir(Ve,lo,Xr):r}function Ry(Ve,qe){return Ve&&Ve.length?ir(Ve,Si(qe,2),Xr):r}function Dy(Ve){return fl(Ve,lo)}function Ly(Ve,qe){return fl(Ve,Si(qe,2))}function Ny(Ve){return Ve&&Ve.length?ir(Ve,lo,es):r}function By(Ve,qe){return Ve&&Ve.length?ir(Ve,Si(qe,2),es):r}var Fy=cr(function(Ve,qe){return Ve*qe},1),Vy=hs("round"),zy=cr(function(Ve,qe){return Ve-qe},0);function Gy(Ve){return Ve&&Ve.length?Br(Ve,lo):0}function Hy(Ve,qe){return Ve&&Ve.length?Br(Ve,Si(qe,2)):0}return Mn.after=dm,Mn.ary=Fu,Mn.assign=Km,Mn.assignIn=Ju,Mn.assignInWith=br,Mn.assignWith=Jm,Mn.at=ev,Mn.before=Vu,Mn.bind=Ts,Mn.bindAll=ay,Mn.bindKey=zu,Mn.castArray=bm,Mn.chain=Lu,Mn.chunk=Ep,Mn.compact=Pp,Mn.concat=Ip,Mn.cond=ry,Mn.conforms=sy,Mn.constant=Ps,Mn.countBy=zf,Mn.create=tv,Mn.curry=Gu,Mn.curryRight=Hu,Mn.debounce=Uu,Mn.defaults=nv,Mn.defaultsDeep=iv,Mn.defer=hm,Mn.delay=pm,Mn.difference=kp,Mn.differenceBy=Rp,Mn.differenceWith=Dp,Mn.drop=Lp,Mn.dropRight=Np,Mn.dropRightWhile=Bp,Mn.dropWhile=Fp,Mn.fill=Vp,Mn.filter=Hf,Mn.flatMap=jf,Mn.flatMapDeep=Qf,Mn.flatMapDepth=Yf,Mn.flatten=Iu,Mn.flattenDeep=zp,Mn.flattenDepth=Gp,Mn.flip=fm,Mn.flow=uy,Mn.flowRight=cy,Mn.fromPairs=Hp,Mn.functions=cv,Mn.functionsIn=dv,Mn.groupBy=Zf,Mn.initial=Wp,Mn.intersection=jp,Mn.intersectionBy=Qp,Mn.intersectionWith=Yp,Mn.invert=pv,Mn.invertBy=fv,Mn.invokeMap=qf,Mn.iteratee=Is,Mn.keyBy=Kf,Mn.keys=Zi,Mn.keysIn=so,Mn.map=yr,Mn.mapKeys=vv,Mn.mapValues=yv,Mn.matches=dy,Mn.matchesProperty=hy,Mn.memoize=_r,Mn.merge=gv,Mn.mergeWith=ec,Mn.method=py,Mn.methodOf=fy,Mn.mixin=ks,Mn.negate=$r,Mn.nthArg=vy,Mn.omit=_v,Mn.omitBy=$v,Mn.once=mm,Mn.orderBy=Jf,Mn.over=yy,Mn.overArgs=vm,Mn.overEvery=gy,Mn.overSome=_y,Mn.partial=Os,Mn.partialRight=Wu,Mn.partition=em,Mn.pick=Sv,Mn.pickBy=tc,Mn.property=lc,Mn.propertyOf=$y,Mn.pull=Kp,Mn.pullAll=Ru,Mn.pullAllBy=Jp,Mn.pullAllWith=ef,Mn.pullAt=tf,Mn.range=Sy,Mn.rangeRight=xy,Mn.rearg=ym,Mn.reject=im,Mn.remove=nf,Mn.rest=gm,Mn.reverse=xs,Mn.sampleSize=am,Mn.set=bv,Mn.setWith=Tv,Mn.shuffle=sm,Mn.slice=of,Mn.sortBy=cm,Mn.sortedUniq=df,Mn.sortedUniqBy=hf,Mn.split=Qv,Mn.spread=_m,Mn.tail=pf,Mn.take=ff,Mn.takeRight=mf,Mn.takeRightWhile=vf,Mn.takeWhile=yf,Mn.tap=If,Mn.throttle=$m,Mn.thru=vr,Mn.toArray=Xu,Mn.toPairs=nc,Mn.toPairsIn=ic,Mn.toPath=Cy,Mn.toPlainObject=Ku,Mn.transform=Ov,Mn.unary=Sm,Mn.union=gf,Mn.unionBy=_f,Mn.unionWith=$f,Mn.uniq=Sf,Mn.uniqBy=xf,Mn.uniqWith=bf,Mn.unset=wv,Mn.unzip=bs,Mn.unzipWith=Du,Mn.update=Cv,Mn.updateWith=Av,Mn.values=$a,Mn.valuesIn=Mv,Mn.without=Tf,Mn.words=rc,Mn.wrap=xm,Mn.xor=Of,Mn.xorBy=wf,Mn.xorWith=Cf,Mn.zip=Af,Mn.zipObject=Mf,Mn.zipObjectDeep=Ef,Mn.zipWith=Pf,Mn.entries=nc,Mn.entriesIn=ic,Mn.extend=Ju,Mn.extendWith=br,ks(Mn,Mn),Mn.add=My,Mn.attempt=sc,Mn.camelCase=kv,Mn.capitalize=oc,Mn.ceil=Ey,Mn.clamp=Ev,Mn.clone=Tm,Mn.cloneDeep=wm,Mn.cloneDeepWith=Cm,Mn.cloneWith=Om,Mn.conformsTo=Am,Mn.deburr=ac,Mn.defaultTo=ly,Mn.divide=Py,Mn.endsWith=Rv,Mn.eq=Co,Mn.escape=Dv,Mn.escapeRegExp=Lv,Mn.every=Gf,Mn.find=Uf,Mn.findIndex=Eu,Mn.findKey=ov,Mn.findLast=Wf,Mn.findLastIndex=Pu,Mn.findLastKey=av,Mn.floor=Iy,Mn.forEach=Nu,Mn.forEachRight=Bu,Mn.forIn=rv,Mn.forInRight=sv,Mn.forOwn=lv,Mn.forOwnRight=uv,Mn.get=As,Mn.gt=Mm,Mn.gte=Em,Mn.has=hv,Mn.hasIn=Ms,Mn.head=ku,Mn.identity=lo,Mn.includes=Xf,Mn.indexOf=Up,Mn.inRange=Pv,Mn.invoke=mv,Mn.isArguments=aa,Mn.isArray=wi,Mn.isArrayBuffer=Pm,Mn.isArrayLike=ro,Mn.isArrayLikeObject=Wi,Mn.isBoolean=Im,Mn.isBuffer=Xo,Mn.isDate=km,Mn.isElement=Rm,Mn.isEmpty=Dm,Mn.isEqual=Lm,Mn.isEqualWith=Nm,Mn.isError=ws,Mn.isFinite=Bm,Mn.isFunction=Fo,Mn.isInteger=ju,Mn.isLength=Sr,Mn.isMap=Qu,Mn.isMatch=Fm,Mn.isMatchWith=Vm,Mn.isNaN=zm,Mn.isNative=Gm,Mn.isNil=Um,Mn.isNull=Hm,Mn.isNumber=Yu,Mn.isObject=Hi,Mn.isObjectLike=Ui,Mn.isPlainObject=Da,Mn.isRegExp=Cs,Mn.isSafeInteger=Wm,Mn.isSet=Zu,Mn.isString=xr,Mn.isSymbol=fo,Mn.isTypedArray=ga,Mn.isUndefined=jm,Mn.isWeakMap=Qm,Mn.isWeakSet=Ym,Mn.join=Zp,Mn.kebabCase=Nv,Mn.last=bo,Mn.lastIndexOf=Xp,Mn.lowerCase=Bv,Mn.lowerFirst=Fv,Mn.lt=Zm,Mn.lte=Xm,Mn.max=ky,Mn.maxBy=Ry,Mn.mean=Dy,Mn.meanBy=Ly,Mn.min=Ny,Mn.minBy=By,Mn.stubArray=Ds,Mn.stubFalse=Ls,Mn.stubObject=by,Mn.stubString=Ty,Mn.stubTrue=Oy,Mn.multiply=Fy,Mn.nth=qp,Mn.noConflict=my,Mn.noop=Rs,Mn.now=gr,Mn.pad=Vv,Mn.padEnd=zv,Mn.padStart=Gv,Mn.parseInt=Hv,Mn.random=Iv,Mn.reduce=tm,Mn.reduceRight=nm,Mn.repeat=Uv,Mn.replace=Wv,Mn.result=xv,Mn.round=Vy,Mn.runInContext=Xn,Mn.sample=om,Mn.size=lm,Mn.snakeCase=jv,Mn.some=um,Mn.sortedIndex=af,Mn.sortedIndexBy=rf,Mn.sortedIndexOf=sf,Mn.sortedLastIndex=lf,Mn.sortedLastIndexBy=uf,Mn.sortedLastIndexOf=cf,Mn.startCase=Yv,Mn.startsWith=Zv,Mn.subtract=zy,Mn.sum=Gy,Mn.sumBy=Hy,Mn.template=Xv,Mn.times=wy,Mn.toFinite=Vo,Mn.toInteger=Ci,Mn.toLength=qu,Mn.toLower=qv,Mn.toNumber=To,Mn.toSafeInteger=qm,Mn.toString=Di,Mn.toUpper=Kv,Mn.trim=Jv,Mn.trimEnd=ey,Mn.trimStart=ty,Mn.truncate=ny,Mn.unescape=iy,Mn.uniqueId=Ay,Mn.upperCase=oy,Mn.upperFirst=Es,Mn.each=Nu,Mn.eachRight=Bu,Mn.first=ku,ks(Mn,function(){var Ve={};return Mo(Mn,function(qe,jt){Li.call(Mn.prototype,jt)||(Ve[jt]=qe)}),Ve}(),{chain:!1}),Mn.VERSION=$,go(["bind","bindKey","curry","curryRight","partial","partialRight"],function(Ve){Mn[Ve].placeholder=Mn}),go(["drop","take"],function(Ve,qe){Pi.prototype[Ve]=function(jt){jt=jt===r?1:Yi(Ci(jt),0);var bn=this.__filtered__&&!qe?new Pi(this):this.clone();return bn.__filtered__?bn.__takeCount__=Ki(jt,bn.__takeCount__):bn.__views__.push({size:Ki(jt,Cn),type:Ve+(bn.__dir__<0?"Right":"")}),bn},Pi.prototype[Ve+"Right"]=function(jt){return this.reverse()[Ve](jt).reverse()}}),go(["filter","map","takeWhile"],function(Ve,qe){var jt=qe+1,bn=jt==hn||jt==_n;Pi.prototype[Ve]=function(wn){var En=this.clone();return En.__iteratees__.push({iteratee:Si(wn,3),type:jt}),En.__filtered__=En.__filtered__||bn,En}}),go(["head","last"],function(Ve,qe){var jt="take"+(qe?"Right":"");Pi.prototype[Ve]=function(){return this[jt](1).value()[0]}}),go(["initial","tail"],function(Ve,qe){var jt="drop"+(qe?"":"Right");Pi.prototype[Ve]=function(){return this.__filtered__?new Pi(this):this[jt](1)}}),Pi.prototype.compact=function(){return this.filter(lo)},Pi.prototype.find=function(Ve){return this.filter(Ve).head()},Pi.prototype.findLast=function(Ve){return this.reverse().find(Ve)},Pi.prototype.invokeMap=Mi(function(Ve,qe){return typeof Ve=="function"?new Pi(this):this.map(function(jt){return Ma(jt,Ve,qe)})}),Pi.prototype.reject=function(Ve){return this.filter($r(Si(Ve)))},Pi.prototype.slice=function(Ve,qe){Ve=Ci(Ve);var jt=this;return jt.__filtered__&&(Ve>0||qe<0)?new Pi(jt):(Ve<0?jt=jt.takeRight(-Ve):Ve&&(jt=jt.drop(Ve)),qe!==r&&(qe=Ci(qe),jt=qe<0?jt.dropRight(-qe):jt.take(qe-Ve)),jt)},Pi.prototype.takeRightWhile=function(Ve){return this.reverse().takeWhile(Ve).reverse()},Pi.prototype.toArray=function(){return this.take(Cn)},Mo(Pi.prototype,function(Ve,qe){var jt=/^(?:filter|find|map|reject)|While$/.test(qe),bn=/^(?:head|last)$/.test(qe),wn=Mn[bn?"take"+(qe=="last"?"Right":""):qe],En=bn||/^find/.test(qe);!wn||(Mn.prototype[qe]=function(){var Gn=this.__wrapped__,jn=bn?[1]:arguments,qn=Gn instanceof Pi,li=jn[0],ci=qn||wi(Gn),fi=function(Ei){var Ii=wn.apply(Mn,Ho([Ei],jn));return bn&&vi?Ii[0]:Ii};ci&&jt&&typeof li=="function"&&li.length!=1&&(qn=ci=!1);var vi=this.__chain__,_i=!!this.__actions__.length,xi=En&&!vi,Ai=qn&&!_i;if(!En&&ci){Gn=Ai?Gn:new Pi(this);var bi=Ve.apply(Gn,jn);return bi.__actions__.push({func:vr,args:[fi],thisArg:r}),new $o(bi,vi)}return xi&&Ai?Ve.apply(this,jn):(bi=this.thru(fi),xi?bn?bi.value()[0]:bi.value():bi)})}),go(["pop","push","shift","sort","splice","unshift"],function(Ve){var qe=Ga[Ve],jt=/^(?:push|sort|unshift)$/.test(Ve)?"tap":"thru",bn=/^(?:pop|shift)$/.test(Ve);Mn.prototype[Ve]=function(){var wn=arguments;if(bn&&!this.__chain__){var En=this.value();return qe.apply(wi(En)?En:[],wn)}return this[jt](function(Gn){return qe.apply(wi(Gn)?Gn:[],wn)})}}),Mo(Pi.prototype,function(Ve,qe){var jt=Mn[qe];if(jt){var bn=jt.name+"";Li.call(pa,bn)||(pa[bn]=[]),pa[bn].push({name:qe,func:jt})}}),pa[ur(r,Oe).name]=[{name:"wrapper",func:r}],Pi.prototype.clone=th,Pi.prototype.reverse=nh,Pi.prototype.value=ih,Mn.prototype.at=kf,Mn.prototype.chain=Rf,Mn.prototype.commit=Df,Mn.prototype.next=Lf,Mn.prototype.plant=Bf,Mn.prototype.reverse=Ff,Mn.prototype.toJSON=Mn.prototype.valueOf=Mn.prototype.value=Vf,Mn.prototype.first=Mn.prototype.head,xa&&(Mn.prototype[xa]=Nf),Mn},ca=Rd();qo?((qo.exports=ca)._=ca,Pr._=ca):Xi._=ca}).call(commonjsGlobal)}(lodash,lodash.exports);let formComp,routerPush,data,_withScopeId,_hoisted_1$4,_hoisted_2$1,_hoisted_3,_hoisted_4,_hoisted_5,_sfc_main$5,LayoutHeader_vue_vue_type_style_index_0_scoped_5029f223_lang,LayoutHeader,_hoisted_1$3,_sfc_main$4,LayoutContainer_vue_vue_type_style_index_0_scoped_f8ea9332_lang,LayoutContainer,_hoisted_1$2,_sfc_main$3,LayoutView_vue_vue_type_style_index_0_scoped_f86e79be_lang,Layout,business,__vite_glob_0_0,_hoisted_1$1,__default__$2,_sfc_main$2,ViewTemplate_vue_vue_type_style_index_0_scoped_f680dab5_lang,ViewTemplate,view,__vite_glob_0_1,modules,routersModules;formComp={input:g=>`
  <el-form-item
    prop="${g.prop.field}"
    label="${g.form_config.label}"
  >
    <el-input
      v-model="formData.${g.prop.field}"
      placeholder="${g.prop.placeholder}"
      :readonly="${g.prop.readonly}"
      :disabled="${g.prop.disabled}"
      :clearable="${g.prop.clearable}"
      :showPassword="${g.prop.showPassword}"
    >
    </el-input>
  </el-form-item>
    `,textarea:g=>`
  <el-form-item
    prop="${g.prop.field}"
    label="${g.form_config.label}"
  >
    <el-input
      v-model="formData.${g.prop.field}"
      placeholder="${g.prop.placeholder}"
      :readonly="${g.prop.readonly}"
      :disabled="${g.prop.disabled}"
      type="textarea"
      :rows="${g.prop.rows}"
    >
    </el-input>
  </el-form-item>
    `,select:g=>`
  <el-form-item
    prop="${g.prop.field}"
    label="${g.form_config.label}"
  >
    <el-select
      v-model="formData.${g.prop.field}"
      placeholder="${g.prop.placeholder}"
      :readonly="${g.prop.readonly}"
      :disabled="${g.prop.disabled}"
      :filterable="${g.prop.filterable}"
      :clearable="${g.prop.clearable}"
    >
      <el-option 
      v-for="item in options_${g.prop.field}"
      :key="item.value"
      :value="item.value"
      :label="item.label"
      >
      </el-option>
    </el-select>
  </el-form-item>
    `,checkbox:g=>`
  <el-form-item
    prop="${g.prop.field}"
    label="${g.form_config.label}"
  >
    <el-checkbox-group
      v-model="formData.${g.prop.field}"
      placeholder="${g.prop.placeholder}"
      :readonly="${g.prop.readonly}"
      :disabled="${g.prop.disabled}"
    >
      <el-checkbox 
      v-for="item in options_${g.prop.field}"
      :key="item.value"
      :value="item.value"
      :label="item.label"
      >
      {{item.label}}
      </el-checkbox>
    </el-checkbox-group>
  </el-form-item>
    `,color:g=>`
  <el-form-item
    prop="${g.prop.field}"
    label="${g.form_config.label}"
  >
    <el-color-picker
      v-model="formData.${g.prop.field}"
      :readonly="${g.prop.readonly}"
      :disabled="${g.prop.disabled}"
    >
    </el-color-picker>
  </el-form-item>
  `,date:g=>`
  <el-form-item
    prop="${g.prop.field}"
    label="${g.form_config.label}"
  >
    <el-date-picker
      v-model="formData.${g.prop.field}"
      :readonly="${g.prop.readonly}"
      :disabled="${g.prop.disabled}"
      value-format="${g.prop.valueFormat}"
      format="${g.prop.format}"
      type="${g.prop.type}"
      placeholder="${g.prop.placeholder}"
    >
    </el-date-picker>
  </el-form-item>
  `,number:g=>`
  <el-form-item
    prop="${g.prop.field}"
    label="${g.form_config.label}"
  >
    <el-input-number
      v-model="formData.${g.prop.field}"
      :readonly="${g.prop.readonly}"
      :disabled="${g.prop.disabled}"
      :step="${g.prop.step}"
      :min="${g.prop.min}"
      :max="${g.prop.max}"
      placeholder="${g.prop.placeholder}"
      controls-position="${g.prop.controlsPosition}"
    >
    </el-input-number>
  </el-form-item>
  `,switch:g=>`
  <el-form-item
    prop="${g.prop.field}"
    label="${g.form_config.label}"
  >
    <el-switch
      v-model="formData.${g.prop.field}"
      :disabled="${g.prop.disabled}"
      activeText="${g.prop.activeText}"
      inactiveText="${g.prop.inactiveText}"
    >
    </el-switch>
  </el-form-item>
  `,time:g=>`
  <el-form-item
    prop="${g.prop.field}"
    label="${g.form_config.label}"
  >
    <el-time-picker
      v-model="formData.${g.prop.field}"
      :disabled="${g.prop.disabled}"
      :readonly="${g.prop.readonly}"
      :arrowControl="${g.prop.arrowControl}"
      :clearable="${g.prop.clearable}"
      :isRange="${g.prop.isRange}"
      format="${g.prop.format}"
      inactiveText="${g.prop.inactiveText}"
      placeholder="${g.prop.placeholder}"
    >
    </el-time-picker>
  </el-form-item>
    `,grid:g=>{let n="";return g.prop.cols.forEach(r=>{r.list instanceof Array?r.list.forEach($=>{n+=`
          <el-col :span='${r.span}'>
              ${formComp[$.comp]($)}
          </el-col>`}):n+=""}),`
    <el-row :gutter='${g.prop.gutter}'>
    ${n}
    </el-row>`},createOptions:g=>{let n="";return g.prop.options.forEach(r=>{const $=`
  {
    label:'${r.label}',
    value:'${r.value}'
  },`;n+=$}),`
  const options_${g.prop.field} = reactive([${n}])`},createRuleFunc:g=>{const{prop:{field:n},form_config:{rules:{required:r,regular:$,message:L},label:V}}=g;return r&&$?`
    const check_${n} = (rule: any, value: any, callback: any) =>{
      if(!value){
        callback(new Error('\u8BF7\u586B\u5199${V}(${n})'))
      }else if(!/${$}/.test(value)) {
        callback(new Error('${L}'))
      }else {
        callback()
      }
    }
    `:""},createRules:g=>g.form_config.rules.required?`${g.prop.field}:[{
        required:true,
        trigger:'${g.form_config.rules.trigger}',
        ${g.form_config.rules.regular?"validator:check_"+g.prop.field:""}
      }],`:""},flat=g=>{const n=($,L,V)=>{Array.isArray(L)?L.forEach((oe,ae)=>{typeof oe=="object"&&oe!==null?n($,oe,`${V}[${ae}]`):$[`${V}[${ae}]`]=oe}):Object.keys(L).forEach(oe=>{typeof L[oe]=="object"&&L[oe]!==null?n($,L[oe],`${V}.${oe}`):$[`${V}.${oe}`]=L[oe]})},r={};return Object.keys(g).forEach($=>{typeof g[$]=="object"&&g[$]!==null?n(r,g[$],$):r[$]=g[$]}),r},unflat=g=>{const n=($,L,V)=>{const oe=$.split(".");let ae=V;for(let re=0;re<oe.length;re++){let le=oe[re],ue=oe[re+1];if(/\[.+?\]/g.test(le)){let de=le.match(/\[(.+?)\]/g),he=le.match(/^(.+?)\[/)[1];ae[he]=ae[he]?ae[he]:[];let pe=ae[he];for(let _e=0;_e<de.length;_e++){let $e=de[_e].replace(/\[|\]/g,"");de[_e+1]?(pe[$e]=pe[$e]?pe[$e]:[],pe=pe[$e]):ue?(pe[$e]=pe[$e]?pe[$e]:{},ae=pe[$e]):pe[$e]=L}}else ue?(ae[le]=ae[le]?ae[le]:{},ae=ae[le]):ae[le]=L}},r={};return Object.keys(g).forEach($=>{n($,g[$],r)}),r},routerPush=g=>{const{options:{routes:n}}=router,r=(V,oe)=>{const ae=oe||[];return V.forEach(re=>{if(ae.push(re),re.children)return r(re.children,ae)}),ae},$=lodash.exports.cloneDeep(n),L=r($).find(V=>{var oe;return((oe=V==null?void 0:V.meta)==null?void 0:oe.appId)==g});L?router.push({name:L.name,query:{appId:g}}):router.push({name:"404"})},createFormSfc=g=>{let n="",r="",$="",L="";const V=ae=>{ae.forEach(re=>{n+=formComp[re.comp](re)})},oe=ae=>{ae instanceof Array&&ae.forEach(re=>{["grid"].includes(re.comp)?re.prop.cols.forEach(le=>{oe(le.list)}):($+=formComp.createRules(re),L+=formComp.createRuleFunc(re),["select","checkbox"].includes(re.comp)&&(r+=formComp.createOptions(re)))})};return oe(g.list),V(g.list),`
  <template>
    <el-form
      size="${g.formProp.size}"
      label-position="${g.formProp.labelPosition}"
      label-width="${g.formProp.labelWidth}"
      ref="formRef"
      :model="formData"
      :rules="rules"
    >
      ${n}
    </el-form>
  </template>

  <script lang='ts' setup >
  import { reactive, toRefs, ref, PropType } from 'vue'
  import type { FormInstance } from 'element-plus'
  interface obj {
    [key:string]:any
  }
  const formRef = ref<FormInstance>()
  const formData = reactive<obj>({})
  ${L}
  const rules = reactive<obj>({${$}})
  const getFormData = () => formData
  ${r}
  const resetForm = () => {
    if (!formRef.value) return
    formRef.value.resetFields()
  }
  defineExpose({ getFormData, resetForm })
  <\/script>
  <style scoped lang='scss'>
  </style>
  `},exportFile=(g,n,r="json")=>{const $=document.createElement("a"),L=new Blob([g]);n=`${decodeURI(encodeURI(n||v4$1()))}.${r}`,$.href=URL.createObjectURL(L),$.setAttribute("download",n),document.body.appendChild($),$.click(),document.body.removeChild($)},data=[{id:13,appName:"\u56FE\u8868",appId:"66401fee-1f89-4e52-8ee1-9927a4d05e43",appType:"app",orderNum:100,pid:"",icon:"",description:""},{id:44,appName:"\u8868\u5355\u8BBE\u8BA1",appId:"2af076bc-9bae-4909-b6d3-83d583441d8d",appType:"app",orderNum:200,pid:"",icon:"",description:""},{id:65,appName:"\u5927\u5C4F\u8BBE\u8BA1",appId:"1e0349dd-9bfc-4fc6-a433-84fad5cd7551",appType:"app",orderNum:300,pid:"",icon:"",description:""}],_withScopeId=g=>(pushScopeId("data-v-5029f223"),g=g(),popScopeId(),g),_hoisted_1$4={class:"layout_header"},_hoisted_2$1=_withScopeId(()=>createBaseVNode("div",{class:"layout_header_sys_logo"},[createBaseVNode("img",{src:_imports_0,alt:""})],-1)),_hoisted_3=_withScopeId(()=>createBaseVNode("div",{class:"layout_header_sys_title"}," \u6613\u89C6 ",-1)),_hoisted_4=[_hoisted_2$1,_hoisted_3],_hoisted_5={class:"layout_header_sys_opt"},_sfc_main$5=defineComponent({__name:"LayoutHeader",setup(g){const n=ref(data),r=$=>{console.log($),routerPush($)};return($,L)=>{const V=__unplugin_components_0,oe=_sfc_main$6;return openBlock(),createElementBlock("header",_hoisted_1$4,[createBaseVNode("div",{class:"layout_header_sys",onClick:L[0]||(L[0]=ae=>r("home"))},_hoisted_4),createVNode$2(V,{class:"layout_header_sys_menu",mode:"horizontal",data:n.value,"replace-fields":{value:"appId",label:"appName",children:"children",icon:"icon"},onOnClickItem:r},null,8,["data"]),createBaseVNode("div",_hoisted_5,[createVNode$2(oe)])])}}}),LayoutHeader_vue_vue_type_style_index_0_scoped_5029f223_lang="",LayoutHeader=_export_sfc$2(_sfc_main$5,[["__scopeId","data-v-5029f223"]]),_hoisted_1$3={class:"layout_container"},_sfc_main$4=defineComponent({__name:"LayoutContainer",setup(g){return(n,r)=>{const $=resolveComponent("router-view"),L=resolveDirective("loading");return openBlock(),createElementBlock("main",_hoisted_1$3,[(openBlock(),createBlock(Suspense,null,{default:withCtx(()=>[createVNode$2($,null,{default:withCtx(({Component:V})=>[createVNode$2(Transition,{name:"fade"},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(V)))]),_:2},1024)]),_:1})]),fallback:withCtx(()=>[withDirectives(createBaseVNode("div",null,null,512),[[L,!0]])]),_:1}))])}}}),LayoutContainer_vue_vue_type_style_index_0_scoped_f8ea9332_lang="",LayoutContainer=_export_sfc$2(_sfc_main$4,[["__scopeId","data-v-f8ea9332"]]),_hoisted_1$2={class:"layout_main"},_sfc_main$3=defineComponent({__name:"LayoutView",setup(g){return(n,r)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createVNode$2(LayoutHeader),createVNode$2(LayoutContainer)]))}}),LayoutView_vue_vue_type_style_index_0_scoped_f86e79be_lang="",Layout=_export_sfc$2(_sfc_main$3,[["__scopeId","data-v-f86e79be"]]),business=[{path:"/",name:"business",component:Layout,children:[{path:"home",name:"home",component:()=>__vitePreload(()=>import("./HomeView.b654dc9a.js").then(async g=>(await g.__tla,g)),["./HomeView.b654dc9a.js","./HomeView.8dbba45a.css"],import.meta.url),meta:{appId:"home"}},{path:"largeScreenList",name:"largeScreenList",component:()=>__vitePreload(()=>import("./LargeScreenList.27522a98.js").then(async g=>(await g.__tla,g)),["./LargeScreenList.27522a98.js","./LargeScreenList.cfbf8b54.css"],import.meta.url),meta:{}},{path:"largeScreenConfig",name:"largeScreenConfig",component:()=>__vitePreload(()=>import("./LargeScreenConfig.6effb5db.js").then(async g=>(await g.__tla,g)),["./LargeScreenConfig.6effb5db.js","./LargeScreenConfig.4a1bdf45.css"],import.meta.url),meta:{appId:"1e0349dd-9bfc-4fc6-a433-84fad5cd7551"}},{path:"chart",name:"chart",component:()=>__vitePreload(()=>import("./ChartList.26e1845c.js").then(async g=>(await g.__tla,g)),["./ChartList.26e1845c.js","./overlay.7a07c34e.js","./overlay.e1a23eaf.css","./api.762b2c82.js","./ChartList.6a71516c.css"],import.meta.url)},{path:"chartConfig",name:"chartConfig",component:()=>__vitePreload(()=>import("./ChartConfig.380656c4.js").then(async g=>(await g.__tla,g)),["./ChartConfig.380656c4.js","./tab-pane.3a3f0482.js","./tab-pane.e194bc73.css","./api.762b2c82.js","./ChartConfig.2028db6c.css"],import.meta.url),props:g=>({chartId:g.query.chartId||g.params.chartId,opType:g.query.opType||g.params.opType,chartType:g.query.chartType||g.params.chartType}),meta:{appId:"66401fee-1f89-4e52-8ee1-9927a4d05e43"}},{path:"formDesign",name:"formDesign",component:()=>__vitePreload(()=>import("./FormDesign.483403e8.js").then(async g=>(await g.__tla,g)),["./FormDesign.483403e8.js","./tab-pane.3a3f0482.js","./tab-pane.e194bc73.css","./overlay.7a07c34e.js","./overlay.e1a23eaf.css","./FormDesign.05ba8f27.css"],import.meta.url),meta:{appId:"2af076bc-9bae-4909-b6d3-83d583441d8d"}},{path:"404",name:"404",component:()=>__vitePreload(()=>import("./404View.fc899bb9.js").then(async g=>(await g.__tla,g)),[],import.meta.url)}]}],__vite_glob_0_0=Object.freeze(Object.defineProperty({__proto__:null,default:business},Symbol.toStringTag,{value:"Module"})),_hoisted_1$1={class:"view_container"},__default__$2=defineComponent({name:"viewTemplate"}),_sfc_main$2=defineComponent({...__default__$2,setup(g){return(n,r)=>{const $=resolveComponent("router-view");return openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode$2($)])}}}),ViewTemplate_vue_vue_type_style_index_0_scoped_f680dab5_lang="",ViewTemplate=_export_sfc$2(_sfc_main$2,[["__scopeId","data-v-f680dab5"]]),view=[{path:"/view",name:"view",component:ViewTemplate,children:[{path:"chartView/:chartId",name:"chartView",component:()=>__vitePreload(()=>Promise.resolve().then(()=>__vite_glob_1_0),void 0,import.meta.url),props:g=>({chartId:g.query.chartId||g.params.chartId}),meta:{noLogin:!0}}]}],__vite_glob_0_1=Object.freeze(Object.defineProperty({__proto__:null,default:view},Symbol.toStringTag,{value:"Module"})),modules=Object.assign({"./modules/business.ts":__vite_glob_0_0,"./modules/view.ts":__vite_glob_0_1}),routersModules=[];for(const g in modules){const n=await modules[g];routersModules.push(...n.default)}const routes=[{path:"/",redirect:"/home"},...routersModules],router=createRouter({history:createWebHashHistory(),routes}),base$1="",elBadge="",elMessage="",normalize$4="",iconfont="",theme$1="",layout$4="",githubMarkdown="",copyText=g=>{const n=document.createElement("input");n.value=g,document.body.appendChild(n),n.select();try{document.execCommand("Copy")}catch(r){console.error(`\u590D\u5236\u5931\u8D25:${r}`)}document.body.removeChild(n)},copy$2={name:"copy",options:{mounted(g,n){const{arg:r="click",value:$}=n;g.addEventListener(r,()=>{copyText($)})}}};var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(g){return typeof g=="string"&&REGEX.test(g)}for(var byteToHex=[],i$1=0;i$1<256;++i$1)byteToHex.push((i$1+256).toString(16).substr(1));function stringify$1(g){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(byteToHex[g[n+0]]+byteToHex[g[n+1]]+byteToHex[g[n+2]]+byteToHex[g[n+3]]+"-"+byteToHex[g[n+4]]+byteToHex[g[n+5]]+"-"+byteToHex[g[n+6]]+byteToHex[g[n+7]]+"-"+byteToHex[g[n+8]]+byteToHex[g[n+9]]+"-"+byteToHex[g[n+10]]+byteToHex[g[n+11]]+byteToHex[g[n+12]]+byteToHex[g[n+13]]+byteToHex[g[n+14]]+byteToHex[g[n+15]]).toLowerCase();if(!validate(r))throw TypeError("Stringified UUID is invalid");return r}function v4(g,n,r){g=g||{};var $=g.random||(g.rng||rng)();if($[6]=$[6]&15|64,$[8]=$[8]&63|128,n){r=r||0;for(var L=0;L<16;++L)n[r+L]=$[L];return n}return stringify$1($)}const _hoisted_1={class:"drag-resize-container"},_hoisted_2=["onMousedown"],__default__$1=defineComponent({name:"GuDragResize"}),_sfc_main$1=defineComponent({...__default__$1,props:{nodeKey:{default:v4()},minh:{default:10},minw:{default:10},disabled:{type:[Boolean,String],default:!1},init:{default:()=>({width:100,height:100,top:0,left:0})}},emits:["onDragResize"],setup(g,{emit:n}){const r=g,{nodeKey:$,minh:L,minw:V,init:oe,disabled:ae}=toRefs(r),re=ref(),le=pe=>{if(he(ae.value,"drag"))console.warn("\u62D6\u62FD\u529F\u80FD\u5DF2\u88AB\u7981\u7528");else{const _e=re.value.parentElement;let $e=_e.style.position;_e.style.position="relative";let{left:xe,top:Oe}=de(),Ce=pe.clientX-parseFloat(xe)||re.value.offsetLeft,Ie=pe.clientY-parseFloat(Oe)||re.value.offsetTop;pe.preventDefault(),document.onmousemove=function(Ne){let ze=Ne.clientX-Ce,Fe=Ne.clientY-Ie;ze<0?ze=0:ze>_e.clientWidth-re.value.clientWidth&&(ze=_e.clientWidth-re.value.clientWidth),Fe<0?Fe=0:Fe>_e.clientHeight-re.value.clientHeight&&(Fe=_e.clientHeight-re.value.clientHeight),re.value.style.transform=`translate3d(${ze}px, ${Fe}px,0)`},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,_e.style.position=$e;let{left:Ne,top:ze}=de();n("onDragResize",{left:Ne,top:ze,height:re.value.style.height,width:re.value.style.width,nodeKey:$.value})}}},ue=()=>{if(he(ae.value,"resize"))console.warn("\u8BBE\u7F6E\u5927\u5C0F\u529F\u80FD\u5DF2\u88AB\u7981\u7528");else{const pe=re.value.parentElement,_e=window.event;_e==null||_e.stopPropagation(),_e==null||_e.preventDefault();const $e=re.value.clientHeight,xe=re.value.clientWidth,Oe=_e.clientX,Ce=_e.clientY,Ie=ze=>{const Fe=ze.clientX,Ue=ze.clientY-Ce,At=Fe-Oe,Et=$e+Ue>L.value?$e+Ue>pe.clientHeight?pe.clientHeight:$e+Ue:L.value,Pt=xe+At>V.value?xe+At>pe.clientWidth?pe.clientWidth:xe+At:V.value;re.value.style.width=Pt+"px",re.value.style.height=Et+"px"},Ne=()=>{document.removeEventListener("mousemove",Ie),document.removeEventListener("mouseup",Ne);let{left:ze,top:Fe}=de();n("onDragResize",{left:ze,top:Fe,height:re.value.style.height,width:re.value.style.width,nodeKey:$.value})};document.addEventListener("mousemove",Ie),document.addEventListener("mouseup",Ne)}},de=()=>{let pe=/(\d+px, \d+px)/,[_e,$e]=re.value.style.transform.match(pe)[0].split(",");return{left:_e,top:$e}},he=(pe,_e)=>typeof pe=="boolean"?pe:_e==pe;return onMounted(()=>{re.value.parentElement.style.position="relative",re.value.style.height=oe.value.height+"px",re.value.style.width=oe.value.width+"px",re.value.style.transform=`translate3d(${oe.value.left}px, ${oe.value.top}px,0)`}),(pe,_e)=>(openBlock(),createElementBlock("div",{ref_key:"dragResize",ref:re,class:normalizeClass(["drag-resize",he(unref(ae),"drag")?"disabled":""]),onMousedown:le},[createBaseVNode("div",_hoisted_1,[renderSlot(pe.$slots,"default",{},void 0,!0)]),he(unref(ae),"resize")?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,ref:"resizeNode",class:normalizeClass([he(unref(ae),"resize")?"disabled":"","resize-node"]),onMousedown:withModifiers(ue,["stop"])},null,42,_hoisted_2))],34))}}),_export_sfc=(g,n)=>{const r=g.__vccOpts||g;for(const[$,L]of n)r[$]=L;return r},GuDragResize=_export_sfc(_sfc_main$1,[["__scopeId","data-v-1c82b8e4"]]);var extendStatics=function(g,n){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,$){r.__proto__=$}||function(r,$){for(var L in $)Object.prototype.hasOwnProperty.call($,L)&&(r[L]=$[L])},extendStatics(g,n)};function __extends(g,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");extendStatics(g,n);function r(){this.constructor=g}g.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Browser=function(){function g(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return g}(),Env=function(){function g(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return g}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:typeof navigator>"u"?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(g,n){var r=n.browser,$=g.match(/Firefox\/([\d.]+)/),L=g.match(/MSIE\s([\d.]+)/)||g.match(/Trident\/.+?rv:(([\d.]+))/),V=g.match(/Edge?\/([\d.]+)/),oe=/micromessenger/i.test(g);$&&(r.firefox=!0,r.version=$[1]),L&&(r.ie=!0,r.version=L[1]),V&&(r.edge=!0,r.version=V[1],r.newEdge=+V[1].split(".")[0]>18),oe&&(r.weChat=!0),n.svgSupported=typeof SVGRect<"u",n.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,n.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),n.domSupported=typeof document<"u";var ae=document.documentElement.style;n.transform3dSupported=(r.ie&&"transition"in ae||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in ae)&&!("OTransition"in ae),n.transformSupported=n.transform3dSupported||r.ie&&+r.version>=9}const env$1=env;var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(g){var n={};if(typeof JSON>"u")return n;for(var r=0;r<g.length;r++){var $=String.fromCharCode(r+32),L=(g.charCodeAt(r)-OFFSET)/SCALE;n[$]=L}return n}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var g,n;return function(r,$){if(!g){var L=platformApi.createCanvas();g=L&&L.getContext("2d")}if(g)return n!==$&&(n=g.font=$||DEFAULT_FONT),g.measureText(r);r=r||"",$=$||DEFAULT_FONT;var V=/(\d+)px/.exec($),oe=V&&+V[1]||DEFAULT_FONT_SIZE,ae=0;if($.indexOf("mono")>=0)ae=oe*r.length;else for(var re=0;re<r.length;re++){var le=DEFAULT_TEXT_WIDTH_MAP[r[re]];ae+=le==null?oe:le*oe}return{width:ae}}}(),loadImage:function(g,n,r){var $=new Image;return $.onload=n,$.onerror=r,$.src=g,$}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(g,n){return g["[object "+n+"]"]=!0,g},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(g,n){return g["[object "+n+"Array]"]=!0,g},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=function(){}.constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var g=[],n=0;n<arguments.length;n++)g[n]=arguments[n];typeof console<"u"&&console.error.apply(console,g)}function clone$4(g){if(g==null||typeof g!="object")return g;var n=g,r=objToString.call(g);if(r==="[object Array]"){if(!isPrimitive(g)){n=[];for(var $=0,L=g.length;$<L;$++)n[$]=clone$4(g[$])}}else if(TYPED_ARRAY[r]){if(!isPrimitive(g)){var V=g.constructor;if(V.from)n=V.from(g);else{n=new V(g.length);for(var $=0,L=g.length;$<L;$++)n[$]=g[$]}}}else if(!BUILTIN_OBJECT[r]&&!isPrimitive(g)&&!isDom(g)){n={};for(var oe in g)g.hasOwnProperty(oe)&&oe!==protoKey&&(n[oe]=clone$4(g[oe]))}return n}function merge$1(g,n,r){if(!isObject$4(n)||!isObject$4(g))return r?clone$4(n):g;for(var $ in n)if(n.hasOwnProperty($)&&$!==protoKey){var L=g[$],V=n[$];isObject$4(V)&&isObject$4(L)&&!isArray$2(V)&&!isArray$2(L)&&!isDom(V)&&!isDom(L)&&!isBuiltInObject(V)&&!isBuiltInObject(L)&&!isPrimitive(V)&&!isPrimitive(L)?merge$1(L,V,r):(r||!($ in g))&&(g[$]=clone$4(n[$]))}return g}function mergeAll(g,n){for(var r=g[0],$=1,L=g.length;$<L;$++)r=merge$1(r,g[$],n);return r}function extend$1(g,n){if(Object.assign)Object.assign(g,n);else for(var r in n)n.hasOwnProperty(r)&&r!==protoKey&&(g[r]=n[r]);return g}function defaults$2(g,n,r){for(var $=keys(n),L=0;L<$.length;L++){var V=$[L];(r?n[V]!=null:g[V]==null)&&(g[V]=n[V])}return g}function indexOf(g,n){if(g){if(g.indexOf)return g.indexOf(n);for(var r=0,$=g.length;r<$;r++)if(g[r]===n)return r}return-1}function inherits$1(g,n){var r=g.prototype;function $(){}$.prototype=n.prototype,g.prototype=new $;for(var L in r)r.hasOwnProperty(L)&&(g.prototype[L]=r[L]);g.prototype.constructor=g,g.superClass=n}function mixin(g,n,r){if(g="prototype"in g?g.prototype:g,n="prototype"in n?n.prototype:n,Object.getOwnPropertyNames)for(var $=Object.getOwnPropertyNames(n),L=0;L<$.length;L++){var V=$[L];V!=="constructor"&&(r?n[V]!=null:g[V]==null)&&(g[V]=n[V])}else defaults$2(g,n,r)}function isArrayLike(g){return!g||typeof g=="string"?!1:typeof g.length=="number"}function each$f(g,n,r){if(g&&n)if(g.forEach&&g.forEach===nativeForEach)g.forEach(n,r);else if(g.length===+g.length)for(var $=0,L=g.length;$<L;$++)n.call(r,g[$],$,g);else for(var V in g)g.hasOwnProperty(V)&&n.call(r,g[V],V,g)}function map$1(g,n,r){if(!g)return[];if(!n)return slice(g);if(g.map&&g.map===nativeMap)return g.map(n,r);for(var $=[],L=0,V=g.length;L<V;L++)$.push(n.call(r,g[L],L,g));return $}function reduce(g,n,r,$){if(g&&n){for(var L=0,V=g.length;L<V;L++)r=n.call($,r,g[L],L,g);return r}}function filter(g,n,r){if(!g)return[];if(!n)return slice(g);if(g.filter&&g.filter===nativeFilter)return g.filter(n,r);for(var $=[],L=0,V=g.length;L<V;L++)n.call(r,g[L],L,g)&&$.push(g[L]);return $}function find(g,n,r){if(g&&n){for(var $=0,L=g.length;$<L;$++)if(n.call(r,g[$],$,g))return g[$]}}function keys(g){if(!g)return[];if(Object.keys)return Object.keys(g);var n=[];for(var r in g)g.hasOwnProperty(r)&&n.push(r);return n}function bindPolyfill(g,n){for(var r=[],$=2;$<arguments.length;$++)r[$-2]=arguments[$];return function(){return g.apply(n,r.concat(nativeSlice.call(arguments)))}}var bind$2=protoFunction&&isFunction$1(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(g){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){return g.apply(this,n.concat(nativeSlice.call(arguments)))}}function isArray$2(g){return Array.isArray?Array.isArray(g):objToString.call(g)==="[object Array]"}function isFunction$1(g){return typeof g=="function"}function isString$1(g){return typeof g=="string"}function isStringSafe(g){return objToString.call(g)==="[object String]"}function isNumber$1(g){return typeof g=="number"}function isObject$4(g){var n=typeof g;return n==="function"||!!g&&n==="object"}function isBuiltInObject(g){return!!BUILTIN_OBJECT[objToString.call(g)]}function isTypedArray$1(g){return!!TYPED_ARRAY[objToString.call(g)]}function isDom(g){return typeof g=="object"&&typeof g.nodeType=="number"&&typeof g.ownerDocument=="object"}function isGradientObject(g){return g.colorStops!=null}function isImagePatternObject(g){return g.image!=null}function isRegExp$1(g){return objToString.call(g)==="[object RegExp]"}function eqNaN(g){return g!==g}function retrieve(){for(var g=[],n=0;n<arguments.length;n++)g[n]=arguments[n];for(var r=0,$=g.length;r<$;r++)if(g[r]!=null)return g[r]}function retrieve2(g,n){return g!=null?g:n}function retrieve3(g,n,r){var $;return($=g!=null?g:n)!=null?$:r}function slice(g){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return nativeSlice.apply(g,n)}function normalizeCssArray$1(g){if(typeof g=="number")return[g,g,g,g];var n=g.length;return n===2?[g[0],g[1],g[0],g[1]]:n===3?[g[0],g[1],g[2],g[1]]:g}function assert(g,n){if(!g)throw new Error(n)}function trim$2(g){return g==null?null:typeof g.trim=="function"?g.trim():g.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(g){g[primitiveKey]=!0}function isPrimitive(g){return g[primitiveKey]}var MapPolyfill=function(){function g(){this.data={}}return g.prototype.delete=function(n){var r=this.has(n);return r&&delete this.data[n],r},g.prototype.has=function(n){return this.data.hasOwnProperty(n)},g.prototype.get=function(n){return this.data[n]},g.prototype.set=function(n,r){return this.data[n]=r,this},g.prototype.keys=function(){return keys(this.data)},g.prototype.forEach=function(n){var r=this.data;for(var $ in r)r.hasOwnProperty($)&&n(r[$],$)},g}(),isNativeMapSupported=typeof Map=="function";function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=function(){function g(n){var r=isArray$2(n);this.data=maybeNativeMap();var $=this;n instanceof g?n.each(L):n&&each$f(n,L);function L(V,oe){r?$.set(V,oe):$.set(oe,V)}}return g.prototype.hasKey=function(n){return this.data.has(n)},g.prototype.get=function(n){return this.data.get(n)},g.prototype.set=function(n,r){return this.data.set(n,r),r},g.prototype.each=function(n,r){this.data.forEach(function($,L){n.call(r,$,L)})},g.prototype.keys=function(){var n=this.data.keys();return isNativeMapSupported?Array.from(n):n},g.prototype.removeKey=function(n){this.data.delete(n)},g}();function createHashMap(g){return new HashMap(g)}function concatArray(g,n){for(var r=new g.constructor(g.length+n.length),$=0;$<g.length;$++)r[$]=g[$];for(var L=g.length,$=0;$<n.length;$++)r[$+L]=n[$];return r}function createObject(g,n){var r;if(Object.create)r=Object.create(g);else{var $=function(){};$.prototype=g,r=new $}return n&&extend$1(r,n),r}function disableUserSelect(g){var n=g.style;n.webkitUserSelect="none",n.userSelect="none",n.webkitTapHighlightColor="rgba(0,0,0,0)",n["-webkit-touch-callout"]="none"}function hasOwn(g,n){return g.hasOwnProperty(n)}function noop$1(){}var RADIAN_TO_DEGREE=180/Math.PI;function create$2(g,n){return g==null&&(g=0),n==null&&(n=0),[g,n]}function copy$1(g,n){return g[0]=n[0],g[1]=n[1],g}function clone$3(g){return[g[0],g[1]]}function set$1(g,n,r){return g[0]=n,g[1]=r,g}function add(g,n,r){return g[0]=n[0]+r[0],g[1]=n[1]+r[1],g}function scaleAndAdd$1(g,n,r,$){return g[0]=n[0]+r[0]*$,g[1]=n[1]+r[1]*$,g}function sub(g,n,r){return g[0]=n[0]-r[0],g[1]=n[1]-r[1],g}function len(g){return Math.sqrt(lenSquare(g))}function lenSquare(g){return g[0]*g[0]+g[1]*g[1]}function scale$2(g,n,r){return g[0]=n[0]*r,g[1]=n[1]*r,g}function normalize$3(g,n){var r=len(n);return r===0?(g[0]=0,g[1]=0):(g[0]=n[0]/r,g[1]=n[1]/r),g}function distance(g,n){return Math.sqrt((g[0]-n[0])*(g[0]-n[0])+(g[1]-n[1])*(g[1]-n[1]))}var dist$1=distance;function distanceSquare(g,n){return(g[0]-n[0])*(g[0]-n[0])+(g[1]-n[1])*(g[1]-n[1])}var distSquare=distanceSquare;function lerp$1(g,n,r,$){return g[0]=n[0]+$*(r[0]-n[0]),g[1]=n[1]+$*(r[1]-n[1]),g}function applyTransform$1(g,n,r){var $=n[0],L=n[1];return g[0]=r[0]*$+r[2]*L+r[4],g[1]=r[1]*$+r[3]*L+r[5],g}function min$1(g,n,r){return g[0]=Math.min(n[0],r[0]),g[1]=Math.min(n[1],r[1]),g}function max$1(g,n,r){return g[0]=Math.max(n[0],r[0]),g[1]=Math.max(n[1],r[1]),g}var Param=function(){function g(n,r){this.target=n,this.topTarget=r&&r.topTarget}return g}(),Draggable=function(){function g(n){this.handler=n,n.on("mousedown",this._dragStart,this),n.on("mousemove",this._drag,this),n.on("mouseup",this._dragEnd,this)}return g.prototype._dragStart=function(n){for(var r=n.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this.handler.dispatchToElement(new Param(r,n),"dragstart",n.event))},g.prototype._drag=function(n){var r=this._draggingTarget;if(r){var $=n.offsetX,L=n.offsetY,V=$-this._x,oe=L-this._y;this._x=$,this._y=L,r.drift(V,oe,n),this.handler.dispatchToElement(new Param(r,n),"drag",n.event);var ae=this.handler.findHover($,L,r).target,re=this._dropTarget;this._dropTarget=ae,r!==ae&&(re&&ae!==re&&this.handler.dispatchToElement(new Param(re,n),"dragleave",n.event),ae&&ae!==re&&this.handler.dispatchToElement(new Param(ae,n),"dragenter",n.event))}},g.prototype._dragEnd=function(n){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new Param(r,n),"dragend",n.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,n),"drop",n.event),this._draggingTarget=null,this._dropTarget=null},g}();const Draggable$1=Draggable;var Eventful=function(){function g(n){n&&(this._$eventProcessor=n)}return g.prototype.on=function(n,r,$,L){this._$handlers||(this._$handlers={});var V=this._$handlers;if(typeof r=="function"&&(L=$,$=r,r=null),!$||!n)return this;var oe=this._$eventProcessor;r!=null&&oe&&oe.normalizeQuery&&(r=oe.normalizeQuery(r)),V[n]||(V[n]=[]);for(var ae=0;ae<V[n].length;ae++)if(V[n][ae].h===$)return this;var re={h:$,query:r,ctx:L||this,callAtLast:$.zrEventfulCallAtLast},le=V[n].length-1,ue=V[n][le];return ue&&ue.callAtLast?V[n].splice(le,0,re):V[n].push(re),this},g.prototype.isSilent=function(n){var r=this._$handlers;return!r||!r[n]||!r[n].length},g.prototype.off=function(n,r){var $=this._$handlers;if(!$)return this;if(!n)return this._$handlers={},this;if(r){if($[n]){for(var L=[],V=0,oe=$[n].length;V<oe;V++)$[n][V].h!==r&&L.push($[n][V]);$[n]=L}$[n]&&$[n].length===0&&delete $[n]}else delete $[n];return this},g.prototype.trigger=function(n){for(var r=[],$=1;$<arguments.length;$++)r[$-1]=arguments[$];if(!this._$handlers)return this;var L=this._$handlers[n],V=this._$eventProcessor;if(L)for(var oe=r.length,ae=L.length,re=0;re<ae;re++){var le=L[re];if(!(V&&V.filter&&le.query!=null&&!V.filter(n,le.query)))switch(oe){case 0:le.h.call(le.ctx);break;case 1:le.h.call(le.ctx,r[0]);break;case 2:le.h.call(le.ctx,r[0],r[1]);break;default:le.h.apply(le.ctx,r);break}}return V&&V.afterTrigger&&V.afterTrigger(n),this},g.prototype.triggerWithContext=function(n){for(var r=[],$=1;$<arguments.length;$++)r[$-1]=arguments[$];if(!this._$handlers)return this;var L=this._$handlers[n],V=this._$eventProcessor;if(L)for(var oe=r.length,ae=r[oe-1],re=L.length,le=0;le<re;le++){var ue=L[le];if(!(V&&V.filter&&ue.query!=null&&!V.filter(n,ue.query)))switch(oe){case 0:ue.h.call(ae);break;case 1:ue.h.call(ae,r[0]);break;case 2:ue.h.call(ae,r[0],r[1]);break;default:ue.h.apply(ae,r.slice(1,oe-1));break}}return V&&V.afterTrigger&&V.afterTrigger(n),this},g}();const Eventful$1=Eventful;var LN2=Math.log(2);function determinant(g,n,r,$,L,V){var oe=$+"-"+L,ae=g.length;if(V.hasOwnProperty(oe))return V[oe];if(n===1){var re=Math.round(Math.log((1<<ae)-1&~L)/LN2);return g[r][re]}for(var le=$|1<<r,ue=r+1;$&1<<ue;)ue++;for(var de=0,he=0,pe=0;he<ae;he++){var _e=1<<he;_e&L||(de+=(pe%2?-1:1)*g[r][he]*determinant(g,n-1,ue,le,L|_e,V),pe++)}return V[oe]=de,de}function buildTransformer(g,n){var r=[[g[0],g[1],1,0,0,0,-n[0]*g[0],-n[0]*g[1]],[0,0,0,g[0],g[1],1,-n[1]*g[0],-n[1]*g[1]],[g[2],g[3],1,0,0,0,-n[2]*g[2],-n[2]*g[3]],[0,0,0,g[2],g[3],1,-n[3]*g[2],-n[3]*g[3]],[g[4],g[5],1,0,0,0,-n[4]*g[4],-n[4]*g[5]],[0,0,0,g[4],g[5],1,-n[5]*g[4],-n[5]*g[5]],[g[6],g[7],1,0,0,0,-n[6]*g[6],-n[6]*g[7]],[0,0,0,g[6],g[7],1,-n[7]*g[6],-n[7]*g[7]]],$={},L=determinant(r,8,0,0,0,$);if(L!==0){for(var V=[],oe=0;oe<8;oe++)for(var ae=0;ae<8;ae++)V[ae]==null&&(V[ae]=0),V[ae]+=((oe+ae)%2?-1:1)*determinant(r,7,oe===0?1:0,1<<oe,1<<ae,$)/L*n[oe];return function(re,le,ue){var de=le*V[6]+ue*V[7]+1;re[0]=(le*V[0]+ue*V[1]+V[2])/de,re[1]=(le*V[3]+ue*V[4]+V[5])/de}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(g,n,r,$,L){return transformCoordWithViewport(_calcOut$1,n,$,L,!0)&&transformCoordWithViewport(g,r,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(g,n,r,$,L){if(n.getBoundingClientRect&&env$1.domSupported&&!isCanvasEl(n)){var V=n[EVENT_SAVED_PROP]||(n[EVENT_SAVED_PROP]={}),oe=prepareCoordMarkers(n,V),ae=preparePointerTransformer(oe,V,L);if(ae)return ae(g,r,$),!0}return!1}function prepareCoordMarkers(g,n){var r=n.markers;if(r)return r;r=n.markers=[];for(var $=["left","right"],L=["top","bottom"],V=0;V<4;V++){var oe=document.createElement("div"),ae=oe.style,re=V%2,le=(V>>1)%2;ae.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",$[re]+":0",L[le]+":0",$[1-re]+":auto",L[1-le]+":auto",""].join("!important;"),g.appendChild(oe),r.push(oe)}return r}function preparePointerTransformer(g,n,r){for(var $=r?"invTrans":"trans",L=n[$],V=n.srcCoords,oe=[],ae=[],re=!0,le=0;le<4;le++){var ue=g[le].getBoundingClientRect(),de=2*le,he=ue.left,pe=ue.top;oe.push(he,pe),re=re&&V&&he===V[de]&&pe===V[de+1],ae.push(g[le].offsetLeft,g[le].offsetTop)}return re&&L?L:(n.srcCoords=oe,n[$]=r?buildTransformer(ae,oe):buildTransformer(oe,ae))}function isCanvasEl(g){return g.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(g){return g==null?"":(g+"").replace(replaceReg,function(n,r){return replaceMap[r]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env$1.browser.firefox&&+env$1.browser.version.split(".")[0]<39;function clientToLocal(g,n,r,$){return r=r||{},$?calculateZrXY(g,n,r):firefoxNotSupportOffsetXY&&n.layerX!=null&&n.layerX!==n.offsetX?(r.zrX=n.layerX,r.zrY=n.layerY):n.offsetX!=null?(r.zrX=n.offsetX,r.zrY=n.offsetY):calculateZrXY(g,n,r),r}function calculateZrXY(g,n,r){if(env$1.domSupported&&g.getBoundingClientRect){var $=n.clientX,L=n.clientY;if(isCanvasEl(g)){var V=g.getBoundingClientRect();r.zrX=$-V.left,r.zrY=L-V.top;return}else if(transformCoordWithViewport(_calcOut,g,$,L)){r.zrX=_calcOut[0],r.zrY=_calcOut[1];return}}r.zrX=r.zrY=0}function getNativeEvent(g){return g||window.event}function normalizeEvent(g,n,r){if(n=getNativeEvent(n),n.zrX!=null)return n;var $=n.type,L=$&&$.indexOf("touch")>=0;if(L){var V=$!=="touchend"?n.targetTouches[0]:n.changedTouches[0];V&&clientToLocal(g,V,n,r)}else{clientToLocal(g,n,n,r);var oe=getWheelDeltaMayPolyfill(n);n.zrDelta=oe?oe/120:-(n.detail||0)/3}var ae=n.button;return n.which==null&&ae!==void 0&&MOUSE_EVENT_REG.test(n.type)&&(n.which=ae&1?1:ae&2?3:ae&4?2:0),n}function getWheelDeltaMayPolyfill(g){var n=g.wheelDelta;if(n)return n;var r=g.deltaX,$=g.deltaY;if(r==null||$==null)return n;var L=Math.abs($!==0?$:r),V=$>0?-1:$<0?1:r>0?-1:1;return 3*L*V}function addEventListener(g,n,r,$){g.addEventListener(n,r,$)}function removeEventListener(g,n,r,$){g.removeEventListener(n,r,$)}var stop=function(g){g.preventDefault(),g.stopPropagation(),g.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(g){return g.which===2||g.which===3}var GestureMgr=function(){function g(){this._track=[]}return g.prototype.recognize=function(n,r,$){return this._doTrack(n,r,$),this._recognize(n)},g.prototype.clear=function(){return this._track.length=0,this},g.prototype._doTrack=function(n,r,$){var L=n.touches;if(L){for(var V={points:[],touches:[],target:r,event:n},oe=0,ae=L.length;oe<ae;oe++){var re=L[oe],le=clientToLocal($,re,{});V.points.push([le.zrX,le.zrY]),V.touches.push(re)}this._track.push(V)}},g.prototype._recognize=function(n){for(var r in recognizers)if(recognizers.hasOwnProperty(r)){var $=recognizers[r](this._track,n);if($)return $}},g}();function dist(g){var n=g[1][0]-g[0][0],r=g[1][1]-g[0][1];return Math.sqrt(n*n+r*r)}function center$1(g){return[(g[0][0]+g[1][0])/2,(g[0][1]+g[1][1])/2]}var recognizers={pinch:function(g,n){var r=g.length;if(r){var $=(g[r-1]||{}).points,L=(g[r-2]||{}).points||$;if(L&&L.length>1&&$&&$.length>1){var V=dist($)/dist(L);!isFinite(V)&&(V=1),n.pinchScale=V;var oe=center$1($);return n.pinchX=oe[0],n.pinchY=oe[1],{type:"pinch",target:g[0].target,event:n}}}}};function create$1(){return[1,0,0,1,0,0]}function identity(g){return g[0]=1,g[1]=0,g[2]=0,g[3]=1,g[4]=0,g[5]=0,g}function copy(g,n){return g[0]=n[0],g[1]=n[1],g[2]=n[2],g[3]=n[3],g[4]=n[4],g[5]=n[5],g}function mul(g,n,r){var $=n[0]*r[0]+n[2]*r[1],L=n[1]*r[0]+n[3]*r[1],V=n[0]*r[2]+n[2]*r[3],oe=n[1]*r[2]+n[3]*r[3],ae=n[0]*r[4]+n[2]*r[5]+n[4],re=n[1]*r[4]+n[3]*r[5]+n[5];return g[0]=$,g[1]=L,g[2]=V,g[3]=oe,g[4]=ae,g[5]=re,g}function translate(g,n,r){return g[0]=n[0],g[1]=n[1],g[2]=n[2],g[3]=n[3],g[4]=n[4]+r[0],g[5]=n[5]+r[1],g}function rotate(g,n,r){var $=n[0],L=n[2],V=n[4],oe=n[1],ae=n[3],re=n[5],le=Math.sin(r),ue=Math.cos(r);return g[0]=$*ue+oe*le,g[1]=-$*le+oe*ue,g[2]=L*ue+ae*le,g[3]=-L*le+ue*ae,g[4]=ue*V+le*re,g[5]=ue*re-le*V,g}function scale$1(g,n,r){var $=r[0],L=r[1];return g[0]=n[0]*$,g[1]=n[1]*L,g[2]=n[2]*$,g[3]=n[3]*L,g[4]=n[4]*$,g[5]=n[5]*L,g}function invert(g,n){var r=n[0],$=n[2],L=n[4],V=n[1],oe=n[3],ae=n[5],re=r*oe-V*$;return re?(re=1/re,g[0]=oe*re,g[1]=-V*re,g[2]=-$*re,g[3]=r*re,g[4]=($*ae-oe*L)*re,g[5]=(V*L-r*ae)*re,g):null}function clone$2(g){var n=create$1();return copy(n,g),n}var Point=function(){function g(n,r){this.x=n||0,this.y=r||0}return g.prototype.copy=function(n){return this.x=n.x,this.y=n.y,this},g.prototype.clone=function(){return new g(this.x,this.y)},g.prototype.set=function(n,r){return this.x=n,this.y=r,this},g.prototype.equal=function(n){return n.x===this.x&&n.y===this.y},g.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this},g.prototype.scale=function(n){this.x*=n,this.y*=n},g.prototype.scaleAndAdd=function(n,r){this.x+=n.x*r,this.y+=n.y*r},g.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this},g.prototype.dot=function(n){return this.x*n.x+this.y*n.y},g.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},g.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},g.prototype.normalize=function(){var n=this.len();return this.x/=n,this.y/=n,this},g.prototype.distance=function(n){var r=this.x-n.x,$=this.y-n.y;return Math.sqrt(r*r+$*$)},g.prototype.distanceSquare=function(n){var r=this.x-n.x,$=this.y-n.y;return r*r+$*$},g.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},g.prototype.transform=function(n){if(n){var r=this.x,$=this.y;return this.x=n[0]*r+n[2]*$+n[4],this.y=n[1]*r+n[3]*$+n[5],this}},g.prototype.toArray=function(n){return n[0]=this.x,n[1]=this.y,n},g.prototype.fromArray=function(n){this.x=n[0],this.y=n[1]},g.set=function(n,r,$){n.x=r,n.y=$},g.copy=function(n,r){n.x=r.x,n.y=r.y},g.len=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},g.lenSquare=function(n){return n.x*n.x+n.y*n.y},g.dot=function(n,r){return n.x*r.x+n.y*r.y},g.add=function(n,r,$){n.x=r.x+$.x,n.y=r.y+$.y},g.sub=function(n,r,$){n.x=r.x-$.x,n.y=r.y-$.y},g.scale=function(n,r,$){n.x=r.x*$,n.y=r.y*$},g.scaleAndAdd=function(n,r,$,L){n.x=r.x+$.x*L,n.y=r.y+$.y*L},g.lerp=function(n,r,$,L){var V=1-L;n.x=V*r.x+L*$.x,n.y=V*r.y+L*$.y},g}();const Point$1=Point;var mathMin$a=Math.min,mathMax$a=Math.max,lt=new Point$1,rb=new Point$1,lb=new Point$1,rt=new Point$1,minTv$1=new Point$1,maxTv$1=new Point$1,BoundingRect=function(){function g(n,r,$,L){$<0&&(n=n+$,$=-$),L<0&&(r=r+L,L=-L),this.x=n,this.y=r,this.width=$,this.height=L}return g.prototype.union=function(n){var r=mathMin$a(n.x,this.x),$=mathMin$a(n.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$a(n.x+n.width,this.x+this.width)-r:this.width=n.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$a(n.y+n.height,this.y+this.height)-$:this.height=n.height,this.x=r,this.y=$},g.prototype.applyTransform=function(n){g.applyTransform(this,this,n)},g.prototype.calculateTransform=function(n){var r=this,$=n.width/r.width,L=n.height/r.height,V=create$1();return translate(V,V,[-r.x,-r.y]),scale$1(V,V,[$,L]),translate(V,V,[n.x,n.y]),V},g.prototype.intersect=function(n,r){if(!n)return!1;n instanceof g||(n=g.create(n));var $=this,L=$.x,V=$.x+$.width,oe=$.y,ae=$.y+$.height,re=n.x,le=n.x+n.width,ue=n.y,de=n.y+n.height,he=!(V<re||le<L||ae<ue||de<oe);if(r){var pe=1/0,_e=0,$e=Math.abs(V-re),xe=Math.abs(le-L),Oe=Math.abs(ae-ue),Ce=Math.abs(de-oe),Ie=Math.min($e,xe),Ne=Math.min(Oe,Ce);V<re||le<L?Ie>_e&&(_e=Ie,$e<xe?Point$1.set(maxTv$1,-$e,0):Point$1.set(maxTv$1,xe,0)):Ie<pe&&(pe=Ie,$e<xe?Point$1.set(minTv$1,$e,0):Point$1.set(minTv$1,-xe,0)),ae<ue||de<oe?Ne>_e&&(_e=Ne,Oe<Ce?Point$1.set(maxTv$1,0,-Oe):Point$1.set(maxTv$1,0,Ce)):Ie<pe&&(pe=Ie,Oe<Ce?Point$1.set(minTv$1,0,Oe):Point$1.set(minTv$1,0,-Ce))}return r&&Point$1.copy(r,he?minTv$1:maxTv$1),he},g.prototype.contain=function(n,r){var $=this;return n>=$.x&&n<=$.x+$.width&&r>=$.y&&r<=$.y+$.height},g.prototype.clone=function(){return new g(this.x,this.y,this.width,this.height)},g.prototype.copy=function(n){g.copy(this,n)},g.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},g.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},g.prototype.isZero=function(){return this.width===0||this.height===0},g.create=function(n){return new g(n.x,n.y,n.width,n.height)},g.copy=function(n,r){n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height},g.applyTransform=function(n,r,$){if(!$){n!==r&&g.copy(n,r);return}if($[1]<1e-5&&$[1]>-1e-5&&$[2]<1e-5&&$[2]>-1e-5){var L=$[0],V=$[3],oe=$[4],ae=$[5];n.x=r.x*L+oe,n.y=r.y*V+ae,n.width=r.width*L,n.height=r.height*V,n.width<0&&(n.x+=n.width,n.width=-n.width),n.height<0&&(n.y+=n.height,n.height=-n.height);return}lt.x=lb.x=r.x,lt.y=rt.y=r.y,rb.x=rt.x=r.x+r.width,rb.y=lb.y=r.y+r.height,lt.transform($),rt.transform($),rb.transform($),lb.transform($),n.x=mathMin$a(lt.x,rb.x,lb.x,rt.x),n.y=mathMin$a(lt.y,rb.y,lb.y,rt.y);var re=mathMax$a(lt.x,rb.x,lb.x,rt.x),le=mathMax$a(lt.y,rb.y,lb.y,rt.y);n.width=re-n.x,n.height=le-n.y},g}();const BoundingRect$1=BoundingRect;var SILENT="silent";function makeEventPacket(g,n,r){return{type:g,event:r,target:n.target,topTarget:n.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var EmptyProxy=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.handler=null,r}return n.prototype.dispose=function(){},n.prototype.setCursor=function(){},n}(Eventful$1),HoveredResult=function(){function g(n,r){this.x=n,this.y=r}return g}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect$1(0,0,0,0),Handler=function(g){__extends(n,g);function n(r,$,L,V,oe){var ae=g.call(this)||this;return ae._hovered=new HoveredResult(0,0),ae.storage=r,ae.painter=$,ae.painterRoot=V,ae._pointerSize=oe,L=L||new EmptyProxy,ae.proxy=null,ae.setHandlerProxy(L),ae._draggingMgr=new Draggable$1(ae),ae}return n.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(each$f(handlerNames,function($){r.on&&r.on($,this[$],this)},this),r.handler=this),this.proxy=r},n.prototype.mousemove=function(r){var $=r.zrX,L=r.zrY,V=isOutsideBoundary(this,$,L),oe=this._hovered,ae=oe.target;ae&&!ae.__zr&&(oe=this.findHover(oe.x,oe.y),ae=oe.target);var re=this._hovered=V?new HoveredResult($,L):this.findHover($,L),le=re.target,ue=this.proxy;ue.setCursor&&ue.setCursor(le?le.cursor:"default"),ae&&le!==ae&&this.dispatchToElement(oe,"mouseout",r),this.dispatchToElement(re,"mousemove",r),le&&le!==ae&&this.dispatchToElement(re,"mouseover",r)},n.prototype.mouseout=function(r){var $=r.zrEventControl;$!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),$!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},n.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},n.prototype.dispatch=function(r,$){var L=this[r];L&&L.call(this,$)},n.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},n.prototype.setCursorStyle=function(r){var $=this.proxy;$.setCursor&&$.setCursor(r)},n.prototype.dispatchToElement=function(r,$,L){r=r||{};var V=r.target;if(!(V&&V.silent)){for(var oe="on"+$,ae=makeEventPacket($,r,L);V&&(V[oe]&&(ae.cancelBubble=!!V[oe].call(V,ae)),V.trigger($,ae),V=V.__hostTarget?V.__hostTarget:V.parent,!ae.cancelBubble););ae.cancelBubble||(this.trigger($,ae),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(re){typeof re[oe]=="function"&&re[oe].call(re,ae),re.trigger&&re.trigger($,ae)}))}},n.prototype.findHover=function(r,$,L){var V=this.storage.getDisplayList(),oe=new HoveredResult(r,$);if(setHoverTarget(V,oe,r,$,L),this._pointerSize&&!oe.target){for(var ae=[],re=this._pointerSize,le=re/2,ue=new BoundingRect$1(r-le,$-le,re,re),de=V.length-1;de>=0;de--){var he=V[de];he!==L&&!he.ignore&&!he.ignoreCoarsePointer&&(!he.parent||!he.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(he.getBoundingRect()),he.transform&&tmpRect$1.applyTransform(he.transform),tmpRect$1.intersect(ue)&&ae.push(he))}if(ae.length)for(var pe=4,_e=Math.PI/12,$e=Math.PI*2,xe=0;xe<le;xe+=pe)for(var Oe=0;Oe<$e;Oe+=_e){var Ce=r+xe*Math.cos(Oe),Ie=$+xe*Math.sin(Oe);if(setHoverTarget(ae,oe,Ce,Ie,L),oe.target)return oe}}return oe},n.prototype.processGesture=function(r,$){this._gestureMgr||(this._gestureMgr=new GestureMgr);var L=this._gestureMgr;$==="start"&&L.clear();var V=L.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if($==="end"&&L.clear(),V){var oe=V.type;r.gestureEvent=oe;var ae=new HoveredResult;ae.target=V.target,this.dispatchToElement(ae,oe,V.event)}},n}(Eventful$1);each$f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(g){Handler.prototype[g]=function(n){var r=n.zrX,$=n.zrY,L=isOutsideBoundary(this,r,$),V,oe;if((g!=="mouseup"||!L)&&(V=this.findHover(r,$),oe=V.target),g==="mousedown")this._downEl=oe,this._downPoint=[n.zrX,n.zrY],this._upEl=oe;else if(g==="mouseup")this._upEl=oe;else if(g==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[n.zrX,n.zrY])>4)return;this._downPoint=null}this.dispatchToElement(V,g,n)}});function isHover(g,n,r){if(g[g.rectHover?"rectContain":"contain"](n,r)){for(var $=g,L=void 0,V=!1;$;){if($.ignoreClip&&(V=!0),!V){var oe=$.getClipPath();if(oe&&!oe.contain(n,r))return!1;$.silent&&(L=!0)}var ae=$.__hostTarget;$=ae||$.parent}return L?SILENT:!0}return!1}function setHoverTarget(g,n,r,$,L){for(var V=g.length-1;V>=0;V--){var oe=g[V],ae=void 0;if(oe!==L&&!oe.ignore&&(ae=isHover(oe,r,$))&&(!n.topTarget&&(n.topTarget=oe),ae!==SILENT)){n.target=oe;break}}}function isOutsideBoundary(g,n,r){var $=g.painter;return n<0||n>$.getWidth()||r<0||r>$.getHeight()}const Handler$1=Handler;var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(g){for(var n=0;g>=DEFAULT_MIN_MERGE;)n|=g&1,g>>=1;return g+n}function makeAscendingRun(g,n,r,$){var L=n+1;if(L===r)return 1;if($(g[L++],g[n])<0){for(;L<r&&$(g[L],g[L-1])<0;)L++;reverseRun(g,n,L)}else for(;L<r&&$(g[L],g[L-1])>=0;)L++;return L-n}function reverseRun(g,n,r){for(r--;n<r;){var $=g[n];g[n++]=g[r],g[r--]=$}}function binaryInsertionSort(g,n,r,$,L){for($===n&&$++;$<r;$++){for(var V=g[$],oe=n,ae=$,re;oe<ae;)re=oe+ae>>>1,L(V,g[re])<0?ae=re:oe=re+1;var le=$-oe;switch(le){case 3:g[oe+3]=g[oe+2];case 2:g[oe+2]=g[oe+1];case 1:g[oe+1]=g[oe];break;default:for(;le>0;)g[oe+le]=g[oe+le-1],le--}g[oe]=V}}function gallopLeft(g,n,r,$,L,V){var oe=0,ae=0,re=1;if(V(g,n[r+L])>0){for(ae=$-L;re<ae&&V(g,n[r+L+re])>0;)oe=re,re=(re<<1)+1,re<=0&&(re=ae);re>ae&&(re=ae),oe+=L,re+=L}else{for(ae=L+1;re<ae&&V(g,n[r+L-re])<=0;)oe=re,re=(re<<1)+1,re<=0&&(re=ae);re>ae&&(re=ae);var le=oe;oe=L-re,re=L-le}for(oe++;oe<re;){var ue=oe+(re-oe>>>1);V(g,n[r+ue])>0?oe=ue+1:re=ue}return re}function gallopRight(g,n,r,$,L,V){var oe=0,ae=0,re=1;if(V(g,n[r+L])<0){for(ae=L+1;re<ae&&V(g,n[r+L-re])<0;)oe=re,re=(re<<1)+1,re<=0&&(re=ae);re>ae&&(re=ae);var le=oe;oe=L-re,re=L-le}else{for(ae=$-L;re<ae&&V(g,n[r+L+re])>=0;)oe=re,re=(re<<1)+1,re<=0&&(re=ae);re>ae&&(re=ae),oe+=L,re+=L}for(oe++;oe<re;){var ue=oe+(re-oe>>>1);V(g,n[r+ue])<0?re=ue:oe=ue+1}return re}function TimSort(g,n){var r=DEFAULT_MIN_GALLOPING,$,L,V=0;g.length;var oe=[];$=[],L=[];function ae(pe,_e){$[V]=pe,L[V]=_e,V+=1}function re(){for(;V>1;){var pe=V-2;if(pe>=1&&L[pe-1]<=L[pe]+L[pe+1]||pe>=2&&L[pe-2]<=L[pe]+L[pe-1])L[pe-1]<L[pe+1]&&pe--;else if(L[pe]>L[pe+1])break;ue(pe)}}function le(){for(;V>1;){var pe=V-2;pe>0&&L[pe-1]<L[pe+1]&&pe--,ue(pe)}}function ue(pe){var _e=$[pe],$e=L[pe],xe=$[pe+1],Oe=L[pe+1];L[pe]=$e+Oe,pe===V-3&&($[pe+1]=$[pe+2],L[pe+1]=L[pe+2]),V--;var Ce=gallopRight(g[xe],g,_e,$e,0,n);_e+=Ce,$e-=Ce,$e!==0&&(Oe=gallopLeft(g[_e+$e-1],g,xe,Oe,Oe-1,n),Oe!==0&&($e<=Oe?de(_e,$e,xe,Oe):he(_e,$e,xe,Oe)))}function de(pe,_e,$e,xe){var Oe=0;for(Oe=0;Oe<_e;Oe++)oe[Oe]=g[pe+Oe];var Ce=0,Ie=$e,Ne=pe;if(g[Ne++]=g[Ie++],--xe===0){for(Oe=0;Oe<_e;Oe++)g[Ne+Oe]=oe[Ce+Oe];return}if(_e===1){for(Oe=0;Oe<xe;Oe++)g[Ne+Oe]=g[Ie+Oe];g[Ne+xe]=oe[Ce];return}for(var ze=r,Fe,Ue,At;;){Fe=0,Ue=0,At=!1;do if(n(g[Ie],oe[Ce])<0){if(g[Ne++]=g[Ie++],Ue++,Fe=0,--xe===0){At=!0;break}}else if(g[Ne++]=oe[Ce++],Fe++,Ue=0,--_e===1){At=!0;break}while((Fe|Ue)<ze);if(At)break;do{if(Fe=gallopRight(g[Ie],oe,Ce,_e,0,n),Fe!==0){for(Oe=0;Oe<Fe;Oe++)g[Ne+Oe]=oe[Ce+Oe];if(Ne+=Fe,Ce+=Fe,_e-=Fe,_e<=1){At=!0;break}}if(g[Ne++]=g[Ie++],--xe===0){At=!0;break}if(Ue=gallopLeft(oe[Ce],g,Ie,xe,0,n),Ue!==0){for(Oe=0;Oe<Ue;Oe++)g[Ne+Oe]=g[Ie+Oe];if(Ne+=Ue,Ie+=Ue,xe-=Ue,xe===0){At=!0;break}}if(g[Ne++]=oe[Ce++],--_e===1){At=!0;break}ze--}while(Fe>=DEFAULT_MIN_GALLOPING||Ue>=DEFAULT_MIN_GALLOPING);if(At)break;ze<0&&(ze=0),ze+=2}if(r=ze,r<1&&(r=1),_e===1){for(Oe=0;Oe<xe;Oe++)g[Ne+Oe]=g[Ie+Oe];g[Ne+xe]=oe[Ce]}else{if(_e===0)throw new Error;for(Oe=0;Oe<_e;Oe++)g[Ne+Oe]=oe[Ce+Oe]}}function he(pe,_e,$e,xe){var Oe=0;for(Oe=0;Oe<xe;Oe++)oe[Oe]=g[$e+Oe];var Ce=pe+_e-1,Ie=xe-1,Ne=$e+xe-1,ze=0,Fe=0;if(g[Ne--]=g[Ce--],--_e===0){for(ze=Ne-(xe-1),Oe=0;Oe<xe;Oe++)g[ze+Oe]=oe[Oe];return}if(xe===1){for(Ne-=_e,Ce-=_e,Fe=Ne+1,ze=Ce+1,Oe=_e-1;Oe>=0;Oe--)g[Fe+Oe]=g[ze+Oe];g[Ne]=oe[Ie];return}for(var Ue=r;;){var At=0,Et=0,Pt=!1;do if(n(oe[Ie],g[Ce])<0){if(g[Ne--]=g[Ce--],At++,Et=0,--_e===0){Pt=!0;break}}else if(g[Ne--]=oe[Ie--],Et++,At=0,--xe===1){Pt=!0;break}while((At|Et)<Ue);if(Pt)break;do{if(At=_e-gallopRight(oe[Ie],g,pe,_e,_e-1,n),At!==0){for(Ne-=At,Ce-=At,_e-=At,Fe=Ne+1,ze=Ce+1,Oe=At-1;Oe>=0;Oe--)g[Fe+Oe]=g[ze+Oe];if(_e===0){Pt=!0;break}}if(g[Ne--]=oe[Ie--],--xe===1){Pt=!0;break}if(Et=xe-gallopLeft(g[Ce],oe,0,xe,xe-1,n),Et!==0){for(Ne-=Et,Ie-=Et,xe-=Et,Fe=Ne+1,ze=Ie+1,Oe=0;Oe<Et;Oe++)g[Fe+Oe]=oe[ze+Oe];if(xe<=1){Pt=!0;break}}if(g[Ne--]=g[Ce--],--_e===0){Pt=!0;break}Ue--}while(At>=DEFAULT_MIN_GALLOPING||Et>=DEFAULT_MIN_GALLOPING);if(Pt)break;Ue<0&&(Ue=0),Ue+=2}if(r=Ue,r<1&&(r=1),xe===1){for(Ne-=_e,Ce-=_e,Fe=Ne+1,ze=Ce+1,Oe=_e-1;Oe>=0;Oe--)g[Fe+Oe]=g[ze+Oe];g[Ne]=oe[Ie]}else{if(xe===0)throw new Error;for(ze=Ne-(xe-1),Oe=0;Oe<xe;Oe++)g[ze+Oe]=oe[Oe]}}return{mergeRuns:re,forceMergeRuns:le,pushRun:ae}}function sort$2(g,n,r,$){r||(r=0),$||($=g.length);var L=$-r;if(!(L<2)){var V=0;if(L<DEFAULT_MIN_MERGE){V=makeAscendingRun(g,r,$,n),binaryInsertionSort(g,r,$,r+V,n);return}var oe=TimSort(g,n),ae=minRunLength(L);do{if(V=makeAscendingRun(g,r,$,n),V<ae){var re=L;re>ae&&(re=ae),binaryInsertionSort(g,r,r+re,r+V,n),V=re}oe.pushRun(r,V),oe.mergeRuns(),L-=V,r+=V}while(L!==0);oe.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(g,n){return g.zlevel===n.zlevel?g.z===n.z?g.z2-n.z2:g.z-n.z:g.zlevel-n.zlevel}var Storage=function(){function g(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return g.prototype.traverse=function(n,r){for(var $=0;$<this._roots.length;$++)this._roots[$].traverse(n,r)},g.prototype.getDisplayList=function(n,r){r=r||!1;var $=this._displayList;return(n||!$.length)&&this.updateDisplayList(r),$},g.prototype.updateDisplayList=function(n){this._displayListLen=0;for(var r=this._roots,$=this._displayList,L=0,V=r.length;L<V;L++)this._updateAndAddDisplayable(r[L],null,n);$.length=this._displayListLen,sort$2($,shapeCompareFunc)},g.prototype._updateAndAddDisplayable=function(n,r,$){if(!(n.ignore&&!$)){n.beforeUpdate(),n.update(),n.afterUpdate();var L=n.getClipPath();if(n.ignoreClip)r=null;else if(L){r?r=r.slice():r=[];for(var V=L,oe=n;V;)V.parent=oe,V.updateTransform(),r.push(V),oe=V,V=V.getClipPath()}if(n.childrenRef){for(var ae=n.childrenRef(),re=0;re<ae.length;re++){var le=ae[re];n.__dirty&&(le.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(le,r,$)}n.__dirty=0}else{var ue=n;r&&r.length?ue.__clipPaths=r:ue.__clipPaths&&ue.__clipPaths.length>0&&(ue.__clipPaths=[]),isNaN(ue.z)&&(logInvalidZError(),ue.z=0),isNaN(ue.z2)&&(logInvalidZError(),ue.z2=0),isNaN(ue.zlevel)&&(logInvalidZError(),ue.zlevel=0),this._displayList[this._displayListLen++]=ue}var de=n.getDecalElement&&n.getDecalElement();de&&this._updateAndAddDisplayable(de,r,$);var he=n.getTextGuideLine();he&&this._updateAndAddDisplayable(he,r,$);var pe=n.getTextContent();pe&&this._updateAndAddDisplayable(pe,r,$)}},g.prototype.addRoot=function(n){n.__zr&&n.__zr.storage===this||this._roots.push(n)},g.prototype.delRoot=function(n){if(n instanceof Array){for(var r=0,$=n.length;r<$;r++)this.delRoot(n[r]);return}var L=indexOf(this._roots,n);L>=0&&this._roots.splice(L,1)},g.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},g.prototype.getRoots=function(){return this._roots},g.prototype.dispose=function(){this._displayList=null,this._roots=null},g}();const Storage$1=Storage;var requestAnimationFrame$1;requestAnimationFrame$1=env$1.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(g){return setTimeout(g,16)};const requestAnimationFrame$1$1=requestAnimationFrame$1;var easingFuncs={linear:function(g){return g},quadraticIn:function(g){return g*g},quadraticOut:function(g){return g*(2-g)},quadraticInOut:function(g){return(g*=2)<1?.5*g*g:-.5*(--g*(g-2)-1)},cubicIn:function(g){return g*g*g},cubicOut:function(g){return--g*g*g+1},cubicInOut:function(g){return(g*=2)<1?.5*g*g*g:.5*((g-=2)*g*g+2)},quarticIn:function(g){return g*g*g*g},quarticOut:function(g){return 1- --g*g*g*g},quarticInOut:function(g){return(g*=2)<1?.5*g*g*g*g:-.5*((g-=2)*g*g*g-2)},quinticIn:function(g){return g*g*g*g*g},quinticOut:function(g){return--g*g*g*g*g+1},quinticInOut:function(g){return(g*=2)<1?.5*g*g*g*g*g:.5*((g-=2)*g*g*g*g+2)},sinusoidalIn:function(g){return 1-Math.cos(g*Math.PI/2)},sinusoidalOut:function(g){return Math.sin(g*Math.PI/2)},sinusoidalInOut:function(g){return .5*(1-Math.cos(Math.PI*g))},exponentialIn:function(g){return g===0?0:Math.pow(1024,g-1)},exponentialOut:function(g){return g===1?1:1-Math.pow(2,-10*g)},exponentialInOut:function(g){return g===0?0:g===1?1:(g*=2)<1?.5*Math.pow(1024,g-1):.5*(-Math.pow(2,-10*(g-1))+2)},circularIn:function(g){return 1-Math.sqrt(1-g*g)},circularOut:function(g){return Math.sqrt(1- --g*g)},circularInOut:function(g){return(g*=2)<1?-.5*(Math.sqrt(1-g*g)-1):.5*(Math.sqrt(1-(g-=2)*g)+1)},elasticIn:function(g){var n,r=.1,$=.4;return g===0?0:g===1?1:(!r||r<1?(r=1,n=$/4):n=$*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(g-=1))*Math.sin((g-n)*(2*Math.PI)/$)))},elasticOut:function(g){var n,r=.1,$=.4;return g===0?0:g===1?1:(!r||r<1?(r=1,n=$/4):n=$*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*g)*Math.sin((g-n)*(2*Math.PI)/$)+1)},elasticInOut:function(g){var n,r=.1,$=.4;return g===0?0:g===1?1:(!r||r<1?(r=1,n=$/4):n=$*Math.asin(1/r)/(2*Math.PI),(g*=2)<1?-.5*(r*Math.pow(2,10*(g-=1))*Math.sin((g-n)*(2*Math.PI)/$)):r*Math.pow(2,-10*(g-=1))*Math.sin((g-n)*(2*Math.PI)/$)*.5+1)},backIn:function(g){var n=1.70158;return g*g*((n+1)*g-n)},backOut:function(g){var n=1.70158;return--g*g*((n+1)*g+n)+1},backInOut:function(g){var n=2.5949095;return(g*=2)<1?.5*(g*g*((n+1)*g-n)):.5*((g-=2)*g*((n+1)*g+n)+2)},bounceIn:function(g){return 1-easingFuncs.bounceOut(1-g)},bounceOut:function(g){return g<1/2.75?7.5625*g*g:g<2/2.75?7.5625*(g-=1.5/2.75)*g+.75:g<2.5/2.75?7.5625*(g-=2.25/2.75)*g+.9375:7.5625*(g-=2.625/2.75)*g+.984375},bounceInOut:function(g){return g<.5?easingFuncs.bounceIn(g*2)*.5:easingFuncs.bounceOut(g*2-1)*.5+.5}};const easingFuncs$1=easingFuncs;var mathPow$2=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$4=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$2(),_v1=create$2(),_v2=create$2();function isAroundZero$1(g){return g>-EPSILON$4&&g<EPSILON$4}function isNotAroundZero$1(g){return g>EPSILON$4||g<-EPSILON$4}function cubicAt(g,n,r,$,L){var V=1-L;return V*V*(V*g+3*L*n)+L*L*(L*$+3*V*r)}function cubicDerivativeAt(g,n,r,$,L){var V=1-L;return 3*(((n-g)*V+2*(r-n)*L)*V+($-r)*L*L)}function cubicRootAt(g,n,r,$,L,V){var oe=$+3*(n-r)-g,ae=3*(r-n*2+g),re=3*(n-g),le=g-L,ue=ae*ae-3*oe*re,de=ae*re-9*oe*le,he=re*re-3*ae*le,pe=0;if(isAroundZero$1(ue)&&isAroundZero$1(de))if(isAroundZero$1(ae))V[0]=0;else{var _e=-re/ae;_e>=0&&_e<=1&&(V[pe++]=_e)}else{var $e=de*de-4*ue*he;if(isAroundZero$1($e)){var xe=de/ue,_e=-ae/oe+xe,Oe=-xe/2;_e>=0&&_e<=1&&(V[pe++]=_e),Oe>=0&&Oe<=1&&(V[pe++]=Oe)}else if($e>0){var Ce=mathSqrt$3($e),Ie=ue*ae+1.5*oe*(-de+Ce),Ne=ue*ae+1.5*oe*(-de-Ce);Ie<0?Ie=-mathPow$2(-Ie,ONE_THIRD):Ie=mathPow$2(Ie,ONE_THIRD),Ne<0?Ne=-mathPow$2(-Ne,ONE_THIRD):Ne=mathPow$2(Ne,ONE_THIRD);var _e=(-ae-(Ie+Ne))/(3*oe);_e>=0&&_e<=1&&(V[pe++]=_e)}else{var ze=(2*ue*ae-3*oe*de)/(2*mathSqrt$3(ue*ue*ue)),Fe=Math.acos(ze)/3,Ue=mathSqrt$3(ue),At=Math.cos(Fe),_e=(-ae-2*Ue*At)/(3*oe),Oe=(-ae+Ue*(At+THREE_SQRT*Math.sin(Fe)))/(3*oe),Et=(-ae+Ue*(At-THREE_SQRT*Math.sin(Fe)))/(3*oe);_e>=0&&_e<=1&&(V[pe++]=_e),Oe>=0&&Oe<=1&&(V[pe++]=Oe),Et>=0&&Et<=1&&(V[pe++]=Et)}}return pe}function cubicExtrema(g,n,r,$,L){var V=6*r-12*n+6*g,oe=9*n+3*$-3*g-9*r,ae=3*n-3*g,re=0;if(isAroundZero$1(oe)){if(isNotAroundZero$1(V)){var le=-ae/V;le>=0&&le<=1&&(L[re++]=le)}}else{var ue=V*V-4*oe*ae;if(isAroundZero$1(ue))L[0]=-V/(2*oe);else if(ue>0){var de=mathSqrt$3(ue),le=(-V+de)/(2*oe),he=(-V-de)/(2*oe);le>=0&&le<=1&&(L[re++]=le),he>=0&&he<=1&&(L[re++]=he)}}return re}function cubicSubdivide(g,n,r,$,L,V){var oe=(n-g)*L+g,ae=(r-n)*L+n,re=($-r)*L+r,le=(ae-oe)*L+oe,ue=(re-ae)*L+ae,de=(ue-le)*L+le;V[0]=g,V[1]=oe,V[2]=le,V[3]=de,V[4]=de,V[5]=ue,V[6]=re,V[7]=$}function cubicProjectPoint(g,n,r,$,L,V,oe,ae,re,le,ue){var de,he=.005,pe=1/0,_e,$e,xe,Oe;_v0[0]=re,_v0[1]=le;for(var Ce=0;Ce<1;Ce+=.05)_v1[0]=cubicAt(g,r,L,oe,Ce),_v1[1]=cubicAt(n,$,V,ae,Ce),xe=distSquare(_v0,_v1),xe<pe&&(de=Ce,pe=xe);pe=1/0;for(var Ie=0;Ie<32&&!(he<EPSILON_NUMERIC);Ie++)_e=de-he,$e=de+he,_v1[0]=cubicAt(g,r,L,oe,_e),_v1[1]=cubicAt(n,$,V,ae,_e),xe=distSquare(_v1,_v0),_e>=0&&xe<pe?(de=_e,pe=xe):(_v2[0]=cubicAt(g,r,L,oe,$e),_v2[1]=cubicAt(n,$,V,ae,$e),Oe=distSquare(_v2,_v0),$e<=1&&Oe<pe?(de=$e,pe=Oe):he*=.5);return ue&&(ue[0]=cubicAt(g,r,L,oe,de),ue[1]=cubicAt(n,$,V,ae,de)),mathSqrt$3(pe)}function cubicLength(g,n,r,$,L,V,oe,ae,re){for(var le=g,ue=n,de=0,he=1/re,pe=1;pe<=re;pe++){var _e=pe*he,$e=cubicAt(g,r,L,oe,_e),xe=cubicAt(n,$,V,ae,_e),Oe=$e-le,Ce=xe-ue;de+=Math.sqrt(Oe*Oe+Ce*Ce),le=$e,ue=xe}return de}function quadraticAt$1(g,n,r,$){var L=1-$;return L*(L*g+2*$*n)+$*$*r}function quadraticDerivativeAt(g,n,r,$){return 2*((1-$)*(n-g)+$*(r-n))}function quadraticRootAt(g,n,r,$,L){var V=g-2*n+r,oe=2*(n-g),ae=g-$,re=0;if(isAroundZero$1(V)){if(isNotAroundZero$1(oe)){var le=-ae/oe;le>=0&&le<=1&&(L[re++]=le)}}else{var ue=oe*oe-4*V*ae;if(isAroundZero$1(ue)){var le=-oe/(2*V);le>=0&&le<=1&&(L[re++]=le)}else if(ue>0){var de=mathSqrt$3(ue),le=(-oe+de)/(2*V),he=(-oe-de)/(2*V);le>=0&&le<=1&&(L[re++]=le),he>=0&&he<=1&&(L[re++]=he)}}return re}function quadraticExtremum(g,n,r){var $=g+r-2*n;return $===0?.5:(g-n)/$}function quadraticSubdivide(g,n,r,$,L){var V=(n-g)*$+g,oe=(r-n)*$+n,ae=(oe-V)*$+V;L[0]=g,L[1]=V,L[2]=ae,L[3]=ae,L[4]=oe,L[5]=r}function quadraticProjectPoint(g,n,r,$,L,V,oe,ae,re){var le,ue=.005,de=1/0;_v0[0]=oe,_v0[1]=ae;for(var he=0;he<1;he+=.05){_v1[0]=quadraticAt$1(g,r,L,he),_v1[1]=quadraticAt$1(n,$,V,he);var pe=distSquare(_v0,_v1);pe<de&&(le=he,de=pe)}de=1/0;for(var _e=0;_e<32&&!(ue<EPSILON_NUMERIC);_e++){var $e=le-ue,xe=le+ue;_v1[0]=quadraticAt$1(g,r,L,$e),_v1[1]=quadraticAt$1(n,$,V,$e);var pe=distSquare(_v1,_v0);if($e>=0&&pe<de)le=$e,de=pe;else{_v2[0]=quadraticAt$1(g,r,L,xe),_v2[1]=quadraticAt$1(n,$,V,xe);var Oe=distSquare(_v2,_v0);xe<=1&&Oe<de?(le=xe,de=Oe):ue*=.5}}return re&&(re[0]=quadraticAt$1(g,r,L,le),re[1]=quadraticAt$1(n,$,V,le)),mathSqrt$3(de)}function quadraticLength(g,n,r,$,L,V,oe){for(var ae=g,re=n,le=0,ue=1/oe,de=1;de<=oe;de++){var he=de*ue,pe=quadraticAt$1(g,r,L,he),_e=quadraticAt$1(n,$,V,he),$e=pe-ae,xe=_e-re;le+=Math.sqrt($e*$e+xe*xe),ae=pe,re=_e}return le}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(g){var n=g&&regexp.exec(g);if(n){var r=n[1].split(","),$=+trim$2(r[0]),L=+trim$2(r[1]),V=+trim$2(r[2]),oe=+trim$2(r[3]);if(isNaN($+L+V+oe))return;var ae=[];return function(re){return re<=0?0:re>=1?1:cubicRootAt(0,$,V,1,re,ae)&&cubicAt(0,L,oe,1,ae[0])}}}var Clip=function(){function g(n){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=n.life||1e3,this._delay=n.delay||0,this.loop=n.loop||!1,this.onframe=n.onframe||noop$1,this.ondestroy=n.ondestroy||noop$1,this.onrestart=n.onrestart||noop$1,n.easing&&this.setEasing(n.easing)}return g.prototype.step=function(n,r){if(this._inited||(this._startTime=n+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var $=this._life,L=n-this._startTime-this._pausedTime,V=L/$;V<0&&(V=0),V=Math.min(V,1);var oe=this.easingFunc,ae=oe?oe(V):V;if(this.onframe(ae),V===1)if(this.loop){var re=L%$;this._startTime=n-re,this._pausedTime=0,this.onrestart()}else return!0;return!1},g.prototype.pause=function(){this._paused=!0},g.prototype.resume=function(){this._paused=!1},g.prototype.setEasing=function(n){this.easing=n,this.easingFunc=isFunction$1(n)?n:easingFuncs$1[n]||createCubicEasingFunc(n)},g}();const Clip$1=Clip;var Entry=function(){function g(n){this.value=n}return g}(),LinkedList=function(){function g(){this._len=0}return g.prototype.insert=function(n){var r=new Entry(n);return this.insertEntry(r),r},g.prototype.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n,this._len++},g.prototype.remove=function(n){var r=n.prev,$=n.next;r?r.next=$:this.head=$,$?$.prev=r:this.tail=r,n.next=n.prev=null,this._len--},g.prototype.len=function(){return this._len},g.prototype.clear=function(){this.head=this.tail=null,this._len=0},g}(),LRU=function(){function g(n){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=n}return g.prototype.put=function(n,r){var $=this._list,L=this._map,V=null;if(L[n]==null){var oe=$.len(),ae=this._lastRemovedEntry;if(oe>=this._maxSize&&oe>0){var re=$.head;$.remove(re),delete L[re.key],V=re.value,this._lastRemovedEntry=re}ae?ae.value=r:ae=new Entry(r),ae.key=n,$.insertEntry(ae),L[n]=ae}return V},g.prototype.get=function(n){var r=this._map[n],$=this._list;if(r!=null)return r!==$.tail&&($.remove(r),$.insertEntry(r)),r.value},g.prototype.clear=function(){this._list.clear(),this._map={}},g.prototype.len=function(){return this._list.len()},g}();const LRU$1=LRU;var kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(g){return g=Math.round(g),g<0?0:g>255?255:g}function clampCssAngle(g){return g=Math.round(g),g<0?0:g>360?360:g}function clampCssFloat(g){return g<0?0:g>1?1:g}function parseCssInt(g){var n=g;return n.length&&n.charAt(n.length-1)==="%"?clampCssByte(parseFloat(n)/100*255):clampCssByte(parseInt(n,10))}function parseCssFloat(g){var n=g;return n.length&&n.charAt(n.length-1)==="%"?clampCssFloat(parseFloat(n)/100):clampCssFloat(parseFloat(n))}function cssHueToRgb(g,n,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?g+(n-g)*r*6:r*2<1?n:r*3<2?g+(n-g)*(.6666666666666666-r)*6:g}function lerpNumber(g,n,r){return g+(n-g)*r}function setRgba(g,n,r,$,L){return g[0]=n,g[1]=r,g[2]=$,g[3]=L,g}function copyRgba(g,n){return g[0]=n[0],g[1]=n[1],g[2]=n[2],g[3]=n[3],g}var colorCache=new LRU$1(20),lastRemovedArr=null;function putToCache(g,n){lastRemovedArr&&copyRgba(lastRemovedArr,n),lastRemovedArr=colorCache.put(g,lastRemovedArr||n.slice())}function parse(g,n){if(g){n=n||[];var r=colorCache.get(g);if(r)return copyRgba(n,r);g=g+"";var $=g.replace(/ /g,"").toLowerCase();if($ in kCSSColorTable)return copyRgba(n,kCSSColorTable[$]),putToCache(g,n),n;var L=$.length;if($.charAt(0)==="#"){if(L===4||L===5){var V=parseInt($.slice(1,4),16);if(!(V>=0&&V<=4095)){setRgba(n,0,0,0,1);return}return setRgba(n,(V&3840)>>4|(V&3840)>>8,V&240|(V&240)>>4,V&15|(V&15)<<4,L===5?parseInt($.slice(4),16)/15:1),putToCache(g,n),n}else if(L===7||L===9){var V=parseInt($.slice(1,7),16);if(!(V>=0&&V<=16777215)){setRgba(n,0,0,0,1);return}return setRgba(n,(V&16711680)>>16,(V&65280)>>8,V&255,L===9?parseInt($.slice(7),16)/255:1),putToCache(g,n),n}return}var oe=$.indexOf("("),ae=$.indexOf(")");if(oe!==-1&&ae+1===L){var re=$.substr(0,oe),le=$.substr(oe+1,ae-(oe+1)).split(","),ue=1;switch(re){case"rgba":if(le.length!==4)return le.length===3?setRgba(n,+le[0],+le[1],+le[2],1):setRgba(n,0,0,0,1);ue=parseCssFloat(le.pop());case"rgb":if(le.length>=3)return setRgba(n,parseCssInt(le[0]),parseCssInt(le[1]),parseCssInt(le[2]),le.length===3?ue:parseCssFloat(le[3])),putToCache(g,n),n;setRgba(n,0,0,0,1);return;case"hsla":if(le.length!==4){setRgba(n,0,0,0,1);return}return le[3]=parseCssFloat(le[3]),hsla2rgba(le,n),putToCache(g,n),n;case"hsl":if(le.length!==3){setRgba(n,0,0,0,1);return}return hsla2rgba(le,n),putToCache(g,n),n;default:return}}setRgba(n,0,0,0,1)}}function hsla2rgba(g,n){var r=(parseFloat(g[0])%360+360)%360/360,$=parseCssFloat(g[1]),L=parseCssFloat(g[2]),V=L<=.5?L*($+1):L+$-L*$,oe=L*2-V;return n=n||[],setRgba(n,clampCssByte(cssHueToRgb(oe,V,r+.3333333333333333)*255),clampCssByte(cssHueToRgb(oe,V,r)*255),clampCssByte(cssHueToRgb(oe,V,r-.3333333333333333)*255),1),g.length===4&&(n[3]=g[3]),n}function rgba2hsla(g){if(g){var n=g[0]/255,r=g[1]/255,$=g[2]/255,L=Math.min(n,r,$),V=Math.max(n,r,$),oe=V-L,ae=(V+L)/2,re,le;if(oe===0)re=0,le=0;else{ae<.5?le=oe/(V+L):le=oe/(2-V-L);var ue=((V-n)/6+oe/2)/oe,de=((V-r)/6+oe/2)/oe,he=((V-$)/6+oe/2)/oe;n===V?re=he-de:r===V?re=.3333333333333333+ue-he:$===V&&(re=.6666666666666666+de-ue),re<0&&(re+=1),re>1&&(re-=1)}var pe=[re*360,le,ae];return g[3]!=null&&pe.push(g[3]),pe}}function lift(g,n){var r=parse(g);if(r){for(var $=0;$<3;$++)n<0?r[$]=r[$]*(1-n)|0:r[$]=(255-r[$])*n+r[$]|0,r[$]>255?r[$]=255:r[$]<0&&(r[$]=0);return stringify(r,r.length===4?"rgba":"rgb")}}function fastLerp(g,n,r){if(!(!(n&&n.length)||!(g>=0&&g<=1))){r=r||[];var $=g*(n.length-1),L=Math.floor($),V=Math.ceil($),oe=n[L],ae=n[V],re=$-L;return r[0]=clampCssByte(lerpNumber(oe[0],ae[0],re)),r[1]=clampCssByte(lerpNumber(oe[1],ae[1],re)),r[2]=clampCssByte(lerpNumber(oe[2],ae[2],re)),r[3]=clampCssFloat(lerpNumber(oe[3],ae[3],re)),r}}function lerp(g,n,r){if(!(!(n&&n.length)||!(g>=0&&g<=1))){var $=g*(n.length-1),L=Math.floor($),V=Math.ceil($),oe=parse(n[L]),ae=parse(n[V]),re=$-L,le=stringify([clampCssByte(lerpNumber(oe[0],ae[0],re)),clampCssByte(lerpNumber(oe[1],ae[1],re)),clampCssByte(lerpNumber(oe[2],ae[2],re)),clampCssFloat(lerpNumber(oe[3],ae[3],re))],"rgba");return r?{color:le,leftIndex:L,rightIndex:V,value:$}:le}}function modifyHSL(g,n,r,$){var L=parse(g);if(g)return L=rgba2hsla(L),n!=null&&(L[0]=clampCssAngle(n)),r!=null&&(L[1]=parseCssFloat(r)),$!=null&&(L[2]=parseCssFloat($)),stringify(hsla2rgba(L),"rgba")}function modifyAlpha(g,n){var r=parse(g);if(r&&n!=null)return r[3]=clampCssFloat(n),stringify(r,"rgba")}function stringify(g,n){if(!(!g||!g.length)){var r=g[0]+","+g[1]+","+g[2];return(n==="rgba"||n==="hsva"||n==="hsla")&&(r+=","+g[3]),n+"("+r+")"}}function lum(g,n){var r=parse(g);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*n:0}var mathRound$1=Math.round;function normalizeColor(g){var n;if(!g||g==="transparent")g="none";else if(typeof g=="string"&&g.indexOf("rgba")>-1){var r=parse(g);r&&(g="rgb("+r[0]+","+r[1]+","+r[2]+")",n=r[3])}return{color:g,opacity:n!=null?n:1}}var EPSILON$3=1e-4;function isAroundZero(g){return g<EPSILON$3&&g>-EPSILON$3}function round3(g){return mathRound$1(g*1e3)/1e3}function round4(g){return mathRound$1(g*1e4)/1e4}function getMatrixStr(g){return"matrix("+round3(g[0])+","+round3(g[1])+","+round3(g[2])+","+round3(g[3])+","+round4(g[4])+","+round4(g[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1(g,n,r){return r==="top"?g+=n/2:r==="bottom"&&(g-=n/2),g}function hasShadow(g){return g&&(g.shadowBlur||g.shadowOffsetX||g.shadowOffsetY)}function getShadowKey(g){var n=g.style,r=g.getGlobalScale();return[n.shadowColor,(n.shadowBlur||0).toFixed(2),(n.shadowOffsetX||0).toFixed(2),(n.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function isImagePattern(g){return g&&!!g.image}function isSVGPattern(g){return g&&!!g.svgElement}function isPattern(g){return isImagePattern(g)||isSVGPattern(g)}function isLinearGradient(g){return g.type==="linear"}function isRadialGradient(g){return g.type==="radial"}function isGradient(g){return g&&(g.type==="linear"||g.type==="radial")}function getIdURL(g){return"url(#"+g+")"}function getPathPrecision(g){var n=g.getGlobalScale(),r=Math.max(n[0],n[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function getSRTTransformString(g){var n=g.x||0,r=g.y||0,$=(g.rotation||0)*RADIAN_TO_DEGREE,L=retrieve2(g.scaleX,1),V=retrieve2(g.scaleY,1),oe=g.skewX||0,ae=g.skewY||0,re=[];return(n||r)&&re.push("translate("+n+"px,"+r+"px)"),$&&re.push("rotate("+$+")"),(L!==1||V!==1)&&re.push("scale("+L+","+V+")"),(oe||ae)&&re.push("skew("+mathRound$1(oe*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(ae*RADIAN_TO_DEGREE)+"deg)"),re.join(" ")}var encodeBase64=function(){return env$1.hasGlobalWindow&&isFunction$1(window.btoa)?function(g){return window.btoa(unescape(encodeURIComponent(g)))}:typeof Buffer<"u"?function(g){return Buffer.from(g).toString("base64")}:function(g){return null}}(),arraySlice=Array.prototype.slice;function interpolateNumber$1(g,n,r){return(n-g)*r+g}function interpolate1DArray(g,n,r,$){for(var L=n.length,V=0;V<L;V++)g[V]=interpolateNumber$1(n[V],r[V],$);return g}function interpolate2DArray(g,n,r,$){for(var L=n.length,V=L&&n[0].length,oe=0;oe<L;oe++){g[oe]||(g[oe]=[]);for(var ae=0;ae<V;ae++)g[oe][ae]=interpolateNumber$1(n[oe][ae],r[oe][ae],$)}return g}function add1DArray(g,n,r,$){for(var L=n.length,V=0;V<L;V++)g[V]=n[V]+r[V]*$;return g}function add2DArray(g,n,r,$){for(var L=n.length,V=L&&n[0].length,oe=0;oe<L;oe++){g[oe]||(g[oe]=[]);for(var ae=0;ae<V;ae++)g[oe][ae]=n[oe][ae]+r[oe][ae]*$}return g}function fillColorStops(g,n){for(var r=g.length,$=n.length,L=r>$?n:g,V=Math.min(r,$),oe=L[V-1]||{color:[0,0,0,0],offset:0},ae=V;ae<Math.max(r,$);ae++)L.push({offset:oe.offset,color:oe.color.slice()})}function fillArray(g,n,r){var $=g,L=n;if(!(!$.push||!L.push)){var V=$.length,oe=L.length;if(V!==oe){var ae=V>oe;if(ae)$.length=oe;else for(var re=V;re<oe;re++)$.push(r===1?L[re]:arraySlice.call(L[re]))}for(var le=$[0]&&$[0].length,re=0;re<$.length;re++)if(r===1)isNaN($[re])&&($[re]=L[re]);else for(var ue=0;ue<le;ue++)isNaN($[re][ue])&&($[re][ue]=L[re][ue])}}function cloneValue(g){if(isArrayLike(g)){var n=g.length;if(isArrayLike(g[0])){for(var r=[],$=0;$<n;$++)r.push(arraySlice.call(g[$]));return r}return arraySlice.call(g)}return g}function rgba2String(g){return g[0]=Math.floor(g[0])||0,g[1]=Math.floor(g[1])||0,g[2]=Math.floor(g[2])||0,g[3]=g[3]==null?1:g[3],"rgba("+g.join(",")+")"}function guessArrayDim(g){return isArrayLike(g&&g[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(g){return g===VALUE_TYPE_LINEAR_GRADIENT||g===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(g){return g===VALUE_TYPE_1D_ARRAY||g===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function g(n){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=n}return g.prototype.isFinished=function(){return this._finished},g.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},g.prototype.needsAnimate=function(){return this.keyframes.length>=1},g.prototype.getAdditiveTrack=function(){return this._additiveTrack},g.prototype.addKeyframe=function(n,r,$){this._needsSort=!0;var L=this.keyframes,V=L.length,oe=!1,ae=VALUE_TYPE_UNKOWN,re=r;if(isArrayLike(r)){var le=guessArrayDim(r);ae=le,(le===1&&!isNumber$1(r[0])||le===2&&!isNumber$1(r[0][0]))&&(oe=!0)}else if(isNumber$1(r)&&!eqNaN(r))ae=VALUE_TYPE_NUMBER;else if(isString$1(r))if(!isNaN(+r))ae=VALUE_TYPE_NUMBER;else{var ue=parse(r);ue&&(re=ue,ae=VALUE_TYPE_COLOR)}else if(isGradientObject(r)){var de=extend$1({},re);de.colorStops=map$1(r.colorStops,function(pe){return{offset:pe.offset,color:parse(pe.color)}}),isLinearGradient(r)?ae=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(r)&&(ae=VALUE_TYPE_RADIAL_GRADIENT),re=de}V===0?this.valType=ae:(ae!==this.valType||ae===VALUE_TYPE_UNKOWN)&&(oe=!0),this.discrete=this.discrete||oe;var he={time:n,value:re,rawValue:r,percent:0};return $&&(he.easing=$,he.easingFunc=isFunction$1($)?$:easingFuncs$1[$]||createCubicEasingFunc($)),L.push(he),he},g.prototype.prepare=function(n,r){var $=this.keyframes;this._needsSort&&$.sort(function($e,xe){return $e.time-xe.time});for(var L=this.valType,V=$.length,oe=$[V-1],ae=this.discrete,re=isArrayValueType(L),le=isGradientValueType(L),ue=0;ue<V;ue++){var de=$[ue],he=de.value,pe=oe.value;de.percent=de.time/n,ae||(re&&ue!==V-1?fillArray(he,pe,L):le&&fillColorStops(he.colorStops,pe.colorStops))}if(!ae&&L!==VALUE_TYPE_RADIAL_GRADIENT&&r&&this.needsAnimate()&&r.needsAnimate()&&L===r.valType&&!r._finished){this._additiveTrack=r;for(var _e=$[0].value,ue=0;ue<V;ue++)L===VALUE_TYPE_NUMBER?$[ue].additiveValue=$[ue].value-_e:L===VALUE_TYPE_COLOR?$[ue].additiveValue=add1DArray([],$[ue].value,_e,-1):isArrayValueType(L)&&($[ue].additiveValue=L===VALUE_TYPE_1D_ARRAY?add1DArray([],$[ue].value,_e,-1):add2DArray([],$[ue].value,_e,-1))}},g.prototype.step=function(n,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var $=this._additiveTrack!=null,L=$?"additiveValue":"value",V=this.valType,oe=this.keyframes,ae=oe.length,re=this.propName,le=V===VALUE_TYPE_COLOR,ue,de=this._lastFr,he=Math.min,pe,_e;if(ae===1)pe=_e=oe[0];else{if(r<0)ue=0;else if(r<this._lastFrP){var $e=he(de+1,ae-1);for(ue=$e;ue>=0&&!(oe[ue].percent<=r);ue--);ue=he(ue,ae-2)}else{for(ue=de;ue<ae&&!(oe[ue].percent>r);ue++);ue=he(ue-1,ae-2)}_e=oe[ue+1],pe=oe[ue]}if(pe&&_e){this._lastFr=ue,this._lastFrP=r;var xe=_e.percent-pe.percent,Oe=xe===0?1:he((r-pe.percent)/xe,1);_e.easingFunc&&(Oe=_e.easingFunc(Oe));var Ce=$?this._additiveValue:le?tmpRgba:n[re];if((isArrayValueType(V)||le)&&!Ce&&(Ce=this._additiveValue=[]),this.discrete)n[re]=Oe<1?pe.rawValue:_e.rawValue;else if(isArrayValueType(V))V===VALUE_TYPE_1D_ARRAY?interpolate1DArray(Ce,pe[L],_e[L],Oe):interpolate2DArray(Ce,pe[L],_e[L],Oe);else if(isGradientValueType(V)){var Ie=pe[L],Ne=_e[L],ze=V===VALUE_TYPE_LINEAR_GRADIENT;n[re]={type:ze?"linear":"radial",x:interpolateNumber$1(Ie.x,Ne.x,Oe),y:interpolateNumber$1(Ie.y,Ne.y,Oe),colorStops:map$1(Ie.colorStops,function(Ue,At){var Et=Ne.colorStops[At];return{offset:interpolateNumber$1(Ue.offset,Et.offset,Oe),color:rgba2String(interpolate1DArray([],Ue.color,Et.color,Oe))}}),global:Ne.global},ze?(n[re].x2=interpolateNumber$1(Ie.x2,Ne.x2,Oe),n[re].y2=interpolateNumber$1(Ie.y2,Ne.y2,Oe)):n[re].r=interpolateNumber$1(Ie.r,Ne.r,Oe)}else if(le)interpolate1DArray(Ce,pe[L],_e[L],Oe),$||(n[re]=rgba2String(Ce));else{var Fe=interpolateNumber$1(pe[L],_e[L],Oe);$?this._additiveValue=Fe:n[re]=Fe}$&&this._addToTarget(n)}}},g.prototype._addToTarget=function(n){var r=this.valType,$=this.propName,L=this._additiveValue;r===VALUE_TYPE_NUMBER?n[$]=n[$]+L:r===VALUE_TYPE_COLOR?(parse(n[$],tmpRgba),add1DArray(tmpRgba,tmpRgba,L,1),n[$]=rgba2String(tmpRgba)):r===VALUE_TYPE_1D_ARRAY?add1DArray(n[$],n[$],L,1):r===VALUE_TYPE_2D_ARRAY&&add2DArray(n[$],n[$],L,1)},g}(),Animator=function(){function g(n,r,$,L){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=n,this._loop=r,r&&L){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=L,this._allowDiscrete=$}return g.prototype.getMaxTime=function(){return this._maxTime},g.prototype.getDelay=function(){return this._delay},g.prototype.getLoop=function(){return this._loop},g.prototype.getTarget=function(){return this._target},g.prototype.changeTarget=function(n){this._target=n},g.prototype.when=function(n,r,$){return this.whenWithKeys(n,r,keys(r),$)},g.prototype.whenWithKeys=function(n,r,$,L){for(var V=this._tracks,oe=0;oe<$.length;oe++){var ae=$[oe],re=V[ae];if(!re){re=V[ae]=new Track(ae);var le=void 0,ue=this._getAdditiveTrack(ae);if(ue){var de=ue.keyframes,he=de[de.length-1];le=he&&he.value,ue.valType===VALUE_TYPE_COLOR&&le&&(le=rgba2String(le))}else le=this._target[ae];if(le==null)continue;n>0&&re.addKeyframe(0,cloneValue(le),L),this._trackKeys.push(ae)}re.addKeyframe(n,cloneValue(r[ae]),L)}return this._maxTime=Math.max(this._maxTime,n),this},g.prototype.pause=function(){this._clip.pause(),this._paused=!0},g.prototype.resume=function(){this._clip.resume(),this._paused=!1},g.prototype.isPaused=function(){return!!this._paused},g.prototype.duration=function(n){return this._maxTime=n,this._force=!0,this},g.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var n=this._doneCbs;if(n)for(var r=n.length,$=0;$<r;$++)n[$].call(this)},g.prototype._abortedCallback=function(){this._setTracksFinished();var n=this.animation,r=this._abortedCbs;if(n&&n.removeClip(this._clip),this._clip=null,r)for(var $=0;$<r.length;$++)r[$].call(this)},g.prototype._setTracksFinished=function(){for(var n=this._tracks,r=this._trackKeys,$=0;$<r.length;$++)n[r[$]].setFinished()},g.prototype._getAdditiveTrack=function(n){var r,$=this._additiveAnimators;if($)for(var L=0;L<$.length;L++){var V=$[L].getTrack(n);V&&(r=V)}return r},g.prototype.start=function(n){if(!(this._started>0)){this._started=1;for(var r=this,$=[],L=this._maxTime||0,V=0;V<this._trackKeys.length;V++){var oe=this._trackKeys[V],ae=this._tracks[oe],re=this._getAdditiveTrack(oe),le=ae.keyframes,ue=le.length;if(ae.prepare(L,re),ae.needsAnimate())if(!this._allowDiscrete&&ae.discrete){var de=le[ue-1];de&&(r._target[ae.propName]=de.rawValue),ae.setFinished()}else $.push(ae)}if($.length||this._force){var he=new Clip$1({life:L,loop:this._loop,delay:this._delay||0,onframe:function(pe){r._started=2;var _e=r._additiveAnimators;if(_e){for(var $e=!1,xe=0;xe<_e.length;xe++)if(_e[xe]._clip){$e=!0;break}$e||(r._additiveAnimators=null)}for(var xe=0;xe<$.length;xe++)$[xe].step(r._target,pe);var Oe=r._onframeCbs;if(Oe)for(var xe=0;xe<Oe.length;xe++)Oe[xe](r._target,pe)},ondestroy:function(){r._doneCallback()}});this._clip=he,this.animation&&this.animation.addClip(he),n&&he.setEasing(n)}else this._doneCallback();return this}},g.prototype.stop=function(n){if(this._clip){var r=this._clip;n&&r.onframe(1),this._abortedCallback()}},g.prototype.delay=function(n){return this._delay=n,this},g.prototype.during=function(n){return n&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(n)),this},g.prototype.done=function(n){return n&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(n)),this},g.prototype.aborted=function(n){return n&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(n)),this},g.prototype.getClip=function(){return this._clip},g.prototype.getTrack=function(n){return this._tracks[n]},g.prototype.getTracks=function(){var n=this;return map$1(this._trackKeys,function(r){return n._tracks[r]})},g.prototype.stopTracks=function(n,r){if(!n.length||!this._clip)return!0;for(var $=this._tracks,L=this._trackKeys,V=0;V<n.length;V++){var oe=$[n[V]];oe&&!oe.isFinished()&&(r?oe.step(this._target,1):this._started===1&&oe.step(this._target,0),oe.setFinished())}for(var ae=!0,V=0;V<L.length;V++)if(!$[L[V]].isFinished()){ae=!1;break}return ae&&this._abortedCallback(),ae},g.prototype.saveTo=function(n,r,$){if(n){r=r||this._trackKeys;for(var L=0;L<r.length;L++){var V=r[L],oe=this._tracks[V];if(!(!oe||oe.isFinished())){var ae=oe.keyframes,re=ae[$?0:ae.length-1];re&&(n[V]=cloneValue(re.rawValue))}}}},g.prototype.__changeFinalValue=function(n,r){r=r||keys(n);for(var $=0;$<r.length;$++){var L=r[$],V=this._tracks[L];if(V){var oe=V.keyframes;if(oe.length>1){var ae=oe.pop();V.addKeyframe(ae.time,n[L]),V.prepare(this._maxTime,V.getAdditiveTrack())}}}},g}();const Animator$1=Animator;function getTime(){return new Date().getTime()}var Animation=function(g){__extends(n,g);function n(r){var $=g.call(this)||this;return $._running=!1,$._time=0,$._pausedTime=0,$._pauseStart=0,$._paused=!1,r=r||{},$.stage=r.stage||{},$}return n.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},n.prototype.addAnimator=function(r){r.animation=this;var $=r.getClip();$&&this.addClip($)},n.prototype.removeClip=function(r){if(r.animation){var $=r.prev,L=r.next;$?$.next=L:this._head=L,L?L.prev=$:this._tail=$,r.next=r.prev=r.animation=null}},n.prototype.removeAnimator=function(r){var $=r.getClip();$&&this.removeClip($),r.animation=null},n.prototype.update=function(r){for(var $=getTime()-this._pausedTime,L=$-this._time,V=this._head;V;){var oe=V.next,ae=V.step($,L);ae&&(V.ondestroy(),this.removeClip(V)),V=oe}this._time=$,r||(this.trigger("frame",L),this.stage.update&&this.stage.update())},n.prototype._startLoop=function(){var r=this;this._running=!0;function $(){r._running&&(requestAnimationFrame$1$1($),!r._paused&&r.update())}requestAnimationFrame$1$1($)},n.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},n.prototype.stop=function(){this._running=!1},n.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},n.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},n.prototype.clear=function(){for(var r=this._head;r;){var $=r.next;r.prev=r.next=r.animation=null,r=$}this._head=this._tail=null},n.prototype.isFinished=function(){return this._head==null},n.prototype.animate=function(r,$){$=$||{},this.start();var L=new Animator$1(r,$.loop);return this.addAnimator(L),L},n}(Eventful$1);const Animation$1=Animation;var TOUCH_CLICK_DELAY=300,globalEventSupported=env$1.domSupported,localNativeListenerNames=function(){var g=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],n=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},$=map$1(g,function(L){var V=L.replace("mouse","pointer");return r.hasOwnProperty(V)?V:L});return{mouse:g,touch:n,pointer:$}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(g){var n=g.pointerType;return n==="pen"||n==="touch"}function setTouchTimer(g){g.touching=!0,g.touchTimer!=null&&(clearTimeout(g.touchTimer),g.touchTimer=null),g.touchTimer=setTimeout(function(){g.touching=!1,g.touchTimer=null},700)}function markTouch(g){g&&(g.zrByTouch=!0)}function normalizeGlobalEvent(g,n){return normalizeEvent(g.dom,new FakeGlobalEvent(g,n),!0)}function isLocalEl(g,n){for(var r=n,$=!1;r&&r.nodeType!==9&&!($=r.domBelongToZr||r!==n&&r===g.painterRoot);)r=r.parentNode;return $}var FakeGlobalEvent=function(){function g(n,r){this.stopPropagation=noop$1,this.stopImmediatePropagation=noop$1,this.preventDefault=noop$1,this.type=r.type,this.target=this.currentTarget=n.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return g}(),localDOMHandlers={mousedown:function(g){g=normalizeEvent(this.dom,g),this.__mayPointerCapture=[g.zrX,g.zrY],this.trigger("mousedown",g)},mousemove:function(g){g=normalizeEvent(this.dom,g);var n=this.__mayPointerCapture;n&&(g.zrX!==n[0]||g.zrY!==n[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",g)},mouseup:function(g){g=normalizeEvent(this.dom,g),this.__togglePointerCapture(!1),this.trigger("mouseup",g)},mouseout:function(g){g=normalizeEvent(this.dom,g);var n=g.toElement||g.relatedTarget;isLocalEl(this,n)||(this.__pointerCapturing&&(g.zrEventControl="no_globalout"),this.trigger("mouseout",g))},wheel:function(g){wheelEventSupported=!0,g=normalizeEvent(this.dom,g),this.trigger("mousewheel",g)},mousewheel:function(g){wheelEventSupported||(g=normalizeEvent(this.dom,g),this.trigger("mousewheel",g))},touchstart:function(g){g=normalizeEvent(this.dom,g),markTouch(g),this.__lastTouchMoment=new Date,this.handler.processGesture(g,"start"),localDOMHandlers.mousemove.call(this,g),localDOMHandlers.mousedown.call(this,g)},touchmove:function(g){g=normalizeEvent(this.dom,g),markTouch(g),this.handler.processGesture(g,"change"),localDOMHandlers.mousemove.call(this,g)},touchend:function(g){g=normalizeEvent(this.dom,g),markTouch(g),this.handler.processGesture(g,"end"),localDOMHandlers.mouseup.call(this,g),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,g)},pointerdown:function(g){localDOMHandlers.mousedown.call(this,g)},pointermove:function(g){isPointerFromTouch(g)||localDOMHandlers.mousemove.call(this,g)},pointerup:function(g){localDOMHandlers.mouseup.call(this,g)},pointerout:function(g){isPointerFromTouch(g)||localDOMHandlers.mouseout.call(this,g)}};each$f(["click","dblclick","contextmenu"],function(g){localDOMHandlers[g]=function(n){n=normalizeEvent(this.dom,n),this.trigger(g,n)}});var globalDOMHandlers={pointermove:function(g){isPointerFromTouch(g)||globalDOMHandlers.mousemove.call(this,g)},pointerup:function(g){globalDOMHandlers.mouseup.call(this,g)},mousemove:function(g){this.trigger("mousemove",g)},mouseup:function(g){var n=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",g),n&&(g.zrEventControl="only_globalout",this.trigger("mouseout",g))}};function mountLocalDOMEventListeners(g,n){var r=n.domHandlers;env$1.pointerEventsSupported?each$f(localNativeListenerNames.pointer,function($){mountSingleDOMEventListener(n,$,function(L){r[$].call(g,L)})}):(env$1.touchEventsSupported&&each$f(localNativeListenerNames.touch,function($){mountSingleDOMEventListener(n,$,function(L){r[$].call(g,L),setTouchTimer(n)})}),each$f(localNativeListenerNames.mouse,function($){mountSingleDOMEventListener(n,$,function(L){L=getNativeEvent(L),n.touching||r[$].call(g,L)})}))}function mountGlobalDOMEventListeners(g,n){env$1.pointerEventsSupported?each$f(globalNativeListenerNames.pointer,r):env$1.touchEventsSupported||each$f(globalNativeListenerNames.mouse,r);function r($){function L(V){V=getNativeEvent(V),isLocalEl(g,V.target)||(V=normalizeGlobalEvent(g,V),n.domHandlers[$].call(g,V))}mountSingleDOMEventListener(n,$,L,{capture:!0})}}function mountSingleDOMEventListener(g,n,r,$){g.mounted[n]=r,g.listenerOpts[n]=$,addEventListener(g.domTarget,n,r,$)}function unmountDOMEventListeners(g){var n=g.mounted;for(var r in n)n.hasOwnProperty(r)&&removeEventListener(g.domTarget,r,n[r],g.listenerOpts[r]);g.mounted={}}var DOMHandlerScope=function(){function g(n,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=r}return g}(),HandlerDomProxy=function(g){__extends(n,g);function n(r,$){var L=g.call(this)||this;return L.__pointerCapturing=!1,L.dom=r,L.painterRoot=$,L._localHandlerScope=new DOMHandlerScope(r,localDOMHandlers),globalEventSupported&&(L._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(L,L._localHandlerScope),L}return n.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},n.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},n.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var $=this._globalHandlerScope;r?mountGlobalDOMEventListeners(this,$):unmountDOMEventListeners($)}},n}(Eventful$1);const HandlerProxy=HandlerDomProxy;var dpr=1;env$1.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity,EPSILON$2=5e-5;function isNotAroundZero(g){return g>EPSILON$2||g<-EPSILON$2}var scaleTmp=[],tmpTransform=[],originTransform=create$1(),abs=Math.abs,Transformable=function(){function g(){}return g.prototype.getLocalTransform=function(n){return g.getLocalTransform(this,n)},g.prototype.setPosition=function(n){this.x=n[0],this.y=n[1]},g.prototype.setScale=function(n){this.scaleX=n[0],this.scaleY=n[1]},g.prototype.setSkew=function(n){this.skewX=n[0],this.skewY=n[1]},g.prototype.setOrigin=function(n){this.originX=n[0],this.originY=n[1]},g.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},g.prototype.updateTransform=function(){var n=this.parent&&this.parent.transform,r=this.needLocalTransform(),$=this.transform;if(!(r||n)){$&&mIdentity($);return}$=$||create$1(),r?this.getLocalTransform($):mIdentity($),n&&(r?mul($,n,$):copy($,n)),this.transform=$,this._resolveGlobalScaleRatio($)},g.prototype._resolveGlobalScaleRatio=function(n){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(scaleTmp);var $=scaleTmp[0]<0?-1:1,L=scaleTmp[1]<0?-1:1,V=((scaleTmp[0]-$)*r+$)/scaleTmp[0]||0,oe=((scaleTmp[1]-L)*r+L)/scaleTmp[1]||0;n[0]*=V,n[1]*=V,n[2]*=oe,n[3]*=oe}this.invTransform=this.invTransform||create$1(),invert(this.invTransform,n)},g.prototype.getComputedTransform=function(){for(var n=this,r=[];n;)r.push(n),n=n.parent;for(;n=r.pop();)n.updateTransform();return this.transform},g.prototype.setLocalTransform=function(n){if(n){var r=n[0]*n[0]+n[1]*n[1],$=n[2]*n[2]+n[3]*n[3],L=Math.atan2(n[1],n[0]),V=Math.PI/2+L-Math.atan2(n[3],n[2]);$=Math.sqrt($)*Math.cos(V),r=Math.sqrt(r),this.skewX=V,this.skewY=0,this.rotation=-L,this.x=+n[4],this.y=+n[5],this.scaleX=r,this.scaleY=$,this.originX=0,this.originY=0}},g.prototype.decomposeTransform=function(){if(this.transform){var n=this.parent,r=this.transform;n&&n.transform&&(mul(tmpTransform,n.invTransform,r),r=tmpTransform);var $=this.originX,L=this.originY;($||L)&&(originTransform[4]=$,originTransform[5]=L,mul(tmpTransform,r,originTransform),tmpTransform[4]-=$,tmpTransform[5]-=L,r=tmpTransform),this.setLocalTransform(r)}},g.prototype.getGlobalScale=function(n){var r=this.transform;return n=n||[],r?(n[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),n[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(n[0]=-n[0]),r[3]<0&&(n[1]=-n[1]),n):(n[0]=1,n[1]=1,n)},g.prototype.transformCoordToLocal=function(n,r){var $=[n,r],L=this.invTransform;return L&&applyTransform$1($,$,L),$},g.prototype.transformCoordToGlobal=function(n,r){var $=[n,r],L=this.transform;return L&&applyTransform$1($,$,L),$},g.prototype.getLineScale=function(){var n=this.transform;return n&&abs(n[0]-1)>1e-10&&abs(n[3]-1)>1e-10?Math.sqrt(abs(n[0]*n[3]-n[2]*n[1])):1},g.prototype.copyTransform=function(n){copyTransform(this,n)},g.getLocalTransform=function(n,r){r=r||[];var $=n.originX||0,L=n.originY||0,V=n.scaleX,oe=n.scaleY,ae=n.anchorX,re=n.anchorY,le=n.rotation||0,ue=n.x,de=n.y,he=n.skewX?Math.tan(n.skewX):0,pe=n.skewY?Math.tan(-n.skewY):0;if($||L||ae||re){var _e=$+ae,$e=L+re;r[4]=-_e*V-he*$e*oe,r[5]=-$e*oe-pe*_e*V}else r[4]=r[5]=0;return r[0]=V,r[3]=oe,r[1]=pe*V,r[2]=he*oe,le&&rotate(r,r,le),r[4]+=$+ue,r[5]+=L+de,r},g.initDefaultProps=function(){var n=g.prototype;n.scaleX=n.scaleY=n.globalScaleRatio=1,n.x=n.y=n.originX=n.originY=n.skewX=n.skewY=n.rotation=n.anchorX=n.anchorY=0}(),g}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(g,n){for(var r=0;r<TRANSFORMABLE_PROPS.length;r++){var $=TRANSFORMABLE_PROPS[r];g[$]=n[$]}}var textWidthCache={};function getWidth(g,n){n=n||DEFAULT_FONT;var r=textWidthCache[n];r||(r=textWidthCache[n]=new LRU$1(500));var $=r.get(g);return $==null&&($=platformApi.measureText(g,n).width,r.put(g,$)),$}function innerGetBoundingRect(g,n,r,$){var L=getWidth(g,n),V=getLineHeight(n),oe=adjustTextX(0,L,r),ae=adjustTextY(0,V,$),re=new BoundingRect$1(oe,ae,L,V);return re}function getBoundingRect(g,n,r,$){var L=((g||"")+"").split(`
`),V=L.length;if(V===1)return innerGetBoundingRect(L[0],n,r,$);for(var oe=new BoundingRect$1(0,0,0,0),ae=0;ae<L.length;ae++){var re=innerGetBoundingRect(L[ae],n,r,$);ae===0?oe.copy(re):oe.union(re)}return oe}function adjustTextX(g,n,r){return r==="right"?g-=n:r==="center"&&(g-=n/2),g}function adjustTextY(g,n,r){return r==="middle"?g-=n/2:r==="bottom"&&(g-=n),g}function getLineHeight(g){return getWidth("\u56FD",g)}function parsePercent$1(g,n){return typeof g=="string"?g.lastIndexOf("%")>=0?parseFloat(g)/100*n:parseFloat(g):g}function calculateTextPosition(g,n,r){var $=n.position||"inside",L=n.distance!=null?n.distance:5,V=r.height,oe=r.width,ae=V/2,re=r.x,le=r.y,ue="left",de="top";if($ instanceof Array)re+=parsePercent$1($[0],r.width),le+=parsePercent$1($[1],r.height),ue=null,de=null;else switch($){case"left":re-=L,le+=ae,ue="right",de="middle";break;case"right":re+=L+oe,le+=ae,de="middle";break;case"top":re+=oe/2,le-=L,ue="center",de="bottom";break;case"bottom":re+=oe/2,le+=V+L,ue="center";break;case"inside":re+=oe/2,le+=ae,ue="center",de="middle";break;case"insideLeft":re+=L,le+=ae,de="middle";break;case"insideRight":re+=oe-L,le+=ae,ue="right",de="middle";break;case"insideTop":re+=oe/2,le+=L,ue="center";break;case"insideBottom":re+=oe/2,le+=V-L,ue="center",de="bottom";break;case"insideTopLeft":re+=L,le+=L;break;case"insideTopRight":re+=oe-L,le+=L,ue="right";break;case"insideBottomLeft":re+=L,le+=V-L,de="bottom";break;case"insideBottomRight":re+=oe-L,le+=V-L,ue="right",de="bottom";break}return g=g||{},g.x=re,g.y=le,g.align=ue,g.verticalAlign=de,g}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(g,n){return g[n]=!0,g},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect$1(0,0,0,0),Element$1=function(){function g(n){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(n)}return g.prototype._init=function(n){this.attr(n)},g.prototype.drift=function(n,r,$){switch(this.draggable){case"horizontal":r=0;break;case"vertical":n=0;break}var L=this.transform;L||(L=this.transform=[1,0,0,1,0,0]),L[4]+=n,L[5]+=r,this.decomposeTransform(),this.markRedraw()},g.prototype.beforeUpdate=function(){},g.prototype.afterUpdate=function(){},g.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},g.prototype.updateInnerText=function(n){var r=this._textContent;if(r&&(!r.ignore||n)){this.textConfig||(this.textConfig={});var $=this.textConfig,L=$.local,V=r.innerTransformable,oe=void 0,ae=void 0,re=!1;V.parent=L?this:null;var le=!1;if(V.copyTransform(r),$.position!=null){var ue=tmpBoundingRect;$.layoutRect?ue.copy($.layoutRect):ue.copy(this.getBoundingRect()),L||ue.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,$,ue):calculateTextPosition(tmpTextPosCalcRes,$,ue),V.x=tmpTextPosCalcRes.x,V.y=tmpTextPosCalcRes.y,oe=tmpTextPosCalcRes.align,ae=tmpTextPosCalcRes.verticalAlign;var de=$.origin;if(de&&$.rotation!=null){var he=void 0,pe=void 0;de==="center"?(he=ue.width*.5,pe=ue.height*.5):(he=parsePercent$1(de[0],ue.width),pe=parsePercent$1(de[1],ue.height)),le=!0,V.originX=-V.x+he+(L?0:ue.x),V.originY=-V.y+pe+(L?0:ue.y)}}$.rotation!=null&&(V.rotation=$.rotation);var _e=$.offset;_e&&(V.x+=_e[0],V.y+=_e[1],le||(V.originX=-_e[0],V.originY=-_e[1]));var $e=$.inside==null?typeof $.position=="string"&&$.position.indexOf("inside")>=0:$.inside,xe=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),Oe=void 0,Ce=void 0,Ie=void 0;$e&&this.canBeInsideText()?(Oe=$.insideFill,Ce=$.insideStroke,(Oe==null||Oe==="auto")&&(Oe=this.getInsideTextFill()),(Ce==null||Ce==="auto")&&(Ce=this.getInsideTextStroke(Oe),Ie=!0)):(Oe=$.outsideFill,Ce=$.outsideStroke,(Oe==null||Oe==="auto")&&(Oe=this.getOutsideFill()),(Ce==null||Ce==="auto")&&(Ce=this.getOutsideStroke(Oe),Ie=!0)),Oe=Oe||"#000",(Oe!==xe.fill||Ce!==xe.stroke||Ie!==xe.autoStroke||oe!==xe.align||ae!==xe.verticalAlign)&&(re=!0,xe.fill=Oe,xe.stroke=Ce,xe.autoStroke=Ie,xe.align=oe,xe.verticalAlign=ae,r.setDefaultTextStyle(xe)),r.__dirty|=REDRAW_BIT,re&&r.dirtyStyle(!0)}},g.prototype.canBeInsideText=function(){return!0},g.prototype.getInsideTextFill=function(){return"#fff"},g.prototype.getInsideTextStroke=function(n){return"#000"},g.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},g.prototype.getOutsideStroke=function(n){var r=this.__zr&&this.__zr.getBackgroundColor(),$=typeof r=="string"&&parse(r);$||($=[255,255,255,1]);for(var L=$[3],V=this.__zr.isDarkMode(),oe=0;oe<3;oe++)$[oe]=$[oe]*L+(V?0:255)*(1-L);return $[3]=1,stringify($,"rgba")},g.prototype.traverse=function(n,r){},g.prototype.attrKV=function(n,r){n==="textConfig"?this.setTextConfig(r):n==="textContent"?this.setTextContent(r):n==="clipPath"?this.setClipPath(r):n==="extra"?(this.extra=this.extra||{},extend$1(this.extra,r)):this[n]=r},g.prototype.hide=function(){this.ignore=!0,this.markRedraw()},g.prototype.show=function(){this.ignore=!1,this.markRedraw()},g.prototype.attr=function(n,r){if(typeof n=="string")this.attrKV(n,r);else if(isObject$4(n))for(var $=n,L=keys($),V=0;V<L.length;V++){var oe=L[V];this.attrKV(oe,n[oe])}return this.markRedraw(),this},g.prototype.saveCurrentToNormalState=function(n){this._innerSaveToNormal(n);for(var r=this._normalState,$=0;$<this.animators.length;$++){var L=this.animators[$],V=L.__fromStateTransition;if(!(L.getLoop()||V&&V!==PRESERVED_NORMAL_STATE)){var oe=L.targetName,ae=oe?r[oe]:r;L.saveTo(ae)}}},g.prototype._innerSaveToNormal=function(n){var r=this._normalState;r||(r=this._normalState={}),n.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(n,r,PRIMARY_STATES_KEYS$1)},g.prototype._savePrimaryToNormal=function(n,r,$){for(var L=0;L<$.length;L++){var V=$[L];n[V]!=null&&!(V in r)&&(r[V]=this[V])}},g.prototype.hasState=function(){return this.currentStates.length>0},g.prototype.getState=function(n){return this.states[n]},g.prototype.ensureState=function(n){var r=this.states;return r[n]||(r[n]={}),r[n]},g.prototype.clearStates=function(n){this.useState(PRESERVED_NORMAL_STATE,!1,n)},g.prototype.useState=function(n,r,$,L){var V=n===PRESERVED_NORMAL_STATE,oe=this.hasState();if(!(!oe&&V)){var ae=this.currentStates,re=this.stateTransition;if(!(indexOf(ae,n)>=0&&(r||ae.length===1))){var le;if(this.stateProxy&&!V&&(le=this.stateProxy(n)),le||(le=this.states&&this.states[n]),!le&&!V){logError("State "+n+" not exists.");return}V||this.saveCurrentToNormalState(le);var ue=!!(le&&le.hoverLayer||L);ue&&this._toggleHoverLayerFlag(!0),this._applyStateObj(n,le,this._normalState,r,!$&&!this.__inHover&&re&&re.duration>0,re);var de=this._textContent,he=this._textGuide;return de&&de.useState(n,r,$,ue),he&&he.useState(n,r,$,ue),V?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(n):this.currentStates=[n],this._updateAnimationTargets(),this.markRedraw(),!ue&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),le}}},g.prototype.useStates=function(n,r,$){if(!n.length)this.clearStates();else{var L=[],V=this.currentStates,oe=n.length,ae=oe===V.length;if(ae){for(var re=0;re<oe;re++)if(n[re]!==V[re]){ae=!1;break}}if(ae)return;for(var re=0;re<oe;re++){var le=n[re],ue=void 0;this.stateProxy&&(ue=this.stateProxy(le,n)),ue||(ue=this.states[le]),ue&&L.push(ue)}var de=L[oe-1],he=!!(de&&de.hoverLayer||$);he&&this._toggleHoverLayerFlag(!0);var pe=this._mergeStates(L),_e=this.stateTransition;this.saveCurrentToNormalState(pe),this._applyStateObj(n.join(","),pe,this._normalState,!1,!r&&!this.__inHover&&_e&&_e.duration>0,_e);var $e=this._textContent,xe=this._textGuide;$e&&$e.useStates(n,r,he),xe&&xe.useStates(n,r,he),this._updateAnimationTargets(),this.currentStates=n.slice(),this.markRedraw(),!he&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},g.prototype._updateAnimationTargets=function(){for(var n=0;n<this.animators.length;n++){var r=this.animators[n];r.targetName&&r.changeTarget(this[r.targetName])}},g.prototype.removeState=function(n){var r=indexOf(this.currentStates,n);if(r>=0){var $=this.currentStates.slice();$.splice(r,1),this.useStates($)}},g.prototype.replaceState=function(n,r,$){var L=this.currentStates.slice(),V=indexOf(L,n),oe=indexOf(L,r)>=0;V>=0?oe?L.splice(V,1):L[V]=r:$&&!oe&&L.push(r),this.useStates(L)},g.prototype.toggleState=function(n,r){r?this.useState(n,!0):this.removeState(n)},g.prototype._mergeStates=function(n){for(var r={},$,L=0;L<n.length;L++){var V=n[L];extend$1(r,V),V.textConfig&&($=$||{},extend$1($,V.textConfig))}return $&&(r.textConfig=$),r},g.prototype._applyStateObj=function(n,r,$,L,V,oe){var ae=!(r&&L);r&&r.textConfig?(this.textConfig=extend$1({},L?this.textConfig:$.textConfig),extend$1(this.textConfig,r.textConfig)):ae&&$.textConfig&&(this.textConfig=$.textConfig);for(var re={},le=!1,ue=0;ue<PRIMARY_STATES_KEYS$1.length;ue++){var de=PRIMARY_STATES_KEYS$1[ue],he=V&&DEFAULT_ANIMATABLE_MAP[de];r&&r[de]!=null?he?(le=!0,re[de]=r[de]):this[de]=r[de]:ae&&$[de]!=null&&(he?(le=!0,re[de]=$[de]):this[de]=$[de])}if(!V)for(var ue=0;ue<this.animators.length;ue++){var pe=this.animators[ue],_e=pe.targetName;pe.getLoop()||pe.__changeFinalValue(_e?(r||$)[_e]:r||$)}le&&this._transitionState(n,re,oe)},g.prototype._attachComponent=function(n){if(!(n.__zr&&!n.__hostTarget)&&n!==this){var r=this.__zr;r&&n.addSelfToZr(r),n.__zr=r,n.__hostTarget=this}},g.prototype._detachComponent=function(n){n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__hostTarget=null},g.prototype.getClipPath=function(){return this._clipPath},g.prototype.setClipPath=function(n){this._clipPath&&this._clipPath!==n&&this.removeClipPath(),this._attachComponent(n),this._clipPath=n,this.markRedraw()},g.prototype.removeClipPath=function(){var n=this._clipPath;n&&(this._detachComponent(n),this._clipPath=null,this.markRedraw())},g.prototype.getTextContent=function(){return this._textContent},g.prototype.setTextContent=function(n){var r=this._textContent;r!==n&&(r&&r!==n&&this.removeTextContent(),n.innerTransformable=new Transformable,this._attachComponent(n),this._textContent=n,this.markRedraw())},g.prototype.setTextConfig=function(n){this.textConfig||(this.textConfig={}),extend$1(this.textConfig,n),this.markRedraw()},g.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},g.prototype.removeTextContent=function(){var n=this._textContent;n&&(n.innerTransformable=null,this._detachComponent(n),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},g.prototype.getTextGuideLine=function(){return this._textGuide},g.prototype.setTextGuideLine=function(n){this._textGuide&&this._textGuide!==n&&this.removeTextGuideLine(),this._attachComponent(n),this._textGuide=n,this.markRedraw()},g.prototype.removeTextGuideLine=function(){var n=this._textGuide;n&&(this._detachComponent(n),this._textGuide=null,this.markRedraw())},g.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var n=this.__zr;n&&(this.__inHover?n.refreshHover():n.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},g.prototype.dirty=function(){this.markRedraw()},g.prototype._toggleHoverLayerFlag=function(n){this.__inHover=n;var r=this._textContent,$=this._textGuide;r&&(r.__inHover=n),$&&($.__inHover=n)},g.prototype.addSelfToZr=function(n){if(this.__zr!==n){this.__zr=n;var r=this.animators;if(r)for(var $=0;$<r.length;$++)n.animation.addAnimator(r[$]);this._clipPath&&this._clipPath.addSelfToZr(n),this._textContent&&this._textContent.addSelfToZr(n),this._textGuide&&this._textGuide.addSelfToZr(n)}},g.prototype.removeSelfFromZr=function(n){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var $=0;$<r.length;$++)n.animation.removeAnimator(r[$]);this._clipPath&&this._clipPath.removeSelfFromZr(n),this._textContent&&this._textContent.removeSelfFromZr(n),this._textGuide&&this._textGuide.removeSelfFromZr(n)}},g.prototype.animate=function(n,r,$){var L=n?this[n]:this,V=new Animator$1(L,r,$);return n&&(V.targetName=n),this.addAnimator(V,n),V},g.prototype.addAnimator=function(n,r){var $=this.__zr,L=this;n.during(function(){L.updateDuringAnimation(r)}).done(function(){var V=L.animators,oe=indexOf(V,n);oe>=0&&V.splice(oe,1)}),this.animators.push(n),$&&$.animation.addAnimator(n),$&&$.wakeUp()},g.prototype.updateDuringAnimation=function(n){this.markRedraw()},g.prototype.stopAnimation=function(n,r){for(var $=this.animators,L=$.length,V=[],oe=0;oe<L;oe++){var ae=$[oe];!n||n===ae.scope?ae.stop(r):V.push(ae)}return this.animators=V,this},g.prototype.animateTo=function(n,r,$){animateTo(this,n,r,$)},g.prototype.animateFrom=function(n,r,$){animateTo(this,n,r,$,!0)},g.prototype._transitionState=function(n,r,$,L){for(var V=animateTo(this,r,$,L),oe=0;oe<V.length;oe++)V[oe].__fromStateTransition=n},g.prototype.getBoundingRect=function(){return null},g.prototype.getPaintRect=function(){return null},g.initDefaultProps=function(){var n=g.prototype;n.type="element",n.name="",n.ignore=n.silent=n.isGroup=n.draggable=n.dragging=n.ignoreClip=n.__inHover=!1,n.__dirty=REDRAW_BIT;function r($,L,V,oe){Object.defineProperty(n,$,{get:function(){if(!this[L]){var re=this[L]=[];ae(this,re)}return this[L]},set:function(re){this[V]=re[0],this[oe]=re[1],this[L]=re,ae(this,re)}});function ae(re,le){Object.defineProperty(le,0,{get:function(){return re[V]},set:function(ue){re[V]=ue}}),Object.defineProperty(le,1,{get:function(){return re[oe]},set:function(ue){re[oe]=ue}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),g}();mixin(Element$1,Eventful$1),mixin(Element$1,Transformable);function animateTo(g,n,r,$,L){r=r||{};var V=[];animateToShallow(g,"",g,n,r,$,V,L);var oe=V.length,ae=!1,re=r.done,le=r.aborted,ue=function(){ae=!0,oe--,oe<=0&&(ae?re&&re():le&&le())},de=function(){oe--,oe<=0&&(ae?re&&re():le&&le())};oe||re&&re(),V.length>0&&r.during&&V[0].during(function(_e,$e){r.during($e)});for(var he=0;he<V.length;he++){var pe=V[he];ue&&pe.done(ue),de&&pe.aborted(de),r.force&&pe.duration(r.duration),pe.start(r.easing)}return V}function copyArrShallow(g,n,r){for(var $=0;$<r;$++)g[$]=n[$]}function is2DArray(g){return isArrayLike(g[0])}function copyValue(g,n,r){if(isArrayLike(n[r]))if(isArrayLike(g[r])||(g[r]=[]),isTypedArray$1(n[r])){var $=n[r].length;g[r].length!==$&&(g[r]=new n[r].constructor($),copyArrShallow(g[r],n[r],$))}else{var L=n[r],V=g[r],oe=L.length;if(is2DArray(L))for(var ae=L[0].length,re=0;re<oe;re++)V[re]?copyArrShallow(V[re],L[re],ae):V[re]=Array.prototype.slice.call(L[re]);else copyArrShallow(V,L,oe);V.length=L.length}else g[r]=n[r]}function isValueSame(g,n){return g===n||isArrayLike(g)&&isArrayLike(n)&&is1DArraySame(g,n)}function is1DArraySame(g,n){var r=g.length;if(r!==n.length)return!1;for(var $=0;$<r;$++)if(g[$]!==n[$])return!1;return!0}function animateToShallow(g,n,r,$,L,V,oe,ae){for(var re=keys($),le=L.duration,ue=L.delay,de=L.additive,he=L.setToFinal,pe=!isObject$4(V),_e=g.animators,$e=[],xe=0;xe<re.length;xe++){var Oe=re[xe],Ce=$[Oe];if(Ce!=null&&r[Oe]!=null&&(pe||V[Oe]))if(isObject$4(Ce)&&!isArrayLike(Ce)&&!isGradientObject(Ce)){if(n){ae||(r[Oe]=Ce,g.updateDuringAnimation(n));continue}animateToShallow(g,Oe,r[Oe],Ce,L,V&&V[Oe],oe,ae)}else $e.push(Oe);else ae||(r[Oe]=Ce,g.updateDuringAnimation(n),$e.push(Oe))}var Ie=$e.length;if(!de&&Ie)for(var Ne=0;Ne<_e.length;Ne++){var ze=_e[Ne];if(ze.targetName===n){var Fe=ze.stopTracks($e);if(Fe){var Ue=indexOf(_e,ze);_e.splice(Ue,1)}}}if(L.force||($e=filter($e,function(kt){return!isValueSame($[kt],r[kt])}),Ie=$e.length),Ie>0||L.force&&!oe.length){var At=void 0,Et=void 0,Pt=void 0;if(ae){Et={},he&&(At={});for(var Ne=0;Ne<Ie;Ne++){var Oe=$e[Ne];Et[Oe]=r[Oe],he?At[Oe]=$[Oe]:r[Oe]=$[Oe]}}else if(he){Pt={};for(var Ne=0;Ne<Ie;Ne++){var Oe=$e[Ne];Pt[Oe]=cloneValue(r[Oe]),copyValue(r,$,Oe)}}var ze=new Animator$1(r,!1,!1,de?filter(_e,function(Dt){return Dt.targetName===n}):null);ze.targetName=n,L.scope&&(ze.scope=L.scope),he&&At&&ze.whenWithKeys(0,At,$e),Pt&&ze.whenWithKeys(0,Pt,$e),ze.whenWithKeys(le!=null?le:500,ae?Et:$,$e).delay(ue||0),g.addAnimator(ze,n),oe.push(ze)}}const Element$1$1=Element$1;var Group$3=function(g){__extends(n,g);function n(r){var $=g.call(this)||this;return $.isGroup=!0,$._children=[],$.attr(r),$}return n.prototype.childrenRef=function(){return this._children},n.prototype.children=function(){return this._children.slice()},n.prototype.childAt=function(r){return this._children[r]},n.prototype.childOfName=function(r){for(var $=this._children,L=0;L<$.length;L++)if($[L].name===r)return $[L]},n.prototype.childCount=function(){return this._children.length},n.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},n.prototype.addBefore=function(r,$){if(r&&r!==this&&r.parent!==this&&$&&$.parent===this){var L=this._children,V=L.indexOf($);V>=0&&(L.splice(V,0,r),this._doAdd(r))}return this},n.prototype.replace=function(r,$){var L=indexOf(this._children,r);return L>=0&&this.replaceAt($,L),this},n.prototype.replaceAt=function(r,$){var L=this._children,V=L[$];if(r&&r!==this&&r.parent!==this&&r!==V){L[$]=r,V.parent=null;var oe=this.__zr;oe&&V.removeSelfFromZr(oe),this._doAdd(r)}return this},n.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var $=this.__zr;$&&$!==r.__zr&&r.addSelfToZr($),$&&$.refresh()},n.prototype.remove=function(r){var $=this.__zr,L=this._children,V=indexOf(L,r);return V<0?this:(L.splice(V,1),r.parent=null,$&&r.removeSelfFromZr($),$&&$.refresh(),this)},n.prototype.removeAll=function(){for(var r=this._children,$=this.__zr,L=0;L<r.length;L++){var V=r[L];$&&V.removeSelfFromZr($),V.parent=null}return r.length=0,this},n.prototype.eachChild=function(r,$){for(var L=this._children,V=0;V<L.length;V++){var oe=L[V];r.call($,oe,V)}return this},n.prototype.traverse=function(r,$){for(var L=0;L<this._children.length;L++){var V=this._children[L],oe=r.call($,V);V.isGroup&&!oe&&V.traverse(r,$)}return this},n.prototype.addSelfToZr=function(r){g.prototype.addSelfToZr.call(this,r);for(var $=0;$<this._children.length;$++){var L=this._children[$];L.addSelfToZr(r)}},n.prototype.removeSelfFromZr=function(r){g.prototype.removeSelfFromZr.call(this,r);for(var $=0;$<this._children.length;$++){var L=this._children[$];L.removeSelfFromZr(r)}},n.prototype.getBoundingRect=function(r){for(var $=new BoundingRect$1(0,0,0,0),L=r||this._children,V=[],oe=null,ae=0;ae<L.length;ae++){var re=L[ae];if(!(re.ignore||re.invisible)){var le=re.getBoundingRect(),ue=re.getLocalTransform(V);ue?(BoundingRect$1.applyTransform($,le,ue),oe=oe||$.clone(),oe.union($)):(oe=oe||le.clone(),oe.union(le))}}return oe||$},n}(Element$1$1);Group$3.prototype.type="group";const Group$4=Group$3;var painterCtors={},instances$1={};function delInstance(g){delete instances$1[g]}function isDarkMode(g){if(!g)return!1;if(typeof g=="string")return lum(g,1)<DARK_MODE_THRESHOLD;if(g.colorStops){for(var n=g.colorStops,r=0,$=n.length,L=0;L<$;L++)r+=lum(n[L].color,1);return r/=$,r<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function g(n,r,$){var L=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,$=$||{},this.dom=r,this.id=n;var V=new Storage$1,oe=$.renderer||"canvas";painterCtors[oe]||(oe=keys(painterCtors)[0]),$.useDirtyRect=$.useDirtyRect==null?!1:$.useDirtyRect;var ae=new painterCtors[oe](r,V,$,n),re=$.ssr||ae.ssrOnly;this.storage=V,this.painter=ae;var le=!env$1.node&&!env$1.worker&&!re?new HandlerProxy(ae.getViewportRoot(),ae.root):null,ue=$.useCoarsePointer,de=ue==null||ue==="auto"?env$1.touchEventsSupported:!!ue,he=44,pe;de&&(pe=retrieve2($.pointerSize,he)),this.handler=new Handler$1(V,ae,le,ae.root,pe),this.animation=new Animation$1({stage:{update:re?null:function(){return L._flush(!0)}}}),re||this.animation.start()}return g.prototype.add=function(n){!n||(this.storage.addRoot(n),n.addSelfToZr(this),this.refresh())},g.prototype.remove=function(n){!n||(this.storage.delRoot(n),n.removeSelfFromZr(this),this.refresh())},g.prototype.configLayer=function(n,r){this.painter.configLayer&&this.painter.configLayer(n,r),this.refresh()},g.prototype.setBackgroundColor=function(n){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(n),this.refresh(),this._backgroundColor=n,this._darkMode=isDarkMode(n)},g.prototype.getBackgroundColor=function(){return this._backgroundColor},g.prototype.setDarkMode=function(n){this._darkMode=n},g.prototype.isDarkMode=function(){return this._darkMode},g.prototype.refreshImmediately=function(n){n||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},g.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},g.prototype.flush=function(){this._flush(!1)},g.prototype._flush=function(n){var r,$=getTime();this._needsRefresh&&(r=!0,this.refreshImmediately(n)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var L=getTime();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:L-$})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},g.prototype.setSleepAfterStill=function(n){this._sleepAfterStill=n},g.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},g.prototype.refreshHover=function(){this._needsRefreshHover=!0},g.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},g.prototype.resize=function(n){n=n||{},this.painter.resize(n.width,n.height),this.handler.resize()},g.prototype.clearAnimation=function(){this.animation.clear()},g.prototype.getWidth=function(){return this.painter.getWidth()},g.prototype.getHeight=function(){return this.painter.getHeight()},g.prototype.setCursorStyle=function(n){this.handler.setCursorStyle(n)},g.prototype.findHover=function(n,r){return this.handler.findHover(n,r)},g.prototype.on=function(n,r,$){return this.handler.on(n,r,$),this},g.prototype.off=function(n,r){this.handler.off(n,r)},g.prototype.trigger=function(n,r){this.handler.trigger(n,r)},g.prototype.clear=function(){for(var n=this.storage.getRoots(),r=0;r<n.length;r++)n[r]instanceof Group$4&&n[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},g.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delInstance(this.id)},g}();function init$2(g,n){var r=new ZRender(guid(),g,n);return instances$1[r.id]=r,r}function registerPainter(g,n){painterCtors[g]=n}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(g){return g.replace(/^\s+|\s+$/g,"")}function linearMap$2(g,n,r,$){var L=n[0],V=n[1],oe=r[0],ae=r[1],re=V-L,le=ae-oe;if(re===0)return le===0?oe:(oe+ae)/2;if($)if(re>0){if(g<=L)return oe;if(g>=V)return ae}else{if(g>=L)return oe;if(g<=V)return ae}else{if(g===L)return oe;if(g===V)return ae}return(g-L)/re*le+oe}function parsePercent(g,n){switch(g){case"center":case"middle":g="50%";break;case"left":case"top":g="0%";break;case"right":case"bottom":g="100%";break}return isString$1(g)?_trim(g).match(/%$/)?parseFloat(g)/100*n:parseFloat(g):g==null?NaN:+g}function round$3(g,n,r){return n==null&&(n=10),n=Math.min(Math.max(0,n),ROUND_SUPPORTED_PRECISION_MAX),g=(+g).toFixed(n),r?g:+g}function asc$2(g){return g.sort(function(n,r){return n-r}),g}function getPrecision(g){if(g=+g,isNaN(g))return 0;if(g>1e-14){for(var n=1,r=0;r<15;r++,n*=10)if(Math.round(g*n)/n===g)return r}return getPrecisionSafe(g)}function getPrecisionSafe(g){var n=g.toString().toLowerCase(),r=n.indexOf("e"),$=r>0?+n.slice(r+1):0,L=r>0?r:n.length,V=n.indexOf("."),oe=V<0?0:L-1-V;return Math.max(0,oe-$)}function getPixelPrecision(g,n){var r=Math.log,$=Math.LN10,L=Math.floor(r(g[1]-g[0])/$),V=Math.round(r(Math.abs(n[1]-n[0]))/$),oe=Math.min(Math.max(-L+V,0),20);return isFinite(oe)?oe:20}function getPercentSeats(g,n){var r=reduce(g,function(pe,_e){return pe+(isNaN(_e)?0:_e)},0);if(r===0)return[];for(var $=Math.pow(10,n),L=map$1(g,function(pe){return(isNaN(pe)?0:pe)/r*$*100}),V=$*100,oe=map$1(L,function(pe){return Math.floor(pe)}),ae=reduce(oe,function(pe,_e){return pe+_e},0),re=map$1(L,function(pe,_e){return pe-oe[_e]});ae<V;){for(var le=Number.NEGATIVE_INFINITY,ue=null,de=0,he=re.length;de<he;++de)re[de]>le&&(le=re[de],ue=de);++oe[ue],re[ue]=0,++ae}return map$1(oe,function(pe){return pe/$})}function addSafe(g,n){var r=Math.max(getPrecision(g),getPrecision(n)),$=g+n;return r>ROUND_SUPPORTED_PRECISION_MAX?$:round$3($,r)}var MAX_SAFE_INTEGER=9007199254740991;function remRadian(g){var n=Math.PI*2;return(g%n+n)%n}function isRadianAroundZero(g){return g>-RADIAN_EPSILON&&g<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(g){if(g instanceof Date)return g;if(isString$1(g)){var n=TIME_REG.exec(g);if(!n)return new Date(NaN);if(n[8]){var r=+n[4]||0;return n[8].toUpperCase()!=="Z"&&(r-=+n[8].slice(0,3)),new Date(Date.UTC(+n[1],+(n[2]||1)-1,+n[3]||1,r,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0))}else return new Date(+n[1],+(n[2]||1)-1,+n[3]||1,+n[4]||0,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0)}else if(g==null)return new Date(NaN);return new Date(Math.round(g))}function quantity(g){return Math.pow(10,quantityExponent(g))}function quantityExponent(g){if(g===0)return 0;var n=Math.floor(Math.log(g)/Math.LN10);return g/Math.pow(10,n)>=10&&n++,n}function nice(g,n){var r=quantityExponent(g),$=Math.pow(10,r),L=g/$,V;return n?L<1.5?V=1:L<2.5?V=2:L<4?V=3:L<7?V=5:V=10:L<1?V=1:L<2?V=2:L<3?V=3:L<5?V=5:V=10,g=V*$,r>=-20?+g.toFixed(r<0?-r:0):g}function quantile(g,n){var r=(g.length-1)*n+1,$=Math.floor(r),L=+g[$-1],V=r-$;return V?L+V*(g[$]-L):L}function reformIntervals(g){g.sort(function(re,le){return ae(re,le,0)?-1:1});for(var n=-1/0,r=1,$=0;$<g.length;){for(var L=g[$].interval,V=g[$].close,oe=0;oe<2;oe++)L[oe]<=n&&(L[oe]=n,V[oe]=oe?1:1-r),n=L[oe],r=V[oe];L[0]===L[1]&&V[0]*V[1]!==1?g.splice($,1):$++}return g;function ae(re,le,ue){return re.interval[ue]<le.interval[ue]||re.interval[ue]===le.interval[ue]&&(re.close[ue]-le.close[ue]===(ue?-1:1)||!ue&&ae(re,le,1))}}function numericToNumber(g){var n=parseFloat(g);return n==g&&(n!==0||!isString$1(g)||g.indexOf("x")<=0)?n:NaN}function isNumeric(g){return!isNaN(numericToNumber(g))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(g,n){return n===0?g:getGreatestCommonDividor(n,g%n)}function getLeastCommonMultiple(g,n){return g==null?n:n==null?g:g*n/getGreatestCommonDividor(g,n)}var ECHARTS_PREFIX="[ECharts] ",storedLogs={},hasConsole=typeof console<"u"&&console.warn&&console.log;function outputLog(g,n,r){if(hasConsole){if(r){if(storedLogs[n])return;storedLogs[n]=!0}console[g](ECHARTS_PREFIX+n)}}function warn(g,n){outputLog("warn",g,n)}function throwError(g){throw new Error(g)}function interpolateNumber(g,n,r){return(n-g)*r+g}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(g){return g instanceof Array?g:g==null?[]:[g]}function defaultEmphasis(g,n,r){if(g){g[n]=g[n]||{},g.emphasis=g.emphasis||{},g.emphasis[n]=g.emphasis[n]||{};for(var $=0,L=r.length;$<L;$++){var V=r[$];!g.emphasis[n].hasOwnProperty(V)&&g[n].hasOwnProperty(V)&&(g.emphasis[n][V]=g[n][V])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(g){return isObject$4(g)&&!isArray$2(g)&&!(g instanceof Date)?g.value:g}function isDataItemOption(g){return isObject$4(g)&&!(g instanceof Array)}function mappingToExists(g,n,r){var $=r==="normalMerge",L=r==="replaceMerge",V=r==="replaceAll";g=g||[],n=(n||[]).slice();var oe=createHashMap();each$f(n,function(re,le){if(!isObject$4(re)){n[le]=null;return}});var ae=prepareResult(g,oe,r);return($||L)&&mappingById(ae,g,oe,n),$&&mappingByName(ae,n),$||L?mappingByIndex(ae,n,L):V&&mappingInReplaceAllMode(ae,n),makeIdAndName(ae),ae}function prepareResult(g,n,r){var $=[];if(r==="replaceAll")return $;for(var L=0;L<g.length;L++){var V=g[L];V&&V.id!=null&&n.set(V.id,L),$.push({existing:r==="replaceMerge"||isComponentIdInternal(V)?null:V,newOption:null,keyInfo:null,brandNew:null})}return $}function mappingById(g,n,r,$){each$f($,function(L,V){if(!(!L||L.id==null)){var oe=makeComparableKey(L.id),ae=r.get(oe);if(ae!=null){var re=g[ae];assert(!re.newOption,'Duplicated option on id "'+oe+'".'),re.newOption=L,re.existing=n[ae],$[V]=null}}})}function mappingByName(g,n){each$f(n,function(r,$){if(!(!r||r.name==null))for(var L=0;L<g.length;L++){var V=g[L].existing;if(!g[L].newOption&&V&&(V.id==null||r.id==null)&&!isComponentIdInternal(r)&&!isComponentIdInternal(V)&&keyExistAndEqual("name",V,r)){g[L].newOption=r,n[$]=null;return}}})}function mappingByIndex(g,n,r){each$f(n,function($){if($){for(var L,V=0;(L=g[V])&&(L.newOption||isComponentIdInternal(L.existing)||L.existing&&$.id!=null&&!keyExistAndEqual("id",$,L.existing));)V++;L?(L.newOption=$,L.brandNew=r):g.push({newOption:$,brandNew:r,existing:null,keyInfo:null}),V++}})}function mappingInReplaceAllMode(g,n){each$f(n,function(r){g.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(g){var n=createHashMap();each$f(g,function(r){var $=r.existing;$&&n.set($.id,r)}),each$f(g,function(r){var $=r.newOption;assert(!$||$.id==null||!n.get($.id)||n.get($.id)===r,"id duplicates: "+($&&$.id)),$&&$.id!=null&&n.set($.id,r),!r.keyInfo&&(r.keyInfo={})}),each$f(g,function(r,$){var L=r.existing,V=r.newOption,oe=r.keyInfo;if(isObject$4(V)){if(oe.name=V.name!=null?makeComparableKey(V.name):L?L.name:DUMMY_COMPONENT_NAME_PREFIX+$,L)oe.id=makeComparableKey(L.id);else if(V.id!=null)oe.id=makeComparableKey(V.id);else{var ae=0;do oe.id="\0"+oe.name+"\0"+ae++;while(n.get(oe.id))}n.set(oe.id,r)}})}function keyExistAndEqual(g,n,r){var $=convertOptionIdName(n[g],null),L=convertOptionIdName(r[g],null);return $!=null&&L!=null&&$===L}function makeComparableKey(g){return convertOptionIdName(g,"")}function convertOptionIdName(g,n){return g==null?n:isString$1(g)?g:isNumber$1(g)||isStringSafe(g)?g+"":n}function isNameSpecified(g){var n=g.name;return!!(n&&n.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(g){return g&&g.id!=null&&makeComparableKey(g.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function makeInternalComponentId(g){return INTERNAL_COMPONENT_ID_PREFIX+g}function setComponentTypeToKeyInfo(g,n,r){each$f(g,function($){var L=$.newOption;isObject$4(L)&&($.keyInfo.mainType=n,$.keyInfo.subType=determineSubType(n,L,$.existing,r))})}function determineSubType(g,n,r,$){var L=n.type?n.type:r?r.subType:$.determineSubType(g,n);return L}function compressBatches(g,n){var r={},$={};return L(g||[],r),L(n||[],$,r),[V(r),V($)];function L(oe,ae,re){for(var le=0,ue=oe.length;le<ue;le++){var de=convertOptionIdName(oe[le].seriesId,null);if(de==null)return;for(var he=normalizeToArray(oe[le].dataIndex),pe=re&&re[de],_e=0,$e=he.length;_e<$e;_e++){var xe=he[_e];pe&&pe[xe]?pe[xe]=null:(ae[de]||(ae[de]={}))[xe]=1}}}function V(oe,ae){var re=[];for(var le in oe)if(oe.hasOwnProperty(le)&&oe[le]!=null)if(ae)re.push(+le);else{var ue=V(oe[le],!0);ue.length&&re.push({seriesId:le,dataIndex:ue})}return re}}function queryDataIndex(g,n){if(n.dataIndexInside!=null)return n.dataIndexInside;if(n.dataIndex!=null)return isArray$2(n.dataIndex)?map$1(n.dataIndex,function(r){return g.indexOfRawIndex(r)}):g.indexOfRawIndex(n.dataIndex);if(n.name!=null)return isArray$2(n.name)?map$1(n.name,function(r){return g.indexOfName(r)}):g.indexOfName(n.name)}function makeInner(){var g="__ec_inner_"+innerUniqueIndex++;return function(n){return n[g]||(n[g]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder$1(g,n,r){var $=preParseFinder(n,r),L=$.mainTypeSpecified,V=$.queryOptionMap,oe=$.others,ae=oe,re=r?r.defaultMainType:null;return!L&&re&&V.set(re,{}),V.each(function(le,ue){var de=queryReferringComponents(g,ue,le,{useDefault:re===ue,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});ae[ue+"Models"]=de.models,ae[ue+"Model"]=de.models[0]}),ae}function preParseFinder(g,n){var r;if(isString$1(g)){var $={};$[g+"Index"]=0,r=$}else r=g;var L=createHashMap(),V={},oe=!1;return each$f(r,function(ae,re){if(re==="dataIndex"||re==="dataIndexInside"){V[re]=ae;return}var le=re.match(/^(\w+)(Index|Id|Name)$/)||[],ue=le[1],de=(le[2]||"").toLowerCase();if(!(!ue||!de||n&&n.includeMainTypes&&indexOf(n.includeMainTypes,ue)<0)){oe=oe||!!ue;var he=L.get(ue)||L.set(ue,{});he[de]=ae}}),{mainTypeSpecified:oe,queryOptionMap:L,others:V}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(g,n,r,$){$=$||SINGLE_REFERRING;var L=r.index,V=r.id,oe=r.name,ae={models:null,specified:L!=null||V!=null||oe!=null};if(!ae.specified){var re=void 0;return ae.models=$.useDefault&&(re=g.getComponent(n))?[re]:[],ae}return L==="none"||L===!1?(assert($.enableNone,'`"none"` or `false` is not a valid value on index option.'),ae.models=[],ae):(L==="all"&&(assert($.enableAll,'`"all"` is not a valid value on index option.'),L=V=oe=null),ae.models=g.queryComponents({mainType:n,index:L,id:V,name:oe}),ae)}function setAttribute(g,n,r){g.setAttribute?g.setAttribute(n,r):g[n]=r}function getAttribute(g,n){return g.getAttribute?g.getAttribute(n):g[n]}function getTooltipRenderMode(g){return g==="auto"?env$1.domSupported?"html":"richText":g||"html"}function groupData(g,n){var r=createHashMap(),$=[];return each$f(g,function(L){var V=n(L);(r.get(V)||($.push(V),r.set(V,[]))).push(L)}),{keys:$,buckets:r}}function interpolateRawValues(g,n,r,$,L){var V=n==null||n==="auto";if($==null)return $;if(isNumber$1($)){var oe=interpolateNumber(r||0,$,L);return round$3(oe,V?Math.max(getPrecision(r||0),getPrecision($)):n)}else{if(isString$1($))return L<1?r:$;for(var ae=[],re=r,le=$,ue=Math.max(re?re.length:0,le.length),de=0;de<ue;++de){var he=g.getDimensionInfo(de);if(he&&he.type==="ordinal")ae[de]=(L<1&&re?re:le)[de];else{var pe=re&&re[de]?re[de]:0,_e=le[de],oe=interpolateNumber(pe,_e,L);ae[de]=round$3(oe,V?Math.max(getPrecision(pe),getPrecision(_e)):n)}}return ae}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(g){var n={main:"",sub:""};if(g){var r=g.split(TYPE_DELIMITER);n.main=r[0]||"",n.sub=r[1]||""}return n}function checkClassType(g){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(g),'componentType "'+g+'" illegal')}function isExtendedClass(g){return!!(g&&g[IS_EXTENDED_CLASS])}function enableClassExtend(g,n){g.$constructor=g,g.extend=function(r){var $=this,L;return isESClass($)?L=function(V){__extends(oe,V);function oe(){return V.apply(this,arguments)||this}return oe}($):(L=function(){(r.$constructor||$).apply(this,arguments)},inherits$1(L,this)),extend$1(L.prototype,r),L[IS_EXTENDED_CLASS]=!0,L.extend=this.extend,L.superCall=superCall,L.superApply=superApply,L.superClass=$,L}}function isESClass(g){return isFunction$1(g)&&/^class\s/.test(Function.prototype.toString.call(g))}function mountExtend(g,n){g.extend=n.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(g){var n=["__\0is_clz",classBase++].join("_");g.prototype[n]=!0,g.isInstance=function(r){return!!(r&&r[n])}}function superCall(g,n){for(var r=[],$=2;$<arguments.length;$++)r[$-2]=arguments[$];return this.superClass.prototype[n].apply(g,r)}function superApply(g,n,r){return this.superClass.prototype[n].apply(g,r)}function enableClassManagement(g){var n={};g.registerClass=function($){var L=$.type||$.prototype.type;if(L){checkClassType(L),$.prototype.type=L;var V=parseClassType(L);if(!V.sub)n[V.main]=$;else if(V.sub!==IS_CONTAINER){var oe=r(V);oe[V.sub]=$}}return $},g.getClass=function($,L,V){var oe=n[$];if(oe&&oe[IS_CONTAINER]&&(oe=L?oe[L]:null),V&&!oe)throw new Error(L?"Component "+$+"."+(L||"")+" is used but not imported.":$+".type should be specified.");return oe},g.getClassesByMainType=function($){var L=parseClassType($),V=[],oe=n[L.main];return oe&&oe[IS_CONTAINER]?each$f(oe,function(ae,re){re!==IS_CONTAINER&&V.push(ae)}):V.push(oe),V},g.hasClass=function($){var L=parseClassType($);return!!n[L.main]},g.getAllClassMainTypes=function(){var $=[];return each$f(n,function(L,V){$.push(V)}),$},g.hasSubTypes=function($){var L=parseClassType($),V=n[L.main];return V&&V[IS_CONTAINER]};function r($){var L=n[$.main];return(!L||!L[IS_CONTAINER])&&(L=n[$.main]={},L[IS_CONTAINER]=!0),L}}function makeStyleMapper(g,n){for(var r=0;r<g.length;r++)g[r][1]||(g[r][1]=g[r][0]);return n=n||!1,function($,L,V){for(var oe={},ae=0;ae<g.length;ae++){var re=g[ae][1];if(!(L&&indexOf(L,re)>=0||V&&indexOf(V,re)<0)){var le=$.getShallow(re,n);le!=null&&(oe[g[ae][0]]=le)}}return oe}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function g(){}return g.prototype.getAreaStyle=function(n,r){return getAreaStyle(this,n,r)},g}(),globalImageCache=new LRU$1(50);function findExistImage(g){if(typeof g=="string"){var n=globalImageCache.get(g);return n&&n.image}else return g}function createOrUpdateImage(g,n,r,$,L){if(g)if(typeof g=="string"){if(n&&n.__zrImageSrc===g||!r)return n;var V=globalImageCache.get(g),oe={hostEl:r,cb:$,cbPayload:L};return V?(n=V.image,!isImageReady(n)&&V.pending.push(oe)):(n=platformApi.loadImage(g,imageOnLoad,imageOnLoad),n.__zrImageSrc=g,globalImageCache.put(g,n.__cachedImgObj={image:n,pending:[oe]})),n}else return g;else return n}function imageOnLoad(){var g=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var n=0;n<g.pending.length;n++){var r=g.pending[n],$=r.cb;$&&$(this,r.cbPayload),r.hostEl.dirty()}g.pending.length=0}function isImageReady(g){return g&&g.width&&g.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(g,n,r,$,L){if(!n)return"";var V=(g+"").split(`
`);L=prepareTruncateOptions(n,r,$,L);for(var oe=0,ae=V.length;oe<ae;oe++)V[oe]=truncateSingleLine(V[oe],L);return V.join(`
`)}function prepareTruncateOptions(g,n,r,$){$=$||{};var L=extend$1({},$);L.font=n,r=retrieve2(r,"..."),L.maxIterations=retrieve2($.maxIterations,2);var V=L.minChar=retrieve2($.minChar,0);L.cnCharWidth=getWidth("\u56FD",n);var oe=L.ascCharWidth=getWidth("a",n);L.placeholder=retrieve2($.placeholder,"");for(var ae=g=Math.max(0,g-1),re=0;re<V&&ae>=oe;re++)ae-=oe;var le=getWidth(r,n);return le>ae&&(r="",le=0),ae=g-le,L.ellipsis=r,L.ellipsisWidth=le,L.contentWidth=ae,L.containerWidth=g,L}function truncateSingleLine(g,n){var r=n.containerWidth,$=n.font,L=n.contentWidth;if(!r)return"";var V=getWidth(g,$);if(V<=r)return g;for(var oe=0;;oe++){if(V<=L||oe>=n.maxIterations){g+=n.ellipsis;break}var ae=oe===0?estimateLength(g,L,n.ascCharWidth,n.cnCharWidth):V>0?Math.floor(g.length*L/V):0;g=g.substr(0,ae),V=getWidth(g,$)}return g===""&&(g=n.placeholder),g}function estimateLength(g,n,r,$){for(var L=0,V=0,oe=g.length;V<oe&&L<n;V++){var ae=g.charCodeAt(V);L+=0<=ae&&ae<=127?r:$}return V}function parsePlainText(g,n){g!=null&&(g+="");var r=n.overflow,$=n.padding,L=n.font,V=r==="truncate",oe=getLineHeight(L),ae=retrieve2(n.lineHeight,oe),re=!!n.backgroundColor,le=n.lineOverflow==="truncate",ue=n.width,de;ue!=null&&(r==="break"||r==="breakAll")?de=g?wrapText(g,n.font,ue,r==="breakAll",0).lines:[]:de=g?g.split(`
`):[];var he=de.length*ae,pe=retrieve2(n.height,he);if(he>pe&&le){var _e=Math.floor(pe/ae);de=de.slice(0,_e)}if(g&&V&&ue!=null)for(var $e=prepareTruncateOptions(ue,L,n.ellipsis,{minChar:n.truncateMinChar,placeholder:n.placeholder}),xe=0;xe<de.length;xe++)de[xe]=truncateSingleLine(de[xe],$e);for(var Oe=pe,Ce=0,xe=0;xe<de.length;xe++)Ce=Math.max(getWidth(de[xe],L),Ce);ue==null&&(ue=Ce);var Ie=Ce;return $&&(Oe+=$[0]+$[2],Ie+=$[1]+$[3],ue+=$[1]+$[3]),re&&(Ie=ue),{lines:de,height:pe,outerWidth:Ie,outerHeight:Oe,lineHeight:ae,calculatedLineHeight:oe,contentWidth:Ce,contentHeight:he,width:ue}}var RichTextToken=function(){function g(){}return g}(),RichTextLine=function(){function g(n){this.tokens=[],n&&(this.tokens=n)}return g}(),RichTextContentBlock=function(){function g(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return g}();function parseRichText(g,n){var r=new RichTextContentBlock;if(g!=null&&(g+=""),!g)return r;for(var $=n.width,L=n.height,V=n.overflow,oe=(V==="break"||V==="breakAll")&&$!=null?{width:$,accumWidth:0,breakAll:V==="breakAll"}:null,ae=STYLE_REG.lastIndex=0,re;(re=STYLE_REG.exec(g))!=null;){var le=re.index;le>ae&&pushTokens(r,g.substring(ae,le),n,oe),pushTokens(r,re[2],n,oe,re[1]),ae=STYLE_REG.lastIndex}ae<g.length&&pushTokens(r,g.substring(ae,g.length),n,oe);var ue=[],de=0,he=0,pe=n.padding,_e=V==="truncate",$e=n.lineOverflow==="truncate";function xe(Sn,xn,On){Sn.width=xn,Sn.lineHeight=On,de+=On,he=Math.max(he,xn)}e:for(var Oe=0;Oe<r.lines.length;Oe++){for(var Ce=r.lines[Oe],Ie=0,Ne=0,ze=0;ze<Ce.tokens.length;ze++){var Fe=Ce.tokens[ze],Ue=Fe.styleName&&n.rich[Fe.styleName]||{},At=Fe.textPadding=Ue.padding,Et=At?At[1]+At[3]:0,Pt=Fe.font=Ue.font||n.font;Fe.contentHeight=getLineHeight(Pt);var kt=retrieve2(Ue.height,Fe.contentHeight);if(Fe.innerHeight=kt,At&&(kt+=At[0]+At[2]),Fe.height=kt,Fe.lineHeight=retrieve3(Ue.lineHeight,n.lineHeight,kt),Fe.align=Ue&&Ue.align||n.align,Fe.verticalAlign=Ue&&Ue.verticalAlign||"middle",$e&&L!=null&&de+Fe.lineHeight>L){ze>0?(Ce.tokens=Ce.tokens.slice(0,ze),xe(Ce,Ne,Ie),r.lines=r.lines.slice(0,Oe+1)):r.lines=r.lines.slice(0,Oe);break e}var Dt=Ue.width,Lt=Dt==null||Dt==="auto";if(typeof Dt=="string"&&Dt.charAt(Dt.length-1)==="%")Fe.percentWidth=Dt,ue.push(Fe),Fe.contentWidth=getWidth(Fe.text,Pt);else{if(Lt){var hn=Ue.backgroundColor,vn=hn&&hn.image;vn&&(vn=findExistImage(vn),isImageReady(vn)&&(Fe.width=Math.max(Fe.width,vn.width*kt/vn.height)))}var _n=_e&&$!=null?$-Ne:null;_n!=null&&_n<Fe.width?!Lt||_n<Et?(Fe.text="",Fe.width=Fe.contentWidth=0):(Fe.text=truncateText(Fe.text,_n-Et,Pt,n.ellipsis,{minChar:n.truncateMinChar}),Fe.width=Fe.contentWidth=getWidth(Fe.text,Pt)):Fe.contentWidth=getWidth(Fe.text,Pt)}Fe.width+=Et,Ne+=Fe.width,Ue&&(Ie=Math.max(Ie,Fe.lineHeight))}xe(Ce,Ne,Ie)}r.outerWidth=r.width=retrieve2($,he),r.outerHeight=r.height=retrieve2(L,de),r.contentHeight=de,r.contentWidth=he,pe&&(r.outerWidth+=pe[1]+pe[3],r.outerHeight+=pe[0]+pe[2]);for(var Oe=0;Oe<ue.length;Oe++){var Fe=ue[Oe],$n=Fe.percentWidth;Fe.width=parseInt($n,10)/100*r.width}return r}function pushTokens(g,n,r,$,L){var V=n==="",oe=L&&r.rich[L]||{},ae=g.lines,re=oe.font||r.font,le=!1,ue,de;if($){var he=oe.padding,pe=he?he[1]+he[3]:0;if(oe.width!=null&&oe.width!=="auto"){var _e=parsePercent$1(oe.width,$.width)+pe;ae.length>0&&_e+$.accumWidth>$.width&&(ue=n.split(`
`),le=!0),$.accumWidth=_e}else{var $e=wrapText(n,re,$.width,$.breakAll,$.accumWidth);$.accumWidth=$e.accumWidth+pe,de=$e.linesWidths,ue=$e.lines}}else ue=n.split(`
`);for(var xe=0;xe<ue.length;xe++){var Oe=ue[xe],Ce=new RichTextToken;if(Ce.styleName=L,Ce.text=Oe,Ce.isLineHolder=!Oe&&!V,typeof oe.width=="number"?Ce.width=oe.width:Ce.width=de?de[xe]:getWidth(Oe,re),!xe&&!le){var Ie=(ae[ae.length-1]||(ae[0]=new RichTextLine)).tokens,Ne=Ie.length;Ne===1&&Ie[0].isLineHolder?Ie[0]=Ce:(Oe||!Ne||V)&&Ie.push(Ce)}else ae.push(new RichTextLine([Ce]))}}function isLatin(g){var n=g.charCodeAt(0);return n>=33&&n<=383}var breakCharMap=reduce(",&?/;] ".split(""),function(g,n){return g[n]=!0,g},{});function isWordBreakChar(g){return isLatin(g)?!!breakCharMap[g]:!0}function wrapText(g,n,r,$,L){for(var V=[],oe=[],ae="",re="",le=0,ue=0,de=0;de<g.length;de++){var he=g.charAt(de);if(he===`
`){re&&(ae+=re,ue+=le),V.push(ae),oe.push(ue),ae="",re="",le=0,ue=0;continue}var pe=getWidth(he,n),_e=$?!1:!isWordBreakChar(he);if(V.length?ue+pe>r:L+ue+pe>r){ue?(ae||re)&&(_e?(ae||(ae=re,re="",le=0,ue=le),V.push(ae),oe.push(ue-le),re+=he,le+=pe,ae="",ue=le):(re&&(ae+=re,re="",le=0),V.push(ae),oe.push(ue),ae=he,ue=pe)):_e?(V.push(re),oe.push(le),re=he,le=pe):(V.push(he),oe.push(pe));continue}ue+=pe,_e?(re+=he,le+=pe):(re&&(ae+=re,re="",le=0),ae+=he)}return!V.length&&!ae&&(ae=g,re="",le=0),re&&(ae+=re),ae&&(V.push(ae),oe.push(ue)),V.length===1&&(ue+=L),{accumWidth:ue,lines:V,linesWidths:oe}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype._init=function(r){for(var $=keys(r),L=0;L<$.length;L++){var V=$[L];V==="style"?this.useStyle(r[V]):g.prototype.attrKV.call(this,V,r[V])}this.style||this.useStyle({})},n.prototype.beforeBrush=function(){},n.prototype.afterBrush=function(){},n.prototype.innerBeforeBrush=function(){},n.prototype.innerAfterBrush=function(){},n.prototype.shouldBePainted=function(r,$,L,V){var oe=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,r,$)||oe&&!oe[0]&&!oe[3])return!1;if(L&&this.__clipPaths){for(var ae=0;ae<this.__clipPaths.length;++ae)if(this.__clipPaths[ae].isZeroArea())return!1}if(V&&this.parent)for(var re=this.parent;re;){if(re.ignore)return!1;re=re.parent}return!0},n.prototype.contain=function(r,$){return this.rectContain(r,$)},n.prototype.traverse=function(r,$){r.call($,this)},n.prototype.rectContain=function(r,$){var L=this.transformCoordToLocal(r,$),V=this.getBoundingRect();return V.contain(L[0],L[1])},n.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var $=this.transform,L=this.getBoundingRect(),V=this.style,oe=V.shadowBlur||0,ae=V.shadowOffsetX||0,re=V.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new BoundingRect$1(0,0,0,0)),$?BoundingRect$1.applyTransform(r,L,$):r.copy(L),(oe||ae||re)&&(r.width+=oe*2+Math.abs(ae),r.height+=oe*2+Math.abs(re),r.x=Math.min(r.x,r.x+ae-oe),r.y=Math.min(r.y,r.y+re-oe));var le=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-le),r.y=Math.floor(r.y-le),r.width=Math.ceil(r.width+1+le*2),r.height=Math.ceil(r.height+1+le*2))}return r},n.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new BoundingRect$1(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},n.prototype.getPrevPaintRect=function(){return this._prevPaintRect},n.prototype.animateStyle=function(r){return this.animate("style",r)},n.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},n.prototype.attrKV=function(r,$){r!=="style"?g.prototype.attrKV.call(this,r,$):this.style?this.setStyle($):this.useStyle($)},n.prototype.setStyle=function(r,$){return typeof r=="string"?this.style[r]=$:extend$1(this.style,r),this.dirtyStyle(),this},n.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},n.prototype.dirty=function(){this.dirtyStyle()},n.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},n.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},n.prototype.createStyle=function(r){return createObject(DEFAULT_COMMON_STYLE,r)},n.prototype.useStyle=function(r){r[STYLE_MAGIC_KEY]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},n.prototype.isStyleObject=function(r){return r[STYLE_MAGIC_KEY]},n.prototype._innerSaveToNormal=function(r){g.prototype._innerSaveToNormal.call(this,r);var $=this._normalState;r.style&&!$.style&&($.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,$,PRIMARY_STATES_KEYS)},n.prototype._applyStateObj=function(r,$,L,V,oe,ae){g.prototype._applyStateObj.call(this,r,$,L,V,oe,ae);var re=!($&&V),le;if($&&$.style?oe?V?le=$.style:(le=this._mergeStyle(this.createStyle(),L.style),this._mergeStyle(le,$.style)):(le=this._mergeStyle(this.createStyle(),V?this.style:L.style),this._mergeStyle(le,$.style)):re&&(le=L.style),le)if(oe){var ue=this.style;if(this.style=this.createStyle(re?{}:ue),re)for(var de=keys(ue),he=0;he<de.length;he++){var pe=de[he];pe in le&&(le[pe]=le[pe],this.style[pe]=ue[pe])}for(var _e=keys(le),he=0;he<_e.length;he++){var pe=_e[he];this.style[pe]=this.style[pe]}this._transitionState(r,{style:le},ae,this.getAnimationStyleProps())}else this.useStyle(le);for(var $e=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,he=0;he<$e.length;he++){var pe=$e[he];$&&$[pe]!=null?this[pe]=$[pe]:re&&L[pe]!=null&&(this[pe]=L[pe])}},n.prototype._mergeStates=function(r){for(var $=g.prototype._mergeStates.call(this,r),L,V=0;V<r.length;V++){var oe=r[V];oe.style&&(L=L||{},this._mergeStyle(L,oe.style))}return L&&($.style=L),$},n.prototype._mergeStyle=function(r,$){return extend$1(r,$),r},n.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},n.initDefaultProps=function(){var r=n.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),n}(Element$1$1),tmpRect=new BoundingRect$1(0,0,0,0),viewRect=new BoundingRect$1(0,0,0,0);function isDisplayableCulled(g,n,r){return tmpRect.copy(g.getBoundingRect()),g.transform&&tmpRect.applyTransform(g.transform),viewRect.width=n,viewRect.height=r,!tmpRect.intersect(viewRect)}const Displayable$1=Displayable;var mathMin$9=Math.min,mathMax$9=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$8=Math.PI*2,start=create$2(),end=create$2(),extremity=create$2();function fromPoints(g,n,r){if(g.length!==0){for(var $=g[0],L=$[0],V=$[0],oe=$[1],ae=$[1],re=1;re<g.length;re++)$=g[re],L=mathMin$9(L,$[0]),V=mathMax$9(V,$[0]),oe=mathMin$9(oe,$[1]),ae=mathMax$9(ae,$[1]);n[0]=L,n[1]=oe,r[0]=V,r[1]=ae}}function fromLine(g,n,r,$,L,V){L[0]=mathMin$9(g,r),L[1]=mathMin$9(n,$),V[0]=mathMax$9(g,r),V[1]=mathMax$9(n,$)}var xDim=[],yDim=[];function fromCubic(g,n,r,$,L,V,oe,ae,re,le){var ue=cubicExtrema,de=cubicAt,he=ue(g,r,L,oe,xDim);re[0]=1/0,re[1]=1/0,le[0]=-1/0,le[1]=-1/0;for(var pe=0;pe<he;pe++){var _e=de(g,r,L,oe,xDim[pe]);re[0]=mathMin$9(_e,re[0]),le[0]=mathMax$9(_e,le[0])}he=ue(n,$,V,ae,yDim);for(var pe=0;pe<he;pe++){var $e=de(n,$,V,ae,yDim[pe]);re[1]=mathMin$9($e,re[1]),le[1]=mathMax$9($e,le[1])}re[0]=mathMin$9(g,re[0]),le[0]=mathMax$9(g,le[0]),re[0]=mathMin$9(oe,re[0]),le[0]=mathMax$9(oe,le[0]),re[1]=mathMin$9(n,re[1]),le[1]=mathMax$9(n,le[1]),re[1]=mathMin$9(ae,re[1]),le[1]=mathMax$9(ae,le[1])}function fromQuadratic(g,n,r,$,L,V,oe,ae){var re=quadraticExtremum,le=quadraticAt$1,ue=mathMax$9(mathMin$9(re(g,r,L),1),0),de=mathMax$9(mathMin$9(re(n,$,V),1),0),he=le(g,r,L,ue),pe=le(n,$,V,de);oe[0]=mathMin$9(g,L,he),oe[1]=mathMin$9(n,V,pe),ae[0]=mathMax$9(g,L,he),ae[1]=mathMax$9(n,V,pe)}function fromArc(g,n,r,$,L,V,oe,ae,re){var le=min$1,ue=max$1,de=Math.abs(L-V);if(de%PI2$8<1e-4&&de>1e-4){ae[0]=g-r,ae[1]=n-$,re[0]=g+r,re[1]=n+$;return}if(start[0]=mathCos$4(L)*r+g,start[1]=mathSin$4(L)*$+n,end[0]=mathCos$4(V)*r+g,end[1]=mathSin$4(V)*$+n,le(ae,start,end),ue(re,start,end),L=L%PI2$8,L<0&&(L=L+PI2$8),V=V%PI2$8,V<0&&(V=V+PI2$8),L>V&&!oe?V+=PI2$8:L<V&&oe&&(L+=PI2$8),oe){var he=V;V=L,L=he}for(var pe=0;pe<V;pe+=Math.PI/2)pe>L&&(extremity[0]=mathCos$4(pe)*r+g,extremity[1]=mathSin$4(pe)*$+n,le(ae,extremity,ae),ue(re,extremity,re))}var CMD$4={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$8=Math.min,mathMax$8=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$2=Math.abs,PI$8=Math.PI,PI2$7=PI$8*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(g){var n=Math.round(g/PI$8*1e8)/1e8;return n%2*PI$8}function normalizeArcAngles(g,n){var r=modPI2(g[0]);r<0&&(r+=PI2$7);var $=r-g[0],L=g[1];L+=$,!n&&L-r>=PI2$7?L=r+PI2$7:n&&r-L>=PI2$7?L=r-PI2$7:!n&&r>L?L=r+(PI2$7-modPI2(r-L)):n&&r<L&&(L=r-(PI2$7-modPI2(L-r))),g[0]=r,g[1]=L}var PathProxy=function(){function g(n){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,n&&(this._saveData=!1),this._saveData&&(this.data=[])}return g.prototype.increaseVersion=function(){this._version++},g.prototype.getVersion=function(){return this._version},g.prototype.setScale=function(n,r,$){$=$||0,$>0&&(this._ux=mathAbs$2($/devicePixelRatio/n)||0,this._uy=mathAbs$2($/devicePixelRatio/r)||0)},g.prototype.setDPR=function(n){this.dpr=n},g.prototype.setContext=function(n){this._ctx=n},g.prototype.getContext=function(){return this._ctx},g.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},g.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},g.prototype.moveTo=function(n,r){return this._drawPendingPt(),this.addData(CMD$4.M,n,r),this._ctx&&this._ctx.moveTo(n,r),this._x0=n,this._y0=r,this._xi=n,this._yi=r,this},g.prototype.lineTo=function(n,r){var $=mathAbs$2(n-this._xi),L=mathAbs$2(r-this._yi),V=$>this._ux||L>this._uy;if(this.addData(CMD$4.L,n,r),this._ctx&&V&&this._ctx.lineTo(n,r),V)this._xi=n,this._yi=r,this._pendingPtDist=0;else{var oe=$*$+L*L;oe>this._pendingPtDist&&(this._pendingPtX=n,this._pendingPtY=r,this._pendingPtDist=oe)}return this},g.prototype.bezierCurveTo=function(n,r,$,L,V,oe){return this._drawPendingPt(),this.addData(CMD$4.C,n,r,$,L,V,oe),this._ctx&&this._ctx.bezierCurveTo(n,r,$,L,V,oe),this._xi=V,this._yi=oe,this},g.prototype.quadraticCurveTo=function(n,r,$,L){return this._drawPendingPt(),this.addData(CMD$4.Q,n,r,$,L),this._ctx&&this._ctx.quadraticCurveTo(n,r,$,L),this._xi=$,this._yi=L,this},g.prototype.arc=function(n,r,$,L,V,oe){this._drawPendingPt(),tmpAngles[0]=L,tmpAngles[1]=V,normalizeArcAngles(tmpAngles,oe),L=tmpAngles[0],V=tmpAngles[1];var ae=V-L;return this.addData(CMD$4.A,n,r,$,$,L,ae,0,oe?0:1),this._ctx&&this._ctx.arc(n,r,$,L,V,oe),this._xi=mathCos$3(V)*$+n,this._yi=mathSin$3(V)*$+r,this},g.prototype.arcTo=function(n,r,$,L,V){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(n,r,$,L,V),this},g.prototype.rect=function(n,r,$,L){return this._drawPendingPt(),this._ctx&&this._ctx.rect(n,r,$,L),this.addData(CMD$4.R,n,r,$,L),this},g.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$4.Z);var n=this._ctx,r=this._x0,$=this._y0;return n&&n.closePath(),this._xi=r,this._yi=$,this},g.prototype.fill=function(n){n&&n.fill(),this.toStatic()},g.prototype.stroke=function(n){n&&n.stroke(),this.toStatic()},g.prototype.len=function(){return this._len},g.prototype.setData=function(n){var r=n.length;!(this.data&&this.data.length===r)&&hasTypedArray&&(this.data=new Float32Array(r));for(var $=0;$<r;$++)this.data[$]=n[$];this._len=r},g.prototype.appendPath=function(n){n instanceof Array||(n=[n]);for(var r=n.length,$=0,L=this._len,V=0;V<r;V++)$+=n[V].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(L+$));for(var V=0;V<r;V++)for(var oe=n[V].data,ae=0;ae<oe.length;ae++)this.data[L++]=oe[ae];this._len=L},g.prototype.addData=function(n,r,$,L,V,oe,ae,re,le){if(this._saveData){var ue=this.data;this._len+arguments.length>ue.length&&(this._expandData(),ue=this.data);for(var de=0;de<arguments.length;de++)ue[this._len++]=arguments[de]}},g.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},g.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var n=[],r=0;r<this._len;r++)n[r]=this.data[r];this.data=n}},g.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var n=this.data;n instanceof Array&&(n.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(n)))}},g.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var n=this.data,r=0,$=0,L=0,V=0,oe;for(oe=0;oe<this._len;){var ae=n[oe++],re=oe===1;switch(re&&(r=n[oe],$=n[oe+1],L=r,V=$),ae){case CMD$4.M:r=L=n[oe++],$=V=n[oe++],min2[0]=L,min2[1]=V,max2[0]=L,max2[1]=V;break;case CMD$4.L:fromLine(r,$,n[oe],n[oe+1],min2,max2),r=n[oe++],$=n[oe++];break;case CMD$4.C:fromCubic(r,$,n[oe++],n[oe++],n[oe++],n[oe++],n[oe],n[oe+1],min2,max2),r=n[oe++],$=n[oe++];break;case CMD$4.Q:fromQuadratic(r,$,n[oe++],n[oe++],n[oe],n[oe+1],min2,max2),r=n[oe++],$=n[oe++];break;case CMD$4.A:var le=n[oe++],ue=n[oe++],de=n[oe++],he=n[oe++],pe=n[oe++],_e=n[oe++]+pe;oe+=1;var $e=!n[oe++];re&&(L=mathCos$3(pe)*de+le,V=mathSin$3(pe)*he+ue),fromArc(le,ue,de,he,pe,_e,$e,min2,max2),r=mathCos$3(_e)*de+le,$=mathSin$3(_e)*he+ue;break;case CMD$4.R:L=r=n[oe++],V=$=n[oe++];var xe=n[oe++],Oe=n[oe++];fromLine(L,V,L+xe,V+Oe,min2,max2);break;case CMD$4.Z:r=L,$=V;break}min$1(min,min,min2),max$1(max,max,max2)}return oe===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect$1(min[0],min[1],max[0]-min[0],max[1]-min[1])},g.prototype._calculateLength=function(){var n=this.data,r=this._len,$=this._ux,L=this._uy,V=0,oe=0,ae=0,re=0;this._pathSegLen||(this._pathSegLen=[]);for(var le=this._pathSegLen,ue=0,de=0,he=0;he<r;){var pe=n[he++],_e=he===1;_e&&(V=n[he],oe=n[he+1],ae=V,re=oe);var $e=-1;switch(pe){case CMD$4.M:V=ae=n[he++],oe=re=n[he++];break;case CMD$4.L:{var xe=n[he++],Oe=n[he++],Ce=xe-V,Ie=Oe-oe;(mathAbs$2(Ce)>$||mathAbs$2(Ie)>L||he===r-1)&&($e=Math.sqrt(Ce*Ce+Ie*Ie),V=xe,oe=Oe);break}case CMD$4.C:{var Ne=n[he++],ze=n[he++],xe=n[he++],Oe=n[he++],Fe=n[he++],Ue=n[he++];$e=cubicLength(V,oe,Ne,ze,xe,Oe,Fe,Ue,10),V=Fe,oe=Ue;break}case CMD$4.Q:{var Ne=n[he++],ze=n[he++],xe=n[he++],Oe=n[he++];$e=quadraticLength(V,oe,Ne,ze,xe,Oe,10),V=xe,oe=Oe;break}case CMD$4.A:var At=n[he++],Et=n[he++],Pt=n[he++],kt=n[he++],Dt=n[he++],Lt=n[he++],hn=Lt+Dt;he+=1,n[he++],_e&&(ae=mathCos$3(Dt)*Pt+At,re=mathSin$3(Dt)*kt+Et),$e=mathMax$8(Pt,kt)*mathMin$8(PI2$7,Math.abs(Lt)),V=mathCos$3(hn)*Pt+At,oe=mathSin$3(hn)*kt+Et;break;case CMD$4.R:{ae=V=n[he++],re=oe=n[he++];var vn=n[he++],_n=n[he++];$e=vn*2+_n*2;break}case CMD$4.Z:{var Ce=ae-V,Ie=re-oe;$e=Math.sqrt(Ce*Ce+Ie*Ie),V=ae,oe=re;break}}$e>=0&&(le[de++]=$e,ue+=$e)}return this._pathLen=ue,ue},g.prototype.rebuildPath=function(n,r){var $=this.data,L=this._ux,V=this._uy,oe=this._len,ae,re,le,ue,de,he,pe=r<1,_e,$e,xe=0,Oe=0,Ce,Ie=0,Ne,ze;if(pe&&(this._pathSegLen||this._calculateLength(),_e=this._pathSegLen,$e=this._pathLen,Ce=r*$e,!Ce))return;e:for(var Fe=0;Fe<oe;){var Ue=$[Fe++],At=Fe===1;switch(At&&(le=$[Fe],ue=$[Fe+1],ae=le,re=ue),Ue!==CMD$4.L&&Ie>0&&(n.lineTo(Ne,ze),Ie=0),Ue){case CMD$4.M:ae=le=$[Fe++],re=ue=$[Fe++],n.moveTo(le,ue);break;case CMD$4.L:{de=$[Fe++],he=$[Fe++];var Et=mathAbs$2(de-le),Pt=mathAbs$2(he-ue);if(Et>L||Pt>V){if(pe){var kt=_e[Oe++];if(xe+kt>Ce){var Dt=(Ce-xe)/kt;n.lineTo(le*(1-Dt)+de*Dt,ue*(1-Dt)+he*Dt);break e}xe+=kt}n.lineTo(de,he),le=de,ue=he,Ie=0}else{var Lt=Et*Et+Pt*Pt;Lt>Ie&&(Ne=de,ze=he,Ie=Lt)}break}case CMD$4.C:{var hn=$[Fe++],vn=$[Fe++],_n=$[Fe++],$n=$[Fe++],Sn=$[Fe++],xn=$[Fe++];if(pe){var kt=_e[Oe++];if(xe+kt>Ce){var Dt=(Ce-xe)/kt;cubicSubdivide(le,hn,_n,Sn,Dt,tmpOutX),cubicSubdivide(ue,vn,$n,xn,Dt,tmpOutY),n.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}xe+=kt}n.bezierCurveTo(hn,vn,_n,$n,Sn,xn),le=Sn,ue=xn;break}case CMD$4.Q:{var hn=$[Fe++],vn=$[Fe++],_n=$[Fe++],$n=$[Fe++];if(pe){var kt=_e[Oe++];if(xe+kt>Ce){var Dt=(Ce-xe)/kt;quadraticSubdivide(le,hn,_n,Dt,tmpOutX),quadraticSubdivide(ue,vn,$n,Dt,tmpOutY),n.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}xe+=kt}n.quadraticCurveTo(hn,vn,_n,$n),le=_n,ue=$n;break}case CMD$4.A:var On=$[Fe++],Cn=$[Fe++],An=$[Fe++],Rn=$[Fe++],Fn=$[Fe++],Pn=$[Fe++],Un=$[Fe++],Dn=!$[Fe++],kn=An>Rn?An:Rn,Nn=mathAbs$2(An-Rn)>.001,Vn=Fn+Pn,Ln=!1;if(pe){var kt=_e[Oe++];xe+kt>Ce&&(Vn=Fn+Pn*(Ce-xe)/kt,Ln=!0),xe+=kt}if(Nn&&n.ellipse?n.ellipse(On,Cn,An,Rn,Un,Fn,Vn,Dn):n.arc(On,Cn,kn,Fn,Vn,Dn),Ln)break e;At&&(ae=mathCos$3(Fn)*An+On,re=mathSin$3(Fn)*Rn+Cn),le=mathCos$3(Vn)*An+On,ue=mathSin$3(Vn)*Rn+Cn;break;case CMD$4.R:ae=le=$[Fe],re=ue=$[Fe+1],de=$[Fe++],he=$[Fe++];var Tn=$[Fe++],In=$[Fe++];if(pe){var kt=_e[Oe++];if(xe+kt>Ce){var Bn=Ce-xe;n.moveTo(de,he),n.lineTo(de+mathMin$8(Bn,Tn),he),Bn-=Tn,Bn>0&&n.lineTo(de+Tn,he+mathMin$8(Bn,In)),Bn-=In,Bn>0&&n.lineTo(de+mathMax$8(Tn-Bn,0),he+In),Bn-=Tn,Bn>0&&n.lineTo(de,he+mathMax$8(In-Bn,0));break e}xe+=kt}n.rect(de,he,Tn,In);break;case CMD$4.Z:if(pe){var kt=_e[Oe++];if(xe+kt>Ce){var Dt=(Ce-xe)/kt;n.lineTo(le*(1-Dt)+ae*Dt,ue*(1-Dt)+re*Dt);break e}xe+=kt}n.closePath(),le=ae,ue=re}}},g.prototype.clone=function(){var n=new g,r=this.data;return n.data=r.slice?r.slice():Array.prototype.slice.call(r),n._len=this._len,n},g.CMD=CMD$4,g.initDefaultProps=function(){var n=g.prototype;n._saveData=!0,n._ux=0,n._uy=0,n._pendingPtDist=0,n._version=0}(),g}();const PathProxy$1=PathProxy;function containStroke$4(g,n,r,$,L,V,oe){if(L===0)return!1;var ae=L,re=0,le=g;if(oe>n+ae&&oe>$+ae||oe<n-ae&&oe<$-ae||V>g+ae&&V>r+ae||V<g-ae&&V<r-ae)return!1;if(g!==r)re=(n-$)/(g-r),le=(g*$-r*n)/(g-r);else return Math.abs(V-g)<=ae/2;var ue=re*V-oe+le,de=ue*ue/(re*re+1);return de<=ae/2*ae/2}function containStroke$3(g,n,r,$,L,V,oe,ae,re,le,ue){if(re===0)return!1;var de=re;if(ue>n+de&&ue>$+de&&ue>V+de&&ue>ae+de||ue<n-de&&ue<$-de&&ue<V-de&&ue<ae-de||le>g+de&&le>r+de&&le>L+de&&le>oe+de||le<g-de&&le<r-de&&le<L-de&&le<oe-de)return!1;var he=cubicProjectPoint(g,n,r,$,L,V,oe,ae,le,ue,null);return he<=de/2}function containStroke$2(g,n,r,$,L,V,oe,ae,re){if(oe===0)return!1;var le=oe;if(re>n+le&&re>$+le&&re>V+le||re<n-le&&re<$-le&&re<V-le||ae>g+le&&ae>r+le&&ae>L+le||ae<g-le&&ae<r-le&&ae<L-le)return!1;var ue=quadraticProjectPoint(g,n,r,$,L,V,ae,re,null);return ue<=le/2}var PI2$6=Math.PI*2;function normalizeRadian(g){return g%=PI2$6,g<0&&(g+=PI2$6),g}var PI2$5=Math.PI*2;function containStroke$1(g,n,r,$,L,V,oe,ae,re){if(oe===0)return!1;var le=oe;ae-=g,re-=n;var ue=Math.sqrt(ae*ae+re*re);if(ue-le>r||ue+le<r)return!1;if(Math.abs($-L)%PI2$5<1e-4)return!0;if(V){var de=$;$=normalizeRadian(L),L=normalizeRadian(de)}else $=normalizeRadian($),L=normalizeRadian(L);$>L&&(L+=PI2$5);var he=Math.atan2(re,ae);return he<0&&(he+=PI2$5),he>=$&&he<=L||he+PI2$5>=$&&he+PI2$5<=L}function windingLine(g,n,r,$,L,V){if(V>n&&V>$||V<n&&V<$||$===n)return 0;var oe=(V-n)/($-n),ae=$<n?1:-1;(oe===1||oe===0)&&(ae=$<n?.5:-.5);var re=oe*(r-g)+g;return re===L?1/0:re>L?ae:0}var CMD$3=PathProxy$1.CMD,PI2$4=Math.PI*2,EPSILON$1=1e-4;function isAroundEqual$1(g,n){return Math.abs(g-n)<EPSILON$1}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var g=extrema[0];extrema[0]=extrema[1],extrema[1]=g}function windingCubic(g,n,r,$,L,V,oe,ae,re,le){if(le>n&&le>$&&le>V&&le>ae||le<n&&le<$&&le<V&&le<ae)return 0;var ue=cubicRootAt(n,$,V,ae,le,roots);if(ue===0)return 0;for(var de=0,he=-1,pe=void 0,_e=void 0,$e=0;$e<ue;$e++){var xe=roots[$e],Oe=xe===0||xe===1?.5:1,Ce=cubicAt(g,r,L,oe,xe);Ce<re||(he<0&&(he=cubicExtrema(n,$,V,ae,extrema),extrema[1]<extrema[0]&&he>1&&swapExtrema(),pe=cubicAt(n,$,V,ae,extrema[0]),he>1&&(_e=cubicAt(n,$,V,ae,extrema[1]))),he===2?xe<extrema[0]?de+=pe<n?Oe:-Oe:xe<extrema[1]?de+=_e<pe?Oe:-Oe:de+=ae<_e?Oe:-Oe:xe<extrema[0]?de+=pe<n?Oe:-Oe:de+=ae<pe?Oe:-Oe)}return de}function windingQuadratic(g,n,r,$,L,V,oe,ae){if(ae>n&&ae>$&&ae>V||ae<n&&ae<$&&ae<V)return 0;var re=quadraticRootAt(n,$,V,ae,roots);if(re===0)return 0;var le=quadraticExtremum(n,$,V);if(le>=0&&le<=1){for(var ue=0,de=quadraticAt$1(n,$,V,le),he=0;he<re;he++){var pe=roots[he]===0||roots[he]===1?.5:1,_e=quadraticAt$1(g,r,L,roots[he]);_e<oe||(roots[he]<le?ue+=de<n?pe:-pe:ue+=V<de?pe:-pe)}return ue}else{var pe=roots[0]===0||roots[0]===1?.5:1,_e=quadraticAt$1(g,r,L,roots[0]);return _e<oe?0:V<n?pe:-pe}}function windingArc(g,n,r,$,L,V,oe,ae){if(ae-=n,ae>r||ae<-r)return 0;var re=Math.sqrt(r*r-ae*ae);roots[0]=-re,roots[1]=re;var le=Math.abs($-L);if(le<1e-4)return 0;if(le>=PI2$4-1e-4){$=0,L=PI2$4;var ue=V?1:-1;return oe>=roots[0]+g&&oe<=roots[1]+g?ue:0}if($>L){var de=$;$=L,L=de}$<0&&($+=PI2$4,L+=PI2$4);for(var he=0,pe=0;pe<2;pe++){var _e=roots[pe];if(_e+g>oe){var $e=Math.atan2(ae,_e),ue=V?1:-1;$e<0&&($e=PI2$4+$e),($e>=$&&$e<=L||$e+PI2$4>=$&&$e+PI2$4<=L)&&($e>Math.PI/2&&$e<Math.PI*1.5&&(ue=-ue),he+=ue)}}return he}function containPath(g,n,r,$,L){for(var V=g.data,oe=g.len(),ae=0,re=0,le=0,ue=0,de=0,he,pe,_e=0;_e<oe;){var $e=V[_e++],xe=_e===1;switch($e===CMD$3.M&&_e>1&&(r||(ae+=windingLine(re,le,ue,de,$,L))),xe&&(re=V[_e],le=V[_e+1],ue=re,de=le),$e){case CMD$3.M:ue=V[_e++],de=V[_e++],re=ue,le=de;break;case CMD$3.L:if(r){if(containStroke$4(re,le,V[_e],V[_e+1],n,$,L))return!0}else ae+=windingLine(re,le,V[_e],V[_e+1],$,L)||0;re=V[_e++],le=V[_e++];break;case CMD$3.C:if(r){if(containStroke$3(re,le,V[_e++],V[_e++],V[_e++],V[_e++],V[_e],V[_e+1],n,$,L))return!0}else ae+=windingCubic(re,le,V[_e++],V[_e++],V[_e++],V[_e++],V[_e],V[_e+1],$,L)||0;re=V[_e++],le=V[_e++];break;case CMD$3.Q:if(r){if(containStroke$2(re,le,V[_e++],V[_e++],V[_e],V[_e+1],n,$,L))return!0}else ae+=windingQuadratic(re,le,V[_e++],V[_e++],V[_e],V[_e+1],$,L)||0;re=V[_e++],le=V[_e++];break;case CMD$3.A:var Oe=V[_e++],Ce=V[_e++],Ie=V[_e++],Ne=V[_e++],ze=V[_e++],Fe=V[_e++];_e+=1;var Ue=!!(1-V[_e++]);he=Math.cos(ze)*Ie+Oe,pe=Math.sin(ze)*Ne+Ce,xe?(ue=he,de=pe):ae+=windingLine(re,le,he,pe,$,L);var At=($-Oe)*Ne/Ie+Oe;if(r){if(containStroke$1(Oe,Ce,Ne,ze,ze+Fe,Ue,n,At,L))return!0}else ae+=windingArc(Oe,Ce,Ne,ze,ze+Fe,Ue,At,L);re=Math.cos(ze+Fe)*Ie+Oe,le=Math.sin(ze+Fe)*Ne+Ce;break;case CMD$3.R:ue=re=V[_e++],de=le=V[_e++];var Et=V[_e++],Pt=V[_e++];if(he=ue+Et,pe=de+Pt,r){if(containStroke$4(ue,de,he,de,n,$,L)||containStroke$4(he,de,he,pe,n,$,L)||containStroke$4(he,pe,ue,pe,n,$,L)||containStroke$4(ue,pe,ue,de,n,$,L))return!0}else ae+=windingLine(he,de,he,pe,$,L),ae+=windingLine(ue,pe,ue,de,$,L);break;case CMD$3.Z:if(r){if(containStroke$4(re,le,ue,de,n,$,L))return!0}else ae+=windingLine(re,le,ue,de,$,L);re=ue,le=de;break}}return!r&&!isAroundEqual$1(le,de)&&(ae+=windingLine(re,le,ue,de,$,L)||0),ae!==0}function contain$2(g,n,r){return containPath(g,0,!1,n,r)}function containStroke(g,n,r,$){return containPath(g,n,!0,r,$)}var DEFAULT_PATH_STYLE=defaults$2({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults$2({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.update=function(){var r=this;g.prototype.update.call(this);var $=this.style;if($.decal){var L=this._decalEl=this._decalEl||new n;L.buildPath===n.prototype.buildPath&&(L.buildPath=function(re){r.buildPath(re,r.shape)}),L.silent=!0;var V=L.style;for(var oe in $)V[oe]!==$[oe]&&(V[oe]=$[oe]);V.fill=$.fill?$.decal:null,V.decal=null,V.shadowColor=null,$.strokeFirst&&(V.stroke=null);for(var ae=0;ae<pathCopyParams.length;++ae)L[pathCopyParams[ae]]=this[pathCopyParams[ae]];L.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},n.prototype.getDecalElement=function(){return this._decalEl},n.prototype._init=function(r){var $=keys(r);this.shape=this.getDefaultShape();var L=this.getDefaultStyle();L&&this.useStyle(L);for(var V=0;V<$.length;V++){var oe=$[V],ae=r[oe];oe==="style"?this.style?extend$1(this.style,ae):this.useStyle(ae):oe==="shape"?extend$1(this.shape,ae):g.prototype.attrKV.call(this,oe,ae)}this.style||this.useStyle({})},n.prototype.getDefaultStyle=function(){return null},n.prototype.getDefaultShape=function(){return{}},n.prototype.canBeInsideText=function(){return this.hasFill()},n.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(isString$1(r)){var $=lum(r,0);return $>.5?DARK_LABEL_COLOR:$>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(r)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},n.prototype.getInsideTextStroke=function(r){var $=this.style.fill;if(isString$1($)){var L=this.__zr,V=!!(L&&L.isDarkMode()),oe=lum(r,0)<DARK_MODE_THRESHOLD;if(V===oe)return $}},n.prototype.buildPath=function(r,$,L){},n.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},n.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},n.prototype.createPathProxy=function(){this.path=new PathProxy$1(!1)},n.prototype.hasStroke=function(){var r=this.style,$=r.stroke;return!($==null||$==="none"||!(r.lineWidth>0))},n.prototype.hasFill=function(){var r=this.style,$=r.fill;return $!=null&&$!=="none"},n.prototype.getBoundingRect=function(){var r=this._rect,$=this.style,L=!r;if(L){var V=!1;this.path||(V=!0,this.createPathProxy());var oe=this.path;(V||this.__dirty&SHAPE_CHANGED_BIT)&&(oe.beginPath(),this.buildPath(oe,this.shape,!1),this.pathUpdated()),r=oe.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var ae=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||L){ae.copy(r);var re=$.strokeNoScale?this.getLineScale():1,le=$.lineWidth;if(!this.hasFill()){var ue=this.strokeContainThreshold;le=Math.max(le,ue!=null?ue:4)}re>1e-10&&(ae.width+=le/re,ae.height+=le/re,ae.x-=le/re/2,ae.y-=le/re/2)}return ae}return r},n.prototype.contain=function(r,$){var L=this.transformCoordToLocal(r,$),V=this.getBoundingRect(),oe=this.style;if(r=L[0],$=L[1],V.contain(r,$)){var ae=this.path;if(this.hasStroke()){var re=oe.lineWidth,le=oe.strokeNoScale?this.getLineScale():1;if(le>1e-10&&(this.hasFill()||(re=Math.max(re,this.strokeContainThreshold)),containStroke(ae,re/le,r,$)))return!0}if(this.hasFill())return contain$2(ae,r,$)}return!1},n.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},n.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},n.prototype.animateShape=function(r){return this.animate("shape",r)},n.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},n.prototype.attrKV=function(r,$){r==="shape"?this.setShape($):g.prototype.attrKV.call(this,r,$)},n.prototype.setShape=function(r,$){var L=this.shape;return L||(L=this.shape={}),typeof r=="string"?L[r]=$:extend$1(L,r),this.dirtyShape(),this},n.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},n.prototype.createStyle=function(r){return createObject(DEFAULT_PATH_STYLE,r)},n.prototype._innerSaveToNormal=function(r){g.prototype._innerSaveToNormal.call(this,r);var $=this._normalState;r.shape&&!$.shape&&($.shape=extend$1({},this.shape))},n.prototype._applyStateObj=function(r,$,L,V,oe,ae){g.prototype._applyStateObj.call(this,r,$,L,V,oe,ae);var re=!($&&V),le;if($&&$.shape?oe?V?le=$.shape:(le=extend$1({},L.shape),extend$1(le,$.shape)):(le=extend$1({},V?this.shape:L.shape),extend$1(le,$.shape)):re&&(le=L.shape),le)if(oe){this.shape=extend$1({},this.shape);for(var ue={},de=keys(le),he=0;he<de.length;he++){var pe=de[he];typeof le[pe]=="object"?this.shape[pe]=le[pe]:ue[pe]=le[pe]}this._transitionState(r,{shape:ue},ae)}else this.shape=le,this.dirtyShape()},n.prototype._mergeStates=function(r){for(var $=g.prototype._mergeStates.call(this,r),L,V=0;V<r.length;V++){var oe=r[V];oe.shape&&(L=L||{},this._mergeStyle(L,oe.shape))}return L&&($.shape=L),$},n.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},n.prototype.isZeroArea=function(){return!1},n.extend=function(r){var $=function(V){__extends(oe,V);function oe(ae){var re=V.call(this,ae)||this;return r.init&&r.init.call(re,ae),re}return oe.prototype.getDefaultStyle=function(){return clone$4(r.style)},oe.prototype.getDefaultShape=function(){return clone$4(r.shape)},oe}(n);for(var L in r)typeof r[L]=="function"&&($.prototype[L]=r[L]);return $},n.initDefaultProps=function(){var r=n.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),n}(Displayable$1);const Path$1=Path;var DEFAULT_TSPAN_STYLE=defaults$2({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.hasStroke=function(){var r=this.style,$=r.stroke;return $!=null&&$!=="none"&&r.lineWidth>0},n.prototype.hasFill=function(){var r=this.style,$=r.fill;return $!=null&&$!=="none"},n.prototype.createStyle=function(r){return createObject(DEFAULT_TSPAN_STYLE,r)},n.prototype.setBoundingRect=function(r){this._rect=r},n.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var $=r.text;$!=null?$+="":$="";var L=getBoundingRect($,r.font,r.textAlign,r.textBaseline);if(L.x+=r.x||0,L.y+=r.y||0,this.hasStroke()){var V=r.lineWidth;L.x-=V/2,L.y-=V/2,L.width+=V,L.height+=V}this._rect=L}return this._rect},n.initDefaultProps=function(){var r=n.prototype;r.dirtyRectTolerance=10}(),n}(Displayable$1);TSpan.prototype.type="tspan";const TSpan$1=TSpan;var DEFAULT_IMAGE_STYLE=defaults$2({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults$2({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(g){return!!(g&&typeof g!="string"&&g.width&&g.height)}var ZRImage=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.createStyle=function(r){return createObject(DEFAULT_IMAGE_STYLE,r)},n.prototype._getSize=function(r){var $=this.style,L=$[r];if(L!=null)return L;var V=isImageLike$1($.image)?$.image:this.__image;if(!V)return 0;var oe=r==="width"?"height":"width",ae=$[oe];return ae==null?V[r]:V[r]/V[oe]*ae},n.prototype.getWidth=function(){return this._getSize("width")},n.prototype.getHeight=function(){return this._getSize("height")},n.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},n.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new BoundingRect$1(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},n}(Displayable$1);ZRImage.prototype.type="image";const ZRImage$1=ZRImage;function buildPath$2(g,n){var r=n.x,$=n.y,L=n.width,V=n.height,oe=n.r,ae,re,le,ue;L<0&&(r=r+L,L=-L),V<0&&($=$+V,V=-V),typeof oe=="number"?ae=re=le=ue=oe:oe instanceof Array?oe.length===1?ae=re=le=ue=oe[0]:oe.length===2?(ae=le=oe[0],re=ue=oe[1]):oe.length===3?(ae=oe[0],re=ue=oe[1],le=oe[2]):(ae=oe[0],re=oe[1],le=oe[2],ue=oe[3]):ae=re=le=ue=0;var de;ae+re>L&&(de=ae+re,ae*=L/de,re*=L/de),le+ue>L&&(de=le+ue,le*=L/de,ue*=L/de),re+le>V&&(de=re+le,re*=V/de,le*=V/de),ae+ue>V&&(de=ae+ue,ae*=V/de,ue*=V/de),g.moveTo(r+ae,$),g.lineTo(r+L-re,$),re!==0&&g.arc(r+L-re,$+re,re,-Math.PI/2,0),g.lineTo(r+L,$+V-le),le!==0&&g.arc(r+L-le,$+V-le,le,0,Math.PI/2),g.lineTo(r+ue,$+V),ue!==0&&g.arc(r+ue,$+V-ue,ue,Math.PI/2,Math.PI),g.lineTo(r,$+ae),ae!==0&&g.arc(r+ae,$+ae,ae,Math.PI,Math.PI*1.5)}var round$2=Math.round;function subPixelOptimizeLine$1(g,n,r){if(n){var $=n.x1,L=n.x2,V=n.y1,oe=n.y2;g.x1=$,g.x2=L,g.y1=V,g.y2=oe;var ae=r&&r.lineWidth;return ae&&(round$2($*2)===round$2(L*2)&&(g.x1=g.x2=subPixelOptimize$1($,ae,!0)),round$2(V*2)===round$2(oe*2)&&(g.y1=g.y2=subPixelOptimize$1(V,ae,!0))),g}}function subPixelOptimizeRect$1(g,n,r){if(n){var $=n.x,L=n.y,V=n.width,oe=n.height;g.x=$,g.y=L,g.width=V,g.height=oe;var ae=r&&r.lineWidth;return ae&&(g.x=subPixelOptimize$1($,ae,!0),g.y=subPixelOptimize$1(L,ae,!0),g.width=Math.max(subPixelOptimize$1($+V,ae,!1)-g.x,V===0?0:1),g.height=Math.max(subPixelOptimize$1(L+oe,ae,!1)-g.y,oe===0?0:1)),g}}function subPixelOptimize$1(g,n,r){if(!n)return g;var $=round$2(g*2);return($+round$2(n))%2===0?$/2:($+(r?1:-1))/2}var RectShape=function(){function g(){this.x=0,this.y=0,this.width=0,this.height=0}return g}(),subPixelOptimizeOutputShape$1={},Rect$2=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new RectShape},n.prototype.buildPath=function(r,$){var L,V,oe,ae;if(this.subPixelOptimize){var re=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,$,this.style);L=re.x,V=re.y,oe=re.width,ae=re.height,re.r=$.r,$=re}else L=$.x,V=$.y,oe=$.width,ae=$.height;$.r?buildPath$2(r,$):r.rect(L,V,oe,ae)},n.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},n}(Path$1);Rect$2.prototype.type="rect";const Rect$3=Rect$2;var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults$2({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(g){__extends(n,g);function n(r){var $=g.call(this)||this;return $.type="text",$._children=[],$._defaultStyle=DEFAULT_RICH_TEXT_COLOR,$.attr(r),$}return n.prototype.childrenRef=function(){return this._children},n.prototype.update=function(){g.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var $=this._children[r];$.zlevel=this.zlevel,$.z=this.z,$.z2=this.z2,$.culling=this.culling,$.cursor=this.cursor,$.invisible=this.invisible}},n.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):g.prototype.updateTransform.call(this)},n.prototype.getLocalTransform=function(r){var $=this.innerTransformable;return $?$.getLocalTransform(r):g.prototype.getLocalTransform.call(this,r)},n.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),g.prototype.getComputedTransform.call(this)},n.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},n.prototype.addSelfToZr=function(r){g.prototype.addSelfToZr.call(this,r);for(var $=0;$<this._children.length;$++)this._children[$].__zr=r},n.prototype.removeSelfFromZr=function(r){g.prototype.removeSelfFromZr.call(this,r);for(var $=0;$<this._children.length;$++)this._children[$].__zr=null},n.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new BoundingRect$1(0,0,0,0),$=this._children,L=[],V=null,oe=0;oe<$.length;oe++){var ae=$[oe],re=ae.getBoundingRect(),le=ae.getLocalTransform(L);le?(r.copy(re),r.applyTransform(le),V=V||r.clone(),V.union(r)):(V=V||re.clone(),V.union(re))}this._rect=V||r}return this._rect},n.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||DEFAULT_RICH_TEXT_COLOR},n.prototype.setTextContent=function(r){},n.prototype._mergeStyle=function(r,$){if(!$)return r;var L=$.rich,V=r.rich||L&&{};return extend$1(r,$),L&&V?(this._mergeRich(V,L),r.rich=V):V&&(r.rich=V),r},n.prototype._mergeRich=function(r,$){for(var L=keys($),V=0;V<L.length;V++){var oe=L[V];r[oe]=r[oe]||{},extend$1(r[oe],$[oe])}},n.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},n.prototype._getOrCreateChild=function(r){var $=this._children[this._childCursor];return(!$||!($ instanceof r))&&($=new r),this._children[this._childCursor++]=$,$.__zr=this.__zr,$.parent=this,$},n.prototype._updatePlainTexts=function(){var r=this.style,$=r.font||DEFAULT_FONT,L=r.padding,V=getStyleText(r),oe=parsePlainText(V,r),ae=needDrawBackground(r),re=!!r.backgroundColor,le=oe.outerHeight,ue=oe.outerWidth,de=oe.contentWidth,he=oe.lines,pe=oe.lineHeight,_e=this._defaultStyle,$e=r.x||0,xe=r.y||0,Oe=r.align||_e.align||"left",Ce=r.verticalAlign||_e.verticalAlign||"top",Ie=$e,Ne=adjustTextY(xe,oe.contentHeight,Ce);if(ae||L){var ze=adjustTextX($e,ue,Oe),Fe=adjustTextY(xe,le,Ce);ae&&this._renderBackground(r,r,ze,Fe,ue,le)}Ne+=pe/2,L&&(Ie=getTextXForPadding($e,Oe,L),Ce==="top"?Ne+=L[0]:Ce==="bottom"&&(Ne-=L[2]));for(var Ue=0,At=!1,Et=getFill("fill"in r?r.fill:(At=!0,_e.fill)),Pt=getStroke("stroke"in r?r.stroke:!re&&(!_e.autoStroke||At)?(Ue=DEFAULT_STROKE_LINE_WIDTH,_e.stroke):null),kt=r.textShadowBlur>0,Dt=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),Lt=oe.calculatedLineHeight,hn=0;hn<he.length;hn++){var vn=this._getOrCreateChild(TSpan$1),_n=vn.createStyle();vn.useStyle(_n),_n.text=he[hn],_n.x=Ie,_n.y=Ne,Oe&&(_n.textAlign=Oe),_n.textBaseline="middle",_n.opacity=r.opacity,_n.strokeFirst=!0,kt&&(_n.shadowBlur=r.textShadowBlur||0,_n.shadowColor=r.textShadowColor||"transparent",_n.shadowOffsetX=r.textShadowOffsetX||0,_n.shadowOffsetY=r.textShadowOffsetY||0),_n.stroke=Pt,_n.fill=Et,Pt&&(_n.lineWidth=r.lineWidth||Ue,_n.lineDash=r.lineDash,_n.lineDashOffset=r.lineDashOffset||0),_n.font=$,setSeparateFont(_n,r),Ne+=pe,Dt&&vn.setBoundingRect(new BoundingRect$1(adjustTextX(_n.x,r.width,_n.textAlign),adjustTextY(_n.y,Lt,_n.textBaseline),de,Lt))}},n.prototype._updateRichTexts=function(){var r=this.style,$=getStyleText(r),L=parseRichText($,r),V=L.width,oe=L.outerWidth,ae=L.outerHeight,re=r.padding,le=r.x||0,ue=r.y||0,de=this._defaultStyle,he=r.align||de.align,pe=r.verticalAlign||de.verticalAlign,_e=adjustTextX(le,oe,he),$e=adjustTextY(ue,ae,pe),xe=_e,Oe=$e;re&&(xe+=re[3],Oe+=re[0]);var Ce=xe+V;needDrawBackground(r)&&this._renderBackground(r,r,_e,$e,oe,ae);for(var Ie=!!r.backgroundColor,Ne=0;Ne<L.lines.length;Ne++){for(var ze=L.lines[Ne],Fe=ze.tokens,Ue=Fe.length,At=ze.lineHeight,Et=ze.width,Pt=0,kt=xe,Dt=Ce,Lt=Ue-1,hn=void 0;Pt<Ue&&(hn=Fe[Pt],!hn.align||hn.align==="left");)this._placeToken(hn,r,At,Oe,kt,"left",Ie),Et-=hn.width,kt+=hn.width,Pt++;for(;Lt>=0&&(hn=Fe[Lt],hn.align==="right");)this._placeToken(hn,r,At,Oe,Dt,"right",Ie),Et-=hn.width,Dt-=hn.width,Lt--;for(kt+=(V-(kt-xe)-(Ce-Dt)-Et)/2;Pt<=Lt;)hn=Fe[Pt],this._placeToken(hn,r,At,Oe,kt+hn.width/2,"center",Ie),kt+=hn.width,Pt++;Oe+=At}},n.prototype._placeToken=function(r,$,L,V,oe,ae,re){var le=$.rich[r.styleName]||{};le.text=r.text;var ue=r.verticalAlign,de=V+L/2;ue==="top"?de=V+r.height/2:ue==="bottom"&&(de=V+L-r.height/2);var he=!r.isLineHolder&&needDrawBackground(le);he&&this._renderBackground(le,$,ae==="right"?oe-r.width:ae==="center"?oe-r.width/2:oe,de-r.height/2,r.width,r.height);var pe=!!le.backgroundColor,_e=r.textPadding;_e&&(oe=getTextXForPadding(oe,ae,_e),de-=r.height/2-_e[0]-r.innerHeight/2);var $e=this._getOrCreateChild(TSpan$1),xe=$e.createStyle();$e.useStyle(xe);var Oe=this._defaultStyle,Ce=!1,Ie=0,Ne=getFill("fill"in le?le.fill:"fill"in $?$.fill:(Ce=!0,Oe.fill)),ze=getStroke("stroke"in le?le.stroke:"stroke"in $?$.stroke:!pe&&!re&&(!Oe.autoStroke||Ce)?(Ie=DEFAULT_STROKE_LINE_WIDTH,Oe.stroke):null),Fe=le.textShadowBlur>0||$.textShadowBlur>0;xe.text=r.text,xe.x=oe,xe.y=de,Fe&&(xe.shadowBlur=le.textShadowBlur||$.textShadowBlur||0,xe.shadowColor=le.textShadowColor||$.textShadowColor||"transparent",xe.shadowOffsetX=le.textShadowOffsetX||$.textShadowOffsetX||0,xe.shadowOffsetY=le.textShadowOffsetY||$.textShadowOffsetY||0),xe.textAlign=ae,xe.textBaseline="middle",xe.font=r.font||DEFAULT_FONT,xe.opacity=retrieve3(le.opacity,$.opacity,1),setSeparateFont(xe,le),ze&&(xe.lineWidth=retrieve3(le.lineWidth,$.lineWidth,Ie),xe.lineDash=retrieve2(le.lineDash,$.lineDash),xe.lineDashOffset=$.lineDashOffset||0,xe.stroke=ze),Ne&&(xe.fill=Ne);var Ue=r.contentWidth,At=r.contentHeight;$e.setBoundingRect(new BoundingRect$1(adjustTextX(xe.x,Ue,xe.textAlign),adjustTextY(xe.y,At,xe.textBaseline),Ue,At))},n.prototype._renderBackground=function(r,$,L,V,oe,ae){var re=r.backgroundColor,le=r.borderWidth,ue=r.borderColor,de=re&&re.image,he=re&&!de,pe=r.borderRadius,_e=this,$e,xe;if(he||r.lineHeight||le&&ue){$e=this._getOrCreateChild(Rect$3),$e.useStyle($e.createStyle()),$e.style.fill=null;var Oe=$e.shape;Oe.x=L,Oe.y=V,Oe.width=oe,Oe.height=ae,Oe.r=pe,$e.dirtyShape()}if(he){var Ce=$e.style;Ce.fill=re||null,Ce.fillOpacity=retrieve2(r.fillOpacity,1)}else if(de){xe=this._getOrCreateChild(ZRImage$1),xe.onload=function(){_e.dirtyStyle()};var Ie=xe.style;Ie.image=re.image,Ie.x=L,Ie.y=V,Ie.width=oe,Ie.height=ae}if(le&&ue){var Ce=$e.style;Ce.lineWidth=le,Ce.stroke=ue,Ce.strokeOpacity=retrieve2(r.strokeOpacity,1),Ce.lineDash=r.borderDash,Ce.lineDashOffset=r.borderDashOffset||0,$e.strokeContainThreshold=0,$e.hasFill()&&$e.hasStroke()&&(Ce.strokeFirst=!0,Ce.lineWidth*=2)}var Ne=($e||xe).style;Ne.shadowBlur=r.shadowBlur||0,Ne.shadowColor=r.shadowColor||"transparent",Ne.shadowOffsetX=r.shadowOffsetX||0,Ne.shadowOffsetY=r.shadowOffsetY||0,Ne.opacity=retrieve3(r.opacity,$.opacity,1)},n.makeFont=function(r){var $="";return hasSeparateFont(r)&&($=[r.fontStyle,r.fontWeight,parseFontSize(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),$&&trim$2($)||r.textFont||r.font},n}(Displayable$1),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(g){return typeof g=="string"&&(g.indexOf("px")!==-1||g.indexOf("rem")!==-1||g.indexOf("em")!==-1)?g:isNaN(+g)?DEFAULT_FONT_SIZE+"px":g+"px"}function setSeparateFont(g,n){for(var r=0;r<FONT_PARTS.length;r++){var $=FONT_PARTS[r],L=n[$];L!=null&&(g[$]=L)}}function hasSeparateFont(g){return g.fontSize!=null||g.fontFamily||g.fontWeight}function normalizeTextStyle(g){return normalizeStyle(g),each$f(g.rich,normalizeStyle),g}function normalizeStyle(g){if(g){g.font=ZRText.makeFont(g);var n=g.align;n==="middle"&&(n="center"),g.align=n==null||VALID_TEXT_ALIGN[n]?n:"left";var r=g.verticalAlign;r==="center"&&(r="middle"),g.verticalAlign=r==null||VALID_TEXT_VERTICAL_ALIGN[r]?r:"top";var $=g.padding;$&&(g.padding=normalizeCssArray$1(g.padding))}}function getStroke(g,n){return g==null||n<=0||g==="transparent"||g==="none"?null:g.image||g.colorStops?"#000":g}function getFill(g){return g==null||g==="none"?null:g.image||g.colorStops?"#000":g}function getTextXForPadding(g,n,r){return n==="right"?g-r[1]:n==="center"?g+r[3]/2-r[1]/2:g+r[3]}function getStyleText(g){var n=g.text;return n!=null&&(n+=""),n}function needDrawBackground(g){return!!(g.backgroundColor||g.lineHeight||g.borderWidth&&g.borderColor)}const ZRText$1=ZRText;var getECData=makeInner(),setCommonECData=function(g,n,r,$){if($){var L=getECData($);L.dataIndex=r,L.dataType=n,L.seriesIndex=g,$.type==="group"&&$.traverse(function(V){var oe=getECData(V);oe.seriesIndex=g,oe.dataIndex=r,oe.dataType=n})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(g){return g!=null&&g!=="none"}var liftedColorCache=new LRU$1(100);function liftColor(g){if(isString$1(g)){var n=liftedColorCache.get(g);return n||(n=lift(g,-.1),liftedColorCache.put(g,n)),n}else if(isGradientObject(g)){var r=extend$1({},g);return r.colorStops=map$1(g.colorStops,function($){return{offset:$.offset,color:lift($.color,-.1)}}),r}return g}function doChangeHoverState(g,n,r){g.onHoverStateChange&&(g.hoverState||0)!==r&&g.onHoverStateChange(n),g.hoverState=r}function singleEnterEmphasis(g){doChangeHoverState(g,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(g){g.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(g,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(g){doChangeHoverState(g,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(g){g.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(g,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(g){g.selected=!0}function singleLeaveSelect(g){g.selected=!1}function updateElementState(g,n,r){n(g,r)}function traverseUpdateState(g,n,r){updateElementState(g,n,r),g.isGroup&&g.traverse(function($){updateElementState($,n,r)})}function setStatesFlag(g,n){switch(n){case"emphasis":g.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":g.hoverState=HOVER_STATE_NORMAL;break;case"blur":g.hoverState=HOVER_STATE_BLUR;break;case"select":g.selected=!0}}function getFromStateStyle(g,n,r,$){for(var L=g.style,V={},oe=0;oe<n.length;oe++){var ae=n[oe],re=L[ae];V[ae]=re!=null?re:$&&$[ae]}for(var oe=0;oe<g.animators.length;oe++){var le=g.animators[oe];le.__fromStateTransition&&le.__fromStateTransition.indexOf(r)<0&&le.targetName==="style"&&le.saveTo(V,n)}return V}function createEmphasisDefaultState(g,n,r,$){var L=r&&indexOf(r,"select")>=0,V=!1;if(g instanceof Path$1){var oe=getSavedStates(g),ae=L&&oe.selectFill||oe.normalFill,re=L&&oe.selectStroke||oe.normalStroke;if(hasFillOrStroke(ae)||hasFillOrStroke(re)){$=$||{};var le=$.style||{};le.fill==="inherit"?(V=!0,$=extend$1({},$),le=extend$1({},le),le.fill=ae):!hasFillOrStroke(le.fill)&&hasFillOrStroke(ae)?(V=!0,$=extend$1({},$),le=extend$1({},le),le.fill=liftColor(ae)):!hasFillOrStroke(le.stroke)&&hasFillOrStroke(re)&&(V||($=extend$1({},$),le=extend$1({},le)),le.stroke=liftColor(re)),$.style=le}}if($&&$.z2==null){V||($=extend$1({},$));var ue=g.z2EmphasisLift;$.z2=g.z2+(ue!=null?ue:Z2_EMPHASIS_LIFT)}return $}function createSelectDefaultState(g,n,r){if(r&&r.z2==null){r=extend$1({},r);var $=g.z2SelectLift;r.z2=g.z2+($!=null?$:Z2_SELECT_LIFT)}return r}function createBlurDefaultState(g,n,r){var $=indexOf(g.currentStates,n)>=0,L=g.style.opacity,V=$?null:getFromStateStyle(g,["opacity"],n,{opacity:1});r=r||{};var oe=r.style||{};return oe.opacity==null&&(r=extend$1({},r),oe=extend$1({opacity:$?L:V.opacity*.1},oe),r.style=oe),r}function elementStateProxy(g,n){var r=this.states[g];if(this.style){if(g==="emphasis")return createEmphasisDefaultState(this,g,n,r);if(g==="blur")return createBlurDefaultState(this,g,r);if(g==="select")return createSelectDefaultState(this,g,r)}return r}function setDefaultStateProxy(g){g.stateProxy=elementStateProxy;var n=g.getTextContent(),r=g.getTextGuideLine();n&&(n.stateProxy=elementStateProxy),r&&(r.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(g,n){!shouldSilent(g,n)&&!g.__highByOuter&&traverseUpdateState(g,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(g,n){!shouldSilent(g,n)&&!g.__highByOuter&&traverseUpdateState(g,singleLeaveEmphasis)}function enterEmphasis(g,n){g.__highByOuter|=1<<(n||0),traverseUpdateState(g,singleEnterEmphasis)}function leaveEmphasis(g,n){!(g.__highByOuter&=~(1<<(n||0)))&&traverseUpdateState(g,singleLeaveEmphasis)}function enterBlur(g){traverseUpdateState(g,singleEnterBlur)}function leaveBlur(g){traverseUpdateState(g,singleLeaveBlur)}function enterSelect(g){traverseUpdateState(g,singleEnterSelect)}function leaveSelect(g){traverseUpdateState(g,singleLeaveSelect)}function shouldSilent(g,n){return g.__highDownSilentOnTouch&&n.zrByTouch}function allLeaveBlur(g){var n=g.getModel(),r=[],$=[];n.eachComponent(function(L,V){var oe=getComponentStates(V),ae=L==="series",re=ae?g.getViewOfSeriesModel(V):g.getViewOfComponentModel(V);!ae&&$.push(re),oe.isBlured&&(re.group.traverse(function(le){singleLeaveBlur(le)}),ae&&r.push(V)),oe.isBlured=!1}),each$f($,function(L){L&&L.toggleBlurSeries&&L.toggleBlurSeries(r,!1,n)})}function blurSeries(g,n,r,$){var L=$.getModel();r=r||"coordinateSystem";function V(le,ue){for(var de=0;de<ue.length;de++){var he=le.getItemGraphicEl(ue[de]);he&&leaveBlur(he)}}if(g!=null&&!(!n||n==="none")){var oe=L.getSeriesByIndex(g),ae=oe.coordinateSystem;ae&&ae.master&&(ae=ae.master);var re=[];L.eachSeries(function(le){var ue=oe===le,de=le.coordinateSystem;de&&de.master&&(de=de.master);var he=de&&ae?de===ae:ue;if(!(r==="series"&&!ue||r==="coordinateSystem"&&!he||n==="series"&&ue)){var pe=$.getViewOfSeriesModel(le);if(pe.group.traverse(function(xe){singleEnterBlur(xe)}),isArrayLike(n))V(le.getData(),n);else if(isObject$4(n))for(var _e=keys(n),$e=0;$e<_e.length;$e++)V(le.getData(_e[$e]),n[_e[$e]]);re.push(le),getComponentStates(le).isBlured=!0}}),L.eachComponent(function(le,ue){if(le!=="series"){var de=$.getViewOfComponentModel(ue);de&&de.toggleBlurSeries&&de.toggleBlurSeries(re,!0,L)}})}}function blurComponent(g,n,r){if(!(g==null||n==null)){var $=r.getModel().getComponent(g,n);if($){getComponentStates($).isBlured=!0;var L=r.getViewOfComponentModel($);!L||!L.focusBlurEnabled||L.group.traverse(function(V){singleEnterBlur(V)})}}}function blurSeriesFromHighlightPayload(g,n,r){var $=g.seriesIndex,L=g.getData(n.dataType);if(L){var V=queryDataIndex(L,n);V=(isArray$2(V)?V[0]:V)||0;var oe=L.getItemGraphicEl(V);if(!oe)for(var ae=L.count(),re=0;!oe&&re<ae;)oe=L.getItemGraphicEl(re++);if(oe){var le=getECData(oe);blurSeries($,le.focus,le.blurScope,r)}else{var ue=g.get(["emphasis","focus"]),de=g.get(["emphasis","blurScope"]);ue!=null&&blurSeries($,ue,de,r)}}}function findComponentHighDownDispatchers(g,n,r,$){var L={focusSelf:!1,dispatchers:null};if(g==null||g==="series"||n==null||r==null)return L;var V=$.getModel().getComponent(g,n);if(!V)return L;var oe=$.getViewOfComponentModel(V);if(!oe||!oe.findHighDownDispatchers)return L;for(var ae=oe.findHighDownDispatchers(r),re,le=0;le<ae.length;le++)if(getECData(ae[le]).focus==="self"){re=!0;break}return{focusSelf:re,dispatchers:ae}}function handleGlobalMouseOverForHighDown(g,n,r){var $=getECData(g),L=findComponentHighDownDispatchers($.componentMainType,$.componentIndex,$.componentHighDownName,r),V=L.dispatchers,oe=L.focusSelf;V?(oe&&blurComponent($.componentMainType,$.componentIndex,r),each$f(V,function(ae){return enterEmphasisWhenMouseOver(ae,n)})):(blurSeries($.seriesIndex,$.focus,$.blurScope,r),$.focus==="self"&&blurComponent($.componentMainType,$.componentIndex,r),enterEmphasisWhenMouseOver(g,n))}function handleGlobalMouseOutForHighDown(g,n,r){allLeaveBlur(r);var $=getECData(g),L=findComponentHighDownDispatchers($.componentMainType,$.componentIndex,$.componentHighDownName,r).dispatchers;L?each$f(L,function(V){return leaveEmphasisWhenMouseOut(V,n)}):leaveEmphasisWhenMouseOut(g,n)}function toggleSelectionFromPayload(g,n,r){if(isSelectChangePayload(n)){var $=n.dataType,L=g.getData($),V=queryDataIndex(L,n);isArray$2(V)||(V=[V]),g[n.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":n.type===SELECT_ACTION_TYPE?"select":"unselect"](V,$)}}function updateSeriesElementSelection(g){var n=g.getAllData();each$f(n,function(r){var $=r.data,L=r.type;$.eachItemGraphicEl(function(V,oe){g.isSelected(oe,L)?enterSelect(V):leaveSelect(V)})})}function getAllSelectedIndices(g){var n=[];return g.eachSeries(function(r){var $=r.getAllData();each$f($,function(L){L.data;var V=L.type,oe=r.getSelectedDataIndices();if(oe.length>0){var ae={dataIndex:oe,seriesIndex:r.seriesIndex};V!=null&&(ae.dataType=V),n.push(ae)}})}),n}function enableHoverEmphasis(g,n,r){setAsHighDownDispatcher(g,!0),traverseUpdateState(g,setDefaultStateProxy),enableHoverFocus(g,n,r)}function disableHoverEmphasis(g){setAsHighDownDispatcher(g,!1)}function toggleHoverEmphasis(g,n,r,$){$?disableHoverEmphasis(g):enableHoverEmphasis(g,n,r)}function enableHoverFocus(g,n,r){var $=getECData(g);n!=null?($.focus=n,$.blurScope=r):$.focus&&($.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(g,n,r,$){r=r||"itemStyle";for(var L=0;L<OTHER_STATES.length;L++){var V=OTHER_STATES[L],oe=n.getModel([V,r]),ae=g.ensureState(V);ae.style=$?$(oe):oe[defaultStyleGetterMap[r]]()}}function setAsHighDownDispatcher(g,n){var r=n===!1,$=g;g.highDownSilentOnTouch&&($.__highDownSilentOnTouch=g.highDownSilentOnTouch),(!r||$.__highDownDispatcher)&&($.__highByOuter=$.__highByOuter||0,$.__highDownDispatcher=!r)}function isHighDownDispatcher(g){return!!(g&&g.__highDownDispatcher)}function enableComponentHighDownFeatures(g,n,r){var $=getECData(g);$.componentMainType=n.mainType,$.componentIndex=n.componentIndex,$.componentHighDownName=r}function getHighlightDigit(g){var n=_highlightKeyMap[g];return n==null&&_highlightNextDigit<=32&&(n=_highlightKeyMap[g]=_highlightNextDigit++),n}function isSelectChangePayload(g){var n=g.type;return n===SELECT_ACTION_TYPE||n===UNSELECT_ACTION_TYPE||n===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(g){var n=g.type;return n===HIGHLIGHT_ACTION_TYPE||n===DOWNPLAY_ACTION_TYPE}function savePathStates(g){var n=getSavedStates(g);n.normalFill=g.style.fill,n.normalStroke=g.style.stroke;var r=g.states.select||{};n.selectFill=r.style&&r.style.fill||null,n.selectStroke=r.style&&r.style.stroke||null}var CMD$2=PathProxy$1.CMD,points$2=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(g,n){if(n){var r=g.data,$=g.len(),L,V,oe,ae,re,le,ue=CMD$2.M,de=CMD$2.C,he=CMD$2.L,pe=CMD$2.R,_e=CMD$2.A,$e=CMD$2.Q;for(oe=0,ae=0;oe<$;){switch(L=r[oe++],ae=oe,V=0,L){case ue:V=1;break;case he:V=1;break;case de:V=3;break;case $e:V=2;break;case _e:var xe=n[4],Oe=n[5],Ce=mathSqrt$2(n[0]*n[0]+n[1]*n[1]),Ie=mathSqrt$2(n[2]*n[2]+n[3]*n[3]),Ne=mathAtan2(-n[1]/Ie,n[0]/Ce);r[oe]*=Ce,r[oe++]+=xe,r[oe]*=Ie,r[oe++]+=Oe,r[oe++]*=Ce,r[oe++]*=Ie,r[oe++]+=Ne,r[oe++]+=Ne,oe+=2,ae=oe;break;case pe:le[0]=r[oe++],le[1]=r[oe++],applyTransform$1(le,le,n),r[ae++]=le[0],r[ae++]=le[1],le[0]+=r[oe++],le[1]+=r[oe++],applyTransform$1(le,le,n),r[ae++]=le[0],r[ae++]=le[1]}for(re=0;re<V;re++){var ze=points$2[re];ze[0]=r[oe++],ze[1]=r[oe++],applyTransform$1(ze,ze,n),r[ae++]=ze[0],r[ae++]=ze[1]}}g.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$7=Math.PI;function vMag(g){return Math.sqrt(g[0]*g[0]+g[1]*g[1])}function vRatio(g,n){return(g[0]*n[0]+g[1]*n[1])/(vMag(g)*vMag(n))}function vAngle(g,n){return(g[0]*n[1]<g[1]*n[0]?-1:1)*Math.acos(vRatio(g,n))}function processArc(g,n,r,$,L,V,oe,ae,re,le,ue){var de=re*(PI$7/180),he=mathCos$2(de)*(g-r)/2+mathSin$2(de)*(n-$)/2,pe=-1*mathSin$2(de)*(g-r)/2+mathCos$2(de)*(n-$)/2,_e=he*he/(oe*oe)+pe*pe/(ae*ae);_e>1&&(oe*=mathSqrt$1(_e),ae*=mathSqrt$1(_e));var $e=(L===V?-1:1)*mathSqrt$1((oe*oe*(ae*ae)-oe*oe*(pe*pe)-ae*ae*(he*he))/(oe*oe*(pe*pe)+ae*ae*(he*he)))||0,xe=$e*oe*pe/ae,Oe=$e*-ae*he/oe,Ce=(g+r)/2+mathCos$2(de)*xe-mathSin$2(de)*Oe,Ie=(n+$)/2+mathSin$2(de)*xe+mathCos$2(de)*Oe,Ne=vAngle([1,0],[(he-xe)/oe,(pe-Oe)/ae]),ze=[(he-xe)/oe,(pe-Oe)/ae],Fe=[(-1*he-xe)/oe,(-1*pe-Oe)/ae],Ue=vAngle(ze,Fe);if(vRatio(ze,Fe)<=-1&&(Ue=PI$7),vRatio(ze,Fe)>=1&&(Ue=0),Ue<0){var At=Math.round(Ue/PI$7*1e6)/1e6;Ue=PI$7*2+At%2*PI$7}ue.addData(le,Ce,Ie,oe,ae,Ne,Ue,de,V)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg$1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(g){var n=new PathProxy$1;if(!g)return n;var r=0,$=0,L=r,V=$,oe,ae=PathProxy$1.CMD,re=g.match(commandReg);if(!re)return n;for(var le=0;le<re.length;le++){for(var ue=re[le],de=ue.charAt(0),he=void 0,pe=ue.match(numberReg$1)||[],_e=pe.length,$e=0;$e<_e;$e++)pe[$e]=parseFloat(pe[$e]);for(var xe=0;xe<_e;){var Oe=void 0,Ce=void 0,Ie=void 0,Ne=void 0,ze=void 0,Fe=void 0,Ue=void 0,At=r,Et=$,Pt=void 0,kt=void 0;switch(de){case"l":r+=pe[xe++],$+=pe[xe++],he=ae.L,n.addData(he,r,$);break;case"L":r=pe[xe++],$=pe[xe++],he=ae.L,n.addData(he,r,$);break;case"m":r+=pe[xe++],$+=pe[xe++],he=ae.M,n.addData(he,r,$),L=r,V=$,de="l";break;case"M":r=pe[xe++],$=pe[xe++],he=ae.M,n.addData(he,r,$),L=r,V=$,de="L";break;case"h":r+=pe[xe++],he=ae.L,n.addData(he,r,$);break;case"H":r=pe[xe++],he=ae.L,n.addData(he,r,$);break;case"v":$+=pe[xe++],he=ae.L,n.addData(he,r,$);break;case"V":$=pe[xe++],he=ae.L,n.addData(he,r,$);break;case"C":he=ae.C,n.addData(he,pe[xe++],pe[xe++],pe[xe++],pe[xe++],pe[xe++],pe[xe++]),r=pe[xe-2],$=pe[xe-1];break;case"c":he=ae.C,n.addData(he,pe[xe++]+r,pe[xe++]+$,pe[xe++]+r,pe[xe++]+$,pe[xe++]+r,pe[xe++]+$),r+=pe[xe-2],$+=pe[xe-1];break;case"S":Oe=r,Ce=$,Pt=n.len(),kt=n.data,oe===ae.C&&(Oe+=r-kt[Pt-4],Ce+=$-kt[Pt-3]),he=ae.C,At=pe[xe++],Et=pe[xe++],r=pe[xe++],$=pe[xe++],n.addData(he,Oe,Ce,At,Et,r,$);break;case"s":Oe=r,Ce=$,Pt=n.len(),kt=n.data,oe===ae.C&&(Oe+=r-kt[Pt-4],Ce+=$-kt[Pt-3]),he=ae.C,At=r+pe[xe++],Et=$+pe[xe++],r+=pe[xe++],$+=pe[xe++],n.addData(he,Oe,Ce,At,Et,r,$);break;case"Q":At=pe[xe++],Et=pe[xe++],r=pe[xe++],$=pe[xe++],he=ae.Q,n.addData(he,At,Et,r,$);break;case"q":At=pe[xe++]+r,Et=pe[xe++]+$,r+=pe[xe++],$+=pe[xe++],he=ae.Q,n.addData(he,At,Et,r,$);break;case"T":Oe=r,Ce=$,Pt=n.len(),kt=n.data,oe===ae.Q&&(Oe+=r-kt[Pt-4],Ce+=$-kt[Pt-3]),r=pe[xe++],$=pe[xe++],he=ae.Q,n.addData(he,Oe,Ce,r,$);break;case"t":Oe=r,Ce=$,Pt=n.len(),kt=n.data,oe===ae.Q&&(Oe+=r-kt[Pt-4],Ce+=$-kt[Pt-3]),r+=pe[xe++],$+=pe[xe++],he=ae.Q,n.addData(he,Oe,Ce,r,$);break;case"A":Ie=pe[xe++],Ne=pe[xe++],ze=pe[xe++],Fe=pe[xe++],Ue=pe[xe++],At=r,Et=$,r=pe[xe++],$=pe[xe++],he=ae.A,processArc(At,Et,r,$,Fe,Ue,Ie,Ne,ze,he,n);break;case"a":Ie=pe[xe++],Ne=pe[xe++],ze=pe[xe++],Fe=pe[xe++],Ue=pe[xe++],At=r,Et=$,r+=pe[xe++],$+=pe[xe++],he=ae.A,processArc(At,Et,r,$,Fe,Ue,Ie,Ne,ze,he,n);break}}(de==="z"||de==="Z")&&(he=ae.Z,n.addData(he),r=L,$=V),oe=he}return n.toStatic(),n}var SVGPath=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.applyTransform=function(r){},n}(Path$1);function isPathProxy(g){return g.setData!=null}function createPathOptions(g,n){var r=createPathProxyFromString(g),$=extend$1({},n);return $.buildPath=function(L){if(isPathProxy(L)){L.setData(r.data);var V=L.getContext();V&&L.rebuildPath(V,1)}else{var V=L;r.rebuildPath(V,1)}},$.applyTransform=function(L){transformPath(r,L),this.dirtyShape()},$}function createFromString(g,n){return new SVGPath(createPathOptions(g,n))}function extendFromString(g,n){var r=createPathOptions(g,n),$=function(L){__extends(V,L);function V(oe){var ae=L.call(this,oe)||this;return ae.applyTransform=r.applyTransform,ae.buildPath=r.buildPath,ae}return V}(SVGPath);return $}function mergePath$1(g,n){for(var r=[],$=g.length,L=0;L<$;L++){var V=g[L];r.push(V.getUpdatedPathProxy(!0))}var oe=new Path$1(n);return oe.createPathProxy(),oe.buildPath=function(ae){if(isPathProxy(ae)){ae.appendPath(r);var re=ae.getContext();re&&ae.rebuildPath(re,1)}},oe}function clonePath(g,n){n=n||{};var r=new Path$1;return g.shape&&r.setShape(g.shape),r.setStyle(g.style),n.bakeTransform?transformPath(r.path,g.getComputedTransform()):n.toLocal?r.setLocalTransform(g.getComputedTransform()):r.copyTransform(g),r.buildPath=g.buildPath,r.applyTransform=r.applyTransform,r.z=g.z,r.z2=g.z2,r.zlevel=g.zlevel,r}var CircleShape=function(){function g(){this.cx=0,this.cy=0,this.r=0}return g}(),Circle=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new CircleShape},n.prototype.buildPath=function(r,$){r.moveTo($.cx+$.r,$.cy),r.arc($.cx,$.cy,$.r,0,Math.PI*2)},n}(Path$1);Circle.prototype.type="circle";const Circle$1=Circle;var EllipseShape=function(){function g(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return g}(),Ellipse=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new EllipseShape},n.prototype.buildPath=function(r,$){var L=.5522848,V=$.cx,oe=$.cy,ae=$.rx,re=$.ry,le=ae*L,ue=re*L;r.moveTo(V-ae,oe),r.bezierCurveTo(V-ae,oe-ue,V-le,oe-re,V,oe-re),r.bezierCurveTo(V+le,oe-re,V+ae,oe-ue,V+ae,oe),r.bezierCurveTo(V+ae,oe+ue,V+le,oe+re,V,oe+re),r.bezierCurveTo(V-le,oe+re,V-ae,oe+ue,V-ae,oe),r.closePath()},n}(Path$1);Ellipse.prototype.type="ellipse";const Ellipse$1=Ellipse;var PI$6=Math.PI,PI2$3=PI$6*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs$1=Math.abs,mathSqrt=Math.sqrt,mathMax$7=Math.max,mathMin$7=Math.min,e=1e-4;function intersect(g,n,r,$,L,V,oe,ae){var re=r-g,le=$-n,ue=oe-L,de=ae-V,he=de*re-ue*le;if(!(he*he<e))return he=(ue*(n-V)-de*(g-L))/he,[g+he*re,n+he*le]}function computeCornerTangents(g,n,r,$,L,V,oe){var ae=g-r,re=n-$,le=(oe?V:-V)/mathSqrt(ae*ae+re*re),ue=le*re,de=-le*ae,he=g+ue,pe=n+de,_e=r+ue,$e=$+de,xe=(he+_e)/2,Oe=(pe+$e)/2,Ce=_e-he,Ie=$e-pe,Ne=Ce*Ce+Ie*Ie,ze=L-V,Fe=he*$e-_e*pe,Ue=(Ie<0?-1:1)*mathSqrt(mathMax$7(0,ze*ze*Ne-Fe*Fe)),At=(Fe*Ie-Ce*Ue)/Ne,Et=(-Fe*Ce-Ie*Ue)/Ne,Pt=(Fe*Ie+Ce*Ue)/Ne,kt=(-Fe*Ce+Ie*Ue)/Ne,Dt=At-xe,Lt=Et-Oe,hn=Pt-xe,vn=kt-Oe;return Dt*Dt+Lt*Lt>hn*hn+vn*vn&&(At=Pt,Et=kt),{cx:At,cy:Et,x0:-ue,y0:-de,x1:At*(L/ze-1),y1:Et*(L/ze-1)}}function normalizeCornerRadius(g){var n;if(isArray$2(g)){var r=g.length;if(!r)return g;r===1?n=[g[0],g[0],0,0]:r===2?n=[g[0],g[0],g[1],g[1]]:r===3?n=g.concat(g[2]):n=g}else n=[g,g,g,g];return n}function buildPath$1(g,n){var r,$=mathMax$7(n.r,0),L=mathMax$7(n.r0||0,0),V=$>0,oe=L>0;if(!(!V&&!oe)){if(V||($=L,L=0),L>$){var ae=$;$=L,L=ae}var re=n.startAngle,le=n.endAngle;if(!(isNaN(re)||isNaN(le))){var ue=n.cx,de=n.cy,he=!!n.clockwise,pe=mathAbs$1(le-re),_e=pe>PI2$3&&pe%PI2$3;if(_e>e&&(pe=_e),!($>e))g.moveTo(ue,de);else if(pe>PI2$3-e)g.moveTo(ue+$*mathCos$1(re),de+$*mathSin$1(re)),g.arc(ue,de,$,re,le,!he),L>e&&(g.moveTo(ue+L*mathCos$1(le),de+L*mathSin$1(le)),g.arc(ue,de,L,le,re,he));else{var $e=void 0,xe=void 0,Oe=void 0,Ce=void 0,Ie=void 0,Ne=void 0,ze=void 0,Fe=void 0,Ue=void 0,At=void 0,Et=void 0,Pt=void 0,kt=void 0,Dt=void 0,Lt=void 0,hn=void 0,vn=$*mathCos$1(re),_n=$*mathSin$1(re),$n=L*mathCos$1(le),Sn=L*mathSin$1(le),xn=pe>e;if(xn){var On=n.cornerRadius;On&&(r=normalizeCornerRadius(On),$e=r[0],xe=r[1],Oe=r[2],Ce=r[3]);var Cn=mathAbs$1($-L)/2;if(Ie=mathMin$7(Cn,Oe),Ne=mathMin$7(Cn,Ce),ze=mathMin$7(Cn,$e),Fe=mathMin$7(Cn,xe),Et=Ue=mathMax$7(Ie,Ne),Pt=At=mathMax$7(ze,Fe),(Ue>e||At>e)&&(kt=$*mathCos$1(le),Dt=$*mathSin$1(le),Lt=L*mathCos$1(re),hn=L*mathSin$1(re),pe<PI$6)){var An=intersect(vn,_n,Lt,hn,kt,Dt,$n,Sn);if(An){var Rn=vn-An[0],Fn=_n-An[1],Pn=kt-An[0],Un=Dt-An[1],Dn=1/mathSin$1(mathACos((Rn*Pn+Fn*Un)/(mathSqrt(Rn*Rn+Fn*Fn)*mathSqrt(Pn*Pn+Un*Un)))/2),kn=mathSqrt(An[0]*An[0]+An[1]*An[1]);Et=mathMin$7(Ue,($-kn)/(Dn+1)),Pt=mathMin$7(At,(L-kn)/(Dn-1))}}}if(!xn)g.moveTo(ue+vn,de+_n);else if(Et>e){var Nn=mathMin$7(Oe,Et),Vn=mathMin$7(Ce,Et),Ln=computeCornerTangents(Lt,hn,vn,_n,$,Nn,he),Tn=computeCornerTangents(kt,Dt,$n,Sn,$,Vn,he);g.moveTo(ue+Ln.cx+Ln.x0,de+Ln.cy+Ln.y0),Et<Ue&&Nn===Vn?g.arc(ue+Ln.cx,de+Ln.cy,Et,mathATan2(Ln.y0,Ln.x0),mathATan2(Tn.y0,Tn.x0),!he):(Nn>0&&g.arc(ue+Ln.cx,de+Ln.cy,Nn,mathATan2(Ln.y0,Ln.x0),mathATan2(Ln.y1,Ln.x1),!he),g.arc(ue,de,$,mathATan2(Ln.cy+Ln.y1,Ln.cx+Ln.x1),mathATan2(Tn.cy+Tn.y1,Tn.cx+Tn.x1),!he),Vn>0&&g.arc(ue+Tn.cx,de+Tn.cy,Vn,mathATan2(Tn.y1,Tn.x1),mathATan2(Tn.y0,Tn.x0),!he))}else g.moveTo(ue+vn,de+_n),g.arc(ue,de,$,re,le,!he);if(!(L>e)||!xn)g.lineTo(ue+$n,de+Sn);else if(Pt>e){var Nn=mathMin$7($e,Pt),Vn=mathMin$7(xe,Pt),Ln=computeCornerTangents($n,Sn,kt,Dt,L,-Vn,he),Tn=computeCornerTangents(vn,_n,Lt,hn,L,-Nn,he);g.lineTo(ue+Ln.cx+Ln.x0,de+Ln.cy+Ln.y0),Pt<At&&Nn===Vn?g.arc(ue+Ln.cx,de+Ln.cy,Pt,mathATan2(Ln.y0,Ln.x0),mathATan2(Tn.y0,Tn.x0),!he):(Vn>0&&g.arc(ue+Ln.cx,de+Ln.cy,Vn,mathATan2(Ln.y0,Ln.x0),mathATan2(Ln.y1,Ln.x1),!he),g.arc(ue,de,L,mathATan2(Ln.cy+Ln.y1,Ln.cx+Ln.x1),mathATan2(Tn.cy+Tn.y1,Tn.cx+Tn.x1),he),Nn>0&&g.arc(ue+Tn.cx,de+Tn.cy,Nn,mathATan2(Tn.y1,Tn.x1),mathATan2(Tn.y0,Tn.x0),!he))}else g.lineTo(ue+$n,de+Sn),g.arc(ue,de,L,le,re,he)}g.closePath()}}}var SectorShape=function(){function g(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return g}(),Sector=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new SectorShape},n.prototype.buildPath=function(r,$){buildPath$1(r,$)},n.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},n}(Path$1);Sector.prototype.type="sector";const Sector$1=Sector;var RingShape=function(){function g(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return g}(),Ring=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new RingShape},n.prototype.buildPath=function(r,$){var L=$.cx,V=$.cy,oe=Math.PI*2;r.moveTo(L+$.r,V),r.arc(L,V,$.r,0,oe,!1),r.moveTo(L+$.r0,V),r.arc(L,V,$.r0,0,oe,!0)},n}(Path$1);Ring.prototype.type="ring";const Ring$1=Ring;function smoothBezier(g,n,r,$){var L=[],V=[],oe=[],ae=[],re,le,ue,de;if($){ue=[1/0,1/0],de=[-1/0,-1/0];for(var he=0,pe=g.length;he<pe;he++)min$1(ue,ue,g[he]),max$1(de,de,g[he]);min$1(ue,ue,$[0]),max$1(de,de,$[1])}for(var he=0,pe=g.length;he<pe;he++){var _e=g[he];if(r)re=g[he?he-1:pe-1],le=g[(he+1)%pe];else if(he===0||he===pe-1){L.push(clone$3(g[he]));continue}else re=g[he-1],le=g[he+1];sub(V,le,re),scale$2(V,V,n);var $e=distance(_e,re),xe=distance(_e,le),Oe=$e+xe;Oe!==0&&($e/=Oe,xe/=Oe),scale$2(oe,V,-$e),scale$2(ae,V,xe);var Ce=add([],_e,oe),Ie=add([],_e,ae);$&&(max$1(Ce,Ce,ue),min$1(Ce,Ce,de),max$1(Ie,Ie,ue),min$1(Ie,Ie,de)),L.push(Ce),L.push(Ie)}return r&&L.push(L.shift()),L}function buildPath(g,n,r){var $=n.smooth,L=n.points;if(L&&L.length>=2){if($){var V=smoothBezier(L,$,r,n.smoothConstraint);g.moveTo(L[0][0],L[0][1]);for(var oe=L.length,ae=0;ae<(r?oe:oe-1);ae++){var re=V[ae*2],le=V[ae*2+1],ue=L[(ae+1)%oe];g.bezierCurveTo(re[0],re[1],le[0],le[1],ue[0],ue[1])}}else{g.moveTo(L[0][0],L[0][1]);for(var ae=1,de=L.length;ae<de;ae++)g.lineTo(L[ae][0],L[ae][1])}r&&g.closePath()}}var PolygonShape=function(){function g(){this.points=null,this.smooth=0,this.smoothConstraint=null}return g}(),Polygon=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new PolygonShape},n.prototype.buildPath=function(r,$){buildPath(r,$,!0)},n}(Path$1);Polygon.prototype.type="polygon";const Polygon$1=Polygon;var PolylineShape=function(){function g(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return g}(),Polyline$2=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new PolylineShape},n.prototype.buildPath=function(r,$){buildPath(r,$,!1)},n}(Path$1);Polyline$2.prototype.type="polyline";const Polyline$3=Polyline$2;var subPixelOptimizeOutputShape={},LineShape=function(){function g(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return g}(),Line$2=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LineShape},n.prototype.buildPath=function(r,$){var L,V,oe,ae;if(this.subPixelOptimize){var re=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,$,this.style);L=re.x1,V=re.y1,oe=re.x2,ae=re.y2}else L=$.x1,V=$.y1,oe=$.x2,ae=$.y2;var le=$.percent;le!==0&&(r.moveTo(L,V),le<1&&(oe=L*(1-le)+oe*le,ae=V*(1-le)+ae*le),r.lineTo(oe,ae))},n.prototype.pointAt=function(r){var $=this.shape;return[$.x1*(1-r)+$.x2*r,$.y1*(1-r)+$.y2*r]},n}(Path$1);Line$2.prototype.type="line";const Line$3=Line$2;var out=[],BezierCurveShape=function(){function g(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return g}();function someVectorAt(g,n,r){var $=g.cpx2,L=g.cpy2;return $!=null||L!=null?[(r?cubicDerivativeAt:cubicAt)(g.x1,g.cpx1,g.cpx2,g.x2,n),(r?cubicDerivativeAt:cubicAt)(g.y1,g.cpy1,g.cpy2,g.y2,n)]:[(r?quadraticDerivativeAt:quadraticAt$1)(g.x1,g.cpx1,g.x2,n),(r?quadraticDerivativeAt:quadraticAt$1)(g.y1,g.cpy1,g.y2,n)]}var BezierCurve=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new BezierCurveShape},n.prototype.buildPath=function(r,$){var L=$.x1,V=$.y1,oe=$.x2,ae=$.y2,re=$.cpx1,le=$.cpy1,ue=$.cpx2,de=$.cpy2,he=$.percent;he!==0&&(r.moveTo(L,V),ue==null||de==null?(he<1&&(quadraticSubdivide(L,re,oe,he,out),re=out[1],oe=out[2],quadraticSubdivide(V,le,ae,he,out),le=out[1],ae=out[2]),r.quadraticCurveTo(re,le,oe,ae)):(he<1&&(cubicSubdivide(L,re,ue,oe,he,out),re=out[1],ue=out[2],oe=out[3],cubicSubdivide(V,le,de,ae,he,out),le=out[1],de=out[2],ae=out[3]),r.bezierCurveTo(re,le,ue,de,oe,ae)))},n.prototype.pointAt=function(r){return someVectorAt(this.shape,r,!1)},n.prototype.tangentAt=function(r){var $=someVectorAt(this.shape,r,!0);return normalize$3($,$)},n}(Path$1);BezierCurve.prototype.type="bezier-curve";const BezierCurve$1=BezierCurve;var ArcShape=function(){function g(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return g}(),Arc=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ArcShape},n.prototype.buildPath=function(r,$){var L=$.cx,V=$.cy,oe=Math.max($.r,0),ae=$.startAngle,re=$.endAngle,le=$.clockwise,ue=Math.cos(ae),de=Math.sin(ae);r.moveTo(ue*oe+L,de*oe+V),r.arc(L,V,oe,ae,re,!le)},n}(Path$1);Arc.prototype.type="arc";const Arc$1=Arc;var CompoundPath=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="compound",r}return n.prototype._updatePathDirty=function(){for(var r=this.shape.paths,$=this.shapeChanged(),L=0;L<r.length;L++)$=$||r[L].shapeChanged();$&&this.dirtyShape()},n.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],$=this.getGlobalScale(),L=0;L<r.length;L++)r[L].path||r[L].createPathProxy(),r[L].path.setScale($[0],$[1],r[L].segmentIgnoreThreshold)},n.prototype.buildPath=function(r,$){for(var L=$.paths||[],V=0;V<L.length;V++)L[V].buildPath(r,L[V].shape,!0)},n.prototype.afterBrush=function(){for(var r=this.shape.paths||[],$=0;$<r.length;$++)r[$].pathUpdated()},n.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path$1.prototype.getBoundingRect.call(this)},n}(Path$1);const CompoundPath$1=CompoundPath;var Gradient=function(){function g(n){this.colorStops=n||[]}return g.prototype.addColorStop=function(n,r){this.colorStops.push({offset:n,color:r})},g}();const Gradient$1=Gradient;var LinearGradient=function(g){__extends(n,g);function n(r,$,L,V,oe,ae){var re=g.call(this,oe)||this;return re.x=r!=null?r:0,re.y=$!=null?$:0,re.x2=L!=null?L:1,re.y2=V!=null?V:0,re.type="linear",re.global=ae||!1,re}return n}(Gradient$1);const LinearGradient$1=LinearGradient;var RadialGradient=function(g){__extends(n,g);function n(r,$,L,V,oe){var ae=g.call(this,V)||this;return ae.x=r!=null?r:.5,ae.y=$!=null?$:.5,ae.r=L!=null?L:.5,ae.type="radial",ae.global=oe||!1,ae}return n}(Gradient$1);const RadialGradient$1=RadialGradient;var extent=[0,0],extent2=[0,0],minTv=new Point$1,maxTv=new Point$1,OrientedBoundingRect=function(){function g(n,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var $=0;$<4;$++)this._corners[$]=new Point$1;for(var $=0;$<2;$++)this._axes[$]=new Point$1;n&&this.fromBoundingRect(n,r)}return g.prototype.fromBoundingRect=function(n,r){var $=this._corners,L=this._axes,V=n.x,oe=n.y,ae=V+n.width,re=oe+n.height;if($[0].set(V,oe),$[1].set(ae,oe),$[2].set(ae,re),$[3].set(V,re),r)for(var le=0;le<4;le++)$[le].transform(r);Point$1.sub(L[0],$[1],$[0]),Point$1.sub(L[1],$[3],$[0]),L[0].normalize(),L[1].normalize();for(var le=0;le<2;le++)this._origin[le]=L[le].dot($[0])},g.prototype.intersect=function(n,r){var $=!0,L=!r;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,n,minTv,maxTv,L,1)&&($=!1,L)||!this._intersectCheckOneSide(n,this,minTv,maxTv,L,-1)&&($=!1,L)||L||Point$1.copy(r,$?minTv:maxTv),$},g.prototype._intersectCheckOneSide=function(n,r,$,L,V,oe){for(var ae=!0,re=0;re<2;re++){var le=this._axes[re];if(this._getProjMinMaxOnAxis(re,n._corners,extent),this._getProjMinMaxOnAxis(re,r._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(ae=!1,V)return ae;var ue=Math.abs(extent2[0]-extent[1]),de=Math.abs(extent[0]-extent2[1]);Math.min(ue,de)>L.len()&&(ue<de?Point$1.scale(L,le,-ue*oe):Point$1.scale(L,le,de*oe))}else if($){var ue=Math.abs(extent2[0]-extent[1]),de=Math.abs(extent[0]-extent2[1]);Math.min(ue,de)<$.len()&&(ue<de?Point$1.scale($,le,ue*oe):Point$1.scale($,le,-de*oe))}}return ae},g.prototype._getProjMinMaxOnAxis=function(n,r,$){for(var L=this._axes[n],V=this._origin,oe=r[0].dot(L)+V[n],ae=oe,re=oe,le=1;le<r.length;le++){var ue=r[le].dot(L)+V[n];ae=Math.min(ue,ae),re=Math.max(ue,re)}$[0]=ae,$[1]=re},g}();const OrientedBoundingRect$1=OrientedBoundingRect;var m=[],IncrementalDisplayable=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return n.prototype.traverse=function(r,$){r.call($,this)},n.prototype.useStyle=function(){this.style={}},n.prototype.getCursor=function(){return this._cursor},n.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},n.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},n.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},n.prototype.addDisplayable=function(r,$){$?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},n.prototype.addDisplayables=function(r,$){$=$||!1;for(var L=0;L<r.length;L++)this.addDisplayable(r[L],$)},n.prototype.getDisplayables=function(){return this._displayables},n.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},n.prototype.eachPendingDisplayable=function(r){for(var $=this._cursor;$<this._displayables.length;$++)r&&r(this._displayables[$]);for(var $=0;$<this._temporaryDisplayables.length;$++)r&&r(this._temporaryDisplayables[$])},n.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var $=this._displayables[r];$.parent=this,$.update(),$.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var $=this._temporaryDisplayables[r];$.parent=this,$.update(),$.parent=null}},n.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new BoundingRect$1(1/0,1/0,-1/0,-1/0),$=0;$<this._displayables.length;$++){var L=this._displayables[$],V=L.getBoundingRect().clone();L.needLocalTransform()&&V.applyTransform(L.getLocalTransform(m)),r.union(V)}this._rect=r}return this._rect},n.prototype.contain=function(r,$){var L=this.transformCoordToLocal(r,$),V=this.getBoundingRect();if(V.contain(L[0],L[1]))for(var oe=0;oe<this._displayables.length;oe++){var ae=this._displayables[oe];if(ae.contain(r,$))return!0}return!1},n}(Displayable$1);const IncrementalDisplayable$1=IncrementalDisplayable;var transitionStore=makeInner();function getAnimationConfig(g,n,r,$,L){var V;if(n&&n.ecModel){var oe=n.ecModel.getUpdatePayload();V=oe&&oe.animation}var ae=n&&n.isAnimationEnabled(),re=g==="update";if(ae){var le=void 0,ue=void 0,de=void 0;$?(le=retrieve2($.duration,200),ue=retrieve2($.easing,"cubicOut"),de=0):(le=n.getShallow(re?"animationDurationUpdate":"animationDuration"),ue=n.getShallow(re?"animationEasingUpdate":"animationEasing"),de=n.getShallow(re?"animationDelayUpdate":"animationDelay")),V&&(V.duration!=null&&(le=V.duration),V.easing!=null&&(ue=V.easing),V.delay!=null&&(de=V.delay)),isFunction$1(de)&&(de=de(r,L)),isFunction$1(le)&&(le=le(r));var he={duration:le||0,delay:de,easing:ue};return he}else return null}function animateOrSetProps(g,n,r,$,L,V,oe){var ae=!1,re;isFunction$1(L)?(oe=V,V=L,L=null):isObject$4(L)&&(V=L.cb,oe=L.during,ae=L.isFrom,re=L.removeOpt,L=L.dataIndex);var le=g==="leave";le||n.stopAnimation("leave");var ue=getAnimationConfig(g,$,L,le?re||{}:null,$&&$.getAnimationDelayParams?$.getAnimationDelayParams(n,L):null);if(ue&&ue.duration>0){var de=ue.duration,he=ue.delay,pe=ue.easing,_e={duration:de,delay:he||0,easing:pe,done:V,force:!!V||!!oe,setToFinal:!le,scope:g,during:oe};ae?n.animateFrom(r,_e):n.animateTo(r,_e)}else n.stopAnimation(),!ae&&n.attr(r),oe&&oe(1),V&&V()}function updateProps$1(g,n,r,$,L,V){animateOrSetProps("update",g,n,r,$,L,V)}function initProps(g,n,r,$,L,V){animateOrSetProps("enter",g,n,r,$,L,V)}function isElementRemoved(g){if(!g.__zr)return!0;for(var n=0;n<g.animators.length;n++){var r=g.animators[n];if(r.scope==="leave")return!0}return!1}function removeElement(g,n,r,$,L,V){isElementRemoved(g)||animateOrSetProps("leave",g,n,r,$,L,V)}function fadeOutDisplayable(g,n,r,$){g.removeTextContent(),g.removeTextGuideLine(),removeElement(g,{style:{opacity:0}},n,r,$)}function removeElementWithFadeOut(g,n,r){function $(){g.parent&&g.parent.remove(g)}g.isGroup?g.traverse(function(L){L.isGroup||fadeOutDisplayable(L,n,r,$)}):fadeOutDisplayable(g,n,r,$)}function saveOldStyle(g){transitionStore(g).oldStyle=g.style}function getOldStyle(g){return transitionStore(g).oldStyle}var mathMax$6=Math.max,mathMin$6=Math.min,_customShapeMap={};function extendShape(g){return Path$1.extend(g)}var extendPathFromString=extendFromString;function extendPath(g,n){return extendPathFromString(g,n)}function registerShape(g,n){_customShapeMap[g]=n}function getShapeClass(g){if(_customShapeMap.hasOwnProperty(g))return _customShapeMap[g]}function makePath(g,n,r,$){var L=createFromString(g,n);return r&&($==="center"&&(r=centerGraphic(r,L.getBoundingRect())),resizePath(L,r)),L}function makeImage(g,n,r){var $=new ZRImage$1({style:{image:g,x:n.x,y:n.y,width:n.width,height:n.height},onload:function(L){if(r==="center"){var V={width:L.width,height:L.height};$.setStyle(centerGraphic(n,V))}}});return $}function centerGraphic(g,n){var r=n.width/n.height,$=g.height*r,L;$<=g.width?L=g.height:($=g.width,L=$/r);var V=g.x+g.width/2,oe=g.y+g.height/2;return{x:V-$/2,y:oe-L/2,width:$,height:L}}var mergePath=mergePath$1;function resizePath(g,n){if(g.applyTransform){var r=g.getBoundingRect(),$=r.calculateTransform(n);g.applyTransform($)}}function subPixelOptimizeLine(g,n){return subPixelOptimizeLine$1(g,g,{lineWidth:n}),g}function subPixelOptimizeRect(g){return subPixelOptimizeRect$1(g.shape,g.shape,g.style),g}var subPixelOptimize=subPixelOptimize$1;function getTransform$1(g,n){for(var r=identity([]);g&&g!==n;)mul(r,g.getLocalTransform(),r),g=g.parent;return r}function applyTransform(g,n,r){return n&&!isArrayLike(n)&&(n=Transformable.getLocalTransform(n)),r&&(n=invert([],n)),applyTransform$1([],g,n)}function transformDirection(g,n,r){var $=n[4]===0||n[5]===0||n[0]===0?1:Math.abs(2*n[4]/n[0]),L=n[4]===0||n[5]===0||n[2]===0?1:Math.abs(2*n[4]/n[2]),V=[g==="left"?-$:g==="right"?$:0,g==="top"?-L:g==="bottom"?L:0];return V=applyTransform(V,n,r),Math.abs(V[0])>Math.abs(V[1])?V[0]>0?"right":"left":V[1]>0?"bottom":"top"}function isNotGroup(g){return!g.isGroup}function isPath$1(g){return g.shape!=null}function groupTransition(g,n,r){if(!g||!n)return;function $(oe){var ae={};return oe.traverse(function(re){isNotGroup(re)&&re.anid&&(ae[re.anid]=re)}),ae}function L(oe){var ae={x:oe.x,y:oe.y,rotation:oe.rotation};return isPath$1(oe)&&(ae.shape=extend$1({},oe.shape)),ae}var V=$(g);n.traverse(function(oe){if(isNotGroup(oe)&&oe.anid){var ae=V[oe.anid];if(ae){var re=L(oe);oe.attr(L(ae)),updateProps$1(oe,re,r,getECData(oe).dataIndex)}}})}function clipPointsByRect(g,n){return map$1(g,function(r){var $=r[0];$=mathMax$6($,n.x),$=mathMin$6($,n.x+n.width);var L=r[1];return L=mathMax$6(L,n.y),L=mathMin$6(L,n.y+n.height),[$,L]})}function clipRectByRect(g,n){var r=mathMax$6(g.x,n.x),$=mathMin$6(g.x+g.width,n.x+n.width),L=mathMax$6(g.y,n.y),V=mathMin$6(g.y+g.height,n.y+n.height);if($>=r&&V>=L)return{x:r,y:L,width:$-r,height:V-L}}function createIcon(g,n,r){var $=extend$1({rectHover:!0},n),L=$.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},g)return g.indexOf("image://")===0?(L.image=g.slice(8),defaults$2(L,r),new ZRImage$1($)):makePath(g.replace("path://",""),$,r,"center")}function linePolygonIntersect(g,n,r,$,L){for(var V=0,oe=L[L.length-1];V<L.length;V++){var ae=L[V];if(lineLineIntersect$1(g,n,r,$,ae[0],ae[1],oe[0],oe[1]))return!0;oe=ae}}function lineLineIntersect$1(g,n,r,$,L,V,oe,ae){var re=r-g,le=$-n,ue=oe-L,de=ae-V,he=crossProduct2d$1(ue,de,re,le);if(nearZero(he))return!1;var pe=g-L,_e=n-V,$e=crossProduct2d$1(pe,_e,re,le)/he;if($e<0||$e>1)return!1;var xe=crossProduct2d$1(pe,_e,ue,de)/he;return!(xe<0||xe>1)}function crossProduct2d$1(g,n,r,$){return g*$-r*n}function nearZero(g){return g<=1e-6&&g>=-1e-6}function setTooltipConfig(g){var n=g.itemTooltipOption,r=g.componentModel,$=g.itemName,L=isString$1(n)?{formatter:n}:n,V=r.mainType,oe=r.componentIndex,ae={componentType:V,name:$,$vars:["name"]};ae[V+"Index"]=oe;var re=g.formatterParamsExtra;re&&each$f(keys(re),function(ue){hasOwn(ae,ue)||(ae[ue]=re[ue],ae.$vars.push(ue))});var le=getECData(g.el);le.componentMainType=V,le.componentIndex=oe,le.tooltipConfig={name:$,option:defaults$2({content:$,formatterParams:ae},L)}}function traverseElement(g,n){var r;g.isGroup&&(r=n(g)),r||g.traverse(n)}function traverseElements(g,n){if(g)if(isArray$2(g))for(var r=0;r<g.length;r++)traverseElement(g[r],n);else traverseElement(g,n)}registerShape("circle",Circle$1),registerShape("ellipse",Ellipse$1),registerShape("sector",Sector$1),registerShape("ring",Ring$1),registerShape("polygon",Polygon$1),registerShape("polyline",Polyline$3),registerShape("rect",Rect$3),registerShape("line",Line$3),registerShape("bezierCurve",BezierCurve$1),registerShape("arc",Arc$1);const graphic=Object.freeze(Object.defineProperty({__proto__:null,updateProps:updateProps$1,initProps,removeElement,removeElementWithFadeOut,isElementRemoved,extendShape,extendPath,registerShape,getShapeClass,makePath,makeImage,mergePath,resizePath,subPixelOptimizeLine,subPixelOptimizeRect,subPixelOptimize,getTransform:getTransform$1,applyTransform,transformDirection,groupTransition,clipPointsByRect,clipRectByRect,createIcon,linePolygonIntersect,lineLineIntersect:lineLineIntersect$1,setTooltipConfig,traverseElements,Group:Group$4,Image:ZRImage$1,Text:ZRText$1,Circle:Circle$1,Ellipse:Ellipse$1,Sector:Sector$1,Ring:Ring$1,Polygon:Polygon$1,Polyline:Polyline$3,Rect:Rect$3,Line:Line$3,BezierCurve:BezierCurve$1,Arc:Arc$1,IncrementalDisplayable:IncrementalDisplayable$1,CompoundPath:CompoundPath$1,LinearGradient:LinearGradient$1,RadialGradient:RadialGradient$1,BoundingRect:BoundingRect$1,OrientedBoundingRect:OrientedBoundingRect$1,Point:Point$1,Path:Path$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(g,n){for(var r=0;r<SPECIAL_STATES.length;r++){var $=SPECIAL_STATES[r],L=n[$],V=g.ensureState($);V.style=V.style||{},V.style.text=L}var oe=g.currentStates.slice();g.clearStates(!0),g.setStyle({text:n.normal}),g.useStates(oe,!0)}function getLabelText(g,n,r){var $=g.labelFetcher,L=g.labelDataIndex,V=g.labelDimIndex,oe=n.normal,ae;$&&(ae=$.getFormattedLabel(L,"normal",null,V,oe&&oe.get("formatter"),r!=null?{interpolatedValue:r}:null)),ae==null&&(ae=isFunction$1(g.defaultText)?g.defaultText(L,g,r):g.defaultText);for(var re={normal:ae},le=0;le<SPECIAL_STATES.length;le++){var ue=SPECIAL_STATES[le],de=n[ue];re[ue]=retrieve2($?$.getFormattedLabel(L,ue,null,V,de&&de.get("formatter")):null,ae)}return re}function setLabelStyle(g,n,r,$){r=r||EMPTY_OBJ;for(var L=g instanceof ZRText$1,V=!1,oe=0;oe<DISPLAY_STATES.length;oe++){var ae=n[DISPLAY_STATES[oe]];if(ae&&ae.getShallow("show")){V=!0;break}}var re=L?g:g.getTextContent();if(V){L||(re||(re=new ZRText$1,g.setTextContent(re)),g.stateProxy&&(re.stateProxy=g.stateProxy));var le=getLabelText(r,n),ue=n.normal,de=!!ue.getShallow("show"),he=createTextStyle(ue,$&&$.normal,r,!1,!L);he.text=le.normal,L||g.setTextConfig(createTextConfig(ue,r,!1));for(var oe=0;oe<SPECIAL_STATES.length;oe++){var pe=SPECIAL_STATES[oe],ae=n[pe];if(ae){var _e=re.ensureState(pe),$e=!!retrieve2(ae.getShallow("show"),de);if($e!==de&&(_e.ignore=!$e),_e.style=createTextStyle(ae,$&&$[pe],r,!0,!L),_e.style.text=le[pe],!L){var xe=g.ensureState(pe);xe.textConfig=createTextConfig(ae,r,!0)}}}re.silent=!!ue.getShallow("silent"),re.style.x!=null&&(he.x=re.style.x),re.style.y!=null&&(he.y=re.style.y),re.ignore=!de,re.useStyle(he),re.dirty(),r.enableTextSetter&&(labelInner(re).setLabelText=function(Oe){var Ce=getLabelText(r,n,Oe);setLabelText(re,Ce)})}else re&&(re.ignore=!0);g.dirty()}function getLabelStatesModels(g,n){n=n||"label";for(var r={normal:g.getModel(n)},$=0;$<SPECIAL_STATES.length;$++){var L=SPECIAL_STATES[$];r[L]=g.getModel([L,n])}return r}function createTextStyle(g,n,r,$,L){var V={};return setTextStyleCommon(V,g,r,$,L),n&&extend$1(V,n),V}function createTextConfig(g,n,r){n=n||{};var $={},L,V=g.getShallow("rotate"),oe=retrieve2(g.getShallow("distance"),r?null:5),ae=g.getShallow("offset");return L=g.getShallow("position")||(r?null:"inside"),L==="outside"&&(L=n.defaultOutsidePosition||"top"),L!=null&&($.position=L),ae!=null&&($.offset=ae),V!=null&&(V*=Math.PI/180,$.rotation=V),oe!=null&&($.distance=oe),$.outsideFill=g.get("color")==="inherit"?n.inheritColor||null:"auto",$}function setTextStyleCommon(g,n,r,$,L){r=r||EMPTY_OBJ;var V=n.ecModel,oe=V&&V.option.textStyle,ae=getRichItemNames(n),re;if(ae){re={};for(var le in ae)if(ae.hasOwnProperty(le)){var ue=n.getModel(["rich",le]);setTokenTextStyle(re[le]={},ue,oe,r,$,L,!1,!0)}}re&&(g.rich=re);var de=n.get("overflow");de&&(g.overflow=de);var he=n.get("minMargin");he!=null&&(g.margin=he),setTokenTextStyle(g,n,oe,r,$,L,!0,!1)}function getRichItemNames(g){for(var n;g&&g!==g.ecModel;){var r=(g.option||EMPTY_OBJ).rich;if(r){n=n||{};for(var $=keys(r),L=0;L<$.length;L++){var V=$[L];n[V]=1}}g=g.parentModel}return n}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(g,n,r,$,L,V,oe,ae){r=!L&&r||EMPTY_OBJ;var re=$&&$.inheritColor,le=n.getShallow("color"),ue=n.getShallow("textBorderColor"),de=retrieve2(n.getShallow("opacity"),r.opacity);(le==="inherit"||le==="auto")&&(re?le=re:le=null),(ue==="inherit"||ue==="auto")&&(re?ue=re:ue=null),V||(le=le||r.color,ue=ue||r.textBorderColor),le!=null&&(g.fill=le),ue!=null&&(g.stroke=ue);var he=retrieve2(n.getShallow("textBorderWidth"),r.textBorderWidth);he!=null&&(g.lineWidth=he);var pe=retrieve2(n.getShallow("textBorderType"),r.textBorderType);pe!=null&&(g.lineDash=pe);var _e=retrieve2(n.getShallow("textBorderDashOffset"),r.textBorderDashOffset);_e!=null&&(g.lineDashOffset=_e),!L&&de==null&&!ae&&(de=$&&$.defaultOpacity),de!=null&&(g.opacity=de),!L&&!V&&g.fill==null&&$.inheritColor&&(g.fill=$.inheritColor);for(var $e=0;$e<TEXT_PROPS_WITH_GLOBAL.length;$e++){var xe=TEXT_PROPS_WITH_GLOBAL[$e],Oe=retrieve2(n.getShallow(xe),r[xe]);Oe!=null&&(g[xe]=Oe)}for(var $e=0;$e<TEXT_PROPS_SELF.length;$e++){var xe=TEXT_PROPS_SELF[$e],Oe=n.getShallow(xe);Oe!=null&&(g[xe]=Oe)}if(g.verticalAlign==null){var Ce=n.getShallow("baseline");Ce!=null&&(g.verticalAlign=Ce)}if(!oe||!$.disableBox){for(var $e=0;$e<TEXT_PROPS_BOX.length;$e++){var xe=TEXT_PROPS_BOX[$e],Oe=n.getShallow(xe);Oe!=null&&(g[xe]=Oe)}var Ie=n.getShallow("borderType");Ie!=null&&(g.borderDash=Ie),(g.backgroundColor==="auto"||g.backgroundColor==="inherit")&&re&&(g.backgroundColor=re),(g.borderColor==="auto"||g.borderColor==="inherit")&&re&&(g.borderColor=re)}}function getFont(g,n){var r=n&&n.getModel("textStyle");return trim$2([g.fontStyle||r&&r.getShallow("fontStyle")||"",g.fontWeight||r&&r.getShallow("fontWeight")||"",(g.fontSize||r&&r.getShallow("fontSize")||12)+"px",g.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation(g,n,r,$){if(g){var L=labelInner(g);L.prevValue=L.value,L.value=r;var V=n.normal;L.valueAnimation=V.get("valueAnimation"),L.valueAnimation&&(L.precision=V.get("precision"),L.defaultInterpolatedText=$,L.statesModels=n)}}function animateLabelValue(g,n,r,$,L){var V=labelInner(g);if(!V.valueAnimation||V.prevValue===V.value)return;var oe=V.defaultInterpolatedText,ae=retrieve2(V.interpolatedValue,V.prevValue),re=V.value;function le(ue){var de=interpolateRawValues(r,V.precision,ae,re,ue);V.interpolatedValue=ue===1?null:de;var he=getLabelText({labelDataIndex:n,labelFetcher:L,defaultText:oe?oe(de):de+""},V.statesModels,de);setLabelText(g,he)}g.percent=0,(V.prevValue==null?initProps:updateProps$1)(g,{percent:1},$,n,null,le)}var PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText$1,TextStyleMixin=function(){function g(){}return g.prototype.getTextColor=function(n){var r=this.ecModel;return this.getShallow("color")||(!n&&r?r.get(PATH_COLOR):null)},g.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},g.prototype.getTextRect=function(n){for(var r={text:n,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},$=0;$<textStyleParams.length;$++)r[textStyleParams[$]]=this.getShallow(textStyleParams[$]);return tmpText.useStyle(r),tmpText.update(),tmpText.getBoundingRect()},g}();const TextStyleMixin$1=TextStyleMixin;var LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function g(){}return g.prototype.getLineStyle=function(n){return getLineStyle(this,n)},g}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function g(){}return g.prototype.getItemStyle=function(n,r){return getItemStyle(this,n,r)},g}(),Model=function(){function g(n,r,$){this.parentModel=r,this.ecModel=$,this.option=n}return g.prototype.init=function(n,r,$){},g.prototype.mergeOption=function(n,r){merge$1(this.option,n,!0)},g.prototype.get=function(n,r){return n==null?this.option:this._doGet(this.parsePath(n),!r&&this.parentModel)},g.prototype.getShallow=function(n,r){var $=this.option,L=$==null?$:$[n];if(L==null&&!r){var V=this.parentModel;V&&(L=V.getShallow(n))}return L},g.prototype.getModel=function(n,r){var $=n!=null,L=$?this.parsePath(n):null,V=$?this._doGet(L):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(L)),new g(V,r,this.ecModel)},g.prototype.isEmpty=function(){return this.option==null},g.prototype.restoreData=function(){},g.prototype.clone=function(){var n=this.constructor;return new n(clone$4(this.option))},g.prototype.parsePath=function(n){return typeof n=="string"?n.split("."):n},g.prototype.resolveParentPath=function(n){return n},g.prototype.isAnimationEnabled=function(){if(!env$1.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},g.prototype._doGet=function(n,r){var $=this.option;if(!n)return $;for(var L=0;L<n.length&&!(!!n[L]&&($=$&&typeof $=="object"?$[n[L]]:null,$==null));L++);return $==null&&r&&($=r._doGet(this.resolveParentPath(n),r.parentModel)),$},g}();enableClassExtend(Model),enableClassCheck(Model),mixin(Model,LineStyleMixin),mixin(Model,ItemStyleMixin),mixin(Model,AreaStyleMixin),mixin(Model,TextStyleMixin$1);const Model$1=Model;var base=Math.round(Math.random()*10);function getUID(g){return[g||"",base++].join("_")}function enableSubTypeDefaulter(g){var n={};g.registerSubTypeDefaulter=function(r,$){var L=parseClassType(r);n[L.main]=$},g.determineSubType=function(r,$){var L=$.type;if(!L){var V=parseClassType(r).main;g.hasSubTypes(r)&&n[V]&&(L=n[V]($))}return L}}function enableTopologicalTravel(g,n){g.topologicalTravel=function(V,oe,ae,re){if(!V.length)return;var le=r(oe),ue=le.graph,de=le.noEntryList,he={};for(each$f(V,function(Ce){he[Ce]=!0});de.length;){var pe=de.pop(),_e=ue[pe],$e=!!he[pe];$e&&(ae.call(re,pe,_e.originalDeps.slice()),delete he[pe]),each$f(_e.successor,$e?Oe:xe)}each$f(he,function(){var Ce="";throw new Error(Ce)});function xe(Ce){ue[Ce].entryCount--,ue[Ce].entryCount===0&&de.push(Ce)}function Oe(Ce){he[Ce]=!0,xe(Ce)}};function r(V){var oe={},ae=[];return each$f(V,function(re){var le=$(oe,re),ue=le.originalDeps=n(re),de=L(ue,V);le.entryCount=de.length,le.entryCount===0&&ae.push(re),each$f(de,function(he){indexOf(le.predecessor,he)<0&&le.predecessor.push(he);var pe=$(oe,he);indexOf(pe.successor,he)<0&&pe.successor.push(re)})}),{graph:oe,noEntryList:ae}}function $(V,oe){return V[oe]||(V[oe]={predecessor:[],successor:[]}),V[oe]}function L(V,oe){var ae=[];return each$f(V,function(re){indexOf(oe,re)>=0&&ae.push(re)}),ae}}function inheritDefaultOption(g,n){return merge$1(merge$1({},g,!0),n,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env$1.domSupported?function(){var g=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return g.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(g,n){g=g.toUpperCase(),localeModels[g]=new Model$1(n),localeStorage[g]=n}function createLocaleObject(g){if(isString$1(g)){var n=localeStorage[g.toUpperCase()]||{};return g===LOCALE_ZH||g===LOCALE_EN?clone$4(n):merge$1(clone$4(n),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}else return merge$1(clone$4(g),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(g){return localeModels[g]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN),registerLocale(LOCALE_ZH,langZH);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(g,n){return g+="","0000".substr(0,n-g.length)+g}function getPrimaryTimeUnit(g){switch(g){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return g}}function isPrimaryTimeUnit(g){return g===getPrimaryTimeUnit(g)}function getDefaultFormatPrecisionOfInterval(g){switch(g){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format(g,n,r,$){var L=parseDate(g),V=L[fullYearGetterName(r)](),oe=L[monthGetterName(r)]()+1,ae=Math.floor((oe-1)/3)+1,re=L[dateGetterName(r)](),le=L["get"+(r?"UTC":"")+"Day"](),ue=L[hoursGetterName(r)](),de=(ue-1)%12+1,he=L[minutesGetterName(r)](),pe=L[secondsGetterName(r)](),_e=L[millisecondsGetterName(r)](),$e=$ instanceof Model$1?$:getLocaleModel($||SYSTEM_LANG)||getDefaultLocaleModel(),xe=$e.getModel("time"),Oe=xe.get("month"),Ce=xe.get("monthAbbr"),Ie=xe.get("dayOfWeek"),Ne=xe.get("dayOfWeekAbbr");return(n||"").replace(/{yyyy}/g,V+"").replace(/{yy}/g,V%100+"").replace(/{Q}/g,ae+"").replace(/{MMMM}/g,Oe[oe-1]).replace(/{MMM}/g,Ce[oe-1]).replace(/{MM}/g,pad(oe,2)).replace(/{M}/g,oe+"").replace(/{dd}/g,pad(re,2)).replace(/{d}/g,re+"").replace(/{eeee}/g,Ie[le]).replace(/{ee}/g,Ne[le]).replace(/{e}/g,le+"").replace(/{HH}/g,pad(ue,2)).replace(/{H}/g,ue+"").replace(/{hh}/g,pad(de+"",2)).replace(/{h}/g,de+"").replace(/{mm}/g,pad(he,2)).replace(/{m}/g,he+"").replace(/{ss}/g,pad(pe,2)).replace(/{s}/g,pe+"").replace(/{SSS}/g,pad(_e,3)).replace(/{S}/g,_e+"")}function leveledFormat(g,n,r,$,L){var V=null;if(isString$1(r))V=r;else if(isFunction$1(r))V=r(g.value,n,{level:g.level});else{var oe=extend$1({},defaultLeveledFormatter);if(g.level>0)for(var ae=0;ae<primaryTimeUnits.length;++ae)oe[primaryTimeUnits[ae]]="{primary|"+oe[primaryTimeUnits[ae]]+"}";var re=r?r.inherit===!1?r:defaults$2(r,oe):oe,le=getUnitFromValue(g.value,L);if(re[le])V=re[le];else if(re.inherit){for(var ue=timeUnits.indexOf(le),ae=ue-1;ae>=0;--ae)if(re[le]){V=re[le];break}V=V||oe.none}if(isArray$2(V)){var de=g.level==null?0:g.level>=0?g.level:V.length+g.level;de=Math.min(de,V.length-1),V=V[de]}}return format(new Date(g.value),V,L,$)}function getUnitFromValue(g,n){var r=parseDate(g),$=r[monthGetterName(n)]()+1,L=r[dateGetterName(n)](),V=r[hoursGetterName(n)](),oe=r[minutesGetterName(n)](),ae=r[secondsGetterName(n)](),re=r[millisecondsGetterName(n)](),le=re===0,ue=le&&ae===0,de=ue&&oe===0,he=de&&V===0,pe=he&&L===1,_e=pe&&$===1;return _e?"year":pe?"month":he?"day":de?"hour":ue?"minute":le?"second":"millisecond"}function getUnitValue(g,n,r){var $=isNumber$1(g)?parseDate(g):g;switch(n=n||getUnitFromValue(g,r),n){case"year":return $[fullYearGetterName(r)]();case"half-year":return $[monthGetterName(r)]()>=6?1:0;case"quarter":return Math.floor(($[monthGetterName(r)]()+1)/4);case"month":return $[monthGetterName(r)]();case"day":return $[dateGetterName(r)]();case"half-day":return $[hoursGetterName(r)]()/24;case"hour":return $[hoursGetterName(r)]();case"minute":return $[minutesGetterName(r)]();case"second":return $[secondsGetterName(r)]();case"millisecond":return $[millisecondsGetterName(r)]()}}function fullYearGetterName(g){return g?"getUTCFullYear":"getFullYear"}function monthGetterName(g){return g?"getUTCMonth":"getMonth"}function dateGetterName(g){return g?"getUTCDate":"getDate"}function hoursGetterName(g){return g?"getUTCHours":"getHours"}function minutesGetterName(g){return g?"getUTCMinutes":"getMinutes"}function secondsGetterName(g){return g?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(g){return g?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(g){return g?"setUTCFullYear":"setFullYear"}function monthSetterName(g){return g?"setUTCMonth":"setMonth"}function dateSetterName(g){return g?"setUTCDate":"setDate"}function hoursSetterName(g){return g?"setUTCHours":"setHours"}function minutesSetterName(g){return g?"setUTCMinutes":"setMinutes"}function secondsSetterName(g){return g?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(g){return g?"setUTCMilliseconds":"setMilliseconds"}function addCommas(g){if(!isNumeric(g))return isString$1(g)?g:"-";var n=(g+"").split(".");return n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:"")}function toCamelCase$1(g,n){return g=(g||"").toLowerCase().replace(/-(.)/g,function(r,$){return $.toUpperCase()}),n&&g&&(g=g.charAt(0).toUpperCase()+g.slice(1)),g}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(g,n,r){var $="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function L(ue){return ue&&trim$2(ue)?ue:"-"}function V(ue){return!!(ue!=null&&!isNaN(ue)&&isFinite(ue))}var oe=n==="time",ae=g instanceof Date;if(oe||ae){var re=oe?parseDate(g):g;if(isNaN(+re)){if(ae)return"-"}else return format(re,$,r)}if(n==="ordinal")return isStringSafe(g)?L(g):isNumber$1(g)&&V(g)?g+"":"-";var le=numericToNumber(g);return V(le)?addCommas(le):isStringSafe(g)?L(g):typeof g=="boolean"?g+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(g,n){return"{"+g+(n!=null?n:"")+"}"};function formatTpl(g,n,r){isArray$2(n)||(n=[n]);var $=n.length;if(!$)return"";for(var L=n[0].$vars||[],V=0;V<L.length;V++){var oe=TPL_VAR_ALIAS[V];g=g.replace(wrapVar(oe),wrapVar(oe,0))}for(var ae=0;ae<$;ae++)for(var re=0;re<L.length;re++){var le=n[ae][L[re]];g=g.replace(wrapVar(TPL_VAR_ALIAS[re],ae),r?encodeHTML(le):le)}return g}function formatTplSimple(g,n,r){return each$f(n,function($,L){g=g.replace("{"+L+"}",r?encodeHTML($):$)}),g}function getTooltipMarker(g,n){var r=isString$1(g)?{color:g,extraCssText:n}:g||{},$=r.color,L=r.type;n=r.extraCssText;var V=r.renderMode||"html";if(!$)return"";if(V==="html")return L==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML($)+";"+(n||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML($)+";"+(n||"")+'"></span>';var oe=r.markerId||"markerX";return{renderMode:V,content:"{"+oe+"|}  ",style:L==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:$}:{width:10,height:10,borderRadius:5,backgroundColor:$}}}function convertToColorString(g,n){return n=n||"transparent",isString$1(g)?g:isObject$4(g)&&g.colorStops&&(g.colorStops[0]||{}).color||n}function windowOpen(g,n){if(n==="_blank"||n==="blank"){var r=window.open();r.opener=null,r.location.href=g}else window.open(g,n)}var each$e=each$f,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(g,n,r,$,L){var V=0,oe=0;$==null&&($=1/0),L==null&&(L=1/0);var ae=0;n.eachChild(function(re,le){var ue=re.getBoundingRect(),de=n.childAt(le+1),he=de&&de.getBoundingRect(),pe,_e;if(g==="horizontal"){var $e=ue.width+(he?-he.x+ue.x:0);pe=V+$e,pe>$||re.newline?(V=0,pe=$e,oe+=ae+r,ae=ue.height):ae=Math.max(ae,ue.height)}else{var xe=ue.height+(he?-he.y+ue.y:0);_e=oe+xe,_e>L||re.newline?(V+=ae+r,oe=0,_e=xe,ae=ue.width):ae=Math.max(ae,ue.width)}re.newline||(re.x=V,re.y=oe,re.markRedraw(),g==="horizontal"?V=pe+r:oe=_e+r)})}var box=boxLayout;curry$1(boxLayout,"vertical"),curry$1(boxLayout,"horizontal");function getAvailableSize(g,n,r){var $=n.width,L=n.height,V=parsePercent(g.left,$),oe=parsePercent(g.top,L),ae=parsePercent(g.right,$),re=parsePercent(g.bottom,L);return(isNaN(V)||isNaN(parseFloat(g.left)))&&(V=0),(isNaN(ae)||isNaN(parseFloat(g.right)))&&(ae=$),(isNaN(oe)||isNaN(parseFloat(g.top)))&&(oe=0),(isNaN(re)||isNaN(parseFloat(g.bottom)))&&(re=L),r=normalizeCssArray(r||0),{width:Math.max(ae-V-r[1]-r[3],0),height:Math.max(re-oe-r[0]-r[2],0)}}function getLayoutRect(g,n,r){r=normalizeCssArray(r||0);var $=n.width,L=n.height,V=parsePercent(g.left,$),oe=parsePercent(g.top,L),ae=parsePercent(g.right,$),re=parsePercent(g.bottom,L),le=parsePercent(g.width,$),ue=parsePercent(g.height,L),de=r[2]+r[0],he=r[1]+r[3],pe=g.aspect;switch(isNaN(le)&&(le=$-ae-he-V),isNaN(ue)&&(ue=L-re-de-oe),pe!=null&&(isNaN(le)&&isNaN(ue)&&(pe>$/L?le=$*.8:ue=L*.8),isNaN(le)&&(le=pe*ue),isNaN(ue)&&(ue=le/pe)),isNaN(V)&&(V=$-ae-le-he),isNaN(oe)&&(oe=L-re-ue-de),g.left||g.right){case"center":V=$/2-le/2-r[3];break;case"right":V=$-le-he;break}switch(g.top||g.bottom){case"middle":case"center":oe=L/2-ue/2-r[0];break;case"bottom":oe=L-ue-de;break}V=V||0,oe=oe||0,isNaN(le)&&(le=$-he-V-(ae||0)),isNaN(ue)&&(ue=L-de-oe-(re||0));var _e=new BoundingRect$1(V+r[3],oe+r[0],le,ue);return _e.margin=r,_e}function positionElement(g,n,r,$,L,V){var oe=!L||!L.hv||L.hv[0],ae=!L||!L.hv||L.hv[1],re=L&&L.boundingMode||"all";if(V=V||g,V.x=g.x,V.y=g.y,!oe&&!ae)return!1;var le;if(re==="raw")le=g.type==="group"?new BoundingRect$1(0,0,+n.width||0,+n.height||0):g.getBoundingRect();else if(le=g.getBoundingRect(),g.needLocalTransform()){var ue=g.getLocalTransform();le=le.clone(),le.applyTransform(ue)}var de=getLayoutRect(defaults$2({width:le.width,height:le.height},n),r,$),he=oe?de.x-le.x:0,pe=ae?de.y-le.y:0;return re==="raw"?(V.x=he,V.y=pe):(V.x+=he,V.y+=pe),V===g&&g.markRedraw(),!0}function sizeCalculable(g,n){return g[HV_NAMES[n][0]]!=null||g[HV_NAMES[n][1]]!=null&&g[HV_NAMES[n][2]]!=null}function fetchLayoutMode(g){var n=g.layoutMode||g.constructor.layoutMode;return isObject$4(n)?n:n?{type:n}:null}function mergeLayoutParam(g,n,r){var $=r&&r.ignoreSize;!isArray$2($)&&($=[$,$]);var L=oe(HV_NAMES[0],0),V=oe(HV_NAMES[1],1);le(HV_NAMES[0],g,L),le(HV_NAMES[1],g,V);function oe(ue,de){var he={},pe=0,_e={},$e=0,xe=2;if(each$e(ue,function(Ie){_e[Ie]=g[Ie]}),each$e(ue,function(Ie){ae(n,Ie)&&(he[Ie]=_e[Ie]=n[Ie]),re(he,Ie)&&pe++,re(_e,Ie)&&$e++}),$[de])return re(n,ue[1])?_e[ue[2]]=null:re(n,ue[2])&&(_e[ue[1]]=null),_e;if($e===xe||!pe)return _e;if(pe>=xe)return he;for(var Oe=0;Oe<ue.length;Oe++){var Ce=ue[Oe];if(!ae(he,Ce)&&ae(g,Ce)){he[Ce]=g[Ce];break}}return he}function ae(ue,de){return ue.hasOwnProperty(de)}function re(ue,de){return ue[de]!=null&&ue[de]!=="auto"}function le(ue,de,he){each$e(ue,function(pe){de[pe]=he[pe]})}}function getLayoutParams(g){return copyLayoutParams({},g)}function copyLayoutParams(g,n){return n&&g&&each$e(LOCATION_PARAMS,function(r){n.hasOwnProperty(r)&&(g[r]=n[r])}),g}var inner$l=makeInner(),ComponentModel=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this,r,$,L)||this;return V.uid=getUID("ec_cpt_model"),V}return n.prototype.init=function(r,$,L){this.mergeDefaultAndTheme(r,L)},n.prototype.mergeDefaultAndTheme=function(r,$){var L=fetchLayoutMode(this),V=L?getLayoutParams(r):{},oe=$.getTheme();merge$1(r,oe.get(this.mainType)),merge$1(r,this.getDefaultOption()),L&&mergeLayoutParam(r,V,L)},n.prototype.mergeOption=function(r,$){merge$1(this.option,r,!0);var L=fetchLayoutMode(this);L&&mergeLayoutParam(this.option,r,L)},n.prototype.optionUpdated=function(r,$){},n.prototype.getDefaultOption=function(){var r=this.constructor;if(!isExtendedClass(r))return r.defaultOption;var $=inner$l(this);if(!$.defaultOption){for(var L=[],V=r;V;){var oe=V.prototype.defaultOption;oe&&L.push(oe),V=V.superClass}for(var ae={},re=L.length-1;re>=0;re--)ae=merge$1(ae,L[re],!0);$.defaultOption=ae}return $.defaultOption},n.prototype.getReferringComponents=function(r,$){var L=r+"Index",V=r+"Id";return queryReferringComponents(this.ecModel,r,{index:this.get(L,!0),id:this.get(V,!0)},$)},n.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},n.prototype.getZLevelKey=function(){return""},n.prototype.setZLevel=function(r){this.option.zlevel=r},n.protoInitialize=function(){var r=n.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),n}(Model$1);mountExtend(ComponentModel,Model$1),enableClassManagement(ComponentModel),enableSubTypeDefaulter(ComponentModel),enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(g){var n=[];return each$f(ComponentModel.getClassesByMainType(g),function(r){n=n.concat(r.dependencies||r.prototype.dependencies||[])}),n=map$1(n,function(r){return parseClassType(r).main}),g!=="dataset"&&indexOf(n,"dataset")<=0&&n.unshift("dataset"),n}const ComponentModel$1=ComponentModel;var platform$1="";typeof navigator<"u"&&(platform$1=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform$1.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(g){innerGlobalModel(g).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(g,n,r){var $={},L=querySeriesUpstreamDatasetModel(n);if(!L||!g)return $;var V=[],oe=[],ae=n.ecModel,re=innerGlobalModel(ae).datasetMap,le=L.uid+"_"+r.seriesLayoutBy,ue,de;g=g.slice(),each$f(g,function($e,xe){var Oe=isObject$4($e)?$e:g[xe]={name:$e};Oe.type==="ordinal"&&ue==null&&(ue=xe,de=_e(Oe)),$[Oe.name]=[]});var he=re.get(le)||re.set(le,{categoryWayDim:de,valueWayDim:0});each$f(g,function($e,xe){var Oe=$e.name,Ce=_e($e);if(ue==null){var Ie=he.valueWayDim;pe($[Oe],Ie,Ce),pe(oe,Ie,Ce),he.valueWayDim+=Ce}else if(ue===xe)pe($[Oe],0,Ce),pe(V,0,Ce);else{var Ie=he.categoryWayDim;pe($[Oe],Ie,Ce),pe(oe,Ie,Ce),he.categoryWayDim+=Ce}});function pe($e,xe,Oe){for(var Ce=0;Ce<Oe;Ce++)$e.push(xe+Ce)}function _e($e){var xe=$e.dimsDef;return xe?xe.length:1}return V.length&&($.itemName=V),oe.length&&($.seriesName=oe),$}function makeSeriesEncodeForNameBased(g,n,r){var $={},L=querySeriesUpstreamDatasetModel(g);if(!L)return $;var V=n.sourceFormat,oe=n.dimensionsDefine,ae;(V===SOURCE_FORMAT_OBJECT_ROWS||V===SOURCE_FORMAT_KEYED_COLUMNS)&&each$f(oe,function(ue,de){(isObject$4(ue)?ue.name:ue)==="name"&&(ae=de)});var re=function(){for(var ue={},de={},he=[],pe=0,_e=Math.min(5,r);pe<_e;pe++){var $e=doGuessOrdinal(n.data,V,n.seriesLayoutBy,oe,n.startIndex,pe);he.push($e);var xe=$e===BE_ORDINAL.Not;if(xe&&ue.v==null&&pe!==ae&&(ue.v=pe),(ue.n==null||ue.n===ue.v||!xe&&he[ue.n]===BE_ORDINAL.Not)&&(ue.n=pe),Oe(ue)&&he[ue.n]!==BE_ORDINAL.Not)return ue;xe||($e===BE_ORDINAL.Might&&de.v==null&&pe!==ae&&(de.v=pe),(de.n==null||de.n===de.v)&&(de.n=pe))}function Oe(Ce){return Ce.v!=null&&Ce.n!=null}return Oe(ue)?ue:Oe(de)?de:null}();if(re){$.value=[re.v];var le=ae!=null?ae:re.n;$.itemName=[le],$.seriesName=[le]}return $}function querySeriesUpstreamDatasetModel(g){var n=g.get("data",!0);if(!n)return queryReferringComponents(g.ecModel,"dataset",{index:g.get("datasetIndex",!0),id:g.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(g){return!g.get("transform",!0)&&!g.get("fromTransformResult",!0)?[]:queryReferringComponents(g.ecModel,"dataset",{index:g.get("fromDatasetIndex",!0),id:g.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(g,n){return doGuessOrdinal(g.data,g.sourceFormat,g.seriesLayoutBy,g.dimensionsDefine,g.startIndex,n)}function doGuessOrdinal(g,n,r,$,L,V){var oe,ae=5;if(isTypedArray$1(g))return BE_ORDINAL.Not;var re,le;if($){var ue=$[V];isObject$4(ue)?(re=ue.name,le=ue.type):isString$1(ue)&&(re=ue)}if(le!=null)return le==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(n===SOURCE_FORMAT_ARRAY_ROWS){var de=g;if(r===SERIES_LAYOUT_BY_ROW){for(var he=de[V],pe=0;pe<(he||[]).length&&pe<ae;pe++)if((oe=Ne(he[L+pe]))!=null)return oe}else for(var pe=0;pe<de.length&&pe<ae;pe++){var _e=de[L+pe];if(_e&&(oe=Ne(_e[V]))!=null)return oe}}else if(n===SOURCE_FORMAT_OBJECT_ROWS){var $e=g;if(!re)return BE_ORDINAL.Not;for(var pe=0;pe<$e.length&&pe<ae;pe++){var xe=$e[pe];if(xe&&(oe=Ne(xe[re]))!=null)return oe}}else if(n===SOURCE_FORMAT_KEYED_COLUMNS){var Oe=g;if(!re)return BE_ORDINAL.Not;var he=Oe[re];if(!he||isTypedArray$1(he))return BE_ORDINAL.Not;for(var pe=0;pe<he.length&&pe<ae;pe++)if((oe=Ne(he[pe]))!=null)return oe}else if(n===SOURCE_FORMAT_ORIGINAL)for(var Ce=g,pe=0;pe<Ce.length&&pe<ae;pe++){var xe=Ce[pe],Ie=getDataItemValue(xe);if(!isArray$2(Ie))return BE_ORDINAL.Not;if((oe=Ne(Ie[V]))!=null)return oe}function Ne(ze){var Fe=isString$1(ze);if(ze!=null&&isFinite(ze)&&ze!=="")return Fe?BE_ORDINAL.Might:BE_ORDINAL.Not;if(Fe&&ze!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function registerInternalOptionCreator(g,n){assert(internalOptionCreatorMap.get(g)==null&&n),internalOptionCreatorMap.set(g,n)}function concatInternalOptions(g,n,r){var $=internalOptionCreatorMap.get(n);if(!$)return r;var L=$(g);return L?r.concat(L):r}var innerColor=makeInner(),innerDecal=makeInner(),PaletteMixin=function(){function g(){}return g.prototype.getColorFromPalette=function(n,r,$){var L=normalizeToArray(this.get("color",!0)),V=this.get("colorLayer",!0);return getFromPalette(this,innerColor,L,V,n,r,$)},g.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},g}();function getDecalFromPalette(g,n,r,$){var L=normalizeToArray(g.get(["aria","decal","decals"]));return getFromPalette(g,innerDecal,L,null,n,r,$)}function getNearestPalette(g,n){for(var r=g.length,$=0;$<r;$++)if(g[$].length>n)return g[$];return g[r-1]}function getFromPalette(g,n,r,$,L,V,oe){V=V||g;var ae=n(V),re=ae.paletteIdx||0,le=ae.paletteNameMap=ae.paletteNameMap||{};if(le.hasOwnProperty(L))return le[L];var ue=oe==null||!$?r:getNearestPalette($,oe);if(ue=ue||r,!(!ue||!ue.length)){var de=ue[re];return L&&(le[L]=de),ae.paletteIdx=(re+1)%ue.length,de}}function clearPalette(g,n){n(g).paletteIdx=0,n(g).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,GlobalModel=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.init=function(r,$,L,V,oe,ae){V=V||{},this.option=null,this._theme=new Model$1(V),this._locale=new Model$1(oe),this._optionManager=ae},n.prototype.setOption=function(r,$,L){var V=normalizeSetOptionInput($);this._optionManager.setOption(r,L,V),this._resetOption(null,V)},n.prototype.resetOption=function(r,$){return this._resetOption(r,normalizeSetOptionInput($))},n.prototype._resetOption=function(r,$){var L=!1,V=this._optionManager;if(!r||r==="recreate"){var oe=V.mountOption(r==="recreate");!this.option||r==="recreate"?initBase(this,oe):(this.restoreData(),this._mergeOption(oe,$)),L=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var ae=V.getTimelineOption(this);ae&&(L=!0,this._mergeOption(ae,$))}if(!r||r==="recreate"||r==="media"){var re=V.getMediaOption(this);re.length&&each$f(re,function(le){L=!0,this._mergeOption(le,$)},this)}return L},n.prototype.mergeOption=function(r){this._mergeOption(r,null)},n.prototype._mergeOption=function(r,$){var L=this.option,V=this._componentsMap,oe=this._componentsCount,ae=[],re=createHashMap(),le=$&&$.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$f(r,function(de,he){de!=null&&(ComponentModel$1.hasClass(he)?he&&(ae.push(he),re.set(he,!0)):L[he]=L[he]==null?clone$4(de):merge$1(L[he],de,!0))}),le&&le.each(function(de,he){ComponentModel$1.hasClass(he)&&!re.get(he)&&(ae.push(he),re.set(he,!0))}),ComponentModel$1.topologicalTravel(ae,ComponentModel$1.getAllClassMainTypes(),ue,this);function ue(de){var he=concatInternalOptions(this,de,normalizeToArray(r[de])),pe=V.get(de),_e=pe?le&&le.get(de)?"replaceMerge":"normalMerge":"replaceAll",$e=mappingToExists(pe,he,_e);setComponentTypeToKeyInfo($e,de,ComponentModel$1),L[de]=null,V.set(de,null),oe.set(de,0);var xe=[],Oe=[],Ce=0,Ie;each$f($e,function(Ne,ze){var Fe=Ne.existing,Ue=Ne.newOption;if(!Ue)Fe&&(Fe.mergeOption({},this),Fe.optionUpdated({},!1));else{var At=de==="series",Et=ComponentModel$1.getClass(de,Ne.keyInfo.subType,!At);if(!Et)return;if(de==="tooltip"){if(Ie)return;Ie=!0}if(Fe&&Fe.constructor===Et)Fe.name=Ne.keyInfo.name,Fe.mergeOption(Ue,this),Fe.optionUpdated(Ue,!1);else{var Pt=extend$1({componentIndex:ze},Ne.keyInfo);Fe=new Et(Ue,this,this,Pt),extend$1(Fe,Pt),Ne.brandNew&&(Fe.__requireNewView=!0),Fe.init(Ue,this,this),Fe.optionUpdated(null,!0)}}Fe?(xe.push(Fe.option),Oe.push(Fe),Ce++):(xe.push(void 0),Oe.push(void 0))},this),L[de]=xe,V.set(de,Oe),oe.set(de,Ce),de==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},n.prototype.getOption=function(){var r=clone$4(this.option);return each$f(r,function($,L){if(ComponentModel$1.hasClass(L)){for(var V=normalizeToArray($),oe=V.length,ae=!1,re=oe-1;re>=0;re--)V[re]&&!isComponentIdInternal(V[re])?ae=!0:(V[re]=null,!ae&&oe--);V.length=oe,r[L]=V}}),delete r[OPTION_INNER_KEY],r},n.prototype.getTheme=function(){return this._theme},n.prototype.getLocaleModel=function(){return this._locale},n.prototype.setUpdatePayload=function(r){this._payload=r},n.prototype.getUpdatePayload=function(){return this._payload},n.prototype.getComponent=function(r,$){var L=this._componentsMap.get(r);if(L){var V=L[$||0];if(V)return V;if($==null){for(var oe=0;oe<L.length;oe++)if(L[oe])return L[oe]}}},n.prototype.queryComponents=function(r){var $=r.mainType;if(!$)return[];var L=r.index,V=r.id,oe=r.name,ae=this._componentsMap.get($);if(!ae||!ae.length)return[];var re;return L!=null?(re=[],each$f(normalizeToArray(L),function(le){ae[le]&&re.push(ae[le])})):V!=null?re=queryByIdOrName("id",V,ae):oe!=null?re=queryByIdOrName("name",oe,ae):re=filter(ae,function(le){return!!le}),filterBySubType(re,r)},n.prototype.findComponents=function(r){var $=r.query,L=r.mainType,V=ae($),oe=V?this.queryComponents(V):filter(this._componentsMap.get(L),function(le){return!!le});return re(filterBySubType(oe,r));function ae(le){var ue=L+"Index",de=L+"Id",he=L+"Name";return le&&(le[ue]!=null||le[de]!=null||le[he]!=null)?{mainType:L,index:le[ue],id:le[de],name:le[he]}:null}function re(le){return r.filter?filter(le,r.filter):le}},n.prototype.eachComponent=function(r,$,L){var V=this._componentsMap;if(isFunction$1(r)){var oe=$,ae=r;V.each(function(de,he){for(var pe=0;de&&pe<de.length;pe++){var _e=de[pe];_e&&ae.call(oe,he,_e,_e.componentIndex)}})}else for(var re=isString$1(r)?V.get(r):isObject$4(r)?this.findComponents(r):null,le=0;re&&le<re.length;le++){var ue=re[le];ue&&$.call(L,ue,ue.componentIndex)}},n.prototype.getSeriesByName=function(r){var $=convertOptionIdName(r,null);return filter(this._componentsMap.get("series"),function(L){return!!L&&$!=null&&L.name===$})},n.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},n.prototype.getSeriesByType=function(r){return filter(this._componentsMap.get("series"),function($){return!!$&&$.subType===r})},n.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(r){return!!r})},n.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},n.prototype.eachSeries=function(r,$){assertSeriesInitialized(this),each$f(this._seriesIndices,function(L){var V=this._componentsMap.get("series")[L];r.call($,V,L)},this)},n.prototype.eachRawSeries=function(r,$){each$f(this._componentsMap.get("series"),function(L){L&&r.call($,L,L.componentIndex)})},n.prototype.eachSeriesByType=function(r,$,L){assertSeriesInitialized(this),each$f(this._seriesIndices,function(V){var oe=this._componentsMap.get("series")[V];oe.subType===r&&$.call(L,oe,V)},this)},n.prototype.eachRawSeriesByType=function(r,$,L){return each$f(this.getSeriesByType(r),$,L)},n.prototype.isSeriesFiltered=function(r){return assertSeriesInitialized(this),this._seriesIndicesMap.get(r.componentIndex)==null},n.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},n.prototype.filterSeries=function(r,$){assertSeriesInitialized(this);var L=[];each$f(this._seriesIndices,function(V){var oe=this._componentsMap.get("series")[V];r.call($,oe,V)&&L.push(V)},this),this._seriesIndices=L,this._seriesIndicesMap=createHashMap(L)},n.prototype.restoreData=function(r){reCreateSeriesIndices(this);var $=this._componentsMap,L=[];$.each(function(V,oe){ComponentModel$1.hasClass(oe)&&L.push(oe)}),ComponentModel$1.topologicalTravel(L,ComponentModel$1.getAllClassMainTypes(),function(V){each$f($.get(V),function(oe){oe&&(V!=="series"||!isNotTargetSeries(oe,r))&&oe.restoreData()})})},n.internalField=function(){reCreateSeriesIndices=function(r){var $=r._seriesIndices=[];each$f(r._componentsMap.get("series"),function(L){L&&$.push(L.componentIndex)}),r._seriesIndicesMap=createHashMap($)},assertSeriesInitialized=function(r){},initBase=function(r,$){r.option={},r.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,r._componentsMap=createHashMap({series:[]}),r._componentsCount=createHashMap();var L=$.aria;isObject$4(L)&&L.enabled==null&&(L.enabled=!0),mergeTheme($,r._theme.option),merge$1($,globalDefault,!1),r._mergeOption($,null)}}(),n}(Model$1);function isNotTargetSeries(g,n){if(n){var r=n.seriesIndex,$=n.seriesId,L=n.seriesName;return r!=null&&g.componentIndex!==r||$!=null&&g.id!==$||L!=null&&g.name!==L}}function mergeTheme(g,n){var r=g.color&&!g.colorLayer;each$f(n,function($,L){L==="colorLayer"&&r||ComponentModel$1.hasClass(L)||(typeof $=="object"?g[L]=g[L]?merge$1(g[L],$,!1):clone$4($):g[L]==null&&(g[L]=$))})}function queryByIdOrName(g,n,r){if(isArray$2(n)){var $=createHashMap();return each$f(n,function(V){if(V!=null){var oe=convertOptionIdName(V,null);oe!=null&&$.set(V,!0)}}),filter(r,function(V){return V&&$.get(V[g])})}else{var L=convertOptionIdName(n,null);return filter(r,function(V){return V&&L!=null&&V[g]===L})}}function filterBySubType(g,n){return n.hasOwnProperty("subType")?filter(g,function(r){return r&&r.subType===n.subType}):g}function normalizeSetOptionInput(g){var n=createHashMap();return g&&each$f(normalizeToArray(g.replaceMerge),function(r){n.set(r,!0)}),{replaceMergeMainTypeMap:n}}mixin(GlobalModel,PaletteMixin);const GlobalModel$1=GlobalModel;var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function g(n){each$f(availableMethods,function(r){this[r]=bind$2(n[r],n)},this)}return g}();const ExtensionAPI$1=ExtensionAPI;var coordinateSystemCreators={},CoordinateSystemManager=function(){function g(){this._coordinateSystems=[]}return g.prototype.create=function(n,r){var $=[];each$f(coordinateSystemCreators,function(L,V){var oe=L.create(n,r);$=$.concat(oe||[])}),this._coordinateSystems=$},g.prototype.update=function(n,r){each$f(this._coordinateSystems,function($){$.update&&$.update(n,r)})},g.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},g.register=function(n,r){coordinateSystemCreators[n]=r},g.get=function(n){return coordinateSystemCreators[n]},g}();const CoordinateSystem=CoordinateSystemManager;var QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function g(n){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=n}return g.prototype.setOption=function(n,r,$){n&&(each$f(normalizeToArray(n.series),function(oe){oe&&oe.data&&isTypedArray$1(oe.data)&&setAsPrimitive(oe.data)}),each$f(normalizeToArray(n.dataset),function(oe){oe&&oe.source&&isTypedArray$1(oe.source)&&setAsPrimitive(oe.source)})),n=clone$4(n);var L=this._optionBackup,V=parseRawOption(n,r,!L);this._newBaseOption=V.baseOption,L?(V.timelineOptions.length&&(L.timelineOptions=V.timelineOptions),V.mediaList.length&&(L.mediaList=V.mediaList),V.mediaDefault&&(L.mediaDefault=V.mediaDefault)):this._optionBackup=V},g.prototype.mountOption=function(n){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],clone$4(n?r.baseOption:this._newBaseOption)},g.prototype.getTimelineOption=function(n){var r,$=this._timelineOptions;if($.length){var L=n.getComponent("timeline");L&&(r=clone$4($[L.getCurrentIndex()]))}return r},g.prototype.getMediaOption=function(n){var r=this._api.getWidth(),$=this._api.getHeight(),L=this._mediaList,V=this._mediaDefault,oe=[],ae=[];if(!L.length&&!V)return ae;for(var re=0,le=L.length;re<le;re++)applyMediaQuery(L[re].query,r,$)&&oe.push(re);return!oe.length&&V&&(oe=[-1]),oe.length&&!indicesEquals(oe,this._currentMediaIndices)&&(ae=map$1(oe,function(ue){return clone$4(ue===-1?V.option:L[ue].option)})),this._currentMediaIndices=oe,ae},g}();function parseRawOption(g,n,r){var $=[],L,V,oe=g.baseOption,ae=g.timeline,re=g.options,le=g.media,ue=!!g.media,de=!!(re||ae||oe&&oe.timeline);oe?(V=oe,V.timeline||(V.timeline=ae)):((de||ue)&&(g.options=g.media=null),V=g),ue&&isArray$2(le)&&each$f(le,function(pe){pe&&pe.option&&(pe.query?$.push(pe):L||(L=pe))}),he(V),each$f(re,function(pe){return he(pe)}),each$f($,function(pe){return he(pe.option)});function he(pe){each$f(n,function(_e){_e(pe,r)})}return{baseOption:V,timelineOptions:re||[],mediaDefault:L,mediaList:$}}function applyMediaQuery(g,n,r){var $={width:n,height:r,aspectratio:n/r},L=!0;return each$f(g,function(V,oe){var ae=oe.match(QUERY_REG);if(!(!ae||!ae[1]||!ae[2])){var re=ae[1],le=ae[2].toLowerCase();compare($[le],V,re)||(L=!1)}}),L}function compare(g,n,r){return r==="min"?g>=n:r==="max"?g<=n:g===n}function indicesEquals(g,n){return g.join(",")===n.join(",")}const OptionManager$1=OptionManager;var each$d=each$f,isObject$3=isObject$4,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(g){var n=g&&g.itemStyle;if(n)for(var r=0,$=POSSIBLE_STYLES.length;r<$;r++){var L=POSSIBLE_STYLES[r],V=n.normal,oe=n.emphasis;V&&V[L]&&(g[L]=g[L]||{},g[L].normal?merge$1(g[L].normal,V[L]):g[L].normal=V[L],V[L]=null),oe&&oe[L]&&(g[L]=g[L]||{},g[L].emphasis?merge$1(g[L].emphasis,oe[L]):g[L].emphasis=oe[L],oe[L]=null)}}function convertNormalEmphasis(g,n,r){if(g&&g[n]&&(g[n].normal||g[n].emphasis)){var $=g[n].normal,L=g[n].emphasis;$&&(r?(g[n].normal=g[n].emphasis=null,defaults$2(g[n],$)):g[n]=$),L&&(g.emphasis=g.emphasis||{},g.emphasis[n]=L,L.focus&&(g.emphasis.focus=L.focus),L.blurScope&&(g.emphasis.blurScope=L.blurScope))}}function removeEC3NormalStatus(g){convertNormalEmphasis(g,"itemStyle"),convertNormalEmphasis(g,"lineStyle"),convertNormalEmphasis(g,"areaStyle"),convertNormalEmphasis(g,"label"),convertNormalEmphasis(g,"labelLine"),convertNormalEmphasis(g,"upperLabel"),convertNormalEmphasis(g,"edgeLabel")}function compatTextStyle(g,n){var r=isObject$3(g)&&g[n],$=isObject$3(r)&&r.textStyle;if($)for(var L=0,V=TEXT_STYLE_OPTIONS.length;L<V;L++){var oe=TEXT_STYLE_OPTIONS[L];$.hasOwnProperty(oe)&&(r[oe]=$[oe])}}function compatEC3CommonStyles(g){g&&(removeEC3NormalStatus(g),compatTextStyle(g,"label"),g.emphasis&&compatTextStyle(g.emphasis,"label"))}function processSeries(g){if(isObject$3(g)){compatEC2ItemStyle(g),removeEC3NormalStatus(g),compatTextStyle(g,"label"),compatTextStyle(g,"upperLabel"),compatTextStyle(g,"edgeLabel"),g.emphasis&&(compatTextStyle(g.emphasis,"label"),compatTextStyle(g.emphasis,"upperLabel"),compatTextStyle(g.emphasis,"edgeLabel"));var n=g.markPoint;n&&(compatEC2ItemStyle(n),compatEC3CommonStyles(n));var r=g.markLine;r&&(compatEC2ItemStyle(r),compatEC3CommonStyles(r));var $=g.markArea;$&&compatEC3CommonStyles($);var L=g.data;if(g.type==="graph"){L=L||g.nodes;var V=g.links||g.edges;if(V&&!isTypedArray$1(V))for(var oe=0;oe<V.length;oe++)compatEC3CommonStyles(V[oe]);each$f(g.categories,function(le){removeEC3NormalStatus(le)})}if(L&&!isTypedArray$1(L))for(var oe=0;oe<L.length;oe++)compatEC3CommonStyles(L[oe]);if(n=g.markPoint,n&&n.data)for(var ae=n.data,oe=0;oe<ae.length;oe++)compatEC3CommonStyles(ae[oe]);if(r=g.markLine,r&&r.data)for(var re=r.data,oe=0;oe<re.length;oe++)isArray$2(re[oe])?(compatEC3CommonStyles(re[oe][0]),compatEC3CommonStyles(re[oe][1])):compatEC3CommonStyles(re[oe]);g.type==="gauge"?(compatTextStyle(g,"axisLabel"),compatTextStyle(g,"title"),compatTextStyle(g,"detail")):g.type==="treemap"?(convertNormalEmphasis(g.breadcrumb,"itemStyle"),each$f(g.levels,function(le){removeEC3NormalStatus(le)})):g.type==="tree"&&removeEC3NormalStatus(g.leaves)}}function toArr(g){return isArray$2(g)?g:g?[g]:[]}function toObj(g){return(isArray$2(g)?g[0]:g)||{}}function globalCompatStyle(g,n){each$d(toArr(g.series),function($){isObject$3($)&&processSeries($)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];n&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$d(r,function($){each$d(toArr(g[$]),function(L){L&&(compatTextStyle(L,"axisLabel"),compatTextStyle(L.axisPointer,"label"))})}),each$d(toArr(g.parallel),function($){var L=$&&$.parallelAxisDefault;compatTextStyle(L,"axisLabel"),compatTextStyle(L&&L.axisPointer,"label")}),each$d(toArr(g.calendar),function($){convertNormalEmphasis($,"itemStyle"),compatTextStyle($,"dayLabel"),compatTextStyle($,"monthLabel"),compatTextStyle($,"yearLabel")}),each$d(toArr(g.radar),function($){compatTextStyle($,"name"),$.name&&$.axisName==null&&($.axisName=$.name,delete $.name),$.nameGap!=null&&$.axisNameGap==null&&($.axisNameGap=$.nameGap,delete $.nameGap)}),each$d(toArr(g.geo),function($){isObject$3($)&&(compatEC3CommonStyles($),each$d(toArr($.regions),function(L){compatEC3CommonStyles(L)}))}),each$d(toArr(g.timeline),function($){compatEC3CommonStyles($),convertNormalEmphasis($,"label"),convertNormalEmphasis($,"itemStyle"),convertNormalEmphasis($,"controlStyle",!0);var L=$.data;isArray$2(L)&&each$f(L,function(V){isObject$4(V)&&(convertNormalEmphasis(V,"label"),convertNormalEmphasis(V,"itemStyle"))})}),each$d(toArr(g.toolbox),function($){convertNormalEmphasis($,"iconStyle"),each$d($.feature,function(L){convertNormalEmphasis(L,"iconStyle")})}),compatTextStyle(toObj(g.axisPointer),"label"),compatTextStyle(toObj(g.tooltip).axisPointer,"label")}function get(g,n){for(var r=n.split(","),$=g,L=0;L<r.length&&($=$&&$[r[L]],$!=null);L++);return $}function set(g,n,r,$){for(var L=n.split(","),V=g,oe,ae=0;ae<L.length-1;ae++)oe=L[ae],V[oe]==null&&(V[oe]={}),V=V[oe];($||V[L[ae]]==null)&&(V[L[ae]]=r)}function compatLayoutProperties(g){g&&each$f(LAYOUT_PROPERTIES,function(n){n[0]in g&&!(n[1]in g)&&(g[n[1]]=g[n[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(g){var n=g&&g.itemStyle;if(n)for(var r=0;r<BAR_ITEM_STYLE_MAP.length;r++){var $=BAR_ITEM_STYLE_MAP[r][1],L=BAR_ITEM_STYLE_MAP[r][0];n[$]!=null&&(n[L]=n[$])}}function compatPieLabel(g){!g||g.alignTo==="edge"&&g.margin!=null&&g.edgeDistance==null&&(g.edgeDistance=g.margin)}function compatSunburstState(g){!g||g.downplay&&!g.blur&&(g.blur=g.downplay)}function compatGraphFocus(g){!g||g.focusNodeAdjacency!=null&&(g.emphasis=g.emphasis||{},g.emphasis.focus==null&&(g.emphasis.focus="adjacency"))}function traverseTree(g,n){if(g)for(var r=0;r<g.length;r++)n(g[r]),g[r]&&traverseTree(g[r].children,n)}function globalBackwardCompat(g,n){globalCompatStyle(g,n),g.series=normalizeToArray(g.series),each$f(g.series,function(r){if(isObject$4(r)){var $=r.type;if($==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if($==="pie"||$==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),compatPieLabel(r.label);var L=r.data;if(L&&!isTypedArray$1(L))for(var V=0;V<L.length;V++)compatPieLabel(L[V]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if($==="gauge"){var oe=get(r,"pointer.color");oe!=null&&set(r,"itemStyle.color",oe)}else if($==="bar"){compatBarItemStyle(r),compatBarItemStyle(r.backgroundStyle),compatBarItemStyle(r.emphasis);var L=r.data;if(L&&!isTypedArray$1(L))for(var V=0;V<L.length;V++)typeof L[V]=="object"&&(compatBarItemStyle(L[V]),compatBarItemStyle(L[V]&&L[V].emphasis))}else if($==="sunburst"){var ae=r.highlightPolicy;ae&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=ae)),compatSunburstState(r),traverseTree(r.data,compatSunburstState)}else $==="graph"||$==="sankey"?compatGraphFocus(r):$==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&defaults$2(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),compatLayoutProperties(r)}}),g.dataRange&&(g.visualMap=g.dataRange),each$f(COMPATITABLE_COMPONENTS,function(r){var $=g[r];$&&(isArray$2($)||($=[$]),each$f($,function(L){compatLayoutProperties(L)}))})}function dataStack(g){var n=createHashMap();g.eachSeries(function(r){var $=r.get("stack");if($){var L=n.get($)||n.set($,[]),V=r.getData(),oe={stackResultDimension:V.getCalculationInfo("stackResultDimension"),stackedOverDimension:V.getCalculationInfo("stackedOverDimension"),stackedDimension:V.getCalculationInfo("stackedDimension"),stackedByDimension:V.getCalculationInfo("stackedByDimension"),isStackedByIndex:V.getCalculationInfo("isStackedByIndex"),data:V,seriesModel:r};if(!oe.stackedDimension||!(oe.isStackedByIndex||oe.stackedByDimension))return;L.length&&V.setCalculationInfo("stackedOnSeries",L[L.length-1].seriesModel),L.push(oe)}}),n.each(calculateStack)}function calculateStack(g){each$f(g,function(n,r){var $=[],L=[NaN,NaN],V=[n.stackResultDimension,n.stackedOverDimension],oe=n.data,ae=n.isStackedByIndex,re=n.seriesModel.get("stackStrategy")||"samesign";oe.modify(V,function(le,ue,de){var he=oe.get(n.stackedDimension,de);if(isNaN(he))return L;var pe,_e;ae?_e=oe.getRawIndex(de):pe=oe.get(n.stackedByDimension,de);for(var $e=NaN,xe=r-1;xe>=0;xe--){var Oe=g[xe];if(ae||(_e=Oe.data.rawIndexOf(Oe.stackedByDimension,pe)),_e>=0){var Ce=Oe.data.getByRawIndex(Oe.stackResultDimension,_e);if(re==="all"||re==="positive"&&Ce>0||re==="negative"&&Ce<0||re==="samesign"&&he>=0&&Ce>0||re==="samesign"&&he<=0&&Ce<0){he=addSafe(he,Ce),$e=Ce;break}}}return $[0]=he,$[1]=$e,$})})}var SourceImpl=function(){function g(n){this.data=n.data||(n.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=n.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=n.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var r=this.dimensionsDefine=n.dimensionsDefine;if(r)for(var $=0;$<r.length;$++){var L=r[$];L.type==null&&guessOrdinal(this,$)===BE_ORDINAL.Must&&(L.type="ordinal")}}return g}();function isSourceInstance(g){return g instanceof SourceImpl}function createSource(g,n,r){r=r||detectSourceFormat(g);var $=n.seriesLayoutBy,L=determineSourceDimensions(g,r,$,n.sourceHeader,n.dimensions),V=new SourceImpl({data:g,sourceFormat:r,seriesLayoutBy:$,dimensionsDefine:L.dimensionsDefine,startIndex:L.startIndex,dimensionsDetectedCount:L.dimensionsDetectedCount,metaRawOption:clone$4(n)});return V}function createSourceFromSeriesDataOption(g){return new SourceImpl({data:g,sourceFormat:isTypedArray$1(g)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(g){return new SourceImpl({data:g.data,sourceFormat:g.sourceFormat,seriesLayoutBy:g.seriesLayoutBy,dimensionsDefine:clone$4(g.dimensionsDefine),startIndex:g.startIndex,dimensionsDetectedCount:g.dimensionsDetectedCount})}function detectSourceFormat(g){var n=SOURCE_FORMAT_UNKNOWN;if(isTypedArray$1(g))n=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$2(g)){g.length===0&&(n=SOURCE_FORMAT_ARRAY_ROWS);for(var r=0,$=g.length;r<$;r++){var L=g[r];if(L!=null){if(isArray$2(L)){n=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$4(L)){n=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$4(g)){for(var V in g)if(hasOwn(g,V)&&isArrayLike(g[V])){n=SOURCE_FORMAT_KEYED_COLUMNS;break}}return n}function determineSourceDimensions(g,n,r,$,L){var V,oe;if(!g)return{dimensionsDefine:normalizeDimensionsOption(L),startIndex:oe,dimensionsDetectedCount:V};if(n===SOURCE_FORMAT_ARRAY_ROWS){var ae=g;$==="auto"||$==null?arrayRowsTravelFirst(function(le){le!=null&&le!=="-"&&(isString$1(le)?oe==null&&(oe=1):oe=0)},r,ae,10):oe=isNumber$1($)?$:$?1:0,!L&&oe===1&&(L=[],arrayRowsTravelFirst(function(le,ue){L[ue]=le!=null?le+"":""},r,ae,1/0)),V=L?L.length:r===SERIES_LAYOUT_BY_ROW?ae.length:ae[0]?ae[0].length:null}else if(n===SOURCE_FORMAT_OBJECT_ROWS)L||(L=objectRowsCollectDimensions(g));else if(n===SOURCE_FORMAT_KEYED_COLUMNS)L||(L=[],each$f(g,function(le,ue){L.push(ue)}));else if(n===SOURCE_FORMAT_ORIGINAL){var re=getDataItemValue(g[0]);V=isArray$2(re)&&re.length||1}return{startIndex:oe,dimensionsDefine:normalizeDimensionsOption(L),dimensionsDetectedCount:V}}function objectRowsCollectDimensions(g){for(var n=0,r;n<g.length&&!(r=g[n++]););if(r){var $=[];return each$f(r,function(L,V){$.push(V)}),$}}function normalizeDimensionsOption(g){if(g){var n=createHashMap();return map$1(g,function(r,$){r=isObject$4(r)?r:{name:r};var L={name:r.name,displayName:r.displayName,type:r.type};if(L.name==null)return L;L.name+="",L.displayName==null&&(L.displayName=L.name);var V=n.get(L.name);return V?L.name+="-"+V.count++:n.set(L.name,{count:1}),L})}}function arrayRowsTravelFirst(g,n,r,$){if(n===SERIES_LAYOUT_BY_ROW)for(var L=0;L<r.length&&L<$;L++)g(r[L]?r[L][0]:null,L);else for(var V=r[0]||[],L=0;L<V.length&&L<$;L++)g(V[L],L)}function shouldRetrieveDataByName(g){var n=g.sourceFormat;return n===SOURCE_FORMAT_OBJECT_ROWS||n===SOURCE_FORMAT_KEYED_COLUMNS}var _a,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function g(n,r){var $=isSourceInstance(n)?n:createSourceFromSeriesDataOption(n);this._source=$;var L=this._data=$.data;$.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=r,this._data=L),mountMethods(this,L,$)}return g.prototype.getSource=function(){return this._source},g.prototype.count=function(){return 0},g.prototype.getItem=function(n,r){},g.prototype.appendData=function(n){},g.prototype.clean=function(){},g.protoInitialize=function(){var n=g.prototype;n.pure=!1,n.persistent=!0}(),g.internalField=function(){var n;mountMethods=function(oe,ae,re){var le=re.sourceFormat,ue=re.seriesLayoutBy,de=re.startIndex,he=re.dimensionsDefine,pe=providerMethods[getMethodMapKey(le,ue)];if(extend$1(oe,pe),le===SOURCE_FORMAT_TYPED_ARRAY)oe.getItem=r,oe.count=L,oe.fillStorage=$;else{var _e=getRawSourceItemGetter(le,ue);oe.getItem=bind$2(_e,null,ae,de,he);var $e=getRawSourceDataCounter(le,ue);oe.count=bind$2($e,null,ae,de,he)}};var r=function(oe,ae){oe=oe-this._offset,ae=ae||[];for(var re=this._data,le=this._dimSize,ue=le*oe,de=0;de<le;de++)ae[de]=re[ue+de];return ae},$=function(oe,ae,re,le){for(var ue=this._data,de=this._dimSize,he=0;he<de;he++){for(var pe=le[he],_e=pe[0]==null?1/0:pe[0],$e=pe[1]==null?-1/0:pe[1],xe=ae-oe,Oe=re[he],Ce=0;Ce<xe;Ce++){var Ie=ue[Ce*de+he];Oe[oe+Ce]=Ie,Ie<_e&&(_e=Ie),Ie>$e&&($e=Ie)}pe[0]=_e,pe[1]=$e}},L=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(n={},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:V},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},n[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:V},n[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(oe){var ae=this._data;each$f(oe,function(re,le){for(var ue=ae[le]||(ae[le]=[]),de=0;de<(re||[]).length;de++)ue.push(re[de])})}},n[SOURCE_FORMAT_ORIGINAL]={appendData:V},n[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(oe){this._data=oe},clean:function(){this._offset+=this.count(),this._data=null}},n);function V(oe){for(var ae=0;ae<oe.length;ae++)this._data.push(oe[ae])}}(),g}(),getItemSimply=function(g,n,r,$){return g[$]},rawSourceItemGetterMap=(_a={},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(g,n,r,$){return g[$+n]},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(g,n,r,$,L){$+=n;for(var V=L||[],oe=g,ae=0;ae<oe.length;ae++){var re=oe[ae];V[ae]=re?re[$]:null}return V},_a[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a[SOURCE_FORMAT_KEYED_COLUMNS]=function(g,n,r,$,L){for(var V=L||[],oe=0;oe<r.length;oe++){var ae=r[oe].name,re=g[ae];V[oe]=re?re[$]:null}return V},_a[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a);function getRawSourceItemGetter(g,n){var r=rawSourceItemGetterMap[getMethodMapKey(g,n)];return r}var countSimply=function(g,n,r){return g.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(g,n,r){return Math.max(0,g.length-n)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(g,n,r){var $=g[0];return $?Math.max(0,$.length-n):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(g,n,r){var $=r[0].name,L=g[$];return L?L.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(g,n){var r=rawSourceDataCounterMap[getMethodMapKey(g,n)];return r}var getRawValueSimply=function(g,n,r){return g[n]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(g,n,r){return g[r]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(g,n,r){var $=getDataItemValue(g);return $ instanceof Array?$[n]:$},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(g){var n=rawSourceValueGetterMap[g];return n}function getMethodMapKey(g,n){return g===SOURCE_FORMAT_ARRAY_ROWS?g+"_"+n:g}function retrieveRawValue(g,n,r){if(g){var $=g.getRawDataItem(n);if($!=null){var L=g.getStore(),V=L.getSource().sourceFormat;if(r!=null){var oe=g.getDimensionIndex(r),ae=L.getDimensionProperty(oe);return getRawSourceValueGetter(V)($,oe,ae)}else{var re=$;return V===SOURCE_FORMAT_ORIGINAL&&(re=getDataItemValue($)),re}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function g(){}return g.prototype.getDataParams=function(n,r){var $=this.getData(r),L=this.getRawValue(n,r),V=$.getRawIndex(n),oe=$.getName(n),ae=$.getRawDataItem(n),re=$.getItemVisual(n,"style"),le=re&&re[$.getItemVisual(n,"drawType")||"fill"],ue=re&&re.stroke,de=this.mainType,he=de==="series",pe=$.userOutput&&$.userOutput.get();return{componentType:de,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:he?this.subType:null,seriesIndex:this.seriesIndex,seriesId:he?this.id:null,seriesName:he?this.name:null,name:oe,dataIndex:V,data:ae,dataType:r,value:L,color:le,borderColor:ue,dimensionNames:pe?pe.fullDimensions:null,encode:pe?pe.encode:null,$vars:["seriesName","name","value"]}},g.prototype.getFormattedLabel=function(n,r,$,L,V,oe){r=r||"normal";var ae=this.getData($),re=this.getDataParams(n,$);if(oe&&(re.value=oe.interpolatedValue),L!=null&&isArray$2(re.value)&&(re.value=re.value[L]),!V){var le=ae.getItemModel(n);V=le.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(isFunction$1(V))return re.status=r,re.dimensionIndex=L,V(re);if(isString$1(V)){var ue=formatTpl(V,re);return ue.replace(DIMENSION_LABEL_REG,function(de,he){var pe=he.length,_e=he;_e.charAt(0)==="["&&_e.charAt(pe-1)==="]"&&(_e=+_e.slice(1,pe-1));var $e=retrieveRawValue(ae,n,_e);if(oe&&isArray$2(oe.interpolatedValue)){var xe=ae.getDimensionIndex(_e);xe>=0&&($e=oe.interpolatedValue[xe])}return $e!=null?$e+"":""})}},g.prototype.getRawValue=function(n,r){return retrieveRawValue(this.getData(r),n)},g.prototype.formatTooltip=function(n,r,$){},g}();function normalizeTooltipFormatResult(g){var n,r;return isObject$4(g)?g.type&&(r=g):n=g,{text:n,frag:r}}function createTask(g){return new Task(g)}var Task=function(){function g(n){n=n||{},this._reset=n.reset,this._plan=n.plan,this._count=n.count,this._onDirty=n.onDirty,this._dirty=!0}return g.prototype.perform=function(n){var r=this._upstream,$=n&&n.skip;if(this._dirty&&r){var L=this.context;L.data=L.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var V;this._plan&&!$&&(V=this._plan(this.context));var oe=ue(this._modBy),ae=this._modDataCount||0,re=ue(n&&n.modBy),le=n&&n.modDataCount||0;(oe!==re||ae!==le)&&(V="reset");function ue(Ce){return!(Ce>=1)&&(Ce=1),Ce}var de;(this._dirty||V==="reset")&&(this._dirty=!1,de=this._doReset($)),this._modBy=re,this._modDataCount=le;var he=n&&n.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var pe=this._dueIndex,_e=Math.min(he!=null?this._dueIndex+he:1/0,this._dueEnd);if(!$&&(de||pe<_e)){var $e=this._progress;if(isArray$2($e))for(var xe=0;xe<$e.length;xe++)this._doProgress($e[xe],pe,_e,re,le);else this._doProgress($e,pe,_e,re,le)}this._dueIndex=_e;var Oe=this._settedOutputEnd!=null?this._settedOutputEnd:_e;this._outputDueEnd=Oe}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},g.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},g.prototype._doProgress=function(n,r,$,L,V){iterator.reset(r,$,L,V),this._callingProgress=n,this._callingProgress({start:r,end:$,count:$-r,next:iterator.next},this.context)},g.prototype._doReset=function(n){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,$;!n&&this._reset&&(r=this._reset(this.context),r&&r.progress&&($=r.forceFirstProgress,r=r.progress),isArray$2(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var L=this._downstream;return L&&L.dirty(),$},g.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},g.prototype.pipe=function(n){(this._downstream!==n||this._dirty)&&(this._downstream=n,n._upstream=this,n.dirty())},g.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},g.prototype.getUpstream=function(){return this._upstream},g.prototype.getDownstream=function(){return this._downstream},g.prototype.setOutputEnd=function(n){this._outputDueEnd=this._settedOutputEnd=n},g}(),iterator=function(){var g,n,r,$,L,V={reset:function(re,le,ue,de){n=re,g=le,r=ue,$=de,L=Math.ceil($/r),V.next=r>1&&$>0?ae:oe}};return V;function oe(){return n<g?n++:null}function ae(){var re=n%L*r+Math.ceil(n/L),le=n>=g?null:re<$?re:n;return n++,le}}();function parseDataValue(g,n){var r=n&&n.type;return r==="ordinal"?g:(r==="time"&&!isNumber$1(g)&&g!=null&&g!=="-"&&(g=+parseDate(g)),g==null||g===""?NaN:+g)}var valueParserMap=createHashMap({number:function(g){return parseFloat(g)},time:function(g){return+parseDate(g)},trim:function(g){return isString$1(g)?trim$2(g):g}});function getRawValueParser(g){return valueParserMap.get(g)}var ORDER_COMPARISON_OP_MAP={lt:function(g,n){return g<n},lte:function(g,n){return g<=n},gt:function(g,n){return g>n},gte:function(g,n){return g>=n}},FilterOrderComparator=function(){function g(n,r){if(!isNumber$1(r)){var $="";throwError($)}this._opFn=ORDER_COMPARISON_OP_MAP[n],this._rvalFloat=numericToNumber(r)}return g.prototype.evaluate=function(n){return isNumber$1(n)?this._opFn(n,this._rvalFloat):this._opFn(numericToNumber(n),this._rvalFloat)},g}(),SortOrderComparator=function(){function g(n,r){var $=n==="desc";this._resultLT=$?1:-1,r==null&&(r=$?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return g.prototype.evaluate=function(n,r){var $=isNumber$1(n)?n:numericToNumber(n),L=isNumber$1(r)?r:numericToNumber(r),V=isNaN($),oe=isNaN(L);if(V&&($=this._incomparable),oe&&(L=this._incomparable),V&&oe){var ae=isString$1(n),re=isString$1(r);ae&&($=re?n:0),re&&(L=ae?r:0)}return $<L?this._resultLT:$>L?-this._resultLT:0},g}(),FilterEqualityComparator=function(){function g(n,r){this._rval=r,this._isEQ=n,this._rvalTypeof=typeof r,this._rvalFloat=numericToNumber(r)}return g.prototype.evaluate=function(n){var r=n===this._rval;if(!r){var $=typeof n;$!==this._rvalTypeof&&($==="number"||this._rvalTypeof==="number")&&(r=numericToNumber(n)===this._rvalFloat)}return this._isEQ?r:!r},g}();function createFilterComparator(g,n){return g==="eq"||g==="ne"?new FilterEqualityComparator(g==="eq",n):hasOwn(ORDER_COMPARISON_OP_MAP,g)?new FilterOrderComparator(g,n):null}var ExternalSource=function(){function g(){}return g.prototype.getRawData=function(){throw new Error("not supported")},g.prototype.getRawDataItem=function(n){throw new Error("not supported")},g.prototype.cloneRawData=function(){},g.prototype.getDimensionInfo=function(n){},g.prototype.cloneAllDimensionInfo=function(){},g.prototype.count=function(){},g.prototype.retrieveValue=function(n,r){},g.prototype.retrieveValueFromItem=function(n,r){},g.prototype.convertValue=function(n,r){return parseDataValue(n,r)},g}();function createExternalSource(g,n){var r=new ExternalSource,$=g.data,L=r.sourceFormat=g.sourceFormat,V=g.startIndex,oe="";g.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&throwError(oe);var ae=[],re={},le=g.dimensionsDefine;if(le)each$f(le,function($e,xe){var Oe=$e.name,Ce={index:xe,name:Oe,displayName:$e.displayName};if(ae.push(Ce),Oe!=null){var Ie="";hasOwn(re,Oe)&&throwError(Ie),re[Oe]=Ce}});else for(var ue=0;ue<g.dimensionsDetectedCount;ue++)ae.push({index:ue});var de=getRawSourceItemGetter(L,SERIES_LAYOUT_BY_COLUMN);n.__isBuiltIn&&(r.getRawDataItem=function($e){return de($,V,ae,$e)},r.getRawData=bind$2(getRawData,null,g)),r.cloneRawData=bind$2(cloneRawData,null,g);var he=getRawSourceDataCounter(L,SERIES_LAYOUT_BY_COLUMN);r.count=bind$2(he,null,$,V,ae);var pe=getRawSourceValueGetter(L);r.retrieveValue=function($e,xe){var Oe=de($,V,ae,$e);return _e(Oe,xe)};var _e=r.retrieveValueFromItem=function($e,xe){if($e!=null){var Oe=ae[xe];if(Oe)return pe($e,xe,Oe.name)}};return r.getDimensionInfo=bind$2(getDimensionInfo,null,ae,re),r.cloneAllDimensionInfo=bind$2(cloneAllDimensionInfo,null,ae),r}function getRawData(g){var n=g.sourceFormat;if(!isSupportedSourceFormat(n)){var r="";throwError(r)}return g.data}function cloneRawData(g){var n=g.sourceFormat,r=g.data;if(!isSupportedSourceFormat(n)){var $="";throwError($)}if(n===SOURCE_FORMAT_ARRAY_ROWS){for(var L=[],V=0,oe=r.length;V<oe;V++)L.push(r[V].slice());return L}else if(n===SOURCE_FORMAT_OBJECT_ROWS){for(var L=[],V=0,oe=r.length;V<oe;V++)L.push(extend$1({},r[V]));return L}}function getDimensionInfo(g,n,r){if(r!=null){if(isNumber$1(r)||!isNaN(r)&&!hasOwn(n,r))return g[r];if(hasOwn(n,r))return n[r]}}function cloneAllDimensionInfo(g){return clone$4(g)}var externalTransformMap=createHashMap();function registerExternalTransform(g){g=clone$4(g);var n=g.type,r="";n||throwError(r);var $=n.split(":");$.length!==2&&throwError(r);var L=!1;$[0]==="echarts"&&(n=$[1],L=!0),g.__isBuiltIn=L,externalTransformMap.set(n,g)}function applyDataTransform(g,n,r){var $=normalizeToArray(g),L=$.length,V="";L||throwError(V);for(var oe=0,ae=L;oe<ae;oe++){var re=$[oe];n=applySingleDataTransform(re,n),oe!==ae-1&&(n.length=Math.max(n.length,1))}return n}function applySingleDataTransform(g,n,r,$){var L="";n.length||throwError(L),isObject$4(g)||throwError(L);var V=g.type,oe=externalTransformMap.get(V);oe||throwError(L);var ae=map$1(n,function(le){return createExternalSource(le,oe)}),re=normalizeToArray(oe.transform({upstream:ae[0],upstreamList:ae,config:clone$4(g.config)}));return map$1(re,function(le,ue){var de="";isObject$4(le)||throwError(de),le.data||throwError(de);var he=detectSourceFormat(le.data);isSupportedSourceFormat(he)||throwError(de);var pe,_e=n[0];if(_e&&ue===0&&!le.dimensions){var $e=_e.startIndex;$e&&(le.data=_e.data.slice(0,$e).concat(le.data)),pe={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:$e,dimensions:_e.metaRawOption.dimensions}}else pe={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:le.dimensions};return createSource(le.data,pe,null)})}function isSupportedSourceFormat(g){return g===SOURCE_FORMAT_ARRAY_ROWS||g===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(g){return g>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(g){var n=g.constructor;return n===Array?g.slice():new n(g)}function prepareStore(g,n,r,$,L){var V=dataCtors[r||"float"];if(L){var oe=g[n],ae=oe&&oe.length;if(ae!==$){for(var re=new V($),le=0;le<ae;le++)re[le]=oe[le];g[n]=re}}else g[n]=new V($)}var DataStore=function(){function g(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return g.prototype.initData=function(n,r,$){this._provider=n,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var L=n.getSource(),V=this.defaultDimValueGetter=defaultDimValueGetters[L.sourceFormat];this._dimValueGetter=$||V,this._rawExtent=[],shouldRetrieveDataByName(L),this._dimensions=map$1(r,function(oe){return{type:oe.type,property:oe.property}}),this._initDataFromProvider(0,n.count())},g.prototype.getProvider=function(){return this._provider},g.prototype.getSource=function(){return this._provider.getSource()},g.prototype.ensureCalculationDimension=function(n,r){var $=this._calcDimNameToIdx,L=this._dimensions,V=$.get(n);if(V!=null){if(L[V].type===r)return V}else V=L.length;return L[V]={type:r},$.set(n,V),this._chunks[V]=new dataCtors[r||"float"](this._rawCount),this._rawExtent[V]=getInitialExtent(),V},g.prototype.collectOrdinalMeta=function(n,r){var $=this._chunks[n],L=this._dimensions[n],V=this._rawExtent,oe=L.ordinalOffset||0,ae=$.length;oe===0&&(V[n]=getInitialExtent());for(var re=V[n],le=oe;le<ae;le++){var ue=$[le]=r.parseAndCollect($[le]);isNaN(ue)||(re[0]=Math.min(ue,re[0]),re[1]=Math.max(ue,re[1]))}L.ordinalMeta=r,L.ordinalOffset=ae,L.type="ordinal"},g.prototype.getOrdinalMeta=function(n){var r=this._dimensions[n],$=r.ordinalMeta;return $},g.prototype.getDimensionProperty=function(n){var r=this._dimensions[n];return r&&r.property},g.prototype.appendData=function(n){var r=this._provider,$=this.count();r.appendData(n);var L=r.count();return r.persistent||(L+=$),$<L&&this._initDataFromProvider($,L,!0),[$,L]},g.prototype.appendValues=function(n,r){for(var $=this._chunks,L=this._dimensions,V=L.length,oe=this._rawExtent,ae=this.count(),re=ae+Math.max(n.length,r||0),le=0;le<V;le++){var ue=L[le];prepareStore($,le,ue.type,re,!0)}for(var de=[],he=ae;he<re;he++)for(var pe=he-ae,_e=0;_e<V;_e++){var ue=L[_e],$e=defaultDimValueGetters.arrayRows.call(this,n[pe]||de,ue.property,pe,_e);$[_e][he]=$e;var xe=oe[_e];$e<xe[0]&&(xe[0]=$e),$e>xe[1]&&(xe[1]=$e)}return this._rawCount=this._count=re,{start:ae,end:re}},g.prototype._initDataFromProvider=function(n,r,$){for(var L=this._provider,V=this._chunks,oe=this._dimensions,ae=oe.length,re=this._rawExtent,le=map$1(oe,function(Ce){return Ce.property}),ue=0;ue<ae;ue++){var de=oe[ue];re[ue]||(re[ue]=getInitialExtent()),prepareStore(V,ue,de.type,r,$)}if(L.fillStorage)L.fillStorage(n,r,V,re);else for(var he=[],pe=n;pe<r;pe++){he=L.getItem(pe,he);for(var _e=0;_e<ae;_e++){var $e=V[_e],xe=this._dimValueGetter(he,le[_e],pe,_e);$e[pe]=xe;var Oe=re[_e];xe<Oe[0]&&(Oe[0]=xe),xe>Oe[1]&&(Oe[1]=xe)}}!L.persistent&&L.clean&&L.clean(),this._rawCount=this._count=r,this._extent=[]},g.prototype.count=function(){return this._count},g.prototype.get=function(n,r){if(!(r>=0&&r<this._count))return NaN;var $=this._chunks[n];return $?$[this.getRawIndex(r)]:NaN},g.prototype.getValues=function(n,r){var $=[],L=[];if(r==null){r=n,n=[];for(var V=0;V<this._dimensions.length;V++)L.push(V)}else L=n;for(var V=0,oe=L.length;V<oe;V++)$.push(this.get(L[V],r));return $},g.prototype.getByRawIndex=function(n,r){if(!(r>=0&&r<this._rawCount))return NaN;var $=this._chunks[n];return $?$[r]:NaN},g.prototype.getSum=function(n){var r=this._chunks[n],$=0;if(r)for(var L=0,V=this.count();L<V;L++){var oe=this.get(n,L);isNaN(oe)||($+=oe)}return $},g.prototype.getMedian=function(n){var r=[];this.each([n],function(V){isNaN(V)||r.push(V)});var $=r.sort(function(V,oe){return V-oe}),L=this.count();return L===0?0:L%2===1?$[(L-1)/2]:($[L/2]+$[L/2-1])/2},g.prototype.indexOfRawIndex=function(n){if(n>=this._rawCount||n<0)return-1;if(!this._indices)return n;var r=this._indices,$=r[n];if($!=null&&$<this._count&&$===n)return n;for(var L=0,V=this._count-1;L<=V;){var oe=(L+V)/2|0;if(r[oe]<n)L=oe+1;else if(r[oe]>n)V=oe-1;else return oe}return-1},g.prototype.indicesOfNearest=function(n,r,$){var L=this._chunks,V=L[n],oe=[];if(!V)return oe;$==null&&($=1/0);for(var ae=1/0,re=-1,le=0,ue=0,de=this.count();ue<de;ue++){var he=this.getRawIndex(ue),pe=r-V[he],_e=Math.abs(pe);_e<=$&&((_e<ae||_e===ae&&pe>=0&&re<0)&&(ae=_e,re=pe,le=0),pe===re&&(oe[le++]=ue))}return oe.length=le,oe},g.prototype.getIndices=function(){var n,r=this._indices;if(r){var $=r.constructor,L=this._count;if($===Array){n=new $(L);for(var V=0;V<L;V++)n[V]=r[V]}else n=new $(r.buffer,0,L)}else{var $=getIndicesCtor(this._rawCount);n=new $(this.count());for(var V=0;V<n.length;V++)n[V]=V}return n},g.prototype.filter=function(n,r){if(!this._count)return this;for(var $=this.clone(),L=$.count(),V=getIndicesCtor($._rawCount),oe=new V(L),ae=[],re=n.length,le=0,ue=n[0],de=$._chunks,he=0;he<L;he++){var pe=void 0,_e=$.getRawIndex(he);if(re===0)pe=r(he);else if(re===1){var $e=de[ue][_e];pe=r($e,he)}else{for(var xe=0;xe<re;xe++)ae[xe]=de[n[xe]][_e];ae[xe]=he,pe=r.apply(null,ae)}pe&&(oe[le++]=_e)}return le<L&&($._indices=oe),$._count=le,$._extent=[],$._updateGetRawIdx(),$},g.prototype.selectRange=function(n){var r=this.clone(),$=r._count;if(!$)return this;var L=keys(n),V=L.length;if(!V)return this;var oe=r.count(),ae=getIndicesCtor(r._rawCount),re=new ae(oe),le=0,ue=L[0],de=n[ue][0],he=n[ue][1],pe=r._chunks,_e=!1;if(!r._indices){var $e=0;if(V===1){for(var xe=pe[L[0]],Oe=0;Oe<$;Oe++){var Ce=xe[Oe];(Ce>=de&&Ce<=he||isNaN(Ce))&&(re[le++]=$e),$e++}_e=!0}else if(V===2){for(var xe=pe[L[0]],Ie=pe[L[1]],Ne=n[L[1]][0],ze=n[L[1]][1],Oe=0;Oe<$;Oe++){var Ce=xe[Oe],Fe=Ie[Oe];(Ce>=de&&Ce<=he||isNaN(Ce))&&(Fe>=Ne&&Fe<=ze||isNaN(Fe))&&(re[le++]=$e),$e++}_e=!0}}if(!_e)if(V===1)for(var Oe=0;Oe<oe;Oe++){var Ue=r.getRawIndex(Oe),Ce=pe[L[0]][Ue];(Ce>=de&&Ce<=he||isNaN(Ce))&&(re[le++]=Ue)}else for(var Oe=0;Oe<oe;Oe++){for(var At=!0,Ue=r.getRawIndex(Oe),Et=0;Et<V;Et++){var Pt=L[Et],Ce=pe[Pt][Ue];(Ce<n[Pt][0]||Ce>n[Pt][1])&&(At=!1)}At&&(re[le++]=r.getRawIndex(Oe))}return le<oe&&(r._indices=re),r._count=le,r._extent=[],r._updateGetRawIdx(),r},g.prototype.map=function(n,r){var $=this.clone(n);return this._updateDims($,n,r),$},g.prototype.modify=function(n,r){this._updateDims(this,n,r)},g.prototype._updateDims=function(n,r,$){for(var L=n._chunks,V=[],oe=r.length,ae=n.count(),re=[],le=n._rawExtent,ue=0;ue<r.length;ue++)le[r[ue]]=getInitialExtent();for(var de=0;de<ae;de++){for(var he=n.getRawIndex(de),pe=0;pe<oe;pe++)re[pe]=L[r[pe]][he];re[oe]=de;var _e=$&&$.apply(null,re);if(_e!=null){typeof _e!="object"&&(V[0]=_e,_e=V);for(var ue=0;ue<_e.length;ue++){var $e=r[ue],xe=_e[ue],Oe=le[$e],Ce=L[$e];Ce&&(Ce[he]=xe),xe<Oe[0]&&(Oe[0]=xe),xe>Oe[1]&&(Oe[1]=xe)}}}},g.prototype.lttbDownSample=function(n,r){var $=this.clone([n],!0),L=$._chunks,V=L[n],oe=this.count(),ae=0,re=Math.floor(1/r),le=this.getRawIndex(0),ue,de,he,pe=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(oe/re)+2)*2,oe));pe[ae++]=le;for(var _e=1;_e<oe-1;_e+=re){for(var $e=Math.min(_e+re,oe-1),xe=Math.min(_e+re*2,oe),Oe=(xe+$e)/2,Ce=0,Ie=$e;Ie<xe;Ie++){var Ne=this.getRawIndex(Ie),ze=V[Ne];isNaN(ze)||(Ce+=ze)}Ce/=xe-$e;var Fe=_e,Ue=Math.min(_e+re,oe),At=_e-1,Et=V[le];ue=-1,he=Fe;for(var Pt=-1,kt=0,Ie=Fe;Ie<Ue;Ie++){var Ne=this.getRawIndex(Ie),ze=V[Ne];if(isNaN(ze)){kt++,Pt<0&&(Pt=Ne);continue}de=Math.abs((At-Oe)*(ze-Et)-(At-Ie)*(Ce-Et)),de>ue&&(ue=de,he=Ne)}kt>0&&kt<Ue-Fe&&(pe[ae++]=Math.min(Pt,he),he=Math.max(Pt,he)),pe[ae++]=he,le=he}return pe[ae++]=this.getRawIndex(oe-1),$._count=ae,$._indices=pe,$.getRawIndex=this._getRawIdx,$},g.prototype.downSample=function(n,r,$,L){for(var V=this.clone([n],!0),oe=V._chunks,ae=[],re=Math.floor(1/r),le=oe[n],ue=this.count(),de=V._rawExtent[n]=getInitialExtent(),he=new(getIndicesCtor(this._rawCount))(Math.ceil(ue/re)),pe=0,_e=0;_e<ue;_e+=re){re>ue-_e&&(re=ue-_e,ae.length=re);for(var $e=0;$e<re;$e++){var xe=this.getRawIndex(_e+$e);ae[$e]=le[xe]}var Oe=$(ae),Ce=this.getRawIndex(Math.min(_e+L(ae,Oe)||0,ue-1));le[Ce]=Oe,Oe<de[0]&&(de[0]=Oe),Oe>de[1]&&(de[1]=Oe),he[pe++]=Ce}return V._count=pe,V._indices=he,V._updateGetRawIdx(),V},g.prototype.each=function(n,r){if(this._count)for(var $=n.length,L=this._chunks,V=0,oe=this.count();V<oe;V++){var ae=this.getRawIndex(V);switch($){case 0:r(V);break;case 1:r(L[n[0]][ae],V);break;case 2:r(L[n[0]][ae],L[n[1]][ae],V);break;default:for(var re=0,le=[];re<$;re++)le[re]=L[n[re]][ae];le[re]=V,r.apply(null,le)}}},g.prototype.getDataExtent=function(n){var r=this._chunks[n],$=getInitialExtent();if(!r)return $;var L=this.count(),V=!this._indices,oe;if(V)return this._rawExtent[n].slice();if(oe=this._extent[n],oe)return oe.slice();oe=$;for(var ae=oe[0],re=oe[1],le=0;le<L;le++){var ue=this.getRawIndex(le),de=r[ue];de<ae&&(ae=de),de>re&&(re=de)}return oe=[ae,re],this._extent[n]=oe,oe},g.prototype.getRawDataItem=function(n){var r=this.getRawIndex(n);if(this._provider.persistent)return this._provider.getItem(r);for(var $=[],L=this._chunks,V=0;V<L.length;V++)$.push(L[V][r]);return $},g.prototype.clone=function(n,r){var $=new g,L=this._chunks,V=n&&reduce(n,function(ae,re){return ae[re]=!0,ae},{});if(V)for(var oe=0;oe<L.length;oe++)$._chunks[oe]=V[oe]?cloneChunk(L[oe]):L[oe];else $._chunks=L;return this._copyCommonProps($),r||($._indices=this._cloneIndices()),$._updateGetRawIdx(),$},g.prototype._copyCommonProps=function(n){n._count=this._count,n._rawCount=this._rawCount,n._provider=this._provider,n._dimensions=this._dimensions,n._extent=clone$4(this._extent),n._rawExtent=clone$4(this._rawExtent)},g.prototype._cloneIndices=function(){if(this._indices){var n=this._indices.constructor,r=void 0;if(n===Array){var $=this._indices.length;r=new n($);for(var L=0;L<$;L++)r[L]=this._indices[L]}else r=new n(this._indices);return r}return null},g.prototype._getRawIdxIdentity=function(n){return n},g.prototype._getRawIdx=function(n){return n<this._count&&n>=0?this._indices[n]:-1},g.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},g.internalField=function(){function n(r,$,L,V){return parseDataValue(r[V],this._dimensions[V])}defaultDimValueGetters={arrayRows:n,objectRows:function(r,$,L,V){return parseDataValue(r[$],this._dimensions[V])},keyedColumns:n,original:function(r,$,L,V){var oe=r&&(r.value==null?r:r.value);return parseDataValue(oe instanceof Array?oe[V]:oe,this._dimensions[V])},typedArray:function(r,$,L,V){return r[V]}}}(),g}(),SourceManager=function(){function g(n){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=n}return g.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},g.prototype._setLocalSource=function(n,r){this._sourceList=n,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},g.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},g.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},g.prototype._createSource=function(){this._setLocalSource([],[]);var n=this._sourceHost,r=this._getUpstreamSourceManagers(),$=!!r.length,L,V;if(isSeries(n)){var oe=n,ae=void 0,re=void 0,le=void 0;if($){var ue=r[0];ue.prepareSource(),le=ue.getSource(),ae=le.data,re=le.sourceFormat,V=[ue._getVersionSign()]}else ae=oe.get("data",!0),re=isTypedArray$1(ae)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,V=[];var de=this._getSourceMetaRawOption()||{},he=le&&le.metaRawOption||{},pe=retrieve2(de.seriesLayoutBy,he.seriesLayoutBy)||null,_e=retrieve2(de.sourceHeader,he.sourceHeader),$e=retrieve2(de.dimensions,he.dimensions),xe=pe!==he.seriesLayoutBy||!!_e!=!!he.sourceHeader||$e;L=xe?[createSource(ae,{seriesLayoutBy:pe,sourceHeader:_e,dimensions:$e},re)]:[]}else{var Oe=n;if($){var Ce=this._applyTransform(r);L=Ce.sourceList,V=Ce.upstreamSignList}else{var Ie=Oe.get("source",!0);L=[createSource(Ie,this._getSourceMetaRawOption(),null)],V=[]}}this._setLocalSource(L,V)},g.prototype._applyTransform=function(n){var r=this._sourceHost,$=r.get("transform",!0),L=r.get("fromTransformResult",!0);if(L!=null){var V="";n.length!==1&&doThrow(V)}var oe,ae=[],re=[];return each$f(n,function(le){le.prepareSource();var ue=le.getSource(L||0),de="";L!=null&&!ue&&doThrow(de),ae.push(ue),re.push(le._getVersionSign())}),$?oe=applyDataTransform($,ae,{datasetIndex:r.componentIndex}):L!=null&&(oe=[cloneSourceShallow(ae[0])]),{sourceList:oe,upstreamSignList:re}},g.prototype._isDirty=function(){if(this._dirty)return!0;for(var n=this._getUpstreamSourceManagers(),r=0;r<n.length;r++){var $=n[r];if($._isDirty()||this._upstreamSignList[r]!==$._getVersionSign())return!0}},g.prototype.getSource=function(n){n=n||0;var r=this._sourceList[n];if(!r){var $=this._getUpstreamSourceManagers();return $[0]&&$[0].getSource(n)}return r},g.prototype.getSharedDataStore=function(n){var r=n.makeStoreSchema();return this._innerGetDataStore(r.dimensions,n.source,r.hash)},g.prototype._innerGetDataStore=function(n,r,$){var L=0,V=this._storeList,oe=V[L];oe||(oe=V[L]={});var ae=oe[$];if(!ae){var re=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&re?ae=re._innerGetDataStore(n,r,$):(ae=new DataStore,ae.initData(new DefaultDataProvider(r,n.length),n)),oe[$]=ae}return ae},g.prototype._getUpstreamSourceManagers=function(){var n=this._sourceHost;if(isSeries(n)){var r=querySeriesUpstreamDatasetModel(n);return r?[r.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(n),function($){return $.getSourceManager()})},g.prototype._getSourceMetaRawOption=function(){var n=this._sourceHost,r,$,L;if(isSeries(n))r=n.get("seriesLayoutBy",!0),$=n.get("sourceHeader",!0),L=n.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var V=n;r=V.get("seriesLayoutBy",!0),$=V.get("sourceHeader",!0),L=V.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:$,dimensions:L}},g}();function disableTransformOptionMerge(g){var n=g.option.transform;n&&setAsPrimitive(g.option.transform)}function isSeries(g){return g.mainType==="series"}function doThrow(g){throw new Error(g)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipTextStyle(g,n){var r=g.color||"#6e7079",$=g.fontSize||12,L=g.fontWeight||"400",V=g.color||"#464646",oe=g.fontSize||14,ae=g.fontWeight||"900";return n==="html"?{nameStyle:"font-size:"+encodeHTML($+"")+"px;color:"+encodeHTML(r)+";font-weight:"+encodeHTML(L+""),valueStyle:"font-size:"+encodeHTML(oe+"")+"px;color:"+encodeHTML(V)+";font-weight:"+encodeHTML(ae+"")}:{nameStyle:{fontSize:$,fill:r,fontWeight:L},valueStyle:{fontSize:oe,fill:V,fontWeight:ae}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(g,n){return n.type=g,n}function isSectionFragment(g){return g.type==="section"}function getBuilder(g){return isSectionFragment(g)?buildSection:buildNameValue}function getBlockGapLevel(g){if(isSectionFragment(g)){var n=0,r=g.blocks.length,$=r>1||r>0&&!g.noHeader;return each$f(g.blocks,function(L){var V=getBlockGapLevel(L);V>=n&&(n=V+ +($&&(!V||isSectionFragment(L)&&!L.noHeader)))}),n}return 0}function buildSection(g,n,r,$){var L=n.noHeader,V=getGap(getBlockGapLevel(n)),oe=[],ae=n.blocks||[];assert(!ae||isArray$2(ae)),ae=ae||[];var re=g.orderMode;if(n.sortBlocks&&re){ae=ae.slice();var le={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(le,re)){var ue=new SortOrderComparator(le[re],null);ae.sort(function(_e,$e){return ue.evaluate(_e.sortParam,$e.sortParam)})}else re==="seriesDesc"&&ae.reverse()}each$f(ae,function(_e,$e){var xe=n.valueFormatter,Oe=getBuilder(_e)(xe?extend$1(extend$1({},g),{valueFormatter:xe}):g,_e,$e>0?V.html:0,$);Oe!=null&&oe.push(Oe)});var de=g.renderMode==="richText"?oe.join(V.richText):wrapBlockHTML(oe.join(""),L?r:V.html);if(L)return de;var he=makeValueReadable(n.header,"ordinal",g.useUTC),pe=getTooltipTextStyle($,g.renderMode).nameStyle;return g.renderMode==="richText"?wrapInlineNameRichText(g,he,pe)+V.richText+de:wrapBlockHTML('<div style="'+pe+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+encodeHTML(he)+"</div>"+de,r)}function buildNameValue(g,n,r,$){var L=g.renderMode,V=n.noName,oe=n.noValue,ae=!n.markerType,re=n.name,le=g.useUTC,ue=n.valueFormatter||g.valueFormatter||function(Ne){return Ne=isArray$2(Ne)?Ne:[Ne],map$1(Ne,function(ze,Fe){return makeValueReadable(ze,isArray$2(pe)?pe[Fe]:pe,le)})};if(!(V&&oe)){var de=ae?"":g.markupStyleCreator.makeTooltipMarker(n.markerType,n.markerColor||"#333",L),he=V?"":makeValueReadable(re,"ordinal",le),pe=n.valueType,_e=oe?[]:ue(n.value),$e=!ae||!V,xe=!ae&&V,Oe=getTooltipTextStyle($,L),Ce=Oe.nameStyle,Ie=Oe.valueStyle;return L==="richText"?(ae?"":de)+(V?"":wrapInlineNameRichText(g,he,Ce))+(oe?"":wrapInlineValueRichText(g,_e,$e,xe,Ie)):wrapBlockHTML((ae?"":de)+(V?"":wrapInlineNameHTML(he,!ae,Ce))+(oe?"":wrapInlineValueHTML(_e,$e,xe,Ie)),r)}}function buildTooltipMarkup(g,n,r,$,L,V){if(g){var oe=getBuilder(g),ae={useUTC:L,renderMode:r,orderMode:$,markupStyleCreator:n,valueFormatter:g.valueFormatter};return oe(ae,g,0,V)}}function getGap(g){return{html:HTML_GAPS[g],richText:RICH_TEXT_GAPS[g]}}function wrapBlockHTML(g,n){var r='<div style="clear:both"></div>',$="margin: "+n+"px 0 0";return'<div style="'+$+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+g+r+"</div>"}function wrapInlineNameHTML(g,n,r){var $=n?"margin-left:2px":"";return'<span style="'+r+";"+$+'">'+encodeHTML(g)+"</span>"}function wrapInlineValueHTML(g,n,r,$){var L=r?"10px":"20px",V=n?"float:right;margin-left:"+L:"";return g=isArray$2(g)?g:[g],'<span style="'+V+";"+$+'">'+map$1(g,function(oe){return encodeHTML(oe)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(g,n,r){return g.markupStyleCreator.wrapRichTextStyle(n,r)}function wrapInlineValueRichText(g,n,r,$,L){var V=[L],oe=$?10:20;return r&&V.push({padding:[0,0,0,oe],align:"right"}),g.markupStyleCreator.wrapRichTextStyle(isArray$2(n)?n.join("  "):n,V)}function retrieveVisualColorForTooltipMarker(g,n){var r=g.getData().getItemVisual(n,"style"),$=r[g.visualDrawType];return convertToColorString($)}function getPaddingFromTooltipModel(g,n){var r=g.get("padding");return r!=null?r:n==="richText"?[8,10]:10}var TooltipMarkupStyleCreator=function(){function g(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return g.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},g.prototype.makeTooltipMarker=function(n,r,$){var L=$==="richText"?this._generateStyleName():null,V=getTooltipMarker({color:r,type:n,renderMode:$,markerId:L});return isString$1(V)?V:(this.richTextStyles[L]=V.style,V.content)},g.prototype.wrapRichTextStyle=function(n,r){var $={};isArray$2(r)?each$f(r,function(V){return extend$1($,V)}):extend$1($,r);var L=this._generateStyleName();return this.richTextStyles[L]=$,"{"+L+"|"+n+"}"},g}();function defaultSeriesFormatTooltip(g){var n=g.series,r=g.dataIndex,$=g.multipleSeries,L=n.getData(),V=L.mapDimensionsAll("defaultedTooltip"),oe=V.length,ae=n.getRawValue(r),re=isArray$2(ae),le=retrieveVisualColorForTooltipMarker(n,r),ue,de,he,pe;if(oe>1||re&&!oe){var _e=formatTooltipArrayValue(ae,n,r,V,le);ue=_e.inlineValues,de=_e.inlineValueTypes,he=_e.blocks,pe=_e.inlineValues[0]}else if(oe){var $e=L.getDimensionInfo(V[0]);pe=ue=retrieveRawValue(L,r,V[0]),de=$e.type}else pe=ue=re?ae[0]:ae;var xe=isNameSpecified(n),Oe=xe&&n.name||"",Ce=L.getName(r),Ie=$?Oe:Ce;return createTooltipMarkup("section",{header:Oe,noHeader:$||!xe,sortParam:pe,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:le,name:Ie,noName:!trim$2(Ie),value:ue,valueType:de})].concat(he||[])})}function formatTooltipArrayValue(g,n,r,$,L){var V=n.getData(),oe=reduce(g,function(de,he,pe){var _e=V.getDimensionInfo(pe);return de=de||_e&&_e.tooltip!==!1&&_e.displayName!=null},!1),ae=[],re=[],le=[];$.length?each$f($,function(de){ue(retrieveRawValue(V,r,de),de)}):each$f(g,ue);function ue(de,he){var pe=V.getDimensionInfo(he);!pe||pe.otherDims.tooltip===!1||(oe?le.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:L,name:pe.displayName,value:de,valueType:pe.type})):(ae.push(de),re.push(pe.type)))}return{inlineValues:ae,inlineValueTypes:re,blocks:le}}var inner$k=makeInner();function getSelectionKey(g,n){return g.getName(n)||g.getId(n)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return n.prototype.init=function(r,$,L){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,L);var V=inner$k(this).sourceManager=new SourceManager(this);V.prepareSource();var oe=this.getInitialData(r,L);wrapData(oe,this),this.dataTask.context.data=oe,inner$k(this).dataBeforeProcessed=oe,autoSeriesName(this),this._initSelectedMapFromData(oe)},n.prototype.mergeDefaultAndTheme=function(r,$){var L=fetchLayoutMode(this),V=L?getLayoutParams(r):{},oe=this.subType;ComponentModel$1.hasClass(oe)&&(oe+="Series"),merge$1(r,$.getTheme().get(this.subType)),merge$1(r,this.getDefaultOption()),defaultEmphasis(r,"label",["show"]),this.fillDataTextStyle(r.data),L&&mergeLayoutParam(r,V,L)},n.prototype.mergeOption=function(r,$){r=merge$1(this.option,r,!0),this.fillDataTextStyle(r.data);var L=fetchLayoutMode(this);L&&mergeLayoutParam(this.option,r,L);var V=inner$k(this).sourceManager;V.dirty(),V.prepareSource();var oe=this.getInitialData(r,$);wrapData(oe,this),this.dataTask.dirty(),this.dataTask.context.data=oe,inner$k(this).dataBeforeProcessed=oe,autoSeriesName(this),this._initSelectedMapFromData(oe)},n.prototype.fillDataTextStyle=function(r){if(r&&!isTypedArray$1(r))for(var $=["show"],L=0;L<r.length;L++)r[L]&&r[L].label&&defaultEmphasis(r[L],"label",$)},n.prototype.getInitialData=function(r,$){},n.prototype.appendData=function(r){var $=this.getRawData();$.appendData(r.data)},n.prototype.getData=function(r){var $=getCurrentTask(this);if($){var L=$.context.data;return r==null?L:L.getLinkedData(r)}else return inner$k(this).data},n.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},n.prototype.setData=function(r){var $=getCurrentTask(this);if($){var L=$.context;L.outputData=r,$!==this.dataTask&&(L.data=r)}inner$k(this).data=r},n.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return createHashMap(r)},n.prototype.getSourceManager=function(){return inner$k(this).sourceManager},n.prototype.getSource=function(){return this.getSourceManager().getSource()},n.prototype.getRawData=function(){return inner$k(this).dataBeforeProcessed},n.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},n.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},n.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},n.prototype.formatTooltip=function(r,$,L){return defaultSeriesFormatTooltip({series:this,dataIndex:r,multipleSeries:$})},n.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(env$1.node&&!(r&&r.ssr))return!1;var $=this.getShallow("animation");return $&&this.getData().count()>this.getShallow("animationThreshold")&&($=!1),!!$},n.prototype.restoreData=function(){this.dataTask.dirty()},n.prototype.getColorFromPalette=function(r,$,L){var V=this.ecModel,oe=PaletteMixin.prototype.getColorFromPalette.call(this,r,$,L);return oe||(oe=V.getColorFromPalette(r,$,L)),oe},n.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},n.prototype.getProgressive=function(){return this.get("progressive")},n.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},n.prototype.select=function(r,$){this._innerSelect(this.getData($),r)},n.prototype.unselect=function(r,$){var L=this.option.selectedMap;if(L){var V=this.option.selectedMode,oe=this.getData($);if(V==="series"||L==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var ae=0;ae<r.length;ae++){var re=r[ae],le=getSelectionKey(oe,re);L[le]=!1,this._selectedDataIndicesMap[le]=-1}}},n.prototype.toggleSelect=function(r,$){for(var L=[],V=0;V<r.length;V++)L[0]=r[V],this.isSelected(r[V],$)?this.unselect(L,$):this.select(L,$)},n.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,$=keys(r),L=[],V=0;V<$.length;V++){var oe=r[$[V]];oe>=0&&L.push(oe)}return L},n.prototype.isSelected=function(r,$){var L=this.option.selectedMap;if(!L)return!1;var V=this.getData($);return(L==="all"||L[getSelectionKey(V,r)])&&!V.getItemModel(r).get(["select","disabled"])},n.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},n.prototype._innerSelect=function(r,$){var L,V,oe=this.option,ae=oe.selectedMode,re=$.length;if(!(!ae||!re)){if(ae==="series")oe.selectedMap="all";else if(ae==="multiple"){isObject$4(oe.selectedMap)||(oe.selectedMap={});for(var le=oe.selectedMap,ue=0;ue<re;ue++){var de=$[ue],he=getSelectionKey(r,de);le[he]=!0,this._selectedDataIndicesMap[he]=r.getRawIndex(de)}}else if(ae==="single"||ae===!0){var pe=$[re-1],he=getSelectionKey(r,pe);oe.selectedMap=(L={},L[he]=!0,L),this._selectedDataIndicesMap=(V={},V[he]=r.getRawIndex(pe),V)}}},n.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var $=[];r.hasItemOption&&r.each(function(L){var V=r.getRawDataItem(L);V&&V.selected&&$.push(L)}),$.length>0&&this._innerSelect(r,$)}},n.registerClass=function(r){return ComponentModel$1.registerClass(r)},n.protoInitialize=function(){var r=n.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),n}(ComponentModel$1);mixin(SeriesModel,DataFormatMixin),mixin(SeriesModel,PaletteMixin),mountExtend(SeriesModel,ComponentModel$1);function autoSeriesName(g){var n=g.name;isNameSpecified(g)||(g.name=getSeriesAutoName(g)||n)}function getSeriesAutoName(g){var n=g.getRawData(),r=n.mapDimensionsAll("seriesName"),$=[];return each$f(r,function(L){var V=n.getDimensionInfo(L);V.displayName&&$.push(V.displayName)}),$.join(" ")}function dataTaskCount(g){return g.model.getRawData().count()}function dataTaskReset(g){var n=g.model;return n.setData(n.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(g,n){n.outputData&&g.end>n.outputData.count()&&n.model.getRawData().cloneShallow(n.outputData)}function wrapData(g,n){each$f(concatArray(g.CHANGABLE_METHODS,g.DOWNSAMPLE_METHODS),function(r){g.wrapMethod(r,curry$1(onDataChange,n))})}function onDataChange(g,n){var r=getCurrentTask(g);return r&&r.setOutputEnd((n||this).count()),n}function getCurrentTask(g){var n=(g.ecModel||{}).scheduler,r=n&&n.getPipeline(g.uid);if(r){var $=r.currentTask;if($){var L=$.agentStubMap;L&&($=L.get(g.uid))}return $}}const SeriesModel$1=SeriesModel;var ComponentView=function(){function g(){this.group=new Group$4,this.uid=getUID("viewComponent")}return g.prototype.init=function(n,r){},g.prototype.render=function(n,r,$,L){},g.prototype.dispose=function(n,r){},g.prototype.updateView=function(n,r,$,L){},g.prototype.updateLayout=function(n,r,$,L){},g.prototype.updateVisual=function(n,r,$,L){},g.prototype.toggleBlurSeries=function(n,r,$){},g.prototype.eachRendered=function(n){var r=this.group;r&&r.traverse(n)},g}();enableClassExtend(ComponentView),enableClassManagement(ComponentView);const ComponentView$1=ComponentView;function createRenderPlanner(){var g=makeInner();return function(n){var r=g(n),$=n.pipelineContext,L=!!r.large,V=!!r.progressiveRender,oe=r.large=!!($&&$.large),ae=r.progressiveRender=!!($&&$.progressiveRender);return(L!==oe||V!==ae)&&"reset"}}var inner$j=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function g(){this.group=new Group$4,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return g.prototype.init=function(n,r){},g.prototype.render=function(n,r,$,L){},g.prototype.highlight=function(n,r,$,L){var V=n.getData(L&&L.dataType);!V||toggleHighlight(V,L,"emphasis")},g.prototype.downplay=function(n,r,$,L){var V=n.getData(L&&L.dataType);!V||toggleHighlight(V,L,"normal")},g.prototype.remove=function(n,r){this.group.removeAll()},g.prototype.dispose=function(n,r){},g.prototype.updateView=function(n,r,$,L){this.render(n,r,$,L)},g.prototype.updateLayout=function(n,r,$,L){this.render(n,r,$,L)},g.prototype.updateVisual=function(n,r,$,L){this.render(n,r,$,L)},g.prototype.eachRendered=function(n){traverseElements(this.group,n)},g.markUpdateMethod=function(n,r){inner$j(n).updateMethod=r},g.protoInitialize=function(){var n=g.prototype;n.type="chart"}(),g}();function elSetState(g,n,r){g&&isHighDownDispatcher(g)&&(n==="emphasis"?enterEmphasis:leaveEmphasis)(g,r)}function toggleHighlight(g,n,r){var $=queryDataIndex(g,n),L=n&&n.highlightKey!=null?getHighlightDigit(n.highlightKey):null;$!=null?each$f(normalizeToArray($),function(V){elSetState(g.getItemGraphicEl(V),r,L)}):g.eachItemGraphicEl(function(V){elSetState(V,r,L)})}enableClassExtend(ChartView),enableClassManagement(ChartView);function renderTaskPlan(g){return renderPlanner(g.model)}function renderTaskReset(g){var n=g.model,r=g.ecModel,$=g.api,L=g.payload,V=n.pipelineContext.progressiveRender,oe=g.view,ae=L&&inner$j(L).updateMethod,re=V?"incrementalPrepareRender":ae&&oe[ae]?ae:"render";return re!=="render"&&oe[re](n,r,$,L),progressMethodMap[re]}var progressMethodMap={incrementalPrepareRender:{progress:function(g,n){n.view.incrementalRender(g,n.model,n.ecModel,n.api,n.payload)}},render:{forceFirstProgress:!0,progress:function(g,n){n.view.render(n.model,n.ecModel,n.api,n.payload)}}};const ChartView$1=ChartView;var ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(g,n,r){var $,L=0,V=0,oe=null,ae,re,le,ue;n=n||0;function de(){V=new Date().getTime(),oe=null,g.apply(re,le||[])}var he=function(){for(var pe=[],_e=0;_e<arguments.length;_e++)pe[_e]=arguments[_e];$=new Date().getTime(),re=this,le=pe;var $e=ue||n,xe=ue||r;ue=null,ae=$-(xe?L:V)-$e,clearTimeout(oe),xe?oe=setTimeout(de,$e):ae>=0?de():oe=setTimeout(de,-ae),L=$};return he.clear=function(){oe&&(clearTimeout(oe),oe=null)},he.debounceNextCall=function(pe){ue=pe},he}function createOrUpdate(g,n,r,$){var L=g[n];if(L){var V=L[ORIGIN_METHOD]||L,oe=L[THROTTLE_TYPE],ae=L[RATE];if(ae!==r||oe!==$){if(r==null||!$)return g[n]=V;L=g[n]=throttle(V,r,$==="debounce"),L[ORIGIN_METHOD]=V,L[THROTTLE_TYPE]=$,L[RATE]=r}return L}}function clear$1(g,n){var r=g[n];r&&r[ORIGIN_METHOD]&&(r.clear&&r.clear(),g[n]=r[ORIGIN_METHOD])}var inner$i=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(g,n){var r=g.visualStyleMapper||defaultStyleMappers[n];return r||(console.warn("Unknown style type '"+n+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(g,n){var r=g.visualDrawType||defaultColorKey[n];return r||(console.warn("Unknown style type '"+n+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(g,n){var r=g.getData(),$=g.visualStyleAccessPath||"itemStyle",L=g.getModel($),V=getStyleMapper(g,$),oe=V(L),ae=L.getShallow("decal");ae&&(r.setVisual("decal",ae),ae.dirty=!0);var re=getDefaultColorKey(g,$),le=oe[re],ue=isFunction$1(le)?le:null,de=oe.fill==="auto"||oe.stroke==="auto";if(!oe[re]||ue||de){var he=g.getColorFromPalette(g.name,null,n.getSeriesCount());oe[re]||(oe[re]=he,r.setVisual("colorFromPalette",!0)),oe.fill=oe.fill==="auto"||isFunction$1(oe.fill)?he:oe.fill,oe.stroke=oe.stroke==="auto"||isFunction$1(oe.stroke)?he:oe.stroke}if(r.setVisual("style",oe),r.setVisual("drawType",re),!n.isSeriesFiltered(g)&&ue)return r.setVisual("colorFromPalette",!1),{dataEach:function(pe,_e){var $e=g.getDataParams(_e),xe=extend$1({},oe);xe[re]=ue($e),pe.setItemVisual(_e,"style",xe)}}}},sharedModel=new Model$1,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(g,n){if(!(g.ignoreStyleOnData||n.isSeriesFiltered(g))){var r=g.getData(),$=g.visualStyleAccessPath||"itemStyle",L=getStyleMapper(g,$),V=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(oe,ae){var re=oe.getRawDataItem(ae);if(re&&re[$]){sharedModel.option=re[$];var le=L(sharedModel),ue=oe.ensureUniqueItemVisual(ae,"style");extend$1(ue,le),sharedModel.option.decal&&(oe.setItemVisual(ae,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),V in le&&oe.setItemVisual(ae,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(g){var n=createHashMap();g.eachSeries(function(r){var $=r.getColorBy();if(!r.isColorBySeries()){var L=r.type+"-"+$,V=n.get(L);V||(V={},n.set(L,V)),inner$i(r).scope=V}}),g.eachSeries(function(r){if(!(r.isColorBySeries()||g.isSeriesFiltered(r))){var $=r.getRawData(),L={},V=r.getData(),oe=inner$i(r).scope,ae=r.visualStyleAccessPath||"itemStyle",re=getDefaultColorKey(r,ae);V.each(function(le){var ue=V.getRawIndex(le);L[ue]=le}),$.each(function(le){var ue=L[le],de=V.getItemVisual(ue,"colorFromPalette");if(de){var he=V.ensureUniqueItemVisual(ue,"style"),pe=$.getName(le)||le+"",_e=$.count();he[re]=r.getColorFromPalette(pe,oe,_e)}})}})}},PI$5=Math.PI;function defaultLoading(g,n){n=n||{},defaults$2(n,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Group$4,$=new Rect$3({style:{fill:n.maskColor},zlevel:n.zlevel,z:1e4});r.add($);var L=new ZRText$1({style:{text:n.text,fill:n.textColor,fontSize:n.fontSize,fontWeight:n.fontWeight,fontStyle:n.fontStyle,fontFamily:n.fontFamily},zlevel:n.zlevel,z:10001}),V=new Rect$3({style:{fill:"none"},textContent:L,textConfig:{position:"right",distance:10},zlevel:n.zlevel,z:10001});r.add(V);var oe;return n.showSpinner&&(oe=new Arc$1({shape:{startAngle:-PI$5/2,endAngle:-PI$5/2+.1,r:n.spinnerRadius},style:{stroke:n.color,lineCap:"round",lineWidth:n.lineWidth},zlevel:n.zlevel,z:10001}),oe.animateShape(!0).when(1e3,{endAngle:PI$5*3/2}).start("circularInOut"),oe.animateShape(!0).when(1e3,{startAngle:PI$5*3/2}).delay(300).start("circularInOut"),r.add(oe)),r.resize=function(){var ae=L.getBoundingRect().width,re=n.showSpinner?n.spinnerRadius:0,le=(g.getWidth()-re*2-(n.showSpinner&&ae?10:0)-ae)/2-(n.showSpinner&&ae?0:5+ae/2)+(n.showSpinner?0:ae/2)+(ae?0:re),ue=g.getHeight()/2;n.showSpinner&&oe.setShape({cx:le,cy:ue}),V.setShape({x:le-re,y:ue-re,width:re*2,height:re*2}),$.setShape({x:0,y:0,width:g.getWidth(),height:g.getHeight()})},r.resize(),r}var Scheduler=function(){function g(n,r,$,L){this._stageTaskMap=createHashMap(),this.ecInstance=n,this.api=r,$=this._dataProcessorHandlers=$.slice(),L=this._visualHandlers=L.slice(),this._allHandlers=$.concat(L)}return g.prototype.restoreData=function(n,r){n.restoreData(r),this._stageTaskMap.each(function($){var L=$.overallTask;L&&L.dirty()})},g.prototype.getPerformArgs=function(n,r){if(n.__pipeline){var $=this._pipelineMap.get(n.__pipeline.id),L=$.context,V=!r&&$.progressiveEnabled&&(!L||L.progressiveRender)&&n.__idxInPipeline>$.blockIndex,oe=V?$.step:null,ae=L&&L.modDataCount,re=ae!=null?Math.ceil(ae/oe):null;return{step:oe,modBy:re,modDataCount:ae}}},g.prototype.getPipeline=function(n){return this._pipelineMap.get(n)},g.prototype.updateStreamModes=function(n,r){var $=this._pipelineMap.get(n.uid),L=n.getData(),V=L.count(),oe=$.progressiveEnabled&&r.incrementalPrepareRender&&V>=$.threshold,ae=n.get("large")&&V>=n.get("largeThreshold"),re=n.get("progressiveChunkMode")==="mod"?V:null;n.pipelineContext=$.context={progressiveRender:oe,modDataCount:re,large:ae}},g.prototype.restorePipelines=function(n){var r=this,$=r._pipelineMap=createHashMap();n.eachSeries(function(L){var V=L.getProgressive(),oe=L.uid;$.set(oe,{id:oe,head:null,tail:null,threshold:L.getProgressiveThreshold(),progressiveEnabled:V&&!(L.preventIncremental&&L.preventIncremental()),blockIndex:-1,step:Math.round(V||700),count:0}),r._pipe(L,L.dataTask)})},g.prototype.prepareStageTasks=function(){var n=this._stageTaskMap,r=this.api.getModel(),$=this.api;each$f(this._allHandlers,function(L){var V=n.get(L.uid)||n.set(L.uid,{}),oe="";assert(!(L.reset&&L.overallReset),oe),L.reset&&this._createSeriesStageTask(L,V,r,$),L.overallReset&&this._createOverallStageTask(L,V,r,$)},this)},g.prototype.prepareView=function(n,r,$,L){var V=n.renderTask,oe=V.context;oe.model=r,oe.ecModel=$,oe.api=L,V.__block=!n.incrementalPrepareRender,this._pipe(r,V)},g.prototype.performDataProcessorTasks=function(n,r){this._performStageTasks(this._dataProcessorHandlers,n,r,{block:!0})},g.prototype.performVisualTasks=function(n,r,$){this._performStageTasks(this._visualHandlers,n,r,$)},g.prototype._performStageTasks=function(n,r,$,L){L=L||{};var V=!1,oe=this;each$f(n,function(re,le){if(!(L.visualType&&L.visualType!==re.visualType)){var ue=oe._stageTaskMap.get(re.uid),de=ue.seriesTaskMap,he=ue.overallTask;if(he){var pe,_e=he.agentStubMap;_e.each(function(xe){ae(L,xe)&&(xe.dirty(),pe=!0)}),pe&&he.dirty(),oe.updatePayload(he,$);var $e=oe.getPerformArgs(he,L.block);_e.each(function(xe){xe.perform($e)}),he.perform($e)&&(V=!0)}else de&&de.each(function(xe,Oe){ae(L,xe)&&xe.dirty();var Ce=oe.getPerformArgs(xe,L.block);Ce.skip=!re.performRawSeries&&r.isSeriesFiltered(xe.context.model),oe.updatePayload(xe,$),xe.perform(Ce)&&(V=!0)})}});function ae(re,le){return re.setDirty&&(!re.dirtyMap||re.dirtyMap.get(le.__pipeline.id))}this.unfinished=V||this.unfinished},g.prototype.performSeriesTasks=function(n){var r;n.eachSeries(function($){r=$.dataTask.perform()||r}),this.unfinished=r||this.unfinished},g.prototype.plan=function(){this._pipelineMap.each(function(n){var r=n.tail;do{if(r.__block){n.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},g.prototype.updatePayload=function(n,r){r!=="remain"&&(n.context.payload=r)},g.prototype._createSeriesStageTask=function(n,r,$,L){var V=this,oe=r.seriesTaskMap,ae=r.seriesTaskMap=createHashMap(),re=n.seriesType,le=n.getTargetSeries;n.createOnAllSeries?$.eachRawSeries(ue):re?$.eachRawSeriesByType(re,ue):le&&le($,L).each(ue);function ue(de){var he=de.uid,pe=ae.set(he,oe&&oe.get(he)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));pe.context={model:de,ecModel:$,api:L,useClearVisual:n.isVisual&&!n.isLayout,plan:n.plan,reset:n.reset,scheduler:V},V._pipe(de,pe)}},g.prototype._createOverallStageTask=function(n,r,$,L){var V=this,oe=r.overallTask=r.overallTask||createTask({reset:overallTaskReset});oe.context={ecModel:$,api:L,overallReset:n.overallReset,scheduler:V};var ae=oe.agentStubMap,re=oe.agentStubMap=createHashMap(),le=n.seriesType,ue=n.getTargetSeries,de=!0,he=!1,pe="";assert(!n.createOnAllSeries,pe),le?$.eachRawSeriesByType(le,_e):ue?ue($,L).each(_e):(de=!1,each$f($.getSeries(),_e));function _e($e){var xe=$e.uid,Oe=re.set(xe,ae&&ae.get(xe)||(he=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));Oe.context={model:$e,overallProgress:de},Oe.agent=oe,Oe.__block=de,V._pipe($e,Oe)}he&&oe.dirty()},g.prototype._pipe=function(n,r){var $=n.uid,L=this._pipelineMap.get($);!L.head&&(L.head=r),L.tail&&L.tail.pipe(r),L.tail=r,r.__idxInPipeline=L.count++,r.__pipeline=L},g.wrapStageHandler=function(n,r){return isFunction$1(n)&&(n={overallReset:n,seriesType:detectSeriseType(n)}),n.uid=getUID("stageHandler"),r&&(n.visualType=r),n},g}();function overallTaskReset(g){g.overallReset(g.ecModel,g.api,g.payload)}function stubReset(g){return g.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(g){return g.plan?g.plan(g.model,g.ecModel,g.api,g.payload):null}function seriesTaskReset(g){g.useClearVisual&&g.data.clearAllVisual();var n=g.resetDefines=normalizeToArray(g.reset(g.model,g.ecModel,g.api,g.payload));return n.length>1?map$1(n,function(r,$){return makeSeriesTaskProgress($)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(g){return function(n,r){var $=r.data,L=r.resetDefines[g];if(L&&L.dataEach)for(var V=n.start;V<n.end;V++)L.dataEach($,V);else L&&L.progress&&L.progress(n,$)}}function seriesTaskCount(g){return g.data.count()}function detectSeriseType(g){seriesType=null;try{g(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel$1),mockMethods(apiMock,ExtensionAPI$1),ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(g){seriesType=g},ecModelMock.eachComponent=function(g){g.mainType==="series"&&g.subType&&(seriesType=g.subType)};function mockMethods(g,n){for(var r in n.prototype)g[r]=noop$1}const Scheduler$1=Scheduler;var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;const darkTheme=theme;var ECEventProcessor=function(){function g(){}return g.prototype.normalizeQuery=function(n){var r={},$={},L={};if(isString$1(n)){var V=parseClassType(n);r.mainType=V.main||null,r.subType=V.sub||null}else{var oe=["Index","Name","Id"],ae={name:1,dataIndex:1,dataType:1};each$f(n,function(re,le){for(var ue=!1,de=0;de<oe.length;de++){var he=oe[de],pe=le.lastIndexOf(he);if(pe>0&&pe===le.length-he.length){var _e=le.slice(0,pe);_e!=="data"&&(r.mainType=_e,r[he.toLowerCase()]=re,ue=!0)}}ae.hasOwnProperty(le)&&($[le]=re,ue=!0),ue||(L[le]=re)})}return{cptQuery:r,dataQuery:$,otherQuery:L}},g.prototype.filter=function(n,r){var $=this.eventInfo;if(!$)return!0;var L=$.targetEl,V=$.packedEvent,oe=$.model,ae=$.view;if(!oe||!ae)return!0;var re=r.cptQuery,le=r.dataQuery;return ue(re,oe,"mainType")&&ue(re,oe,"subType")&&ue(re,oe,"index","componentIndex")&&ue(re,oe,"name")&&ue(re,oe,"id")&&ue(le,V,"name")&&ue(le,V,"dataIndex")&&ue(le,V,"dataType")&&(!ae.filterForExposedEvent||ae.filterForExposedEvent(n,r.otherQuery,L,V));function ue(de,he,pe,_e){return de[pe]==null||he[_e||pe]===de[pe]}},g.prototype.afterTrigger=function(){this.eventInfo=null},g}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(g,n){var r=g.getData();if(g.legendIcon&&r.setVisual("legendIcon",g.legendIcon),!g.hasSymbolVisual)return;for(var $={},L={},V=!1,oe=0;oe<SYMBOL_PROPS_WITH_CB.length;oe++){var ae=SYMBOL_PROPS_WITH_CB[oe],re=g.get(ae);isFunction$1(re)?(V=!0,L[ae]=re):$[ae]=re}if($.symbol=$.symbol||g.defaultSymbol,r.setVisual(extend$1({legendIcon:g.legendIcon||$.symbol,symbolKeepAspect:g.get("symbolKeepAspect")},$)),n.isSeriesFiltered(g))return;var le=keys(L);function ue(de,he){for(var pe=g.getRawValue(he),_e=g.getDataParams(he),$e=0;$e<le.length;$e++){var xe=le[$e];de.setItemVisual(he,xe,L[xe](pe,_e))}}return{dataEach:V?ue:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(g,n){if(!g.hasSymbolVisual||n.isSeriesFiltered(g))return;var r=g.getData();function $(L,V){for(var oe=L.getItemModel(V),ae=0;ae<SYMBOL_PROPS.length;ae++){var re=SYMBOL_PROPS[ae],le=oe.getShallow(re,!0);le!=null&&L.setItemVisual(V,re,le)}}return{dataEach:r.hasItemOption?$:null}}};function getItemVisualFromData(g,n,r){switch(r){case"color":var $=g.getItemVisual(n,"style");return $[g.getVisual("drawType")];case"opacity":return g.getItemVisual(n,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return g.getItemVisual(n,r)}}function getVisualFromData(g,n){switch(n){case"color":var r=g.getVisual("style");return r[g.getVisual("drawType")];case"opacity":return g.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return g.getVisual(n)}}function setItemVisualFromData(g,n,r,$){switch(r){case"color":var L=g.ensureUniqueItemVisual(n,"style");L[g.getVisual("drawType")]=$,g.setItemVisual(n,"colorFromPalette",!1);break;case"opacity":g.ensureUniqueItemVisual(n,"style").opacity=$;break;case"symbol":case"symbolSize":case"liftZ":g.setItemVisual(n,r,$);break}}function createLegacyDataSelectAction(g,n){function r($,L){var V=[];return $.eachComponent({mainType:"series",subType:g,query:L},function(oe){V.push(oe.seriesIndex)}),V}each$f([[g+"ToggleSelect","toggleSelect"],[g+"Select","select"],[g+"UnSelect","unselect"]],function($){n($[0],function(L,V,oe){L=extend$1({},L),oe.dispatchAction(extend$1(L,{type:$[1],seriesIndex:r(V,L)}))})})}function handleSeriesLegacySelectEvents(g,n,r,$,L){var V=g+n;r.isSilent(V)||$.eachComponent({mainType:"series",subType:"pie"},function(oe){for(var ae=oe.seriesIndex,re=oe.option.selectedMap,le=L.selected,ue=0;ue<le.length;ue++)if(le[ue].seriesIndex===ae){var de=oe.getData(),he=queryDataIndex(de,L.fromActionPayload);r.trigger(V,{type:V,seriesId:oe.id,name:isArray$2(he)?de.getName(he[0]):de.getName(he),selected:isString$1(re)?re:extend$1({},re)})}})}function handleLegacySelectEvents(g,n,r){g.on("selectchanged",function($){var L=r.getModel();$.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",n,L,$),handleSeriesLegacySelectEvents("pie","selectchanged",n,L,$)):$.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",n,L,$),handleSeriesLegacySelectEvents("pie","selected",n,L,$)):$.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",n,L,$),handleSeriesLegacySelectEvents("pie","unselected",n,L,$))})}function findEventDispatcher(g,n,r){for(var $;g&&!(n(g)&&($=g,r));)g=g.__hostTarget||g.parent;return $}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function g(){this._id="__ec_inner_"+wmUniqueIndex++}return g.prototype.get=function(n){return this._guard(n)[this._id]},g.prototype.set=function(n,r){var $=this._guard(n);return supportDefineProperty?Object.defineProperty($,this._id,{value:r,enumerable:!1,configurable:!0}):$[this._id]=r,this},g.prototype.delete=function(n){return this.has(n)?(delete this._guard(n)[this._id],!0):!1},g.prototype.has=function(n){return!!this._guard(n)[this._id]},g.prototype._guard=function(n){if(n!==Object(n))throw TypeError("Value of WeakMap is not a non-null object.");return n},g}();const WeakMap$1$1=WeakMap$1;var Triangle=Path$1.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(g,n){var r=n.cx,$=n.cy,L=n.width/2,V=n.height/2;g.moveTo(r,$-V),g.lineTo(r+L,$+V),g.lineTo(r-L,$+V),g.closePath()}}),Diamond=Path$1.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(g,n){var r=n.cx,$=n.cy,L=n.width/2,V=n.height/2;g.moveTo(r,$-V),g.lineTo(r+L,$),g.lineTo(r,$+V),g.lineTo(r-L,$),g.closePath()}}),Pin=Path$1.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(g,n){var r=n.x,$=n.y,L=n.width/5*3,V=Math.max(L,n.height),oe=L/2,ae=oe*oe/(V-oe),re=$-V+oe+ae,le=Math.asin(ae/oe),ue=Math.cos(le)*oe,de=Math.sin(le),he=Math.cos(le),pe=oe*.6,_e=oe*.7;g.moveTo(r-ue,re+ae),g.arc(r,re,oe,Math.PI-le,Math.PI*2+le),g.bezierCurveTo(r+ue-de*pe,re+ae+he*pe,r,$-_e,r,$),g.bezierCurveTo(r,$-_e,r-ue+de*pe,re+ae+he*pe,r-ue,re+ae),g.closePath()}}),Arrow=Path$1.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(g,n){var r=n.height,$=n.width,L=n.x,V=n.y,oe=$/3*2;g.moveTo(L,V),g.lineTo(L+oe,V+r),g.lineTo(L,V+r/4*3),g.lineTo(L-oe,V+r),g.lineTo(L,V),g.closePath()}}),symbolCtors={line:Line$3,rect:Rect$3,roundRect:Rect$3,square:Rect$3,circle:Circle$1,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(g,n,r,$,L){L.x1=g,L.y1=n+$/2,L.x2=g+r,L.y2=n+$/2},rect:function(g,n,r,$,L){L.x=g,L.y=n,L.width=r,L.height=$},roundRect:function(g,n,r,$,L){L.x=g,L.y=n,L.width=r,L.height=$,L.r=Math.min(r,$)/4},square:function(g,n,r,$,L){var V=Math.min(r,$);L.x=g,L.y=n,L.width=V,L.height=V},circle:function(g,n,r,$,L){L.cx=g+r/2,L.cy=n+$/2,L.r=Math.min(r,$)/2},diamond:function(g,n,r,$,L){L.cx=g+r/2,L.cy=n+$/2,L.width=r,L.height=$},pin:function(g,n,r,$,L){L.x=g+r/2,L.y=n+$/2,L.width=r,L.height=$},arrow:function(g,n,r,$,L){L.x=g+r/2,L.y=n+$/2,L.width=r,L.height=$},triangle:function(g,n,r,$,L){L.cx=g+r/2,L.cy=n+$/2,L.width=r,L.height=$}},symbolBuildProxies={};each$f(symbolCtors,function(g,n){symbolBuildProxies[n]=new g});var SymbolClz$1=Path$1.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(g,n,r){var $=calculateTextPosition(g,n,r),L=this.shape;return L&&L.symbolType==="pin"&&n.position==="inside"&&($.y=r.y+r.height*.4),$},buildPath:function(g,n,r){var $=n.symbolType;if($!=="none"){var L=symbolBuildProxies[$];L||($="rect",L=symbolBuildProxies[$]),symbolShapeMakers[$](n.x,n.y,n.width,n.height,L.shape),L.buildPath(g,L.shape,r)}}});function symbolPathSetColor(g,n){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=g,r.fill=n||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=g:r.fill=g,this.markRedraw()}}function createSymbol$1(g,n,r,$,L,V,oe){var ae=g.indexOf("empty")===0;ae&&(g=g.substr(5,1).toLowerCase()+g.substr(6));var re;return g.indexOf("image://")===0?re=makeImage(g.slice(8),new BoundingRect$1(n,r,$,L),oe?"center":"cover"):g.indexOf("path://")===0?re=makePath(g.slice(7),{},new BoundingRect$1(n,r,$,L),oe?"center":"cover"):re=new SymbolClz$1({shape:{symbolType:g,x:n,y:r,width:$,height:L}}),re.__isEmptyBrush=ae,re.setColor=symbolPathSetColor,V&&re.setColor(V),re}function normalizeSymbolSize(g){return isArray$2(g)||(g=[+g,+g]),[g[0]||0,g[1]||0]}function normalizeSymbolOffset(g,n){if(g!=null)return isArray$2(g)||(g=[g,g]),[parsePercent(g[0],n[0])||0,parsePercent(retrieve2(g[1],g[0]),n[1])||0]}function isSafeNum(g){return isFinite(g)}function createLinearGradient(g,n,r){var $=n.x==null?0:n.x,L=n.x2==null?1:n.x2,V=n.y==null?0:n.y,oe=n.y2==null?0:n.y2;n.global||($=$*r.width+r.x,L=L*r.width+r.x,V=V*r.height+r.y,oe=oe*r.height+r.y),$=isSafeNum($)?$:0,L=isSafeNum(L)?L:1,V=isSafeNum(V)?V:0,oe=isSafeNum(oe)?oe:0;var ae=g.createLinearGradient($,V,L,oe);return ae}function createRadialGradient(g,n,r){var $=r.width,L=r.height,V=Math.min($,L),oe=n.x==null?.5:n.x,ae=n.y==null?.5:n.y,re=n.r==null?.5:n.r;n.global||(oe=oe*$+r.x,ae=ae*L+r.y,re=re*V),oe=isSafeNum(oe)?oe:.5,ae=isSafeNum(ae)?ae:.5,re=re>=0&&isSafeNum(re)?re:.5;var le=g.createRadialGradient(oe,ae,0,oe,ae,re);return le}function getCanvasGradient(g,n,r){for(var $=n.type==="radial"?createRadialGradient(g,n,r):createLinearGradient(g,n,r),L=n.colorStops,V=0;V<L.length;V++)$.addColorStop(L[V].offset,L[V].color);return $}function isClipPathChanged(g,n){if(g===n||!g&&!n)return!1;if(!g||!n||g.length!==n.length)return!0;for(var r=0;r<g.length;r++)if(g[r]!==n[r])return!0;return!1}function parseInt10(g){return parseInt(g,10)}function getSize$1(g,n,r){var $=["width","height"][n],L=["clientWidth","clientHeight"][n],V=["paddingLeft","paddingTop"][n],oe=["paddingRight","paddingBottom"][n];if(r[$]!=null&&r[$]!=="auto")return parseFloat(r[$]);var ae=document.defaultView.getComputedStyle(g);return(g[L]||parseInt10(ae[$])||parseInt10(g.style[$]))-(parseInt10(ae[V])||0)-(parseInt10(ae[oe])||0)|0}function normalizeLineDash(g,n){return!g||g==="solid"||!(n>0)?null:g==="dashed"?[4*n,2*n]:g==="dotted"?[n]:isNumber$1(g)?[g]:isArray$2(g)?g:null}function getLineDash(g){var n=g.style,r=n.lineDash&&n.lineWidth>0&&normalizeLineDash(n.lineDash,n.lineWidth),$=n.lineDashOffset;if(r){var L=n.strokeNoScale&&g.getLineScale?g.getLineScale():1;L&&L!==1&&(r=map$1(r,function(V){return V/L}),$/=L)}return[r,$]}var pathProxyForDraw=new PathProxy$1(!0);function styleHasStroke(g){var n=g.stroke;return!(n==null||n==="none"||!(g.lineWidth>0))}function isValidStrokeFillStyle(g){return typeof g=="string"&&g!=="none"}function styleHasFill(g){var n=g.fill;return n!=null&&n!=="none"}function doFillPath(g,n){if(n.fillOpacity!=null&&n.fillOpacity!==1){var r=g.globalAlpha;g.globalAlpha=n.fillOpacity*n.opacity,g.fill(),g.globalAlpha=r}else g.fill()}function doStrokePath(g,n){if(n.strokeOpacity!=null&&n.strokeOpacity!==1){var r=g.globalAlpha;g.globalAlpha=n.strokeOpacity*n.opacity,g.stroke(),g.globalAlpha=r}else g.stroke()}function createCanvasPattern(g,n,r){var $=createOrUpdateImage(n.image,n.__image,r);if(isImageReady($)){var L=g.createPattern($,n.repeat||"repeat");if(typeof DOMMatrix=="function"&&L&&L.setTransform){var V=new DOMMatrix;V.translateSelf(n.x||0,n.y||0),V.rotateSelf(0,0,(n.rotation||0)*RADIAN_TO_DEGREE),V.scaleSelf(n.scaleX||1,n.scaleY||1),L.setTransform(V)}return L}}function brushPath(g,n,r,$){var L,V=styleHasStroke(r),oe=styleHasFill(r),ae=r.strokePercent,re=ae<1,le=!n.path;(!n.silent||re)&&le&&n.createPathProxy();var ue=n.path||pathProxyForDraw,de=n.__dirty;if(!$){var he=r.fill,pe=r.stroke,_e=oe&&!!he.colorStops,$e=V&&!!pe.colorStops,xe=oe&&!!he.image,Oe=V&&!!pe.image,Ce=void 0,Ie=void 0,Ne=void 0,ze=void 0,Fe=void 0;(_e||$e)&&(Fe=n.getBoundingRect()),_e&&(Ce=de?getCanvasGradient(g,he,Fe):n.__canvasFillGradient,n.__canvasFillGradient=Ce),$e&&(Ie=de?getCanvasGradient(g,pe,Fe):n.__canvasStrokeGradient,n.__canvasStrokeGradient=Ie),xe&&(Ne=de||!n.__canvasFillPattern?createCanvasPattern(g,he,n):n.__canvasFillPattern,n.__canvasFillPattern=Ne),Oe&&(ze=de||!n.__canvasStrokePattern?createCanvasPattern(g,pe,n):n.__canvasStrokePattern,n.__canvasStrokePattern=Ne),_e?g.fillStyle=Ce:xe&&(Ne?g.fillStyle=Ne:oe=!1),$e?g.strokeStyle=Ie:Oe&&(ze?g.strokeStyle=ze:V=!1)}var Ue=n.getGlobalScale();ue.setScale(Ue[0],Ue[1],n.segmentIgnoreThreshold);var At,Et;g.setLineDash&&r.lineDash&&(L=getLineDash(n),At=L[0],Et=L[1]);var Pt=!0;(le||de&SHAPE_CHANGED_BIT)&&(ue.setDPR(g.dpr),re?ue.setContext(null):(ue.setContext(g),Pt=!1),ue.reset(),n.buildPath(ue,n.shape,$),ue.toStatic(),n.pathUpdated()),Pt&&ue.rebuildPath(g,re?ae:1),At&&(g.setLineDash(At),g.lineDashOffset=Et),$||(r.strokeFirst?(V&&doStrokePath(g,r),oe&&doFillPath(g,r)):(oe&&doFillPath(g,r),V&&doStrokePath(g,r))),At&&g.setLineDash([])}function brushImage(g,n,r){var $=n.__image=createOrUpdateImage(r.image,n.__image,n,n.onload);if(!(!$||!isImageReady($))){var L=r.x||0,V=r.y||0,oe=n.getWidth(),ae=n.getHeight(),re=$.width/$.height;if(oe==null&&ae!=null?oe=ae*re:ae==null&&oe!=null?ae=oe/re:oe==null&&ae==null&&(oe=$.width,ae=$.height),r.sWidth&&r.sHeight){var le=r.sx||0,ue=r.sy||0;g.drawImage($,le,ue,r.sWidth,r.sHeight,L,V,oe,ae)}else if(r.sx&&r.sy){var le=r.sx,ue=r.sy,de=oe-le,he=ae-ue;g.drawImage($,le,ue,de,he,L,V,oe,ae)}else g.drawImage($,L,V,oe,ae)}}function brushText(g,n,r){var $,L=r.text;if(L!=null&&(L+=""),L){g.font=r.font||DEFAULT_FONT,g.textAlign=r.textAlign,g.textBaseline=r.textBaseline;var V=void 0,oe=void 0;g.setLineDash&&r.lineDash&&($=getLineDash(n),V=$[0],oe=$[1]),V&&(g.setLineDash(V),g.lineDashOffset=oe),r.strokeFirst?(styleHasStroke(r)&&g.strokeText(L,r.x,r.y),styleHasFill(r)&&g.fillText(L,r.x,r.y)):(styleHasFill(r)&&g.fillText(L,r.x,r.y),styleHasStroke(r)&&g.strokeText(L,r.x,r.y)),V&&g.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(g,n,r,$,L){var V=!1;if(!$&&(r=r||{},n===r))return!1;if($||n.opacity!==r.opacity){flushPathDrawn(g,L),V=!0;var oe=Math.max(Math.min(n.opacity,1),0);g.globalAlpha=isNaN(oe)?DEFAULT_COMMON_STYLE.opacity:oe}($||n.blend!==r.blend)&&(V||(flushPathDrawn(g,L),V=!0),g.globalCompositeOperation=n.blend||DEFAULT_COMMON_STYLE.blend);for(var ae=0;ae<SHADOW_NUMBER_PROPS.length;ae++){var re=SHADOW_NUMBER_PROPS[ae];($||n[re]!==r[re])&&(V||(flushPathDrawn(g,L),V=!0),g[re]=g.dpr*(n[re]||0))}return($||n.shadowColor!==r.shadowColor)&&(V||(flushPathDrawn(g,L),V=!0),g.shadowColor=n.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),V}function bindPathAndTextCommonStyle(g,n,r,$,L){var V=getStyle(n,L.inHover),oe=$?null:r&&getStyle(r,L.inHover)||{};if(V===oe)return!1;var ae=bindCommonProps(g,V,oe,$,L);if(($||V.fill!==oe.fill)&&(ae||(flushPathDrawn(g,L),ae=!0),isValidStrokeFillStyle(V.fill)&&(g.fillStyle=V.fill)),($||V.stroke!==oe.stroke)&&(ae||(flushPathDrawn(g,L),ae=!0),isValidStrokeFillStyle(V.stroke)&&(g.strokeStyle=V.stroke)),($||V.opacity!==oe.opacity)&&(ae||(flushPathDrawn(g,L),ae=!0),g.globalAlpha=V.opacity==null?1:V.opacity),n.hasStroke()){var re=V.lineWidth,le=re/(V.strokeNoScale&&n.getLineScale?n.getLineScale():1);g.lineWidth!==le&&(ae||(flushPathDrawn(g,L),ae=!0),g.lineWidth=le)}for(var ue=0;ue<STROKE_PROPS.length;ue++){var de=STROKE_PROPS[ue],he=de[0];($||V[he]!==oe[he])&&(ae||(flushPathDrawn(g,L),ae=!0),g[he]=V[he]||de[1])}return ae}function bindImageStyle(g,n,r,$,L){return bindCommonProps(g,getStyle(n,L.inHover),r&&getStyle(r,L.inHover),$,L)}function setContextTransform(g,n){var r=n.transform,$=g.dpr||1;r?g.setTransform($*r[0],$*r[1],$*r[2],$*r[3],$*r[4],$*r[5]):g.setTransform($,0,0,$,0,0)}function updateClipStatus(g,n,r){for(var $=!1,L=0;L<g.length;L++){var V=g[L];$=$||V.isZeroArea(),setContextTransform(n,V),n.beginPath(),V.buildPath(n,V.shape),n.clip()}r.allClipped=$}function isTransformChanged(g,n){return g&&n?g[0]!==n[0]||g[1]!==n[1]||g[2]!==n[2]||g[3]!==n[3]||g[4]!==n[4]||g[5]!==n[5]:!(!g&&!n)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(g){var n=styleHasFill(g),r=styleHasStroke(g);return!(g.lineDash||!(+n^+r)||n&&typeof g.fill!="string"||r&&typeof g.stroke!="string"||g.strokePercent<1||g.strokeOpacity<1||g.fillOpacity<1)}function flushPathDrawn(g,n){n.batchFill&&g.fill(),n.batchStroke&&g.stroke(),n.batchFill="",n.batchStroke=""}function getStyle(g,n){return n&&g.__hoverStyle||g.style}function brushSingle(g,n){brush$1(g,n,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(g,n,r,$){var L=n.transform;if(!n.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){n.__dirty&=~REDRAW_BIT,n.__isRendered=!1;return}var V=n.__clipPaths,oe=r.prevElClipPaths,ae=!1,re=!1;if((!oe||isClipPathChanged(V,oe))&&(oe&&oe.length&&(flushPathDrawn(g,r),g.restore(),re=ae=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),V&&V.length&&(flushPathDrawn(g,r),g.save(),updateClipStatus(V,g,r),ae=!0),r.prevElClipPaths=V),r.allClipped){n.__isRendered=!1;return}n.beforeBrush&&n.beforeBrush(),n.innerBeforeBrush();var le=r.prevEl;le||(re=ae=!0);var ue=n instanceof Path$1&&n.autoBatch&&canPathBatch(n.style);ae||isTransformChanged(L,le.transform)?(flushPathDrawn(g,r),setContextTransform(g,n)):ue||flushPathDrawn(g,r);var de=getStyle(n,r.inHover);n instanceof Path$1?(r.lastDrawType!==DRAW_TYPE_PATH&&(re=!0,r.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(g,n,le,re,r),(!ue||!r.batchFill&&!r.batchStroke)&&g.beginPath(),brushPath(g,n,de,ue),ue&&(r.batchFill=de.fill||"",r.batchStroke=de.stroke||"")):n instanceof TSpan$1?(r.lastDrawType!==DRAW_TYPE_TEXT&&(re=!0,r.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(g,n,le,re,r),brushText(g,n,de)):n instanceof ZRImage$1?(r.lastDrawType!==DRAW_TYPE_IMAGE&&(re=!0,r.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(g,n,le,re,r),brushImage(g,n,de)):n.getTemporalDisplayables&&(r.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(re=!0,r.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(g,n,r)),ue&&$&&flushPathDrawn(g,r),n.innerAfterBrush(),n.afterBrush&&n.afterBrush(),r.prevEl=n,n.__dirty=0,n.__isRendered=!0}function brushIncremental(g,n,r){var $=n.getDisplayables(),L=n.getTemporalDisplayables();g.save();var V={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},oe,ae;for(oe=n.getCursor(),ae=$.length;oe<ae;oe++){var re=$[oe];re.beforeBrush&&re.beforeBrush(),re.innerBeforeBrush(),brush$1(g,re,V,oe===ae-1),re.innerAfterBrush(),re.afterBrush&&re.afterBrush(),V.prevEl=re}for(var le=0,ue=L.length;le<ue;le++){var re=L[le];re.beforeBrush&&re.beforeBrush(),re.innerBeforeBrush(),brush$1(g,re,V,le===ue-1),re.innerAfterBrush(),re.afterBrush&&re.afterBrush(),V.prevEl=re}n.clearTemporalDisplayables(),n.notClear=!0,g.restore()}var decalMap=new WeakMap$1$1,decalCache=new LRU$1(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(g,n){if(g==="none")return null;var r=n.getDevicePixelRatio(),$=n.getZr(),L=$.painter.type==="svg";g.dirty&&decalMap.delete(g);var V=decalMap.get(g);if(V)return V;var oe=defaults$2(g,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});oe.backgroundColor==="none"&&(oe.backgroundColor=null);var ae={repeat:"repeat"};return re(ae),ae.rotation=oe.rotation,ae.scaleX=ae.scaleY=L?1:1/r,decalMap.set(g,ae),g.dirty=!1,ae;function re(le){for(var ue=[r],de=!0,he=0;he<decalKeys.length;++he){var pe=oe[decalKeys[he]];if(pe!=null&&!isArray$2(pe)&&!isString$1(pe)&&!isNumber$1(pe)&&typeof pe!="boolean"){de=!1;break}ue.push(pe)}var _e;if(de){_e=ue.join(",")+(L?"-svg":"");var $e=decalCache.get(_e);$e&&(L?le.svgElement=$e:le.image=$e)}var xe=normalizeDashArrayX(oe.dashArrayX),Oe=normalizeDashArrayY(oe.dashArrayY),Ce=normalizeSymbolArray(oe.symbol),Ie=getLineBlockLengthX(xe),Ne=getLineBlockLengthY(Oe),ze=!L&&platformApi.createCanvas(),Fe=L&&{tag:"g",attrs:{},key:"dcl",children:[]},Ue=Et(),At;ze&&(ze.width=Ue.width*r,ze.height=Ue.height*r,At=ze.getContext("2d")),Pt(),de&&decalCache.put(_e,ze||Fe),le.image=ze,le.svgElement=Fe,le.svgWidth=Ue.width,le.svgHeight=Ue.height;function Et(){for(var kt=1,Dt=0,Lt=Ie.length;Dt<Lt;++Dt)kt=getLeastCommonMultiple(kt,Ie[Dt]);for(var hn=1,Dt=0,Lt=Ce.length;Dt<Lt;++Dt)hn=getLeastCommonMultiple(hn,Ce[Dt].length);kt*=hn;var vn=Ne*Ie.length*Ce.length;return{width:Math.max(1,Math.min(kt,oe.maxTileWidth)),height:Math.max(1,Math.min(vn,oe.maxTileHeight))}}function Pt(){At&&(At.clearRect(0,0,ze.width,ze.height),oe.backgroundColor&&(At.fillStyle=oe.backgroundColor,At.fillRect(0,0,ze.width,ze.height)));for(var kt=0,Dt=0;Dt<Oe.length;++Dt)kt+=Oe[Dt];if(kt<=0)return;for(var Lt=-Ne,hn=0,vn=0,_n=0;Lt<Ue.height;){if(hn%2===0){for(var $n=vn/2%Ce.length,Sn=0,xn=0,On=0;Sn<Ue.width*2;){for(var Cn=0,Dt=0;Dt<xe[_n].length;++Dt)Cn+=xe[_n][Dt];if(Cn<=0)break;if(xn%2===0){var An=(1-oe.symbolSize)*.5,Rn=Sn+xe[_n][xn]*An,Fn=Lt+Oe[hn]*An,Pn=xe[_n][xn]*oe.symbolSize,Un=Oe[hn]*oe.symbolSize,Dn=On/2%Ce[$n].length;kn(Rn,Fn,Pn,Un,Ce[$n][Dn])}Sn+=xe[_n][xn],++On,++xn,xn===xe[_n].length&&(xn=0)}++_n,_n===xe.length&&(_n=0)}Lt+=Oe[hn],++vn,++hn,hn===Oe.length&&(hn=0)}function kn(Nn,Vn,Ln,Tn,In){var Bn=L?1:r,Qn=createSymbol$1(In,Nn*Bn,Vn*Bn,Ln*Bn,Tn*Bn,oe.color,oe.symbolKeepAspect);if(L){var Zn=$.painter.renderOneToVNode(Qn);Zn&&Fe.children.push(Zn)}else brushSingle(At,Qn)}}}}function normalizeSymbolArray(g){if(!g||g.length===0)return[["rect"]];if(isString$1(g))return[[g]];for(var n=!0,r=0;r<g.length;++r)if(!isString$1(g[r])){n=!1;break}if(n)return normalizeSymbolArray([g]);for(var $=[],r=0;r<g.length;++r)isString$1(g[r])?$.push([g[r]]):$.push(g[r]);return $}function normalizeDashArrayX(g){if(!g||g.length===0)return[[0,0]];if(isNumber$1(g)){var n=Math.ceil(g);return[[n,n]]}for(var r=!0,$=0;$<g.length;++$)if(!isNumber$1(g[$])){r=!1;break}if(r)return normalizeDashArrayX([g]);for(var L=[],$=0;$<g.length;++$)if(isNumber$1(g[$])){var n=Math.ceil(g[$]);L.push([n,n])}else{var n=map$1(g[$],function(ae){return Math.ceil(ae)});n.length%2===1?L.push(n.concat(n)):L.push(n)}return L}function normalizeDashArrayY(g){if(!g||typeof g=="object"&&g.length===0)return[0,0];if(isNumber$1(g)){var n=Math.ceil(g);return[n,n]}var r=map$1(g,function($){return Math.ceil($)});return g.length%2?r.concat(r):r}function getLineBlockLengthX(g){return map$1(g,function(n){return getLineBlockLengthY(n)})}function getLineBlockLengthY(g){for(var n=0,r=0;r<g.length;++r)n+=g[r];return g.length%2===1?n*2:n}function decalVisual(g,n){g.eachRawSeries(function(r){if(!g.isSeriesFiltered(r)){var $=r.getData();$.hasItemVisual()&&$.each(function(oe){var ae=$.getItemVisual(oe,"decal");if(ae){var re=$.ensureUniqueItemVisual(oe,"style");re.decal=createOrUpdatePatternFromDecal(ae,n)}});var L=$.getVisual("decal");if(L){var V=$.getVisual("style");V.decal=createOrUpdatePatternFromDecal(L,n)}}})}var lifecycle=new Eventful$1;const lifecycle$1=lifecycle;var implsStore={};function registerImpl(g,n){implsStore[g]=n}function getImpl(g){return implsStore[g]}var TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(g){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,g,n)}}function createRegisterEventWithLowercaseMessageCenter(g){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return toLowercaseNameAndCallEventful(this,g,n)}}function toLowercaseNameAndCallEventful(g,n,r){return r[0]=r[0]&&r[0].toLowerCase(),Eventful$1.prototype[n].apply(g,r)}var MessageCenter=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n}(Eventful$1),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on"),messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this,new ECEventProcessor)||this;V._chartsViews=[],V._chartsMap={},V._componentsViews=[],V._componentsMap={},V._pendingActions=[],L=L||{},isString$1($)&&($=themeStorage[$]),V._dom=r;var oe="canvas",ae="auto",re=!1,le=V._zr=init$2(r,{renderer:L.renderer||oe,devicePixelRatio:L.devicePixelRatio,width:L.width,height:L.height,ssr:L.ssr,useDirtyRect:retrieve2(L.useDirtyRect,re),useCoarsePointer:retrieve2(L.useCoarsePointer,ae),pointerSize:L.pointerSize});V._ssr=L.ssr,V._throttledZrFlush=throttle(bind$2(le.flush,le),17),$=clone$4($),$&&globalBackwardCompat($,!0),V._theme=$,V._locale=createLocaleObject(L.locale||SYSTEM_LANG),V._coordSysMgr=new CoordinateSystem;var ue=V._api=createExtensionAPI(V);function de(he,pe){return he.__prio-pe.__prio}return sort$2(visualFuncs,de),sort$2(dataProcessorFuncs,de),V._scheduler=new Scheduler$1(V,ue,dataProcessorFuncs,visualFuncs),V._messageCenter=new MessageCenter,V._initEvents(),V.resize=bind$2(V.resize,V),le.animation.on("frame",V._onframe,V),bindRenderedEvent(le,V),bindMouseEvent(le,V),setAsPrimitive(V),V}return n.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var r=this._scheduler;if(this[PENDING_UPDATE]){var $=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(re){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,re}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,$),triggerUpdatedEvent.call(this,$)}else if(r.unfinished){var L=TEST_FRAME_REMAIN_TIME,V=this._model,oe=this._api;r.unfinished=!1;do{var ae=+new Date;r.performSeriesTasks(V),r.performDataProcessorTasks(V),updateStreamModes(this,V),r.performVisualTasks(V),renderSeries(this,this._model,oe,"remain",{}),L-=+new Date-ae}while(L>0&&r.unfinished);r.unfinished||this._zr.flush()}}},n.prototype.getDom=function(){return this._dom},n.prototype.getId=function(){return this.id},n.prototype.getZr=function(){return this._zr},n.prototype.isSSR=function(){return this._ssr},n.prototype.setOption=function(r,$,L){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var V,oe,ae;if(isObject$4($)&&(L=$.lazyUpdate,V=$.silent,oe=$.replaceMerge,ae=$.transition,$=$.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||$){var re=new OptionManager$1(this._api),le=this._theme,ue=this._model=new GlobalModel$1;ue.scheduler=this._scheduler,ue.ssr=this._ssr,ue.init(null,null,null,le,this._locale,re)}this._model.setOption(r,{replaceMerge:oe},optionPreprocessorFuncs);var de={seriesTransition:ae,optionChanged:!0};if(L)this[PENDING_UPDATE]={silent:V,updateParams:de},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,de)}catch(he){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,he}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,V),triggerUpdatedEvent.call(this,V)}}},n.prototype.setTheme=function(){},n.prototype.getModel=function(){return this._model},n.prototype.getOption=function(){return this._model&&this._model.getOption()},n.prototype.getWidth=function(){return this._zr.getWidth()},n.prototype.getHeight=function(){return this._zr.getHeight()},n.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env$1.hasGlobalWindow&&window.devicePixelRatio||1},n.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},n.prototype.renderToCanvas=function(r){r=r||{};var $=this._zr.painter;return $.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},n.prototype.renderToSVGString=function(r){r=r||{};var $=this._zr.painter;return $.renderToString({useViewBox:r.useViewBox})},n.prototype.getSvgDataURL=function(){if(env$1.svgSupported){var r=this._zr,$=r.storage.getDisplayList();return each$f($,function(L){L.stopAnimation(null,!0)}),r.painter.toDataURL()}},n.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var $=r.excludeComponents,L=this._model,V=[],oe=this;each$f($,function(re){L.eachComponent({mainType:re},function(le){var ue=oe._componentsMap[le.__viewId];ue.group.ignore||(V.push(ue),ue.group.ignore=!0)})});var ae=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return each$f(V,function(re){re.group.ignore=!1}),ae},n.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var $=r.type==="svg",L=this.group,V=Math.min,oe=Math.max,ae=1/0;if(connectedGroups[L]){var re=ae,le=ae,ue=-ae,de=-ae,he=[],pe=r&&r.pixelRatio||this.getDevicePixelRatio();each$f(instances,function(Ie,Ne){if(Ie.group===L){var ze=$?Ie.getZr().painter.getSvgDom().innerHTML:Ie.renderToCanvas(clone$4(r)),Fe=Ie.getDom().getBoundingClientRect();re=V(Fe.left,re),le=V(Fe.top,le),ue=oe(Fe.right,ue),de=oe(Fe.bottom,de),he.push({dom:ze,left:Fe.left,top:Fe.top})}}),re*=pe,le*=pe,ue*=pe,de*=pe;var _e=ue-re,$e=de-le,xe=platformApi.createCanvas(),Oe=init$2(xe,{renderer:$?"svg":"canvas"});if(Oe.resize({width:_e,height:$e}),$){var Ce="";return each$f(he,function(Ie){var Ne=Ie.left-re,ze=Ie.top-le;Ce+='<g transform="translate('+Ne+","+ze+')">'+Ie.dom+"</g>"}),Oe.painter.getSvgRoot().innerHTML=Ce,r.connectedBackgroundColor&&Oe.painter.setBackgroundColor(r.connectedBackgroundColor),Oe.refreshImmediately(),Oe.painter.toDataURL()}else return r.connectedBackgroundColor&&Oe.add(new Rect$3({shape:{x:0,y:0,width:_e,height:$e},style:{fill:r.connectedBackgroundColor}})),each$f(he,function(Ie){var Ne=new ZRImage$1({style:{x:Ie.left*pe-re,y:Ie.top*pe-le,image:Ie.dom}});Oe.add(Ne)}),Oe.refreshImmediately(),xe.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},n.prototype.convertToPixel=function(r,$){return doConvertPixel(this,"convertToPixel",r,$)},n.prototype.convertFromPixel=function(r,$){return doConvertPixel(this,"convertFromPixel",r,$)},n.prototype.containPixel=function(r,$){if(this._disposed){this.id;return}var L=this._model,V,oe=parseFinder$1(L,r);return each$f(oe,function(ae,re){re.indexOf("Models")>=0&&each$f(ae,function(le){var ue=le.coordinateSystem;if(ue&&ue.containPoint)V=V||!!ue.containPoint($);else if(re==="seriesModels"){var de=this._chartsMap[le.__viewId];de&&de.containPoint&&(V=V||de.containPoint($,le))}},this)},this),!!V},n.prototype.getVisual=function(r,$){var L=this._model,V=parseFinder$1(L,r,{defaultMainType:"series"}),oe=V.seriesModel,ae=oe.getData(),re=V.hasOwnProperty("dataIndexInside")?V.dataIndexInside:V.hasOwnProperty("dataIndex")?ae.indexOfRawIndex(V.dataIndex):null;return re!=null?getItemVisualFromData(ae,re,$):getVisualFromData(ae,$)},n.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},n.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},n.prototype._initEvents=function(){var r=this;each$f(MOUSE_EVENT_NAMES,function($){var L=function(V){var oe=r.getModel(),ae=V.target,re,le=$==="globalout";if(le?re={}:ae&&findEventDispatcher(ae,function(_e){var $e=getECData(_e);if($e&&$e.dataIndex!=null){var xe=$e.dataModel||oe.getSeriesByIndex($e.seriesIndex);return re=xe&&xe.getDataParams($e.dataIndex,$e.dataType)||{},!0}else if($e.eventData)return re=extend$1({},$e.eventData),!0},!0),re){var ue=re.componentType,de=re.componentIndex;(ue==="markLine"||ue==="markPoint"||ue==="markArea")&&(ue="series",de=re.seriesIndex);var he=ue&&de!=null&&oe.getComponent(ue,de),pe=he&&r[he.mainType==="series"?"_chartsMap":"_componentsMap"][he.__viewId];re.event=V,re.type=$,r._$eventProcessor.eventInfo={targetEl:ae,packedEvent:re,model:he,view:pe},r.trigger($,re)}};L.zrEventfulCallAtLast=!0,r._zr.on($,L,r)}),each$f(eventActionMap,function($,L){r._messageCenter.on(L,function(V){this.trigger(L,V)},r)}),each$f(["selectchanged"],function($){r._messageCenter.on($,function(L){this.trigger($,L)},r)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},n.prototype.isDisposed=function(){return this._disposed},n.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},n.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var $=this,L=$._api,V=$._model;each$f($._componentsViews,function(oe){oe.dispose(V,L)}),each$f($._chartsViews,function(oe){oe.dispose(V,L)}),$._zr.dispose(),$._dom=$._model=$._chartsMap=$._componentsMap=$._chartsViews=$._componentsViews=$._scheduler=$._api=$._zr=$._throttledZrFlush=$._theme=$._coordSysMgr=$._messageCenter=null,delete instances[$.id]},n.prototype.resize=function(r){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize(r);var $=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!$){var L=$.resetOption("media"),V=r&&r.silent;this[PENDING_UPDATE]&&(V==null&&(V=this[PENDING_UPDATE].silent),L=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{L&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend$1({duration:0},r&&r.animation)})}catch(oe){throw this[IN_MAIN_PROCESS_KEY]=!1,oe}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,V),triggerUpdatedEvent.call(this,V)}}},n.prototype.showLoading=function(r,$){if(this._disposed){this.id;return}if(isObject$4(r)&&($=r,r=""),r=r||"default",this.hideLoading(),!!loadingEffects[r]){var L=loadingEffects[r](this._api,$),V=this._zr;this._loadingFX=L,V.add(L)}},n.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},n.prototype.makeActionFromEvent=function(r){var $=extend$1({},r);return $.type=eventActionMap[r.type],$},n.prototype.dispatchAction=function(r,$){if(this._disposed){this.id;return}if(isObject$4($)||($={silent:!!$}),!!actions[r.type]&&!!this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(r);return}var L=$.silent;doDispatchAction.call(this,r,L);var V=$.flush;V?this._zr.flush():V!==!1&&env$1.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,L),triggerUpdatedEvent.call(this,L)}},n.prototype.updateLabelLayout=function(){lifecycle$1.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},n.prototype.appendData=function(r){if(this._disposed){this.id;return}var $=r.seriesIndex,L=this.getModel(),V=L.getSeriesByIndex($);V.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},n.internalField=function(){prepare=function(de){var he=de._scheduler;he.restorePipelines(de._model),he.prepareStageTasks(),prepareView(de,!0),prepareView(de,!1),he.plan()},prepareView=function(de,he){for(var pe=de._model,_e=de._scheduler,$e=he?de._componentsViews:de._chartsViews,xe=he?de._componentsMap:de._chartsMap,Oe=de._zr,Ce=de._api,Ie=0;Ie<$e.length;Ie++)$e[Ie].__alive=!1;he?pe.eachComponent(function(Fe,Ue){Fe!=="series"&&Ne(Ue)}):pe.eachSeries(Ne);function Ne(Fe){var Ue=Fe.__requireNewView;Fe.__requireNewView=!1;var At="_ec_"+Fe.id+"_"+Fe.type,Et=!Ue&&xe[At];if(!Et){var Pt=parseClassType(Fe.type),kt=he?ComponentView$1.getClass(Pt.main,Pt.sub):ChartView$1.getClass(Pt.sub);Et=new kt,Et.init(pe,Ce),xe[At]=Et,$e.push(Et),Oe.add(Et.group)}Fe.__viewId=Et.__id=At,Et.__alive=!0,Et.__model=Fe,Et.group.__ecComponentInfo={mainType:Fe.mainType,index:Fe.componentIndex},!he&&_e.prepareView(Et,Fe,pe,Ce)}for(var Ie=0;Ie<$e.length;){var ze=$e[Ie];ze.__alive?Ie++:(!he&&ze.renderTask.dispose(),Oe.remove(ze.group),ze.dispose(pe,Ce),$e.splice(Ie,1),xe[ze.__id]===ze&&delete xe[ze.__id],ze.__id=ze.group.__ecComponentInfo=null)}},updateDirectly=function(de,he,pe,_e,$e){var xe=de._model;if(xe.setUpdatePayload(pe),!_e){each$f([].concat(de._componentsViews).concat(de._chartsViews),ze);return}var Oe={};Oe[_e+"Id"]=pe[_e+"Id"],Oe[_e+"Index"]=pe[_e+"Index"],Oe[_e+"Name"]=pe[_e+"Name"];var Ce={mainType:_e,query:Oe};$e&&(Ce.subType=$e);var Ie=pe.excludeSeriesId,Ne;Ie!=null&&(Ne=createHashMap(),each$f(normalizeToArray(Ie),function(Fe){var Ue=convertOptionIdName(Fe,null);Ue!=null&&Ne.set(Ue,!0)})),xe&&xe.eachComponent(Ce,function(Fe){var Ue=Ne&&Ne.get(Fe.id)!=null;if(!Ue)if(isHighDownPayload(pe))if(Fe instanceof SeriesModel$1)pe.type===HIGHLIGHT_ACTION_TYPE&&!pe.notBlur&&!Fe.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(Fe,pe,de._api);else{var At=findComponentHighDownDispatchers(Fe.mainType,Fe.componentIndex,pe.name,de._api),Et=At.focusSelf,Pt=At.dispatchers;pe.type===HIGHLIGHT_ACTION_TYPE&&Et&&!pe.notBlur&&blurComponent(Fe.mainType,Fe.componentIndex,de._api),Pt&&each$f(Pt,function(kt){pe.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(kt):leaveEmphasis(kt)})}else isSelectChangePayload(pe)&&Fe instanceof SeriesModel$1&&(toggleSelectionFromPayload(Fe,pe,de._api),updateSeriesElementSelection(Fe),markStatusToUpdate(de))},de),xe&&xe.eachComponent(Ce,function(Fe){var Ue=Ne&&Ne.get(Fe.id)!=null;Ue||ze(de[_e==="series"?"_chartsMap":"_componentsMap"][Fe.__viewId])},de);function ze(Fe){Fe&&Fe.__alive&&Fe[he]&&Fe[he](Fe.__model,xe,de._api,pe)}},updateMethods={prepareAndUpdate:function(de){prepare(this),updateMethods.update.call(this,de,{optionChanged:de.newOption!=null})},update:function(de,he){var pe=this._model,_e=this._api,$e=this._zr,xe=this._coordSysMgr,Oe=this._scheduler;if(pe){pe.setUpdatePayload(de),Oe.restoreData(pe,de),Oe.performSeriesTasks(pe),xe.create(pe,_e),Oe.performDataProcessorTasks(pe,de),updateStreamModes(this,pe),xe.update(pe,_e),r(pe),Oe.performVisualTasks(pe,de),render(this,pe,_e,de,he);var Ce=pe.get("backgroundColor")||"transparent",Ie=pe.get("darkMode");$e.setBackgroundColor(Ce),Ie!=null&&Ie!=="auto"&&$e.setDarkMode(Ie),lifecycle$1.trigger("afterupdate",pe,_e)}},updateTransform:function(de){var he=this,pe=this._model,_e=this._api;if(pe){pe.setUpdatePayload(de);var $e=[];pe.eachComponent(function(Oe,Ce){if(Oe!=="series"){var Ie=he.getViewOfComponentModel(Ce);if(Ie&&Ie.__alive)if(Ie.updateTransform){var Ne=Ie.updateTransform(Ce,pe,_e,de);Ne&&Ne.update&&$e.push(Ie)}else $e.push(Ie)}});var xe=createHashMap();pe.eachSeries(function(Oe){var Ce=he._chartsMap[Oe.__viewId];if(Ce.updateTransform){var Ie=Ce.updateTransform(Oe,pe,_e,de);Ie&&Ie.update&&xe.set(Oe.uid,1)}else xe.set(Oe.uid,1)}),r(pe),this._scheduler.performVisualTasks(pe,de,{setDirty:!0,dirtyMap:xe}),renderSeries(this,pe,_e,de,{},xe),lifecycle$1.trigger("afterupdate",pe,_e)}},updateView:function(de){var he=this._model;!he||(he.setUpdatePayload(de),ChartView$1.markUpdateMethod(de,"updateView"),r(he),this._scheduler.performVisualTasks(he,de,{setDirty:!0}),render(this,he,this._api,de,{}),lifecycle$1.trigger("afterupdate",he,this._api))},updateVisual:function(de){var he=this,pe=this._model;!pe||(pe.setUpdatePayload(de),pe.eachSeries(function(_e){_e.getData().clearAllVisual()}),ChartView$1.markUpdateMethod(de,"updateVisual"),r(pe),this._scheduler.performVisualTasks(pe,de,{visualType:"visual",setDirty:!0}),pe.eachComponent(function(_e,$e){if(_e!=="series"){var xe=he.getViewOfComponentModel($e);xe&&xe.__alive&&xe.updateVisual($e,pe,he._api,de)}}),pe.eachSeries(function(_e){var $e=he._chartsMap[_e.__viewId];$e.updateVisual(_e,pe,he._api,de)}),lifecycle$1.trigger("afterupdate",pe,this._api))},updateLayout:function(de){updateMethods.update.call(this,de)}},doConvertPixel=function(de,he,pe,_e){if(de._disposed){de.id;return}for(var $e=de._model,xe=de._coordSysMgr.getCoordinateSystems(),Oe,Ce=parseFinder$1($e,pe),Ie=0;Ie<xe.length;Ie++){var Ne=xe[Ie];if(Ne[he]&&(Oe=Ne[he]($e,Ce,_e))!=null)return Oe}},updateStreamModes=function(de,he){var pe=de._chartsMap,_e=de._scheduler;he.eachSeries(function($e){_e.updateStreamModes($e,pe[$e.__viewId])})},doDispatchAction=function(de,he){var pe=this,_e=this.getModel(),$e=de.type,xe=de.escapeConnect,Oe=actions[$e],Ce=Oe.actionInfo,Ie=(Ce.update||"update").split(":"),Ne=Ie.pop(),ze=Ie[0]!=null&&parseClassType(Ie[0]);this[IN_MAIN_PROCESS_KEY]=!0;var Fe=[de],Ue=!1;de.batch&&(Ue=!0,Fe=map$1(de.batch,function(hn){return hn=defaults$2(extend$1({},hn),de),hn.batch=null,hn}));var At=[],Et,Pt=isSelectChangePayload(de),kt=isHighDownPayload(de);if(kt&&allLeaveBlur(this._api),each$f(Fe,function(hn){if(Et=Oe.action(hn,pe._model,pe._api),Et=Et||extend$1({},hn),Et.type=Ce.event||Et.type,At.push(Et),kt){var vn=preParseFinder(de),_n=vn.queryOptionMap,$n=vn.mainTypeSpecified,Sn=$n?_n.keys()[0]:"series";updateDirectly(pe,Ne,hn,Sn),markStatusToUpdate(pe)}else Pt?(updateDirectly(pe,Ne,hn,"series"),markStatusToUpdate(pe)):ze&&updateDirectly(pe,Ne,hn,ze.main,ze.sub)}),Ne!=="none"&&!kt&&!Pt&&!ze)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,de),this[PENDING_UPDATE]=null):updateMethods[Ne].call(this,de)}catch(hn){throw this[IN_MAIN_PROCESS_KEY]=!1,hn}if(Ue?Et={type:Ce.event||$e,escapeConnect:xe,batch:At}:Et=At[0],this[IN_MAIN_PROCESS_KEY]=!1,!he){var Dt=this._messageCenter;if(Dt.trigger(Et.type,Et),Pt){var Lt={type:"selectchanged",escapeConnect:xe,selected:getAllSelectedIndices(_e),isFromClick:de.isFromClick||!1,fromAction:de.type,fromActionPayload:de};Dt.trigger(Lt.type,Lt)}}},flushPendingActions=function(de){for(var he=this._pendingActions;he.length;){var pe=he.shift();doDispatchAction.call(this,pe,de)}},triggerUpdatedEvent=function(de){!de&&this.trigger("updated")},bindRenderedEvent=function(de,he){de.on("rendered",function(pe){he.trigger("rendered",pe),de.animation.isFinished()&&!he[PENDING_UPDATE]&&!he._scheduler.unfinished&&!he._pendingActions.length&&he.trigger("finished")})},bindMouseEvent=function(de,he){de.on("mouseover",function(pe){var _e=pe.target,$e=findEventDispatcher(_e,isHighDownDispatcher);$e&&(handleGlobalMouseOverForHighDown($e,pe,he._api),markStatusToUpdate(he))}).on("mouseout",function(pe){var _e=pe.target,$e=findEventDispatcher(_e,isHighDownDispatcher);$e&&(handleGlobalMouseOutForHighDown($e,pe,he._api),markStatusToUpdate(he))}).on("click",function(pe){var _e=pe.target,$e=findEventDispatcher(_e,function(Ce){return getECData(Ce).dataIndex!=null},!0);if($e){var xe=$e.selected?"unselect":"select",Oe=getECData($e);he._api.dispatchAction({type:xe,dataType:Oe.dataType,dataIndexInside:Oe.dataIndex,seriesIndex:Oe.seriesIndex,isFromClick:!0})}})};function r(de){de.clearColorPalette(),de.eachSeries(function(he){he.clearColorPalette()})}function $(de){var he=[],pe=[],_e=!1;if(de.eachComponent(function(Ce,Ie){var Ne=Ie.get("zlevel")||0,ze=Ie.get("z")||0,Fe=Ie.getZLevelKey();_e=_e||!!Fe,(Ce==="series"?pe:he).push({zlevel:Ne,z:ze,idx:Ie.componentIndex,type:Ce,key:Fe})}),_e){var $e=he.concat(pe),xe,Oe;sort$2($e,function(Ce,Ie){return Ce.zlevel===Ie.zlevel?Ce.z-Ie.z:Ce.zlevel-Ie.zlevel}),each$f($e,function(Ce){var Ie=de.getComponent(Ce.type,Ce.idx),Ne=Ce.zlevel,ze=Ce.key;xe!=null&&(Ne=Math.max(xe,Ne)),ze?(Ne===xe&&ze!==Oe&&Ne++,Oe=ze):Oe&&(Ne===xe&&Ne++,Oe=""),xe=Ne,Ie.setZLevel(Ne)})}}render=function(de,he,pe,_e,$e){$(he),renderComponents(de,he,pe,_e,$e),each$f(de._chartsViews,function(xe){xe.__alive=!1}),renderSeries(de,he,pe,_e,$e),each$f(de._chartsViews,function(xe){xe.__alive||xe.remove(he,pe)})},renderComponents=function(de,he,pe,_e,$e,xe){each$f(xe||de._componentsViews,function(Oe){var Ce=Oe.__model;le(Ce,Oe),Oe.render(Ce,he,pe,_e),ae(Ce,Oe),ue(Ce,Oe)})},renderSeries=function(de,he,pe,_e,$e,xe){var Oe=de._scheduler;$e=extend$1($e||{},{updatedSeries:he.getSeries()}),lifecycle$1.trigger("series:beforeupdate",he,pe,$e);var Ce=!1;he.eachSeries(function(Ie){var Ne=de._chartsMap[Ie.__viewId];Ne.__alive=!0;var ze=Ne.renderTask;Oe.updatePayload(ze,_e),le(Ie,Ne),xe&&xe.get(Ie.uid)&&ze.dirty(),ze.perform(Oe.getPerformArgs(ze))&&(Ce=!0),Ne.group.silent=!!Ie.get("silent"),oe(Ie,Ne),updateSeriesElementSelection(Ie)}),Oe.unfinished=Ce||Oe.unfinished,lifecycle$1.trigger("series:layoutlabels",he,pe,$e),lifecycle$1.trigger("series:transition",he,pe,$e),he.eachSeries(function(Ie){var Ne=de._chartsMap[Ie.__viewId];ae(Ie,Ne),ue(Ie,Ne)}),V(de,he),lifecycle$1.trigger("series:afterupdate",he,pe,$e)},markStatusToUpdate=function(de){de[STATUS_NEEDS_UPDATE_KEY]=!0,de.getZr().wakeUp()},applyChangedStates=function(de){!de[STATUS_NEEDS_UPDATE_KEY]||(de.getZr().storage.traverse(function(he){isElementRemoved(he)||L(he)}),de[STATUS_NEEDS_UPDATE_KEY]=!1)};function L(de){for(var he=[],pe=de.currentStates,_e=0;_e<pe.length;_e++){var $e=pe[_e];$e==="emphasis"||$e==="blur"||$e==="select"||he.push($e)}de.selected&&de.states.select&&he.push("select"),de.hoverState===HOVER_STATE_EMPHASIS&&de.states.emphasis?he.push("emphasis"):de.hoverState===HOVER_STATE_BLUR&&de.states.blur&&he.push("blur"),de.useStates(he)}function V(de,he){var pe=de._zr,_e=pe.storage,$e=0;_e.traverse(function(xe){xe.isGroup||$e++}),$e>he.get("hoverLayerThreshold")&&!env$1.node&&!env$1.worker&&he.eachSeries(function(xe){if(!xe.preventUsingHoverLayer){var Oe=de._chartsMap[xe.__viewId];Oe.__alive&&Oe.eachRendered(function(Ce){Ce.states.emphasis&&(Ce.states.emphasis.hoverLayer=!0)})}})}function oe(de,he){var pe=de.get("blendMode")||null;he.eachRendered(function(_e){_e.isGroup||(_e.style.blend=pe)})}function ae(de,he){if(!de.preventAutoZ){var pe=de.get("z")||0,_e=de.get("zlevel")||0;he.eachRendered(function($e){return re($e,pe,_e,-1/0),!0})}}function re(de,he,pe,_e){var $e=de.getTextContent(),xe=de.getTextGuideLine(),Oe=de.isGroup;if(Oe)for(var Ce=de.childrenRef(),Ie=0;Ie<Ce.length;Ie++)_e=Math.max(re(Ce[Ie],he,pe,_e),_e);else de.z=he,de.zlevel=pe,_e=Math.max(de.z2,_e);if($e&&($e.z=he,$e.zlevel=pe,isFinite(_e)&&($e.z2=_e+2)),xe){var Ne=de.textGuideLineConfig;xe.z=he,xe.zlevel=pe,isFinite(_e)&&(xe.z2=_e+(Ne&&Ne.showAbove?1:-1))}return _e}function le(de,he){he.eachRendered(function(pe){if(!isElementRemoved(pe)){var _e=pe.getTextContent(),$e=pe.getTextGuideLine();pe.stateTransition&&(pe.stateTransition=null),_e&&_e.stateTransition&&(_e.stateTransition=null),$e&&$e.stateTransition&&($e.stateTransition=null),pe.hasState()?(pe.prevStates=pe.currentStates,pe.clearStates()):pe.prevStates&&(pe.prevStates=null)}})}function ue(de,he){var pe=de.getModel("stateAnimation"),_e=de.isAnimationEnabled(),$e=pe.get("duration"),xe=$e>0?{duration:$e,delay:pe.get("delay"),easing:pe.get("easing")}:null;he.eachRendered(function(Oe){if(Oe.states&&Oe.states.emphasis){if(isElementRemoved(Oe))return;if(Oe instanceof Path$1&&savePathStates(Oe),Oe.__dirty){var Ce=Oe.prevStates;Ce&&Oe.useStates(Ce)}if(_e){Oe.stateTransition=xe;var Ie=Oe.getTextContent(),Ne=Oe.getTextGuideLine();Ie&&(Ie.stateTransition=xe),Ne&&(Ne.stateTransition=xe)}Oe.__dirty&&L(Oe)}})}createExtensionAPI=function(de){return new(function(he){__extends(pe,he);function pe(){return he!==null&&he.apply(this,arguments)||this}return pe.prototype.getCoordinateSystems=function(){return de._coordSysMgr.getCoordinateSystems()},pe.prototype.getComponentByElement=function(_e){for(;_e;){var $e=_e.__ecComponentInfo;if($e!=null)return de._model.getComponent($e.mainType,$e.index);_e=_e.parent}},pe.prototype.enterEmphasis=function(_e,$e){enterEmphasis(_e,$e),markStatusToUpdate(de)},pe.prototype.leaveEmphasis=function(_e,$e){leaveEmphasis(_e,$e),markStatusToUpdate(de)},pe.prototype.enterBlur=function(_e){enterBlur(_e),markStatusToUpdate(de)},pe.prototype.leaveBlur=function(_e){leaveBlur(_e),markStatusToUpdate(de)},pe.prototype.enterSelect=function(_e){enterSelect(_e),markStatusToUpdate(de)},pe.prototype.leaveSelect=function(_e){leaveSelect(_e),markStatusToUpdate(de)},pe.prototype.getModel=function(){return de.getModel()},pe.prototype.getViewOfComponentModel=function(_e){return de.getViewOfComponentModel(_e)},pe.prototype.getViewOfSeriesModel=function(_e){return de.getViewOfSeriesModel(_e)},pe}(ExtensionAPI$1))(de)},enableConnect=function(de){function he(pe,_e){for(var $e=0;$e<pe.length;$e++){var xe=pe[$e];xe[CONNECT_STATUS_KEY]=_e}}each$f(eventActionMap,function(pe,_e){de._messageCenter.on(_e,function($e){if(connectedGroups[de.group]&&de[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if($e&&$e.escapeConnect)return;var xe=de.makeActionFromEvent($e),Oe=[];each$f(instances,function(Ce){Ce!==de&&Ce.group===de.group&&Oe.push(Ce)}),he(Oe,CONNECT_STATUS_PENDING),each$f(Oe,function(Ce){Ce[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&Ce.dispatchAction(xe)}),he(Oe,CONNECT_STATUS_UPDATED)}})})}}(),n}(Eventful$1),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on"),echartsProto.off=createRegisterEventWithLowercaseECharts("off"),echartsProto.one=function(g,n,r){var $=this;function L(){for(var V=[],oe=0;oe<arguments.length;oe++)V[oe]=arguments[oe];n&&n.apply&&n.apply(this,V),$.off(g,L)}this.on.call(this,g,L,r)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(g){}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init$1(g,n,r){var $=!(r&&r.ssr);if($){var L=getInstanceByDom(g);if(L)return L}var V=new ECharts(g,n,r);return V.id="ec_"+idBase++,instances[V.id]=V,$&&setAttribute(g,DOM_ATTRIBUTE_KEY,V.id),enableConnect(V),lifecycle$1.trigger("afterinit",V),V}function getInstanceByDom(g){return instances[getAttribute(g,DOM_ATTRIBUTE_KEY)]}function registerTheme(g,n){themeStorage[g]=n}function registerPreprocessor(g){indexOf(optionPreprocessorFuncs,g)<0&&optionPreprocessorFuncs.push(g)}function registerProcessor(g,n){normalizeRegister(dataProcessorFuncs,g,n,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(g){registerUpdateLifecycle("afterinit",g)}function registerPostUpdate(g){registerUpdateLifecycle("afterupdate",g)}function registerUpdateLifecycle(g,n){lifecycle$1.on(g,n)}function registerAction(g,n,r){isFunction$1(n)&&(r=n,n="");var $=isObject$4(g)?g.type:[g,g={event:n}][0];g.event=(g.event||$).toLowerCase(),n=g.event,!eventActionMap[n]&&(assert(ACTION_REG.test($)&&ACTION_REG.test(n)),actions[$]||(actions[$]={action:r,actionInfo:g}),eventActionMap[n]=$)}function registerCoordinateSystem(g,n){CoordinateSystem.register(g,n)}function registerLayout(g,n){normalizeRegister(visualFuncs,g,n,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(g,n){normalizeRegister(visualFuncs,g,n,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(g,n,r,$,L){if((isFunction$1(n)||isObject$4(n))&&(r=n,n=$),!(indexOf(registeredTasks,r)>=0)){registeredTasks.push(r);var V=Scheduler$1.wrapStageHandler(r,L);V.__prio=n,V.__raw=r,g.push(V)}}function registerLoading(g,n){loadingEffects[g]=n}function registerMap$1(g,n,r){var $=getImpl("registerMap");$&&$(g,n,r)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask),registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask),registerVisual(PRIORITY_VISUAL_DECAL,decalVisual),registerPreprocessor(globalBackwardCompat),registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack),registerLoading("default",defaultLoading),registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop$1),registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop$1),registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop$1),registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop$1),registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop$1),registerTheme("light",lightTheme),registerTheme("dark",darkTheme);var extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap:registerMap$1,registerImpl,PRIORITY,ComponentModel:ComponentModel$1,ComponentView:ComponentView$1,SeriesModel:SeriesModel$1,ChartView:ChartView$1,registerComponentModel:function(g){ComponentModel$1.registerClass(g)},registerComponentView:function(g){ComponentView$1.registerClass(g)},registerSeriesModel:function(g){SeriesModel$1.registerClass(g)},registerChartView:function(g){ChartView$1.registerClass(g)},registerSubTypeDefaulter:function(g,n){ComponentModel$1.registerSubTypeDefaulter(g,n)},registerPainter:function(g,n){registerPainter(g,n)}};function use(g){if(isArray$2(g)){each$f(g,function(n){use(n)});return}indexOf(extensions,g)>=0||(extensions.push(g),isFunction$1(g)&&(g={install:g}),g.install(extensionRegisters))}function dataIndexMapValueLength(g){return g==null?0:g.length||1}function defaultKeyGetter(g){return g}var DataDiffer=function(){function g(n,r,$,L,V,oe){this._old=n,this._new=r,this._oldKeyGetter=$||defaultKeyGetter,this._newKeyGetter=L||defaultKeyGetter,this.context=V,this._diffModeMultiple=oe==="multiple"}return g.prototype.add=function(n){return this._add=n,this},g.prototype.update=function(n){return this._update=n,this},g.prototype.updateManyToOne=function(n){return this._updateManyToOne=n,this},g.prototype.updateOneToMany=function(n){return this._updateOneToMany=n,this},g.prototype.updateManyToMany=function(n){return this._updateManyToMany=n,this},g.prototype.remove=function(n){return this._remove=n,this},g.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},g.prototype._executeOneToOne=function(){var n=this._old,r=this._new,$={},L=new Array(n.length),V=new Array(r.length);this._initIndexMap(n,null,L,"_oldKeyGetter"),this._initIndexMap(r,$,V,"_newKeyGetter");for(var oe=0;oe<n.length;oe++){var ae=L[oe],re=$[ae],le=dataIndexMapValueLength(re);if(le>1){var ue=re.shift();re.length===1&&($[ae]=re[0]),this._update&&this._update(ue,oe)}else le===1?($[ae]=null,this._update&&this._update(re,oe)):this._remove&&this._remove(oe)}this._performRestAdd(V,$)},g.prototype._executeMultiple=function(){var n=this._old,r=this._new,$={},L={},V=[],oe=[];this._initIndexMap(n,$,V,"_oldKeyGetter"),this._initIndexMap(r,L,oe,"_newKeyGetter");for(var ae=0;ae<V.length;ae++){var re=V[ae],le=$[re],ue=L[re],de=dataIndexMapValueLength(le),he=dataIndexMapValueLength(ue);if(de>1&&he===1)this._updateManyToOne&&this._updateManyToOne(ue,le),L[re]=null;else if(de===1&&he>1)this._updateOneToMany&&this._updateOneToMany(ue,le),L[re]=null;else if(de===1&&he===1)this._update&&this._update(ue,le),L[re]=null;else if(de>1&&he>1)this._updateManyToMany&&this._updateManyToMany(ue,le),L[re]=null;else if(de>1)for(var pe=0;pe<de;pe++)this._remove&&this._remove(le[pe]);else this._remove&&this._remove(le)}this._performRestAdd(oe,L)},g.prototype._performRestAdd=function(n,r){for(var $=0;$<n.length;$++){var L=n[$],V=r[L],oe=dataIndexMapValueLength(V);if(oe>1)for(var ae=0;ae<oe;ae++)this._add&&this._add(V[ae]);else oe===1&&this._add&&this._add(V);r[L]=null}},g.prototype._initIndexMap=function(n,r,$,L){for(var V=this._diffModeMultiple,oe=0;oe<n.length;oe++){var ae="_ec_"+this[L](n[oe],oe);if(V||($[oe]=ae),!!r){var re=r[ae],le=dataIndexMapValueLength(re);le===0?(r[ae]=oe,V&&$.push(ae)):le===1?r[ae]=[re,oe]:re.push(oe)}}},g}();const DataDiffer$1=DataDiffer;var DimensionUserOuput=function(){function g(n,r){this._encode=n,this._schema=r}return g.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},g.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},g}();function summarizeDimensions(g,n){var r={},$=r.encode={},L=createHashMap(),V=[],oe=[],ae={};each$f(g.dimensions,function(he){var pe=g.getDimensionInfo(he),_e=pe.coordDim;if(_e){var $e=pe.coordDimIndex;getOrCreateEncodeArr($,_e)[$e]=he,pe.isExtraCoord||(L.set(_e,1),mayLabelDimType(pe.type)&&(V[0]=he),getOrCreateEncodeArr(ae,_e)[$e]=g.getDimensionIndex(pe.name)),pe.defaultTooltip&&oe.push(he)}VISUAL_DIMENSIONS.each(function(xe,Oe){var Ce=getOrCreateEncodeArr($,Oe),Ie=pe.otherDims[Oe];Ie!=null&&Ie!==!1&&(Ce[Ie]=pe.name)})});var re=[],le={};L.each(function(he,pe){var _e=$[pe];le[pe]=_e[0],re=re.concat(_e)}),r.dataDimsOnCoord=re,r.dataDimIndicesOnCoord=map$1(re,function(he){return g.getDimensionInfo(he).storeDimIndex}),r.encodeFirstDimNotExtra=le;var ue=$.label;ue&&ue.length&&(V=ue.slice());var de=$.tooltip;return de&&de.length?oe=de.slice():oe.length||(oe=V.slice()),$.defaultedLabel=V,$.defaultedTooltip=oe,r.userOutput=new DimensionUserOuput(ae,n),r}function getOrCreateEncodeArr(g,n){return g.hasOwnProperty(n)||(g[n]=[]),g[n]}function getDimensionTypeByAxis(g){return g==="category"?"ordinal":g==="time"?"time":"float"}function mayLabelDimType(g){return!(g==="ordinal"||g==="time")}var SeriesDimensionDefine=function(){function g(n){this.otherDims={},n!=null&&extend$1(this,n)}return g}();const SeriesDimensionDefine$1=SeriesDimensionDefine;var inner$h=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function g(n){this.dimensions=n.dimensions,this._dimOmitted=n.dimensionOmitted,this.source=n.source,this._fullDimCount=n.fullDimensionCount,this._updateDimOmitted(n.dimensionOmitted)}return g.prototype.isDimensionOmitted=function(){return this._dimOmitted},g.prototype._updateDimOmitted=function(n){this._dimOmitted=n,n&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},g.prototype.getSourceDimensionIndex=function(n){return retrieve2(this._dimNameMap.get(n),-1)},g.prototype.getSourceDimension=function(n){var r=this.source.dimensionsDefine;if(r)return r[n]},g.prototype.makeStoreSchema=function(){for(var n=this._fullDimCount,r=shouldRetrieveDataByName(this.source),$=!shouldOmitUnusedDimensions(n),L="",V=[],oe=0,ae=0;oe<n;oe++){var re=void 0,le=void 0,ue=void 0,de=this.dimensions[ae];if(de&&de.storeDimIndex===oe)re=r?de.name:null,le=de.type,ue=de.ordinalMeta,ae++;else{var he=this.getSourceDimension(oe);he&&(re=r?he.name:null,le=he.type)}V.push({property:re,type:le,ordinalMeta:ue}),r&&re!=null&&(!de||!de.isCalculationCoord)&&(L+=$?re.replace(/\`/g,"`1").replace(/\$/g,"`2"):re),L+="$",L+=dimTypeShort[le]||"f",ue&&(L+=ue.uid),L+="$"}var pe=this.source,_e=[pe.seriesLayoutBy,pe.startIndex,L].join("$$");return{dimensions:V,hash:_e}},g.prototype.makeOutputDimensionNames=function(){for(var n=[],r=0,$=0;r<this._fullDimCount;r++){var L=void 0,V=this.dimensions[$];if(V&&V.storeDimIndex===r)V.isCalculationCoord||(L=V.name),$++;else{var oe=this.getSourceDimension(r);oe&&(L=oe.name)}n.push(L)}return n},g.prototype.appendCalculationDimension=function(n){this.dimensions.push(n),n.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},g}();function isSeriesDataSchema(g){return g instanceof SeriesDataSchema}function createDimNameMap(g){for(var n=createHashMap(),r=0;r<(g||[]).length;r++){var $=g[r],L=isObject$4($)?$.name:$;L!=null&&n.get(L)==null&&n.set(L,r)}return n}function ensureSourceDimNameMap(g){var n=inner$h(g);return n.dimNameMap||(n.dimNameMap=createDimNameMap(g.dimensionsDefine))}function shouldOmitUnusedDimensions(g){return g>30}var isObject$2=isObject$4,map=map$1,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function g(n,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var $,L=!1;isSeriesDataSchema(n)?($=n.dimensions,this._dimOmitted=n.isDimensionOmitted(),this._schema=n):(L=!0,$=n),$=$||["x","y"];for(var V={},oe=[],ae={},re=!1,le={},ue=0;ue<$.length;ue++){var de=$[ue],he=isString$1(de)?new SeriesDimensionDefine$1({name:de}):de instanceof SeriesDimensionDefine$1?de:new SeriesDimensionDefine$1(de),pe=he.name;he.type=he.type||"float",he.coordDim||(he.coordDim=pe,he.coordDimIndex=0);var _e=he.otherDims=he.otherDims||{};oe.push(pe),V[pe]=he,le[pe]!=null&&(re=!0),he.createInvertedIndices&&(ae[pe]=[]),_e.itemName===0&&(this._nameDimIdx=ue),_e.itemId===0&&(this._idDimIdx=ue),L&&(he.storeDimIndex=ue)}if(this.dimensions=oe,this._dimInfos=V,this._initGetDimensionInfo(re),this.hostModel=r,this._invertedIndicesMap=ae,this._dimOmitted){var $e=this._dimIdxToName=createHashMap();each$f(oe,function(xe){$e.set(V[xe].storeDimIndex,xe)})}}return g.prototype.getDimension=function(n){var r=this._recognizeDimIndex(n);if(r==null)return n;if(r=n,!this._dimOmitted)return this.dimensions[r];var $=this._dimIdxToName.get(r);if($!=null)return $;var L=this._schema.getSourceDimension(r);if(L)return L.name},g.prototype.getDimensionIndex=function(n){var r=this._recognizeDimIndex(n);if(r!=null)return r;if(n==null)return-1;var $=this._getDimInfo(n);return $?$.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(n):-1},g.prototype._recognizeDimIndex=function(n){if(isNumber$1(n)||n!=null&&!isNaN(n)&&!this._getDimInfo(n)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(n)<0))return+n},g.prototype._getStoreDimIndex=function(n){var r=this.getDimensionIndex(n);return r},g.prototype.getDimensionInfo=function(n){return this._getDimInfo(this.getDimension(n))},g.prototype._initGetDimensionInfo=function(n){var r=this._dimInfos;this._getDimInfo=n?function($){return r.hasOwnProperty($)?r[$]:void 0}:function($){return r[$]}},g.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},g.prototype.mapDimension=function(n,r){var $=this._dimSummary;if(r==null)return $.encodeFirstDimNotExtra[n];var L=$.encode[n];return L?L[r]:null},g.prototype.mapDimensionsAll=function(n){var r=this._dimSummary,$=r.encode[n];return($||[]).slice()},g.prototype.getStore=function(){return this._store},g.prototype.initData=function(n,r,$){var L=this,V;if(n instanceof DataStore&&(V=n),!V){var oe=this.dimensions,ae=isSourceInstance(n)||isArrayLike(n)?new DefaultDataProvider(n,oe.length):n;V=new DataStore;var re=map(oe,function(le){return{type:L._dimInfos[le].type,property:le}});V.initData(ae,re,$)}this._store=V,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,V.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},g.prototype.appendData=function(n){var r=this._store.appendData(n);this._doInit(r[0],r[1])},g.prototype.appendValues=function(n,r){var $=this._store.appendValues(n,r.length),L=$.start,V=$.end,oe=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var ae=L;ae<V;ae++){var re=ae-L;this._nameList[ae]=r[re],oe&&makeIdFromName(this,ae)}},g.prototype._updateOrdinalMeta=function(){for(var n=this._store,r=this.dimensions,$=0;$<r.length;$++){var L=this._dimInfos[r[$]];L.ordinalMeta&&n.collectOrdinalMeta(L.storeDimIndex,L.ordinalMeta)}},g.prototype._shouldMakeIdFromName=function(){var n=this._store.getProvider();return this._idDimIdx==null&&n.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!n.fillStorage},g.prototype._doInit=function(n,r){if(!(n>=r)){var $=this._store,L=$.getProvider();this._updateOrdinalMeta();var V=this._nameList,oe=this._idList,ae=L.getSource().sourceFormat,re=ae===SOURCE_FORMAT_ORIGINAL;if(re&&!L.pure)for(var le=[],ue=n;ue<r;ue++){var de=L.getItem(ue,le);if(!this.hasItemOption&&isDataItemOption(de)&&(this.hasItemOption=!0),de){var he=de.name;V[ue]==null&&he!=null&&(V[ue]=convertOptionIdName(he,null));var pe=de.id;oe[ue]==null&&pe!=null&&(oe[ue]=convertOptionIdName(pe,null))}}if(this._shouldMakeIdFromName())for(var ue=n;ue<r;ue++)makeIdFromName(this,ue);prepareInvertedIndex(this)}},g.prototype.getApproximateExtent=function(n){return this._approximateExtent[n]||this._store.getDataExtent(this._getStoreDimIndex(n))},g.prototype.setApproximateExtent=function(n,r){r=this.getDimension(r),this._approximateExtent[r]=n.slice()},g.prototype.getCalculationInfo=function(n){return this._calculationInfo[n]},g.prototype.setCalculationInfo=function(n,r){isObject$2(n)?extend$1(this._calculationInfo,n):this._calculationInfo[n]=r},g.prototype.getName=function(n){var r=this.getRawIndex(n),$=this._nameList[r];return $==null&&this._nameDimIdx!=null&&($=getIdNameFromStore(this,this._nameDimIdx,r)),$==null&&($=""),$},g.prototype._getCategory=function(n,r){var $=this._store.get(n,r),L=this._store.getOrdinalMeta(n);return L?L.categories[$]:$},g.prototype.getId=function(n){return getId(this,this.getRawIndex(n))},g.prototype.count=function(){return this._store.count()},g.prototype.get=function(n,r){var $=this._store,L=this._dimInfos[n];if(L)return $.get(L.storeDimIndex,r)},g.prototype.getByRawIndex=function(n,r){var $=this._store,L=this._dimInfos[n];if(L)return $.getByRawIndex(L.storeDimIndex,r)},g.prototype.getIndices=function(){return this._store.getIndices()},g.prototype.getDataExtent=function(n){return this._store.getDataExtent(this._getStoreDimIndex(n))},g.prototype.getSum=function(n){return this._store.getSum(this._getStoreDimIndex(n))},g.prototype.getMedian=function(n){return this._store.getMedian(this._getStoreDimIndex(n))},g.prototype.getValues=function(n,r){var $=this,L=this._store;return isArray$2(n)?L.getValues(map(n,function(V){return $._getStoreDimIndex(V)}),r):L.getValues(n)},g.prototype.hasValue=function(n){for(var r=this._dimSummary.dataDimIndicesOnCoord,$=0,L=r.length;$<L;$++)if(isNaN(this._store.get(r[$],n)))return!1;return!0},g.prototype.indexOfName=function(n){for(var r=0,$=this._store.count();r<$;r++)if(this.getName(r)===n)return r;return-1},g.prototype.getRawIndex=function(n){return this._store.getRawIndex(n)},g.prototype.indexOfRawIndex=function(n){return this._store.indexOfRawIndex(n)},g.prototype.rawIndexOf=function(n,r){var $=n&&this._invertedIndicesMap[n],L=$[r];return L==null||isNaN(L)?INDEX_NOT_FOUND:L},g.prototype.indicesOfNearest=function(n,r,$){return this._store.indicesOfNearest(this._getStoreDimIndex(n),r,$)},g.prototype.each=function(n,r,$){isFunction$1(n)&&($=r,r=n,n=[]);var L=$||this,V=map(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.each(V,L?bind$2(r,L):r)},g.prototype.filterSelf=function(n,r,$){isFunction$1(n)&&($=r,r=n,n=[]);var L=$||this,V=map(normalizeDimensions(n),this._getStoreDimIndex,this);return this._store=this._store.filter(V,L?bind$2(r,L):r),this},g.prototype.selectRange=function(n){var r=this,$={},L=keys(n);return each$f(L,function(V){var oe=r._getStoreDimIndex(V);$[oe]=n[V]}),this._store=this._store.selectRange($),this},g.prototype.mapArray=function(n,r,$){isFunction$1(n)&&($=r,r=n,n=[]),$=$||this;var L=[];return this.each(n,function(){L.push(r&&r.apply(this,arguments))},$),L},g.prototype.map=function(n,r,$,L){var V=$||L||this,oe=map(normalizeDimensions(n),this._getStoreDimIndex,this),ae=cloneListForMapAndSample(this);return ae._store=this._store.map(oe,V?bind$2(r,V):r),ae},g.prototype.modify=function(n,r,$,L){var V=$||L||this,oe=map(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.modify(oe,V?bind$2(r,V):r)},g.prototype.downSample=function(n,r,$,L){var V=cloneListForMapAndSample(this);return V._store=this._store.downSample(this._getStoreDimIndex(n),r,$,L),V},g.prototype.lttbDownSample=function(n,r){var $=cloneListForMapAndSample(this);return $._store=this._store.lttbDownSample(this._getStoreDimIndex(n),r),$},g.prototype.getRawDataItem=function(n){return this._store.getRawDataItem(n)},g.prototype.getItemModel=function(n){var r=this.hostModel,$=this.getRawDataItem(n);return new Model$1($,r,r&&r.ecModel)},g.prototype.diff=function(n){var r=this;return new DataDiffer$1(n?n.getStore().getIndices():[],this.getStore().getIndices(),function($){return getId(n,$)},function($){return getId(r,$)})},g.prototype.getVisual=function(n){var r=this._visual;return r&&r[n]},g.prototype.setVisual=function(n,r){this._visual=this._visual||{},isObject$2(n)?extend$1(this._visual,n):this._visual[n]=r},g.prototype.getItemVisual=function(n,r){var $=this._itemVisuals[n],L=$&&$[r];return L!=null?L:this.getVisual(r)},g.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},g.prototype.ensureUniqueItemVisual=function(n,r){var $=this._itemVisuals,L=$[n];L||(L=$[n]={});var V=L[r];return V==null&&(V=this.getVisual(r),isArray$2(V)?V=V.slice():isObject$2(V)&&(V=extend$1({},V)),L[r]=V),V},g.prototype.setItemVisual=function(n,r,$){var L=this._itemVisuals[n]||{};this._itemVisuals[n]=L,isObject$2(r)?extend$1(L,r):L[r]=$},g.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},g.prototype.setLayout=function(n,r){isObject$2(n)?extend$1(this._layout,n):this._layout[n]=r},g.prototype.getLayout=function(n){return this._layout[n]},g.prototype.getItemLayout=function(n){return this._itemLayouts[n]},g.prototype.setItemLayout=function(n,r,$){this._itemLayouts[n]=$?extend$1(this._itemLayouts[n]||{},r):r},g.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},g.prototype.setItemGraphicEl=function(n,r){var $=this.hostModel&&this.hostModel.seriesIndex;setCommonECData($,this.dataType,n,r),this._graphicEls[n]=r},g.prototype.getItemGraphicEl=function(n){return this._graphicEls[n]},g.prototype.eachItemGraphicEl=function(n,r){each$f(this._graphicEls,function($,L){$&&n&&n.call(r,$,L)})},g.prototype.cloneShallow=function(n){return n||(n=new g(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(n,this),n._store=this._store,n},g.prototype.wrapMethod=function(n,r){var $=this[n];!isFunction$1($)||(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(n),this[n]=function(){var L=$.apply(this,arguments);return r.apply(this,[L].concat(slice(arguments)))})},g.internalField=function(){prepareInvertedIndex=function(n){var r=n._invertedIndicesMap;each$f(r,function($,L){var V=n._dimInfos[L],oe=V.ordinalMeta,ae=n._store;if(oe){$=r[L]=new CtorInt32Array(oe.categories.length);for(var re=0;re<$.length;re++)$[re]=INDEX_NOT_FOUND;for(var re=0;re<ae.count();re++)$[ae.get(V.storeDimIndex,re)]=re}})},getIdNameFromStore=function(n,r,$){return convertOptionIdName(n._getCategory(r,$),null)},getId=function(n,r){var $=n._idList[r];return $==null&&n._idDimIdx!=null&&($=getIdNameFromStore(n,n._idDimIdx,r)),$==null&&($=ID_PREFIX+r),$},normalizeDimensions=function(n){return isArray$2(n)||(n=n!=null?[n]:[]),n},cloneListForMapAndSample=function(n){var r=new g(n._schema?n._schema:map(n.dimensions,n._getDimInfo,n),n.hostModel);return transferProperties(r,n),r},transferProperties=function(n,r){each$f(TRANSFERABLE_PROPERTIES.concat(r.__wrappedMethods||[]),function($){r.hasOwnProperty($)&&(n[$]=r[$])}),n.__wrappedMethods=r.__wrappedMethods,each$f(CLONE_PROPERTIES,function($){n[$]=clone$4(r[$])}),n._calculationInfo=extend$1({},r._calculationInfo)},makeIdFromName=function(n,r){var $=n._nameList,L=n._idList,V=n._nameDimIdx,oe=n._idDimIdx,ae=$[r],re=L[r];if(ae==null&&V!=null&&($[r]=ae=getIdNameFromStore(n,V,r)),re==null&&oe!=null&&(L[r]=re=getIdNameFromStore(n,oe,r)),re==null&&ae!=null){var le=n._nameRepeatCount,ue=le[ae]=(le[ae]||0)+1;re=ae,ue>1&&(re+="__ec__"+ue),L[r]=re}}}(),g}();const SeriesData$1=SeriesData;function prepareSeriesDataSchema(g,n){isSourceInstance(g)||(g=createSourceFromSeriesDataOption(g)),n=n||{};var r=n.coordDimensions||[],$=n.dimensionsDefine||g.dimensionsDefine||[],L=createHashMap(),V=[],oe=getDimCount(g,r,$,n.dimensionsCount),ae=n.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(oe),re=$===g.dimensionsDefine,le=re?ensureSourceDimNameMap(g):createDimNameMap($),ue=n.encodeDefine;!ue&&n.encodeDefaulter&&(ue=n.encodeDefaulter(g,oe));for(var de=createHashMap(ue),he=new CtorInt32Array$1(oe),pe=0;pe<he.length;pe++)he[pe]=-1;function _e(Et){var Pt=he[Et];if(Pt<0){var kt=$[Et],Dt=isObject$4(kt)?kt:{name:kt},Lt=new SeriesDimensionDefine$1,hn=Dt.name;hn!=null&&le.get(hn)!=null&&(Lt.name=Lt.displayName=hn),Dt.type!=null&&(Lt.type=Dt.type),Dt.displayName!=null&&(Lt.displayName=Dt.displayName);var vn=V.length;return he[Et]=vn,Lt.storeDimIndex=Et,V.push(Lt),Lt}return V[Pt]}if(!ae)for(var pe=0;pe<oe;pe++)_e(pe);de.each(function(Et,Pt){var kt=normalizeToArray(Et).slice();if(kt.length===1&&!isString$1(kt[0])&&kt[0]<0){de.set(Pt,!1);return}var Dt=de.set(Pt,[]);each$f(kt,function(Lt,hn){var vn=isString$1(Lt)?le.get(Lt):Lt;vn!=null&&vn<oe&&(Dt[hn]=vn,xe(_e(vn),Pt,hn))})});var $e=0;each$f(r,function(Et){var Pt,kt,Dt,Lt;if(isString$1(Et))Pt=Et,Lt={};else{Lt=Et,Pt=Lt.name;var hn=Lt.ordinalMeta;Lt.ordinalMeta=null,Lt=extend$1({},Lt),Lt.ordinalMeta=hn,kt=Lt.dimsDef,Dt=Lt.otherDims,Lt.name=Lt.coordDim=Lt.coordDimIndex=Lt.dimsDef=Lt.otherDims=null}var vn=de.get(Pt);if(vn!==!1){if(vn=normalizeToArray(vn),!vn.length)for(var _n=0;_n<(kt&&kt.length||1);_n++){for(;$e<oe&&_e($e).coordDim!=null;)$e++;$e<oe&&vn.push($e++)}each$f(vn,function($n,Sn){var xn=_e($n);if(re&&Lt.type!=null&&(xn.type=Lt.type),xe(defaults$2(xn,Lt),Pt,Sn),xn.name==null&&kt){var On=kt[Sn];!isObject$4(On)&&(On={name:On}),xn.name=xn.displayName=On.name,xn.defaultTooltip=On.defaultTooltip}Dt&&defaults$2(xn.otherDims,Dt)})}});function xe(Et,Pt,kt){VISUAL_DIMENSIONS.get(Pt)!=null?Et.otherDims[Pt]=kt:(Et.coordDim=Pt,Et.coordDimIndex=kt,L.set(Pt,!0))}var Oe=n.generateCoord,Ce=n.generateCoordCount,Ie=Ce!=null;Ce=Oe?Ce||1:0;var Ne=Oe||"value";function ze(Et){Et.name==null&&(Et.name=Et.coordDim)}if(ae)each$f(V,function(Et){ze(Et)}),V.sort(function(Et,Pt){return Et.storeDimIndex-Pt.storeDimIndex});else for(var Fe=0;Fe<oe;Fe++){var Ue=_e(Fe),At=Ue.coordDim;At==null&&(Ue.coordDim=genCoordDimName(Ne,L,Ie),Ue.coordDimIndex=0,(!Oe||Ce<=0)&&(Ue.isExtraCoord=!0),Ce--),ze(Ue),Ue.type==null&&(guessOrdinal(g,Fe)===BE_ORDINAL.Must||Ue.isExtraCoord&&(Ue.otherDims.itemName!=null||Ue.otherDims.seriesName!=null))&&(Ue.type="ordinal")}return removeDuplication(V),new SeriesDataSchema({source:g,dimensions:V,fullDimensionCount:oe,dimensionOmitted:ae})}function removeDuplication(g){for(var n=createHashMap(),r=0;r<g.length;r++){var $=g[r],L=$.name,V=n.get(L)||0;V>0&&($.name=L+(V-1)),V++,n.set(L,V)}}function getDimCount(g,n,r,$){var L=Math.max(g.dimensionsDetectedCount||1,n.length,r.length,$||0);return each$f(n,function(V){var oe;isObject$4(V)&&(oe=V.dimsDef)&&(L=Math.max(L,oe.length))}),L}function genCoordDimName(g,n,r){if(r||n.hasKey(g)){for(var $=0;n.hasKey(g+$);)$++;g+=$}return n.set(g,!0),g}var CoordSysInfo=function(){function g(n){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=n}return g}();function getCoordSysInfoBySeries(g){var n=g.get("coordinateSystem"),r=new CoordSysInfo(n),$=fetchers[n];if($)return $(g,r,r.axisMap,r.categoryAxisMap),r}var fetchers={cartesian2d:function(g,n,r,$){var L=g.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],V=g.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];n.coordSysDims=["x","y"],r.set("x",L),r.set("y",V),isCategory(L)&&($.set("x",L),n.firstCategoryDimIndex=0),isCategory(V)&&($.set("y",V),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},singleAxis:function(g,n,r,$){var L=g.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];n.coordSysDims=["single"],r.set("single",L),isCategory(L)&&($.set("single",L),n.firstCategoryDimIndex=0)},polar:function(g,n,r,$){var L=g.getReferringComponents("polar",SINGLE_REFERRING).models[0],V=L.findAxisModel("radiusAxis"),oe=L.findAxisModel("angleAxis");n.coordSysDims=["radius","angle"],r.set("radius",V),r.set("angle",oe),isCategory(V)&&($.set("radius",V),n.firstCategoryDimIndex=0),isCategory(oe)&&($.set("angle",oe),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},geo:function(g,n,r,$){n.coordSysDims=["lng","lat"]},parallel:function(g,n,r,$){var L=g.ecModel,V=L.getComponent("parallel",g.get("parallelIndex")),oe=n.coordSysDims=V.dimensions.slice();each$f(V.parallelAxisIndex,function(ae,re){var le=L.getComponent("parallelAxis",ae),ue=oe[re];r.set(ue,le),isCategory(le)&&($.set(ue,le),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=re))})}};function isCategory(g){return g.get("type")==="category"}function enableDataStack(g,n,r){r=r||{};var $=r.byIndex,L=r.stackedCoordDimension,V,oe,ae;isLegacyDimensionsInput(n)?V=n:(oe=n.schema,V=oe.dimensions,ae=n.store);var re=!!(g&&g.get("stack")),le,ue,de,he;if(each$f(V,function(Ce,Ie){isString$1(Ce)&&(V[Ie]=Ce={name:Ce}),re&&!Ce.isExtraCoord&&(!$&&!le&&Ce.ordinalMeta&&(le=Ce),!ue&&Ce.type!=="ordinal"&&Ce.type!=="time"&&(!L||L===Ce.coordDim)&&(ue=Ce))}),ue&&!$&&!le&&($=!0),ue){de="__\0ecstackresult_"+g.id,he="__\0ecstackedover_"+g.id,le&&(le.createInvertedIndices=!0);var pe=ue.coordDim,_e=ue.type,$e=0;each$f(V,function(Ce){Ce.coordDim===pe&&$e++});var xe={name:de,coordDim:pe,coordDimIndex:$e,type:_e,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:V.length},Oe={name:he,coordDim:he,coordDimIndex:$e+1,type:_e,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:V.length+1};oe?(ae&&(xe.storeDimIndex=ae.ensureCalculationDimension(he,_e),Oe.storeDimIndex=ae.ensureCalculationDimension(de,_e)),oe.appendCalculationDimension(xe),oe.appendCalculationDimension(Oe)):(V.push(xe),V.push(Oe))}return{stackedDimension:ue&&ue.name,stackedByDimension:le&&le.name,isStackedByIndex:$,stackedOverDimension:he,stackResultDimension:de}}function isLegacyDimensionsInput(g){return!isSeriesDataSchema(g.schema)}function isDimensionStacked(g,n){return!!n&&n===g.getCalculationInfo("stackedDimension")}function getStackedDimension(g,n){return isDimensionStacked(g,n)?g.getCalculationInfo("stackResultDimension"):n}function getCoordSysDimDefs(g,n){var r=g.get("coordinateSystem"),$=CoordinateSystem.get(r),L;return n&&n.coordSysDims&&(L=map$1(n.coordSysDims,function(V){var oe={name:V},ae=n.axisMap.get(V);if(ae){var re=ae.get("type");oe.type=getDimensionTypeByAxis(re)}return oe})),L||(L=$&&($.getDimensionsInfo?$.getDimensionsInfo():$.dimensions.slice())||["x","y"]),L}function injectOrdinalMeta(g,n,r){var $,L;return r&&each$f(g,function(V,oe){var ae=V.coordDim,re=r.categoryAxisMap.get(ae);re&&($==null&&($=oe),V.ordinalMeta=re.getOrdinalMeta(),n&&(V.createInvertedIndices=!0)),V.otherDims.itemName!=null&&(L=!0)}),!L&&$!=null&&(g[$].otherDims.itemName=0),$}function createSeriesData(g,n,r){r=r||{};var $=n.getSourceManager(),L,V=!1;g?(V=!0,L=createSourceFromSeriesDataOption(g)):(L=$.getSource(),V=L.sourceFormat===SOURCE_FORMAT_ORIGINAL);var oe=getCoordSysInfoBySeries(n),ae=getCoordSysDimDefs(n,oe),re=r.useEncodeDefaulter,le=isFunction$1(re)?re:re?curry$1(makeSeriesEncodeForAxisCoordSys,ae,n):null,ue={coordDimensions:ae,generateCoord:r.generateCoord,encodeDefine:n.getEncode(),encodeDefaulter:le,canOmitUnusedDimensions:!V},de=prepareSeriesDataSchema(L,ue),he=injectOrdinalMeta(de.dimensions,r.createInvertedIndices,oe),pe=V?null:$.getSharedDataStore(de),_e=enableDataStack(n,{schema:de,store:pe}),$e=new SeriesData$1(de,n);$e.setCalculationInfo(_e);var xe=he!=null&&isNeedCompleteOrdinalData(L)?function(Oe,Ce,Ie,Ne){return Ne===he?Ie:this.defaultDimValueGetter(Oe,Ce,Ie,Ne)}:null;return $e.hasItemOption=!1,$e.initData(V?L:pe,null,xe),$e}function isNeedCompleteOrdinalData(g){if(g.sourceFormat===SOURCE_FORMAT_ORIGINAL){var n=firstDataNotNull(g.data||[]);return!isArray$2(getDataItemValue(n))}}function firstDataNotNull(g){for(var n=0;n<g.length&&g[n]==null;)n++;return g[n]}var Scale=function(){function g(n){this._setting=n||{},this._extent=[1/0,-1/0]}return g.prototype.getSetting=function(n){return this._setting[n]},g.prototype.unionExtent=function(n){var r=this._extent;n[0]<r[0]&&(r[0]=n[0]),n[1]>r[1]&&(r[1]=n[1])},g.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},g.prototype.getExtent=function(){return this._extent.slice()},g.prototype.setExtent=function(n,r){var $=this._extent;isNaN(n)||($[0]=n),isNaN(r)||($[1]=r)},g.prototype.isInExtentRange=function(n){return this._extent[0]<=n&&this._extent[1]>=n},g.prototype.isBlank=function(){return this._isBlank},g.prototype.setBlank=function(n){this._isBlank=n},g}();enableClassManagement(Scale);const Scale$1=Scale;var uidBase=0,OrdinalMeta=function(){function g(n){this.categories=n.categories||[],this._needCollect=n.needCollect,this._deduplication=n.deduplication,this.uid=++uidBase}return g.createByAxisModel=function(n){var r=n.option,$=r.data,L=$&&map$1($,getName);return new g({categories:L,needCollect:!L,deduplication:r.dedplication!==!1})},g.prototype.getOrdinal=function(n){return this._getOrCreateMap().get(n)},g.prototype.parseAndCollect=function(n){var r,$=this._needCollect;if(!isString$1(n)&&!$)return n;if($&&!this._deduplication)return r=this.categories.length,this.categories[r]=n,r;var L=this._getOrCreateMap();return r=L.get(n),r==null&&($?(r=this.categories.length,this.categories[r]=n,L.set(n,r)):r=NaN),r},g.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},g}();function getName(g){return isObject$4(g)&&g.value!=null?g.value:g+""}const OrdinalMeta$1=OrdinalMeta;function isIntervalOrLogScale(g){return g.type==="interval"||g.type==="log"}function intervalScaleNiceTicks(g,n,r,$){var L={},V=g[1]-g[0],oe=L.interval=nice(V/n,!0);r!=null&&oe<r&&(oe=L.interval=r),$!=null&&oe>$&&(oe=L.interval=$);var ae=L.intervalPrecision=getIntervalPrecision(oe),re=L.niceTickExtent=[round$3(Math.ceil(g[0]/oe)*oe,ae),round$3(Math.floor(g[1]/oe)*oe,ae)];return fixExtent(re,g),L}function increaseInterval(g){var n=Math.pow(10,quantityExponent(g)),r=g/n;return r?r===2?r=3:r===3?r=5:r*=2:r=1,round$3(r*n)}function getIntervalPrecision(g){return getPrecision(g)+2}function clamp(g,n,r){g[n]=Math.max(Math.min(g[n],r[1]),r[0])}function fixExtent(g,n){!isFinite(g[0])&&(g[0]=n[0]),!isFinite(g[1])&&(g[1]=n[1]),clamp(g,0,n),clamp(g,1,n),g[0]>g[1]&&(g[0]=g[1])}function contain$1(g,n){return g>=n[0]&&g<=n[1]}function normalize$2(g,n){return n[1]===n[0]?.5:(g-n[0])/(n[1]-n[0])}function scale(g,n){return g*(n[1]-n[0])+n[0]}var OrdinalScale=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;$.type="ordinal";var L=$.getSetting("ordinalMeta");return L||(L=new OrdinalMeta$1({})),isArray$2(L)&&(L=new OrdinalMeta$1({categories:map$1(L,function(V){return isObject$4(V)?V.value:V})})),$._ordinalMeta=L,$._extent=$.getSetting("extent")||[0,L.categories.length-1],$}return n.prototype.parse=function(r){return r==null?NaN:isString$1(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},n.prototype.contain=function(r){return r=this.parse(r),contain$1(r,this._extent)&&this._ordinalMeta.categories[r]!=null},n.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),normalize$2(r,this._extent)},n.prototype.scale=function(r){return r=Math.round(scale(r,this._extent)),this.getRawOrdinalNumber(r)},n.prototype.getTicks=function(){for(var r=[],$=this._extent,L=$[0];L<=$[1];)r.push({value:L}),L++;return r},n.prototype.getMinorTicks=function(r){},n.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var $=r.ordinalNumbers,L=this._ordinalNumbersByTick=[],V=this._ticksByOrdinalNumber=[],oe=0,ae=this._ordinalMeta.categories.length,re=Math.min(ae,$.length);oe<re;++oe){var le=$[oe];L[oe]=le,V[le]=oe}for(var ue=0;oe<ae;++oe){for(;V[ue]!=null;)ue++;L.push(ue),V[ue]=oe}},n.prototype._getTickNumber=function(r){var $=this._ticksByOrdinalNumber;return $&&r>=0&&r<$.length?$[r]:r},n.prototype.getRawOrdinalNumber=function(r){var $=this._ordinalNumbersByTick;return $&&r>=0&&r<$.length?$[r]:r},n.prototype.getLabel=function(r){if(!this.isBlank()){var $=this.getRawOrdinalNumber(r.value),L=this._ordinalMeta.categories[$];return L==null?"":L+""}},n.prototype.count=function(){return this._extent[1]-this._extent[0]+1},n.prototype.unionExtentFromData=function(r,$){this.unionExtent(r.getApproximateExtent($))},n.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},n.prototype.getOrdinalMeta=function(){return this._ordinalMeta},n.prototype.calcNiceTicks=function(){},n.prototype.calcNiceExtent=function(){},n.type="ordinal",n}(Scale$1);Scale$1.registerClass(OrdinalScale);const OrdinalScale$1=OrdinalScale;var roundNumber=round$3,IntervalScale=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return n.prototype.parse=function(r){return r},n.prototype.contain=function(r){return contain$1(r,this._extent)},n.prototype.normalize=function(r){return normalize$2(r,this._extent)},n.prototype.scale=function(r){return scale(r,this._extent)},n.prototype.setExtent=function(r,$){var L=this._extent;isNaN(r)||(L[0]=parseFloat(r)),isNaN($)||(L[1]=parseFloat($))},n.prototype.unionExtent=function(r){var $=this._extent;r[0]<$[0]&&($[0]=r[0]),r[1]>$[1]&&($[1]=r[1]),this.setExtent($[0],$[1])},n.prototype.getInterval=function(){return this._interval},n.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(r)},n.prototype.getTicks=function(r){var $=this._interval,L=this._extent,V=this._niceExtent,oe=this._intervalPrecision,ae=[];if(!$)return ae;var re=1e4;L[0]<V[0]&&(r?ae.push({value:roundNumber(V[0]-$,oe)}):ae.push({value:L[0]}));for(var le=V[0];le<=V[1]&&(ae.push({value:le}),le=roundNumber(le+$,oe),le!==ae[ae.length-1].value);)if(ae.length>re)return[];var ue=ae.length?ae[ae.length-1].value:V[1];return L[1]>ue&&(r?ae.push({value:roundNumber(ue+$,oe)}):ae.push({value:L[1]})),ae},n.prototype.getMinorTicks=function(r){for(var $=this.getTicks(!0),L=[],V=this.getExtent(),oe=1;oe<$.length;oe++){for(var ae=$[oe],re=$[oe-1],le=0,ue=[],de=ae.value-re.value,he=de/r;le<r-1;){var pe=roundNumber(re.value+(le+1)*he);pe>V[0]&&pe<V[1]&&ue.push(pe),le++}L.push(ue)}return L},n.prototype.getLabel=function(r,$){if(r==null)return"";var L=$&&$.precision;L==null?L=getPrecision(r.value)||0:L==="auto"&&(L=this._intervalPrecision);var V=roundNumber(r.value,L,!0);return addCommas(V)},n.prototype.calcNiceTicks=function(r,$,L){r=r||5;var V=this._extent,oe=V[1]-V[0];if(isFinite(oe)){oe<0&&(oe=-oe,V.reverse());var ae=intervalScaleNiceTicks(V,r,$,L);this._intervalPrecision=ae.intervalPrecision,this._interval=ae.interval,this._niceExtent=ae.niceTickExtent}},n.prototype.calcNiceExtent=function(r){var $=this._extent;if($[0]===$[1])if($[0]!==0){var L=Math.abs($[0]);r.fixMax||($[1]+=L/2),$[0]-=L/2}else $[1]=1;var V=$[1]-$[0];isFinite(V)||($[0]=0,$[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var oe=this._interval;r.fixMin||($[0]=roundNumber(Math.floor($[0]/oe)*oe)),r.fixMax||($[1]=roundNumber(Math.ceil($[1]/oe)*oe))},n.prototype.setNiceExtent=function(r,$){this._niceExtent=[r,$]},n.type="interval",n}(Scale$1);Scale$1.registerClass(IntervalScale);const IntervalScale$1=IntervalScale;var supportFloat32Array=typeof Float32Array<"u",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(g){return isArray$2(g)?supportFloat32Array?new Float32Array(g):g:new Float32ArrayCtor(g)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId$1(g){return g.get("stack")||STACK_PREFIX+g.seriesIndex}function getAxisKey$1(g){return g.dim+g.index}function getLayoutOnAxis(g){var n=[],r=g.axis,$="axis0";if(r.type==="category"){for(var L=r.getBandWidth(),V=0;V<g.count;V++)n.push(defaults$2({bandWidth:L,axisKey:$,stackId:STACK_PREFIX+V},g));for(var oe=doCalBarWidthAndOffset(n),ae=[],V=0;V<g.count;V++){var re=oe[$][STACK_PREFIX+V];re.offsetCenter=re.offset+re.width/2,ae.push(re)}return ae}}function prepareLayoutBarSeries(g,n){var r=[];return n.eachSeriesByType(g,function($){isOnCartesian($)&&r.push($)}),r}function getValueAxesMinGaps(g){var n={};each$f(g,function(re){var le=re.coordinateSystem,ue=le.getBaseAxis();if(!(ue.type!=="time"&&ue.type!=="value"))for(var de=re.getData(),he=ue.dim+"_"+ue.index,pe=de.getDimensionIndex(de.mapDimension(ue.dim)),_e=de.getStore(),$e=0,xe=_e.count();$e<xe;++$e){var Oe=_e.get(pe,$e);n[he]?n[he].push(Oe):n[he]=[Oe]}});var r={};for(var $ in n)if(n.hasOwnProperty($)){var L=n[$];if(L){L.sort(function(re,le){return re-le});for(var V=null,oe=1;oe<L.length;++oe){var ae=L[oe]-L[oe-1];ae>0&&(V=V===null?ae:Math.min(V,ae))}r[$]=V}}return r}function makeColumnLayout(g){var n=getValueAxesMinGaps(g),r=[];return each$f(g,function($){var L=$.coordinateSystem,V=L.getBaseAxis(),oe=V.getExtent(),ae;if(V.type==="category")ae=V.getBandWidth();else if(V.type==="value"||V.type==="time"){var re=V.dim+"_"+V.index,le=n[re],ue=Math.abs(oe[1]-oe[0]),de=V.scale.getExtent(),he=Math.abs(de[1]-de[0]);ae=le?ue/he*le:ue}else{var pe=$.getData();ae=Math.abs(oe[1]-oe[0])/pe.count()}var _e=parsePercent($.get("barWidth"),ae),$e=parsePercent($.get("barMaxWidth"),ae),xe=parsePercent($.get("barMinWidth")||(isInLargeMode($)?.5:1),ae),Oe=$.get("barGap"),Ce=$.get("barCategoryGap");r.push({bandWidth:ae,barWidth:_e,barMaxWidth:$e,barMinWidth:xe,barGap:Oe,barCategoryGap:Ce,axisKey:getAxisKey$1(V),stackId:getSeriesStackId$1($)})}),doCalBarWidthAndOffset(r)}function doCalBarWidthAndOffset(g){var n={};each$f(g,function($,L){var V=$.axisKey,oe=$.bandWidth,ae=n[V]||{bandWidth:oe,remainedWidth:oe,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},re=ae.stacks;n[V]=ae;var le=$.stackId;re[le]||ae.autoWidthCount++,re[le]=re[le]||{width:0,maxWidth:0};var ue=$.barWidth;ue&&!re[le].width&&(re[le].width=ue,ue=Math.min(ae.remainedWidth,ue),ae.remainedWidth-=ue);var de=$.barMaxWidth;de&&(re[le].maxWidth=de);var he=$.barMinWidth;he&&(re[le].minWidth=he);var pe=$.barGap;pe!=null&&(ae.gap=pe);var _e=$.barCategoryGap;_e!=null&&(ae.categoryGap=_e)});var r={};return each$f(n,function($,L){r[L]={};var V=$.stacks,oe=$.bandWidth,ae=$.categoryGap;if(ae==null){var re=keys(V).length;ae=Math.max(35-re*4,15)+"%"}var le=parsePercent(ae,oe),ue=parsePercent($.gap,1),de=$.remainedWidth,he=$.autoWidthCount,pe=(de-le)/(he+(he-1)*ue);pe=Math.max(pe,0),each$f(V,function(Oe){var Ce=Oe.maxWidth,Ie=Oe.minWidth;if(Oe.width){var Ne=Oe.width;Ce&&(Ne=Math.min(Ne,Ce)),Ie&&(Ne=Math.max(Ne,Ie)),Oe.width=Ne,de-=Ne+ue*Ne,he--}else{var Ne=pe;Ce&&Ce<Ne&&(Ne=Math.min(Ce,de)),Ie&&Ie>Ne&&(Ne=Ie),Ne!==pe&&(Oe.width=Ne,de-=Ne+ue*Ne,he--)}}),pe=(de-le)/(he+(he-1)*ue),pe=Math.max(pe,0);var _e=0,$e;each$f(V,function(Oe,Ce){Oe.width||(Oe.width=pe),$e=Oe,_e+=Oe.width*(1+ue)}),$e&&(_e-=$e.width*ue);var xe=-_e/2;each$f(V,function(Oe,Ce){r[L][Ce]=r[L][Ce]||{bandWidth:oe,offset:xe,width:Oe.width},xe+=Oe.width*(1+ue)})}),r}function retrieveColumnLayout(g,n,r){if(g&&n){var $=g[getAxisKey$1(n)];return $!=null&&r!=null?$[getSeriesStackId$1(r)]:$}}function layout$3(g,n){var r=prepareLayoutBarSeries(g,n),$=makeColumnLayout(r);each$f(r,function(L){var V=L.getData(),oe=L.coordinateSystem,ae=oe.getBaseAxis(),re=getSeriesStackId$1(L),le=$[getAxisKey$1(ae)][re],ue=le.offset,de=le.width;V.setLayout({bandWidth:le.bandWidth,offset:ue,size:de})})}function createProgressiveLayout(g){return{seriesType:g,plan:createRenderPlanner(),reset:function(n){if(isOnCartesian(n)){var r=n.getData(),$=n.coordinateSystem,L=$.getBaseAxis(),V=$.getOtherAxis(L),oe=r.getDimensionIndex(r.mapDimension(V.dim)),ae=r.getDimensionIndex(r.mapDimension(L.dim)),re=n.get("showBackground",!0),le=r.mapDimension(V.dim),ue=r.getCalculationInfo("stackResultDimension"),de=isDimensionStacked(r,le)&&!!r.getCalculationInfo("stackedOnSeries"),he=V.isHorizontal(),pe=getValueAxisStart(L,V),_e=isInLargeMode(n),$e=n.get("barMinHeight")||0,xe=ue&&r.getDimensionIndex(ue),Oe=r.getLayout("size"),Ce=r.getLayout("offset");return{progress:function(Ie,Ne){for(var ze=Ie.count,Fe=_e&&createFloat32Array(ze*3),Ue=_e&&re&&createFloat32Array(ze*3),At=_e&&createFloat32Array(ze),Et=$.master.getRect(),Pt=he?Et.width:Et.height,kt,Dt=Ne.getStore(),Lt=0;(kt=Ie.next())!=null;){var hn=Dt.get(de?xe:oe,kt),vn=Dt.get(ae,kt),_n=pe,$n=void 0;de&&($n=+hn-Dt.get(oe,kt));var Sn=void 0,xn=void 0,On=void 0,Cn=void 0;if(he){var An=$.dataToPoint([hn,vn]);if(de){var Rn=$.dataToPoint([$n,vn]);_n=Rn[0]}Sn=_n,xn=An[1]+Ce,On=An[0]-_n,Cn=Oe,Math.abs(On)<$e&&(On=(On<0?-1:1)*$e)}else{var An=$.dataToPoint([vn,hn]);if(de){var Rn=$.dataToPoint([vn,$n]);_n=Rn[1]}Sn=An[0]+Ce,xn=_n,On=Oe,Cn=An[1]-_n,Math.abs(Cn)<$e&&(Cn=(Cn<=0?-1:1)*$e)}_e?(Fe[Lt]=Sn,Fe[Lt+1]=xn,Fe[Lt+2]=he?On:Cn,Ue&&(Ue[Lt]=he?Et.x:Sn,Ue[Lt+1]=he?xn:Et.y,Ue[Lt+2]=Pt),At[kt]=kt):Ne.setItemLayout(kt,{x:Sn,y:xn,width:On,height:Cn}),Lt+=3}_e&&Ne.setLayout({largePoints:Fe,largeDataIndices:At,largeBackgroundPoints:Ue,valueAxisHorizontal:he})}}}}}}function isOnCartesian(g){return g.coordinateSystem&&g.coordinateSystem.type==="cartesian2d"}function isInLargeMode(g){return g.pipelineContext&&g.pipelineContext.large}function getValueAxisStart(g,n){return n.toGlobalCoord(n.dataToCoord(n.type==="log"?1:0))}var bisect=function(g,n,r,$){for(;r<$;){var L=r+$>>>1;g[L][1]<n?r=L+1:$=L}return r},TimeScale=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="time",$}return n.prototype.getLabel=function(r){var $=this.getSetting("useUTC");return format(r.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,$,this.getSetting("locale"))},n.prototype.getFormattedLabel=function(r,$,L){var V=this.getSetting("useUTC"),oe=this.getSetting("locale");return leveledFormat(r,$,L,oe,V)},n.prototype.getTicks=function(){var r=this._interval,$=this._extent,L=[];if(!r)return L;L.push({value:$[0],level:0});var V=this.getSetting("useUTC"),oe=getIntervalTicks(this._minLevelUnit,this._approxInterval,V,$);return L=L.concat(oe),L.push({value:$[1],level:0}),L},n.prototype.calcNiceExtent=function(r){var $=this._extent;if($[0]===$[1]&&($[0]-=ONE_DAY,$[1]+=ONE_DAY),$[1]===-1/0&&$[0]===1/0){var L=new Date;$[1]=+new Date(L.getFullYear(),L.getMonth(),L.getDate()),$[0]=$[1]-ONE_DAY}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},n.prototype.calcNiceTicks=function(r,$,L){r=r||10;var V=this._extent,oe=V[1]-V[0];this._approxInterval=oe/r,$!=null&&this._approxInterval<$&&(this._approxInterval=$),L!=null&&this._approxInterval>L&&(this._approxInterval=L);var ae=scaleIntervals.length,re=Math.min(bisect(scaleIntervals,this._approxInterval,0,ae),ae-1);this._interval=scaleIntervals[re][1],this._minLevelUnit=scaleIntervals[Math.max(re-1,0)][0]},n.prototype.parse=function(r){return isNumber$1(r)?r:+parseDate(r)},n.prototype.contain=function(r){return contain$1(this.parse(r),this._extent)},n.prototype.normalize=function(r){return normalize$2(this.parse(r),this._extent)},n.prototype.scale=function(r){return scale(r,this._extent)},n.type="time",n}(IntervalScale$1),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame(g,n,r,$){var L=parseDate(n),V=parseDate(r),oe=function(_e){return getUnitValue(L,_e,$)===getUnitValue(V,_e,$)},ae=function(){return oe("year")},re=function(){return ae()&&oe("month")},le=function(){return re()&&oe("day")},ue=function(){return le()&&oe("hour")},de=function(){return ue()&&oe("minute")},he=function(){return de()&&oe("second")},pe=function(){return he()&&oe("millisecond")};switch(g){case"year":return ae();case"month":return re();case"day":return le();case"hour":return ue();case"minute":return de();case"second":return he();case"millisecond":return pe()}}function getDateInterval(g,n){return g/=ONE_DAY,g>16?16:g>7.5?7:g>3.5?4:g>1.5?2:1}function getMonthInterval(g){var n=30*ONE_DAY;return g/=n,g>6?6:g>3?3:g>2?2:1}function getHourInterval(g){return g/=ONE_HOUR,g>12?12:g>6?6:g>3.5?4:g>2?2:1}function getMinutesAndSecondsInterval(g,n){return g/=n?ONE_MINUTE:ONE_SECOND,g>30?30:g>20?20:g>15?15:g>10?10:g>5?5:g>2?2:1}function getMillisecondsInterval(g){return nice(g,!0)}function getFirstTimestampOfUnit(g,n,r){var $=new Date(g);switch(getPrimaryTimeUnit(n)){case"year":case"month":$[monthSetterName(r)](0);case"day":$[dateSetterName(r)](1);case"hour":$[hoursSetterName(r)](0);case"minute":$[minutesSetterName(r)](0);case"second":$[secondsSetterName(r)](0),$[millisecondsSetterName(r)](0)}return $.getTime()}function getIntervalTicks(g,n,r,$){var L=1e4,V=timeUnits,oe=0;function ae(Pt,kt,Dt,Lt,hn,vn,_n){for(var $n=new Date(kt),Sn=kt,xn=$n[Lt]();Sn<Dt&&Sn<=$[1];)_n.push({value:Sn}),xn+=Pt,$n[hn](xn),Sn=$n.getTime();_n.push({value:Sn,notAdd:!0})}function re(Pt,kt,Dt){var Lt=[],hn=!kt.length;if(!isUnitValueSame(getPrimaryTimeUnit(Pt),$[0],$[1],r)){hn&&(kt=[{value:getFirstTimestampOfUnit(new Date($[0]),Pt,r)},{value:$[1]}]);for(var vn=0;vn<kt.length-1;vn++){var _n=kt[vn].value,$n=kt[vn+1].value;if(_n!==$n){var Sn=void 0,xn=void 0,On=void 0,Cn=!1;switch(Pt){case"year":Sn=Math.max(1,Math.round(n/ONE_DAY/365)),xn=fullYearGetterName(r),On=fullYearSetterName(r);break;case"half-year":case"quarter":case"month":Sn=getMonthInterval(n),xn=monthGetterName(r),On=monthSetterName(r);break;case"week":case"half-week":case"day":Sn=getDateInterval(n),xn=dateGetterName(r),On=dateSetterName(r),Cn=!0;break;case"half-day":case"quarter-day":case"hour":Sn=getHourInterval(n),xn=hoursGetterName(r),On=hoursSetterName(r);break;case"minute":Sn=getMinutesAndSecondsInterval(n,!0),xn=minutesGetterName(r),On=minutesSetterName(r);break;case"second":Sn=getMinutesAndSecondsInterval(n,!1),xn=secondsGetterName(r),On=secondsSetterName(r);break;case"millisecond":Sn=getMillisecondsInterval(n),xn=millisecondsGetterName(r),On=millisecondsSetterName(r);break}ae(Sn,_n,$n,xn,On,Cn,Lt),Pt==="year"&&Dt.length>1&&vn===0&&Dt.unshift({value:Dt[0].value-Sn})}}for(var vn=0;vn<Lt.length;vn++)Dt.push(Lt[vn]);return Lt}}for(var le=[],ue=[],de=0,he=0,pe=0;pe<V.length&&oe++<L;++pe){var _e=getPrimaryTimeUnit(V[pe]);if(isPrimaryTimeUnit(V[pe])){re(V[pe],le[le.length-1]||[],ue);var $e=V[pe+1]?getPrimaryTimeUnit(V[pe+1]):null;if(_e!==$e){if(ue.length){he=de,ue.sort(function(Pt,kt){return Pt.value-kt.value});for(var xe=[],Oe=0;Oe<ue.length;++Oe){var Ce=ue[Oe].value;(Oe===0||ue[Oe-1].value!==Ce)&&(xe.push(ue[Oe]),Ce>=$[0]&&Ce<=$[1]&&de++)}var Ie=($[1]-$[0])/n;if(de>Ie*1.5&&he>Ie/1.5||(le.push(xe),de>Ie||g===V[pe]))break}ue=[]}}}for(var Ne=filter(map$1(le,function(kt){return filter(kt,function(Dt){return Dt.value>=$[0]&&Dt.value<=$[1]&&!Dt.notAdd})}),function(kt){return kt.length>0}),ze=[],Fe=Ne.length-1,pe=0;pe<Ne.length;++pe)for(var Ue=Ne[pe],At=0;At<Ue.length;++At)ze.push({value:Ue[At].value,level:Fe-pe});ze.sort(function(Pt,kt){return Pt.value-kt.value});for(var Et=[],pe=0;pe<ze.length;++pe)(pe===0||ze[pe].value!==ze[pe-1].value)&&Et.push(ze[pe]);return Et}Scale$1.registerClass(TimeScale);const TimeScale$1=TimeScale;var scaleProto=Scale$1.prototype,intervalScaleProto=IntervalScale$1.prototype,roundingErrorFix=round$3,mathFloor$1=Math.floor,mathCeil$1=Math.ceil,mathPow$1=Math.pow,mathLog$1=Math.log,LogScale=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new IntervalScale$1,r._interval=0,r}return n.prototype.getTicks=function(r){var $=this._originalScale,L=this._extent,V=$.getExtent(),oe=intervalScaleProto.getTicks.call(this,r);return map$1(oe,function(ae){var re=ae.value,le=round$3(mathPow$1(this.base,re));return le=re===L[0]&&this._fixMin?fixRoundingError(le,V[0]):le,le=re===L[1]&&this._fixMax?fixRoundingError(le,V[1]):le,{value:le}},this)},n.prototype.setExtent=function(r,$){var L=mathLog$1(this.base);r=mathLog$1(Math.max(0,r))/L,$=mathLog$1(Math.max(0,$))/L,intervalScaleProto.setExtent.call(this,r,$)},n.prototype.getExtent=function(){var r=this.base,$=scaleProto.getExtent.call(this);$[0]=mathPow$1(r,$[0]),$[1]=mathPow$1(r,$[1]);var L=this._originalScale,V=L.getExtent();return this._fixMin&&($[0]=fixRoundingError($[0],V[0])),this._fixMax&&($[1]=fixRoundingError($[1],V[1])),$},n.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var $=this.base;r[0]=mathLog$1(r[0])/mathLog$1($),r[1]=mathLog$1(r[1])/mathLog$1($),scaleProto.unionExtent.call(this,r)},n.prototype.unionExtentFromData=function(r,$){this.unionExtent(r.getApproximateExtent($))},n.prototype.calcNiceTicks=function(r){r=r||10;var $=this._extent,L=$[1]-$[0];if(!(L===1/0||L<=0)){var V=quantity(L),oe=r/L*V;for(oe<=.5&&(V*=10);!isNaN(V)&&Math.abs(V)<1&&Math.abs(V)>0;)V*=10;var ae=[round$3(mathCeil$1($[0]/V)*V),round$3(mathFloor$1($[1]/V)*V)];this._interval=V,this._niceExtent=ae}},n.prototype.calcNiceExtent=function(r){intervalScaleProto.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},n.prototype.parse=function(r){return r},n.prototype.contain=function(r){return r=mathLog$1(r)/mathLog$1(this.base),contain$1(r,this._extent)},n.prototype.normalize=function(r){return r=mathLog$1(r)/mathLog$1(this.base),normalize$2(r,this._extent)},n.prototype.scale=function(r){return r=scale(r,this._extent),mathPow$1(this.base,r)},n.type="log",n}(Scale$1),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks,proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(g,n){return roundingErrorFix(g,getPrecision(n))}Scale$1.registerClass(LogScale);const LogScale$1=LogScale;var ScaleRawExtentInfo=function(){function g(n,r,$){this._prepareParams(n,r,$)}return g.prototype._prepareParams=function(n,r,$){$[1]<$[0]&&($=[NaN,NaN]),this._dataMin=$[0],this._dataMax=$[1];var L=this._isOrdinal=n.type==="ordinal";this._needCrossZero=n.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var V=this._modelMinRaw=r.get("min",!0);isFunction$1(V)?this._modelMinNum=parseAxisModelMinMax(n,V({min:$[0],max:$[1]})):V!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(n,V));var oe=this._modelMaxRaw=r.get("max",!0);if(isFunction$1(oe)?this._modelMaxNum=parseAxisModelMinMax(n,oe({min:$[0],max:$[1]})):oe!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(n,oe)),L)this._axisDataLen=r.getCategories().length;else{var ae=r.get("boundaryGap"),re=isArray$2(ae)?ae:[ae||0,ae||0];typeof re[0]=="boolean"||typeof re[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(re[0],1),parsePercent$1(re[1],1)]}},g.prototype.calculate=function(){var n=this._isOrdinal,r=this._dataMin,$=this._dataMax,L=this._axisDataLen,V=this._boundaryGapInner,oe=n?null:$-r||Math.abs(r),ae=this._modelMinRaw==="dataMin"?r:this._modelMinNum,re=this._modelMaxRaw==="dataMax"?$:this._modelMaxNum,le=ae!=null,ue=re!=null;ae==null&&(ae=n?L?0:NaN:r-V[0]*oe),re==null&&(re=n?L?L-1:NaN:$+V[1]*oe),(ae==null||!isFinite(ae))&&(ae=NaN),(re==null||!isFinite(re))&&(re=NaN);var de=eqNaN(ae)||eqNaN(re)||n&&!L;this._needCrossZero&&(ae>0&&re>0&&!le&&(ae=0),ae<0&&re<0&&!ue&&(re=0));var he=this._determinedMin,pe=this._determinedMax;return he!=null&&(ae=he,le=!0),pe!=null&&(re=pe,ue=!0),{min:ae,max:re,minFixed:le,maxFixed:ue,isBlank:de}},g.prototype.modifyDataMinMax=function(n,r){this[DATA_MIN_MAX_ATTR[n]]=r},g.prototype.setDeterminedMinMax=function(n,r){var $=DETERMINED_MIN_MAX_ATTR[n];this[$]=r},g.prototype.freeze=function(){this.frozen=!0},g}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(g,n,r){var $=g.rawExtentInfo;return $||($=new ScaleRawExtentInfo(g,n,r),g.rawExtentInfo=$,$)}function parseAxisModelMinMax(g,n){return n==null?null:eqNaN(n)?NaN:g.parse(n)}function getScaleExtent(g,n){var r=g.type,$=ensureScaleRawExtentInfo(g,n,g.getExtent()).calculate();g.setBlank($.isBlank);var L=$.min,V=$.max,oe=n.ecModel;if(oe&&r==="time"){var ae=prepareLayoutBarSeries("bar",oe),re=!1;if(each$f(ae,function(de){re=re||de.getBaseAxis()===n.axis}),re){var le=makeColumnLayout(ae),ue=adjustScaleForOverflow(L,V,n,le);L=ue.min,V=ue.max}}return{extent:[L,V],fixMin:$.minFixed,fixMax:$.maxFixed}}function adjustScaleForOverflow(g,n,r,$){var L=r.axis.getExtent(),V=L[1]-L[0],oe=retrieveColumnLayout($,r.axis);if(oe===void 0)return{min:g,max:n};var ae=1/0;each$f(oe,function(pe){ae=Math.min(pe.offset,ae)});var re=-1/0;each$f(oe,function(pe){re=Math.max(pe.offset+pe.width,re)}),ae=Math.abs(ae),re=Math.abs(re);var le=ae+re,ue=n-g,de=1-(ae+re)/V,he=ue/de-ue;return n+=he*(re/le),g-=he*(ae/le),{min:g,max:n}}function niceScaleExtent(g,n){var r=n,$=getScaleExtent(g,r),L=$.extent,V=r.get("splitNumber");g instanceof LogScale$1&&(g.base=r.get("logBase"));var oe=g.type,ae=r.get("interval"),re=oe==="interval"||oe==="time";g.setExtent(L[0],L[1]),g.calcNiceExtent({splitNumber:V,fixMin:$.fixMin,fixMax:$.fixMax,minInterval:re?r.get("minInterval"):null,maxInterval:re?r.get("maxInterval"):null}),ae!=null&&g.setInterval&&g.setInterval(ae)}function createScaleByModel$1(g,n){if(n=n||g.get("type"),n)switch(n){case"category":return new OrdinalScale$1({ordinalMeta:g.getOrdinalMeta?g.getOrdinalMeta():g.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:g.ecModel.getLocaleModel(),useUTC:g.ecModel.get("useUTC")});default:return new(Scale$1.getClass(n)||IntervalScale$1)}}function ifAxisCrossZero(g){var n=g.scale.getExtent(),r=n[0],$=n[1];return!(r>0&&$>0||r<0&&$<0)}function makeLabelFormatter(g){var n=g.getLabelModel().get("formatter"),r=g.type==="category"?g.scale.getExtent()[0]:null;return g.scale.type==="time"?function($){return function(L,V){return g.scale.getFormattedLabel(L,V,$)}}(n):isString$1(n)?function($){return function(L){var V=g.scale.getLabel(L),oe=$.replace("{value}",V!=null?V:"");return oe}}(n):isFunction$1(n)?function($){return function(L,V){return r!=null&&(V=L.value-r),$(getAxisRawValue(g,L),V,L.level!=null?{level:L.level}:null)}}(n):function($){return g.scale.getLabel($)}}function getAxisRawValue(g,n){return g.type==="category"?g.scale.getLabel(n):n.value}function estimateLabelUnionRect(g){var n=g.model,r=g.scale;if(!(!n.get(["axisLabel","show"])||r.isBlank())){var $,L,V=r.getExtent();r instanceof OrdinalScale$1?L=r.count():($=r.getTicks(),L=$.length);var oe=g.getLabelModel(),ae=makeLabelFormatter(g),re,le=1;L>40&&(le=Math.ceil(L/40));for(var ue=0;ue<L;ue+=le){var de=$?$[ue]:{value:V[0]+ue},he=ae(de,ue),pe=oe.getTextRect(he),_e=rotateTextRect(pe,oe.get("rotate")||0);re?re.union(_e):re=_e}return re}}function rotateTextRect(g,n){var r=n*Math.PI/180,$=g.width,L=g.height,V=$*Math.abs(Math.cos(r))+Math.abs(L*Math.sin(r)),oe=$*Math.abs(Math.sin(r))+Math.abs(L*Math.cos(r)),ae=new BoundingRect$1(g.x,g.y,V,oe);return ae}function getOptionCategoryInterval(g){var n=g.get("interval");return n!=null?n:"auto"}function shouldShowAllLabels(g){return g.type==="category"&&getOptionCategoryInterval(g.getLabelModel())===0}function getDataDimensionsOnAxis(g,n){var r={};return each$f(g.mapDimensionsAll(n),function($){r[getStackedDimension(g,$)]=!0}),keys(r)}function unionAxisExtentFromData(g,n,r){n&&each$f(getDataDimensionsOnAxis(n,r),function($){var L=n.getApproximateExtent($);L[0]<g[0]&&(g[0]=L[0]),L[1]>g[1]&&(g[1]=L[1])})}var AxisModelCommonMixin=function(){function g(){}return g.prototype.getNeedCrossZero=function(){var n=this.option;return!n.scale},g.prototype.getCoordSysModel=function(){},g}(),EPSILON=1e-8;function isAroundEqual(g,n){return Math.abs(g-n)<EPSILON}function contain(g,n,r){var $=0,L=g[0];if(!L)return!1;for(var V=1;V<g.length;V++){var oe=g[V];$+=windingLine(L[0],L[1],oe[0],oe[1],n,r),L=oe}var ae=g[0];return(!isAroundEqual(L[0],ae[0])||!isAroundEqual(L[1],ae[1]))&&($+=windingLine(L[0],L[1],ae[0],ae[1],n,r)),$!==0}var TMP_TRANSFORM=[];function transformPoints(g,n){for(var r=0;r<g.length;r++)applyTransform$1(g[r],g[r],n)}function updateBBoxFromPoints(g,n,r,$){for(var L=0;L<g.length;L++){var V=g[L];$&&(V=$.project(V)),V&&isFinite(V[0])&&isFinite(V[1])&&(min$1(n,n,V),max$1(r,r,V))}}function centroid$1(g){for(var n=0,r=0,$=0,L=g.length,V=g[L-1][0],oe=g[L-1][1],ae=0;ae<L;ae++){var re=g[ae][0],le=g[ae][1],ue=V*le-re*oe;n+=ue,r+=(V+re)*ue,$+=(oe+le)*ue,V=re,oe=le}return n?[r/n/3,$/n/3,n]:[g[0][0]||0,g[0][1]||0]}var Region=function(){function g(n){this.name=n}return g.prototype.setCenter=function(n){this._center=n},g.prototype.getCenter=function(){var n=this._center;return n||(n=this._center=this.calcCenter()),n},g}(),GeoJSONPolygonGeometry=function(){function g(n,r){this.type="polygon",this.exterior=n,this.interiors=r}return g}(),GeoJSONLineStringGeometry=function(){function g(n){this.type="linestring",this.points=n}return g}(),GeoJSONRegion=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this,r)||this;return V.type="geoJSON",V.geometries=$,V._center=L&&[L[0],L[1]],V}return n.prototype.calcCenter=function(){for(var r=this.geometries,$,L=0,V=0;V<r.length;V++){var oe=r[V],ae=oe.exterior,re=ae&&ae.length;re>L&&($=oe,L=re)}if($)return centroid$1($.exterior);var le=this.getBoundingRect();return[le.x+le.width/2,le.y+le.height/2]},n.prototype.getBoundingRect=function(r){var $=this._rect;if($&&!r)return $;var L=[1/0,1/0],V=[-1/0,-1/0],oe=this.geometries;return each$f(oe,function(ae){ae.type==="polygon"?updateBBoxFromPoints(ae.exterior,L,V,r):each$f(ae.points,function(re){updateBBoxFromPoints(re,L,V,r)})}),isFinite(L[0])&&isFinite(L[1])&&isFinite(V[0])&&isFinite(V[1])||(L[0]=L[1]=V[0]=V[1]=0),$=new BoundingRect$1(L[0],L[1],V[0]-L[0],V[1]-L[1]),r||(this._rect=$),$},n.prototype.contain=function(r){var $=this.getBoundingRect(),L=this.geometries;if(!$.contain(r[0],r[1]))return!1;e:for(var V=0,oe=L.length;V<oe;V++){var ae=L[V];if(ae.type==="polygon"){var re=ae.exterior,le=ae.interiors;if(contain(re,r[0],r[1])){for(var ue=0;ue<(le?le.length:0);ue++)if(contain(le[ue],r[0],r[1]))continue e;return!0}}}return!1},n.prototype.transformTo=function(r,$,L,V){var oe=this.getBoundingRect(),ae=oe.width/oe.height;L?V||(V=L/ae):L=ae*V;for(var re=new BoundingRect$1(r,$,L,V),le=oe.calculateTransform(re),ue=this.geometries,de=0;de<ue.length;de++){var he=ue[de];he.type==="polygon"?(transformPoints(he.exterior,le),each$f(he.interiors,function(pe){transformPoints(pe,le)})):each$f(he.points,function(pe){transformPoints(pe,le)})}oe=this._rect,oe.copy(re),this._center=[oe.x+oe.width/2,oe.y+oe.height/2]},n.prototype.cloneShallow=function(r){r==null&&(r=this.name);var $=new n(r,this.geometries,this._center);return $._rect=this._rect,$.transformTo=null,$},n}(Region),GeoSVGRegion=function(g){__extends(n,g);function n(r,$){var L=g.call(this,r)||this;return L.type="geoSVG",L._elOnlyForCalculate=$,L}return n.prototype.calcCenter=function(){for(var r=this._elOnlyForCalculate,$=r.getBoundingRect(),L=[$.x+$.width/2,$.y+$.height/2],V=identity(TMP_TRANSFORM),oe=r;oe&&!oe.isGeoSVGGraphicRoot;)mul(V,oe.getLocalTransform(),V),oe=oe.parent;return invert(V,V),applyTransform$1(L,L,V),L},n}(Region);function decode(g){if(!g.UTF8Encoding)return g;var n=g,r=n.UTF8Scale;r==null&&(r=1024);var $=n.features;return each$f($,function(L){var V=L.geometry,oe=V.encodeOffsets,ae=V.coordinates;if(oe)switch(V.type){case"LineString":V.coordinates=decodeRing(ae,oe,r);break;case"Polygon":decodeRings(ae,oe,r);break;case"MultiLineString":decodeRings(ae,oe,r);break;case"MultiPolygon":each$f(ae,function(re,le){return decodeRings(re,oe[le],r)})}}),n.UTF8Encoding=!1,n}function decodeRings(g,n,r){for(var $=0;$<g.length;$++)g[$]=decodeRing(g[$],n[$],r)}function decodeRing(g,n,r){for(var $=[],L=n[0],V=n[1],oe=0;oe<g.length;oe+=2){var ae=g.charCodeAt(oe)-64,re=g.charCodeAt(oe+1)-64;ae=ae>>1^-(ae&1),re=re>>1^-(re&1),ae+=L,re+=V,L=ae,V=re,$.push([ae/r,re/r])}return $}function parseGeoJSON(g,n){return g=decode(g),map$1(filter(g.features,function(r){return r.geometry&&r.properties&&r.geometry.coordinates.length>0}),function(r){var $=r.properties,L=r.geometry,V=[];switch(L.type){case"Polygon":var oe=L.coordinates;V.push(new GeoJSONPolygonGeometry(oe[0],oe.slice(1)));break;case"MultiPolygon":each$f(L.coordinates,function(re){re[0]&&V.push(new GeoJSONPolygonGeometry(re[0],re.slice(1)))});break;case"LineString":V.push(new GeoJSONLineStringGeometry([L.coordinates]));break;case"MultiLineString":V.push(new GeoJSONLineStringGeometry(L.coordinates))}var ae=new GeoJSONRegion($[n||"name"],V,$.cp);return ae.properties=$,ae})}var inner$g=makeInner();function createAxisLabels(g){return g.type==="category"?makeCategoryLabels(g):makeRealNumberLabels(g)}function createAxisTicks(g,n){return g.type==="category"?makeCategoryTicks(g,n):{ticks:map$1(g.scale.getTicks(),function(r){return r.value})}}function makeCategoryLabels(g){var n=g.getLabelModel(),r=makeCategoryLabelsActually(g,n);return!n.get("show")||g.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function makeCategoryLabelsActually(g,n){var r=getListCache(g,"labels"),$=getOptionCategoryInterval(n),L=listCacheGet(r,$);if(L)return L;var V,oe;return isFunction$1($)?V=makeLabelsByCustomizedCategoryInterval(g,$):(oe=$==="auto"?makeAutoCategoryInterval(g):$,V=makeLabelsByNumericCategoryInterval(g,oe)),listCacheSet(r,$,{labels:V,labelCategoryInterval:oe})}function makeCategoryTicks(g,n){var r=getListCache(g,"ticks"),$=getOptionCategoryInterval(n),L=listCacheGet(r,$);if(L)return L;var V,oe;if((!n.get("show")||g.scale.isBlank())&&(V=[]),isFunction$1($))V=makeLabelsByCustomizedCategoryInterval(g,$,!0);else if($==="auto"){var ae=makeCategoryLabelsActually(g,g.getLabelModel());oe=ae.labelCategoryInterval,V=map$1(ae.labels,function(re){return re.tickValue})}else oe=$,V=makeLabelsByNumericCategoryInterval(g,oe,!0);return listCacheSet(r,$,{ticks:V,tickCategoryInterval:oe})}function makeRealNumberLabels(g){var n=g.scale.getTicks(),r=makeLabelFormatter(g);return{labels:map$1(n,function($,L){return{level:$.level,formattedLabel:r($,L),rawLabel:g.scale.getLabel($),tickValue:$.value}})}}function getListCache(g,n){return inner$g(g)[n]||(inner$g(g)[n]=[])}function listCacheGet(g,n){for(var r=0;r<g.length;r++)if(g[r].key===n)return g[r].value}function listCacheSet(g,n,r){return g.push({key:n,value:r}),r}function makeAutoCategoryInterval(g){var n=inner$g(g).autoInterval;return n!=null?n:inner$g(g).autoInterval=g.calculateCategoryInterval()}function calculateCategoryInterval(g){var n=fetchAutoCategoryIntervalCalculationParams(g),r=makeLabelFormatter(g),$=(n.axisRotate-n.labelRotate)/180*Math.PI,L=g.scale,V=L.getExtent(),oe=L.count();if(V[1]-V[0]<1)return 0;var ae=1;oe>40&&(ae=Math.max(1,Math.floor(oe/40)));for(var re=V[0],le=g.dataToCoord(re+1)-g.dataToCoord(re),ue=Math.abs(le*Math.cos($)),de=Math.abs(le*Math.sin($)),he=0,pe=0;re<=V[1];re+=ae){var _e=0,$e=0,xe=getBoundingRect(r({value:re}),n.font,"center","top");_e=xe.width*1.3,$e=xe.height*1.3,he=Math.max(he,_e,7),pe=Math.max(pe,$e,7)}var Oe=he/ue,Ce=pe/de;isNaN(Oe)&&(Oe=1/0),isNaN(Ce)&&(Ce=1/0);var Ie=Math.max(0,Math.floor(Math.min(Oe,Ce))),Ne=inner$g(g.model),ze=g.getExtent(),Fe=Ne.lastAutoInterval,Ue=Ne.lastTickCount;return Fe!=null&&Ue!=null&&Math.abs(Fe-Ie)<=1&&Math.abs(Ue-oe)<=1&&Fe>Ie&&Ne.axisExtent0===ze[0]&&Ne.axisExtent1===ze[1]?Ie=Fe:(Ne.lastTickCount=oe,Ne.lastAutoInterval=Ie,Ne.axisExtent0=ze[0],Ne.axisExtent1=ze[1]),Ie}function fetchAutoCategoryIntervalCalculationParams(g){var n=g.getLabelModel();return{axisRotate:g.getRotate?g.getRotate():g.isHorizontal&&!g.isHorizontal()?90:0,labelRotate:n.get("rotate")||0,font:n.getFont()}}function makeLabelsByNumericCategoryInterval(g,n,r){var $=makeLabelFormatter(g),L=g.scale,V=L.getExtent(),oe=g.getLabelModel(),ae=[],re=Math.max((n||0)+1,1),le=V[0],ue=L.count();le!==0&&re>1&&ue/re>2&&(le=Math.round(Math.ceil(le/re)*re));var de=shouldShowAllLabels(g),he=oe.get("showMinLabel")||de,pe=oe.get("showMaxLabel")||de;he&&le!==V[0]&&$e(V[0]);for(var _e=le;_e<=V[1];_e+=re)$e(_e);pe&&_e-re!==V[1]&&$e(V[1]);function $e(xe){var Oe={value:xe};ae.push(r?xe:{formattedLabel:$(Oe),rawLabel:L.getLabel(Oe),tickValue:xe})}return ae}function makeLabelsByCustomizedCategoryInterval(g,n,r){var $=g.scale,L=makeLabelFormatter(g),V=[];return each$f($.getTicks(),function(oe){var ae=$.getLabel(oe),re=oe.value;n(oe.value,ae)&&V.push(r?re:{formattedLabel:L(oe),rawLabel:ae,tickValue:re})}),V}var NORMALIZED_EXTENT=[0,1],Axis=function(){function g(n,r,$){this.onBand=!1,this.inverse=!1,this.dim=n,this.scale=r,this._extent=$||[0,0]}return g.prototype.contain=function(n){var r=this._extent,$=Math.min(r[0],r[1]),L=Math.max(r[0],r[1]);return n>=$&&n<=L},g.prototype.containData=function(n){return this.scale.contain(n)},g.prototype.getExtent=function(){return this._extent.slice()},g.prototype.getPixelPrecision=function(n){return getPixelPrecision(n||this.scale.getExtent(),this._extent)},g.prototype.setExtent=function(n,r){var $=this._extent;$[0]=n,$[1]=r},g.prototype.dataToCoord=function(n,r){var $=this._extent,L=this.scale;return n=L.normalize(n),this.onBand&&L.type==="ordinal"&&($=$.slice(),fixExtentWithBands($,L.count())),linearMap$2(n,NORMALIZED_EXTENT,$,r)},g.prototype.coordToData=function(n,r){var $=this._extent,L=this.scale;this.onBand&&L.type==="ordinal"&&($=$.slice(),fixExtentWithBands($,L.count()));var V=linearMap$2(n,$,NORMALIZED_EXTENT,r);return this.scale.scale(V)},g.prototype.pointToData=function(n,r){},g.prototype.getTicksCoords=function(n){n=n||{};var r=n.tickModel||this.getTickModel(),$=createAxisTicks(this,r),L=$.ticks,V=map$1(L,function(ae){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(ae):ae),tickValue:ae}},this),oe=r.get("alignWithLabel");return fixOnBandTicksCoords(this,V,oe,n.clamp),V},g.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var n=this.model.getModel("minorTick"),r=n.get("splitNumber");r>0&&r<100||(r=5);var $=this.scale.getMinorTicks(r),L=map$1($,function(V){return map$1(V,function(oe){return{coord:this.dataToCoord(oe),tickValue:oe}},this)},this);return L},g.prototype.getViewLabels=function(){return createAxisLabels(this).labels},g.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},g.prototype.getTickModel=function(){return this.model.getModel("axisTick")},g.prototype.getBandWidth=function(){var n=this._extent,r=this.scale.getExtent(),$=r[1]-r[0]+(this.onBand?1:0);$===0&&($=1);var L=Math.abs(n[1]-n[0]);return Math.abs(L)/$},g.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},g}();function fixExtentWithBands(g,n){var r=g[1]-g[0],$=n,L=r/$/2;g[0]+=L,g[1]-=L}function fixOnBandTicksCoords(g,n,r,$){var L=n.length;if(!g.onBand||r||!L)return;var V=g.getExtent(),oe,ae;if(L===1)n[0].coord=V[0],oe=n[1]={coord:V[0]};else{var re=n[L-1].tickValue-n[0].tickValue,le=(n[L-1].coord-n[0].coord)/re;each$f(n,function(pe){pe.coord-=le/2});var ue=g.scale.getExtent();ae=1+ue[1]-n[L-1].tickValue,oe={coord:n[L-1].coord+le*ae},n.push(oe)}var de=V[0]>V[1];he(n[0].coord,V[0])&&($?n[0].coord=V[0]:n.shift()),$&&he(V[0],n[0].coord)&&n.unshift({coord:V[0]}),he(V[1],oe.coord)&&($?oe.coord=V[1]:n.pop()),$&&he(oe.coord,V[1])&&n.push({coord:V[1]});function he(pe,_e){return pe=round$3(pe),_e=round$3(_e),de?pe>_e:pe<_e}}const Axis$1=Axis;var PI2$2=Math.PI*2,CMD$1=PathProxy$1.CMD,DEFAULT_SEARCH_SPACE=["top","right","bottom","left"];function getCandidateAnchor(g,n,r,$,L){var V=r.width,oe=r.height;switch(g){case"top":$.set(r.x+V/2,r.y-n),L.set(0,-1);break;case"bottom":$.set(r.x+V/2,r.y+oe+n),L.set(0,1);break;case"left":$.set(r.x-n,r.y+oe/2),L.set(-1,0);break;case"right":$.set(r.x+V+n,r.y+oe/2),L.set(1,0);break}}function projectPointToArc(g,n,r,$,L,V,oe,ae,re){oe-=g,ae-=n;var le=Math.sqrt(oe*oe+ae*ae);oe/=le,ae/=le;var ue=oe*r+g,de=ae*r+n;if(Math.abs($-L)%PI2$2<1e-4)return re[0]=ue,re[1]=de,le-r;if(V){var he=$;$=normalizeRadian(L),L=normalizeRadian(he)}else $=normalizeRadian($),L=normalizeRadian(L);$>L&&(L+=PI2$2);var pe=Math.atan2(ae,oe);if(pe<0&&(pe+=PI2$2),pe>=$&&pe<=L||pe+PI2$2>=$&&pe+PI2$2<=L)return re[0]=ue,re[1]=de,le-r;var _e=r*Math.cos($)+g,$e=r*Math.sin($)+n,xe=r*Math.cos(L)+g,Oe=r*Math.sin(L)+n,Ce=(_e-oe)*(_e-oe)+($e-ae)*($e-ae),Ie=(xe-oe)*(xe-oe)+(Oe-ae)*(Oe-ae);return Ce<Ie?(re[0]=_e,re[1]=$e,Math.sqrt(Ce)):(re[0]=xe,re[1]=Oe,Math.sqrt(Ie))}function projectPointToLine(g,n,r,$,L,V,oe,ae){var re=L-g,le=V-n,ue=r-g,de=$-n,he=Math.sqrt(ue*ue+de*de);ue/=he,de/=he;var pe=re*ue+le*de,_e=pe/he;ae&&(_e=Math.min(Math.max(_e,0),1)),_e*=he;var $e=oe[0]=g+_e*ue,xe=oe[1]=n+_e*de;return Math.sqrt(($e-L)*($e-L)+(xe-V)*(xe-V))}function projectPointToRect(g,n,r,$,L,V,oe){r<0&&(g=g+r,r=-r),$<0&&(n=n+$,$=-$);var ae=g+r,re=n+$,le=oe[0]=Math.min(Math.max(L,g),ae),ue=oe[1]=Math.min(Math.max(V,n),re);return Math.sqrt((le-L)*(le-L)+(ue-V)*(ue-V))}var tmpPt=[];function nearestPointOnRect(g,n,r){var $=projectPointToRect(n.x,n.y,n.width,n.height,g.x,g.y,tmpPt);return r.set(tmpPt[0],tmpPt[1]),$}function nearestPointOnPath(g,n,r){for(var $=0,L=0,V=0,oe=0,ae,re,le=1/0,ue=n.data,de=g.x,he=g.y,pe=0;pe<ue.length;){var _e=ue[pe++];pe===1&&($=ue[pe],L=ue[pe+1],V=$,oe=L);var $e=le;switch(_e){case CMD$1.M:V=ue[pe++],oe=ue[pe++],$=V,L=oe;break;case CMD$1.L:$e=projectPointToLine($,L,ue[pe],ue[pe+1],de,he,tmpPt,!0),$=ue[pe++],L=ue[pe++];break;case CMD$1.C:$e=cubicProjectPoint($,L,ue[pe++],ue[pe++],ue[pe++],ue[pe++],ue[pe],ue[pe+1],de,he,tmpPt),$=ue[pe++],L=ue[pe++];break;case CMD$1.Q:$e=quadraticProjectPoint($,L,ue[pe++],ue[pe++],ue[pe],ue[pe+1],de,he,tmpPt),$=ue[pe++],L=ue[pe++];break;case CMD$1.A:var xe=ue[pe++],Oe=ue[pe++],Ce=ue[pe++],Ie=ue[pe++],Ne=ue[pe++],ze=ue[pe++];pe+=1;var Fe=!!(1-ue[pe++]);ae=Math.cos(Ne)*Ce+xe,re=Math.sin(Ne)*Ie+Oe,pe<=1&&(V=ae,oe=re);var Ue=(de-xe)*Ie/Ce+xe;$e=projectPointToArc(xe,Oe,Ie,Ne,Ne+ze,Fe,Ue,he,tmpPt),$=Math.cos(Ne+ze)*Ce+xe,L=Math.sin(Ne+ze)*Ie+Oe;break;case CMD$1.R:V=$=ue[pe++],oe=L=ue[pe++];var At=ue[pe++],Et=ue[pe++];$e=projectPointToRect(V,oe,At,Et,de,he,tmpPt);break;case CMD$1.Z:$e=projectPointToLine($,L,V,oe,de,he,tmpPt,!0),$=V,L=oe;break}$e<le&&(le=$e,r.set(tmpPt[0],tmpPt[1]))}return le}var pt0=new Point$1,pt1=new Point$1,pt2=new Point$1,dir=new Point$1,dir2=new Point$1;function updateLabelLinePoints(g,n){if(g){var r=g.getTextGuideLine(),$=g.getTextContent();if($&&r){var L=g.textGuideLineConfig||{},V=[[0,0],[0,0],[0,0]],oe=L.candidates||DEFAULT_SEARCH_SPACE,ae=$.getBoundingRect().clone();ae.applyTransform($.getComputedTransform());var re=1/0,le=L.anchor,ue=g.getComputedTransform(),de=ue&&invert([],ue),he=n.get("length2")||0;le&&pt2.copy(le);for(var pe=0;pe<oe.length;pe++){var _e=oe[pe];getCandidateAnchor(_e,0,ae,pt0,dir),Point$1.scaleAndAdd(pt1,pt0,dir,he),pt1.transform(de);var $e=g.getBoundingRect(),xe=le?le.distance(pt1):g instanceof Path$1?nearestPointOnPath(pt1,g.path,pt2):nearestPointOnRect(pt1,$e,pt2);xe<re&&(re=xe,pt1.transform(ue),pt2.transform(ue),pt2.toArray(V[0]),pt1.toArray(V[1]),pt0.toArray(V[2]))}limitTurnAngle(V,n.get("minTurnAngle")),r.setShape({points:V})}}}var tmpArr=[],tmpProjPoint=new Point$1;function limitTurnAngle(g,n){if(n<=180&&n>0){n=n/180*Math.PI,pt0.fromArray(g[0]),pt1.fromArray(g[1]),pt2.fromArray(g[2]),Point$1.sub(dir,pt0,pt1),Point$1.sub(dir2,pt2,pt1);var r=dir.len(),$=dir2.len();if(!(r<.001||$<.001)){dir.scale(1/r),dir2.scale(1/$);var L=dir.dot(dir2),V=Math.cos(n);if(V<L){var oe=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,oe/Math.tan(Math.PI-n));var ae=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(ae))return;ae<0?Point$1.copy(tmpProjPoint,pt1):ae>1&&Point$1.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(g[1])}}}}function limitSurfaceAngle(g,n,r){if(r<=180&&r>0){r=r/180*Math.PI,pt0.fromArray(g[0]),pt1.fromArray(g[1]),pt2.fromArray(g[2]),Point$1.sub(dir,pt1,pt0),Point$1.sub(dir2,pt2,pt1);var $=dir.len(),L=dir2.len();if(!($<.001||L<.001)){dir.scale(1/$),dir2.scale(1/L);var V=dir.dot(n),oe=Math.cos(r);if(V<oe){var ae=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var re=Math.PI/2,le=Math.acos(dir2.dot(n)),ue=re+le-r;if(ue>=re)Point$1.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,ae/Math.tan(Math.PI/2-ue));var de=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(de))return;de<0?Point$1.copy(tmpProjPoint,pt1):de>1&&Point$1.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(g[1])}}}}function setLabelLineState(g,n,r,$){var L=r==="normal",V=L?g:g.ensureState(r);V.ignore=n;var oe=$.get("smooth");oe&&oe===!0&&(oe=.3),V.shape=V.shape||{},oe>0&&(V.shape.smooth=oe);var ae=$.getModel("lineStyle").getLineStyle();L?g.useStyle(ae):V.style=ae}function buildLabelLinePath(g,n){var r=n.smooth,$=n.points;if($)if(g.moveTo($[0][0],$[0][1]),r>0&&$.length>=3){var L=dist$1($[0],$[1]),V=dist$1($[1],$[2]);if(!L||!V){g.lineTo($[1][0],$[1][1]),g.lineTo($[2][0],$[2][1]);return}var oe=Math.min(L,V)*r,ae=lerp$1([],$[1],$[0],oe/L),re=lerp$1([],$[1],$[2],oe/V),le=lerp$1([],ae,re,.5);g.bezierCurveTo(ae[0],ae[1],ae[0],ae[1],le[0],le[1]),g.bezierCurveTo(re[0],re[1],re[0],re[1],$[2][0],$[2][1])}else for(var ue=1;ue<$.length;ue++)g.lineTo($[ue][0],$[ue][1])}function setLabelLineStyle(g,n,r){var $=g.getTextGuideLine(),L=g.getTextContent();if(!L){$&&g.removeTextGuideLine();return}for(var V=n.normal,oe=V.get("show"),ae=L.ignore,re=0;re<DISPLAY_STATES.length;re++){var le=DISPLAY_STATES[re],ue=n[le],de=le==="normal";if(ue){var he=ue.get("show"),pe=de?ae:retrieve2(L.states[le]&&L.states[le].ignore,ae);if(pe||!retrieve2(he,oe)){var _e=de?$:$&&$.states[le];_e&&(_e.ignore=!0);continue}$||($=new Polyline$3,g.setTextGuideLine($),!de&&(ae||!oe)&&setLabelLineState($,!0,"normal",n.normal),g.stateProxy&&($.stateProxy=g.stateProxy)),setLabelLineState($,!1,le,ue)}}if($){defaults$2($.style,r),$.style.fill=null;var $e=V.get("showAbove"),xe=g.textGuideLineConfig=g.textGuideLineConfig||{};xe.showAbove=$e||!1,$.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(g,n){n=n||"labelLine";for(var r={normal:g.getModel(n)},$=0;$<SPECIAL_STATES.length;$++){var L=SPECIAL_STATES[$];r[L]=g.getModel([L,n])}return r}function prepareLayoutList(g){for(var n=[],r=0;r<g.length;r++){var $=g[r];if(!$.defaultAttr.ignore){var L=$.label,V=L.getComputedTransform(),oe=L.getBoundingRect(),ae=!V||V[1]<1e-5&&V[2]<1e-5,re=L.style.margin||0,le=oe.clone();le.applyTransform(V),le.x-=re/2,le.y-=re/2,le.width+=re,le.height+=re;var ue=ae?new OrientedBoundingRect$1(oe,V):null;n.push({label:L,labelLine:$.labelLine,rect:le,localRect:oe,obb:ue,priority:$.priority,defaultAttr:$.defaultAttr,layoutOption:$.computedLayoutOption,axisAligned:ae,transform:V})}}return n}function shiftLayout(g,n,r,$,L,V){var oe=g.length;if(oe<2)return;g.sort(function(At,Et){return At.rect[n]-Et.rect[n]});for(var ae=0,re,le=!1,ue=0,de=0;de<oe;de++){var he=g[de],pe=he.rect;re=pe[n]-ae,re<0&&(pe[n]-=re,he.label[n]-=re,le=!0);var _e=Math.max(-re,0);ue+=_e,ae=pe[n]+pe[r]}ue>0&&V&&ze(-ue/oe,0,oe);var $e=g[0],xe=g[oe-1],Oe,Ce;Ie(),Oe<0&&Fe(-Oe,.8),Ce<0&&Fe(Ce,.8),Ie(),Ne(Oe,Ce,1),Ne(Ce,Oe,-1),Ie(),Oe<0&&Ue(-Oe),Ce<0&&Ue(Ce);function Ie(){Oe=$e.rect[n]-$,Ce=L-xe.rect[n]-xe.rect[r]}function Ne(At,Et,Pt){if(At<0){var kt=Math.min(Et,-At);if(kt>0){ze(kt*Pt,0,oe);var Dt=kt+At;Dt<0&&Fe(-Dt*Pt,1)}else Fe(-At*Pt,1)}}function ze(At,Et,Pt){At!==0&&(le=!0);for(var kt=Et;kt<Pt;kt++){var Dt=g[kt],Lt=Dt.rect;Lt[n]+=At,Dt.label[n]+=At}}function Fe(At,Et){for(var Pt=[],kt=0,Dt=1;Dt<oe;Dt++){var Lt=g[Dt-1].rect,hn=Math.max(g[Dt].rect[n]-Lt[n]-Lt[r],0);Pt.push(hn),kt+=hn}if(kt){var vn=Math.min(Math.abs(At)/kt,Et);if(At>0)for(var Dt=0;Dt<oe-1;Dt++){var _n=Pt[Dt]*vn;ze(_n,0,Dt+1)}else for(var Dt=oe-1;Dt>0;Dt--){var _n=Pt[Dt-1]*vn;ze(-_n,Dt,oe)}}}function Ue(At){var Et=At<0?-1:1;At=Math.abs(At);for(var Pt=Math.ceil(At/(oe-1)),kt=0;kt<oe-1;kt++)if(Et>0?ze(Pt,0,kt+1):ze(-Pt,oe-kt-1,oe),At-=Pt,At<=0)return}return le}function shiftLayoutOnX(g,n,r,$){return shiftLayout(g,"x","width",n,r,$)}function shiftLayoutOnY(g,n,r,$){return shiftLayout(g,"y","height",n,r,$)}function hideOverlap(g){var n=[];g.sort(function($e,xe){return xe.priority-$e.priority});var r=new BoundingRect$1(0,0,0,0);function $($e){if(!$e.ignore){var xe=$e.ensureState("emphasis");xe.ignore==null&&(xe.ignore=!1)}$e.ignore=!0}for(var L=0;L<g.length;L++){var V=g[L],oe=V.axisAligned,ae=V.localRect,re=V.transform,le=V.label,ue=V.labelLine;r.copy(V.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var de=V.obb,he=!1,pe=0;pe<n.length;pe++){var _e=n[pe];if(r.intersect(_e.rect)){if(oe&&_e.axisAligned){he=!0;break}if(_e.obb||(_e.obb=new OrientedBoundingRect$1(_e.localRect,_e.transform)),de||(de=new OrientedBoundingRect$1(ae,re)),de.intersect(_e.obb)){he=!0;break}}}he?($(le),ue&&$(ue)):(le.attr("ignore",V.defaultAttr.ignore),ue&&ue.attr("ignore",V.defaultAttr.labelGuideIgnore),n.push(V))}}function cloneArr(g){if(g){for(var n=[],r=0;r<g.length;r++)n.push(g[r].slice());return n}}function prepareLayoutCallbackParams(g,n){var r=g.label,$=n&&n.getTextGuideLine();return{dataIndex:g.dataIndex,dataType:g.dataType,seriesIndex:g.seriesModel.seriesIndex,text:g.label.style.text,rect:g.hostRect,labelRect:g.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:cloneArr($&&$.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],dummyTransformable=new Transformable,labelLayoutInnerStore=makeInner(),labelLineAnimationStore=makeInner();function extendWithKeys(g,n,r){for(var $=0;$<r.length;$++){var L=r[$];n[L]!=null&&(g[L]=n[L])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"],LabelManager=function(){function g(){this._labelList=[],this._chartViewList=[]}return g.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},g.prototype._addLabel=function(n,r,$,L,V){var oe=L.style,ae=L.__hostTarget,re=ae.textConfig||{},le=L.getComputedTransform(),ue=L.getBoundingRect().plain();BoundingRect$1.applyTransform(ue,ue,le),le?dummyTransformable.setLocalTransform(le):(dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1);var de=L.__hostTarget,he;if(de){he=de.getBoundingRect().plain();var pe=de.getComputedTransform();BoundingRect$1.applyTransform(he,he,pe)}var _e=he&&de.getTextGuideLine();this._labelList.push({label:L,labelLine:_e,seriesModel:$,dataIndex:n,dataType:r,layoutOption:V,computedLayoutOption:null,rect:ue,hostRect:he,priority:he?he.width*he.height:0,defaultAttr:{ignore:L.ignore,labelGuideIgnore:_e&&_e.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:oe.x,y:oe.y,align:oe.align,verticalAlign:oe.verticalAlign,width:oe.width,height:oe.height,fontSize:oe.fontSize},cursor:L.cursor,attachedPos:re.position,attachedRot:re.rotation}})},g.prototype.addLabelsOfSeries=function(n){var r=this;this._chartViewList.push(n);var $=n.__model,L=$.get("labelLayout");!(isFunction$1(L)||keys(L).length)||n.group.traverse(function(V){if(V.ignore)return!0;var oe=V.getTextContent(),ae=getECData(V);oe&&!oe.disableLabelLayout&&r._addLabel(ae.dataIndex,ae.dataType,$,oe,L)})},g.prototype.updateLayoutConfig=function(n){var r=n.getWidth(),$=n.getHeight();function L(Ie,Ne){return function(){updateLabelLinePoints(Ie,Ne)}}for(var V=0;V<this._labelList.length;V++){var oe=this._labelList[V],ae=oe.label,re=ae.__hostTarget,le=oe.defaultAttr,ue=void 0;isFunction$1(oe.layoutOption)?ue=oe.layoutOption(prepareLayoutCallbackParams(oe,re)):ue=oe.layoutOption,ue=ue||{},oe.computedLayoutOption=ue;var de=Math.PI/180;re&&re.setTextConfig({local:!1,position:ue.x!=null||ue.y!=null?null:le.attachedPos,rotation:ue.rotate!=null?ue.rotate*de:le.attachedRot,offset:[ue.dx||0,ue.dy||0]});var he=!1;if(ue.x!=null?(ae.x=parsePercent(ue.x,r),ae.setStyle("x",0),he=!0):(ae.x=le.x,ae.setStyle("x",le.style.x)),ue.y!=null?(ae.y=parsePercent(ue.y,$),ae.setStyle("y",0),he=!0):(ae.y=le.y,ae.setStyle("y",le.style.y)),ue.labelLinePoints){var pe=re.getTextGuideLine();pe&&(pe.setShape({points:ue.labelLinePoints}),he=!1)}var _e=labelLayoutInnerStore(ae);_e.needsUpdateLabelLine=he,ae.rotation=ue.rotate!=null?ue.rotate*de:le.rotation,ae.scaleX=le.scaleX,ae.scaleY=le.scaleY;for(var $e=0;$e<LABEL_OPTION_TO_STYLE_KEYS.length;$e++){var xe=LABEL_OPTION_TO_STYLE_KEYS[$e];ae.setStyle(xe,ue[xe]!=null?ue[xe]:le.style[xe])}if(ue.draggable){if(ae.draggable=!0,ae.cursor="move",re){var Oe=oe.seriesModel;if(oe.dataIndex!=null){var Ce=oe.seriesModel.getData(oe.dataType);Oe=Ce.getItemModel(oe.dataIndex)}ae.on("drag",L(re,Oe.getModel("labelLine")))}}else ae.off("drag"),ae.cursor=le.cursor}},g.prototype.layout=function(n){var r=n.getWidth(),$=n.getHeight(),L=prepareLayoutList(this._labelList),V=filter(L,function(re){return re.layoutOption.moveOverlap==="shiftX"}),oe=filter(L,function(re){return re.layoutOption.moveOverlap==="shiftY"});shiftLayoutOnX(V,0,r),shiftLayoutOnY(oe,0,$);var ae=filter(L,function(re){return re.layoutOption.hideOverlap});hideOverlap(ae)},g.prototype.processLabelsOverall=function(){var n=this;each$f(this._chartViewList,function(r){var $=r.__model,L=r.ignoreLabelLineUpdate,V=$.isAnimationEnabled();r.group.traverse(function(oe){if(oe.ignore&&!oe.forceLabelAnimation)return!0;var ae=!L,re=oe.getTextContent();!ae&&re&&(ae=labelLayoutInnerStore(re).needsUpdateLabelLine),ae&&n._updateLabelLine(oe,$),V&&n._animateLabels(oe,$)})})},g.prototype._updateLabelLine=function(n,r){var $=n.getTextContent(),L=getECData(n),V=L.dataIndex;if($&&V!=null){var oe=r.getData(L.dataType),ae=oe.getItemModel(V),re={},le=oe.getItemVisual(V,"style"),ue=oe.getVisual("drawType");re.stroke=le[ue];var de=ae.getModel("labelLine");setLabelLineStyle(n,getLabelLineStatesModels(ae),re),updateLabelLinePoints(n,de)}},g.prototype._animateLabels=function(n,r){var $=n.getTextContent(),L=n.getTextGuideLine();if($&&(n.forceLabelAnimation||!$.ignore&&!$.invisible&&!n.disableLabelAnimation&&!isElementRemoved(n))){var V=labelLayoutInnerStore($),oe=V.oldLayout,ae=getECData(n),re=ae.dataIndex,le={x:$.x,y:$.y,rotation:$.rotation},ue=r.getData(ae.dataType);if(oe){$.attr(oe);var de=n.prevStates;de&&(indexOf(de,"select")>=0&&$.attr(V.oldLayoutSelect),indexOf(de,"emphasis")>=0&&$.attr(V.oldLayoutEmphasis)),updateProps$1($,le,r,re)}else if($.attr(le),!labelInner($).valueAnimation){var he=retrieve2($.style.opacity,1);$.style.opacity=0,initProps($,{style:{opacity:he}},r,re)}if(V.oldLayout=le,$.states.select){var pe=V.oldLayoutSelect={};extendWithKeys(pe,le,LABEL_LAYOUT_PROPS),extendWithKeys(pe,$.states.select,LABEL_LAYOUT_PROPS)}if($.states.emphasis){var _e=V.oldLayoutEmphasis={};extendWithKeys(_e,le,LABEL_LAYOUT_PROPS),extendWithKeys(_e,$.states.emphasis,LABEL_LAYOUT_PROPS)}animateLabelValue($,re,ue,r,r)}if(L&&!L.ignore&&!L.invisible){var V=labelLineAnimationStore(L),oe=V.oldLayout,$e={points:L.shape.points};oe?(L.attr({shape:oe}),updateProps$1(L,{shape:$e},r)):(L.setShape($e),L.style.strokePercent=0,initProps(L,{style:{strokePercent:1}},r)),V.oldLayout=$e}},g}();const LabelManager$1=LabelManager;var getLabelManager=makeInner();function installLabelLayout(g){g.registerUpdateLifecycle("series:beforeupdate",function(n,r,$){var L=getLabelManager(r).labelManager;L||(L=getLabelManager(r).labelManager=new LabelManager$1),L.clearLabels()}),g.registerUpdateLifecycle("series:layoutlabels",function(n,r,$){var L=getLabelManager(r).labelManager;$.updatedSeries.forEach(function(V){L.addLabelsOfSeries(r.getViewOfSeriesModel(V))}),L.updateLayoutConfig(r),L.layout(r),L.processLabelsOverall()})}var mathSin=Math.sin,mathCos=Math.cos,PI$4=Math.PI,PI2$1=Math.PI*2,degree=180/PI$4,SVGPathRebuilder=function(){function g(){}return g.prototype.reset=function(n){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,n||4)},g.prototype.moveTo=function(n,r){this._add("M",n,r)},g.prototype.lineTo=function(n,r){this._add("L",n,r)},g.prototype.bezierCurveTo=function(n,r,$,L,V,oe){this._add("C",n,r,$,L,V,oe)},g.prototype.quadraticCurveTo=function(n,r,$,L){this._add("Q",n,r,$,L)},g.prototype.arc=function(n,r,$,L,V,oe){this.ellipse(n,r,$,$,0,L,V,oe)},g.prototype.ellipse=function(n,r,$,L,V,oe,ae,re){var le=ae-oe,ue=!re,de=Math.abs(le),he=isAroundZero(de-PI2$1)||(ue?le>=PI2$1:-le>=PI2$1),pe=le>0?le%PI2$1:le%PI2$1+PI2$1,_e=!1;he?_e=!0:isAroundZero(de)?_e=!1:_e=pe>=PI$4==!!ue;var $e=n+$*mathCos(oe),xe=r+L*mathSin(oe);this._start&&this._add("M",$e,xe);var Oe=Math.round(V*degree);if(he){var Ce=1/this._p,Ie=(ue?1:-1)*(PI2$1-Ce);this._add("A",$,L,Oe,1,+ue,n+$*mathCos(oe+Ie),r+L*mathSin(oe+Ie)),Ce>.01&&this._add("A",$,L,Oe,0,+ue,$e,xe)}else{var Ne=n+$*mathCos(ae),ze=r+L*mathSin(ae);this._add("A",$,L,Oe,+_e,+ue,Ne,ze)}},g.prototype.rect=function(n,r,$,L){this._add("M",n,r),this._add("l",$,0),this._add("l",0,L),this._add("l",-$,0),this._add("Z")},g.prototype.closePath=function(){this._d.length>0&&this._add("Z")},g.prototype._add=function(n,r,$,L,V,oe,ae,re,le){for(var ue=[],de=this._p,he=1;he<arguments.length;he++){var pe=arguments[he];if(isNaN(pe)){this._invalid=!0;return}ue.push(Math.round(pe*de)/de)}this._d.push(n+ue.join(" ")),this._start=n==="Z"},g.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},g.prototype.getStr=function(){return this._str},g}();const SVGPathRebuilder$1=SVGPathRebuilder;var NONE="none",mathRound=Math.round;function pathHasFill(g){var n=g.fill;return n!=null&&n!==NONE}function pathHasStroke(g){var n=g.stroke;return n!=null&&n!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$1(strokeProps,function(g){return"stroke-"+g.toLowerCase()});function mapStyleToAttrs(g,n,r,$){var L=n.opacity==null?1:n.opacity;if(r instanceof ZRImage$1){g("opacity",L);return}if(pathHasFill(n)){var V=normalizeColor(n.fill);g("fill",V.color);var oe=n.fillOpacity!=null?n.fillOpacity*V.opacity*L:V.opacity*L;($||oe<1)&&g("fill-opacity",oe)}else g("fill",NONE);if(pathHasStroke(n)){var ae=normalizeColor(n.stroke);g("stroke",ae.color);var re=n.strokeNoScale?r.getLineScale():1,le=re?(n.lineWidth||0)/re:0,ue=n.strokeOpacity!=null?n.strokeOpacity*ae.opacity*L:ae.opacity*L,de=n.strokeFirst;if(($||le!==1)&&g("stroke-width",le),($||de)&&g("paint-order",de?"stroke":"fill"),($||ue<1)&&g("stroke-opacity",ue),n.lineDash){var he=getLineDash(r),pe=he[0],_e=he[1];pe&&(_e=mathRound(_e||0),g("stroke-dasharray",pe.join(",")),(_e||$)&&g("stroke-dashoffset",_e))}else $&&g("stroke-dasharray",NONE);for(var $e=0;$e<strokeProps.length;$e++){var xe=strokeProps[$e];if($||n[xe]!==DEFAULT_PATH_STYLE[xe]){var Oe=n[xe]||DEFAULT_PATH_STYLE[xe];Oe&&g(svgStrokeProps[$e],Oe)}}}else $&&g("stroke",NONE)}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace";function createElement(g){return document.createElementNS(SVGNS,g)}function createVNode(g,n,r,$,L){return{tag:g,attrs:r||{},children:$,text:L,key:n}}function createElementOpen(g,n){var r=[];if(n)for(var $ in n){var L=n[$],V=$;L!==!1&&(L!==!0&&L!=null&&(V+='="'+L+'"'),r.push(V))}return"<"+g+" "+r.join(" ")+">"}function createElementClose(g){return"</"+g+">"}function vNodeToString(g,n){n=n||{};var r=n.newline?`
`:"";function $(L){var V=L.children,oe=L.tag,ae=L.attrs;return createElementOpen(oe,ae)+encodeHTML(L.text)+(V?""+r+map$1(V,function(re){return $(re)}).join(r)+r:"")+createElementClose(oe)}return $(g)}function getCssString(g,n,r){r=r||{};var $=r.newline?`
`:"",L=" {"+$,V=$+"}",oe=map$1(keys(g),function(re){return re+L+map$1(keys(g[re]),function(le){return le+":"+g[re][le]+";"}).join($)+V}).join($),ae=map$1(keys(n),function(re){return"@keyframes "+re+L+map$1(keys(n[re]),function(le){return le+L+map$1(keys(n[re][le]),function(ue){var de=n[re][le][ue];return ue==="d"&&(de='path("'+de+'")'),ue+":"+de+";"}).join($)+V}).join($)+V}).join($);return!oe&&!ae?"":["<![CDATA[",oe,ae,"]]>"].join($)}function createBrushScope(g){return{zrId:g,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(g,n,r,$){return createVNode("svg","root",{width:g,height:n,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:$?"0 0 "+g+" "+n:!1},r)}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(g,n,r){var $=extend$1({},g.shape);extend$1($,n),g.buildPath(r,$);var L=new SVGPathRebuilder$1;return L.reset(getPathPrecision(g)),r.rebuildPath(L,1),L.generateStr(),L.getStr()}function setTransformOrigin(g,n){var r=n.originX,$=n.originY;(r||$)&&(g[transformOriginKey]=r+"px "+$+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(g,n){var r=n.zrId+"-ani-"+n.cssAnimIdx++;return n.cssAnims[r]=g,r}function createCompoundPathCSSAnimation(g,n,r){var $=g.shape.paths,L={},V,oe;if(each$f($,function(re){var le=createBrushScope(r.zrId);le.animation=!0,createCSSAnimation(re,{},le,!0);var ue=le.cssAnims,de=le.cssNodes,he=keys(ue),pe=he.length;if(pe){oe=he[pe-1];var _e=ue[oe];for(var $e in _e){var xe=_e[$e];L[$e]=L[$e]||{d:""},L[$e].d+=xe.d||""}for(var Oe in de){var Ce=de[Oe].animation;Ce.indexOf(oe)>=0&&(V=Ce)}}}),!!V){n.d=!1;var ae=addAnimation(L,r);return V.replace(oe,ae)}}function getEasingFunc(g){return isString$1(g)?EASING_MAP[g]?"cubic-bezier("+EASING_MAP[g]+")":createCubicEasingFunc(g)?g:"":""}function createCSSAnimation(g,n,r,$){var L=g.animators,V=L.length,oe=[];if(g instanceof CompoundPath$1){var ae=createCompoundPathCSSAnimation(g,n,r);if(ae)oe.push(ae);else if(!V)return}else if(!V)return;for(var re={},le=0;le<V;le++){var ue=L[le],de=[ue.getMaxTime()/1e3+"s"],he=getEasingFunc(ue.getClip().easing),pe=ue.getDelay();he?de.push(he):de.push("linear"),pe&&de.push(pe/1e3+"s"),ue.getLoop()&&de.push("infinite");var _e=de.join(" ");re[_e]=re[_e]||[_e,[]],re[_e][1].push(ue)}function $e(Ce){var Ie=Ce[1],Ne=Ie.length,ze={},Fe={},Ue={},At="animation-timing-function";function Et(kn,Nn,Vn){for(var Ln=kn.getTracks(),Tn=kn.getMaxTime(),In=0;In<Ln.length;In++){var Bn=Ln[In];if(Bn.needsAnimate()){var Qn=Bn.keyframes,Zn=Bn.propName;if(Vn&&(Zn=Vn(Zn)),Zn)for(var Kn=0;Kn<Qn.length;Kn++){var ui=Qn[Kn],ei=Math.round(ui.time/Tn*100)+"%",si=getEasingFunc(ui.easing),ti=ui.rawValue;(isString$1(ti)||isNumber$1(ti))&&(Nn[ei]=Nn[ei]||{},Nn[ei][Zn]=ui.rawValue,si&&(Nn[ei][At]=si))}}}}for(var Pt=0;Pt<Ne;Pt++){var kt=Ie[Pt],Dt=kt.targetName;Dt?Dt==="shape"&&Et(kt,Fe):!$&&Et(kt,ze)}for(var Lt in ze){var hn={};copyTransform(hn,g),extend$1(hn,ze[Lt]);var vn=getSRTTransformString(hn),_n=ze[Lt][At];Ue[Lt]=vn?{transform:vn}:{},setTransformOrigin(Ue[Lt],hn),_n&&(Ue[Lt][At]=_n)}var $n,Sn=!0;for(var Lt in Fe){Ue[Lt]=Ue[Lt]||{};var xn=!$n,_n=Fe[Lt][At];xn&&($n=new PathProxy$1);var On=$n.len();$n.reset(),Ue[Lt].d=buildPathString(g,Fe[Lt],$n);var Cn=$n.len();if(!xn&&On!==Cn){Sn=!1;break}_n&&(Ue[Lt][At]=_n)}if(!Sn)for(var Lt in Ue)delete Ue[Lt].d;if(!$)for(var Pt=0;Pt<Ne;Pt++){var kt=Ie[Pt],Dt=kt.targetName;Dt==="style"&&Et(kt,Ue,function(Ln){return ANIMATE_STYLE_MAP[Ln]})}for(var An=keys(Ue),Rn=!0,Fn,Pt=1;Pt<An.length;Pt++){var Pn=An[Pt-1],Un=An[Pt];if(Ue[Pn][transformOriginKey]!==Ue[Un][transformOriginKey]){Rn=!1;break}Fn=Ue[Pn][transformOriginKey]}if(Rn&&Fn){for(var Lt in Ue)Ue[Lt][transformOriginKey]&&delete Ue[Lt][transformOriginKey];n[transformOriginKey]=Fn}if(filter(An,function(kn){return keys(Ue[kn]).length>0}).length){var Dn=addAnimation(Ue,r);return Dn+" "+Ce[0]+" both"}}for(var xe in re){var ae=$e(re[xe]);ae&&oe.push(ae)}if(oe.length){var Oe=r.zrId+"-cls-"+r.cssClassIdx++;r.cssNodes["."+Oe]={animation:oe.join(",")},n.class=Oe}}var round$1=Math.round;function isImageLike(g){return g&&isString$1(g.src)}function isCanvasLike(g){return g&&isFunction$1(g.toDataURL)}function setStyleAttrs(g,n,r,$){mapStyleToAttrs(function(L,V){var oe=L==="fill"||L==="stroke";oe&&isGradient(V)?setGradient(n,g,L,$):oe&&isPattern(V)?setPattern(r,g,L,$):g[L]=V},n,r,!1),setShadow(r,g,$)}function noRotateScale(g){return isAroundZero(g[0]-1)&&isAroundZero(g[1])&&isAroundZero(g[2])&&isAroundZero(g[3]-1)}function noTranslate(g){return isAroundZero(g[4])&&isAroundZero(g[5])}function setTransform(g,n,r){if(n&&!(noTranslate(n)&&noRotateScale(n))){var $=r?10:1e4;g.transform=noRotateScale(n)?"translate("+round$1(n[4]*$)/$+" "+round$1(n[5]*$)/$+")":getMatrixStr(n)}}function convertPolyShape(g,n,r){for(var $=g.points,L=[],V=0;V<$.length;V++)L.push(round$1($[V][0]*r)/r),L.push(round$1($[V][1]*r)/r);n.points=L.join(" ")}function validatePolyShape(g){return!g.smooth}function createAttrsConvert(g){var n=map$1(g,function(r){return typeof r=="string"?[r,r]:r});return function(r,$,L){for(var V=0;V<n.length;V++){var oe=n[V],ae=r[oe[0]];ae!=null&&($[oe[1]]=round$1(ae*L)/L)}}}var builtinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(g){for(var n=g.animators,r=0;r<n.length;r++)if(n[r].targetName==="shape")return!0;return!1}function brushSVGPath(g,n){var r=g.style,$=g.shape,L=builtinShapesDef[g.type],V={},oe=n.animation,ae="path",re=g.style.strokePercent,le=n.compress&&getPathPrecision(g)||4;if(L&&!n.willUpdate&&!(L[1]&&!L[1]($))&&!(oe&&hasShapeAnimation(g))&&!(re<1)){ae=g.type;var ue=Math.pow(10,le);L[0]($,V,ue)}else{var de=!g.path||g.shapeChanged();g.path||g.createPathProxy();var he=g.path;de&&(he.beginPath(),g.buildPath(he,g.shape),g.pathUpdated());var pe=he.getVersion(),_e=g,$e=_e.__svgPathBuilder;(_e.__svgPathVersion!==pe||!$e||re!==_e.__svgPathStrokePercent)&&($e||($e=_e.__svgPathBuilder=new SVGPathRebuilder$1),$e.reset(le),he.rebuildPath($e,re),$e.generateStr(),_e.__svgPathVersion=pe,_e.__svgPathStrokePercent=re),V.d=$e.getStr()}return setTransform(V,g.transform),setStyleAttrs(V,r,g,n),n.animation&&createCSSAnimation(g,V,n),createVNode(ae,g.id+"",V)}function brushSVGImage(g,n){var r=g.style,$=r.image;if($&&!isString$1($)&&(isImageLike($)?$=$.src:isCanvasLike($)&&($=$.toDataURL())),!!$){var L=r.x||0,V=r.y||0,oe=r.width,ae=r.height,re={href:$,width:oe,height:ae};return L&&(re.x=L),V&&(re.y=V),setTransform(re,g.transform),setStyleAttrs(re,r,g,n),n.animation&&createCSSAnimation(g,re,n),createVNode("image",g.id+"",re)}}function brushSVGTSpan(g,n){var r=g.style,$=r.text;if($!=null&&($+=""),!(!$||isNaN(r.x)||isNaN(r.y))){var L=r.font||DEFAULT_FONT,V=r.x||0,oe=adjustTextY$1(r.y||0,getLineHeight(L),r.textBaseline),ae=TEXT_ALIGN_TO_ANCHOR[r.textAlign]||r.textAlign,re={"dominant-baseline":"central","text-anchor":ae};if(hasSeparateFont(r)){var le="",ue=r.fontStyle,de=parseFontSize(r.fontSize);if(!parseFloat(de))return;var he=r.fontFamily||DEFAULT_FONT_FAMILY,pe=r.fontWeight;le+="font-size:"+de+";font-family:"+he+";",ue&&ue!=="normal"&&(le+="font-style:"+ue+";"),pe&&pe!=="normal"&&(le+="font-weight:"+pe+";"),re.style=le}else re.style="font: "+L;return $.match(/\s/)&&(re["xml:space"]="preserve"),V&&(re.x=V),oe&&(re.y=oe),setTransform(re,g.transform),setStyleAttrs(re,r,g,n),n.animation&&createCSSAnimation(g,re,n),createVNode("text",g.id+"",re,void 0,$)}}function brush(g,n){if(g instanceof Path$1)return brushSVGPath(g,n);if(g instanceof ZRImage$1)return brushSVGImage(g,n);if(g instanceof TSpan$1)return brushSVGTSpan(g,n)}function setShadow(g,n,r){var $=g.style;if(hasShadow($)){var L=getShadowKey(g),V=r.shadowCache,oe=V[L];if(!oe){var ae=g.getGlobalScale(),re=ae[0],le=ae[1];if(!re||!le)return;var ue=$.shadowOffsetX||0,de=$.shadowOffsetY||0,he=$.shadowBlur,pe=normalizeColor($.shadowColor),_e=pe.opacity,$e=pe.color,xe=he/2/re,Oe=he/2/le,Ce=xe+" "+Oe;oe=r.zrId+"-s"+r.shadowIdx++,r.defs[oe]=createVNode("filter",oe,{id:oe,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:ue/re,dy:de/le,stdDeviation:Ce,"flood-color":$e,"flood-opacity":_e})]),V[L]=oe}n.filter=getIdURL(oe)}}function setGradient(g,n,r,$){var L=g[r],V,oe={gradientUnits:L.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(L))V="linearGradient",oe.x1=L.x,oe.y1=L.y,oe.x2=L.x2,oe.y2=L.y2;else if(isRadialGradient(L))V="radialGradient",oe.cx=retrieve2(L.x,.5),oe.cy=retrieve2(L.y,.5),oe.r=retrieve2(L.r,.5);else return;for(var ae=L.colorStops,re=[],le=0,ue=ae.length;le<ue;++le){var de=round4(ae[le].offset)*100+"%",he=ae[le].color,pe=normalizeColor(he),_e=pe.color,$e=pe.opacity,xe={offset:de};xe["stop-color"]=_e,$e<1&&(xe["stop-opacity"]=$e),re.push(createVNode("stop",le+"",xe))}var Oe=createVNode(V,"",oe,re),Ce=vNodeToString(Oe),Ie=$.gradientCache,Ne=Ie[Ce];Ne||(Ne=$.zrId+"-g"+$.gradientIdx++,Ie[Ce]=Ne,oe.id=Ne,$.defs[Ne]=createVNode(V,Ne,oe,re)),n[r]=getIdURL(Ne)}function setPattern(g,n,r,$){var L=g.style[r],V=g.getBoundingRect(),oe={},ae=L.repeat,re=ae==="no-repeat",le=ae==="repeat-x",ue=ae==="repeat-y",de;if(isImagePattern(L)){var he=L.imageWidth,pe=L.imageHeight,_e=void 0,$e=L.image;if(isString$1($e)?_e=$e:isImageLike($e)?_e=$e.src:isCanvasLike($e)&&(_e=$e.toDataURL()),typeof Image>"u"){var xe="Image width/height must been given explictly in svg-ssr renderer.";assert(he,xe),assert(pe,xe)}else if(he==null||pe==null){var Oe=function(Pt,kt){if(Pt){var Dt=Pt.elm,Lt=he||kt.width,hn=pe||kt.height;Pt.tag==="pattern"&&(le?(hn=1,Lt/=V.width):ue&&(Lt=1,hn/=V.height)),Pt.attrs.width=Lt,Pt.attrs.height=hn,Dt&&(Dt.setAttribute("width",Lt),Dt.setAttribute("height",hn))}},Ce=createOrUpdateImage(_e,null,g,function(Pt){re||Oe(Fe,Pt),Oe(de,Pt)});Ce&&Ce.width&&Ce.height&&(he=he||Ce.width,pe=pe||Ce.height)}de=createVNode("image","img",{href:_e,width:he,height:pe}),oe.width=he,oe.height=pe}else L.svgElement&&(de=clone$4(L.svgElement),oe.width=L.svgWidth,oe.height=L.svgHeight);if(de){var Ie,Ne;re?Ie=Ne=1:le?(Ne=1,Ie=oe.width/V.width):ue?(Ie=1,Ne=oe.height/V.height):oe.patternUnits="userSpaceOnUse",Ie!=null&&!isNaN(Ie)&&(oe.width=Ie),Ne!=null&&!isNaN(Ne)&&(oe.height=Ne);var ze=getSRTTransformString(L);ze&&(oe.patternTransform=ze);var Fe=createVNode("pattern","",oe,[de]),Ue=vNodeToString(Fe),At=$.patternCache,Et=At[Ue];Et||(Et=$.zrId+"-p"+$.patternIdx++,At[Ue]=Et,oe.id=Et,Fe=$.defs[Et]=createVNode("pattern",Et,oe,[de])),n[r]=getIdURL(Et)}}function setClipPath(g,n,r){var $=r.clipPathCache,L=r.defs,V=$[g.id];if(!V){V=r.zrId+"-c"+r.clipPathIdx++;var oe={id:V};$[g.id]=V,L[V]=createVNode("clipPath",V,oe,[brushSVGPath(g,r)])}n["clip-path"]=getIdURL(V)}function createTextNode(g){return document.createTextNode(g)}function insertBefore(g,n,r){g.insertBefore(n,r)}function removeChild(g,n){g.removeChild(n)}function appendChild(g,n){g.appendChild(n)}function parentNode(g){return g.parentNode}function nextSibling(g){return g.nextSibling}function setTextContent(g,n){g.textContent=n}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(g){return g===void 0}function isDef(g){return g!==void 0}function createKeyToOldIdx(g,n,r){for(var $={},L=n;L<=r;++L){var V=g[L].key;V!==void 0&&($[V]=L)}return $}function sameVnode(g,n){var r=g.key===n.key,$=g.tag===n.tag;return $&&r}function createElm(g){var n,r=g.children,$=g.tag;if(isDef($)){var L=g.elm=createElement($);if(updateAttrs(emptyNode,g),isArray$2(r))for(n=0;n<r.length;++n){var V=r[n];V!=null&&appendChild(L,createElm(V))}else isDef(g.text)&&!isObject$4(g.text)&&appendChild(L,createTextNode(g.text))}else g.elm=createTextNode(g.text);return g.elm}function addVnodes(g,n,r,$,L){for(;$<=L;++$){var V=r[$];V!=null&&insertBefore(g,createElm(V),n)}}function removeVnodes(g,n,r,$){for(;r<=$;++r){var L=n[r];if(L!=null)if(isDef(L.tag)){var V=parentNode(L.elm);removeChild(V,L.elm)}else removeChild(g,L.elm)}}function updateAttrs(g,n){var r,$=n.elm,L=g&&g.attrs||{},V=n.attrs||{};if(L!==V){for(r in V){var oe=V[r],ae=L[r];ae!==oe&&(oe===!0?$.setAttribute(r,""):oe===!1?$.removeAttribute(r):r.charCodeAt(0)!==xChar?$.setAttribute(r,oe):r==="xmlns:xlink"||r==="xmlns"?$.setAttributeNS(XMLNS,r,oe):r.charCodeAt(3)===colonChar?$.setAttributeNS(XML_NAMESPACE,r,oe):r.charCodeAt(5)===colonChar?$.setAttributeNS(XLINKNS,r,oe):$.setAttribute(r,oe))}for(r in L)r in V||$.removeAttribute(r)}}function updateChildren(g,n,r){for(var $=0,L=0,V=n.length-1,oe=n[0],ae=n[V],re=r.length-1,le=r[0],ue=r[re],de,he,pe,_e;$<=V&&L<=re;)oe==null?oe=n[++$]:ae==null?ae=n[--V]:le==null?le=r[++L]:ue==null?ue=r[--re]:sameVnode(oe,le)?(patchVnode(oe,le),oe=n[++$],le=r[++L]):sameVnode(ae,ue)?(patchVnode(ae,ue),ae=n[--V],ue=r[--re]):sameVnode(oe,ue)?(patchVnode(oe,ue),insertBefore(g,oe.elm,nextSibling(ae.elm)),oe=n[++$],ue=r[--re]):sameVnode(ae,le)?(patchVnode(ae,le),insertBefore(g,ae.elm,oe.elm),ae=n[--V],le=r[++L]):(isUndef(de)&&(de=createKeyToOldIdx(n,$,V)),he=de[le.key],isUndef(he)?insertBefore(g,createElm(le),oe.elm):(pe=n[he],pe.tag!==le.tag?insertBefore(g,createElm(le),oe.elm):(patchVnode(pe,le),n[he]=void 0,insertBefore(g,pe.elm,oe.elm))),le=r[++L]);($<=V||L<=re)&&($>V?(_e=r[re+1]==null?null:r[re+1].elm,addVnodes(g,_e,r,L,re)):removeVnodes(g,n,$,V))}function patchVnode(g,n){var r=n.elm=g.elm,$=g.children,L=n.children;g!==n&&(updateAttrs(g,n),isUndef(n.text)?isDef($)&&isDef(L)?$!==L&&updateChildren(r,$,L):isDef(L)?(isDef(g.text)&&setTextContent(r,""),addVnodes(r,null,L,0,L.length-1)):isDef($)?removeVnodes(r,$,0,$.length-1):isDef(g.text)&&setTextContent(r,""):g.text!==n.text&&(isDef($)&&removeVnodes(r,$,0,$.length-1),setTextContent(r,n.text)))}function patch(g,n){if(sameVnode(g,n))patchVnode(g,n);else{var r=g.elm,$=parentNode(r);createElm(n),$!==null&&(insertBefore($,n.elm,nextSibling(r)),removeVnodes($,[g],0,0))}return n}var svgId=0,SVGPainter=function(){function g(n,r,$){if(this.type="svg",this.refreshHover=createMethodNotSupport(),this.configLayer=createMethodNotSupport(),this.storage=r,this._opts=$=extend$1({},$),this.root=n,this._id="zr"+svgId++,this._oldVNode=createSVGVNode($.width,$.height),n&&!$.ssr){var L=this._viewport=document.createElement("div");L.style.cssText="position:relative;overflow:hidden";var V=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),L.appendChild(V),n.appendChild(L)}this.resize($.width,$.height)}return g.prototype.getType=function(){return this.type},g.prototype.getViewportRoot=function(){return this._viewport},g.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},g.prototype.getSvgDom=function(){return this._svgDom},g.prototype.refresh=function(){if(this.root){var n=this.renderToVNode({willUpdate:!0});n.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,n),this._oldVNode=n}},g.prototype.renderOneToVNode=function(n){return brush(n,createBrushScope(this._id))},g.prototype.renderToVNode=function(n){n=n||{};var r=this.storage.getDisplayList(!0),$=this._width,L=this._height,V=createBrushScope(this._id);V.animation=n.animation,V.willUpdate=n.willUpdate,V.compress=n.compress;var oe=[],ae=this._bgVNode=createBackgroundVNode($,L,this._backgroundColor,V);ae&&oe.push(ae);var re=n.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(r,V,re?re.children:oe),re&&oe.push(re);var le=map$1(keys(V.defs),function(he){return V.defs[he]});if(le.length&&oe.push(createVNode("defs","defs",{},le)),n.animation){var ue=getCssString(V.cssNodes,V.cssAnims,{newline:!0});if(ue){var de=createVNode("style","stl",{},[],ue);oe.push(de)}}return createSVGVNode($,L,oe,n.useViewBox)},g.prototype.renderToString=function(n){return n=n||{},vNodeToString(this.renderToVNode({animation:retrieve2(n.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(n.useViewBox,!0)}),{newline:!0})},g.prototype.setBackgroundColor=function(n){this._backgroundColor=n},g.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},g.prototype._paintList=function(n,r,$){for(var L=n.length,V=[],oe=0,ae,re,le=0,ue=0;ue<L;ue++){var de=n[ue];if(!de.invisible){var he=de.__clipPaths,pe=he&&he.length||0,_e=re&&re.length||0,$e=void 0;for($e=Math.max(pe-1,_e-1);$e>=0&&!(he&&re&&he[$e]===re[$e]);$e--);for(var xe=_e-1;xe>$e;xe--)oe--,ae=V[oe-1];for(var Oe=$e+1;Oe<pe;Oe++){var Ce={};setClipPath(he[Oe],Ce,r);var Ie=createVNode("g","clip-g-"+le++,Ce,[]);(ae?ae.children:$).push(Ie),V[oe++]=Ie,ae=Ie}re=he;var Ne=brush(de,r);Ne&&(ae?ae.children:$).push(Ne)}}},g.prototype.resize=function(n,r){var $=this._opts,L=this.root,V=this._viewport;if(n!=null&&($.width=n),r!=null&&($.height=r),L&&V&&(V.style.display="none",n=getSize$1(L,0,$),r=getSize$1(L,1,$),V.style.display=""),this._width!==n||this._height!==r){if(this._width=n,this._height=r,V){var oe=V.style;oe.width=n+"px",oe.height=r+"px"}if(isPattern(this._backgroundColor))this.refresh();else{var ae=this._svgDom;ae&&(ae.setAttribute("width",n),ae.setAttribute("height",r));var re=this._bgVNode&&this._bgVNode.elm;re&&(re.setAttribute("width",n),re.setAttribute("height",r))}}},g.prototype.getWidth=function(){return this._width},g.prototype.getHeight=function(){return this._height},g.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},g.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},g.prototype.toDataURL=function(n){var r=this.renderToString(),$="data:image/svg+xml;";return n?(r=encodeBase64(r),r&&$+"base64,"+r):$+"charset=UTF-8,"+encodeURIComponent(r)},g}();function createMethodNotSupport(g){return function(){}}function createBackgroundVNode(g,n,r,$){var L;if(r&&r!=="none")if(L=createVNode("rect","bg",{width:g,height:n,x:"0",y:"0",id:"0"}),isGradient(r))setGradient({fill:r},L.attrs,"fill",$);else if(isPattern(r))setPattern({style:{fill:r},dirty:noop$1,getBoundingRect:function(){return{width:g,height:n}}},L.attrs,"fill",$);else{var V=normalizeColor(r),oe=V.color,ae=V.opacity;L.attrs.fill=oe,ae<1&&(L.attrs["fill-opacity"]=ae)}return L}const SVGPainter$1=SVGPainter;function install$T(g){g.registerPainter("svg",SVGPainter$1)}function createDom(g,n,r){var $=platformApi.createCanvas(),L=n.getWidth(),V=n.getHeight(),oe=$.style;return oe&&(oe.position="absolute",oe.left="0",oe.top="0",oe.width=L+"px",oe.height=V+"px",$.setAttribute("data-zr-dom-id",g)),$.width=L*r,$.height=V*r,$}var Layer=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this)||this;V.motionBlur=!1,V.lastFrameAlpha=.7,V.dpr=1,V.virtual=!1,V.config={},V.incremental=!1,V.zlevel=0,V.maxRepaintRectCount=5,V.__dirty=!0,V.__firstTimePaint=!0,V.__used=!1,V.__drawIndex=0,V.__startIndex=0,V.__endIndex=0,V.__prevStartIndex=null,V.__prevEndIndex=null;var oe;L=L||devicePixelRatio,typeof r=="string"?oe=createDom(r,$,L):isObject$4(r)&&(oe=r,r=oe.id),V.id=r,V.dom=oe;var ae=oe.style;return ae&&(disableUserSelect(oe),oe.onselectstart=function(){return!1},ae.padding="0",ae.margin="0",ae.borderWidth="0"),V.painter=$,V.dpr=L,V}return n.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},n.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},n.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},n.prototype.setUnpainted=function(){this.__firstTimePaint=!0},n.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},n.prototype.createRepaintRects=function(r,$,L,V){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var oe=[],ae=this.maxRepaintRectCount,re=!1,le=new BoundingRect$1(0,0,0,0);function ue(Ce){if(!(!Ce.isFinite()||Ce.isZero()))if(oe.length===0){var Ie=new BoundingRect$1(0,0,0,0);Ie.copy(Ce),oe.push(Ie)}else{for(var Ne=!1,ze=1/0,Fe=0,Ue=0;Ue<oe.length;++Ue){var At=oe[Ue];if(At.intersect(Ce)){var Et=new BoundingRect$1(0,0,0,0);Et.copy(At),Et.union(Ce),oe[Ue]=Et,Ne=!0;break}else if(re){le.copy(Ce),le.union(At);var Pt=Ce.width*Ce.height,kt=At.width*At.height,Dt=le.width*le.height,Lt=Dt-Pt-kt;Lt<ze&&(ze=Lt,Fe=Ue)}}if(re&&(oe[Fe].union(Ce),Ne=!0),!Ne){var Ie=new BoundingRect$1(0,0,0,0);Ie.copy(Ce),oe.push(Ie)}re||(re=oe.length>=ae)}}for(var de=this.__startIndex;de<this.__endIndex;++de){var he=r[de];if(he){var pe=he.shouldBePainted(L,V,!0,!0),_e=he.__isRendered&&(he.__dirty&REDRAW_BIT||!pe)?he.getPrevPaintRect():null;_e&&ue(_e);var $e=pe&&(he.__dirty&REDRAW_BIT||!he.__isRendered)?he.getPaintRect():null;$e&&ue($e)}}for(var de=this.__prevStartIndex;de<this.__prevEndIndex;++de){var he=$[de],pe=he.shouldBePainted(L,V,!0,!0);if(he&&(!pe||!he.__zr)&&he.__isRendered){var _e=he.getPrevPaintRect();_e&&ue(_e)}}var xe;do{xe=!1;for(var de=0;de<oe.length;){if(oe[de].isZero()){oe.splice(de,1);continue}for(var Oe=de+1;Oe<oe.length;)oe[de].intersect(oe[Oe])?(xe=!0,oe[de].union(oe[Oe]),oe.splice(Oe,1)):Oe++;de++}}while(xe);return this._paintRects=oe,oe},n.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},n.prototype.resize=function(r,$){var L=this.dpr,V=this.dom,oe=V.style,ae=this.domBack;oe&&(oe.width=r+"px",oe.height=$+"px"),V.width=r*L,V.height=$*L,ae&&(ae.width=r*L,ae.height=$*L,L!==1&&this.ctxBack.scale(L,L))},n.prototype.clear=function(r,$,L){var V=this.dom,oe=this.ctx,ae=V.width,re=V.height;$=$||this.clearColor;var le=this.motionBlur&&!r,ue=this.lastFrameAlpha,de=this.dpr,he=this;le&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(V,0,0,ae/de,re/de));var pe=this.domBack;function _e($e,xe,Oe,Ce){if(oe.clearRect($e,xe,Oe,Ce),$&&$!=="transparent"){var Ie=void 0;if(isGradientObject($)){var Ne=$.global||$.__width===Oe&&$.__height===Ce;Ie=Ne&&$.__canvasGradient||getCanvasGradient(oe,$,{x:0,y:0,width:Oe,height:Ce}),$.__canvasGradient=Ie,$.__width=Oe,$.__height=Ce}else isImagePatternObject($)&&($.scaleX=$.scaleX||de,$.scaleY=$.scaleY||de,Ie=createCanvasPattern(oe,$,{dirty:function(){he.setUnpainted(),he.__painter.refresh()}}));oe.save(),oe.fillStyle=Ie||$,oe.fillRect($e,xe,Oe,Ce),oe.restore()}le&&(oe.save(),oe.globalAlpha=ue,oe.drawImage(pe,$e,xe,Oe,Ce),oe.restore())}!L||le?_e(0,0,ae,re):L.length&&each$f(L,function($e){_e($e.x*de,$e.y*de,$e.width*de,$e.height*de)})},n}(Eventful$1);const Layer$1=Layer;var HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(g){return g?g.__builtin__?!0:!(typeof g.resize!="function"||typeof g.refresh!="function"):!1}function createRoot(g,n){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+g+"px","height:"+n+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var CanvasPainter=function(){function g(n,r,$,L){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var V=!n.nodeName||n.nodeName.toUpperCase()==="CANVAS";this._opts=$=extend$1({},$||{}),this.dpr=$.devicePixelRatio||devicePixelRatio,this._singleCanvas=V,this.root=n;var oe=n.style;oe&&(disableUserSelect(n),n.innerHTML=""),this.storage=r;var ae=this._zlevelList;this._prevDisplayList=[];var re=this._layers;if(V){var le=n,ue=le.width,de=le.height;$.width!=null&&(ue=$.width),$.height!=null&&(de=$.height),this.dpr=$.devicePixelRatio||1,le.width=ue*this.dpr,le.height=de*this.dpr,this._width=ue,this._height=de;var he=new Layer$1(le,this,this.dpr);he.__builtin__=!0,he.initContext(),re[CANVAS_ZLEVEL]=he,he.zlevel=CANVAS_ZLEVEL,ae.push(CANVAS_ZLEVEL),this._domRoot=n}else{this._width=getSize$1(n,0,$),this._height=getSize$1(n,1,$);var pe=this._domRoot=createRoot(this._width,this._height);n.appendChild(pe)}}return g.prototype.getType=function(){return"canvas"},g.prototype.isSingleCanvas=function(){return this._singleCanvas},g.prototype.getViewportRoot=function(){return this._domRoot},g.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},g.prototype.refresh=function(n){var r=this.storage.getDisplayList(!0),$=this._prevDisplayList,L=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,$,n,this._redrawId);for(var V=0;V<L.length;V++){var oe=L[V],ae=this._layers[oe];if(!ae.__builtin__&&ae.refresh){var re=V===0?this._backgroundColor:null;ae.refresh(re)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},g.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},g.prototype._paintHoverList=function(n){var r=n.length,$=this._hoverlayer;if($&&$.clear(),!!r){for(var L={inHover:!0,viewWidth:this._width,viewHeight:this._height},V,oe=0;oe<r;oe++){var ae=n[oe];ae.__inHover&&($||($=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),V||(V=$.ctx,V.save()),brush$1(V,ae,L,oe===r-1))}V&&V.restore()}},g.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},g.prototype.paintOne=function(n,r){brushSingle(n,r)},g.prototype._paintList=function(n,r,$,L){if(this._redrawId===L){$=$||!1,this._updateLayerStatus(n);var V=this._doPaintList(n,r,$),oe=V.finished,ae=V.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),ae&&this._paintHoverList(n),oe)this.eachLayer(function(le){le.afterBrush&&le.afterBrush()});else{var re=this;requestAnimationFrame$1$1(function(){re._paintList(n,r,$,L)})}}},g.prototype._compositeManually=function(){var n=this.getLayer(CANVAS_ZLEVEL).ctx,r=this._domRoot.width,$=this._domRoot.height;n.clearRect(0,0,r,$),this.eachBuiltinLayer(function(L){L.virtual&&n.drawImage(L.dom,0,0,r,$)})},g.prototype._doPaintList=function(n,r,$){for(var L=this,V=[],oe=this._opts.useDirtyRect,ae=0;ae<this._zlevelList.length;ae++){var re=this._zlevelList[ae],le=this._layers[re];le.__builtin__&&le!==this._hoverlayer&&(le.__dirty||$)&&V.push(le)}for(var ue=!0,de=!1,he=function($e){var xe=V[$e],Oe=xe.ctx,Ce=oe&&xe.createRepaintRects(n,r,pe._width,pe._height),Ie=$?xe.__startIndex:xe.__drawIndex,Ne=!$&&xe.incremental&&Date.now,ze=Ne&&Date.now(),Fe=xe.zlevel===pe._zlevelList[0]?pe._backgroundColor:null;if(xe.__startIndex===xe.__endIndex)xe.clear(!1,Fe,Ce);else if(Ie===xe.__startIndex){var Ue=n[Ie];(!Ue.incremental||!Ue.notClear||$)&&xe.clear(!1,Fe,Ce)}Ie===-1&&(console.error("For some unknown reason. drawIndex is -1"),Ie=xe.__startIndex);var At,Et=function(Lt){var hn={inHover:!1,allClipped:!1,prevEl:null,viewWidth:L._width,viewHeight:L._height};for(At=Ie;At<xe.__endIndex;At++){var vn=n[At];if(vn.__inHover&&(de=!0),L._doPaintEl(vn,xe,oe,Lt,hn,At===xe.__endIndex-1),Ne){var _n=Date.now()-ze;if(_n>15)break}}hn.prevElClipPaths&&Oe.restore()};if(Ce)if(Ce.length===0)At=xe.__endIndex;else for(var Pt=pe.dpr,kt=0;kt<Ce.length;++kt){var Dt=Ce[kt];Oe.save(),Oe.beginPath(),Oe.rect(Dt.x*Pt,Dt.y*Pt,Dt.width*Pt,Dt.height*Pt),Oe.clip(),Et(Dt),Oe.restore()}else Oe.save(),Et(),Oe.restore();xe.__drawIndex=At,xe.__drawIndex<xe.__endIndex&&(ue=!1)},pe=this,_e=0;_e<V.length;_e++)he(_e);return env$1.wxa&&each$f(this._layers,function($e){$e&&$e.ctx&&$e.ctx.draw&&$e.ctx.draw()}),{finished:ue,needsRefreshHover:de}},g.prototype._doPaintEl=function(n,r,$,L,V,oe){var ae=r.ctx;if($){var re=n.getPaintRect();(!L||re&&re.intersect(L))&&(brush$1(ae,n,V,oe),n.setPrevPaintRect(re))}else brush$1(ae,n,V,oe)},g.prototype.getLayer=function(n,r){this._singleCanvas&&!this._needsManuallyCompositing&&(n=CANVAS_ZLEVEL);var $=this._layers[n];return $||($=new Layer$1("zr_"+n,this,this.dpr),$.zlevel=n,$.__builtin__=!0,this._layerConfig[n]?merge$1($,this._layerConfig[n],!0):this._layerConfig[n-EL_AFTER_INCREMENTAL_INC]&&merge$1($,this._layerConfig[n-EL_AFTER_INCREMENTAL_INC],!0),r&&($.virtual=r),this.insertLayer(n,$),$.initContext()),$},g.prototype.insertLayer=function(n,r){var $=this._layers,L=this._zlevelList,V=L.length,oe=this._domRoot,ae=null,re=-1;if(!$[n]&&!!isLayerValid(r)){if(V>0&&n>L[0]){for(re=0;re<V-1&&!(L[re]<n&&L[re+1]>n);re++);ae=$[L[re]]}if(L.splice(re+1,0,n),$[n]=r,!r.virtual)if(ae){var le=ae.dom;le.nextSibling?oe.insertBefore(r.dom,le.nextSibling):oe.appendChild(r.dom)}else oe.firstChild?oe.insertBefore(r.dom,oe.firstChild):oe.appendChild(r.dom);r.__painter=this}},g.prototype.eachLayer=function(n,r){for(var $=this._zlevelList,L=0;L<$.length;L++){var V=$[L];n.call(r,this._layers[V],V)}},g.prototype.eachBuiltinLayer=function(n,r){for(var $=this._zlevelList,L=0;L<$.length;L++){var V=$[L],oe=this._layers[V];oe.__builtin__&&n.call(r,oe,V)}},g.prototype.eachOtherLayer=function(n,r){for(var $=this._zlevelList,L=0;L<$.length;L++){var V=$[L],oe=this._layers[V];oe.__builtin__||n.call(r,oe,V)}},g.prototype.getLayers=function(){return this._layers},g.prototype._updateLayerStatus=function(n){this.eachBuiltinLayer(function(de,he){de.__dirty=de.__used=!1});function r(de){V&&(V.__endIndex!==de&&(V.__dirty=!0),V.__endIndex=de)}if(this._singleCanvas)for(var $=1;$<n.length;$++){var L=n[$];if(L.zlevel!==n[$-1].zlevel||L.incremental){this._needsManuallyCompositing=!0;break}}var V=null,oe=0,ae,re;for(re=0;re<n.length;re++){var L=n[re],le=L.zlevel,ue=void 0;ae!==le&&(ae=le,oe=0),L.incremental?(ue=this.getLayer(le+INCREMENTAL_INC,this._needsManuallyCompositing),ue.incremental=!0,oe=1):ue=this.getLayer(le+(oe>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),ue.__builtin__||logError("ZLevel "+le+" has been used by unkown layer "+ue.id),ue!==V&&(ue.__used=!0,ue.__startIndex!==re&&(ue.__dirty=!0),ue.__startIndex=re,ue.incremental?ue.__drawIndex=-1:ue.__drawIndex=re,r(re),V=ue),L.__dirty&REDRAW_BIT&&!L.__inHover&&(ue.__dirty=!0,ue.incremental&&ue.__drawIndex<0&&(ue.__drawIndex=re))}r(re),this.eachBuiltinLayer(function(de,he){!de.__used&&de.getElementCount()>0&&(de.__dirty=!0,de.__startIndex=de.__endIndex=de.__drawIndex=0),de.__dirty&&de.__drawIndex<0&&(de.__drawIndex=de.__startIndex)})},g.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},g.prototype._clearLayer=function(n){n.clear()},g.prototype.setBackgroundColor=function(n){this._backgroundColor=n,each$f(this._layers,function(r){r.setUnpainted()})},g.prototype.configLayer=function(n,r){if(r){var $=this._layerConfig;$[n]?merge$1($[n],r,!0):$[n]=r;for(var L=0;L<this._zlevelList.length;L++){var V=this._zlevelList[L];if(V===n||V===n+EL_AFTER_INCREMENTAL_INC){var oe=this._layers[V];merge$1(oe,$[n],!0)}}}},g.prototype.delLayer=function(n){var r=this._layers,$=this._zlevelList,L=r[n];!L||(L.dom.parentNode.removeChild(L.dom),delete r[n],$.splice(indexOf($,n),1))},g.prototype.resize=function(n,r){if(this._domRoot.style){var $=this._domRoot;$.style.display="none";var L=this._opts,V=this.root;if(n!=null&&(L.width=n),r!=null&&(L.height=r),n=getSize$1(V,0,L),r=getSize$1(V,1,L),$.style.display="",this._width!==n||r!==this._height){$.style.width=n+"px",$.style.height=r+"px";for(var oe in this._layers)this._layers.hasOwnProperty(oe)&&this._layers[oe].resize(n,r);this.refresh(!0)}this._width=n,this._height=r}else{if(n==null||r==null)return;this._width=n,this._height=r,this.getLayer(CANVAS_ZLEVEL).resize(n,r)}return this},g.prototype.clearLayer=function(n){var r=this._layers[n];r&&r.clear()},g.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},g.prototype.getRenderedCanvas=function(n){if(n=n||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var r=new Layer$1("image",this,n.pixelRatio||this.dpr);r.initContext(),r.clear(!1,n.backgroundColor||this._backgroundColor);var $=r.ctx;if(n.pixelRatio<=this.dpr){this.refresh();var L=r.dom.width,V=r.dom.height;this.eachLayer(function(de){de.__builtin__?$.drawImage(de.dom,0,0,L,V):de.renderToCanvas&&($.save(),de.renderToCanvas($),$.restore())})}else for(var oe={inHover:!1,viewWidth:this._width,viewHeight:this._height},ae=this.storage.getDisplayList(!0),re=0,le=ae.length;re<le;re++){var ue=ae[re];brush$1($,ue,oe,re===le-1)}return r.dom},g.prototype.getWidth=function(){return this._width},g.prototype.getHeight=function(){return this._height},g}();const CanvasPainter$1=CanvasPainter;function install$S(g){g.registerPainter("canvas",CanvasPainter$1)}var LineSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(r){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.getLegendIcon=function(r){var $=new Group$4,L=createSymbol$1("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);$.add(L),L.setStyle(r.lineStyle);var V=this.getData().getVisual("symbol"),oe=this.getData().getVisual("symbolRotate"),ae=V==="none"?"circle":V,re=r.itemHeight*.8,le=createSymbol$1(ae,(r.itemWidth-re)/2,(r.itemHeight-re)/2,re,re,r.itemStyle.fill);$.add(le),le.setStyle(r.itemStyle);var ue=r.iconRotate==="inherit"?oe:r.iconRotate||0;return le.rotation=ue*Math.PI/180,le.setOrigin([r.itemWidth/2,r.itemHeight/2]),ae.indexOf("empty")>-1&&(le.style.stroke=le.style.fill,le.style.fill="#fff",le.style.lineWidth=2),$},n.type="series.line",n.dependencies=["grid","polar"],n.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},n}(SeriesModel$1);const LineSeries=LineSeriesModel;function getDefaultLabel(g,n){var r=g.mapDimensionsAll("defaultedLabel"),$=r.length;if($===1){var L=retrieveRawValue(g,n,r[0]);return L!=null?L+"":null}else if($){for(var V=[],oe=0;oe<r.length;oe++)V.push(retrieveRawValue(g,n,r[oe]));return V.join(" ")}}function getDefaultInterpolatedLabel(g,n){var r=g.mapDimensionsAll("defaultedLabel");if(!isArray$2(n))return n+"";for(var $=[],L=0;L<r.length;L++){var V=g.getDimensionIndex(r[L]);V>=0&&$.push(n[V])}return $.join(" ")}var Symbol$1=function(g){__extends(n,g);function n(r,$,L,V){var oe=g.call(this)||this;return oe.updateData(r,$,L,V),oe}return n.prototype._createSymbol=function(r,$,L,V,oe){this.removeAll();var ae=createSymbol$1(r,-1,-1,2,2,null,oe);ae.attr({z2:100,culling:!0,scaleX:V[0]/2,scaleY:V[1]/2}),ae.drift=driftSymbol,this._symbolType=r,this.add(ae)},n.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},n.prototype.getSymbolType=function(){return this._symbolType},n.prototype.getSymbolPath=function(){return this.childAt(0)},n.prototype.highlight=function(){enterEmphasis(this.childAt(0))},n.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},n.prototype.setZ=function(r,$){var L=this.childAt(0);L.zlevel=r,L.z=$},n.prototype.setDraggable=function(r,$){var L=this.childAt(0);L.draggable=r,L.cursor=!$&&r?"move":L.cursor},n.prototype.updateData=function(r,$,L,V){this.silent=!1;var oe=r.getItemVisual($,"symbol")||"circle",ae=r.hostModel,re=n.getSymbolSize(r,$),le=oe!==this._symbolType,ue=V&&V.disableAnimation;if(le){var de=r.getItemVisual($,"symbolKeepAspect");this._createSymbol(oe,r,$,re,de)}else{var he=this.childAt(0);he.silent=!1;var pe={scaleX:re[0]/2,scaleY:re[1]/2};ue?he.attr(pe):updateProps$1(he,pe,ae,$),saveOldStyle(he)}if(this._updateCommon(r,$,re,L,V),le){var he=this.childAt(0);if(!ue){var pe={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:he.style.opacity}};he.scaleX=he.scaleY=0,he.style.opacity=0,initProps(he,pe,ae,$)}}ue&&this.childAt(0).stopAnimation("leave")},n.prototype._updateCommon=function(r,$,L,V,oe){var ae=this.childAt(0),re=r.hostModel,le,ue,de,he,pe,_e,$e,xe,Oe;if(V&&(le=V.emphasisItemStyle,ue=V.blurItemStyle,de=V.selectItemStyle,he=V.focus,pe=V.blurScope,$e=V.labelStatesModels,xe=V.hoverScale,Oe=V.cursorStyle,_e=V.emphasisDisabled),!V||r.hasItemOption){var Ce=V&&V.itemModel?V.itemModel:r.getItemModel($),Ie=Ce.getModel("emphasis");le=Ie.getModel("itemStyle").getItemStyle(),de=Ce.getModel(["select","itemStyle"]).getItemStyle(),ue=Ce.getModel(["blur","itemStyle"]).getItemStyle(),he=Ie.get("focus"),pe=Ie.get("blurScope"),_e=Ie.get("disabled"),$e=getLabelStatesModels(Ce),xe=Ie.getShallow("scale"),Oe=Ce.getShallow("cursor")}var Ne=r.getItemVisual($,"symbolRotate");ae.attr("rotation",(Ne||0)*Math.PI/180||0);var ze=normalizeSymbolOffset(r.getItemVisual($,"symbolOffset"),L);ze&&(ae.x=ze[0],ae.y=ze[1]),Oe&&ae.attr("cursor",Oe);var Fe=r.getItemVisual($,"style"),Ue=Fe.fill;if(ae instanceof ZRImage$1){var At=ae.style;ae.useStyle(extend$1({image:At.image,x:At.x,y:At.y,width:At.width,height:At.height},Fe))}else ae.__isEmptyBrush?ae.useStyle(extend$1({},Fe)):ae.useStyle(Fe),ae.style.decal=null,ae.setColor(Ue,oe&&oe.symbolInnerColor),ae.style.strokeNoScale=!0;var Et=r.getItemVisual($,"liftZ"),Pt=this._z2;Et!=null?Pt==null&&(this._z2=ae.z2,ae.z2+=Et):Pt!=null&&(ae.z2=Pt,this._z2=null);var kt=oe&&oe.useNameLabel;setLabelStyle(ae,$e,{labelFetcher:re,labelDataIndex:$,defaultText:Dt,inheritColor:Ue,defaultOpacity:Fe.opacity});function Dt(vn){return kt?r.getName(vn):getDefaultLabel(r,vn)}this._sizeX=L[0]/2,this._sizeY=L[1]/2;var Lt=ae.ensureState("emphasis");Lt.style=le,ae.ensureState("select").style=de,ae.ensureState("blur").style=ue;var hn=xe==null||xe===!0?Math.max(1.1,3/this._sizeY):isFinite(xe)&&xe>0?+xe:1;Lt.scaleX=this._sizeX*hn,Lt.scaleY=this._sizeY*hn,this.setSymbolScale(1),toggleHoverEmphasis(this,he,pe,_e)},n.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},n.prototype.fadeOut=function(r,$,L){var V=this.childAt(0),oe=getECData(this).dataIndex,ae=L&&L.animation;if(this.silent=V.silent=!0,L&&L.fadeLabel){var re=V.getTextContent();re&&removeElement(re,{style:{opacity:0}},$,{dataIndex:oe,removeOpt:ae,cb:function(){V.removeTextContent()}})}else V.removeTextContent();removeElement(V,{style:{opacity:0},scaleX:0,scaleY:0},$,{dataIndex:oe,cb:r,removeOpt:ae})},n.getSymbolSize=function(r,$){return normalizeSymbolSize(r.getItemVisual($,"symbolSize"))},n}(Group$4);function driftSymbol(g,n){this.parent.drift(g,n)}const SymbolClz=Symbol$1;function symbolNeedsDraw$1(g,n,r,$){return n&&!isNaN(n[0])&&!isNaN(n[1])&&!($.isIgnore&&$.isIgnore(r))&&!($.clipShape&&!$.clipShape.contain(n[0],n[1]))&&g.getItemVisual(r,"symbol")!=="none"}function normalizeUpdateOpt(g){return g!=null&&!isObject$4(g)&&(g={isIgnore:g}),g||{}}function makeSeriesScope$2(g){var n=g.hostModel,r=n.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:n.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:n.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:getLabelStatesModels(n),cursorStyle:n.get("cursor")}}var SymbolDraw=function(){function g(n){this.group=new Group$4,this._SymbolCtor=n||SymbolClz}return g.prototype.updateData=function(n,r){this._progressiveEls=null,r=normalizeUpdateOpt(r);var $=this.group,L=n.hostModel,V=this._data,oe=this._SymbolCtor,ae=r.disableAnimation,re=makeSeriesScope$2(n),le={disableAnimation:ae},ue=r.getSymbolPoint||function(de){return n.getItemLayout(de)};V||$.removeAll(),n.diff(V).add(function(de){var he=ue(de);if(symbolNeedsDraw$1(n,he,de,r)){var pe=new oe(n,de,re,le);pe.setPosition(he),n.setItemGraphicEl(de,pe),$.add(pe)}}).update(function(de,he){var pe=V.getItemGraphicEl(he),_e=ue(de);if(!symbolNeedsDraw$1(n,_e,de,r)){$.remove(pe);return}var $e=n.getItemVisual(de,"symbol")||"circle",xe=pe&&pe.getSymbolType&&pe.getSymbolType();if(!pe||xe&&xe!==$e)$.remove(pe),pe=new oe(n,de,re,le),pe.setPosition(_e);else{pe.updateData(n,de,re,le);var Oe={x:_e[0],y:_e[1]};ae?pe.attr(Oe):updateProps$1(pe,Oe,L)}$.add(pe),n.setItemGraphicEl(de,pe)}).remove(function(de){var he=V.getItemGraphicEl(de);he&&he.fadeOut(function(){$.remove(he)},L)}).execute(),this._getSymbolPoint=ue,this._data=n},g.prototype.updateLayout=function(){var n=this,r=this._data;r&&r.eachItemGraphicEl(function($,L){var V=n._getSymbolPoint(L);$.setPosition(V),$.markRedraw()})},g.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=makeSeriesScope$2(n),this._data=null,this.group.removeAll()},g.prototype.incrementalUpdate=function(n,r,$){this._progressiveEls=[],$=normalizeUpdateOpt($);function L(re){re.isGroup||(re.incremental=!0,re.ensureState("emphasis").hoverLayer=!0)}for(var V=n.start;V<n.end;V++){var oe=r.getItemLayout(V);if(symbolNeedsDraw$1(r,oe,V,$)){var ae=new this._SymbolCtor(r,V,this._seriesScope);ae.traverse(L),ae.setPosition(oe),this.group.add(ae),r.setItemGraphicEl(V,ae),this._progressiveEls.push(ae)}}},g.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},g.prototype.remove=function(n){var r=this.group,$=this._data;$&&n?$.eachItemGraphicEl(function(L){L.fadeOut(function(){r.remove(L)},$.hostModel)}):r.removeAll()},g}();const SymbolDraw$1=SymbolDraw;function prepareDataCoordInfo(g,n,r){var $=g.getBaseAxis(),L=g.getOtherAxis($),V=getValueStart(L,r),oe=$.dim,ae=L.dim,re=n.mapDimension(ae),le=n.mapDimension(oe),ue=ae==="x"||ae==="radius"?1:0,de=map$1(g.dimensions,function(_e){return n.mapDimension(_e)}),he=!1,pe=n.getCalculationInfo("stackResultDimension");return isDimensionStacked(n,de[0])&&(he=!0,de[0]=pe),isDimensionStacked(n,de[1])&&(he=!0,de[1]=pe),{dataDimsForPoint:de,valueStart:V,valueAxisDim:ae,baseAxisDim:oe,stacked:!!he,valueDim:re,baseDim:le,baseDataOffset:ue,stackedOverDimension:n.getCalculationInfo("stackedOverDimension")}}function getValueStart(g,n){var r=0,$=g.scale.getExtent();return n==="start"?r=$[0]:n==="end"?r=$[1]:isNumber$1(n)&&!isNaN(n)?r=n:$[0]>0?r=$[0]:$[1]<0&&(r=$[1]),r}function getStackedOnPoint(g,n,r,$){var L=NaN;g.stacked&&(L=r.get(r.getCalculationInfo("stackedOverDimension"),$)),isNaN(L)&&(L=g.valueStart);var V=g.baseDataOffset,oe=[];return oe[V]=r.get(g.baseDim,$),oe[1-V]=L,n.dataToPoint(oe)}function diffData(g,n){var r=[];return n.diff(g).add(function($){r.push({cmd:"+",idx:$})}).update(function($,L){r.push({cmd:"=",idx:L,idx1:$})}).remove(function($){r.push({cmd:"-",idx:$})}).execute(),r}function lineAnimationDiff(g,n,r,$,L,V,oe,ae){for(var re=diffData(g,n),le=[],ue=[],de=[],he=[],pe=[],_e=[],$e=[],xe=prepareDataCoordInfo(L,n,oe),Oe=g.getLayout("points")||[],Ce=n.getLayout("points")||[],Ie=0;Ie<re.length;Ie++){var Ne=re[Ie],ze=!0,Fe=void 0,Ue=void 0;switch(Ne.cmd){case"=":Fe=Ne.idx*2,Ue=Ne.idx1*2;var At=Oe[Fe],Et=Oe[Fe+1],Pt=Ce[Ue],kt=Ce[Ue+1];(isNaN(At)||isNaN(Et))&&(At=Pt,Et=kt),le.push(At,Et),ue.push(Pt,kt),de.push(r[Fe],r[Fe+1]),he.push($[Ue],$[Ue+1]),$e.push(n.getRawIndex(Ne.idx1));break;case"+":var Dt=Ne.idx,Lt=xe.dataDimsForPoint,hn=L.dataToPoint([n.get(Lt[0],Dt),n.get(Lt[1],Dt)]);Ue=Dt*2,le.push(hn[0],hn[1]),ue.push(Ce[Ue],Ce[Ue+1]);var vn=getStackedOnPoint(xe,L,n,Dt);de.push(vn[0],vn[1]),he.push($[Ue],$[Ue+1]),$e.push(n.getRawIndex(Dt));break;case"-":ze=!1}ze&&(pe.push(Ne),_e.push(_e.length))}_e.sort(function(Pn,Un){return $e[Pn]-$e[Un]});for(var _n=le.length,$n=createFloat32Array(_n),Sn=createFloat32Array(_n),xn=createFloat32Array(_n),On=createFloat32Array(_n),Cn=[],Ie=0;Ie<_e.length;Ie++){var An=_e[Ie],Rn=Ie*2,Fn=An*2;$n[Rn]=le[Fn],$n[Rn+1]=le[Fn+1],Sn[Rn]=ue[Fn],Sn[Rn+1]=ue[Fn+1],xn[Rn]=de[Fn],xn[Rn+1]=de[Fn+1],On[Rn]=he[Fn],On[Rn+1]=he[Fn+1],Cn[Ie]=pe[An]}return{current:$n,next:Sn,stackedOnCurrent:xn,stackedOnNext:On,status:Cn}}var mathMin$5=Math.min,mathMax$5=Math.max;function isPointNull$1(g,n){return isNaN(g)||isNaN(n)}function drawSegment(g,n,r,$,L,V,oe,ae,re){for(var le,ue,de,he,pe,_e,$e=r,xe=0;xe<$;xe++){var Oe=n[$e*2],Ce=n[$e*2+1];if($e>=L||$e<0)break;if(isPointNull$1(Oe,Ce)){if(re){$e+=V;continue}break}if($e===r)g[V>0?"moveTo":"lineTo"](Oe,Ce),de=Oe,he=Ce;else{var Ie=Oe-le,Ne=Ce-ue;if(Ie*Ie+Ne*Ne<.5){$e+=V;continue}if(oe>0){for(var ze=$e+V,Fe=n[ze*2],Ue=n[ze*2+1];Fe===Oe&&Ue===Ce&&xe<$;)xe++,ze+=V,$e+=V,Fe=n[ze*2],Ue=n[ze*2+1],Oe=n[$e*2],Ce=n[$e*2+1],Ie=Oe-le,Ne=Ce-ue;var At=xe+1;if(re)for(;isPointNull$1(Fe,Ue)&&At<$;)At++,ze+=V,Fe=n[ze*2],Ue=n[ze*2+1];var Et=.5,Pt=0,kt=0,Dt=void 0,Lt=void 0;if(At>=$||isPointNull$1(Fe,Ue))pe=Oe,_e=Ce;else{Pt=Fe-le,kt=Ue-ue;var hn=Oe-le,vn=Fe-Oe,_n=Ce-ue,$n=Ue-Ce,Sn=void 0,xn=void 0;if(ae==="x"){Sn=Math.abs(hn),xn=Math.abs(vn);var On=Pt>0?1:-1;pe=Oe-On*Sn*oe,_e=Ce,Dt=Oe+On*xn*oe,Lt=Ce}else if(ae==="y"){Sn=Math.abs(_n),xn=Math.abs($n);var Cn=kt>0?1:-1;pe=Oe,_e=Ce-Cn*Sn*oe,Dt=Oe,Lt=Ce+Cn*xn*oe}else Sn=Math.sqrt(hn*hn+_n*_n),xn=Math.sqrt(vn*vn+$n*$n),Et=xn/(xn+Sn),pe=Oe-Pt*oe*(1-Et),_e=Ce-kt*oe*(1-Et),Dt=Oe+Pt*oe*Et,Lt=Ce+kt*oe*Et,Dt=mathMin$5(Dt,mathMax$5(Fe,Oe)),Lt=mathMin$5(Lt,mathMax$5(Ue,Ce)),Dt=mathMax$5(Dt,mathMin$5(Fe,Oe)),Lt=mathMax$5(Lt,mathMin$5(Ue,Ce)),Pt=Dt-Oe,kt=Lt-Ce,pe=Oe-Pt*Sn/xn,_e=Ce-kt*Sn/xn,pe=mathMin$5(pe,mathMax$5(le,Oe)),_e=mathMin$5(_e,mathMax$5(ue,Ce)),pe=mathMax$5(pe,mathMin$5(le,Oe)),_e=mathMax$5(_e,mathMin$5(ue,Ce)),Pt=Oe-pe,kt=Ce-_e,Dt=Oe+Pt*xn/Sn,Lt=Ce+kt*xn/Sn}g.bezierCurveTo(de,he,pe,_e,Oe,Ce),de=Dt,he=Lt}else g.lineTo(Oe,Ce)}le=Oe,ue=Ce,$e+=V}return xe}var ECPolylineShape=function(){function g(){this.smooth=0,this.smoothConstraint=!0}return g}(),ECPolyline=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="ec-polyline",$}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ECPolylineShape},n.prototype.buildPath=function(r,$){var L=$.points,V=0,oe=L.length/2;if($.connectNulls){for(;oe>0&&isPointNull$1(L[oe*2-2],L[oe*2-1]);oe--);for(;V<oe&&isPointNull$1(L[V*2],L[V*2+1]);V++);}for(;V<oe;)V+=drawSegment(r,L,V,oe,oe,1,$.smooth,$.smoothMonotone,$.connectNulls)+1},n.prototype.getPointOn=function(r,$){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var L=this.path,V=L.data,oe=PathProxy$1.CMD,ae,re,le=$==="x",ue=[],de=0;de<V.length;){var he=V[de++],pe=void 0,_e=void 0,$e=void 0,xe=void 0,Oe=void 0,Ce=void 0,Ie=void 0;switch(he){case oe.M:ae=V[de++],re=V[de++];break;case oe.L:if(pe=V[de++],_e=V[de++],Ie=le?(r-ae)/(pe-ae):(r-re)/(_e-re),Ie<=1&&Ie>=0){var Ne=le?(_e-re)*Ie+re:(pe-ae)*Ie+ae;return le?[r,Ne]:[Ne,r]}ae=pe,re=_e;break;case oe.C:pe=V[de++],_e=V[de++],$e=V[de++],xe=V[de++],Oe=V[de++],Ce=V[de++];var ze=le?cubicRootAt(ae,pe,$e,Oe,r,ue):cubicRootAt(re,_e,xe,Ce,r,ue);if(ze>0)for(var Fe=0;Fe<ze;Fe++){var Ue=ue[Fe];if(Ue<=1&&Ue>=0){var Ne=le?cubicAt(re,_e,xe,Ce,Ue):cubicAt(ae,pe,$e,Oe,Ue);return le?[r,Ne]:[Ne,r]}}ae=Oe,re=Ce;break}}},n}(Path$1),ECPolygonShape=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n}(ECPolylineShape),ECPolygon=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="ec-polygon",$}return n.prototype.getDefaultShape=function(){return new ECPolygonShape},n.prototype.buildPath=function(r,$){var L=$.points,V=$.stackedOnPoints,oe=0,ae=L.length/2,re=$.smoothMonotone;if($.connectNulls){for(;ae>0&&isPointNull$1(L[ae*2-2],L[ae*2-1]);ae--);for(;oe<ae&&isPointNull$1(L[oe*2],L[oe*2+1]);oe++);}for(;oe<ae;){var le=drawSegment(r,L,oe,ae,ae,1,$.smooth,re,$.connectNulls);drawSegment(r,V,oe+le-1,le,ae,-1,$.stackedOnSmooth,re,$.connectNulls),oe+=le+1,r.closePath()}},n}(Path$1);function createGridClipPath(g,n,r,$,L){var V=g.getArea(),oe=V.x,ae=V.y,re=V.width,le=V.height,ue=r.get(["lineStyle","width"])||2;oe-=ue/2,ae-=ue/2,re+=ue,le+=ue,oe=Math.floor(oe),re=Math.round(re);var de=new Rect$3({shape:{x:oe,y:ae,width:re,height:le}});if(n){var he=g.getBaseAxis(),pe=he.isHorizontal(),_e=he.inverse;pe?(_e&&(de.shape.x+=re),de.shape.width=0):(_e||(de.shape.y+=le),de.shape.height=0);var $e=isFunction$1(L)?function(xe){L(xe,de)}:null;initProps(de,{shape:{width:re,height:le,x:oe,y:ae}},r,null,$,$e)}return de}function createPolarClipPath(g,n,r){var $=g.getArea(),L=round$3($.r0,1),V=round$3($.r,1),oe=new Sector$1({shape:{cx:round$3(g.cx,1),cy:round$3(g.cy,1),r0:L,r:V,startAngle:$.startAngle,endAngle:$.endAngle,clockwise:$.clockwise}});if(n){var ae=g.getBaseAxis().dim==="angle";ae?oe.shape.endAngle=$.startAngle:oe.shape.r=L,initProps(oe,{shape:{endAngle:$.endAngle,r:V}},r)}return oe}function createClipPath(g,n,r,$,L){if(g){if(g.type==="polar")return createPolarClipPath(g,n,r);if(g.type==="cartesian2d")return createGridClipPath(g,n,r,$,L)}else return null;return null}function isCoordinateSystemType(g,n){return g.type===n}function isPointsSame(g,n){if(g.length===n.length){for(var r=0;r<g.length;r++)if(g[r]!==n[r])return;return!0}}function bboxFromPoints(g){for(var n=1/0,r=1/0,$=-1/0,L=-1/0,V=0;V<g.length;){var oe=g[V++],ae=g[V++];isNaN(oe)||(n=Math.min(oe,n),$=Math.max(oe,$)),isNaN(ae)||(r=Math.min(ae,r),L=Math.max(ae,L))}return[[n,r],[$,L]]}function getBoundingDiff(g,n){var r=bboxFromPoints(g),$=r[0],L=r[1],V=bboxFromPoints(n),oe=V[0],ae=V[1];return Math.max(Math.abs($[0]-oe[0]),Math.abs($[1]-oe[1]),Math.abs(L[0]-ae[0]),Math.abs(L[1]-ae[1]))}function getSmooth(g){return isNumber$1(g)?g:g?.5:0}function getStackedOnPoints(g,n,r){if(!r.valueDim)return[];for(var $=n.count(),L=createFloat32Array($*2),V=0;V<$;V++){var oe=getStackedOnPoint(r,g,n,V);L[V*2]=oe[0],L[V*2+1]=oe[1]}return L}function turnPointsIntoStep(g,n,r,$){var L=n.getBaseAxis(),V=L.dim==="x"||L.dim==="radius"?0:1,oe=[],ae=0,re=[],le=[],ue=[],de=[];if($){for(ae=0;ae<g.length;ae+=2)!isNaN(g[ae])&&!isNaN(g[ae+1])&&de.push(g[ae],g[ae+1]);g=de}for(ae=0;ae<g.length-2;ae+=2)switch(ue[0]=g[ae+2],ue[1]=g[ae+3],le[0]=g[ae],le[1]=g[ae+1],oe.push(le[0],le[1]),r){case"end":re[V]=ue[V],re[1-V]=le[1-V],oe.push(re[0],re[1]);break;case"middle":var he=(le[V]+ue[V])/2,pe=[];re[V]=pe[V]=he,re[1-V]=le[1-V],pe[1-V]=ue[1-V],oe.push(re[0],re[1]),oe.push(pe[0],pe[1]);break;default:re[V]=le[V],re[1-V]=ue[1-V],oe.push(re[0],re[1])}return oe.push(g[ae++],g[ae++]),oe}function clipColorStops(g,n){var r=[],$=g.length,L,V;function oe(ue,de,he){var pe=ue.coord,_e=(he-pe)/(de.coord-pe),$e=lerp(_e,[ue.color,de.color]);return{coord:he,color:$e}}for(var ae=0;ae<$;ae++){var re=g[ae],le=re.coord;if(le<0)L=re;else if(le>n){V?r.push(oe(V,re,n)):L&&r.push(oe(L,re,0),oe(L,re,n));break}else L&&(r.push(oe(L,re,0)),L=null),r.push(re),V=re}return r}function getVisualGradient(g,n,r){var $=g.getVisual("visualMeta");if(!(!$||!$.length||!g.count())){if(n.type!=="cartesian2d")return;for(var L,V,oe=$.length-1;oe>=0;oe--){var ae=g.getDimensionInfo($[oe].dimension);if(L=ae&&ae.coordDim,L==="x"||L==="y"){V=$[oe];break}}if(!V)return;var re=n.getAxis(L),le=map$1(V.stops,function(Ie){return{coord:re.toGlobalCoord(re.dataToCoord(Ie.value)),color:Ie.color}}),ue=le.length,de=V.outerColors.slice();ue&&le[0].coord>le[ue-1].coord&&(le.reverse(),de.reverse());var he=clipColorStops(le,L==="x"?r.getWidth():r.getHeight()),pe=he.length;if(!pe&&ue)return le[0].coord<0?de[1]?de[1]:le[ue-1].color:de[0]?de[0]:le[0].color;var _e=10,$e=he[0].coord-_e,xe=he[pe-1].coord+_e,Oe=xe-$e;if(Oe<.001)return"transparent";each$f(he,function(Ie){Ie.offset=(Ie.coord-$e)/Oe}),he.push({offset:pe?he[pe-1].offset:.5,color:de[1]||"transparent"}),he.unshift({offset:pe?he[0].offset:.5,color:de[0]||"transparent"});var Ce=new LinearGradient$1(0,0,0,0,he,!0);return Ce[L]=$e,Ce[L+"2"]=xe,Ce}}function getIsIgnoreFunc(g,n,r){var $=g.get("showAllSymbol"),L=$==="auto";if(!($&&!L)){var V=r.getAxesByScale("ordinal")[0];if(!!V&&!(L&&canShowAllSymbolForCategory(V,n))){var oe=n.mapDimension(V.dim),ae={};return each$f(V.getViewLabels(),function(re){var le=V.scale.getRawOrdinalNumber(re.tickValue);ae[le]=1}),function(re){return!ae.hasOwnProperty(n.get(oe,re))}}}}function canShowAllSymbolForCategory(g,n){var r=g.getExtent(),$=Math.abs(r[1]-r[0])/g.scale.count();isNaN($)&&($=0);for(var L=n.count(),V=Math.max(1,Math.round(L/5)),oe=0;oe<L;oe+=V)if(SymbolClz.getSymbolSize(n,oe)[g.isHorizontal()?1:0]*1.5>$)return!1;return!0}function isPointNull(g,n){return isNaN(g)||isNaN(n)}function getLastIndexNotNull(g){for(var n=g.length/2;n>0&&isPointNull(g[n*2-2],g[n*2-1]);n--);return n-1}function getPointAtIndex(g,n){return[g[n*2],g[n*2+1]]}function getIndexRange(g,n,r){for(var $=g.length/2,L=r==="x"?0:1,V,oe,ae=0,re=-1,le=0;le<$;le++)if(oe=g[le*2+L],!(isNaN(oe)||isNaN(g[le*2+1-L]))){if(le===0){V=oe;continue}if(V<=n&&oe>=n||V>=n&&oe<=n){re=le;break}ae=le,V=oe}return{range:[ae,re],t:(n-V)/(oe-V)}}function anyStateShowEndLabel(g){if(g.get(["endLabel","show"]))return!0;for(var n=0;n<SPECIAL_STATES.length;n++)if(g.get([SPECIAL_STATES[n],"endLabel","show"]))return!0;return!1}function createLineClipPath(g,n,r,$){if(isCoordinateSystemType(n,"cartesian2d")){var L=$.getModel("endLabel"),V=L.get("valueAnimation"),oe=$.getData(),ae={lastFrameIndex:0},re=anyStateShowEndLabel($)?function(pe,_e){g._endLabelOnDuring(pe,_e,oe,ae,V,L,n)}:null,le=n.getBaseAxis().isHorizontal(),ue=createGridClipPath(n,r,$,function(){var pe=g._endLabel;pe&&r&&ae.originalX!=null&&pe.attr({x:ae.originalX,y:ae.originalY})},re);if(!$.get("clip",!0)){var de=ue.shape,he=Math.max(de.width,de.height);le?(de.y-=he,de.height+=he*2):(de.x-=he,de.width+=he*2)}return re&&re(1,ue),ue}else return createPolarClipPath(n,r,$)}function getEndLabelStateSpecified(g,n){var r=n.getBaseAxis(),$=r.isHorizontal(),L=r.inverse,V=$?L?"right":"left":"center",oe=$?"middle":L?"top":"bottom";return{normal:{align:g.get("align")||V,verticalAlign:g.get("verticalAlign")||oe}}}var LineView=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.init=function(){var r=new Group$4,$=new SymbolDraw$1;this.group.add($.group),this._symbolDraw=$,this._lineGroup=r},n.prototype.render=function(r,$,L){var V=this,oe=r.coordinateSystem,ae=this.group,re=r.getData(),le=r.getModel("lineStyle"),ue=r.getModel("areaStyle"),de=re.getLayout("points")||[],he=oe.type==="polar",pe=this._coordSys,_e=this._symbolDraw,$e=this._polyline,xe=this._polygon,Oe=this._lineGroup,Ce=r.get("animation"),Ie=!ue.isEmpty(),Ne=ue.get("origin"),ze=prepareDataCoordInfo(oe,re,Ne),Fe=Ie&&getStackedOnPoints(oe,re,ze),Ue=r.get("showSymbol"),At=r.get("connectNulls"),Et=Ue&&!he&&getIsIgnoreFunc(r,re,oe),Pt=this._data;Pt&&Pt.eachItemGraphicEl(function(Un,Dn){Un.__temp&&(ae.remove(Un),Pt.setItemGraphicEl(Dn,null))}),Ue||_e.remove(),ae.add(Oe);var kt=he?!1:r.get("step"),Dt;oe&&oe.getArea&&r.get("clip",!0)&&(Dt=oe.getArea(),Dt.width!=null?(Dt.x-=.1,Dt.y-=.1,Dt.width+=.2,Dt.height+=.2):Dt.r0&&(Dt.r0-=.5,Dt.r+=.5)),this._clipShapeForSymbol=Dt;var Lt=getVisualGradient(re,oe,L)||re.getVisual("style")[re.getVisual("drawType")];if(!($e&&pe.type===oe.type&&kt===this._step))Ue&&_e.updateData(re,{isIgnore:Et,clipShape:Dt,disableAnimation:!0,getSymbolPoint:function(Un){return[de[Un*2],de[Un*2+1]]}}),Ce&&this._initSymbolLabelAnimation(re,oe,Dt),kt&&(de=turnPointsIntoStep(de,oe,kt,At),Fe&&(Fe=turnPointsIntoStep(Fe,oe,kt,At))),$e=this._newPolyline(de),Ie?xe=this._newPolygon(de,Fe):xe&&(Oe.remove(xe),xe=this._polygon=null),he||this._initOrUpdateEndLabel(r,oe,convertToColorString(Lt)),Oe.setClipPath(createLineClipPath(this,oe,!0,r));else{Ie&&!xe?xe=this._newPolygon(de,Fe):xe&&!Ie&&(Oe.remove(xe),xe=this._polygon=null),he||this._initOrUpdateEndLabel(r,oe,convertToColorString(Lt));var hn=Oe.getClipPath();if(hn){var vn=createLineClipPath(this,oe,!1,r);initProps(hn,{shape:vn.shape},r)}else Oe.setClipPath(createLineClipPath(this,oe,!0,r));Ue&&_e.updateData(re,{isIgnore:Et,clipShape:Dt,disableAnimation:!0,getSymbolPoint:function(Un){return[de[Un*2],de[Un*2+1]]}}),(!isPointsSame(this._stackedOnPoints,Fe)||!isPointsSame(this._points,de))&&(Ce?this._doUpdateAnimation(re,Fe,oe,L,kt,Ne,At):(kt&&(de=turnPointsIntoStep(de,oe,kt,At),Fe&&(Fe=turnPointsIntoStep(Fe,oe,kt,At))),$e.setShape({points:de}),xe&&xe.setShape({points:de,stackedOnPoints:Fe})))}var _n=r.getModel("emphasis"),$n=_n.get("focus"),Sn=_n.get("blurScope"),xn=_n.get("disabled");if($e.useStyle(defaults$2(le.getLineStyle(),{fill:"none",stroke:Lt,lineJoin:"bevel"})),setStatesStylesFromModel($e,r,"lineStyle"),$e.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var On=$e.getState("emphasis").style;On.lineWidth=+$e.style.lineWidth+1}getECData($e).seriesIndex=r.seriesIndex,toggleHoverEmphasis($e,$n,Sn,xn);var Cn=getSmooth(r.get("smooth")),An=r.get("smoothMonotone");if($e.setShape({smooth:Cn,smoothMonotone:An,connectNulls:At}),xe){var Rn=re.getCalculationInfo("stackedOnSeries"),Fn=0;xe.useStyle(defaults$2(ue.getAreaStyle(),{fill:Lt,opacity:.7,lineJoin:"bevel",decal:re.getVisual("style").decal})),Rn&&(Fn=getSmooth(Rn.get("smooth"))),xe.setShape({smooth:Cn,stackedOnSmooth:Fn,smoothMonotone:An,connectNulls:At}),setStatesStylesFromModel(xe,r,"areaStyle"),getECData(xe).seriesIndex=r.seriesIndex,toggleHoverEmphasis(xe,$n,Sn,xn)}var Pn=function(Un){V._changePolyState(Un)};re.eachItemGraphicEl(function(Un){Un&&(Un.onHoverStateChange=Pn)}),this._polyline.onHoverStateChange=Pn,this._data=re,this._coordSys=oe,this._stackedOnPoints=Fe,this._points=de,this._step=kt,this._valueOrigin=Ne,r.get("triggerLineEvent")&&(this.packEventData(r,$e),xe&&this.packEventData(r,xe))},n.prototype.packEventData=function(r,$){getECData($).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},n.prototype.highlight=function(r,$,L,V){var oe=r.getData(),ae=queryDataIndex(oe,V);if(this._changePolyState("emphasis"),!(ae instanceof Array)&&ae!=null&&ae>=0){var re=oe.getLayout("points"),le=oe.getItemGraphicEl(ae);if(!le){var ue=re[ae*2],de=re[ae*2+1];if(isNaN(ue)||isNaN(de)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(ue,de))return;var he=r.get("zlevel")||0,pe=r.get("z")||0;le=new SymbolClz(oe,ae),le.x=ue,le.y=de,le.setZ(he,pe);var _e=le.getSymbolPath().getTextContent();_e&&(_e.zlevel=he,_e.z=pe,_e.z2=this._polyline.z2+1),le.__temp=!0,oe.setItemGraphicEl(ae,le),le.stopSymbolAnimation(!0),this.group.add(le)}le.highlight()}else ChartView$1.prototype.highlight.call(this,r,$,L,V)},n.prototype.downplay=function(r,$,L,V){var oe=r.getData(),ae=queryDataIndex(oe,V);if(this._changePolyState("normal"),ae!=null&&ae>=0){var re=oe.getItemGraphicEl(ae);re&&(re.__temp?(oe.setItemGraphicEl(ae,null),this.group.remove(re)):re.downplay())}else ChartView$1.prototype.downplay.call(this,r,$,L,V)},n.prototype._changePolyState=function(r){var $=this._polygon;setStatesFlag(this._polyline,r),$&&setStatesFlag($,r)},n.prototype._newPolyline=function(r){var $=this._polyline;return $&&this._lineGroup.remove($),$=new ECPolyline({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add($),this._polyline=$,$},n.prototype._newPolygon=function(r,$){var L=this._polygon;return L&&this._lineGroup.remove(L),L=new ECPolygon({shape:{points:r,stackedOnPoints:$},segmentIgnoreThreshold:2}),this._lineGroup.add(L),this._polygon=L,L},n.prototype._initSymbolLabelAnimation=function(r,$,L){var V,oe,ae=$.getBaseAxis(),re=ae.inverse;$.type==="cartesian2d"?(V=ae.isHorizontal(),oe=!1):$.type==="polar"&&(V=ae.dim==="angle",oe=!0);var le=r.hostModel,ue=le.get("animationDuration");isFunction$1(ue)&&(ue=ue(null));var de=le.get("animationDelay")||0,he=isFunction$1(de)?de(null):de;r.eachItemGraphicEl(function(pe,_e){var $e=pe;if($e){var xe=[pe.x,pe.y],Oe=void 0,Ce=void 0,Ie=void 0;if(L)if(oe){var Ne=L,ze=$.pointToCoord(xe);V?(Oe=Ne.startAngle,Ce=Ne.endAngle,Ie=-ze[1]/180*Math.PI):(Oe=Ne.r0,Ce=Ne.r,Ie=ze[0])}else{var Fe=L;V?(Oe=Fe.x,Ce=Fe.x+Fe.width,Ie=pe.x):(Oe=Fe.y+Fe.height,Ce=Fe.y,Ie=pe.y)}var Ue=Ce===Oe?0:(Ie-Oe)/(Ce-Oe);re&&(Ue=1-Ue);var At=isFunction$1(de)?de(_e):ue*Ue+he,Et=$e.getSymbolPath(),Pt=Et.getTextContent();$e.attr({scaleX:0,scaleY:0}),$e.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:At}),Pt&&Pt.animateFrom({style:{opacity:0}},{duration:300,delay:At}),Et.disableLabelAnimation=!0}})},n.prototype._initOrUpdateEndLabel=function(r,$,L){var V=r.getModel("endLabel");if(anyStateShowEndLabel(r)){var oe=r.getData(),ae=this._polyline,re=oe.getLayout("points");if(!re){ae.removeTextContent(),this._endLabel=null;return}var le=this._endLabel;le||(le=this._endLabel=new ZRText$1({z2:200}),le.ignoreClip=!0,ae.setTextContent(this._endLabel),ae.disableLabelAnimation=!0);var ue=getLastIndexNotNull(re);ue>=0&&(setLabelStyle(ae,getLabelStatesModels(r,"endLabel"),{inheritColor:L,labelFetcher:r,labelDataIndex:ue,defaultText:function(de,he,pe){return pe!=null?getDefaultInterpolatedLabel(oe,pe):getDefaultLabel(oe,de)},enableTextSetter:!0},getEndLabelStateSpecified(V,$)),ae.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},n.prototype._endLabelOnDuring=function(r,$,L,V,oe,ae,re){var le=this._endLabel,ue=this._polyline;if(le){r<1&&V.originalX==null&&(V.originalX=le.x,V.originalY=le.y);var de=L.getLayout("points"),he=L.hostModel,pe=he.get("connectNulls"),_e=ae.get("precision"),$e=ae.get("distance")||0,xe=re.getBaseAxis(),Oe=xe.isHorizontal(),Ce=xe.inverse,Ie=$.shape,Ne=Ce?Oe?Ie.x:Ie.y+Ie.height:Oe?Ie.x+Ie.width:Ie.y,ze=(Oe?$e:0)*(Ce?-1:1),Fe=(Oe?0:-$e)*(Ce?-1:1),Ue=Oe?"x":"y",At=getIndexRange(de,Ne,Ue),Et=At.range,Pt=Et[1]-Et[0],kt=void 0;if(Pt>=1){if(Pt>1&&!pe){var Dt=getPointAtIndex(de,Et[0]);le.attr({x:Dt[0]+ze,y:Dt[1]+Fe}),oe&&(kt=he.getRawValue(Et[0]))}else{var Dt=ue.getPointOn(Ne,Ue);Dt&&le.attr({x:Dt[0]+ze,y:Dt[1]+Fe});var Lt=he.getRawValue(Et[0]),hn=he.getRawValue(Et[1]);oe&&(kt=interpolateRawValues(L,_e,Lt,hn,At.t))}V.lastFrameIndex=Et[0]}else{var vn=r===1||V.lastFrameIndex>0?Et[0]:0,Dt=getPointAtIndex(de,vn);oe&&(kt=he.getRawValue(vn)),le.attr({x:Dt[0]+ze,y:Dt[1]+Fe})}oe&&labelInner(le).setLabelText(kt)}},n.prototype._doUpdateAnimation=function(r,$,L,V,oe,ae,re){var le=this._polyline,ue=this._polygon,de=r.hostModel,he=lineAnimationDiff(this._data,r,this._stackedOnPoints,$,this._coordSys,L,this._valueOrigin),pe=he.current,_e=he.stackedOnCurrent,$e=he.next,xe=he.stackedOnNext;if(oe&&(pe=turnPointsIntoStep(he.current,L,oe,re),_e=turnPointsIntoStep(he.stackedOnCurrent,L,oe,re),$e=turnPointsIntoStep(he.next,L,oe,re),xe=turnPointsIntoStep(he.stackedOnNext,L,oe,re)),getBoundingDiff(pe,$e)>3e3||ue&&getBoundingDiff(_e,xe)>3e3){le.stopAnimation(),le.setShape({points:$e}),ue&&(ue.stopAnimation(),ue.setShape({points:$e,stackedOnPoints:xe}));return}le.shape.__points=he.current,le.shape.points=pe;var Oe={shape:{points:$e}};he.current!==pe&&(Oe.shape.__points=he.next),le.stopAnimation(),updateProps$1(le,Oe,de),ue&&(ue.setShape({points:pe,stackedOnPoints:_e}),ue.stopAnimation(),updateProps$1(ue,{shape:{stackedOnPoints:xe}},de),le.shape.points!==ue.shape.points&&(ue.shape.points=le.shape.points));for(var Ce=[],Ie=he.status,Ne=0;Ne<Ie.length;Ne++){var ze=Ie[Ne].cmd;if(ze==="="){var Fe=r.getItemGraphicEl(Ie[Ne].idx1);Fe&&Ce.push({el:Fe,ptIdx:Ne})}}le.animators&&le.animators.length&&le.animators[0].during(function(){ue&&ue.dirtyShape();for(var Ue=le.shape.__points,At=0;At<Ce.length;At++){var Et=Ce[At].el,Pt=Ce[At].ptIdx*2;Et.x=Ue[Pt],Et.y=Ue[Pt+1],Et.markRedraw()}})},n.prototype.remove=function(r){var $=this.group,L=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),L&&L.eachItemGraphicEl(function(V,oe){V.__temp&&($.remove(V),L.setItemGraphicEl(oe,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},n.type="line",n}(ChartView$1);const LineView$1=LineView;function pointsLayout(g,n){return{seriesType:g,plan:createRenderPlanner(),reset:function(r){var $=r.getData(),L=r.coordinateSystem,V=r.pipelineContext,oe=n||V.large;if(L){var ae=map$1(L.dimensions,function(pe){return $.mapDimension(pe)}).slice(0,2),re=ae.length,le=$.getCalculationInfo("stackResultDimension");isDimensionStacked($,ae[0])&&(ae[0]=le),isDimensionStacked($,ae[1])&&(ae[1]=le);var ue=$.getStore(),de=$.getDimensionIndex(ae[0]),he=$.getDimensionIndex(ae[1]);return re&&{progress:function(pe,_e){for(var $e=pe.end-pe.start,xe=oe&&createFloat32Array($e*re),Oe=[],Ce=[],Ie=pe.start,Ne=0;Ie<pe.end;Ie++){var ze=void 0;if(re===1){var Fe=ue.get(de,Ie);ze=L.dataToPoint(Fe,null,Ce)}else Oe[0]=ue.get(de,Ie),Oe[1]=ue.get(he,Ie),ze=L.dataToPoint(Oe,null,Ce);oe?(xe[Ne++]=ze[0],xe[Ne++]=ze[1]):_e.setItemLayout(Ie,ze.slice())}oe&&_e.setLayout("points",xe)}}}}}}var samplers={average:function(g){for(var n=0,r=0,$=0;$<g.length;$++)isNaN(g[$])||(n+=g[$],r++);return r===0?NaN:n/r},sum:function(g){for(var n=0,r=0;r<g.length;r++)n+=g[r]||0;return n},max:function(g){for(var n=-1/0,r=0;r<g.length;r++)g[r]>n&&(n=g[r]);return isFinite(n)?n:NaN},min:function(g){for(var n=1/0,r=0;r<g.length;r++)g[r]<n&&(n=g[r]);return isFinite(n)?n:NaN},nearest:function(g){return g[0]}},indexSampler=function(g){return Math.round(g.length/2)};function dataSample(g){return{seriesType:g,reset:function(n,r,$){var L=n.getData(),V=n.get("sampling"),oe=n.coordinateSystem,ae=L.count();if(ae>10&&oe.type==="cartesian2d"&&V){var re=oe.getBaseAxis(),le=oe.getOtherAxis(re),ue=re.getExtent(),de=$.getDevicePixelRatio(),he=Math.abs(ue[1]-ue[0])*(de||1),pe=Math.round(ae/he);if(isFinite(pe)&&pe>1){V==="lttb"&&n.setData(L.lttbDownSample(L.mapDimension(le.dim),1/pe));var _e=void 0;isString$1(V)?_e=samplers[V]:isFunction$1(V)&&(_e=V),_e&&n.setData(L.downSample(L.mapDimension(le.dim),1/pe,_e,indexSampler))}}}}}function install$R(g){g.registerChartView(LineView$1),g.registerSeriesModel(LineSeries),g.registerLayout(pointsLayout("line",!0)),g.registerVisual({seriesType:"line",reset:function(n){var r=n.getData(),$=n.getModel("lineStyle").getLineStyle();$&&!$.stroke&&($.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",$)}}),g.registerProcessor(g.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var BaseBarSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(r,$){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.getMarkerPosition=function(r,$,L){var V=this.coordinateSystem;if(V&&V.clampData){var oe=V.dataToPoint(V.clampData(r));if(L)each$f(V.getAxes(),function(de,he){if(de.type==="category"){var pe=de.getTicksCoords(),_e=V.clampData(r)[he];$&&($[he]==="x1"||$[he]==="y1")&&(_e+=1),_e>pe.length-1&&(_e=pe.length-1),_e<0&&(_e=0),pe[_e]&&(oe[he]=de.toGlobalCoord(pe[_e].coord))}});else{var ae=this.getData(),re=ae.getLayout("offset"),le=ae.getLayout("size"),ue=V.getBaseAxis().isHorizontal()?0:1;oe[ue]+=re+le/2}return oe}return[NaN,NaN]},n.type="series.__base_bar__",n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},n}(SeriesModel$1);SeriesModel$1.registerClass(BaseBarSeriesModel);const BaseBarSeriesModel$1=BaseBarSeriesModel;var BarSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(){return createSeriesData(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},n.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},n.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),$=this.get("largeThreshold");return $>r&&(r=$),r},n.prototype.brushSelector=function(r,$,L){return L.rect($.getItemLayout(r))},n.type="series.bar",n.dependencies=["grid","polar"],n.defaultOption=inheritDefaultOption(BaseBarSeriesModel$1.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),n}(BaseBarSeriesModel$1);const BarSeries=BarSeriesModel;var SausageShape=function(){function g(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return g}(),SausagePath=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="sausage",$}return n.prototype.getDefaultShape=function(){return new SausageShape},n.prototype.buildPath=function(r,$){var L=$.cx,V=$.cy,oe=Math.max($.r0||0,0),ae=Math.max($.r,0),re=(ae-oe)*.5,le=oe+re,ue=$.startAngle,de=$.endAngle,he=$.clockwise,pe=Math.PI*2,_e=he?de-ue<pe:ue-de<pe;_e||(ue=de-(he?pe:-pe));var $e=Math.cos(ue),xe=Math.sin(ue),Oe=Math.cos(de),Ce=Math.sin(de);_e?(r.moveTo($e*oe+L,xe*oe+V),r.arc($e*le+L,xe*le+V,re,-Math.PI+ue,ue,!he)):r.moveTo($e*ae+L,xe*ae+V),r.arc(L,V,ae,ue,de,!he),r.arc(Oe*le+L,Ce*le+V,re,de-Math.PI*2,de-Math.PI,!he),oe!==0&&r.arc(L,V,oe,de,ue,he)},n}(Path$1);const Sausage=SausagePath;function createSectorCalculateTextPosition(g,n){n=n||{};var r=n.isRoundCap;return function($,L,V){var oe=L.position;if(!oe||oe instanceof Array)return calculateTextPosition($,L,V);var ae=g(oe),re=L.distance!=null?L.distance:5,le=this.shape,ue=le.cx,de=le.cy,he=le.r,pe=le.r0,_e=(he+pe)/2,$e=le.startAngle,xe=le.endAngle,Oe=($e+xe)/2,Ce=r?Math.abs(he-pe)/2:0,Ie=Math.cos,Ne=Math.sin,ze=ue+he*Ie($e),Fe=de+he*Ne($e),Ue="left",At="top";switch(ae){case"startArc":ze=ue+(pe-re)*Ie(Oe),Fe=de+(pe-re)*Ne(Oe),Ue="center",At="top";break;case"insideStartArc":ze=ue+(pe+re)*Ie(Oe),Fe=de+(pe+re)*Ne(Oe),Ue="center",At="bottom";break;case"startAngle":ze=ue+_e*Ie($e)+adjustAngleDistanceX($e,re+Ce,!1),Fe=de+_e*Ne($e)+adjustAngleDistanceY($e,re+Ce,!1),Ue="right",At="middle";break;case"insideStartAngle":ze=ue+_e*Ie($e)+adjustAngleDistanceX($e,-re+Ce,!1),Fe=de+_e*Ne($e)+adjustAngleDistanceY($e,-re+Ce,!1),Ue="left",At="middle";break;case"middle":ze=ue+_e*Ie(Oe),Fe=de+_e*Ne(Oe),Ue="center",At="middle";break;case"endArc":ze=ue+(he+re)*Ie(Oe),Fe=de+(he+re)*Ne(Oe),Ue="center",At="bottom";break;case"insideEndArc":ze=ue+(he-re)*Ie(Oe),Fe=de+(he-re)*Ne(Oe),Ue="center",At="top";break;case"endAngle":ze=ue+_e*Ie(xe)+adjustAngleDistanceX(xe,re+Ce,!0),Fe=de+_e*Ne(xe)+adjustAngleDistanceY(xe,re+Ce,!0),Ue="left",At="middle";break;case"insideEndAngle":ze=ue+_e*Ie(xe)+adjustAngleDistanceX(xe,-re+Ce,!0),Fe=de+_e*Ne(xe)+adjustAngleDistanceY(xe,-re+Ce,!0),Ue="right",At="middle";break;default:return calculateTextPosition($,L,V)}return $=$||{},$.x=ze,$.y=Fe,$.align=Ue,$.verticalAlign=At,$}}function setSectorTextRotation(g,n,r,$){if(isNumber$1($)){g.setTextConfig({rotation:$});return}else if(isArray$2(n)){g.setTextConfig({rotation:0});return}var L=g.shape,V=L.clockwise?L.startAngle:L.endAngle,oe=L.clockwise?L.endAngle:L.startAngle,ae=(V+oe)/2,re,le=r(n);switch(le){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":re=ae;break;case"startAngle":case"insideStartAngle":re=V;break;case"endAngle":case"insideEndAngle":re=oe;break;default:g.setTextConfig({rotation:0});return}var ue=Math.PI*1.5-re;le==="middle"&&ue>Math.PI/2&&ue<Math.PI*1.5&&(ue-=Math.PI),g.setTextConfig({rotation:ue})}function adjustAngleDistanceX(g,n,r){return n*Math.sin(g)*(r?-1:1)}function adjustAngleDistanceY(g,n,r){return n*Math.cos(g)*(r?1:-1)}var mathMax$4=Math.max,mathMin$4=Math.min;function getClipArea(g,n){var r=g.getArea&&g.getArea();if(isCoordinateSystemType(g,"cartesian2d")){var $=g.getBaseAxis();if($.type!=="category"||!$.onBand){var L=n.getLayout("bandWidth");$.isHorizontal()?(r.x-=L,r.width+=L*2):(r.y-=L,r.height+=L*2)}}return r}var BarView=function(g){__extends(n,g);function n(){var r=g.call(this)||this;return r.type=n.type,r._isFirstFrame=!0,r}return n.prototype.render=function(r,$,L,V){this._model=r,this._removeOnRenderedListener(L),this._updateDrawMode(r);var oe=r.get("coordinateSystem");(oe==="cartesian2d"||oe==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,$,L):this._renderNormal(r,$,L,V))},n.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},n.prototype.incrementalRender=function(r,$){this._progressiveEls=[],this._incrementalRenderLarge(r,$)},n.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},n.prototype._updateDrawMode=function(r){var $=r.pipelineContext.large;(this._isLargeDraw==null||$!==this._isLargeDraw)&&(this._isLargeDraw=$,this._clear())},n.prototype._renderNormal=function(r,$,L,V){var oe=this.group,ae=r.getData(),re=this._data,le=r.coordinateSystem,ue=le.getBaseAxis(),de;le.type==="cartesian2d"?de=ue.isHorizontal():le.type==="polar"&&(de=ue.dim==="angle");var he=r.isAnimationEnabled()?r:null,pe=shouldRealtimeSort(r,le);pe&&this._enableRealtimeSort(pe,ae,L);var _e=r.get("clip",!0)||pe,$e=getClipArea(le,ae);oe.removeClipPath();var xe=r.get("roundCap",!0),Oe=r.get("showBackground",!0),Ce=r.getModel("backgroundStyle"),Ie=Ce.get("borderRadius")||0,Ne=[],ze=this._backgroundEls,Fe=V&&V.isInitSort,Ue=V&&V.type==="changeAxisOrder";function At(kt){var Dt=getLayout[le.type](ae,kt),Lt=createBackgroundEl(le,de,Dt);return Lt.useStyle(Ce.getItemStyle()),le.type==="cartesian2d"&&Lt.setShape("r",Ie),Ne[kt]=Lt,Lt}ae.diff(re).add(function(kt){var Dt=ae.getItemModel(kt),Lt=getLayout[le.type](ae,kt,Dt);if(Oe&&At(kt),!(!ae.hasValue(kt)||!isValidLayout[le.type](Lt))){var hn=!1;_e&&(hn=clip[le.type]($e,Lt));var vn=elementCreator[le.type](r,ae,kt,Lt,de,he,ue.model,!1,xe);pe&&(vn.forceLabelAnimation=!0),updateStyle(vn,ae,kt,Dt,Lt,r,de,le.type==="polar"),Fe?vn.attr({shape:Lt}):pe?updateRealtimeAnimation(pe,he,vn,Lt,kt,de,!1,!1):initProps(vn,{shape:Lt},r,kt),ae.setItemGraphicEl(kt,vn),oe.add(vn),vn.ignore=hn}}).update(function(kt,Dt){var Lt=ae.getItemModel(kt),hn=getLayout[le.type](ae,kt,Lt);if(Oe){var vn=void 0;ze.length===0?vn=At(Dt):(vn=ze[Dt],vn.useStyle(Ce.getItemStyle()),le.type==="cartesian2d"&&vn.setShape("r",Ie),Ne[kt]=vn);var _n=getLayout[le.type](ae,kt),$n=createBackgroundShape(de,_n,le);updateProps$1(vn,{shape:$n},he,kt)}var Sn=re.getItemGraphicEl(Dt);if(!ae.hasValue(kt)||!isValidLayout[le.type](hn)){oe.remove(Sn);return}var xn=!1;if(_e&&(xn=clip[le.type]($e,hn),xn&&oe.remove(Sn)),Sn?saveOldStyle(Sn):Sn=elementCreator[le.type](r,ae,kt,hn,de,he,ue.model,!!Sn,xe),pe&&(Sn.forceLabelAnimation=!0),Ue){var On=Sn.getTextContent();if(On){var Cn=labelInner(On);Cn.prevValue!=null&&(Cn.prevValue=Cn.value)}}else updateStyle(Sn,ae,kt,Lt,hn,r,de,le.type==="polar");Fe?Sn.attr({shape:hn}):pe?updateRealtimeAnimation(pe,he,Sn,hn,kt,de,!0,Ue):updateProps$1(Sn,{shape:hn},r,kt,null),ae.setItemGraphicEl(kt,Sn),Sn.ignore=xn,oe.add(Sn)}).remove(function(kt){var Dt=re.getItemGraphicEl(kt);Dt&&removeElementWithFadeOut(Dt,r,kt)}).execute();var Et=this._backgroundGroup||(this._backgroundGroup=new Group$4);Et.removeAll();for(var Pt=0;Pt<Ne.length;++Pt)Et.add(Ne[Pt]);oe.add(Et),this._backgroundEls=Ne,this._data=ae},n.prototype._renderLarge=function(r,$,L){this._clear(),createLarge$1(r,this.group),this._updateLargeClip(r)},n.prototype._incrementalRenderLarge=function(r,$){this._removeBackground(),createLarge$1($,this.group,this._progressiveEls,!0)},n.prototype._updateLargeClip=function(r){var $=r.get("clip",!0)&&createClipPath(r.coordinateSystem,!1,r),L=this.group;$?L.setClipPath($):L.removeClipPath()},n.prototype._enableRealtimeSort=function(r,$,L){var V=this;if($.count()){var oe=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort($,r,L),this._isFirstFrame=!1;else{var ae=function(re){var le=$.getItemGraphicEl(re),ue=le&&le.shape;return ue&&Math.abs(oe.isHorizontal()?ue.height:ue.width)||0};this._onRendered=function(){V._updateSortWithinSameData($,ae,oe,L)},L.getZr().on("rendered",this._onRendered)}}},n.prototype._dataSort=function(r,$,L){var V=[];return r.each(r.mapDimension($.dim),function(oe,ae){var re=L(ae);re=re!=null?re:NaN,V.push({dataIndex:ae,mappedValue:re,ordinalNumber:oe})}),V.sort(function(oe,ae){return ae.mappedValue-oe.mappedValue}),{ordinalNumbers:map$1(V,function(oe){return oe.ordinalNumber})}},n.prototype._isOrderChangedWithinSameData=function(r,$,L){for(var V=L.scale,oe=r.mapDimension(L.dim),ae=Number.MAX_VALUE,re=0,le=V.getOrdinalMeta().categories.length;re<le;++re){var ue=r.rawIndexOf(oe,V.getRawOrdinalNumber(re)),de=ue<0?Number.MIN_VALUE:$(r.indexOfRawIndex(ue));if(de>ae)return!0;ae=de}return!1},n.prototype._isOrderDifferentInView=function(r,$){for(var L=$.scale,V=L.getExtent(),oe=Math.max(0,V[0]),ae=Math.min(V[1],L.getOrdinalMeta().categories.length-1);oe<=ae;++oe)if(r.ordinalNumbers[oe]!==L.getRawOrdinalNumber(oe))return!0},n.prototype._updateSortWithinSameData=function(r,$,L,V){if(this._isOrderChangedWithinSameData(r,$,L)){var oe=this._dataSort(r,L,$);this._isOrderDifferentInView(oe,L)&&(this._removeOnRenderedListener(V),V.dispatchAction({type:"changeAxisOrder",componentType:L.dim+"Axis",axisId:L.index,sortInfo:oe}))}},n.prototype._dispatchInitSort=function(r,$,L){var V=$.baseAxis,oe=this._dataSort(r,V,function(ae){return r.get(r.mapDimension($.otherAxis.dim),ae)});L.dispatchAction({type:"changeAxisOrder",componentType:V.dim+"Axis",isInitSort:!0,axisId:V.index,sortInfo:oe})},n.prototype.remove=function(r,$){this._clear(this._model),this._removeOnRenderedListener($)},n.prototype.dispose=function(r,$){this._removeOnRenderedListener($)},n.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},n.prototype._clear=function(r){var $=this.group,L=this._data;r&&r.isAnimationEnabled()&&L&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],L.eachItemGraphicEl(function(V){removeElementWithFadeOut(V,r,getECData(V).dataIndex)})):$.removeAll(),this._data=null,this._isFirstFrame=!0},n.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},n.type="bar",n}(ChartView$1),clip={cartesian2d:function(g,n){var r=n.width<0?-1:1,$=n.height<0?-1:1;r<0&&(n.x+=n.width,n.width=-n.width),$<0&&(n.y+=n.height,n.height=-n.height);var L=g.x+g.width,V=g.y+g.height,oe=mathMax$4(n.x,g.x),ae=mathMin$4(n.x+n.width,L),re=mathMax$4(n.y,g.y),le=mathMin$4(n.y+n.height,V),ue=ae<oe,de=le<re;return n.x=ue&&oe>L?ae:oe,n.y=de&&re>V?le:re,n.width=ue?0:ae-oe,n.height=de?0:le-re,r<0&&(n.x+=n.width,n.width=-n.width),$<0&&(n.y+=n.height,n.height=-n.height),ue||de},polar:function(g,n){var r=n.r0<=n.r?1:-1;if(r<0){var $=n.r;n.r=n.r0,n.r0=$}var L=mathMin$4(n.r,g.r),V=mathMax$4(n.r0,g.r0);n.r=L,n.r0=V;var oe=L-V<0;if(r<0){var $=n.r;n.r=n.r0,n.r0=$}return oe}},elementCreator={cartesian2d:function(g,n,r,$,L,V,oe,ae,re){var le=new Rect$3({shape:extend$1({},$),z2:1});if(le.__dataIndex=r,le.name="item",V){var ue=le.shape,de=L?"height":"width";ue[de]=0}return le},polar:function(g,n,r,$,L,V,oe,ae,re){var le=!L&&re?Sausage:Sector$1,ue=new le({shape:$,z2:1});ue.name="item";var de=createPolarPositionMapping(L);if(ue.calculateTextPosition=createSectorCalculateTextPosition(de,{isRoundCap:le===Sausage}),V){var he=ue.shape,pe=L?"r":"endAngle",_e={};he[pe]=L?0:$.startAngle,_e[pe]=$[pe],(ae?updateProps$1:initProps)(ue,{shape:_e},V)}return ue}};function shouldRealtimeSort(g,n){var r=g.get("realtimeSort",!0),$=n.getBaseAxis();if(r&&$.type==="category"&&n.type==="cartesian2d")return{baseAxis:$,otherAxis:n.getOtherAxis($)}}function updateRealtimeAnimation(g,n,r,$,L,V,oe,ae){var re,le;V?(le={x:$.x,width:$.width},re={y:$.y,height:$.height}):(le={y:$.y,height:$.height},re={x:$.x,width:$.width}),ae||(oe?updateProps$1:initProps)(r,{shape:re},n,L,null);var ue=n?g.baseAxis.model:null;(oe?updateProps$1:initProps)(r,{shape:le},ue,L)}function checkPropertiesNotValid(g,n){for(var r=0;r<n.length;r++)if(!isFinite(g[n[r]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(g){return!checkPropertiesNotValid(g,rectPropties)},polar:function(g){return!checkPropertiesNotValid(g,polarPropties)}},getLayout={cartesian2d:function(g,n,r){var $=g.getItemLayout(n),L=r?getLineWidth(r,$):0,V=$.width>0?1:-1,oe=$.height>0?1:-1;return{x:$.x+V*L/2,y:$.y+oe*L/2,width:$.width-V*L,height:$.height-oe*L}},polar:function(g,n,r){var $=g.getItemLayout(n);return{cx:$.cx,cy:$.cy,r0:$.r0,r:$.r,startAngle:$.startAngle,endAngle:$.endAngle,clockwise:$.clockwise}}};function isZeroOnPolar(g){return g.startAngle!=null&&g.endAngle!=null&&g.startAngle===g.endAngle}function createPolarPositionMapping(g){return function(n){var r=n?"Arc":"Angle";return function($){switch($){case"start":case"insideStart":case"end":case"insideEnd":return $+r;default:return $}}}(g)}function updateStyle(g,n,r,$,L,V,oe,ae){var re=n.getItemVisual(r,"style");ae||g.setShape("r",$.get(["itemStyle","borderRadius"])||0),g.useStyle(re);var le=$.getShallow("cursor");le&&g.attr("cursor",le);var ue=ae?oe?L.r>=L.r0?"endArc":"startArc":L.endAngle>=L.startAngle?"endAngle":"startAngle":oe?L.height>=0?"bottom":"top":L.width>=0?"right":"left",de=getLabelStatesModels($);setLabelStyle(g,de,{labelFetcher:V,labelDataIndex:r,defaultText:getDefaultLabel(V.getData(),r),inheritColor:re.fill,defaultOpacity:re.opacity,defaultOutsidePosition:ue});var he=g.getTextContent();if(ae&&he){var pe=$.get(["label","position"]);g.textConfig.inside=pe==="middle"?!0:null,setSectorTextRotation(g,pe==="outside"?ue:pe,createPolarPositionMapping(oe),$.get(["label","rotate"]))}setLabelValueAnimation(he,de,V.getRawValue(r),function($e){return getDefaultInterpolatedLabel(n,$e)});var _e=$.getModel(["emphasis"]);toggleHoverEmphasis(g,_e.get("focus"),_e.get("blurScope"),_e.get("disabled")),setStatesStylesFromModel(g,$),isZeroOnPolar(L)&&(g.style.fill="none",g.style.stroke="none",each$f(g.states,function($e){$e.style&&($e.style.fill=$e.style.stroke="none")}))}function getLineWidth(g,n){var r=g.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var $=g.get(["itemStyle","borderWidth"])||0,L=isNaN(n.width)?Number.MAX_VALUE:Math.abs(n.width),V=isNaN(n.height)?Number.MAX_VALUE:Math.abs(n.height);return Math.min($,L,V)}var LagePathShape=function(){function g(){}return g}(),LargePath=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="largeBar",$}return n.prototype.getDefaultShape=function(){return new LagePathShape},n.prototype.buildPath=function(r,$){for(var L=$.points,V=this.baseDimIdx,oe=1-this.baseDimIdx,ae=[],re=[],le=this.barWidth,ue=0;ue<L.length;ue+=3)re[V]=le,re[oe]=L[ue+2],ae[V]=L[ue+V],ae[oe]=L[ue+oe],r.rect(ae[0],ae[1],re[0],re[1])},n}(Path$1);function createLarge$1(g,n,r,$){var L=g.getData(),V=L.getLayout("valueAxisHorizontal")?1:0,oe=L.getLayout("largeDataIndices"),ae=L.getLayout("size"),re=g.getModel("backgroundStyle"),le=L.getLayout("largeBackgroundPoints");if(le){var ue=new LargePath({shape:{points:le},incremental:!!$,silent:!0,z2:0});ue.baseDimIdx=V,ue.largeDataIndices=oe,ue.barWidth=ae,ue.useStyle(re.getItemStyle()),n.add(ue),r&&r.push(ue)}var de=new LargePath({shape:{points:L.getLayout("largePoints")},incremental:!!$,ignoreCoarsePointer:!0,z2:1});de.baseDimIdx=V,de.largeDataIndices=oe,de.barWidth=ae,n.add(de),de.useStyle(L.getVisual("style")),getECData(de).seriesIndex=g.seriesIndex,g.get("silent")||(de.on("mousedown",largePathUpdateDataIndex),de.on("mousemove",largePathUpdateDataIndex)),r&&r.push(de)}var largePathUpdateDataIndex=throttle(function(g){var n=this,r=largePathFindDataIndex(n,g.offsetX,g.offsetY);getECData(n).dataIndex=r>=0?r:null},30,!1);function largePathFindDataIndex(g,n,r){for(var $=g.baseDimIdx,L=1-$,V=g.shape.points,oe=g.largeDataIndices,ae=[],re=[],le=g.barWidth,ue=0,de=V.length/3;ue<de;ue++){var he=ue*3;if(re[$]=le,re[L]=V[he+2],ae[$]=V[he+$],ae[L]=V[he+L],re[L]<0&&(ae[L]+=re[L],re[L]=-re[L]),n>=ae[0]&&n<=ae[0]+re[0]&&r>=ae[1]&&r<=ae[1]+re[1])return oe[ue]}return-1}function createBackgroundShape(g,n,r){if(isCoordinateSystemType(r,"cartesian2d")){var $=n,L=r.getArea();return{x:g?$.x:L.x,y:g?L.y:$.y,width:g?$.width:L.width,height:g?L.height:$.height}}else{var L=r.getArea(),V=n;return{cx:L.cx,cy:L.cy,r0:g?L.r0:V.r0,r:g?L.r:V.r,startAngle:g?V.startAngle:0,endAngle:g?V.endAngle:Math.PI*2}}}function createBackgroundEl(g,n,r){var $=g.type==="polar"?Sector$1:Rect$3;return new $({shape:createBackgroundShape(n,r,g),silent:!0,z2:0})}const BarView$1=BarView;function install$Q(g){g.registerChartView(BarView$1),g.registerSeriesModel(BarSeries),g.registerLayout(g.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"bar")),g.registerLayout(g.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("bar")),g.registerProcessor(g.PRIORITY.PROCESSOR.STATISTIC,dataSample("bar")),g.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(n,r){var $=n.componentType||"series";r.eachComponent({mainType:$,query:n},function(L){n.sortInfo&&L.axis.setCategorySortInfo(n.sortInfo)})})}var PI2=Math.PI*2,RADIAN$2=Math.PI/180;function getViewRect$5(g,n){return getLayoutRect(g.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getBasicPieLayout(g,n){var r=getViewRect$5(g,n),$=g.get("center"),L=g.get("radius");isArray$2(L)||(L=[0,L]);var V=parsePercent(r.width,n.getWidth()),oe=parsePercent(r.height,n.getHeight()),ae=Math.min(V,oe),re=parsePercent(L[0],ae/2),le=parsePercent(L[1],ae/2),ue,de,he=g.coordinateSystem;if(he){var pe=he.dataToPoint($);ue=pe[0]||0,de=pe[1]||0}else isArray$2($)||($=[$,$]),ue=parsePercent($[0],V)+r.x,de=parsePercent($[1],oe)+r.y;return{cx:ue,cy:de,r0:re,r:le}}function pieLayout(g,n,r){n.eachSeriesByType(g,function($){var L=$.getData(),V=L.mapDimension("value"),oe=getViewRect$5($,r),ae=getBasicPieLayout($,r),re=ae.cx,le=ae.cy,ue=ae.r,de=ae.r0,he=-$.get("startAngle")*RADIAN$2,pe=$.get("minAngle")*RADIAN$2,_e=0;L.each(V,function(Pt){!isNaN(Pt)&&_e++});var $e=L.getSum(V),xe=Math.PI/($e||_e)*2,Oe=$.get("clockwise"),Ce=$.get("roseType"),Ie=$.get("stillShowZeroSum"),Ne=L.getDataExtent(V);Ne[0]=0;var ze=PI2,Fe=0,Ue=he,At=Oe?1:-1;if(L.setLayout({viewRect:oe,r:ue}),L.each(V,function(Pt,kt){var Dt;if(isNaN(Pt)){L.setItemLayout(kt,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:Oe,cx:re,cy:le,r0:de,r:Ce?NaN:ue});return}Ce!=="area"?Dt=$e===0&&Ie?xe:Pt*xe:Dt=PI2/_e,Dt<pe?(Dt=pe,ze-=pe):Fe+=Pt;var Lt=Ue+At*Dt;L.setItemLayout(kt,{angle:Dt,startAngle:Ue,endAngle:Lt,clockwise:Oe,cx:re,cy:le,r0:de,r:Ce?linearMap$2(Pt,Ne,[de,ue]):ue}),Ue=Lt}),ze<PI2&&_e)if(ze<=.001){var Et=PI2/_e;L.each(V,function(Pt,kt){if(!isNaN(Pt)){var Dt=L.getItemLayout(kt);Dt.angle=Et,Dt.startAngle=he+At*kt*Et,Dt.endAngle=he+At*(kt+1)*Et}})}else xe=ze/Fe,Ue=he,L.each(V,function(Pt,kt){if(!isNaN(Pt)){var Dt=L.getItemLayout(kt),Lt=Dt.angle===pe?pe:Pt*xe;Dt.startAngle=Ue,Dt.endAngle=Ue+At*Lt,Ue+=At*Lt}})})}function dataFilter$1(g){return{seriesType:g,reset:function(n,r){var $=r.findComponents({mainType:"legend"});if(!(!$||!$.length)){var L=n.getData();L.filterSelf(function(V){for(var oe=L.getName(V),ae=0;ae<$.length;ae++)if(!$[ae].isSelected(oe))return!1;return!0})}}}}var RADIAN$1=Math.PI/180;function adjustSingleSide(g,n,r,$,L,V,oe,ae,re,le){if(g.length<2)return;function ue($e){for(var xe=$e.rB,Oe=xe*xe,Ce=0;Ce<$e.list.length;Ce++){var Ie=$e.list[Ce],Ne=Math.abs(Ie.label.y-r),ze=$+Ie.len,Fe=ze*ze,Ue=Math.sqrt((1-Math.abs(Ne*Ne/Oe))*Fe),At=n+(Ue+Ie.len2)*L,Et=At-Ie.label.x,Pt=Ie.targetTextWidth-Et*L;constrainTextWidth(Ie,Pt,!0),Ie.label.x=At}}function de($e){for(var xe={list:[],maxY:0},Oe={list:[],maxY:0},Ce=0;Ce<$e.length;Ce++)if($e[Ce].labelAlignTo==="none"){var Ie=$e[Ce],Ne=Ie.label.y>r?Oe:xe,ze=Math.abs(Ie.label.y-r);if(ze>=Ne.maxY){var Fe=Ie.label.x-n-Ie.len2*L,Ue=$+Ie.len,At=Math.abs(Fe)<Ue?Math.sqrt(ze*ze/(1-Fe*Fe/Ue/Ue)):Ue;Ne.rB=At,Ne.maxY=ze}Ne.list.push(Ie)}ue(xe),ue(Oe)}for(var he=g.length,pe=0;pe<he;pe++)if(g[pe].position==="outer"&&g[pe].labelAlignTo==="labelLine"){var _e=g[pe].label.x-le;g[pe].linePoints[1][0]+=_e,g[pe].label.x=le}shiftLayoutOnY(g,re,re+oe)&&de(g)}function avoidOverlap(g,n,r,$,L,V,oe,ae){for(var re=[],le=[],ue=Number.MAX_VALUE,de=-Number.MAX_VALUE,he=0;he<g.length;he++){var pe=g[he].label;isPositionCenter(g[he])||(pe.x<n?(ue=Math.min(ue,pe.x),re.push(g[he])):(de=Math.max(de,pe.x),le.push(g[he])))}for(var he=0;he<g.length;he++){var _e=g[he];if(!isPositionCenter(_e)&&_e.linePoints){if(_e.labelStyleWidth!=null)continue;var pe=_e.label,$e=_e.linePoints,xe=void 0;_e.labelAlignTo==="edge"?pe.x<n?xe=$e[2][0]-_e.labelDistance-oe-_e.edgeDistance:xe=oe+L-_e.edgeDistance-$e[2][0]-_e.labelDistance:_e.labelAlignTo==="labelLine"?pe.x<n?xe=ue-oe-_e.bleedMargin:xe=oe+L-de-_e.bleedMargin:pe.x<n?xe=pe.x-oe-_e.bleedMargin:xe=oe+L-pe.x-_e.bleedMargin,_e.targetTextWidth=xe,constrainTextWidth(_e,xe)}}adjustSingleSide(le,n,r,$,1,L,V,oe,ae,de),adjustSingleSide(re,n,r,$,-1,L,V,oe,ae,ue);for(var he=0;he<g.length;he++){var _e=g[he];if(!isPositionCenter(_e)&&_e.linePoints){var pe=_e.label,$e=_e.linePoints,Oe=_e.labelAlignTo==="edge",Ce=pe.style.padding,Ie=Ce?Ce[1]+Ce[3]:0,Ne=pe.style.backgroundColor?0:Ie,ze=_e.rect.width+Ne,Fe=$e[1][0]-$e[2][0];Oe?pe.x<n?$e[2][0]=oe+_e.edgeDistance+ze+_e.labelDistance:$e[2][0]=oe+L-_e.edgeDistance-ze-_e.labelDistance:(pe.x<n?$e[2][0]=pe.x+_e.labelDistance:$e[2][0]=pe.x-_e.labelDistance,$e[1][0]=$e[2][0]+Fe),$e[1][1]=$e[2][1]=pe.y}}}function constrainTextWidth(g,n,r){if(r===void 0&&(r=!1),g.labelStyleWidth==null){var $=g.label,L=$.style,V=g.rect,oe=L.backgroundColor,ae=L.padding,re=ae?ae[1]+ae[3]:0,le=L.overflow,ue=V.width+(oe?0:re);if(n<ue||r){var de=V.height;if(le&&le.match("break")){$.setStyle("backgroundColor",null),$.setStyle("width",n-re);var he=$.getBoundingRect();$.setStyle("width",Math.ceil(he.width)),$.setStyle("backgroundColor",oe)}else{var pe=n-re,_e=n<ue?pe:r?pe>g.unconstrainedWidth?null:pe:null;$.setStyle("width",_e)}var $e=$.getBoundingRect();V.width=$e.width;var xe=($.style.margin||0)+2.1;V.height=$e.height+xe,V.y-=(V.height-de)/2}}}function isPositionCenter(g){return g.position==="center"}function pieLabelLayout(g){var n=g.getData(),r=[],$,L,V=!1,oe=(g.get("minShowLabelAngle")||0)*RADIAN$1,ae=n.getLayout("viewRect"),re=n.getLayout("r"),le=ae.width,ue=ae.x,de=ae.y,he=ae.height;function pe(Fe){Fe.ignore=!0}function _e(Fe){if(!Fe.ignore)return!0;for(var Ue in Fe.states)if(Fe.states[Ue].ignore===!1)return!0;return!1}n.each(function(Fe){var Ue=n.getItemGraphicEl(Fe),At=Ue.shape,Et=Ue.getTextContent(),Pt=Ue.getTextGuideLine(),kt=n.getItemModel(Fe),Dt=kt.getModel("label"),Lt=Dt.get("position")||kt.get(["emphasis","label","position"]),hn=Dt.get("distanceToLabelLine"),vn=Dt.get("alignTo"),_n=parsePercent(Dt.get("edgeDistance"),le),$n=Dt.get("bleedMargin"),Sn=kt.getModel("labelLine"),xn=Sn.get("length");xn=parsePercent(xn,le);var On=Sn.get("length2");if(On=parsePercent(On,le),Math.abs(At.endAngle-At.startAngle)<oe){each$f(Et.states,pe),Et.ignore=!0,Pt&&(each$f(Pt.states,pe),Pt.ignore=!0);return}if(_e(Et)){var Cn=(At.startAngle+At.endAngle)/2,An=Math.cos(Cn),Rn=Math.sin(Cn),Fn,Pn,Un,Dn;$=At.cx,L=At.cy;var kn=Lt==="inside"||Lt==="inner";if(Lt==="center")Fn=At.cx,Pn=At.cy,Dn="center";else{var Nn=(kn?(At.r+At.r0)/2*An:At.r*An)+$,Vn=(kn?(At.r+At.r0)/2*Rn:At.r*Rn)+L;if(Fn=Nn+An*3,Pn=Vn+Rn*3,!kn){var Ln=Nn+An*(xn+re-At.r),Tn=Vn+Rn*(xn+re-At.r),In=Ln+(An<0?-1:1)*On,Bn=Tn;vn==="edge"?Fn=An<0?ue+_n:ue+le-_n:Fn=In+(An<0?-hn:hn),Pn=Bn,Un=[[Nn,Vn],[Ln,Tn],[In,Bn]]}Dn=kn?"center":vn==="edge"?An>0?"right":"left":An>0?"left":"right"}var Qn=Math.PI,Zn=0,Kn=Dt.get("rotate");if(isNumber$1(Kn))Zn=Kn*(Qn/180);else if(Lt==="center")Zn=0;else if(Kn==="radial"||Kn===!0){var ui=An<0?-Cn+Qn:-Cn;Zn=ui}else if(Kn==="tangential"&&Lt!=="outside"&&Lt!=="outer"){var ei=Math.atan2(An,Rn);ei<0&&(ei=Qn*2+ei);var si=Rn>0;si&&(ei=Qn+ei),Zn=ei-Qn}if(V=!!Zn,Et.x=Fn,Et.y=Pn,Et.rotation=Zn,Et.setStyle({verticalAlign:"middle"}),kn){Et.setStyle({align:Dn});var ti=Et.states.select;ti&&(ti.x+=Et.x,ti.y+=Et.y)}else{var Jn=Et.getBoundingRect().clone();Jn.applyTransform(Et.getComputedTransform());var di=(Et.style.margin||0)+2.1;Jn.y-=di/2,Jn.height+=di,r.push({label:Et,labelLine:Pt,position:Lt,len:xn,len2:On,minTurnAngle:Sn.get("minTurnAngle"),maxSurfaceAngle:Sn.get("maxSurfaceAngle"),surfaceNormal:new Point$1(An,Rn),linePoints:Un,textAlign:Dn,labelDistance:hn,labelAlignTo:vn,edgeDistance:_n,bleedMargin:$n,rect:Jn,unconstrainedWidth:Jn.width,labelStyleWidth:Et.style.width})}Ue.setTextConfig({inside:kn})}}),!V&&g.get("avoidLabelOverlap")&&avoidOverlap(r,$,L,re,le,he,ue,de);for(var $e=0;$e<r.length;$e++){var xe=r[$e],Oe=xe.label,Ce=xe.labelLine,Ie=isNaN(Oe.x)||isNaN(Oe.y);if(Oe){Oe.setStyle({align:xe.textAlign}),Ie&&(each$f(Oe.states,pe),Oe.ignore=!0);var Ne=Oe.states.select;Ne&&(Ne.x+=Oe.x,Ne.y+=Oe.y)}if(Ce){var ze=xe.linePoints;Ie||!ze?(each$f(Ce.states,pe),Ce.ignore=!0):(limitTurnAngle(ze,xe.minTurnAngle),limitSurfaceAngle(ze,xe.surfaceNormal,xe.maxSurfaceAngle),Ce.setShape({points:ze}),Oe.__hostTarget.textGuideLineConfig={anchor:new Point$1(ze[0][0],ze[0][1])})}}}function getSectorCornerRadius(g,n,r){var $=g.get("borderRadius");if($==null)return r?{cornerRadius:0}:null;isArray$2($)||($=[$,$,$,$]);var L=Math.abs(n.r||0-n.r0||0);return{cornerRadius:map$1($,function(V){return parsePercent$1(V,L)})}}var PiePiece=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this)||this;V.z2=2;var oe=new ZRText$1;return V.setTextContent(oe),V.updateData(r,$,L,!0),V}return n.prototype.updateData=function(r,$,L,V){var oe=this,ae=r.hostModel,re=r.getItemModel($),le=re.getModel("emphasis"),ue=r.getItemLayout($),de=extend$1(getSectorCornerRadius(re.getModel("itemStyle"),ue,!0),ue);if(isNaN(de.startAngle)){oe.setShape(de);return}if(V){oe.setShape(de);var he=ae.getShallow("animationType");ae.ecModel.ssr?(initProps(oe,{scaleX:0,scaleY:0},ae,{dataIndex:$,isFrom:!0}),oe.originX=de.cx,oe.originY=de.cy):he==="scale"?(oe.shape.r=ue.r0,initProps(oe,{shape:{r:ue.r}},ae,$)):L!=null?(oe.setShape({startAngle:L,endAngle:L}),initProps(oe,{shape:{startAngle:ue.startAngle,endAngle:ue.endAngle}},ae,$)):(oe.shape.endAngle=ue.startAngle,updateProps$1(oe,{shape:{endAngle:ue.endAngle}},ae,$))}else saveOldStyle(oe),updateProps$1(oe,{shape:de},ae,$);oe.useStyle(r.getItemVisual($,"style")),setStatesStylesFromModel(oe,re);var pe=(ue.startAngle+ue.endAngle)/2,_e=ae.get("selectedOffset"),$e=Math.cos(pe)*_e,xe=Math.sin(pe)*_e,Oe=re.getShallow("cursor");Oe&&oe.attr("cursor",Oe),this._updateLabel(ae,r,$),oe.ensureState("emphasis").shape=extend$1({r:ue.r+(le.get("scale")&&le.get("scaleSize")||0)},getSectorCornerRadius(le.getModel("itemStyle"),ue)),extend$1(oe.ensureState("select"),{x:$e,y:xe,shape:getSectorCornerRadius(re.getModel(["select","itemStyle"]),ue)}),extend$1(oe.ensureState("blur"),{shape:getSectorCornerRadius(re.getModel(["blur","itemStyle"]),ue)});var Ce=oe.getTextGuideLine(),Ie=oe.getTextContent();Ce&&extend$1(Ce.ensureState("select"),{x:$e,y:xe}),extend$1(Ie.ensureState("select"),{x:$e,y:xe}),toggleHoverEmphasis(this,le.get("focus"),le.get("blurScope"),le.get("disabled"))},n.prototype._updateLabel=function(r,$,L){var V=this,oe=$.getItemModel(L),ae=oe.getModel("labelLine"),re=$.getItemVisual(L,"style"),le=re&&re.fill,ue=re&&re.opacity;setLabelStyle(V,getLabelStatesModels(oe),{labelFetcher:$.hostModel,labelDataIndex:L,inheritColor:le,defaultOpacity:ue,defaultText:r.getFormattedLabel(L,"normal")||$.getName(L)});var de=V.getTextContent();V.setTextConfig({position:null,rotation:null}),de.attr({z2:10});var he=r.get(["label","position"]);if(he!=="outside"&&he!=="outer")V.removeTextGuideLine();else{var pe=this.getTextGuideLine();pe||(pe=new Polyline$3,this.setTextGuideLine(pe)),setLabelLineStyle(this,getLabelLineStatesModels(oe),{stroke:le,opacity:retrieve3(ae.get(["lineStyle","opacity"]),ue,1)})}},n}(Sector$1),PieView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return n.prototype.render=function(r,$,L,V){var oe=r.getData(),ae=this._data,re=this.group,le;if(!ae&&oe.count()>0){for(var ue=oe.getItemLayout(0),de=1;isNaN(ue&&ue.startAngle)&&de<oe.count();++de)ue=oe.getItemLayout(de);ue&&(le=ue.startAngle)}if(this._emptyCircleSector&&re.remove(this._emptyCircleSector),oe.count()===0&&r.get("showEmptyCircle")){var he=new Sector$1({shape:getBasicPieLayout(r,L)});he.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=he,re.add(he)}oe.diff(ae).add(function(pe){var _e=new PiePiece(oe,pe,le);oe.setItemGraphicEl(pe,_e),re.add(_e)}).update(function(pe,_e){var $e=ae.getItemGraphicEl(_e);$e.updateData(oe,pe,le),$e.off("click"),re.add($e),oe.setItemGraphicEl(pe,$e)}).remove(function(pe){var _e=ae.getItemGraphicEl(pe);removeElementWithFadeOut(_e,r,pe)}).execute(),pieLabelLayout(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=oe)},n.prototype.dispose=function(){},n.prototype.containPoint=function(r,$){var L=$.getData(),V=L.getItemLayout(0);if(V){var oe=r[0]-V.cx,ae=r[1]-V.cy,re=Math.sqrt(oe*oe+ae*ae);return re<=V.r&&re>=V.r0}},n.type="pie",n}(ChartView$1);const PieView$1=PieView;function createSeriesDataSimply(g,n,r){n=isArray$2(n)&&{coordDimensions:n}||extend$1({encodeDefine:g.getEncode()},n);var $=g.getSource(),L=prepareSeriesDataSchema($,n).dimensions,V=new SeriesData$1(L,g);return V.initData($,r),V}var LegendVisualProvider=function(){function g(n,r){this._getDataWithEncodedVisual=n,this._getRawData=r}return g.prototype.getAllNames=function(){var n=this._getRawData();return n.mapArray(n.getName)},g.prototype.containName=function(n){var r=this._getRawData();return r.indexOfName(n)>=0},g.prototype.indexOfName=function(n){var r=this._getDataWithEncodedVisual();return r.indexOfName(n)},g.prototype.getItemVisual=function(n,r){var $=this._getDataWithEncodedVisual();return $.getItemVisual(n,r)},g}();const LegendVisualProvider$1=LegendVisualProvider;var innerData=makeInner(),PieSeriesModel=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.init=function(r){g.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$2(this.getData,this),bind$2(this.getRawData,this)),this._defaultLabelLine(r)},n.prototype.mergeOption=function(){g.prototype.mergeOption.apply(this,arguments)},n.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},n.prototype.getDataParams=function(r){var $=this.getData(),L=innerData($),V=L.seats;if(!V){var oe=[];$.each($.mapDimension("value"),function(re){oe.push(re)}),V=L.seats=getPercentSeats(oe,$.hostModel.get("percentPrecision"))}var ae=g.prototype.getDataParams.call(this,r);return ae.percent=V[r]||0,ae.$vars.push("percent"),ae},n.prototype._defaultLabelLine=function(r){defaultEmphasis(r,"labelLine",["show"]);var $=r.labelLine,L=r.emphasis.labelLine;$.show=$.show&&r.label.show,L.show=L.show&&r.emphasis.label.show},n.type="series.pie",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},n}(SeriesModel$1);const PieSeriesModel$1=PieSeriesModel;function negativeDataFilter(g){return{seriesType:g,reset:function(n,r){var $=n.getData();$.filterSelf(function(L){var V=$.mapDimension("value"),oe=$.get(V,L);return!(isNumber$1(oe)&&!isNaN(oe)&&oe<0)})}}}function install$P(g){g.registerChartView(PieView$1),g.registerSeriesModel(PieSeriesModel$1),createLegacyDataSelectAction("pie",g.registerAction),g.registerLayout(curry$1(pieLayout,"pie")),g.registerProcessor(dataFilter$1("pie")),g.registerProcessor(negativeDataFilter("pie"))}var ScatterSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(r,$){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.getProgressive=function(){var r=this.option.progressive;return r!=null?r:this.option.large?5e3:this.get("progressive")},n.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r!=null?r:this.option.large?1e4:this.get("progressiveThreshold")},n.prototype.brushSelector=function(r,$,L){return L.point($.getItemLayout(r))},n.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},n.type="series.scatter",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},n}(SeriesModel$1);const ScatterSeriesModel$1=ScatterSeriesModel;var BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=function(){function g(){}return g}(),LargeSymbolPath=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $._off=0,$.hoverDataIdx=-1,$}return n.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.buildPath=function(r,$){var L=$.points,V=$.size,oe=this.symbolProxy,ae=oe.shape,re=r.getContext?r.getContext():r,le=re&&V[0]<BOOST_SIZE_THRESHOLD,ue=this.softClipShape,de;if(le){this._ctx=re;return}for(this._ctx=null,de=this._off;de<L.length;){var he=L[de++],pe=L[de++];isNaN(he)||isNaN(pe)||ue&&!ue.contain(he,pe)||(ae.x=he-V[0]/2,ae.y=pe-V[1]/2,ae.width=V[0],ae.height=V[1],oe.buildPath(r,ae,!0))}this.incremental&&(this._off=de,this.notClear=!0)},n.prototype.afterBrush=function(){var r=this.shape,$=r.points,L=r.size,V=this._ctx,oe=this.softClipShape,ae;if(V){for(ae=this._off;ae<$.length;){var re=$[ae++],le=$[ae++];isNaN(re)||isNaN(le)||oe&&!oe.contain(re,le)||V.fillRect(re-L[0]/2,le-L[1]/2,L[0],L[1])}this.incremental&&(this._off=ae,this.notClear=!0)}},n.prototype.findDataIndex=function(r,$){for(var L=this.shape,V=L.points,oe=L.size,ae=Math.max(oe[0],4),re=Math.max(oe[1],4),le=V.length/2-1;le>=0;le--){var ue=le*2,de=V[ue]-ae/2,he=V[ue+1]-re/2;if(r>=de&&$>=he&&r<=de+ae&&$<=he+re)return le}return-1},n.prototype.contain=function(r,$){var L=this.transformCoordToLocal(r,$),V=this.getBoundingRect();if(r=L[0],$=L[1],V.contain(r,$)){var oe=this.hoverDataIdx=this.findDataIndex(r,$);return oe>=0}return this.hoverDataIdx=-1,!1},n.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var $=this.shape,L=$.points,V=$.size,oe=V[0],ae=V[1],re=1/0,le=1/0,ue=-1/0,de=-1/0,he=0;he<L.length;){var pe=L[he++],_e=L[he++];re=Math.min(pe,re),ue=Math.max(pe,ue),le=Math.min(_e,le),de=Math.max(_e,de)}r=this._rect=new BoundingRect$1(re-oe/2,le-ae/2,ue-re+oe,de-le+ae)}return r},n}(Path$1),LargeSymbolDraw=function(){function g(){this.group=new Group$4}return g.prototype.updateData=function(n,r){this._clear();var $=this._create();$.setShape({points:n.getLayout("points")}),this._setCommon($,n,r)},g.prototype.updateLayout=function(n){var r=n.getLayout("points");this.group.eachChild(function($){if($.startIndex!=null){var L=($.endIndex-$.startIndex)*2,V=$.startIndex*4*2;r=new Float32Array(r.buffer,V,L)}$.setShape("points",r),$.reset()})},g.prototype.incrementalPrepareUpdate=function(n){this._clear()},g.prototype.incrementalUpdate=function(n,r,$){var L=this._newAdded[0],V=r.getLayout("points"),oe=L&&L.shape.points;if(oe&&oe.length<2e4){var ae=oe.length,re=new Float32Array(ae+V.length);re.set(oe),re.set(V,ae),L.endIndex=n.end,L.setShape({points:re})}else{this._newAdded=[];var le=this._create();le.startIndex=n.start,le.endIndex=n.end,le.incremental=!0,le.setShape({points:V}),this._setCommon(le,r,$)}},g.prototype.eachRendered=function(n){this._newAdded[0]&&n(this._newAdded[0])},g.prototype._create=function(){var n=new LargeSymbolPath({cursor:"default"});return n.ignoreCoarsePointer=!0,this.group.add(n),this._newAdded.push(n),n},g.prototype._setCommon=function(n,r,$){var L=r.hostModel;$=$||{};var V=r.getVisual("symbolSize");n.setShape("size",V instanceof Array?V:[V,V]),n.softClipShape=$.clipShape||null,n.symbolProxy=createSymbol$1(r.getVisual("symbol"),0,0,0,0),n.setColor=n.symbolProxy.setColor;var oe=n.shape.size[0]<BOOST_SIZE_THRESHOLD;n.useStyle(L.getModel("itemStyle").getItemStyle(oe?["color","shadowBlur","shadowColor"]:["color"]));var ae=r.getVisual("style"),re=ae&&ae.fill;re&&n.setColor(re);var le=getECData(n);le.seriesIndex=L.seriesIndex,n.on("mousemove",function(ue){le.dataIndex=null;var de=n.hoverDataIdx;de>=0&&(le.dataIndex=de+(n.startIndex||0))})},g.prototype.remove=function(){this._clear()},g.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},g}();const LargeSymbolDraw$1=LargeSymbolDraw;var ScatterView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=r.getData(),oe=this._updateSymbolDraw(V,r);oe.updateData(V,{clipShape:this._getClipShape(r)}),this._finished=!0},n.prototype.incrementalPrepareRender=function(r,$,L){var V=r.getData(),oe=this._updateSymbolDraw(V,r);oe.incrementalPrepareUpdate(V),this._finished=!1},n.prototype.incrementalRender=function(r,$,L){this._symbolDraw.incrementalUpdate(r,$.getData(),{clipShape:this._getClipShape($)}),this._finished=r.end===$.getData().count()},n.prototype.updateTransform=function(r,$,L){var V=r.getData();if(this.group.dirty(),!this._finished||V.count()>1e4)return{update:!0};var oe=pointsLayout("").reset(r,$,L);oe.progress&&oe.progress({start:0,end:V.count(),count:V.count()},V),this._symbolDraw.updateLayout(V)},n.prototype.eachRendered=function(r){this._symbolDraw&&this._symbolDraw.eachRendered(r)},n.prototype._getClipShape=function(r){var $=r.coordinateSystem,L=$&&$.getArea&&$.getArea();return r.get("clip",!0)?L:null},n.prototype._updateSymbolDraw=function(r,$){var L=this._symbolDraw,V=$.pipelineContext,oe=V.large;return(!L||oe!==this._isLargeDraw)&&(L&&L.remove(),L=this._symbolDraw=oe?new LargeSymbolDraw$1:new SymbolDraw$1,this._isLargeDraw=oe,this.group.removeAll()),this.group.add(L.group),L},n.prototype.remove=function(r,$){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},n.prototype.dispose=function(){},n.type="scatter",n}(ChartView$1);const ScatterView$1=ScatterView;var GridModel=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.type="grid",n.dependencies=["xAxis","yAxis"],n.layoutMode="box",n.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},n}(ComponentModel$1);const GridModel$1=GridModel;var CartesianAxisModel=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},n.type="cartesian2dAxis",n}(ComponentModel$1);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption$1={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge$1({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption$1),valueAxis=merge$1({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption$1),timeAxis=merge$1({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults$2({logBase:10},valueAxis);const axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis};var AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(g,n,r,$){each$f(AXIS_TYPES,function(L,V){var oe=merge$1(merge$1({},axisDefault[V],!0),$,!0),ae=function(re){__extends(le,re);function le(){var ue=re!==null&&re.apply(this,arguments)||this;return ue.type=n+"Axis."+V,ue}return le.prototype.mergeDefaultAndTheme=function(ue,de){var he=fetchLayoutMode(this),pe=he?getLayoutParams(ue):{},_e=de.getTheme();merge$1(ue,_e.get(V+"Axis")),merge$1(ue,this.getDefaultOption()),ue.type=getAxisType(ue),he&&mergeLayoutParam(ue,pe,he)},le.prototype.optionUpdated=function(){var ue=this.option;ue.type==="category"&&(this.__ordinalMeta=OrdinalMeta$1.createByAxisModel(this))},le.prototype.getCategories=function(ue){var de=this.option;if(de.type==="category")return ue?de.data:this.__ordinalMeta.categories},le.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},le.type=n+"Axis."+V,le.defaultOption=oe,le}(r);g.registerComponentModel(ae)}),g.registerSubTypeDefaulter(n+"Axis",getAxisType)}function getAxisType(g){return g.type||(g.data?"category":"value")}var Cartesian=function(){function g(n){this.type="cartesian",this._dimList=[],this._axes={},this.name=n||""}return g.prototype.getAxis=function(n){return this._axes[n]},g.prototype.getAxes=function(){return map$1(this._dimList,function(n){return this._axes[n]},this)},g.prototype.getAxesByScale=function(n){return n=n.toLowerCase(),filter(this.getAxes(),function(r){return r.scale.type===n})},g.prototype.addAxis=function(n){var r=n.dim;this._axes[r]=n,this._dimList.push(r)},g}();const Cartesian$1=Cartesian;var cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(g){return g.type==="interval"||g.type==="time"}var Cartesian2D=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=cartesian2DDimensions,r}return n.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,$=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(r)||!canCalculateAffineTransform($))){var L=r.getExtent(),V=$.getExtent(),oe=this.dataToPoint([L[0],V[0]]),ae=this.dataToPoint([L[1],V[1]]),re=L[1]-L[0],le=V[1]-V[0];if(!(!re||!le)){var ue=(ae[0]-oe[0])/re,de=(ae[1]-oe[1])/le,he=oe[0]-L[0]*ue,pe=oe[1]-V[0]*de,_e=this._transform=[ue,0,0,de,he,pe];this._invTransform=invert([],_e)}}},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},n.prototype.containPoint=function(r){var $=this.getAxis("x"),L=this.getAxis("y");return $.contain($.toLocalCoord(r[0]))&&L.contain(L.toLocalCoord(r[1]))},n.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},n.prototype.containZone=function(r,$){var L=this.dataToPoint(r),V=this.dataToPoint($),oe=this.getArea(),ae=new BoundingRect$1(L[0],L[1],V[0]-L[0],V[1]-L[1]);return oe.intersect(ae)},n.prototype.dataToPoint=function(r,$,L){L=L||[];var V=r[0],oe=r[1];if(this._transform&&V!=null&&isFinite(V)&&oe!=null&&isFinite(oe))return applyTransform$1(L,r,this._transform);var ae=this.getAxis("x"),re=this.getAxis("y");return L[0]=ae.toGlobalCoord(ae.dataToCoord(V,$)),L[1]=re.toGlobalCoord(re.dataToCoord(oe,$)),L},n.prototype.clampData=function(r,$){var L=this.getAxis("x").scale,V=this.getAxis("y").scale,oe=L.getExtent(),ae=V.getExtent(),re=L.parse(r[0]),le=V.parse(r[1]);return $=$||[],$[0]=Math.min(Math.max(Math.min(oe[0],oe[1]),re),Math.max(oe[0],oe[1])),$[1]=Math.min(Math.max(Math.min(ae[0],ae[1]),le),Math.max(ae[0],ae[1])),$},n.prototype.pointToData=function(r,$){var L=[];if(this._invTransform)return applyTransform$1(L,r,this._invTransform);var V=this.getAxis("x"),oe=this.getAxis("y");return L[0]=V.coordToData(V.toLocalCoord(r[0]),$),L[1]=oe.coordToData(oe.toLocalCoord(r[1]),$),L},n.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},n.prototype.getArea=function(){var r=this.getAxis("x").getGlobalExtent(),$=this.getAxis("y").getGlobalExtent(),L=Math.min(r[0],r[1]),V=Math.min($[0],$[1]),oe=Math.max(r[0],r[1])-L,ae=Math.max($[0],$[1])-V;return new BoundingRect$1(L,V,oe,ae)},n}(Cartesian$1),Axis2D=function(g){__extends(n,g);function n(r,$,L,V,oe){var ae=g.call(this,r,$,L)||this;return ae.index=0,ae.type=V||"value",ae.position=oe||"bottom",ae}return n.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},n.prototype.getGlobalExtent=function(r){var $=this.getExtent();return $[0]=this.toGlobalCoord($[0]),$[1]=this.toGlobalCoord($[1]),r&&$[0]>$[1]&&$.reverse(),$},n.prototype.pointToData=function(r,$){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),$)},n.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},n}(Axis$1);const Axis2D$1=Axis2D;function layout$2(g,n,r){r=r||{};var $=g.coordinateSystem,L=n.axis,V={},oe=L.getAxesOnZeroOf()[0],ae=L.position,re=oe?"onZero":ae,le=L.dim,ue=$.getRect(),de=[ue.x,ue.x+ue.width,ue.y,ue.y+ue.height],he={left:0,right:1,top:0,bottom:1,onZero:2},pe=n.get("offset")||0,_e=le==="x"?[de[2]-pe,de[3]+pe]:[de[0]-pe,de[1]+pe];if(oe){var $e=oe.toGlobalCoord(oe.dataToCoord(0));_e[he.onZero]=Math.max(Math.min($e,_e[1]),_e[0])}V.position=[le==="y"?_e[he[re]]:de[0],le==="x"?_e[he[re]]:de[3]],V.rotation=Math.PI/2*(le==="x"?0:1);var xe={top:-1,bottom:1,left:-1,right:1};V.labelDirection=V.tickDirection=V.nameDirection=xe[ae],V.labelOffset=oe?_e[he[ae]]-_e[he.onZero]:0,n.get(["axisTick","inside"])&&(V.tickDirection=-V.tickDirection),retrieve(r.labelInside,n.get(["axisLabel","inside"]))&&(V.labelDirection=-V.labelDirection);var Oe=n.get(["axisLabel","rotate"]);return V.labelRotate=re==="top"?-Oe:Oe,V.z2=1,V}function isCartesian2DSeries(g){return g.get("coordinateSystem")==="cartesian2d"}function findAxisModels(g){var n={xAxisModel:null,yAxisModel:null};return each$f(n,function(r,$){var L=$.replace(/Model$/,""),V=g.getReferringComponents(L,SINGLE_REFERRING).models[0];n[$]=V}),n}var mathLog=Math.log;function alignScaleTicks(g,n,r){var $=IntervalScale$1.prototype,L=$.getTicks.call(r),V=$.getTicks.call(r,!0),oe=L.length-1,ae=$.getInterval.call(r),re=getScaleExtent(g,n),le=re.extent,ue=re.fixMin,de=re.fixMax;if(g.type==="log"){var he=mathLog(g.base);le=[mathLog(le[0])/he,mathLog(le[1])/he]}g.setExtent(le[0],le[1]),g.calcNiceExtent({splitNumber:oe,fixMin:ue,fixMax:de});var pe=$.getExtent.call(g);ue&&(le[0]=pe[0]),de&&(le[1]=pe[1]);var _e=$.getInterval.call(g),$e=le[0],xe=le[1];if(ue&&de)_e=(xe-$e)/oe;else if(ue)for(xe=le[0]+_e*oe;xe<le[1]&&isFinite(xe)&&isFinite(le[1]);)_e=increaseInterval(_e),xe=le[0]+_e*oe;else if(de)for($e=le[1]-_e*oe;$e>le[0]&&isFinite($e)&&isFinite(le[0]);)_e=increaseInterval(_e),$e=le[1]-_e*oe;else{var Oe=g.getTicks().length-1;Oe>oe&&(_e=increaseInterval(_e));var Ce=_e*oe;xe=Math.ceil(le[1]/_e)*_e,$e=round$3(xe-Ce),$e<0&&le[0]>=0?($e=0,xe=round$3(Ce)):xe>0&&le[1]<=0&&(xe=0,$e=-round$3(Ce))}var Ie=(L[0].value-V[0].value)/ae,Ne=(L[oe].value-V[oe].value)/ae;$.setExtent.call(g,$e+_e*Ie,xe+_e*Ne),$.setInterval.call(g,_e),(Ie||Ne)&&$.setNiceExtent.call(g,$e+_e,xe-_e)}var Grid=function(){function g(n,r,$){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(n,r,$),this.model=n}return g.prototype.getRect=function(){return this._rect},g.prototype.update=function(n,r){var $=this._axesMap;this._updateScale(n,this.model);function L(oe){var ae,re=keys(oe),le=re.length;if(le){for(var ue=[],de=le-1;de>=0;de--){var he=+re[de],pe=oe[he],_e=pe.model,$e=pe.scale;isIntervalOrLogScale($e)&&_e.get("alignTicks")&&_e.get("interval")==null?ue.push(pe):(niceScaleExtent($e,_e),isIntervalOrLogScale($e)&&(ae=pe))}ue.length&&(ae||(ae=ue.pop(),niceScaleExtent(ae.scale,ae.model)),each$f(ue,function(xe){alignScaleTicks(xe.scale,xe.model,ae.scale)}))}}L($.x),L($.y);var V={};each$f($.x,function(oe){fixAxisOnZero($,"y",oe,V)}),each$f($.y,function(oe){fixAxisOnZero($,"x",oe,V)}),this.resize(this.model,r)},g.prototype.resize=function(n,r,$){var L=n.getBoxLayoutParams(),V=!$&&n.get("containLabel"),oe=getLayoutRect(L,{width:r.getWidth(),height:r.getHeight()});this._rect=oe;var ae=this._axesList;re(),V&&(each$f(ae,function(le){if(!le.model.get(["axisLabel","inside"])){var ue=estimateLabelUnionRect(le);if(ue){var de=le.isHorizontal()?"height":"width",he=le.model.get(["axisLabel","margin"]);oe[de]-=ue[de]+he,le.position==="top"?oe.y+=ue.height+he:le.position==="left"&&(oe.x+=ue.width+he)}}}),re()),each$f(this._coordsList,function(le){le.calcAffineTransform()});function re(){each$f(ae,function(le){var ue=le.isHorizontal(),de=ue?[0,oe.width]:[0,oe.height],he=le.inverse?1:0;le.setExtent(de[he],de[1-he]),updateAxisTransform(le,ue?oe.x:oe.y)})}},g.prototype.getAxis=function(n,r){var $=this._axesMap[n];if($!=null)return $[r||0]},g.prototype.getAxes=function(){return this._axesList.slice()},g.prototype.getCartesian=function(n,r){if(n!=null&&r!=null){var $="x"+n+"y"+r;return this._coordsMap[$]}isObject$4(n)&&(r=n.yAxisIndex,n=n.xAxisIndex);for(var L=0,V=this._coordsList;L<V.length;L++)if(V[L].getAxis("x").index===n||V[L].getAxis("y").index===r)return V[L]},g.prototype.getCartesians=function(){return this._coordsList.slice()},g.prototype.convertToPixel=function(n,r,$){var L=this._findConvertTarget(r);return L.cartesian?L.cartesian.dataToPoint($):L.axis?L.axis.toGlobalCoord(L.axis.dataToCoord($)):null},g.prototype.convertFromPixel=function(n,r,$){var L=this._findConvertTarget(r);return L.cartesian?L.cartesian.pointToData($):L.axis?L.axis.coordToData(L.axis.toLocalCoord($)):null},g.prototype._findConvertTarget=function(n){var r=n.seriesModel,$=n.xAxisModel||r&&r.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],L=n.yAxisModel||r&&r.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],V=n.gridModel,oe=this._coordsList,ae,re;if(r)ae=r.coordinateSystem,indexOf(oe,ae)<0&&(ae=null);else if($&&L)ae=this.getCartesian($.componentIndex,L.componentIndex);else if($)re=this.getAxis("x",$.componentIndex);else if(L)re=this.getAxis("y",L.componentIndex);else if(V){var le=V.coordinateSystem;le===this&&(ae=this._coordsList[0])}return{cartesian:ae,axis:re}},g.prototype.containPoint=function(n){var r=this._coordsList[0];if(r)return r.containPoint(n)},g.prototype._initCartesian=function(n,r,$){var L=this,V=this,oe={left:!1,right:!1,top:!1,bottom:!1},ae={x:{},y:{}},re={x:0,y:0};if(r.eachComponent("xAxis",le("x"),this),r.eachComponent("yAxis",le("y"),this),!re.x||!re.y){this._axesMap={},this._axesList=[];return}this._axesMap=ae,each$f(ae.x,function(ue,de){each$f(ae.y,function(he,pe){var _e="x"+de+"y"+pe,$e=new Cartesian2D(_e);$e.master=L,$e.model=n,L._coordsMap[_e]=$e,L._coordsList.push($e),$e.addAxis(ue),$e.addAxis(he)})});function le(ue){return function(de,he){if(isAxisUsedInTheGrid(de,n)){var pe=de.get("position");ue==="x"?pe!=="top"&&pe!=="bottom"&&(pe=oe.bottom?"top":"bottom"):pe!=="left"&&pe!=="right"&&(pe=oe.left?"right":"left"),oe[pe]=!0;var _e=new Axis2D$1(ue,createScaleByModel$1(de),[0,0],de.get("type"),pe),$e=_e.type==="category";_e.onBand=$e&&de.get("boundaryGap"),_e.inverse=de.get("inverse"),de.axis=_e,_e.model=de,_e.grid=V,_e.index=he,V._axesList.push(_e),ae[ue][he]=_e,re[ue]++}}}},g.prototype._updateScale=function(n,r){each$f(this._axesList,function(L){if(L.scale.setExtent(1/0,-1/0),L.type==="category"){var V=L.model.get("categorySortInfo");L.scale.setSortInfo(V)}}),n.eachSeries(function(L){if(isCartesian2DSeries(L)){var V=findAxisModels(L),oe=V.xAxisModel,ae=V.yAxisModel;if(!isAxisUsedInTheGrid(oe,r)||!isAxisUsedInTheGrid(ae,r))return;var re=this.getCartesian(oe.componentIndex,ae.componentIndex),le=L.getData(),ue=re.getAxis("x"),de=re.getAxis("y");$(le,ue),$(le,de)}},this);function $(L,V){each$f(getDataDimensionsOnAxis(L,V.dim),function(oe){V.scale.unionExtentFromData(L,oe)})}},g.prototype.getTooltipAxes=function(n){var r=[],$=[];return each$f(this.getCartesians(),function(L){var V=n!=null&&n!=="auto"?L.getAxis(n):L.getBaseAxis(),oe=L.getOtherAxis(V);indexOf(r,V)<0&&r.push(V),indexOf($,oe)<0&&$.push(oe)}),{baseAxes:r,otherAxes:$}},g.create=function(n,r){var $=[];return n.eachComponent("grid",function(L,V){var oe=new g(L,n,r);oe.name="grid_"+V,oe.resize(L,r,!0),L.coordinateSystem=oe,$.push(oe)}),n.eachSeries(function(L){if(isCartesian2DSeries(L)){var V=findAxisModels(L),oe=V.xAxisModel,ae=V.yAxisModel,re=oe.getCoordSysModel(),le=re.coordinateSystem;L.coordinateSystem=le.getCartesian(oe.componentIndex,ae.componentIndex)}}),$},g.dimensions=cartesian2DDimensions,g}();function isAxisUsedInTheGrid(g,n){return g.getCoordSysModel()===n}function fixAxisOnZero(g,n,r,$){r.getAxesOnZeroOf=function(){return V?[V]:[]};var L=g[n],V,oe=r.model,ae=oe.get(["axisLine","onZero"]),re=oe.get(["axisLine","onZeroAxisIndex"]);if(!ae)return;if(re!=null)canOnZeroToAxis(L[re])&&(V=L[re]);else for(var le in L)if(L.hasOwnProperty(le)&&canOnZeroToAxis(L[le])&&!$[ue(L[le])]){V=L[le];break}V&&($[ue(V)]=!0);function ue(de){return de.dim+"_"+de.index}}function canOnZeroToAxis(g){return g&&g.type!=="category"&&g.type!=="time"&&ifAxisCrossZero(g)}function updateAxisTransform(g,n){var r=g.getExtent(),$=r[0]+r[1];g.toGlobalCoord=g.dim==="x"?function(L){return L+n}:function(L){return $-L+n},g.toLocalCoord=g.dim==="x"?function(L){return L-n}:function(L){return $-L+n}}const Grid$1=Grid;var PI$3=Math.PI,AxisBuilder=function(){function g(n,r){this.group=new Group$4,this.opt=r,this.axisModel=n,defaults$2(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var $=new Group$4({x:r.position[0],y:r.position[1],rotation:r.rotation});$.updateTransform(),this._transformGroup=$}return g.prototype.hasBuilder=function(n){return!!builders[n]},g.prototype.add=function(n){builders[n](this.opt,this.axisModel,this.group,this._transformGroup)},g.prototype.getGroup=function(){return this.group},g.innerTextLayout=function(n,r,$){var L=remRadian(r-n),V,oe;return isRadianAroundZero(L)?(oe=$>0?"top":"bottom",V="center"):isRadianAroundZero(L-PI$3)?(oe=$>0?"bottom":"top",V="center"):(oe="middle",L>0&&L<PI$3?V=$>0?"right":"left":V=$>0?"left":"right"),{rotation:L,textAlign:V,textVerticalAlign:oe}},g.makeAxisEventDataBase=function(n){var r={componentType:n.mainType,componentIndex:n.componentIndex};return r[n.mainType+"Index"]=n.componentIndex,r},g.isLabelSilent=function(n){var r=n.get("tooltip");return n.get("silent")||!(n.get("triggerEvent")||r&&r.show)},g}(),builders={axisLine:function(g,n,r,$){var L=n.get(["axisLine","show"]);if(L==="auto"&&g.handleAutoShown&&(L=g.handleAutoShown("axisLine")),!!L){var V=n.axis.getExtent(),oe=$.transform,ae=[V[0],0],re=[V[1],0],le=ae[0]>re[0];oe&&(applyTransform$1(ae,ae,oe),applyTransform$1(re,re,oe));var ue=extend$1({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),de=new Line$3({shape:{x1:ae[0],y1:ae[1],x2:re[0],y2:re[1]},style:ue,strokeContainThreshold:g.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(de.shape,de.style.lineWidth),de.anid="line",r.add(de);var he=n.get(["axisLine","symbol"]);if(he!=null){var pe=n.get(["axisLine","symbolSize"]);isString$1(he)&&(he=[he,he]),(isString$1(pe)||isNumber$1(pe))&&(pe=[pe,pe]);var _e=normalizeSymbolOffset(n.get(["axisLine","symbolOffset"])||0,pe),$e=pe[0],xe=pe[1];each$f([{rotate:g.rotation+Math.PI/2,offset:_e[0],r:0},{rotate:g.rotation-Math.PI/2,offset:_e[1],r:Math.sqrt((ae[0]-re[0])*(ae[0]-re[0])+(ae[1]-re[1])*(ae[1]-re[1]))}],function(Oe,Ce){if(he[Ce]!=="none"&&he[Ce]!=null){var Ie=createSymbol$1(he[Ce],-$e/2,-xe/2,$e,xe,ue.stroke,!0),Ne=Oe.r+Oe.offset,ze=le?re:ae;Ie.attr({rotation:Oe.rotate,x:ze[0]+Ne*Math.cos(g.rotation),y:ze[1]-Ne*Math.sin(g.rotation),silent:!0,z2:11}),r.add(Ie)}})}}},axisTickLabel:function(g,n,r,$){var L=buildAxisMajorTicks(r,$,n,g),V=buildAxisLabel(r,$,n,g);if(fixMinMaxLabelShow(n,V,L),buildAxisMinorTicks(r,$,n,g.tickDirection),n.get(["axisLabel","hideOverlap"])){var oe=prepareLayoutList(map$1(V,function(ae){return{label:ae,priority:ae.z2,defaultAttr:{ignore:ae.ignore}}}));hideOverlap(oe)}},axisName:function(g,n,r,$){var L=retrieve(g.axisName,n.get("name"));if(L){var V=n.get("nameLocation"),oe=g.nameDirection,ae=n.getModel("nameTextStyle"),re=n.get("nameGap")||0,le=n.axis.getExtent(),ue=le[0]>le[1]?-1:1,de=[V==="start"?le[0]-ue*re:V==="end"?le[1]+ue*re:(le[0]+le[1])/2,isNameLocationCenter(V)?g.labelOffset+oe*re:0],he,pe=n.get("nameRotate");pe!=null&&(pe=pe*PI$3/180);var _e;isNameLocationCenter(V)?he=AxisBuilder.innerTextLayout(g.rotation,pe!=null?pe:g.rotation,oe):(he=endTextLayout(g.rotation,V,pe||0,le),_e=g.axisNameAvailableWidth,_e!=null&&(_e=Math.abs(_e/Math.sin(he.rotation)),!isFinite(_e)&&(_e=null)));var $e=ae.getFont(),xe=n.get("nameTruncate",!0)||{},Oe=xe.ellipsis,Ce=retrieve(g.nameTruncateMaxWidth,xe.maxWidth,_e),Ie=new ZRText$1({x:de[0],y:de[1],rotation:he.rotation,silent:AxisBuilder.isLabelSilent(n),style:createTextStyle(ae,{text:L,font:$e,overflow:"truncate",width:Ce,ellipsis:Oe,fill:ae.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:ae.get("align")||he.textAlign,verticalAlign:ae.get("verticalAlign")||he.textVerticalAlign}),z2:1});if(setTooltipConfig({el:Ie,componentModel:n,itemName:L}),Ie.__fullText=L,Ie.anid="name",n.get("triggerEvent")){var Ne=AxisBuilder.makeAxisEventDataBase(n);Ne.targetType="axisName",Ne.name=L,getECData(Ie).eventData=Ne}$.add(Ie),Ie.updateTransform(),r.add(Ie),Ie.decomposeTransform()}}};function endTextLayout(g,n,r,$){var L=remRadian(r-g),V,oe,ae=$[0]>$[1],re=n==="start"&&!ae||n!=="start"&&ae;return isRadianAroundZero(L-PI$3/2)?(oe=re?"bottom":"top",V="center"):isRadianAroundZero(L-PI$3*1.5)?(oe=re?"top":"bottom",V="center"):(oe="middle",L<PI$3*1.5&&L>PI$3/2?V=re?"left":"right":V=re?"right":"left"),{rotation:L,textAlign:V,textVerticalAlign:oe}}function fixMinMaxLabelShow(g,n,r){if(!shouldShowAllLabels(g.axis)){var $=g.get(["axisLabel","showMinLabel"]),L=g.get(["axisLabel","showMaxLabel"]);n=n||[],r=r||[];var V=n[0],oe=n[1],ae=n[n.length-1],re=n[n.length-2],le=r[0],ue=r[1],de=r[r.length-1],he=r[r.length-2];$===!1?(ignoreEl(V),ignoreEl(le)):isTwoLabelOverlapped(V,oe)&&($?(ignoreEl(oe),ignoreEl(ue)):(ignoreEl(V),ignoreEl(le))),L===!1?(ignoreEl(ae),ignoreEl(de)):isTwoLabelOverlapped(re,ae)&&(L?(ignoreEl(re),ignoreEl(he)):(ignoreEl(ae),ignoreEl(de)))}}function ignoreEl(g){g&&(g.ignore=!0)}function isTwoLabelOverlapped(g,n){var r=g&&g.getBoundingRect().clone(),$=n&&n.getBoundingRect().clone();if(!(!r||!$)){var L=identity([]);return rotate(L,L,-g.rotation),r.applyTransform(mul([],L,g.getLocalTransform())),$.applyTransform(mul([],L,n.getLocalTransform())),r.intersect($)}}function isNameLocationCenter(g){return g==="middle"||g==="center"}function createTicks(g,n,r,$,L){for(var V=[],oe=[],ae=[],re=0;re<g.length;re++){var le=g[re].coord;oe[0]=le,oe[1]=0,ae[0]=le,ae[1]=r,n&&(applyTransform$1(oe,oe,n),applyTransform$1(ae,ae,n));var ue=new Line$3({shape:{x1:oe[0],y1:oe[1],x2:ae[0],y2:ae[1]},style:$,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(ue.shape,ue.style.lineWidth),ue.anid=L+"_"+g[re].tickValue,V.push(ue)}return V}function buildAxisMajorTicks(g,n,r,$){var L=r.axis,V=r.getModel("axisTick"),oe=V.get("show");if(oe==="auto"&&$.handleAutoShown&&(oe=$.handleAutoShown("axisTick")),!(!oe||L.scale.isBlank())){for(var ae=V.getModel("lineStyle"),re=$.tickDirection*V.get("length"),le=L.getTicksCoords(),ue=createTicks(le,n.transform,re,defaults$2(ae.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),de=0;de<ue.length;de++)g.add(ue[de]);return ue}}function buildAxisMinorTicks(g,n,r,$){var L=r.axis,V=r.getModel("minorTick");if(!(!V.get("show")||L.scale.isBlank())){var oe=L.getMinorTicksCoords();if(oe.length)for(var ae=V.getModel("lineStyle"),re=$*V.get("length"),le=defaults$2(ae.getLineStyle(),defaults$2(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),ue=0;ue<oe.length;ue++)for(var de=createTicks(oe[ue],n.transform,re,le,"minorticks_"+ue),he=0;he<de.length;he++)g.add(de[he])}}function buildAxisLabel(g,n,r,$){var L=r.axis,V=retrieve($.axisLabelShow,r.get(["axisLabel","show"]));if(!(!V||L.scale.isBlank())){var oe=r.getModel("axisLabel"),ae=oe.get("margin"),re=L.getViewLabels(),le=(retrieve($.labelRotate,oe.get("rotate"))||0)*PI$3/180,ue=AxisBuilder.innerTextLayout($.rotation,le,$.labelDirection),de=r.getCategories&&r.getCategories(!0),he=[],pe=AxisBuilder.isLabelSilent(r),_e=r.get("triggerEvent");return each$f(re,function($e,xe){var Oe=L.scale.type==="ordinal"?L.scale.getRawOrdinalNumber($e.tickValue):$e.tickValue,Ce=$e.formattedLabel,Ie=$e.rawLabel,Ne=oe;if(de&&de[Oe]){var ze=de[Oe];isObject$4(ze)&&ze.textStyle&&(Ne=new Model$1(ze.textStyle,oe,r.ecModel))}var Fe=Ne.getTextColor()||r.get(["axisLine","lineStyle","color"]),Ue=L.dataToCoord(Oe),At=new ZRText$1({x:Ue,y:$.labelOffset+$.labelDirection*ae,rotation:ue.rotation,silent:pe,z2:10+($e.level||0),style:createTextStyle(Ne,{text:Ce,align:Ne.getShallow("align",!0)||ue.textAlign,verticalAlign:Ne.getShallow("verticalAlign",!0)||Ne.getShallow("baseline",!0)||ue.textVerticalAlign,fill:isFunction$1(Fe)?Fe(L.type==="category"?Ie:L.type==="value"?Oe+"":Oe,xe):Fe})});if(At.anid="label_"+Oe,_e){var Et=AxisBuilder.makeAxisEventDataBase(r);Et.targetType="axisLabel",Et.value=Ie,Et.tickIndex=xe,L.type==="category"&&(Et.dataIndex=Oe),getECData(At).eventData=Et}n.add(At),At.updateTransform(),he.push(At),g.add(At),At.decomposeTransform()}),he}}const AxisBuilder$1=AxisBuilder;function collect(g,n){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(r,g,n),r.seriesInvolved&&collectSeriesInfo(r,g),r}function collectAxesInfo(g,n,r){var $=n.getComponent("tooltip"),L=n.getComponent("axisPointer"),V=L.get("link",!0)||[],oe=[];each$f(r.getCoordinateSystems(),function(ae){if(!ae.axisPointerEnabled)return;var re=makeKey(ae.model),le=g.coordSysAxesInfo[re]={};g.coordSysMap[re]=ae;var ue=ae.model,de=ue.getModel("tooltip",$);if(each$f(ae.getAxes(),curry$1($e,!1,null)),ae.getTooltipAxes&&$&&de.get("show")){var he=de.get("trigger")==="axis",pe=de.get(["axisPointer","type"])==="cross",_e=ae.getTooltipAxes(de.get(["axisPointer","axis"]));(he||pe)&&each$f(_e.baseAxes,curry$1($e,pe?"cross":!0,he)),pe&&each$f(_e.otherAxes,curry$1($e,"cross",!1))}function $e(xe,Oe,Ce){var Ie=Ce.model.getModel("axisPointer",L),Ne=Ie.get("show");if(!(!Ne||Ne==="auto"&&!xe&&!isHandleTrigger(Ie))){Oe==null&&(Oe=Ie.get("triggerTooltip")),Ie=xe?makeAxisPointerModel(Ce,de,L,n,xe,Oe):Ie;var ze=Ie.get("snap"),Fe=makeKey(Ce.model),Ue=Oe||ze||Ce.type==="category",At=g.axesInfo[Fe]={key:Fe,axis:Ce,coordSys:ae,axisPointerModel:Ie,triggerTooltip:Oe,involveSeries:Ue,snap:ze,useHandle:isHandleTrigger(Ie),seriesModels:[],linkGroup:null};le[Fe]=At,g.seriesInvolved=g.seriesInvolved||Ue;var Et=getLinkGroupIndex(V,Ce);if(Et!=null){var Pt=oe[Et]||(oe[Et]={axesInfo:{}});Pt.axesInfo[Fe]=At,Pt.mapper=V[Et].mapper,At.linkGroup=Pt}}}})}function makeAxisPointerModel(g,n,r,$,L,V){var oe=n.getModel("axisPointer"),ae=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],re={};each$f(ae,function(he){re[he]=clone$4(oe.get(he))}),re.snap=g.type!=="category"&&!!V,oe.get("type")==="cross"&&(re.type="line");var le=re.label||(re.label={});if(le.show==null&&(le.show=!1),L==="cross"){var ue=oe.get(["label","show"]);if(le.show=ue!=null?ue:!0,!V){var de=re.lineStyle=oe.get("crossStyle");de&&defaults$2(le,de.textStyle)}}return g.model.getModel("axisPointer",new Model$1(re,r,$))}function collectSeriesInfo(g,n){n.eachSeries(function(r){var $=r.coordinateSystem,L=r.get(["tooltip","trigger"],!0),V=r.get(["tooltip","show"],!0);!$||L==="none"||L===!1||L==="item"||V===!1||r.get(["axisPointer","show"],!0)===!1||each$f(g.coordSysAxesInfo[makeKey($.model)],function(oe){var ae=oe.axis;$.getAxis(ae.dim)===ae&&(oe.seriesModels.push(r),oe.seriesDataCount==null&&(oe.seriesDataCount=0),oe.seriesDataCount+=r.getData().count())})})}function getLinkGroupIndex(g,n){for(var r=n.model,$=n.dim,L=0;L<g.length;L++){var V=g[L]||{};if(checkPropInLink(V[$+"AxisId"],r.id)||checkPropInLink(V[$+"AxisIndex"],r.componentIndex)||checkPropInLink(V[$+"AxisName"],r.name))return L}}function checkPropInLink(g,n){return g==="all"||isArray$2(g)&&indexOf(g,n)>=0||g===n}function fixValue(g){var n=getAxisInfo$1(g);if(n){var r=n.axisPointerModel,$=n.axis.scale,L=r.option,V=r.get("status"),oe=r.get("value");oe!=null&&(oe=$.parse(oe));var ae=isHandleTrigger(r);V==null&&(L.status=ae?"show":"hide");var re=$.getExtent().slice();re[0]>re[1]&&re.reverse(),(oe==null||oe>re[1])&&(oe=re[1]),oe<re[0]&&(oe=re[0]),L.value=oe,ae&&(L.status=n.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo$1(g){var n=(g.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return n&&n.axesInfo[makeKey(g)]}function getAxisPointerModel(g){var n=getAxisInfo$1(g);return n&&n.axisPointerModel}function isHandleTrigger(g){return!!g.get(["handle","show"])}function makeKey(g){return g.type+"||"+g.id}var axisPointerClazz={},AxisView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L,V){this.axisPointerClass&&fixValue(r),g.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,L,!0)},n.prototype.updateAxisPointer=function(r,$,L,V){this._doUpdateAxisPointerClass(r,L,!1)},n.prototype.remove=function(r,$){var L=this._axisPointer;L&&L.remove($)},n.prototype.dispose=function(r,$){this._disposeAxisPointer($),g.prototype.dispose.apply(this,arguments)},n.prototype._doUpdateAxisPointerClass=function(r,$,L){var V=n.getAxisPointerClass(this.axisPointerClass);if(V){var oe=getAxisPointerModel(r);oe?(this._axisPointer||(this._axisPointer=new V)).render(r,oe,$,L):this._disposeAxisPointer($)}},n.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},n.registerAxisPointerClass=function(r,$){axisPointerClazz[r]=$},n.getAxisPointerClass=function(r){return r&&axisPointerClazz[r]},n.type="axis",n}(ComponentView$1);const AxisView$1=AxisView;var inner$f=makeInner();function rectCoordAxisBuildSplitArea(g,n,r,$){var L=r.axis;if(!L.scale.isBlank()){var V=r.getModel("splitArea"),oe=V.getModel("areaStyle"),ae=oe.get("color"),re=$.coordinateSystem.getRect(),le=L.getTicksCoords({tickModel:V,clamp:!0});if(le.length){var ue=ae.length,de=inner$f(g).splitAreaColors,he=createHashMap(),pe=0;if(de)for(var _e=0;_e<le.length;_e++){var $e=de.get(le[_e].tickValue);if($e!=null){pe=($e+(ue-1)*_e)%ue;break}}var xe=L.toGlobalCoord(le[0].coord),Oe=oe.getAreaStyle();ae=isArray$2(ae)?ae:[ae];for(var _e=1;_e<le.length;_e++){var Ce=L.toGlobalCoord(le[_e].coord),Ie=void 0,Ne=void 0,ze=void 0,Fe=void 0;L.isHorizontal()?(Ie=xe,Ne=re.y,ze=Ce-Ie,Fe=re.height,xe=Ie+ze):(Ie=re.x,Ne=xe,ze=re.width,Fe=Ce-Ne,xe=Ne+Fe);var Ue=le[_e-1].tickValue;Ue!=null&&he.set(Ue,pe),n.add(new Rect$3({anid:Ue!=null?"area_"+Ue:null,shape:{x:Ie,y:Ne,width:ze,height:Fe},style:defaults$2({fill:ae[pe]},Oe),autoBatch:!0,silent:!0})),pe=(pe+1)%ue}inner$f(g).splitAreaColors=he}}}function rectCoordAxisHandleRemove(g){inner$f(g).splitAreaColors=null}var axisBuilderAttrs$3=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$2=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="CartesianAxisPointer",r}return n.prototype.render=function(r,$,L,V){this.group.removeAll();var oe=this._axisGroup;if(this._axisGroup=new Group$4,this.group.add(this._axisGroup),!!r.get("show")){var ae=r.getCoordSysModel(),re=layout$2(ae,r),le=new AxisBuilder$1(r,extend$1({handleAutoShown:function(de){for(var he=ae.coordinateSystem.getCartesians(),pe=0;pe<he.length;pe++)if(isIntervalOrLogScale(he[pe].getOtherAxis(r.axis).scale))return!0;return!1}},re));each$f(axisBuilderAttrs$3,le.add,le),this._axisGroup.add(le.getGroup()),each$f(selfBuilderAttrs$2,function(de){r.get([de,"show"])&&axisElementBuilders$2[de](this,this._axisGroup,r,ae)},this);var ue=V&&V.type==="changeAxisOrder"&&V.isInitSort;ue||groupTransition(oe,this._axisGroup,r),g.prototype.render.call(this,r,$,L,V)}},n.prototype.remove=function(){rectCoordAxisHandleRemove(this)},n.type="cartesianAxis",n}(AxisView$1),axisElementBuilders$2={splitLine:function(g,n,r,$){var L=r.axis;if(!L.scale.isBlank()){var V=r.getModel("splitLine"),oe=V.getModel("lineStyle"),ae=oe.get("color");ae=isArray$2(ae)?ae:[ae];for(var re=$.coordinateSystem.getRect(),le=L.isHorizontal(),ue=0,de=L.getTicksCoords({tickModel:V}),he=[],pe=[],_e=oe.getLineStyle(),$e=0;$e<de.length;$e++){var xe=L.toGlobalCoord(de[$e].coord);le?(he[0]=xe,he[1]=re.y,pe[0]=xe,pe[1]=re.y+re.height):(he[0]=re.x,he[1]=xe,pe[0]=re.x+re.width,pe[1]=xe);var Oe=ue++%ae.length,Ce=de[$e].tickValue,Ie=new Line$3({anid:Ce!=null?"line_"+de[$e].tickValue:null,autoBatch:!0,shape:{x1:he[0],y1:he[1],x2:pe[0],y2:pe[1]},style:defaults$2({stroke:ae[Oe]},_e),silent:!0});subPixelOptimizeLine(Ie.shape,_e.lineWidth),n.add(Ie)}}},minorSplitLine:function(g,n,r,$){var L=r.axis,V=r.getModel("minorSplitLine"),oe=V.getModel("lineStyle"),ae=$.coordinateSystem.getRect(),re=L.isHorizontal(),le=L.getMinorTicksCoords();if(le.length)for(var ue=[],de=[],he=oe.getLineStyle(),pe=0;pe<le.length;pe++)for(var _e=0;_e<le[pe].length;_e++){var $e=L.toGlobalCoord(le[pe][_e].coord);re?(ue[0]=$e,ue[1]=ae.y,de[0]=$e,de[1]=ae.y+ae.height):(ue[0]=ae.x,ue[1]=$e,de[0]=ae.x+ae.width,de[1]=$e);var xe=new Line$3({anid:"minor_line_"+le[pe][_e].tickValue,autoBatch:!0,shape:{x1:ue[0],y1:ue[1],x2:de[0],y2:de[1]},style:he,silent:!0});subPixelOptimizeLine(xe.shape,he.lineWidth),n.add(xe)}},splitArea:function(g,n,r,$){rectCoordAxisBuildSplitArea(g,n,r,$)}},CartesianXAxisView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="xAxis",n}(CartesianAxisView),CartesianYAxisView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=CartesianXAxisView.type,r}return n.type="yAxis",n}(CartesianAxisView),GridView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="grid",r}return n.prototype.render=function(r,$){this.group.removeAll(),r.get("show")&&this.group.add(new Rect$3({shape:r.coordinateSystem.getRect(),style:defaults$2({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},n.type="grid",n}(ComponentView$1),extraOption={offset:0};function install$O(g){g.registerComponentView(GridView),g.registerComponentModel(GridModel$1),g.registerCoordinateSystem("cartesian2d",Grid$1),axisModelCreator(g,"x",CartesianAxisModel,extraOption),axisModelCreator(g,"y",CartesianAxisModel,extraOption),g.registerComponentView(CartesianXAxisView),g.registerComponentView(CartesianYAxisView),g.registerPreprocessor(function(n){n.xAxis&&n.yAxis&&!n.grid&&(n.grid={})})}function install$N(g){use(install$O),g.registerSeriesModel(ScatterSeriesModel$1),g.registerChartView(ScatterView$1),g.registerLayout(pointsLayout("scatter"))}function radarLayout(g){g.eachSeriesByType("radar",function(n){var r=n.getData(),$=[],L=n.coordinateSystem;if(L){var V=L.getIndicatorAxes();each$f(V,function(oe,ae){r.each(r.mapDimension(V[ae].dim),function(re,le){$[le]=$[le]||[];var ue=L.dataToPoint(re,ae);$[le][ae]=isValidPoint(ue)?ue:getValueMissingPoint(L)})}),r.each(function(oe){var ae=find($[oe],function(re){return isValidPoint(re)})||getValueMissingPoint(L);$[oe].push(ae.slice()),r.setItemLayout(oe,$[oe])})}})}function isValidPoint(g){return!isNaN(g[0])&&!isNaN(g[1])}function getValueMissingPoint(g){return[g.cx,g.cy]}function radarBackwardCompat(g){var n=g.polar;if(n){isArray$2(n)||(n=[n]);var r=[];each$f(n,function($,L){$.indicator?($.type&&!$.shape&&($.shape=$.type),g.radar=g.radar||[],isArray$2(g.radar)||(g.radar=[g.radar]),g.radar.push($)):r.push($)}),g.polar=r}each$f(g.series,function($){$&&$.type==="radar"&&$.polarIndex&&($.radarIndex=$.polarIndex)})}var RadarView$2=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=r.coordinateSystem,oe=this.group,ae=r.getData(),re=this._data;function le(he,pe){var _e=he.getItemVisual(pe,"symbol")||"circle";if(_e!=="none"){var $e=normalizeSymbolSize(he.getItemVisual(pe,"symbolSize")),xe=createSymbol$1(_e,-1,-1,2,2),Oe=he.getItemVisual(pe,"symbolRotate")||0;return xe.attr({style:{strokeNoScale:!0},z2:100,scaleX:$e[0]/2,scaleY:$e[1]/2,rotation:Oe*Math.PI/180||0}),xe}}function ue(he,pe,_e,$e,xe,Oe){_e.removeAll();for(var Ce=0;Ce<pe.length-1;Ce++){var Ie=le($e,xe);Ie&&(Ie.__dimIdx=Ce,he[Ce]?(Ie.setPosition(he[Ce]),graphic[Oe?"initProps":"updateProps"](Ie,{x:pe[Ce][0],y:pe[Ce][1]},r,xe)):Ie.setPosition(pe[Ce]),_e.add(Ie))}}function de(he){return map$1(he,function(pe){return[V.cx,V.cy]})}ae.diff(re).add(function(he){var pe=ae.getItemLayout(he);if(pe){var _e=new Polygon$1,$e=new Polyline$3,xe={shape:{points:pe}};_e.shape.points=de(pe),$e.shape.points=de(pe),initProps(_e,xe,r,he),initProps($e,xe,r,he);var Oe=new Group$4,Ce=new Group$4;Oe.add($e),Oe.add(_e),Oe.add(Ce),ue($e.shape.points,pe,Ce,ae,he,!0),ae.setItemGraphicEl(he,Oe)}}).update(function(he,pe){var _e=re.getItemGraphicEl(pe),$e=_e.childAt(0),xe=_e.childAt(1),Oe=_e.childAt(2),Ce={shape:{points:ae.getItemLayout(he)}};!Ce.shape.points||(ue($e.shape.points,Ce.shape.points,Oe,ae,he,!1),saveOldStyle(xe),saveOldStyle($e),updateProps$1($e,Ce,r),updateProps$1(xe,Ce,r),ae.setItemGraphicEl(he,_e))}).remove(function(he){oe.remove(re.getItemGraphicEl(he))}).execute(),ae.eachItemGraphicEl(function(he,pe){var _e=ae.getItemModel(pe),$e=he.childAt(0),xe=he.childAt(1),Oe=he.childAt(2),Ce=ae.getItemVisual(pe,"style"),Ie=Ce.fill;oe.add(he),$e.useStyle(defaults$2(_e.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:Ie})),setStatesStylesFromModel($e,_e,"lineStyle"),setStatesStylesFromModel(xe,_e,"areaStyle");var Ne=_e.getModel("areaStyle"),ze=Ne.isEmpty()&&Ne.parentModel.isEmpty();xe.ignore=ze,each$f(["emphasis","select","blur"],function(At){var Et=_e.getModel([At,"areaStyle"]),Pt=Et.isEmpty()&&Et.parentModel.isEmpty();xe.ensureState(At).ignore=Pt&&ze}),xe.useStyle(defaults$2(Ne.getAreaStyle(),{fill:Ie,opacity:.7,decal:Ce.decal}));var Fe=_e.getModel("emphasis"),Ue=Fe.getModel("itemStyle").getItemStyle();Oe.eachChild(function(At){if(At instanceof ZRImage$1){var Et=At.style;At.useStyle(extend$1({image:Et.image,x:Et.x,y:Et.y,width:Et.width,height:Et.height},Ce))}else At.useStyle(Ce),At.setColor(Ie),At.style.strokeNoScale=!0;var Pt=At.ensureState("emphasis");Pt.style=clone$4(Ue);var kt=ae.getStore().get(ae.getDimensionIndex(At.__dimIdx),pe);(kt==null||isNaN(kt))&&(kt=""),setLabelStyle(At,getLabelStatesModels(_e),{labelFetcher:ae.hostModel,labelDataIndex:pe,labelDimIndex:At.__dimIdx,defaultText:kt,inheritColor:Ie,defaultOpacity:Ce.opacity})}),toggleHoverEmphasis(he,Fe.get("focus"),Fe.get("blurScope"),Fe.get("disabled"))}),this._data=ae},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.type="radar",n}(ChartView$1);const RadarView$3=RadarView$2;var RadarSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.init=function(r){g.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$2(this.getData,this),bind$2(this.getRawData,this))},n.prototype.getInitialData=function(r,$){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},n.prototype.formatTooltip=function(r,$,L){var V=this.getData(),oe=this.coordinateSystem,ae=oe.getIndicatorAxes(),re=this.getData().getName(r),le=re===""?this.name:re,ue=retrieveVisualColorForTooltipMarker(this,r);return createTooltipMarkup("section",{header:le,sortBlocks:!0,blocks:map$1(ae,function(de){var he=V.get(V.mapDimension(de.dim),r);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:ue,name:de.name,value:he,sortParam:he})})})},n.prototype.getTooltipPosition=function(r){if(r!=null){for(var $=this.getData(),L=this.coordinateSystem,V=$.getValues(map$1(L.dimensions,function(le){return $.mapDimension(le)}),r),oe=0,ae=V.length;oe<ae;oe++)if(!isNaN(V[oe])){var re=L.getIndicatorAxes();return L.coordToPoint(re[oe].dataToCoord(V[oe]),oe)}}},n.type="series.radar",n.dependencies=["radar"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},n}(SeriesModel$1);const RadarSeriesModel$1=RadarSeriesModel;var valueAxisDefault=axisDefault.value;function defaultsShow(g,n){return defaults$2({show:n},g)}var RadarModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){var r=this.get("boundaryGap"),$=this.get("splitNumber"),L=this.get("scale"),V=this.get("axisLine"),oe=this.get("axisTick"),ae=this.get("axisLabel"),re=this.get("axisName"),le=this.get(["axisName","show"]),ue=this.get(["axisName","formatter"]),de=this.get("axisNameGap"),he=this.get("triggerEvent"),pe=map$1(this.get("indicator")||[],function(_e){_e.max!=null&&_e.max>0&&!_e.min?_e.min=0:_e.min!=null&&_e.min<0&&!_e.max&&(_e.max=0);var $e=re;_e.color!=null&&($e=defaults$2({color:_e.color},re));var xe=merge$1(clone$4(_e),{boundaryGap:r,splitNumber:$,scale:L,axisLine:V,axisTick:oe,axisLabel:ae,name:_e.text,showName:le,nameLocation:"end",nameGap:de,nameTextStyle:$e,triggerEvent:he},!1);if(isString$1(ue)){var Oe=xe.name;xe.name=ue.replace("{value}",Oe!=null?Oe:"")}else isFunction$1(ue)&&(xe.name=ue(xe.name,xe));var Ce=new Model$1(xe,null,this.ecModel);return mixin(Ce,AxisModelCommonMixin.prototype),Ce.mainType="radar",Ce.componentIndex=this.componentIndex,Ce},this);this._indicatorModels=pe},n.prototype.getIndicatorModels=function(){return this._indicatorModels},n.type="radar",n.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:merge$1({lineStyle:{color:"#bbb"}},valueAxisDefault.axisLine),axisLabel:defaultsShow(valueAxisDefault.axisLabel,!1),axisTick:defaultsShow(valueAxisDefault.axisTick,!1),splitLine:defaultsShow(valueAxisDefault.splitLine,!0),splitArea:defaultsShow(valueAxisDefault.splitArea,!0),indicator:[]},n}(ComponentModel$1);const RadarModel$1=RadarModel;var axisBuilderAttrs$2=["axisLine","axisTickLabel","axisName"],RadarView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=this.group;V.removeAll(),this._buildAxes(r),this._buildSplitLineAndArea(r)},n.prototype._buildAxes=function(r){var $=r.coordinateSystem,L=$.getIndicatorAxes(),V=map$1(L,function(oe){var ae=oe.model.get("showName")?oe.name:"",re=new AxisBuilder$1(oe.model,{axisName:ae,position:[$.cx,$.cy],rotation:oe.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return re});each$f(V,function(oe){each$f(axisBuilderAttrs$2,oe.add,oe),this.group.add(oe.getGroup())},this)},n.prototype._buildSplitLineAndArea=function(r){var $=r.coordinateSystem,L=$.getIndicatorAxes();if(!L.length)return;var V=r.get("shape"),oe=r.getModel("splitLine"),ae=r.getModel("splitArea"),re=oe.getModel("lineStyle"),le=ae.getModel("areaStyle"),ue=oe.get("show"),de=ae.get("show"),he=re.get("color"),pe=le.get("color"),_e=isArray$2(he)?he:[he],$e=isArray$2(pe)?pe:[pe],xe=[],Oe=[];function Ce(vn,_n,$n){var Sn=$n%_n.length;return vn[Sn]=vn[Sn]||[],Sn}if(V==="circle")for(var Ie=L[0].getTicksCoords(),Ne=$.cx,ze=$.cy,Fe=0;Fe<Ie.length;Fe++){if(ue){var Ue=Ce(xe,_e,Fe);xe[Ue].push(new Circle$1({shape:{cx:Ne,cy:ze,r:Ie[Fe].coord}}))}if(de&&Fe<Ie.length-1){var Ue=Ce(Oe,$e,Fe);Oe[Ue].push(new Ring$1({shape:{cx:Ne,cy:ze,r0:Ie[Fe].coord,r:Ie[Fe+1].coord}}))}}else for(var At,Et=map$1(L,function(_n,$n){var Sn=_n.getTicksCoords();return At=At==null?Sn.length-1:Math.min(Sn.length-1,At),map$1(Sn,function(xn){return $.coordToPoint(xn.coord,$n)})}),Pt=[],Fe=0;Fe<=At;Fe++){for(var kt=[],Dt=0;Dt<L.length;Dt++)kt.push(Et[Dt][Fe]);if(kt[0]&&kt.push(kt[0].slice()),ue){var Ue=Ce(xe,_e,Fe);xe[Ue].push(new Polyline$3({shape:{points:kt}}))}if(de&&Pt){var Ue=Ce(Oe,$e,Fe-1);Oe[Ue].push(new Polygon$1({shape:{points:kt.concat(Pt)}}))}Pt=kt.slice().reverse()}var Lt=re.getLineStyle(),hn=le.getAreaStyle();each$f(Oe,function(vn,_n){this.group.add(mergePath(vn,{style:defaults$2({stroke:"none",fill:$e[_n%$e.length]},hn),silent:!0}))},this),each$f(xe,function(vn,_n){this.group.add(mergePath(vn,{style:defaults$2({fill:"none",stroke:_e[_n%_e.length]},Lt),silent:!0}))},this)},n.type="radar",n}(ComponentView$1);const RadarView$1=RadarView;var IndicatorAxis=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this,r,$,L)||this;return V.type="value",V.angle=0,V.name="",V}return n}(Axis$1);const IndicatorAxis$1=IndicatorAxis;var Radar=function(){function g(n,r,$){this.dimensions=[],this._model=n,this._indicatorAxes=map$1(n.getIndicatorModels(),function(L,V){var oe="indicator_"+V,ae=new IndicatorAxis$1(oe,new IntervalScale$1);return ae.name=L.get("name"),ae.model=L,L.axis=ae,this.dimensions.push(oe),ae},this),this.resize(n,$)}return g.prototype.getIndicatorAxes=function(){return this._indicatorAxes},g.prototype.dataToPoint=function(n,r){var $=this._indicatorAxes[r];return this.coordToPoint($.dataToCoord(n),r)},g.prototype.coordToPoint=function(n,r){var $=this._indicatorAxes[r],L=$.angle,V=this.cx+n*Math.cos(L),oe=this.cy-n*Math.sin(L);return[V,oe]},g.prototype.pointToData=function(n){var r=n[0]-this.cx,$=n[1]-this.cy,L=Math.sqrt(r*r+$*$);r/=L,$/=L;for(var V=Math.atan2(-$,r),oe=1/0,ae,re=-1,le=0;le<this._indicatorAxes.length;le++){var ue=this._indicatorAxes[le],de=Math.abs(V-ue.angle);de<oe&&(ae=ue,re=le,oe=de)}return[re,+(ae&&ae.coordToData(L))]},g.prototype.resize=function(n,r){var $=n.get("center"),L=r.getWidth(),V=r.getHeight(),oe=Math.min(L,V)/2;this.cx=parsePercent($[0],L),this.cy=parsePercent($[1],V),this.startAngle=n.get("startAngle")*Math.PI/180;var ae=n.get("radius");(isString$1(ae)||isNumber$1(ae))&&(ae=[0,ae]),this.r0=parsePercent(ae[0],oe),this.r=parsePercent(ae[1],oe),each$f(this._indicatorAxes,function(re,le){re.setExtent(this.r0,this.r);var ue=this.startAngle+le*Math.PI*2/this._indicatorAxes.length;ue=Math.atan2(Math.sin(ue),Math.cos(ue)),re.angle=ue},this)},g.prototype.update=function(n,r){var $=this._indicatorAxes,L=this._model;each$f($,function(ae){ae.scale.setExtent(1/0,-1/0)}),n.eachSeriesByType("radar",function(ae,re){if(!(ae.get("coordinateSystem")!=="radar"||n.getComponent("radar",ae.get("radarIndex"))!==L)){var le=ae.getData();each$f($,function(ue){ue.scale.unionExtentFromData(le,le.mapDimension(ue.dim))})}},this);var V=L.get("splitNumber"),oe=new IntervalScale$1;oe.setExtent(0,V),oe.setInterval(1),each$f($,function(ae,re){alignScaleTicks(ae.scale,ae.model,oe)})},g.prototype.convertToPixel=function(n,r,$){return console.warn("Not implemented."),null},g.prototype.convertFromPixel=function(n,r,$){return console.warn("Not implemented."),null},g.prototype.containPoint=function(n){return console.warn("Not implemented."),!1},g.create=function(n,r){var $=[];return n.eachComponent("radar",function(L){var V=new g(L,n,r);$.push(V),L.coordinateSystem=V}),n.eachSeriesByType("radar",function(L){L.get("coordinateSystem")==="radar"&&(L.coordinateSystem=$[L.get("radarIndex")||0])}),$},g.dimensions=[],g}();const Radar$1=Radar;function install$M(g){g.registerCoordinateSystem("radar",Radar$1),g.registerComponentModel(RadarModel$1),g.registerComponentView(RadarView$1),g.registerVisual({seriesType:"radar",reset:function(n){var r=n.getData();r.each(function($){r.setItemVisual($,"legendIcon","roundRect")}),r.setVisual("legendIcon","roundRect")}})}function install$L(g){use(install$M),g.registerChartView(RadarView$3),g.registerSeriesModel(RadarSeriesModel$1),g.registerLayout(radarLayout),g.registerProcessor(dataFilter$1("radar")),g.registerPreprocessor(radarBackwardCompat)}var ATTR="\0_ec_interaction_mutex";function take(g,n,r){var $=getStore(g);$[n]=r}function release(g,n,r){var $=getStore(g),L=$[n];L===r&&($[n]=null)}function isTaken(g,n){return!!getStore(g)[n]}function getStore(g){return g[ATTR]||(g[ATTR]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop$1);var RoamController=function(g){__extends(n,g);function n(r){var $=g.call(this)||this;$._zr=r;var L=bind$2($._mousedownHandler,$),V=bind$2($._mousemoveHandler,$),oe=bind$2($._mouseupHandler,$),ae=bind$2($._mousewheelHandler,$),re=bind$2($._pinchHandler,$);return $.enable=function(le,ue){this.disable(),this._opt=defaults$2(clone$4(ue)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),le==null&&(le=!0),(le===!0||le==="move"||le==="pan")&&(r.on("mousedown",L),r.on("mousemove",V),r.on("mouseup",oe)),(le===!0||le==="scale"||le==="zoom")&&(r.on("mousewheel",ae),r.on("pinch",re))},$.disable=function(){r.off("mousedown",L),r.off("mousemove",V),r.off("mouseup",oe),r.off("mousewheel",ae),r.off("pinch",re)},$}return n.prototype.isDragging=function(){return this._dragging},n.prototype.isPinching=function(){return this._pinching},n.prototype.setPointerChecker=function(r){this.pointerChecker=r},n.prototype.dispose=function(){this.disable()},n.prototype._mousedownHandler=function(r){if(!isMiddleOrRightButtonOnMouseUpDown(r)){for(var $=r.target;$;){if($.draggable)return;$=$.__hostTarget||$.parent}var L=r.offsetX,V=r.offsetY;this.pointerChecker&&this.pointerChecker(r,L,V)&&(this._x=L,this._y=V,this._dragging=!0)}},n.prototype._mousemoveHandler=function(r){if(!(!this._dragging||!isAvailableBehavior("moveOnMouseMove",r,this._opt)||r.gestureEvent==="pinch"||isTaken(this._zr,"globalPan"))){var $=r.offsetX,L=r.offsetY,V=this._x,oe=this._y,ae=$-V,re=L-oe;this._x=$,this._y=L,this._opt.preventDefaultMouseMove&&stop(r.event),trigger$1(this,"pan","moveOnMouseMove",r,{dx:ae,dy:re,oldX:V,oldY:oe,newX:$,newY:L,isAvailableBehavior:null})}},n.prototype._mouseupHandler=function(r){isMiddleOrRightButtonOnMouseUpDown(r)||(this._dragging=!1)},n.prototype._mousewheelHandler=function(r){var $=isAvailableBehavior("zoomOnMouseWheel",r,this._opt),L=isAvailableBehavior("moveOnMouseWheel",r,this._opt),V=r.wheelDelta,oe=Math.abs(V),ae=r.offsetX,re=r.offsetY;if(!(V===0||!$&&!L)){if($){var le=oe>3?1.4:oe>1?1.2:1.1,ue=V>0?le:1/le;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",r,{scale:ue,originX:ae,originY:re,isAvailableBehavior:null})}if(L){var de=Math.abs(V),he=(V>0?1:-1)*(de>3?.4:de>1?.15:.05);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:he,originX:ae,originY:re,isAvailableBehavior:null})}}},n.prototype._pinchHandler=function(r){if(!isTaken(this._zr,"globalPan")){var $=r.pinchScale>1?1.1:.9090909090909092;checkPointerAndTrigger(this,"zoom",null,r,{scale:$,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})}},n}(Eventful$1);function checkPointerAndTrigger(g,n,r,$,L){g.pointerChecker&&g.pointerChecker($,L.originX,L.originY)&&(stop($.event),trigger$1(g,n,r,$,L))}function trigger$1(g,n,r,$,L){L.isAvailableBehavior=bind$2(isAvailableBehavior,null,r,$),g.trigger(n,L)}function isAvailableBehavior(g,n,r){var $=r[g];return!g||$&&(!isString$1($)||n.event[$+"Key"])}const RoamController$1=RoamController;function updateViewOnPan(g,n,r){var $=g.target;$.x+=n,$.y+=r,$.dirty()}function updateViewOnZoom(g,n,r,$){var L=g.target,V=g.zoomLimit,oe=g.zoom=g.zoom||1;if(oe*=n,V){var ae=V.min||0,re=V.max||1/0;oe=Math.max(Math.min(re,oe),ae)}var le=oe/g.zoom;g.zoom=oe,L.x-=(r-L.x)*(le-1),L.y-=($-L.y)*(le-1),L.scaleX*=le,L.scaleY*=le,L.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(g,n,r){var $=n.getComponentByElement(g.topTarget),L=$&&$.coordinateSystem;return $&&$!==r&&!IRRELEVANT_EXCLUDES.hasOwnProperty($.mainType)&&L&&L.model!==r}function parseXML(g){if(isString$1(g)){var n=new DOMParser;g=n.parseFromString(g,"text/xml")}var r=g;for(r.nodeType===9&&(r=r.firstChild);r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1;)r=r.nextSibling;return r}var nodeParsers,INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=keys(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=keys(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function g(){this._defs={},this._root=null}return g.prototype.parse=function(n,r){r=r||{};var $=parseXML(n);this._defsUsePending=[];var L=new Group$4;this._root=L;var V=[],oe=$.getAttribute("viewBox")||"",ae=parseFloat($.getAttribute("width")||r.width),re=parseFloat($.getAttribute("height")||r.height);isNaN(ae)&&(ae=null),isNaN(re)&&(re=null),parseAttributes($,L,null,!0,!1);for(var le=$.firstChild;le;)this._parseNode(le,L,V,null,!1,!1),le=le.nextSibling;applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[];var ue,de;if(oe){var he=splitNumberSequence(oe);he.length>=4&&(ue={x:parseFloat(he[0]||0),y:parseFloat(he[1]||0),width:parseFloat(he[2]),height:parseFloat(he[3])})}if(ue&&ae!=null&&re!=null&&(de=makeViewBoxTransform(ue,{x:0,y:0,width:ae,height:re}),!r.ignoreViewBox)){var pe=L;L=new Group$4,L.add(pe),pe.scaleX=pe.scaleY=de.scale,pe.x=de.x,pe.y=de.y}return!r.ignoreRootClip&&ae!=null&&re!=null&&L.setClipPath(new Rect$3({shape:{x:0,y:0,width:ae,height:re}})),{root:L,width:ae,height:re,viewBoxRect:ue,viewBoxTransform:de,named:V}},g.prototype._parseNode=function(n,r,$,L,V,oe){var ae=n.nodeName.toLowerCase(),re,le=L;if(ae==="defs"&&(V=!0),ae==="text"&&(oe=!0),ae==="defs"||ae==="switch")re=r;else{if(!V){var ue=nodeParsers[ae];if(ue&&hasOwn(nodeParsers,ae)){re=ue.call(this,n,r);var de=n.getAttribute("name");if(de){var he={name:de,namedFrom:null,svgNodeTagLower:ae,el:re};$.push(he),ae==="g"&&(le=he)}else L&&$.push({name:L.name,namedFrom:L,svgNodeTagLower:ae,el:re});r.add(re)}}var pe=paintServerParsers[ae];if(pe&&hasOwn(paintServerParsers,ae)){var _e=pe.call(this,n),$e=n.getAttribute("id");$e&&(this._defs[$e]=_e)}}if(re&&re.isGroup)for(var xe=n.firstChild;xe;)xe.nodeType===1?this._parseNode(xe,re,$,le,V,oe):xe.nodeType===3&&oe&&this._parseText(xe,re),xe=xe.nextSibling},g.prototype._parseText=function(n,r){var $=new TSpan$1({style:{text:n.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(r,$),parseAttributes(n,$,this._defsUsePending,!1,!1),applyTextAlignment($,r);var L=$.style,V=L.fontSize;V&&V<9&&(L.fontSize=9,$.scaleX*=V/9,$.scaleY*=V/9);var oe=(L.fontSize||L.fontFamily)&&[L.fontStyle,L.fontWeight,(L.fontSize||12)+"px",L.fontFamily||"sans-serif"].join(" ");L.font=oe;var ae=$.getBoundingRect();return this._textX+=ae.width,r.add($),$},g.internalField=function(){nodeParsers={g:function(n,r){var $=new Group$4;return inheritStyle(r,$),parseAttributes(n,$,this._defsUsePending,!1,!1),$},rect:function(n,r){var $=new Rect$3;return inheritStyle(r,$),parseAttributes(n,$,this._defsUsePending,!1,!1),$.setShape({x:parseFloat(n.getAttribute("x")||"0"),y:parseFloat(n.getAttribute("y")||"0"),width:parseFloat(n.getAttribute("width")||"0"),height:parseFloat(n.getAttribute("height")||"0")}),$.silent=!0,$},circle:function(n,r){var $=new Circle$1;return inheritStyle(r,$),parseAttributes(n,$,this._defsUsePending,!1,!1),$.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),r:parseFloat(n.getAttribute("r")||"0")}),$.silent=!0,$},line:function(n,r){var $=new Line$3;return inheritStyle(r,$),parseAttributes(n,$,this._defsUsePending,!1,!1),$.setShape({x1:parseFloat(n.getAttribute("x1")||"0"),y1:parseFloat(n.getAttribute("y1")||"0"),x2:parseFloat(n.getAttribute("x2")||"0"),y2:parseFloat(n.getAttribute("y2")||"0")}),$.silent=!0,$},ellipse:function(n,r){var $=new Ellipse$1;return inheritStyle(r,$),parseAttributes(n,$,this._defsUsePending,!1,!1),$.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),rx:parseFloat(n.getAttribute("rx")||"0"),ry:parseFloat(n.getAttribute("ry")||"0")}),$.silent=!0,$},polygon:function(n,r){var $=n.getAttribute("points"),L;$&&(L=parsePoints($));var V=new Polygon$1({shape:{points:L||[]},silent:!0});return inheritStyle(r,V),parseAttributes(n,V,this._defsUsePending,!1,!1),V},polyline:function(n,r){var $=n.getAttribute("points"),L;$&&(L=parsePoints($));var V=new Polyline$3({shape:{points:L||[]},silent:!0});return inheritStyle(r,V),parseAttributes(n,V,this._defsUsePending,!1,!1),V},image:function(n,r){var $=new ZRImage$1;return inheritStyle(r,$),parseAttributes(n,$,this._defsUsePending,!1,!1),$.setStyle({image:n.getAttribute("xlink:href")||n.getAttribute("href"),x:+n.getAttribute("x"),y:+n.getAttribute("y"),width:+n.getAttribute("width"),height:+n.getAttribute("height")}),$.silent=!0,$},text:function(n,r){var $=n.getAttribute("x")||"0",L=n.getAttribute("y")||"0",V=n.getAttribute("dx")||"0",oe=n.getAttribute("dy")||"0";this._textX=parseFloat($)+parseFloat(V),this._textY=parseFloat(L)+parseFloat(oe);var ae=new Group$4;return inheritStyle(r,ae),parseAttributes(n,ae,this._defsUsePending,!1,!0),ae},tspan:function(n,r){var $=n.getAttribute("x"),L=n.getAttribute("y");$!=null&&(this._textX=parseFloat($)),L!=null&&(this._textY=parseFloat(L));var V=n.getAttribute("dx")||"0",oe=n.getAttribute("dy")||"0",ae=new Group$4;return inheritStyle(r,ae),parseAttributes(n,ae,this._defsUsePending,!1,!0),this._textX+=parseFloat(V),this._textY+=parseFloat(oe),ae},path:function(n,r){var $=n.getAttribute("d")||"",L=createFromString($);return inheritStyle(r,L),parseAttributes(n,L,this._defsUsePending,!1,!1),L.silent=!0,L}}}(),g}(),paintServerParsers={lineargradient:function(g){var n=parseInt(g.getAttribute("x1")||"0",10),r=parseInt(g.getAttribute("y1")||"0",10),$=parseInt(g.getAttribute("x2")||"10",10),L=parseInt(g.getAttribute("y2")||"0",10),V=new LinearGradient$1(n,r,$,L);return parsePaintServerUnit(g,V),parseGradientColorStops(g,V),V},radialgradient:function(g){var n=parseInt(g.getAttribute("cx")||"0",10),r=parseInt(g.getAttribute("cy")||"0",10),$=parseInt(g.getAttribute("r")||"0",10),L=new RadialGradient$1(n,r,$);return parsePaintServerUnit(g,L),parseGradientColorStops(g,L),L}};function parsePaintServerUnit(g,n){var r=g.getAttribute("gradientUnits");r==="userSpaceOnUse"&&(n.global=!0)}function parseGradientColorStops(g,n){for(var r=g.firstChild;r;){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var $=r.getAttribute("offset"),L=void 0;$&&$.indexOf("%")>0?L=parseInt($,10)/100:$?L=parseFloat($):L=0;var V={};parseInlineStyle(r,V,V);var oe=V.stopColor||r.getAttribute("stop-color")||"#000000";n.colorStops.push({offset:L,color:oe})}r=r.nextSibling}}function inheritStyle(g,n){g&&g.__inheritedStyle&&(n.__inheritedStyle||(n.__inheritedStyle={}),defaults$2(n.__inheritedStyle,g.__inheritedStyle))}function parsePoints(g){for(var n=splitNumberSequence(g),r=[],$=0;$<n.length;$+=2){var L=parseFloat(n[$]),V=parseFloat(n[$+1]);r.push([L,V])}return r}function parseAttributes(g,n,r,$,L){var V=n,oe=V.__inheritedStyle=V.__inheritedStyle||{},ae={};g.nodeType===1&&(parseTransformAttribute(g,n),parseInlineStyle(g,oe,ae),$||parseAttributeStyle(g,oe,ae)),V.style=V.style||{},oe.fill!=null&&(V.style.fill=getFillStrokeStyle(V,"fill",oe.fill,r)),oe.stroke!=null&&(V.style.stroke=getFillStrokeStyle(V,"stroke",oe.stroke,r)),each$f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(re){oe[re]!=null&&(V.style[re]=parseFloat(oe[re]))}),each$f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(re){oe[re]!=null&&(V.style[re]=oe[re])}),L&&(V.__selfStyle=ae),oe.lineDash&&(V.style.lineDash=map$1(splitNumberSequence(oe.lineDash),function(re){return parseFloat(re)})),(oe.visibility==="hidden"||oe.visibility==="collapse")&&(V.invisible=!0),oe.display==="none"&&(V.ignore=!0)}function applyTextAlignment(g,n){var r=n.__selfStyle;if(r){var $=r.textBaseline,L=$;!$||$==="auto"||$==="baseline"?L="alphabetic":$==="before-edge"||$==="text-before-edge"?L="top":$==="after-edge"||$==="text-after-edge"?L="bottom":($==="central"||$==="mathematical")&&(L="middle"),g.style.textBaseline=L}var V=n.__inheritedStyle;if(V){var oe=V.textAlign,ae=oe;oe&&(oe==="middle"&&(ae="center"),g.style.textAlign=ae)}}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(g,n,r,$){var L=r&&r.match(urlRegex);if(L){var V=trim$2(L[1]);$.push([g,n,V]);return}return r==="none"&&(r=null),r}function applyDefs(g,n){for(var r=0;r<n.length;r++){var $=n[r];$[0].style[$[1]]=g[$[2]]}}var numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(g){return g.match(numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;function parseTransformAttribute(g,n){var r=g.getAttribute("transform");if(r){r=r.replace(/,/g," ");var $=[],L=null;r.replace(transformRegex,function(de,he,pe){return $.push(he,pe),""});for(var V=$.length-1;V>0;V-=2){var oe=$[V],ae=$[V-1],re=splitNumberSequence(oe);switch(L=L||create$1(),ae){case"translate":translate(L,L,[parseFloat(re[0]),parseFloat(re[1]||"0")]);break;case"scale":scale$1(L,L,[parseFloat(re[0]),parseFloat(re[1]||re[0])]);break;case"rotate":rotate(L,L,-parseFloat(re[0])*DEGREE_TO_ANGLE);break;case"skewX":var le=Math.tan(parseFloat(re[0])*DEGREE_TO_ANGLE);mul(L,[1,0,le,1,0,0],L);break;case"skewY":var ue=Math.tan(parseFloat(re[0])*DEGREE_TO_ANGLE);mul(L,[1,ue,0,1,0,0],L);break;case"matrix":L[0]=parseFloat(re[0]),L[1]=parseFloat(re[1]),L[2]=parseFloat(re[2]),L[3]=parseFloat(re[3]),L[4]=parseFloat(re[4]),L[5]=parseFloat(re[5]);break}}n.setLocalTransform(L)}}var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(g,n,r){var $=g.getAttribute("style");if($){styleRegex.lastIndex=0;for(var L;(L=styleRegex.exec($))!=null;){var V=L[1],oe=hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP,V)?INHERITABLE_STYLE_ATTRIBUTES_MAP[V]:null;oe&&(n[oe]=L[2]);var ae=hasOwn(SELF_STYLE_ATTRIBUTES_MAP,V)?SELF_STYLE_ATTRIBUTES_MAP[V]:null;ae&&(r[ae]=L[2])}}}function parseAttributeStyle(g,n,r){for(var $=0;$<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;$++){var L=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[$],V=g.getAttribute(L);V!=null&&(n[INHERITABLE_STYLE_ATTRIBUTES_MAP[L]]=V)}for(var $=0;$<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;$++){var L=SELF_STYLE_ATTRIBUTES_MAP_KEYS[$],V=g.getAttribute(L);V!=null&&(r[SELF_STYLE_ATTRIBUTES_MAP[L]]=V)}}function makeViewBoxTransform(g,n){var r=n.width/g.width,$=n.height/g.height,L=Math.min(r,$);return{scale:L,x:-(g.x+g.width/2)*L+(n.x+n.width/2),y:-(g.y+g.height/2)*L+(n.y+n.height/2)}}function parseSVG(g,n){var r=new SVGParser;return r.parse(g,n)}var REGION_AVAILABLE_SVG_TAG_MAP=createHashMap(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function g(n,r){this.type="geoSVG",this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=n,this._parsedXML=parseXML(r)}return g.prototype.load=function(){var n=this._firstGraphic;if(!n){n=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(n),this._boundingRect=this._firstGraphic.boundingRect.clone();var r=createRegions(n.named),$=r.regions,L=r.regionsMap;this._regions=$,this._regionsMap=L}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},g.prototype._buildGraphic=function(n){var r,$;try{r=n&&parseSVG(n,{ignoreViewBox:!0,ignoreRootClip:!0})||{},$=r.root,assert($!=null)}catch(xe){throw new Error(`Invalid svg format
`+xe.message)}var L=new Group$4;L.add($),L.isGeoSVGGraphicRoot=!0;var V=r.width,oe=r.height,ae=r.viewBoxRect,re=this._boundingRect;if(!re){var le=void 0,ue=void 0,de=void 0,he=void 0;if(V!=null?(le=0,de=V):ae&&(le=ae.x,de=ae.width),oe!=null?(ue=0,he=oe):ae&&(ue=ae.y,he=ae.height),le==null||ue==null){var pe=$.getBoundingRect();le==null&&(le=pe.x,de=pe.width),ue==null&&(ue=pe.y,he=pe.height)}re=this._boundingRect=new BoundingRect$1(le,ue,de,he)}if(ae){var _e=makeViewBoxTransform(ae,re);$.scaleX=$.scaleY=_e.scale,$.x=_e.x,$.y=_e.y}L.setClipPath(new Rect$3({shape:re.plain()}));var $e=[];return each$f(r.named,function(xe){REGION_AVAILABLE_SVG_TAG_MAP.get(xe.svgNodeTagLower)!=null&&($e.push(xe),setSilent(xe.el))}),{root:L,boundingRect:re,named:$e}},g.prototype.useGraphic=function(n){var r=this._usedGraphicMap,$=r.get(n);return $||($=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),r.set(n,$),$)},g.prototype.freeGraphic=function(n){var r=this._usedGraphicMap,$=r.get(n);$&&(r.removeKey(n),this._freedGraphics.push($))},g}();function setSilent(g){g.silent=!1,g.isGroup&&g.traverse(function(n){n.silent=!1})}function createRegions(g){var n=[],r=createHashMap();return each$f(g,function($){if($.namedFrom==null){var L=new GeoSVGRegion($.name,$.el);n.push(L),r.set($.name,L)}}),{regions:n,regionsMap:r}}for(var geoCoord=[126,25],nanhaiName="\u5357\u6D77\u8BF8\u5C9B",points$1=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],i=0;i<points$1.length;i++)for(var k=0;k<points$1[i].length;k++)points$1[i][k][0]/=10.5,points$1[i][k][1]/=-14,points$1[i][k][0]+=geoCoord[0],points$1[i][k][1]+=geoCoord[1];function fixNanhai(g,n){if(g==="china"){for(var r=0;r<n.length;r++)if(n[r].name===nanhaiName)return;n.push(new GeoJSONRegion(nanhaiName,map$1(points$1,function($){return{type:"polygon",exterior:$}}),geoCoord))}}var coordsOffsetMap={\u5357\u6D77\u8BF8\u5C9B:[32,80],\u5E7F\u4E1C:[0,-10],\u9999\u6E2F:[10,5],\u6FB3\u95E8:[-10,10],\u5929\u6D25:[5,5]};function fixTextCoords(g,n){if(g==="china"){var r=coordsOffsetMap[n.name];if(r){var $=n.getCenter();$[0]+=r[0]/10.5,$[1]+=-r[1]/14,n.setCenter($)}}}var points=[[[123.45165252685548,25.73527164402261],[123.497314453125,25.73527164402261],[123.497314453125,25.750734064600884],[123.45165252685548,25.750734064600884],[123.45165252685548,25.73527164402261]]];function fixDiaoyuIsland(g,n){g==="china"&&n.name==="\u53F0\u6E7E"&&n.geometries.push({type:"polygon",exterior:points[0]})}var DEFAULT_NAME_PROPERTY="name",GeoJSONResource=function(){function g(n,r,$){this.type="geoJSON",this._parsedMap=createHashMap(),this._mapName=n,this._specialAreas=$,this._geoJSON=parseInput(r)}return g.prototype.load=function(n,r){r=r||DEFAULT_NAME_PROPERTY;var $=this._parsedMap.get(r);if(!$){var L=this._parseToRegions(r);$=this._parsedMap.set(r,{regions:L,boundingRect:calculateBoundingRect(L)})}var V=createHashMap(),oe=[];return each$f($.regions,function(ae){var re=ae.name;n&&hasOwn(n,re)&&(ae=ae.cloneShallow(re=n[re])),oe.push(ae),V.set(re,ae)}),{regions:oe,boundingRect:$.boundingRect||new BoundingRect$1(0,0,0,0),regionsMap:V}},g.prototype._parseToRegions=function(n){var r=this._mapName,$=this._geoJSON,L;try{L=$?parseGeoJSON($,n):[]}catch(V){throw new Error(`Invalid geoJson format
`+V.message)}return fixNanhai(r,L),each$f(L,function(V){var oe=V.name;fixTextCoords(r,V),fixDiaoyuIsland(r,V);var ae=this._specialAreas&&this._specialAreas[oe];ae&&V.transformTo(ae.left,ae.top,ae.width,ae.height)},this),L},g.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},g}();function calculateBoundingRect(g){for(var n,r=0;r<g.length;r++){var $=g[r].getBoundingRect();n=n||$.clone(),n.union($)}return n}function parseInput(g){return isString$1(g)?typeof JSON<"u"&&JSON.parse?JSON.parse(g):new Function("return ("+g+");")():g}var storage=createHashMap();const geoSourceManager={registerMap:function(g,n,r){if(n.svg){var $=new GeoSVGResource(g,n.svg);storage.set(g,$)}else{var L=n.geoJson||n.geoJSON;L&&!n.features?r=n.specialAreas:L=n;var $=new GeoJSONResource(g,L,r);storage.set(g,$)}},getGeoResource:function(g){return storage.get(g)},getMapForUser:function(g){var n=storage.get(g);return n&&n.type==="geoJSON"&&n.getMapForUser()},load:function(g,n,r){var $=storage.get(g);if($)return $.load(n,r)}};var OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=makeInner();function getFixedItemStyle(g){var n=g.getItemStyle(),r=g.get("areaColor");return r!=null&&(n.fill=r),n}function fixLineStyle(g){var n=g.style;n&&(n.stroke=n.stroke||n.fill,n.fill=null)}var MapDraw=function(){function g(n){var r=new Group$4;this.uid=getUID("ec_map_draw"),this._controller=new RoamController$1(n.getZr()),this._controllerHost={target:r},this.group=r,r.add(this._regionsGroup=new Group$4),r.add(this._svgGroup=new Group$4)}return g.prototype.draw=function(n,r,$,L,V){var oe=n.mainType==="geo",ae=n.getData&&n.getData();oe&&r.eachComponent({mainType:"series",subType:"map"},function(Oe){!ae&&Oe.getHostGeoModel()===n&&(ae=Oe.getData())});var re=n.coordinateSystem,le=this._regionsGroup,ue=this.group,de=re.getTransformInfo(),he=de.raw,pe=de.roam,_e=!le.childAt(0)||V;_e?(ue.x=pe.x,ue.y=pe.y,ue.scaleX=pe.scaleX,ue.scaleY=pe.scaleY,ue.dirty()):updateProps$1(ue,pe,n);var $e=ae&&ae.getVisual("visualMeta")&&ae.getVisual("visualMeta").length>0,xe={api:$,geo:re,mapOrGeoModel:n,data:ae,isVisualEncodedByVisualMap:$e,isGeo:oe,transformInfoRaw:he};re.resourceType==="geoJSON"?this._buildGeoJSON(xe):re.resourceType==="geoSVG"&&this._buildSVG(xe),this._updateController(n,r,$),this._updateMapSelectHandler(n,le,$,L)},g.prototype._buildGeoJSON=function(n){var r=this._regionsGroupByName=createHashMap(),$=createHashMap(),L=this._regionsGroup,V=n.transformInfoRaw,oe=n.mapOrGeoModel,ae=n.data,re=n.geo.projection,le=re&&re.stream;function ue(pe,_e){return _e&&(pe=_e(pe)),pe&&[pe[0]*V.scaleX+V.x,pe[1]*V.scaleY+V.y]}function de(pe){for(var _e=[],$e=!le&&re&&re.project,xe=0;xe<pe.length;++xe){var Oe=ue(pe[xe],$e);Oe&&_e.push(Oe)}return _e}function he(pe){return{shape:{points:de(pe)}}}L.removeAll(),each$f(n.geo.regions,function(pe){var _e=pe.name,$e=r.get(_e),xe=$.get(_e)||{},Oe=xe.dataIdx,Ce=xe.regionModel;$e||($e=r.set(_e,new Group$4),L.add($e),Oe=ae?ae.indexOfName(_e):null,Ce=n.isGeo?oe.getRegionModel(_e):ae?ae.getItemModel(Oe):null,$.set(_e,{dataIdx:Oe,regionModel:Ce}));var Ie=[],Ne=[];each$f(pe.geometries,function(Ue){if(Ue.type==="polygon"){var At=[Ue.exterior].concat(Ue.interiors||[]);le&&(At=projectPolys(At,le)),each$f(At,function(Pt){Ie.push(new Polygon$1(he(Pt)))})}else{var Et=Ue.points;le&&(Et=projectPolys(Et,le,!0)),each$f(Et,function(Pt){Ne.push(new Polyline$3(he(Pt)))})}});var ze=ue(pe.getCenter(),re&&re.project);function Fe(Ue,At){if(Ue.length){var Et=new CompoundPath$1({culling:!0,segmentIgnoreThreshold:1,shape:{paths:Ue}});$e.add(Et),applyOptionStyleForRegion(n,Et,Oe,Ce),resetLabelForRegion(n,Et,_e,Ce,oe,Oe,ze),At&&(fixLineStyle(Et),each$f(Et.states,fixLineStyle))}}Fe(Ie),Fe(Ne,!0)}),r.each(function(pe,_e){var $e=$.get(_e),xe=$e.dataIdx,Oe=$e.regionModel;resetEventTriggerForRegion(n,pe,_e,Oe,oe,xe),resetTooltipForRegion(n,pe,_e,Oe,oe),resetStateTriggerForRegion(n,pe,_e,Oe,oe)},this)},g.prototype._buildSVG=function(n){var r=n.geo.map,$=n.transformInfoRaw;this._svgGroup.x=$.x,this._svgGroup.y=$.y,this._svgGroup.scaleX=$.scaleX,this._svgGroup.scaleY=$.scaleY,this._svgResourceChanged(r)&&(this._freeSVG(),this._useSVG(r));var L=this._svgDispatcherMap=createHashMap(),V=!1;each$f(this._svgGraphicRecord.named,function(oe){var ae=oe.name,re=n.mapOrGeoModel,le=n.data,ue=oe.svgNodeTagLower,de=oe.el,he=le?le.indexOfName(ae):null,pe=re.getRegionModel(ae);if(OPTION_STYLE_ENABLED_TAG_MAP.get(ue)!=null&&de instanceof Displayable$1&&applyOptionStyleForRegion(n,de,he,pe),de instanceof Displayable$1&&(de.culling=!0),de.z2EmphasisLift=0,!oe.namedFrom&&(LABEL_HOST_MAP.get(ue)!=null&&resetLabelForRegion(n,de,ae,pe,re,he,null),resetEventTriggerForRegion(n,de,ae,pe,re,he),resetTooltipForRegion(n,de,ae,pe,re),STATE_TRIGGER_TAG_MAP.get(ue)!=null)){var _e=resetStateTriggerForRegion(n,de,ae,pe,re);_e==="self"&&(V=!0);var $e=L.get(ae)||L.set(ae,[]);$e.push(de)}},this),this._enableBlurEntireSVG(V,n)},g.prototype._enableBlurEntireSVG=function(n,r){if(n&&r.isGeo){var $=r.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),L=$.opacity;this._svgGraphicRecord.root.traverse(function(V){if(!V.isGroup){setDefaultStateProxy(V);var oe=V.ensureState("blur").style||{};oe.opacity==null&&L!=null&&(oe.opacity=L),V.ensureState("emphasis")}})}},g.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},g.prototype.findHighDownDispatchers=function(n,r){if(n==null)return[];var $=r.coordinateSystem;if($.resourceType==="geoJSON"){var L=this._regionsGroupByName;if(L){var V=L.get(n);return V?[V]:[]}}else if($.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(n)||[]},g.prototype._svgResourceChanged=function(n){return this._svgMapName!==n},g.prototype._useSVG=function(n){var r=geoSourceManager.getGeoResource(n);if(r&&r.type==="geoSVG"){var $=r.useGraphic(this.uid);this._svgGroup.add($.root),this._svgGraphicRecord=$,this._svgMapName=n}},g.prototype._freeSVG=function(){var n=this._svgMapName;if(n!=null){var r=geoSourceManager.getGeoResource(n);r&&r.type==="geoSVG"&&r.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},g.prototype._updateController=function(n,r,$){var L=n.coordinateSystem,V=this._controller,oe=this._controllerHost;oe.zoomLimit=n.get("scaleLimit"),oe.zoom=L.getZoom(),V.enable(n.get("roam")||!1);var ae=n.mainType;function re(){var le={type:"geoRoam",componentType:ae};return le[ae+"Id"]=n.id,le}V.off("pan").on("pan",function(le){this._mouseDownFlag=!1,updateViewOnPan(oe,le.dx,le.dy),$.dispatchAction(extend$1(re(),{dx:le.dx,dy:le.dy,animation:{duration:0}}))},this),V.off("zoom").on("zoom",function(le){this._mouseDownFlag=!1,updateViewOnZoom(oe,le.scale,le.originX,le.originY),$.dispatchAction(extend$1(re(),{zoom:le.scale,originX:le.originX,originY:le.originY,animation:{duration:0}}))},this),V.setPointerChecker(function(le,ue,de){return L.containPoint([ue,de])&&!onIrrelevantElement(le,$,n)})},g.prototype.resetForLabelLayout=function(){this.group.traverse(function(n){var r=n.getTextContent();r&&(r.ignore=mapLabelRaw(r).ignore)})},g.prototype._updateMapSelectHandler=function(n,r,$,L){var V=this;r.off("mousedown"),r.off("click"),n.get("selectedMode")&&(r.on("mousedown",function(){V._mouseDownFlag=!0}),r.on("click",function(oe){!V._mouseDownFlag||(V._mouseDownFlag=!1)}))},g}();function applyOptionStyleForRegion(g,n,r,$){var L=$.getModel("itemStyle"),V=$.getModel(["emphasis","itemStyle"]),oe=$.getModel(["blur","itemStyle"]),ae=$.getModel(["select","itemStyle"]),re=getFixedItemStyle(L),le=getFixedItemStyle(V),ue=getFixedItemStyle(ae),de=getFixedItemStyle(oe),he=g.data;if(he){var pe=he.getItemVisual(r,"style"),_e=he.getItemVisual(r,"decal");g.isVisualEncodedByVisualMap&&pe.fill&&(re.fill=pe.fill),_e&&(re.decal=createOrUpdatePatternFromDecal(_e,g.api))}n.setStyle(re),n.style.strokeNoScale=!0,n.ensureState("emphasis").style=le,n.ensureState("select").style=ue,n.ensureState("blur").style=de,setDefaultStateProxy(n)}function resetLabelForRegion(g,n,r,$,L,V,oe){var ae=g.data,re=g.isGeo,le=ae&&isNaN(ae.get(ae.mapDimension("value"),V)),ue=ae&&ae.getItemLayout(V);if(re||le||ue&&ue.showLabel){var de=re?r:V,he=void 0;(!ae||V>=0)&&(he=L);var pe=oe?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle(n,getLabelStatesModels($),{labelFetcher:he,labelDataIndex:de,defaultText:r},pe);var _e=n.getTextContent();if(_e&&(mapLabelRaw(_e).ignore=_e.ignore,n.textConfig&&oe)){var $e=n.getBoundingRect().clone();n.textConfig.layoutRect=$e,n.textConfig.position=[(oe[0]-$e.x)/$e.width*100+"%",(oe[1]-$e.y)/$e.height*100+"%"]}n.disableLabelAnimation=!0}else n.removeTextContent(),n.removeTextConfig(),n.disableLabelAnimation=null}function resetEventTriggerForRegion(g,n,r,$,L,V){g.data?g.data.setItemGraphicEl(V,n):getECData(n).eventData={componentType:"geo",componentIndex:L.componentIndex,geoIndex:L.componentIndex,name:r,region:$&&$.option||{}}}function resetTooltipForRegion(g,n,r,$,L){g.data||setTooltipConfig({el:n,componentModel:L,itemName:r,itemTooltipOption:$.get("tooltip")})}function resetStateTriggerForRegion(g,n,r,$,L){n.highDownSilentOnTouch=!!L.get("selectedMode");var V=$.getModel("emphasis"),oe=V.get("focus");return toggleHoverEmphasis(n,oe,V.get("blurScope"),V.get("disabled")),g.isGeo&&enableComponentHighDownFeatures(n,L,r),oe}function projectPolys(g,n,r){var $=[],L;function V(){L=[]}function oe(){L.length&&($.push(L),L=[])}var ae=n({polygonStart:V,polygonEnd:oe,lineStart:V,lineEnd:oe,point:function(re,le){isFinite(re)&&isFinite(le)&&L.push([re,le])},sphere:function(){}});return!r&&ae.polygonStart(),each$f(g,function(re){ae.lineStart();for(var le=0;le<re.length;le++)ae.point(re[le][0],re[le][1]);ae.lineEnd()}),!r&&ae.polygonEnd(),$}const MapDraw$1=MapDraw;var MapView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L,V){if(!(V&&V.type==="mapToggleSelect"&&V.from===this.uid)){var oe=this.group;if(oe.removeAll(),!r.getHostGeoModel()){if(this._mapDraw&&V&&V.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),V&&V.type==="geoRoam"&&V.componentType==="series"&&V.seriesId===r.id){var ae=this._mapDraw;ae&&oe.add(ae.group)}else if(r.needsDrawMap){var ae=this._mapDraw||new MapDraw$1(L);oe.add(ae.group),ae.draw(r,$,L,this,V),this._mapDraw=ae}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;r.get("showLegendSymbol")&&$.getComponent("legend")&&this._renderSymbols(r,$,L)}}},n.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},n.prototype._renderSymbols=function(r,$,L){var V=r.originalData,oe=this.group;V.each(V.mapDimension("value"),function(ae,re){if(!isNaN(ae)){var le=V.getItemLayout(re);if(!(!le||!le.point)){var ue=le.point,de=le.offset,he=new Circle$1({style:{fill:r.getData().getVisual("style").fill},shape:{cx:ue[0]+de*9,cy:ue[1],r:3},silent:!0,z2:8+(de?0:Z2_EMPHASIS_LIFT+1)});if(!de){var pe=r.mainSeries.getData(),_e=V.getName(re),$e=pe.indexOfName(_e),xe=V.getItemModel(re),Oe=xe.getModel("label"),Ce=pe.getItemGraphicEl($e);setLabelStyle(he,getLabelStatesModels(xe),{labelFetcher:{getFormattedLabel:function(Ie,Ne){return r.getFormattedLabel($e,Ne)}},defaultText:_e}),he.disableLabelAnimation=!0,Oe.get("position")||he.setTextConfig({position:"bottom"}),Ce.onHoverStateChange=function(Ie){setStatesFlag(he,Ie)}}oe.add(he)}}})},n.type="map",n}(ChartView$1);const MapView$1=MapView;var MapSeries=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.needsDrawMap=!1,r.seriesGroup=[],r.getTooltipPosition=function($){if($!=null){var L=this.getData().getName($),V=this.coordinateSystem,oe=V.getRegion(L);return oe&&V.dataToPoint(oe.getCenter())}},r}return n.prototype.getInitialData=function(r){for(var $=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)}),L=createHashMap(),V=[],oe=0,ae=$.count();oe<ae;oe++){var re=$.getName(oe);L.set(re,!0)}var le=geoSourceManager.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return each$f(le.regions,function(ue){var de=ue.name;L.get(de)||V.push(de)}),$.appendValues([],V),$},n.prototype.getHostGeoModel=function(){var r=this.option.geoIndex;return r!=null?this.ecModel.getComponent("geo",r):null},n.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},n.prototype.getRawValue=function(r){var $=this.getData();return $.get($.mapDimension("value"),r)},n.prototype.getRegionModel=function(r){var $=this.getData();return $.getItemModel($.indexOfName(r))},n.prototype.formatTooltip=function(r,$,L){for(var V=this.getData(),oe=this.getRawValue(r),ae=V.getName(r),re=this.seriesGroup,le=[],ue=0;ue<re.length;ue++){var de=re[ue].originalData.indexOfName(ae),he=V.mapDimension("value");isNaN(re[ue].originalData.get(he,de))||le.push(re[ue].name)}return createTooltipMarkup("section",{header:le.join(", "),noHeader:!le.length,blocks:[createTooltipMarkup("nameValue",{name:ae,value:oe})]})},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.getLegendIcon=function(r){var $=r.icon||"roundRect",L=createSymbol$1($,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill);return L.setStyle(r.itemStyle),L.style.stroke="none",$.indexOf("empty")>-1&&(L.style.stroke=L.style.fill,L.style.fill="#fff",L.style.lineWidth=2),L},n.type="series.map",n.dependencies=["geo"],n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},n}(SeriesModel$1);const MapSeries$1=MapSeries;function dataStatistics(g,n){var r={};return each$f(g,function($){$.each($.mapDimension("value"),function(L,V){var oe="ec-"+$.getName(V);r[oe]=r[oe]||[],isNaN(L)||r[oe].push(L)})}),g[0].map(g[0].mapDimension("value"),function($,L){for(var V="ec-"+g[0].getName(L),oe=0,ae=1/0,re=-1/0,le=r[V].length,ue=0;ue<le;ue++)ae=Math.min(ae,r[V][ue]),re=Math.max(re,r[V][ue]),oe+=r[V][ue];var de;return n==="min"?de=ae:n==="max"?de=re:n==="average"?de=oe/le:de=oe,le===0?NaN:de})}function mapDataStatistic(g){var n={};g.eachSeriesByType("map",function(r){var $=r.getHostGeoModel(),L=$?"o"+$.id:"i"+r.getMapType();(n[L]=n[L]||[]).push(r)}),each$f(n,function(r,$){for(var L=dataStatistics(map$1(r,function(oe){return oe.getData()}),r[0].get("mapValueCalculation")),V=0;V<r.length;V++)r[V].originalData=r[V].getData();for(var V=0;V<r.length;V++)r[V].seriesGroup=r,r[V].needsDrawMap=V===0&&!r[V].getHostGeoModel(),r[V].setData(L.cloneShallow()),r[V].mainSeries=r[0]})}function mapSymbolLayout(g){var n={};g.eachSeriesByType("map",function(r){var $=r.getMapType();if(!(r.getHostGeoModel()||n[$])){var L={};each$f(r.seriesGroup,function(oe){var ae=oe.coordinateSystem,re=oe.originalData;oe.get("showLegendSymbol")&&g.getComponent("legend")&&re.each(re.mapDimension("value"),function(le,ue){var de=re.getName(ue),he=ae.getRegion(de);if(!(!he||isNaN(le))){var pe=L[de]||0,_e=ae.dataToPoint(he.getCenter());L[de]=pe+1,re.setItemLayout(ue,{point:_e,offset:pe})}})});var V=r.getData();V.each(function(oe){var ae=V.getName(oe),re=V.getItemLayout(oe)||{};re.showLabel=!L[ae],V.setItemLayout(oe,re)}),n[$]=!0}})}var v2ApplyTransform=applyTransform$1,View=function(g){__extends(n,g);function n(r){var $=g.call(this)||this;return $.type="view",$.dimensions=["x","y"],$._roamTransformable=new Transformable,$._rawTransformable=new Transformable,$.name=r,$}return n.prototype.setBoundingRect=function(r,$,L,V){return this._rect=new BoundingRect$1(r,$,L,V),this._rect},n.prototype.getBoundingRect=function(){return this._rect},n.prototype.setViewRect=function(r,$,L,V){this._transformTo(r,$,L,V),this._viewRect=new BoundingRect$1(r,$,L,V)},n.prototype._transformTo=function(r,$,L,V){var oe=this.getBoundingRect(),ae=this._rawTransformable;ae.transform=oe.calculateTransform(new BoundingRect$1(r,$,L,V));var re=ae.parent;ae.parent=null,ae.decomposeTransform(),ae.parent=re,this._updateTransform()},n.prototype.setCenter=function(r,$){!r||(this._center=[parsePercent(r[0],$.getWidth()),parsePercent(r[1],$.getHeight())],this._updateCenterAndZoom())},n.prototype.setZoom=function(r){r=r||1;var $=this.zoomLimit;$&&($.max!=null&&(r=Math.min($.max,r)),$.min!=null&&(r=Math.max($.min,r))),this._zoom=r,this._updateCenterAndZoom()},n.prototype.getDefaultCenter=function(){var r=this.getBoundingRect(),$=r.x+r.width/2,L=r.y+r.height/2;return[$,L]},n.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},n.prototype.getZoom=function(){return this._zoom||1},n.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},n.prototype._updateCenterAndZoom=function(){var r=this._rawTransformable.getLocalTransform(),$=this._roamTransformable,L=this.getDefaultCenter(),V=this.getCenter(),oe=this.getZoom();V=applyTransform$1([],V,r),L=applyTransform$1([],L,r),$.originX=V[0],$.originY=V[1],$.x=L[0]-V[0],$.y=L[1]-V[1],$.scaleX=$.scaleY=oe,this._updateTransform()},n.prototype._updateTransform=function(){var r=this._roamTransformable,$=this._rawTransformable;$.parent=r,r.updateTransform(),$.updateTransform(),copy(this.transform||(this.transform=[]),$.transform||create$1()),this._rawTransform=$.getLocalTransform(),this.invTransform=this.invTransform||[],invert(this.invTransform,this.transform),this.decomposeTransform()},n.prototype.getTransformInfo=function(){var r=this._rawTransformable,$=this._roamTransformable,L=new Transformable;return L.transform=$.transform,L.decomposeTransform(),{roam:{x:L.x,y:L.y,scaleX:L.scaleX,scaleY:L.scaleY},raw:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY}}},n.prototype.getViewRect=function(){return this._viewRect},n.prototype.getViewRectAfterRoam=function(){var r=this.getBoundingRect().clone();return r.applyTransform(this.transform),r},n.prototype.dataToPoint=function(r,$,L){var V=$?this._rawTransform:this.transform;return L=L||[],V?v2ApplyTransform(L,r,V):copy$1(L,r)},n.prototype.pointToData=function(r){var $=this.invTransform;return $?v2ApplyTransform([],r,$):[r[0],r[1]]},n.prototype.convertToPixel=function(r,$,L){var V=getCoordSys$4($);return V===this?V.dataToPoint(L):null},n.prototype.convertFromPixel=function(r,$,L){var V=getCoordSys$4($);return V===this?V.pointToData(L):null},n.prototype.containPoint=function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])},n.dimensions=["x","y"],n}(Transformable);function getCoordSys$4(g){var n=g.seriesModel;return n?n.coordinateSystem:null}const View$1=View;var GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=["lng","lat"],Geo=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this,r)||this;V.dimensions=geo2DDimensions,V.type="geo",V._nameCoordMap=createHashMap(),V.map=$;var oe=L.projection,ae=geoSourceManager.load($,L.nameMap,L.nameProperty),re=geoSourceManager.getGeoResource($);V.resourceType=re?re.type:null;var le=V.regions=ae.regions,ue=GEO_DEFAULT_PARAMS[re.type];V._regionsMap=ae.regionsMap,V.regions=ae.regions,V.projection=oe;var de;if(oe)for(var he=0;he<le.length;he++){var pe=le[he].getBoundingRect(oe);de=de||pe.clone(),de.union(pe)}else de=ae.boundingRect;return V.setBoundingRect(de.x,de.y,de.width,de.height),V.aspectScale=oe?1:retrieve2(L.aspectScale,ue.aspectScale),V._invertLongitute=oe?!1:ue.invertLongitute,V}return n.prototype._transformTo=function(r,$,L,V){var oe=this.getBoundingRect(),ae=this._invertLongitute;oe=oe.clone(),ae&&(oe.y=-oe.y-oe.height);var re=this._rawTransformable;re.transform=oe.calculateTransform(new BoundingRect$1(r,$,L,V));var le=re.parent;re.parent=null,re.decomposeTransform(),re.parent=le,ae&&(re.scaleY=-re.scaleY),this._updateTransform()},n.prototype.getRegion=function(r){return this._regionsMap.get(r)},n.prototype.getRegionByCoord=function(r){for(var $=this.regions,L=0;L<$.length;L++){var V=$[L];if(V.type==="geoJSON"&&V.contain(r))return $[L]}},n.prototype.addGeoCoord=function(r,$){this._nameCoordMap.set(r,$)},n.prototype.getGeoCoord=function(r){var $=this._regionsMap.get(r);return this._nameCoordMap.get(r)||$&&$.getCenter()},n.prototype.dataToPoint=function(r,$,L){if(isString$1(r)&&(r=this.getGeoCoord(r)),r){var V=this.projection;return V&&(r=V.project(r)),r&&this.projectedToPoint(r,$,L)}},n.prototype.pointToData=function(r){var $=this.projection;return $&&(r=$.unproject(r)),r&&this.pointToProjected(r)},n.prototype.pointToProjected=function(r){return g.prototype.pointToData.call(this,r)},n.prototype.projectedToPoint=function(r,$,L){return g.prototype.dataToPoint.call(this,r,$,L)},n.prototype.convertToPixel=function(r,$,L){var V=getCoordSys$3($);return V===this?V.dataToPoint(L):null},n.prototype.convertFromPixel=function(r,$,L){var V=getCoordSys$3($);return V===this?V.pointToData(L):null},n}(View$1);mixin(Geo,View$1);function getCoordSys$3(g){var n=g.geoModel,r=g.seriesModel;return n?n.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo",SINGLE_REFERRING).models[0]||{}).coordinateSystem:null}const Geo$1=Geo;function resizeGeo(g,n){var r=g.get("boundingCoords");if(r!=null){var $=r[0],L=r[1];if(isFinite($[0])&&isFinite($[1])&&isFinite(L[0])&&isFinite(L[1])){var V=this.projection;if(V){var oe=$[0],ae=$[1],re=L[0],le=L[1];$=[1/0,1/0],L=[-1/0,-1/0];var ue=function(Fe,Ue,At,Et){for(var Pt=At-Fe,kt=Et-Ue,Dt=0;Dt<=100;Dt++){var Lt=Dt/100,hn=V.project([Fe+Pt*Lt,Ue+kt*Lt]);min$1($,$,hn),max$1(L,L,hn)}};ue(oe,ae,re,ae),ue(re,ae,re,le),ue(re,le,oe,le),ue(oe,le,re,ae)}this.setBoundingRect($[0],$[1],L[0]-$[0],L[1]-$[1])}}var de=this.getBoundingRect(),he=g.get("layoutCenter"),pe=g.get("layoutSize"),_e=n.getWidth(),$e=n.getHeight(),xe=de.width/de.height*this.aspectScale,Oe=!1,Ce,Ie;he&&pe&&(Ce=[parsePercent(he[0],_e),parsePercent(he[1],$e)],Ie=parsePercent(pe,Math.min(_e,$e)),!isNaN(Ce[0])&&!isNaN(Ce[1])&&!isNaN(Ie)&&(Oe=!0));var Ne;if(Oe)Ne={},xe>1?(Ne.width=Ie,Ne.height=Ie/xe):(Ne.height=Ie,Ne.width=Ie*xe),Ne.y=Ce[1]-Ne.height/2,Ne.x=Ce[0]-Ne.width/2;else{var ze=g.getBoxLayoutParams();ze.aspect=xe,Ne=getLayoutRect(ze,{width:_e,height:$e})}this.setViewRect(Ne.x,Ne.y,Ne.width,Ne.height),this.setCenter(g.get("center"),n),this.setZoom(g.get("zoom"))}function setGeoCoords(g,n){each$f(n.get("geoCoord"),function(r,$){g.addGeoCoord($,r)})}var GeoCreator=function(){function g(){this.dimensions=geo2DDimensions}return g.prototype.create=function(n,r){var $=[];function L(oe){return{nameProperty:oe.get("nameProperty"),aspectScale:oe.get("aspectScale"),projection:oe.get("projection")}}n.eachComponent("geo",function(oe,ae){var re=oe.get("map"),le=new Geo$1(re+ae,re,extend$1({nameMap:oe.get("nameMap")},L(oe)));le.zoomLimit=oe.get("scaleLimit"),$.push(le),oe.coordinateSystem=le,le.model=oe,le.resize=resizeGeo,le.resize(oe,r)}),n.eachSeries(function(oe){var ae=oe.get("coordinateSystem");if(ae==="geo"){var re=oe.get("geoIndex")||0;oe.coordinateSystem=$[re]}});var V={};return n.eachSeriesByType("map",function(oe){if(!oe.getHostGeoModel()){var ae=oe.getMapType();V[ae]=V[ae]||[],V[ae].push(oe)}}),each$f(V,function(oe,ae){var re=map$1(oe,function(ue){return ue.get("nameMap")}),le=new Geo$1(ae,ae,extend$1({nameMap:mergeAll(re)},L(oe[0])));le.zoomLimit=retrieve.apply(null,map$1(oe,function(ue){return ue.get("scaleLimit")})),$.push(le),le.resize=resizeGeo,le.resize(oe[0],r),each$f(oe,function(ue){ue.coordinateSystem=le,setGeoCoords(le,ue)})}),$},g.prototype.getFilledRegions=function(n,r,$,L){for(var V=(n||[]).slice(),oe=createHashMap(),ae=0;ae<V.length;ae++)oe.set(V[ae].name,V[ae]);var re=geoSourceManager.load(r,$,L);return each$f(re.regions,function(le){var ue=le.name;!oe.get(ue)&&V.push({name:ue})}),V},g}(),geoCreator=new GeoCreator;const geoCreator$1=geoCreator;var GeoModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$,L){var V=geoSourceManager.getGeoResource(r.map);if(V&&V.type==="geoJSON"){var oe=r.itemStyle=r.itemStyle||{};"color"in oe||(oe.color="#eee")}this.mergeDefaultAndTheme(r,L),defaultEmphasis(r,"label",["show"])},n.prototype.optionUpdated=function(){var r=this,$=this.option;$.regions=geoCreator$1.getFilledRegions($.regions,$.map,$.nameMap,$.nameProperty);var L={};this._optionModelMap=reduce($.regions||[],function(V,oe){var ae=oe.name;return ae&&(V.set(ae,new Model$1(oe,r,r.ecModel)),oe.selected&&(L[ae]=!0)),V},createHashMap()),$.selectedMap||($.selectedMap=L)},n.prototype.getRegionModel=function(r){return this._optionModelMap.get(r)||new Model$1(null,this,this.ecModel)},n.prototype.getFormattedLabel=function(r,$){var L=this.getRegionModel(r),V=$==="normal"?L.get(["label","formatter"]):L.get(["emphasis","label","formatter"]),oe={name:r};if(isFunction$1(V))return oe.status=$,V(oe);if(isString$1(V))return V.replace("{a}",r!=null?r:"")},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.select=function(r){var $=this.option,L=$.selectedMode;if(L){L!=="multiple"&&($.selectedMap=null);var V=$.selectedMap||($.selectedMap={});V[r]=!0}},n.prototype.unSelect=function(r){var $=this.option.selectedMap;$&&($[r]=!1)},n.prototype.toggleSelected=function(r){this[this.isSelected(r)?"unSelect":"select"](r)},n.prototype.isSelected=function(r){var $=this.option.selectedMap;return!!($&&$[r])},n.type="geo",n.layoutMode="box",n.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},n}(ComponentModel$1);const GeoModel$1=GeoModel;function getCenterCoord(g,n){return g.pointToProjected?g.pointToProjected(n):g.pointToData(n)}function updateCenterAndZoom(g,n,r,$){var L=g.getZoom(),V=g.getCenter(),oe=n.zoom,ae=g.projectedToPoint?g.projectedToPoint(V):g.dataToPoint(V);if(n.dx!=null&&n.dy!=null&&(ae[0]-=n.dx,ae[1]-=n.dy,g.setCenter(getCenterCoord(g,ae),$)),oe!=null){if(r){var re=r.min||0,le=r.max||1/0;oe=Math.max(Math.min(L*oe,le),re)/L}g.scaleX*=oe,g.scaleY*=oe;var ue=(n.originX-g.x)*(oe-1),de=(n.originY-g.y)*(oe-1);g.x-=ue,g.y-=de,g.updateTransform(),g.setCenter(getCenterCoord(g,ae),$),g.setZoom(oe*L)}return{center:g.getCenter(),zoom:g.getZoom()}}var GeoView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.focusBlurEnabled=!0,r}return n.prototype.init=function(r,$){this._api=$},n.prototype.render=function(r,$,L,V){if(this._model=r,!r.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new MapDraw$1(L));var oe=this._mapDraw;oe.draw(r,$,L,this,V),oe.group.on("click",this._handleRegionClick,this),oe.group.silent=r.get("silent"),this.group.add(oe.group),this.updateSelectStatus(r,$,L)},n.prototype._handleRegionClick=function(r){var $;findEventDispatcher(r.target,function(L){return($=getECData(L).eventData)!=null},!0),$&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:$.name})},n.prototype.updateSelectStatus=function(r,$,L){var V=this;this._mapDraw.group.traverse(function(oe){var ae=getECData(oe).eventData;if(ae)return V._model.isSelected(ae.name)?L.enterSelect(oe):L.leaveSelect(oe),!0})},n.prototype.findHighDownDispatchers=function(r){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(r,this._model)},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},n.type="geo",n}(ComponentView$1);const GeoView$1=GeoView;function registerMap(g,n,r){geoSourceManager.registerMap(g,n,r)}function install$K(g){g.registerCoordinateSystem("geo",geoCreator$1),g.registerComponentModel(GeoModel$1),g.registerComponentView(GeoView$1),g.registerImpl("registerMap",registerMap),g.registerImpl("getMap",function(r){return geoSourceManager.getMapForUser(r)});function n(r,$){$.update="geo:updateSelectStatus",g.registerAction($,function(L,V){var oe={},ae=[];return V.eachComponent({mainType:"geo",query:L},function(re){re[r](L.name);var le=re.coordinateSystem;each$f(le.regions,function(de){oe[de.name]=re.isSelected(de.name)||!1});var ue=[];each$f(oe,function(de,he){oe[he]&&ue.push(he)}),ae.push({geoIndex:re.componentIndex,name:ue})}),{selected:oe,allSelected:ae,name:L.name}})}n("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),n("select",{type:"geoSelect",event:"geoselected"}),n("unSelect",{type:"geoUnSelect",event:"geounselected"}),g.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(r,$,L){var V=r.componentType||"series";$.eachComponent({mainType:V,query:r},function(oe){var ae=oe.coordinateSystem;if(ae.type==="geo"){var re=updateCenterAndZoom(ae,r,oe.get("scaleLimit"),L);oe.setCenter&&oe.setCenter(re.center),oe.setZoom&&oe.setZoom(re.zoom),V==="series"&&each$f(oe.seriesGroup,function(le){le.setCenter(re.center),le.setZoom(re.zoom)})}})})}function install$J(g){use(install$K),g.registerChartView(MapView$1),g.registerSeriesModel(MapSeries$1),g.registerLayout(mapSymbolLayout),g.registerProcessor(g.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),createLegacyDataSelectAction("map",g.registerAction)}function init(g){var n=g;n.hierNode={defaultAncestor:null,ancestor:n,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r=[n],$,L;$=r.pop();)if(L=$.children,$.isExpand&&L.length)for(var V=L.length,oe=V-1;oe>=0;oe--){var ae=L[oe];ae.hierNode={defaultAncestor:null,ancestor:ae,prelim:0,modifier:0,change:0,shift:0,i:oe,thread:null},r.push(ae)}}function firstWalk(g,n){var r=g.isExpand?g.children:[],$=g.parentNode.children,L=g.hierNode.i?$[g.hierNode.i-1]:null;if(r.length){executeShifts(g);var V=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;L?(g.hierNode.prelim=L.hierNode.prelim+n(g,L),g.hierNode.modifier=g.hierNode.prelim-V):g.hierNode.prelim=V}else L&&(g.hierNode.prelim=L.hierNode.prelim+n(g,L));g.parentNode.hierNode.defaultAncestor=apportion(g,L,g.parentNode.hierNode.defaultAncestor||$[0],n)}function secondWalk(g){var n=g.hierNode.prelim+g.parentNode.hierNode.modifier;g.setLayout({x:n},!0),g.hierNode.modifier+=g.parentNode.hierNode.modifier}function separation(g){return arguments.length?g:defaultSeparation}function radialCoordinate(g,n){return g-=Math.PI/2,{x:n*Math.cos(g),y:n*Math.sin(g)}}function getViewRect$4(g,n){return getLayoutRect(g.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function executeShifts(g){for(var n=g.children,r=n.length,$=0,L=0;--r>=0;){var V=n[r];V.hierNode.prelim+=$,V.hierNode.modifier+=$,L+=V.hierNode.change,$+=V.hierNode.shift+L}}function apportion(g,n,r,$){if(n){for(var L=g,V=g,oe=V.parentNode.children[0],ae=n,re=L.hierNode.modifier,le=V.hierNode.modifier,ue=oe.hierNode.modifier,de=ae.hierNode.modifier;ae=nextRight(ae),V=nextLeft(V),ae&&V;){L=nextRight(L),oe=nextLeft(oe),L.hierNode.ancestor=g;var he=ae.hierNode.prelim+de-V.hierNode.prelim-le+$(ae,V);he>0&&(moveSubtree(nextAncestor(ae,g,r),g,he),le+=he,re+=he),de+=ae.hierNode.modifier,le+=V.hierNode.modifier,re+=L.hierNode.modifier,ue+=oe.hierNode.modifier}ae&&!nextRight(L)&&(L.hierNode.thread=ae,L.hierNode.modifier+=de-re),V&&!nextLeft(oe)&&(oe.hierNode.thread=V,oe.hierNode.modifier+=le-ue,r=g)}return r}function nextRight(g){var n=g.children;return n.length&&g.isExpand?n[n.length-1]:g.hierNode.thread}function nextLeft(g){var n=g.children;return n.length&&g.isExpand?n[0]:g.hierNode.thread}function nextAncestor(g,n,r){return g.hierNode.ancestor.parentNode===n.parentNode?g.hierNode.ancestor:r}function moveSubtree(g,n,r){var $=r/(n.hierNode.i-g.hierNode.i);n.hierNode.change-=$,n.hierNode.shift+=r,n.hierNode.modifier+=r,n.hierNode.prelim+=r,g.hierNode.change+=$}function defaultSeparation(g,n){return g.parentNode===n.parentNode?1:2}var TreeEdgeShape=function(){function g(){this.parentPoint=[],this.childPoints=[]}return g}(),TreePath=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new TreeEdgeShape},n.prototype.buildPath=function(r,$){var L=$.childPoints,V=L.length,oe=$.parentPoint,ae=L[0],re=L[V-1];if(V===1){r.moveTo(oe[0],oe[1]),r.lineTo(ae[0],ae[1]);return}var le=$.orient,ue=le==="TB"||le==="BT"?0:1,de=1-ue,he=parsePercent($.forkPosition,1),pe=[];pe[ue]=oe[ue],pe[de]=oe[de]+(re[de]-oe[de])*he,r.moveTo(oe[0],oe[1]),r.lineTo(pe[0],pe[1]),r.moveTo(ae[0],ae[1]),pe[ue]=ae[ue],r.lineTo(pe[0],pe[1]),pe[ue]=re[ue],r.lineTo(pe[0],pe[1]),r.lineTo(re[0],re[1]);for(var _e=1;_e<V-1;_e++){var $e=L[_e];r.moveTo($e[0],$e[1]),pe[ue]=$e[ue],r.lineTo(pe[0],pe[1])}},n}(Path$1),TreeView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._mainGroup=new Group$4,r}return n.prototype.init=function(r,$){this._controller=new RoamController$1($.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},n.prototype.render=function(r,$,L){var V=r.getData(),oe=r.layoutInfo,ae=this._mainGroup,re=r.get("layout");re==="radial"?(ae.x=oe.x+oe.width/2,ae.y=oe.y+oe.height/2):(ae.x=oe.x,ae.y=oe.y),this._updateViewCoordSys(r,L),this._updateController(r,$,L);var le=this._data;V.diff(le).add(function(ue){symbolNeedsDraw(V,ue)&&updateNode(V,ue,null,ae,r)}).update(function(ue,de){var he=le.getItemGraphicEl(de);if(!symbolNeedsDraw(V,ue)){he&&removeNode(le,de,he,ae,r);return}updateNode(V,ue,he,ae,r)}).remove(function(ue){var de=le.getItemGraphicEl(ue);de&&removeNode(le,ue,de,ae,r)}).execute(),this._nodeScaleRatio=r.get("nodeScaleRatio"),this._updateNodeAndLinkScale(r),r.get("expandAndCollapse")===!0&&V.eachItemGraphicEl(function(ue,de){ue.off("click").on("click",function(){L.dispatchAction({type:"treeExpandAndCollapse",seriesId:r.id,dataIndex:de})})}),this._data=V},n.prototype._updateViewCoordSys=function(r,$){var L=r.getData(),V=[];L.each(function(de){var he=L.getItemLayout(de);he&&!isNaN(he.x)&&!isNaN(he.y)&&V.push([+he.x,+he.y])});var oe=[],ae=[];fromPoints(V,oe,ae);var re=this._min,le=this._max;ae[0]-oe[0]===0&&(oe[0]=re?re[0]:oe[0]-1,ae[0]=le?le[0]:ae[0]+1),ae[1]-oe[1]===0&&(oe[1]=re?re[1]:oe[1]-1,ae[1]=le?le[1]:ae[1]+1);var ue=r.coordinateSystem=new View$1;ue.zoomLimit=r.get("scaleLimit"),ue.setBoundingRect(oe[0],oe[1],ae[0]-oe[0],ae[1]-oe[1]),ue.setCenter(r.get("center"),$),ue.setZoom(r.get("zoom")),this.group.attr({x:ue.x,y:ue.y,scaleX:ue.scaleX,scaleY:ue.scaleY}),this._min=oe,this._max=ae},n.prototype._updateController=function(r,$,L){var V=this,oe=this._controller,ae=this._controllerHost,re=this.group;oe.setPointerChecker(function(le,ue,de){var he=re.getBoundingRect();return he.applyTransform(re.transform),he.contain(ue,de)&&!onIrrelevantElement(le,L,r)}),oe.enable(r.get("roam")),ae.zoomLimit=r.get("scaleLimit"),ae.zoom=r.coordinateSystem.getZoom(),oe.off("pan").off("zoom").on("pan",function(le){updateViewOnPan(ae,le.dx,le.dy),L.dispatchAction({seriesId:r.id,type:"treeRoam",dx:le.dx,dy:le.dy})}).on("zoom",function(le){updateViewOnZoom(ae,le.scale,le.originX,le.originY),L.dispatchAction({seriesId:r.id,type:"treeRoam",zoom:le.scale,originX:le.originX,originY:le.originY}),V._updateNodeAndLinkScale(r),L.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(r){var $=r.getData(),L=this._getNodeGlobalScale(r);$.eachItemGraphicEl(function(V,oe){V.setSymbolScale(L)})},n.prototype._getNodeGlobalScale=function(r){var $=r.coordinateSystem;if($.type!=="view")return 1;var L=this._nodeScaleRatio,V=$.scaleX||1,oe=$.getZoom(),ae=(oe-1)*L+1;return ae/V},n.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},n.type="tree",n}(ChartView$1);function symbolNeedsDraw(g,n){var r=g.getItemLayout(n);return r&&!isNaN(r.x)&&!isNaN(r.y)}function updateNode(g,n,r,$,L){var V=!r,oe=g.tree.getNodeByDataIndex(n),ae=oe.getModel(),re=oe.getVisual("style").fill,le=oe.isExpand===!1&&oe.children.length!==0?re:"#fff",ue=g.tree.root,de=oe.parentNode===ue?oe:oe.parentNode||oe,he=g.getItemGraphicEl(de.dataIndex),pe=de.getLayout(),_e=he?{x:he.__oldX,y:he.__oldY,rawX:he.__radialOldRawX,rawY:he.__radialOldRawY}:pe,$e=oe.getLayout();V?(r=new SymbolClz(g,n,null,{symbolInnerColor:le,useNameLabel:!0}),r.x=_e.x,r.y=_e.y):r.updateData(g,n,null,{symbolInnerColor:le,useNameLabel:!0}),r.__radialOldRawX=r.__radialRawX,r.__radialOldRawY=r.__radialRawY,r.__radialRawX=$e.rawX,r.__radialRawY=$e.rawY,$.add(r),g.setItemGraphicEl(n,r),r.__oldX=r.x,r.__oldY=r.y,updateProps$1(r,{x:$e.x,y:$e.y},L);var xe=r.getSymbolPath();if(L.get("layout")==="radial"){var Oe=ue.children[0],Ce=Oe.getLayout(),Ie=Oe.children.length,Ne=void 0,ze=void 0;if($e.x===Ce.x&&oe.isExpand===!0&&Oe.children.length){var Fe={x:(Oe.children[0].getLayout().x+Oe.children[Ie-1].getLayout().x)/2,y:(Oe.children[0].getLayout().y+Oe.children[Ie-1].getLayout().y)/2};Ne=Math.atan2(Fe.y-Ce.y,Fe.x-Ce.x),Ne<0&&(Ne=Math.PI*2+Ne),ze=Fe.x<Ce.x,ze&&(Ne=Ne-Math.PI)}else Ne=Math.atan2($e.y-Ce.y,$e.x-Ce.x),Ne<0&&(Ne=Math.PI*2+Ne),oe.children.length===0||oe.children.length!==0&&oe.isExpand===!1?(ze=$e.x<Ce.x,ze&&(Ne=Ne-Math.PI)):(ze=$e.x>Ce.x,ze||(Ne=Ne-Math.PI));var Ue=ze?"left":"right",At=ae.getModel("label"),Et=At.get("rotate"),Pt=Et*(Math.PI/180),kt=xe.getTextContent();kt&&(xe.setTextConfig({position:At.get("position")||Ue,rotation:Et==null?-Ne:Pt,origin:"center"}),kt.setStyle("verticalAlign","middle"))}var Dt=ae.get(["emphasis","focus"]),Lt=Dt==="relative"?concatArray(oe.getAncestorsIndices(),oe.getDescendantIndices()):Dt==="ancestor"?oe.getAncestorsIndices():Dt==="descendant"?oe.getDescendantIndices():null;Lt&&(getECData(r).focus=Lt),drawEdge(L,oe,ue,r,_e,pe,$e,$),r.__edge&&(r.onHoverStateChange=function(hn){if(hn!=="blur"){var vn=oe.parentNode&&g.getItemGraphicEl(oe.parentNode.dataIndex);vn&&vn.hoverState===HOVER_STATE_BLUR||setStatesFlag(r.__edge,hn)}})}function drawEdge(g,n,r,$,L,V,oe,ae){var re=n.getModel(),le=g.get("edgeShape"),ue=g.get("layout"),de=g.getOrient(),he=g.get(["lineStyle","curveness"]),pe=g.get("edgeForkPosition"),_e=re.getModel("lineStyle").getLineStyle(),$e=$.__edge;if(le==="curve")n.parentNode&&n.parentNode!==r&&($e||($e=$.__edge=new BezierCurve$1({shape:getEdgeShape(ue,de,he,L,L)})),updateProps$1($e,{shape:getEdgeShape(ue,de,he,V,oe)},g));else if(le==="polyline"&&ue==="orthogonal"&&n!==r&&n.children&&n.children.length!==0&&n.isExpand===!0){for(var xe=n.children,Oe=[],Ce=0;Ce<xe.length;Ce++){var Ie=xe[Ce].getLayout();Oe.push([Ie.x,Ie.y])}$e||($e=$.__edge=new TreePath({shape:{parentPoint:[oe.x,oe.y],childPoints:[[oe.x,oe.y]],orient:de,forkPosition:pe}})),updateProps$1($e,{shape:{parentPoint:[oe.x,oe.y],childPoints:Oe}},g)}$e&&!(le==="polyline"&&!n.isExpand)&&($e.useStyle(defaults$2({strokeNoScale:!0,fill:null},_e)),setStatesStylesFromModel($e,re,"lineStyle"),setDefaultStateProxy($e),ae.add($e))}function removeNodeEdge(g,n,r,$,L){var V=n.tree.root,oe=getSourceNode(V,g),ae=oe.source,re=oe.sourceLayout,le=n.getItemGraphicEl(g.dataIndex);if(le){var ue=n.getItemGraphicEl(ae.dataIndex),de=ue.__edge,he=le.__edge||(ae.isExpand===!1||ae.children.length===1?de:void 0),pe=$.get("edgeShape"),_e=$.get("layout"),$e=$.get("orient"),xe=$.get(["lineStyle","curveness"]);he&&(pe==="curve"?removeElement(he,{shape:getEdgeShape(_e,$e,xe,re,re),style:{opacity:0}},$,{cb:function(){r.remove(he)},removeOpt:L}):pe==="polyline"&&$.get("layout")==="orthogonal"&&removeElement(he,{shape:{parentPoint:[re.x,re.y],childPoints:[[re.x,re.y]]},style:{opacity:0}},$,{cb:function(){r.remove(he)},removeOpt:L}))}}function getSourceNode(g,n){for(var r=n.parentNode===g?n:n.parentNode||n,$;$=r.getLayout(),$==null;)r=r.parentNode===g?r:r.parentNode||r;return{source:r,sourceLayout:$}}function removeNode(g,n,r,$,L){var V=g.tree.getNodeByDataIndex(n),oe=g.tree.root,ae=getSourceNode(oe,V).sourceLayout,re={duration:L.get("animationDurationUpdate"),easing:L.get("animationEasingUpdate")};removeElement(r,{x:ae.x+1,y:ae.y+1},L,{cb:function(){$.remove(r),g.setItemGraphicEl(n,null)},removeOpt:re}),r.fadeOut(null,g.hostModel,{fadeLabel:!0,animation:re}),V.children.forEach(function(le){removeNodeEdge(le,g,$,L,re)}),removeNodeEdge(V,g,$,L,re)}function getEdgeShape(g,n,r,$,L){var V,oe,ae,re,le,ue,de,he;if(g==="radial"){le=$.rawX,de=$.rawY,ue=L.rawX,he=L.rawY;var pe=radialCoordinate(le,de),_e=radialCoordinate(le,de+(he-de)*r),$e=radialCoordinate(ue,he+(de-he)*r),xe=radialCoordinate(ue,he);return{x1:pe.x||0,y1:pe.y||0,x2:xe.x||0,y2:xe.y||0,cpx1:_e.x||0,cpy1:_e.y||0,cpx2:$e.x||0,cpy2:$e.y||0}}else le=$.x,de=$.y,ue=L.x,he=L.y,(n==="LR"||n==="RL")&&(V=le+(ue-le)*r,oe=de,ae=ue+(le-ue)*r,re=he),(n==="TB"||n==="BT")&&(V=le,oe=de+(he-de)*r,ae=ue,re=he+(de-he)*r);return{x1:le,y1:de,x2:ue,y2:he,cpx1:V,cpy1:oe,cpx2:ae,cpy2:re}}const TreeView$1=TreeView;var inner$e=makeInner();function linkSeriesData(g){var n=g.mainData,r=g.datas;r||(r={main:n},g.datasAttr={main:"data"}),g.datas=g.mainData=null,linkAll(n,r,g),each$f(r,function($){each$f(n.TRANSFERABLE_METHODS,function(L){$.wrapMethod(L,curry$1(transferInjection,g))})}),n.wrapMethod("cloneShallow",curry$1(cloneShallowInjection,g)),each$f(n.CHANGABLE_METHODS,function($){n.wrapMethod($,curry$1(changeInjection,g))}),assert(r[n.dataType]===n)}function transferInjection(g,n){if(isMainData(this)){var r=extend$1({},inner$e(this).datas);r[this.dataType]=n,linkAll(n,r,g)}else linkSingle(n,this.dataType,inner$e(this).mainData,g);return n}function changeInjection(g,n){return g.struct&&g.struct.update(),n}function cloneShallowInjection(g,n){return each$f(inner$e(n).datas,function(r,$){r!==n&&linkSingle(r.cloneShallow(),$,n,g)}),n}function getLinkedData(g){var n=inner$e(this).mainData;return g==null||n==null?n:inner$e(n).datas[g]}function getLinkedDataAll(){var g=inner$e(this).mainData;return g==null?[{data:g}]:map$1(keys(inner$e(g).datas),function(n){return{type:n,data:inner$e(g).datas[n]}})}function isMainData(g){return inner$e(g).mainData===g}function linkAll(g,n,r){inner$e(g).datas={},each$f(n,function($,L){linkSingle($,L,g,r)})}function linkSingle(g,n,r,$){inner$e(r).datas[n]=g,inner$e(g).mainData=r,g.dataType=n,$.struct&&(g[$.structAttr]=$.struct,$.struct[$.datasAttr[n]]=g),g.getLinkedData=getLinkedData,g.getLinkedDataAll=getLinkedDataAll}var TreeNode=function(){function g(n,r){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=n||"",this.hostTree=r}return g.prototype.isRemoved=function(){return this.dataIndex<0},g.prototype.eachNode=function(n,r,$){isFunction$1(n)&&($=r,r=n,n=null),n=n||{},isString$1(n)&&(n={order:n});var L=n.order||"preorder",V=this[n.attr||"children"],oe;L==="preorder"&&(oe=r.call($,this));for(var ae=0;!oe&&ae<V.length;ae++)V[ae].eachNode(n,r,$);L==="postorder"&&r.call($,this)},g.prototype.updateDepthAndHeight=function(n){var r=0;this.depth=n;for(var $=0;$<this.children.length;$++){var L=this.children[$];L.updateDepthAndHeight(n+1),L.height>r&&(r=L.height)}this.height=r+1},g.prototype.getNodeById=function(n){if(this.getId()===n)return this;for(var r=0,$=this.children,L=$.length;r<L;r++){var V=$[r].getNodeById(n);if(V)return V}},g.prototype.contains=function(n){if(n===this)return!0;for(var r=0,$=this.children,L=$.length;r<L;r++){var V=$[r].contains(n);if(V)return V}},g.prototype.getAncestors=function(n){for(var r=[],$=n?this:this.parentNode;$;)r.push($),$=$.parentNode;return r.reverse(),r},g.prototype.getAncestorsIndices=function(){for(var n=[],r=this;r;)n.push(r.dataIndex),r=r.parentNode;return n.reverse(),n},g.prototype.getDescendantIndices=function(){var n=[];return this.eachNode(function(r){n.push(r.dataIndex)}),n},g.prototype.getValue=function(n){var r=this.hostTree.data;return r.getStore().get(r.getDimensionIndex(n||"value"),this.dataIndex)},g.prototype.setLayout=function(n,r){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,n,r)},g.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},g.prototype.getModel=function(n){if(!(this.dataIndex<0)){var r=this.hostTree,$=r.data.getItemModel(this.dataIndex);return $.getModel(n)}},g.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},g.prototype.setVisual=function(n,r){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,n,r)},g.prototype.getVisual=function(n){return this.hostTree.data.getItemVisual(this.dataIndex,n)},g.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},g.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},g.prototype.getChildIndex=function(){if(this.parentNode){for(var n=this.parentNode.children,r=0;r<n.length;++r)if(n[r]===this)return r;return-1}return-1},g.prototype.isAncestorOf=function(n){for(var r=n.parentNode;r;){if(r===this)return!0;r=r.parentNode}return!1},g.prototype.isDescendantOf=function(n){return n!==this&&n.isAncestorOf(this)},g}(),Tree=function(){function g(n){this.type="tree",this._nodes=[],this.hostModel=n}return g.prototype.eachNode=function(n,r,$){this.root.eachNode(n,r,$)},g.prototype.getNodeByDataIndex=function(n){var r=this.data.getRawIndex(n);return this._nodes[r]},g.prototype.getNodeById=function(n){return this.root.getNodeById(n)},g.prototype.update=function(){for(var n=this.data,r=this._nodes,$=0,L=r.length;$<L;$++)r[$].dataIndex=-1;for(var $=0,L=n.count();$<L;$++)r[n.getRawIndex($)].dataIndex=$},g.prototype.clearLayouts=function(){this.data.clearItemLayouts()},g.createTree=function(n,r,$){var L=new g(r),V=[],oe=1;ae(n);function ae(ue,de){var he=ue.value;oe=Math.max(oe,isArray$2(he)?he.length:1),V.push(ue);var pe=new TreeNode(convertOptionIdName(ue.name,""),L);de?addChild(pe,de):L.root=pe,L._nodes.push(pe);var _e=ue.children;if(_e)for(var $e=0;$e<_e.length;$e++)ae(_e[$e],pe)}L.root.updateDepthAndHeight(0);var re=prepareSeriesDataSchema(V,{coordDimensions:["value"],dimensionsCount:oe}).dimensions,le=new SeriesData$1(re,r);return le.initData(V),$&&$(le),linkSeriesData({mainData:le,struct:L,structAttr:"tree"}),L.update(),L},g}();function addChild(g,n){var r=n.children;g.parentNode!==n&&(r.push(g),g.parentNode=n)}const Tree$1=Tree;function retrieveTargetInfo(g,n,r){if(g&&indexOf(n,g.type)>=0){var $=r.getData().tree.root,L=g.targetNode;if(isString$1(L)&&(L=$.getNodeById(L)),L&&$.contains(L))return{node:L};var V=g.targetNodeId;if(V!=null&&(L=$.getNodeById(V)))return{node:L}}}function getPathToRoot(g){for(var n=[];g;)g=g.parentNode,g&&n.push(g);return n.reverse()}function aboveViewRoot(g,n){var r=getPathToRoot(g);return indexOf(r,n)>=0}function wrapTreePathInfo(g,n){for(var r=[];g;){var $=g.dataIndex;r.push({name:g.name,dataIndex:$,value:n.getRawValue($)}),g=g.parentNode}return r.reverse(),r}var TreeSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.hasSymbolVisual=!0,r.ignoreStyleOnData=!0,r}return n.prototype.getInitialData=function(r){var $={name:r.name,children:r.data},L=r.leaves||{},V=new Model$1(L,this,this.ecModel),oe=Tree$1.createTree($,this,ae);function ae(de){de.wrapMethod("getItemModel",function(he,pe){var _e=oe.getNodeByDataIndex(pe);return _e&&_e.children.length&&_e.isExpand||(he.parentModel=V),he})}var re=0;oe.eachNode("preorder",function(de){de.depth>re&&(re=de.depth)});var le=r.expandAndCollapse,ue=le&&r.initialTreeDepth>=0?r.initialTreeDepth:re;return oe.root.eachNode("preorder",function(de){var he=de.hostTree.data.getRawDataItem(de.dataIndex);de.isExpand=he&&he.collapsed!=null?!he.collapsed:de.depth<=ue}),oe.data},n.prototype.getOrient=function(){var r=this.get("orient");return r==="horizontal"?r="LR":r==="vertical"&&(r="TB"),r},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.formatTooltip=function(r,$,L){for(var V=this.getData().tree,oe=V.root.children[0],ae=V.getNodeByDataIndex(r),re=ae.getValue(),le=ae.name;ae&&ae!==oe;)le=ae.parentNode.name+"."+le,ae=ae.parentNode;return createTooltipMarkup("nameValue",{name:le,value:re,noValue:isNaN(re)||re==null})},n.prototype.getDataParams=function(r){var $=g.prototype.getDataParams.apply(this,arguments),L=this.getData().tree.getNodeByDataIndex(r);return $.treeAncestors=wrapTreePathInfo(L,this),$.collapsed=!L.isExpand,$},n.type="series.tree",n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},n}(SeriesModel$1);const TreeSeriesModel$1=TreeSeriesModel;function eachAfter(g,n,r){for(var $=[g],L=[],V;V=$.pop();)if(L.push(V),V.isExpand){var oe=V.children;if(oe.length)for(var ae=0;ae<oe.length;ae++)$.push(oe[ae])}for(;V=L.pop();)n(V,r)}function eachBefore(g,n){for(var r=[g],$;$=r.pop();)if(n($),$.isExpand){var L=$.children;if(L.length)for(var V=L.length-1;V>=0;V--)r.push(L[V])}}function treeLayout(g,n){g.eachSeriesByType("tree",function(r){commonLayout(r,n)})}function commonLayout(g,n){var r=getViewRect$4(g,n);g.layoutInfo=r;var $=g.get("layout"),L=0,V=0,oe=null;$==="radial"?(L=2*Math.PI,V=Math.min(r.height,r.width)/2,oe=separation(function(Ie,Ne){return(Ie.parentNode===Ne.parentNode?1:2)/Ie.depth})):(L=r.width,V=r.height,oe=separation());var ae=g.getData().tree.root,re=ae.children[0];if(re){init(ae),eachAfter(re,firstWalk,oe),ae.hierNode.modifier=-re.hierNode.prelim,eachBefore(re,secondWalk);var le=re,ue=re,de=re;eachBefore(re,function(Ie){var Ne=Ie.getLayout().x;Ne<le.getLayout().x&&(le=Ie),Ne>ue.getLayout().x&&(ue=Ie),Ie.depth>de.depth&&(de=Ie)});var he=le===ue?1:oe(le,ue)/2,pe=he-le.getLayout().x,_e=0,$e=0,xe=0,Oe=0;if($==="radial")_e=L/(ue.getLayout().x+he+pe),$e=V/(de.depth-1||1),eachBefore(re,function(Ie){xe=(Ie.getLayout().x+pe)*_e,Oe=(Ie.depth-1)*$e;var Ne=radialCoordinate(xe,Oe);Ie.setLayout({x:Ne.x,y:Ne.y,rawX:xe,rawY:Oe},!0)});else{var Ce=g.getOrient();Ce==="RL"||Ce==="LR"?($e=V/(ue.getLayout().x+he+pe),_e=L/(de.depth-1||1),eachBefore(re,function(Ie){Oe=(Ie.getLayout().x+pe)*$e,xe=Ce==="LR"?(Ie.depth-1)*_e:L-(Ie.depth-1)*_e,Ie.setLayout({x:xe,y:Oe},!0)})):(Ce==="TB"||Ce==="BT")&&(_e=L/(ue.getLayout().x+he+pe),$e=V/(de.depth-1||1),eachBefore(re,function(Ie){xe=(Ie.getLayout().x+pe)*_e,Oe=Ce==="TB"?(Ie.depth-1)*$e:V-(Ie.depth-1)*$e,Ie.setLayout({x:xe,y:Oe},!0)}))}}}function treeVisual(g){g.eachSeriesByType("tree",function(n){var r=n.getData(),$=r.tree;$.eachNode(function(L){var V=L.getModel(),oe=V.getModel("itemStyle").getItemStyle(),ae=r.ensureUniqueItemVisual(L.dataIndex,"style");extend$1(ae,oe)})})}function installTreeAction(g){g.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(n,r){r.eachComponent({mainType:"series",subType:"tree",query:n},function($){var L=n.dataIndex,V=$.getData().tree,oe=V.getNodeByDataIndex(L);oe.isExpand=!oe.isExpand})}),g.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(n,r,$){r.eachComponent({mainType:"series",subType:"tree",query:n},function(L){var V=L.coordinateSystem,oe=updateCenterAndZoom(V,n,void 0,$);L.setCenter&&L.setCenter(oe.center),L.setZoom&&L.setZoom(oe.zoom)})})}function install$I(g){g.registerChartView(TreeView$1),g.registerSeriesModel(TreeSeriesModel$1),g.registerLayout(treeLayout),g.registerVisual(treeVisual),installTreeAction(g)}var actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];function installTreemapAction(g){for(var n=0;n<actionTypes.length;n++)g.registerAction({type:actionTypes[n],update:"updateView"},noop$1);g.registerAction({type:"treemapRootToNode",update:"updateView"},function(r,$){$.eachComponent({mainType:"series",subType:"treemap",query:r},L);function L(V,oe){var ae=["treemapZoomToNode","treemapRootToNode"],re=retrieveTargetInfo(r,ae,V);if(re){var le=V.getViewRoot();le&&(r.direction=aboveViewRoot(le,re.node)?"rollUp":"drillDown"),V.resetViewRoot(re.node)}}})}function enableAriaDecalForTree(g){var n=g.getData(),r=n.tree,$={};r.eachNode(function(L){for(var V=L;V&&V.depth>1;)V=V.parentNode;var oe=getDecalFromPalette(g.ecModel,V.name||V.dataIndex+"",$);L.setVisual("decal",oe)})}var TreemapSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.preventUsingHoverLayer=!0,r}return n.prototype.getInitialData=function(r,$){var L={name:r.name,children:r.data};completeTreeValue$1(L);var V=r.levels||[],oe=this.designatedVisualItemStyle={},ae=new Model$1({itemStyle:oe},this,$);V=r.levels=setDefault(V,$);var re=map$1(V||[],function(de){return new Model$1(de,ae,$)},this),le=Tree$1.createTree(L,this,ue);function ue(de){de.wrapMethod("getItemModel",function(he,pe){var _e=le.getNodeByDataIndex(pe),$e=_e?re[_e.depth]:null;return he.parentModel=$e||ae,he})}return le.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.formatTooltip=function(r,$,L){var V=this.getData(),oe=this.getRawValue(r),ae=V.getName(r);return createTooltipMarkup("nameValue",{name:ae,value:oe})},n.prototype.getDataParams=function(r){var $=g.prototype.getDataParams.apply(this,arguments),L=this.getData().tree.getNodeByDataIndex(r);return $.treeAncestors=wrapTreePathInfo(L,this),$.treePathInfo=$.treeAncestors,$},n.prototype.setLayoutInfo=function(r){this.layoutInfo=this.layoutInfo||{},extend$1(this.layoutInfo,r)},n.prototype.mapIdToIndex=function(r){var $=this._idIndexMap;$||($=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var L=$.get(r);return L==null&&$.set(r,L=this._idIndexMapCount++),L},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var $=this.getRawData().tree.root;(!r||r!==$&&!$.contains(r))&&(this._viewRoot=$)},n.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},n.type="series.treemap",n.layoutMode="box",n.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},n}(SeriesModel$1);function completeTreeValue$1(g){var n=0;each$f(g.children,function($){completeTreeValue$1($);var L=$.value;isArray$2(L)&&(L=L[0]),n+=L});var r=g.value;isArray$2(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=n),r<0&&(r=0),isArray$2(g.value)?g.value[0]=r:g.value=r}function setDefault(g,n){var r=normalizeToArray(n.get("color")),$=normalizeToArray(n.get(["aria","decal","decals"]));if(r){g=g||[];var L,V;each$f(g,function(ae){var re=new Model$1(ae),le=re.get("color"),ue=re.get("decal");(re.get(["itemStyle","color"])||le&&le!=="none")&&(L=!0),(re.get(["itemStyle","decal"])||ue&&ue!=="none")&&(V=!0)});var oe=g[0]||(g[0]={});return L||(oe.color=r.slice()),!V&&$&&(oe.decal=$.slice()),g}}const TreemapSeriesModel$1=TreemapSeriesModel;var TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=function(){function g(n){this.group=new Group$4,n.add(this.group)}return g.prototype.render=function(n,r,$,L){var V=n.getModel("breadcrumb"),oe=this.group;if(oe.removeAll(),!(!V.get("show")||!$)){var ae=V.getModel("itemStyle"),re=V.getModel("emphasis"),le=ae.getModel("textStyle"),ue=re.getModel(["itemStyle","textStyle"]),de={pos:{left:V.get("left"),right:V.get("right"),top:V.get("top"),bottom:V.get("bottom")},box:{width:r.getWidth(),height:r.getHeight()},emptyItemWidth:V.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare($,de,le),this._renderContent(n,de,ae,re,le,ue,L),positionElement(oe,de.pos,de.box)}},g.prototype._prepare=function(n,r,$){for(var L=n;L;L=L.parentNode){var V=convertOptionIdName(L.getModel().get("name"),""),oe=$.getTextRect(V),ae=Math.max(oe.width+TEXT_PADDING*2,r.emptyItemWidth);r.totalWidth+=ae+ITEM_GAP,r.renderList.push({node:L,text:V,width:ae})}},g.prototype._renderContent=function(n,r,$,L,V,oe,ae){for(var re=0,le=r.emptyItemWidth,ue=n.get(["breadcrumb","height"]),de=getAvailableSize(r.pos,r.box),he=r.totalWidth,pe=r.renderList,_e=L.getModel("itemStyle").getItemStyle(),$e=pe.length-1;$e>=0;$e--){var xe=pe[$e],Oe=xe.node,Ce=xe.width,Ie=xe.text;he>de.width&&(he-=Ce-le,Ce=le,Ie=null);var Ne=new Polygon$1({shape:{points:makeItemPoints(re,0,Ce,ue,$e===pe.length-1,$e===0)},style:defaults$2($.getItemStyle(),{lineJoin:"bevel"}),textContent:new ZRText$1({style:createTextStyle(V,{text:Ie})}),textConfig:{position:"inside"},z2:Z2_EMPHASIS_LIFT*1e4,onclick:curry$1(ae,Oe)});Ne.disableLabelAnimation=!0,Ne.getTextContent().ensureState("emphasis").style=createTextStyle(oe,{text:Ie}),Ne.ensureState("emphasis").style=_e,toggleHoverEmphasis(Ne,L.get("focus"),L.get("blurScope"),L.get("disabled")),this.group.add(Ne),packEventData(Ne,n,Oe),re+=Ce+ITEM_GAP}},g.prototype.remove=function(){this.group.removeAll()},g}();function makeItemPoints(g,n,r,$,L,V){var oe=[[L?g:g-ARRAY_LENGTH,n],[g+r,n],[g+r,n+$],[L?g:g-ARRAY_LENGTH,n+$]];return!V&&oe.splice(2,0,[g+r+ARRAY_LENGTH,n+$/2]),!L&&oe.push([g,n+$/2]),oe}function packEventData(g,n,r){getECData(g).eventData={componentType:"series",componentSubType:"treemap",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&wrapTreePathInfo(r,n)}}const Breadcrumb$1=Breadcrumb;var AnimationWrap=function(){function g(){this._storage=[],this._elExistsMap={}}return g.prototype.add=function(n,r,$,L,V){return this._elExistsMap[n.id]?!1:(this._elExistsMap[n.id]=!0,this._storage.push({el:n,target:r,duration:$,delay:L,easing:V}),!0)},g.prototype.finished=function(n){return this._finishedCallback=n,this},g.prototype.start=function(){for(var n=this,r=this._storage.length,$=function(){r--,r<=0&&(n._storage.length=0,n._elExistsMap={},n._finishedCallback&&n._finishedCallback())},L=0,V=this._storage.length;L<V;L++){var oe=this._storage[L];oe.el.animateTo(oe.target,{duration:oe.duration,delay:oe.delay,easing:oe.easing,setToFinal:!0,done:$,aborted:$})}return this},g}();function createWrap(){return new AnimationWrap}var Group$2=Group$4,Rect$1=Rect$3,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL="label",PATH_UPPERLABEL_NORMAL="upperLabel",Z2_BASE=Z2_EMPHASIS_LIFT*10,Z2_BG=Z2_EMPHASIS_LIFT*2,Z2_CONTENT=Z2_EMPHASIS_LIFT*3,getStateItemStyle=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(g){var n=getStateItemStyle(g);return n.stroke=n.fill=n.lineWidth=null,n},inner$d=makeInner(),TreemapView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._state="ready",r._storage=createStorage(),r}return n.prototype.render=function(r,$,L,V){var oe=$.findComponents({mainType:"series",subType:"treemap",query:V});if(!(indexOf(oe,r)<0)){this.seriesModel=r,this.api=L,this.ecModel=$;var ae=["treemapZoomToNode","treemapRootToNode"],re=retrieveTargetInfo(V,ae,r),le=V&&V.type,ue=r.layoutInfo,de=!this._oldTree,he=this._storage,pe=le==="treemapRootToNode"&&re&&he?{rootNodeGroup:he.nodeGroup[re.node.getRawIndex()],direction:V.direction}:null,_e=this._giveContainerGroup(ue),$e=r.get("animation"),xe=this._doRender(_e,r,pe);$e&&!de&&(!le||le==="treemapZoomToNode"||le==="treemapRootToNode")?this._doAnimation(_e,xe,r,pe):xe.renderFinally(),this._resetController(L),this._renderBreadcrumb(r,L,re)}},n.prototype._giveContainerGroup=function(r){var $=this._containerGroup;return $||($=this._containerGroup=new Group$2,this._initEvents($),this.group.add($)),$.x=r.x,$.y=r.y,$},n.prototype._doRender=function(r,$,L){var V=$.getData().tree,oe=this._oldTree,ae=createStorage(),re=createStorage(),le=this._storage,ue=[];function de(xe,Oe,Ce,Ie){return renderNode($,re,le,L,ae,ue,xe,Oe,Ce,Ie)}pe(V.root?[V.root]:[],oe&&oe.root?[oe.root]:[],r,V===oe||!oe,0);var he=_e(le);return this._oldTree=V,this._storage=re,{lastsForAnimation:ae,willDeleteEls:he,renderFinally:$e};function pe(xe,Oe,Ce,Ie,Ne){Ie?(Oe=xe,each$f(xe,function(Ue,At){!Ue.isRemoved()&&Fe(At,At)})):new DataDiffer$1(Oe,xe,ze,ze).add(Fe).update(Fe).remove(curry$1(Fe,null)).execute();function ze(Ue){return Ue.getId()}function Fe(Ue,At){var Et=Ue!=null?xe[Ue]:null,Pt=At!=null?Oe[At]:null,kt=de(Et,Pt,Ce,Ne);kt&&pe(Et&&Et.viewChildren||[],Pt&&Pt.viewChildren||[],kt,Ie,Ne+1)}}function _e(xe){var Oe=createStorage();return xe&&each$f(xe,function(Ce,Ie){var Ne=Oe[Ie];each$f(Ce,function(ze){ze&&(Ne.push(ze),inner$d(ze).willDelete=!0)})}),Oe}function $e(){each$f(he,function(xe){each$f(xe,function(Oe){Oe.parent&&Oe.parent.remove(Oe)})}),each$f(ue,function(xe){xe.invisible=!0,xe.dirty()})}},n.prototype._doAnimation=function(r,$,L,V){var oe=L.get("animationDurationUpdate"),ae=L.get("animationEasing"),re=(isFunction$1(oe)?0:oe)||0,le=(isFunction$1(ae)?null:ae)||"cubicOut",ue=createWrap();each$f($.willDeleteEls,function(de,he){each$f(de,function(pe,_e){if(!pe.invisible){var $e=pe.parent,xe,Oe=inner$d($e);if(V&&V.direction==="drillDown")xe=$e===V.rootNodeGroup?{shape:{x:0,y:0,width:Oe.nodeWidth,height:Oe.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var Ce=0,Ie=0;Oe.willDelete||(Ce=Oe.nodeWidth/2,Ie=Oe.nodeHeight/2),xe=he==="nodeGroup"?{x:Ce,y:Ie,style:{opacity:0}}:{shape:{x:Ce,y:Ie,width:0,height:0},style:{opacity:0}}}xe&&ue.add(pe,xe,re,0,le)}})}),each$f(this._storage,function(de,he){each$f(de,function(pe,_e){var $e=$.lastsForAnimation[he][_e],xe={};!$e||(pe instanceof Group$4?$e.oldX!=null&&(xe.x=pe.x,xe.y=pe.y,pe.x=$e.oldX,pe.y=$e.oldY):($e.oldShape&&(xe.shape=extend$1({},pe.shape),pe.setShape($e.oldShape)),$e.fadein?(pe.setStyle("opacity",0),xe.style={opacity:1}):pe.style.opacity!==1&&(xe.style={opacity:1})),ue.add(pe,xe,re,0,le))})},this),this._state="animating",ue.finished(bind$2(function(){this._state="ready",$.renderFinally()},this)).start()},n.prototype._resetController=function(r){var $=this._controller;$||($=this._controller=new RoamController$1(r.getZr()),$.enable(this.seriesModel.get("roam")),$.on("pan",bind$2(this._onPan,this)),$.on("zoom",bind$2(this._onZoom,this)));var L=new BoundingRect$1(0,0,r.getWidth(),r.getHeight());$.setPointerChecker(function(V,oe,ae){return L.contain(oe,ae)})},n.prototype._clearController=function(){var r=this._controller;r&&(r.dispose(),r=null)},n.prototype._onPan=function(r){if(this._state!=="animating"&&(Math.abs(r.dx)>DRAG_THRESHOLD||Math.abs(r.dy)>DRAG_THRESHOLD)){var $=this.seriesModel.getData().tree.root;if(!$)return;var L=$.getLayout();if(!L)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:L.x+r.dx,y:L.y+r.dy,width:L.width,height:L.height}})}},n.prototype._onZoom=function(r){var $=r.originX,L=r.originY;if(this._state!=="animating"){var V=this.seriesModel.getData().tree.root;if(!V)return;var oe=V.getLayout();if(!oe)return;var ae=new BoundingRect$1(oe.x,oe.y,oe.width,oe.height),re=this.seriesModel.layoutInfo;$-=re.x,L-=re.y;var le=create$1();translate(le,le,[-$,-L]),scale$1(le,le,[r.scale,r.scale]),translate(le,le,[$,L]),ae.applyTransform(le),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:ae.x,y:ae.y,width:ae.width,height:ae.height}})}},n.prototype._initEvents=function(r){var $=this;r.on("click",function(L){if($._state==="ready"){var V=$.seriesModel.get("nodeClick",!0);if(V){var oe=$.findTarget(L.offsetX,L.offsetY);if(oe){var ae=oe.node;if(ae.getLayout().isLeafRoot)$._rootToNode(oe);else if(V==="zoomToNode")$._zoomToNode(oe);else if(V==="link"){var re=ae.hostTree.data.getItemModel(ae.dataIndex),le=re.get("link",!0),ue=re.get("target",!0)||"blank";le&&windowOpen(le,ue)}}}}},this)},n.prototype._renderBreadcrumb=function(r,$,L){var V=this;L||(L=r.get("leafDepth",!0)!=null?{node:r.getViewRoot()}:this.findTarget($.getWidth()/2,$.getHeight()/2),L||(L={node:r.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb$1(this.group))).render(r,$,L.node,function(oe){V._state!=="animating"&&(aboveViewRoot(r.getViewRoot(),oe)?V._rootToNode({node:oe}):V._zoomToNode({node:oe}))})},n.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},n.prototype.dispose=function(){this._clearController()},n.prototype._zoomToNode=function(r){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},n.prototype._rootToNode=function(r){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},n.prototype.findTarget=function(r,$){var L,V=this.seriesModel.getViewRoot();return V.eachNode({attr:"viewChildren",order:"preorder"},function(oe){var ae=this._storage.background[oe.getRawIndex()];if(ae){var re=ae.transformCoordToLocal(r,$),le=ae.shape;if(le.x<=re[0]&&re[0]<=le.x+le.width&&le.y<=re[1]&&re[1]<=le.y+le.height)L={node:oe,offsetX:re[0],offsetY:re[1]};else return!1}},this),L},n.type="treemap",n}(ChartView$1);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode(g,n,r,$,L,V,oe,ae,re,le){if(!oe)return;var ue=oe.getLayout(),de=g.getData(),he=oe.getModel();if(de.setItemGraphicEl(oe.dataIndex,null),!ue||!ue.isInView)return;var pe=ue.width,_e=ue.height,$e=ue.borderWidth,xe=ue.invisible,Oe=oe.getRawIndex(),Ce=ae&&ae.getRawIndex(),Ie=oe.viewChildren,Ne=ue.upperHeight,ze=Ie&&Ie.length,Fe=he.getModel("itemStyle"),Ue=he.getModel(["emphasis","itemStyle"]),At=he.getModel(["blur","itemStyle"]),Et=he.getModel(["select","itemStyle"]),Pt=Fe.get("borderRadius")||0,kt=Fn("nodeGroup",Group$2);if(!kt)return;if(re.add(kt),kt.x=ue.x||0,kt.y=ue.y||0,kt.markRedraw(),inner$d(kt).nodeWidth=pe,inner$d(kt).nodeHeight=_e,ue.isAboveViewRoot)return kt;var Dt=Fn("background",Rect$1,le,Z2_BG);Dt&&xn(kt,Dt,ze&&ue.upperLabelHeight);var Lt=he.getModel("emphasis"),hn=Lt.get("focus"),vn=Lt.get("blurScope"),_n=Lt.get("disabled"),$n=hn==="ancestor"?oe.getAncestorsIndices():hn==="descendant"?oe.getDescendantIndices():hn;if(ze)isHighDownDispatcher(kt)&&setAsHighDownDispatcher(kt,!1),Dt&&(setAsHighDownDispatcher(Dt,!_n),de.setItemGraphicEl(oe.dataIndex,Dt),enableHoverFocus(Dt,$n,vn));else{var Sn=Fn("content",Rect$1,le,Z2_CONTENT);Sn&&On(kt,Sn),Dt.disableMorphing=!0,Dt&&isHighDownDispatcher(Dt)&&setAsHighDownDispatcher(Dt,!1),setAsHighDownDispatcher(kt,!_n),de.setItemGraphicEl(oe.dataIndex,kt),enableHoverFocus(kt,$n,vn)}return kt;function xn(Dn,kn,Nn){var Vn=getECData(kn);if(Vn.dataIndex=oe.dataIndex,Vn.seriesIndex=g.seriesIndex,kn.setShape({x:0,y:0,width:pe,height:_e,r:Pt}),xe)Cn(kn);else{kn.invisible=!1;var Ln=oe.getVisual("style"),Tn=Ln.stroke,In=getItemStyleNormal(Fe);In.fill=Tn;var Bn=getStateItemStyle(Ue);Bn.fill=Ue.get("borderColor");var Qn=getStateItemStyle(At);Qn.fill=At.get("borderColor");var Zn=getStateItemStyle(Et);if(Zn.fill=Et.get("borderColor"),Nn){var Kn=pe-2*$e;An(kn,Tn,Ln.opacity,{x:$e,y:0,width:Kn,height:Ne})}else kn.removeTextContent();kn.setStyle(In),kn.ensureState("emphasis").style=Bn,kn.ensureState("blur").style=Qn,kn.ensureState("select").style=Zn,setDefaultStateProxy(kn)}Dn.add(kn)}function On(Dn,kn){var Nn=getECData(kn);Nn.dataIndex=oe.dataIndex,Nn.seriesIndex=g.seriesIndex;var Vn=Math.max(pe-2*$e,0),Ln=Math.max(_e-2*$e,0);if(kn.culling=!0,kn.setShape({x:$e,y:$e,width:Vn,height:Ln,r:Pt}),xe)Cn(kn);else{kn.invisible=!1;var Tn=oe.getVisual("style"),In=Tn.fill,Bn=getItemStyleNormal(Fe);Bn.fill=In,Bn.decal=Tn.decal;var Qn=getStateItemStyle(Ue),Zn=getStateItemStyle(At),Kn=getStateItemStyle(Et);An(kn,In,Tn.opacity,null),kn.setStyle(Bn),kn.ensureState("emphasis").style=Qn,kn.ensureState("blur").style=Zn,kn.ensureState("select").style=Kn,setDefaultStateProxy(kn)}Dn.add(kn)}function Cn(Dn){!Dn.invisible&&V.push(Dn)}function An(Dn,kn,Nn,Vn){var Ln=he.getModel(Vn?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),Tn=convertOptionIdName(he.get("name"),null),In=Ln.getShallow("show");setLabelStyle(Dn,getLabelStatesModels(he,Vn?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:In?Tn:null,inheritColor:kn,defaultOpacity:Nn,labelFetcher:g,labelDataIndex:oe.dataIndex});var Bn=Dn.getTextContent();if(Bn){var Qn=Bn.style,Zn=normalizeCssArray$1(Qn.padding||0);Vn&&(Dn.setTextConfig({layoutRect:Vn}),Bn.disableLabelLayout=!0),Bn.beforeUpdate=function(){var ui=Math.max((Vn?Vn.width:Dn.shape.width)-Zn[1]-Zn[3],0),ei=Math.max((Vn?Vn.height:Dn.shape.height)-Zn[0]-Zn[2],0);(Qn.width!==ui||Qn.height!==ei)&&Bn.setStyle({width:ui,height:ei})},Qn.truncateMinChar=2,Qn.lineOverflow="truncate",Rn(Qn,Vn,ue);var Kn=Bn.getState("emphasis");Rn(Kn?Kn.style:null,Vn,ue)}}function Rn(Dn,kn,Nn){var Vn=Dn?Dn.text:null;if(!kn&&Nn.isLeafRoot&&Vn!=null){var Ln=g.get("drillDownIcon",!0);Dn.text=Ln?Ln+" "+Vn:Vn}}function Fn(Dn,kn,Nn,Vn){var Ln=Ce!=null&&r[Dn][Ce],Tn=L[Dn];return Ln?(r[Dn][Ce]=null,Pn(Tn,Ln)):xe||(Ln=new kn,Ln instanceof Displayable$1&&(Ln.z2=calculateZ2(Nn,Vn)),Un(Tn,Ln)),n[Dn][Oe]=Ln}function Pn(Dn,kn){var Nn=Dn[Oe]={};kn instanceof Group$2?(Nn.oldX=kn.x,Nn.oldY=kn.y):Nn.oldShape=extend$1({},kn.shape)}function Un(Dn,kn){var Nn=Dn[Oe]={},Vn=oe.parentNode,Ln=kn instanceof Group$4;if(Vn&&(!$||$.direction==="drillDown")){var Tn=0,In=0,Bn=L.background[Vn.getRawIndex()];!$&&Bn&&Bn.oldShape&&(Tn=Bn.oldShape.width,In=Bn.oldShape.height),Ln?(Nn.oldX=0,Nn.oldY=In):Nn.oldShape={x:Tn,y:In,width:0,height:0}}Nn.fadein=!Ln}}function calculateZ2(g,n){return g*Z2_BASE+n}const TreemapView$1=TreemapView;var each$c=each$f,isObject$1=isObject$4,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function g(n){var r=n.mappingMethod,$=n.type,L=this.option=clone$4(n);this.type=$,this.mappingMethod=r,this._normalizeData=normalizers[r];var V=g.visualHandlers[$];this.applyVisual=V.applyVisual,this.getColorMapper=V.getColorMapper,this._normalizedToVisual=V._normalizedToVisual[r],r==="piecewise"?(normalizeVisualRange(L),preprocessForPiecewise(L)):r==="category"?L.categories?preprocessForSpecifiedCategory(L):normalizeVisualRange(L,!0):(assert(r!=="linear"||L.dataExtent),normalizeVisualRange(L))}return g.prototype.mapValueToVisual=function(n){var r=this._normalizeData(n);return this._normalizedToVisual(r,n)},g.prototype.getNormalizer=function(){return bind$2(this._normalizeData,this)},g.listVisualTypes=function(){return keys(g.visualHandlers)},g.isValidType=function(n){return g.visualHandlers.hasOwnProperty(n)},g.eachVisual=function(n,r,$){isObject$4(n)?each$f(n,r,$):r.call($,n)},g.mapVisual=function(n,r,$){var L,V=isArray$2(n)?[]:isObject$4(n)?{}:(L=!0,null);return g.eachVisual(n,function(oe,ae){var re=r.call($,oe,ae);L?V=re:V[ae]=re}),V},g.retrieveVisuals=function(n){var r={},$;return n&&each$c(g.visualHandlers,function(L,V){n.hasOwnProperty(V)&&(r[V]=n[V],$=!0)}),$?r:null},g.prepareVisualTypes=function(n){if(isArray$2(n))n=n.slice();else if(isObject$1(n)){var r=[];each$c(n,function($,L){r.push(L)}),n=r}else return[];return n.sort(function($,L){return L==="color"&&$!=="color"&&$.indexOf("color")===0?1:-1}),n},g.dependsOn=function(n,r){return r==="color"?!!(n&&n.indexOf(r)===0):n===r},g.findPieceIndex=function(n,r,$){for(var L,V=1/0,oe=0,ae=r.length;oe<ae;oe++){var re=r[oe].value;if(re!=null){if(re===n||isString$1(re)&&re===n+"")return oe;$&&he(re,oe)}}for(var oe=0,ae=r.length;oe<ae;oe++){var le=r[oe],ue=le.interval,de=le.close;if(ue){if(ue[0]===-1/0){if(littleThan(de[1],n,ue[1]))return oe}else if(ue[1]===1/0){if(littleThan(de[0],ue[0],n))return oe}else if(littleThan(de[0],ue[0],n)&&littleThan(de[1],n,ue[1]))return oe;$&&he(ue[0],oe),$&&he(ue[1],oe)}}if($)return n===1/0?r.length-1:n===-1/0?0:L;function he(pe,_e){var $e=Math.abs(pe-n);$e<V&&(V=$e,L=_e)}},g.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var n=this.option;return bind$2(n.mappingMethod==="category"?function(r,$){return!$&&(r=this._normalizeData(r)),doMapCategory.call(this,r)}:function(r,$,L){var V=!!L;return!$&&(r=this._normalizeData(r)),L=fastLerp(r,n.parsedVisual,L),V?L:stringify(L,"rgba")},this)},_normalizedToVisual:{linear:function(n){return stringify(fastLerp(n,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(n,r){var $=getSpecifiedVisual.call(this,r);return $==null&&($=stringify(fastLerp(n,this.option.parsedVisual),"rgba")),$},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(n,r){return modifyHSL(n,r)}),colorSaturation:makePartialColorVisualHandler(function(n,r){return modifyHSL(n,null,r)}),colorLightness:makePartialColorVisualHandler(function(n,r){return modifyHSL(n,null,null,r)}),colorAlpha:makePartialColorVisualHandler(function(n,r){return modifyAlpha(n,r)}),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(n,r,$){var L=this.mapValueToVisual(n);$("symbol",L)},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(n,r){var $=getSpecifiedVisual.call(this,r);return $==null&&($=doMapToArray.call(this,n)),$},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},g}();function preprocessForPiecewise(g){var n=g.pieceList;g.hasSpecialVisual=!1,each$f(n,function(r,$){r.originIndex=$,r.visual!=null&&(g.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(g){var n=g.categories,r=g.categoryMap={},$=g.visual;if(each$c(n,function(oe,ae){r[oe]=ae}),!isArray$2($)){var L=[];isObject$4($)?each$c($,function(oe,ae){var re=r[ae];L[re!=null?re:CATEGORY_DEFAULT_VISUAL_INDEX]=oe}):L[CATEGORY_DEFAULT_VISUAL_INDEX]=$,$=setVisualToOption(g,L)}for(var V=n.length-1;V>=0;V--)$[V]==null&&(delete r[n[V]],n.pop())}function normalizeVisualRange(g,n){var r=g.visual,$=[];isObject$4(r)?each$c(r,function(V){$.push(V)}):r!=null&&$.push(r);var L={color:1,symbol:1};!n&&$.length===1&&!L.hasOwnProperty(g.type)&&($[1]=$[0]),setVisualToOption(g,$)}function makePartialColorVisualHandler(g){return{applyVisual:function(n,r,$){var L=this.mapValueToVisual(n);$("color",g(r("color"),L))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(g){var n=this.option.visual;return n[Math.round(linearMap$2(g,[0,1],[0,n.length-1],!0))]||{}}function makeApplyVisual(g){return function(n,r,$){$(g,this.mapValueToVisual(n))}}function doMapCategory(g){var n=this.option.visual;return n[this.option.loop&&g!==CATEGORY_DEFAULT_VISUAL_INDEX?g%n.length:g]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(g){return{linear:function(n){return linearMap$2(n,g,this.option.visual,!0)},category:doMapCategory,piecewise:function(n,r){var $=getSpecifiedVisual.call(this,r);return $==null&&($=linearMap$2(n,g,this.option.visual,!0)),$},fixed:doMapFixed}}function getSpecifiedVisual(g){var n=this.option,r=n.pieceList;if(n.hasSpecialVisual){var $=VisualMapping.findPieceIndex(g,r),L=r[$];if(L&&L.visual)return L.visual[this.type]}}function setVisualToOption(g,n){return g.visual=n,g.type==="color"&&(g.parsedVisual=map$1(n,function(r){var $=parse(r);return $||[0,0,0,1]})),n}var normalizers={linear:function(g){return linearMap$2(g,this.option.dataExtent,[0,1],!0)},piecewise:function(g){var n=this.option.pieceList,r=VisualMapping.findPieceIndex(g,n,!0);if(r!=null)return linearMap$2(r,[0,n.length-1],[0,1],!0)},category:function(g){var n=this.option.categories?this.option.categoryMap[g]:g;return n!=null?n:CATEGORY_DEFAULT_VISUAL_INDEX},fixed:noop$1};function littleThan(g,n,r){return g?n<=r:n<r}const VisualMapping$1=VisualMapping;var ITEM_STYLE_NORMAL="itemStyle",inner$c=makeInner();const treemapVisual={seriesType:"treemap",reset:function(g){var n=g.getData().tree,r=n.root;r.isRemoved()||travelTree(r,{},g.getViewRoot().getAncestors(),g)}};function travelTree(g,n,r,$){var L=g.getModel(),V=g.getLayout(),oe=g.hostTree.data;if(!(!V||V.invisible||!V.isInView)){var ae=L.getModel(ITEM_STYLE_NORMAL),re=buildVisuals(ae,n,$),le=oe.ensureUniqueItemVisual(g.dataIndex,"style"),ue=ae.get("borderColor"),de=ae.get("borderColorSaturation"),he;de!=null&&(he=calculateColor(re),ue=calculateBorderColor(de,he)),le.stroke=ue;var pe=g.viewChildren;if(!pe||!pe.length)he=calculateColor(re),le.fill=he;else{var _e=buildVisualMapping(g,L,V,ae,re,pe);each$f(pe,function($e,xe){if($e.depth>=r.length||$e===r[$e.depth]){var Oe=mapVisual$1(L,re,$e,xe,_e,$);travelTree($e,Oe,r,$)}})}}}function buildVisuals(g,n,r){var $=extend$1({},n),L=r.designatedVisualItemStyle;return each$f(["color","colorAlpha","colorSaturation"],function(V){L[V]=n[V];var oe=g.get(V);L[V]=null,oe!=null&&($[V]=oe)}),$}function calculateColor(g){var n=getValueVisualDefine(g,"color");if(n){var r=getValueVisualDefine(g,"colorAlpha"),$=getValueVisualDefine(g,"colorSaturation");return $&&(n=modifyHSL(n,null,null,$)),r&&(n=modifyAlpha(n,r)),n}}function calculateBorderColor(g,n){return n!=null?modifyHSL(n,null,null,g):null}function getValueVisualDefine(g,n){var r=g[n];if(r!=null&&r!=="none")return r}function buildVisualMapping(g,n,r,$,L,V){if(!(!V||!V.length)){var oe=getRangeVisual(n,"color")||L.color!=null&&L.color!=="none"&&(getRangeVisual(n,"colorAlpha")||getRangeVisual(n,"colorSaturation"));if(oe){var ae=n.get("visualMin"),re=n.get("visualMax"),le=r.dataExtent.slice();ae!=null&&ae<le[0]&&(le[0]=ae),re!=null&&re>le[1]&&(le[1]=re);var ue=n.get("colorMappingBy"),de={type:oe.name,dataExtent:le,visual:oe.range};de.type==="color"&&(ue==="index"||ue==="id")?(de.mappingMethod="category",de.loop=!0):de.mappingMethod="linear";var he=new VisualMapping$1(de);return inner$c(he).drColorMappingBy=ue,he}}}function getRangeVisual(g,n){var r=g.get(n);return isArray$2(r)&&r.length?{name:n,range:r}:null}function mapVisual$1(g,n,r,$,L,V){var oe=extend$1({},n);if(L){var ae=L.type,re=ae==="color"&&inner$c(L).drColorMappingBy,le=re==="index"?$:re==="id"?V.mapIdToIndex(r.getId()):r.getValue(g.get("visualDimension"));oe[ae]=L.mapValueToVisual(le)}return oe}var mathMax$3=Math.max,mathMin$3=Math.min,retrieveValue=retrieve,each$b=each$f,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"];const treemapLayout={seriesType:"treemap",reset:function(g,n,r,$){var L=r.getWidth(),V=r.getHeight(),oe=g.option,ae=getLayoutRect(g.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),re=oe.size||[],le=parsePercent(retrieveValue(ae.width,re[0]),L),ue=parsePercent(retrieveValue(ae.height,re[1]),V),de=$&&$.type,he=["treemapZoomToNode","treemapRootToNode"],pe=retrieveTargetInfo($,he,g),_e=de==="treemapRender"||de==="treemapMove"?$.rootRect:null,$e=g.getViewRoot(),xe=getPathToRoot($e);if(de!=="treemapMove"){var Oe=de==="treemapZoomToNode"?estimateRootSize(g,pe,$e,le,ue):_e?[_e.width,_e.height]:[le,ue],Ce=oe.sort;Ce&&Ce!=="asc"&&Ce!=="desc"&&(Ce="desc");var Ie={squareRatio:oe.squareRatio,sort:Ce,leafDepth:oe.leafDepth};$e.hostTree.clearLayouts();var Ne={x:0,y:0,width:Oe[0],height:Oe[1],area:Oe[0]*Oe[1]};$e.setLayout(Ne),squarify($e,Ie,!1,0),Ne=$e.getLayout(),each$b(xe,function(Fe,Ue){var At=(xe[Ue+1]||$e).getValue();Fe.setLayout(extend$1({dataExtent:[At,At],borderWidth:0,upperHeight:0},Ne))})}var ze=g.getData().tree.root;ze.setLayout(calculateRootPosition(ae,_e,pe),!0),g.setLayoutInfo(ae),prunning(ze,new BoundingRect$1(-ae.x,-ae.y,L,V),xe,$e,0)}};function squarify(g,n,r,$){var L,V;if(!g.isRemoved()){var oe=g.getLayout();L=oe.width,V=oe.height;var ae=g.getModel(),re=ae.get(PATH_BORDER_WIDTH),le=ae.get(PATH_GAP_WIDTH)/2,ue=getUpperLabelHeight(ae),de=Math.max(re,ue),he=re-le,pe=de-le;g.setLayout({borderWidth:re,upperHeight:de,upperLabelHeight:ue},!0),L=mathMax$3(L-2*he,0),V=mathMax$3(V-he-pe,0);var _e=L*V,$e=initChildren$1(g,ae,_e,n,r,$);if($e.length){var xe={x:he,y:pe,width:L,height:V},Oe=mathMin$3(L,V),Ce=1/0,Ie=[];Ie.area=0;for(var Ne=0,ze=$e.length;Ne<ze;){var Fe=$e[Ne];Ie.push(Fe),Ie.area+=Fe.getLayout().area;var Ue=worst(Ie,Oe,n.squareRatio);Ue<=Ce?(Ne++,Ce=Ue):(Ie.area-=Ie.pop().getLayout().area,position(Ie,Oe,xe,le,!1),Oe=mathMin$3(xe.width,xe.height),Ie.length=Ie.area=0,Ce=1/0)}if(Ie.length&&position(Ie,Oe,xe,le,!0),!r){var At=ae.get("childrenVisibleMin");At!=null&&_e<At&&(r=!0)}for(var Ne=0,ze=$e.length;Ne<ze;Ne++)squarify($e[Ne],n,r,$+1)}}}function initChildren$1(g,n,r,$,L,V){var oe=g.children||[],ae=$.sort;ae!=="asc"&&ae!=="desc"&&(ae=null);var re=$.leafDepth!=null&&$.leafDepth<=V;if(L&&!re)return g.viewChildren=[];oe=filter(oe,function(pe){return!pe.isRemoved()}),sort$1(oe,ae);var le=statistic(n,oe,ae);if(le.sum===0)return g.viewChildren=[];if(le.sum=filterByThreshold(n,r,le.sum,ae,oe),le.sum===0)return g.viewChildren=[];for(var ue=0,de=oe.length;ue<de;ue++){var he=oe[ue].getValue()/le.sum*r;oe[ue].setLayout({area:he})}return re&&(oe.length&&g.setLayout({isLeafRoot:!0},!0),oe.length=0),g.viewChildren=oe,g.setLayout({dataExtent:le.dataExtent},!0),oe}function filterByThreshold(g,n,r,$,L){if(!$)return r;for(var V=g.get("visibleMin"),oe=L.length,ae=oe,re=oe-1;re>=0;re--){var le=L[$==="asc"?oe-re-1:re].getValue();le/r*n<V&&(ae=re,r-=le)}return $==="asc"?L.splice(0,oe-ae):L.splice(ae,oe-ae),r}function sort$1(g,n){return n&&g.sort(function(r,$){var L=n==="asc"?r.getValue()-$.getValue():$.getValue()-r.getValue();return L===0?n==="asc"?r.dataIndex-$.dataIndex:$.dataIndex-r.dataIndex:L}),g}function statistic(g,n,r){for(var $=0,L=0,V=n.length;L<V;L++)$+=n[L].getValue();var oe=g.get("visualDimension"),ae;return!n||!n.length?ae=[NaN,NaN]:oe==="value"&&r?(ae=[n[n.length-1].getValue(),n[0].getValue()],r==="asc"&&ae.reverse()):(ae=[1/0,-1/0],each$b(n,function(re){var le=re.getValue(oe);le<ae[0]&&(ae[0]=le),le>ae[1]&&(ae[1]=le)})),{sum:$,dataExtent:ae}}function worst(g,n,r){for(var $=0,L=1/0,V=0,oe=void 0,ae=g.length;V<ae;V++)oe=g[V].getLayout().area,oe&&(oe<L&&(L=oe),oe>$&&($=oe));var re=g.area*g.area,le=n*n*r;return re?mathMax$3(le*$/re,re/(le*L)):1/0}function position(g,n,r,$,L){var V=n===r.width?0:1,oe=1-V,ae=["x","y"],re=["width","height"],le=r[ae[V]],ue=n?g.area/n:0;(L||ue>r[re[oe]])&&(ue=r[re[oe]]);for(var de=0,he=g.length;de<he;de++){var pe=g[de],_e={},$e=ue?pe.getLayout().area/ue:0,xe=_e[re[oe]]=mathMax$3(ue-2*$,0),Oe=r[ae[V]]+r[re[V]]-le,Ce=de===he-1||Oe<$e?Oe:$e,Ie=_e[re[V]]=mathMax$3(Ce-2*$,0);_e[ae[oe]]=r[ae[oe]]+mathMin$3($,xe/2),_e[ae[V]]=le+mathMin$3($,Ie/2),le+=Ce,pe.setLayout(_e,!0)}r[ae[oe]]+=ue,r[re[oe]]-=ue}function estimateRootSize(g,n,r,$,L){var V=(n||{}).node,oe=[$,L];if(!V||V===r)return oe;for(var ae,re=$*L,le=re*g.option.zoomToNodeRatio;ae=V.parentNode;){for(var ue=0,de=ae.children,he=0,pe=de.length;he<pe;he++)ue+=de[he].getValue();var _e=V.getValue();if(_e===0)return oe;le*=ue/_e;var $e=ae.getModel(),xe=$e.get(PATH_BORDER_WIDTH),Oe=Math.max(xe,getUpperLabelHeight($e));le+=4*xe*xe+(3*xe+Oe)*Math.pow(le,.5),le>MAX_SAFE_INTEGER&&(le=MAX_SAFE_INTEGER),V=ae}le<re&&(le=re);var Ce=Math.pow(le/re,.5);return[$*Ce,L*Ce]}function calculateRootPosition(g,n,r){if(n)return{x:n.x,y:n.y};var $={x:0,y:0};if(!r)return $;var L=r.node,V=L.getLayout();if(!V)return $;for(var oe=[V.width/2,V.height/2],ae=L;ae;){var re=ae.getLayout();oe[0]+=re.x,oe[1]+=re.y,ae=ae.parentNode}return{x:g.width/2-oe[0],y:g.height/2-oe[1]}}function prunning(g,n,r,$,L){var V=g.getLayout(),oe=r[L],ae=oe&&oe===g;if(!(oe&&!ae||L===r.length&&g!==$)){g.setLayout({isInView:!0,invisible:!ae&&!n.intersect(V),isAboveViewRoot:ae},!0);var re=new BoundingRect$1(n.x-V.x,n.y-V.y,n.width,n.height);each$b(g.viewChildren||[],function(le){prunning(le,re,r,$,L+1)})}}function getUpperLabelHeight(g){return g.get(PATH_UPPER_LABEL_SHOW)?g.get(PATH_UPPER_LABEL_HEIGHT):0}function install$H(g){g.registerSeriesModel(TreemapSeriesModel$1),g.registerChartView(TreemapView$1),g.registerVisual(treemapVisual),g.registerLayout(treemapLayout),installTreemapAction(g)}function categoryFilter(g){var n=g.findComponents({mainType:"legend"});!n||!n.length||g.eachSeriesByType("graph",function(r){var $=r.getCategoriesData(),L=r.getGraph(),V=L.data,oe=$.mapArray($.getName);V.filterSelf(function(ae){var re=V.getItemModel(ae),le=re.getShallow("category");if(le!=null){isNumber$1(le)&&(le=oe[le]);for(var ue=0;ue<n.length;ue++)if(!n[ue].isSelected(le))return!1}return!0})})}function categoryVisual(g){var n={};g.eachSeriesByType("graph",function(r){var $=r.getCategoriesData(),L=r.getData(),V={};$.each(function(oe){var ae=$.getName(oe);V["ec-"+ae]=oe;var re=$.getItemModel(oe),le=re.getModel("itemStyle").getItemStyle();le.fill||(le.fill=r.getColorFromPalette(ae,n)),$.setItemVisual(oe,"style",le);for(var ue=["symbol","symbolSize","symbolKeepAspect"],de=0;de<ue.length;de++){var he=re.getShallow(ue[de],!0);he!=null&&$.setItemVisual(oe,ue[de],he)}}),$.count()&&L.each(function(oe){var ae=L.getItemModel(oe),re=ae.getShallow("category");if(re!=null){isString$1(re)&&(re=V["ec-"+re]);var le=$.getItemVisual(re,"style"),ue=L.ensureUniqueItemVisual(oe,"style");extend$1(ue,le);for(var de=["symbol","symbolSize","symbolKeepAspect"],he=0;he<de.length;he++)L.setItemVisual(oe,de[he],$.getItemVisual(re,de[he]))}})})}function normalize$1(g){return g instanceof Array||(g=[g,g]),g}function graphEdgeVisual(g){g.eachSeriesByType("graph",function(n){var r=n.getGraph(),$=n.getEdgeData(),L=normalize$1(n.get("edgeSymbol")),V=normalize$1(n.get("edgeSymbolSize"));$.setVisual("fromSymbol",L&&L[0]),$.setVisual("toSymbol",L&&L[1]),$.setVisual("fromSymbolSize",V&&V[0]),$.setVisual("toSymbolSize",V&&V[1]),$.setVisual("style",n.getModel("lineStyle").getLineStyle()),$.each(function(oe){var ae=$.getItemModel(oe),re=r.getEdgeByIndex(oe),le=normalize$1(ae.getShallow("symbol",!0)),ue=normalize$1(ae.getShallow("symbolSize",!0)),de=ae.getModel("lineStyle").getLineStyle(),he=$.ensureUniqueItemVisual(oe,"style");switch(extend$1(he,de),he.stroke){case"source":{var pe=re.node1.getVisual("style");he.stroke=pe&&pe.fill;break}case"target":{var pe=re.node2.getVisual("style");he.stroke=pe&&pe.fill;break}}le[0]&&re.setVisual("fromSymbol",le[0]),le[1]&&re.setVisual("toSymbol",le[1]),ue[0]&&re.setVisual("fromSymbolSize",ue[0]),ue[1]&&re.setVisual("toSymbolSize",ue[1])})})}var KEY_DELIMITER="-->",getAutoCurvenessParams=function(g){return g.get("autoCurveness")||null},createCurveness=function(g,n){var r=getAutoCurvenessParams(g),$=20,L=[];if(isNumber$1(r))$=r;else if(isArray$2(r)){g.__curvenessList=r;return}n>$&&($=n);var V=$%2?$+2:$+3;L=[];for(var oe=0;oe<V;oe++)L.push((oe%2?oe+1:oe)/10*(oe%2?-1:1));g.__curvenessList=L},getKeyOfEdges=function(g,n,r){var $=[g.id,g.dataIndex].join("."),L=[n.id,n.dataIndex].join(".");return[r.uid,$,L].join(KEY_DELIMITER)},getOppositeKey=function(g){var n=g.split(KEY_DELIMITER);return[n[0],n[2],n[1]].join(KEY_DELIMITER)},getEdgeFromMap=function(g,n){var r=getKeyOfEdges(g.node1,g.node2,n);return n.__edgeMap[r]},getTotalLengthBetweenNodes=function(g,n){var r=getEdgeMapLengthWithKey(getKeyOfEdges(g.node1,g.node2,n),n),$=getEdgeMapLengthWithKey(getKeyOfEdges(g.node2,g.node1,n),n);return r+$},getEdgeMapLengthWithKey=function(g,n){var r=n.__edgeMap;return r[g]?r[g].length:0};function initCurvenessList(g){!getAutoCurvenessParams(g)||(g.__curvenessList=[],g.__edgeMap={},createCurveness(g))}function createEdgeMapForCurveness(g,n,r,$){if(getAutoCurvenessParams(r)){var L=getKeyOfEdges(g,n,r),V=r.__edgeMap,oe=V[getOppositeKey(L)];V[L]&&!oe?V[L].isForward=!0:oe&&V[L]&&(oe.isForward=!0,V[L].isForward=!1),V[L]=V[L]||[],V[L].push($)}}function getCurvenessForEdge(g,n,r,$){var L=getAutoCurvenessParams(n),V=isArray$2(L);if(!L)return null;var oe=getEdgeFromMap(g,n);if(!oe)return null;for(var ae=-1,re=0;re<oe.length;re++)if(oe[re]===r){ae=re;break}var le=getTotalLengthBetweenNodes(g,n);createCurveness(n,le),g.lineStyle=g.lineStyle||{};var ue=getKeyOfEdges(g.node1,g.node2,n),de=n.__curvenessList,he=V||le%2?0:1;if(oe.isForward)return de[he+ae];var pe=getOppositeKey(ue),_e=getEdgeMapLengthWithKey(pe,n),$e=de[ae+_e+he];return $?V?L&&L[0]===0?(_e+he)%2?$e:-$e:((_e%2?0:1)+he)%2?$e:-$e:(_e+he)%2?$e:-$e:de[ae+_e+he]}function simpleLayout(g){var n=g.coordinateSystem;if(!(n&&n.type!=="view")){var r=g.getGraph();r.eachNode(function($){var L=$.getModel();$.setLayout([+L.get("x"),+L.get("y")])}),simpleLayoutEdge(r,g)}}function simpleLayoutEdge(g,n){g.eachEdge(function(r,$){var L=retrieve3(r.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(r,n,$,!0),0),V=clone$3(r.node1.getLayout()),oe=clone$3(r.node2.getLayout()),ae=[V,oe];+L&&ae.push([(V[0]+oe[0])/2-(V[1]-oe[1])*L,(V[1]+oe[1])/2-(oe[0]-V[0])*L]),r.setLayout(ae)})}function graphSimpleLayout(g,n){g.eachSeriesByType("graph",function(r){var $=r.get("layout"),L=r.coordinateSystem;if(L&&L.type!=="view"){var V=r.getData(),oe=[];each$f(L.dimensions,function(he){oe=oe.concat(V.mapDimensionsAll(he))});for(var ae=0;ae<V.count();ae++){for(var re=[],le=!1,ue=0;ue<oe.length;ue++){var de=V.get(oe[ue],ae);isNaN(de)||(le=!0),re.push(de)}le?V.setItemLayout(ae,L.dataToPoint(re)):V.setItemLayout(ae,[NaN,NaN])}simpleLayoutEdge(V.graph,r)}else(!$||$==="none")&&simpleLayout(r)})}function getNodeGlobalScale(g){var n=g.coordinateSystem;if(n.type!=="view")return 1;var r=g.option.nodeScaleRatio,$=n.scaleX,L=n.getZoom(),V=(L-1)*r+1;return V/$}function getSymbolSize(g){var n=g.getVisual("symbolSize");return n instanceof Array&&(n=(n[0]+n[1])/2),+n}var PI$2=Math.PI,_symbolRadiansHalf=[];function circularLayout(g,n,r,$){var L=g.coordinateSystem;if(!(L&&L.type!=="view")){var V=L.getBoundingRect(),oe=g.getData(),ae=oe.graph,re=V.width/2+V.x,le=V.height/2+V.y,ue=Math.min(V.width,V.height)/2,de=oe.count();if(oe.setLayout({cx:re,cy:le}),!!de){if(r){var he=L.pointToData($),pe=he[0],_e=he[1],$e=[pe-re,_e-le];normalize$3($e,$e),scale$2($e,$e,ue),r.setLayout([re+$e[0],le+$e[1]],!0);var xe=g.get(["circular","rotateLabel"]);rotateNodeLabel(r,xe,re,le)}_layoutNodesBasedOn[n](g,ae,oe,ue,re,le,de),ae.eachEdge(function(Oe,Ce){var Ie=retrieve3(Oe.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge(Oe,g,Ce),0),Ne=clone$3(Oe.node1.getLayout()),ze=clone$3(Oe.node2.getLayout()),Fe,Ue=(Ne[0]+ze[0])/2,At=(Ne[1]+ze[1])/2;+Ie&&(Ie*=3,Fe=[re*Ie+Ue*(1-Ie),le*Ie+At*(1-Ie)]),Oe.setLayout([Ne,ze,Fe])})}}}var _layoutNodesBasedOn={value:function(g,n,r,$,L,V,oe){var ae=0,re=r.getSum("value"),le=Math.PI*2/(re||oe);n.eachNode(function(ue){var de=ue.getValue("value"),he=le*(re?de:1)/2;ae+=he,ue.setLayout([$*Math.cos(ae)+L,$*Math.sin(ae)+V]),ae+=he})},symbolSize:function(g,n,r,$,L,V,oe){var ae=0;_symbolRadiansHalf.length=oe;var re=getNodeGlobalScale(g);n.eachNode(function(de){var he=getSymbolSize(de);isNaN(he)&&(he=2),he<0&&(he=0),he*=re;var pe=Math.asin(he/2/$);isNaN(pe)&&(pe=PI$2/2),_symbolRadiansHalf[de.dataIndex]=pe,ae+=pe*2});var le=(2*PI$2-ae)/oe/2,ue=0;n.eachNode(function(de){var he=le+_symbolRadiansHalf[de.dataIndex];ue+=he,(!de.getLayout()||!de.getLayout().fixed)&&de.setLayout([$*Math.cos(ue)+L,$*Math.sin(ue)+V]),ue+=he})}};function rotateNodeLabel(g,n,r,$){var L=g.getGraphicEl();if(L){var V=g.getModel(),oe=V.get(["label","rotate"])||0,ae=L.getSymbolPath();if(n){var re=g.getLayout(),le=Math.atan2(re[1]-$,re[0]-r);le<0&&(le=Math.PI*2+le);var ue=re[0]<r;ue&&(le=le-Math.PI);var de=ue?"left":"right";ae.setTextConfig({rotation:-le,position:de,origin:"center"});var he=ae.ensureState("emphasis");extend$1(he.textConfig||(he.textConfig={}),{position:de})}else ae.setTextConfig({rotation:oe*=Math.PI/180})}}function graphCircularLayout(g){g.eachSeriesByType("graph",function(n){n.get("layout")==="circular"&&circularLayout(n,"symbolSize")})}var scaleAndAdd=scaleAndAdd$1;function forceLayout(g,n,r){for(var $=g,L=n,V=r.rect,oe=V.width,ae=V.height,re=[V.x+oe/2,V.y+ae/2],le=r.gravity==null?.1:r.gravity,ue=0;ue<$.length;ue++){var de=$[ue];de.p||(de.p=create$2(oe*(Math.random()-.5)+re[0],ae*(Math.random()-.5)+re[1])),de.pp=clone$3(de.p),de.edges=null}var he=r.friction==null?.6:r.friction,pe=he,_e,$e;return{warmUp:function(){pe=he*.8},setFixed:function(xe){$[xe].fixed=!0},setUnfixed:function(xe){$[xe].fixed=!1},beforeStep:function(xe){_e=xe},afterStep:function(xe){$e=xe},step:function(xe){_e&&_e($,L);for(var Oe=[],Ce=$.length,Ie=0;Ie<L.length;Ie++){var Ne=L[Ie];if(!Ne.ignoreForceLayout){var ze=Ne.n1,Fe=Ne.n2;sub(Oe,Fe.p,ze.p);var Ue=len(Oe)-Ne.d,At=Fe.w/(ze.w+Fe.w);isNaN(At)&&(At=0),normalize$3(Oe,Oe),!ze.fixed&&scaleAndAdd(ze.p,ze.p,Oe,At*Ue*pe),!Fe.fixed&&scaleAndAdd(Fe.p,Fe.p,Oe,-(1-At)*Ue*pe)}}for(var Ie=0;Ie<Ce;Ie++){var Et=$[Ie];Et.fixed||(sub(Oe,re,Et.p),scaleAndAdd(Et.p,Et.p,Oe,le*pe))}for(var Ie=0;Ie<Ce;Ie++)for(var ze=$[Ie],Pt=Ie+1;Pt<Ce;Pt++){var Fe=$[Pt];sub(Oe,Fe.p,ze.p);var Ue=len(Oe);Ue===0&&(set$1(Oe,Math.random()-.5,Math.random()-.5),Ue=1);var kt=(ze.rep+Fe.rep)/Ue/Ue;!ze.fixed&&scaleAndAdd(ze.pp,ze.pp,Oe,kt),!Fe.fixed&&scaleAndAdd(Fe.pp,Fe.pp,Oe,-kt)}for(var Dt=[],Ie=0;Ie<Ce;Ie++){var Et=$[Ie];Et.fixed||(sub(Dt,Et.p,Et.pp),scaleAndAdd(Et.p,Et.p,Dt,pe),copy$1(Et.pp,Et.p))}pe=pe*.992;var Lt=pe<.01;$e&&$e($,L,Lt),xe&&xe(Lt)}}}function graphForceLayout(g){g.eachSeriesByType("graph",function(n){var r=n.coordinateSystem;if(!(r&&r.type!=="view"))if(n.get("layout")==="force"){var $=n.preservedPoints||{},L=n.getGraph(),V=L.data,oe=L.edgeData,ae=n.getModel("force"),re=ae.get("initLayout");n.preservedPoints?V.each(function(Ie){var Ne=V.getId(Ie);V.setItemLayout(Ie,$[Ne]||[NaN,NaN])}):!re||re==="none"?simpleLayout(n):re==="circular"&&circularLayout(n,"value");var le=V.getDataExtent("value"),ue=oe.getDataExtent("value"),de=ae.get("repulsion"),he=ae.get("edgeLength"),pe=isArray$2(de)?de:[de,de],_e=isArray$2(he)?he:[he,he];_e=[_e[1],_e[0]];var $e=V.mapArray("value",function(Ie,Ne){var ze=V.getItemLayout(Ne),Fe=linearMap$2(Ie,le,pe);return isNaN(Fe)&&(Fe=(pe[0]+pe[1])/2),{w:Fe,rep:Fe,fixed:V.getItemModel(Ne).get("fixed"),p:!ze||isNaN(ze[0])||isNaN(ze[1])?null:ze}}),xe=oe.mapArray("value",function(Ie,Ne){var ze=L.getEdgeByIndex(Ne),Fe=linearMap$2(Ie,ue,_e);isNaN(Fe)&&(Fe=(_e[0]+_e[1])/2);var Ue=ze.getModel(),At=retrieve3(ze.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(ze,n,Ne,!0),0);return{n1:$e[ze.node1.dataIndex],n2:$e[ze.node2.dataIndex],d:Fe,curveness:At,ignoreForceLayout:Ue.get("ignoreForceLayout")}}),Oe=r.getBoundingRect(),Ce=forceLayout($e,xe,{rect:Oe,gravity:ae.get("gravity"),friction:ae.get("friction")});Ce.beforeStep(function(Ie,Ne){for(var ze=0,Fe=Ie.length;ze<Fe;ze++)Ie[ze].fixed&&copy$1(Ie[ze].p,L.getNodeByIndex(ze).getLayout())}),Ce.afterStep(function(Ie,Ne,ze){for(var Fe=0,Ue=Ie.length;Fe<Ue;Fe++)Ie[Fe].fixed||L.getNodeByIndex(Fe).setLayout(Ie[Fe].p),$[V.getId(Fe)]=Ie[Fe].p;for(var Fe=0,Ue=Ne.length;Fe<Ue;Fe++){var At=Ne[Fe],Et=L.getEdgeByIndex(Fe),Pt=At.n1.p,kt=At.n2.p,Dt=Et.getLayout();Dt=Dt?Dt.slice():[],Dt[0]=Dt[0]||[],Dt[1]=Dt[1]||[],copy$1(Dt[0],Pt),copy$1(Dt[1],kt),+At.curveness&&(Dt[2]=[(Pt[0]+kt[0])/2-(Pt[1]-kt[1])*At.curveness,(Pt[1]+kt[1])/2-(kt[0]-Pt[0])*At.curveness]),Et.setLayout(Dt)}}),n.forceLayout=Ce,n.preservedPoints=$,Ce.step()}else n.forceLayout=null})}function getViewRect$3(g,n,r){var $=extend$1(g.getBoxLayoutParams(),{aspect:r});return getLayoutRect($,{width:n.getWidth(),height:n.getHeight()})}function createViewCoordSys(g,n){var r=[];return g.eachSeriesByType("graph",function($){var L=$.get("coordinateSystem");if(!L||L==="view"){var V=$.getData(),oe=V.mapArray(function(xe){var Oe=V.getItemModel(xe);return[+Oe.get("x"),+Oe.get("y")]}),ae=[],re=[];fromPoints(oe,ae,re),re[0]-ae[0]===0&&(re[0]+=1,ae[0]-=1),re[1]-ae[1]===0&&(re[1]+=1,ae[1]-=1);var le=(re[0]-ae[0])/(re[1]-ae[1]),ue=getViewRect$3($,n,le);isNaN(le)&&(ae=[ue.x,ue.y],re=[ue.x+ue.width,ue.y+ue.height]);var de=re[0]-ae[0],he=re[1]-ae[1],pe=ue.width,_e=ue.height,$e=$.coordinateSystem=new View$1;$e.zoomLimit=$.get("scaleLimit"),$e.setBoundingRect(ae[0],ae[1],de,he),$e.setViewRect(ue.x,ue.y,pe,_e),$e.setCenter($.get("center"),n),$e.setZoom($.get("zoom")),r.push($e)}}),r}var straightLineProto=Line$3.prototype,bezierCurveProto=BezierCurve$1.prototype,StraightLineShape=function(){function g(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return g}();(function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n})(StraightLineShape);function isStraightLine(g){return isNaN(+g.cpx1)||isNaN(+g.cpy1)}var ECLinePath=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="ec-line",$}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new StraightLineShape},n.prototype.buildPath=function(r,$){isStraightLine($)?straightLineProto.buildPath.call(this,r,$):bezierCurveProto.buildPath.call(this,r,$)},n.prototype.pointAt=function(r){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,r):bezierCurveProto.pointAt.call(this,r)},n.prototype.tangentAt=function(r){var $=this.shape,L=isStraightLine($)?[$.x2-$.x1,$.y2-$.y1]:bezierCurveProto.tangentAt.call(this,r);return normalize$3(L,L)},n}(Path$1);const ECLinePath$1=ECLinePath;var SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey(g){return"_"+g+"Type"}function createSymbol(g,n,r){var $=n.getItemVisual(r,g);if(!(!$||$==="none")){var L=n.getItemVisual(r,g+"Size"),V=n.getItemVisual(r,g+"Rotate"),oe=n.getItemVisual(r,g+"Offset"),ae=n.getItemVisual(r,g+"KeepAspect"),re=normalizeSymbolSize(L),le=normalizeSymbolOffset(oe||0,re),ue=createSymbol$1($,-re[0]/2+le[0],-re[1]/2+le[1],re[0],re[1],null,ae);return ue.__specifiedRotation=V==null||isNaN(V)?void 0:+V*Math.PI/180||0,ue.name=g,ue}}function createLine(g){var n=new ECLinePath$1({name:"line",subPixelOptimize:!0});return setLinePoints(n.shape,g),n}function setLinePoints(g,n){g.x1=n[0][0],g.y1=n[0][1],g.x2=n[1][0],g.y2=n[1][1],g.percent=1;var r=n[2];r?(g.cpx1=r[0],g.cpy1=r[1]):(g.cpx1=NaN,g.cpy1=NaN)}var Line=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this)||this;return V._createLine(r,$,L),V}return n.prototype._createLine=function(r,$,L){var V=r.hostModel,oe=r.getItemLayout($),ae=createLine(oe);ae.shape.percent=0,initProps(ae,{shape:{percent:1}},V,$),this.add(ae),each$f(SYMBOL_CATEGORIES,function(re){var le=createSymbol(re,r,$);this.add(le),this[makeSymbolTypeKey(re)]=r.getItemVisual($,re)},this),this._updateCommonStl(r,$,L)},n.prototype.updateData=function(r,$,L){var V=r.hostModel,oe=this.childOfName("line"),ae=r.getItemLayout($),re={shape:{}};setLinePoints(re.shape,ae),updateProps$1(oe,re,V,$),each$f(SYMBOL_CATEGORIES,function(le){var ue=r.getItemVisual($,le),de=makeSymbolTypeKey(le);if(this[de]!==ue){this.remove(this.childOfName(le));var he=createSymbol(le,r,$);this.add(he)}this[de]=ue},this),this._updateCommonStl(r,$,L)},n.prototype.getLinePath=function(){return this.childAt(0)},n.prototype._updateCommonStl=function(r,$,L){var V=r.hostModel,oe=this.childOfName("line"),ae=L&&L.emphasisLineStyle,re=L&&L.blurLineStyle,le=L&&L.selectLineStyle,ue=L&&L.labelStatesModels,de=L&&L.emphasisDisabled,he=L&&L.focus,pe=L&&L.blurScope;if(!L||r.hasItemOption){var _e=r.getItemModel($),$e=_e.getModel("emphasis");ae=$e.getModel("lineStyle").getLineStyle(),re=_e.getModel(["blur","lineStyle"]).getLineStyle(),le=_e.getModel(["select","lineStyle"]).getLineStyle(),de=$e.get("disabled"),he=$e.get("focus"),pe=$e.get("blurScope"),ue=getLabelStatesModels(_e)}var xe=r.getItemVisual($,"style"),Oe=xe.stroke;oe.useStyle(xe),oe.style.fill=null,oe.style.strokeNoScale=!0,oe.ensureState("emphasis").style=ae,oe.ensureState("blur").style=re,oe.ensureState("select").style=le,each$f(SYMBOL_CATEGORIES,function(Fe){var Ue=this.childOfName(Fe);if(Ue){Ue.setColor(Oe),Ue.style.opacity=xe.opacity;for(var At=0;At<SPECIAL_STATES.length;At++){var Et=SPECIAL_STATES[At],Pt=oe.getState(Et);if(Pt){var kt=Pt.style||{},Dt=Ue.ensureState(Et),Lt=Dt.style||(Dt.style={});kt.stroke!=null&&(Lt[Ue.__isEmptyBrush?"stroke":"fill"]=kt.stroke),kt.opacity!=null&&(Lt.opacity=kt.opacity)}}Ue.markRedraw()}},this);var Ce=V.getRawValue($);setLabelStyle(this,ue,{labelDataIndex:$,labelFetcher:{getFormattedLabel:function(Fe,Ue){return V.getFormattedLabel(Fe,Ue,r.dataType)}},inheritColor:Oe||"#000",defaultOpacity:xe.opacity,defaultText:(Ce==null?r.getName($):isFinite(Ce)?round$3(Ce):Ce)+""});var Ie=this.getTextContent();if(Ie){var Ne=ue.normal;Ie.__align=Ie.style.align,Ie.__verticalAlign=Ie.style.verticalAlign,Ie.__position=Ne.get("position")||"middle";var ze=Ne.get("distance");isArray$2(ze)||(ze=[ze,ze]),Ie.__labelDistance=ze}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,he,pe,de)},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n.prototype.updateLayout=function(r,$){this.setLinePoints(r.getItemLayout($))},n.prototype.setLinePoints=function(r){var $=this.childOfName("line");setLinePoints($.shape,r),$.dirty()},n.prototype.beforeUpdate=function(){var r=this,$=r.childOfName("fromSymbol"),L=r.childOfName("toSymbol"),V=r.getTextContent();if(!$&&!L&&(!V||V.ignore))return;for(var oe=1,ae=this.parent;ae;)ae.scaleX&&(oe/=ae.scaleX),ae=ae.parent;var re=r.childOfName("line");if(!this.__dirty&&!re.__dirty)return;var le=re.shape.percent,ue=re.pointAt(0),de=re.pointAt(le),he=sub([],de,ue);normalize$3(he,he);function pe(Pt,kt){var Dt=Pt.__specifiedRotation;if(Dt==null){var Lt=re.tangentAt(kt);Pt.attr("rotation",(kt===1?-1:1)*Math.PI/2-Math.atan2(Lt[1],Lt[0]))}else Pt.attr("rotation",Dt)}if($&&($.setPosition(ue),pe($,0),$.scaleX=$.scaleY=oe*le,$.markRedraw()),L&&(L.setPosition(de),pe(L,1),L.scaleX=L.scaleY=oe*le,L.markRedraw()),V&&!V.ignore){V.x=V.y=0,V.originX=V.originY=0;var _e=void 0,$e=void 0,xe=V.__labelDistance,Oe=xe[0]*oe,Ce=xe[1]*oe,Ie=le/2,Ne=re.tangentAt(Ie),ze=[Ne[1],-Ne[0]],Fe=re.pointAt(Ie);ze[1]>0&&(ze[0]=-ze[0],ze[1]=-ze[1]);var Ue=Ne[0]<0?-1:1;if(V.__position!=="start"&&V.__position!=="end"){var At=-Math.atan2(Ne[1],Ne[0]);de[0]<ue[0]&&(At=Math.PI+At),V.rotation=At}var Et=void 0;switch(V.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":Et=-Ce,$e="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":Et=Ce,$e="top";break;default:Et=0,$e="middle"}switch(V.__position){case"end":V.x=he[0]*Oe+de[0],V.y=he[1]*Ce+de[1],_e=he[0]>.8?"left":he[0]<-.8?"right":"center",$e=he[1]>.8?"top":he[1]<-.8?"bottom":"middle";break;case"start":V.x=-he[0]*Oe+ue[0],V.y=-he[1]*Ce+ue[1],_e=he[0]>.8?"right":he[0]<-.8?"left":"center",$e=he[1]>.8?"bottom":he[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":V.x=Oe*Ue+ue[0],V.y=ue[1]+Et,_e=Ne[0]<0?"right":"left",V.originX=-Oe*Ue,V.originY=-Et;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":V.x=Fe[0],V.y=Fe[1]+Et,_e="center",V.originY=-Et;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":V.x=-Oe*Ue+de[0],V.y=de[1]+Et,_e=Ne[0]>=0?"right":"left",V.originX=Oe*Ue,V.originY=-Et;break}V.scaleX=V.scaleY=oe,V.setStyle({verticalAlign:V.__verticalAlign||$e,align:V.__align||_e})}},n}(Group$4);const Line$1=Line;var LineDraw=function(){function g(n){this.group=new Group$4,this._LineCtor=n||Line$1}return g.prototype.updateData=function(n){var r=this;this._progressiveEls=null;var $=this,L=$.group,V=$._lineData;$._lineData=n,V||L.removeAll();var oe=makeSeriesScope$1(n);n.diff(V).add(function(ae){r._doAdd(n,ae,oe)}).update(function(ae,re){r._doUpdate(V,n,re,ae,oe)}).remove(function(ae){L.remove(V.getItemGraphicEl(ae))}).execute()},g.prototype.updateLayout=function(){var n=this._lineData;!n||n.eachItemGraphicEl(function(r,$){r.updateLayout(n,$)},this)},g.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=makeSeriesScope$1(n),this._lineData=null,this.group.removeAll()},g.prototype.incrementalUpdate=function(n,r){this._progressiveEls=[];function $(ae){!ae.isGroup&&!isEffectObject(ae)&&(ae.incremental=!0,ae.ensureState("emphasis").hoverLayer=!0)}for(var L=n.start;L<n.end;L++){var V=r.getItemLayout(L);if(lineNeedsDraw(V)){var oe=new this._LineCtor(r,L,this._seriesScope);oe.traverse($),this.group.add(oe),r.setItemGraphicEl(L,oe),this._progressiveEls.push(oe)}}},g.prototype.remove=function(){this.group.removeAll()},g.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},g.prototype._doAdd=function(n,r,$){var L=n.getItemLayout(r);if(lineNeedsDraw(L)){var V=new this._LineCtor(n,r,$);n.setItemGraphicEl(r,V),this.group.add(V)}},g.prototype._doUpdate=function(n,r,$,L,V){var oe=n.getItemGraphicEl($);if(!lineNeedsDraw(r.getItemLayout(L))){this.group.remove(oe);return}oe?oe.updateData(r,L,V):oe=new this._LineCtor(r,L,V),r.setItemGraphicEl(L,oe),this.group.add(oe)},g}();function isEffectObject(g){return g.animators&&g.animators.length>0}function makeSeriesScope$1(g){var n=g.hostModel,r=n.getModel("emphasis");return{lineStyle:n.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:n.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:n.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:getLabelStatesModels(n)}}function isPointNaN(g){return isNaN(g[0])||isNaN(g[1])}function lineNeedsDraw(g){return g&&!isPointNaN(g[0])&&!isPointNaN(g[1])}const LineDraw$1=LineDraw;var v1=[],v2=[],v3=[],quadraticAt=quadraticAt$1,v2DistSquare=distSquare,mathAbs=Math.abs;function intersectCurveCircle(g,n,r){for(var $=g[0],L=g[1],V=g[2],oe=1/0,ae,re=r*r,le=.1,ue=.1;ue<=.9;ue+=.1){v1[0]=quadraticAt($[0],L[0],V[0],ue),v1[1]=quadraticAt($[1],L[1],V[1],ue);var de=mathAbs(v2DistSquare(v1,n)-re);de<oe&&(oe=de,ae=ue)}for(var he=0;he<32;he++){var pe=ae+le;v2[0]=quadraticAt($[0],L[0],V[0],ae),v2[1]=quadraticAt($[1],L[1],V[1],ae),v3[0]=quadraticAt($[0],L[0],V[0],pe),v3[1]=quadraticAt($[1],L[1],V[1],pe);var de=v2DistSquare(v2,n)-re;if(mathAbs(de)<.01)break;var _e=v2DistSquare(v3,n)-re;le/=2,de<0?_e>=0?ae=ae+le:ae=ae-le:_e>=0?ae=ae-le:ae=ae+le}return ae}function adjustEdge(g,n){var r=[],$=quadraticSubdivide,L=[[],[],[]],V=[[],[]],oe=[];n/=2,g.eachEdge(function(ae,re){var le=ae.getLayout(),ue=ae.getVisual("fromSymbol"),de=ae.getVisual("toSymbol");le.__original||(le.__original=[clone$3(le[0]),clone$3(le[1])],le[2]&&le.__original.push(clone$3(le[2])));var he=le.__original;if(le[2]!=null){if(copy$1(L[0],he[0]),copy$1(L[1],he[2]),copy$1(L[2],he[1]),ue&&ue!=="none"){var pe=getSymbolSize(ae.node1),_e=intersectCurveCircle(L,he[0],pe*n);$(L[0][0],L[1][0],L[2][0],_e,r),L[0][0]=r[3],L[1][0]=r[4],$(L[0][1],L[1][1],L[2][1],_e,r),L[0][1]=r[3],L[1][1]=r[4]}if(de&&de!=="none"){var pe=getSymbolSize(ae.node2),_e=intersectCurveCircle(L,he[1],pe*n);$(L[0][0],L[1][0],L[2][0],_e,r),L[1][0]=r[1],L[2][0]=r[2],$(L[0][1],L[1][1],L[2][1],_e,r),L[1][1]=r[1],L[2][1]=r[2]}copy$1(le[0],L[0]),copy$1(le[1],L[2]),copy$1(le[2],L[1])}else{if(copy$1(V[0],he[0]),copy$1(V[1],he[1]),sub(oe,V[1],V[0]),normalize$3(oe,oe),ue&&ue!=="none"){var pe=getSymbolSize(ae.node1);scaleAndAdd$1(V[0],V[0],oe,pe*n)}if(de&&de!=="none"){var pe=getSymbolSize(ae.node2);scaleAndAdd$1(V[1],V[1],oe,-pe*n)}copy$1(le[0],V[0]),copy$1(le[1],V[1])}})}function isViewCoordSys(g){return g.type==="view"}var GraphView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$){var L=new SymbolDraw$1,V=new LineDraw$1,oe=this.group;this._controller=new RoamController$1($.getZr()),this._controllerHost={target:oe},oe.add(L.group),oe.add(V.group),this._symbolDraw=L,this._lineDraw=V,this._firstRender=!0},n.prototype.render=function(r,$,L){var V=this,oe=r.coordinateSystem;this._model=r;var ae=this._symbolDraw,re=this._lineDraw,le=this.group;if(isViewCoordSys(oe)){var ue={x:oe.x,y:oe.y,scaleX:oe.scaleX,scaleY:oe.scaleY};this._firstRender?le.attr(ue):updateProps$1(le,ue,r)}adjustEdge(r.getGraph(),getNodeGlobalScale(r));var de=r.getData();ae.updateData(de);var he=r.getEdgeData();re.updateData(he),this._updateNodeAndLinkScale(),this._updateController(r,$,L),clearTimeout(this._layoutTimeout);var pe=r.forceLayout,_e=r.get(["force","layoutAnimation"]);pe&&this._startForceLayoutIteration(pe,_e);var $e=r.get("layout");de.graph.eachNode(function(Ie){var Ne=Ie.dataIndex,ze=Ie.getGraphicEl(),Fe=Ie.getModel();if(ze){ze.off("drag").off("dragend");var Ue=Fe.get("draggable");Ue&&ze.on("drag",function(Et){switch($e){case"force":pe.warmUp(),!V._layouting&&V._startForceLayoutIteration(pe,_e),pe.setFixed(Ne),de.setItemLayout(Ne,[ze.x,ze.y]);break;case"circular":de.setItemLayout(Ne,[ze.x,ze.y]),Ie.setLayout({fixed:!0},!0),circularLayout(r,"symbolSize",Ie,[Et.offsetX,Et.offsetY]),V.updateLayout(r);break;case"none":default:de.setItemLayout(Ne,[ze.x,ze.y]),simpleLayoutEdge(r.getGraph(),r),V.updateLayout(r);break}}).on("dragend",function(){pe&&pe.setUnfixed(Ne)}),ze.setDraggable(Ue,!!Fe.get("cursor"));var At=Fe.get(["emphasis","focus"]);At==="adjacency"&&(getECData(ze).focus=Ie.getAdjacentDataIndices())}}),de.graph.eachEdge(function(Ie){var Ne=Ie.getGraphicEl(),ze=Ie.getModel().get(["emphasis","focus"]);!Ne||ze==="adjacency"&&(getECData(Ne).focus={edge:[Ie.dataIndex],node:[Ie.node1.dataIndex,Ie.node2.dataIndex]})});var xe=r.get("layout")==="circular"&&r.get(["circular","rotateLabel"]),Oe=de.getLayout("cx"),Ce=de.getLayout("cy");de.graph.eachNode(function(Ie){rotateNodeLabel(Ie,xe,Oe,Ce)}),this._firstRender=!1},n.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype._startForceLayoutIteration=function(r,$){var L=this;(function V(){r.step(function(oe){L.updateLayout(L._model),(L._layouting=!oe)&&($?L._layoutTimeout=setTimeout(V,16):V())})})()},n.prototype._updateController=function(r,$,L){var V=this,oe=this._controller,ae=this._controllerHost,re=this.group;if(oe.setPointerChecker(function(le,ue,de){var he=re.getBoundingRect();return he.applyTransform(re.transform),he.contain(ue,de)&&!onIrrelevantElement(le,L,r)}),!isViewCoordSys(r.coordinateSystem)){oe.disable();return}oe.enable(r.get("roam")),ae.zoomLimit=r.get("scaleLimit"),ae.zoom=r.coordinateSystem.getZoom(),oe.off("pan").off("zoom").on("pan",function(le){updateViewOnPan(ae,le.dx,le.dy),L.dispatchAction({seriesId:r.id,type:"graphRoam",dx:le.dx,dy:le.dy})}).on("zoom",function(le){updateViewOnZoom(ae,le.scale,le.originX,le.originY),L.dispatchAction({seriesId:r.id,type:"graphRoam",zoom:le.scale,originX:le.originX,originY:le.originY}),V._updateNodeAndLinkScale(),adjustEdge(r.getGraph(),getNodeGlobalScale(r)),V._lineDraw.updateLayout(),L.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(){var r=this._model,$=r.getData(),L=getNodeGlobalScale(r);$.eachItemGraphicEl(function(V,oe){V&&V.setSymbolScale(L)})},n.prototype.updateLayout=function(r){adjustEdge(r.getGraph(),getNodeGlobalScale(r)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},n.prototype.remove=function(r,$){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},n.type="graph",n}(ChartView$1);const GraphView$1=GraphView;function generateNodeKey(g){return"_EC_"+g}var Graph=function(){function g(n){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=n||!1}return g.prototype.isDirected=function(){return this._directed},g.prototype.addNode=function(n,r){n=n==null?""+r:""+n;var $=this._nodesMap;if(!$[generateNodeKey(n)]){var L=new GraphNode(n,r);return L.hostGraph=this,this.nodes.push(L),$[generateNodeKey(n)]=L,L}},g.prototype.getNodeByIndex=function(n){var r=this.data.getRawIndex(n);return this.nodes[r]},g.prototype.getNodeById=function(n){return this._nodesMap[generateNodeKey(n)]},g.prototype.addEdge=function(n,r,$){var L=this._nodesMap,V=this._edgesMap;if(isNumber$1(n)&&(n=this.nodes[n]),isNumber$1(r)&&(r=this.nodes[r]),n instanceof GraphNode||(n=L[generateNodeKey(n)]),r instanceof GraphNode||(r=L[generateNodeKey(r)]),!(!n||!r)){var oe=n.id+"-"+r.id,ae=new GraphEdge(n,r,$);return ae.hostGraph=this,this._directed&&(n.outEdges.push(ae),r.inEdges.push(ae)),n.edges.push(ae),n!==r&&r.edges.push(ae),this.edges.push(ae),V[oe]=ae,ae}},g.prototype.getEdgeByIndex=function(n){var r=this.edgeData.getRawIndex(n);return this.edges[r]},g.prototype.getEdge=function(n,r){n instanceof GraphNode&&(n=n.id),r instanceof GraphNode&&(r=r.id);var $=this._edgesMap;return this._directed?$[n+"-"+r]:$[n+"-"+r]||$[r+"-"+n]},g.prototype.eachNode=function(n,r){for(var $=this.nodes,L=$.length,V=0;V<L;V++)$[V].dataIndex>=0&&n.call(r,$[V],V)},g.prototype.eachEdge=function(n,r){for(var $=this.edges,L=$.length,V=0;V<L;V++)$[V].dataIndex>=0&&$[V].node1.dataIndex>=0&&$[V].node2.dataIndex>=0&&n.call(r,$[V],V)},g.prototype.breadthFirstTraverse=function(n,r,$,L){if(r instanceof GraphNode||(r=this._nodesMap[generateNodeKey(r)]),!!r){for(var V=$==="out"?"outEdges":$==="in"?"inEdges":"edges",oe=0;oe<this.nodes.length;oe++)this.nodes[oe].__visited=!1;if(!n.call(L,r,null))for(var ae=[r];ae.length;)for(var re=ae.shift(),le=re[V],oe=0;oe<le.length;oe++){var ue=le[oe],de=ue.node1===re?ue.node2:ue.node1;if(!de.__visited){if(n.call(L,de,re))return;ae.push(de),de.__visited=!0}}}},g.prototype.update=function(){for(var n=this.data,r=this.edgeData,$=this.nodes,L=this.edges,V=0,oe=$.length;V<oe;V++)$[V].dataIndex=-1;for(var V=0,oe=n.count();V<oe;V++)$[n.getRawIndex(V)].dataIndex=V;r.filterSelf(function(ae){var re=L[r.getRawIndex(ae)];return re.node1.dataIndex>=0&&re.node2.dataIndex>=0});for(var V=0,oe=L.length;V<oe;V++)L[V].dataIndex=-1;for(var V=0,oe=r.count();V<oe;V++)L[r.getRawIndex(V)].dataIndex=V},g.prototype.clone=function(){for(var n=new g(this._directed),r=this.nodes,$=this.edges,L=0;L<r.length;L++)n.addNode(r[L].id,r[L].dataIndex);for(var L=0;L<$.length;L++){var V=$[L];n.addEdge(V.node1.id,V.node2.id,V.dataIndex)}return n},g}(),GraphNode=function(){function g(n,r){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=n!=null?n:"",this.dataIndex=r!=null?r:-1}return g.prototype.degree=function(){return this.edges.length},g.prototype.inDegree=function(){return this.inEdges.length},g.prototype.outDegree=function(){return this.outEdges.length},g.prototype.getModel=function(n){if(!(this.dataIndex<0)){var r=this.hostGraph,$=r.data.getItemModel(this.dataIndex);return $.getModel(n)}},g.prototype.getAdjacentDataIndices=function(){for(var n={edge:[],node:[]},r=0;r<this.edges.length;r++){var $=this.edges[r];$.dataIndex<0||(n.edge.push($.dataIndex),n.node.push($.node1.dataIndex,$.node2.dataIndex))}return n},g}(),GraphEdge=function(){function g(n,r,$){this.dataIndex=-1,this.node1=n,this.node2=r,this.dataIndex=$!=null?$:-1}return g.prototype.getModel=function(n){if(!(this.dataIndex<0)){var r=this.hostGraph,$=r.edgeData.getItemModel(this.dataIndex);return $.getModel(n)}},g.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},g}();function createGraphDataProxyMixin(g,n){return{getValue:function(r){var $=this[g][n];return $.getStore().get($.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,$){this.dataIndex>=0&&this[g][n].setItemVisual(this.dataIndex,r,$)},getVisual:function(r){return this[g][n].getItemVisual(this.dataIndex,r)},setLayout:function(r,$){this.dataIndex>=0&&this[g][n].setItemLayout(this.dataIndex,r,$)},getLayout:function(){return this[g][n].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[g][n].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[g][n].getRawIndex(this.dataIndex)}}}mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data")),mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));const Graph$1=Graph;function createGraphFromNodeEdge(g,n,r,$,L){for(var V=new Graph$1($),oe=0;oe<g.length;oe++)V.addNode(retrieve(g[oe].id,g[oe].name,oe),oe);for(var ae=[],re=[],le=0,oe=0;oe<n.length;oe++){var ue=n[oe],de=ue.source,he=ue.target;V.addEdge(de,he,le)&&(re.push(ue),ae.push(retrieve(convertOptionIdName(ue.id,null),de+" > "+he)),le++)}var pe=r.get("coordinateSystem"),_e;if(pe==="cartesian2d"||pe==="polar")_e=createSeriesData(g,r);else{var $e=CoordinateSystem.get(pe),xe=$e?$e.dimensions||[]:[];indexOf(xe,"value")<0&&xe.concat(["value"]);var Oe=prepareSeriesDataSchema(g,{coordDimensions:xe,encodeDefine:r.getEncode()}).dimensions;_e=new SeriesData$1(Oe,r),_e.initData(g)}var Ce=new SeriesData$1(["value"],r);return Ce.initData(re,ae),L&&L(_e,Ce),linkSeriesData({mainData:_e,struct:V,structAttr:"graph",datas:{node:_e,edge:Ce},datasAttr:{node:"data",edge:"edgeData"}}),V.update(),V}var GraphSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.init=function(r){g.prototype.init.apply(this,arguments);var $=this;function L(){return $._categoriesData}this.legendVisualProvider=new LegendVisualProvider$1(L,L),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},n.prototype.mergeOption=function(r){g.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},n.prototype.mergeDefaultAndTheme=function(r){g.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(r,"edgeLabel",["show"])},n.prototype.getInitialData=function(r,$){var L=r.edges||r.links||[],V=r.data||r.nodes||[],oe=this;if(V&&L){initCurvenessList(this);var ae=createGraphFromNodeEdge(V,L,this,!0,re);return each$f(ae.edges,function(le){createEdgeMapForCurveness(le.node1,le.node2,this,le.dataIndex)},this),ae.data}function re(le,ue){le.wrapMethod("getItemModel",function(_e){var $e=oe._categoriesModels,xe=_e.getShallow("category"),Oe=$e[xe];return Oe&&(Oe.parentModel=_e.parentModel,_e.parentModel=Oe),_e});var de=Model$1.prototype.getModel;function he(_e,$e){var xe=de.call(this,_e,$e);return xe.resolveParentPath=pe,xe}ue.wrapMethod("getItemModel",function(_e){return _e.resolveParentPath=pe,_e.getModel=he,_e});function pe(_e){if(_e&&(_e[0]==="label"||_e[1]==="label")){var $e=_e.slice();return _e[0]==="label"?$e[0]="edgeLabel":_e[1]==="label"&&($e[1]="edgeLabel"),$e}return _e}}},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.getCategoriesData=function(){return this._categoriesData},n.prototype.formatTooltip=function(r,$,L){if(L==="edge"){var V=this.getData(),oe=this.getDataParams(r,L),ae=V.graph.getEdgeByIndex(r),re=V.getName(ae.node1.dataIndex),le=V.getName(ae.node2.dataIndex),ue=[];return re!=null&&ue.push(re),le!=null&&ue.push(le),createTooltipMarkup("nameValue",{name:ue.join(" > "),value:oe.value,noValue:oe.value==null})}var de=defaultSeriesFormatTooltip({series:this,dataIndex:r,multipleSeries:$});return de},n.prototype._updateCategoriesData=function(){var r=map$1(this.option.categories||[],function(L){return L.value!=null?L:extend$1({value:0},L)}),$=new SeriesData$1(["value"],this);$.initData(r),this._categoriesData=$,this._categoriesModels=$.mapArray(function(L){return $.getItemModel(L)})},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.isAnimationEnabled=function(){return g.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},n.type="series.graph",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel$1);const GraphSeriesModel$1=GraphSeriesModel;var actionInfo$1={type:"graphRoam",event:"graphRoam",update:"none"};function install$G(g){g.registerChartView(GraphView$1),g.registerSeriesModel(GraphSeriesModel$1),g.registerProcessor(categoryFilter),g.registerVisual(categoryVisual),g.registerVisual(graphEdgeVisual),g.registerLayout(graphSimpleLayout),g.registerLayout(g.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),g.registerLayout(graphForceLayout),g.registerCoordinateSystem("graphView",{dimensions:View$1.dimensions,create:createViewCoordSys}),g.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},noop$1),g.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},noop$1),g.registerAction(actionInfo$1,function(n,r,$){r.eachComponent({mainType:"series",query:n},function(L){var V=L.coordinateSystem,oe=updateCenterAndZoom(V,n,void 0,$);L.setCenter&&L.setCenter(oe.center),L.setZoom&&L.setZoom(oe.zoom)})})}var PointerShape=function(){function g(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return g}(),PointerPath=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="pointer",$}return n.prototype.getDefaultShape=function(){return new PointerShape},n.prototype.buildPath=function(r,$){var L=Math.cos,V=Math.sin,oe=$.r,ae=$.width,re=$.angle,le=$.x-L(re)*ae*(ae>=oe/3?1:2),ue=$.y-V(re)*ae*(ae>=oe/3?1:2);re=$.angle-Math.PI/2,r.moveTo(le,ue),r.lineTo($.x+L(re)*ae,$.y+V(re)*ae),r.lineTo($.x+L($.angle)*oe,$.y+V($.angle)*oe),r.lineTo($.x-L(re)*ae,$.y-V(re)*ae),r.lineTo(le,ue)},n}(Path$1);const PointerPath$1=PointerPath;function parsePosition(g,n){var r=g.get("center"),$=n.getWidth(),L=n.getHeight(),V=Math.min($,L),oe=parsePercent(r[0],n.getWidth()),ae=parsePercent(r[1],n.getHeight()),re=parsePercent(g.get("radius"),V/2);return{cx:oe,cy:ae,r:re}}function formatLabel(g,n){var r=g==null?"":g+"";return n&&(isString$1(n)?r=n.replace("{value}",r):isFunction$1(n)&&(r=n(g))),r}var GaugeView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){this.group.removeAll();var V=r.get(["axisLine","lineStyle","color"]),oe=parsePosition(r,L);this._renderMain(r,$,L,V,oe),this._data=r.getData()},n.prototype.dispose=function(){},n.prototype._renderMain=function(r,$,L,V,oe){var ae=this.group,re=r.get("clockwise"),le=-r.get("startAngle")/180*Math.PI,ue=-r.get("endAngle")/180*Math.PI,de=r.getModel("axisLine"),he=de.get("roundCap"),pe=he?Sausage:Sector$1,_e=de.get("show"),$e=de.getModel("lineStyle"),xe=$e.get("width"),Oe=[le,ue];normalizeArcAngles(Oe,!re),le=Oe[0],ue=Oe[1];for(var Ce=ue-le,Ie=le,Ne=[],ze=0;_e&&ze<V.length;ze++){var Fe=Math.min(Math.max(V[ze][0],0),1);ue=le+Ce*Fe;var Ue=new pe({shape:{startAngle:Ie,endAngle:ue,cx:oe.cx,cy:oe.cy,clockwise:re,r0:oe.r-xe,r:oe.r},silent:!0});Ue.setStyle({fill:V[ze][1]}),Ue.setStyle($e.getLineStyle(["color","width"])),Ne.push(Ue),Ie=ue}Ne.reverse(),each$f(Ne,function(Et){return ae.add(Et)});var At=function(Et){if(Et<=0)return V[0][1];var Pt;for(Pt=0;Pt<V.length;Pt++)if(V[Pt][0]>=Et&&(Pt===0?0:V[Pt-1][0])<Et)return V[Pt][1];return V[Pt-1][1]};this._renderTicks(r,$,L,At,oe,le,ue,re,xe),this._renderTitleAndDetail(r,$,L,At,oe),this._renderAnchor(r,oe),this._renderPointer(r,$,L,At,oe,le,ue,re,xe)},n.prototype._renderTicks=function(r,$,L,V,oe,ae,re,le,ue){for(var de=this.group,he=oe.cx,pe=oe.cy,_e=oe.r,$e=+r.get("min"),xe=+r.get("max"),Oe=r.getModel("splitLine"),Ce=r.getModel("axisTick"),Ie=r.getModel("axisLabel"),Ne=r.get("splitNumber"),ze=Ce.get("splitNumber"),Fe=parsePercent(Oe.get("length"),_e),Ue=parsePercent(Ce.get("length"),_e),At=ae,Et=(re-ae)/Ne,Pt=Et/ze,kt=Oe.getModel("lineStyle").getLineStyle(),Dt=Ce.getModel("lineStyle").getLineStyle(),Lt=Oe.get("distance"),hn,vn,_n=0;_n<=Ne;_n++){if(hn=Math.cos(At),vn=Math.sin(At),Oe.get("show")){var $n=Lt?Lt+ue:ue,Sn=new Line$3({shape:{x1:hn*(_e-$n)+he,y1:vn*(_e-$n)+pe,x2:hn*(_e-Fe-$n)+he,y2:vn*(_e-Fe-$n)+pe},style:kt,silent:!0});kt.stroke==="auto"&&Sn.setStyle({stroke:V(_n/Ne)}),de.add(Sn)}if(Ie.get("show")){var $n=Ie.get("distance")+Lt,xn=formatLabel(round$3(_n/Ne*(xe-$e)+$e),Ie.get("formatter")),On=V(_n/Ne),Cn=hn*(_e-Fe-$n)+he,An=vn*(_e-Fe-$n)+pe,Rn=Ie.get("rotate"),Fn=0;Rn==="radial"?(Fn=-At+2*Math.PI,Fn>Math.PI/2&&(Fn+=Math.PI)):Rn==="tangential"?Fn=-At-Math.PI/2:isNumber$1(Rn)&&(Fn=Rn*Math.PI/180),Fn===0?de.add(new ZRText$1({style:createTextStyle(Ie,{text:xn,x:Cn,y:An,verticalAlign:vn<-.8?"top":vn>.8?"bottom":"middle",align:hn<-.4?"left":hn>.4?"right":"center"},{inheritColor:On}),silent:!0})):de.add(new ZRText$1({style:createTextStyle(Ie,{text:xn,x:Cn,y:An,verticalAlign:"middle",align:"center"},{inheritColor:On}),silent:!0,originX:Cn,originY:An,rotation:Fn}))}if(Ce.get("show")&&_n!==Ne){var $n=Ce.get("distance");$n=$n?$n+ue:ue;for(var Pn=0;Pn<=ze;Pn++){hn=Math.cos(At),vn=Math.sin(At);var Un=new Line$3({shape:{x1:hn*(_e-$n)+he,y1:vn*(_e-$n)+pe,x2:hn*(_e-Ue-$n)+he,y2:vn*(_e-Ue-$n)+pe},silent:!0,style:Dt});Dt.stroke==="auto"&&Un.setStyle({stroke:V((_n+Pn/ze)/Ne)}),de.add(Un),At+=Pt}At-=Pt}else At+=Et}},n.prototype._renderPointer=function(r,$,L,V,oe,ae,re,le,ue){var de=this.group,he=this._data,pe=this._progressEls,_e=[],$e=r.get(["pointer","show"]),xe=r.getModel("progress"),Oe=xe.get("show"),Ce=r.getData(),Ie=Ce.mapDimension("value"),Ne=+r.get("min"),ze=+r.get("max"),Fe=[Ne,ze],Ue=[ae,re];function At(Pt,kt){var Dt=Ce.getItemModel(Pt),Lt=Dt.getModel("pointer"),hn=parsePercent(Lt.get("width"),oe.r),vn=parsePercent(Lt.get("length"),oe.r),_n=r.get(["pointer","icon"]),$n=Lt.get("offsetCenter"),Sn=parsePercent($n[0],oe.r),xn=parsePercent($n[1],oe.r),On=Lt.get("keepAspect"),Cn;return _n?Cn=createSymbol$1(_n,Sn-hn/2,xn-vn,hn,vn,null,On):Cn=new PointerPath$1({shape:{angle:-Math.PI/2,width:hn,r:vn,x:Sn,y:xn}}),Cn.rotation=-(kt+Math.PI/2),Cn.x=oe.cx,Cn.y=oe.cy,Cn}function Et(Pt,kt){var Dt=xe.get("roundCap"),Lt=Dt?Sausage:Sector$1,hn=xe.get("overlap"),vn=hn?xe.get("width"):ue/Ce.count(),_n=hn?oe.r-vn:oe.r-(Pt+1)*vn,$n=hn?oe.r:oe.r-Pt*vn,Sn=new Lt({shape:{startAngle:ae,endAngle:kt,cx:oe.cx,cy:oe.cy,clockwise:le,r0:_n,r:$n}});return hn&&(Sn.z2=ze-Ce.get(Ie,Pt)%ze),Sn}(Oe||$e)&&(Ce.diff(he).add(function(Pt){var kt=Ce.get(Ie,Pt);if($e){var Dt=At(Pt,ae);initProps(Dt,{rotation:-((isNaN(+kt)?Ue[0]:linearMap$2(kt,Fe,Ue,!0))+Math.PI/2)},r),de.add(Dt),Ce.setItemGraphicEl(Pt,Dt)}if(Oe){var Lt=Et(Pt,ae),hn=xe.get("clip");initProps(Lt,{shape:{endAngle:linearMap$2(kt,Fe,Ue,hn)}},r),de.add(Lt),setCommonECData(r.seriesIndex,Ce.dataType,Pt,Lt),_e[Pt]=Lt}}).update(function(Pt,kt){var Dt=Ce.get(Ie,Pt);if($e){var Lt=he.getItemGraphicEl(kt),hn=Lt?Lt.rotation:ae,vn=At(Pt,hn);vn.rotation=hn,updateProps$1(vn,{rotation:-((isNaN(+Dt)?Ue[0]:linearMap$2(Dt,Fe,Ue,!0))+Math.PI/2)},r),de.add(vn),Ce.setItemGraphicEl(Pt,vn)}if(Oe){var _n=pe[kt],$n=_n?_n.shape.endAngle:ae,Sn=Et(Pt,$n),xn=xe.get("clip");updateProps$1(Sn,{shape:{endAngle:linearMap$2(Dt,Fe,Ue,xn)}},r),de.add(Sn),setCommonECData(r.seriesIndex,Ce.dataType,Pt,Sn),_e[Pt]=Sn}}).execute(),Ce.each(function(Pt){var kt=Ce.getItemModel(Pt),Dt=kt.getModel("emphasis"),Lt=Dt.get("focus"),hn=Dt.get("blurScope"),vn=Dt.get("disabled");if($e){var _n=Ce.getItemGraphicEl(Pt),$n=Ce.getItemVisual(Pt,"style"),Sn=$n.fill;if(_n instanceof ZRImage$1){var xn=_n.style;_n.useStyle(extend$1({image:xn.image,x:xn.x,y:xn.y,width:xn.width,height:xn.height},$n))}else _n.useStyle($n),_n.type!=="pointer"&&_n.setColor(Sn);_n.setStyle(kt.getModel(["pointer","itemStyle"]).getItemStyle()),_n.style.fill==="auto"&&_n.setStyle("fill",V(linearMap$2(Ce.get(Ie,Pt),Fe,[0,1],!0))),_n.z2EmphasisLift=0,setStatesStylesFromModel(_n,kt),toggleHoverEmphasis(_n,Lt,hn,vn)}if(Oe){var On=_e[Pt];On.useStyle(Ce.getItemVisual(Pt,"style")),On.setStyle(kt.getModel(["progress","itemStyle"]).getItemStyle()),On.z2EmphasisLift=0,setStatesStylesFromModel(On,kt),toggleHoverEmphasis(On,Lt,hn,vn)}}),this._progressEls=_e)},n.prototype._renderAnchor=function(r,$){var L=r.getModel("anchor"),V=L.get("show");if(V){var oe=L.get("size"),ae=L.get("icon"),re=L.get("offsetCenter"),le=L.get("keepAspect"),ue=createSymbol$1(ae,$.cx-oe/2+parsePercent(re[0],$.r),$.cy-oe/2+parsePercent(re[1],$.r),oe,oe,null,le);ue.z2=L.get("showAbove")?1:0,ue.setStyle(L.getModel("itemStyle").getItemStyle()),this.group.add(ue)}},n.prototype._renderTitleAndDetail=function(r,$,L,V,oe){var ae=this,re=r.getData(),le=re.mapDimension("value"),ue=+r.get("min"),de=+r.get("max"),he=new Group$4,pe=[],_e=[],$e=r.isAnimationEnabled(),xe=r.get(["pointer","showAbove"]);re.diff(this._data).add(function(Oe){pe[Oe]=new ZRText$1({silent:!0}),_e[Oe]=new ZRText$1({silent:!0})}).update(function(Oe,Ce){pe[Oe]=ae._titleEls[Ce],_e[Oe]=ae._detailEls[Ce]}).execute(),re.each(function(Oe){var Ce=re.getItemModel(Oe),Ie=re.get(le,Oe),Ne=new Group$4,ze=V(linearMap$2(Ie,[ue,de],[0,1],!0)),Fe=Ce.getModel("title");if(Fe.get("show")){var Ue=Fe.get("offsetCenter"),At=oe.cx+parsePercent(Ue[0],oe.r),Et=oe.cy+parsePercent(Ue[1],oe.r),Pt=pe[Oe];Pt.attr({z2:xe?0:2,style:createTextStyle(Fe,{x:At,y:Et,text:re.getName(Oe),align:"center",verticalAlign:"middle"},{inheritColor:ze})}),Ne.add(Pt)}var kt=Ce.getModel("detail");if(kt.get("show")){var Dt=kt.get("offsetCenter"),Lt=oe.cx+parsePercent(Dt[0],oe.r),hn=oe.cy+parsePercent(Dt[1],oe.r),vn=parsePercent(kt.get("width"),oe.r),_n=parsePercent(kt.get("height"),oe.r),$n=r.get(["progress","show"])?re.getItemVisual(Oe,"style").fill:ze,Pt=_e[Oe],Sn=kt.get("formatter");Pt.attr({z2:xe?0:2,style:createTextStyle(kt,{x:Lt,y:hn,text:formatLabel(Ie,Sn),width:isNaN(vn)?null:vn,height:isNaN(_n)?null:_n,align:"center",verticalAlign:"middle"},{inheritColor:$n})}),setLabelValueAnimation(Pt,{normal:kt},Ie,function(On){return formatLabel(On,Sn)}),$e&&animateLabelValue(Pt,Oe,re,r,{getFormattedLabel:function(On,Cn,An,Rn,Fn,Pn){return formatLabel(Pn?Pn.interpolatedValue:Ie,Sn)}}),Ne.add(Pt)}he.add(Ne)}),this.group.add(he),this._titleEls=pe,this._detailEls=_e},n.type="gauge",n}(ChartView$1);const GaugeView$1=GaugeView;var GaugeSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath="itemStyle",r}return n.prototype.getInitialData=function(r,$){return createSeriesDataSimply(this,["value"])},n.type="series.gauge",n.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},n}(SeriesModel$1);const GaugeSeriesModel$1=GaugeSeriesModel;function install$F(g){g.registerChartView(GaugeView$1),g.registerSeriesModel(GaugeSeriesModel$1)}var opacityAccessPath$1=["itemStyle","opacity"],FunnelPiece=function(g){__extends(n,g);function n(r,$){var L=g.call(this)||this,V=L,oe=new Polyline$3,ae=new ZRText$1;return V.setTextContent(ae),L.setTextGuideLine(oe),L.updateData(r,$,!0),L}return n.prototype.updateData=function(r,$,L){var V=this,oe=r.hostModel,ae=r.getItemModel($),re=r.getItemLayout($),le=ae.getModel("emphasis"),ue=ae.get(opacityAccessPath$1);ue=ue!=null?ue:1,L||saveOldStyle(V),V.useStyle(r.getItemVisual($,"style")),V.style.lineJoin="round",L?(V.setShape({points:re.points}),V.style.opacity=0,initProps(V,{style:{opacity:ue}},oe,$)):updateProps$1(V,{style:{opacity:ue},shape:{points:re.points}},oe,$),setStatesStylesFromModel(V,ae),this._updateLabel(r,$),toggleHoverEmphasis(this,le.get("focus"),le.get("blurScope"),le.get("disabled"))},n.prototype._updateLabel=function(r,$){var L=this,V=this.getTextGuideLine(),oe=L.getTextContent(),ae=r.hostModel,re=r.getItemModel($),le=r.getItemLayout($),ue=le.label,de=r.getItemVisual($,"style"),he=de.fill;setLabelStyle(oe,getLabelStatesModels(re),{labelFetcher:r.hostModel,labelDataIndex:$,defaultOpacity:de.opacity,defaultText:r.getName($)},{normal:{align:ue.textAlign,verticalAlign:ue.verticalAlign}}),L.setTextConfig({local:!0,inside:!!ue.inside,insideStroke:he,outsideFill:he});var pe=ue.linePoints;V.setShape({points:pe}),L.textGuideLineConfig={anchor:pe?new Point$1(pe[0][0],pe[0][1]):null},updateProps$1(oe,{style:{x:ue.x,y:ue.y}},ae,$),oe.attr({rotation:ue.rotation,originX:ue.x,originY:ue.y,z2:10}),setLabelLineStyle(L,getLabelLineStatesModels(re),{stroke:he})},n}(Polygon$1),FunnelView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.ignoreLabelLineUpdate=!0,r}return n.prototype.render=function(r,$,L){var V=r.getData(),oe=this._data,ae=this.group;V.diff(oe).add(function(re){var le=new FunnelPiece(V,re);V.setItemGraphicEl(re,le),ae.add(le)}).update(function(re,le){var ue=oe.getItemGraphicEl(le);ue.updateData(V,re),ae.add(ue),V.setItemGraphicEl(re,ue)}).remove(function(re){var le=oe.getItemGraphicEl(re);removeElementWithFadeOut(le,r,re)}).execute(),this._data=V},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.prototype.dispose=function(){},n.type="funnel",n}(ChartView$1);const FunnelView$1=FunnelView;var FunnelSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r){g.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$2(this.getData,this),bind$2(this.getRawData,this)),this._defaultLabelLine(r)},n.prototype.getInitialData=function(r,$){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},n.prototype._defaultLabelLine=function(r){defaultEmphasis(r,"labelLine",["show"]);var $=r.labelLine,L=r.emphasis.labelLine;$.show=$.show&&r.label.show,L.show=L.show&&r.emphasis.label.show},n.prototype.getDataParams=function(r){var $=this.getData(),L=g.prototype.getDataParams.call(this,r),V=$.mapDimension("value"),oe=$.getSum(V);return L.percent=oe?+($.get(V,r)/oe*100).toFixed(2):0,L.$vars.push("percent"),L},n.type="series.funnel",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel$1);const FunnelSeriesModel$1=FunnelSeriesModel;function getViewRect$2(g,n){return getLayoutRect(g.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getSortedIndices(g,n){for(var r=g.mapDimension("value"),$=g.mapArray(r,function(re){return re}),L=[],V=n==="ascending",oe=0,ae=g.count();oe<ae;oe++)L[oe]=oe;return isFunction$1(n)?L.sort(n):n!=="none"&&L.sort(function(re,le){return V?$[re]-$[le]:$[le]-$[re]}),L}function labelLayout(g){var n=g.hostModel,r=n.get("orient");g.each(function($){var L=g.getItemModel($),V=L.getModel("label"),oe=V.get("position"),ae=L.getModel("labelLine"),re=g.getItemLayout($),le=re.points,ue=oe==="inner"||oe==="inside"||oe==="center"||oe==="insideLeft"||oe==="insideRight",de,he,pe,_e;if(ue)oe==="insideLeft"?(he=(le[0][0]+le[3][0])/2+5,pe=(le[0][1]+le[3][1])/2,de="left"):oe==="insideRight"?(he=(le[1][0]+le[2][0])/2-5,pe=(le[1][1]+le[2][1])/2,de="right"):(he=(le[0][0]+le[1][0]+le[2][0]+le[3][0])/4,pe=(le[0][1]+le[1][1]+le[2][1]+le[3][1])/4,de="center"),_e=[[he,pe],[he,pe]];else{var $e=void 0,xe=void 0,Oe=void 0,Ce=void 0,Ie=ae.get("length");oe==="left"?($e=(le[3][0]+le[0][0])/2,xe=(le[3][1]+le[0][1])/2,Oe=$e-Ie,he=Oe-5,de="right"):oe==="right"?($e=(le[1][0]+le[2][0])/2,xe=(le[1][1]+le[2][1])/2,Oe=$e+Ie,he=Oe+5,de="left"):oe==="top"?($e=(le[3][0]+le[0][0])/2,xe=(le[3][1]+le[0][1])/2,Ce=xe-Ie,pe=Ce-5,de="center"):oe==="bottom"?($e=(le[1][0]+le[2][0])/2,xe=(le[1][1]+le[2][1])/2,Ce=xe+Ie,pe=Ce+5,de="center"):oe==="rightTop"?($e=r==="horizontal"?le[3][0]:le[1][0],xe=r==="horizontal"?le[3][1]:le[1][1],r==="horizontal"?(Ce=xe-Ie,pe=Ce-5,de="center"):(Oe=$e+Ie,he=Oe+5,de="top")):oe==="rightBottom"?($e=le[2][0],xe=le[2][1],r==="horizontal"?(Ce=xe+Ie,pe=Ce+5,de="center"):(Oe=$e+Ie,he=Oe+5,de="bottom")):oe==="leftTop"?($e=le[0][0],xe=r==="horizontal"?le[0][1]:le[1][1],r==="horizontal"?(Ce=xe-Ie,pe=Ce-5,de="center"):(Oe=$e-Ie,he=Oe-5,de="right")):oe==="leftBottom"?($e=r==="horizontal"?le[1][0]:le[3][0],xe=r==="horizontal"?le[1][1]:le[2][1],r==="horizontal"?(Ce=xe+Ie,pe=Ce+5,de="center"):(Oe=$e-Ie,he=Oe-5,de="right")):($e=(le[1][0]+le[2][0])/2,xe=(le[1][1]+le[2][1])/2,r==="horizontal"?(Ce=xe+Ie,pe=Ce+5,de="center"):(Oe=$e+Ie,he=Oe+5,de="left")),r==="horizontal"?(Oe=$e,he=Oe):(Ce=xe,pe=Ce),_e=[[$e,xe],[Oe,Ce]]}re.label={linePoints:_e,x:he,y:pe,verticalAlign:"middle",textAlign:de,inside:ue}})}function funnelLayout(g,n){g.eachSeriesByType("funnel",function(r){var $=r.getData(),L=$.mapDimension("value"),V=r.get("sort"),oe=getViewRect$2(r,n),ae=r.get("orient"),re=oe.width,le=oe.height,ue=getSortedIndices($,V),de=oe.x,he=oe.y,pe=ae==="horizontal"?[parsePercent(r.get("minSize"),le),parsePercent(r.get("maxSize"),le)]:[parsePercent(r.get("minSize"),re),parsePercent(r.get("maxSize"),re)],_e=$.getDataExtent(L),$e=r.get("min"),xe=r.get("max");$e==null&&($e=Math.min(_e[0],0)),xe==null&&(xe=_e[1]);var Oe=r.get("funnelAlign"),Ce=r.get("gap"),Ie=ae==="horizontal"?re:le,Ne=(Ie-Ce*($.count()-1))/$.count(),ze=function(hn,vn){if(ae==="horizontal"){var _n=$.get(L,hn)||0,$n=linearMap$2(_n,[$e,xe],pe,!0),Sn=void 0;switch(Oe){case"top":Sn=he;break;case"center":Sn=he+(le-$n)/2;break;case"bottom":Sn=he+(le-$n);break}return[[vn,Sn],[vn,Sn+$n]]}var xn=$.get(L,hn)||0,On=linearMap$2(xn,[$e,xe],pe,!0),Cn;switch(Oe){case"left":Cn=de;break;case"center":Cn=de+(re-On)/2;break;case"right":Cn=de+re-On;break}return[[Cn,vn],[Cn+On,vn]]};V==="ascending"&&(Ne=-Ne,Ce=-Ce,ae==="horizontal"?de+=re:he+=le,ue=ue.reverse());for(var Fe=0;Fe<ue.length;Fe++){var Ue=ue[Fe],At=ue[Fe+1],Et=$.getItemModel(Ue);if(ae==="horizontal"){var Pt=Et.get(["itemStyle","width"]);Pt==null?Pt=Ne:(Pt=parsePercent(Pt,re),V==="ascending"&&(Pt=-Pt));var kt=ze(Ue,de),Dt=ze(At,de+Pt);de+=Pt+Ce,$.setItemLayout(Ue,{points:kt.concat(Dt.slice().reverse())})}else{var Lt=Et.get(["itemStyle","height"]);Lt==null?Lt=Ne:(Lt=parsePercent(Lt,le),V==="ascending"&&(Lt=-Lt));var kt=ze(Ue,he),Dt=ze(At,he+Lt);he+=Lt+Ce,$.setItemLayout(Ue,{points:kt.concat(Dt.slice().reverse())})}}labelLayout($)})}function install$E(g){g.registerChartView(FunnelView$1),g.registerSeriesModel(FunnelSeriesModel$1),g.registerLayout(funnelLayout),g.registerProcessor(dataFilter$1("funnel"))}var DEFAULT_SMOOTH=.3,ParallelView$2=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._dataGroup=new Group$4,r._initialized=!1,r}return n.prototype.init=function(){this.group.add(this._dataGroup)},n.prototype.render=function(r,$,L,V){this._progressiveEls=null;var oe=this._dataGroup,ae=r.getData(),re=this._data,le=r.coordinateSystem,ue=le.dimensions,de=makeSeriesScope(r);ae.diff(re).add(he).update(pe).remove(_e).execute();function he(xe){var Oe=addEl(ae,oe,xe,ue,le);updateElCommon(Oe,ae,xe,de)}function pe(xe,Oe){var Ce=re.getItemGraphicEl(Oe),Ie=createLinePoints(ae,xe,ue,le);ae.setItemGraphicEl(xe,Ce),updateProps$1(Ce,{shape:{points:Ie}},r,xe),saveOldStyle(Ce),updateElCommon(Ce,ae,xe,de)}function _e(xe){var Oe=re.getItemGraphicEl(xe);oe.remove(Oe)}if(!this._initialized){this._initialized=!0;var $e=createGridClipShape$2(le,r,function(){setTimeout(function(){oe.removeClipPath()})});oe.setClipPath($e)}this._data=ae},n.prototype.incrementalPrepareRender=function(r,$,L){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},n.prototype.incrementalRender=function(r,$,L){for(var V=$.getData(),oe=$.coordinateSystem,ae=oe.dimensions,re=makeSeriesScope($),le=this._progressiveEls=[],ue=r.start;ue<r.end;ue++){var de=addEl(V,this._dataGroup,ue,ae,oe);de.incremental=!0,updateElCommon(de,V,ue,re),le.push(de)}},n.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},n.type="parallel",n}(ChartView$1);function createGridClipShape$2(g,n,r){var $=g.model,L=g.getRect(),V=new Rect$3({shape:{x:L.x,y:L.y,width:L.width,height:L.height}}),oe=$.get("layout")==="horizontal"?"width":"height";return V.setShape(oe,0),initProps(V,{shape:{width:L.width,height:L.height}},n,r),V}function createLinePoints(g,n,r,$){for(var L=[],V=0;V<r.length;V++){var oe=r[V],ae=g.get(g.mapDimension(oe),n);isEmptyValue(ae,$.getAxis(oe).type)||L.push($.dataToPoint(ae,oe))}return L}function addEl(g,n,r,$,L){var V=createLinePoints(g,r,$,L),oe=new Polyline$3({shape:{points:V},z2:10});return n.add(oe),g.setItemGraphicEl(r,oe),oe}function makeSeriesScope(g){var n=g.get("smooth",!0);return n===!0&&(n=DEFAULT_SMOOTH),n=numericToNumber(n),eqNaN(n)&&(n=0),{smooth:n}}function updateElCommon(g,n,r,$){g.useStyle(n.getItemVisual(r,"style")),g.style.fill=null,g.setShape("smooth",$.smooth);var L=n.getItemModel(r),V=L.getModel("emphasis");setStatesStylesFromModel(g,L,"lineStyle"),toggleHoverEmphasis(g,V.get("focus"),V.get("blurScope"),V.get("disabled"))}function isEmptyValue(g,n){return n==="category"?g==null:g==null||isNaN(g)}const ParallelView$3=ParallelView$2;var ParallelSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return n.prototype.getInitialData=function(r,$){return createSeriesData(null,this,{useEncodeDefaulter:bind$2(makeDefaultEncode,null,this)})},n.prototype.getRawIndicesByActiveState=function(r){var $=this.coordinateSystem,L=this.getData(),V=[];return $.eachActiveState(L,function(oe,ae){r===oe&&V.push(L.getRawIndex(ae))}),V},n.type="series.parallel",n.dependencies=["parallel"],n.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},n}(SeriesModel$1);function makeDefaultEncode(g){var n=g.ecModel.getComponent("parallel",g.get("parallelIndex"));if(n){var r={};return each$f(n.dimensions,function($){var L=convertDimNameToNumber($);r[$]=L}),r}}function convertDimNameToNumber(g){return+g.replace("dim","")}const ParallelSeriesModel$1=ParallelSeriesModel;var opacityAccessPath=["lineStyle","opacity"],parallelVisual={seriesType:"parallel",reset:function(g,n){var r=g.coordinateSystem,$={normal:g.get(["lineStyle","opacity"]),active:g.get("activeOpacity"),inactive:g.get("inactiveOpacity")};return{progress:function(L,V){r.eachActiveState(V,function(oe,ae){var re=$[oe];if(oe==="normal"&&V.hasItemOption){var le=V.getItemModel(ae).get(opacityAccessPath,!0);le!=null&&(re=le)}var ue=V.ensureUniqueItemVisual(ae,"style");ue.opacity=re},L.start,L.end)}}}};const parallelVisual$1=parallelVisual;function parallelPreprocessor(g){createParallelIfNeeded(g),mergeAxisOptionFromParallel(g)}function createParallelIfNeeded(g){if(!g.parallel){var n=!1;each$f(g.series,function(r){r&&r.type==="parallel"&&(n=!0)}),n&&(g.parallel=[{}])}}function mergeAxisOptionFromParallel(g){var n=normalizeToArray(g.parallelAxis);each$f(n,function(r){if(isObject$4(r)){var $=r.parallelIndex||0,L=normalizeToArray(g.parallel)[$];L&&L.parallelAxisDefault&&merge$1(r,L.parallelAxisDefault,!1)}})}var CLICK_THRESHOLD=5,ParallelView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){this._model=r,this._api=L,this._handlers||(this._handlers={},each$f(handlers$1,function(V,oe){L.getZr().on(oe,this._handlers[oe]=bind$2(V,this))},this)),createOrUpdate(this,"_throttledDispatchExpand",r.get("axisExpandRate"),"fixRate")},n.prototype.dispose=function(r,$){clear$1(this,"_throttledDispatchExpand"),each$f(this._handlers,function(L,V){$.getZr().off(V,L)}),this._handlers=null},n.prototype._throttledDispatchExpand=function(r){this._dispatchExpand(r)},n.prototype._dispatchExpand=function(r){r&&this._api.dispatchAction(extend$1({type:"parallelAxisExpand"},r))},n.type="parallel",n}(ComponentView$1),handlers$1={mousedown:function(g){checkTrigger(this,"click")&&(this._mouseDownPoint=[g.offsetX,g.offsetY])},mouseup:function(g){var n=this._mouseDownPoint;if(checkTrigger(this,"click")&&n){var r=[g.offsetX,g.offsetY],$=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2);if($>CLICK_THRESHOLD)return;var L=this._model.coordinateSystem.getSlidedAxisExpandWindow([g.offsetX,g.offsetY]);L.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:L.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(g){if(!(this._mouseDownPoint||!checkTrigger(this,"mousemove"))){var n=this._model,r=n.coordinateSystem.getSlidedAxisExpandWindow([g.offsetX,g.offsetY]),$=r.behavior;$==="jump"&&this._throttledDispatchExpand.debounceNextCall(n.get("axisExpandDebounce")),this._throttledDispatchExpand($==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:$==="jump"?null:{duration:0}})}}};function checkTrigger(g,n){var r=g._model;return r.get("axisExpandable")&&r.get("axisExpandTriggerOn")===n}const ParallelView$1=ParallelView;var ParallelModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){g.prototype.init.apply(this,arguments),this.mergeOption({})},n.prototype.mergeOption=function(r){var $=this.option;r&&merge$1($,r,!0),this._initDimensions()},n.prototype.contains=function(r,$){var L=r.get("parallelIndex");return L!=null&&$.getComponent("parallel",L)===this},n.prototype.setAxisExpand=function(r){each$f(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function($){r.hasOwnProperty($)&&(this.option[$]=r[$])},this)},n.prototype._initDimensions=function(){var r=this.dimensions=[],$=this.parallelAxisIndex=[],L=filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(V){return(V.get("parallelIndex")||0)===this.componentIndex},this);each$f(L,function(V){r.push("dim"+V.get("dim")),$.push(V.componentIndex)})},n.type="parallel",n.dependencies=["parallelAxis"],n.layoutMode="box",n.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},n}(ComponentModel$1);const ParallelModel$1=ParallelModel;var ParallelAxis=function(g){__extends(n,g);function n(r,$,L,V,oe){var ae=g.call(this,r,$,L)||this;return ae.type=V||"value",ae.axisIndex=oe,ae}return n.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},n}(Axis$1);const ParallelAxis$1=ParallelAxis;function sliderMove(g,n,r,$,L,V){g=g||0;var oe=r[1]-r[0];if(L!=null&&(L=restrict$1(L,[0,oe])),V!=null&&(V=Math.max(V,L!=null?L:0)),$==="all"){var ae=Math.abs(n[1]-n[0]);ae=restrict$1(ae,[0,oe]),L=V=restrict$1(ae,[L,V]),$=0}n[0]=restrict$1(n[0],r),n[1]=restrict$1(n[1],r);var re=getSpanSign(n,$);n[$]+=g;var le=L||0,ue=r.slice();re.sign<0?ue[0]+=le:ue[1]-=le,n[$]=restrict$1(n[$],ue);var de;return de=getSpanSign(n,$),L!=null&&(de.sign!==re.sign||de.span<L)&&(n[1-$]=n[$]+re.sign*L),de=getSpanSign(n,$),V!=null&&de.span>V&&(n[1-$]=n[$]+de.sign*V),n}function getSpanSign(g,n){var r=g[n]-g[1-n];return{span:Math.abs(r),sign:r>0?-1:r<0?1:n?-1:1}}function restrict$1(g,n){return Math.min(n[1]!=null?n[1]:1/0,Math.max(n[0]!=null?n[0]:-1/0,g))}var each$a=each$f,mathMin$2=Math.min,mathMax$2=Math.max,mathFloor=Math.floor,mathCeil=Math.ceil,round=round$3,PI$1=Math.PI,Parallel=function(){function g(n,r,$){this.type="parallel",this._axesMap=createHashMap(),this._axesLayout={},this.dimensions=n.dimensions,this._model=n,this._init(n,r,$)}return g.prototype._init=function(n,r,$){var L=n.dimensions,V=n.parallelAxisIndex;each$a(L,function(oe,ae){var re=V[ae],le=r.getComponent("parallelAxis",re),ue=this._axesMap.set(oe,new ParallelAxis$1(oe,createScaleByModel$1(le),[0,0],le.get("type"),re)),de=ue.type==="category";ue.onBand=de&&le.get("boundaryGap"),ue.inverse=le.get("inverse"),le.axis=ue,ue.model=le,ue.coordinateSystem=le.coordinateSystem=this},this)},g.prototype.update=function(n,r){this._updateAxesFromSeries(this._model,n)},g.prototype.containPoint=function(n){var r=this._makeLayoutInfo(),$=r.axisBase,L=r.layoutBase,V=r.pixelDimIndex,oe=n[1-V],ae=n[V];return oe>=$&&oe<=$+r.axisLength&&ae>=L&&ae<=L+r.layoutLength},g.prototype.getModel=function(){return this._model},g.prototype._updateAxesFromSeries=function(n,r){r.eachSeries(function($){if(n.contains($,r)){var L=$.getData();each$a(this.dimensions,function(V){var oe=this._axesMap.get(V);oe.scale.unionExtentFromData(L,L.mapDimension(V)),niceScaleExtent(oe.scale,oe.model)},this)}},this)},g.prototype.resize=function(n,r){this._rect=getLayoutRect(n.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),this._layoutAxes()},g.prototype.getRect=function(){return this._rect},g.prototype._makeLayoutInfo=function(){var n=this._model,r=this._rect,$=["x","y"],L=["width","height"],V=n.get("layout"),oe=V==="horizontal"?0:1,ae=r[L[oe]],re=[0,ae],le=this.dimensions.length,ue=restrict(n.get("axisExpandWidth"),re),de=restrict(n.get("axisExpandCount")||0,[0,le]),he=n.get("axisExpandable")&&le>3&&le>de&&de>1&&ue>0&&ae>0,pe=n.get("axisExpandWindow"),_e;if(pe)_e=restrict(pe[1]-pe[0],re),pe[1]=pe[0]+_e;else{_e=restrict(ue*(de-1),re);var $e=n.get("axisExpandCenter")||mathFloor(le/2);pe=[ue*$e-_e/2],pe[1]=pe[0]+_e}var xe=(ae-_e)/(le-de);xe<3&&(xe=0);var Oe=[mathFloor(round(pe[0]/ue,1))+1,mathCeil(round(pe[1]/ue,1))-1],Ce=xe/ue*pe[0];return{layout:V,pixelDimIndex:oe,layoutBase:r[$[oe]],layoutLength:ae,axisBase:r[$[1-oe]],axisLength:r[L[1-oe]],axisExpandable:he,axisExpandWidth:ue,axisCollapseWidth:xe,axisExpandWindow:pe,axisCount:le,winInnerIndices:Oe,axisExpandWindow0Pos:Ce}},g.prototype._layoutAxes=function(){var n=this._rect,r=this._axesMap,$=this.dimensions,L=this._makeLayoutInfo(),V=L.layout;r.each(function(oe){var ae=[0,L.axisLength],re=oe.inverse?1:0;oe.setExtent(ae[re],ae[1-re])}),each$a($,function(oe,ae){var re=(L.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(ae,L),le={horizontal:{x:re.position,y:L.axisLength},vertical:{x:0,y:re.position}},ue={horizontal:PI$1/2,vertical:0},de=[le[V].x+n.x,le[V].y+n.y],he=ue[V],pe=create$1();rotate(pe,pe,he),translate(pe,pe,de),this._axesLayout[oe]={position:de,rotation:he,transform:pe,axisNameAvailableWidth:re.axisNameAvailableWidth,axisLabelShow:re.axisLabelShow,nameTruncateMaxWidth:re.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},g.prototype.getAxis=function(n){return this._axesMap.get(n)},g.prototype.dataToPoint=function(n,r){return this.axisCoordToPoint(this._axesMap.get(r).dataToCoord(n),r)},g.prototype.eachActiveState=function(n,r,$,L){$==null&&($=0),L==null&&(L=n.count());var V=this._axesMap,oe=this.dimensions,ae=[],re=[];each$f(oe,function(xe){ae.push(n.mapDimension(xe)),re.push(V.get(xe).model)});for(var le=this.hasAxisBrushed(),ue=$;ue<L;ue++){var de=void 0;if(!le)de="normal";else{de="active";for(var he=n.getValues(ae,ue),pe=0,_e=oe.length;pe<_e;pe++){var $e=re[pe].getActiveState(he[pe]);if($e==="inactive"){de="inactive";break}}}r(de,ue)}},g.prototype.hasAxisBrushed=function(){for(var n=this.dimensions,r=this._axesMap,$=!1,L=0,V=n.length;L<V;L++)r.get(n[L]).model.getActiveState()!=="normal"&&($=!0);return $},g.prototype.axisCoordToPoint=function(n,r){var $=this._axesLayout[r];return applyTransform([n,0],$.transform)},g.prototype.getAxisLayout=function(n){return clone$4(this._axesLayout[n])},g.prototype.getSlidedAxisExpandWindow=function(n){var r=this._makeLayoutInfo(),$=r.pixelDimIndex,L=r.axisExpandWindow.slice(),V=L[1]-L[0],oe=[0,r.axisExpandWidth*(r.axisCount-1)];if(!this.containPoint(n))return{behavior:"none",axisExpandWindow:L};var ae=n[$]-r.layoutBase-r.axisExpandWindow0Pos,re,le="slide",ue=r.axisCollapseWidth,de=this._model.get("axisExpandSlideTriggerArea"),he=de[0]!=null;if(ue)he&&ue&&ae<V*de[0]?(le="jump",re=ae-V*de[2]):he&&ue&&ae>V*(1-de[0])?(le="jump",re=ae-V*(1-de[2])):(re=ae-V*de[1])>=0&&(re=ae-V*(1-de[1]))<=0&&(re=0),re*=r.axisExpandWidth/ue,re?sliderMove(re,L,oe,"all"):le="none";else{var pe=L[1]-L[0],_e=oe[1]*ae/pe;L=[mathMax$2(0,_e-pe/2)],L[1]=mathMin$2(oe[1],L[0]+pe),L[0]=L[1]-pe}return{axisExpandWindow:L,behavior:le}},g}();function restrict(g,n){return mathMin$2(mathMax$2(g,n[0]),n[1])}function layoutAxisWithoutExpand(g,n){var r=n.layoutLength/(n.axisCount-1);return{position:r*g,axisNameAvailableWidth:r,axisLabelShow:!0}}function layoutAxisWithExpand(g,n){var r=n.layoutLength,$=n.axisExpandWidth,L=n.axisCount,V=n.axisCollapseWidth,oe=n.winInnerIndices,ae,re=V,le=!1,ue;return g<oe[0]?(ae=g*V,ue=V):g<=oe[1]?(ae=n.axisExpandWindow0Pos+g*$-n.axisExpandWindow[0],re=$,le=!0):(ae=r-(L-1-g)*V,ue=V),{position:ae,axisNameAvailableWidth:re,axisLabelShow:le,nameTruncateMaxWidth:ue}}const Parallel$1=Parallel;function createParallelCoordSys(g,n){var r=[];return g.eachComponent("parallel",function($,L){var V=new Parallel$1($,g,n);V.name="parallel_"+L,V.resize($,n),$.coordinateSystem=V,V.model=$,r.push(V)}),g.eachSeries(function($){if($.get("coordinateSystem")==="parallel"){var L=$.getReferringComponents("parallel",SINGLE_REFERRING).models[0];$.coordinateSystem=L.coordinateSystem}}),r}var parallelCoordSysCreator={create:createParallelCoordSys};const parallelCoordSysCreator$1=parallelCoordSysCreator;var ParallelAxisModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.activeIntervals=[],r}return n.prototype.getAreaSelectStyle=function(){return makeStyleMapper([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},n.prototype.setActiveIntervals=function(r){var $=this.activeIntervals=clone$4(r);if($)for(var L=$.length-1;L>=0;L--)asc$2($[L])},n.prototype.getActiveState=function(r){var $=this.activeIntervals;if(!$.length)return"normal";if(r==null||isNaN(+r))return"inactive";if($.length===1){var L=$[0];if(L[0]<=r&&r<=L[1])return"active"}else for(var V=0,oe=$.length;V<oe;V++)if($[V][0]<=r&&r<=$[V][1])return"active";return"inactive"},n}(ComponentModel$1);mixin(ParallelAxisModel,AxisModelCommonMixin);const ParallelAxisModel$1=ParallelAxisModel;var BRUSH_PANEL_GLOBAL=!0,mathMin$1=Math.min,mathMax$1=Math.max,mathPow=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY="globalPan",DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController=function(g){__extends(n,g);function n(r){var $=g.call(this)||this;return $._track=[],$._covers=[],$._handlers={},$._zr=r,$.group=new Group$4,$._uid="brushController_"+baseUID++,each$f(pointerHandlers,function(L,V){this._handlers[V]=bind$2(L,this)},$),$}return n.prototype.enableBrush=function(r){return this._brushType&&this._doDisableBrush(),r.brushType&&this._doEnableBrush(r),this},n.prototype._doEnableBrush=function(r){var $=this._zr;this._enableGlobalPan||take($,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(L,V){$.on(V,L)}),this._brushType=r.brushType,this._brushOption=merge$1(clone$4(DEFAULT_BRUSH_OPT),r,!0)},n.prototype._doDisableBrush=function(){var r=this._zr;release(r,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function($,L){r.off(L,$)}),this._brushType=this._brushOption=null},n.prototype.setPanels=function(r){if(r&&r.length){var $=this._panels={};each$f(r,function(L){$[L.panelId]=clone$4(L)})}else this._panels=null;return this},n.prototype.mount=function(r){r=r||{},this._enableGlobalPan=r.enableGlobalPan;var $=this.group;return this._zr.add($),$.attr({x:r.x||0,y:r.y||0,rotation:r.rotation||0,scaleX:r.scaleX||1,scaleY:r.scaleY||1}),this._transform=$.getLocalTransform(),this},n.prototype.updateCovers=function(r){r=map$1(r,function(he){return merge$1(clone$4(DEFAULT_BRUSH_OPT),he,!0)});var $="\0-brush-index-",L=this._covers,V=this._covers=[],oe=this,ae=this._creatingCover;return new DataDiffer$1(L,r,le,re).add(ue).update(ue).remove(de).execute(),this;function re(he,pe){return(he.id!=null?he.id:$+pe)+"-"+he.brushType}function le(he,pe){return re(he.__brushOption,pe)}function ue(he,pe){var _e=r[he];if(pe!=null&&L[pe]===ae)V[he]=L[pe];else{var $e=V[he]=pe!=null?(L[pe].__brushOption=_e,L[pe]):endCreating(oe,createCover(oe,_e));updateCoverAfterCreation(oe,$e)}}function de(he){L[he]!==ae&&oe.group.remove(L[he])}},n.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},n.prototype.dispose=function(){this.unmount(),this.off()},n}(Eventful$1);function createCover(g,n){var r=coverRenderers[n.brushType].createCover(g,n);return r.__brushOption=n,updateZ$1(r,n),g.group.add(r),r}function endCreating(g,n){var r=getCoverRenderer(n);return r.endCreating&&(r.endCreating(g,n),updateZ$1(n,n.__brushOption)),n}function updateCoverShape(g,n){var r=n.__brushOption;getCoverRenderer(n).updateCoverShape(g,n,r.range,r)}function updateZ$1(g,n){var r=n.z;r==null&&(r=COVER_Z),g.traverse(function($){$.z=r,$.z2=r})}function updateCoverAfterCreation(g,n){getCoverRenderer(n).updateCommon(g,n),updateCoverShape(g,n)}function getCoverRenderer(g){return coverRenderers[g.__brushOption.brushType]}function getPanelByPoint(g,n,r){var $=g._panels;if(!$)return BRUSH_PANEL_GLOBAL;var L,V=g._transform;return each$f($,function(oe){oe.isTargetByCursor(n,r,V)&&(L=oe)}),L}function getPanelByCover(g,n){var r=g._panels;if(!r)return BRUSH_PANEL_GLOBAL;var $=n.__brushOption.panelId;return $!=null?r[$]:BRUSH_PANEL_GLOBAL}function clearCovers(g){var n=g._covers,r=n.length;return each$f(n,function($){g.group.remove($)},g),n.length=0,!!r}function trigger(g,n){var r=map$1(g._covers,function($){var L=$.__brushOption,V=clone$4(L.range);return{brushType:L.brushType,panelId:L.panelId,range:V}});g.trigger("brush",{areas:r,isEnd:!!n.isEnd,removeOnClick:!!n.removeOnClick})}function shouldShowCover(g){var n=g._track;if(!n.length)return!1;var r=n[n.length-1],$=n[0],L=r[0]-$[0],V=r[1]-$[1],oe=mathPow(L*L+V*V,.5);return oe>UNSELECT_THRESHOLD}function getTrackEnds(g){var n=g.length-1;return n<0&&(n=0),[g[0],g[n]]}function createBaseRectCover(g,n,r,$){var L=new Group$4;return L.add(new Rect$3({name:"main",style:makeStyle(r),silent:!0,draggable:!0,cursor:"move",drift:curry$1(driftRect,g,n,L,["n","s","w","e"]),ondragend:curry$1(trigger,n,{isEnd:!0})})),each$f($,function(V){L.add(new Rect$3({name:V.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry$1(driftRect,g,n,L,V),ondragend:curry$1(trigger,n,{isEnd:!0})}))}),L}function updateBaseRect(g,n,r,$){var L=$.brushStyle.lineWidth||0,V=mathMax$1(L,MIN_RESIZE_LINE_WIDTH),oe=r[0][0],ae=r[1][0],re=oe-L/2,le=ae-L/2,ue=r[0][1],de=r[1][1],he=ue-V+L/2,pe=de-V+L/2,_e=ue-oe,$e=de-ae,xe=_e+L,Oe=$e+L;updateRectShape(g,n,"main",oe,ae,_e,$e),$.transformable&&(updateRectShape(g,n,"w",re,le,V,Oe),updateRectShape(g,n,"e",he,le,V,Oe),updateRectShape(g,n,"n",re,le,xe,V),updateRectShape(g,n,"s",re,pe,xe,V),updateRectShape(g,n,"nw",re,le,V,V),updateRectShape(g,n,"ne",he,le,V,V),updateRectShape(g,n,"sw",re,pe,V,V),updateRectShape(g,n,"se",he,pe,V,V))}function updateCommon$1(g,n){var r=n.__brushOption,$=r.transformable,L=n.childAt(0);L.useStyle(makeStyle(r)),L.attr({silent:!$,cursor:$?"move":"default"}),each$f([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(V){var oe=n.childOfName(V.join("")),ae=V.length===1?getGlobalDirection1(g,V[0]):getGlobalDirection2(g,V);oe&&oe.attr({silent:!$,invisible:!$,cursor:$?CURSOR_MAP[ae]+"-resize":null})})}function updateRectShape(g,n,r,$,L,V,oe){var ae=n.childOfName(r);ae&&ae.setShape(pointsToRect(clipByPanel(g,n,[[$,L],[$+V,L+oe]])))}function makeStyle(g){return defaults$2({strokeNoScale:!0},g.brushStyle)}function formatRectRange(g,n,r,$){var L=[mathMin$1(g,r),mathMin$1(n,$)],V=[mathMax$1(g,r),mathMax$1(n,$)];return[[L[0],V[0]],[L[1],V[1]]]}function getTransform(g){return getTransform$1(g.group)}function getGlobalDirection1(g,n){var r={w:"left",e:"right",n:"top",s:"bottom"},$={left:"w",right:"e",top:"n",bottom:"s"},L=transformDirection(r[n],getTransform(g));return $[L]}function getGlobalDirection2(g,n){var r=[getGlobalDirection1(g,n[0]),getGlobalDirection1(g,n[1])];return(r[0]==="e"||r[0]==="w")&&r.reverse(),r.join("")}function driftRect(g,n,r,$,L,V){var oe=r.__brushOption,ae=g.toRectRange(oe.range),re=toLocalDelta(n,L,V);each$f($,function(le){var ue=DIRECTION_MAP[le];ae[ue[0]][ue[1]]+=re[ue[0]]}),oe.range=g.fromRectRange(formatRectRange(ae[0][0],ae[1][0],ae[0][1],ae[1][1])),updateCoverAfterCreation(n,r),trigger(n,{isEnd:!1})}function driftPolygon(g,n,r,$){var L=n.__brushOption.range,V=toLocalDelta(g,r,$);each$f(L,function(oe){oe[0]+=V[0],oe[1]+=V[1]}),updateCoverAfterCreation(g,n),trigger(g,{isEnd:!1})}function toLocalDelta(g,n,r){var $=g.group,L=$.transformCoordToLocal(n,r),V=$.transformCoordToLocal(0,0);return[L[0]-V[0],L[1]-V[1]]}function clipByPanel(g,n,r){var $=getPanelByCover(g,n);return $&&$!==BRUSH_PANEL_GLOBAL?$.clipPath(r,g._transform):clone$4(r)}function pointsToRect(g){var n=mathMin$1(g[0][0],g[1][0]),r=mathMin$1(g[0][1],g[1][1]),$=mathMax$1(g[0][0],g[1][0]),L=mathMax$1(g[0][1],g[1][1]);return{x:n,y:r,width:$-n,height:L-r}}function resetCursor(g,n,r){if(!(!g._brushType||isOutsideZrArea(g,n.offsetX,n.offsetY))){var $=g._zr,L=g._covers,V=getPanelByPoint(g,n,r);if(!g._dragging)for(var oe=0;oe<L.length;oe++){var ae=L[oe].__brushOption;if(V&&(V===BRUSH_PANEL_GLOBAL||ae.panelId===V.panelId)&&coverRenderers[ae.brushType].contain(L[oe],r[0],r[1]))return}V&&$.setCursorStyle("crosshair")}}function preventDefault(g){var n=g.event;n.preventDefault&&n.preventDefault()}function mainShapeContain(g,n,r){return g.childOfName("main").contain(n,r)}function updateCoverByMouse(g,n,r,$){var L=g._creatingCover,V=g._creatingPanel,oe=g._brushOption,ae;if(g._track.push(r.slice()),shouldShowCover(g)||L){if(V&&!L){oe.brushMode==="single"&&clearCovers(g);var re=clone$4(oe);re.brushType=determineBrushType(re.brushType,V),re.panelId=V===BRUSH_PANEL_GLOBAL?null:V.panelId,L=g._creatingCover=createCover(g,re),g._covers.push(L)}if(L){var le=coverRenderers[determineBrushType(g._brushType,V)],ue=L.__brushOption;ue.range=le.getCreatingRange(clipByPanel(g,L,g._track)),$&&(endCreating(g,L),le.updateCommon(g,L)),updateCoverShape(g,L),ae={isEnd:$}}}else $&&oe.brushMode==="single"&&oe.removeOnClick&&getPanelByPoint(g,n,r)&&clearCovers(g)&&(ae={isEnd:$,removeOnClick:!0});return ae}function determineBrushType(g,n){return g==="auto"?n.defaultBrushType:g}var pointerHandlers={mousedown:function(g){if(this._dragging)handleDragEnd(this,g);else if(!g.target||!g.target.draggable){preventDefault(g);var n=this.group.transformCoordToLocal(g.offsetX,g.offsetY);this._creatingCover=null;var r=this._creatingPanel=getPanelByPoint(this,g,n);r&&(this._dragging=!0,this._track=[n.slice()])}},mousemove:function(g){var n=g.offsetX,r=g.offsetY,$=this.group.transformCoordToLocal(n,r);if(resetCursor(this,g,$),this._dragging){preventDefault(g);var L=updateCoverByMouse(this,g,$,!1);L&&trigger(this,L)}},mouseup:function(g){handleDragEnd(this,g)}};function handleDragEnd(g,n){if(g._dragging){preventDefault(n);var r=n.offsetX,$=n.offsetY,L=g.group.transformCoordToLocal(r,$),V=updateCoverByMouse(g,n,L,!0);g._dragging=!1,g._track=[],g._creatingCover=null,V&&trigger(g,V)}}function isOutsideZrArea(g,n,r){var $=g._zr;return n<0||n>$.getWidth()||r<0||r>$.getHeight()}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(g,n){function r($){return $}return createBaseRectCover({toRectRange:r,fromRectRange:r},g,n,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(g){var n=getTrackEnds(g);return formatRectRange(n[1][0],n[1][1],n[0][0],n[0][1])},updateCoverShape:function(g,n,r,$){updateBaseRect(g,n,r,$)},updateCommon:updateCommon$1,contain:mainShapeContain},polygon:{createCover:function(g,n){var r=new Group$4;return r.add(new Polyline$3({name:"main",style:makeStyle(n),silent:!0})),r},getCreatingRange:function(g){return g},endCreating:function(g,n){n.remove(n.childAt(0)),n.add(new Polygon$1({name:"main",draggable:!0,drift:curry$1(driftPolygon,g,n),ondragend:curry$1(trigger,g,{isEnd:!0})}))},updateCoverShape:function(g,n,r,$){n.childAt(0).setShape({points:clipByPanel(g,n,r)})},updateCommon:updateCommon$1,contain:mainShapeContain}};function getLineRenderer(g){return{createCover:function(n,r){return createBaseRectCover({toRectRange:function($){var L=[$,[0,100]];return g&&L.reverse(),L},fromRectRange:function($){return $[g]}},n,r,[[["w"],["e"]],[["n"],["s"]]][g])},getCreatingRange:function(n){var r=getTrackEnds(n),$=mathMin$1(r[0][g],r[1][g]),L=mathMax$1(r[0][g],r[1][g]);return[$,L]},updateCoverShape:function(n,r,$,L){var V,oe=getPanelByCover(n,r);if(oe!==BRUSH_PANEL_GLOBAL&&oe.getLinearBrushOtherExtent)V=oe.getLinearBrushOtherExtent(g);else{var ae=n._zr;V=[0,[ae.getWidth(),ae.getHeight()][1-g]]}var re=[$,V];g&&re.reverse(),updateBaseRect(n,r,re,L)},updateCommon:updateCommon$1,contain:mainShapeContain}}const BrushController$1=BrushController;function makeRectPanelClipPath(g){return g=normalizeRect(g),function(n){return clipPointsByRect(n,g)}}function makeLinearBrushOtherExtent(g,n){return g=normalizeRect(g),function(r){var $=n!=null?n:r,L=$?g.width:g.height,V=$?g.x:g.y;return[V,V+(L||0)]}}function makeRectIsTargetByCursor(g,n,r){var $=normalizeRect(g);return function(L,V){return $.contain(V[0],V[1])&&!onIrrelevantElement(L,n,r)}}function normalizeRect(g){return BoundingRect$1.create(g)}var elementList$1=["axisLine","axisTickLabel","axisName"],ParallelAxisView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$){g.prototype.init.apply(this,arguments),(this._brushController=new BrushController$1($.getZr())).on("brush",bind$2(this._onBrush,this))},n.prototype.render=function(r,$,L,V){if(!fromAxisAreaSelect(r,$,V)){this.axisModel=r,this.api=L,this.group.removeAll();var oe=this._axisGroup;if(this._axisGroup=new Group$4,this.group.add(this._axisGroup),!!r.get("show")){var ae=getCoordSysModel(r,$),re=ae.coordinateSystem,le=r.getAreaSelectStyle(),ue=le.width,de=r.axis.dim,he=re.getAxisLayout(de),pe=extend$1({strokeContainThreshold:ue},he),_e=new AxisBuilder$1(r,pe);each$f(elementList$1,_e.add,_e),this._axisGroup.add(_e.getGroup()),this._refreshBrushController(pe,le,r,ae,ue,L),groupTransition(oe,this._axisGroup,r)}}},n.prototype._refreshBrushController=function(r,$,L,V,oe,ae){var re=L.axis.getExtent(),le=re[1]-re[0],ue=Math.min(30,Math.abs(le)*.1),de=BoundingRect$1.create({x:re[0],y:-oe/2,width:le,height:oe});de.x-=ue,de.width+=2*ue,this._brushController.mount({enableGlobalPan:!0,rotation:r.rotation,x:r.position[0],y:r.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(de),isTargetByCursor:makeRectIsTargetByCursor(de,ae,V),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(de,0)}]).enableBrush({brushType:"lineX",brushStyle:$,removeOnClick:!0}).updateCovers(getCoverInfoList(L))},n.prototype._onBrush=function(r){var $=r.areas,L=this.axisModel,V=L.axis,oe=map$1($,function(ae){return[V.coordToData(ae.range[0],!0),V.coordToData(ae.range[1],!0)]});(!L.option.realtime===r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:L.id,intervals:oe})},n.prototype.dispose=function(){this._brushController.dispose()},n.type="parallelAxis",n}(ComponentView$1);function fromAxisAreaSelect(g,n,r){return r&&r.type==="axisAreaSelect"&&n.findComponents({mainType:"parallelAxis",query:r})[0]===g}function getCoverInfoList(g){var n=g.axis;return map$1(g.activeIntervals,function(r){return{brushType:"lineX",panelId:"pl",range:[n.dataToCoord(r[0],!0),n.dataToCoord(r[1],!0)]}})}function getCoordSysModel(g,n){return n.getComponent("parallel",g.get("parallelIndex"))}const ParallelAxisView$1=ParallelAxisView;var actionInfo={type:"axisAreaSelect",event:"axisAreaSelected"};function installParallelActions(g){g.registerAction(actionInfo,function(n,r){r.eachComponent({mainType:"parallelAxis",query:n},function($){$.axis.model.setActiveIntervals(n.intervals)})}),g.registerAction("parallelAxisExpand",function(n,r){r.eachComponent({mainType:"parallel",query:n},function($){$.setAxisExpand(n)})})}var defaultAxisOption={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function install$D(g){g.registerComponentView(ParallelView$1),g.registerComponentModel(ParallelModel$1),g.registerCoordinateSystem("parallel",parallelCoordSysCreator$1),g.registerPreprocessor(parallelPreprocessor),g.registerComponentModel(ParallelAxisModel$1),g.registerComponentView(ParallelAxisView$1),axisModelCreator(g,"parallel",ParallelAxisModel$1,defaultAxisOption),installParallelActions(g)}function install$C(g){use(install$D),g.registerChartView(ParallelView$3),g.registerSeriesModel(ParallelSeriesModel$1),g.registerVisual(g.PRIORITY.VISUAL.BRUSH,parallelVisual$1)}var SankeyPathShape=function(){function g(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return g}(),SankeyPath=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new SankeyPathShape},n.prototype.buildPath=function(r,$){var L=$.extent;r.moveTo($.x1,$.y1),r.bezierCurveTo($.cpx1,$.cpy1,$.cpx2,$.cpy2,$.x2,$.y2),$.orient==="vertical"?(r.lineTo($.x2+L,$.y2),r.bezierCurveTo($.cpx2+L,$.cpy2,$.cpx1+L,$.cpy1,$.x1+L,$.y1)):(r.lineTo($.x2,$.y2+L),r.bezierCurveTo($.cpx2,$.cpy2+L,$.cpx1,$.cpy1+L,$.x1,$.y1+L)),r.closePath()},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n}(Path$1),SankeyView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._focusAdjacencyDisabled=!1,r}return n.prototype.render=function(r,$,L){var V=this,oe=r.getGraph(),ae=this.group,re=r.layoutInfo,le=re.width,ue=re.height,de=r.getData(),he=r.getData("edge"),pe=r.get("orient");this._model=r,ae.removeAll(),ae.x=re.x,ae.y=re.y,oe.eachEdge(function(_e){var $e=new SankeyPath,xe=getECData($e);xe.dataIndex=_e.dataIndex,xe.seriesIndex=r.seriesIndex,xe.dataType="edge";var Oe=_e.getModel(),Ce=Oe.getModel("lineStyle"),Ie=Ce.get("curveness"),Ne=_e.node1.getLayout(),ze=_e.node1.getModel(),Fe=ze.get("localX"),Ue=ze.get("localY"),At=_e.node2.getLayout(),Et=_e.node2.getModel(),Pt=Et.get("localX"),kt=Et.get("localY"),Dt=_e.getLayout(),Lt,hn,vn,_n,$n,Sn,xn,On;switch($e.shape.extent=Math.max(1,Dt.dy),$e.shape.orient=pe,pe==="vertical"?(Lt=(Fe!=null?Fe*le:Ne.x)+Dt.sy,hn=(Ue!=null?Ue*ue:Ne.y)+Ne.dy,vn=(Pt!=null?Pt*le:At.x)+Dt.ty,_n=kt!=null?kt*ue:At.y,$n=Lt,Sn=hn*(1-Ie)+_n*Ie,xn=vn,On=hn*Ie+_n*(1-Ie)):(Lt=(Fe!=null?Fe*le:Ne.x)+Ne.dx,hn=(Ue!=null?Ue*ue:Ne.y)+Dt.sy,vn=Pt!=null?Pt*le:At.x,_n=(kt!=null?kt*ue:At.y)+Dt.ty,$n=Lt*(1-Ie)+vn*Ie,Sn=hn,xn=Lt*Ie+vn*(1-Ie),On=_n),$e.setShape({x1:Lt,y1:hn,x2:vn,y2:_n,cpx1:$n,cpy1:Sn,cpx2:xn,cpy2:On}),$e.useStyle(Ce.getItemStyle()),$e.style.fill){case"source":$e.style.fill=_e.node1.getVisual("color"),$e.style.decal=_e.node1.getVisual("style").decal;break;case"target":$e.style.fill=_e.node2.getVisual("color"),$e.style.decal=_e.node2.getVisual("style").decal;break;case"gradient":var Cn=_e.node1.getVisual("color"),An=_e.node2.getVisual("color");isString$1(Cn)&&isString$1(An)&&($e.style.fill=new LinearGradient$1(0,0,+(pe==="horizontal"),+(pe==="vertical"),[{color:Cn,offset:0},{color:An,offset:1}]))}setLabelStyle($e,getLabelStatesModels(Oe,"edgeLabel"),{labelFetcher:r,labelDataIndex:_e.dataIndex,defaultText:""+Oe.get("value")}),$e.setTextConfig({position:"inside"});var Rn=Oe.getModel("emphasis");setStatesStylesFromModel($e,Oe,"lineStyle",function(Pn){return Pn.getItemStyle()}),ae.add($e),he.setItemGraphicEl(_e.dataIndex,$e);var Fn=Rn.get("focus");toggleHoverEmphasis($e,Fn==="adjacency"?_e.getAdjacentDataIndices():Fn,Rn.get("blurScope"),Rn.get("disabled")),getECData($e).dataType="edge"}),oe.eachNode(function(_e){var $e=_e.getLayout(),xe=_e.getModel(),Oe=xe.get("localX"),Ce=xe.get("localY"),Ie=xe.getModel("emphasis"),Ne=new Rect$3({shape:{x:Oe!=null?Oe*le:$e.x,y:Ce!=null?Ce*ue:$e.y,width:$e.dx,height:$e.dy},style:xe.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(Ne,getLabelStatesModels(xe),{labelFetcher:r,labelDataIndex:_e.dataIndex,defaultText:_e.id}),Ne.disableLabelAnimation=!0,Ne.setStyle("fill",_e.getVisual("color")),Ne.setStyle("decal",_e.getVisual("style").decal),setStatesStylesFromModel(Ne,xe),ae.add(Ne),de.setItemGraphicEl(_e.dataIndex,Ne),getECData(Ne).dataType="node";var ze=Ie.get("focus");toggleHoverEmphasis(Ne,ze==="adjacency"?_e.getAdjacentDataIndices():ze,Ie.get("blurScope"),Ie.get("disabled"))}),de.eachItemGraphicEl(function(_e,$e){var xe=de.getItemModel($e);xe.get("draggable")&&(_e.drift=function(Oe,Ce){V._focusAdjacencyDisabled=!0,this.shape.x+=Oe,this.shape.y+=Ce,this.dirty(),L.dispatchAction({type:"dragNode",seriesId:r.id,dataIndex:de.getRawIndex($e),localX:this.shape.x/le,localY:this.shape.y/ue})},_e.ondragend=function(){V._focusAdjacencyDisabled=!1},_e.draggable=!0,_e.cursor="move")}),!this._data&&r.isAnimationEnabled()&&ae.setClipPath(createGridClipShape$1(ae.getBoundingRect(),r,function(){ae.removeClipPath()})),this._data=r.getData()},n.prototype.dispose=function(){},n.type="sankey",n}(ChartView$1);function createGridClipShape$1(g,n,r){var $=new Rect$3({shape:{x:g.x-10,y:g.y-10,width:0,height:g.height+20}});return initProps($,{shape:{width:g.width+20}},n,r),$}const SankeyView$1=SankeyView;var SankeySeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(r,$){var L=r.edges||r.links,V=r.data||r.nodes,oe=r.levels;this.levelModels=[];for(var ae=this.levelModels,re=0;re<oe.length;re++)oe[re].depth!=null&&oe[re].depth>=0&&(ae[oe[re].depth]=new Model$1(oe[re],this,$));if(V&&L){var le=createGraphFromNodeEdge(V,L,this,!0,ue);return le.data}function ue(de,he){de.wrapMethod("getItemModel",function(pe,_e){var $e=pe.parentModel,xe=$e.getData().getItemLayout(_e);if(xe){var Oe=xe.depth,Ce=$e.levelModels[Oe];Ce&&(pe.parentModel=Ce)}return pe}),he.wrapMethod("getItemModel",function(pe,_e){var $e=pe.parentModel,xe=$e.getGraph().getEdgeByIndex(_e),Oe=xe.node1.getLayout();if(Oe){var Ce=Oe.depth,Ie=$e.levelModels[Ce];Ie&&(pe.parentModel=Ie)}return pe})}},n.prototype.setNodePosition=function(r,$){var L=this.option.data||this.option.nodes,V=L[r];V.localX=$[0],V.localY=$[1]},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.formatTooltip=function(r,$,L){function V(pe){return isNaN(pe)||pe==null}if(L==="edge"){var oe=this.getDataParams(r,L),ae=oe.data,re=oe.value,le=ae.source+" -- "+ae.target;return createTooltipMarkup("nameValue",{name:le,value:re,noValue:V(re)})}else{var ue=this.getGraph().getNodeByIndex(r),de=ue.getLayout().value,he=this.getDataParams(r,L).data.name;return createTooltipMarkup("nameValue",{name:he!=null?he+"":null,value:de,noValue:V(de)})}},n.prototype.optionUpdated=function(){},n.prototype.getDataParams=function(r,$){var L=g.prototype.getDataParams.call(this,r,$);if(L.value==null&&$==="node"){var V=this.getGraph().getNodeByIndex(r),oe=V.getLayout().value;L.value=oe}return L},n.type="series.sankey",n.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},n}(SeriesModel$1);const SankeySeriesModel$1=SankeySeriesModel;function sankeyLayout(g,n){g.eachSeriesByType("sankey",function(r){var $=r.get("nodeWidth"),L=r.get("nodeGap"),V=getViewRect$1(r,n);r.layoutInfo=V;var oe=V.width,ae=V.height,re=r.getGraph(),le=re.nodes,ue=re.edges;computeNodeValues(le);var de=filter(le,function($e){return $e.getLayout().value===0}),he=de.length!==0?0:r.get("layoutIterations"),pe=r.get("orient"),_e=r.get("nodeAlign");layoutSankey(le,ue,$,L,oe,ae,he,pe,_e)})}function getViewRect$1(g,n){return getLayoutRect(g.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function layoutSankey(g,n,r,$,L,V,oe,ae,re){computeNodeBreadths(g,n,r,L,V,ae,re),computeNodeDepths(g,n,V,L,$,oe,ae),computeEdgeDepths(g,ae)}function computeNodeValues(g){each$f(g,function(n){var r=sum(n.outEdges,getEdgeValue),$=sum(n.inEdges,getEdgeValue),L=n.getValue()||0,V=Math.max(r,$,L);n.setLayout({value:V},!0)})}function computeNodeBreadths(g,n,r,$,L,V,oe){for(var ae=[],re=[],le=[],ue=[],de=0,he=0;he<n.length;he++)ae[he]=1;for(var he=0;he<g.length;he++)re[he]=g[he].inEdges.length,re[he]===0&&le.push(g[he]);for(var pe=-1;le.length;){for(var _e=0;_e<le.length;_e++){var $e=le[_e],xe=$e.hostGraph.data.getRawDataItem($e.dataIndex),Oe=xe.depth!=null&&xe.depth>=0;Oe&&xe.depth>pe&&(pe=xe.depth),$e.setLayout({depth:Oe?xe.depth:de},!0),V==="vertical"?$e.setLayout({dy:r},!0):$e.setLayout({dx:r},!0);for(var Ce=0;Ce<$e.outEdges.length;Ce++){var Ie=$e.outEdges[Ce],Ne=n.indexOf(Ie);ae[Ne]=0;var ze=Ie.node2,Fe=g.indexOf(ze);--re[Fe]===0&&ue.indexOf(ze)<0&&ue.push(ze)}}++de,le=ue,ue=[]}for(var he=0;he<ae.length;he++)if(ae[he]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var Ue=pe>de-1?pe:de-1;oe&&oe!=="left"&&adjustNodeWithNodeAlign(g,oe,V,Ue);var At=V==="vertical"?(L-r)/Ue:($-r)/Ue;scaleNodeBreadths(g,At,V)}function isNodeDepth(g){var n=g.hostGraph.data.getRawDataItem(g.dataIndex);return n.depth!=null&&n.depth>=0}function adjustNodeWithNodeAlign(g,n,r,$){if(n==="right"){for(var L=[],V=g,oe=0;V.length;){for(var ae=0;ae<V.length;ae++){var re=V[ae];re.setLayout({skNodeHeight:oe},!0);for(var le=0;le<re.inEdges.length;le++){var ue=re.inEdges[le];L.indexOf(ue.node1)<0&&L.push(ue.node1)}}V=L,L=[],++oe}each$f(g,function(de){isNodeDepth(de)||de.setLayout({depth:Math.max(0,$-de.getLayout().skNodeHeight)},!0)})}else n==="justify"&&moveSinksRight(g,$)}function moveSinksRight(g,n){each$f(g,function(r){!isNodeDepth(r)&&!r.outEdges.length&&r.setLayout({depth:n},!0)})}function scaleNodeBreadths(g,n,r){each$f(g,function($){var L=$.getLayout().depth*n;r==="vertical"?$.setLayout({y:L},!0):$.setLayout({x:L},!0)})}function computeNodeDepths(g,n,r,$,L,V,oe){var ae=prepareNodesByBreadth(g,oe);initializeNodeDepth(ae,n,r,$,L,oe),resolveCollisions(ae,L,r,$,oe);for(var re=1;V>0;V--)re*=.99,relaxRightToLeft(ae,re,oe),resolveCollisions(ae,L,r,$,oe),relaxLeftToRight(ae,re,oe),resolveCollisions(ae,L,r,$,oe)}function prepareNodesByBreadth(g,n){var r=[],$=n==="vertical"?"y":"x",L=groupData(g,function(V){return V.getLayout()[$]});return L.keys.sort(function(V,oe){return V-oe}),each$f(L.keys,function(V){r.push(L.buckets.get(V))}),r}function initializeNodeDepth(g,n,r,$,L,V){var oe=1/0;each$f(g,function(ae){var re=ae.length,le=0;each$f(ae,function(de){le+=de.getLayout().value});var ue=V==="vertical"?($-(re-1)*L)/le:(r-(re-1)*L)/le;ue<oe&&(oe=ue)}),each$f(g,function(ae){each$f(ae,function(re,le){var ue=re.getLayout().value*oe;V==="vertical"?(re.setLayout({x:le},!0),re.setLayout({dx:ue},!0)):(re.setLayout({y:le},!0),re.setLayout({dy:ue},!0))})}),each$f(n,function(ae){var re=+ae.getValue()*oe;ae.setLayout({dy:re},!0)})}function resolveCollisions(g,n,r,$,L){var V=L==="vertical"?"x":"y";each$f(g,function(oe){oe.sort(function($e,xe){return $e.getLayout()[V]-xe.getLayout()[V]});for(var ae,re,le,ue=0,de=oe.length,he=L==="vertical"?"dx":"dy",pe=0;pe<de;pe++)re=oe[pe],le=ue-re.getLayout()[V],le>0&&(ae=re.getLayout()[V]+le,L==="vertical"?re.setLayout({x:ae},!0):re.setLayout({y:ae},!0)),ue=re.getLayout()[V]+re.getLayout()[he]+n;var _e=L==="vertical"?$:r;if(le=ue-n-_e,le>0){ae=re.getLayout()[V]-le,L==="vertical"?re.setLayout({x:ae},!0):re.setLayout({y:ae},!0),ue=ae;for(var pe=de-2;pe>=0;--pe)re=oe[pe],le=re.getLayout()[V]+re.getLayout()[he]+n-ue,le>0&&(ae=re.getLayout()[V]-le,L==="vertical"?re.setLayout({x:ae},!0):re.setLayout({y:ae},!0)),ue=re.getLayout()[V]}})}function relaxRightToLeft(g,n,r){each$f(g.slice().reverse(),function($){each$f($,function(L){if(L.outEdges.length){var V=sum(L.outEdges,weightedTarget,r)/sum(L.outEdges,getEdgeValue);if(isNaN(V)){var oe=L.outEdges.length;V=oe?sum(L.outEdges,centerTarget,r)/oe:0}if(r==="vertical"){var ae=L.getLayout().x+(V-center(L,r))*n;L.setLayout({x:ae},!0)}else{var re=L.getLayout().y+(V-center(L,r))*n;L.setLayout({y:re},!0)}}})})}function weightedTarget(g,n){return center(g.node2,n)*g.getValue()}function centerTarget(g,n){return center(g.node2,n)}function weightedSource(g,n){return center(g.node1,n)*g.getValue()}function centerSource(g,n){return center(g.node1,n)}function center(g,n){return n==="vertical"?g.getLayout().x+g.getLayout().dx/2:g.getLayout().y+g.getLayout().dy/2}function getEdgeValue(g){return g.getValue()}function sum(g,n,r){for(var $=0,L=g.length,V=-1;++V<L;){var oe=+n(g[V],r);isNaN(oe)||($+=oe)}return $}function relaxLeftToRight(g,n,r){each$f(g,function($){each$f($,function(L){if(L.inEdges.length){var V=sum(L.inEdges,weightedSource,r)/sum(L.inEdges,getEdgeValue);if(isNaN(V)){var oe=L.inEdges.length;V=oe?sum(L.inEdges,centerSource,r)/oe:0}if(r==="vertical"){var ae=L.getLayout().x+(V-center(L,r))*n;L.setLayout({x:ae},!0)}else{var re=L.getLayout().y+(V-center(L,r))*n;L.setLayout({y:re},!0)}}})})}function computeEdgeDepths(g,n){var r=n==="vertical"?"x":"y";each$f(g,function($){$.outEdges.sort(function(L,V){return L.node2.getLayout()[r]-V.node2.getLayout()[r]}),$.inEdges.sort(function(L,V){return L.node1.getLayout()[r]-V.node1.getLayout()[r]})}),each$f(g,function($){var L=0,V=0;each$f($.outEdges,function(oe){oe.setLayout({sy:L},!0),L+=oe.getLayout().dy}),each$f($.inEdges,function(oe){oe.setLayout({ty:V},!0),V+=oe.getLayout().dy})})}function sankeyVisual(g){g.eachSeriesByType("sankey",function(n){var r=n.getGraph(),$=r.nodes,L=r.edges;if($.length){var V=1/0,oe=-1/0;each$f($,function(ae){var re=ae.getLayout().value;re<V&&(V=re),re>oe&&(oe=re)}),each$f($,function(ae){var re=new VisualMapping$1({type:"color",mappingMethod:"linear",dataExtent:[V,oe],visual:n.get("color")}),le=re.mapValueToVisual(ae.getLayout().value),ue=ae.getModel().get(["itemStyle","color"]);ue!=null?(ae.setVisual("color",ue),ae.setVisual("style",{fill:ue})):(ae.setVisual("color",le),ae.setVisual("style",{fill:le}))})}L.length&&each$f(L,function(ae){var re=ae.getModel().get("lineStyle");ae.setVisual("style",re)})})}function install$B(g){g.registerChartView(SankeyView$1),g.registerSeriesModel(SankeySeriesModel$1),g.registerLayout(sankeyLayout),g.registerVisual(sankeyVisual),g.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(n,r){r.eachComponent({mainType:"series",subType:"sankey",query:n},function($){$.setNodePosition(n.dataIndex,[n.localX,n.localY])})})}var WhiskerBoxCommonMixin=function(){function g(){}return g.prototype.getInitialData=function(n,r){var $,L=r.getComponent("xAxis",this.get("xAxisIndex")),V=r.getComponent("yAxis",this.get("yAxisIndex")),oe=L.get("type"),ae=V.get("type"),re;oe==="category"?(n.layout="horizontal",$=L.getOrdinalMeta(),re=!0):ae==="category"?(n.layout="vertical",$=V.getOrdinalMeta(),re=!0):n.layout=n.layout||"horizontal";var le=["x","y"],ue=n.layout==="horizontal"?0:1,de=this._baseAxisDim=le[ue],he=le[1-ue],pe=[L,V],_e=pe[ue].get("type"),$e=pe[1-ue].get("type"),xe=n.data;if(xe&&re){var Oe=[];each$f(xe,function(Ne,ze){var Fe;isArray$2(Ne)?(Fe=Ne.slice(),Ne.unshift(ze)):isArray$2(Ne.value)?(Fe=extend$1({},Ne),Fe.value=Fe.value.slice(),Ne.value.unshift(ze)):Fe=Ne,Oe.push(Fe)}),n.data=Oe}var Ce=this.defaultValueDimensions,Ie=[{name:de,type:getDimensionTypeByAxis(_e),ordinalMeta:$,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:he,type:getDimensionTypeByAxis($e),dimsDef:Ce.slice()}];return createSeriesDataSimply(this,{coordDimensions:Ie,dimensionsCount:Ce.length+1,encodeDefaulter:curry$1(makeSeriesEncodeForAxisCoordSys,Ie,this)})},g.prototype.getBaseAxis=function(){var n=this._baseAxisDim;return this.ecModel.getComponent(n+"Axis",this.get(n+"AxisIndex")).axis},g}(),BoxplotSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],r.visualDrawType="stroke",r}return n.type="series.boxplot",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},n}(SeriesModel$1);mixin(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);const BoxplotSeriesModel$1=BoxplotSeriesModel;var BoxplotView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=r.getData(),oe=this.group,ae=this._data;this._data||oe.removeAll();var re=r.get("layout")==="horizontal"?1:0;V.diff(ae).add(function(le){if(V.hasValue(le)){var ue=V.getItemLayout(le),de=createNormalBox$1(ue,V,le,re,!0);V.setItemGraphicEl(le,de),oe.add(de)}}).update(function(le,ue){var de=ae.getItemGraphicEl(ue);if(!V.hasValue(le)){oe.remove(de);return}var he=V.getItemLayout(le);de?(saveOldStyle(de),updateNormalBoxData(he,de,V,le)):de=createNormalBox$1(he,V,le,re),oe.add(de),V.setItemGraphicEl(le,de)}).remove(function(le){var ue=ae.getItemGraphicEl(le);ue&&oe.remove(ue)}).execute(),this._data=V},n.prototype.remove=function(r){var $=this.group,L=this._data;this._data=null,L&&L.eachItemGraphicEl(function(V){V&&$.remove(V)})},n.type="boxplot",n}(ChartView$1),BoxPathShape=function(){function g(){}return g}(),BoxPath=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="boxplotBoxPath",$}return n.prototype.getDefaultShape=function(){return new BoxPathShape},n.prototype.buildPath=function(r,$){var L=$.points,V=0;for(r.moveTo(L[V][0],L[V][1]),V++;V<4;V++)r.lineTo(L[V][0],L[V][1]);for(r.closePath();V<L.length;V++)r.moveTo(L[V][0],L[V][1]),V++,r.lineTo(L[V][0],L[V][1])},n}(Path$1);function createNormalBox$1(g,n,r,$,L){var V=g.ends,oe=new BoxPath({shape:{points:L?transInit$1(V,$,g):V}});return updateNormalBoxData(g,oe,n,r,L),oe}function updateNormalBoxData(g,n,r,$,L){var V=r.hostModel,oe=graphic[L?"initProps":"updateProps"];oe(n,{shape:{points:g.ends}},V,$),n.useStyle(r.getItemVisual($,"style")),n.style.strokeNoScale=!0,n.z2=100;var ae=r.getItemModel($),re=ae.getModel("emphasis");setStatesStylesFromModel(n,ae),toggleHoverEmphasis(n,re.get("focus"),re.get("blurScope"),re.get("disabled"))}function transInit$1(g,n,r){return map$1(g,function($){return $=$.slice(),$[n]=r.initBaseline,$})}const BoxplotView$1=BoxplotView;var each$9=each$f;function boxplotLayout(g){var n=groupSeriesByAxis(g);each$9(n,function(r){var $=r.seriesModels;!$.length||(calculateBase(r),each$9($,function(L,V){layoutSingleSeries(L,r.boxOffsetList[V],r.boxWidthList[V])}))})}function groupSeriesByAxis(g){var n=[],r=[];return g.eachSeriesByType("boxplot",function($){var L=$.getBaseAxis(),V=indexOf(r,L);V<0&&(V=r.length,r[V]=L,n[V]={axis:L,seriesModels:[]}),n[V].seriesModels.push($)}),n}function calculateBase(g){var n=g.axis,r=g.seriesModels,$=r.length,L=g.boxWidthList=[],V=g.boxOffsetList=[],oe=[],ae;if(n.type==="category")ae=n.getBandWidth();else{var re=0;each$9(r,function(_e){re=Math.max(re,_e.getData().count())});var le=n.getExtent();ae=Math.abs(le[1]-le[0])/re}each$9(r,function(_e){var $e=_e.get("boxWidth");isArray$2($e)||($e=[$e,$e]),oe.push([parsePercent($e[0],ae)||0,parsePercent($e[1],ae)||0])});var ue=ae*.8-2,de=ue/$*.3,he=(ue-de*($-1))/$,pe=he/2-ue/2;each$9(r,function(_e,$e){V.push(pe),pe+=de+he,L.push(Math.min(Math.max(he,oe[$e][0]),oe[$e][1]))})}function layoutSingleSeries(g,n,r){var $=g.coordinateSystem,L=g.getData(),V=r/2,oe=g.get("layout")==="horizontal"?0:1,ae=1-oe,re=["x","y"],le=L.mapDimension(re[oe]),ue=L.mapDimensionsAll(re[ae]);if(le==null||ue.length<5)return;for(var de=0;de<L.count();de++){var he=L.get(le,de),pe=Ie(he,ue[2],de),_e=Ie(he,ue[0],de),$e=Ie(he,ue[1],de),xe=Ie(he,ue[3],de),Oe=Ie(he,ue[4],de),Ce=[];Ne(Ce,$e,!1),Ne(Ce,xe,!0),Ce.push(_e,$e,Oe,xe),ze(Ce,_e),ze(Ce,Oe),ze(Ce,pe),L.setItemLayout(de,{initBaseline:pe[ae],ends:Ce})}function Ie(Fe,Ue,At){var Et=L.get(Ue,At),Pt=[];Pt[oe]=Fe,Pt[ae]=Et;var kt;return isNaN(Fe)||isNaN(Et)?kt=[NaN,NaN]:(kt=$.dataToPoint(Pt),kt[oe]+=n),kt}function Ne(Fe,Ue,At){var Et=Ue.slice(),Pt=Ue.slice();Et[oe]+=V,Pt[oe]-=V,At?Fe.push(Et,Pt):Fe.push(Pt,Et)}function ze(Fe,Ue){var At=Ue.slice(),Et=Ue.slice();At[oe]-=V,Et[oe]+=V,Fe.push(At,Et)}}function prepareBoxplotData(g,n){n=n||{};for(var r=[],$=[],L=n.boundIQR,V=L==="none"||L===0,oe=0;oe<g.length;oe++){var ae=asc$2(g[oe].slice()),re=quantile(ae,.25),le=quantile(ae,.5),ue=quantile(ae,.75),de=ae[0],he=ae[ae.length-1],pe=(L!=null?L:1.5)*(ue-re),_e=V?de:Math.max(de,re-pe),$e=V?he:Math.min(he,ue+pe),xe=n.itemNameFormatter,Oe=isFunction$1(xe)?xe({value:oe}):isString$1(xe)?xe.replace("{value}",oe+""):oe+"";r.push([Oe,_e,re,le,ue,$e]);for(var Ce=0;Ce<ae.length;Ce++){var Ie=ae[Ce];if(Ie<_e||Ie>$e){var Ne=[Oe,Ie];$.push(Ne)}}}return{boxData:r,outliers:$}}var boxplotTransform={type:"echarts:boxplot",transform:function(g){var n=g.upstream;if(n.sourceFormat!==SOURCE_FORMAT_ARRAY_ROWS){var r="";throwError(r)}var $=prepareBoxplotData(n.getRawData(),g.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:$.boxData},{data:$.outliers}]}};function install$A(g){g.registerSeriesModel(BoxplotSeriesModel$1),g.registerChartView(BoxplotView$1),g.registerLayout(boxplotLayout),g.registerTransform(boxplotTransform)}var SKIP_PROPS=["color","borderColor"],CandlestickView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(r),this._isLargeDraw?this._renderLarge(r):this._renderNormal(r)},n.prototype.incrementalPrepareRender=function(r,$,L){this._clear(),this._updateDrawMode(r)},n.prototype.incrementalRender=function(r,$,L,V){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(r,$):this._incrementalRenderNormal(r,$)},n.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},n.prototype._updateDrawMode=function(r){var $=r.pipelineContext.large;(this._isLargeDraw==null||$!==this._isLargeDraw)&&(this._isLargeDraw=$,this._clear())},n.prototype._renderNormal=function(r){var $=r.getData(),L=this._data,V=this.group,oe=$.getLayout("isSimpleBox"),ae=r.get("clip",!0),re=r.coordinateSystem,le=re.getArea&&re.getArea();this._data||V.removeAll(),$.diff(L).add(function(ue){if($.hasValue(ue)){var de=$.getItemLayout(ue);if(ae&&isNormalBoxClipped(le,de))return;var he=createNormalBox(de,ue,!0);initProps(he,{shape:{points:de.ends}},r,ue),setBoxCommon(he,$,ue,oe),V.add(he),$.setItemGraphicEl(ue,he)}}).update(function(ue,de){var he=L.getItemGraphicEl(de);if(!$.hasValue(ue)){V.remove(he);return}var pe=$.getItemLayout(ue);if(ae&&isNormalBoxClipped(le,pe)){V.remove(he);return}he?(updateProps$1(he,{shape:{points:pe.ends}},r,ue),saveOldStyle(he)):he=createNormalBox(pe),setBoxCommon(he,$,ue,oe),V.add(he),$.setItemGraphicEl(ue,he)}).remove(function(ue){var de=L.getItemGraphicEl(ue);de&&V.remove(de)}).execute(),this._data=$},n.prototype._renderLarge=function(r){this._clear(),createLarge(r,this.group);var $=r.get("clip",!0)?createClipPath(r.coordinateSystem,!1,r):null;$?this.group.setClipPath($):this.group.removeClipPath()},n.prototype._incrementalRenderNormal=function(r,$){for(var L=$.getData(),V=L.getLayout("isSimpleBox"),oe;(oe=r.next())!=null;){var ae=L.getItemLayout(oe),re=createNormalBox(ae);setBoxCommon(re,L,oe,V),re.incremental=!0,this.group.add(re),this._progressiveEls.push(re)}},n.prototype._incrementalRenderLarge=function(r,$){createLarge($,this.group,this._progressiveEls,!0)},n.prototype.remove=function(r){this._clear()},n.prototype._clear=function(){this.group.removeAll(),this._data=null},n.type="candlestick",n}(ChartView$1),NormalBoxPathShape=function(){function g(){}return g}(),NormalBoxPath=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="normalCandlestickBox",$}return n.prototype.getDefaultShape=function(){return new NormalBoxPathShape},n.prototype.buildPath=function(r,$){var L=$.points;this.__simpleBox?(r.moveTo(L[4][0],L[4][1]),r.lineTo(L[6][0],L[6][1])):(r.moveTo(L[0][0],L[0][1]),r.lineTo(L[1][0],L[1][1]),r.lineTo(L[2][0],L[2][1]),r.lineTo(L[3][0],L[3][1]),r.closePath(),r.moveTo(L[4][0],L[4][1]),r.lineTo(L[5][0],L[5][1]),r.moveTo(L[6][0],L[6][1]),r.lineTo(L[7][0],L[7][1]))},n}(Path$1);function createNormalBox(g,n,r){var $=g.ends;return new NormalBoxPath({shape:{points:r?transInit($,g):$},z2:100})}function isNormalBoxClipped(g,n){for(var r=!0,$=0;$<n.ends.length;$++)if(g.contain(n.ends[$][0],n.ends[$][1])){r=!1;break}return r}function setBoxCommon(g,n,r,$){var L=n.getItemModel(r);g.useStyle(n.getItemVisual(r,"style")),g.style.strokeNoScale=!0,g.__simpleBox=$,setStatesStylesFromModel(g,L)}function transInit(g,n){return map$1(g,function(r){return r=r.slice(),r[1]=n.initBaseline,r})}var LargeBoxPathShape=function(){function g(){}return g}(),LargeBoxPath=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="largeCandlestickBox",$}return n.prototype.getDefaultShape=function(){return new LargeBoxPathShape},n.prototype.buildPath=function(r,$){for(var L=$.points,V=0;V<L.length;)if(this.__sign===L[V++]){var oe=L[V++];r.moveTo(oe,L[V++]),r.lineTo(oe,L[V++])}else V+=3},n}(Path$1);function createLarge(g,n,r,$){var L=g.getData(),V=L.getLayout("largePoints"),oe=new LargeBoxPath({shape:{points:V},__sign:1,ignoreCoarsePointer:!0});n.add(oe);var ae=new LargeBoxPath({shape:{points:V},__sign:-1,ignoreCoarsePointer:!0});n.add(ae);var re=new LargeBoxPath({shape:{points:V},__sign:0,ignoreCoarsePointer:!0});n.add(re),setLargeStyle(1,oe,g),setLargeStyle(-1,ae,g),setLargeStyle(0,re,g),$&&(oe.incremental=!0,ae.incremental=!0),r&&r.push(oe,ae)}function setLargeStyle(g,n,r,$){var L=r.get(["itemStyle",g>0?"borderColor":"borderColor0"])||r.get(["itemStyle",g>0?"color":"color0"]);g===0&&(L=r.get(["itemStyle","borderColorDoji"]));var V=r.getModel("itemStyle").getItemStyle(SKIP_PROPS);n.useStyle(V),n.style.fill=null,n.style.stroke=L}const CandlestickView$1=CandlestickView;var CandlestickSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],r}return n.prototype.getShadowDim=function(){return"open"},n.prototype.brushSelector=function(r,$,L){var V=$.getItemLayout(r);return V&&L.rect(V.brushRect)},n.type="series.candlestick",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},n}(SeriesModel$1);mixin(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);const CandlestickSeriesModel$1=CandlestickSeriesModel;function candlestickPreprocessor(g){!g||!isArray$2(g.series)||each$f(g.series,function(n){isObject$4(n)&&n.type==="k"&&(n.type="candlestick")})}var positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],dojiBorderColorQuery=["itemStyle","borderColorDoji"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"],candlestickVisual={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function(g,n){function r(V,oe){return oe.get(V>0?positiveColorQuery:negativeColorQuery)}function $(V,oe){return oe.get(V===0?dojiBorderColorQuery:V>0?positiveBorderColorQuery:negativeBorderColorQuery)}if(!n.isSeriesFiltered(g)){var L=g.pipelineContext.large;return!L&&{progress:function(V,oe){for(var ae;(ae=V.next())!=null;){var re=oe.getItemModel(ae),le=oe.getItemLayout(ae).sign,ue=re.getItemStyle();ue.fill=r(le,re),ue.stroke=$(le,re)||ue.fill;var de=oe.ensureUniqueItemVisual(ae,"style");extend$1(de,ue)}}}}}};const candlestickVisual$1=candlestickVisual;var candlestickLayout={seriesType:"candlestick",plan:createRenderPlanner(),reset:function(g){var n=g.coordinateSystem,r=g.getData(),$=calculateCandleWidth(g,r),L=0,V=1,oe=["x","y"],ae=r.getDimensionIndex(r.mapDimension(oe[L])),re=map$1(r.mapDimensionsAll(oe[V]),r.getDimensionIndex,r),le=re[0],ue=re[1],de=re[2],he=re[3];if(r.setLayout({candleWidth:$,isSimpleBox:$<=1.3}),ae<0||re.length<4)return;return{progress:g.pipelineContext.large?_e:pe};function pe($e,xe){for(var Oe,Ce=xe.getStore();(Oe=$e.next())!=null;){var Ie=Ce.get(ae,Oe),Ne=Ce.get(le,Oe),ze=Ce.get(ue,Oe),Fe=Ce.get(de,Oe),Ue=Ce.get(he,Oe),At=Math.min(Ne,ze),Et=Math.max(Ne,ze),Pt=$n(At,Ie),kt=$n(Et,Ie),Dt=$n(Fe,Ie),Lt=$n(Ue,Ie),hn=[];Sn(hn,kt,0),Sn(hn,Pt,1),hn.push(On(Lt),On(kt),On(Dt),On(Pt));var vn=xe.getItemModel(Oe),_n=!!vn.get(["itemStyle","borderColorDoji"]);xe.setItemLayout(Oe,{sign:getSign(Ce,Oe,Ne,ze,ue,_n),initBaseline:Ne>ze?kt[V]:Pt[V],ends:hn,brushRect:xn(Fe,Ue,Ie)})}function $n(Cn,An){var Rn=[];return Rn[L]=An,Rn[V]=Cn,isNaN(An)||isNaN(Cn)?[NaN,NaN]:n.dataToPoint(Rn)}function Sn(Cn,An,Rn){var Fn=An.slice(),Pn=An.slice();Fn[L]=subPixelOptimize(Fn[L]+$/2,1,!1),Pn[L]=subPixelOptimize(Pn[L]-$/2,1,!0),Rn?Cn.push(Fn,Pn):Cn.push(Pn,Fn)}function xn(Cn,An,Rn){var Fn=$n(Cn,Rn),Pn=$n(An,Rn);return Fn[L]-=$/2,Pn[L]-=$/2,{x:Fn[0],y:Fn[1],width:$,height:Pn[1]-Fn[1]}}function On(Cn){return Cn[L]=subPixelOptimize(Cn[L],1),Cn}}function _e($e,xe){for(var Oe=createFloat32Array($e.count*4),Ce=0,Ie,Ne=[],ze=[],Fe,Ue=xe.getStore(),At=!!g.get(["itemStyle","borderColorDoji"]);(Fe=$e.next())!=null;){var Et=Ue.get(ae,Fe),Pt=Ue.get(le,Fe),kt=Ue.get(ue,Fe),Dt=Ue.get(de,Fe),Lt=Ue.get(he,Fe);if(isNaN(Et)||isNaN(Dt)||isNaN(Lt)){Oe[Ce++]=NaN,Ce+=3;continue}Oe[Ce++]=getSign(Ue,Fe,Pt,kt,ue,At),Ne[L]=Et,Ne[V]=Dt,Ie=n.dataToPoint(Ne,null,ze),Oe[Ce++]=Ie?Ie[0]:NaN,Oe[Ce++]=Ie?Ie[1]:NaN,Ne[V]=Lt,Ie=n.dataToPoint(Ne,null,ze),Oe[Ce++]=Ie?Ie[1]:NaN}xe.setLayout("largePoints",Oe)}}};function getSign(g,n,r,$,L,V){var oe;return r>$?oe=-1:r<$?oe=1:oe=V?0:n>0?g.get(L,n-1)<=$?1:-1:1,oe}function calculateCandleWidth(g,n){var r=g.getBaseAxis(),$,L=r.type==="category"?r.getBandWidth():($=r.getExtent(),Math.abs($[1]-$[0])/n.count()),V=parsePercent(retrieve2(g.get("barMaxWidth"),L),L),oe=parsePercent(retrieve2(g.get("barMinWidth"),1),L),ae=g.get("barWidth");return ae!=null?parsePercent(ae,L):Math.max(Math.min(L/2,V),oe)}const candlestickLayout$1=candlestickLayout;function install$z(g){g.registerChartView(CandlestickView$1),g.registerSeriesModel(CandlestickSeriesModel$1),g.registerPreprocessor(candlestickPreprocessor),g.registerVisual(candlestickVisual$1),g.registerLayout(candlestickLayout$1)}function updateRipplePath(g,n){var r=n.rippleEffectColor||n.color;g.eachChild(function($){$.attr({z:n.z,zlevel:n.zlevel,style:{stroke:n.brushType==="stroke"?r:null,fill:n.brushType==="fill"?r:null}})})}var EffectSymbol=function(g){__extends(n,g);function n(r,$){var L=g.call(this)||this,V=new SymbolClz(r,$),oe=new Group$4;return L.add(V),L.add(oe),L.updateData(r,$),L}return n.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},n.prototype.startEffectAnimation=function(r){for(var $=r.symbolType,L=r.color,V=r.rippleNumber,oe=this.childAt(1),ae=0;ae<V;ae++){var re=createSymbol$1($,-1,-1,2,2,L);re.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var le=-ae/V*r.period+r.effectOffset;re.animate("",!0).when(r.period,{scaleX:r.rippleScale/2,scaleY:r.rippleScale/2}).delay(le).start(),re.animateStyle(!0).when(r.period,{opacity:0}).delay(le).start(),oe.add(re)}updateRipplePath(oe,r)},n.prototype.updateEffectAnimation=function(r){for(var $=this._effectCfg,L=this.childAt(1),V=["symbolType","period","rippleScale","rippleNumber"],oe=0;oe<V.length;oe++){var ae=V[oe];if($[ae]!==r[ae]){this.stopEffectAnimation(),this.startEffectAnimation(r);return}}updateRipplePath(L,r)},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n.prototype.getSymbolType=function(){var r=this.childAt(0);return r&&r.getSymbolType()},n.prototype.updateData=function(r,$){var L=this,V=r.hostModel;this.childAt(0).updateData(r,$);var oe=this.childAt(1),ae=r.getItemModel($),re=r.getItemVisual($,"symbol"),le=normalizeSymbolSize(r.getItemVisual($,"symbolSize")),ue=r.getItemVisual($,"style"),de=ue&&ue.fill,he=ae.getModel("emphasis");oe.setScale(le),oe.traverse(function(xe){xe.setStyle("fill",de)});var pe=normalizeSymbolOffset(r.getItemVisual($,"symbolOffset"),le);pe&&(oe.x=pe[0],oe.y=pe[1]);var _e=r.getItemVisual($,"symbolRotate");oe.rotation=(_e||0)*Math.PI/180||0;var $e={};$e.showEffectOn=V.get("showEffectOn"),$e.rippleScale=ae.get(["rippleEffect","scale"]),$e.brushType=ae.get(["rippleEffect","brushType"]),$e.period=ae.get(["rippleEffect","period"])*1e3,$e.effectOffset=$/r.count(),$e.z=V.getShallow("z")||0,$e.zlevel=V.getShallow("zlevel")||0,$e.symbolType=re,$e.color=de,$e.rippleEffectColor=ae.get(["rippleEffect","color"]),$e.rippleNumber=ae.get(["rippleEffect","number"]),$e.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation($e):this.startEffectAnimation($e),this._effectCfg=$e):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(xe){xe==="emphasis"?$e.showEffectOn!=="render"&&L.startEffectAnimation($e):xe==="normal"&&$e.showEffectOn!=="render"&&L.stopEffectAnimation()}),this._effectCfg=$e,toggleHoverEmphasis(this,he.get("focus"),he.get("blurScope"),he.get("disabled"))},n.prototype.fadeOut=function(r){r&&r()},n}(Group$4);const EffectSymbol$1=EffectSymbol;var EffectScatterView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this._symbolDraw=new SymbolDraw$1(EffectSymbol$1)},n.prototype.render=function(r,$,L){var V=r.getData(),oe=this._symbolDraw;oe.updateData(V,{clipShape:this._getClipShape(r)}),this.group.add(oe.group)},n.prototype._getClipShape=function(r){var $=r.coordinateSystem,L=$&&$.getArea&&$.getArea();return r.get("clip",!0)?L:null},n.prototype.updateTransform=function(r,$,L){var V=r.getData();this.group.dirty();var oe=pointsLayout("").reset(r,$,L);oe.progress&&oe.progress({start:0,end:V.count(),count:V.count()},V),this._symbolDraw.updateLayout()},n.prototype._updateGroupTransform=function(r){var $=r.coordinateSystem;$&&$.getRoamTransform&&(this.group.transform=clone$2($.getRoamTransform()),this.group.decomposeTransform())},n.prototype.remove=function(r,$){this._symbolDraw&&this._symbolDraw.remove(!0)},n.type="effectScatter",n}(ChartView$1);const EffectScatterView$1=EffectScatterView;var EffectScatterSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(r,$){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.brushSelector=function(r,$,L){return L.point($.getItemLayout(r))},n.type="series.effectScatter",n.dependencies=["grid","polar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},n}(SeriesModel$1);const EffectScatterSeriesModel$1=EffectScatterSeriesModel;function install$y(g){g.registerChartView(EffectScatterView$1),g.registerSeriesModel(EffectScatterSeriesModel$1),g.registerLayout(pointsLayout("effectScatter"))}var EffectLine=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this)||this;return V.add(V.createLine(r,$,L)),V._updateEffectSymbol(r,$),V}return n.prototype.createLine=function(r,$,L){return new Line$1(r,$,L)},n.prototype._updateEffectSymbol=function(r,$){var L=r.getItemModel($),V=L.getModel("effect"),oe=V.get("symbolSize"),ae=V.get("symbol");isArray$2(oe)||(oe=[oe,oe]);var re=r.getItemVisual($,"style"),le=V.get("color")||re&&re.stroke,ue=this.childAt(1);this._symbolType!==ae&&(this.remove(ue),ue=createSymbol$1(ae,-.5,-.5,1,1,le),ue.z2=100,ue.culling=!0,this.add(ue)),ue&&(ue.setStyle("shadowColor",le),ue.setStyle(V.getItemStyle(["color"])),ue.scaleX=oe[0],ue.scaleY=oe[1],ue.setColor(le),this._symbolType=ae,this._symbolScale=oe,this._updateEffectAnimation(r,V,$))},n.prototype._updateEffectAnimation=function(r,$,L){var V=this.childAt(1);if(V){var oe=r.getItemLayout(L),ae=$.get("period")*1e3,re=$.get("loop"),le=$.get("roundTrip"),ue=$.get("constantSpeed"),de=retrieve($.get("delay"),function(pe){return pe/r.count()*ae/3});if(V.ignore=!0,this._updateAnimationPoints(V,oe),ue>0&&(ae=this._getLineLength(V)/ue*1e3),ae!==this._period||re!==this._loop||le!==this._roundTrip){V.stopAnimation();var he=void 0;isFunction$1(de)?he=de(L):he=de,V.__t>0&&(he=-ae*V.__t),this._animateSymbol(V,ae,he,re,le)}this._period=ae,this._loop=re,this._roundTrip=le}},n.prototype._animateSymbol=function(r,$,L,V,oe){if($>0){r.__t=0;var ae=this,re=r.animate("",V).when(oe?$*2:$,{__t:oe?2:1}).delay(L).during(function(){ae._updateSymbolPosition(r)});V||re.done(function(){ae.remove(r)}),re.start()}},n.prototype._getLineLength=function(r){return dist$1(r.__p1,r.__cp1)+dist$1(r.__cp1,r.__p2)},n.prototype._updateAnimationPoints=function(r,$){r.__p1=$[0],r.__p2=$[1],r.__cp1=$[2]||[($[0][0]+$[1][0])/2,($[0][1]+$[1][1])/2]},n.prototype.updateData=function(r,$,L){this.childAt(0).updateData(r,$,L),this._updateEffectSymbol(r,$)},n.prototype._updateSymbolPosition=function(r){var $=r.__p1,L=r.__p2,V=r.__cp1,oe=r.__t<1?r.__t:2-r.__t,ae=[r.x,r.y],re=ae.slice(),le=quadraticAt$1,ue=quadraticDerivativeAt;ae[0]=le($[0],V[0],L[0],oe),ae[1]=le($[1],V[1],L[1],oe);var de=r.__t<1?ue($[0],V[0],L[0],oe):ue(L[0],V[0],$[0],1-oe),he=r.__t<1?ue($[1],V[1],L[1],oe):ue(L[1],V[1],$[1],1-oe);r.rotation=-Math.atan2(he,de)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(r.__lastT!==void 0&&r.__lastT<r.__t?(r.scaleY=dist$1(re,ae)*1.05,oe===1&&(ae[0]=re[0]+(ae[0]-re[0])/2,ae[1]=re[1]+(ae[1]-re[1])/2)):r.__lastT===1?r.scaleY=2*dist$1($,ae):r.scaleY=this._symbolScale[1]),r.__lastT=r.__t,r.ignore=!1,r.x=ae[0],r.y=ae[1]},n.prototype.updateLayout=function(r,$){this.childAt(0).updateLayout(r,$);var L=r.getItemModel($).getModel("effect");this._updateEffectAnimation(r,L,$)},n}(Group$4);const EffectLine$1=EffectLine;var Polyline=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this)||this;return V._createPolyline(r,$,L),V}return n.prototype._createPolyline=function(r,$,L){var V=r.getItemLayout($),oe=new Polyline$3({shape:{points:V}});this.add(oe),this._updateCommonStl(r,$,L)},n.prototype.updateData=function(r,$,L){var V=r.hostModel,oe=this.childAt(0),ae={shape:{points:r.getItemLayout($)}};updateProps$1(oe,ae,V,$),this._updateCommonStl(r,$,L)},n.prototype._updateCommonStl=function(r,$,L){var V=this.childAt(0),oe=r.getItemModel($),ae=L&&L.emphasisLineStyle,re=L&&L.focus,le=L&&L.blurScope,ue=L&&L.emphasisDisabled;if(!L||r.hasItemOption){var de=oe.getModel("emphasis");ae=de.getModel("lineStyle").getLineStyle(),ue=de.get("disabled"),re=de.get("focus"),le=de.get("blurScope")}V.useStyle(r.getItemVisual($,"style")),V.style.fill=null,V.style.strokeNoScale=!0;var he=V.ensureState("emphasis");he.style=ae,toggleHoverEmphasis(this,re,le,ue)},n.prototype.updateLayout=function(r,$){var L=this.childAt(0);L.setShape("points",r.getItemLayout($))},n}(Group$4);const Polyline$1=Polyline;var EffectPolyline=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r._lastFrame=0,r._lastFramePercent=0,r}return n.prototype.createLine=function(r,$,L){return new Polyline$1(r,$,L)},n.prototype._updateAnimationPoints=function(r,$){this._points=$;for(var L=[0],V=0,oe=1;oe<$.length;oe++){var ae=$[oe-1],re=$[oe];V+=dist$1(ae,re),L.push(V)}if(V===0){this._length=0;return}for(var oe=0;oe<L.length;oe++)L[oe]/=V;this._offsets=L,this._length=V},n.prototype._getLineLength=function(){return this._length},n.prototype._updateSymbolPosition=function(r){var $=r.__t<1?r.__t:2-r.__t,L=this._points,V=this._offsets,oe=L.length;if(V){var ae=this._lastFrame,re;if($<this._lastFramePercent){var le=Math.min(ae+1,oe-1);for(re=le;re>=0&&!(V[re]<=$);re--);re=Math.min(re,oe-2)}else{for(re=ae;re<oe&&!(V[re]>$);re++);re=Math.min(re-1,oe-2)}var ue=($-V[re])/(V[re+1]-V[re]),de=L[re],he=L[re+1];r.x=de[0]*(1-ue)+ue*he[0],r.y=de[1]*(1-ue)+ue*he[1];var pe=r.__t<1?he[0]-de[0]:de[0]-he[0],_e=r.__t<1?he[1]-de[1]:de[1]-he[1];r.rotation=-Math.atan2(_e,pe)-Math.PI/2,this._lastFrame=re,this._lastFramePercent=$,r.ignore=!1}},n}(EffectLine$1);const EffectPolyline$1=EffectPolyline;var LargeLinesPathShape=function(){function g(){this.polyline=!1,this.curveness=0,this.segs=[]}return g}(),LargeLinesPath=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $._off=0,$.hoverDataIdx=-1,$}return n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LargeLinesPathShape},n.prototype.buildPath=function(r,$){var L=$.segs,V=$.curveness,oe;if($.polyline)for(oe=this._off;oe<L.length;){var ae=L[oe++];if(ae>0){r.moveTo(L[oe++],L[oe++]);for(var re=1;re<ae;re++)r.lineTo(L[oe++],L[oe++])}}else for(oe=this._off;oe<L.length;){var le=L[oe++],ue=L[oe++],de=L[oe++],he=L[oe++];if(r.moveTo(le,ue),V>0){var pe=(le+de)/2-(ue-he)*V,_e=(ue+he)/2-(de-le)*V;r.quadraticCurveTo(pe,_e,de,he)}else r.lineTo(de,he)}this.incremental&&(this._off=oe,this.notClear=!0)},n.prototype.findDataIndex=function(r,$){var L=this.shape,V=L.segs,oe=L.curveness,ae=this.style.lineWidth;if(L.polyline)for(var re=0,le=0;le<V.length;){var ue=V[le++];if(ue>0)for(var de=V[le++],he=V[le++],pe=1;pe<ue;pe++){var _e=V[le++],$e=V[le++];if(containStroke$4(de,he,_e,$e,ae,r,$))return re}re++}else for(var re=0,le=0;le<V.length;){var de=V[le++],he=V[le++],_e=V[le++],$e=V[le++];if(oe>0){var xe=(de+_e)/2-(he-$e)*oe,Oe=(he+$e)/2-(_e-de)*oe;if(containStroke$2(de,he,xe,Oe,_e,$e,ae,r,$))return re}else if(containStroke$4(de,he,_e,$e,ae,r,$))return re;re++}return-1},n.prototype.contain=function(r,$){var L=this.transformCoordToLocal(r,$),V=this.getBoundingRect();if(r=L[0],$=L[1],V.contain(r,$)){var oe=this.hoverDataIdx=this.findDataIndex(r,$);return oe>=0}return this.hoverDataIdx=-1,!1},n.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var $=this.shape,L=$.segs,V=1/0,oe=1/0,ae=-1/0,re=-1/0,le=0;le<L.length;){var ue=L[le++],de=L[le++];V=Math.min(ue,V),ae=Math.max(ue,ae),oe=Math.min(de,oe),re=Math.max(de,re)}r=this._rect=new BoundingRect$1(V,oe,ae,re)}return r},n}(Path$1),LargeLineDraw=function(){function g(){this.group=new Group$4}return g.prototype.updateData=function(n){this._clear();var r=this._create();r.setShape({segs:n.getLayout("linesPoints")}),this._setCommon(r,n)},g.prototype.incrementalPrepareUpdate=function(n){this.group.removeAll(),this._clear()},g.prototype.incrementalUpdate=function(n,r){var $=this._newAdded[0],L=r.getLayout("linesPoints"),V=$&&$.shape.segs;if(V&&V.length<2e4){var oe=V.length,ae=new Float32Array(oe+L.length);ae.set(V),ae.set(L,oe),$.setShape({segs:ae})}else{this._newAdded=[];var re=this._create();re.incremental=!0,re.setShape({segs:L}),this._setCommon(re,r),re.__startIndex=n.start}},g.prototype.remove=function(){this._clear()},g.prototype.eachRendered=function(n){this._newAdded[0]&&n(this._newAdded[0])},g.prototype._create=function(){var n=new LargeLinesPath({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(n),this.group.add(n),n},g.prototype._setCommon=function(n,r,$){var L=r.hostModel;n.setShape({polyline:L.get("polyline"),curveness:L.get(["lineStyle","curveness"])}),n.useStyle(L.getModel("lineStyle").getLineStyle()),n.style.strokeNoScale=!0;var V=r.getVisual("style");V&&V.stroke&&n.setStyle("stroke",V.stroke),n.setStyle("fill",null);var oe=getECData(n);oe.seriesIndex=L.seriesIndex,n.on("mousemove",function(ae){oe.dataIndex=null;var re=n.hoverDataIdx;re>0&&(oe.dataIndex=re+n.__startIndex)})},g.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},g}();const LargeLineDraw$1=LargeLineDraw;var linesLayout={seriesType:"lines",plan:createRenderPlanner(),reset:function(g){var n=g.coordinateSystem;if(n){var r=g.get("polyline"),$=g.pipelineContext.large;return{progress:function(L,V){var oe=[];if($){var ae=void 0,re=L.end-L.start;if(r){for(var le=0,ue=L.start;ue<L.end;ue++)le+=g.getLineCoordsCount(ue);ae=new Float32Array(re+le*2)}else ae=new Float32Array(re*4);for(var de=0,he=[],ue=L.start;ue<L.end;ue++){var pe=g.getLineCoords(ue,oe);r&&(ae[de++]=pe);for(var _e=0;_e<pe;_e++)he=n.dataToPoint(oe[_e],!1,he),ae[de++]=he[0],ae[de++]=he[1]}V.setLayout("linesPoints",ae)}else for(var ue=L.start;ue<L.end;ue++){var $e=V.getItemModel(ue),pe=g.getLineCoords(ue,oe),xe=[];if(r)for(var Oe=0;Oe<pe;Oe++)xe.push(n.dataToPoint(oe[Oe]));else{xe[0]=n.dataToPoint(oe[0]),xe[1]=n.dataToPoint(oe[1]);var Ce=$e.get(["lineStyle","curveness"]);+Ce&&(xe[2]=[(xe[0][0]+xe[1][0])/2-(xe[0][1]-xe[1][1])*Ce,(xe[0][1]+xe[1][1])/2-(xe[1][0]-xe[0][0])*Ce])}V.setItemLayout(ue,xe)}}}}}};const linesLayout$1=linesLayout;var LinesView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=r.getData(),oe=this._updateLineDraw(V,r),ae=r.get("zlevel"),re=r.get(["effect","trailLength"]),le=L.getZr(),ue=le.painter.getType()==="svg";ue||le.painter.getLayer(ae).clear(!0),this._lastZlevel!=null&&!ue&&le.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(r)&&re>0&&(ue||le.configLayer(ae,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(re/10+.9,1),0)})),oe.updateData(V);var de=r.get("clip",!0)&&createClipPath(r.coordinateSystem,!1,r);de?this.group.setClipPath(de):this.group.removeClipPath(),this._lastZlevel=ae,this._finished=!0},n.prototype.incrementalPrepareRender=function(r,$,L){var V=r.getData(),oe=this._updateLineDraw(V,r);oe.incrementalPrepareUpdate(V),this._clearLayer(L),this._finished=!1},n.prototype.incrementalRender=function(r,$,L){this._lineDraw.incrementalUpdate(r,$.getData()),this._finished=r.end===$.getData().count()},n.prototype.eachRendered=function(r){this._lineDraw&&this._lineDraw.eachRendered(r)},n.prototype.updateTransform=function(r,$,L){var V=r.getData(),oe=r.pipelineContext;if(!this._finished||oe.large||oe.progressiveRender)return{update:!0};var ae=linesLayout$1.reset(r,$,L);ae.progress&&ae.progress({start:0,end:V.count(),count:V.count()},V),this._lineDraw.updateLayout(),this._clearLayer(L)},n.prototype._updateLineDraw=function(r,$){var L=this._lineDraw,V=this._showEffect($),oe=!!$.get("polyline"),ae=$.pipelineContext,re=ae.large;return(!L||V!==this._hasEffet||oe!==this._isPolyline||re!==this._isLargeDraw)&&(L&&L.remove(),L=this._lineDraw=re?new LargeLineDraw$1:new LineDraw$1(oe?V?EffectPolyline$1:Polyline$1:V?EffectLine$1:Line$1),this._hasEffet=V,this._isPolyline=oe,this._isLargeDraw=re),this.group.add(L.group),L},n.prototype._showEffect=function(r){return!!r.get(["effect","show"])},n.prototype._clearLayer=function(r){var $=r.getZr(),L=$.painter.getType()==="svg";!L&&this._lastZlevel!=null&&$.painter.getLayer(this._lastZlevel).clear(!0)},n.prototype.remove=function(r,$){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer($)},n.prototype.dispose=function(r,$){this.remove(r,$)},n.type="lines",n}(ChartView$1);const LinesView$1=LinesView;var Uint32Arr=typeof Uint32Array>"u"?Array:Uint32Array,Float64Arr=typeof Float64Array>"u"?Array:Float64Array;function compatEc2(g){var n=g.data;n&&n[0]&&n[0][0]&&n[0][0].coord&&(g.data=map$1(n,function(r){var $=[r[0].coord,r[1].coord],L={coords:$};return r[0].name&&(L.fromName=r[0].name),r[1].name&&(L.toName=r[1].name),mergeAll([L,r[0],r[1]])}))}var LinesSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return n.prototype.init=function(r){r.data=r.data||[],compatEc2(r);var $=this._processFlatCoordsArray(r.data);this._flatCoords=$.flatCoords,this._flatCoordsOffset=$.flatCoordsOffset,$.flatCoords&&(r.data=new Float32Array($.count)),g.prototype.init.apply(this,arguments)},n.prototype.mergeOption=function(r){if(compatEc2(r),r.data){var $=this._processFlatCoordsArray(r.data);this._flatCoords=$.flatCoords,this._flatCoordsOffset=$.flatCoordsOffset,$.flatCoords&&(r.data=new Float32Array($.count))}g.prototype.mergeOption.apply(this,arguments)},n.prototype.appendData=function(r){var $=this._processFlatCoordsArray(r.data);$.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,$.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,$.flatCoordsOffset)):(this._flatCoords=$.flatCoords,this._flatCoordsOffset=$.flatCoordsOffset),r.data=new Float32Array($.count)),this.getRawData().appendData(r.data)},n.prototype._getCoordsFromItemModel=function(r){var $=this.getData().getItemModel(r),L=$.option instanceof Array?$.option:$.getShallow("coords");return L},n.prototype.getLineCoordsCount=function(r){return this._flatCoordsOffset?this._flatCoordsOffset[r*2+1]:this._getCoordsFromItemModel(r).length},n.prototype.getLineCoords=function(r,$){if(this._flatCoordsOffset){for(var L=this._flatCoordsOffset[r*2],V=this._flatCoordsOffset[r*2+1],oe=0;oe<V;oe++)$[oe]=$[oe]||[],$[oe][0]=this._flatCoords[L+oe*2],$[oe][1]=this._flatCoords[L+oe*2+1];return V}else{for(var ae=this._getCoordsFromItemModel(r),oe=0;oe<ae.length;oe++)$[oe]=$[oe]||[],$[oe][0]=ae[oe][0],$[oe][1]=ae[oe][1];return ae.length}},n.prototype._processFlatCoordsArray=function(r){var $=0;if(this._flatCoords&&($=this._flatCoords.length),isNumber$1(r[0])){for(var L=r.length,V=new Uint32Arr(L),oe=new Float64Arr(L),ae=0,re=0,le=0,ue=0;ue<L;){le++;var de=r[ue++];V[re++]=ae+$,V[re++]=de;for(var he=0;he<de;he++){var pe=r[ue++],_e=r[ue++];oe[ae++]=pe,oe[ae++]=_e,ue>L}}return{flatCoordsOffset:new Uint32Array(V.buffer,0,re),flatCoords:oe,count:le}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}},n.prototype.getInitialData=function(r,$){var L=new SeriesData$1(["value"],this);return L.hasItemOption=!1,L.initData(r.data,[],function(V,oe,ae,re){if(V instanceof Array)return NaN;L.hasItemOption=!0;var le=V.value;if(le!=null)return le instanceof Array?le[re]:le}),L},n.prototype.formatTooltip=function(r,$,L){var V=this.getData(),oe=V.getItemModel(r),ae=oe.get("name");if(ae)return ae;var re=oe.get("fromName"),le=oe.get("toName"),ue=[];return re!=null&&ue.push(re),le!=null&&ue.push(le),createTooltipMarkup("nameValue",{name:ue.join(" > ")})},n.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},n.prototype.getProgressive=function(){var r=this.option.progressive;return r!=null?r:this.option.large?1e4:this.get("progressive")},n.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r!=null?r:this.option.large?2e4:this.get("progressiveThreshold")},n.prototype.getZLevelKey=function(){var r=this.getModel("effect"),$=r.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:r.get("show")&&$>0?$+"":""},n.type="series.lines",n.dependencies=["grid","polar","geo","calendar"],n.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},n}(SeriesModel$1);const LinesSeriesModel$1=LinesSeriesModel;function normalize(g){return g instanceof Array||(g=[g,g]),g}var linesVisual={seriesType:"lines",reset:function(g){var n=normalize(g.get("symbol")),r=normalize(g.get("symbolSize")),$=g.getData();$.setVisual("fromSymbol",n&&n[0]),$.setVisual("toSymbol",n&&n[1]),$.setVisual("fromSymbolSize",r&&r[0]),$.setVisual("toSymbolSize",r&&r[1]);function L(V,oe){var ae=V.getItemModel(oe),re=normalize(ae.getShallow("symbol",!0)),le=normalize(ae.getShallow("symbolSize",!0));re[0]&&V.setItemVisual(oe,"fromSymbol",re[0]),re[1]&&V.setItemVisual(oe,"toSymbol",re[1]),le[0]&&V.setItemVisual(oe,"fromSymbolSize",le[0]),le[1]&&V.setItemVisual(oe,"toSymbolSize",le[1])}return{dataEach:$.hasItemOption?L:null}}};const linesVisual$1=linesVisual;function install$x(g){g.registerChartView(LinesView$1),g.registerSeriesModel(LinesSeriesModel$1),g.registerLayout(linesLayout$1),g.registerVisual(linesVisual$1)}var GRADIENT_LEVELS=256,HeatmapLayer=function(){function g(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var n=platformApi.createCanvas();this.canvas=n}return g.prototype.update=function(n,r,$,L,V,oe){var ae=this._getBrush(),re=this._getGradient(V,"inRange"),le=this._getGradient(V,"outOfRange"),ue=this.pointSize+this.blurSize,de=this.canvas,he=de.getContext("2d"),pe=n.length;de.width=r,de.height=$;for(var _e=0;_e<pe;++_e){var $e=n[_e],xe=$e[0],Oe=$e[1],Ce=$e[2],Ie=L(Ce);he.globalAlpha=Ie,he.drawImage(ae,xe-ue,Oe-ue)}if(!de.width||!de.height)return de;for(var Ne=he.getImageData(0,0,de.width,de.height),ze=Ne.data,Fe=0,Ue=ze.length,At=this.minOpacity,Et=this.maxOpacity,Pt=Et-At;Fe<Ue;){var Ie=ze[Fe+3]/256,kt=Math.floor(Ie*(GRADIENT_LEVELS-1))*4;if(Ie>0){var Dt=oe(Ie)?re:le;Ie>0&&(Ie=Ie*Pt+At),ze[Fe++]=Dt[kt],ze[Fe++]=Dt[kt+1],ze[Fe++]=Dt[kt+2],ze[Fe++]=Dt[kt+3]*Ie*256}else Fe+=4}return he.putImageData(Ne,0,0),de},g.prototype._getBrush=function(){var n=this._brushCanvas||(this._brushCanvas=platformApi.createCanvas()),r=this.pointSize+this.blurSize,$=r*2;n.width=$,n.height=$;var L=n.getContext("2d");return L.clearRect(0,0,$,$),L.shadowOffsetX=$,L.shadowBlur=this.blurSize,L.shadowColor="#000",L.beginPath(),L.arc(-r,r,this.pointSize,0,Math.PI*2,!0),L.closePath(),L.fill(),n},g.prototype._getGradient=function(n,r){for(var $=this._gradientPixels,L=$[r]||($[r]=new Uint8ClampedArray(256*4)),V=[0,0,0,0],oe=0,ae=0;ae<256;ae++)n[r](ae/255,!0,V),L[oe++]=V[0],L[oe++]=V[1],L[oe++]=V[2],L[oe++]=V[3];return L},g}();const HeatmapLayer$1=HeatmapLayer;function getIsInPiecewiseRange(g,n,r){var $=g[1]-g[0];n=map$1(n,function(oe){return{interval:[(oe.interval[0]-g[0])/$,(oe.interval[1]-g[0])/$]}});var L=n.length,V=0;return function(oe){var ae;for(ae=V;ae<L;ae++){var re=n[ae].interval;if(re[0]<=oe&&oe<=re[1]){V=ae;break}}if(ae===L)for(ae=V-1;ae>=0;ae--){var re=n[ae].interval;if(re[0]<=oe&&oe<=re[1]){V=ae;break}}return ae>=0&&ae<L&&r[ae]}}function getIsInContinuousRange(g,n){var r=g[1]-g[0];return n=[(n[0]-g[0])/r,(n[1]-g[0])/r],function($){return $>=n[0]&&$<=n[1]}}function isGeoCoordSys(g){var n=g.dimensions;return n[0]==="lng"&&n[1]==="lat"}var HeatmapView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V;$.eachComponent("visualMap",function(ae){ae.eachTargetSeries(function(re){re===r&&(V=ae)})}),this._progressiveEls=null,this.group.removeAll();var oe=r.coordinateSystem;oe.type==="cartesian2d"||oe.type==="calendar"?this._renderOnCartesianAndCalendar(r,L,0,r.getData().count()):isGeoCoordSys(oe)&&this._renderOnGeo(oe,r,V,L)},n.prototype.incrementalPrepareRender=function(r,$,L){this.group.removeAll()},n.prototype.incrementalRender=function(r,$,L,V){var oe=$.coordinateSystem;oe&&(isGeoCoordSys(oe)?this.render($,L,V):(this._progressiveEls=[],this._renderOnCartesianAndCalendar($,V,r.start,r.end,!0)))},n.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},n.prototype._renderOnCartesianAndCalendar=function(r,$,L,V,oe){var ae=r.coordinateSystem,re=isCoordinateSystemType(ae,"cartesian2d"),le,ue,de,he;if(re){var pe=ae.getAxis("x"),_e=ae.getAxis("y");le=pe.getBandWidth()+.5,ue=_e.getBandWidth()+.5,de=pe.scale.getExtent(),he=_e.scale.getExtent()}for(var $e=this.group,xe=r.getData(),Oe=r.getModel(["emphasis","itemStyle"]).getItemStyle(),Ce=r.getModel(["blur","itemStyle"]).getItemStyle(),Ie=r.getModel(["select","itemStyle"]).getItemStyle(),Ne=r.get(["itemStyle","borderRadius"]),ze=getLabelStatesModels(r),Fe=r.getModel("emphasis"),Ue=Fe.get("focus"),At=Fe.get("blurScope"),Et=Fe.get("disabled"),Pt=re?[xe.mapDimension("x"),xe.mapDimension("y"),xe.mapDimension("value")]:[xe.mapDimension("time"),xe.mapDimension("value")],kt=L;kt<V;kt++){var Dt=void 0,Lt=xe.getItemVisual(kt,"style");if(re){var hn=xe.get(Pt[0],kt),vn=xe.get(Pt[1],kt);if(isNaN(xe.get(Pt[2],kt))||isNaN(hn)||isNaN(vn)||hn<de[0]||hn>de[1]||vn<he[0]||vn>he[1])continue;var _n=ae.dataToPoint([hn,vn]);Dt=new Rect$3({shape:{x:_n[0]-le/2,y:_n[1]-ue/2,width:le,height:ue},style:Lt})}else{if(isNaN(xe.get(Pt[1],kt)))continue;Dt=new Rect$3({z2:1,shape:ae.dataToRect([xe.get(Pt[0],kt)]).contentShape,style:Lt})}if(xe.hasItemOption){var $n=xe.getItemModel(kt),Sn=$n.getModel("emphasis");Oe=Sn.getModel("itemStyle").getItemStyle(),Ce=$n.getModel(["blur","itemStyle"]).getItemStyle(),Ie=$n.getModel(["select","itemStyle"]).getItemStyle(),Ne=$n.get(["itemStyle","borderRadius"]),Ue=Sn.get("focus"),At=Sn.get("blurScope"),Et=Sn.get("disabled"),ze=getLabelStatesModels($n)}Dt.shape.r=Ne;var xn=r.getRawValue(kt),On="-";xn&&xn[2]!=null&&(On=xn[2]+""),setLabelStyle(Dt,ze,{labelFetcher:r,labelDataIndex:kt,defaultOpacity:Lt.opacity,defaultText:On}),Dt.ensureState("emphasis").style=Oe,Dt.ensureState("blur").style=Ce,Dt.ensureState("select").style=Ie,toggleHoverEmphasis(Dt,Ue,At,Et),Dt.incremental=oe,oe&&(Dt.states.emphasis.hoverLayer=!0),$e.add(Dt),xe.setItemGraphicEl(kt,Dt),this._progressiveEls&&this._progressiveEls.push(Dt)}},n.prototype._renderOnGeo=function(r,$,L,V){var oe=L.targetVisuals.inRange,ae=L.targetVisuals.outOfRange,re=$.getData(),le=this._hmLayer||this._hmLayer||new HeatmapLayer$1;le.blurSize=$.get("blurSize"),le.pointSize=$.get("pointSize"),le.minOpacity=$.get("minOpacity"),le.maxOpacity=$.get("maxOpacity");var ue=r.getViewRect().clone(),de=r.getRoamTransform();ue.applyTransform(de);var he=Math.max(ue.x,0),pe=Math.max(ue.y,0),_e=Math.min(ue.width+ue.x,V.getWidth()),$e=Math.min(ue.height+ue.y,V.getHeight()),xe=_e-he,Oe=$e-pe,Ce=[re.mapDimension("lng"),re.mapDimension("lat"),re.mapDimension("value")],Ie=re.mapArray(Ce,function(Ue,At,Et){var Pt=r.dataToPoint([Ue,At]);return Pt[0]-=he,Pt[1]-=pe,Pt.push(Et),Pt}),Ne=L.getExtent(),ze=L.type==="visualMap.continuous"?getIsInContinuousRange(Ne,L.option.range):getIsInPiecewiseRange(Ne,L.getPieceList(),L.option.selected);le.update(Ie,xe,Oe,oe.color.getNormalizer(),{inRange:oe.color.getColorMapper(),outOfRange:ae.color.getColorMapper()},ze);var Fe=new ZRImage$1({style:{width:xe,height:Oe,x:he,y:pe,image:le.canvas},silent:!0});this.group.add(Fe)},n.type="heatmap",n}(ChartView$1);const HeatmapView$1=HeatmapView;var HeatmapSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(r,$){return createSeriesData(null,this,{generateCoord:"value"})},n.prototype.preventIncremental=function(){var r=CoordinateSystem.get(this.get("coordinateSystem"));if(r&&r.dimensions)return r.dimensions[0]==="lng"&&r.dimensions[1]==="lat"},n.type="series.heatmap",n.dependencies=["grid","geo","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel$1);const HeatmapSeriesModel$1=HeatmapSeriesModel;function install$w(g){g.registerChartView(HeatmapView$1),g.registerSeriesModel(HeatmapSeriesModel$1)}var BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new Circle$1,PictorialBarView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=this.group,oe=r.getData(),ae=this._data,re=r.coordinateSystem,le=re.getBaseAxis(),ue=le.isHorizontal(),de=re.master.getRect(),he={ecSize:{width:L.getWidth(),height:L.getHeight()},seriesModel:r,coordSys:re,coordSysExtent:[[de.x,de.x+de.width],[de.y,de.y+de.height]],isHorizontal:ue,valueDim:LAYOUT_ATTRS[+ue],categoryDim:LAYOUT_ATTRS[1-+ue]};return oe.diff(ae).add(function(pe){if(oe.hasValue(pe)){var _e=getItemModel(oe,pe),$e=getSymbolMeta(oe,pe,_e,he),xe=createBar(oe,he,$e);oe.setItemGraphicEl(pe,xe),V.add(xe),updateCommon(xe,he,$e)}}).update(function(pe,_e){var $e=ae.getItemGraphicEl(_e);if(!oe.hasValue(pe)){V.remove($e);return}var xe=getItemModel(oe,pe),Oe=getSymbolMeta(oe,pe,xe,he),Ce=getShapeStr(oe,Oe);$e&&Ce!==$e.__pictorialShapeStr&&(V.remove($e),oe.setItemGraphicEl(pe,null),$e=null),$e?updateBar($e,he,Oe):$e=createBar(oe,he,Oe,!0),oe.setItemGraphicEl(pe,$e),$e.__pictorialSymbolMeta=Oe,V.add($e),updateCommon($e,he,Oe)}).remove(function(pe){var _e=ae.getItemGraphicEl(pe);_e&&removeBar(ae,pe,_e.__pictorialSymbolMeta.animationModel,_e)}).execute(),this._data=oe,this.group},n.prototype.remove=function(r,$){var L=this.group,V=this._data;r.get("animation")?V&&V.eachItemGraphicEl(function(oe){removeBar(V,getECData(oe).dataIndex,r,oe)}):L.removeAll()},n.type="pictorialBar",n}(ChartView$1);function getSymbolMeta(g,n,r,$){var L=g.getItemLayout(n),V=r.get("symbolRepeat"),oe=r.get("symbolClip"),ae=r.get("symbolPosition")||"start",re=r.get("symbolRotate"),le=(re||0)*Math.PI/180||0,ue=r.get("symbolPatternSize")||2,de=r.isAnimationEnabled(),he={dataIndex:n,layout:L,itemModel:r,symbolType:g.getItemVisual(n,"symbol")||"circle",style:g.getItemVisual(n,"style"),symbolClip:oe,symbolRepeat:V,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:ue,rotation:le,animationModel:de?r:null,hoverScale:de&&r.get(["emphasis","scale"]),z2:r.getShallow("z",!0)||0};prepareBarLength(r,V,L,$,he),prepareSymbolSize(g,n,L,V,oe,he.boundingLength,he.pxSign,ue,$,he),prepareLineWidth(r,he.symbolScale,le,$,he);var pe=he.symbolSize,_e=normalizeSymbolOffset(r.get("symbolOffset"),pe);return prepareLayoutInfo(r,pe,L,V,oe,_e,ae,he.valueLineWidth,he.boundingLength,he.repeatCutLength,$,he),he}function prepareBarLength(g,n,r,$,L){var V=$.valueDim,oe=g.get("symbolBoundingData"),ae=$.coordSys.getOtherAxis($.coordSys.getBaseAxis()),re=ae.toGlobalCoord(ae.dataToCoord(0)),le=1-+(r[V.wh]<=0),ue;if(isArray$2(oe)){var de=[convertToCoordOnAxis(ae,oe[0])-re,convertToCoordOnAxis(ae,oe[1])-re];de[1]<de[0]&&de.reverse(),ue=de[le]}else oe!=null?ue=convertToCoordOnAxis(ae,oe)-re:n?ue=$.coordSysExtent[V.index][le]-re:ue=r[V.wh];L.boundingLength=ue,n&&(L.repeatCutLength=r[V.wh]),L.pxSign=ue>0?1:-1}function convertToCoordOnAxis(g,n){return g.toGlobalCoord(g.dataToCoord(g.scale.parse(n)))}function prepareSymbolSize(g,n,r,$,L,V,oe,ae,re,le){var ue=re.valueDim,de=re.categoryDim,he=Math.abs(r[de.wh]),pe=g.getItemVisual(n,"symbolSize"),_e;isArray$2(pe)?_e=pe.slice():pe==null?_e=["100%","100%"]:_e=[pe,pe],_e[de.index]=parsePercent(_e[de.index],he),_e[ue.index]=parsePercent(_e[ue.index],$?he:Math.abs(V)),le.symbolSize=_e;var $e=le.symbolScale=[_e[0]/ae,_e[1]/ae];$e[ue.index]*=(re.isHorizontal?-1:1)*oe}function prepareLineWidth(g,n,r,$,L){var V=g.get(BAR_BORDER_WIDTH_QUERY)||0;V&&(pathForLineWidth.attr({scaleX:n[0],scaleY:n[1],rotation:r}),pathForLineWidth.updateTransform(),V/=pathForLineWidth.getLineScale(),V*=n[$.valueDim.index]),L.valueLineWidth=V||0}function prepareLayoutInfo(g,n,r,$,L,V,oe,ae,re,le,ue,de){var he=ue.categoryDim,pe=ue.valueDim,_e=de.pxSign,$e=Math.max(n[pe.index]+ae,0),xe=$e;if($){var Oe=Math.abs(re),Ce=retrieve(g.get("symbolMargin"),"15%")+"",Ie=!1;Ce.lastIndexOf("!")===Ce.length-1&&(Ie=!0,Ce=Ce.slice(0,Ce.length-1));var Ne=parsePercent(Ce,n[pe.index]),ze=Math.max($e+Ne*2,0),Fe=Ie?0:Ne*2,Ue=isNumeric($),At=Ue?$:toIntTimes((Oe+Fe)/ze),Et=Oe-At*$e;Ne=Et/2/(Ie?At:Math.max(At-1,1)),ze=$e+Ne*2,Fe=Ie?0:Ne*2,!Ue&&$!=="fixed"&&(At=le?toIntTimes((Math.abs(le)+Fe)/ze):0),xe=At*ze-Fe,de.repeatTimes=At,de.symbolMargin=Ne}var Pt=_e*(xe/2),kt=de.pathPosition=[];kt[he.index]=r[he.wh]/2,kt[pe.index]=oe==="start"?Pt:oe==="end"?re-Pt:re/2,V&&(kt[0]+=V[0],kt[1]+=V[1]);var Dt=de.bundlePosition=[];Dt[he.index]=r[he.xy],Dt[pe.index]=r[pe.xy];var Lt=de.barRectShape=extend$1({},r);Lt[pe.wh]=_e*Math.max(Math.abs(r[pe.wh]),Math.abs(kt[pe.index]+Pt)),Lt[he.wh]=r[he.wh];var hn=de.clipShape={};hn[he.xy]=-r[he.xy],hn[he.wh]=ue.ecSize[he.wh],hn[pe.xy]=0,hn[pe.wh]=r[pe.wh]}function createPath(g){var n=g.symbolPatternSize,r=createSymbol$1(g.symbolType,-n/2,-n/2,n,n);return r.attr({culling:!0}),r.type!=="image"&&r.setStyle({strokeNoScale:!0}),r}function createOrUpdateRepeatSymbols(g,n,r,$){var L=g.__pictorialBundle,V=r.symbolSize,oe=r.valueLineWidth,ae=r.pathPosition,re=n.valueDim,le=r.repeatTimes||0,ue=0,de=V[n.valueDim.index]+oe+r.symbolMargin*2;for(eachPath(g,function($e){$e.__pictorialAnimationIndex=ue,$e.__pictorialRepeatTimes=le,ue<le?updateAttr($e,null,_e(ue),r,$):updateAttr($e,null,{scaleX:0,scaleY:0},r,$,function(){L.remove($e)}),ue++});ue<le;ue++){var he=createPath(r);he.__pictorialAnimationIndex=ue,he.__pictorialRepeatTimes=le,L.add(he);var pe=_e(ue);updateAttr(he,{x:pe.x,y:pe.y,scaleX:0,scaleY:0},{scaleX:pe.scaleX,scaleY:pe.scaleY,rotation:pe.rotation},r,$)}function _e($e){var xe=ae.slice(),Oe=r.pxSign,Ce=$e;return(r.symbolRepeatDirection==="start"?Oe>0:Oe<0)&&(Ce=le-1-$e),xe[re.index]=de*(Ce-le/2+.5)+ae[re.index],{x:xe[0],y:xe[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function createOrUpdateSingleSymbol(g,n,r,$){var L=g.__pictorialBundle,V=g.__pictorialMainPath;V?updateAttr(V,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,$):(V=g.__pictorialMainPath=createPath(r),L.add(V),updateAttr(V,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,$))}function createOrUpdateBarRect(g,n,r){var $=extend$1({},n.barRectShape),L=g.__pictorialBarRect;L?updateAttr(L,null,{shape:$},n,r):(L=g.__pictorialBarRect=new Rect$3({z2:2,shape:$,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),L.disableMorphing=!0,g.add(L))}function createOrUpdateClip(g,n,r,$){if(r.symbolClip){var L=g.__pictorialClipPath,V=extend$1({},r.clipShape),oe=n.valueDim,ae=r.animationModel,re=r.dataIndex;if(L)updateProps$1(L,{shape:V},ae,re);else{V[oe.wh]=0,L=new Rect$3({shape:V}),g.__pictorialBundle.setClipPath(L),g.__pictorialClipPath=L;var le={};le[oe.wh]=r.clipShape[oe.wh],graphic[$?"updateProps":"initProps"](L,{shape:le},ae,re)}}}function getItemModel(g,n){var r=g.getItemModel(n);return r.getAnimationDelayParams=getAnimationDelayParams,r.isAnimationEnabled=isAnimationEnabled,r}function getAnimationDelayParams(g){return{index:g.__pictorialAnimationIndex,count:g.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(g,n,r,$){var L=new Group$4,V=new Group$4;return L.add(V),L.__pictorialBundle=V,V.x=r.bundlePosition[0],V.y=r.bundlePosition[1],r.symbolRepeat?createOrUpdateRepeatSymbols(L,n,r):createOrUpdateSingleSymbol(L,n,r),createOrUpdateBarRect(L,r,$),createOrUpdateClip(L,n,r,$),L.__pictorialShapeStr=getShapeStr(g,r),L.__pictorialSymbolMeta=r,L}function updateBar(g,n,r){var $=r.animationModel,L=r.dataIndex,V=g.__pictorialBundle;updateProps$1(V,{x:r.bundlePosition[0],y:r.bundlePosition[1]},$,L),r.symbolRepeat?createOrUpdateRepeatSymbols(g,n,r,!0):createOrUpdateSingleSymbol(g,n,r,!0),createOrUpdateBarRect(g,r,!0),createOrUpdateClip(g,n,r,!0)}function removeBar(g,n,r,$){var L=$.__pictorialBarRect;L&&L.removeTextContent();var V=[];eachPath($,function(oe){V.push(oe)}),$.__pictorialMainPath&&V.push($.__pictorialMainPath),$.__pictorialClipPath&&(r=null),each$f(V,function(oe){removeElement(oe,{scaleX:0,scaleY:0},r,n,function(){$.parent&&$.parent.remove($)})}),g.setItemGraphicEl(n,null)}function getShapeStr(g,n){return[g.getItemVisual(n.dataIndex,"symbol")||"none",!!n.symbolRepeat,!!n.symbolClip].join(":")}function eachPath(g,n,r){each$f(g.__pictorialBundle.children(),function($){$!==g.__pictorialBarRect&&n.call(r,$)})}function updateAttr(g,n,r,$,L,V){n&&g.attr(n),$.symbolClip&&!L?r&&g.attr(r):r&&graphic[L?"updateProps":"initProps"](g,r,$.animationModel,$.dataIndex,V)}function updateCommon(g,n,r){var $=r.dataIndex,L=r.itemModel,V=L.getModel("emphasis"),oe=V.getModel("itemStyle").getItemStyle(),ae=L.getModel(["blur","itemStyle"]).getItemStyle(),re=L.getModel(["select","itemStyle"]).getItemStyle(),le=L.getShallow("cursor"),ue=V.get("focus"),de=V.get("blurScope"),he=V.get("scale");eachPath(g,function($e){if($e instanceof ZRImage$1){var xe=$e.style;$e.useStyle(extend$1({image:xe.image,x:xe.x,y:xe.y,width:xe.width,height:xe.height},r.style))}else $e.useStyle(r.style);var Oe=$e.ensureState("emphasis");Oe.style=oe,he&&(Oe.scaleX=$e.scaleX*1.1,Oe.scaleY=$e.scaleY*1.1),$e.ensureState("blur").style=ae,$e.ensureState("select").style=re,le&&($e.cursor=le),$e.z2=r.z2});var pe=n.valueDim.posDesc[+(r.boundingLength>0)],_e=g.__pictorialBarRect;setLabelStyle(_e,getLabelStatesModels(L),{labelFetcher:n.seriesModel,labelDataIndex:$,defaultText:getDefaultLabel(n.seriesModel.getData(),$),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:pe}),toggleHoverEmphasis(g,ue,de,V.get("disabled"))}function toIntTimes(g){var n=Math.round(g);return Math.abs(g-n)<1e-4?n:Math.ceil(g)}const PictorialBarView$1=PictorialBarView;var PictorialBarSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r.defaultSymbol="roundRect",r}return n.prototype.getInitialData=function(r){return r.stack=null,g.prototype.getInitialData.apply(this,arguments)},n.type="series.pictorialBar",n.dependencies=["grid"],n.defaultOption=inheritDefaultOption(BaseBarSeriesModel$1.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),n}(BaseBarSeriesModel$1);const PictorialBarSeriesModel$1=PictorialBarSeriesModel;function install$v(g){g.registerChartView(PictorialBarView$1),g.registerSeriesModel(PictorialBarSeriesModel$1),g.registerLayout(g.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"pictorialBar")),g.registerLayout(g.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("pictorialBar"))}var ThemeRiverView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._layers=[],r}return n.prototype.render=function(r,$,L){var V=r.getData(),oe=this,ae=this.group,re=r.getLayerSeries(),le=V.getLayout("layoutInfo"),ue=le.rect,de=le.boundaryGap;ae.x=0,ae.y=ue.y+de[0];function he(xe){return xe.name}var pe=new DataDiffer$1(this._layersSeries||[],re,he,he),_e=[];pe.add(bind$2($e,this,"add")).update(bind$2($e,this,"update")).remove(bind$2($e,this,"remove")).execute();function $e(xe,Oe,Ce){var Ie=oe._layers;if(xe==="remove"){ae.remove(Ie[Oe]);return}for(var Ne=[],ze=[],Fe,Ue=re[Oe].indices,At=0;At<Ue.length;At++){var Et=V.getItemLayout(Ue[At]),Pt=Et.x,kt=Et.y0,Dt=Et.y;Ne.push(Pt,kt),ze.push(Pt,kt+Dt),Fe=V.getItemVisual(Ue[At],"style")}var Lt,hn=V.getItemLayout(Ue[0]),vn=r.getModel("label"),_n=vn.get("margin"),$n=r.getModel("emphasis");if(xe==="add"){var Sn=_e[Oe]=new Group$4;Lt=new ECPolygon({shape:{points:Ne,stackedOnPoints:ze,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Sn.add(Lt),ae.add(Sn),r.isAnimationEnabled()&&Lt.setClipPath(createGridClipShape(Lt.getBoundingRect(),r,function(){Lt.removeClipPath()}))}else{var Sn=Ie[Ce];Lt=Sn.childAt(0),ae.add(Sn),_e[Oe]=Sn,updateProps$1(Lt,{shape:{points:Ne,stackedOnPoints:ze}},r),saveOldStyle(Lt)}setLabelStyle(Lt,getLabelStatesModels(r),{labelDataIndex:Ue[At-1],defaultText:V.getName(Ue[At-1]),inheritColor:Fe.fill},{normal:{verticalAlign:"middle"}}),Lt.setTextConfig({position:null,local:!0});var xn=Lt.getTextContent();xn&&(xn.x=hn.x-_n,xn.y=hn.y0+hn.y/2),Lt.useStyle(Fe),V.setItemGraphicEl(Oe,Lt),setStatesStylesFromModel(Lt,r),toggleHoverEmphasis(Lt,$n.get("focus"),$n.get("blurScope"),$n.get("disabled"))}this._layersSeries=re,this._layers=_e},n.type="themeRiver",n}(ChartView$1);function createGridClipShape(g,n,r){var $=new Rect$3({shape:{x:g.x-10,y:g.y-10,width:0,height:g.height+20}});return initProps($,{shape:{x:g.x-50,width:g.width+100,height:g.height+20}},n,r),$}const ThemeRiverView$1=ThemeRiverView;var DATA_NAME_INDEX=2,ThemeRiverSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r){g.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$2(this.getData,this),bind$2(this.getRawData,this))},n.prototype.fixData=function(r){var $=r.length,L={},V=groupData(r,function(he){return L.hasOwnProperty(he[0]+"")||(L[he[0]+""]=-1),he[2]}),oe=[];V.buckets.each(function(he,pe){oe.push({name:pe,dataList:he})});for(var ae=oe.length,re=0;re<ae;++re){for(var le=oe[re].name,ue=0;ue<oe[re].dataList.length;++ue){var de=oe[re].dataList[ue][0]+"";L[de]=re}for(var de in L)L.hasOwnProperty(de)&&L[de]!==re&&(L[de]=re,r[$]=[de,0,le],$++)}return r},n.prototype.getInitialData=function(r,$){for(var L=this.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0],V=L.get("type"),oe=filter(r.data,function(_e){return _e[2]!==void 0}),ae=this.fixData(oe||[]),re=[],le=this.nameMap=createHashMap(),ue=0,de=0;de<ae.length;++de)re.push(ae[de][DATA_NAME_INDEX]),le.get(ae[de][DATA_NAME_INDEX])||(le.set(ae[de][DATA_NAME_INDEX],ue),ue++);var he=prepareSeriesDataSchema(ae,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis(V)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,pe=new SeriesData$1(he,this);return pe.initData(ae),pe},n.prototype.getLayerSeries=function(){for(var r=this.getData(),$=r.count(),L=[],V=0;V<$;++V)L[V]=V;var oe=r.mapDimension("single"),ae=groupData(L,function(le){return r.get("name",le)}),re=[];return ae.buckets.each(function(le,ue){le.sort(function(de,he){return r.get(oe,de)-r.get(oe,he)}),re.push({name:ue,indices:le})}),re},n.prototype.getAxisTooltipData=function(r,$,L){isArray$2(r)||(r=r?[r]:[]);for(var V=this.getData(),oe=this.getLayerSeries(),ae=[],re=oe.length,le,ue=0;ue<re;++ue){for(var de=Number.MAX_VALUE,he=-1,pe=oe[ue].indices.length,_e=0;_e<pe;++_e){var $e=V.get(r[0],oe[ue].indices[_e]),xe=Math.abs($e-$);xe<=de&&(le=$e,de=xe,he=oe[ue].indices[_e])}ae.push(he)}return{dataIndices:ae,nestestValue:le}},n.prototype.formatTooltip=function(r,$,L){var V=this.getData(),oe=V.getName(r),ae=V.get(V.mapDimension("value"),r);return createTooltipMarkup("nameValue",{name:oe,value:ae})},n.type="series.themeRiver",n.dependencies=["singleAxis"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},n}(SeriesModel$1);const ThemeRiverSeriesModel$1=ThemeRiverSeriesModel;function themeRiverLayout(g,n){g.eachSeriesByType("themeRiver",function(r){var $=r.getData(),L=r.coordinateSystem,V={},oe=L.getRect();V.rect=oe;var ae=r.get("boundaryGap"),re=L.getAxis();if(V.boundaryGap=ae,re.orient==="horizontal"){ae[0]=parsePercent(ae[0],oe.height),ae[1]=parsePercent(ae[1],oe.height);var le=oe.height-ae[0]-ae[1];doThemeRiverLayout($,r,le)}else{ae[0]=parsePercent(ae[0],oe.width),ae[1]=parsePercent(ae[1],oe.width);var ue=oe.width-ae[0]-ae[1];doThemeRiverLayout($,r,ue)}$.setLayout("layoutInfo",V)})}function doThemeRiverLayout(g,n,r){if(g.count())for(var $=n.coordinateSystem,L=n.getLayerSeries(),V=g.mapDimension("single"),oe=g.mapDimension("value"),ae=map$1(L,function(xe){return map$1(xe.indices,function(Oe){var Ce=$.dataToPoint(g.get(V,Oe));return Ce[1]=g.get(oe,Oe),Ce})}),re=computeBaseline(ae),le=re.y0,ue=r/re.max,de=L.length,he=L[0].indices.length,pe,_e=0;_e<he;++_e){pe=le[_e]*ue,g.setItemLayout(L[0].indices[_e],{layerIndex:0,x:ae[0][_e][0],y0:pe,y:ae[0][_e][1]*ue});for(var $e=1;$e<de;++$e)pe+=ae[$e-1][_e][1]*ue,g.setItemLayout(L[$e].indices[_e],{layerIndex:$e,x:ae[$e][_e][0],y0:pe,y:ae[$e][_e][1]*ue})}}function computeBaseline(g){for(var n=g.length,r=g[0].length,$=[],L=[],V=0,oe=0;oe<r;++oe){for(var ae=0,re=0;re<n;++re)ae+=g[re][oe][1];ae>V&&(V=ae),$.push(ae)}for(var le=0;le<r;++le)L[le]=(V-$[le])/2;V=0;for(var ue=0;ue<r;++ue){var de=$[ue]+L[ue];de>V&&(V=de)}return{y0:L,max:V}}function install$u(g){g.registerChartView(ThemeRiverView$1),g.registerSeriesModel(ThemeRiverSeriesModel$1),g.registerLayout(themeRiverLayout),g.registerProcessor(dataFilter$1("themeRiver"))}var DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPiece=function(g){__extends(n,g);function n(r,$,L,V){var oe=g.call(this)||this;oe.z2=DEFAULT_SECTOR_Z,oe.textConfig={inside:!0},getECData(oe).seriesIndex=$.seriesIndex;var ae=new ZRText$1({z2:DEFAULT_TEXT_Z,silent:r.getModel().get(["label","silent"])});return oe.setTextContent(ae),oe.updateData(!0,r,$,L,V),oe}return n.prototype.updateData=function(r,$,L,V,oe){this.node=$,$.piece=this,L=L||this._seriesModel,V=V||this._ecModel;var ae=this;getECData(ae).dataIndex=$.dataIndex;var re=$.getModel(),le=re.getModel("emphasis"),ue=$.getLayout(),de=extend$1({},ue);de.label=null;var he=$.getVisual("style");he.lineJoin="bevel";var pe=$.getVisual("decal");pe&&(he.decal=createOrUpdatePatternFromDecal(pe,oe));var _e=getSectorCornerRadius(re.getModel("itemStyle"),de,!0);extend$1(de,_e),each$f(SPECIAL_STATES,function(Ce){var Ie=ae.ensureState(Ce),Ne=re.getModel([Ce,"itemStyle"]);Ie.style=Ne.getItemStyle();var ze=getSectorCornerRadius(Ne,de);ze&&(Ie.shape=ze)}),r?(ae.setShape(de),ae.shape.r=ue.r0,updateProps$1(ae,{shape:{r:ue.r}},L,$.dataIndex)):(updateProps$1(ae,{shape:de},L),saveOldStyle(ae)),ae.useStyle(he),this._updateLabel(L);var $e=re.getShallow("cursor");$e&&ae.attr("cursor",$e),this._seriesModel=L||this._seriesModel,this._ecModel=V||this._ecModel;var xe=le.get("focus"),Oe=xe==="ancestor"?$.getAncestorsIndices():xe==="descendant"?$.getDescendantIndices():xe;toggleHoverEmphasis(this,Oe,le.get("blurScope"),le.get("disabled"))},n.prototype._updateLabel=function(r){var $=this,L=this.node.getModel(),V=L.getModel("label"),oe=this.node.getLayout(),ae=oe.endAngle-oe.startAngle,re=(oe.startAngle+oe.endAngle)/2,le=Math.cos(re),ue=Math.sin(re),de=this,he=de.getTextContent(),pe=this.node.dataIndex,_e=V.get("minAngle")/180*Math.PI,$e=V.get("show")&&!(_e!=null&&Math.abs(ae)<_e);he.ignore=!$e,each$f(DISPLAY_STATES,function(Oe){var Ce=Oe==="normal"?L.getModel("label"):L.getModel([Oe,"label"]),Ie=Oe==="normal",Ne=Ie?he:he.ensureState(Oe),ze=r.getFormattedLabel(pe,Oe);Ie&&(ze=ze||$.node.name),Ne.style=createTextStyle(Ce,{},null,Oe!=="normal",!0),ze&&(Ne.style.text=ze);var Fe=Ce.get("show");Fe!=null&&!Ie&&(Ne.ignore=!Fe);var Ue=xe(Ce,"position"),At=Ie?de:de.states[Oe],Et=At.style.fill;At.textConfig={outsideFill:Ce.get("color")==="inherit"?Et:null,inside:Ue!=="outside"};var Pt,kt=xe(Ce,"distance")||0,Dt=xe(Ce,"align");Ue==="outside"?(Pt=oe.r+kt,Dt=re>Math.PI/2?"right":"left"):!Dt||Dt==="center"?(ae===2*Math.PI&&oe.r0===0?Pt=0:Pt=(oe.r+oe.r0)/2,Dt="center"):Dt==="left"?(Pt=oe.r0+kt,re>Math.PI/2&&(Dt="right")):Dt==="right"&&(Pt=oe.r-kt,re>Math.PI/2&&(Dt="left")),Ne.style.align=Dt,Ne.style.verticalAlign=xe(Ce,"verticalAlign")||"middle",Ne.x=Pt*le+oe.cx,Ne.y=Pt*ue+oe.cy;var Lt=xe(Ce,"rotate"),hn=0;Lt==="radial"?(hn=-re,hn<-Math.PI/2&&(hn+=Math.PI)):Lt==="tangential"?(hn=Math.PI/2-re,hn>Math.PI/2?hn-=Math.PI:hn<-Math.PI/2&&(hn+=Math.PI)):isNumber$1(Lt)&&(hn=Lt*Math.PI/180),Ne.rotation=hn});function xe(Oe,Ce){var Ie=Oe.get(Ce);return Ie!=null?Ie:V.get(Ce)}he.dirtyStyle()},n}(Sector$1);const SunburstPiece$1=SunburstPiece;var ROOT_TO_NODE_ACTION="sunburstRootToNode",HIGHLIGHT_ACTION="sunburstHighlight",UNHIGHLIGHT_ACTION="sunburstUnhighlight";function installSunburstAction(g){g.registerAction({type:ROOT_TO_NODE_ACTION,update:"updateView"},function(n,r){r.eachComponent({mainType:"series",subType:"sunburst",query:n},$);function $(L,V){var oe=retrieveTargetInfo(n,[ROOT_TO_NODE_ACTION],L);if(oe){var ae=L.getViewRoot();ae&&(n.direction=aboveViewRoot(ae,oe.node)?"rollUp":"drillDown"),L.resetViewRoot(oe.node)}}}),g.registerAction({type:HIGHLIGHT_ACTION,update:"none"},function(n,r,$){n=extend$1({},n),r.eachComponent({mainType:"series",subType:"sunburst",query:n},L);function L(V){var oe=retrieveTargetInfo(n,[HIGHLIGHT_ACTION],V);oe&&(n.dataIndex=oe.node.dataIndex)}$.dispatchAction(extend$1(n,{type:"highlight"}))}),g.registerAction({type:UNHIGHLIGHT_ACTION,update:"updateView"},function(n,r,$){n=extend$1({},n),$.dispatchAction(extend$1(n,{type:"downplay"}))})}var SunburstView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L,V){var oe=this;this.seriesModel=r,this.api=L,this.ecModel=$;var ae=r.getData(),re=ae.tree.root,le=r.getViewRoot(),ue=this.group,de=r.get("renderLabelForZeroData"),he=[];le.eachNode(function(Ce){he.push(Ce)});var pe=this._oldChildren||[];_e(he,pe),Oe(re,le),this._initEvents(),this._oldChildren=he;function _e(Ce,Ie){if(Ce.length===0&&Ie.length===0)return;new DataDiffer$1(Ie,Ce,Ne,Ne).add(ze).update(ze).remove(curry$1(ze,null)).execute();function Ne(Fe){return Fe.getId()}function ze(Fe,Ue){var At=Fe==null?null:Ce[Fe],Et=Ue==null?null:Ie[Ue];$e(At,Et)}}function $e(Ce,Ie){if(!de&&Ce&&!Ce.getValue()&&(Ce=null),Ce!==re&&Ie!==re){if(Ie&&Ie.piece)Ce?(Ie.piece.updateData(!1,Ce,r,$,L),ae.setItemGraphicEl(Ce.dataIndex,Ie.piece)):xe(Ie);else if(Ce){var Ne=new SunburstPiece$1(Ce,r,$,L);ue.add(Ne),ae.setItemGraphicEl(Ce.dataIndex,Ne)}}}function xe(Ce){!Ce||Ce.piece&&(ue.remove(Ce.piece),Ce.piece=null)}function Oe(Ce,Ie){Ie.depth>0?(oe.virtualPiece?oe.virtualPiece.updateData(!1,Ce,r,$,L):(oe.virtualPiece=new SunburstPiece$1(Ce,r,$,L),ue.add(oe.virtualPiece)),Ie.piece.off("click"),oe.virtualPiece.on("click",function(Ne){oe._rootToNode(Ie.parentNode)})):oe.virtualPiece&&(ue.remove(oe.virtualPiece),oe.virtualPiece=null)}},n.prototype._initEvents=function(){var r=this;this.group.off("click"),this.group.on("click",function($){var L=!1,V=r.seriesModel.getViewRoot();V.eachNode(function(oe){if(!L&&oe.piece&&oe.piece===$.target){var ae=oe.getModel().get("nodeClick");if(ae==="rootToNode")r._rootToNode(oe);else if(ae==="link"){var re=oe.getModel(),le=re.get("link");if(le){var ue=re.get("target",!0)||"_blank";windowOpen(le,ue)}}L=!0}})})},n.prototype._rootToNode=function(r){r!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION,from:this.uid,seriesId:this.seriesModel.id,targetNode:r})},n.prototype.containPoint=function(r,$){var L=$.getData(),V=L.getItemLayout(0);if(V){var oe=r[0]-V.cx,ae=r[1]-V.cy,re=Math.sqrt(oe*oe+ae*ae);return re<=V.r&&re>=V.r0}},n.type="sunburst",n}(ChartView$1);const SunburstView$1=SunburstView;var SunburstSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.ignoreStyleOnData=!0,r}return n.prototype.getInitialData=function(r,$){var L={name:r.name,children:r.data};completeTreeValue(L);var V=this._levelModels=map$1(r.levels||[],function(re){return new Model$1(re,this,$)},this),oe=Tree$1.createTree(L,this,ae);function ae(re){re.wrapMethod("getItemModel",function(le,ue){var de=oe.getNodeByDataIndex(ue),he=V[de.depth];return he&&(le.parentModel=he),le})}return oe.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.getDataParams=function(r){var $=g.prototype.getDataParams.apply(this,arguments),L=this.getData().tree.getNodeByDataIndex(r);return $.treePathInfo=wrapTreePathInfo(L,this),$},n.prototype.getLevelModel=function(r){return this._levelModels&&this._levelModels[r.depth]},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var $=this.getRawData().tree.root;(!r||r!==$&&!$.contains(r))&&(this._viewRoot=$)},n.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},n.type="series.sunburst",n.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},n}(SeriesModel$1);function completeTreeValue(g){var n=0;each$f(g.children,function($){completeTreeValue($);var L=$.value;isArray$2(L)&&(L=L[0]),n+=L});var r=g.value;isArray$2(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=n),r<0&&(r=0),isArray$2(g.value)?g.value[0]=r:g.value=r}const SunburstSeriesModel$1=SunburstSeriesModel;var RADIAN=Math.PI/180;function sunburstLayout(g,n,r){n.eachSeriesByType(g,function($){var L=$.get("center"),V=$.get("radius");isArray$2(V)||(V=[0,V]),isArray$2(L)||(L=[L,L]);var oe=r.getWidth(),ae=r.getHeight(),re=Math.min(oe,ae),le=parsePercent(L[0],oe),ue=parsePercent(L[1],ae),de=parsePercent(V[0],re/2),he=parsePercent(V[1],re/2),pe=-$.get("startAngle")*RADIAN,_e=$.get("minAngle")*RADIAN,$e=$.getData().tree.root,xe=$.getViewRoot(),Oe=xe.depth,Ce=$.get("sort");Ce!=null&&initChildren(xe,Ce);var Ie=0;each$f(xe.children,function(_n){!isNaN(_n.getValue())&&Ie++});var Ne=xe.getValue(),ze=Math.PI/(Ne||Ie)*2,Fe=xe.depth>0,Ue=xe.height-(Fe?-1:1),At=(he-de)/(Ue||1),Et=$.get("clockwise"),Pt=$.get("stillShowZeroSum"),kt=Et?1:-1,Dt=function(_n,$n){if(_n){var Sn=$n;if(_n!==$e){var xn=_n.getValue(),On=Ne===0&&Pt?ze:xn*ze;On<_e&&(On=_e),Sn=$n+kt*On;var Cn=_n.depth-Oe-(Fe?-1:1),An=de+At*Cn,Rn=de+At*(Cn+1),Fn=$.getLevelModel(_n);if(Fn){var Pn=Fn.get("r0",!0),Un=Fn.get("r",!0),Dn=Fn.get("radius",!0);Dn!=null&&(Pn=Dn[0],Un=Dn[1]),Pn!=null&&(An=parsePercent(Pn,re/2)),Un!=null&&(Rn=parsePercent(Un,re/2))}_n.setLayout({angle:On,startAngle:$n,endAngle:Sn,clockwise:Et,cx:le,cy:ue,r0:An,r:Rn})}if(_n.children&&_n.children.length){var kn=0;each$f(_n.children,function(Nn){kn+=Dt(Nn,$n+kn)})}return Sn-$n}};if(Fe){var Lt=de,hn=de+At,vn=Math.PI*2;$e.setLayout({angle:vn,startAngle:pe,endAngle:pe+vn,clockwise:Et,cx:le,cy:ue,r0:Lt,r:hn})}Dt(xe,pe)})}function initChildren(g,n){var r=g.children||[];g.children=sort(r,n),r.length&&each$f(g.children,function($){initChildren($,n)})}function sort(g,n){if(isFunction$1(n)){var r=map$1(g,function(L,V){var oe=L.getValue();return{params:{depth:L.depth,height:L.height,dataIndex:L.dataIndex,getValue:function(){return oe}},index:V}});return r.sort(function(L,V){return n(L.params,V.params)}),map$1(r,function(L){return g[L.index]})}else{var $=n==="asc";return g.sort(function(L,V){var oe=(L.getValue()-V.getValue())*($?1:-1);return oe===0?(L.dataIndex-V.dataIndex)*($?-1:1):oe})}}function sunburstVisual(g){var n={};function r($,L,V){for(var oe=$;oe&&oe.depth>1;)oe=oe.parentNode;var ae=L.getColorFromPalette(oe.name||oe.dataIndex+"",n);return $.depth>1&&isString$1(ae)&&(ae=lift(ae,($.depth-1)/(V-1)*.5)),ae}g.eachSeriesByType("sunburst",function($){var L=$.getData(),V=L.tree;V.eachNode(function(oe){var ae=oe.getModel(),re=ae.getModel("itemStyle").getItemStyle();re.fill||(re.fill=r(oe,$,V.root.height));var le=L.ensureUniqueItemVisual(oe.dataIndex,"style");extend$1(le,re)})})}function install$t(g){g.registerChartView(SunburstView$1),g.registerSeriesModel(SunburstSeriesModel$1),g.registerLayout(curry$1(sunburstLayout,"sunburst")),g.registerProcessor(curry$1(dataFilter$1,"sunburst")),g.registerVisual(sunburstVisual),installSunburstAction(g)}var STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},n.prototype.getInitialData=function(r,$){return createSeriesData(null,this)},n.prototype.getDataParams=function(r,$,L){var V=g.prototype.getDataParams.call(this,r,$);return L&&(V.info=customInnerStore(L).info),V},n.type="series.custom",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},n}(SeriesModel$1);const CustomSeriesModel$1=CustomSeriesModel;function dataToCoordSize$3(g,n){return n=n||[0,0],map$1(["x","y"],function(r,$){var L=this.getAxis(r),V=n[$],oe=g[$]/2;return L.type==="category"?L.getBandWidth():Math.abs(L.dataToCoord(V-oe)-L.dataToCoord(V+oe))},this)}function cartesianPrepareCustom(g){var n=g.master.getRect();return{coordSys:{type:"cartesian2d",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(r){return g.dataToPoint(r)},size:bind$2(dataToCoordSize$3,g)}}}function dataToCoordSize$2(g,n){return n=n||[0,0],map$1([0,1],function(r){var $=n[r],L=g[r]/2,V=[],oe=[];return V[r]=$-L,oe[r]=$+L,V[1-r]=oe[1-r]=n[1-r],Math.abs(this.dataToPoint(V)[r]-this.dataToPoint(oe)[r])},this)}function geoPrepareCustom(g){var n=g.getBoundingRect();return{coordSys:{type:"geo",x:n.x,y:n.y,width:n.width,height:n.height,zoom:g.getZoom()},api:{coord:function(r){return g.dataToPoint(r)},size:bind$2(dataToCoordSize$2,g)}}}function dataToCoordSize$1(g,n){var r=this.getAxis(),$=n instanceof Array?n[0]:n,L=(g instanceof Array?g[0]:g)/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord($-L)-r.dataToCoord($+L))}function singlePrepareCustom(g){var n=g.getRect();return{coordSys:{type:"singleAxis",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(r){return g.dataToPoint(r)},size:bind$2(dataToCoordSize$1,g)}}}function dataToCoordSize(g,n){return n=n||[0,0],map$1(["Radius","Angle"],function(r,$){var L="get"+r+"Axis",V=this[L](),oe=n[$],ae=g[$]/2,re=V.type==="category"?V.getBandWidth():Math.abs(V.dataToCoord(oe-ae)-V.dataToCoord(oe+ae));return r==="Angle"&&(re=re*Math.PI/180),re},this)}function polarPrepareCustom(g){var n=g.getRadiusAxis(),r=g.getAngleAxis(),$=n.getExtent();return $[0]>$[1]&&$.reverse(),{coordSys:{type:"polar",cx:g.cx,cy:g.cy,r:$[1],r0:$[0]},api:{coord:function(L){var V=n.dataToRadius(L[0]),oe=r.dataToAngle(L[1]),ae=g.coordToPoint([V,oe]);return ae.push(V,oe*Math.PI/180),ae},size:bind$2(dataToCoordSize,g)}}}function calendarPrepareCustom(g){var n=g.getRect(),r=g.getRangeInfo();return{coordSys:{type:"calendar",x:n.x,y:n.y,width:n.width,height:n.height,cellWidth:g.getCellWidth(),cellHeight:g.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function($,L){return g.dataToPoint($,L)}}}}function isEC4CompatibleStyle(g,n,r,$){return g&&(g.legacy||g.legacy!==!1&&!r&&!$&&n!=="tspan"&&(n==="text"||hasOwn(g,"text")))}function convertFromEC4CompatibleStyle(g,n,r){var $=g,L,V,oe;if(n==="text")oe=$;else{oe={},hasOwn($,"text")&&(oe.text=$.text),hasOwn($,"rich")&&(oe.rich=$.rich),hasOwn($,"textFill")&&(oe.fill=$.textFill),hasOwn($,"textStroke")&&(oe.stroke=$.textStroke),hasOwn($,"fontFamily")&&(oe.fontFamily=$.fontFamily),hasOwn($,"fontSize")&&(oe.fontSize=$.fontSize),hasOwn($,"fontStyle")&&(oe.fontStyle=$.fontStyle),hasOwn($,"fontWeight")&&(oe.fontWeight=$.fontWeight),V={type:"text",style:oe,silent:!0},L={};var ae=hasOwn($,"textPosition");r?L.position=ae?$.textPosition:"inside":ae&&(L.position=$.textPosition),hasOwn($,"textPosition")&&(L.position=$.textPosition),hasOwn($,"textOffset")&&(L.offset=$.textOffset),hasOwn($,"textRotation")&&(L.rotation=$.textRotation),hasOwn($,"textDistance")&&(L.distance=$.textDistance)}return convertEC4CompatibleRichItem(oe,g),each$f(oe.rich,function(re){convertEC4CompatibleRichItem(re,re)}),{textConfig:L,textContent:V}}function convertEC4CompatibleRichItem(g,n){!n||(n.font=n.textFont||n.font,hasOwn(n,"textStrokeWidth")&&(g.lineWidth=n.textStrokeWidth),hasOwn(n,"textAlign")&&(g.align=n.textAlign),hasOwn(n,"textVerticalAlign")&&(g.verticalAlign=n.textVerticalAlign),hasOwn(n,"textLineHeight")&&(g.lineHeight=n.textLineHeight),hasOwn(n,"textWidth")&&(g.width=n.textWidth),hasOwn(n,"textHeight")&&(g.height=n.textHeight),hasOwn(n,"textBackgroundColor")&&(g.backgroundColor=n.textBackgroundColor),hasOwn(n,"textPadding")&&(g.padding=n.textPadding),hasOwn(n,"textBorderColor")&&(g.borderColor=n.textBorderColor),hasOwn(n,"textBorderWidth")&&(g.borderWidth=n.textBorderWidth),hasOwn(n,"textBorderRadius")&&(g.borderRadius=n.textBorderRadius),hasOwn(n,"textBoxShadowColor")&&(g.shadowColor=n.textBoxShadowColor),hasOwn(n,"textBoxShadowBlur")&&(g.shadowBlur=n.textBoxShadowBlur),hasOwn(n,"textBoxShadowOffsetX")&&(g.shadowOffsetX=n.textBoxShadowOffsetX),hasOwn(n,"textBoxShadowOffsetY")&&(g.shadowOffsetY=n.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(g,n,r){var $=g;$.textPosition=$.textPosition||r.position||"inside",r.offset!=null&&($.textOffset=r.offset),r.rotation!=null&&($.textRotation=r.rotation),r.distance!=null&&($.textDistance=r.distance);var L=$.textPosition.indexOf("inside")>=0,V=g.fill||"#000";convertToEC4RichItem($,n);var oe=$.textFill==null;return L?oe&&($.textFill=r.insideFill||"#fff",!$.textStroke&&r.insideStroke&&($.textStroke=r.insideStroke),!$.textStroke&&($.textStroke=V),$.textStrokeWidth==null&&($.textStrokeWidth=2)):(oe&&($.textFill=g.fill||r.outsideFill||"#000"),!$.textStroke&&r.outsideStroke&&($.textStroke=r.outsideStroke)),$.text=n.text,$.rich=n.rich,each$f(n.rich,function(ae){convertToEC4RichItem(ae,ae)}),$}function convertToEC4RichItem(g,n){!n||(hasOwn(n,"fill")&&(g.textFill=n.fill),hasOwn(n,"stroke")&&(g.textStroke=n.fill),hasOwn(n,"lineWidth")&&(g.textStrokeWidth=n.lineWidth),hasOwn(n,"font")&&(g.font=n.font),hasOwn(n,"fontStyle")&&(g.fontStyle=n.fontStyle),hasOwn(n,"fontWeight")&&(g.fontWeight=n.fontWeight),hasOwn(n,"fontSize")&&(g.fontSize=n.fontSize),hasOwn(n,"fontFamily")&&(g.fontFamily=n.fontFamily),hasOwn(n,"align")&&(g.textAlign=n.align),hasOwn(n,"verticalAlign")&&(g.textVerticalAlign=n.verticalAlign),hasOwn(n,"lineHeight")&&(g.textLineHeight=n.lineHeight),hasOwn(n,"width")&&(g.textWidth=n.width),hasOwn(n,"height")&&(g.textHeight=n.height),hasOwn(n,"backgroundColor")&&(g.textBackgroundColor=n.backgroundColor),hasOwn(n,"padding")&&(g.textPadding=n.padding),hasOwn(n,"borderColor")&&(g.textBorderColor=n.borderColor),hasOwn(n,"borderWidth")&&(g.textBorderWidth=n.borderWidth),hasOwn(n,"borderRadius")&&(g.textBorderRadius=n.borderRadius),hasOwn(n,"shadowColor")&&(g.textBoxShadowColor=n.shadowColor),hasOwn(n,"shadowBlur")&&(g.textBoxShadowBlur=n.shadowBlur),hasOwn(n,"shadowOffsetX")&&(g.textBoxShadowOffsetX=n.shadowOffsetX),hasOwn(n,"shadowOffsetY")&&(g.textBoxShadowOffsetY=n.shadowOffsetY),hasOwn(n,"textShadowColor")&&(g.textShadowColor=n.textShadowColor),hasOwn(n,"textShadowBlur")&&(g.textShadowBlur=n.textShadowBlur),hasOwn(n,"textShadowOffsetX")&&(g.textShadowOffsetX=n.textShadowOffsetX),hasOwn(n,"textShadowOffsetY")&&(g.textShadowOffsetY=n.textShadowOffsetY))}var LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=keys(LEGACY_TRANSFORM_PROPS_MAP);reduce(TRANSFORMABLE_PROPS,function(g,n){return g[n]=1,g},{}),TRANSFORMABLE_PROPS.join(", ");var ELEMENT_ANIMATABLE_PROPS=["","style","shape","extra"],transitionInnerStore=makeInner();function getElementAnimationConfig(g,n,r,$,L){var V=g+"Animation",oe=getAnimationConfig(g,$,L)||{},ae=transitionInnerStore(n).userDuring;return oe.duration>0&&(oe.during=ae?bind$2(duringCall,{el:n,userDuring:ae}):null,oe.setToFinal=!0,oe.scope=g),extend$1(oe,r[V]),oe}function applyUpdateTransition(g,n,r,$){$=$||{};var L=$.dataIndex,V=$.isInit,oe=$.clearStyle,ae=r.isAnimationEnabled(),re=transitionInnerStore(g),le=n.style;re.userDuring=n.during;var ue={},de={};if(prepareTransformAllPropsFinal(g,n,de),prepareShapeOrExtraAllPropsFinal("shape",n,de),prepareShapeOrExtraAllPropsFinal("extra",n,de),!V&&ae&&(prepareTransformTransitionFrom(g,n,ue),prepareShapeOrExtraTransitionFrom("shape",g,n,ue),prepareShapeOrExtraTransitionFrom("extra",g,n,ue),prepareStyleTransitionFrom(g,n,le,ue)),de.style=le,applyPropsDirectly(g,de,oe),applyMiscProps(g,n),ae)if(V){var he={};each$f(ELEMENT_ANIMATABLE_PROPS,function(_e){var $e=_e?n[_e]:n;$e&&$e.enterFrom&&(_e&&(he[_e]=he[_e]||{}),extend$1(_e?he[_e]:he,$e.enterFrom))});var pe=getElementAnimationConfig("enter",g,n,r,L);pe.duration>0&&g.animateFrom(he,pe)}else applyPropsTransition(g,n,L||0,r,ue);updateLeaveTo(g,n),le?g.dirty():g.markRedraw()}function updateLeaveTo(g,n){for(var r=transitionInnerStore(g).leaveToProps,$=0;$<ELEMENT_ANIMATABLE_PROPS.length;$++){var L=ELEMENT_ANIMATABLE_PROPS[$],V=L?n[L]:n;V&&V.leaveTo&&(r||(r=transitionInnerStore(g).leaveToProps={}),L&&(r[L]=r[L]||{}),extend$1(L?r[L]:r,V.leaveTo))}}function applyLeaveTransition(g,n,r,$){if(g){var L=g.parent,V=transitionInnerStore(g).leaveToProps;if(V){var oe=getElementAnimationConfig("update",g,n,r,0);oe.done=function(){L.remove(g),$&&$()},g.animateTo(V,oe)}else L.remove(g),$&&$()}}function isTransitionAll(g){return g==="all"}function applyPropsDirectly(g,n,r){var $=n.style;if(!g.isGroup&&$){if(r){g.useStyle({});for(var L=g.animators,V=0;V<L.length;V++){var oe=L[V];oe.targetName==="style"&&oe.changeTarget(g.style)}}g.setStyle($)}n&&(n.style=null,n&&g.attr(n),n.style=$)}function applyPropsTransition(g,n,r,$,L){if(L){var V=getElementAnimationConfig("update",g,n,$,r);V.duration>0&&g.animateFrom(L,V)}}function applyMiscProps(g,n){hasOwn(n,"silent")&&(g.silent=n.silent),hasOwn(n,"ignore")&&(g.ignore=n.ignore),g instanceof Displayable$1&&hasOwn(n,"invisible")&&(g.invisible=n.invisible),g instanceof Path$1&&hasOwn(n,"autoBatch")&&(g.autoBatch=n.autoBatch)}var tmpDuringScope={},transitionDuringAPI={setTransform:function(g,n){return tmpDuringScope.el[g]=n,this},getTransform:function(g){return tmpDuringScope.el[g]},setShape:function(g,n){var r=tmpDuringScope.el,$=r.shape||(r.shape={});return $[g]=n,r.dirtyShape&&r.dirtyShape(),this},getShape:function(g){var n=tmpDuringScope.el.shape;if(n)return n[g]},setStyle:function(g,n){var r=tmpDuringScope.el,$=r.style;return $&&($[g]=n,r.dirtyStyle&&r.dirtyStyle()),this},getStyle:function(g){var n=tmpDuringScope.el.style;if(n)return n[g]},setExtra:function(g,n){var r=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return r[g]=n,this},getExtra:function(g){var n=tmpDuringScope.el.extra;if(n)return n[g]}};function duringCall(){var g=this,n=g.el;if(n){var r=transitionInnerStore(n).userDuring,$=g.userDuring;if(r!==$){g.el=g.userDuring=null;return}tmpDuringScope.el=n,$(transitionDuringAPI)}}function prepareShapeOrExtraTransitionFrom(g,n,r,$){var L=r[g];if(L){var V=n[g],oe;if(V){var ae=r.transition,re=L.transition;if(re)if(!oe&&(oe=$[g]={}),isTransitionAll(re))extend$1(oe,V);else for(var le=normalizeToArray(re),ue=0;ue<le.length;ue++){var de=le[ue],he=V[de];oe[de]=he}else if(isTransitionAll(ae)||indexOf(ae,g)>=0){!oe&&(oe=$[g]={});for(var pe=keys(V),ue=0;ue<pe.length;ue++){var de=pe[ue],he=V[de];isNonStyleTransitionEnabled(L[de],he)&&(oe[de]=he)}}}}}function prepareShapeOrExtraAllPropsFinal(g,n,r){var $=n[g];if($)for(var L=r[g]={},V=keys($),oe=0;oe<V.length;oe++){var ae=V[oe];L[ae]=cloneValue($[ae])}}function prepareTransformTransitionFrom(g,n,r){for(var $=n.transition,L=isTransitionAll($)?TRANSFORMABLE_PROPS:normalizeToArray($||[]),V=0;V<L.length;V++){var oe=L[V];if(!(oe==="style"||oe==="shape"||oe==="extra")){var ae=g[oe];r[oe]=ae}}}function prepareTransformAllPropsFinal(g,n,r){for(var $=0;$<LEGACY_TRANSFORM_PROPS.length;$++){var L=LEGACY_TRANSFORM_PROPS[$],V=LEGACY_TRANSFORM_PROPS_MAP[L],oe=n[L];oe&&(r[V[0]]=oe[0],r[V[1]]=oe[1])}for(var $=0;$<TRANSFORMABLE_PROPS.length;$++){var ae=TRANSFORMABLE_PROPS[$];n[ae]!=null&&(r[ae]=n[ae])}}function prepareStyleTransitionFrom(g,n,r,$){if(r){var L=g.style,V;if(L){var oe=r.transition,ae=n.transition;if(oe&&!isTransitionAll(oe)){var re=normalizeToArray(oe);!V&&(V=$.style={});for(var le=0;le<re.length;le++){var ue=re[le],de=L[ue];V[ue]=de}}else if(g.getAnimationStyleProps&&(isTransitionAll(ae)||isTransitionAll(oe)||indexOf(ae,"style")>=0)){var he=g.getAnimationStyleProps(),pe=he?he.style:null;if(pe){!V&&(V=$.style={});for(var _e=keys(r),le=0;le<_e.length;le++){var ue=_e[le];if(pe[ue]){var de=L[ue];V[ue]=de}}}}}}}function isNonStyleTransitionEnabled(g,n){return isArrayLike(g)?g!==n:g!=null&&isFinite(g)}var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(g){g.stopAnimation("keyframe"),g.attr(getStateToRestore(g))}function applyKeyframeAnimation(g,n,r){if(!(!r.isAnimationEnabled()||!n)){if(isArray$2(n)){each$f(n,function(ae){applyKeyframeAnimation(g,ae,r)});return}var $=n.keyframes,L=n.duration;if(r&&L==null){var V=getAnimationConfig("enter",r,0);L=V&&V.duration}if(!(!$||!L)){var oe=getStateToRestore(g);each$f(ELEMENT_ANIMATABLE_PROPS,function(ae){if(!(ae&&!g[ae])){var re;$.sort(function(le,ue){return le.percent-ue.percent}),each$f($,function(le){var ue=g.animators,de=ae?le[ae]:le;if(de){var he=keys(de);if(ae||(he=filter(he,function($e){return indexOf(KEYFRAME_EXCLUDE_KEYS,$e)<0})),!!he.length){re||(re=g.animate(ae,n.loop,!0),re.scope="keyframe");for(var pe=0;pe<ue.length;pe++)ue[pe]!==re&&ue[pe].targetName===re.targetName&&ue[pe].stopTracks(he);ae&&(oe[ae]=oe[ae]||{});var _e=ae?oe[ae]:oe;each$f(he,function($e){_e[$e]=((ae?g[ae]:g)||{})[$e]}),re.whenWithKeys(L*le.percent,de,he,le.easing)}}}),re&&re.delay(n.delay||0).duration(L).start(n.easing)}})}}}var EMPHASIS="emphasis",NORMAL="normal",BLUR="blur",SELECT="select",STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:[EMPHASIS,"itemStyle"],blur:[BLUR,"itemStyle"],select:[SELECT,"itemStyle"]},PATH_LABEL={normal:["label"],emphasis:[EMPHASIS,"label"],blur:[BLUR,"label"],select:[SELECT,"label"]},DEFAULT_TRANSITION=["x","y"],GROUP_DIFF_PREFIX="e\0\0",attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,single:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function isPath(g){return g instanceof Path$1}function isDisplayable(g){return g instanceof Displayable$1}function copyElement(g,n){n.copyTransform(g),isDisplayable(n)&&isDisplayable(g)&&(n.setStyle(g.style),n.z=g.z,n.z2=g.z2,n.zlevel=g.zlevel,n.invisible=g.invisible,n.ignore=g.ignore,isPath(n)&&isPath(g)&&n.setShape(g.shape))}var CustomChartView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L,V){this._progressiveEls=null;var oe=this._data,ae=r.getData(),re=this.group,le=makeRenderItem(r,ae,$,L);oe||re.removeAll(),ae.diff(oe).add(function(de){createOrUpdateItem(L,null,de,le(de,V),r,re,ae)}).remove(function(de){var he=oe.getItemGraphicEl(de);he&&applyLeaveTransition(he,customInnerStore(he).option,r)}).update(function(de,he){var pe=oe.getItemGraphicEl(he);createOrUpdateItem(L,pe,de,le(de,V),r,re,ae)}).execute();var ue=r.get("clip",!0)?createClipPath(r.coordinateSystem,!1,r):null;ue?re.setClipPath(ue):re.removeClipPath(),this._data=ae},n.prototype.incrementalPrepareRender=function(r,$,L){this.group.removeAll(),this._data=null},n.prototype.incrementalRender=function(r,$,L,V,oe){var ae=$.getData(),re=makeRenderItem($,ae,L,V),le=this._progressiveEls=[];function ue(pe){pe.isGroup||(pe.incremental=!0,pe.ensureState("emphasis").hoverLayer=!0)}for(var de=r.start;de<r.end;de++){var he=createOrUpdateItem(null,null,de,re(de,oe),$,this.group,ae);he&&(he.traverse(ue),le.push(he))}},n.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},n.prototype.filterForExposedEvent=function(r,$,L,V){var oe=$.element;if(oe==null||L.name===oe)return!0;for(;(L=L.__hostTarget||L.parent)&&L!==this.group;)if(L.name===oe)return!0;return!1},n.type="custom",n}(ChartView$1);const CustomChartView$1=CustomChartView;function createEl$1(g){var n=g.type,r;if(n==="path"){var $=g.shape,L=$.width!=null&&$.height!=null?{x:$.x||0,y:$.y||0,width:$.width,height:$.height}:null,V=getPathData($);r=makePath(V,null,L,$.layout||"center"),customInnerStore(r).customPathData=V}else if(n==="image")r=new ZRImage$1({}),customInnerStore(r).customImagePath=g.style.image;else if(n==="text")r=new ZRText$1({});else if(n==="group")r=new Group$4;else{if(n==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var oe=getShapeClass(n);if(!oe){var ae="";throwError(ae)}r=new oe}return customInnerStore(r).customGraphicType=n,r.name=g.name,r.z2EmphasisLift=1,r.z2SelectLift=1,r}function updateElNormal(g,n,r,$,L,V,oe){stopPreviousKeyframeAnimationAndRestore(n);var ae=L&&L.normal.cfg;ae&&n.setTextConfig(ae),$&&$.transition==null&&($.transition=DEFAULT_TRANSITION);var re=$&&$.style;if(re){if(n.type==="text"){var le=re;hasOwn(le,"textFill")&&(le.fill=le.textFill),hasOwn(le,"textStroke")&&(le.stroke=le.textStroke)}var ue=void 0,de=isPath(n)?re.decal:null;g&&de&&(de.dirty=!0,ue=createOrUpdatePatternFromDecal(de,g)),re.__decalPattern=ue}if(isDisplayable(n)&&re){var ue=re.__decalPattern;ue&&(re.decal=ue)}applyUpdateTransition(n,$,V,{dataIndex:r,isInit:oe,clearStyle:!0}),applyKeyframeAnimation(n,$.keyframeAnimation,V)}function updateElOnState(g,n,r,$,L){var V=n.isGroup?null:n,oe=L&&L[g].cfg;if(V){var ae=V.ensureState(g);if($===!1){var re=V.getState(g);re&&(re.style=null)}else ae.style=$||null;oe&&(ae.textConfig=oe),setDefaultStateProxy(V)}}function updateZ(g,n,r){if(!g.isGroup){var $=g,L=r.currentZ,V=r.currentZLevel;$.z=L,$.zlevel=V;var oe=n.z2;oe!=null&&($.z2=oe||0);for(var ae=0;ae<STATES.length;ae++)updateZForEachState($,n,STATES[ae])}}function updateZForEachState(g,n,r){var $=r===NORMAL,L=$?n:retrieveStateOption(n,r),V=L?L.z2:null,oe;V!=null&&(oe=$?g:g.ensureState(r),oe.z2=V||0)}function makeRenderItem(g,n,r,$){var L=g.get("renderItem"),V=g.coordinateSystem,oe={};V&&(oe=V.prepareCustoms?V.prepareCustoms(V):prepareCustoms[V.type](V));for(var ae=defaults$2({getWidth:$.getWidth,getHeight:$.getHeight,getZr:$.getZr,getDevicePixelRatio:$.getDevicePixelRatio,value:Ne,style:Fe,ordinalRawValue:ze,styleEmphasis:Ue,visual:Pt,barLayout:kt,currentSeriesIndices:Dt,font:Lt},oe.api||{}),re={context:{},seriesId:g.id,seriesName:g.name,seriesIndex:g.seriesIndex,coordSys:oe.coordSys,dataInsideLength:n.count(),encode:wrapEncodeDef(g.getData())},le,ue,de={},he={},pe={},_e={},$e=0;$e<STATES.length;$e++){var xe=STATES[$e];pe[xe]=g.getModel(PATH_ITEM_STYLE[xe]),_e[xe]=g.getModel(PATH_LABEL[xe])}function Oe(hn){return hn===le?ue||(ue=n.getItemModel(hn)):n.getItemModel(hn)}function Ce(hn,vn){return n.hasItemOption?hn===le?de[vn]||(de[vn]=Oe(hn).getModel(PATH_ITEM_STYLE[vn])):Oe(hn).getModel(PATH_ITEM_STYLE[vn]):pe[vn]}function Ie(hn,vn){return n.hasItemOption?hn===le?he[vn]||(he[vn]=Oe(hn).getModel(PATH_LABEL[vn])):Oe(hn).getModel(PATH_LABEL[vn]):_e[vn]}return function(hn,vn){return le=hn,ue=null,de={},he={},L&&L(defaults$2({dataIndexInside:hn,dataIndex:n.getRawIndex(hn),actionType:vn?vn.type:null},re),ae)};function Ne(hn,vn){return vn==null&&(vn=le),n.getStore().get(n.getDimensionIndex(hn||0),vn)}function ze(hn,vn){vn==null&&(vn=le),hn=hn||0;var _n=n.getDimensionInfo(hn);if(!_n){var $n=n.getDimensionIndex(hn);return $n>=0?n.getStore().get($n,vn):void 0}var Sn=n.get(_n.name,vn),xn=_n&&_n.ordinalMeta;return xn?xn.categories[Sn]:Sn}function Fe(hn,vn){vn==null&&(vn=le);var _n=n.getItemVisual(vn,"style"),$n=_n&&_n.fill,Sn=_n&&_n.opacity,xn=Ce(vn,NORMAL).getItemStyle();$n!=null&&(xn.fill=$n),Sn!=null&&(xn.opacity=Sn);var On={inheritColor:isString$1($n)?$n:"#000"},Cn=Ie(vn,NORMAL),An=createTextStyle(Cn,null,On,!1,!0);An.text=Cn.getShallow("show")?retrieve2(g.getFormattedLabel(vn,NORMAL),getDefaultLabel(n,vn)):null;var Rn=createTextConfig(Cn,On,!1);return Et(hn,xn),xn=convertToEC4StyleForCustomSerise(xn,An,Rn),hn&&At(xn,hn),xn.legacy=!0,xn}function Ue(hn,vn){vn==null&&(vn=le);var _n=Ce(vn,EMPHASIS).getItemStyle(),$n=Ie(vn,EMPHASIS),Sn=createTextStyle($n,null,null,!0,!0);Sn.text=$n.getShallow("show")?retrieve3(g.getFormattedLabel(vn,EMPHASIS),g.getFormattedLabel(vn,NORMAL),getDefaultLabel(n,vn)):null;var xn=createTextConfig($n,null,!0);return Et(hn,_n),_n=convertToEC4StyleForCustomSerise(_n,Sn,xn),hn&&At(_n,hn),_n.legacy=!0,_n}function At(hn,vn){for(var _n in vn)hasOwn(vn,_n)&&(hn[_n]=vn[_n])}function Et(hn,vn){hn&&(hn.textFill&&(vn.textFill=hn.textFill),hn.textPosition&&(vn.textPosition=hn.textPosition))}function Pt(hn,vn){if(vn==null&&(vn=le),hasOwn(STYLE_VISUAL_TYPE,hn)){var _n=n.getItemVisual(vn,"style");return _n?_n[STYLE_VISUAL_TYPE[hn]]:null}if(hasOwn(NON_STYLE_VISUAL_PROPS,hn))return n.getItemVisual(vn,hn)}function kt(hn){if(V.type==="cartesian2d"){var vn=V.getBaseAxis();return getLayoutOnAxis(defaults$2({axis:vn},hn))}}function Dt(){return r.getCurrentSeriesIndices()}function Lt(hn){return getFont(hn,r)}}function wrapEncodeDef(g){var n={};return each$f(g.dimensions,function(r){var $=g.getDimensionInfo(r);if(!$.isExtraCoord){var L=$.coordDim,V=n[L]=n[L]||[];V[$.coordDimIndex]=g.getDimensionIndex(r)}}),n}function createOrUpdateItem(g,n,r,$,L,V,oe){if(!$){V.remove(n);return}var ae=doCreateOrUpdateEl(g,n,r,$,L,V);return ae&&oe.setItemGraphicEl(r,ae),ae&&toggleHoverEmphasis(ae,$.focus,$.blurScope,$.emphasisDisabled),ae}function doCreateOrUpdateEl(g,n,r,$,L,V){var oe=-1,ae=n;n&&doesElNeedRecreate(n,$,L)&&(oe=indexOf(V.childrenRef(),n),n=null);var re=!n,le=n;le?le.clearStates():(le=createEl$1($),ae&&copyElement(ae,le)),$.morph===!1?le.disableMorphing=!0:le.disableMorphing&&(le.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(le,r,$,L,re,attachedTxInfoTmp),doCreateOrUpdateClipPath(le,r,$,L,re),updateElNormal(g,le,r,$,attachedTxInfoTmp,L,re),hasOwn($,"info")&&(customInnerStore(le).info=$.info);for(var ue=0;ue<STATES.length;ue++){var de=STATES[ue];if(de!==NORMAL){var he=retrieveStateOption($,de),pe=retrieveStyleOptionOnState($,he,de);updateElOnState(de,le,he,pe,attachedTxInfoTmp)}}return updateZ(le,$,L),$.type==="group"&&mergeChildren(g,le,r,$,L),oe>=0?V.replaceAt(le,oe):V.add(le),le}function doesElNeedRecreate(g,n,r){var $=customInnerStore(g),L=n.type,V=n.shape,oe=n.style;return r.isUniversalTransitionEnabled()||L!=null&&L!==$.customGraphicType||L==="path"&&hasOwnPathData(V)&&getPathData(V)!==$.customPathData||L==="image"&&hasOwn(oe,"image")&&oe.image!==$.customImagePath}function doCreateOrUpdateClipPath(g,n,r,$,L){var V=r.clipPath;if(V===!1)g&&g.getClipPath()&&g.removeClipPath();else if(V){var oe=g.getClipPath();oe&&doesElNeedRecreate(oe,V,$)&&(oe=null),oe||(oe=createEl$1(V),g.setClipPath(oe)),updateElNormal(null,oe,n,V,null,$,L)}}function doCreateOrUpdateAttachedTx(g,n,r,$,L,V){if(!g.isGroup){processTxInfo(r,null,V),processTxInfo(r,EMPHASIS,V);var oe=V.normal.conOpt,ae=V.emphasis.conOpt,re=V.blur.conOpt,le=V.select.conOpt;if(oe!=null||ae!=null||le!=null||re!=null){var ue=g.getTextContent();if(oe===!1)ue&&g.removeTextContent();else{oe=V.normal.conOpt=oe||{type:"text"},ue?ue.clearStates():(ue=createEl$1(oe),g.setTextContent(ue)),updateElNormal(null,ue,n,oe,null,$,L);for(var de=oe&&oe.style,he=0;he<STATES.length;he++){var pe=STATES[he];if(pe!==NORMAL){var _e=V[pe].conOpt;updateElOnState(pe,ue,_e,retrieveStyleOptionOnState(oe,_e,pe),null)}}de?ue.dirty():ue.markRedraw()}}}}function processTxInfo(g,n,r){var $=n?retrieveStateOption(g,n):g,L=n?retrieveStyleOptionOnState(g,$,EMPHASIS):g.style,V=g.type,oe=$?$.textConfig:null,ae=g.textContent,re=ae?n?retrieveStateOption(ae,n):ae:null;if(L&&(r.isLegacy||isEC4CompatibleStyle(L,V,!!oe,!!re))){r.isLegacy=!0;var le=convertFromEC4CompatibleStyle(L,V,!n);!oe&&le.textConfig&&(oe=le.textConfig),!re&&le.textContent&&(re=le.textContent)}if(!n&&re){var ue=re;!ue.type&&(ue.type="text")}var de=n?r[n]:r.normal;de.cfg=oe,de.conOpt=re}function retrieveStateOption(g,n){return n?g?g[n]:null:g}function retrieveStyleOptionOnState(g,n,r){var $=n&&n.style;return $==null&&r===EMPHASIS&&g&&($=g.styleEmphasis),$}function mergeChildren(g,n,r,$,L){var V=$.children,oe=V?V.length:0,ae=$.$mergeChildren,re=ae==="byName"||$.diffChildrenByName,le=ae===!1;if(!(!oe&&!re&&!le)){if(re){diffGroupChildren({api:g,oldChildren:n.children()||[],newChildren:V||[],dataIndex:r,seriesModel:L,group:n});return}le&&n.removeAll();for(var ue=0;ue<oe;ue++){var de=V[ue],he=n.childAt(ue);de?(de.ignore==null&&(de.ignore=!1),doCreateOrUpdateEl(g,he,r,de,L,n)):he.ignore=!0}for(var pe=n.childCount()-1;pe>=ue;pe--){var _e=n.childAt(pe);removeChildFromGroup(n,_e,L)}}}function removeChildFromGroup(g,n,r){n&&applyLeaveTransition(n,customInnerStore(g).option,r)}function diffGroupChildren(g){new DataDiffer$1(g.oldChildren,g.newChildren,getKey,getKey,g).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey(g,n){var r=g&&g.name;return r!=null?r:GROUP_DIFF_PREFIX+n}function processAddUpdate(g,n){var r=this.context,$=g!=null?r.newChildren[g]:null,L=n!=null?r.oldChildren[n]:null;doCreateOrUpdateEl(r.api,L,r.dataIndex,$,r.seriesModel,r.group)}function processRemove(g){var n=this.context,r=n.oldChildren[g];r&&applyLeaveTransition(r,customInnerStore(r).option,n.seriesModel)}function getPathData(g){return g&&(g.pathData||g.d)}function hasOwnPathData(g){return g&&(hasOwn(g,"pathData")||hasOwn(g,"d"))}function install$s(g){g.registerChartView(CustomChartView$1),g.registerSeriesModel(CustomSeriesModel$1)}var inner$b=makeInner(),clone$1=clone$4,bind$1=bind$2,BaseAxisPointer=function(){function g(){this._dragging=!1,this.animationThreshold=15}return g.prototype.render=function(n,r,$,L){var V=r.get("value"),oe=r.get("status");if(this._axisModel=n,this._axisPointerModel=r,this._api=$,!(!L&&this._lastValue===V&&this._lastStatus===oe)){this._lastValue=V,this._lastStatus=oe;var ae=this._group,re=this._handle;if(!oe||oe==="hide"){ae&&ae.hide(),re&&re.hide();return}ae&&ae.show(),re&&re.show();var le={};this.makeElOption(le,V,n,r,$);var ue=le.graphicKey;ue!==this._lastGraphicKey&&this.clear($),this._lastGraphicKey=ue;var de=this._moveAnimation=this.determineAnimation(n,r);if(!ae)ae=this._group=new Group$4,this.createPointerEl(ae,le,n,r),this.createLabelEl(ae,le,n,r),$.getZr().add(ae);else{var he=curry$1(updateProps,r,de);this.updatePointerEl(ae,le,he),this.updateLabelEl(ae,le,he,r)}updateMandatoryProps(ae,r,!0),this._renderHandle(V)}},g.prototype.remove=function(n){this.clear(n)},g.prototype.dispose=function(n){this.clear(n)},g.prototype.determineAnimation=function(n,r){var $=r.get("animation"),L=n.axis,V=L.type==="category",oe=r.get("snap");if(!oe&&!V)return!1;if($==="auto"||$==null){var ae=this.animationThreshold;if(V&&L.getBandWidth()>ae)return!0;if(oe){var re=getAxisInfo$1(n).seriesDataCount,le=L.getExtent();return Math.abs(le[0]-le[1])/re>ae}return!1}return $===!0},g.prototype.makeElOption=function(n,r,$,L,V){},g.prototype.createPointerEl=function(n,r,$,L){var V=r.pointer;if(V){var oe=inner$b(n).pointerEl=new graphic[V.type](clone$1(r.pointer));n.add(oe)}},g.prototype.createLabelEl=function(n,r,$,L){if(r.label){var V=inner$b(n).labelEl=new ZRText$1(clone$1(r.label));n.add(V),updateLabelShowHide(V,L)}},g.prototype.updatePointerEl=function(n,r,$){var L=inner$b(n).pointerEl;L&&r.pointer&&(L.setStyle(r.pointer.style),$(L,{shape:r.pointer.shape}))},g.prototype.updateLabelEl=function(n,r,$,L){var V=inner$b(n).labelEl;V&&(V.setStyle(r.label.style),$(V,{x:r.label.x,y:r.label.y}),updateLabelShowHide(V,L))},g.prototype._renderHandle=function(n){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,$=this._api.getZr(),L=this._handle,V=r.getModel("handle"),oe=r.get("status");if(!V.get("show")||!oe||oe==="hide"){L&&$.remove(L),this._handle=null;return}var ae;this._handle||(ae=!0,L=this._handle=createIcon(V.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(le){stop(le.event)},onmousedown:bind$1(this._onHandleDragMove,this,0,0),drift:bind$1(this._onHandleDragMove,this),ondragend:bind$1(this._onHandleDragEnd,this)}),$.add(L)),updateMandatoryProps(L,r,!1),L.setStyle(V.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var re=V.get("size");isArray$2(re)||(re=[re,re]),L.scaleX=re[0]/2,L.scaleY=re[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",V.get("throttle")||0,"fixRate"),this._moveHandleToValue(n,ae)}},g.prototype._moveHandleToValue=function(n,r){updateProps(this._axisPointerModel,!r&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(n,this._axisModel,this._axisPointerModel)))},g.prototype._onHandleDragMove=function(n,r){var $=this._handle;if($){this._dragging=!0;var L=this.updateHandleTransform(getHandleTransProps($),[n,r],this._axisModel,this._axisPointerModel);this._payloadInfo=L,$.stopAnimation(),$.attr(getHandleTransProps(L)),inner$b($).lastProp=null,this._doDispatchAxisPointer()}},g.prototype._doDispatchAxisPointer=function(){var n=this._handle;if(n){var r=this._payloadInfo,$=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:$.axis.dim,axisIndex:$.componentIndex}]})}},g.prototype._onHandleDragEnd=function(){this._dragging=!1;var n=this._handle;if(n){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},g.prototype.clear=function(n){this._lastValue=null,this._lastStatus=null;var r=n.getZr(),$=this._group,L=this._handle;r&&$&&(this._lastGraphicKey=null,$&&r.remove($),L&&r.remove(L),this._group=null,this._handle=null,this._payloadInfo=null),clear$1(this,"_doDispatchAxisPointer")},g.prototype.doClear=function(){},g.prototype.buildLabel=function(n,r,$){return $=$||0,{x:n[$],y:n[1-$],width:r[$],height:r[1-$]}},g}();function updateProps(g,n,r,$){propsEqual(inner$b(r).lastProp,$)||(inner$b(r).lastProp=$,n?updateProps$1(r,$,g):(r.stopAnimation(),r.attr($)))}function propsEqual(g,n){if(isObject$4(g)&&isObject$4(n)){var r=!0;return each$f(n,function($,L){r=r&&propsEqual(g[L],$)}),!!r}else return g===n}function updateLabelShowHide(g,n){g[n.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(g){return{x:g.x||0,y:g.y||0,rotation:g.rotation||0}}function updateMandatoryProps(g,n,r){var $=n.get("z"),L=n.get("zlevel");g&&g.traverse(function(V){V.type!=="group"&&($!=null&&(V.z=$),L!=null&&(V.zlevel=L),V.silent=r)})}const BaseAxisPointer$1=BaseAxisPointer;function buildElStyle(g){var n=g.get("type"),r=g.getModel(n+"Style"),$;return n==="line"?($=r.getLineStyle(),$.fill=null):n==="shadow"&&($=r.getAreaStyle(),$.stroke=null),$}function buildLabelElOption(g,n,r,$,L){var V=r.get("value"),oe=getValueLabel(V,n.axis,n.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),ae=r.getModel("label"),re=normalizeCssArray(ae.get("padding")||0),le=ae.getFont(),ue=getBoundingRect(oe,le),de=L.position,he=ue.width+re[1]+re[3],pe=ue.height+re[0]+re[2],_e=L.align;_e==="right"&&(de[0]-=he),_e==="center"&&(de[0]-=he/2);var $e=L.verticalAlign;$e==="bottom"&&(de[1]-=pe),$e==="middle"&&(de[1]-=pe/2),confineInContainer(de,he,pe,$);var xe=ae.get("backgroundColor");(!xe||xe==="auto")&&(xe=n.get(["axisLine","lineStyle","color"])),g.label={x:de[0],y:de[1],style:createTextStyle(ae,{text:oe,font:le,fill:ae.getTextColor(),padding:re,backgroundColor:xe}),z2:10}}function confineInContainer(g,n,r,$){var L=$.getWidth(),V=$.getHeight();g[0]=Math.min(g[0]+n,L)-n,g[1]=Math.min(g[1]+r,V)-r,g[0]=Math.max(g[0],0),g[1]=Math.max(g[1],0)}function getValueLabel(g,n,r,$,L){g=n.scale.parse(g);var V=n.scale.getLabel({value:g},{precision:L.precision}),oe=L.formatter;if(oe){var ae={value:getAxisRawValue(n,{value:g}),axisDimension:n.dim,axisIndex:n.index,seriesData:[]};each$f($,function(re){var le=r.getSeriesByIndex(re.seriesIndex),ue=re.dataIndexInside,de=le&&le.getDataParams(ue);de&&ae.seriesData.push(de)}),isString$1(oe)?V=oe.replace("{value}",V):isFunction$1(oe)&&(V=oe(ae))}return V}function getTransformedPosition(g,n,r){var $=create$1();return rotate($,$,r.rotation),translate($,$,r.position),applyTransform([g.dataToCoord(n),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],$)}function buildCartesianSingleLabelElOption(g,n,r,$,L,V){var oe=AxisBuilder$1.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=L.get(["label","margin"]),buildLabelElOption(n,$,L,V,{position:getTransformedPosition($.axis,g,r),align:oe.textAlign,verticalAlign:oe.textVerticalAlign})}function makeLineShape(g,n,r){return r=r||0,{x1:g[r],y1:g[1-r],x2:n[r],y2:n[1-r]}}function makeRectShape(g,n,r){return r=r||0,{x:g[r],y:g[1-r],width:n[r],height:n[1-r]}}function makeSectorShape(g,n,r,$,L,V){return{cx:g,cy:n,r0:r,r:$,startAngle:L,endAngle:V,clockwise:!0}}var CartesianAxisPointer=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,$,L,V,oe){var ae=L.axis,re=ae.grid,le=V.get("type"),ue=getCartesian(re,ae).getOtherAxis(ae).getGlobalExtent(),de=ae.toGlobalCoord(ae.dataToCoord($,!0));if(le&&le!=="none"){var he=buildElStyle(V),pe=pointerShapeBuilder$2[le](ae,de,ue);pe.style=he,r.graphicKey=pe.type,r.pointer=pe}var _e=layout$2(re.model,L);buildCartesianSingleLabelElOption($,r,_e,L,V,oe)},n.prototype.getHandleTransform=function(r,$,L){var V=layout$2($.axis.grid.model,$,{labelInside:!1});V.labelMargin=L.get(["handle","margin"]);var oe=getTransformedPosition($.axis,r,V);return{x:oe[0],y:oe[1],rotation:V.rotation+(V.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(r,$,L,V){var oe=L.axis,ae=oe.grid,re=oe.getGlobalExtent(!0),le=getCartesian(ae,oe).getOtherAxis(oe).getGlobalExtent(),ue=oe.dim==="x"?0:1,de=[r.x,r.y];de[ue]+=$[ue],de[ue]=Math.min(re[1],de[ue]),de[ue]=Math.max(re[0],de[ue]);var he=(le[1]+le[0])/2,pe=[he,he];pe[ue]=de[ue];var _e=[{verticalAlign:"middle"},{align:"center"}];return{x:de[0],y:de[1],rotation:r.rotation,cursorPoint:pe,tooltipOption:_e[ue]}},n}(BaseAxisPointer$1);function getCartesian(g,n){var r={};return r[n.dim+"AxisIndex"]=n.index,g.getCartesian(r)}var pointerShapeBuilder$2={line:function(g,n,r){var $=makeLineShape([n,r[0]],[n,r[1]],getAxisDimIndex(g));return{type:"Line",subPixelOptimize:!0,shape:$}},shadow:function(g,n,r){var $=Math.max(1,g.getBandWidth()),L=r[1]-r[0];return{type:"Rect",shape:makeRectShape([n-$/2,r[0]],[$,L],getAxisDimIndex(g))}}};function getAxisDimIndex(g){return g.dim==="x"?0:1}const CartesianAxisPointer$1=CartesianAxisPointer;var AxisPointerModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="axisPointer",n.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},n}(ComponentModel$1);const AxisPointerModel$1=AxisPointerModel;var inner$a=makeInner(),each$8=each$f;function register(g,n,r){if(!env$1.node){var $=n.getZr();inner$a($).records||(inner$a($).records={}),initGlobalListeners($,n);var L=inner$a($).records[g]||(inner$a($).records[g]={});L.handler=r}}function initGlobalListeners(g,n){if(inner$a(g).initialized)return;inner$a(g).initialized=!0,r("click",curry$1(doEnter,"click")),r("mousemove",curry$1(doEnter,"mousemove")),r("globalout",onLeave);function r($,L){g.on($,function(V){var oe=makeDispatchAction$1(n);each$8(inner$a(g).records,function(ae){ae&&L(ae,V,oe.dispatchAction)}),dispatchTooltipFinally(oe.pendings,n)})}}function dispatchTooltipFinally(g,n){var r=g.showTip.length,$=g.hideTip.length,L;r?L=g.showTip[r-1]:$&&(L=g.hideTip[$-1]),L&&(L.dispatchAction=null,n.dispatchAction(L))}function onLeave(g,n,r){g.handler("leave",null,r)}function doEnter(g,n,r,$){n.handler(g,r,$)}function makeDispatchAction$1(g){var n={showTip:[],hideTip:[]},r=function($){var L=n[$.type];L?L.push($):($.dispatchAction=r,g.dispatchAction($))};return{dispatchAction:r,pendings:n}}function unregister(g,n){if(!env$1.node){var r=n.getZr(),$=(inner$a(r).records||{})[g];$&&(inner$a(r).records[g]=null)}}var AxisPointerView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=$.getComponent("tooltip"),oe=r.get("triggerOn")||V&&V.get("triggerOn")||"mousemove|click";register("axisPointer",L,function(ae,re,le){oe!=="none"&&(ae==="leave"||oe.indexOf(ae)>=0)&&le({type:"updateAxisPointer",currTrigger:ae,x:re&&re.offsetX,y:re&&re.offsetY})})},n.prototype.remove=function(r,$){unregister("axisPointer",$)},n.prototype.dispose=function(r,$){unregister("axisPointer",$)},n.type="axisPointer",n}(ComponentView$1);const AxisPointerView$1=AxisPointerView;function findPointFromSeries(g,n){var r=[],$=g.seriesIndex,L;if($==null||!(L=n.getSeriesByIndex($)))return{point:[]};var V=L.getData(),oe=queryDataIndex(V,g);if(oe==null||oe<0||isArray$2(oe))return{point:[]};var ae=V.getItemGraphicEl(oe),re=L.coordinateSystem;if(L.getTooltipPosition)r=L.getTooltipPosition(oe)||[];else if(re&&re.dataToPoint)if(g.isStacked){var le=re.getBaseAxis(),ue=re.getOtherAxis(le),de=ue.dim,he=le.dim,pe=de==="x"||de==="radius"?1:0,_e=V.mapDimension(he),$e=[];$e[pe]=V.get(_e,oe),$e[1-pe]=V.get(V.getCalculationInfo("stackResultDimension"),oe),r=re.dataToPoint($e)||[]}else r=re.dataToPoint(V.getValues(map$1(re.dimensions,function(Oe){return V.mapDimension(Oe)}),oe))||[];else if(ae){var xe=ae.getBoundingRect().clone();xe.applyTransform(ae.transform),r=[xe.x+xe.width/2,xe.y+xe.height/2]}return{point:r,el:ae}}var inner$9=makeInner();function axisTrigger(g,n,r){var $=g.currTrigger,L=[g.x,g.y],V=g,oe=g.dispatchAction||bind$2(r.dispatchAction,r),ae=n.getComponent("axisPointer").coordSysAxesInfo;if(ae){illegalPoint(L)&&(L=findPointFromSeries({seriesIndex:V.seriesIndex,dataIndex:V.dataIndex},n).point);var re=illegalPoint(L),le=V.axesInfo,ue=ae.axesInfo,de=$==="leave"||illegalPoint(L),he={},pe={},_e={list:[],map:{}},$e={showPointer:curry$1(showPointer,pe),showTooltip:curry$1(showTooltip,_e)};each$f(ae.coordSysMap,function(Oe,Ce){var Ie=re||Oe.containPoint(L);each$f(ae.coordSysAxesInfo[Ce],function(Ne,ze){var Fe=Ne.axis,Ue=findInputAxisInfo(le,Ne);if(!de&&Ie&&(!le||Ue)){var At=Ue&&Ue.value;At==null&&!re&&(At=Fe.pointToData(L)),At!=null&&processOnAxis(Ne,At,$e,!1,he)}})});var xe={};return each$f(ue,function(Oe,Ce){var Ie=Oe.linkGroup;Ie&&!pe[Ce]&&each$f(Ie.axesInfo,function(Ne,ze){var Fe=pe[ze];if(Ne!==Oe&&Fe){var Ue=Fe.value;Ie.mapper&&(Ue=Oe.axis.scale.parse(Ie.mapper(Ue,makeMapperParam(Ne),makeMapperParam(Oe)))),xe[Oe.key]=Ue}})}),each$f(xe,function(Oe,Ce){processOnAxis(ue[Ce],Oe,$e,!0,he)}),updateModelActually(pe,ue,he),dispatchTooltipActually(_e,L,g,oe),dispatchHighDownActually(ue,oe,r),he}}function processOnAxis(g,n,r,$,L){var V=g.axis;if(!(V.scale.isBlank()||!V.containData(n))){if(!g.involveSeries){r.showPointer(g,n);return}var oe=buildPayloadsBySeries(n,g),ae=oe.payloadBatch,re=oe.snapToValue;ae[0]&&L.seriesIndex==null&&extend$1(L,ae[0]),!$&&g.snap&&V.containData(re)&&re!=null&&(n=re),r.showPointer(g,n,ae),r.showTooltip(g,oe,re)}}function buildPayloadsBySeries(g,n){var r=n.axis,$=r.dim,L=g,V=[],oe=Number.MAX_VALUE,ae=-1;return each$f(n.seriesModels,function(re,le){var ue=re.getData().mapDimensionsAll($),de,he;if(re.getAxisTooltipData){var pe=re.getAxisTooltipData(ue,g,r);he=pe.dataIndices,de=pe.nestestValue}else{if(he=re.getData().indicesOfNearest(ue[0],g,r.type==="category"?.5:null),!he.length)return;de=re.getData().get(ue[0],he[0])}if(!(de==null||!isFinite(de))){var _e=g-de,$e=Math.abs(_e);$e<=oe&&(($e<oe||_e>=0&&ae<0)&&(oe=$e,ae=_e,L=de,V.length=0),each$f(he,function(xe){V.push({seriesIndex:re.seriesIndex,dataIndexInside:xe,dataIndex:re.getData().getRawIndex(xe)})}))}}),{payloadBatch:V,snapToValue:L}}function showPointer(g,n,r,$){g[n.key]={value:r,payloadBatch:$}}function showTooltip(g,n,r,$){var L=r.payloadBatch,V=n.axis,oe=V.model,ae=n.axisPointerModel;if(!(!n.triggerTooltip||!L.length)){var re=n.coordSys.model,le=makeKey(re),ue=g.map[le];ue||(ue=g.map[le]={coordSysId:re.id,coordSysIndex:re.componentIndex,coordSysType:re.type,coordSysMainType:re.mainType,dataByAxis:[]},g.list.push(ue)),ue.dataByAxis.push({axisDim:V.dim,axisIndex:oe.componentIndex,axisType:oe.type,axisId:oe.id,value:$,valueLabelOpt:{precision:ae.get(["label","precision"]),formatter:ae.get(["label","formatter"])},seriesDataIndices:L.slice()})}}function updateModelActually(g,n,r){var $=r.axesInfo=[];each$f(n,function(L,V){var oe=L.axisPointerModel.option,ae=g[V];ae?(!L.useHandle&&(oe.status="show"),oe.value=ae.value,oe.seriesDataIndices=(ae.payloadBatch||[]).slice()):!L.useHandle&&(oe.status="hide"),oe.status==="show"&&$.push({axisDim:L.axis.dim,axisIndex:L.axis.model.componentIndex,value:oe.value})})}function dispatchTooltipActually(g,n,r,$){if(illegalPoint(n)||!g.list.length){$({type:"hideTip"});return}var L=((g.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};$({type:"showTip",escapeConnect:!0,x:n[0],y:n[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:L.dataIndexInside,dataIndex:L.dataIndex,seriesIndex:L.seriesIndex,dataByCoordSys:g.list})}function dispatchHighDownActually(g,n,r){var $=r.getZr(),L="axisPointerLastHighlights",V=inner$9($)[L]||{},oe=inner$9($)[L]={};each$f(g,function(le,ue){var de=le.axisPointerModel.option;de.status==="show"&&each$f(de.seriesDataIndices,function(he){var pe=he.seriesIndex+" | "+he.dataIndex;oe[pe]=he})});var ae=[],re=[];each$f(V,function(le,ue){!oe[ue]&&re.push(le)}),each$f(oe,function(le,ue){!V[ue]&&ae.push(le)}),re.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:re}),ae.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:ae})}function findInputAxisInfo(g,n){for(var r=0;r<(g||[]).length;r++){var $=g[r];if(n.axis.dim===$.axisDim&&n.axis.model.componentIndex===$.axisIndex)return $}}function makeMapperParam(g){var n=g.axis.model,r={},$=r.axisDim=g.axis.dim;return r.axisIndex=r[$+"AxisIndex"]=n.componentIndex,r.axisName=r[$+"AxisName"]=n.name,r.axisId=r[$+"AxisId"]=n.id,r}function illegalPoint(g){return!g||g[0]==null||isNaN(g[0])||g[1]==null||isNaN(g[1])}function install$r(g){AxisView$1.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer$1),g.registerComponentModel(AxisPointerModel$1),g.registerComponentView(AxisPointerView$1),g.registerPreprocessor(function(n){if(n){(!n.axisPointer||n.axisPointer.length===0)&&(n.axisPointer={});var r=n.axisPointer.link;r&&!isArray$2(r)&&(n.axisPointer.link=[r])}}),g.registerProcessor(g.PRIORITY.PROCESSOR.STATISTIC,function(n,r){n.getComponent("axisPointer").coordSysAxesInfo=collect(n,r)}),g.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install$q(g){use(install$O),use(install$r)}var PolarAxisPointer=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,$,L,V,oe){var ae=L.axis;ae.dim==="angle"&&(this.animationThreshold=Math.PI/18);var re=ae.polar,le=re.getOtherAxis(ae),ue=le.getExtent(),de=ae.dataToCoord($),he=V.get("type");if(he&&he!=="none"){var pe=buildElStyle(V),_e=pointerShapeBuilder$1[he](ae,re,de,ue);_e.style=pe,r.graphicKey=_e.type,r.pointer=_e}var $e=V.get(["label","margin"]),xe=getLabelPosition($,L,V,re,$e);buildLabelElOption(r,L,V,oe,xe)},n}(BaseAxisPointer$1);function getLabelPosition(g,n,r,$,L){var V=n.axis,oe=V.dataToCoord(g),ae=$.getAngleAxis().getExtent()[0];ae=ae/180*Math.PI;var re=$.getRadiusAxis().getExtent(),le,ue,de;if(V.dim==="radius"){var he=create$1();rotate(he,he,ae),translate(he,he,[$.cx,$.cy]),le=applyTransform([oe,-L],he);var pe=n.getModel("axisLabel").get("rotate")||0,_e=AxisBuilder$1.innerTextLayout(ae,pe*Math.PI/180,-1);ue=_e.textAlign,de=_e.textVerticalAlign}else{var $e=re[1];le=$.coordToPoint([$e+L,oe]);var xe=$.cx,Oe=$.cy;ue=Math.abs(le[0]-xe)/$e<.3?"center":le[0]>xe?"left":"right",de=Math.abs(le[1]-Oe)/$e<.3?"middle":le[1]>Oe?"top":"bottom"}return{position:le,align:ue,verticalAlign:de}}var pointerShapeBuilder$1={line:function(g,n,r,$){return g.dim==="angle"?{type:"Line",shape:makeLineShape(n.coordToPoint([$[0],r]),n.coordToPoint([$[1],r]))}:{type:"Circle",shape:{cx:n.cx,cy:n.cy,r}}},shadow:function(g,n,r,$){var L=Math.max(1,g.getBandWidth()),V=Math.PI/180;return g.dim==="angle"?{type:"Sector",shape:makeSectorShape(n.cx,n.cy,$[0],$[1],(-r-L/2)*V,(-r+L/2)*V)}:{type:"Sector",shape:makeSectorShape(n.cx,n.cy,r-L/2,r+L/2,0,Math.PI*2)}}};const PolarAxisPointer$1=PolarAxisPointer;var PolarModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.findAxisModel=function(r){var $,L=this.ecModel;return L.eachComponent(r,function(V){V.getCoordSysModel()===this&&($=V)},this),$},n.type="polar",n.dependencies=["radiusAxis","angleAxis"],n.defaultOption={z:0,center:["50%","50%"],radius:"80%"},n}(ComponentModel$1);const PolarModel$1=PolarModel;var PolarAxisModel=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",SINGLE_REFERRING).models[0]},n.type="polarAxis",n}(ComponentModel$1);mixin(PolarAxisModel,AxisModelCommonMixin);var AngleAxisModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="angleAxis",n}(PolarAxisModel),RadiusAxisModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="radiusAxis",n}(PolarAxisModel),RadiusAxis=function(g){__extends(n,g);function n(r,$){return g.call(this,"radius",r,$)||this}return n.prototype.pointToData=function(r,$){return this.polar.pointToData(r,$)[this.dim==="radius"?0:1]},n}(Axis$1);RadiusAxis.prototype.dataToRadius=Axis$1.prototype.dataToCoord,RadiusAxis.prototype.radiusToData=Axis$1.prototype.coordToData;const RadiusAxis$1=RadiusAxis;var inner$8=makeInner(),AngleAxis=function(g){__extends(n,g);function n(r,$){return g.call(this,"angle",r,$||[0,360])||this}return n.prototype.pointToData=function(r,$){return this.polar.pointToData(r,$)[this.dim==="radius"?0:1]},n.prototype.calculateCategoryInterval=function(){var r=this,$=r.getLabelModel(),L=r.scale,V=L.getExtent(),oe=L.count();if(V[1]-V[0]<1)return 0;var ae=V[0],re=r.dataToCoord(ae+1)-r.dataToCoord(ae),le=Math.abs(re),ue=getBoundingRect(ae==null?"":ae+"",$.getFont(),"center","top"),de=Math.max(ue.height,7),he=de/le;isNaN(he)&&(he=1/0);var pe=Math.max(0,Math.floor(he)),_e=inner$8(r.model),$e=_e.lastAutoInterval,xe=_e.lastTickCount;return $e!=null&&xe!=null&&Math.abs($e-pe)<=1&&Math.abs(xe-oe)<=1&&$e>pe?pe=$e:(_e.lastTickCount=oe,_e.lastAutoInterval=pe),pe},n}(Axis$1);AngleAxis.prototype.dataToAngle=Axis$1.prototype.dataToCoord,AngleAxis.prototype.angleToData=Axis$1.prototype.coordToData;const AngleAxis$1=AngleAxis;var polarDimensions=["radius","angle"],Polar=function(){function g(n){this.dimensions=polarDimensions,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new RadiusAxis$1,this._angleAxis=new AngleAxis$1,this.axisPointerEnabled=!0,this.name=n||"",this._radiusAxis.polar=this._angleAxis.polar=this}return g.prototype.containPoint=function(n){var r=this.pointToCoord(n);return this._radiusAxis.contain(r[0])&&this._angleAxis.contain(r[1])},g.prototype.containData=function(n){return this._radiusAxis.containData(n[0])&&this._angleAxis.containData(n[1])},g.prototype.getAxis=function(n){var r="_"+n+"Axis";return this[r]},g.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},g.prototype.getAxesByScale=function(n){var r=[],$=this._angleAxis,L=this._radiusAxis;return $.scale.type===n&&r.push($),L.scale.type===n&&r.push(L),r},g.prototype.getAngleAxis=function(){return this._angleAxis},g.prototype.getRadiusAxis=function(){return this._radiusAxis},g.prototype.getOtherAxis=function(n){var r=this._angleAxis;return n===r?this._radiusAxis:r},g.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},g.prototype.getTooltipAxes=function(n){var r=n!=null&&n!=="auto"?this.getAxis(n):this.getBaseAxis();return{baseAxes:[r],otherAxes:[this.getOtherAxis(r)]}},g.prototype.dataToPoint=function(n,r){return this.coordToPoint([this._radiusAxis.dataToRadius(n[0],r),this._angleAxis.dataToAngle(n[1],r)])},g.prototype.pointToData=function(n,r){var $=this.pointToCoord(n);return[this._radiusAxis.radiusToData($[0],r),this._angleAxis.angleToData($[1],r)]},g.prototype.pointToCoord=function(n){var r=n[0]-this.cx,$=n[1]-this.cy,L=this.getAngleAxis(),V=L.getExtent(),oe=Math.min(V[0],V[1]),ae=Math.max(V[0],V[1]);L.inverse?oe=ae-360:ae=oe+360;var re=Math.sqrt(r*r+$*$);r/=re,$/=re;for(var le=Math.atan2(-$,r)/Math.PI*180,ue=le<oe?1:-1;le<oe||le>ae;)le+=ue*360;return[re,le]},g.prototype.coordToPoint=function(n){var r=n[0],$=n[1]/180*Math.PI,L=Math.cos($)*r+this.cx,V=-Math.sin($)*r+this.cy;return[L,V]},g.prototype.getArea=function(){var n=this.getAngleAxis(),r=this.getRadiusAxis(),$=r.getExtent().slice();$[0]>$[1]&&$.reverse();var L=n.getExtent(),V=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:$[0],r:$[1],startAngle:-L[0]*V,endAngle:-L[1]*V,clockwise:n.inverse,contain:function(oe,ae){var re=oe-this.cx,le=ae-this.cy,ue=re*re+le*le-1e-4,de=this.r,he=this.r0;return ue<=de*de&&ue>=he*he}}},g.prototype.convertToPixel=function(n,r,$){var L=getCoordSys$2(r);return L===this?this.dataToPoint($):null},g.prototype.convertFromPixel=function(n,r,$){var L=getCoordSys$2(r);return L===this?this.pointToData($):null},g}();function getCoordSys$2(g){var n=g.seriesModel,r=g.polarModel;return r&&r.coordinateSystem||n&&n.coordinateSystem}const Polar$1=Polar;function resizePolar(g,n,r){var $=n.get("center"),L=r.getWidth(),V=r.getHeight();g.cx=parsePercent($[0],L),g.cy=parsePercent($[1],V);var oe=g.getRadiusAxis(),ae=Math.min(L,V)/2,re=n.get("radius");re==null?re=[0,"100%"]:isArray$2(re)||(re=[0,re]);var le=[parsePercent(re[0],ae),parsePercent(re[1],ae)];oe.inverse?oe.setExtent(le[1],le[0]):oe.setExtent(le[0],le[1])}function updatePolarScale(g,n){var r=this,$=r.getAngleAxis(),L=r.getRadiusAxis();if($.scale.setExtent(1/0,-1/0),L.scale.setExtent(1/0,-1/0),g.eachSeries(function(ae){if(ae.coordinateSystem===r){var re=ae.getData();each$f(getDataDimensionsOnAxis(re,"radius"),function(le){L.scale.unionExtentFromData(re,le)}),each$f(getDataDimensionsOnAxis(re,"angle"),function(le){$.scale.unionExtentFromData(re,le)})}}),niceScaleExtent($.scale,$.model),niceScaleExtent(L.scale,L.model),$.type==="category"&&!$.onBand){var V=$.getExtent(),oe=360/$.scale.count();$.inverse?V[1]+=oe:V[1]-=oe,$.setExtent(V[0],V[1])}}function isAngleAxisModel(g){return g.mainType==="angleAxis"}function setAxis(g,n){if(g.type=n.get("type"),g.scale=createScaleByModel$1(n),g.onBand=n.get("boundaryGap")&&g.type==="category",g.inverse=n.get("inverse"),isAngleAxisModel(n)){g.inverse=g.inverse!==n.get("clockwise");var r=n.get("startAngle");g.setExtent(r,r+(g.inverse?-360:360))}n.axis=g,g.model=n}var polarCreator={dimensions:polarDimensions,create:function(g,n){var r=[];return g.eachComponent("polar",function($,L){var V=new Polar$1(L+"");V.update=updatePolarScale;var oe=V.getRadiusAxis(),ae=V.getAngleAxis(),re=$.findAxisModel("radiusAxis"),le=$.findAxisModel("angleAxis");setAxis(oe,re),setAxis(ae,le),resizePolar(V,$,n),r.push(V),$.coordinateSystem=V,V.model=$}),g.eachSeries(function($){if($.get("coordinateSystem")==="polar"){var L=$.getReferringComponents("polar",SINGLE_REFERRING).models[0];$.coordinateSystem=L.coordinateSystem}}),r}};const polarCreator$1=polarCreator;var elementList=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape(g,n,r){n[1]>n[0]&&(n=n.slice().reverse());var $=g.coordToPoint([n[0],r]),L=g.coordToPoint([n[1],r]);return{x1:$[0],y1:$[1],x2:L[0],y2:L[1]}}function getRadiusIdx(g){var n=g.getRadiusAxis();return n.inverse?0:1}function fixAngleOverlap(g){var n=g[0],r=g[g.length-1];n&&r&&Math.abs(Math.abs(n.coord-r.coord)-360)<1e-4&&g.pop()}var AngleAxisView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="PolarAxisPointer",r}return n.prototype.render=function(r,$){if(this.group.removeAll(),!!r.get("show")){var L=r.axis,V=L.polar,oe=V.getRadiusAxis().getExtent(),ae=L.getTicksCoords(),re=L.getMinorTicksCoords(),le=map$1(L.getViewLabels(),function(ue){ue=clone$4(ue);var de=L.scale,he=de.type==="ordinal"?de.getRawOrdinalNumber(ue.tickValue):ue.tickValue;return ue.coord=L.dataToCoord(he),ue});fixAngleOverlap(le),fixAngleOverlap(ae),each$f(elementList,function(ue){r.get([ue,"show"])&&(!L.scale.isBlank()||ue==="axisLine")&&angelAxisElementsBuilders[ue](this.group,r,V,ae,re,oe,le)},this)}},n.type="angleAxis",n}(AxisView$1),angelAxisElementsBuilders={axisLine:function(g,n,r,$,L,V){var oe=n.getModel(["axisLine","lineStyle"]),ae=getRadiusIdx(r),re=ae?0:1,le;V[re]===0?le=new Circle$1({shape:{cx:r.cx,cy:r.cy,r:V[ae]},style:oe.getLineStyle(),z2:1,silent:!0}):le=new Ring$1({shape:{cx:r.cx,cy:r.cy,r:V[ae],r0:V[re]},style:oe.getLineStyle(),z2:1,silent:!0}),le.style.fill=null,g.add(le)},axisTick:function(g,n,r,$,L,V){var oe=n.getModel("axisTick"),ae=(oe.get("inside")?-1:1)*oe.get("length"),re=V[getRadiusIdx(r)],le=map$1($,function(ue){return new Line$3({shape:getAxisLineShape(r,[re,re+ae],ue.coord)})});g.add(mergePath(le,{style:defaults$2(oe.getModel("lineStyle").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})}))},minorTick:function(g,n,r,$,L,V){if(L.length){for(var oe=n.getModel("axisTick"),ae=n.getModel("minorTick"),re=(oe.get("inside")?-1:1)*ae.get("length"),le=V[getRadiusIdx(r)],ue=[],de=0;de<L.length;de++)for(var he=0;he<L[de].length;he++)ue.push(new Line$3({shape:getAxisLineShape(r,[le,le+re],L[de][he].coord)}));g.add(mergePath(ue,{style:defaults$2(ae.getModel("lineStyle").getLineStyle(),defaults$2(oe.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(g,n,r,$,L,V,oe){var ae=n.getCategories(!0),re=n.getModel("axisLabel"),le=re.get("margin"),ue=n.get("triggerEvent");each$f(oe,function(de,he){var pe=re,_e=de.tickValue,$e=V[getRadiusIdx(r)],xe=r.coordToPoint([$e+le,de.coord]),Oe=r.cx,Ce=r.cy,Ie=Math.abs(xe[0]-Oe)/$e<.3?"center":xe[0]>Oe?"left":"right",Ne=Math.abs(xe[1]-Ce)/$e<.3?"middle":xe[1]>Ce?"top":"bottom";if(ae&&ae[_e]){var ze=ae[_e];isObject$4(ze)&&ze.textStyle&&(pe=new Model$1(ze.textStyle,re,re.ecModel))}var Fe=new ZRText$1({silent:AxisBuilder$1.isLabelSilent(n),style:createTextStyle(pe,{x:xe[0],y:xe[1],fill:pe.getTextColor()||n.get(["axisLine","lineStyle","color"]),text:de.formattedLabel,align:Ie,verticalAlign:Ne})});if(g.add(Fe),ue){var Ue=AxisBuilder$1.makeAxisEventDataBase(n);Ue.targetType="axisLabel",Ue.value=de.rawLabel,getECData(Fe).eventData=Ue}},this)},splitLine:function(g,n,r,$,L,V){var oe=n.getModel("splitLine"),ae=oe.getModel("lineStyle"),re=ae.get("color"),le=0;re=re instanceof Array?re:[re];for(var ue=[],de=0;de<$.length;de++){var he=le++%re.length;ue[he]=ue[he]||[],ue[he].push(new Line$3({shape:getAxisLineShape(r,V,$[de].coord)}))}for(var de=0;de<ue.length;de++)g.add(mergePath(ue[de],{style:defaults$2({stroke:re[de%re.length]},ae.getLineStyle()),silent:!0,z:n.get("z")}))},minorSplitLine:function(g,n,r,$,L,V){if(L.length){for(var oe=n.getModel("minorSplitLine"),ae=oe.getModel("lineStyle"),re=[],le=0;le<L.length;le++)for(var ue=0;ue<L[le].length;ue++)re.push(new Line$3({shape:getAxisLineShape(r,V,L[le][ue].coord)}));g.add(mergePath(re,{style:ae.getLineStyle(),silent:!0,z:n.get("z")}))}},splitArea:function(g,n,r,$,L,V){if($.length){var oe=n.getModel("splitArea"),ae=oe.getModel("areaStyle"),re=ae.get("color"),le=0;re=re instanceof Array?re:[re];for(var ue=[],de=Math.PI/180,he=-$[0].coord*de,pe=Math.min(V[0],V[1]),_e=Math.max(V[0],V[1]),$e=n.get("clockwise"),xe=1,Oe=$.length;xe<=Oe;xe++){var Ce=xe===Oe?$[0].coord:$[xe].coord,Ie=le++%re.length;ue[Ie]=ue[Ie]||[],ue[Ie].push(new Sector$1({shape:{cx:r.cx,cy:r.cy,r0:pe,r:_e,startAngle:he,endAngle:-Ce*de,clockwise:$e},silent:!0})),he=-Ce*de}for(var xe=0;xe<ue.length;xe++)g.add(mergePath(ue[xe],{style:defaults$2({fill:re[xe%re.length]},ae.getAreaStyle()),silent:!0}))}}};const AngleAxisView$1=AngleAxisView;var axisBuilderAttrs$1=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$1=["splitLine","splitArea","minorSplitLine"],RadiusAxisView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="PolarAxisPointer",r}return n.prototype.render=function(r,$){if(this.group.removeAll(),!!r.get("show")){var L=this._axisGroup,V=this._axisGroup=new Group$4;this.group.add(V);var oe=r.axis,ae=oe.polar,re=ae.getAngleAxis(),le=oe.getTicksCoords(),ue=oe.getMinorTicksCoords(),de=re.getExtent()[0],he=oe.getExtent(),pe=layoutAxis(ae,r,de),_e=new AxisBuilder$1(r,pe);each$f(axisBuilderAttrs$1,_e.add,_e),V.add(_e.getGroup()),groupTransition(L,V,r),each$f(selfBuilderAttrs$1,function($e){r.get([$e,"show"])&&!oe.scale.isBlank()&&axisElementBuilders$1[$e](this.group,r,ae,de,he,le,ue)},this)}},n.type="radiusAxis",n}(AxisView$1),axisElementBuilders$1={splitLine:function(g,n,r,$,L,V){var oe=n.getModel("splitLine"),ae=oe.getModel("lineStyle"),re=ae.get("color"),le=0;re=re instanceof Array?re:[re];for(var ue=[],de=0;de<V.length;de++){var he=le++%re.length;ue[he]=ue[he]||[],ue[he].push(new Circle$1({shape:{cx:r.cx,cy:r.cy,r:Math.max(V[de].coord,0)}}))}for(var de=0;de<ue.length;de++)g.add(mergePath(ue[de],{style:defaults$2({stroke:re[de%re.length],fill:null},ae.getLineStyle()),silent:!0}))},minorSplitLine:function(g,n,r,$,L,V,oe){if(oe.length){for(var ae=n.getModel("minorSplitLine"),re=ae.getModel("lineStyle"),le=[],ue=0;ue<oe.length;ue++)for(var de=0;de<oe[ue].length;de++)le.push(new Circle$1({shape:{cx:r.cx,cy:r.cy,r:oe[ue][de].coord}}));g.add(mergePath(le,{style:defaults$2({fill:null},re.getLineStyle()),silent:!0}))}},splitArea:function(g,n,r,$,L,V){if(V.length){var oe=n.getModel("splitArea"),ae=oe.getModel("areaStyle"),re=ae.get("color"),le=0;re=re instanceof Array?re:[re];for(var ue=[],de=V[0].coord,he=1;he<V.length;he++){var pe=le++%re.length;ue[pe]=ue[pe]||[],ue[pe].push(new Sector$1({shape:{cx:r.cx,cy:r.cy,r0:de,r:V[he].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),de=V[he].coord}for(var he=0;he<ue.length;he++)g.add(mergePath(ue[he],{style:defaults$2({fill:re[he%re.length]},ae.getAreaStyle()),silent:!0}))}}};function layoutAxis(g,n,r){return{position:[g.cx,g.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:n.getModel("axisLabel").get("rotate"),z2:1}}const RadiusAxisView$1=RadiusAxisView;function getSeriesStackId(g){return g.get("stack")||"__ec_stack_"+g.seriesIndex}function getAxisKey(g,n){return n.dim+g.model.componentIndex}function barLayoutPolar(g,n,r){var $={},L=calRadialBar(filter(n.getSeriesByType(g),function(V){return!n.isSeriesFiltered(V)&&V.coordinateSystem&&V.coordinateSystem.type==="polar"}));n.eachSeriesByType(g,function(V){if(V.coordinateSystem.type==="polar"){var oe=V.getData(),ae=V.coordinateSystem,re=ae.getBaseAxis(),le=getAxisKey(ae,re),ue=getSeriesStackId(V),de=L[le][ue],he=de.offset,pe=de.width,_e=ae.getOtherAxis(re),$e=V.coordinateSystem.cx,xe=V.coordinateSystem.cy,Oe=V.get("barMinHeight")||0,Ce=V.get("barMinAngle")||0;$[ue]=$[ue]||[];for(var Ie=oe.mapDimension(_e.dim),Ne=oe.mapDimension(re.dim),ze=isDimensionStacked(oe,Ie),Fe=re.dim!=="radius"||!V.get("roundCap",!0),Ue=_e.dataToCoord(0),At=0,Et=oe.count();At<Et;At++){var Pt=oe.get(Ie,At),kt=oe.get(Ne,At),Dt=Pt>=0?"p":"n",Lt=Ue;ze&&($[ue][kt]||($[ue][kt]={p:Ue,n:Ue}),Lt=$[ue][kt][Dt]);var hn=void 0,vn=void 0,_n=void 0,$n=void 0;if(_e.dim==="radius"){var Sn=_e.dataToCoord(Pt)-Ue,xn=re.dataToCoord(kt);Math.abs(Sn)<Oe&&(Sn=(Sn<0?-1:1)*Oe),hn=Lt,vn=Lt+Sn,_n=xn-he,$n=_n-pe,ze&&($[ue][kt][Dt]=vn)}else{var On=_e.dataToCoord(Pt,Fe)-Ue,Cn=re.dataToCoord(kt);Math.abs(On)<Ce&&(On=(On<0?-1:1)*Ce),hn=Cn+he,vn=hn+pe,_n=Lt,$n=Lt+On,ze&&($[ue][kt][Dt]=$n)}oe.setItemLayout(At,{cx:$e,cy:xe,r0:hn,r:vn,startAngle:-_n*Math.PI/180,endAngle:-$n*Math.PI/180,clockwise:_n>=$n})}}})}function calRadialBar(g){var n={};each$f(g,function($,L){var V=$.getData(),oe=$.coordinateSystem,ae=oe.getBaseAxis(),re=getAxisKey(oe,ae),le=ae.getExtent(),ue=ae.type==="category"?ae.getBandWidth():Math.abs(le[1]-le[0])/V.count(),de=n[re]||{bandWidth:ue,remainedWidth:ue,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},he=de.stacks;n[re]=de;var pe=getSeriesStackId($);he[pe]||de.autoWidthCount++,he[pe]=he[pe]||{width:0,maxWidth:0};var _e=parsePercent($.get("barWidth"),ue),$e=parsePercent($.get("barMaxWidth"),ue),xe=$.get("barGap"),Oe=$.get("barCategoryGap");_e&&!he[pe].width&&(_e=Math.min(de.remainedWidth,_e),he[pe].width=_e,de.remainedWidth-=_e),$e&&(he[pe].maxWidth=$e),xe!=null&&(de.gap=xe),Oe!=null&&(de.categoryGap=Oe)});var r={};return each$f(n,function($,L){r[L]={};var V=$.stacks,oe=$.bandWidth,ae=parsePercent($.categoryGap,oe),re=parsePercent($.gap,1),le=$.remainedWidth,ue=$.autoWidthCount,de=(le-ae)/(ue+(ue-1)*re);de=Math.max(de,0),each$f(V,function($e,xe){var Oe=$e.maxWidth;Oe&&Oe<de&&(Oe=Math.min(Oe,le),$e.width&&(Oe=Math.min(Oe,$e.width)),le-=Oe,$e.width=Oe,ue--)}),de=(le-ae)/(ue+(ue-1)*re),de=Math.max(de,0);var he=0,pe;each$f(V,function($e,xe){$e.width||($e.width=de),pe=$e,he+=$e.width*(1+re)}),pe&&(he-=pe.width*re);var _e=-he/2;each$f(V,function($e,xe){r[L][xe]=r[L][xe]||{offset:_e,width:$e.width},_e+=$e.width*(1+re)})}),r}var angleAxisExtraOption={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},radiusAxisExtraOption={splitNumber:5},PolarView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="polar",n}(ComponentView$1);function install$p(g){use(install$r),AxisView$1.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer$1),g.registerCoordinateSystem("polar",polarCreator$1),g.registerComponentModel(PolarModel$1),g.registerComponentView(PolarView),axisModelCreator(g,"angle",AngleAxisModel,angleAxisExtraOption),axisModelCreator(g,"radius",RadiusAxisModel,radiusAxisExtraOption),g.registerComponentView(AngleAxisView$1),g.registerComponentView(RadiusAxisView$1),g.registerLayout(curry$1(barLayoutPolar,"bar"))}function layout$1(g,n){n=n||{};var r=g.coordinateSystem,$=g.axis,L={},V=$.position,oe=$.orient,ae=r.getRect(),re=[ae.x,ae.x+ae.width,ae.y,ae.y+ae.height],le={horizontal:{top:re[2],bottom:re[3]},vertical:{left:re[0],right:re[1]}};L.position=[oe==="vertical"?le.vertical[V]:re[0],oe==="horizontal"?le.horizontal[V]:re[3]];var ue={horizontal:0,vertical:1};L.rotation=Math.PI/2*ue[oe];var de={top:-1,bottom:1,right:1,left:-1};L.labelDirection=L.tickDirection=L.nameDirection=de[V],g.get(["axisTick","inside"])&&(L.tickDirection=-L.tickDirection),retrieve(n.labelInside,g.get(["axisLabel","inside"]))&&(L.labelDirection=-L.labelDirection);var he=n.rotate;return he==null&&(he=g.get(["axisLabel","rotate"])),L.labelRotation=V==="top"?-he:he,L.z2=1,L}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine"],SingleAxisView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="SingleAxisPointer",r}return n.prototype.render=function(r,$,L,V){var oe=this.group;oe.removeAll();var ae=this._axisGroup;this._axisGroup=new Group$4;var re=layout$1(r),le=new AxisBuilder$1(r,re);each$f(axisBuilderAttrs,le.add,le),oe.add(this._axisGroup),oe.add(le.getGroup()),each$f(selfBuilderAttrs,function(ue){r.get([ue,"show"])&&axisElementBuilders[ue](this,this.group,this._axisGroup,r)},this),groupTransition(ae,this._axisGroup,r),g.prototype.render.call(this,r,$,L,V)},n.prototype.remove=function(){rectCoordAxisHandleRemove(this)},n.type="singleAxis",n}(AxisView$1),axisElementBuilders={splitLine:function(g,n,r,$){var L=$.axis;if(!L.scale.isBlank()){var V=$.getModel("splitLine"),oe=V.getModel("lineStyle"),ae=oe.get("color");ae=ae instanceof Array?ae:[ae];for(var re=oe.get("width"),le=$.coordinateSystem.getRect(),ue=L.isHorizontal(),de=[],he=0,pe=L.getTicksCoords({tickModel:V}),_e=[],$e=[],xe=0;xe<pe.length;++xe){var Oe=L.toGlobalCoord(pe[xe].coord);ue?(_e[0]=Oe,_e[1]=le.y,$e[0]=Oe,$e[1]=le.y+le.height):(_e[0]=le.x,_e[1]=Oe,$e[0]=le.x+le.width,$e[1]=Oe);var Ce=new Line$3({shape:{x1:_e[0],y1:_e[1],x2:$e[0],y2:$e[1]},silent:!0});subPixelOptimizeLine(Ce.shape,re);var Ie=he++%ae.length;de[Ie]=de[Ie]||[],de[Ie].push(Ce)}for(var Ne=oe.getLineStyle(["color"]),xe=0;xe<de.length;++xe)n.add(mergePath(de[xe],{style:defaults$2({stroke:ae[xe%ae.length]},Ne),silent:!0}))}},splitArea:function(g,n,r,$){rectCoordAxisBuildSplitArea(g,r,$,$)}};const SingleAxisView$1=SingleAxisView;var SingleAxisModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getCoordSysModel=function(){return this},n.type="singleAxis",n.layoutMode="box",n.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},n}(ComponentModel$1);mixin(SingleAxisModel,AxisModelCommonMixin.prototype);const SingleAxisModel$1=SingleAxisModel;var SingleAxis=function(g){__extends(n,g);function n(r,$,L,V,oe){var ae=g.call(this,r,$,L)||this;return ae.type=V||"value",ae.position=oe||"bottom",ae}return n.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},n.prototype.pointToData=function(r,$){return this.coordinateSystem.pointToData(r)[0]},n}(Axis$1);const SingleAxis$1=SingleAxis;var singleDimensions=["single"],Single=function(){function g(n,r,$){this.type="single",this.dimension="single",this.dimensions=singleDimensions,this.axisPointerEnabled=!0,this.model=n,this._init(n,r,$)}return g.prototype._init=function(n,r,$){var L=this.dimension,V=new SingleAxis$1(L,createScaleByModel$1(n),[0,0],n.get("type"),n.get("position")),oe=V.type==="category";V.onBand=oe&&n.get("boundaryGap"),V.inverse=n.get("inverse"),V.orient=n.get("orient"),n.axis=V,V.model=n,V.coordinateSystem=this,this._axis=V},g.prototype.update=function(n,r){n.eachSeries(function($){if($.coordinateSystem===this){var L=$.getData();each$f(L.mapDimensionsAll(this.dimension),function(V){this._axis.scale.unionExtentFromData(L,V)},this),niceScaleExtent(this._axis.scale,this._axis.model)}},this)},g.prototype.resize=function(n,r){this._rect=getLayoutRect({left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")},{width:r.getWidth(),height:r.getHeight()}),this._adjustAxis()},g.prototype.getRect=function(){return this._rect},g.prototype._adjustAxis=function(){var n=this._rect,r=this._axis,$=r.isHorizontal(),L=$?[0,n.width]:[0,n.height],V=r.inverse?1:0;r.setExtent(L[V],L[1-V]),this._updateAxisTransform(r,$?n.x:n.y)},g.prototype._updateAxisTransform=function(n,r){var $=n.getExtent(),L=$[0]+$[1],V=n.isHorizontal();n.toGlobalCoord=V?function(oe){return oe+r}:function(oe){return L-oe+r},n.toLocalCoord=V?function(oe){return oe-r}:function(oe){return L-oe+r}},g.prototype.getAxis=function(){return this._axis},g.prototype.getBaseAxis=function(){return this._axis},g.prototype.getAxes=function(){return[this._axis]},g.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},g.prototype.containPoint=function(n){var r=this.getRect(),$=this.getAxis(),L=$.orient;return L==="horizontal"?$.contain($.toLocalCoord(n[0]))&&n[1]>=r.y&&n[1]<=r.y+r.height:$.contain($.toLocalCoord(n[1]))&&n[0]>=r.y&&n[0]<=r.y+r.height},g.prototype.pointToData=function(n){var r=this.getAxis();return[r.coordToData(r.toLocalCoord(n[r.orient==="horizontal"?0:1]))]},g.prototype.dataToPoint=function(n){var r=this.getAxis(),$=this.getRect(),L=[],V=r.orient==="horizontal"?0:1;return n instanceof Array&&(n=n[0]),L[V]=r.toGlobalCoord(r.dataToCoord(+n)),L[1-V]=V===0?$.y+$.height/2:$.x+$.width/2,L},g.prototype.convertToPixel=function(n,r,$){var L=getCoordSys$1(r);return L===this?this.dataToPoint($):null},g.prototype.convertFromPixel=function(n,r,$){var L=getCoordSys$1(r);return L===this?this.pointToData($):null},g}();function getCoordSys$1(g){var n=g.seriesModel,r=g.singleAxisModel;return r&&r.coordinateSystem||n&&n.coordinateSystem}function create(g,n){var r=[];return g.eachComponent("singleAxis",function($,L){var V=new Single($,g,n);V.name="single_"+L,V.resize($,n),$.coordinateSystem=V,r.push(V)}),g.eachSeries(function($){if($.get("coordinateSystem")==="singleAxis"){var L=$.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];$.coordinateSystem=L&&L.coordinateSystem}}),r}var singleCreator={create,dimensions:singleDimensions};const singleCreator$1=singleCreator;var XY$1=["x","y"],WH$1=["width","height"],SingleAxisPointer=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,$,L,V,oe){var ae=L.axis,re=ae.coordinateSystem,le=getGlobalExtent(re,1-getPointDimIndex(ae)),ue=re.dataToPoint($)[0],de=V.get("type");if(de&&de!=="none"){var he=buildElStyle(V),pe=pointerShapeBuilder[de](ae,ue,le);pe.style=he,r.graphicKey=pe.type,r.pointer=pe}var _e=layout$1(L);buildCartesianSingleLabelElOption($,r,_e,L,V,oe)},n.prototype.getHandleTransform=function(r,$,L){var V=layout$1($,{labelInside:!1});V.labelMargin=L.get(["handle","margin"]);var oe=getTransformedPosition($.axis,r,V);return{x:oe[0],y:oe[1],rotation:V.rotation+(V.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(r,$,L,V){var oe=L.axis,ae=oe.coordinateSystem,re=getPointDimIndex(oe),le=getGlobalExtent(ae,re),ue=[r.x,r.y];ue[re]+=$[re],ue[re]=Math.min(le[1],ue[re]),ue[re]=Math.max(le[0],ue[re]);var de=getGlobalExtent(ae,1-re),he=(de[1]+de[0])/2,pe=[he,he];return pe[re]=ue[re],{x:ue[0],y:ue[1],rotation:r.rotation,cursorPoint:pe,tooltipOption:{verticalAlign:"middle"}}},n}(BaseAxisPointer$1),pointerShapeBuilder={line:function(g,n,r){var $=makeLineShape([n,r[0]],[n,r[1]],getPointDimIndex(g));return{type:"Line",subPixelOptimize:!0,shape:$}},shadow:function(g,n,r){var $=g.getBandWidth(),L=r[1]-r[0];return{type:"Rect",shape:makeRectShape([n-$/2,r[0]],[$,L],getPointDimIndex(g))}}};function getPointDimIndex(g){return g.isHorizontal()?0:1}function getGlobalExtent(g,n){var r=g.getRect();return[r[XY$1[n]],r[XY$1[n]]+r[WH$1[n]]]}const SingleAxisPointer$1=SingleAxisPointer;var SingleView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="single",n}(ComponentView$1);function install$o(g){use(install$r),AxisView$1.registerAxisPointerClass("SingleAxisPointer",SingleAxisPointer$1),g.registerComponentView(SingleView),g.registerComponentView(SingleAxisView$1),g.registerComponentModel(SingleAxisModel$1),axisModelCreator(g,"single",SingleAxisModel$1,SingleAxisModel$1.defaultOption),g.registerCoordinateSystem("single",singleCreator$1)}var CalendarModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$,L){var V=getLayoutParams(r);g.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams$1(r,V)},n.prototype.mergeOption=function(r){g.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams$1(this.option,r)},n.prototype.getCellSize=function(){return this.option.cellSize},n.type="calendar",n.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},n}(ComponentModel$1);function mergeAndNormalizeLayoutParams$1(g,n){var r=g.cellSize,$;isArray$2(r)?$=r:$=g.cellSize=[r,r],$.length===1&&($[1]=$[0]);var L=map$1([0,1],function(V){return sizeCalculable(n,V)&&($[V]="auto"),$[V]!=null&&$[V]!=="auto"});mergeLayoutParam(g,n,{type:"box",ignoreSize:L})}const CalendarModel$1=CalendarModel;var CalendarView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=this.group;V.removeAll();var oe=r.coordinateSystem,ae=oe.getRangeInfo(),re=oe.getOrient(),le=$.getLocaleModel();this._renderDayRect(r,ae,V),this._renderLines(r,ae,re,V),this._renderYearText(r,ae,re,V),this._renderMonthText(r,le,re,V),this._renderWeekText(r,le,ae,re,V)},n.prototype._renderDayRect=function(r,$,L){for(var V=r.coordinateSystem,oe=r.getModel("itemStyle").getItemStyle(),ae=V.getCellWidth(),re=V.getCellHeight(),le=$.start.time;le<=$.end.time;le=V.getNextNDay(le,1).time){var ue=V.dataToRect([le],!1).tl,de=new Rect$3({shape:{x:ue[0],y:ue[1],width:ae,height:re},cursor:"default",style:oe});L.add(de)}},n.prototype._renderLines=function(r,$,L,V){var oe=this,ae=r.coordinateSystem,re=r.getModel(["splitLine","lineStyle"]).getLineStyle(),le=r.get(["splitLine","show"]),ue=re.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var de=$.start,he=0;de.time<=$.end.time;he++){_e(de.formatedDate),he===0&&(de=ae.getDateInfo($.start.y+"-"+$.start.m));var pe=de.date;pe.setMonth(pe.getMonth()+1),de=ae.getDateInfo(pe)}_e(ae.getNextNDay($.end.time,1).formatedDate);function _e($e){oe._firstDayOfMonth.push(ae.getDateInfo($e)),oe._firstDayPoints.push(ae.dataToRect([$e],!1).tl);var xe=oe._getLinePointsOfOneWeek(r,$e,L);oe._tlpoints.push(xe[0]),oe._blpoints.push(xe[xe.length-1]),le&&oe._drawSplitline(xe,re,V)}le&&this._drawSplitline(oe._getEdgesPoints(oe._tlpoints,ue,L),re,V),le&&this._drawSplitline(oe._getEdgesPoints(oe._blpoints,ue,L),re,V)},n.prototype._getEdgesPoints=function(r,$,L){var V=[r[0].slice(),r[r.length-1].slice()],oe=L==="horizontal"?0:1;return V[0][oe]=V[0][oe]-$/2,V[1][oe]=V[1][oe]+$/2,V},n.prototype._drawSplitline=function(r,$,L){var V=new Polyline$3({z2:20,shape:{points:r},style:$});L.add(V)},n.prototype._getLinePointsOfOneWeek=function(r,$,L){for(var V=r.coordinateSystem,oe=V.getDateInfo($),ae=[],re=0;re<7;re++){var le=V.getNextNDay(oe.time,re),ue=V.dataToRect([le.time],!1);ae[2*le.day]=ue.tl,ae[2*le.day+1]=ue[L==="horizontal"?"bl":"tr"]}return ae},n.prototype._formatterLabel=function(r,$){return isString$1(r)&&r?formatTplSimple(r,$):isFunction$1(r)?r($):$.nameMap},n.prototype._yearTextPositionControl=function(r,$,L,V,oe){var ae=$[0],re=$[1],le=["center","bottom"];V==="bottom"?(re+=oe,le=["center","top"]):V==="left"?ae-=oe:V==="right"?(ae+=oe,le=["center","top"]):re-=oe;var ue=0;return(V==="left"||V==="right")&&(ue=Math.PI/2),{rotation:ue,x:ae,y:re,style:{align:le[0],verticalAlign:le[1]}}},n.prototype._renderYearText=function(r,$,L,V){var oe=r.getModel("yearLabel");if(oe.get("show")){var ae=oe.get("margin"),re=oe.get("position");re||(re=L!=="horizontal"?"top":"left");var le=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],ue=(le[0][0]+le[1][0])/2,de=(le[0][1]+le[1][1])/2,he=L==="horizontal"?0:1,pe={top:[ue,le[he][1]],bottom:[ue,le[1-he][1]],left:[le[1-he][0],de],right:[le[he][0],de]},_e=$.start.y;+$.end.y>+$.start.y&&(_e=_e+"-"+$.end.y);var $e=oe.get("formatter"),xe={start:$.start.y,end:$.end.y,nameMap:_e},Oe=this._formatterLabel($e,xe),Ce=new ZRText$1({z2:30,style:createTextStyle(oe,{text:Oe})});Ce.attr(this._yearTextPositionControl(Ce,pe[re],L,re,ae)),V.add(Ce)}},n.prototype._monthTextPositionControl=function(r,$,L,V,oe){var ae="left",re="top",le=r[0],ue=r[1];return L==="horizontal"?(ue=ue+oe,$&&(ae="center"),V==="start"&&(re="bottom")):(le=le+oe,$&&(re="middle"),V==="start"&&(ae="right")),{x:le,y:ue,align:ae,verticalAlign:re}},n.prototype._renderMonthText=function(r,$,L,V){var oe=r.getModel("monthLabel");if(oe.get("show")){var ae=oe.get("nameMap"),re=oe.get("margin"),le=oe.get("position"),ue=oe.get("align"),de=[this._tlpoints,this._blpoints];(!ae||isString$1(ae))&&(ae&&($=getLocaleModel(ae)||$),ae=$.get(["time","monthAbbr"])||[]);var he=le==="start"?0:1,pe=L==="horizontal"?0:1;re=le==="start"?-re:re;for(var _e=ue==="center",$e=0;$e<de[he].length-1;$e++){var xe=de[he][$e].slice(),Oe=this._firstDayOfMonth[$e];if(_e){var Ce=this._firstDayPoints[$e];xe[pe]=(Ce[pe]+de[0][$e+1][pe])/2}var Ie=oe.get("formatter"),Ne=ae[+Oe.m-1],ze={yyyy:Oe.y,yy:(Oe.y+"").slice(2),MM:Oe.m,M:+Oe.m,nameMap:Ne},Fe=this._formatterLabel(Ie,ze),Ue=new ZRText$1({z2:30,style:extend$1(createTextStyle(oe,{text:Fe}),this._monthTextPositionControl(xe,_e,L,le,re))});V.add(Ue)}}},n.prototype._weekTextPositionControl=function(r,$,L,V,oe){var ae="center",re="middle",le=r[0],ue=r[1],de=L==="start";return $==="horizontal"?(le=le+V+(de?1:-1)*oe[0]/2,ae=de?"right":"left"):(ue=ue+V+(de?1:-1)*oe[1]/2,re=de?"bottom":"top"),{x:le,y:ue,align:ae,verticalAlign:re}},n.prototype._renderWeekText=function(r,$,L,V,oe){var ae=r.getModel("dayLabel");if(ae.get("show")){var re=r.coordinateSystem,le=ae.get("position"),ue=ae.get("nameMap"),de=ae.get("margin"),he=re.getFirstDayOfWeek();if(!ue||isString$1(ue)){ue&&($=getLocaleModel(ue)||$);var pe=$.get(["time","dayOfWeekShort"]);ue=pe||map$1($.get(["time","dayOfWeekAbbr"]),function(ze){return ze[0]})}var _e=re.getNextNDay(L.end.time,7-L.lweek).time,$e=[re.getCellWidth(),re.getCellHeight()];de=parsePercent(de,Math.min($e[1],$e[0])),le==="start"&&(_e=re.getNextNDay(L.start.time,-(7+L.fweek)).time,de=-de);for(var xe=0;xe<7;xe++){var Oe=re.getNextNDay(_e,xe),Ce=re.dataToRect([Oe.time],!1).center,Ie=xe;Ie=Math.abs((xe+he)%7);var Ne=new ZRText$1({z2:30,style:extend$1(createTextStyle(ae,{text:ue[Ie]}),this._weekTextPositionControl(Ce,V,le,de,$e))});oe.add(Ne)}}},n.type="calendar",n}(ComponentView$1);const CalendarView$1=CalendarView;var PROXIMATE_ONE_DAY=864e5,Calendar=function(){function g(n,r,$){this.type="calendar",this.dimensions=g.dimensions,this.getDimensionsInfo=g.getDimensionsInfo,this._model=n}return g.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},g.prototype.getRangeInfo=function(){return this._rangeInfo},g.prototype.getModel=function(){return this._model},g.prototype.getRect=function(){return this._rect},g.prototype.getCellWidth=function(){return this._sw},g.prototype.getCellHeight=function(){return this._sh},g.prototype.getOrient=function(){return this._orient},g.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},g.prototype.getDateInfo=function(n){n=parseDate(n);var r=n.getFullYear(),$=n.getMonth()+1,L=$<10?"0"+$:""+$,V=n.getDate(),oe=V<10?"0"+V:""+V,ae=n.getDay();return ae=Math.abs((ae+7-this.getFirstDayOfWeek())%7),{y:r+"",m:L,d:oe,day:ae,time:n.getTime(),formatedDate:r+"-"+L+"-"+oe,date:n}},g.prototype.getNextNDay=function(n,r){return r=r||0,r===0?this.getDateInfo(n):(n=new Date(this.getDateInfo(n).time),n.setDate(n.getDate()+r),this.getDateInfo(n))},g.prototype.update=function(n,r){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var $=this._rangeInfo.weeks||1,L=["width","height"],V=this._model.getCellSize().slice(),oe=this._model.getBoxLayoutParams(),ae=this._orient==="horizontal"?[$,7]:[7,$];each$f([0,1],function(de){ue(V,de)&&(oe[L[de]]=V[de]*ae[de])});var re={width:r.getWidth(),height:r.getHeight()},le=this._rect=getLayoutRect(oe,re);each$f([0,1],function(de){ue(V,de)||(V[de]=le[L[de]]/ae[de])});function ue(de,he){return de[he]!=null&&de[he]!=="auto"}this._sw=V[0],this._sh=V[1]},g.prototype.dataToPoint=function(n,r){isArray$2(n)&&(n=n[0]),r==null&&(r=!0);var $=this.getDateInfo(n),L=this._rangeInfo,V=$.formatedDate;if(r&&!($.time>=L.start.time&&$.time<L.end.time+PROXIMATE_ONE_DAY))return[NaN,NaN];var oe=$.day,ae=this._getRangeInfo([L.start.time,V]).nthWeek;return this._orient==="vertical"?[this._rect.x+oe*this._sw+this._sw/2,this._rect.y+ae*this._sh+this._sh/2]:[this._rect.x+ae*this._sw+this._sw/2,this._rect.y+oe*this._sh+this._sh/2]},g.prototype.pointToData=function(n){var r=this.pointToDate(n);return r&&r.time},g.prototype.dataToRect=function(n,r){var $=this.dataToPoint(n,r);return{contentShape:{x:$[0]-(this._sw-this._lineWidth)/2,y:$[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:$,tl:[$[0]-this._sw/2,$[1]-this._sh/2],tr:[$[0]+this._sw/2,$[1]-this._sh/2],br:[$[0]+this._sw/2,$[1]+this._sh/2],bl:[$[0]-this._sw/2,$[1]+this._sh/2]}},g.prototype.pointToDate=function(n){var r=Math.floor((n[0]-this._rect.x)/this._sw)+1,$=Math.floor((n[1]-this._rect.y)/this._sh)+1,L=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay($,r-1,L):this._getDateByWeeksAndDay(r,$-1,L)},g.prototype.convertToPixel=function(n,r,$){var L=getCoordSys(r);return L===this?L.dataToPoint($):null},g.prototype.convertFromPixel=function(n,r,$){var L=getCoordSys(r);return L===this?L.pointToData($):null},g.prototype.containPoint=function(n){return console.warn("Not implemented."),!1},g.prototype._initRangeOption=function(){var n=this._model.get("range"),r;if(isArray$2(n)&&n.length===1&&(n=n[0]),isArray$2(n))r=n;else{var $=n.toString();if(/^\d{4}$/.test($)&&(r=[$+"-01-01",$+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test($)){var L=this.getDateInfo($),V=L.date;V.setMonth(V.getMonth()+1);var oe=this.getNextNDay(V,-1);r=[L.formatedDate,oe.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test($)&&(r=[$,$])}if(!r)return n;var ae=this._getRangeInfo(r);return ae.start.time>ae.end.time&&r.reverse(),r},g.prototype._getRangeInfo=function(n){var r=[this.getDateInfo(n[0]),this.getDateInfo(n[1])],$;r[0].time>r[1].time&&($=!0,r.reverse());var L=Math.floor(r[1].time/PROXIMATE_ONE_DAY)-Math.floor(r[0].time/PROXIMATE_ONE_DAY)+1,V=new Date(r[0].time),oe=V.getDate(),ae=r[1].date.getDate();V.setDate(oe+L-1);var re=V.getDate();if(re!==ae)for(var le=V.getTime()-r[1].time>0?1:-1;(re=V.getDate())!==ae&&(V.getTime()-r[1].time)*le>0;)L-=le,V.setDate(re-le);var ue=Math.floor((L+r[0].day+6)/7),de=$?-ue+1:ue-1;return $&&r.reverse(),{range:[r[0].formatedDate,r[1].formatedDate],start:r[0],end:r[1],allDay:L,weeks:ue,nthWeek:de,fweek:r[0].day,lweek:r[1].day}},g.prototype._getDateByWeeksAndDay=function(n,r,$){var L=this._getRangeInfo($);if(n>L.weeks||n===0&&r<L.fweek||n===L.weeks&&r>L.lweek)return null;var V=(n-1)*7-L.fweek+r,oe=new Date(L.start.time);return oe.setDate(+L.start.d+V),this.getDateInfo(oe)},g.create=function(n,r){var $=[];return n.eachComponent("calendar",function(L){var V=new g(L);$.push(V),L.coordinateSystem=V}),n.eachSeries(function(L){L.get("coordinateSystem")==="calendar"&&(L.coordinateSystem=$[L.get("calendarIndex")||0])}),$},g.dimensions=["time","value"],g}();function getCoordSys(g){var n=g.calendarModel,r=g.seriesModel,$=n?n.coordinateSystem:r?r.coordinateSystem:null;return $}const Calendar$1=Calendar;function install$n(g){g.registerComponentModel(CalendarModel$1),g.registerComponentView(CalendarView$1),g.registerCoordinateSystem("calendar",Calendar$1)}function setKeyInfoToNewElOption(g,n){var r=g.existing;if(n.id=g.keyInfo.id,!n.type&&r&&(n.type=r.type),n.parentId==null){var $=n.parentOption;$?n.parentId=$.id:r&&(n.parentId=r.parentId)}n.parentOption=null}function isSetLoc(g,n){var r;return each$f(n,function($){g[$]!=null&&g[$]!=="auto"&&(r=!0)}),r}function mergeNewElOptionToExist(g,n,r){var $=extend$1({},r),L=g[n],V=r.$action||"merge";V==="merge"?L?(merge$1(L,$,!0),mergeLayoutParam(L,$,{ignoreSize:!0}),copyLayoutParams(r,L),copyTransitionInfo(r,L),copyTransitionInfo(r,L,"shape"),copyTransitionInfo(r,L,"style"),copyTransitionInfo(r,L,"extra"),r.clipPath=L.clipPath):g[n]=$:V==="replace"?g[n]=$:V==="remove"&&L&&(g[n]=null)}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(g,n,r){if(r&&(!g[r]&&n[r]&&(g[r]={}),g=g[r],n=n[r]),!(!g||!n))for(var $=r?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,L=0;L<$.length;L++){var V=$[L];g[V]==null&&n[V]!=null&&(g[V]=n[V])}}function setLayoutInfoToExist(g,n){if(!!g&&(g.hv=n.hv=[isSetLoc(n,["left","right"]),isSetLoc(n,["top","bottom"])],g.type==="group")){var r=g,$=n;r.width==null&&(r.width=$.width=0),r.height==null&&(r.height=$.height=0)}}var GraphicComponentModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.preventAutoZ=!0,r}return n.prototype.mergeOption=function(r,$){var L=this.option.elements;this.option.elements=null,g.prototype.mergeOption.call(this,r,$),this.option.elements=L},n.prototype.optionUpdated=function(r,$){var L=this.option,V=($?L:r).elements,oe=L.elements=$?[]:L.elements,ae=[];this._flatten(V,ae,null);var re=mappingToExists(oe,ae,"normalMerge"),le=this._elOptionsToUpdate=[];each$f(re,function(ue,de){var he=ue.newOption;he&&(le.push(he),setKeyInfoToNewElOption(ue,he),mergeNewElOptionToExist(oe,de,he),setLayoutInfoToExist(oe[de],he))},this),L.elements=filter(oe,function(ue){return ue&&delete ue.$action,ue!=null})},n.prototype._flatten=function(r,$,L){each$f(r,function(V){if(V){L&&(V.parentOption=L),$.push(V);var oe=V.children;oe&&oe.length&&this._flatten(oe,$,V),delete V.children}},this)},n.prototype.useElOptionsToUpdate=function(){var r=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,r},n.type="graphic",n.defaultOption={elements:[]},n}(ComponentModel$1),nonShapeGraphicElements={path:null,compoundPath:null,group:Group$4,image:ZRImage$1,text:ZRText$1},inner$7=makeInner(),GraphicComponentView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this._elMap=createHashMap()},n.prototype.render=function(r,$,L){r!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=r,this._updateElements(r),this._relocate(r,L)},n.prototype._updateElements=function(r){var $=r.useElOptionsToUpdate();if($){var L=this._elMap,V=this.group,oe=r.get("z"),ae=r.get("zlevel");each$f($,function(re){var le=convertOptionIdName(re.id,null),ue=le!=null?L.get(le):null,de=convertOptionIdName(re.parentId,null),he=de!=null?L.get(de):V,pe=re.type,_e=re.style;pe==="text"&&_e&&re.hv&&re.hv[1]&&(_e.textVerticalAlign=_e.textBaseline=_e.verticalAlign=_e.align=null);var $e=re.textContent,xe=re.textConfig;if(_e&&isEC4CompatibleStyle(_e,pe,!!xe,!!$e)){var Oe=convertFromEC4CompatibleStyle(_e,pe,!0);!xe&&Oe.textConfig&&(xe=re.textConfig=Oe.textConfig),!$e&&Oe.textContent&&($e=Oe.textContent)}var Ce=getCleanedElOption(re),Ie=re.$action||"merge",Ne=Ie==="merge",ze=Ie==="replace";if(Ne){var Fe=!ue,Ue=ue;Fe?Ue=createEl(le,he,re.type,L):(Ue&&(inner$7(Ue).isNew=!1),stopPreviousKeyframeAnimationAndRestore(Ue)),Ue&&(applyUpdateTransition(Ue,Ce,r,{isInit:Fe}),updateCommonAttrs(Ue,re,oe,ae))}else if(ze){removeEl$1(ue,re,L,r);var At=createEl(le,he,re.type,L);At&&(applyUpdateTransition(At,Ce,r,{isInit:!0}),updateCommonAttrs(At,re,oe,ae))}else Ie==="remove"&&(updateLeaveTo(ue,re),removeEl$1(ue,re,L,r));var Et=L.get(le);if(Et&&$e)if(Ne){var Pt=Et.getTextContent();Pt?Pt.attr($e):Et.setTextContent(new ZRText$1($e))}else ze&&Et.setTextContent(new ZRText$1($e));if(Et){var kt=re.clipPath;if(kt){var Dt=kt.type,Lt=void 0,Fe=!1;if(Ne){var hn=Et.getClipPath();Fe=!hn||inner$7(hn).type!==Dt,Lt=Fe?newEl(Dt):hn}else ze&&(Fe=!0,Lt=newEl(Dt));Et.setClipPath(Lt),applyUpdateTransition(Lt,kt,r,{isInit:Fe}),applyKeyframeAnimation(Lt,kt.keyframeAnimation,r)}var vn=inner$7(Et);Et.setTextConfig(xe),vn.option=re,setEventData(Et,r,re),setTooltipConfig({el:Et,componentModel:r,itemName:Et.name,itemTooltipOption:re.tooltip}),applyKeyframeAnimation(Et,re.keyframeAnimation,r)}})}},n.prototype._relocate=function(r,$){for(var L=r.option.elements,V=this.group,oe=this._elMap,ae=$.getWidth(),re=$.getHeight(),le=["x","y"],ue=0;ue<L.length;ue++){var de=L[ue],he=convertOptionIdName(de.id,null),pe=he!=null?oe.get(he):null;if(!(!pe||!pe.isGroup)){var _e=pe.parent,$e=_e===V,xe=inner$7(pe),Oe=inner$7(_e);xe.width=parsePercent(xe.option.width,$e?ae:Oe.width)||0,xe.height=parsePercent(xe.option.height,$e?re:Oe.height)||0}}for(var ue=L.length-1;ue>=0;ue--){var de=L[ue],he=convertOptionIdName(de.id,null),pe=he!=null?oe.get(he):null;if(pe){var _e=pe.parent,Oe=inner$7(_e),Ce=_e===V?{width:ae,height:re}:{width:Oe.width,height:Oe.height},Ie={},Ne=positionElement(pe,de,Ce,null,{hv:de.hv,boundingMode:de.bounding},Ie);if(!inner$7(pe).isNew&&Ne){for(var ze=de.transition,Fe={},Ue=0;Ue<le.length;Ue++){var At=le[Ue],Et=Ie[At];ze&&(isTransitionAll(ze)||indexOf(ze,At)>=0)?Fe[At]=Et:pe[At]=Et}updateProps$1(pe,Fe,r,0)}else pe.attr(Ie)}}},n.prototype._clear=function(){var r=this,$=this._elMap;$.each(function(L){removeEl$1(L,inner$7(L).option,$,r._lastGraphicModel)}),this._elMap=createHashMap()},n.prototype.dispose=function(){this._clear()},n.type="graphic",n}(ComponentView$1);function newEl(g){var n=hasOwn(nonShapeGraphicElements,g)?nonShapeGraphicElements[g]:getShapeClass(g),r=new n({});return inner$7(r).type=g,r}function createEl(g,n,r,$){var L=newEl(r);return n.add(L),$.set(g,L),inner$7(L).id=g,inner$7(L).isNew=!0,L}function removeEl$1(g,n,r,$){var L=g&&g.parent;L&&(g.type==="group"&&g.traverse(function(V){removeEl$1(V,n,r,$)}),applyLeaveTransition(g,n,$),r.removeKey(inner$7(g).id))}function updateCommonAttrs(g,n,r,$){g.isGroup||each$f([["cursor",Displayable$1.prototype.cursor],["zlevel",$||0],["z",r||0],["z2",0]],function(L){var V=L[0];hasOwn(n,V)?g[V]=retrieve2(n[V],L[1]):g[V]==null&&(g[V]=L[1])}),each$f(keys(n),function(L){if(L.indexOf("on")===0){var V=n[L];g[L]=isFunction$1(V)?V:null}}),hasOwn(n,"draggable")&&(g.draggable=n.draggable),n.name!=null&&(g.name=n.name),n.id!=null&&(g.id=n.id)}function getCleanedElOption(g){return g=extend$1({},g),each$f(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS),function(n){delete g[n]}),g}function setEventData(g,n,r){var $=getECData(g).eventData;!g.silent&&!g.ignore&&!$&&($=getECData(g).eventData={componentType:"graphic",componentIndex:n.componentIndex,name:g.name}),$&&($.info=r.info)}function install$m(g){g.registerComponentModel(GraphicComponentModel),g.registerComponentView(GraphicComponentView),g.registerPreprocessor(function(n){var r=n.graphic;isArray$2(r)?!r[0]||!r[0].elements?n.graphic=[{elements:r}]:n.graphic=[n.graphic[0]]:r&&!r.elements&&(n.graphic=[{elements:[r]}])})}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function isCoordSupported(g){var n=g.get("coordinateSystem");return indexOf(SERIES_COORDS,n)>=0}function getAxisMainType(g){return g+"Axis"}function findEffectedDataZooms(g,n){var r=createHashMap(),$=[],L=createHashMap();g.eachComponent({mainType:"dataZoom",query:n},function(ue){L.get(ue.uid)||ae(ue)});var V;do V=!1,g.eachComponent("dataZoom",oe);while(V);function oe(ue){!L.get(ue.uid)&&re(ue)&&(ae(ue),V=!0)}function ae(ue){L.set(ue.uid,!0),$.push(ue),le(ue)}function re(ue){var de=!1;return ue.eachTargetAxis(function(he,pe){var _e=r.get(he);_e&&_e[pe]&&(de=!0)}),de}function le(ue){ue.eachTargetAxis(function(de,he){(r.get(de)||r.set(de,[]))[he]=!0})}return $}function collectReferCoordSysModelInfo(g){var n=g.ecModel,r={infoList:[],infoMap:createHashMap()};return g.eachTargetAxis(function($,L){var V=n.getComponent(getAxisMainType($),L);if(V){var oe=V.getCoordSysModel();if(oe){var ae=oe.uid,re=r.infoMap.get(ae);re||(re={model:oe,axisModels:[]},r.infoList.push(re),r.infoMap.set(ae,re)),re.axisModels.push(V)}}}),r}var DataZoomAxisInfo=function(){function g(){this.indexList=[],this.indexMap=[]}return g.prototype.add=function(n){this.indexMap[n]||(this.indexList.push(n),this.indexMap[n]=!0)},g}(),DataZoomModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return n.prototype.init=function(r,$,L){var V=retrieveRawOption(r);this.settledOption=V,this.mergeDefaultAndTheme(r,L),this._doInit(V)},n.prototype.mergeOption=function(r){var $=retrieveRawOption(r);merge$1(this.option,r,!0),merge$1(this.settledOption,$,!0),this._doInit($)},n.prototype._doInit=function(r){var $=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var L=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(V,oe){this._rangePropMode[oe]==="value"&&($[V[0]]=L[V[0]]=null)},this),this._resetTarget()},n.prototype._resetTarget=function(){var r=this.get("orient",!0),$=this._targetAxisInfoMap=createHashMap(),L=this._fillSpecifiedTargetAxis($);L?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient($,this._orient)),this._noTarget=!0,$.each(function(V){V.indexList.length&&(this._noTarget=!1)},this)},n.prototype._fillSpecifiedTargetAxis=function(r){var $=!1;return each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(L){var V=this.getReferringComponents(getAxisMainType(L),MULTIPLE_REFERRING);if(V.specified){$=!0;var oe=new DataZoomAxisInfo;each$f(V.models,function(ae){oe.add(ae.componentIndex)}),r.set(L,oe)}},this),$},n.prototype._fillAutoTargetAxisByOrient=function(r,$){var L=this.ecModel,V=!0;if(V){var oe=$==="vertical"?"y":"x",ae=L.findComponents({mainType:oe+"Axis"});re(ae,oe)}if(V){var ae=L.findComponents({mainType:"singleAxis",filter:function(ue){return ue.get("orient",!0)===$}});re(ae,"single")}function re(le,ue){var de=le[0];if(de){var he=new DataZoomAxisInfo;if(he.add(de.componentIndex),r.set(ue,he),V=!1,ue==="x"||ue==="y"){var pe=de.getReferringComponents("grid",SINGLE_REFERRING).models[0];pe&&each$f(le,function(_e){de.componentIndex!==_e.componentIndex&&pe===_e.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&he.add(_e.componentIndex)})}}}V&&each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(le){if(V){var ue=L.findComponents({mainType:getAxisMainType(le),filter:function(he){return he.get("type",!0)==="category"}});if(ue[0]){var de=new DataZoomAxisInfo;de.add(ue[0].componentIndex),r.set(le,de),V=!1}}},this)},n.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function($){!r&&(r=$)},this),r==="y"?"vertical":"horizontal"},n.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var $=this.ecModel.option;this.option.throttle=$.animation&&$.animationDurationUpdate>0?100:20}},n.prototype._updateRangeUse=function(r){var $=this._rangePropMode,L=this.get("rangeMode");each$f([["start","startValue"],["end","endValue"]],function(V,oe){var ae=r[V[0]]!=null,re=r[V[1]]!=null;ae&&!re?$[oe]="percent":!ae&&re?$[oe]="value":L?$[oe]=L[oe]:ae&&($[oe]="percent")})},n.prototype.noTarget=function(){return this._noTarget},n.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function($,L){r==null&&(r=this.ecModel.getComponent(getAxisMainType($),L))},this),r},n.prototype.eachTargetAxis=function(r,$){this._targetAxisInfoMap.each(function(L,V){each$f(L.indexList,function(oe){r.call($,V,oe)})})},n.prototype.getAxisProxy=function(r,$){var L=this.getAxisModel(r,$);if(L)return L.__dzAxisProxy},n.prototype.getAxisModel=function(r,$){var L=this._targetAxisInfoMap.get(r);if(L&&L.indexMap[$])return this.ecModel.getComponent(getAxisMainType(r),$)},n.prototype.setRawRange=function(r){var $=this.option,L=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(V){(r[V[0]]!=null||r[V[1]]!=null)&&($[V[0]]=L[V[0]]=r[V[0]],$[V[1]]=L[V[1]]=r[V[1]])},this),this._updateRangeUse(r)},n.prototype.setCalculatedRange=function(r){var $=this.option;each$f(["start","startValue","end","endValue"],function(L){$[L]=r[L]})},n.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},n.prototype.getValueRange=function(r,$){if(r==null&&$==null){var L=this.findRepresentativeAxisProxy();if(L)return L.getDataValueWindow()}else return this.getAxisProxy(r,$).getDataValueWindow()},n.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var $,L=this._targetAxisInfoMap.keys(),V=0;V<L.length;V++)for(var oe=L[V],ae=this._targetAxisInfoMap.get(oe),re=0;re<ae.indexList.length;re++){var le=this.getAxisProxy(oe,ae.indexList[re]);if(le.hostedBy(this))return le;$||($=le)}return $},n.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},n.prototype.getOrient=function(){return this._orient},n.type="dataZoom",n.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],n.defaultOption={z:4,filterMode:"filter",start:0,end:100},n}(ComponentModel$1);function retrieveRawOption(g){var n={};return each$f(["start","end","startValue","endValue","throttle"],function(r){g.hasOwnProperty(r)&&(n[r]=g[r])}),n}const DataZoomModel$1=DataZoomModel;var SelectDataZoomModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.select",n}(DataZoomModel$1);const SelectZoomModel=SelectDataZoomModel;var DataZoomView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L,V){this.dataZoomModel=r,this.ecModel=$,this.api=L},n.type="dataZoom",n}(ComponentView$1);const DataZoomView$1=DataZoomView;var SelectDataZoomView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.select",n}(DataZoomView$1);const SelectZoomView=SelectDataZoomView;var each$7=each$f,asc$1=asc$2,AxisProxy=function(){function g(n,r,$,L){this._dimName=n,this._axisIndex=r,this.ecModel=L,this._dataZoomModel=$}return g.prototype.hostedBy=function(n){return this._dataZoomModel===n},g.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},g.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},g.prototype.getTargetSeriesModels=function(){var n=[];return this.ecModel.eachSeries(function(r){if(isCoordSupported(r)){var $=getAxisMainType(this._dimName),L=r.getReferringComponents($,SINGLE_REFERRING).models[0];L&&this._axisIndex===L.componentIndex&&n.push(r)}},this),n},g.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},g.prototype.getMinMaxSpan=function(){return clone$4(this._minMaxSpan)},g.prototype.calculateDataWindow=function(n){var r=this._dataExtent,$=this.getAxisModel(),L=$.axis.scale,V=this._dataZoomModel.getRangePropMode(),oe=[0,100],ae=[],re=[],le;each$7(["start","end"],function(he,pe){var _e=n[he],$e=n[he+"Value"];V[pe]==="percent"?(_e==null&&(_e=oe[pe]),$e=L.parse(linearMap$2(_e,oe,r))):(le=!0,$e=$e==null?r[pe]:L.parse($e),_e=linearMap$2($e,r,oe)),re[pe]=$e==null||isNaN($e)?r[pe]:$e,ae[pe]=_e==null||isNaN(_e)?oe[pe]:_e}),asc$1(re),asc$1(ae);var ue=this._minMaxSpan;le?de(re,ae,r,oe,!1):de(ae,re,oe,r,!0);function de(he,pe,_e,$e,xe){var Oe=xe?"Span":"ValueSpan";sliderMove(0,he,_e,"all",ue["min"+Oe],ue["max"+Oe]);for(var Ce=0;Ce<2;Ce++)pe[Ce]=linearMap$2(he[Ce],_e,$e,!0),xe&&(pe[Ce]=L.parse(pe[Ce]))}return{valueWindow:re,percentWindow:ae}},g.prototype.reset=function(n){if(n===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,r),this._updateMinMaxSpan();var $=this.calculateDataWindow(n.settledOption);this._valueWindow=$.valueWindow,this._percentWindow=$.percentWindow,this._setAxisModel()}},g.prototype.filterData=function(n,r){if(n!==this._dataZoomModel)return;var $=this._dimName,L=this.getTargetSeriesModels(),V=n.get("filterMode"),oe=this._valueWindow;if(V==="none")return;each$7(L,function(re){var le=re.getData(),ue=le.mapDimensionsAll($);if(ue.length){if(V==="weakFilter"){var de=le.getStore(),he=map$1(ue,function(pe){return le.getDimensionIndex(pe)},le);le.filterSelf(function(pe){for(var _e,$e,xe,Oe=0;Oe<ue.length;Oe++){var Ce=de.get(he[Oe],pe),Ie=!isNaN(Ce),Ne=Ce<oe[0],ze=Ce>oe[1];if(Ie&&!Ne&&!ze)return!0;Ie&&(xe=!0),Ne&&(_e=!0),ze&&($e=!0)}return xe&&_e&&$e})}else each$7(ue,function(pe){if(V==="empty")re.setData(le=le.map(pe,function($e){return ae($e)?$e:NaN}));else{var _e={};_e[pe]=oe,le.selectRange(_e)}});each$7(ue,function(pe){le.setApproximateExtent(oe,pe)})}});function ae(re){return re>=oe[0]&&re<=oe[1]}},g.prototype._updateMinMaxSpan=function(){var n=this._minMaxSpan={},r=this._dataZoomModel,$=this._dataExtent;each$7(["min","max"],function(L){var V=r.get(L+"Span"),oe=r.get(L+"ValueSpan");oe!=null&&(oe=this.getAxisModel().axis.scale.parse(oe)),oe!=null?V=linearMap$2($[0]+oe,$,[0,100],!0):V!=null&&(oe=linearMap$2(V,[0,100],$,!0)-$[0]),n[L+"Span"]=V,n[L+"ValueSpan"]=oe},this)},g.prototype._setAxisModel=function(){var n=this.getAxisModel(),r=this._percentWindow,$=this._valueWindow;if(r){var L=getPixelPrecision($,[0,500]);L=Math.min(L,20);var V=n.axis.scale.rawExtentInfo;r[0]!==0&&V.setDeterminedMinMax("min",+$[0].toFixed(L)),r[1]!==100&&V.setDeterminedMinMax("max",+$[1].toFixed(L)),V.freeze()}},g}();function calculateDataExtent(g,n,r){var $=[1/0,-1/0];each$7(r,function(oe){unionAxisExtentFromData($,oe.getData(),n)});var L=g.getAxisModel(),V=ensureScaleRawExtentInfo(L.axis.scale,L,$).calculate();return[V.min,V.max]}const AxisProxy$1=AxisProxy;var dataZoomProcessor={getTargetSeries:function(g){function n(L){g.eachComponent("dataZoom",function(V){V.eachTargetAxis(function(oe,ae){var re=g.getComponent(getAxisMainType(oe),ae);L(oe,ae,re,V)})})}n(function(L,V,oe,ae){oe.__dzAxisProxy=null});var r=[];n(function(L,V,oe,ae){oe.__dzAxisProxy||(oe.__dzAxisProxy=new AxisProxy$1(L,V,ae,g),r.push(oe.__dzAxisProxy))});var $=createHashMap();return each$f(r,function(L){each$f(L.getTargetSeriesModels(),function(V){$.set(V.uid,V)})}),$},overallReset:function(g,n){g.eachComponent("dataZoom",function(r){r.eachTargetAxis(function($,L){r.getAxisProxy($,L).reset(r)}),r.eachTargetAxis(function($,L){r.getAxisProxy($,L).filterData(r,n)})}),g.eachComponent("dataZoom",function(r){var $=r.findRepresentativeAxisProxy();if($){var L=$.getDataPercentWindow(),V=$.getDataValueWindow();r.setCalculatedRange({start:L[0],end:L[1],startValue:V[0],endValue:V[1]})}})}};const dataZoomProcessor$1=dataZoomProcessor;function installDataZoomAction(g){g.registerAction("dataZoom",function(n,r){var $=findEffectedDataZooms(r,n);each$f($,function(L){L.setRawRange({start:n.start,end:n.end,startValue:n.startValue,endValue:n.endValue})})})}var installed$1=!1;function installCommon$1(g){installed$1||(installed$1=!0,g.registerProcessor(g.PRIORITY.PROCESSOR.FILTER,dataZoomProcessor$1),installDataZoomAction(g),g.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function install$l(g){g.registerComponentModel(SelectZoomModel),g.registerComponentView(SelectZoomView),installCommon$1(g)}var ToolboxFeature=function(){function g(){}return g}(),features={};function registerFeature(g,n){features[g]=n}function getFeature(g){return features[g]}var ToolboxModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){g.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;each$f(this.option.feature,function($,L){var V=getFeature(L);V&&(V.getDefaultOption&&(V.defaultOption=V.getDefaultOption(r)),merge$1($,V.defaultOption))})},n.type="toolbox",n.layoutMode={type:"box",ignoreSize:!0},n.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},n}(ComponentModel$1);const ToolboxModel$1=ToolboxModel;function layout(g,n,r){var $=n.getBoxLayoutParams(),L=n.get("padding"),V={width:r.getWidth(),height:r.getHeight()},oe=getLayoutRect($,V,L);box(n.get("orient"),g,n.get("itemGap"),oe.width,oe.height),positionElement(g,$,V,L)}function makeBackground(g,n){var r=normalizeCssArray(n.get("padding")),$=n.getItemStyle(["color","opacity"]);return $.fill=n.get("backgroundColor"),g=new Rect$3({shape:{x:g.x-r[3],y:g.y-r[0],width:g.width+r[1]+r[3],height:g.height+r[0]+r[2],r:n.get("borderRadius")},style:$,silent:!0,z2:-1}),g}var ToolboxView=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.render=function(r,$,L,V){var oe=this.group;if(oe.removeAll(),!r.get("show"))return;var ae=+r.get("itemSize"),re=r.get("orient")==="vertical",le=r.get("feature")||{},ue=this._features||(this._features={}),de=[];each$f(le,function(_e,$e){de.push($e)}),new DataDiffer$1(this._featureNames||[],de).add(he).update(he).remove(curry$1(he,null)).execute(),this._featureNames=de;function he(_e,$e){var xe=de[_e],Oe=de[$e],Ce=le[xe],Ie=new Model$1(Ce,r,r.ecModel),Ne;if(V&&V.newTitle!=null&&V.featureName===xe&&(Ce.title=V.newTitle),xe&&!Oe){if(isUserFeatureName(xe))Ne={onclick:Ie.option.onclick,featureName:xe};else{var ze=getFeature(xe);if(!ze)return;Ne=new ze}ue[xe]=Ne}else if(Ne=ue[Oe],!Ne)return;Ne.uid=getUID("toolbox-feature"),Ne.model=Ie,Ne.ecModel=$,Ne.api=L;var Fe=Ne instanceof ToolboxFeature;if(!xe&&Oe){Fe&&Ne.dispose&&Ne.dispose($,L);return}if(!Ie.get("show")||Fe&&Ne.unusable){Fe&&Ne.remove&&Ne.remove($,L);return}pe(Ie,Ne,xe),Ie.setIconStatus=function(Ue,At){var Et=this.option,Pt=this.iconPaths;Et.iconStatus=Et.iconStatus||{},Et.iconStatus[Ue]=At,Pt[Ue]&&(At==="emphasis"?enterEmphasis:leaveEmphasis)(Pt[Ue])},Ne instanceof ToolboxFeature&&Ne.render&&Ne.render(Ie,$,L,V)}function pe(_e,$e,xe){var Oe=_e.getModel("iconStyle"),Ce=_e.getModel(["emphasis","iconStyle"]),Ie=$e instanceof ToolboxFeature&&$e.getIcons?$e.getIcons():_e.get("icon"),Ne=_e.get("title")||{},ze,Fe;isString$1(Ie)?(ze={},ze[xe]=Ie):ze=Ie,isString$1(Ne)?(Fe={},Fe[xe]=Ne):Fe=Ne;var Ue=_e.iconPaths={};each$f(ze,function(At,Et){var Pt=createIcon(At,{},{x:-ae/2,y:-ae/2,width:ae,height:ae});Pt.setStyle(Oe.getItemStyle());var kt=Pt.ensureState("emphasis");kt.style=Ce.getItemStyle();var Dt=new ZRText$1({style:{text:Fe[Et],align:Ce.get("textAlign"),borderRadius:Ce.get("textBorderRadius"),padding:Ce.get("textPadding"),fill:null},ignore:!0});Pt.setTextContent(Dt),setTooltipConfig({el:Pt,componentModel:r,itemName:Et,formatterParamsExtra:{title:Fe[Et]}}),Pt.__title=Fe[Et],Pt.on("mouseover",function(){var Lt=Ce.getItemStyle(),hn=re?r.get("right")==null&&r.get("left")!=="right"?"right":"left":r.get("bottom")==null&&r.get("top")!=="bottom"?"bottom":"top";Dt.setStyle({fill:Ce.get("textFill")||Lt.fill||Lt.stroke||"#000",backgroundColor:Ce.get("textBackgroundColor")}),Pt.setTextConfig({position:Ce.get("textPosition")||hn}),Dt.ignore=!r.get("showTitle"),L.enterEmphasis(this)}).on("mouseout",function(){_e.get(["iconStatus",Et])!=="emphasis"&&L.leaveEmphasis(this),Dt.hide()}),(_e.get(["iconStatus",Et])==="emphasis"?enterEmphasis:leaveEmphasis)(Pt),oe.add(Pt),Pt.on("click",bind$2($e.onclick,$e,$,L,Et)),Ue[Et]=Pt})}layout(oe,r,L),oe.add(makeBackground(oe.getBoundingRect(),r)),re||oe.eachChild(function(_e){var $e=_e.__title,xe=_e.ensureState("emphasis"),Oe=xe.textConfig||(xe.textConfig={}),Ce=_e.getTextContent(),Ie=Ce&&Ce.ensureState("emphasis");if(Ie&&!isFunction$1(Ie)&&$e){var Ne=Ie.style||(Ie.style={}),ze=getBoundingRect($e,ZRText$1.makeFont(Ne)),Fe=_e.x+oe.x,Ue=_e.y+oe.y+ae,At=!1;Ue+ze.height>L.getHeight()&&(Oe.position="top",At=!0);var Et=At?-5-ze.height:ae+10;Fe+ze.width/2>L.getWidth()?(Oe.position=["100%",Et],Ne.align="right"):Fe-ze.width/2<0&&(Oe.position=[0,Et],Ne.align="left")}})},n.prototype.updateView=function(r,$,L,V){each$f(this._features,function(oe){oe instanceof ToolboxFeature&&oe.updateView&&oe.updateView(oe.model,$,L,V)})},n.prototype.remove=function(r,$){each$f(this._features,function(L){L instanceof ToolboxFeature&&L.remove&&L.remove(r,$)}),this.group.removeAll()},n.prototype.dispose=function(r,$){each$f(this._features,function(L){L instanceof ToolboxFeature&&L.dispose&&L.dispose(r,$)})},n.type="toolbox",n}(ComponentView$1);function isUserFeatureName(g){return g.indexOf("my")===0}const ToolboxView$1=ToolboxView;var SaveAsImage=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.onclick=function(r,$){var L=this.model,V=L.get("name")||r.get("title.0.text")||"echarts",oe=$.getZr().painter.getType()==="svg",ae=oe?"svg":L.get("type",!0)||"png",re=$.getConnectedDataURL({type:ae,backgroundColor:L.get("backgroundColor",!0)||r.get("backgroundColor")||"#fff",connectedBackgroundColor:L.get("connectedBackgroundColor"),excludeComponents:L.get("excludeComponents"),pixelRatio:L.get("pixelRatio")}),le=env$1.browser;if(isFunction$1(MouseEvent)&&(le.newEdge||!le.ie&&!le.edge)){var ue=document.createElement("a");ue.download=V+"."+ae,ue.target="_blank",ue.href=re;var de=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});ue.dispatchEvent(de)}else if(window.navigator.msSaveOrOpenBlob||oe){var he=re.split(","),pe=he[0].indexOf("base64")>-1,_e=oe?decodeURIComponent(he[1]):he[1];pe&&(_e=window.atob(_e));var $e=V+"."+ae;if(window.navigator.msSaveOrOpenBlob){for(var xe=_e.length,Oe=new Uint8Array(xe);xe--;)Oe[xe]=_e.charCodeAt(xe);var Ce=new Blob([Oe]);window.navigator.msSaveOrOpenBlob(Ce,$e)}else{var Ie=document.createElement("iframe");document.body.appendChild(Ie);var Ne=Ie.contentWindow,ze=Ne.document;ze.open("image/svg+xml","replace"),ze.write(_e),ze.close(),Ne.focus(),ze.execCommand("SaveAs",!0,$e),document.body.removeChild(Ie)}}else{var Fe=L.get("lang"),Ue='<body style="margin:0;"><img src="'+re+'" style="max-width:100%;" title="'+(Fe&&Fe[0]||"")+'" /></body>',At=window.open();At.document.write(Ue),At.document.title=V}},n.getDefaultOption=function(r){var $={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return $},n}(ToolboxFeature);const SaveAsImage$1=SaveAsImage;var INNER_STACK_KEYWORD="__ec_magicType_stack__",radioTypes=[["line","bar"],["stack"]],MagicType=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.getIcons=function(){var r=this.model,$=r.get("icon"),L={};return each$f(r.get("type"),function(V){$[V]&&(L[V]=$[V])}),L},n.getDefaultOption=function(r){var $={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return $},n.prototype.onclick=function(r,$,L){var V=this.model,oe=V.get(["seriesIndex",L]);if(seriesOptGenreator[L]){var ae={series:[]},re=function(de){var he=de.subType,pe=de.id,_e=seriesOptGenreator[L](he,pe,de,V);_e&&(defaults$2(_e,de.option),ae.series.push(_e));var $e=de.coordinateSystem;if($e&&$e.type==="cartesian2d"&&(L==="line"||L==="bar")){var xe=$e.getAxesByScale("ordinal")[0];if(xe){var Oe=xe.dim,Ce=Oe+"Axis",Ie=de.getReferringComponents(Ce,SINGLE_REFERRING).models[0],Ne=Ie.componentIndex;ae[Ce]=ae[Ce]||[];for(var ze=0;ze<=Ne;ze++)ae[Ce][Ne]=ae[Ce][Ne]||{};ae[Ce][Ne].boundaryGap=L==="bar"}}};each$f(radioTypes,function(de){indexOf(de,L)>=0&&each$f(de,function(he){V.setIconStatus(he,"normal")})}),V.setIconStatus(L,"emphasis"),r.eachComponent({mainType:"series",query:oe==null?null:{seriesIndex:oe}},re);var le,ue=L;L==="stack"&&(le=merge$1({stack:V.option.title.tiled,tiled:V.option.title.stack},V.option.title),V.get(["iconStatus",L])!=="emphasis"&&(ue="tiled")),$.dispatchAction({type:"changeMagicType",currentType:ue,newOption:ae,newTitle:le,featureName:"magicType"})}},n}(ToolboxFeature),seriesOptGenreator={line:function(g,n,r,$){if(g==="bar")return merge$1({id:n,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},$.get(["option","line"])||{},!0)},bar:function(g,n,r,$){if(g==="line")return merge$1({id:n,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},$.get(["option","bar"])||{},!0)},stack:function(g,n,r,$){var L=r.get("stack")===INNER_STACK_KEYWORD;if(g==="line"||g==="bar")return $.setIconStatus("stack",L?"normal":"emphasis"),merge$1({id:n,stack:L?"":INNER_STACK_KEYWORD},$.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(g,n){n.mergeOption(g.newOption)});const MagicType$1=MagicType;var BLOCK_SPLITER=new Array(60).join("-"),ITEM_SPLITER="	";function groupSeries(g){var n={},r=[],$=[];return g.eachRawSeries(function(L){var V=L.coordinateSystem;if(V&&(V.type==="cartesian2d"||V.type==="polar")){var oe=V.getBaseAxis();if(oe.type==="category"){var ae=oe.dim+"_"+oe.index;n[ae]||(n[ae]={categoryAxis:oe,valueAxis:V.getOtherAxis(oe),series:[]},$.push({axisDim:oe.dim,axisIndex:oe.index})),n[ae].series.push(L)}else r.push(L)}else r.push(L)}),{seriesGroupByCategoryAxis:n,other:r,meta:$}}function assembleSeriesWithCategoryAxis(g){var n=[];return each$f(g,function(r,$){var L=r.categoryAxis,V=r.valueAxis,oe=V.dim,ae=[" "].concat(map$1(r.series,function(pe){return pe.name})),re=[L.model.getCategories()];each$f(r.series,function(pe){var _e=pe.getRawData();re.push(pe.getRawData().mapArray(_e.mapDimension(oe),function($e){return $e}))});for(var le=[ae.join(ITEM_SPLITER)],ue=0;ue<re[0].length;ue++){for(var de=[],he=0;he<re.length;he++)de.push(re[he][ue]);le.push(de.join(ITEM_SPLITER))}n.push(le.join(`
`))}),n.join(`

`+BLOCK_SPLITER+`

`)}function assembleOtherSeries(g){return map$1(g,function(n){var r=n.getRawData(),$=[n.name],L=[];return r.each(r.dimensions,function(){for(var V=arguments.length,oe=arguments[V-1],ae=r.getName(oe),re=0;re<V-1;re++)L[re]=arguments[re];$.push((ae?ae+ITEM_SPLITER:"")+L.join(ITEM_SPLITER))}),$.join(`
`)}).join(`

`+BLOCK_SPLITER+`

`)}function getContentFromModel(g){var n=groupSeries(g);return{value:filter([assembleSeriesWithCategoryAxis(n.seriesGroupByCategoryAxis),assembleOtherSeries(n.other)],function(r){return!!r.replace(/[\n\t\s]/g,"")}).join(`

`+BLOCK_SPLITER+`

`),meta:n.meta}}function trim$1(g){return g.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat(g){var n=g.slice(0,g.indexOf(`
`));if(n.indexOf(ITEM_SPLITER)>=0)return!0}var itemSplitRegex=new RegExp("["+ITEM_SPLITER+"]+","g");function parseTSVContents(g){for(var n=g.split(/\n+/g),r=trim$1(n.shift()).split(itemSplitRegex),$=[],L=map$1(r,function(re){return{name:re,data:[]}}),V=0;V<n.length;V++){var oe=trim$1(n[V]).split(itemSplitRegex);$.push(oe.shift());for(var ae=0;ae<oe.length;ae++)L[ae]&&(L[ae].data[V]=oe[ae])}return{series:L,categories:$}}function parseListContents(g){for(var n=g.split(/\n+/g),r=trim$1(n.shift()),$=[],L=0;L<n.length;L++){var V=trim$1(n[L]);if(V){var oe=V.split(itemSplitRegex),ae="",re=void 0,le=!1;isNaN(oe[0])?(le=!0,ae=oe[0],oe=oe.slice(1),$[L]={name:ae,value:[]},re=$[L].value):re=$[L]=[];for(var ue=0;ue<oe.length;ue++)re.push(+oe[ue]);re.length===1&&(le?$[L].value=re[0]:$[L]=re[0])}}return{name:r,data:$}}function parseContents(g,n){var r=g.split(new RegExp(`
*`+BLOCK_SPLITER+`
*`,"g")),$={series:[]};return each$f(r,function(L,V){if(isTSVFormat(L)){var oe=parseTSVContents(L),ae=n[V],re=ae.axisDim+"Axis";ae&&($[re]=$[re]||[],$[re][ae.axisIndex]={data:oe.categories},$.series=$.series.concat(oe.series))}else{var oe=parseListContents(L);$.series.push(oe)}}),$}var DataView=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.onclick=function(r,$){setTimeout(function(){$.dispatchAction({type:"hideTip"})});var L=$.getDom(),V=this.model;this._dom&&L.removeChild(this._dom);var oe=document.createElement("div");oe.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",oe.style.backgroundColor=V.get("backgroundColor")||"#fff";var ae=document.createElement("h4"),re=V.get("lang")||[];ae.innerHTML=re[0]||V.get("title"),ae.style.cssText="margin:10px 20px",ae.style.color=V.get("textColor");var le=document.createElement("div"),ue=document.createElement("textarea");le.style.cssText="overflow:auto";var de=V.get("optionToContent"),he=V.get("contentToOption"),pe=getContentFromModel(r);if(isFunction$1(de)){var _e=de($.getOption());isString$1(_e)?le.innerHTML=_e:isDom(_e)&&le.appendChild(_e)}else{ue.readOnly=V.get("readOnly");var $e=ue.style;$e.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",$e.color=V.get("textColor"),$e.borderColor=V.get("textareaBorderColor"),$e.backgroundColor=V.get("textareaColor"),ue.value=pe.value,le.appendChild(ue)}var xe=pe.meta,Oe=document.createElement("div");Oe.style.cssText="position:absolute;bottom:5px;left:0;right:0";var Ce="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",Ie=document.createElement("div"),Ne=document.createElement("div");Ce+=";background-color:"+V.get("buttonColor"),Ce+=";color:"+V.get("buttonTextColor");var ze=this;function Fe(){L.removeChild(oe),ze._dom=null}addEventListener(Ie,"click",Fe),addEventListener(Ne,"click",function(){if(he==null&&de!=null||he!=null&&de==null){Fe();return}var Ue;try{isFunction$1(he)?Ue=he(le,$.getOption()):Ue=parseContents(ue.value,xe)}catch(At){throw Fe(),new Error("Data view format error "+At)}Ue&&$.dispatchAction({type:"changeDataView",newOption:Ue}),Fe()}),Ie.innerHTML=re[1],Ne.innerHTML=re[2],Ne.style.cssText=Ie.style.cssText=Ce,!V.get("readOnly")&&Oe.appendChild(Ne),Oe.appendChild(Ie),oe.appendChild(ae),oe.appendChild(le),oe.appendChild(Oe),le.style.height=L.clientHeight-80+"px",L.appendChild(oe),this._dom=oe},n.prototype.remove=function(r,$){this._dom&&$.getDom().removeChild(this._dom)},n.prototype.dispose=function(r,$){this.remove(r,$)},n.getDefaultOption=function(r){var $={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.getLocaleModel().get(["toolbox","dataView","title"]),lang:r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return $},n}(ToolboxFeature);function tryMergeDataOption(g,n){return map$1(g,function(r,$){var L=n&&n[$];if(isObject$4(L)&&!isArray$2(L)){var V=isObject$4(r)&&!isArray$2(r);V||(r={value:r});var oe=L.name!=null&&r.name==null;return r=defaults$2(r,L),oe&&delete r.name,r}else return r})}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(g,n){var r=[];each$f(g.newOption.series,function($){var L=n.getSeriesByName($.name)[0];if(!L)r.push(extend$1({type:"scatter"},$));else{var V=L.get("data");r.push({name:$.name,data:tryMergeDataOption($.data,V)})}}),n.mergeOption(defaults$2({series:r},g.newOption))});const DataView$1=DataView;var each$6=each$f,inner$6=makeInner();function push(g,n){var r=getStoreSnapshots(g);each$6(n,function($,L){for(var V=r.length-1;V>=0;V--){var oe=r[V];if(oe[L])break}if(V<0){var ae=g.queryComponents({mainType:"dataZoom",subType:"select",id:L})[0];if(ae){var re=ae.getPercentRange();r[0][L]={dataZoomId:L,start:re[0],end:re[1]}}}}),r.push(n)}function pop(g){var n=getStoreSnapshots(g),r=n[n.length-1];n.length>1&&n.pop();var $={};return each$6(r,function(L,V){for(var oe=n.length-1;oe>=0;oe--)if(L=n[oe][V],L){$[V]=L;break}}),$}function clear(g){inner$6(g).snapshots=null}function count(g){return getStoreSnapshots(g).length}function getStoreSnapshots(g){var n=inner$6(g);return n.snapshots||(n.snapshots=[{}]),n.snapshots}var RestoreOption=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.onclick=function(r,$){clear(r),$.dispatchAction({type:"restore",from:this.uid})},n.getDefaultOption=function(r){var $={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.getLocaleModel().get(["toolbox","restore","title"])};return $},n}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(g,n){n.resetOption("recreate")});const Restore=RestoreOption;var INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager=function(){function g(n,r,$){var L=this;this._targetInfoList=[];var V=parseFinder(r,n);each$f(targetInfoBuilders,function(oe,ae){(!$||!$.include||indexOf($.include,ae)>=0)&&oe(V,L._targetInfoList)})}return g.prototype.setOutputRanges=function(n,r){return this.matchOutputRanges(n,r,function($,L,V){if(($.coordRanges||($.coordRanges=[])).push(L),!$.coordRange){$.coordRange=L;var oe=coordConvert[$.brushType](0,V,L);$.__rangeOffset={offset:diffProcessor[$.brushType](oe.values,$.range,[1,1]),xyMinMax:oe.xyMinMax}}}),n},g.prototype.matchOutputRanges=function(n,r,$){each$f(n,function(L){var V=this.findTargetInfo(L,r);V&&V!==!0&&each$f(V.coordSyses,function(oe){var ae=coordConvert[L.brushType](1,oe,L.range,!0);$(L,ae.values,oe,r)})},this)},g.prototype.setInputRanges=function(n,r){each$f(n,function($){var L=this.findTargetInfo($,r);if($.range=$.range||[],L&&L!==!0){$.panelId=L.panelId;var V=coordConvert[$.brushType](0,L.coordSys,$.coordRange),oe=$.__rangeOffset;$.range=oe?diffProcessor[$.brushType](V.values,oe.offset,getScales(V.xyMinMax,oe.xyMinMax)):V.values}},this)},g.prototype.makePanelOpts=function(n,r){return map$1(this._targetInfoList,function($){var L=$.getPanelRect();return{panelId:$.panelId,defaultBrushType:r?r($):null,clipPath:makeRectPanelClipPath(L),isTargetByCursor:makeRectIsTargetByCursor(L,n,$.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(L)}})},g.prototype.controlSeries=function(n,r,$){var L=this.findTargetInfo(n,$);return L===!0||L&&indexOf(L.coordSyses,r.coordinateSystem)>=0},g.prototype.findTargetInfo=function(n,r){for(var $=this._targetInfoList,L=parseFinder(r,n),V=0;V<$.length;V++){var oe=$[V],ae=n.panelId;if(ae){if(oe.panelId===ae)return oe}else for(var re=0;re<targetInfoMatchers.length;re++)if(targetInfoMatchers[re](L,oe))return oe}return!0},g}();function formatMinMax(g){return g[0]>g[1]&&g.reverse(),g}function parseFinder(g,n){return parseFinder$1(g,n,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(g,n){var r=g.xAxisModels,$=g.yAxisModels,L=g.gridModels,V=createHashMap(),oe={},ae={};!r&&!$&&!L||(each$f(r,function(re){var le=re.axis.grid.model;V.set(le.id,le),oe[le.id]=!0}),each$f($,function(re){var le=re.axis.grid.model;V.set(le.id,le),ae[le.id]=!0}),each$f(L,function(re){V.set(re.id,re),oe[re.id]=!0,ae[re.id]=!0}),V.each(function(re){var le=re.coordinateSystem,ue=[];each$f(le.getCartesians(),function(de,he){(indexOf(r,de.getAxis("x").model)>=0||indexOf($,de.getAxis("y").model)>=0)&&ue.push(de)}),n.push({panelId:"grid--"+re.id,gridModel:re,coordSysModel:re,coordSys:ue[0],coordSyses:ue,getPanelRect:panelRectBuilders.grid,xAxisDeclared:oe[re.id],yAxisDeclared:ae[re.id]})}))},geo:function(g,n){each$f(g.geoModels,function(r){var $=r.coordinateSystem;n.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:$,coordSyses:[$],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function(g,n){var r=g.xAxisModel,$=g.yAxisModel,L=g.gridModel;return!L&&r&&(L=r.axis.grid.model),!L&&$&&(L=$.axis.grid.model),L&&L===n.gridModel},function(g,n){var r=g.geoModel;return r&&r===n.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var g=this.coordSys,n=g.getBoundingRect().clone();return n.applyTransform(getTransform$1(g)),n}},coordConvert={lineX:curry$1(axisConvert,0),lineY:curry$1(axisConvert,1),rect:function(g,n,r,$){var L=g?n.pointToData([r[0][0],r[1][0]],$):n.dataToPoint([r[0][0],r[1][0]],$),V=g?n.pointToData([r[0][1],r[1][1]],$):n.dataToPoint([r[0][1],r[1][1]],$),oe=[formatMinMax([L[0],V[0]]),formatMinMax([L[1],V[1]])];return{values:oe,xyMinMax:oe}},polygon:function(g,n,r,$){var L=[[1/0,-1/0],[1/0,-1/0]],V=map$1(r,function(oe){var ae=g?n.pointToData(oe,$):n.dataToPoint(oe,$);return L[0][0]=Math.min(L[0][0],ae[0]),L[1][0]=Math.min(L[1][0],ae[1]),L[0][1]=Math.max(L[0][1],ae[0]),L[1][1]=Math.max(L[1][1],ae[1]),ae});return{values:V,xyMinMax:L}}};function axisConvert(g,n,r,$){var L=r.getAxis(["x","y"][g]),V=formatMinMax(map$1([0,1],function(ae){return n?L.coordToData(L.toLocalCoord($[ae]),!0):L.toGlobalCoord(L.dataToCoord($[ae]))})),oe=[];return oe[g]=V,oe[1-g]=[NaN,NaN],{values:V,xyMinMax:oe}}var diffProcessor={lineX:curry$1(axisDiffProcessor,0),lineY:curry$1(axisDiffProcessor,1),rect:function(g,n,r){return[[g[0][0]-r[0]*n[0][0],g[0][1]-r[0]*n[0][1]],[g[1][0]-r[1]*n[1][0],g[1][1]-r[1]*n[1][1]]]},polygon:function(g,n,r){return map$1(g,function($,L){return[$[0]-r[0]*n[L][0],$[1]-r[1]*n[L][1]]})}};function axisDiffProcessor(g,n,r,$){return[n[0]-$[g]*r[0],n[1]-$[g]*r[1]]}function getScales(g,n){var r=getSize(g),$=getSize(n),L=[r[0]/$[0],r[1]/$[1]];return isNaN(L[0])&&(L[0]=1),isNaN(L[1])&&(L[1]=1),L}function getSize(g){return g?[g[0][1]-g[0][0],g[1][1]-g[1][0]]:[NaN,NaN]}const BrushTargetManager$1=BrushTargetManager;var each$5=each$f,DATA_ZOOM_ID_BASE=makeInternalComponentId("toolbox-dataZoom_"),DataZoomFeature=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.render=function(r,$,L,V){this._brushController||(this._brushController=new BrushController$1(L.getZr()),this._brushController.on("brush",bind$2(this._onBrush,this)).mount()),updateZoomBtnStatus(r,$,this,V,L),updateBackBtnStatus(r,$)},n.prototype.onclick=function(r,$,L){handlers[L].call(this)},n.prototype.remove=function(r,$){this._brushController&&this._brushController.unmount()},n.prototype.dispose=function(r,$){this._brushController&&this._brushController.dispose()},n.prototype._onBrush=function(r){var $=r.areas;if(!r.isEnd||!$.length)return;var L={},V=this.ecModel;this._brushController.updateCovers([]);var oe=new BrushTargetManager$1(makeAxisFinder(this.model),V,{include:["grid"]});oe.matchOutputRanges($,V,function(le,ue,de){if(de.type==="cartesian2d"){var he=le.brushType;he==="rect"?(ae("x",de,ue[0]),ae("y",de,ue[1])):ae({lineX:"x",lineY:"y"}[he],de,ue)}}),push(V,L),this._dispatchZoomAction(L);function ae(le,ue,de){var he=ue.getAxis(le),pe=he.model,_e=re(le,pe,V),$e=_e.findRepresentativeAxisProxy(pe).getMinMaxSpan();($e.minValueSpan!=null||$e.maxValueSpan!=null)&&(de=sliderMove(0,de.slice(),he.scale.getExtent(),0,$e.minValueSpan,$e.maxValueSpan)),_e&&(L[_e.id]={dataZoomId:_e.id,startValue:de[0],endValue:de[1]})}function re(le,ue,de){var he;return de.eachComponent({mainType:"dataZoom",subType:"select"},function(pe){var _e=pe.getAxisModel(le,ue.componentIndex);_e&&(he=pe)}),he}},n.prototype._dispatchZoomAction=function(r){var $=[];each$5(r,function(L,V){$.push(clone$4(L))}),$.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:$})},n.getDefaultOption=function(r){var $={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return $},n}(ToolboxFeature),handlers={zoom:function(){var g=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:g})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder(g){var n={xAxisIndex:g.get("xAxisIndex",!0),yAxisIndex:g.get("yAxisIndex",!0),xAxisId:g.get("xAxisId",!0),yAxisId:g.get("yAxisId",!0)};return n.xAxisIndex==null&&n.xAxisId==null&&(n.xAxisIndex="all"),n.yAxisIndex==null&&n.yAxisId==null&&(n.yAxisIndex="all"),n}function updateBackBtnStatus(g,n){g.setIconStatus("back",count(n)>1?"emphasis":"normal")}function updateZoomBtnStatus(g,n,r,$,L){var V=r._isZoomActive;$&&$.type==="takeGlobalCursor"&&(V=$.key==="dataZoomSelect"?$.dataZoomSelectActive:!1),r._isZoomActive=V,g.setIconStatus("zoom",V?"emphasis":"normal");var oe=new BrushTargetManager$1(makeAxisFinder(g),n,{include:["grid"]}),ae=oe.makePanelOpts(L,function(re){return re.xAxisDeclared&&!re.yAxisDeclared?"lineX":!re.xAxisDeclared&&re.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(ae).enableBrush(V&&ae.length?{brushType:"auto",brushStyle:g.getModel("brushStyle").getItemStyle()}:!1)}registerInternalOptionCreator("dataZoom",function(g){var n=g.getComponent("toolbox",0),r=["feature","dataZoom"];if(!n||n.get(r)==null)return;var $=n.getModel(r),L=[],V=makeAxisFinder($),oe=parseFinder$1(g,V);each$5(oe.xAxisModels,function(re){return ae(re,"xAxis","xAxisIndex")}),each$5(oe.yAxisModels,function(re){return ae(re,"yAxis","yAxisIndex")});function ae(re,le,ue){var de=re.componentIndex,he={type:"select",$fromToolbox:!0,filterMode:$.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+le+de};he[ue]=de,L.push(he)}return L});const DataZoom=DataZoomFeature;function install$k(g){g.registerComponentModel(ToolboxModel$1),g.registerComponentView(ToolboxView$1),registerFeature("saveAsImage",SaveAsImage$1),registerFeature("magicType",MagicType$1),registerFeature("dataView",DataView$1),registerFeature("dataZoom",DataZoom),registerFeature("restore",Restore),use(install$l)}var TooltipModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="tooltip",n.dependencies=["axisPointer"],n.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},n}(ComponentModel$1);const TooltipModel$1=TooltipModel;function shouldTooltipConfine(g){var n=g.get("confine");return n!=null?!!n:g.get("renderMode")==="richText"}function testStyle(g){if(env$1.domSupported){for(var n=document.documentElement.style,r=0,$=g.length;r<$;r++)if(g[r]in n)return g[r]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(g,n){if(!g)return n;n=toCamelCase$1(n,!0);var r=g.indexOf(n);return g=r===-1?n:"-"+g.slice(0,r)+"-"+n,g.toLowerCase()}function getComputedStyle$1(g,n){var r=g.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(g);return r?n?r[n]:r:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env$1.transform3dSupported?"will-change:transform;":"");function mirrorPos(g){return g=g==="left"?"right":g==="right"?"left":g==="top"?"bottom":"top",g}function assembleArrow(g,n,r){if(!isString$1(r)||r==="inside")return"";var $=g.get("backgroundColor"),L=g.get("borderWidth");n=convertToColorString(n);var V=mirrorPos(r),oe=Math.max(Math.round(L)*1.5,6),ae="",re=CSS_TRANSFORM_VENDOR+":",le;indexOf(["left","right"],V)>-1?(ae+="top:50%",re+="translateY(-50%) rotate("+(le=V==="left"?-225:-45)+"deg)"):(ae+="left:50%",re+="translateX(-50%) rotate("+(le=V==="top"?225:45)+"deg)");var ue=le*Math.PI/180,de=oe+L,he=de*Math.abs(Math.cos(ue))+de*Math.abs(Math.sin(ue)),pe=Math.round(((he-Math.SQRT2*L)/2+Math.SQRT2*L-(he-de)/2)*100)/100;ae+=";"+V+":-"+pe+"px";var _e=n+" solid "+L+"px;",$e=["position:absolute;width:"+oe+"px;height:"+oe+"px;z-index:-1;",ae+";"+re+";","border-bottom:"+_e,"border-right:"+_e,"background-color:"+$+";"];return'<div style="'+$e.join("")+'"></div>'}function assembleTransition(g,n){var r="cubic-bezier(0.23,1,0.32,1)",$=" "+g/2+"s "+r,L="opacity"+$+",visibility"+$;return n||($=" "+g+"s "+r,L+=env$1.transformSupported?","+CSS_TRANSFORM_VENDOR+$:",left"+$+",top"+$),CSS_TRANSITION_VENDOR+":"+L}function assembleTransform(g,n,r){var $=g.toFixed(0)+"px",L=n.toFixed(0)+"px";if(!env$1.transformSupported)return r?"top:"+L+";left:"+$+";":[["top",L],["left",$]];var V=env$1.transform3dSupported,oe="translate"+(V?"3d":"")+"("+$+","+L+(V?",0":"")+")";return r?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+oe+";":[["top",0],["left",0],[TRANSFORM_VENDOR,oe]]}function assembleFont(g){var n=[],r=g.get("fontSize"),$=g.getTextColor();$&&n.push("color:"+$),n.push("font:"+g.getFont()),r&&n.push("line-height:"+Math.round(r*3/2)+"px");var L=g.get("textShadowColor"),V=g.get("textShadowBlur")||0,oe=g.get("textShadowOffsetX")||0,ae=g.get("textShadowOffsetY")||0;return L&&V&&n.push("text-shadow:"+oe+"px "+ae+"px "+V+"px "+L),each$f(["decoration","align"],function(re){var le=g.get(re);le&&n.push("text-"+re+":"+le)}),n.join(";")}function assembleCssText(g,n,r){var $=[],L=g.get("transitionDuration"),V=g.get("backgroundColor"),oe=g.get("shadowBlur"),ae=g.get("shadowColor"),re=g.get("shadowOffsetX"),le=g.get("shadowOffsetY"),ue=g.getModel("textStyle"),de=getPaddingFromTooltipModel(g,"html"),he=re+"px "+le+"px "+oe+"px "+ae;return $.push("box-shadow:"+he),n&&L&&$.push(assembleTransition(L,r)),V&&$.push("background-color:"+V),each$f(["width","color","radius"],function(pe){var _e="border-"+pe,$e=toCamelCase$1(_e),xe=g.get($e);xe!=null&&$.push(_e+":"+xe+(pe==="color"?"":"px"))}),$.push(assembleFont(ue)),de!=null&&$.push("padding:"+normalizeCssArray(de).join("px ")+"px"),$.join(";")+";"}function makeStyleCoord$1(g,n,r,$,L){var V=n&&n.painter;if(r){var oe=V&&V.getViewportRoot();oe&&transformLocalCoord(g,oe,document.body,$,L)}else{g[0]=$,g[1]=L;var ae=V&&V.getViewportRootOffset();ae&&(g[0]+=ae.offsetLeft,g[1]+=ae.offsetTop)}g[2]=g[0]/n.getWidth(),g[3]=g[1]/n.getHeight()}var TooltipHTMLContent=function(){function g(n,r,$){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,env$1.wxa)return null;var L=document.createElement("div");L.domBelongToZr=!0,this.el=L;var V=this._zr=r.getZr(),oe=this._appendToBody=$&&$.appendToBody;makeStyleCoord$1(this._styleCoord,V,oe,r.getWidth()/2,r.getHeight()/2),oe?document.body.appendChild(L):n.appendChild(L),this._container=n;var ae=this;L.onmouseenter=function(){ae._enterable&&(clearTimeout(ae._hideTimeout),ae._show=!0),ae._inContent=!0},L.onmousemove=function(re){if(re=re||window.event,!ae._enterable){var le=V.handler,ue=V.painter.getViewportRoot();normalizeEvent(ue,re,!0),le.dispatch("mousemove",re)}},L.onmouseleave=function(){ae._inContent=!1,ae._enterable&&ae._show&&ae.hideLater(ae._hideDelay)}}return g.prototype.update=function(n){var r=this._container,$=getComputedStyle$1(r,"position"),L=r.style;L.position!=="absolute"&&$!=="absolute"&&(L.position="relative");var V=n.get("alwaysShowContent");V&&this._moveIfResized(),this.el.className=n.get("className")||""},g.prototype.show=function(n,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var $=this.el,L=$.style,V=this._styleCoord;$.innerHTML?L.cssText=gCssText+assembleCssText(n,!this._firstShow,this._longHide)+assembleTransform(V[0],V[1],!0)+("border-color:"+convertToColorString(r)+";")+(n.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):L.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},g.prototype.setContent=function(n,r,$,L,V){var oe=this.el;if(n==null){oe.innerHTML="";return}var ae="";if(isString$1(V)&&$.get("trigger")==="item"&&!shouldTooltipConfine($)&&(ae=assembleArrow($,L,V)),isString$1(n))oe.innerHTML=n+ae;else if(n){oe.innerHTML="",isArray$2(n)||(n=[n]);for(var re=0;re<n.length;re++)isDom(n[re])&&n[re].parentNode!==oe&&oe.appendChild(n[re]);if(ae&&oe.childNodes.length){var le=document.createElement("div");le.innerHTML=ae,oe.appendChild(le)}}},g.prototype.setEnterable=function(n){this._enterable=n},g.prototype.getSize=function(){var n=this.el;return[n.offsetWidth,n.offsetHeight]},g.prototype.moveTo=function(n,r){var $=this._styleCoord;if(makeStyleCoord$1($,this._zr,this._appendToBody,n,r),$[0]!=null&&$[1]!=null){var L=this.el.style,V=assembleTransform($[0],$[1]);each$f(V,function(oe){L[oe[0]]=oe[1]})}},g.prototype._moveIfResized=function(){var n=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),r*this._zr.getHeight())},g.prototype.hide=function(){var n=this,r=this.el.style;r.visibility="hidden",r.opacity="0",env$1.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return n._longHide=!0},500)},g.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$2(this.hide,this),n)):this.hide())},g.prototype.isShow=function(){return this._show},g.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},g}();const TooltipHTMLContent$1=TooltipHTMLContent;var TooltipRichContent=function(){function g(n){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=n.getZr(),makeStyleCoord(this._styleCoord,this._zr,n.getWidth()/2,n.getHeight()/2)}return g.prototype.update=function(n){var r=n.get("alwaysShowContent");r&&this._moveIfResized()},g.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},g.prototype.setContent=function(n,r,$,L,V){var oe=this;isObject$4(n)&&throwError(""),this.el&&this._zr.remove(this.el);var ae=$.getModel("textStyle");this.el=new ZRText$1({style:{rich:r.richTextStyles,text:n,lineHeight:22,borderWidth:1,borderColor:L,textShadowColor:ae.get("textShadowColor"),fill:$.get(["textStyle","color"]),padding:getPaddingFromTooltipModel($,"richText"),verticalAlign:"top",align:"left"},z:$.get("z")}),each$f(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(le){oe.el.style[le]=$.get(le)}),each$f(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(le){oe.el.style[le]=ae.get(le)||0}),this._zr.add(this.el);var re=this;this.el.on("mouseover",function(){re._enterable&&(clearTimeout(re._hideTimeout),re._show=!0),re._inContent=!0}),this.el.on("mouseout",function(){re._enterable&&re._show&&re.hideLater(re._hideDelay),re._inContent=!1})},g.prototype.setEnterable=function(n){this._enterable=n},g.prototype.getSize=function(){var n=this.el,r=this.el.getBoundingRect(),$=calcShadowOuterSize(n.style);return[r.width+$.left+$.right,r.height+$.top+$.bottom]},g.prototype.moveTo=function(n,r){var $=this.el;if($){var L=this._styleCoord;makeStyleCoord(L,this._zr,n,r),n=L[0],r=L[1];var V=$.style,oe=mathMaxWith0(V.borderWidth||0),ae=calcShadowOuterSize(V);$.x=n+oe+ae.left,$.y=r+oe+ae.top,$.markRedraw()}},g.prototype._moveIfResized=function(){var n=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),r*this._zr.getHeight())},g.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},g.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$2(this.hide,this),n)):this.hide())},g.prototype.isShow=function(){return this._show},g.prototype.dispose=function(){this._zr.remove(this.el)},g}();function mathMaxWith0(g){return Math.max(0,g)}function calcShadowOuterSize(g){var n=mathMaxWith0(g.shadowBlur||0),r=mathMaxWith0(g.shadowOffsetX||0),$=mathMaxWith0(g.shadowOffsetY||0);return{left:mathMaxWith0(n-r),right:mathMaxWith0(n+r),top:mathMaxWith0(n-$),bottom:mathMaxWith0(n+$)}}function makeStyleCoord(g,n,r,$){g[0]=r,g[1]=$,g[2]=g[0]/n.getWidth(),g[3]=g[1]/n.getHeight()}const TooltipRichContent$1=TooltipRichContent;var proxyRect=new Rect$3({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$){if(!(env$1.node||!$.getDom())){var L=r.getComponent("tooltip"),V=this._renderMode=getTooltipRenderMode(L.get("renderMode"));this._tooltipContent=V==="richText"?new TooltipRichContent$1($):new TooltipHTMLContent$1($.getDom(),$,{appendToBody:L.get("appendToBody",!0)})}},n.prototype.render=function(r,$,L){if(!(env$1.node||!L.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=$,this._api=L,this._alwaysShowContent=r.get("alwaysShowContent");var V=this._tooltipContent;V.update(r),V.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear$1(this,"_updatePosition")}},n.prototype._initGlobalListener=function(){var r=this._tooltipModel,$=r.get("triggerOn");register("itemTooltip",this._api,bind$2(function(L,V,oe){$!=="none"&&($.indexOf(L)>=0?this._tryShow(V,oe):L==="leave"&&this._hide(oe))},this))},n.prototype._keepShow=function(){var r=this._tooltipModel,$=this._ecModel,L=this._api,V=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&V!=="none"&&V!=="click"){var oe=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!L.isDisposed()&&oe.manuallyShowTip(r,$,L,{x:oe._lastX,y:oe._lastY,dataByCoordSys:oe._lastDataByCoordSys})})}},n.prototype.manuallyShowTip=function(r,$,L,V){if(!(V.from===this.uid||env$1.node||!L.getDom())){var oe=makeDispatchAction(V,L);this._ticket="";var ae=V.dataByCoordSys,re=findComponentReference(V,$,L);if(re){var le=re.el.getBoundingRect().clone();le.applyTransform(re.el.transform),this._tryShow({offsetX:le.x+le.width/2,offsetY:le.y+le.height/2,target:re.el,position:V.position,positionDefault:"bottom"},oe)}else if(V.tooltip&&V.x!=null&&V.y!=null){var ue=proxyRect;ue.x=V.x,ue.y=V.y,ue.update(),getECData(ue).tooltipConfig={name:null,option:V.tooltip},this._tryShow({offsetX:V.x,offsetY:V.y,target:ue},oe)}else if(ae)this._tryShow({offsetX:V.x,offsetY:V.y,position:V.position,dataByCoordSys:ae,tooltipOption:V.tooltipOption},oe);else if(V.seriesIndex!=null){if(this._manuallyAxisShowTip(r,$,L,V))return;var de=findPointFromSeries(V,$),he=de.point[0],pe=de.point[1];he!=null&&pe!=null&&this._tryShow({offsetX:he,offsetY:pe,target:de.el,position:V.position,positionDefault:"bottom"},oe)}else V.x!=null&&V.y!=null&&(L.dispatchAction({type:"updateAxisPointer",x:V.x,y:V.y}),this._tryShow({offsetX:V.x,offsetY:V.y,position:V.position,target:L.getZr().findHover(V.x,V.y).target},oe))}},n.prototype.manuallyHideTip=function(r,$,L,V){var oe=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&oe.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,V.from!==this.uid&&this._hide(makeDispatchAction(V,L))},n.prototype._manuallyAxisShowTip=function(r,$,L,V){var oe=V.seriesIndex,ae=V.dataIndex,re=$.getComponent("axisPointer").coordSysAxesInfo;if(!(oe==null||ae==null||re==null)){var le=$.getSeriesByIndex(oe);if(le){var ue=le.getData(),de=buildTooltipModel([ue.getItemModel(ae),le,(le.coordinateSystem||{}).model],this._tooltipModel);if(de.get("trigger")==="axis")return L.dispatchAction({type:"updateAxisPointer",seriesIndex:oe,dataIndex:ae,position:V.position}),!0}}},n.prototype._tryShow=function(r,$){var L=r.target,V=this._tooltipModel;if(V){this._lastX=r.offsetX,this._lastY=r.offsetY;var oe=r.dataByCoordSys;if(oe&&oe.length)this._showAxisTooltip(oe,r);else if(L){this._lastDataByCoordSys=null;var ae,re;findEventDispatcher(L,function(le){if(getECData(le).dataIndex!=null)return ae=le,!0;if(getECData(le).tooltipConfig!=null)return re=le,!0},!0),ae?this._showSeriesItemTooltip(r,ae,$):re?this._showComponentItemTooltip(r,re,$):this._hide($)}else this._lastDataByCoordSys=null,this._hide($)}},n.prototype._showOrMove=function(r,$){var L=r.get("showDelay");$=bind$2($,this),clearTimeout(this._showTimout),L>0?this._showTimout=setTimeout($,L):$()},n.prototype._showAxisTooltip=function(r,$){var L=this._ecModel,V=this._tooltipModel,oe=[$.offsetX,$.offsetY],ae=buildTooltipModel([$.tooltipOption],V),re=this._renderMode,le=[],ue=createTooltipMarkup("section",{blocks:[],noHeader:!0}),de=[],he=new TooltipMarkupStyleCreator;each$f(r,function(Ce){each$f(Ce.dataByAxis,function(Ie){var Ne=L.getComponent(Ie.axisDim+"Axis",Ie.axisIndex),ze=Ie.value;if(!(!Ne||ze==null)){var Fe=getValueLabel(ze,Ne.axis,L,Ie.seriesDataIndices,Ie.valueLabelOpt),Ue=createTooltipMarkup("section",{header:Fe,noHeader:!trim$2(Fe),sortBlocks:!0,blocks:[]});ue.blocks.push(Ue),each$f(Ie.seriesDataIndices,function(At){var Et=L.getSeriesByIndex(At.seriesIndex),Pt=At.dataIndexInside,kt=Et.getDataParams(Pt);if(!(kt.dataIndex<0)){kt.axisDim=Ie.axisDim,kt.axisIndex=Ie.axisIndex,kt.axisType=Ie.axisType,kt.axisId=Ie.axisId,kt.axisValue=getAxisRawValue(Ne.axis,{value:ze}),kt.axisValueLabel=Fe,kt.marker=he.makeTooltipMarker("item",convertToColorString(kt.color),re);var Dt=normalizeTooltipFormatResult(Et.formatTooltip(Pt,!0,null)),Lt=Dt.frag;if(Lt){var hn=buildTooltipModel([Et],V).get("valueFormatter");Ue.blocks.push(hn?extend$1({valueFormatter:hn},Lt):Lt)}Dt.text&&de.push(Dt.text),le.push(kt)}})}})}),ue.blocks.reverse(),de.reverse();var pe=$.position,_e=ae.get("order"),$e=buildTooltipMarkup(ue,he,re,_e,L.get("useUTC"),ae.get("textStyle"));$e&&de.unshift($e);var xe=re==="richText"?`

`:"<br/>",Oe=de.join(xe);this._showOrMove(ae,function(){this._updateContentNotChangedOnAxis(r,le)?this._updatePosition(ae,pe,oe[0],oe[1],this._tooltipContent,le):this._showTooltipContent(ae,Oe,le,Math.random()+"",oe[0],oe[1],pe,null,he)})},n.prototype._showSeriesItemTooltip=function(r,$,L){var V=this._ecModel,oe=getECData($),ae=oe.seriesIndex,re=V.getSeriesByIndex(ae),le=oe.dataModel||re,ue=oe.dataIndex,de=oe.dataType,he=le.getData(de),pe=this._renderMode,_e=r.positionDefault,$e=buildTooltipModel([he.getItemModel(ue),le,re&&(re.coordinateSystem||{}).model],this._tooltipModel,_e?{position:_e}:null),xe=$e.get("trigger");if(!(xe!=null&&xe!=="item")){var Oe=le.getDataParams(ue,de),Ce=new TooltipMarkupStyleCreator;Oe.marker=Ce.makeTooltipMarker("item",convertToColorString(Oe.color),pe);var Ie=normalizeTooltipFormatResult(le.formatTooltip(ue,!1,de)),Ne=$e.get("order"),ze=$e.get("valueFormatter"),Fe=Ie.frag,Ue=Fe?buildTooltipMarkup(ze?extend$1({valueFormatter:ze},Fe):Fe,Ce,pe,Ne,V.get("useUTC"),$e.get("textStyle")):Ie.text,At="item_"+le.name+"_"+ue;this._showOrMove($e,function(){this._showTooltipContent($e,Ue,Oe,At,r.offsetX,r.offsetY,r.position,r.target,Ce)}),L({type:"showTip",dataIndexInside:ue,dataIndex:he.getRawIndex(ue),seriesIndex:ae,from:this.uid})}},n.prototype._showComponentItemTooltip=function(r,$,L){var V=getECData($),oe=V.tooltipConfig,ae=oe.option||{};if(isString$1(ae)){var re=ae;ae={content:re,formatter:re}}var le=[ae],ue=this._ecModel.getComponent(V.componentMainType,V.componentIndex);ue&&le.push(ue),le.push({formatter:ae.content});var de=r.positionDefault,he=buildTooltipModel(le,this._tooltipModel,de?{position:de}:null),pe=he.get("content"),_e=Math.random()+"",$e=new TooltipMarkupStyleCreator;this._showOrMove(he,function(){var xe=clone$4(he.get("formatterParams")||{});this._showTooltipContent(he,pe,xe,_e,r.offsetX,r.offsetY,r.position,$,$e)}),L({type:"showTip",from:this.uid})},n.prototype._showTooltipContent=function(r,$,L,V,oe,ae,re,le,ue){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var de=this._tooltipContent;de.setEnterable(r.get("enterable"));var he=r.get("formatter");re=re||r.get("position");var pe=$,_e=this._getNearestPoint([oe,ae],L,r.get("trigger"),r.get("borderColor")),$e=_e.color;if(he)if(isString$1(he)){var xe=r.ecModel.get("useUTC"),Oe=isArray$2(L)?L[0]:L,Ce=Oe&&Oe.axisType&&Oe.axisType.indexOf("time")>=0;pe=he,Ce&&(pe=format(Oe.axisValue,pe,xe)),pe=formatTpl(pe,L,!0)}else if(isFunction$1(he)){var Ie=bind$2(function(Ne,ze){Ne===this._ticket&&(de.setContent(ze,ue,r,$e,re),this._updatePosition(r,re,oe,ae,de,L,le))},this);this._ticket=V,pe=he(L,V,Ie)}else pe=he;de.setContent(pe,ue,r,$e,re),de.show(r,$e),this._updatePosition(r,re,oe,ae,de,L,le)}},n.prototype._getNearestPoint=function(r,$,L,V){if(L==="axis"||isArray$2($))return{color:V||(this._renderMode==="html"?"#fff":"none")};if(!isArray$2($))return{color:V||$.color||$.borderColor}},n.prototype._updatePosition=function(r,$,L,V,oe,ae,re){var le=this._api.getWidth(),ue=this._api.getHeight();$=$||r.get("position");var de=oe.getSize(),he=r.get("align"),pe=r.get("verticalAlign"),_e=re&&re.getBoundingRect().clone();if(re&&_e.applyTransform(re.transform),isFunction$1($)&&($=$([L,V],ae,oe.el,_e,{viewSize:[le,ue],contentSize:de.slice()})),isArray$2($))L=parsePercent($[0],le),V=parsePercent($[1],ue);else if(isObject$4($)){var $e=$;$e.width=de[0],$e.height=de[1];var xe=getLayoutRect($e,{width:le,height:ue});L=xe.x,V=xe.y,he=null,pe=null}else if(isString$1($)&&re){var Oe=calcTooltipPosition($,_e,de,r.get("borderWidth"));L=Oe[0],V=Oe[1]}else{var Oe=refixTooltipPosition(L,V,oe,le,ue,he?null:20,pe?null:20);L=Oe[0],V=Oe[1]}if(he&&(L-=isCenterAlign(he)?de[0]/2:he==="right"?de[0]:0),pe&&(V-=isCenterAlign(pe)?de[1]/2:pe==="bottom"?de[1]:0),shouldTooltipConfine(r)){var Oe=confineTooltipPosition(L,V,oe,le,ue);L=Oe[0],V=Oe[1]}oe.moveTo(L,V)},n.prototype._updateContentNotChangedOnAxis=function(r,$){var L=this._lastDataByCoordSys,V=this._cbParamsList,oe=!!L&&L.length===r.length;return oe&&each$f(L,function(ae,re){var le=ae.dataByAxis||[],ue=r[re]||{},de=ue.dataByAxis||[];oe=oe&&le.length===de.length,oe&&each$f(le,function(he,pe){var _e=de[pe]||{},$e=he.seriesDataIndices||[],xe=_e.seriesDataIndices||[];oe=oe&&he.value===_e.value&&he.axisType===_e.axisType&&he.axisId===_e.axisId&&$e.length===xe.length,oe&&each$f($e,function(Oe,Ce){var Ie=xe[Ce];oe=oe&&Oe.seriesIndex===Ie.seriesIndex&&Oe.dataIndex===Ie.dataIndex}),V&&each$f(he.seriesDataIndices,function(Oe){var Ce=Oe.seriesIndex,Ie=$[Ce],Ne=V[Ce];Ie&&Ne&&Ne.data!==Ie.data&&(oe=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=$,!!oe},n.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},n.prototype.dispose=function(r,$){env$1.node||!$.getDom()||(clear$1(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",$))},n.type="tooltip",n}(ComponentView$1);function buildTooltipModel(g,n,r){var $=n.ecModel,L;r?(L=new Model$1(r,$,$),L=new Model$1(n.option,L,$)):L=n;for(var V=g.length-1;V>=0;V--){var oe=g[V];oe&&(oe instanceof Model$1&&(oe=oe.get("tooltip",!0)),isString$1(oe)&&(oe={formatter:oe}),oe&&(L=new Model$1(oe,L,$)))}return L}function makeDispatchAction(g,n){return g.dispatchAction||bind$2(n.dispatchAction,n)}function refixTooltipPosition(g,n,r,$,L,V,oe){var ae=r.getSize(),re=ae[0],le=ae[1];return V!=null&&(g+re+V+2>$?g-=re+V:g+=V),oe!=null&&(n+le+oe>L?n-=le+oe:n+=oe),[g,n]}function confineTooltipPosition(g,n,r,$,L){var V=r.getSize(),oe=V[0],ae=V[1];return g=Math.min(g+oe,$)-oe,n=Math.min(n+ae,L)-ae,g=Math.max(g,0),n=Math.max(n,0),[g,n]}function calcTooltipPosition(g,n,r,$){var L=r[0],V=r[1],oe=Math.ceil(Math.SQRT2*$)+8,ae=0,re=0,le=n.width,ue=n.height;switch(g){case"inside":ae=n.x+le/2-L/2,re=n.y+ue/2-V/2;break;case"top":ae=n.x+le/2-L/2,re=n.y-V-oe;break;case"bottom":ae=n.x+le/2-L/2,re=n.y+ue+oe;break;case"left":ae=n.x-L-oe,re=n.y+ue/2-V/2;break;case"right":ae=n.x+le+oe,re=n.y+ue/2-V/2}return[ae,re]}function isCenterAlign(g){return g==="center"||g==="middle"}function findComponentReference(g,n,r){var $=preParseFinder(g).queryOptionMap,L=$.keys()[0];if(!(!L||L==="series")){var V=queryReferringComponents(n,L,$.get(L),{useDefault:!1,enableAll:!1,enableNone:!1}),oe=V.models[0];if(oe){var ae=r.getViewOfComponentModel(oe),re;if(ae.group.traverse(function(le){var ue=getECData(le).tooltipConfig;if(ue&&ue.name===g.name)return re=le,!0}),re)return{componentMainType:L,componentIndex:oe.componentIndex,el:re}}}}const TooltipView$1=TooltipView;function install$j(g){use(install$r),g.registerComponentModel(TooltipModel$1),g.registerComponentView(TooltipView$1),g.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop$1),g.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop$1)}var DEFAULT_TOOLBOX_BTNS=["rect","polygon","keep","clear"];function brushPreprocessor(g,n){var r=normalizeToArray(g?g.brush:[]);if(r.length){var $=[];each$f(r,function(re){var le=re.hasOwnProperty("toolbox")?re.toolbox:[];le instanceof Array&&($=$.concat(le))});var L=g&&g.toolbox;isArray$2(L)&&(L=L[0]),L||(L={feature:{}},g.toolbox=[L]);var V=L.feature||(L.feature={}),oe=V.brush||(V.brush={}),ae=oe.type||(oe.type=[]);ae.push.apply(ae,$),removeDuplicate(ae),n&&!ae.length&&ae.push.apply(ae,DEFAULT_TOOLBOX_BTNS)}}function removeDuplicate(g){var n={};each$f(g,function(r){n[r]=1}),g.length=0,each$f(n,function(r,$){g.push($)})}var each$4=each$f;function hasKeys(g){if(g){for(var n in g)if(g.hasOwnProperty(n))return!0}}function createVisualMappings(g,n,r){var $={};return each$4(n,function(V){var oe=$[V]=L();each$4(g[V],function(ae,re){if(VisualMapping$1.isValidType(re)){var le={type:re,visual:ae};r&&r(le,V),oe[re]=new VisualMapping$1(le),re==="opacity"&&(le=clone$4(le),le.type="colorAlpha",oe.__hidden.__alphaForOpacity=new VisualMapping$1(le))}})}),$;function L(){var V=function(){};V.prototype.__hidden=V.prototype;var oe=new V;return oe}}function replaceVisualOption(g,n,r){var $;each$f(r,function(L){n.hasOwnProperty(L)&&hasKeys(n[L])&&($=!0)}),$&&each$f(r,function(L){n.hasOwnProperty(L)&&hasKeys(n[L])?g[L]=clone$4(n[L]):delete g[L]})}function applyVisual(g,n,r,$,L,V){var oe={};each$f(g,function(de){var he=VisualMapping$1.prepareVisualTypes(n[de]);oe[de]=he});var ae;function re(de){return getItemVisualFromData(r,ae,de)}function le(de,he){setItemVisualFromData(r,ae,de,he)}V==null?r.each(ue):r.each([V],ue);function ue(de,he){ae=V==null?de:he;var pe=r.getRawDataItem(ae);if(!(pe&&pe.visualMap===!1))for(var _e=$.call(L,de),$e=n[_e],xe=oe[_e],Oe=0,Ce=xe.length;Oe<Ce;Oe++){var Ie=xe[Oe];$e[Ie]&&$e[Ie].applyVisual(de,re,le)}}}function incrementalApplyVisual(g,n,r,$){var L={};return each$f(g,function(V){var oe=VisualMapping$1.prepareVisualTypes(n[V]);L[V]=oe}),{progress:function(V,oe){var ae;$!=null&&(ae=oe.getDimensionIndex($));function re(Ne){return getItemVisualFromData(oe,ue,Ne)}function le(Ne,ze){setItemVisualFromData(oe,ue,Ne,ze)}for(var ue,de=oe.getStore();(ue=V.next())!=null;){var he=oe.getRawDataItem(ue);if(!(he&&he.visualMap===!1))for(var pe=$!=null?de.get(ae,ue):ue,_e=r(pe),$e=n[_e],xe=L[_e],Oe=0,Ce=xe.length;Oe<Ce;Oe++){var Ie=xe[Oe];$e[Ie]&&$e[Ie].applyVisual(pe,re,le)}}}}}function makeBrushCommonSelectorForSeries(g){var n=g.brushType,r={point:function($){return selector[n].point($,r,g)},rect:function($){return selector[n].rect($,r,g)}};return r}var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(g,n,r){return g&&r.boundingRect.contain(g[0],g[1])},rect:function(g,n,r){return g&&r.boundingRect.intersect(g)}},polygon:{point:function(g,n,r){return g&&r.boundingRect.contain(g[0],g[1])&&contain(r.range,g[0],g[1])},rect:function(g,n,r){var $=r.range;if(!g||$.length<=1)return!1;var L=g.x,V=g.y,oe=g.width,ae=g.height,re=$[0];if(contain($,L,V)||contain($,L+oe,V)||contain($,L,V+ae)||contain($,L+oe,V+ae)||BoundingRect$1.create(g).contain(re[0],re[1])||linePolygonIntersect(L,V,L+oe,V,$)||linePolygonIntersect(L,V,L,V+ae,$)||linePolygonIntersect(L+oe,V,L+oe,V+ae,$)||linePolygonIntersect(L,V+ae,L+oe,V+ae,$))return!0}}};function getLineSelectors(g){var n=["x","y"],r=["width","height"];return{point:function($,L,V){if($){var oe=V.range,ae=$[g];return inLineRange(ae,oe)}},rect:function($,L,V){if($){var oe=V.range,ae=[$[n[g]],$[n[g]]+$[r[g]]];return ae[1]<ae[0]&&ae.reverse(),inLineRange(ae[0],oe)||inLineRange(ae[1],oe)||inLineRange(oe[0],ae)||inLineRange(oe[1],ae)}}}}function inLineRange(g,n){return n[0]<=g&&g<=n[1]}var STATE_LIST=["inBrush","outOfBrush"],DISPATCH_METHOD="__ecBrushSelect",DISPATCH_FLAG="__ecInBrushSelectEvent";function layoutCovers(g){g.eachComponent({mainType:"brush"},function(n){var r=n.brushTargetManager=new BrushTargetManager$1(n.option,g);r.setInputRanges(n.areas,g)})}function brushVisual(g,n,r){var $=[],L,V;g.eachComponent({mainType:"brush"},function(oe){r&&r.type==="takeGlobalCursor"&&oe.setBrushOption(r.key==="brush"?r.brushOption:{brushType:!1})}),layoutCovers(g),g.eachComponent({mainType:"brush"},function(oe,ae){var re={brushId:oe.id,brushIndex:ae,brushName:oe.name,areas:clone$4(oe.areas),selected:[]};$.push(re);var le=oe.option,ue=le.brushLink,de=[],he=[],pe=[],_e=!1;ae||(L=le.throttleType,V=le.throttleDelay);var $e=map$1(oe.areas,function(ze){var Fe=boundingRectBuilders[ze.brushType],Ue=defaults$2({boundingRect:Fe?Fe(ze):void 0},ze);return Ue.selectors=makeBrushCommonSelectorForSeries(Ue),Ue}),xe=createVisualMappings(oe.option,STATE_LIST,function(ze){ze.mappingMethod="fixed"});isArray$2(ue)&&each$f(ue,function(ze){de[ze]=1});function Oe(ze){return ue==="all"||!!de[ze]}function Ce(ze){return!!ze.length}g.eachSeries(function(ze,Fe){var Ue=pe[Fe]=[];ze.subType==="parallel"?Ie(ze,Fe):Ne(ze,Fe,Ue)});function Ie(ze,Fe){var Ue=ze.coordinateSystem;_e=_e||Ue.hasAxisBrushed(),Oe(Fe)&&Ue.eachActiveState(ze.getData(),function(At,Et){At==="active"&&(he[Et]=1)})}function Ne(ze,Fe,Ue){if(!(!ze.brushSelector||brushModelNotControll(oe,Fe))&&(each$f($e,function(Et){oe.brushTargetManager.controlSeries(Et,ze,g)&&Ue.push(Et),_e=_e||Ce(Ue)}),Oe(Fe)&&Ce(Ue))){var At=ze.getData();At.each(function(Et){checkInRange(ze,Ue,At,Et)&&(he[Et]=1)})}}g.eachSeries(function(ze,Fe){var Ue={seriesId:ze.id,seriesIndex:Fe,seriesName:ze.name,dataIndex:[]};re.selected.push(Ue);var At=pe[Fe],Et=ze.getData(),Pt=Oe(Fe)?function(kt){return he[kt]?(Ue.dataIndex.push(Et.getRawIndex(kt)),"inBrush"):"outOfBrush"}:function(kt){return checkInRange(ze,At,Et,kt)?(Ue.dataIndex.push(Et.getRawIndex(kt)),"inBrush"):"outOfBrush"};(Oe(Fe)?_e:Ce(At))&&applyVisual(STATE_LIST,xe,Et,Pt)})}),dispatchAction$1(n,L,V,$,r)}function dispatchAction$1(g,n,r,$,L){if(L){var V=g.getZr();if(!V[DISPATCH_FLAG]){V[DISPATCH_METHOD]||(V[DISPATCH_METHOD]=doDispatch);var oe=createOrUpdate(V,DISPATCH_METHOD,r,n);oe(g,$)}}}function doDispatch(g,n){if(!g.isDisposed()){var r=g.getZr();r[DISPATCH_FLAG]=!0,g.dispatchAction({type:"brushSelect",batch:n}),r[DISPATCH_FLAG]=!1}}function checkInRange(g,n,r,$){for(var L=0,V=n.length;L<V;L++){var oe=n[L];if(g.brushSelector($,r,oe.selectors,oe))return!0}}function brushModelNotControll(g,n){var r=g.option.seriesIndex;return r!=null&&r!=="all"&&(isArray$2(r)?indexOf(r,n)<0:n!==r)}var boundingRectBuilders={rect:function(g){return getBoundingRectFromMinMax(g.range)},polygon:function(g){for(var n,r=g.range,$=0,L=r.length;$<L;$++){n=n||[[1/0,-1/0],[1/0,-1/0]];var V=r[$];V[0]<n[0][0]&&(n[0][0]=V[0]),V[0]>n[0][1]&&(n[0][1]=V[0]),V[1]<n[1][0]&&(n[1][0]=V[1]),V[1]>n[1][1]&&(n[1][1]=V[1])}return n&&getBoundingRectFromMinMax(n)}};function getBoundingRectFromMinMax(g){return new BoundingRect$1(g[0][0],g[1][0],g[0][1]-g[0][0],g[1][1]-g[1][0])}var BrushView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$){this.ecModel=r,this.api=$,this.model,(this._brushController=new BrushController$1($.getZr())).on("brush",bind$2(this._onBrush,this)).mount()},n.prototype.render=function(r,$,L,V){this.model=r,this._updateController(r,$,L,V)},n.prototype.updateTransform=function(r,$,L,V){layoutCovers($),this._updateController(r,$,L,V)},n.prototype.updateVisual=function(r,$,L,V){this.updateTransform(r,$,L,V)},n.prototype.updateView=function(r,$,L,V){this._updateController(r,$,L,V)},n.prototype._updateController=function(r,$,L,V){(!V||V.$from!==r.id)&&this._brushController.setPanels(r.brushTargetManager.makePanelOpts(L)).enableBrush(r.brushOption).updateCovers(r.areas.slice())},n.prototype.dispose=function(){this._brushController.dispose()},n.prototype._onBrush=function(r){var $=this.model.id,L=this.model.brushTargetManager.setOutputRanges(r.areas,this.ecModel);(!r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:$,areas:clone$4(L),$from:$}),r.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:$,areas:clone$4(L),$from:$})},n.type="brush",n}(ComponentView$1);const BrushView$1=BrushView;var DEFAULT_OUT_OF_BRUSH_COLOR="#ddd",BrushModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.areas=[],r.brushOption={},r}return n.prototype.optionUpdated=function(r,$){var L=this.option;!$&&replaceVisualOption(L,r,["inBrush","outOfBrush"]);var V=L.inBrush=L.inBrush||{};L.outOfBrush=L.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR},V.hasOwnProperty("liftZ")||(V.liftZ=5)},n.prototype.setAreas=function(r){r&&(this.areas=map$1(r,function($){return generateBrushOption(this.option,$)},this))},n.prototype.setBrushOption=function(r){this.brushOption=generateBrushOption(this.option,r),this.brushType=this.brushOption.brushType},n.type="brush",n.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],n.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},n}(ComponentModel$1);function generateBrushOption(g,n){return merge$1({brushType:g.brushType,brushMode:g.brushMode,transformable:g.transformable,brushStyle:new Model$1(g.brushStyle).getItemStyle(),removeOnClick:g.removeOnClick,z:g.z},n,!0)}const BrushModel$1=BrushModel;var ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.render=function(r,$,L){var V,oe,ae;$.eachComponent({mainType:"brush"},function(re){V=re.brushType,oe=re.brushOption.brushMode||"single",ae=ae||!!re.areas.length}),this._brushType=V,this._brushMode=oe,each$f(r.get("type",!0),function(re){r.setIconStatus(re,(re==="keep"?oe==="multiple":re==="clear"?ae:re===V)?"emphasis":"normal")})},n.prototype.updateView=function(r,$,L){this.render(r,$,L)},n.prototype.getIcons=function(){var r=this.model,$=r.get("icon",!0),L={};return each$f(r.get("type",!0),function(V){$[V]&&(L[V]=$[V])}),L},n.prototype.onclick=function(r,$,L){var V=this._brushType,oe=this._brushMode;L==="clear"?($.dispatchAction({type:"axisAreaSelect",intervals:[]}),$.dispatchAction({type:"brush",command:"clear",areas:[]})):$.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:L==="keep"?V:V===L?!1:L,brushMode:L==="keep"?oe==="multiple"?"single":"multiple":oe}})},n.getDefaultOption=function(r){var $={show:!0,type:ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:r.getLocaleModel().get(["toolbox","brush","title"])};return $},n}(ToolboxFeature);const BrushFeature$1=BrushFeature;function install$i(g){g.registerComponentView(BrushView$1),g.registerComponentModel(BrushModel$1),g.registerPreprocessor(brushPreprocessor),g.registerVisual(g.PRIORITY.VISUAL.BRUSH,brushVisual),g.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(n,r){r.eachComponent({mainType:"brush",query:n},function($){$.setAreas(n.areas)})}),g.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},noop$1),g.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},noop$1),registerFeature("brush",BrushFeature$1)}var TitleModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.layoutMode={type:"box",ignoreSize:!0},r}return n.type="title",n.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},n}(ComponentModel$1),TitleView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){if(this.group.removeAll(),!!r.get("show")){var V=this.group,oe=r.getModel("textStyle"),ae=r.getModel("subtextStyle"),re=r.get("textAlign"),le=retrieve2(r.get("textBaseline"),r.get("textVerticalAlign")),ue=new ZRText$1({style:createTextStyle(oe,{text:r.get("text"),fill:oe.getTextColor()},{disableBox:!0}),z2:10}),de=ue.getBoundingRect(),he=r.get("subtext"),pe=new ZRText$1({style:createTextStyle(ae,{text:he,fill:ae.getTextColor(),y:de.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),_e=r.get("link"),$e=r.get("sublink"),xe=r.get("triggerEvent",!0);ue.silent=!_e&&!xe,pe.silent=!$e&&!xe,_e&&ue.on("click",function(){windowOpen(_e,"_"+r.get("target"))}),$e&&pe.on("click",function(){windowOpen($e,"_"+r.get("subtarget"))}),getECData(ue).eventData=getECData(pe).eventData=xe?{componentType:"title",componentIndex:r.componentIndex}:null,V.add(ue),he&&V.add(pe);var Oe=V.getBoundingRect(),Ce=r.getBoxLayoutParams();Ce.width=Oe.width,Ce.height=Oe.height;var Ie=getLayoutRect(Ce,{width:L.getWidth(),height:L.getHeight()},r.get("padding"));re||(re=r.get("left")||r.get("right"),re==="middle"&&(re="center"),re==="right"?Ie.x+=Ie.width:re==="center"&&(Ie.x+=Ie.width/2)),le||(le=r.get("top")||r.get("bottom"),le==="center"&&(le="middle"),le==="bottom"?Ie.y+=Ie.height:le==="middle"&&(Ie.y+=Ie.height/2),le=le||"top"),V.x=Ie.x,V.y=Ie.y,V.markRedraw();var Ne={align:re,verticalAlign:le};ue.setStyle(Ne),pe.setStyle(Ne),Oe=V.getBoundingRect();var ze=Ie.margin,Fe=r.getItemStyle(["color","opacity"]);Fe.fill=r.get("backgroundColor");var Ue=new Rect$3({shape:{x:Oe.x-ze[3],y:Oe.y-ze[0],width:Oe.width+ze[1]+ze[3],height:Oe.height+ze[0]+ze[2],r:r.get("borderRadius")},style:Fe,subPixelOptimize:!0,silent:!0});V.add(Ue)}},n.type="title",n}(ComponentView$1);function install$h(g){g.registerComponentModel(TitleModel),g.registerComponentView(TitleView)}var TimelineModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.layoutMode="box",r}return n.prototype.init=function(r,$,L){this.mergeDefaultAndTheme(r,L),this._initData()},n.prototype.mergeOption=function(r){g.prototype.mergeOption.apply(this,arguments),this._initData()},n.prototype.setCurrentIndex=function(r){r==null&&(r=this.option.currentIndex);var $=this._data.count();this.option.loop?r=(r%$+$)%$:(r>=$&&(r=$-1),r<0&&(r=0)),this.option.currentIndex=r},n.prototype.getCurrentIndex=function(){return this.option.currentIndex},n.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},n.prototype.setPlayState=function(r){this.option.autoPlay=!!r},n.prototype.getPlayState=function(){return!!this.option.autoPlay},n.prototype._initData=function(){var r=this.option,$=r.data||[],L=r.axisType,V=this._names=[],oe;L==="category"?(oe=[],each$f($,function(le,ue){var de=convertOptionIdName(getDataItemValue(le),""),he;isObject$4(le)?(he=clone$4(le),he.value=ue):he=ue,oe.push(he),V.push(de)})):oe=$;var ae={category:"ordinal",time:"time",value:"number"}[L]||"number",re=this._data=new SeriesData$1([{name:"value",type:ae}],this);re.initData(oe,V)},n.prototype.getData=function(){return this._data},n.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},n.type="timeline",n.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},n}(ComponentModel$1);const TimelineModel$1=TimelineModel;var SliderTimelineModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="timeline.slider",n.defaultOption=inheritDefaultOption(TimelineModel$1.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),n}(TimelineModel$1);mixin(SliderTimelineModel,DataFormatMixin.prototype);const SliderTimelineModel$1=SliderTimelineModel;var TimelineView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="timeline",n}(ComponentView$1);const TimelineView$1=TimelineView;var TimelineAxis=function(g){__extends(n,g);function n(r,$,L,V){var oe=g.call(this,r,$,L)||this;return oe.type=V||"value",oe}return n.prototype.getLabelModel=function(){return this.model.getModel("label")},n.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},n}(Axis$1);const TimelineAxis$1=TimelineAxis;var PI=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$){this.api=$},n.prototype.render=function(r,$,L){if(this.model=r,this.api=L,this.ecModel=$,this.group.removeAll(),r.get("show",!0)){var V=this._layout(r,L),oe=this._createGroup("_mainGroup"),ae=this._createGroup("_labelGroup"),re=this._axis=this._createAxis(V,r);r.formatTooltip=function(le){var ue=re.scale.getLabel({value:le});return createTooltipMarkup("nameValue",{noName:!0,value:ue})},each$f(["AxisLine","AxisTick","Control","CurrentPointer"],function(le){this["_render"+le](V,oe,re,r)},this),this._renderAxisLabel(V,ae,re,r),this._position(V,r)}this._doPlayStop(),this._updateTicksStatus()},n.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},n.prototype.dispose=function(){this._clearTimer()},n.prototype._layout=function(r,$){var L=r.get(["label","position"]),V=r.get("orient"),oe=getViewRect(r,$),ae;L==null||L==="auto"?ae=V==="horizontal"?oe.y+oe.height/2<$.getHeight()/2?"-":"+":oe.x+oe.width/2<$.getWidth()/2?"+":"-":isString$1(L)?ae={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[V][L]:ae=L;var re={horizontal:"center",vertical:ae>=0||ae==="+"?"left":"right"},le={horizontal:ae>=0||ae==="+"?"top":"bottom",vertical:"middle"},ue={horizontal:0,vertical:PI/2},de=V==="vertical"?oe.height:oe.width,he=r.getModel("controlStyle"),pe=he.get("show",!0),_e=pe?he.get("itemSize"):0,$e=pe?he.get("itemGap"):0,xe=_e+$e,Oe=r.get(["label","rotate"])||0;Oe=Oe*PI/180;var Ce,Ie,Ne,ze=he.get("position",!0),Fe=pe&&he.get("showPlayBtn",!0),Ue=pe&&he.get("showPrevBtn",!0),At=pe&&he.get("showNextBtn",!0),Et=0,Pt=de;ze==="left"||ze==="bottom"?(Fe&&(Ce=[0,0],Et+=xe),Ue&&(Ie=[Et,0],Et+=xe),At&&(Ne=[Pt-_e,0],Pt-=xe)):(Fe&&(Ce=[Pt-_e,0],Pt-=xe),Ue&&(Ie=[0,0],Et+=xe),At&&(Ne=[Pt-_e,0],Pt-=xe));var kt=[Et,Pt];return r.get("inverse")&&kt.reverse(),{viewRect:oe,mainLength:de,orient:V,rotation:ue[V],labelRotation:Oe,labelPosOpt:ae,labelAlign:r.get(["label","align"])||re[V],labelBaseline:r.get(["label","verticalAlign"])||r.get(["label","baseline"])||le[V],playPosition:Ce,prevBtnPosition:Ie,nextBtnPosition:Ne,axisExtent:kt,controlSize:_e,controlGap:$e}},n.prototype._position=function(r,$){var L=this._mainGroup,V=this._labelGroup,oe=r.viewRect;if(r.orient==="vertical"){var ae=create$1(),re=oe.x,le=oe.y+oe.height;translate(ae,ae,[-re,-le]),rotate(ae,ae,-PI/2),translate(ae,ae,[re,le]),oe=oe.clone(),oe.applyTransform(ae)}var ue=Ce(oe),de=Ce(L.getBoundingRect()),he=Ce(V.getBoundingRect()),pe=[L.x,L.y],_e=[V.x,V.y];_e[0]=pe[0]=ue[0][0];var $e=r.labelPosOpt;if($e==null||isString$1($e)){var xe=$e==="+"?0:1;Ie(pe,de,ue,1,xe),Ie(_e,he,ue,1,1-xe)}else{var xe=$e>=0?0:1;Ie(pe,de,ue,1,xe),_e[1]=pe[1]+$e}L.setPosition(pe),V.setPosition(_e),L.rotation=V.rotation=r.rotation,Oe(L),Oe(V);function Oe(Ne){Ne.originX=ue[0][0]-Ne.x,Ne.originY=ue[1][0]-Ne.y}function Ce(Ne){return[[Ne.x,Ne.x+Ne.width],[Ne.y,Ne.y+Ne.height]]}function Ie(Ne,ze,Fe,Ue,At){Ne[Ue]+=Fe[Ue][At]-ze[Ue][At]}},n.prototype._createAxis=function(r,$){var L=$.getData(),V=$.get("axisType"),oe=createScaleByModel($,V);oe.getTicks=function(){return L.mapArray(["value"],function(le){return{value:le}})};var ae=L.getDataExtent("value");oe.setExtent(ae[0],ae[1]),oe.calcNiceTicks();var re=new TimelineAxis$1("value",oe,r.axisExtent,V);return re.model=$,re},n.prototype._createGroup=function(r){var $=this[r]=new Group$4;return this.group.add($),$},n.prototype._renderAxisLine=function(r,$,L,V){var oe=L.getExtent();if(V.get(["lineStyle","show"])){var ae=new Line$3({shape:{x1:oe[0],y1:0,x2:oe[1],y2:0},style:extend$1({lineCap:"round"},V.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});$.add(ae);var re=this._progressLine=new Line$3({shape:{x1:oe[0],x2:this._currentPointer?this._currentPointer.x:oe[0],y1:0,y2:0},style:defaults$2({lineCap:"round",lineWidth:ae.style.lineWidth},V.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});$.add(re)}},n.prototype._renderAxisTick=function(r,$,L,V){var oe=this,ae=V.getData(),re=L.scale.getTicks();this._tickSymbols=[],each$f(re,function(le){var ue=L.dataToCoord(le.value),de=ae.getItemModel(le.value),he=de.getModel("itemStyle"),pe=de.getModel(["emphasis","itemStyle"]),_e=de.getModel(["progress","itemStyle"]),$e={x:ue,y:0,onclick:bind$2(oe._changeTimeline,oe,le.value)},xe=giveSymbol(de,he,$,$e);xe.ensureState("emphasis").style=pe.getItemStyle(),xe.ensureState("progress").style=_e.getItemStyle(),enableHoverEmphasis(xe);var Oe=getECData(xe);de.get("tooltip")?(Oe.dataIndex=le.value,Oe.dataModel=V):Oe.dataIndex=Oe.dataModel=null,oe._tickSymbols.push(xe)})},n.prototype._renderAxisLabel=function(r,$,L,V){var oe=this,ae=L.getLabelModel();if(ae.get("show")){var re=V.getData(),le=L.getViewLabels();this._tickLabels=[],each$f(le,function(ue){var de=ue.tickValue,he=re.getItemModel(de),pe=he.getModel("label"),_e=he.getModel(["emphasis","label"]),$e=he.getModel(["progress","label"]),xe=L.dataToCoord(ue.tickValue),Oe=new ZRText$1({x:xe,y:0,rotation:r.labelRotation-r.rotation,onclick:bind$2(oe._changeTimeline,oe,de),silent:!1,style:createTextStyle(pe,{text:ue.formattedLabel,align:r.labelAlign,verticalAlign:r.labelBaseline})});Oe.ensureState("emphasis").style=createTextStyle(_e),Oe.ensureState("progress").style=createTextStyle($e),$.add(Oe),enableHoverEmphasis(Oe),labelDataIndexStore(Oe).dataIndex=de,oe._tickLabels.push(Oe)})}},n.prototype._renderControl=function(r,$,L,V){var oe=r.controlSize,ae=r.rotation,re=V.getModel("controlStyle").getItemStyle(),le=V.getModel(["emphasis","controlStyle"]).getItemStyle(),ue=V.getPlayState(),de=V.get("inverse",!0);he(r.nextBtnPosition,"next",bind$2(this._changeTimeline,this,de?"-":"+")),he(r.prevBtnPosition,"prev",bind$2(this._changeTimeline,this,de?"+":"-")),he(r.playPosition,ue?"stop":"play",bind$2(this._handlePlayClick,this,!ue),!0);function he(pe,_e,$e,xe){if(pe){var Oe=parsePercent$1(retrieve2(V.get(["controlStyle",_e+"BtnSize"]),oe),oe),Ce=[0,-Oe/2,Oe,Oe],Ie=makeControlIcon(V,_e+"Icon",Ce,{x:pe[0],y:pe[1],originX:oe/2,originY:0,rotation:xe?-ae:0,rectHover:!0,style:re,onclick:$e});Ie.ensureState("emphasis").style=le,$.add(Ie),enableHoverEmphasis(Ie)}}},n.prototype._renderCurrentPointer=function(r,$,L,V){var oe=V.getData(),ae=V.getCurrentIndex(),re=oe.getItemModel(ae).getModel("checkpointStyle"),le=this,ue={onCreate:function(de){de.draggable=!0,de.drift=bind$2(le._handlePointerDrag,le),de.ondragend=bind$2(le._handlePointerDragend,le),pointerMoveTo(de,le._progressLine,ae,L,V,!0)},onUpdate:function(de){pointerMoveTo(de,le._progressLine,ae,L,V)}};this._currentPointer=giveSymbol(re,re,this._mainGroup,{},this._currentPointer,ue)},n.prototype._handlePlayClick=function(r){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:r,from:this.uid})},n.prototype._handlePointerDrag=function(r,$,L){this._clearTimer(),this._pointerChangeTimeline([L.offsetX,L.offsetY])},n.prototype._handlePointerDragend=function(r){this._pointerChangeTimeline([r.offsetX,r.offsetY],!0)},n.prototype._pointerChangeTimeline=function(r,$){var L=this._toAxisCoord(r)[0],V=this._axis,oe=asc$2(V.getExtent().slice());L>oe[1]&&(L=oe[1]),L<oe[0]&&(L=oe[0]),this._currentPointer.x=L,this._currentPointer.markRedraw();var ae=this._progressLine;ae&&(ae.shape.x2=L,ae.dirty());var re=this._findNearestTick(L),le=this.model;($||re!==le.getCurrentIndex()&&le.get("realtime"))&&this._changeTimeline(re)},n.prototype._doPlayStop=function(){var r=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var $=r.model;r._changeTimeline($.getCurrentIndex()+($.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},n.prototype._toAxisCoord=function(r){var $=this._mainGroup.getLocalTransform();return applyTransform(r,$,!0)},n.prototype._findNearestTick=function(r){var $=this.model.getData(),L=1/0,V,oe=this._axis;return $.each(["value"],function(ae,re){var le=oe.dataToCoord(ae),ue=Math.abs(le-r);ue<L&&(L=ue,V=re)}),V},n.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},n.prototype._changeTimeline=function(r){var $=this.model.getCurrentIndex();r==="+"?r=$+1:r==="-"&&(r=$-1),this.api.dispatchAction({type:"timelineChange",currentIndex:r,from:this.uid})},n.prototype._updateTicksStatus=function(){var r=this.model.getCurrentIndex(),$=this._tickSymbols,L=this._tickLabels;if($)for(var V=0;V<$.length;V++)$&&$[V]&&$[V].toggleState("progress",V<r);if(L)for(var V=0;V<L.length;V++)L&&L[V]&&L[V].toggleState("progress",labelDataIndexStore(L[V]).dataIndex<=r)},n.type="timeline.slider",n}(TimelineView$1);function createScaleByModel(g,n){if(n=n||g.get("type"),n)switch(n){case"category":return new OrdinalScale$1({ordinalMeta:g.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:g.ecModel.getLocaleModel(),useUTC:g.ecModel.get("useUTC")});default:return new IntervalScale$1}}function getViewRect(g,n){return getLayoutRect(g.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},g.get("padding"))}function makeControlIcon(g,n,r,$){var L=$.style,V=createIcon(g.get(["controlStyle",n]),$||{},new BoundingRect$1(r[0],r[1],r[2],r[3]));return L&&V.setStyle(L),V}function giveSymbol(g,n,r,$,L,V){var oe=n.get("color");if(L)L.setColor(oe),r.add(L),V&&V.onUpdate(L);else{var ae=g.get("symbol");L=createSymbol$1(ae,-1,-1,2,2,oe),L.setStyle("strokeNoScale",!0),r.add(L),V&&V.onCreate(L)}var re=n.getItemStyle(["color"]);L.setStyle(re),$=merge$1({rectHover:!0,z2:100},$,!0);var le=normalizeSymbolSize(g.get("symbolSize"));$.scaleX=le[0]/2,$.scaleY=le[1]/2;var ue=normalizeSymbolOffset(g.get("symbolOffset"),le);ue&&($.x=($.x||0)+ue[0],$.y=($.y||0)+ue[1]);var de=g.get("symbolRotate");return $.rotation=(de||0)*Math.PI/180||0,L.attr($),L.updateTransform(),L}function pointerMoveTo(g,n,r,$,L,V){if(!g.dragging){var oe=L.getModel("checkpointStyle"),ae=$.dataToCoord(L.getData().get("value",r));if(V||!oe.get("animation",!0))g.attr({x:ae,y:0}),n&&n.attr({shape:{x2:ae}});else{var re={duration:oe.get("animationDuration",!0),easing:oe.get("animationEasing",!0)};g.stopAnimation(null,!0),g.animateTo({x:ae,y:0},re),n&&n.animateTo({shape:{x2:ae}},re)}}}const SliderTimelineView$1=SliderTimelineView;function installTimelineAction(g){g.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(n,r,$){var L=r.getComponent("timeline");return L&&n.currentIndex!=null&&(L.setCurrentIndex(n.currentIndex),!L.get("loop",!0)&&L.isIndexMax()&&L.getPlayState()&&(L.setPlayState(!1),$.dispatchAction({type:"timelinePlayChange",playState:!1,from:n.from}))),r.resetOption("timeline",{replaceMerge:L.get("replaceMerge",!0)}),defaults$2({currentIndex:L.option.currentIndex},n)}),g.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(n,r){var $=r.getComponent("timeline");$&&n.playState!=null&&$.setPlayState(n.playState)})}function timelinePreprocessor(g){var n=g&&g.timeline;isArray$2(n)||(n=n?[n]:[]),each$f(n,function(r){!r||compatibleEC2(r)})}function compatibleEC2(g){var n=g.type,r={number:"value",time:"time"};if(r[n]&&(g.axisType=r[n],delete g.type),transferItem(g),has$1(g,"controlPosition")){var $=g.controlStyle||(g.controlStyle={});has$1($,"position")||($.position=g.controlPosition),$.position==="none"&&!has$1($,"show")&&($.show=!1,delete $.position),delete g.controlPosition}each$f(g.data||[],function(L){isObject$4(L)&&!isArray$2(L)&&(!has$1(L,"value")&&has$1(L,"name")&&(L.value=L.name),transferItem(L))})}function transferItem(g){var n=g.itemStyle||(g.itemStyle={}),r=n.emphasis||(n.emphasis={}),$=g.label||g.label||{},L=$.normal||($.normal={}),V={normal:1,emphasis:1};each$f($,function(oe,ae){!V[ae]&&!has$1(L,ae)&&(L[ae]=oe)}),r.label&&!has$1($,"emphasis")&&($.emphasis=r.label,delete r.label)}function has$1(g,n){return g.hasOwnProperty(n)}function install$g(g){g.registerComponentModel(SliderTimelineModel$1),g.registerComponentView(SliderTimelineView$1),g.registerSubTypeDefaulter("timeline",function(){return"slider"}),installTimelineAction(g),g.registerPreprocessor(timelinePreprocessor)}function checkMarkerInSeries(g,n){if(!g)return!1;for(var r=isArray$2(g)?g:[g],$=0;$<r.length;$++)if(r[$]&&r[$][n])return!0;return!1}function fillLabel(g){defaultEmphasis(g,"label",["show"])}var inner$5=makeInner(),MarkerModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.createdBySelf=!1,r}return n.prototype.init=function(r,$,L){this.mergeDefaultAndTheme(r,L),this._mergeOption(r,L,!1,!0)},n.prototype.isAnimationEnabled=function(){if(env$1.node)return!1;var r=this.__hostSeries;return this.getShallow("animation")&&r&&r.isAnimationEnabled()},n.prototype.mergeOption=function(r,$){this._mergeOption(r,$,!1,!1)},n.prototype._mergeOption=function(r,$,L,V){var oe=this.mainType;L||$.eachSeries(function(ae){var re=ae.get(this.mainType,!0),le=inner$5(ae)[oe];if(!re||!re.data){inner$5(ae)[oe]=null;return}le?le._mergeOption(re,$,!0):(V&&fillLabel(re),each$f(re.data,function(ue){ue instanceof Array?(fillLabel(ue[0]),fillLabel(ue[1])):fillLabel(ue)}),le=this.createMarkerModelFromSeries(re,this,$),extend$1(le,{mainType:this.mainType,seriesIndex:ae.seriesIndex,name:ae.name,createdBySelf:!0}),le.__hostSeries=ae),inner$5(ae)[oe]=le},this)},n.prototype.formatTooltip=function(r,$,L){var V=this.getData(),oe=this.getRawValue(r),ae=V.getName(r);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:ae,value:oe,noName:!ae,noValue:oe==null})]})},n.prototype.getData=function(){return this._data},n.prototype.setData=function(r){this._data=r},n.getMarkerModelFromSeries=function(r,$){return inner$5(r)[$]},n.type="marker",n.dependencies=["series","grid","polar","geo"],n}(ComponentModel$1);mixin(MarkerModel,DataFormatMixin.prototype);const MarkerModel$1=MarkerModel;var MarkPointModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(r,$,L){return new n(r,$,L)},n.type="markPoint",n.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},n}(MarkerModel$1);const MarkPointModel$1=MarkPointModel;function hasXOrY(g){return!(isNaN(parseFloat(g.x))&&isNaN(parseFloat(g.y)))}function hasXAndY(g){return!isNaN(parseFloat(g.x))&&!isNaN(parseFloat(g.y))}function markerTypeCalculatorWithExtent(g,n,r,$,L,V){var oe=[],ae=isDimensionStacked(n,$),re=ae?n.getCalculationInfo("stackResultDimension"):$,le=numCalculate(n,re,g),ue=n.indicesOfNearest(re,le)[0];oe[L]=n.get(r,ue),oe[V]=n.get(re,ue);var de=n.get($,ue),he=getPrecision(n.get($,ue));return he=Math.min(he,20),he>=0&&(oe[V]=+oe[V].toFixed(he)),[oe,de]}var markerTypeCalculator={min:curry$1(markerTypeCalculatorWithExtent,"min"),max:curry$1(markerTypeCalculatorWithExtent,"max"),average:curry$1(markerTypeCalculatorWithExtent,"average"),median:curry$1(markerTypeCalculatorWithExtent,"median")};function dataTransform(g,n){if(n){var r=g.getData(),$=g.coordinateSystem,L=$.dimensions;if(!hasXAndY(n)&&!isArray$2(n.coord)&&$){var V=getAxisInfo(n,r,$,g);if(n=clone$4(n),n.type&&markerTypeCalculator[n.type]&&V.baseAxis&&V.valueAxis){var oe=indexOf(L,V.baseAxis.dim),ae=indexOf(L,V.valueAxis.dim),re=markerTypeCalculator[n.type](r,V.baseDataDim,V.valueDataDim,oe,ae);n.coord=re[0],n.value=re[1]}else n.coord=[n.xAxis!=null?n.xAxis:n.radiusAxis,n.yAxis!=null?n.yAxis:n.angleAxis]}if(n.coord==null)n.coord=[];else for(var le=n.coord,ue=0;ue<2;ue++)markerTypeCalculator[le[ue]]&&(le[ue]=numCalculate(r,r.mapDimension(L[ue]),le[ue]));return n}}function getAxisInfo(g,n,r,$){var L={};return g.valueIndex!=null||g.valueDim!=null?(L.valueDataDim=g.valueIndex!=null?n.getDimension(g.valueIndex):g.valueDim,L.valueAxis=r.getAxis(dataDimToCoordDim($,L.valueDataDim)),L.baseAxis=r.getOtherAxis(L.valueAxis),L.baseDataDim=n.mapDimension(L.baseAxis.dim)):(L.baseAxis=$.getBaseAxis(),L.valueAxis=r.getOtherAxis(L.baseAxis),L.baseDataDim=n.mapDimension(L.baseAxis.dim),L.valueDataDim=n.mapDimension(L.valueAxis.dim)),L}function dataDimToCoordDim(g,n){var r=g.getData().getDimensionInfo(n);return r&&r.coordDim}function dataFilter(g,n){return g&&g.containData&&n.coord&&!hasXOrY(n)?g.containData(n.coord):!0}function zoneFilter(g,n,r){return g&&g.containZone&&n.coord&&r.coord&&!hasXOrY(n)&&!hasXOrY(r)?g.containZone(n.coord,r.coord):!0}function createMarkerDimValueGetter(g,n){return g?function(r,$,L,V){var oe=V<2?r.coord&&r.coord[V]:r.value;return parseDataValue(oe,n[V])}:function(r,$,L,V){return parseDataValue(r.value,n[V])}}function numCalculate(g,n,r){if(r==="average"){var $=0,L=0;return g.each(n,function(V,oe){isNaN(V)||($+=V,L++)}),$/L}else return r==="median"?g.getMedian(n):g.getDataExtent(n)[r==="max"?1:0]}var inner$4=makeInner(),MarkerView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this.markerGroupMap=createHashMap()},n.prototype.render=function(r,$,L){var V=this,oe=this.markerGroupMap;oe.each(function(ae){inner$4(ae).keep=!1}),$.eachSeries(function(ae){var re=MarkerModel$1.getMarkerModelFromSeries(ae,V.type);re&&V.renderSeries(ae,re,$,L)}),oe.each(function(ae){!inner$4(ae).keep&&V.group.remove(ae.group)})},n.prototype.markKeep=function(r){inner$4(r).keep=!0},n.prototype.toggleBlurSeries=function(r,$){var L=this;each$f(r,function(V){var oe=MarkerModel$1.getMarkerModelFromSeries(V,L.type);if(oe){var ae=oe.getData();ae.eachItemGraphicEl(function(re){re&&($?enterBlur(re):leaveBlur(re))})}})},n.type="marker",n}(ComponentView$1);const MarkerView$1=MarkerView;function updateMarkerLayout(g,n,r){var $=n.coordinateSystem;g.each(function(L){var V=g.getItemModel(L),oe,ae=parsePercent(V.get("x"),r.getWidth()),re=parsePercent(V.get("y"),r.getHeight());if(!isNaN(ae)&&!isNaN(re))oe=[ae,re];else if(n.getMarkerPosition)oe=n.getMarkerPosition(g.getValues(g.dimensions,L));else if($){var le=g.get($.dimensions[0],L),ue=g.get($.dimensions[1],L);oe=$.dataToPoint([le,ue])}isNaN(ae)||(oe[0]=ae),isNaN(re)||(oe[1]=re),g.setItemLayout(L,oe)})}var MarkPointView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(r,$,L){$.eachSeries(function(V){var oe=MarkerModel$1.getMarkerModelFromSeries(V,"markPoint");oe&&(updateMarkerLayout(oe.getData(),V,L),this.markerGroupMap.get(V.id).updateLayout())},this)},n.prototype.renderSeries=function(r,$,L,V){var oe=r.coordinateSystem,ae=r.id,re=r.getData(),le=this.markerGroupMap,ue=le.get(ae)||le.set(ae,new SymbolDraw$1),de=createData(oe,r,$);$.setData(de),updateMarkerLayout($.getData(),r,V),de.each(function(he){var pe=de.getItemModel(he),_e=pe.getShallow("symbol"),$e=pe.getShallow("symbolSize"),xe=pe.getShallow("symbolRotate"),Oe=pe.getShallow("symbolOffset"),Ce=pe.getShallow("symbolKeepAspect");if(isFunction$1(_e)||isFunction$1($e)||isFunction$1(xe)||isFunction$1(Oe)){var Ie=$.getRawValue(he),Ne=$.getDataParams(he);isFunction$1(_e)&&(_e=_e(Ie,Ne)),isFunction$1($e)&&($e=$e(Ie,Ne)),isFunction$1(xe)&&(xe=xe(Ie,Ne)),isFunction$1(Oe)&&(Oe=Oe(Ie,Ne))}var ze=pe.getModel("itemStyle").getItemStyle(),Fe=getVisualFromData(re,"color");ze.fill||(ze.fill=Fe),de.setItemVisual(he,{symbol:_e,symbolSize:$e,symbolRotate:xe,symbolOffset:Oe,symbolKeepAspect:Ce,style:ze})}),ue.updateData(de),this.group.add(ue.group),de.eachItemGraphicEl(function(he){he.traverse(function(pe){getECData(pe).dataModel=$})}),this.markKeep(ue),ue.group.silent=$.get("silent")||r.get("silent")},n.type="markPoint",n}(MarkerView$1);function createData(g,n,r){var $;g?$=map$1(g&&g.dimensions,function(ae){var re=n.getData().getDimensionInfo(n.getData().mapDimension(ae))||{};return extend$1(extend$1({},re),{name:ae,ordinalMeta:null})}):$=[{name:"value",type:"float"}];var L=new SeriesData$1($,r),V=map$1(r.get("data"),curry$1(dataTransform,n));g&&(V=filter(V,curry$1(dataFilter,g)));var oe=createMarkerDimValueGetter(!!g,$);return L.initData(V,null,oe),L}const MarkPointView$1=MarkPointView;function install$f(g){g.registerComponentModel(MarkPointModel$1),g.registerComponentView(MarkPointView$1),g.registerPreprocessor(function(n){checkMarkerInSeries(n.series,"markPoint")&&(n.markPoint=n.markPoint||{})})}var MarkLineModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(r,$,L){return new n(r,$,L)},n.type="markLine",n.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},n}(MarkerModel$1);const MarkLineModel$1=MarkLineModel;var inner$3=makeInner(),markLineTransform=function(g,n,r,$){var L=g.getData(),V;if(isArray$2($))V=$;else{var oe=$.type;if(oe==="min"||oe==="max"||oe==="average"||oe==="median"||$.xAxis!=null||$.yAxis!=null){var ae=void 0,re=void 0;if($.yAxis!=null||$.xAxis!=null)ae=n.getAxis($.yAxis!=null?"y":"x"),re=retrieve($.yAxis,$.xAxis);else{var le=getAxisInfo($,L,n,g);ae=le.valueAxis;var ue=getStackedDimension(L,le.valueDataDim);re=numCalculate(L,ue,oe)}var de=ae.dim==="x"?0:1,he=1-de,pe=clone$4($),_e={coord:[]};pe.type=null,pe.coord=[],pe.coord[he]=-1/0,_e.coord[he]=1/0;var $e=r.get("precision");$e>=0&&isNumber$1(re)&&(re=+re.toFixed(Math.min($e,20))),pe.coord[de]=_e.coord[de]=re,V=[pe,_e,{type:oe,valueIndex:$.valueIndex,value:re}]}else V=[]}var xe=[dataTransform(g,V[0]),dataTransform(g,V[1]),extend$1({},V[2])];return xe[2].type=xe[2].type||null,merge$1(xe[2],xe[0]),merge$1(xe[2],xe[1]),xe};function isInfinity$1(g){return!isNaN(g)&&!isFinite(g)}function ifMarkLineHasOnlyDim(g,n,r,$){var L=1-g,V=$.dimensions[g];return isInfinity$1(n[L])&&isInfinity$1(r[L])&&n[g]===r[g]&&$.getAxis(V).containData(n[g])}function markLineFilter(g,n){if(g.type==="cartesian2d"){var r=n[0].coord,$=n[1].coord;if(r&&$&&(ifMarkLineHasOnlyDim(1,r,$,g)||ifMarkLineHasOnlyDim(0,r,$,g)))return!0}return dataFilter(g,n[0])&&dataFilter(g,n[1])}function updateSingleMarkerEndLayout(g,n,r,$,L){var V=$.coordinateSystem,oe=g.getItemModel(n),ae,re=parsePercent(oe.get("x"),L.getWidth()),le=parsePercent(oe.get("y"),L.getHeight());if(!isNaN(re)&&!isNaN(le))ae=[re,le];else{if($.getMarkerPosition)ae=$.getMarkerPosition(g.getValues(g.dimensions,n));else{var ue=V.dimensions,de=g.get(ue[0],n),he=g.get(ue[1],n);ae=V.dataToPoint([de,he])}if(isCoordinateSystemType(V,"cartesian2d")){var pe=V.getAxis("x"),_e=V.getAxis("y"),ue=V.dimensions;isInfinity$1(g.get(ue[0],n))?ae[0]=pe.toGlobalCoord(pe.getExtent()[r?0:1]):isInfinity$1(g.get(ue[1],n))&&(ae[1]=_e.toGlobalCoord(_e.getExtent()[r?0:1]))}isNaN(re)||(ae[0]=re),isNaN(le)||(ae[1]=le)}g.setItemLayout(n,ae)}var MarkLineView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(r,$,L){$.eachSeries(function(V){var oe=MarkerModel$1.getMarkerModelFromSeries(V,"markLine");if(oe){var ae=oe.getData(),re=inner$3(oe).from,le=inner$3(oe).to;re.each(function(ue){updateSingleMarkerEndLayout(re,ue,!0,V,L),updateSingleMarkerEndLayout(le,ue,!1,V,L)}),ae.each(function(ue){ae.setItemLayout(ue,[re.getItemLayout(ue),le.getItemLayout(ue)])}),this.markerGroupMap.get(V.id).updateLayout()}},this)},n.prototype.renderSeries=function(r,$,L,V){var oe=r.coordinateSystem,ae=r.id,re=r.getData(),le=this.markerGroupMap,ue=le.get(ae)||le.set(ae,new LineDraw$1);this.group.add(ue.group);var de=createList$1(oe,r,$),he=de.from,pe=de.to,_e=de.line;inner$3($).from=he,inner$3($).to=pe,$.setData(_e);var $e=$.get("symbol"),xe=$.get("symbolSize"),Oe=$.get("symbolRotate"),Ce=$.get("symbolOffset");isArray$2($e)||($e=[$e,$e]),isArray$2(xe)||(xe=[xe,xe]),isArray$2(Oe)||(Oe=[Oe,Oe]),isArray$2(Ce)||(Ce=[Ce,Ce]),de.from.each(function(Ne){Ie(he,Ne,!0),Ie(pe,Ne,!1)}),_e.each(function(Ne){var ze=_e.getItemModel(Ne).getModel("lineStyle").getLineStyle();_e.setItemLayout(Ne,[he.getItemLayout(Ne),pe.getItemLayout(Ne)]),ze.stroke==null&&(ze.stroke=he.getItemVisual(Ne,"style").fill),_e.setItemVisual(Ne,{fromSymbolKeepAspect:he.getItemVisual(Ne,"symbolKeepAspect"),fromSymbolOffset:he.getItemVisual(Ne,"symbolOffset"),fromSymbolRotate:he.getItemVisual(Ne,"symbolRotate"),fromSymbolSize:he.getItemVisual(Ne,"symbolSize"),fromSymbol:he.getItemVisual(Ne,"symbol"),toSymbolKeepAspect:pe.getItemVisual(Ne,"symbolKeepAspect"),toSymbolOffset:pe.getItemVisual(Ne,"symbolOffset"),toSymbolRotate:pe.getItemVisual(Ne,"symbolRotate"),toSymbolSize:pe.getItemVisual(Ne,"symbolSize"),toSymbol:pe.getItemVisual(Ne,"symbol"),style:ze})}),ue.updateData(_e),de.line.eachItemGraphicEl(function(Ne){getECData(Ne).dataModel=$,Ne.traverse(function(ze){getECData(ze).dataModel=$})});function Ie(Ne,ze,Fe){var Ue=Ne.getItemModel(ze);updateSingleMarkerEndLayout(Ne,ze,Fe,r,V);var At=Ue.getModel("itemStyle").getItemStyle();At.fill==null&&(At.fill=getVisualFromData(re,"color")),Ne.setItemVisual(ze,{symbolKeepAspect:Ue.get("symbolKeepAspect"),symbolOffset:retrieve2(Ue.get("symbolOffset",!0),Ce[Fe?0:1]),symbolRotate:retrieve2(Ue.get("symbolRotate",!0),Oe[Fe?0:1]),symbolSize:retrieve2(Ue.get("symbolSize"),xe[Fe?0:1]),symbol:retrieve2(Ue.get("symbol",!0),$e[Fe?0:1]),style:At})}this.markKeep(ue),ue.group.silent=$.get("silent")||r.get("silent")},n.type="markLine",n}(MarkerView$1);function createList$1(g,n,r){var $;g?$=map$1(g&&g.dimensions,function(le){var ue=n.getData().getDimensionInfo(n.getData().mapDimension(le))||{};return extend$1(extend$1({},ue),{name:le,ordinalMeta:null})}):$=[{name:"value",type:"float"}];var L=new SeriesData$1($,r),V=new SeriesData$1($,r),oe=new SeriesData$1([],r),ae=map$1(r.get("data"),curry$1(markLineTransform,n,g,r));g&&(ae=filter(ae,curry$1(markLineFilter,g)));var re=createMarkerDimValueGetter(!!g,$);return L.initData(map$1(ae,function(le){return le[0]}),null,re),V.initData(map$1(ae,function(le){return le[1]}),null,re),oe.initData(map$1(ae,function(le){return le[2]})),oe.hasItemOption=!0,{from:L,to:V,line:oe}}const MarkLineView$1=MarkLineView;function install$e(g){g.registerComponentModel(MarkLineModel$1),g.registerComponentView(MarkLineView$1),g.registerPreprocessor(function(n){checkMarkerInSeries(n.series,"markLine")&&(n.markLine=n.markLine||{})})}var MarkAreaModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(r,$,L){return new n(r,$,L)},n.type="markArea",n.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},n}(MarkerModel$1);const MarkAreaModel$1=MarkAreaModel;var inner$2=makeInner(),markAreaTransform=function(g,n,r,$){var L=$[0],V=$[1];if(!(!L||!V)){var oe=dataTransform(g,L),ae=dataTransform(g,V),re=oe.coord,le=ae.coord;re[0]=retrieve(re[0],-1/0),re[1]=retrieve(re[1],-1/0),le[0]=retrieve(le[0],1/0),le[1]=retrieve(le[1],1/0);var ue=mergeAll([{},oe,ae]);return ue.coord=[oe.coord,ae.coord],ue.x0=oe.x,ue.y0=oe.y,ue.x1=ae.x,ue.y1=ae.y,ue}};function isInfinity(g){return!isNaN(g)&&!isFinite(g)}function ifMarkAreaHasOnlyDim(g,n,r,$){var L=1-g;return isInfinity(n[L])&&isInfinity(r[L])}function markAreaFilter(g,n){var r=n.coord[0],$=n.coord[1],L={coord:r,x:n.x0,y:n.y0},V={coord:$,x:n.x1,y:n.y1};return isCoordinateSystemType(g,"cartesian2d")?r&&$&&(ifMarkAreaHasOnlyDim(1,r,$)||ifMarkAreaHasOnlyDim(0,r,$))?!0:zoneFilter(g,L,V):dataFilter(g,L)||dataFilter(g,V)}function getSingleMarkerEndPoint(g,n,r,$,L){var V=$.coordinateSystem,oe=g.getItemModel(n),ae,re=parsePercent(oe.get(r[0]),L.getWidth()),le=parsePercent(oe.get(r[1]),L.getHeight());if(!isNaN(re)&&!isNaN(le))ae=[re,le];else{if($.getMarkerPosition){var ue=g.getValues(["x0","y0"],n),de=g.getValues(["x1","y1"],n),he=V.clampData(ue),pe=V.clampData(de),_e=[];r[0]==="x0"?_e[0]=he[0]>pe[0]?de[0]:ue[0]:_e[0]=he[0]>pe[0]?ue[0]:de[0],r[1]==="y0"?_e[1]=he[1]>pe[1]?de[1]:ue[1]:_e[1]=he[1]>pe[1]?ue[1]:de[1],ae=$.getMarkerPosition(_e,r,!0)}else{var $e=g.get(r[0],n),xe=g.get(r[1],n),Oe=[$e,xe];V.clampData&&V.clampData(Oe,Oe),ae=V.dataToPoint(Oe,!0)}if(isCoordinateSystemType(V,"cartesian2d")){var Ce=V.getAxis("x"),Ie=V.getAxis("y"),$e=g.get(r[0],n),xe=g.get(r[1],n);isInfinity($e)?ae[0]=Ce.toGlobalCoord(Ce.getExtent()[r[0]==="x0"?0:1]):isInfinity(xe)&&(ae[1]=Ie.toGlobalCoord(Ie.getExtent()[r[1]==="y0"?0:1]))}isNaN(re)||(ae[0]=re),isNaN(le)||(ae[1]=le)}return ae}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(r,$,L){$.eachSeries(function(V){var oe=MarkerModel$1.getMarkerModelFromSeries(V,"markArea");if(oe){var ae=oe.getData();ae.each(function(re){var le=map$1(dimPermutations,function(de){return getSingleMarkerEndPoint(ae,re,de,V,L)});ae.setItemLayout(re,le);var ue=ae.getItemGraphicEl(re);ue.setShape("points",le)})}},this)},n.prototype.renderSeries=function(r,$,L,V){var oe=r.coordinateSystem,ae=r.id,re=r.getData(),le=this.markerGroupMap,ue=le.get(ae)||le.set(ae,{group:new Group$4});this.group.add(ue.group),this.markKeep(ue);var de=createList(oe,r,$);$.setData(de),de.each(function(he){var pe=map$1(dimPermutations,function(At){return getSingleMarkerEndPoint(de,he,At,r,V)}),_e=oe.getAxis("x").scale,$e=oe.getAxis("y").scale,xe=_e.getExtent(),Oe=$e.getExtent(),Ce=[_e.parse(de.get("x0",he)),_e.parse(de.get("x1",he))],Ie=[$e.parse(de.get("y0",he)),$e.parse(de.get("y1",he))];asc$2(Ce),asc$2(Ie);var Ne=!(xe[0]>Ce[1]||xe[1]<Ce[0]||Oe[0]>Ie[1]||Oe[1]<Ie[0]),ze=!Ne;de.setItemLayout(he,{points:pe,allClipped:ze});var Fe=de.getItemModel(he).getModel("itemStyle").getItemStyle(),Ue=getVisualFromData(re,"color");Fe.fill||(Fe.fill=Ue,isString$1(Fe.fill)&&(Fe.fill=modifyAlpha(Fe.fill,.4))),Fe.stroke||(Fe.stroke=Ue),de.setItemVisual(he,"style",Fe)}),de.diff(inner$2(ue).data).add(function(he){var pe=de.getItemLayout(he);if(!pe.allClipped){var _e=new Polygon$1({shape:{points:pe.points}});de.setItemGraphicEl(he,_e),ue.group.add(_e)}}).update(function(he,pe){var _e=inner$2(ue).data.getItemGraphicEl(pe),$e=de.getItemLayout(he);$e.allClipped?_e&&ue.group.remove(_e):(_e?updateProps$1(_e,{shape:{points:$e.points}},$,he):_e=new Polygon$1({shape:{points:$e.points}}),de.setItemGraphicEl(he,_e),ue.group.add(_e))}).remove(function(he){var pe=inner$2(ue).data.getItemGraphicEl(he);ue.group.remove(pe)}).execute(),de.eachItemGraphicEl(function(he,pe){var _e=de.getItemModel(pe),$e=de.getItemVisual(pe,"style");he.useStyle(de.getItemVisual(pe,"style")),setLabelStyle(he,getLabelStatesModels(_e),{labelFetcher:$,labelDataIndex:pe,defaultText:de.getName(pe)||"",inheritColor:isString$1($e.fill)?modifyAlpha($e.fill,1):"#000"}),setStatesStylesFromModel(he,_e),toggleHoverEmphasis(he,null,null,_e.get(["emphasis","disabled"])),getECData(he).dataModel=$}),inner$2(ue).data=de,ue.group.silent=$.get("silent")||r.get("silent")},n.type="markArea",n}(MarkerView$1);function createList(g,n,r){var $,L,V=["x0","y0","x1","y1"];if(g){var oe=map$1(g&&g.dimensions,function(le){var ue=n.getData(),de=ue.getDimensionInfo(ue.mapDimension(le))||{};return extend$1(extend$1({},de),{name:le,ordinalMeta:null})});L=map$1(V,function(le,ue){return{name:le,type:oe[ue%2].type}}),$=new SeriesData$1(L,r)}else L=[{name:"value",type:"float"}],$=new SeriesData$1(L,r);var ae=map$1(r.get("data"),curry$1(markAreaTransform,n,g,r));g&&(ae=filter(ae,curry$1(markAreaFilter,g)));var re=g?function(le,ue,de,he){var pe=le.coord[Math.floor(he/2)][he%2];return parseDataValue(pe,L[he])}:function(le,ue,de,he){return parseDataValue(le.value,L[he])};return $.initData(ae,null,re),$.hasItemOption=!0,$}const MarkAreaView$1=MarkAreaView;function install$d(g){g.registerComponentModel(MarkAreaModel$1),g.registerComponentView(MarkAreaView$1),g.registerPreprocessor(function(n){checkMarkerInSeries(n.series,"markArea")&&(n.markArea=n.markArea||{})})}var getDefaultSelectorOptions=function(g,n){if(n==="all")return{type:"all",title:g.getLocaleModel().get(["legend","selector","all"])};if(n==="inverse")return{type:"inverse",title:g.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.layoutMode={type:"box",ignoreSize:!0},r}return n.prototype.init=function(r,$,L){this.mergeDefaultAndTheme(r,L),r.selected=r.selected||{},this._updateSelector(r)},n.prototype.mergeOption=function(r,$){g.prototype.mergeOption.call(this,r,$),this._updateSelector(r)},n.prototype._updateSelector=function(r){var $=r.selector,L=this.ecModel;$===!0&&($=r.selector=["all","inverse"]),isArray$2($)&&each$f($,function(V,oe){isString$1(V)&&(V={type:V}),$[oe]=merge$1(V,getDefaultSelectorOptions(L,V.type))})},n.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var $=!1,L=0;L<r.length;L++){var V=r[L].get("name");if(this.isSelected(V)){this.select(V),$=!0;break}}!$&&this.select(r[0].get("name"))}},n.prototype._updateData=function(r){var $=[],L=[];r.eachRawSeries(function(re){var le=re.name;L.push(le);var ue;if(re.legendVisualProvider){var de=re.legendVisualProvider,he=de.getAllNames();r.isSeriesFiltered(re)||(L=L.concat(he)),he.length?$=$.concat(he):ue=!0}else ue=!0;ue&&isNameSpecified(re)&&$.push(re.name)}),this._availableNames=L;var V=this.get("data")||$,oe=createHashMap(),ae=map$1(V,function(re){return(isString$1(re)||isNumber$1(re))&&(re={name:re}),oe.get(re.name)?null:(oe.set(re.name,!0),new Model$1(re,this,this.ecModel))},this);this._data=filter(ae,function(re){return!!re})},n.prototype.getData=function(){return this._data},n.prototype.select=function(r){var $=this.option.selected,L=this.get("selectedMode");if(L==="single"){var V=this._data;each$f(V,function(oe){$[oe.get("name")]=!1})}$[r]=!0},n.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},n.prototype.toggleSelected=function(r){var $=this.option.selected;$.hasOwnProperty(r)||($[r]=!0),this[$[r]?"unSelect":"select"](r)},n.prototype.allSelect=function(){var r=this._data,$=this.option.selected;each$f(r,function(L){$[L.get("name",!0)]=!0})},n.prototype.inverseSelect=function(){var r=this._data,$=this.option.selected;each$f(r,function(L){var V=L.get("name",!0);$.hasOwnProperty(V)||($[V]=!0),$[V]=!$[V]})},n.prototype.isSelected=function(r){var $=this.option.selected;return!($.hasOwnProperty(r)&&!$[r])&&indexOf(this._availableNames,r)>=0},n.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},n.type="legend.plain",n.dependencies=["series"],n.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},n}(ComponentModel$1);const LegendModel$1=LegendModel;var curry=curry$1,each$3=each$f,Group$1=Group$4,LegendView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.newlineDisabled=!1,r}return n.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},n.prototype.getContentGroup=function(){return this._contentGroup},n.prototype.getSelectorGroup=function(){return this._selectorGroup},n.prototype.render=function(r,$,L){var V=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var oe=r.get("align"),ae=r.get("orient");(!oe||oe==="auto")&&(oe=r.get("left")==="right"&&ae==="vertical"?"right":"left");var re=r.get("selector",!0),le=r.get("selectorPosition",!0);re&&(!le||le==="auto")&&(le=ae==="horizontal"?"end":"start"),this.renderInner(oe,r,$,L,re,ae,le);var ue=r.getBoxLayoutParams(),de={width:L.getWidth(),height:L.getHeight()},he=r.get("padding"),pe=getLayoutRect(ue,de,he),_e=this.layoutInner(r,oe,pe,V,re,le),$e=getLayoutRect(defaults$2({width:_e.width,height:_e.height},ue),de,he);this.group.x=$e.x-_e.x,this.group.y=$e.y-_e.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(_e,r))}},n.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},n.prototype.renderInner=function(r,$,L,V,oe,ae,re){var le=this.getContentGroup(),ue=createHashMap(),de=$.get("selectedMode"),he=[];L.eachRawSeries(function(pe){!pe.get("legendHoverLink")&&he.push(pe.id)}),each$3($.getData(),function(pe,_e){var $e=pe.get("name");if(!this.newlineDisabled&&($e===""||$e===`
`)){var xe=new Group$1;xe.newline=!0,le.add(xe);return}var Oe=L.getSeriesByName($e)[0];if(!ue.get($e))if(Oe){var Ce=Oe.getData(),Ie=Ce.getVisual("legendLineStyle")||{},Ne=Ce.getVisual("legendIcon"),ze=Ce.getVisual("style"),Fe=this._createItem(Oe,$e,_e,pe,$,r,Ie,ze,Ne,de,V);Fe.on("click",curry(dispatchSelectAction,$e,null,V,he)).on("mouseover",curry(dispatchHighlightAction,Oe.name,null,V,he)).on("mouseout",curry(dispatchDownplayAction,Oe.name,null,V,he)),ue.set($e,!0)}else L.eachRawSeries(function(Ue){if(!ue.get($e)&&Ue.legendVisualProvider){var At=Ue.legendVisualProvider;if(!At.containName($e))return;var Et=At.indexOfName($e),Pt=At.getItemVisual(Et,"style"),kt=At.getItemVisual(Et,"legendIcon"),Dt=parse(Pt.fill);Dt&&Dt[3]===0&&(Dt[3]=.2,Pt=extend$1(extend$1({},Pt),{fill:stringify(Dt,"rgba")}));var Lt=this._createItem(Ue,$e,_e,pe,$,r,{},Pt,kt,de,V);Lt.on("click",curry(dispatchSelectAction,null,$e,V,he)).on("mouseover",curry(dispatchHighlightAction,null,$e,V,he)).on("mouseout",curry(dispatchDownplayAction,null,$e,V,he)),ue.set($e,!0)}},this)},this),oe&&this._createSelector(oe,$,V,ae,re)},n.prototype._createSelector=function(r,$,L,V,oe){var ae=this.getSelectorGroup();each$3(r,function(re){var le=re.type,ue=new ZRText$1({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){L.dispatchAction({type:le==="all"?"legendAllSelect":"legendInverseSelect"})}});ae.add(ue);var de=$.getModel("selectorLabel"),he=$.getModel(["emphasis","selectorLabel"]);setLabelStyle(ue,{normal:de,emphasis:he},{defaultText:re.title}),enableHoverEmphasis(ue)})},n.prototype._createItem=function(r,$,L,V,oe,ae,re,le,ue,de,he){var pe=r.visualDrawType,_e=oe.get("itemWidth"),$e=oe.get("itemHeight"),xe=oe.isSelected($),Oe=V.get("symbolRotate"),Ce=V.get("symbolKeepAspect"),Ie=V.get("icon");ue=Ie||ue||"roundRect";var Ne=getLegendStyle(ue,V,re,le,pe,xe,he),ze=new Group$1,Fe=V.getModel("textStyle");if(isFunction$1(r.getLegendIcon)&&(!Ie||Ie==="inherit"))ze.add(r.getLegendIcon({itemWidth:_e,itemHeight:$e,icon:ue,iconRotate:Oe,itemStyle:Ne.itemStyle,lineStyle:Ne.lineStyle,symbolKeepAspect:Ce}));else{var Ue=Ie==="inherit"&&r.getData().getVisual("symbol")?Oe==="inherit"?r.getData().getVisual("symbolRotate"):Oe:0;ze.add(getDefaultLegendIcon({itemWidth:_e,itemHeight:$e,icon:ue,iconRotate:Ue,itemStyle:Ne.itemStyle,lineStyle:Ne.lineStyle,symbolKeepAspect:Ce}))}var At=ae==="left"?_e+5:-5,Et=ae,Pt=oe.get("formatter"),kt=$;isString$1(Pt)&&Pt?kt=Pt.replace("{name}",$!=null?$:""):isFunction$1(Pt)&&(kt=Pt($));var Dt=V.get("inactiveColor");ze.add(new ZRText$1({style:createTextStyle(Fe,{text:kt,x:At,y:$e/2,fill:xe?Fe.getTextColor():Dt,align:Et,verticalAlign:"middle"})}));var Lt=new Rect$3({shape:ze.getBoundingRect(),invisible:!0}),hn=V.getModel("tooltip");return hn.get("show")&&setTooltipConfig({el:Lt,componentModel:oe,itemName:$,itemTooltipOption:hn.option}),ze.add(Lt),ze.eachChild(function(vn){vn.silent=!0}),Lt.silent=!de,this.getContentGroup().add(ze),enableHoverEmphasis(ze),ze.__legendDataIndex=L,ze},n.prototype.layoutInner=function(r,$,L,V,oe,ae){var re=this.getContentGroup(),le=this.getSelectorGroup();box(r.get("orient"),re,r.get("itemGap"),L.width,L.height);var ue=re.getBoundingRect(),de=[-ue.x,-ue.y];if(le.markRedraw(),re.markRedraw(),oe){box("horizontal",le,r.get("selectorItemGap",!0));var he=le.getBoundingRect(),pe=[-he.x,-he.y],_e=r.get("selectorButtonGap",!0),$e=r.getOrient().index,xe=$e===0?"width":"height",Oe=$e===0?"height":"width",Ce=$e===0?"y":"x";ae==="end"?pe[$e]+=ue[xe]+_e:de[$e]+=he[xe]+_e,pe[1-$e]+=ue[Oe]/2-he[Oe]/2,le.x=pe[0],le.y=pe[1],re.x=de[0],re.y=de[1];var Ie={x:0,y:0};return Ie[xe]=ue[xe]+_e+he[xe],Ie[Oe]=Math.max(ue[Oe],he[Oe]),Ie[Ce]=Math.min(0,he[Ce]+pe[1-$e]),Ie}else return re.x=de[0],re.y=de[1],this.group.getBoundingRect()},n.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},n.type="legend.plain",n}(ComponentView$1);function getLegendStyle(g,n,r,$,L,V,oe){function ae(xe,Oe){xe.lineWidth==="auto"&&(xe.lineWidth=Oe.lineWidth>0?2:0),each$3(xe,function(Ce,Ie){xe[Ie]==="inherit"&&(xe[Ie]=Oe[Ie])})}var re=n.getModel("itemStyle"),le=re.getItemStyle(),ue=g.lastIndexOf("empty",0)===0?"fill":"stroke",de=re.getShallow("decal");le.decal=!de||de==="inherit"?$.decal:createOrUpdatePatternFromDecal(de,oe),le.fill==="inherit"&&(le.fill=$[L]),le.stroke==="inherit"&&(le.stroke=$[ue]),le.opacity==="inherit"&&(le.opacity=(L==="fill"?$:r).opacity),ae(le,$);var he=n.getModel("lineStyle"),pe=he.getLineStyle();if(ae(pe,r),le.fill==="auto"&&(le.fill=$.fill),le.stroke==="auto"&&(le.stroke=$.fill),pe.stroke==="auto"&&(pe.stroke=$.fill),!V){var _e=n.get("inactiveBorderWidth"),$e=le[ue];le.lineWidth=_e==="auto"?$.lineWidth>0&&$e?2:0:le.lineWidth,le.fill=n.get("inactiveColor"),le.stroke=n.get("inactiveBorderColor"),pe.stroke=he.get("inactiveColor"),pe.lineWidth=he.get("inactiveWidth")}return{itemStyle:le,lineStyle:pe}}function getDefaultLegendIcon(g){var n=g.icon||"roundRect",r=createSymbol$1(n,0,0,g.itemWidth,g.itemHeight,g.itemStyle.fill,g.symbolKeepAspect);return r.setStyle(g.itemStyle),r.rotation=(g.iconRotate||0)*Math.PI/180,r.setOrigin([g.itemWidth/2,g.itemHeight/2]),n.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function dispatchSelectAction(g,n,r,$){dispatchDownplayAction(g,n,r,$),r.dispatchAction({type:"legendToggleSelect",name:g!=null?g:n}),dispatchHighlightAction(g,n,r,$)}function isUseHoverLayer(g){for(var n=g.getZr().storage.getDisplayList(),r,$=0,L=n.length;$<L&&!(r=n[$].states.emphasis);)$++;return r&&r.hoverLayer}function dispatchHighlightAction(g,n,r,$){isUseHoverLayer(r)||r.dispatchAction({type:"highlight",seriesName:g,name:n,excludeSeriesId:$})}function dispatchDownplayAction(g,n,r,$){isUseHoverLayer(r)||r.dispatchAction({type:"downplay",seriesName:g,name:n,excludeSeriesId:$})}const LegendView$1=LegendView;function legendFilter(g){var n=g.findComponents({mainType:"legend"});n&&n.length&&g.filterSeries(function(r){for(var $=0;$<n.length;$++)if(!n[$].isSelected(r.name))return!1;return!0})}function legendSelectActionHandler(g,n,r){var $={},L=g==="toggleSelected",V;return r.eachComponent("legend",function(oe){L&&V!=null?oe[V?"select":"unSelect"](n.name):g==="allSelect"||g==="inverseSelect"?oe[g]():(oe[g](n.name),V=oe.isSelected(n.name));var ae=oe.getData();each$f(ae,function(re){var le=re.get("name");if(!(le===`
`||le==="")){var ue=oe.isSelected(le);$.hasOwnProperty(le)?$[le]=$[le]&&ue:$[le]=ue}})}),g==="allSelect"||g==="inverseSelect"?{selected:$}:{name:n.name,selected:$}}function installLegendAction(g){g.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),g.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),g.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),g.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),g.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$c(g){g.registerComponentModel(LegendModel$1),g.registerComponentView(LegendView$1),g.registerProcessor(g.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),g.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(g)}var ScrollableLegendModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},n.prototype.init=function(r,$,L){var V=getLayoutParams(r);g.prototype.init.call(this,r,$,L),mergeAndNormalizeLayoutParams(this,r,V)},n.prototype.mergeOption=function(r,$){g.prototype.mergeOption.call(this,r,$),mergeAndNormalizeLayoutParams(this,this.option,r)},n.type="legend.scroll",n.defaultOption=inheritDefaultOption(LegendModel$1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),n}(LegendModel$1);function mergeAndNormalizeLayoutParams(g,n,r){var $=g.getOrient(),L=[1,1];L[$.index]=0,mergeLayoutParam(n,r,{type:"box",ignoreSize:!!L})}const ScrollableLegendModel$1=ScrollableLegendModel;var Group=Group$4,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.newlineDisabled=!0,r._currentIndex=0,r}return n.prototype.init=function(){g.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},n.prototype.resetInner=function(){g.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},n.prototype.renderInner=function(r,$,L,V,oe,ae,re){var le=this;g.prototype.renderInner.call(this,r,$,L,V,oe,ae,re);var ue=this._controllerGroup,de=$.get("pageIconSize",!0),he=isArray$2(de)?de:[de,de];_e("pagePrev",0);var pe=$.getModel("pageTextStyle");ue.add(new ZRText$1({name:"pageText",style:{text:"xx/xx",fill:pe.getTextColor(),font:pe.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),_e("pageNext",1);function _e($e,xe){var Oe=$e+"DataIndex",Ce=createIcon($.get("pageIcons",!0)[$.getOrient().name][xe],{onclick:bind$2(le._pageGo,le,Oe,$,V)},{x:-he[0]/2,y:-he[1]/2,width:he[0],height:he[1]});Ce.name=$e,ue.add(Ce)}},n.prototype.layoutInner=function(r,$,L,V,oe,ae){var re=this.getSelectorGroup(),le=r.getOrient().index,ue=WH[le],de=XY[le],he=WH[1-le],pe=XY[1-le];oe&&box("horizontal",re,r.get("selectorItemGap",!0));var _e=r.get("selectorButtonGap",!0),$e=re.getBoundingRect(),xe=[-$e.x,-$e.y],Oe=clone$4(L);oe&&(Oe[ue]=L[ue]-$e[ue]-_e);var Ce=this._layoutContentAndController(r,V,Oe,le,ue,he,pe,de);if(oe){if(ae==="end")xe[le]+=Ce[ue]+_e;else{var Ie=$e[ue]+_e;xe[le]-=Ie,Ce[de]-=Ie}Ce[ue]+=$e[ue]+_e,xe[1-le]+=Ce[pe]+Ce[he]/2-$e[he]/2,Ce[he]=Math.max(Ce[he],$e[he]),Ce[pe]=Math.min(Ce[pe],$e[pe]+xe[1-le]),re.x=xe[0],re.y=xe[1],re.markRedraw()}return Ce},n.prototype._layoutContentAndController=function(r,$,L,V,oe,ae,re,le){var ue=this.getContentGroup(),de=this._containerGroup,he=this._controllerGroup;box(r.get("orient"),ue,r.get("itemGap"),V?L.width:null,V?null:L.height),box("horizontal",he,r.get("pageButtonItemGap",!0));var pe=ue.getBoundingRect(),_e=he.getBoundingRect(),$e=this._showController=pe[oe]>L[oe],xe=[-pe.x,-pe.y];$||(xe[V]=ue[le]);var Oe=[0,0],Ce=[-_e.x,-_e.y],Ie=retrieve2(r.get("pageButtonGap",!0),r.get("itemGap",!0));if($e){var Ne=r.get("pageButtonPosition",!0);Ne==="end"?Ce[V]+=L[oe]-_e[oe]:Oe[V]+=_e[oe]+Ie}Ce[1-V]+=pe[ae]/2-_e[ae]/2,ue.setPosition(xe),de.setPosition(Oe),he.setPosition(Ce);var ze={x:0,y:0};if(ze[oe]=$e?L[oe]:pe[oe],ze[ae]=Math.max(pe[ae],_e[ae]),ze[re]=Math.min(0,_e[re]+Ce[1-V]),de.__rectSize=L[oe],$e){var Fe={x:0,y:0};Fe[oe]=Math.max(L[oe]-_e[oe]-Ie,0),Fe[ae]=ze[ae],de.setClipPath(new Rect$3({shape:Fe})),de.__rectSize=Fe[oe]}else he.eachChild(function(At){At.attr({invisible:!0,silent:!0})});var Ue=this._getPageInfo(r);return Ue.pageIndex!=null&&updateProps$1(ue,{x:Ue.contentPosition[0],y:Ue.contentPosition[1]},$e?r:null),this._updatePageInfoView(r,Ue),ze},n.prototype._pageGo=function(r,$,L){var V=this._getPageInfo($)[r];V!=null&&L.dispatchAction({type:"legendScroll",scrollDataIndex:V,legendId:$.id})},n.prototype._updatePageInfoView=function(r,$){var L=this._controllerGroup;each$f(["pagePrev","pageNext"],function(ue){var de=ue+"DataIndex",he=$[de]!=null,pe=L.childOfName(ue);pe&&(pe.setStyle("fill",he?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),pe.cursor=he?"pointer":"default")});var V=L.childOfName("pageText"),oe=r.get("pageFormatter"),ae=$.pageIndex,re=ae!=null?ae+1:0,le=$.pageCount;V&&oe&&V.setStyle("text",isString$1(oe)?oe.replace("{current}",re==null?"":re+"").replace("{total}",le==null?"":le+""):oe({current:re,total:le}))},n.prototype._getPageInfo=function(r){var $=r.get("scrollDataIndex",!0),L=this.getContentGroup(),V=this._containerGroup.__rectSize,oe=r.getOrient().index,ae=WH[oe],re=XY[oe],le=this._findTargetItemIndex($),ue=L.children(),de=ue[le],he=ue.length,pe=he?1:0,_e={contentPosition:[L.x,L.y],pageCount:pe,pageIndex:pe-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!de)return _e;var $e=Ne(de);_e.contentPosition[oe]=-$e.s;for(var xe=le+1,Oe=$e,Ce=$e,Ie=null;xe<=he;++xe)Ie=Ne(ue[xe]),(!Ie&&Ce.e>Oe.s+V||Ie&&!ze(Ie,Oe.s))&&(Ce.i>Oe.i?Oe=Ce:Oe=Ie,Oe&&(_e.pageNextDataIndex==null&&(_e.pageNextDataIndex=Oe.i),++_e.pageCount)),Ce=Ie;for(var xe=le-1,Oe=$e,Ce=$e,Ie=null;xe>=-1;--xe)Ie=Ne(ue[xe]),(!Ie||!ze(Ce,Ie.s))&&Oe.i<Ce.i&&(Ce=Oe,_e.pagePrevDataIndex==null&&(_e.pagePrevDataIndex=Oe.i),++_e.pageCount,++_e.pageIndex),Oe=Ie;return _e;function Ne(Fe){if(Fe){var Ue=Fe.getBoundingRect(),At=Ue[re]+Fe[re];return{s:At,e:At+Ue[ae],i:Fe.__legendDataIndex}}}function ze(Fe,Ue){return Fe.e>=Ue&&Fe.s<=Ue+V}},n.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var $,L=this.getContentGroup(),V;return L.eachChild(function(oe,ae){var re=oe.__legendDataIndex;V==null&&re!=null&&(V=ae),re===r&&($=ae)}),$!=null?$:V},n.type="legend.scroll",n}(LegendView$1);const ScrollableLegendView$1=ScrollableLegendView;function installScrollableLegendAction(g){g.registerAction("legendScroll","legendscroll",function(n,r){var $=n.scrollDataIndex;$!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:n},function(L){L.setScrollDataIndex($)})})}function install$b(g){use(install$c),g.registerComponentModel(ScrollableLegendModel$1),g.registerComponentView(ScrollableLegendView$1),installScrollableLegendAction(g)}function install$a(g){use(install$c),use(install$b)}var InsideZoomModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.inside",n.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),n}(DataZoomModel$1);const InsideZoomModel$1=InsideZoomModel;var inner$1=makeInner();function setViewInfoToCoordSysRecord(g,n,r){inner$1(g).coordSysRecordMap.each(function($){var L=$.dataZoomInfoMap.get(n.uid);L&&(L.getRange=r)})}function disposeCoordSysRecordIfNeeded(g,n){for(var r=inner$1(g).coordSysRecordMap,$=r.keys(),L=0;L<$.length;L++){var V=$[L],oe=r.get(V),ae=oe.dataZoomInfoMap;if(ae){var re=n.uid,le=ae.get(re);le&&(ae.removeKey(re),ae.keys().length||disposeCoordSysRecord(r,oe))}}}function disposeCoordSysRecord(g,n){if(n){g.removeKey(n.model.uid);var r=n.controller;r&&r.dispose()}}function createCoordSysRecord(g,n){var r={model:n,containsPoint:curry$1(containsPoint,n),dispatchAction:curry$1(dispatchAction,g),dataZoomInfoMap:null,controller:null},$=r.controller=new RoamController$1(g.getZr());return each$f(["pan","zoom","scrollMove"],function(L){$.on(L,function(V){var oe=[];r.dataZoomInfoMap.each(function(ae){if(V.isAvailableBehavior(ae.model.option)){var re=(ae.getRange||{})[L],le=re&&re(ae.dzReferCoordSysInfo,r.model.mainType,r.controller,V);!ae.model.get("disabled",!0)&&le&&oe.push({dataZoomId:ae.model.id,start:le[0],end:le[1]})}}),oe.length&&r.dispatchAction(oe)})}),r}function dispatchAction(g,n){g.isDisposed()||g.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:n})}function containsPoint(g,n,r,$){return g.coordinateSystem.containPoint([r,$])}function mergeControllerParams(g){var n,r="type_",$={type_true:2,type_move:1,type_false:0,type_undefined:-1},L=!0;return g.each(function(V){var oe=V.model,ae=oe.get("disabled",!0)?!1:oe.get("zoomLock",!0)?"move":!0;$[r+ae]>$[r+n]&&(n=ae),L=L&&oe.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!L}}}function installDataZoomRoamProcessor(g){g.registerProcessor(g.PRIORITY.PROCESSOR.FILTER,function(n,r){var $=inner$1(r),L=$.coordSysRecordMap||($.coordSysRecordMap=createHashMap());L.each(function(V){V.dataZoomInfoMap=null}),n.eachComponent({mainType:"dataZoom",subType:"inside"},function(V){var oe=collectReferCoordSysModelInfo(V);each$f(oe.infoList,function(ae){var re=ae.model.uid,le=L.get(re)||L.set(re,createCoordSysRecord(r,ae.model)),ue=le.dataZoomInfoMap||(le.dataZoomInfoMap=createHashMap());ue.set(V.uid,{dzReferCoordSysInfo:ae,model:V,getRange:null})})}),L.each(function(V){var oe=V.controller,ae,re=V.dataZoomInfoMap;if(re){var le=re.keys()[0];le!=null&&(ae=re.get(le))}if(!ae){disposeCoordSysRecord(L,V);return}var ue=mergeControllerParams(re);oe.enable(ue.controlType,ue.opt),oe.setPointerChecker(V.containsPoint),createOrUpdate(V,"dispatchAction",ae.model.get("throttle",!0),"fixRate")})})}var InsideZoomView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="dataZoom.inside",r}return n.prototype.render=function(r,$,L){if(g.prototype.render.apply(this,arguments),r.noTarget()){this._clear();return}this.range=r.getPercentRange(),setViewInfoToCoordSysRecord(L,r,{pan:bind$2(getRangeHandlers.pan,this),zoom:bind$2(getRangeHandlers.zoom,this),scrollMove:bind$2(getRangeHandlers.scrollMove,this)})},n.prototype.dispose=function(){this._clear(),g.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},n.type="dataZoom.inside",n}(DataZoomView$1),getRangeHandlers={zoom:function(g,n,r,$){var L=this.range,V=L.slice(),oe=g.axisModels[0];if(oe){var ae=getDirectionInfo[n](null,[$.originX,$.originY],oe,r,g),re=(ae.signal>0?ae.pixelStart+ae.pixelLength-ae.pixel:ae.pixel-ae.pixelStart)/ae.pixelLength*(V[1]-V[0])+V[0],le=Math.max(1/$.scale,0);V[0]=(V[0]-re)*le+re,V[1]=(V[1]-re)*le+re;var ue=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,V,[0,100],0,ue.minSpan,ue.maxSpan),this.range=V,L[0]!==V[0]||L[1]!==V[1])return V}},pan:makeMover(function(g,n,r,$,L,V){var oe=getDirectionInfo[$]([V.oldX,V.oldY],[V.newX,V.newY],n,L,r);return oe.signal*(g[1]-g[0])*oe.pixel/oe.pixelLength}),scrollMove:makeMover(function(g,n,r,$,L,V){var oe=getDirectionInfo[$]([0,0],[V.scrollDelta,V.scrollDelta],n,L,r);return oe.signal*(g[1]-g[0])*V.scrollDelta})};function makeMover(g){return function(n,r,$,L){var V=this.range,oe=V.slice(),ae=n.axisModels[0];if(ae){var re=g(oe,ae,n,r,$,L);if(sliderMove(re,oe,[0,100],"all"),this.range=oe,V[0]!==oe[0]||V[1]!==oe[1])return oe}}}var getDirectionInfo={grid:function(g,n,r,$,L){var V=r.axis,oe={},ae=L.model.coordinateSystem.getRect();return g=g||[0,0],V.dim==="x"?(oe.pixel=n[0]-g[0],oe.pixelLength=ae.width,oe.pixelStart=ae.x,oe.signal=V.inverse?1:-1):(oe.pixel=n[1]-g[1],oe.pixelLength=ae.height,oe.pixelStart=ae.y,oe.signal=V.inverse?-1:1),oe},polar:function(g,n,r,$,L){var V=r.axis,oe={},ae=L.model.coordinateSystem,re=ae.getRadiusAxis().getExtent(),le=ae.getAngleAxis().getExtent();return g=g?ae.pointToCoord(g):[0,0],n=ae.pointToCoord(n),r.mainType==="radiusAxis"?(oe.pixel=n[0]-g[0],oe.pixelLength=re[1]-re[0],oe.pixelStart=re[0],oe.signal=V.inverse?1:-1):(oe.pixel=n[1]-g[1],oe.pixelLength=le[1]-le[0],oe.pixelStart=le[0],oe.signal=V.inverse?-1:1),oe},singleAxis:function(g,n,r,$,L){var V=r.axis,oe=L.model.coordinateSystem.getRect(),ae={};return g=g||[0,0],V.orient==="horizontal"?(ae.pixel=n[0]-g[0],ae.pixelLength=oe.width,ae.pixelStart=oe.x,ae.signal=V.inverse?1:-1):(ae.pixel=n[1]-g[1],ae.pixelLength=oe.height,ae.pixelStart=oe.y,ae.signal=V.inverse?-1:1),ae}};const InsideZoomView$1=InsideZoomView;function install$9(g){installCommon$1(g),g.registerComponentModel(InsideZoomModel$1),g.registerComponentView(InsideZoomView$1),installDataZoomRoamProcessor(g)}var SliderZoomModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.slider",n.layoutMode="box",n.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),n}(DataZoomModel$1);const SliderZoomModel$1=SliderZoomModel;var Rect=Rect$3,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._displayables={},r}return n.prototype.init=function(r,$){this.api=$,this._onBrush=bind$2(this._onBrush,this),this._onBrushEnd=bind$2(this._onBrushEnd,this)},n.prototype.render=function(r,$,L,V){if(g.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",r.get("throttle"),"fixRate"),this._orient=r.getOrient(),r.get("show")===!1){this.group.removeAll();return}if(r.noTarget()){this._clear(),this.group.removeAll();return}(!V||V.type!=="dataZoom"||V.from!==this.uid)&&this._buildView(),this._updateView()},n.prototype.dispose=function(){this._clear(),g.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){clear$1(this,"_dispatchZoomAction");var r=this.api.getZr();r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)},n.prototype._buildView=function(){var r=this.group;r.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var $=this._displayables.sliderGroup=new Group$4;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),r.add($),this._positionGroup()},n.prototype._resetLocation=function(){var r=this.dataZoomModel,$=this.api,L=r.get("brushSelect"),V=L?DEFAULT_MOVE_HANDLE_SIZE:0,oe=this._findCoordRect(),ae={width:$.getWidth(),height:$.getHeight()},re=this._orient===HORIZONTAL?{right:ae.width-oe.x-oe.width,top:ae.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-V,width:oe.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:oe.y,width:DEFAULT_FILLER_SIZE,height:oe.height},le=getLayoutParams(r.option);each$f(["right","top","width","height"],function(de){le[de]==="ph"&&(le[de]=re[de])});var ue=getLayoutRect(le,ae);this._location={x:ue.x,y:ue.y},this._size=[ue.width,ue.height],this._orient===VERTICAL&&this._size.reverse()},n.prototype._positionGroup=function(){var r=this.group,$=this._location,L=this._orient,V=this.dataZoomModel.getFirstTargetAxisModel(),oe=V&&V.get("inverse"),ae=this._displayables.sliderGroup,re=(this._dataShadowInfo||{}).otherAxisInverse;ae.attr(L===HORIZONTAL&&!oe?{scaleY:re?1:-1,scaleX:1}:L===HORIZONTAL&&oe?{scaleY:re?1:-1,scaleX:-1}:L===VERTICAL&&!oe?{scaleY:re?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:re?-1:1,scaleX:-1,rotation:Math.PI/2});var le=r.getBoundingRect([ae]);r.x=$.x-le.x,r.y=$.y-le.y,r.markRedraw()},n.prototype._getViewExtent=function(){return[0,this._size[0]]},n.prototype._renderBackground=function(){var r=this.dataZoomModel,$=this._size,L=this._displayables.sliderGroup,V=r.get("brushSelect");L.add(new Rect({silent:!0,shape:{x:0,y:0,width:$[0],height:$[1]},style:{fill:r.get("backgroundColor")},z2:-40}));var oe=new Rect({shape:{x:0,y:0,width:$[0],height:$[1]},style:{fill:"transparent"},z2:0,onclick:bind$2(this._onClickPanel,this)}),ae=this.api.getZr();V?(oe.on("mousedown",this._onBrushStart,this),oe.cursor="crosshair",ae.on("mousemove",this._onBrush),ae.on("mouseup",this._onBrushEnd)):(ae.off("mousemove",this._onBrush),ae.off("mouseup",this._onBrushEnd)),L.add(oe)},n.prototype._renderDataShadow=function(){var r=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!r)return;var $=this._size,L=this._shadowSize||[],V=r.series,oe=V.getRawData(),ae=V.getShadowDim&&V.getShadowDim(),re=ae&&oe.getDimensionInfo(ae)?V.getShadowDim():r.otherDim;if(re==null)return;var le=this._shadowPolygonPts,ue=this._shadowPolylinePts;if(oe!==this._shadowData||re!==this._shadowDim||$[0]!==L[0]||$[1]!==L[1]){var de=oe.getDataExtent(re),he=(de[1]-de[0])*.3;de=[de[0]-he,de[1]+he];var pe=[0,$[1]],_e=[0,$[0]],$e=[[$[0],0],[0,0]],xe=[],Oe=_e[1]/(oe.count()-1),Ce=0,Ie=Math.round(oe.count()/$[0]),Ne;oe.each([re],function(Et,Pt){if(Ie>0&&Pt%Ie){Ce+=Oe;return}var kt=Et==null||isNaN(Et)||Et==="",Dt=kt?0:linearMap$2(Et,de,pe,!0);kt&&!Ne&&Pt?($e.push([$e[$e.length-1][0],0]),xe.push([xe[xe.length-1][0],0])):!kt&&Ne&&($e.push([Ce,0]),xe.push([Ce,0])),$e.push([Ce,Dt]),xe.push([Ce,Dt]),Ce+=Oe,Ne=kt}),le=this._shadowPolygonPts=$e,ue=this._shadowPolylinePts=xe}this._shadowData=oe,this._shadowDim=re,this._shadowSize=[$[0],$[1]];var ze=this.dataZoomModel;function Fe(Et){var Pt=ze.getModel(Et?"selectedDataBackground":"dataBackground"),kt=new Group$4,Dt=new Polygon$1({shape:{points:le},segmentIgnoreThreshold:1,style:Pt.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Lt=new Polyline$3({shape:{points:ue},segmentIgnoreThreshold:1,style:Pt.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return kt.add(Dt),kt.add(Lt),kt}for(var Ue=0;Ue<3;Ue++){var At=Fe(Ue===1);this._displayables.sliderGroup.add(At),this._displayables.dataShadowSegs.push(At)}},n.prototype._prepareDataShadowInfo=function(){var r=this.dataZoomModel,$=r.get("showDataShadow");if($!==!1){var L,V=this.ecModel;return r.eachTargetAxis(function(oe,ae){var re=r.getAxisProxy(oe,ae).getTargetSeriesModels();each$f(re,function(le){if(!L&&!($!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,le.get("type"))<0)){var ue=V.getComponent(getAxisMainType(oe),ae).axis,de=getOtherDim(oe),he,pe=le.coordinateSystem;de!=null&&pe.getOtherAxis&&(he=pe.getOtherAxis(ue).inverse),de=le.getData().mapDimension(de),L={thisAxis:ue,series:le,thisDim:oe,otherDim:de,otherAxisInverse:he}}},this)},this),L}},n.prototype._renderHandle=function(){var r=this.group,$=this._displayables,L=$.handles=[null,null],V=$.handleLabels=[null,null],oe=this._displayables.sliderGroup,ae=this._size,re=this.dataZoomModel,le=this.api,ue=re.get("borderRadius")||0,de=re.get("brushSelect"),he=$.filler=new Rect({silent:de,style:{fill:re.get("fillerColor")},textConfig:{position:"inside"}});oe.add(he),oe.add(new Rect({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:ae[0],height:ae[1],r:ue},style:{stroke:re.get("dataBackgroundColor")||re.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),each$f([0,1],function(Ie){var Ne=re.get("handleIcon");!symbolBuildProxies[Ne]&&Ne.indexOf("path://")<0&&Ne.indexOf("image://")<0&&(Ne="path://"+Ne);var ze=createSymbol$1(Ne,-1,0,2,2,null,!0);ze.attr({cursor:getCursor$1(this._orient),draggable:!0,drift:bind$2(this._onDragMove,this,Ie),ondragend:bind$2(this._onDragEnd,this),onmouseover:bind$2(this._showDataInfo,this,!0),onmouseout:bind$2(this._showDataInfo,this,!1),z2:5});var Fe=ze.getBoundingRect(),Ue=re.get("handleSize");this._handleHeight=parsePercent(Ue,this._size[1]),this._handleWidth=Fe.width/Fe.height*this._handleHeight,ze.setStyle(re.getModel("handleStyle").getItemStyle()),ze.style.strokeNoScale=!0,ze.rectHover=!0,ze.ensureState("emphasis").style=re.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(ze);var At=re.get("handleColor");At!=null&&(ze.style.fill=At),oe.add(L[Ie]=ze);var Et=re.getModel("textStyle");r.add(V[Ie]=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle(Et,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:Et.getTextColor(),font:Et.getFont()}),z2:10}))},this);var pe=he;if(de){var _e=parsePercent(re.get("moveHandleSize"),ae[1]),$e=$.moveHandle=new Rect$3({style:re.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:ae[1]-.5,height:_e}}),xe=_e*.8,Oe=$.moveHandleIcon=createSymbol$1(re.get("moveHandleIcon"),-xe/2,-xe/2,xe,xe,"#fff",!0);Oe.silent=!0,Oe.y=ae[1]+_e/2-.5,$e.ensureState("emphasis").style=re.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var Ce=Math.min(ae[1]/2,Math.max(_e,10));pe=$.moveZone=new Rect$3({invisible:!0,shape:{y:ae[1]-Ce,height:_e+Ce}}),pe.on("mouseover",function(){le.enterEmphasis($e)}).on("mouseout",function(){le.leaveEmphasis($e)}),oe.add($e),oe.add(Oe),oe.add(pe)}pe.attr({draggable:!0,cursor:getCursor$1(this._orient),drift:bind$2(this._onDragMove,this,"all"),ondragstart:bind$2(this._showDataInfo,this,!0),ondragend:bind$2(this._onDragEnd,this),onmouseover:bind$2(this._showDataInfo,this,!0),onmouseout:bind$2(this._showDataInfo,this,!1)})},n.prototype._resetInterval=function(){var r=this._range=this.dataZoomModel.getPercentRange(),$=this._getViewExtent();this._handleEnds=[linearMap$2(r[0],[0,100],$,!0),linearMap$2(r[1],[0,100],$,!0)]},n.prototype._updateInterval=function(r,$){var L=this.dataZoomModel,V=this._handleEnds,oe=this._getViewExtent(),ae=L.findRepresentativeAxisProxy().getMinMaxSpan(),re=[0,100];sliderMove($,V,oe,L.get("zoomLock")?"all":r,ae.minSpan!=null?linearMap$2(ae.minSpan,re,oe,!0):null,ae.maxSpan!=null?linearMap$2(ae.maxSpan,re,oe,!0):null);var le=this._range,ue=this._range=asc$2([linearMap$2(V[0],oe,re,!0),linearMap$2(V[1],oe,re,!0)]);return!le||le[0]!==ue[0]||le[1]!==ue[1]},n.prototype._updateView=function(r){var $=this._displayables,L=this._handleEnds,V=asc$2(L.slice()),oe=this._size;each$f([0,1],function(pe){var _e=$.handles[pe],$e=this._handleHeight;_e.attr({scaleX:$e/2,scaleY:$e/2,x:L[pe]+(pe?-1:1),y:oe[1]/2-$e/2})},this),$.filler.setShape({x:V[0],y:0,width:V[1]-V[0],height:oe[1]});var ae={x:V[0],width:V[1]-V[0]};$.moveHandle&&($.moveHandle.setShape(ae),$.moveZone.setShape(ae),$.moveZone.getBoundingRect(),$.moveHandleIcon&&$.moveHandleIcon.attr("x",ae.x+ae.width/2));for(var re=$.dataShadowSegs,le=[0,V[0],V[1],oe[0]],ue=0;ue<re.length;ue++){var de=re[ue],he=de.getClipPath();he||(he=new Rect$3,de.setClipPath(he)),he.setShape({x:le[ue],y:0,width:le[ue+1]-le[ue],height:oe[1]})}this._updateDataInfo(r)},n.prototype._updateDataInfo=function(r){var $=this.dataZoomModel,L=this._displayables,V=L.handleLabels,oe=this._orient,ae=["",""];if($.get("showDetail")){var re=$.findRepresentativeAxisProxy();if(re){var le=re.getAxisModel().axis,ue=this._range,de=r?re.calculateDataWindow({start:ue[0],end:ue[1]}).valueWindow:re.getDataValueWindow();ae=[this._formatLabel(de[0],le),this._formatLabel(de[1],le)]}}var he=asc$2(this._handleEnds.slice());pe.call(this,0),pe.call(this,1);function pe(_e){var $e=getTransform$1(L.handles[_e].parent,this.group),xe=transformDirection(_e===0?"right":"left",$e),Oe=this._handleWidth/2+LABEL_GAP,Ce=applyTransform([he[_e]+(_e===0?-Oe:Oe),this._size[1]/2],$e);V[_e].setStyle({x:Ce[0],y:Ce[1],verticalAlign:oe===HORIZONTAL?"middle":xe,align:oe===HORIZONTAL?xe:"center",text:ae[_e]})}},n.prototype._formatLabel=function(r,$){var L=this.dataZoomModel,V=L.get("labelFormatter"),oe=L.get("labelPrecision");(oe==null||oe==="auto")&&(oe=$.getPixelPrecision());var ae=r==null||isNaN(r)?"":$.type==="category"||$.type==="time"?$.scale.getLabel({value:Math.round(r)}):r.toFixed(Math.min(oe,20));return isFunction$1(V)?V(r,ae):isString$1(V)?V.replace("{value}",ae):ae},n.prototype._showDataInfo=function(r){r=this._dragging||r;var $=this._displayables,L=$.handleLabels;L[0].attr("invisible",!r),L[1].attr("invisible",!r),$.moveHandle&&this.api[r?"enterEmphasis":"leaveEmphasis"]($.moveHandle,1)},n.prototype._onDragMove=function(r,$,L,V){this._dragging=!0,stop(V.event);var oe=this._displayables.sliderGroup.getLocalTransform(),ae=applyTransform([$,L],oe,!0),re=this._updateInterval(r,ae[0]),le=this.dataZoomModel.get("realtime");this._updateView(!le),re&&le&&this._dispatchZoomAction(!0)},n.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var r=this.dataZoomModel.get("realtime");!r&&this._dispatchZoomAction(!1)},n.prototype._onClickPanel=function(r){var $=this._size,L=this._displayables.sliderGroup.transformCoordToLocal(r.offsetX,r.offsetY);if(!(L[0]<0||L[0]>$[0]||L[1]<0||L[1]>$[1])){var V=this._handleEnds,oe=(V[0]+V[1])/2,ae=this._updateInterval("all",L[0]-oe);this._updateView(),ae&&this._dispatchZoomAction(!1)}},n.prototype._onBrushStart=function(r){var $=r.offsetX,L=r.offsetY;this._brushStart=new Point$1($,L),this._brushing=!0,this._brushStartTime=+new Date},n.prototype._onBrushEnd=function(r){if(this._brushing){var $=this._displayables.brushRect;if(this._brushing=!1,!!$){$.attr("ignore",!0);var L=$.shape,V=+new Date;if(!(V-this._brushStartTime<200&&Math.abs(L.width)<5)){var oe=this._getViewExtent(),ae=[0,100];this._range=asc$2([linearMap$2(L.x,oe,ae,!0),linearMap$2(L.x+L.width,oe,ae,!0)]),this._handleEnds=[L.x,L.x+L.width],this._updateView(),this._dispatchZoomAction(!1)}}}},n.prototype._onBrush=function(r){this._brushing&&(stop(r.event),this._updateBrushRect(r.offsetX,r.offsetY))},n.prototype._updateBrushRect=function(r,$){var L=this._displayables,V=this.dataZoomModel,oe=L.brushRect;oe||(oe=L.brushRect=new Rect({silent:!0,style:V.getModel("brushStyle").getItemStyle()}),L.sliderGroup.add(oe)),oe.attr("ignore",!1);var ae=this._brushStart,re=this._displayables.sliderGroup,le=re.transformCoordToLocal(r,$),ue=re.transformCoordToLocal(ae.x,ae.y),de=this._size;le[0]=Math.max(Math.min(de[0],le[0]),0),oe.setShape({x:ue[0],y:0,width:le[0]-ue[0],height:de[1]})},n.prototype._dispatchZoomAction=function(r){var $=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:r?REALTIME_ANIMATION_CONFIG:null,start:$[0],end:$[1]})},n.prototype._findCoordRect=function(){var r,$=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!r&&$.length){var L=$[0].model.coordinateSystem;r=L.getRect&&L.getRect()}if(!r){var V=this.api.getWidth(),oe=this.api.getHeight();r={x:V*.2,y:oe*.2,width:V*.6,height:oe*.6}}return r},n.type="dataZoom.slider",n}(DataZoomView$1);function getOtherDim(g){var n={x:"y",y:"x",radius:"angle",angle:"radius"};return n[g]}function getCursor$1(g){return g==="vertical"?"ns-resize":"ew-resize"}const SliderZoomView$1=SliderZoomView;function install$8(g){g.registerComponentModel(SliderZoomModel$1),g.registerComponentView(SliderZoomView$1),installCommon$1(g)}function install$7(g){use(install$9),use(install$8)}var visualDefault={get:function(g,n,r){var $=clone$4((defaultOption[g]||{})[n]);return r&&isArray$2($)?$[$.length-1]:$}},defaultOption={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const visualDefault$1=visualDefault;var mapVisual=VisualMapping$1.mapVisual,eachVisual=VisualMapping$1.eachVisual,isArray$1=isArray$2,each$2=each$f,asc=asc$2,linearMap$1=linearMap$2,VisualMapModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.stateList=["inRange","outOfRange"],r.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],r.layoutMode={type:"box",ignoreSize:!0},r.dataBound=[-1/0,1/0],r.targetVisuals={},r.controllerVisuals={},r}return n.prototype.init=function(r,$,L){this.mergeDefaultAndTheme(r,L)},n.prototype.optionUpdated=function(r,$){var L=this.option;!$&&replaceVisualOption(L,r,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},n.prototype.resetVisual=function(r){var $=this.stateList;r=bind$2(r,this),this.controllerVisuals=createVisualMappings(this.option.controller,$,r),this.targetVisuals=createVisualMappings(this.option.target,$,r)},n.prototype.getItemSymbol=function(){return null},n.prototype.getTargetSeriesIndices=function(){var r=this.option.seriesIndex,$=[];return r==null||r==="all"?this.ecModel.eachSeries(function(L,V){$.push(V)}):$=normalizeToArray(r),$},n.prototype.eachTargetSeries=function(r,$){each$f(this.getTargetSeriesIndices(),function(L){var V=this.ecModel.getSeriesByIndex(L);V&&r.call($,V)},this)},n.prototype.isTargetSeries=function(r){var $=!1;return this.eachTargetSeries(function(L){L===r&&($=!0)}),$},n.prototype.formatValueText=function(r,$,L){var V=this.option,oe=V.precision,ae=this.dataBound,re=V.formatter,le;L=L||["<",">"],isArray$2(r)&&(r=r.slice(),le=!0);var ue=$?r:le?[de(r[0]),de(r[1])]:de(r);if(isString$1(re))return re.replace("{value}",le?ue[0]:ue).replace("{value2}",le?ue[1]:ue);if(isFunction$1(re))return le?re(r[0],r[1]):re(r);if(le)return r[0]===ae[0]?L[0]+" "+ue[1]:r[1]===ae[1]?L[1]+" "+ue[0]:ue[0]+" - "+ue[1];return ue;function de(he){return he===ae[0]?"min":he===ae[1]?"max":(+he).toFixed(Math.min(oe,20))}},n.prototype.resetExtent=function(){var r=this.option,$=asc([r.min,r.max]);this._dataExtent=$},n.prototype.getDataDimensionIndex=function(r){var $=this.option.dimension;if($!=null)return r.getDimensionIndex($);for(var L=r.dimensions,V=L.length-1;V>=0;V--){var oe=L[V],ae=r.getDimensionInfo(oe);if(!ae.isCalculationCoord)return ae.storeDimIndex}},n.prototype.getExtent=function(){return this._dataExtent.slice()},n.prototype.completeVisualOption=function(){var r=this.ecModel,$=this.option,L={inRange:$.inRange,outOfRange:$.outOfRange},V=$.target||($.target={}),oe=$.controller||($.controller={});merge$1(V,L),merge$1(oe,L);var ae=this.isCategory();re.call(this,V),re.call(this,oe),le.call(this,V,"inRange","outOfRange"),ue.call(this,oe);function re(de){isArray$1($.color)&&!de.inRange&&(de.inRange={color:$.color.slice().reverse()}),de.inRange=de.inRange||{color:r.get("gradientColor")}}function le(de,he,pe){var _e=de[he],$e=de[pe];_e&&!$e&&($e=de[pe]={},each$2(_e,function(xe,Oe){if(VisualMapping$1.isValidType(Oe)){var Ce=visualDefault$1.get(Oe,"inactive",ae);Ce!=null&&($e[Oe]=Ce,Oe==="color"&&!$e.hasOwnProperty("opacity")&&!$e.hasOwnProperty("colorAlpha")&&($e.opacity=[0,0]))}}))}function ue(de){var he=(de.inRange||{}).symbol||(de.outOfRange||{}).symbol,pe=(de.inRange||{}).symbolSize||(de.outOfRange||{}).symbolSize,_e=this.get("inactiveColor"),$e=this.getItemSymbol(),xe=$e||"roundRect";each$2(this.stateList,function(Oe){var Ce=this.itemSize,Ie=de[Oe];Ie||(Ie=de[Oe]={color:ae?_e:[_e]}),Ie.symbol==null&&(Ie.symbol=he&&clone$4(he)||(ae?xe:[xe])),Ie.symbolSize==null&&(Ie.symbolSize=pe&&clone$4(pe)||(ae?Ce[0]:[Ce[0],Ce[0]])),Ie.symbol=mapVisual(Ie.symbol,function(Fe){return Fe==="none"?xe:Fe});var Ne=Ie.symbolSize;if(Ne!=null){var ze=-1/0;eachVisual(Ne,function(Fe){Fe>ze&&(ze=Fe)}),Ie.symbolSize=mapVisual(Ne,function(Fe){return linearMap$1(Fe,[0,ze],[0,Ce[0]],!0)})}},this)}},n.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},n.prototype.isCategory=function(){return!!this.option.categories},n.prototype.setSelected=function(r){},n.prototype.getSelected=function(){return null},n.prototype.getValueState=function(r){return null},n.prototype.getVisualMeta=function(r){return null},n.type="visualMap",n.dependencies=["series"],n.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},n}(ComponentModel$1);const VisualMapModel$1=VisualMapModel;var DEFAULT_BAR_BOUND=[20,140],ContinuousModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(r,$){g.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(L){L.mappingMethod="linear",L.dataExtent=this.getExtent()}),this._resetRange()},n.prototype.resetItemSize=function(){g.prototype.resetItemSize.apply(this,arguments);var r=this.itemSize;(r[0]==null||isNaN(r[0]))&&(r[0]=DEFAULT_BAR_BOUND[0]),(r[1]==null||isNaN(r[1]))&&(r[1]=DEFAULT_BAR_BOUND[1])},n.prototype._resetRange=function(){var r=this.getExtent(),$=this.option.range;!$||$.auto?(r.auto=1,this.option.range=r):isArray$2($)&&($[0]>$[1]&&$.reverse(),$[0]=Math.max($[0],r[0]),$[1]=Math.min($[1],r[1]))},n.prototype.completeVisualOption=function(){g.prototype.completeVisualOption.apply(this,arguments),each$f(this.stateList,function(r){var $=this.option.controller[r].symbolSize;$&&$[0]!==$[1]&&($[0]=$[1]/3)},this)},n.prototype.setSelected=function(r){this.option.range=r.slice(),this._resetRange()},n.prototype.getSelected=function(){var r=this.getExtent(),$=asc$2((this.get("range")||[]).slice());return $[0]>r[1]&&($[0]=r[1]),$[1]>r[1]&&($[1]=r[1]),$[0]<r[0]&&($[0]=r[0]),$[1]<r[0]&&($[1]=r[0]),$},n.prototype.getValueState=function(r){var $=this.option.range,L=this.getExtent();return($[0]<=L[0]||$[0]<=r)&&($[1]>=L[1]||r<=$[1])?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(r){var $=[];return this.eachTargetSeries(function(L){var V=[],oe=L.getData();oe.each(this.getDataDimensionIndex(oe),function(ae,re){r[0]<=ae&&ae<=r[1]&&V.push(re)},this),$.push({seriesId:L.id,dataIndex:V})},this),$},n.prototype.getVisualMeta=function(r){var $=getColorStopValues(this,"outOfRange",this.getExtent()),L=getColorStopValues(this,"inRange",this.option.range.slice()),V=[];function oe(pe,_e){V.push({value:pe,color:r(pe,_e)})}for(var ae=0,re=0,le=L.length,ue=$.length;re<ue&&(!L.length||$[re]<=L[0]);re++)$[re]<L[ae]&&oe($[re],"outOfRange");for(var de=1;ae<le;ae++,de=0)de&&V.length&&oe(L[ae],"outOfRange"),oe(L[ae],"inRange");for(var de=1;re<ue;re++)(!L.length||L[L.length-1]<$[re])&&(de&&(V.length&&oe(V[V.length-1].value,"outOfRange"),de=0),oe($[re],"outOfRange"));var he=V.length;return{stops:V,outerColors:[he?V[0].color:"transparent",he?V[he-1].color:"transparent"]}},n.type="visualMap.continuous",n.defaultOption=inheritDefaultOption(VisualMapModel$1.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),n}(VisualMapModel$1);function getColorStopValues(g,n,r){if(r[0]===r[1])return r.slice();for(var $=200,L=(r[1]-r[0])/$,V=r[0],oe=[],ae=0;ae<=$&&V<r[1];ae++)oe.push(V),V+=L;return oe.push(r[1]),oe}const ContinuousModel$1=ContinuousModel;var VisualMapView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.autoPositionValues={left:1,right:1,top:1,bottom:1},r}return n.prototype.init=function(r,$){this.ecModel=r,this.api=$},n.prototype.render=function(r,$,L,V){if(this.visualMapModel=r,r.get("show")===!1){this.group.removeAll();return}this.doRender(r,$,L,V)},n.prototype.renderBackground=function(r){var $=this.visualMapModel,L=normalizeCssArray($.get("padding")||0),V=r.getBoundingRect();r.add(new Rect$3({z2:-1,silent:!0,shape:{x:V.x-L[3],y:V.y-L[0],width:V.width+L[3]+L[1],height:V.height+L[0]+L[2]},style:{fill:$.get("backgroundColor"),stroke:$.get("borderColor"),lineWidth:$.get("borderWidth")}}))},n.prototype.getControllerVisual=function(r,$,L){L=L||{};var V=L.forceState,oe=this.visualMapModel,ae={};if($==="color"){var re=oe.get("contentColor");ae.color=re}function le(pe){return ae[pe]}function ue(pe,_e){ae[pe]=_e}var de=oe.controllerVisuals[V||oe.getValueState(r)],he=VisualMapping$1.prepareVisualTypes(de);return each$f(he,function(pe){var _e=de[pe];L.convertOpacityToAlpha&&pe==="opacity"&&(pe="colorAlpha",_e=de.__alphaForOpacity),VisualMapping$1.dependsOn(pe,$)&&_e&&_e.applyVisual(r,le,ue)}),ae[$]},n.prototype.positionGroup=function(r){var $=this.visualMapModel,L=this.api;positionElement(r,$.getBoxLayoutParams(),{width:L.getWidth(),height:L.getHeight()})},n.prototype.doRender=function(r,$,L,V){},n.type="visualMap",n}(ComponentView$1);const VisualMapView$1=VisualMapView;var paramsSet=[["left","right","width"],["top","bottom","height"]];function getItemAlign(g,n,r){var $=g.option,L=$.align;if(L!=null&&L!=="auto")return L;for(var V={width:n.getWidth(),height:n.getHeight()},oe=$.orient==="horizontal"?1:0,ae=paramsSet[oe],re=[0,null,10],le={},ue=0;ue<3;ue++)le[paramsSet[1-oe][ue]]=re[ue],le[ae[ue]]=ue===2?r[0]:$[ae[ue]];var de=[["x","width",3],["y","height",0]][oe],he=getLayoutRect(le,V,$.padding);return ae[(he.margin[de[2]]||0)+he[de[0]]+he[de[1]]*.5<V[de[1]]*.5?0:1]}function makeHighDownBatch(g,n){return each$f(g||[],function(r){r.dataIndex!=null&&(r.dataIndexInside=r.dataIndex,r.dataIndex=null),r.highlightKey="visualMap"+(n?n.componentIndex:"")}),g}var linearMap=linearMap$2,each$1=each$f,mathMin=Math.min,mathMax=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._shapes={},r._dataInterval=[],r._handleEnds=[],r._hoverLinkDataIndices=[],r}return n.prototype.doRender=function(r,$,L,V){this._api=L,(!V||V.type!=="selectDataRange"||V.from!==this.uid)&&this._buildView()},n.prototype._buildView=function(){this.group.removeAll();var r=this.visualMapModel,$=this.group;this._orient=r.get("orient"),this._useHandle=r.get("calculable"),this._resetInterval(),this._renderBar($);var L=r.get("text");this._renderEndsText($,L,0),this._renderEndsText($,L,1),this._updateView(!0),this.renderBackground($),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup($)},n.prototype._renderEndsText=function(r,$,L){if($){var V=$[1-L];V=V!=null?V+"":"";var oe=this.visualMapModel,ae=oe.get("textGap"),re=oe.itemSize,le=this._shapes.mainGroup,ue=this._applyTransform([re[0]/2,L===0?-ae:re[1]+ae],le),de=this._applyTransform(L===0?"bottom":"top",le),he=this._orient,pe=this.visualMapModel.textStyleModel;this.group.add(new ZRText$1({style:createTextStyle(pe,{x:ue[0],y:ue[1],verticalAlign:he==="horizontal"?"middle":de,align:he==="horizontal"?de:"center",text:V})}))}},n.prototype._renderBar=function(r){var $=this.visualMapModel,L=this._shapes,V=$.itemSize,oe=this._orient,ae=this._useHandle,re=getItemAlign($,this.api,V),le=L.mainGroup=this._createBarGroup(re),ue=new Group$4;le.add(ue),ue.add(L.outOfRange=createPolygon()),ue.add(L.inRange=createPolygon(null,ae?getCursor(this._orient):null,bind$2(this._dragHandle,this,"all",!1),bind$2(this._dragHandle,this,"all",!0))),ue.setClipPath(new Rect$3({shape:{x:0,y:0,width:V[0],height:V[1],r:3}}));var de=$.textStyleModel.getTextRect("\u56FD"),he=mathMax(de.width,de.height);ae&&(L.handleThumbs=[],L.handleLabels=[],L.handleLabelPoints=[],this._createHandle($,le,0,V,he,oe),this._createHandle($,le,1,V,he,oe)),this._createIndicator($,le,V,he,oe),r.add(le)},n.prototype._createHandle=function(r,$,L,V,oe,ae){var re=bind$2(this._dragHandle,this,L,!1),le=bind$2(this._dragHandle,this,L,!0),ue=parsePercent$1(r.get("handleSize"),V[0]),de=createSymbol$1(r.get("handleIcon"),-ue/2,-ue/2,ue,ue,null,!0),he=getCursor(this._orient);de.attr({cursor:he,draggable:!0,drift:re,ondragend:le,onmousemove:function(Oe){stop(Oe.event)}}),de.x=V[0]/2,de.useStyle(r.getModel("handleStyle").getItemStyle()),de.setStyle({strokeNoScale:!0,strokeFirst:!0}),de.style.lineWidth*=2,de.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(de,!0),$.add(de);var pe=this.visualMapModel.textStyleModel,_e=new ZRText$1({cursor:he,draggable:!0,drift:re,onmousemove:function(Oe){stop(Oe.event)},ondragend:le,style:createTextStyle(pe,{x:0,y:0,text:""})});_e.ensureState("blur").style={opacity:.1},_e.stateTransition={duration:200},this.group.add(_e);var $e=[ue,0],xe=this._shapes;xe.handleThumbs[L]=de,xe.handleLabelPoints[L]=$e,xe.handleLabels[L]=_e},n.prototype._createIndicator=function(r,$,L,V,oe){var ae=parsePercent$1(r.get("indicatorSize"),L[0]),re=createSymbol$1(r.get("indicatorIcon"),-ae/2,-ae/2,ae,ae,null,!0);re.attr({cursor:"move",invisible:!0,silent:!0,x:L[0]/2});var le=r.getModel("indicatorStyle").getItemStyle();if(re instanceof ZRImage$1){var ue=re.style;re.useStyle(extend$1({image:ue.image,x:ue.x,y:ue.y,width:ue.width,height:ue.height},le))}else re.useStyle(le);$.add(re);var de=this.visualMapModel.textStyleModel,he=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle(de,{x:0,y:0,text:""})});this.group.add(he);var pe=[(oe==="horizontal"?V/2:HOVER_LINK_OUT)+L[0]/2,0],_e=this._shapes;_e.indicator=re,_e.indicatorLabel=he,_e.indicatorLabelPoint=pe,this._firstShowIndicator=!0},n.prototype._dragHandle=function(r,$,L,V){if(this._useHandle){if(this._dragging=!$,!$){var oe=this._applyTransform([L,V],this._shapes.mainGroup,!0);this._updateInterval(r,oe[1]),this._hideIndicator(),this._updateView()}$===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),$?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[r],!1)}},n.prototype._resetInterval=function(){var r=this.visualMapModel,$=this._dataInterval=r.getSelected(),L=r.getExtent(),V=[0,r.itemSize[1]];this._handleEnds=[linearMap($[0],L,V,!0),linearMap($[1],L,V,!0)]},n.prototype._updateInterval=function(r,$){$=$||0;var L=this.visualMapModel,V=this._handleEnds,oe=[0,L.itemSize[1]];sliderMove($,V,oe,r,0);var ae=L.getExtent();this._dataInterval=[linearMap(V[0],oe,ae,!0),linearMap(V[1],oe,ae,!0)]},n.prototype._updateView=function(r){var $=this.visualMapModel,L=$.getExtent(),V=this._shapes,oe=[0,$.itemSize[1]],ae=r?oe:this._handleEnds,re=this._createBarVisual(this._dataInterval,L,ae,"inRange"),le=this._createBarVisual(L,L,oe,"outOfRange");V.inRange.setStyle({fill:re.barColor}).setShape("points",re.barPoints),V.outOfRange.setStyle({fill:le.barColor}).setShape("points",le.barPoints),this._updateHandle(ae,re)},n.prototype._createBarVisual=function(r,$,L,V){var oe={forceState:V,convertOpacityToAlpha:!0},ae=this._makeColorGradient(r,oe),re=[this.getControllerVisual(r[0],"symbolSize",oe),this.getControllerVisual(r[1],"symbolSize",oe)],le=this._createBarPoints(L,re);return{barColor:new LinearGradient$1(0,0,0,1,ae),barPoints:le,handlesColor:[ae[0].color,ae[ae.length-1].color]}},n.prototype._makeColorGradient=function(r,$){var L=100,V=[],oe=(r[1]-r[0])/L;V.push({color:this.getControllerVisual(r[0],"color",$),offset:0});for(var ae=1;ae<L;ae++){var re=r[0]+oe*ae;if(re>r[1])break;V.push({color:this.getControllerVisual(re,"color",$),offset:ae/L})}return V.push({color:this.getControllerVisual(r[1],"color",$),offset:1}),V},n.prototype._createBarPoints=function(r,$){var L=this.visualMapModel.itemSize;return[[L[0]-$[0],r[0]],[L[0],r[0]],[L[0],r[1]],[L[0]-$[1],r[1]]]},n.prototype._createBarGroup=function(r){var $=this._orient,L=this.visualMapModel.get("inverse");return new Group$4($==="horizontal"&&!L?{scaleX:r==="bottom"?1:-1,rotation:Math.PI/2}:$==="horizontal"&&L?{scaleX:r==="bottom"?-1:1,rotation:-Math.PI/2}:$==="vertical"&&!L?{scaleX:r==="left"?1:-1,scaleY:-1}:{scaleX:r==="left"?1:-1})},n.prototype._updateHandle=function(r,$){if(this._useHandle){var L=this._shapes,V=this.visualMapModel,oe=L.handleThumbs,ae=L.handleLabels,re=V.itemSize,le=V.getExtent();each$1([0,1],function(ue){var de=oe[ue];de.setStyle("fill",$.handlesColor[ue]),de.y=r[ue];var he=linearMap(r[ue],[0,re[1]],le,!0),pe=this.getControllerVisual(he,"symbolSize");de.scaleX=de.scaleY=pe/re[0],de.x=re[0]-pe/2;var _e=applyTransform(L.handleLabelPoints[ue],getTransform$1(de,this.group));ae[ue].setStyle({x:_e[0],y:_e[1],text:V.formatValueText(this._dataInterval[ue]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",L.mainGroup):"center"})},this)}},n.prototype._showIndicator=function(r,$,L,V){var oe=this.visualMapModel,ae=oe.getExtent(),re=oe.itemSize,le=[0,re[1]],ue=this._shapes,de=ue.indicator;if(de){de.attr("invisible",!1);var he={convertOpacityToAlpha:!0},pe=this.getControllerVisual(r,"color",he),_e=this.getControllerVisual(r,"symbolSize"),$e=linearMap(r,ae,le,!0),xe=re[0]-_e/2,Oe={x:de.x,y:de.y};de.y=$e,de.x=xe;var Ce=applyTransform(ue.indicatorLabelPoint,getTransform$1(de,this.group)),Ie=ue.indicatorLabel;Ie.attr("invisible",!1);var Ne=this._applyTransform("left",ue.mainGroup),ze=this._orient,Fe=ze==="horizontal";Ie.setStyle({text:(L||"")+oe.formatValueText($),verticalAlign:Fe?Ne:"middle",align:Fe?"center":Ne});var Ue={x:xe,y:$e,style:{fill:pe}},At={style:{x:Ce[0],y:Ce[1]}};if(oe.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var Et={duration:100,easing:"cubicInOut",additive:!0};de.x=Oe.x,de.y=Oe.y,de.animateTo(Ue,Et),Ie.animateTo(At,Et)}else de.attr(Ue),Ie.attr(At);this._firstShowIndicator=!1;var Pt=this._shapes.handleLabels;if(Pt)for(var kt=0;kt<Pt.length;kt++)this._api.enterBlur(Pt[kt])}},n.prototype._enableHoverLinkToSeries=function(){var r=this;this._shapes.mainGroup.on("mousemove",function($){if(r._hovering=!0,!r._dragging){var L=r.visualMapModel.itemSize,V=r._applyTransform([$.offsetX,$.offsetY],r._shapes.mainGroup,!0,!0);V[1]=mathMin(mathMax(0,V[1]),L[1]),r._doHoverLinkToSeries(V[1],0<=V[0]&&V[0]<=L[0])}}).on("mouseout",function(){r._hovering=!1,!r._dragging&&r._clearHoverLinkToSeries()})},n.prototype._enableHoverLinkFromSeries=function(){var r=this.api.getZr();this.visualMapModel.option.hoverLink?(r.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),r.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},n.prototype._doHoverLinkToSeries=function(r,$){var L=this.visualMapModel,V=L.itemSize;if(L.option.hoverLink){var oe=[0,V[1]],ae=L.getExtent();r=mathMin(mathMax(oe[0],r),oe[1]);var re=getHalfHoverLinkSize(L,ae,oe),le=[r-re,r+re],ue=linearMap(r,oe,ae,!0),de=[linearMap(le[0],oe,ae,!0),linearMap(le[1],oe,ae,!0)];le[0]<oe[0]&&(de[0]=-1/0),le[1]>oe[1]&&(de[1]=1/0),$&&(de[0]===-1/0?this._showIndicator(ue,de[1],"< ",re):de[1]===1/0?this._showIndicator(ue,de[0],"> ",re):this._showIndicator(ue,ue,"\u2248 ",re));var he=this._hoverLinkDataIndices,pe=[];($||useHoverLinkOnHandle(L))&&(pe=this._hoverLinkDataIndices=L.findTargetDataIndices(de));var _e=compressBatches(he,pe);this._dispatchHighDown("downplay",makeHighDownBatch(_e[0],L)),this._dispatchHighDown("highlight",makeHighDownBatch(_e[1],L))}},n.prototype._hoverLinkFromSeriesMouseOver=function(r){var $;if(findEventDispatcher(r.target,function(re){var le=getECData(re);if(le.dataIndex!=null)return $=le,!0},!0),!!$){var L=this.ecModel.getSeriesByIndex($.seriesIndex),V=this.visualMapModel;if(V.isTargetSeries(L)){var oe=L.getData($.dataType),ae=oe.getStore().get(V.getDataDimensionIndex(oe),$.dataIndex);isNaN(ae)||this._showIndicator(ae,ae)}}},n.prototype._hideIndicator=function(){var r=this._shapes;r.indicator&&r.indicator.attr("invisible",!0),r.indicatorLabel&&r.indicatorLabel.attr("invisible",!0);var $=this._shapes.handleLabels;if($)for(var L=0;L<$.length;L++)this._api.leaveBlur($[L])},n.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var r=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(r,this.visualMapModel)),r.length=0},n.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var r=this.api.getZr();r.off("mouseover",this._hoverLinkFromSeriesMouseOver),r.off("mouseout",this._hideIndicator)},n.prototype._applyTransform=function(r,$,L,V){var oe=getTransform$1($,V?null:this.group);return isArray$2(r)?applyTransform(r,oe,L):transformDirection(r,oe,L)},n.prototype._dispatchHighDown=function(r,$){$&&$.length&&this.api.dispatchAction({type:r,batch:$})},n.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.type="visualMap.continuous",n}(VisualMapView$1);function createPolygon(g,n,r,$){return new Polygon$1({shape:{points:g},draggable:!!r,cursor:n,drift:r,onmousemove:function(L){stop(L.event)},ondragend:$})}function getHalfHoverLinkSize(g,n,r){var $=HOVER_LINK_SIZE/2,L=g.get("hoverLinkDataSize");return L&&($=linearMap(L,n,r,!0)/2),$}function useHoverLinkOnHandle(g){var n=g.get("hoverLinkOnHandle");return!!(n!=null?n:g.get("realtime"))}function getCursor(g){return g==="vertical"?"ns-resize":"ew-resize"}const ContinuousView$1=ContinuousView;var visualMapActionInfo={type:"selectDataRange",event:"dataRangeSelected",update:"update"},visualMapActionHander=function(g,n){n.eachComponent({mainType:"visualMap",query:g},function(r){r.setSelected(g.selected)})},visualMapEncodingHandlers=[{createOnAllSeries:!0,reset:function(g,n){var r=[];return n.eachComponent("visualMap",function($){var L=g.pipelineContext;!$.isTargetSeries(g)||L&&L.large||r.push(incrementalApplyVisual($.stateList,$.targetVisuals,bind$2($.getValueState,$),$.getDataDimensionIndex(g.getData())))}),r}},{createOnAllSeries:!0,reset:function(g,n){var r=g.getData(),$=[];n.eachComponent("visualMap",function(L){if(L.isTargetSeries(g)){var V=L.getVisualMeta(bind$2(getColorVisual,null,g,L))||{stops:[],outerColors:[]},oe=L.getDataDimensionIndex(r);oe>=0&&(V.dimension=oe,$.push(V))}}),g.getData().setVisual("visualMeta",$)}}];function getColorVisual(g,n,r,$){for(var L=n.targetVisuals[$],V=VisualMapping$1.prepareVisualTypes(L),oe={color:getVisualFromData(g.getData(),"color")},ae=0,re=V.length;ae<re;ae++){var le=V[ae],ue=L[le==="opacity"?"__alphaForOpacity":le];ue&&ue.applyVisual(r,de,he)}return oe.color;function de(pe){return oe[pe]}function he(pe,_e){oe[pe]=_e}}var each=each$f;function visualMapPreprocessor(g){var n=g&&g.visualMap;isArray$2(n)||(n=n?[n]:[]),each(n,function(r){if(r){has(r,"splitList")&&!has(r,"pieces")&&(r.pieces=r.splitList,delete r.splitList);var $=r.pieces;$&&isArray$2($)&&each($,function(L){isObject$4(L)&&(has(L,"start")&&!has(L,"min")&&(L.min=L.start),has(L,"end")&&!has(L,"max")&&(L.max=L.end))})}})}function has(g,n){return g&&g.hasOwnProperty&&g.hasOwnProperty(n)}var installed=!1;function installCommon(g){installed||(installed=!0,g.registerSubTypeDefaulter("visualMap",function(n){return!n.categories&&(!(n.pieces?n.pieces.length>0:n.splitNumber>0)||n.calculable)?"continuous":"piecewise"}),g.registerAction(visualMapActionInfo,visualMapActionHander),each$f(visualMapEncodingHandlers,function(n){g.registerVisual(g.PRIORITY.VISUAL.COMPONENT,n)}),g.registerPreprocessor(visualMapPreprocessor))}function install$6(g){g.registerComponentModel(ContinuousModel$1),g.registerComponentView(ContinuousView$1),installCommon(g)}var PiecewiseModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._pieceList=[],r}return n.prototype.optionUpdated=function(r,$){g.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var L=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(r,$);var V=this.option.categories;this.resetVisual(function(oe,ae){L==="categories"?(oe.mappingMethod="category",oe.categories=clone$4(V)):(oe.dataExtent=this.getExtent(),oe.mappingMethod="piecewise",oe.pieceList=map$1(this._pieceList,function(re){return re=clone$4(re),ae!=="inRange"&&(re.visual=null),re}))})},n.prototype.completeVisualOption=function(){var r=this.option,$={},L=VisualMapping$1.listVisualTypes(),V=this.isCategory();each$f(r.pieces,function(ae){each$f(L,function(re){ae.hasOwnProperty(re)&&($[re]=1)})}),each$f($,function(ae,re){var le=!1;each$f(this.stateList,function(ue){le=le||oe(r,ue,re)||oe(r.target,ue,re)},this),!le&&each$f(this.stateList,function(ue){(r[ue]||(r[ue]={}))[re]=visualDefault$1.get(re,ue==="inRange"?"active":"inactive",V)})},this);function oe(ae,re,le){return ae&&ae[re]&&ae[re].hasOwnProperty(le)}g.prototype.completeVisualOption.apply(this,arguments)},n.prototype._resetSelected=function(r,$){var L=this.option,V=this._pieceList,oe=($?L:r).selected||{};if(L.selected=oe,each$f(V,function(re,le){var ue=this.getSelectedMapKey(re);oe.hasOwnProperty(ue)||(oe[ue]=!0)},this),L.selectedMode==="single"){var ae=!1;each$f(V,function(re,le){var ue=this.getSelectedMapKey(re);oe[ue]&&(ae?oe[ue]=!1:ae=!0)},this)}},n.prototype.getItemSymbol=function(){return this.get("itemSymbol")},n.prototype.getSelectedMapKey=function(r){return this._mode==="categories"?r.value+"":r.index+""},n.prototype.getPieceList=function(){return this._pieceList},n.prototype._determineMode=function(){var r=this.option;return r.pieces&&r.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},n.prototype.setSelected=function(r){this.option.selected=clone$4(r)},n.prototype.getValueState=function(r){var $=VisualMapping$1.findPieceIndex(r,this._pieceList);return $!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[$])]?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(r){var $=[],L=this._pieceList;return this.eachTargetSeries(function(V){var oe=[],ae=V.getData();ae.each(this.getDataDimensionIndex(ae),function(re,le){var ue=VisualMapping$1.findPieceIndex(re,L);ue===r&&oe.push(le)},this),$.push({seriesId:V.id,dataIndex:oe})},this),$},n.prototype.getRepresentValue=function(r){var $;if(this.isCategory())$=r.value;else if(r.value!=null)$=r.value;else{var L=r.interval||[];$=L[0]===-1/0&&L[1]===1/0?0:(L[0]+L[1])/2}return $},n.prototype.getVisualMeta=function(r){if(this.isCategory())return;var $=[],L=["",""],V=this;function oe(ue,de){var he=V.getRepresentValue({interval:ue});de||(de=V.getValueState(he));var pe=r(he,de);ue[0]===-1/0?L[0]=pe:ue[1]===1/0?L[1]=pe:$.push({value:ue[0],color:pe},{value:ue[1],color:pe})}var ae=this._pieceList.slice();if(!ae.length)ae.push({interval:[-1/0,1/0]});else{var re=ae[0].interval[0];re!==-1/0&&ae.unshift({interval:[-1/0,re]}),re=ae[ae.length-1].interval[1],re!==1/0&&ae.push({interval:[re,1/0]})}var le=-1/0;return each$f(ae,function(ue){var de=ue.interval;de&&(de[0]>le&&oe([le,de[0]],"outOfRange"),oe(de.slice()),le=de[1])},this),{stops:$,outerColors:L}},n.type="visualMap.piecewise",n.defaultOption=inheritDefaultOption(VisualMapModel$1.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),n}(VisualMapModel$1),resetMethods={splitNumber:function(g){var n=this.option,r=Math.min(n.precision,20),$=this.getExtent(),L=n.splitNumber;L=Math.max(parseInt(L,10),1),n.splitNumber=L;for(var V=($[1]-$[0])/L;+V.toFixed(r)!==V&&r<5;)r++;n.precision=r,V=+V.toFixed(r),n.minOpen&&g.push({interval:[-1/0,$[0]],close:[0,0]});for(var oe=0,ae=$[0];oe<L;ae+=V,oe++){var re=oe===L-1?$[1]:ae+V;g.push({interval:[ae,re],close:[1,1]})}n.maxOpen&&g.push({interval:[$[1],1/0],close:[0,0]}),reformIntervals(g),each$f(g,function(le,ue){le.index=ue,le.text=this.formatValueText(le.interval)},this)},categories:function(g){var n=this.option;each$f(n.categories,function(r){g.push({text:this.formatValueText(r,!0),value:r})},this),normalizeReverse(n,g)},pieces:function(g){var n=this.option;each$f(n.pieces,function(r,$){isObject$4(r)||(r={value:r});var L={text:"",index:$};if(r.label!=null&&(L.text=r.label),r.hasOwnProperty("value")){var V=L.value=r.value;L.interval=[V,V],L.close=[1,1]}else{for(var oe=L.interval=[],ae=L.close=[0,0],re=[1,0,1],le=[-1/0,1/0],ue=[],de=0;de<2;de++){for(var he=[["gte","gt","min"],["lte","lt","max"]][de],pe=0;pe<3&&oe[de]==null;pe++)oe[de]=r[he[pe]],ae[de]=re[pe],ue[de]=pe===2;oe[de]==null&&(oe[de]=le[de])}ue[0]&&oe[1]===1/0&&(ae[0]=0),ue[1]&&oe[0]===-1/0&&(ae[1]=0),oe[0]===oe[1]&&ae[0]&&ae[1]&&(L.value=oe[0])}L.visual=VisualMapping$1.retrieveVisuals(r),g.push(L)},this),normalizeReverse(n,g),reformIntervals(g),each$f(g,function(r){var $=r.close,L=[["<","\u2264"][$[1]],[">","\u2265"][$[0]]];r.text=r.text||this.formatValueText(r.value!=null?r.value:r.interval,!1,L)},this)}};function normalizeReverse(g,n){var r=g.inverse;(g.orient==="vertical"?!r:r)&&n.reverse()}const PiecewiseModel$1=PiecewiseModel;var PiecewiseVisualMapView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.doRender=function(){var r=this.group;r.removeAll();var $=this.visualMapModel,L=$.get("textGap"),V=$.textStyleModel,oe=V.getFont(),ae=V.getTextColor(),re=this._getItemAlign(),le=$.itemSize,ue=this._getViewData(),de=ue.endsText,he=retrieve($.get("showLabel",!0),!de);de&&this._renderEndsText(r,de[0],le,he,re),each$f(ue.viewPieceList,function(pe){var _e=pe.piece,$e=new Group$4;$e.onclick=bind$2(this._onItemClick,this,_e),this._enableHoverLink($e,pe.indexInModelPieceList);var xe=$.getRepresentValue(_e);if(this._createItemSymbol($e,xe,[0,0,le[0],le[1]]),he){var Oe=this.visualMapModel.getValueState(xe);$e.add(new ZRText$1({style:{x:re==="right"?-L:le[0]+L,y:le[1]/2,text:_e.text,verticalAlign:"middle",align:re,font:oe,fill:ae,opacity:Oe==="outOfRange"?.5:1}}))}r.add($e)},this),de&&this._renderEndsText(r,de[1],le,he,re),box($.get("orient"),r,$.get("itemGap")),this.renderBackground(r),this.positionGroup(r)},n.prototype._enableHoverLink=function(r,$){var L=this;r.on("mouseover",function(){return V("highlight")}).on("mouseout",function(){return V("downplay")});var V=function(oe){var ae=L.visualMapModel;ae.option.hoverLink&&L.api.dispatchAction({type:oe,batch:makeHighDownBatch(ae.findTargetDataIndices($),ae)})}},n.prototype._getItemAlign=function(){var r=this.visualMapModel,$=r.option;if($.orient==="vertical")return getItemAlign(r,this.api,r.itemSize);var L=$.align;return(!L||L==="auto")&&(L="left"),L},n.prototype._renderEndsText=function(r,$,L,V,oe){if($){var ae=new Group$4,re=this.visualMapModel.textStyleModel;ae.add(new ZRText$1({style:createTextStyle(re,{x:V?oe==="right"?L[0]:0:L[0]/2,y:L[1]/2,verticalAlign:"middle",align:V?oe:"center",text:$})})),r.add(ae)}},n.prototype._getViewData=function(){var r=this.visualMapModel,$=map$1(r.getPieceList(),function(ae,re){return{piece:ae,indexInModelPieceList:re}}),L=r.get("text"),V=r.get("orient"),oe=r.get("inverse");return(V==="horizontal"?oe:!oe)?$.reverse():L&&(L=L.slice().reverse()),{viewPieceList:$,endsText:L}},n.prototype._createItemSymbol=function(r,$,L){r.add(createSymbol$1(this.getControllerVisual($,"symbol"),L[0],L[1],L[2],L[3],this.getControllerVisual($,"color")))},n.prototype._onItemClick=function(r){var $=this.visualMapModel,L=$.option,V=L.selectedMode;if(V){var oe=clone$4(L.selected),ae=$.getSelectedMapKey(r);V==="single"||V===!0?(oe[ae]=!0,each$f(oe,function(re,le){oe[le]=le===ae})):oe[ae]=!oe[ae],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:oe})}},n.type="visualMap.piecewise",n}(VisualMapView$1);const PiecewiseView=PiecewiseVisualMapView;function install$5(g){g.registerComponentModel(PiecewiseModel$1),g.registerComponentView(PiecewiseView),installCommon(g)}function install$4(g){use(install$6),use(install$5)}var DEFAULT_OPTION={label:{enabled:!0},decal:{show:!1}},inner=makeInner(),decalPaletteScope={};function ariaVisual(g,n){var r=g.getModel("aria");if(!r.get("enabled"))return;var $=clone$4(DEFAULT_OPTION);merge$1($.label,g.getLocaleModel().get("aria"),!1),merge$1(r.option,$,!1),L(),V();function L(){var le=r.getModel("decal"),ue=le.get("show");if(ue){var de=createHashMap();g.eachSeries(function(he){if(!he.isColorBySeries()){var pe=de.get(he.type);pe||(pe={},de.set(he.type,pe)),inner(he).scope=pe}}),g.eachRawSeries(function(he){if(g.isSeriesFiltered(he))return;if(isFunction$1(he.enableAriaDecal)){he.enableAriaDecal();return}var pe=he.getData();if(he.isColorBySeries()){var _e=getDecalFromPalette(he.ecModel,he.name,decalPaletteScope,g.getSeriesCount()),$e=pe.getVisual("decal");pe.setVisual("decal",Ne($e,_e))}else{var xe=he.getRawData(),Oe={},Ce=inner(he).scope;pe.each(function(ze){var Fe=pe.getRawIndex(ze);Oe[Fe]=ze});var Ie=xe.count();xe.each(function(ze){var Fe=Oe[ze],Ue=xe.getName(ze)||ze+"",At=getDecalFromPalette(he.ecModel,Ue,Ce,Ie),Et=pe.getItemVisual(Fe,"decal");pe.setItemVisual(Fe,"decal",Ne(Et,At))})}function Ne(ze,Fe){var Ue=ze?extend$1(extend$1({},Fe),ze):Fe;return Ue.dirty=!0,Ue}})}}function V(){var le=g.getLocaleModel().get("aria"),ue=r.getModel("label");if(ue.option=defaults$2(ue.option,le),!!ue.get("enabled")){var de=n.getZr().dom;if(ue.get("description")){de.setAttribute("aria-label",ue.get("description"));return}var he=g.getSeriesCount(),pe=ue.get(["data","maxCount"])||10,_e=ue.get(["series","maxCount"])||10,$e=Math.min(he,_e),xe;if(!(he<1)){var Oe=ae();if(Oe){var Ce=ue.get(["general","withTitle"]);xe=oe(Ce,{title:Oe})}else xe=ue.get(["general","withoutTitle"]);var Ie=[],Ne=he>1?ue.get(["series","multiple","prefix"]):ue.get(["series","single","prefix"]);xe+=oe(Ne,{seriesCount:he}),g.eachSeries(function(At,Et){if(Et<$e){var Pt=void 0,kt=At.get("name"),Dt=kt?"withName":"withoutName";Pt=he>1?ue.get(["series","multiple",Dt]):ue.get(["series","single",Dt]),Pt=oe(Pt,{seriesId:At.seriesIndex,seriesName:At.get("name"),seriesType:re(At.subType)});var Lt=At.getData();if(Lt.count()>pe){var hn=ue.get(["data","partialData"]);Pt+=oe(hn,{displayCnt:pe})}else Pt+=ue.get(["data","allData"]);for(var vn=ue.get(["data","separator","middle"]),_n=ue.get(["data","separator","end"]),$n=[],Sn=0;Sn<Lt.count();Sn++)if(Sn<pe){var xn=Lt.getName(Sn),On=Lt.getValues(Sn),Cn=ue.get(["data",xn?"withName":"withoutName"]);$n.push(oe(Cn,{name:xn,value:On.join(vn)}))}Pt+=$n.join(vn)+_n,Ie.push(Pt)}});var ze=ue.getModel(["series","multiple","separator"]),Fe=ze.get("middle"),Ue=ze.get("end");xe+=Ie.join(Fe)+Ue,de.setAttribute("aria-label",xe)}}}function oe(le,ue){if(!isString$1(le))return le;var de=le;return each$f(ue,function(he,pe){de=de.replace(new RegExp("\\{\\s*"+pe+"\\s*\\}","g"),he)}),de}function ae(){var le=g.get("title");return le&&le.length&&(le=le[0]),le&&le.text}function re(le){return g.getLocaleModel().get(["series","typeNames"])[le]||"\u81EA\u5B9A\u4E49\u56FE"}}function ariaPreprocessor(g){if(!(!g||!g.aria)){var n=g.aria;n.show!=null&&(n.enabled=n.show),n.label=n.label||{},each$f(["description","general","series","data"],function(r){n[r]!=null&&(n.label[r]=n[r])})}}function install$3(g){g.registerPreprocessor(ariaPreprocessor),g.registerVisual(g.PRIORITY.VISUAL.ARIA,ariaVisual)}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},RegExpEvaluator=function(){function g(n){var r=this._condVal=isString$1(n)?new RegExp(n):isRegExp$1(n)?n:null;if(r==null){var $="";throwError($)}}return g.prototype.evaluate=function(n){var r=typeof n;return isString$1(r)?this._condVal.test(n):isNumber$1(r)?this._condVal.test(n+""):!1},g}(),ConstConditionInternal=function(){function g(){}return g.prototype.evaluate=function(){return this.value},g}(),AndConditionInternal=function(){function g(){}return g.prototype.evaluate=function(){for(var n=this.children,r=0;r<n.length;r++)if(!n[r].evaluate())return!1;return!0},g}(),OrConditionInternal=function(){function g(){}return g.prototype.evaluate=function(){for(var n=this.children,r=0;r<n.length;r++)if(n[r].evaluate())return!0;return!1},g}(),NotConditionInternal=function(){function g(){}return g.prototype.evaluate=function(){return!this.child.evaluate()},g}(),RelationalConditionInternal=function(){function g(){}return g.prototype.evaluate=function(){for(var n=!!this.valueParser,r=this.getValue,$=r(this.valueGetterParam),L=n?this.valueParser($):null,V=0;V<this.subCondList.length;V++)if(!this.subCondList[V].evaluate(n?L:$))return!1;return!0},g}();function parseOption(g,n){if(g===!0||g===!1){var r=new ConstConditionInternal;return r.value=g,r}var $="";return isObjectNotArray(g)||throwError($),g.and?parseAndOrOption("and",g,n):g.or?parseAndOrOption("or",g,n):g.not?parseNotOption(g,n):parseRelationalOption(g,n)}function parseAndOrOption(g,n,r){var $=n[g],L="";isArray$2($)||throwError(L),$.length||throwError(L);var V=g==="and"?new AndConditionInternal:new OrConditionInternal;return V.children=map$1($,function(oe){return parseOption(oe,r)}),V.children.length||throwError(L),V}function parseNotOption(g,n){var r=g.not,$="";isObjectNotArray(r)||throwError($);var L=new NotConditionInternal;return L.child=parseOption(r,n),L.child||throwError($),L}function parseRelationalOption(g,n){for(var r="",$=n.prepareGetValue(g),L=[],V=keys(g),oe=g.parser,ae=oe?getRawValueParser(oe):null,re=0;re<V.length;re++){var le=V[re];if(!(le==="parser"||n.valueGetterAttrMap.get(le))){var ue=hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP,le)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP[le]:le,de=g[le],he=ae?ae(de):de,pe=createFilterComparator(ue,he)||ue==="reg"&&new RegExpEvaluator(he);pe||throwError(r),L.push(pe)}}L.length||throwError(r);var _e=new RelationalConditionInternal;return _e.valueGetterParam=$,_e.valueParser=ae,_e.getValue=n.getValue,_e.subCondList=L,_e}function isObjectNotArray(g){return isObject$4(g)&&!isArrayLike(g)}var ConditionalExpressionParsed=function(){function g(n,r){this._cond=parseOption(n,r)}return g.prototype.evaluate=function(){return this._cond.evaluate()},g}();function parseConditionalExpression(g,n){return new ConditionalExpressionParsed(g,n)}var filterTransform={type:"echarts:filter",transform:function(g){for(var n=g.upstream,r,$=parseConditionalExpression(g.config,{valueGetterAttrMap:createHashMap({dimension:!0}),prepareGetValue:function(ae){var re="",le=ae.dimension;hasOwn(ae,"dimension")||throwError(re);var ue=n.getDimensionInfo(le);return ue||throwError(re),{dimIdx:ue.index}},getValue:function(ae){return n.retrieveValueFromItem(r,ae.dimIdx)}}),L=[],V=0,oe=n.count();V<oe;V++)r=n.getRawDataItem(V),$.evaluate()&&L.push(r);return{data:L}}},sortTransform={type:"echarts:sort",transform:function(g){var n=g.upstream,r=g.config,$="",L=normalizeToArray(r);L.length||throwError($);var V=[];each$f(L,function(ue){var de=ue.dimension,he=ue.order,pe=ue.parser,_e=ue.incomparable;if(de==null&&throwError($),he!=="asc"&&he!=="desc"&&throwError($),_e&&_e!=="min"&&_e!=="max"){var $e="";throwError($e)}if(he!=="asc"&&he!=="desc"){var xe="";throwError(xe)}var Oe=n.getDimensionInfo(de);Oe||throwError($);var Ce=pe?getRawValueParser(pe):null;pe&&!Ce&&throwError($),V.push({dimIdx:Oe.index,parser:Ce,comparator:new SortOrderComparator(he,_e)})});var oe=n.sourceFormat;oe!==SOURCE_FORMAT_ARRAY_ROWS&&oe!==SOURCE_FORMAT_OBJECT_ROWS&&throwError($);for(var ae=[],re=0,le=n.count();re<le;re++)ae.push(n.getRawDataItem(re));return ae.sort(function(ue,de){for(var he=0;he<V.length;he++){var pe=V[he],_e=n.retrieveValueFromItem(ue,pe.dimIdx),$e=n.retrieveValueFromItem(de,pe.dimIdx);pe.parser&&(_e=pe.parser(_e),$e=pe.parser($e));var xe=pe.comparator.evaluate(_e,$e);if(xe!==0)return xe}return 0}),{data:ae}}};function install$2(g){g.registerTransform(filterTransform),g.registerTransform(sortTransform)}var DatasetModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="dataset",r}return n.prototype.init=function(r,$,L){g.prototype.init.call(this,r,$,L),this._sourceManager=new SourceManager(this),disableTransformOptionMerge(this)},n.prototype.mergeOption=function(r,$){g.prototype.mergeOption.call(this,r,$),disableTransformOptionMerge(this)},n.prototype.optionUpdated=function(){this._sourceManager.dirty()},n.prototype.getSourceManager=function(){return this._sourceManager},n.type="dataset",n.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN},n}(ComponentModel$1),DatasetView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="dataset",r}return n.type="dataset",n}(ComponentView$1);function install$1(g){g.registerComponentModel(DatasetModel),g.registerComponentView(DatasetView)}var CMD=PathProxy$1.CMD;function aroundEqual(g,n){return Math.abs(g-n)<1e-5}function pathToBezierCurves(g){var n=g.data,r=g.len(),$=[],L,V=0,oe=0,ae=0,re=0;function le(Lt,hn){L&&L.length>2&&$.push(L),L=[Lt,hn]}function ue(Lt,hn,vn,_n){aroundEqual(Lt,vn)&&aroundEqual(hn,_n)||L.push(Lt,hn,vn,_n,vn,_n)}function de(Lt,hn,vn,_n,$n,Sn){var xn=Math.abs(hn-Lt),On=Math.tan(xn/4)*4/3,Cn=hn<Lt?-1:1,An=Math.cos(Lt),Rn=Math.sin(Lt),Fn=Math.cos(hn),Pn=Math.sin(hn),Un=An*$n+vn,Dn=Rn*Sn+_n,kn=Fn*$n+vn,Nn=Pn*Sn+_n,Vn=$n*On*Cn,Ln=Sn*On*Cn;L.push(Un-Vn*Rn,Dn+Ln*An,kn+Vn*Pn,Nn-Ln*Fn,kn,Nn)}for(var he,pe,_e,$e,xe=0;xe<r;){var Oe=n[xe++],Ce=xe===1;switch(Ce&&(V=n[xe],oe=n[xe+1],ae=V,re=oe,(Oe===CMD.L||Oe===CMD.C||Oe===CMD.Q)&&(L=[ae,re])),Oe){case CMD.M:V=ae=n[xe++],oe=re=n[xe++],le(ae,re);break;case CMD.L:he=n[xe++],pe=n[xe++],ue(V,oe,he,pe),V=he,oe=pe;break;case CMD.C:L.push(n[xe++],n[xe++],n[xe++],n[xe++],V=n[xe++],oe=n[xe++]);break;case CMD.Q:he=n[xe++],pe=n[xe++],_e=n[xe++],$e=n[xe++],L.push(V+.6666666666666666*(he-V),oe+.6666666666666666*(pe-oe),_e+.6666666666666666*(he-_e),$e+.6666666666666666*(pe-$e),_e,$e),V=_e,oe=$e;break;case CMD.A:var Ie=n[xe++],Ne=n[xe++],ze=n[xe++],Fe=n[xe++],Ue=n[xe++],At=n[xe++]+Ue;xe+=1;var Et=!n[xe++];he=Math.cos(Ue)*ze+Ie,pe=Math.sin(Ue)*Fe+Ne,Ce?(ae=he,re=pe,le(ae,re)):ue(V,oe,he,pe),V=Math.cos(At)*ze+Ie,oe=Math.sin(At)*Fe+Ne;for(var Pt=(Et?-1:1)*Math.PI/2,kt=Ue;Et?kt>At:kt<At;kt+=Pt){var Dt=Et?Math.max(kt+Pt,At):Math.min(kt+Pt,At);de(kt,Dt,Ie,Ne,ze,Fe)}break;case CMD.R:ae=V=n[xe++],re=oe=n[xe++],he=ae+n[xe++],pe=re+n[xe++],le(he,re),ue(he,re,he,pe),ue(he,pe,ae,pe),ue(ae,pe,ae,re),ue(ae,re,he,re);break;case CMD.Z:L&&ue(V,oe,ae,re),V=ae,oe=re;break}}return L&&L.length>2&&$.push(L),$}function adpativeBezier(g,n,r,$,L,V,oe,ae,re,le){if(aroundEqual(g,r)&&aroundEqual(n,$)&&aroundEqual(L,oe)&&aroundEqual(V,ae)){re.push(oe,ae);return}var ue=2/le,de=ue*ue,he=oe-g,pe=ae-n,_e=Math.sqrt(he*he+pe*pe);he/=_e,pe/=_e;var $e=r-g,xe=$-n,Oe=L-oe,Ce=V-ae,Ie=$e*$e+xe*xe,Ne=Oe*Oe+Ce*Ce;if(Ie<de&&Ne<de){re.push(oe,ae);return}var ze=he*$e+pe*xe,Fe=-he*Oe-pe*Ce,Ue=Ie-ze*ze,At=Ne-Fe*Fe;if(Ue<de&&ze>=0&&At<de&&Fe>=0){re.push(oe,ae);return}var Et=[],Pt=[];cubicSubdivide(g,r,L,oe,.5,Et),cubicSubdivide(n,$,V,ae,.5,Pt),adpativeBezier(Et[0],Pt[0],Et[1],Pt[1],Et[2],Pt[2],Et[3],Pt[3],re,le),adpativeBezier(Et[4],Pt[4],Et[5],Pt[5],Et[6],Pt[6],Et[7],Pt[7],re,le)}function pathToPolygons(g,n){var r=pathToBezierCurves(g),$=[];n=n||1;for(var L=0;L<r.length;L++){var V=r[L],oe=[],ae=V[0],re=V[1];oe.push(ae,re);for(var le=2;le<V.length;){var ue=V[le++],de=V[le++],he=V[le++],pe=V[le++],_e=V[le++],$e=V[le++];adpativeBezier(ae,re,ue,de,he,pe,_e,$e,oe,n),ae=_e,re=$e}$.push(oe)}return $}function getDividingGrids(g,n,r){var $=g[n],L=g[1-n],V=Math.abs($/L),oe=Math.ceil(Math.sqrt(V*r)),ae=Math.floor(r/oe);ae===0&&(ae=1,oe=r);for(var re=[],le=0;le<oe;le++)re.push(ae);var ue=oe*ae,de=r-ue;if(de>0)for(var le=0;le<de;le++)re[le%oe]+=1;return re}function divideSector(g,n,r){for(var $=g.r0,L=g.r,V=g.startAngle,oe=g.endAngle,ae=Math.abs(oe-V),re=ae*L,le=L-$,ue=re>Math.abs(le),de=getDividingGrids([re,le],ue?0:1,n),he=(ue?ae:le)/de.length,pe=0;pe<de.length;pe++)for(var _e=(ue?le:ae)/de[pe],$e=0;$e<de[pe];$e++){var xe={};ue?(xe.startAngle=V+he*pe,xe.endAngle=V+he*(pe+1),xe.r0=$+_e*$e,xe.r=$+_e*($e+1)):(xe.startAngle=V+_e*$e,xe.endAngle=V+_e*($e+1),xe.r0=$+he*pe,xe.r=$+he*(pe+1)),xe.clockwise=g.clockwise,xe.cx=g.cx,xe.cy=g.cy,r.push(xe)}}function divideRect(g,n,r){for(var $=g.width,L=g.height,V=$>L,oe=getDividingGrids([$,L],V?0:1,n),ae=V?"width":"height",re=V?"height":"width",le=V?"x":"y",ue=V?"y":"x",de=g[ae]/oe.length,he=0;he<oe.length;he++)for(var pe=g[re]/oe[he],_e=0;_e<oe[he];_e++){var $e={};$e[le]=he*de,$e[ue]=_e*pe,$e[ae]=de,$e[re]=pe,$e.x+=g.x,$e.y+=g.y,r.push($e)}}function crossProduct2d(g,n,r,$){return g*$-r*n}function lineLineIntersect(g,n,r,$,L,V,oe,ae){var re=r-g,le=$-n,ue=oe-L,de=ae-V,he=crossProduct2d(ue,de,re,le);if(Math.abs(he)<1e-6)return null;var pe=g-L,_e=n-V,$e=crossProduct2d(pe,_e,ue,de)/he;return $e<0||$e>1?null:new Point$1($e*re+g,$e*le+n)}function projPtOnLine(g,n,r){var $=new Point$1;Point$1.sub($,r,n),$.normalize();var L=new Point$1;Point$1.sub(L,g,n);var V=L.dot($);return V}function addToPoly(g,n){var r=g[g.length-1];r&&r[0]===n[0]&&r[1]===n[1]||g.push(n)}function splitPolygonByLine(g,n,r){for(var $=g.length,L=[],V=0;V<$;V++){var oe=g[V],ae=g[(V+1)%$],re=lineLineIntersect(oe[0],oe[1],ae[0],ae[1],n.x,n.y,r.x,r.y);re&&L.push({projPt:projPtOnLine(re,n,r),pt:re,idx:V})}if(L.length<2)return[{points:g},{points:g}];L.sort(function(xe,Oe){return xe.projPt-Oe.projPt});var le=L[0],ue=L[L.length-1];if(ue.idx<le.idx){var de=le;le=ue,ue=de}for(var he=[le.pt.x,le.pt.y],pe=[ue.pt.x,ue.pt.y],_e=[he],$e=[pe],V=le.idx+1;V<=ue.idx;V++)addToPoly(_e,g[V].slice());addToPoly(_e,pe),addToPoly(_e,he);for(var V=ue.idx+1;V<=le.idx+$;V++)addToPoly($e,g[V%$].slice());return addToPoly($e,he),addToPoly($e,pe),[{points:_e},{points:$e}]}function binaryDividePolygon(g){var n=g.points,r=[],$=[];fromPoints(n,r,$);var L=new BoundingRect$1(r[0],r[1],$[0]-r[0],$[1]-r[1]),V=L.width,oe=L.height,ae=L.x,re=L.y,le=new Point$1,ue=new Point$1;return V>oe?(le.x=ue.x=ae+V/2,le.y=re,ue.y=re+oe):(le.y=ue.y=re+oe/2,le.x=ae,ue.x=ae+V),splitPolygonByLine(n,le,ue)}function binaryDivideRecursive(g,n,r,$){if(r===1)$.push(n);else{var L=Math.floor(r/2),V=g(n);binaryDivideRecursive(g,V[0],L,$),binaryDivideRecursive(g,V[1],r-L,$)}return $}function clone(g,n){for(var r=[],$=0;$<n;$++)r.push(clonePath(g));return r}function copyPathProps(g,n){n.setStyle(g.style),n.z=g.z,n.z2=g.z2,n.zlevel=g.zlevel}function polygonConvert(g){for(var n=[],r=0;r<g.length;)n.push([g[r++],g[r++]]);return n}function split(g,n){var r=[],$=g.shape,L;switch(g.type){case"rect":divideRect($,n,r),L=Rect$3;break;case"sector":divideSector($,n,r),L=Sector$1;break;case"circle":divideSector({r0:0,r:$.r,startAngle:0,endAngle:Math.PI*2,cx:$.cx,cy:$.cy},n,r),L=Sector$1;break;default:var V=g.getComputedTransform(),oe=V?Math.sqrt(Math.max(V[0]*V[0]+V[1]*V[1],V[2]*V[2]+V[3]*V[3])):1,ae=map$1(pathToPolygons(g.getUpdatedPathProxy(),oe),function(Oe){return polygonConvert(Oe)}),re=ae.length;if(re===0)binaryDivideRecursive(binaryDividePolygon,{points:ae[0]},n,r);else if(re===n)for(var le=0;le<re;le++)r.push({points:ae[le]});else{var ue=0,de=map$1(ae,function(Oe){var Ce=[],Ie=[];fromPoints(Oe,Ce,Ie);var Ne=(Ie[1]-Ce[1])*(Ie[0]-Ce[0]);return ue+=Ne,{poly:Oe,area:Ne}});de.sort(function(Oe,Ce){return Ce.area-Oe.area});for(var he=n,le=0;le<re;le++){var pe=de[le];if(he<=0)break;var _e=le===re-1?he:Math.ceil(pe.area/ue*n);_e<0||(binaryDivideRecursive(binaryDividePolygon,{points:pe.poly},_e,r),he-=_e)}}L=Polygon$1;break}if(!L)return clone(g,n);for(var $e=[],le=0;le<r.length;le++){var xe=new L;xe.setShape(r[le]),copyPathProps(g,xe),$e.push(xe)}return $e}function alignSubpath(g,n){var r=g.length,$=n.length;if(r===$)return[g,n];for(var L=[],V=[],oe=r<$?g:n,ae=Math.min(r,$),re=Math.abs($-r)/6,le=(ae-2)/6,ue=Math.ceil(re/le)+1,de=[oe[0],oe[1]],he=re,pe=2;pe<ae;){var _e=oe[pe-2],$e=oe[pe-1],xe=oe[pe++],Oe=oe[pe++],Ce=oe[pe++],Ie=oe[pe++],Ne=oe[pe++],ze=oe[pe++];if(he<=0){de.push(xe,Oe,Ce,Ie,Ne,ze);continue}for(var Fe=Math.min(he,ue-1)+1,Ue=1;Ue<=Fe;Ue++){var At=Ue/Fe;cubicSubdivide(_e,xe,Ce,Ne,At,L),cubicSubdivide($e,Oe,Ie,ze,At,V),_e=L[3],$e=V[3],de.push(L[1],V[1],L[2],V[2],_e,$e),xe=L[5],Oe=V[5],Ce=L[6],Ie=V[6]}he-=Fe-1}return oe===g?[de,n]:[g,de]}function createSubpath(g,n){for(var r=g.length,$=g[r-2],L=g[r-1],V=[],oe=0;oe<n.length;)V[oe++]=$,V[oe++]=L;return V}function alignBezierCurves(g,n){for(var r,$,L,V=[],oe=[],ae=0;ae<Math.max(g.length,n.length);ae++){var re=g[ae],le=n[ae],ue=void 0,de=void 0;re?le?(r=alignSubpath(re,le),ue=r[0],de=r[1],$=ue,L=de):(de=createSubpath(L||re,re),ue=re):(ue=createSubpath($||le,le),de=le),V.push(ue),oe.push(de)}return[V,oe]}function centroid(g){for(var n=0,r=0,$=0,L=g.length,V=0,oe=L-2;V<L;oe=V,V+=2){var ae=g[oe],re=g[oe+1],le=g[V],ue=g[V+1],de=ae*ue-le*re;n+=de,r+=(ae+le)*de,$+=(re+ue)*de}return n===0?[g[0]||0,g[1]||0]:[r/n/3,$/n/3,n]}function findBestRingOffset(g,n,r,$){for(var L=(g.length-2)/6,V=1/0,oe=0,ae=g.length,re=ae-2,le=0;le<L;le++){for(var ue=le*6,de=0,he=0;he<ae;he+=2){var pe=he===0?ue:(ue+he-2)%re+2,_e=g[pe]-r[0],$e=g[pe+1]-r[1],xe=n[he]-$[0],Oe=n[he+1]-$[1],Ce=xe-_e,Ie=Oe-$e;de+=Ce*Ce+Ie*Ie}de<V&&(V=de,oe=le)}return oe}function reverse(g){for(var n=[],r=g.length,$=0;$<r;$+=2)n[$]=g[r-$-2],n[$+1]=g[r-$-1];return n}function findBestMorphingRotation(g,n,r,$){for(var L=[],V,oe=0;oe<g.length;oe++){var ae=g[oe],re=n[oe],le=centroid(ae),ue=centroid(re);V==null&&(V=le[2]<0!=ue[2]<0);var de=[],he=[],pe=0,_e=1/0,$e=[],xe=ae.length;V&&(ae=reverse(ae));for(var Oe=findBestRingOffset(ae,re,le,ue)*6,Ce=xe-2,Ie=0;Ie<Ce;Ie+=2){var Ne=(Oe+Ie)%Ce+2;de[Ie+2]=ae[Ne]-le[0],de[Ie+3]=ae[Ne+1]-le[1]}if(de[0]=ae[Oe]-le[0],de[1]=ae[Oe+1]-le[1],r>0)for(var ze=$/r,Fe=-$/2;Fe<=$/2;Fe+=ze){for(var Ue=Math.sin(Fe),At=Math.cos(Fe),Et=0,Ie=0;Ie<ae.length;Ie+=2){var Pt=de[Ie],kt=de[Ie+1],Dt=re[Ie]-ue[0],Lt=re[Ie+1]-ue[1],hn=Dt*At-Lt*Ue,vn=Dt*Ue+Lt*At;$e[Ie]=hn,$e[Ie+1]=vn;var _n=hn-Pt,$n=vn-kt;Et+=_n*_n+$n*$n}if(Et<_e){_e=Et,pe=Fe;for(var Sn=0;Sn<$e.length;Sn++)he[Sn]=$e[Sn]}}else for(var xn=0;xn<xe;xn+=2)he[xn]=re[xn]-ue[0],he[xn+1]=re[xn+1]-ue[1];L.push({from:de,to:he,fromCp:le,toCp:ue,rotation:-pe})}return L}function isCombineMorphing(g){return g.__isCombineMorphing}var SAVED_METHOD_PREFIX="__mOriginal_";function saveAndModifyMethod(g,n,r){var $=SAVED_METHOD_PREFIX+n,L=g[$]||g[n];g[$]||(g[$]=g[n]);var V=r.replace,oe=r.after,ae=r.before;g[n]=function(){var re=arguments,le;return ae&&ae.apply(this,re),V?le=V.apply(this,re):le=L.apply(this,re),oe&&oe.apply(this,re),le}}function restoreMethod(g,n){var r=SAVED_METHOD_PREFIX+n;g[r]&&(g[n]=g[r],g[r]=null)}function applyTransformOnBeziers(g,n){for(var r=0;r<g.length;r++)for(var $=g[r],L=0;L<$.length;){var V=$[L],oe=$[L+1];$[L++]=n[0]*V+n[2]*oe+n[4],$[L++]=n[1]*V+n[3]*oe+n[5]}}function prepareMorphPath(g,n){var r=g.getUpdatedPathProxy(),$=n.getUpdatedPathProxy(),L=alignBezierCurves(pathToBezierCurves(r),pathToBezierCurves($)),V=L[0],oe=L[1],ae=g.getComputedTransform(),re=n.getComputedTransform();function le(){this.transform=null}ae&&applyTransformOnBeziers(V,ae),re&&applyTransformOnBeziers(oe,re),saveAndModifyMethod(n,"updateTransform",{replace:le}),n.transform=null;var ue=findBestMorphingRotation(V,oe,10,Math.PI),de=[];saveAndModifyMethod(n,"buildPath",{replace:function(he){for(var pe=n.__morphT,_e=1-pe,$e=[],xe=0;xe<ue.length;xe++){var Oe=ue[xe],Ce=Oe.from,Ie=Oe.to,Ne=Oe.rotation*pe,ze=Oe.fromCp,Fe=Oe.toCp,Ue=Math.sin(Ne),At=Math.cos(Ne);lerp$1($e,ze,Fe,pe);for(var Et=0;Et<Ce.length;Et+=2){var Pt=Ce[Et],kt=Ce[Et+1],Dt=Ie[Et],Lt=Ie[Et+1],hn=Pt*_e+Dt*pe,vn=kt*_e+Lt*pe;de[Et]=hn*At-vn*Ue+$e[0],de[Et+1]=hn*Ue+vn*At+$e[1]}var _n=de[0],$n=de[1];he.moveTo(_n,$n);for(var Et=2;Et<Ce.length;){var Dt=de[Et++],Lt=de[Et++],Sn=de[Et++],xn=de[Et++],On=de[Et++],Cn=de[Et++];_n===Dt&&$n===Lt&&Sn===On&&xn===Cn?he.lineTo(On,Cn):he.bezierCurveTo(Dt,Lt,Sn,xn,On,Cn),_n=On,$n=Cn}}}})}function morphPath(g,n,r){if(!g||!n)return n;var $=r.done,L=r.during;prepareMorphPath(g,n),n.__morphT=0;function V(){restoreMethod(n,"buildPath"),restoreMethod(n,"updateTransform"),n.__morphT=-1,n.createPathProxy(),n.dirtyShape()}return n.animateTo({__morphT:1},defaults$2({during:function(oe){n.dirtyShape(),L&&L(oe)},done:function(){V(),$&&$()}},r)),n}function hilbert(g,n,r,$,L,V){var oe=16;g=L===r?0:Math.round(32767*(g-r)/(L-r)),n=V===$?0:Math.round(32767*(n-$)/(V-$));for(var ae=0,re,le=(1<<oe)/2;le>0;le/=2){var ue=0,de=0;(g&le)>0&&(ue=1),(n&le)>0&&(de=1),ae+=le*le*(3*ue^de),de===0&&(ue===1&&(g=le-1-g,n=le-1-n),re=g,g=n,n=re)}return ae}function sortPaths(g){var n=1/0,r=1/0,$=-1/0,L=-1/0,V=map$1(g,function(ae){var re=ae.getBoundingRect(),le=ae.getComputedTransform(),ue=re.x+re.width/2+(le?le[4]:0),de=re.y+re.height/2+(le?le[5]:0);return n=Math.min(ue,n),r=Math.min(de,r),$=Math.max(ue,$),L=Math.max(de,L),[ue,de]}),oe=map$1(V,function(ae,re){return{cp:ae,z:hilbert(ae[0],ae[1],n,r,$,L),path:g[re]}});return oe.sort(function(ae,re){return ae.z-re.z}).map(function(ae){return ae.path})}function defaultDividePath(g){return split(g.path,g.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph(g,n,r){var $=[];function L(ze){for(var Fe=0;Fe<ze.length;Fe++){var Ue=ze[Fe];isCombineMorphing(Ue)?L(Ue.childrenRef()):Ue instanceof Path$1&&$.push(Ue)}}L(g);var V=$.length;if(!V)return createEmptyReturn();var oe=r.dividePath||defaultDividePath,ae=oe({path:n,count:V});if(ae.length!==V)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn();$=sortPaths($),ae=sortPaths(ae);for(var re=r.done,le=r.during,ue=r.individualDelay,de=new Transformable,he=0;he<V;he++){var pe=$[he],_e=ae[he];_e.parent=n,_e.copyTransform(de),ue||prepareMorphPath(pe,_e)}n.__isCombineMorphing=!0,n.childrenRef=function(){return ae};function $e(ze){for(var Fe=0;Fe<ae.length;Fe++)ae[Fe].addSelfToZr(ze)}saveAndModifyMethod(n,"addSelfToZr",{after:function(ze){$e(ze)}}),saveAndModifyMethod(n,"removeSelfFromZr",{after:function(ze){for(var Fe=0;Fe<ae.length;Fe++)ae[Fe].removeSelfFromZr(ze)}});function xe(){n.__isCombineMorphing=!1,n.__morphT=-1,n.childrenRef=null,restoreMethod(n,"addSelfToZr"),restoreMethod(n,"removeSelfFromZr")}var Oe=ae.length;if(ue)for(var Ce=Oe,Ie=function(){Ce--,Ce===0&&(xe(),re&&re())},he=0;he<Oe;he++){var Ne=ue?defaults$2({delay:(r.delay||0)+ue(he,Oe,$[he],ae[he]),done:Ie},r):r;morphPath($[he],ae[he],Ne)}else n.__morphT=0,n.animateTo({__morphT:1},defaults$2({during:function(ze){for(var Fe=0;Fe<Oe;Fe++){var Ue=ae[Fe];Ue.__morphT=n.__morphT,Ue.dirtyShape()}le&&le(ze)},done:function(){xe();for(var ze=0;ze<g.length;ze++)restoreMethod(g[ze],"updateTransform");re&&re()}},r));return n.__zr&&$e(n.__zr),{fromIndividuals:$,toIndividuals:ae,count:Oe}}function separateMorph(g,n,r){var $=n.length,L=[],V=r.dividePath||defaultDividePath;function oe(pe){for(var _e=0;_e<pe.length;_e++){var $e=pe[_e];isCombineMorphing($e)?oe($e.childrenRef()):$e instanceof Path$1&&L.push($e)}}if(isCombineMorphing(g)){oe(g.childrenRef());var ae=L.length;if(ae<$)for(var re=0,le=ae;le<$;le++)L.push(clonePath(L[re++%ae]));L.length=$}else{L=V({path:g,count:$});for(var ue=g.getComputedTransform(),le=0;le<L.length;le++)L[le].setLocalTransform(ue);if(L.length!==$)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn()}L=sortPaths(L),n=sortPaths(n);for(var de=r.individualDelay,le=0;le<$;le++){var he=de?defaults$2({delay:(r.delay||0)+de(le,$,L[le],n[le])},r):r;morphPath(L[le],n[le],he)}return{fromIndividuals:L,toIndividuals:n,count:n.length}}function isMultiple(g){return isArray$2(g[0])}function prepareMorphBatches(g,n){for(var r=[],$=g.length,L=0;L<$;L++)r.push({one:g[L],many:[]});for(var L=0;L<n.length;L++){var V=n[L].length,oe=void 0;for(oe=0;oe<V;oe++)r[oe%$].many.push(n[L][oe])}for(var ae=0,L=$-1;L>=0;L--)if(!r[L].many.length){var re=r[ae].many;if(re.length<=1)if(ae)ae=0;else return r;var V=re.length,le=Math.ceil(V/2);r[L].many=re.slice(le,V),r[ae].many=re.slice(0,le),ae++}return r}var pathDividers={clone:function(g){for(var n=[],r=1-Math.pow(1-g.path.style.opacity,1/g.count),$=0;$<g.count;$++){var L=clonePath(g.path);L.setStyle("opacity",r),n.push(L)}return n},split:null};function applyMorphAnimation(g,n,r,$,L,V){if(!g.length||!n.length)return;var oe=getAnimationConfig("update",$,L);if(!(oe&&oe.duration>0))return;var ae=$.getModel("universalTransition").get("delay"),re=Object.assign({setToFinal:!0},oe),le,ue;isMultiple(g)&&(le=g,ue=n),isMultiple(n)&&(le=n,ue=g);function de(Oe,Ce,Ie,Ne,ze){var Fe=Oe.many,Ue=Oe.one;if(Fe.length===1&&!ze){var At=Ce?Fe[0]:Ue,Et=Ce?Ue:Fe[0];if(isCombineMorphing(At))de({many:[At],one:Et},!0,Ie,Ne,!0);else{var Pt=ae?defaults$2({delay:ae(Ie,Ne)},re):re;morphPath(At,Et,Pt),V(At,Et,At,Et,Pt)}}else for(var kt=defaults$2({dividePath:pathDividers[r],individualDelay:ae&&function($n,Sn,xn,On){return ae($n+Ie,Ne)}},re),Dt=Ce?combineMorph(Fe,Ue,kt):separateMorph(Ue,Fe,kt),Lt=Dt.fromIndividuals,hn=Dt.toIndividuals,vn=Lt.length,_n=0;_n<vn;_n++){var Pt=ae?defaults$2({delay:ae(_n,vn)},re):re;V(Lt[_n],hn[_n],Ce?Fe[_n]:Oe.one,Ce?Oe.one:Fe[_n],Pt)}}for(var he=le?le===g:g.length>n.length,pe=le?prepareMorphBatches(ue,le):prepareMorphBatches(he?n:g,[he?g:n]),_e=0,$e=0;$e<pe.length;$e++)_e+=pe[$e].many.length;for(var xe=0,$e=0;$e<pe.length;$e++)de(pe[$e],he,xe,_e),xe+=pe[$e].many.length}function getPathList(g){if(!g)return[];if(isArray$2(g)){for(var n=[],r=0;r<g.length;r++)n.push(getPathList(g[r]));return n}var $=[];return g.traverse(function(L){L instanceof Path$1&&!L.disableMorphing&&!L.invisible&&!L.ignore&&$.push(L)}),$}var DATA_COUNT_THRESHOLD=1e4,getUniversalTransitionGlobalStore=makeInner();function getGroupIdDimension(g){for(var n=g.dimensions,r=0;r<n.length;r++){var $=g.getDimensionInfo(n[r]);if($&&$.otherDims.itemGroupId===0)return n[r]}}function flattenDataDiffItems(g){var n=[];return each$f(g,function(r){var $=r.data;if(!($.count()>DATA_COUNT_THRESHOLD))for(var L=$.getIndices(),V=getGroupIdDimension($),oe=0;oe<L.length;oe++)n.push({dataGroupId:r.dataGroupId,data:$,dim:r.dim||V,divide:r.divide,dataIndex:oe})}),n}function fadeInElement(g,n,r){g.traverse(function($){$ instanceof Path$1&&initProps($,{style:{opacity:0}},n,{dataIndex:r,isFrom:!0})})}function removeEl(g){if(g.parent){var n=g.getComputedTransform();g.setLocalTransform(n),g.parent.remove(g)}}function stopAnimation(g){g.stopAnimation(),g.isGroup&&g.traverse(function(n){n.stopAnimation()})}function animateElementStyles(g,n,r){var $=getAnimationConfig("update",r,n);$&&g.traverse(function(L){if(L instanceof Displayable$1){var V=getOldStyle(L);V&&L.animateFrom({style:V},$)}})}function isAllIdSame(g,n){var r=g.length;if(r!==n.length)return!1;for(var $=0;$<r;$++){var L=g[$],V=n[$];if(L.data.getId(L.dataIndex)!==V.data.getId(V.dataIndex))return!1}return!0}function transitionBetween(g,n,r){var $=flattenDataDiffItems(g),L=flattenDataDiffItems(n);function V(Oe,Ce,Ie,Ne,ze){(Ie||Oe)&&Ce.animateFrom({style:Ie&&Ie!==Oe?extend$1(extend$1({},Ie.style),Oe.style):Oe.style},ze)}function oe(Oe){for(var Ce=0;Ce<Oe.length;Ce++)if(Oe[Ce].dim)return Oe[Ce].dim}var ae=oe($),re=oe(L),le=!1;function ue(Oe,Ce){return function(Ie){var Ne=Ie.data,ze=Ie.dataIndex;if(Ce)return Ne.getId(ze);var Fe=Ie.dataGroupId,Ue=Oe?ae||re:re||ae,At=Ue&&Ne.getDimensionInfo(Ue),Et=At&&At.ordinalMeta;if(At){var Pt=Ne.get(At.name,ze);return Et&&Et.categories[Pt]||Pt+""}var kt=Ne.getRawDataItem(ze);return kt&&kt.groupId?kt.groupId+"":Fe||Ne.getId(ze)}}var de=isAllIdSame($,L),he={};if(!de)for(var pe=0;pe<L.length;pe++){var _e=L[pe],$e=_e.data.getItemGraphicEl(_e.dataIndex);$e&&(he[$e.id]=!0)}function xe(Oe,Ce){var Ie=$[Ce],Ne=L[Oe],ze=Ne.data.hostModel,Fe=Ie.data.getItemGraphicEl(Ie.dataIndex),Ue=Ne.data.getItemGraphicEl(Ne.dataIndex);if(Fe===Ue){Ue&&animateElementStyles(Ue,Ne.dataIndex,ze);return}Fe&&he[Fe.id]||Ue&&(stopAnimation(Ue),Fe?(stopAnimation(Fe),removeEl(Fe),le=!0,applyMorphAnimation(getPathList(Fe),getPathList(Ue),Ne.divide,ze,Oe,V)):fadeInElement(Ue,ze,Oe))}new DataDiffer$1($,L,ue(!0,de),ue(!1,de),null,"multiple").update(xe).updateManyToOne(function(Oe,Ce){var Ie=L[Oe],Ne=Ie.data,ze=Ne.hostModel,Fe=Ne.getItemGraphicEl(Ie.dataIndex),Ue=filter(map$1(Ce,function(At){return $[At].data.getItemGraphicEl($[At].dataIndex)}),function(At){return At&&At!==Fe&&!he[At.id]});Fe&&(stopAnimation(Fe),Ue.length?(each$f(Ue,function(At){stopAnimation(At),removeEl(At)}),le=!0,applyMorphAnimation(getPathList(Ue),getPathList(Fe),Ie.divide,ze,Oe,V)):fadeInElement(Fe,ze,Ie.dataIndex))}).updateOneToMany(function(Oe,Ce){var Ie=$[Ce],Ne=Ie.data.getItemGraphicEl(Ie.dataIndex);if(!(Ne&&he[Ne.id])){var ze=filter(map$1(Oe,function(Ue){return L[Ue].data.getItemGraphicEl(L[Ue].dataIndex)}),function(Ue){return Ue&&Ue!==Ne}),Fe=L[Oe[0]].data.hostModel;ze.length&&(each$f(ze,function(Ue){return stopAnimation(Ue)}),Ne?(stopAnimation(Ne),removeEl(Ne),le=!0,applyMorphAnimation(getPathList(Ne),getPathList(ze),Ie.divide,Fe,Oe[0],V)):each$f(ze,function(Ue){return fadeInElement(Ue,Fe,Oe[0])}))}}).updateManyToMany(function(Oe,Ce){new DataDiffer$1(Ce,Oe,function(Ie){return $[Ie].data.getId($[Ie].dataIndex)},function(Ie){return L[Ie].data.getId(L[Ie].dataIndex)}).update(function(Ie,Ne){xe(Oe[Ie],Ce[Ne])}).execute()}).execute(),le&&each$f(n,function(Oe){var Ce=Oe.data,Ie=Ce.hostModel,Ne=Ie&&r.getViewOfSeriesModel(Ie),ze=getAnimationConfig("update",Ie,0);Ne&&Ie.isAnimationEnabled()&&ze&&ze.duration>0&&Ne.group.traverse(function(Fe){Fe instanceof Path$1&&!Fe.animators.length&&Fe.animateFrom({style:{opacity:0}},ze)})})}function getSeriesTransitionKey(g){var n=g.getModel("universalTransition").get("seriesKey");return n||g.id}function convertArraySeriesKeyToString(g){return isArray$2(g)?g.sort().join(","):g}function getDivideShapeFromData(g){if(g.hostModel)return g.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches(g,n){var r=createHashMap(),$=createHashMap(),L=createHashMap();return each$f(g.oldSeries,function(V,oe){var ae=g.oldDataGroupIds[oe],re=g.oldData[oe],le=getSeriesTransitionKey(V),ue=convertArraySeriesKeyToString(le);$.set(ue,{dataGroupId:ae,data:re}),isArray$2(le)&&each$f(le,function(de){L.set(de,{key:ue,dataGroupId:ae,data:re})})}),each$f(n.updatedSeries,function(V){if(V.isUniversalTransitionEnabled()&&V.isAnimationEnabled()){var oe=V.get("dataGroupId"),ae=V.getData(),re=getSeriesTransitionKey(V),le=convertArraySeriesKeyToString(re),ue=$.get(le);if(ue)r.set(le,{oldSeries:[{dataGroupId:ue.dataGroupId,divide:getDivideShapeFromData(ue.data),data:ue.data}],newSeries:[{dataGroupId:oe,divide:getDivideShapeFromData(ae),data:ae}]});else if(isArray$2(re)){var de=[];each$f(re,function(_e){var $e=$.get(_e);$e.data&&de.push({dataGroupId:$e.dataGroupId,divide:getDivideShapeFromData($e.data),data:$e.data})}),de.length&&r.set(le,{oldSeries:de,newSeries:[{dataGroupId:oe,data:ae,divide:getDivideShapeFromData(ae)}]})}else{var he=L.get(re);if(he){var pe=r.get(he.key);pe||(pe={oldSeries:[{dataGroupId:he.dataGroupId,data:he.data,divide:getDivideShapeFromData(he.data)}],newSeries:[]},r.set(he.key,pe)),pe.newSeries.push({dataGroupId:oe,data:ae,divide:getDivideShapeFromData(ae)})}}}}),r}function querySeries(g,n){for(var r=0;r<g.length;r++){var $=n.seriesIndex!=null&&n.seriesIndex===g[r].seriesIndex||n.seriesId!=null&&n.seriesId===g[r].id;if($)return r}}function transitionSeriesFromOpt(g,n,r,$){var L=[],V=[];each$f(normalizeToArray(g.from),function(oe){var ae=querySeries(n.oldSeries,oe);ae>=0&&L.push({dataGroupId:n.oldDataGroupIds[ae],data:n.oldData[ae],divide:getDivideShapeFromData(n.oldData[ae]),dim:oe.dimension})}),each$f(normalizeToArray(g.to),function(oe){var ae=querySeries(r.updatedSeries,oe);if(ae>=0){var re=r.updatedSeries[ae].getData();V.push({dataGroupId:n.oldDataGroupIds[ae],data:re,divide:getDivideShapeFromData(re),dim:oe.dimension})}}),L.length>0&&V.length>0&&transitionBetween(L,V,$)}function installUniversalTransition(g){g.registerUpdateLifecycle("series:beforeupdate",function(n,r,$){each$f(normalizeToArray($.seriesTransition),function(L){each$f(normalizeToArray(L.to),function(V){for(var oe=$.updatedSeries,ae=0;ae<oe.length;ae++)(V.seriesIndex!=null&&V.seriesIndex===oe[ae].seriesIndex||V.seriesId!=null&&V.seriesId===oe[ae].id)&&(oe[ae][SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),g.registerUpdateLifecycle("series:transition",function(n,r,$){var L=getUniversalTransitionGlobalStore(r);if(L.oldSeries&&$.updatedSeries&&$.optionChanged){var V=$.seriesTransition;if(V)each$f(normalizeToArray(V),function(pe){transitionSeriesFromOpt(pe,L,$,r)});else{var oe=findTransitionSeriesBatches(L,$);each$f(oe.keys(),function(pe){var _e=oe.get(pe);transitionBetween(_e.oldSeries,_e.newSeries,r)})}each$f($.updatedSeries,function(pe){pe[SERIES_UNIVERSAL_TRANSITION_PROP]&&(pe[SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var ae=n.getSeries(),re=L.oldSeries=[],le=L.oldDataGroupIds=[],ue=L.oldData=[],de=0;de<ae.length;de++){var he=ae[de].getData();he.count()<DATA_COUNT_THRESHOLD&&(re.push(ae[de]),le.push(ae[de].get("dataGroupId")),ue.push(he))}})}use([install$S]),use([install$T]),use([install$R,install$Q,install$P,install$N,install$L,install$J,install$I,install$H,install$G,install$F,install$E,install$C,install$B,install$A,install$z,install$y,install$x,install$w,install$v,install$u,install$t,install$s]),use(install$q),use(install$p),use(install$K),use(install$o),use(install$D),use(install$n),use(install$m),use(install$k),use(install$j),use(install$r),use(install$i),use(install$h),use(install$g),use(install$f),use(install$e),use(install$d),use(install$a),use(install$7),use(install$9),use(install$8),use(install$4),use(install$6),use(install$5),use(install$3),use(install$2),use(install$1),use(installUniversalTransition),use(installLabelLayout);function bind(g,n){return function(){return g.apply(n,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(g=>n=>{const r=toString.call(n);return g[r]||(g[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=g=>(g=g.toLowerCase(),n=>kindOf(n)===g),typeOfTest=g=>n=>typeof n===g,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(g){return g!==null&&!isUndefined(g)&&g.constructor!==null&&!isUndefined(g.constructor)&&isFunction(g.constructor.isBuffer)&&g.constructor.isBuffer(g)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(g){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(g):n=g&&g.buffer&&isArrayBuffer(g.buffer),n}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=g=>g!==null&&typeof g=="object",isBoolean=g=>g===!0||g===!1,isPlainObject=g=>{if(kindOf(g)!=="object")return!1;const n=getPrototypeOf(g);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in g)&&!(Symbol.iterator in g)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=g=>isObject(g)&&isFunction(g.pipe),isFormData=g=>{const n="[object FormData]";return g&&(typeof FormData=="function"&&g instanceof FormData||toString.call(g)===n||isFunction(g.toString)&&g.toString()===n)},isURLSearchParams=kindOfTest("URLSearchParams"),trim=g=>g.trim?g.trim():g.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(g,n,{allOwnKeys:r=!1}={}){if(g===null||typeof g>"u")return;let $,L;if(typeof g!="object"&&(g=[g]),isArray(g))for($=0,L=g.length;$<L;$++)n.call(null,g[$],$,g);else{const V=r?Object.getOwnPropertyNames(g):Object.keys(g),oe=V.length;let ae;for($=0;$<oe;$++)ae=V[$],n.call(null,g[ae],ae,g)}}function findKey(g,n){n=n.toLowerCase();const r=Object.keys(g);let $=r.length,L;for(;$-- >0;)if(L=r[$],n===L.toLowerCase())return L;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=g=>!isUndefined(g)&&g!==_global;function merge(){const{caseless:g}=isContextDefined(this)&&this||{},n={},r=($,L)=>{const V=g&&findKey(n,L)||L;isPlainObject(n[V])&&isPlainObject($)?n[V]=merge(n[V],$):isPlainObject($)?n[V]=merge({},$):isArray($)?n[V]=$.slice():n[V]=$};for(let $=0,L=arguments.length;$<L;$++)arguments[$]&&forEach(arguments[$],r);return n}const extend=(g,n,r,{allOwnKeys:$}={})=>(forEach(n,(L,V)=>{r&&isFunction(L)?g[V]=bind(L,r):g[V]=L},{allOwnKeys:$}),g),stripBOM=g=>(g.charCodeAt(0)===65279&&(g=g.slice(1)),g),inherits=(g,n,r,$)=>{g.prototype=Object.create(n.prototype,$),g.prototype.constructor=g,Object.defineProperty(g,"super",{value:n.prototype}),r&&Object.assign(g.prototype,r)},toFlatObject=(g,n,r,$)=>{let L,V,oe;const ae={};if(n=n||{},g==null)return n;do{for(L=Object.getOwnPropertyNames(g),V=L.length;V-- >0;)oe=L[V],(!$||$(oe,g,n))&&!ae[oe]&&(n[oe]=g[oe],ae[oe]=!0);g=r!==!1&&getPrototypeOf(g)}while(g&&(!r||r(g,n))&&g!==Object.prototype);return n},endsWith=(g,n,r)=>{g=String(g),(r===void 0||r>g.length)&&(r=g.length),r-=n.length;const $=g.indexOf(n,r);return $!==-1&&$===r},toArray=g=>{if(!g)return null;if(isArray(g))return g;let n=g.length;if(!isNumber(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=g[n];return r},isTypedArray=(g=>n=>g&&n instanceof g)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(g,n)=>{const r=(g&&g[Symbol.iterator]).call(g);let $;for(;($=r.next())&&!$.done;){const L=$.value;n.call(g,L[0],L[1])}},matchAll=(g,n)=>{let r;const $=[];for(;(r=g.exec(n))!==null;)$.push(r);return $},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=g=>g.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,$){return r.toUpperCase()+$}),hasOwnProperty=(({hasOwnProperty:g})=>(n,r)=>g.call(n,r))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(g,n)=>{const r=Object.getOwnPropertyDescriptors(g),$={};forEach(r,(L,V)=>{n(L,V,g)!==!1&&($[V]=L)}),Object.defineProperties(g,$)},freezeMethods=g=>{reduceDescriptors(g,(n,r)=>{if(isFunction(g)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const $=g[r];if(isFunction($)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet=(g,n)=>{const r={},$=L=>{L.forEach(V=>{r[V]=!0})};return isArray(g)?$(g):$(String(g).split(n)),r},noop=()=>{},toFiniteNumber=(g,n)=>(g=+g,Number.isFinite(g)?g:n),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(g=16,n=ALPHABET.ALPHA_DIGIT)=>{let r="";const{length:$}=n;for(;g--;)r+=n[Math.random()*$|0];return r};function isSpecCompliantForm(g){return!!(g&&isFunction(g.append)&&g[Symbol.toStringTag]==="FormData"&&g[Symbol.iterator])}const toJSONObject=g=>{const n=new Array(10),r=($,L)=>{if(isObject($)){if(n.indexOf($)>=0)return;if(!("toJSON"in $)){n[L]=$;const V=isArray($)?[]:{};return forEach($,(oe,ae)=>{const re=r(oe,L+1);!isUndefined(re)&&(V[ae]=re)}),n[L]=void 0,V}}return $};return r(g,0)},utils={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject};function AxiosError(g,n,r,$,L){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=g,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),$&&(this.request=$),L&&(this.response=L)}utils.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(g=>{descriptors[g]={value:g}}),Object.defineProperties(AxiosError,descriptors),Object.defineProperty(prototype$1,"isAxiosError",{value:!0}),AxiosError.from=(g,n,r,$,L,V)=>{const oe=Object.create(prototype$1);return utils.toFlatObject(g,oe,function(ae){return ae!==Error.prototype},ae=>ae!=="isAxiosError"),AxiosError.call(oe,g.message,n,r,$,L),oe.cause=g,oe.name=g.name,V&&Object.assign(oe,V),oe};const httpAdapter=null;function isVisitable(g){return utils.isPlainObject(g)||utils.isArray(g)}function removeBrackets(g){return utils.endsWith(g,"[]")?g.slice(0,-2):g}function renderKey(g,n,r){return g?g.concat(n).map(function($,L){return $=removeBrackets($),!r&&L?"["+$+"]":$}).join(r?".":""):n}function isFlatArray(g){return utils.isArray(g)&&!g.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function(g){return/^is[A-Z]/.test(g)});function toFormData(g,n,r){if(!utils.isObject(g))throw new TypeError("target must be an object");n=n||new FormData,r=utils.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(pe,_e){return!utils.isUndefined(_e[pe])});const $=r.metaTokens,L=r.visitor||le,V=r.dots,oe=r.indexes,ae=(r.Blob||typeof Blob<"u"&&Blob)&&utils.isSpecCompliantForm(n);if(!utils.isFunction(L))throw new TypeError("visitor must be a function");function re(pe){if(pe===null)return"";if(utils.isDate(pe))return pe.toISOString();if(!ae&&utils.isBlob(pe))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(pe)||utils.isTypedArray(pe)?ae&&typeof Blob=="function"?new Blob([pe]):Buffer.from(pe):pe}function le(pe,_e,$e){let xe=pe;if(pe&&!$e&&typeof pe=="object"){if(utils.endsWith(_e,"{}"))_e=$?_e:_e.slice(0,-2),pe=JSON.stringify(pe);else if(utils.isArray(pe)&&isFlatArray(pe)||(utils.isFileList(pe)||utils.endsWith(_e,"[]"))&&(xe=utils.toArray(pe)))return _e=removeBrackets(_e),xe.forEach(function(Oe,Ce){!(utils.isUndefined(Oe)||Oe===null)&&n.append(oe===!0?renderKey([_e],Ce,V):oe===null?_e:_e+"[]",re(Oe))}),!1}return isVisitable(pe)?!0:(n.append(renderKey($e,_e,V),re(pe)),!1)}const ue=[],de=Object.assign(predicates,{defaultVisitor:le,convertValue:re,isVisitable});function he(pe,_e){if(!utils.isUndefined(pe)){if(ue.indexOf(pe)!==-1)throw Error("Circular reference detected in "+_e.join("."));ue.push(pe),utils.forEach(pe,function($e,xe){(!(utils.isUndefined($e)||$e===null)&&L.call(n,$e,utils.isString(xe)?xe.trim():xe,_e,de))===!0&&he($e,_e?_e.concat(xe):[xe])}),ue.pop()}}if(!utils.isObject(g))throw new TypeError("data must be an object");return he(g),n}function encode$1(g){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(g).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function AxiosURLSearchParams(g,n){this._pairs=[],g&&toFormData(g,this,n)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(g,n){this._pairs.push([g,n])},prototype.toString=function(g){const n=g?function(r){return g.call(this,r,encode$1)}:encode$1;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function encode(g){return encodeURIComponent(g).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(g,n,r){if(!n)return g;const $=r&&r.encode||encode,L=r&&r.serialize;let V;if(L?V=L(n,r):V=utils.isURLSearchParams(n)?n.toString():new AxiosURLSearchParams(n,r).toString($),V){const oe=g.indexOf("#");oe!==-1&&(g=g.slice(0,oe)),g+=(g.indexOf("?")===-1?"?":"&")+V}return g}class InterceptorManager{constructor(){this.handlers=[]}use(n,r,$){return this.handlers.push({fulfilled:n,rejected:r,synchronous:$?$.synchronous:!1,runWhen:$?$.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){utils.forEach(this.handlers,function(r){r!==null&&n(r)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,isStandardBrowserEnv=(()=>{let g;return typeof navigator<"u"&&((g=navigator.product)==="ReactNative"||g==="NativeScript"||g==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(g,n){return toFormData(g,new platform.classes.URLSearchParams,Object.assign({visitor:function(r,$,L,V){return platform.isNode&&utils.isBuffer(r)?(this.append($,r.toString("base64")),!1):V.defaultVisitor.apply(this,arguments)}},n))}function parsePropPath(g){return utils.matchAll(/\w+|\[(\w*)]/g,g).map(n=>n[0]==="[]"?"":n[1]||n[0])}function arrayToObject(g){const n={},r=Object.keys(g);let $;const L=r.length;let V;for($=0;$<L;$++)V=r[$],n[V]=g[V];return n}function formDataToJSON(g){function n(r,$,L,V){let oe=r[V++];const ae=Number.isFinite(+oe),re=V>=r.length;return oe=!oe&&utils.isArray(L)?L.length:oe,re?(utils.hasOwnProp(L,oe)?L[oe]=[L[oe],$]:L[oe]=$,!ae):((!L[oe]||!utils.isObject(L[oe]))&&(L[oe]=[]),n(r,$,L[oe],V)&&utils.isArray(L[oe])&&(L[oe]=arrayToObject(L[oe])),!ae)}if(utils.isFormData(g)&&utils.isFunction(g.entries)){const r={};return utils.forEachEntry(g,($,L)=>{n(parsePropPath($),L,r,0)}),r}return null}const DEFAULT_CONTENT_TYPE={"Content-Type":void 0};function stringifySafely(g,n,r){if(utils.isString(g))try{return(n||JSON.parse)(g),utils.trim(g)}catch($){if($.name!=="SyntaxError")throw $}return(r||JSON.stringify)(g)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(g,n){const r=n.getContentType()||"",$=r.indexOf("application/json")>-1,L=utils.isObject(g);if(L&&utils.isHTMLForm(g)&&(g=new FormData(g)),utils.isFormData(g))return $&&$?JSON.stringify(formDataToJSON(g)):g;if(utils.isArrayBuffer(g)||utils.isBuffer(g)||utils.isStream(g)||utils.isFile(g)||utils.isBlob(g))return g;if(utils.isArrayBufferView(g))return g.buffer;if(utils.isURLSearchParams(g))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),g.toString();let V;if(L){if(r.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(g,this.formSerializer).toString();if((V=utils.isFileList(g))||r.indexOf("multipart/form-data")>-1){const oe=this.env&&this.env.FormData;return toFormData(V?{"files[]":g}:g,oe&&new oe,this.formSerializer)}}return L||$?(n.setContentType("application/json",!1),stringifySafely(g)):g}],transformResponse:[function(g){const n=this.transitional||defaults.transitional,r=n&&n.forcedJSONParsing,$=this.responseType==="json";if(g&&utils.isString(g)&&(r&&!this.responseType||$)){const L=!(n&&n.silentJSONParsing)&&$;try{return JSON.parse(g)}catch(V){if(L)throw V.name==="SyntaxError"?AxiosError.from(V,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):V}}return g}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(g){return g>=200&&g<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],function(g){defaults.headers[g]={}}),utils.forEach(["post","put","patch"],function(g){defaults.headers[g]=utils.merge(DEFAULT_CONTENT_TYPE)});const defaults$1=defaults,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=g=>{const n={};let r,$,L;return g&&g.split(`
`).forEach(function(V){L=V.indexOf(":"),r=V.substring(0,L).trim().toLowerCase(),$=V.substring(L+1).trim(),!(!r||n[r]&&ignoreDuplicateOf[r])&&(r==="set-cookie"?n[r]?n[r].push($):n[r]=[$]:n[r]=n[r]?n[r]+", "+$:$)}),n},$internals=Symbol("internals");function normalizeHeader(g){return g&&String(g).trim().toLowerCase()}function normalizeValue(g){return g===!1||g==null?g:utils.isArray(g)?g.map(normalizeValue):String(g)}function parseTokens(g){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let $;for(;$=r.exec(g);)n[$[1]]=$[2];return n}function isValidHeaderName(g){return/^[-_a-zA-Z]+$/.test(g.trim())}function matchHeaderValue(g,n,r,$,L){if(utils.isFunction($))return $.call(this,n,r);if(L&&(n=r),!!utils.isString(n)){if(utils.isString($))return n.indexOf($)!==-1;if(utils.isRegExp($))return $.test(n)}}function formatHeader(g){return g.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,$)=>r.toUpperCase()+$)}function buildAccessors(g,n){const r=utils.toCamelCase(" "+n);["get","set","has"].forEach($=>{Object.defineProperty(g,$+r,{value:function(L,V,oe){return this[$].call(this,n,L,V,oe)},configurable:!0})})}class AxiosHeaders{constructor(n){n&&this.set(n)}set(n,r,$){const L=this;function V(ae,re,le){const ue=normalizeHeader(re);if(!ue)throw new Error("header name must be a non-empty string");const de=utils.findKey(L,ue);(!de||L[de]===void 0||le===!0||le===void 0&&L[de]!==!1)&&(L[de||re]=normalizeValue(ae))}const oe=(ae,re)=>utils.forEach(ae,(le,ue)=>V(le,ue,re));return utils.isPlainObject(n)||n instanceof this.constructor?oe(n,r):utils.isString(n)&&(n=n.trim())&&!isValidHeaderName(n)?oe(parseHeaders(n),r):n!=null&&V(r,n,$),this}get(n,r){if(n=normalizeHeader(n),n){const $=utils.findKey(this,n);if($){const L=this[$];if(!r)return L;if(r===!0)return parseTokens(L);if(utils.isFunction(r))return r.call(this,L,$);if(utils.isRegExp(r))return r.exec(L);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=normalizeHeader(n),n){const $=utils.findKey(this,n);return!!($&&this[$]!==void 0&&(!r||matchHeaderValue(this,this[$],$,r)))}return!1}delete(n,r){const $=this;let L=!1;function V(oe){if(oe=normalizeHeader(oe),oe){const ae=utils.findKey($,oe);ae&&(!r||matchHeaderValue($,$[ae],ae,r))&&(delete $[ae],L=!0)}}return utils.isArray(n)?n.forEach(V):V(n),L}clear(n){const r=Object.keys(this);let $=r.length,L=!1;for(;$--;){const V=r[$];(!n||matchHeaderValue(this,this[V],V,n,!0))&&(delete this[V],L=!0)}return L}normalize(n){const r=this,$={};return utils.forEach(this,(L,V)=>{const oe=utils.findKey($,V);if(oe){r[oe]=normalizeValue(L),delete r[V];return}const ae=n?formatHeader(V):String(V).trim();ae!==V&&delete r[V],r[ae]=normalizeValue(L),$[ae]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return utils.forEach(this,($,L)=>{$!=null&&$!==!1&&(r[L]=n&&utils.isArray($)?$.join(", "):$)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const $=new this(n);return r.forEach(L=>$.set(L)),$}static accessor(n){const r=(this[$internals]=this[$internals]={accessors:{}}).accessors,$=this.prototype;function L(V){const oe=normalizeHeader(V);r[oe]||(buildAccessors($,V),r[oe]=!0)}return utils.isArray(n)?n.forEach(L):L(n),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),utils.freezeMethods(AxiosHeaders.prototype),utils.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(g,n){const r=this||defaults$1,$=n||r,L=AxiosHeaders$1.from($.headers);let V=$.data;return utils.forEach(g,function(oe){V=oe.call(r,V,L.normalize(),n?n.status:void 0)}),L.normalize(),V}function isCancel(g){return!!(g&&g.__CANCEL__)}function CanceledError(g,n,r){AxiosError.call(this,g!=null?g:"canceled",AxiosError.ERR_CANCELED,n,r),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(g,n,r){const $=r.config.validateStatus;!r.status||!$||$(r.status)?g(r):n(new AxiosError("Request failed with status code "+r.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const cookies=platform.isStandardBrowserEnv?function(){return{write:function(g,n,r,$,L,V){const oe=[];oe.push(g+"="+encodeURIComponent(n)),utils.isNumber(r)&&oe.push("expires="+new Date(r).toGMTString()),utils.isString($)&&oe.push("path="+$),utils.isString(L)&&oe.push("domain="+L),V===!0&&oe.push("secure"),document.cookie=oe.join("; ")},read:function(g){const n=document.cookie.match(new RegExp("(^|;\\s*)("+g+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(g){this.write(g,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(g){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(g)}function combineURLs(g,n){return n?g.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):g}function buildFullPath(g,n){return g&&!isAbsoluteURL(n)?combineURLs(g,n):n}const isURLSameOrigin=platform.isStandardBrowserEnv?function(){const g=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function $(L){let V=L;return g&&(n.setAttribute("href",V),V=n.href),n.setAttribute("href",V),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=$(window.location.href),function(L){const V=utils.isString(L)?$(L):L;return V.protocol===r.protocol&&V.host===r.host}}():function(){return function(){return!0}}();function parseProtocol(g){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(g);return n&&n[1]||""}function speedometer(g,n){g=g||10;const r=new Array(g),$=new Array(g);let L=0,V=0,oe;return n=n!==void 0?n:1e3,function(ae){const re=Date.now(),le=$[V];oe||(oe=re),r[L]=ae,$[L]=re;let ue=V,de=0;for(;ue!==L;)de+=r[ue++],ue=ue%g;if(L=(L+1)%g,L===V&&(V=(V+1)%g),re-oe<n)return;const he=le&&re-le;return he?Math.round(de*1e3/he):void 0}}function progressEventReducer(g,n){let r=0;const $=speedometer(50,250);return L=>{const V=L.loaded,oe=L.lengthComputable?L.total:void 0,ae=V-r,re=$(ae),le=V<=oe;r=V;const ue={loaded:V,total:oe,progress:oe?V/oe:void 0,bytes:ae,rate:re||void 0,estimated:re&&oe&&le?(oe-V)/re:void 0,event:L};ue[n?"download":"upload"]=!0,g(ue)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(g){return new Promise(function(n,r){let $=g.data;const L=AxiosHeaders$1.from(g.headers).normalize(),V=g.responseType;let oe;function ae(){g.cancelToken&&g.cancelToken.unsubscribe(oe),g.signal&&g.signal.removeEventListener("abort",oe)}utils.isFormData($)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv)&&L.setContentType(!1);let re=new XMLHttpRequest;if(g.auth){const he=g.auth.username||"",pe=g.auth.password?unescape(encodeURIComponent(g.auth.password)):"";L.set("Authorization","Basic "+btoa(he+":"+pe))}const le=buildFullPath(g.baseURL,g.url);re.open(g.method.toUpperCase(),buildURL(le,g.params,g.paramsSerializer),!0),re.timeout=g.timeout;function ue(){if(!re)return;const he=AxiosHeaders$1.from("getAllResponseHeaders"in re&&re.getAllResponseHeaders()),pe={data:!V||V==="text"||V==="json"?re.responseText:re.response,status:re.status,statusText:re.statusText,headers:he,config:g,request:re};settle(function(_e){n(_e),ae()},function(_e){r(_e),ae()},pe),re=null}if("onloadend"in re?re.onloadend=ue:re.onreadystatechange=function(){!re||re.readyState!==4||re.status===0&&!(re.responseURL&&re.responseURL.indexOf("file:")===0)||setTimeout(ue)},re.onabort=function(){!re||(r(new AxiosError("Request aborted",AxiosError.ECONNABORTED,g,re)),re=null)},re.onerror=function(){r(new AxiosError("Network Error",AxiosError.ERR_NETWORK,g,re)),re=null},re.ontimeout=function(){let he=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const pe=g.transitional||transitionalDefaults;g.timeoutErrorMessage&&(he=g.timeoutErrorMessage),r(new AxiosError(he,pe.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,g,re)),re=null},platform.isStandardBrowserEnv){const he=(g.withCredentials||isURLSameOrigin(le))&&g.xsrfCookieName&&cookies.read(g.xsrfCookieName);he&&L.set(g.xsrfHeaderName,he)}$===void 0&&L.setContentType(null),"setRequestHeader"in re&&utils.forEach(L.toJSON(),function(he,pe){re.setRequestHeader(pe,he)}),utils.isUndefined(g.withCredentials)||(re.withCredentials=!!g.withCredentials),V&&V!=="json"&&(re.responseType=g.responseType),typeof g.onDownloadProgress=="function"&&re.addEventListener("progress",progressEventReducer(g.onDownloadProgress,!0)),typeof g.onUploadProgress=="function"&&re.upload&&re.upload.addEventListener("progress",progressEventReducer(g.onUploadProgress)),(g.cancelToken||g.signal)&&(oe=he=>{!re||(r(!he||he.type?new CanceledError(null,g,re):he),re.abort(),re=null)},g.cancelToken&&g.cancelToken.subscribe(oe),g.signal&&(g.signal.aborted?oe():g.signal.addEventListener("abort",oe)));const de=parseProtocol(le);if(de&&platform.protocols.indexOf(de)===-1){r(new AxiosError("Unsupported protocol "+de+":",AxiosError.ERR_BAD_REQUEST,g));return}re.send($||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(g,n)=>{if(g){try{Object.defineProperty(g,"name",{value:n})}catch{}Object.defineProperty(g,"adapterName",{value:n})}});const adapters={getAdapter:g=>{g=utils.isArray(g)?g:[g];const{length:n}=g;let r,$;for(let L=0;L<n&&(r=g[L],!($=utils.isString(r)?knownAdapters[r.toLowerCase()]:r));L++);if(!$)throw $===!1?new AxiosError(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(utils.hasOwnProp(knownAdapters,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!utils.isFunction($))throw new TypeError("adapter is not a function");return $},adapters:knownAdapters};function throwIfCancellationRequested(g){if(g.cancelToken&&g.cancelToken.throwIfRequested(),g.signal&&g.signal.aborted)throw new CanceledError(null,g)}function dispatchRequest(g){return throwIfCancellationRequested(g),g.headers=AxiosHeaders$1.from(g.headers),g.data=transformData.call(g,g.transformRequest),["post","put","patch"].indexOf(g.method)!==-1&&g.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(g.adapter||defaults$1.adapter)(g).then(function(n){return throwIfCancellationRequested(g),n.data=transformData.call(g,g.transformResponse,n),n.headers=AxiosHeaders$1.from(n.headers),n},function(n){return isCancel(n)||(throwIfCancellationRequested(g),n&&n.response&&(n.response.data=transformData.call(g,g.transformResponse,n.response),n.response.headers=AxiosHeaders$1.from(n.response.headers))),Promise.reject(n)})}const headersToObject=g=>g instanceof AxiosHeaders$1?g.toJSON():g;function mergeConfig(g,n){n=n||{};const r={};function $(le,ue,de){return utils.isPlainObject(le)&&utils.isPlainObject(ue)?utils.merge.call({caseless:de},le,ue):utils.isPlainObject(ue)?utils.merge({},ue):utils.isArray(ue)?ue.slice():ue}function L(le,ue,de){if(utils.isUndefined(ue)){if(!utils.isUndefined(le))return $(void 0,le,de)}else return $(le,ue,de)}function V(le,ue){if(!utils.isUndefined(ue))return $(void 0,ue)}function oe(le,ue){if(utils.isUndefined(ue)){if(!utils.isUndefined(le))return $(void 0,le)}else return $(void 0,ue)}function ae(le,ue,de){if(de in n)return $(le,ue);if(de in g)return $(void 0,le)}const re={url:V,method:V,data:V,baseURL:oe,transformRequest:oe,transformResponse:oe,paramsSerializer:oe,timeout:oe,timeoutMessage:oe,withCredentials:oe,adapter:oe,responseType:oe,xsrfCookieName:oe,xsrfHeaderName:oe,onUploadProgress:oe,onDownloadProgress:oe,decompress:oe,maxContentLength:oe,maxBodyLength:oe,beforeRedirect:oe,transport:oe,httpAgent:oe,httpsAgent:oe,cancelToken:oe,socketPath:oe,responseEncoding:oe,validateStatus:ae,headers:(le,ue)=>L(headersToObject(le),headersToObject(ue),!0)};return utils.forEach(Object.keys(g).concat(Object.keys(n)),function(le){const ue=re[le]||L,de=ue(g[le],n[le],le);utils.isUndefined(de)&&ue!==ae||(r[le]=de)}),r}const VERSION="1.3.4",validators$1={};["object","boolean","number","function","string","symbol"].forEach((g,n)=>{validators$1[g]=function(r){return typeof r===g||"a"+(n<1?"n ":" ")+g}});const deprecatedWarnings={};validators$1.transitional=function(g,n,r){function $(L,V){return"[Axios v"+VERSION+"] Transitional option '"+L+"'"+V+(r?". "+r:"")}return(L,V,oe)=>{if(g===!1)throw new AxiosError($(V," has been removed"+(n?" in "+n:"")),AxiosError.ERR_DEPRECATED);return n&&!deprecatedWarnings[V]&&(deprecatedWarnings[V]=!0,console.warn($(V," has been deprecated since v"+n+" and will be removed in the near future"))),g?g(L,V,oe):!0}};function assertOptions(g,n,r){if(typeof g!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const $=Object.keys(g);let L=$.length;for(;L-- >0;){const V=$[L],oe=n[V];if(oe){const ae=g[V],re=ae===void 0||oe(ae,V,g);if(re!==!0)throw new AxiosError("option "+V+" must be "+re,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError("Unknown option "+V,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(n){this.defaults=n,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=mergeConfig(this.defaults,r);const{transitional:$,paramsSerializer:L,headers:V}=r;$!==void 0&&validator.assertOptions($,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),L!==void 0&&validator.assertOptions(L,{encode:validators.function,serialize:validators.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let oe;oe=V&&utils.merge(V.common,V[r.method]),oe&&utils.forEach(["delete","get","head","post","put","patch","common"],_e=>{delete V[_e]}),r.headers=AxiosHeaders$1.concat(oe,V);const ae=[];let re=!0;this.interceptors.request.forEach(function(_e){typeof _e.runWhen=="function"&&_e.runWhen(r)===!1||(re=re&&_e.synchronous,ae.unshift(_e.fulfilled,_e.rejected))});const le=[];this.interceptors.response.forEach(function(_e){le.push(_e.fulfilled,_e.rejected)});let ue,de=0,he;if(!re){const _e=[dispatchRequest.bind(this),void 0];for(_e.unshift.apply(_e,ae),_e.push.apply(_e,le),he=_e.length,ue=Promise.resolve(r);de<he;)ue=ue.then(_e[de++],_e[de++]);return ue}he=ae.length;let pe=r;for(de=0;de<he;){const _e=ae[de++],$e=ae[de++];try{pe=_e(pe)}catch(xe){$e.call(this,xe);break}}try{ue=dispatchRequest.call(this,pe)}catch(_e){return Promise.reject(_e)}for(de=0,he=le.length;de<he;)ue=ue.then(le[de++],le[de++]);return ue}getUri(n){n=mergeConfig(this.defaults,n);const r=buildFullPath(n.baseURL,n.url);return buildURL(r,n.params,n.paramsSerializer)}}utils.forEach(["delete","get","head","options"],function(g){Axios.prototype[g]=function(n,r){return this.request(mergeConfig(r||{},{method:g,url:n,data:(r||{}).data}))}}),utils.forEach(["post","put","patch"],function(g){function n(r){return function($,L,V){return this.request(mergeConfig(V||{},{method:g,headers:r?{"Content-Type":"multipart/form-data"}:{},url:$,data:L}))}}Axios.prototype[g]=n(),Axios.prototype[g+"Form"]=n(!0)});const Axios$1=Axios;class CancelToken{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(L){r=L});const $=this;this.promise.then(L=>{if(!$._listeners)return;let V=$._listeners.length;for(;V-- >0;)$._listeners[V](L);$._listeners=null}),this.promise.then=L=>{let V;const oe=new Promise(ae=>{$.subscribe(ae),V=ae}).then(L);return oe.cancel=function(){$.unsubscribe(V)},oe},n(function(L,V,oe){$.reason||($.reason=new CanceledError(L,V,oe),r($.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}static source(){let n;return{token:new CancelToken(function(r){n=r}),cancel:n}}}const CancelToken$1=CancelToken;function spread(g){return function(n){return g.apply(null,n)}}function isAxiosError(g){return utils.isObject(g)&&g.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([g,n])=>{HttpStatusCode[n]=g});const HttpStatusCode$1=HttpStatusCode;function createInstance(g){const n=new Axios$1(g),r=bind(Axios$1.prototype.request,n);return utils.extend(r,Axios$1.prototype,n,{allOwnKeys:!0}),utils.extend(r,n,null,{allOwnKeys:!0}),r.create=function($){return createInstance(mergeConfig(g,$))},r}const axios=createInstance(defaults$1);axios.Axios=Axios$1,axios.CanceledError=CanceledError,axios.CancelToken=CancelToken$1,axios.isCancel=isCancel,axios.VERSION=VERSION,axios.toFormData=toFormData,axios.AxiosError=AxiosError,axios.Cancel=axios.CanceledError,axios.all=function(g){return Promise.all(g)},axios.spread=spread,axios.isAxiosError=isAxiosError,axios.mergeConfig=mergeConfig,axios.AxiosHeaders=AxiosHeaders$1,axios.formToJSON=g=>formDataToJSON(utils.isHTMLForm(g)?new FormData(g):g),axios.HttpStatusCode=HttpStatusCode$1,axios.default=axios;const axios$1=axios,__default__=defineComponent({name:"EvChart"}),_sfc_main=defineComponent({...__default__,props:{insertOption:{default:()=>({})},option:{default:()=>({})}},emits:[""],setup(__props,{emit:emits}){const props=__props,loading=ref(!0),route=useRoute(),{insertOption,option}=toRefs(props),chartOption=reactive({}),req=reactive({url:"",method:"get",params:{},data:{},headers:{}}),oldParams=reactive({}),variable=reactive({}),handleDatajs=ref("");if(insertOption.value){loading.value=!0;const data=insertOption.value;Object.assign(req,data.reqOption),req.method=="get"?Object.assign(oldParams,req.params):Object.assign(oldParams,req.data),Object.assign(variable,data.variable),axios$1({...req}).then(reqData=>{const option=data.option;handleDatajs.value=data.handleDatajs;try{eval(data.handleDatajs)}catch(g){console.log(g)}Object.assign(chartOption,option),initEchart()}).catch(g=>{console.error(g),loading.value=!1})}else Object.assign(chartOption,option.value);const evChart=ref();let evChartInstance;const timer=ref(0),initEchart=()=>{evChartInstance?(evChartInstance.clear(),evChartInstance.setOption(chartOption)):evChart.value&&(evChartInstance=init$1(evChart.value),evChartInstance.setOption(chartOption)),loading.value=!1},rsOb=new ResizeObserver(g=>{timer.value&&clearTimeout(timer.value),timer.value=window.setTimeout(()=>{try{evChartInstance.resize()}catch(n){console.warn(`chart\u91CD\u65B0\u8BBE\u7F6E\u5927\u5C0F\u5931\u8D25,\u5931\u8D25\u539F\u56E0\uFF1A${n}`)}},50)});onMounted(()=>{initEchart(),rsOb.observe(evChart.value),window.addEventListener("hashchange",()=>{let g=window.location.href;if(g.includes("?")){let n=g.split("?")[1];const r=new URLSearchParams(n),$=Object.fromEntries(r.entries());handleUrl($)}})}),watch(option,()=>{Object.assign(chartOption,option.value),initEchart()},{deep:!0}),watch(route,()=>{const{query:g}=route;handleUrl(g)},{deep:!0});const handleUrl=g=>{const n=[];Object.keys(variable).forEach(r=>{n.push({realParamsName:r,alias:variable[r]||r})}),n.forEach(r=>{g[r.alias]&&(req.method=="get"?req.params[r.realParamsName]=g[r.alias]:req.data[r.realParamsName]=g[r.alias])}),handleVar()},handleVar=()=>{loading.value=!0,axios$1({...req}).then(reqData=>{const option=chartOption;eval(handleDatajs.value),Object.assign(chartOption,option),initEchart()})};return(g,n)=>{const r=resolveDirective("loading");return withDirectives((openBlock(),createElementBlock("div",{ref_key:"evChart",ref:evChart,class:"ev-chart"},null,512)),[[r,loading.value]])}}}),GuChart=_export_sfc(_sfc_main,[["__scopeId","data-v-8b77e247"]]),install=g=>{g.directive(copy$2.name,copy$2.options),g.component(GuChart.name,GuChart),g.component(GuDragResize.name,GuDragResize)},index={install},style="";createApp(App).use(createPinia()).use(autoImport).use(router).use(index).mount("#app")})();export{withInstall as $,inject as A,definePropType as B,mutable as C,componentSizes as D,ElButton as E,useLocale as F,useNamespace as G,watch as H,isEqual as I,Fragment as J,renderList as K,ElOption as L,ElSelect as M,normalizeClass as N,watchEffect as O,createCommentVNode as P,d_arrow_left_default as Q,more_filled_default as R,d_arrow_right_default as S,withKeys as T,arrow_left_default as U,arrow_right_default as V,getCurrentInstance as W,provide as X,debugWarn as Y,h$2 as Z,_export_sfc$2 as _,__tla,createStaticVNode as a,unflat as a$,useSysStore as a0,getDict as a1,resolveDirective as a2,withDirectives as a3,edit_default as a4,view_default as a5,document_copy_default as a6,share_default as a7,delete_default as a8,getCookie as a9,defaultNamespace as aA,nextTick as aB,useTimeoutFn as aC,useSlots as aD,useDeprecated as aE,ElFocusTrap as aF,mergeProps as aG,createSlots as aH,vShow as aI,Transition as aJ,Teleport as aK,request as aL,CHANGE_EVENT as aM,isNumber$4 as aN,castArray$1 as aO,withModifiers as aP,_CollapseTransition as aQ,withNoopInstall as aR,lodash as aS,toRefs as aT,ElSwitch as aU,ElColorPicker as aV,useCssVars as aW,resolveComponent as aX,withAsyncContext as aY,flat as aZ,axios$3 as a_,ElMessage as aa,isFunction$5 as ab,onMounted as ac,onBeforeUnmount as ad,addUnit as ae,isRef as af,throwError$2 as ag,computed$1 as ah,isClient as ai,hasClass as aj,getScrollBarWidth as ak,getStyle$2 as al,addClass as am,onScopeDispose as an,removeClass as ao,NOOP as ap,PatchFlags as aq,renderSlot as ar,FOCUS_TRAP_INJECTION_KEY as as,normalizeStyle$2 as at,CloseComponents as au,UPDATE_MODEL_EVENT as av,isBoolean$2 as aw,useZIndex as ax,useId as ay,useGlobalConfig as az,createVNode$2 as b,getTransitionRawChildren as b$,exportFile as b0,_sfc_main$h as b1,__unplugin_components_5 as b2,_sfc_main$9 as b3,__unplugin_components_7 as b4,__unplugin_components_8 as b5,__vitePreload as b6,shallowRef as b7,flattedChildren as b8,isVNode as b9,shallowReadonly as bA,stop$2 as bB,toRaw as bC,toRef as bD,triggerRef as bE,camelize as bF,capitalize$1 as bG,normalizeProps as bH,toHandlerKey as bI,BaseTransition as bJ,Comment as bK,KeepAlive as bL,Static as bM,Suspense as bN,Text$1 as bO,callWithAsyncErrorHandling as bP,callWithErrorHandling as bQ,cloneVNode as bR,compatUtils as bS,createHydrationRenderer as bT,createPropsRestProxy as bU,createRenderer as bV,defineAsyncComponent as bW,defineEmits as bX,defineExpose as bY,defineProps as bZ,devtools as b_,useResizeObserver as ba,capitalize as bb,useDocumentVisibility as bc,useWindowFocus as bd,onUpdated as be,close_default as bf,EVENT_CODE as bg,plus_default as bh,isUndefined$2 as bi,isString$5 as bj,computedEager as bk,onUnmounted as bl,EffectScope as bm,ReactiveEffect as bn,customRef as bo,effect as bp,effectScope as bq,getCurrentScope as br,isProxy as bs,isReactive as bt,isReadonly as bu,isShallow as bv,markRaw as bw,proxyRefs as bx,readonly as by,shallowReactive as bz,createElementBlock as c,ElTimePicker as c$,guardReactiveProps as c0,handleError as c1,initCustomFormatter as c2,isMemoSame as c3,isRuntimeOnly as c4,mergeDefaults as c5,onActivated as c6,onBeforeMount as c7,onBeforeUpdate as c8,onDeactivated as c9,withScopeId as cA,TransitionGroup as cB,VueElement as cC,createApp as cD,createSSRApp as cE,defineCustomElement as cF,defineSSRCustomElement as cG,hydrate as cH,initDirectivesForSSR as cI,render$2 as cJ,useCssModule as cK,vModelCheckbox as cL,vModelDynamic as cM,vModelRadio as cN,vModelSelect as cO,vModelText as cP,defineStore as cQ,storeToRefs as cR,ElRadio as cS,ElRadioGroup as cT,_sfc_main$b as cU,getAugmentedNamespace as cV,getDefaultExportFromCjs as cW,commonjsGlobal as cX,ElCheckbox as cY,ElCheckboxGroup$1 as cZ,ElDatePicker as c_,onErrorCaptured as ca,onRenderTracked as cb,onRenderTriggered as cc,onServerPrefetch as cd,popScopeId as ce,pushScopeId as cf,queuePostFlushCb as cg,registerRuntimeCompiler as ch,resolveFilter as ci,resolveTransitionHooks as cj,setBlockTracking as ck,setDevtoolsHook as cl,setTransitionHooks as cm,ssrContextKey as cn,ssrUtils as co,toHandlers as cp,transformVNodeArgs as cq,useAttrs$1 as cr,useSSRContext as cs,useTransitionState as ct,version as cu,warn$2 as cv,watchPostEffect as cw,watchSyncEffect as cx,withDefaults as cy,withMemo as cz,defineComponent as d,v4$1 as d0,createFormSfc as d1,_sfc_main$e as d2,useRouter as e,createBaseVNode as f,createTextVNode as g,reactive as h,createBlock as i,ElInput as j,ElFormItem as k,ElCol as l,ElInputNumber as m,ElRow as n,openBlock as o,ElForm as p,buildProps as q,ref as r,iconPropType as s,computed as t,unref as u,toDisplayString as v,withCtx as w,resolveDynamicComponent as x,ElIcon as y,_export_sfc$1 as z};
