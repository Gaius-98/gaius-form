import{ab as $e,ac as ee,O as Re,ad as Se,ae as Y,af as _e,ag as Le,G as q,ah as ze,ai as oe,aj as te,H as X,ak as De,al as Oe,am as Pe,an as Te,ao as Ne,ap as H,q as j,B as V,d as P,b as T,aq as Z,ar as h,Z as Ye,s as qe,F as Xe,A as ae,as as He,t as S,o as _,c as K,f as N,N as C,u as o,v as je,w as A,i as U,x as Ve,y as Ze,P as W,at as le,z as se,au as Ke,av as ne,aw as Ue,ax as We,ay as ue,r as B,az as Ge,aA as Je,aB as Qe,W as eo,aC as re,aD as oo,aE as de,X as to,a3 as ao,aF as lo,aG as so,aH as no,aI as uo,aJ as ro,aK as co,$ as io,__tla as fo}from"./index.ff4fefae.js";let ce,po=Promise.all([(()=>{try{return fo}catch{}})()]).then(async()=>{const ie=(...e)=>l=>{e.forEach(t=>{$e(t)?t(l):t.value=l})},G=Symbol("dialogInjectionKey"),fe=(e,l,t)=>{let u={offsetX:0,offsetY:0};const r=a=>{const c=a.clientX,p=a.clientY,{offsetX:v,offsetY:d}=u,s=e.value.getBoundingClientRect(),b=s.left,k=s.top,L=s.width,z=s.height,D=document.documentElement.clientWidth,F=document.documentElement.clientHeight,$=-b+v,w=-k+d,M=D-b-L+v,O=F-k-z+d,x=R=>{const n=Math.min(Math.max(v+R.clientX-c,$),M),g=Math.min(Math.max(d+R.clientY-p,w),O);u={offsetX:n,offsetY:g},e.value.style.transform=`translate(${Y(n)}, ${Y(g)})`},m=()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",m)};document.addEventListener("mousemove",x),document.addEventListener("mouseup",m)},i=()=>{l.value&&e.value&&l.value.addEventListener("mousedown",r)},f=()=>{l.value&&e.value&&l.value.removeEventListener("mousedown",r)};ee(()=>{Re(()=>{t.value?i():f()})}),Se(()=>{f()})},pe=e=>{_e(e)||Le("[useLockscreen]","You need to pass a ref param to this function");const l=q("popup"),t=ze(()=>l.bm("parent","hidden"));if(!oe||te(document.body,t.value))return;let u=0,r=!1,i="0";const f=()=>{setTimeout(()=>{Ne(document.body,t.value),r&&(document.body.style.width=i)},200)};X(e,a=>{if(!a){f();return}r=!te(document.body,t.value),r&&(i=document.body.style.width),u=De(l.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,p=Oe(document.body,"overflowY");u>0&&(c||p==="scroll")&&r&&(document.body.style.width=`calc(100% - ${u}px)`),Pe(document.body,t.value)}),Te(()=>f())},J=e=>{if(!e)return{onClick:H,onMousedown:H,onMouseup:H};let l=!1,t=!1;return{onClick:u=>{l&&t&&e(u),l=t=!1},onMousedown:u=>{l=u.target===u.currentTarget},onMouseup:u=>{t=u.target===u.currentTarget}}},me=j({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:V([String,Array,Object])},zIndex:{type:V([String,Number])}});var ve=P({name:"ElOverlay",props:me,emits:{click:e=>e instanceof MouseEvent},setup(e,{slots:l,emit:t}){const u=q("overlay"),r=c=>{t("click",c)},{onClick:i,onMousedown:f,onMouseup:a}=J(e.customMaskEvent?void 0:r);return()=>e.mask?T("div",{class:[u.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:i,onMousedown:f,onMouseup:a},[h(l,"default")],Z.STYLE|Z.CLASS|Z.PROPS,["onClick","onMouseup","onMousedown"]):Ye("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[h(l,"default")])}});const ye=ve,Q=j({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:qe},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),ge={close:()=>!0},be=["aria-label"],he=["id"],Ce=P({name:"ElDialogContent"}),ke=P({...Ce,props:Q,emits:ge,setup(e){const l=e,{t}=Xe(),{Close:u}=Ke,{dialogRef:r,headerRef:i,bodyId:f,ns:a,style:c}=ae(G),{focusTrapRef:p}=ae(He),v=ie(p,r),d=S(()=>l.draggable);return fe(r,i,d),(s,b)=>(_(),K("div",{ref:o(v),class:C([o(a).b(),o(a).is("fullscreen",s.fullscreen),o(a).is("draggable",o(d)),o(a).is("align-center",s.alignCenter),{[o(a).m("center")]:s.center},s.customClass]),style:le(o(c)),tabindex:"-1"},[N("header",{ref_key:"headerRef",ref:i,class:C(o(a).e("header"))},[h(s.$slots,"header",{},()=>[N("span",{role:"heading",class:C(o(a).e("title"))},je(s.title),3)]),s.showClose?(_(),K("button",{key:0,"aria-label":o(t)("el.dialog.close"),class:C(o(a).e("headerbtn")),type:"button",onClick:b[0]||(b[0]=k=>s.$emit("close"))},[T(o(Ze),{class:C(o(a).e("close"))},{default:A(()=>[(_(),U(Ve(s.closeIcon||o(u))))]),_:1},8,["class"])],10,be)):W("v-if",!0)],2),N("div",{id:o(f),class:C(o(a).e("body"))},[h(s.$slots,"default")],10,he),s.$slots.footer?(_(),K("footer",{key:0,class:C(o(a).e("footer"))},[h(s.$slots,"footer")],2)):W("v-if",!0)],6))}});var we=se(ke,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Me=j({...Q,appendToBody:{type:Boolean,default:!1},beforeClose:{type:V(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),xe={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ne]:e=>Ue(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Ee=(e,l)=>{const t=eo().emit,{nextZIndex:u}=We();let r="";const i=ue(),f=ue(),a=B(!1),c=B(!1),p=B(!1),v=B(e.zIndex||u());let d,s;const b=Ge("namespace",Je),k=S(()=>{const y={},I=`--${b.value}-dialog`;return e.fullscreen||(e.top&&(y[`${I}-margin-top`]=e.top),e.width&&(y[`${I}-width`]=Y(e.width))),y}),L=S(()=>e.alignCenter?{display:"flex"}:{});function z(){t("opened")}function D(){t("closed"),t(ne,!1),e.destroyOnClose&&(p.value=!1)}function F(){t("close")}function $(){s==null||s(),d==null||d(),e.openDelay&&e.openDelay>0?{stop:d}=re(()=>x(),e.openDelay):x()}function w(){d==null||d(),s==null||s(),e.closeDelay&&e.closeDelay>0?{stop:s}=re(()=>m(),e.closeDelay):m()}function M(){function y(I){I||(c.value=!0,a.value=!1)}e.beforeClose?e.beforeClose(y):w()}function O(){e.closeOnClickModal&&M()}function x(){!oe||(a.value=!0)}function m(){a.value=!1}function R(){t("openAutoFocus")}function n(){t("closeAutoFocus")}function g(y){var I;((I=y.detail)==null?void 0:I.focusReason)==="pointer"&&y.preventDefault()}e.lockScroll&&pe(a);function E(){e.closeOnPressEscape&&M()}return X(()=>e.modelValue,y=>{y?(c.value=!1,$(),p.value=!0,v.value=e.zIndex?v.value++:u(),Qe(()=>{t("open"),l.value&&(l.value.scrollTop=0)})):a.value&&w()}),X(()=>e.fullscreen,y=>{!l.value||(y?(r=l.value.style.transform,l.value.style.transform=""):l.value.style.transform=r)}),ee(()=>{e.modelValue&&(a.value=!0,p.value=!0,$())}),{afterEnter:z,afterLeave:D,beforeLeave:F,handleClose:M,onModalClick:O,close:w,doClose:m,onOpenAutoFocus:R,onCloseAutoFocus:n,onCloseRequested:E,onFocusoutPrevented:g,titleId:i,bodyId:f,closed:c,style:k,overlayDialogStyle:L,rendered:p,visible:a,zIndex:v}},Ie=["aria-label","aria-labelledby","aria-describedby"],Ae=P({name:"ElDialog",inheritAttrs:!1}),Be=P({...Ae,props:Me,emits:xe,setup(e,{expose:l}){const t=e,u=oo();de({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},S(()=>!!u.title)),de({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},S(()=>!!t.customClass));const r=q("dialog"),i=B(),f=B(),a=B(),{visible:c,titleId:p,bodyId:v,style:d,overlayDialogStyle:s,rendered:b,zIndex:k,afterEnter:L,afterLeave:z,beforeLeave:D,handleClose:F,onModalClick:$,onOpenAutoFocus:w,onCloseAutoFocus:M,onCloseRequested:O,onFocusoutPrevented:x}=Ee(t,i);to(G,{dialogRef:i,headerRef:f,bodyId:v,ns:r,rendered:b,style:d});const m=J($),R=S(()=>t.draggable&&!t.fullscreen);return l({visible:c,dialogContentRef:a}),(n,g)=>(_(),U(co,{to:"body",disabled:!n.appendToBody},[T(ro,{name:"dialog-fade",onAfterEnter:o(L),onAfterLeave:o(z),onBeforeLeave:o(D),persisted:""},{default:A(()=>[ao(T(o(ye),{"custom-mask-event":"",mask:n.modal,"overlay-class":n.modalClass,"z-index":o(k)},{default:A(()=>[N("div",{role:"dialog","aria-modal":"true","aria-label":n.title||void 0,"aria-labelledby":n.title?void 0:o(p),"aria-describedby":o(v),class:C(`${o(r).namespace.value}-overlay-dialog`),style:le(o(s)),onClick:g[0]||(g[0]=(...E)=>o(m).onClick&&o(m).onClick(...E)),onMousedown:g[1]||(g[1]=(...E)=>o(m).onMousedown&&o(m).onMousedown(...E)),onMouseup:g[2]||(g[2]=(...E)=>o(m).onMouseup&&o(m).onMouseup(...E))},[T(o(lo),{loop:"",trapped:o(c),"focus-start-el":"container",onFocusAfterTrapped:o(w),onFocusAfterReleased:o(M),onFocusoutPrevented:o(x),onReleaseRequested:o(O)},{default:A(()=>[o(b)?(_(),U(we,so({key:0,ref_key:"dialogContentRef",ref:a},n.$attrs,{"custom-class":n.customClass,center:n.center,"align-center":n.alignCenter,"close-icon":n.closeIcon,draggable:o(R),fullscreen:n.fullscreen,"show-close":n.showClose,title:n.title,onClose:o(F)}),no({header:A(()=>[n.$slots.title?h(n.$slots,"title",{key:1}):h(n.$slots,"header",{key:0,close:o(F),titleId:o(p),titleClass:o(r).e("title")})]),default:A(()=>[h(n.$slots,"default")]),_:2},[n.$slots.footer?{name:"footer",fn:A(()=>[h(n.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):W("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ie)]),_:3},8,["mask","overlay-class","z-index"]),[[uo,o(c)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Fe=se(Be,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);ce=io(Fe)});export{ce as E,po as __tla};
