import{x as Ve,cr as We,al as qe,bE as W,bF as Y,cs as oe,d as K,ai as Z,bu as j,bv as q,t as k,a_ as R,ao as J,ct as ne,o as re,c as ie,G as ue,u as _,I as Ge,bL as ce,cu as F,ac as G,cv as He,cw as Me,Z as L,av as de,aA as Ue,b as v,bK as H,cx as De,cy as Ie,cz as Oe,cA as M,bU as Xe,aC as Ye,cB as Ze,aH as ve,bN as be,cC as pe,cD as je,cE as Je,aW as Qe,cF as me,r as ea,az as aa,b5 as ta,bp as la,a0 as sa,bW as oa,cG as na,__tla as ra}from"./index.4ddfba50.js";let fe,he,ia=Promise.all([(()=>{try{return ra}catch{}})()]).then(async()=>{const ye=(e,s,b)=>We(e.subTree).filter(i=>{var l;return qe(i)&&((l=i.type)==null?void 0:l.name)===s&&!!i.component}).map(i=>i.component.uid).map(i=>b[i]).filter(i=>!!i),ge=(e,s)=>{const b={},i=Ve([]);return{children:i,addChild:l=>{b[l.uid]=l,i.value=ye(e,s,b)},removeChild:l=>{delete b[l],i.value=i.value.filter(o=>o.uid!==l)}}},V=Symbol("tabsRootContextKey"),Ce=W({tabs:{type:Y(Array),default:()=>oe([])}}),Q="ElTabBar",we=K({name:Q}),xe=K({...we,props:Ce,setup(e,{expose:s}){const b=e,i=G(),l=Z(V);l||j(Q,"<el-tabs><el-tab-bar /></el-tabs>");const o=q("tabs"),p=k(),B=k(),c=()=>{let m=0,f=0;const d=["top","bottom"].includes(l.props.tabPosition)?"width":"height",n=d==="width"?"x":"y",E=n==="x"?"left":"top";return b.tabs.every(T=>{var $,a;const y=(a=($=i.parent)==null?void 0:$.refs)==null?void 0:a[`tab-${T.uid}`];if(!y)return!1;if(!T.active)return!0;m=y[`offset${F(E)}`],f=y[`client${F(d)}`];const w=window.getComputedStyle(y);return d==="width"&&(b.tabs.length>1&&(f-=Number.parseFloat(w.paddingLeft)+Number.parseFloat(w.paddingRight)),m+=Number.parseFloat(w.paddingLeft)),!1}),{[d]:`${f}px`,transform:`translate${F(n)}(${m}px)`}},g=()=>B.value=c();return R(()=>b.tabs,async()=>{await J(),g()},{immediate:!0}),ne(p,()=>g()),s({ref:p,update:g}),(m,f)=>(re(),ie("div",{ref_key:"barRef",ref:p,class:ue([_(o).e("active-bar"),_(o).is(_(l).props.tabPosition)]),style:Ge(B.value)},null,6))}});var Pe=ce(xe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const ke=W({panes:{type:Y(Array),default:()=>oe([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Ne={tabClick:(e,s,b)=>b instanceof Event,tabRemove:(e,s)=>s instanceof Event},ee="ElTabNav",$e=K({name:ee,props:ke,emits:Ne,setup(e,{expose:s,emit:b}){const i=G(),l=Z(V);l||j(ee,"<el-tabs><tab-nav /></el-tabs>");const o=q("tabs"),p=He(),B=Me(),c=k(),g=k(),m=k(),f=k(),d=k(!1),n=k(0),E=k(!1),T=k(!0),$=L(()=>["top","bottom"].includes(l.props.tabPosition)?"width":"height"),a=L(()=>({transform:`translate${$.value==="width"?"X":"Y"}(-${n.value}px)`})),y=()=>{if(!c.value)return;const r=c.value[`offset${F($.value)}`],u=n.value;if(!u)return;const t=u>r?u-r:0;n.value=t},w=()=>{if(!c.value||!g.value)return;const r=g.value[`offset${F($.value)}`],u=c.value[`offset${F($.value)}`],t=n.value;if(r-t<=u)return;const x=r-t>u*2?t+u:r-u;n.value=x},A=async()=>{const r=g.value;if(!d.value||!m.value||!c.value||!r)return;await J();const u=m.value.querySelector(".is-active");if(!u)return;const t=c.value,x=["top","bottom"].includes(l.props.tabPosition),P=u.getBoundingClientRect(),C=t.getBoundingClientRect(),S=x?r.offsetWidth-C.width:r.offsetHeight-C.height,N=n.value;let h=N;x?(P.left<C.left&&(h=N-(C.left-P.left)),P.right>C.right&&(h=N+P.right-C.right)):(P.top<C.top&&(h=N-(C.top-P.top)),P.bottom>C.bottom&&(h=N+(P.bottom-C.bottom))),h=Math.max(h,0),n.value=Math.min(h,S)},le=()=>{var r;if(!g.value||!c.value)return;e.stretch&&((r=f.value)==null||r.update());const u=g.value[`offset${F($.value)}`],t=c.value[`offset${F($.value)}`],x=n.value;t<u?(d.value=d.value||{},d.value.prev=x,d.value.next=x+t<u,u-x<t&&(n.value=u-t)):(d.value=!1,x>0&&(n.value=0))},Ae=r=>{const u=r.code,{up:t,down:x,left:P,right:C}=M;if(![t,x,P,C].includes(u))return;const S=Array.from(r.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),N=S.indexOf(r.target);let h;u===P||u===t?N===0?h=S.length-1:h=N-1:N<S.length-1?h=N+1:h=0,S[h].focus({preventScroll:!0}),S[h].click(),se()},se=()=>{T.value&&(E.value=!0)},D=()=>E.value=!1;return R(p,r=>{r==="hidden"?T.value=!1:r==="visible"&&setTimeout(()=>T.value=!0,50)}),R(B,r=>{r?setTimeout(()=>T.value=!0,50):T.value=!1}),ne(m,le),de(()=>setTimeout(()=>A(),0)),Ue(()=>le()),s({scrollToActiveTab:A,removeFocus:D}),R(()=>e.panes,()=>i.update(),{flush:"post",deep:!0}),()=>{const r=d.value?[v("span",{class:[o.e("nav-prev"),o.is("disabled",!d.value.prev)],onClick:y},[v(H,null,{default:()=>[v(De,null,null)]})]),v("span",{class:[o.e("nav-next"),o.is("disabled",!d.value.next)],onClick:w},[v(H,null,{default:()=>[v(Ie,null,null)]})])]:null,u=e.panes.map((t,x)=>{var P,C,S,N;const h=t.uid,I=t.props.disabled,O=(C=(P=t.props.name)!=null?P:t.index)!=null?C:`${x}`,X=!I&&(t.isClosable||e.editable);t.index=`${x}`;const ze=X?v(H,{class:"is-icon-close",onClick:z=>b("tabRemove",t,z)},{default:()=>[v(Oe,null,null)]}):null,Ke=((N=(S=t.slots).label)==null?void 0:N.call(S))||t.props.label,Le=!I&&t.active?0:-1;return v("div",{ref:`tab-${h}`,class:[o.e("item"),o.is(l.props.tabPosition),o.is("active",t.active),o.is("disabled",I),o.is("closable",X),o.is("focus",E.value)],id:`tab-${O}`,key:`tab-${h}`,"aria-controls":`pane-${O}`,role:"tab","aria-selected":t.active,tabindex:Le,onFocus:()=>se(),onBlur:()=>D(),onClick:z=>{D(),b("tabClick",t,O,z)},onKeydown:z=>{X&&(z.code===M.delete||z.code===M.backspace)&&b("tabRemove",t,z)}},[Ke,ze])});return v("div",{ref:m,class:[o.e("nav-wrap"),o.is("scrollable",!!d.value),o.is(l.props.tabPosition)]},[r,v("div",{class:o.e("nav-scroll"),ref:c},[v("div",{class:[o.e("nav"),o.is(l.props.tabPosition),o.is("stretch",e.stretch&&["top","bottom"].includes(l.props.tabPosition))],ref:g,style:a.value,role:"tablist",onKeydown:Ae},[e.type?null:v(Pe,{ref:f,tabs:[...e.panes]},null),u])])])}}}),Te=W({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Y(Function),default:()=>!0},stretch:Boolean}),U=e=>je(e)||Je(e),Se={[be]:e=>U(e),tabClick:(e,s)=>s instanceof Event,tabChange:e=>U(e),edit:(e,s)=>["remove","add"].includes(s),tabRemove:e=>U(e),tabAdd:()=>!0};var _e=K({name:"ElTabs",props:Te,emits:Se,setup(e,{emit:s,slots:b,expose:i}){var l,o;const p=q("tabs"),{children:B,addChild:c,removeChild:g}=ge(G(),"ElTabPane"),m=k(),f=k((o=(l=e.modelValue)!=null?l:e.activeName)!=null?o:"0"),d=a=>{f.value=a,s(be,a),s("tabChange",a)},n=async a=>{var y,w,A;if(!(f.value===a||pe(a)))try{await((y=e.beforeLeave)==null?void 0:y.call(e,a,f.value))!==!1&&(d(a),(A=(w=m.value)==null?void 0:w.removeFocus)==null||A.call(w))}catch{}},E=(a,y,w)=>{a.props.disabled||(n(y),s("tabClick",a,w))},T=(a,y)=>{a.props.disabled||pe(a.props.name)||(y.stopPropagation(),s("edit",a.props.name,"remove"),s("tabRemove",a.props.name))},$=()=>{s("edit",void 0,"add"),s("tabAdd")};return Xe({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},L(()=>!!e.activeName)),R(()=>e.activeName,a=>n(a)),R(()=>e.modelValue,a=>n(a)),R(f,async()=>{var a;await J(),(a=m.value)==null||a.scrollToActiveTab()}),Ye(V,{props:e,currentName:f,registerPane:c,unregisterPane:g}),i({currentName:f}),()=>{const a=e.editable||e.addable?v("span",{class:p.e("new-tab"),tabindex:"0",onClick:$,onKeydown:A=>{A.code===M.enter&&$()}},[v(H,{class:p.is("icon-plus")},{default:()=>[v(Ze,null,null)]})]):null,y=v("div",{class:[p.e("header"),p.is(e.tabPosition)]},[a,v($e,{ref:m,currentName:f.value,editable:e.editable,type:e.type,panes:B.value,stretch:e.stretch,onTabClick:E,onTabRemove:T},null)]),w=v("div",{class:p.e("content")},[ve(b,"default")]);return v("div",{class:[p.b(),p.m(e.tabPosition),{[p.m("card")]:e.type==="card",[p.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[y,w]:[w,y]])}}});const Be=W({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Ee=["id","aria-hidden","aria-labelledby"],ae="ElTabPane",Re=K({name:ae}),Fe=K({...Re,props:Be,setup(e){const s=e,b=G(),i=Qe(),l=Z(V);l||j(ae,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=q("tab-pane"),p=k(),B=L(()=>s.closable||l.props.closable),c=me(()=>{var n;return l.currentName.value===((n=s.name)!=null?n:p.value)}),g=k(c.value),m=L(()=>{var n;return(n=s.name)!=null?n:p.value}),f=me(()=>!s.lazy||g.value||c.value);R(c,n=>{n&&(g.value=!0)});const d=ea({uid:b.uid,slots:i,props:s,paneName:m,active:c,index:p,isClosable:B});return de(()=>{l.registerPane(d)}),aa(()=>{l.unregisterPane(d.uid)}),(n,E)=>_(f)?ta((re(),ie("div",{key:0,id:`pane-${_(m)}`,class:ue(_(o).b()),role:"tabpanel","aria-hidden":!_(c),"aria-labelledby":`tab-${_(m)}`},[ve(n.$slots,"default")],10,Ee)),[[la,_(c)]]):sa("v-if",!0)}});var te=ce(Fe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);he=oa(_e,{TabPane:te}),fe=na(te)});export{fe as E,ia as __tla,he as a};
