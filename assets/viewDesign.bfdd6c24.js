import{bg as f,bh as m,g as x,bw as d,__tla as S}from"./index.b9fa7c36.js";let h,_=Promise.all([(()=>{try{return S}catch{}})()]).then(async()=>{h=f("viewStore",()=>{const t=m({componentData:[],name:"",id:"",img:"",height:1080,width:1920}),i=m({name:"",label:"",props:{},id:"",type:"",dataSetting:{type:"static",data:"",handleFunc:"",params:"",reqType:"get"},positionSize:{top:0,left:0,width:100,height:100}}),r=a=>{const{id:o}=a;let e=t.componentData.find(s=>s.id==o);e&&Object.assign(e,{...e,...a})},p=m([]),n=x(0),c=()=>{p[n.value++]=d.exports.cloneDeep(t.componentData)},D=()=>{n.value>0&&(n.value--,t.componentData=d.exports.cloneDeep(p[n.value]))},u=()=>{n.value<p.length-1&&(n.value++,t.componentData=d.exports.cloneDeep(p[n.value]))},g=a=>{let o=t.componentData.findIndex(e=>e.id===a.id);o!=-1&&Object.assign(i,t.componentData[o])},b=a=>{t.componentData.push(a),c()},v=(a,o)=>{let e=t.componentData.findIndex(C=>C.id===o),s=t.componentData[e];switch(a){case"delete":o===i.id&&l(),t.componentData.splice(e,1);break;case"placeTop":t.componentData.splice(e,1),t.componentData.push(s);break;case"placeBottom":t.componentData.splice(e,1),t.componentData.unshift(s);break}c()},w=()=>{Object.assign(t,{componentData:[],name:"",id:"",img:"",height:1080,width:1920}),l()},y=a=>{Object.assign(t,a)},l=()=>{Object.assign(i,{name:"",label:"",props:{},id:"",type:"",dataSetting:{type:"static",data:"",handleFunc:"",params:{}},positionSize:{top:0,left:0,width:100,height:100}})};return{viewData:t,curCompData:i,snapshotData:p,curSnapshotIdx:n,setSnapshot:c,undo:D,redo:u,onClickComp:g,setComp:r,addComp:b,changeCompByCommand:v,init:w,setViewData:y,initCurComp:l}})});export{_ as __tla,h as u};
