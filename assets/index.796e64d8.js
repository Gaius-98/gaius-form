let useGlobalComponentSettings,normalizeStyle$1,_export_sfc$1,withInstall,buttonTypes,ElButton,iconPropType,question_filled_default,useTooltipContentProps,useLocale,addUnit,createBlock,ElIcon,resolveDynamicComponent,toDisplayString,mergeProps,ElTooltip,useSizeProp,watch,provideGlobalConfig,isNumber$2,withDirectives,vShow,Transition,mutable,isClient,shallowReactive,_export_sfc$2,createStaticVNode,ElCard,TypeComponentsMap,useEventListener,useResizeObserver,Fragment,withModifiers,TypeComponents,useTimeoutFn,EVENT_CODE,isString$4,isVNode,useGlobalConfig,defaultNamespace,nextTick,getCurrentInstance,useSlots,useDeprecated,provide,ElFocusTrap,createSlots,Teleport,defineStore,reactive,storeToRefs,ElFormItem,ElSwitch,ElRadio,ElRadioGroup,ElInputNumber,_sfc_main$8,renderList,ElOption,ElSelect,_sfc_main$1n,ElForm,toRefs,normalizeProps,guardReactiveProps,isFunction$4,render$1,isElement,withInstallFunction,axios$1,watchEffect,onBeforeUnmount,isRef,throwError,computed$1,hasClass,getScrollBarWidth,getStyle,addClass,onScopeDispose,removeClass,NOOP,PatchFlags,h$2,inject,FOCUS_TRAP_INJECTION_KEY,CloseComponents,UPDATE_MODEL_EVENT,isBoolean$2,useZIndex,useId,createVNode$1,onBeforeUpdate,ElCollapseItem,ElCollapse,ElColorPicker,ElCheckbox,ElCheckboxGroup$1,ElDatePicker,ElTimePicker,v4,pushScopeId,popScopeId,BaseTransition,Comment,KeepAlive,Static,Suspense,Text$1,assertNumber,callWithAsyncErrorHandling,callWithErrorHandling,cloneVNode,compatUtils,createHydrationRenderer,createPropsRestProxy,createRenderer,defineAsyncComponent,defineEmits,defineExpose,defineProps,devtools,getTransitionRawChildren,handleError,initCustomFormatter,isMemoSame,isRuntimeOnly,mergeDefaults,onActivated,onBeforeMount,downloadFile,createFormSfcV2,createFormSfc,useRoute,EffectScope,ReactiveEffect,customRef,effect,effectScope,getCurrentScope,isProxy,isReactive,isReadonly,isShallow,markRaw,proxyRefs,readonly,shallowReadonly,shallowRef,stop$1,toRaw,toRef,triggerRef,camelize,capitalize$1,toHandlerKey,createElementBlock,composeEventHandlers,onDeactivated,onErrorCaptured,onRenderTracked,onRenderTriggered,onServerPrefetch,onUnmounted,onUpdated,queuePostFlushCb,registerRuntimeCompiler,resolveComponent,defineSSRCustomElement,hydrate,initDirectivesForSSR,useCssModule,useCssVars,vModelCheckbox,vModelDynamic,vModelRadio,vModelSelect,vModelText,withKeys,flattedChildren,capitalize,useDocumentVisibility,useWindowFocus,arrow_left_default,arrow_right_default,close_default,plus_default,isUndefined$2,computedEager,withNoopInstall,getAugmentedNamespace,getDefaultExportFromCjs,commonjsGlobal,delete_default,_sfc_main$7,resolveDirective,resolveFilter,resolveTransitionHooks,setBlockTracking,setDevtoolsHook,setTransitionHooks,ssrContextKey,ssrUtils,toHandlers,transformVNodeArgs,useAttrs$1,useSSRContext,useTransitionState,version,warn$1,watchPostEffect,watchSyncEffect,withAsyncContext,withDefaults,withMemo,withScopeId,TransitionGroup,VueElement,createApp,createSSRApp,defineCustomElement,defineComponent,useTooltipTriggerProps,ElScrollbar,OnlyChild,arrow_down_default,useFormSize,isArray$7,whenMouse,memoize,isFirefox,buildProp,useParamsPool,lodash,__unplugin_components_12,getUpperCase,ElButtonGroup,BAR_MAP,hasOwn$1,circle_close_default,isValidComponentSize,Ee,get,isObject$7,isKorean,useFormItem,isNil,arrow_up_default,ValidateComponentsMap,debounce,isEqual,debugWarn,escapeStringRegexp,CHANGE_EVENT,ElTag,ClickOutside,INPUT_EVENT,useFormItemInputId,rng,unsafeStringify,__unplugin_components_7,GuDragResize,onMounted,useRouter,createBaseVNode,createTextVNode,_,useGuDialog,_sfc_main$k,ElCol,ElRow,ElInput,openBlock,__unplugin_components_7$1,buildProps,ref,definePropType,useNamespace,unref,computed,withCtx,normalizeClass,renderSlot,createCommentVNode,__tla=(async()=>{(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const $ of document.querySelectorAll('link[rel="modulepreload"]'))r($);new MutationObserver($=>{for(const L of $)if(L.type==="childList")for(const V of L.addedNodes)V.tagName==="LINK"&&V.rel==="modulepreload"&&r(V)}).observe(document,{childList:!0,subtree:!0});function n($){const L={};return $.integrity&&(L.integrity=$.integrity),$.referrerpolicy&&(L.referrerPolicy=$.referrerpolicy),$.crossorigin==="use-credentials"?L.credentials="include":$.crossorigin==="anonymous"?L.credentials="omit":L.credentials="same-origin",L}function r($){if($.ep)return;$.ep=!0;const L=n($);fetch($.href,L)}})();function makeMap(g,n){const r=Object.create(null),$=g.split(",");for(let L=0;L<$.length;L++)r[$[L]]=!0;return n?L=>!!r[L.toLowerCase()]:L=>!!r[L]}const GLOBALS_WHITE_LISTED="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",isGloballyWhitelisted=makeMap(GLOBALS_WHITE_LISTED);normalizeStyle$1=function g(n){if(isArray$7(n)){const r={};for(let $=0;$<n.length;$++){const L=n[$],V=isString$4(L)?parseStringStyle(L):g(L);if(V)for(const oe in V)r[oe]=V[oe]}return r}else if(isString$4(n)||isObject$7(n))return n};const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(g){const n={};return g.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const $=r.split(propertyDelimiterRE);$.length>1&&(n[$[0].trim()]=$[1].trim())}}),n}normalizeClass=function g(n){let r="";if(isString$4(n))r=n;else if(isArray$7(n))for(let $=0;$<n.length;$++){const L=g(n[$]);L&&(r+=L+" ")}else if(isObject$7(n))for(const $ in n)n[$]&&(r+=$+" ");return r.trim()},normalizeProps=function(n){if(!n)return null;let{class:r,style:$}=n;return r&&!isString$4(r)&&(n.class=normalizeClass(r)),$&&(n.style=normalizeStyle$1($)),n};const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(g){return!!g||g===""}function looseCompareArrays(g,n){if(g.length!==n.length)return!1;let r=!0;for(let $=0;r&&$<g.length;$++)r=looseEqual(g[$],n[$]);return r}function looseEqual(g,n){if(g===n)return!0;let r=isDate$2(g),$=isDate$2(n);if(r||$)return r&&$?g.getTime()===n.getTime():!1;if(r=isSymbol$1(g),$=isSymbol$1(n),r||$)return g===n;if(r=isArray$7(g),$=isArray$7(n),r||$)return r&&$?looseCompareArrays(g,n):!1;if(r=isObject$7(g),$=isObject$7(n),r||$){if(!r||!$)return!1;const L=Object.keys(g).length,V=Object.keys(n).length;if(L!==V)return!1;for(const oe in g){const re=g.hasOwnProperty(oe),ae=n.hasOwnProperty(oe);if(re&&!ae||!re&&ae||!looseEqual(g[oe],n[oe]))return!1}}return String(g)===String(n)}function looseIndexOf(g,n){return g.findIndex(r=>looseEqual(r,n))}let replacer,EMPTY_OBJ$1,EMPTY_ARR,NO,onRE,isOn,isModelListener,extend$4,remove$1,hasOwnProperty$g,isMap$2,isSet$2,isDate$2,isRegExp$3,isSymbol$1,isPromise,objectToString$1,toTypeString,toRawType,isPlainObject$4,isIntegerKey,isReservedProp,cacheStringFunction,camelizeRE,hyphenateRE,hyphenate,hasChanged,invokeArrayFns,def,looseToNumber,toNumber$1;toDisplayString=g=>isString$4(g)?g:g==null?"":isArray$7(g)||isObject$7(g)&&(g.toString===objectToString$1||!isFunction$4(g.toString))?JSON.stringify(g,replacer,2):String(g),replacer=(g,n)=>n&&n.__v_isRef?replacer(g,n.value):isMap$2(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((r,[$,L])=>(r[`${$} =>`]=L,r),{})}:isSet$2(n)?{[`Set(${n.size})`]:[...n.values()]}:isObject$7(n)&&!isArray$7(n)&&!isPlainObject$4(n)?String(n):n,EMPTY_OBJ$1={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=g=>onRE.test(g),isModelListener=g=>g.startsWith("onUpdate:"),extend$4=Object.assign,remove$1=(g,n)=>{const r=g.indexOf(n);r>-1&&g.splice(r,1)},hasOwnProperty$g=Object.prototype.hasOwnProperty,hasOwn$1=(g,n)=>hasOwnProperty$g.call(g,n),isArray$7=Array.isArray,isMap$2=g=>toTypeString(g)==="[object Map]",isSet$2=g=>toTypeString(g)==="[object Set]",isDate$2=g=>toTypeString(g)==="[object Date]",isRegExp$3=g=>toTypeString(g)==="[object RegExp]",isFunction$4=g=>typeof g=="function",isString$4=g=>typeof g=="string",isSymbol$1=g=>typeof g=="symbol",isObject$7=g=>g!==null&&typeof g=="object",isPromise=g=>isObject$7(g)&&isFunction$4(g.then)&&isFunction$4(g.catch),objectToString$1=Object.prototype.toString,toTypeString=g=>objectToString$1.call(g),toRawType=g=>toTypeString(g).slice(8,-1),isPlainObject$4=g=>toTypeString(g)==="[object Object]",isIntegerKey=g=>isString$4(g)&&g!=="NaN"&&g[0]!=="-"&&""+parseInt(g,10)===g,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=g=>{const n=Object.create(null);return r=>n[r]||(n[r]=g(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(g=>g.replace(camelizeRE,(n,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(g=>g.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$1=cacheStringFunction(g=>g.charAt(0).toUpperCase()+g.slice(1)),toHandlerKey=cacheStringFunction(g=>g?`on${capitalize$1(g)}`:""),hasChanged=(g,n)=>!Object.is(g,n),invokeArrayFns=(g,n)=>{for(let r=0;r<g.length;r++)g[r](n)},def=(g,n,r)=>{Object.defineProperty(g,n,{configurable:!0,enumerable:!1,value:r})},looseToNumber=g=>{const n=parseFloat(g);return isNaN(n)?g:n},toNumber$1=g=>{const n=isString$4(g)?Number(g):NaN;return isNaN(n)?g:n};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;EffectScope=class{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!n&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const r=activeEffectScope;try{return activeEffectScope=this,n()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(n){if(this._active){let r,$;for(r=0,$=this.effects.length;r<$;r++)this.effects[r].stop();for(r=0,$=this.cleanups.length;r<$;r++)this.cleanups[r]();if(this.scopes)for(r=0,$=this.scopes.length;r<$;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!n){const L=this.parent.scopes.pop();L&&L!==this&&(this.parent.scopes[this.index]=L,L.index=this.index)}this.parent=void 0,this._active=!1}}},effectScope=function(n){return new EffectScope(n)};function recordEffectScope(g,n=activeEffectScope){n&&n.active&&n.effects.push(g)}getCurrentScope=function(){return activeEffectScope},onScopeDispose=function(n){activeEffectScope&&activeEffectScope.cleanups.push(n)};const createDep=g=>{const n=new Set(g);return n.w=0,n.n=0,n},wasTracked=g=>(g.w&trackOpBit)>0,newTracked=g=>(g.n&trackOpBit)>0,initDepMarkers=({deps:g})=>{if(g.length)for(let n=0;n<g.length;n++)g[n].w|=trackOpBit},finalizeDepMarkers=g=>{const{deps:n}=g;if(n.length){let r=0;for(let $=0;$<n.length;$++){const L=n[$];wasTracked(L)&&!newTracked(L)?L.delete(g):n[r++]=L,L.w&=~trackOpBit,L.n&=~trackOpBit}n.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");ReactiveEffect=class{constructor(n,r=null,$){this.fn=n,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,$)}run(){if(!this.active)return this.fn();let n=activeEffect,r=shouldTrack;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}};function cleanupEffect(g){const{deps:n}=g;if(n.length){for(let r=0;r<n.length;r++)n[r].delete(g);n.length=0}}effect=function(n,r){n.effect&&(n=n.effect.fn);const $=new ReactiveEffect(n);r&&(extend$4($,r),r.scope&&recordEffectScope($,r.scope)),(!r||!r.lazy)&&$.run();const L=$.run.bind($);return L.effect=$,L},stop$1=function(n){n.effect.stop()};let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const g=trackStack.pop();shouldTrack=g===void 0?!0:g}function track(g,n,r){if(shouldTrack&&activeEffect){let $=targetMap.get(g);$||targetMap.set(g,$=new Map);let L=$.get(r);L||$.set(r,L=createDep()),trackEffects(L)}}function trackEffects(g,n){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(g)||(g.n|=trackOpBit,r=!wasTracked(g)):r=!g.has(activeEffect),r&&(g.add(activeEffect),activeEffect.deps.push(g))}function trigger$2(g,n,r,$,L,V){const oe=targetMap.get(g);if(!oe)return;let re=[];if(n==="clear")re=[...oe.values()];else if(r==="length"&&isArray$7(g)){const ae=Number($);oe.forEach((le,ue)=>{(ue==="length"||ue>=ae)&&re.push(le)})}else switch(r!==void 0&&re.push(oe.get(r)),n){case"add":isArray$7(g)?isIntegerKey(r)&&re.push(oe.get("length")):(re.push(oe.get(ITERATE_KEY)),isMap$2(g)&&re.push(oe.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$7(g)||(re.push(oe.get(ITERATE_KEY)),isMap$2(g)&&re.push(oe.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$2(g)&&re.push(oe.get(ITERATE_KEY));break}if(re.length===1)re[0]&&triggerEffects(re[0]);else{const ae=[];for(const le of re)le&&ae.push(...le);triggerEffects(createDep(ae))}}function triggerEffects(g,n){const r=isArray$7(g)?g:[...g];for(const $ of r)$.computed&&triggerEffect($);for(const $ of r)$.computed||triggerEffect($)}function triggerEffect(g,n){(g!==activeEffect||g.allowRecurse)&&(g.scheduler?g.scheduler():g.run())}function getDepFromReactive(g,n){var r;return(r=targetMap.get(g))===null||r===void 0?void 0:r.get(n)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(g=>g!=="arguments"&&g!=="caller").map(g=>Symbol[g]).filter(isSymbol$1)),get$1$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),shallowReadonlyGet=createGetter(!0,!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const g={};return["includes","indexOf","lastIndexOf"].forEach(n=>{g[n]=function(...r){const $=toRaw(this);for(let V=0,oe=this.length;V<oe;V++)track($,"get",V+"");const L=$[n](...r);return L===-1||L===!1?$[n](...r.map(toRaw)):L}}),["push","pop","shift","unshift","splice"].forEach(n=>{g[n]=function(...r){pauseTracking();const $=toRaw(this)[n].apply(this,r);return resetTracking(),$}}),g}function hasOwnProperty$f(g){const n=toRaw(this);return track(n,"has",g),n.hasOwnProperty(g)}function createGetter(g=!1,n=!1){return function(r,$,L){if($==="__v_isReactive")return!g;if($==="__v_isReadonly")return g;if($==="__v_isShallow")return n;if($==="__v_raw"&&L===(g?n?shallowReadonlyMap:readonlyMap:n?shallowReactiveMap:reactiveMap).get(r))return r;const V=isArray$7(r);if(!g){if(V&&hasOwn$1(arrayInstrumentations,$))return Reflect.get(arrayInstrumentations,$,L);if($==="hasOwnProperty")return hasOwnProperty$f}const oe=Reflect.get(r,$,L);return(isSymbol$1($)?builtInSymbols.has($):isNonTrackableKeys($))||(g||track(r,"get",$),n)?oe:isRef(oe)?V&&isIntegerKey($)?oe:oe.value:isObject$7(oe)?g?readonly(oe):reactive(oe):oe}}const set$1$1=createSetter(),shallowSet=createSetter(!0);function createSetter(g=!1){return function(n,r,$,L){let V=n[r];if(isReadonly(V)&&isRef(V)&&!isRef($))return!1;if(!g&&(!isShallow($)&&!isReadonly($)&&(V=toRaw(V),$=toRaw($)),!isArray$7(n)&&isRef(V)&&!isRef($)))return V.value=$,!0;const oe=isArray$7(n)&&isIntegerKey(r)?Number(r)<n.length:hasOwn$1(n,r),re=Reflect.set(n,r,$,L);return n===toRaw(L)&&(oe?hasChanged($,V)&&trigger$2(n,"set",r,$):trigger$2(n,"add",r,$)),re}}function deleteProperty(g,n){const r=hasOwn$1(g,n);g[n];const $=Reflect.deleteProperty(g,n);return $&&r&&trigger$2(g,"delete",n,void 0),$}function has$1$1(g,n){const r=Reflect.has(g,n);return(!isSymbol$1(n)||!builtInSymbols.has(n))&&track(g,"has",n),r}function ownKeys(g){return track(g,"iterate",isArray$7(g)?"length":ITERATE_KEY),Reflect.ownKeys(g)}const mutableHandlers={get:get$1$1,set:set$1$1,deleteProperty,has:has$1$1,ownKeys},readonlyHandlers={get:readonlyGet,set(g,n){return!0},deleteProperty(g,n){return!0}},shallowReactiveHandlers=extend$4({},mutableHandlers,{get:shallowGet,set:shallowSet}),shallowReadonlyHandlers=extend$4({},readonlyHandlers,{get:shallowReadonlyGet}),toShallow=g=>g,getProto=g=>Reflect.getPrototypeOf(g);function get$2(g,n,r=!1,$=!1){g=g.__v_raw;const L=toRaw(g),V=toRaw(n);r||(n!==V&&track(L,"get",n),track(L,"get",V));const{has:oe}=getProto(L),re=$?toShallow:r?toReadonly:toReactive;if(oe.call(L,n))return re(g.get(n));if(oe.call(L,V))return re(g.get(V));g!==L&&g.get(n)}function has$2(g,n=!1){const r=this.__v_raw,$=toRaw(r),L=toRaw(g);return n||(g!==L&&track($,"has",g),track($,"has",L)),g===L?r.has(g):r.has(g)||r.has(L)}function size(g,n=!1){return g=g.__v_raw,!n&&track(toRaw(g),"iterate",ITERATE_KEY),Reflect.get(g,"size",g)}function add$2(g){g=toRaw(g);const n=toRaw(this);return getProto(n).has.call(n,g)||(n.add(g),trigger$2(n,"add",g,g)),this}function set$3(g,n){n=toRaw(n);const r=toRaw(this),{has:$,get:L}=getProto(r);let V=$.call(r,g);V||(g=toRaw(g),V=$.call(r,g));const oe=L.call(r,g);return r.set(g,n),V?hasChanged(n,oe)&&trigger$2(r,"set",g,n):trigger$2(r,"add",g,n),this}function deleteEntry(g){const n=toRaw(this),{has:r,get:$}=getProto(n);let L=r.call(n,g);L||(g=toRaw(g),L=r.call(n,g)),$&&$.call(n,g);const V=n.delete(g);return L&&trigger$2(n,"delete",g,void 0),V}function clear$2(){const g=toRaw(this),n=g.size!==0,r=g.clear();return n&&trigger$2(g,"clear",void 0,void 0),r}function createForEach(g,n){return function(r,$){const L=this,V=L.__v_raw,oe=toRaw(V),re=n?toShallow:g?toReadonly:toReactive;return!g&&track(oe,"iterate",ITERATE_KEY),V.forEach((ae,le)=>r.call($,re(ae),re(le),L))}}function createIterableMethod(g,n,r){return function(...$){const L=this.__v_raw,V=toRaw(L),oe=isMap$2(V),re=g==="entries"||g===Symbol.iterator&&oe,ae=g==="keys"&&oe,le=L[g](...$),ue=r?toShallow:n?toReadonly:toReactive;return!n&&track(V,"iterate",ae?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:de,done:pe}=le.next();return pe?{value:de,done:pe}:{value:re?[ue(de[0]),ue(de[1])]:ue(de),done:pe}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(g){return function(...n){return g==="delete"?!1:this}}function createInstrumentations(){const g={get(L){return get$2(this,L)},get size(){return size(this)},has:has$2,add:add$2,set:set$3,delete:deleteEntry,clear:clear$2,forEach:createForEach(!1,!1)},n={get(L){return get$2(this,L,!1,!0)},get size(){return size(this)},has:has$2,add:add$2,set:set$3,delete:deleteEntry,clear:clear$2,forEach:createForEach(!1,!0)},r={get(L){return get$2(this,L,!0)},get size(){return size(this,!0)},has(L){return has$2.call(this,L,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},$={get(L){return get$2(this,L,!0,!0)},get size(){return size(this,!0)},has(L){return has$2.call(this,L,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(L=>{g[L]=createIterableMethod(L,!1,!1),r[L]=createIterableMethod(L,!0,!1),n[L]=createIterableMethod(L,!1,!0),$[L]=createIterableMethod(L,!0,!0)}),[g,r,n,$]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(g,n){const r=n?g?shallowReadonlyInstrumentations:shallowInstrumentations:g?readonlyInstrumentations:mutableInstrumentations;return($,L,V)=>L==="__v_isReactive"?!g:L==="__v_isReadonly"?g:L==="__v_raw"?$:Reflect.get(hasOwn$1(r,L)&&L in $?r:$,L,V)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(g){switch(g){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(g){return g.__v_skip||!Object.isExtensible(g)?0:targetTypeMap(toRawType(g))}reactive=function(n){return isReadonly(n)?n:createReactiveObject(n,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)},shallowReactive=function(n){return createReactiveObject(n,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)},readonly=function(n){return createReactiveObject(n,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)},shallowReadonly=function(n){return createReactiveObject(n,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)};function createReactiveObject(g,n,r,$,L){if(!isObject$7(g)||g.__v_raw&&!(n&&g.__v_isReactive))return g;const V=L.get(g);if(V)return V;const oe=getTargetType(g);if(oe===0)return g;const re=new Proxy(g,oe===2?$:r);return L.set(g,re),re}isReactive=function g(n){return isReadonly(n)?g(n.__v_raw):!!(n&&n.__v_isReactive)},isReadonly=function(n){return!!(n&&n.__v_isReadonly)},isShallow=function(n){return!!(n&&n.__v_isShallow)},isProxy=function(n){return isReactive(n)||isReadonly(n)},toRaw=function g(n){const r=n&&n.__v_raw;return r?g(r):n},markRaw=function(n){return def(n,"__v_skip",!0),n};const toReactive=g=>isObject$7(g)?reactive(g):g,toReadonly=g=>isObject$7(g)?readonly(g):g;function trackRefValue(g){shouldTrack&&activeEffect&&(g=toRaw(g),trackEffects(g.dep||(g.dep=createDep())))}function triggerRefValue(g,n){g=toRaw(g);const r=g.dep;r&&triggerEffects(r)}isRef=function(n){return!!(n&&n.__v_isRef===!0)},ref=function(n){return createRef(n,!1)},shallowRef=function(n){return createRef(n,!0)};function createRef(g,n){return isRef(g)?g:new RefImpl(g,n)}class RefImpl{constructor(n,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?n:toRaw(n),this._value=r?n:toReactive(n)}get value(){return trackRefValue(this),this._value}set value(n){const r=this.__v_isShallow||isShallow(n)||isReadonly(n);n=r?n:toRaw(n),hasChanged(n,this._rawValue)&&(this._rawValue=n,this._value=r?n:toReactive(n),triggerRefValue(this))}}triggerRef=function(n){triggerRefValue(n)},unref=function(n){return isRef(n)?n.value:n};const shallowUnwrapHandlers={get:(g,n,r)=>unref(Reflect.get(g,n,r)),set:(g,n,r,$)=>{const L=g[n];return isRef(L)&&!isRef(r)?(L.value=r,!0):Reflect.set(g,n,r,$)}};proxyRefs=function(n){return isReactive(n)?n:new Proxy(n,shallowUnwrapHandlers)};class CustomRefImpl{constructor(n){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:$}=n(()=>trackRefValue(this),()=>triggerRefValue(this));this._get=r,this._set=$}get value(){return this._get()}set value(n){this._set(n)}}customRef=function(n){return new CustomRefImpl(n)},toRefs=function(n){const r=isArray$7(n)?new Array(n.length):{};for(const $ in n)r[$]=toRef(n,$);return r};class ObjectRefImpl{constructor(n,r,$){this._object=n,this._key=r,this._defaultValue=$,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}toRef=function(n,r,$){const L=n[r];return isRef(L)?L:new ObjectRefImpl(n,r,$)};var _a$1$1;class ComputedRefImpl{constructor(n,r,$,L){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[_a$1$1]=!1,this._dirty=!0,this.effect=new ReactiveEffect(n,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!L,this.__v_isReadonly=$}get value(){const n=toRaw(this);return trackRefValue(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}_a$1$1="__v_isReadonly",computed$1=function(n,r,$=!1){let L,V;const oe=isFunction$4(n);return oe?(L=n,V=NOOP):(L=n.get,V=n.set),new ComputedRefImpl(L,V,oe||!V,$)},warn$1=function(n,...r){},assertNumber=function(n,r){},callWithErrorHandling=function(n,r,$,L){let V;try{V=L?n(...L):n()}catch(oe){handleError(oe,r,$)}return V},callWithAsyncErrorHandling=function g(n,r,$,L){if(isFunction$4(n)){const oe=callWithErrorHandling(n,r,$,L);return oe&&isPromise(oe)&&oe.catch(re=>{handleError(re,r,$)}),oe}const V=[];for(let oe=0;oe<n.length;oe++)V.push(g(n[oe],r,$,L));return V},handleError=function(n,r,$,L=!0){const V=r?r.vnode:null;if(r){let oe=r.parent;const re=r.proxy,ae=$;for(;oe;){const ue=oe.ec;if(ue){for(let de=0;de<ue.length;de++)if(ue[de](n,re,ae)===!1)return}oe=oe.parent}const le=r.appContext.config.errorHandler;if(le){callWithErrorHandling(le,null,10,[n,re,ae]);return}}logError$1(n,$,V,L)};function logError$1(g,n,r,$=!0){console.error(g)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;nextTick=function(n){const r=currentFlushPromise||resolvedPromise;return n?r.then(this?n.bind(this):n):r};function findInsertionIndex(g){let n=flushIndex+1,r=queue.length;for(;n<r;){const $=n+r>>>1;getId$1(queue[$])<g?n=$+1:r=$}return n}function queueJob(g){(!queue.length||!queue.includes(g,isFlushing&&g.allowRecurse?flushIndex+1:flushIndex))&&(g.id==null?queue.push(g):queue.splice(findInsertionIndex(g.id),0,g),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(g){const n=queue.indexOf(g);n>flushIndex&&queue.splice(n,1)}queuePostFlushCb=function(n){isArray$7(n)?pendingPostFlushCbs.push(...n):(!activePostFlushCbs||!activePostFlushCbs.includes(n,n.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(n),queueFlush()};function flushPreFlushCbs(g,n=isFlushing?flushIndex+1:0){for(;n<queue.length;n++){const r=queue[n];r&&r.pre&&(queue.splice(n,1),n--,r())}}function flushPostFlushCbs(g){if(pendingPostFlushCbs.length){const n=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...n);return}for(activePostFlushCbs=n,activePostFlushCbs.sort((r,$)=>getId$1(r)-getId$1($)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId$1=g=>g.id==null?1/0:g.id,comparator=(g,n)=>{const r=getId$1(g)-getId$1(n);if(r===0){if(g.pre&&!n.pre)return-1;if(n.pre&&!g.pre)return 1}return r};function flushJobs(g){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const n=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];r&&r.active!==!1&&callWithErrorHandling(r,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let buffer;buffer=[],setDevtoolsHook=function g(n,r){var $,L;devtools=n,devtools?(devtools.enabled=!0,buffer.forEach(({event:V,args:oe})=>devtools.emit(V,...oe)),buffer=[]):typeof window<"u"&&window.HTMLElement&&!(!((L=($=window.navigator)===null||$===void 0?void 0:$.userAgent)===null||L===void 0)&&L.includes("jsdom"))?((r.__VUE_DEVTOOLS_HOOK_REPLAY__=r.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(V=>{g(V,r)}),setTimeout(()=>{devtools||(r.__VUE_DEVTOOLS_HOOK_REPLAY__=null,buffer=[])},3e3)):buffer=[]};function emit(g,n,...r){if(g.isUnmounted)return;const $=g.vnode.props||EMPTY_OBJ$1;let L=r;const V=n.startsWith("update:"),oe=V&&n.slice(7);if(oe&&oe in $){const ue=`${oe==="modelValue"?"model":oe}Modifiers`,{number:de,trim:pe}=$[ue]||EMPTY_OBJ$1;pe&&(L=r.map(he=>isString$4(he)?he.trim():he)),de&&(L=r.map(looseToNumber))}let re,ae=$[re=toHandlerKey(n)]||$[re=toHandlerKey(camelize(n))];!ae&&V&&(ae=$[re=toHandlerKey(hyphenate(n))]),ae&&callWithAsyncErrorHandling(ae,g,6,L);const le=$[re+"Once"];if(le){if(!g.emitted)g.emitted={};else if(g.emitted[re])return;g.emitted[re]=!0,callWithAsyncErrorHandling(le,g,6,L)}}function normalizeEmitsOptions(g,n,r=!1){const $=n.emitsCache,L=$.get(g);if(L!==void 0)return L;const V=g.emits;let oe={},re=!1;if(!isFunction$4(g)){const ae=le=>{const ue=normalizeEmitsOptions(le,n,!0);ue&&(re=!0,extend$4(oe,ue))};!r&&n.mixins.length&&n.mixins.forEach(ae),g.extends&&ae(g.extends),g.mixins&&g.mixins.forEach(ae)}return!V&&!re?(isObject$7(g)&&$.set(g,null),null):(isArray$7(V)?V.forEach(ae=>oe[ae]=null):extend$4(oe,V),isObject$7(g)&&$.set(g,oe),oe)}function isEmitListener(g,n){return!g||!isOn(n)?!1:(n=n.slice(2).replace(/Once$/,""),hasOwn$1(g,n[0].toLowerCase()+n.slice(1))||hasOwn$1(g,hyphenate(n))||hasOwn$1(g,n))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(g){const n=currentRenderingInstance;return currentRenderingInstance=g,currentScopeId=g&&g.type.__scopeId||null,n}pushScopeId=function(n){currentScopeId=n},popScopeId=function(){currentScopeId=null},withScopeId=g=>withCtx,withCtx=function(n,r=currentRenderingInstance,$){if(!r||n._n)return n;const L=(...V)=>{L._d&&setBlockTracking(-1);const oe=setCurrentRenderingInstance(r);let re;try{re=n(...V)}finally{setCurrentRenderingInstance(oe),L._d&&setBlockTracking(1)}return re};return L._n=!0,L._c=!0,L._d=!0,L};function markAttrsAccessed(){}function renderComponentRoot(g){const{type:n,vnode:r,proxy:$,withProxy:L,props:V,propsOptions:[oe],slots:re,attrs:ae,emit:le,render:ue,renderCache:de,data:pe,setupState:he,ctx:_e,inheritAttrs:Oe}=g;let xe,$e;const Ie=setCurrentRenderingInstance(g);try{if(r.shapeFlag&4){const ze=L||$;xe=normalizeVNode(ue.call(ze,ze,de,V,he,pe,_e)),$e=ae}else{const ze=n;xe=normalizeVNode(ze.length>1?ze(V,{attrs:ae,slots:re,emit:le}):ze(V,null)),$e=n.props?ae:getFunctionalFallthrough(ae)}}catch(ze){blockStack.length=0,handleError(ze,g,1),xe=createVNode$1(Comment)}let Ne=xe;if($e&&Oe!==!1){const ze=Object.keys($e),{shapeFlag:Ue}=Ne;ze.length&&Ue&7&&(oe&&ze.some(isModelListener)&&($e=filterModelListeners($e,oe)),Ne=cloneVNode(Ne,$e))}return r.dirs&&(Ne=cloneVNode(Ne),Ne.dirs=Ne.dirs?Ne.dirs.concat(r.dirs):r.dirs),r.transition&&(Ne.transition=r.transition),xe=Ne,setCurrentRenderingInstance(Ie),xe}function filterSingleRoot(g){let n;for(let r=0;r<g.length;r++){const $=g[r];if(isVNode($)){if($.type!==Comment||$.children==="v-if"){if(n)return;n=$}}else return}return n}const getFunctionalFallthrough=g=>{let n;for(const r in g)(r==="class"||r==="style"||isOn(r))&&((n||(n={}))[r]=g[r]);return n},filterModelListeners=(g,n)=>{const r={};for(const $ in g)(!isModelListener($)||!($.slice(9)in n))&&(r[$]=g[$]);return r};function shouldUpdateComponent(g,n,r){const{props:$,children:L,component:V}=g,{props:oe,children:re,patchFlag:ae}=n,le=V.emitsOptions;if(n.dirs||n.transition)return!0;if(r&&ae>=0){if(ae&1024)return!0;if(ae&16)return $?hasPropsChanged($,oe,le):!!oe;if(ae&8){const ue=n.dynamicProps;for(let de=0;de<ue.length;de++){const pe=ue[de];if(oe[pe]!==$[pe]&&!isEmitListener(le,pe))return!0}}}else return(L||re)&&(!re||!re.$stable)?!0:$===oe?!1:$?oe?hasPropsChanged($,oe,le):!0:!!oe;return!1}function hasPropsChanged(g,n,r){const $=Object.keys(n);if($.length!==Object.keys(g).length)return!0;for(let L=0;L<$.length;L++){const V=$[L];if(n[V]!==g[V]&&!isEmitListener(r,V))return!0}return!1}function updateHOCHostEl({vnode:g,parent:n},r){for(;n&&n.subTree===g;)(g=n.vnode).el=r,n=n.parent}let isSuspense,SuspenseImpl;isSuspense=g=>g.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(g,n,r,$,L,V,oe,re,ae,le){g==null?mountSuspense(n,r,$,L,V,oe,re,ae,le):patchSuspense(g,n,r,$,L,oe,re,ae,le)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent$1(g,n){const r=g.props&&g.props[n];isFunction$4(r)&&r()}function mountSuspense(g,n,r,$,L,V,oe,re,ae){const{p:le,o:{createElement:ue}}=ae,de=ue("div"),pe=g.suspense=createSuspenseBoundary(g,L,$,n,de,r,V,oe,re,ae);le(null,pe.pendingBranch=g.ssContent,de,null,$,pe,V,oe),pe.deps>0?(triggerEvent$1(g,"onPending"),triggerEvent$1(g,"onFallback"),le(null,g.ssFallback,n,r,$,null,V,oe),setActiveBranch(pe,g.ssFallback)):pe.resolve()}function patchSuspense(g,n,r,$,L,V,oe,re,{p:ae,um:le,o:{createElement:ue}}){const de=n.suspense=g.suspense;de.vnode=n,n.el=g.el;const pe=n.ssContent,he=n.ssFallback,{activeBranch:_e,pendingBranch:Oe,isInFallback:xe,isHydrating:$e}=de;if(Oe)de.pendingBranch=pe,isSameVNodeType(pe,Oe)?(ae(Oe,pe,de.hiddenContainer,null,L,de,V,oe,re),de.deps<=0?de.resolve():xe&&(ae(_e,he,r,$,L,null,V,oe,re),setActiveBranch(de,he))):(de.pendingId++,$e?(de.isHydrating=!1,de.activeBranch=Oe):le(Oe,L,de),de.deps=0,de.effects.length=0,de.hiddenContainer=ue("div"),xe?(ae(null,pe,de.hiddenContainer,null,L,de,V,oe,re),de.deps<=0?de.resolve():(ae(_e,he,r,$,L,null,V,oe,re),setActiveBranch(de,he))):_e&&isSameVNodeType(pe,_e)?(ae(_e,pe,r,$,L,de,V,oe,re),de.resolve(!0)):(ae(null,pe,de.hiddenContainer,null,L,de,V,oe,re),de.deps<=0&&de.resolve()));else if(_e&&isSameVNodeType(pe,_e))ae(_e,pe,r,$,L,de,V,oe,re),setActiveBranch(de,pe);else if(triggerEvent$1(n,"onPending"),de.pendingBranch=pe,de.pendingId++,ae(null,pe,de.hiddenContainer,null,L,de,V,oe,re),de.deps<=0)de.resolve();else{const{timeout:Ie,pendingId:Ne}=de;Ie>0?setTimeout(()=>{de.pendingId===Ne&&de.fallback(he)},Ie):Ie===0&&de.fallback(he)}}function createSuspenseBoundary(g,n,r,$,L,V,oe,re,ae,le,ue=!1){const{p:de,m:pe,um:he,n:_e,o:{parentNode:Oe,remove:xe}}=le,$e=g.props?toNumber$1(g.props.timeout):void 0,Ie={vnode:g,parent:n,parentComponent:r,isSVG:oe,container:$,hiddenContainer:L,anchor:V,deps:0,pendingId:0,timeout:typeof $e=="number"?$e:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:ue,isUnmounted:!1,effects:[],resolve(Ne=!1){const{vnode:ze,activeBranch:Ue,pendingBranch:Fe,pendingId:qe,effects:Et,parentComponent:At,container:kt}=Ie;if(Ie.isHydrating)Ie.isHydrating=!1;else if(!Ne){const Lt=Ue&&Fe.transition&&Fe.transition.mode==="out-in";Lt&&(Ue.transition.afterLeave=()=>{qe===Ie.pendingId&&pe(Fe,kt,hn,0)});let{anchor:hn}=Ie;Ue&&(hn=_e(Ue),he(Ue,At,Ie,!0)),Lt||pe(Fe,kt,hn,0)}setActiveBranch(Ie,Fe),Ie.pendingBranch=null,Ie.isInFallback=!1;let Dt=Ie.parent,jt=!1;for(;Dt;){if(Dt.pendingBranch){Dt.effects.push(...Et),jt=!0;break}Dt=Dt.parent}jt||queuePostFlushCb(Et),Ie.effects=[],triggerEvent$1(ze,"onResolve")},fallback(Ne){if(!Ie.pendingBranch)return;const{vnode:ze,activeBranch:Ue,parentComponent:Fe,container:qe,isSVG:Et}=Ie;triggerEvent$1(ze,"onFallback");const At=_e(Ue),kt=()=>{!Ie.isInFallback||(de(null,Ne,qe,At,Fe,null,Et,re,ae),setActiveBranch(Ie,Ne))},Dt=Ne.transition&&Ne.transition.mode==="out-in";Dt&&(Ue.transition.afterLeave=kt),Ie.isInFallback=!0,he(Ue,Fe,null,!0),Dt||kt()},move(Ne,ze,Ue){Ie.activeBranch&&pe(Ie.activeBranch,Ne,ze,Ue),Ie.container=Ne},next(){return Ie.activeBranch&&_e(Ie.activeBranch)},registerDep(Ne,ze){const Ue=!!Ie.pendingBranch;Ue&&Ie.deps++;const Fe=Ne.vnode.el;Ne.asyncDep.catch(qe=>{handleError(qe,Ne,0)}).then(qe=>{if(Ne.isUnmounted||Ie.isUnmounted||Ie.pendingId!==Ne.suspenseId)return;Ne.asyncResolved=!0;const{vnode:Et}=Ne;handleSetupResult(Ne,qe,!1),Fe&&(Et.el=Fe);const At=!Fe&&Ne.subTree.el;ze(Ne,Et,Oe(Fe||Ne.subTree.el),Fe?null:_e(Ne.subTree),Ie,oe,ae),At&&xe(At),updateHOCHostEl(Ne,Et.el),Ue&&--Ie.deps===0&&Ie.resolve()})},unmount(Ne,ze){Ie.isUnmounted=!0,Ie.activeBranch&&he(Ie.activeBranch,r,Ne,ze),Ie.pendingBranch&&he(Ie.pendingBranch,r,Ne,ze)}};return Ie}function hydrateSuspense(g,n,r,$,L,V,oe,re,ae){const le=n.suspense=createSuspenseBoundary(n,$,r,g.parentNode,document.createElement("div"),null,L,V,oe,re,!0),ue=ae(g,le.pendingBranch=n.ssContent,r,le,V,oe);return le.deps===0&&le.resolve(),ue}function normalizeSuspenseChildren(g){const{shapeFlag:n,children:r}=g,$=n&32;g.ssContent=normalizeSuspenseSlot($?r.default:r),g.ssFallback=$?normalizeSuspenseSlot(r.fallback):createVNode$1(Comment)}function normalizeSuspenseSlot(g){let n;if(isFunction$4(g)){const r=isBlockTreeEnabled&&g._c;r&&(g._d=!1,openBlock()),g=g(),r&&(g._d=!0,n=currentBlock,closeBlock())}return isArray$7(g)&&(g=filterSingleRoot(g)),g=normalizeVNode(g),n&&!g.dynamicChildren&&(g.dynamicChildren=n.filter(r=>r!==g)),g}function queueEffectWithSuspense(g,n){n&&n.pendingBranch?isArray$7(g)?n.effects.push(...g):n.effects.push(g):queuePostFlushCb(g)}function setActiveBranch(g,n){g.activeBranch=n;const{vnode:r,parentComponent:$}=g,L=r.el=n.el;$&&$.subTree===r&&($.vnode.el=L,updateHOCHostEl($,L))}provide=function(n,r){if(currentInstance){let $=currentInstance.provides;const L=currentInstance.parent&&currentInstance.parent.provides;L===$&&($=currentInstance.provides=Object.create(L)),$[n]=r}},inject=function(n,r,$=!1){const L=currentInstance||currentRenderingInstance;if(L){const V=L.parent==null?L.vnode.appContext&&L.vnode.appContext.provides:L.parent.provides;if(V&&n in V)return V[n];if(arguments.length>1)return $&&isFunction$4(r)?r.call(L.proxy):r}},watchEffect=function(n,r){return doWatch(n,null,r)},watchPostEffect=function(n,r){return doWatch(n,null,{flush:"post"})},watchSyncEffect=function(n,r){return doWatch(n,null,{flush:"sync"})};const INITIAL_WATCHER_VALUE={};watch=function(n,r,$){return doWatch(n,r,$)};function doWatch(g,n,{immediate:r,deep:$,flush:L,onTrack:V,onTrigger:oe}=EMPTY_OBJ$1){const re=getCurrentScope()===(currentInstance==null?void 0:currentInstance.scope)?currentInstance:null;let ae,le=!1,ue=!1;if(isRef(g)?(ae=()=>g.value,le=isShallow(g)):isReactive(g)?(ae=()=>g,$=!0):isArray$7(g)?(ue=!0,le=g.some(Ne=>isReactive(Ne)||isShallow(Ne)),ae=()=>g.map(Ne=>{if(isRef(Ne))return Ne.value;if(isReactive(Ne))return traverse(Ne);if(isFunction$4(Ne))return callWithErrorHandling(Ne,re,2)})):isFunction$4(g)?n?ae=()=>callWithErrorHandling(g,re,2):ae=()=>{if(!(re&&re.isUnmounted))return de&&de(),callWithAsyncErrorHandling(g,re,3,[pe])}:ae=NOOP,n&&$){const Ne=ae;ae=()=>traverse(Ne())}let de,pe=Ne=>{de=$e.onStop=()=>{callWithErrorHandling(Ne,re,4)}},he;if(isInSSRComponentSetup)if(pe=NOOP,n?r&&callWithAsyncErrorHandling(n,re,3,[ae(),ue?[]:void 0,pe]):ae(),L==="sync"){const Ne=useSSRContext();he=Ne.__watcherHandles||(Ne.__watcherHandles=[])}else return NOOP;let _e=ue?new Array(g.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const Oe=()=>{if($e.active)if(n){const Ne=$e.run();($||le||(ue?Ne.some((ze,Ue)=>hasChanged(ze,_e[Ue])):hasChanged(Ne,_e)))&&(de&&de(),callWithAsyncErrorHandling(n,re,3,[Ne,_e===INITIAL_WATCHER_VALUE?void 0:ue&&_e[0]===INITIAL_WATCHER_VALUE?[]:_e,pe]),_e=Ne)}else $e.run()};Oe.allowRecurse=!!n;let xe;L==="sync"?xe=Oe:L==="post"?xe=()=>queuePostRenderEffect(Oe,re&&re.suspense):(Oe.pre=!0,re&&(Oe.id=re.uid),xe=()=>queueJob(Oe));const $e=new ReactiveEffect(ae,xe);n?r?Oe():_e=$e.run():L==="post"?queuePostRenderEffect($e.run.bind($e),re&&re.suspense):$e.run();const Ie=()=>{$e.stop(),re&&re.scope&&remove$1(re.scope.effects,$e)};return he&&he.push(Ie),Ie}function instanceWatch(g,n,r){const $=this.proxy,L=isString$4(g)?g.includes(".")?createPathGetter($,g):()=>$[g]:g.bind($,$);let V;isFunction$4(n)?V=n:(V=n.handler,r=n);const oe=currentInstance;setCurrentInstance(this);const re=doWatch(L,V.bind($),r);return oe?setCurrentInstance(oe):unsetCurrentInstance(),re}function createPathGetter(g,n){const r=n.split(".");return()=>{let $=g;for(let L=0;L<r.length&&$;L++)$=$[r[L]];return $}}function traverse(g,n){if(!isObject$7(g)||g.__v_skip||(n=n||new Set,n.has(g)))return g;if(n.add(g),isRef(g))traverse(g.value,n);else if(isArray$7(g))for(let r=0;r<g.length;r++)traverse(g[r],n);else if(isSet$2(g)||isMap$2(g))g.forEach(r=>{traverse(r,n)});else if(isPlainObject$4(g))for(const r in g)traverse(g[r],n);return g}useTransitionState=function(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{n.isMounted=!0}),onBeforeUnmount(()=>{n.isUnmounting=!0}),n};let TransitionHookValidator,BaseTransitionImpl;TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(g,{slots:n}){const r=getCurrentInstance(),$=useTransitionState();let L;return()=>{const V=n.default&&getTransitionRawChildren(n.default(),!0);if(!V||!V.length)return;let oe=V[0];if(V.length>1){for(const Oe of V)if(Oe.type!==Comment){oe=Oe;break}}const re=toRaw(g),{mode:ae}=re;if($.isLeaving)return emptyPlaceholder(oe);const le=getKeepAliveChild(oe);if(!le)return emptyPlaceholder(oe);const ue=resolveTransitionHooks(le,re,$,r);setTransitionHooks(le,ue);const de=r.subTree,pe=de&&getKeepAliveChild(de);let he=!1;const{getTransitionKey:_e}=le.type;if(_e){const Oe=_e();L===void 0?L=Oe:Oe!==L&&(L=Oe,he=!0)}if(pe&&pe.type!==Comment&&(!isSameVNodeType(le,pe)||he)){const Oe=resolveTransitionHooks(pe,re,$,r);if(setTransitionHooks(pe,Oe),ae==="out-in")return $.isLeaving=!0,Oe.afterLeave=()=>{$.isLeaving=!1,r.update.active!==!1&&r.update()},emptyPlaceholder(oe);ae==="in-out"&&le.type!==Comment&&(Oe.delayLeave=(xe,$e,Ie)=>{const Ne=getLeavingNodesForType($,pe);Ne[String(pe.key)]=pe,xe._leaveCb=()=>{$e(),xe._leaveCb=void 0,delete ue.delayedLeave},ue.delayedLeave=Ie})}return oe}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(g,n){const{leavingVNodes:r}=g;let $=r.get(n.type);return $||($=Object.create(null),r.set(n.type,$)),$}resolveTransitionHooks=function g(n,r,$,L){const{appear:V,mode:oe,persisted:re=!1,onBeforeEnter:ae,onEnter:le,onAfterEnter:ue,onEnterCancelled:de,onBeforeLeave:pe,onLeave:he,onAfterLeave:_e,onLeaveCancelled:Oe,onBeforeAppear:xe,onAppear:$e,onAfterAppear:Ie,onAppearCancelled:Ne}=r,ze=String(n.key),Ue=getLeavingNodesForType($,n),Fe=(At,kt)=>{At&&callWithAsyncErrorHandling(At,L,9,kt)},qe=(At,kt)=>{const Dt=kt[1];Fe(At,kt),isArray$7(At)?At.every(jt=>jt.length<=1)&&Dt():At.length<=1&&Dt()},Et={mode:oe,persisted:re,beforeEnter(At){let kt=ae;if(!$.isMounted)if(V)kt=xe||ae;else return;At._leaveCb&&At._leaveCb(!0);const Dt=Ue[ze];Dt&&isSameVNodeType(n,Dt)&&Dt.el._leaveCb&&Dt.el._leaveCb(),Fe(kt,[At])},enter(At){let kt=le,Dt=ue,jt=de;if(!$.isMounted)if(V)kt=$e||le,Dt=Ie||ue,jt=Ne||de;else return;let Lt=!1;const hn=At._enterCb=Sn=>{Lt||(Lt=!0,Sn?Fe(jt,[At]):Fe(Dt,[At]),Et.delayedLeave&&Et.delayedLeave(),At._enterCb=void 0)};kt?qe(kt,[At,hn]):hn()},leave(At,kt){const Dt=String(n.key);if(At._enterCb&&At._enterCb(!0),$.isUnmounting)return kt();Fe(pe,[At]);let jt=!1;const Lt=At._leaveCb=hn=>{jt||(jt=!0,kt(),hn?Fe(Oe,[At]):Fe(_e,[At]),At._leaveCb=void 0,Ue[Dt]===n&&delete Ue[Dt])};Ue[Dt]=n,he?qe(he,[At,Lt]):Lt()},clone(At){return g(At,r,$,L)}};return Et};function emptyPlaceholder(g){if(isKeepAlive(g))return g=cloneVNode(g),g.children=null,g}function getKeepAliveChild(g){return isKeepAlive(g)?g.children?g.children[0]:void 0:g}setTransitionHooks=function g(n,r){n.shapeFlag&6&&n.component?g(n.component.subTree,r):n.shapeFlag&128?(n.ssContent.transition=r.clone(n.ssContent),n.ssFallback.transition=r.clone(n.ssFallback)):n.transition=r},getTransitionRawChildren=function g(n,r=!1,$){let L=[],V=0;for(let oe=0;oe<n.length;oe++){let re=n[oe];const ae=$==null?re.key:String($)+String(re.key!=null?re.key:oe);re.type===Fragment?(re.patchFlag&128&&V++,L=L.concat(g(re.children,r,ae))):(r||re.type!==Comment)&&L.push(ae!=null?cloneVNode(re,{key:ae}):re)}if(V>1)for(let oe=0;oe<L.length;oe++)L[oe].patchFlag=-2;return L},defineComponent=function(n){return isFunction$4(n)?{setup:n,name:n.name}:n};const isAsyncWrapper=g=>!!g.type.__asyncLoader;defineAsyncComponent=function(n){isFunction$4(n)&&(n={loader:n});const{loader:r,loadingComponent:$,errorComponent:L,delay:V=200,timeout:oe,suspensible:re=!0,onError:ae}=n;let le=null,ue,de=0;const pe=()=>(de++,le=null,he()),he=()=>{let _e;return le||(_e=le=r().catch(Oe=>{if(Oe=Oe instanceof Error?Oe:new Error(String(Oe)),ae)return new Promise((xe,$e)=>{ae(Oe,()=>xe(pe()),()=>$e(Oe),de+1)});throw Oe}).then(Oe=>_e!==le&&le?le:(Oe&&(Oe.__esModule||Oe[Symbol.toStringTag]==="Module")&&(Oe=Oe.default),ue=Oe,Oe)))};return defineComponent({name:"AsyncComponentWrapper",__asyncLoader:he,get __asyncResolved(){return ue},setup(){const _e=currentInstance;if(ue)return()=>createInnerComp(ue,_e);const Oe=Ne=>{le=null,handleError(Ne,_e,13,!L)};if(re&&_e.suspense||isInSSRComponentSetup)return he().then(Ne=>()=>createInnerComp(Ne,_e)).catch(Ne=>(Oe(Ne),()=>L?createVNode$1(L,{error:Ne}):null));const xe=ref(!1),$e=ref(),Ie=ref(!!V);return V&&setTimeout(()=>{Ie.value=!1},V),oe!=null&&setTimeout(()=>{if(!xe.value&&!$e.value){const Ne=new Error(`Async component timed out after ${oe}ms.`);Oe(Ne),$e.value=Ne}},oe),he().then(()=>{xe.value=!0,_e.parent&&isKeepAlive(_e.parent.vnode)&&queueJob(_e.parent.update)}).catch(Ne=>{Oe(Ne),$e.value=Ne}),()=>{if(xe.value&&ue)return createInnerComp(ue,_e);if($e.value&&L)return createVNode$1(L,{error:$e.value});if($&&!Ie.value)return createVNode$1($)}}})};function createInnerComp(g,n){const{ref:r,props:$,children:L,ce:V}=n.vnode,oe=createVNode$1(g,$,L);return oe.ref=r,oe.ce=V,delete n.vnode.ce,oe}let isKeepAlive,KeepAliveImpl;isKeepAlive=g=>g.type.__isKeepAlive,KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(g,{slots:n}){const r=getCurrentInstance(),$=r.ctx;if(!$.renderer)return()=>{const Ie=n.default&&n.default();return Ie&&Ie.length===1?Ie[0]:Ie};const L=new Map,V=new Set;let oe=null;const re=r.suspense,{renderer:{p:ae,m:le,um:ue,o:{createElement:de}}}=$,pe=de("div");$.activate=(Ie,Ne,ze,Ue,Fe)=>{const qe=Ie.component;le(Ie,Ne,ze,0,re),ae(qe.vnode,Ie,Ne,ze,qe,re,Ue,Ie.slotScopeIds,Fe),queuePostRenderEffect(()=>{qe.isDeactivated=!1,qe.a&&invokeArrayFns(qe.a);const Et=Ie.props&&Ie.props.onVnodeMounted;Et&&invokeVNodeHook(Et,qe.parent,Ie)},re)},$.deactivate=Ie=>{const Ne=Ie.component;le(Ie,pe,null,1,re),queuePostRenderEffect(()=>{Ne.da&&invokeArrayFns(Ne.da);const ze=Ie.props&&Ie.props.onVnodeUnmounted;ze&&invokeVNodeHook(ze,Ne.parent,Ie),Ne.isDeactivated=!0},re)};function he(Ie){resetShapeFlag(Ie),ue(Ie,r,re,!0)}function _e(Ie){L.forEach((Ne,ze)=>{const Ue=getComponentName(Ne.type);Ue&&(!Ie||!Ie(Ue))&&Oe(ze)})}function Oe(Ie){const Ne=L.get(Ie);!oe||!isSameVNodeType(Ne,oe)?he(Ne):oe&&resetShapeFlag(oe),L.delete(Ie),V.delete(Ie)}watch(()=>[g.include,g.exclude],([Ie,Ne])=>{Ie&&_e(ze=>matches(Ie,ze)),Ne&&_e(ze=>!matches(Ne,ze))},{flush:"post",deep:!0});let xe=null;const $e=()=>{xe!=null&&L.set(xe,getInnerChild(r.subTree))};return onMounted($e),onUpdated($e),onBeforeUnmount(()=>{L.forEach(Ie=>{const{subTree:Ne,suspense:ze}=r,Ue=getInnerChild(Ne);if(Ie.type===Ue.type&&Ie.key===Ue.key){resetShapeFlag(Ue);const Fe=Ue.component.da;Fe&&queuePostRenderEffect(Fe,ze);return}he(Ie)})}),()=>{if(xe=null,!n.default)return null;const Ie=n.default(),Ne=Ie[0];if(Ie.length>1)return oe=null,Ie;if(!isVNode(Ne)||!(Ne.shapeFlag&4)&&!(Ne.shapeFlag&128))return oe=null,Ne;let ze=getInnerChild(Ne);const Ue=ze.type,Fe=getComponentName(isAsyncWrapper(ze)?ze.type.__asyncResolved||{}:Ue),{include:qe,exclude:Et,max:At}=g;if(qe&&(!Fe||!matches(qe,Fe))||Et&&Fe&&matches(Et,Fe))return oe=ze,Ne;const kt=ze.key==null?Ue:ze.key,Dt=L.get(kt);return ze.el&&(ze=cloneVNode(ze),Ne.shapeFlag&128&&(Ne.ssContent=ze)),xe=kt,Dt?(ze.el=Dt.el,ze.component=Dt.component,ze.transition&&setTransitionHooks(ze,ze.transition),ze.shapeFlag|=512,V.delete(kt),V.add(kt)):(V.add(kt),At&&V.size>parseInt(At,10)&&Oe(V.values().next().value)),ze.shapeFlag|=256,oe=ze,isSuspense(Ne.type)?Ne:ze}}},KeepAlive=KeepAliveImpl;function matches(g,n){return isArray$7(g)?g.some(r=>matches(r,n)):isString$4(g)?g.split(",").includes(n):isRegExp$3(g)?g.test(n):!1}onActivated=function(n,r){registerKeepAliveHook(n,"a",r)},onDeactivated=function(n,r){registerKeepAliveHook(n,"da",r)};function registerKeepAliveHook(g,n,r=currentInstance){const $=g.__wdc||(g.__wdc=()=>{let L=r;for(;L;){if(L.isDeactivated)return;L=L.parent}return g()});if(injectHook(n,$,r),r){let L=r.parent;for(;L&&L.parent;)isKeepAlive(L.parent.vnode)&&injectToKeepAliveRoot($,n,r,L),L=L.parent}}function injectToKeepAliveRoot(g,n,r,$){const L=injectHook(n,g,$,!0);onUnmounted(()=>{remove$1($[n],L)},r)}function resetShapeFlag(g){g.shapeFlag&=-257,g.shapeFlag&=-513}function getInnerChild(g){return g.shapeFlag&128?g.ssContent:g}function injectHook(g,n,r=currentInstance,$=!1){if(r){const L=r[g]||(r[g]=[]),V=n.__weh||(n.__weh=(...oe)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const re=callWithAsyncErrorHandling(n,r,g,oe);return unsetCurrentInstance(),resetTracking(),re});return $?L.unshift(V):L.push(V),V}}let createHook;createHook=g=>(n,r=currentInstance)=>(!isInSSRComponentSetup||g==="sp")&&injectHook(g,(...$)=>n(...$),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc"),onErrorCaptured=function(n,r=currentInstance){injectHook("ec",n,r)},withDirectives=function(n,r){const $=currentRenderingInstance;if($===null)return n;const L=getExposeProxy($)||$.proxy,V=n.dirs||(n.dirs=[]);for(let oe=0;oe<r.length;oe++){let[re,ae,le,ue=EMPTY_OBJ$1]=r[oe];re&&(isFunction$4(re)&&(re={mounted:re,updated:re}),re.deep&&traverse(ae),V.push({dir:re,instance:L,value:ae,oldValue:void 0,arg:le,modifiers:ue}))}return n};function invokeDirectiveHook(g,n,r,$){const L=g.dirs,V=n&&n.dirs;for(let oe=0;oe<L.length;oe++){const re=L[oe];V&&(re.oldValue=V[oe].value);let ae=re.dir[$];ae&&(pauseTracking(),callWithAsyncErrorHandling(ae,r,8,[g.el,re,g,n]),resetTracking())}}const COMPONENTS="components",DIRECTIVES="directives";resolveComponent=function(n,r){return resolveAsset(COMPONENTS,n,!0,r)||n};const NULL_DYNAMIC_COMPONENT=Symbol();resolveDynamicComponent=function(n){return isString$4(n)?resolveAsset(COMPONENTS,n,!1)||n:n||NULL_DYNAMIC_COMPONENT},resolveDirective=function(n){return resolveAsset(DIRECTIVES,n)};function resolveAsset(g,n,r=!0,$=!1){const L=currentRenderingInstance||currentInstance;if(L){const V=L.type;if(g===COMPONENTS){const re=getComponentName(V,!1);if(re&&(re===n||re===camelize(n)||re===capitalize$1(camelize(n))))return V}const oe=resolve(L[g]||V[g],n)||resolve(L.appContext[g],n);return!oe&&$?V:oe}}function resolve(g,n){return g&&(g[n]||g[camelize(n)]||g[capitalize$1(camelize(n))])}renderList=function(n,r,$,L){let V;const oe=$&&$[L];if(isArray$7(n)||isString$4(n)){V=new Array(n.length);for(let re=0,ae=n.length;re<ae;re++)V[re]=r(n[re],re,void 0,oe&&oe[re])}else if(typeof n=="number"){V=new Array(n);for(let re=0;re<n;re++)V[re]=r(re+1,re,void 0,oe&&oe[re])}else if(isObject$7(n))if(n[Symbol.iterator])V=Array.from(n,(re,ae)=>r(re,ae,void 0,oe&&oe[ae]));else{const re=Object.keys(n);V=new Array(re.length);for(let ae=0,le=re.length;ae<le;ae++){const ue=re[ae];V[ae]=r(n[ue],ue,ae,oe&&oe[ae])}}else V=[];return $&&($[L]=V),V},createSlots=function(n,r){for(let $=0;$<r.length;$++){const L=r[$];if(isArray$7(L))for(let V=0;V<L.length;V++)n[L[V].name]=L[V].fn;else L&&(n[L.name]=L.key?(...V)=>{const oe=L.fn(...V);return oe&&(oe.key=L.key),oe}:L.fn)}return n},renderSlot=function(n,r,$={},L,V){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return r!=="default"&&($.name=r),createVNode$1("slot",$,L&&L());let oe=n[r];oe&&oe._c&&(oe._d=!1),openBlock();const re=oe&&ensureValidVNode(oe($)),ae=createBlock(Fragment,{key:$.key||re&&re.key||`_${r}`},re||(L?L():[]),re&&n._===1?64:-2);return!V&&ae.scopeId&&(ae.slotScopeIds=[ae.scopeId+"-s"]),oe&&oe._c&&(oe._d=!0),ae};function ensureValidVNode(g){return g.some(n=>isVNode(n)?!(n.type===Comment||n.type===Fragment&&!ensureValidVNode(n.children)):!0)?g:null}toHandlers=function(n,r){const $={};for(const L in n)$[r&&/[A-Z]/.test(L)?`on:${L}`:toHandlerKey(L)]=n[L];return $};const getPublicInstance=g=>g?isStatefulComponent(g)?getExposeProxy(g)||g.proxy:getPublicInstance(g.parent):null,publicPropertiesMap=extend$4(Object.create(null),{$:g=>g,$el:g=>g.vnode.el,$data:g=>g.data,$props:g=>g.props,$attrs:g=>g.attrs,$slots:g=>g.slots,$refs:g=>g.refs,$parent:g=>getPublicInstance(g.parent),$root:g=>getPublicInstance(g.root),$emit:g=>g.emit,$options:g=>resolveMergedOptions(g),$forceUpdate:g=>g.f||(g.f=()=>queueJob(g.update)),$nextTick:g=>g.n||(g.n=nextTick.bind(g.proxy)),$watch:g=>instanceWatch.bind(g)}),hasSetupBinding=(g,n)=>g!==EMPTY_OBJ$1&&!g.__isScriptSetup&&hasOwn$1(g,n),PublicInstanceProxyHandlers={get({_:g},n){const{ctx:r,setupState:$,data:L,props:V,accessCache:oe,type:re,appContext:ae}=g;let le;if(n[0]!=="$"){const he=oe[n];if(he!==void 0)switch(he){case 1:return $[n];case 2:return L[n];case 4:return r[n];case 3:return V[n]}else{if(hasSetupBinding($,n))return oe[n]=1,$[n];if(L!==EMPTY_OBJ$1&&hasOwn$1(L,n))return oe[n]=2,L[n];if((le=g.propsOptions[0])&&hasOwn$1(le,n))return oe[n]=3,V[n];if(r!==EMPTY_OBJ$1&&hasOwn$1(r,n))return oe[n]=4,r[n];shouldCacheAccess&&(oe[n]=0)}}const ue=publicPropertiesMap[n];let de,pe;if(ue)return n==="$attrs"&&track(g,"get",n),ue(g);if((de=re.__cssModules)&&(de=de[n]))return de;if(r!==EMPTY_OBJ$1&&hasOwn$1(r,n))return oe[n]=4,r[n];if(pe=ae.config.globalProperties,hasOwn$1(pe,n))return pe[n]},set({_:g},n,r){const{data:$,setupState:L,ctx:V}=g;return hasSetupBinding(L,n)?(L[n]=r,!0):$!==EMPTY_OBJ$1&&hasOwn$1($,n)?($[n]=r,!0):hasOwn$1(g.props,n)||n[0]==="$"&&n.slice(1)in g?!1:(V[n]=r,!0)},has({_:{data:g,setupState:n,accessCache:r,ctx:$,appContext:L,propsOptions:V}},oe){let re;return!!r[oe]||g!==EMPTY_OBJ$1&&hasOwn$1(g,oe)||hasSetupBinding(n,oe)||(re=V[0])&&hasOwn$1(re,oe)||hasOwn$1($,oe)||hasOwn$1(publicPropertiesMap,oe)||hasOwn$1(L.config.globalProperties,oe)},defineProperty(g,n,r){return r.get!=null?g._.accessCache[n]=0:hasOwn$1(r,"value")&&this.set(g,n,r.value,null),Reflect.defineProperty(g,n,r)}},RuntimeCompiledPublicInstanceProxyHandlers=extend$4({},PublicInstanceProxyHandlers,{get(g,n){if(n!==Symbol.unscopables)return PublicInstanceProxyHandlers.get(g,n,g)},has(g,n){return n[0]!=="_"&&!isGloballyWhitelisted(n)}});let shouldCacheAccess=!0;function applyOptions(g){const n=resolveMergedOptions(g),r=g.proxy,$=g.ctx;shouldCacheAccess=!1,n.beforeCreate&&callHook$1(n.beforeCreate,g,"bc");const{data:L,computed:V,methods:oe,watch:re,provide:ae,inject:le,created:ue,beforeMount:de,mounted:pe,beforeUpdate:he,updated:_e,activated:Oe,deactivated:xe,beforeDestroy:$e,beforeUnmount:Ie,destroyed:Ne,unmounted:ze,render:Ue,renderTracked:Fe,renderTriggered:qe,errorCaptured:Et,serverPrefetch:At,expose:kt,inheritAttrs:Dt,components:jt,directives:Lt,filters:hn}=n;if(le&&resolveInjections(le,$,null,g.appContext.config.unwrapInjectedRef),oe)for(const On in oe){const _n=oe[On];isFunction$4(_n)&&($[On]=_n.bind(r))}if(L){const On=L.call(r,r);isObject$7(On)&&(g.data=reactive(On))}if(shouldCacheAccess=!0,V)for(const On in V){const _n=V[On],xn=isFunction$4(_n)?_n.bind(r,r):isFunction$4(_n.get)?_n.get.bind(r,r):NOOP,bn=!isFunction$4(_n)&&isFunction$4(_n.set)?_n.set.bind(r):NOOP,Tn=computed({get:xn,set:bn});Object.defineProperty($,On,{enumerable:!0,configurable:!0,get:()=>Tn.value,set:An=>Tn.value=An})}if(re)for(const On in re)createWatcher(re[On],$,r,On);if(ae){const On=isFunction$4(ae)?ae.call(r):ae;Reflect.ownKeys(On).forEach(_n=>{provide(_n,On[_n])})}ue&&callHook$1(ue,g,"c");function Sn(On,_n){isArray$7(_n)?_n.forEach(xn=>On(xn.bind(r))):_n&&On(_n.bind(r))}if(Sn(onBeforeMount,de),Sn(onMounted,pe),Sn(onBeforeUpdate,he),Sn(onUpdated,_e),Sn(onActivated,Oe),Sn(onDeactivated,xe),Sn(onErrorCaptured,Et),Sn(onRenderTracked,Fe),Sn(onRenderTriggered,qe),Sn(onBeforeUnmount,Ie),Sn(onUnmounted,ze),Sn(onServerPrefetch,At),isArray$7(kt))if(kt.length){const On=g.exposed||(g.exposed={});kt.forEach(_n=>{Object.defineProperty(On,_n,{get:()=>r[_n],set:xn=>r[_n]=xn})})}else g.exposed||(g.exposed={});Ue&&g.render===NOOP&&(g.render=Ue),Dt!=null&&(g.inheritAttrs=Dt),jt&&(g.components=jt),Lt&&(g.directives=Lt)}function resolveInjections(g,n,r=NOOP,$=!1){isArray$7(g)&&(g=normalizeInject(g));for(const L in g){const V=g[L];let oe;isObject$7(V)?"default"in V?oe=inject(V.from||L,V.default,!0):oe=inject(V.from||L):oe=inject(V),isRef(oe)&&$?Object.defineProperty(n,L,{enumerable:!0,configurable:!0,get:()=>oe.value,set:re=>oe.value=re}):n[L]=oe}}function callHook$1(g,n,r){callWithAsyncErrorHandling(isArray$7(g)?g.map($=>$.bind(n.proxy)):g.bind(n.proxy),n,r)}function createWatcher(g,n,r,$){const L=$.includes(".")?createPathGetter(r,$):()=>r[$];if(isString$4(g)){const V=n[g];isFunction$4(V)&&watch(L,V)}else if(isFunction$4(g))watch(L,g.bind(r));else if(isObject$7(g))if(isArray$7(g))g.forEach(V=>createWatcher(V,n,r,$));else{const V=isFunction$4(g.handler)?g.handler.bind(r):n[g.handler];isFunction$4(V)&&watch(L,V,g)}}function resolveMergedOptions(g){const n=g.type,{mixins:r,extends:$}=n,{mixins:L,optionsCache:V,config:{optionMergeStrategies:oe}}=g.appContext,re=V.get(n);let ae;return re?ae=re:!L.length&&!r&&!$?ae=n:(ae={},L.length&&L.forEach(le=>mergeOptions$2(ae,le,oe,!0)),mergeOptions$2(ae,n,oe)),isObject$7(n)&&V.set(n,ae),ae}function mergeOptions$2(g,n,r,$=!1){const{mixins:L,extends:V}=n;V&&mergeOptions$2(g,V,r,!0),L&&L.forEach(oe=>mergeOptions$2(g,oe,r,!0));for(const oe in n)if(!($&&oe==="expose")){const re=internalOptionMergeStrats[oe]||r&&r[oe];g[oe]=re?re(g[oe],n[oe]):n[oe]}return g}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(g,n){return n?g?function(){return extend$4(isFunction$4(g)?g.call(this,this):g,isFunction$4(n)?n.call(this,this):n)}:n:g}function mergeInject(g,n){return mergeObjectOptions(normalizeInject(g),normalizeInject(n))}function normalizeInject(g){if(isArray$7(g)){const n={};for(let r=0;r<g.length;r++)n[g[r]]=g[r];return n}return g}function mergeAsArray(g,n){return g?[...new Set([].concat(g,n))]:n}function mergeObjectOptions(g,n){return g?extend$4(extend$4(Object.create(null),g),n):n}function mergeWatchOptions(g,n){if(!g)return n;if(!n)return g;const r=extend$4(Object.create(null),g);for(const $ in n)r[$]=mergeAsArray(g[$],n[$]);return r}function initProps$1(g,n,r,$=!1){const L={},V={};def(V,InternalObjectKey,1),g.propsDefaults=Object.create(null),setFullProps(g,n,L,V);for(const oe in g.propsOptions[0])oe in L||(L[oe]=void 0);r?g.props=$?L:shallowReactive(L):g.type.props?g.props=L:g.props=V,g.attrs=V}function updateProps$2(g,n,r,$){const{props:L,attrs:V,vnode:{patchFlag:oe}}=g,re=toRaw(L),[ae]=g.propsOptions;let le=!1;if(($||oe>0)&&!(oe&16)){if(oe&8){const ue=g.vnode.dynamicProps;for(let de=0;de<ue.length;de++){let pe=ue[de];if(isEmitListener(g.emitsOptions,pe))continue;const he=n[pe];if(ae)if(hasOwn$1(V,pe))he!==V[pe]&&(V[pe]=he,le=!0);else{const _e=camelize(pe);L[_e]=resolvePropValue(ae,re,_e,he,g,!1)}else he!==V[pe]&&(V[pe]=he,le=!0)}}}else{setFullProps(g,n,L,V)&&(le=!0);let ue;for(const de in re)(!n||!hasOwn$1(n,de)&&((ue=hyphenate(de))===de||!hasOwn$1(n,ue)))&&(ae?r&&(r[de]!==void 0||r[ue]!==void 0)&&(L[de]=resolvePropValue(ae,re,de,void 0,g,!0)):delete L[de]);if(V!==re)for(const de in V)(!n||!hasOwn$1(n,de)&&!0)&&(delete V[de],le=!0)}le&&trigger$2(g,"set","$attrs")}function setFullProps(g,n,r,$){const[L,V]=g.propsOptions;let oe=!1,re;if(n)for(let ae in n){if(isReservedProp(ae))continue;const le=n[ae];let ue;L&&hasOwn$1(L,ue=camelize(ae))?!V||!V.includes(ue)?r[ue]=le:(re||(re={}))[ue]=le:isEmitListener(g.emitsOptions,ae)||(!(ae in $)||le!==$[ae])&&($[ae]=le,oe=!0)}if(V){const ae=toRaw(r),le=re||EMPTY_OBJ$1;for(let ue=0;ue<V.length;ue++){const de=V[ue];r[de]=resolvePropValue(L,ae,de,le[de],g,!hasOwn$1(le,de))}}return oe}function resolvePropValue(g,n,r,$,L,V){const oe=g[r];if(oe!=null){const re=hasOwn$1(oe,"default");if(re&&$===void 0){const ae=oe.default;if(oe.type!==Function&&isFunction$4(ae)){const{propsDefaults:le}=L;r in le?$=le[r]:(setCurrentInstance(L),$=le[r]=ae.call(null,n),unsetCurrentInstance())}else $=ae}oe[0]&&(V&&!re?$=!1:oe[1]&&($===""||$===hyphenate(r))&&($=!0))}return $}function normalizePropsOptions(g,n,r=!1){const $=n.propsCache,L=$.get(g);if(L)return L;const V=g.props,oe={},re=[];let ae=!1;if(!isFunction$4(g)){const ue=de=>{ae=!0;const[pe,he]=normalizePropsOptions(de,n,!0);extend$4(oe,pe),he&&re.push(...he)};!r&&n.mixins.length&&n.mixins.forEach(ue),g.extends&&ue(g.extends),g.mixins&&g.mixins.forEach(ue)}if(!V&&!ae)return isObject$7(g)&&$.set(g,EMPTY_ARR),EMPTY_ARR;if(isArray$7(V))for(let ue=0;ue<V.length;ue++){const de=camelize(V[ue]);validatePropName(de)&&(oe[de]=EMPTY_OBJ$1)}else if(V)for(const ue in V){const de=camelize(ue);if(validatePropName(de)){const pe=V[ue],he=oe[de]=isArray$7(pe)||isFunction$4(pe)?{type:pe}:Object.assign({},pe);if(he){const _e=getTypeIndex(Boolean,he.type),Oe=getTypeIndex(String,he.type);he[0]=_e>-1,he[1]=Oe<0||_e<Oe,(_e>-1||hasOwn$1(he,"default"))&&re.push(de)}}}const le=[oe,re];return isObject$7(g)&&$.set(g,le),le}function validatePropName(g){return g[0]!=="$"}function getType(g){const n=g&&g.toString().match(/^\s*(function|class) (\w+)/);return n?n[2]:g===null?"null":""}function isSameType(g,n){return getType(g)===getType(n)}function getTypeIndex(g,n){return isArray$7(n)?n.findIndex(r=>isSameType(r,g)):isFunction$4(n)&&isSameType(n,g)?0:-1}const isInternalKey=g=>g[0]==="_"||g==="$stable",normalizeSlotValue=g=>isArray$7(g)?g.map(normalizeVNode):[normalizeVNode(g)],normalizeSlot$1=(g,n,r)=>{if(n._n)return n;const $=withCtx((...L)=>normalizeSlotValue(n(...L)),r);return $._c=!1,$},normalizeObjectSlots=(g,n,r)=>{const $=g._ctx;for(const L in g){if(isInternalKey(L))continue;const V=g[L];if(isFunction$4(V))n[L]=normalizeSlot$1(L,V,$);else if(V!=null){const oe=normalizeSlotValue(V);n[L]=()=>oe}}},normalizeVNodeSlots=(g,n)=>{const r=normalizeSlotValue(n);g.slots.default=()=>r},initSlots=(g,n)=>{if(g.vnode.shapeFlag&32){const r=n._;r?(g.slots=toRaw(n),def(n,"_",r)):normalizeObjectSlots(n,g.slots={})}else g.slots={},n&&normalizeVNodeSlots(g,n);def(g.slots,InternalObjectKey,1)},updateSlots=(g,n,r)=>{const{vnode:$,slots:L}=g;let V=!0,oe=EMPTY_OBJ$1;if($.shapeFlag&32){const re=n._;re?r&&re===1?V=!1:(extend$4(L,n),!r&&re===1&&delete L._):(V=!n.$stable,normalizeObjectSlots(n,L)),oe=n}else n&&(normalizeVNodeSlots(g,n),oe={default:1});if(V)for(const re in L)!isInternalKey(re)&&!(re in oe)&&delete L[re]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(g,n){return function(r,$=null){isFunction$4(r)||(r=Object.assign({},r)),$!=null&&!isObject$7($)&&($=null);const L=createAppContext(),V=new Set;let oe=!1;const re=L.app={_uid:uid$1++,_component:r,_props:$,_container:null,_context:L,_instance:null,version,get config(){return L.config},set config(ae){},use(ae,...le){return V.has(ae)||(ae&&isFunction$4(ae.install)?(V.add(ae),ae.install(re,...le)):isFunction$4(ae)&&(V.add(ae),ae(re,...le))),re},mixin(ae){return L.mixins.includes(ae)||L.mixins.push(ae),re},component(ae,le){return le?(L.components[ae]=le,re):L.components[ae]},directive(ae,le){return le?(L.directives[ae]=le,re):L.directives[ae]},mount(ae,le,ue){if(!oe){const de=createVNode$1(r,$);return de.appContext=L,le&&n?n(de,ae):g(de,ae,ue),oe=!0,re._container=ae,ae.__vue_app__=re,getExposeProxy(de.component)||de.component.proxy}},unmount(){oe&&(g(null,re._container),delete re._container.__vue_app__)},provide(ae,le){return L.provides[ae]=le,re}};return re}}function setRef(g,n,r,$,L=!1){if(isArray$7(g)){g.forEach((pe,he)=>setRef(pe,n&&(isArray$7(n)?n[he]:n),r,$,L));return}if(isAsyncWrapper($)&&!L)return;const V=$.shapeFlag&4?getExposeProxy($.component)||$.component.proxy:$.el,oe=L?null:V,{i:re,r:ae}=g,le=n&&n.r,ue=re.refs===EMPTY_OBJ$1?re.refs={}:re.refs,de=re.setupState;if(le!=null&&le!==ae&&(isString$4(le)?(ue[le]=null,hasOwn$1(de,le)&&(de[le]=null)):isRef(le)&&(le.value=null)),isFunction$4(ae))callWithErrorHandling(ae,re,12,[oe,ue]);else{const pe=isString$4(ae),he=isRef(ae);if(pe||he){const _e=()=>{if(g.f){const Oe=pe?hasOwn$1(de,ae)?de[ae]:ue[ae]:ae.value;L?isArray$7(Oe)&&remove$1(Oe,V):isArray$7(Oe)?Oe.includes(V)||Oe.push(V):pe?(ue[ae]=[V],hasOwn$1(de,ae)&&(de[ae]=ue[ae])):(ae.value=[V],g.k&&(ue[g.k]=ae.value))}else pe?(ue[ae]=oe,hasOwn$1(de,ae)&&(de[ae]=oe)):he&&(ae.value=oe,g.k&&(ue[g.k]=oe))};oe?(_e.id=-1,queuePostRenderEffect(_e,r)):_e()}}}let hasMismatch=!1;const isSVGContainer=g=>/svg/.test(g.namespaceURI)&&g.tagName!=="foreignObject",isComment=g=>g.nodeType===8;function createHydrationFunctions(g){const{mt:n,p:r,o:{patchProp:$,createText:L,nextSibling:V,parentNode:oe,remove:re,insert:ae,createComment:le}}=g,ue=($e,Ie)=>{if(!Ie.hasChildNodes()){r(null,$e,Ie),flushPostFlushCbs(),Ie._vnode=$e;return}hasMismatch=!1,de(Ie.firstChild,$e,null,null,null),flushPostFlushCbs(),Ie._vnode=$e,hasMismatch&&console.error("Hydration completed but contains mismatches.")},de=($e,Ie,Ne,ze,Ue,Fe=!1)=>{const qe=isComment($e)&&$e.data==="[",Et=()=>Oe($e,Ie,Ne,ze,Ue,qe),{type:At,ref:kt,shapeFlag:Dt,patchFlag:jt}=Ie;let Lt=$e.nodeType;Ie.el=$e,jt===-2&&(Fe=!1,Ie.dynamicChildren=null);let hn=null;switch(At){case Text$1:Lt!==3?Ie.children===""?(ae(Ie.el=L(""),oe($e),$e),hn=$e):hn=Et():($e.data!==Ie.children&&(hasMismatch=!0,$e.data=Ie.children),hn=V($e));break;case Comment:Lt!==8||qe?hn=Et():hn=V($e);break;case Static:if(qe&&($e=V($e),Lt=$e.nodeType),Lt===1||Lt===3){hn=$e;const Sn=!Ie.children.length;for(let On=0;On<Ie.staticCount;On++)Sn&&(Ie.children+=hn.nodeType===1?hn.outerHTML:hn.data),On===Ie.staticCount-1&&(Ie.anchor=hn),hn=V(hn);return qe?V(hn):hn}else Et();break;case Fragment:qe?hn=_e($e,Ie,Ne,ze,Ue,Fe):hn=Et();break;default:if(Dt&1)Lt!==1||Ie.type.toLowerCase()!==$e.tagName.toLowerCase()?hn=Et():hn=pe($e,Ie,Ne,ze,Ue,Fe);else if(Dt&6){Ie.slotScopeIds=Ue;const Sn=oe($e);if(n(Ie,Sn,null,Ne,ze,isSVGContainer(Sn),Fe),hn=qe?xe($e):V($e),hn&&isComment(hn)&&hn.data==="teleport end"&&(hn=V(hn)),isAsyncWrapper(Ie)){let On;qe?(On=createVNode$1(Fragment),On.anchor=hn?hn.previousSibling:Sn.lastChild):On=$e.nodeType===3?createTextVNode(""):createVNode$1("div"),On.el=$e,Ie.component.subTree=On}}else Dt&64?Lt!==8?hn=Et():hn=Ie.type.hydrate($e,Ie,Ne,ze,Ue,Fe,g,he):Dt&128&&(hn=Ie.type.hydrate($e,Ie,Ne,ze,isSVGContainer(oe($e)),Ue,Fe,g,de))}return kt!=null&&setRef(kt,null,ze,Ie),hn},pe=($e,Ie,Ne,ze,Ue,Fe)=>{Fe=Fe||!!Ie.dynamicChildren;const{type:qe,props:Et,patchFlag:At,shapeFlag:kt,dirs:Dt}=Ie,jt=qe==="input"&&Dt||qe==="option";if(jt||At!==-1){if(Dt&&invokeDirectiveHook(Ie,null,Ne,"created"),Et)if(jt||!Fe||At&48)for(const hn in Et)(jt&&hn.endsWith("value")||isOn(hn)&&!isReservedProp(hn))&&$($e,hn,null,Et[hn],!1,void 0,Ne);else Et.onClick&&$($e,"onClick",null,Et.onClick,!1,void 0,Ne);let Lt;if((Lt=Et&&Et.onVnodeBeforeMount)&&invokeVNodeHook(Lt,Ne,Ie),Dt&&invokeDirectiveHook(Ie,null,Ne,"beforeMount"),((Lt=Et&&Et.onVnodeMounted)||Dt)&&queueEffectWithSuspense(()=>{Lt&&invokeVNodeHook(Lt,Ne,Ie),Dt&&invokeDirectiveHook(Ie,null,Ne,"mounted")},ze),kt&16&&!(Et&&(Et.innerHTML||Et.textContent))){let hn=he($e.firstChild,Ie,$e,Ne,ze,Ue,Fe);for(;hn;){hasMismatch=!0;const Sn=hn;hn=hn.nextSibling,re(Sn)}}else kt&8&&$e.textContent!==Ie.children&&(hasMismatch=!0,$e.textContent=Ie.children)}return $e.nextSibling},he=($e,Ie,Ne,ze,Ue,Fe,qe)=>{qe=qe||!!Ie.dynamicChildren;const Et=Ie.children,At=Et.length;for(let kt=0;kt<At;kt++){const Dt=qe?Et[kt]:Et[kt]=normalizeVNode(Et[kt]);if($e)$e=de($e,Dt,ze,Ue,Fe,qe);else{if(Dt.type===Text$1&&!Dt.children)continue;hasMismatch=!0,r(null,Dt,Ne,null,ze,Ue,isSVGContainer(Ne),Fe)}}return $e},_e=($e,Ie,Ne,ze,Ue,Fe)=>{const{slotScopeIds:qe}=Ie;qe&&(Ue=Ue?Ue.concat(qe):qe);const Et=oe($e),At=he(V($e),Ie,Et,Ne,ze,Ue,Fe);return At&&isComment(At)&&At.data==="]"?V(Ie.anchor=At):(hasMismatch=!0,ae(Ie.anchor=le("]"),Et,At),At)},Oe=($e,Ie,Ne,ze,Ue,Fe)=>{if(hasMismatch=!0,Ie.el=null,Fe){const At=xe($e);for(;;){const kt=V($e);if(kt&&kt!==At)re(kt);else break}}const qe=V($e),Et=oe($e);return re($e),r(null,Ie,Et,qe,Ne,ze,isSVGContainer(Et),Ue),qe},xe=$e=>{let Ie=0;for(;$e;)if($e=V($e),$e&&isComment($e)&&($e.data==="["&&Ie++,$e.data==="]")){if(Ie===0)return V($e);Ie--}return $e};return[ue,de]}const queuePostRenderEffect=queueEffectWithSuspense;createRenderer=function(n){return baseCreateRenderer(n)},createHydrationRenderer=function(n){return baseCreateRenderer(n,createHydrationFunctions)};function baseCreateRenderer(g,n){const r=getGlobalThis();r.__VUE__=!0;const{insert:$,remove:L,patchProp:V,createElement:oe,createText:re,createComment:ae,setText:le,setElementText:ue,parentNode:de,nextSibling:pe,setScopeId:he=NOOP,insertStaticContent:_e}=g,Oe=($n,kn,Bn,Yn=null,Jn=null,Kn=null,po=!1,oo=null,lo=!!kn.dynamicChildren)=>{if($n===kn)return;$n&&!isSameVNodeType($n,kn)&&(Yn=In($n),En($n,Jn,Kn,!0),$n=null),kn.patchFlag===-2&&(lo=!1,kn.dynamicChildren=null);const{type:no,ref:vo,shapeFlag:Zn}=kn;switch(no){case Text$1:xe($n,kn,Bn,Yn);break;case Comment:$e($n,kn,Bn,Yn);break;case Static:$n==null&&Ie(kn,Bn,Yn,po);break;case Fragment:jt($n,kn,Bn,Yn,Jn,Kn,po,oo,lo);break;default:Zn&1?Ue($n,kn,Bn,Yn,Jn,Kn,po,oo,lo):Zn&6?Lt($n,kn,Bn,Yn,Jn,Kn,po,oo,lo):(Zn&64||Zn&128)&&no.process($n,kn,Bn,Yn,Jn,Kn,po,oo,lo,Vn)}vo!=null&&Jn&&setRef(vo,$n&&$n.ref,Kn,kn||$n,!kn)},xe=($n,kn,Bn,Yn)=>{if($n==null)$(kn.el=re(kn.children),Bn,Yn);else{const Jn=kn.el=$n.el;kn.children!==$n.children&&le(Jn,kn.children)}},$e=($n,kn,Bn,Yn)=>{$n==null?$(kn.el=ae(kn.children||""),Bn,Yn):kn.el=$n.el},Ie=($n,kn,Bn,Yn)=>{[$n.el,$n.anchor]=_e($n.children,kn,Bn,Yn,$n.el,$n.anchor)},Ne=({el:$n,anchor:kn},Bn,Yn)=>{let Jn;for(;$n&&$n!==kn;)Jn=pe($n),$($n,Bn,Yn),$n=Jn;$(kn,Bn,Yn)},ze=({el:$n,anchor:kn})=>{let Bn;for(;$n&&$n!==kn;)Bn=pe($n),L($n),$n=Bn;L(kn)},Ue=($n,kn,Bn,Yn,Jn,Kn,po,oo,lo)=>{po=po||kn.type==="svg",$n==null?Fe(kn,Bn,Yn,Jn,Kn,po,oo,lo):At($n,kn,Jn,Kn,po,oo,lo)},Fe=($n,kn,Bn,Yn,Jn,Kn,po,oo)=>{let lo,no;const{type:vo,props:Zn,shapeFlag:ho,transition:yo,dirs:Oo}=$n;if(lo=$n.el=oe($n.type,Kn,Zn&&Zn.is,Zn),ho&8?ue(lo,$n.children):ho&16&&Et($n.children,lo,null,Yn,Jn,Kn&&vo!=="foreignObject",po,oo),Oo&&invokeDirectiveHook($n,null,Yn,"created"),qe(lo,$n,$n.scopeId,po,Yn),Zn){for(const ro in Zn)ro!=="value"&&!isReservedProp(ro)&&V(lo,ro,null,Zn[ro],Kn,$n.children,Yn,Jn,Fn);"value"in Zn&&V(lo,"value",null,Zn.value),(no=Zn.onVnodeBeforeMount)&&invokeVNodeHook(no,Yn,$n)}Oo&&invokeDirectiveHook($n,null,Yn,"beforeMount");const Co=(!Jn||Jn&&!Jn.pendingBranch)&&yo&&!yo.persisted;Co&&yo.beforeEnter(lo),$(lo,kn,Bn),((no=Zn&&Zn.onVnodeMounted)||Co||Oo)&&queuePostRenderEffect(()=>{no&&invokeVNodeHook(no,Yn,$n),Co&&yo.enter(lo),Oo&&invokeDirectiveHook($n,null,Yn,"mounted")},Jn)},qe=($n,kn,Bn,Yn,Jn)=>{if(Bn&&he($n,Bn),Yn)for(let Kn=0;Kn<Yn.length;Kn++)he($n,Yn[Kn]);if(Jn){let Kn=Jn.subTree;if(kn===Kn){const po=Jn.vnode;qe($n,po,po.scopeId,po.slotScopeIds,Jn.parent)}}},Et=($n,kn,Bn,Yn,Jn,Kn,po,oo,lo=0)=>{for(let no=lo;no<$n.length;no++){const vo=$n[no]=oo?cloneIfMounted($n[no]):normalizeVNode($n[no]);Oe(null,vo,kn,Bn,Yn,Jn,Kn,po,oo)}},At=($n,kn,Bn,Yn,Jn,Kn,po)=>{const oo=kn.el=$n.el;let{patchFlag:lo,dynamicChildren:no,dirs:vo}=kn;lo|=$n.patchFlag&16;const Zn=$n.props||EMPTY_OBJ$1,ho=kn.props||EMPTY_OBJ$1;let yo;Bn&&toggleRecurse(Bn,!1),(yo=ho.onVnodeBeforeUpdate)&&invokeVNodeHook(yo,Bn,kn,$n),vo&&invokeDirectiveHook(kn,$n,Bn,"beforeUpdate"),Bn&&toggleRecurse(Bn,!0);const Oo=Jn&&kn.type!=="foreignObject";if(no?kt($n.dynamicChildren,no,oo,Bn,Yn,Oo,Kn):po||xn($n,kn,oo,null,Bn,Yn,Oo,Kn,!1),lo>0){if(lo&16)Dt(oo,kn,Zn,ho,Bn,Yn,Jn);else if(lo&2&&Zn.class!==ho.class&&V(oo,"class",null,ho.class,Jn),lo&4&&V(oo,"style",Zn.style,ho.style,Jn),lo&8){const Co=kn.dynamicProps;for(let ro=0;ro<Co.length;ro++){const Hn=Co[ro],io=Zn[Hn],mo=ho[Hn];(mo!==io||Hn==="value")&&V(oo,Hn,io,mo,Jn,$n.children,Bn,Yn,Fn)}}lo&1&&$n.children!==kn.children&&ue(oo,kn.children)}else!po&&no==null&&Dt(oo,kn,Zn,ho,Bn,Yn,Jn);((yo=ho.onVnodeUpdated)||vo)&&queuePostRenderEffect(()=>{yo&&invokeVNodeHook(yo,Bn,kn,$n),vo&&invokeDirectiveHook(kn,$n,Bn,"updated")},Yn)},kt=($n,kn,Bn,Yn,Jn,Kn,po)=>{for(let oo=0;oo<kn.length;oo++){const lo=$n[oo],no=kn[oo],vo=lo.el&&(lo.type===Fragment||!isSameVNodeType(lo,no)||lo.shapeFlag&70)?de(lo.el):Bn;Oe(lo,no,vo,null,Yn,Jn,Kn,po,!0)}},Dt=($n,kn,Bn,Yn,Jn,Kn,po)=>{if(Bn!==Yn){if(Bn!==EMPTY_OBJ$1)for(const oo in Bn)!isReservedProp(oo)&&!(oo in Yn)&&V($n,oo,Bn[oo],null,po,kn.children,Jn,Kn,Fn);for(const oo in Yn){if(isReservedProp(oo))continue;const lo=Yn[oo],no=Bn[oo];lo!==no&&oo!=="value"&&V($n,oo,no,lo,po,kn.children,Jn,Kn,Fn)}"value"in Yn&&V($n,"value",Bn.value,Yn.value)}},jt=($n,kn,Bn,Yn,Jn,Kn,po,oo,lo)=>{const no=kn.el=$n?$n.el:re(""),vo=kn.anchor=$n?$n.anchor:re("");let{patchFlag:Zn,dynamicChildren:ho,slotScopeIds:yo}=kn;yo&&(oo=oo?oo.concat(yo):yo),$n==null?($(no,Bn,Yn),$(vo,Bn,Yn),Et(kn.children,Bn,vo,Jn,Kn,po,oo,lo)):Zn>0&&Zn&64&&ho&&$n.dynamicChildren?(kt($n.dynamicChildren,ho,Bn,Jn,Kn,po,oo),(kn.key!=null||Jn&&kn===Jn.subTree)&&traverseStaticChildren($n,kn,!0)):xn($n,kn,Bn,vo,Jn,Kn,po,oo,lo)},Lt=($n,kn,Bn,Yn,Jn,Kn,po,oo,lo)=>{kn.slotScopeIds=oo,$n==null?kn.shapeFlag&512?Jn.ctx.activate(kn,Bn,Yn,po,lo):hn(kn,Bn,Yn,Jn,Kn,po,lo):Sn($n,kn,lo)},hn=($n,kn,Bn,Yn,Jn,Kn,po)=>{const oo=$n.component=createComponentInstance($n,Yn,Jn);if(isKeepAlive($n)&&(oo.ctx.renderer=Vn),setupComponent(oo),oo.asyncDep){if(Jn&&Jn.registerDep(oo,On),!$n.el){const lo=oo.subTree=createVNode$1(Comment);$e(null,lo,kn,Bn)}return}On(oo,$n,kn,Bn,Jn,Kn,po)},Sn=($n,kn,Bn)=>{const Yn=kn.component=$n.component;if(shouldUpdateComponent($n,kn,Bn))if(Yn.asyncDep&&!Yn.asyncResolved){_n(Yn,kn,Bn);return}else Yn.next=kn,invalidateJob(Yn.update),Yn.update();else kn.el=$n.el,Yn.vnode=kn},On=($n,kn,Bn,Yn,Jn,Kn,po)=>{const oo=()=>{if($n.isMounted){let{next:vo,bu:Zn,u:ho,parent:yo,vnode:Oo}=$n,Co=vo,ro;toggleRecurse($n,!1),vo?(vo.el=Oo.el,_n($n,vo,po)):vo=Oo,Zn&&invokeArrayFns(Zn),(ro=vo.props&&vo.props.onVnodeBeforeUpdate)&&invokeVNodeHook(ro,yo,vo,Oo),toggleRecurse($n,!0);const Hn=renderComponentRoot($n),io=$n.subTree;$n.subTree=Hn,Oe(io,Hn,de(io.el),In(io),$n,Jn,Kn),vo.el=Hn.el,Co===null&&updateHOCHostEl($n,Hn.el),ho&&queuePostRenderEffect(ho,Jn),(ro=vo.props&&vo.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(ro,yo,vo,Oo),Jn)}else{let vo;const{el:Zn,props:ho}=kn,{bm:yo,m:Oo,parent:Co}=$n,ro=isAsyncWrapper(kn);if(toggleRecurse($n,!1),yo&&invokeArrayFns(yo),!ro&&(vo=ho&&ho.onVnodeBeforeMount)&&invokeVNodeHook(vo,Co,kn),toggleRecurse($n,!0),Zn&&Gn){const Hn=()=>{$n.subTree=renderComponentRoot($n),Gn(Zn,$n.subTree,$n,Jn,null)};ro?kn.type.__asyncLoader().then(()=>!$n.isUnmounted&&Hn()):Hn()}else{const Hn=$n.subTree=renderComponentRoot($n);Oe(null,Hn,Bn,Yn,$n,Jn,Kn),kn.el=Hn.el}if(Oo&&queuePostRenderEffect(Oo,Jn),!ro&&(vo=ho&&ho.onVnodeMounted)){const Hn=kn;queuePostRenderEffect(()=>invokeVNodeHook(vo,Co,Hn),Jn)}(kn.shapeFlag&256||Co&&isAsyncWrapper(Co.vnode)&&Co.vnode.shapeFlag&256)&&$n.a&&queuePostRenderEffect($n.a,Jn),$n.isMounted=!0,kn=Bn=Yn=null}},lo=$n.effect=new ReactiveEffect(oo,()=>queueJob(no),$n.scope),no=$n.update=()=>lo.run();no.id=$n.uid,toggleRecurse($n,!0),no()},_n=($n,kn,Bn)=>{kn.component=$n;const Yn=$n.vnode.props;$n.vnode=kn,$n.next=null,updateProps$2($n,kn.props,Yn,Bn),updateSlots($n,kn.children,Bn),pauseTracking(),flushPreFlushCbs(),resetTracking()},xn=($n,kn,Bn,Yn,Jn,Kn,po,oo,lo=!1)=>{const no=$n&&$n.children,vo=$n?$n.shapeFlag:0,Zn=kn.children,{patchFlag:ho,shapeFlag:yo}=kn;if(ho>0){if(ho&128){Tn(no,Zn,Bn,Yn,Jn,Kn,po,oo,lo);return}else if(ho&256){bn(no,Zn,Bn,Yn,Jn,Kn,po,oo,lo);return}}yo&8?(vo&16&&Fn(no,Jn,Kn),Zn!==no&&ue(Bn,Zn)):vo&16?yo&16?Tn(no,Zn,Bn,Yn,Jn,Kn,po,oo,lo):Fn(no,Jn,Kn,!0):(vo&8&&ue(Bn,""),yo&16&&Et(Zn,Bn,Yn,Jn,Kn,po,oo,lo))},bn=($n,kn,Bn,Yn,Jn,Kn,po,oo,lo)=>{$n=$n||EMPTY_ARR,kn=kn||EMPTY_ARR;const no=$n.length,vo=kn.length,Zn=Math.min(no,vo);let ho;for(ho=0;ho<Zn;ho++){const yo=kn[ho]=lo?cloneIfMounted(kn[ho]):normalizeVNode(kn[ho]);Oe($n[ho],yo,Bn,null,Jn,Kn,po,oo,lo)}no>vo?Fn($n,Jn,Kn,!0,!1,Zn):Et(kn,Bn,Yn,Jn,Kn,po,oo,lo,Zn)},Tn=($n,kn,Bn,Yn,Jn,Kn,po,oo,lo)=>{let no=0;const vo=kn.length;let Zn=$n.length-1,ho=vo-1;for(;no<=Zn&&no<=ho;){const yo=$n[no],Oo=kn[no]=lo?cloneIfMounted(kn[no]):normalizeVNode(kn[no]);if(isSameVNodeType(yo,Oo))Oe(yo,Oo,Bn,null,Jn,Kn,po,oo,lo);else break;no++}for(;no<=Zn&&no<=ho;){const yo=$n[Zn],Oo=kn[ho]=lo?cloneIfMounted(kn[ho]):normalizeVNode(kn[ho]);if(isSameVNodeType(yo,Oo))Oe(yo,Oo,Bn,null,Jn,Kn,po,oo,lo);else break;Zn--,ho--}if(no>Zn){if(no<=ho){const yo=ho+1,Oo=yo<vo?kn[yo].el:Yn;for(;no<=ho;)Oe(null,kn[no]=lo?cloneIfMounted(kn[no]):normalizeVNode(kn[no]),Bn,Oo,Jn,Kn,po,oo,lo),no++}}else if(no>ho)for(;no<=Zn;)En($n[no],Jn,Kn,!0),no++;else{const yo=no,Oo=no,Co=new Map;for(no=Oo;no<=ho;no++){const Dn=kn[no]=lo?cloneIfMounted(kn[no]):normalizeVNode(kn[no]);Dn.key!=null&&Co.set(Dn.key,no)}let ro,Hn=0;const io=ho-Oo+1;let mo=!1,zn=0;const qn=new Array(io);for(no=0;no<io;no++)qn[no]=0;for(no=yo;no<=Zn;no++){const Dn=$n[no];if(Hn>=io){En(Dn,Jn,Kn,!0);continue}let to;if(Dn.key!=null)to=Co.get(Dn.key);else for(ro=Oo;ro<=ho;ro++)if(qn[ro-Oo]===0&&isSameVNodeType(Dn,kn[ro])){to=ro;break}to===void 0?En(Dn,Jn,Kn,!0):(qn[to-Oo]=no+1,to>=zn?zn=to:mo=!0,Oe(Dn,kn[to],Bn,null,Jn,Kn,po,oo,lo),Hn++)}const so=mo?getSequence(qn):EMPTY_ARR;for(ro=so.length-1,no=io-1;no>=0;no--){const Dn=Oo+no,to=kn[Dn],_o=Dn+1<vo?kn[Dn+1].el:Yn;qn[no]===0?Oe(null,to,Bn,_o,Jn,Kn,po,oo,lo):mo&&(ro<0||no!==so[ro]?An(to,Bn,_o,2):ro--)}}},An=($n,kn,Bn,Yn,Jn=null)=>{const{el:Kn,type:po,transition:oo,children:lo,shapeFlag:no}=$n;if(no&6){An($n.component.subTree,kn,Bn,Yn);return}if(no&128){$n.suspense.move(kn,Bn,Yn);return}if(no&64){po.move($n,kn,Bn,Vn);return}if(po===Fragment){$(Kn,kn,Bn);for(let vo=0;vo<lo.length;vo++)An(lo[vo],kn,Bn,Yn);$($n.anchor,kn,Bn);return}if(po===Static){Ne($n,kn,Bn);return}if(Yn!==2&&no&1&&oo)if(Yn===0)oo.beforeEnter(Kn),$(Kn,kn,Bn),queuePostRenderEffect(()=>oo.enter(Kn),Jn);else{const{leave:vo,delayLeave:Zn,afterLeave:ho}=oo,yo=()=>$(Kn,kn,Bn),Oo=()=>{vo(Kn,()=>{yo(),ho&&ho()})};Zn?Zn(Kn,yo,Oo):Oo()}else $(Kn,kn,Bn)},En=($n,kn,Bn,Yn=!1,Jn=!1)=>{const{type:Kn,props:po,ref:oo,children:lo,dynamicChildren:no,shapeFlag:vo,patchFlag:Zn,dirs:ho}=$n;if(oo!=null&&setRef(oo,null,Bn,$n,!0),vo&256){kn.ctx.deactivate($n);return}const yo=vo&1&&ho,Oo=!isAsyncWrapper($n);let Co;if(Oo&&(Co=po&&po.onVnodeBeforeUnmount)&&invokeVNodeHook(Co,kn,$n),vo&6)Mn($n.component,Bn,Yn);else{if(vo&128){$n.suspense.unmount(Bn,Yn);return}yo&&invokeDirectiveHook($n,null,kn,"beforeUnmount"),vo&64?$n.type.remove($n,kn,Bn,Jn,Vn,Yn):no&&(Kn!==Fragment||Zn>0&&Zn&64)?Fn(no,kn,Bn,!1,!0):(Kn===Fragment&&Zn&384||!Jn&&vo&16)&&Fn(lo,kn,Bn),Yn&&Ln($n)}(Oo&&(Co=po&&po.onVnodeUnmounted)||yo)&&queuePostRenderEffect(()=>{Co&&invokeVNodeHook(Co,kn,$n),yo&&invokeDirectiveHook($n,null,kn,"unmounted")},Bn)},Ln=$n=>{const{type:kn,el:Bn,anchor:Yn,transition:Jn}=$n;if(kn===Fragment){Wn(Bn,Yn);return}if(kn===Static){ze($n);return}const Kn=()=>{L(Bn),Jn&&!Jn.persisted&&Jn.afterLeave&&Jn.afterLeave()};if($n.shapeFlag&1&&Jn&&!Jn.persisted){const{leave:po,delayLeave:oo}=Jn,lo=()=>po(Bn,Kn);oo?oo($n.el,Kn,lo):lo()}else Kn()},Wn=($n,kn)=>{let Bn;for(;$n!==kn;)Bn=pe($n),L($n),$n=Bn;L(kn)},Mn=($n,kn,Bn)=>{const{bum:Yn,scope:Jn,update:Kn,subTree:po,um:oo}=$n;Yn&&invokeArrayFns(Yn),Jn.stop(),Kn&&(Kn.active=!1,En(po,$n,kn,Bn)),oo&&queuePostRenderEffect(oo,kn),queuePostRenderEffect(()=>{$n.isUnmounted=!0},kn),kn&&kn.pendingBranch&&!kn.isUnmounted&&$n.asyncDep&&!$n.asyncResolved&&$n.suspenseId===kn.pendingId&&(kn.deps--,kn.deps===0&&kn.resolve())},Fn=($n,kn,Bn,Yn=!1,Jn=!1,Kn=0)=>{for(let po=Kn;po<$n.length;po++)En($n[po],kn,Bn,Yn,Jn)},In=$n=>$n.shapeFlag&6?In($n.component.subTree):$n.shapeFlag&128?$n.suspense.next():pe($n.anchor||$n.el),Nn=($n,kn,Bn)=>{$n==null?kn._vnode&&En(kn._vnode,null,null,!0):Oe(kn._vnode||null,$n,kn,null,null,null,Bn),flushPreFlushCbs(),flushPostFlushCbs(),kn._vnode=$n},Vn={p:Oe,um:En,m:An,r:Ln,mt:hn,mc:Et,pc:xn,pbc:kt,n:In,o:g};let Un,Gn;return n&&([Un,Gn]=n(Vn)),{render:Nn,hydrate:Un,createApp:createAppAPI(Nn,Un)}}function toggleRecurse({effect:g,update:n},r){g.allowRecurse=n.allowRecurse=r}function traverseStaticChildren(g,n,r=!1){const $=g.children,L=n.children;if(isArray$7($)&&isArray$7(L))for(let V=0;V<$.length;V++){const oe=$[V];let re=L[V];re.shapeFlag&1&&!re.dynamicChildren&&((re.patchFlag<=0||re.patchFlag===32)&&(re=L[V]=cloneIfMounted(L[V]),re.el=oe.el),r||traverseStaticChildren(oe,re)),re.type===Text$1&&(re.el=oe.el)}}function getSequence(g){const n=g.slice(),r=[0];let $,L,V,oe,re;const ae=g.length;for($=0;$<ae;$++){const le=g[$];if(le!==0){if(L=r[r.length-1],g[L]<le){n[$]=L,r.push($);continue}for(V=0,oe=r.length-1;V<oe;)re=V+oe>>1,g[r[re]]<le?V=re+1:oe=re;le<g[r[V]]&&(V>0&&(n[$]=r[V-1]),r[V]=$)}}for(V=r.length,oe=r[V-1];V-- >0;)r[V]=oe,oe=n[oe];return r}const isTeleport=g=>g.__isTeleport,isTeleportDisabled=g=>g&&(g.disabled||g.disabled===""),isTargetSVG=g=>typeof SVGElement<"u"&&g instanceof SVGElement,resolveTarget=(g,n)=>{const r=g&&g.to;return isString$4(r)?n?n(r):null:r},TeleportImpl={__isTeleport:!0,process(g,n,r,$,L,V,oe,re,ae,le){const{mc:ue,pc:de,pbc:pe,o:{insert:he,querySelector:_e,createText:Oe,createComment:xe}}=le,$e=isTeleportDisabled(n.props);let{shapeFlag:Ie,children:Ne,dynamicChildren:ze}=n;if(g==null){const Ue=n.el=Oe(""),Fe=n.anchor=Oe("");he(Ue,r,$),he(Fe,r,$);const qe=n.target=resolveTarget(n.props,_e),Et=n.targetAnchor=Oe("");qe&&(he(Et,qe),oe=oe||isTargetSVG(qe));const At=(kt,Dt)=>{Ie&16&&ue(Ne,kt,Dt,L,V,oe,re,ae)};$e?At(r,Fe):qe&&At(qe,Et)}else{n.el=g.el;const Ue=n.anchor=g.anchor,Fe=n.target=g.target,qe=n.targetAnchor=g.targetAnchor,Et=isTeleportDisabled(g.props),At=Et?r:Fe,kt=Et?Ue:qe;if(oe=oe||isTargetSVG(Fe),ze?(pe(g.dynamicChildren,ze,At,L,V,oe,re),traverseStaticChildren(g,n,!0)):ae||de(g,n,At,kt,L,V,oe,re,!1),$e)Et||moveTeleport(n,r,Ue,le,1);else if((n.props&&n.props.to)!==(g.props&&g.props.to)){const Dt=n.target=resolveTarget(n.props,_e);Dt&&moveTeleport(n,Dt,null,le,0)}else Et&&moveTeleport(n,Fe,qe,le,1)}updateCssVars(n)},remove(g,n,r,$,{um:L,o:{remove:V}},oe){const{shapeFlag:re,children:ae,anchor:le,targetAnchor:ue,target:de,props:pe}=g;if(de&&V(ue),(oe||!isTeleportDisabled(pe))&&(V(le),re&16))for(let he=0;he<ae.length;he++){const _e=ae[he];L(_e,n,r,!0,!!_e.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(g,n,r,{o:{insert:$},m:L},V=2){V===0&&$(g.targetAnchor,n,r);const{el:oe,anchor:re,shapeFlag:ae,children:le,props:ue}=g,de=V===2;if(de&&$(oe,n,r),(!de||isTeleportDisabled(ue))&&ae&16)for(let pe=0;pe<le.length;pe++)L(le[pe],n,r,2);de&&$(re,n,r)}function hydrateTeleport(g,n,r,$,L,V,{o:{nextSibling:oe,parentNode:re,querySelector:ae}},le){const ue=n.target=resolveTarget(n.props,ae);if(ue){const de=ue._lpa||ue.firstChild;if(n.shapeFlag&16)if(isTeleportDisabled(n.props))n.anchor=le(oe(g),n,re(g),r,$,L,V),n.targetAnchor=de;else{n.anchor=oe(g);let pe=de;for(;pe;)if(pe=oe(pe),pe&&pe.nodeType===8&&pe.data==="teleport anchor"){n.targetAnchor=pe,ue._lpa=n.targetAnchor&&oe(n.targetAnchor);break}le(de,n,ue,r,$,L,V)}updateCssVars(n)}return n.anchor&&oe(n.anchor)}Teleport=TeleportImpl;function updateCssVars(g){const n=g.ctx;if(n&&n.ut){let r=g.children[0].el;for(;r!==g.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}let blockStack;Fragment=Symbol(void 0),Text$1=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;openBlock=function(n=!1){blockStack.push(currentBlock=n?null:[])};function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;setBlockTracking=function(n){isBlockTreeEnabled+=n};function setupBlock(g){return g.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(g),g}createElementBlock=function(n,r,$,L,V,oe){return setupBlock(createBaseVNode(n,r,$,L,V,oe,!0))},createBlock=function(n,r,$,L,V){return setupBlock(createVNode$1(n,r,$,L,V,!0))},isVNode=function(n){return n?n.__v_isVNode===!0:!1};function isSameVNodeType(g,n){return g.type===n.type&&g.key===n.key}transformVNodeArgs=function(n){};const InternalObjectKey="__vInternal",normalizeKey=({key:g})=>g!=null?g:null,normalizeRef=({ref:g,ref_key:n,ref_for:r})=>g!=null?isString$4(g)||isRef(g)||isFunction$4(g)?{i:currentRenderingInstance,r:g,k:n,f:!!r}:g:null;createBaseVNode=function(n,r=null,$=null,L=0,V=null,oe=n===Fragment?0:1,re=!1,ae=!1){const le={__v_isVNode:!0,__v_skip:!0,type:n,props:r,key:r&&normalizeKey(r),ref:r&&normalizeRef(r),scopeId:currentScopeId,slotScopeIds:null,children:$,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:oe,patchFlag:L,dynamicProps:V,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return ae?(normalizeChildren(le,$),oe&128&&n.normalize(le)):$&&(le.shapeFlag|=isString$4($)?8:16),isBlockTreeEnabled>0&&!re&&currentBlock&&(le.patchFlag>0||oe&6)&&le.patchFlag!==32&&currentBlock.push(le),le},createVNode$1=_createVNode;function _createVNode(g,n=null,r=null,$=0,L=null,V=!1){if((!g||g===NULL_DYNAMIC_COMPONENT)&&(g=Comment),isVNode(g)){const re=cloneVNode(g,n,!0);return r&&normalizeChildren(re,r),isBlockTreeEnabled>0&&!V&&currentBlock&&(re.shapeFlag&6?currentBlock[currentBlock.indexOf(g)]=re:currentBlock.push(re)),re.patchFlag|=-2,re}if(isClassComponent(g)&&(g=g.__vccOpts),n){n=guardReactiveProps(n);let{class:re,style:ae}=n;re&&!isString$4(re)&&(n.class=normalizeClass(re)),isObject$7(ae)&&(isProxy(ae)&&!isArray$7(ae)&&(ae=extend$4({},ae)),n.style=normalizeStyle$1(ae))}const oe=isString$4(g)?1:isSuspense(g)?128:isTeleport(g)?64:isObject$7(g)?4:isFunction$4(g)?2:0;return createBaseVNode(g,n,r,$,L,oe,V,!0)}guardReactiveProps=function(n){return n?isProxy(n)||InternalObjectKey in n?extend$4({},n):n:null},cloneVNode=function g(n,r,$=!1){const{props:L,ref:V,patchFlag:oe,children:re}=n,ae=r?mergeProps(L||{},r):L;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:ae,key:ae&&normalizeKey(ae),ref:r&&r.ref?$&&V?isArray$7(V)?V.concat(normalizeRef(r)):[V,normalizeRef(r)]:normalizeRef(r):V,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:re,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:r&&n.type!==Fragment?oe===-1?16:oe|16:oe,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&g(n.ssContent),ssFallback:n.ssFallback&&g(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}},createTextVNode=function(n=" ",r=0){return createVNode$1(Text$1,null,n,r)},createStaticVNode=function(n,r){const $=createVNode$1(Static,null,n);return $.staticCount=r,$},createCommentVNode=function(n="",r=!1){return r?(openBlock(),createBlock(Comment,null,n)):createVNode$1(Comment,null,n)};function normalizeVNode(g){return g==null||typeof g=="boolean"?createVNode$1(Comment):isArray$7(g)?createVNode$1(Fragment,null,g.slice()):typeof g=="object"?cloneIfMounted(g):createVNode$1(Text$1,null,String(g))}function cloneIfMounted(g){return g.el===null&&g.patchFlag!==-1||g.memo?g:cloneVNode(g)}function normalizeChildren(g,n){let r=0;const{shapeFlag:$}=g;if(n==null)n=null;else if(isArray$7(n))r=16;else if(typeof n=="object")if($&65){const L=n.default;L&&(L._c&&(L._d=!1),normalizeChildren(g,L()),L._c&&(L._d=!0));return}else{r=32;const L=n._;!L&&!(InternalObjectKey in n)?n._ctx=currentRenderingInstance:L===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?n._=1:(n._=2,g.patchFlag|=1024))}else isFunction$4(n)?(n={default:n,_ctx:currentRenderingInstance},r=32):(n=String(n),$&64?(r=16,n=[createTextVNode(n)]):r=8);g.children=n,g.shapeFlag|=r}mergeProps=function(...n){const r={};for(let $=0;$<n.length;$++){const L=n[$];for(const V in L)if(V==="class")r.class!==L.class&&(r.class=normalizeClass([r.class,L.class]));else if(V==="style")r.style=normalizeStyle$1([r.style,L.style]);else if(isOn(V)){const oe=r[V],re=L[V];re&&oe!==re&&!(isArray$7(oe)&&oe.includes(re))&&(r[V]=oe?[].concat(oe,re):re)}else V!==""&&(r[V]=L[V])}return r};function invokeVNodeHook(g,n,r,$=null){callWithAsyncErrorHandling(g,n,7,[r,$])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(g,n,r){const $=g.type,L=(n?n.appContext:g.appContext)||emptyAppContext,V={uid:uid++,vnode:g,type:$,parent:n,appContext:L,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(L.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions($,L),emitsOptions:normalizeEmitsOptions($,L),emit:null,emitted:null,propsDefaults:EMPTY_OBJ$1,inheritAttrs:$.inheritAttrs,ctx:EMPTY_OBJ$1,data:EMPTY_OBJ$1,props:EMPTY_OBJ$1,attrs:EMPTY_OBJ$1,slots:EMPTY_OBJ$1,refs:EMPTY_OBJ$1,setupState:EMPTY_OBJ$1,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return V.ctx={_:V},V.root=n?n.root:V,V.emit=emit.bind(null,V),g.ce&&g.ce(V),V}let currentInstance=null,setCurrentInstance,unsetCurrentInstance;getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=g=>{currentInstance=g,g.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(g){return g.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(g,n=!1){isInSSRComponentSetup=n;const{props:r,children:$}=g.vnode,L=isStatefulComponent(g);initProps$1(g,r,L,n),initSlots(g,$);const V=L?setupStatefulComponent(g,n):void 0;return isInSSRComponentSetup=!1,V}function setupStatefulComponent(g,n){const r=g.type;g.accessCache=Object.create(null),g.proxy=markRaw(new Proxy(g.ctx,PublicInstanceProxyHandlers));const{setup:$}=r;if($){const L=g.setupContext=$.length>1?createSetupContext(g):null;setCurrentInstance(g),pauseTracking();const V=callWithErrorHandling($,g,0,[g.props,L]);if(resetTracking(),unsetCurrentInstance(),isPromise(V)){if(V.then(unsetCurrentInstance,unsetCurrentInstance),n)return V.then(oe=>{handleSetupResult(g,oe,n)}).catch(oe=>{handleError(oe,g,0)});g.asyncDep=V}else handleSetupResult(g,V,n)}else finishComponentSetup(g,n)}function handleSetupResult(g,n,r){isFunction$4(n)?g.type.__ssrInlineRender?g.ssrRender=n:g.render=n:isObject$7(n)&&(g.setupState=proxyRefs(n)),finishComponentSetup(g,r)}let compile,installWithProxy;registerRuntimeCompiler=function(n){compile=n,installWithProxy=r=>{r.render._rc&&(r.withProxy=new Proxy(r.ctx,RuntimeCompiledPublicInstanceProxyHandlers))}},isRuntimeOnly=()=>!compile;function finishComponentSetup(g,n,r){const $=g.type;if(!g.render){if(!n&&compile&&!$.render){const L=$.template||resolveMergedOptions(g).template;if(L){const{isCustomElement:V,compilerOptions:oe}=g.appContext.config,{delimiters:re,compilerOptions:ae}=$,le=extend$4(extend$4({isCustomElement:V,delimiters:re},oe),ae);$.render=compile(L,le)}}g.render=$.render||NOOP,installWithProxy&&installWithProxy(g)}setCurrentInstance(g),pauseTracking(),applyOptions(g),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(g){return new Proxy(g.attrs,{get(n,r){return track(g,"get","$attrs"),n[r]}})}function createSetupContext(g){const n=$=>{g.exposed=$||{}};let r;return{get attrs(){return r||(r=createAttrsProxy(g))},slots:g.slots,emit:g.emit,expose:n}}function getExposeProxy(g){if(g.exposed)return g.exposeProxy||(g.exposeProxy=new Proxy(proxyRefs(markRaw(g.exposed)),{get(n,r){if(r in n)return n[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](g)},has(n,r){return r in n||r in publicPropertiesMap}}))}function getComponentName(g,n=!0){return isFunction$4(g)?g.displayName||g.name:g.name||n&&g.__name}function isClassComponent(g){return isFunction$4(g)&&"__vccOpts"in g}computed=(g,n)=>computed$1(g,n,isInSSRComponentSetup),defineProps=function(){return null},defineEmits=function(){return null},defineExpose=function(n){},withDefaults=function(n,r){return null},useSlots=function(){return getContext().slots},useAttrs$1=function(){return getContext().attrs};function getContext(){const g=getCurrentInstance();return g.setupContext||(g.setupContext=createSetupContext(g))}mergeDefaults=function(n,r){const $=isArray$7(n)?n.reduce((L,V)=>(L[V]={},L),{}):n;for(const L in r){const V=$[L];V?isArray$7(V)||isFunction$4(V)?$[L]={type:V,default:r[L]}:V.default=r[L]:V===null&&($[L]={default:r[L]})}return $},createPropsRestProxy=function(n,r){const $={};for(const L in n)r.includes(L)||Object.defineProperty($,L,{enumerable:!0,get:()=>n[L]});return $},withAsyncContext=function(n){const r=getCurrentInstance();let $=n();return unsetCurrentInstance(),isPromise($)&&($=$.catch(L=>{throw setCurrentInstance(r),L})),[$,()=>setCurrentInstance(r)]},h$2=function(n,r,$){const L=arguments.length;return L===2?isObject$7(r)&&!isArray$7(r)?isVNode(r)?createVNode$1(n,null,[r]):createVNode$1(n,r):createVNode$1(n,null,r):(L>3?$=Array.prototype.slice.call(arguments,2):L===3&&isVNode($)&&($=[$]),createVNode$1(n,r,$))},ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey),initCustomFormatter=function(){},withMemo=function(n,r,$,L){const V=$[L];if(V&&isMemoSame(V,n))return V;const oe=r();return oe.memo=n.slice(),$[L]=oe},isMemoSame=function(n,r){const $=n.memo;if($.length!=r.length)return!1;for(let L=0;L<$.length;L++)if(hasChanged($[L],r[L]))return!1;return isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(n),!0};let _ssrUtils,svgNS,doc$1,templateContainer,nodeOps;version="3.2.47",_ssrUtils={createComponentInstance,setupComponent,renderComponentRoot,setCurrentRenderingInstance,isVNode,normalizeVNode},ssrUtils=_ssrUtils,resolveFilter=null,compatUtils=null,svgNS="http://www.w3.org/2000/svg",doc$1=typeof document<"u"?document:null,templateContainer=doc$1&&doc$1.createElement("template"),nodeOps={insert:(g,n,r)=>{n.insertBefore(g,r||null)},remove:g=>{const n=g.parentNode;n&&n.removeChild(g)},createElement:(g,n,r,$)=>{const L=n?doc$1.createElementNS(svgNS,g):doc$1.createElement(g,r?{is:r}:void 0);return g==="select"&&$&&$.multiple!=null&&L.setAttribute("multiple",$.multiple),L},createText:g=>doc$1.createTextNode(g),createComment:g=>doc$1.createComment(g),setText:(g,n)=>{g.nodeValue=n},setElementText:(g,n)=>{g.textContent=n},parentNode:g=>g.parentNode,nextSibling:g=>g.nextSibling,querySelector:g=>doc$1.querySelector(g),setScopeId(g,n){g.setAttribute(n,"")},insertStaticContent(g,n,r,$,L,V){const oe=r?r.previousSibling:n.lastChild;if(L&&(L===V||L.nextSibling))for(;n.insertBefore(L.cloneNode(!0),r),!(L===V||!(L=L.nextSibling)););else{templateContainer.innerHTML=$?`<svg>${g}</svg>`:g;const re=templateContainer.content;if($){const ae=re.firstChild;for(;ae.firstChild;)re.appendChild(ae.firstChild);re.removeChild(ae)}n.insertBefore(re,r)}return[oe?oe.nextSibling:n.firstChild,r?r.previousSibling:n.lastChild]}};function patchClass(g,n,r){const $=g._vtc;$&&(n=(n?[n,...$]:[...$]).join(" ")),n==null?g.removeAttribute("class"):r?g.setAttribute("class",n):g.className=n}function patchStyle(g,n,r){const $=g.style,L=isString$4(r);if(r&&!L){if(n&&!isString$4(n))for(const V in n)r[V]==null&&setStyle($,V,"");for(const V in r)setStyle($,V,r[V])}else{const V=$.display;L?n!==r&&($.cssText=r):n&&g.removeAttribute("style"),"_vod"in g&&($.display=V)}}const importantRE=/\s*!important$/;function setStyle(g,n,r){if(isArray$7(r))r.forEach($=>setStyle(g,n,$));else if(r==null&&(r=""),n.startsWith("--"))g.setProperty(n,r);else{const $=autoPrefix(g,n);importantRE.test(r)?g.setProperty(hyphenate($),r.replace(importantRE,""),"important"):g[$]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(g,n){const r=prefixCache[n];if(r)return r;let $=camelize(n);if($!=="filter"&&$ in g)return prefixCache[n]=$;$=capitalize$1($);for(let L=0;L<prefixes.length;L++){const V=prefixes[L]+$;if(V in g)return prefixCache[n]=V}return n}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(g,n,r,$,L){if($&&n.startsWith("xlink:"))r==null?g.removeAttributeNS(xlinkNS,n.slice(6,n.length)):g.setAttributeNS(xlinkNS,n,r);else{const V=isSpecialBooleanAttr(n);r==null||V&&!includeBooleanAttr(r)?g.removeAttribute(n):g.setAttribute(n,V?"":r)}}function patchDOMProp(g,n,r,$,L,V,oe){if(n==="innerHTML"||n==="textContent"){$&&oe($,L,V),g[n]=r!=null?r:"";return}if(n==="value"&&g.tagName!=="PROGRESS"&&!g.tagName.includes("-")){g._value=r;const ae=r!=null?r:"";(g.value!==ae||g.tagName==="OPTION")&&(g.value=ae),r==null&&g.removeAttribute(n);return}let re=!1;if(r===""||r==null){const ae=typeof g[n];ae==="boolean"?r=includeBooleanAttr(r):r==null&&ae==="string"?(r="",re=!0):ae==="number"&&(r=0,re=!0)}try{g[n]=r}catch{}re&&g.removeAttribute(n)}function addEventListener$1(g,n,r,$){g.addEventListener(n,r,$)}function removeEventListener$1(g,n,r,$){g.removeEventListener(n,r,$)}function patchEvent(g,n,r,$,L=null){const V=g._vei||(g._vei={}),oe=V[n];if($&&oe)oe.value=$;else{const[re,ae]=parseName(n);if($){const le=V[n]=createInvoker($,L);addEventListener$1(g,re,le,ae)}else oe&&(removeEventListener$1(g,re,oe,ae),V[n]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(g){let n;if(optionsModifierRE.test(g)){n={};let r;for(;r=g.match(optionsModifierRE);)g=g.slice(0,g.length-r[0].length),n[r[0].toLowerCase()]=!0}return[g[2]===":"?g.slice(3):hyphenate(g.slice(2)),n]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(g,n){const r=$=>{if(!$._vts)$._vts=Date.now();else if($._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation($,r.value),n,5,[$])};return r.value=g,r.attached=getNow(),r}function patchStopImmediatePropagation(g,n){if(isArray$7(n)){const r=g.stopImmediatePropagation;return g.stopImmediatePropagation=()=>{r.call(g),g._stopped=!0},n.map($=>L=>!L._stopped&&$&&$(L))}else return n}const nativeOnRE=/^on[a-z]/,patchProp=(g,n,r,$,L=!1,V,oe,re,ae)=>{n==="class"?patchClass(g,$,L):n==="style"?patchStyle(g,r,$):isOn(n)?isModelListener(n)||patchEvent(g,n,r,$,oe):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):shouldSetAsProp(g,n,$,L))?patchDOMProp(g,n,$,V,oe,re,ae):(n==="true-value"?g._trueValue=$:n==="false-value"&&(g._falseValue=$),patchAttr(g,n,$,L))};function shouldSetAsProp(g,n,r,$){return $?!!(n==="innerHTML"||n==="textContent"||n in g&&nativeOnRE.test(n)&&isFunction$4(r)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&g.tagName==="INPUT"||n==="type"&&g.tagName==="TEXTAREA"||nativeOnRE.test(n)&&isString$4(r)?!1:n in g}defineCustomElement=function(n,r){const $=defineComponent(n);class L extends VueElement{constructor(oe){super($,oe,r)}}return L.def=$,L};let BaseClass;defineSSRCustomElement=g=>defineCustomElement(g,hydrate),BaseClass=typeof HTMLElement<"u"?HTMLElement:class{},VueElement=class pc extends BaseClass{constructor(n,r={},$){super(),this._def=n,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&$?$(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,nextTick(()=>{this._connected||(render$1(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let $=0;$<this.attributes.length;$++)this._setAttr(this.attributes[$].name);new MutationObserver($=>{for(const L of $)this._setAttr(L.attributeName)}).observe(this,{attributes:!0});const n=($,L=!1)=>{const{props:V,styles:oe}=$;let re;if(V&&!isArray$7(V))for(const ae in V){const le=V[ae];(le===Number||le&&le.type===Number)&&(ae in this._props&&(this._props[ae]=toNumber$1(this._props[ae])),(re||(re=Object.create(null)))[camelize(ae)]=!0)}this._numberProps=re,L&&this._resolveProps($),this._applyStyles(oe),this._update()},r=this._def.__asyncLoader;r?r().then($=>n($,!0)):n(this._def)}_resolveProps(n){const{props:r}=n,$=isArray$7(r)?r:Object.keys(r||{});for(const L of Object.keys(this))L[0]!=="_"&&$.includes(L)&&this._setProp(L,this[L],!0,!1);for(const L of $.map(camelize))Object.defineProperty(this,L,{get(){return this._getProp(L)},set(V){this._setProp(L,V)}})}_setAttr(n){let r=this.getAttribute(n);const $=camelize(n);this._numberProps&&this._numberProps[$]&&(r=toNumber$1(r)),this._setProp($,r,!1)}_getProp(n){return this._props[n]}_setProp(n,r,$=!0,L=!0){r!==this._props[n]&&(this._props[n]=r,L&&this._instance&&this._update(),$&&(r===!0?this.setAttribute(hyphenate(n),""):typeof r=="string"||typeof r=="number"?this.setAttribute(hyphenate(n),r+""):r||this.removeAttribute(hyphenate(n))))}_update(){render$1(this._createVNode(),this.shadowRoot)}_createVNode(){const n=createVNode$1(this._def,extend$4({},this._props));return this._instance||(n.ce=r=>{this._instance=r,r.isCE=!0;const $=(V,oe)=>{this.dispatchEvent(new CustomEvent(V,{detail:oe}))};r.emit=(V,...oe)=>{$(V,oe),hyphenate(V)!==V&&$(hyphenate(V),oe)};let L=this;for(;L=L&&(L.parentNode||L.host);)if(L instanceof pc){r.parent=L._instance,r.provides=L._instance.provides;break}}),n}_applyStyles(n){n&&n.forEach(r=>{const $=document.createElement("style");$.textContent=r,this.shadowRoot.appendChild($)})}},useCssModule=function(n="$style"){{const r=getCurrentInstance();if(!r)return EMPTY_OBJ$1;const $=r.type.__cssModules;return $&&$[n]||EMPTY_OBJ$1}},useCssVars=function(n){const r=getCurrentInstance();if(!r)return;const $=r.ut=(V=n(r.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${r.uid}"]`)).forEach(oe=>setVarsOnNode(oe,V))},L=()=>{const V=n(r.proxy);setVarsOnVNode(r.subTree,V),$(V)};watchPostEffect(L),onMounted(()=>{const V=new MutationObserver(L);V.observe(r.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>V.disconnect())})};function setVarsOnVNode(g,n){if(g.shapeFlag&128){const r=g.suspense;g=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{setVarsOnVNode(r.activeBranch,n)})}for(;g.component;)g=g.component.subTree;if(g.shapeFlag&1&&g.el)setVarsOnNode(g.el,n);else if(g.type===Fragment)g.children.forEach(r=>setVarsOnVNode(r,n));else if(g.type===Static){let{el:r,anchor:$}=g;for(;r&&(setVarsOnNode(r,n),r!==$);)r=r.nextSibling}}function setVarsOnNode(g,n){if(g.nodeType===1){const r=g.style;for(const $ in n)r.setProperty(`--${$}`,n[$])}}let TRANSITION,ANIMATION;TRANSITION="transition",ANIMATION="animation",Transition=(g,{slots:n})=>h$2(BaseTransition,resolveTransitionProps(g),n),Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend$4({},BaseTransition.props,DOMTransitionPropsValidators),callHook=(g,n=[])=>{isArray$7(g)?g.forEach(r=>r(...n)):g&&g(...n)},hasExplicitCallback=g=>g?isArray$7(g)?g.some(n=>n.length>1):g.length>1:!1;function resolveTransitionProps(g){const n={};for(const jt in g)jt in DOMTransitionPropsValidators||(n[jt]=g[jt]);if(g.css===!1)return n;const{name:r="v",type:$,duration:L,enterFromClass:V=`${r}-enter-from`,enterActiveClass:oe=`${r}-enter-active`,enterToClass:re=`${r}-enter-to`,appearFromClass:ae=V,appearActiveClass:le=oe,appearToClass:ue=re,leaveFromClass:de=`${r}-leave-from`,leaveActiveClass:pe=`${r}-leave-active`,leaveToClass:he=`${r}-leave-to`}=g,_e=normalizeDuration(L),Oe=_e&&_e[0],xe=_e&&_e[1],{onBeforeEnter:$e,onEnter:Ie,onEnterCancelled:Ne,onLeave:ze,onLeaveCancelled:Ue,onBeforeAppear:Fe=$e,onAppear:qe=Ie,onAppearCancelled:Et=Ne}=n,At=(jt,Lt,hn)=>{removeTransitionClass(jt,Lt?ue:re),removeTransitionClass(jt,Lt?le:oe),hn&&hn()},kt=(jt,Lt)=>{jt._isLeaving=!1,removeTransitionClass(jt,de),removeTransitionClass(jt,he),removeTransitionClass(jt,pe),Lt&&Lt()},Dt=jt=>(Lt,hn)=>{const Sn=jt?qe:Ie,On=()=>At(Lt,jt,hn);callHook(Sn,[Lt,On]),nextFrame(()=>{removeTransitionClass(Lt,jt?ae:V),addTransitionClass(Lt,jt?ue:re),hasExplicitCallback(Sn)||whenTransitionEnds(Lt,$,Oe,On)})};return extend$4(n,{onBeforeEnter(jt){callHook($e,[jt]),addTransitionClass(jt,V),addTransitionClass(jt,oe)},onBeforeAppear(jt){callHook(Fe,[jt]),addTransitionClass(jt,ae),addTransitionClass(jt,le)},onEnter:Dt(!1),onAppear:Dt(!0),onLeave(jt,Lt){jt._isLeaving=!0;const hn=()=>kt(jt,Lt);addTransitionClass(jt,de),forceReflow(),addTransitionClass(jt,pe),nextFrame(()=>{!jt._isLeaving||(removeTransitionClass(jt,de),addTransitionClass(jt,he),hasExplicitCallback(ze)||whenTransitionEnds(jt,$,xe,hn))}),callHook(ze,[jt,hn])},onEnterCancelled(jt){At(jt,!1),callHook(Ne,[jt])},onAppearCancelled(jt){At(jt,!0),callHook(Et,[jt])},onLeaveCancelled(jt){kt(jt),callHook(Ue,[jt])}})}function normalizeDuration(g){if(g==null)return null;if(isObject$7(g))return[NumberOf(g.enter),NumberOf(g.leave)];{const n=NumberOf(g);return[n,n]}}function NumberOf(g){return toNumber$1(g)}function addTransitionClass(g,n){n.split(/\s+/).forEach(r=>r&&g.classList.add(r)),(g._vtc||(g._vtc=new Set)).add(n)}function removeTransitionClass(g,n){n.split(/\s+/).forEach($=>$&&g.classList.remove($));const{_vtc:r}=g;r&&(r.delete(n),r.size||(g._vtc=void 0))}function nextFrame(g){requestAnimationFrame(()=>{requestAnimationFrame(g)})}let endId=0;function whenTransitionEnds(g,n,r,$){const L=g._endId=++endId,V=()=>{L===g._endId&&$()};if(r)return setTimeout(V,r);const{type:oe,timeout:re,propCount:ae}=getTransitionInfo(g,n);if(!oe)return $();const le=oe+"end";let ue=0;const de=()=>{g.removeEventListener(le,pe),V()},pe=he=>{he.target===g&&++ue>=ae&&de()};setTimeout(()=>{ue<ae&&de()},re+1),g.addEventListener(le,pe)}function getTransitionInfo(g,n){const r=window.getComputedStyle(g),$=_e=>(r[_e]||"").split(", "),L=$(`${TRANSITION}Delay`),V=$(`${TRANSITION}Duration`),oe=getTimeout(L,V),re=$(`${ANIMATION}Delay`),ae=$(`${ANIMATION}Duration`),le=getTimeout(re,ae);let ue=null,de=0,pe=0;n===TRANSITION?oe>0&&(ue=TRANSITION,de=oe,pe=V.length):n===ANIMATION?le>0&&(ue=ANIMATION,de=le,pe=ae.length):(de=Math.max(oe,le),ue=de>0?oe>le?TRANSITION:ANIMATION:null,pe=ue?ue===TRANSITION?V.length:ae.length:0);const he=ue===TRANSITION&&/\b(transform|all)(,|$)/.test($(`${TRANSITION}Property`).toString());return{type:ue,timeout:de,propCount:pe,hasTransform:he}}function getTimeout(g,n){for(;g.length<n.length;)g=g.concat(g);return Math.max(...n.map((r,$)=>toMs(r)+toMs(g[$])))}function toMs(g){return Number(g.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend$4({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(g,{slots:n}){const r=getCurrentInstance(),$=useTransitionState();let L,V;return onUpdated(()=>{if(!L.length)return;const oe=g.moveClass||`${g.name||"v"}-move`;if(!hasCSSTransform(L[0].el,r.vnode.el,oe))return;L.forEach(callPendingCbs),L.forEach(recordPosition);const re=L.filter(applyTranslation);forceReflow(),re.forEach(ae=>{const le=ae.el,ue=le.style;addTransitionClass(le,oe),ue.transform=ue.webkitTransform=ue.transitionDuration="";const de=le._moveCb=pe=>{pe&&pe.target!==le||(!pe||/transform$/.test(pe.propertyName))&&(le.removeEventListener("transitionend",de),le._moveCb=null,removeTransitionClass(le,oe))};le.addEventListener("transitionend",de)})}),()=>{const oe=toRaw(g),re=resolveTransitionProps(oe);let ae=oe.tag||Fragment;L=V,V=n.default?getTransitionRawChildren(n.default()):[];for(let le=0;le<V.length;le++){const ue=V[le];ue.key!=null&&setTransitionHooks(ue,resolveTransitionHooks(ue,re,$,r))}if(L)for(let le=0;le<L.length;le++){const ue=L[le];setTransitionHooks(ue,resolveTransitionHooks(ue,re,$,r)),positionMap.set(ue,ue.el.getBoundingClientRect())}return createVNode$1(ae,null,V)}}},removeMode=g=>delete g.mode;TransitionGroupImpl.props,TransitionGroup=TransitionGroupImpl;function callPendingCbs(g){const n=g.el;n._moveCb&&n._moveCb(),n._enterCb&&n._enterCb()}function recordPosition(g){newPositionMap.set(g,g.el.getBoundingClientRect())}function applyTranslation(g){const n=positionMap.get(g),r=newPositionMap.get(g),$=n.left-r.left,L=n.top-r.top;if($||L){const V=g.el.style;return V.transform=V.webkitTransform=`translate(${$}px,${L}px)`,V.transitionDuration="0s",g}}function hasCSSTransform(g,n,r){const $=g.cloneNode();g._vtc&&g._vtc.forEach(oe=>{oe.split(/\s+/).forEach(re=>re&&$.classList.remove(re))}),r.split(/\s+/).forEach(oe=>oe&&$.classList.add(oe)),$.style.display="none";const L=n.nodeType===1?n:n.parentNode;L.appendChild($);const{hasTransform:V}=getTransitionInfo($);return L.removeChild($),V}const getModelAssigner=g=>{const n=g.props["onUpdate:modelValue"]||!1;return isArray$7(n)?r=>invokeArrayFns(n,r):n};function onCompositionStart(g){g.target.composing=!0}function onCompositionEnd(g){const n=g.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}vModelText={created(g,{modifiers:{lazy:n,trim:r,number:$}},L){g._assign=getModelAssigner(L);const V=$||L.props&&L.props.type==="number";addEventListener$1(g,n?"change":"input",oe=>{if(oe.target.composing)return;let re=g.value;r&&(re=re.trim()),V&&(re=looseToNumber(re)),g._assign(re)}),r&&addEventListener$1(g,"change",()=>{g.value=g.value.trim()}),n||(addEventListener$1(g,"compositionstart",onCompositionStart),addEventListener$1(g,"compositionend",onCompositionEnd),addEventListener$1(g,"change",onCompositionEnd))},mounted(g,{value:n}){g.value=n!=null?n:""},beforeUpdate(g,{value:n,modifiers:{lazy:r,trim:$,number:L}},V){if(g._assign=getModelAssigner(V),g.composing||document.activeElement===g&&g.type!=="range"&&(r||$&&g.value.trim()===n||(L||g.type==="number")&&looseToNumber(g.value)===n))return;const oe=n!=null?n:"";g.value!==oe&&(g.value=oe)}},vModelCheckbox={deep:!0,created(g,n,r){g._assign=getModelAssigner(r),addEventListener$1(g,"change",()=>{const $=g._modelValue,L=getValue$2(g),V=g.checked,oe=g._assign;if(isArray$7($)){const re=looseIndexOf($,L),ae=re!==-1;if(V&&!ae)oe($.concat(L));else if(!V&&ae){const le=[...$];le.splice(re,1),oe(le)}}else if(isSet$2($)){const re=new Set($);V?re.add(L):re.delete(L),oe(re)}else oe(getCheckboxValue(g,V))})},mounted:setChecked,beforeUpdate(g,n,r){g._assign=getModelAssigner(r),setChecked(g,n,r)}};function setChecked(g,{value:n,oldValue:r},$){g._modelValue=n,isArray$7(n)?g.checked=looseIndexOf(n,$.props.value)>-1:isSet$2(n)?g.checked=n.has($.props.value):n!==r&&(g.checked=looseEqual(n,getCheckboxValue(g,!0)))}vModelRadio={created(g,{value:n},r){g.checked=looseEqual(n,r.props.value),g._assign=getModelAssigner(r),addEventListener$1(g,"change",()=>{g._assign(getValue$2(g))})},beforeUpdate(g,{value:n,oldValue:r},$){g._assign=getModelAssigner($),n!==r&&(g.checked=looseEqual(n,$.props.value))}},vModelSelect={deep:!0,created(g,{value:n,modifiers:{number:r}},$){const L=isSet$2(n);addEventListener$1(g,"change",()=>{const V=Array.prototype.filter.call(g.options,oe=>oe.selected).map(oe=>r?looseToNumber(getValue$2(oe)):getValue$2(oe));g._assign(g.multiple?L?new Set(V):V:V[0])}),g._assign=getModelAssigner($)},mounted(g,{value:n}){setSelected(g,n)},beforeUpdate(g,n,r){g._assign=getModelAssigner(r)},updated(g,{value:n}){setSelected(g,n)}};function setSelected(g,n){const r=g.multiple;if(!(r&&!isArray$7(n)&&!isSet$2(n))){for(let $=0,L=g.options.length;$<L;$++){const V=g.options[$],oe=getValue$2(V);if(r)isArray$7(n)?V.selected=looseIndexOf(n,oe)>-1:V.selected=n.has(oe);else if(looseEqual(getValue$2(V),n)){g.selectedIndex!==$&&(g.selectedIndex=$);return}}!r&&g.selectedIndex!==-1&&(g.selectedIndex=-1)}}function getValue$2(g){return"_value"in g?g._value:g.value}function getCheckboxValue(g,n){const r=n?"_trueValue":"_falseValue";return r in g?g[r]:n}vModelDynamic={created(g,n,r){callModelHook(g,n,r,null,"created")},mounted(g,n,r){callModelHook(g,n,r,null,"mounted")},beforeUpdate(g,n,r,$){callModelHook(g,n,r,$,"beforeUpdate")},updated(g,n,r,$){callModelHook(g,n,r,$,"updated")}};function resolveDynamicModel(g,n){switch(g){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(n){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(g,n,r,$,L){const V=resolveDynamicModel(g.tagName,r.props&&r.props.type)[L];V&&V(g,n,r,$)}function initVModelForSSR(){vModelText.getSSRProps=({value:g})=>({value:g}),vModelRadio.getSSRProps=({value:g},n)=>{if(n.props&&looseEqual(n.props.value,g))return{checked:!0}},vModelCheckbox.getSSRProps=({value:g},n)=>{if(isArray$7(g)){if(n.props&&looseIndexOf(g,n.props.value)>-1)return{checked:!0}}else if(isSet$2(g)){if(n.props&&g.has(n.props.value))return{checked:!0}}else if(g)return{checked:!0}},vModelDynamic.getSSRProps=(g,n)=>{if(typeof n.type!="string")return;const r=resolveDynamicModel(n.type.toUpperCase(),n.props&&n.props.type);if(r.getSSRProps)return r.getSSRProps(g,n)}}let systemModifiers,modifierGuards,keyNames;systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:g=>g.stopPropagation(),prevent:g=>g.preventDefault(),self:g=>g.target!==g.currentTarget,ctrl:g=>!g.ctrlKey,shift:g=>!g.shiftKey,alt:g=>!g.altKey,meta:g=>!g.metaKey,left:g=>"button"in g&&g.button!==0,middle:g=>"button"in g&&g.button!==1,right:g=>"button"in g&&g.button!==2,exact:(g,n)=>systemModifiers.some(r=>g[`${r}Key`]&&!n.includes(r))},withModifiers=(g,n)=>(r,...$)=>{for(let L=0;L<n.length;L++){const V=modifierGuards[n[L]];if(V&&V(r,n))return}return g(r,...$)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(g,n)=>r=>{if(!("key"in r))return;const $=hyphenate(r.key);if(n.some(L=>L===$||keyNames[L]===$))return g(r)},vShow={beforeMount(g,{value:n},{transition:r}){g._vod=g.style.display==="none"?"":g.style.display,r&&n?r.beforeEnter(g):setDisplay(g,n)},mounted(g,{value:n},{transition:r}){r&&n&&r.enter(g)},updated(g,{value:n,oldValue:r},{transition:$}){!n!=!r&&($?n?($.beforeEnter(g),setDisplay(g,!0),$.enter(g)):$.leave(g,()=>{setDisplay(g,!1)}):setDisplay(g,n))},beforeUnmount(g,{value:n}){setDisplay(g,n)}};function setDisplay(g,n){g.style.display=n?g._vod:"none"}function initVShowForSSR(){vShow.getSSRProps=({value:g})=>{if(!g)return{style:{display:"none"}}}}const rendererOptions=extend$4({patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}render$1=(...g)=>{ensureRenderer().render(...g)},hydrate=(...g)=>{ensureHydrationRenderer().hydrate(...g)},createApp=(...g)=>{const n=ensureRenderer().createApp(...g),{mount:r}=n;return n.mount=$=>{const L=normalizeContainer($);if(!L)return;const V=n._component;!isFunction$4(V)&&!V.render&&!V.template&&(V.template=L.innerHTML),L.innerHTML="";const oe=r(L,!1,L instanceof SVGElement);return L instanceof Element&&(L.removeAttribute("v-cloak"),L.setAttribute("data-v-app","")),oe},n},createSSRApp=(...g)=>{const n=ensureHydrationRenderer().createApp(...g),{mount:r}=n;return n.mount=$=>{const L=normalizeContainer($);if(L)return r(L,!0,L instanceof SVGElement)},n};function normalizeContainer(g){return isString$4(g)?document.querySelector(g):g}let ssrDirectiveInitialized=!1,App_vue_vue_type_style_index_0_lang,_sfc_main$1q;initDirectivesForSSR=()=>{ssrDirectiveInitialized||(ssrDirectiveInitialized=!0,initVModelForSSR(),initVShowForSSR())},App_vue_vue_type_style_index_0_lang="",_export_sfc$2=(g,n)=>{const r=g.__vccOpts||g;for(const[$,L]of n)r[$]=L;return r},_sfc_main$1q={};function _sfc_render$d(g,n){const r=resolveComponent("router-view");return openBlock(),createBlock(r)}const App=_export_sfc$2(_sfc_main$1q,[["render",_sfc_render$d]]);var isVue2=!1;let activePinia;const setActivePinia=g=>activePinia=g,piniaSymbol=Symbol();function isPlainObject$3(g){return g&&typeof g=="object"&&Object.prototype.toString.call(g)==="[object Object]"&&typeof g.toJSON!="function"}var MutationType;(function(g){g.direct="direct",g.patchObject="patch object",g.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const g=effectScope(!0),n=g.run(()=>ref({}));let r=[],$=[];const L=markRaw({install(V){setActivePinia(L),L._a=V,V.provide(piniaSymbol,L),V.config.globalProperties.$pinia=L,$.forEach(oe=>r.push(oe)),$=[]},use(V){return!this._a&&!isVue2?$.push(V):r.push(V),this},_p:r,_a:null,_e:g,_s:new Map,state:n});return L}const noop$6=()=>{};function addSubscription(g,n,r,$=noop$6){g.push(n);const L=()=>{const V=g.indexOf(n);V>-1&&(g.splice(V,1),$())};return!r&&getCurrentScope()&&onScopeDispose(L),L}function triggerSubscriptions(g,...n){g.slice().forEach(r=>{r(...n)})}function mergeReactiveObjects(g,n){g instanceof Map&&n instanceof Map&&n.forEach((r,$)=>g.set($,r)),g instanceof Set&&n instanceof Set&&n.forEach(g.add,g);for(const r in n){if(!n.hasOwnProperty(r))continue;const $=n[r],L=g[r];isPlainObject$3(L)&&isPlainObject$3($)&&g.hasOwnProperty(r)&&!isRef($)&&!isReactive($)?g[r]=mergeReactiveObjects(L,$):g[r]=$}return g}const skipHydrateSymbol=Symbol();function shouldHydrate(g){return!isPlainObject$3(g)||!g.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$1}=Object;function isComputed(g){return!!(isRef(g)&&g.effect)}function createOptionsStore(g,n,r,$){const{state:L,actions:V,getters:oe}=n,re=r.state.value[g];let ae;function le(){re||(r.state.value[g]=L?L():{});const ue=toRefs(r.state.value[g]);return assign$1(ue,V,Object.keys(oe||{}).reduce((de,pe)=>(de[pe]=markRaw(computed(()=>{setActivePinia(r);const he=r._s.get(g);return oe[pe].call(he,he)})),de),{}))}return ae=createSetupStore(g,le,n,r,$,!0),ae}function createSetupStore(g,n,r={},$,L,V){let oe;const re=assign$1({actions:{}},r),ae={deep:!0};let le,ue,de=markRaw([]),pe=markRaw([]),he;const _e=$.state.value[g];!V&&!_e&&($.state.value[g]={}),ref({});let Oe;function xe(qe){let Et;le=ue=!1,typeof qe=="function"?(qe($.state.value[g]),Et={type:MutationType.patchFunction,storeId:g,events:he}):(mergeReactiveObjects($.state.value[g],qe),Et={type:MutationType.patchObject,payload:qe,storeId:g,events:he});const At=Oe=Symbol();nextTick().then(()=>{Oe===At&&(le=!0)}),ue=!0,triggerSubscriptions(de,Et,$.state.value[g])}const $e=V?function(){const{state:qe}=r,Et=qe?qe():{};this.$patch(At=>{assign$1(At,Et)})}:noop$6;function Ie(){oe.stop(),de=[],pe=[],$._s.delete(g)}function Ne(qe,Et){return function(){setActivePinia($);const At=Array.from(arguments),kt=[],Dt=[];function jt(Sn){kt.push(Sn)}function Lt(Sn){Dt.push(Sn)}triggerSubscriptions(pe,{args:At,name:qe,store:Ue,after:jt,onError:Lt});let hn;try{hn=Et.apply(this&&this.$id===g?this:Ue,At)}catch(Sn){throw triggerSubscriptions(Dt,Sn),Sn}return hn instanceof Promise?hn.then(Sn=>(triggerSubscriptions(kt,Sn),Sn)).catch(Sn=>(triggerSubscriptions(Dt,Sn),Promise.reject(Sn))):(triggerSubscriptions(kt,hn),hn)}}const ze={_p:$,$id:g,$onAction:addSubscription.bind(null,pe),$patch:xe,$reset:$e,$subscribe(qe,Et={}){const At=addSubscription(de,qe,Et.detached,()=>kt()),kt=oe.run(()=>watch(()=>$.state.value[g],Dt=>{(Et.flush==="sync"?ue:le)&&qe({storeId:g,type:MutationType.direct,events:he},Dt)},assign$1({},ae,Et)));return At},$dispose:Ie},Ue=reactive(ze);$._s.set(g,Ue);const Fe=$._e.run(()=>(oe=effectScope(),oe.run(()=>n())));for(const qe in Fe){const Et=Fe[qe];if(isRef(Et)&&!isComputed(Et)||isReactive(Et))V||(_e&&shouldHydrate(Et)&&(isRef(Et)?Et.value=_e[qe]:mergeReactiveObjects(Et,_e[qe])),$.state.value[g][qe]=Et);else if(typeof Et=="function"){const At=Ne(qe,Et);Fe[qe]=At,re.actions[qe]=Et}}return assign$1(Ue,Fe),assign$1(toRaw(Ue),Fe),Object.defineProperty(Ue,"$state",{get:()=>$.state.value[g],set:qe=>{xe(Et=>{assign$1(Et,qe)})}}),$._p.forEach(qe=>{assign$1(Ue,oe.run(()=>qe({store:Ue,app:$._a,pinia:$,options:re})))}),_e&&V&&r.hydrate&&r.hydrate(Ue.$state,_e),le=!0,ue=!0,Ue}defineStore=function(n,r,$){let L,V;const oe=typeof r=="function";typeof n=="string"?(L=n,V=oe?$:r):(V=n,L=n.id);function re(ae,le){const ue=getCurrentInstance();return ae=ae||ue&&inject(piniaSymbol,null),ae&&setActivePinia(ae),ae=activePinia,ae._s.has(L)||(oe?createSetupStore(L,r,V,ae):createOptionsStore(L,V,ae)),ae._s.get(L)}return re.$id=L,re},storeToRefs=function(n){if(isVue2)return toRefs(n);{n=toRaw(n);const r={};for(const $ in n){const L=n[$];(isRef(L)||isReactive(L))&&(r[$]=toRef(n,$))}return r}};const clickOutside={name:"clickOutside",options:{mounted(g,n){const r=$=>!$.target.contains(g)&&n.value();g.__click_outside__=r,document.addEventListener("click",r)},beforeDestroy(g,n){document.removeEventListener("click",g.__click_outside__)}}},__vite_glob_0_0$2=Object.freeze(Object.defineProperty({__proto__:null,default:clickOutside},Symbol.toStringTag,{value:"Module"})),_withScopeId$1=g=>(pushScopeId("data-v-9a984c7b"),g=g(),popScopeId(),g),_hoisted_1$G={class:"ev-loading-container"},_hoisted_2$q=_withScopeId$1(()=>createBaseVNode("div",{class:"ev-loading"}," loading ",-1)),_hoisted_3$g=[_hoisted_2$q],__default__$$=defineComponent({name:"EvLoading"}),_sfc_main$1p=defineComponent({...__default__$$,setup(g){return(n,r)=>(openBlock(),createElementBlock("div",_hoisted_1$G,_hoisted_3$g))}}),EvLoading_vue_vue_type_style_index_0_scoped_9a984c7b_lang="",loadingComp=_export_sfc$2(_sfc_main$1p,[["__scopeId","data-v-9a984c7b"]]),__vite_glob_1_6=Object.freeze(Object.defineProperty({__proto__:null,default:loadingComp},Symbol.toStringTag,{value:"Module"})),judgeLoading=(g,n)=>{var V;const r=(V=n.modifiers)!=null&&V.fullscreen?document.body:g,$=oe=>{const re=getComputedStyle(oe);oe.setAttribute("oldPosition",re.position),["absolute","fixed","relative"].includes(re.position)||(oe.style.position="relative"),oe.appendChild(load.$el)},L=oe=>{try{oe.removeChild(load.$el),oe.style.position=oe.getAttribute("oldPosition")||""}catch(re){console.warn(re)}};n.value?$(r):L(r)},app=createApp(loadingComp),load=app.mount(document.createElement("div")),loading={name:"loading",options:{mounted(g,n){judgeLoading(g,n)},updated(g,n){judgeLoading(g,n)}}},__vite_glob_0_1$2=Object.freeze(Object.defineProperty({__proto__:null,default:loading},Symbol.toStringTag,{value:"Module"}));var extendStatics=function(g,n){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,$){r.__proto__=$}||function(r,$){for(var L in $)Object.prototype.hasOwnProperty.call($,L)&&(r[L]=$[L])},extendStatics(g,n)};function __extends(g,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");extendStatics(g,n);function r(){this.constructor=g}g.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Browser=function(){function g(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return g}(),Env=function(){function g(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return g}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:typeof navigator>"u"?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(g,n){var r=n.browser,$=g.match(/Firefox\/([\d.]+)/),L=g.match(/MSIE\s([\d.]+)/)||g.match(/Trident\/.+?rv:(([\d.]+))/),V=g.match(/Edge?\/([\d.]+)/),oe=/micromessenger/i.test(g);$&&(r.firefox=!0,r.version=$[1]),L&&(r.ie=!0,r.version=L[1]),V&&(r.edge=!0,r.version=V[1],r.newEdge=+V[1].split(".")[0]>18),oe&&(r.weChat=!0),n.svgSupported=typeof SVGRect<"u",n.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,n.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),n.domSupported=typeof document<"u";var re=document.documentElement.style;n.transform3dSupported=(r.ie&&"transition"in re||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in re)&&!("OTransition"in re),n.transformSupported=n.transform3dSupported||r.ie&&+r.version>=9}const env$1=env;var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(g){var n={};if(typeof JSON>"u")return n;for(var r=0;r<g.length;r++){var $=String.fromCharCode(r+32),L=(g.charCodeAt(r)-OFFSET)/SCALE;n[$]=L}return n}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var g,n;return function(r,$){if(!g){var L=platformApi.createCanvas();g=L&&L.getContext("2d")}if(g)return n!==$&&(n=g.font=$||DEFAULT_FONT),g.measureText(r);r=r||"",$=$||DEFAULT_FONT;var V=/(\d+)px/.exec($),oe=V&&+V[1]||DEFAULT_FONT_SIZE,re=0;if($.indexOf("mono")>=0)re=oe*r.length;else for(var ae=0;ae<r.length;ae++){var le=DEFAULT_TEXT_WIDTH_MAP[r[ae]];re+=le==null?oe:le*oe}return{width:re}}}(),loadImage:function(g,n,r){var $=new Image;return $.onload=n,$.onerror=r,$.src=g,$}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(g,n){return g["[object "+n+"]"]=!0,g},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(g,n){return g["[object "+n+"Array]"]=!0,g},{}),objToString=Object.prototype.toString,arrayProto$1=Array.prototype,nativeForEach=arrayProto$1.forEach,nativeFilter=arrayProto$1.filter,nativeSlice=arrayProto$1.slice,nativeMap=arrayProto$1.map,ctorFunction=function(){}.constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var g=[],n=0;n<arguments.length;n++)g[n]=arguments[n];typeof console<"u"&&console.error.apply(console,g)}function clone$5(g){if(g==null||typeof g!="object")return g;var n=g,r=objToString.call(g);if(r==="[object Array]"){if(!isPrimitive(g)){n=[];for(var $=0,L=g.length;$<L;$++)n[$]=clone$5(g[$])}}else if(TYPED_ARRAY[r]){if(!isPrimitive(g)){var V=g.constructor;if(V.from)n=V.from(g);else{n=new V(g.length);for(var $=0,L=g.length;$<L;$++)n[$]=g[$]}}}else if(!BUILTIN_OBJECT[r]&&!isPrimitive(g)&&!isDom(g)){n={};for(var oe in g)g.hasOwnProperty(oe)&&oe!==protoKey&&(n[oe]=clone$5(g[oe]))}return n}function merge$4(g,n,r){if(!isObject$6(n)||!isObject$6(g))return r?clone$5(n):g;for(var $ in n)if(n.hasOwnProperty($)&&$!==protoKey){var L=g[$],V=n[$];isObject$6(V)&&isObject$6(L)&&!isArray$6(V)&&!isArray$6(L)&&!isDom(V)&&!isDom(L)&&!isBuiltInObject(V)&&!isBuiltInObject(L)&&!isPrimitive(V)&&!isPrimitive(L)?merge$4(L,V,r):(r||!($ in g))&&(g[$]=clone$5(n[$]))}return g}function mergeAll(g,n){for(var r=g[0],$=1,L=g.length;$<L;$++)r=merge$4(r,g[$],n);return r}function extend$3(g,n){if(Object.assign)Object.assign(g,n);else for(var r in n)n.hasOwnProperty(r)&&r!==protoKey&&(g[r]=n[r]);return g}function defaults$5(g,n,r){for(var $=keys$2(n),L=0;L<$.length;L++){var V=$[L];(r?n[V]!=null:g[V]==null)&&(g[V]=n[V])}return g}function indexOf(g,n){if(g){if(g.indexOf)return g.indexOf(n);for(var r=0,$=g.length;r<$;r++)if(g[r]===n)return r}return-1}function inherits$2(g,n){var r=g.prototype;function $(){}$.prototype=n.prototype,g.prototype=new $;for(var L in r)r.hasOwnProperty(L)&&(g.prototype[L]=r[L]);g.prototype.constructor=g,g.superClass=n}function mixin(g,n,r){if(g="prototype"in g?g.prototype:g,n="prototype"in n?n.prototype:n,Object.getOwnPropertyNames)for(var $=Object.getOwnPropertyNames(n),L=0;L<$.length;L++){var V=$[L];V!=="constructor"&&(r?n[V]!=null:g[V]==null)&&(g[V]=n[V])}else defaults$5(g,n,r)}function isArrayLike$1(g){return!g||typeof g=="string"?!1:typeof g.length=="number"}function each$f(g,n,r){if(g&&n)if(g.forEach&&g.forEach===nativeForEach)g.forEach(n,r);else if(g.length===+g.length)for(var $=0,L=g.length;$<L;$++)n.call(r,g[$],$,g);else for(var V in g)g.hasOwnProperty(V)&&n.call(r,g[V],V,g)}function map$2(g,n,r){if(!g)return[];if(!n)return slice(g);if(g.map&&g.map===nativeMap)return g.map(n,r);for(var $=[],L=0,V=g.length;L<V;L++)$.push(n.call(r,g[L],L,g));return $}function reduce(g,n,r,$){if(g&&n){for(var L=0,V=g.length;L<V;L++)r=n.call($,r,g[L],L,g);return r}}function filter(g,n,r){if(!g)return[];if(!n)return slice(g);if(g.filter&&g.filter===nativeFilter)return g.filter(n,r);for(var $=[],L=0,V=g.length;L<V;L++)n.call(r,g[L],L,g)&&$.push(g[L]);return $}function find$1(g,n,r){if(g&&n){for(var $=0,L=g.length;$<L;$++)if(n.call(r,g[$],$,g))return g[$]}}function keys$2(g){if(!g)return[];if(Object.keys)return Object.keys(g);var n=[];for(var r in g)g.hasOwnProperty(r)&&n.push(r);return n}function bindPolyfill(g,n){for(var r=[],$=2;$<arguments.length;$++)r[$-2]=arguments[$];return function(){return g.apply(n,r.concat(nativeSlice.call(arguments)))}}var bind$3=protoFunction&&isFunction$3(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(g){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){return g.apply(this,n.concat(nativeSlice.call(arguments)))}}function isArray$6(g){return Array.isArray?Array.isArray(g):objToString.call(g)==="[object Array]"}function isFunction$3(g){return typeof g=="function"}function isString$3(g){return typeof g=="string"}function isStringSafe(g){return objToString.call(g)==="[object String]"}function isNumber$3(g){return typeof g=="number"}function isObject$6(g){var n=typeof g;return n==="function"||!!g&&n==="object"}function isBuiltInObject(g){return!!BUILTIN_OBJECT[objToString.call(g)]}function isTypedArray$4(g){return!!TYPED_ARRAY[objToString.call(g)]}function isDom(g){return typeof g=="object"&&typeof g.nodeType=="number"&&typeof g.ownerDocument=="object"}function isGradientObject(g){return g.colorStops!=null}function isImagePatternObject(g){return g.image!=null}function isRegExp$2(g){return objToString.call(g)==="[object RegExp]"}function eqNaN(g){return g!==g}function retrieve(){for(var g=[],n=0;n<arguments.length;n++)g[n]=arguments[n];for(var r=0,$=g.length;r<$;r++)if(g[r]!=null)return g[r]}function retrieve2(g,n){return g!=null?g:n}function retrieve3(g,n,r){var $;return($=g!=null?g:n)!=null?$:r}function slice(g){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return nativeSlice.apply(g,n)}function normalizeCssArray$1(g){if(typeof g=="number")return[g,g,g,g];var n=g.length;return n===2?[g[0],g[1],g[0],g[1]]:n===3?[g[0],g[1],g[2],g[1]]:g}function assert(g,n){if(!g)throw new Error(n)}function trim$3(g){return g==null?null:typeof g.trim=="function"?g.trim():g.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(g){g[primitiveKey]=!0}function isPrimitive(g){return g[primitiveKey]}var MapPolyfill=function(){function g(){this.data={}}return g.prototype.delete=function(n){var r=this.has(n);return r&&delete this.data[n],r},g.prototype.has=function(n){return this.data.hasOwnProperty(n)},g.prototype.get=function(n){return this.data[n]},g.prototype.set=function(n,r){return this.data[n]=r,this},g.prototype.keys=function(){return keys$2(this.data)},g.prototype.forEach=function(n){var r=this.data;for(var $ in r)r.hasOwnProperty($)&&n(r[$],$)},g}(),isNativeMapSupported=typeof Map=="function";function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=function(){function g(n){var r=isArray$6(n);this.data=maybeNativeMap();var $=this;n instanceof g?n.each(L):n&&each$f(n,L);function L(V,oe){r?$.set(V,oe):$.set(oe,V)}}return g.prototype.hasKey=function(n){return this.data.has(n)},g.prototype.get=function(n){return this.data.get(n)},g.prototype.set=function(n,r){return this.data.set(n,r),r},g.prototype.each=function(n,r){this.data.forEach(function($,L){n.call(r,$,L)})},g.prototype.keys=function(){var n=this.data.keys();return isNativeMapSupported?Array.from(n):n},g.prototype.removeKey=function(n){this.data.delete(n)},g}();function createHashMap(g){return new HashMap(g)}function concatArray(g,n){for(var r=new g.constructor(g.length+n.length),$=0;$<g.length;$++)r[$]=g[$];for(var L=g.length,$=0;$<n.length;$++)r[$+L]=n[$];return r}function createObject(g,n){var r;if(Object.create)r=Object.create(g);else{var $=function(){};$.prototype=g,r=new $}return n&&extend$3(r,n),r}function disableUserSelect(g){var n=g.style;n.webkitUserSelect="none",n.userSelect="none",n.webkitTapHighlightColor="rgba(0,0,0,0)",n["-webkit-touch-callout"]="none"}function hasOwn(g,n){return g.hasOwnProperty(n)}function noop$5(){}var RADIAN_TO_DEGREE=180/Math.PI;function create$2(g,n){return g==null&&(g=0),n==null&&(n=0),[g,n]}function copy$2(g,n){return g[0]=n[0],g[1]=n[1],g}function clone$4(g){return[g[0],g[1]]}function set$2(g,n,r){return g[0]=n,g[1]=r,g}function add$1(g,n,r){return g[0]=n[0]+r[0],g[1]=n[1]+r[1],g}function scaleAndAdd$1(g,n,r,$){return g[0]=n[0]+r[0]*$,g[1]=n[1]+r[1]*$,g}function sub(g,n,r){return g[0]=n[0]-r[0],g[1]=n[1]-r[1],g}function len(g){return Math.sqrt(lenSquare(g))}function lenSquare(g){return g[0]*g[0]+g[1]*g[1]}function scale$2(g,n,r){return g[0]=n[0]*r,g[1]=n[1]*r,g}function normalize$4(g,n){var r=len(n);return r===0?(g[0]=0,g[1]=0):(g[0]=n[0]/r,g[1]=n[1]/r),g}function distance(g,n){return Math.sqrt((g[0]-n[0])*(g[0]-n[0])+(g[1]-n[1])*(g[1]-n[1]))}var dist$1=distance;function distanceSquare(g,n){return(g[0]-n[0])*(g[0]-n[0])+(g[1]-n[1])*(g[1]-n[1])}var distSquare=distanceSquare;function lerp$1(g,n,r,$){return g[0]=n[0]+$*(r[0]-n[0]),g[1]=n[1]+$*(r[1]-n[1]),g}function applyTransform$1(g,n,r){var $=n[0],L=n[1];return g[0]=r[0]*$+r[2]*L+r[4],g[1]=r[1]*$+r[3]*L+r[5],g}function min$1(g,n,r){return g[0]=Math.min(n[0],r[0]),g[1]=Math.min(n[1],r[1]),g}function max$1(g,n,r){return g[0]=Math.max(n[0],r[0]),g[1]=Math.max(n[1],r[1]),g}var Param=function(){function g(n,r){this.target=n,this.topTarget=r&&r.topTarget}return g}(),Draggable=function(){function g(n){this.handler=n,n.on("mousedown",this._dragStart,this),n.on("mousemove",this._drag,this),n.on("mouseup",this._dragEnd,this)}return g.prototype._dragStart=function(n){for(var r=n.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this.handler.dispatchToElement(new Param(r,n),"dragstart",n.event))},g.prototype._drag=function(n){var r=this._draggingTarget;if(r){var $=n.offsetX,L=n.offsetY,V=$-this._x,oe=L-this._y;this._x=$,this._y=L,r.drift(V,oe,n),this.handler.dispatchToElement(new Param(r,n),"drag",n.event);var re=this.handler.findHover($,L,r).target,ae=this._dropTarget;this._dropTarget=re,r!==re&&(ae&&re!==ae&&this.handler.dispatchToElement(new Param(ae,n),"dragleave",n.event),re&&re!==ae&&this.handler.dispatchToElement(new Param(re,n),"dragenter",n.event))}},g.prototype._dragEnd=function(n){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new Param(r,n),"dragend",n.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,n),"drop",n.event),this._draggingTarget=null,this._dropTarget=null},g}();const Draggable$1=Draggable;var Eventful=function(){function g(n){n&&(this._$eventProcessor=n)}return g.prototype.on=function(n,r,$,L){this._$handlers||(this._$handlers={});var V=this._$handlers;if(typeof r=="function"&&(L=$,$=r,r=null),!$||!n)return this;var oe=this._$eventProcessor;r!=null&&oe&&oe.normalizeQuery&&(r=oe.normalizeQuery(r)),V[n]||(V[n]=[]);for(var re=0;re<V[n].length;re++)if(V[n][re].h===$)return this;var ae={h:$,query:r,ctx:L||this,callAtLast:$.zrEventfulCallAtLast},le=V[n].length-1,ue=V[n][le];return ue&&ue.callAtLast?V[n].splice(le,0,ae):V[n].push(ae),this},g.prototype.isSilent=function(n){var r=this._$handlers;return!r||!r[n]||!r[n].length},g.prototype.off=function(n,r){var $=this._$handlers;if(!$)return this;if(!n)return this._$handlers={},this;if(r){if($[n]){for(var L=[],V=0,oe=$[n].length;V<oe;V++)$[n][V].h!==r&&L.push($[n][V]);$[n]=L}$[n]&&$[n].length===0&&delete $[n]}else delete $[n];return this},g.prototype.trigger=function(n){for(var r=[],$=1;$<arguments.length;$++)r[$-1]=arguments[$];if(!this._$handlers)return this;var L=this._$handlers[n],V=this._$eventProcessor;if(L)for(var oe=r.length,re=L.length,ae=0;ae<re;ae++){var le=L[ae];if(!(V&&V.filter&&le.query!=null&&!V.filter(n,le.query)))switch(oe){case 0:le.h.call(le.ctx);break;case 1:le.h.call(le.ctx,r[0]);break;case 2:le.h.call(le.ctx,r[0],r[1]);break;default:le.h.apply(le.ctx,r);break}}return V&&V.afterTrigger&&V.afterTrigger(n),this},g.prototype.triggerWithContext=function(n){for(var r=[],$=1;$<arguments.length;$++)r[$-1]=arguments[$];if(!this._$handlers)return this;var L=this._$handlers[n],V=this._$eventProcessor;if(L)for(var oe=r.length,re=r[oe-1],ae=L.length,le=0;le<ae;le++){var ue=L[le];if(!(V&&V.filter&&ue.query!=null&&!V.filter(n,ue.query)))switch(oe){case 0:ue.h.call(re);break;case 1:ue.h.call(re,r[0]);break;case 2:ue.h.call(re,r[0],r[1]);break;default:ue.h.apply(re,r.slice(1,oe-1));break}}return V&&V.afterTrigger&&V.afterTrigger(n),this},g}();const Eventful$1=Eventful;var LN2=Math.log(2);function determinant(g,n,r,$,L,V){var oe=$+"-"+L,re=g.length;if(V.hasOwnProperty(oe))return V[oe];if(n===1){var ae=Math.round(Math.log((1<<re)-1&~L)/LN2);return g[r][ae]}for(var le=$|1<<r,ue=r+1;$&1<<ue;)ue++;for(var de=0,pe=0,he=0;pe<re;pe++){var _e=1<<pe;_e&L||(de+=(he%2?-1:1)*g[r][pe]*determinant(g,n-1,ue,le,L|_e,V),he++)}return V[oe]=de,de}function buildTransformer(g,n){var r=[[g[0],g[1],1,0,0,0,-n[0]*g[0],-n[0]*g[1]],[0,0,0,g[0],g[1],1,-n[1]*g[0],-n[1]*g[1]],[g[2],g[3],1,0,0,0,-n[2]*g[2],-n[2]*g[3]],[0,0,0,g[2],g[3],1,-n[3]*g[2],-n[3]*g[3]],[g[4],g[5],1,0,0,0,-n[4]*g[4],-n[4]*g[5]],[0,0,0,g[4],g[5],1,-n[5]*g[4],-n[5]*g[5]],[g[6],g[7],1,0,0,0,-n[6]*g[6],-n[6]*g[7]],[0,0,0,g[6],g[7],1,-n[7]*g[6],-n[7]*g[7]]],$={},L=determinant(r,8,0,0,0,$);if(L!==0){for(var V=[],oe=0;oe<8;oe++)for(var re=0;re<8;re++)V[re]==null&&(V[re]=0),V[re]+=((oe+re)%2?-1:1)*determinant(r,7,oe===0?1:0,1<<oe,1<<re,$)/L*n[oe];return function(ae,le,ue){var de=le*V[6]+ue*V[7]+1;ae[0]=(le*V[0]+ue*V[1]+V[2])/de,ae[1]=(le*V[3]+ue*V[4]+V[5])/de}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(g,n,r,$,L){return transformCoordWithViewport(_calcOut$1,n,$,L,!0)&&transformCoordWithViewport(g,r,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(g,n,r,$,L){if(n.getBoundingClientRect&&env$1.domSupported&&!isCanvasEl(n)){var V=n[EVENT_SAVED_PROP]||(n[EVENT_SAVED_PROP]={}),oe=prepareCoordMarkers(n,V),re=preparePointerTransformer(oe,V,L);if(re)return re(g,r,$),!0}return!1}function prepareCoordMarkers(g,n){var r=n.markers;if(r)return r;r=n.markers=[];for(var $=["left","right"],L=["top","bottom"],V=0;V<4;V++){var oe=document.createElement("div"),re=oe.style,ae=V%2,le=(V>>1)%2;re.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",$[ae]+":0",L[le]+":0",$[1-ae]+":auto",L[1-le]+":auto",""].join("!important;"),g.appendChild(oe),r.push(oe)}return r}function preparePointerTransformer(g,n,r){for(var $=r?"invTrans":"trans",L=n[$],V=n.srcCoords,oe=[],re=[],ae=!0,le=0;le<4;le++){var ue=g[le].getBoundingClientRect(),de=2*le,pe=ue.left,he=ue.top;oe.push(pe,he),ae=ae&&V&&pe===V[de]&&he===V[de+1],re.push(g[le].offsetLeft,g[le].offsetTop)}return ae&&L?L:(n.srcCoords=oe,n[$]=r?buildTransformer(re,oe):buildTransformer(oe,re))}function isCanvasEl(g){return g.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(g){return g==null?"":(g+"").replace(replaceReg,function(n,r){return replaceMap[r]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env$1.browser.firefox&&+env$1.browser.version.split(".")[0]<39;function clientToLocal(g,n,r,$){return r=r||{},$?calculateZrXY(g,n,r):firefoxNotSupportOffsetXY&&n.layerX!=null&&n.layerX!==n.offsetX?(r.zrX=n.layerX,r.zrY=n.layerY):n.offsetX!=null?(r.zrX=n.offsetX,r.zrY=n.offsetY):calculateZrXY(g,n,r),r}function calculateZrXY(g,n,r){if(env$1.domSupported&&g.getBoundingClientRect){var $=n.clientX,L=n.clientY;if(isCanvasEl(g)){var V=g.getBoundingClientRect();r.zrX=$-V.left,r.zrY=L-V.top;return}else if(transformCoordWithViewport(_calcOut,g,$,L)){r.zrX=_calcOut[0],r.zrY=_calcOut[1];return}}r.zrX=r.zrY=0}function getNativeEvent(g){return g||window.event}function normalizeEvent(g,n,r){if(n=getNativeEvent(n),n.zrX!=null)return n;var $=n.type,L=$&&$.indexOf("touch")>=0;if(L){var V=$!=="touchend"?n.targetTouches[0]:n.changedTouches[0];V&&clientToLocal(g,V,n,r)}else{clientToLocal(g,n,n,r);var oe=getWheelDeltaMayPolyfill(n);n.zrDelta=oe?oe/120:-(n.detail||0)/3}var re=n.button;return n.which==null&&re!==void 0&&MOUSE_EVENT_REG.test(n.type)&&(n.which=re&1?1:re&2?3:re&4?2:0),n}function getWheelDeltaMayPolyfill(g){var n=g.wheelDelta;if(n)return n;var r=g.deltaX,$=g.deltaY;if(r==null||$==null)return n;var L=Math.abs($!==0?$:r),V=$>0?-1:$<0?1:r>0?-1:1;return 3*L*V}function addEventListener(g,n,r,$){g.addEventListener(n,r,$)}function removeEventListener(g,n,r,$){g.removeEventListener(n,r,$)}var stop=function(g){g.preventDefault(),g.stopPropagation(),g.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(g){return g.which===2||g.which===3}var GestureMgr=function(){function g(){this._track=[]}return g.prototype.recognize=function(n,r,$){return this._doTrack(n,r,$),this._recognize(n)},g.prototype.clear=function(){return this._track.length=0,this},g.prototype._doTrack=function(n,r,$){var L=n.touches;if(L){for(var V={points:[],touches:[],target:r,event:n},oe=0,re=L.length;oe<re;oe++){var ae=L[oe],le=clientToLocal($,ae,{});V.points.push([le.zrX,le.zrY]),V.touches.push(ae)}this._track.push(V)}},g.prototype._recognize=function(n){for(var r in recognizers)if(recognizers.hasOwnProperty(r)){var $=recognizers[r](this._track,n);if($)return $}},g}();function dist(g){var n=g[1][0]-g[0][0],r=g[1][1]-g[0][1];return Math.sqrt(n*n+r*r)}function center$1(g){return[(g[0][0]+g[1][0])/2,(g[0][1]+g[1][1])/2]}var recognizers={pinch:function(g,n){var r=g.length;if(r){var $=(g[r-1]||{}).points,L=(g[r-2]||{}).points||$;if(L&&L.length>1&&$&&$.length>1){var V=dist($)/dist(L);!isFinite(V)&&(V=1),n.pinchScale=V;var oe=center$1($);return n.pinchX=oe[0],n.pinchY=oe[1],{type:"pinch",target:g[0].target,event:n}}}}};function create$1(){return[1,0,0,1,0,0]}function identity$2(g){return g[0]=1,g[1]=0,g[2]=0,g[3]=1,g[4]=0,g[5]=0,g}function copy$1(g,n){return g[0]=n[0],g[1]=n[1],g[2]=n[2],g[3]=n[3],g[4]=n[4],g[5]=n[5],g}function mul(g,n,r){var $=n[0]*r[0]+n[2]*r[1],L=n[1]*r[0]+n[3]*r[1],V=n[0]*r[2]+n[2]*r[3],oe=n[1]*r[2]+n[3]*r[3],re=n[0]*r[4]+n[2]*r[5]+n[4],ae=n[1]*r[4]+n[3]*r[5]+n[5];return g[0]=$,g[1]=L,g[2]=V,g[3]=oe,g[4]=re,g[5]=ae,g}function translate$1(g,n,r){return g[0]=n[0],g[1]=n[1],g[2]=n[2],g[3]=n[3],g[4]=n[4]+r[0],g[5]=n[5]+r[1],g}function rotate(g,n,r){var $=n[0],L=n[2],V=n[4],oe=n[1],re=n[3],ae=n[5],le=Math.sin(r),ue=Math.cos(r);return g[0]=$*ue+oe*le,g[1]=-$*le+oe*ue,g[2]=L*ue+re*le,g[3]=-L*le+ue*re,g[4]=ue*V+le*ae,g[5]=ue*ae-le*V,g}function scale$1(g,n,r){var $=r[0],L=r[1];return g[0]=n[0]*$,g[1]=n[1]*L,g[2]=n[2]*$,g[3]=n[3]*L,g[4]=n[4]*$,g[5]=n[5]*L,g}function invert(g,n){var r=n[0],$=n[2],L=n[4],V=n[1],oe=n[3],re=n[5],ae=r*oe-V*$;return ae?(ae=1/ae,g[0]=oe*ae,g[1]=-V*ae,g[2]=-$*ae,g[3]=r*ae,g[4]=($*re-oe*L)*ae,g[5]=(V*L-r*re)*ae,g):null}function clone$3(g){var n=create$1();return copy$1(n,g),n}var Point=function(){function g(n,r){this.x=n||0,this.y=r||0}return g.prototype.copy=function(n){return this.x=n.x,this.y=n.y,this},g.prototype.clone=function(){return new g(this.x,this.y)},g.prototype.set=function(n,r){return this.x=n,this.y=r,this},g.prototype.equal=function(n){return n.x===this.x&&n.y===this.y},g.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this},g.prototype.scale=function(n){this.x*=n,this.y*=n},g.prototype.scaleAndAdd=function(n,r){this.x+=n.x*r,this.y+=n.y*r},g.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this},g.prototype.dot=function(n){return this.x*n.x+this.y*n.y},g.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},g.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},g.prototype.normalize=function(){var n=this.len();return this.x/=n,this.y/=n,this},g.prototype.distance=function(n){var r=this.x-n.x,$=this.y-n.y;return Math.sqrt(r*r+$*$)},g.prototype.distanceSquare=function(n){var r=this.x-n.x,$=this.y-n.y;return r*r+$*$},g.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},g.prototype.transform=function(n){if(n){var r=this.x,$=this.y;return this.x=n[0]*r+n[2]*$+n[4],this.y=n[1]*r+n[3]*$+n[5],this}},g.prototype.toArray=function(n){return n[0]=this.x,n[1]=this.y,n},g.prototype.fromArray=function(n){this.x=n[0],this.y=n[1]},g.set=function(n,r,$){n.x=r,n.y=$},g.copy=function(n,r){n.x=r.x,n.y=r.y},g.len=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},g.lenSquare=function(n){return n.x*n.x+n.y*n.y},g.dot=function(n,r){return n.x*r.x+n.y*r.y},g.add=function(n,r,$){n.x=r.x+$.x,n.y=r.y+$.y},g.sub=function(n,r,$){n.x=r.x-$.x,n.y=r.y-$.y},g.scale=function(n,r,$){n.x=r.x*$,n.y=r.y*$},g.scaleAndAdd=function(n,r,$,L){n.x=r.x+$.x*L,n.y=r.y+$.y*L},g.lerp=function(n,r,$,L){var V=1-L;n.x=V*r.x+L*$.x,n.y=V*r.y+L*$.y},g}();const Point$1=Point;var mathMin$a=Math.min,mathMax$a=Math.max,lt$1=new Point$1,rb=new Point$1,lb=new Point$1,rt$1=new Point$1,minTv$1=new Point$1,maxTv$1=new Point$1,BoundingRect=function(){function g(n,r,$,L){$<0&&(n=n+$,$=-$),L<0&&(r=r+L,L=-L),this.x=n,this.y=r,this.width=$,this.height=L}return g.prototype.union=function(n){var r=mathMin$a(n.x,this.x),$=mathMin$a(n.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$a(n.x+n.width,this.x+this.width)-r:this.width=n.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$a(n.y+n.height,this.y+this.height)-$:this.height=n.height,this.x=r,this.y=$},g.prototype.applyTransform=function(n){g.applyTransform(this,this,n)},g.prototype.calculateTransform=function(n){var r=this,$=n.width/r.width,L=n.height/r.height,V=create$1();return translate$1(V,V,[-r.x,-r.y]),scale$1(V,V,[$,L]),translate$1(V,V,[n.x,n.y]),V},g.prototype.intersect=function(n,r){if(!n)return!1;n instanceof g||(n=g.create(n));var $=this,L=$.x,V=$.x+$.width,oe=$.y,re=$.y+$.height,ae=n.x,le=n.x+n.width,ue=n.y,de=n.y+n.height,pe=!(V<ae||le<L||re<ue||de<oe);if(r){var he=1/0,_e=0,Oe=Math.abs(V-ae),xe=Math.abs(le-L),$e=Math.abs(re-ue),Ie=Math.abs(de-oe),Ne=Math.min(Oe,xe),ze=Math.min($e,Ie);V<ae||le<L?Ne>_e&&(_e=Ne,Oe<xe?Point$1.set(maxTv$1,-Oe,0):Point$1.set(maxTv$1,xe,0)):Ne<he&&(he=Ne,Oe<xe?Point$1.set(minTv$1,Oe,0):Point$1.set(minTv$1,-xe,0)),re<ue||de<oe?ze>_e&&(_e=ze,$e<Ie?Point$1.set(maxTv$1,0,-$e):Point$1.set(maxTv$1,0,Ie)):Ne<he&&(he=Ne,$e<Ie?Point$1.set(minTv$1,0,$e):Point$1.set(minTv$1,0,-Ie))}return r&&Point$1.copy(r,pe?minTv$1:maxTv$1),pe},g.prototype.contain=function(n,r){var $=this;return n>=$.x&&n<=$.x+$.width&&r>=$.y&&r<=$.y+$.height},g.prototype.clone=function(){return new g(this.x,this.y,this.width,this.height)},g.prototype.copy=function(n){g.copy(this,n)},g.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},g.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},g.prototype.isZero=function(){return this.width===0||this.height===0},g.create=function(n){return new g(n.x,n.y,n.width,n.height)},g.copy=function(n,r){n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height},g.applyTransform=function(n,r,$){if(!$){n!==r&&g.copy(n,r);return}if($[1]<1e-5&&$[1]>-1e-5&&$[2]<1e-5&&$[2]>-1e-5){var L=$[0],V=$[3],oe=$[4],re=$[5];n.x=r.x*L+oe,n.y=r.y*V+re,n.width=r.width*L,n.height=r.height*V,n.width<0&&(n.x+=n.width,n.width=-n.width),n.height<0&&(n.y+=n.height,n.height=-n.height);return}lt$1.x=lb.x=r.x,lt$1.y=rt$1.y=r.y,rb.x=rt$1.x=r.x+r.width,rb.y=lb.y=r.y+r.height,lt$1.transform($),rt$1.transform($),rb.transform($),lb.transform($),n.x=mathMin$a(lt$1.x,rb.x,lb.x,rt$1.x),n.y=mathMin$a(lt$1.y,rb.y,lb.y,rt$1.y);var ae=mathMax$a(lt$1.x,rb.x,lb.x,rt$1.x),le=mathMax$a(lt$1.y,rb.y,lb.y,rt$1.y);n.width=ae-n.x,n.height=le-n.y},g}();const BoundingRect$1=BoundingRect;var SILENT="silent";function makeEventPacket(g,n,r){return{type:g,event:r,target:n.target,topTarget:n.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var EmptyProxy=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.handler=null,r}return n.prototype.dispose=function(){},n.prototype.setCursor=function(){},n}(Eventful$1),HoveredResult=function(){function g(n,r){this.x=n,this.y=r}return g}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect$1(0,0,0,0),Handler=function(g){__extends(n,g);function n(r,$,L,V,oe){var re=g.call(this)||this;return re._hovered=new HoveredResult(0,0),re.storage=r,re.painter=$,re.painterRoot=V,re._pointerSize=oe,L=L||new EmptyProxy,re.proxy=null,re.setHandlerProxy(L),re._draggingMgr=new Draggable$1(re),re}return n.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(each$f(handlerNames,function($){r.on&&r.on($,this[$],this)},this),r.handler=this),this.proxy=r},n.prototype.mousemove=function(r){var $=r.zrX,L=r.zrY,V=isOutsideBoundary(this,$,L),oe=this._hovered,re=oe.target;re&&!re.__zr&&(oe=this.findHover(oe.x,oe.y),re=oe.target);var ae=this._hovered=V?new HoveredResult($,L):this.findHover($,L),le=ae.target,ue=this.proxy;ue.setCursor&&ue.setCursor(le?le.cursor:"default"),re&&le!==re&&this.dispatchToElement(oe,"mouseout",r),this.dispatchToElement(ae,"mousemove",r),le&&le!==re&&this.dispatchToElement(ae,"mouseover",r)},n.prototype.mouseout=function(r){var $=r.zrEventControl;$!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),$!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},n.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},n.prototype.dispatch=function(r,$){var L=this[r];L&&L.call(this,$)},n.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},n.prototype.setCursorStyle=function(r){var $=this.proxy;$.setCursor&&$.setCursor(r)},n.prototype.dispatchToElement=function(r,$,L){r=r||{};var V=r.target;if(!(V&&V.silent)){for(var oe="on"+$,re=makeEventPacket($,r,L);V&&(V[oe]&&(re.cancelBubble=!!V[oe].call(V,re)),V.trigger($,re),V=V.__hostTarget?V.__hostTarget:V.parent,!re.cancelBubble););re.cancelBubble||(this.trigger($,re),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(ae){typeof ae[oe]=="function"&&ae[oe].call(ae,re),ae.trigger&&ae.trigger($,re)}))}},n.prototype.findHover=function(r,$,L){var V=this.storage.getDisplayList(),oe=new HoveredResult(r,$);if(setHoverTarget(V,oe,r,$,L),this._pointerSize&&!oe.target){for(var re=[],ae=this._pointerSize,le=ae/2,ue=new BoundingRect$1(r-le,$-le,ae,ae),de=V.length-1;de>=0;de--){var pe=V[de];pe!==L&&!pe.ignore&&!pe.ignoreCoarsePointer&&(!pe.parent||!pe.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(pe.getBoundingRect()),pe.transform&&tmpRect$1.applyTransform(pe.transform),tmpRect$1.intersect(ue)&&re.push(pe))}if(re.length)for(var he=4,_e=Math.PI/12,Oe=Math.PI*2,xe=0;xe<le;xe+=he)for(var $e=0;$e<Oe;$e+=_e){var Ie=r+xe*Math.cos($e),Ne=$+xe*Math.sin($e);if(setHoverTarget(re,oe,Ie,Ne,L),oe.target)return oe}}return oe},n.prototype.processGesture=function(r,$){this._gestureMgr||(this._gestureMgr=new GestureMgr);var L=this._gestureMgr;$==="start"&&L.clear();var V=L.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if($==="end"&&L.clear(),V){var oe=V.type;r.gestureEvent=oe;var re=new HoveredResult;re.target=V.target,this.dispatchToElement(re,oe,V.event)}},n}(Eventful$1);each$f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(g){Handler.prototype[g]=function(n){var r=n.zrX,$=n.zrY,L=isOutsideBoundary(this,r,$),V,oe;if((g!=="mouseup"||!L)&&(V=this.findHover(r,$),oe=V.target),g==="mousedown")this._downEl=oe,this._downPoint=[n.zrX,n.zrY],this._upEl=oe;else if(g==="mouseup")this._upEl=oe;else if(g==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[n.zrX,n.zrY])>4)return;this._downPoint=null}this.dispatchToElement(V,g,n)}});function isHover(g,n,r){if(g[g.rectHover?"rectContain":"contain"](n,r)){for(var $=g,L=void 0,V=!1;$;){if($.ignoreClip&&(V=!0),!V){var oe=$.getClipPath();if(oe&&!oe.contain(n,r))return!1;$.silent&&(L=!0)}var re=$.__hostTarget;$=re||$.parent}return L?SILENT:!0}return!1}function setHoverTarget(g,n,r,$,L){for(var V=g.length-1;V>=0;V--){var oe=g[V],re=void 0;if(oe!==L&&!oe.ignore&&(re=isHover(oe,r,$))&&(!n.topTarget&&(n.topTarget=oe),re!==SILENT)){n.target=oe;break}}}function isOutsideBoundary(g,n,r){var $=g.painter;return n<0||n>$.getWidth()||r<0||r>$.getHeight()}const Handler$1=Handler;var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(g){for(var n=0;g>=DEFAULT_MIN_MERGE;)n|=g&1,g>>=1;return g+n}function makeAscendingRun(g,n,r,$){var L=n+1;if(L===r)return 1;if($(g[L++],g[n])<0){for(;L<r&&$(g[L],g[L-1])<0;)L++;reverseRun(g,n,L)}else for(;L<r&&$(g[L],g[L-1])>=0;)L++;return L-n}function reverseRun(g,n,r){for(r--;n<r;){var $=g[n];g[n++]=g[r],g[r--]=$}}function binaryInsertionSort(g,n,r,$,L){for($===n&&$++;$<r;$++){for(var V=g[$],oe=n,re=$,ae;oe<re;)ae=oe+re>>>1,L(V,g[ae])<0?re=ae:oe=ae+1;var le=$-oe;switch(le){case 3:g[oe+3]=g[oe+2];case 2:g[oe+2]=g[oe+1];case 1:g[oe+1]=g[oe];break;default:for(;le>0;)g[oe+le]=g[oe+le-1],le--}g[oe]=V}}function gallopLeft(g,n,r,$,L,V){var oe=0,re=0,ae=1;if(V(g,n[r+L])>0){for(re=$-L;ae<re&&V(g,n[r+L+ae])>0;)oe=ae,ae=(ae<<1)+1,ae<=0&&(ae=re);ae>re&&(ae=re),oe+=L,ae+=L}else{for(re=L+1;ae<re&&V(g,n[r+L-ae])<=0;)oe=ae,ae=(ae<<1)+1,ae<=0&&(ae=re);ae>re&&(ae=re);var le=oe;oe=L-ae,ae=L-le}for(oe++;oe<ae;){var ue=oe+(ae-oe>>>1);V(g,n[r+ue])>0?oe=ue+1:ae=ue}return ae}function gallopRight(g,n,r,$,L,V){var oe=0,re=0,ae=1;if(V(g,n[r+L])<0){for(re=L+1;ae<re&&V(g,n[r+L-ae])<0;)oe=ae,ae=(ae<<1)+1,ae<=0&&(ae=re);ae>re&&(ae=re);var le=oe;oe=L-ae,ae=L-le}else{for(re=$-L;ae<re&&V(g,n[r+L+ae])>=0;)oe=ae,ae=(ae<<1)+1,ae<=0&&(ae=re);ae>re&&(ae=re),oe+=L,ae+=L}for(oe++;oe<ae;){var ue=oe+(ae-oe>>>1);V(g,n[r+ue])<0?ae=ue:oe=ue+1}return ae}function TimSort(g,n){var r=DEFAULT_MIN_GALLOPING,$,L,V=0;g.length;var oe=[];$=[],L=[];function re(he,_e){$[V]=he,L[V]=_e,V+=1}function ae(){for(;V>1;){var he=V-2;if(he>=1&&L[he-1]<=L[he]+L[he+1]||he>=2&&L[he-2]<=L[he]+L[he-1])L[he-1]<L[he+1]&&he--;else if(L[he]>L[he+1])break;ue(he)}}function le(){for(;V>1;){var he=V-2;he>0&&L[he-1]<L[he+1]&&he--,ue(he)}}function ue(he){var _e=$[he],Oe=L[he],xe=$[he+1],$e=L[he+1];L[he]=Oe+$e,he===V-3&&($[he+1]=$[he+2],L[he+1]=L[he+2]),V--;var Ie=gallopRight(g[xe],g,_e,Oe,0,n);_e+=Ie,Oe-=Ie,Oe!==0&&($e=gallopLeft(g[_e+Oe-1],g,xe,$e,$e-1,n),$e!==0&&(Oe<=$e?de(_e,Oe,xe,$e):pe(_e,Oe,xe,$e)))}function de(he,_e,Oe,xe){var $e=0;for($e=0;$e<_e;$e++)oe[$e]=g[he+$e];var Ie=0,Ne=Oe,ze=he;if(g[ze++]=g[Ne++],--xe===0){for($e=0;$e<_e;$e++)g[ze+$e]=oe[Ie+$e];return}if(_e===1){for($e=0;$e<xe;$e++)g[ze+$e]=g[Ne+$e];g[ze+xe]=oe[Ie];return}for(var Ue=r,Fe,qe,Et;;){Fe=0,qe=0,Et=!1;do if(n(g[Ne],oe[Ie])<0){if(g[ze++]=g[Ne++],qe++,Fe=0,--xe===0){Et=!0;break}}else if(g[ze++]=oe[Ie++],Fe++,qe=0,--_e===1){Et=!0;break}while((Fe|qe)<Ue);if(Et)break;do{if(Fe=gallopRight(g[Ne],oe,Ie,_e,0,n),Fe!==0){for($e=0;$e<Fe;$e++)g[ze+$e]=oe[Ie+$e];if(ze+=Fe,Ie+=Fe,_e-=Fe,_e<=1){Et=!0;break}}if(g[ze++]=g[Ne++],--xe===0){Et=!0;break}if(qe=gallopLeft(oe[Ie],g,Ne,xe,0,n),qe!==0){for($e=0;$e<qe;$e++)g[ze+$e]=g[Ne+$e];if(ze+=qe,Ne+=qe,xe-=qe,xe===0){Et=!0;break}}if(g[ze++]=oe[Ie++],--_e===1){Et=!0;break}Ue--}while(Fe>=DEFAULT_MIN_GALLOPING||qe>=DEFAULT_MIN_GALLOPING);if(Et)break;Ue<0&&(Ue=0),Ue+=2}if(r=Ue,r<1&&(r=1),_e===1){for($e=0;$e<xe;$e++)g[ze+$e]=g[Ne+$e];g[ze+xe]=oe[Ie]}else{if(_e===0)throw new Error;for($e=0;$e<_e;$e++)g[ze+$e]=oe[Ie+$e]}}function pe(he,_e,Oe,xe){var $e=0;for($e=0;$e<xe;$e++)oe[$e]=g[Oe+$e];var Ie=he+_e-1,Ne=xe-1,ze=Oe+xe-1,Ue=0,Fe=0;if(g[ze--]=g[Ie--],--_e===0){for(Ue=ze-(xe-1),$e=0;$e<xe;$e++)g[Ue+$e]=oe[$e];return}if(xe===1){for(ze-=_e,Ie-=_e,Fe=ze+1,Ue=Ie+1,$e=_e-1;$e>=0;$e--)g[Fe+$e]=g[Ue+$e];g[ze]=oe[Ne];return}for(var qe=r;;){var Et=0,At=0,kt=!1;do if(n(oe[Ne],g[Ie])<0){if(g[ze--]=g[Ie--],Et++,At=0,--_e===0){kt=!0;break}}else if(g[ze--]=oe[Ne--],At++,Et=0,--xe===1){kt=!0;break}while((Et|At)<qe);if(kt)break;do{if(Et=_e-gallopRight(oe[Ne],g,he,_e,_e-1,n),Et!==0){for(ze-=Et,Ie-=Et,_e-=Et,Fe=ze+1,Ue=Ie+1,$e=Et-1;$e>=0;$e--)g[Fe+$e]=g[Ue+$e];if(_e===0){kt=!0;break}}if(g[ze--]=oe[Ne--],--xe===1){kt=!0;break}if(At=xe-gallopLeft(g[Ie],oe,0,xe,xe-1,n),At!==0){for(ze-=At,Ne-=At,xe-=At,Fe=ze+1,Ue=Ne+1,$e=0;$e<At;$e++)g[Fe+$e]=oe[Ue+$e];if(xe<=1){kt=!0;break}}if(g[ze--]=g[Ie--],--_e===0){kt=!0;break}qe--}while(Et>=DEFAULT_MIN_GALLOPING||At>=DEFAULT_MIN_GALLOPING);if(kt)break;qe<0&&(qe=0),qe+=2}if(r=qe,r<1&&(r=1),xe===1){for(ze-=_e,Ie-=_e,Fe=ze+1,Ue=Ie+1,$e=_e-1;$e>=0;$e--)g[Fe+$e]=g[Ue+$e];g[ze]=oe[Ne]}else{if(xe===0)throw new Error;for(Ue=ze-(xe-1),$e=0;$e<xe;$e++)g[Ue+$e]=oe[$e]}}return{mergeRuns:ae,forceMergeRuns:le,pushRun:re}}function sort$2(g,n,r,$){r||(r=0),$||($=g.length);var L=$-r;if(!(L<2)){var V=0;if(L<DEFAULT_MIN_MERGE){V=makeAscendingRun(g,r,$,n),binaryInsertionSort(g,r,$,r+V,n);return}var oe=TimSort(g,n),re=minRunLength(L);do{if(V=makeAscendingRun(g,r,$,n),V<re){var ae=L;ae>re&&(ae=re),binaryInsertionSort(g,r,r+ae,r+V,n),V=ae}oe.pushRun(r,V),oe.mergeRuns(),L-=V,r+=V}while(L!==0);oe.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(g,n){return g.zlevel===n.zlevel?g.z===n.z?g.z2-n.z2:g.z-n.z:g.zlevel-n.zlevel}var Storage=function(){function g(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return g.prototype.traverse=function(n,r){for(var $=0;$<this._roots.length;$++)this._roots[$].traverse(n,r)},g.prototype.getDisplayList=function(n,r){r=r||!1;var $=this._displayList;return(n||!$.length)&&this.updateDisplayList(r),$},g.prototype.updateDisplayList=function(n){this._displayListLen=0;for(var r=this._roots,$=this._displayList,L=0,V=r.length;L<V;L++)this._updateAndAddDisplayable(r[L],null,n);$.length=this._displayListLen,sort$2($,shapeCompareFunc)},g.prototype._updateAndAddDisplayable=function(n,r,$){if(!(n.ignore&&!$)){n.beforeUpdate(),n.update(),n.afterUpdate();var L=n.getClipPath();if(n.ignoreClip)r=null;else if(L){r?r=r.slice():r=[];for(var V=L,oe=n;V;)V.parent=oe,V.updateTransform(),r.push(V),oe=V,V=V.getClipPath()}if(n.childrenRef){for(var re=n.childrenRef(),ae=0;ae<re.length;ae++){var le=re[ae];n.__dirty&&(le.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(le,r,$)}n.__dirty=0}else{var ue=n;r&&r.length?ue.__clipPaths=r:ue.__clipPaths&&ue.__clipPaths.length>0&&(ue.__clipPaths=[]),isNaN(ue.z)&&(logInvalidZError(),ue.z=0),isNaN(ue.z2)&&(logInvalidZError(),ue.z2=0),isNaN(ue.zlevel)&&(logInvalidZError(),ue.zlevel=0),this._displayList[this._displayListLen++]=ue}var de=n.getDecalElement&&n.getDecalElement();de&&this._updateAndAddDisplayable(de,r,$);var pe=n.getTextGuideLine();pe&&this._updateAndAddDisplayable(pe,r,$);var he=n.getTextContent();he&&this._updateAndAddDisplayable(he,r,$)}},g.prototype.addRoot=function(n){n.__zr&&n.__zr.storage===this||this._roots.push(n)},g.prototype.delRoot=function(n){if(n instanceof Array){for(var r=0,$=n.length;r<$;r++)this.delRoot(n[r]);return}var L=indexOf(this._roots,n);L>=0&&this._roots.splice(L,1)},g.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},g.prototype.getRoots=function(){return this._roots},g.prototype.dispose=function(){this._displayList=null,this._roots=null},g}();const Storage$1=Storage;var requestAnimationFrame$1;requestAnimationFrame$1=env$1.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(g){return setTimeout(g,16)};const requestAnimationFrame$2=requestAnimationFrame$1;var easingFuncs={linear:function(g){return g},quadraticIn:function(g){return g*g},quadraticOut:function(g){return g*(2-g)},quadraticInOut:function(g){return(g*=2)<1?.5*g*g:-.5*(--g*(g-2)-1)},cubicIn:function(g){return g*g*g},cubicOut:function(g){return--g*g*g+1},cubicInOut:function(g){return(g*=2)<1?.5*g*g*g:.5*((g-=2)*g*g+2)},quarticIn:function(g){return g*g*g*g},quarticOut:function(g){return 1- --g*g*g*g},quarticInOut:function(g){return(g*=2)<1?.5*g*g*g*g:-.5*((g-=2)*g*g*g-2)},quinticIn:function(g){return g*g*g*g*g},quinticOut:function(g){return--g*g*g*g*g+1},quinticInOut:function(g){return(g*=2)<1?.5*g*g*g*g*g:.5*((g-=2)*g*g*g*g+2)},sinusoidalIn:function(g){return 1-Math.cos(g*Math.PI/2)},sinusoidalOut:function(g){return Math.sin(g*Math.PI/2)},sinusoidalInOut:function(g){return .5*(1-Math.cos(Math.PI*g))},exponentialIn:function(g){return g===0?0:Math.pow(1024,g-1)},exponentialOut:function(g){return g===1?1:1-Math.pow(2,-10*g)},exponentialInOut:function(g){return g===0?0:g===1?1:(g*=2)<1?.5*Math.pow(1024,g-1):.5*(-Math.pow(2,-10*(g-1))+2)},circularIn:function(g){return 1-Math.sqrt(1-g*g)},circularOut:function(g){return Math.sqrt(1- --g*g)},circularInOut:function(g){return(g*=2)<1?-.5*(Math.sqrt(1-g*g)-1):.5*(Math.sqrt(1-(g-=2)*g)+1)},elasticIn:function(g){var n,r=.1,$=.4;return g===0?0:g===1?1:(!r||r<1?(r=1,n=$/4):n=$*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(g-=1))*Math.sin((g-n)*(2*Math.PI)/$)))},elasticOut:function(g){var n,r=.1,$=.4;return g===0?0:g===1?1:(!r||r<1?(r=1,n=$/4):n=$*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*g)*Math.sin((g-n)*(2*Math.PI)/$)+1)},elasticInOut:function(g){var n,r=.1,$=.4;return g===0?0:g===1?1:(!r||r<1?(r=1,n=$/4):n=$*Math.asin(1/r)/(2*Math.PI),(g*=2)<1?-.5*(r*Math.pow(2,10*(g-=1))*Math.sin((g-n)*(2*Math.PI)/$)):r*Math.pow(2,-10*(g-=1))*Math.sin((g-n)*(2*Math.PI)/$)*.5+1)},backIn:function(g){var n=1.70158;return g*g*((n+1)*g-n)},backOut:function(g){var n=1.70158;return--g*g*((n+1)*g+n)+1},backInOut:function(g){var n=2.5949095;return(g*=2)<1?.5*(g*g*((n+1)*g-n)):.5*((g-=2)*g*((n+1)*g+n)+2)},bounceIn:function(g){return 1-easingFuncs.bounceOut(1-g)},bounceOut:function(g){return g<1/2.75?7.5625*g*g:g<2/2.75?7.5625*(g-=1.5/2.75)*g+.75:g<2.5/2.75?7.5625*(g-=2.25/2.75)*g+.9375:7.5625*(g-=2.625/2.75)*g+.984375},bounceInOut:function(g){return g<.5?easingFuncs.bounceIn(g*2)*.5:easingFuncs.bounceOut(g*2-1)*.5+.5}};const easingFuncs$1=easingFuncs;var mathPow$2=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$4=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$2(),_v1=create$2(),_v2=create$2();function isAroundZero$1(g){return g>-EPSILON$4&&g<EPSILON$4}function isNotAroundZero$1(g){return g>EPSILON$4||g<-EPSILON$4}function cubicAt(g,n,r,$,L){var V=1-L;return V*V*(V*g+3*L*n)+L*L*(L*$+3*V*r)}function cubicDerivativeAt(g,n,r,$,L){var V=1-L;return 3*(((n-g)*V+2*(r-n)*L)*V+($-r)*L*L)}function cubicRootAt(g,n,r,$,L,V){var oe=$+3*(n-r)-g,re=3*(r-n*2+g),ae=3*(n-g),le=g-L,ue=re*re-3*oe*ae,de=re*ae-9*oe*le,pe=ae*ae-3*re*le,he=0;if(isAroundZero$1(ue)&&isAroundZero$1(de))if(isAroundZero$1(re))V[0]=0;else{var _e=-ae/re;_e>=0&&_e<=1&&(V[he++]=_e)}else{var Oe=de*de-4*ue*pe;if(isAroundZero$1(Oe)){var xe=de/ue,_e=-re/oe+xe,$e=-xe/2;_e>=0&&_e<=1&&(V[he++]=_e),$e>=0&&$e<=1&&(V[he++]=$e)}else if(Oe>0){var Ie=mathSqrt$3(Oe),Ne=ue*re+1.5*oe*(-de+Ie),ze=ue*re+1.5*oe*(-de-Ie);Ne<0?Ne=-mathPow$2(-Ne,ONE_THIRD):Ne=mathPow$2(Ne,ONE_THIRD),ze<0?ze=-mathPow$2(-ze,ONE_THIRD):ze=mathPow$2(ze,ONE_THIRD);var _e=(-re-(Ne+ze))/(3*oe);_e>=0&&_e<=1&&(V[he++]=_e)}else{var Ue=(2*ue*re-3*oe*de)/(2*mathSqrt$3(ue*ue*ue)),Fe=Math.acos(Ue)/3,qe=mathSqrt$3(ue),Et=Math.cos(Fe),_e=(-re-2*qe*Et)/(3*oe),$e=(-re+qe*(Et+THREE_SQRT*Math.sin(Fe)))/(3*oe),At=(-re+qe*(Et-THREE_SQRT*Math.sin(Fe)))/(3*oe);_e>=0&&_e<=1&&(V[he++]=_e),$e>=0&&$e<=1&&(V[he++]=$e),At>=0&&At<=1&&(V[he++]=At)}}return he}function cubicExtrema(g,n,r,$,L){var V=6*r-12*n+6*g,oe=9*n+3*$-3*g-9*r,re=3*n-3*g,ae=0;if(isAroundZero$1(oe)){if(isNotAroundZero$1(V)){var le=-re/V;le>=0&&le<=1&&(L[ae++]=le)}}else{var ue=V*V-4*oe*re;if(isAroundZero$1(ue))L[0]=-V/(2*oe);else if(ue>0){var de=mathSqrt$3(ue),le=(-V+de)/(2*oe),pe=(-V-de)/(2*oe);le>=0&&le<=1&&(L[ae++]=le),pe>=0&&pe<=1&&(L[ae++]=pe)}}return ae}function cubicSubdivide(g,n,r,$,L,V){var oe=(n-g)*L+g,re=(r-n)*L+n,ae=($-r)*L+r,le=(re-oe)*L+oe,ue=(ae-re)*L+re,de=(ue-le)*L+le;V[0]=g,V[1]=oe,V[2]=le,V[3]=de,V[4]=de,V[5]=ue,V[6]=ae,V[7]=$}function cubicProjectPoint(g,n,r,$,L,V,oe,re,ae,le,ue){var de,pe=.005,he=1/0,_e,Oe,xe,$e;_v0[0]=ae,_v0[1]=le;for(var Ie=0;Ie<1;Ie+=.05)_v1[0]=cubicAt(g,r,L,oe,Ie),_v1[1]=cubicAt(n,$,V,re,Ie),xe=distSquare(_v0,_v1),xe<he&&(de=Ie,he=xe);he=1/0;for(var Ne=0;Ne<32&&!(pe<EPSILON_NUMERIC);Ne++)_e=de-pe,Oe=de+pe,_v1[0]=cubicAt(g,r,L,oe,_e),_v1[1]=cubicAt(n,$,V,re,_e),xe=distSquare(_v1,_v0),_e>=0&&xe<he?(de=_e,he=xe):(_v2[0]=cubicAt(g,r,L,oe,Oe),_v2[1]=cubicAt(n,$,V,re,Oe),$e=distSquare(_v2,_v0),Oe<=1&&$e<he?(de=Oe,he=$e):pe*=.5);return ue&&(ue[0]=cubicAt(g,r,L,oe,de),ue[1]=cubicAt(n,$,V,re,de)),mathSqrt$3(he)}function cubicLength(g,n,r,$,L,V,oe,re,ae){for(var le=g,ue=n,de=0,pe=1/ae,he=1;he<=ae;he++){var _e=he*pe,Oe=cubicAt(g,r,L,oe,_e),xe=cubicAt(n,$,V,re,_e),$e=Oe-le,Ie=xe-ue;de+=Math.sqrt($e*$e+Ie*Ie),le=Oe,ue=xe}return de}function quadraticAt$1(g,n,r,$){var L=1-$;return L*(L*g+2*$*n)+$*$*r}function quadraticDerivativeAt(g,n,r,$){return 2*((1-$)*(n-g)+$*(r-n))}function quadraticRootAt(g,n,r,$,L){var V=g-2*n+r,oe=2*(n-g),re=g-$,ae=0;if(isAroundZero$1(V)){if(isNotAroundZero$1(oe)){var le=-re/oe;le>=0&&le<=1&&(L[ae++]=le)}}else{var ue=oe*oe-4*V*re;if(isAroundZero$1(ue)){var le=-oe/(2*V);le>=0&&le<=1&&(L[ae++]=le)}else if(ue>0){var de=mathSqrt$3(ue),le=(-oe+de)/(2*V),pe=(-oe-de)/(2*V);le>=0&&le<=1&&(L[ae++]=le),pe>=0&&pe<=1&&(L[ae++]=pe)}}return ae}function quadraticExtremum(g,n,r){var $=g+r-2*n;return $===0?.5:(g-n)/$}function quadraticSubdivide(g,n,r,$,L){var V=(n-g)*$+g,oe=(r-n)*$+n,re=(oe-V)*$+V;L[0]=g,L[1]=V,L[2]=re,L[3]=re,L[4]=oe,L[5]=r}function quadraticProjectPoint(g,n,r,$,L,V,oe,re,ae){var le,ue=.005,de=1/0;_v0[0]=oe,_v0[1]=re;for(var pe=0;pe<1;pe+=.05){_v1[0]=quadraticAt$1(g,r,L,pe),_v1[1]=quadraticAt$1(n,$,V,pe);var he=distSquare(_v0,_v1);he<de&&(le=pe,de=he)}de=1/0;for(var _e=0;_e<32&&!(ue<EPSILON_NUMERIC);_e++){var Oe=le-ue,xe=le+ue;_v1[0]=quadraticAt$1(g,r,L,Oe),_v1[1]=quadraticAt$1(n,$,V,Oe);var he=distSquare(_v1,_v0);if(Oe>=0&&he<de)le=Oe,de=he;else{_v2[0]=quadraticAt$1(g,r,L,xe),_v2[1]=quadraticAt$1(n,$,V,xe);var $e=distSquare(_v2,_v0);xe<=1&&$e<de?(le=xe,de=$e):ue*=.5}}return ae&&(ae[0]=quadraticAt$1(g,r,L,le),ae[1]=quadraticAt$1(n,$,V,le)),mathSqrt$3(de)}function quadraticLength(g,n,r,$,L,V,oe){for(var re=g,ae=n,le=0,ue=1/oe,de=1;de<=oe;de++){var pe=de*ue,he=quadraticAt$1(g,r,L,pe),_e=quadraticAt$1(n,$,V,pe),Oe=he-re,xe=_e-ae;le+=Math.sqrt(Oe*Oe+xe*xe),re=he,ae=_e}return le}var regexp$1=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(g){var n=g&&regexp$1.exec(g);if(n){var r=n[1].split(","),$=+trim$3(r[0]),L=+trim$3(r[1]),V=+trim$3(r[2]),oe=+trim$3(r[3]);if(isNaN($+L+V+oe))return;var re=[];return function(ae){return ae<=0?0:ae>=1?1:cubicRootAt(0,$,V,1,ae,re)&&cubicAt(0,L,oe,1,re[0])}}}var Clip=function(){function g(n){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=n.life||1e3,this._delay=n.delay||0,this.loop=n.loop||!1,this.onframe=n.onframe||noop$5,this.ondestroy=n.ondestroy||noop$5,this.onrestart=n.onrestart||noop$5,n.easing&&this.setEasing(n.easing)}return g.prototype.step=function(n,r){if(this._inited||(this._startTime=n+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var $=this._life,L=n-this._startTime-this._pausedTime,V=L/$;V<0&&(V=0),V=Math.min(V,1);var oe=this.easingFunc,re=oe?oe(V):V;if(this.onframe(re),V===1)if(this.loop){var ae=L%$;this._startTime=n-ae,this._pausedTime=0,this.onrestart()}else return!0;return!1},g.prototype.pause=function(){this._paused=!0},g.prototype.resume=function(){this._paused=!1},g.prototype.setEasing=function(n){this.easing=n,this.easingFunc=isFunction$3(n)?n:easingFuncs$1[n]||createCubicEasingFunc(n)},g}();const Clip$1=Clip;var Entry=function(){function g(n){this.value=n}return g}(),LinkedList=function(){function g(){this._len=0}return g.prototype.insert=function(n){var r=new Entry(n);return this.insertEntry(r),r},g.prototype.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n,this._len++},g.prototype.remove=function(n){var r=n.prev,$=n.next;r?r.next=$:this.head=$,$?$.prev=r:this.tail=r,n.next=n.prev=null,this._len--},g.prototype.len=function(){return this._len},g.prototype.clear=function(){this.head=this.tail=null,this._len=0},g}(),LRU=function(){function g(n){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=n}return g.prototype.put=function(n,r){var $=this._list,L=this._map,V=null;if(L[n]==null){var oe=$.len(),re=this._lastRemovedEntry;if(oe>=this._maxSize&&oe>0){var ae=$.head;$.remove(ae),delete L[ae.key],V=ae.value,this._lastRemovedEntry=ae}re?re.value=r:re=new Entry(r),re.key=n,$.insertEntry(re),L[n]=re}return V},g.prototype.get=function(n){var r=this._map[n],$=this._list;if(r!=null)return r!==$.tail&&($.remove(r),$.insertEntry(r)),r.value},g.prototype.clear=function(){this._list.clear(),this._map={}},g.prototype.len=function(){return this._list.len()},g}();const LRU$1=LRU;var kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(g){return g=Math.round(g),g<0?0:g>255?255:g}function clampCssAngle(g){return g=Math.round(g),g<0?0:g>360?360:g}function clampCssFloat(g){return g<0?0:g>1?1:g}function parseCssInt(g){var n=g;return n.length&&n.charAt(n.length-1)==="%"?clampCssByte(parseFloat(n)/100*255):clampCssByte(parseInt(n,10))}function parseCssFloat(g){var n=g;return n.length&&n.charAt(n.length-1)==="%"?clampCssFloat(parseFloat(n)/100):clampCssFloat(parseFloat(n))}function cssHueToRgb(g,n,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?g+(n-g)*r*6:r*2<1?n:r*3<2?g+(n-g)*(.6666666666666666-r)*6:g}function lerpNumber(g,n,r){return g+(n-g)*r}function setRgba(g,n,r,$,L){return g[0]=n,g[1]=r,g[2]=$,g[3]=L,g}function copyRgba(g,n){return g[0]=n[0],g[1]=n[1],g[2]=n[2],g[3]=n[3],g}var colorCache=new LRU$1(20),lastRemovedArr=null;function putToCache(g,n){lastRemovedArr&&copyRgba(lastRemovedArr,n),lastRemovedArr=colorCache.put(g,lastRemovedArr||n.slice())}function parse(g,n){if(g){n=n||[];var r=colorCache.get(g);if(r)return copyRgba(n,r);g=g+"";var $=g.replace(/ /g,"").toLowerCase();if($ in kCSSColorTable)return copyRgba(n,kCSSColorTable[$]),putToCache(g,n),n;var L=$.length;if($.charAt(0)==="#"){if(L===4||L===5){var V=parseInt($.slice(1,4),16);if(!(V>=0&&V<=4095)){setRgba(n,0,0,0,1);return}return setRgba(n,(V&3840)>>4|(V&3840)>>8,V&240|(V&240)>>4,V&15|(V&15)<<4,L===5?parseInt($.slice(4),16)/15:1),putToCache(g,n),n}else if(L===7||L===9){var V=parseInt($.slice(1,7),16);if(!(V>=0&&V<=16777215)){setRgba(n,0,0,0,1);return}return setRgba(n,(V&16711680)>>16,(V&65280)>>8,V&255,L===9?parseInt($.slice(7),16)/255:1),putToCache(g,n),n}return}var oe=$.indexOf("("),re=$.indexOf(")");if(oe!==-1&&re+1===L){var ae=$.substr(0,oe),le=$.substr(oe+1,re-(oe+1)).split(","),ue=1;switch(ae){case"rgba":if(le.length!==4)return le.length===3?setRgba(n,+le[0],+le[1],+le[2],1):setRgba(n,0,0,0,1);ue=parseCssFloat(le.pop());case"rgb":if(le.length>=3)return setRgba(n,parseCssInt(le[0]),parseCssInt(le[1]),parseCssInt(le[2]),le.length===3?ue:parseCssFloat(le[3])),putToCache(g,n),n;setRgba(n,0,0,0,1);return;case"hsla":if(le.length!==4){setRgba(n,0,0,0,1);return}return le[3]=parseCssFloat(le[3]),hsla2rgba(le,n),putToCache(g,n),n;case"hsl":if(le.length!==3){setRgba(n,0,0,0,1);return}return hsla2rgba(le,n),putToCache(g,n),n;default:return}}setRgba(n,0,0,0,1)}}function hsla2rgba(g,n){var r=(parseFloat(g[0])%360+360)%360/360,$=parseCssFloat(g[1]),L=parseCssFloat(g[2]),V=L<=.5?L*($+1):L+$-L*$,oe=L*2-V;return n=n||[],setRgba(n,clampCssByte(cssHueToRgb(oe,V,r+.3333333333333333)*255),clampCssByte(cssHueToRgb(oe,V,r)*255),clampCssByte(cssHueToRgb(oe,V,r-.3333333333333333)*255),1),g.length===4&&(n[3]=g[3]),n}function rgba2hsla(g){if(g){var n=g[0]/255,r=g[1]/255,$=g[2]/255,L=Math.min(n,r,$),V=Math.max(n,r,$),oe=V-L,re=(V+L)/2,ae,le;if(oe===0)ae=0,le=0;else{re<.5?le=oe/(V+L):le=oe/(2-V-L);var ue=((V-n)/6+oe/2)/oe,de=((V-r)/6+oe/2)/oe,pe=((V-$)/6+oe/2)/oe;n===V?ae=pe-de:r===V?ae=.3333333333333333+ue-pe:$===V&&(ae=.6666666666666666+de-ue),ae<0&&(ae+=1),ae>1&&(ae-=1)}var he=[ae*360,le,re];return g[3]!=null&&he.push(g[3]),he}}function lift(g,n){var r=parse(g);if(r){for(var $=0;$<3;$++)n<0?r[$]=r[$]*(1-n)|0:r[$]=(255-r[$])*n+r[$]|0,r[$]>255?r[$]=255:r[$]<0&&(r[$]=0);return stringify$1(r,r.length===4?"rgba":"rgb")}}function fastLerp(g,n,r){if(!(!(n&&n.length)||!(g>=0&&g<=1))){r=r||[];var $=g*(n.length-1),L=Math.floor($),V=Math.ceil($),oe=n[L],re=n[V],ae=$-L;return r[0]=clampCssByte(lerpNumber(oe[0],re[0],ae)),r[1]=clampCssByte(lerpNumber(oe[1],re[1],ae)),r[2]=clampCssByte(lerpNumber(oe[2],re[2],ae)),r[3]=clampCssFloat(lerpNumber(oe[3],re[3],ae)),r}}function lerp(g,n,r){if(!(!(n&&n.length)||!(g>=0&&g<=1))){var $=g*(n.length-1),L=Math.floor($),V=Math.ceil($),oe=parse(n[L]),re=parse(n[V]),ae=$-L,le=stringify$1([clampCssByte(lerpNumber(oe[0],re[0],ae)),clampCssByte(lerpNumber(oe[1],re[1],ae)),clampCssByte(lerpNumber(oe[2],re[2],ae)),clampCssFloat(lerpNumber(oe[3],re[3],ae))],"rgba");return r?{color:le,leftIndex:L,rightIndex:V,value:$}:le}}function modifyHSL(g,n,r,$){var L=parse(g);if(g)return L=rgba2hsla(L),n!=null&&(L[0]=clampCssAngle(n)),r!=null&&(L[1]=parseCssFloat(r)),$!=null&&(L[2]=parseCssFloat($)),stringify$1(hsla2rgba(L),"rgba")}function modifyAlpha(g,n){var r=parse(g);if(r&&n!=null)return r[3]=clampCssFloat(n),stringify$1(r,"rgba")}function stringify$1(g,n){if(!(!g||!g.length)){var r=g[0]+","+g[1]+","+g[2];return(n==="rgba"||n==="hsva"||n==="hsla")&&(r+=","+g[3]),n+"("+r+")"}}function lum(g,n){var r=parse(g);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*n:0}var mathRound$1=Math.round;function normalizeColor(g){var n;if(!g||g==="transparent")g="none";else if(typeof g=="string"&&g.indexOf("rgba")>-1){var r=parse(g);r&&(g="rgb("+r[0]+","+r[1]+","+r[2]+")",n=r[3])}return{color:g,opacity:n!=null?n:1}}var EPSILON$3=1e-4;function isAroundZero(g){return g<EPSILON$3&&g>-EPSILON$3}function round3(g){return mathRound$1(g*1e3)/1e3}function round4(g){return mathRound$1(g*1e4)/1e4}function getMatrixStr(g){return"matrix("+round3(g[0])+","+round3(g[1])+","+round3(g[2])+","+round3(g[3])+","+round4(g[4])+","+round4(g[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1(g,n,r){return r==="top"?g+=n/2:r==="bottom"&&(g-=n/2),g}function hasShadow(g){return g&&(g.shadowBlur||g.shadowOffsetX||g.shadowOffsetY)}function getShadowKey(g){var n=g.style,r=g.getGlobalScale();return[n.shadowColor,(n.shadowBlur||0).toFixed(2),(n.shadowOffsetX||0).toFixed(2),(n.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function isImagePattern(g){return g&&!!g.image}function isSVGPattern(g){return g&&!!g.svgElement}function isPattern(g){return isImagePattern(g)||isSVGPattern(g)}function isLinearGradient(g){return g.type==="linear"}function isRadialGradient(g){return g.type==="radial"}function isGradient(g){return g&&(g.type==="linear"||g.type==="radial")}function getIdURL(g){return"url(#"+g+")"}function getPathPrecision(g){var n=g.getGlobalScale(),r=Math.max(n[0],n[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function getSRTTransformString(g){var n=g.x||0,r=g.y||0,$=(g.rotation||0)*RADIAN_TO_DEGREE,L=retrieve2(g.scaleX,1),V=retrieve2(g.scaleY,1),oe=g.skewX||0,re=g.skewY||0,ae=[];return(n||r)&&ae.push("translate("+n+"px,"+r+"px)"),$&&ae.push("rotate("+$+")"),(L!==1||V!==1)&&ae.push("scale("+L+","+V+")"),(oe||re)&&ae.push("skew("+mathRound$1(oe*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(re*RADIAN_TO_DEGREE)+"deg)"),ae.join(" ")}var encodeBase64=function(){return env$1.hasGlobalWindow&&isFunction$3(window.btoa)?function(g){return window.btoa(unescape(encodeURIComponent(g)))}:typeof Buffer<"u"?function(g){return Buffer.from(g).toString("base64")}:function(g){return null}}(),arraySlice=Array.prototype.slice;function interpolateNumber$1(g,n,r){return(n-g)*r+g}function interpolate1DArray(g,n,r,$){for(var L=n.length,V=0;V<L;V++)g[V]=interpolateNumber$1(n[V],r[V],$);return g}function interpolate2DArray(g,n,r,$){for(var L=n.length,V=L&&n[0].length,oe=0;oe<L;oe++){g[oe]||(g[oe]=[]);for(var re=0;re<V;re++)g[oe][re]=interpolateNumber$1(n[oe][re],r[oe][re],$)}return g}function add1DArray(g,n,r,$){for(var L=n.length,V=0;V<L;V++)g[V]=n[V]+r[V]*$;return g}function add2DArray(g,n,r,$){for(var L=n.length,V=L&&n[0].length,oe=0;oe<L;oe++){g[oe]||(g[oe]=[]);for(var re=0;re<V;re++)g[oe][re]=n[oe][re]+r[oe][re]*$}return g}function fillColorStops(g,n){for(var r=g.length,$=n.length,L=r>$?n:g,V=Math.min(r,$),oe=L[V-1]||{color:[0,0,0,0],offset:0},re=V;re<Math.max(r,$);re++)L.push({offset:oe.offset,color:oe.color.slice()})}function fillArray(g,n,r){var $=g,L=n;if(!(!$.push||!L.push)){var V=$.length,oe=L.length;if(V!==oe){var re=V>oe;if(re)$.length=oe;else for(var ae=V;ae<oe;ae++)$.push(r===1?L[ae]:arraySlice.call(L[ae]))}for(var le=$[0]&&$[0].length,ae=0;ae<$.length;ae++)if(r===1)isNaN($[ae])&&($[ae]=L[ae]);else for(var ue=0;ue<le;ue++)isNaN($[ae][ue])&&($[ae][ue]=L[ae][ue])}}function cloneValue(g){if(isArrayLike$1(g)){var n=g.length;if(isArrayLike$1(g[0])){for(var r=[],$=0;$<n;$++)r.push(arraySlice.call(g[$]));return r}return arraySlice.call(g)}return g}function rgba2String(g){return g[0]=Math.floor(g[0])||0,g[1]=Math.floor(g[1])||0,g[2]=Math.floor(g[2])||0,g[3]=g[3]==null?1:g[3],"rgba("+g.join(",")+")"}function guessArrayDim(g){return isArrayLike$1(g&&g[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(g){return g===VALUE_TYPE_LINEAR_GRADIENT||g===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(g){return g===VALUE_TYPE_1D_ARRAY||g===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function g(n){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=n}return g.prototype.isFinished=function(){return this._finished},g.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},g.prototype.needsAnimate=function(){return this.keyframes.length>=1},g.prototype.getAdditiveTrack=function(){return this._additiveTrack},g.prototype.addKeyframe=function(n,r,$){this._needsSort=!0;var L=this.keyframes,V=L.length,oe=!1,re=VALUE_TYPE_UNKOWN,ae=r;if(isArrayLike$1(r)){var le=guessArrayDim(r);re=le,(le===1&&!isNumber$3(r[0])||le===2&&!isNumber$3(r[0][0]))&&(oe=!0)}else if(isNumber$3(r)&&!eqNaN(r))re=VALUE_TYPE_NUMBER;else if(isString$3(r))if(!isNaN(+r))re=VALUE_TYPE_NUMBER;else{var ue=parse(r);ue&&(ae=ue,re=VALUE_TYPE_COLOR)}else if(isGradientObject(r)){var de=extend$3({},ae);de.colorStops=map$2(r.colorStops,function(he){return{offset:he.offset,color:parse(he.color)}}),isLinearGradient(r)?re=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(r)&&(re=VALUE_TYPE_RADIAL_GRADIENT),ae=de}V===0?this.valType=re:(re!==this.valType||re===VALUE_TYPE_UNKOWN)&&(oe=!0),this.discrete=this.discrete||oe;var pe={time:n,value:ae,rawValue:r,percent:0};return $&&(pe.easing=$,pe.easingFunc=isFunction$3($)?$:easingFuncs$1[$]||createCubicEasingFunc($)),L.push(pe),pe},g.prototype.prepare=function(n,r){var $=this.keyframes;this._needsSort&&$.sort(function(Oe,xe){return Oe.time-xe.time});for(var L=this.valType,V=$.length,oe=$[V-1],re=this.discrete,ae=isArrayValueType(L),le=isGradientValueType(L),ue=0;ue<V;ue++){var de=$[ue],pe=de.value,he=oe.value;de.percent=de.time/n,re||(ae&&ue!==V-1?fillArray(pe,he,L):le&&fillColorStops(pe.colorStops,he.colorStops))}if(!re&&L!==VALUE_TYPE_RADIAL_GRADIENT&&r&&this.needsAnimate()&&r.needsAnimate()&&L===r.valType&&!r._finished){this._additiveTrack=r;for(var _e=$[0].value,ue=0;ue<V;ue++)L===VALUE_TYPE_NUMBER?$[ue].additiveValue=$[ue].value-_e:L===VALUE_TYPE_COLOR?$[ue].additiveValue=add1DArray([],$[ue].value,_e,-1):isArrayValueType(L)&&($[ue].additiveValue=L===VALUE_TYPE_1D_ARRAY?add1DArray([],$[ue].value,_e,-1):add2DArray([],$[ue].value,_e,-1))}},g.prototype.step=function(n,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var $=this._additiveTrack!=null,L=$?"additiveValue":"value",V=this.valType,oe=this.keyframes,re=oe.length,ae=this.propName,le=V===VALUE_TYPE_COLOR,ue,de=this._lastFr,pe=Math.min,he,_e;if(re===1)he=_e=oe[0];else{if(r<0)ue=0;else if(r<this._lastFrP){var Oe=pe(de+1,re-1);for(ue=Oe;ue>=0&&!(oe[ue].percent<=r);ue--);ue=pe(ue,re-2)}else{for(ue=de;ue<re&&!(oe[ue].percent>r);ue++);ue=pe(ue-1,re-2)}_e=oe[ue+1],he=oe[ue]}if(he&&_e){this._lastFr=ue,this._lastFrP=r;var xe=_e.percent-he.percent,$e=xe===0?1:pe((r-he.percent)/xe,1);_e.easingFunc&&($e=_e.easingFunc($e));var Ie=$?this._additiveValue:le?tmpRgba:n[ae];if((isArrayValueType(V)||le)&&!Ie&&(Ie=this._additiveValue=[]),this.discrete)n[ae]=$e<1?he.rawValue:_e.rawValue;else if(isArrayValueType(V))V===VALUE_TYPE_1D_ARRAY?interpolate1DArray(Ie,he[L],_e[L],$e):interpolate2DArray(Ie,he[L],_e[L],$e);else if(isGradientValueType(V)){var Ne=he[L],ze=_e[L],Ue=V===VALUE_TYPE_LINEAR_GRADIENT;n[ae]={type:Ue?"linear":"radial",x:interpolateNumber$1(Ne.x,ze.x,$e),y:interpolateNumber$1(Ne.y,ze.y,$e),colorStops:map$2(Ne.colorStops,function(qe,Et){var At=ze.colorStops[Et];return{offset:interpolateNumber$1(qe.offset,At.offset,$e),color:rgba2String(interpolate1DArray([],qe.color,At.color,$e))}}),global:ze.global},Ue?(n[ae].x2=interpolateNumber$1(Ne.x2,ze.x2,$e),n[ae].y2=interpolateNumber$1(Ne.y2,ze.y2,$e)):n[ae].r=interpolateNumber$1(Ne.r,ze.r,$e)}else if(le)interpolate1DArray(Ie,he[L],_e[L],$e),$||(n[ae]=rgba2String(Ie));else{var Fe=interpolateNumber$1(he[L],_e[L],$e);$?this._additiveValue=Fe:n[ae]=Fe}$&&this._addToTarget(n)}}},g.prototype._addToTarget=function(n){var r=this.valType,$=this.propName,L=this._additiveValue;r===VALUE_TYPE_NUMBER?n[$]=n[$]+L:r===VALUE_TYPE_COLOR?(parse(n[$],tmpRgba),add1DArray(tmpRgba,tmpRgba,L,1),n[$]=rgba2String(tmpRgba)):r===VALUE_TYPE_1D_ARRAY?add1DArray(n[$],n[$],L,1):r===VALUE_TYPE_2D_ARRAY&&add2DArray(n[$],n[$],L,1)},g}(),Animator=function(){function g(n,r,$,L){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=n,this._loop=r,r&&L){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=L,this._allowDiscrete=$}return g.prototype.getMaxTime=function(){return this._maxTime},g.prototype.getDelay=function(){return this._delay},g.prototype.getLoop=function(){return this._loop},g.prototype.getTarget=function(){return this._target},g.prototype.changeTarget=function(n){this._target=n},g.prototype.when=function(n,r,$){return this.whenWithKeys(n,r,keys$2(r),$)},g.prototype.whenWithKeys=function(n,r,$,L){for(var V=this._tracks,oe=0;oe<$.length;oe++){var re=$[oe],ae=V[re];if(!ae){ae=V[re]=new Track(re);var le=void 0,ue=this._getAdditiveTrack(re);if(ue){var de=ue.keyframes,pe=de[de.length-1];le=pe&&pe.value,ue.valType===VALUE_TYPE_COLOR&&le&&(le=rgba2String(le))}else le=this._target[re];if(le==null)continue;n>0&&ae.addKeyframe(0,cloneValue(le),L),this._trackKeys.push(re)}ae.addKeyframe(n,cloneValue(r[re]),L)}return this._maxTime=Math.max(this._maxTime,n),this},g.prototype.pause=function(){this._clip.pause(),this._paused=!0},g.prototype.resume=function(){this._clip.resume(),this._paused=!1},g.prototype.isPaused=function(){return!!this._paused},g.prototype.duration=function(n){return this._maxTime=n,this._force=!0,this},g.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var n=this._doneCbs;if(n)for(var r=n.length,$=0;$<r;$++)n[$].call(this)},g.prototype._abortedCallback=function(){this._setTracksFinished();var n=this.animation,r=this._abortedCbs;if(n&&n.removeClip(this._clip),this._clip=null,r)for(var $=0;$<r.length;$++)r[$].call(this)},g.prototype._setTracksFinished=function(){for(var n=this._tracks,r=this._trackKeys,$=0;$<r.length;$++)n[r[$]].setFinished()},g.prototype._getAdditiveTrack=function(n){var r,$=this._additiveAnimators;if($)for(var L=0;L<$.length;L++){var V=$[L].getTrack(n);V&&(r=V)}return r},g.prototype.start=function(n){if(!(this._started>0)){this._started=1;for(var r=this,$=[],L=this._maxTime||0,V=0;V<this._trackKeys.length;V++){var oe=this._trackKeys[V],re=this._tracks[oe],ae=this._getAdditiveTrack(oe),le=re.keyframes,ue=le.length;if(re.prepare(L,ae),re.needsAnimate())if(!this._allowDiscrete&&re.discrete){var de=le[ue-1];de&&(r._target[re.propName]=de.rawValue),re.setFinished()}else $.push(re)}if($.length||this._force){var pe=new Clip$1({life:L,loop:this._loop,delay:this._delay||0,onframe:function(he){r._started=2;var _e=r._additiveAnimators;if(_e){for(var Oe=!1,xe=0;xe<_e.length;xe++)if(_e[xe]._clip){Oe=!0;break}Oe||(r._additiveAnimators=null)}for(var xe=0;xe<$.length;xe++)$[xe].step(r._target,he);var $e=r._onframeCbs;if($e)for(var xe=0;xe<$e.length;xe++)$e[xe](r._target,he)},ondestroy:function(){r._doneCallback()}});this._clip=pe,this.animation&&this.animation.addClip(pe),n&&pe.setEasing(n)}else this._doneCallback();return this}},g.prototype.stop=function(n){if(this._clip){var r=this._clip;n&&r.onframe(1),this._abortedCallback()}},g.prototype.delay=function(n){return this._delay=n,this},g.prototype.during=function(n){return n&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(n)),this},g.prototype.done=function(n){return n&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(n)),this},g.prototype.aborted=function(n){return n&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(n)),this},g.prototype.getClip=function(){return this._clip},g.prototype.getTrack=function(n){return this._tracks[n]},g.prototype.getTracks=function(){var n=this;return map$2(this._trackKeys,function(r){return n._tracks[r]})},g.prototype.stopTracks=function(n,r){if(!n.length||!this._clip)return!0;for(var $=this._tracks,L=this._trackKeys,V=0;V<n.length;V++){var oe=$[n[V]];oe&&!oe.isFinished()&&(r?oe.step(this._target,1):this._started===1&&oe.step(this._target,0),oe.setFinished())}for(var re=!0,V=0;V<L.length;V++)if(!$[L[V]].isFinished()){re=!1;break}return re&&this._abortedCallback(),re},g.prototype.saveTo=function(n,r,$){if(n){r=r||this._trackKeys;for(var L=0;L<r.length;L++){var V=r[L],oe=this._tracks[V];if(!(!oe||oe.isFinished())){var re=oe.keyframes,ae=re[$?0:re.length-1];ae&&(n[V]=cloneValue(ae.rawValue))}}}},g.prototype.__changeFinalValue=function(n,r){r=r||keys$2(n);for(var $=0;$<r.length;$++){var L=r[$],V=this._tracks[L];if(V){var oe=V.keyframes;if(oe.length>1){var re=oe.pop();V.addKeyframe(re.time,n[L]),V.prepare(this._maxTime,V.getAdditiveTrack())}}}},g}();const Animator$1=Animator;function getTime(){return new Date().getTime()}var Animation=function(g){__extends(n,g);function n(r){var $=g.call(this)||this;return $._running=!1,$._time=0,$._pausedTime=0,$._pauseStart=0,$._paused=!1,r=r||{},$.stage=r.stage||{},$}return n.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},n.prototype.addAnimator=function(r){r.animation=this;var $=r.getClip();$&&this.addClip($)},n.prototype.removeClip=function(r){if(r.animation){var $=r.prev,L=r.next;$?$.next=L:this._head=L,L?L.prev=$:this._tail=$,r.next=r.prev=r.animation=null}},n.prototype.removeAnimator=function(r){var $=r.getClip();$&&this.removeClip($),r.animation=null},n.prototype.update=function(r){for(var $=getTime()-this._pausedTime,L=$-this._time,V=this._head;V;){var oe=V.next,re=V.step($,L);re&&(V.ondestroy(),this.removeClip(V)),V=oe}this._time=$,r||(this.trigger("frame",L),this.stage.update&&this.stage.update())},n.prototype._startLoop=function(){var r=this;this._running=!0;function $(){r._running&&(requestAnimationFrame$2($),!r._paused&&r.update())}requestAnimationFrame$2($)},n.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},n.prototype.stop=function(){this._running=!1},n.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},n.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},n.prototype.clear=function(){for(var r=this._head;r;){var $=r.next;r.prev=r.next=r.animation=null,r=$}this._head=this._tail=null},n.prototype.isFinished=function(){return this._head==null},n.prototype.animate=function(r,$){$=$||{},this.start();var L=new Animator$1(r,$.loop);return this.addAnimator(L),L},n}(Eventful$1);const Animation$1=Animation;var TOUCH_CLICK_DELAY=300,globalEventSupported=env$1.domSupported,localNativeListenerNames=function(){var g=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],n=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},$=map$2(g,function(L){var V=L.replace("mouse","pointer");return r.hasOwnProperty(V)?V:L});return{mouse:g,touch:n,pointer:$}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(g){var n=g.pointerType;return n==="pen"||n==="touch"}function setTouchTimer(g){g.touching=!0,g.touchTimer!=null&&(clearTimeout(g.touchTimer),g.touchTimer=null),g.touchTimer=setTimeout(function(){g.touching=!1,g.touchTimer=null},700)}function markTouch(g){g&&(g.zrByTouch=!0)}function normalizeGlobalEvent(g,n){return normalizeEvent(g.dom,new FakeGlobalEvent(g,n),!0)}function isLocalEl(g,n){for(var r=n,$=!1;r&&r.nodeType!==9&&!($=r.domBelongToZr||r!==n&&r===g.painterRoot);)r=r.parentNode;return $}var FakeGlobalEvent=function(){function g(n,r){this.stopPropagation=noop$5,this.stopImmediatePropagation=noop$5,this.preventDefault=noop$5,this.type=r.type,this.target=this.currentTarget=n.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return g}(),localDOMHandlers={mousedown:function(g){g=normalizeEvent(this.dom,g),this.__mayPointerCapture=[g.zrX,g.zrY],this.trigger("mousedown",g)},mousemove:function(g){g=normalizeEvent(this.dom,g);var n=this.__mayPointerCapture;n&&(g.zrX!==n[0]||g.zrY!==n[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",g)},mouseup:function(g){g=normalizeEvent(this.dom,g),this.__togglePointerCapture(!1),this.trigger("mouseup",g)},mouseout:function(g){g=normalizeEvent(this.dom,g);var n=g.toElement||g.relatedTarget;isLocalEl(this,n)||(this.__pointerCapturing&&(g.zrEventControl="no_globalout"),this.trigger("mouseout",g))},wheel:function(g){wheelEventSupported=!0,g=normalizeEvent(this.dom,g),this.trigger("mousewheel",g)},mousewheel:function(g){wheelEventSupported||(g=normalizeEvent(this.dom,g),this.trigger("mousewheel",g))},touchstart:function(g){g=normalizeEvent(this.dom,g),markTouch(g),this.__lastTouchMoment=new Date,this.handler.processGesture(g,"start"),localDOMHandlers.mousemove.call(this,g),localDOMHandlers.mousedown.call(this,g)},touchmove:function(g){g=normalizeEvent(this.dom,g),markTouch(g),this.handler.processGesture(g,"change"),localDOMHandlers.mousemove.call(this,g)},touchend:function(g){g=normalizeEvent(this.dom,g),markTouch(g),this.handler.processGesture(g,"end"),localDOMHandlers.mouseup.call(this,g),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,g)},pointerdown:function(g){localDOMHandlers.mousedown.call(this,g)},pointermove:function(g){isPointerFromTouch(g)||localDOMHandlers.mousemove.call(this,g)},pointerup:function(g){localDOMHandlers.mouseup.call(this,g)},pointerout:function(g){isPointerFromTouch(g)||localDOMHandlers.mouseout.call(this,g)}};each$f(["click","dblclick","contextmenu"],function(g){localDOMHandlers[g]=function(n){n=normalizeEvent(this.dom,n),this.trigger(g,n)}});var globalDOMHandlers={pointermove:function(g){isPointerFromTouch(g)||globalDOMHandlers.mousemove.call(this,g)},pointerup:function(g){globalDOMHandlers.mouseup.call(this,g)},mousemove:function(g){this.trigger("mousemove",g)},mouseup:function(g){var n=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",g),n&&(g.zrEventControl="only_globalout",this.trigger("mouseout",g))}};function mountLocalDOMEventListeners(g,n){var r=n.domHandlers;env$1.pointerEventsSupported?each$f(localNativeListenerNames.pointer,function($){mountSingleDOMEventListener(n,$,function(L){r[$].call(g,L)})}):(env$1.touchEventsSupported&&each$f(localNativeListenerNames.touch,function($){mountSingleDOMEventListener(n,$,function(L){r[$].call(g,L),setTouchTimer(n)})}),each$f(localNativeListenerNames.mouse,function($){mountSingleDOMEventListener(n,$,function(L){L=getNativeEvent(L),n.touching||r[$].call(g,L)})}))}function mountGlobalDOMEventListeners(g,n){env$1.pointerEventsSupported?each$f(globalNativeListenerNames.pointer,r):env$1.touchEventsSupported||each$f(globalNativeListenerNames.mouse,r);function r($){function L(V){V=getNativeEvent(V),isLocalEl(g,V.target)||(V=normalizeGlobalEvent(g,V),n.domHandlers[$].call(g,V))}mountSingleDOMEventListener(n,$,L,{capture:!0})}}function mountSingleDOMEventListener(g,n,r,$){g.mounted[n]=r,g.listenerOpts[n]=$,addEventListener(g.domTarget,n,r,$)}function unmountDOMEventListeners(g){var n=g.mounted;for(var r in n)n.hasOwnProperty(r)&&removeEventListener(g.domTarget,r,n[r],g.listenerOpts[r]);g.mounted={}}var DOMHandlerScope=function(){function g(n,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=r}return g}(),HandlerDomProxy=function(g){__extends(n,g);function n(r,$){var L=g.call(this)||this;return L.__pointerCapturing=!1,L.dom=r,L.painterRoot=$,L._localHandlerScope=new DOMHandlerScope(r,localDOMHandlers),globalEventSupported&&(L._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(L,L._localHandlerScope),L}return n.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},n.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},n.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var $=this._globalHandlerScope;r?mountGlobalDOMEventListeners(this,$):unmountDOMEventListeners($)}},n}(Eventful$1);const HandlerProxy=HandlerDomProxy;var dpr=1;env$1.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity$2,EPSILON$2=5e-5;function isNotAroundZero(g){return g>EPSILON$2||g<-EPSILON$2}var scaleTmp=[],tmpTransform=[],originTransform=create$1(),abs=Math.abs,Transformable=function(){function g(){}return g.prototype.getLocalTransform=function(n){return g.getLocalTransform(this,n)},g.prototype.setPosition=function(n){this.x=n[0],this.y=n[1]},g.prototype.setScale=function(n){this.scaleX=n[0],this.scaleY=n[1]},g.prototype.setSkew=function(n){this.skewX=n[0],this.skewY=n[1]},g.prototype.setOrigin=function(n){this.originX=n[0],this.originY=n[1]},g.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},g.prototype.updateTransform=function(){var n=this.parent&&this.parent.transform,r=this.needLocalTransform(),$=this.transform;if(!(r||n)){$&&(mIdentity($),this.invTransform=null);return}$=$||create$1(),r?this.getLocalTransform($):mIdentity($),n&&(r?mul($,n,$):copy$1($,n)),this.transform=$,this._resolveGlobalScaleRatio($)},g.prototype._resolveGlobalScaleRatio=function(n){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(scaleTmp);var $=scaleTmp[0]<0?-1:1,L=scaleTmp[1]<0?-1:1,V=((scaleTmp[0]-$)*r+$)/scaleTmp[0]||0,oe=((scaleTmp[1]-L)*r+L)/scaleTmp[1]||0;n[0]*=V,n[1]*=V,n[2]*=oe,n[3]*=oe}this.invTransform=this.invTransform||create$1(),invert(this.invTransform,n)},g.prototype.getComputedTransform=function(){for(var n=this,r=[];n;)r.push(n),n=n.parent;for(;n=r.pop();)n.updateTransform();return this.transform},g.prototype.setLocalTransform=function(n){if(n){var r=n[0]*n[0]+n[1]*n[1],$=n[2]*n[2]+n[3]*n[3],L=Math.atan2(n[1],n[0]),V=Math.PI/2+L-Math.atan2(n[3],n[2]);$=Math.sqrt($)*Math.cos(V),r=Math.sqrt(r),this.skewX=V,this.skewY=0,this.rotation=-L,this.x=+n[4],this.y=+n[5],this.scaleX=r,this.scaleY=$,this.originX=0,this.originY=0}},g.prototype.decomposeTransform=function(){if(this.transform){var n=this.parent,r=this.transform;n&&n.transform&&(mul(tmpTransform,n.invTransform,r),r=tmpTransform);var $=this.originX,L=this.originY;($||L)&&(originTransform[4]=$,originTransform[5]=L,mul(tmpTransform,r,originTransform),tmpTransform[4]-=$,tmpTransform[5]-=L,r=tmpTransform),this.setLocalTransform(r)}},g.prototype.getGlobalScale=function(n){var r=this.transform;return n=n||[],r?(n[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),n[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(n[0]=-n[0]),r[3]<0&&(n[1]=-n[1]),n):(n[0]=1,n[1]=1,n)},g.prototype.transformCoordToLocal=function(n,r){var $=[n,r],L=this.invTransform;return L&&applyTransform$1($,$,L),$},g.prototype.transformCoordToGlobal=function(n,r){var $=[n,r],L=this.transform;return L&&applyTransform$1($,$,L),$},g.prototype.getLineScale=function(){var n=this.transform;return n&&abs(n[0]-1)>1e-10&&abs(n[3]-1)>1e-10?Math.sqrt(abs(n[0]*n[3]-n[2]*n[1])):1},g.prototype.copyTransform=function(n){copyTransform(this,n)},g.getLocalTransform=function(n,r){r=r||[];var $=n.originX||0,L=n.originY||0,V=n.scaleX,oe=n.scaleY,re=n.anchorX,ae=n.anchorY,le=n.rotation||0,ue=n.x,de=n.y,pe=n.skewX?Math.tan(n.skewX):0,he=n.skewY?Math.tan(-n.skewY):0;if($||L||re||ae){var _e=$+re,Oe=L+ae;r[4]=-_e*V-pe*Oe*oe,r[5]=-Oe*oe-he*_e*V}else r[4]=r[5]=0;return r[0]=V,r[3]=oe,r[1]=he*V,r[2]=pe*oe,le&&rotate(r,r,le),r[4]+=$+ue,r[5]+=L+de,r},g.initDefaultProps=function(){var n=g.prototype;n.scaleX=n.scaleY=n.globalScaleRatio=1,n.x=n.y=n.originX=n.originY=n.skewX=n.skewY=n.rotation=n.anchorX=n.anchorY=0}(),g}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(g,n){for(var r=0;r<TRANSFORMABLE_PROPS.length;r++){var $=TRANSFORMABLE_PROPS[r];g[$]=n[$]}}var textWidthCache={};function getWidth(g,n){n=n||DEFAULT_FONT;var r=textWidthCache[n];r||(r=textWidthCache[n]=new LRU$1(500));var $=r.get(g);return $==null&&($=platformApi.measureText(g,n).width,r.put(g,$)),$}function innerGetBoundingRect(g,n,r,$){var L=getWidth(g,n),V=getLineHeight(n),oe=adjustTextX(0,L,r),re=adjustTextY(0,V,$),ae=new BoundingRect$1(oe,re,L,V);return ae}function getBoundingRect(g,n,r,$){var L=((g||"")+"").split(`
`),V=L.length;if(V===1)return innerGetBoundingRect(L[0],n,r,$);for(var oe=new BoundingRect$1(0,0,0,0),re=0;re<L.length;re++){var ae=innerGetBoundingRect(L[re],n,r,$);re===0?oe.copy(ae):oe.union(ae)}return oe}function adjustTextX(g,n,r){return r==="right"?g-=n:r==="center"&&(g-=n/2),g}function adjustTextY(g,n,r){return r==="middle"?g-=n/2:r==="bottom"&&(g-=n),g}function getLineHeight(g){return getWidth("\u56FD",g)}function parsePercent$1(g,n){return typeof g=="string"?g.lastIndexOf("%")>=0?parseFloat(g)/100*n:parseFloat(g):g}function calculateTextPosition(g,n,r){var $=n.position||"inside",L=n.distance!=null?n.distance:5,V=r.height,oe=r.width,re=V/2,ae=r.x,le=r.y,ue="left",de="top";if($ instanceof Array)ae+=parsePercent$1($[0],r.width),le+=parsePercent$1($[1],r.height),ue=null,de=null;else switch($){case"left":ae-=L,le+=re,ue="right",de="middle";break;case"right":ae+=L+oe,le+=re,de="middle";break;case"top":ae+=oe/2,le-=L,ue="center",de="bottom";break;case"bottom":ae+=oe/2,le+=V+L,ue="center";break;case"inside":ae+=oe/2,le+=re,ue="center",de="middle";break;case"insideLeft":ae+=L,le+=re,de="middle";break;case"insideRight":ae+=oe-L,le+=re,ue="right",de="middle";break;case"insideTop":ae+=oe/2,le+=L,ue="center";break;case"insideBottom":ae+=oe/2,le+=V-L,ue="center",de="bottom";break;case"insideTopLeft":ae+=L,le+=L;break;case"insideTopRight":ae+=oe-L,le+=L,ue="right";break;case"insideBottomLeft":ae+=L,le+=V-L,de="bottom";break;case"insideBottomRight":ae+=oe-L,le+=V-L,ue="right",de="bottom";break}return g=g||{},g.x=ae,g.y=le,g.align=ue,g.verticalAlign=de,g}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(g,n){return g[n]=!0,g},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect$1(0,0,0,0),Element$2=function(){function g(n){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(n)}return g.prototype._init=function(n){this.attr(n)},g.prototype.drift=function(n,r,$){switch(this.draggable){case"horizontal":r=0;break;case"vertical":n=0;break}var L=this.transform;L||(L=this.transform=[1,0,0,1,0,0]),L[4]+=n,L[5]+=r,this.decomposeTransform(),this.markRedraw()},g.prototype.beforeUpdate=function(){},g.prototype.afterUpdate=function(){},g.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},g.prototype.updateInnerText=function(n){var r=this._textContent;if(r&&(!r.ignore||n)){this.textConfig||(this.textConfig={});var $=this.textConfig,L=$.local,V=r.innerTransformable,oe=void 0,re=void 0,ae=!1;V.parent=L?this:null;var le=!1;if(V.copyTransform(r),$.position!=null){var ue=tmpBoundingRect;$.layoutRect?ue.copy($.layoutRect):ue.copy(this.getBoundingRect()),L||ue.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,$,ue):calculateTextPosition(tmpTextPosCalcRes,$,ue),V.x=tmpTextPosCalcRes.x,V.y=tmpTextPosCalcRes.y,oe=tmpTextPosCalcRes.align,re=tmpTextPosCalcRes.verticalAlign;var de=$.origin;if(de&&$.rotation!=null){var pe=void 0,he=void 0;de==="center"?(pe=ue.width*.5,he=ue.height*.5):(pe=parsePercent$1(de[0],ue.width),he=parsePercent$1(de[1],ue.height)),le=!0,V.originX=-V.x+pe+(L?0:ue.x),V.originY=-V.y+he+(L?0:ue.y)}}$.rotation!=null&&(V.rotation=$.rotation);var _e=$.offset;_e&&(V.x+=_e[0],V.y+=_e[1],le||(V.originX=-_e[0],V.originY=-_e[1]));var Oe=$.inside==null?typeof $.position=="string"&&$.position.indexOf("inside")>=0:$.inside,xe=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),$e=void 0,Ie=void 0,Ne=void 0;Oe&&this.canBeInsideText()?($e=$.insideFill,Ie=$.insideStroke,($e==null||$e==="auto")&&($e=this.getInsideTextFill()),(Ie==null||Ie==="auto")&&(Ie=this.getInsideTextStroke($e),Ne=!0)):($e=$.outsideFill,Ie=$.outsideStroke,($e==null||$e==="auto")&&($e=this.getOutsideFill()),(Ie==null||Ie==="auto")&&(Ie=this.getOutsideStroke($e),Ne=!0)),$e=$e||"#000",($e!==xe.fill||Ie!==xe.stroke||Ne!==xe.autoStroke||oe!==xe.align||re!==xe.verticalAlign)&&(ae=!0,xe.fill=$e,xe.stroke=Ie,xe.autoStroke=Ne,xe.align=oe,xe.verticalAlign=re,r.setDefaultTextStyle(xe)),r.__dirty|=REDRAW_BIT,ae&&r.dirtyStyle(!0)}},g.prototype.canBeInsideText=function(){return!0},g.prototype.getInsideTextFill=function(){return"#fff"},g.prototype.getInsideTextStroke=function(n){return"#000"},g.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},g.prototype.getOutsideStroke=function(n){var r=this.__zr&&this.__zr.getBackgroundColor(),$=typeof r=="string"&&parse(r);$||($=[255,255,255,1]);for(var L=$[3],V=this.__zr.isDarkMode(),oe=0;oe<3;oe++)$[oe]=$[oe]*L+(V?0:255)*(1-L);return $[3]=1,stringify$1($,"rgba")},g.prototype.traverse=function(n,r){},g.prototype.attrKV=function(n,r){n==="textConfig"?this.setTextConfig(r):n==="textContent"?this.setTextContent(r):n==="clipPath"?this.setClipPath(r):n==="extra"?(this.extra=this.extra||{},extend$3(this.extra,r)):this[n]=r},g.prototype.hide=function(){this.ignore=!0,this.markRedraw()},g.prototype.show=function(){this.ignore=!1,this.markRedraw()},g.prototype.attr=function(n,r){if(typeof n=="string")this.attrKV(n,r);else if(isObject$6(n))for(var $=n,L=keys$2($),V=0;V<L.length;V++){var oe=L[V];this.attrKV(oe,n[oe])}return this.markRedraw(),this},g.prototype.saveCurrentToNormalState=function(n){this._innerSaveToNormal(n);for(var r=this._normalState,$=0;$<this.animators.length;$++){var L=this.animators[$],V=L.__fromStateTransition;if(!(L.getLoop()||V&&V!==PRESERVED_NORMAL_STATE)){var oe=L.targetName,re=oe?r[oe]:r;L.saveTo(re)}}},g.prototype._innerSaveToNormal=function(n){var r=this._normalState;r||(r=this._normalState={}),n.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(n,r,PRIMARY_STATES_KEYS$1)},g.prototype._savePrimaryToNormal=function(n,r,$){for(var L=0;L<$.length;L++){var V=$[L];n[V]!=null&&!(V in r)&&(r[V]=this[V])}},g.prototype.hasState=function(){return this.currentStates.length>0},g.prototype.getState=function(n){return this.states[n]},g.prototype.ensureState=function(n){var r=this.states;return r[n]||(r[n]={}),r[n]},g.prototype.clearStates=function(n){this.useState(PRESERVED_NORMAL_STATE,!1,n)},g.prototype.useState=function(n,r,$,L){var V=n===PRESERVED_NORMAL_STATE,oe=this.hasState();if(!(!oe&&V)){var re=this.currentStates,ae=this.stateTransition;if(!(indexOf(re,n)>=0&&(r||re.length===1))){var le;if(this.stateProxy&&!V&&(le=this.stateProxy(n)),le||(le=this.states&&this.states[n]),!le&&!V){logError("State "+n+" not exists.");return}V||this.saveCurrentToNormalState(le);var ue=!!(le&&le.hoverLayer||L);ue&&this._toggleHoverLayerFlag(!0),this._applyStateObj(n,le,this._normalState,r,!$&&!this.__inHover&&ae&&ae.duration>0,ae);var de=this._textContent,pe=this._textGuide;return de&&de.useState(n,r,$,ue),pe&&pe.useState(n,r,$,ue),V?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(n):this.currentStates=[n],this._updateAnimationTargets(),this.markRedraw(),!ue&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),le}}},g.prototype.useStates=function(n,r,$){if(!n.length)this.clearStates();else{var L=[],V=this.currentStates,oe=n.length,re=oe===V.length;if(re){for(var ae=0;ae<oe;ae++)if(n[ae]!==V[ae]){re=!1;break}}if(re)return;for(var ae=0;ae<oe;ae++){var le=n[ae],ue=void 0;this.stateProxy&&(ue=this.stateProxy(le,n)),ue||(ue=this.states[le]),ue&&L.push(ue)}var de=L[oe-1],pe=!!(de&&de.hoverLayer||$);pe&&this._toggleHoverLayerFlag(!0);var he=this._mergeStates(L),_e=this.stateTransition;this.saveCurrentToNormalState(he),this._applyStateObj(n.join(","),he,this._normalState,!1,!r&&!this.__inHover&&_e&&_e.duration>0,_e);var Oe=this._textContent,xe=this._textGuide;Oe&&Oe.useStates(n,r,pe),xe&&xe.useStates(n,r,pe),this._updateAnimationTargets(),this.currentStates=n.slice(),this.markRedraw(),!pe&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},g.prototype._updateAnimationTargets=function(){for(var n=0;n<this.animators.length;n++){var r=this.animators[n];r.targetName&&r.changeTarget(this[r.targetName])}},g.prototype.removeState=function(n){var r=indexOf(this.currentStates,n);if(r>=0){var $=this.currentStates.slice();$.splice(r,1),this.useStates($)}},g.prototype.replaceState=function(n,r,$){var L=this.currentStates.slice(),V=indexOf(L,n),oe=indexOf(L,r)>=0;V>=0?oe?L.splice(V,1):L[V]=r:$&&!oe&&L.push(r),this.useStates(L)},g.prototype.toggleState=function(n,r){r?this.useState(n,!0):this.removeState(n)},g.prototype._mergeStates=function(n){for(var r={},$,L=0;L<n.length;L++){var V=n[L];extend$3(r,V),V.textConfig&&($=$||{},extend$3($,V.textConfig))}return $&&(r.textConfig=$),r},g.prototype._applyStateObj=function(n,r,$,L,V,oe){var re=!(r&&L);r&&r.textConfig?(this.textConfig=extend$3({},L?this.textConfig:$.textConfig),extend$3(this.textConfig,r.textConfig)):re&&$.textConfig&&(this.textConfig=$.textConfig);for(var ae={},le=!1,ue=0;ue<PRIMARY_STATES_KEYS$1.length;ue++){var de=PRIMARY_STATES_KEYS$1[ue],pe=V&&DEFAULT_ANIMATABLE_MAP[de];r&&r[de]!=null?pe?(le=!0,ae[de]=r[de]):this[de]=r[de]:re&&$[de]!=null&&(pe?(le=!0,ae[de]=$[de]):this[de]=$[de])}if(!V)for(var ue=0;ue<this.animators.length;ue++){var he=this.animators[ue],_e=he.targetName;he.getLoop()||he.__changeFinalValue(_e?(r||$)[_e]:r||$)}le&&this._transitionState(n,ae,oe)},g.prototype._attachComponent=function(n){if(!(n.__zr&&!n.__hostTarget)&&n!==this){var r=this.__zr;r&&n.addSelfToZr(r),n.__zr=r,n.__hostTarget=this}},g.prototype._detachComponent=function(n){n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__hostTarget=null},g.prototype.getClipPath=function(){return this._clipPath},g.prototype.setClipPath=function(n){this._clipPath&&this._clipPath!==n&&this.removeClipPath(),this._attachComponent(n),this._clipPath=n,this.markRedraw()},g.prototype.removeClipPath=function(){var n=this._clipPath;n&&(this._detachComponent(n),this._clipPath=null,this.markRedraw())},g.prototype.getTextContent=function(){return this._textContent},g.prototype.setTextContent=function(n){var r=this._textContent;r!==n&&(r&&r!==n&&this.removeTextContent(),n.innerTransformable=new Transformable,this._attachComponent(n),this._textContent=n,this.markRedraw())},g.prototype.setTextConfig=function(n){this.textConfig||(this.textConfig={}),extend$3(this.textConfig,n),this.markRedraw()},g.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},g.prototype.removeTextContent=function(){var n=this._textContent;n&&(n.innerTransformable=null,this._detachComponent(n),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},g.prototype.getTextGuideLine=function(){return this._textGuide},g.prototype.setTextGuideLine=function(n){this._textGuide&&this._textGuide!==n&&this.removeTextGuideLine(),this._attachComponent(n),this._textGuide=n,this.markRedraw()},g.prototype.removeTextGuideLine=function(){var n=this._textGuide;n&&(this._detachComponent(n),this._textGuide=null,this.markRedraw())},g.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var n=this.__zr;n&&(this.__inHover?n.refreshHover():n.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},g.prototype.dirty=function(){this.markRedraw()},g.prototype._toggleHoverLayerFlag=function(n){this.__inHover=n;var r=this._textContent,$=this._textGuide;r&&(r.__inHover=n),$&&($.__inHover=n)},g.prototype.addSelfToZr=function(n){if(this.__zr!==n){this.__zr=n;var r=this.animators;if(r)for(var $=0;$<r.length;$++)n.animation.addAnimator(r[$]);this._clipPath&&this._clipPath.addSelfToZr(n),this._textContent&&this._textContent.addSelfToZr(n),this._textGuide&&this._textGuide.addSelfToZr(n)}},g.prototype.removeSelfFromZr=function(n){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var $=0;$<r.length;$++)n.animation.removeAnimator(r[$]);this._clipPath&&this._clipPath.removeSelfFromZr(n),this._textContent&&this._textContent.removeSelfFromZr(n),this._textGuide&&this._textGuide.removeSelfFromZr(n)}},g.prototype.animate=function(n,r,$){var L=n?this[n]:this,V=new Animator$1(L,r,$);return n&&(V.targetName=n),this.addAnimator(V,n),V},g.prototype.addAnimator=function(n,r){var $=this.__zr,L=this;n.during(function(){L.updateDuringAnimation(r)}).done(function(){var V=L.animators,oe=indexOf(V,n);oe>=0&&V.splice(oe,1)}),this.animators.push(n),$&&$.animation.addAnimator(n),$&&$.wakeUp()},g.prototype.updateDuringAnimation=function(n){this.markRedraw()},g.prototype.stopAnimation=function(n,r){for(var $=this.animators,L=$.length,V=[],oe=0;oe<L;oe++){var re=$[oe];!n||n===re.scope?re.stop(r):V.push(re)}return this.animators=V,this},g.prototype.animateTo=function(n,r,$){animateTo(this,n,r,$)},g.prototype.animateFrom=function(n,r,$){animateTo(this,n,r,$,!0)},g.prototype._transitionState=function(n,r,$,L){for(var V=animateTo(this,r,$,L),oe=0;oe<V.length;oe++)V[oe].__fromStateTransition=n},g.prototype.getBoundingRect=function(){return null},g.prototype.getPaintRect=function(){return null},g.initDefaultProps=function(){var n=g.prototype;n.type="element",n.name="",n.ignore=n.silent=n.isGroup=n.draggable=n.dragging=n.ignoreClip=n.__inHover=!1,n.__dirty=REDRAW_BIT;function r($,L,V,oe){Object.defineProperty(n,$,{get:function(){if(!this[L]){var ae=this[L]=[];re(this,ae)}return this[L]},set:function(ae){this[V]=ae[0],this[oe]=ae[1],this[L]=ae,re(this,ae)}});function re(ae,le){Object.defineProperty(le,0,{get:function(){return ae[V]},set:function(ue){ae[V]=ue}}),Object.defineProperty(le,1,{get:function(){return ae[oe]},set:function(ue){ae[oe]=ue}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),g}();mixin(Element$2,Eventful$1),mixin(Element$2,Transformable);function animateTo(g,n,r,$,L){r=r||{};var V=[];animateToShallow(g,"",g,n,r,$,V,L);var oe=V.length,re=!1,ae=r.done,le=r.aborted,ue=function(){re=!0,oe--,oe<=0&&(re?ae&&ae():le&&le())},de=function(){oe--,oe<=0&&(re?ae&&ae():le&&le())};oe||ae&&ae(),V.length>0&&r.during&&V[0].during(function(_e,Oe){r.during(Oe)});for(var pe=0;pe<V.length;pe++){var he=V[pe];ue&&he.done(ue),de&&he.aborted(de),r.force&&he.duration(r.duration),he.start(r.easing)}return V}function copyArrShallow(g,n,r){for(var $=0;$<r;$++)g[$]=n[$]}function is2DArray(g){return isArrayLike$1(g[0])}function copyValue(g,n,r){if(isArrayLike$1(n[r]))if(isArrayLike$1(g[r])||(g[r]=[]),isTypedArray$4(n[r])){var $=n[r].length;g[r].length!==$&&(g[r]=new n[r].constructor($),copyArrShallow(g[r],n[r],$))}else{var L=n[r],V=g[r],oe=L.length;if(is2DArray(L))for(var re=L[0].length,ae=0;ae<oe;ae++)V[ae]?copyArrShallow(V[ae],L[ae],re):V[ae]=Array.prototype.slice.call(L[ae]);else copyArrShallow(V,L,oe);V.length=L.length}else g[r]=n[r]}function isValueSame(g,n){return g===n||isArrayLike$1(g)&&isArrayLike$1(n)&&is1DArraySame(g,n)}function is1DArraySame(g,n){var r=g.length;if(r!==n.length)return!1;for(var $=0;$<r;$++)if(g[$]!==n[$])return!1;return!0}function animateToShallow(g,n,r,$,L,V,oe,re){for(var ae=keys$2($),le=L.duration,ue=L.delay,de=L.additive,pe=L.setToFinal,he=!isObject$6(V),_e=g.animators,Oe=[],xe=0;xe<ae.length;xe++){var $e=ae[xe],Ie=$[$e];if(Ie!=null&&r[$e]!=null&&(he||V[$e]))if(isObject$6(Ie)&&!isArrayLike$1(Ie)&&!isGradientObject(Ie)){if(n){re||(r[$e]=Ie,g.updateDuringAnimation(n));continue}animateToShallow(g,$e,r[$e],Ie,L,V&&V[$e],oe,re)}else Oe.push($e);else re||(r[$e]=Ie,g.updateDuringAnimation(n),Oe.push($e))}var Ne=Oe.length;if(!de&&Ne)for(var ze=0;ze<_e.length;ze++){var Ue=_e[ze];if(Ue.targetName===n){var Fe=Ue.stopTracks(Oe);if(Fe){var qe=indexOf(_e,Ue);_e.splice(qe,1)}}}if(L.force||(Oe=filter(Oe,function(Dt){return!isValueSame($[Dt],r[Dt])}),Ne=Oe.length),Ne>0||L.force&&!oe.length){var Et=void 0,At=void 0,kt=void 0;if(re){At={},pe&&(Et={});for(var ze=0;ze<Ne;ze++){var $e=Oe[ze];At[$e]=r[$e],pe?Et[$e]=$[$e]:r[$e]=$[$e]}}else if(pe){kt={};for(var ze=0;ze<Ne;ze++){var $e=Oe[ze];kt[$e]=cloneValue(r[$e]),copyValue(r,$,$e)}}var Ue=new Animator$1(r,!1,!1,de?filter(_e,function(jt){return jt.targetName===n}):null);Ue.targetName=n,L.scope&&(Ue.scope=L.scope),pe&&Et&&Ue.whenWithKeys(0,Et,Oe),kt&&Ue.whenWithKeys(0,kt,Oe),Ue.whenWithKeys(le!=null?le:500,re?At:$,Oe).delay(ue||0),g.addAnimator(Ue,n),oe.push(Ue)}}const Element$3=Element$2;var Group$3=function(g){__extends(n,g);function n(r){var $=g.call(this)||this;return $.isGroup=!0,$._children=[],$.attr(r),$}return n.prototype.childrenRef=function(){return this._children},n.prototype.children=function(){return this._children.slice()},n.prototype.childAt=function(r){return this._children[r]},n.prototype.childOfName=function(r){for(var $=this._children,L=0;L<$.length;L++)if($[L].name===r)return $[L]},n.prototype.childCount=function(){return this._children.length},n.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},n.prototype.addBefore=function(r,$){if(r&&r!==this&&r.parent!==this&&$&&$.parent===this){var L=this._children,V=L.indexOf($);V>=0&&(L.splice(V,0,r),this._doAdd(r))}return this},n.prototype.replace=function(r,$){var L=indexOf(this._children,r);return L>=0&&this.replaceAt($,L),this},n.prototype.replaceAt=function(r,$){var L=this._children,V=L[$];if(r&&r!==this&&r.parent!==this&&r!==V){L[$]=r,V.parent=null;var oe=this.__zr;oe&&V.removeSelfFromZr(oe),this._doAdd(r)}return this},n.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var $=this.__zr;$&&$!==r.__zr&&r.addSelfToZr($),$&&$.refresh()},n.prototype.remove=function(r){var $=this.__zr,L=this._children,V=indexOf(L,r);return V<0?this:(L.splice(V,1),r.parent=null,$&&r.removeSelfFromZr($),$&&$.refresh(),this)},n.prototype.removeAll=function(){for(var r=this._children,$=this.__zr,L=0;L<r.length;L++){var V=r[L];$&&V.removeSelfFromZr($),V.parent=null}return r.length=0,this},n.prototype.eachChild=function(r,$){for(var L=this._children,V=0;V<L.length;V++){var oe=L[V];r.call($,oe,V)}return this},n.prototype.traverse=function(r,$){for(var L=0;L<this._children.length;L++){var V=this._children[L],oe=r.call($,V);V.isGroup&&!oe&&V.traverse(r,$)}return this},n.prototype.addSelfToZr=function(r){g.prototype.addSelfToZr.call(this,r);for(var $=0;$<this._children.length;$++){var L=this._children[$];L.addSelfToZr(r)}},n.prototype.removeSelfFromZr=function(r){g.prototype.removeSelfFromZr.call(this,r);for(var $=0;$<this._children.length;$++){var L=this._children[$];L.removeSelfFromZr(r)}},n.prototype.getBoundingRect=function(r){for(var $=new BoundingRect$1(0,0,0,0),L=r||this._children,V=[],oe=null,re=0;re<L.length;re++){var ae=L[re];if(!(ae.ignore||ae.invisible)){var le=ae.getBoundingRect(),ue=ae.getLocalTransform(V);ue?(BoundingRect$1.applyTransform($,le,ue),oe=oe||$.clone(),oe.union($)):(oe=oe||le.clone(),oe.union(le))}}return oe||$},n}(Element$3);Group$3.prototype.type="group";const Group$4=Group$3;var painterCtors={},instances$1={};function delInstance(g){delete instances$1[g]}function isDarkMode(g){if(!g)return!1;if(typeof g=="string")return lum(g,1)<DARK_MODE_THRESHOLD;if(g.colorStops){for(var n=g.colorStops,r=0,$=n.length,L=0;L<$;L++)r+=lum(n[L].color,1);return r/=$,r<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function g(n,r,$){var L=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,$=$||{},this.dom=r,this.id=n;var V=new Storage$1,oe=$.renderer||"canvas";painterCtors[oe]||(oe=keys$2(painterCtors)[0]),$.useDirtyRect=$.useDirtyRect==null?!1:$.useDirtyRect;var re=new painterCtors[oe](r,V,$,n),ae=$.ssr||re.ssrOnly;this.storage=V,this.painter=re;var le=!env$1.node&&!env$1.worker&&!ae?new HandlerProxy(re.getViewportRoot(),re.root):null,ue=$.useCoarsePointer,de=ue==null||ue==="auto"?env$1.touchEventsSupported:!!ue,pe=44,he;de&&(he=retrieve2($.pointerSize,pe)),this.handler=new Handler$1(V,re,le,re.root,he),this.animation=new Animation$1({stage:{update:ae?null:function(){return L._flush(!0)}}}),ae||this.animation.start()}return g.prototype.add=function(n){!n||(this.storage.addRoot(n),n.addSelfToZr(this),this.refresh())},g.prototype.remove=function(n){!n||(this.storage.delRoot(n),n.removeSelfFromZr(this),this.refresh())},g.prototype.configLayer=function(n,r){this.painter.configLayer&&this.painter.configLayer(n,r),this.refresh()},g.prototype.setBackgroundColor=function(n){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(n),this.refresh(),this._backgroundColor=n,this._darkMode=isDarkMode(n)},g.prototype.getBackgroundColor=function(){return this._backgroundColor},g.prototype.setDarkMode=function(n){this._darkMode=n},g.prototype.isDarkMode=function(){return this._darkMode},g.prototype.refreshImmediately=function(n){n||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},g.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},g.prototype.flush=function(){this._flush(!1)},g.prototype._flush=function(n){var r,$=getTime();this._needsRefresh&&(r=!0,this.refreshImmediately(n)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var L=getTime();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:L-$})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},g.prototype.setSleepAfterStill=function(n){this._sleepAfterStill=n},g.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},g.prototype.refreshHover=function(){this._needsRefreshHover=!0},g.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},g.prototype.resize=function(n){n=n||{},this.painter.resize(n.width,n.height),this.handler.resize()},g.prototype.clearAnimation=function(){this.animation.clear()},g.prototype.getWidth=function(){return this.painter.getWidth()},g.prototype.getHeight=function(){return this.painter.getHeight()},g.prototype.setCursorStyle=function(n){this.handler.setCursorStyle(n)},g.prototype.findHover=function(n,r){return this.handler.findHover(n,r)},g.prototype.on=function(n,r,$){return this.handler.on(n,r,$),this},g.prototype.off=function(n,r){this.handler.off(n,r)},g.prototype.trigger=function(n,r){this.handler.trigger(n,r)},g.prototype.clear=function(){for(var n=this.storage.getRoots(),r=0;r<n.length;r++)n[r]instanceof Group$4&&n[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},g.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delInstance(this.id)},g}();function init$2(g,n){var r=new ZRender(guid(),g,n);return instances$1[r.id]=r,r}function registerPainter(g,n){painterCtors[g]=n}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(g){return g.replace(/^\s+|\s+$/g,"")}function linearMap$2(g,n,r,$){var L=n[0],V=n[1],oe=r[0],re=r[1],ae=V-L,le=re-oe;if(ae===0)return le===0?oe:(oe+re)/2;if($)if(ae>0){if(g<=L)return oe;if(g>=V)return re}else{if(g>=L)return oe;if(g<=V)return re}else{if(g===L)return oe;if(g===V)return re}return(g-L)/ae*le+oe}function parsePercent(g,n){switch(g){case"center":case"middle":g="50%";break;case"left":case"top":g="0%";break;case"right":case"bottom":g="100%";break}return isString$3(g)?_trim(g).match(/%$/)?parseFloat(g)/100*n:parseFloat(g):g==null?NaN:+g}function round$3(g,n,r){return n==null&&(n=10),n=Math.min(Math.max(0,n),ROUND_SUPPORTED_PRECISION_MAX),g=(+g).toFixed(n),r?g:+g}function asc$2(g){return g.sort(function(n,r){return n-r}),g}function getPrecision(g){if(g=+g,isNaN(g))return 0;if(g>1e-14){for(var n=1,r=0;r<15;r++,n*=10)if(Math.round(g*n)/n===g)return r}return getPrecisionSafe(g)}function getPrecisionSafe(g){var n=g.toString().toLowerCase(),r=n.indexOf("e"),$=r>0?+n.slice(r+1):0,L=r>0?r:n.length,V=n.indexOf("."),oe=V<0?0:L-1-V;return Math.max(0,oe-$)}function getPixelPrecision(g,n){var r=Math.log,$=Math.LN10,L=Math.floor(r(g[1]-g[0])/$),V=Math.round(r(Math.abs(n[1]-n[0]))/$),oe=Math.min(Math.max(-L+V,0),20);return isFinite(oe)?oe:20}function getPercentSeats(g,n){var r=reduce(g,function(he,_e){return he+(isNaN(_e)?0:_e)},0);if(r===0)return[];for(var $=Math.pow(10,n),L=map$2(g,function(he){return(isNaN(he)?0:he)/r*$*100}),V=$*100,oe=map$2(L,function(he){return Math.floor(he)}),re=reduce(oe,function(he,_e){return he+_e},0),ae=map$2(L,function(he,_e){return he-oe[_e]});re<V;){for(var le=Number.NEGATIVE_INFINITY,ue=null,de=0,pe=ae.length;de<pe;++de)ae[de]>le&&(le=ae[de],ue=de);++oe[ue],ae[ue]=0,++re}return map$2(oe,function(he){return he/$})}function addSafe(g,n){var r=Math.max(getPrecision(g),getPrecision(n)),$=g+n;return r>ROUND_SUPPORTED_PRECISION_MAX?$:round$3($,r)}var MAX_SAFE_INTEGER$2=9007199254740991;function remRadian(g){var n=Math.PI*2;return(g%n+n)%n}function isRadianAroundZero(g){return g>-RADIAN_EPSILON&&g<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate$1(g){if(g instanceof Date)return g;if(isString$3(g)){var n=TIME_REG.exec(g);if(!n)return new Date(NaN);if(n[8]){var r=+n[4]||0;return n[8].toUpperCase()!=="Z"&&(r-=+n[8].slice(0,3)),new Date(Date.UTC(+n[1],+(n[2]||1)-1,+n[3]||1,r,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0))}else return new Date(+n[1],+(n[2]||1)-1,+n[3]||1,+n[4]||0,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0)}else if(g==null)return new Date(NaN);return new Date(Math.round(g))}function quantity(g){return Math.pow(10,quantityExponent(g))}function quantityExponent(g){if(g===0)return 0;var n=Math.floor(Math.log(g)/Math.LN10);return g/Math.pow(10,n)>=10&&n++,n}function nice(g,n){var r=quantityExponent(g),$=Math.pow(10,r),L=g/$,V;return n?L<1.5?V=1:L<2.5?V=2:L<4?V=3:L<7?V=5:V=10:L<1?V=1:L<2?V=2:L<3?V=3:L<5?V=5:V=10,g=V*$,r>=-20?+g.toFixed(r<0?-r:0):g}function quantile(g,n){var r=(g.length-1)*n+1,$=Math.floor(r),L=+g[$-1],V=r-$;return V?L+V*(g[$]-L):L}function reformIntervals(g){g.sort(function(ae,le){return re(ae,le,0)?-1:1});for(var n=-1/0,r=1,$=0;$<g.length;){for(var L=g[$].interval,V=g[$].close,oe=0;oe<2;oe++)L[oe]<=n&&(L[oe]=n,V[oe]=oe?1:1-r),n=L[oe],r=V[oe];L[0]===L[1]&&V[0]*V[1]!==1?g.splice($,1):$++}return g;function re(ae,le,ue){return ae.interval[ue]<le.interval[ue]||ae.interval[ue]===le.interval[ue]&&(ae.close[ue]-le.close[ue]===(ue?-1:1)||!ue&&re(ae,le,1))}}function numericToNumber(g){var n=parseFloat(g);return n==g&&(n!==0||!isString$3(g)||g.indexOf("x")<=0)?n:NaN}function isNumeric(g){return!isNaN(numericToNumber(g))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(g,n){return n===0?g:getGreatestCommonDividor(n,g%n)}function getLeastCommonMultiple(g,n){return g==null?n:n==null?g:g*n/getGreatestCommonDividor(g,n)}var ECHARTS_PREFIX="[ECharts] ",storedLogs={},hasConsole=typeof console<"u"&&console.warn&&console.log;function outputLog(g,n,r){if(hasConsole){if(r){if(storedLogs[n])return;storedLogs[n]=!0}console[g](ECHARTS_PREFIX+n)}}function warn(g,n){outputLog("warn",g,n)}function throwError$1(g){throw new Error(g)}function interpolateNumber(g,n,r){return(n-g)*r+g}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(g){return g instanceof Array?g:g==null?[]:[g]}function defaultEmphasis(g,n,r){if(g){g[n]=g[n]||{},g.emphasis=g.emphasis||{},g.emphasis[n]=g.emphasis[n]||{};for(var $=0,L=r.length;$<L;$++){var V=r[$];!g.emphasis[n].hasOwnProperty(V)&&g[n].hasOwnProperty(V)&&(g.emphasis[n][V]=g[n][V])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(g){return isObject$6(g)&&!isArray$6(g)&&!(g instanceof Date)?g.value:g}function isDataItemOption(g){return isObject$6(g)&&!(g instanceof Array)}function mappingToExists(g,n,r){var $=r==="normalMerge",L=r==="replaceMerge",V=r==="replaceAll";g=g||[],n=(n||[]).slice();var oe=createHashMap();each$f(n,function(ae,le){if(!isObject$6(ae)){n[le]=null;return}});var re=prepareResult(g,oe,r);return($||L)&&mappingById(re,g,oe,n),$&&mappingByName(re,n),$||L?mappingByIndex(re,n,L):V&&mappingInReplaceAllMode(re,n),makeIdAndName(re),re}function prepareResult(g,n,r){var $=[];if(r==="replaceAll")return $;for(var L=0;L<g.length;L++){var V=g[L];V&&V.id!=null&&n.set(V.id,L),$.push({existing:r==="replaceMerge"||isComponentIdInternal(V)?null:V,newOption:null,keyInfo:null,brandNew:null})}return $}function mappingById(g,n,r,$){each$f($,function(L,V){if(!(!L||L.id==null)){var oe=makeComparableKey(L.id),re=r.get(oe);if(re!=null){var ae=g[re];assert(!ae.newOption,'Duplicated option on id "'+oe+'".'),ae.newOption=L,ae.existing=n[re],$[V]=null}}})}function mappingByName(g,n){each$f(n,function(r,$){if(!(!r||r.name==null))for(var L=0;L<g.length;L++){var V=g[L].existing;if(!g[L].newOption&&V&&(V.id==null||r.id==null)&&!isComponentIdInternal(r)&&!isComponentIdInternal(V)&&keyExistAndEqual("name",V,r)){g[L].newOption=r,n[$]=null;return}}})}function mappingByIndex(g,n,r){each$f(n,function($){if($){for(var L,V=0;(L=g[V])&&(L.newOption||isComponentIdInternal(L.existing)||L.existing&&$.id!=null&&!keyExistAndEqual("id",$,L.existing));)V++;L?(L.newOption=$,L.brandNew=r):g.push({newOption:$,brandNew:r,existing:null,keyInfo:null}),V++}})}function mappingInReplaceAllMode(g,n){each$f(n,function(r){g.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(g){var n=createHashMap();each$f(g,function(r){var $=r.existing;$&&n.set($.id,r)}),each$f(g,function(r){var $=r.newOption;assert(!$||$.id==null||!n.get($.id)||n.get($.id)===r,"id duplicates: "+($&&$.id)),$&&$.id!=null&&n.set($.id,r),!r.keyInfo&&(r.keyInfo={})}),each$f(g,function(r,$){var L=r.existing,V=r.newOption,oe=r.keyInfo;if(isObject$6(V)){if(oe.name=V.name!=null?makeComparableKey(V.name):L?L.name:DUMMY_COMPONENT_NAME_PREFIX+$,L)oe.id=makeComparableKey(L.id);else if(V.id!=null)oe.id=makeComparableKey(V.id);else{var re=0;do oe.id="\0"+oe.name+"\0"+re++;while(n.get(oe.id))}n.set(oe.id,r)}})}function keyExistAndEqual(g,n,r){var $=convertOptionIdName(n[g],null),L=convertOptionIdName(r[g],null);return $!=null&&L!=null&&$===L}function makeComparableKey(g){return convertOptionIdName(g,"")}function convertOptionIdName(g,n){return g==null?n:isString$3(g)?g:isNumber$3(g)||isStringSafe(g)?g+"":n}function isNameSpecified(g){var n=g.name;return!!(n&&n.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(g){return g&&g.id!=null&&makeComparableKey(g.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function makeInternalComponentId(g){return INTERNAL_COMPONENT_ID_PREFIX+g}function setComponentTypeToKeyInfo(g,n,r){each$f(g,function($){var L=$.newOption;isObject$6(L)&&($.keyInfo.mainType=n,$.keyInfo.subType=determineSubType(n,L,$.existing,r))})}function determineSubType(g,n,r,$){var L=n.type?n.type:r?r.subType:$.determineSubType(g,n);return L}function compressBatches(g,n){var r={},$={};return L(g||[],r),L(n||[],$,r),[V(r),V($)];function L(oe,re,ae){for(var le=0,ue=oe.length;le<ue;le++){var de=convertOptionIdName(oe[le].seriesId,null);if(de==null)return;for(var pe=normalizeToArray(oe[le].dataIndex),he=ae&&ae[de],_e=0,Oe=pe.length;_e<Oe;_e++){var xe=pe[_e];he&&he[xe]?he[xe]=null:(re[de]||(re[de]={}))[xe]=1}}}function V(oe,re){var ae=[];for(var le in oe)if(oe.hasOwnProperty(le)&&oe[le]!=null)if(re)ae.push(+le);else{var ue=V(oe[le],!0);ue.length&&ae.push({seriesId:le,dataIndex:ue})}return ae}}function queryDataIndex(g,n){if(n.dataIndexInside!=null)return n.dataIndexInside;if(n.dataIndex!=null)return isArray$6(n.dataIndex)?map$2(n.dataIndex,function(r){return g.indexOfRawIndex(r)}):g.indexOfRawIndex(n.dataIndex);if(n.name!=null)return isArray$6(n.name)?map$2(n.name,function(r){return g.indexOfName(r)}):g.indexOfName(n.name)}function makeInner(){var g="__ec_inner_"+innerUniqueIndex++;return function(n){return n[g]||(n[g]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder$1(g,n,r){var $=preParseFinder(n,r),L=$.mainTypeSpecified,V=$.queryOptionMap,oe=$.others,re=oe,ae=r?r.defaultMainType:null;return!L&&ae&&V.set(ae,{}),V.each(function(le,ue){var de=queryReferringComponents(g,ue,le,{useDefault:ae===ue,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});re[ue+"Models"]=de.models,re[ue+"Model"]=de.models[0]}),re}function preParseFinder(g,n){var r;if(isString$3(g)){var $={};$[g+"Index"]=0,r=$}else r=g;var L=createHashMap(),V={},oe=!1;return each$f(r,function(re,ae){if(ae==="dataIndex"||ae==="dataIndexInside"){V[ae]=re;return}var le=ae.match(/^(\w+)(Index|Id|Name)$/)||[],ue=le[1],de=(le[2]||"").toLowerCase();if(!(!ue||!de||n&&n.includeMainTypes&&indexOf(n.includeMainTypes,ue)<0)){oe=oe||!!ue;var pe=L.get(ue)||L.set(ue,{});pe[de]=re}}),{mainTypeSpecified:oe,queryOptionMap:L,others:V}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(g,n,r,$){$=$||SINGLE_REFERRING;var L=r.index,V=r.id,oe=r.name,re={models:null,specified:L!=null||V!=null||oe!=null};if(!re.specified){var ae=void 0;return re.models=$.useDefault&&(ae=g.getComponent(n))?[ae]:[],re}return L==="none"||L===!1?(assert($.enableNone,'`"none"` or `false` is not a valid value on index option.'),re.models=[],re):(L==="all"&&(assert($.enableAll,'`"all"` is not a valid value on index option.'),L=V=oe=null),re.models=g.queryComponents({mainType:n,index:L,id:V,name:oe}),re)}function setAttribute(g,n,r){g.setAttribute?g.setAttribute(n,r):g[n]=r}function getAttribute(g,n){return g.getAttribute?g.getAttribute(n):g[n]}function getTooltipRenderMode(g){return g==="auto"?env$1.domSupported?"html":"richText":g||"html"}function groupData(g,n){var r=createHashMap(),$=[];return each$f(g,function(L){var V=n(L);(r.get(V)||($.push(V),r.set(V,[]))).push(L)}),{keys:$,buckets:r}}function interpolateRawValues(g,n,r,$,L){var V=n==null||n==="auto";if($==null)return $;if(isNumber$3($)){var oe=interpolateNumber(r||0,$,L);return round$3(oe,V?Math.max(getPrecision(r||0),getPrecision($)):n)}else{if(isString$3($))return L<1?r:$;for(var re=[],ae=r,le=$,ue=Math.max(ae?ae.length:0,le.length),de=0;de<ue;++de){var pe=g.getDimensionInfo(de);if(pe&&pe.type==="ordinal")re[de]=(L<1&&ae?ae:le)[de];else{var he=ae&&ae[de]?ae[de]:0,_e=le[de],oe=interpolateNumber(he,_e,L);re[de]=round$3(oe,V?Math.max(getPrecision(he),getPrecision(_e)):n)}}return re}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(g){var n={main:"",sub:""};if(g){var r=g.split(TYPE_DELIMITER);n.main=r[0]||"",n.sub=r[1]||""}return n}function checkClassType(g){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(g),'componentType "'+g+'" illegal')}function isExtendedClass(g){return!!(g&&g[IS_EXTENDED_CLASS])}function enableClassExtend(g,n){g.$constructor=g,g.extend=function(r){var $=this,L;return isESClass($)?L=function(V){__extends(oe,V);function oe(){return V.apply(this,arguments)||this}return oe}($):(L=function(){(r.$constructor||$).apply(this,arguments)},inherits$2(L,this)),extend$3(L.prototype,r),L[IS_EXTENDED_CLASS]=!0,L.extend=this.extend,L.superCall=superCall,L.superApply=superApply,L.superClass=$,L}}function isESClass(g){return isFunction$3(g)&&/^class\s/.test(Function.prototype.toString.call(g))}function mountExtend(g,n){g.extend=n.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(g){var n=["__\0is_clz",classBase++].join("_");g.prototype[n]=!0,g.isInstance=function(r){return!!(r&&r[n])}}function superCall(g,n){for(var r=[],$=2;$<arguments.length;$++)r[$-2]=arguments[$];return this.superClass.prototype[n].apply(g,r)}function superApply(g,n,r){return this.superClass.prototype[n].apply(g,r)}function enableClassManagement(g){var n={};g.registerClass=function($){var L=$.type||$.prototype.type;if(L){checkClassType(L),$.prototype.type=L;var V=parseClassType(L);if(!V.sub)n[V.main]=$;else if(V.sub!==IS_CONTAINER){var oe=r(V);oe[V.sub]=$}}return $},g.getClass=function($,L,V){var oe=n[$];if(oe&&oe[IS_CONTAINER]&&(oe=L?oe[L]:null),V&&!oe)throw new Error(L?"Component "+$+"."+(L||"")+" is used but not imported.":$+".type should be specified.");return oe},g.getClassesByMainType=function($){var L=parseClassType($),V=[],oe=n[L.main];return oe&&oe[IS_CONTAINER]?each$f(oe,function(re,ae){ae!==IS_CONTAINER&&V.push(re)}):V.push(oe),V},g.hasClass=function($){var L=parseClassType($);return!!n[L.main]},g.getAllClassMainTypes=function(){var $=[];return each$f(n,function(L,V){$.push(V)}),$},g.hasSubTypes=function($){var L=parseClassType($),V=n[L.main];return V&&V[IS_CONTAINER]};function r($){var L=n[$.main];return(!L||!L[IS_CONTAINER])&&(L=n[$.main]={},L[IS_CONTAINER]=!0),L}}function makeStyleMapper(g,n){for(var r=0;r<g.length;r++)g[r][1]||(g[r][1]=g[r][0]);return n=n||!1,function($,L,V){for(var oe={},re=0;re<g.length;re++){var ae=g[re][1];if(!(L&&indexOf(L,ae)>=0||V&&indexOf(V,ae)<0)){var le=$.getShallow(ae,n);le!=null&&(oe[g[re][0]]=le)}}return oe}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function g(){}return g.prototype.getAreaStyle=function(n,r){return getAreaStyle(this,n,r)},g}(),globalImageCache=new LRU$1(50);function findExistImage(g){if(typeof g=="string"){var n=globalImageCache.get(g);return n&&n.image}else return g}function createOrUpdateImage(g,n,r,$,L){if(g)if(typeof g=="string"){if(n&&n.__zrImageSrc===g||!r)return n;var V=globalImageCache.get(g),oe={hostEl:r,cb:$,cbPayload:L};return V?(n=V.image,!isImageReady(n)&&V.pending.push(oe)):(n=platformApi.loadImage(g,imageOnLoad,imageOnLoad),n.__zrImageSrc=g,globalImageCache.put(g,n.__cachedImgObj={image:n,pending:[oe]})),n}else return g;else return n}function imageOnLoad(){var g=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var n=0;n<g.pending.length;n++){var r=g.pending[n],$=r.cb;$&&$(this,r.cbPayload),r.hostEl.dirty()}g.pending.length=0}function isImageReady(g){return g&&g.width&&g.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(g,n,r,$,L){if(!n)return"";var V=(g+"").split(`
`);L=prepareTruncateOptions(n,r,$,L);for(var oe=0,re=V.length;oe<re;oe++)V[oe]=truncateSingleLine(V[oe],L);return V.join(`
`)}function prepareTruncateOptions(g,n,r,$){$=$||{};var L=extend$3({},$);L.font=n,r=retrieve2(r,"..."),L.maxIterations=retrieve2($.maxIterations,2);var V=L.minChar=retrieve2($.minChar,0);L.cnCharWidth=getWidth("\u56FD",n);var oe=L.ascCharWidth=getWidth("a",n);L.placeholder=retrieve2($.placeholder,"");for(var re=g=Math.max(0,g-1),ae=0;ae<V&&re>=oe;ae++)re-=oe;var le=getWidth(r,n);return le>re&&(r="",le=0),re=g-le,L.ellipsis=r,L.ellipsisWidth=le,L.contentWidth=re,L.containerWidth=g,L}function truncateSingleLine(g,n){var r=n.containerWidth,$=n.font,L=n.contentWidth;if(!r)return"";var V=getWidth(g,$);if(V<=r)return g;for(var oe=0;;oe++){if(V<=L||oe>=n.maxIterations){g+=n.ellipsis;break}var re=oe===0?estimateLength(g,L,n.ascCharWidth,n.cnCharWidth):V>0?Math.floor(g.length*L/V):0;g=g.substr(0,re),V=getWidth(g,$)}return g===""&&(g=n.placeholder),g}function estimateLength(g,n,r,$){for(var L=0,V=0,oe=g.length;V<oe&&L<n;V++){var re=g.charCodeAt(V);L+=0<=re&&re<=127?r:$}return V}function parsePlainText(g,n){g!=null&&(g+="");var r=n.overflow,$=n.padding,L=n.font,V=r==="truncate",oe=getLineHeight(L),re=retrieve2(n.lineHeight,oe),ae=!!n.backgroundColor,le=n.lineOverflow==="truncate",ue=n.width,de;ue!=null&&(r==="break"||r==="breakAll")?de=g?wrapText(g,n.font,ue,r==="breakAll",0).lines:[]:de=g?g.split(`
`):[];var pe=de.length*re,he=retrieve2(n.height,pe);if(pe>he&&le){var _e=Math.floor(he/re);de=de.slice(0,_e)}if(g&&V&&ue!=null)for(var Oe=prepareTruncateOptions(ue,L,n.ellipsis,{minChar:n.truncateMinChar,placeholder:n.placeholder}),xe=0;xe<de.length;xe++)de[xe]=truncateSingleLine(de[xe],Oe);for(var $e=he,Ie=0,xe=0;xe<de.length;xe++)Ie=Math.max(getWidth(de[xe],L),Ie);ue==null&&(ue=Ie);var Ne=Ie;return $&&($e+=$[0]+$[2],Ne+=$[1]+$[3],ue+=$[1]+$[3]),ae&&(Ne=ue),{lines:de,height:he,outerWidth:Ne,outerHeight:$e,lineHeight:re,calculatedLineHeight:oe,contentWidth:Ie,contentHeight:pe,width:ue}}var RichTextToken=function(){function g(){}return g}(),RichTextLine=function(){function g(n){this.tokens=[],n&&(this.tokens=n)}return g}(),RichTextContentBlock=function(){function g(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return g}();function parseRichText(g,n){var r=new RichTextContentBlock;if(g!=null&&(g+=""),!g)return r;for(var $=n.width,L=n.height,V=n.overflow,oe=(V==="break"||V==="breakAll")&&$!=null?{width:$,accumWidth:0,breakAll:V==="breakAll"}:null,re=STYLE_REG.lastIndex=0,ae;(ae=STYLE_REG.exec(g))!=null;){var le=ae.index;le>re&&pushTokens(r,g.substring(re,le),n,oe),pushTokens(r,ae[2],n,oe,ae[1]),re=STYLE_REG.lastIndex}re<g.length&&pushTokens(r,g.substring(re,g.length),n,oe);var ue=[],de=0,pe=0,he=n.padding,_e=V==="truncate",Oe=n.lineOverflow==="truncate";function xe(xn,bn,Tn){xn.width=bn,xn.lineHeight=Tn,de+=Tn,pe=Math.max(pe,bn)}e:for(var $e=0;$e<r.lines.length;$e++){for(var Ie=r.lines[$e],Ne=0,ze=0,Ue=0;Ue<Ie.tokens.length;Ue++){var Fe=Ie.tokens[Ue],qe=Fe.styleName&&n.rich[Fe.styleName]||{},Et=Fe.textPadding=qe.padding,At=Et?Et[1]+Et[3]:0,kt=Fe.font=qe.font||n.font;Fe.contentHeight=getLineHeight(kt);var Dt=retrieve2(qe.height,Fe.contentHeight);if(Fe.innerHeight=Dt,Et&&(Dt+=Et[0]+Et[2]),Fe.height=Dt,Fe.lineHeight=retrieve3(qe.lineHeight,n.lineHeight,Dt),Fe.align=qe&&qe.align||n.align,Fe.verticalAlign=qe&&qe.verticalAlign||"middle",Oe&&L!=null&&de+Fe.lineHeight>L){Ue>0?(Ie.tokens=Ie.tokens.slice(0,Ue),xe(Ie,ze,Ne),r.lines=r.lines.slice(0,$e+1)):r.lines=r.lines.slice(0,$e);break e}var jt=qe.width,Lt=jt==null||jt==="auto";if(typeof jt=="string"&&jt.charAt(jt.length-1)==="%")Fe.percentWidth=jt,ue.push(Fe),Fe.contentWidth=getWidth(Fe.text,kt);else{if(Lt){var hn=qe.backgroundColor,Sn=hn&&hn.image;Sn&&(Sn=findExistImage(Sn),isImageReady(Sn)&&(Fe.width=Math.max(Fe.width,Sn.width*Dt/Sn.height)))}var On=_e&&$!=null?$-ze:null;On!=null&&On<Fe.width?!Lt||On<At?(Fe.text="",Fe.width=Fe.contentWidth=0):(Fe.text=truncateText(Fe.text,On-At,kt,n.ellipsis,{minChar:n.truncateMinChar}),Fe.width=Fe.contentWidth=getWidth(Fe.text,kt)):Fe.contentWidth=getWidth(Fe.text,kt)}Fe.width+=At,ze+=Fe.width,qe&&(Ne=Math.max(Ne,Fe.lineHeight))}xe(Ie,ze,Ne)}r.outerWidth=r.width=retrieve2($,pe),r.outerHeight=r.height=retrieve2(L,de),r.contentHeight=de,r.contentWidth=pe,he&&(r.outerWidth+=he[1]+he[3],r.outerHeight+=he[0]+he[2]);for(var $e=0;$e<ue.length;$e++){var Fe=ue[$e],_n=Fe.percentWidth;Fe.width=parseInt(_n,10)/100*r.width}return r}function pushTokens(g,n,r,$,L){var V=n==="",oe=L&&r.rich[L]||{},re=g.lines,ae=oe.font||r.font,le=!1,ue,de;if($){var pe=oe.padding,he=pe?pe[1]+pe[3]:0;if(oe.width!=null&&oe.width!=="auto"){var _e=parsePercent$1(oe.width,$.width)+he;re.length>0&&_e+$.accumWidth>$.width&&(ue=n.split(`
`),le=!0),$.accumWidth=_e}else{var Oe=wrapText(n,ae,$.width,$.breakAll,$.accumWidth);$.accumWidth=Oe.accumWidth+he,de=Oe.linesWidths,ue=Oe.lines}}else ue=n.split(`
`);for(var xe=0;xe<ue.length;xe++){var $e=ue[xe],Ie=new RichTextToken;if(Ie.styleName=L,Ie.text=$e,Ie.isLineHolder=!$e&&!V,typeof oe.width=="number"?Ie.width=oe.width:Ie.width=de?de[xe]:getWidth($e,ae),!xe&&!le){var Ne=(re[re.length-1]||(re[0]=new RichTextLine)).tokens,ze=Ne.length;ze===1&&Ne[0].isLineHolder?Ne[0]=Ie:($e||!ze||V)&&Ne.push(Ie)}else re.push(new RichTextLine([Ie]))}}function isAlphabeticLetter(g){var n=g.charCodeAt(0);return n>=32&&n<=591||n>=880&&n<=4351||n>=4608&&n<=5119||n>=7680&&n<=8303}var breakCharMap=reduce(",&?/;] ".split(""),function(g,n){return g[n]=!0,g},{});function isWordBreakChar(g){return isAlphabeticLetter(g)?!!breakCharMap[g]:!0}function wrapText(g,n,r,$,L){for(var V=[],oe=[],re="",ae="",le=0,ue=0,de=0;de<g.length;de++){var pe=g.charAt(de);if(pe===`
`){ae&&(re+=ae,ue+=le),V.push(re),oe.push(ue),re="",ae="",le=0,ue=0;continue}var he=getWidth(pe,n),_e=$?!1:!isWordBreakChar(pe);if(V.length?ue+he>r:L+ue+he>r){ue?(re||ae)&&(_e?(re||(re=ae,ae="",le=0,ue=le),V.push(re),oe.push(ue-le),ae+=pe,le+=he,re="",ue=le):(ae&&(re+=ae,ae="",le=0),V.push(re),oe.push(ue),re=pe,ue=he)):_e?(V.push(ae),oe.push(le),ae=pe,le=he):(V.push(pe),oe.push(he));continue}ue+=he,_e?(ae+=pe,le+=he):(ae&&(re+=ae,ae="",le=0),re+=pe)}return!V.length&&!re&&(re=g,ae="",le=0),ae&&(re+=ae),re&&(V.push(re),oe.push(ue)),V.length===1&&(ue+=L),{accumWidth:ue,lines:V,linesWidths:oe}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype._init=function(r){for(var $=keys$2(r),L=0;L<$.length;L++){var V=$[L];V==="style"?this.useStyle(r[V]):g.prototype.attrKV.call(this,V,r[V])}this.style||this.useStyle({})},n.prototype.beforeBrush=function(){},n.prototype.afterBrush=function(){},n.prototype.innerBeforeBrush=function(){},n.prototype.innerAfterBrush=function(){},n.prototype.shouldBePainted=function(r,$,L,V){var oe=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,r,$)||oe&&!oe[0]&&!oe[3])return!1;if(L&&this.__clipPaths){for(var re=0;re<this.__clipPaths.length;++re)if(this.__clipPaths[re].isZeroArea())return!1}if(V&&this.parent)for(var ae=this.parent;ae;){if(ae.ignore)return!1;ae=ae.parent}return!0},n.prototype.contain=function(r,$){return this.rectContain(r,$)},n.prototype.traverse=function(r,$){r.call($,this)},n.prototype.rectContain=function(r,$){var L=this.transformCoordToLocal(r,$),V=this.getBoundingRect();return V.contain(L[0],L[1])},n.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var $=this.transform,L=this.getBoundingRect(),V=this.style,oe=V.shadowBlur||0,re=V.shadowOffsetX||0,ae=V.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new BoundingRect$1(0,0,0,0)),$?BoundingRect$1.applyTransform(r,L,$):r.copy(L),(oe||re||ae)&&(r.width+=oe*2+Math.abs(re),r.height+=oe*2+Math.abs(ae),r.x=Math.min(r.x,r.x+re-oe),r.y=Math.min(r.y,r.y+ae-oe));var le=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-le),r.y=Math.floor(r.y-le),r.width=Math.ceil(r.width+1+le*2),r.height=Math.ceil(r.height+1+le*2))}return r},n.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new BoundingRect$1(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},n.prototype.getPrevPaintRect=function(){return this._prevPaintRect},n.prototype.animateStyle=function(r){return this.animate("style",r)},n.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},n.prototype.attrKV=function(r,$){r!=="style"?g.prototype.attrKV.call(this,r,$):this.style?this.setStyle($):this.useStyle($)},n.prototype.setStyle=function(r,$){return typeof r=="string"?this.style[r]=$:extend$3(this.style,r),this.dirtyStyle(),this},n.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},n.prototype.dirty=function(){this.dirtyStyle()},n.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},n.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},n.prototype.createStyle=function(r){return createObject(DEFAULT_COMMON_STYLE,r)},n.prototype.useStyle=function(r){r[STYLE_MAGIC_KEY]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},n.prototype.isStyleObject=function(r){return r[STYLE_MAGIC_KEY]},n.prototype._innerSaveToNormal=function(r){g.prototype._innerSaveToNormal.call(this,r);var $=this._normalState;r.style&&!$.style&&($.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,$,PRIMARY_STATES_KEYS)},n.prototype._applyStateObj=function(r,$,L,V,oe,re){g.prototype._applyStateObj.call(this,r,$,L,V,oe,re);var ae=!($&&V),le;if($&&$.style?oe?V?le=$.style:(le=this._mergeStyle(this.createStyle(),L.style),this._mergeStyle(le,$.style)):(le=this._mergeStyle(this.createStyle(),V?this.style:L.style),this._mergeStyle(le,$.style)):ae&&(le=L.style),le)if(oe){var ue=this.style;if(this.style=this.createStyle(ae?{}:ue),ae)for(var de=keys$2(ue),pe=0;pe<de.length;pe++){var he=de[pe];he in le&&(le[he]=le[he],this.style[he]=ue[he])}for(var _e=keys$2(le),pe=0;pe<_e.length;pe++){var he=_e[pe];this.style[he]=this.style[he]}this._transitionState(r,{style:le},re,this.getAnimationStyleProps())}else this.useStyle(le);for(var Oe=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,pe=0;pe<Oe.length;pe++){var he=Oe[pe];$&&$[he]!=null?this[he]=$[he]:ae&&L[he]!=null&&(this[he]=L[he])}},n.prototype._mergeStates=function(r){for(var $=g.prototype._mergeStates.call(this,r),L,V=0;V<r.length;V++){var oe=r[V];oe.style&&(L=L||{},this._mergeStyle(L,oe.style))}return L&&($.style=L),$},n.prototype._mergeStyle=function(r,$){return extend$3(r,$),r},n.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},n.initDefaultProps=function(){var r=n.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),n}(Element$3),tmpRect=new BoundingRect$1(0,0,0,0),viewRect=new BoundingRect$1(0,0,0,0);function isDisplayableCulled(g,n,r){return tmpRect.copy(g.getBoundingRect()),g.transform&&tmpRect.applyTransform(g.transform),viewRect.width=n,viewRect.height=r,!tmpRect.intersect(viewRect)}const Displayable$1=Displayable;var mathMin$9=Math.min,mathMax$9=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$8=Math.PI*2,start=create$2(),end=create$2(),extremity=create$2();function fromPoints(g,n,r){if(g.length!==0){for(var $=g[0],L=$[0],V=$[0],oe=$[1],re=$[1],ae=1;ae<g.length;ae++)$=g[ae],L=mathMin$9(L,$[0]),V=mathMax$9(V,$[0]),oe=mathMin$9(oe,$[1]),re=mathMax$9(re,$[1]);n[0]=L,n[1]=oe,r[0]=V,r[1]=re}}function fromLine(g,n,r,$,L,V){L[0]=mathMin$9(g,r),L[1]=mathMin$9(n,$),V[0]=mathMax$9(g,r),V[1]=mathMax$9(n,$)}var xDim=[],yDim=[];function fromCubic(g,n,r,$,L,V,oe,re,ae,le){var ue=cubicExtrema,de=cubicAt,pe=ue(g,r,L,oe,xDim);ae[0]=1/0,ae[1]=1/0,le[0]=-1/0,le[1]=-1/0;for(var he=0;he<pe;he++){var _e=de(g,r,L,oe,xDim[he]);ae[0]=mathMin$9(_e,ae[0]),le[0]=mathMax$9(_e,le[0])}pe=ue(n,$,V,re,yDim);for(var he=0;he<pe;he++){var Oe=de(n,$,V,re,yDim[he]);ae[1]=mathMin$9(Oe,ae[1]),le[1]=mathMax$9(Oe,le[1])}ae[0]=mathMin$9(g,ae[0]),le[0]=mathMax$9(g,le[0]),ae[0]=mathMin$9(oe,ae[0]),le[0]=mathMax$9(oe,le[0]),ae[1]=mathMin$9(n,ae[1]),le[1]=mathMax$9(n,le[1]),ae[1]=mathMin$9(re,ae[1]),le[1]=mathMax$9(re,le[1])}function fromQuadratic(g,n,r,$,L,V,oe,re){var ae=quadraticExtremum,le=quadraticAt$1,ue=mathMax$9(mathMin$9(ae(g,r,L),1),0),de=mathMax$9(mathMin$9(ae(n,$,V),1),0),pe=le(g,r,L,ue),he=le(n,$,V,de);oe[0]=mathMin$9(g,L,pe),oe[1]=mathMin$9(n,V,he),re[0]=mathMax$9(g,L,pe),re[1]=mathMax$9(n,V,he)}function fromArc(g,n,r,$,L,V,oe,re,ae){var le=min$1,ue=max$1,de=Math.abs(L-V);if(de%PI2$8<1e-4&&de>1e-4){re[0]=g-r,re[1]=n-$,ae[0]=g+r,ae[1]=n+$;return}if(start[0]=mathCos$4(L)*r+g,start[1]=mathSin$4(L)*$+n,end[0]=mathCos$4(V)*r+g,end[1]=mathSin$4(V)*$+n,le(re,start,end),ue(ae,start,end),L=L%PI2$8,L<0&&(L=L+PI2$8),V=V%PI2$8,V<0&&(V=V+PI2$8),L>V&&!oe?V+=PI2$8:L<V&&oe&&(L+=PI2$8),oe){var pe=V;V=L,L=pe}for(var he=0;he<V;he+=Math.PI/2)he>L&&(extremity[0]=mathCos$4(he)*r+g,extremity[1]=mathSin$4(he)*$+n,le(re,extremity,re),ue(ae,extremity,ae))}var CMD$4={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$8=Math.min,mathMax$8=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$2=Math.abs,PI$8=Math.PI,PI2$7=PI$8*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(g){var n=Math.round(g/PI$8*1e8)/1e8;return n%2*PI$8}function normalizeArcAngles(g,n){var r=modPI2(g[0]);r<0&&(r+=PI2$7);var $=r-g[0],L=g[1];L+=$,!n&&L-r>=PI2$7?L=r+PI2$7:n&&r-L>=PI2$7?L=r-PI2$7:!n&&r>L?L=r+(PI2$7-modPI2(r-L)):n&&r<L&&(L=r-(PI2$7-modPI2(L-r))),g[0]=r,g[1]=L}var PathProxy=function(){function g(n){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,n&&(this._saveData=!1),this._saveData&&(this.data=[])}return g.prototype.increaseVersion=function(){this._version++},g.prototype.getVersion=function(){return this._version},g.prototype.setScale=function(n,r,$){$=$||0,$>0&&(this._ux=mathAbs$2($/devicePixelRatio/n)||0,this._uy=mathAbs$2($/devicePixelRatio/r)||0)},g.prototype.setDPR=function(n){this.dpr=n},g.prototype.setContext=function(n){this._ctx=n},g.prototype.getContext=function(){return this._ctx},g.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},g.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},g.prototype.moveTo=function(n,r){return this._drawPendingPt(),this.addData(CMD$4.M,n,r),this._ctx&&this._ctx.moveTo(n,r),this._x0=n,this._y0=r,this._xi=n,this._yi=r,this},g.prototype.lineTo=function(n,r){var $=mathAbs$2(n-this._xi),L=mathAbs$2(r-this._yi),V=$>this._ux||L>this._uy;if(this.addData(CMD$4.L,n,r),this._ctx&&V&&this._ctx.lineTo(n,r),V)this._xi=n,this._yi=r,this._pendingPtDist=0;else{var oe=$*$+L*L;oe>this._pendingPtDist&&(this._pendingPtX=n,this._pendingPtY=r,this._pendingPtDist=oe)}return this},g.prototype.bezierCurveTo=function(n,r,$,L,V,oe){return this._drawPendingPt(),this.addData(CMD$4.C,n,r,$,L,V,oe),this._ctx&&this._ctx.bezierCurveTo(n,r,$,L,V,oe),this._xi=V,this._yi=oe,this},g.prototype.quadraticCurveTo=function(n,r,$,L){return this._drawPendingPt(),this.addData(CMD$4.Q,n,r,$,L),this._ctx&&this._ctx.quadraticCurveTo(n,r,$,L),this._xi=$,this._yi=L,this},g.prototype.arc=function(n,r,$,L,V,oe){this._drawPendingPt(),tmpAngles[0]=L,tmpAngles[1]=V,normalizeArcAngles(tmpAngles,oe),L=tmpAngles[0],V=tmpAngles[1];var re=V-L;return this.addData(CMD$4.A,n,r,$,$,L,re,0,oe?0:1),this._ctx&&this._ctx.arc(n,r,$,L,V,oe),this._xi=mathCos$3(V)*$+n,this._yi=mathSin$3(V)*$+r,this},g.prototype.arcTo=function(n,r,$,L,V){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(n,r,$,L,V),this},g.prototype.rect=function(n,r,$,L){return this._drawPendingPt(),this._ctx&&this._ctx.rect(n,r,$,L),this.addData(CMD$4.R,n,r,$,L),this},g.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$4.Z);var n=this._ctx,r=this._x0,$=this._y0;return n&&n.closePath(),this._xi=r,this._yi=$,this},g.prototype.fill=function(n){n&&n.fill(),this.toStatic()},g.prototype.stroke=function(n){n&&n.stroke(),this.toStatic()},g.prototype.len=function(){return this._len},g.prototype.setData=function(n){var r=n.length;!(this.data&&this.data.length===r)&&hasTypedArray&&(this.data=new Float32Array(r));for(var $=0;$<r;$++)this.data[$]=n[$];this._len=r},g.prototype.appendPath=function(n){n instanceof Array||(n=[n]);for(var r=n.length,$=0,L=this._len,V=0;V<r;V++)$+=n[V].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(L+$));for(var V=0;V<r;V++)for(var oe=n[V].data,re=0;re<oe.length;re++)this.data[L++]=oe[re];this._len=L},g.prototype.addData=function(n,r,$,L,V,oe,re,ae,le){if(this._saveData){var ue=this.data;this._len+arguments.length>ue.length&&(this._expandData(),ue=this.data);for(var de=0;de<arguments.length;de++)ue[this._len++]=arguments[de]}},g.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},g.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var n=[],r=0;r<this._len;r++)n[r]=this.data[r];this.data=n}},g.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var n=this.data;n instanceof Array&&(n.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(n)))}},g.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var n=this.data,r=0,$=0,L=0,V=0,oe;for(oe=0;oe<this._len;){var re=n[oe++],ae=oe===1;switch(ae&&(r=n[oe],$=n[oe+1],L=r,V=$),re){case CMD$4.M:r=L=n[oe++],$=V=n[oe++],min2[0]=L,min2[1]=V,max2[0]=L,max2[1]=V;break;case CMD$4.L:fromLine(r,$,n[oe],n[oe+1],min2,max2),r=n[oe++],$=n[oe++];break;case CMD$4.C:fromCubic(r,$,n[oe++],n[oe++],n[oe++],n[oe++],n[oe],n[oe+1],min2,max2),r=n[oe++],$=n[oe++];break;case CMD$4.Q:fromQuadratic(r,$,n[oe++],n[oe++],n[oe],n[oe+1],min2,max2),r=n[oe++],$=n[oe++];break;case CMD$4.A:var le=n[oe++],ue=n[oe++],de=n[oe++],pe=n[oe++],he=n[oe++],_e=n[oe++]+he;oe+=1;var Oe=!n[oe++];ae&&(L=mathCos$3(he)*de+le,V=mathSin$3(he)*pe+ue),fromArc(le,ue,de,pe,he,_e,Oe,min2,max2),r=mathCos$3(_e)*de+le,$=mathSin$3(_e)*pe+ue;break;case CMD$4.R:L=r=n[oe++],V=$=n[oe++];var xe=n[oe++],$e=n[oe++];fromLine(L,V,L+xe,V+$e,min2,max2);break;case CMD$4.Z:r=L,$=V;break}min$1(min,min,min2),max$1(max,max,max2)}return oe===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect$1(min[0],min[1],max[0]-min[0],max[1]-min[1])},g.prototype._calculateLength=function(){var n=this.data,r=this._len,$=this._ux,L=this._uy,V=0,oe=0,re=0,ae=0;this._pathSegLen||(this._pathSegLen=[]);for(var le=this._pathSegLen,ue=0,de=0,pe=0;pe<r;){var he=n[pe++],_e=pe===1;_e&&(V=n[pe],oe=n[pe+1],re=V,ae=oe);var Oe=-1;switch(he){case CMD$4.M:V=re=n[pe++],oe=ae=n[pe++];break;case CMD$4.L:{var xe=n[pe++],$e=n[pe++],Ie=xe-V,Ne=$e-oe;(mathAbs$2(Ie)>$||mathAbs$2(Ne)>L||pe===r-1)&&(Oe=Math.sqrt(Ie*Ie+Ne*Ne),V=xe,oe=$e);break}case CMD$4.C:{var ze=n[pe++],Ue=n[pe++],xe=n[pe++],$e=n[pe++],Fe=n[pe++],qe=n[pe++];Oe=cubicLength(V,oe,ze,Ue,xe,$e,Fe,qe,10),V=Fe,oe=qe;break}case CMD$4.Q:{var ze=n[pe++],Ue=n[pe++],xe=n[pe++],$e=n[pe++];Oe=quadraticLength(V,oe,ze,Ue,xe,$e,10),V=xe,oe=$e;break}case CMD$4.A:var Et=n[pe++],At=n[pe++],kt=n[pe++],Dt=n[pe++],jt=n[pe++],Lt=n[pe++],hn=Lt+jt;pe+=1,n[pe++],_e&&(re=mathCos$3(jt)*kt+Et,ae=mathSin$3(jt)*Dt+At),Oe=mathMax$8(kt,Dt)*mathMin$8(PI2$7,Math.abs(Lt)),V=mathCos$3(hn)*kt+Et,oe=mathSin$3(hn)*Dt+At;break;case CMD$4.R:{re=V=n[pe++],ae=oe=n[pe++];var Sn=n[pe++],On=n[pe++];Oe=Sn*2+On*2;break}case CMD$4.Z:{var Ie=re-V,Ne=ae-oe;Oe=Math.sqrt(Ie*Ie+Ne*Ne),V=re,oe=ae;break}}Oe>=0&&(le[de++]=Oe,ue+=Oe)}return this._pathLen=ue,ue},g.prototype.rebuildPath=function(n,r){var $=this.data,L=this._ux,V=this._uy,oe=this._len,re,ae,le,ue,de,pe,he=r<1,_e,Oe,xe=0,$e=0,Ie,Ne=0,ze,Ue;if(he&&(this._pathSegLen||this._calculateLength(),_e=this._pathSegLen,Oe=this._pathLen,Ie=r*Oe,!Ie))return;e:for(var Fe=0;Fe<oe;){var qe=$[Fe++],Et=Fe===1;switch(Et&&(le=$[Fe],ue=$[Fe+1],re=le,ae=ue),qe!==CMD$4.L&&Ne>0&&(n.lineTo(ze,Ue),Ne=0),qe){case CMD$4.M:re=le=$[Fe++],ae=ue=$[Fe++],n.moveTo(le,ue);break;case CMD$4.L:{de=$[Fe++],pe=$[Fe++];var At=mathAbs$2(de-le),kt=mathAbs$2(pe-ue);if(At>L||kt>V){if(he){var Dt=_e[$e++];if(xe+Dt>Ie){var jt=(Ie-xe)/Dt;n.lineTo(le*(1-jt)+de*jt,ue*(1-jt)+pe*jt);break e}xe+=Dt}n.lineTo(de,pe),le=de,ue=pe,Ne=0}else{var Lt=At*At+kt*kt;Lt>Ne&&(ze=de,Ue=pe,Ne=Lt)}break}case CMD$4.C:{var hn=$[Fe++],Sn=$[Fe++],On=$[Fe++],_n=$[Fe++],xn=$[Fe++],bn=$[Fe++];if(he){var Dt=_e[$e++];if(xe+Dt>Ie){var jt=(Ie-xe)/Dt;cubicSubdivide(le,hn,On,xn,jt,tmpOutX),cubicSubdivide(ue,Sn,_n,bn,jt,tmpOutY),n.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}xe+=Dt}n.bezierCurveTo(hn,Sn,On,_n,xn,bn),le=xn,ue=bn;break}case CMD$4.Q:{var hn=$[Fe++],Sn=$[Fe++],On=$[Fe++],_n=$[Fe++];if(he){var Dt=_e[$e++];if(xe+Dt>Ie){var jt=(Ie-xe)/Dt;quadraticSubdivide(le,hn,On,jt,tmpOutX),quadraticSubdivide(ue,Sn,_n,jt,tmpOutY),n.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}xe+=Dt}n.quadraticCurveTo(hn,Sn,On,_n),le=On,ue=_n;break}case CMD$4.A:var Tn=$[Fe++],An=$[Fe++],En=$[Fe++],Ln=$[Fe++],Wn=$[Fe++],Mn=$[Fe++],Fn=$[Fe++],In=!$[Fe++],Nn=En>Ln?En:Ln,Vn=mathAbs$2(En-Ln)>.001,Un=Wn+Mn,Gn=!1;if(he){var Dt=_e[$e++];xe+Dt>Ie&&(Un=Wn+Mn*(Ie-xe)/Dt,Gn=!0),xe+=Dt}if(Vn&&n.ellipse?n.ellipse(Tn,An,En,Ln,Fn,Wn,Un,In):n.arc(Tn,An,Nn,Wn,Un,In),Gn)break e;Et&&(re=mathCos$3(Wn)*En+Tn,ae=mathSin$3(Wn)*Ln+An),le=mathCos$3(Un)*En+Tn,ue=mathSin$3(Un)*Ln+An;break;case CMD$4.R:re=le=$[Fe],ae=ue=$[Fe+1],de=$[Fe++],pe=$[Fe++];var $n=$[Fe++],kn=$[Fe++];if(he){var Dt=_e[$e++];if(xe+Dt>Ie){var Bn=Ie-xe;n.moveTo(de,pe),n.lineTo(de+mathMin$8(Bn,$n),pe),Bn-=$n,Bn>0&&n.lineTo(de+$n,pe+mathMin$8(Bn,kn)),Bn-=kn,Bn>0&&n.lineTo(de+mathMax$8($n-Bn,0),pe+kn),Bn-=$n,Bn>0&&n.lineTo(de,pe+mathMax$8(kn-Bn,0));break e}xe+=Dt}n.rect(de,pe,$n,kn);break;case CMD$4.Z:if(he){var Dt=_e[$e++];if(xe+Dt>Ie){var jt=(Ie-xe)/Dt;n.lineTo(le*(1-jt)+re*jt,ue*(1-jt)+ae*jt);break e}xe+=Dt}n.closePath(),le=re,ue=ae}}},g.prototype.clone=function(){var n=new g,r=this.data;return n.data=r.slice?r.slice():Array.prototype.slice.call(r),n._len=this._len,n},g.CMD=CMD$4,g.initDefaultProps=function(){var n=g.prototype;n._saveData=!0,n._ux=0,n._uy=0,n._pendingPtDist=0,n._version=0}(),g}();const PathProxy$1=PathProxy;function containStroke$4(g,n,r,$,L,V,oe){if(L===0)return!1;var re=L,ae=0,le=g;if(oe>n+re&&oe>$+re||oe<n-re&&oe<$-re||V>g+re&&V>r+re||V<g-re&&V<r-re)return!1;if(g!==r)ae=(n-$)/(g-r),le=(g*$-r*n)/(g-r);else return Math.abs(V-g)<=re/2;var ue=ae*V-oe+le,de=ue*ue/(ae*ae+1);return de<=re/2*re/2}function containStroke$3(g,n,r,$,L,V,oe,re,ae,le,ue){if(ae===0)return!1;var de=ae;if(ue>n+de&&ue>$+de&&ue>V+de&&ue>re+de||ue<n-de&&ue<$-de&&ue<V-de&&ue<re-de||le>g+de&&le>r+de&&le>L+de&&le>oe+de||le<g-de&&le<r-de&&le<L-de&&le<oe-de)return!1;var pe=cubicProjectPoint(g,n,r,$,L,V,oe,re,le,ue,null);return pe<=de/2}function containStroke$2(g,n,r,$,L,V,oe,re,ae){if(oe===0)return!1;var le=oe;if(ae>n+le&&ae>$+le&&ae>V+le||ae<n-le&&ae<$-le&&ae<V-le||re>g+le&&re>r+le&&re>L+le||re<g-le&&re<r-le&&re<L-le)return!1;var ue=quadraticProjectPoint(g,n,r,$,L,V,re,ae,null);return ue<=le/2}var PI2$6=Math.PI*2;function normalizeRadian(g){return g%=PI2$6,g<0&&(g+=PI2$6),g}var PI2$5=Math.PI*2;function containStroke$1(g,n,r,$,L,V,oe,re,ae){if(oe===0)return!1;var le=oe;re-=g,ae-=n;var ue=Math.sqrt(re*re+ae*ae);if(ue-le>r||ue+le<r)return!1;if(Math.abs($-L)%PI2$5<1e-4)return!0;if(V){var de=$;$=normalizeRadian(L),L=normalizeRadian(de)}else $=normalizeRadian($),L=normalizeRadian(L);$>L&&(L+=PI2$5);var pe=Math.atan2(ae,re);return pe<0&&(pe+=PI2$5),pe>=$&&pe<=L||pe+PI2$5>=$&&pe+PI2$5<=L}function windingLine(g,n,r,$,L,V){if(V>n&&V>$||V<n&&V<$||$===n)return 0;var oe=(V-n)/($-n),re=$<n?1:-1;(oe===1||oe===0)&&(re=$<n?.5:-.5);var ae=oe*(r-g)+g;return ae===L?1/0:ae>L?re:0}var CMD$3=PathProxy$1.CMD,PI2$4=Math.PI*2,EPSILON$1=1e-4;function isAroundEqual$1(g,n){return Math.abs(g-n)<EPSILON$1}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var g=extrema[0];extrema[0]=extrema[1],extrema[1]=g}function windingCubic(g,n,r,$,L,V,oe,re,ae,le){if(le>n&&le>$&&le>V&&le>re||le<n&&le<$&&le<V&&le<re)return 0;var ue=cubicRootAt(n,$,V,re,le,roots);if(ue===0)return 0;for(var de=0,pe=-1,he=void 0,_e=void 0,Oe=0;Oe<ue;Oe++){var xe=roots[Oe],$e=xe===0||xe===1?.5:1,Ie=cubicAt(g,r,L,oe,xe);Ie<ae||(pe<0&&(pe=cubicExtrema(n,$,V,re,extrema),extrema[1]<extrema[0]&&pe>1&&swapExtrema(),he=cubicAt(n,$,V,re,extrema[0]),pe>1&&(_e=cubicAt(n,$,V,re,extrema[1]))),pe===2?xe<extrema[0]?de+=he<n?$e:-$e:xe<extrema[1]?de+=_e<he?$e:-$e:de+=re<_e?$e:-$e:xe<extrema[0]?de+=he<n?$e:-$e:de+=re<he?$e:-$e)}return de}function windingQuadratic(g,n,r,$,L,V,oe,re){if(re>n&&re>$&&re>V||re<n&&re<$&&re<V)return 0;var ae=quadraticRootAt(n,$,V,re,roots);if(ae===0)return 0;var le=quadraticExtremum(n,$,V);if(le>=0&&le<=1){for(var ue=0,de=quadraticAt$1(n,$,V,le),pe=0;pe<ae;pe++){var he=roots[pe]===0||roots[pe]===1?.5:1,_e=quadraticAt$1(g,r,L,roots[pe]);_e<oe||(roots[pe]<le?ue+=de<n?he:-he:ue+=V<de?he:-he)}return ue}else{var he=roots[0]===0||roots[0]===1?.5:1,_e=quadraticAt$1(g,r,L,roots[0]);return _e<oe?0:V<n?he:-he}}function windingArc(g,n,r,$,L,V,oe,re){if(re-=n,re>r||re<-r)return 0;var ae=Math.sqrt(r*r-re*re);roots[0]=-ae,roots[1]=ae;var le=Math.abs($-L);if(le<1e-4)return 0;if(le>=PI2$4-1e-4){$=0,L=PI2$4;var ue=V?1:-1;return oe>=roots[0]+g&&oe<=roots[1]+g?ue:0}if($>L){var de=$;$=L,L=de}$<0&&($+=PI2$4,L+=PI2$4);for(var pe=0,he=0;he<2;he++){var _e=roots[he];if(_e+g>oe){var Oe=Math.atan2(re,_e),ue=V?1:-1;Oe<0&&(Oe=PI2$4+Oe),(Oe>=$&&Oe<=L||Oe+PI2$4>=$&&Oe+PI2$4<=L)&&(Oe>Math.PI/2&&Oe<Math.PI*1.5&&(ue=-ue),pe+=ue)}}return pe}function containPath(g,n,r,$,L){for(var V=g.data,oe=g.len(),re=0,ae=0,le=0,ue=0,de=0,pe,he,_e=0;_e<oe;){var Oe=V[_e++],xe=_e===1;switch(Oe===CMD$3.M&&_e>1&&(r||(re+=windingLine(ae,le,ue,de,$,L))),xe&&(ae=V[_e],le=V[_e+1],ue=ae,de=le),Oe){case CMD$3.M:ue=V[_e++],de=V[_e++],ae=ue,le=de;break;case CMD$3.L:if(r){if(containStroke$4(ae,le,V[_e],V[_e+1],n,$,L))return!0}else re+=windingLine(ae,le,V[_e],V[_e+1],$,L)||0;ae=V[_e++],le=V[_e++];break;case CMD$3.C:if(r){if(containStroke$3(ae,le,V[_e++],V[_e++],V[_e++],V[_e++],V[_e],V[_e+1],n,$,L))return!0}else re+=windingCubic(ae,le,V[_e++],V[_e++],V[_e++],V[_e++],V[_e],V[_e+1],$,L)||0;ae=V[_e++],le=V[_e++];break;case CMD$3.Q:if(r){if(containStroke$2(ae,le,V[_e++],V[_e++],V[_e],V[_e+1],n,$,L))return!0}else re+=windingQuadratic(ae,le,V[_e++],V[_e++],V[_e],V[_e+1],$,L)||0;ae=V[_e++],le=V[_e++];break;case CMD$3.A:var $e=V[_e++],Ie=V[_e++],Ne=V[_e++],ze=V[_e++],Ue=V[_e++],Fe=V[_e++];_e+=1;var qe=!!(1-V[_e++]);pe=Math.cos(Ue)*Ne+$e,he=Math.sin(Ue)*ze+Ie,xe?(ue=pe,de=he):re+=windingLine(ae,le,pe,he,$,L);var Et=($-$e)*ze/Ne+$e;if(r){if(containStroke$1($e,Ie,ze,Ue,Ue+Fe,qe,n,Et,L))return!0}else re+=windingArc($e,Ie,ze,Ue,Ue+Fe,qe,Et,L);ae=Math.cos(Ue+Fe)*Ne+$e,le=Math.sin(Ue+Fe)*ze+Ie;break;case CMD$3.R:ue=ae=V[_e++],de=le=V[_e++];var At=V[_e++],kt=V[_e++];if(pe=ue+At,he=de+kt,r){if(containStroke$4(ue,de,pe,de,n,$,L)||containStroke$4(pe,de,pe,he,n,$,L)||containStroke$4(pe,he,ue,he,n,$,L)||containStroke$4(ue,he,ue,de,n,$,L))return!0}else re+=windingLine(pe,de,pe,he,$,L),re+=windingLine(ue,he,ue,de,$,L);break;case CMD$3.Z:if(r){if(containStroke$4(ae,le,ue,de,n,$,L))return!0}else re+=windingLine(ae,le,ue,de,$,L);ae=ue,le=de;break}}return!r&&!isAroundEqual$1(le,de)&&(re+=windingLine(ae,le,ue,de,$,L)||0),re!==0}function contain$2(g,n,r){return containPath(g,0,!1,n,r)}function containStroke(g,n,r,$){return containPath(g,n,!0,r,$)}var DEFAULT_PATH_STYLE=defaults$5({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults$5({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.update=function(){var r=this;g.prototype.update.call(this);var $=this.style;if($.decal){var L=this._decalEl=this._decalEl||new n;L.buildPath===n.prototype.buildPath&&(L.buildPath=function(ae){r.buildPath(ae,r.shape)}),L.silent=!0;var V=L.style;for(var oe in $)V[oe]!==$[oe]&&(V[oe]=$[oe]);V.fill=$.fill?$.decal:null,V.decal=null,V.shadowColor=null,$.strokeFirst&&(V.stroke=null);for(var re=0;re<pathCopyParams.length;++re)L[pathCopyParams[re]]=this[pathCopyParams[re]];L.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},n.prototype.getDecalElement=function(){return this._decalEl},n.prototype._init=function(r){var $=keys$2(r);this.shape=this.getDefaultShape();var L=this.getDefaultStyle();L&&this.useStyle(L);for(var V=0;V<$.length;V++){var oe=$[V],re=r[oe];oe==="style"?this.style?extend$3(this.style,re):this.useStyle(re):oe==="shape"?extend$3(this.shape,re):g.prototype.attrKV.call(this,oe,re)}this.style||this.useStyle({})},n.prototype.getDefaultStyle=function(){return null},n.prototype.getDefaultShape=function(){return{}},n.prototype.canBeInsideText=function(){return this.hasFill()},n.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(isString$3(r)){var $=lum(r,0);return $>.5?DARK_LABEL_COLOR:$>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(r)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},n.prototype.getInsideTextStroke=function(r){var $=this.style.fill;if(isString$3($)){var L=this.__zr,V=!!(L&&L.isDarkMode()),oe=lum(r,0)<DARK_MODE_THRESHOLD;if(V===oe)return $}},n.prototype.buildPath=function(r,$,L){},n.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},n.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},n.prototype.createPathProxy=function(){this.path=new PathProxy$1(!1)},n.prototype.hasStroke=function(){var r=this.style,$=r.stroke;return!($==null||$==="none"||!(r.lineWidth>0))},n.prototype.hasFill=function(){var r=this.style,$=r.fill;return $!=null&&$!=="none"},n.prototype.getBoundingRect=function(){var r=this._rect,$=this.style,L=!r;if(L){var V=!1;this.path||(V=!0,this.createPathProxy());var oe=this.path;(V||this.__dirty&SHAPE_CHANGED_BIT)&&(oe.beginPath(),this.buildPath(oe,this.shape,!1),this.pathUpdated()),r=oe.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var re=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||L){re.copy(r);var ae=$.strokeNoScale?this.getLineScale():1,le=$.lineWidth;if(!this.hasFill()){var ue=this.strokeContainThreshold;le=Math.max(le,ue!=null?ue:4)}ae>1e-10&&(re.width+=le/ae,re.height+=le/ae,re.x-=le/ae/2,re.y-=le/ae/2)}return re}return r},n.prototype.contain=function(r,$){var L=this.transformCoordToLocal(r,$),V=this.getBoundingRect(),oe=this.style;if(r=L[0],$=L[1],V.contain(r,$)){var re=this.path;if(this.hasStroke()){var ae=oe.lineWidth,le=oe.strokeNoScale?this.getLineScale():1;if(le>1e-10&&(this.hasFill()||(ae=Math.max(ae,this.strokeContainThreshold)),containStroke(re,ae/le,r,$)))return!0}if(this.hasFill())return contain$2(re,r,$)}return!1},n.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},n.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},n.prototype.animateShape=function(r){return this.animate("shape",r)},n.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},n.prototype.attrKV=function(r,$){r==="shape"?this.setShape($):g.prototype.attrKV.call(this,r,$)},n.prototype.setShape=function(r,$){var L=this.shape;return L||(L=this.shape={}),typeof r=="string"?L[r]=$:extend$3(L,r),this.dirtyShape(),this},n.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},n.prototype.createStyle=function(r){return createObject(DEFAULT_PATH_STYLE,r)},n.prototype._innerSaveToNormal=function(r){g.prototype._innerSaveToNormal.call(this,r);var $=this._normalState;r.shape&&!$.shape&&($.shape=extend$3({},this.shape))},n.prototype._applyStateObj=function(r,$,L,V,oe,re){g.prototype._applyStateObj.call(this,r,$,L,V,oe,re);var ae=!($&&V),le;if($&&$.shape?oe?V?le=$.shape:(le=extend$3({},L.shape),extend$3(le,$.shape)):(le=extend$3({},V?this.shape:L.shape),extend$3(le,$.shape)):ae&&(le=L.shape),le)if(oe){this.shape=extend$3({},this.shape);for(var ue={},de=keys$2(le),pe=0;pe<de.length;pe++){var he=de[pe];typeof le[he]=="object"?this.shape[he]=le[he]:ue[he]=le[he]}this._transitionState(r,{shape:ue},re)}else this.shape=le,this.dirtyShape()},n.prototype._mergeStates=function(r){for(var $=g.prototype._mergeStates.call(this,r),L,V=0;V<r.length;V++){var oe=r[V];oe.shape&&(L=L||{},this._mergeStyle(L,oe.shape))}return L&&($.shape=L),$},n.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},n.prototype.isZeroArea=function(){return!1},n.extend=function(r){var $=function(V){__extends(oe,V);function oe(re){var ae=V.call(this,re)||this;return r.init&&r.init.call(ae,re),ae}return oe.prototype.getDefaultStyle=function(){return clone$5(r.style)},oe.prototype.getDefaultShape=function(){return clone$5(r.shape)},oe}(n);for(var L in r)typeof r[L]=="function"&&($.prototype[L]=r[L]);return $},n.initDefaultProps=function(){var r=n.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),n}(Displayable$1);const Path$1=Path;var DEFAULT_TSPAN_STYLE=defaults$5({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.hasStroke=function(){var r=this.style,$=r.stroke;return $!=null&&$!=="none"&&r.lineWidth>0},n.prototype.hasFill=function(){var r=this.style,$=r.fill;return $!=null&&$!=="none"},n.prototype.createStyle=function(r){return createObject(DEFAULT_TSPAN_STYLE,r)},n.prototype.setBoundingRect=function(r){this._rect=r},n.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var $=r.text;$!=null?$+="":$="";var L=getBoundingRect($,r.font,r.textAlign,r.textBaseline);if(L.x+=r.x||0,L.y+=r.y||0,this.hasStroke()){var V=r.lineWidth;L.x-=V/2,L.y-=V/2,L.width+=V,L.height+=V}this._rect=L}return this._rect},n.initDefaultProps=function(){var r=n.prototype;r.dirtyRectTolerance=10}(),n}(Displayable$1);TSpan.prototype.type="tspan";const TSpan$1=TSpan;var DEFAULT_IMAGE_STYLE=defaults$5({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults$5({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(g){return!!(g&&typeof g!="string"&&g.width&&g.height)}var ZRImage=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.createStyle=function(r){return createObject(DEFAULT_IMAGE_STYLE,r)},n.prototype._getSize=function(r){var $=this.style,L=$[r];if(L!=null)return L;var V=isImageLike$1($.image)?$.image:this.__image;if(!V)return 0;var oe=r==="width"?"height":"width",re=$[oe];return re==null?V[r]:V[r]/V[oe]*re},n.prototype.getWidth=function(){return this._getSize("width")},n.prototype.getHeight=function(){return this._getSize("height")},n.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},n.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new BoundingRect$1(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},n}(Displayable$1);ZRImage.prototype.type="image";const ZRImage$1=ZRImage;function buildPath$2(g,n){var r=n.x,$=n.y,L=n.width,V=n.height,oe=n.r,re,ae,le,ue;L<0&&(r=r+L,L=-L),V<0&&($=$+V,V=-V),typeof oe=="number"?re=ae=le=ue=oe:oe instanceof Array?oe.length===1?re=ae=le=ue=oe[0]:oe.length===2?(re=le=oe[0],ae=ue=oe[1]):oe.length===3?(re=oe[0],ae=ue=oe[1],le=oe[2]):(re=oe[0],ae=oe[1],le=oe[2],ue=oe[3]):re=ae=le=ue=0;var de;re+ae>L&&(de=re+ae,re*=L/de,ae*=L/de),le+ue>L&&(de=le+ue,le*=L/de,ue*=L/de),ae+le>V&&(de=ae+le,ae*=V/de,le*=V/de),re+ue>V&&(de=re+ue,re*=V/de,ue*=V/de),g.moveTo(r+re,$),g.lineTo(r+L-ae,$),ae!==0&&g.arc(r+L-ae,$+ae,ae,-Math.PI/2,0),g.lineTo(r+L,$+V-le),le!==0&&g.arc(r+L-le,$+V-le,le,0,Math.PI/2),g.lineTo(r+ue,$+V),ue!==0&&g.arc(r+ue,$+V-ue,ue,Math.PI/2,Math.PI),g.lineTo(r,$+re),re!==0&&g.arc(r+re,$+re,re,Math.PI,Math.PI*1.5)}var round$2=Math.round;function subPixelOptimizeLine$1(g,n,r){if(n){var $=n.x1,L=n.x2,V=n.y1,oe=n.y2;g.x1=$,g.x2=L,g.y1=V,g.y2=oe;var re=r&&r.lineWidth;return re&&(round$2($*2)===round$2(L*2)&&(g.x1=g.x2=subPixelOptimize$1($,re,!0)),round$2(V*2)===round$2(oe*2)&&(g.y1=g.y2=subPixelOptimize$1(V,re,!0))),g}}function subPixelOptimizeRect$1(g,n,r){if(n){var $=n.x,L=n.y,V=n.width,oe=n.height;g.x=$,g.y=L,g.width=V,g.height=oe;var re=r&&r.lineWidth;return re&&(g.x=subPixelOptimize$1($,re,!0),g.y=subPixelOptimize$1(L,re,!0),g.width=Math.max(subPixelOptimize$1($+V,re,!1)-g.x,V===0?0:1),g.height=Math.max(subPixelOptimize$1(L+oe,re,!1)-g.y,oe===0?0:1)),g}}function subPixelOptimize$1(g,n,r){if(!n)return g;var $=round$2(g*2);return($+round$2(n))%2===0?$/2:($+(r?1:-1))/2}var RectShape=function(){function g(){this.x=0,this.y=0,this.width=0,this.height=0}return g}(),subPixelOptimizeOutputShape$1={},Rect$2=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new RectShape},n.prototype.buildPath=function(r,$){var L,V,oe,re;if(this.subPixelOptimize){var ae=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,$,this.style);L=ae.x,V=ae.y,oe=ae.width,re=ae.height,ae.r=$.r,$=ae}else L=$.x,V=$.y,oe=$.width,re=$.height;$.r?buildPath$2(r,$):r.rect(L,V,oe,re)},n.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},n}(Path$1);Rect$2.prototype.type="rect";const Rect$3=Rect$2;var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults$5({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(g){__extends(n,g);function n(r){var $=g.call(this)||this;return $.type="text",$._children=[],$._defaultStyle=DEFAULT_RICH_TEXT_COLOR,$.attr(r),$}return n.prototype.childrenRef=function(){return this._children},n.prototype.update=function(){g.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var $=this._children[r];$.zlevel=this.zlevel,$.z=this.z,$.z2=this.z2,$.culling=this.culling,$.cursor=this.cursor,$.invisible=this.invisible}},n.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):g.prototype.updateTransform.call(this)},n.prototype.getLocalTransform=function(r){var $=this.innerTransformable;return $?$.getLocalTransform(r):g.prototype.getLocalTransform.call(this,r)},n.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),g.prototype.getComputedTransform.call(this)},n.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},n.prototype.addSelfToZr=function(r){g.prototype.addSelfToZr.call(this,r);for(var $=0;$<this._children.length;$++)this._children[$].__zr=r},n.prototype.removeSelfFromZr=function(r){g.prototype.removeSelfFromZr.call(this,r);for(var $=0;$<this._children.length;$++)this._children[$].__zr=null},n.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new BoundingRect$1(0,0,0,0),$=this._children,L=[],V=null,oe=0;oe<$.length;oe++){var re=$[oe],ae=re.getBoundingRect(),le=re.getLocalTransform(L);le?(r.copy(ae),r.applyTransform(le),V=V||r.clone(),V.union(r)):(V=V||ae.clone(),V.union(ae))}this._rect=V||r}return this._rect},n.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||DEFAULT_RICH_TEXT_COLOR},n.prototype.setTextContent=function(r){},n.prototype._mergeStyle=function(r,$){if(!$)return r;var L=$.rich,V=r.rich||L&&{};return extend$3(r,$),L&&V?(this._mergeRich(V,L),r.rich=V):V&&(r.rich=V),r},n.prototype._mergeRich=function(r,$){for(var L=keys$2($),V=0;V<L.length;V++){var oe=L[V];r[oe]=r[oe]||{},extend$3(r[oe],$[oe])}},n.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},n.prototype._getOrCreateChild=function(r){var $=this._children[this._childCursor];return(!$||!($ instanceof r))&&($=new r),this._children[this._childCursor++]=$,$.__zr=this.__zr,$.parent=this,$},n.prototype._updatePlainTexts=function(){var r=this.style,$=r.font||DEFAULT_FONT,L=r.padding,V=getStyleText(r),oe=parsePlainText(V,r),re=needDrawBackground(r),ae=!!r.backgroundColor,le=oe.outerHeight,ue=oe.outerWidth,de=oe.contentWidth,pe=oe.lines,he=oe.lineHeight,_e=this._defaultStyle,Oe=r.x||0,xe=r.y||0,$e=r.align||_e.align||"left",Ie=r.verticalAlign||_e.verticalAlign||"top",Ne=Oe,ze=adjustTextY(xe,oe.contentHeight,Ie);if(re||L){var Ue=adjustTextX(Oe,ue,$e),Fe=adjustTextY(xe,le,Ie);re&&this._renderBackground(r,r,Ue,Fe,ue,le)}ze+=he/2,L&&(Ne=getTextXForPadding(Oe,$e,L),Ie==="top"?ze+=L[0]:Ie==="bottom"&&(ze-=L[2]));for(var qe=0,Et=!1,At=getFill("fill"in r?r.fill:(Et=!0,_e.fill)),kt=getStroke("stroke"in r?r.stroke:!ae&&(!_e.autoStroke||Et)?(qe=DEFAULT_STROKE_LINE_WIDTH,_e.stroke):null),Dt=r.textShadowBlur>0,jt=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),Lt=oe.calculatedLineHeight,hn=0;hn<pe.length;hn++){var Sn=this._getOrCreateChild(TSpan$1),On=Sn.createStyle();Sn.useStyle(On),On.text=pe[hn],On.x=Ne,On.y=ze,$e&&(On.textAlign=$e),On.textBaseline="middle",On.opacity=r.opacity,On.strokeFirst=!0,Dt&&(On.shadowBlur=r.textShadowBlur||0,On.shadowColor=r.textShadowColor||"transparent",On.shadowOffsetX=r.textShadowOffsetX||0,On.shadowOffsetY=r.textShadowOffsetY||0),On.stroke=kt,On.fill=At,kt&&(On.lineWidth=r.lineWidth||qe,On.lineDash=r.lineDash,On.lineDashOffset=r.lineDashOffset||0),On.font=$,setSeparateFont(On,r),ze+=he,jt&&Sn.setBoundingRect(new BoundingRect$1(adjustTextX(On.x,r.width,On.textAlign),adjustTextY(On.y,Lt,On.textBaseline),de,Lt))}},n.prototype._updateRichTexts=function(){var r=this.style,$=getStyleText(r),L=parseRichText($,r),V=L.width,oe=L.outerWidth,re=L.outerHeight,ae=r.padding,le=r.x||0,ue=r.y||0,de=this._defaultStyle,pe=r.align||de.align,he=r.verticalAlign||de.verticalAlign,_e=adjustTextX(le,oe,pe),Oe=adjustTextY(ue,re,he),xe=_e,$e=Oe;ae&&(xe+=ae[3],$e+=ae[0]);var Ie=xe+V;needDrawBackground(r)&&this._renderBackground(r,r,_e,Oe,oe,re);for(var Ne=!!r.backgroundColor,ze=0;ze<L.lines.length;ze++){for(var Ue=L.lines[ze],Fe=Ue.tokens,qe=Fe.length,Et=Ue.lineHeight,At=Ue.width,kt=0,Dt=xe,jt=Ie,Lt=qe-1,hn=void 0;kt<qe&&(hn=Fe[kt],!hn.align||hn.align==="left");)this._placeToken(hn,r,Et,$e,Dt,"left",Ne),At-=hn.width,Dt+=hn.width,kt++;for(;Lt>=0&&(hn=Fe[Lt],hn.align==="right");)this._placeToken(hn,r,Et,$e,jt,"right",Ne),At-=hn.width,jt-=hn.width,Lt--;for(Dt+=(V-(Dt-xe)-(Ie-jt)-At)/2;kt<=Lt;)hn=Fe[kt],this._placeToken(hn,r,Et,$e,Dt+hn.width/2,"center",Ne),Dt+=hn.width,kt++;$e+=Et}},n.prototype._placeToken=function(r,$,L,V,oe,re,ae){var le=$.rich[r.styleName]||{};le.text=r.text;var ue=r.verticalAlign,de=V+L/2;ue==="top"?de=V+r.height/2:ue==="bottom"&&(de=V+L-r.height/2);var pe=!r.isLineHolder&&needDrawBackground(le);pe&&this._renderBackground(le,$,re==="right"?oe-r.width:re==="center"?oe-r.width/2:oe,de-r.height/2,r.width,r.height);var he=!!le.backgroundColor,_e=r.textPadding;_e&&(oe=getTextXForPadding(oe,re,_e),de-=r.height/2-_e[0]-r.innerHeight/2);var Oe=this._getOrCreateChild(TSpan$1),xe=Oe.createStyle();Oe.useStyle(xe);var $e=this._defaultStyle,Ie=!1,Ne=0,ze=getFill("fill"in le?le.fill:"fill"in $?$.fill:(Ie=!0,$e.fill)),Ue=getStroke("stroke"in le?le.stroke:"stroke"in $?$.stroke:!he&&!ae&&(!$e.autoStroke||Ie)?(Ne=DEFAULT_STROKE_LINE_WIDTH,$e.stroke):null),Fe=le.textShadowBlur>0||$.textShadowBlur>0;xe.text=r.text,xe.x=oe,xe.y=de,Fe&&(xe.shadowBlur=le.textShadowBlur||$.textShadowBlur||0,xe.shadowColor=le.textShadowColor||$.textShadowColor||"transparent",xe.shadowOffsetX=le.textShadowOffsetX||$.textShadowOffsetX||0,xe.shadowOffsetY=le.textShadowOffsetY||$.textShadowOffsetY||0),xe.textAlign=re,xe.textBaseline="middle",xe.font=r.font||DEFAULT_FONT,xe.opacity=retrieve3(le.opacity,$.opacity,1),setSeparateFont(xe,le),Ue&&(xe.lineWidth=retrieve3(le.lineWidth,$.lineWidth,Ne),xe.lineDash=retrieve2(le.lineDash,$.lineDash),xe.lineDashOffset=$.lineDashOffset||0,xe.stroke=Ue),ze&&(xe.fill=ze);var qe=r.contentWidth,Et=r.contentHeight;Oe.setBoundingRect(new BoundingRect$1(adjustTextX(xe.x,qe,xe.textAlign),adjustTextY(xe.y,Et,xe.textBaseline),qe,Et))},n.prototype._renderBackground=function(r,$,L,V,oe,re){var ae=r.backgroundColor,le=r.borderWidth,ue=r.borderColor,de=ae&&ae.image,pe=ae&&!de,he=r.borderRadius,_e=this,Oe,xe;if(pe||r.lineHeight||le&&ue){Oe=this._getOrCreateChild(Rect$3),Oe.useStyle(Oe.createStyle()),Oe.style.fill=null;var $e=Oe.shape;$e.x=L,$e.y=V,$e.width=oe,$e.height=re,$e.r=he,Oe.dirtyShape()}if(pe){var Ie=Oe.style;Ie.fill=ae||null,Ie.fillOpacity=retrieve2(r.fillOpacity,1)}else if(de){xe=this._getOrCreateChild(ZRImage$1),xe.onload=function(){_e.dirtyStyle()};var Ne=xe.style;Ne.image=ae.image,Ne.x=L,Ne.y=V,Ne.width=oe,Ne.height=re}if(le&&ue){var Ie=Oe.style;Ie.lineWidth=le,Ie.stroke=ue,Ie.strokeOpacity=retrieve2(r.strokeOpacity,1),Ie.lineDash=r.borderDash,Ie.lineDashOffset=r.borderDashOffset||0,Oe.strokeContainThreshold=0,Oe.hasFill()&&Oe.hasStroke()&&(Ie.strokeFirst=!0,Ie.lineWidth*=2)}var ze=(Oe||xe).style;ze.shadowBlur=r.shadowBlur||0,ze.shadowColor=r.shadowColor||"transparent",ze.shadowOffsetX=r.shadowOffsetX||0,ze.shadowOffsetY=r.shadowOffsetY||0,ze.opacity=retrieve3(r.opacity,$.opacity,1)},n.makeFont=function(r){var $="";return hasSeparateFont(r)&&($=[r.fontStyle,r.fontWeight,parseFontSize(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),$&&trim$3($)||r.textFont||r.font},n}(Displayable$1),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(g){return typeof g=="string"&&(g.indexOf("px")!==-1||g.indexOf("rem")!==-1||g.indexOf("em")!==-1)?g:isNaN(+g)?DEFAULT_FONT_SIZE+"px":g+"px"}function setSeparateFont(g,n){for(var r=0;r<FONT_PARTS.length;r++){var $=FONT_PARTS[r],L=n[$];L!=null&&(g[$]=L)}}function hasSeparateFont(g){return g.fontSize!=null||g.fontFamily||g.fontWeight}function normalizeTextStyle(g){return normalizeStyle(g),each$f(g.rich,normalizeStyle),g}function normalizeStyle(g){if(g){g.font=ZRText.makeFont(g);var n=g.align;n==="middle"&&(n="center"),g.align=n==null||VALID_TEXT_ALIGN[n]?n:"left";var r=g.verticalAlign;r==="center"&&(r="middle"),g.verticalAlign=r==null||VALID_TEXT_VERTICAL_ALIGN[r]?r:"top";var $=g.padding;$&&(g.padding=normalizeCssArray$1(g.padding))}}function getStroke(g,n){return g==null||n<=0||g==="transparent"||g==="none"?null:g.image||g.colorStops?"#000":g}function getFill(g){return g==null||g==="none"?null:g.image||g.colorStops?"#000":g}function getTextXForPadding(g,n,r){return n==="right"?g-r[1]:n==="center"?g+r[3]/2-r[1]/2:g+r[3]}function getStyleText(g){var n=g.text;return n!=null&&(n+=""),n}function needDrawBackground(g){return!!(g.backgroundColor||g.lineHeight||g.borderWidth&&g.borderColor)}const ZRText$1=ZRText;var getECData=makeInner(),setCommonECData=function(g,n,r,$){if($){var L=getECData($);L.dataIndex=r,L.dataType=n,L.seriesIndex=g,$.type==="group"&&$.traverse(function(V){var oe=getECData(V);oe.seriesIndex=g,oe.dataIndex=r,oe.dataType=n})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(g){return g!=null&&g!=="none"}var liftedColorCache=new LRU$1(100);function liftColor(g){if(isString$3(g)){var n=liftedColorCache.get(g);return n||(n=lift(g,-.1),liftedColorCache.put(g,n)),n}else if(isGradientObject(g)){var r=extend$3({},g);return r.colorStops=map$2(g.colorStops,function($){return{offset:$.offset,color:lift($.color,-.1)}}),r}return g}function doChangeHoverState(g,n,r){g.onHoverStateChange&&(g.hoverState||0)!==r&&g.onHoverStateChange(n),g.hoverState=r}function singleEnterEmphasis(g){doChangeHoverState(g,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(g){g.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(g,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(g){doChangeHoverState(g,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(g){g.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(g,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(g){g.selected=!0}function singleLeaveSelect(g){g.selected=!1}function updateElementState(g,n,r){n(g,r)}function traverseUpdateState(g,n,r){updateElementState(g,n,r),g.isGroup&&g.traverse(function($){updateElementState($,n,r)})}function setStatesFlag(g,n){switch(n){case"emphasis":g.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":g.hoverState=HOVER_STATE_NORMAL;break;case"blur":g.hoverState=HOVER_STATE_BLUR;break;case"select":g.selected=!0}}function getFromStateStyle(g,n,r,$){for(var L=g.style,V={},oe=0;oe<n.length;oe++){var re=n[oe],ae=L[re];V[re]=ae!=null?ae:$&&$[re]}for(var oe=0;oe<g.animators.length;oe++){var le=g.animators[oe];le.__fromStateTransition&&le.__fromStateTransition.indexOf(r)<0&&le.targetName==="style"&&le.saveTo(V,n)}return V}function createEmphasisDefaultState(g,n,r,$){var L=r&&indexOf(r,"select")>=0,V=!1;if(g instanceof Path$1){var oe=getSavedStates(g),re=L&&oe.selectFill||oe.normalFill,ae=L&&oe.selectStroke||oe.normalStroke;if(hasFillOrStroke(re)||hasFillOrStroke(ae)){$=$||{};var le=$.style||{};le.fill==="inherit"?(V=!0,$=extend$3({},$),le=extend$3({},le),le.fill=re):!hasFillOrStroke(le.fill)&&hasFillOrStroke(re)?(V=!0,$=extend$3({},$),le=extend$3({},le),le.fill=liftColor(re)):!hasFillOrStroke(le.stroke)&&hasFillOrStroke(ae)&&(V||($=extend$3({},$),le=extend$3({},le)),le.stroke=liftColor(ae)),$.style=le}}if($&&$.z2==null){V||($=extend$3({},$));var ue=g.z2EmphasisLift;$.z2=g.z2+(ue!=null?ue:Z2_EMPHASIS_LIFT)}return $}function createSelectDefaultState(g,n,r){if(r&&r.z2==null){r=extend$3({},r);var $=g.z2SelectLift;r.z2=g.z2+($!=null?$:Z2_SELECT_LIFT)}return r}function createBlurDefaultState(g,n,r){var $=indexOf(g.currentStates,n)>=0,L=g.style.opacity,V=$?null:getFromStateStyle(g,["opacity"],n,{opacity:1});r=r||{};var oe=r.style||{};return oe.opacity==null&&(r=extend$3({},r),oe=extend$3({opacity:$?L:V.opacity*.1},oe),r.style=oe),r}function elementStateProxy(g,n){var r=this.states[g];if(this.style){if(g==="emphasis")return createEmphasisDefaultState(this,g,n,r);if(g==="blur")return createBlurDefaultState(this,g,r);if(g==="select")return createSelectDefaultState(this,g,r)}return r}function setDefaultStateProxy(g){g.stateProxy=elementStateProxy;var n=g.getTextContent(),r=g.getTextGuideLine();n&&(n.stateProxy=elementStateProxy),r&&(r.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(g,n){!shouldSilent(g,n)&&!g.__highByOuter&&traverseUpdateState(g,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(g,n){!shouldSilent(g,n)&&!g.__highByOuter&&traverseUpdateState(g,singleLeaveEmphasis)}function enterEmphasis(g,n){g.__highByOuter|=1<<(n||0),traverseUpdateState(g,singleEnterEmphasis)}function leaveEmphasis(g,n){!(g.__highByOuter&=~(1<<(n||0)))&&traverseUpdateState(g,singleLeaveEmphasis)}function enterBlur(g){traverseUpdateState(g,singleEnterBlur)}function leaveBlur(g){traverseUpdateState(g,singleLeaveBlur)}function enterSelect(g){traverseUpdateState(g,singleEnterSelect)}function leaveSelect(g){traverseUpdateState(g,singleLeaveSelect)}function shouldSilent(g,n){return g.__highDownSilentOnTouch&&n.zrByTouch}function allLeaveBlur(g){var n=g.getModel(),r=[],$=[];n.eachComponent(function(L,V){var oe=getComponentStates(V),re=L==="series",ae=re?g.getViewOfSeriesModel(V):g.getViewOfComponentModel(V);!re&&$.push(ae),oe.isBlured&&(ae.group.traverse(function(le){singleLeaveBlur(le)}),re&&r.push(V)),oe.isBlured=!1}),each$f($,function(L){L&&L.toggleBlurSeries&&L.toggleBlurSeries(r,!1,n)})}function blurSeries(g,n,r,$){var L=$.getModel();r=r||"coordinateSystem";function V(le,ue){for(var de=0;de<ue.length;de++){var pe=le.getItemGraphicEl(ue[de]);pe&&leaveBlur(pe)}}if(g!=null&&!(!n||n==="none")){var oe=L.getSeriesByIndex(g),re=oe.coordinateSystem;re&&re.master&&(re=re.master);var ae=[];L.eachSeries(function(le){var ue=oe===le,de=le.coordinateSystem;de&&de.master&&(de=de.master);var pe=de&&re?de===re:ue;if(!(r==="series"&&!ue||r==="coordinateSystem"&&!pe||n==="series"&&ue)){var he=$.getViewOfSeriesModel(le);if(he.group.traverse(function(xe){xe.__highByOuter&&ue&&n==="self"||singleEnterBlur(xe)}),isArrayLike$1(n))V(le.getData(),n);else if(isObject$6(n))for(var _e=keys$2(n),Oe=0;Oe<_e.length;Oe++)V(le.getData(_e[Oe]),n[_e[Oe]]);ae.push(le),getComponentStates(le).isBlured=!0}}),L.eachComponent(function(le,ue){if(le!=="series"){var de=$.getViewOfComponentModel(ue);de&&de.toggleBlurSeries&&de.toggleBlurSeries(ae,!0,L)}})}}function blurComponent(g,n,r){if(!(g==null||n==null)){var $=r.getModel().getComponent(g,n);if($){getComponentStates($).isBlured=!0;var L=r.getViewOfComponentModel($);!L||!L.focusBlurEnabled||L.group.traverse(function(V){singleEnterBlur(V)})}}}function blurSeriesFromHighlightPayload(g,n,r){var $=g.seriesIndex,L=g.getData(n.dataType);if(L){var V=queryDataIndex(L,n);V=(isArray$6(V)?V[0]:V)||0;var oe=L.getItemGraphicEl(V);if(!oe)for(var re=L.count(),ae=0;!oe&&ae<re;)oe=L.getItemGraphicEl(ae++);if(oe){var le=getECData(oe);blurSeries($,le.focus,le.blurScope,r)}else{var ue=g.get(["emphasis","focus"]),de=g.get(["emphasis","blurScope"]);ue!=null&&blurSeries($,ue,de,r)}}}function findComponentHighDownDispatchers(g,n,r,$){var L={focusSelf:!1,dispatchers:null};if(g==null||g==="series"||n==null||r==null)return L;var V=$.getModel().getComponent(g,n);if(!V)return L;var oe=$.getViewOfComponentModel(V);if(!oe||!oe.findHighDownDispatchers)return L;for(var re=oe.findHighDownDispatchers(r),ae,le=0;le<re.length;le++)if(getECData(re[le]).focus==="self"){ae=!0;break}return{focusSelf:ae,dispatchers:re}}function handleGlobalMouseOverForHighDown(g,n,r){var $=getECData(g),L=findComponentHighDownDispatchers($.componentMainType,$.componentIndex,$.componentHighDownName,r),V=L.dispatchers,oe=L.focusSelf;V?(oe&&blurComponent($.componentMainType,$.componentIndex,r),each$f(V,function(re){return enterEmphasisWhenMouseOver(re,n)})):(blurSeries($.seriesIndex,$.focus,$.blurScope,r),$.focus==="self"&&blurComponent($.componentMainType,$.componentIndex,r),enterEmphasisWhenMouseOver(g,n))}function handleGlobalMouseOutForHighDown(g,n,r){allLeaveBlur(r);var $=getECData(g),L=findComponentHighDownDispatchers($.componentMainType,$.componentIndex,$.componentHighDownName,r).dispatchers;L?each$f(L,function(V){return leaveEmphasisWhenMouseOut(V,n)}):leaveEmphasisWhenMouseOut(g,n)}function toggleSelectionFromPayload(g,n,r){if(isSelectChangePayload(n)){var $=n.dataType,L=g.getData($),V=queryDataIndex(L,n);isArray$6(V)||(V=[V]),g[n.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":n.type===SELECT_ACTION_TYPE?"select":"unselect"](V,$)}}function updateSeriesElementSelection(g){var n=g.getAllData();each$f(n,function(r){var $=r.data,L=r.type;$.eachItemGraphicEl(function(V,oe){g.isSelected(oe,L)?enterSelect(V):leaveSelect(V)})})}function getAllSelectedIndices(g){var n=[];return g.eachSeries(function(r){var $=r.getAllData();each$f($,function(L){L.data;var V=L.type,oe=r.getSelectedDataIndices();if(oe.length>0){var re={dataIndex:oe,seriesIndex:r.seriesIndex};V!=null&&(re.dataType=V),n.push(re)}})}),n}function enableHoverEmphasis(g,n,r){setAsHighDownDispatcher(g,!0),traverseUpdateState(g,setDefaultStateProxy),enableHoverFocus(g,n,r)}function disableHoverEmphasis(g){setAsHighDownDispatcher(g,!1)}function toggleHoverEmphasis(g,n,r,$){$?disableHoverEmphasis(g):enableHoverEmphasis(g,n,r)}function enableHoverFocus(g,n,r){var $=getECData(g);n!=null?($.focus=n,$.blurScope=r):$.focus&&($.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(g,n,r,$){r=r||"itemStyle";for(var L=0;L<OTHER_STATES.length;L++){var V=OTHER_STATES[L],oe=n.getModel([V,r]),re=g.ensureState(V);re.style=$?$(oe):oe[defaultStyleGetterMap[r]]()}}function setAsHighDownDispatcher(g,n){var r=n===!1,$=g;g.highDownSilentOnTouch&&($.__highDownSilentOnTouch=g.highDownSilentOnTouch),(!r||$.__highDownDispatcher)&&($.__highByOuter=$.__highByOuter||0,$.__highDownDispatcher=!r)}function isHighDownDispatcher(g){return!!(g&&g.__highDownDispatcher)}function enableComponentHighDownFeatures(g,n,r){var $=getECData(g);$.componentMainType=n.mainType,$.componentIndex=n.componentIndex,$.componentHighDownName=r}function getHighlightDigit(g){var n=_highlightKeyMap[g];return n==null&&_highlightNextDigit<=32&&(n=_highlightKeyMap[g]=_highlightNextDigit++),n}function isSelectChangePayload(g){var n=g.type;return n===SELECT_ACTION_TYPE||n===UNSELECT_ACTION_TYPE||n===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(g){var n=g.type;return n===HIGHLIGHT_ACTION_TYPE||n===DOWNPLAY_ACTION_TYPE}function savePathStates(g){var n=getSavedStates(g);n.normalFill=g.style.fill,n.normalStroke=g.style.stroke;var r=g.states.select||{};n.selectFill=r.style&&r.style.fill||null,n.selectStroke=r.style&&r.style.stroke||null}var CMD$2=PathProxy$1.CMD,points$2=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(g,n){if(n){var r=g.data,$=g.len(),L,V,oe,re,ae,le,ue=CMD$2.M,de=CMD$2.C,pe=CMD$2.L,he=CMD$2.R,_e=CMD$2.A,Oe=CMD$2.Q;for(oe=0,re=0;oe<$;){switch(L=r[oe++],re=oe,V=0,L){case ue:V=1;break;case pe:V=1;break;case de:V=3;break;case Oe:V=2;break;case _e:var xe=n[4],$e=n[5],Ie=mathSqrt$2(n[0]*n[0]+n[1]*n[1]),Ne=mathSqrt$2(n[2]*n[2]+n[3]*n[3]),ze=mathAtan2(-n[1]/Ne,n[0]/Ie);r[oe]*=Ie,r[oe++]+=xe,r[oe]*=Ne,r[oe++]+=$e,r[oe++]*=Ie,r[oe++]*=Ne,r[oe++]+=ze,r[oe++]+=ze,oe+=2,re=oe;break;case he:le[0]=r[oe++],le[1]=r[oe++],applyTransform$1(le,le,n),r[re++]=le[0],r[re++]=le[1],le[0]+=r[oe++],le[1]+=r[oe++],applyTransform$1(le,le,n),r[re++]=le[0],r[re++]=le[1]}for(ae=0;ae<V;ae++){var Ue=points$2[ae];Ue[0]=r[oe++],Ue[1]=r[oe++],applyTransform$1(Ue,Ue,n),r[re++]=Ue[0],r[re++]=Ue[1]}}g.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$7=Math.PI;function vMag(g){return Math.sqrt(g[0]*g[0]+g[1]*g[1])}function vRatio(g,n){return(g[0]*n[0]+g[1]*n[1])/(vMag(g)*vMag(n))}function vAngle(g,n){return(g[0]*n[1]<g[1]*n[0]?-1:1)*Math.acos(vRatio(g,n))}function processArc(g,n,r,$,L,V,oe,re,ae,le,ue){var de=ae*(PI$7/180),pe=mathCos$2(de)*(g-r)/2+mathSin$2(de)*(n-$)/2,he=-1*mathSin$2(de)*(g-r)/2+mathCos$2(de)*(n-$)/2,_e=pe*pe/(oe*oe)+he*he/(re*re);_e>1&&(oe*=mathSqrt$1(_e),re*=mathSqrt$1(_e));var Oe=(L===V?-1:1)*mathSqrt$1((oe*oe*(re*re)-oe*oe*(he*he)-re*re*(pe*pe))/(oe*oe*(he*he)+re*re*(pe*pe)))||0,xe=Oe*oe*he/re,$e=Oe*-re*pe/oe,Ie=(g+r)/2+mathCos$2(de)*xe-mathSin$2(de)*$e,Ne=(n+$)/2+mathSin$2(de)*xe+mathCos$2(de)*$e,ze=vAngle([1,0],[(pe-xe)/oe,(he-$e)/re]),Ue=[(pe-xe)/oe,(he-$e)/re],Fe=[(-1*pe-xe)/oe,(-1*he-$e)/re],qe=vAngle(Ue,Fe);if(vRatio(Ue,Fe)<=-1&&(qe=PI$7),vRatio(Ue,Fe)>=1&&(qe=0),qe<0){var Et=Math.round(qe/PI$7*1e6)/1e6;qe=PI$7*2+Et%2*PI$7}ue.addData(le,Ie,Ne,oe,re,ze,qe,de,V)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg$1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(g){var n=new PathProxy$1;if(!g)return n;var r=0,$=0,L=r,V=$,oe,re=PathProxy$1.CMD,ae=g.match(commandReg);if(!ae)return n;for(var le=0;le<ae.length;le++){for(var ue=ae[le],de=ue.charAt(0),pe=void 0,he=ue.match(numberReg$1)||[],_e=he.length,Oe=0;Oe<_e;Oe++)he[Oe]=parseFloat(he[Oe]);for(var xe=0;xe<_e;){var $e=void 0,Ie=void 0,Ne=void 0,ze=void 0,Ue=void 0,Fe=void 0,qe=void 0,Et=r,At=$,kt=void 0,Dt=void 0;switch(de){case"l":r+=he[xe++],$+=he[xe++],pe=re.L,n.addData(pe,r,$);break;case"L":r=he[xe++],$=he[xe++],pe=re.L,n.addData(pe,r,$);break;case"m":r+=he[xe++],$+=he[xe++],pe=re.M,n.addData(pe,r,$),L=r,V=$,de="l";break;case"M":r=he[xe++],$=he[xe++],pe=re.M,n.addData(pe,r,$),L=r,V=$,de="L";break;case"h":r+=he[xe++],pe=re.L,n.addData(pe,r,$);break;case"H":r=he[xe++],pe=re.L,n.addData(pe,r,$);break;case"v":$+=he[xe++],pe=re.L,n.addData(pe,r,$);break;case"V":$=he[xe++],pe=re.L,n.addData(pe,r,$);break;case"C":pe=re.C,n.addData(pe,he[xe++],he[xe++],he[xe++],he[xe++],he[xe++],he[xe++]),r=he[xe-2],$=he[xe-1];break;case"c":pe=re.C,n.addData(pe,he[xe++]+r,he[xe++]+$,he[xe++]+r,he[xe++]+$,he[xe++]+r,he[xe++]+$),r+=he[xe-2],$+=he[xe-1];break;case"S":$e=r,Ie=$,kt=n.len(),Dt=n.data,oe===re.C&&($e+=r-Dt[kt-4],Ie+=$-Dt[kt-3]),pe=re.C,Et=he[xe++],At=he[xe++],r=he[xe++],$=he[xe++],n.addData(pe,$e,Ie,Et,At,r,$);break;case"s":$e=r,Ie=$,kt=n.len(),Dt=n.data,oe===re.C&&($e+=r-Dt[kt-4],Ie+=$-Dt[kt-3]),pe=re.C,Et=r+he[xe++],At=$+he[xe++],r+=he[xe++],$+=he[xe++],n.addData(pe,$e,Ie,Et,At,r,$);break;case"Q":Et=he[xe++],At=he[xe++],r=he[xe++],$=he[xe++],pe=re.Q,n.addData(pe,Et,At,r,$);break;case"q":Et=he[xe++]+r,At=he[xe++]+$,r+=he[xe++],$+=he[xe++],pe=re.Q,n.addData(pe,Et,At,r,$);break;case"T":$e=r,Ie=$,kt=n.len(),Dt=n.data,oe===re.Q&&($e+=r-Dt[kt-4],Ie+=$-Dt[kt-3]),r=he[xe++],$=he[xe++],pe=re.Q,n.addData(pe,$e,Ie,r,$);break;case"t":$e=r,Ie=$,kt=n.len(),Dt=n.data,oe===re.Q&&($e+=r-Dt[kt-4],Ie+=$-Dt[kt-3]),r+=he[xe++],$+=he[xe++],pe=re.Q,n.addData(pe,$e,Ie,r,$);break;case"A":Ne=he[xe++],ze=he[xe++],Ue=he[xe++],Fe=he[xe++],qe=he[xe++],Et=r,At=$,r=he[xe++],$=he[xe++],pe=re.A,processArc(Et,At,r,$,Fe,qe,Ne,ze,Ue,pe,n);break;case"a":Ne=he[xe++],ze=he[xe++],Ue=he[xe++],Fe=he[xe++],qe=he[xe++],Et=r,At=$,r+=he[xe++],$+=he[xe++],pe=re.A,processArc(Et,At,r,$,Fe,qe,Ne,ze,Ue,pe,n);break}}(de==="z"||de==="Z")&&(pe=re.Z,n.addData(pe),r=L,$=V),oe=pe}return n.toStatic(),n}var SVGPath=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.applyTransform=function(r){},n}(Path$1);function isPathProxy(g){return g.setData!=null}function createPathOptions(g,n){var r=createPathProxyFromString(g),$=extend$3({},n);return $.buildPath=function(L){if(isPathProxy(L)){L.setData(r.data);var V=L.getContext();V&&L.rebuildPath(V,1)}else{var V=L;r.rebuildPath(V,1)}},$.applyTransform=function(L){transformPath(r,L),this.dirtyShape()},$}function createFromString(g,n){return new SVGPath(createPathOptions(g,n))}function extendFromString(g,n){var r=createPathOptions(g,n),$=function(L){__extends(V,L);function V(oe){var re=L.call(this,oe)||this;return re.applyTransform=r.applyTransform,re.buildPath=r.buildPath,re}return V}(SVGPath);return $}function mergePath$1(g,n){for(var r=[],$=g.length,L=0;L<$;L++){var V=g[L];r.push(V.getUpdatedPathProxy(!0))}var oe=new Path$1(n);return oe.createPathProxy(),oe.buildPath=function(re){if(isPathProxy(re)){re.appendPath(r);var ae=re.getContext();ae&&re.rebuildPath(ae,1)}},oe}function clonePath(g,n){n=n||{};var r=new Path$1;return g.shape&&r.setShape(g.shape),r.setStyle(g.style),n.bakeTransform?transformPath(r.path,g.getComputedTransform()):n.toLocal?r.setLocalTransform(g.getComputedTransform()):r.copyTransform(g),r.buildPath=g.buildPath,r.applyTransform=r.applyTransform,r.z=g.z,r.z2=g.z2,r.zlevel=g.zlevel,r}var CircleShape=function(){function g(){this.cx=0,this.cy=0,this.r=0}return g}(),Circle=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new CircleShape},n.prototype.buildPath=function(r,$){r.moveTo($.cx+$.r,$.cy),r.arc($.cx,$.cy,$.r,0,Math.PI*2)},n}(Path$1);Circle.prototype.type="circle";const Circle$1=Circle;var EllipseShape=function(){function g(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return g}(),Ellipse=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new EllipseShape},n.prototype.buildPath=function(r,$){var L=.5522848,V=$.cx,oe=$.cy,re=$.rx,ae=$.ry,le=re*L,ue=ae*L;r.moveTo(V-re,oe),r.bezierCurveTo(V-re,oe-ue,V-le,oe-ae,V,oe-ae),r.bezierCurveTo(V+le,oe-ae,V+re,oe-ue,V+re,oe),r.bezierCurveTo(V+re,oe+ue,V+le,oe+ae,V,oe+ae),r.bezierCurveTo(V-le,oe+ae,V-re,oe+ue,V-re,oe),r.closePath()},n}(Path$1);Ellipse.prototype.type="ellipse";const Ellipse$1=Ellipse;var PI$6=Math.PI,PI2$3=PI$6*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs$1=Math.abs,mathSqrt=Math.sqrt,mathMax$7=Math.max,mathMin$7=Math.min,e=1e-4;function intersect(g,n,r,$,L,V,oe,re){var ae=r-g,le=$-n,ue=oe-L,de=re-V,pe=de*ae-ue*le;if(!(pe*pe<e))return pe=(ue*(n-V)-de*(g-L))/pe,[g+pe*ae,n+pe*le]}function computeCornerTangents(g,n,r,$,L,V,oe){var re=g-r,ae=n-$,le=(oe?V:-V)/mathSqrt(re*re+ae*ae),ue=le*ae,de=-le*re,pe=g+ue,he=n+de,_e=r+ue,Oe=$+de,xe=(pe+_e)/2,$e=(he+Oe)/2,Ie=_e-pe,Ne=Oe-he,ze=Ie*Ie+Ne*Ne,Ue=L-V,Fe=pe*Oe-_e*he,qe=(Ne<0?-1:1)*mathSqrt(mathMax$7(0,Ue*Ue*ze-Fe*Fe)),Et=(Fe*Ne-Ie*qe)/ze,At=(-Fe*Ie-Ne*qe)/ze,kt=(Fe*Ne+Ie*qe)/ze,Dt=(-Fe*Ie+Ne*qe)/ze,jt=Et-xe,Lt=At-$e,hn=kt-xe,Sn=Dt-$e;return jt*jt+Lt*Lt>hn*hn+Sn*Sn&&(Et=kt,At=Dt),{cx:Et,cy:At,x0:-ue,y0:-de,x1:Et*(L/Ue-1),y1:At*(L/Ue-1)}}function normalizeCornerRadius(g){var n;if(isArray$6(g)){var r=g.length;if(!r)return g;r===1?n=[g[0],g[0],0,0]:r===2?n=[g[0],g[0],g[1],g[1]]:r===3?n=g.concat(g[2]):n=g}else n=[g,g,g,g];return n}function buildPath$1(g,n){var r,$=mathMax$7(n.r,0),L=mathMax$7(n.r0||0,0),V=$>0,oe=L>0;if(!(!V&&!oe)){if(V||($=L,L=0),L>$){var re=$;$=L,L=re}var ae=n.startAngle,le=n.endAngle;if(!(isNaN(ae)||isNaN(le))){var ue=n.cx,de=n.cy,pe=!!n.clockwise,he=mathAbs$1(le-ae),_e=he>PI2$3&&he%PI2$3;if(_e>e&&(he=_e),!($>e))g.moveTo(ue,de);else if(he>PI2$3-e)g.moveTo(ue+$*mathCos$1(ae),de+$*mathSin$1(ae)),g.arc(ue,de,$,ae,le,!pe),L>e&&(g.moveTo(ue+L*mathCos$1(le),de+L*mathSin$1(le)),g.arc(ue,de,L,le,ae,pe));else{var Oe=void 0,xe=void 0,$e=void 0,Ie=void 0,Ne=void 0,ze=void 0,Ue=void 0,Fe=void 0,qe=void 0,Et=void 0,At=void 0,kt=void 0,Dt=void 0,jt=void 0,Lt=void 0,hn=void 0,Sn=$*mathCos$1(ae),On=$*mathSin$1(ae),_n=L*mathCos$1(le),xn=L*mathSin$1(le),bn=he>e;if(bn){var Tn=n.cornerRadius;Tn&&(r=normalizeCornerRadius(Tn),Oe=r[0],xe=r[1],$e=r[2],Ie=r[3]);var An=mathAbs$1($-L)/2;if(Ne=mathMin$7(An,$e),ze=mathMin$7(An,Ie),Ue=mathMin$7(An,Oe),Fe=mathMin$7(An,xe),At=qe=mathMax$7(Ne,ze),kt=Et=mathMax$7(Ue,Fe),(qe>e||Et>e)&&(Dt=$*mathCos$1(le),jt=$*mathSin$1(le),Lt=L*mathCos$1(ae),hn=L*mathSin$1(ae),he<PI$6)){var En=intersect(Sn,On,Lt,hn,Dt,jt,_n,xn);if(En){var Ln=Sn-En[0],Wn=On-En[1],Mn=Dt-En[0],Fn=jt-En[1],In=1/mathSin$1(mathACos((Ln*Mn+Wn*Fn)/(mathSqrt(Ln*Ln+Wn*Wn)*mathSqrt(Mn*Mn+Fn*Fn)))/2),Nn=mathSqrt(En[0]*En[0]+En[1]*En[1]);At=mathMin$7(qe,($-Nn)/(In+1)),kt=mathMin$7(Et,(L-Nn)/(In-1))}}}if(!bn)g.moveTo(ue+Sn,de+On);else if(At>e){var Vn=mathMin$7($e,At),Un=mathMin$7(Ie,At),Gn=computeCornerTangents(Lt,hn,Sn,On,$,Vn,pe),$n=computeCornerTangents(Dt,jt,_n,xn,$,Un,pe);g.moveTo(ue+Gn.cx+Gn.x0,de+Gn.cy+Gn.y0),At<qe&&Vn===Un?g.arc(ue+Gn.cx,de+Gn.cy,At,mathATan2(Gn.y0,Gn.x0),mathATan2($n.y0,$n.x0),!pe):(Vn>0&&g.arc(ue+Gn.cx,de+Gn.cy,Vn,mathATan2(Gn.y0,Gn.x0),mathATan2(Gn.y1,Gn.x1),!pe),g.arc(ue,de,$,mathATan2(Gn.cy+Gn.y1,Gn.cx+Gn.x1),mathATan2($n.cy+$n.y1,$n.cx+$n.x1),!pe),Un>0&&g.arc(ue+$n.cx,de+$n.cy,Un,mathATan2($n.y1,$n.x1),mathATan2($n.y0,$n.x0),!pe))}else g.moveTo(ue+Sn,de+On),g.arc(ue,de,$,ae,le,!pe);if(!(L>e)||!bn)g.lineTo(ue+_n,de+xn);else if(kt>e){var Vn=mathMin$7(Oe,kt),Un=mathMin$7(xe,kt),Gn=computeCornerTangents(_n,xn,Dt,jt,L,-Un,pe),$n=computeCornerTangents(Sn,On,Lt,hn,L,-Vn,pe);g.lineTo(ue+Gn.cx+Gn.x0,de+Gn.cy+Gn.y0),kt<Et&&Vn===Un?g.arc(ue+Gn.cx,de+Gn.cy,kt,mathATan2(Gn.y0,Gn.x0),mathATan2($n.y0,$n.x0),!pe):(Un>0&&g.arc(ue+Gn.cx,de+Gn.cy,Un,mathATan2(Gn.y0,Gn.x0),mathATan2(Gn.y1,Gn.x1),!pe),g.arc(ue,de,L,mathATan2(Gn.cy+Gn.y1,Gn.cx+Gn.x1),mathATan2($n.cy+$n.y1,$n.cx+$n.x1),pe),Vn>0&&g.arc(ue+$n.cx,de+$n.cy,Vn,mathATan2($n.y1,$n.x1),mathATan2($n.y0,$n.x0),!pe))}else g.lineTo(ue+_n,de+xn),g.arc(ue,de,L,le,ae,pe)}g.closePath()}}}var SectorShape=function(){function g(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return g}(),Sector=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new SectorShape},n.prototype.buildPath=function(r,$){buildPath$1(r,$)},n.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},n}(Path$1);Sector.prototype.type="sector";const Sector$1=Sector;var RingShape=function(){function g(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return g}(),Ring=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new RingShape},n.prototype.buildPath=function(r,$){var L=$.cx,V=$.cy,oe=Math.PI*2;r.moveTo(L+$.r,V),r.arc(L,V,$.r,0,oe,!1),r.moveTo(L+$.r0,V),r.arc(L,V,$.r0,0,oe,!0)},n}(Path$1);Ring.prototype.type="ring";const Ring$1=Ring;function smoothBezier(g,n,r,$){var L=[],V=[],oe=[],re=[],ae,le,ue,de;if($){ue=[1/0,1/0],de=[-1/0,-1/0];for(var pe=0,he=g.length;pe<he;pe++)min$1(ue,ue,g[pe]),max$1(de,de,g[pe]);min$1(ue,ue,$[0]),max$1(de,de,$[1])}for(var pe=0,he=g.length;pe<he;pe++){var _e=g[pe];if(r)ae=g[pe?pe-1:he-1],le=g[(pe+1)%he];else if(pe===0||pe===he-1){L.push(clone$4(g[pe]));continue}else ae=g[pe-1],le=g[pe+1];sub(V,le,ae),scale$2(V,V,n);var Oe=distance(_e,ae),xe=distance(_e,le),$e=Oe+xe;$e!==0&&(Oe/=$e,xe/=$e),scale$2(oe,V,-Oe),scale$2(re,V,xe);var Ie=add$1([],_e,oe),Ne=add$1([],_e,re);$&&(max$1(Ie,Ie,ue),min$1(Ie,Ie,de),max$1(Ne,Ne,ue),min$1(Ne,Ne,de)),L.push(Ie),L.push(Ne)}return r&&L.push(L.shift()),L}function buildPath(g,n,r){var $=n.smooth,L=n.points;if(L&&L.length>=2){if($){var V=smoothBezier(L,$,r,n.smoothConstraint);g.moveTo(L[0][0],L[0][1]);for(var oe=L.length,re=0;re<(r?oe:oe-1);re++){var ae=V[re*2],le=V[re*2+1],ue=L[(re+1)%oe];g.bezierCurveTo(ae[0],ae[1],le[0],le[1],ue[0],ue[1])}}else{g.moveTo(L[0][0],L[0][1]);for(var re=1,de=L.length;re<de;re++)g.lineTo(L[re][0],L[re][1])}r&&g.closePath()}}var PolygonShape=function(){function g(){this.points=null,this.smooth=0,this.smoothConstraint=null}return g}(),Polygon=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new PolygonShape},n.prototype.buildPath=function(r,$){buildPath(r,$,!0)},n}(Path$1);Polygon.prototype.type="polygon";const Polygon$1=Polygon;var PolylineShape=function(){function g(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return g}(),Polyline$2=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new PolylineShape},n.prototype.buildPath=function(r,$){buildPath(r,$,!1)},n}(Path$1);Polyline$2.prototype.type="polyline";const Polyline$3=Polyline$2;var subPixelOptimizeOutputShape={},LineShape=function(){function g(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return g}(),Line$3=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LineShape},n.prototype.buildPath=function(r,$){var L,V,oe,re;if(this.subPixelOptimize){var ae=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,$,this.style);L=ae.x1,V=ae.y1,oe=ae.x2,re=ae.y2}else L=$.x1,V=$.y1,oe=$.x2,re=$.y2;var le=$.percent;le!==0&&(r.moveTo(L,V),le<1&&(oe=L*(1-le)+oe*le,re=V*(1-le)+re*le),r.lineTo(oe,re))},n.prototype.pointAt=function(r){var $=this.shape;return[$.x1*(1-r)+$.x2*r,$.y1*(1-r)+$.y2*r]},n}(Path$1);Line$3.prototype.type="line";const Line$4=Line$3;var out=[],BezierCurveShape=function(){function g(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return g}();function someVectorAt(g,n,r){var $=g.cpx2,L=g.cpy2;return $!=null||L!=null?[(r?cubicDerivativeAt:cubicAt)(g.x1,g.cpx1,g.cpx2,g.x2,n),(r?cubicDerivativeAt:cubicAt)(g.y1,g.cpy1,g.cpy2,g.y2,n)]:[(r?quadraticDerivativeAt:quadraticAt$1)(g.x1,g.cpx1,g.x2,n),(r?quadraticDerivativeAt:quadraticAt$1)(g.y1,g.cpy1,g.y2,n)]}var BezierCurve=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new BezierCurveShape},n.prototype.buildPath=function(r,$){var L=$.x1,V=$.y1,oe=$.x2,re=$.y2,ae=$.cpx1,le=$.cpy1,ue=$.cpx2,de=$.cpy2,pe=$.percent;pe!==0&&(r.moveTo(L,V),ue==null||de==null?(pe<1&&(quadraticSubdivide(L,ae,oe,pe,out),ae=out[1],oe=out[2],quadraticSubdivide(V,le,re,pe,out),le=out[1],re=out[2]),r.quadraticCurveTo(ae,le,oe,re)):(pe<1&&(cubicSubdivide(L,ae,ue,oe,pe,out),ae=out[1],ue=out[2],oe=out[3],cubicSubdivide(V,le,de,re,pe,out),le=out[1],de=out[2],re=out[3]),r.bezierCurveTo(ae,le,ue,de,oe,re)))},n.prototype.pointAt=function(r){return someVectorAt(this.shape,r,!1)},n.prototype.tangentAt=function(r){var $=someVectorAt(this.shape,r,!0);return normalize$4($,$)},n}(Path$1);BezierCurve.prototype.type="bezier-curve";const BezierCurve$1=BezierCurve;var ArcShape=function(){function g(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return g}(),Arc=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ArcShape},n.prototype.buildPath=function(r,$){var L=$.cx,V=$.cy,oe=Math.max($.r,0),re=$.startAngle,ae=$.endAngle,le=$.clockwise,ue=Math.cos(re),de=Math.sin(re);r.moveTo(ue*oe+L,de*oe+V),r.arc(L,V,oe,re,ae,!le)},n}(Path$1);Arc.prototype.type="arc";const Arc$1=Arc;var CompoundPath=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="compound",r}return n.prototype._updatePathDirty=function(){for(var r=this.shape.paths,$=this.shapeChanged(),L=0;L<r.length;L++)$=$||r[L].shapeChanged();$&&this.dirtyShape()},n.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],$=this.getGlobalScale(),L=0;L<r.length;L++)r[L].path||r[L].createPathProxy(),r[L].path.setScale($[0],$[1],r[L].segmentIgnoreThreshold)},n.prototype.buildPath=function(r,$){for(var L=$.paths||[],V=0;V<L.length;V++)L[V].buildPath(r,L[V].shape,!0)},n.prototype.afterBrush=function(){for(var r=this.shape.paths||[],$=0;$<r.length;$++)r[$].pathUpdated()},n.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path$1.prototype.getBoundingRect.call(this)},n}(Path$1);const CompoundPath$1=CompoundPath;var Gradient=function(){function g(n){this.colorStops=n||[]}return g.prototype.addColorStop=function(n,r){this.colorStops.push({offset:n,color:r})},g}();const Gradient$1=Gradient;var LinearGradient=function(g){__extends(n,g);function n(r,$,L,V,oe,re){var ae=g.call(this,oe)||this;return ae.x=r!=null?r:0,ae.y=$!=null?$:0,ae.x2=L!=null?L:1,ae.y2=V!=null?V:0,ae.type="linear",ae.global=re||!1,ae}return n}(Gradient$1);const LinearGradient$1=LinearGradient;var RadialGradient=function(g){__extends(n,g);function n(r,$,L,V,oe){var re=g.call(this,V)||this;return re.x=r!=null?r:.5,re.y=$!=null?$:.5,re.r=L!=null?L:.5,re.type="radial",re.global=oe||!1,re}return n}(Gradient$1);const RadialGradient$1=RadialGradient;var extent=[0,0],extent2=[0,0],minTv=new Point$1,maxTv=new Point$1,OrientedBoundingRect=function(){function g(n,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var $=0;$<4;$++)this._corners[$]=new Point$1;for(var $=0;$<2;$++)this._axes[$]=new Point$1;n&&this.fromBoundingRect(n,r)}return g.prototype.fromBoundingRect=function(n,r){var $=this._corners,L=this._axes,V=n.x,oe=n.y,re=V+n.width,ae=oe+n.height;if($[0].set(V,oe),$[1].set(re,oe),$[2].set(re,ae),$[3].set(V,ae),r)for(var le=0;le<4;le++)$[le].transform(r);Point$1.sub(L[0],$[1],$[0]),Point$1.sub(L[1],$[3],$[0]),L[0].normalize(),L[1].normalize();for(var le=0;le<2;le++)this._origin[le]=L[le].dot($[0])},g.prototype.intersect=function(n,r){var $=!0,L=!r;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,n,minTv,maxTv,L,1)&&($=!1,L)||!this._intersectCheckOneSide(n,this,minTv,maxTv,L,-1)&&($=!1,L)||L||Point$1.copy(r,$?minTv:maxTv),$},g.prototype._intersectCheckOneSide=function(n,r,$,L,V,oe){for(var re=!0,ae=0;ae<2;ae++){var le=this._axes[ae];if(this._getProjMinMaxOnAxis(ae,n._corners,extent),this._getProjMinMaxOnAxis(ae,r._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(re=!1,V)return re;var ue=Math.abs(extent2[0]-extent[1]),de=Math.abs(extent[0]-extent2[1]);Math.min(ue,de)>L.len()&&(ue<de?Point$1.scale(L,le,-ue*oe):Point$1.scale(L,le,de*oe))}else if($){var ue=Math.abs(extent2[0]-extent[1]),de=Math.abs(extent[0]-extent2[1]);Math.min(ue,de)<$.len()&&(ue<de?Point$1.scale($,le,ue*oe):Point$1.scale($,le,-de*oe))}}return re},g.prototype._getProjMinMaxOnAxis=function(n,r,$){for(var L=this._axes[n],V=this._origin,oe=r[0].dot(L)+V[n],re=oe,ae=oe,le=1;le<r.length;le++){var ue=r[le].dot(L)+V[n];re=Math.min(ue,re),ae=Math.max(ue,ae)}$[0]=re,$[1]=ae},g}();const OrientedBoundingRect$1=OrientedBoundingRect;var m$1=[],IncrementalDisplayable=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return n.prototype.traverse=function(r,$){r.call($,this)},n.prototype.useStyle=function(){this.style={}},n.prototype.getCursor=function(){return this._cursor},n.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},n.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},n.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},n.prototype.addDisplayable=function(r,$){$?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},n.prototype.addDisplayables=function(r,$){$=$||!1;for(var L=0;L<r.length;L++)this.addDisplayable(r[L],$)},n.prototype.getDisplayables=function(){return this._displayables},n.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},n.prototype.eachPendingDisplayable=function(r){for(var $=this._cursor;$<this._displayables.length;$++)r&&r(this._displayables[$]);for(var $=0;$<this._temporaryDisplayables.length;$++)r&&r(this._temporaryDisplayables[$])},n.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var $=this._displayables[r];$.parent=this,$.update(),$.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var $=this._temporaryDisplayables[r];$.parent=this,$.update(),$.parent=null}},n.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new BoundingRect$1(1/0,1/0,-1/0,-1/0),$=0;$<this._displayables.length;$++){var L=this._displayables[$],V=L.getBoundingRect().clone();L.needLocalTransform()&&V.applyTransform(L.getLocalTransform(m$1)),r.union(V)}this._rect=r}return this._rect},n.prototype.contain=function(r,$){var L=this.transformCoordToLocal(r,$),V=this.getBoundingRect();if(V.contain(L[0],L[1]))for(var oe=0;oe<this._displayables.length;oe++){var re=this._displayables[oe];if(re.contain(r,$))return!0}return!1},n}(Displayable$1);const IncrementalDisplayable$1=IncrementalDisplayable;var transitionStore=makeInner();function getAnimationConfig(g,n,r,$,L){var V;if(n&&n.ecModel){var oe=n.ecModel.getUpdatePayload();V=oe&&oe.animation}var re=n&&n.isAnimationEnabled(),ae=g==="update";if(re){var le=void 0,ue=void 0,de=void 0;$?(le=retrieve2($.duration,200),ue=retrieve2($.easing,"cubicOut"),de=0):(le=n.getShallow(ae?"animationDurationUpdate":"animationDuration"),ue=n.getShallow(ae?"animationEasingUpdate":"animationEasing"),de=n.getShallow(ae?"animationDelayUpdate":"animationDelay")),V&&(V.duration!=null&&(le=V.duration),V.easing!=null&&(ue=V.easing),V.delay!=null&&(de=V.delay)),isFunction$3(de)&&(de=de(r,L)),isFunction$3(le)&&(le=le(r));var pe={duration:le||0,delay:de,easing:ue};return pe}else return null}function animateOrSetProps(g,n,r,$,L,V,oe){var re=!1,ae;isFunction$3(L)?(oe=V,V=L,L=null):isObject$6(L)&&(V=L.cb,oe=L.during,re=L.isFrom,ae=L.removeOpt,L=L.dataIndex);var le=g==="leave";le||n.stopAnimation("leave");var ue=getAnimationConfig(g,$,L,le?ae||{}:null,$&&$.getAnimationDelayParams?$.getAnimationDelayParams(n,L):null);if(ue&&ue.duration>0){var de=ue.duration,pe=ue.delay,he=ue.easing,_e={duration:de,delay:pe||0,easing:he,done:V,force:!!V||!!oe,setToFinal:!le,scope:g,during:oe};re?n.animateFrom(r,_e):n.animateTo(r,_e)}else n.stopAnimation(),!re&&n.attr(r),oe&&oe(1),V&&V()}function updateProps$1(g,n,r,$,L,V){animateOrSetProps("update",g,n,r,$,L,V)}function initProps(g,n,r,$,L,V){animateOrSetProps("enter",g,n,r,$,L,V)}function isElementRemoved(g){if(!g.__zr)return!0;for(var n=0;n<g.animators.length;n++){var r=g.animators[n];if(r.scope==="leave")return!0}return!1}function removeElement(g,n,r,$,L,V){isElementRemoved(g)||animateOrSetProps("leave",g,n,r,$,L,V)}function fadeOutDisplayable(g,n,r,$){g.removeTextContent(),g.removeTextGuideLine(),removeElement(g,{style:{opacity:0}},n,r,$)}function removeElementWithFadeOut(g,n,r){function $(){g.parent&&g.parent.remove(g)}g.isGroup?g.traverse(function(L){L.isGroup||fadeOutDisplayable(L,n,r,$)}):fadeOutDisplayable(g,n,r,$)}function saveOldStyle(g){transitionStore(g).oldStyle=g.style}function getOldStyle(g){return transitionStore(g).oldStyle}var mathMax$6=Math.max,mathMin$6=Math.min,_customShapeMap={};function extendShape(g){return Path$1.extend(g)}var extendPathFromString=extendFromString;function extendPath(g,n){return extendPathFromString(g,n)}function registerShape(g,n){_customShapeMap[g]=n}function getShapeClass(g){if(_customShapeMap.hasOwnProperty(g))return _customShapeMap[g]}function makePath(g,n,r,$){var L=createFromString(g,n);return r&&($==="center"&&(r=centerGraphic(r,L.getBoundingRect())),resizePath(L,r)),L}function makeImage(g,n,r){var $=new ZRImage$1({style:{image:g,x:n.x,y:n.y,width:n.width,height:n.height},onload:function(L){if(r==="center"){var V={width:L.width,height:L.height};$.setStyle(centerGraphic(n,V))}}});return $}function centerGraphic(g,n){var r=n.width/n.height,$=g.height*r,L;$<=g.width?L=g.height:($=g.width,L=$/r);var V=g.x+g.width/2,oe=g.y+g.height/2;return{x:V-$/2,y:oe-L/2,width:$,height:L}}var mergePath=mergePath$1;function resizePath(g,n){if(g.applyTransform){var r=g.getBoundingRect(),$=r.calculateTransform(n);g.applyTransform($)}}function subPixelOptimizeLine(g,n){return subPixelOptimizeLine$1(g,g,{lineWidth:n}),g}function subPixelOptimizeRect(g){return subPixelOptimizeRect$1(g.shape,g.shape,g.style),g}var subPixelOptimize=subPixelOptimize$1;function getTransform$1(g,n){for(var r=identity$2([]);g&&g!==n;)mul(r,g.getLocalTransform(),r),g=g.parent;return r}function applyTransform(g,n,r){return n&&!isArrayLike$1(n)&&(n=Transformable.getLocalTransform(n)),r&&(n=invert([],n)),applyTransform$1([],g,n)}function transformDirection(g,n,r){var $=n[4]===0||n[5]===0||n[0]===0?1:Math.abs(2*n[4]/n[0]),L=n[4]===0||n[5]===0||n[2]===0?1:Math.abs(2*n[4]/n[2]),V=[g==="left"?-$:g==="right"?$:0,g==="top"?-L:g==="bottom"?L:0];return V=applyTransform(V,n,r),Math.abs(V[0])>Math.abs(V[1])?V[0]>0?"right":"left":V[1]>0?"bottom":"top"}function isNotGroup(g){return!g.isGroup}function isPath$1(g){return g.shape!=null}function groupTransition(g,n,r){if(!g||!n)return;function $(oe){var re={};return oe.traverse(function(ae){isNotGroup(ae)&&ae.anid&&(re[ae.anid]=ae)}),re}function L(oe){var re={x:oe.x,y:oe.y,rotation:oe.rotation};return isPath$1(oe)&&(re.shape=extend$3({},oe.shape)),re}var V=$(g);n.traverse(function(oe){if(isNotGroup(oe)&&oe.anid){var re=V[oe.anid];if(re){var ae=L(oe);oe.attr(L(re)),updateProps$1(oe,ae,r,getECData(oe).dataIndex)}}})}function clipPointsByRect(g,n){return map$2(g,function(r){var $=r[0];$=mathMax$6($,n.x),$=mathMin$6($,n.x+n.width);var L=r[1];return L=mathMax$6(L,n.y),L=mathMin$6(L,n.y+n.height),[$,L]})}function clipRectByRect(g,n){var r=mathMax$6(g.x,n.x),$=mathMin$6(g.x+g.width,n.x+n.width),L=mathMax$6(g.y,n.y),V=mathMin$6(g.y+g.height,n.y+n.height);if($>=r&&V>=L)return{x:r,y:L,width:$-r,height:V-L}}function createIcon(g,n,r){var $=extend$3({rectHover:!0},n),L=$.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},g)return g.indexOf("image://")===0?(L.image=g.slice(8),defaults$5(L,r),new ZRImage$1($)):makePath(g.replace("path://",""),$,r,"center")}function linePolygonIntersect(g,n,r,$,L){for(var V=0,oe=L[L.length-1];V<L.length;V++){var re=L[V];if(lineLineIntersect$1(g,n,r,$,re[0],re[1],oe[0],oe[1]))return!0;oe=re}}function lineLineIntersect$1(g,n,r,$,L,V,oe,re){var ae=r-g,le=$-n,ue=oe-L,de=re-V,pe=crossProduct2d$1(ue,de,ae,le);if(nearZero(pe))return!1;var he=g-L,_e=n-V,Oe=crossProduct2d$1(he,_e,ae,le)/pe;if(Oe<0||Oe>1)return!1;var xe=crossProduct2d$1(he,_e,ue,de)/pe;return!(xe<0||xe>1)}function crossProduct2d$1(g,n,r,$){return g*$-r*n}function nearZero(g){return g<=1e-6&&g>=-1e-6}function setTooltipConfig(g){var n=g.itemTooltipOption,r=g.componentModel,$=g.itemName,L=isString$3(n)?{formatter:n}:n,V=r.mainType,oe=r.componentIndex,re={componentType:V,name:$,$vars:["name"]};re[V+"Index"]=oe;var ae=g.formatterParamsExtra;ae&&each$f(keys$2(ae),function(ue){hasOwn(re,ue)||(re[ue]=ae[ue],re.$vars.push(ue))});var le=getECData(g.el);le.componentMainType=V,le.componentIndex=oe,le.tooltipConfig={name:$,option:defaults$5({content:$,formatterParams:re},L)}}function traverseElement(g,n){var r;g.isGroup&&(r=n(g)),r||g.traverse(n)}function traverseElements(g,n){if(g)if(isArray$6(g))for(var r=0;r<g.length;r++)traverseElement(g[r],n);else traverseElement(g,n)}registerShape("circle",Circle$1),registerShape("ellipse",Ellipse$1),registerShape("sector",Sector$1),registerShape("ring",Ring$1),registerShape("polygon",Polygon$1),registerShape("polyline",Polyline$3),registerShape("rect",Rect$3),registerShape("line",Line$4),registerShape("bezierCurve",BezierCurve$1),registerShape("arc",Arc$1);const graphic=Object.freeze(Object.defineProperty({__proto__:null,updateProps:updateProps$1,initProps,removeElement,removeElementWithFadeOut,isElementRemoved,extendShape,extendPath,registerShape,getShapeClass,makePath,makeImage,mergePath,resizePath,subPixelOptimizeLine,subPixelOptimizeRect,subPixelOptimize,getTransform:getTransform$1,applyTransform,transformDirection,groupTransition,clipPointsByRect,clipRectByRect,createIcon,linePolygonIntersect,lineLineIntersect:lineLineIntersect$1,setTooltipConfig,traverseElements,Group:Group$4,Image:ZRImage$1,Text:ZRText$1,Circle:Circle$1,Ellipse:Ellipse$1,Sector:Sector$1,Ring:Ring$1,Polygon:Polygon$1,Polyline:Polyline$3,Rect:Rect$3,Line:Line$4,BezierCurve:BezierCurve$1,Arc:Arc$1,IncrementalDisplayable:IncrementalDisplayable$1,CompoundPath:CompoundPath$1,LinearGradient:LinearGradient$1,RadialGradient:RadialGradient$1,BoundingRect:BoundingRect$1,OrientedBoundingRect:OrientedBoundingRect$1,Point:Point$1,Path:Path$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(g,n){for(var r=0;r<SPECIAL_STATES.length;r++){var $=SPECIAL_STATES[r],L=n[$],V=g.ensureState($);V.style=V.style||{},V.style.text=L}var oe=g.currentStates.slice();g.clearStates(!0),g.setStyle({text:n.normal}),g.useStates(oe,!0)}function getLabelText(g,n,r){var $=g.labelFetcher,L=g.labelDataIndex,V=g.labelDimIndex,oe=n.normal,re;$&&(re=$.getFormattedLabel(L,"normal",null,V,oe&&oe.get("formatter"),r!=null?{interpolatedValue:r}:null)),re==null&&(re=isFunction$3(g.defaultText)?g.defaultText(L,g,r):g.defaultText);for(var ae={normal:re},le=0;le<SPECIAL_STATES.length;le++){var ue=SPECIAL_STATES[le],de=n[ue];ae[ue]=retrieve2($?$.getFormattedLabel(L,ue,null,V,de&&de.get("formatter")):null,re)}return ae}function setLabelStyle(g,n,r,$){r=r||EMPTY_OBJ;for(var L=g instanceof ZRText$1,V=!1,oe=0;oe<DISPLAY_STATES.length;oe++){var re=n[DISPLAY_STATES[oe]];if(re&&re.getShallow("show")){V=!0;break}}var ae=L?g:g.getTextContent();if(V){L||(ae||(ae=new ZRText$1,g.setTextContent(ae)),g.stateProxy&&(ae.stateProxy=g.stateProxy));var le=getLabelText(r,n),ue=n.normal,de=!!ue.getShallow("show"),pe=createTextStyle(ue,$&&$.normal,r,!1,!L);pe.text=le.normal,L||g.setTextConfig(createTextConfig(ue,r,!1));for(var oe=0;oe<SPECIAL_STATES.length;oe++){var he=SPECIAL_STATES[oe],re=n[he];if(re){var _e=ae.ensureState(he),Oe=!!retrieve2(re.getShallow("show"),de);if(Oe!==de&&(_e.ignore=!Oe),_e.style=createTextStyle(re,$&&$[he],r,!0,!L),_e.style.text=le[he],!L){var xe=g.ensureState(he);xe.textConfig=createTextConfig(re,r,!0)}}}ae.silent=!!ue.getShallow("silent"),ae.style.x!=null&&(pe.x=ae.style.x),ae.style.y!=null&&(pe.y=ae.style.y),ae.ignore=!de,ae.useStyle(pe),ae.dirty(),r.enableTextSetter&&(labelInner(ae).setLabelText=function($e){var Ie=getLabelText(r,n,$e);setLabelText(ae,Ie)})}else ae&&(ae.ignore=!0);g.dirty()}function getLabelStatesModels(g,n){n=n||"label";for(var r={normal:g.getModel(n)},$=0;$<SPECIAL_STATES.length;$++){var L=SPECIAL_STATES[$];r[L]=g.getModel([L,n])}return r}function createTextStyle(g,n,r,$,L){var V={};return setTextStyleCommon(V,g,r,$,L),n&&extend$3(V,n),V}function createTextConfig(g,n,r){n=n||{};var $={},L,V=g.getShallow("rotate"),oe=retrieve2(g.getShallow("distance"),r?null:5),re=g.getShallow("offset");return L=g.getShallow("position")||(r?null:"inside"),L==="outside"&&(L=n.defaultOutsidePosition||"top"),L!=null&&($.position=L),re!=null&&($.offset=re),V!=null&&(V*=Math.PI/180,$.rotation=V),oe!=null&&($.distance=oe),$.outsideFill=g.get("color")==="inherit"?n.inheritColor||null:"auto",$}function setTextStyleCommon(g,n,r,$,L){r=r||EMPTY_OBJ;var V=n.ecModel,oe=V&&V.option.textStyle,re=getRichItemNames(n),ae;if(re){ae={};for(var le in re)if(re.hasOwnProperty(le)){var ue=n.getModel(["rich",le]);setTokenTextStyle(ae[le]={},ue,oe,r,$,L,!1,!0)}}ae&&(g.rich=ae);var de=n.get("overflow");de&&(g.overflow=de);var pe=n.get("minMargin");pe!=null&&(g.margin=pe),setTokenTextStyle(g,n,oe,r,$,L,!0,!1)}function getRichItemNames(g){for(var n;g&&g!==g.ecModel;){var r=(g.option||EMPTY_OBJ).rich;if(r){n=n||{};for(var $=keys$2(r),L=0;L<$.length;L++){var V=$[L];n[V]=1}}g=g.parentModel}return n}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(g,n,r,$,L,V,oe,re){r=!L&&r||EMPTY_OBJ;var ae=$&&$.inheritColor,le=n.getShallow("color"),ue=n.getShallow("textBorderColor"),de=retrieve2(n.getShallow("opacity"),r.opacity);(le==="inherit"||le==="auto")&&(ae?le=ae:le=null),(ue==="inherit"||ue==="auto")&&(ae?ue=ae:ue=null),V||(le=le||r.color,ue=ue||r.textBorderColor),le!=null&&(g.fill=le),ue!=null&&(g.stroke=ue);var pe=retrieve2(n.getShallow("textBorderWidth"),r.textBorderWidth);pe!=null&&(g.lineWidth=pe);var he=retrieve2(n.getShallow("textBorderType"),r.textBorderType);he!=null&&(g.lineDash=he);var _e=retrieve2(n.getShallow("textBorderDashOffset"),r.textBorderDashOffset);_e!=null&&(g.lineDashOffset=_e),!L&&de==null&&!re&&(de=$&&$.defaultOpacity),de!=null&&(g.opacity=de),!L&&!V&&g.fill==null&&$.inheritColor&&(g.fill=$.inheritColor);for(var Oe=0;Oe<TEXT_PROPS_WITH_GLOBAL.length;Oe++){var xe=TEXT_PROPS_WITH_GLOBAL[Oe],$e=retrieve2(n.getShallow(xe),r[xe]);$e!=null&&(g[xe]=$e)}for(var Oe=0;Oe<TEXT_PROPS_SELF.length;Oe++){var xe=TEXT_PROPS_SELF[Oe],$e=n.getShallow(xe);$e!=null&&(g[xe]=$e)}if(g.verticalAlign==null){var Ie=n.getShallow("baseline");Ie!=null&&(g.verticalAlign=Ie)}if(!oe||!$.disableBox){for(var Oe=0;Oe<TEXT_PROPS_BOX.length;Oe++){var xe=TEXT_PROPS_BOX[Oe],$e=n.getShallow(xe);$e!=null&&(g[xe]=$e)}var Ne=n.getShallow("borderType");Ne!=null&&(g.borderDash=Ne),(g.backgroundColor==="auto"||g.backgroundColor==="inherit")&&ae&&(g.backgroundColor=ae),(g.borderColor==="auto"||g.borderColor==="inherit")&&ae&&(g.borderColor=ae)}}function getFont(g,n){var r=n&&n.getModel("textStyle");return trim$3([g.fontStyle||r&&r.getShallow("fontStyle")||"",g.fontWeight||r&&r.getShallow("fontWeight")||"",(g.fontSize||r&&r.getShallow("fontSize")||12)+"px",g.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation(g,n,r,$){if(g){var L=labelInner(g);L.prevValue=L.value,L.value=r;var V=n.normal;L.valueAnimation=V.get("valueAnimation"),L.valueAnimation&&(L.precision=V.get("precision"),L.defaultInterpolatedText=$,L.statesModels=n)}}function animateLabelValue(g,n,r,$,L){var V=labelInner(g);if(!V.valueAnimation||V.prevValue===V.value)return;var oe=V.defaultInterpolatedText,re=retrieve2(V.interpolatedValue,V.prevValue),ae=V.value;function le(ue){var de=interpolateRawValues(r,V.precision,re,ae,ue);V.interpolatedValue=ue===1?null:de;var pe=getLabelText({labelDataIndex:n,labelFetcher:L,defaultText:oe?oe(de):de+""},V.statesModels,de);setLabelText(g,pe)}g.percent=0,(V.prevValue==null?initProps:updateProps$1)(g,{percent:1},$,n,null,le)}var PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText$1,TextStyleMixin=function(){function g(){}return g.prototype.getTextColor=function(n){var r=this.ecModel;return this.getShallow("color")||(!n&&r?r.get(PATH_COLOR):null)},g.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},g.prototype.getTextRect=function(n){for(var r={text:n,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},$=0;$<textStyleParams.length;$++)r[textStyleParams[$]]=this.getShallow(textStyleParams[$]);return tmpText.useStyle(r),tmpText.update(),tmpText.getBoundingRect()},g}();const TextStyleMixin$1=TextStyleMixin;var LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function g(){}return g.prototype.getLineStyle=function(n){return getLineStyle(this,n)},g}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function g(){}return g.prototype.getItemStyle=function(n,r){return getItemStyle(this,n,r)},g}(),Model=function(){function g(n,r,$){this.parentModel=r,this.ecModel=$,this.option=n}return g.prototype.init=function(n,r,$){},g.prototype.mergeOption=function(n,r){merge$4(this.option,n,!0)},g.prototype.get=function(n,r){return n==null?this.option:this._doGet(this.parsePath(n),!r&&this.parentModel)},g.prototype.getShallow=function(n,r){var $=this.option,L=$==null?$:$[n];if(L==null&&!r){var V=this.parentModel;V&&(L=V.getShallow(n))}return L},g.prototype.getModel=function(n,r){var $=n!=null,L=$?this.parsePath(n):null,V=$?this._doGet(L):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(L)),new g(V,r,this.ecModel)},g.prototype.isEmpty=function(){return this.option==null},g.prototype.restoreData=function(){},g.prototype.clone=function(){var n=this.constructor;return new n(clone$5(this.option))},g.prototype.parsePath=function(n){return typeof n=="string"?n.split("."):n},g.prototype.resolveParentPath=function(n){return n},g.prototype.isAnimationEnabled=function(){if(!env$1.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},g.prototype._doGet=function(n,r){var $=this.option;if(!n)return $;for(var L=0;L<n.length&&!(!!n[L]&&($=$&&typeof $=="object"?$[n[L]]:null,$==null));L++);return $==null&&r&&($=r._doGet(this.resolveParentPath(n),r.parentModel)),$},g}();enableClassExtend(Model),enableClassCheck(Model),mixin(Model,LineStyleMixin),mixin(Model,ItemStyleMixin),mixin(Model,AreaStyleMixin),mixin(Model,TextStyleMixin$1);const Model$1=Model;var base$3=Math.round(Math.random()*10);function getUID(g){return[g||"",base$3++].join("_")}function enableSubTypeDefaulter(g){var n={};g.registerSubTypeDefaulter=function(r,$){var L=parseClassType(r);n[L.main]=$},g.determineSubType=function(r,$){var L=$.type;if(!L){var V=parseClassType(r).main;g.hasSubTypes(r)&&n[V]&&(L=n[V]($))}return L}}function enableTopologicalTravel(g,n){g.topologicalTravel=function(V,oe,re,ae){if(!V.length)return;var le=r(oe),ue=le.graph,de=le.noEntryList,pe={};for(each$f(V,function(Ie){pe[Ie]=!0});de.length;){var he=de.pop(),_e=ue[he],Oe=!!pe[he];Oe&&(re.call(ae,he,_e.originalDeps.slice()),delete pe[he]),each$f(_e.successor,Oe?$e:xe)}each$f(pe,function(){var Ie="";throw new Error(Ie)});function xe(Ie){ue[Ie].entryCount--,ue[Ie].entryCount===0&&de.push(Ie)}function $e(Ie){pe[Ie]=!0,xe(Ie)}};function r(V){var oe={},re=[];return each$f(V,function(ae){var le=$(oe,ae),ue=le.originalDeps=n(ae),de=L(ue,V);le.entryCount=de.length,le.entryCount===0&&re.push(ae),each$f(de,function(pe){indexOf(le.predecessor,pe)<0&&le.predecessor.push(pe);var he=$(oe,pe);indexOf(he.successor,pe)<0&&he.successor.push(ae)})}),{graph:oe,noEntryList:re}}function $(V,oe){return V[oe]||(V[oe]={predecessor:[],successor:[]}),V[oe]}function L(V,oe){var re=[];return each$f(V,function(ae){indexOf(oe,ae)>=0&&re.push(ae)}),re}}function inheritDefaultOption(g,n){return merge$4(merge$4({},g,!0),n,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env$1.domSupported?function(){var g=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return g.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(g,n){g=g.toUpperCase(),localeModels[g]=new Model$1(n),localeStorage[g]=n}function createLocaleObject(g){if(isString$3(g)){var n=localeStorage[g.toUpperCase()]||{};return g===LOCALE_ZH||g===LOCALE_EN?clone$5(n):merge$4(clone$5(n),clone$5(localeStorage[DEFAULT_LOCALE]),!1)}else return merge$4(clone$5(g),clone$5(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(g){return localeModels[g]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN),registerLocale(LOCALE_ZH,langZH);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits$1=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(g,n){return g+="","0000".substr(0,n-g.length)+g}function getPrimaryTimeUnit(g){switch(g){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return g}}function isPrimaryTimeUnit(g){return g===getPrimaryTimeUnit(g)}function getDefaultFormatPrecisionOfInterval(g){switch(g){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format$1(g,n,r,$){var L=parseDate$1(g),V=L[fullYearGetterName(r)](),oe=L[monthGetterName(r)]()+1,re=Math.floor((oe-1)/3)+1,ae=L[dateGetterName(r)](),le=L["get"+(r?"UTC":"")+"Day"](),ue=L[hoursGetterName(r)](),de=(ue-1)%12+1,pe=L[minutesGetterName(r)](),he=L[secondsGetterName(r)](),_e=L[millisecondsGetterName(r)](),Oe=$ instanceof Model$1?$:getLocaleModel($||SYSTEM_LANG)||getDefaultLocaleModel(),xe=Oe.getModel("time"),$e=xe.get("month"),Ie=xe.get("monthAbbr"),Ne=xe.get("dayOfWeek"),ze=xe.get("dayOfWeekAbbr");return(n||"").replace(/{yyyy}/g,V+"").replace(/{yy}/g,pad(V%100+"",2)).replace(/{Q}/g,re+"").replace(/{MMMM}/g,$e[oe-1]).replace(/{MMM}/g,Ie[oe-1]).replace(/{MM}/g,pad(oe,2)).replace(/{M}/g,oe+"").replace(/{dd}/g,pad(ae,2)).replace(/{d}/g,ae+"").replace(/{eeee}/g,Ne[le]).replace(/{ee}/g,ze[le]).replace(/{e}/g,le+"").replace(/{HH}/g,pad(ue,2)).replace(/{H}/g,ue+"").replace(/{hh}/g,pad(de+"",2)).replace(/{h}/g,de+"").replace(/{mm}/g,pad(pe,2)).replace(/{m}/g,pe+"").replace(/{ss}/g,pad(he,2)).replace(/{s}/g,he+"").replace(/{SSS}/g,pad(_e,3)).replace(/{S}/g,_e+"")}function leveledFormat(g,n,r,$,L){var V=null;if(isString$3(r))V=r;else if(isFunction$3(r))V=r(g.value,n,{level:g.level});else{var oe=extend$3({},defaultLeveledFormatter);if(g.level>0)for(var re=0;re<primaryTimeUnits.length;++re)oe[primaryTimeUnits[re]]="{primary|"+oe[primaryTimeUnits[re]]+"}";var ae=r?r.inherit===!1?r:defaults$5(r,oe):oe,le=getUnitFromValue(g.value,L);if(ae[le])V=ae[le];else if(ae.inherit){for(var ue=timeUnits$1.indexOf(le),re=ue-1;re>=0;--re)if(ae[le]){V=ae[le];break}V=V||oe.none}if(isArray$6(V)){var de=g.level==null?0:g.level>=0?g.level:V.length+g.level;de=Math.min(de,V.length-1),V=V[de]}}return format$1(new Date(g.value),V,L,$)}function getUnitFromValue(g,n){var r=parseDate$1(g),$=r[monthGetterName(n)]()+1,L=r[dateGetterName(n)](),V=r[hoursGetterName(n)](),oe=r[minutesGetterName(n)](),re=r[secondsGetterName(n)](),ae=r[millisecondsGetterName(n)](),le=ae===0,ue=le&&re===0,de=ue&&oe===0,pe=de&&V===0,he=pe&&L===1,_e=he&&$===1;return _e?"year":he?"month":pe?"day":de?"hour":ue?"minute":le?"second":"millisecond"}function getUnitValue(g,n,r){var $=isNumber$3(g)?parseDate$1(g):g;switch(n=n||getUnitFromValue(g,r),n){case"year":return $[fullYearGetterName(r)]();case"half-year":return $[monthGetterName(r)]()>=6?1:0;case"quarter":return Math.floor(($[monthGetterName(r)]()+1)/4);case"month":return $[monthGetterName(r)]();case"day":return $[dateGetterName(r)]();case"half-day":return $[hoursGetterName(r)]()/24;case"hour":return $[hoursGetterName(r)]();case"minute":return $[minutesGetterName(r)]();case"second":return $[secondsGetterName(r)]();case"millisecond":return $[millisecondsGetterName(r)]()}}function fullYearGetterName(g){return g?"getUTCFullYear":"getFullYear"}function monthGetterName(g){return g?"getUTCMonth":"getMonth"}function dateGetterName(g){return g?"getUTCDate":"getDate"}function hoursGetterName(g){return g?"getUTCHours":"getHours"}function minutesGetterName(g){return g?"getUTCMinutes":"getMinutes"}function secondsGetterName(g){return g?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(g){return g?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(g){return g?"setUTCFullYear":"setFullYear"}function monthSetterName(g){return g?"setUTCMonth":"setMonth"}function dateSetterName(g){return g?"setUTCDate":"setDate"}function hoursSetterName(g){return g?"setUTCHours":"setHours"}function minutesSetterName(g){return g?"setUTCMinutes":"setMinutes"}function secondsSetterName(g){return g?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(g){return g?"setUTCMilliseconds":"setMilliseconds"}function addCommas(g){if(!isNumeric(g))return isString$3(g)?g:"-";var n=(g+"").split(".");return n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:"")}function toCamelCase$2(g,n){return g=(g||"").toLowerCase().replace(/-(.)/g,function(r,$){return $.toUpperCase()}),n&&g&&(g=g.charAt(0).toUpperCase()+g.slice(1)),g}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(g,n,r){var $="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function L(ue){return ue&&trim$3(ue)?ue:"-"}function V(ue){return!!(ue!=null&&!isNaN(ue)&&isFinite(ue))}var oe=n==="time",re=g instanceof Date;if(oe||re){var ae=oe?parseDate$1(g):g;if(isNaN(+ae)){if(re)return"-"}else return format$1(ae,$,r)}if(n==="ordinal")return isStringSafe(g)?L(g):isNumber$3(g)&&V(g)?g+"":"-";var le=numericToNumber(g);return V(le)?addCommas(le):isStringSafe(g)?L(g):typeof g=="boolean"?g+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(g,n){return"{"+g+(n!=null?n:"")+"}"};function formatTpl(g,n,r){isArray$6(n)||(n=[n]);var $=n.length;if(!$)return"";for(var L=n[0].$vars||[],V=0;V<L.length;V++){var oe=TPL_VAR_ALIAS[V];g=g.replace(wrapVar(oe),wrapVar(oe,0))}for(var re=0;re<$;re++)for(var ae=0;ae<L.length;ae++){var le=n[re][L[ae]];g=g.replace(wrapVar(TPL_VAR_ALIAS[ae],re),r?encodeHTML(le):le)}return g}function formatTplSimple(g,n,r){return each$f(n,function($,L){g=g.replace("{"+L+"}",r?encodeHTML($):$)}),g}function getTooltipMarker(g,n){var r=isString$3(g)?{color:g,extraCssText:n}:g||{},$=r.color,L=r.type;n=r.extraCssText;var V=r.renderMode||"html";if(!$)return"";if(V==="html")return L==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML($)+";"+(n||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML($)+";"+(n||"")+'"></span>';var oe=r.markerId||"markerX";return{renderMode:V,content:"{"+oe+"|}  ",style:L==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:$}:{width:10,height:10,borderRadius:5,backgroundColor:$}}}function convertToColorString(g,n){return n=n||"transparent",isString$3(g)?g:isObject$6(g)&&g.colorStops&&(g.colorStops[0]||{}).color||n}function windowOpen(g,n){if(n==="_blank"||n==="blank"){var r=window.open();r.opener=null,r.location.href=g}else window.open(g,n)}var each$e=each$f,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(g,n,r,$,L){var V=0,oe=0;$==null&&($=1/0),L==null&&(L=1/0);var re=0;n.eachChild(function(ae,le){var ue=ae.getBoundingRect(),de=n.childAt(le+1),pe=de&&de.getBoundingRect(),he,_e;if(g==="horizontal"){var Oe=ue.width+(pe?-pe.x+ue.x:0);he=V+Oe,he>$||ae.newline?(V=0,he=Oe,oe+=re+r,re=ue.height):re=Math.max(re,ue.height)}else{var xe=ue.height+(pe?-pe.y+ue.y:0);_e=oe+xe,_e>L||ae.newline?(V+=re+r,oe=0,_e=xe,re=ue.width):re=Math.max(re,ue.width)}ae.newline||(ae.x=V,ae.y=oe,ae.markRedraw(),g==="horizontal"?V=he+r:oe=_e+r)})}var box=boxLayout;curry$1(boxLayout,"vertical"),curry$1(boxLayout,"horizontal");function getAvailableSize(g,n,r){var $=n.width,L=n.height,V=parsePercent(g.left,$),oe=parsePercent(g.top,L),re=parsePercent(g.right,$),ae=parsePercent(g.bottom,L);return(isNaN(V)||isNaN(parseFloat(g.left)))&&(V=0),(isNaN(re)||isNaN(parseFloat(g.right)))&&(re=$),(isNaN(oe)||isNaN(parseFloat(g.top)))&&(oe=0),(isNaN(ae)||isNaN(parseFloat(g.bottom)))&&(ae=L),r=normalizeCssArray(r||0),{width:Math.max(re-V-r[1]-r[3],0),height:Math.max(ae-oe-r[0]-r[2],0)}}function getLayoutRect(g,n,r){r=normalizeCssArray(r||0);var $=n.width,L=n.height,V=parsePercent(g.left,$),oe=parsePercent(g.top,L),re=parsePercent(g.right,$),ae=parsePercent(g.bottom,L),le=parsePercent(g.width,$),ue=parsePercent(g.height,L),de=r[2]+r[0],pe=r[1]+r[3],he=g.aspect;switch(isNaN(le)&&(le=$-re-pe-V),isNaN(ue)&&(ue=L-ae-de-oe),he!=null&&(isNaN(le)&&isNaN(ue)&&(he>$/L?le=$*.8:ue=L*.8),isNaN(le)&&(le=he*ue),isNaN(ue)&&(ue=le/he)),isNaN(V)&&(V=$-re-le-pe),isNaN(oe)&&(oe=L-ae-ue-de),g.left||g.right){case"center":V=$/2-le/2-r[3];break;case"right":V=$-le-pe;break}switch(g.top||g.bottom){case"middle":case"center":oe=L/2-ue/2-r[0];break;case"bottom":oe=L-ue-de;break}V=V||0,oe=oe||0,isNaN(le)&&(le=$-pe-V-(re||0)),isNaN(ue)&&(ue=L-de-oe-(ae||0));var _e=new BoundingRect$1(V+r[3],oe+r[0],le,ue);return _e.margin=r,_e}function positionElement(g,n,r,$,L,V){var oe=!L||!L.hv||L.hv[0],re=!L||!L.hv||L.hv[1],ae=L&&L.boundingMode||"all";if(V=V||g,V.x=g.x,V.y=g.y,!oe&&!re)return!1;var le;if(ae==="raw")le=g.type==="group"?new BoundingRect$1(0,0,+n.width||0,+n.height||0):g.getBoundingRect();else if(le=g.getBoundingRect(),g.needLocalTransform()){var ue=g.getLocalTransform();le=le.clone(),le.applyTransform(ue)}var de=getLayoutRect(defaults$5({width:le.width,height:le.height},n),r,$),pe=oe?de.x-le.x:0,he=re?de.y-le.y:0;return ae==="raw"?(V.x=pe,V.y=he):(V.x+=pe,V.y+=he),V===g&&g.markRedraw(),!0}function sizeCalculable(g,n){return g[HV_NAMES[n][0]]!=null||g[HV_NAMES[n][1]]!=null&&g[HV_NAMES[n][2]]!=null}function fetchLayoutMode(g){var n=g.layoutMode||g.constructor.layoutMode;return isObject$6(n)?n:n?{type:n}:null}function mergeLayoutParam(g,n,r){var $=r&&r.ignoreSize;!isArray$6($)&&($=[$,$]);var L=oe(HV_NAMES[0],0),V=oe(HV_NAMES[1],1);le(HV_NAMES[0],g,L),le(HV_NAMES[1],g,V);function oe(ue,de){var pe={},he=0,_e={},Oe=0,xe=2;if(each$e(ue,function(Ne){_e[Ne]=g[Ne]}),each$e(ue,function(Ne){re(n,Ne)&&(pe[Ne]=_e[Ne]=n[Ne]),ae(pe,Ne)&&he++,ae(_e,Ne)&&Oe++}),$[de])return ae(n,ue[1])?_e[ue[2]]=null:ae(n,ue[2])&&(_e[ue[1]]=null),_e;if(Oe===xe||!he)return _e;if(he>=xe)return pe;for(var $e=0;$e<ue.length;$e++){var Ie=ue[$e];if(!re(pe,Ie)&&re(g,Ie)){pe[Ie]=g[Ie];break}}return pe}function re(ue,de){return ue.hasOwnProperty(de)}function ae(ue,de){return ue[de]!=null&&ue[de]!=="auto"}function le(ue,de,pe){each$e(ue,function(he){de[he]=pe[he]})}}function getLayoutParams(g){return copyLayoutParams({},g)}function copyLayoutParams(g,n){return n&&g&&each$e(LOCATION_PARAMS,function(r){n.hasOwnProperty(r)&&(g[r]=n[r])}),g}var inner$l=makeInner(),ComponentModel=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this,r,$,L)||this;return V.uid=getUID("ec_cpt_model"),V}return n.prototype.init=function(r,$,L){this.mergeDefaultAndTheme(r,L)},n.prototype.mergeDefaultAndTheme=function(r,$){var L=fetchLayoutMode(this),V=L?getLayoutParams(r):{},oe=$.getTheme();merge$4(r,oe.get(this.mainType)),merge$4(r,this.getDefaultOption()),L&&mergeLayoutParam(r,V,L)},n.prototype.mergeOption=function(r,$){merge$4(this.option,r,!0);var L=fetchLayoutMode(this);L&&mergeLayoutParam(this.option,r,L)},n.prototype.optionUpdated=function(r,$){},n.prototype.getDefaultOption=function(){var r=this.constructor;if(!isExtendedClass(r))return r.defaultOption;var $=inner$l(this);if(!$.defaultOption){for(var L=[],V=r;V;){var oe=V.prototype.defaultOption;oe&&L.push(oe),V=V.superClass}for(var re={},ae=L.length-1;ae>=0;ae--)re=merge$4(re,L[ae],!0);$.defaultOption=re}return $.defaultOption},n.prototype.getReferringComponents=function(r,$){var L=r+"Index",V=r+"Id";return queryReferringComponents(this.ecModel,r,{index:this.get(L,!0),id:this.get(V,!0)},$)},n.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},n.prototype.getZLevelKey=function(){return""},n.prototype.setZLevel=function(r){this.option.zlevel=r},n.protoInitialize=function(){var r=n.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),n}(Model$1);mountExtend(ComponentModel,Model$1),enableClassManagement(ComponentModel),enableSubTypeDefaulter(ComponentModel),enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(g){var n=[];return each$f(ComponentModel.getClassesByMainType(g),function(r){n=n.concat(r.dependencies||r.prototype.dependencies||[])}),n=map$2(n,function(r){return parseClassType(r).main}),g!=="dataset"&&indexOf(n,"dataset")<=0&&n.unshift("dataset"),n}const ComponentModel$1=ComponentModel;var platform$2="";typeof navigator<"u"&&(platform$2=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform$2.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(g){innerGlobalModel(g).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(g,n,r){var $={},L=querySeriesUpstreamDatasetModel(n);if(!L||!g)return $;var V=[],oe=[],re=n.ecModel,ae=innerGlobalModel(re).datasetMap,le=L.uid+"_"+r.seriesLayoutBy,ue,de;g=g.slice(),each$f(g,function(Oe,xe){var $e=isObject$6(Oe)?Oe:g[xe]={name:Oe};$e.type==="ordinal"&&ue==null&&(ue=xe,de=_e($e)),$[$e.name]=[]});var pe=ae.get(le)||ae.set(le,{categoryWayDim:de,valueWayDim:0});each$f(g,function(Oe,xe){var $e=Oe.name,Ie=_e(Oe);if(ue==null){var Ne=pe.valueWayDim;he($[$e],Ne,Ie),he(oe,Ne,Ie),pe.valueWayDim+=Ie}else if(ue===xe)he($[$e],0,Ie),he(V,0,Ie);else{var Ne=pe.categoryWayDim;he($[$e],Ne,Ie),he(oe,Ne,Ie),pe.categoryWayDim+=Ie}});function he(Oe,xe,$e){for(var Ie=0;Ie<$e;Ie++)Oe.push(xe+Ie)}function _e(Oe){var xe=Oe.dimsDef;return xe?xe.length:1}return V.length&&($.itemName=V),oe.length&&($.seriesName=oe),$}function makeSeriesEncodeForNameBased(g,n,r){var $={},L=querySeriesUpstreamDatasetModel(g);if(!L)return $;var V=n.sourceFormat,oe=n.dimensionsDefine,re;(V===SOURCE_FORMAT_OBJECT_ROWS||V===SOURCE_FORMAT_KEYED_COLUMNS)&&each$f(oe,function(ue,de){(isObject$6(ue)?ue.name:ue)==="name"&&(re=de)});var ae=function(){for(var ue={},de={},pe=[],he=0,_e=Math.min(5,r);he<_e;he++){var Oe=doGuessOrdinal(n.data,V,n.seriesLayoutBy,oe,n.startIndex,he);pe.push(Oe);var xe=Oe===BE_ORDINAL.Not;if(xe&&ue.v==null&&he!==re&&(ue.v=he),(ue.n==null||ue.n===ue.v||!xe&&pe[ue.n]===BE_ORDINAL.Not)&&(ue.n=he),$e(ue)&&pe[ue.n]!==BE_ORDINAL.Not)return ue;xe||(Oe===BE_ORDINAL.Might&&de.v==null&&he!==re&&(de.v=he),(de.n==null||de.n===de.v)&&(de.n=he))}function $e(Ie){return Ie.v!=null&&Ie.n!=null}return $e(ue)?ue:$e(de)?de:null}();if(ae){$.value=[ae.v];var le=re!=null?re:ae.n;$.itemName=[le],$.seriesName=[le]}return $}function querySeriesUpstreamDatasetModel(g){var n=g.get("data",!0);if(!n)return queryReferringComponents(g.ecModel,"dataset",{index:g.get("datasetIndex",!0),id:g.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(g){return!g.get("transform",!0)&&!g.get("fromTransformResult",!0)?[]:queryReferringComponents(g.ecModel,"dataset",{index:g.get("fromDatasetIndex",!0),id:g.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(g,n){return doGuessOrdinal(g.data,g.sourceFormat,g.seriesLayoutBy,g.dimensionsDefine,g.startIndex,n)}function doGuessOrdinal(g,n,r,$,L,V){var oe,re=5;if(isTypedArray$4(g))return BE_ORDINAL.Not;var ae,le;if($){var ue=$[V];isObject$6(ue)?(ae=ue.name,le=ue.type):isString$3(ue)&&(ae=ue)}if(le!=null)return le==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(n===SOURCE_FORMAT_ARRAY_ROWS){var de=g;if(r===SERIES_LAYOUT_BY_ROW){for(var pe=de[V],he=0;he<(pe||[]).length&&he<re;he++)if((oe=ze(pe[L+he]))!=null)return oe}else for(var he=0;he<de.length&&he<re;he++){var _e=de[L+he];if(_e&&(oe=ze(_e[V]))!=null)return oe}}else if(n===SOURCE_FORMAT_OBJECT_ROWS){var Oe=g;if(!ae)return BE_ORDINAL.Not;for(var he=0;he<Oe.length&&he<re;he++){var xe=Oe[he];if(xe&&(oe=ze(xe[ae]))!=null)return oe}}else if(n===SOURCE_FORMAT_KEYED_COLUMNS){var $e=g;if(!ae)return BE_ORDINAL.Not;var pe=$e[ae];if(!pe||isTypedArray$4(pe))return BE_ORDINAL.Not;for(var he=0;he<pe.length&&he<re;he++)if((oe=ze(pe[he]))!=null)return oe}else if(n===SOURCE_FORMAT_ORIGINAL)for(var Ie=g,he=0;he<Ie.length&&he<re;he++){var xe=Ie[he],Ne=getDataItemValue(xe);if(!isArray$6(Ne))return BE_ORDINAL.Not;if((oe=ze(Ne[V]))!=null)return oe}function ze(Ue){var Fe=isString$3(Ue);if(Ue!=null&&isFinite(Ue)&&Ue!=="")return Fe?BE_ORDINAL.Might:BE_ORDINAL.Not;if(Fe&&Ue!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function registerInternalOptionCreator(g,n){assert(internalOptionCreatorMap.get(g)==null&&n),internalOptionCreatorMap.set(g,n)}function concatInternalOptions(g,n,r){var $=internalOptionCreatorMap.get(n);if(!$)return r;var L=$(g);return L?r.concat(L):r}var innerColor=makeInner(),innerDecal=makeInner(),PaletteMixin=function(){function g(){}return g.prototype.getColorFromPalette=function(n,r,$){var L=normalizeToArray(this.get("color",!0)),V=this.get("colorLayer",!0);return getFromPalette(this,innerColor,L,V,n,r,$)},g.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},g}();function getDecalFromPalette(g,n,r,$){var L=normalizeToArray(g.get(["aria","decal","decals"]));return getFromPalette(g,innerDecal,L,null,n,r,$)}function getNearestPalette(g,n){for(var r=g.length,$=0;$<r;$++)if(g[$].length>n)return g[$];return g[r-1]}function getFromPalette(g,n,r,$,L,V,oe){V=V||g;var re=n(V),ae=re.paletteIdx||0,le=re.paletteNameMap=re.paletteNameMap||{};if(le.hasOwnProperty(L))return le[L];var ue=oe==null||!$?r:getNearestPalette($,oe);if(ue=ue||r,!(!ue||!ue.length)){var de=ue[ae];return L&&(le[L]=de),re.paletteIdx=(ae+1)%ue.length,de}}function clearPalette(g,n){n(g).paletteIdx=0,n(g).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,GlobalModel=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.init=function(r,$,L,V,oe,re){V=V||{},this.option=null,this._theme=new Model$1(V),this._locale=new Model$1(oe),this._optionManager=re},n.prototype.setOption=function(r,$,L){var V=normalizeSetOptionInput($);this._optionManager.setOption(r,L,V),this._resetOption(null,V)},n.prototype.resetOption=function(r,$){return this._resetOption(r,normalizeSetOptionInput($))},n.prototype._resetOption=function(r,$){var L=!1,V=this._optionManager;if(!r||r==="recreate"){var oe=V.mountOption(r==="recreate");!this.option||r==="recreate"?initBase(this,oe):(this.restoreData(),this._mergeOption(oe,$)),L=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var re=V.getTimelineOption(this);re&&(L=!0,this._mergeOption(re,$))}if(!r||r==="recreate"||r==="media"){var ae=V.getMediaOption(this);ae.length&&each$f(ae,function(le){L=!0,this._mergeOption(le,$)},this)}return L},n.prototype.mergeOption=function(r){this._mergeOption(r,null)},n.prototype._mergeOption=function(r,$){var L=this.option,V=this._componentsMap,oe=this._componentsCount,re=[],ae=createHashMap(),le=$&&$.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$f(r,function(de,pe){de!=null&&(ComponentModel$1.hasClass(pe)?pe&&(re.push(pe),ae.set(pe,!0)):L[pe]=L[pe]==null?clone$5(de):merge$4(L[pe],de,!0))}),le&&le.each(function(de,pe){ComponentModel$1.hasClass(pe)&&!ae.get(pe)&&(re.push(pe),ae.set(pe,!0))}),ComponentModel$1.topologicalTravel(re,ComponentModel$1.getAllClassMainTypes(),ue,this);function ue(de){var pe=concatInternalOptions(this,de,normalizeToArray(r[de])),he=V.get(de),_e=he?le&&le.get(de)?"replaceMerge":"normalMerge":"replaceAll",Oe=mappingToExists(he,pe,_e);setComponentTypeToKeyInfo(Oe,de,ComponentModel$1),L[de]=null,V.set(de,null),oe.set(de,0);var xe=[],$e=[],Ie=0,Ne;each$f(Oe,function(ze,Ue){var Fe=ze.existing,qe=ze.newOption;if(!qe)Fe&&(Fe.mergeOption({},this),Fe.optionUpdated({},!1));else{var Et=de==="series",At=ComponentModel$1.getClass(de,ze.keyInfo.subType,!Et);if(!At)return;if(de==="tooltip"){if(Ne)return;Ne=!0}if(Fe&&Fe.constructor===At)Fe.name=ze.keyInfo.name,Fe.mergeOption(qe,this),Fe.optionUpdated(qe,!1);else{var kt=extend$3({componentIndex:Ue},ze.keyInfo);Fe=new At(qe,this,this,kt),extend$3(Fe,kt),ze.brandNew&&(Fe.__requireNewView=!0),Fe.init(qe,this,this),Fe.optionUpdated(null,!0)}}Fe?(xe.push(Fe.option),$e.push(Fe),Ie++):(xe.push(void 0),$e.push(void 0))},this),L[de]=xe,V.set(de,$e),oe.set(de,Ie),de==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},n.prototype.getOption=function(){var r=clone$5(this.option);return each$f(r,function($,L){if(ComponentModel$1.hasClass(L)){for(var V=normalizeToArray($),oe=V.length,re=!1,ae=oe-1;ae>=0;ae--)V[ae]&&!isComponentIdInternal(V[ae])?re=!0:(V[ae]=null,!re&&oe--);V.length=oe,r[L]=V}}),delete r[OPTION_INNER_KEY],r},n.prototype.getTheme=function(){return this._theme},n.prototype.getLocaleModel=function(){return this._locale},n.prototype.setUpdatePayload=function(r){this._payload=r},n.prototype.getUpdatePayload=function(){return this._payload},n.prototype.getComponent=function(r,$){var L=this._componentsMap.get(r);if(L){var V=L[$||0];if(V)return V;if($==null){for(var oe=0;oe<L.length;oe++)if(L[oe])return L[oe]}}},n.prototype.queryComponents=function(r){var $=r.mainType;if(!$)return[];var L=r.index,V=r.id,oe=r.name,re=this._componentsMap.get($);if(!re||!re.length)return[];var ae;return L!=null?(ae=[],each$f(normalizeToArray(L),function(le){re[le]&&ae.push(re[le])})):V!=null?ae=queryByIdOrName("id",V,re):oe!=null?ae=queryByIdOrName("name",oe,re):ae=filter(re,function(le){return!!le}),filterBySubType(ae,r)},n.prototype.findComponents=function(r){var $=r.query,L=r.mainType,V=re($),oe=V?this.queryComponents(V):filter(this._componentsMap.get(L),function(le){return!!le});return ae(filterBySubType(oe,r));function re(le){var ue=L+"Index",de=L+"Id",pe=L+"Name";return le&&(le[ue]!=null||le[de]!=null||le[pe]!=null)?{mainType:L,index:le[ue],id:le[de],name:le[pe]}:null}function ae(le){return r.filter?filter(le,r.filter):le}},n.prototype.eachComponent=function(r,$,L){var V=this._componentsMap;if(isFunction$3(r)){var oe=$,re=r;V.each(function(de,pe){for(var he=0;de&&he<de.length;he++){var _e=de[he];_e&&re.call(oe,pe,_e,_e.componentIndex)}})}else for(var ae=isString$3(r)?V.get(r):isObject$6(r)?this.findComponents(r):null,le=0;ae&&le<ae.length;le++){var ue=ae[le];ue&&$.call(L,ue,ue.componentIndex)}},n.prototype.getSeriesByName=function(r){var $=convertOptionIdName(r,null);return filter(this._componentsMap.get("series"),function(L){return!!L&&$!=null&&L.name===$})},n.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},n.prototype.getSeriesByType=function(r){return filter(this._componentsMap.get("series"),function($){return!!$&&$.subType===r})},n.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(r){return!!r})},n.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},n.prototype.eachSeries=function(r,$){assertSeriesInitialized(this),each$f(this._seriesIndices,function(L){var V=this._componentsMap.get("series")[L];r.call($,V,L)},this)},n.prototype.eachRawSeries=function(r,$){each$f(this._componentsMap.get("series"),function(L){L&&r.call($,L,L.componentIndex)})},n.prototype.eachSeriesByType=function(r,$,L){assertSeriesInitialized(this),each$f(this._seriesIndices,function(V){var oe=this._componentsMap.get("series")[V];oe.subType===r&&$.call(L,oe,V)},this)},n.prototype.eachRawSeriesByType=function(r,$,L){return each$f(this.getSeriesByType(r),$,L)},n.prototype.isSeriesFiltered=function(r){return assertSeriesInitialized(this),this._seriesIndicesMap.get(r.componentIndex)==null},n.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},n.prototype.filterSeries=function(r,$){assertSeriesInitialized(this);var L=[];each$f(this._seriesIndices,function(V){var oe=this._componentsMap.get("series")[V];r.call($,oe,V)&&L.push(V)},this),this._seriesIndices=L,this._seriesIndicesMap=createHashMap(L)},n.prototype.restoreData=function(r){reCreateSeriesIndices(this);var $=this._componentsMap,L=[];$.each(function(V,oe){ComponentModel$1.hasClass(oe)&&L.push(oe)}),ComponentModel$1.topologicalTravel(L,ComponentModel$1.getAllClassMainTypes(),function(V){each$f($.get(V),function(oe){oe&&(V!=="series"||!isNotTargetSeries(oe,r))&&oe.restoreData()})})},n.internalField=function(){reCreateSeriesIndices=function(r){var $=r._seriesIndices=[];each$f(r._componentsMap.get("series"),function(L){L&&$.push(L.componentIndex)}),r._seriesIndicesMap=createHashMap($)},assertSeriesInitialized=function(r){},initBase=function(r,$){r.option={},r.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,r._componentsMap=createHashMap({series:[]}),r._componentsCount=createHashMap();var L=$.aria;isObject$6(L)&&L.enabled==null&&(L.enabled=!0),mergeTheme($,r._theme.option),merge$4($,globalDefault,!1),r._mergeOption($,null)}}(),n}(Model$1);function isNotTargetSeries(g,n){if(n){var r=n.seriesIndex,$=n.seriesId,L=n.seriesName;return r!=null&&g.componentIndex!==r||$!=null&&g.id!==$||L!=null&&g.name!==L}}function mergeTheme(g,n){var r=g.color&&!g.colorLayer;each$f(n,function($,L){L==="colorLayer"&&r||ComponentModel$1.hasClass(L)||(typeof $=="object"?g[L]=g[L]?merge$4(g[L],$,!1):clone$5($):g[L]==null&&(g[L]=$))})}function queryByIdOrName(g,n,r){if(isArray$6(n)){var $=createHashMap();return each$f(n,function(V){if(V!=null){var oe=convertOptionIdName(V,null);oe!=null&&$.set(V,!0)}}),filter(r,function(V){return V&&$.get(V[g])})}else{var L=convertOptionIdName(n,null);return filter(r,function(V){return V&&L!=null&&V[g]===L})}}function filterBySubType(g,n){return n.hasOwnProperty("subType")?filter(g,function(r){return r&&r.subType===n.subType}):g}function normalizeSetOptionInput(g){var n=createHashMap();return g&&each$f(normalizeToArray(g.replaceMerge),function(r){n.set(r,!0)}),{replaceMergeMainTypeMap:n}}mixin(GlobalModel,PaletteMixin);const GlobalModel$1=GlobalModel;var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function g(n){each$f(availableMethods,function(r){this[r]=bind$3(n[r],n)},this)}return g}();const ExtensionAPI$1=ExtensionAPI;var coordinateSystemCreators={},CoordinateSystemManager=function(){function g(){this._coordinateSystems=[]}return g.prototype.create=function(n,r){var $=[];each$f(coordinateSystemCreators,function(L,V){var oe=L.create(n,r);$=$.concat(oe||[])}),this._coordinateSystems=$},g.prototype.update=function(n,r){each$f(this._coordinateSystems,function($){$.update&&$.update(n,r)})},g.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},g.register=function(n,r){coordinateSystemCreators[n]=r},g.get=function(n){return coordinateSystemCreators[n]},g}();const CoordinateSystem=CoordinateSystemManager;var QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function g(n){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=n}return g.prototype.setOption=function(n,r,$){n&&(each$f(normalizeToArray(n.series),function(oe){oe&&oe.data&&isTypedArray$4(oe.data)&&setAsPrimitive(oe.data)}),each$f(normalizeToArray(n.dataset),function(oe){oe&&oe.source&&isTypedArray$4(oe.source)&&setAsPrimitive(oe.source)})),n=clone$5(n);var L=this._optionBackup,V=parseRawOption(n,r,!L);this._newBaseOption=V.baseOption,L?(V.timelineOptions.length&&(L.timelineOptions=V.timelineOptions),V.mediaList.length&&(L.mediaList=V.mediaList),V.mediaDefault&&(L.mediaDefault=V.mediaDefault)):this._optionBackup=V},g.prototype.mountOption=function(n){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],clone$5(n?r.baseOption:this._newBaseOption)},g.prototype.getTimelineOption=function(n){var r,$=this._timelineOptions;if($.length){var L=n.getComponent("timeline");L&&(r=clone$5($[L.getCurrentIndex()]))}return r},g.prototype.getMediaOption=function(n){var r=this._api.getWidth(),$=this._api.getHeight(),L=this._mediaList,V=this._mediaDefault,oe=[],re=[];if(!L.length&&!V)return re;for(var ae=0,le=L.length;ae<le;ae++)applyMediaQuery(L[ae].query,r,$)&&oe.push(ae);return!oe.length&&V&&(oe=[-1]),oe.length&&!indicesEquals(oe,this._currentMediaIndices)&&(re=map$2(oe,function(ue){return clone$5(ue===-1?V.option:L[ue].option)})),this._currentMediaIndices=oe,re},g}();function parseRawOption(g,n,r){var $=[],L,V,oe=g.baseOption,re=g.timeline,ae=g.options,le=g.media,ue=!!g.media,de=!!(ae||re||oe&&oe.timeline);oe?(V=oe,V.timeline||(V.timeline=re)):((de||ue)&&(g.options=g.media=null),V=g),ue&&isArray$6(le)&&each$f(le,function(he){he&&he.option&&(he.query?$.push(he):L||(L=he))}),pe(V),each$f(ae,function(he){return pe(he)}),each$f($,function(he){return pe(he.option)});function pe(he){each$f(n,function(_e){_e(he,r)})}return{baseOption:V,timelineOptions:ae||[],mediaDefault:L,mediaList:$}}function applyMediaQuery(g,n,r){var $={width:n,height:r,aspectratio:n/r},L=!0;return each$f(g,function(V,oe){var re=oe.match(QUERY_REG);if(!(!re||!re[1]||!re[2])){var ae=re[1],le=re[2].toLowerCase();compare$1($[le],V,ae)||(L=!1)}}),L}function compare$1(g,n,r){return r==="min"?g>=n:r==="max"?g<=n:g===n}function indicesEquals(g,n){return g.join(",")===n.join(",")}const OptionManager$1=OptionManager;var each$d=each$f,isObject$5=isObject$6,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(g){var n=g&&g.itemStyle;if(n)for(var r=0,$=POSSIBLE_STYLES.length;r<$;r++){var L=POSSIBLE_STYLES[r],V=n.normal,oe=n.emphasis;V&&V[L]&&(g[L]=g[L]||{},g[L].normal?merge$4(g[L].normal,V[L]):g[L].normal=V[L],V[L]=null),oe&&oe[L]&&(g[L]=g[L]||{},g[L].emphasis?merge$4(g[L].emphasis,oe[L]):g[L].emphasis=oe[L],oe[L]=null)}}function convertNormalEmphasis(g,n,r){if(g&&g[n]&&(g[n].normal||g[n].emphasis)){var $=g[n].normal,L=g[n].emphasis;$&&(r?(g[n].normal=g[n].emphasis=null,defaults$5(g[n],$)):g[n]=$),L&&(g.emphasis=g.emphasis||{},g.emphasis[n]=L,L.focus&&(g.emphasis.focus=L.focus),L.blurScope&&(g.emphasis.blurScope=L.blurScope))}}function removeEC3NormalStatus(g){convertNormalEmphasis(g,"itemStyle"),convertNormalEmphasis(g,"lineStyle"),convertNormalEmphasis(g,"areaStyle"),convertNormalEmphasis(g,"label"),convertNormalEmphasis(g,"labelLine"),convertNormalEmphasis(g,"upperLabel"),convertNormalEmphasis(g,"edgeLabel")}function compatTextStyle(g,n){var r=isObject$5(g)&&g[n],$=isObject$5(r)&&r.textStyle;if($)for(var L=0,V=TEXT_STYLE_OPTIONS.length;L<V;L++){var oe=TEXT_STYLE_OPTIONS[L];$.hasOwnProperty(oe)&&(r[oe]=$[oe])}}function compatEC3CommonStyles(g){g&&(removeEC3NormalStatus(g),compatTextStyle(g,"label"),g.emphasis&&compatTextStyle(g.emphasis,"label"))}function processSeries(g){if(isObject$5(g)){compatEC2ItemStyle(g),removeEC3NormalStatus(g),compatTextStyle(g,"label"),compatTextStyle(g,"upperLabel"),compatTextStyle(g,"edgeLabel"),g.emphasis&&(compatTextStyle(g.emphasis,"label"),compatTextStyle(g.emphasis,"upperLabel"),compatTextStyle(g.emphasis,"edgeLabel"));var n=g.markPoint;n&&(compatEC2ItemStyle(n),compatEC3CommonStyles(n));var r=g.markLine;r&&(compatEC2ItemStyle(r),compatEC3CommonStyles(r));var $=g.markArea;$&&compatEC3CommonStyles($);var L=g.data;if(g.type==="graph"){L=L||g.nodes;var V=g.links||g.edges;if(V&&!isTypedArray$4(V))for(var oe=0;oe<V.length;oe++)compatEC3CommonStyles(V[oe]);each$f(g.categories,function(le){removeEC3NormalStatus(le)})}if(L&&!isTypedArray$4(L))for(var oe=0;oe<L.length;oe++)compatEC3CommonStyles(L[oe]);if(n=g.markPoint,n&&n.data)for(var re=n.data,oe=0;oe<re.length;oe++)compatEC3CommonStyles(re[oe]);if(r=g.markLine,r&&r.data)for(var ae=r.data,oe=0;oe<ae.length;oe++)isArray$6(ae[oe])?(compatEC3CommonStyles(ae[oe][0]),compatEC3CommonStyles(ae[oe][1])):compatEC3CommonStyles(ae[oe]);g.type==="gauge"?(compatTextStyle(g,"axisLabel"),compatTextStyle(g,"title"),compatTextStyle(g,"detail")):g.type==="treemap"?(convertNormalEmphasis(g.breadcrumb,"itemStyle"),each$f(g.levels,function(le){removeEC3NormalStatus(le)})):g.type==="tree"&&removeEC3NormalStatus(g.leaves)}}function toArr(g){return isArray$6(g)?g:g?[g]:[]}function toObj(g){return(isArray$6(g)?g[0]:g)||{}}function globalCompatStyle(g,n){each$d(toArr(g.series),function($){isObject$5($)&&processSeries($)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];n&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$d(r,function($){each$d(toArr(g[$]),function(L){L&&(compatTextStyle(L,"axisLabel"),compatTextStyle(L.axisPointer,"label"))})}),each$d(toArr(g.parallel),function($){var L=$&&$.parallelAxisDefault;compatTextStyle(L,"axisLabel"),compatTextStyle(L&&L.axisPointer,"label")}),each$d(toArr(g.calendar),function($){convertNormalEmphasis($,"itemStyle"),compatTextStyle($,"dayLabel"),compatTextStyle($,"monthLabel"),compatTextStyle($,"yearLabel")}),each$d(toArr(g.radar),function($){compatTextStyle($,"name"),$.name&&$.axisName==null&&($.axisName=$.name,delete $.name),$.nameGap!=null&&$.axisNameGap==null&&($.axisNameGap=$.nameGap,delete $.nameGap)}),each$d(toArr(g.geo),function($){isObject$5($)&&(compatEC3CommonStyles($),each$d(toArr($.regions),function(L){compatEC3CommonStyles(L)}))}),each$d(toArr(g.timeline),function($){compatEC3CommonStyles($),convertNormalEmphasis($,"label"),convertNormalEmphasis($,"itemStyle"),convertNormalEmphasis($,"controlStyle",!0);var L=$.data;isArray$6(L)&&each$f(L,function(V){isObject$6(V)&&(convertNormalEmphasis(V,"label"),convertNormalEmphasis(V,"itemStyle"))})}),each$d(toArr(g.toolbox),function($){convertNormalEmphasis($,"iconStyle"),each$d($.feature,function(L){convertNormalEmphasis(L,"iconStyle")})}),compatTextStyle(toObj(g.axisPointer),"label"),compatTextStyle(toObj(g.tooltip).axisPointer,"label")}function get$1(g,n){for(var r=n.split(","),$=g,L=0;L<r.length&&($=$&&$[r[L]],$!=null);L++);return $}function set$1(g,n,r,$){for(var L=n.split(","),V=g,oe,re=0;re<L.length-1;re++)oe=L[re],V[oe]==null&&(V[oe]={}),V=V[oe];($||V[L[re]]==null)&&(V[L[re]]=r)}function compatLayoutProperties(g){g&&each$f(LAYOUT_PROPERTIES,function(n){n[0]in g&&!(n[1]in g)&&(g[n[1]]=g[n[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(g){var n=g&&g.itemStyle;if(n)for(var r=0;r<BAR_ITEM_STYLE_MAP.length;r++){var $=BAR_ITEM_STYLE_MAP[r][1],L=BAR_ITEM_STYLE_MAP[r][0];n[$]!=null&&(n[L]=n[$])}}function compatPieLabel(g){!g||g.alignTo==="edge"&&g.margin!=null&&g.edgeDistance==null&&(g.edgeDistance=g.margin)}function compatSunburstState(g){!g||g.downplay&&!g.blur&&(g.blur=g.downplay)}function compatGraphFocus(g){!g||g.focusNodeAdjacency!=null&&(g.emphasis=g.emphasis||{},g.emphasis.focus==null&&(g.emphasis.focus="adjacency"))}function traverseTree(g,n){if(g)for(var r=0;r<g.length;r++)n(g[r]),g[r]&&traverseTree(g[r].children,n)}function globalBackwardCompat(g,n){globalCompatStyle(g,n),g.series=normalizeToArray(g.series),each$f(g.series,function(r){if(isObject$6(r)){var $=r.type;if($==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if($==="pie"||$==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),compatPieLabel(r.label);var L=r.data;if(L&&!isTypedArray$4(L))for(var V=0;V<L.length;V++)compatPieLabel(L[V]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if($==="gauge"){var oe=get$1(r,"pointer.color");oe!=null&&set$1(r,"itemStyle.color",oe)}else if($==="bar"){compatBarItemStyle(r),compatBarItemStyle(r.backgroundStyle),compatBarItemStyle(r.emphasis);var L=r.data;if(L&&!isTypedArray$4(L))for(var V=0;V<L.length;V++)typeof L[V]=="object"&&(compatBarItemStyle(L[V]),compatBarItemStyle(L[V]&&L[V].emphasis))}else if($==="sunburst"){var re=r.highlightPolicy;re&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=re)),compatSunburstState(r),traverseTree(r.data,compatSunburstState)}else $==="graph"||$==="sankey"?compatGraphFocus(r):$==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&defaults$5(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),compatLayoutProperties(r)}}),g.dataRange&&(g.visualMap=g.dataRange),each$f(COMPATITABLE_COMPONENTS,function(r){var $=g[r];$&&(isArray$6($)||($=[$]),each$f($,function(L){compatLayoutProperties(L)}))})}function dataStack(g){var n=createHashMap();g.eachSeries(function(r){var $=r.get("stack");if($){var L=n.get($)||n.set($,[]),V=r.getData(),oe={stackResultDimension:V.getCalculationInfo("stackResultDimension"),stackedOverDimension:V.getCalculationInfo("stackedOverDimension"),stackedDimension:V.getCalculationInfo("stackedDimension"),stackedByDimension:V.getCalculationInfo("stackedByDimension"),isStackedByIndex:V.getCalculationInfo("isStackedByIndex"),data:V,seriesModel:r};if(!oe.stackedDimension||!(oe.isStackedByIndex||oe.stackedByDimension))return;L.length&&V.setCalculationInfo("stackedOnSeries",L[L.length-1].seriesModel),L.push(oe)}}),n.each(calculateStack)}function calculateStack(g){each$f(g,function(n,r){var $=[],L=[NaN,NaN],V=[n.stackResultDimension,n.stackedOverDimension],oe=n.data,re=n.isStackedByIndex,ae=n.seriesModel.get("stackStrategy")||"samesign";oe.modify(V,function(le,ue,de){var pe=oe.get(n.stackedDimension,de);if(isNaN(pe))return L;var he,_e;re?_e=oe.getRawIndex(de):he=oe.get(n.stackedByDimension,de);for(var Oe=NaN,xe=r-1;xe>=0;xe--){var $e=g[xe];if(re||(_e=$e.data.rawIndexOf($e.stackedByDimension,he)),_e>=0){var Ie=$e.data.getByRawIndex($e.stackResultDimension,_e);if(ae==="all"||ae==="positive"&&Ie>0||ae==="negative"&&Ie<0||ae==="samesign"&&pe>=0&&Ie>0||ae==="samesign"&&pe<=0&&Ie<0){pe=addSafe(pe,Ie),Oe=Ie;break}}}return $[0]=pe,$[1]=Oe,$})})}var SourceImpl=function(){function g(n){this.data=n.data||(n.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=n.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=n.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var r=this.dimensionsDefine=n.dimensionsDefine;if(r)for(var $=0;$<r.length;$++){var L=r[$];L.type==null&&guessOrdinal(this,$)===BE_ORDINAL.Must&&(L.type="ordinal")}}return g}();function isSourceInstance(g){return g instanceof SourceImpl}function createSource(g,n,r){r=r||detectSourceFormat(g);var $=n.seriesLayoutBy,L=determineSourceDimensions(g,r,$,n.sourceHeader,n.dimensions),V=new SourceImpl({data:g,sourceFormat:r,seriesLayoutBy:$,dimensionsDefine:L.dimensionsDefine,startIndex:L.startIndex,dimensionsDetectedCount:L.dimensionsDetectedCount,metaRawOption:clone$5(n)});return V}function createSourceFromSeriesDataOption(g){return new SourceImpl({data:g,sourceFormat:isTypedArray$4(g)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(g){return new SourceImpl({data:g.data,sourceFormat:g.sourceFormat,seriesLayoutBy:g.seriesLayoutBy,dimensionsDefine:clone$5(g.dimensionsDefine),startIndex:g.startIndex,dimensionsDetectedCount:g.dimensionsDetectedCount})}function detectSourceFormat(g){var n=SOURCE_FORMAT_UNKNOWN;if(isTypedArray$4(g))n=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$6(g)){g.length===0&&(n=SOURCE_FORMAT_ARRAY_ROWS);for(var r=0,$=g.length;r<$;r++){var L=g[r];if(L!=null){if(isArray$6(L)){n=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$6(L)){n=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$6(g)){for(var V in g)if(hasOwn(g,V)&&isArrayLike$1(g[V])){n=SOURCE_FORMAT_KEYED_COLUMNS;break}}return n}function determineSourceDimensions(g,n,r,$,L){var V,oe;if(!g)return{dimensionsDefine:normalizeDimensionsOption(L),startIndex:oe,dimensionsDetectedCount:V};if(n===SOURCE_FORMAT_ARRAY_ROWS){var re=g;$==="auto"||$==null?arrayRowsTravelFirst(function(le){le!=null&&le!=="-"&&(isString$3(le)?oe==null&&(oe=1):oe=0)},r,re,10):oe=isNumber$3($)?$:$?1:0,!L&&oe===1&&(L=[],arrayRowsTravelFirst(function(le,ue){L[ue]=le!=null?le+"":""},r,re,1/0)),V=L?L.length:r===SERIES_LAYOUT_BY_ROW?re.length:re[0]?re[0].length:null}else if(n===SOURCE_FORMAT_OBJECT_ROWS)L||(L=objectRowsCollectDimensions(g));else if(n===SOURCE_FORMAT_KEYED_COLUMNS)L||(L=[],each$f(g,function(le,ue){L.push(ue)}));else if(n===SOURCE_FORMAT_ORIGINAL){var ae=getDataItemValue(g[0]);V=isArray$6(ae)&&ae.length||1}return{startIndex:oe,dimensionsDefine:normalizeDimensionsOption(L),dimensionsDetectedCount:V}}function objectRowsCollectDimensions(g){for(var n=0,r;n<g.length&&!(r=g[n++]););if(r)return keys$2(r)}function normalizeDimensionsOption(g){if(g){var n=createHashMap();return map$2(g,function(r,$){r=isObject$6(r)?r:{name:r};var L={name:r.name,displayName:r.displayName,type:r.type};if(L.name==null)return L;L.name+="",L.displayName==null&&(L.displayName=L.name);var V=n.get(L.name);return V?L.name+="-"+V.count++:n.set(L.name,{count:1}),L})}}function arrayRowsTravelFirst(g,n,r,$){if(n===SERIES_LAYOUT_BY_ROW)for(var L=0;L<r.length&&L<$;L++)g(r[L]?r[L][0]:null,L);else for(var V=r[0]||[],L=0;L<V.length&&L<$;L++)g(V[L],L)}function shouldRetrieveDataByName(g){var n=g.sourceFormat;return n===SOURCE_FORMAT_OBJECT_ROWS||n===SOURCE_FORMAT_KEYED_COLUMNS}var _a$2,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function g(n,r){var $=isSourceInstance(n)?n:createSourceFromSeriesDataOption(n);this._source=$;var L=this._data=$.data;$.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=r,this._data=L),mountMethods(this,L,$)}return g.prototype.getSource=function(){return this._source},g.prototype.count=function(){return 0},g.prototype.getItem=function(n,r){},g.prototype.appendData=function(n){},g.prototype.clean=function(){},g.protoInitialize=function(){var n=g.prototype;n.pure=!1,n.persistent=!0}(),g.internalField=function(){var n;mountMethods=function(oe,re,ae){var le=ae.sourceFormat,ue=ae.seriesLayoutBy,de=ae.startIndex,pe=ae.dimensionsDefine,he=providerMethods[getMethodMapKey(le,ue)];if(extend$3(oe,he),le===SOURCE_FORMAT_TYPED_ARRAY)oe.getItem=r,oe.count=L,oe.fillStorage=$;else{var _e=getRawSourceItemGetter(le,ue);oe.getItem=bind$3(_e,null,re,de,pe);var Oe=getRawSourceDataCounter(le,ue);oe.count=bind$3(Oe,null,re,de,pe)}};var r=function(oe,re){oe=oe-this._offset,re=re||[];for(var ae=this._data,le=this._dimSize,ue=le*oe,de=0;de<le;de++)re[de]=ae[ue+de];return re},$=function(oe,re,ae,le){for(var ue=this._data,de=this._dimSize,pe=0;pe<de;pe++){for(var he=le[pe],_e=he[0]==null?1/0:he[0],Oe=he[1]==null?-1/0:he[1],xe=re-oe,$e=ae[pe],Ie=0;Ie<xe;Ie++){var Ne=ue[Ie*de+pe];$e[oe+Ie]=Ne,Ne<_e&&(_e=Ne),Ne>Oe&&(Oe=Ne)}he[0]=_e,he[1]=Oe}},L=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(n={},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:V},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},n[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:V},n[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(oe){var re=this._data;each$f(oe,function(ae,le){for(var ue=re[le]||(re[le]=[]),de=0;de<(ae||[]).length;de++)ue.push(ae[de])})}},n[SOURCE_FORMAT_ORIGINAL]={appendData:V},n[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(oe){this._data=oe},clean:function(){this._offset+=this.count(),this._data=null}},n);function V(oe){for(var re=0;re<oe.length;re++)this._data.push(oe[re])}}(),g}(),getItemSimply=function(g,n,r,$){return g[$]},rawSourceItemGetterMap=(_a$2={},_a$2[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(g,n,r,$){return g[$+n]},_a$2[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(g,n,r,$,L){$+=n;for(var V=L||[],oe=g,re=0;re<oe.length;re++){var ae=oe[re];V[re]=ae?ae[$]:null}return V},_a$2[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a$2[SOURCE_FORMAT_KEYED_COLUMNS]=function(g,n,r,$,L){for(var V=L||[],oe=0;oe<r.length;oe++){var re=r[oe].name,ae=g[re];V[oe]=ae?ae[$]:null}return V},_a$2[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a$2);function getRawSourceItemGetter(g,n){var r=rawSourceItemGetterMap[getMethodMapKey(g,n)];return r}var countSimply=function(g,n,r){return g.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(g,n,r){return Math.max(0,g.length-n)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(g,n,r){var $=g[0];return $?Math.max(0,$.length-n):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(g,n,r){var $=r[0].name,L=g[$];return L?L.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(g,n){var r=rawSourceDataCounterMap[getMethodMapKey(g,n)];return r}var getRawValueSimply=function(g,n,r){return g[n]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(g,n,r){return g[r]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(g,n,r){var $=getDataItemValue(g);return $ instanceof Array?$[n]:$},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(g){var n=rawSourceValueGetterMap[g];return n}function getMethodMapKey(g,n){return g===SOURCE_FORMAT_ARRAY_ROWS?g+"_"+n:g}function retrieveRawValue(g,n,r){if(g){var $=g.getRawDataItem(n);if($!=null){var L=g.getStore(),V=L.getSource().sourceFormat;if(r!=null){var oe=g.getDimensionIndex(r),re=L.getDimensionProperty(oe);return getRawSourceValueGetter(V)($,oe,re)}else{var ae=$;return V===SOURCE_FORMAT_ORIGINAL&&(ae=getDataItemValue($)),ae}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function g(){}return g.prototype.getDataParams=function(n,r){var $=this.getData(r),L=this.getRawValue(n,r),V=$.getRawIndex(n),oe=$.getName(n),re=$.getRawDataItem(n),ae=$.getItemVisual(n,"style"),le=ae&&ae[$.getItemVisual(n,"drawType")||"fill"],ue=ae&&ae.stroke,de=this.mainType,pe=de==="series",he=$.userOutput&&$.userOutput.get();return{componentType:de,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:pe?this.subType:null,seriesIndex:this.seriesIndex,seriesId:pe?this.id:null,seriesName:pe?this.name:null,name:oe,dataIndex:V,data:re,dataType:r,value:L,color:le,borderColor:ue,dimensionNames:he?he.fullDimensions:null,encode:he?he.encode:null,$vars:["seriesName","name","value"]}},g.prototype.getFormattedLabel=function(n,r,$,L,V,oe){r=r||"normal";var re=this.getData($),ae=this.getDataParams(n,$);if(oe&&(ae.value=oe.interpolatedValue),L!=null&&isArray$6(ae.value)&&(ae.value=ae.value[L]),!V){var le=re.getItemModel(n);V=le.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(isFunction$3(V))return ae.status=r,ae.dimensionIndex=L,V(ae);if(isString$3(V)){var ue=formatTpl(V,ae);return ue.replace(DIMENSION_LABEL_REG,function(de,pe){var he=pe.length,_e=pe;_e.charAt(0)==="["&&_e.charAt(he-1)==="]"&&(_e=+_e.slice(1,he-1));var Oe=retrieveRawValue(re,n,_e);if(oe&&isArray$6(oe.interpolatedValue)){var xe=re.getDimensionIndex(_e);xe>=0&&(Oe=oe.interpolatedValue[xe])}return Oe!=null?Oe+"":""})}},g.prototype.getRawValue=function(n,r){return retrieveRawValue(this.getData(r),n)},g.prototype.formatTooltip=function(n,r,$){},g}();function normalizeTooltipFormatResult(g){var n,r;return isObject$6(g)?g.type&&(r=g):n=g,{text:n,frag:r}}function createTask(g){return new Task(g)}var Task=function(){function g(n){n=n||{},this._reset=n.reset,this._plan=n.plan,this._count=n.count,this._onDirty=n.onDirty,this._dirty=!0}return g.prototype.perform=function(n){var r=this._upstream,$=n&&n.skip;if(this._dirty&&r){var L=this.context;L.data=L.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var V;this._plan&&!$&&(V=this._plan(this.context));var oe=ue(this._modBy),re=this._modDataCount||0,ae=ue(n&&n.modBy),le=n&&n.modDataCount||0;(oe!==ae||re!==le)&&(V="reset");function ue(Ie){return!(Ie>=1)&&(Ie=1),Ie}var de;(this._dirty||V==="reset")&&(this._dirty=!1,de=this._doReset($)),this._modBy=ae,this._modDataCount=le;var pe=n&&n.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var he=this._dueIndex,_e=Math.min(pe!=null?this._dueIndex+pe:1/0,this._dueEnd);if(!$&&(de||he<_e)){var Oe=this._progress;if(isArray$6(Oe))for(var xe=0;xe<Oe.length;xe++)this._doProgress(Oe[xe],he,_e,ae,le);else this._doProgress(Oe,he,_e,ae,le)}this._dueIndex=_e;var $e=this._settedOutputEnd!=null?this._settedOutputEnd:_e;this._outputDueEnd=$e}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},g.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},g.prototype._doProgress=function(n,r,$,L,V){iterator.reset(r,$,L,V),this._callingProgress=n,this._callingProgress({start:r,end:$,count:$-r,next:iterator.next},this.context)},g.prototype._doReset=function(n){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,$;!n&&this._reset&&(r=this._reset(this.context),r&&r.progress&&($=r.forceFirstProgress,r=r.progress),isArray$6(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var L=this._downstream;return L&&L.dirty(),$},g.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},g.prototype.pipe=function(n){(this._downstream!==n||this._dirty)&&(this._downstream=n,n._upstream=this,n.dirty())},g.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},g.prototype.getUpstream=function(){return this._upstream},g.prototype.getDownstream=function(){return this._downstream},g.prototype.setOutputEnd=function(n){this._outputDueEnd=this._settedOutputEnd=n},g}(),iterator=function(){var g,n,r,$,L,V={reset:function(ae,le,ue,de){n=ae,g=le,r=ue,$=de,L=Math.ceil($/r),V.next=r>1&&$>0?re:oe}};return V;function oe(){return n<g?n++:null}function re(){var ae=n%L*r+Math.ceil(n/L),le=n>=g?null:ae<$?ae:n;return n++,le}}();function parseDataValue(g,n){var r=n&&n.type;return r==="ordinal"?g:(r==="time"&&!isNumber$3(g)&&g!=null&&g!=="-"&&(g=+parseDate$1(g)),g==null||g===""?NaN:+g)}var valueParserMap=createHashMap({number:function(g){return parseFloat(g)},time:function(g){return+parseDate$1(g)},trim:function(g){return isString$3(g)?trim$3(g):g}});function getRawValueParser(g){return valueParserMap.get(g)}var ORDER_COMPARISON_OP_MAP={lt:function(g,n){return g<n},lte:function(g,n){return g<=n},gt:function(g,n){return g>n},gte:function(g,n){return g>=n}},FilterOrderComparator=function(){function g(n,r){if(!isNumber$3(r)){var $="";throwError$1($)}this._opFn=ORDER_COMPARISON_OP_MAP[n],this._rvalFloat=numericToNumber(r)}return g.prototype.evaluate=function(n){return isNumber$3(n)?this._opFn(n,this._rvalFloat):this._opFn(numericToNumber(n),this._rvalFloat)},g}(),SortOrderComparator=function(){function g(n,r){var $=n==="desc";this._resultLT=$?1:-1,r==null&&(r=$?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return g.prototype.evaluate=function(n,r){var $=isNumber$3(n)?n:numericToNumber(n),L=isNumber$3(r)?r:numericToNumber(r),V=isNaN($),oe=isNaN(L);if(V&&($=this._incomparable),oe&&(L=this._incomparable),V&&oe){var re=isString$3(n),ae=isString$3(r);re&&($=ae?n:0),ae&&(L=re?r:0)}return $<L?this._resultLT:$>L?-this._resultLT:0},g}(),FilterEqualityComparator=function(){function g(n,r){this._rval=r,this._isEQ=n,this._rvalTypeof=typeof r,this._rvalFloat=numericToNumber(r)}return g.prototype.evaluate=function(n){var r=n===this._rval;if(!r){var $=typeof n;$!==this._rvalTypeof&&($==="number"||this._rvalTypeof==="number")&&(r=numericToNumber(n)===this._rvalFloat)}return this._isEQ?r:!r},g}();function createFilterComparator(g,n){return g==="eq"||g==="ne"?new FilterEqualityComparator(g==="eq",n):hasOwn(ORDER_COMPARISON_OP_MAP,g)?new FilterOrderComparator(g,n):null}var ExternalSource=function(){function g(){}return g.prototype.getRawData=function(){throw new Error("not supported")},g.prototype.getRawDataItem=function(n){throw new Error("not supported")},g.prototype.cloneRawData=function(){},g.prototype.getDimensionInfo=function(n){},g.prototype.cloneAllDimensionInfo=function(){},g.prototype.count=function(){},g.prototype.retrieveValue=function(n,r){},g.prototype.retrieveValueFromItem=function(n,r){},g.prototype.convertValue=function(n,r){return parseDataValue(n,r)},g}();function createExternalSource(g,n){var r=new ExternalSource,$=g.data,L=r.sourceFormat=g.sourceFormat,V=g.startIndex,oe="";g.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&throwError$1(oe);var re=[],ae={},le=g.dimensionsDefine;if(le)each$f(le,function(Oe,xe){var $e=Oe.name,Ie={index:xe,name:$e,displayName:Oe.displayName};if(re.push(Ie),$e!=null){var Ne="";hasOwn(ae,$e)&&throwError$1(Ne),ae[$e]=Ie}});else for(var ue=0;ue<g.dimensionsDetectedCount;ue++)re.push({index:ue});var de=getRawSourceItemGetter(L,SERIES_LAYOUT_BY_COLUMN);n.__isBuiltIn&&(r.getRawDataItem=function(Oe){return de($,V,re,Oe)},r.getRawData=bind$3(getRawData,null,g)),r.cloneRawData=bind$3(cloneRawData,null,g);var pe=getRawSourceDataCounter(L,SERIES_LAYOUT_BY_COLUMN);r.count=bind$3(pe,null,$,V,re);var he=getRawSourceValueGetter(L);r.retrieveValue=function(Oe,xe){var $e=de($,V,re,Oe);return _e($e,xe)};var _e=r.retrieveValueFromItem=function(Oe,xe){if(Oe!=null){var $e=re[xe];if($e)return he(Oe,xe,$e.name)}};return r.getDimensionInfo=bind$3(getDimensionInfo,null,re,ae),r.cloneAllDimensionInfo=bind$3(cloneAllDimensionInfo,null,re),r}function getRawData(g){var n=g.sourceFormat;if(!isSupportedSourceFormat(n)){var r="";throwError$1(r)}return g.data}function cloneRawData(g){var n=g.sourceFormat,r=g.data;if(!isSupportedSourceFormat(n)){var $="";throwError$1($)}if(n===SOURCE_FORMAT_ARRAY_ROWS){for(var L=[],V=0,oe=r.length;V<oe;V++)L.push(r[V].slice());return L}else if(n===SOURCE_FORMAT_OBJECT_ROWS){for(var L=[],V=0,oe=r.length;V<oe;V++)L.push(extend$3({},r[V]));return L}}function getDimensionInfo(g,n,r){if(r!=null){if(isNumber$3(r)||!isNaN(r)&&!hasOwn(n,r))return g[r];if(hasOwn(n,r))return n[r]}}function cloneAllDimensionInfo(g){return clone$5(g)}var externalTransformMap=createHashMap();function registerExternalTransform(g){g=clone$5(g);var n=g.type,r="";n||throwError$1(r);var $=n.split(":");$.length!==2&&throwError$1(r);var L=!1;$[0]==="echarts"&&(n=$[1],L=!0),g.__isBuiltIn=L,externalTransformMap.set(n,g)}function applyDataTransform(g,n,r){var $=normalizeToArray(g),L=$.length,V="";L||throwError$1(V);for(var oe=0,re=L;oe<re;oe++){var ae=$[oe];n=applySingleDataTransform(ae,n),oe!==re-1&&(n.length=Math.max(n.length,1))}return n}function applySingleDataTransform(g,n,r,$){var L="";n.length||throwError$1(L),isObject$6(g)||throwError$1(L);var V=g.type,oe=externalTransformMap.get(V);oe||throwError$1(L);var re=map$2(n,function(le){return createExternalSource(le,oe)}),ae=normalizeToArray(oe.transform({upstream:re[0],upstreamList:re,config:clone$5(g.config)}));return map$2(ae,function(le,ue){var de="";isObject$6(le)||throwError$1(de),le.data||throwError$1(de);var pe=detectSourceFormat(le.data);isSupportedSourceFormat(pe)||throwError$1(de);var he,_e=n[0];if(_e&&ue===0&&!le.dimensions){var Oe=_e.startIndex;Oe&&(le.data=_e.data.slice(0,Oe).concat(le.data)),he={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:Oe,dimensions:_e.metaRawOption.dimensions}}else he={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:le.dimensions};return createSource(le.data,he,null)})}function isSupportedSourceFormat(g){return g===SOURCE_FORMAT_ARRAY_ROWS||g===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(g){return g>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(g){var n=g.constructor;return n===Array?g.slice():new n(g)}function prepareStore(g,n,r,$,L){var V=dataCtors[r||"float"];if(L){var oe=g[n],re=oe&&oe.length;if(re!==$){for(var ae=new V($),le=0;le<re;le++)ae[le]=oe[le];g[n]=ae}}else g[n]=new V($)}var DataStore=function(){function g(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return g.prototype.initData=function(n,r,$){this._provider=n,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var L=n.getSource(),V=this.defaultDimValueGetter=defaultDimValueGetters[L.sourceFormat];this._dimValueGetter=$||V,this._rawExtent=[],shouldRetrieveDataByName(L),this._dimensions=map$2(r,function(oe){return{type:oe.type,property:oe.property}}),this._initDataFromProvider(0,n.count())},g.prototype.getProvider=function(){return this._provider},g.prototype.getSource=function(){return this._provider.getSource()},g.prototype.ensureCalculationDimension=function(n,r){var $=this._calcDimNameToIdx,L=this._dimensions,V=$.get(n);if(V!=null){if(L[V].type===r)return V}else V=L.length;return L[V]={type:r},$.set(n,V),this._chunks[V]=new dataCtors[r||"float"](this._rawCount),this._rawExtent[V]=getInitialExtent(),V},g.prototype.collectOrdinalMeta=function(n,r){var $=this._chunks[n],L=this._dimensions[n],V=this._rawExtent,oe=L.ordinalOffset||0,re=$.length;oe===0&&(V[n]=getInitialExtent());for(var ae=V[n],le=oe;le<re;le++){var ue=$[le]=r.parseAndCollect($[le]);isNaN(ue)||(ae[0]=Math.min(ue,ae[0]),ae[1]=Math.max(ue,ae[1]))}L.ordinalMeta=r,L.ordinalOffset=re,L.type="ordinal"},g.prototype.getOrdinalMeta=function(n){var r=this._dimensions[n],$=r.ordinalMeta;return $},g.prototype.getDimensionProperty=function(n){var r=this._dimensions[n];return r&&r.property},g.prototype.appendData=function(n){var r=this._provider,$=this.count();r.appendData(n);var L=r.count();return r.persistent||(L+=$),$<L&&this._initDataFromProvider($,L,!0),[$,L]},g.prototype.appendValues=function(n,r){for(var $=this._chunks,L=this._dimensions,V=L.length,oe=this._rawExtent,re=this.count(),ae=re+Math.max(n.length,r||0),le=0;le<V;le++){var ue=L[le];prepareStore($,le,ue.type,ae,!0)}for(var de=[],pe=re;pe<ae;pe++)for(var he=pe-re,_e=0;_e<V;_e++){var ue=L[_e],Oe=defaultDimValueGetters.arrayRows.call(this,n[he]||de,ue.property,he,_e);$[_e][pe]=Oe;var xe=oe[_e];Oe<xe[0]&&(xe[0]=Oe),Oe>xe[1]&&(xe[1]=Oe)}return this._rawCount=this._count=ae,{start:re,end:ae}},g.prototype._initDataFromProvider=function(n,r,$){for(var L=this._provider,V=this._chunks,oe=this._dimensions,re=oe.length,ae=this._rawExtent,le=map$2(oe,function(Ie){return Ie.property}),ue=0;ue<re;ue++){var de=oe[ue];ae[ue]||(ae[ue]=getInitialExtent()),prepareStore(V,ue,de.type,r,$)}if(L.fillStorage)L.fillStorage(n,r,V,ae);else for(var pe=[],he=n;he<r;he++){pe=L.getItem(he,pe);for(var _e=0;_e<re;_e++){var Oe=V[_e],xe=this._dimValueGetter(pe,le[_e],he,_e);Oe[he]=xe;var $e=ae[_e];xe<$e[0]&&($e[0]=xe),xe>$e[1]&&($e[1]=xe)}}!L.persistent&&L.clean&&L.clean(),this._rawCount=this._count=r,this._extent=[]},g.prototype.count=function(){return this._count},g.prototype.get=function(n,r){if(!(r>=0&&r<this._count))return NaN;var $=this._chunks[n];return $?$[this.getRawIndex(r)]:NaN},g.prototype.getValues=function(n,r){var $=[],L=[];if(r==null){r=n,n=[];for(var V=0;V<this._dimensions.length;V++)L.push(V)}else L=n;for(var V=0,oe=L.length;V<oe;V++)$.push(this.get(L[V],r));return $},g.prototype.getByRawIndex=function(n,r){if(!(r>=0&&r<this._rawCount))return NaN;var $=this._chunks[n];return $?$[r]:NaN},g.prototype.getSum=function(n){var r=this._chunks[n],$=0;if(r)for(var L=0,V=this.count();L<V;L++){var oe=this.get(n,L);isNaN(oe)||($+=oe)}return $},g.prototype.getMedian=function(n){var r=[];this.each([n],function(V){isNaN(V)||r.push(V)});var $=r.sort(function(V,oe){return V-oe}),L=this.count();return L===0?0:L%2===1?$[(L-1)/2]:($[L/2]+$[L/2-1])/2},g.prototype.indexOfRawIndex=function(n){if(n>=this._rawCount||n<0)return-1;if(!this._indices)return n;var r=this._indices,$=r[n];if($!=null&&$<this._count&&$===n)return n;for(var L=0,V=this._count-1;L<=V;){var oe=(L+V)/2|0;if(r[oe]<n)L=oe+1;else if(r[oe]>n)V=oe-1;else return oe}return-1},g.prototype.indicesOfNearest=function(n,r,$){var L=this._chunks,V=L[n],oe=[];if(!V)return oe;$==null&&($=1/0);for(var re=1/0,ae=-1,le=0,ue=0,de=this.count();ue<de;ue++){var pe=this.getRawIndex(ue),he=r-V[pe],_e=Math.abs(he);_e<=$&&((_e<re||_e===re&&he>=0&&ae<0)&&(re=_e,ae=he,le=0),he===ae&&(oe[le++]=ue))}return oe.length=le,oe},g.prototype.getIndices=function(){var n,r=this._indices;if(r){var $=r.constructor,L=this._count;if($===Array){n=new $(L);for(var V=0;V<L;V++)n[V]=r[V]}else n=new $(r.buffer,0,L)}else{var $=getIndicesCtor(this._rawCount);n=new $(this.count());for(var V=0;V<n.length;V++)n[V]=V}return n},g.prototype.filter=function(n,r){if(!this._count)return this;for(var $=this.clone(),L=$.count(),V=getIndicesCtor($._rawCount),oe=new V(L),re=[],ae=n.length,le=0,ue=n[0],de=$._chunks,pe=0;pe<L;pe++){var he=void 0,_e=$.getRawIndex(pe);if(ae===0)he=r(pe);else if(ae===1){var Oe=de[ue][_e];he=r(Oe,pe)}else{for(var xe=0;xe<ae;xe++)re[xe]=de[n[xe]][_e];re[xe]=pe,he=r.apply(null,re)}he&&(oe[le++]=_e)}return le<L&&($._indices=oe),$._count=le,$._extent=[],$._updateGetRawIdx(),$},g.prototype.selectRange=function(n){var r=this.clone(),$=r._count;if(!$)return this;var L=keys$2(n),V=L.length;if(!V)return this;var oe=r.count(),re=getIndicesCtor(r._rawCount),ae=new re(oe),le=0,ue=L[0],de=n[ue][0],pe=n[ue][1],he=r._chunks,_e=!1;if(!r._indices){var Oe=0;if(V===1){for(var xe=he[L[0]],$e=0;$e<$;$e++){var Ie=xe[$e];(Ie>=de&&Ie<=pe||isNaN(Ie))&&(ae[le++]=Oe),Oe++}_e=!0}else if(V===2){for(var xe=he[L[0]],Ne=he[L[1]],ze=n[L[1]][0],Ue=n[L[1]][1],$e=0;$e<$;$e++){var Ie=xe[$e],Fe=Ne[$e];(Ie>=de&&Ie<=pe||isNaN(Ie))&&(Fe>=ze&&Fe<=Ue||isNaN(Fe))&&(ae[le++]=Oe),Oe++}_e=!0}}if(!_e)if(V===1)for(var $e=0;$e<oe;$e++){var qe=r.getRawIndex($e),Ie=he[L[0]][qe];(Ie>=de&&Ie<=pe||isNaN(Ie))&&(ae[le++]=qe)}else for(var $e=0;$e<oe;$e++){for(var Et=!0,qe=r.getRawIndex($e),At=0;At<V;At++){var kt=L[At],Ie=he[kt][qe];(Ie<n[kt][0]||Ie>n[kt][1])&&(Et=!1)}Et&&(ae[le++]=r.getRawIndex($e))}return le<oe&&(r._indices=ae),r._count=le,r._extent=[],r._updateGetRawIdx(),r},g.prototype.map=function(n,r){var $=this.clone(n);return this._updateDims($,n,r),$},g.prototype.modify=function(n,r){this._updateDims(this,n,r)},g.prototype._updateDims=function(n,r,$){for(var L=n._chunks,V=[],oe=r.length,re=n.count(),ae=[],le=n._rawExtent,ue=0;ue<r.length;ue++)le[r[ue]]=getInitialExtent();for(var de=0;de<re;de++){for(var pe=n.getRawIndex(de),he=0;he<oe;he++)ae[he]=L[r[he]][pe];ae[oe]=de;var _e=$&&$.apply(null,ae);if(_e!=null){typeof _e!="object"&&(V[0]=_e,_e=V);for(var ue=0;ue<_e.length;ue++){var Oe=r[ue],xe=_e[ue],$e=le[Oe],Ie=L[Oe];Ie&&(Ie[pe]=xe),xe<$e[0]&&($e[0]=xe),xe>$e[1]&&($e[1]=xe)}}}},g.prototype.lttbDownSample=function(n,r){var $=this.clone([n],!0),L=$._chunks,V=L[n],oe=this.count(),re=0,ae=Math.floor(1/r),le=this.getRawIndex(0),ue,de,pe,he=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(oe/ae)+2)*2,oe));he[re++]=le;for(var _e=1;_e<oe-1;_e+=ae){for(var Oe=Math.min(_e+ae,oe-1),xe=Math.min(_e+ae*2,oe),$e=(xe+Oe)/2,Ie=0,Ne=Oe;Ne<xe;Ne++){var ze=this.getRawIndex(Ne),Ue=V[ze];isNaN(Ue)||(Ie+=Ue)}Ie/=xe-Oe;var Fe=_e,qe=Math.min(_e+ae,oe),Et=_e-1,At=V[le];ue=-1,pe=Fe;for(var kt=-1,Dt=0,Ne=Fe;Ne<qe;Ne++){var ze=this.getRawIndex(Ne),Ue=V[ze];if(isNaN(Ue)){Dt++,kt<0&&(kt=ze);continue}de=Math.abs((Et-$e)*(Ue-At)-(Et-Ne)*(Ie-At)),de>ue&&(ue=de,pe=ze)}Dt>0&&Dt<qe-Fe&&(he[re++]=Math.min(kt,pe),pe=Math.max(kt,pe)),he[re++]=pe,le=pe}return he[re++]=this.getRawIndex(oe-1),$._count=re,$._indices=he,$.getRawIndex=this._getRawIdx,$},g.prototype.downSample=function(n,r,$,L){for(var V=this.clone([n],!0),oe=V._chunks,re=[],ae=Math.floor(1/r),le=oe[n],ue=this.count(),de=V._rawExtent[n]=getInitialExtent(),pe=new(getIndicesCtor(this._rawCount))(Math.ceil(ue/ae)),he=0,_e=0;_e<ue;_e+=ae){ae>ue-_e&&(ae=ue-_e,re.length=ae);for(var Oe=0;Oe<ae;Oe++){var xe=this.getRawIndex(_e+Oe);re[Oe]=le[xe]}var $e=$(re),Ie=this.getRawIndex(Math.min(_e+L(re,$e)||0,ue-1));le[Ie]=$e,$e<de[0]&&(de[0]=$e),$e>de[1]&&(de[1]=$e),pe[he++]=Ie}return V._count=he,V._indices=pe,V._updateGetRawIdx(),V},g.prototype.each=function(n,r){if(this._count)for(var $=n.length,L=this._chunks,V=0,oe=this.count();V<oe;V++){var re=this.getRawIndex(V);switch($){case 0:r(V);break;case 1:r(L[n[0]][re],V);break;case 2:r(L[n[0]][re],L[n[1]][re],V);break;default:for(var ae=0,le=[];ae<$;ae++)le[ae]=L[n[ae]][re];le[ae]=V,r.apply(null,le)}}},g.prototype.getDataExtent=function(n){var r=this._chunks[n],$=getInitialExtent();if(!r)return $;var L=this.count(),V=!this._indices,oe;if(V)return this._rawExtent[n].slice();if(oe=this._extent[n],oe)return oe.slice();oe=$;for(var re=oe[0],ae=oe[1],le=0;le<L;le++){var ue=this.getRawIndex(le),de=r[ue];de<re&&(re=de),de>ae&&(ae=de)}return oe=[re,ae],this._extent[n]=oe,oe},g.prototype.getRawDataItem=function(n){var r=this.getRawIndex(n);if(this._provider.persistent)return this._provider.getItem(r);for(var $=[],L=this._chunks,V=0;V<L.length;V++)$.push(L[V][r]);return $},g.prototype.clone=function(n,r){var $=new g,L=this._chunks,V=n&&reduce(n,function(re,ae){return re[ae]=!0,re},{});if(V)for(var oe=0;oe<L.length;oe++)$._chunks[oe]=V[oe]?cloneChunk(L[oe]):L[oe];else $._chunks=L;return this._copyCommonProps($),r||($._indices=this._cloneIndices()),$._updateGetRawIdx(),$},g.prototype._copyCommonProps=function(n){n._count=this._count,n._rawCount=this._rawCount,n._provider=this._provider,n._dimensions=this._dimensions,n._extent=clone$5(this._extent),n._rawExtent=clone$5(this._rawExtent)},g.prototype._cloneIndices=function(){if(this._indices){var n=this._indices.constructor,r=void 0;if(n===Array){var $=this._indices.length;r=new n($);for(var L=0;L<$;L++)r[L]=this._indices[L]}else r=new n(this._indices);return r}return null},g.prototype._getRawIdxIdentity=function(n){return n},g.prototype._getRawIdx=function(n){return n<this._count&&n>=0?this._indices[n]:-1},g.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},g.internalField=function(){function n(r,$,L,V){return parseDataValue(r[V],this._dimensions[V])}defaultDimValueGetters={arrayRows:n,objectRows:function(r,$,L,V){return parseDataValue(r[$],this._dimensions[V])},keyedColumns:n,original:function(r,$,L,V){var oe=r&&(r.value==null?r:r.value);return parseDataValue(oe instanceof Array?oe[V]:oe,this._dimensions[V])},typedArray:function(r,$,L,V){return r[V]}}}(),g}(),SourceManager=function(){function g(n){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=n}return g.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},g.prototype._setLocalSource=function(n,r){this._sourceList=n,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},g.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},g.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},g.prototype._createSource=function(){this._setLocalSource([],[]);var n=this._sourceHost,r=this._getUpstreamSourceManagers(),$=!!r.length,L,V;if(isSeries(n)){var oe=n,re=void 0,ae=void 0,le=void 0;if($){var ue=r[0];ue.prepareSource(),le=ue.getSource(),re=le.data,ae=le.sourceFormat,V=[ue._getVersionSign()]}else re=oe.get("data",!0),ae=isTypedArray$4(re)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,V=[];var de=this._getSourceMetaRawOption()||{},pe=le&&le.metaRawOption||{},he=retrieve2(de.seriesLayoutBy,pe.seriesLayoutBy)||null,_e=retrieve2(de.sourceHeader,pe.sourceHeader),Oe=retrieve2(de.dimensions,pe.dimensions),xe=he!==pe.seriesLayoutBy||!!_e!=!!pe.sourceHeader||Oe;L=xe?[createSource(re,{seriesLayoutBy:he,sourceHeader:_e,dimensions:Oe},ae)]:[]}else{var $e=n;if($){var Ie=this._applyTransform(r);L=Ie.sourceList,V=Ie.upstreamSignList}else{var Ne=$e.get("source",!0);L=[createSource(Ne,this._getSourceMetaRawOption(),null)],V=[]}}this._setLocalSource(L,V)},g.prototype._applyTransform=function(n){var r=this._sourceHost,$=r.get("transform",!0),L=r.get("fromTransformResult",!0);if(L!=null){var V="";n.length!==1&&doThrow(V)}var oe,re=[],ae=[];return each$f(n,function(le){le.prepareSource();var ue=le.getSource(L||0),de="";L!=null&&!ue&&doThrow(de),re.push(ue),ae.push(le._getVersionSign())}),$?oe=applyDataTransform($,re,{datasetIndex:r.componentIndex}):L!=null&&(oe=[cloneSourceShallow(re[0])]),{sourceList:oe,upstreamSignList:ae}},g.prototype._isDirty=function(){if(this._dirty)return!0;for(var n=this._getUpstreamSourceManagers(),r=0;r<n.length;r++){var $=n[r];if($._isDirty()||this._upstreamSignList[r]!==$._getVersionSign())return!0}},g.prototype.getSource=function(n){n=n||0;var r=this._sourceList[n];if(!r){var $=this._getUpstreamSourceManagers();return $[0]&&$[0].getSource(n)}return r},g.prototype.getSharedDataStore=function(n){var r=n.makeStoreSchema();return this._innerGetDataStore(r.dimensions,n.source,r.hash)},g.prototype._innerGetDataStore=function(n,r,$){var L=0,V=this._storeList,oe=V[L];oe||(oe=V[L]={});var re=oe[$];if(!re){var ae=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&ae?re=ae._innerGetDataStore(n,r,$):(re=new DataStore,re.initData(new DefaultDataProvider(r,n.length),n)),oe[$]=re}return re},g.prototype._getUpstreamSourceManagers=function(){var n=this._sourceHost;if(isSeries(n)){var r=querySeriesUpstreamDatasetModel(n);return r?[r.getSourceManager()]:[]}else return map$2(queryDatasetUpstreamDatasetModels(n),function($){return $.getSourceManager()})},g.prototype._getSourceMetaRawOption=function(){var n=this._sourceHost,r,$,L;if(isSeries(n))r=n.get("seriesLayoutBy",!0),$=n.get("sourceHeader",!0),L=n.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var V=n;r=V.get("seriesLayoutBy",!0),$=V.get("sourceHeader",!0),L=V.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:$,dimensions:L}},g}();function disableTransformOptionMerge(g){var n=g.option.transform;n&&setAsPrimitive(g.option.transform)}function isSeries(g){return g.mainType==="series"}function doThrow(g){throw new Error(g)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipTextStyle(g,n){var r=g.color||"#6e7079",$=g.fontSize||12,L=g.fontWeight||"400",V=g.color||"#464646",oe=g.fontSize||14,re=g.fontWeight||"900";return n==="html"?{nameStyle:"font-size:"+encodeHTML($+"")+"px;color:"+encodeHTML(r)+";font-weight:"+encodeHTML(L+""),valueStyle:"font-size:"+encodeHTML(oe+"")+"px;color:"+encodeHTML(V)+";font-weight:"+encodeHTML(re+"")}:{nameStyle:{fontSize:$,fill:r,fontWeight:L},valueStyle:{fontSize:oe,fill:V,fontWeight:re}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(g,n){return n.type=g,n}function isSectionFragment(g){return g.type==="section"}function getBuilder(g){return isSectionFragment(g)?buildSection:buildNameValue}function getBlockGapLevel(g){if(isSectionFragment(g)){var n=0,r=g.blocks.length,$=r>1||r>0&&!g.noHeader;return each$f(g.blocks,function(L){var V=getBlockGapLevel(L);V>=n&&(n=V+ +($&&(!V||isSectionFragment(L)&&!L.noHeader)))}),n}return 0}function buildSection(g,n,r,$){var L=n.noHeader,V=getGap(getBlockGapLevel(n)),oe=[],re=n.blocks||[];assert(!re||isArray$6(re)),re=re||[];var ae=g.orderMode;if(n.sortBlocks&&ae){re=re.slice();var le={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(le,ae)){var ue=new SortOrderComparator(le[ae],null);re.sort(function(_e,Oe){return ue.evaluate(_e.sortParam,Oe.sortParam)})}else ae==="seriesDesc"&&re.reverse()}each$f(re,function(_e,Oe){var xe=n.valueFormatter,$e=getBuilder(_e)(xe?extend$3(extend$3({},g),{valueFormatter:xe}):g,_e,Oe>0?V.html:0,$);$e!=null&&oe.push($e)});var de=g.renderMode==="richText"?oe.join(V.richText):wrapBlockHTML(oe.join(""),L?r:V.html);if(L)return de;var pe=makeValueReadable(n.header,"ordinal",g.useUTC),he=getTooltipTextStyle($,g.renderMode).nameStyle;return g.renderMode==="richText"?wrapInlineNameRichText(g,pe,he)+V.richText+de:wrapBlockHTML('<div style="'+he+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+encodeHTML(pe)+"</div>"+de,r)}function buildNameValue(g,n,r,$){var L=g.renderMode,V=n.noName,oe=n.noValue,re=!n.markerType,ae=n.name,le=g.useUTC,ue=n.valueFormatter||g.valueFormatter||function(ze){return ze=isArray$6(ze)?ze:[ze],map$2(ze,function(Ue,Fe){return makeValueReadable(Ue,isArray$6(he)?he[Fe]:he,le)})};if(!(V&&oe)){var de=re?"":g.markupStyleCreator.makeTooltipMarker(n.markerType,n.markerColor||"#333",L),pe=V?"":makeValueReadable(ae,"ordinal",le),he=n.valueType,_e=oe?[]:ue(n.value),Oe=!re||!V,xe=!re&&V,$e=getTooltipTextStyle($,L),Ie=$e.nameStyle,Ne=$e.valueStyle;return L==="richText"?(re?"":de)+(V?"":wrapInlineNameRichText(g,pe,Ie))+(oe?"":wrapInlineValueRichText(g,_e,Oe,xe,Ne)):wrapBlockHTML((re?"":de)+(V?"":wrapInlineNameHTML(pe,!re,Ie))+(oe?"":wrapInlineValueHTML(_e,Oe,xe,Ne)),r)}}function buildTooltipMarkup(g,n,r,$,L,V){if(g){var oe=getBuilder(g),re={useUTC:L,renderMode:r,orderMode:$,markupStyleCreator:n,valueFormatter:g.valueFormatter};return oe(re,g,0,V)}}function getGap(g){return{html:HTML_GAPS[g],richText:RICH_TEXT_GAPS[g]}}function wrapBlockHTML(g,n){var r='<div style="clear:both"></div>',$="margin: "+n+"px 0 0";return'<div style="'+$+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+g+r+"</div>"}function wrapInlineNameHTML(g,n,r){var $=n?"margin-left:2px":"";return'<span style="'+r+";"+$+'">'+encodeHTML(g)+"</span>"}function wrapInlineValueHTML(g,n,r,$){var L=r?"10px":"20px",V=n?"float:right;margin-left:"+L:"";return g=isArray$6(g)?g:[g],'<span style="'+V+";"+$+'">'+map$2(g,function(oe){return encodeHTML(oe)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(g,n,r){return g.markupStyleCreator.wrapRichTextStyle(n,r)}function wrapInlineValueRichText(g,n,r,$,L){var V=[L],oe=$?10:20;return r&&V.push({padding:[0,0,0,oe],align:"right"}),g.markupStyleCreator.wrapRichTextStyle(isArray$6(n)?n.join("  "):n,V)}function retrieveVisualColorForTooltipMarker(g,n){var r=g.getData().getItemVisual(n,"style"),$=r[g.visualDrawType];return convertToColorString($)}function getPaddingFromTooltipModel(g,n){var r=g.get("padding");return r!=null?r:n==="richText"?[8,10]:10}var TooltipMarkupStyleCreator=function(){function g(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return g.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},g.prototype.makeTooltipMarker=function(n,r,$){var L=$==="richText"?this._generateStyleName():null,V=getTooltipMarker({color:r,type:n,renderMode:$,markerId:L});return isString$3(V)?V:(this.richTextStyles[L]=V.style,V.content)},g.prototype.wrapRichTextStyle=function(n,r){var $={};isArray$6(r)?each$f(r,function(V){return extend$3($,V)}):extend$3($,r);var L=this._generateStyleName();return this.richTextStyles[L]=$,"{"+L+"|"+n+"}"},g}();function defaultSeriesFormatTooltip(g){var n=g.series,r=g.dataIndex,$=g.multipleSeries,L=n.getData(),V=L.mapDimensionsAll("defaultedTooltip"),oe=V.length,re=n.getRawValue(r),ae=isArray$6(re),le=retrieveVisualColorForTooltipMarker(n,r),ue,de,pe,he;if(oe>1||ae&&!oe){var _e=formatTooltipArrayValue(re,n,r,V,le);ue=_e.inlineValues,de=_e.inlineValueTypes,pe=_e.blocks,he=_e.inlineValues[0]}else if(oe){var Oe=L.getDimensionInfo(V[0]);he=ue=retrieveRawValue(L,r,V[0]),de=Oe.type}else he=ue=ae?re[0]:re;var xe=isNameSpecified(n),$e=xe&&n.name||"",Ie=L.getName(r),Ne=$?$e:Ie;return createTooltipMarkup("section",{header:$e,noHeader:$||!xe,sortParam:he,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:le,name:Ne,noName:!trim$3(Ne),value:ue,valueType:de})].concat(pe||[])})}function formatTooltipArrayValue(g,n,r,$,L){var V=n.getData(),oe=reduce(g,function(de,pe,he){var _e=V.getDimensionInfo(he);return de=de||_e&&_e.tooltip!==!1&&_e.displayName!=null},!1),re=[],ae=[],le=[];$.length?each$f($,function(de){ue(retrieveRawValue(V,r,de),de)}):each$f(g,ue);function ue(de,pe){var he=V.getDimensionInfo(pe);!he||he.otherDims.tooltip===!1||(oe?le.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:L,name:he.displayName,value:de,valueType:he.type})):(re.push(de),ae.push(he.type)))}return{inlineValues:re,inlineValueTypes:ae,blocks:le}}var inner$k=makeInner();function getSelectionKey(g,n){return g.getName(n)||g.getId(n)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return n.prototype.init=function(r,$,L){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,L);var V=inner$k(this).sourceManager=new SourceManager(this);V.prepareSource();var oe=this.getInitialData(r,L);wrapData(oe,this),this.dataTask.context.data=oe,inner$k(this).dataBeforeProcessed=oe,autoSeriesName(this),this._initSelectedMapFromData(oe)},n.prototype.mergeDefaultAndTheme=function(r,$){var L=fetchLayoutMode(this),V=L?getLayoutParams(r):{},oe=this.subType;ComponentModel$1.hasClass(oe)&&(oe+="Series"),merge$4(r,$.getTheme().get(this.subType)),merge$4(r,this.getDefaultOption()),defaultEmphasis(r,"label",["show"]),this.fillDataTextStyle(r.data),L&&mergeLayoutParam(r,V,L)},n.prototype.mergeOption=function(r,$){r=merge$4(this.option,r,!0),this.fillDataTextStyle(r.data);var L=fetchLayoutMode(this);L&&mergeLayoutParam(this.option,r,L);var V=inner$k(this).sourceManager;V.dirty(),V.prepareSource();var oe=this.getInitialData(r,$);wrapData(oe,this),this.dataTask.dirty(),this.dataTask.context.data=oe,inner$k(this).dataBeforeProcessed=oe,autoSeriesName(this),this._initSelectedMapFromData(oe)},n.prototype.fillDataTextStyle=function(r){if(r&&!isTypedArray$4(r))for(var $=["show"],L=0;L<r.length;L++)r[L]&&r[L].label&&defaultEmphasis(r[L],"label",$)},n.prototype.getInitialData=function(r,$){},n.prototype.appendData=function(r){var $=this.getRawData();$.appendData(r.data)},n.prototype.getData=function(r){var $=getCurrentTask(this);if($){var L=$.context.data;return r==null?L:L.getLinkedData(r)}else return inner$k(this).data},n.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},n.prototype.setData=function(r){var $=getCurrentTask(this);if($){var L=$.context;L.outputData=r,$!==this.dataTask&&(L.data=r)}inner$k(this).data=r},n.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return createHashMap(r)},n.prototype.getSourceManager=function(){return inner$k(this).sourceManager},n.prototype.getSource=function(){return this.getSourceManager().getSource()},n.prototype.getRawData=function(){return inner$k(this).dataBeforeProcessed},n.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},n.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},n.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},n.prototype.formatTooltip=function(r,$,L){return defaultSeriesFormatTooltip({series:this,dataIndex:r,multipleSeries:$})},n.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(env$1.node&&!(r&&r.ssr))return!1;var $=this.getShallow("animation");return $&&this.getData().count()>this.getShallow("animationThreshold")&&($=!1),!!$},n.prototype.restoreData=function(){this.dataTask.dirty()},n.prototype.getColorFromPalette=function(r,$,L){var V=this.ecModel,oe=PaletteMixin.prototype.getColorFromPalette.call(this,r,$,L);return oe||(oe=V.getColorFromPalette(r,$,L)),oe},n.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},n.prototype.getProgressive=function(){return this.get("progressive")},n.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},n.prototype.select=function(r,$){this._innerSelect(this.getData($),r)},n.prototype.unselect=function(r,$){var L=this.option.selectedMap;if(L){var V=this.option.selectedMode,oe=this.getData($);if(V==="series"||L==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var re=0;re<r.length;re++){var ae=r[re],le=getSelectionKey(oe,ae);L[le]=!1,this._selectedDataIndicesMap[le]=-1}}},n.prototype.toggleSelect=function(r,$){for(var L=[],V=0;V<r.length;V++)L[0]=r[V],this.isSelected(r[V],$)?this.unselect(L,$):this.select(L,$)},n.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,$=keys$2(r),L=[],V=0;V<$.length;V++){var oe=r[$[V]];oe>=0&&L.push(oe)}return L},n.prototype.isSelected=function(r,$){var L=this.option.selectedMap;if(!L)return!1;var V=this.getData($);return(L==="all"||L[getSelectionKey(V,r)])&&!V.getItemModel(r).get(["select","disabled"])},n.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},n.prototype._innerSelect=function(r,$){var L,V,oe=this.option,re=oe.selectedMode,ae=$.length;if(!(!re||!ae)){if(re==="series")oe.selectedMap="all";else if(re==="multiple"){isObject$6(oe.selectedMap)||(oe.selectedMap={});for(var le=oe.selectedMap,ue=0;ue<ae;ue++){var de=$[ue],pe=getSelectionKey(r,de);le[pe]=!0,this._selectedDataIndicesMap[pe]=r.getRawIndex(de)}}else if(re==="single"||re===!0){var he=$[ae-1],pe=getSelectionKey(r,he);oe.selectedMap=(L={},L[pe]=!0,L),this._selectedDataIndicesMap=(V={},V[pe]=r.getRawIndex(he),V)}}},n.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var $=[];r.hasItemOption&&r.each(function(L){var V=r.getRawDataItem(L);V&&V.selected&&$.push(L)}),$.length>0&&this._innerSelect(r,$)}},n.registerClass=function(r){return ComponentModel$1.registerClass(r)},n.protoInitialize=function(){var r=n.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),n}(ComponentModel$1);mixin(SeriesModel,DataFormatMixin),mixin(SeriesModel,PaletteMixin),mountExtend(SeriesModel,ComponentModel$1);function autoSeriesName(g){var n=g.name;isNameSpecified(g)||(g.name=getSeriesAutoName(g)||n)}function getSeriesAutoName(g){var n=g.getRawData(),r=n.mapDimensionsAll("seriesName"),$=[];return each$f(r,function(L){var V=n.getDimensionInfo(L);V.displayName&&$.push(V.displayName)}),$.join(" ")}function dataTaskCount(g){return g.model.getRawData().count()}function dataTaskReset(g){var n=g.model;return n.setData(n.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(g,n){n.outputData&&g.end>n.outputData.count()&&n.model.getRawData().cloneShallow(n.outputData)}function wrapData(g,n){each$f(concatArray(g.CHANGABLE_METHODS,g.DOWNSAMPLE_METHODS),function(r){g.wrapMethod(r,curry$1(onDataChange,n))})}function onDataChange(g,n){var r=getCurrentTask(g);return r&&r.setOutputEnd((n||this).count()),n}function getCurrentTask(g){var n=(g.ecModel||{}).scheduler,r=n&&n.getPipeline(g.uid);if(r){var $=r.currentTask;if($){var L=$.agentStubMap;L&&($=L.get(g.uid))}return $}}const SeriesModel$1=SeriesModel;var ComponentView=function(){function g(){this.group=new Group$4,this.uid=getUID("viewComponent")}return g.prototype.init=function(n,r){},g.prototype.render=function(n,r,$,L){},g.prototype.dispose=function(n,r){},g.prototype.updateView=function(n,r,$,L){},g.prototype.updateLayout=function(n,r,$,L){},g.prototype.updateVisual=function(n,r,$,L){},g.prototype.toggleBlurSeries=function(n,r,$){},g.prototype.eachRendered=function(n){var r=this.group;r&&r.traverse(n)},g}();enableClassExtend(ComponentView),enableClassManagement(ComponentView);const ComponentView$1=ComponentView;function createRenderPlanner(){var g=makeInner();return function(n){var r=g(n),$=n.pipelineContext,L=!!r.large,V=!!r.progressiveRender,oe=r.large=!!($&&$.large),re=r.progressiveRender=!!($&&$.progressiveRender);return(L!==oe||V!==re)&&"reset"}}var inner$j=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function g(){this.group=new Group$4,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return g.prototype.init=function(n,r){},g.prototype.render=function(n,r,$,L){},g.prototype.highlight=function(n,r,$,L){var V=n.getData(L&&L.dataType);!V||toggleHighlight(V,L,"emphasis")},g.prototype.downplay=function(n,r,$,L){var V=n.getData(L&&L.dataType);!V||toggleHighlight(V,L,"normal")},g.prototype.remove=function(n,r){this.group.removeAll()},g.prototype.dispose=function(n,r){},g.prototype.updateView=function(n,r,$,L){this.render(n,r,$,L)},g.prototype.updateLayout=function(n,r,$,L){this.render(n,r,$,L)},g.prototype.updateVisual=function(n,r,$,L){this.render(n,r,$,L)},g.prototype.eachRendered=function(n){traverseElements(this.group,n)},g.markUpdateMethod=function(n,r){inner$j(n).updateMethod=r},g.protoInitialize=function(){var n=g.prototype;n.type="chart"}(),g}();function elSetState(g,n,r){g&&isHighDownDispatcher(g)&&(n==="emphasis"?enterEmphasis:leaveEmphasis)(g,r)}function toggleHighlight(g,n,r){var $=queryDataIndex(g,n),L=n&&n.highlightKey!=null?getHighlightDigit(n.highlightKey):null;$!=null?each$f(normalizeToArray($),function(V){elSetState(g.getItemGraphicEl(V),r,L)}):g.eachItemGraphicEl(function(V){elSetState(V,r,L)})}enableClassExtend(ChartView),enableClassManagement(ChartView);function renderTaskPlan(g){return renderPlanner(g.model)}function renderTaskReset(g){var n=g.model,r=g.ecModel,$=g.api,L=g.payload,V=n.pipelineContext.progressiveRender,oe=g.view,re=L&&inner$j(L).updateMethod,ae=V?"incrementalPrepareRender":re&&oe[re]?re:"render";return ae!=="render"&&oe[ae](n,r,$,L),progressMethodMap[ae]}var progressMethodMap={incrementalPrepareRender:{progress:function(g,n){n.view.incrementalRender(g,n.model,n.ecModel,n.api,n.payload)}},render:{forceFirstProgress:!0,progress:function(g,n){n.view.render(n.model,n.ecModel,n.api,n.payload)}}};const ChartView$1=ChartView;var ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(g,n,r){var $,L=0,V=0,oe=null,re,ae,le,ue;n=n||0;function de(){V=new Date().getTime(),oe=null,g.apply(ae,le||[])}var pe=function(){for(var he=[],_e=0;_e<arguments.length;_e++)he[_e]=arguments[_e];$=new Date().getTime(),ae=this,le=he;var Oe=ue||n,xe=ue||r;ue=null,re=$-(xe?L:V)-Oe,clearTimeout(oe),xe?oe=setTimeout(de,Oe):re>=0?de():oe=setTimeout(de,-re),L=$};return pe.clear=function(){oe&&(clearTimeout(oe),oe=null)},pe.debounceNextCall=function(he){ue=he},pe}function createOrUpdate(g,n,r,$){var L=g[n];if(L){var V=L[ORIGIN_METHOD]||L,oe=L[THROTTLE_TYPE],re=L[RATE];if(re!==r||oe!==$){if(r==null||!$)return g[n]=V;L=g[n]=throttle(V,r,$==="debounce"),L[ORIGIN_METHOD]=V,L[THROTTLE_TYPE]=$,L[RATE]=r}return L}}function clear$1(g,n){var r=g[n];r&&r[ORIGIN_METHOD]&&(r.clear&&r.clear(),g[n]=r[ORIGIN_METHOD])}var inner$i=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(g,n){var r=g.visualStyleMapper||defaultStyleMappers[n];return r||(console.warn("Unknown style type '"+n+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(g,n){var r=g.visualDrawType||defaultColorKey[n];return r||(console.warn("Unknown style type '"+n+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(g,n){var r=g.getData(),$=g.visualStyleAccessPath||"itemStyle",L=g.getModel($),V=getStyleMapper(g,$),oe=V(L),re=L.getShallow("decal");re&&(r.setVisual("decal",re),re.dirty=!0);var ae=getDefaultColorKey(g,$),le=oe[ae],ue=isFunction$3(le)?le:null,de=oe.fill==="auto"||oe.stroke==="auto";if(!oe[ae]||ue||de){var pe=g.getColorFromPalette(g.name,null,n.getSeriesCount());oe[ae]||(oe[ae]=pe,r.setVisual("colorFromPalette",!0)),oe.fill=oe.fill==="auto"||isFunction$3(oe.fill)?pe:oe.fill,oe.stroke=oe.stroke==="auto"||isFunction$3(oe.stroke)?pe:oe.stroke}if(r.setVisual("style",oe),r.setVisual("drawType",ae),!n.isSeriesFiltered(g)&&ue)return r.setVisual("colorFromPalette",!1),{dataEach:function(he,_e){var Oe=g.getDataParams(_e),xe=extend$3({},oe);xe[ae]=ue(Oe),he.setItemVisual(_e,"style",xe)}}}},sharedModel=new Model$1,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(g,n){if(!(g.ignoreStyleOnData||n.isSeriesFiltered(g))){var r=g.getData(),$=g.visualStyleAccessPath||"itemStyle",L=getStyleMapper(g,$),V=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(oe,re){var ae=oe.getRawDataItem(re);if(ae&&ae[$]){sharedModel.option=ae[$];var le=L(sharedModel),ue=oe.ensureUniqueItemVisual(re,"style");extend$3(ue,le),sharedModel.option.decal&&(oe.setItemVisual(re,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),V in le&&oe.setItemVisual(re,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(g){var n=createHashMap();g.eachSeries(function(r){var $=r.getColorBy();if(!r.isColorBySeries()){var L=r.type+"-"+$,V=n.get(L);V||(V={},n.set(L,V)),inner$i(r).scope=V}}),g.eachSeries(function(r){if(!(r.isColorBySeries()||g.isSeriesFiltered(r))){var $=r.getRawData(),L={},V=r.getData(),oe=inner$i(r).scope,re=r.visualStyleAccessPath||"itemStyle",ae=getDefaultColorKey(r,re);V.each(function(le){var ue=V.getRawIndex(le);L[ue]=le}),$.each(function(le){var ue=L[le],de=V.getItemVisual(ue,"colorFromPalette");if(de){var pe=V.ensureUniqueItemVisual(ue,"style"),he=$.getName(le)||le+"",_e=$.count();pe[ae]=r.getColorFromPalette(he,oe,_e)}})}})}},PI$5=Math.PI;function defaultLoading(g,n){n=n||{},defaults$5(n,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Group$4,$=new Rect$3({style:{fill:n.maskColor},zlevel:n.zlevel,z:1e4});r.add($);var L=new ZRText$1({style:{text:n.text,fill:n.textColor,fontSize:n.fontSize,fontWeight:n.fontWeight,fontStyle:n.fontStyle,fontFamily:n.fontFamily},zlevel:n.zlevel,z:10001}),V=new Rect$3({style:{fill:"none"},textContent:L,textConfig:{position:"right",distance:10},zlevel:n.zlevel,z:10001});r.add(V);var oe;return n.showSpinner&&(oe=new Arc$1({shape:{startAngle:-PI$5/2,endAngle:-PI$5/2+.1,r:n.spinnerRadius},style:{stroke:n.color,lineCap:"round",lineWidth:n.lineWidth},zlevel:n.zlevel,z:10001}),oe.animateShape(!0).when(1e3,{endAngle:PI$5*3/2}).start("circularInOut"),oe.animateShape(!0).when(1e3,{startAngle:PI$5*3/2}).delay(300).start("circularInOut"),r.add(oe)),r.resize=function(){var re=L.getBoundingRect().width,ae=n.showSpinner?n.spinnerRadius:0,le=(g.getWidth()-ae*2-(n.showSpinner&&re?10:0)-re)/2-(n.showSpinner&&re?0:5+re/2)+(n.showSpinner?0:re/2)+(re?0:ae),ue=g.getHeight()/2;n.showSpinner&&oe.setShape({cx:le,cy:ue}),V.setShape({x:le-ae,y:ue-ae,width:ae*2,height:ae*2}),$.setShape({x:0,y:0,width:g.getWidth(),height:g.getHeight()})},r.resize(),r}var Scheduler=function(){function g(n,r,$,L){this._stageTaskMap=createHashMap(),this.ecInstance=n,this.api=r,$=this._dataProcessorHandlers=$.slice(),L=this._visualHandlers=L.slice(),this._allHandlers=$.concat(L)}return g.prototype.restoreData=function(n,r){n.restoreData(r),this._stageTaskMap.each(function($){var L=$.overallTask;L&&L.dirty()})},g.prototype.getPerformArgs=function(n,r){if(n.__pipeline){var $=this._pipelineMap.get(n.__pipeline.id),L=$.context,V=!r&&$.progressiveEnabled&&(!L||L.progressiveRender)&&n.__idxInPipeline>$.blockIndex,oe=V?$.step:null,re=L&&L.modDataCount,ae=re!=null?Math.ceil(re/oe):null;return{step:oe,modBy:ae,modDataCount:re}}},g.prototype.getPipeline=function(n){return this._pipelineMap.get(n)},g.prototype.updateStreamModes=function(n,r){var $=this._pipelineMap.get(n.uid),L=n.getData(),V=L.count(),oe=$.progressiveEnabled&&r.incrementalPrepareRender&&V>=$.threshold,re=n.get("large")&&V>=n.get("largeThreshold"),ae=n.get("progressiveChunkMode")==="mod"?V:null;n.pipelineContext=$.context={progressiveRender:oe,modDataCount:ae,large:re}},g.prototype.restorePipelines=function(n){var r=this,$=r._pipelineMap=createHashMap();n.eachSeries(function(L){var V=L.getProgressive(),oe=L.uid;$.set(oe,{id:oe,head:null,tail:null,threshold:L.getProgressiveThreshold(),progressiveEnabled:V&&!(L.preventIncremental&&L.preventIncremental()),blockIndex:-1,step:Math.round(V||700),count:0}),r._pipe(L,L.dataTask)})},g.prototype.prepareStageTasks=function(){var n=this._stageTaskMap,r=this.api.getModel(),$=this.api;each$f(this._allHandlers,function(L){var V=n.get(L.uid)||n.set(L.uid,{}),oe="";assert(!(L.reset&&L.overallReset),oe),L.reset&&this._createSeriesStageTask(L,V,r,$),L.overallReset&&this._createOverallStageTask(L,V,r,$)},this)},g.prototype.prepareView=function(n,r,$,L){var V=n.renderTask,oe=V.context;oe.model=r,oe.ecModel=$,oe.api=L,V.__block=!n.incrementalPrepareRender,this._pipe(r,V)},g.prototype.performDataProcessorTasks=function(n,r){this._performStageTasks(this._dataProcessorHandlers,n,r,{block:!0})},g.prototype.performVisualTasks=function(n,r,$){this._performStageTasks(this._visualHandlers,n,r,$)},g.prototype._performStageTasks=function(n,r,$,L){L=L||{};var V=!1,oe=this;each$f(n,function(ae,le){if(!(L.visualType&&L.visualType!==ae.visualType)){var ue=oe._stageTaskMap.get(ae.uid),de=ue.seriesTaskMap,pe=ue.overallTask;if(pe){var he,_e=pe.agentStubMap;_e.each(function(xe){re(L,xe)&&(xe.dirty(),he=!0)}),he&&pe.dirty(),oe.updatePayload(pe,$);var Oe=oe.getPerformArgs(pe,L.block);_e.each(function(xe){xe.perform(Oe)}),pe.perform(Oe)&&(V=!0)}else de&&de.each(function(xe,$e){re(L,xe)&&xe.dirty();var Ie=oe.getPerformArgs(xe,L.block);Ie.skip=!ae.performRawSeries&&r.isSeriesFiltered(xe.context.model),oe.updatePayload(xe,$),xe.perform(Ie)&&(V=!0)})}});function re(ae,le){return ae.setDirty&&(!ae.dirtyMap||ae.dirtyMap.get(le.__pipeline.id))}this.unfinished=V||this.unfinished},g.prototype.performSeriesTasks=function(n){var r;n.eachSeries(function($){r=$.dataTask.perform()||r}),this.unfinished=r||this.unfinished},g.prototype.plan=function(){this._pipelineMap.each(function(n){var r=n.tail;do{if(r.__block){n.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},g.prototype.updatePayload=function(n,r){r!=="remain"&&(n.context.payload=r)},g.prototype._createSeriesStageTask=function(n,r,$,L){var V=this,oe=r.seriesTaskMap,re=r.seriesTaskMap=createHashMap(),ae=n.seriesType,le=n.getTargetSeries;n.createOnAllSeries?$.eachRawSeries(ue):ae?$.eachRawSeriesByType(ae,ue):le&&le($,L).each(ue);function ue(de){var pe=de.uid,he=re.set(pe,oe&&oe.get(pe)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));he.context={model:de,ecModel:$,api:L,useClearVisual:n.isVisual&&!n.isLayout,plan:n.plan,reset:n.reset,scheduler:V},V._pipe(de,he)}},g.prototype._createOverallStageTask=function(n,r,$,L){var V=this,oe=r.overallTask=r.overallTask||createTask({reset:overallTaskReset});oe.context={ecModel:$,api:L,overallReset:n.overallReset,scheduler:V};var re=oe.agentStubMap,ae=oe.agentStubMap=createHashMap(),le=n.seriesType,ue=n.getTargetSeries,de=!0,pe=!1,he="";assert(!n.createOnAllSeries,he),le?$.eachRawSeriesByType(le,_e):ue?ue($,L).each(_e):(de=!1,each$f($.getSeries(),_e));function _e(Oe){var xe=Oe.uid,$e=ae.set(xe,re&&re.get(xe)||(pe=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));$e.context={model:Oe,overallProgress:de},$e.agent=oe,$e.__block=de,V._pipe(Oe,$e)}pe&&oe.dirty()},g.prototype._pipe=function(n,r){var $=n.uid,L=this._pipelineMap.get($);!L.head&&(L.head=r),L.tail&&L.tail.pipe(r),L.tail=r,r.__idxInPipeline=L.count++,r.__pipeline=L},g.wrapStageHandler=function(n,r){return isFunction$3(n)&&(n={overallReset:n,seriesType:detectSeriseType(n)}),n.uid=getUID("stageHandler"),r&&(n.visualType=r),n},g}();function overallTaskReset(g){g.overallReset(g.ecModel,g.api,g.payload)}function stubReset(g){return g.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(g){return g.plan?g.plan(g.model,g.ecModel,g.api,g.payload):null}function seriesTaskReset(g){g.useClearVisual&&g.data.clearAllVisual();var n=g.resetDefines=normalizeToArray(g.reset(g.model,g.ecModel,g.api,g.payload));return n.length>1?map$2(n,function(r,$){return makeSeriesTaskProgress($)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(g){return function(n,r){var $=r.data,L=r.resetDefines[g];if(L&&L.dataEach)for(var V=n.start;V<n.end;V++)L.dataEach($,V);else L&&L.progress&&L.progress(n,$)}}function seriesTaskCount(g){return g.data.count()}function detectSeriseType(g){seriesType=null;try{g(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel$1),mockMethods(apiMock,ExtensionAPI$1),ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(g){seriesType=g},ecModelMock.eachComponent=function(g){g.mainType==="series"&&g.subType&&(seriesType=g.subType)};function mockMethods(g,n){for(var r in n.prototype)g[r]=noop$5}const Scheduler$1=Scheduler;var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme$2={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme$2.categoryAxis.splitLine.show=!1;const darkTheme$1=theme$2;var ECEventProcessor=function(){function g(){}return g.prototype.normalizeQuery=function(n){var r={},$={},L={};if(isString$3(n)){var V=parseClassType(n);r.mainType=V.main||null,r.subType=V.sub||null}else{var oe=["Index","Name","Id"],re={name:1,dataIndex:1,dataType:1};each$f(n,function(ae,le){for(var ue=!1,de=0;de<oe.length;de++){var pe=oe[de],he=le.lastIndexOf(pe);if(he>0&&he===le.length-pe.length){var _e=le.slice(0,he);_e!=="data"&&(r.mainType=_e,r[pe.toLowerCase()]=ae,ue=!0)}}re.hasOwnProperty(le)&&($[le]=ae,ue=!0),ue||(L[le]=ae)})}return{cptQuery:r,dataQuery:$,otherQuery:L}},g.prototype.filter=function(n,r){var $=this.eventInfo;if(!$)return!0;var L=$.targetEl,V=$.packedEvent,oe=$.model,re=$.view;if(!oe||!re)return!0;var ae=r.cptQuery,le=r.dataQuery;return ue(ae,oe,"mainType")&&ue(ae,oe,"subType")&&ue(ae,oe,"index","componentIndex")&&ue(ae,oe,"name")&&ue(ae,oe,"id")&&ue(le,V,"name")&&ue(le,V,"dataIndex")&&ue(le,V,"dataType")&&(!re.filterForExposedEvent||re.filterForExposedEvent(n,r.otherQuery,L,V));function ue(de,pe,he,_e){return de[he]==null||pe[_e||he]===de[he]}},g.prototype.afterTrigger=function(){this.eventInfo=null},g}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(g,n){var r=g.getData();if(g.legendIcon&&r.setVisual("legendIcon",g.legendIcon),!g.hasSymbolVisual)return;for(var $={},L={},V=!1,oe=0;oe<SYMBOL_PROPS_WITH_CB.length;oe++){var re=SYMBOL_PROPS_WITH_CB[oe],ae=g.get(re);isFunction$3(ae)?(V=!0,L[re]=ae):$[re]=ae}if($.symbol=$.symbol||g.defaultSymbol,r.setVisual(extend$3({legendIcon:g.legendIcon||$.symbol,symbolKeepAspect:g.get("symbolKeepAspect")},$)),n.isSeriesFiltered(g))return;var le=keys$2(L);function ue(de,pe){for(var he=g.getRawValue(pe),_e=g.getDataParams(pe),Oe=0;Oe<le.length;Oe++){var xe=le[Oe];de.setItemVisual(pe,xe,L[xe](he,_e))}}return{dataEach:V?ue:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(g,n){if(!g.hasSymbolVisual||n.isSeriesFiltered(g))return;var r=g.getData();function $(L,V){for(var oe=L.getItemModel(V),re=0;re<SYMBOL_PROPS.length;re++){var ae=SYMBOL_PROPS[re],le=oe.getShallow(ae,!0);le!=null&&L.setItemVisual(V,ae,le)}}return{dataEach:r.hasItemOption?$:null}}};function getItemVisualFromData(g,n,r){switch(r){case"color":var $=g.getItemVisual(n,"style");return $[g.getVisual("drawType")];case"opacity":return g.getItemVisual(n,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return g.getItemVisual(n,r)}}function getVisualFromData(g,n){switch(n){case"color":var r=g.getVisual("style");return r[g.getVisual("drawType")];case"opacity":return g.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return g.getVisual(n)}}function setItemVisualFromData(g,n,r,$){switch(r){case"color":var L=g.ensureUniqueItemVisual(n,"style");L[g.getVisual("drawType")]=$,g.setItemVisual(n,"colorFromPalette",!1);break;case"opacity":g.ensureUniqueItemVisual(n,"style").opacity=$;break;case"symbol":case"symbolSize":case"liftZ":g.setItemVisual(n,r,$);break}}function createLegacyDataSelectAction(g,n){function r($,L){var V=[];return $.eachComponent({mainType:"series",subType:g,query:L},function(oe){V.push(oe.seriesIndex)}),V}each$f([[g+"ToggleSelect","toggleSelect"],[g+"Select","select"],[g+"UnSelect","unselect"]],function($){n($[0],function(L,V,oe){L=extend$3({},L),oe.dispatchAction(extend$3(L,{type:$[1],seriesIndex:r(V,L)}))})})}function handleSeriesLegacySelectEvents(g,n,r,$,L){var V=g+n;r.isSilent(V)||$.eachComponent({mainType:"series",subType:"pie"},function(oe){for(var re=oe.seriesIndex,ae=oe.option.selectedMap,le=L.selected,ue=0;ue<le.length;ue++)if(le[ue].seriesIndex===re){var de=oe.getData(),pe=queryDataIndex(de,L.fromActionPayload);r.trigger(V,{type:V,seriesId:oe.id,name:isArray$6(pe)?de.getName(pe[0]):de.getName(pe),selected:isString$3(ae)?ae:extend$3({},ae)})}})}function handleLegacySelectEvents(g,n,r){g.on("selectchanged",function($){var L=r.getModel();$.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",n,L,$),handleSeriesLegacySelectEvents("pie","selectchanged",n,L,$)):$.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",n,L,$),handleSeriesLegacySelectEvents("pie","selected",n,L,$)):$.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",n,L,$),handleSeriesLegacySelectEvents("pie","unselected",n,L,$))})}function findEventDispatcher(g,n,r){for(var $;g&&!(n(g)&&($=g,r));)g=g.__hostTarget||g.parent;return $}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$3=function(){function g(){this._id="__ec_inner_"+wmUniqueIndex++}return g.prototype.get=function(n){return this._guard(n)[this._id]},g.prototype.set=function(n,r){var $=this._guard(n);return supportDefineProperty?Object.defineProperty($,this._id,{value:r,enumerable:!1,configurable:!0}):$[this._id]=r,this},g.prototype.delete=function(n){return this.has(n)?(delete this._guard(n)[this._id],!0):!1},g.prototype.has=function(n){return!!this._guard(n)[this._id]},g.prototype._guard=function(n){if(n!==Object(n))throw TypeError("Value of WeakMap is not a non-null object.");return n},g}();const WeakMap$4=WeakMap$3;var Triangle=Path$1.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(g,n){var r=n.cx,$=n.cy,L=n.width/2,V=n.height/2;g.moveTo(r,$-V),g.lineTo(r+L,$+V),g.lineTo(r-L,$+V),g.closePath()}}),Diamond=Path$1.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(g,n){var r=n.cx,$=n.cy,L=n.width/2,V=n.height/2;g.moveTo(r,$-V),g.lineTo(r+L,$),g.lineTo(r,$+V),g.lineTo(r-L,$),g.closePath()}}),Pin=Path$1.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(g,n){var r=n.x,$=n.y,L=n.width/5*3,V=Math.max(L,n.height),oe=L/2,re=oe*oe/(V-oe),ae=$-V+oe+re,le=Math.asin(re/oe),ue=Math.cos(le)*oe,de=Math.sin(le),pe=Math.cos(le),he=oe*.6,_e=oe*.7;g.moveTo(r-ue,ae+re),g.arc(r,ae,oe,Math.PI-le,Math.PI*2+le),g.bezierCurveTo(r+ue-de*he,ae+re+pe*he,r,$-_e,r,$),g.bezierCurveTo(r,$-_e,r-ue+de*he,ae+re+pe*he,r-ue,ae+re),g.closePath()}}),Arrow=Path$1.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(g,n){var r=n.height,$=n.width,L=n.x,V=n.y,oe=$/3*2;g.moveTo(L,V),g.lineTo(L+oe,V+r),g.lineTo(L,V+r/4*3),g.lineTo(L-oe,V+r),g.lineTo(L,V),g.closePath()}}),symbolCtors={line:Line$4,rect:Rect$3,roundRect:Rect$3,square:Rect$3,circle:Circle$1,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(g,n,r,$,L){L.x1=g,L.y1=n+$/2,L.x2=g+r,L.y2=n+$/2},rect:function(g,n,r,$,L){L.x=g,L.y=n,L.width=r,L.height=$},roundRect:function(g,n,r,$,L){L.x=g,L.y=n,L.width=r,L.height=$,L.r=Math.min(r,$)/4},square:function(g,n,r,$,L){var V=Math.min(r,$);L.x=g,L.y=n,L.width=V,L.height=V},circle:function(g,n,r,$,L){L.cx=g+r/2,L.cy=n+$/2,L.r=Math.min(r,$)/2},diamond:function(g,n,r,$,L){L.cx=g+r/2,L.cy=n+$/2,L.width=r,L.height=$},pin:function(g,n,r,$,L){L.x=g+r/2,L.y=n+$/2,L.width=r,L.height=$},arrow:function(g,n,r,$,L){L.x=g+r/2,L.y=n+$/2,L.width=r,L.height=$},triangle:function(g,n,r,$,L){L.cx=g+r/2,L.cy=n+$/2,L.width=r,L.height=$}},symbolBuildProxies={};each$f(symbolCtors,function(g,n){symbolBuildProxies[n]=new g});var SymbolClz$1=Path$1.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(g,n,r){var $=calculateTextPosition(g,n,r),L=this.shape;return L&&L.symbolType==="pin"&&n.position==="inside"&&($.y=r.y+r.height*.4),$},buildPath:function(g,n,r){var $=n.symbolType;if($!=="none"){var L=symbolBuildProxies[$];L||($="rect",L=symbolBuildProxies[$]),symbolShapeMakers[$](n.x,n.y,n.width,n.height,L.shape),L.buildPath(g,L.shape,r)}}});function symbolPathSetColor(g,n){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=g,r.fill=n||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=g:r.fill=g,this.markRedraw()}}function createSymbol$1(g,n,r,$,L,V,oe){var re=g.indexOf("empty")===0;re&&(g=g.substr(5,1).toLowerCase()+g.substr(6));var ae;return g.indexOf("image://")===0?ae=makeImage(g.slice(8),new BoundingRect$1(n,r,$,L),oe?"center":"cover"):g.indexOf("path://")===0?ae=makePath(g.slice(7),{},new BoundingRect$1(n,r,$,L),oe?"center":"cover"):ae=new SymbolClz$1({shape:{symbolType:g,x:n,y:r,width:$,height:L}}),ae.__isEmptyBrush=re,ae.setColor=symbolPathSetColor,V&&ae.setColor(V),ae}function normalizeSymbolSize(g){return isArray$6(g)||(g=[+g,+g]),[g[0]||0,g[1]||0]}function normalizeSymbolOffset(g,n){if(g!=null)return isArray$6(g)||(g=[g,g]),[parsePercent(g[0],n[0])||0,parsePercent(retrieve2(g[1],g[0]),n[1])||0]}function isSafeNum(g){return isFinite(g)}function createLinearGradient(g,n,r){var $=n.x==null?0:n.x,L=n.x2==null?1:n.x2,V=n.y==null?0:n.y,oe=n.y2==null?0:n.y2;n.global||($=$*r.width+r.x,L=L*r.width+r.x,V=V*r.height+r.y,oe=oe*r.height+r.y),$=isSafeNum($)?$:0,L=isSafeNum(L)?L:1,V=isSafeNum(V)?V:0,oe=isSafeNum(oe)?oe:0;var re=g.createLinearGradient($,V,L,oe);return re}function createRadialGradient(g,n,r){var $=r.width,L=r.height,V=Math.min($,L),oe=n.x==null?.5:n.x,re=n.y==null?.5:n.y,ae=n.r==null?.5:n.r;n.global||(oe=oe*$+r.x,re=re*L+r.y,ae=ae*V),oe=isSafeNum(oe)?oe:.5,re=isSafeNum(re)?re:.5,ae=ae>=0&&isSafeNum(ae)?ae:.5;var le=g.createRadialGradient(oe,re,0,oe,re,ae);return le}function getCanvasGradient(g,n,r){for(var $=n.type==="radial"?createRadialGradient(g,n,r):createLinearGradient(g,n,r),L=n.colorStops,V=0;V<L.length;V++)$.addColorStop(L[V].offset,L[V].color);return $}function isClipPathChanged(g,n){if(g===n||!g&&!n)return!1;if(!g||!n||g.length!==n.length)return!0;for(var r=0;r<g.length;r++)if(g[r]!==n[r])return!0;return!1}function parseInt10(g){return parseInt(g,10)}function getSize$1(g,n,r){var $=["width","height"][n],L=["clientWidth","clientHeight"][n],V=["paddingLeft","paddingTop"][n],oe=["paddingRight","paddingBottom"][n];if(r[$]!=null&&r[$]!=="auto")return parseFloat(r[$]);var re=document.defaultView.getComputedStyle(g);return(g[L]||parseInt10(re[$])||parseInt10(g.style[$]))-(parseInt10(re[V])||0)-(parseInt10(re[oe])||0)|0}function normalizeLineDash(g,n){return!g||g==="solid"||!(n>0)?null:g==="dashed"?[4*n,2*n]:g==="dotted"?[n]:isNumber$3(g)?[g]:isArray$6(g)?g:null}function getLineDash(g){var n=g.style,r=n.lineDash&&n.lineWidth>0&&normalizeLineDash(n.lineDash,n.lineWidth),$=n.lineDashOffset;if(r){var L=n.strokeNoScale&&g.getLineScale?g.getLineScale():1;L&&L!==1&&(r=map$2(r,function(V){return V/L}),$/=L)}return[r,$]}var pathProxyForDraw=new PathProxy$1(!0);function styleHasStroke(g){var n=g.stroke;return!(n==null||n==="none"||!(g.lineWidth>0))}function isValidStrokeFillStyle(g){return typeof g=="string"&&g!=="none"}function styleHasFill(g){var n=g.fill;return n!=null&&n!=="none"}function doFillPath(g,n){if(n.fillOpacity!=null&&n.fillOpacity!==1){var r=g.globalAlpha;g.globalAlpha=n.fillOpacity*n.opacity,g.fill(),g.globalAlpha=r}else g.fill()}function doStrokePath(g,n){if(n.strokeOpacity!=null&&n.strokeOpacity!==1){var r=g.globalAlpha;g.globalAlpha=n.strokeOpacity*n.opacity,g.stroke(),g.globalAlpha=r}else g.stroke()}function createCanvasPattern(g,n,r){var $=createOrUpdateImage(n.image,n.__image,r);if(isImageReady($)){var L=g.createPattern($,n.repeat||"repeat");if(typeof DOMMatrix=="function"&&L&&L.setTransform){var V=new DOMMatrix;V.translateSelf(n.x||0,n.y||0),V.rotateSelf(0,0,(n.rotation||0)*RADIAN_TO_DEGREE),V.scaleSelf(n.scaleX||1,n.scaleY||1),L.setTransform(V)}return L}}function brushPath(g,n,r,$){var L,V=styleHasStroke(r),oe=styleHasFill(r),re=r.strokePercent,ae=re<1,le=!n.path;(!n.silent||ae)&&le&&n.createPathProxy();var ue=n.path||pathProxyForDraw,de=n.__dirty;if(!$){var pe=r.fill,he=r.stroke,_e=oe&&!!pe.colorStops,Oe=V&&!!he.colorStops,xe=oe&&!!pe.image,$e=V&&!!he.image,Ie=void 0,Ne=void 0,ze=void 0,Ue=void 0,Fe=void 0;(_e||Oe)&&(Fe=n.getBoundingRect()),_e&&(Ie=de?getCanvasGradient(g,pe,Fe):n.__canvasFillGradient,n.__canvasFillGradient=Ie),Oe&&(Ne=de?getCanvasGradient(g,he,Fe):n.__canvasStrokeGradient,n.__canvasStrokeGradient=Ne),xe&&(ze=de||!n.__canvasFillPattern?createCanvasPattern(g,pe,n):n.__canvasFillPattern,n.__canvasFillPattern=ze),$e&&(Ue=de||!n.__canvasStrokePattern?createCanvasPattern(g,he,n):n.__canvasStrokePattern,n.__canvasStrokePattern=ze),_e?g.fillStyle=Ie:xe&&(ze?g.fillStyle=ze:oe=!1),Oe?g.strokeStyle=Ne:$e&&(Ue?g.strokeStyle=Ue:V=!1)}var qe=n.getGlobalScale();ue.setScale(qe[0],qe[1],n.segmentIgnoreThreshold);var Et,At;g.setLineDash&&r.lineDash&&(L=getLineDash(n),Et=L[0],At=L[1]);var kt=!0;(le||de&SHAPE_CHANGED_BIT)&&(ue.setDPR(g.dpr),ae?ue.setContext(null):(ue.setContext(g),kt=!1),ue.reset(),n.buildPath(ue,n.shape,$),ue.toStatic(),n.pathUpdated()),kt&&ue.rebuildPath(g,ae?re:1),Et&&(g.setLineDash(Et),g.lineDashOffset=At),$||(r.strokeFirst?(V&&doStrokePath(g,r),oe&&doFillPath(g,r)):(oe&&doFillPath(g,r),V&&doStrokePath(g,r))),Et&&g.setLineDash([])}function brushImage(g,n,r){var $=n.__image=createOrUpdateImage(r.image,n.__image,n,n.onload);if(!(!$||!isImageReady($))){var L=r.x||0,V=r.y||0,oe=n.getWidth(),re=n.getHeight(),ae=$.width/$.height;if(oe==null&&re!=null?oe=re*ae:re==null&&oe!=null?re=oe/ae:oe==null&&re==null&&(oe=$.width,re=$.height),r.sWidth&&r.sHeight){var le=r.sx||0,ue=r.sy||0;g.drawImage($,le,ue,r.sWidth,r.sHeight,L,V,oe,re)}else if(r.sx&&r.sy){var le=r.sx,ue=r.sy,de=oe-le,pe=re-ue;g.drawImage($,le,ue,de,pe,L,V,oe,re)}else g.drawImage($,L,V,oe,re)}}function brushText(g,n,r){var $,L=r.text;if(L!=null&&(L+=""),L){g.font=r.font||DEFAULT_FONT,g.textAlign=r.textAlign,g.textBaseline=r.textBaseline;var V=void 0,oe=void 0;g.setLineDash&&r.lineDash&&($=getLineDash(n),V=$[0],oe=$[1]),V&&(g.setLineDash(V),g.lineDashOffset=oe),r.strokeFirst?(styleHasStroke(r)&&g.strokeText(L,r.x,r.y),styleHasFill(r)&&g.fillText(L,r.x,r.y)):(styleHasFill(r)&&g.fillText(L,r.x,r.y),styleHasStroke(r)&&g.strokeText(L,r.x,r.y)),V&&g.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(g,n,r,$,L){var V=!1;if(!$&&(r=r||{},n===r))return!1;if($||n.opacity!==r.opacity){flushPathDrawn(g,L),V=!0;var oe=Math.max(Math.min(n.opacity,1),0);g.globalAlpha=isNaN(oe)?DEFAULT_COMMON_STYLE.opacity:oe}($||n.blend!==r.blend)&&(V||(flushPathDrawn(g,L),V=!0),g.globalCompositeOperation=n.blend||DEFAULT_COMMON_STYLE.blend);for(var re=0;re<SHADOW_NUMBER_PROPS.length;re++){var ae=SHADOW_NUMBER_PROPS[re];($||n[ae]!==r[ae])&&(V||(flushPathDrawn(g,L),V=!0),g[ae]=g.dpr*(n[ae]||0))}return($||n.shadowColor!==r.shadowColor)&&(V||(flushPathDrawn(g,L),V=!0),g.shadowColor=n.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),V}function bindPathAndTextCommonStyle(g,n,r,$,L){var V=getStyle$1(n,L.inHover),oe=$?null:r&&getStyle$1(r,L.inHover)||{};if(V===oe)return!1;var re=bindCommonProps(g,V,oe,$,L);if(($||V.fill!==oe.fill)&&(re||(flushPathDrawn(g,L),re=!0),isValidStrokeFillStyle(V.fill)&&(g.fillStyle=V.fill)),($||V.stroke!==oe.stroke)&&(re||(flushPathDrawn(g,L),re=!0),isValidStrokeFillStyle(V.stroke)&&(g.strokeStyle=V.stroke)),($||V.opacity!==oe.opacity)&&(re||(flushPathDrawn(g,L),re=!0),g.globalAlpha=V.opacity==null?1:V.opacity),n.hasStroke()){var ae=V.lineWidth,le=ae/(V.strokeNoScale&&n.getLineScale?n.getLineScale():1);g.lineWidth!==le&&(re||(flushPathDrawn(g,L),re=!0),g.lineWidth=le)}for(var ue=0;ue<STROKE_PROPS.length;ue++){var de=STROKE_PROPS[ue],pe=de[0];($||V[pe]!==oe[pe])&&(re||(flushPathDrawn(g,L),re=!0),g[pe]=V[pe]||de[1])}return re}function bindImageStyle(g,n,r,$,L){return bindCommonProps(g,getStyle$1(n,L.inHover),r&&getStyle$1(r,L.inHover),$,L)}function setContextTransform(g,n){var r=n.transform,$=g.dpr||1;r?g.setTransform($*r[0],$*r[1],$*r[2],$*r[3],$*r[4],$*r[5]):g.setTransform($,0,0,$,0,0)}function updateClipStatus(g,n,r){for(var $=!1,L=0;L<g.length;L++){var V=g[L];$=$||V.isZeroArea(),setContextTransform(n,V),n.beginPath(),V.buildPath(n,V.shape),n.clip()}r.allClipped=$}function isTransformChanged(g,n){return g&&n?g[0]!==n[0]||g[1]!==n[1]||g[2]!==n[2]||g[3]!==n[3]||g[4]!==n[4]||g[5]!==n[5]:!(!g&&!n)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(g){var n=styleHasFill(g),r=styleHasStroke(g);return!(g.lineDash||!(+n^+r)||n&&typeof g.fill!="string"||r&&typeof g.stroke!="string"||g.strokePercent<1||g.strokeOpacity<1||g.fillOpacity<1)}function flushPathDrawn(g,n){n.batchFill&&g.fill(),n.batchStroke&&g.stroke(),n.batchFill="",n.batchStroke=""}function getStyle$1(g,n){return n&&g.__hoverStyle||g.style}function brushSingle(g,n){brush$1(g,n,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(g,n,r,$){var L=n.transform;if(!n.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){n.__dirty&=~REDRAW_BIT,n.__isRendered=!1;return}var V=n.__clipPaths,oe=r.prevElClipPaths,re=!1,ae=!1;if((!oe||isClipPathChanged(V,oe))&&(oe&&oe.length&&(flushPathDrawn(g,r),g.restore(),ae=re=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),V&&V.length&&(flushPathDrawn(g,r),g.save(),updateClipStatus(V,g,r),re=!0),r.prevElClipPaths=V),r.allClipped){n.__isRendered=!1;return}n.beforeBrush&&n.beforeBrush(),n.innerBeforeBrush();var le=r.prevEl;le||(ae=re=!0);var ue=n instanceof Path$1&&n.autoBatch&&canPathBatch(n.style);re||isTransformChanged(L,le.transform)?(flushPathDrawn(g,r),setContextTransform(g,n)):ue||flushPathDrawn(g,r);var de=getStyle$1(n,r.inHover);n instanceof Path$1?(r.lastDrawType!==DRAW_TYPE_PATH&&(ae=!0,r.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(g,n,le,ae,r),(!ue||!r.batchFill&&!r.batchStroke)&&g.beginPath(),brushPath(g,n,de,ue),ue&&(r.batchFill=de.fill||"",r.batchStroke=de.stroke||"")):n instanceof TSpan$1?(r.lastDrawType!==DRAW_TYPE_TEXT&&(ae=!0,r.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(g,n,le,ae,r),brushText(g,n,de)):n instanceof ZRImage$1?(r.lastDrawType!==DRAW_TYPE_IMAGE&&(ae=!0,r.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(g,n,le,ae,r),brushImage(g,n,de)):n.getTemporalDisplayables&&(r.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(ae=!0,r.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(g,n,r)),ue&&$&&flushPathDrawn(g,r),n.innerAfterBrush(),n.afterBrush&&n.afterBrush(),r.prevEl=n,n.__dirty=0,n.__isRendered=!0}function brushIncremental(g,n,r){var $=n.getDisplayables(),L=n.getTemporalDisplayables();g.save();var V={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},oe,re;for(oe=n.getCursor(),re=$.length;oe<re;oe++){var ae=$[oe];ae.beforeBrush&&ae.beforeBrush(),ae.innerBeforeBrush(),brush$1(g,ae,V,oe===re-1),ae.innerAfterBrush(),ae.afterBrush&&ae.afterBrush(),V.prevEl=ae}for(var le=0,ue=L.length;le<ue;le++){var ae=L[le];ae.beforeBrush&&ae.beforeBrush(),ae.innerBeforeBrush(),brush$1(g,ae,V,le===ue-1),ae.innerAfterBrush(),ae.afterBrush&&ae.afterBrush(),V.prevEl=ae}n.clearTemporalDisplayables(),n.notClear=!0,g.restore()}var decalMap=new WeakMap$4,decalCache=new LRU$1(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(g,n){if(g==="none")return null;var r=n.getDevicePixelRatio(),$=n.getZr(),L=$.painter.type==="svg";g.dirty&&decalMap.delete(g);var V=decalMap.get(g);if(V)return V;var oe=defaults$5(g,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});oe.backgroundColor==="none"&&(oe.backgroundColor=null);var re={repeat:"repeat"};return ae(re),re.rotation=oe.rotation,re.scaleX=re.scaleY=L?1:1/r,decalMap.set(g,re),g.dirty=!1,re;function ae(le){for(var ue=[r],de=!0,pe=0;pe<decalKeys.length;++pe){var he=oe[decalKeys[pe]];if(he!=null&&!isArray$6(he)&&!isString$3(he)&&!isNumber$3(he)&&typeof he!="boolean"){de=!1;break}ue.push(he)}var _e;if(de){_e=ue.join(",")+(L?"-svg":"");var Oe=decalCache.get(_e);Oe&&(L?le.svgElement=Oe:le.image=Oe)}var xe=normalizeDashArrayX(oe.dashArrayX),$e=normalizeDashArrayY(oe.dashArrayY),Ie=normalizeSymbolArray(oe.symbol),Ne=getLineBlockLengthX(xe),ze=getLineBlockLengthY($e),Ue=!L&&platformApi.createCanvas(),Fe=L&&{tag:"g",attrs:{},key:"dcl",children:[]},qe=At(),Et;Ue&&(Ue.width=qe.width*r,Ue.height=qe.height*r,Et=Ue.getContext("2d")),kt(),de&&decalCache.put(_e,Ue||Fe),le.image=Ue,le.svgElement=Fe,le.svgWidth=qe.width,le.svgHeight=qe.height;function At(){for(var Dt=1,jt=0,Lt=Ne.length;jt<Lt;++jt)Dt=getLeastCommonMultiple(Dt,Ne[jt]);for(var hn=1,jt=0,Lt=Ie.length;jt<Lt;++jt)hn=getLeastCommonMultiple(hn,Ie[jt].length);Dt*=hn;var Sn=ze*Ne.length*Ie.length;return{width:Math.max(1,Math.min(Dt,oe.maxTileWidth)),height:Math.max(1,Math.min(Sn,oe.maxTileHeight))}}function kt(){Et&&(Et.clearRect(0,0,Ue.width,Ue.height),oe.backgroundColor&&(Et.fillStyle=oe.backgroundColor,Et.fillRect(0,0,Ue.width,Ue.height)));for(var Dt=0,jt=0;jt<$e.length;++jt)Dt+=$e[jt];if(Dt<=0)return;for(var Lt=-ze,hn=0,Sn=0,On=0;Lt<qe.height;){if(hn%2===0){for(var _n=Sn/2%Ie.length,xn=0,bn=0,Tn=0;xn<qe.width*2;){for(var An=0,jt=0;jt<xe[On].length;++jt)An+=xe[On][jt];if(An<=0)break;if(bn%2===0){var En=(1-oe.symbolSize)*.5,Ln=xn+xe[On][bn]*En,Wn=Lt+$e[hn]*En,Mn=xe[On][bn]*oe.symbolSize,Fn=$e[hn]*oe.symbolSize,In=Tn/2%Ie[_n].length;Nn(Ln,Wn,Mn,Fn,Ie[_n][In])}xn+=xe[On][bn],++Tn,++bn,bn===xe[On].length&&(bn=0)}++On,On===xe.length&&(On=0)}Lt+=$e[hn],++Sn,++hn,hn===$e.length&&(hn=0)}function Nn(Vn,Un,Gn,$n,kn){var Bn=L?1:r,Yn=createSymbol$1(kn,Vn*Bn,Un*Bn,Gn*Bn,$n*Bn,oe.color,oe.symbolKeepAspect);if(L){var Jn=$.painter.renderOneToVNode(Yn);Jn&&Fe.children.push(Jn)}else brushSingle(Et,Yn)}}}}function normalizeSymbolArray(g){if(!g||g.length===0)return[["rect"]];if(isString$3(g))return[[g]];for(var n=!0,r=0;r<g.length;++r)if(!isString$3(g[r])){n=!1;break}if(n)return normalizeSymbolArray([g]);for(var $=[],r=0;r<g.length;++r)isString$3(g[r])?$.push([g[r]]):$.push(g[r]);return $}function normalizeDashArrayX(g){if(!g||g.length===0)return[[0,0]];if(isNumber$3(g)){var n=Math.ceil(g);return[[n,n]]}for(var r=!0,$=0;$<g.length;++$)if(!isNumber$3(g[$])){r=!1;break}if(r)return normalizeDashArrayX([g]);for(var L=[],$=0;$<g.length;++$)if(isNumber$3(g[$])){var n=Math.ceil(g[$]);L.push([n,n])}else{var n=map$2(g[$],function(re){return Math.ceil(re)});n.length%2===1?L.push(n.concat(n)):L.push(n)}return L}function normalizeDashArrayY(g){if(!g||typeof g=="object"&&g.length===0)return[0,0];if(isNumber$3(g)){var n=Math.ceil(g);return[n,n]}var r=map$2(g,function($){return Math.ceil($)});return g.length%2?r.concat(r):r}function getLineBlockLengthX(g){return map$2(g,function(n){return getLineBlockLengthY(n)})}function getLineBlockLengthY(g){for(var n=0,r=0;r<g.length;++r)n+=g[r];return g.length%2===1?n*2:n}function decalVisual(g,n){g.eachRawSeries(function(r){if(!g.isSeriesFiltered(r)){var $=r.getData();$.hasItemVisual()&&$.each(function(oe){var re=$.getItemVisual(oe,"decal");if(re){var ae=$.ensureUniqueItemVisual(oe,"style");ae.decal=createOrUpdatePatternFromDecal(re,n)}});var L=$.getVisual("decal");if(L){var V=$.getVisual("style");V.decal=createOrUpdatePatternFromDecal(L,n)}}})}var lifecycle=new Eventful$1;const lifecycle$1=lifecycle;var implsStore={};function registerImpl(g,n){implsStore[g]=n}function getImpl(g){return implsStore[g]}var TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(g){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,g,n)}}function createRegisterEventWithLowercaseMessageCenter(g){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return toLowercaseNameAndCallEventful(this,g,n)}}function toLowercaseNameAndCallEventful(g,n,r){return r[0]=r[0]&&r[0].toLowerCase(),Eventful$1.prototype[n].apply(g,r)}var MessageCenter=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n}(Eventful$1),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on"),messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this,new ECEventProcessor)||this;V._chartsViews=[],V._chartsMap={},V._componentsViews=[],V._componentsMap={},V._pendingActions=[],L=L||{},isString$3($)&&($=themeStorage[$]),V._dom=r;var oe="canvas",re="auto",ae=!1,le=V._zr=init$2(r,{renderer:L.renderer||oe,devicePixelRatio:L.devicePixelRatio,width:L.width,height:L.height,ssr:L.ssr,useDirtyRect:retrieve2(L.useDirtyRect,ae),useCoarsePointer:retrieve2(L.useCoarsePointer,re),pointerSize:L.pointerSize});V._ssr=L.ssr,V._throttledZrFlush=throttle(bind$3(le.flush,le),17),$=clone$5($),$&&globalBackwardCompat($,!0),V._theme=$,V._locale=createLocaleObject(L.locale||SYSTEM_LANG),V._coordSysMgr=new CoordinateSystem;var ue=V._api=createExtensionAPI(V);function de(pe,he){return pe.__prio-he.__prio}return sort$2(visualFuncs,de),sort$2(dataProcessorFuncs,de),V._scheduler=new Scheduler$1(V,ue,dataProcessorFuncs,visualFuncs),V._messageCenter=new MessageCenter,V._initEvents(),V.resize=bind$3(V.resize,V),le.animation.on("frame",V._onframe,V),bindRenderedEvent(le,V),bindMouseEvent(le,V),setAsPrimitive(V),V}return n.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var r=this._scheduler;if(this[PENDING_UPDATE]){var $=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(ae){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,ae}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,$),triggerUpdatedEvent.call(this,$)}else if(r.unfinished){var L=TEST_FRAME_REMAIN_TIME,V=this._model,oe=this._api;r.unfinished=!1;do{var re=+new Date;r.performSeriesTasks(V),r.performDataProcessorTasks(V),updateStreamModes(this,V),r.performVisualTasks(V),renderSeries(this,this._model,oe,"remain",{}),L-=+new Date-re}while(L>0&&r.unfinished);r.unfinished||this._zr.flush()}}},n.prototype.getDom=function(){return this._dom},n.prototype.getId=function(){return this.id},n.prototype.getZr=function(){return this._zr},n.prototype.isSSR=function(){return this._ssr},n.prototype.setOption=function(r,$,L){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var V,oe,re;if(isObject$6($)&&(L=$.lazyUpdate,V=$.silent,oe=$.replaceMerge,re=$.transition,$=$.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||$){var ae=new OptionManager$1(this._api),le=this._theme,ue=this._model=new GlobalModel$1;ue.scheduler=this._scheduler,ue.ssr=this._ssr,ue.init(null,null,null,le,this._locale,ae)}this._model.setOption(r,{replaceMerge:oe},optionPreprocessorFuncs);var de={seriesTransition:re,optionChanged:!0};if(L)this[PENDING_UPDATE]={silent:V,updateParams:de},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,de)}catch(pe){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,pe}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,V),triggerUpdatedEvent.call(this,V)}}},n.prototype.setTheme=function(){},n.prototype.getModel=function(){return this._model},n.prototype.getOption=function(){return this._model&&this._model.getOption()},n.prototype.getWidth=function(){return this._zr.getWidth()},n.prototype.getHeight=function(){return this._zr.getHeight()},n.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env$1.hasGlobalWindow&&window.devicePixelRatio||1},n.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},n.prototype.renderToCanvas=function(r){r=r||{};var $=this._zr.painter;return $.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},n.prototype.renderToSVGString=function(r){r=r||{};var $=this._zr.painter;return $.renderToString({useViewBox:r.useViewBox})},n.prototype.getSvgDataURL=function(){if(env$1.svgSupported){var r=this._zr,$=r.storage.getDisplayList();return each$f($,function(L){L.stopAnimation(null,!0)}),r.painter.toDataURL()}},n.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var $=r.excludeComponents,L=this._model,V=[],oe=this;each$f($,function(ae){L.eachComponent({mainType:ae},function(le){var ue=oe._componentsMap[le.__viewId];ue.group.ignore||(V.push(ue),ue.group.ignore=!0)})});var re=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return each$f(V,function(ae){ae.group.ignore=!1}),re},n.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var $=r.type==="svg",L=this.group,V=Math.min,oe=Math.max,re=1/0;if(connectedGroups[L]){var ae=re,le=re,ue=-re,de=-re,pe=[],he=r&&r.pixelRatio||this.getDevicePixelRatio();each$f(instances,function(Ne,ze){if(Ne.group===L){var Ue=$?Ne.getZr().painter.getSvgDom().innerHTML:Ne.renderToCanvas(clone$5(r)),Fe=Ne.getDom().getBoundingClientRect();ae=V(Fe.left,ae),le=V(Fe.top,le),ue=oe(Fe.right,ue),de=oe(Fe.bottom,de),pe.push({dom:Ue,left:Fe.left,top:Fe.top})}}),ae*=he,le*=he,ue*=he,de*=he;var _e=ue-ae,Oe=de-le,xe=platformApi.createCanvas(),$e=init$2(xe,{renderer:$?"svg":"canvas"});if($e.resize({width:_e,height:Oe}),$){var Ie="";return each$f(pe,function(Ne){var ze=Ne.left-ae,Ue=Ne.top-le;Ie+='<g transform="translate('+ze+","+Ue+')">'+Ne.dom+"</g>"}),$e.painter.getSvgRoot().innerHTML=Ie,r.connectedBackgroundColor&&$e.painter.setBackgroundColor(r.connectedBackgroundColor),$e.refreshImmediately(),$e.painter.toDataURL()}else return r.connectedBackgroundColor&&$e.add(new Rect$3({shape:{x:0,y:0,width:_e,height:Oe},style:{fill:r.connectedBackgroundColor}})),each$f(pe,function(Ne){var ze=new ZRImage$1({style:{x:Ne.left*he-ae,y:Ne.top*he-le,image:Ne.dom}});$e.add(ze)}),$e.refreshImmediately(),xe.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},n.prototype.convertToPixel=function(r,$){return doConvertPixel(this,"convertToPixel",r,$)},n.prototype.convertFromPixel=function(r,$){return doConvertPixel(this,"convertFromPixel",r,$)},n.prototype.containPixel=function(r,$){if(this._disposed){this.id;return}var L=this._model,V,oe=parseFinder$1(L,r);return each$f(oe,function(re,ae){ae.indexOf("Models")>=0&&each$f(re,function(le){var ue=le.coordinateSystem;if(ue&&ue.containPoint)V=V||!!ue.containPoint($);else if(ae==="seriesModels"){var de=this._chartsMap[le.__viewId];de&&de.containPoint&&(V=V||de.containPoint($,le))}},this)},this),!!V},n.prototype.getVisual=function(r,$){var L=this._model,V=parseFinder$1(L,r,{defaultMainType:"series"}),oe=V.seriesModel,re=oe.getData(),ae=V.hasOwnProperty("dataIndexInside")?V.dataIndexInside:V.hasOwnProperty("dataIndex")?re.indexOfRawIndex(V.dataIndex):null;return ae!=null?getItemVisualFromData(re,ae,$):getVisualFromData(re,$)},n.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},n.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},n.prototype._initEvents=function(){var r=this;each$f(MOUSE_EVENT_NAMES,function($){var L=function(V){var oe=r.getModel(),re=V.target,ae,le=$==="globalout";if(le?ae={}:re&&findEventDispatcher(re,function(_e){var Oe=getECData(_e);if(Oe&&Oe.dataIndex!=null){var xe=Oe.dataModel||oe.getSeriesByIndex(Oe.seriesIndex);return ae=xe&&xe.getDataParams(Oe.dataIndex,Oe.dataType,re)||{},!0}else if(Oe.eventData)return ae=extend$3({},Oe.eventData),!0},!0),ae){var ue=ae.componentType,de=ae.componentIndex;(ue==="markLine"||ue==="markPoint"||ue==="markArea")&&(ue="series",de=ae.seriesIndex);var pe=ue&&de!=null&&oe.getComponent(ue,de),he=pe&&r[pe.mainType==="series"?"_chartsMap":"_componentsMap"][pe.__viewId];ae.event=V,ae.type=$,r._$eventProcessor.eventInfo={targetEl:re,packedEvent:ae,model:pe,view:he},r.trigger($,ae)}};L.zrEventfulCallAtLast=!0,r._zr.on($,L,r)}),each$f(eventActionMap,function($,L){r._messageCenter.on(L,function(V){this.trigger(L,V)},r)}),each$f(["selectchanged"],function($){r._messageCenter.on($,function(L){this.trigger($,L)},r)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},n.prototype.isDisposed=function(){return this._disposed},n.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},n.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var $=this,L=$._api,V=$._model;each$f($._componentsViews,function(oe){oe.dispose(V,L)}),each$f($._chartsViews,function(oe){oe.dispose(V,L)}),$._zr.dispose(),$._dom=$._model=$._chartsMap=$._componentsMap=$._chartsViews=$._componentsViews=$._scheduler=$._api=$._zr=$._throttledZrFlush=$._theme=$._coordSysMgr=$._messageCenter=null,delete instances[$.id]},n.prototype.resize=function(r){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize(r);var $=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!$){var L=$.resetOption("media"),V=r&&r.silent;this[PENDING_UPDATE]&&(V==null&&(V=this[PENDING_UPDATE].silent),L=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{L&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend$3({duration:0},r&&r.animation)})}catch(oe){throw this[IN_MAIN_PROCESS_KEY]=!1,oe}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,V),triggerUpdatedEvent.call(this,V)}}},n.prototype.showLoading=function(r,$){if(this._disposed){this.id;return}if(isObject$6(r)&&($=r,r=""),r=r||"default",this.hideLoading(),!!loadingEffects[r]){var L=loadingEffects[r](this._api,$),V=this._zr;this._loadingFX=L,V.add(L)}},n.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},n.prototype.makeActionFromEvent=function(r){var $=extend$3({},r);return $.type=eventActionMap[r.type],$},n.prototype.dispatchAction=function(r,$){if(this._disposed){this.id;return}if(isObject$6($)||($={silent:!!$}),!!actions[r.type]&&!!this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(r);return}var L=$.silent;doDispatchAction.call(this,r,L);var V=$.flush;V?this._zr.flush():V!==!1&&env$1.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,L),triggerUpdatedEvent.call(this,L)}},n.prototype.updateLabelLayout=function(){lifecycle$1.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},n.prototype.appendData=function(r){if(this._disposed){this.id;return}var $=r.seriesIndex,L=this.getModel(),V=L.getSeriesByIndex($);V.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},n.internalField=function(){prepare=function(de){var pe=de._scheduler;pe.restorePipelines(de._model),pe.prepareStageTasks(),prepareView(de,!0),prepareView(de,!1),pe.plan()},prepareView=function(de,pe){for(var he=de._model,_e=de._scheduler,Oe=pe?de._componentsViews:de._chartsViews,xe=pe?de._componentsMap:de._chartsMap,$e=de._zr,Ie=de._api,Ne=0;Ne<Oe.length;Ne++)Oe[Ne].__alive=!1;pe?he.eachComponent(function(Fe,qe){Fe!=="series"&&ze(qe)}):he.eachSeries(ze);function ze(Fe){var qe=Fe.__requireNewView;Fe.__requireNewView=!1;var Et="_ec_"+Fe.id+"_"+Fe.type,At=!qe&&xe[Et];if(!At){var kt=parseClassType(Fe.type),Dt=pe?ComponentView$1.getClass(kt.main,kt.sub):ChartView$1.getClass(kt.sub);At=new Dt,At.init(he,Ie),xe[Et]=At,Oe.push(At),$e.add(At.group)}Fe.__viewId=At.__id=Et,At.__alive=!0,At.__model=Fe,At.group.__ecComponentInfo={mainType:Fe.mainType,index:Fe.componentIndex},!pe&&_e.prepareView(At,Fe,he,Ie)}for(var Ne=0;Ne<Oe.length;){var Ue=Oe[Ne];Ue.__alive?Ne++:(!pe&&Ue.renderTask.dispose(),$e.remove(Ue.group),Ue.dispose(he,Ie),Oe.splice(Ne,1),xe[Ue.__id]===Ue&&delete xe[Ue.__id],Ue.__id=Ue.group.__ecComponentInfo=null)}},updateDirectly=function(de,pe,he,_e,Oe){var xe=de._model;if(xe.setUpdatePayload(he),!_e){each$f([].concat(de._componentsViews).concat(de._chartsViews),Ue);return}var $e={};$e[_e+"Id"]=he[_e+"Id"],$e[_e+"Index"]=he[_e+"Index"],$e[_e+"Name"]=he[_e+"Name"];var Ie={mainType:_e,query:$e};Oe&&(Ie.subType=Oe);var Ne=he.excludeSeriesId,ze;Ne!=null&&(ze=createHashMap(),each$f(normalizeToArray(Ne),function(Fe){var qe=convertOptionIdName(Fe,null);qe!=null&&ze.set(qe,!0)})),xe&&xe.eachComponent(Ie,function(Fe){var qe=ze&&ze.get(Fe.id)!=null;if(!qe)if(isHighDownPayload(he))if(Fe instanceof SeriesModel$1)he.type===HIGHLIGHT_ACTION_TYPE&&!he.notBlur&&!Fe.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(Fe,he,de._api);else{var Et=findComponentHighDownDispatchers(Fe.mainType,Fe.componentIndex,he.name,de._api),At=Et.focusSelf,kt=Et.dispatchers;he.type===HIGHLIGHT_ACTION_TYPE&&At&&!he.notBlur&&blurComponent(Fe.mainType,Fe.componentIndex,de._api),kt&&each$f(kt,function(Dt){he.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(Dt):leaveEmphasis(Dt)})}else isSelectChangePayload(he)&&Fe instanceof SeriesModel$1&&(toggleSelectionFromPayload(Fe,he,de._api),updateSeriesElementSelection(Fe),markStatusToUpdate(de))},de),xe&&xe.eachComponent(Ie,function(Fe){var qe=ze&&ze.get(Fe.id)!=null;qe||Ue(de[_e==="series"?"_chartsMap":"_componentsMap"][Fe.__viewId])},de);function Ue(Fe){Fe&&Fe.__alive&&Fe[pe]&&Fe[pe](Fe.__model,xe,de._api,he)}},updateMethods={prepareAndUpdate:function(de){prepare(this),updateMethods.update.call(this,de,{optionChanged:de.newOption!=null})},update:function(de,pe){var he=this._model,_e=this._api,Oe=this._zr,xe=this._coordSysMgr,$e=this._scheduler;if(he){he.setUpdatePayload(de),$e.restoreData(he,de),$e.performSeriesTasks(he),xe.create(he,_e),$e.performDataProcessorTasks(he,de),updateStreamModes(this,he),xe.update(he,_e),r(he),$e.performVisualTasks(he,de),render(this,he,_e,de,pe);var Ie=he.get("backgroundColor")||"transparent",Ne=he.get("darkMode");Oe.setBackgroundColor(Ie),Ne!=null&&Ne!=="auto"&&Oe.setDarkMode(Ne),lifecycle$1.trigger("afterupdate",he,_e)}},updateTransform:function(de){var pe=this,he=this._model,_e=this._api;if(he){he.setUpdatePayload(de);var Oe=[];he.eachComponent(function($e,Ie){if($e!=="series"){var Ne=pe.getViewOfComponentModel(Ie);if(Ne&&Ne.__alive)if(Ne.updateTransform){var ze=Ne.updateTransform(Ie,he,_e,de);ze&&ze.update&&Oe.push(Ne)}else Oe.push(Ne)}});var xe=createHashMap();he.eachSeries(function($e){var Ie=pe._chartsMap[$e.__viewId];if(Ie.updateTransform){var Ne=Ie.updateTransform($e,he,_e,de);Ne&&Ne.update&&xe.set($e.uid,1)}else xe.set($e.uid,1)}),r(he),this._scheduler.performVisualTasks(he,de,{setDirty:!0,dirtyMap:xe}),renderSeries(this,he,_e,de,{},xe),lifecycle$1.trigger("afterupdate",he,_e)}},updateView:function(de){var pe=this._model;!pe||(pe.setUpdatePayload(de),ChartView$1.markUpdateMethod(de,"updateView"),r(pe),this._scheduler.performVisualTasks(pe,de,{setDirty:!0}),render(this,pe,this._api,de,{}),lifecycle$1.trigger("afterupdate",pe,this._api))},updateVisual:function(de){var pe=this,he=this._model;!he||(he.setUpdatePayload(de),he.eachSeries(function(_e){_e.getData().clearAllVisual()}),ChartView$1.markUpdateMethod(de,"updateVisual"),r(he),this._scheduler.performVisualTasks(he,de,{visualType:"visual",setDirty:!0}),he.eachComponent(function(_e,Oe){if(_e!=="series"){var xe=pe.getViewOfComponentModel(Oe);xe&&xe.__alive&&xe.updateVisual(Oe,he,pe._api,de)}}),he.eachSeries(function(_e){var Oe=pe._chartsMap[_e.__viewId];Oe.updateVisual(_e,he,pe._api,de)}),lifecycle$1.trigger("afterupdate",he,this._api))},updateLayout:function(de){updateMethods.update.call(this,de)}},doConvertPixel=function(de,pe,he,_e){if(de._disposed){de.id;return}for(var Oe=de._model,xe=de._coordSysMgr.getCoordinateSystems(),$e,Ie=parseFinder$1(Oe,he),Ne=0;Ne<xe.length;Ne++){var ze=xe[Ne];if(ze[pe]&&($e=ze[pe](Oe,Ie,_e))!=null)return $e}},updateStreamModes=function(de,pe){var he=de._chartsMap,_e=de._scheduler;pe.eachSeries(function(Oe){_e.updateStreamModes(Oe,he[Oe.__viewId])})},doDispatchAction=function(de,pe){var he=this,_e=this.getModel(),Oe=de.type,xe=de.escapeConnect,$e=actions[Oe],Ie=$e.actionInfo,Ne=(Ie.update||"update").split(":"),ze=Ne.pop(),Ue=Ne[0]!=null&&parseClassType(Ne[0]);this[IN_MAIN_PROCESS_KEY]=!0;var Fe=[de],qe=!1;de.batch&&(qe=!0,Fe=map$2(de.batch,function(hn){return hn=defaults$5(extend$3({},hn),de),hn.batch=null,hn}));var Et=[],At,kt=isSelectChangePayload(de),Dt=isHighDownPayload(de);if(Dt&&allLeaveBlur(this._api),each$f(Fe,function(hn){if(At=$e.action(hn,he._model,he._api),At=At||extend$3({},hn),At.type=Ie.event||At.type,Et.push(At),Dt){var Sn=preParseFinder(de),On=Sn.queryOptionMap,_n=Sn.mainTypeSpecified,xn=_n?On.keys()[0]:"series";updateDirectly(he,ze,hn,xn),markStatusToUpdate(he)}else kt?(updateDirectly(he,ze,hn,"series"),markStatusToUpdate(he)):Ue&&updateDirectly(he,ze,hn,Ue.main,Ue.sub)}),ze!=="none"&&!Dt&&!kt&&!Ue)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,de),this[PENDING_UPDATE]=null):updateMethods[ze].call(this,de)}catch(hn){throw this[IN_MAIN_PROCESS_KEY]=!1,hn}if(qe?At={type:Ie.event||Oe,escapeConnect:xe,batch:Et}:At=Et[0],this[IN_MAIN_PROCESS_KEY]=!1,!pe){var jt=this._messageCenter;if(jt.trigger(At.type,At),kt){var Lt={type:"selectchanged",escapeConnect:xe,selected:getAllSelectedIndices(_e),isFromClick:de.isFromClick||!1,fromAction:de.type,fromActionPayload:de};jt.trigger(Lt.type,Lt)}}},flushPendingActions=function(de){for(var pe=this._pendingActions;pe.length;){var he=pe.shift();doDispatchAction.call(this,he,de)}},triggerUpdatedEvent=function(de){!de&&this.trigger("updated")},bindRenderedEvent=function(de,pe){de.on("rendered",function(he){pe.trigger("rendered",he),de.animation.isFinished()&&!pe[PENDING_UPDATE]&&!pe._scheduler.unfinished&&!pe._pendingActions.length&&pe.trigger("finished")})},bindMouseEvent=function(de,pe){de.on("mouseover",function(he){var _e=he.target,Oe=findEventDispatcher(_e,isHighDownDispatcher);Oe&&(handleGlobalMouseOverForHighDown(Oe,he,pe._api),markStatusToUpdate(pe))}).on("mouseout",function(he){var _e=he.target,Oe=findEventDispatcher(_e,isHighDownDispatcher);Oe&&(handleGlobalMouseOutForHighDown(Oe,he,pe._api),markStatusToUpdate(pe))}).on("click",function(he){var _e=he.target,Oe=findEventDispatcher(_e,function(Ie){return getECData(Ie).dataIndex!=null},!0);if(Oe){var xe=Oe.selected?"unselect":"select",$e=getECData(Oe);pe._api.dispatchAction({type:xe,dataType:$e.dataType,dataIndexInside:$e.dataIndex,seriesIndex:$e.seriesIndex,isFromClick:!0})}})};function r(de){de.clearColorPalette(),de.eachSeries(function(pe){pe.clearColorPalette()})}function $(de){var pe=[],he=[],_e=!1;if(de.eachComponent(function(Ie,Ne){var ze=Ne.get("zlevel")||0,Ue=Ne.get("z")||0,Fe=Ne.getZLevelKey();_e=_e||!!Fe,(Ie==="series"?he:pe).push({zlevel:ze,z:Ue,idx:Ne.componentIndex,type:Ie,key:Fe})}),_e){var Oe=pe.concat(he),xe,$e;sort$2(Oe,function(Ie,Ne){return Ie.zlevel===Ne.zlevel?Ie.z-Ne.z:Ie.zlevel-Ne.zlevel}),each$f(Oe,function(Ie){var Ne=de.getComponent(Ie.type,Ie.idx),ze=Ie.zlevel,Ue=Ie.key;xe!=null&&(ze=Math.max(xe,ze)),Ue?(ze===xe&&Ue!==$e&&ze++,$e=Ue):$e&&(ze===xe&&ze++,$e=""),xe=ze,Ne.setZLevel(ze)})}}render=function(de,pe,he,_e,Oe){$(pe),renderComponents(de,pe,he,_e,Oe),each$f(de._chartsViews,function(xe){xe.__alive=!1}),renderSeries(de,pe,he,_e,Oe),each$f(de._chartsViews,function(xe){xe.__alive||xe.remove(pe,he)})},renderComponents=function(de,pe,he,_e,Oe,xe){each$f(xe||de._componentsViews,function($e){var Ie=$e.__model;le(Ie,$e),$e.render(Ie,pe,he,_e),re(Ie,$e),ue(Ie,$e)})},renderSeries=function(de,pe,he,_e,Oe,xe){var $e=de._scheduler;Oe=extend$3(Oe||{},{updatedSeries:pe.getSeries()}),lifecycle$1.trigger("series:beforeupdate",pe,he,Oe);var Ie=!1;pe.eachSeries(function(Ne){var ze=de._chartsMap[Ne.__viewId];ze.__alive=!0;var Ue=ze.renderTask;$e.updatePayload(Ue,_e),le(Ne,ze),xe&&xe.get(Ne.uid)&&Ue.dirty(),Ue.perform($e.getPerformArgs(Ue))&&(Ie=!0),ze.group.silent=!!Ne.get("silent"),oe(Ne,ze),updateSeriesElementSelection(Ne)}),$e.unfinished=Ie||$e.unfinished,lifecycle$1.trigger("series:layoutlabels",pe,he,Oe),lifecycle$1.trigger("series:transition",pe,he,Oe),pe.eachSeries(function(Ne){var ze=de._chartsMap[Ne.__viewId];re(Ne,ze),ue(Ne,ze)}),V(de,pe),lifecycle$1.trigger("series:afterupdate",pe,he,Oe)},markStatusToUpdate=function(de){de[STATUS_NEEDS_UPDATE_KEY]=!0,de.getZr().wakeUp()},applyChangedStates=function(de){!de[STATUS_NEEDS_UPDATE_KEY]||(de.getZr().storage.traverse(function(pe){isElementRemoved(pe)||L(pe)}),de[STATUS_NEEDS_UPDATE_KEY]=!1)};function L(de){for(var pe=[],he=de.currentStates,_e=0;_e<he.length;_e++){var Oe=he[_e];Oe==="emphasis"||Oe==="blur"||Oe==="select"||pe.push(Oe)}de.selected&&de.states.select&&pe.push("select"),de.hoverState===HOVER_STATE_EMPHASIS&&de.states.emphasis?pe.push("emphasis"):de.hoverState===HOVER_STATE_BLUR&&de.states.blur&&pe.push("blur"),de.useStates(pe)}function V(de,pe){var he=de._zr,_e=he.storage,Oe=0;_e.traverse(function(xe){xe.isGroup||Oe++}),Oe>pe.get("hoverLayerThreshold")&&!env$1.node&&!env$1.worker&&pe.eachSeries(function(xe){if(!xe.preventUsingHoverLayer){var $e=de._chartsMap[xe.__viewId];$e.__alive&&$e.eachRendered(function(Ie){Ie.states.emphasis&&(Ie.states.emphasis.hoverLayer=!0)})}})}function oe(de,pe){var he=de.get("blendMode")||null;pe.eachRendered(function(_e){_e.isGroup||(_e.style.blend=he)})}function re(de,pe){if(!de.preventAutoZ){var he=de.get("z")||0,_e=de.get("zlevel")||0;pe.eachRendered(function(Oe){return ae(Oe,he,_e,-1/0),!0})}}function ae(de,pe,he,_e){var Oe=de.getTextContent(),xe=de.getTextGuideLine(),$e=de.isGroup;if($e)for(var Ie=de.childrenRef(),Ne=0;Ne<Ie.length;Ne++)_e=Math.max(ae(Ie[Ne],pe,he,_e),_e);else de.z=pe,de.zlevel=he,_e=Math.max(de.z2,_e);if(Oe&&(Oe.z=pe,Oe.zlevel=he,isFinite(_e)&&(Oe.z2=_e+2)),xe){var ze=de.textGuideLineConfig;xe.z=pe,xe.zlevel=he,isFinite(_e)&&(xe.z2=_e+(ze&&ze.showAbove?1:-1))}return _e}function le(de,pe){pe.eachRendered(function(he){if(!isElementRemoved(he)){var _e=he.getTextContent(),Oe=he.getTextGuideLine();he.stateTransition&&(he.stateTransition=null),_e&&_e.stateTransition&&(_e.stateTransition=null),Oe&&Oe.stateTransition&&(Oe.stateTransition=null),he.hasState()?(he.prevStates=he.currentStates,he.clearStates()):he.prevStates&&(he.prevStates=null)}})}function ue(de,pe){var he=de.getModel("stateAnimation"),_e=de.isAnimationEnabled(),Oe=he.get("duration"),xe=Oe>0?{duration:Oe,delay:he.get("delay"),easing:he.get("easing")}:null;pe.eachRendered(function($e){if($e.states&&$e.states.emphasis){if(isElementRemoved($e))return;if($e instanceof Path$1&&savePathStates($e),$e.__dirty){var Ie=$e.prevStates;Ie&&$e.useStates(Ie)}if(_e){$e.stateTransition=xe;var Ne=$e.getTextContent(),ze=$e.getTextGuideLine();Ne&&(Ne.stateTransition=xe),ze&&(ze.stateTransition=xe)}$e.__dirty&&L($e)}})}createExtensionAPI=function(de){return new(function(pe){__extends(he,pe);function he(){return pe!==null&&pe.apply(this,arguments)||this}return he.prototype.getCoordinateSystems=function(){return de._coordSysMgr.getCoordinateSystems()},he.prototype.getComponentByElement=function(_e){for(;_e;){var Oe=_e.__ecComponentInfo;if(Oe!=null)return de._model.getComponent(Oe.mainType,Oe.index);_e=_e.parent}},he.prototype.enterEmphasis=function(_e,Oe){enterEmphasis(_e,Oe),markStatusToUpdate(de)},he.prototype.leaveEmphasis=function(_e,Oe){leaveEmphasis(_e,Oe),markStatusToUpdate(de)},he.prototype.enterBlur=function(_e){enterBlur(_e),markStatusToUpdate(de)},he.prototype.leaveBlur=function(_e){leaveBlur(_e),markStatusToUpdate(de)},he.prototype.enterSelect=function(_e){enterSelect(_e),markStatusToUpdate(de)},he.prototype.leaveSelect=function(_e){leaveSelect(_e),markStatusToUpdate(de)},he.prototype.getModel=function(){return de.getModel()},he.prototype.getViewOfComponentModel=function(_e){return de.getViewOfComponentModel(_e)},he.prototype.getViewOfSeriesModel=function(_e){return de.getViewOfSeriesModel(_e)},he}(ExtensionAPI$1))(de)},enableConnect=function(de){function pe(he,_e){for(var Oe=0;Oe<he.length;Oe++){var xe=he[Oe];xe[CONNECT_STATUS_KEY]=_e}}each$f(eventActionMap,function(he,_e){de._messageCenter.on(_e,function(Oe){if(connectedGroups[de.group]&&de[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(Oe&&Oe.escapeConnect)return;var xe=de.makeActionFromEvent(Oe),$e=[];each$f(instances,function(Ie){Ie!==de&&Ie.group===de.group&&$e.push(Ie)}),pe($e,CONNECT_STATUS_PENDING),each$f($e,function(Ie){Ie[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&Ie.dispatchAction(xe)}),pe($e,CONNECT_STATUS_UPDATED)}})})}}(),n}(Eventful$1),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on"),echartsProto.off=createRegisterEventWithLowercaseECharts("off"),echartsProto.one=function(g,n,r){var $=this;function L(){for(var V=[],oe=0;oe<arguments.length;oe++)V[oe]=arguments[oe];n&&n.apply&&n.apply(this,V),$.off(g,L)}this.on.call(this,g,L,r)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(g){}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init$1(g,n,r){var $=!(r&&r.ssr);if($){var L=getInstanceByDom(g);if(L)return L}var V=new ECharts(g,n,r);return V.id="ec_"+idBase++,instances[V.id]=V,$&&setAttribute(g,DOM_ATTRIBUTE_KEY,V.id),enableConnect(V),lifecycle$1.trigger("afterinit",V),V}function getInstanceByDom(g){return instances[getAttribute(g,DOM_ATTRIBUTE_KEY)]}function registerTheme(g,n){themeStorage[g]=n}function registerPreprocessor(g){indexOf(optionPreprocessorFuncs,g)<0&&optionPreprocessorFuncs.push(g)}function registerProcessor(g,n){normalizeRegister(dataProcessorFuncs,g,n,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(g){registerUpdateLifecycle("afterinit",g)}function registerPostUpdate(g){registerUpdateLifecycle("afterupdate",g)}function registerUpdateLifecycle(g,n){lifecycle$1.on(g,n)}function registerAction(g,n,r){isFunction$3(n)&&(r=n,n="");var $=isObject$6(g)?g.type:[g,g={event:n}][0];g.event=(g.event||$).toLowerCase(),n=g.event,!eventActionMap[n]&&(assert(ACTION_REG.test($)&&ACTION_REG.test(n)),actions[$]||(actions[$]={action:r,actionInfo:g}),eventActionMap[n]=$)}function registerCoordinateSystem(g,n){CoordinateSystem.register(g,n)}function registerLayout(g,n){normalizeRegister(visualFuncs,g,n,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(g,n){normalizeRegister(visualFuncs,g,n,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(g,n,r,$,L){if((isFunction$3(n)||isObject$6(n))&&(r=n,n=$),!(indexOf(registeredTasks,r)>=0)){registeredTasks.push(r);var V=Scheduler$1.wrapStageHandler(r,L);V.__prio=n,V.__raw=r,g.push(V)}}function registerLoading(g,n){loadingEffects[g]=n}function registerMap$1(g,n,r){var $=getImpl("registerMap");$&&$(g,n,r)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask),registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask),registerVisual(PRIORITY_VISUAL_DECAL,decalVisual),registerPreprocessor(globalBackwardCompat),registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack),registerLoading("default",defaultLoading),registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop$5),registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop$5),registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop$5),registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop$5),registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop$5),registerTheme("light",lightTheme),registerTheme("dark",darkTheme$1);var extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap:registerMap$1,registerImpl,PRIORITY,ComponentModel:ComponentModel$1,ComponentView:ComponentView$1,SeriesModel:SeriesModel$1,ChartView:ChartView$1,registerComponentModel:function(g){ComponentModel$1.registerClass(g)},registerComponentView:function(g){ComponentView$1.registerClass(g)},registerSeriesModel:function(g){SeriesModel$1.registerClass(g)},registerChartView:function(g){ChartView$1.registerClass(g)},registerSubTypeDefaulter:function(g,n){ComponentModel$1.registerSubTypeDefaulter(g,n)},registerPainter:function(g,n){registerPainter(g,n)}};function use(g){if(isArray$6(g)){each$f(g,function(n){use(n)});return}indexOf(extensions,g)>=0||(extensions.push(g),isFunction$3(g)&&(g={install:g}),g.install(extensionRegisters))}function dataIndexMapValueLength(g){return g==null?0:g.length||1}function defaultKeyGetter(g){return g}var DataDiffer=function(){function g(n,r,$,L,V,oe){this._old=n,this._new=r,this._oldKeyGetter=$||defaultKeyGetter,this._newKeyGetter=L||defaultKeyGetter,this.context=V,this._diffModeMultiple=oe==="multiple"}return g.prototype.add=function(n){return this._add=n,this},g.prototype.update=function(n){return this._update=n,this},g.prototype.updateManyToOne=function(n){return this._updateManyToOne=n,this},g.prototype.updateOneToMany=function(n){return this._updateOneToMany=n,this},g.prototype.updateManyToMany=function(n){return this._updateManyToMany=n,this},g.prototype.remove=function(n){return this._remove=n,this},g.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},g.prototype._executeOneToOne=function(){var n=this._old,r=this._new,$={},L=new Array(n.length),V=new Array(r.length);this._initIndexMap(n,null,L,"_oldKeyGetter"),this._initIndexMap(r,$,V,"_newKeyGetter");for(var oe=0;oe<n.length;oe++){var re=L[oe],ae=$[re],le=dataIndexMapValueLength(ae);if(le>1){var ue=ae.shift();ae.length===1&&($[re]=ae[0]),this._update&&this._update(ue,oe)}else le===1?($[re]=null,this._update&&this._update(ae,oe)):this._remove&&this._remove(oe)}this._performRestAdd(V,$)},g.prototype._executeMultiple=function(){var n=this._old,r=this._new,$={},L={},V=[],oe=[];this._initIndexMap(n,$,V,"_oldKeyGetter"),this._initIndexMap(r,L,oe,"_newKeyGetter");for(var re=0;re<V.length;re++){var ae=V[re],le=$[ae],ue=L[ae],de=dataIndexMapValueLength(le),pe=dataIndexMapValueLength(ue);if(de>1&&pe===1)this._updateManyToOne&&this._updateManyToOne(ue,le),L[ae]=null;else if(de===1&&pe>1)this._updateOneToMany&&this._updateOneToMany(ue,le),L[ae]=null;else if(de===1&&pe===1)this._update&&this._update(ue,le),L[ae]=null;else if(de>1&&pe>1)this._updateManyToMany&&this._updateManyToMany(ue,le),L[ae]=null;else if(de>1)for(var he=0;he<de;he++)this._remove&&this._remove(le[he]);else this._remove&&this._remove(le)}this._performRestAdd(oe,L)},g.prototype._performRestAdd=function(n,r){for(var $=0;$<n.length;$++){var L=n[$],V=r[L],oe=dataIndexMapValueLength(V);if(oe>1)for(var re=0;re<oe;re++)this._add&&this._add(V[re]);else oe===1&&this._add&&this._add(V);r[L]=null}},g.prototype._initIndexMap=function(n,r,$,L){for(var V=this._diffModeMultiple,oe=0;oe<n.length;oe++){var re="_ec_"+this[L](n[oe],oe);if(V||($[oe]=re),!!r){var ae=r[re],le=dataIndexMapValueLength(ae);le===0?(r[re]=oe,V&&$.push(re)):le===1?r[re]=[ae,oe]:ae.push(oe)}}},g}();const DataDiffer$1=DataDiffer;var DimensionUserOuput=function(){function g(n,r){this._encode=n,this._schema=r}return g.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},g.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},g}();function summarizeDimensions(g,n){var r={},$=r.encode={},L=createHashMap(),V=[],oe=[],re={};each$f(g.dimensions,function(pe){var he=g.getDimensionInfo(pe),_e=he.coordDim;if(_e){var Oe=he.coordDimIndex;getOrCreateEncodeArr($,_e)[Oe]=pe,he.isExtraCoord||(L.set(_e,1),mayLabelDimType(he.type)&&(V[0]=pe),getOrCreateEncodeArr(re,_e)[Oe]=g.getDimensionIndex(he.name)),he.defaultTooltip&&oe.push(pe)}VISUAL_DIMENSIONS.each(function(xe,$e){var Ie=getOrCreateEncodeArr($,$e),Ne=he.otherDims[$e];Ne!=null&&Ne!==!1&&(Ie[Ne]=he.name)})});var ae=[],le={};L.each(function(pe,he){var _e=$[he];le[he]=_e[0],ae=ae.concat(_e)}),r.dataDimsOnCoord=ae,r.dataDimIndicesOnCoord=map$2(ae,function(pe){return g.getDimensionInfo(pe).storeDimIndex}),r.encodeFirstDimNotExtra=le;var ue=$.label;ue&&ue.length&&(V=ue.slice());var de=$.tooltip;return de&&de.length?oe=de.slice():oe.length||(oe=V.slice()),$.defaultedLabel=V,$.defaultedTooltip=oe,r.userOutput=new DimensionUserOuput(re,n),r}function getOrCreateEncodeArr(g,n){return g.hasOwnProperty(n)||(g[n]=[]),g[n]}function getDimensionTypeByAxis(g){return g==="category"?"ordinal":g==="time"?"time":"float"}function mayLabelDimType(g){return!(g==="ordinal"||g==="time")}var SeriesDimensionDefine=function(){function g(n){this.otherDims={},n!=null&&extend$3(this,n)}return g}();const SeriesDimensionDefine$1=SeriesDimensionDefine;var inner$h=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function g(n){this.dimensions=n.dimensions,this._dimOmitted=n.dimensionOmitted,this.source=n.source,this._fullDimCount=n.fullDimensionCount,this._updateDimOmitted(n.dimensionOmitted)}return g.prototype.isDimensionOmitted=function(){return this._dimOmitted},g.prototype._updateDimOmitted=function(n){this._dimOmitted=n,n&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},g.prototype.getSourceDimensionIndex=function(n){return retrieve2(this._dimNameMap.get(n),-1)},g.prototype.getSourceDimension=function(n){var r=this.source.dimensionsDefine;if(r)return r[n]},g.prototype.makeStoreSchema=function(){for(var n=this._fullDimCount,r=shouldRetrieveDataByName(this.source),$=!shouldOmitUnusedDimensions(n),L="",V=[],oe=0,re=0;oe<n;oe++){var ae=void 0,le=void 0,ue=void 0,de=this.dimensions[re];if(de&&de.storeDimIndex===oe)ae=r?de.name:null,le=de.type,ue=de.ordinalMeta,re++;else{var pe=this.getSourceDimension(oe);pe&&(ae=r?pe.name:null,le=pe.type)}V.push({property:ae,type:le,ordinalMeta:ue}),r&&ae!=null&&(!de||!de.isCalculationCoord)&&(L+=$?ae.replace(/\`/g,"`1").replace(/\$/g,"`2"):ae),L+="$",L+=dimTypeShort[le]||"f",ue&&(L+=ue.uid),L+="$"}var he=this.source,_e=[he.seriesLayoutBy,he.startIndex,L].join("$$");return{dimensions:V,hash:_e}},g.prototype.makeOutputDimensionNames=function(){for(var n=[],r=0,$=0;r<this._fullDimCount;r++){var L=void 0,V=this.dimensions[$];if(V&&V.storeDimIndex===r)V.isCalculationCoord||(L=V.name),$++;else{var oe=this.getSourceDimension(r);oe&&(L=oe.name)}n.push(L)}return n},g.prototype.appendCalculationDimension=function(n){this.dimensions.push(n),n.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},g}();function isSeriesDataSchema(g){return g instanceof SeriesDataSchema}function createDimNameMap(g){for(var n=createHashMap(),r=0;r<(g||[]).length;r++){var $=g[r],L=isObject$6($)?$.name:$;L!=null&&n.get(L)==null&&n.set(L,r)}return n}function ensureSourceDimNameMap(g){var n=inner$h(g);return n.dimNameMap||(n.dimNameMap=createDimNameMap(g.dimensionsDefine))}function shouldOmitUnusedDimensions(g){return g>30}var isObject$4=isObject$6,map$1=map$2,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function g(n,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var $,L=!1;isSeriesDataSchema(n)?($=n.dimensions,this._dimOmitted=n.isDimensionOmitted(),this._schema=n):(L=!0,$=n),$=$||["x","y"];for(var V={},oe=[],re={},ae=!1,le={},ue=0;ue<$.length;ue++){var de=$[ue],pe=isString$3(de)?new SeriesDimensionDefine$1({name:de}):de instanceof SeriesDimensionDefine$1?de:new SeriesDimensionDefine$1(de),he=pe.name;pe.type=pe.type||"float",pe.coordDim||(pe.coordDim=he,pe.coordDimIndex=0);var _e=pe.otherDims=pe.otherDims||{};oe.push(he),V[he]=pe,le[he]!=null&&(ae=!0),pe.createInvertedIndices&&(re[he]=[]),_e.itemName===0&&(this._nameDimIdx=ue),_e.itemId===0&&(this._idDimIdx=ue),L&&(pe.storeDimIndex=ue)}if(this.dimensions=oe,this._dimInfos=V,this._initGetDimensionInfo(ae),this.hostModel=r,this._invertedIndicesMap=re,this._dimOmitted){var Oe=this._dimIdxToName=createHashMap();each$f(oe,function(xe){Oe.set(V[xe].storeDimIndex,xe)})}}return g.prototype.getDimension=function(n){var r=this._recognizeDimIndex(n);if(r==null)return n;if(r=n,!this._dimOmitted)return this.dimensions[r];var $=this._dimIdxToName.get(r);if($!=null)return $;var L=this._schema.getSourceDimension(r);if(L)return L.name},g.prototype.getDimensionIndex=function(n){var r=this._recognizeDimIndex(n);if(r!=null)return r;if(n==null)return-1;var $=this._getDimInfo(n);return $?$.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(n):-1},g.prototype._recognizeDimIndex=function(n){if(isNumber$3(n)||n!=null&&!isNaN(n)&&!this._getDimInfo(n)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(n)<0))return+n},g.prototype._getStoreDimIndex=function(n){var r=this.getDimensionIndex(n);return r},g.prototype.getDimensionInfo=function(n){return this._getDimInfo(this.getDimension(n))},g.prototype._initGetDimensionInfo=function(n){var r=this._dimInfos;this._getDimInfo=n?function($){return r.hasOwnProperty($)?r[$]:void 0}:function($){return r[$]}},g.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},g.prototype.mapDimension=function(n,r){var $=this._dimSummary;if(r==null)return $.encodeFirstDimNotExtra[n];var L=$.encode[n];return L?L[r]:null},g.prototype.mapDimensionsAll=function(n){var r=this._dimSummary,$=r.encode[n];return($||[]).slice()},g.prototype.getStore=function(){return this._store},g.prototype.initData=function(n,r,$){var L=this,V;if(n instanceof DataStore&&(V=n),!V){var oe=this.dimensions,re=isSourceInstance(n)||isArrayLike$1(n)?new DefaultDataProvider(n,oe.length):n;V=new DataStore;var ae=map$1(oe,function(le){return{type:L._dimInfos[le].type,property:le}});V.initData(re,ae,$)}this._store=V,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,V.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},g.prototype.appendData=function(n){var r=this._store.appendData(n);this._doInit(r[0],r[1])},g.prototype.appendValues=function(n,r){var $=this._store.appendValues(n,r.length),L=$.start,V=$.end,oe=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var re=L;re<V;re++){var ae=re-L;this._nameList[re]=r[ae],oe&&makeIdFromName(this,re)}},g.prototype._updateOrdinalMeta=function(){for(var n=this._store,r=this.dimensions,$=0;$<r.length;$++){var L=this._dimInfos[r[$]];L.ordinalMeta&&n.collectOrdinalMeta(L.storeDimIndex,L.ordinalMeta)}},g.prototype._shouldMakeIdFromName=function(){var n=this._store.getProvider();return this._idDimIdx==null&&n.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!n.fillStorage},g.prototype._doInit=function(n,r){if(!(n>=r)){var $=this._store,L=$.getProvider();this._updateOrdinalMeta();var V=this._nameList,oe=this._idList,re=L.getSource().sourceFormat,ae=re===SOURCE_FORMAT_ORIGINAL;if(ae&&!L.pure)for(var le=[],ue=n;ue<r;ue++){var de=L.getItem(ue,le);if(!this.hasItemOption&&isDataItemOption(de)&&(this.hasItemOption=!0),de){var pe=de.name;V[ue]==null&&pe!=null&&(V[ue]=convertOptionIdName(pe,null));var he=de.id;oe[ue]==null&&he!=null&&(oe[ue]=convertOptionIdName(he,null))}}if(this._shouldMakeIdFromName())for(var ue=n;ue<r;ue++)makeIdFromName(this,ue);prepareInvertedIndex(this)}},g.prototype.getApproximateExtent=function(n){return this._approximateExtent[n]||this._store.getDataExtent(this._getStoreDimIndex(n))},g.prototype.setApproximateExtent=function(n,r){r=this.getDimension(r),this._approximateExtent[r]=n.slice()},g.prototype.getCalculationInfo=function(n){return this._calculationInfo[n]},g.prototype.setCalculationInfo=function(n,r){isObject$4(n)?extend$3(this._calculationInfo,n):this._calculationInfo[n]=r},g.prototype.getName=function(n){var r=this.getRawIndex(n),$=this._nameList[r];return $==null&&this._nameDimIdx!=null&&($=getIdNameFromStore(this,this._nameDimIdx,r)),$==null&&($=""),$},g.prototype._getCategory=function(n,r){var $=this._store.get(n,r),L=this._store.getOrdinalMeta(n);return L?L.categories[$]:$},g.prototype.getId=function(n){return getId(this,this.getRawIndex(n))},g.prototype.count=function(){return this._store.count()},g.prototype.get=function(n,r){var $=this._store,L=this._dimInfos[n];if(L)return $.get(L.storeDimIndex,r)},g.prototype.getByRawIndex=function(n,r){var $=this._store,L=this._dimInfos[n];if(L)return $.getByRawIndex(L.storeDimIndex,r)},g.prototype.getIndices=function(){return this._store.getIndices()},g.prototype.getDataExtent=function(n){return this._store.getDataExtent(this._getStoreDimIndex(n))},g.prototype.getSum=function(n){return this._store.getSum(this._getStoreDimIndex(n))},g.prototype.getMedian=function(n){return this._store.getMedian(this._getStoreDimIndex(n))},g.prototype.getValues=function(n,r){var $=this,L=this._store;return isArray$6(n)?L.getValues(map$1(n,function(V){return $._getStoreDimIndex(V)}),r):L.getValues(n)},g.prototype.hasValue=function(n){for(var r=this._dimSummary.dataDimIndicesOnCoord,$=0,L=r.length;$<L;$++)if(isNaN(this._store.get(r[$],n)))return!1;return!0},g.prototype.indexOfName=function(n){for(var r=0,$=this._store.count();r<$;r++)if(this.getName(r)===n)return r;return-1},g.prototype.getRawIndex=function(n){return this._store.getRawIndex(n)},g.prototype.indexOfRawIndex=function(n){return this._store.indexOfRawIndex(n)},g.prototype.rawIndexOf=function(n,r){var $=n&&this._invertedIndicesMap[n],L=$[r];return L==null||isNaN(L)?INDEX_NOT_FOUND:L},g.prototype.indicesOfNearest=function(n,r,$){return this._store.indicesOfNearest(this._getStoreDimIndex(n),r,$)},g.prototype.each=function(n,r,$){isFunction$3(n)&&($=r,r=n,n=[]);var L=$||this,V=map$1(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.each(V,L?bind$3(r,L):r)},g.prototype.filterSelf=function(n,r,$){isFunction$3(n)&&($=r,r=n,n=[]);var L=$||this,V=map$1(normalizeDimensions(n),this._getStoreDimIndex,this);return this._store=this._store.filter(V,L?bind$3(r,L):r),this},g.prototype.selectRange=function(n){var r=this,$={},L=keys$2(n);return each$f(L,function(V){var oe=r._getStoreDimIndex(V);$[oe]=n[V]}),this._store=this._store.selectRange($),this},g.prototype.mapArray=function(n,r,$){isFunction$3(n)&&($=r,r=n,n=[]),$=$||this;var L=[];return this.each(n,function(){L.push(r&&r.apply(this,arguments))},$),L},g.prototype.map=function(n,r,$,L){var V=$||L||this,oe=map$1(normalizeDimensions(n),this._getStoreDimIndex,this),re=cloneListForMapAndSample(this);return re._store=this._store.map(oe,V?bind$3(r,V):r),re},g.prototype.modify=function(n,r,$,L){var V=$||L||this,oe=map$1(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.modify(oe,V?bind$3(r,V):r)},g.prototype.downSample=function(n,r,$,L){var V=cloneListForMapAndSample(this);return V._store=this._store.downSample(this._getStoreDimIndex(n),r,$,L),V},g.prototype.lttbDownSample=function(n,r){var $=cloneListForMapAndSample(this);return $._store=this._store.lttbDownSample(this._getStoreDimIndex(n),r),$},g.prototype.getRawDataItem=function(n){return this._store.getRawDataItem(n)},g.prototype.getItemModel=function(n){var r=this.hostModel,$=this.getRawDataItem(n);return new Model$1($,r,r&&r.ecModel)},g.prototype.diff=function(n){var r=this;return new DataDiffer$1(n?n.getStore().getIndices():[],this.getStore().getIndices(),function($){return getId(n,$)},function($){return getId(r,$)})},g.prototype.getVisual=function(n){var r=this._visual;return r&&r[n]},g.prototype.setVisual=function(n,r){this._visual=this._visual||{},isObject$4(n)?extend$3(this._visual,n):this._visual[n]=r},g.prototype.getItemVisual=function(n,r){var $=this._itemVisuals[n],L=$&&$[r];return L!=null?L:this.getVisual(r)},g.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},g.prototype.ensureUniqueItemVisual=function(n,r){var $=this._itemVisuals,L=$[n];L||(L=$[n]={});var V=L[r];return V==null&&(V=this.getVisual(r),isArray$6(V)?V=V.slice():isObject$4(V)&&(V=extend$3({},V)),L[r]=V),V},g.prototype.setItemVisual=function(n,r,$){var L=this._itemVisuals[n]||{};this._itemVisuals[n]=L,isObject$4(r)?extend$3(L,r):L[r]=$},g.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},g.prototype.setLayout=function(n,r){isObject$4(n)?extend$3(this._layout,n):this._layout[n]=r},g.prototype.getLayout=function(n){return this._layout[n]},g.prototype.getItemLayout=function(n){return this._itemLayouts[n]},g.prototype.setItemLayout=function(n,r,$){this._itemLayouts[n]=$?extend$3(this._itemLayouts[n]||{},r):r},g.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},g.prototype.setItemGraphicEl=function(n,r){var $=this.hostModel&&this.hostModel.seriesIndex;setCommonECData($,this.dataType,n,r),this._graphicEls[n]=r},g.prototype.getItemGraphicEl=function(n){return this._graphicEls[n]},g.prototype.eachItemGraphicEl=function(n,r){each$f(this._graphicEls,function($,L){$&&n&&n.call(r,$,L)})},g.prototype.cloneShallow=function(n){return n||(n=new g(this._schema?this._schema:map$1(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(n,this),n._store=this._store,n},g.prototype.wrapMethod=function(n,r){var $=this[n];!isFunction$3($)||(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(n),this[n]=function(){var L=$.apply(this,arguments);return r.apply(this,[L].concat(slice(arguments)))})},g.internalField=function(){prepareInvertedIndex=function(n){var r=n._invertedIndicesMap;each$f(r,function($,L){var V=n._dimInfos[L],oe=V.ordinalMeta,re=n._store;if(oe){$=r[L]=new CtorInt32Array(oe.categories.length);for(var ae=0;ae<$.length;ae++)$[ae]=INDEX_NOT_FOUND;for(var ae=0;ae<re.count();ae++)$[re.get(V.storeDimIndex,ae)]=ae}})},getIdNameFromStore=function(n,r,$){return convertOptionIdName(n._getCategory(r,$),null)},getId=function(n,r){var $=n._idList[r];return $==null&&n._idDimIdx!=null&&($=getIdNameFromStore(n,n._idDimIdx,r)),$==null&&($=ID_PREFIX+r),$},normalizeDimensions=function(n){return isArray$6(n)||(n=n!=null?[n]:[]),n},cloneListForMapAndSample=function(n){var r=new g(n._schema?n._schema:map$1(n.dimensions,n._getDimInfo,n),n.hostModel);return transferProperties(r,n),r},transferProperties=function(n,r){each$f(TRANSFERABLE_PROPERTIES.concat(r.__wrappedMethods||[]),function($){r.hasOwnProperty($)&&(n[$]=r[$])}),n.__wrappedMethods=r.__wrappedMethods,each$f(CLONE_PROPERTIES,function($){n[$]=clone$5(r[$])}),n._calculationInfo=extend$3({},r._calculationInfo)},makeIdFromName=function(n,r){var $=n._nameList,L=n._idList,V=n._nameDimIdx,oe=n._idDimIdx,re=$[r],ae=L[r];if(re==null&&V!=null&&($[r]=re=getIdNameFromStore(n,V,r)),ae==null&&oe!=null&&(L[r]=ae=getIdNameFromStore(n,oe,r)),ae==null&&re!=null){var le=n._nameRepeatCount,ue=le[re]=(le[re]||0)+1;ae=re,ue>1&&(ae+="__ec__"+ue),L[r]=ae}}}(),g}();const SeriesData$1=SeriesData;function prepareSeriesDataSchema(g,n){isSourceInstance(g)||(g=createSourceFromSeriesDataOption(g)),n=n||{};var r=n.coordDimensions||[],$=n.dimensionsDefine||g.dimensionsDefine||[],L=createHashMap(),V=[],oe=getDimCount(g,r,$,n.dimensionsCount),re=n.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(oe),ae=$===g.dimensionsDefine,le=ae?ensureSourceDimNameMap(g):createDimNameMap($),ue=n.encodeDefine;!ue&&n.encodeDefaulter&&(ue=n.encodeDefaulter(g,oe));for(var de=createHashMap(ue),pe=new CtorInt32Array$1(oe),he=0;he<pe.length;he++)pe[he]=-1;function _e(At){var kt=pe[At];if(kt<0){var Dt=$[At],jt=isObject$6(Dt)?Dt:{name:Dt},Lt=new SeriesDimensionDefine$1,hn=jt.name;hn!=null&&le.get(hn)!=null&&(Lt.name=Lt.displayName=hn),jt.type!=null&&(Lt.type=jt.type),jt.displayName!=null&&(Lt.displayName=jt.displayName);var Sn=V.length;return pe[At]=Sn,Lt.storeDimIndex=At,V.push(Lt),Lt}return V[kt]}if(!re)for(var he=0;he<oe;he++)_e(he);de.each(function(At,kt){var Dt=normalizeToArray(At).slice();if(Dt.length===1&&!isString$3(Dt[0])&&Dt[0]<0){de.set(kt,!1);return}var jt=de.set(kt,[]);each$f(Dt,function(Lt,hn){var Sn=isString$3(Lt)?le.get(Lt):Lt;Sn!=null&&Sn<oe&&(jt[hn]=Sn,xe(_e(Sn),kt,hn))})});var Oe=0;each$f(r,function(At){var kt,Dt,jt,Lt;if(isString$3(At))kt=At,Lt={};else{Lt=At,kt=Lt.name;var hn=Lt.ordinalMeta;Lt.ordinalMeta=null,Lt=extend$3({},Lt),Lt.ordinalMeta=hn,Dt=Lt.dimsDef,jt=Lt.otherDims,Lt.name=Lt.coordDim=Lt.coordDimIndex=Lt.dimsDef=Lt.otherDims=null}var Sn=de.get(kt);if(Sn!==!1){if(Sn=normalizeToArray(Sn),!Sn.length)for(var On=0;On<(Dt&&Dt.length||1);On++){for(;Oe<oe&&_e(Oe).coordDim!=null;)Oe++;Oe<oe&&Sn.push(Oe++)}each$f(Sn,function(_n,xn){var bn=_e(_n);if(ae&&Lt.type!=null&&(bn.type=Lt.type),xe(defaults$5(bn,Lt),kt,xn),bn.name==null&&Dt){var Tn=Dt[xn];!isObject$6(Tn)&&(Tn={name:Tn}),bn.name=bn.displayName=Tn.name,bn.defaultTooltip=Tn.defaultTooltip}jt&&defaults$5(bn.otherDims,jt)})}});function xe(At,kt,Dt){VISUAL_DIMENSIONS.get(kt)!=null?At.otherDims[kt]=Dt:(At.coordDim=kt,At.coordDimIndex=Dt,L.set(kt,!0))}var $e=n.generateCoord,Ie=n.generateCoordCount,Ne=Ie!=null;Ie=$e?Ie||1:0;var ze=$e||"value";function Ue(At){At.name==null&&(At.name=At.coordDim)}if(re)each$f(V,function(At){Ue(At)}),V.sort(function(At,kt){return At.storeDimIndex-kt.storeDimIndex});else for(var Fe=0;Fe<oe;Fe++){var qe=_e(Fe),Et=qe.coordDim;Et==null&&(qe.coordDim=genCoordDimName(ze,L,Ne),qe.coordDimIndex=0,(!$e||Ie<=0)&&(qe.isExtraCoord=!0),Ie--),Ue(qe),qe.type==null&&(guessOrdinal(g,Fe)===BE_ORDINAL.Must||qe.isExtraCoord&&(qe.otherDims.itemName!=null||qe.otherDims.seriesName!=null))&&(qe.type="ordinal")}return removeDuplication(V),new SeriesDataSchema({source:g,dimensions:V,fullDimensionCount:oe,dimensionOmitted:re})}function removeDuplication(g){for(var n=createHashMap(),r=0;r<g.length;r++){var $=g[r],L=$.name,V=n.get(L)||0;V>0&&($.name=L+(V-1)),V++,n.set(L,V)}}function getDimCount(g,n,r,$){var L=Math.max(g.dimensionsDetectedCount||1,n.length,r.length,$||0);return each$f(n,function(V){var oe;isObject$6(V)&&(oe=V.dimsDef)&&(L=Math.max(L,oe.length))}),L}function genCoordDimName(g,n,r){if(r||n.hasKey(g)){for(var $=0;n.hasKey(g+$);)$++;g+=$}return n.set(g,!0),g}var CoordSysInfo=function(){function g(n){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=n}return g}();function getCoordSysInfoBySeries(g){var n=g.get("coordinateSystem"),r=new CoordSysInfo(n),$=fetchers[n];if($)return $(g,r,r.axisMap,r.categoryAxisMap),r}var fetchers={cartesian2d:function(g,n,r,$){var L=g.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],V=g.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];n.coordSysDims=["x","y"],r.set("x",L),r.set("y",V),isCategory(L)&&($.set("x",L),n.firstCategoryDimIndex=0),isCategory(V)&&($.set("y",V),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},singleAxis:function(g,n,r,$){var L=g.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];n.coordSysDims=["single"],r.set("single",L),isCategory(L)&&($.set("single",L),n.firstCategoryDimIndex=0)},polar:function(g,n,r,$){var L=g.getReferringComponents("polar",SINGLE_REFERRING).models[0],V=L.findAxisModel("radiusAxis"),oe=L.findAxisModel("angleAxis");n.coordSysDims=["radius","angle"],r.set("radius",V),r.set("angle",oe),isCategory(V)&&($.set("radius",V),n.firstCategoryDimIndex=0),isCategory(oe)&&($.set("angle",oe),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},geo:function(g,n,r,$){n.coordSysDims=["lng","lat"]},parallel:function(g,n,r,$){var L=g.ecModel,V=L.getComponent("parallel",g.get("parallelIndex")),oe=n.coordSysDims=V.dimensions.slice();each$f(V.parallelAxisIndex,function(re,ae){var le=L.getComponent("parallelAxis",re),ue=oe[ae];r.set(ue,le),isCategory(le)&&($.set(ue,le),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=ae))})}};function isCategory(g){return g.get("type")==="category"}function enableDataStack(g,n,r){r=r||{};var $=r.byIndex,L=r.stackedCoordDimension,V,oe,re;isLegacyDimensionsInput(n)?V=n:(oe=n.schema,V=oe.dimensions,re=n.store);var ae=!!(g&&g.get("stack")),le,ue,de,pe;if(each$f(V,function(Ie,Ne){isString$3(Ie)&&(V[Ne]=Ie={name:Ie}),ae&&!Ie.isExtraCoord&&(!$&&!le&&Ie.ordinalMeta&&(le=Ie),!ue&&Ie.type!=="ordinal"&&Ie.type!=="time"&&(!L||L===Ie.coordDim)&&(ue=Ie))}),ue&&!$&&!le&&($=!0),ue){de="__\0ecstackresult_"+g.id,pe="__\0ecstackedover_"+g.id,le&&(le.createInvertedIndices=!0);var he=ue.coordDim,_e=ue.type,Oe=0;each$f(V,function(Ie){Ie.coordDim===he&&Oe++});var xe={name:de,coordDim:he,coordDimIndex:Oe,type:_e,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:V.length},$e={name:pe,coordDim:pe,coordDimIndex:Oe+1,type:_e,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:V.length+1};oe?(re&&(xe.storeDimIndex=re.ensureCalculationDimension(pe,_e),$e.storeDimIndex=re.ensureCalculationDimension(de,_e)),oe.appendCalculationDimension(xe),oe.appendCalculationDimension($e)):(V.push(xe),V.push($e))}return{stackedDimension:ue&&ue.name,stackedByDimension:le&&le.name,isStackedByIndex:$,stackedOverDimension:pe,stackResultDimension:de}}function isLegacyDimensionsInput(g){return!isSeriesDataSchema(g.schema)}function isDimensionStacked(g,n){return!!n&&n===g.getCalculationInfo("stackedDimension")}function getStackedDimension(g,n){return isDimensionStacked(g,n)?g.getCalculationInfo("stackResultDimension"):n}function getCoordSysDimDefs(g,n){var r=g.get("coordinateSystem"),$=CoordinateSystem.get(r),L;return n&&n.coordSysDims&&(L=map$2(n.coordSysDims,function(V){var oe={name:V},re=n.axisMap.get(V);if(re){var ae=re.get("type");oe.type=getDimensionTypeByAxis(ae)}return oe})),L||(L=$&&($.getDimensionsInfo?$.getDimensionsInfo():$.dimensions.slice())||["x","y"]),L}function injectOrdinalMeta(g,n,r){var $,L;return r&&each$f(g,function(V,oe){var re=V.coordDim,ae=r.categoryAxisMap.get(re);ae&&($==null&&($=oe),V.ordinalMeta=ae.getOrdinalMeta(),n&&(V.createInvertedIndices=!0)),V.otherDims.itemName!=null&&(L=!0)}),!L&&$!=null&&(g[$].otherDims.itemName=0),$}function createSeriesData(g,n,r){r=r||{};var $=n.getSourceManager(),L,V=!1;g?(V=!0,L=createSourceFromSeriesDataOption(g)):(L=$.getSource(),V=L.sourceFormat===SOURCE_FORMAT_ORIGINAL);var oe=getCoordSysInfoBySeries(n),re=getCoordSysDimDefs(n,oe),ae=r.useEncodeDefaulter,le=isFunction$3(ae)?ae:ae?curry$1(makeSeriesEncodeForAxisCoordSys,re,n):null,ue={coordDimensions:re,generateCoord:r.generateCoord,encodeDefine:n.getEncode(),encodeDefaulter:le,canOmitUnusedDimensions:!V},de=prepareSeriesDataSchema(L,ue),pe=injectOrdinalMeta(de.dimensions,r.createInvertedIndices,oe),he=V?null:$.getSharedDataStore(de),_e=enableDataStack(n,{schema:de,store:he}),Oe=new SeriesData$1(de,n);Oe.setCalculationInfo(_e);var xe=pe!=null&&isNeedCompleteOrdinalData(L)?function($e,Ie,Ne,ze){return ze===pe?Ne:this.defaultDimValueGetter($e,Ie,Ne,ze)}:null;return Oe.hasItemOption=!1,Oe.initData(V?L:he,null,xe),Oe}function isNeedCompleteOrdinalData(g){if(g.sourceFormat===SOURCE_FORMAT_ORIGINAL){var n=firstDataNotNull(g.data||[]);return!isArray$6(getDataItemValue(n))}}function firstDataNotNull(g){for(var n=0;n<g.length&&g[n]==null;)n++;return g[n]}var Scale=function(){function g(n){this._setting=n||{},this._extent=[1/0,-1/0]}return g.prototype.getSetting=function(n){return this._setting[n]},g.prototype.unionExtent=function(n){var r=this._extent;n[0]<r[0]&&(r[0]=n[0]),n[1]>r[1]&&(r[1]=n[1])},g.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},g.prototype.getExtent=function(){return this._extent.slice()},g.prototype.setExtent=function(n,r){var $=this._extent;isNaN(n)||($[0]=n),isNaN(r)||($[1]=r)},g.prototype.isInExtentRange=function(n){return this._extent[0]<=n&&this._extent[1]>=n},g.prototype.isBlank=function(){return this._isBlank},g.prototype.setBlank=function(n){this._isBlank=n},g}();enableClassManagement(Scale);const Scale$1=Scale;var uidBase=0,OrdinalMeta=function(){function g(n){this.categories=n.categories||[],this._needCollect=n.needCollect,this._deduplication=n.deduplication,this.uid=++uidBase}return g.createByAxisModel=function(n){var r=n.option,$=r.data,L=$&&map$2($,getName);return new g({categories:L,needCollect:!L,deduplication:r.dedplication!==!1})},g.prototype.getOrdinal=function(n){return this._getOrCreateMap().get(n)},g.prototype.parseAndCollect=function(n){var r,$=this._needCollect;if(!isString$3(n)&&!$)return n;if($&&!this._deduplication)return r=this.categories.length,this.categories[r]=n,r;var L=this._getOrCreateMap();return r=L.get(n),r==null&&($?(r=this.categories.length,this.categories[r]=n,L.set(n,r)):r=NaN),r},g.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},g}();function getName(g){return isObject$6(g)&&g.value!=null?g.value:g+""}const OrdinalMeta$1=OrdinalMeta;function isIntervalOrLogScale(g){return g.type==="interval"||g.type==="log"}function intervalScaleNiceTicks(g,n,r,$){var L={},V=g[1]-g[0],oe=L.interval=nice(V/n,!0);r!=null&&oe<r&&(oe=L.interval=r),$!=null&&oe>$&&(oe=L.interval=$);var re=L.intervalPrecision=getIntervalPrecision(oe),ae=L.niceTickExtent=[round$3(Math.ceil(g[0]/oe)*oe,re),round$3(Math.floor(g[1]/oe)*oe,re)];return fixExtent(ae,g),L}function increaseInterval(g){var n=Math.pow(10,quantityExponent(g)),r=g/n;return r?r===2?r=3:r===3?r=5:r*=2:r=1,round$3(r*n)}function getIntervalPrecision(g){return getPrecision(g)+2}function clamp(g,n,r){g[n]=Math.max(Math.min(g[n],r[1]),r[0])}function fixExtent(g,n){!isFinite(g[0])&&(g[0]=n[0]),!isFinite(g[1])&&(g[1]=n[1]),clamp(g,0,n),clamp(g,1,n),g[0]>g[1]&&(g[0]=g[1])}function contain$1(g,n){return g>=n[0]&&g<=n[1]}function normalize$3(g,n){return n[1]===n[0]?.5:(g-n[0])/(n[1]-n[0])}function scale(g,n){return g*(n[1]-n[0])+n[0]}var OrdinalScale=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;$.type="ordinal";var L=$.getSetting("ordinalMeta");return L||(L=new OrdinalMeta$1({})),isArray$6(L)&&(L=new OrdinalMeta$1({categories:map$2(L,function(V){return isObject$6(V)?V.value:V})})),$._ordinalMeta=L,$._extent=$.getSetting("extent")||[0,L.categories.length-1],$}return n.prototype.parse=function(r){return r==null?NaN:isString$3(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},n.prototype.contain=function(r){return r=this.parse(r),contain$1(r,this._extent)&&this._ordinalMeta.categories[r]!=null},n.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),normalize$3(r,this._extent)},n.prototype.scale=function(r){return r=Math.round(scale(r,this._extent)),this.getRawOrdinalNumber(r)},n.prototype.getTicks=function(){for(var r=[],$=this._extent,L=$[0];L<=$[1];)r.push({value:L}),L++;return r},n.prototype.getMinorTicks=function(r){},n.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var $=r.ordinalNumbers,L=this._ordinalNumbersByTick=[],V=this._ticksByOrdinalNumber=[],oe=0,re=this._ordinalMeta.categories.length,ae=Math.min(re,$.length);oe<ae;++oe){var le=$[oe];L[oe]=le,V[le]=oe}for(var ue=0;oe<re;++oe){for(;V[ue]!=null;)ue++;L.push(ue),V[ue]=oe}},n.prototype._getTickNumber=function(r){var $=this._ticksByOrdinalNumber;return $&&r>=0&&r<$.length?$[r]:r},n.prototype.getRawOrdinalNumber=function(r){var $=this._ordinalNumbersByTick;return $&&r>=0&&r<$.length?$[r]:r},n.prototype.getLabel=function(r){if(!this.isBlank()){var $=this.getRawOrdinalNumber(r.value),L=this._ordinalMeta.categories[$];return L==null?"":L+""}},n.prototype.count=function(){return this._extent[1]-this._extent[0]+1},n.prototype.unionExtentFromData=function(r,$){this.unionExtent(r.getApproximateExtent($))},n.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},n.prototype.getOrdinalMeta=function(){return this._ordinalMeta},n.prototype.calcNiceTicks=function(){},n.prototype.calcNiceExtent=function(){},n.type="ordinal",n}(Scale$1);Scale$1.registerClass(OrdinalScale);const OrdinalScale$1=OrdinalScale;var roundNumber=round$3,IntervalScale=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return n.prototype.parse=function(r){return r},n.prototype.contain=function(r){return contain$1(r,this._extent)},n.prototype.normalize=function(r){return normalize$3(r,this._extent)},n.prototype.scale=function(r){return scale(r,this._extent)},n.prototype.setExtent=function(r,$){var L=this._extent;isNaN(r)||(L[0]=parseFloat(r)),isNaN($)||(L[1]=parseFloat($))},n.prototype.unionExtent=function(r){var $=this._extent;r[0]<$[0]&&($[0]=r[0]),r[1]>$[1]&&($[1]=r[1]),this.setExtent($[0],$[1])},n.prototype.getInterval=function(){return this._interval},n.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(r)},n.prototype.getTicks=function(r){var $=this._interval,L=this._extent,V=this._niceExtent,oe=this._intervalPrecision,re=[];if(!$)return re;var ae=1e4;L[0]<V[0]&&(r?re.push({value:roundNumber(V[0]-$,oe)}):re.push({value:L[0]}));for(var le=V[0];le<=V[1]&&(re.push({value:le}),le=roundNumber(le+$,oe),le!==re[re.length-1].value);)if(re.length>ae)return[];var ue=re.length?re[re.length-1].value:V[1];return L[1]>ue&&(r?re.push({value:roundNumber(ue+$,oe)}):re.push({value:L[1]})),re},n.prototype.getMinorTicks=function(r){for(var $=this.getTicks(!0),L=[],V=this.getExtent(),oe=1;oe<$.length;oe++){for(var re=$[oe],ae=$[oe-1],le=0,ue=[],de=re.value-ae.value,pe=de/r;le<r-1;){var he=roundNumber(ae.value+(le+1)*pe);he>V[0]&&he<V[1]&&ue.push(he),le++}L.push(ue)}return L},n.prototype.getLabel=function(r,$){if(r==null)return"";var L=$&&$.precision;L==null?L=getPrecision(r.value)||0:L==="auto"&&(L=this._intervalPrecision);var V=roundNumber(r.value,L,!0);return addCommas(V)},n.prototype.calcNiceTicks=function(r,$,L){r=r||5;var V=this._extent,oe=V[1]-V[0];if(isFinite(oe)){oe<0&&(oe=-oe,V.reverse());var re=intervalScaleNiceTicks(V,r,$,L);this._intervalPrecision=re.intervalPrecision,this._interval=re.interval,this._niceExtent=re.niceTickExtent}},n.prototype.calcNiceExtent=function(r){var $=this._extent;if($[0]===$[1])if($[0]!==0){var L=Math.abs($[0]);r.fixMax||($[1]+=L/2),$[0]-=L/2}else $[1]=1;var V=$[1]-$[0];isFinite(V)||($[0]=0,$[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var oe=this._interval;r.fixMin||($[0]=roundNumber(Math.floor($[0]/oe)*oe)),r.fixMax||($[1]=roundNumber(Math.ceil($[1]/oe)*oe))},n.prototype.setNiceExtent=function(r,$){this._niceExtent=[r,$]},n.type="interval",n}(Scale$1);Scale$1.registerClass(IntervalScale);const IntervalScale$1=IntervalScale;var supportFloat32Array=typeof Float32Array<"u",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(g){return isArray$6(g)?supportFloat32Array?new Float32Array(g):g:new Float32ArrayCtor(g)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId$1(g){return g.get("stack")||STACK_PREFIX+g.seriesIndex}function getAxisKey$1(g){return g.dim+g.index}function getLayoutOnAxis(g){var n=[],r=g.axis,$="axis0";if(r.type==="category"){for(var L=r.getBandWidth(),V=0;V<g.count;V++)n.push(defaults$5({bandWidth:L,axisKey:$,stackId:STACK_PREFIX+V},g));for(var oe=doCalBarWidthAndOffset(n),re=[],V=0;V<g.count;V++){var ae=oe[$][STACK_PREFIX+V];ae.offsetCenter=ae.offset+ae.width/2,re.push(ae)}return re}}function prepareLayoutBarSeries(g,n){var r=[];return n.eachSeriesByType(g,function($){isOnCartesian($)&&r.push($)}),r}function getValueAxesMinGaps(g){var n={};each$f(g,function(ae){var le=ae.coordinateSystem,ue=le.getBaseAxis();if(!(ue.type!=="time"&&ue.type!=="value"))for(var de=ae.getData(),pe=ue.dim+"_"+ue.index,he=de.getDimensionIndex(de.mapDimension(ue.dim)),_e=de.getStore(),Oe=0,xe=_e.count();Oe<xe;++Oe){var $e=_e.get(he,Oe);n[pe]?n[pe].push($e):n[pe]=[$e]}});var r={};for(var $ in n)if(n.hasOwnProperty($)){var L=n[$];if(L){L.sort(function(ae,le){return ae-le});for(var V=null,oe=1;oe<L.length;++oe){var re=L[oe]-L[oe-1];re>0&&(V=V===null?re:Math.min(V,re))}r[$]=V}}return r}function makeColumnLayout(g){var n=getValueAxesMinGaps(g),r=[];return each$f(g,function($){var L=$.coordinateSystem,V=L.getBaseAxis(),oe=V.getExtent(),re;if(V.type==="category")re=V.getBandWidth();else if(V.type==="value"||V.type==="time"){var ae=V.dim+"_"+V.index,le=n[ae],ue=Math.abs(oe[1]-oe[0]),de=V.scale.getExtent(),pe=Math.abs(de[1]-de[0]);re=le?ue/pe*le:ue}else{var he=$.getData();re=Math.abs(oe[1]-oe[0])/he.count()}var _e=parsePercent($.get("barWidth"),re),Oe=parsePercent($.get("barMaxWidth"),re),xe=parsePercent($.get("barMinWidth")||(isInLargeMode($)?.5:1),re),$e=$.get("barGap"),Ie=$.get("barCategoryGap");r.push({bandWidth:re,barWidth:_e,barMaxWidth:Oe,barMinWidth:xe,barGap:$e,barCategoryGap:Ie,axisKey:getAxisKey$1(V),stackId:getSeriesStackId$1($)})}),doCalBarWidthAndOffset(r)}function doCalBarWidthAndOffset(g){var n={};each$f(g,function($,L){var V=$.axisKey,oe=$.bandWidth,re=n[V]||{bandWidth:oe,remainedWidth:oe,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},ae=re.stacks;n[V]=re;var le=$.stackId;ae[le]||re.autoWidthCount++,ae[le]=ae[le]||{width:0,maxWidth:0};var ue=$.barWidth;ue&&!ae[le].width&&(ae[le].width=ue,ue=Math.min(re.remainedWidth,ue),re.remainedWidth-=ue);var de=$.barMaxWidth;de&&(ae[le].maxWidth=de);var pe=$.barMinWidth;pe&&(ae[le].minWidth=pe);var he=$.barGap;he!=null&&(re.gap=he);var _e=$.barCategoryGap;_e!=null&&(re.categoryGap=_e)});var r={};return each$f(n,function($,L){r[L]={};var V=$.stacks,oe=$.bandWidth,re=$.categoryGap;if(re==null){var ae=keys$2(V).length;re=Math.max(35-ae*4,15)+"%"}var le=parsePercent(re,oe),ue=parsePercent($.gap,1),de=$.remainedWidth,pe=$.autoWidthCount,he=(de-le)/(pe+(pe-1)*ue);he=Math.max(he,0),each$f(V,function($e){var Ie=$e.maxWidth,Ne=$e.minWidth;if($e.width){var ze=$e.width;Ie&&(ze=Math.min(ze,Ie)),Ne&&(ze=Math.max(ze,Ne)),$e.width=ze,de-=ze+ue*ze,pe--}else{var ze=he;Ie&&Ie<ze&&(ze=Math.min(Ie,de)),Ne&&Ne>ze&&(ze=Ne),ze!==he&&($e.width=ze,de-=ze+ue*ze,pe--)}}),he=(de-le)/(pe+(pe-1)*ue),he=Math.max(he,0);var _e=0,Oe;each$f(V,function($e,Ie){$e.width||($e.width=he),Oe=$e,_e+=$e.width*(1+ue)}),Oe&&(_e-=Oe.width*ue);var xe=-_e/2;each$f(V,function($e,Ie){r[L][Ie]=r[L][Ie]||{bandWidth:oe,offset:xe,width:$e.width},xe+=$e.width*(1+ue)})}),r}function retrieveColumnLayout(g,n,r){if(g&&n){var $=g[getAxisKey$1(n)];return $!=null&&r!=null?$[getSeriesStackId$1(r)]:$}}function layout$4(g,n){var r=prepareLayoutBarSeries(g,n),$=makeColumnLayout(r);each$f(r,function(L){var V=L.getData(),oe=L.coordinateSystem,re=oe.getBaseAxis(),ae=getSeriesStackId$1(L),le=$[getAxisKey$1(re)][ae],ue=le.offset,de=le.width;V.setLayout({bandWidth:le.bandWidth,offset:ue,size:de})})}function createProgressiveLayout(g){return{seriesType:g,plan:createRenderPlanner(),reset:function(n){if(isOnCartesian(n)){var r=n.getData(),$=n.coordinateSystem,L=$.getBaseAxis(),V=$.getOtherAxis(L),oe=r.getDimensionIndex(r.mapDimension(V.dim)),re=r.getDimensionIndex(r.mapDimension(L.dim)),ae=n.get("showBackground",!0),le=r.mapDimension(V.dim),ue=r.getCalculationInfo("stackResultDimension"),de=isDimensionStacked(r,le)&&!!r.getCalculationInfo("stackedOnSeries"),pe=V.isHorizontal(),he=getValueAxisStart(L,V),_e=isInLargeMode(n),Oe=n.get("barMinHeight")||0,xe=ue&&r.getDimensionIndex(ue),$e=r.getLayout("size"),Ie=r.getLayout("offset");return{progress:function(Ne,ze){for(var Ue=Ne.count,Fe=_e&&createFloat32Array(Ue*3),qe=_e&&ae&&createFloat32Array(Ue*3),Et=_e&&createFloat32Array(Ue),At=$.master.getRect(),kt=pe?At.width:At.height,Dt,jt=ze.getStore(),Lt=0;(Dt=Ne.next())!=null;){var hn=jt.get(de?xe:oe,Dt),Sn=jt.get(re,Dt),On=he,_n=void 0;de&&(_n=+hn-jt.get(oe,Dt));var xn=void 0,bn=void 0,Tn=void 0,An=void 0;if(pe){var En=$.dataToPoint([hn,Sn]);if(de){var Ln=$.dataToPoint([_n,Sn]);On=Ln[0]}xn=On,bn=En[1]+Ie,Tn=En[0]-On,An=$e,Math.abs(Tn)<Oe&&(Tn=(Tn<0?-1:1)*Oe)}else{var En=$.dataToPoint([Sn,hn]);if(de){var Ln=$.dataToPoint([Sn,_n]);On=Ln[1]}xn=En[0]+Ie,bn=On,Tn=$e,An=En[1]-On,Math.abs(An)<Oe&&(An=(An<=0?-1:1)*Oe)}_e?(Fe[Lt]=xn,Fe[Lt+1]=bn,Fe[Lt+2]=pe?Tn:An,qe&&(qe[Lt]=pe?At.x:xn,qe[Lt+1]=pe?bn:At.y,qe[Lt+2]=kt),Et[Dt]=Dt):ze.setItemLayout(Dt,{x:xn,y:bn,width:Tn,height:An}),Lt+=3}_e&&ze.setLayout({largePoints:Fe,largeDataIndices:Et,largeBackgroundPoints:qe,valueAxisHorizontal:pe})}}}}}}function isOnCartesian(g){return g.coordinateSystem&&g.coordinateSystem.type==="cartesian2d"}function isInLargeMode(g){return g.pipelineContext&&g.pipelineContext.large}function getValueAxisStart(g,n){return n.toGlobalCoord(n.dataToCoord(n.type==="log"?1:0))}var bisect=function(g,n,r,$){for(;r<$;){var L=r+$>>>1;g[L][1]<n?r=L+1:$=L}return r},TimeScale=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="time",$}return n.prototype.getLabel=function(r){var $=this.getSetting("useUTC");return format$1(r.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,$,this.getSetting("locale"))},n.prototype.getFormattedLabel=function(r,$,L){var V=this.getSetting("useUTC"),oe=this.getSetting("locale");return leveledFormat(r,$,L,oe,V)},n.prototype.getTicks=function(){var r=this._interval,$=this._extent,L=[];if(!r)return L;L.push({value:$[0],level:0});var V=this.getSetting("useUTC"),oe=getIntervalTicks(this._minLevelUnit,this._approxInterval,V,$);return L=L.concat(oe),L.push({value:$[1],level:0}),L},n.prototype.calcNiceExtent=function(r){var $=this._extent;if($[0]===$[1]&&($[0]-=ONE_DAY,$[1]+=ONE_DAY),$[1]===-1/0&&$[0]===1/0){var L=new Date;$[1]=+new Date(L.getFullYear(),L.getMonth(),L.getDate()),$[0]=$[1]-ONE_DAY}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},n.prototype.calcNiceTicks=function(r,$,L){r=r||10;var V=this._extent,oe=V[1]-V[0];this._approxInterval=oe/r,$!=null&&this._approxInterval<$&&(this._approxInterval=$),L!=null&&this._approxInterval>L&&(this._approxInterval=L);var re=scaleIntervals.length,ae=Math.min(bisect(scaleIntervals,this._approxInterval,0,re),re-1);this._interval=scaleIntervals[ae][1],this._minLevelUnit=scaleIntervals[Math.max(ae-1,0)][0]},n.prototype.parse=function(r){return isNumber$3(r)?r:+parseDate$1(r)},n.prototype.contain=function(r){return contain$1(this.parse(r),this._extent)},n.prototype.normalize=function(r){return normalize$3(this.parse(r),this._extent)},n.prototype.scale=function(r){return scale(r,this._extent)},n.type="time",n}(IntervalScale$1),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame(g,n,r,$){var L=parseDate$1(n),V=parseDate$1(r),oe=function(_e){return getUnitValue(L,_e,$)===getUnitValue(V,_e,$)},re=function(){return oe("year")},ae=function(){return re()&&oe("month")},le=function(){return ae()&&oe("day")},ue=function(){return le()&&oe("hour")},de=function(){return ue()&&oe("minute")},pe=function(){return de()&&oe("second")},he=function(){return pe()&&oe("millisecond")};switch(g){case"year":return re();case"month":return ae();case"day":return le();case"hour":return ue();case"minute":return de();case"second":return pe();case"millisecond":return he()}}function getDateInterval(g,n){return g/=ONE_DAY,g>16?16:g>7.5?7:g>3.5?4:g>1.5?2:1}function getMonthInterval(g){var n=30*ONE_DAY;return g/=n,g>6?6:g>3?3:g>2?2:1}function getHourInterval(g){return g/=ONE_HOUR,g>12?12:g>6?6:g>3.5?4:g>2?2:1}function getMinutesAndSecondsInterval(g,n){return g/=n?ONE_MINUTE:ONE_SECOND,g>30?30:g>20?20:g>15?15:g>10?10:g>5?5:g>2?2:1}function getMillisecondsInterval(g){return nice(g,!0)}function getFirstTimestampOfUnit(g,n,r){var $=new Date(g);switch(getPrimaryTimeUnit(n)){case"year":case"month":$[monthSetterName(r)](0);case"day":$[dateSetterName(r)](1);case"hour":$[hoursSetterName(r)](0);case"minute":$[minutesSetterName(r)](0);case"second":$[secondsSetterName(r)](0),$[millisecondsSetterName(r)](0)}return $.getTime()}function getIntervalTicks(g,n,r,$){var L=1e4,V=timeUnits$1,oe=0;function re(kt,Dt,jt,Lt,hn,Sn,On){for(var _n=new Date(Dt),xn=Dt,bn=_n[Lt]();xn<jt&&xn<=$[1];)On.push({value:xn}),bn+=kt,_n[hn](bn),xn=_n.getTime();On.push({value:xn,notAdd:!0})}function ae(kt,Dt,jt){var Lt=[],hn=!Dt.length;if(!isUnitValueSame(getPrimaryTimeUnit(kt),$[0],$[1],r)){hn&&(Dt=[{value:getFirstTimestampOfUnit(new Date($[0]),kt,r)},{value:$[1]}]);for(var Sn=0;Sn<Dt.length-1;Sn++){var On=Dt[Sn].value,_n=Dt[Sn+1].value;if(On!==_n){var xn=void 0,bn=void 0,Tn=void 0,An=!1;switch(kt){case"year":xn=Math.max(1,Math.round(n/ONE_DAY/365)),bn=fullYearGetterName(r),Tn=fullYearSetterName(r);break;case"half-year":case"quarter":case"month":xn=getMonthInterval(n),bn=monthGetterName(r),Tn=monthSetterName(r);break;case"week":case"half-week":case"day":xn=getDateInterval(n),bn=dateGetterName(r),Tn=dateSetterName(r),An=!0;break;case"half-day":case"quarter-day":case"hour":xn=getHourInterval(n),bn=hoursGetterName(r),Tn=hoursSetterName(r);break;case"minute":xn=getMinutesAndSecondsInterval(n,!0),bn=minutesGetterName(r),Tn=minutesSetterName(r);break;case"second":xn=getMinutesAndSecondsInterval(n,!1),bn=secondsGetterName(r),Tn=secondsSetterName(r);break;case"millisecond":xn=getMillisecondsInterval(n),bn=millisecondsGetterName(r),Tn=millisecondsSetterName(r);break}re(xn,On,_n,bn,Tn,An,Lt),kt==="year"&&jt.length>1&&Sn===0&&jt.unshift({value:jt[0].value-xn})}}for(var Sn=0;Sn<Lt.length;Sn++)jt.push(Lt[Sn]);return Lt}}for(var le=[],ue=[],de=0,pe=0,he=0;he<V.length&&oe++<L;++he){var _e=getPrimaryTimeUnit(V[he]);if(isPrimaryTimeUnit(V[he])){ae(V[he],le[le.length-1]||[],ue);var Oe=V[he+1]?getPrimaryTimeUnit(V[he+1]):null;if(_e!==Oe){if(ue.length){pe=de,ue.sort(function(kt,Dt){return kt.value-Dt.value});for(var xe=[],$e=0;$e<ue.length;++$e){var Ie=ue[$e].value;($e===0||ue[$e-1].value!==Ie)&&(xe.push(ue[$e]),Ie>=$[0]&&Ie<=$[1]&&de++)}var Ne=($[1]-$[0])/n;if(de>Ne*1.5&&pe>Ne/1.5||(le.push(xe),de>Ne||g===V[he]))break}ue=[]}}}for(var ze=filter(map$2(le,function(Dt){return filter(Dt,function(jt){return jt.value>=$[0]&&jt.value<=$[1]&&!jt.notAdd})}),function(Dt){return Dt.length>0}),Ue=[],Fe=ze.length-1,he=0;he<ze.length;++he)for(var qe=ze[he],Et=0;Et<qe.length;++Et)Ue.push({value:qe[Et].value,level:Fe-he});Ue.sort(function(kt,Dt){return kt.value-Dt.value});for(var At=[],he=0;he<Ue.length;++he)(he===0||Ue[he].value!==Ue[he-1].value)&&At.push(Ue[he]);return At}Scale$1.registerClass(TimeScale);const TimeScale$1=TimeScale;var scaleProto=Scale$1.prototype,intervalScaleProto=IntervalScale$1.prototype,roundingErrorFix=round$3,mathFloor$1=Math.floor,mathCeil$1=Math.ceil,mathPow$1=Math.pow,mathLog$1=Math.log,LogScale=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new IntervalScale$1,r._interval=0,r}return n.prototype.getTicks=function(r){var $=this._originalScale,L=this._extent,V=$.getExtent(),oe=intervalScaleProto.getTicks.call(this,r);return map$2(oe,function(re){var ae=re.value,le=round$3(mathPow$1(this.base,ae));return le=ae===L[0]&&this._fixMin?fixRoundingError(le,V[0]):le,le=ae===L[1]&&this._fixMax?fixRoundingError(le,V[1]):le,{value:le}},this)},n.prototype.setExtent=function(r,$){var L=mathLog$1(this.base);r=mathLog$1(Math.max(0,r))/L,$=mathLog$1(Math.max(0,$))/L,intervalScaleProto.setExtent.call(this,r,$)},n.prototype.getExtent=function(){var r=this.base,$=scaleProto.getExtent.call(this);$[0]=mathPow$1(r,$[0]),$[1]=mathPow$1(r,$[1]);var L=this._originalScale,V=L.getExtent();return this._fixMin&&($[0]=fixRoundingError($[0],V[0])),this._fixMax&&($[1]=fixRoundingError($[1],V[1])),$},n.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var $=this.base;r[0]=mathLog$1(r[0])/mathLog$1($),r[1]=mathLog$1(r[1])/mathLog$1($),scaleProto.unionExtent.call(this,r)},n.prototype.unionExtentFromData=function(r,$){this.unionExtent(r.getApproximateExtent($))},n.prototype.calcNiceTicks=function(r){r=r||10;var $=this._extent,L=$[1]-$[0];if(!(L===1/0||L<=0)){var V=quantity(L),oe=r/L*V;for(oe<=.5&&(V*=10);!isNaN(V)&&Math.abs(V)<1&&Math.abs(V)>0;)V*=10;var re=[round$3(mathCeil$1($[0]/V)*V),round$3(mathFloor$1($[1]/V)*V)];this._interval=V,this._niceExtent=re}},n.prototype.calcNiceExtent=function(r){intervalScaleProto.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},n.prototype.parse=function(r){return r},n.prototype.contain=function(r){return r=mathLog$1(r)/mathLog$1(this.base),contain$1(r,this._extent)},n.prototype.normalize=function(r){return r=mathLog$1(r)/mathLog$1(this.base),normalize$3(r,this._extent)},n.prototype.scale=function(r){return r=scale(r,this._extent),mathPow$1(this.base,r)},n.type="log",n}(Scale$1),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks,proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(g,n){return roundingErrorFix(g,getPrecision(n))}Scale$1.registerClass(LogScale);const LogScale$1=LogScale;var ScaleRawExtentInfo=function(){function g(n,r,$){this._prepareParams(n,r,$)}return g.prototype._prepareParams=function(n,r,$){$[1]<$[0]&&($=[NaN,NaN]),this._dataMin=$[0],this._dataMax=$[1];var L=this._isOrdinal=n.type==="ordinal";this._needCrossZero=n.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var V=this._modelMinRaw=r.get("min",!0);isFunction$3(V)?this._modelMinNum=parseAxisModelMinMax(n,V({min:$[0],max:$[1]})):V!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(n,V));var oe=this._modelMaxRaw=r.get("max",!0);if(isFunction$3(oe)?this._modelMaxNum=parseAxisModelMinMax(n,oe({min:$[0],max:$[1]})):oe!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(n,oe)),L)this._axisDataLen=r.getCategories().length;else{var re=r.get("boundaryGap"),ae=isArray$6(re)?re:[re||0,re||0];typeof ae[0]=="boolean"||typeof ae[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(ae[0],1),parsePercent$1(ae[1],1)]}},g.prototype.calculate=function(){var n=this._isOrdinal,r=this._dataMin,$=this._dataMax,L=this._axisDataLen,V=this._boundaryGapInner,oe=n?null:$-r||Math.abs(r),re=this._modelMinRaw==="dataMin"?r:this._modelMinNum,ae=this._modelMaxRaw==="dataMax"?$:this._modelMaxNum,le=re!=null,ue=ae!=null;re==null&&(re=n?L?0:NaN:r-V[0]*oe),ae==null&&(ae=n?L?L-1:NaN:$+V[1]*oe),(re==null||!isFinite(re))&&(re=NaN),(ae==null||!isFinite(ae))&&(ae=NaN);var de=eqNaN(re)||eqNaN(ae)||n&&!L;this._needCrossZero&&(re>0&&ae>0&&!le&&(re=0),re<0&&ae<0&&!ue&&(ae=0));var pe=this._determinedMin,he=this._determinedMax;return pe!=null&&(re=pe,le=!0),he!=null&&(ae=he,ue=!0),{min:re,max:ae,minFixed:le,maxFixed:ue,isBlank:de}},g.prototype.modifyDataMinMax=function(n,r){this[DATA_MIN_MAX_ATTR[n]]=r},g.prototype.setDeterminedMinMax=function(n,r){var $=DETERMINED_MIN_MAX_ATTR[n];this[$]=r},g.prototype.freeze=function(){this.frozen=!0},g}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(g,n,r){var $=g.rawExtentInfo;return $||($=new ScaleRawExtentInfo(g,n,r),g.rawExtentInfo=$,$)}function parseAxisModelMinMax(g,n){return n==null?null:eqNaN(n)?NaN:g.parse(n)}function getScaleExtent(g,n){var r=g.type,$=ensureScaleRawExtentInfo(g,n,g.getExtent()).calculate();g.setBlank($.isBlank);var L=$.min,V=$.max,oe=n.ecModel;if(oe&&r==="time"){var re=prepareLayoutBarSeries("bar",oe),ae=!1;if(each$f(re,function(de){ae=ae||de.getBaseAxis()===n.axis}),ae){var le=makeColumnLayout(re),ue=adjustScaleForOverflow(L,V,n,le);L=ue.min,V=ue.max}}return{extent:[L,V],fixMin:$.minFixed,fixMax:$.maxFixed}}function adjustScaleForOverflow(g,n,r,$){var L=r.axis.getExtent(),V=L[1]-L[0],oe=retrieveColumnLayout($,r.axis);if(oe===void 0)return{min:g,max:n};var re=1/0;each$f(oe,function(he){re=Math.min(he.offset,re)});var ae=-1/0;each$f(oe,function(he){ae=Math.max(he.offset+he.width,ae)}),re=Math.abs(re),ae=Math.abs(ae);var le=re+ae,ue=n-g,de=1-(re+ae)/V,pe=ue/de-ue;return n+=pe*(ae/le),g-=pe*(re/le),{min:g,max:n}}function niceScaleExtent(g,n){var r=n,$=getScaleExtent(g,r),L=$.extent,V=r.get("splitNumber");g instanceof LogScale$1&&(g.base=r.get("logBase"));var oe=g.type,re=r.get("interval"),ae=oe==="interval"||oe==="time";g.setExtent(L[0],L[1]),g.calcNiceExtent({splitNumber:V,fixMin:$.fixMin,fixMax:$.fixMax,minInterval:ae?r.get("minInterval"):null,maxInterval:ae?r.get("maxInterval"):null}),re!=null&&g.setInterval&&g.setInterval(re)}function createScaleByModel$1(g,n){if(n=n||g.get("type"),n)switch(n){case"category":return new OrdinalScale$1({ordinalMeta:g.getOrdinalMeta?g.getOrdinalMeta():g.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:g.ecModel.getLocaleModel(),useUTC:g.ecModel.get("useUTC")});default:return new(Scale$1.getClass(n)||IntervalScale$1)}}function ifAxisCrossZero(g){var n=g.scale.getExtent(),r=n[0],$=n[1];return!(r>0&&$>0||r<0&&$<0)}function makeLabelFormatter(g){var n=g.getLabelModel().get("formatter"),r=g.type==="category"?g.scale.getExtent()[0]:null;return g.scale.type==="time"?function($){return function(L,V){return g.scale.getFormattedLabel(L,V,$)}}(n):isString$3(n)?function($){return function(L){var V=g.scale.getLabel(L),oe=$.replace("{value}",V!=null?V:"");return oe}}(n):isFunction$3(n)?function($){return function(L,V){return r!=null&&(V=L.value-r),$(getAxisRawValue(g,L),V,L.level!=null?{level:L.level}:null)}}(n):function($){return g.scale.getLabel($)}}function getAxisRawValue(g,n){return g.type==="category"?g.scale.getLabel(n):n.value}function estimateLabelUnionRect(g){var n=g.model,r=g.scale;if(!(!n.get(["axisLabel","show"])||r.isBlank())){var $,L,V=r.getExtent();r instanceof OrdinalScale$1?L=r.count():($=r.getTicks(),L=$.length);var oe=g.getLabelModel(),re=makeLabelFormatter(g),ae,le=1;L>40&&(le=Math.ceil(L/40));for(var ue=0;ue<L;ue+=le){var de=$?$[ue]:{value:V[0]+ue},pe=re(de,ue),he=oe.getTextRect(pe),_e=rotateTextRect(he,oe.get("rotate")||0);ae?ae.union(_e):ae=_e}return ae}}function rotateTextRect(g,n){var r=n*Math.PI/180,$=g.width,L=g.height,V=$*Math.abs(Math.cos(r))+Math.abs(L*Math.sin(r)),oe=$*Math.abs(Math.sin(r))+Math.abs(L*Math.cos(r)),re=new BoundingRect$1(g.x,g.y,V,oe);return re}function getOptionCategoryInterval(g){var n=g.get("interval");return n!=null?n:"auto"}function shouldShowAllLabels(g){return g.type==="category"&&getOptionCategoryInterval(g.getLabelModel())===0}function getDataDimensionsOnAxis(g,n){var r={};return each$f(g.mapDimensionsAll(n),function($){r[getStackedDimension(g,$)]=!0}),keys$2(r)}function unionAxisExtentFromData(g,n,r){n&&each$f(getDataDimensionsOnAxis(n,r),function($){var L=n.getApproximateExtent($);L[0]<g[0]&&(g[0]=L[0]),L[1]>g[1]&&(g[1]=L[1])})}var AxisModelCommonMixin=function(){function g(){}return g.prototype.getNeedCrossZero=function(){var n=this.option;return!n.scale},g.prototype.getCoordSysModel=function(){},g}(),EPSILON=1e-8;function isAroundEqual(g,n){return Math.abs(g-n)<EPSILON}function contain(g,n,r){var $=0,L=g[0];if(!L)return!1;for(var V=1;V<g.length;V++){var oe=g[V];$+=windingLine(L[0],L[1],oe[0],oe[1],n,r),L=oe}var re=g[0];return(!isAroundEqual(L[0],re[0])||!isAroundEqual(L[1],re[1]))&&($+=windingLine(L[0],L[1],re[0],re[1],n,r)),$!==0}var TMP_TRANSFORM=[];function transformPoints(g,n){for(var r=0;r<g.length;r++)applyTransform$1(g[r],g[r],n)}function updateBBoxFromPoints(g,n,r,$){for(var L=0;L<g.length;L++){var V=g[L];$&&(V=$.project(V)),V&&isFinite(V[0])&&isFinite(V[1])&&(min$1(n,n,V),max$1(r,r,V))}}function centroid$1(g){for(var n=0,r=0,$=0,L=g.length,V=g[L-1][0],oe=g[L-1][1],re=0;re<L;re++){var ae=g[re][0],le=g[re][1],ue=V*le-ae*oe;n+=ue,r+=(V+ae)*ue,$+=(oe+le)*ue,V=ae,oe=le}return n?[r/n/3,$/n/3,n]:[g[0][0]||0,g[0][1]||0]}var Region=function(){function g(n){this.name=n}return g.prototype.setCenter=function(n){this._center=n},g.prototype.getCenter=function(){var n=this._center;return n||(n=this._center=this.calcCenter()),n},g}(),GeoJSONPolygonGeometry=function(){function g(n,r){this.type="polygon",this.exterior=n,this.interiors=r}return g}(),GeoJSONLineStringGeometry=function(){function g(n){this.type="linestring",this.points=n}return g}(),GeoJSONRegion=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this,r)||this;return V.type="geoJSON",V.geometries=$,V._center=L&&[L[0],L[1]],V}return n.prototype.calcCenter=function(){for(var r=this.geometries,$,L=0,V=0;V<r.length;V++){var oe=r[V],re=oe.exterior,ae=re&&re.length;ae>L&&($=oe,L=ae)}if($)return centroid$1($.exterior);var le=this.getBoundingRect();return[le.x+le.width/2,le.y+le.height/2]},n.prototype.getBoundingRect=function(r){var $=this._rect;if($&&!r)return $;var L=[1/0,1/0],V=[-1/0,-1/0],oe=this.geometries;return each$f(oe,function(re){re.type==="polygon"?updateBBoxFromPoints(re.exterior,L,V,r):each$f(re.points,function(ae){updateBBoxFromPoints(ae,L,V,r)})}),isFinite(L[0])&&isFinite(L[1])&&isFinite(V[0])&&isFinite(V[1])||(L[0]=L[1]=V[0]=V[1]=0),$=new BoundingRect$1(L[0],L[1],V[0]-L[0],V[1]-L[1]),r||(this._rect=$),$},n.prototype.contain=function(r){var $=this.getBoundingRect(),L=this.geometries;if(!$.contain(r[0],r[1]))return!1;e:for(var V=0,oe=L.length;V<oe;V++){var re=L[V];if(re.type==="polygon"){var ae=re.exterior,le=re.interiors;if(contain(ae,r[0],r[1])){for(var ue=0;ue<(le?le.length:0);ue++)if(contain(le[ue],r[0],r[1]))continue e;return!0}}}return!1},n.prototype.transformTo=function(r,$,L,V){var oe=this.getBoundingRect(),re=oe.width/oe.height;L?V||(V=L/re):L=re*V;for(var ae=new BoundingRect$1(r,$,L,V),le=oe.calculateTransform(ae),ue=this.geometries,de=0;de<ue.length;de++){var pe=ue[de];pe.type==="polygon"?(transformPoints(pe.exterior,le),each$f(pe.interiors,function(he){transformPoints(he,le)})):each$f(pe.points,function(he){transformPoints(he,le)})}oe=this._rect,oe.copy(ae),this._center=[oe.x+oe.width/2,oe.y+oe.height/2]},n.prototype.cloneShallow=function(r){r==null&&(r=this.name);var $=new n(r,this.geometries,this._center);return $._rect=this._rect,$.transformTo=null,$},n}(Region),GeoSVGRegion=function(g){__extends(n,g);function n(r,$){var L=g.call(this,r)||this;return L.type="geoSVG",L._elOnlyForCalculate=$,L}return n.prototype.calcCenter=function(){for(var r=this._elOnlyForCalculate,$=r.getBoundingRect(),L=[$.x+$.width/2,$.y+$.height/2],V=identity$2(TMP_TRANSFORM),oe=r;oe&&!oe.isGeoSVGGraphicRoot;)mul(V,oe.getLocalTransform(),V),oe=oe.parent;return invert(V,V),applyTransform$1(L,L,V),L},n}(Region);function decode$1(g){if(!g.UTF8Encoding)return g;var n=g,r=n.UTF8Scale;r==null&&(r=1024);var $=n.features;return each$f($,function(L){var V=L.geometry,oe=V.encodeOffsets,re=V.coordinates;if(oe)switch(V.type){case"LineString":V.coordinates=decodeRing(re,oe,r);break;case"Polygon":decodeRings(re,oe,r);break;case"MultiLineString":decodeRings(re,oe,r);break;case"MultiPolygon":each$f(re,function(ae,le){return decodeRings(ae,oe[le],r)})}}),n.UTF8Encoding=!1,n}function decodeRings(g,n,r){for(var $=0;$<g.length;$++)g[$]=decodeRing(g[$],n[$],r)}function decodeRing(g,n,r){for(var $=[],L=n[0],V=n[1],oe=0;oe<g.length;oe+=2){var re=g.charCodeAt(oe)-64,ae=g.charCodeAt(oe+1)-64;re=re>>1^-(re&1),ae=ae>>1^-(ae&1),re+=L,ae+=V,L=re,V=ae,$.push([re/r,ae/r])}return $}function parseGeoJSON(g,n){return g=decode$1(g),map$2(filter(g.features,function(r){return r.geometry&&r.properties&&r.geometry.coordinates.length>0}),function(r){var $=r.properties,L=r.geometry,V=[];switch(L.type){case"Polygon":var oe=L.coordinates;V.push(new GeoJSONPolygonGeometry(oe[0],oe.slice(1)));break;case"MultiPolygon":each$f(L.coordinates,function(ae){ae[0]&&V.push(new GeoJSONPolygonGeometry(ae[0],ae.slice(1)))});break;case"LineString":V.push(new GeoJSONLineStringGeometry([L.coordinates]));break;case"MultiLineString":V.push(new GeoJSONLineStringGeometry(L.coordinates))}var re=new GeoJSONRegion($[n||"name"],V,$.cp);return re.properties=$,re})}var inner$g=makeInner();function createAxisLabels(g){return g.type==="category"?makeCategoryLabels(g):makeRealNumberLabels(g)}function createAxisTicks(g,n){return g.type==="category"?makeCategoryTicks(g,n):{ticks:map$2(g.scale.getTicks(),function(r){return r.value})}}function makeCategoryLabels(g){var n=g.getLabelModel(),r=makeCategoryLabelsActually(g,n);return!n.get("show")||g.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function makeCategoryLabelsActually(g,n){var r=getListCache(g,"labels"),$=getOptionCategoryInterval(n),L=listCacheGet$1(r,$);if(L)return L;var V,oe;return isFunction$3($)?V=makeLabelsByCustomizedCategoryInterval(g,$):(oe=$==="auto"?makeAutoCategoryInterval(g):$,V=makeLabelsByNumericCategoryInterval(g,oe)),listCacheSet$1(r,$,{labels:V,labelCategoryInterval:oe})}function makeCategoryTicks(g,n){var r=getListCache(g,"ticks"),$=getOptionCategoryInterval(n),L=listCacheGet$1(r,$);if(L)return L;var V,oe;if((!n.get("show")||g.scale.isBlank())&&(V=[]),isFunction$3($))V=makeLabelsByCustomizedCategoryInterval(g,$,!0);else if($==="auto"){var re=makeCategoryLabelsActually(g,g.getLabelModel());oe=re.labelCategoryInterval,V=map$2(re.labels,function(ae){return ae.tickValue})}else oe=$,V=makeLabelsByNumericCategoryInterval(g,oe,!0);return listCacheSet$1(r,$,{ticks:V,tickCategoryInterval:oe})}function makeRealNumberLabels(g){var n=g.scale.getTicks(),r=makeLabelFormatter(g);return{labels:map$2(n,function($,L){return{level:$.level,formattedLabel:r($,L),rawLabel:g.scale.getLabel($),tickValue:$.value}})}}function getListCache(g,n){return inner$g(g)[n]||(inner$g(g)[n]=[])}function listCacheGet$1(g,n){for(var r=0;r<g.length;r++)if(g[r].key===n)return g[r].value}function listCacheSet$1(g,n,r){return g.push({key:n,value:r}),r}function makeAutoCategoryInterval(g){var n=inner$g(g).autoInterval;return n!=null?n:inner$g(g).autoInterval=g.calculateCategoryInterval()}function calculateCategoryInterval(g){var n=fetchAutoCategoryIntervalCalculationParams(g),r=makeLabelFormatter(g),$=(n.axisRotate-n.labelRotate)/180*Math.PI,L=g.scale,V=L.getExtent(),oe=L.count();if(V[1]-V[0]<1)return 0;var re=1;oe>40&&(re=Math.max(1,Math.floor(oe/40)));for(var ae=V[0],le=g.dataToCoord(ae+1)-g.dataToCoord(ae),ue=Math.abs(le*Math.cos($)),de=Math.abs(le*Math.sin($)),pe=0,he=0;ae<=V[1];ae+=re){var _e=0,Oe=0,xe=getBoundingRect(r({value:ae}),n.font,"center","top");_e=xe.width*1.3,Oe=xe.height*1.3,pe=Math.max(pe,_e,7),he=Math.max(he,Oe,7)}var $e=pe/ue,Ie=he/de;isNaN($e)&&($e=1/0),isNaN(Ie)&&(Ie=1/0);var Ne=Math.max(0,Math.floor(Math.min($e,Ie))),ze=inner$g(g.model),Ue=g.getExtent(),Fe=ze.lastAutoInterval,qe=ze.lastTickCount;return Fe!=null&&qe!=null&&Math.abs(Fe-Ne)<=1&&Math.abs(qe-oe)<=1&&Fe>Ne&&ze.axisExtent0===Ue[0]&&ze.axisExtent1===Ue[1]?Ne=Fe:(ze.lastTickCount=oe,ze.lastAutoInterval=Ne,ze.axisExtent0=Ue[0],ze.axisExtent1=Ue[1]),Ne}function fetchAutoCategoryIntervalCalculationParams(g){var n=g.getLabelModel();return{axisRotate:g.getRotate?g.getRotate():g.isHorizontal&&!g.isHorizontal()?90:0,labelRotate:n.get("rotate")||0,font:n.getFont()}}function makeLabelsByNumericCategoryInterval(g,n,r){var $=makeLabelFormatter(g),L=g.scale,V=L.getExtent(),oe=g.getLabelModel(),re=[],ae=Math.max((n||0)+1,1),le=V[0],ue=L.count();le!==0&&ae>1&&ue/ae>2&&(le=Math.round(Math.ceil(le/ae)*ae));var de=shouldShowAllLabels(g),pe=oe.get("showMinLabel")||de,he=oe.get("showMaxLabel")||de;pe&&le!==V[0]&&Oe(V[0]);for(var _e=le;_e<=V[1];_e+=ae)Oe(_e);he&&_e-ae!==V[1]&&Oe(V[1]);function Oe(xe){var $e={value:xe};re.push(r?xe:{formattedLabel:$($e),rawLabel:L.getLabel($e),tickValue:xe})}return re}function makeLabelsByCustomizedCategoryInterval(g,n,r){var $=g.scale,L=makeLabelFormatter(g),V=[];return each$f($.getTicks(),function(oe){var re=$.getLabel(oe),ae=oe.value;n(oe.value,re)&&V.push(r?ae:{formattedLabel:L(oe),rawLabel:re,tickValue:ae})}),V}var NORMALIZED_EXTENT=[0,1],Axis=function(){function g(n,r,$){this.onBand=!1,this.inverse=!1,this.dim=n,this.scale=r,this._extent=$||[0,0]}return g.prototype.contain=function(n){var r=this._extent,$=Math.min(r[0],r[1]),L=Math.max(r[0],r[1]);return n>=$&&n<=L},g.prototype.containData=function(n){return this.scale.contain(n)},g.prototype.getExtent=function(){return this._extent.slice()},g.prototype.getPixelPrecision=function(n){return getPixelPrecision(n||this.scale.getExtent(),this._extent)},g.prototype.setExtent=function(n,r){var $=this._extent;$[0]=n,$[1]=r},g.prototype.dataToCoord=function(n,r){var $=this._extent,L=this.scale;return n=L.normalize(n),this.onBand&&L.type==="ordinal"&&($=$.slice(),fixExtentWithBands($,L.count())),linearMap$2(n,NORMALIZED_EXTENT,$,r)},g.prototype.coordToData=function(n,r){var $=this._extent,L=this.scale;this.onBand&&L.type==="ordinal"&&($=$.slice(),fixExtentWithBands($,L.count()));var V=linearMap$2(n,$,NORMALIZED_EXTENT,r);return this.scale.scale(V)},g.prototype.pointToData=function(n,r){},g.prototype.getTicksCoords=function(n){n=n||{};var r=n.tickModel||this.getTickModel(),$=createAxisTicks(this,r),L=$.ticks,V=map$2(L,function(re){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(re):re),tickValue:re}},this),oe=r.get("alignWithLabel");return fixOnBandTicksCoords(this,V,oe,n.clamp),V},g.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var n=this.model.getModel("minorTick"),r=n.get("splitNumber");r>0&&r<100||(r=5);var $=this.scale.getMinorTicks(r),L=map$2($,function(V){return map$2(V,function(oe){return{coord:this.dataToCoord(oe),tickValue:oe}},this)},this);return L},g.prototype.getViewLabels=function(){return createAxisLabels(this).labels},g.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},g.prototype.getTickModel=function(){return this.model.getModel("axisTick")},g.prototype.getBandWidth=function(){var n=this._extent,r=this.scale.getExtent(),$=r[1]-r[0]+(this.onBand?1:0);$===0&&($=1);var L=Math.abs(n[1]-n[0]);return Math.abs(L)/$},g.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},g}();function fixExtentWithBands(g,n){var r=g[1]-g[0],$=n,L=r/$/2;g[0]+=L,g[1]-=L}function fixOnBandTicksCoords(g,n,r,$){var L=n.length;if(!g.onBand||r||!L)return;var V=g.getExtent(),oe,re;if(L===1)n[0].coord=V[0],oe=n[1]={coord:V[1]};else{var ae=n[L-1].tickValue-n[0].tickValue,le=(n[L-1].coord-n[0].coord)/ae;each$f(n,function(he){he.coord-=le/2});var ue=g.scale.getExtent();re=1+ue[1]-n[L-1].tickValue,oe={coord:n[L-1].coord+le*re},n.push(oe)}var de=V[0]>V[1];pe(n[0].coord,V[0])&&($?n[0].coord=V[0]:n.shift()),$&&pe(V[0],n[0].coord)&&n.unshift({coord:V[0]}),pe(V[1],oe.coord)&&($?oe.coord=V[1]:n.pop()),$&&pe(oe.coord,V[1])&&n.push({coord:V[1]});function pe(he,_e){return he=round$3(he),_e=round$3(_e),de?he>_e:he<_e}}const Axis$1=Axis;var PI2$2=Math.PI*2,CMD$1=PathProxy$1.CMD,DEFAULT_SEARCH_SPACE=["top","right","bottom","left"];function getCandidateAnchor(g,n,r,$,L){var V=r.width,oe=r.height;switch(g){case"top":$.set(r.x+V/2,r.y-n),L.set(0,-1);break;case"bottom":$.set(r.x+V/2,r.y+oe+n),L.set(0,1);break;case"left":$.set(r.x-n,r.y+oe/2),L.set(-1,0);break;case"right":$.set(r.x+V+n,r.y+oe/2),L.set(1,0);break}}function projectPointToArc(g,n,r,$,L,V,oe,re,ae){oe-=g,re-=n;var le=Math.sqrt(oe*oe+re*re);oe/=le,re/=le;var ue=oe*r+g,de=re*r+n;if(Math.abs($-L)%PI2$2<1e-4)return ae[0]=ue,ae[1]=de,le-r;if(V){var pe=$;$=normalizeRadian(L),L=normalizeRadian(pe)}else $=normalizeRadian($),L=normalizeRadian(L);$>L&&(L+=PI2$2);var he=Math.atan2(re,oe);if(he<0&&(he+=PI2$2),he>=$&&he<=L||he+PI2$2>=$&&he+PI2$2<=L)return ae[0]=ue,ae[1]=de,le-r;var _e=r*Math.cos($)+g,Oe=r*Math.sin($)+n,xe=r*Math.cos(L)+g,$e=r*Math.sin(L)+n,Ie=(_e-oe)*(_e-oe)+(Oe-re)*(Oe-re),Ne=(xe-oe)*(xe-oe)+($e-re)*($e-re);return Ie<Ne?(ae[0]=_e,ae[1]=Oe,Math.sqrt(Ie)):(ae[0]=xe,ae[1]=$e,Math.sqrt(Ne))}function projectPointToLine(g,n,r,$,L,V,oe,re){var ae=L-g,le=V-n,ue=r-g,de=$-n,pe=Math.sqrt(ue*ue+de*de);ue/=pe,de/=pe;var he=ae*ue+le*de,_e=he/pe;re&&(_e=Math.min(Math.max(_e,0),1)),_e*=pe;var Oe=oe[0]=g+_e*ue,xe=oe[1]=n+_e*de;return Math.sqrt((Oe-L)*(Oe-L)+(xe-V)*(xe-V))}function projectPointToRect(g,n,r,$,L,V,oe){r<0&&(g=g+r,r=-r),$<0&&(n=n+$,$=-$);var re=g+r,ae=n+$,le=oe[0]=Math.min(Math.max(L,g),re),ue=oe[1]=Math.min(Math.max(V,n),ae);return Math.sqrt((le-L)*(le-L)+(ue-V)*(ue-V))}var tmpPt=[];function nearestPointOnRect(g,n,r){var $=projectPointToRect(n.x,n.y,n.width,n.height,g.x,g.y,tmpPt);return r.set(tmpPt[0],tmpPt[1]),$}function nearestPointOnPath(g,n,r){for(var $=0,L=0,V=0,oe=0,re,ae,le=1/0,ue=n.data,de=g.x,pe=g.y,he=0;he<ue.length;){var _e=ue[he++];he===1&&($=ue[he],L=ue[he+1],V=$,oe=L);var Oe=le;switch(_e){case CMD$1.M:V=ue[he++],oe=ue[he++],$=V,L=oe;break;case CMD$1.L:Oe=projectPointToLine($,L,ue[he],ue[he+1],de,pe,tmpPt,!0),$=ue[he++],L=ue[he++];break;case CMD$1.C:Oe=cubicProjectPoint($,L,ue[he++],ue[he++],ue[he++],ue[he++],ue[he],ue[he+1],de,pe,tmpPt),$=ue[he++],L=ue[he++];break;case CMD$1.Q:Oe=quadraticProjectPoint($,L,ue[he++],ue[he++],ue[he],ue[he+1],de,pe,tmpPt),$=ue[he++],L=ue[he++];break;case CMD$1.A:var xe=ue[he++],$e=ue[he++],Ie=ue[he++],Ne=ue[he++],ze=ue[he++],Ue=ue[he++];he+=1;var Fe=!!(1-ue[he++]);re=Math.cos(ze)*Ie+xe,ae=Math.sin(ze)*Ne+$e,he<=1&&(V=re,oe=ae);var qe=(de-xe)*Ne/Ie+xe;Oe=projectPointToArc(xe,$e,Ne,ze,ze+Ue,Fe,qe,pe,tmpPt),$=Math.cos(ze+Ue)*Ie+xe,L=Math.sin(ze+Ue)*Ne+$e;break;case CMD$1.R:V=$=ue[he++],oe=L=ue[he++];var Et=ue[he++],At=ue[he++];Oe=projectPointToRect(V,oe,Et,At,de,pe,tmpPt);break;case CMD$1.Z:Oe=projectPointToLine($,L,V,oe,de,pe,tmpPt,!0),$=V,L=oe;break}Oe<le&&(le=Oe,r.set(tmpPt[0],tmpPt[1]))}return le}var pt0=new Point$1,pt1=new Point$1,pt2=new Point$1,dir=new Point$1,dir2=new Point$1;function updateLabelLinePoints(g,n){if(g){var r=g.getTextGuideLine(),$=g.getTextContent();if($&&r){var L=g.textGuideLineConfig||{},V=[[0,0],[0,0],[0,0]],oe=L.candidates||DEFAULT_SEARCH_SPACE,re=$.getBoundingRect().clone();re.applyTransform($.getComputedTransform());var ae=1/0,le=L.anchor,ue=g.getComputedTransform(),de=ue&&invert([],ue),pe=n.get("length2")||0;le&&pt2.copy(le);for(var he=0;he<oe.length;he++){var _e=oe[he];getCandidateAnchor(_e,0,re,pt0,dir),Point$1.scaleAndAdd(pt1,pt0,dir,pe),pt1.transform(de);var Oe=g.getBoundingRect(),xe=le?le.distance(pt1):g instanceof Path$1?nearestPointOnPath(pt1,g.path,pt2):nearestPointOnRect(pt1,Oe,pt2);xe<ae&&(ae=xe,pt1.transform(ue),pt2.transform(ue),pt2.toArray(V[0]),pt1.toArray(V[1]),pt0.toArray(V[2]))}limitTurnAngle(V,n.get("minTurnAngle")),r.setShape({points:V})}}}var tmpArr=[],tmpProjPoint=new Point$1;function limitTurnAngle(g,n){if(n<=180&&n>0){n=n/180*Math.PI,pt0.fromArray(g[0]),pt1.fromArray(g[1]),pt2.fromArray(g[2]),Point$1.sub(dir,pt0,pt1),Point$1.sub(dir2,pt2,pt1);var r=dir.len(),$=dir2.len();if(!(r<.001||$<.001)){dir.scale(1/r),dir2.scale(1/$);var L=dir.dot(dir2),V=Math.cos(n);if(V<L){var oe=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,oe/Math.tan(Math.PI-n));var re=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(re))return;re<0?Point$1.copy(tmpProjPoint,pt1):re>1&&Point$1.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(g[1])}}}}function limitSurfaceAngle(g,n,r){if(r<=180&&r>0){r=r/180*Math.PI,pt0.fromArray(g[0]),pt1.fromArray(g[1]),pt2.fromArray(g[2]),Point$1.sub(dir,pt1,pt0),Point$1.sub(dir2,pt2,pt1);var $=dir.len(),L=dir2.len();if(!($<.001||L<.001)){dir.scale(1/$),dir2.scale(1/L);var V=dir.dot(n),oe=Math.cos(r);if(V<oe){var re=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var ae=Math.PI/2,le=Math.acos(dir2.dot(n)),ue=ae+le-r;if(ue>=ae)Point$1.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,re/Math.tan(Math.PI/2-ue));var de=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(de))return;de<0?Point$1.copy(tmpProjPoint,pt1):de>1&&Point$1.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(g[1])}}}}function setLabelLineState(g,n,r,$){var L=r==="normal",V=L?g:g.ensureState(r);V.ignore=n;var oe=$.get("smooth");oe&&oe===!0&&(oe=.3),V.shape=V.shape||{},oe>0&&(V.shape.smooth=oe);var re=$.getModel("lineStyle").getLineStyle();L?g.useStyle(re):V.style=re}function buildLabelLinePath(g,n){var r=n.smooth,$=n.points;if($)if(g.moveTo($[0][0],$[0][1]),r>0&&$.length>=3){var L=dist$1($[0],$[1]),V=dist$1($[1],$[2]);if(!L||!V){g.lineTo($[1][0],$[1][1]),g.lineTo($[2][0],$[2][1]);return}var oe=Math.min(L,V)*r,re=lerp$1([],$[1],$[0],oe/L),ae=lerp$1([],$[1],$[2],oe/V),le=lerp$1([],re,ae,.5);g.bezierCurveTo(re[0],re[1],re[0],re[1],le[0],le[1]),g.bezierCurveTo(ae[0],ae[1],ae[0],ae[1],$[2][0],$[2][1])}else for(var ue=1;ue<$.length;ue++)g.lineTo($[ue][0],$[ue][1])}function setLabelLineStyle(g,n,r){var $=g.getTextGuideLine(),L=g.getTextContent();if(!L){$&&g.removeTextGuideLine();return}for(var V=n.normal,oe=V.get("show"),re=L.ignore,ae=0;ae<DISPLAY_STATES.length;ae++){var le=DISPLAY_STATES[ae],ue=n[le],de=le==="normal";if(ue){var pe=ue.get("show"),he=de?re:retrieve2(L.states[le]&&L.states[le].ignore,re);if(he||!retrieve2(pe,oe)){var _e=de?$:$&&$.states[le];_e&&(_e.ignore=!0);continue}$||($=new Polyline$3,g.setTextGuideLine($),!de&&(re||!oe)&&setLabelLineState($,!0,"normal",n.normal),g.stateProxy&&($.stateProxy=g.stateProxy)),setLabelLineState($,!1,le,ue)}}if($){defaults$5($.style,r),$.style.fill=null;var Oe=V.get("showAbove"),xe=g.textGuideLineConfig=g.textGuideLineConfig||{};xe.showAbove=Oe||!1,$.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(g,n){n=n||"labelLine";for(var r={normal:g.getModel(n)},$=0;$<SPECIAL_STATES.length;$++){var L=SPECIAL_STATES[$];r[L]=g.getModel([L,n])}return r}function prepareLayoutList(g){for(var n=[],r=0;r<g.length;r++){var $=g[r];if(!$.defaultAttr.ignore){var L=$.label,V=L.getComputedTransform(),oe=L.getBoundingRect(),re=!V||V[1]<1e-5&&V[2]<1e-5,ae=L.style.margin||0,le=oe.clone();le.applyTransform(V),le.x-=ae/2,le.y-=ae/2,le.width+=ae,le.height+=ae;var ue=re?new OrientedBoundingRect$1(oe,V):null;n.push({label:L,labelLine:$.labelLine,rect:le,localRect:oe,obb:ue,priority:$.priority,defaultAttr:$.defaultAttr,layoutOption:$.computedLayoutOption,axisAligned:re,transform:V})}}return n}function shiftLayout(g,n,r,$,L,V){var oe=g.length;if(oe<2)return;g.sort(function(Et,At){return Et.rect[n]-At.rect[n]});for(var re=0,ae,le=!1,ue=0,de=0;de<oe;de++){var pe=g[de],he=pe.rect;ae=he[n]-re,ae<0&&(he[n]-=ae,pe.label[n]-=ae,le=!0);var _e=Math.max(-ae,0);ue+=_e,re=he[n]+he[r]}ue>0&&V&&Ue(-ue/oe,0,oe);var Oe=g[0],xe=g[oe-1],$e,Ie;Ne(),$e<0&&Fe(-$e,.8),Ie<0&&Fe(Ie,.8),Ne(),ze($e,Ie,1),ze(Ie,$e,-1),Ne(),$e<0&&qe(-$e),Ie<0&&qe(Ie);function Ne(){$e=Oe.rect[n]-$,Ie=L-xe.rect[n]-xe.rect[r]}function ze(Et,At,kt){if(Et<0){var Dt=Math.min(At,-Et);if(Dt>0){Ue(Dt*kt,0,oe);var jt=Dt+Et;jt<0&&Fe(-jt*kt,1)}else Fe(-Et*kt,1)}}function Ue(Et,At,kt){Et!==0&&(le=!0);for(var Dt=At;Dt<kt;Dt++){var jt=g[Dt],Lt=jt.rect;Lt[n]+=Et,jt.label[n]+=Et}}function Fe(Et,At){for(var kt=[],Dt=0,jt=1;jt<oe;jt++){var Lt=g[jt-1].rect,hn=Math.max(g[jt].rect[n]-Lt[n]-Lt[r],0);kt.push(hn),Dt+=hn}if(Dt){var Sn=Math.min(Math.abs(Et)/Dt,At);if(Et>0)for(var jt=0;jt<oe-1;jt++){var On=kt[jt]*Sn;Ue(On,0,jt+1)}else for(var jt=oe-1;jt>0;jt--){var On=kt[jt-1]*Sn;Ue(-On,jt,oe)}}}function qe(Et){var At=Et<0?-1:1;Et=Math.abs(Et);for(var kt=Math.ceil(Et/(oe-1)),Dt=0;Dt<oe-1;Dt++)if(At>0?Ue(kt,0,Dt+1):Ue(-kt,oe-Dt-1,oe),Et-=kt,Et<=0)return}return le}function shiftLayoutOnX(g,n,r,$){return shiftLayout(g,"x","width",n,r,$)}function shiftLayoutOnY(g,n,r,$){return shiftLayout(g,"y","height",n,r,$)}function hideOverlap(g){var n=[];g.sort(function(Oe,xe){return xe.priority-Oe.priority});var r=new BoundingRect$1(0,0,0,0);function $(Oe){if(!Oe.ignore){var xe=Oe.ensureState("emphasis");xe.ignore==null&&(xe.ignore=!1)}Oe.ignore=!0}for(var L=0;L<g.length;L++){var V=g[L],oe=V.axisAligned,re=V.localRect,ae=V.transform,le=V.label,ue=V.labelLine;r.copy(V.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var de=V.obb,pe=!1,he=0;he<n.length;he++){var _e=n[he];if(r.intersect(_e.rect)){if(oe&&_e.axisAligned){pe=!0;break}if(_e.obb||(_e.obb=new OrientedBoundingRect$1(_e.localRect,_e.transform)),de||(de=new OrientedBoundingRect$1(re,ae)),de.intersect(_e.obb)){pe=!0;break}}}pe?($(le),ue&&$(ue)):(le.attr("ignore",V.defaultAttr.ignore),ue&&ue.attr("ignore",V.defaultAttr.labelGuideIgnore),n.push(V))}}function cloneArr(g){if(g){for(var n=[],r=0;r<g.length;r++)n.push(g[r].slice());return n}}function prepareLayoutCallbackParams(g,n){var r=g.label,$=n&&n.getTextGuideLine();return{dataIndex:g.dataIndex,dataType:g.dataType,seriesIndex:g.seriesModel.seriesIndex,text:g.label.style.text,rect:g.hostRect,labelRect:g.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:cloneArr($&&$.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],dummyTransformable=new Transformable,labelLayoutInnerStore=makeInner(),labelLineAnimationStore=makeInner();function extendWithKeys(g,n,r){for(var $=0;$<r.length;$++){var L=r[$];n[L]!=null&&(g[L]=n[L])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"],LabelManager=function(){function g(){this._labelList=[],this._chartViewList=[]}return g.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},g.prototype._addLabel=function(n,r,$,L,V){var oe=L.style,re=L.__hostTarget,ae=re.textConfig||{},le=L.getComputedTransform(),ue=L.getBoundingRect().plain();BoundingRect$1.applyTransform(ue,ue,le),le?dummyTransformable.setLocalTransform(le):(dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1),dummyTransformable.rotation=normalizeRadian(dummyTransformable.rotation);var de=L.__hostTarget,pe;if(de){pe=de.getBoundingRect().plain();var he=de.getComputedTransform();BoundingRect$1.applyTransform(pe,pe,he)}var _e=pe&&de.getTextGuideLine();this._labelList.push({label:L,labelLine:_e,seriesModel:$,dataIndex:n,dataType:r,layoutOption:V,computedLayoutOption:null,rect:ue,hostRect:pe,priority:pe?pe.width*pe.height:0,defaultAttr:{ignore:L.ignore,labelGuideIgnore:_e&&_e.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:oe.x,y:oe.y,align:oe.align,verticalAlign:oe.verticalAlign,width:oe.width,height:oe.height,fontSize:oe.fontSize},cursor:L.cursor,attachedPos:ae.position,attachedRot:ae.rotation}})},g.prototype.addLabelsOfSeries=function(n){var r=this;this._chartViewList.push(n);var $=n.__model,L=$.get("labelLayout");!(isFunction$3(L)||keys$2(L).length)||n.group.traverse(function(V){if(V.ignore)return!0;var oe=V.getTextContent(),re=getECData(V);oe&&!oe.disableLabelLayout&&r._addLabel(re.dataIndex,re.dataType,$,oe,L)})},g.prototype.updateLayoutConfig=function(n){var r=n.getWidth(),$=n.getHeight();function L(Ne,ze){return function(){updateLabelLinePoints(Ne,ze)}}for(var V=0;V<this._labelList.length;V++){var oe=this._labelList[V],re=oe.label,ae=re.__hostTarget,le=oe.defaultAttr,ue=void 0;isFunction$3(oe.layoutOption)?ue=oe.layoutOption(prepareLayoutCallbackParams(oe,ae)):ue=oe.layoutOption,ue=ue||{},oe.computedLayoutOption=ue;var de=Math.PI/180;ae&&ae.setTextConfig({local:!1,position:ue.x!=null||ue.y!=null?null:le.attachedPos,rotation:ue.rotate!=null?ue.rotate*de:le.attachedRot,offset:[ue.dx||0,ue.dy||0]});var pe=!1;if(ue.x!=null?(re.x=parsePercent(ue.x,r),re.setStyle("x",0),pe=!0):(re.x=le.x,re.setStyle("x",le.style.x)),ue.y!=null?(re.y=parsePercent(ue.y,$),re.setStyle("y",0),pe=!0):(re.y=le.y,re.setStyle("y",le.style.y)),ue.labelLinePoints){var he=ae.getTextGuideLine();he&&(he.setShape({points:ue.labelLinePoints}),pe=!1)}var _e=labelLayoutInnerStore(re);_e.needsUpdateLabelLine=pe,re.rotation=ue.rotate!=null?ue.rotate*de:le.rotation,re.scaleX=le.scaleX,re.scaleY=le.scaleY;for(var Oe=0;Oe<LABEL_OPTION_TO_STYLE_KEYS.length;Oe++){var xe=LABEL_OPTION_TO_STYLE_KEYS[Oe];re.setStyle(xe,ue[xe]!=null?ue[xe]:le.style[xe])}if(ue.draggable){if(re.draggable=!0,re.cursor="move",ae){var $e=oe.seriesModel;if(oe.dataIndex!=null){var Ie=oe.seriesModel.getData(oe.dataType);$e=Ie.getItemModel(oe.dataIndex)}re.on("drag",L(ae,$e.getModel("labelLine")))}}else re.off("drag"),re.cursor=le.cursor}},g.prototype.layout=function(n){var r=n.getWidth(),$=n.getHeight(),L=prepareLayoutList(this._labelList),V=filter(L,function(ae){return ae.layoutOption.moveOverlap==="shiftX"}),oe=filter(L,function(ae){return ae.layoutOption.moveOverlap==="shiftY"});shiftLayoutOnX(V,0,r),shiftLayoutOnY(oe,0,$);var re=filter(L,function(ae){return ae.layoutOption.hideOverlap});hideOverlap(re)},g.prototype.processLabelsOverall=function(){var n=this;each$f(this._chartViewList,function(r){var $=r.__model,L=r.ignoreLabelLineUpdate,V=$.isAnimationEnabled();r.group.traverse(function(oe){if(oe.ignore&&!oe.forceLabelAnimation)return!0;var re=!L,ae=oe.getTextContent();!re&&ae&&(re=labelLayoutInnerStore(ae).needsUpdateLabelLine),re&&n._updateLabelLine(oe,$),V&&n._animateLabels(oe,$)})})},g.prototype._updateLabelLine=function(n,r){var $=n.getTextContent(),L=getECData(n),V=L.dataIndex;if($&&V!=null){var oe=r.getData(L.dataType),re=oe.getItemModel(V),ae={},le=oe.getItemVisual(V,"style");if(le){var ue=oe.getVisual("drawType");ae.stroke=le[ue]}var de=re.getModel("labelLine");setLabelLineStyle(n,getLabelLineStatesModels(re),ae),updateLabelLinePoints(n,de)}},g.prototype._animateLabels=function(n,r){var $=n.getTextContent(),L=n.getTextGuideLine();if($&&(n.forceLabelAnimation||!$.ignore&&!$.invisible&&!n.disableLabelAnimation&&!isElementRemoved(n))){var V=labelLayoutInnerStore($),oe=V.oldLayout,re=getECData(n),ae=re.dataIndex,le={x:$.x,y:$.y,rotation:$.rotation},ue=r.getData(re.dataType);if(oe){$.attr(oe);var de=n.prevStates;de&&(indexOf(de,"select")>=0&&$.attr(V.oldLayoutSelect),indexOf(de,"emphasis")>=0&&$.attr(V.oldLayoutEmphasis)),updateProps$1($,le,r,ae)}else if($.attr(le),!labelInner($).valueAnimation){var pe=retrieve2($.style.opacity,1);$.style.opacity=0,initProps($,{style:{opacity:pe}},r,ae)}if(V.oldLayout=le,$.states.select){var he=V.oldLayoutSelect={};extendWithKeys(he,le,LABEL_LAYOUT_PROPS),extendWithKeys(he,$.states.select,LABEL_LAYOUT_PROPS)}if($.states.emphasis){var _e=V.oldLayoutEmphasis={};extendWithKeys(_e,le,LABEL_LAYOUT_PROPS),extendWithKeys(_e,$.states.emphasis,LABEL_LAYOUT_PROPS)}animateLabelValue($,ae,ue,r,r)}if(L&&!L.ignore&&!L.invisible){var V=labelLineAnimationStore(L),oe=V.oldLayout,Oe={points:L.shape.points};oe?(L.attr({shape:oe}),updateProps$1(L,{shape:Oe},r)):(L.setShape(Oe),L.style.strokePercent=0,initProps(L,{style:{strokePercent:1}},r)),V.oldLayout=Oe}},g}();const LabelManager$1=LabelManager;var getLabelManager=makeInner();function installLabelLayout(g){g.registerUpdateLifecycle("series:beforeupdate",function(n,r,$){var L=getLabelManager(r).labelManager;L||(L=getLabelManager(r).labelManager=new LabelManager$1),L.clearLabels()}),g.registerUpdateLifecycle("series:layoutlabels",function(n,r,$){var L=getLabelManager(r).labelManager;$.updatedSeries.forEach(function(V){L.addLabelsOfSeries(r.getViewOfSeriesModel(V))}),L.updateLayoutConfig(r),L.layout(r),L.processLabelsOverall()})}var mathSin=Math.sin,mathCos=Math.cos,PI$4=Math.PI,PI2$1=Math.PI*2,degree=180/PI$4,SVGPathRebuilder=function(){function g(){}return g.prototype.reset=function(n){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,n||4)},g.prototype.moveTo=function(n,r){this._add("M",n,r)},g.prototype.lineTo=function(n,r){this._add("L",n,r)},g.prototype.bezierCurveTo=function(n,r,$,L,V,oe){this._add("C",n,r,$,L,V,oe)},g.prototype.quadraticCurveTo=function(n,r,$,L){this._add("Q",n,r,$,L)},g.prototype.arc=function(n,r,$,L,V,oe){this.ellipse(n,r,$,$,0,L,V,oe)},g.prototype.ellipse=function(n,r,$,L,V,oe,re,ae){var le=re-oe,ue=!ae,de=Math.abs(le),pe=isAroundZero(de-PI2$1)||(ue?le>=PI2$1:-le>=PI2$1),he=le>0?le%PI2$1:le%PI2$1+PI2$1,_e=!1;pe?_e=!0:isAroundZero(de)?_e=!1:_e=he>=PI$4==!!ue;var Oe=n+$*mathCos(oe),xe=r+L*mathSin(oe);this._start&&this._add("M",Oe,xe);var $e=Math.round(V*degree);if(pe){var Ie=1/this._p,Ne=(ue?1:-1)*(PI2$1-Ie);this._add("A",$,L,$e,1,+ue,n+$*mathCos(oe+Ne),r+L*mathSin(oe+Ne)),Ie>.01&&this._add("A",$,L,$e,0,+ue,Oe,xe)}else{var ze=n+$*mathCos(re),Ue=r+L*mathSin(re);this._add("A",$,L,$e,+_e,+ue,ze,Ue)}},g.prototype.rect=function(n,r,$,L){this._add("M",n,r),this._add("l",$,0),this._add("l",0,L),this._add("l",-$,0),this._add("Z")},g.prototype.closePath=function(){this._d.length>0&&this._add("Z")},g.prototype._add=function(n,r,$,L,V,oe,re,ae,le){for(var ue=[],de=this._p,pe=1;pe<arguments.length;pe++){var he=arguments[pe];if(isNaN(he)){this._invalid=!0;return}ue.push(Math.round(he*de)/de)}this._d.push(n+ue.join(" ")),this._start=n==="Z"},g.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},g.prototype.getStr=function(){return this._str},g}();const SVGPathRebuilder$1=SVGPathRebuilder;var NONE="none",mathRound=Math.round;function pathHasFill(g){var n=g.fill;return n!=null&&n!==NONE}function pathHasStroke(g){var n=g.stroke;return n!=null&&n!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$2(strokeProps,function(g){return"stroke-"+g.toLowerCase()});function mapStyleToAttrs(g,n,r,$){var L=n.opacity==null?1:n.opacity;if(r instanceof ZRImage$1){g("opacity",L);return}if(pathHasFill(n)){var V=normalizeColor(n.fill);g("fill",V.color);var oe=n.fillOpacity!=null?n.fillOpacity*V.opacity*L:V.opacity*L;($||oe<1)&&g("fill-opacity",oe)}else g("fill",NONE);if(pathHasStroke(n)){var re=normalizeColor(n.stroke);g("stroke",re.color);var ae=n.strokeNoScale?r.getLineScale():1,le=ae?(n.lineWidth||0)/ae:0,ue=n.strokeOpacity!=null?n.strokeOpacity*re.opacity*L:re.opacity*L,de=n.strokeFirst;if(($||le!==1)&&g("stroke-width",le),($||de)&&g("paint-order",de?"stroke":"fill"),($||ue<1)&&g("stroke-opacity",ue),n.lineDash){var pe=getLineDash(r),he=pe[0],_e=pe[1];he&&(_e=mathRound(_e||0),g("stroke-dasharray",he.join(",")),(_e||$)&&g("stroke-dashoffset",_e))}else $&&g("stroke-dasharray",NONE);for(var Oe=0;Oe<strokeProps.length;Oe++){var xe=strokeProps[Oe];if($||n[xe]!==DEFAULT_PATH_STYLE[xe]){var $e=n[xe]||DEFAULT_PATH_STYLE[xe];$e&&g(svgStrokeProps[Oe],$e)}}}else $&&g("stroke",NONE)}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace";function createElement(g){return document.createElementNS(SVGNS,g)}function createVNode(g,n,r,$,L){return{tag:g,attrs:r||{},children:$,text:L,key:n}}function createElementOpen(g,n){var r=[];if(n)for(var $ in n){var L=n[$],V=$;L!==!1&&(L!==!0&&L!=null&&(V+='="'+L+'"'),r.push(V))}return"<"+g+" "+r.join(" ")+">"}function createElementClose(g){return"</"+g+">"}function vNodeToString(g,n){n=n||{};var r=n.newline?`
`:"";function $(L){var V=L.children,oe=L.tag,re=L.attrs,ae=L.text;return createElementOpen(oe,re)+(oe!=="style"?encodeHTML(ae):ae||"")+(V?""+r+map$2(V,function(le){return $(le)}).join(r)+r:"")+createElementClose(oe)}return $(g)}function getCssString(g,n,r){r=r||{};var $=r.newline?`
`:"",L=" {"+$,V=$+"}",oe=map$2(keys$2(g),function(ae){return ae+L+map$2(keys$2(g[ae]),function(le){return le+":"+g[ae][le]+";"}).join($)+V}).join($),re=map$2(keys$2(n),function(ae){return"@keyframes "+ae+L+map$2(keys$2(n[ae]),function(le){return le+L+map$2(keys$2(n[ae][le]),function(ue){var de=n[ae][le][ue];return ue==="d"&&(de='path("'+de+'")'),ue+":"+de+";"}).join($)+V}).join($)+V}).join($);return!oe&&!re?"":["<![CDATA[",oe,re,"]]>"].join($)}function createBrushScope(g){return{zrId:g,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(g,n,r,$){return createVNode("svg","root",{width:g,height:n,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:$?"0 0 "+g+" "+n:!1},r)}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(g,n,r){var $=extend$3({},g.shape);extend$3($,n),g.buildPath(r,$);var L=new SVGPathRebuilder$1;return L.reset(getPathPrecision(g)),r.rebuildPath(L,1),L.generateStr(),L.getStr()}function setTransformOrigin(g,n){var r=n.originX,$=n.originY;(r||$)&&(g[transformOriginKey]=r+"px "+$+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(g,n){var r=n.zrId+"-ani-"+n.cssAnimIdx++;return n.cssAnims[r]=g,r}function createCompoundPathCSSAnimation(g,n,r){var $=g.shape.paths,L={},V,oe;if(each$f($,function(ae){var le=createBrushScope(r.zrId);le.animation=!0,createCSSAnimation(ae,{},le,!0);var ue=le.cssAnims,de=le.cssNodes,pe=keys$2(ue),he=pe.length;if(he){oe=pe[he-1];var _e=ue[oe];for(var Oe in _e){var xe=_e[Oe];L[Oe]=L[Oe]||{d:""},L[Oe].d+=xe.d||""}for(var $e in de){var Ie=de[$e].animation;Ie.indexOf(oe)>=0&&(V=Ie)}}}),!!V){n.d=!1;var re=addAnimation(L,r);return V.replace(oe,re)}}function getEasingFunc(g){return isString$3(g)?EASING_MAP[g]?"cubic-bezier("+EASING_MAP[g]+")":createCubicEasingFunc(g)?g:"":""}function createCSSAnimation(g,n,r,$){var L=g.animators,V=L.length,oe=[];if(g instanceof CompoundPath$1){var re=createCompoundPathCSSAnimation(g,n,r);if(re)oe.push(re);else if(!V)return}else if(!V)return;for(var ae={},le=0;le<V;le++){var ue=L[le],de=[ue.getMaxTime()/1e3+"s"],pe=getEasingFunc(ue.getClip().easing),he=ue.getDelay();pe?de.push(pe):de.push("linear"),he&&de.push(he/1e3+"s"),ue.getLoop()&&de.push("infinite");var _e=de.join(" ");ae[_e]=ae[_e]||[_e,[]],ae[_e][1].push(ue)}function Oe(Ie){var Ne=Ie[1],ze=Ne.length,Ue={},Fe={},qe={},Et="animation-timing-function";function At(Nn,Vn,Un){for(var Gn=Nn.getTracks(),$n=Nn.getMaxTime(),kn=0;kn<Gn.length;kn++){var Bn=Gn[kn];if(Bn.needsAnimate()){var Yn=Bn.keyframes,Jn=Bn.propName;if(Un&&(Jn=Un(Jn)),Jn)for(var Kn=0;Kn<Yn.length;Kn++){var po=Yn[Kn],oo=Math.round(po.time/$n*100)+"%",lo=getEasingFunc(po.easing),no=po.rawValue;(isString$3(no)||isNumber$3(no))&&(Vn[oo]=Vn[oo]||{},Vn[oo][Jn]=po.rawValue,lo&&(Vn[oo][Et]=lo))}}}}for(var kt=0;kt<ze;kt++){var Dt=Ne[kt],jt=Dt.targetName;jt?jt==="shape"&&At(Dt,Fe):!$&&At(Dt,Ue)}for(var Lt in Ue){var hn={};copyTransform(hn,g),extend$3(hn,Ue[Lt]);var Sn=getSRTTransformString(hn),On=Ue[Lt][Et];qe[Lt]=Sn?{transform:Sn}:{},setTransformOrigin(qe[Lt],hn),On&&(qe[Lt][Et]=On)}var _n,xn=!0;for(var Lt in Fe){qe[Lt]=qe[Lt]||{};var bn=!_n,On=Fe[Lt][Et];bn&&(_n=new PathProxy$1);var Tn=_n.len();_n.reset(),qe[Lt].d=buildPathString(g,Fe[Lt],_n);var An=_n.len();if(!bn&&Tn!==An){xn=!1;break}On&&(qe[Lt][Et]=On)}if(!xn)for(var Lt in qe)delete qe[Lt].d;if(!$)for(var kt=0;kt<ze;kt++){var Dt=Ne[kt],jt=Dt.targetName;jt==="style"&&At(Dt,qe,function(Gn){return ANIMATE_STYLE_MAP[Gn]})}for(var En=keys$2(qe),Ln=!0,Wn,kt=1;kt<En.length;kt++){var Mn=En[kt-1],Fn=En[kt];if(qe[Mn][transformOriginKey]!==qe[Fn][transformOriginKey]){Ln=!1;break}Wn=qe[Mn][transformOriginKey]}if(Ln&&Wn){for(var Lt in qe)qe[Lt][transformOriginKey]&&delete qe[Lt][transformOriginKey];n[transformOriginKey]=Wn}if(filter(En,function(Nn){return keys$2(qe[Nn]).length>0}).length){var In=addAnimation(qe,r);return In+" "+Ie[0]+" both"}}for(var xe in ae){var re=Oe(ae[xe]);re&&oe.push(re)}if(oe.length){var $e=r.zrId+"-cls-"+r.cssClassIdx++;r.cssNodes["."+$e]={animation:oe.join(",")},n.class=$e}}var round$1=Math.round;function isImageLike(g){return g&&isString$3(g.src)}function isCanvasLike(g){return g&&isFunction$3(g.toDataURL)}function setStyleAttrs(g,n,r,$){mapStyleToAttrs(function(L,V){var oe=L==="fill"||L==="stroke";oe&&isGradient(V)?setGradient(n,g,L,$):oe&&isPattern(V)?setPattern(r,g,L,$):g[L]=V},n,r,!1),setShadow(r,g,$)}function noRotateScale(g){return isAroundZero(g[0]-1)&&isAroundZero(g[1])&&isAroundZero(g[2])&&isAroundZero(g[3]-1)}function noTranslate(g){return isAroundZero(g[4])&&isAroundZero(g[5])}function setTransform(g,n,r){if(n&&!(noTranslate(n)&&noRotateScale(n))){var $=r?10:1e4;g.transform=noRotateScale(n)?"translate("+round$1(n[4]*$)/$+" "+round$1(n[5]*$)/$+")":getMatrixStr(n)}}function convertPolyShape(g,n,r){for(var $=g.points,L=[],V=0;V<$.length;V++)L.push(round$1($[V][0]*r)/r),L.push(round$1($[V][1]*r)/r);n.points=L.join(" ")}function validatePolyShape(g){return!g.smooth}function createAttrsConvert(g){var n=map$2(g,function(r){return typeof r=="string"?[r,r]:r});return function(r,$,L){for(var V=0;V<n.length;V++){var oe=n[V],re=r[oe[0]];re!=null&&($[oe[1]]=round$1(re*L)/L)}}}var builtinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(g){for(var n=g.animators,r=0;r<n.length;r++)if(n[r].targetName==="shape")return!0;return!1}function brushSVGPath(g,n){var r=g.style,$=g.shape,L=builtinShapesDef[g.type],V={},oe=n.animation,re="path",ae=g.style.strokePercent,le=n.compress&&getPathPrecision(g)||4;if(L&&!n.willUpdate&&!(L[1]&&!L[1]($))&&!(oe&&hasShapeAnimation(g))&&!(ae<1)){re=g.type;var ue=Math.pow(10,le);L[0]($,V,ue)}else{var de=!g.path||g.shapeChanged();g.path||g.createPathProxy();var pe=g.path;de&&(pe.beginPath(),g.buildPath(pe,g.shape),g.pathUpdated());var he=pe.getVersion(),_e=g,Oe=_e.__svgPathBuilder;(_e.__svgPathVersion!==he||!Oe||ae!==_e.__svgPathStrokePercent)&&(Oe||(Oe=_e.__svgPathBuilder=new SVGPathRebuilder$1),Oe.reset(le),pe.rebuildPath(Oe,ae),Oe.generateStr(),_e.__svgPathVersion=he,_e.__svgPathStrokePercent=ae),V.d=Oe.getStr()}return setTransform(V,g.transform),setStyleAttrs(V,r,g,n),n.animation&&createCSSAnimation(g,V,n),createVNode(re,g.id+"",V)}function brushSVGImage(g,n){var r=g.style,$=r.image;if($&&!isString$3($)&&(isImageLike($)?$=$.src:isCanvasLike($)&&($=$.toDataURL())),!!$){var L=r.x||0,V=r.y||0,oe=r.width,re=r.height,ae={href:$,width:oe,height:re};return L&&(ae.x=L),V&&(ae.y=V),setTransform(ae,g.transform),setStyleAttrs(ae,r,g,n),n.animation&&createCSSAnimation(g,ae,n),createVNode("image",g.id+"",ae)}}function brushSVGTSpan(g,n){var r=g.style,$=r.text;if($!=null&&($+=""),!(!$||isNaN(r.x)||isNaN(r.y))){var L=r.font||DEFAULT_FONT,V=r.x||0,oe=adjustTextY$1(r.y||0,getLineHeight(L),r.textBaseline),re=TEXT_ALIGN_TO_ANCHOR[r.textAlign]||r.textAlign,ae={"dominant-baseline":"central","text-anchor":re};if(hasSeparateFont(r)){var le="",ue=r.fontStyle,de=parseFontSize(r.fontSize);if(!parseFloat(de))return;var pe=r.fontFamily||DEFAULT_FONT_FAMILY,he=r.fontWeight;le+="font-size:"+de+";font-family:"+pe+";",ue&&ue!=="normal"&&(le+="font-style:"+ue+";"),he&&he!=="normal"&&(le+="font-weight:"+he+";"),ae.style=le}else ae.style="font: "+L;return $.match(/\s/)&&(ae["xml:space"]="preserve"),V&&(ae.x=V),oe&&(ae.y=oe),setTransform(ae,g.transform),setStyleAttrs(ae,r,g,n),n.animation&&createCSSAnimation(g,ae,n),createVNode("text",g.id+"",ae,void 0,$)}}function brush(g,n){if(g instanceof Path$1)return brushSVGPath(g,n);if(g instanceof ZRImage$1)return brushSVGImage(g,n);if(g instanceof TSpan$1)return brushSVGTSpan(g,n)}function setShadow(g,n,r){var $=g.style;if(hasShadow($)){var L=getShadowKey(g),V=r.shadowCache,oe=V[L];if(!oe){var re=g.getGlobalScale(),ae=re[0],le=re[1];if(!ae||!le)return;var ue=$.shadowOffsetX||0,de=$.shadowOffsetY||0,pe=$.shadowBlur,he=normalizeColor($.shadowColor),_e=he.opacity,Oe=he.color,xe=pe/2/ae,$e=pe/2/le,Ie=xe+" "+$e;oe=r.zrId+"-s"+r.shadowIdx++,r.defs[oe]=createVNode("filter",oe,{id:oe,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:ue/ae,dy:de/le,stdDeviation:Ie,"flood-color":Oe,"flood-opacity":_e})]),V[L]=oe}n.filter=getIdURL(oe)}}function setGradient(g,n,r,$){var L=g[r],V,oe={gradientUnits:L.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(L))V="linearGradient",oe.x1=L.x,oe.y1=L.y,oe.x2=L.x2,oe.y2=L.y2;else if(isRadialGradient(L))V="radialGradient",oe.cx=retrieve2(L.x,.5),oe.cy=retrieve2(L.y,.5),oe.r=retrieve2(L.r,.5);else return;for(var re=L.colorStops,ae=[],le=0,ue=re.length;le<ue;++le){var de=round4(re[le].offset)*100+"%",pe=re[le].color,he=normalizeColor(pe),_e=he.color,Oe=he.opacity,xe={offset:de};xe["stop-color"]=_e,Oe<1&&(xe["stop-opacity"]=Oe),ae.push(createVNode("stop",le+"",xe))}var $e=createVNode(V,"",oe,ae),Ie=vNodeToString($e),Ne=$.gradientCache,ze=Ne[Ie];ze||(ze=$.zrId+"-g"+$.gradientIdx++,Ne[Ie]=ze,oe.id=ze,$.defs[ze]=createVNode(V,ze,oe,ae)),n[r]=getIdURL(ze)}function setPattern(g,n,r,$){var L=g.style[r],V=g.getBoundingRect(),oe={},re=L.repeat,ae=re==="no-repeat",le=re==="repeat-x",ue=re==="repeat-y",de;if(isImagePattern(L)){var pe=L.imageWidth,he=L.imageHeight,_e=void 0,Oe=L.image;if(isString$3(Oe)?_e=Oe:isImageLike(Oe)?_e=Oe.src:isCanvasLike(Oe)&&(_e=Oe.toDataURL()),typeof Image>"u"){var xe="Image width/height must been given explictly in svg-ssr renderer.";assert(pe,xe),assert(he,xe)}else if(pe==null||he==null){var $e=function(kt,Dt){if(kt){var jt=kt.elm,Lt=pe||Dt.width,hn=he||Dt.height;kt.tag==="pattern"&&(le?(hn=1,Lt/=V.width):ue&&(Lt=1,hn/=V.height)),kt.attrs.width=Lt,kt.attrs.height=hn,jt&&(jt.setAttribute("width",Lt),jt.setAttribute("height",hn))}},Ie=createOrUpdateImage(_e,null,g,function(kt){ae||$e(Fe,kt),$e(de,kt)});Ie&&Ie.width&&Ie.height&&(pe=pe||Ie.width,he=he||Ie.height)}de=createVNode("image","img",{href:_e,width:pe,height:he}),oe.width=pe,oe.height=he}else L.svgElement&&(de=clone$5(L.svgElement),oe.width=L.svgWidth,oe.height=L.svgHeight);if(de){var Ne,ze;ae?Ne=ze=1:le?(ze=1,Ne=oe.width/V.width):ue?(Ne=1,ze=oe.height/V.height):oe.patternUnits="userSpaceOnUse",Ne!=null&&!isNaN(Ne)&&(oe.width=Ne),ze!=null&&!isNaN(ze)&&(oe.height=ze);var Ue=getSRTTransformString(L);Ue&&(oe.patternTransform=Ue);var Fe=createVNode("pattern","",oe,[de]),qe=vNodeToString(Fe),Et=$.patternCache,At=Et[qe];At||(At=$.zrId+"-p"+$.patternIdx++,Et[qe]=At,oe.id=At,Fe=$.defs[At]=createVNode("pattern",At,oe,[de])),n[r]=getIdURL(At)}}function setClipPath(g,n,r){var $=r.clipPathCache,L=r.defs,V=$[g.id];if(!V){V=r.zrId+"-c"+r.clipPathIdx++;var oe={id:V};$[g.id]=V,L[V]=createVNode("clipPath",V,oe,[brushSVGPath(g,r)])}n["clip-path"]=getIdURL(V)}function createTextNode(g){return document.createTextNode(g)}function insertBefore(g,n,r){g.insertBefore(n,r)}function removeChild(g,n){g.removeChild(n)}function appendChild(g,n){g.appendChild(n)}function parentNode(g){return g.parentNode}function nextSibling(g){return g.nextSibling}function setTextContent(g,n){g.textContent=n}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(g){return g===void 0}function isDef(g){return g!==void 0}function createKeyToOldIdx(g,n,r){for(var $={},L=n;L<=r;++L){var V=g[L].key;V!==void 0&&($[V]=L)}return $}function sameVnode(g,n){var r=g.key===n.key,$=g.tag===n.tag;return $&&r}function createElm(g){var n,r=g.children,$=g.tag;if(isDef($)){var L=g.elm=createElement($);if(updateAttrs$1(emptyNode,g),isArray$6(r))for(n=0;n<r.length;++n){var V=r[n];V!=null&&appendChild(L,createElm(V))}else isDef(g.text)&&!isObject$6(g.text)&&appendChild(L,createTextNode(g.text))}else g.elm=createTextNode(g.text);return g.elm}function addVnodes(g,n,r,$,L){for(;$<=L;++$){var V=r[$];V!=null&&insertBefore(g,createElm(V),n)}}function removeVnodes(g,n,r,$){for(;r<=$;++r){var L=n[r];if(L!=null)if(isDef(L.tag)){var V=parentNode(L.elm);removeChild(V,L.elm)}else removeChild(g,L.elm)}}function updateAttrs$1(g,n){var r,$=n.elm,L=g&&g.attrs||{},V=n.attrs||{};if(L!==V){for(r in V){var oe=V[r],re=L[r];re!==oe&&(oe===!0?$.setAttribute(r,""):oe===!1?$.removeAttribute(r):r.charCodeAt(0)!==xChar?$.setAttribute(r,oe):r==="xmlns:xlink"||r==="xmlns"?$.setAttributeNS(XMLNS,r,oe):r.charCodeAt(3)===colonChar?$.setAttributeNS(XML_NAMESPACE,r,oe):r.charCodeAt(5)===colonChar?$.setAttributeNS(XLINKNS,r,oe):$.setAttribute(r,oe))}for(r in L)r in V||$.removeAttribute(r)}}function updateChildren(g,n,r){for(var $=0,L=0,V=n.length-1,oe=n[0],re=n[V],ae=r.length-1,le=r[0],ue=r[ae],de,pe,he,_e;$<=V&&L<=ae;)oe==null?oe=n[++$]:re==null?re=n[--V]:le==null?le=r[++L]:ue==null?ue=r[--ae]:sameVnode(oe,le)?(patchVnode(oe,le),oe=n[++$],le=r[++L]):sameVnode(re,ue)?(patchVnode(re,ue),re=n[--V],ue=r[--ae]):sameVnode(oe,ue)?(patchVnode(oe,ue),insertBefore(g,oe.elm,nextSibling(re.elm)),oe=n[++$],ue=r[--ae]):sameVnode(re,le)?(patchVnode(re,le),insertBefore(g,re.elm,oe.elm),re=n[--V],le=r[++L]):(isUndef(de)&&(de=createKeyToOldIdx(n,$,V)),pe=de[le.key],isUndef(pe)?insertBefore(g,createElm(le),oe.elm):(he=n[pe],he.tag!==le.tag?insertBefore(g,createElm(le),oe.elm):(patchVnode(he,le),n[pe]=void 0,insertBefore(g,he.elm,oe.elm))),le=r[++L]);($<=V||L<=ae)&&($>V?(_e=r[ae+1]==null?null:r[ae+1].elm,addVnodes(g,_e,r,L,ae)):removeVnodes(g,n,$,V))}function patchVnode(g,n){var r=n.elm=g.elm,$=g.children,L=n.children;g!==n&&(updateAttrs$1(g,n),isUndef(n.text)?isDef($)&&isDef(L)?$!==L&&updateChildren(r,$,L):isDef(L)?(isDef(g.text)&&setTextContent(r,""),addVnodes(r,null,L,0,L.length-1)):isDef($)?removeVnodes(r,$,0,$.length-1):isDef(g.text)&&setTextContent(r,""):g.text!==n.text&&(isDef($)&&removeVnodes(r,$,0,$.length-1),setTextContent(r,n.text)))}function patch(g,n){if(sameVnode(g,n))patchVnode(g,n);else{var r=g.elm,$=parentNode(r);createElm(n),$!==null&&(insertBefore($,n.elm,nextSibling(r)),removeVnodes($,[g],0,0))}return n}var svgId=0,SVGPainter=function(){function g(n,r,$){if(this.type="svg",this.refreshHover=createMethodNotSupport(),this.configLayer=createMethodNotSupport(),this.storage=r,this._opts=$=extend$3({},$),this.root=n,this._id="zr"+svgId++,this._oldVNode=createSVGVNode($.width,$.height),n&&!$.ssr){var L=this._viewport=document.createElement("div");L.style.cssText="position:relative;overflow:hidden";var V=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs$1(null,this._oldVNode),L.appendChild(V),n.appendChild(L)}this.resize($.width,$.height)}return g.prototype.getType=function(){return this.type},g.prototype.getViewportRoot=function(){return this._viewport},g.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},g.prototype.getSvgDom=function(){return this._svgDom},g.prototype.refresh=function(){if(this.root){var n=this.renderToVNode({willUpdate:!0});n.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,n),this._oldVNode=n}},g.prototype.renderOneToVNode=function(n){return brush(n,createBrushScope(this._id))},g.prototype.renderToVNode=function(n){n=n||{};var r=this.storage.getDisplayList(!0),$=this._width,L=this._height,V=createBrushScope(this._id);V.animation=n.animation,V.willUpdate=n.willUpdate,V.compress=n.compress;var oe=[],re=this._bgVNode=createBackgroundVNode($,L,this._backgroundColor,V);re&&oe.push(re);var ae=n.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(r,V,ae?ae.children:oe),ae&&oe.push(ae);var le=map$2(keys$2(V.defs),function(pe){return V.defs[pe]});if(le.length&&oe.push(createVNode("defs","defs",{},le)),n.animation){var ue=getCssString(V.cssNodes,V.cssAnims,{newline:!0});if(ue){var de=createVNode("style","stl",{},[],ue);oe.push(de)}}return createSVGVNode($,L,oe,n.useViewBox)},g.prototype.renderToString=function(n){return n=n||{},vNodeToString(this.renderToVNode({animation:retrieve2(n.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(n.useViewBox,!0)}),{newline:!0})},g.prototype.setBackgroundColor=function(n){this._backgroundColor=n},g.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},g.prototype._paintList=function(n,r,$){for(var L=n.length,V=[],oe=0,re,ae,le=0,ue=0;ue<L;ue++){var de=n[ue];if(!de.invisible){var pe=de.__clipPaths,he=pe&&pe.length||0,_e=ae&&ae.length||0,Oe=void 0;for(Oe=Math.max(he-1,_e-1);Oe>=0&&!(pe&&ae&&pe[Oe]===ae[Oe]);Oe--);for(var xe=_e-1;xe>Oe;xe--)oe--,re=V[oe-1];for(var $e=Oe+1;$e<he;$e++){var Ie={};setClipPath(pe[$e],Ie,r);var Ne=createVNode("g","clip-g-"+le++,Ie,[]);(re?re.children:$).push(Ne),V[oe++]=Ne,re=Ne}ae=pe;var ze=brush(de,r);ze&&(re?re.children:$).push(ze)}}},g.prototype.resize=function(n,r){var $=this._opts,L=this.root,V=this._viewport;if(n!=null&&($.width=n),r!=null&&($.height=r),L&&V&&(V.style.display="none",n=getSize$1(L,0,$),r=getSize$1(L,1,$),V.style.display=""),this._width!==n||this._height!==r){if(this._width=n,this._height=r,V){var oe=V.style;oe.width=n+"px",oe.height=r+"px"}if(isPattern(this._backgroundColor))this.refresh();else{var re=this._svgDom;re&&(re.setAttribute("width",n),re.setAttribute("height",r));var ae=this._bgVNode&&this._bgVNode.elm;ae&&(ae.setAttribute("width",n),ae.setAttribute("height",r))}}},g.prototype.getWidth=function(){return this._width},g.prototype.getHeight=function(){return this._height},g.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},g.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},g.prototype.toDataURL=function(n){var r=this.renderToString(),$="data:image/svg+xml;";return n?(r=encodeBase64(r),r&&$+"base64,"+r):$+"charset=UTF-8,"+encodeURIComponent(r)},g}();function createMethodNotSupport(g){return function(){}}function createBackgroundVNode(g,n,r,$){var L;if(r&&r!=="none")if(L=createVNode("rect","bg",{width:g,height:n,x:"0",y:"0",id:"0"}),isGradient(r))setGradient({fill:r},L.attrs,"fill",$);else if(isPattern(r))setPattern({style:{fill:r},dirty:noop$5,getBoundingRect:function(){return{width:g,height:n}}},L.attrs,"fill",$);else{var V=normalizeColor(r),oe=V.color,re=V.opacity;L.attrs.fill=oe,re<1&&(L.attrs["fill-opacity"]=re)}return L}const SVGPainter$1=SVGPainter;function install$U(g){g.registerPainter("svg",SVGPainter$1)}function createDom(g,n,r){var $=platformApi.createCanvas(),L=n.getWidth(),V=n.getHeight(),oe=$.style;return oe&&(oe.position="absolute",oe.left="0",oe.top="0",oe.width=L+"px",oe.height=V+"px",$.setAttribute("data-zr-dom-id",g)),$.width=L*r,$.height=V*r,$}var Layer=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this)||this;V.motionBlur=!1,V.lastFrameAlpha=.7,V.dpr=1,V.virtual=!1,V.config={},V.incremental=!1,V.zlevel=0,V.maxRepaintRectCount=5,V.__dirty=!0,V.__firstTimePaint=!0,V.__used=!1,V.__drawIndex=0,V.__startIndex=0,V.__endIndex=0,V.__prevStartIndex=null,V.__prevEndIndex=null;var oe;L=L||devicePixelRatio,typeof r=="string"?oe=createDom(r,$,L):isObject$6(r)&&(oe=r,r=oe.id),V.id=r,V.dom=oe;var re=oe.style;return re&&(disableUserSelect(oe),oe.onselectstart=function(){return!1},re.padding="0",re.margin="0",re.borderWidth="0"),V.painter=$,V.dpr=L,V}return n.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},n.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},n.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},n.prototype.setUnpainted=function(){this.__firstTimePaint=!0},n.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},n.prototype.createRepaintRects=function(r,$,L,V){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var oe=[],re=this.maxRepaintRectCount,ae=!1,le=new BoundingRect$1(0,0,0,0);function ue(Ie){if(!(!Ie.isFinite()||Ie.isZero()))if(oe.length===0){var Ne=new BoundingRect$1(0,0,0,0);Ne.copy(Ie),oe.push(Ne)}else{for(var ze=!1,Ue=1/0,Fe=0,qe=0;qe<oe.length;++qe){var Et=oe[qe];if(Et.intersect(Ie)){var At=new BoundingRect$1(0,0,0,0);At.copy(Et),At.union(Ie),oe[qe]=At,ze=!0;break}else if(ae){le.copy(Ie),le.union(Et);var kt=Ie.width*Ie.height,Dt=Et.width*Et.height,jt=le.width*le.height,Lt=jt-kt-Dt;Lt<Ue&&(Ue=Lt,Fe=qe)}}if(ae&&(oe[Fe].union(Ie),ze=!0),!ze){var Ne=new BoundingRect$1(0,0,0,0);Ne.copy(Ie),oe.push(Ne)}ae||(ae=oe.length>=re)}}for(var de=this.__startIndex;de<this.__endIndex;++de){var pe=r[de];if(pe){var he=pe.shouldBePainted(L,V,!0,!0),_e=pe.__isRendered&&(pe.__dirty&REDRAW_BIT||!he)?pe.getPrevPaintRect():null;_e&&ue(_e);var Oe=he&&(pe.__dirty&REDRAW_BIT||!pe.__isRendered)?pe.getPaintRect():null;Oe&&ue(Oe)}}for(var de=this.__prevStartIndex;de<this.__prevEndIndex;++de){var pe=$[de],he=pe.shouldBePainted(L,V,!0,!0);if(pe&&(!he||!pe.__zr)&&pe.__isRendered){var _e=pe.getPrevPaintRect();_e&&ue(_e)}}var xe;do{xe=!1;for(var de=0;de<oe.length;){if(oe[de].isZero()){oe.splice(de,1);continue}for(var $e=de+1;$e<oe.length;)oe[de].intersect(oe[$e])?(xe=!0,oe[de].union(oe[$e]),oe.splice($e,1)):$e++;de++}}while(xe);return this._paintRects=oe,oe},n.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},n.prototype.resize=function(r,$){var L=this.dpr,V=this.dom,oe=V.style,re=this.domBack;oe&&(oe.width=r+"px",oe.height=$+"px"),V.width=r*L,V.height=$*L,re&&(re.width=r*L,re.height=$*L,L!==1&&this.ctxBack.scale(L,L))},n.prototype.clear=function(r,$,L){var V=this.dom,oe=this.ctx,re=V.width,ae=V.height;$=$||this.clearColor;var le=this.motionBlur&&!r,ue=this.lastFrameAlpha,de=this.dpr,pe=this;le&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(V,0,0,re/de,ae/de));var he=this.domBack;function _e(Oe,xe,$e,Ie){if(oe.clearRect(Oe,xe,$e,Ie),$&&$!=="transparent"){var Ne=void 0;if(isGradientObject($)){var ze=$.global||$.__width===$e&&$.__height===Ie;Ne=ze&&$.__canvasGradient||getCanvasGradient(oe,$,{x:0,y:0,width:$e,height:Ie}),$.__canvasGradient=Ne,$.__width=$e,$.__height=Ie}else isImagePatternObject($)&&($.scaleX=$.scaleX||de,$.scaleY=$.scaleY||de,Ne=createCanvasPattern(oe,$,{dirty:function(){pe.setUnpainted(),pe.__painter.refresh()}}));oe.save(),oe.fillStyle=Ne||$,oe.fillRect(Oe,xe,$e,Ie),oe.restore()}le&&(oe.save(),oe.globalAlpha=ue,oe.drawImage(he,Oe,xe,$e,Ie),oe.restore())}!L||le?_e(0,0,re,ae):L.length&&each$f(L,function(Oe){_e(Oe.x*de,Oe.y*de,Oe.width*de,Oe.height*de)})},n}(Eventful$1);const Layer$1=Layer;var HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(g){return g?g.__builtin__?!0:!(typeof g.resize!="function"||typeof g.refresh!="function"):!1}function createRoot(g,n){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+g+"px","height:"+n+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var CanvasPainter=function(){function g(n,r,$,L){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var V=!n.nodeName||n.nodeName.toUpperCase()==="CANVAS";this._opts=$=extend$3({},$||{}),this.dpr=$.devicePixelRatio||devicePixelRatio,this._singleCanvas=V,this.root=n;var oe=n.style;oe&&(disableUserSelect(n),n.innerHTML=""),this.storage=r;var re=this._zlevelList;this._prevDisplayList=[];var ae=this._layers;if(V){var le=n,ue=le.width,de=le.height;$.width!=null&&(ue=$.width),$.height!=null&&(de=$.height),this.dpr=$.devicePixelRatio||1,le.width=ue*this.dpr,le.height=de*this.dpr,this._width=ue,this._height=de;var pe=new Layer$1(le,this,this.dpr);pe.__builtin__=!0,pe.initContext(),ae[CANVAS_ZLEVEL]=pe,pe.zlevel=CANVAS_ZLEVEL,re.push(CANVAS_ZLEVEL),this._domRoot=n}else{this._width=getSize$1(n,0,$),this._height=getSize$1(n,1,$);var he=this._domRoot=createRoot(this._width,this._height);n.appendChild(he)}}return g.prototype.getType=function(){return"canvas"},g.prototype.isSingleCanvas=function(){return this._singleCanvas},g.prototype.getViewportRoot=function(){return this._domRoot},g.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},g.prototype.refresh=function(n){var r=this.storage.getDisplayList(!0),$=this._prevDisplayList,L=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,$,n,this._redrawId);for(var V=0;V<L.length;V++){var oe=L[V],re=this._layers[oe];if(!re.__builtin__&&re.refresh){var ae=V===0?this._backgroundColor:null;re.refresh(ae)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},g.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},g.prototype._paintHoverList=function(n){var r=n.length,$=this._hoverlayer;if($&&$.clear(),!!r){for(var L={inHover:!0,viewWidth:this._width,viewHeight:this._height},V,oe=0;oe<r;oe++){var re=n[oe];re.__inHover&&($||($=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),V||(V=$.ctx,V.save()),brush$1(V,re,L,oe===r-1))}V&&V.restore()}},g.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},g.prototype.paintOne=function(n,r){brushSingle(n,r)},g.prototype._paintList=function(n,r,$,L){if(this._redrawId===L){$=$||!1,this._updateLayerStatus(n);var V=this._doPaintList(n,r,$),oe=V.finished,re=V.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),re&&this._paintHoverList(n),oe)this.eachLayer(function(le){le.afterBrush&&le.afterBrush()});else{var ae=this;requestAnimationFrame$2(function(){ae._paintList(n,r,$,L)})}}},g.prototype._compositeManually=function(){var n=this.getLayer(CANVAS_ZLEVEL).ctx,r=this._domRoot.width,$=this._domRoot.height;n.clearRect(0,0,r,$),this.eachBuiltinLayer(function(L){L.virtual&&n.drawImage(L.dom,0,0,r,$)})},g.prototype._doPaintList=function(n,r,$){for(var L=this,V=[],oe=this._opts.useDirtyRect,re=0;re<this._zlevelList.length;re++){var ae=this._zlevelList[re],le=this._layers[ae];le.__builtin__&&le!==this._hoverlayer&&(le.__dirty||$)&&V.push(le)}for(var ue=!0,de=!1,pe=function(Oe){var xe=V[Oe],$e=xe.ctx,Ie=oe&&xe.createRepaintRects(n,r,he._width,he._height),Ne=$?xe.__startIndex:xe.__drawIndex,ze=!$&&xe.incremental&&Date.now,Ue=ze&&Date.now(),Fe=xe.zlevel===he._zlevelList[0]?he._backgroundColor:null;if(xe.__startIndex===xe.__endIndex)xe.clear(!1,Fe,Ie);else if(Ne===xe.__startIndex){var qe=n[Ne];(!qe.incremental||!qe.notClear||$)&&xe.clear(!1,Fe,Ie)}Ne===-1&&(console.error("For some unknown reason. drawIndex is -1"),Ne=xe.__startIndex);var Et,At=function(Lt){var hn={inHover:!1,allClipped:!1,prevEl:null,viewWidth:L._width,viewHeight:L._height};for(Et=Ne;Et<xe.__endIndex;Et++){var Sn=n[Et];if(Sn.__inHover&&(de=!0),L._doPaintEl(Sn,xe,oe,Lt,hn,Et===xe.__endIndex-1),ze){var On=Date.now()-Ue;if(On>15)break}}hn.prevElClipPaths&&$e.restore()};if(Ie)if(Ie.length===0)Et=xe.__endIndex;else for(var kt=he.dpr,Dt=0;Dt<Ie.length;++Dt){var jt=Ie[Dt];$e.save(),$e.beginPath(),$e.rect(jt.x*kt,jt.y*kt,jt.width*kt,jt.height*kt),$e.clip(),At(jt),$e.restore()}else $e.save(),At(),$e.restore();xe.__drawIndex=Et,xe.__drawIndex<xe.__endIndex&&(ue=!1)},he=this,_e=0;_e<V.length;_e++)pe(_e);return env$1.wxa&&each$f(this._layers,function(Oe){Oe&&Oe.ctx&&Oe.ctx.draw&&Oe.ctx.draw()}),{finished:ue,needsRefreshHover:de}},g.prototype._doPaintEl=function(n,r,$,L,V,oe){var re=r.ctx;if($){var ae=n.getPaintRect();(!L||ae&&ae.intersect(L))&&(brush$1(re,n,V,oe),n.setPrevPaintRect(ae))}else brush$1(re,n,V,oe)},g.prototype.getLayer=function(n,r){this._singleCanvas&&!this._needsManuallyCompositing&&(n=CANVAS_ZLEVEL);var $=this._layers[n];return $||($=new Layer$1("zr_"+n,this,this.dpr),$.zlevel=n,$.__builtin__=!0,this._layerConfig[n]?merge$4($,this._layerConfig[n],!0):this._layerConfig[n-EL_AFTER_INCREMENTAL_INC]&&merge$4($,this._layerConfig[n-EL_AFTER_INCREMENTAL_INC],!0),r&&($.virtual=r),this.insertLayer(n,$),$.initContext()),$},g.prototype.insertLayer=function(n,r){var $=this._layers,L=this._zlevelList,V=L.length,oe=this._domRoot,re=null,ae=-1;if(!$[n]&&!!isLayerValid(r)){if(V>0&&n>L[0]){for(ae=0;ae<V-1&&!(L[ae]<n&&L[ae+1]>n);ae++);re=$[L[ae]]}if(L.splice(ae+1,0,n),$[n]=r,!r.virtual)if(re){var le=re.dom;le.nextSibling?oe.insertBefore(r.dom,le.nextSibling):oe.appendChild(r.dom)}else oe.firstChild?oe.insertBefore(r.dom,oe.firstChild):oe.appendChild(r.dom);r.__painter=this}},g.prototype.eachLayer=function(n,r){for(var $=this._zlevelList,L=0;L<$.length;L++){var V=$[L];n.call(r,this._layers[V],V)}},g.prototype.eachBuiltinLayer=function(n,r){for(var $=this._zlevelList,L=0;L<$.length;L++){var V=$[L],oe=this._layers[V];oe.__builtin__&&n.call(r,oe,V)}},g.prototype.eachOtherLayer=function(n,r){for(var $=this._zlevelList,L=0;L<$.length;L++){var V=$[L],oe=this._layers[V];oe.__builtin__||n.call(r,oe,V)}},g.prototype.getLayers=function(){return this._layers},g.prototype._updateLayerStatus=function(n){this.eachBuiltinLayer(function(de,pe){de.__dirty=de.__used=!1});function r(de){V&&(V.__endIndex!==de&&(V.__dirty=!0),V.__endIndex=de)}if(this._singleCanvas)for(var $=1;$<n.length;$++){var L=n[$];if(L.zlevel!==n[$-1].zlevel||L.incremental){this._needsManuallyCompositing=!0;break}}var V=null,oe=0,re,ae;for(ae=0;ae<n.length;ae++){var L=n[ae],le=L.zlevel,ue=void 0;re!==le&&(re=le,oe=0),L.incremental?(ue=this.getLayer(le+INCREMENTAL_INC,this._needsManuallyCompositing),ue.incremental=!0,oe=1):ue=this.getLayer(le+(oe>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),ue.__builtin__||logError("ZLevel "+le+" has been used by unkown layer "+ue.id),ue!==V&&(ue.__used=!0,ue.__startIndex!==ae&&(ue.__dirty=!0),ue.__startIndex=ae,ue.incremental?ue.__drawIndex=-1:ue.__drawIndex=ae,r(ae),V=ue),L.__dirty&REDRAW_BIT&&!L.__inHover&&(ue.__dirty=!0,ue.incremental&&ue.__drawIndex<0&&(ue.__drawIndex=ae))}r(ae),this.eachBuiltinLayer(function(de,pe){!de.__used&&de.getElementCount()>0&&(de.__dirty=!0,de.__startIndex=de.__endIndex=de.__drawIndex=0),de.__dirty&&de.__drawIndex<0&&(de.__drawIndex=de.__startIndex)})},g.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},g.prototype._clearLayer=function(n){n.clear()},g.prototype.setBackgroundColor=function(n){this._backgroundColor=n,each$f(this._layers,function(r){r.setUnpainted()})},g.prototype.configLayer=function(n,r){if(r){var $=this._layerConfig;$[n]?merge$4($[n],r,!0):$[n]=r;for(var L=0;L<this._zlevelList.length;L++){var V=this._zlevelList[L];if(V===n||V===n+EL_AFTER_INCREMENTAL_INC){var oe=this._layers[V];merge$4(oe,$[n],!0)}}}},g.prototype.delLayer=function(n){var r=this._layers,$=this._zlevelList,L=r[n];!L||(L.dom.parentNode.removeChild(L.dom),delete r[n],$.splice(indexOf($,n),1))},g.prototype.resize=function(n,r){if(this._domRoot.style){var $=this._domRoot;$.style.display="none";var L=this._opts,V=this.root;if(n!=null&&(L.width=n),r!=null&&(L.height=r),n=getSize$1(V,0,L),r=getSize$1(V,1,L),$.style.display="",this._width!==n||r!==this._height){$.style.width=n+"px",$.style.height=r+"px";for(var oe in this._layers)this._layers.hasOwnProperty(oe)&&this._layers[oe].resize(n,r);this.refresh(!0)}this._width=n,this._height=r}else{if(n==null||r==null)return;this._width=n,this._height=r,this.getLayer(CANVAS_ZLEVEL).resize(n,r)}return this},g.prototype.clearLayer=function(n){var r=this._layers[n];r&&r.clear()},g.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},g.prototype.getRenderedCanvas=function(n){if(n=n||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var r=new Layer$1("image",this,n.pixelRatio||this.dpr);r.initContext(),r.clear(!1,n.backgroundColor||this._backgroundColor);var $=r.ctx;if(n.pixelRatio<=this.dpr){this.refresh();var L=r.dom.width,V=r.dom.height;this.eachLayer(function(de){de.__builtin__?$.drawImage(de.dom,0,0,L,V):de.renderToCanvas&&($.save(),de.renderToCanvas($),$.restore())})}else for(var oe={inHover:!1,viewWidth:this._width,viewHeight:this._height},re=this.storage.getDisplayList(!0),ae=0,le=re.length;ae<le;ae++){var ue=re[ae];brush$1($,ue,oe,ae===le-1)}return r.dom},g.prototype.getWidth=function(){return this._width},g.prototype.getHeight=function(){return this._height},g}();const CanvasPainter$1=CanvasPainter;function install$T(g){g.registerPainter("canvas",CanvasPainter$1)}var LineSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(r){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.getLegendIcon=function(r){var $=new Group$4,L=createSymbol$1("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);$.add(L),L.setStyle(r.lineStyle);var V=this.getData().getVisual("symbol"),oe=this.getData().getVisual("symbolRotate"),re=V==="none"?"circle":V,ae=r.itemHeight*.8,le=createSymbol$1(re,(r.itemWidth-ae)/2,(r.itemHeight-ae)/2,ae,ae,r.itemStyle.fill);$.add(le),le.setStyle(r.itemStyle);var ue=r.iconRotate==="inherit"?oe:r.iconRotate||0;return le.rotation=ue*Math.PI/180,le.setOrigin([r.itemWidth/2,r.itemHeight/2]),re.indexOf("empty")>-1&&(le.style.stroke=le.style.fill,le.style.fill="#fff",le.style.lineWidth=2),$},n.type="series.line",n.dependencies=["grid","polar"],n.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},n}(SeriesModel$1);const LineSeries=LineSeriesModel;function getDefaultLabel(g,n){var r=g.mapDimensionsAll("defaultedLabel"),$=r.length;if($===1){var L=retrieveRawValue(g,n,r[0]);return L!=null?L+"":null}else if($){for(var V=[],oe=0;oe<r.length;oe++)V.push(retrieveRawValue(g,n,r[oe]));return V.join(" ")}}function getDefaultInterpolatedLabel(g,n){var r=g.mapDimensionsAll("defaultedLabel");if(!isArray$6(n))return n+"";for(var $=[],L=0;L<r.length;L++){var V=g.getDimensionIndex(r[L]);V>=0&&$.push(n[V])}return $.join(" ")}var Symbol$3=function(g){__extends(n,g);function n(r,$,L,V){var oe=g.call(this)||this;return oe.updateData(r,$,L,V),oe}return n.prototype._createSymbol=function(r,$,L,V,oe){this.removeAll();var re=createSymbol$1(r,-1,-1,2,2,null,oe);re.attr({z2:100,culling:!0,scaleX:V[0]/2,scaleY:V[1]/2}),re.drift=driftSymbol,this._symbolType=r,this.add(re)},n.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},n.prototype.getSymbolType=function(){return this._symbolType},n.prototype.getSymbolPath=function(){return this.childAt(0)},n.prototype.highlight=function(){enterEmphasis(this.childAt(0))},n.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},n.prototype.setZ=function(r,$){var L=this.childAt(0);L.zlevel=r,L.z=$},n.prototype.setDraggable=function(r,$){var L=this.childAt(0);L.draggable=r,L.cursor=!$&&r?"move":L.cursor},n.prototype.updateData=function(r,$,L,V){this.silent=!1;var oe=r.getItemVisual($,"symbol")||"circle",re=r.hostModel,ae=n.getSymbolSize(r,$),le=oe!==this._symbolType,ue=V&&V.disableAnimation;if(le){var de=r.getItemVisual($,"symbolKeepAspect");this._createSymbol(oe,r,$,ae,de)}else{var pe=this.childAt(0);pe.silent=!1;var he={scaleX:ae[0]/2,scaleY:ae[1]/2};ue?pe.attr(he):updateProps$1(pe,he,re,$),saveOldStyle(pe)}if(this._updateCommon(r,$,ae,L,V),le){var pe=this.childAt(0);if(!ue){var he={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:pe.style.opacity}};pe.scaleX=pe.scaleY=0,pe.style.opacity=0,initProps(pe,he,re,$)}}ue&&this.childAt(0).stopAnimation("leave")},n.prototype._updateCommon=function(r,$,L,V,oe){var re=this.childAt(0),ae=r.hostModel,le,ue,de,pe,he,_e,Oe,xe,$e;if(V&&(le=V.emphasisItemStyle,ue=V.blurItemStyle,de=V.selectItemStyle,pe=V.focus,he=V.blurScope,Oe=V.labelStatesModels,xe=V.hoverScale,$e=V.cursorStyle,_e=V.emphasisDisabled),!V||r.hasItemOption){var Ie=V&&V.itemModel?V.itemModel:r.getItemModel($),Ne=Ie.getModel("emphasis");le=Ne.getModel("itemStyle").getItemStyle(),de=Ie.getModel(["select","itemStyle"]).getItemStyle(),ue=Ie.getModel(["blur","itemStyle"]).getItemStyle(),pe=Ne.get("focus"),he=Ne.get("blurScope"),_e=Ne.get("disabled"),Oe=getLabelStatesModels(Ie),xe=Ne.getShallow("scale"),$e=Ie.getShallow("cursor")}var ze=r.getItemVisual($,"symbolRotate");re.attr("rotation",(ze||0)*Math.PI/180||0);var Ue=normalizeSymbolOffset(r.getItemVisual($,"symbolOffset"),L);Ue&&(re.x=Ue[0],re.y=Ue[1]),$e&&re.attr("cursor",$e);var Fe=r.getItemVisual($,"style"),qe=Fe.fill;if(re instanceof ZRImage$1){var Et=re.style;re.useStyle(extend$3({image:Et.image,x:Et.x,y:Et.y,width:Et.width,height:Et.height},Fe))}else re.__isEmptyBrush?re.useStyle(extend$3({},Fe)):re.useStyle(Fe),re.style.decal=null,re.setColor(qe,oe&&oe.symbolInnerColor),re.style.strokeNoScale=!0;var At=r.getItemVisual($,"liftZ"),kt=this._z2;At!=null?kt==null&&(this._z2=re.z2,re.z2+=At):kt!=null&&(re.z2=kt,this._z2=null);var Dt=oe&&oe.useNameLabel;setLabelStyle(re,Oe,{labelFetcher:ae,labelDataIndex:$,defaultText:jt,inheritColor:qe,defaultOpacity:Fe.opacity});function jt(Sn){return Dt?r.getName(Sn):getDefaultLabel(r,Sn)}this._sizeX=L[0]/2,this._sizeY=L[1]/2;var Lt=re.ensureState("emphasis");Lt.style=le,re.ensureState("select").style=de,re.ensureState("blur").style=ue;var hn=xe==null||xe===!0?Math.max(1.1,3/this._sizeY):isFinite(xe)&&xe>0?+xe:1;Lt.scaleX=this._sizeX*hn,Lt.scaleY=this._sizeY*hn,this.setSymbolScale(1),toggleHoverEmphasis(this,pe,he,_e)},n.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},n.prototype.fadeOut=function(r,$,L){var V=this.childAt(0),oe=getECData(this).dataIndex,re=L&&L.animation;if(this.silent=V.silent=!0,L&&L.fadeLabel){var ae=V.getTextContent();ae&&removeElement(ae,{style:{opacity:0}},$,{dataIndex:oe,removeOpt:re,cb:function(){V.removeTextContent()}})}else V.removeTextContent();removeElement(V,{style:{opacity:0},scaleX:0,scaleY:0},$,{dataIndex:oe,cb:r,removeOpt:re})},n.getSymbolSize=function(r,$){return normalizeSymbolSize(r.getItemVisual($,"symbolSize"))},n}(Group$4);function driftSymbol(g,n){this.parent.drift(g,n)}const SymbolClz=Symbol$3;function symbolNeedsDraw$1(g,n,r,$){return n&&!isNaN(n[0])&&!isNaN(n[1])&&!($.isIgnore&&$.isIgnore(r))&&!($.clipShape&&!$.clipShape.contain(n[0],n[1]))&&g.getItemVisual(r,"symbol")!=="none"}function normalizeUpdateOpt(g){return g!=null&&!isObject$6(g)&&(g={isIgnore:g}),g||{}}function makeSeriesScope$2(g){var n=g.hostModel,r=n.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:n.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:n.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:getLabelStatesModels(n),cursorStyle:n.get("cursor")}}var SymbolDraw=function(){function g(n){this.group=new Group$4,this._SymbolCtor=n||SymbolClz}return g.prototype.updateData=function(n,r){this._progressiveEls=null,r=normalizeUpdateOpt(r);var $=this.group,L=n.hostModel,V=this._data,oe=this._SymbolCtor,re=r.disableAnimation,ae=makeSeriesScope$2(n),le={disableAnimation:re},ue=r.getSymbolPoint||function(de){return n.getItemLayout(de)};V||$.removeAll(),n.diff(V).add(function(de){var pe=ue(de);if(symbolNeedsDraw$1(n,pe,de,r)){var he=new oe(n,de,ae,le);he.setPosition(pe),n.setItemGraphicEl(de,he),$.add(he)}}).update(function(de,pe){var he=V.getItemGraphicEl(pe),_e=ue(de);if(!symbolNeedsDraw$1(n,_e,de,r)){$.remove(he);return}var Oe=n.getItemVisual(de,"symbol")||"circle",xe=he&&he.getSymbolType&&he.getSymbolType();if(!he||xe&&xe!==Oe)$.remove(he),he=new oe(n,de,ae,le),he.setPosition(_e);else{he.updateData(n,de,ae,le);var $e={x:_e[0],y:_e[1]};re?he.attr($e):updateProps$1(he,$e,L)}$.add(he),n.setItemGraphicEl(de,he)}).remove(function(de){var pe=V.getItemGraphicEl(de);pe&&pe.fadeOut(function(){$.remove(pe)},L)}).execute(),this._getSymbolPoint=ue,this._data=n},g.prototype.updateLayout=function(){var n=this,r=this._data;r&&r.eachItemGraphicEl(function($,L){var V=n._getSymbolPoint(L);$.setPosition(V),$.markRedraw()})},g.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=makeSeriesScope$2(n),this._data=null,this.group.removeAll()},g.prototype.incrementalUpdate=function(n,r,$){this._progressiveEls=[],$=normalizeUpdateOpt($);function L(ae){ae.isGroup||(ae.incremental=!0,ae.ensureState("emphasis").hoverLayer=!0)}for(var V=n.start;V<n.end;V++){var oe=r.getItemLayout(V);if(symbolNeedsDraw$1(r,oe,V,$)){var re=new this._SymbolCtor(r,V,this._seriesScope);re.traverse(L),re.setPosition(oe),this.group.add(re),r.setItemGraphicEl(V,re),this._progressiveEls.push(re)}}},g.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},g.prototype.remove=function(n){var r=this.group,$=this._data;$&&n?$.eachItemGraphicEl(function(L){L.fadeOut(function(){r.remove(L)},$.hostModel)}):r.removeAll()},g}();const SymbolDraw$1=SymbolDraw;function prepareDataCoordInfo(g,n,r){var $=g.getBaseAxis(),L=g.getOtherAxis($),V=getValueStart(L,r),oe=$.dim,re=L.dim,ae=n.mapDimension(re),le=n.mapDimension(oe),ue=re==="x"||re==="radius"?1:0,de=map$2(g.dimensions,function(_e){return n.mapDimension(_e)}),pe=!1,he=n.getCalculationInfo("stackResultDimension");return isDimensionStacked(n,de[0])&&(pe=!0,de[0]=he),isDimensionStacked(n,de[1])&&(pe=!0,de[1]=he),{dataDimsForPoint:de,valueStart:V,valueAxisDim:re,baseAxisDim:oe,stacked:!!pe,valueDim:ae,baseDim:le,baseDataOffset:ue,stackedOverDimension:n.getCalculationInfo("stackedOverDimension")}}function getValueStart(g,n){var r=0,$=g.scale.getExtent();return n==="start"?r=$[0]:n==="end"?r=$[1]:isNumber$3(n)&&!isNaN(n)?r=n:$[0]>0?r=$[0]:$[1]<0&&(r=$[1]),r}function getStackedOnPoint(g,n,r,$){var L=NaN;g.stacked&&(L=r.get(r.getCalculationInfo("stackedOverDimension"),$)),isNaN(L)&&(L=g.valueStart);var V=g.baseDataOffset,oe=[];return oe[V]=r.get(g.baseDim,$),oe[1-V]=L,n.dataToPoint(oe)}function diffData(g,n){var r=[];return n.diff(g).add(function($){r.push({cmd:"+",idx:$})}).update(function($,L){r.push({cmd:"=",idx:L,idx1:$})}).remove(function($){r.push({cmd:"-",idx:$})}).execute(),r}function lineAnimationDiff(g,n,r,$,L,V,oe,re){for(var ae=diffData(g,n),le=[],ue=[],de=[],pe=[],he=[],_e=[],Oe=[],xe=prepareDataCoordInfo(L,n,oe),$e=g.getLayout("points")||[],Ie=n.getLayout("points")||[],Ne=0;Ne<ae.length;Ne++){var ze=ae[Ne],Ue=!0,Fe=void 0,qe=void 0;switch(ze.cmd){case"=":Fe=ze.idx*2,qe=ze.idx1*2;var Et=$e[Fe],At=$e[Fe+1],kt=Ie[qe],Dt=Ie[qe+1];(isNaN(Et)||isNaN(At))&&(Et=kt,At=Dt),le.push(Et,At),ue.push(kt,Dt),de.push(r[Fe],r[Fe+1]),pe.push($[qe],$[qe+1]),Oe.push(n.getRawIndex(ze.idx1));break;case"+":var jt=ze.idx,Lt=xe.dataDimsForPoint,hn=L.dataToPoint([n.get(Lt[0],jt),n.get(Lt[1],jt)]);qe=jt*2,le.push(hn[0],hn[1]),ue.push(Ie[qe],Ie[qe+1]);var Sn=getStackedOnPoint(xe,L,n,jt);de.push(Sn[0],Sn[1]),pe.push($[qe],$[qe+1]),Oe.push(n.getRawIndex(jt));break;case"-":Ue=!1}Ue&&(he.push(ze),_e.push(_e.length))}_e.sort(function(Mn,Fn){return Oe[Mn]-Oe[Fn]});for(var On=le.length,_n=createFloat32Array(On),xn=createFloat32Array(On),bn=createFloat32Array(On),Tn=createFloat32Array(On),An=[],Ne=0;Ne<_e.length;Ne++){var En=_e[Ne],Ln=Ne*2,Wn=En*2;_n[Ln]=le[Wn],_n[Ln+1]=le[Wn+1],xn[Ln]=ue[Wn],xn[Ln+1]=ue[Wn+1],bn[Ln]=de[Wn],bn[Ln+1]=de[Wn+1],Tn[Ln]=pe[Wn],Tn[Ln+1]=pe[Wn+1],An[Ne]=he[En]}return{current:_n,next:xn,stackedOnCurrent:bn,stackedOnNext:Tn,status:An}}var mathMin$5=Math.min,mathMax$5=Math.max;function isPointNull$1(g,n){return isNaN(g)||isNaN(n)}function drawSegment(g,n,r,$,L,V,oe,re,ae){for(var le,ue,de,pe,he,_e,Oe=r,xe=0;xe<$;xe++){var $e=n[Oe*2],Ie=n[Oe*2+1];if(Oe>=L||Oe<0)break;if(isPointNull$1($e,Ie)){if(ae){Oe+=V;continue}break}if(Oe===r)g[V>0?"moveTo":"lineTo"]($e,Ie),de=$e,pe=Ie;else{var Ne=$e-le,ze=Ie-ue;if(Ne*Ne+ze*ze<.5){Oe+=V;continue}if(oe>0){for(var Ue=Oe+V,Fe=n[Ue*2],qe=n[Ue*2+1];Fe===$e&&qe===Ie&&xe<$;)xe++,Ue+=V,Oe+=V,Fe=n[Ue*2],qe=n[Ue*2+1],$e=n[Oe*2],Ie=n[Oe*2+1],Ne=$e-le,ze=Ie-ue;var Et=xe+1;if(ae)for(;isPointNull$1(Fe,qe)&&Et<$;)Et++,Ue+=V,Fe=n[Ue*2],qe=n[Ue*2+1];var At=.5,kt=0,Dt=0,jt=void 0,Lt=void 0;if(Et>=$||isPointNull$1(Fe,qe))he=$e,_e=Ie;else{kt=Fe-le,Dt=qe-ue;var hn=$e-le,Sn=Fe-$e,On=Ie-ue,_n=qe-Ie,xn=void 0,bn=void 0;if(re==="x"){xn=Math.abs(hn),bn=Math.abs(Sn);var Tn=kt>0?1:-1;he=$e-Tn*xn*oe,_e=Ie,jt=$e+Tn*bn*oe,Lt=Ie}else if(re==="y"){xn=Math.abs(On),bn=Math.abs(_n);var An=Dt>0?1:-1;he=$e,_e=Ie-An*xn*oe,jt=$e,Lt=Ie+An*bn*oe}else xn=Math.sqrt(hn*hn+On*On),bn=Math.sqrt(Sn*Sn+_n*_n),At=bn/(bn+xn),he=$e-kt*oe*(1-At),_e=Ie-Dt*oe*(1-At),jt=$e+kt*oe*At,Lt=Ie+Dt*oe*At,jt=mathMin$5(jt,mathMax$5(Fe,$e)),Lt=mathMin$5(Lt,mathMax$5(qe,Ie)),jt=mathMax$5(jt,mathMin$5(Fe,$e)),Lt=mathMax$5(Lt,mathMin$5(qe,Ie)),kt=jt-$e,Dt=Lt-Ie,he=$e-kt*xn/bn,_e=Ie-Dt*xn/bn,he=mathMin$5(he,mathMax$5(le,$e)),_e=mathMin$5(_e,mathMax$5(ue,Ie)),he=mathMax$5(he,mathMin$5(le,$e)),_e=mathMax$5(_e,mathMin$5(ue,Ie)),kt=$e-he,Dt=Ie-_e,jt=$e+kt*bn/xn,Lt=Ie+Dt*bn/xn}g.bezierCurveTo(de,pe,he,_e,$e,Ie),de=jt,pe=Lt}else g.lineTo($e,Ie)}le=$e,ue=Ie,Oe+=V}return xe}var ECPolylineShape=function(){function g(){this.smooth=0,this.smoothConstraint=!0}return g}(),ECPolyline=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="ec-polyline",$}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ECPolylineShape},n.prototype.buildPath=function(r,$){var L=$.points,V=0,oe=L.length/2;if($.connectNulls){for(;oe>0&&isPointNull$1(L[oe*2-2],L[oe*2-1]);oe--);for(;V<oe&&isPointNull$1(L[V*2],L[V*2+1]);V++);}for(;V<oe;)V+=drawSegment(r,L,V,oe,oe,1,$.smooth,$.smoothMonotone,$.connectNulls)+1},n.prototype.getPointOn=function(r,$){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var L=this.path,V=L.data,oe=PathProxy$1.CMD,re,ae,le=$==="x",ue=[],de=0;de<V.length;){var pe=V[de++],he=void 0,_e=void 0,Oe=void 0,xe=void 0,$e=void 0,Ie=void 0,Ne=void 0;switch(pe){case oe.M:re=V[de++],ae=V[de++];break;case oe.L:if(he=V[de++],_e=V[de++],Ne=le?(r-re)/(he-re):(r-ae)/(_e-ae),Ne<=1&&Ne>=0){var ze=le?(_e-ae)*Ne+ae:(he-re)*Ne+re;return le?[r,ze]:[ze,r]}re=he,ae=_e;break;case oe.C:he=V[de++],_e=V[de++],Oe=V[de++],xe=V[de++],$e=V[de++],Ie=V[de++];var Ue=le?cubicRootAt(re,he,Oe,$e,r,ue):cubicRootAt(ae,_e,xe,Ie,r,ue);if(Ue>0)for(var Fe=0;Fe<Ue;Fe++){var qe=ue[Fe];if(qe<=1&&qe>=0){var ze=le?cubicAt(ae,_e,xe,Ie,qe):cubicAt(re,he,Oe,$e,qe);return le?[r,ze]:[ze,r]}}re=$e,ae=Ie;break}}},n}(Path$1),ECPolygonShape=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n}(ECPolylineShape),ECPolygon=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="ec-polygon",$}return n.prototype.getDefaultShape=function(){return new ECPolygonShape},n.prototype.buildPath=function(r,$){var L=$.points,V=$.stackedOnPoints,oe=0,re=L.length/2,ae=$.smoothMonotone;if($.connectNulls){for(;re>0&&isPointNull$1(L[re*2-2],L[re*2-1]);re--);for(;oe<re&&isPointNull$1(L[oe*2],L[oe*2+1]);oe++);}for(;oe<re;){var le=drawSegment(r,L,oe,re,re,1,$.smooth,ae,$.connectNulls);drawSegment(r,V,oe+le-1,le,re,-1,$.stackedOnSmooth,ae,$.connectNulls),oe+=le+1,r.closePath()}},n}(Path$1);function createGridClipPath(g,n,r,$,L){var V=g.getArea(),oe=V.x,re=V.y,ae=V.width,le=V.height,ue=r.get(["lineStyle","width"])||2;oe-=ue/2,re-=ue/2,ae+=ue,le+=ue,oe=Math.floor(oe),ae=Math.round(ae);var de=new Rect$3({shape:{x:oe,y:re,width:ae,height:le}});if(n){var pe=g.getBaseAxis(),he=pe.isHorizontal(),_e=pe.inverse;he?(_e&&(de.shape.x+=ae),de.shape.width=0):(_e||(de.shape.y+=le),de.shape.height=0);var Oe=isFunction$3(L)?function(xe){L(xe,de)}:null;initProps(de,{shape:{width:ae,height:le,x:oe,y:re}},r,null,$,Oe)}return de}function createPolarClipPath(g,n,r){var $=g.getArea(),L=round$3($.r0,1),V=round$3($.r,1),oe=new Sector$1({shape:{cx:round$3(g.cx,1),cy:round$3(g.cy,1),r0:L,r:V,startAngle:$.startAngle,endAngle:$.endAngle,clockwise:$.clockwise}});if(n){var re=g.getBaseAxis().dim==="angle";re?oe.shape.endAngle=$.startAngle:oe.shape.r=L,initProps(oe,{shape:{endAngle:$.endAngle,r:V}},r)}return oe}function createClipPath(g,n,r,$,L){if(g){if(g.type==="polar")return createPolarClipPath(g,n,r);if(g.type==="cartesian2d")return createGridClipPath(g,n,r,$,L)}else return null;return null}function isCoordinateSystemType(g,n){return g.type===n}function isPointsSame(g,n){if(g.length===n.length){for(var r=0;r<g.length;r++)if(g[r]!==n[r])return;return!0}}function bboxFromPoints(g){for(var n=1/0,r=1/0,$=-1/0,L=-1/0,V=0;V<g.length;){var oe=g[V++],re=g[V++];isNaN(oe)||(n=Math.min(oe,n),$=Math.max(oe,$)),isNaN(re)||(r=Math.min(re,r),L=Math.max(re,L))}return[[n,r],[$,L]]}function getBoundingDiff(g,n){var r=bboxFromPoints(g),$=r[0],L=r[1],V=bboxFromPoints(n),oe=V[0],re=V[1];return Math.max(Math.abs($[0]-oe[0]),Math.abs($[1]-oe[1]),Math.abs(L[0]-re[0]),Math.abs(L[1]-re[1]))}function getSmooth(g){return isNumber$3(g)?g:g?.5:0}function getStackedOnPoints(g,n,r){if(!r.valueDim)return[];for(var $=n.count(),L=createFloat32Array($*2),V=0;V<$;V++){var oe=getStackedOnPoint(r,g,n,V);L[V*2]=oe[0],L[V*2+1]=oe[1]}return L}function turnPointsIntoStep(g,n,r,$){var L=n.getBaseAxis(),V=L.dim==="x"||L.dim==="radius"?0:1,oe=[],re=0,ae=[],le=[],ue=[],de=[];if($){for(re=0;re<g.length;re+=2)!isNaN(g[re])&&!isNaN(g[re+1])&&de.push(g[re],g[re+1]);g=de}for(re=0;re<g.length-2;re+=2)switch(ue[0]=g[re+2],ue[1]=g[re+3],le[0]=g[re],le[1]=g[re+1],oe.push(le[0],le[1]),r){case"end":ae[V]=ue[V],ae[1-V]=le[1-V],oe.push(ae[0],ae[1]);break;case"middle":var pe=(le[V]+ue[V])/2,he=[];ae[V]=he[V]=pe,ae[1-V]=le[1-V],he[1-V]=ue[1-V],oe.push(ae[0],ae[1]),oe.push(he[0],he[1]);break;default:ae[V]=le[V],ae[1-V]=ue[1-V],oe.push(ae[0],ae[1])}return oe.push(g[re++],g[re++]),oe}function clipColorStops(g,n){var r=[],$=g.length,L,V;function oe(ue,de,pe){var he=ue.coord,_e=(pe-he)/(de.coord-he),Oe=lerp(_e,[ue.color,de.color]);return{coord:pe,color:Oe}}for(var re=0;re<$;re++){var ae=g[re],le=ae.coord;if(le<0)L=ae;else if(le>n){V?r.push(oe(V,ae,n)):L&&r.push(oe(L,ae,0),oe(L,ae,n));break}else L&&(r.push(oe(L,ae,0)),L=null),r.push(ae),V=ae}return r}function getVisualGradient(g,n,r){var $=g.getVisual("visualMeta");if(!(!$||!$.length||!g.count())&&n.type==="cartesian2d"){for(var L,V,oe=$.length-1;oe>=0;oe--){var re=g.getDimensionInfo($[oe].dimension);if(L=re&&re.coordDim,L==="x"||L==="y"){V=$[oe];break}}if(V){var ae=n.getAxis(L),le=map$2(V.stops,function(Ne){return{coord:ae.toGlobalCoord(ae.dataToCoord(Ne.value)),color:Ne.color}}),ue=le.length,de=V.outerColors.slice();ue&&le[0].coord>le[ue-1].coord&&(le.reverse(),de.reverse());var pe=clipColorStops(le,L==="x"?r.getWidth():r.getHeight()),he=pe.length;if(!he&&ue)return le[0].coord<0?de[1]?de[1]:le[ue-1].color:de[0]?de[0]:le[0].color;var _e=10,Oe=pe[0].coord-_e,xe=pe[he-1].coord+_e,$e=xe-Oe;if($e<.001)return"transparent";each$f(pe,function(Ne){Ne.offset=(Ne.coord-Oe)/$e}),pe.push({offset:he?pe[he-1].offset:.5,color:de[1]||"transparent"}),pe.unshift({offset:he?pe[0].offset:.5,color:de[0]||"transparent"});var Ie=new LinearGradient$1(0,0,0,0,pe,!0);return Ie[L]=Oe,Ie[L+"2"]=xe,Ie}}}function getIsIgnoreFunc(g,n,r){var $=g.get("showAllSymbol"),L=$==="auto";if(!($&&!L)){var V=r.getAxesByScale("ordinal")[0];if(!!V&&!(L&&canShowAllSymbolForCategory(V,n))){var oe=n.mapDimension(V.dim),re={};return each$f(V.getViewLabels(),function(ae){var le=V.scale.getRawOrdinalNumber(ae.tickValue);re[le]=1}),function(ae){return!re.hasOwnProperty(n.get(oe,ae))}}}}function canShowAllSymbolForCategory(g,n){var r=g.getExtent(),$=Math.abs(r[1]-r[0])/g.scale.count();isNaN($)&&($=0);for(var L=n.count(),V=Math.max(1,Math.round(L/5)),oe=0;oe<L;oe+=V)if(SymbolClz.getSymbolSize(n,oe)[g.isHorizontal()?1:0]*1.5>$)return!1;return!0}function isPointNull(g,n){return isNaN(g)||isNaN(n)}function getLastIndexNotNull(g){for(var n=g.length/2;n>0&&isPointNull(g[n*2-2],g[n*2-1]);n--);return n-1}function getPointAtIndex(g,n){return[g[n*2],g[n*2+1]]}function getIndexRange(g,n,r){for(var $=g.length/2,L=r==="x"?0:1,V,oe,re=0,ae=-1,le=0;le<$;le++)if(oe=g[le*2+L],!(isNaN(oe)||isNaN(g[le*2+1-L]))){if(le===0){V=oe;continue}if(V<=n&&oe>=n||V>=n&&oe<=n){ae=le;break}re=le,V=oe}return{range:[re,ae],t:(n-V)/(oe-V)}}function anyStateShowEndLabel(g){if(g.get(["endLabel","show"]))return!0;for(var n=0;n<SPECIAL_STATES.length;n++)if(g.get([SPECIAL_STATES[n],"endLabel","show"]))return!0;return!1}function createLineClipPath(g,n,r,$){if(isCoordinateSystemType(n,"cartesian2d")){var L=$.getModel("endLabel"),V=L.get("valueAnimation"),oe=$.getData(),re={lastFrameIndex:0},ae=anyStateShowEndLabel($)?function(he,_e){g._endLabelOnDuring(he,_e,oe,re,V,L,n)}:null,le=n.getBaseAxis().isHorizontal(),ue=createGridClipPath(n,r,$,function(){var he=g._endLabel;he&&r&&re.originalX!=null&&he.attr({x:re.originalX,y:re.originalY})},ae);if(!$.get("clip",!0)){var de=ue.shape,pe=Math.max(de.width,de.height);le?(de.y-=pe,de.height+=pe*2):(de.x-=pe,de.width+=pe*2)}return ae&&ae(1,ue),ue}else return createPolarClipPath(n,r,$)}function getEndLabelStateSpecified(g,n){var r=n.getBaseAxis(),$=r.isHorizontal(),L=r.inverse,V=$?L?"right":"left":"center",oe=$?"middle":L?"top":"bottom";return{normal:{align:g.get("align")||V,verticalAlign:g.get("verticalAlign")||oe}}}var LineView$1=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.init=function(){var r=new Group$4,$=new SymbolDraw$1;this.group.add($.group),this._symbolDraw=$,this._lineGroup=r},n.prototype.render=function(r,$,L){var V=this,oe=r.coordinateSystem,re=this.group,ae=r.getData(),le=r.getModel("lineStyle"),ue=r.getModel("areaStyle"),de=ae.getLayout("points")||[],pe=oe.type==="polar",he=this._coordSys,_e=this._symbolDraw,Oe=this._polyline,xe=this._polygon,$e=this._lineGroup,Ie=!$.ssr&&r.isAnimationEnabled(),Ne=!ue.isEmpty(),ze=ue.get("origin"),Ue=prepareDataCoordInfo(oe,ae,ze),Fe=Ne&&getStackedOnPoints(oe,ae,Ue),qe=r.get("showSymbol"),Et=r.get("connectNulls"),At=qe&&!pe&&getIsIgnoreFunc(r,ae,oe),kt=this._data;kt&&kt.eachItemGraphicEl(function(Fn,In){Fn.__temp&&(re.remove(Fn),kt.setItemGraphicEl(In,null))}),qe||_e.remove(),re.add($e);var Dt=pe?!1:r.get("step"),jt;oe&&oe.getArea&&r.get("clip",!0)&&(jt=oe.getArea(),jt.width!=null?(jt.x-=.1,jt.y-=.1,jt.width+=.2,jt.height+=.2):jt.r0&&(jt.r0-=.5,jt.r+=.5)),this._clipShapeForSymbol=jt;var Lt=getVisualGradient(ae,oe,L)||ae.getVisual("style")[ae.getVisual("drawType")];if(!(Oe&&he.type===oe.type&&Dt===this._step))qe&&_e.updateData(ae,{isIgnore:At,clipShape:jt,disableAnimation:!0,getSymbolPoint:function(Fn){return[de[Fn*2],de[Fn*2+1]]}}),Ie&&this._initSymbolLabelAnimation(ae,oe,jt),Dt&&(de=turnPointsIntoStep(de,oe,Dt,Et),Fe&&(Fe=turnPointsIntoStep(Fe,oe,Dt,Et))),Oe=this._newPolyline(de),Ne?xe=this._newPolygon(de,Fe):xe&&($e.remove(xe),xe=this._polygon=null),pe||this._initOrUpdateEndLabel(r,oe,convertToColorString(Lt)),$e.setClipPath(createLineClipPath(this,oe,!0,r));else{Ne&&!xe?xe=this._newPolygon(de,Fe):xe&&!Ne&&($e.remove(xe),xe=this._polygon=null),pe||this._initOrUpdateEndLabel(r,oe,convertToColorString(Lt));var hn=$e.getClipPath();if(hn){var Sn=createLineClipPath(this,oe,!1,r);initProps(hn,{shape:Sn.shape},r)}else $e.setClipPath(createLineClipPath(this,oe,!0,r));qe&&_e.updateData(ae,{isIgnore:At,clipShape:jt,disableAnimation:!0,getSymbolPoint:function(Fn){return[de[Fn*2],de[Fn*2+1]]}}),(!isPointsSame(this._stackedOnPoints,Fe)||!isPointsSame(this._points,de))&&(Ie?this._doUpdateAnimation(ae,Fe,oe,L,Dt,ze,Et):(Dt&&(de=turnPointsIntoStep(de,oe,Dt,Et),Fe&&(Fe=turnPointsIntoStep(Fe,oe,Dt,Et))),Oe.setShape({points:de}),xe&&xe.setShape({points:de,stackedOnPoints:Fe})))}var On=r.getModel("emphasis"),_n=On.get("focus"),xn=On.get("blurScope"),bn=On.get("disabled");if(Oe.useStyle(defaults$5(le.getLineStyle(),{fill:"none",stroke:Lt,lineJoin:"bevel"})),setStatesStylesFromModel(Oe,r,"lineStyle"),Oe.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var Tn=Oe.getState("emphasis").style;Tn.lineWidth=+Oe.style.lineWidth+1}getECData(Oe).seriesIndex=r.seriesIndex,toggleHoverEmphasis(Oe,_n,xn,bn);var An=getSmooth(r.get("smooth")),En=r.get("smoothMonotone");if(Oe.setShape({smooth:An,smoothMonotone:En,connectNulls:Et}),xe){var Ln=ae.getCalculationInfo("stackedOnSeries"),Wn=0;xe.useStyle(defaults$5(ue.getAreaStyle(),{fill:Lt,opacity:.7,lineJoin:"bevel",decal:ae.getVisual("style").decal})),Ln&&(Wn=getSmooth(Ln.get("smooth"))),xe.setShape({smooth:An,stackedOnSmooth:Wn,smoothMonotone:En,connectNulls:Et}),setStatesStylesFromModel(xe,r,"areaStyle"),getECData(xe).seriesIndex=r.seriesIndex,toggleHoverEmphasis(xe,_n,xn,bn)}var Mn=function(Fn){V._changePolyState(Fn)};ae.eachItemGraphicEl(function(Fn){Fn&&(Fn.onHoverStateChange=Mn)}),this._polyline.onHoverStateChange=Mn,this._data=ae,this._coordSys=oe,this._stackedOnPoints=Fe,this._points=de,this._step=Dt,this._valueOrigin=ze,r.get("triggerLineEvent")&&(this.packEventData(r,Oe),xe&&this.packEventData(r,xe))},n.prototype.packEventData=function(r,$){getECData($).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},n.prototype.highlight=function(r,$,L,V){var oe=r.getData(),re=queryDataIndex(oe,V);if(this._changePolyState("emphasis"),!(re instanceof Array)&&re!=null&&re>=0){var ae=oe.getLayout("points"),le=oe.getItemGraphicEl(re);if(!le){var ue=ae[re*2],de=ae[re*2+1];if(isNaN(ue)||isNaN(de)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(ue,de))return;var pe=r.get("zlevel")||0,he=r.get("z")||0;le=new SymbolClz(oe,re),le.x=ue,le.y=de,le.setZ(pe,he);var _e=le.getSymbolPath().getTextContent();_e&&(_e.zlevel=pe,_e.z=he,_e.z2=this._polyline.z2+1),le.__temp=!0,oe.setItemGraphicEl(re,le),le.stopSymbolAnimation(!0),this.group.add(le)}le.highlight()}else ChartView$1.prototype.highlight.call(this,r,$,L,V)},n.prototype.downplay=function(r,$,L,V){var oe=r.getData(),re=queryDataIndex(oe,V);if(this._changePolyState("normal"),re!=null&&re>=0){var ae=oe.getItemGraphicEl(re);ae&&(ae.__temp?(oe.setItemGraphicEl(re,null),this.group.remove(ae)):ae.downplay())}else ChartView$1.prototype.downplay.call(this,r,$,L,V)},n.prototype._changePolyState=function(r){var $=this._polygon;setStatesFlag(this._polyline,r),$&&setStatesFlag($,r)},n.prototype._newPolyline=function(r){var $=this._polyline;return $&&this._lineGroup.remove($),$=new ECPolyline({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add($),this._polyline=$,$},n.prototype._newPolygon=function(r,$){var L=this._polygon;return L&&this._lineGroup.remove(L),L=new ECPolygon({shape:{points:r,stackedOnPoints:$},segmentIgnoreThreshold:2}),this._lineGroup.add(L),this._polygon=L,L},n.prototype._initSymbolLabelAnimation=function(r,$,L){var V,oe,re=$.getBaseAxis(),ae=re.inverse;$.type==="cartesian2d"?(V=re.isHorizontal(),oe=!1):$.type==="polar"&&(V=re.dim==="angle",oe=!0);var le=r.hostModel,ue=le.get("animationDuration");isFunction$3(ue)&&(ue=ue(null));var de=le.get("animationDelay")||0,pe=isFunction$3(de)?de(null):de;r.eachItemGraphicEl(function(he,_e){var Oe=he;if(Oe){var xe=[he.x,he.y],$e=void 0,Ie=void 0,Ne=void 0;if(L)if(oe){var ze=L,Ue=$.pointToCoord(xe);V?($e=ze.startAngle,Ie=ze.endAngle,Ne=-Ue[1]/180*Math.PI):($e=ze.r0,Ie=ze.r,Ne=Ue[0])}else{var Fe=L;V?($e=Fe.x,Ie=Fe.x+Fe.width,Ne=he.x):($e=Fe.y+Fe.height,Ie=Fe.y,Ne=he.y)}var qe=Ie===$e?0:(Ne-$e)/(Ie-$e);ae&&(qe=1-qe);var Et=isFunction$3(de)?de(_e):ue*qe+pe,At=Oe.getSymbolPath(),kt=At.getTextContent();Oe.attr({scaleX:0,scaleY:0}),Oe.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:Et}),kt&&kt.animateFrom({style:{opacity:0}},{duration:300,delay:Et}),At.disableLabelAnimation=!0}})},n.prototype._initOrUpdateEndLabel=function(r,$,L){var V=r.getModel("endLabel");if(anyStateShowEndLabel(r)){var oe=r.getData(),re=this._polyline,ae=oe.getLayout("points");if(!ae){re.removeTextContent(),this._endLabel=null;return}var le=this._endLabel;le||(le=this._endLabel=new ZRText$1({z2:200}),le.ignoreClip=!0,re.setTextContent(this._endLabel),re.disableLabelAnimation=!0);var ue=getLastIndexNotNull(ae);ue>=0&&(setLabelStyle(re,getLabelStatesModels(r,"endLabel"),{inheritColor:L,labelFetcher:r,labelDataIndex:ue,defaultText:function(de,pe,he){return he!=null?getDefaultInterpolatedLabel(oe,he):getDefaultLabel(oe,de)},enableTextSetter:!0},getEndLabelStateSpecified(V,$)),re.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},n.prototype._endLabelOnDuring=function(r,$,L,V,oe,re,ae){var le=this._endLabel,ue=this._polyline;if(le){r<1&&V.originalX==null&&(V.originalX=le.x,V.originalY=le.y);var de=L.getLayout("points"),pe=L.hostModel,he=pe.get("connectNulls"),_e=re.get("precision"),Oe=re.get("distance")||0,xe=ae.getBaseAxis(),$e=xe.isHorizontal(),Ie=xe.inverse,Ne=$.shape,ze=Ie?$e?Ne.x:Ne.y+Ne.height:$e?Ne.x+Ne.width:Ne.y,Ue=($e?Oe:0)*(Ie?-1:1),Fe=($e?0:-Oe)*(Ie?-1:1),qe=$e?"x":"y",Et=getIndexRange(de,ze,qe),At=Et.range,kt=At[1]-At[0],Dt=void 0;if(kt>=1){if(kt>1&&!he){var jt=getPointAtIndex(de,At[0]);le.attr({x:jt[0]+Ue,y:jt[1]+Fe}),oe&&(Dt=pe.getRawValue(At[0]))}else{var jt=ue.getPointOn(ze,qe);jt&&le.attr({x:jt[0]+Ue,y:jt[1]+Fe});var Lt=pe.getRawValue(At[0]),hn=pe.getRawValue(At[1]);oe&&(Dt=interpolateRawValues(L,_e,Lt,hn,Et.t))}V.lastFrameIndex=At[0]}else{var Sn=r===1||V.lastFrameIndex>0?At[0]:0,jt=getPointAtIndex(de,Sn);oe&&(Dt=pe.getRawValue(Sn)),le.attr({x:jt[0]+Ue,y:jt[1]+Fe})}if(oe){var On=labelInner(le);typeof On.setLabelText=="function"&&On.setLabelText(Dt)}}},n.prototype._doUpdateAnimation=function(r,$,L,V,oe,re,ae){var le=this._polyline,ue=this._polygon,de=r.hostModel,pe=lineAnimationDiff(this._data,r,this._stackedOnPoints,$,this._coordSys,L,this._valueOrigin),he=pe.current,_e=pe.stackedOnCurrent,Oe=pe.next,xe=pe.stackedOnNext;if(oe&&(he=turnPointsIntoStep(pe.current,L,oe,ae),_e=turnPointsIntoStep(pe.stackedOnCurrent,L,oe,ae),Oe=turnPointsIntoStep(pe.next,L,oe,ae),xe=turnPointsIntoStep(pe.stackedOnNext,L,oe,ae)),getBoundingDiff(he,Oe)>3e3||ue&&getBoundingDiff(_e,xe)>3e3){le.stopAnimation(),le.setShape({points:Oe}),ue&&(ue.stopAnimation(),ue.setShape({points:Oe,stackedOnPoints:xe}));return}le.shape.__points=pe.current,le.shape.points=he;var $e={shape:{points:Oe}};pe.current!==he&&($e.shape.__points=pe.next),le.stopAnimation(),updateProps$1(le,$e,de),ue&&(ue.setShape({points:he,stackedOnPoints:_e}),ue.stopAnimation(),updateProps$1(ue,{shape:{stackedOnPoints:xe}},de),le.shape.points!==ue.shape.points&&(ue.shape.points=le.shape.points));for(var Ie=[],Ne=pe.status,ze=0;ze<Ne.length;ze++){var Ue=Ne[ze].cmd;if(Ue==="="){var Fe=r.getItemGraphicEl(Ne[ze].idx1);Fe&&Ie.push({el:Fe,ptIdx:ze})}}le.animators&&le.animators.length&&le.animators[0].during(function(){ue&&ue.dirtyShape();for(var qe=le.shape.__points,Et=0;Et<Ie.length;Et++){var At=Ie[Et].el,kt=Ie[Et].ptIdx*2;At.x=qe[kt],At.y=qe[kt+1],At.markRedraw()}})},n.prototype.remove=function(r){var $=this.group,L=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),L&&L.eachItemGraphicEl(function(V,oe){V.__temp&&($.remove(V),L.setItemGraphicEl(oe,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},n.type="line",n}(ChartView$1);const LineView$2=LineView$1;function pointsLayout(g,n){return{seriesType:g,plan:createRenderPlanner(),reset:function(r){var $=r.getData(),L=r.coordinateSystem,V=r.pipelineContext,oe=n||V.large;if(L){var re=map$2(L.dimensions,function(he){return $.mapDimension(he)}).slice(0,2),ae=re.length,le=$.getCalculationInfo("stackResultDimension");isDimensionStacked($,re[0])&&(re[0]=le),isDimensionStacked($,re[1])&&(re[1]=le);var ue=$.getStore(),de=$.getDimensionIndex(re[0]),pe=$.getDimensionIndex(re[1]);return ae&&{progress:function(he,_e){for(var Oe=he.end-he.start,xe=oe&&createFloat32Array(Oe*ae),$e=[],Ie=[],Ne=he.start,ze=0;Ne<he.end;Ne++){var Ue=void 0;if(ae===1){var Fe=ue.get(de,Ne);Ue=L.dataToPoint(Fe,null,Ie)}else $e[0]=ue.get(de,Ne),$e[1]=ue.get(pe,Ne),Ue=L.dataToPoint($e,null,Ie);oe?(xe[ze++]=Ue[0],xe[ze++]=Ue[1]):_e.setItemLayout(Ne,Ue.slice())}oe&&_e.setLayout("points",xe)}}}}}}var samplers={average:function(g){for(var n=0,r=0,$=0;$<g.length;$++)isNaN(g[$])||(n+=g[$],r++);return r===0?NaN:n/r},sum:function(g){for(var n=0,r=0;r<g.length;r++)n+=g[r]||0;return n},max:function(g){for(var n=-1/0,r=0;r<g.length;r++)g[r]>n&&(n=g[r]);return isFinite(n)?n:NaN},min:function(g){for(var n=1/0,r=0;r<g.length;r++)g[r]<n&&(n=g[r]);return isFinite(n)?n:NaN},nearest:function(g){return g[0]}},indexSampler=function(g){return Math.round(g.length/2)};function dataSample(g){return{seriesType:g,reset:function(n,r,$){var L=n.getData(),V=n.get("sampling"),oe=n.coordinateSystem,re=L.count();if(re>10&&oe.type==="cartesian2d"&&V){var ae=oe.getBaseAxis(),le=oe.getOtherAxis(ae),ue=ae.getExtent(),de=$.getDevicePixelRatio(),pe=Math.abs(ue[1]-ue[0])*(de||1),he=Math.round(re/pe);if(isFinite(he)&&he>1){V==="lttb"&&n.setData(L.lttbDownSample(L.mapDimension(le.dim),1/he));var _e=void 0;isString$3(V)?_e=samplers[V]:isFunction$3(V)&&(_e=V),_e&&n.setData(L.downSample(L.mapDimension(le.dim),1/he,_e,indexSampler))}}}}}function install$S(g){g.registerChartView(LineView$2),g.registerSeriesModel(LineSeries),g.registerLayout(pointsLayout("line",!0)),g.registerVisual({seriesType:"line",reset:function(n){var r=n.getData(),$=n.getModel("lineStyle").getLineStyle();$&&!$.stroke&&($.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",$)}}),g.registerProcessor(g.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var BaseBarSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(r,$){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.getMarkerPosition=function(r,$,L){var V=this.coordinateSystem;if(V&&V.clampData){var oe=V.clampData(r),re=V.dataToPoint(oe);if(L)each$f(V.getAxes(),function(pe,he){if(pe.type==="category"&&$!=null){var _e=pe.getTicksCoords(),Oe=oe[he],xe=$[he]==="x1"||$[he]==="y1";if(xe&&(Oe+=1),_e.length<2)return;if(_e.length===2){re[he]=pe.toGlobalCoord(pe.getExtent()[xe?1:0]);return}for(var $e=void 0,Ie=void 0,Ne=1,ze=0;ze<_e.length;ze++){var Ue=_e[ze].coord,Fe=ze===_e.length-1?_e[ze-1].tickValue+Ne:_e[ze].tickValue;if(Fe===Oe){Ie=Ue;break}else if(Fe<Oe)$e=Ue;else if($e!=null&&Fe>Oe){Ie=(Ue+$e)/2;break}ze===1&&(Ne=Fe-_e[0].tickValue)}Ie==null&&($e?$e&&(Ie=_e[_e.length-1].coord):Ie=_e[0].coord),re[he]=pe.toGlobalCoord(Ie)}});else{var ae=this.getData(),le=ae.getLayout("offset"),ue=ae.getLayout("size"),de=V.getBaseAxis().isHorizontal()?0:1;re[de]+=le+ue/2}return re}return[NaN,NaN]},n.type="series.__base_bar__",n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},n}(SeriesModel$1);SeriesModel$1.registerClass(BaseBarSeriesModel);const BaseBarSeriesModel$1=BaseBarSeriesModel;var BarSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(){return createSeriesData(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},n.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},n.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),$=this.get("largeThreshold");return $>r&&(r=$),r},n.prototype.brushSelector=function(r,$,L){return L.rect($.getItemLayout(r))},n.type="series.bar",n.dependencies=["grid","polar"],n.defaultOption=inheritDefaultOption(BaseBarSeriesModel$1.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),n}(BaseBarSeriesModel$1);const BarSeries=BarSeriesModel;var SausageShape=function(){function g(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return g}(),SausagePath=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="sausage",$}return n.prototype.getDefaultShape=function(){return new SausageShape},n.prototype.buildPath=function(r,$){var L=$.cx,V=$.cy,oe=Math.max($.r0||0,0),re=Math.max($.r,0),ae=(re-oe)*.5,le=oe+ae,ue=$.startAngle,de=$.endAngle,pe=$.clockwise,he=Math.PI*2,_e=pe?de-ue<he:ue-de<he;_e||(ue=de-(pe?he:-he));var Oe=Math.cos(ue),xe=Math.sin(ue),$e=Math.cos(de),Ie=Math.sin(de);_e?(r.moveTo(Oe*oe+L,xe*oe+V),r.arc(Oe*le+L,xe*le+V,ae,-Math.PI+ue,ue,!pe)):r.moveTo(Oe*re+L,xe*re+V),r.arc(L,V,re,ue,de,!pe),r.arc($e*le+L,Ie*le+V,ae,de-Math.PI*2,de-Math.PI,!pe),oe!==0&&r.arc(L,V,oe,de,ue,pe)},n}(Path$1);const Sausage=SausagePath;function createSectorCalculateTextPosition(g,n){n=n||{};var r=n.isRoundCap;return function($,L,V){var oe=L.position;if(!oe||oe instanceof Array)return calculateTextPosition($,L,V);var re=g(oe),ae=L.distance!=null?L.distance:5,le=this.shape,ue=le.cx,de=le.cy,pe=le.r,he=le.r0,_e=(pe+he)/2,Oe=le.startAngle,xe=le.endAngle,$e=(Oe+xe)/2,Ie=r?Math.abs(pe-he)/2:0,Ne=Math.cos,ze=Math.sin,Ue=ue+pe*Ne(Oe),Fe=de+pe*ze(Oe),qe="left",Et="top";switch(re){case"startArc":Ue=ue+(he-ae)*Ne($e),Fe=de+(he-ae)*ze($e),qe="center",Et="top";break;case"insideStartArc":Ue=ue+(he+ae)*Ne($e),Fe=de+(he+ae)*ze($e),qe="center",Et="bottom";break;case"startAngle":Ue=ue+_e*Ne(Oe)+adjustAngleDistanceX(Oe,ae+Ie,!1),Fe=de+_e*ze(Oe)+adjustAngleDistanceY(Oe,ae+Ie,!1),qe="right",Et="middle";break;case"insideStartAngle":Ue=ue+_e*Ne(Oe)+adjustAngleDistanceX(Oe,-ae+Ie,!1),Fe=de+_e*ze(Oe)+adjustAngleDistanceY(Oe,-ae+Ie,!1),qe="left",Et="middle";break;case"middle":Ue=ue+_e*Ne($e),Fe=de+_e*ze($e),qe="center",Et="middle";break;case"endArc":Ue=ue+(pe+ae)*Ne($e),Fe=de+(pe+ae)*ze($e),qe="center",Et="bottom";break;case"insideEndArc":Ue=ue+(pe-ae)*Ne($e),Fe=de+(pe-ae)*ze($e),qe="center",Et="top";break;case"endAngle":Ue=ue+_e*Ne(xe)+adjustAngleDistanceX(xe,ae+Ie,!0),Fe=de+_e*ze(xe)+adjustAngleDistanceY(xe,ae+Ie,!0),qe="left",Et="middle";break;case"insideEndAngle":Ue=ue+_e*Ne(xe)+adjustAngleDistanceX(xe,-ae+Ie,!0),Fe=de+_e*ze(xe)+adjustAngleDistanceY(xe,-ae+Ie,!0),qe="right",Et="middle";break;default:return calculateTextPosition($,L,V)}return $=$||{},$.x=Ue,$.y=Fe,$.align=qe,$.verticalAlign=Et,$}}function setSectorTextRotation(g,n,r,$){if(isNumber$3($)){g.setTextConfig({rotation:$});return}else if(isArray$6(n)){g.setTextConfig({rotation:0});return}var L=g.shape,V=L.clockwise?L.startAngle:L.endAngle,oe=L.clockwise?L.endAngle:L.startAngle,re=(V+oe)/2,ae,le=r(n);switch(le){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":ae=re;break;case"startAngle":case"insideStartAngle":ae=V;break;case"endAngle":case"insideEndAngle":ae=oe;break;default:g.setTextConfig({rotation:0});return}var ue=Math.PI*1.5-ae;le==="middle"&&ue>Math.PI/2&&ue<Math.PI*1.5&&(ue-=Math.PI),g.setTextConfig({rotation:ue})}function adjustAngleDistanceX(g,n,r){return n*Math.sin(g)*(r?-1:1)}function adjustAngleDistanceY(g,n,r){return n*Math.cos(g)*(r?1:-1)}function getSectorCornerRadius(g,n,r){var $=g.get("borderRadius");if($==null)return r?{cornerRadius:0}:null;isArray$6($)||($=[$,$,$,$]);var L=Math.abs(n.r||0-n.r0||0);return{cornerRadius:map$2($,function(V){return parsePercent$1(V,L)})}}var mathMax$4=Math.max,mathMin$4=Math.min;function getClipArea(g,n){var r=g.getArea&&g.getArea();if(isCoordinateSystemType(g,"cartesian2d")){var $=g.getBaseAxis();if($.type!=="category"||!$.onBand){var L=n.getLayout("bandWidth");$.isHorizontal()?(r.x-=L,r.width+=L*2):(r.y-=L,r.height+=L*2)}}return r}var BarView=function(g){__extends(n,g);function n(){var r=g.call(this)||this;return r.type=n.type,r._isFirstFrame=!0,r}return n.prototype.render=function(r,$,L,V){this._model=r,this._removeOnRenderedListener(L),this._updateDrawMode(r);var oe=r.get("coordinateSystem");(oe==="cartesian2d"||oe==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,$,L):this._renderNormal(r,$,L,V))},n.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},n.prototype.incrementalRender=function(r,$){this._progressiveEls=[],this._incrementalRenderLarge(r,$)},n.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},n.prototype._updateDrawMode=function(r){var $=r.pipelineContext.large;(this._isLargeDraw==null||$!==this._isLargeDraw)&&(this._isLargeDraw=$,this._clear())},n.prototype._renderNormal=function(r,$,L,V){var oe=this.group,re=r.getData(),ae=this._data,le=r.coordinateSystem,ue=le.getBaseAxis(),de;le.type==="cartesian2d"?de=ue.isHorizontal():le.type==="polar"&&(de=ue.dim==="angle");var pe=r.isAnimationEnabled()?r:null,he=shouldRealtimeSort(r,le);he&&this._enableRealtimeSort(he,re,L);var _e=r.get("clip",!0)||he,Oe=getClipArea(le,re);oe.removeClipPath();var xe=r.get("roundCap",!0),$e=r.get("showBackground",!0),Ie=r.getModel("backgroundStyle"),Ne=Ie.get("borderRadius")||0,ze=[],Ue=this._backgroundEls,Fe=V&&V.isInitSort,qe=V&&V.type==="changeAxisOrder";function Et(Dt){var jt=getLayout[le.type](re,Dt),Lt=createBackgroundEl(le,de,jt);return Lt.useStyle(Ie.getItemStyle()),le.type==="cartesian2d"?Lt.setShape("r",Ne):Lt.setShape("cornerRadius",Ne),ze[Dt]=Lt,Lt}re.diff(ae).add(function(Dt){var jt=re.getItemModel(Dt),Lt=getLayout[le.type](re,Dt,jt);if($e&&Et(Dt),!(!re.hasValue(Dt)||!isValidLayout[le.type](Lt))){var hn=!1;_e&&(hn=clip[le.type](Oe,Lt));var Sn=elementCreator[le.type](r,re,Dt,Lt,de,pe,ue.model,!1,xe);he&&(Sn.forceLabelAnimation=!0),updateStyle(Sn,re,Dt,jt,Lt,r,de,le.type==="polar"),Fe?Sn.attr({shape:Lt}):he?updateRealtimeAnimation(he,pe,Sn,Lt,Dt,de,!1,!1):initProps(Sn,{shape:Lt},r,Dt),re.setItemGraphicEl(Dt,Sn),oe.add(Sn),Sn.ignore=hn}}).update(function(Dt,jt){var Lt=re.getItemModel(Dt),hn=getLayout[le.type](re,Dt,Lt);if($e){var Sn=void 0;Ue.length===0?Sn=Et(jt):(Sn=Ue[jt],Sn.useStyle(Ie.getItemStyle()),le.type==="cartesian2d"?Sn.setShape("r",Ne):Sn.setShape("cornerRadius",Ne),ze[Dt]=Sn);var On=getLayout[le.type](re,Dt),_n=createBackgroundShape(de,On,le);updateProps$1(Sn,{shape:_n},pe,Dt)}var xn=ae.getItemGraphicEl(jt);if(!re.hasValue(Dt)||!isValidLayout[le.type](hn)){oe.remove(xn);return}var bn=!1;if(_e&&(bn=clip[le.type](Oe,hn),bn&&oe.remove(xn)),xn?saveOldStyle(xn):xn=elementCreator[le.type](r,re,Dt,hn,de,pe,ue.model,!!xn,xe),he&&(xn.forceLabelAnimation=!0),qe){var Tn=xn.getTextContent();if(Tn){var An=labelInner(Tn);An.prevValue!=null&&(An.prevValue=An.value)}}else updateStyle(xn,re,Dt,Lt,hn,r,de,le.type==="polar");Fe?xn.attr({shape:hn}):he?updateRealtimeAnimation(he,pe,xn,hn,Dt,de,!0,qe):updateProps$1(xn,{shape:hn},r,Dt,null),re.setItemGraphicEl(Dt,xn),xn.ignore=bn,oe.add(xn)}).remove(function(Dt){var jt=ae.getItemGraphicEl(Dt);jt&&removeElementWithFadeOut(jt,r,Dt)}).execute();var At=this._backgroundGroup||(this._backgroundGroup=new Group$4);At.removeAll();for(var kt=0;kt<ze.length;++kt)At.add(ze[kt]);oe.add(At),this._backgroundEls=ze,this._data=re},n.prototype._renderLarge=function(r,$,L){this._clear(),createLarge$1(r,this.group),this._updateLargeClip(r)},n.prototype._incrementalRenderLarge=function(r,$){this._removeBackground(),createLarge$1($,this.group,this._progressiveEls,!0)},n.prototype._updateLargeClip=function(r){var $=r.get("clip",!0)&&createClipPath(r.coordinateSystem,!1,r),L=this.group;$?L.setClipPath($):L.removeClipPath()},n.prototype._enableRealtimeSort=function(r,$,L){var V=this;if($.count()){var oe=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort($,r,L),this._isFirstFrame=!1;else{var re=function(ae){var le=$.getItemGraphicEl(ae),ue=le&&le.shape;return ue&&Math.abs(oe.isHorizontal()?ue.height:ue.width)||0};this._onRendered=function(){V._updateSortWithinSameData($,re,oe,L)},L.getZr().on("rendered",this._onRendered)}}},n.prototype._dataSort=function(r,$,L){var V=[];return r.each(r.mapDimension($.dim),function(oe,re){var ae=L(re);ae=ae!=null?ae:NaN,V.push({dataIndex:re,mappedValue:ae,ordinalNumber:oe})}),V.sort(function(oe,re){return re.mappedValue-oe.mappedValue}),{ordinalNumbers:map$2(V,function(oe){return oe.ordinalNumber})}},n.prototype._isOrderChangedWithinSameData=function(r,$,L){for(var V=L.scale,oe=r.mapDimension(L.dim),re=Number.MAX_VALUE,ae=0,le=V.getOrdinalMeta().categories.length;ae<le;++ae){var ue=r.rawIndexOf(oe,V.getRawOrdinalNumber(ae)),de=ue<0?Number.MIN_VALUE:$(r.indexOfRawIndex(ue));if(de>re)return!0;re=de}return!1},n.prototype._isOrderDifferentInView=function(r,$){for(var L=$.scale,V=L.getExtent(),oe=Math.max(0,V[0]),re=Math.min(V[1],L.getOrdinalMeta().categories.length-1);oe<=re;++oe)if(r.ordinalNumbers[oe]!==L.getRawOrdinalNumber(oe))return!0},n.prototype._updateSortWithinSameData=function(r,$,L,V){if(this._isOrderChangedWithinSameData(r,$,L)){var oe=this._dataSort(r,L,$);this._isOrderDifferentInView(oe,L)&&(this._removeOnRenderedListener(V),V.dispatchAction({type:"changeAxisOrder",componentType:L.dim+"Axis",axisId:L.index,sortInfo:oe}))}},n.prototype._dispatchInitSort=function(r,$,L){var V=$.baseAxis,oe=this._dataSort(r,V,function(re){return r.get(r.mapDimension($.otherAxis.dim),re)});L.dispatchAction({type:"changeAxisOrder",componentType:V.dim+"Axis",isInitSort:!0,axisId:V.index,sortInfo:oe})},n.prototype.remove=function(r,$){this._clear(this._model),this._removeOnRenderedListener($)},n.prototype.dispose=function(r,$){this._removeOnRenderedListener($)},n.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},n.prototype._clear=function(r){var $=this.group,L=this._data;r&&r.isAnimationEnabled()&&L&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],L.eachItemGraphicEl(function(V){removeElementWithFadeOut(V,r,getECData(V).dataIndex)})):$.removeAll(),this._data=null,this._isFirstFrame=!0},n.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},n.type="bar",n}(ChartView$1),clip={cartesian2d:function(g,n){var r=n.width<0?-1:1,$=n.height<0?-1:1;r<0&&(n.x+=n.width,n.width=-n.width),$<0&&(n.y+=n.height,n.height=-n.height);var L=g.x+g.width,V=g.y+g.height,oe=mathMax$4(n.x,g.x),re=mathMin$4(n.x+n.width,L),ae=mathMax$4(n.y,g.y),le=mathMin$4(n.y+n.height,V),ue=re<oe,de=le<ae;return n.x=ue&&oe>L?re:oe,n.y=de&&ae>V?le:ae,n.width=ue?0:re-oe,n.height=de?0:le-ae,r<0&&(n.x+=n.width,n.width=-n.width),$<0&&(n.y+=n.height,n.height=-n.height),ue||de},polar:function(g,n){var r=n.r0<=n.r?1:-1;if(r<0){var $=n.r;n.r=n.r0,n.r0=$}var L=mathMin$4(n.r,g.r),V=mathMax$4(n.r0,g.r0);n.r=L,n.r0=V;var oe=L-V<0;if(r<0){var $=n.r;n.r=n.r0,n.r0=$}return oe}},elementCreator={cartesian2d:function(g,n,r,$,L,V,oe,re,ae){var le=new Rect$3({shape:extend$3({},$),z2:1});if(le.__dataIndex=r,le.name="item",V){var ue=le.shape,de=L?"height":"width";ue[de]=0}return le},polar:function(g,n,r,$,L,V,oe,re,ae){var le=!L&&ae?Sausage:Sector$1,ue=new le({shape:$,z2:1});ue.name="item";var de=createPolarPositionMapping(L);if(ue.calculateTextPosition=createSectorCalculateTextPosition(de,{isRoundCap:le===Sausage}),V){var pe=ue.shape,he=L?"r":"endAngle",_e={};pe[he]=L?$.r0:$.startAngle,_e[he]=$[he],(re?updateProps$1:initProps)(ue,{shape:_e},V)}return ue}};function shouldRealtimeSort(g,n){var r=g.get("realtimeSort",!0),$=n.getBaseAxis();if(r&&$.type==="category"&&n.type==="cartesian2d")return{baseAxis:$,otherAxis:n.getOtherAxis($)}}function updateRealtimeAnimation(g,n,r,$,L,V,oe,re){var ae,le;V?(le={x:$.x,width:$.width},ae={y:$.y,height:$.height}):(le={y:$.y,height:$.height},ae={x:$.x,width:$.width}),re||(oe?updateProps$1:initProps)(r,{shape:ae},n,L,null);var ue=n?g.baseAxis.model:null;(oe?updateProps$1:initProps)(r,{shape:le},ue,L)}function checkPropertiesNotValid(g,n){for(var r=0;r<n.length;r++)if(!isFinite(g[n[r]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(g){return!checkPropertiesNotValid(g,rectPropties)},polar:function(g){return!checkPropertiesNotValid(g,polarPropties)}},getLayout={cartesian2d:function(g,n,r){var $=g.getItemLayout(n),L=r?getLineWidth(r,$):0,V=$.width>0?1:-1,oe=$.height>0?1:-1;return{x:$.x+V*L/2,y:$.y+oe*L/2,width:$.width-V*L,height:$.height-oe*L}},polar:function(g,n,r){var $=g.getItemLayout(n);return{cx:$.cx,cy:$.cy,r0:$.r0,r:$.r,startAngle:$.startAngle,endAngle:$.endAngle,clockwise:$.clockwise}}};function isZeroOnPolar(g){return g.startAngle!=null&&g.endAngle!=null&&g.startAngle===g.endAngle}function createPolarPositionMapping(g){return function(n){var r=n?"Arc":"Angle";return function($){switch($){case"start":case"insideStart":case"end":case"insideEnd":return $+r;default:return $}}}(g)}function updateStyle(g,n,r,$,L,V,oe,re){var ae=n.getItemVisual(r,"style");if(re){if(!V.get("roundCap")){var le=g.shape,ue=getSectorCornerRadius($.getModel("itemStyle"),le,!0);extend$3(le,ue),g.setShape(le)}}else{var de=$.get(["itemStyle","borderRadius"])||0;g.setShape("r",de)}g.useStyle(ae);var pe=$.getShallow("cursor");pe&&g.attr("cursor",pe);var he=re?oe?L.r>=L.r0?"endArc":"startArc":L.endAngle>=L.startAngle?"endAngle":"startAngle":oe?L.height>=0?"bottom":"top":L.width>=0?"right":"left",_e=getLabelStatesModels($);setLabelStyle(g,_e,{labelFetcher:V,labelDataIndex:r,defaultText:getDefaultLabel(V.getData(),r),inheritColor:ae.fill,defaultOpacity:ae.opacity,defaultOutsidePosition:he});var Oe=g.getTextContent();if(re&&Oe){var xe=$.get(["label","position"]);g.textConfig.inside=xe==="middle"?!0:null,setSectorTextRotation(g,xe==="outside"?he:xe,createPolarPositionMapping(oe),$.get(["label","rotate"]))}setLabelValueAnimation(Oe,_e,V.getRawValue(r),function(Ie){return getDefaultInterpolatedLabel(n,Ie)});var $e=$.getModel(["emphasis"]);toggleHoverEmphasis(g,$e.get("focus"),$e.get("blurScope"),$e.get("disabled")),setStatesStylesFromModel(g,$),isZeroOnPolar(L)&&(g.style.fill="none",g.style.stroke="none",each$f(g.states,function(Ie){Ie.style&&(Ie.style.fill=Ie.style.stroke="none")}))}function getLineWidth(g,n){var r=g.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var $=g.get(["itemStyle","borderWidth"])||0,L=isNaN(n.width)?Number.MAX_VALUE:Math.abs(n.width),V=isNaN(n.height)?Number.MAX_VALUE:Math.abs(n.height);return Math.min($,L,V)}var LagePathShape=function(){function g(){}return g}(),LargePath=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="largeBar",$}return n.prototype.getDefaultShape=function(){return new LagePathShape},n.prototype.buildPath=function(r,$){for(var L=$.points,V=this.baseDimIdx,oe=1-this.baseDimIdx,re=[],ae=[],le=this.barWidth,ue=0;ue<L.length;ue+=3)ae[V]=le,ae[oe]=L[ue+2],re[V]=L[ue+V],re[oe]=L[ue+oe],r.rect(re[0],re[1],ae[0],ae[1])},n}(Path$1);function createLarge$1(g,n,r,$){var L=g.getData(),V=L.getLayout("valueAxisHorizontal")?1:0,oe=L.getLayout("largeDataIndices"),re=L.getLayout("size"),ae=g.getModel("backgroundStyle"),le=L.getLayout("largeBackgroundPoints");if(le){var ue=new LargePath({shape:{points:le},incremental:!!$,silent:!0,z2:0});ue.baseDimIdx=V,ue.largeDataIndices=oe,ue.barWidth=re,ue.useStyle(ae.getItemStyle()),n.add(ue),r&&r.push(ue)}var de=new LargePath({shape:{points:L.getLayout("largePoints")},incremental:!!$,ignoreCoarsePointer:!0,z2:1});de.baseDimIdx=V,de.largeDataIndices=oe,de.barWidth=re,n.add(de),de.useStyle(L.getVisual("style")),getECData(de).seriesIndex=g.seriesIndex,g.get("silent")||(de.on("mousedown",largePathUpdateDataIndex),de.on("mousemove",largePathUpdateDataIndex)),r&&r.push(de)}var largePathUpdateDataIndex=throttle(function(g){var n=this,r=largePathFindDataIndex(n,g.offsetX,g.offsetY);getECData(n).dataIndex=r>=0?r:null},30,!1);function largePathFindDataIndex(g,n,r){for(var $=g.baseDimIdx,L=1-$,V=g.shape.points,oe=g.largeDataIndices,re=[],ae=[],le=g.barWidth,ue=0,de=V.length/3;ue<de;ue++){var pe=ue*3;if(ae[$]=le,ae[L]=V[pe+2],re[$]=V[pe+$],re[L]=V[pe+L],ae[L]<0&&(re[L]+=ae[L],ae[L]=-ae[L]),n>=re[0]&&n<=re[0]+ae[0]&&r>=re[1]&&r<=re[1]+ae[1])return oe[ue]}return-1}function createBackgroundShape(g,n,r){if(isCoordinateSystemType(r,"cartesian2d")){var $=n,L=r.getArea();return{x:g?$.x:L.x,y:g?L.y:$.y,width:g?$.width:L.width,height:g?L.height:$.height}}else{var L=r.getArea(),V=n;return{cx:L.cx,cy:L.cy,r0:g?L.r0:V.r0,r:g?L.r:V.r,startAngle:g?V.startAngle:0,endAngle:g?V.endAngle:Math.PI*2}}}function createBackgroundEl(g,n,r){var $=g.type==="polar"?Sector$1:Rect$3;return new $({shape:createBackgroundShape(n,r,g),silent:!0,z2:0})}const BarView$1=BarView;function install$R(g){g.registerChartView(BarView$1),g.registerSeriesModel(BarSeries),g.registerLayout(g.PRIORITY.VISUAL.LAYOUT,curry$1(layout$4,"bar")),g.registerLayout(g.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("bar")),g.registerProcessor(g.PRIORITY.PROCESSOR.STATISTIC,dataSample("bar")),g.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(n,r){var $=n.componentType||"series";r.eachComponent({mainType:$,query:n},function(L){n.sortInfo&&L.axis.setCategorySortInfo(n.sortInfo)})})}var PI2=Math.PI*2,RADIAN$2=Math.PI/180;function getViewRect$5(g,n){return getLayoutRect(g.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getBasicPieLayout(g,n){var r=getViewRect$5(g,n),$=g.get("center"),L=g.get("radius");isArray$6(L)||(L=[0,L]);var V=parsePercent(r.width,n.getWidth()),oe=parsePercent(r.height,n.getHeight()),re=Math.min(V,oe),ae=parsePercent(L[0],re/2),le=parsePercent(L[1],re/2),ue,de,pe=g.coordinateSystem;if(pe){var he=pe.dataToPoint($);ue=he[0]||0,de=he[1]||0}else isArray$6($)||($=[$,$]),ue=parsePercent($[0],V)+r.x,de=parsePercent($[1],oe)+r.y;return{cx:ue,cy:de,r0:ae,r:le}}function pieLayout(g,n,r){n.eachSeriesByType(g,function($){var L=$.getData(),V=L.mapDimension("value"),oe=getViewRect$5($,r),re=getBasicPieLayout($,r),ae=re.cx,le=re.cy,ue=re.r,de=re.r0,pe=-$.get("startAngle")*RADIAN$2,he=$.get("minAngle")*RADIAN$2,_e=0;L.each(V,function(kt){!isNaN(kt)&&_e++});var Oe=L.getSum(V),xe=Math.PI/(Oe||_e)*2,$e=$.get("clockwise"),Ie=$.get("roseType"),Ne=$.get("stillShowZeroSum"),ze=L.getDataExtent(V);ze[0]=0;var Ue=PI2,Fe=0,qe=pe,Et=$e?1:-1;if(L.setLayout({viewRect:oe,r:ue}),L.each(V,function(kt,Dt){var jt;if(isNaN(kt)){L.setItemLayout(Dt,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:$e,cx:ae,cy:le,r0:de,r:Ie?NaN:ue});return}Ie!=="area"?jt=Oe===0&&Ne?xe:kt*xe:jt=PI2/_e,jt<he?(jt=he,Ue-=he):Fe+=kt;var Lt=qe+Et*jt;L.setItemLayout(Dt,{angle:jt,startAngle:qe,endAngle:Lt,clockwise:$e,cx:ae,cy:le,r0:de,r:Ie?linearMap$2(kt,ze,[de,ue]):ue}),qe=Lt}),Ue<PI2&&_e)if(Ue<=.001){var At=PI2/_e;L.each(V,function(kt,Dt){if(!isNaN(kt)){var jt=L.getItemLayout(Dt);jt.angle=At,jt.startAngle=pe+Et*Dt*At,jt.endAngle=pe+Et*(Dt+1)*At}})}else xe=Ue/Fe,qe=pe,L.each(V,function(kt,Dt){if(!isNaN(kt)){var jt=L.getItemLayout(Dt),Lt=jt.angle===he?he:kt*xe;jt.startAngle=qe,jt.endAngle=qe+Et*Lt,qe+=Et*Lt}})})}function dataFilter$1(g){return{seriesType:g,reset:function(n,r){var $=r.findComponents({mainType:"legend"});if(!(!$||!$.length)){var L=n.getData();L.filterSelf(function(V){for(var oe=L.getName(V),re=0;re<$.length;re++)if(!$[re].isSelected(oe))return!1;return!0})}}}}var RADIAN$1=Math.PI/180;function adjustSingleSide(g,n,r,$,L,V,oe,re,ae,le){if(g.length<2)return;function ue(Oe){for(var xe=Oe.rB,$e=xe*xe,Ie=0;Ie<Oe.list.length;Ie++){var Ne=Oe.list[Ie],ze=Math.abs(Ne.label.y-r),Ue=$+Ne.len,Fe=Ue*Ue,qe=Math.sqrt((1-Math.abs(ze*ze/$e))*Fe),Et=n+(qe+Ne.len2)*L,At=Et-Ne.label.x,kt=Ne.targetTextWidth-At*L;constrainTextWidth(Ne,kt,!0),Ne.label.x=Et}}function de(Oe){for(var xe={list:[],maxY:0},$e={list:[],maxY:0},Ie=0;Ie<Oe.length;Ie++)if(Oe[Ie].labelAlignTo==="none"){var Ne=Oe[Ie],ze=Ne.label.y>r?$e:xe,Ue=Math.abs(Ne.label.y-r);if(Ue>=ze.maxY){var Fe=Ne.label.x-n-Ne.len2*L,qe=$+Ne.len,Et=Math.abs(Fe)<qe?Math.sqrt(Ue*Ue/(1-Fe*Fe/qe/qe)):qe;ze.rB=Et,ze.maxY=Ue}ze.list.push(Ne)}ue(xe),ue($e)}for(var pe=g.length,he=0;he<pe;he++)if(g[he].position==="outer"&&g[he].labelAlignTo==="labelLine"){var _e=g[he].label.x-le;g[he].linePoints[1][0]+=_e,g[he].label.x=le}shiftLayoutOnY(g,ae,ae+oe)&&de(g)}function avoidOverlap(g,n,r,$,L,V,oe,re){for(var ae=[],le=[],ue=Number.MAX_VALUE,de=-Number.MAX_VALUE,pe=0;pe<g.length;pe++){var he=g[pe].label;isPositionCenter(g[pe])||(he.x<n?(ue=Math.min(ue,he.x),ae.push(g[pe])):(de=Math.max(de,he.x),le.push(g[pe])))}for(var pe=0;pe<g.length;pe++){var _e=g[pe];if(!isPositionCenter(_e)&&_e.linePoints){if(_e.labelStyleWidth!=null)continue;var he=_e.label,Oe=_e.linePoints,xe=void 0;_e.labelAlignTo==="edge"?he.x<n?xe=Oe[2][0]-_e.labelDistance-oe-_e.edgeDistance:xe=oe+L-_e.edgeDistance-Oe[2][0]-_e.labelDistance:_e.labelAlignTo==="labelLine"?he.x<n?xe=ue-oe-_e.bleedMargin:xe=oe+L-de-_e.bleedMargin:he.x<n?xe=he.x-oe-_e.bleedMargin:xe=oe+L-he.x-_e.bleedMargin,_e.targetTextWidth=xe,constrainTextWidth(_e,xe)}}adjustSingleSide(le,n,r,$,1,L,V,oe,re,de),adjustSingleSide(ae,n,r,$,-1,L,V,oe,re,ue);for(var pe=0;pe<g.length;pe++){var _e=g[pe];if(!isPositionCenter(_e)&&_e.linePoints){var he=_e.label,Oe=_e.linePoints,$e=_e.labelAlignTo==="edge",Ie=he.style.padding,Ne=Ie?Ie[1]+Ie[3]:0,ze=he.style.backgroundColor?0:Ne,Ue=_e.rect.width+ze,Fe=Oe[1][0]-Oe[2][0];$e?he.x<n?Oe[2][0]=oe+_e.edgeDistance+Ue+_e.labelDistance:Oe[2][0]=oe+L-_e.edgeDistance-Ue-_e.labelDistance:(he.x<n?Oe[2][0]=he.x+_e.labelDistance:Oe[2][0]=he.x-_e.labelDistance,Oe[1][0]=Oe[2][0]+Fe),Oe[1][1]=Oe[2][1]=he.y}}}function constrainTextWidth(g,n,r){if(r===void 0&&(r=!1),g.labelStyleWidth==null){var $=g.label,L=$.style,V=g.rect,oe=L.backgroundColor,re=L.padding,ae=re?re[1]+re[3]:0,le=L.overflow,ue=V.width+(oe?0:ae);if(n<ue||r){var de=V.height;if(le&&le.match("break")){$.setStyle("backgroundColor",null),$.setStyle("width",n-ae);var pe=$.getBoundingRect();$.setStyle("width",Math.ceil(pe.width)),$.setStyle("backgroundColor",oe)}else{var he=n-ae,_e=n<ue?he:r?he>g.unconstrainedWidth?null:he:null;$.setStyle("width",_e)}var Oe=$.getBoundingRect();V.width=Oe.width;var xe=($.style.margin||0)+2.1;V.height=Oe.height+xe,V.y-=(V.height-de)/2}}}function isPositionCenter(g){return g.position==="center"}function pieLabelLayout(g){var n=g.getData(),r=[],$,L,V=!1,oe=(g.get("minShowLabelAngle")||0)*RADIAN$1,re=n.getLayout("viewRect"),ae=n.getLayout("r"),le=re.width,ue=re.x,de=re.y,pe=re.height;function he(Fe){Fe.ignore=!0}function _e(Fe){if(!Fe.ignore)return!0;for(var qe in Fe.states)if(Fe.states[qe].ignore===!1)return!0;return!1}n.each(function(Fe){var qe=n.getItemGraphicEl(Fe),Et=qe.shape,At=qe.getTextContent(),kt=qe.getTextGuideLine(),Dt=n.getItemModel(Fe),jt=Dt.getModel("label"),Lt=jt.get("position")||Dt.get(["emphasis","label","position"]),hn=jt.get("distanceToLabelLine"),Sn=jt.get("alignTo"),On=parsePercent(jt.get("edgeDistance"),le),_n=jt.get("bleedMargin"),xn=Dt.getModel("labelLine"),bn=xn.get("length");bn=parsePercent(bn,le);var Tn=xn.get("length2");if(Tn=parsePercent(Tn,le),Math.abs(Et.endAngle-Et.startAngle)<oe){each$f(At.states,he),At.ignore=!0,kt&&(each$f(kt.states,he),kt.ignore=!0);return}if(_e(At)){var An=(Et.startAngle+Et.endAngle)/2,En=Math.cos(An),Ln=Math.sin(An),Wn,Mn,Fn,In;$=Et.cx,L=Et.cy;var Nn=Lt==="inside"||Lt==="inner";if(Lt==="center")Wn=Et.cx,Mn=Et.cy,In="center";else{var Vn=(Nn?(Et.r+Et.r0)/2*En:Et.r*En)+$,Un=(Nn?(Et.r+Et.r0)/2*Ln:Et.r*Ln)+L;if(Wn=Vn+En*3,Mn=Un+Ln*3,!Nn){var Gn=Vn+En*(bn+ae-Et.r),$n=Un+Ln*(bn+ae-Et.r),kn=Gn+(En<0?-1:1)*Tn,Bn=$n;Sn==="edge"?Wn=En<0?ue+On:ue+le-On:Wn=kn+(En<0?-hn:hn),Mn=Bn,Fn=[[Vn,Un],[Gn,$n],[kn,Bn]]}In=Nn?"center":Sn==="edge"?En>0?"right":"left":En>0?"left":"right"}var Yn=Math.PI,Jn=0,Kn=jt.get("rotate");if(isNumber$3(Kn))Jn=Kn*(Yn/180);else if(Lt==="center")Jn=0;else if(Kn==="radial"||Kn===!0){var po=En<0?-An+Yn:-An;Jn=po}else if(Kn==="tangential"&&Lt!=="outside"&&Lt!=="outer"){var oo=Math.atan2(En,Ln);oo<0&&(oo=Yn*2+oo);var lo=Ln>0;lo&&(oo=Yn+oo),Jn=oo-Yn}if(V=!!Jn,At.x=Wn,At.y=Mn,At.rotation=Jn,At.setStyle({verticalAlign:"middle"}),Nn){At.setStyle({align:In});var no=At.states.select;no&&(no.x+=At.x,no.y+=At.y)}else{var vo=At.getBoundingRect().clone();vo.applyTransform(At.getComputedTransform());var Zn=(At.style.margin||0)+2.1;vo.y-=Zn/2,vo.height+=Zn,r.push({label:At,labelLine:kt,position:Lt,len:bn,len2:Tn,minTurnAngle:xn.get("minTurnAngle"),maxSurfaceAngle:xn.get("maxSurfaceAngle"),surfaceNormal:new Point$1(En,Ln),linePoints:Fn,textAlign:In,labelDistance:hn,labelAlignTo:Sn,edgeDistance:On,bleedMargin:_n,rect:vo,unconstrainedWidth:vo.width,labelStyleWidth:At.style.width})}qe.setTextConfig({inside:Nn})}}),!V&&g.get("avoidLabelOverlap")&&avoidOverlap(r,$,L,ae,le,pe,ue,de);for(var Oe=0;Oe<r.length;Oe++){var xe=r[Oe],$e=xe.label,Ie=xe.labelLine,Ne=isNaN($e.x)||isNaN($e.y);if($e){$e.setStyle({align:xe.textAlign}),Ne&&(each$f($e.states,he),$e.ignore=!0);var ze=$e.states.select;ze&&(ze.x+=$e.x,ze.y+=$e.y)}if(Ie){var Ue=xe.linePoints;Ne||!Ue?(each$f(Ie.states,he),Ie.ignore=!0):(limitTurnAngle(Ue,xe.minTurnAngle),limitSurfaceAngle(Ue,xe.surfaceNormal,xe.maxSurfaceAngle),Ie.setShape({points:Ue}),$e.__hostTarget.textGuideLineConfig={anchor:new Point$1(Ue[0][0],Ue[0][1])})}}}var PiePiece=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this)||this;V.z2=2;var oe=new ZRText$1;return V.setTextContent(oe),V.updateData(r,$,L,!0),V}return n.prototype.updateData=function(r,$,L,V){var oe=this,re=r.hostModel,ae=r.getItemModel($),le=ae.getModel("emphasis"),ue=r.getItemLayout($),de=extend$3(getSectorCornerRadius(ae.getModel("itemStyle"),ue,!0),ue);if(isNaN(de.startAngle)){oe.setShape(de);return}if(V){oe.setShape(de);var pe=re.getShallow("animationType");re.ecModel.ssr?(initProps(oe,{scaleX:0,scaleY:0},re,{dataIndex:$,isFrom:!0}),oe.originX=de.cx,oe.originY=de.cy):pe==="scale"?(oe.shape.r=ue.r0,initProps(oe,{shape:{r:ue.r}},re,$)):L!=null?(oe.setShape({startAngle:L,endAngle:L}),initProps(oe,{shape:{startAngle:ue.startAngle,endAngle:ue.endAngle}},re,$)):(oe.shape.endAngle=ue.startAngle,updateProps$1(oe,{shape:{endAngle:ue.endAngle}},re,$))}else saveOldStyle(oe),updateProps$1(oe,{shape:de},re,$);oe.useStyle(r.getItemVisual($,"style")),setStatesStylesFromModel(oe,ae);var he=(ue.startAngle+ue.endAngle)/2,_e=re.get("selectedOffset"),Oe=Math.cos(he)*_e,xe=Math.sin(he)*_e,$e=ae.getShallow("cursor");$e&&oe.attr("cursor",$e),this._updateLabel(re,r,$),oe.ensureState("emphasis").shape=extend$3({r:ue.r+(le.get("scale")&&le.get("scaleSize")||0)},getSectorCornerRadius(le.getModel("itemStyle"),ue)),extend$3(oe.ensureState("select"),{x:Oe,y:xe,shape:getSectorCornerRadius(ae.getModel(["select","itemStyle"]),ue)}),extend$3(oe.ensureState("blur"),{shape:getSectorCornerRadius(ae.getModel(["blur","itemStyle"]),ue)});var Ie=oe.getTextGuideLine(),Ne=oe.getTextContent();Ie&&extend$3(Ie.ensureState("select"),{x:Oe,y:xe}),extend$3(Ne.ensureState("select"),{x:Oe,y:xe}),toggleHoverEmphasis(this,le.get("focus"),le.get("blurScope"),le.get("disabled"))},n.prototype._updateLabel=function(r,$,L){var V=this,oe=$.getItemModel(L),re=oe.getModel("labelLine"),ae=$.getItemVisual(L,"style"),le=ae&&ae.fill,ue=ae&&ae.opacity;setLabelStyle(V,getLabelStatesModels(oe),{labelFetcher:$.hostModel,labelDataIndex:L,inheritColor:le,defaultOpacity:ue,defaultText:r.getFormattedLabel(L,"normal")||$.getName(L)});var de=V.getTextContent();V.setTextConfig({position:null,rotation:null}),de.attr({z2:10});var pe=r.get(["label","position"]);if(pe!=="outside"&&pe!=="outer")V.removeTextGuideLine();else{var he=this.getTextGuideLine();he||(he=new Polyline$3,this.setTextGuideLine(he)),setLabelLineStyle(this,getLabelLineStatesModels(oe),{stroke:le,opacity:retrieve3(re.get(["lineStyle","opacity"]),ue,1)})}},n}(Sector$1),PieView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return n.prototype.render=function(r,$,L,V){var oe=r.getData(),re=this._data,ae=this.group,le;if(!re&&oe.count()>0){for(var ue=oe.getItemLayout(0),de=1;isNaN(ue&&ue.startAngle)&&de<oe.count();++de)ue=oe.getItemLayout(de);ue&&(le=ue.startAngle)}if(this._emptyCircleSector&&ae.remove(this._emptyCircleSector),oe.count()===0&&r.get("showEmptyCircle")){var pe=new Sector$1({shape:getBasicPieLayout(r,L)});pe.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=pe,ae.add(pe)}oe.diff(re).add(function(he){var _e=new PiePiece(oe,he,le);oe.setItemGraphicEl(he,_e),ae.add(_e)}).update(function(he,_e){var Oe=re.getItemGraphicEl(_e);Oe.updateData(oe,he,le),Oe.off("click"),ae.add(Oe),oe.setItemGraphicEl(he,Oe)}).remove(function(he){var _e=re.getItemGraphicEl(he);removeElementWithFadeOut(_e,r,he)}).execute(),pieLabelLayout(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=oe)},n.prototype.dispose=function(){},n.prototype.containPoint=function(r,$){var L=$.getData(),V=L.getItemLayout(0);if(V){var oe=r[0]-V.cx,re=r[1]-V.cy,ae=Math.sqrt(oe*oe+re*re);return ae<=V.r&&ae>=V.r0}},n.type="pie",n}(ChartView$1);const PieView$1=PieView;function createSeriesDataSimply(g,n,r){n=isArray$6(n)&&{coordDimensions:n}||extend$3({encodeDefine:g.getEncode()},n);var $=g.getSource(),L=prepareSeriesDataSchema($,n).dimensions,V=new SeriesData$1(L,g);return V.initData($,r),V}var LegendVisualProvider=function(){function g(n,r){this._getDataWithEncodedVisual=n,this._getRawData=r}return g.prototype.getAllNames=function(){var n=this._getRawData();return n.mapArray(n.getName)},g.prototype.containName=function(n){var r=this._getRawData();return r.indexOfName(n)>=0},g.prototype.indexOfName=function(n){var r=this._getDataWithEncodedVisual();return r.indexOfName(n)},g.prototype.getItemVisual=function(n,r){var $=this._getDataWithEncodedVisual();return $.getItemVisual(n,r)},g}();const LegendVisualProvider$1=LegendVisualProvider;var innerData=makeInner(),PieSeriesModel=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.init=function(r){g.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$3(this.getData,this),bind$3(this.getRawData,this)),this._defaultLabelLine(r)},n.prototype.mergeOption=function(){g.prototype.mergeOption.apply(this,arguments)},n.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},n.prototype.getDataParams=function(r){var $=this.getData(),L=innerData($),V=L.seats;if(!V){var oe=[];$.each($.mapDimension("value"),function(ae){oe.push(ae)}),V=L.seats=getPercentSeats(oe,$.hostModel.get("percentPrecision"))}var re=g.prototype.getDataParams.call(this,r);return re.percent=V[r]||0,re.$vars.push("percent"),re},n.prototype._defaultLabelLine=function(r){defaultEmphasis(r,"labelLine",["show"]);var $=r.labelLine,L=r.emphasis.labelLine;$.show=$.show&&r.label.show,L.show=L.show&&r.emphasis.label.show},n.type="series.pie",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},n}(SeriesModel$1);const PieSeriesModel$1=PieSeriesModel;function negativeDataFilter(g){return{seriesType:g,reset:function(n,r){var $=n.getData();$.filterSelf(function(L){var V=$.mapDimension("value"),oe=$.get(V,L);return!(isNumber$3(oe)&&!isNaN(oe)&&oe<0)})}}}function install$Q(g){g.registerChartView(PieView$1),g.registerSeriesModel(PieSeriesModel$1),createLegacyDataSelectAction("pie",g.registerAction),g.registerLayout(curry$1(pieLayout,"pie")),g.registerProcessor(dataFilter$1("pie")),g.registerProcessor(negativeDataFilter("pie"))}var ScatterSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(r,$){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.getProgressive=function(){var r=this.option.progressive;return r!=null?r:this.option.large?5e3:this.get("progressive")},n.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r!=null?r:this.option.large?1e4:this.get("progressiveThreshold")},n.prototype.brushSelector=function(r,$,L){return L.point($.getItemLayout(r))},n.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},n.type="series.scatter",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},n}(SeriesModel$1);const ScatterSeriesModel$1=ScatterSeriesModel;var BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=function(){function g(){}return g}(),LargeSymbolPath=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $._off=0,$.hoverDataIdx=-1,$}return n.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.buildPath=function(r,$){var L=$.points,V=$.size,oe=this.symbolProxy,re=oe.shape,ae=r.getContext?r.getContext():r,le=ae&&V[0]<BOOST_SIZE_THRESHOLD,ue=this.softClipShape,de;if(le){this._ctx=ae;return}for(this._ctx=null,de=this._off;de<L.length;){var pe=L[de++],he=L[de++];isNaN(pe)||isNaN(he)||ue&&!ue.contain(pe,he)||(re.x=pe-V[0]/2,re.y=he-V[1]/2,re.width=V[0],re.height=V[1],oe.buildPath(r,re,!0))}this.incremental&&(this._off=de,this.notClear=!0)},n.prototype.afterBrush=function(){var r=this.shape,$=r.points,L=r.size,V=this._ctx,oe=this.softClipShape,re;if(V){for(re=this._off;re<$.length;){var ae=$[re++],le=$[re++];isNaN(ae)||isNaN(le)||oe&&!oe.contain(ae,le)||V.fillRect(ae-L[0]/2,le-L[1]/2,L[0],L[1])}this.incremental&&(this._off=re,this.notClear=!0)}},n.prototype.findDataIndex=function(r,$){for(var L=this.shape,V=L.points,oe=L.size,re=Math.max(oe[0],4),ae=Math.max(oe[1],4),le=V.length/2-1;le>=0;le--){var ue=le*2,de=V[ue]-re/2,pe=V[ue+1]-ae/2;if(r>=de&&$>=pe&&r<=de+re&&$<=pe+ae)return le}return-1},n.prototype.contain=function(r,$){var L=this.transformCoordToLocal(r,$),V=this.getBoundingRect();if(r=L[0],$=L[1],V.contain(r,$)){var oe=this.hoverDataIdx=this.findDataIndex(r,$);return oe>=0}return this.hoverDataIdx=-1,!1},n.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var $=this.shape,L=$.points,V=$.size,oe=V[0],re=V[1],ae=1/0,le=1/0,ue=-1/0,de=-1/0,pe=0;pe<L.length;){var he=L[pe++],_e=L[pe++];ae=Math.min(he,ae),ue=Math.max(he,ue),le=Math.min(_e,le),de=Math.max(_e,de)}r=this._rect=new BoundingRect$1(ae-oe/2,le-re/2,ue-ae+oe,de-le+re)}return r},n}(Path$1),LargeSymbolDraw=function(){function g(){this.group=new Group$4}return g.prototype.updateData=function(n,r){this._clear();var $=this._create();$.setShape({points:n.getLayout("points")}),this._setCommon($,n,r)},g.prototype.updateLayout=function(n){var r=n.getLayout("points");this.group.eachChild(function($){if($.startIndex!=null){var L=($.endIndex-$.startIndex)*2,V=$.startIndex*4*2;r=new Float32Array(r.buffer,V,L)}$.setShape("points",r),$.reset()})},g.prototype.incrementalPrepareUpdate=function(n){this._clear()},g.prototype.incrementalUpdate=function(n,r,$){var L=this._newAdded[0],V=r.getLayout("points"),oe=L&&L.shape.points;if(oe&&oe.length<2e4){var re=oe.length,ae=new Float32Array(re+V.length);ae.set(oe),ae.set(V,re),L.endIndex=n.end,L.setShape({points:ae})}else{this._newAdded=[];var le=this._create();le.startIndex=n.start,le.endIndex=n.end,le.incremental=!0,le.setShape({points:V}),this._setCommon(le,r,$)}},g.prototype.eachRendered=function(n){this._newAdded[0]&&n(this._newAdded[0])},g.prototype._create=function(){var n=new LargeSymbolPath({cursor:"default"});return n.ignoreCoarsePointer=!0,this.group.add(n),this._newAdded.push(n),n},g.prototype._setCommon=function(n,r,$){var L=r.hostModel;$=$||{};var V=r.getVisual("symbolSize");n.setShape("size",V instanceof Array?V:[V,V]),n.softClipShape=$.clipShape||null,n.symbolProxy=createSymbol$1(r.getVisual("symbol"),0,0,0,0),n.setColor=n.symbolProxy.setColor;var oe=n.shape.size[0]<BOOST_SIZE_THRESHOLD;n.useStyle(L.getModel("itemStyle").getItemStyle(oe?["color","shadowBlur","shadowColor"]:["color"]));var re=r.getVisual("style"),ae=re&&re.fill;ae&&n.setColor(ae);var le=getECData(n);le.seriesIndex=L.seriesIndex,n.on("mousemove",function(ue){le.dataIndex=null;var de=n.hoverDataIdx;de>=0&&(le.dataIndex=de+(n.startIndex||0))})},g.prototype.remove=function(){this._clear()},g.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},g}();const LargeSymbolDraw$1=LargeSymbolDraw;var ScatterView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=r.getData(),oe=this._updateSymbolDraw(V,r);oe.updateData(V,{clipShape:this._getClipShape(r)}),this._finished=!0},n.prototype.incrementalPrepareRender=function(r,$,L){var V=r.getData(),oe=this._updateSymbolDraw(V,r);oe.incrementalPrepareUpdate(V),this._finished=!1},n.prototype.incrementalRender=function(r,$,L){this._symbolDraw.incrementalUpdate(r,$.getData(),{clipShape:this._getClipShape($)}),this._finished=r.end===$.getData().count()},n.prototype.updateTransform=function(r,$,L){var V=r.getData();if(this.group.dirty(),!this._finished||V.count()>1e4)return{update:!0};var oe=pointsLayout("").reset(r,$,L);oe.progress&&oe.progress({start:0,end:V.count(),count:V.count()},V),this._symbolDraw.updateLayout(V)},n.prototype.eachRendered=function(r){this._symbolDraw&&this._symbolDraw.eachRendered(r)},n.prototype._getClipShape=function(r){var $=r.coordinateSystem,L=$&&$.getArea&&$.getArea();return r.get("clip",!0)?L:null},n.prototype._updateSymbolDraw=function(r,$){var L=this._symbolDraw,V=$.pipelineContext,oe=V.large;return(!L||oe!==this._isLargeDraw)&&(L&&L.remove(),L=this._symbolDraw=oe?new LargeSymbolDraw$1:new SymbolDraw$1,this._isLargeDraw=oe,this.group.removeAll()),this.group.add(L.group),L},n.prototype.remove=function(r,$){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},n.prototype.dispose=function(){},n.type="scatter",n}(ChartView$1);const ScatterView$1=ScatterView;var GridModel=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.type="grid",n.dependencies=["xAxis","yAxis"],n.layoutMode="box",n.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},n}(ComponentModel$1);const GridModel$1=GridModel;var CartesianAxisModel=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},n.type="cartesian2dAxis",n}(ComponentModel$1);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption$1={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge$4({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption$1),valueAxis=merge$4({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption$1),timeAxis=merge$4({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults$5({logBase:10},valueAxis);const axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis};var AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(g,n,r,$){each$f(AXIS_TYPES,function(L,V){var oe=merge$4(merge$4({},axisDefault[V],!0),$,!0),re=function(ae){__extends(le,ae);function le(){var ue=ae!==null&&ae.apply(this,arguments)||this;return ue.type=n+"Axis."+V,ue}return le.prototype.mergeDefaultAndTheme=function(ue,de){var pe=fetchLayoutMode(this),he=pe?getLayoutParams(ue):{},_e=de.getTheme();merge$4(ue,_e.get(V+"Axis")),merge$4(ue,this.getDefaultOption()),ue.type=getAxisType(ue),pe&&mergeLayoutParam(ue,he,pe)},le.prototype.optionUpdated=function(){var ue=this.option;ue.type==="category"&&(this.__ordinalMeta=OrdinalMeta$1.createByAxisModel(this))},le.prototype.getCategories=function(ue){var de=this.option;if(de.type==="category")return ue?de.data:this.__ordinalMeta.categories},le.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},le.type=n+"Axis."+V,le.defaultOption=oe,le}(r);g.registerComponentModel(re)}),g.registerSubTypeDefaulter(n+"Axis",getAxisType)}function getAxisType(g){return g.type||(g.data?"category":"value")}var Cartesian=function(){function g(n){this.type="cartesian",this._dimList=[],this._axes={},this.name=n||""}return g.prototype.getAxis=function(n){return this._axes[n]},g.prototype.getAxes=function(){return map$2(this._dimList,function(n){return this._axes[n]},this)},g.prototype.getAxesByScale=function(n){return n=n.toLowerCase(),filter(this.getAxes(),function(r){return r.scale.type===n})},g.prototype.addAxis=function(n){var r=n.dim;this._axes[r]=n,this._dimList.push(r)},g}();const Cartesian$1=Cartesian;var cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(g){return g.type==="interval"||g.type==="time"}var Cartesian2D=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=cartesian2DDimensions,r}return n.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,$=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(r)||!canCalculateAffineTransform($))){var L=r.getExtent(),V=$.getExtent(),oe=this.dataToPoint([L[0],V[0]]),re=this.dataToPoint([L[1],V[1]]),ae=L[1]-L[0],le=V[1]-V[0];if(!(!ae||!le)){var ue=(re[0]-oe[0])/ae,de=(re[1]-oe[1])/le,pe=oe[0]-L[0]*ue,he=oe[1]-V[0]*de,_e=this._transform=[ue,0,0,de,pe,he];this._invTransform=invert([],_e)}}},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},n.prototype.containPoint=function(r){var $=this.getAxis("x"),L=this.getAxis("y");return $.contain($.toLocalCoord(r[0]))&&L.contain(L.toLocalCoord(r[1]))},n.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},n.prototype.containZone=function(r,$){var L=this.dataToPoint(r),V=this.dataToPoint($),oe=this.getArea(),re=new BoundingRect$1(L[0],L[1],V[0]-L[0],V[1]-L[1]);return oe.intersect(re)},n.prototype.dataToPoint=function(r,$,L){L=L||[];var V=r[0],oe=r[1];if(this._transform&&V!=null&&isFinite(V)&&oe!=null&&isFinite(oe))return applyTransform$1(L,r,this._transform);var re=this.getAxis("x"),ae=this.getAxis("y");return L[0]=re.toGlobalCoord(re.dataToCoord(V,$)),L[1]=ae.toGlobalCoord(ae.dataToCoord(oe,$)),L},n.prototype.clampData=function(r,$){var L=this.getAxis("x").scale,V=this.getAxis("y").scale,oe=L.getExtent(),re=V.getExtent(),ae=L.parse(r[0]),le=V.parse(r[1]);return $=$||[],$[0]=Math.min(Math.max(Math.min(oe[0],oe[1]),ae),Math.max(oe[0],oe[1])),$[1]=Math.min(Math.max(Math.min(re[0],re[1]),le),Math.max(re[0],re[1])),$},n.prototype.pointToData=function(r,$){var L=[];if(this._invTransform)return applyTransform$1(L,r,this._invTransform);var V=this.getAxis("x"),oe=this.getAxis("y");return L[0]=V.coordToData(V.toLocalCoord(r[0]),$),L[1]=oe.coordToData(oe.toLocalCoord(r[1]),$),L},n.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},n.prototype.getArea=function(){var r=this.getAxis("x").getGlobalExtent(),$=this.getAxis("y").getGlobalExtent(),L=Math.min(r[0],r[1]),V=Math.min($[0],$[1]),oe=Math.max(r[0],r[1])-L,re=Math.max($[0],$[1])-V;return new BoundingRect$1(L,V,oe,re)},n}(Cartesian$1),Axis2D=function(g){__extends(n,g);function n(r,$,L,V,oe){var re=g.call(this,r,$,L)||this;return re.index=0,re.type=V||"value",re.position=oe||"bottom",re}return n.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},n.prototype.getGlobalExtent=function(r){var $=this.getExtent();return $[0]=this.toGlobalCoord($[0]),$[1]=this.toGlobalCoord($[1]),r&&$[0]>$[1]&&$.reverse(),$},n.prototype.pointToData=function(r,$){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),$)},n.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},n}(Axis$1);const Axis2D$1=Axis2D;function layout$3(g,n,r){r=r||{};var $=g.coordinateSystem,L=n.axis,V={},oe=L.getAxesOnZeroOf()[0],re=L.position,ae=oe?"onZero":re,le=L.dim,ue=$.getRect(),de=[ue.x,ue.x+ue.width,ue.y,ue.y+ue.height],pe={left:0,right:1,top:0,bottom:1,onZero:2},he=n.get("offset")||0,_e=le==="x"?[de[2]-he,de[3]+he]:[de[0]-he,de[1]+he];if(oe){var Oe=oe.toGlobalCoord(oe.dataToCoord(0));_e[pe.onZero]=Math.max(Math.min(Oe,_e[1]),_e[0])}V.position=[le==="y"?_e[pe[ae]]:de[0],le==="x"?_e[pe[ae]]:de[3]],V.rotation=Math.PI/2*(le==="x"?0:1);var xe={top:-1,bottom:1,left:-1,right:1};V.labelDirection=V.tickDirection=V.nameDirection=xe[re],V.labelOffset=oe?_e[pe[re]]-_e[pe.onZero]:0,n.get(["axisTick","inside"])&&(V.tickDirection=-V.tickDirection),retrieve(r.labelInside,n.get(["axisLabel","inside"]))&&(V.labelDirection=-V.labelDirection);var $e=n.get(["axisLabel","rotate"]);return V.labelRotate=ae==="top"?-$e:$e,V.z2=1,V}function isCartesian2DSeries(g){return g.get("coordinateSystem")==="cartesian2d"}function findAxisModels(g){var n={xAxisModel:null,yAxisModel:null};return each$f(n,function(r,$){var L=$.replace(/Model$/,""),V=g.getReferringComponents(L,SINGLE_REFERRING).models[0];n[$]=V}),n}var mathLog=Math.log;function alignScaleTicks(g,n,r){var $=IntervalScale$1.prototype,L=$.getTicks.call(r),V=$.getTicks.call(r,!0),oe=L.length-1,re=$.getInterval.call(r),ae=getScaleExtent(g,n),le=ae.extent,ue=ae.fixMin,de=ae.fixMax;if(g.type==="log"){var pe=mathLog(g.base);le=[mathLog(le[0])/pe,mathLog(le[1])/pe]}g.setExtent(le[0],le[1]),g.calcNiceExtent({splitNumber:oe,fixMin:ue,fixMax:de});var he=$.getExtent.call(g);ue&&(le[0]=he[0]),de&&(le[1]=he[1]);var _e=$.getInterval.call(g),Oe=le[0],xe=le[1];if(ue&&de)_e=(xe-Oe)/oe;else if(ue)for(xe=le[0]+_e*oe;xe<le[1]&&isFinite(xe)&&isFinite(le[1]);)_e=increaseInterval(_e),xe=le[0]+_e*oe;else if(de)for(Oe=le[1]-_e*oe;Oe>le[0]&&isFinite(Oe)&&isFinite(le[0]);)_e=increaseInterval(_e),Oe=le[1]-_e*oe;else{var $e=g.getTicks().length-1;$e>oe&&(_e=increaseInterval(_e));var Ie=_e*oe;xe=Math.ceil(le[1]/_e)*_e,Oe=round$3(xe-Ie),Oe<0&&le[0]>=0?(Oe=0,xe=round$3(Ie)):xe>0&&le[1]<=0&&(xe=0,Oe=-round$3(Ie))}var Ne=(L[0].value-V[0].value)/re,ze=(L[oe].value-V[oe].value)/re;$.setExtent.call(g,Oe+_e*Ne,xe+_e*ze),$.setInterval.call(g,_e),(Ne||ze)&&$.setNiceExtent.call(g,Oe+_e,xe-_e)}var Grid=function(){function g(n,r,$){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(n,r,$),this.model=n}return g.prototype.getRect=function(){return this._rect},g.prototype.update=function(n,r){var $=this._axesMap;this._updateScale(n,this.model);function L(oe){var re,ae=keys$2(oe),le=ae.length;if(le){for(var ue=[],de=le-1;de>=0;de--){var pe=+ae[de],he=oe[pe],_e=he.model,Oe=he.scale;isIntervalOrLogScale(Oe)&&_e.get("alignTicks")&&_e.get("interval")==null?ue.push(he):(niceScaleExtent(Oe,_e),isIntervalOrLogScale(Oe)&&(re=he))}ue.length&&(re||(re=ue.pop(),niceScaleExtent(re.scale,re.model)),each$f(ue,function(xe){alignScaleTicks(xe.scale,xe.model,re.scale)}))}}L($.x),L($.y);var V={};each$f($.x,function(oe){fixAxisOnZero($,"y",oe,V)}),each$f($.y,function(oe){fixAxisOnZero($,"x",oe,V)}),this.resize(this.model,r)},g.prototype.resize=function(n,r,$){var L=n.getBoxLayoutParams(),V=!$&&n.get("containLabel"),oe=getLayoutRect(L,{width:r.getWidth(),height:r.getHeight()});this._rect=oe;var re=this._axesList;ae(),V&&(each$f(re,function(le){if(!le.model.get(["axisLabel","inside"])){var ue=estimateLabelUnionRect(le);if(ue){var de=le.isHorizontal()?"height":"width",pe=le.model.get(["axisLabel","margin"]);oe[de]-=ue[de]+pe,le.position==="top"?oe.y+=ue.height+pe:le.position==="left"&&(oe.x+=ue.width+pe)}}}),ae()),each$f(this._coordsList,function(le){le.calcAffineTransform()});function ae(){each$f(re,function(le){var ue=le.isHorizontal(),de=ue?[0,oe.width]:[0,oe.height],pe=le.inverse?1:0;le.setExtent(de[pe],de[1-pe]),updateAxisTransform(le,ue?oe.x:oe.y)})}},g.prototype.getAxis=function(n,r){var $=this._axesMap[n];if($!=null)return $[r||0]},g.prototype.getAxes=function(){return this._axesList.slice()},g.prototype.getCartesian=function(n,r){if(n!=null&&r!=null){var $="x"+n+"y"+r;return this._coordsMap[$]}isObject$6(n)&&(r=n.yAxisIndex,n=n.xAxisIndex);for(var L=0,V=this._coordsList;L<V.length;L++)if(V[L].getAxis("x").index===n||V[L].getAxis("y").index===r)return V[L]},g.prototype.getCartesians=function(){return this._coordsList.slice()},g.prototype.convertToPixel=function(n,r,$){var L=this._findConvertTarget(r);return L.cartesian?L.cartesian.dataToPoint($):L.axis?L.axis.toGlobalCoord(L.axis.dataToCoord($)):null},g.prototype.convertFromPixel=function(n,r,$){var L=this._findConvertTarget(r);return L.cartesian?L.cartesian.pointToData($):L.axis?L.axis.coordToData(L.axis.toLocalCoord($)):null},g.prototype._findConvertTarget=function(n){var r=n.seriesModel,$=n.xAxisModel||r&&r.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],L=n.yAxisModel||r&&r.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],V=n.gridModel,oe=this._coordsList,re,ae;if(r)re=r.coordinateSystem,indexOf(oe,re)<0&&(re=null);else if($&&L)re=this.getCartesian($.componentIndex,L.componentIndex);else if($)ae=this.getAxis("x",$.componentIndex);else if(L)ae=this.getAxis("y",L.componentIndex);else if(V){var le=V.coordinateSystem;le===this&&(re=this._coordsList[0])}return{cartesian:re,axis:ae}},g.prototype.containPoint=function(n){var r=this._coordsList[0];if(r)return r.containPoint(n)},g.prototype._initCartesian=function(n,r,$){var L=this,V=this,oe={left:!1,right:!1,top:!1,bottom:!1},re={x:{},y:{}},ae={x:0,y:0};if(r.eachComponent("xAxis",le("x"),this),r.eachComponent("yAxis",le("y"),this),!ae.x||!ae.y){this._axesMap={},this._axesList=[];return}this._axesMap=re,each$f(re.x,function(ue,de){each$f(re.y,function(pe,he){var _e="x"+de+"y"+he,Oe=new Cartesian2D(_e);Oe.master=L,Oe.model=n,L._coordsMap[_e]=Oe,L._coordsList.push(Oe),Oe.addAxis(ue),Oe.addAxis(pe)})});function le(ue){return function(de,pe){if(isAxisUsedInTheGrid(de,n)){var he=de.get("position");ue==="x"?he!=="top"&&he!=="bottom"&&(he=oe.bottom?"top":"bottom"):he!=="left"&&he!=="right"&&(he=oe.left?"right":"left"),oe[he]=!0;var _e=new Axis2D$1(ue,createScaleByModel$1(de),[0,0],de.get("type"),he),Oe=_e.type==="category";_e.onBand=Oe&&de.get("boundaryGap"),_e.inverse=de.get("inverse"),de.axis=_e,_e.model=de,_e.grid=V,_e.index=pe,V._axesList.push(_e),re[ue][pe]=_e,ae[ue]++}}}},g.prototype._updateScale=function(n,r){each$f(this._axesList,function(L){if(L.scale.setExtent(1/0,-1/0),L.type==="category"){var V=L.model.get("categorySortInfo");L.scale.setSortInfo(V)}}),n.eachSeries(function(L){if(isCartesian2DSeries(L)){var V=findAxisModels(L),oe=V.xAxisModel,re=V.yAxisModel;if(!isAxisUsedInTheGrid(oe,r)||!isAxisUsedInTheGrid(re,r))return;var ae=this.getCartesian(oe.componentIndex,re.componentIndex),le=L.getData(),ue=ae.getAxis("x"),de=ae.getAxis("y");$(le,ue),$(le,de)}},this);function $(L,V){each$f(getDataDimensionsOnAxis(L,V.dim),function(oe){V.scale.unionExtentFromData(L,oe)})}},g.prototype.getTooltipAxes=function(n){var r=[],$=[];return each$f(this.getCartesians(),function(L){var V=n!=null&&n!=="auto"?L.getAxis(n):L.getBaseAxis(),oe=L.getOtherAxis(V);indexOf(r,V)<0&&r.push(V),indexOf($,oe)<0&&$.push(oe)}),{baseAxes:r,otherAxes:$}},g.create=function(n,r){var $=[];return n.eachComponent("grid",function(L,V){var oe=new g(L,n,r);oe.name="grid_"+V,oe.resize(L,r,!0),L.coordinateSystem=oe,$.push(oe)}),n.eachSeries(function(L){if(isCartesian2DSeries(L)){var V=findAxisModels(L),oe=V.xAxisModel,re=V.yAxisModel,ae=oe.getCoordSysModel(),le=ae.coordinateSystem;L.coordinateSystem=le.getCartesian(oe.componentIndex,re.componentIndex)}}),$},g.dimensions=cartesian2DDimensions,g}();function isAxisUsedInTheGrid(g,n){return g.getCoordSysModel()===n}function fixAxisOnZero(g,n,r,$){r.getAxesOnZeroOf=function(){return V?[V]:[]};var L=g[n],V,oe=r.model,re=oe.get(["axisLine","onZero"]),ae=oe.get(["axisLine","onZeroAxisIndex"]);if(!re)return;if(ae!=null)canOnZeroToAxis(L[ae])&&(V=L[ae]);else for(var le in L)if(L.hasOwnProperty(le)&&canOnZeroToAxis(L[le])&&!$[ue(L[le])]){V=L[le];break}V&&($[ue(V)]=!0);function ue(de){return de.dim+"_"+de.index}}function canOnZeroToAxis(g){return g&&g.type!=="category"&&g.type!=="time"&&ifAxisCrossZero(g)}function updateAxisTransform(g,n){var r=g.getExtent(),$=r[0]+r[1];g.toGlobalCoord=g.dim==="x"?function(L){return L+n}:function(L){return $-L+n},g.toLocalCoord=g.dim==="x"?function(L){return L-n}:function(L){return $-L+n}}const Grid$1=Grid;var PI$3=Math.PI,AxisBuilder=function(){function g(n,r){this.group=new Group$4,this.opt=r,this.axisModel=n,defaults$5(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var $=new Group$4({x:r.position[0],y:r.position[1],rotation:r.rotation});$.updateTransform(),this._transformGroup=$}return g.prototype.hasBuilder=function(n){return!!builders[n]},g.prototype.add=function(n){builders[n](this.opt,this.axisModel,this.group,this._transformGroup)},g.prototype.getGroup=function(){return this.group},g.innerTextLayout=function(n,r,$){var L=remRadian(r-n),V,oe;return isRadianAroundZero(L)?(oe=$>0?"top":"bottom",V="center"):isRadianAroundZero(L-PI$3)?(oe=$>0?"bottom":"top",V="center"):(oe="middle",L>0&&L<PI$3?V=$>0?"right":"left":V=$>0?"left":"right"),{rotation:L,textAlign:V,textVerticalAlign:oe}},g.makeAxisEventDataBase=function(n){var r={componentType:n.mainType,componentIndex:n.componentIndex};return r[n.mainType+"Index"]=n.componentIndex,r},g.isLabelSilent=function(n){var r=n.get("tooltip");return n.get("silent")||!(n.get("triggerEvent")||r&&r.show)},g}(),builders={axisLine:function(g,n,r,$){var L=n.get(["axisLine","show"]);if(L==="auto"&&g.handleAutoShown&&(L=g.handleAutoShown("axisLine")),!!L){var V=n.axis.getExtent(),oe=$.transform,re=[V[0],0],ae=[V[1],0],le=re[0]>ae[0];oe&&(applyTransform$1(re,re,oe),applyTransform$1(ae,ae,oe));var ue=extend$3({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),de=new Line$4({shape:{x1:re[0],y1:re[1],x2:ae[0],y2:ae[1]},style:ue,strokeContainThreshold:g.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(de.shape,de.style.lineWidth),de.anid="line",r.add(de);var pe=n.get(["axisLine","symbol"]);if(pe!=null){var he=n.get(["axisLine","symbolSize"]);isString$3(pe)&&(pe=[pe,pe]),(isString$3(he)||isNumber$3(he))&&(he=[he,he]);var _e=normalizeSymbolOffset(n.get(["axisLine","symbolOffset"])||0,he),Oe=he[0],xe=he[1];each$f([{rotate:g.rotation+Math.PI/2,offset:_e[0],r:0},{rotate:g.rotation-Math.PI/2,offset:_e[1],r:Math.sqrt((re[0]-ae[0])*(re[0]-ae[0])+(re[1]-ae[1])*(re[1]-ae[1]))}],function($e,Ie){if(pe[Ie]!=="none"&&pe[Ie]!=null){var Ne=createSymbol$1(pe[Ie],-Oe/2,-xe/2,Oe,xe,ue.stroke,!0),ze=$e.r+$e.offset,Ue=le?ae:re;Ne.attr({rotation:$e.rotate,x:Ue[0]+ze*Math.cos(g.rotation),y:Ue[1]-ze*Math.sin(g.rotation),silent:!0,z2:11}),r.add(Ne)}})}}},axisTickLabel:function(g,n,r,$){var L=buildAxisMajorTicks(r,$,n,g),V=buildAxisLabel(r,$,n,g);if(fixMinMaxLabelShow(n,V,L),buildAxisMinorTicks(r,$,n,g.tickDirection),n.get(["axisLabel","hideOverlap"])){var oe=prepareLayoutList(map$2(V,function(re){return{label:re,priority:re.z2,defaultAttr:{ignore:re.ignore}}}));hideOverlap(oe)}},axisName:function(g,n,r,$){var L=retrieve(g.axisName,n.get("name"));if(L){var V=n.get("nameLocation"),oe=g.nameDirection,re=n.getModel("nameTextStyle"),ae=n.get("nameGap")||0,le=n.axis.getExtent(),ue=le[0]>le[1]?-1:1,de=[V==="start"?le[0]-ue*ae:V==="end"?le[1]+ue*ae:(le[0]+le[1])/2,isNameLocationCenter(V)?g.labelOffset+oe*ae:0],pe,he=n.get("nameRotate");he!=null&&(he=he*PI$3/180);var _e;isNameLocationCenter(V)?pe=AxisBuilder.innerTextLayout(g.rotation,he!=null?he:g.rotation,oe):(pe=endTextLayout(g.rotation,V,he||0,le),_e=g.axisNameAvailableWidth,_e!=null&&(_e=Math.abs(_e/Math.sin(pe.rotation)),!isFinite(_e)&&(_e=null)));var Oe=re.getFont(),xe=n.get("nameTruncate",!0)||{},$e=xe.ellipsis,Ie=retrieve(g.nameTruncateMaxWidth,xe.maxWidth,_e),Ne=new ZRText$1({x:de[0],y:de[1],rotation:pe.rotation,silent:AxisBuilder.isLabelSilent(n),style:createTextStyle(re,{text:L,font:Oe,overflow:"truncate",width:Ie,ellipsis:$e,fill:re.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:re.get("align")||pe.textAlign,verticalAlign:re.get("verticalAlign")||pe.textVerticalAlign}),z2:1});if(setTooltipConfig({el:Ne,componentModel:n,itemName:L}),Ne.__fullText=L,Ne.anid="name",n.get("triggerEvent")){var ze=AxisBuilder.makeAxisEventDataBase(n);ze.targetType="axisName",ze.name=L,getECData(Ne).eventData=ze}$.add(Ne),Ne.updateTransform(),r.add(Ne),Ne.decomposeTransform()}}};function endTextLayout(g,n,r,$){var L=remRadian(r-g),V,oe,re=$[0]>$[1],ae=n==="start"&&!re||n!=="start"&&re;return isRadianAroundZero(L-PI$3/2)?(oe=ae?"bottom":"top",V="center"):isRadianAroundZero(L-PI$3*1.5)?(oe=ae?"top":"bottom",V="center"):(oe="middle",L<PI$3*1.5&&L>PI$3/2?V=ae?"left":"right":V=ae?"right":"left"),{rotation:L,textAlign:V,textVerticalAlign:oe}}function fixMinMaxLabelShow(g,n,r){if(!shouldShowAllLabels(g.axis)){var $=g.get(["axisLabel","showMinLabel"]),L=g.get(["axisLabel","showMaxLabel"]);n=n||[],r=r||[];var V=n[0],oe=n[1],re=n[n.length-1],ae=n[n.length-2],le=r[0],ue=r[1],de=r[r.length-1],pe=r[r.length-2];$===!1?(ignoreEl(V),ignoreEl(le)):isTwoLabelOverlapped(V,oe)&&($?(ignoreEl(oe),ignoreEl(ue)):(ignoreEl(V),ignoreEl(le))),L===!1?(ignoreEl(re),ignoreEl(de)):isTwoLabelOverlapped(ae,re)&&(L?(ignoreEl(ae),ignoreEl(pe)):(ignoreEl(re),ignoreEl(de)))}}function ignoreEl(g){g&&(g.ignore=!0)}function isTwoLabelOverlapped(g,n){var r=g&&g.getBoundingRect().clone(),$=n&&n.getBoundingRect().clone();if(!(!r||!$)){var L=identity$2([]);return rotate(L,L,-g.rotation),r.applyTransform(mul([],L,g.getLocalTransform())),$.applyTransform(mul([],L,n.getLocalTransform())),r.intersect($)}}function isNameLocationCenter(g){return g==="middle"||g==="center"}function createTicks(g,n,r,$,L){for(var V=[],oe=[],re=[],ae=0;ae<g.length;ae++){var le=g[ae].coord;oe[0]=le,oe[1]=0,re[0]=le,re[1]=r,n&&(applyTransform$1(oe,oe,n),applyTransform$1(re,re,n));var ue=new Line$4({shape:{x1:oe[0],y1:oe[1],x2:re[0],y2:re[1]},style:$,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(ue.shape,ue.style.lineWidth),ue.anid=L+"_"+g[ae].tickValue,V.push(ue)}return V}function buildAxisMajorTicks(g,n,r,$){var L=r.axis,V=r.getModel("axisTick"),oe=V.get("show");if(oe==="auto"&&$.handleAutoShown&&(oe=$.handleAutoShown("axisTick")),!(!oe||L.scale.isBlank())){for(var re=V.getModel("lineStyle"),ae=$.tickDirection*V.get("length"),le=L.getTicksCoords(),ue=createTicks(le,n.transform,ae,defaults$5(re.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),de=0;de<ue.length;de++)g.add(ue[de]);return ue}}function buildAxisMinorTicks(g,n,r,$){var L=r.axis,V=r.getModel("minorTick");if(!(!V.get("show")||L.scale.isBlank())){var oe=L.getMinorTicksCoords();if(oe.length)for(var re=V.getModel("lineStyle"),ae=$*V.get("length"),le=defaults$5(re.getLineStyle(),defaults$5(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),ue=0;ue<oe.length;ue++)for(var de=createTicks(oe[ue],n.transform,ae,le,"minorticks_"+ue),pe=0;pe<de.length;pe++)g.add(de[pe])}}function buildAxisLabel(g,n,r,$){var L=r.axis,V=retrieve($.axisLabelShow,r.get(["axisLabel","show"]));if(!(!V||L.scale.isBlank())){var oe=r.getModel("axisLabel"),re=oe.get("margin"),ae=L.getViewLabels(),le=(retrieve($.labelRotate,oe.get("rotate"))||0)*PI$3/180,ue=AxisBuilder.innerTextLayout($.rotation,le,$.labelDirection),de=r.getCategories&&r.getCategories(!0),pe=[],he=AxisBuilder.isLabelSilent(r),_e=r.get("triggerEvent");return each$f(ae,function(Oe,xe){var $e=L.scale.type==="ordinal"?L.scale.getRawOrdinalNumber(Oe.tickValue):Oe.tickValue,Ie=Oe.formattedLabel,Ne=Oe.rawLabel,ze=oe;if(de&&de[$e]){var Ue=de[$e];isObject$6(Ue)&&Ue.textStyle&&(ze=new Model$1(Ue.textStyle,oe,r.ecModel))}var Fe=ze.getTextColor()||r.get(["axisLine","lineStyle","color"]),qe=L.dataToCoord($e),Et=new ZRText$1({x:qe,y:$.labelOffset+$.labelDirection*re,rotation:ue.rotation,silent:he,z2:10+(Oe.level||0),style:createTextStyle(ze,{text:Ie,align:ze.getShallow("align",!0)||ue.textAlign,verticalAlign:ze.getShallow("verticalAlign",!0)||ze.getShallow("baseline",!0)||ue.textVerticalAlign,fill:isFunction$3(Fe)?Fe(L.type==="category"?Ne:L.type==="value"?$e+"":$e,xe):Fe})});if(Et.anid="label_"+$e,_e){var At=AxisBuilder.makeAxisEventDataBase(r);At.targetType="axisLabel",At.value=Ne,At.tickIndex=xe,L.type==="category"&&(At.dataIndex=$e),getECData(Et).eventData=At}n.add(Et),Et.updateTransform(),pe.push(Et),g.add(Et),Et.decomposeTransform()}),pe}}const AxisBuilder$1=AxisBuilder;function collect(g,n){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(r,g,n),r.seriesInvolved&&collectSeriesInfo(r,g),r}function collectAxesInfo(g,n,r){var $=n.getComponent("tooltip"),L=n.getComponent("axisPointer"),V=L.get("link",!0)||[],oe=[];each$f(r.getCoordinateSystems(),function(re){if(!re.axisPointerEnabled)return;var ae=makeKey(re.model),le=g.coordSysAxesInfo[ae]={};g.coordSysMap[ae]=re;var ue=re.model,de=ue.getModel("tooltip",$);if(each$f(re.getAxes(),curry$1(Oe,!1,null)),re.getTooltipAxes&&$&&de.get("show")){var pe=de.get("trigger")==="axis",he=de.get(["axisPointer","type"])==="cross",_e=re.getTooltipAxes(de.get(["axisPointer","axis"]));(pe||he)&&each$f(_e.baseAxes,curry$1(Oe,he?"cross":!0,pe)),he&&each$f(_e.otherAxes,curry$1(Oe,"cross",!1))}function Oe(xe,$e,Ie){var Ne=Ie.model.getModel("axisPointer",L),ze=Ne.get("show");if(!(!ze||ze==="auto"&&!xe&&!isHandleTrigger(Ne))){$e==null&&($e=Ne.get("triggerTooltip")),Ne=xe?makeAxisPointerModel(Ie,de,L,n,xe,$e):Ne;var Ue=Ne.get("snap"),Fe=Ne.get("triggerEmphasis"),qe=makeKey(Ie.model),Et=$e||Ue||Ie.type==="category",At=g.axesInfo[qe]={key:qe,axis:Ie,coordSys:re,axisPointerModel:Ne,triggerTooltip:$e,triggerEmphasis:Fe,involveSeries:Et,snap:Ue,useHandle:isHandleTrigger(Ne),seriesModels:[],linkGroup:null};le[qe]=At,g.seriesInvolved=g.seriesInvolved||Et;var kt=getLinkGroupIndex(V,Ie);if(kt!=null){var Dt=oe[kt]||(oe[kt]={axesInfo:{}});Dt.axesInfo[qe]=At,Dt.mapper=V[kt].mapper,At.linkGroup=Dt}}}})}function makeAxisPointerModel(g,n,r,$,L,V){var oe=n.getModel("axisPointer"),re=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],ae={};each$f(re,function(pe){ae[pe]=clone$5(oe.get(pe))}),ae.snap=g.type!=="category"&&!!V,oe.get("type")==="cross"&&(ae.type="line");var le=ae.label||(ae.label={});if(le.show==null&&(le.show=!1),L==="cross"){var ue=oe.get(["label","show"]);if(le.show=ue!=null?ue:!0,!V){var de=ae.lineStyle=oe.get("crossStyle");de&&defaults$5(le,de.textStyle)}}return g.model.getModel("axisPointer",new Model$1(ae,r,$))}function collectSeriesInfo(g,n){n.eachSeries(function(r){var $=r.coordinateSystem,L=r.get(["tooltip","trigger"],!0),V=r.get(["tooltip","show"],!0);!$||L==="none"||L===!1||L==="item"||V===!1||r.get(["axisPointer","show"],!0)===!1||each$f(g.coordSysAxesInfo[makeKey($.model)],function(oe){var re=oe.axis;$.getAxis(re.dim)===re&&(oe.seriesModels.push(r),oe.seriesDataCount==null&&(oe.seriesDataCount=0),oe.seriesDataCount+=r.getData().count())})})}function getLinkGroupIndex(g,n){for(var r=n.model,$=n.dim,L=0;L<g.length;L++){var V=g[L]||{};if(checkPropInLink(V[$+"AxisId"],r.id)||checkPropInLink(V[$+"AxisIndex"],r.componentIndex)||checkPropInLink(V[$+"AxisName"],r.name))return L}}function checkPropInLink(g,n){return g==="all"||isArray$6(g)&&indexOf(g,n)>=0||g===n}function fixValue(g){var n=getAxisInfo$1(g);if(n){var r=n.axisPointerModel,$=n.axis.scale,L=r.option,V=r.get("status"),oe=r.get("value");oe!=null&&(oe=$.parse(oe));var re=isHandleTrigger(r);V==null&&(L.status=re?"show":"hide");var ae=$.getExtent().slice();ae[0]>ae[1]&&ae.reverse(),(oe==null||oe>ae[1])&&(oe=ae[1]),oe<ae[0]&&(oe=ae[0]),L.value=oe,re&&(L.status=n.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo$1(g){var n=(g.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return n&&n.axesInfo[makeKey(g)]}function getAxisPointerModel(g){var n=getAxisInfo$1(g);return n&&n.axisPointerModel}function isHandleTrigger(g){return!!g.get(["handle","show"])}function makeKey(g){return g.type+"||"+g.id}var axisPointerClazz={},AxisView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L,V){this.axisPointerClass&&fixValue(r),g.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,L,!0)},n.prototype.updateAxisPointer=function(r,$,L,V){this._doUpdateAxisPointerClass(r,L,!1)},n.prototype.remove=function(r,$){var L=this._axisPointer;L&&L.remove($)},n.prototype.dispose=function(r,$){this._disposeAxisPointer($),g.prototype.dispose.apply(this,arguments)},n.prototype._doUpdateAxisPointerClass=function(r,$,L){var V=n.getAxisPointerClass(this.axisPointerClass);if(V){var oe=getAxisPointerModel(r);oe?(this._axisPointer||(this._axisPointer=new V)).render(r,oe,$,L):this._disposeAxisPointer($)}},n.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},n.registerAxisPointerClass=function(r,$){axisPointerClazz[r]=$},n.getAxisPointerClass=function(r){return r&&axisPointerClazz[r]},n.type="axis",n}(ComponentView$1);const AxisView$1=AxisView;var inner$f=makeInner();function rectCoordAxisBuildSplitArea(g,n,r,$){var L=r.axis;if(!L.scale.isBlank()){var V=r.getModel("splitArea"),oe=V.getModel("areaStyle"),re=oe.get("color"),ae=$.coordinateSystem.getRect(),le=L.getTicksCoords({tickModel:V,clamp:!0});if(le.length){var ue=re.length,de=inner$f(g).splitAreaColors,pe=createHashMap(),he=0;if(de)for(var _e=0;_e<le.length;_e++){var Oe=de.get(le[_e].tickValue);if(Oe!=null){he=(Oe+(ue-1)*_e)%ue;break}}var xe=L.toGlobalCoord(le[0].coord),$e=oe.getAreaStyle();re=isArray$6(re)?re:[re];for(var _e=1;_e<le.length;_e++){var Ie=L.toGlobalCoord(le[_e].coord),Ne=void 0,ze=void 0,Ue=void 0,Fe=void 0;L.isHorizontal()?(Ne=xe,ze=ae.y,Ue=Ie-Ne,Fe=ae.height,xe=Ne+Ue):(Ne=ae.x,ze=xe,Ue=ae.width,Fe=Ie-ze,xe=ze+Fe);var qe=le[_e-1].tickValue;qe!=null&&pe.set(qe,he),n.add(new Rect$3({anid:qe!=null?"area_"+qe:null,shape:{x:Ne,y:ze,width:Ue,height:Fe},style:defaults$5({fill:re[he]},$e),autoBatch:!0,silent:!0})),he=(he+1)%ue}inner$f(g).splitAreaColors=pe}}}function rectCoordAxisHandleRemove(g){inner$f(g).splitAreaColors=null}var axisBuilderAttrs$3=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$2=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="CartesianAxisPointer",r}return n.prototype.render=function(r,$,L,V){this.group.removeAll();var oe=this._axisGroup;if(this._axisGroup=new Group$4,this.group.add(this._axisGroup),!!r.get("show")){var re=r.getCoordSysModel(),ae=layout$3(re,r),le=new AxisBuilder$1(r,extend$3({handleAutoShown:function(de){for(var pe=re.coordinateSystem.getCartesians(),he=0;he<pe.length;he++)if(isIntervalOrLogScale(pe[he].getOtherAxis(r.axis).scale))return!0;return!1}},ae));each$f(axisBuilderAttrs$3,le.add,le),this._axisGroup.add(le.getGroup()),each$f(selfBuilderAttrs$2,function(de){r.get([de,"show"])&&axisElementBuilders$2[de](this,this._axisGroup,r,re)},this);var ue=V&&V.type==="changeAxisOrder"&&V.isInitSort;ue||groupTransition(oe,this._axisGroup,r),g.prototype.render.call(this,r,$,L,V)}},n.prototype.remove=function(){rectCoordAxisHandleRemove(this)},n.type="cartesianAxis",n}(AxisView$1),axisElementBuilders$2={splitLine:function(g,n,r,$){var L=r.axis;if(!L.scale.isBlank()){var V=r.getModel("splitLine"),oe=V.getModel("lineStyle"),re=oe.get("color");re=isArray$6(re)?re:[re];for(var ae=$.coordinateSystem.getRect(),le=L.isHorizontal(),ue=0,de=L.getTicksCoords({tickModel:V}),pe=[],he=[],_e=oe.getLineStyle(),Oe=0;Oe<de.length;Oe++){var xe=L.toGlobalCoord(de[Oe].coord);le?(pe[0]=xe,pe[1]=ae.y,he[0]=xe,he[1]=ae.y+ae.height):(pe[0]=ae.x,pe[1]=xe,he[0]=ae.x+ae.width,he[1]=xe);var $e=ue++%re.length,Ie=de[Oe].tickValue,Ne=new Line$4({anid:Ie!=null?"line_"+de[Oe].tickValue:null,autoBatch:!0,shape:{x1:pe[0],y1:pe[1],x2:he[0],y2:he[1]},style:defaults$5({stroke:re[$e]},_e),silent:!0});subPixelOptimizeLine(Ne.shape,_e.lineWidth),n.add(Ne)}}},minorSplitLine:function(g,n,r,$){var L=r.axis,V=r.getModel("minorSplitLine"),oe=V.getModel("lineStyle"),re=$.coordinateSystem.getRect(),ae=L.isHorizontal(),le=L.getMinorTicksCoords();if(le.length)for(var ue=[],de=[],pe=oe.getLineStyle(),he=0;he<le.length;he++)for(var _e=0;_e<le[he].length;_e++){var Oe=L.toGlobalCoord(le[he][_e].coord);ae?(ue[0]=Oe,ue[1]=re.y,de[0]=Oe,de[1]=re.y+re.height):(ue[0]=re.x,ue[1]=Oe,de[0]=re.x+re.width,de[1]=Oe);var xe=new Line$4({anid:"minor_line_"+le[he][_e].tickValue,autoBatch:!0,shape:{x1:ue[0],y1:ue[1],x2:de[0],y2:de[1]},style:pe,silent:!0});subPixelOptimizeLine(xe.shape,pe.lineWidth),n.add(xe)}},splitArea:function(g,n,r,$){rectCoordAxisBuildSplitArea(g,n,r,$)}},CartesianXAxisView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="xAxis",n}(CartesianAxisView),CartesianYAxisView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=CartesianXAxisView.type,r}return n.type="yAxis",n}(CartesianAxisView),GridView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="grid",r}return n.prototype.render=function(r,$){this.group.removeAll(),r.get("show")&&this.group.add(new Rect$3({shape:r.coordinateSystem.getRect(),style:defaults$5({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},n.type="grid",n}(ComponentView$1),extraOption={offset:0};function install$P(g){g.registerComponentView(GridView),g.registerComponentModel(GridModel$1),g.registerCoordinateSystem("cartesian2d",Grid$1),axisModelCreator(g,"x",CartesianAxisModel,extraOption),axisModelCreator(g,"y",CartesianAxisModel,extraOption),g.registerComponentView(CartesianXAxisView),g.registerComponentView(CartesianYAxisView),g.registerPreprocessor(function(n){n.xAxis&&n.yAxis&&!n.grid&&(n.grid={})})}function install$O(g){use(install$P),g.registerSeriesModel(ScatterSeriesModel$1),g.registerChartView(ScatterView$1),g.registerLayout(pointsLayout("scatter"))}function radarLayout(g){g.eachSeriesByType("radar",function(n){var r=n.getData(),$=[],L=n.coordinateSystem;if(L){var V=L.getIndicatorAxes();each$f(V,function(oe,re){r.each(r.mapDimension(V[re].dim),function(ae,le){$[le]=$[le]||[];var ue=L.dataToPoint(ae,re);$[le][re]=isValidPoint(ue)?ue:getValueMissingPoint(L)})}),r.each(function(oe){var re=find$1($[oe],function(ae){return isValidPoint(ae)})||getValueMissingPoint(L);$[oe].push(re.slice()),r.setItemLayout(oe,$[oe])})}})}function isValidPoint(g){return!isNaN(g[0])&&!isNaN(g[1])}function getValueMissingPoint(g){return[g.cx,g.cy]}function radarBackwardCompat(g){var n=g.polar;if(n){isArray$6(n)||(n=[n]);var r=[];each$f(n,function($,L){$.indicator?($.type&&!$.shape&&($.shape=$.type),g.radar=g.radar||[],isArray$6(g.radar)||(g.radar=[g.radar]),g.radar.push($)):r.push($)}),g.polar=r}each$f(g.series,function($){$&&$.type==="radar"&&$.polarIndex&&($.radarIndex=$.polarIndex)})}var RadarView$2=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=r.coordinateSystem,oe=this.group,re=r.getData(),ae=this._data;function le(pe,he){var _e=pe.getItemVisual(he,"symbol")||"circle";if(_e!=="none"){var Oe=normalizeSymbolSize(pe.getItemVisual(he,"symbolSize")),xe=createSymbol$1(_e,-1,-1,2,2),$e=pe.getItemVisual(he,"symbolRotate")||0;return xe.attr({style:{strokeNoScale:!0},z2:100,scaleX:Oe[0]/2,scaleY:Oe[1]/2,rotation:$e*Math.PI/180||0}),xe}}function ue(pe,he,_e,Oe,xe,$e){_e.removeAll();for(var Ie=0;Ie<he.length-1;Ie++){var Ne=le(Oe,xe);Ne&&(Ne.__dimIdx=Ie,pe[Ie]?(Ne.setPosition(pe[Ie]),graphic[$e?"initProps":"updateProps"](Ne,{x:he[Ie][0],y:he[Ie][1]},r,xe)):Ne.setPosition(he[Ie]),_e.add(Ne))}}function de(pe){return map$2(pe,function(he){return[V.cx,V.cy]})}re.diff(ae).add(function(pe){var he=re.getItemLayout(pe);if(he){var _e=new Polygon$1,Oe=new Polyline$3,xe={shape:{points:he}};_e.shape.points=de(he),Oe.shape.points=de(he),initProps(_e,xe,r,pe),initProps(Oe,xe,r,pe);var $e=new Group$4,Ie=new Group$4;$e.add(Oe),$e.add(_e),$e.add(Ie),ue(Oe.shape.points,he,Ie,re,pe,!0),re.setItemGraphicEl(pe,$e)}}).update(function(pe,he){var _e=ae.getItemGraphicEl(he),Oe=_e.childAt(0),xe=_e.childAt(1),$e=_e.childAt(2),Ie={shape:{points:re.getItemLayout(pe)}};!Ie.shape.points||(ue(Oe.shape.points,Ie.shape.points,$e,re,pe,!1),saveOldStyle(xe),saveOldStyle(Oe),updateProps$1(Oe,Ie,r),updateProps$1(xe,Ie,r),re.setItemGraphicEl(pe,_e))}).remove(function(pe){oe.remove(ae.getItemGraphicEl(pe))}).execute(),re.eachItemGraphicEl(function(pe,he){var _e=re.getItemModel(he),Oe=pe.childAt(0),xe=pe.childAt(1),$e=pe.childAt(2),Ie=re.getItemVisual(he,"style"),Ne=Ie.fill;oe.add(pe),Oe.useStyle(defaults$5(_e.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:Ne})),setStatesStylesFromModel(Oe,_e,"lineStyle"),setStatesStylesFromModel(xe,_e,"areaStyle");var ze=_e.getModel("areaStyle"),Ue=ze.isEmpty()&&ze.parentModel.isEmpty();xe.ignore=Ue,each$f(["emphasis","select","blur"],function(Et){var At=_e.getModel([Et,"areaStyle"]),kt=At.isEmpty()&&At.parentModel.isEmpty();xe.ensureState(Et).ignore=kt&&Ue}),xe.useStyle(defaults$5(ze.getAreaStyle(),{fill:Ne,opacity:.7,decal:Ie.decal}));var Fe=_e.getModel("emphasis"),qe=Fe.getModel("itemStyle").getItemStyle();$e.eachChild(function(Et){if(Et instanceof ZRImage$1){var At=Et.style;Et.useStyle(extend$3({image:At.image,x:At.x,y:At.y,width:At.width,height:At.height},Ie))}else Et.useStyle(Ie),Et.setColor(Ne),Et.style.strokeNoScale=!0;var kt=Et.ensureState("emphasis");kt.style=clone$5(qe);var Dt=re.getStore().get(re.getDimensionIndex(Et.__dimIdx),he);(Dt==null||isNaN(Dt))&&(Dt=""),setLabelStyle(Et,getLabelStatesModels(_e),{labelFetcher:re.hostModel,labelDataIndex:he,labelDimIndex:Et.__dimIdx,defaultText:Dt,inheritColor:Ne,defaultOpacity:Ie.opacity})}),toggleHoverEmphasis(pe,Fe.get("focus"),Fe.get("blurScope"),Fe.get("disabled"))}),this._data=re},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.type="radar",n}(ChartView$1);const RadarView$3=RadarView$2;var RadarSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.init=function(r){g.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$3(this.getData,this),bind$3(this.getRawData,this))},n.prototype.getInitialData=function(r,$){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},n.prototype.formatTooltip=function(r,$,L){var V=this.getData(),oe=this.coordinateSystem,re=oe.getIndicatorAxes(),ae=this.getData().getName(r),le=ae===""?this.name:ae,ue=retrieveVisualColorForTooltipMarker(this,r);return createTooltipMarkup("section",{header:le,sortBlocks:!0,blocks:map$2(re,function(de){var pe=V.get(V.mapDimension(de.dim),r);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:ue,name:de.name,value:pe,sortParam:pe})})})},n.prototype.getTooltipPosition=function(r){if(r!=null){for(var $=this.getData(),L=this.coordinateSystem,V=$.getValues(map$2(L.dimensions,function(le){return $.mapDimension(le)}),r),oe=0,re=V.length;oe<re;oe++)if(!isNaN(V[oe])){var ae=L.getIndicatorAxes();return L.coordToPoint(ae[oe].dataToCoord(V[oe]),oe)}}},n.type="series.radar",n.dependencies=["radar"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},n}(SeriesModel$1);const RadarSeriesModel$1=RadarSeriesModel;var valueAxisDefault=axisDefault.value;function defaultsShow(g,n){return defaults$5({show:n},g)}var RadarModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){var r=this.get("boundaryGap"),$=this.get("splitNumber"),L=this.get("scale"),V=this.get("axisLine"),oe=this.get("axisTick"),re=this.get("axisLabel"),ae=this.get("axisName"),le=this.get(["axisName","show"]),ue=this.get(["axisName","formatter"]),de=this.get("axisNameGap"),pe=this.get("triggerEvent"),he=map$2(this.get("indicator")||[],function(_e){_e.max!=null&&_e.max>0&&!_e.min?_e.min=0:_e.min!=null&&_e.min<0&&!_e.max&&(_e.max=0);var Oe=ae;_e.color!=null&&(Oe=defaults$5({color:_e.color},ae));var xe=merge$4(clone$5(_e),{boundaryGap:r,splitNumber:$,scale:L,axisLine:V,axisTick:oe,axisLabel:re,name:_e.text,showName:le,nameLocation:"end",nameGap:de,nameTextStyle:Oe,triggerEvent:pe},!1);if(isString$3(ue)){var $e=xe.name;xe.name=ue.replace("{value}",$e!=null?$e:"")}else isFunction$3(ue)&&(xe.name=ue(xe.name,xe));var Ie=new Model$1(xe,null,this.ecModel);return mixin(Ie,AxisModelCommonMixin.prototype),Ie.mainType="radar",Ie.componentIndex=this.componentIndex,Ie},this);this._indicatorModels=he},n.prototype.getIndicatorModels=function(){return this._indicatorModels},n.type="radar",n.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:merge$4({lineStyle:{color:"#bbb"}},valueAxisDefault.axisLine),axisLabel:defaultsShow(valueAxisDefault.axisLabel,!1),axisTick:defaultsShow(valueAxisDefault.axisTick,!1),splitLine:defaultsShow(valueAxisDefault.splitLine,!0),splitArea:defaultsShow(valueAxisDefault.splitArea,!0),indicator:[]},n}(ComponentModel$1);const RadarModel$1=RadarModel;var axisBuilderAttrs$2=["axisLine","axisTickLabel","axisName"],RadarView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=this.group;V.removeAll(),this._buildAxes(r),this._buildSplitLineAndArea(r)},n.prototype._buildAxes=function(r){var $=r.coordinateSystem,L=$.getIndicatorAxes(),V=map$2(L,function(oe){var re=oe.model.get("showName")?oe.name:"",ae=new AxisBuilder$1(oe.model,{axisName:re,position:[$.cx,$.cy],rotation:oe.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return ae});each$f(V,function(oe){each$f(axisBuilderAttrs$2,oe.add,oe),this.group.add(oe.getGroup())},this)},n.prototype._buildSplitLineAndArea=function(r){var $=r.coordinateSystem,L=$.getIndicatorAxes();if(!L.length)return;var V=r.get("shape"),oe=r.getModel("splitLine"),re=r.getModel("splitArea"),ae=oe.getModel("lineStyle"),le=re.getModel("areaStyle"),ue=oe.get("show"),de=re.get("show"),pe=ae.get("color"),he=le.get("color"),_e=isArray$6(pe)?pe:[pe],Oe=isArray$6(he)?he:[he],xe=[],$e=[];function Ie(Sn,On,_n){var xn=_n%On.length;return Sn[xn]=Sn[xn]||[],xn}if(V==="circle")for(var Ne=L[0].getTicksCoords(),ze=$.cx,Ue=$.cy,Fe=0;Fe<Ne.length;Fe++){if(ue){var qe=Ie(xe,_e,Fe);xe[qe].push(new Circle$1({shape:{cx:ze,cy:Ue,r:Ne[Fe].coord}}))}if(de&&Fe<Ne.length-1){var qe=Ie($e,Oe,Fe);$e[qe].push(new Ring$1({shape:{cx:ze,cy:Ue,r0:Ne[Fe].coord,r:Ne[Fe+1].coord}}))}}else for(var Et,At=map$2(L,function(On,_n){var xn=On.getTicksCoords();return Et=Et==null?xn.length-1:Math.min(xn.length-1,Et),map$2(xn,function(bn){return $.coordToPoint(bn.coord,_n)})}),kt=[],Fe=0;Fe<=Et;Fe++){for(var Dt=[],jt=0;jt<L.length;jt++)Dt.push(At[jt][Fe]);if(Dt[0]&&Dt.push(Dt[0].slice()),ue){var qe=Ie(xe,_e,Fe);xe[qe].push(new Polyline$3({shape:{points:Dt}}))}if(de&&kt){var qe=Ie($e,Oe,Fe-1);$e[qe].push(new Polygon$1({shape:{points:Dt.concat(kt)}}))}kt=Dt.slice().reverse()}var Lt=ae.getLineStyle(),hn=le.getAreaStyle();each$f($e,function(Sn,On){this.group.add(mergePath(Sn,{style:defaults$5({stroke:"none",fill:Oe[On%Oe.length]},hn),silent:!0}))},this),each$f(xe,function(Sn,On){this.group.add(mergePath(Sn,{style:defaults$5({fill:"none",stroke:_e[On%_e.length]},Lt),silent:!0}))},this)},n.type="radar",n}(ComponentView$1);const RadarView$1=RadarView;var IndicatorAxis=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this,r,$,L)||this;return V.type="value",V.angle=0,V.name="",V}return n}(Axis$1);const IndicatorAxis$1=IndicatorAxis;var Radar=function(){function g(n,r,$){this.dimensions=[],this._model=n,this._indicatorAxes=map$2(n.getIndicatorModels(),function(L,V){var oe="indicator_"+V,re=new IndicatorAxis$1(oe,new IntervalScale$1);return re.name=L.get("name"),re.model=L,L.axis=re,this.dimensions.push(oe),re},this),this.resize(n,$)}return g.prototype.getIndicatorAxes=function(){return this._indicatorAxes},g.prototype.dataToPoint=function(n,r){var $=this._indicatorAxes[r];return this.coordToPoint($.dataToCoord(n),r)},g.prototype.coordToPoint=function(n,r){var $=this._indicatorAxes[r],L=$.angle,V=this.cx+n*Math.cos(L),oe=this.cy-n*Math.sin(L);return[V,oe]},g.prototype.pointToData=function(n){var r=n[0]-this.cx,$=n[1]-this.cy,L=Math.sqrt(r*r+$*$);r/=L,$/=L;for(var V=Math.atan2(-$,r),oe=1/0,re,ae=-1,le=0;le<this._indicatorAxes.length;le++){var ue=this._indicatorAxes[le],de=Math.abs(V-ue.angle);de<oe&&(re=ue,ae=le,oe=de)}return[ae,+(re&&re.coordToData(L))]},g.prototype.resize=function(n,r){var $=n.get("center"),L=r.getWidth(),V=r.getHeight(),oe=Math.min(L,V)/2;this.cx=parsePercent($[0],L),this.cy=parsePercent($[1],V),this.startAngle=n.get("startAngle")*Math.PI/180;var re=n.get("radius");(isString$3(re)||isNumber$3(re))&&(re=[0,re]),this.r0=parsePercent(re[0],oe),this.r=parsePercent(re[1],oe),each$f(this._indicatorAxes,function(ae,le){ae.setExtent(this.r0,this.r);var ue=this.startAngle+le*Math.PI*2/this._indicatorAxes.length;ue=Math.atan2(Math.sin(ue),Math.cos(ue)),ae.angle=ue},this)},g.prototype.update=function(n,r){var $=this._indicatorAxes,L=this._model;each$f($,function(re){re.scale.setExtent(1/0,-1/0)}),n.eachSeriesByType("radar",function(re,ae){if(!(re.get("coordinateSystem")!=="radar"||n.getComponent("radar",re.get("radarIndex"))!==L)){var le=re.getData();each$f($,function(ue){ue.scale.unionExtentFromData(le,le.mapDimension(ue.dim))})}},this);var V=L.get("splitNumber"),oe=new IntervalScale$1;oe.setExtent(0,V),oe.setInterval(1),each$f($,function(re,ae){alignScaleTicks(re.scale,re.model,oe)})},g.prototype.convertToPixel=function(n,r,$){return console.warn("Not implemented."),null},g.prototype.convertFromPixel=function(n,r,$){return console.warn("Not implemented."),null},g.prototype.containPoint=function(n){return console.warn("Not implemented."),!1},g.create=function(n,r){var $=[];return n.eachComponent("radar",function(L){var V=new g(L,n,r);$.push(V),L.coordinateSystem=V}),n.eachSeriesByType("radar",function(L){L.get("coordinateSystem")==="radar"&&(L.coordinateSystem=$[L.get("radarIndex")||0])}),$},g.dimensions=[],g}();const Radar$1=Radar;function install$N(g){g.registerCoordinateSystem("radar",Radar$1),g.registerComponentModel(RadarModel$1),g.registerComponentView(RadarView$1),g.registerVisual({seriesType:"radar",reset:function(n){var r=n.getData();r.each(function($){r.setItemVisual($,"legendIcon","roundRect")}),r.setVisual("legendIcon","roundRect")}})}function install$M(g){use(install$N),g.registerChartView(RadarView$3),g.registerSeriesModel(RadarSeriesModel$1),g.registerLayout(radarLayout),g.registerProcessor(dataFilter$1("radar")),g.registerPreprocessor(radarBackwardCompat)}var ATTR="\0_ec_interaction_mutex";function take(g,n,r){var $=getStore(g);$[n]=r}function release(g,n,r){var $=getStore(g),L=$[n];L===r&&($[n]=null)}function isTaken(g,n){return!!getStore(g)[n]}function getStore(g){return g[ATTR]||(g[ATTR]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop$5);var RoamController=function(g){__extends(n,g);function n(r){var $=g.call(this)||this;$._zr=r;var L=bind$3($._mousedownHandler,$),V=bind$3($._mousemoveHandler,$),oe=bind$3($._mouseupHandler,$),re=bind$3($._mousewheelHandler,$),ae=bind$3($._pinchHandler,$);return $.enable=function(le,ue){this.disable(),this._opt=defaults$5(clone$5(ue)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),le==null&&(le=!0),(le===!0||le==="move"||le==="pan")&&(r.on("mousedown",L),r.on("mousemove",V),r.on("mouseup",oe)),(le===!0||le==="scale"||le==="zoom")&&(r.on("mousewheel",re),r.on("pinch",ae))},$.disable=function(){r.off("mousedown",L),r.off("mousemove",V),r.off("mouseup",oe),r.off("mousewheel",re),r.off("pinch",ae)},$}return n.prototype.isDragging=function(){return this._dragging},n.prototype.isPinching=function(){return this._pinching},n.prototype.setPointerChecker=function(r){this.pointerChecker=r},n.prototype.dispose=function(){this.disable()},n.prototype._mousedownHandler=function(r){if(!isMiddleOrRightButtonOnMouseUpDown(r)){for(var $=r.target;$;){if($.draggable)return;$=$.__hostTarget||$.parent}var L=r.offsetX,V=r.offsetY;this.pointerChecker&&this.pointerChecker(r,L,V)&&(this._x=L,this._y=V,this._dragging=!0)}},n.prototype._mousemoveHandler=function(r){if(!(!this._dragging||!isAvailableBehavior("moveOnMouseMove",r,this._opt)||r.gestureEvent==="pinch"||isTaken(this._zr,"globalPan"))){var $=r.offsetX,L=r.offsetY,V=this._x,oe=this._y,re=$-V,ae=L-oe;this._x=$,this._y=L,this._opt.preventDefaultMouseMove&&stop(r.event),trigger$1(this,"pan","moveOnMouseMove",r,{dx:re,dy:ae,oldX:V,oldY:oe,newX:$,newY:L,isAvailableBehavior:null})}},n.prototype._mouseupHandler=function(r){isMiddleOrRightButtonOnMouseUpDown(r)||(this._dragging=!1)},n.prototype._mousewheelHandler=function(r){var $=isAvailableBehavior("zoomOnMouseWheel",r,this._opt),L=isAvailableBehavior("moveOnMouseWheel",r,this._opt),V=r.wheelDelta,oe=Math.abs(V),re=r.offsetX,ae=r.offsetY;if(!(V===0||!$&&!L)){if($){var le=oe>3?1.4:oe>1?1.2:1.1,ue=V>0?le:1/le;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",r,{scale:ue,originX:re,originY:ae,isAvailableBehavior:null})}if(L){var de=Math.abs(V),pe=(V>0?1:-1)*(de>3?.4:de>1?.15:.05);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:pe,originX:re,originY:ae,isAvailableBehavior:null})}}},n.prototype._pinchHandler=function(r){if(!isTaken(this._zr,"globalPan")){var $=r.pinchScale>1?1.1:.9090909090909091;checkPointerAndTrigger(this,"zoom",null,r,{scale:$,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})}},n}(Eventful$1);function checkPointerAndTrigger(g,n,r,$,L){g.pointerChecker&&g.pointerChecker($,L.originX,L.originY)&&(stop($.event),trigger$1(g,n,r,$,L))}function trigger$1(g,n,r,$,L){L.isAvailableBehavior=bind$3(isAvailableBehavior,null,r,$),g.trigger(n,L)}function isAvailableBehavior(g,n,r){var $=r[g];return!g||$&&(!isString$3($)||n.event[$+"Key"])}const RoamController$1=RoamController;function updateViewOnPan(g,n,r){var $=g.target;$.x+=n,$.y+=r,$.dirty()}function updateViewOnZoom(g,n,r,$){var L=g.target,V=g.zoomLimit,oe=g.zoom=g.zoom||1;if(oe*=n,V){var re=V.min||0,ae=V.max||1/0;oe=Math.max(Math.min(ae,oe),re)}var le=oe/g.zoom;g.zoom=oe,L.x-=(r-L.x)*(le-1),L.y-=($-L.y)*(le-1),L.scaleX*=le,L.scaleY*=le,L.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(g,n,r){var $=n.getComponentByElement(g.topTarget),L=$&&$.coordinateSystem;return $&&$!==r&&!IRRELEVANT_EXCLUDES.hasOwnProperty($.mainType)&&L&&L.model!==r}function parseXML(g){if(isString$3(g)){var n=new DOMParser;g=n.parseFromString(g,"text/xml")}var r=g;for(r.nodeType===9&&(r=r.firstChild);r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1;)r=r.nextSibling;return r}var nodeParsers,INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=keys$2(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=keys$2(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function g(){this._defs={},this._root=null}return g.prototype.parse=function(n,r){r=r||{};var $=parseXML(n);this._defsUsePending=[];var L=new Group$4;this._root=L;var V=[],oe=$.getAttribute("viewBox")||"",re=parseFloat($.getAttribute("width")||r.width),ae=parseFloat($.getAttribute("height")||r.height);isNaN(re)&&(re=null),isNaN(ae)&&(ae=null),parseAttributes($,L,null,!0,!1);for(var le=$.firstChild;le;)this._parseNode(le,L,V,null,!1,!1),le=le.nextSibling;applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[];var ue,de;if(oe){var pe=splitNumberSequence(oe);pe.length>=4&&(ue={x:parseFloat(pe[0]||0),y:parseFloat(pe[1]||0),width:parseFloat(pe[2]),height:parseFloat(pe[3])})}if(ue&&re!=null&&ae!=null&&(de=makeViewBoxTransform(ue,{x:0,y:0,width:re,height:ae}),!r.ignoreViewBox)){var he=L;L=new Group$4,L.add(he),he.scaleX=he.scaleY=de.scale,he.x=de.x,he.y=de.y}return!r.ignoreRootClip&&re!=null&&ae!=null&&L.setClipPath(new Rect$3({shape:{x:0,y:0,width:re,height:ae}})),{root:L,width:re,height:ae,viewBoxRect:ue,viewBoxTransform:de,named:V}},g.prototype._parseNode=function(n,r,$,L,V,oe){var re=n.nodeName.toLowerCase(),ae,le=L;if(re==="defs"&&(V=!0),re==="text"&&(oe=!0),re==="defs"||re==="switch")ae=r;else{if(!V){var ue=nodeParsers[re];if(ue&&hasOwn(nodeParsers,re)){ae=ue.call(this,n,r);var de=n.getAttribute("name");if(de){var pe={name:de,namedFrom:null,svgNodeTagLower:re,el:ae};$.push(pe),re==="g"&&(le=pe)}else L&&$.push({name:L.name,namedFrom:L,svgNodeTagLower:re,el:ae});r.add(ae)}}var he=paintServerParsers[re];if(he&&hasOwn(paintServerParsers,re)){var _e=he.call(this,n),Oe=n.getAttribute("id");Oe&&(this._defs[Oe]=_e)}}if(ae&&ae.isGroup)for(var xe=n.firstChild;xe;)xe.nodeType===1?this._parseNode(xe,ae,$,le,V,oe):xe.nodeType===3&&oe&&this._parseText(xe,ae),xe=xe.nextSibling},g.prototype._parseText=function(n,r){var $=new TSpan$1({style:{text:n.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(r,$),parseAttributes(n,$,this._defsUsePending,!1,!1),applyTextAlignment($,r);var L=$.style,V=L.fontSize;V&&V<9&&(L.fontSize=9,$.scaleX*=V/9,$.scaleY*=V/9);var oe=(L.fontSize||L.fontFamily)&&[L.fontStyle,L.fontWeight,(L.fontSize||12)+"px",L.fontFamily||"sans-serif"].join(" ");L.font=oe;var re=$.getBoundingRect();return this._textX+=re.width,r.add($),$},g.internalField=function(){nodeParsers={g:function(n,r){var $=new Group$4;return inheritStyle(r,$),parseAttributes(n,$,this._defsUsePending,!1,!1),$},rect:function(n,r){var $=new Rect$3;return inheritStyle(r,$),parseAttributes(n,$,this._defsUsePending,!1,!1),$.setShape({x:parseFloat(n.getAttribute("x")||"0"),y:parseFloat(n.getAttribute("y")||"0"),width:parseFloat(n.getAttribute("width")||"0"),height:parseFloat(n.getAttribute("height")||"0")}),$.silent=!0,$},circle:function(n,r){var $=new Circle$1;return inheritStyle(r,$),parseAttributes(n,$,this._defsUsePending,!1,!1),$.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),r:parseFloat(n.getAttribute("r")||"0")}),$.silent=!0,$},line:function(n,r){var $=new Line$4;return inheritStyle(r,$),parseAttributes(n,$,this._defsUsePending,!1,!1),$.setShape({x1:parseFloat(n.getAttribute("x1")||"0"),y1:parseFloat(n.getAttribute("y1")||"0"),x2:parseFloat(n.getAttribute("x2")||"0"),y2:parseFloat(n.getAttribute("y2")||"0")}),$.silent=!0,$},ellipse:function(n,r){var $=new Ellipse$1;return inheritStyle(r,$),parseAttributes(n,$,this._defsUsePending,!1,!1),$.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),rx:parseFloat(n.getAttribute("rx")||"0"),ry:parseFloat(n.getAttribute("ry")||"0")}),$.silent=!0,$},polygon:function(n,r){var $=n.getAttribute("points"),L;$&&(L=parsePoints($));var V=new Polygon$1({shape:{points:L||[]},silent:!0});return inheritStyle(r,V),parseAttributes(n,V,this._defsUsePending,!1,!1),V},polyline:function(n,r){var $=n.getAttribute("points"),L;$&&(L=parsePoints($));var V=new Polyline$3({shape:{points:L||[]},silent:!0});return inheritStyle(r,V),parseAttributes(n,V,this._defsUsePending,!1,!1),V},image:function(n,r){var $=new ZRImage$1;return inheritStyle(r,$),parseAttributes(n,$,this._defsUsePending,!1,!1),$.setStyle({image:n.getAttribute("xlink:href")||n.getAttribute("href"),x:+n.getAttribute("x"),y:+n.getAttribute("y"),width:+n.getAttribute("width"),height:+n.getAttribute("height")}),$.silent=!0,$},text:function(n,r){var $=n.getAttribute("x")||"0",L=n.getAttribute("y")||"0",V=n.getAttribute("dx")||"0",oe=n.getAttribute("dy")||"0";this._textX=parseFloat($)+parseFloat(V),this._textY=parseFloat(L)+parseFloat(oe);var re=new Group$4;return inheritStyle(r,re),parseAttributes(n,re,this._defsUsePending,!1,!0),re},tspan:function(n,r){var $=n.getAttribute("x"),L=n.getAttribute("y");$!=null&&(this._textX=parseFloat($)),L!=null&&(this._textY=parseFloat(L));var V=n.getAttribute("dx")||"0",oe=n.getAttribute("dy")||"0",re=new Group$4;return inheritStyle(r,re),parseAttributes(n,re,this._defsUsePending,!1,!0),this._textX+=parseFloat(V),this._textY+=parseFloat(oe),re},path:function(n,r){var $=n.getAttribute("d")||"",L=createFromString($);return inheritStyle(r,L),parseAttributes(n,L,this._defsUsePending,!1,!1),L.silent=!0,L}}}(),g}(),paintServerParsers={lineargradient:function(g){var n=parseInt(g.getAttribute("x1")||"0",10),r=parseInt(g.getAttribute("y1")||"0",10),$=parseInt(g.getAttribute("x2")||"10",10),L=parseInt(g.getAttribute("y2")||"0",10),V=new LinearGradient$1(n,r,$,L);return parsePaintServerUnit(g,V),parseGradientColorStops(g,V),V},radialgradient:function(g){var n=parseInt(g.getAttribute("cx")||"0",10),r=parseInt(g.getAttribute("cy")||"0",10),$=parseInt(g.getAttribute("r")||"0",10),L=new RadialGradient$1(n,r,$);return parsePaintServerUnit(g,L),parseGradientColorStops(g,L),L}};function parsePaintServerUnit(g,n){var r=g.getAttribute("gradientUnits");r==="userSpaceOnUse"&&(n.global=!0)}function parseGradientColorStops(g,n){for(var r=g.firstChild;r;){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var $=r.getAttribute("offset"),L=void 0;$&&$.indexOf("%")>0?L=parseInt($,10)/100:$?L=parseFloat($):L=0;var V={};parseInlineStyle(r,V,V);var oe=V.stopColor||r.getAttribute("stop-color")||"#000000";n.colorStops.push({offset:L,color:oe})}r=r.nextSibling}}function inheritStyle(g,n){g&&g.__inheritedStyle&&(n.__inheritedStyle||(n.__inheritedStyle={}),defaults$5(n.__inheritedStyle,g.__inheritedStyle))}function parsePoints(g){for(var n=splitNumberSequence(g),r=[],$=0;$<n.length;$+=2){var L=parseFloat(n[$]),V=parseFloat(n[$+1]);r.push([L,V])}return r}function parseAttributes(g,n,r,$,L){var V=n,oe=V.__inheritedStyle=V.__inheritedStyle||{},re={};g.nodeType===1&&(parseTransformAttribute(g,n),parseInlineStyle(g,oe,re),$||parseAttributeStyle(g,oe,re)),V.style=V.style||{},oe.fill!=null&&(V.style.fill=getFillStrokeStyle(V,"fill",oe.fill,r)),oe.stroke!=null&&(V.style.stroke=getFillStrokeStyle(V,"stroke",oe.stroke,r)),each$f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(ae){oe[ae]!=null&&(V.style[ae]=parseFloat(oe[ae]))}),each$f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(ae){oe[ae]!=null&&(V.style[ae]=oe[ae])}),L&&(V.__selfStyle=re),oe.lineDash&&(V.style.lineDash=map$2(splitNumberSequence(oe.lineDash),function(ae){return parseFloat(ae)})),(oe.visibility==="hidden"||oe.visibility==="collapse")&&(V.invisible=!0),oe.display==="none"&&(V.ignore=!0)}function applyTextAlignment(g,n){var r=n.__selfStyle;if(r){var $=r.textBaseline,L=$;!$||$==="auto"||$==="baseline"?L="alphabetic":$==="before-edge"||$==="text-before-edge"?L="top":$==="after-edge"||$==="text-after-edge"?L="bottom":($==="central"||$==="mathematical")&&(L="middle"),g.style.textBaseline=L}var V=n.__inheritedStyle;if(V){var oe=V.textAlign,re=oe;oe&&(oe==="middle"&&(re="center"),g.style.textAlign=re)}}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(g,n,r,$){var L=r&&r.match(urlRegex);if(L){var V=trim$3(L[1]);$.push([g,n,V]);return}return r==="none"&&(r=null),r}function applyDefs(g,n){for(var r=0;r<n.length;r++){var $=n[r];$[0].style[$[1]]=g[$[2]]}}var numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(g){return g.match(numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;function parseTransformAttribute(g,n){var r=g.getAttribute("transform");if(r){r=r.replace(/,/g," ");var $=[],L=null;r.replace(transformRegex,function(de,pe,he){return $.push(pe,he),""});for(var V=$.length-1;V>0;V-=2){var oe=$[V],re=$[V-1],ae=splitNumberSequence(oe);switch(L=L||create$1(),re){case"translate":translate$1(L,L,[parseFloat(ae[0]),parseFloat(ae[1]||"0")]);break;case"scale":scale$1(L,L,[parseFloat(ae[0]),parseFloat(ae[1]||ae[0])]);break;case"rotate":rotate(L,L,-parseFloat(ae[0])*DEGREE_TO_ANGLE);break;case"skewX":var le=Math.tan(parseFloat(ae[0])*DEGREE_TO_ANGLE);mul(L,[1,0,le,1,0,0],L);break;case"skewY":var ue=Math.tan(parseFloat(ae[0])*DEGREE_TO_ANGLE);mul(L,[1,ue,0,1,0,0],L);break;case"matrix":L[0]=parseFloat(ae[0]),L[1]=parseFloat(ae[1]),L[2]=parseFloat(ae[2]),L[3]=parseFloat(ae[3]),L[4]=parseFloat(ae[4]),L[5]=parseFloat(ae[5]);break}}n.setLocalTransform(L)}}var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(g,n,r){var $=g.getAttribute("style");if($){styleRegex.lastIndex=0;for(var L;(L=styleRegex.exec($))!=null;){var V=L[1],oe=hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP,V)?INHERITABLE_STYLE_ATTRIBUTES_MAP[V]:null;oe&&(n[oe]=L[2]);var re=hasOwn(SELF_STYLE_ATTRIBUTES_MAP,V)?SELF_STYLE_ATTRIBUTES_MAP[V]:null;re&&(r[re]=L[2])}}}function parseAttributeStyle(g,n,r){for(var $=0;$<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;$++){var L=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[$],V=g.getAttribute(L);V!=null&&(n[INHERITABLE_STYLE_ATTRIBUTES_MAP[L]]=V)}for(var $=0;$<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;$++){var L=SELF_STYLE_ATTRIBUTES_MAP_KEYS[$],V=g.getAttribute(L);V!=null&&(r[SELF_STYLE_ATTRIBUTES_MAP[L]]=V)}}function makeViewBoxTransform(g,n){var r=n.width/g.width,$=n.height/g.height,L=Math.min(r,$);return{scale:L,x:-(g.x+g.width/2)*L+(n.x+n.width/2),y:-(g.y+g.height/2)*L+(n.y+n.height/2)}}function parseSVG(g,n){var r=new SVGParser;return r.parse(g,n)}var REGION_AVAILABLE_SVG_TAG_MAP=createHashMap(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function g(n,r){this.type="geoSVG",this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=n,this._parsedXML=parseXML(r)}return g.prototype.load=function(){var n=this._firstGraphic;if(!n){n=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(n),this._boundingRect=this._firstGraphic.boundingRect.clone();var r=createRegions(n.named),$=r.regions,L=r.regionsMap;this._regions=$,this._regionsMap=L}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},g.prototype._buildGraphic=function(n){var r,$;try{r=n&&parseSVG(n,{ignoreViewBox:!0,ignoreRootClip:!0})||{},$=r.root,assert($!=null)}catch(xe){throw new Error(`Invalid svg format
`+xe.message)}var L=new Group$4;L.add($),L.isGeoSVGGraphicRoot=!0;var V=r.width,oe=r.height,re=r.viewBoxRect,ae=this._boundingRect;if(!ae){var le=void 0,ue=void 0,de=void 0,pe=void 0;if(V!=null?(le=0,de=V):re&&(le=re.x,de=re.width),oe!=null?(ue=0,pe=oe):re&&(ue=re.y,pe=re.height),le==null||ue==null){var he=$.getBoundingRect();le==null&&(le=he.x,de=he.width),ue==null&&(ue=he.y,pe=he.height)}ae=this._boundingRect=new BoundingRect$1(le,ue,de,pe)}if(re){var _e=makeViewBoxTransform(re,ae);$.scaleX=$.scaleY=_e.scale,$.x=_e.x,$.y=_e.y}L.setClipPath(new Rect$3({shape:ae.plain()}));var Oe=[];return each$f(r.named,function(xe){REGION_AVAILABLE_SVG_TAG_MAP.get(xe.svgNodeTagLower)!=null&&(Oe.push(xe),setSilent(xe.el))}),{root:L,boundingRect:ae,named:Oe}},g.prototype.useGraphic=function(n){var r=this._usedGraphicMap,$=r.get(n);return $||($=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),r.set(n,$),$)},g.prototype.freeGraphic=function(n){var r=this._usedGraphicMap,$=r.get(n);$&&(r.removeKey(n),this._freedGraphics.push($))},g}();function setSilent(g){g.silent=!1,g.isGroup&&g.traverse(function(n){n.silent=!1})}function createRegions(g){var n=[],r=createHashMap();return each$f(g,function($){if($.namedFrom==null){var L=new GeoSVGRegion($.name,$.el);n.push(L),r.set($.name,L)}}),{regions:n,regionsMap:r}}for(var geoCoord=[126,25],nanhaiName="\u5357\u6D77\u8BF8\u5C9B",points$1=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],i$2=0;i$2<points$1.length;i$2++)for(var k=0;k<points$1[i$2].length;k++)points$1[i$2][k][0]/=10.5,points$1[i$2][k][1]/=-14,points$1[i$2][k][0]+=geoCoord[0],points$1[i$2][k][1]+=geoCoord[1];function fixNanhai(g,n){if(g==="china"){for(var r=0;r<n.length;r++)if(n[r].name===nanhaiName)return;n.push(new GeoJSONRegion(nanhaiName,map$2(points$1,function($){return{type:"polygon",exterior:$}}),geoCoord))}}var coordsOffsetMap={\u5357\u6D77\u8BF8\u5C9B:[32,80],\u5E7F\u4E1C:[0,-10],\u9999\u6E2F:[10,5],\u6FB3\u95E8:[-10,10],\u5929\u6D25:[5,5]};function fixTextCoords(g,n){if(g==="china"){var r=coordsOffsetMap[n.name];if(r){var $=n.getCenter();$[0]+=r[0]/10.5,$[1]+=-r[1]/14,n.setCenter($)}}}var points=[[[123.45165252685548,25.73527164402261],[123.497314453125,25.73527164402261],[123.497314453125,25.750734064600884],[123.45165252685548,25.750734064600884],[123.45165252685548,25.73527164402261]]];function fixDiaoyuIsland(g,n){g==="china"&&n.name==="\u53F0\u6E7E"&&n.geometries.push({type:"polygon",exterior:points[0]})}var DEFAULT_NAME_PROPERTY="name",GeoJSONResource=function(){function g(n,r,$){this.type="geoJSON",this._parsedMap=createHashMap(),this._mapName=n,this._specialAreas=$,this._geoJSON=parseInput(r)}return g.prototype.load=function(n,r){r=r||DEFAULT_NAME_PROPERTY;var $=this._parsedMap.get(r);if(!$){var L=this._parseToRegions(r);$=this._parsedMap.set(r,{regions:L,boundingRect:calculateBoundingRect(L)})}var V=createHashMap(),oe=[];return each$f($.regions,function(re){var ae=re.name;n&&hasOwn(n,ae)&&(re=re.cloneShallow(ae=n[ae])),oe.push(re),V.set(ae,re)}),{regions:oe,boundingRect:$.boundingRect||new BoundingRect$1(0,0,0,0),regionsMap:V}},g.prototype._parseToRegions=function(n){var r=this._mapName,$=this._geoJSON,L;try{L=$?parseGeoJSON($,n):[]}catch(V){throw new Error(`Invalid geoJson format
`+V.message)}return fixNanhai(r,L),each$f(L,function(V){var oe=V.name;fixTextCoords(r,V),fixDiaoyuIsland(r,V);var re=this._specialAreas&&this._specialAreas[oe];re&&V.transformTo(re.left,re.top,re.width,re.height)},this),L},g.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},g}();function calculateBoundingRect(g){for(var n,r=0;r<g.length;r++){var $=g[r].getBoundingRect();n=n||$.clone(),n.union($)}return n}function parseInput(g){return isString$3(g)?typeof JSON<"u"&&JSON.parse?JSON.parse(g):new Function("return ("+g+");")():g}var storage=createHashMap();const geoSourceManager={registerMap:function(g,n,r){if(n.svg){var $=new GeoSVGResource(g,n.svg);storage.set(g,$)}else{var L=n.geoJson||n.geoJSON;L&&!n.features?r=n.specialAreas:L=n;var $=new GeoJSONResource(g,L,r);storage.set(g,$)}},getGeoResource:function(g){return storage.get(g)},getMapForUser:function(g){var n=storage.get(g);return n&&n.type==="geoJSON"&&n.getMapForUser()},load:function(g,n,r){var $=storage.get(g);if($)return $.load(n,r)}};var OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=makeInner();function getFixedItemStyle(g){var n=g.getItemStyle(),r=g.get("areaColor");return r!=null&&(n.fill=r),n}function fixLineStyle(g){var n=g.style;n&&(n.stroke=n.stroke||n.fill,n.fill=null)}var MapDraw=function(){function g(n){var r=new Group$4;this.uid=getUID("ec_map_draw"),this._controller=new RoamController$1(n.getZr()),this._controllerHost={target:r},this.group=r,r.add(this._regionsGroup=new Group$4),r.add(this._svgGroup=new Group$4)}return g.prototype.draw=function(n,r,$,L,V){var oe=n.mainType==="geo",re=n.getData&&n.getData();oe&&r.eachComponent({mainType:"series",subType:"map"},function($e){!re&&$e.getHostGeoModel()===n&&(re=$e.getData())});var ae=n.coordinateSystem,le=this._regionsGroup,ue=this.group,de=ae.getTransformInfo(),pe=de.raw,he=de.roam,_e=!le.childAt(0)||V;_e?(ue.x=he.x,ue.y=he.y,ue.scaleX=he.scaleX,ue.scaleY=he.scaleY,ue.dirty()):updateProps$1(ue,he,n);var Oe=re&&re.getVisual("visualMeta")&&re.getVisual("visualMeta").length>0,xe={api:$,geo:ae,mapOrGeoModel:n,data:re,isVisualEncodedByVisualMap:Oe,isGeo:oe,transformInfoRaw:pe};ae.resourceType==="geoJSON"?this._buildGeoJSON(xe):ae.resourceType==="geoSVG"&&this._buildSVG(xe),this._updateController(n,r,$),this._updateMapSelectHandler(n,le,$,L)},g.prototype._buildGeoJSON=function(n){var r=this._regionsGroupByName=createHashMap(),$=createHashMap(),L=this._regionsGroup,V=n.transformInfoRaw,oe=n.mapOrGeoModel,re=n.data,ae=n.geo.projection,le=ae&&ae.stream;function ue(he,_e){return _e&&(he=_e(he)),he&&[he[0]*V.scaleX+V.x,he[1]*V.scaleY+V.y]}function de(he){for(var _e=[],Oe=!le&&ae&&ae.project,xe=0;xe<he.length;++xe){var $e=ue(he[xe],Oe);$e&&_e.push($e)}return _e}function pe(he){return{shape:{points:de(he)}}}L.removeAll(),each$f(n.geo.regions,function(he){var _e=he.name,Oe=r.get(_e),xe=$.get(_e)||{},$e=xe.dataIdx,Ie=xe.regionModel;Oe||(Oe=r.set(_e,new Group$4),L.add(Oe),$e=re?re.indexOfName(_e):null,Ie=n.isGeo?oe.getRegionModel(_e):re?re.getItemModel($e):null,$.set(_e,{dataIdx:$e,regionModel:Ie}));var Ne=[],ze=[];each$f(he.geometries,function(qe){if(qe.type==="polygon"){var Et=[qe.exterior].concat(qe.interiors||[]);le&&(Et=projectPolys(Et,le)),each$f(Et,function(kt){Ne.push(new Polygon$1(pe(kt)))})}else{var At=qe.points;le&&(At=projectPolys(At,le,!0)),each$f(At,function(kt){ze.push(new Polyline$3(pe(kt)))})}});var Ue=ue(he.getCenter(),ae&&ae.project);function Fe(qe,Et){if(qe.length){var At=new CompoundPath$1({culling:!0,segmentIgnoreThreshold:1,shape:{paths:qe}});Oe.add(At),applyOptionStyleForRegion(n,At,$e,Ie),resetLabelForRegion(n,At,_e,Ie,oe,$e,Ue),Et&&(fixLineStyle(At),each$f(At.states,fixLineStyle))}}Fe(Ne),Fe(ze,!0)}),r.each(function(he,_e){var Oe=$.get(_e),xe=Oe.dataIdx,$e=Oe.regionModel;resetEventTriggerForRegion(n,he,_e,$e,oe,xe),resetTooltipForRegion(n,he,_e,$e,oe),resetStateTriggerForRegion(n,he,_e,$e,oe)},this)},g.prototype._buildSVG=function(n){var r=n.geo.map,$=n.transformInfoRaw;this._svgGroup.x=$.x,this._svgGroup.y=$.y,this._svgGroup.scaleX=$.scaleX,this._svgGroup.scaleY=$.scaleY,this._svgResourceChanged(r)&&(this._freeSVG(),this._useSVG(r));var L=this._svgDispatcherMap=createHashMap(),V=!1;each$f(this._svgGraphicRecord.named,function(oe){var re=oe.name,ae=n.mapOrGeoModel,le=n.data,ue=oe.svgNodeTagLower,de=oe.el,pe=le?le.indexOfName(re):null,he=ae.getRegionModel(re);if(OPTION_STYLE_ENABLED_TAG_MAP.get(ue)!=null&&de instanceof Displayable$1&&applyOptionStyleForRegion(n,de,pe,he),de instanceof Displayable$1&&(de.culling=!0),de.z2EmphasisLift=0,!oe.namedFrom&&(LABEL_HOST_MAP.get(ue)!=null&&resetLabelForRegion(n,de,re,he,ae,pe,null),resetEventTriggerForRegion(n,de,re,he,ae,pe),resetTooltipForRegion(n,de,re,he,ae),STATE_TRIGGER_TAG_MAP.get(ue)!=null)){var _e=resetStateTriggerForRegion(n,de,re,he,ae);_e==="self"&&(V=!0);var Oe=L.get(re)||L.set(re,[]);Oe.push(de)}},this),this._enableBlurEntireSVG(V,n)},g.prototype._enableBlurEntireSVG=function(n,r){if(n&&r.isGeo){var $=r.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),L=$.opacity;this._svgGraphicRecord.root.traverse(function(V){if(!V.isGroup){setDefaultStateProxy(V);var oe=V.ensureState("blur").style||{};oe.opacity==null&&L!=null&&(oe.opacity=L),V.ensureState("emphasis")}})}},g.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},g.prototype.findHighDownDispatchers=function(n,r){if(n==null)return[];var $=r.coordinateSystem;if($.resourceType==="geoJSON"){var L=this._regionsGroupByName;if(L){var V=L.get(n);return V?[V]:[]}}else if($.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(n)||[]},g.prototype._svgResourceChanged=function(n){return this._svgMapName!==n},g.prototype._useSVG=function(n){var r=geoSourceManager.getGeoResource(n);if(r&&r.type==="geoSVG"){var $=r.useGraphic(this.uid);this._svgGroup.add($.root),this._svgGraphicRecord=$,this._svgMapName=n}},g.prototype._freeSVG=function(){var n=this._svgMapName;if(n!=null){var r=geoSourceManager.getGeoResource(n);r&&r.type==="geoSVG"&&r.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},g.prototype._updateController=function(n,r,$){var L=n.coordinateSystem,V=this._controller,oe=this._controllerHost;oe.zoomLimit=n.get("scaleLimit"),oe.zoom=L.getZoom(),V.enable(n.get("roam")||!1);var re=n.mainType;function ae(){var le={type:"geoRoam",componentType:re};return le[re+"Id"]=n.id,le}V.off("pan").on("pan",function(le){this._mouseDownFlag=!1,updateViewOnPan(oe,le.dx,le.dy),$.dispatchAction(extend$3(ae(),{dx:le.dx,dy:le.dy,animation:{duration:0}}))},this),V.off("zoom").on("zoom",function(le){this._mouseDownFlag=!1,updateViewOnZoom(oe,le.scale,le.originX,le.originY),$.dispatchAction(extend$3(ae(),{zoom:le.scale,originX:le.originX,originY:le.originY,animation:{duration:0}}))},this),V.setPointerChecker(function(le,ue,de){return L.containPoint([ue,de])&&!onIrrelevantElement(le,$,n)})},g.prototype.resetForLabelLayout=function(){this.group.traverse(function(n){var r=n.getTextContent();r&&(r.ignore=mapLabelRaw(r).ignore)})},g.prototype._updateMapSelectHandler=function(n,r,$,L){var V=this;r.off("mousedown"),r.off("click"),n.get("selectedMode")&&(r.on("mousedown",function(){V._mouseDownFlag=!0}),r.on("click",function(oe){!V._mouseDownFlag||(V._mouseDownFlag=!1)}))},g}();function applyOptionStyleForRegion(g,n,r,$){var L=$.getModel("itemStyle"),V=$.getModel(["emphasis","itemStyle"]),oe=$.getModel(["blur","itemStyle"]),re=$.getModel(["select","itemStyle"]),ae=getFixedItemStyle(L),le=getFixedItemStyle(V),ue=getFixedItemStyle(re),de=getFixedItemStyle(oe),pe=g.data;if(pe){var he=pe.getItemVisual(r,"style"),_e=pe.getItemVisual(r,"decal");g.isVisualEncodedByVisualMap&&he.fill&&(ae.fill=he.fill),_e&&(ae.decal=createOrUpdatePatternFromDecal(_e,g.api))}n.setStyle(ae),n.style.strokeNoScale=!0,n.ensureState("emphasis").style=le,n.ensureState("select").style=ue,n.ensureState("blur").style=de,setDefaultStateProxy(n)}function resetLabelForRegion(g,n,r,$,L,V,oe){var re=g.data,ae=g.isGeo,le=re&&isNaN(re.get(re.mapDimension("value"),V)),ue=re&&re.getItemLayout(V);if(ae||le||ue&&ue.showLabel){var de=ae?r:V,pe=void 0;(!re||V>=0)&&(pe=L);var he=oe?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle(n,getLabelStatesModels($),{labelFetcher:pe,labelDataIndex:de,defaultText:r},he);var _e=n.getTextContent();if(_e&&(mapLabelRaw(_e).ignore=_e.ignore,n.textConfig&&oe)){var Oe=n.getBoundingRect().clone();n.textConfig.layoutRect=Oe,n.textConfig.position=[(oe[0]-Oe.x)/Oe.width*100+"%",(oe[1]-Oe.y)/Oe.height*100+"%"]}n.disableLabelAnimation=!0}else n.removeTextContent(),n.removeTextConfig(),n.disableLabelAnimation=null}function resetEventTriggerForRegion(g,n,r,$,L,V){g.data?g.data.setItemGraphicEl(V,n):getECData(n).eventData={componentType:"geo",componentIndex:L.componentIndex,geoIndex:L.componentIndex,name:r,region:$&&$.option||{}}}function resetTooltipForRegion(g,n,r,$,L){g.data||setTooltipConfig({el:n,componentModel:L,itemName:r,itemTooltipOption:$.get("tooltip")})}function resetStateTriggerForRegion(g,n,r,$,L){n.highDownSilentOnTouch=!!L.get("selectedMode");var V=$.getModel("emphasis"),oe=V.get("focus");return toggleHoverEmphasis(n,oe,V.get("blurScope"),V.get("disabled")),g.isGeo&&enableComponentHighDownFeatures(n,L,r),oe}function projectPolys(g,n,r){var $=[],L;function V(){L=[]}function oe(){L.length&&($.push(L),L=[])}var re=n({polygonStart:V,polygonEnd:oe,lineStart:V,lineEnd:oe,point:function(ae,le){isFinite(ae)&&isFinite(le)&&L.push([ae,le])},sphere:function(){}});return!r&&re.polygonStart(),each$f(g,function(ae){re.lineStart();for(var le=0;le<ae.length;le++)re.point(ae[le][0],ae[le][1]);re.lineEnd()}),!r&&re.polygonEnd(),$}const MapDraw$1=MapDraw;var MapView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L,V){if(!(V&&V.type==="mapToggleSelect"&&V.from===this.uid)){var oe=this.group;if(oe.removeAll(),!r.getHostGeoModel()){if(this._mapDraw&&V&&V.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),V&&V.type==="geoRoam"&&V.componentType==="series"&&V.seriesId===r.id){var re=this._mapDraw;re&&oe.add(re.group)}else if(r.needsDrawMap){var re=this._mapDraw||new MapDraw$1(L);oe.add(re.group),re.draw(r,$,L,this,V),this._mapDraw=re}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;r.get("showLegendSymbol")&&$.getComponent("legend")&&this._renderSymbols(r,$,L)}}},n.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},n.prototype._renderSymbols=function(r,$,L){var V=r.originalData,oe=this.group;V.each(V.mapDimension("value"),function(re,ae){if(!isNaN(re)){var le=V.getItemLayout(ae);if(!(!le||!le.point)){var ue=le.point,de=le.offset,pe=new Circle$1({style:{fill:r.getData().getVisual("style").fill},shape:{cx:ue[0]+de*9,cy:ue[1],r:3},silent:!0,z2:8+(de?0:Z2_EMPHASIS_LIFT+1)});if(!de){var he=r.mainSeries.getData(),_e=V.getName(ae),Oe=he.indexOfName(_e),xe=V.getItemModel(ae),$e=xe.getModel("label"),Ie=he.getItemGraphicEl(Oe);setLabelStyle(pe,getLabelStatesModels(xe),{labelFetcher:{getFormattedLabel:function(Ne,ze){return r.getFormattedLabel(Oe,ze)}},defaultText:_e}),pe.disableLabelAnimation=!0,$e.get("position")||pe.setTextConfig({position:"bottom"}),Ie.onHoverStateChange=function(Ne){setStatesFlag(pe,Ne)}}oe.add(pe)}}})},n.type="map",n}(ChartView$1);const MapView$1=MapView;var MapSeries=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.needsDrawMap=!1,r.seriesGroup=[],r.getTooltipPosition=function($){if($!=null){var L=this.getData().getName($),V=this.coordinateSystem,oe=V.getRegion(L);return oe&&V.dataToPoint(oe.getCenter())}},r}return n.prototype.getInitialData=function(r){for(var $=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)}),L=createHashMap(),V=[],oe=0,re=$.count();oe<re;oe++){var ae=$.getName(oe);L.set(ae,!0)}var le=geoSourceManager.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return each$f(le.regions,function(ue){var de=ue.name;L.get(de)||V.push(de)}),$.appendValues([],V),$},n.prototype.getHostGeoModel=function(){var r=this.option.geoIndex;return r!=null?this.ecModel.getComponent("geo",r):null},n.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},n.prototype.getRawValue=function(r){var $=this.getData();return $.get($.mapDimension("value"),r)},n.prototype.getRegionModel=function(r){var $=this.getData();return $.getItemModel($.indexOfName(r))},n.prototype.formatTooltip=function(r,$,L){for(var V=this.getData(),oe=this.getRawValue(r),re=V.getName(r),ae=this.seriesGroup,le=[],ue=0;ue<ae.length;ue++){var de=ae[ue].originalData.indexOfName(re),pe=V.mapDimension("value");isNaN(ae[ue].originalData.get(pe,de))||le.push(ae[ue].name)}return createTooltipMarkup("section",{header:le.join(", "),noHeader:!le.length,blocks:[createTooltipMarkup("nameValue",{name:re,value:oe})]})},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.getLegendIcon=function(r){var $=r.icon||"roundRect",L=createSymbol$1($,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill);return L.setStyle(r.itemStyle),L.style.stroke="none",$.indexOf("empty")>-1&&(L.style.stroke=L.style.fill,L.style.fill="#fff",L.style.lineWidth=2),L},n.type="series.map",n.dependencies=["geo"],n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},n}(SeriesModel$1);const MapSeries$1=MapSeries;function dataStatistics(g,n){var r={};return each$f(g,function($){$.each($.mapDimension("value"),function(L,V){var oe="ec-"+$.getName(V);r[oe]=r[oe]||[],isNaN(L)||r[oe].push(L)})}),g[0].map(g[0].mapDimension("value"),function($,L){for(var V="ec-"+g[0].getName(L),oe=0,re=1/0,ae=-1/0,le=r[V].length,ue=0;ue<le;ue++)re=Math.min(re,r[V][ue]),ae=Math.max(ae,r[V][ue]),oe+=r[V][ue];var de;return n==="min"?de=re:n==="max"?de=ae:n==="average"?de=oe/le:de=oe,le===0?NaN:de})}function mapDataStatistic(g){var n={};g.eachSeriesByType("map",function(r){var $=r.getHostGeoModel(),L=$?"o"+$.id:"i"+r.getMapType();(n[L]=n[L]||[]).push(r)}),each$f(n,function(r,$){for(var L=dataStatistics(map$2(r,function(oe){return oe.getData()}),r[0].get("mapValueCalculation")),V=0;V<r.length;V++)r[V].originalData=r[V].getData();for(var V=0;V<r.length;V++)r[V].seriesGroup=r,r[V].needsDrawMap=V===0&&!r[V].getHostGeoModel(),r[V].setData(L.cloneShallow()),r[V].mainSeries=r[0]})}function mapSymbolLayout(g){var n={};g.eachSeriesByType("map",function(r){var $=r.getMapType();if(!(r.getHostGeoModel()||n[$])){var L={};each$f(r.seriesGroup,function(oe){var re=oe.coordinateSystem,ae=oe.originalData;oe.get("showLegendSymbol")&&g.getComponent("legend")&&ae.each(ae.mapDimension("value"),function(le,ue){var de=ae.getName(ue),pe=re.getRegion(de);if(!(!pe||isNaN(le))){var he=L[de]||0,_e=re.dataToPoint(pe.getCenter());L[de]=he+1,ae.setItemLayout(ue,{point:_e,offset:he})}})});var V=r.getData();V.each(function(oe){var re=V.getName(oe),ae=V.getItemLayout(oe)||{};ae.showLabel=!L[re],V.setItemLayout(oe,ae)}),n[$]=!0}})}var v2ApplyTransform=applyTransform$1,View=function(g){__extends(n,g);function n(r){var $=g.call(this)||this;return $.type="view",$.dimensions=["x","y"],$._roamTransformable=new Transformable,$._rawTransformable=new Transformable,$.name=r,$}return n.prototype.setBoundingRect=function(r,$,L,V){return this._rect=new BoundingRect$1(r,$,L,V),this._rect},n.prototype.getBoundingRect=function(){return this._rect},n.prototype.setViewRect=function(r,$,L,V){this._transformTo(r,$,L,V),this._viewRect=new BoundingRect$1(r,$,L,V)},n.prototype._transformTo=function(r,$,L,V){var oe=this.getBoundingRect(),re=this._rawTransformable;re.transform=oe.calculateTransform(new BoundingRect$1(r,$,L,V));var ae=re.parent;re.parent=null,re.decomposeTransform(),re.parent=ae,this._updateTransform()},n.prototype.setCenter=function(r,$){!r||(this._center=[parsePercent(r[0],$.getWidth()),parsePercent(r[1],$.getHeight())],this._updateCenterAndZoom())},n.prototype.setZoom=function(r){r=r||1;var $=this.zoomLimit;$&&($.max!=null&&(r=Math.min($.max,r)),$.min!=null&&(r=Math.max($.min,r))),this._zoom=r,this._updateCenterAndZoom()},n.prototype.getDefaultCenter=function(){var r=this.getBoundingRect(),$=r.x+r.width/2,L=r.y+r.height/2;return[$,L]},n.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},n.prototype.getZoom=function(){return this._zoom||1},n.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},n.prototype._updateCenterAndZoom=function(){var r=this._rawTransformable.getLocalTransform(),$=this._roamTransformable,L=this.getDefaultCenter(),V=this.getCenter(),oe=this.getZoom();V=applyTransform$1([],V,r),L=applyTransform$1([],L,r),$.originX=V[0],$.originY=V[1],$.x=L[0]-V[0],$.y=L[1]-V[1],$.scaleX=$.scaleY=oe,this._updateTransform()},n.prototype._updateTransform=function(){var r=this._roamTransformable,$=this._rawTransformable;$.parent=r,r.updateTransform(),$.updateTransform(),copy$1(this.transform||(this.transform=[]),$.transform||create$1()),this._rawTransform=$.getLocalTransform(),this.invTransform=this.invTransform||[],invert(this.invTransform,this.transform),this.decomposeTransform()},n.prototype.getTransformInfo=function(){var r=this._rawTransformable,$=this._roamTransformable,L=new Transformable;return L.transform=$.transform,L.decomposeTransform(),{roam:{x:L.x,y:L.y,scaleX:L.scaleX,scaleY:L.scaleY},raw:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY}}},n.prototype.getViewRect=function(){return this._viewRect},n.prototype.getViewRectAfterRoam=function(){var r=this.getBoundingRect().clone();return r.applyTransform(this.transform),r},n.prototype.dataToPoint=function(r,$,L){var V=$?this._rawTransform:this.transform;return L=L||[],V?v2ApplyTransform(L,r,V):copy$2(L,r)},n.prototype.pointToData=function(r){var $=this.invTransform;return $?v2ApplyTransform([],r,$):[r[0],r[1]]},n.prototype.convertToPixel=function(r,$,L){var V=getCoordSys$4($);return V===this?V.dataToPoint(L):null},n.prototype.convertFromPixel=function(r,$,L){var V=getCoordSys$4($);return V===this?V.pointToData(L):null},n.prototype.containPoint=function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])},n.dimensions=["x","y"],n}(Transformable);function getCoordSys$4(g){var n=g.seriesModel;return n?n.coordinateSystem:null}const View$1=View;var GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=["lng","lat"],Geo=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this,r)||this;V.dimensions=geo2DDimensions,V.type="geo",V._nameCoordMap=createHashMap(),V.map=$;var oe=L.projection,re=geoSourceManager.load($,L.nameMap,L.nameProperty),ae=geoSourceManager.getGeoResource($);V.resourceType=ae?ae.type:null;var le=V.regions=re.regions,ue=GEO_DEFAULT_PARAMS[ae.type];V._regionsMap=re.regionsMap,V.regions=re.regions,V.projection=oe;var de;if(oe)for(var pe=0;pe<le.length;pe++){var he=le[pe].getBoundingRect(oe);de=de||he.clone(),de.union(he)}else de=re.boundingRect;return V.setBoundingRect(de.x,de.y,de.width,de.height),V.aspectScale=oe?1:retrieve2(L.aspectScale,ue.aspectScale),V._invertLongitute=oe?!1:ue.invertLongitute,V}return n.prototype._transformTo=function(r,$,L,V){var oe=this.getBoundingRect(),re=this._invertLongitute;oe=oe.clone(),re&&(oe.y=-oe.y-oe.height);var ae=this._rawTransformable;ae.transform=oe.calculateTransform(new BoundingRect$1(r,$,L,V));var le=ae.parent;ae.parent=null,ae.decomposeTransform(),ae.parent=le,re&&(ae.scaleY=-ae.scaleY),this._updateTransform()},n.prototype.getRegion=function(r){return this._regionsMap.get(r)},n.prototype.getRegionByCoord=function(r){for(var $=this.regions,L=0;L<$.length;L++){var V=$[L];if(V.type==="geoJSON"&&V.contain(r))return $[L]}},n.prototype.addGeoCoord=function(r,$){this._nameCoordMap.set(r,$)},n.prototype.getGeoCoord=function(r){var $=this._regionsMap.get(r);return this._nameCoordMap.get(r)||$&&$.getCenter()},n.prototype.dataToPoint=function(r,$,L){if(isString$3(r)&&(r=this.getGeoCoord(r)),r){var V=this.projection;return V&&(r=V.project(r)),r&&this.projectedToPoint(r,$,L)}},n.prototype.pointToData=function(r){var $=this.projection;return $&&(r=$.unproject(r)),r&&this.pointToProjected(r)},n.prototype.pointToProjected=function(r){return g.prototype.pointToData.call(this,r)},n.prototype.projectedToPoint=function(r,$,L){return g.prototype.dataToPoint.call(this,r,$,L)},n.prototype.convertToPixel=function(r,$,L){var V=getCoordSys$3($);return V===this?V.dataToPoint(L):null},n.prototype.convertFromPixel=function(r,$,L){var V=getCoordSys$3($);return V===this?V.pointToData(L):null},n}(View$1);mixin(Geo,View$1);function getCoordSys$3(g){var n=g.geoModel,r=g.seriesModel;return n?n.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo",SINGLE_REFERRING).models[0]||{}).coordinateSystem:null}const Geo$1=Geo;function resizeGeo(g,n){var r=g.get("boundingCoords");if(r!=null){var $=r[0],L=r[1];if(isFinite($[0])&&isFinite($[1])&&isFinite(L[0])&&isFinite(L[1])){var V=this.projection;if(V){var oe=$[0],re=$[1],ae=L[0],le=L[1];$=[1/0,1/0],L=[-1/0,-1/0];var ue=function(Fe,qe,Et,At){for(var kt=Et-Fe,Dt=At-qe,jt=0;jt<=100;jt++){var Lt=jt/100,hn=V.project([Fe+kt*Lt,qe+Dt*Lt]);min$1($,$,hn),max$1(L,L,hn)}};ue(oe,re,ae,re),ue(ae,re,ae,le),ue(ae,le,oe,le),ue(oe,le,ae,re)}this.setBoundingRect($[0],$[1],L[0]-$[0],L[1]-$[1])}}var de=this.getBoundingRect(),pe=g.get("layoutCenter"),he=g.get("layoutSize"),_e=n.getWidth(),Oe=n.getHeight(),xe=de.width/de.height*this.aspectScale,$e=!1,Ie,Ne;pe&&he&&(Ie=[parsePercent(pe[0],_e),parsePercent(pe[1],Oe)],Ne=parsePercent(he,Math.min(_e,Oe)),!isNaN(Ie[0])&&!isNaN(Ie[1])&&!isNaN(Ne)&&($e=!0));var ze;if($e)ze={},xe>1?(ze.width=Ne,ze.height=Ne/xe):(ze.height=Ne,ze.width=Ne*xe),ze.y=Ie[1]-ze.height/2,ze.x=Ie[0]-ze.width/2;else{var Ue=g.getBoxLayoutParams();Ue.aspect=xe,ze=getLayoutRect(Ue,{width:_e,height:Oe})}this.setViewRect(ze.x,ze.y,ze.width,ze.height),this.setCenter(g.get("center"),n),this.setZoom(g.get("zoom"))}function setGeoCoords(g,n){each$f(n.get("geoCoord"),function(r,$){g.addGeoCoord($,r)})}var GeoCreator=function(){function g(){this.dimensions=geo2DDimensions}return g.prototype.create=function(n,r){var $=[];function L(oe){return{nameProperty:oe.get("nameProperty"),aspectScale:oe.get("aspectScale"),projection:oe.get("projection")}}n.eachComponent("geo",function(oe,re){var ae=oe.get("map"),le=new Geo$1(ae+re,ae,extend$3({nameMap:oe.get("nameMap")},L(oe)));le.zoomLimit=oe.get("scaleLimit"),$.push(le),oe.coordinateSystem=le,le.model=oe,le.resize=resizeGeo,le.resize(oe,r)}),n.eachSeries(function(oe){var re=oe.get("coordinateSystem");if(re==="geo"){var ae=oe.get("geoIndex")||0;oe.coordinateSystem=$[ae]}});var V={};return n.eachSeriesByType("map",function(oe){if(!oe.getHostGeoModel()){var re=oe.getMapType();V[re]=V[re]||[],V[re].push(oe)}}),each$f(V,function(oe,re){var ae=map$2(oe,function(ue){return ue.get("nameMap")}),le=new Geo$1(re,re,extend$3({nameMap:mergeAll(ae)},L(oe[0])));le.zoomLimit=retrieve.apply(null,map$2(oe,function(ue){return ue.get("scaleLimit")})),$.push(le),le.resize=resizeGeo,le.resize(oe[0],r),each$f(oe,function(ue){ue.coordinateSystem=le,setGeoCoords(le,ue)})}),$},g.prototype.getFilledRegions=function(n,r,$,L){for(var V=(n||[]).slice(),oe=createHashMap(),re=0;re<V.length;re++)oe.set(V[re].name,V[re]);var ae=geoSourceManager.load(r,$,L);return each$f(ae.regions,function(le){var ue=le.name;!oe.get(ue)&&V.push({name:ue})}),V},g}(),geoCreator=new GeoCreator;const geoCreator$1=geoCreator;var GeoModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$,L){var V=geoSourceManager.getGeoResource(r.map);if(V&&V.type==="geoJSON"){var oe=r.itemStyle=r.itemStyle||{};"color"in oe||(oe.color="#eee")}this.mergeDefaultAndTheme(r,L),defaultEmphasis(r,"label",["show"])},n.prototype.optionUpdated=function(){var r=this,$=this.option;$.regions=geoCreator$1.getFilledRegions($.regions,$.map,$.nameMap,$.nameProperty);var L={};this._optionModelMap=reduce($.regions||[],function(V,oe){var re=oe.name;return re&&(V.set(re,new Model$1(oe,r,r.ecModel)),oe.selected&&(L[re]=!0)),V},createHashMap()),$.selectedMap||($.selectedMap=L)},n.prototype.getRegionModel=function(r){return this._optionModelMap.get(r)||new Model$1(null,this,this.ecModel)},n.prototype.getFormattedLabel=function(r,$){var L=this.getRegionModel(r),V=$==="normal"?L.get(["label","formatter"]):L.get(["emphasis","label","formatter"]),oe={name:r};if(isFunction$3(V))return oe.status=$,V(oe);if(isString$3(V))return V.replace("{a}",r!=null?r:"")},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.select=function(r){var $=this.option,L=$.selectedMode;if(L){L!=="multiple"&&($.selectedMap=null);var V=$.selectedMap||($.selectedMap={});V[r]=!0}},n.prototype.unSelect=function(r){var $=this.option.selectedMap;$&&($[r]=!1)},n.prototype.toggleSelected=function(r){this[this.isSelected(r)?"unSelect":"select"](r)},n.prototype.isSelected=function(r){var $=this.option.selectedMap;return!!($&&$[r])},n.type="geo",n.layoutMode="box",n.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},n}(ComponentModel$1);const GeoModel$1=GeoModel;function getCenterCoord(g,n){return g.pointToProjected?g.pointToProjected(n):g.pointToData(n)}function updateCenterAndZoom(g,n,r,$){var L=g.getZoom(),V=g.getCenter(),oe=n.zoom,re=g.projectedToPoint?g.projectedToPoint(V):g.dataToPoint(V);if(n.dx!=null&&n.dy!=null&&(re[0]-=n.dx,re[1]-=n.dy,g.setCenter(getCenterCoord(g,re),$)),oe!=null){if(r){var ae=r.min||0,le=r.max||1/0;oe=Math.max(Math.min(L*oe,le),ae)/L}g.scaleX*=oe,g.scaleY*=oe;var ue=(n.originX-g.x)*(oe-1),de=(n.originY-g.y)*(oe-1);g.x-=ue,g.y-=de,g.updateTransform(),g.setCenter(getCenterCoord(g,re),$),g.setZoom(oe*L)}return{center:g.getCenter(),zoom:g.getZoom()}}var GeoView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.focusBlurEnabled=!0,r}return n.prototype.init=function(r,$){this._api=$},n.prototype.render=function(r,$,L,V){if(this._model=r,!r.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new MapDraw$1(L));var oe=this._mapDraw;oe.draw(r,$,L,this,V),oe.group.on("click",this._handleRegionClick,this),oe.group.silent=r.get("silent"),this.group.add(oe.group),this.updateSelectStatus(r,$,L)},n.prototype._handleRegionClick=function(r){var $;findEventDispatcher(r.target,function(L){return($=getECData(L).eventData)!=null},!0),$&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:$.name})},n.prototype.updateSelectStatus=function(r,$,L){var V=this;this._mapDraw.group.traverse(function(oe){var re=getECData(oe).eventData;if(re)return V._model.isSelected(re.name)?L.enterSelect(oe):L.leaveSelect(oe),!0})},n.prototype.findHighDownDispatchers=function(r){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(r,this._model)},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},n.type="geo",n}(ComponentView$1);const GeoView$1=GeoView;function registerMap(g,n,r){geoSourceManager.registerMap(g,n,r)}function install$L(g){g.registerCoordinateSystem("geo",geoCreator$1),g.registerComponentModel(GeoModel$1),g.registerComponentView(GeoView$1),g.registerImpl("registerMap",registerMap),g.registerImpl("getMap",function(r){return geoSourceManager.getMapForUser(r)});function n(r,$){$.update="geo:updateSelectStatus",g.registerAction($,function(L,V){var oe={},re=[];return V.eachComponent({mainType:"geo",query:L},function(ae){ae[r](L.name);var le=ae.coordinateSystem;each$f(le.regions,function(de){oe[de.name]=ae.isSelected(de.name)||!1});var ue=[];each$f(oe,function(de,pe){oe[pe]&&ue.push(pe)}),re.push({geoIndex:ae.componentIndex,name:ue})}),{selected:oe,allSelected:re,name:L.name}})}n("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),n("select",{type:"geoSelect",event:"geoselected"}),n("unSelect",{type:"geoUnSelect",event:"geounselected"}),g.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(r,$,L){var V=r.componentType||"series";$.eachComponent({mainType:V,query:r},function(oe){var re=oe.coordinateSystem;if(re.type==="geo"){var ae=updateCenterAndZoom(re,r,oe.get("scaleLimit"),L);oe.setCenter&&oe.setCenter(ae.center),oe.setZoom&&oe.setZoom(ae.zoom),V==="series"&&each$f(oe.seriesGroup,function(le){le.setCenter(ae.center),le.setZoom(ae.zoom)})}})})}function install$K(g){use(install$L),g.registerChartView(MapView$1),g.registerSeriesModel(MapSeries$1),g.registerLayout(mapSymbolLayout),g.registerProcessor(g.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),createLegacyDataSelectAction("map",g.registerAction)}function init(g){var n=g;n.hierNode={defaultAncestor:null,ancestor:n,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r=[n],$,L;$=r.pop();)if(L=$.children,$.isExpand&&L.length)for(var V=L.length,oe=V-1;oe>=0;oe--){var re=L[oe];re.hierNode={defaultAncestor:null,ancestor:re,prelim:0,modifier:0,change:0,shift:0,i:oe,thread:null},r.push(re)}}function firstWalk(g,n){var r=g.isExpand?g.children:[],$=g.parentNode.children,L=g.hierNode.i?$[g.hierNode.i-1]:null;if(r.length){executeShifts(g);var V=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;L?(g.hierNode.prelim=L.hierNode.prelim+n(g,L),g.hierNode.modifier=g.hierNode.prelim-V):g.hierNode.prelim=V}else L&&(g.hierNode.prelim=L.hierNode.prelim+n(g,L));g.parentNode.hierNode.defaultAncestor=apportion(g,L,g.parentNode.hierNode.defaultAncestor||$[0],n)}function secondWalk(g){var n=g.hierNode.prelim+g.parentNode.hierNode.modifier;g.setLayout({x:n},!0),g.hierNode.modifier+=g.parentNode.hierNode.modifier}function separation(g){return arguments.length?g:defaultSeparation}function radialCoordinate(g,n){return g-=Math.PI/2,{x:n*Math.cos(g),y:n*Math.sin(g)}}function getViewRect$4(g,n){return getLayoutRect(g.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function executeShifts(g){for(var n=g.children,r=n.length,$=0,L=0;--r>=0;){var V=n[r];V.hierNode.prelim+=$,V.hierNode.modifier+=$,L+=V.hierNode.change,$+=V.hierNode.shift+L}}function apportion(g,n,r,$){if(n){for(var L=g,V=g,oe=V.parentNode.children[0],re=n,ae=L.hierNode.modifier,le=V.hierNode.modifier,ue=oe.hierNode.modifier,de=re.hierNode.modifier;re=nextRight(re),V=nextLeft(V),re&&V;){L=nextRight(L),oe=nextLeft(oe),L.hierNode.ancestor=g;var pe=re.hierNode.prelim+de-V.hierNode.prelim-le+$(re,V);pe>0&&(moveSubtree(nextAncestor(re,g,r),g,pe),le+=pe,ae+=pe),de+=re.hierNode.modifier,le+=V.hierNode.modifier,ae+=L.hierNode.modifier,ue+=oe.hierNode.modifier}re&&!nextRight(L)&&(L.hierNode.thread=re,L.hierNode.modifier+=de-ae),V&&!nextLeft(oe)&&(oe.hierNode.thread=V,oe.hierNode.modifier+=le-ue,r=g)}return r}function nextRight(g){var n=g.children;return n.length&&g.isExpand?n[n.length-1]:g.hierNode.thread}function nextLeft(g){var n=g.children;return n.length&&g.isExpand?n[0]:g.hierNode.thread}function nextAncestor(g,n,r){return g.hierNode.ancestor.parentNode===n.parentNode?g.hierNode.ancestor:r}function moveSubtree(g,n,r){var $=r/(n.hierNode.i-g.hierNode.i);n.hierNode.change-=$,n.hierNode.shift+=r,n.hierNode.modifier+=r,n.hierNode.prelim+=r,g.hierNode.change+=$}function defaultSeparation(g,n){return g.parentNode===n.parentNode?1:2}var TreeEdgeShape=function(){function g(){this.parentPoint=[],this.childPoints=[]}return g}(),TreePath=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new TreeEdgeShape},n.prototype.buildPath=function(r,$){var L=$.childPoints,V=L.length,oe=$.parentPoint,re=L[0],ae=L[V-1];if(V===1){r.moveTo(oe[0],oe[1]),r.lineTo(re[0],re[1]);return}var le=$.orient,ue=le==="TB"||le==="BT"?0:1,de=1-ue,pe=parsePercent($.forkPosition,1),he=[];he[ue]=oe[ue],he[de]=oe[de]+(ae[de]-oe[de])*pe,r.moveTo(oe[0],oe[1]),r.lineTo(he[0],he[1]),r.moveTo(re[0],re[1]),he[ue]=re[ue],r.lineTo(he[0],he[1]),he[ue]=ae[ue],r.lineTo(he[0],he[1]),r.lineTo(ae[0],ae[1]);for(var _e=1;_e<V-1;_e++){var Oe=L[_e];r.moveTo(Oe[0],Oe[1]),he[ue]=Oe[ue],r.lineTo(he[0],he[1])}},n}(Path$1),TreeView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._mainGroup=new Group$4,r}return n.prototype.init=function(r,$){this._controller=new RoamController$1($.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},n.prototype.render=function(r,$,L){var V=r.getData(),oe=r.layoutInfo,re=this._mainGroup,ae=r.get("layout");ae==="radial"?(re.x=oe.x+oe.width/2,re.y=oe.y+oe.height/2):(re.x=oe.x,re.y=oe.y),this._updateViewCoordSys(r,L),this._updateController(r,$,L);var le=this._data;V.diff(le).add(function(ue){symbolNeedsDraw(V,ue)&&updateNode(V,ue,null,re,r)}).update(function(ue,de){var pe=le.getItemGraphicEl(de);if(!symbolNeedsDraw(V,ue)){pe&&removeNode(le,de,pe,re,r);return}updateNode(V,ue,pe,re,r)}).remove(function(ue){var de=le.getItemGraphicEl(ue);de&&removeNode(le,ue,de,re,r)}).execute(),this._nodeScaleRatio=r.get("nodeScaleRatio"),this._updateNodeAndLinkScale(r),r.get("expandAndCollapse")===!0&&V.eachItemGraphicEl(function(ue,de){ue.off("click").on("click",function(){L.dispatchAction({type:"treeExpandAndCollapse",seriesId:r.id,dataIndex:de})})}),this._data=V},n.prototype._updateViewCoordSys=function(r,$){var L=r.getData(),V=[];L.each(function(de){var pe=L.getItemLayout(de);pe&&!isNaN(pe.x)&&!isNaN(pe.y)&&V.push([+pe.x,+pe.y])});var oe=[],re=[];fromPoints(V,oe,re);var ae=this._min,le=this._max;re[0]-oe[0]===0&&(oe[0]=ae?ae[0]:oe[0]-1,re[0]=le?le[0]:re[0]+1),re[1]-oe[1]===0&&(oe[1]=ae?ae[1]:oe[1]-1,re[1]=le?le[1]:re[1]+1);var ue=r.coordinateSystem=new View$1;ue.zoomLimit=r.get("scaleLimit"),ue.setBoundingRect(oe[0],oe[1],re[0]-oe[0],re[1]-oe[1]),ue.setCenter(r.get("center"),$),ue.setZoom(r.get("zoom")),this.group.attr({x:ue.x,y:ue.y,scaleX:ue.scaleX,scaleY:ue.scaleY}),this._min=oe,this._max=re},n.prototype._updateController=function(r,$,L){var V=this,oe=this._controller,re=this._controllerHost,ae=this.group;oe.setPointerChecker(function(le,ue,de){var pe=ae.getBoundingRect();return pe.applyTransform(ae.transform),pe.contain(ue,de)&&!onIrrelevantElement(le,L,r)}),oe.enable(r.get("roam")),re.zoomLimit=r.get("scaleLimit"),re.zoom=r.coordinateSystem.getZoom(),oe.off("pan").off("zoom").on("pan",function(le){updateViewOnPan(re,le.dx,le.dy),L.dispatchAction({seriesId:r.id,type:"treeRoam",dx:le.dx,dy:le.dy})}).on("zoom",function(le){updateViewOnZoom(re,le.scale,le.originX,le.originY),L.dispatchAction({seriesId:r.id,type:"treeRoam",zoom:le.scale,originX:le.originX,originY:le.originY}),V._updateNodeAndLinkScale(r),L.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(r){var $=r.getData(),L=this._getNodeGlobalScale(r);$.eachItemGraphicEl(function(V,oe){V.setSymbolScale(L)})},n.prototype._getNodeGlobalScale=function(r){var $=r.coordinateSystem;if($.type!=="view")return 1;var L=this._nodeScaleRatio,V=$.scaleX||1,oe=$.getZoom(),re=(oe-1)*L+1;return re/V},n.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},n.type="tree",n}(ChartView$1);function symbolNeedsDraw(g,n){var r=g.getItemLayout(n);return r&&!isNaN(r.x)&&!isNaN(r.y)}function updateNode(g,n,r,$,L){var V=!r,oe=g.tree.getNodeByDataIndex(n),re=oe.getModel(),ae=oe.getVisual("style").fill,le=oe.isExpand===!1&&oe.children.length!==0?ae:"#fff",ue=g.tree.root,de=oe.parentNode===ue?oe:oe.parentNode||oe,pe=g.getItemGraphicEl(de.dataIndex),he=de.getLayout(),_e=pe?{x:pe.__oldX,y:pe.__oldY,rawX:pe.__radialOldRawX,rawY:pe.__radialOldRawY}:he,Oe=oe.getLayout();V?(r=new SymbolClz(g,n,null,{symbolInnerColor:le,useNameLabel:!0}),r.x=_e.x,r.y=_e.y):r.updateData(g,n,null,{symbolInnerColor:le,useNameLabel:!0}),r.__radialOldRawX=r.__radialRawX,r.__radialOldRawY=r.__radialRawY,r.__radialRawX=Oe.rawX,r.__radialRawY=Oe.rawY,$.add(r),g.setItemGraphicEl(n,r),r.__oldX=r.x,r.__oldY=r.y,updateProps$1(r,{x:Oe.x,y:Oe.y},L);var xe=r.getSymbolPath();if(L.get("layout")==="radial"){var $e=ue.children[0],Ie=$e.getLayout(),Ne=$e.children.length,ze=void 0,Ue=void 0;if(Oe.x===Ie.x&&oe.isExpand===!0&&$e.children.length){var Fe={x:($e.children[0].getLayout().x+$e.children[Ne-1].getLayout().x)/2,y:($e.children[0].getLayout().y+$e.children[Ne-1].getLayout().y)/2};ze=Math.atan2(Fe.y-Ie.y,Fe.x-Ie.x),ze<0&&(ze=Math.PI*2+ze),Ue=Fe.x<Ie.x,Ue&&(ze=ze-Math.PI)}else ze=Math.atan2(Oe.y-Ie.y,Oe.x-Ie.x),ze<0&&(ze=Math.PI*2+ze),oe.children.length===0||oe.children.length!==0&&oe.isExpand===!1?(Ue=Oe.x<Ie.x,Ue&&(ze=ze-Math.PI)):(Ue=Oe.x>Ie.x,Ue||(ze=ze-Math.PI));var qe=Ue?"left":"right",Et=re.getModel("label"),At=Et.get("rotate"),kt=At*(Math.PI/180),Dt=xe.getTextContent();Dt&&(xe.setTextConfig({position:Et.get("position")||qe,rotation:At==null?-ze:kt,origin:"center"}),Dt.setStyle("verticalAlign","middle"))}var jt=re.get(["emphasis","focus"]),Lt=jt==="relative"?concatArray(oe.getAncestorsIndices(),oe.getDescendantIndices()):jt==="ancestor"?oe.getAncestorsIndices():jt==="descendant"?oe.getDescendantIndices():null;Lt&&(getECData(r).focus=Lt),drawEdge(L,oe,ue,r,_e,he,Oe,$),r.__edge&&(r.onHoverStateChange=function(hn){if(hn!=="blur"){var Sn=oe.parentNode&&g.getItemGraphicEl(oe.parentNode.dataIndex);Sn&&Sn.hoverState===HOVER_STATE_BLUR||setStatesFlag(r.__edge,hn)}})}function drawEdge(g,n,r,$,L,V,oe,re){var ae=n.getModel(),le=g.get("edgeShape"),ue=g.get("layout"),de=g.getOrient(),pe=g.get(["lineStyle","curveness"]),he=g.get("edgeForkPosition"),_e=ae.getModel("lineStyle").getLineStyle(),Oe=$.__edge;if(le==="curve")n.parentNode&&n.parentNode!==r&&(Oe||(Oe=$.__edge=new BezierCurve$1({shape:getEdgeShape(ue,de,pe,L,L)})),updateProps$1(Oe,{shape:getEdgeShape(ue,de,pe,V,oe)},g));else if(le==="polyline"&&ue==="orthogonal"&&n!==r&&n.children&&n.children.length!==0&&n.isExpand===!0){for(var xe=n.children,$e=[],Ie=0;Ie<xe.length;Ie++){var Ne=xe[Ie].getLayout();$e.push([Ne.x,Ne.y])}Oe||(Oe=$.__edge=new TreePath({shape:{parentPoint:[oe.x,oe.y],childPoints:[[oe.x,oe.y]],orient:de,forkPosition:he}})),updateProps$1(Oe,{shape:{parentPoint:[oe.x,oe.y],childPoints:$e}},g)}Oe&&!(le==="polyline"&&!n.isExpand)&&(Oe.useStyle(defaults$5({strokeNoScale:!0,fill:null},_e)),setStatesStylesFromModel(Oe,ae,"lineStyle"),setDefaultStateProxy(Oe),re.add(Oe))}function removeNodeEdge(g,n,r,$,L){var V=n.tree.root,oe=getSourceNode(V,g),re=oe.source,ae=oe.sourceLayout,le=n.getItemGraphicEl(g.dataIndex);if(le){var ue=n.getItemGraphicEl(re.dataIndex),de=ue.__edge,pe=le.__edge||(re.isExpand===!1||re.children.length===1?de:void 0),he=$.get("edgeShape"),_e=$.get("layout"),Oe=$.get("orient"),xe=$.get(["lineStyle","curveness"]);pe&&(he==="curve"?removeElement(pe,{shape:getEdgeShape(_e,Oe,xe,ae,ae),style:{opacity:0}},$,{cb:function(){r.remove(pe)},removeOpt:L}):he==="polyline"&&$.get("layout")==="orthogonal"&&removeElement(pe,{shape:{parentPoint:[ae.x,ae.y],childPoints:[[ae.x,ae.y]]},style:{opacity:0}},$,{cb:function(){r.remove(pe)},removeOpt:L}))}}function getSourceNode(g,n){for(var r=n.parentNode===g?n:n.parentNode||n,$;$=r.getLayout(),$==null;)r=r.parentNode===g?r:r.parentNode||r;return{source:r,sourceLayout:$}}function removeNode(g,n,r,$,L){var V=g.tree.getNodeByDataIndex(n),oe=g.tree.root,re=getSourceNode(oe,V).sourceLayout,ae={duration:L.get("animationDurationUpdate"),easing:L.get("animationEasingUpdate")};removeElement(r,{x:re.x+1,y:re.y+1},L,{cb:function(){$.remove(r),g.setItemGraphicEl(n,null)},removeOpt:ae}),r.fadeOut(null,g.hostModel,{fadeLabel:!0,animation:ae}),V.children.forEach(function(le){removeNodeEdge(le,g,$,L,ae)}),removeNodeEdge(V,g,$,L,ae)}function getEdgeShape(g,n,r,$,L){var V,oe,re,ae,le,ue,de,pe;if(g==="radial"){le=$.rawX,de=$.rawY,ue=L.rawX,pe=L.rawY;var he=radialCoordinate(le,de),_e=radialCoordinate(le,de+(pe-de)*r),Oe=radialCoordinate(ue,pe+(de-pe)*r),xe=radialCoordinate(ue,pe);return{x1:he.x||0,y1:he.y||0,x2:xe.x||0,y2:xe.y||0,cpx1:_e.x||0,cpy1:_e.y||0,cpx2:Oe.x||0,cpy2:Oe.y||0}}else le=$.x,de=$.y,ue=L.x,pe=L.y,(n==="LR"||n==="RL")&&(V=le+(ue-le)*r,oe=de,re=ue+(le-ue)*r,ae=pe),(n==="TB"||n==="BT")&&(V=le,oe=de+(pe-de)*r,re=ue,ae=pe+(de-pe)*r);return{x1:le,y1:de,x2:ue,y2:pe,cpx1:V,cpy1:oe,cpx2:re,cpy2:ae}}const TreeView$1=TreeView;var inner$e=makeInner();function linkSeriesData(g){var n=g.mainData,r=g.datas;r||(r={main:n},g.datasAttr={main:"data"}),g.datas=g.mainData=null,linkAll(n,r,g),each$f(r,function($){each$f(n.TRANSFERABLE_METHODS,function(L){$.wrapMethod(L,curry$1(transferInjection,g))})}),n.wrapMethod("cloneShallow",curry$1(cloneShallowInjection,g)),each$f(n.CHANGABLE_METHODS,function($){n.wrapMethod($,curry$1(changeInjection,g))}),assert(r[n.dataType]===n)}function transferInjection(g,n){if(isMainData(this)){var r=extend$3({},inner$e(this).datas);r[this.dataType]=n,linkAll(n,r,g)}else linkSingle(n,this.dataType,inner$e(this).mainData,g);return n}function changeInjection(g,n){return g.struct&&g.struct.update(),n}function cloneShallowInjection(g,n){return each$f(inner$e(n).datas,function(r,$){r!==n&&linkSingle(r.cloneShallow(),$,n,g)}),n}function getLinkedData(g){var n=inner$e(this).mainData;return g==null||n==null?n:inner$e(n).datas[g]}function getLinkedDataAll(){var g=inner$e(this).mainData;return g==null?[{data:g}]:map$2(keys$2(inner$e(g).datas),function(n){return{type:n,data:inner$e(g).datas[n]}})}function isMainData(g){return inner$e(g).mainData===g}function linkAll(g,n,r){inner$e(g).datas={},each$f(n,function($,L){linkSingle($,L,g,r)})}function linkSingle(g,n,r,$){inner$e(r).datas[n]=g,inner$e(g).mainData=r,g.dataType=n,$.struct&&(g[$.structAttr]=$.struct,$.struct[$.datasAttr[n]]=g),g.getLinkedData=getLinkedData,g.getLinkedDataAll=getLinkedDataAll}var TreeNode$1=function(){function g(n,r){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=n||"",this.hostTree=r}return g.prototype.isRemoved=function(){return this.dataIndex<0},g.prototype.eachNode=function(n,r,$){isFunction$3(n)&&($=r,r=n,n=null),n=n||{},isString$3(n)&&(n={order:n});var L=n.order||"preorder",V=this[n.attr||"children"],oe;L==="preorder"&&(oe=r.call($,this));for(var re=0;!oe&&re<V.length;re++)V[re].eachNode(n,r,$);L==="postorder"&&r.call($,this)},g.prototype.updateDepthAndHeight=function(n){var r=0;this.depth=n;for(var $=0;$<this.children.length;$++){var L=this.children[$];L.updateDepthAndHeight(n+1),L.height>r&&(r=L.height)}this.height=r+1},g.prototype.getNodeById=function(n){if(this.getId()===n)return this;for(var r=0,$=this.children,L=$.length;r<L;r++){var V=$[r].getNodeById(n);if(V)return V}},g.prototype.contains=function(n){if(n===this)return!0;for(var r=0,$=this.children,L=$.length;r<L;r++){var V=$[r].contains(n);if(V)return V}},g.prototype.getAncestors=function(n){for(var r=[],$=n?this:this.parentNode;$;)r.push($),$=$.parentNode;return r.reverse(),r},g.prototype.getAncestorsIndices=function(){for(var n=[],r=this;r;)n.push(r.dataIndex),r=r.parentNode;return n.reverse(),n},g.prototype.getDescendantIndices=function(){var n=[];return this.eachNode(function(r){n.push(r.dataIndex)}),n},g.prototype.getValue=function(n){var r=this.hostTree.data;return r.getStore().get(r.getDimensionIndex(n||"value"),this.dataIndex)},g.prototype.setLayout=function(n,r){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,n,r)},g.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},g.prototype.getModel=function(n){if(!(this.dataIndex<0)){var r=this.hostTree,$=r.data.getItemModel(this.dataIndex);return $.getModel(n)}},g.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},g.prototype.setVisual=function(n,r){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,n,r)},g.prototype.getVisual=function(n){return this.hostTree.data.getItemVisual(this.dataIndex,n)},g.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},g.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},g.prototype.getChildIndex=function(){if(this.parentNode){for(var n=this.parentNode.children,r=0;r<n.length;++r)if(n[r]===this)return r;return-1}return-1},g.prototype.isAncestorOf=function(n){for(var r=n.parentNode;r;){if(r===this)return!0;r=r.parentNode}return!1},g.prototype.isDescendantOf=function(n){return n!==this&&n.isAncestorOf(this)},g}(),Tree$1=function(){function g(n){this.type="tree",this._nodes=[],this.hostModel=n}return g.prototype.eachNode=function(n,r,$){this.root.eachNode(n,r,$)},g.prototype.getNodeByDataIndex=function(n){var r=this.data.getRawIndex(n);return this._nodes[r]},g.prototype.getNodeById=function(n){return this.root.getNodeById(n)},g.prototype.update=function(){for(var n=this.data,r=this._nodes,$=0,L=r.length;$<L;$++)r[$].dataIndex=-1;for(var $=0,L=n.count();$<L;$++)r[n.getRawIndex($)].dataIndex=$},g.prototype.clearLayouts=function(){this.data.clearItemLayouts()},g.createTree=function(n,r,$){var L=new g(r),V=[],oe=1;re(n);function re(ue,de){var pe=ue.value;oe=Math.max(oe,isArray$6(pe)?pe.length:1),V.push(ue);var he=new TreeNode$1(convertOptionIdName(ue.name,""),L);de?addChild(he,de):L.root=he,L._nodes.push(he);var _e=ue.children;if(_e)for(var Oe=0;Oe<_e.length;Oe++)re(_e[Oe],he)}L.root.updateDepthAndHeight(0);var ae=prepareSeriesDataSchema(V,{coordDimensions:["value"],dimensionsCount:oe}).dimensions,le=new SeriesData$1(ae,r);return le.initData(V),$&&$(le),linkSeriesData({mainData:le,struct:L,structAttr:"tree"}),L.update(),L},g}();function addChild(g,n){var r=n.children;g.parentNode!==n&&(r.push(g),g.parentNode=n)}const Tree$2=Tree$1;function retrieveTargetInfo(g,n,r){if(g&&indexOf(n,g.type)>=0){var $=r.getData().tree.root,L=g.targetNode;if(isString$3(L)&&(L=$.getNodeById(L)),L&&$.contains(L))return{node:L};var V=g.targetNodeId;if(V!=null&&(L=$.getNodeById(V)))return{node:L}}}function getPathToRoot(g){for(var n=[];g;)g=g.parentNode,g&&n.push(g);return n.reverse()}function aboveViewRoot(g,n){var r=getPathToRoot(g);return indexOf(r,n)>=0}function wrapTreePathInfo(g,n){for(var r=[];g;){var $=g.dataIndex;r.push({name:g.name,dataIndex:$,value:n.getRawValue($)}),g=g.parentNode}return r.reverse(),r}var TreeSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.hasSymbolVisual=!0,r.ignoreStyleOnData=!0,r}return n.prototype.getInitialData=function(r){var $={name:r.name,children:r.data},L=r.leaves||{},V=new Model$1(L,this,this.ecModel),oe=Tree$2.createTree($,this,re);function re(de){de.wrapMethod("getItemModel",function(pe,he){var _e=oe.getNodeByDataIndex(he);return _e&&_e.children.length&&_e.isExpand||(pe.parentModel=V),pe})}var ae=0;oe.eachNode("preorder",function(de){de.depth>ae&&(ae=de.depth)});var le=r.expandAndCollapse,ue=le&&r.initialTreeDepth>=0?r.initialTreeDepth:ae;return oe.root.eachNode("preorder",function(de){var pe=de.hostTree.data.getRawDataItem(de.dataIndex);de.isExpand=pe&&pe.collapsed!=null?!pe.collapsed:de.depth<=ue}),oe.data},n.prototype.getOrient=function(){var r=this.get("orient");return r==="horizontal"?r="LR":r==="vertical"&&(r="TB"),r},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.formatTooltip=function(r,$,L){for(var V=this.getData().tree,oe=V.root.children[0],re=V.getNodeByDataIndex(r),ae=re.getValue(),le=re.name;re&&re!==oe;)le=re.parentNode.name+"."+le,re=re.parentNode;return createTooltipMarkup("nameValue",{name:le,value:ae,noValue:isNaN(ae)||ae==null})},n.prototype.getDataParams=function(r){var $=g.prototype.getDataParams.apply(this,arguments),L=this.getData().tree.getNodeByDataIndex(r);return $.treeAncestors=wrapTreePathInfo(L,this),$.collapsed=!L.isExpand,$},n.type="series.tree",n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},n}(SeriesModel$1);const TreeSeriesModel$1=TreeSeriesModel;function eachAfter(g,n,r){for(var $=[g],L=[],V;V=$.pop();)if(L.push(V),V.isExpand){var oe=V.children;if(oe.length)for(var re=0;re<oe.length;re++)$.push(oe[re])}for(;V=L.pop();)n(V,r)}function eachBefore(g,n){for(var r=[g],$;$=r.pop();)if(n($),$.isExpand){var L=$.children;if(L.length)for(var V=L.length-1;V>=0;V--)r.push(L[V])}}function treeLayout(g,n){g.eachSeriesByType("tree",function(r){commonLayout(r,n)})}function commonLayout(g,n){var r=getViewRect$4(g,n);g.layoutInfo=r;var $=g.get("layout"),L=0,V=0,oe=null;$==="radial"?(L=2*Math.PI,V=Math.min(r.height,r.width)/2,oe=separation(function(Ne,ze){return(Ne.parentNode===ze.parentNode?1:2)/Ne.depth})):(L=r.width,V=r.height,oe=separation());var re=g.getData().tree.root,ae=re.children[0];if(ae){init(re),eachAfter(ae,firstWalk,oe),re.hierNode.modifier=-ae.hierNode.prelim,eachBefore(ae,secondWalk);var le=ae,ue=ae,de=ae;eachBefore(ae,function(Ne){var ze=Ne.getLayout().x;ze<le.getLayout().x&&(le=Ne),ze>ue.getLayout().x&&(ue=Ne),Ne.depth>de.depth&&(de=Ne)});var pe=le===ue?1:oe(le,ue)/2,he=pe-le.getLayout().x,_e=0,Oe=0,xe=0,$e=0;if($==="radial")_e=L/(ue.getLayout().x+pe+he),Oe=V/(de.depth-1||1),eachBefore(ae,function(Ne){xe=(Ne.getLayout().x+he)*_e,$e=(Ne.depth-1)*Oe;var ze=radialCoordinate(xe,$e);Ne.setLayout({x:ze.x,y:ze.y,rawX:xe,rawY:$e},!0)});else{var Ie=g.getOrient();Ie==="RL"||Ie==="LR"?(Oe=V/(ue.getLayout().x+pe+he),_e=L/(de.depth-1||1),eachBefore(ae,function(Ne){$e=(Ne.getLayout().x+he)*Oe,xe=Ie==="LR"?(Ne.depth-1)*_e:L-(Ne.depth-1)*_e,Ne.setLayout({x:xe,y:$e},!0)})):(Ie==="TB"||Ie==="BT")&&(_e=L/(ue.getLayout().x+pe+he),Oe=V/(de.depth-1||1),eachBefore(ae,function(Ne){xe=(Ne.getLayout().x+he)*_e,$e=Ie==="TB"?(Ne.depth-1)*Oe:V-(Ne.depth-1)*Oe,Ne.setLayout({x:xe,y:$e},!0)}))}}}function treeVisual(g){g.eachSeriesByType("tree",function(n){var r=n.getData(),$=r.tree;$.eachNode(function(L){var V=L.getModel(),oe=V.getModel("itemStyle").getItemStyle(),re=r.ensureUniqueItemVisual(L.dataIndex,"style");extend$3(re,oe)})})}function installTreeAction(g){g.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(n,r){r.eachComponent({mainType:"series",subType:"tree",query:n},function($){var L=n.dataIndex,V=$.getData().tree,oe=V.getNodeByDataIndex(L);oe.isExpand=!oe.isExpand})}),g.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(n,r,$){r.eachComponent({mainType:"series",subType:"tree",query:n},function(L){var V=L.coordinateSystem,oe=updateCenterAndZoom(V,n,void 0,$);L.setCenter&&L.setCenter(oe.center),L.setZoom&&L.setZoom(oe.zoom)})})}function install$J(g){g.registerChartView(TreeView$1),g.registerSeriesModel(TreeSeriesModel$1),g.registerLayout(treeLayout),g.registerVisual(treeVisual),installTreeAction(g)}var actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];function installTreemapAction(g){for(var n=0;n<actionTypes.length;n++)g.registerAction({type:actionTypes[n],update:"updateView"},noop$5);g.registerAction({type:"treemapRootToNode",update:"updateView"},function(r,$){$.eachComponent({mainType:"series",subType:"treemap",query:r},L);function L(V,oe){var re=["treemapZoomToNode","treemapRootToNode"],ae=retrieveTargetInfo(r,re,V);if(ae){var le=V.getViewRoot();le&&(r.direction=aboveViewRoot(le,ae.node)?"rollUp":"drillDown"),V.resetViewRoot(ae.node)}}})}function enableAriaDecalForTree(g){var n=g.getData(),r=n.tree,$={};r.eachNode(function(L){for(var V=L;V&&V.depth>1;)V=V.parentNode;var oe=getDecalFromPalette(g.ecModel,V.name||V.dataIndex+"",$);L.setVisual("decal",oe)})}var TreemapSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.preventUsingHoverLayer=!0,r}return n.prototype.getInitialData=function(r,$){var L={name:r.name,children:r.data};completeTreeValue$1(L);var V=r.levels||[],oe=this.designatedVisualItemStyle={},re=new Model$1({itemStyle:oe},this,$);V=r.levels=setDefault(V,$);var ae=map$2(V||[],function(de){return new Model$1(de,re,$)},this),le=Tree$2.createTree(L,this,ue);function ue(de){de.wrapMethod("getItemModel",function(pe,he){var _e=le.getNodeByDataIndex(he),Oe=_e?ae[_e.depth]:null;return pe.parentModel=Oe||re,pe})}return le.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.formatTooltip=function(r,$,L){var V=this.getData(),oe=this.getRawValue(r),re=V.getName(r);return createTooltipMarkup("nameValue",{name:re,value:oe})},n.prototype.getDataParams=function(r){var $=g.prototype.getDataParams.apply(this,arguments),L=this.getData().tree.getNodeByDataIndex(r);return $.treeAncestors=wrapTreePathInfo(L,this),$.treePathInfo=$.treeAncestors,$},n.prototype.setLayoutInfo=function(r){this.layoutInfo=this.layoutInfo||{},extend$3(this.layoutInfo,r)},n.prototype.mapIdToIndex=function(r){var $=this._idIndexMap;$||($=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var L=$.get(r);return L==null&&$.set(r,L=this._idIndexMapCount++),L},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var $=this.getRawData().tree.root;(!r||r!==$&&!$.contains(r))&&(this._viewRoot=$)},n.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},n.type="series.treemap",n.layoutMode="box",n.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},n}(SeriesModel$1);function completeTreeValue$1(g){var n=0;each$f(g.children,function($){completeTreeValue$1($);var L=$.value;isArray$6(L)&&(L=L[0]),n+=L});var r=g.value;isArray$6(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=n),r<0&&(r=0),isArray$6(g.value)?g.value[0]=r:g.value=r}function setDefault(g,n){var r=normalizeToArray(n.get("color")),$=normalizeToArray(n.get(["aria","decal","decals"]));if(r){g=g||[];var L,V;each$f(g,function(re){var ae=new Model$1(re),le=ae.get("color"),ue=ae.get("decal");(ae.get(["itemStyle","color"])||le&&le!=="none")&&(L=!0),(ae.get(["itemStyle","decal"])||ue&&ue!=="none")&&(V=!0)});var oe=g[0]||(g[0]={});return L||(oe.color=r.slice()),!V&&$&&(oe.decal=$.slice()),g}}const TreemapSeriesModel$1=TreemapSeriesModel;var TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=function(){function g(n){this.group=new Group$4,n.add(this.group)}return g.prototype.render=function(n,r,$,L){var V=n.getModel("breadcrumb"),oe=this.group;if(oe.removeAll(),!(!V.get("show")||!$)){var re=V.getModel("itemStyle"),ae=V.getModel("emphasis"),le=re.getModel("textStyle"),ue=ae.getModel(["itemStyle","textStyle"]),de={pos:{left:V.get("left"),right:V.get("right"),top:V.get("top"),bottom:V.get("bottom")},box:{width:r.getWidth(),height:r.getHeight()},emptyItemWidth:V.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare($,de,le),this._renderContent(n,de,re,ae,le,ue,L),positionElement(oe,de.pos,de.box)}},g.prototype._prepare=function(n,r,$){for(var L=n;L;L=L.parentNode){var V=convertOptionIdName(L.getModel().get("name"),""),oe=$.getTextRect(V),re=Math.max(oe.width+TEXT_PADDING*2,r.emptyItemWidth);r.totalWidth+=re+ITEM_GAP,r.renderList.push({node:L,text:V,width:re})}},g.prototype._renderContent=function(n,r,$,L,V,oe,re){for(var ae=0,le=r.emptyItemWidth,ue=n.get(["breadcrumb","height"]),de=getAvailableSize(r.pos,r.box),pe=r.totalWidth,he=r.renderList,_e=L.getModel("itemStyle").getItemStyle(),Oe=he.length-1;Oe>=0;Oe--){var xe=he[Oe],$e=xe.node,Ie=xe.width,Ne=xe.text;pe>de.width&&(pe-=Ie-le,Ie=le,Ne=null);var ze=new Polygon$1({shape:{points:makeItemPoints(ae,0,Ie,ue,Oe===he.length-1,Oe===0)},style:defaults$5($.getItemStyle(),{lineJoin:"bevel"}),textContent:new ZRText$1({style:createTextStyle(V,{text:Ne})}),textConfig:{position:"inside"},z2:Z2_EMPHASIS_LIFT*1e4,onclick:curry$1(re,$e)});ze.disableLabelAnimation=!0,ze.getTextContent().ensureState("emphasis").style=createTextStyle(oe,{text:Ne}),ze.ensureState("emphasis").style=_e,toggleHoverEmphasis(ze,L.get("focus"),L.get("blurScope"),L.get("disabled")),this.group.add(ze),packEventData(ze,n,$e),ae+=Ie+ITEM_GAP}},g.prototype.remove=function(){this.group.removeAll()},g}();function makeItemPoints(g,n,r,$,L,V){var oe=[[L?g:g-ARRAY_LENGTH,n],[g+r,n],[g+r,n+$],[L?g:g-ARRAY_LENGTH,n+$]];return!V&&oe.splice(2,0,[g+r+ARRAY_LENGTH,n+$/2]),!L&&oe.push([g,n+$/2]),oe}function packEventData(g,n,r){getECData(g).eventData={componentType:"series",componentSubType:"treemap",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&wrapTreePathInfo(r,n)}}const Breadcrumb$1=Breadcrumb;var AnimationWrap=function(){function g(){this._storage=[],this._elExistsMap={}}return g.prototype.add=function(n,r,$,L,V){return this._elExistsMap[n.id]?!1:(this._elExistsMap[n.id]=!0,this._storage.push({el:n,target:r,duration:$,delay:L,easing:V}),!0)},g.prototype.finished=function(n){return this._finishedCallback=n,this},g.prototype.start=function(){for(var n=this,r=this._storage.length,$=function(){r--,r<=0&&(n._storage.length=0,n._elExistsMap={},n._finishedCallback&&n._finishedCallback())},L=0,V=this._storage.length;L<V;L++){var oe=this._storage[L];oe.el.animateTo(oe.target,{duration:oe.duration,delay:oe.delay,easing:oe.easing,setToFinal:!0,done:$,aborted:$})}return this},g}();function createWrap(){return new AnimationWrap}var Group$2=Group$4,Rect$1=Rect$3,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL="label",PATH_UPPERLABEL_NORMAL="upperLabel",Z2_BASE=Z2_EMPHASIS_LIFT*10,Z2_BG=Z2_EMPHASIS_LIFT*2,Z2_CONTENT=Z2_EMPHASIS_LIFT*3,getStateItemStyle=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(g){var n=getStateItemStyle(g);return n.stroke=n.fill=n.lineWidth=null,n},inner$d=makeInner(),TreemapView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._state="ready",r._storage=createStorage(),r}return n.prototype.render=function(r,$,L,V){var oe=$.findComponents({mainType:"series",subType:"treemap",query:V});if(!(indexOf(oe,r)<0)){this.seriesModel=r,this.api=L,this.ecModel=$;var re=["treemapZoomToNode","treemapRootToNode"],ae=retrieveTargetInfo(V,re,r),le=V&&V.type,ue=r.layoutInfo,de=!this._oldTree,pe=this._storage,he=le==="treemapRootToNode"&&ae&&pe?{rootNodeGroup:pe.nodeGroup[ae.node.getRawIndex()],direction:V.direction}:null,_e=this._giveContainerGroup(ue),Oe=r.get("animation"),xe=this._doRender(_e,r,he);Oe&&!de&&(!le||le==="treemapZoomToNode"||le==="treemapRootToNode")?this._doAnimation(_e,xe,r,he):xe.renderFinally(),this._resetController(L),this._renderBreadcrumb(r,L,ae)}},n.prototype._giveContainerGroup=function(r){var $=this._containerGroup;return $||($=this._containerGroup=new Group$2,this._initEvents($),this.group.add($)),$.x=r.x,$.y=r.y,$},n.prototype._doRender=function(r,$,L){var V=$.getData().tree,oe=this._oldTree,re=createStorage(),ae=createStorage(),le=this._storage,ue=[];function de(xe,$e,Ie,Ne){return renderNode($,ae,le,L,re,ue,xe,$e,Ie,Ne)}he(V.root?[V.root]:[],oe&&oe.root?[oe.root]:[],r,V===oe||!oe,0);var pe=_e(le);return this._oldTree=V,this._storage=ae,{lastsForAnimation:re,willDeleteEls:pe,renderFinally:Oe};function he(xe,$e,Ie,Ne,ze){Ne?($e=xe,each$f(xe,function(qe,Et){!qe.isRemoved()&&Fe(Et,Et)})):new DataDiffer$1($e,xe,Ue,Ue).add(Fe).update(Fe).remove(curry$1(Fe,null)).execute();function Ue(qe){return qe.getId()}function Fe(qe,Et){var At=qe!=null?xe[qe]:null,kt=Et!=null?$e[Et]:null,Dt=de(At,kt,Ie,ze);Dt&&he(At&&At.viewChildren||[],kt&&kt.viewChildren||[],Dt,Ne,ze+1)}}function _e(xe){var $e=createStorage();return xe&&each$f(xe,function(Ie,Ne){var ze=$e[Ne];each$f(Ie,function(Ue){Ue&&(ze.push(Ue),inner$d(Ue).willDelete=!0)})}),$e}function Oe(){each$f(pe,function(xe){each$f(xe,function($e){$e.parent&&$e.parent.remove($e)})}),each$f(ue,function(xe){xe.invisible=!0,xe.dirty()})}},n.prototype._doAnimation=function(r,$,L,V){var oe=L.get("animationDurationUpdate"),re=L.get("animationEasing"),ae=(isFunction$3(oe)?0:oe)||0,le=(isFunction$3(re)?null:re)||"cubicOut",ue=createWrap();each$f($.willDeleteEls,function(de,pe){each$f(de,function(he,_e){if(!he.invisible){var Oe=he.parent,xe,$e=inner$d(Oe);if(V&&V.direction==="drillDown")xe=Oe===V.rootNodeGroup?{shape:{x:0,y:0,width:$e.nodeWidth,height:$e.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var Ie=0,Ne=0;$e.willDelete||(Ie=$e.nodeWidth/2,Ne=$e.nodeHeight/2),xe=pe==="nodeGroup"?{x:Ie,y:Ne,style:{opacity:0}}:{shape:{x:Ie,y:Ne,width:0,height:0},style:{opacity:0}}}xe&&ue.add(he,xe,ae,0,le)}})}),each$f(this._storage,function(de,pe){each$f(de,function(he,_e){var Oe=$.lastsForAnimation[pe][_e],xe={};!Oe||(he instanceof Group$4?Oe.oldX!=null&&(xe.x=he.x,xe.y=he.y,he.x=Oe.oldX,he.y=Oe.oldY):(Oe.oldShape&&(xe.shape=extend$3({},he.shape),he.setShape(Oe.oldShape)),Oe.fadein?(he.setStyle("opacity",0),xe.style={opacity:1}):he.style.opacity!==1&&(xe.style={opacity:1})),ue.add(he,xe,ae,0,le))})},this),this._state="animating",ue.finished(bind$3(function(){this._state="ready",$.renderFinally()},this)).start()},n.prototype._resetController=function(r){var $=this._controller;$||($=this._controller=new RoamController$1(r.getZr()),$.enable(this.seriesModel.get("roam")),$.on("pan",bind$3(this._onPan,this)),$.on("zoom",bind$3(this._onZoom,this)));var L=new BoundingRect$1(0,0,r.getWidth(),r.getHeight());$.setPointerChecker(function(V,oe,re){return L.contain(oe,re)})},n.prototype._clearController=function(){var r=this._controller;r&&(r.dispose(),r=null)},n.prototype._onPan=function(r){if(this._state!=="animating"&&(Math.abs(r.dx)>DRAG_THRESHOLD||Math.abs(r.dy)>DRAG_THRESHOLD)){var $=this.seriesModel.getData().tree.root;if(!$)return;var L=$.getLayout();if(!L)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:L.x+r.dx,y:L.y+r.dy,width:L.width,height:L.height}})}},n.prototype._onZoom=function(r){var $=r.originX,L=r.originY;if(this._state!=="animating"){var V=this.seriesModel.getData().tree.root;if(!V)return;var oe=V.getLayout();if(!oe)return;var re=new BoundingRect$1(oe.x,oe.y,oe.width,oe.height),ae=this.seriesModel.layoutInfo;$-=ae.x,L-=ae.y;var le=create$1();translate$1(le,le,[-$,-L]),scale$1(le,le,[r.scale,r.scale]),translate$1(le,le,[$,L]),re.applyTransform(le),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:re.x,y:re.y,width:re.width,height:re.height}})}},n.prototype._initEvents=function(r){var $=this;r.on("click",function(L){if($._state==="ready"){var V=$.seriesModel.get("nodeClick",!0);if(V){var oe=$.findTarget(L.offsetX,L.offsetY);if(oe){var re=oe.node;if(re.getLayout().isLeafRoot)$._rootToNode(oe);else if(V==="zoomToNode")$._zoomToNode(oe);else if(V==="link"){var ae=re.hostTree.data.getItemModel(re.dataIndex),le=ae.get("link",!0),ue=ae.get("target",!0)||"blank";le&&windowOpen(le,ue)}}}}},this)},n.prototype._renderBreadcrumb=function(r,$,L){var V=this;L||(L=r.get("leafDepth",!0)!=null?{node:r.getViewRoot()}:this.findTarget($.getWidth()/2,$.getHeight()/2),L||(L={node:r.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb$1(this.group))).render(r,$,L.node,function(oe){V._state!=="animating"&&(aboveViewRoot(r.getViewRoot(),oe)?V._rootToNode({node:oe}):V._zoomToNode({node:oe}))})},n.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},n.prototype.dispose=function(){this._clearController()},n.prototype._zoomToNode=function(r){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},n.prototype._rootToNode=function(r){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},n.prototype.findTarget=function(r,$){var L,V=this.seriesModel.getViewRoot();return V.eachNode({attr:"viewChildren",order:"preorder"},function(oe){var re=this._storage.background[oe.getRawIndex()];if(re){var ae=re.transformCoordToLocal(r,$),le=re.shape;if(le.x<=ae[0]&&ae[0]<=le.x+le.width&&le.y<=ae[1]&&ae[1]<=le.y+le.height)L={node:oe,offsetX:ae[0],offsetY:ae[1]};else return!1}},this),L},n.type="treemap",n}(ChartView$1);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode(g,n,r,$,L,V,oe,re,ae,le){if(!oe)return;var ue=oe.getLayout(),de=g.getData(),pe=oe.getModel();if(de.setItemGraphicEl(oe.dataIndex,null),!ue||!ue.isInView)return;var he=ue.width,_e=ue.height,Oe=ue.borderWidth,xe=ue.invisible,$e=oe.getRawIndex(),Ie=re&&re.getRawIndex(),Ne=oe.viewChildren,ze=ue.upperHeight,Ue=Ne&&Ne.length,Fe=pe.getModel("itemStyle"),qe=pe.getModel(["emphasis","itemStyle"]),Et=pe.getModel(["blur","itemStyle"]),At=pe.getModel(["select","itemStyle"]),kt=Fe.get("borderRadius")||0,Dt=Wn("nodeGroup",Group$2);if(!Dt)return;if(ae.add(Dt),Dt.x=ue.x||0,Dt.y=ue.y||0,Dt.markRedraw(),inner$d(Dt).nodeWidth=he,inner$d(Dt).nodeHeight=_e,ue.isAboveViewRoot)return Dt;var jt=Wn("background",Rect$1,le,Z2_BG);jt&&bn(Dt,jt,Ue&&ue.upperLabelHeight);var Lt=pe.getModel("emphasis"),hn=Lt.get("focus"),Sn=Lt.get("blurScope"),On=Lt.get("disabled"),_n=hn==="ancestor"?oe.getAncestorsIndices():hn==="descendant"?oe.getDescendantIndices():hn;if(Ue)isHighDownDispatcher(Dt)&&setAsHighDownDispatcher(Dt,!1),jt&&(setAsHighDownDispatcher(jt,!On),de.setItemGraphicEl(oe.dataIndex,jt),enableHoverFocus(jt,_n,Sn));else{var xn=Wn("content",Rect$1,le,Z2_CONTENT);xn&&Tn(Dt,xn),jt.disableMorphing=!0,jt&&isHighDownDispatcher(jt)&&setAsHighDownDispatcher(jt,!1),setAsHighDownDispatcher(Dt,!On),de.setItemGraphicEl(oe.dataIndex,Dt),enableHoverFocus(Dt,_n,Sn)}return Dt;function bn(In,Nn,Vn){var Un=getECData(Nn);if(Un.dataIndex=oe.dataIndex,Un.seriesIndex=g.seriesIndex,Nn.setShape({x:0,y:0,width:he,height:_e,r:kt}),xe)An(Nn);else{Nn.invisible=!1;var Gn=oe.getVisual("style"),$n=Gn.stroke,kn=getItemStyleNormal(Fe);kn.fill=$n;var Bn=getStateItemStyle(qe);Bn.fill=qe.get("borderColor");var Yn=getStateItemStyle(Et);Yn.fill=Et.get("borderColor");var Jn=getStateItemStyle(At);if(Jn.fill=At.get("borderColor"),Vn){var Kn=he-2*Oe;En(Nn,$n,Gn.opacity,{x:Oe,y:0,width:Kn,height:ze})}else Nn.removeTextContent();Nn.setStyle(kn),Nn.ensureState("emphasis").style=Bn,Nn.ensureState("blur").style=Yn,Nn.ensureState("select").style=Jn,setDefaultStateProxy(Nn)}In.add(Nn)}function Tn(In,Nn){var Vn=getECData(Nn);Vn.dataIndex=oe.dataIndex,Vn.seriesIndex=g.seriesIndex;var Un=Math.max(he-2*Oe,0),Gn=Math.max(_e-2*Oe,0);if(Nn.culling=!0,Nn.setShape({x:Oe,y:Oe,width:Un,height:Gn,r:kt}),xe)An(Nn);else{Nn.invisible=!1;var $n=oe.getVisual("style"),kn=$n.fill,Bn=getItemStyleNormal(Fe);Bn.fill=kn,Bn.decal=$n.decal;var Yn=getStateItemStyle(qe),Jn=getStateItemStyle(Et),Kn=getStateItemStyle(At);En(Nn,kn,$n.opacity,null),Nn.setStyle(Bn),Nn.ensureState("emphasis").style=Yn,Nn.ensureState("blur").style=Jn,Nn.ensureState("select").style=Kn,setDefaultStateProxy(Nn)}In.add(Nn)}function An(In){!In.invisible&&V.push(In)}function En(In,Nn,Vn,Un){var Gn=pe.getModel(Un?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),$n=convertOptionIdName(pe.get("name"),null),kn=Gn.getShallow("show");setLabelStyle(In,getLabelStatesModels(pe,Un?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:kn?$n:null,inheritColor:Nn,defaultOpacity:Vn,labelFetcher:g,labelDataIndex:oe.dataIndex});var Bn=In.getTextContent();if(Bn){var Yn=Bn.style,Jn=normalizeCssArray$1(Yn.padding||0);Un&&(In.setTextConfig({layoutRect:Un}),Bn.disableLabelLayout=!0),Bn.beforeUpdate=function(){var po=Math.max((Un?Un.width:In.shape.width)-Jn[1]-Jn[3],0),oo=Math.max((Un?Un.height:In.shape.height)-Jn[0]-Jn[2],0);(Yn.width!==po||Yn.height!==oo)&&Bn.setStyle({width:po,height:oo})},Yn.truncateMinChar=2,Yn.lineOverflow="truncate",Ln(Yn,Un,ue);var Kn=Bn.getState("emphasis");Ln(Kn?Kn.style:null,Un,ue)}}function Ln(In,Nn,Vn){var Un=In?In.text:null;if(!Nn&&Vn.isLeafRoot&&Un!=null){var Gn=g.get("drillDownIcon",!0);In.text=Gn?Gn+" "+Un:Un}}function Wn(In,Nn,Vn,Un){var Gn=Ie!=null&&r[In][Ie],$n=L[In];return Gn?(r[In][Ie]=null,Mn($n,Gn)):xe||(Gn=new Nn,Gn instanceof Displayable$1&&(Gn.z2=calculateZ2(Vn,Un)),Fn($n,Gn)),n[In][$e]=Gn}function Mn(In,Nn){var Vn=In[$e]={};Nn instanceof Group$2?(Vn.oldX=Nn.x,Vn.oldY=Nn.y):Vn.oldShape=extend$3({},Nn.shape)}function Fn(In,Nn){var Vn=In[$e]={},Un=oe.parentNode,Gn=Nn instanceof Group$4;if(Un&&(!$||$.direction==="drillDown")){var $n=0,kn=0,Bn=L.background[Un.getRawIndex()];!$&&Bn&&Bn.oldShape&&($n=Bn.oldShape.width,kn=Bn.oldShape.height),Gn?(Vn.oldX=0,Vn.oldY=kn):Vn.oldShape={x:$n,y:kn,width:0,height:0}}Vn.fadein=!Gn}}function calculateZ2(g,n){return g*Z2_BASE+n}const TreemapView$1=TreemapView;var each$c=each$f,isObject$3=isObject$6,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function g(n){var r=n.mappingMethod,$=n.type,L=this.option=clone$5(n);this.type=$,this.mappingMethod=r,this._normalizeData=normalizers[r];var V=g.visualHandlers[$];this.applyVisual=V.applyVisual,this.getColorMapper=V.getColorMapper,this._normalizedToVisual=V._normalizedToVisual[r],r==="piecewise"?(normalizeVisualRange(L),preprocessForPiecewise(L)):r==="category"?L.categories?preprocessForSpecifiedCategory(L):normalizeVisualRange(L,!0):(assert(r!=="linear"||L.dataExtent),normalizeVisualRange(L))}return g.prototype.mapValueToVisual=function(n){var r=this._normalizeData(n);return this._normalizedToVisual(r,n)},g.prototype.getNormalizer=function(){return bind$3(this._normalizeData,this)},g.listVisualTypes=function(){return keys$2(g.visualHandlers)},g.isValidType=function(n){return g.visualHandlers.hasOwnProperty(n)},g.eachVisual=function(n,r,$){isObject$6(n)?each$f(n,r,$):r.call($,n)},g.mapVisual=function(n,r,$){var L,V=isArray$6(n)?[]:isObject$6(n)?{}:(L=!0,null);return g.eachVisual(n,function(oe,re){var ae=r.call($,oe,re);L?V=ae:V[re]=ae}),V},g.retrieveVisuals=function(n){var r={},$;return n&&each$c(g.visualHandlers,function(L,V){n.hasOwnProperty(V)&&(r[V]=n[V],$=!0)}),$?r:null},g.prepareVisualTypes=function(n){if(isArray$6(n))n=n.slice();else if(isObject$3(n)){var r=[];each$c(n,function($,L){r.push(L)}),n=r}else return[];return n.sort(function($,L){return L==="color"&&$!=="color"&&$.indexOf("color")===0?1:-1}),n},g.dependsOn=function(n,r){return r==="color"?!!(n&&n.indexOf(r)===0):n===r},g.findPieceIndex=function(n,r,$){for(var L,V=1/0,oe=0,re=r.length;oe<re;oe++){var ae=r[oe].value;if(ae!=null){if(ae===n||isString$3(ae)&&ae===n+"")return oe;$&&pe(ae,oe)}}for(var oe=0,re=r.length;oe<re;oe++){var le=r[oe],ue=le.interval,de=le.close;if(ue){if(ue[0]===-1/0){if(littleThan(de[1],n,ue[1]))return oe}else if(ue[1]===1/0){if(littleThan(de[0],ue[0],n))return oe}else if(littleThan(de[0],ue[0],n)&&littleThan(de[1],n,ue[1]))return oe;$&&pe(ue[0],oe),$&&pe(ue[1],oe)}}if($)return n===1/0?r.length-1:n===-1/0?0:L;function pe(he,_e){var Oe=Math.abs(he-n);Oe<V&&(V=Oe,L=_e)}},g.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var n=this.option;return bind$3(n.mappingMethod==="category"?function(r,$){return!$&&(r=this._normalizeData(r)),doMapCategory.call(this,r)}:function(r,$,L){var V=!!L;return!$&&(r=this._normalizeData(r)),L=fastLerp(r,n.parsedVisual,L),V?L:stringify$1(L,"rgba")},this)},_normalizedToVisual:{linear:function(n){return stringify$1(fastLerp(n,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(n,r){var $=getSpecifiedVisual.call(this,r);return $==null&&($=stringify$1(fastLerp(n,this.option.parsedVisual),"rgba")),$},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(n,r){return modifyHSL(n,r)}),colorSaturation:makePartialColorVisualHandler(function(n,r){return modifyHSL(n,null,r)}),colorLightness:makePartialColorVisualHandler(function(n,r){return modifyHSL(n,null,null,r)}),colorAlpha:makePartialColorVisualHandler(function(n,r){return modifyAlpha(n,r)}),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(n,r,$){var L=this.mapValueToVisual(n);$("symbol",L)},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(n,r){var $=getSpecifiedVisual.call(this,r);return $==null&&($=doMapToArray.call(this,n)),$},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},g}();function preprocessForPiecewise(g){var n=g.pieceList;g.hasSpecialVisual=!1,each$f(n,function(r,$){r.originIndex=$,r.visual!=null&&(g.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(g){var n=g.categories,r=g.categoryMap={},$=g.visual;if(each$c(n,function(oe,re){r[oe]=re}),!isArray$6($)){var L=[];isObject$6($)?each$c($,function(oe,re){var ae=r[re];L[ae!=null?ae:CATEGORY_DEFAULT_VISUAL_INDEX]=oe}):L[CATEGORY_DEFAULT_VISUAL_INDEX]=$,$=setVisualToOption(g,L)}for(var V=n.length-1;V>=0;V--)$[V]==null&&(delete r[n[V]],n.pop())}function normalizeVisualRange(g,n){var r=g.visual,$=[];isObject$6(r)?each$c(r,function(V){$.push(V)}):r!=null&&$.push(r);var L={color:1,symbol:1};!n&&$.length===1&&!L.hasOwnProperty(g.type)&&($[1]=$[0]),setVisualToOption(g,$)}function makePartialColorVisualHandler(g){return{applyVisual:function(n,r,$){var L=this.mapValueToVisual(n);$("color",g(r("color"),L))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(g){var n=this.option.visual;return n[Math.round(linearMap$2(g,[0,1],[0,n.length-1],!0))]||{}}function makeApplyVisual(g){return function(n,r,$){$(g,this.mapValueToVisual(n))}}function doMapCategory(g){var n=this.option.visual;return n[this.option.loop&&g!==CATEGORY_DEFAULT_VISUAL_INDEX?g%n.length:g]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(g){return{linear:function(n){return linearMap$2(n,g,this.option.visual,!0)},category:doMapCategory,piecewise:function(n,r){var $=getSpecifiedVisual.call(this,r);return $==null&&($=linearMap$2(n,g,this.option.visual,!0)),$},fixed:doMapFixed}}function getSpecifiedVisual(g){var n=this.option,r=n.pieceList;if(n.hasSpecialVisual){var $=VisualMapping.findPieceIndex(g,r),L=r[$];if(L&&L.visual)return L.visual[this.type]}}function setVisualToOption(g,n){return g.visual=n,g.type==="color"&&(g.parsedVisual=map$2(n,function(r){var $=parse(r);return $||[0,0,0,1]})),n}var normalizers={linear:function(g){return linearMap$2(g,this.option.dataExtent,[0,1],!0)},piecewise:function(g){var n=this.option.pieceList,r=VisualMapping.findPieceIndex(g,n,!0);if(r!=null)return linearMap$2(r,[0,n.length-1],[0,1],!0)},category:function(g){var n=this.option.categories?this.option.categoryMap[g]:g;return n!=null?n:CATEGORY_DEFAULT_VISUAL_INDEX},fixed:noop$5};function littleThan(g,n,r){return g?n<=r:n<r}const VisualMapping$1=VisualMapping;var ITEM_STYLE_NORMAL="itemStyle",inner$c=makeInner();const treemapVisual={seriesType:"treemap",reset:function(g){var n=g.getData().tree,r=n.root;r.isRemoved()||travelTree(r,{},g.getViewRoot().getAncestors(),g)}};function travelTree(g,n,r,$){var L=g.getModel(),V=g.getLayout(),oe=g.hostTree.data;if(!(!V||V.invisible||!V.isInView)){var re=L.getModel(ITEM_STYLE_NORMAL),ae=buildVisuals(re,n,$),le=oe.ensureUniqueItemVisual(g.dataIndex,"style"),ue=re.get("borderColor"),de=re.get("borderColorSaturation"),pe;de!=null&&(pe=calculateColor(ae),ue=calculateBorderColor(de,pe)),le.stroke=ue;var he=g.viewChildren;if(!he||!he.length)pe=calculateColor(ae),le.fill=pe;else{var _e=buildVisualMapping(g,L,V,re,ae,he);each$f(he,function(Oe,xe){if(Oe.depth>=r.length||Oe===r[Oe.depth]){var $e=mapVisual$1(L,ae,Oe,xe,_e,$);travelTree(Oe,$e,r,$)}})}}}function buildVisuals(g,n,r){var $=extend$3({},n),L=r.designatedVisualItemStyle;return each$f(["color","colorAlpha","colorSaturation"],function(V){L[V]=n[V];var oe=g.get(V);L[V]=null,oe!=null&&($[V]=oe)}),$}function calculateColor(g){var n=getValueVisualDefine(g,"color");if(n){var r=getValueVisualDefine(g,"colorAlpha"),$=getValueVisualDefine(g,"colorSaturation");return $&&(n=modifyHSL(n,null,null,$)),r&&(n=modifyAlpha(n,r)),n}}function calculateBorderColor(g,n){return n!=null?modifyHSL(n,null,null,g):null}function getValueVisualDefine(g,n){var r=g[n];if(r!=null&&r!=="none")return r}function buildVisualMapping(g,n,r,$,L,V){if(!(!V||!V.length)){var oe=getRangeVisual(n,"color")||L.color!=null&&L.color!=="none"&&(getRangeVisual(n,"colorAlpha")||getRangeVisual(n,"colorSaturation"));if(oe){var re=n.get("visualMin"),ae=n.get("visualMax"),le=r.dataExtent.slice();re!=null&&re<le[0]&&(le[0]=re),ae!=null&&ae>le[1]&&(le[1]=ae);var ue=n.get("colorMappingBy"),de={type:oe.name,dataExtent:le,visual:oe.range};de.type==="color"&&(ue==="index"||ue==="id")?(de.mappingMethod="category",de.loop=!0):de.mappingMethod="linear";var pe=new VisualMapping$1(de);return inner$c(pe).drColorMappingBy=ue,pe}}}function getRangeVisual(g,n){var r=g.get(n);return isArray$6(r)&&r.length?{name:n,range:r}:null}function mapVisual$1(g,n,r,$,L,V){var oe=extend$3({},n);if(L){var re=L.type,ae=re==="color"&&inner$c(L).drColorMappingBy,le=ae==="index"?$:ae==="id"?V.mapIdToIndex(r.getId()):r.getValue(g.get("visualDimension"));oe[re]=L.mapValueToVisual(le)}return oe}var mathMax$3=Math.max,mathMin$3=Math.min,retrieveValue=retrieve,each$b=each$f,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"];const treemapLayout={seriesType:"treemap",reset:function(g,n,r,$){var L=r.getWidth(),V=r.getHeight(),oe=g.option,re=getLayoutRect(g.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),ae=oe.size||[],le=parsePercent(retrieveValue(re.width,ae[0]),L),ue=parsePercent(retrieveValue(re.height,ae[1]),V),de=$&&$.type,pe=["treemapZoomToNode","treemapRootToNode"],he=retrieveTargetInfo($,pe,g),_e=de==="treemapRender"||de==="treemapMove"?$.rootRect:null,Oe=g.getViewRoot(),xe=getPathToRoot(Oe);if(de!=="treemapMove"){var $e=de==="treemapZoomToNode"?estimateRootSize(g,he,Oe,le,ue):_e?[_e.width,_e.height]:[le,ue],Ie=oe.sort;Ie&&Ie!=="asc"&&Ie!=="desc"&&(Ie="desc");var Ne={squareRatio:oe.squareRatio,sort:Ie,leafDepth:oe.leafDepth};Oe.hostTree.clearLayouts();var ze={x:0,y:0,width:$e[0],height:$e[1],area:$e[0]*$e[1]};Oe.setLayout(ze),squarify(Oe,Ne,!1,0),ze=Oe.getLayout(),each$b(xe,function(Fe,qe){var Et=(xe[qe+1]||Oe).getValue();Fe.setLayout(extend$3({dataExtent:[Et,Et],borderWidth:0,upperHeight:0},ze))})}var Ue=g.getData().tree.root;Ue.setLayout(calculateRootPosition(re,_e,he),!0),g.setLayoutInfo(re),prunning(Ue,new BoundingRect$1(-re.x,-re.y,L,V),xe,Oe,0)}};function squarify(g,n,r,$){var L,V;if(!g.isRemoved()){var oe=g.getLayout();L=oe.width,V=oe.height;var re=g.getModel(),ae=re.get(PATH_BORDER_WIDTH),le=re.get(PATH_GAP_WIDTH)/2,ue=getUpperLabelHeight(re),de=Math.max(ae,ue),pe=ae-le,he=de-le;g.setLayout({borderWidth:ae,upperHeight:de,upperLabelHeight:ue},!0),L=mathMax$3(L-2*pe,0),V=mathMax$3(V-pe-he,0);var _e=L*V,Oe=initChildren$1(g,re,_e,n,r,$);if(Oe.length){var xe={x:pe,y:he,width:L,height:V},$e=mathMin$3(L,V),Ie=1/0,Ne=[];Ne.area=0;for(var ze=0,Ue=Oe.length;ze<Ue;){var Fe=Oe[ze];Ne.push(Fe),Ne.area+=Fe.getLayout().area;var qe=worst(Ne,$e,n.squareRatio);qe<=Ie?(ze++,Ie=qe):(Ne.area-=Ne.pop().getLayout().area,position(Ne,$e,xe,le,!1),$e=mathMin$3(xe.width,xe.height),Ne.length=Ne.area=0,Ie=1/0)}if(Ne.length&&position(Ne,$e,xe,le,!0),!r){var Et=re.get("childrenVisibleMin");Et!=null&&_e<Et&&(r=!0)}for(var ze=0,Ue=Oe.length;ze<Ue;ze++)squarify(Oe[ze],n,r,$+1)}}}function initChildren$1(g,n,r,$,L,V){var oe=g.children||[],re=$.sort;re!=="asc"&&re!=="desc"&&(re=null);var ae=$.leafDepth!=null&&$.leafDepth<=V;if(L&&!ae)return g.viewChildren=[];oe=filter(oe,function(he){return!he.isRemoved()}),sort$1(oe,re);var le=statistic(n,oe,re);if(le.sum===0)return g.viewChildren=[];if(le.sum=filterByThreshold(n,r,le.sum,re,oe),le.sum===0)return g.viewChildren=[];for(var ue=0,de=oe.length;ue<de;ue++){var pe=oe[ue].getValue()/le.sum*r;oe[ue].setLayout({area:pe})}return ae&&(oe.length&&g.setLayout({isLeafRoot:!0},!0),oe.length=0),g.viewChildren=oe,g.setLayout({dataExtent:le.dataExtent},!0),oe}function filterByThreshold(g,n,r,$,L){if(!$)return r;for(var V=g.get("visibleMin"),oe=L.length,re=oe,ae=oe-1;ae>=0;ae--){var le=L[$==="asc"?oe-ae-1:ae].getValue();le/r*n<V&&(re=ae,r-=le)}return $==="asc"?L.splice(0,oe-re):L.splice(re,oe-re),r}function sort$1(g,n){return n&&g.sort(function(r,$){var L=n==="asc"?r.getValue()-$.getValue():$.getValue()-r.getValue();return L===0?n==="asc"?r.dataIndex-$.dataIndex:$.dataIndex-r.dataIndex:L}),g}function statistic(g,n,r){for(var $=0,L=0,V=n.length;L<V;L++)$+=n[L].getValue();var oe=g.get("visualDimension"),re;return!n||!n.length?re=[NaN,NaN]:oe==="value"&&r?(re=[n[n.length-1].getValue(),n[0].getValue()],r==="asc"&&re.reverse()):(re=[1/0,-1/0],each$b(n,function(ae){var le=ae.getValue(oe);le<re[0]&&(re[0]=le),le>re[1]&&(re[1]=le)})),{sum:$,dataExtent:re}}function worst(g,n,r){for(var $=0,L=1/0,V=0,oe=void 0,re=g.length;V<re;V++)oe=g[V].getLayout().area,oe&&(oe<L&&(L=oe),oe>$&&($=oe));var ae=g.area*g.area,le=n*n*r;return ae?mathMax$3(le*$/ae,ae/(le*L)):1/0}function position(g,n,r,$,L){var V=n===r.width?0:1,oe=1-V,re=["x","y"],ae=["width","height"],le=r[re[V]],ue=n?g.area/n:0;(L||ue>r[ae[oe]])&&(ue=r[ae[oe]]);for(var de=0,pe=g.length;de<pe;de++){var he=g[de],_e={},Oe=ue?he.getLayout().area/ue:0,xe=_e[ae[oe]]=mathMax$3(ue-2*$,0),$e=r[re[V]]+r[ae[V]]-le,Ie=de===pe-1||$e<Oe?$e:Oe,Ne=_e[ae[V]]=mathMax$3(Ie-2*$,0);_e[re[oe]]=r[re[oe]]+mathMin$3($,xe/2),_e[re[V]]=le+mathMin$3($,Ne/2),le+=Ie,he.setLayout(_e,!0)}r[re[oe]]+=ue,r[ae[oe]]-=ue}function estimateRootSize(g,n,r,$,L){var V=(n||{}).node,oe=[$,L];if(!V||V===r)return oe;for(var re,ae=$*L,le=ae*g.option.zoomToNodeRatio;re=V.parentNode;){for(var ue=0,de=re.children,pe=0,he=de.length;pe<he;pe++)ue+=de[pe].getValue();var _e=V.getValue();if(_e===0)return oe;le*=ue/_e;var Oe=re.getModel(),xe=Oe.get(PATH_BORDER_WIDTH),$e=Math.max(xe,getUpperLabelHeight(Oe));le+=4*xe*xe+(3*xe+$e)*Math.pow(le,.5),le>MAX_SAFE_INTEGER$2&&(le=MAX_SAFE_INTEGER$2),V=re}le<ae&&(le=ae);var Ie=Math.pow(le/ae,.5);return[$*Ie,L*Ie]}function calculateRootPosition(g,n,r){if(n)return{x:n.x,y:n.y};var $={x:0,y:0};if(!r)return $;var L=r.node,V=L.getLayout();if(!V)return $;for(var oe=[V.width/2,V.height/2],re=L;re;){var ae=re.getLayout();oe[0]+=ae.x,oe[1]+=ae.y,re=re.parentNode}return{x:g.width/2-oe[0],y:g.height/2-oe[1]}}function prunning(g,n,r,$,L){var V=g.getLayout(),oe=r[L],re=oe&&oe===g;if(!(oe&&!re||L===r.length&&g!==$)){g.setLayout({isInView:!0,invisible:!re&&!n.intersect(V),isAboveViewRoot:re},!0);var ae=new BoundingRect$1(n.x-V.x,n.y-V.y,n.width,n.height);each$b(g.viewChildren||[],function(le){prunning(le,ae,r,$,L+1)})}}function getUpperLabelHeight(g){return g.get(PATH_UPPER_LABEL_SHOW)?g.get(PATH_UPPER_LABEL_HEIGHT):0}function install$I(g){g.registerSeriesModel(TreemapSeriesModel$1),g.registerChartView(TreemapView$1),g.registerVisual(treemapVisual),g.registerLayout(treemapLayout),installTreemapAction(g)}function categoryFilter(g){var n=g.findComponents({mainType:"legend"});!n||!n.length||g.eachSeriesByType("graph",function(r){var $=r.getCategoriesData(),L=r.getGraph(),V=L.data,oe=$.mapArray($.getName);V.filterSelf(function(re){var ae=V.getItemModel(re),le=ae.getShallow("category");if(le!=null){isNumber$3(le)&&(le=oe[le]);for(var ue=0;ue<n.length;ue++)if(!n[ue].isSelected(le))return!1}return!0})})}function categoryVisual(g){var n={};g.eachSeriesByType("graph",function(r){var $=r.getCategoriesData(),L=r.getData(),V={};$.each(function(oe){var re=$.getName(oe);V["ec-"+re]=oe;var ae=$.getItemModel(oe),le=ae.getModel("itemStyle").getItemStyle();le.fill||(le.fill=r.getColorFromPalette(re,n)),$.setItemVisual(oe,"style",le);for(var ue=["symbol","symbolSize","symbolKeepAspect"],de=0;de<ue.length;de++){var pe=ae.getShallow(ue[de],!0);pe!=null&&$.setItemVisual(oe,ue[de],pe)}}),$.count()&&L.each(function(oe){var re=L.getItemModel(oe),ae=re.getShallow("category");if(ae!=null){isString$3(ae)&&(ae=V["ec-"+ae]);var le=$.getItemVisual(ae,"style"),ue=L.ensureUniqueItemVisual(oe,"style");extend$3(ue,le);for(var de=["symbol","symbolSize","symbolKeepAspect"],pe=0;pe<de.length;pe++)L.setItemVisual(oe,de[pe],$.getItemVisual(ae,de[pe]))}})})}function normalize$2(g){return g instanceof Array||(g=[g,g]),g}function graphEdgeVisual(g){g.eachSeriesByType("graph",function(n){var r=n.getGraph(),$=n.getEdgeData(),L=normalize$2(n.get("edgeSymbol")),V=normalize$2(n.get("edgeSymbolSize"));$.setVisual("fromSymbol",L&&L[0]),$.setVisual("toSymbol",L&&L[1]),$.setVisual("fromSymbolSize",V&&V[0]),$.setVisual("toSymbolSize",V&&V[1]),$.setVisual("style",n.getModel("lineStyle").getLineStyle()),$.each(function(oe){var re=$.getItemModel(oe),ae=r.getEdgeByIndex(oe),le=normalize$2(re.getShallow("symbol",!0)),ue=normalize$2(re.getShallow("symbolSize",!0)),de=re.getModel("lineStyle").getLineStyle(),pe=$.ensureUniqueItemVisual(oe,"style");switch(extend$3(pe,de),pe.stroke){case"source":{var he=ae.node1.getVisual("style");pe.stroke=he&&he.fill;break}case"target":{var he=ae.node2.getVisual("style");pe.stroke=he&&he.fill;break}}le[0]&&ae.setVisual("fromSymbol",le[0]),le[1]&&ae.setVisual("toSymbol",le[1]),ue[0]&&ae.setVisual("fromSymbolSize",ue[0]),ue[1]&&ae.setVisual("toSymbolSize",ue[1])})})}var KEY_DELIMITER="-->",getAutoCurvenessParams=function(g){return g.get("autoCurveness")||null},createCurveness=function(g,n){var r=getAutoCurvenessParams(g),$=20,L=[];if(isNumber$3(r))$=r;else if(isArray$6(r)){g.__curvenessList=r;return}n>$&&($=n);var V=$%2?$+2:$+3;L=[];for(var oe=0;oe<V;oe++)L.push((oe%2?oe+1:oe)/10*(oe%2?-1:1));g.__curvenessList=L},getKeyOfEdges=function(g,n,r){var $=[g.id,g.dataIndex].join("."),L=[n.id,n.dataIndex].join(".");return[r.uid,$,L].join(KEY_DELIMITER)},getOppositeKey=function(g){var n=g.split(KEY_DELIMITER);return[n[0],n[2],n[1]].join(KEY_DELIMITER)},getEdgeFromMap=function(g,n){var r=getKeyOfEdges(g.node1,g.node2,n);return n.__edgeMap[r]},getTotalLengthBetweenNodes=function(g,n){var r=getEdgeMapLengthWithKey(getKeyOfEdges(g.node1,g.node2,n),n),$=getEdgeMapLengthWithKey(getKeyOfEdges(g.node2,g.node1,n),n);return r+$},getEdgeMapLengthWithKey=function(g,n){var r=n.__edgeMap;return r[g]?r[g].length:0};function initCurvenessList(g){!getAutoCurvenessParams(g)||(g.__curvenessList=[],g.__edgeMap={},createCurveness(g))}function createEdgeMapForCurveness(g,n,r,$){if(getAutoCurvenessParams(r)){var L=getKeyOfEdges(g,n,r),V=r.__edgeMap,oe=V[getOppositeKey(L)];V[L]&&!oe?V[L].isForward=!0:oe&&V[L]&&(oe.isForward=!0,V[L].isForward=!1),V[L]=V[L]||[],V[L].push($)}}function getCurvenessForEdge(g,n,r,$){var L=getAutoCurvenessParams(n),V=isArray$6(L);if(!L)return null;var oe=getEdgeFromMap(g,n);if(!oe)return null;for(var re=-1,ae=0;ae<oe.length;ae++)if(oe[ae]===r){re=ae;break}var le=getTotalLengthBetweenNodes(g,n);createCurveness(n,le),g.lineStyle=g.lineStyle||{};var ue=getKeyOfEdges(g.node1,g.node2,n),de=n.__curvenessList,pe=V||le%2?0:1;if(oe.isForward)return de[pe+re];var he=getOppositeKey(ue),_e=getEdgeMapLengthWithKey(he,n),Oe=de[re+_e+pe];return $?V?L&&L[0]===0?(_e+pe)%2?Oe:-Oe:((_e%2?0:1)+pe)%2?Oe:-Oe:(_e+pe)%2?Oe:-Oe:de[re+_e+pe]}function simpleLayout(g){var n=g.coordinateSystem;if(!(n&&n.type!=="view")){var r=g.getGraph();r.eachNode(function($){var L=$.getModel();$.setLayout([+L.get("x"),+L.get("y")])}),simpleLayoutEdge(r,g)}}function simpleLayoutEdge(g,n){g.eachEdge(function(r,$){var L=retrieve3(r.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(r,n,$,!0),0),V=clone$4(r.node1.getLayout()),oe=clone$4(r.node2.getLayout()),re=[V,oe];+L&&re.push([(V[0]+oe[0])/2-(V[1]-oe[1])*L,(V[1]+oe[1])/2-(oe[0]-V[0])*L]),r.setLayout(re)})}function graphSimpleLayout(g,n){g.eachSeriesByType("graph",function(r){var $=r.get("layout"),L=r.coordinateSystem;if(L&&L.type!=="view"){var V=r.getData(),oe=[];each$f(L.dimensions,function(pe){oe=oe.concat(V.mapDimensionsAll(pe))});for(var re=0;re<V.count();re++){for(var ae=[],le=!1,ue=0;ue<oe.length;ue++){var de=V.get(oe[ue],re);isNaN(de)||(le=!0),ae.push(de)}le?V.setItemLayout(re,L.dataToPoint(ae)):V.setItemLayout(re,[NaN,NaN])}simpleLayoutEdge(V.graph,r)}else(!$||$==="none")&&simpleLayout(r)})}function getNodeGlobalScale(g){var n=g.coordinateSystem;if(n.type!=="view")return 1;var r=g.option.nodeScaleRatio,$=n.scaleX,L=n.getZoom(),V=(L-1)*r+1;return V/$}function getSymbolSize(g){var n=g.getVisual("symbolSize");return n instanceof Array&&(n=(n[0]+n[1])/2),+n}var PI$2=Math.PI,_symbolRadiansHalf=[];function circularLayout(g,n,r,$){var L=g.coordinateSystem;if(!(L&&L.type!=="view")){var V=L.getBoundingRect(),oe=g.getData(),re=oe.graph,ae=V.width/2+V.x,le=V.height/2+V.y,ue=Math.min(V.width,V.height)/2,de=oe.count();if(oe.setLayout({cx:ae,cy:le}),!!de){if(r){var pe=L.pointToData($),he=pe[0],_e=pe[1],Oe=[he-ae,_e-le];normalize$4(Oe,Oe),scale$2(Oe,Oe,ue),r.setLayout([ae+Oe[0],le+Oe[1]],!0);var xe=g.get(["circular","rotateLabel"]);rotateNodeLabel(r,xe,ae,le)}_layoutNodesBasedOn[n](g,re,oe,ue,ae,le,de),re.eachEdge(function($e,Ie){var Ne=retrieve3($e.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge($e,g,Ie),0),ze=clone$4($e.node1.getLayout()),Ue=clone$4($e.node2.getLayout()),Fe,qe=(ze[0]+Ue[0])/2,Et=(ze[1]+Ue[1])/2;+Ne&&(Ne*=3,Fe=[ae*Ne+qe*(1-Ne),le*Ne+Et*(1-Ne)]),$e.setLayout([ze,Ue,Fe])})}}}var _layoutNodesBasedOn={value:function(g,n,r,$,L,V,oe){var re=0,ae=r.getSum("value"),le=Math.PI*2/(ae||oe);n.eachNode(function(ue){var de=ue.getValue("value"),pe=le*(ae?de:1)/2;re+=pe,ue.setLayout([$*Math.cos(re)+L,$*Math.sin(re)+V]),re+=pe})},symbolSize:function(g,n,r,$,L,V,oe){var re=0;_symbolRadiansHalf.length=oe;var ae=getNodeGlobalScale(g);n.eachNode(function(de){var pe=getSymbolSize(de);isNaN(pe)&&(pe=2),pe<0&&(pe=0),pe*=ae;var he=Math.asin(pe/2/$);isNaN(he)&&(he=PI$2/2),_symbolRadiansHalf[de.dataIndex]=he,re+=he*2});var le=(2*PI$2-re)/oe/2,ue=0;n.eachNode(function(de){var pe=le+_symbolRadiansHalf[de.dataIndex];ue+=pe,(!de.getLayout()||!de.getLayout().fixed)&&de.setLayout([$*Math.cos(ue)+L,$*Math.sin(ue)+V]),ue+=pe})}};function rotateNodeLabel(g,n,r,$){var L=g.getGraphicEl();if(L){var V=g.getModel(),oe=V.get(["label","rotate"])||0,re=L.getSymbolPath();if(n){var ae=g.getLayout(),le=Math.atan2(ae[1]-$,ae[0]-r);le<0&&(le=Math.PI*2+le);var ue=ae[0]<r;ue&&(le=le-Math.PI);var de=ue?"left":"right";re.setTextConfig({rotation:-le,position:de,origin:"center"});var pe=re.ensureState("emphasis");extend$3(pe.textConfig||(pe.textConfig={}),{position:de})}else re.setTextConfig({rotation:oe*=Math.PI/180})}}function graphCircularLayout(g){g.eachSeriesByType("graph",function(n){n.get("layout")==="circular"&&circularLayout(n,"symbolSize")})}var scaleAndAdd=scaleAndAdd$1;function forceLayout(g,n,r){for(var $=g,L=n,V=r.rect,oe=V.width,re=V.height,ae=[V.x+oe/2,V.y+re/2],le=r.gravity==null?.1:r.gravity,ue=0;ue<$.length;ue++){var de=$[ue];de.p||(de.p=create$2(oe*(Math.random()-.5)+ae[0],re*(Math.random()-.5)+ae[1])),de.pp=clone$4(de.p),de.edges=null}var pe=r.friction==null?.6:r.friction,he=pe,_e,Oe;return{warmUp:function(){he=pe*.8},setFixed:function(xe){$[xe].fixed=!0},setUnfixed:function(xe){$[xe].fixed=!1},beforeStep:function(xe){_e=xe},afterStep:function(xe){Oe=xe},step:function(xe){_e&&_e($,L);for(var $e=[],Ie=$.length,Ne=0;Ne<L.length;Ne++){var ze=L[Ne];if(!ze.ignoreForceLayout){var Ue=ze.n1,Fe=ze.n2;sub($e,Fe.p,Ue.p);var qe=len($e)-ze.d,Et=Fe.w/(Ue.w+Fe.w);isNaN(Et)&&(Et=0),normalize$4($e,$e),!Ue.fixed&&scaleAndAdd(Ue.p,Ue.p,$e,Et*qe*he),!Fe.fixed&&scaleAndAdd(Fe.p,Fe.p,$e,-(1-Et)*qe*he)}}for(var Ne=0;Ne<Ie;Ne++){var At=$[Ne];At.fixed||(sub($e,ae,At.p),scaleAndAdd(At.p,At.p,$e,le*he))}for(var Ne=0;Ne<Ie;Ne++)for(var Ue=$[Ne],kt=Ne+1;kt<Ie;kt++){var Fe=$[kt];sub($e,Fe.p,Ue.p);var qe=len($e);qe===0&&(set$2($e,Math.random()-.5,Math.random()-.5),qe=1);var Dt=(Ue.rep+Fe.rep)/qe/qe;!Ue.fixed&&scaleAndAdd(Ue.pp,Ue.pp,$e,Dt),!Fe.fixed&&scaleAndAdd(Fe.pp,Fe.pp,$e,-Dt)}for(var jt=[],Ne=0;Ne<Ie;Ne++){var At=$[Ne];At.fixed||(sub(jt,At.p,At.pp),scaleAndAdd(At.p,At.p,jt,he),copy$2(At.pp,At.p))}he=he*.992;var Lt=he<.01;Oe&&Oe($,L,Lt),xe&&xe(Lt)}}}function graphForceLayout(g){g.eachSeriesByType("graph",function(n){var r=n.coordinateSystem;if(!(r&&r.type!=="view"))if(n.get("layout")==="force"){var $=n.preservedPoints||{},L=n.getGraph(),V=L.data,oe=L.edgeData,re=n.getModel("force"),ae=re.get("initLayout");n.preservedPoints?V.each(function(Ne){var ze=V.getId(Ne);V.setItemLayout(Ne,$[ze]||[NaN,NaN])}):!ae||ae==="none"?simpleLayout(n):ae==="circular"&&circularLayout(n,"value");var le=V.getDataExtent("value"),ue=oe.getDataExtent("value"),de=re.get("repulsion"),pe=re.get("edgeLength"),he=isArray$6(de)?de:[de,de],_e=isArray$6(pe)?pe:[pe,pe];_e=[_e[1],_e[0]];var Oe=V.mapArray("value",function(Ne,ze){var Ue=V.getItemLayout(ze),Fe=linearMap$2(Ne,le,he);return isNaN(Fe)&&(Fe=(he[0]+he[1])/2),{w:Fe,rep:Fe,fixed:V.getItemModel(ze).get("fixed"),p:!Ue||isNaN(Ue[0])||isNaN(Ue[1])?null:Ue}}),xe=oe.mapArray("value",function(Ne,ze){var Ue=L.getEdgeByIndex(ze),Fe=linearMap$2(Ne,ue,_e);isNaN(Fe)&&(Fe=(_e[0]+_e[1])/2);var qe=Ue.getModel(),Et=retrieve3(Ue.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(Ue,n,ze,!0),0);return{n1:Oe[Ue.node1.dataIndex],n2:Oe[Ue.node2.dataIndex],d:Fe,curveness:Et,ignoreForceLayout:qe.get("ignoreForceLayout")}}),$e=r.getBoundingRect(),Ie=forceLayout(Oe,xe,{rect:$e,gravity:re.get("gravity"),friction:re.get("friction")});Ie.beforeStep(function(Ne,ze){for(var Ue=0,Fe=Ne.length;Ue<Fe;Ue++)Ne[Ue].fixed&&copy$2(Ne[Ue].p,L.getNodeByIndex(Ue).getLayout())}),Ie.afterStep(function(Ne,ze,Ue){for(var Fe=0,qe=Ne.length;Fe<qe;Fe++)Ne[Fe].fixed||L.getNodeByIndex(Fe).setLayout(Ne[Fe].p),$[V.getId(Fe)]=Ne[Fe].p;for(var Fe=0,qe=ze.length;Fe<qe;Fe++){var Et=ze[Fe],At=L.getEdgeByIndex(Fe),kt=Et.n1.p,Dt=Et.n2.p,jt=At.getLayout();jt=jt?jt.slice():[],jt[0]=jt[0]||[],jt[1]=jt[1]||[],copy$2(jt[0],kt),copy$2(jt[1],Dt),+Et.curveness&&(jt[2]=[(kt[0]+Dt[0])/2-(kt[1]-Dt[1])*Et.curveness,(kt[1]+Dt[1])/2-(Dt[0]-kt[0])*Et.curveness]),At.setLayout(jt)}}),n.forceLayout=Ie,n.preservedPoints=$,Ie.step()}else n.forceLayout=null})}function getViewRect$3(g,n,r){var $=extend$3(g.getBoxLayoutParams(),{aspect:r});return getLayoutRect($,{width:n.getWidth(),height:n.getHeight()})}function createViewCoordSys(g,n){var r=[];return g.eachSeriesByType("graph",function($){var L=$.get("coordinateSystem");if(!L||L==="view"){var V=$.getData(),oe=V.mapArray(function(xe){var $e=V.getItemModel(xe);return[+$e.get("x"),+$e.get("y")]}),re=[],ae=[];fromPoints(oe,re,ae),ae[0]-re[0]===0&&(ae[0]+=1,re[0]-=1),ae[1]-re[1]===0&&(ae[1]+=1,re[1]-=1);var le=(ae[0]-re[0])/(ae[1]-re[1]),ue=getViewRect$3($,n,le);isNaN(le)&&(re=[ue.x,ue.y],ae=[ue.x+ue.width,ue.y+ue.height]);var de=ae[0]-re[0],pe=ae[1]-re[1],he=ue.width,_e=ue.height,Oe=$.coordinateSystem=new View$1;Oe.zoomLimit=$.get("scaleLimit"),Oe.setBoundingRect(re[0],re[1],de,pe),Oe.setViewRect(ue.x,ue.y,he,_e),Oe.setCenter($.get("center"),n),Oe.setZoom($.get("zoom")),r.push(Oe)}}),r}var straightLineProto=Line$4.prototype,bezierCurveProto=BezierCurve$1.prototype,StraightLineShape=function(){function g(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return g}();(function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n})(StraightLineShape);function isStraightLine(g){return isNaN(+g.cpx1)||isNaN(+g.cpy1)}var ECLinePath=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="ec-line",$}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new StraightLineShape},n.prototype.buildPath=function(r,$){isStraightLine($)?straightLineProto.buildPath.call(this,r,$):bezierCurveProto.buildPath.call(this,r,$)},n.prototype.pointAt=function(r){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,r):bezierCurveProto.pointAt.call(this,r)},n.prototype.tangentAt=function(r){var $=this.shape,L=isStraightLine($)?[$.x2-$.x1,$.y2-$.y1]:bezierCurveProto.tangentAt.call(this,r);return normalize$4(L,L)},n}(Path$1);const ECLinePath$1=ECLinePath;var SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey(g){return"_"+g+"Type"}function makeSymbolTypeValue(g,n,r){var $=n.getItemVisual(r,g);if(!$||$==="none")return $;var L=n.getItemVisual(r,g+"Size"),V=n.getItemVisual(r,g+"Rotate"),oe=n.getItemVisual(r,g+"Offset"),re=n.getItemVisual(r,g+"KeepAspect"),ae=normalizeSymbolSize(L),le=normalizeSymbolOffset(oe||0,ae);return $+ae+le+(V||"")+(re||"")}function createSymbol(g,n,r){var $=n.getItemVisual(r,g);if(!(!$||$==="none")){var L=n.getItemVisual(r,g+"Size"),V=n.getItemVisual(r,g+"Rotate"),oe=n.getItemVisual(r,g+"Offset"),re=n.getItemVisual(r,g+"KeepAspect"),ae=normalizeSymbolSize(L),le=normalizeSymbolOffset(oe||0,ae),ue=createSymbol$1($,-ae[0]/2+le[0],-ae[1]/2+le[1],ae[0],ae[1],null,re);return ue.__specifiedRotation=V==null||isNaN(V)?void 0:+V*Math.PI/180||0,ue.name=g,ue}}function createLine(g){var n=new ECLinePath$1({name:"line",subPixelOptimize:!0});return setLinePoints(n.shape,g),n}function setLinePoints(g,n){g.x1=n[0][0],g.y1=n[0][1],g.x2=n[1][0],g.y2=n[1][1],g.percent=1;var r=n[2];r?(g.cpx1=r[0],g.cpy1=r[1]):(g.cpx1=NaN,g.cpy1=NaN)}var Line$1=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this)||this;return V._createLine(r,$,L),V}return n.prototype._createLine=function(r,$,L){var V=r.hostModel,oe=r.getItemLayout($),re=createLine(oe);re.shape.percent=0,initProps(re,{shape:{percent:1}},V,$),this.add(re),each$f(SYMBOL_CATEGORIES,function(ae){var le=createSymbol(ae,r,$);this.add(le),this[makeSymbolTypeKey(ae)]=makeSymbolTypeValue(ae,r,$)},this),this._updateCommonStl(r,$,L)},n.prototype.updateData=function(r,$,L){var V=r.hostModel,oe=this.childOfName("line"),re=r.getItemLayout($),ae={shape:{}};setLinePoints(ae.shape,re),updateProps$1(oe,ae,V,$),each$f(SYMBOL_CATEGORIES,function(le){var ue=makeSymbolTypeValue(le,r,$),de=makeSymbolTypeKey(le);if(this[de]!==ue){this.remove(this.childOfName(le));var pe=createSymbol(le,r,$);this.add(pe)}this[de]=ue},this),this._updateCommonStl(r,$,L)},n.prototype.getLinePath=function(){return this.childAt(0)},n.prototype._updateCommonStl=function(r,$,L){var V=r.hostModel,oe=this.childOfName("line"),re=L&&L.emphasisLineStyle,ae=L&&L.blurLineStyle,le=L&&L.selectLineStyle,ue=L&&L.labelStatesModels,de=L&&L.emphasisDisabled,pe=L&&L.focus,he=L&&L.blurScope;if(!L||r.hasItemOption){var _e=r.getItemModel($),Oe=_e.getModel("emphasis");re=Oe.getModel("lineStyle").getLineStyle(),ae=_e.getModel(["blur","lineStyle"]).getLineStyle(),le=_e.getModel(["select","lineStyle"]).getLineStyle(),de=Oe.get("disabled"),pe=Oe.get("focus"),he=Oe.get("blurScope"),ue=getLabelStatesModels(_e)}var xe=r.getItemVisual($,"style"),$e=xe.stroke;oe.useStyle(xe),oe.style.fill=null,oe.style.strokeNoScale=!0,oe.ensureState("emphasis").style=re,oe.ensureState("blur").style=ae,oe.ensureState("select").style=le,each$f(SYMBOL_CATEGORIES,function(Fe){var qe=this.childOfName(Fe);if(qe){qe.setColor($e),qe.style.opacity=xe.opacity;for(var Et=0;Et<SPECIAL_STATES.length;Et++){var At=SPECIAL_STATES[Et],kt=oe.getState(At);if(kt){var Dt=kt.style||{},jt=qe.ensureState(At),Lt=jt.style||(jt.style={});Dt.stroke!=null&&(Lt[qe.__isEmptyBrush?"stroke":"fill"]=Dt.stroke),Dt.opacity!=null&&(Lt.opacity=Dt.opacity)}}qe.markRedraw()}},this);var Ie=V.getRawValue($);setLabelStyle(this,ue,{labelDataIndex:$,labelFetcher:{getFormattedLabel:function(Fe,qe){return V.getFormattedLabel(Fe,qe,r.dataType)}},inheritColor:$e||"#000",defaultOpacity:xe.opacity,defaultText:(Ie==null?r.getName($):isFinite(Ie)?round$3(Ie):Ie)+""});var Ne=this.getTextContent();if(Ne){var ze=ue.normal;Ne.__align=Ne.style.align,Ne.__verticalAlign=Ne.style.verticalAlign,Ne.__position=ze.get("position")||"middle";var Ue=ze.get("distance");isArray$6(Ue)||(Ue=[Ue,Ue]),Ne.__labelDistance=Ue}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,pe,he,de)},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n.prototype.updateLayout=function(r,$){this.setLinePoints(r.getItemLayout($))},n.prototype.setLinePoints=function(r){var $=this.childOfName("line");setLinePoints($.shape,r),$.dirty()},n.prototype.beforeUpdate=function(){var r=this,$=r.childOfName("fromSymbol"),L=r.childOfName("toSymbol"),V=r.getTextContent();if(!$&&!L&&(!V||V.ignore))return;for(var oe=1,re=this.parent;re;)re.scaleX&&(oe/=re.scaleX),re=re.parent;var ae=r.childOfName("line");if(!this.__dirty&&!ae.__dirty)return;var le=ae.shape.percent,ue=ae.pointAt(0),de=ae.pointAt(le),pe=sub([],de,ue);normalize$4(pe,pe);function he(kt,Dt){var jt=kt.__specifiedRotation;if(jt==null){var Lt=ae.tangentAt(Dt);kt.attr("rotation",(Dt===1?-1:1)*Math.PI/2-Math.atan2(Lt[1],Lt[0]))}else kt.attr("rotation",jt)}if($&&($.setPosition(ue),he($,0),$.scaleX=$.scaleY=oe*le,$.markRedraw()),L&&(L.setPosition(de),he(L,1),L.scaleX=L.scaleY=oe*le,L.markRedraw()),V&&!V.ignore){V.x=V.y=0,V.originX=V.originY=0;var _e=void 0,Oe=void 0,xe=V.__labelDistance,$e=xe[0]*oe,Ie=xe[1]*oe,Ne=le/2,ze=ae.tangentAt(Ne),Ue=[ze[1],-ze[0]],Fe=ae.pointAt(Ne);Ue[1]>0&&(Ue[0]=-Ue[0],Ue[1]=-Ue[1]);var qe=ze[0]<0?-1:1;if(V.__position!=="start"&&V.__position!=="end"){var Et=-Math.atan2(ze[1],ze[0]);de[0]<ue[0]&&(Et=Math.PI+Et),V.rotation=Et}var At=void 0;switch(V.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":At=-Ie,Oe="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":At=Ie,Oe="top";break;default:At=0,Oe="middle"}switch(V.__position){case"end":V.x=pe[0]*$e+de[0],V.y=pe[1]*Ie+de[1],_e=pe[0]>.8?"left":pe[0]<-.8?"right":"center",Oe=pe[1]>.8?"top":pe[1]<-.8?"bottom":"middle";break;case"start":V.x=-pe[0]*$e+ue[0],V.y=-pe[1]*Ie+ue[1],_e=pe[0]>.8?"right":pe[0]<-.8?"left":"center",Oe=pe[1]>.8?"bottom":pe[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":V.x=$e*qe+ue[0],V.y=ue[1]+At,_e=ze[0]<0?"right":"left",V.originX=-$e*qe,V.originY=-At;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":V.x=Fe[0],V.y=Fe[1]+At,_e="center",V.originY=-At;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":V.x=-$e*qe+de[0],V.y=de[1]+At,_e=ze[0]>=0?"right":"left",V.originX=$e*qe,V.originY=-At;break}V.scaleX=V.scaleY=oe,V.setStyle({verticalAlign:V.__verticalAlign||Oe,align:V.__align||_e})}},n}(Group$4);const Line$2=Line$1;var LineDraw=function(){function g(n){this.group=new Group$4,this._LineCtor=n||Line$2}return g.prototype.updateData=function(n){var r=this;this._progressiveEls=null;var $=this,L=$.group,V=$._lineData;$._lineData=n,V||L.removeAll();var oe=makeSeriesScope$1(n);n.diff(V).add(function(re){r._doAdd(n,re,oe)}).update(function(re,ae){r._doUpdate(V,n,ae,re,oe)}).remove(function(re){L.remove(V.getItemGraphicEl(re))}).execute()},g.prototype.updateLayout=function(){var n=this._lineData;!n||n.eachItemGraphicEl(function(r,$){r.updateLayout(n,$)},this)},g.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=makeSeriesScope$1(n),this._lineData=null,this.group.removeAll()},g.prototype.incrementalUpdate=function(n,r){this._progressiveEls=[];function $(re){!re.isGroup&&!isEffectObject(re)&&(re.incremental=!0,re.ensureState("emphasis").hoverLayer=!0)}for(var L=n.start;L<n.end;L++){var V=r.getItemLayout(L);if(lineNeedsDraw(V)){var oe=new this._LineCtor(r,L,this._seriesScope);oe.traverse($),this.group.add(oe),r.setItemGraphicEl(L,oe),this._progressiveEls.push(oe)}}},g.prototype.remove=function(){this.group.removeAll()},g.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},g.prototype._doAdd=function(n,r,$){var L=n.getItemLayout(r);if(lineNeedsDraw(L)){var V=new this._LineCtor(n,r,$);n.setItemGraphicEl(r,V),this.group.add(V)}},g.prototype._doUpdate=function(n,r,$,L,V){var oe=n.getItemGraphicEl($);if(!lineNeedsDraw(r.getItemLayout(L))){this.group.remove(oe);return}oe?oe.updateData(r,L,V):oe=new this._LineCtor(r,L,V),r.setItemGraphicEl(L,oe),this.group.add(oe)},g}();function isEffectObject(g){return g.animators&&g.animators.length>0}function makeSeriesScope$1(g){var n=g.hostModel,r=n.getModel("emphasis");return{lineStyle:n.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:n.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:n.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:getLabelStatesModels(n)}}function isPointNaN(g){return isNaN(g[0])||isNaN(g[1])}function lineNeedsDraw(g){return g&&!isPointNaN(g[0])&&!isPointNaN(g[1])}const LineDraw$1=LineDraw;var v1=[],v2=[],v3=[],quadraticAt=quadraticAt$1,v2DistSquare=distSquare,mathAbs=Math.abs;function intersectCurveCircle(g,n,r){for(var $=g[0],L=g[1],V=g[2],oe=1/0,re,ae=r*r,le=.1,ue=.1;ue<=.9;ue+=.1){v1[0]=quadraticAt($[0],L[0],V[0],ue),v1[1]=quadraticAt($[1],L[1],V[1],ue);var de=mathAbs(v2DistSquare(v1,n)-ae);de<oe&&(oe=de,re=ue)}for(var pe=0;pe<32;pe++){var he=re+le;v2[0]=quadraticAt($[0],L[0],V[0],re),v2[1]=quadraticAt($[1],L[1],V[1],re),v3[0]=quadraticAt($[0],L[0],V[0],he),v3[1]=quadraticAt($[1],L[1],V[1],he);var de=v2DistSquare(v2,n)-ae;if(mathAbs(de)<.01)break;var _e=v2DistSquare(v3,n)-ae;le/=2,de<0?_e>=0?re=re+le:re=re-le:_e>=0?re=re-le:re=re+le}return re}function adjustEdge(g,n){var r=[],$=quadraticSubdivide,L=[[],[],[]],V=[[],[]],oe=[];n/=2,g.eachEdge(function(re,ae){var le=re.getLayout(),ue=re.getVisual("fromSymbol"),de=re.getVisual("toSymbol");le.__original||(le.__original=[clone$4(le[0]),clone$4(le[1])],le[2]&&le.__original.push(clone$4(le[2])));var pe=le.__original;if(le[2]!=null){if(copy$2(L[0],pe[0]),copy$2(L[1],pe[2]),copy$2(L[2],pe[1]),ue&&ue!=="none"){var he=getSymbolSize(re.node1),_e=intersectCurveCircle(L,pe[0],he*n);$(L[0][0],L[1][0],L[2][0],_e,r),L[0][0]=r[3],L[1][0]=r[4],$(L[0][1],L[1][1],L[2][1],_e,r),L[0][1]=r[3],L[1][1]=r[4]}if(de&&de!=="none"){var he=getSymbolSize(re.node2),_e=intersectCurveCircle(L,pe[1],he*n);$(L[0][0],L[1][0],L[2][0],_e,r),L[1][0]=r[1],L[2][0]=r[2],$(L[0][1],L[1][1],L[2][1],_e,r),L[1][1]=r[1],L[2][1]=r[2]}copy$2(le[0],L[0]),copy$2(le[1],L[2]),copy$2(le[2],L[1])}else{if(copy$2(V[0],pe[0]),copy$2(V[1],pe[1]),sub(oe,V[1],V[0]),normalize$4(oe,oe),ue&&ue!=="none"){var he=getSymbolSize(re.node1);scaleAndAdd$1(V[0],V[0],oe,he*n)}if(de&&de!=="none"){var he=getSymbolSize(re.node2);scaleAndAdd$1(V[1],V[1],oe,-he*n)}copy$2(le[0],V[0]),copy$2(le[1],V[1])}})}function isViewCoordSys(g){return g.type==="view"}var GraphView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$){var L=new SymbolDraw$1,V=new LineDraw$1,oe=this.group;this._controller=new RoamController$1($.getZr()),this._controllerHost={target:oe},oe.add(L.group),oe.add(V.group),this._symbolDraw=L,this._lineDraw=V,this._firstRender=!0},n.prototype.render=function(r,$,L){var V=this,oe=r.coordinateSystem;this._model=r;var re=this._symbolDraw,ae=this._lineDraw,le=this.group;if(isViewCoordSys(oe)){var ue={x:oe.x,y:oe.y,scaleX:oe.scaleX,scaleY:oe.scaleY};this._firstRender?le.attr(ue):updateProps$1(le,ue,r)}adjustEdge(r.getGraph(),getNodeGlobalScale(r));var de=r.getData();re.updateData(de);var pe=r.getEdgeData();ae.updateData(pe),this._updateNodeAndLinkScale(),this._updateController(r,$,L),clearTimeout(this._layoutTimeout);var he=r.forceLayout,_e=r.get(["force","layoutAnimation"]);he&&this._startForceLayoutIteration(he,_e);var Oe=r.get("layout");de.graph.eachNode(function(Ne){var ze=Ne.dataIndex,Ue=Ne.getGraphicEl(),Fe=Ne.getModel();if(Ue){Ue.off("drag").off("dragend");var qe=Fe.get("draggable");qe&&Ue.on("drag",function(At){switch(Oe){case"force":he.warmUp(),!V._layouting&&V._startForceLayoutIteration(he,_e),he.setFixed(ze),de.setItemLayout(ze,[Ue.x,Ue.y]);break;case"circular":de.setItemLayout(ze,[Ue.x,Ue.y]),Ne.setLayout({fixed:!0},!0),circularLayout(r,"symbolSize",Ne,[At.offsetX,At.offsetY]),V.updateLayout(r);break;case"none":default:de.setItemLayout(ze,[Ue.x,Ue.y]),simpleLayoutEdge(r.getGraph(),r),V.updateLayout(r);break}}).on("dragend",function(){he&&he.setUnfixed(ze)}),Ue.setDraggable(qe,!!Fe.get("cursor"));var Et=Fe.get(["emphasis","focus"]);Et==="adjacency"&&(getECData(Ue).focus=Ne.getAdjacentDataIndices())}}),de.graph.eachEdge(function(Ne){var ze=Ne.getGraphicEl(),Ue=Ne.getModel().get(["emphasis","focus"]);!ze||Ue==="adjacency"&&(getECData(ze).focus={edge:[Ne.dataIndex],node:[Ne.node1.dataIndex,Ne.node2.dataIndex]})});var xe=r.get("layout")==="circular"&&r.get(["circular","rotateLabel"]),$e=de.getLayout("cx"),Ie=de.getLayout("cy");de.graph.eachNode(function(Ne){rotateNodeLabel(Ne,xe,$e,Ie)}),this._firstRender=!1},n.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype._startForceLayoutIteration=function(r,$){var L=this;(function V(){r.step(function(oe){L.updateLayout(L._model),(L._layouting=!oe)&&($?L._layoutTimeout=setTimeout(V,16):V())})})()},n.prototype._updateController=function(r,$,L){var V=this,oe=this._controller,re=this._controllerHost,ae=this.group;if(oe.setPointerChecker(function(le,ue,de){var pe=ae.getBoundingRect();return pe.applyTransform(ae.transform),pe.contain(ue,de)&&!onIrrelevantElement(le,L,r)}),!isViewCoordSys(r.coordinateSystem)){oe.disable();return}oe.enable(r.get("roam")),re.zoomLimit=r.get("scaleLimit"),re.zoom=r.coordinateSystem.getZoom(),oe.off("pan").off("zoom").on("pan",function(le){updateViewOnPan(re,le.dx,le.dy),L.dispatchAction({seriesId:r.id,type:"graphRoam",dx:le.dx,dy:le.dy})}).on("zoom",function(le){updateViewOnZoom(re,le.scale,le.originX,le.originY),L.dispatchAction({seriesId:r.id,type:"graphRoam",zoom:le.scale,originX:le.originX,originY:le.originY}),V._updateNodeAndLinkScale(),adjustEdge(r.getGraph(),getNodeGlobalScale(r)),V._lineDraw.updateLayout(),L.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(){var r=this._model,$=r.getData(),L=getNodeGlobalScale(r);$.eachItemGraphicEl(function(V,oe){V&&V.setSymbolScale(L)})},n.prototype.updateLayout=function(r){adjustEdge(r.getGraph(),getNodeGlobalScale(r)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},n.prototype.remove=function(r,$){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},n.type="graph",n}(ChartView$1);const GraphView$1=GraphView;function generateNodeKey(g){return"_EC_"+g}var Graph=function(){function g(n){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=n||!1}return g.prototype.isDirected=function(){return this._directed},g.prototype.addNode=function(n,r){n=n==null?""+r:""+n;var $=this._nodesMap;if(!$[generateNodeKey(n)]){var L=new GraphNode(n,r);return L.hostGraph=this,this.nodes.push(L),$[generateNodeKey(n)]=L,L}},g.prototype.getNodeByIndex=function(n){var r=this.data.getRawIndex(n);return this.nodes[r]},g.prototype.getNodeById=function(n){return this._nodesMap[generateNodeKey(n)]},g.prototype.addEdge=function(n,r,$){var L=this._nodesMap,V=this._edgesMap;if(isNumber$3(n)&&(n=this.nodes[n]),isNumber$3(r)&&(r=this.nodes[r]),n instanceof GraphNode||(n=L[generateNodeKey(n)]),r instanceof GraphNode||(r=L[generateNodeKey(r)]),!(!n||!r)){var oe=n.id+"-"+r.id,re=new GraphEdge(n,r,$);return re.hostGraph=this,this._directed&&(n.outEdges.push(re),r.inEdges.push(re)),n.edges.push(re),n!==r&&r.edges.push(re),this.edges.push(re),V[oe]=re,re}},g.prototype.getEdgeByIndex=function(n){var r=this.edgeData.getRawIndex(n);return this.edges[r]},g.prototype.getEdge=function(n,r){n instanceof GraphNode&&(n=n.id),r instanceof GraphNode&&(r=r.id);var $=this._edgesMap;return this._directed?$[n+"-"+r]:$[n+"-"+r]||$[r+"-"+n]},g.prototype.eachNode=function(n,r){for(var $=this.nodes,L=$.length,V=0;V<L;V++)$[V].dataIndex>=0&&n.call(r,$[V],V)},g.prototype.eachEdge=function(n,r){for(var $=this.edges,L=$.length,V=0;V<L;V++)$[V].dataIndex>=0&&$[V].node1.dataIndex>=0&&$[V].node2.dataIndex>=0&&n.call(r,$[V],V)},g.prototype.breadthFirstTraverse=function(n,r,$,L){if(r instanceof GraphNode||(r=this._nodesMap[generateNodeKey(r)]),!!r){for(var V=$==="out"?"outEdges":$==="in"?"inEdges":"edges",oe=0;oe<this.nodes.length;oe++)this.nodes[oe].__visited=!1;if(!n.call(L,r,null))for(var re=[r];re.length;)for(var ae=re.shift(),le=ae[V],oe=0;oe<le.length;oe++){var ue=le[oe],de=ue.node1===ae?ue.node2:ue.node1;if(!de.__visited){if(n.call(L,de,ae))return;re.push(de),de.__visited=!0}}}},g.prototype.update=function(){for(var n=this.data,r=this.edgeData,$=this.nodes,L=this.edges,V=0,oe=$.length;V<oe;V++)$[V].dataIndex=-1;for(var V=0,oe=n.count();V<oe;V++)$[n.getRawIndex(V)].dataIndex=V;r.filterSelf(function(re){var ae=L[r.getRawIndex(re)];return ae.node1.dataIndex>=0&&ae.node2.dataIndex>=0});for(var V=0,oe=L.length;V<oe;V++)L[V].dataIndex=-1;for(var V=0,oe=r.count();V<oe;V++)L[r.getRawIndex(V)].dataIndex=V},g.prototype.clone=function(){for(var n=new g(this._directed),r=this.nodes,$=this.edges,L=0;L<r.length;L++)n.addNode(r[L].id,r[L].dataIndex);for(var L=0;L<$.length;L++){var V=$[L];n.addEdge(V.node1.id,V.node2.id,V.dataIndex)}return n},g}(),GraphNode=function(){function g(n,r){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=n!=null?n:"",this.dataIndex=r!=null?r:-1}return g.prototype.degree=function(){return this.edges.length},g.prototype.inDegree=function(){return this.inEdges.length},g.prototype.outDegree=function(){return this.outEdges.length},g.prototype.getModel=function(n){if(!(this.dataIndex<0)){var r=this.hostGraph,$=r.data.getItemModel(this.dataIndex);return $.getModel(n)}},g.prototype.getAdjacentDataIndices=function(){for(var n={edge:[],node:[]},r=0;r<this.edges.length;r++){var $=this.edges[r];$.dataIndex<0||(n.edge.push($.dataIndex),n.node.push($.node1.dataIndex,$.node2.dataIndex))}return n},g.prototype.getTrajectoryDataIndices=function(){for(var n=createHashMap(),r=createHashMap(),$=0;$<this.edges.length;$++){var L=this.edges[$];if(!(L.dataIndex<0)){n.set(L.dataIndex,!0);for(var V=[L.node1],oe=[L.node2],re=0;re<V.length;){var ae=V[re];re++,r.set(ae.dataIndex,!0);for(var le=0;le<ae.inEdges.length;le++)n.set(ae.inEdges[le].dataIndex,!0),V.push(ae.inEdges[le].node1)}for(re=0;re<oe.length;){var ue=oe[re];re++,r.set(ue.dataIndex,!0);for(var le=0;le<ue.outEdges.length;le++)n.set(ue.outEdges[le].dataIndex,!0),oe.push(ue.outEdges[le].node2)}}}return{edge:n.keys(),node:r.keys()}},g}(),GraphEdge=function(){function g(n,r,$){this.dataIndex=-1,this.node1=n,this.node2=r,this.dataIndex=$!=null?$:-1}return g.prototype.getModel=function(n){if(!(this.dataIndex<0)){var r=this.hostGraph,$=r.edgeData.getItemModel(this.dataIndex);return $.getModel(n)}},g.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},g.prototype.getTrajectoryDataIndices=function(){var n=createHashMap(),r=createHashMap();n.set(this.dataIndex,!0);for(var $=[this.node1],L=[this.node2],V=0;V<$.length;){var oe=$[V];V++,r.set(oe.dataIndex,!0);for(var re=0;re<oe.inEdges.length;re++)n.set(oe.inEdges[re].dataIndex,!0),$.push(oe.inEdges[re].node1)}for(V=0;V<L.length;){var ae=L[V];V++,r.set(ae.dataIndex,!0);for(var re=0;re<ae.outEdges.length;re++)n.set(ae.outEdges[re].dataIndex,!0),L.push(ae.outEdges[re].node2)}return{edge:n.keys(),node:r.keys()}},g}();function createGraphDataProxyMixin(g,n){return{getValue:function(r){var $=this[g][n];return $.getStore().get($.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,$){this.dataIndex>=0&&this[g][n].setItemVisual(this.dataIndex,r,$)},getVisual:function(r){return this[g][n].getItemVisual(this.dataIndex,r)},setLayout:function(r,$){this.dataIndex>=0&&this[g][n].setItemLayout(this.dataIndex,r,$)},getLayout:function(){return this[g][n].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[g][n].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[g][n].getRawIndex(this.dataIndex)}}}mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data")),mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));const Graph$1=Graph;function createGraphFromNodeEdge(g,n,r,$,L){for(var V=new Graph$1($),oe=0;oe<g.length;oe++)V.addNode(retrieve(g[oe].id,g[oe].name,oe),oe);for(var re=[],ae=[],le=0,oe=0;oe<n.length;oe++){var ue=n[oe],de=ue.source,pe=ue.target;V.addEdge(de,pe,le)&&(ae.push(ue),re.push(retrieve(convertOptionIdName(ue.id,null),de+" > "+pe)),le++)}var he=r.get("coordinateSystem"),_e;if(he==="cartesian2d"||he==="polar")_e=createSeriesData(g,r);else{var Oe=CoordinateSystem.get(he),xe=Oe?Oe.dimensions||[]:[];indexOf(xe,"value")<0&&xe.concat(["value"]);var $e=prepareSeriesDataSchema(g,{coordDimensions:xe,encodeDefine:r.getEncode()}).dimensions;_e=new SeriesData$1($e,r),_e.initData(g)}var Ie=new SeriesData$1(["value"],r);return Ie.initData(ae,re),L&&L(_e,Ie),linkSeriesData({mainData:_e,struct:V,structAttr:"graph",datas:{node:_e,edge:Ie},datasAttr:{node:"data",edge:"edgeData"}}),V.update(),V}var GraphSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.init=function(r){g.prototype.init.apply(this,arguments);var $=this;function L(){return $._categoriesData}this.legendVisualProvider=new LegendVisualProvider$1(L,L),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},n.prototype.mergeOption=function(r){g.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},n.prototype.mergeDefaultAndTheme=function(r){g.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(r,"edgeLabel",["show"])},n.prototype.getInitialData=function(r,$){var L=r.edges||r.links||[],V=r.data||r.nodes||[],oe=this;if(V&&L){initCurvenessList(this);var re=createGraphFromNodeEdge(V,L,this,!0,ae);return each$f(re.edges,function(le){createEdgeMapForCurveness(le.node1,le.node2,this,le.dataIndex)},this),re.data}function ae(le,ue){le.wrapMethod("getItemModel",function(_e){var Oe=oe._categoriesModels,xe=_e.getShallow("category"),$e=Oe[xe];return $e&&($e.parentModel=_e.parentModel,_e.parentModel=$e),_e});var de=Model$1.prototype.getModel;function pe(_e,Oe){var xe=de.call(this,_e,Oe);return xe.resolveParentPath=he,xe}ue.wrapMethod("getItemModel",function(_e){return _e.resolveParentPath=he,_e.getModel=pe,_e});function he(_e){if(_e&&(_e[0]==="label"||_e[1]==="label")){var Oe=_e.slice();return _e[0]==="label"?Oe[0]="edgeLabel":_e[1]==="label"&&(Oe[1]="edgeLabel"),Oe}return _e}}},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.getCategoriesData=function(){return this._categoriesData},n.prototype.formatTooltip=function(r,$,L){if(L==="edge"){var V=this.getData(),oe=this.getDataParams(r,L),re=V.graph.getEdgeByIndex(r),ae=V.getName(re.node1.dataIndex),le=V.getName(re.node2.dataIndex),ue=[];return ae!=null&&ue.push(ae),le!=null&&ue.push(le),createTooltipMarkup("nameValue",{name:ue.join(" > "),value:oe.value,noValue:oe.value==null})}var de=defaultSeriesFormatTooltip({series:this,dataIndex:r,multipleSeries:$});return de},n.prototype._updateCategoriesData=function(){var r=map$2(this.option.categories||[],function(L){return L.value!=null?L:extend$3({value:0},L)}),$=new SeriesData$1(["value"],this);$.initData(r),this._categoriesData=$,this._categoriesModels=$.mapArray(function(L){return $.getItemModel(L)})},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.isAnimationEnabled=function(){return g.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},n.type="series.graph",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel$1);const GraphSeriesModel$1=GraphSeriesModel;var actionInfo$1={type:"graphRoam",event:"graphRoam",update:"none"};function install$H(g){g.registerChartView(GraphView$1),g.registerSeriesModel(GraphSeriesModel$1),g.registerProcessor(categoryFilter),g.registerVisual(categoryVisual),g.registerVisual(graphEdgeVisual),g.registerLayout(graphSimpleLayout),g.registerLayout(g.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),g.registerLayout(graphForceLayout),g.registerCoordinateSystem("graphView",{dimensions:View$1.dimensions,create:createViewCoordSys}),g.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},noop$5),g.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},noop$5),g.registerAction(actionInfo$1,function(n,r,$){r.eachComponent({mainType:"series",query:n},function(L){var V=L.coordinateSystem,oe=updateCenterAndZoom(V,n,void 0,$);L.setCenter&&L.setCenter(oe.center),L.setZoom&&L.setZoom(oe.zoom)})})}var PointerShape=function(){function g(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return g}(),PointerPath=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="pointer",$}return n.prototype.getDefaultShape=function(){return new PointerShape},n.prototype.buildPath=function(r,$){var L=Math.cos,V=Math.sin,oe=$.r,re=$.width,ae=$.angle,le=$.x-L(ae)*re*(re>=oe/3?1:2),ue=$.y-V(ae)*re*(re>=oe/3?1:2);ae=$.angle-Math.PI/2,r.moveTo(le,ue),r.lineTo($.x+L(ae)*re,$.y+V(ae)*re),r.lineTo($.x+L($.angle)*oe,$.y+V($.angle)*oe),r.lineTo($.x-L(ae)*re,$.y-V(ae)*re),r.lineTo(le,ue)},n}(Path$1);const PointerPath$1=PointerPath;function parsePosition(g,n){var r=g.get("center"),$=n.getWidth(),L=n.getHeight(),V=Math.min($,L),oe=parsePercent(r[0],n.getWidth()),re=parsePercent(r[1],n.getHeight()),ae=parsePercent(g.get("radius"),V/2);return{cx:oe,cy:re,r:ae}}function formatLabel(g,n){var r=g==null?"":g+"";return n&&(isString$3(n)?r=n.replace("{value}",r):isFunction$3(n)&&(r=n(g))),r}var GaugeView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){this.group.removeAll();var V=r.get(["axisLine","lineStyle","color"]),oe=parsePosition(r,L);this._renderMain(r,$,L,V,oe),this._data=r.getData()},n.prototype.dispose=function(){},n.prototype._renderMain=function(r,$,L,V,oe){var re=this.group,ae=r.get("clockwise"),le=-r.get("startAngle")/180*Math.PI,ue=-r.get("endAngle")/180*Math.PI,de=r.getModel("axisLine"),pe=de.get("roundCap"),he=pe?Sausage:Sector$1,_e=de.get("show"),Oe=de.getModel("lineStyle"),xe=Oe.get("width"),$e=[le,ue];normalizeArcAngles($e,!ae),le=$e[0],ue=$e[1];for(var Ie=ue-le,Ne=le,ze=[],Ue=0;_e&&Ue<V.length;Ue++){var Fe=Math.min(Math.max(V[Ue][0],0),1);ue=le+Ie*Fe;var qe=new he({shape:{startAngle:Ne,endAngle:ue,cx:oe.cx,cy:oe.cy,clockwise:ae,r0:oe.r-xe,r:oe.r},silent:!0});qe.setStyle({fill:V[Ue][1]}),qe.setStyle(Oe.getLineStyle(["color","width"])),ze.push(qe),Ne=ue}ze.reverse(),each$f(ze,function(At){return re.add(At)});var Et=function(At){if(At<=0)return V[0][1];var kt;for(kt=0;kt<V.length;kt++)if(V[kt][0]>=At&&(kt===0?0:V[kt-1][0])<At)return V[kt][1];return V[kt-1][1]};this._renderTicks(r,$,L,Et,oe,le,ue,ae,xe),this._renderTitleAndDetail(r,$,L,Et,oe),this._renderAnchor(r,oe),this._renderPointer(r,$,L,Et,oe,le,ue,ae,xe)},n.prototype._renderTicks=function(r,$,L,V,oe,re,ae,le,ue){for(var de=this.group,pe=oe.cx,he=oe.cy,_e=oe.r,Oe=+r.get("min"),xe=+r.get("max"),$e=r.getModel("splitLine"),Ie=r.getModel("axisTick"),Ne=r.getModel("axisLabel"),ze=r.get("splitNumber"),Ue=Ie.get("splitNumber"),Fe=parsePercent($e.get("length"),_e),qe=parsePercent(Ie.get("length"),_e),Et=re,At=(ae-re)/ze,kt=At/Ue,Dt=$e.getModel("lineStyle").getLineStyle(),jt=Ie.getModel("lineStyle").getLineStyle(),Lt=$e.get("distance"),hn,Sn,On=0;On<=ze;On++){if(hn=Math.cos(Et),Sn=Math.sin(Et),$e.get("show")){var _n=Lt?Lt+ue:ue,xn=new Line$4({shape:{x1:hn*(_e-_n)+pe,y1:Sn*(_e-_n)+he,x2:hn*(_e-Fe-_n)+pe,y2:Sn*(_e-Fe-_n)+he},style:Dt,silent:!0});Dt.stroke==="auto"&&xn.setStyle({stroke:V(On/ze)}),de.add(xn)}if(Ne.get("show")){var _n=Ne.get("distance")+Lt,bn=formatLabel(round$3(On/ze*(xe-Oe)+Oe),Ne.get("formatter")),Tn=V(On/ze),An=hn*(_e-Fe-_n)+pe,En=Sn*(_e-Fe-_n)+he,Ln=Ne.get("rotate"),Wn=0;Ln==="radial"?(Wn=-Et+2*Math.PI,Wn>Math.PI/2&&(Wn+=Math.PI)):Ln==="tangential"?Wn=-Et-Math.PI/2:isNumber$3(Ln)&&(Wn=Ln*Math.PI/180),Wn===0?de.add(new ZRText$1({style:createTextStyle(Ne,{text:bn,x:An,y:En,verticalAlign:Sn<-.8?"top":Sn>.8?"bottom":"middle",align:hn<-.4?"left":hn>.4?"right":"center"},{inheritColor:Tn}),silent:!0})):de.add(new ZRText$1({style:createTextStyle(Ne,{text:bn,x:An,y:En,verticalAlign:"middle",align:"center"},{inheritColor:Tn}),silent:!0,originX:An,originY:En,rotation:Wn}))}if(Ie.get("show")&&On!==ze){var _n=Ie.get("distance");_n=_n?_n+ue:ue;for(var Mn=0;Mn<=Ue;Mn++){hn=Math.cos(Et),Sn=Math.sin(Et);var Fn=new Line$4({shape:{x1:hn*(_e-_n)+pe,y1:Sn*(_e-_n)+he,x2:hn*(_e-qe-_n)+pe,y2:Sn*(_e-qe-_n)+he},silent:!0,style:jt});jt.stroke==="auto"&&Fn.setStyle({stroke:V((On+Mn/Ue)/ze)}),de.add(Fn),Et+=kt}Et-=kt}else Et+=At}},n.prototype._renderPointer=function(r,$,L,V,oe,re,ae,le,ue){var de=this.group,pe=this._data,he=this._progressEls,_e=[],Oe=r.get(["pointer","show"]),xe=r.getModel("progress"),$e=xe.get("show"),Ie=r.getData(),Ne=Ie.mapDimension("value"),ze=+r.get("min"),Ue=+r.get("max"),Fe=[ze,Ue],qe=[re,ae];function Et(kt,Dt){var jt=Ie.getItemModel(kt),Lt=jt.getModel("pointer"),hn=parsePercent(Lt.get("width"),oe.r),Sn=parsePercent(Lt.get("length"),oe.r),On=r.get(["pointer","icon"]),_n=Lt.get("offsetCenter"),xn=parsePercent(_n[0],oe.r),bn=parsePercent(_n[1],oe.r),Tn=Lt.get("keepAspect"),An;return On?An=createSymbol$1(On,xn-hn/2,bn-Sn,hn,Sn,null,Tn):An=new PointerPath$1({shape:{angle:-Math.PI/2,width:hn,r:Sn,x:xn,y:bn}}),An.rotation=-(Dt+Math.PI/2),An.x=oe.cx,An.y=oe.cy,An}function At(kt,Dt){var jt=xe.get("roundCap"),Lt=jt?Sausage:Sector$1,hn=xe.get("overlap"),Sn=hn?xe.get("width"):ue/Ie.count(),On=hn?oe.r-Sn:oe.r-(kt+1)*Sn,_n=hn?oe.r:oe.r-kt*Sn,xn=new Lt({shape:{startAngle:re,endAngle:Dt,cx:oe.cx,cy:oe.cy,clockwise:le,r0:On,r:_n}});return hn&&(xn.z2=Ue-Ie.get(Ne,kt)%Ue),xn}($e||Oe)&&(Ie.diff(pe).add(function(kt){var Dt=Ie.get(Ne,kt);if(Oe){var jt=Et(kt,re);initProps(jt,{rotation:-((isNaN(+Dt)?qe[0]:linearMap$2(Dt,Fe,qe,!0))+Math.PI/2)},r),de.add(jt),Ie.setItemGraphicEl(kt,jt)}if($e){var Lt=At(kt,re),hn=xe.get("clip");initProps(Lt,{shape:{endAngle:linearMap$2(Dt,Fe,qe,hn)}},r),de.add(Lt),setCommonECData(r.seriesIndex,Ie.dataType,kt,Lt),_e[kt]=Lt}}).update(function(kt,Dt){var jt=Ie.get(Ne,kt);if(Oe){var Lt=pe.getItemGraphicEl(Dt),hn=Lt?Lt.rotation:re,Sn=Et(kt,hn);Sn.rotation=hn,updateProps$1(Sn,{rotation:-((isNaN(+jt)?qe[0]:linearMap$2(jt,Fe,qe,!0))+Math.PI/2)},r),de.add(Sn),Ie.setItemGraphicEl(kt,Sn)}if($e){var On=he[Dt],_n=On?On.shape.endAngle:re,xn=At(kt,_n),bn=xe.get("clip");updateProps$1(xn,{shape:{endAngle:linearMap$2(jt,Fe,qe,bn)}},r),de.add(xn),setCommonECData(r.seriesIndex,Ie.dataType,kt,xn),_e[kt]=xn}}).execute(),Ie.each(function(kt){var Dt=Ie.getItemModel(kt),jt=Dt.getModel("emphasis"),Lt=jt.get("focus"),hn=jt.get("blurScope"),Sn=jt.get("disabled");if(Oe){var On=Ie.getItemGraphicEl(kt),_n=Ie.getItemVisual(kt,"style"),xn=_n.fill;if(On instanceof ZRImage$1){var bn=On.style;On.useStyle(extend$3({image:bn.image,x:bn.x,y:bn.y,width:bn.width,height:bn.height},_n))}else On.useStyle(_n),On.type!=="pointer"&&On.setColor(xn);On.setStyle(Dt.getModel(["pointer","itemStyle"]).getItemStyle()),On.style.fill==="auto"&&On.setStyle("fill",V(linearMap$2(Ie.get(Ne,kt),Fe,[0,1],!0))),On.z2EmphasisLift=0,setStatesStylesFromModel(On,Dt),toggleHoverEmphasis(On,Lt,hn,Sn)}if($e){var Tn=_e[kt];Tn.useStyle(Ie.getItemVisual(kt,"style")),Tn.setStyle(Dt.getModel(["progress","itemStyle"]).getItemStyle()),Tn.z2EmphasisLift=0,setStatesStylesFromModel(Tn,Dt),toggleHoverEmphasis(Tn,Lt,hn,Sn)}}),this._progressEls=_e)},n.prototype._renderAnchor=function(r,$){var L=r.getModel("anchor"),V=L.get("show");if(V){var oe=L.get("size"),re=L.get("icon"),ae=L.get("offsetCenter"),le=L.get("keepAspect"),ue=createSymbol$1(re,$.cx-oe/2+parsePercent(ae[0],$.r),$.cy-oe/2+parsePercent(ae[1],$.r),oe,oe,null,le);ue.z2=L.get("showAbove")?1:0,ue.setStyle(L.getModel("itemStyle").getItemStyle()),this.group.add(ue)}},n.prototype._renderTitleAndDetail=function(r,$,L,V,oe){var re=this,ae=r.getData(),le=ae.mapDimension("value"),ue=+r.get("min"),de=+r.get("max"),pe=new Group$4,he=[],_e=[],Oe=r.isAnimationEnabled(),xe=r.get(["pointer","showAbove"]);ae.diff(this._data).add(function($e){he[$e]=new ZRText$1({silent:!0}),_e[$e]=new ZRText$1({silent:!0})}).update(function($e,Ie){he[$e]=re._titleEls[Ie],_e[$e]=re._detailEls[Ie]}).execute(),ae.each(function($e){var Ie=ae.getItemModel($e),Ne=ae.get(le,$e),ze=new Group$4,Ue=V(linearMap$2(Ne,[ue,de],[0,1],!0)),Fe=Ie.getModel("title");if(Fe.get("show")){var qe=Fe.get("offsetCenter"),Et=oe.cx+parsePercent(qe[0],oe.r),At=oe.cy+parsePercent(qe[1],oe.r),kt=he[$e];kt.attr({z2:xe?0:2,style:createTextStyle(Fe,{x:Et,y:At,text:ae.getName($e),align:"center",verticalAlign:"middle"},{inheritColor:Ue})}),ze.add(kt)}var Dt=Ie.getModel("detail");if(Dt.get("show")){var jt=Dt.get("offsetCenter"),Lt=oe.cx+parsePercent(jt[0],oe.r),hn=oe.cy+parsePercent(jt[1],oe.r),Sn=parsePercent(Dt.get("width"),oe.r),On=parsePercent(Dt.get("height"),oe.r),_n=r.get(["progress","show"])?ae.getItemVisual($e,"style").fill:Ue,kt=_e[$e],xn=Dt.get("formatter");kt.attr({z2:xe?0:2,style:createTextStyle(Dt,{x:Lt,y:hn,text:formatLabel(Ne,xn),width:isNaN(Sn)?null:Sn,height:isNaN(On)?null:On,align:"center",verticalAlign:"middle"},{inheritColor:_n})}),setLabelValueAnimation(kt,{normal:Dt},Ne,function(Tn){return formatLabel(Tn,xn)}),Oe&&animateLabelValue(kt,$e,ae,r,{getFormattedLabel:function(Tn,An,En,Ln,Wn,Mn){return formatLabel(Mn?Mn.interpolatedValue:Ne,xn)}}),ze.add(kt)}pe.add(ze)}),this.group.add(pe),this._titleEls=he,this._detailEls=_e},n.type="gauge",n}(ChartView$1);const GaugeView$1=GaugeView;var GaugeSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath="itemStyle",r}return n.prototype.getInitialData=function(r,$){return createSeriesDataSimply(this,["value"])},n.type="series.gauge",n.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},n}(SeriesModel$1);const GaugeSeriesModel$1=GaugeSeriesModel;function install$G(g){g.registerChartView(GaugeView$1),g.registerSeriesModel(GaugeSeriesModel$1)}var opacityAccessPath$1=["itemStyle","opacity"],FunnelPiece=function(g){__extends(n,g);function n(r,$){var L=g.call(this)||this,V=L,oe=new Polyline$3,re=new ZRText$1;return V.setTextContent(re),L.setTextGuideLine(oe),L.updateData(r,$,!0),L}return n.prototype.updateData=function(r,$,L){var V=this,oe=r.hostModel,re=r.getItemModel($),ae=r.getItemLayout($),le=re.getModel("emphasis"),ue=re.get(opacityAccessPath$1);ue=ue!=null?ue:1,L||saveOldStyle(V),V.useStyle(r.getItemVisual($,"style")),V.style.lineJoin="round",L?(V.setShape({points:ae.points}),V.style.opacity=0,initProps(V,{style:{opacity:ue}},oe,$)):updateProps$1(V,{style:{opacity:ue},shape:{points:ae.points}},oe,$),setStatesStylesFromModel(V,re),this._updateLabel(r,$),toggleHoverEmphasis(this,le.get("focus"),le.get("blurScope"),le.get("disabled"))},n.prototype._updateLabel=function(r,$){var L=this,V=this.getTextGuideLine(),oe=L.getTextContent(),re=r.hostModel,ae=r.getItemModel($),le=r.getItemLayout($),ue=le.label,de=r.getItemVisual($,"style"),pe=de.fill;setLabelStyle(oe,getLabelStatesModels(ae),{labelFetcher:r.hostModel,labelDataIndex:$,defaultOpacity:de.opacity,defaultText:r.getName($)},{normal:{align:ue.textAlign,verticalAlign:ue.verticalAlign}}),L.setTextConfig({local:!0,inside:!!ue.inside,insideStroke:pe,outsideFill:pe});var he=ue.linePoints;V.setShape({points:he}),L.textGuideLineConfig={anchor:he?new Point$1(he[0][0],he[0][1]):null},updateProps$1(oe,{style:{x:ue.x,y:ue.y}},re,$),oe.attr({rotation:ue.rotation,originX:ue.x,originY:ue.y,z2:10}),setLabelLineStyle(L,getLabelLineStatesModels(ae),{stroke:pe})},n}(Polygon$1),FunnelView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.ignoreLabelLineUpdate=!0,r}return n.prototype.render=function(r,$,L){var V=r.getData(),oe=this._data,re=this.group;V.diff(oe).add(function(ae){var le=new FunnelPiece(V,ae);V.setItemGraphicEl(ae,le),re.add(le)}).update(function(ae,le){var ue=oe.getItemGraphicEl(le);ue.updateData(V,ae),re.add(ue),V.setItemGraphicEl(ae,ue)}).remove(function(ae){var le=oe.getItemGraphicEl(ae);removeElementWithFadeOut(le,r,ae)}).execute(),this._data=V},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.prototype.dispose=function(){},n.type="funnel",n}(ChartView$1);const FunnelView$1=FunnelView;var FunnelSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r){g.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$3(this.getData,this),bind$3(this.getRawData,this)),this._defaultLabelLine(r)},n.prototype.getInitialData=function(r,$){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},n.prototype._defaultLabelLine=function(r){defaultEmphasis(r,"labelLine",["show"]);var $=r.labelLine,L=r.emphasis.labelLine;$.show=$.show&&r.label.show,L.show=L.show&&r.emphasis.label.show},n.prototype.getDataParams=function(r){var $=this.getData(),L=g.prototype.getDataParams.call(this,r),V=$.mapDimension("value"),oe=$.getSum(V);return L.percent=oe?+($.get(V,r)/oe*100).toFixed(2):0,L.$vars.push("percent"),L},n.type="series.funnel",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel$1);const FunnelSeriesModel$1=FunnelSeriesModel;function getViewRect$2(g,n){return getLayoutRect(g.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getSortedIndices(g,n){for(var r=g.mapDimension("value"),$=g.mapArray(r,function(ae){return ae}),L=[],V=n==="ascending",oe=0,re=g.count();oe<re;oe++)L[oe]=oe;return isFunction$3(n)?L.sort(n):n!=="none"&&L.sort(function(ae,le){return V?$[ae]-$[le]:$[le]-$[ae]}),L}function labelLayout(g){var n=g.hostModel,r=n.get("orient");g.each(function($){var L=g.getItemModel($),V=L.getModel("label"),oe=V.get("position"),re=L.getModel("labelLine"),ae=g.getItemLayout($),le=ae.points,ue=oe==="inner"||oe==="inside"||oe==="center"||oe==="insideLeft"||oe==="insideRight",de,pe,he,_e;if(ue)oe==="insideLeft"?(pe=(le[0][0]+le[3][0])/2+5,he=(le[0][1]+le[3][1])/2,de="left"):oe==="insideRight"?(pe=(le[1][0]+le[2][0])/2-5,he=(le[1][1]+le[2][1])/2,de="right"):(pe=(le[0][0]+le[1][0]+le[2][0]+le[3][0])/4,he=(le[0][1]+le[1][1]+le[2][1]+le[3][1])/4,de="center"),_e=[[pe,he],[pe,he]];else{var Oe=void 0,xe=void 0,$e=void 0,Ie=void 0,Ne=re.get("length");oe==="left"?(Oe=(le[3][0]+le[0][0])/2,xe=(le[3][1]+le[0][1])/2,$e=Oe-Ne,pe=$e-5,de="right"):oe==="right"?(Oe=(le[1][0]+le[2][0])/2,xe=(le[1][1]+le[2][1])/2,$e=Oe+Ne,pe=$e+5,de="left"):oe==="top"?(Oe=(le[3][0]+le[0][0])/2,xe=(le[3][1]+le[0][1])/2,Ie=xe-Ne,he=Ie-5,de="center"):oe==="bottom"?(Oe=(le[1][0]+le[2][0])/2,xe=(le[1][1]+le[2][1])/2,Ie=xe+Ne,he=Ie+5,de="center"):oe==="rightTop"?(Oe=r==="horizontal"?le[3][0]:le[1][0],xe=r==="horizontal"?le[3][1]:le[1][1],r==="horizontal"?(Ie=xe-Ne,he=Ie-5,de="center"):($e=Oe+Ne,pe=$e+5,de="top")):oe==="rightBottom"?(Oe=le[2][0],xe=le[2][1],r==="horizontal"?(Ie=xe+Ne,he=Ie+5,de="center"):($e=Oe+Ne,pe=$e+5,de="bottom")):oe==="leftTop"?(Oe=le[0][0],xe=r==="horizontal"?le[0][1]:le[1][1],r==="horizontal"?(Ie=xe-Ne,he=Ie-5,de="center"):($e=Oe-Ne,pe=$e-5,de="right")):oe==="leftBottom"?(Oe=r==="horizontal"?le[1][0]:le[3][0],xe=r==="horizontal"?le[1][1]:le[2][1],r==="horizontal"?(Ie=xe+Ne,he=Ie+5,de="center"):($e=Oe-Ne,pe=$e-5,de="right")):(Oe=(le[1][0]+le[2][0])/2,xe=(le[1][1]+le[2][1])/2,r==="horizontal"?(Ie=xe+Ne,he=Ie+5,de="center"):($e=Oe+Ne,pe=$e+5,de="left")),r==="horizontal"?($e=Oe,pe=$e):(Ie=xe,he=Ie),_e=[[Oe,xe],[$e,Ie]]}ae.label={linePoints:_e,x:pe,y:he,verticalAlign:"middle",textAlign:de,inside:ue}})}function funnelLayout(g,n){g.eachSeriesByType("funnel",function(r){var $=r.getData(),L=$.mapDimension("value"),V=r.get("sort"),oe=getViewRect$2(r,n),re=r.get("orient"),ae=oe.width,le=oe.height,ue=getSortedIndices($,V),de=oe.x,pe=oe.y,he=re==="horizontal"?[parsePercent(r.get("minSize"),le),parsePercent(r.get("maxSize"),le)]:[parsePercent(r.get("minSize"),ae),parsePercent(r.get("maxSize"),ae)],_e=$.getDataExtent(L),Oe=r.get("min"),xe=r.get("max");Oe==null&&(Oe=Math.min(_e[0],0)),xe==null&&(xe=_e[1]);var $e=r.get("funnelAlign"),Ie=r.get("gap"),Ne=re==="horizontal"?ae:le,ze=(Ne-Ie*($.count()-1))/$.count(),Ue=function(hn,Sn){if(re==="horizontal"){var On=$.get(L,hn)||0,_n=linearMap$2(On,[Oe,xe],he,!0),xn=void 0;switch($e){case"top":xn=pe;break;case"center":xn=pe+(le-_n)/2;break;case"bottom":xn=pe+(le-_n);break}return[[Sn,xn],[Sn,xn+_n]]}var bn=$.get(L,hn)||0,Tn=linearMap$2(bn,[Oe,xe],he,!0),An;switch($e){case"left":An=de;break;case"center":An=de+(ae-Tn)/2;break;case"right":An=de+ae-Tn;break}return[[An,Sn],[An+Tn,Sn]]};V==="ascending"&&(ze=-ze,Ie=-Ie,re==="horizontal"?de+=ae:pe+=le,ue=ue.reverse());for(var Fe=0;Fe<ue.length;Fe++){var qe=ue[Fe],Et=ue[Fe+1],At=$.getItemModel(qe);if(re==="horizontal"){var kt=At.get(["itemStyle","width"]);kt==null?kt=ze:(kt=parsePercent(kt,ae),V==="ascending"&&(kt=-kt));var Dt=Ue(qe,de),jt=Ue(Et,de+kt);de+=kt+Ie,$.setItemLayout(qe,{points:Dt.concat(jt.slice().reverse())})}else{var Lt=At.get(["itemStyle","height"]);Lt==null?Lt=ze:(Lt=parsePercent(Lt,le),V==="ascending"&&(Lt=-Lt));var Dt=Ue(qe,pe),jt=Ue(Et,pe+Lt);pe+=Lt+Ie,$.setItemLayout(qe,{points:Dt.concat(jt.slice().reverse())})}}labelLayout($)})}function install$F(g){g.registerChartView(FunnelView$1),g.registerSeriesModel(FunnelSeriesModel$1),g.registerLayout(funnelLayout),g.registerProcessor(dataFilter$1("funnel"))}var DEFAULT_SMOOTH=.3,ParallelView$2=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._dataGroup=new Group$4,r._initialized=!1,r}return n.prototype.init=function(){this.group.add(this._dataGroup)},n.prototype.render=function(r,$,L,V){this._progressiveEls=null;var oe=this._dataGroup,re=r.getData(),ae=this._data,le=r.coordinateSystem,ue=le.dimensions,de=makeSeriesScope(r);re.diff(ae).add(pe).update(he).remove(_e).execute();function pe(xe){var $e=addEl(re,oe,xe,ue,le);updateElCommon($e,re,xe,de)}function he(xe,$e){var Ie=ae.getItemGraphicEl($e),Ne=createLinePoints(re,xe,ue,le);re.setItemGraphicEl(xe,Ie),updateProps$1(Ie,{shape:{points:Ne}},r,xe),saveOldStyle(Ie),updateElCommon(Ie,re,xe,de)}function _e(xe){var $e=ae.getItemGraphicEl(xe);oe.remove($e)}if(!this._initialized){this._initialized=!0;var Oe=createGridClipShape$2(le,r,function(){setTimeout(function(){oe.removeClipPath()})});oe.setClipPath(Oe)}this._data=re},n.prototype.incrementalPrepareRender=function(r,$,L){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},n.prototype.incrementalRender=function(r,$,L){for(var V=$.getData(),oe=$.coordinateSystem,re=oe.dimensions,ae=makeSeriesScope($),le=this._progressiveEls=[],ue=r.start;ue<r.end;ue++){var de=addEl(V,this._dataGroup,ue,re,oe);de.incremental=!0,updateElCommon(de,V,ue,ae),le.push(de)}},n.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},n.type="parallel",n}(ChartView$1);function createGridClipShape$2(g,n,r){var $=g.model,L=g.getRect(),V=new Rect$3({shape:{x:L.x,y:L.y,width:L.width,height:L.height}}),oe=$.get("layout")==="horizontal"?"width":"height";return V.setShape(oe,0),initProps(V,{shape:{width:L.width,height:L.height}},n,r),V}function createLinePoints(g,n,r,$){for(var L=[],V=0;V<r.length;V++){var oe=r[V],re=g.get(g.mapDimension(oe),n);isEmptyValue$1(re,$.getAxis(oe).type)||L.push($.dataToPoint(re,oe))}return L}function addEl(g,n,r,$,L){var V=createLinePoints(g,r,$,L),oe=new Polyline$3({shape:{points:V},z2:10});return n.add(oe),g.setItemGraphicEl(r,oe),oe}function makeSeriesScope(g){var n=g.get("smooth",!0);return n===!0&&(n=DEFAULT_SMOOTH),n=numericToNumber(n),eqNaN(n)&&(n=0),{smooth:n}}function updateElCommon(g,n,r,$){g.useStyle(n.getItemVisual(r,"style")),g.style.fill=null,g.setShape("smooth",$.smooth);var L=n.getItemModel(r),V=L.getModel("emphasis");setStatesStylesFromModel(g,L,"lineStyle"),toggleHoverEmphasis(g,V.get("focus"),V.get("blurScope"),V.get("disabled"))}function isEmptyValue$1(g,n){return n==="category"?g==null:g==null||isNaN(g)}const ParallelView$3=ParallelView$2;var ParallelSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return n.prototype.getInitialData=function(r,$){return createSeriesData(null,this,{useEncodeDefaulter:bind$3(makeDefaultEncode,null,this)})},n.prototype.getRawIndicesByActiveState=function(r){var $=this.coordinateSystem,L=this.getData(),V=[];return $.eachActiveState(L,function(oe,re){r===oe&&V.push(L.getRawIndex(re))}),V},n.type="series.parallel",n.dependencies=["parallel"],n.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},n}(SeriesModel$1);function makeDefaultEncode(g){var n=g.ecModel.getComponent("parallel",g.get("parallelIndex"));if(n){var r={};return each$f(n.dimensions,function($){var L=convertDimNameToNumber($);r[$]=L}),r}}function convertDimNameToNumber(g){return+g.replace("dim","")}const ParallelSeriesModel$1=ParallelSeriesModel;var opacityAccessPath=["lineStyle","opacity"],parallelVisual={seriesType:"parallel",reset:function(g,n){var r=g.coordinateSystem,$={normal:g.get(["lineStyle","opacity"]),active:g.get("activeOpacity"),inactive:g.get("inactiveOpacity")};return{progress:function(L,V){r.eachActiveState(V,function(oe,re){var ae=$[oe];if(oe==="normal"&&V.hasItemOption){var le=V.getItemModel(re).get(opacityAccessPath,!0);le!=null&&(ae=le)}var ue=V.ensureUniqueItemVisual(re,"style");ue.opacity=ae},L.start,L.end)}}}};const parallelVisual$1=parallelVisual;function parallelPreprocessor(g){createParallelIfNeeded(g),mergeAxisOptionFromParallel(g)}function createParallelIfNeeded(g){if(!g.parallel){var n=!1;each$f(g.series,function(r){r&&r.type==="parallel"&&(n=!0)}),n&&(g.parallel=[{}])}}function mergeAxisOptionFromParallel(g){var n=normalizeToArray(g.parallelAxis);each$f(n,function(r){if(isObject$6(r)){var $=r.parallelIndex||0,L=normalizeToArray(g.parallel)[$];L&&L.parallelAxisDefault&&merge$4(r,L.parallelAxisDefault,!1)}})}var CLICK_THRESHOLD=5,ParallelView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){this._model=r,this._api=L,this._handlers||(this._handlers={},each$f(handlers$2,function(V,oe){L.getZr().on(oe,this._handlers[oe]=bind$3(V,this))},this)),createOrUpdate(this,"_throttledDispatchExpand",r.get("axisExpandRate"),"fixRate")},n.prototype.dispose=function(r,$){clear$1(this,"_throttledDispatchExpand"),each$f(this._handlers,function(L,V){$.getZr().off(V,L)}),this._handlers=null},n.prototype._throttledDispatchExpand=function(r){this._dispatchExpand(r)},n.prototype._dispatchExpand=function(r){r&&this._api.dispatchAction(extend$3({type:"parallelAxisExpand"},r))},n.type="parallel",n}(ComponentView$1),handlers$2={mousedown:function(g){checkTrigger(this,"click")&&(this._mouseDownPoint=[g.offsetX,g.offsetY])},mouseup:function(g){var n=this._mouseDownPoint;if(checkTrigger(this,"click")&&n){var r=[g.offsetX,g.offsetY],$=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2);if($>CLICK_THRESHOLD)return;var L=this._model.coordinateSystem.getSlidedAxisExpandWindow([g.offsetX,g.offsetY]);L.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:L.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(g){if(!(this._mouseDownPoint||!checkTrigger(this,"mousemove"))){var n=this._model,r=n.coordinateSystem.getSlidedAxisExpandWindow([g.offsetX,g.offsetY]),$=r.behavior;$==="jump"&&this._throttledDispatchExpand.debounceNextCall(n.get("axisExpandDebounce")),this._throttledDispatchExpand($==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:$==="jump"?null:{duration:0}})}}};function checkTrigger(g,n){var r=g._model;return r.get("axisExpandable")&&r.get("axisExpandTriggerOn")===n}const ParallelView$1=ParallelView;var ParallelModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){g.prototype.init.apply(this,arguments),this.mergeOption({})},n.prototype.mergeOption=function(r){var $=this.option;r&&merge$4($,r,!0),this._initDimensions()},n.prototype.contains=function(r,$){var L=r.get("parallelIndex");return L!=null&&$.getComponent("parallel",L)===this},n.prototype.setAxisExpand=function(r){each$f(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function($){r.hasOwnProperty($)&&(this.option[$]=r[$])},this)},n.prototype._initDimensions=function(){var r=this.dimensions=[],$=this.parallelAxisIndex=[],L=filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(V){return(V.get("parallelIndex")||0)===this.componentIndex},this);each$f(L,function(V){r.push("dim"+V.get("dim")),$.push(V.componentIndex)})},n.type="parallel",n.dependencies=["parallelAxis"],n.layoutMode="box",n.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},n}(ComponentModel$1);const ParallelModel$1=ParallelModel;var ParallelAxis=function(g){__extends(n,g);function n(r,$,L,V,oe){var re=g.call(this,r,$,L)||this;return re.type=V||"value",re.axisIndex=oe,re}return n.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},n}(Axis$1);const ParallelAxis$1=ParallelAxis;function sliderMove(g,n,r,$,L,V){g=g||0;var oe=r[1]-r[0];if(L!=null&&(L=restrict$1(L,[0,oe])),V!=null&&(V=Math.max(V,L!=null?L:0)),$==="all"){var re=Math.abs(n[1]-n[0]);re=restrict$1(re,[0,oe]),L=V=restrict$1(re,[L,V]),$=0}n[0]=restrict$1(n[0],r),n[1]=restrict$1(n[1],r);var ae=getSpanSign(n,$);n[$]+=g;var le=L||0,ue=r.slice();ae.sign<0?ue[0]+=le:ue[1]-=le,n[$]=restrict$1(n[$],ue);var de;return de=getSpanSign(n,$),L!=null&&(de.sign!==ae.sign||de.span<L)&&(n[1-$]=n[$]+ae.sign*L),de=getSpanSign(n,$),V!=null&&de.span>V&&(n[1-$]=n[$]+de.sign*V),n}function getSpanSign(g,n){var r=g[n]-g[1-n];return{span:Math.abs(r),sign:r>0?-1:r<0?1:n?-1:1}}function restrict$1(g,n){return Math.min(n[1]!=null?n[1]:1/0,Math.max(n[0]!=null?n[0]:-1/0,g))}var each$a=each$f,mathMin$2=Math.min,mathMax$2=Math.max,mathFloor=Math.floor,mathCeil=Math.ceil,round=round$3,PI$1=Math.PI,Parallel=function(){function g(n,r,$){this.type="parallel",this._axesMap=createHashMap(),this._axesLayout={},this.dimensions=n.dimensions,this._model=n,this._init(n,r,$)}return g.prototype._init=function(n,r,$){var L=n.dimensions,V=n.parallelAxisIndex;each$a(L,function(oe,re){var ae=V[re],le=r.getComponent("parallelAxis",ae),ue=this._axesMap.set(oe,new ParallelAxis$1(oe,createScaleByModel$1(le),[0,0],le.get("type"),ae)),de=ue.type==="category";ue.onBand=de&&le.get("boundaryGap"),ue.inverse=le.get("inverse"),le.axis=ue,ue.model=le,ue.coordinateSystem=le.coordinateSystem=this},this)},g.prototype.update=function(n,r){this._updateAxesFromSeries(this._model,n)},g.prototype.containPoint=function(n){var r=this._makeLayoutInfo(),$=r.axisBase,L=r.layoutBase,V=r.pixelDimIndex,oe=n[1-V],re=n[V];return oe>=$&&oe<=$+r.axisLength&&re>=L&&re<=L+r.layoutLength},g.prototype.getModel=function(){return this._model},g.prototype._updateAxesFromSeries=function(n,r){r.eachSeries(function($){if(n.contains($,r)){var L=$.getData();each$a(this.dimensions,function(V){var oe=this._axesMap.get(V);oe.scale.unionExtentFromData(L,L.mapDimension(V)),niceScaleExtent(oe.scale,oe.model)},this)}},this)},g.prototype.resize=function(n,r){this._rect=getLayoutRect(n.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),this._layoutAxes()},g.prototype.getRect=function(){return this._rect},g.prototype._makeLayoutInfo=function(){var n=this._model,r=this._rect,$=["x","y"],L=["width","height"],V=n.get("layout"),oe=V==="horizontal"?0:1,re=r[L[oe]],ae=[0,re],le=this.dimensions.length,ue=restrict(n.get("axisExpandWidth"),ae),de=restrict(n.get("axisExpandCount")||0,[0,le]),pe=n.get("axisExpandable")&&le>3&&le>de&&de>1&&ue>0&&re>0,he=n.get("axisExpandWindow"),_e;if(he)_e=restrict(he[1]-he[0],ae),he[1]=he[0]+_e;else{_e=restrict(ue*(de-1),ae);var Oe=n.get("axisExpandCenter")||mathFloor(le/2);he=[ue*Oe-_e/2],he[1]=he[0]+_e}var xe=(re-_e)/(le-de);xe<3&&(xe=0);var $e=[mathFloor(round(he[0]/ue,1))+1,mathCeil(round(he[1]/ue,1))-1],Ie=xe/ue*he[0];return{layout:V,pixelDimIndex:oe,layoutBase:r[$[oe]],layoutLength:re,axisBase:r[$[1-oe]],axisLength:r[L[1-oe]],axisExpandable:pe,axisExpandWidth:ue,axisCollapseWidth:xe,axisExpandWindow:he,axisCount:le,winInnerIndices:$e,axisExpandWindow0Pos:Ie}},g.prototype._layoutAxes=function(){var n=this._rect,r=this._axesMap,$=this.dimensions,L=this._makeLayoutInfo(),V=L.layout;r.each(function(oe){var re=[0,L.axisLength],ae=oe.inverse?1:0;oe.setExtent(re[ae],re[1-ae])}),each$a($,function(oe,re){var ae=(L.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(re,L),le={horizontal:{x:ae.position,y:L.axisLength},vertical:{x:0,y:ae.position}},ue={horizontal:PI$1/2,vertical:0},de=[le[V].x+n.x,le[V].y+n.y],pe=ue[V],he=create$1();rotate(he,he,pe),translate$1(he,he,de),this._axesLayout[oe]={position:de,rotation:pe,transform:he,axisNameAvailableWidth:ae.axisNameAvailableWidth,axisLabelShow:ae.axisLabelShow,nameTruncateMaxWidth:ae.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},g.prototype.getAxis=function(n){return this._axesMap.get(n)},g.prototype.dataToPoint=function(n,r){return this.axisCoordToPoint(this._axesMap.get(r).dataToCoord(n),r)},g.prototype.eachActiveState=function(n,r,$,L){$==null&&($=0),L==null&&(L=n.count());var V=this._axesMap,oe=this.dimensions,re=[],ae=[];each$f(oe,function(xe){re.push(n.mapDimension(xe)),ae.push(V.get(xe).model)});for(var le=this.hasAxisBrushed(),ue=$;ue<L;ue++){var de=void 0;if(!le)de="normal";else{de="active";for(var pe=n.getValues(re,ue),he=0,_e=oe.length;he<_e;he++){var Oe=ae[he].getActiveState(pe[he]);if(Oe==="inactive"){de="inactive";break}}}r(de,ue)}},g.prototype.hasAxisBrushed=function(){for(var n=this.dimensions,r=this._axesMap,$=!1,L=0,V=n.length;L<V;L++)r.get(n[L]).model.getActiveState()!=="normal"&&($=!0);return $},g.prototype.axisCoordToPoint=function(n,r){var $=this._axesLayout[r];return applyTransform([n,0],$.transform)},g.prototype.getAxisLayout=function(n){return clone$5(this._axesLayout[n])},g.prototype.getSlidedAxisExpandWindow=function(n){var r=this._makeLayoutInfo(),$=r.pixelDimIndex,L=r.axisExpandWindow.slice(),V=L[1]-L[0],oe=[0,r.axisExpandWidth*(r.axisCount-1)];if(!this.containPoint(n))return{behavior:"none",axisExpandWindow:L};var re=n[$]-r.layoutBase-r.axisExpandWindow0Pos,ae,le="slide",ue=r.axisCollapseWidth,de=this._model.get("axisExpandSlideTriggerArea"),pe=de[0]!=null;if(ue)pe&&ue&&re<V*de[0]?(le="jump",ae=re-V*de[2]):pe&&ue&&re>V*(1-de[0])?(le="jump",ae=re-V*(1-de[2])):(ae=re-V*de[1])>=0&&(ae=re-V*(1-de[1]))<=0&&(ae=0),ae*=r.axisExpandWidth/ue,ae?sliderMove(ae,L,oe,"all"):le="none";else{var he=L[1]-L[0],_e=oe[1]*re/he;L=[mathMax$2(0,_e-he/2)],L[1]=mathMin$2(oe[1],L[0]+he),L[0]=L[1]-he}return{axisExpandWindow:L,behavior:le}},g}();function restrict(g,n){return mathMin$2(mathMax$2(g,n[0]),n[1])}function layoutAxisWithoutExpand(g,n){var r=n.layoutLength/(n.axisCount-1);return{position:r*g,axisNameAvailableWidth:r,axisLabelShow:!0}}function layoutAxisWithExpand(g,n){var r=n.layoutLength,$=n.axisExpandWidth,L=n.axisCount,V=n.axisCollapseWidth,oe=n.winInnerIndices,re,ae=V,le=!1,ue;return g<oe[0]?(re=g*V,ue=V):g<=oe[1]?(re=n.axisExpandWindow0Pos+g*$-n.axisExpandWindow[0],ae=$,le=!0):(re=r-(L-1-g)*V,ue=V),{position:re,axisNameAvailableWidth:ae,axisLabelShow:le,nameTruncateMaxWidth:ue}}const Parallel$1=Parallel;function createParallelCoordSys(g,n){var r=[];return g.eachComponent("parallel",function($,L){var V=new Parallel$1($,g,n);V.name="parallel_"+L,V.resize($,n),$.coordinateSystem=V,V.model=$,r.push(V)}),g.eachSeries(function($){if($.get("coordinateSystem")==="parallel"){var L=$.getReferringComponents("parallel",SINGLE_REFERRING).models[0];$.coordinateSystem=L.coordinateSystem}}),r}var parallelCoordSysCreator={create:createParallelCoordSys};const parallelCoordSysCreator$1=parallelCoordSysCreator;var ParallelAxisModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.activeIntervals=[],r}return n.prototype.getAreaSelectStyle=function(){return makeStyleMapper([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},n.prototype.setActiveIntervals=function(r){var $=this.activeIntervals=clone$5(r);if($)for(var L=$.length-1;L>=0;L--)asc$2($[L])},n.prototype.getActiveState=function(r){var $=this.activeIntervals;if(!$.length)return"normal";if(r==null||isNaN(+r))return"inactive";if($.length===1){var L=$[0];if(L[0]<=r&&r<=L[1])return"active"}else for(var V=0,oe=$.length;V<oe;V++)if($[V][0]<=r&&r<=$[V][1])return"active";return"inactive"},n}(ComponentModel$1);mixin(ParallelAxisModel,AxisModelCommonMixin);const ParallelAxisModel$1=ParallelAxisModel;var BRUSH_PANEL_GLOBAL=!0,mathMin$1=Math.min,mathMax$1=Math.max,mathPow=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY="globalPan",DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController=function(g){__extends(n,g);function n(r){var $=g.call(this)||this;return $._track=[],$._covers=[],$._handlers={},$._zr=r,$.group=new Group$4,$._uid="brushController_"+baseUID++,each$f(pointerHandlers,function(L,V){this._handlers[V]=bind$3(L,this)},$),$}return n.prototype.enableBrush=function(r){return this._brushType&&this._doDisableBrush(),r.brushType&&this._doEnableBrush(r),this},n.prototype._doEnableBrush=function(r){var $=this._zr;this._enableGlobalPan||take($,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(L,V){$.on(V,L)}),this._brushType=r.brushType,this._brushOption=merge$4(clone$5(DEFAULT_BRUSH_OPT),r,!0)},n.prototype._doDisableBrush=function(){var r=this._zr;release(r,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function($,L){r.off(L,$)}),this._brushType=this._brushOption=null},n.prototype.setPanels=function(r){if(r&&r.length){var $=this._panels={};each$f(r,function(L){$[L.panelId]=clone$5(L)})}else this._panels=null;return this},n.prototype.mount=function(r){r=r||{},this._enableGlobalPan=r.enableGlobalPan;var $=this.group;return this._zr.add($),$.attr({x:r.x||0,y:r.y||0,rotation:r.rotation||0,scaleX:r.scaleX||1,scaleY:r.scaleY||1}),this._transform=$.getLocalTransform(),this},n.prototype.updateCovers=function(r){r=map$2(r,function(pe){return merge$4(clone$5(DEFAULT_BRUSH_OPT),pe,!0)});var $="\0-brush-index-",L=this._covers,V=this._covers=[],oe=this,re=this._creatingCover;return new DataDiffer$1(L,r,le,ae).add(ue).update(ue).remove(de).execute(),this;function ae(pe,he){return(pe.id!=null?pe.id:$+he)+"-"+pe.brushType}function le(pe,he){return ae(pe.__brushOption,he)}function ue(pe,he){var _e=r[pe];if(he!=null&&L[he]===re)V[pe]=L[he];else{var Oe=V[pe]=he!=null?(L[he].__brushOption=_e,L[he]):endCreating(oe,createCover(oe,_e));updateCoverAfterCreation(oe,Oe)}}function de(pe){L[pe]!==re&&oe.group.remove(L[pe])}},n.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},n.prototype.dispose=function(){this.unmount(),this.off()},n}(Eventful$1);function createCover(g,n){var r=coverRenderers[n.brushType].createCover(g,n);return r.__brushOption=n,updateZ$1(r,n),g.group.add(r),r}function endCreating(g,n){var r=getCoverRenderer(n);return r.endCreating&&(r.endCreating(g,n),updateZ$1(n,n.__brushOption)),n}function updateCoverShape(g,n){var r=n.__brushOption;getCoverRenderer(n).updateCoverShape(g,n,r.range,r)}function updateZ$1(g,n){var r=n.z;r==null&&(r=COVER_Z),g.traverse(function($){$.z=r,$.z2=r})}function updateCoverAfterCreation(g,n){getCoverRenderer(n).updateCommon(g,n),updateCoverShape(g,n)}function getCoverRenderer(g){return coverRenderers[g.__brushOption.brushType]}function getPanelByPoint(g,n,r){var $=g._panels;if(!$)return BRUSH_PANEL_GLOBAL;var L,V=g._transform;return each$f($,function(oe){oe.isTargetByCursor(n,r,V)&&(L=oe)}),L}function getPanelByCover(g,n){var r=g._panels;if(!r)return BRUSH_PANEL_GLOBAL;var $=n.__brushOption.panelId;return $!=null?r[$]:BRUSH_PANEL_GLOBAL}function clearCovers(g){var n=g._covers,r=n.length;return each$f(n,function($){g.group.remove($)},g),n.length=0,!!r}function trigger(g,n){var r=map$2(g._covers,function($){var L=$.__brushOption,V=clone$5(L.range);return{brushType:L.brushType,panelId:L.panelId,range:V}});g.trigger("brush",{areas:r,isEnd:!!n.isEnd,removeOnClick:!!n.removeOnClick})}function shouldShowCover(g){var n=g._track;if(!n.length)return!1;var r=n[n.length-1],$=n[0],L=r[0]-$[0],V=r[1]-$[1],oe=mathPow(L*L+V*V,.5);return oe>UNSELECT_THRESHOLD}function getTrackEnds(g){var n=g.length-1;return n<0&&(n=0),[g[0],g[n]]}function createBaseRectCover(g,n,r,$){var L=new Group$4;return L.add(new Rect$3({name:"main",style:makeStyle(r),silent:!0,draggable:!0,cursor:"move",drift:curry$1(driftRect,g,n,L,["n","s","w","e"]),ondragend:curry$1(trigger,n,{isEnd:!0})})),each$f($,function(V){L.add(new Rect$3({name:V.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry$1(driftRect,g,n,L,V),ondragend:curry$1(trigger,n,{isEnd:!0})}))}),L}function updateBaseRect(g,n,r,$){var L=$.brushStyle.lineWidth||0,V=mathMax$1(L,MIN_RESIZE_LINE_WIDTH),oe=r[0][0],re=r[1][0],ae=oe-L/2,le=re-L/2,ue=r[0][1],de=r[1][1],pe=ue-V+L/2,he=de-V+L/2,_e=ue-oe,Oe=de-re,xe=_e+L,$e=Oe+L;updateRectShape(g,n,"main",oe,re,_e,Oe),$.transformable&&(updateRectShape(g,n,"w",ae,le,V,$e),updateRectShape(g,n,"e",pe,le,V,$e),updateRectShape(g,n,"n",ae,le,xe,V),updateRectShape(g,n,"s",ae,he,xe,V),updateRectShape(g,n,"nw",ae,le,V,V),updateRectShape(g,n,"ne",pe,le,V,V),updateRectShape(g,n,"sw",ae,he,V,V),updateRectShape(g,n,"se",pe,he,V,V))}function updateCommon$1(g,n){var r=n.__brushOption,$=r.transformable,L=n.childAt(0);L.useStyle(makeStyle(r)),L.attr({silent:!$,cursor:$?"move":"default"}),each$f([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(V){var oe=n.childOfName(V.join("")),re=V.length===1?getGlobalDirection1(g,V[0]):getGlobalDirection2(g,V);oe&&oe.attr({silent:!$,invisible:!$,cursor:$?CURSOR_MAP[re]+"-resize":null})})}function updateRectShape(g,n,r,$,L,V,oe){var re=n.childOfName(r);re&&re.setShape(pointsToRect(clipByPanel(g,n,[[$,L],[$+V,L+oe]])))}function makeStyle(g){return defaults$5({strokeNoScale:!0},g.brushStyle)}function formatRectRange(g,n,r,$){var L=[mathMin$1(g,r),mathMin$1(n,$)],V=[mathMax$1(g,r),mathMax$1(n,$)];return[[L[0],V[0]],[L[1],V[1]]]}function getTransform(g){return getTransform$1(g.group)}function getGlobalDirection1(g,n){var r={w:"left",e:"right",n:"top",s:"bottom"},$={left:"w",right:"e",top:"n",bottom:"s"},L=transformDirection(r[n],getTransform(g));return $[L]}function getGlobalDirection2(g,n){var r=[getGlobalDirection1(g,n[0]),getGlobalDirection1(g,n[1])];return(r[0]==="e"||r[0]==="w")&&r.reverse(),r.join("")}function driftRect(g,n,r,$,L,V){var oe=r.__brushOption,re=g.toRectRange(oe.range),ae=toLocalDelta(n,L,V);each$f($,function(le){var ue=DIRECTION_MAP[le];re[ue[0]][ue[1]]+=ae[ue[0]]}),oe.range=g.fromRectRange(formatRectRange(re[0][0],re[1][0],re[0][1],re[1][1])),updateCoverAfterCreation(n,r),trigger(n,{isEnd:!1})}function driftPolygon(g,n,r,$){var L=n.__brushOption.range,V=toLocalDelta(g,r,$);each$f(L,function(oe){oe[0]+=V[0],oe[1]+=V[1]}),updateCoverAfterCreation(g,n),trigger(g,{isEnd:!1})}function toLocalDelta(g,n,r){var $=g.group,L=$.transformCoordToLocal(n,r),V=$.transformCoordToLocal(0,0);return[L[0]-V[0],L[1]-V[1]]}function clipByPanel(g,n,r){var $=getPanelByCover(g,n);return $&&$!==BRUSH_PANEL_GLOBAL?$.clipPath(r,g._transform):clone$5(r)}function pointsToRect(g){var n=mathMin$1(g[0][0],g[1][0]),r=mathMin$1(g[0][1],g[1][1]),$=mathMax$1(g[0][0],g[1][0]),L=mathMax$1(g[0][1],g[1][1]);return{x:n,y:r,width:$-n,height:L-r}}function resetCursor(g,n,r){if(!(!g._brushType||isOutsideZrArea(g,n.offsetX,n.offsetY))){var $=g._zr,L=g._covers,V=getPanelByPoint(g,n,r);if(!g._dragging)for(var oe=0;oe<L.length;oe++){var re=L[oe].__brushOption;if(V&&(V===BRUSH_PANEL_GLOBAL||re.panelId===V.panelId)&&coverRenderers[re.brushType].contain(L[oe],r[0],r[1]))return}V&&$.setCursorStyle("crosshair")}}function preventDefault(g){var n=g.event;n.preventDefault&&n.preventDefault()}function mainShapeContain(g,n,r){return g.childOfName("main").contain(n,r)}function updateCoverByMouse(g,n,r,$){var L=g._creatingCover,V=g._creatingPanel,oe=g._brushOption,re;if(g._track.push(r.slice()),shouldShowCover(g)||L){if(V&&!L){oe.brushMode==="single"&&clearCovers(g);var ae=clone$5(oe);ae.brushType=determineBrushType(ae.brushType,V),ae.panelId=V===BRUSH_PANEL_GLOBAL?null:V.panelId,L=g._creatingCover=createCover(g,ae),g._covers.push(L)}if(L){var le=coverRenderers[determineBrushType(g._brushType,V)],ue=L.__brushOption;ue.range=le.getCreatingRange(clipByPanel(g,L,g._track)),$&&(endCreating(g,L),le.updateCommon(g,L)),updateCoverShape(g,L),re={isEnd:$}}}else $&&oe.brushMode==="single"&&oe.removeOnClick&&getPanelByPoint(g,n,r)&&clearCovers(g)&&(re={isEnd:$,removeOnClick:!0});return re}function determineBrushType(g,n){return g==="auto"?n.defaultBrushType:g}var pointerHandlers={mousedown:function(g){if(this._dragging)handleDragEnd(this,g);else if(!g.target||!g.target.draggable){preventDefault(g);var n=this.group.transformCoordToLocal(g.offsetX,g.offsetY);this._creatingCover=null;var r=this._creatingPanel=getPanelByPoint(this,g,n);r&&(this._dragging=!0,this._track=[n.slice()])}},mousemove:function(g){var n=g.offsetX,r=g.offsetY,$=this.group.transformCoordToLocal(n,r);if(resetCursor(this,g,$),this._dragging){preventDefault(g);var L=updateCoverByMouse(this,g,$,!1);L&&trigger(this,L)}},mouseup:function(g){handleDragEnd(this,g)}};function handleDragEnd(g,n){if(g._dragging){preventDefault(n);var r=n.offsetX,$=n.offsetY,L=g.group.transformCoordToLocal(r,$),V=updateCoverByMouse(g,n,L,!0);g._dragging=!1,g._track=[],g._creatingCover=null,V&&trigger(g,V)}}function isOutsideZrArea(g,n,r){var $=g._zr;return n<0||n>$.getWidth()||r<0||r>$.getHeight()}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(g,n){function r($){return $}return createBaseRectCover({toRectRange:r,fromRectRange:r},g,n,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(g){var n=getTrackEnds(g);return formatRectRange(n[1][0],n[1][1],n[0][0],n[0][1])},updateCoverShape:function(g,n,r,$){updateBaseRect(g,n,r,$)},updateCommon:updateCommon$1,contain:mainShapeContain},polygon:{createCover:function(g,n){var r=new Group$4;return r.add(new Polyline$3({name:"main",style:makeStyle(n),silent:!0})),r},getCreatingRange:function(g){return g},endCreating:function(g,n){n.remove(n.childAt(0)),n.add(new Polygon$1({name:"main",draggable:!0,drift:curry$1(driftPolygon,g,n),ondragend:curry$1(trigger,g,{isEnd:!0})}))},updateCoverShape:function(g,n,r,$){n.childAt(0).setShape({points:clipByPanel(g,n,r)})},updateCommon:updateCommon$1,contain:mainShapeContain}};function getLineRenderer(g){return{createCover:function(n,r){return createBaseRectCover({toRectRange:function($){var L=[$,[0,100]];return g&&L.reverse(),L},fromRectRange:function($){return $[g]}},n,r,[[["w"],["e"]],[["n"],["s"]]][g])},getCreatingRange:function(n){var r=getTrackEnds(n),$=mathMin$1(r[0][g],r[1][g]),L=mathMax$1(r[0][g],r[1][g]);return[$,L]},updateCoverShape:function(n,r,$,L){var V,oe=getPanelByCover(n,r);if(oe!==BRUSH_PANEL_GLOBAL&&oe.getLinearBrushOtherExtent)V=oe.getLinearBrushOtherExtent(g);else{var re=n._zr;V=[0,[re.getWidth(),re.getHeight()][1-g]]}var ae=[$,V];g&&ae.reverse(),updateBaseRect(n,r,ae,L)},updateCommon:updateCommon$1,contain:mainShapeContain}}const BrushController$1=BrushController;function makeRectPanelClipPath(g){return g=normalizeRect(g),function(n){return clipPointsByRect(n,g)}}function makeLinearBrushOtherExtent(g,n){return g=normalizeRect(g),function(r){var $=n!=null?n:r,L=$?g.width:g.height,V=$?g.x:g.y;return[V,V+(L||0)]}}function makeRectIsTargetByCursor(g,n,r){var $=normalizeRect(g);return function(L,V){return $.contain(V[0],V[1])&&!onIrrelevantElement(L,n,r)}}function normalizeRect(g){return BoundingRect$1.create(g)}var elementList$1=["axisLine","axisTickLabel","axisName"],ParallelAxisView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$){g.prototype.init.apply(this,arguments),(this._brushController=new BrushController$1($.getZr())).on("brush",bind$3(this._onBrush,this))},n.prototype.render=function(r,$,L,V){if(!fromAxisAreaSelect(r,$,V)){this.axisModel=r,this.api=L,this.group.removeAll();var oe=this._axisGroup;if(this._axisGroup=new Group$4,this.group.add(this._axisGroup),!!r.get("show")){var re=getCoordSysModel(r,$),ae=re.coordinateSystem,le=r.getAreaSelectStyle(),ue=le.width,de=r.axis.dim,pe=ae.getAxisLayout(de),he=extend$3({strokeContainThreshold:ue},pe),_e=new AxisBuilder$1(r,he);each$f(elementList$1,_e.add,_e),this._axisGroup.add(_e.getGroup()),this._refreshBrushController(he,le,r,re,ue,L),groupTransition(oe,this._axisGroup,r)}}},n.prototype._refreshBrushController=function(r,$,L,V,oe,re){var ae=L.axis.getExtent(),le=ae[1]-ae[0],ue=Math.min(30,Math.abs(le)*.1),de=BoundingRect$1.create({x:ae[0],y:-oe/2,width:le,height:oe});de.x-=ue,de.width+=2*ue,this._brushController.mount({enableGlobalPan:!0,rotation:r.rotation,x:r.position[0],y:r.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(de),isTargetByCursor:makeRectIsTargetByCursor(de,re,V),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(de,0)}]).enableBrush({brushType:"lineX",brushStyle:$,removeOnClick:!0}).updateCovers(getCoverInfoList(L))},n.prototype._onBrush=function(r){var $=r.areas,L=this.axisModel,V=L.axis,oe=map$2($,function(re){return[V.coordToData(re.range[0],!0),V.coordToData(re.range[1],!0)]});(!L.option.realtime===r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:L.id,intervals:oe})},n.prototype.dispose=function(){this._brushController.dispose()},n.type="parallelAxis",n}(ComponentView$1);function fromAxisAreaSelect(g,n,r){return r&&r.type==="axisAreaSelect"&&n.findComponents({mainType:"parallelAxis",query:r})[0]===g}function getCoverInfoList(g){var n=g.axis;return map$2(g.activeIntervals,function(r){return{brushType:"lineX",panelId:"pl",range:[n.dataToCoord(r[0],!0),n.dataToCoord(r[1],!0)]}})}function getCoordSysModel(g,n){return n.getComponent("parallel",g.get("parallelIndex"))}const ParallelAxisView$1=ParallelAxisView;var actionInfo={type:"axisAreaSelect",event:"axisAreaSelected"};function installParallelActions(g){g.registerAction(actionInfo,function(n,r){r.eachComponent({mainType:"parallelAxis",query:n},function($){$.axis.model.setActiveIntervals(n.intervals)})}),g.registerAction("parallelAxisExpand",function(n,r){r.eachComponent({mainType:"parallel",query:n},function($){$.setAxisExpand(n)})})}var defaultAxisOption={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function install$E(g){g.registerComponentView(ParallelView$1),g.registerComponentModel(ParallelModel$1),g.registerCoordinateSystem("parallel",parallelCoordSysCreator$1),g.registerPreprocessor(parallelPreprocessor),g.registerComponentModel(ParallelAxisModel$1),g.registerComponentView(ParallelAxisView$1),axisModelCreator(g,"parallel",ParallelAxisModel$1,defaultAxisOption),installParallelActions(g)}function install$D(g){use(install$E),g.registerChartView(ParallelView$3),g.registerSeriesModel(ParallelSeriesModel$1),g.registerVisual(g.PRIORITY.VISUAL.BRUSH,parallelVisual$1)}var SankeyPathShape=function(){function g(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return g}(),SankeyPath=function(g){__extends(n,g);function n(r){return g.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new SankeyPathShape},n.prototype.buildPath=function(r,$){var L=$.extent;r.moveTo($.x1,$.y1),r.bezierCurveTo($.cpx1,$.cpy1,$.cpx2,$.cpy2,$.x2,$.y2),$.orient==="vertical"?(r.lineTo($.x2+L,$.y2),r.bezierCurveTo($.cpx2+L,$.cpy2,$.cpx1+L,$.cpy1,$.x1+L,$.y1)):(r.lineTo($.x2,$.y2+L),r.bezierCurveTo($.cpx2,$.cpy2+L,$.cpx1,$.cpy1+L,$.x1,$.y1+L)),r.closePath()},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n}(Path$1),SankeyView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._focusAdjacencyDisabled=!1,r}return n.prototype.render=function(r,$,L){var V=this,oe=r.getGraph(),re=this.group,ae=r.layoutInfo,le=ae.width,ue=ae.height,de=r.getData(),pe=r.getData("edge"),he=r.get("orient");this._model=r,re.removeAll(),re.x=ae.x,re.y=ae.y,oe.eachEdge(function(_e){var Oe=new SankeyPath,xe=getECData(Oe);xe.dataIndex=_e.dataIndex,xe.seriesIndex=r.seriesIndex,xe.dataType="edge";var $e=_e.getModel(),Ie=$e.getModel("lineStyle"),Ne=Ie.get("curveness"),ze=_e.node1.getLayout(),Ue=_e.node1.getModel(),Fe=Ue.get("localX"),qe=Ue.get("localY"),Et=_e.node2.getLayout(),At=_e.node2.getModel(),kt=At.get("localX"),Dt=At.get("localY"),jt=_e.getLayout(),Lt,hn,Sn,On,_n,xn,bn,Tn;Oe.shape.extent=Math.max(1,jt.dy),Oe.shape.orient=he,he==="vertical"?(Lt=(Fe!=null?Fe*le:ze.x)+jt.sy,hn=(qe!=null?qe*ue:ze.y)+ze.dy,Sn=(kt!=null?kt*le:Et.x)+jt.ty,On=Dt!=null?Dt*ue:Et.y,_n=Lt,xn=hn*(1-Ne)+On*Ne,bn=Sn,Tn=hn*Ne+On*(1-Ne)):(Lt=(Fe!=null?Fe*le:ze.x)+ze.dx,hn=(qe!=null?qe*ue:ze.y)+jt.sy,Sn=kt!=null?kt*le:Et.x,On=(Dt!=null?Dt*ue:Et.y)+jt.ty,_n=Lt*(1-Ne)+Sn*Ne,xn=hn,bn=Lt*Ne+Sn*(1-Ne),Tn=On),Oe.setShape({x1:Lt,y1:hn,x2:Sn,y2:On,cpx1:_n,cpy1:xn,cpx2:bn,cpy2:Tn}),Oe.useStyle(Ie.getItemStyle()),applyCurveStyle(Oe.style,he,_e);var An=""+$e.get("value"),En=getLabelStatesModels($e,"edgeLabel");setLabelStyle(Oe,En,{labelFetcher:{getFormattedLabel:function(Mn,Fn,In,Nn,Vn,Un){return r.getFormattedLabel(Mn,Fn,"edge",Nn,retrieve3(Vn,En.normal&&En.normal.get("formatter"),An),Un)}},labelDataIndex:_e.dataIndex,defaultText:An}),Oe.setTextConfig({position:"inside"});var Ln=$e.getModel("emphasis");setStatesStylesFromModel(Oe,$e,"lineStyle",function(Mn){var Fn=Mn.getItemStyle();return applyCurveStyle(Fn,he,_e),Fn}),re.add(Oe),pe.setItemGraphicEl(_e.dataIndex,Oe);var Wn=Ln.get("focus");toggleHoverEmphasis(Oe,Wn==="adjacency"?_e.getAdjacentDataIndices():Wn==="trajectory"?_e.getTrajectoryDataIndices():Wn,Ln.get("blurScope"),Ln.get("disabled"))}),oe.eachNode(function(_e){var Oe=_e.getLayout(),xe=_e.getModel(),$e=xe.get("localX"),Ie=xe.get("localY"),Ne=xe.getModel("emphasis"),ze=new Rect$3({shape:{x:$e!=null?$e*le:Oe.x,y:Ie!=null?Ie*ue:Oe.y,width:Oe.dx,height:Oe.dy},style:xe.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(ze,getLabelStatesModels(xe),{labelFetcher:{getFormattedLabel:function(Fe,qe){return r.getFormattedLabel(Fe,qe,"node")}},labelDataIndex:_e.dataIndex,defaultText:_e.id}),ze.disableLabelAnimation=!0,ze.setStyle("fill",_e.getVisual("color")),ze.setStyle("decal",_e.getVisual("style").decal),setStatesStylesFromModel(ze,xe),re.add(ze),de.setItemGraphicEl(_e.dataIndex,ze),getECData(ze).dataType="node";var Ue=Ne.get("focus");toggleHoverEmphasis(ze,Ue==="adjacency"?_e.getAdjacentDataIndices():Ue==="trajectory"?_e.getTrajectoryDataIndices():Ue,Ne.get("blurScope"),Ne.get("disabled"))}),de.eachItemGraphicEl(function(_e,Oe){var xe=de.getItemModel(Oe);xe.get("draggable")&&(_e.drift=function($e,Ie){V._focusAdjacencyDisabled=!0,this.shape.x+=$e,this.shape.y+=Ie,this.dirty(),L.dispatchAction({type:"dragNode",seriesId:r.id,dataIndex:de.getRawIndex(Oe),localX:this.shape.x/le,localY:this.shape.y/ue})},_e.ondragend=function(){V._focusAdjacencyDisabled=!1},_e.draggable=!0,_e.cursor="move")}),!this._data&&r.isAnimationEnabled()&&re.setClipPath(createGridClipShape$1(re.getBoundingRect(),r,function(){re.removeClipPath()})),this._data=r.getData()},n.prototype.dispose=function(){},n.type="sankey",n}(ChartView$1);function applyCurveStyle(g,n,r){switch(g.fill){case"source":g.fill=r.node1.getVisual("color"),g.decal=r.node1.getVisual("style").decal;break;case"target":g.fill=r.node2.getVisual("color"),g.decal=r.node2.getVisual("style").decal;break;case"gradient":var $=r.node1.getVisual("color"),L=r.node2.getVisual("color");isString$3($)&&isString$3(L)&&(g.fill=new LinearGradient$1(0,0,+(n==="horizontal"),+(n==="vertical"),[{color:$,offset:0},{color:L,offset:1}]))}}function createGridClipShape$1(g,n,r){var $=new Rect$3({shape:{x:g.x-10,y:g.y-10,width:0,height:g.height+20}});return initProps($,{shape:{width:g.width+20}},n,r),$}const SankeyView$1=SankeyView;var SankeySeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(r,$){var L=r.edges||r.links,V=r.data||r.nodes,oe=r.levels;this.levelModels=[];for(var re=this.levelModels,ae=0;ae<oe.length;ae++)oe[ae].depth!=null&&oe[ae].depth>=0&&(re[oe[ae].depth]=new Model$1(oe[ae],this,$));if(V&&L){var le=createGraphFromNodeEdge(V,L,this,!0,ue);return le.data}function ue(de,pe){de.wrapMethod("getItemModel",function(he,_e){var Oe=he.parentModel,xe=Oe.getData().getItemLayout(_e);if(xe){var $e=xe.depth,Ie=Oe.levelModels[$e];Ie&&(he.parentModel=Ie)}return he}),pe.wrapMethod("getItemModel",function(he,_e){var Oe=he.parentModel,xe=Oe.getGraph().getEdgeByIndex(_e),$e=xe.node1.getLayout();if($e){var Ie=$e.depth,Ne=Oe.levelModels[Ie];Ne&&(he.parentModel=Ne)}return he})}},n.prototype.setNodePosition=function(r,$){var L=this.option.data||this.option.nodes,V=L[r];V.localX=$[0],V.localY=$[1]},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.formatTooltip=function(r,$,L){function V(he){return isNaN(he)||he==null}if(L==="edge"){var oe=this.getDataParams(r,L),re=oe.data,ae=oe.value,le=re.source+" -- "+re.target;return createTooltipMarkup("nameValue",{name:le,value:ae,noValue:V(ae)})}else{var ue=this.getGraph().getNodeByIndex(r),de=ue.getLayout().value,pe=this.getDataParams(r,L).data.name;return createTooltipMarkup("nameValue",{name:pe!=null?pe+"":null,value:de,noValue:V(de)})}},n.prototype.optionUpdated=function(){},n.prototype.getDataParams=function(r,$){var L=g.prototype.getDataParams.call(this,r,$);if(L.value==null&&$==="node"){var V=this.getGraph().getNodeByIndex(r),oe=V.getLayout().value;L.value=oe}return L},n.type="series.sankey",n.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},n}(SeriesModel$1);const SankeySeriesModel$1=SankeySeriesModel;function sankeyLayout(g,n){g.eachSeriesByType("sankey",function(r){var $=r.get("nodeWidth"),L=r.get("nodeGap"),V=getViewRect$1(r,n);r.layoutInfo=V;var oe=V.width,re=V.height,ae=r.getGraph(),le=ae.nodes,ue=ae.edges;computeNodeValues(le);var de=filter(le,function(Oe){return Oe.getLayout().value===0}),pe=de.length!==0?0:r.get("layoutIterations"),he=r.get("orient"),_e=r.get("nodeAlign");layoutSankey(le,ue,$,L,oe,re,pe,he,_e)})}function getViewRect$1(g,n){return getLayoutRect(g.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function layoutSankey(g,n,r,$,L,V,oe,re,ae){computeNodeBreadths(g,n,r,L,V,re,ae),computeNodeDepths(g,n,V,L,$,oe,re),computeEdgeDepths(g,re)}function computeNodeValues(g){each$f(g,function(n){var r=sum(n.outEdges,getEdgeValue),$=sum(n.inEdges,getEdgeValue),L=n.getValue()||0,V=Math.max(r,$,L);n.setLayout({value:V},!0)})}function computeNodeBreadths(g,n,r,$,L,V,oe){for(var re=[],ae=[],le=[],ue=[],de=0,pe=0;pe<n.length;pe++)re[pe]=1;for(var pe=0;pe<g.length;pe++)ae[pe]=g[pe].inEdges.length,ae[pe]===0&&le.push(g[pe]);for(var he=-1;le.length;){for(var _e=0;_e<le.length;_e++){var Oe=le[_e],xe=Oe.hostGraph.data.getRawDataItem(Oe.dataIndex),$e=xe.depth!=null&&xe.depth>=0;$e&&xe.depth>he&&(he=xe.depth),Oe.setLayout({depth:$e?xe.depth:de},!0),V==="vertical"?Oe.setLayout({dy:r},!0):Oe.setLayout({dx:r},!0);for(var Ie=0;Ie<Oe.outEdges.length;Ie++){var Ne=Oe.outEdges[Ie],ze=n.indexOf(Ne);re[ze]=0;var Ue=Ne.node2,Fe=g.indexOf(Ue);--ae[Fe]===0&&ue.indexOf(Ue)<0&&ue.push(Ue)}}++de,le=ue,ue=[]}for(var pe=0;pe<re.length;pe++)if(re[pe]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var qe=he>de-1?he:de-1;oe&&oe!=="left"&&adjustNodeWithNodeAlign(g,oe,V,qe);var Et=V==="vertical"?(L-r)/qe:($-r)/qe;scaleNodeBreadths(g,Et,V)}function isNodeDepth(g){var n=g.hostGraph.data.getRawDataItem(g.dataIndex);return n.depth!=null&&n.depth>=0}function adjustNodeWithNodeAlign(g,n,r,$){if(n==="right"){for(var L=[],V=g,oe=0;V.length;){for(var re=0;re<V.length;re++){var ae=V[re];ae.setLayout({skNodeHeight:oe},!0);for(var le=0;le<ae.inEdges.length;le++){var ue=ae.inEdges[le];L.indexOf(ue.node1)<0&&L.push(ue.node1)}}V=L,L=[],++oe}each$f(g,function(de){isNodeDepth(de)||de.setLayout({depth:Math.max(0,$-de.getLayout().skNodeHeight)},!0)})}else n==="justify"&&moveSinksRight(g,$)}function moveSinksRight(g,n){each$f(g,function(r){!isNodeDepth(r)&&!r.outEdges.length&&r.setLayout({depth:n},!0)})}function scaleNodeBreadths(g,n,r){each$f(g,function($){var L=$.getLayout().depth*n;r==="vertical"?$.setLayout({y:L},!0):$.setLayout({x:L},!0)})}function computeNodeDepths(g,n,r,$,L,V,oe){var re=prepareNodesByBreadth(g,oe);initializeNodeDepth(re,n,r,$,L,oe),resolveCollisions(re,L,r,$,oe);for(var ae=1;V>0;V--)ae*=.99,relaxRightToLeft(re,ae,oe),resolveCollisions(re,L,r,$,oe),relaxLeftToRight(re,ae,oe),resolveCollisions(re,L,r,$,oe)}function prepareNodesByBreadth(g,n){var r=[],$=n==="vertical"?"y":"x",L=groupData(g,function(V){return V.getLayout()[$]});return L.keys.sort(function(V,oe){return V-oe}),each$f(L.keys,function(V){r.push(L.buckets.get(V))}),r}function initializeNodeDepth(g,n,r,$,L,V){var oe=1/0;each$f(g,function(re){var ae=re.length,le=0;each$f(re,function(de){le+=de.getLayout().value});var ue=V==="vertical"?($-(ae-1)*L)/le:(r-(ae-1)*L)/le;ue<oe&&(oe=ue)}),each$f(g,function(re){each$f(re,function(ae,le){var ue=ae.getLayout().value*oe;V==="vertical"?(ae.setLayout({x:le},!0),ae.setLayout({dx:ue},!0)):(ae.setLayout({y:le},!0),ae.setLayout({dy:ue},!0))})}),each$f(n,function(re){var ae=+re.getValue()*oe;re.setLayout({dy:ae},!0)})}function resolveCollisions(g,n,r,$,L){var V=L==="vertical"?"x":"y";each$f(g,function(oe){oe.sort(function(Oe,xe){return Oe.getLayout()[V]-xe.getLayout()[V]});for(var re,ae,le,ue=0,de=oe.length,pe=L==="vertical"?"dx":"dy",he=0;he<de;he++)ae=oe[he],le=ue-ae.getLayout()[V],le>0&&(re=ae.getLayout()[V]+le,L==="vertical"?ae.setLayout({x:re},!0):ae.setLayout({y:re},!0)),ue=ae.getLayout()[V]+ae.getLayout()[pe]+n;var _e=L==="vertical"?$:r;if(le=ue-n-_e,le>0){re=ae.getLayout()[V]-le,L==="vertical"?ae.setLayout({x:re},!0):ae.setLayout({y:re},!0),ue=re;for(var he=de-2;he>=0;--he)ae=oe[he],le=ae.getLayout()[V]+ae.getLayout()[pe]+n-ue,le>0&&(re=ae.getLayout()[V]-le,L==="vertical"?ae.setLayout({x:re},!0):ae.setLayout({y:re},!0)),ue=ae.getLayout()[V]}})}function relaxRightToLeft(g,n,r){each$f(g.slice().reverse(),function($){each$f($,function(L){if(L.outEdges.length){var V=sum(L.outEdges,weightedTarget,r)/sum(L.outEdges,getEdgeValue);if(isNaN(V)){var oe=L.outEdges.length;V=oe?sum(L.outEdges,centerTarget,r)/oe:0}if(r==="vertical"){var re=L.getLayout().x+(V-center(L,r))*n;L.setLayout({x:re},!0)}else{var ae=L.getLayout().y+(V-center(L,r))*n;L.setLayout({y:ae},!0)}}})})}function weightedTarget(g,n){return center(g.node2,n)*g.getValue()}function centerTarget(g,n){return center(g.node2,n)}function weightedSource(g,n){return center(g.node1,n)*g.getValue()}function centerSource(g,n){return center(g.node1,n)}function center(g,n){return n==="vertical"?g.getLayout().x+g.getLayout().dx/2:g.getLayout().y+g.getLayout().dy/2}function getEdgeValue(g){return g.getValue()}function sum(g,n,r){for(var $=0,L=g.length,V=-1;++V<L;){var oe=+n(g[V],r);isNaN(oe)||($+=oe)}return $}function relaxLeftToRight(g,n,r){each$f(g,function($){each$f($,function(L){if(L.inEdges.length){var V=sum(L.inEdges,weightedSource,r)/sum(L.inEdges,getEdgeValue);if(isNaN(V)){var oe=L.inEdges.length;V=oe?sum(L.inEdges,centerSource,r)/oe:0}if(r==="vertical"){var re=L.getLayout().x+(V-center(L,r))*n;L.setLayout({x:re},!0)}else{var ae=L.getLayout().y+(V-center(L,r))*n;L.setLayout({y:ae},!0)}}})})}function computeEdgeDepths(g,n){var r=n==="vertical"?"x":"y";each$f(g,function($){$.outEdges.sort(function(L,V){return L.node2.getLayout()[r]-V.node2.getLayout()[r]}),$.inEdges.sort(function(L,V){return L.node1.getLayout()[r]-V.node1.getLayout()[r]})}),each$f(g,function($){var L=0,V=0;each$f($.outEdges,function(oe){oe.setLayout({sy:L},!0),L+=oe.getLayout().dy}),each$f($.inEdges,function(oe){oe.setLayout({ty:V},!0),V+=oe.getLayout().dy})})}function sankeyVisual(g){g.eachSeriesByType("sankey",function(n){var r=n.getGraph(),$=r.nodes,L=r.edges;if($.length){var V=1/0,oe=-1/0;each$f($,function(re){var ae=re.getLayout().value;ae<V&&(V=ae),ae>oe&&(oe=ae)}),each$f($,function(re){var ae=new VisualMapping$1({type:"color",mappingMethod:"linear",dataExtent:[V,oe],visual:n.get("color")}),le=ae.mapValueToVisual(re.getLayout().value),ue=re.getModel().get(["itemStyle","color"]);ue!=null?(re.setVisual("color",ue),re.setVisual("style",{fill:ue})):(re.setVisual("color",le),re.setVisual("style",{fill:le}))})}L.length&&each$f(L,function(re){var ae=re.getModel().get("lineStyle");re.setVisual("style",ae)})})}function install$C(g){g.registerChartView(SankeyView$1),g.registerSeriesModel(SankeySeriesModel$1),g.registerLayout(sankeyLayout),g.registerVisual(sankeyVisual),g.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(n,r){r.eachComponent({mainType:"series",subType:"sankey",query:n},function($){$.setNodePosition(n.dataIndex,[n.localX,n.localY])})})}var WhiskerBoxCommonMixin=function(){function g(){}return g.prototype.getInitialData=function(n,r){var $,L=r.getComponent("xAxis",this.get("xAxisIndex")),V=r.getComponent("yAxis",this.get("yAxisIndex")),oe=L.get("type"),re=V.get("type"),ae;oe==="category"?(n.layout="horizontal",$=L.getOrdinalMeta(),ae=!0):re==="category"?(n.layout="vertical",$=V.getOrdinalMeta(),ae=!0):n.layout=n.layout||"horizontal";var le=["x","y"],ue=n.layout==="horizontal"?0:1,de=this._baseAxisDim=le[ue],pe=le[1-ue],he=[L,V],_e=he[ue].get("type"),Oe=he[1-ue].get("type"),xe=n.data;if(xe&&ae){var $e=[];each$f(xe,function(ze,Ue){var Fe;isArray$6(ze)?(Fe=ze.slice(),ze.unshift(Ue)):isArray$6(ze.value)?(Fe=extend$3({},ze),Fe.value=Fe.value.slice(),ze.value.unshift(Ue)):Fe=ze,$e.push(Fe)}),n.data=$e}var Ie=this.defaultValueDimensions,Ne=[{name:de,type:getDimensionTypeByAxis(_e),ordinalMeta:$,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:pe,type:getDimensionTypeByAxis(Oe),dimsDef:Ie.slice()}];return createSeriesDataSimply(this,{coordDimensions:Ne,dimensionsCount:Ie.length+1,encodeDefaulter:curry$1(makeSeriesEncodeForAxisCoordSys,Ne,this)})},g.prototype.getBaseAxis=function(){var n=this._baseAxisDim;return this.ecModel.getComponent(n+"Axis",this.get(n+"AxisIndex")).axis},g}(),BoxplotSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],r.visualDrawType="stroke",r}return n.type="series.boxplot",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},n}(SeriesModel$1);mixin(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);const BoxplotSeriesModel$1=BoxplotSeriesModel;var BoxplotView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=r.getData(),oe=this.group,re=this._data;this._data||oe.removeAll();var ae=r.get("layout")==="horizontal"?1:0;V.diff(re).add(function(le){if(V.hasValue(le)){var ue=V.getItemLayout(le),de=createNormalBox$1(ue,V,le,ae,!0);V.setItemGraphicEl(le,de),oe.add(de)}}).update(function(le,ue){var de=re.getItemGraphicEl(ue);if(!V.hasValue(le)){oe.remove(de);return}var pe=V.getItemLayout(le);de?(saveOldStyle(de),updateNormalBoxData(pe,de,V,le)):de=createNormalBox$1(pe,V,le,ae),oe.add(de),V.setItemGraphicEl(le,de)}).remove(function(le){var ue=re.getItemGraphicEl(le);ue&&oe.remove(ue)}).execute(),this._data=V},n.prototype.remove=function(r){var $=this.group,L=this._data;this._data=null,L&&L.eachItemGraphicEl(function(V){V&&$.remove(V)})},n.type="boxplot",n}(ChartView$1),BoxPathShape=function(){function g(){}return g}(),BoxPath=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="boxplotBoxPath",$}return n.prototype.getDefaultShape=function(){return new BoxPathShape},n.prototype.buildPath=function(r,$){var L=$.points,V=0;for(r.moveTo(L[V][0],L[V][1]),V++;V<4;V++)r.lineTo(L[V][0],L[V][1]);for(r.closePath();V<L.length;V++)r.moveTo(L[V][0],L[V][1]),V++,r.lineTo(L[V][0],L[V][1])},n}(Path$1);function createNormalBox$1(g,n,r,$,L){var V=g.ends,oe=new BoxPath({shape:{points:L?transInit$1(V,$,g):V}});return updateNormalBoxData(g,oe,n,r,L),oe}function updateNormalBoxData(g,n,r,$,L){var V=r.hostModel,oe=graphic[L?"initProps":"updateProps"];oe(n,{shape:{points:g.ends}},V,$),n.useStyle(r.getItemVisual($,"style")),n.style.strokeNoScale=!0,n.z2=100;var re=r.getItemModel($),ae=re.getModel("emphasis");setStatesStylesFromModel(n,re),toggleHoverEmphasis(n,ae.get("focus"),ae.get("blurScope"),ae.get("disabled"))}function transInit$1(g,n,r){return map$2(g,function($){return $=$.slice(),$[n]=r.initBaseline,$})}const BoxplotView$1=BoxplotView;var each$9=each$f;function boxplotLayout(g){var n=groupSeriesByAxis(g);each$9(n,function(r){var $=r.seriesModels;!$.length||(calculateBase(r),each$9($,function(L,V){layoutSingleSeries(L,r.boxOffsetList[V],r.boxWidthList[V])}))})}function groupSeriesByAxis(g){var n=[],r=[];return g.eachSeriesByType("boxplot",function($){var L=$.getBaseAxis(),V=indexOf(r,L);V<0&&(V=r.length,r[V]=L,n[V]={axis:L,seriesModels:[]}),n[V].seriesModels.push($)}),n}function calculateBase(g){var n=g.axis,r=g.seriesModels,$=r.length,L=g.boxWidthList=[],V=g.boxOffsetList=[],oe=[],re;if(n.type==="category")re=n.getBandWidth();else{var ae=0;each$9(r,function(_e){ae=Math.max(ae,_e.getData().count())});var le=n.getExtent();re=Math.abs(le[1]-le[0])/ae}each$9(r,function(_e){var Oe=_e.get("boxWidth");isArray$6(Oe)||(Oe=[Oe,Oe]),oe.push([parsePercent(Oe[0],re)||0,parsePercent(Oe[1],re)||0])});var ue=re*.8-2,de=ue/$*.3,pe=(ue-de*($-1))/$,he=pe/2-ue/2;each$9(r,function(_e,Oe){V.push(he),he+=de+pe,L.push(Math.min(Math.max(pe,oe[Oe][0]),oe[Oe][1]))})}function layoutSingleSeries(g,n,r){var $=g.coordinateSystem,L=g.getData(),V=r/2,oe=g.get("layout")==="horizontal"?0:1,re=1-oe,ae=["x","y"],le=L.mapDimension(ae[oe]),ue=L.mapDimensionsAll(ae[re]);if(le==null||ue.length<5)return;for(var de=0;de<L.count();de++){var pe=L.get(le,de),he=Ne(pe,ue[2],de),_e=Ne(pe,ue[0],de),Oe=Ne(pe,ue[1],de),xe=Ne(pe,ue[3],de),$e=Ne(pe,ue[4],de),Ie=[];ze(Ie,Oe,!1),ze(Ie,xe,!0),Ie.push(_e,Oe,$e,xe),Ue(Ie,_e),Ue(Ie,$e),Ue(Ie,he),L.setItemLayout(de,{initBaseline:he[re],ends:Ie})}function Ne(Fe,qe,Et){var At=L.get(qe,Et),kt=[];kt[oe]=Fe,kt[re]=At;var Dt;return isNaN(Fe)||isNaN(At)?Dt=[NaN,NaN]:(Dt=$.dataToPoint(kt),Dt[oe]+=n),Dt}function ze(Fe,qe,Et){var At=qe.slice(),kt=qe.slice();At[oe]+=V,kt[oe]-=V,Et?Fe.push(At,kt):Fe.push(kt,At)}function Ue(Fe,qe){var Et=qe.slice(),At=qe.slice();Et[oe]-=V,At[oe]+=V,Fe.push(Et,At)}}function prepareBoxplotData(g,n){n=n||{};for(var r=[],$=[],L=n.boundIQR,V=L==="none"||L===0,oe=0;oe<g.length;oe++){var re=asc$2(g[oe].slice()),ae=quantile(re,.25),le=quantile(re,.5),ue=quantile(re,.75),de=re[0],pe=re[re.length-1],he=(L!=null?L:1.5)*(ue-ae),_e=V?de:Math.max(de,ae-he),Oe=V?pe:Math.min(pe,ue+he),xe=n.itemNameFormatter,$e=isFunction$3(xe)?xe({value:oe}):isString$3(xe)?xe.replace("{value}",oe+""):oe+"";r.push([$e,_e,ae,le,ue,Oe]);for(var Ie=0;Ie<re.length;Ie++){var Ne=re[Ie];if(Ne<_e||Ne>Oe){var ze=[$e,Ne];$.push(ze)}}}return{boxData:r,outliers:$}}var boxplotTransform={type:"echarts:boxplot",transform:function(g){var n=g.upstream;if(n.sourceFormat!==SOURCE_FORMAT_ARRAY_ROWS){var r="";throwError$1(r)}var $=prepareBoxplotData(n.getRawData(),g.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:$.boxData},{data:$.outliers}]}};function install$B(g){g.registerSeriesModel(BoxplotSeriesModel$1),g.registerChartView(BoxplotView$1),g.registerLayout(boxplotLayout),g.registerTransform(boxplotTransform)}var SKIP_PROPS=["color","borderColor"],CandlestickView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(r),this._isLargeDraw?this._renderLarge(r):this._renderNormal(r)},n.prototype.incrementalPrepareRender=function(r,$,L){this._clear(),this._updateDrawMode(r)},n.prototype.incrementalRender=function(r,$,L,V){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(r,$):this._incrementalRenderNormal(r,$)},n.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},n.prototype._updateDrawMode=function(r){var $=r.pipelineContext.large;(this._isLargeDraw==null||$!==this._isLargeDraw)&&(this._isLargeDraw=$,this._clear())},n.prototype._renderNormal=function(r){var $=r.getData(),L=this._data,V=this.group,oe=$.getLayout("isSimpleBox"),re=r.get("clip",!0),ae=r.coordinateSystem,le=ae.getArea&&ae.getArea();this._data||V.removeAll(),$.diff(L).add(function(ue){if($.hasValue(ue)){var de=$.getItemLayout(ue);if(re&&isNormalBoxClipped(le,de))return;var pe=createNormalBox(de,ue,!0);initProps(pe,{shape:{points:de.ends}},r,ue),setBoxCommon(pe,$,ue,oe),V.add(pe),$.setItemGraphicEl(ue,pe)}}).update(function(ue,de){var pe=L.getItemGraphicEl(de);if(!$.hasValue(ue)){V.remove(pe);return}var he=$.getItemLayout(ue);if(re&&isNormalBoxClipped(le,he)){V.remove(pe);return}pe?(updateProps$1(pe,{shape:{points:he.ends}},r,ue),saveOldStyle(pe)):pe=createNormalBox(he),setBoxCommon(pe,$,ue,oe),V.add(pe),$.setItemGraphicEl(ue,pe)}).remove(function(ue){var de=L.getItemGraphicEl(ue);de&&V.remove(de)}).execute(),this._data=$},n.prototype._renderLarge=function(r){this._clear(),createLarge(r,this.group);var $=r.get("clip",!0)?createClipPath(r.coordinateSystem,!1,r):null;$?this.group.setClipPath($):this.group.removeClipPath()},n.prototype._incrementalRenderNormal=function(r,$){for(var L=$.getData(),V=L.getLayout("isSimpleBox"),oe;(oe=r.next())!=null;){var re=L.getItemLayout(oe),ae=createNormalBox(re);setBoxCommon(ae,L,oe,V),ae.incremental=!0,this.group.add(ae),this._progressiveEls.push(ae)}},n.prototype._incrementalRenderLarge=function(r,$){createLarge($,this.group,this._progressiveEls,!0)},n.prototype.remove=function(r){this._clear()},n.prototype._clear=function(){this.group.removeAll(),this._data=null},n.type="candlestick",n}(ChartView$1),NormalBoxPathShape=function(){function g(){}return g}(),NormalBoxPath=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="normalCandlestickBox",$}return n.prototype.getDefaultShape=function(){return new NormalBoxPathShape},n.prototype.buildPath=function(r,$){var L=$.points;this.__simpleBox?(r.moveTo(L[4][0],L[4][1]),r.lineTo(L[6][0],L[6][1])):(r.moveTo(L[0][0],L[0][1]),r.lineTo(L[1][0],L[1][1]),r.lineTo(L[2][0],L[2][1]),r.lineTo(L[3][0],L[3][1]),r.closePath(),r.moveTo(L[4][0],L[4][1]),r.lineTo(L[5][0],L[5][1]),r.moveTo(L[6][0],L[6][1]),r.lineTo(L[7][0],L[7][1]))},n}(Path$1);function createNormalBox(g,n,r){var $=g.ends;return new NormalBoxPath({shape:{points:r?transInit($,g):$},z2:100})}function isNormalBoxClipped(g,n){for(var r=!0,$=0;$<n.ends.length;$++)if(g.contain(n.ends[$][0],n.ends[$][1])){r=!1;break}return r}function setBoxCommon(g,n,r,$){var L=n.getItemModel(r);g.useStyle(n.getItemVisual(r,"style")),g.style.strokeNoScale=!0,g.__simpleBox=$,setStatesStylesFromModel(g,L)}function transInit(g,n){return map$2(g,function(r){return r=r.slice(),r[1]=n.initBaseline,r})}var LargeBoxPathShape=function(){function g(){}return g}(),LargeBoxPath=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $.type="largeCandlestickBox",$}return n.prototype.getDefaultShape=function(){return new LargeBoxPathShape},n.prototype.buildPath=function(r,$){for(var L=$.points,V=0;V<L.length;)if(this.__sign===L[V++]){var oe=L[V++];r.moveTo(oe,L[V++]),r.lineTo(oe,L[V++])}else V+=3},n}(Path$1);function createLarge(g,n,r,$){var L=g.getData(),V=L.getLayout("largePoints"),oe=new LargeBoxPath({shape:{points:V},__sign:1,ignoreCoarsePointer:!0});n.add(oe);var re=new LargeBoxPath({shape:{points:V},__sign:-1,ignoreCoarsePointer:!0});n.add(re);var ae=new LargeBoxPath({shape:{points:V},__sign:0,ignoreCoarsePointer:!0});n.add(ae),setLargeStyle(1,oe,g),setLargeStyle(-1,re,g),setLargeStyle(0,ae,g),$&&(oe.incremental=!0,re.incremental=!0),r&&r.push(oe,re)}function setLargeStyle(g,n,r,$){var L=r.get(["itemStyle",g>0?"borderColor":"borderColor0"])||r.get(["itemStyle",g>0?"color":"color0"]);g===0&&(L=r.get(["itemStyle","borderColorDoji"]));var V=r.getModel("itemStyle").getItemStyle(SKIP_PROPS);n.useStyle(V),n.style.fill=null,n.style.stroke=L}const CandlestickView$1=CandlestickView;var CandlestickSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],r}return n.prototype.getShadowDim=function(){return"open"},n.prototype.brushSelector=function(r,$,L){var V=$.getItemLayout(r);return V&&L.rect(V.brushRect)},n.type="series.candlestick",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},n}(SeriesModel$1);mixin(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);const CandlestickSeriesModel$1=CandlestickSeriesModel;function candlestickPreprocessor(g){!g||!isArray$6(g.series)||each$f(g.series,function(n){isObject$6(n)&&n.type==="k"&&(n.type="candlestick")})}var positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],dojiBorderColorQuery=["itemStyle","borderColorDoji"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"],candlestickVisual={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function(g,n){function r(V,oe){return oe.get(V>0?positiveColorQuery:negativeColorQuery)}function $(V,oe){return oe.get(V===0?dojiBorderColorQuery:V>0?positiveBorderColorQuery:negativeBorderColorQuery)}if(!n.isSeriesFiltered(g)){var L=g.pipelineContext.large;return!L&&{progress:function(V,oe){for(var re;(re=V.next())!=null;){var ae=oe.getItemModel(re),le=oe.getItemLayout(re).sign,ue=ae.getItemStyle();ue.fill=r(le,ae),ue.stroke=$(le,ae)||ue.fill;var de=oe.ensureUniqueItemVisual(re,"style");extend$3(de,ue)}}}}}};const candlestickVisual$1=candlestickVisual;var candlestickLayout={seriesType:"candlestick",plan:createRenderPlanner(),reset:function(g){var n=g.coordinateSystem,r=g.getData(),$=calculateCandleWidth(g,r),L=0,V=1,oe=["x","y"],re=r.getDimensionIndex(r.mapDimension(oe[L])),ae=map$2(r.mapDimensionsAll(oe[V]),r.getDimensionIndex,r),le=ae[0],ue=ae[1],de=ae[2],pe=ae[3];if(r.setLayout({candleWidth:$,isSimpleBox:$<=1.3}),re<0||ae.length<4)return;return{progress:g.pipelineContext.large?_e:he};function he(Oe,xe){for(var $e,Ie=xe.getStore();($e=Oe.next())!=null;){var Ne=Ie.get(re,$e),ze=Ie.get(le,$e),Ue=Ie.get(ue,$e),Fe=Ie.get(de,$e),qe=Ie.get(pe,$e),Et=Math.min(ze,Ue),At=Math.max(ze,Ue),kt=_n(Et,Ne),Dt=_n(At,Ne),jt=_n(Fe,Ne),Lt=_n(qe,Ne),hn=[];xn(hn,Dt,0),xn(hn,kt,1),hn.push(Tn(Lt),Tn(Dt),Tn(jt),Tn(kt));var Sn=xe.getItemModel($e),On=!!Sn.get(["itemStyle","borderColorDoji"]);xe.setItemLayout($e,{sign:getSign(Ie,$e,ze,Ue,ue,On),initBaseline:ze>Ue?Dt[V]:kt[V],ends:hn,brushRect:bn(Fe,qe,Ne)})}function _n(An,En){var Ln=[];return Ln[L]=En,Ln[V]=An,isNaN(En)||isNaN(An)?[NaN,NaN]:n.dataToPoint(Ln)}function xn(An,En,Ln){var Wn=En.slice(),Mn=En.slice();Wn[L]=subPixelOptimize(Wn[L]+$/2,1,!1),Mn[L]=subPixelOptimize(Mn[L]-$/2,1,!0),Ln?An.push(Wn,Mn):An.push(Mn,Wn)}function bn(An,En,Ln){var Wn=_n(An,Ln),Mn=_n(En,Ln);return Wn[L]-=$/2,Mn[L]-=$/2,{x:Wn[0],y:Wn[1],width:$,height:Mn[1]-Wn[1]}}function Tn(An){return An[L]=subPixelOptimize(An[L],1),An}}function _e(Oe,xe){for(var $e=createFloat32Array(Oe.count*4),Ie=0,Ne,ze=[],Ue=[],Fe,qe=xe.getStore(),Et=!!g.get(["itemStyle","borderColorDoji"]);(Fe=Oe.next())!=null;){var At=qe.get(re,Fe),kt=qe.get(le,Fe),Dt=qe.get(ue,Fe),jt=qe.get(de,Fe),Lt=qe.get(pe,Fe);if(isNaN(At)||isNaN(jt)||isNaN(Lt)){$e[Ie++]=NaN,Ie+=3;continue}$e[Ie++]=getSign(qe,Fe,kt,Dt,ue,Et),ze[L]=At,ze[V]=jt,Ne=n.dataToPoint(ze,null,Ue),$e[Ie++]=Ne?Ne[0]:NaN,$e[Ie++]=Ne?Ne[1]:NaN,ze[V]=Lt,Ne=n.dataToPoint(ze,null,Ue),$e[Ie++]=Ne?Ne[1]:NaN}xe.setLayout("largePoints",$e)}}};function getSign(g,n,r,$,L,V){var oe;return r>$?oe=-1:r<$?oe=1:oe=V?0:n>0?g.get(L,n-1)<=$?1:-1:1,oe}function calculateCandleWidth(g,n){var r=g.getBaseAxis(),$,L=r.type==="category"?r.getBandWidth():($=r.getExtent(),Math.abs($[1]-$[0])/n.count()),V=parsePercent(retrieve2(g.get("barMaxWidth"),L),L),oe=parsePercent(retrieve2(g.get("barMinWidth"),1),L),re=g.get("barWidth");return re!=null?parsePercent(re,L):Math.max(Math.min(L/2,V),oe)}const candlestickLayout$1=candlestickLayout;function install$A(g){g.registerChartView(CandlestickView$1),g.registerSeriesModel(CandlestickSeriesModel$1),g.registerPreprocessor(candlestickPreprocessor),g.registerVisual(candlestickVisual$1),g.registerLayout(candlestickLayout$1)}function updateRipplePath(g,n){var r=n.rippleEffectColor||n.color;g.eachChild(function($){$.attr({z:n.z,zlevel:n.zlevel,style:{stroke:n.brushType==="stroke"?r:null,fill:n.brushType==="fill"?r:null}})})}var EffectSymbol=function(g){__extends(n,g);function n(r,$){var L=g.call(this)||this,V=new SymbolClz(r,$),oe=new Group$4;return L.add(V),L.add(oe),L.updateData(r,$),L}return n.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},n.prototype.startEffectAnimation=function(r){for(var $=r.symbolType,L=r.color,V=r.rippleNumber,oe=this.childAt(1),re=0;re<V;re++){var ae=createSymbol$1($,-1,-1,2,2,L);ae.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var le=-re/V*r.period+r.effectOffset;ae.animate("",!0).when(r.period,{scaleX:r.rippleScale/2,scaleY:r.rippleScale/2}).delay(le).start(),ae.animateStyle(!0).when(r.period,{opacity:0}).delay(le).start(),oe.add(ae)}updateRipplePath(oe,r)},n.prototype.updateEffectAnimation=function(r){for(var $=this._effectCfg,L=this.childAt(1),V=["symbolType","period","rippleScale","rippleNumber"],oe=0;oe<V.length;oe++){var re=V[oe];if($[re]!==r[re]){this.stopEffectAnimation(),this.startEffectAnimation(r);return}}updateRipplePath(L,r)},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n.prototype.getSymbolType=function(){var r=this.childAt(0);return r&&r.getSymbolType()},n.prototype.updateData=function(r,$){var L=this,V=r.hostModel;this.childAt(0).updateData(r,$);var oe=this.childAt(1),re=r.getItemModel($),ae=r.getItemVisual($,"symbol"),le=normalizeSymbolSize(r.getItemVisual($,"symbolSize")),ue=r.getItemVisual($,"style"),de=ue&&ue.fill,pe=re.getModel("emphasis");oe.setScale(le),oe.traverse(function(xe){xe.setStyle("fill",de)});var he=normalizeSymbolOffset(r.getItemVisual($,"symbolOffset"),le);he&&(oe.x=he[0],oe.y=he[1]);var _e=r.getItemVisual($,"symbolRotate");oe.rotation=(_e||0)*Math.PI/180||0;var Oe={};Oe.showEffectOn=V.get("showEffectOn"),Oe.rippleScale=re.get(["rippleEffect","scale"]),Oe.brushType=re.get(["rippleEffect","brushType"]),Oe.period=re.get(["rippleEffect","period"])*1e3,Oe.effectOffset=$/r.count(),Oe.z=V.getShallow("z")||0,Oe.zlevel=V.getShallow("zlevel")||0,Oe.symbolType=ae,Oe.color=de,Oe.rippleEffectColor=re.get(["rippleEffect","color"]),Oe.rippleNumber=re.get(["rippleEffect","number"]),Oe.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(Oe):this.startEffectAnimation(Oe),this._effectCfg=Oe):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(xe){xe==="emphasis"?Oe.showEffectOn!=="render"&&L.startEffectAnimation(Oe):xe==="normal"&&Oe.showEffectOn!=="render"&&L.stopEffectAnimation()}),this._effectCfg=Oe,toggleHoverEmphasis(this,pe.get("focus"),pe.get("blurScope"),pe.get("disabled"))},n.prototype.fadeOut=function(r){r&&r()},n}(Group$4);const EffectSymbol$1=EffectSymbol;var EffectScatterView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this._symbolDraw=new SymbolDraw$1(EffectSymbol$1)},n.prototype.render=function(r,$,L){var V=r.getData(),oe=this._symbolDraw;oe.updateData(V,{clipShape:this._getClipShape(r)}),this.group.add(oe.group)},n.prototype._getClipShape=function(r){var $=r.coordinateSystem,L=$&&$.getArea&&$.getArea();return r.get("clip",!0)?L:null},n.prototype.updateTransform=function(r,$,L){var V=r.getData();this.group.dirty();var oe=pointsLayout("").reset(r,$,L);oe.progress&&oe.progress({start:0,end:V.count(),count:V.count()},V),this._symbolDraw.updateLayout()},n.prototype._updateGroupTransform=function(r){var $=r.coordinateSystem;$&&$.getRoamTransform&&(this.group.transform=clone$3($.getRoamTransform()),this.group.decomposeTransform())},n.prototype.remove=function(r,$){this._symbolDraw&&this._symbolDraw.remove(!0)},n.type="effectScatter",n}(ChartView$1);const EffectScatterView$1=EffectScatterView;var EffectScatterSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(r,$){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.brushSelector=function(r,$,L){return L.point($.getItemLayout(r))},n.type="series.effectScatter",n.dependencies=["grid","polar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},n}(SeriesModel$1);const EffectScatterSeriesModel$1=EffectScatterSeriesModel;function install$z(g){g.registerChartView(EffectScatterView$1),g.registerSeriesModel(EffectScatterSeriesModel$1),g.registerLayout(pointsLayout("effectScatter"))}var EffectLine=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this)||this;return V.add(V.createLine(r,$,L)),V._updateEffectSymbol(r,$),V}return n.prototype.createLine=function(r,$,L){return new Line$2(r,$,L)},n.prototype._updateEffectSymbol=function(r,$){var L=r.getItemModel($),V=L.getModel("effect"),oe=V.get("symbolSize"),re=V.get("symbol");isArray$6(oe)||(oe=[oe,oe]);var ae=r.getItemVisual($,"style"),le=V.get("color")||ae&&ae.stroke,ue=this.childAt(1);this._symbolType!==re&&(this.remove(ue),ue=createSymbol$1(re,-.5,-.5,1,1,le),ue.z2=100,ue.culling=!0,this.add(ue)),ue&&(ue.setStyle("shadowColor",le),ue.setStyle(V.getItemStyle(["color"])),ue.scaleX=oe[0],ue.scaleY=oe[1],ue.setColor(le),this._symbolType=re,this._symbolScale=oe,this._updateEffectAnimation(r,V,$))},n.prototype._updateEffectAnimation=function(r,$,L){var V=this.childAt(1);if(V){var oe=r.getItemLayout(L),re=$.get("period")*1e3,ae=$.get("loop"),le=$.get("roundTrip"),ue=$.get("constantSpeed"),de=retrieve($.get("delay"),function(he){return he/r.count()*re/3});if(V.ignore=!0,this._updateAnimationPoints(V,oe),ue>0&&(re=this._getLineLength(V)/ue*1e3),re!==this._period||ae!==this._loop||le!==this._roundTrip){V.stopAnimation();var pe=void 0;isFunction$3(de)?pe=de(L):pe=de,V.__t>0&&(pe=-re*V.__t),this._animateSymbol(V,re,pe,ae,le)}this._period=re,this._loop=ae,this._roundTrip=le}},n.prototype._animateSymbol=function(r,$,L,V,oe){if($>0){r.__t=0;var re=this,ae=r.animate("",V).when(oe?$*2:$,{__t:oe?2:1}).delay(L).during(function(){re._updateSymbolPosition(r)});V||ae.done(function(){re.remove(r)}),ae.start()}},n.prototype._getLineLength=function(r){return dist$1(r.__p1,r.__cp1)+dist$1(r.__cp1,r.__p2)},n.prototype._updateAnimationPoints=function(r,$){r.__p1=$[0],r.__p2=$[1],r.__cp1=$[2]||[($[0][0]+$[1][0])/2,($[0][1]+$[1][1])/2]},n.prototype.updateData=function(r,$,L){this.childAt(0).updateData(r,$,L),this._updateEffectSymbol(r,$)},n.prototype._updateSymbolPosition=function(r){var $=r.__p1,L=r.__p2,V=r.__cp1,oe=r.__t<1?r.__t:2-r.__t,re=[r.x,r.y],ae=re.slice(),le=quadraticAt$1,ue=quadraticDerivativeAt;re[0]=le($[0],V[0],L[0],oe),re[1]=le($[1],V[1],L[1],oe);var de=r.__t<1?ue($[0],V[0],L[0],oe):ue(L[0],V[0],$[0],1-oe),pe=r.__t<1?ue($[1],V[1],L[1],oe):ue(L[1],V[1],$[1],1-oe);r.rotation=-Math.atan2(pe,de)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(r.__lastT!==void 0&&r.__lastT<r.__t?(r.scaleY=dist$1(ae,re)*1.05,oe===1&&(re[0]=ae[0]+(re[0]-ae[0])/2,re[1]=ae[1]+(re[1]-ae[1])/2)):r.__lastT===1?r.scaleY=2*dist$1($,re):r.scaleY=this._symbolScale[1]),r.__lastT=r.__t,r.ignore=!1,r.x=re[0],r.y=re[1]},n.prototype.updateLayout=function(r,$){this.childAt(0).updateLayout(r,$);var L=r.getItemModel($).getModel("effect");this._updateEffectAnimation(r,L,$)},n}(Group$4);const EffectLine$1=EffectLine;var Polyline=function(g){__extends(n,g);function n(r,$,L){var V=g.call(this)||this;return V._createPolyline(r,$,L),V}return n.prototype._createPolyline=function(r,$,L){var V=r.getItemLayout($),oe=new Polyline$3({shape:{points:V}});this.add(oe),this._updateCommonStl(r,$,L)},n.prototype.updateData=function(r,$,L){var V=r.hostModel,oe=this.childAt(0),re={shape:{points:r.getItemLayout($)}};updateProps$1(oe,re,V,$),this._updateCommonStl(r,$,L)},n.prototype._updateCommonStl=function(r,$,L){var V=this.childAt(0),oe=r.getItemModel($),re=L&&L.emphasisLineStyle,ae=L&&L.focus,le=L&&L.blurScope,ue=L&&L.emphasisDisabled;if(!L||r.hasItemOption){var de=oe.getModel("emphasis");re=de.getModel("lineStyle").getLineStyle(),ue=de.get("disabled"),ae=de.get("focus"),le=de.get("blurScope")}V.useStyle(r.getItemVisual($,"style")),V.style.fill=null,V.style.strokeNoScale=!0;var pe=V.ensureState("emphasis");pe.style=re,toggleHoverEmphasis(this,ae,le,ue)},n.prototype.updateLayout=function(r,$){var L=this.childAt(0);L.setShape("points",r.getItemLayout($))},n}(Group$4);const Polyline$1=Polyline;var EffectPolyline=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r._lastFrame=0,r._lastFramePercent=0,r}return n.prototype.createLine=function(r,$,L){return new Polyline$1(r,$,L)},n.prototype._updateAnimationPoints=function(r,$){this._points=$;for(var L=[0],V=0,oe=1;oe<$.length;oe++){var re=$[oe-1],ae=$[oe];V+=dist$1(re,ae),L.push(V)}if(V===0){this._length=0;return}for(var oe=0;oe<L.length;oe++)L[oe]/=V;this._offsets=L,this._length=V},n.prototype._getLineLength=function(){return this._length},n.prototype._updateSymbolPosition=function(r){var $=r.__t<1?r.__t:2-r.__t,L=this._points,V=this._offsets,oe=L.length;if(V){var re=this._lastFrame,ae;if($<this._lastFramePercent){var le=Math.min(re+1,oe-1);for(ae=le;ae>=0&&!(V[ae]<=$);ae--);ae=Math.min(ae,oe-2)}else{for(ae=re;ae<oe&&!(V[ae]>$);ae++);ae=Math.min(ae-1,oe-2)}var ue=($-V[ae])/(V[ae+1]-V[ae]),de=L[ae],pe=L[ae+1];r.x=de[0]*(1-ue)+ue*pe[0],r.y=de[1]*(1-ue)+ue*pe[1];var he=r.__t<1?pe[0]-de[0]:de[0]-pe[0],_e=r.__t<1?pe[1]-de[1]:de[1]-pe[1];r.rotation=-Math.atan2(_e,he)-Math.PI/2,this._lastFrame=ae,this._lastFramePercent=$,r.ignore=!1}},n}(EffectLine$1);const EffectPolyline$1=EffectPolyline;var LargeLinesPathShape=function(){function g(){this.polyline=!1,this.curveness=0,this.segs=[]}return g}(),LargeLinesPath=function(g){__extends(n,g);function n(r){var $=g.call(this,r)||this;return $._off=0,$.hoverDataIdx=-1,$}return n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LargeLinesPathShape},n.prototype.buildPath=function(r,$){var L=$.segs,V=$.curveness,oe;if($.polyline)for(oe=this._off;oe<L.length;){var re=L[oe++];if(re>0){r.moveTo(L[oe++],L[oe++]);for(var ae=1;ae<re;ae++)r.lineTo(L[oe++],L[oe++])}}else for(oe=this._off;oe<L.length;){var le=L[oe++],ue=L[oe++],de=L[oe++],pe=L[oe++];if(r.moveTo(le,ue),V>0){var he=(le+de)/2-(ue-pe)*V,_e=(ue+pe)/2-(de-le)*V;r.quadraticCurveTo(he,_e,de,pe)}else r.lineTo(de,pe)}this.incremental&&(this._off=oe,this.notClear=!0)},n.prototype.findDataIndex=function(r,$){var L=this.shape,V=L.segs,oe=L.curveness,re=this.style.lineWidth;if(L.polyline)for(var ae=0,le=0;le<V.length;){var ue=V[le++];if(ue>0)for(var de=V[le++],pe=V[le++],he=1;he<ue;he++){var _e=V[le++],Oe=V[le++];if(containStroke$4(de,pe,_e,Oe,re,r,$))return ae}ae++}else for(var ae=0,le=0;le<V.length;){var de=V[le++],pe=V[le++],_e=V[le++],Oe=V[le++];if(oe>0){var xe=(de+_e)/2-(pe-Oe)*oe,$e=(pe+Oe)/2-(_e-de)*oe;if(containStroke$2(de,pe,xe,$e,_e,Oe,re,r,$))return ae}else if(containStroke$4(de,pe,_e,Oe,re,r,$))return ae;ae++}return-1},n.prototype.contain=function(r,$){var L=this.transformCoordToLocal(r,$),V=this.getBoundingRect();if(r=L[0],$=L[1],V.contain(r,$)){var oe=this.hoverDataIdx=this.findDataIndex(r,$);return oe>=0}return this.hoverDataIdx=-1,!1},n.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var $=this.shape,L=$.segs,V=1/0,oe=1/0,re=-1/0,ae=-1/0,le=0;le<L.length;){var ue=L[le++],de=L[le++];V=Math.min(ue,V),re=Math.max(ue,re),oe=Math.min(de,oe),ae=Math.max(de,ae)}r=this._rect=new BoundingRect$1(V,oe,re,ae)}return r},n}(Path$1),LargeLineDraw=function(){function g(){this.group=new Group$4}return g.prototype.updateData=function(n){this._clear();var r=this._create();r.setShape({segs:n.getLayout("linesPoints")}),this._setCommon(r,n)},g.prototype.incrementalPrepareUpdate=function(n){this.group.removeAll(),this._clear()},g.prototype.incrementalUpdate=function(n,r){var $=this._newAdded[0],L=r.getLayout("linesPoints"),V=$&&$.shape.segs;if(V&&V.length<2e4){var oe=V.length,re=new Float32Array(oe+L.length);re.set(V),re.set(L,oe),$.setShape({segs:re})}else{this._newAdded=[];var ae=this._create();ae.incremental=!0,ae.setShape({segs:L}),this._setCommon(ae,r),ae.__startIndex=n.start}},g.prototype.remove=function(){this._clear()},g.prototype.eachRendered=function(n){this._newAdded[0]&&n(this._newAdded[0])},g.prototype._create=function(){var n=new LargeLinesPath({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(n),this.group.add(n),n},g.prototype._setCommon=function(n,r,$){var L=r.hostModel;n.setShape({polyline:L.get("polyline"),curveness:L.get(["lineStyle","curveness"])}),n.useStyle(L.getModel("lineStyle").getLineStyle()),n.style.strokeNoScale=!0;var V=r.getVisual("style");V&&V.stroke&&n.setStyle("stroke",V.stroke),n.setStyle("fill",null);var oe=getECData(n);oe.seriesIndex=L.seriesIndex,n.on("mousemove",function(re){oe.dataIndex=null;var ae=n.hoverDataIdx;ae>0&&(oe.dataIndex=ae+n.__startIndex)})},g.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},g}();const LargeLineDraw$1=LargeLineDraw;var linesLayout={seriesType:"lines",plan:createRenderPlanner(),reset:function(g){var n=g.coordinateSystem;if(n){var r=g.get("polyline"),$=g.pipelineContext.large;return{progress:function(L,V){var oe=[];if($){var re=void 0,ae=L.end-L.start;if(r){for(var le=0,ue=L.start;ue<L.end;ue++)le+=g.getLineCoordsCount(ue);re=new Float32Array(ae+le*2)}else re=new Float32Array(ae*4);for(var de=0,pe=[],ue=L.start;ue<L.end;ue++){var he=g.getLineCoords(ue,oe);r&&(re[de++]=he);for(var _e=0;_e<he;_e++)pe=n.dataToPoint(oe[_e],!1,pe),re[de++]=pe[0],re[de++]=pe[1]}V.setLayout("linesPoints",re)}else for(var ue=L.start;ue<L.end;ue++){var Oe=V.getItemModel(ue),he=g.getLineCoords(ue,oe),xe=[];if(r)for(var $e=0;$e<he;$e++)xe.push(n.dataToPoint(oe[$e]));else{xe[0]=n.dataToPoint(oe[0]),xe[1]=n.dataToPoint(oe[1]);var Ie=Oe.get(["lineStyle","curveness"]);+Ie&&(xe[2]=[(xe[0][0]+xe[1][0])/2-(xe[0][1]-xe[1][1])*Ie,(xe[0][1]+xe[1][1])/2-(xe[1][0]-xe[0][0])*Ie])}V.setItemLayout(ue,xe)}}}}}};const linesLayout$1=linesLayout;var LinesView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=r.getData(),oe=this._updateLineDraw(V,r),re=r.get("zlevel"),ae=r.get(["effect","trailLength"]),le=L.getZr(),ue=le.painter.getType()==="svg";ue||le.painter.getLayer(re).clear(!0),this._lastZlevel!=null&&!ue&&le.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(r)&&ae>0&&(ue||le.configLayer(re,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(ae/10+.9,1),0)})),oe.updateData(V);var de=r.get("clip",!0)&&createClipPath(r.coordinateSystem,!1,r);de?this.group.setClipPath(de):this.group.removeClipPath(),this._lastZlevel=re,this._finished=!0},n.prototype.incrementalPrepareRender=function(r,$,L){var V=r.getData(),oe=this._updateLineDraw(V,r);oe.incrementalPrepareUpdate(V),this._clearLayer(L),this._finished=!1},n.prototype.incrementalRender=function(r,$,L){this._lineDraw.incrementalUpdate(r,$.getData()),this._finished=r.end===$.getData().count()},n.prototype.eachRendered=function(r){this._lineDraw&&this._lineDraw.eachRendered(r)},n.prototype.updateTransform=function(r,$,L){var V=r.getData(),oe=r.pipelineContext;if(!this._finished||oe.large||oe.progressiveRender)return{update:!0};var re=linesLayout$1.reset(r,$,L);re.progress&&re.progress({start:0,end:V.count(),count:V.count()},V),this._lineDraw.updateLayout(),this._clearLayer(L)},n.prototype._updateLineDraw=function(r,$){var L=this._lineDraw,V=this._showEffect($),oe=!!$.get("polyline"),re=$.pipelineContext,ae=re.large;return(!L||V!==this._hasEffet||oe!==this._isPolyline||ae!==this._isLargeDraw)&&(L&&L.remove(),L=this._lineDraw=ae?new LargeLineDraw$1:new LineDraw$1(oe?V?EffectPolyline$1:Polyline$1:V?EffectLine$1:Line$2),this._hasEffet=V,this._isPolyline=oe,this._isLargeDraw=ae),this.group.add(L.group),L},n.prototype._showEffect=function(r){return!!r.get(["effect","show"])},n.prototype._clearLayer=function(r){var $=r.getZr(),L=$.painter.getType()==="svg";!L&&this._lastZlevel!=null&&$.painter.getLayer(this._lastZlevel).clear(!0)},n.prototype.remove=function(r,$){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer($)},n.prototype.dispose=function(r,$){this.remove(r,$)},n.type="lines",n}(ChartView$1);const LinesView$1=LinesView;var Uint32Arr=typeof Uint32Array>"u"?Array:Uint32Array,Float64Arr=typeof Float64Array>"u"?Array:Float64Array;function compatEc2(g){var n=g.data;n&&n[0]&&n[0][0]&&n[0][0].coord&&(g.data=map$2(n,function(r){var $=[r[0].coord,r[1].coord],L={coords:$};return r[0].name&&(L.fromName=r[0].name),r[1].name&&(L.toName=r[1].name),mergeAll([L,r[0],r[1]])}))}var LinesSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return n.prototype.init=function(r){r.data=r.data||[],compatEc2(r);var $=this._processFlatCoordsArray(r.data);this._flatCoords=$.flatCoords,this._flatCoordsOffset=$.flatCoordsOffset,$.flatCoords&&(r.data=new Float32Array($.count)),g.prototype.init.apply(this,arguments)},n.prototype.mergeOption=function(r){if(compatEc2(r),r.data){var $=this._processFlatCoordsArray(r.data);this._flatCoords=$.flatCoords,this._flatCoordsOffset=$.flatCoordsOffset,$.flatCoords&&(r.data=new Float32Array($.count))}g.prototype.mergeOption.apply(this,arguments)},n.prototype.appendData=function(r){var $=this._processFlatCoordsArray(r.data);$.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,$.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,$.flatCoordsOffset)):(this._flatCoords=$.flatCoords,this._flatCoordsOffset=$.flatCoordsOffset),r.data=new Float32Array($.count)),this.getRawData().appendData(r.data)},n.prototype._getCoordsFromItemModel=function(r){var $=this.getData().getItemModel(r),L=$.option instanceof Array?$.option:$.getShallow("coords");return L},n.prototype.getLineCoordsCount=function(r){return this._flatCoordsOffset?this._flatCoordsOffset[r*2+1]:this._getCoordsFromItemModel(r).length},n.prototype.getLineCoords=function(r,$){if(this._flatCoordsOffset){for(var L=this._flatCoordsOffset[r*2],V=this._flatCoordsOffset[r*2+1],oe=0;oe<V;oe++)$[oe]=$[oe]||[],$[oe][0]=this._flatCoords[L+oe*2],$[oe][1]=this._flatCoords[L+oe*2+1];return V}else{for(var re=this._getCoordsFromItemModel(r),oe=0;oe<re.length;oe++)$[oe]=$[oe]||[],$[oe][0]=re[oe][0],$[oe][1]=re[oe][1];return re.length}},n.prototype._processFlatCoordsArray=function(r){var $=0;if(this._flatCoords&&($=this._flatCoords.length),isNumber$3(r[0])){for(var L=r.length,V=new Uint32Arr(L),oe=new Float64Arr(L),re=0,ae=0,le=0,ue=0;ue<L;){le++;var de=r[ue++];V[ae++]=re+$,V[ae++]=de;for(var pe=0;pe<de;pe++){var he=r[ue++],_e=r[ue++];oe[re++]=he,oe[re++]=_e}}return{flatCoordsOffset:new Uint32Array(V.buffer,0,ae),flatCoords:oe,count:le}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}},n.prototype.getInitialData=function(r,$){var L=new SeriesData$1(["value"],this);return L.hasItemOption=!1,L.initData(r.data,[],function(V,oe,re,ae){if(V instanceof Array)return NaN;L.hasItemOption=!0;var le=V.value;if(le!=null)return le instanceof Array?le[ae]:le}),L},n.prototype.formatTooltip=function(r,$,L){var V=this.getData(),oe=V.getItemModel(r),re=oe.get("name");if(re)return re;var ae=oe.get("fromName"),le=oe.get("toName"),ue=[];return ae!=null&&ue.push(ae),le!=null&&ue.push(le),createTooltipMarkup("nameValue",{name:ue.join(" > ")})},n.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},n.prototype.getProgressive=function(){var r=this.option.progressive;return r!=null?r:this.option.large?1e4:this.get("progressive")},n.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r!=null?r:this.option.large?2e4:this.get("progressiveThreshold")},n.prototype.getZLevelKey=function(){var r=this.getModel("effect"),$=r.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:r.get("show")&&$>0?$+"":""},n.type="series.lines",n.dependencies=["grid","polar","geo","calendar"],n.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},n}(SeriesModel$1);const LinesSeriesModel$1=LinesSeriesModel;function normalize$1(g){return g instanceof Array||(g=[g,g]),g}var linesVisual={seriesType:"lines",reset:function(g){var n=normalize$1(g.get("symbol")),r=normalize$1(g.get("symbolSize")),$=g.getData();$.setVisual("fromSymbol",n&&n[0]),$.setVisual("toSymbol",n&&n[1]),$.setVisual("fromSymbolSize",r&&r[0]),$.setVisual("toSymbolSize",r&&r[1]);function L(V,oe){var re=V.getItemModel(oe),ae=normalize$1(re.getShallow("symbol",!0)),le=normalize$1(re.getShallow("symbolSize",!0));ae[0]&&V.setItemVisual(oe,"fromSymbol",ae[0]),ae[1]&&V.setItemVisual(oe,"toSymbol",ae[1]),le[0]&&V.setItemVisual(oe,"fromSymbolSize",le[0]),le[1]&&V.setItemVisual(oe,"toSymbolSize",le[1])}return{dataEach:$.hasItemOption?L:null}}};const linesVisual$1=linesVisual;function install$y(g){g.registerChartView(LinesView$1),g.registerSeriesModel(LinesSeriesModel$1),g.registerLayout(linesLayout$1),g.registerVisual(linesVisual$1)}var GRADIENT_LEVELS=256,HeatmapLayer=function(){function g(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var n=platformApi.createCanvas();this.canvas=n}return g.prototype.update=function(n,r,$,L,V,oe){var re=this._getBrush(),ae=this._getGradient(V,"inRange"),le=this._getGradient(V,"outOfRange"),ue=this.pointSize+this.blurSize,de=this.canvas,pe=de.getContext("2d"),he=n.length;de.width=r,de.height=$;for(var _e=0;_e<he;++_e){var Oe=n[_e],xe=Oe[0],$e=Oe[1],Ie=Oe[2],Ne=L(Ie);pe.globalAlpha=Ne,pe.drawImage(re,xe-ue,$e-ue)}if(!de.width||!de.height)return de;for(var ze=pe.getImageData(0,0,de.width,de.height),Ue=ze.data,Fe=0,qe=Ue.length,Et=this.minOpacity,At=this.maxOpacity,kt=At-Et;Fe<qe;){var Ne=Ue[Fe+3]/256,Dt=Math.floor(Ne*(GRADIENT_LEVELS-1))*4;if(Ne>0){var jt=oe(Ne)?ae:le;Ne>0&&(Ne=Ne*kt+Et),Ue[Fe++]=jt[Dt],Ue[Fe++]=jt[Dt+1],Ue[Fe++]=jt[Dt+2],Ue[Fe++]=jt[Dt+3]*Ne*256}else Fe+=4}return pe.putImageData(ze,0,0),de},g.prototype._getBrush=function(){var n=this._brushCanvas||(this._brushCanvas=platformApi.createCanvas()),r=this.pointSize+this.blurSize,$=r*2;n.width=$,n.height=$;var L=n.getContext("2d");return L.clearRect(0,0,$,$),L.shadowOffsetX=$,L.shadowBlur=this.blurSize,L.shadowColor="#000",L.beginPath(),L.arc(-r,r,this.pointSize,0,Math.PI*2,!0),L.closePath(),L.fill(),n},g.prototype._getGradient=function(n,r){for(var $=this._gradientPixels,L=$[r]||($[r]=new Uint8ClampedArray(256*4)),V=[0,0,0,0],oe=0,re=0;re<256;re++)n[r](re/255,!0,V),L[oe++]=V[0],L[oe++]=V[1],L[oe++]=V[2],L[oe++]=V[3];return L},g}();const HeatmapLayer$1=HeatmapLayer;function getIsInPiecewiseRange(g,n,r){var $=g[1]-g[0];n=map$2(n,function(oe){return{interval:[(oe.interval[0]-g[0])/$,(oe.interval[1]-g[0])/$]}});var L=n.length,V=0;return function(oe){var re;for(re=V;re<L;re++){var ae=n[re].interval;if(ae[0]<=oe&&oe<=ae[1]){V=re;break}}if(re===L)for(re=V-1;re>=0;re--){var ae=n[re].interval;if(ae[0]<=oe&&oe<=ae[1]){V=re;break}}return re>=0&&re<L&&r[re]}}function getIsInContinuousRange(g,n){var r=g[1]-g[0];return n=[(n[0]-g[0])/r,(n[1]-g[0])/r],function($){return $>=n[0]&&$<=n[1]}}function isGeoCoordSys(g){var n=g.dimensions;return n[0]==="lng"&&n[1]==="lat"}var HeatmapView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V;$.eachComponent("visualMap",function(re){re.eachTargetSeries(function(ae){ae===r&&(V=re)})}),this._progressiveEls=null,this.group.removeAll();var oe=r.coordinateSystem;oe.type==="cartesian2d"||oe.type==="calendar"?this._renderOnCartesianAndCalendar(r,L,0,r.getData().count()):isGeoCoordSys(oe)&&this._renderOnGeo(oe,r,V,L)},n.prototype.incrementalPrepareRender=function(r,$,L){this.group.removeAll()},n.prototype.incrementalRender=function(r,$,L,V){var oe=$.coordinateSystem;oe&&(isGeoCoordSys(oe)?this.render($,L,V):(this._progressiveEls=[],this._renderOnCartesianAndCalendar($,V,r.start,r.end,!0)))},n.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},n.prototype._renderOnCartesianAndCalendar=function(r,$,L,V,oe){var re=r.coordinateSystem,ae=isCoordinateSystemType(re,"cartesian2d"),le,ue,de,pe;if(ae){var he=re.getAxis("x"),_e=re.getAxis("y");le=he.getBandWidth()+.5,ue=_e.getBandWidth()+.5,de=he.scale.getExtent(),pe=_e.scale.getExtent()}for(var Oe=this.group,xe=r.getData(),$e=r.getModel(["emphasis","itemStyle"]).getItemStyle(),Ie=r.getModel(["blur","itemStyle"]).getItemStyle(),Ne=r.getModel(["select","itemStyle"]).getItemStyle(),ze=r.get(["itemStyle","borderRadius"]),Ue=getLabelStatesModels(r),Fe=r.getModel("emphasis"),qe=Fe.get("focus"),Et=Fe.get("blurScope"),At=Fe.get("disabled"),kt=ae?[xe.mapDimension("x"),xe.mapDimension("y"),xe.mapDimension("value")]:[xe.mapDimension("time"),xe.mapDimension("value")],Dt=L;Dt<V;Dt++){var jt=void 0,Lt=xe.getItemVisual(Dt,"style");if(ae){var hn=xe.get(kt[0],Dt),Sn=xe.get(kt[1],Dt);if(isNaN(xe.get(kt[2],Dt))||isNaN(hn)||isNaN(Sn)||hn<de[0]||hn>de[1]||Sn<pe[0]||Sn>pe[1])continue;var On=re.dataToPoint([hn,Sn]);jt=new Rect$3({shape:{x:On[0]-le/2,y:On[1]-ue/2,width:le,height:ue},style:Lt})}else{if(isNaN(xe.get(kt[1],Dt)))continue;jt=new Rect$3({z2:1,shape:re.dataToRect([xe.get(kt[0],Dt)]).contentShape,style:Lt})}if(xe.hasItemOption){var _n=xe.getItemModel(Dt),xn=_n.getModel("emphasis");$e=xn.getModel("itemStyle").getItemStyle(),Ie=_n.getModel(["blur","itemStyle"]).getItemStyle(),Ne=_n.getModel(["select","itemStyle"]).getItemStyle(),ze=_n.get(["itemStyle","borderRadius"]),qe=xn.get("focus"),Et=xn.get("blurScope"),At=xn.get("disabled"),Ue=getLabelStatesModels(_n)}jt.shape.r=ze;var bn=r.getRawValue(Dt),Tn="-";bn&&bn[2]!=null&&(Tn=bn[2]+""),setLabelStyle(jt,Ue,{labelFetcher:r,labelDataIndex:Dt,defaultOpacity:Lt.opacity,defaultText:Tn}),jt.ensureState("emphasis").style=$e,jt.ensureState("blur").style=Ie,jt.ensureState("select").style=Ne,toggleHoverEmphasis(jt,qe,Et,At),jt.incremental=oe,oe&&(jt.states.emphasis.hoverLayer=!0),Oe.add(jt),xe.setItemGraphicEl(Dt,jt),this._progressiveEls&&this._progressiveEls.push(jt)}},n.prototype._renderOnGeo=function(r,$,L,V){var oe=L.targetVisuals.inRange,re=L.targetVisuals.outOfRange,ae=$.getData(),le=this._hmLayer||this._hmLayer||new HeatmapLayer$1;le.blurSize=$.get("blurSize"),le.pointSize=$.get("pointSize"),le.minOpacity=$.get("minOpacity"),le.maxOpacity=$.get("maxOpacity");var ue=r.getViewRect().clone(),de=r.getRoamTransform();ue.applyTransform(de);var pe=Math.max(ue.x,0),he=Math.max(ue.y,0),_e=Math.min(ue.width+ue.x,V.getWidth()),Oe=Math.min(ue.height+ue.y,V.getHeight()),xe=_e-pe,$e=Oe-he,Ie=[ae.mapDimension("lng"),ae.mapDimension("lat"),ae.mapDimension("value")],Ne=ae.mapArray(Ie,function(qe,Et,At){var kt=r.dataToPoint([qe,Et]);return kt[0]-=pe,kt[1]-=he,kt.push(At),kt}),ze=L.getExtent(),Ue=L.type==="visualMap.continuous"?getIsInContinuousRange(ze,L.option.range):getIsInPiecewiseRange(ze,L.getPieceList(),L.option.selected);le.update(Ne,xe,$e,oe.color.getNormalizer(),{inRange:oe.color.getColorMapper(),outOfRange:re.color.getColorMapper()},Ue);var Fe=new ZRImage$1({style:{width:xe,height:$e,x:pe,y:he,image:le.canvas},silent:!0});this.group.add(Fe)},n.type="heatmap",n}(ChartView$1);const HeatmapView$1=HeatmapView;var HeatmapSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(r,$){return createSeriesData(null,this,{generateCoord:"value"})},n.prototype.preventIncremental=function(){var r=CoordinateSystem.get(this.get("coordinateSystem"));if(r&&r.dimensions)return r.dimensions[0]==="lng"&&r.dimensions[1]==="lat"},n.type="series.heatmap",n.dependencies=["grid","geo","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel$1);const HeatmapSeriesModel$1=HeatmapSeriesModel;function install$x(g){g.registerChartView(HeatmapView$1),g.registerSeriesModel(HeatmapSeriesModel$1)}var BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new Circle$1,PictorialBarView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=this.group,oe=r.getData(),re=this._data,ae=r.coordinateSystem,le=ae.getBaseAxis(),ue=le.isHorizontal(),de=ae.master.getRect(),pe={ecSize:{width:L.getWidth(),height:L.getHeight()},seriesModel:r,coordSys:ae,coordSysExtent:[[de.x,de.x+de.width],[de.y,de.y+de.height]],isHorizontal:ue,valueDim:LAYOUT_ATTRS[+ue],categoryDim:LAYOUT_ATTRS[1-+ue]};return oe.diff(re).add(function(he){if(oe.hasValue(he)){var _e=getItemModel(oe,he),Oe=getSymbolMeta(oe,he,_e,pe),xe=createBar(oe,pe,Oe);oe.setItemGraphicEl(he,xe),V.add(xe),updateCommon(xe,pe,Oe)}}).update(function(he,_e){var Oe=re.getItemGraphicEl(_e);if(!oe.hasValue(he)){V.remove(Oe);return}var xe=getItemModel(oe,he),$e=getSymbolMeta(oe,he,xe,pe),Ie=getShapeStr(oe,$e);Oe&&Ie!==Oe.__pictorialShapeStr&&(V.remove(Oe),oe.setItemGraphicEl(he,null),Oe=null),Oe?updateBar(Oe,pe,$e):Oe=createBar(oe,pe,$e,!0),oe.setItemGraphicEl(he,Oe),Oe.__pictorialSymbolMeta=$e,V.add(Oe),updateCommon(Oe,pe,$e)}).remove(function(he){var _e=re.getItemGraphicEl(he);_e&&removeBar(re,he,_e.__pictorialSymbolMeta.animationModel,_e)}).execute(),this._data=oe,this.group},n.prototype.remove=function(r,$){var L=this.group,V=this._data;r.get("animation")?V&&V.eachItemGraphicEl(function(oe){removeBar(V,getECData(oe).dataIndex,r,oe)}):L.removeAll()},n.type="pictorialBar",n}(ChartView$1);function getSymbolMeta(g,n,r,$){var L=g.getItemLayout(n),V=r.get("symbolRepeat"),oe=r.get("symbolClip"),re=r.get("symbolPosition")||"start",ae=r.get("symbolRotate"),le=(ae||0)*Math.PI/180||0,ue=r.get("symbolPatternSize")||2,de=r.isAnimationEnabled(),pe={dataIndex:n,layout:L,itemModel:r,symbolType:g.getItemVisual(n,"symbol")||"circle",style:g.getItemVisual(n,"style"),symbolClip:oe,symbolRepeat:V,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:ue,rotation:le,animationModel:de?r:null,hoverScale:de&&r.get(["emphasis","scale"]),z2:r.getShallow("z",!0)||0};prepareBarLength(r,V,L,$,pe),prepareSymbolSize(g,n,L,V,oe,pe.boundingLength,pe.pxSign,ue,$,pe),prepareLineWidth(r,pe.symbolScale,le,$,pe);var he=pe.symbolSize,_e=normalizeSymbolOffset(r.get("symbolOffset"),he);return prepareLayoutInfo(r,he,L,V,oe,_e,re,pe.valueLineWidth,pe.boundingLength,pe.repeatCutLength,$,pe),pe}function prepareBarLength(g,n,r,$,L){var V=$.valueDim,oe=g.get("symbolBoundingData"),re=$.coordSys.getOtherAxis($.coordSys.getBaseAxis()),ae=re.toGlobalCoord(re.dataToCoord(0)),le=1-+(r[V.wh]<=0),ue;if(isArray$6(oe)){var de=[convertToCoordOnAxis(re,oe[0])-ae,convertToCoordOnAxis(re,oe[1])-ae];de[1]<de[0]&&de.reverse(),ue=de[le]}else oe!=null?ue=convertToCoordOnAxis(re,oe)-ae:n?ue=$.coordSysExtent[V.index][le]-ae:ue=r[V.wh];L.boundingLength=ue,n&&(L.repeatCutLength=r[V.wh]),L.pxSign=ue>0?1:-1}function convertToCoordOnAxis(g,n){return g.toGlobalCoord(g.dataToCoord(g.scale.parse(n)))}function prepareSymbolSize(g,n,r,$,L,V,oe,re,ae,le){var ue=ae.valueDim,de=ae.categoryDim,pe=Math.abs(r[de.wh]),he=g.getItemVisual(n,"symbolSize"),_e;isArray$6(he)?_e=he.slice():he==null?_e=["100%","100%"]:_e=[he,he],_e[de.index]=parsePercent(_e[de.index],pe),_e[ue.index]=parsePercent(_e[ue.index],$?pe:Math.abs(V)),le.symbolSize=_e;var Oe=le.symbolScale=[_e[0]/re,_e[1]/re];Oe[ue.index]*=(ae.isHorizontal?-1:1)*oe}function prepareLineWidth(g,n,r,$,L){var V=g.get(BAR_BORDER_WIDTH_QUERY)||0;V&&(pathForLineWidth.attr({scaleX:n[0],scaleY:n[1],rotation:r}),pathForLineWidth.updateTransform(),V/=pathForLineWidth.getLineScale(),V*=n[$.valueDim.index]),L.valueLineWidth=V||0}function prepareLayoutInfo(g,n,r,$,L,V,oe,re,ae,le,ue,de){var pe=ue.categoryDim,he=ue.valueDim,_e=de.pxSign,Oe=Math.max(n[he.index]+re,0),xe=Oe;if($){var $e=Math.abs(ae),Ie=retrieve(g.get("symbolMargin"),"15%")+"",Ne=!1;Ie.lastIndexOf("!")===Ie.length-1&&(Ne=!0,Ie=Ie.slice(0,Ie.length-1));var ze=parsePercent(Ie,n[he.index]),Ue=Math.max(Oe+ze*2,0),Fe=Ne?0:ze*2,qe=isNumeric($),Et=qe?$:toIntTimes(($e+Fe)/Ue),At=$e-Et*Oe;ze=At/2/(Ne?Et:Math.max(Et-1,1)),Ue=Oe+ze*2,Fe=Ne?0:ze*2,!qe&&$!=="fixed"&&(Et=le?toIntTimes((Math.abs(le)+Fe)/Ue):0),xe=Et*Ue-Fe,de.repeatTimes=Et,de.symbolMargin=ze}var kt=_e*(xe/2),Dt=de.pathPosition=[];Dt[pe.index]=r[pe.wh]/2,Dt[he.index]=oe==="start"?kt:oe==="end"?ae-kt:ae/2,V&&(Dt[0]+=V[0],Dt[1]+=V[1]);var jt=de.bundlePosition=[];jt[pe.index]=r[pe.xy],jt[he.index]=r[he.xy];var Lt=de.barRectShape=extend$3({},r);Lt[he.wh]=_e*Math.max(Math.abs(r[he.wh]),Math.abs(Dt[he.index]+kt)),Lt[pe.wh]=r[pe.wh];var hn=de.clipShape={};hn[pe.xy]=-r[pe.xy],hn[pe.wh]=ue.ecSize[pe.wh],hn[he.xy]=0,hn[he.wh]=r[he.wh]}function createPath(g){var n=g.symbolPatternSize,r=createSymbol$1(g.symbolType,-n/2,-n/2,n,n);return r.attr({culling:!0}),r.type!=="image"&&r.setStyle({strokeNoScale:!0}),r}function createOrUpdateRepeatSymbols(g,n,r,$){var L=g.__pictorialBundle,V=r.symbolSize,oe=r.valueLineWidth,re=r.pathPosition,ae=n.valueDim,le=r.repeatTimes||0,ue=0,de=V[n.valueDim.index]+oe+r.symbolMargin*2;for(eachPath(g,function(Oe){Oe.__pictorialAnimationIndex=ue,Oe.__pictorialRepeatTimes=le,ue<le?updateAttr(Oe,null,_e(ue),r,$):updateAttr(Oe,null,{scaleX:0,scaleY:0},r,$,function(){L.remove(Oe)}),ue++});ue<le;ue++){var pe=createPath(r);pe.__pictorialAnimationIndex=ue,pe.__pictorialRepeatTimes=le,L.add(pe);var he=_e(ue);updateAttr(pe,{x:he.x,y:he.y,scaleX:0,scaleY:0},{scaleX:he.scaleX,scaleY:he.scaleY,rotation:he.rotation},r,$)}function _e(Oe){var xe=re.slice(),$e=r.pxSign,Ie=Oe;return(r.symbolRepeatDirection==="start"?$e>0:$e<0)&&(Ie=le-1-Oe),xe[ae.index]=de*(Ie-le/2+.5)+re[ae.index],{x:xe[0],y:xe[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function createOrUpdateSingleSymbol(g,n,r,$){var L=g.__pictorialBundle,V=g.__pictorialMainPath;V?updateAttr(V,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,$):(V=g.__pictorialMainPath=createPath(r),L.add(V),updateAttr(V,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,$))}function createOrUpdateBarRect(g,n,r){var $=extend$3({},n.barRectShape),L=g.__pictorialBarRect;L?updateAttr(L,null,{shape:$},n,r):(L=g.__pictorialBarRect=new Rect$3({z2:2,shape:$,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),L.disableMorphing=!0,g.add(L))}function createOrUpdateClip(g,n,r,$){if(r.symbolClip){var L=g.__pictorialClipPath,V=extend$3({},r.clipShape),oe=n.valueDim,re=r.animationModel,ae=r.dataIndex;if(L)updateProps$1(L,{shape:V},re,ae);else{V[oe.wh]=0,L=new Rect$3({shape:V}),g.__pictorialBundle.setClipPath(L),g.__pictorialClipPath=L;var le={};le[oe.wh]=r.clipShape[oe.wh],graphic[$?"updateProps":"initProps"](L,{shape:le},re,ae)}}}function getItemModel(g,n){var r=g.getItemModel(n);return r.getAnimationDelayParams=getAnimationDelayParams,r.isAnimationEnabled=isAnimationEnabled,r}function getAnimationDelayParams(g){return{index:g.__pictorialAnimationIndex,count:g.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(g,n,r,$){var L=new Group$4,V=new Group$4;return L.add(V),L.__pictorialBundle=V,V.x=r.bundlePosition[0],V.y=r.bundlePosition[1],r.symbolRepeat?createOrUpdateRepeatSymbols(L,n,r):createOrUpdateSingleSymbol(L,n,r),createOrUpdateBarRect(L,r,$),createOrUpdateClip(L,n,r,$),L.__pictorialShapeStr=getShapeStr(g,r),L.__pictorialSymbolMeta=r,L}function updateBar(g,n,r){var $=r.animationModel,L=r.dataIndex,V=g.__pictorialBundle;updateProps$1(V,{x:r.bundlePosition[0],y:r.bundlePosition[1]},$,L),r.symbolRepeat?createOrUpdateRepeatSymbols(g,n,r,!0):createOrUpdateSingleSymbol(g,n,r,!0),createOrUpdateBarRect(g,r,!0),createOrUpdateClip(g,n,r,!0)}function removeBar(g,n,r,$){var L=$.__pictorialBarRect;L&&L.removeTextContent();var V=[];eachPath($,function(oe){V.push(oe)}),$.__pictorialMainPath&&V.push($.__pictorialMainPath),$.__pictorialClipPath&&(r=null),each$f(V,function(oe){removeElement(oe,{scaleX:0,scaleY:0},r,n,function(){$.parent&&$.parent.remove($)})}),g.setItemGraphicEl(n,null)}function getShapeStr(g,n){return[g.getItemVisual(n.dataIndex,"symbol")||"none",!!n.symbolRepeat,!!n.symbolClip].join(":")}function eachPath(g,n,r){each$f(g.__pictorialBundle.children(),function($){$!==g.__pictorialBarRect&&n.call(r,$)})}function updateAttr(g,n,r,$,L,V){n&&g.attr(n),$.symbolClip&&!L?r&&g.attr(r):r&&graphic[L?"updateProps":"initProps"](g,r,$.animationModel,$.dataIndex,V)}function updateCommon(g,n,r){var $=r.dataIndex,L=r.itemModel,V=L.getModel("emphasis"),oe=V.getModel("itemStyle").getItemStyle(),re=L.getModel(["blur","itemStyle"]).getItemStyle(),ae=L.getModel(["select","itemStyle"]).getItemStyle(),le=L.getShallow("cursor"),ue=V.get("focus"),de=V.get("blurScope"),pe=V.get("scale");eachPath(g,function(Oe){if(Oe instanceof ZRImage$1){var xe=Oe.style;Oe.useStyle(extend$3({image:xe.image,x:xe.x,y:xe.y,width:xe.width,height:xe.height},r.style))}else Oe.useStyle(r.style);var $e=Oe.ensureState("emphasis");$e.style=oe,pe&&($e.scaleX=Oe.scaleX*1.1,$e.scaleY=Oe.scaleY*1.1),Oe.ensureState("blur").style=re,Oe.ensureState("select").style=ae,le&&(Oe.cursor=le),Oe.z2=r.z2});var he=n.valueDim.posDesc[+(r.boundingLength>0)],_e=g.__pictorialBarRect;setLabelStyle(_e,getLabelStatesModels(L),{labelFetcher:n.seriesModel,labelDataIndex:$,defaultText:getDefaultLabel(n.seriesModel.getData(),$),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:he}),toggleHoverEmphasis(g,ue,de,V.get("disabled"))}function toIntTimes(g){var n=Math.round(g);return Math.abs(g-n)<1e-4?n:Math.ceil(g)}const PictorialBarView$1=PictorialBarView;var PictorialBarSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r.defaultSymbol="roundRect",r}return n.prototype.getInitialData=function(r){return r.stack=null,g.prototype.getInitialData.apply(this,arguments)},n.type="series.pictorialBar",n.dependencies=["grid"],n.defaultOption=inheritDefaultOption(BaseBarSeriesModel$1.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),n}(BaseBarSeriesModel$1);const PictorialBarSeriesModel$1=PictorialBarSeriesModel;function install$w(g){g.registerChartView(PictorialBarView$1),g.registerSeriesModel(PictorialBarSeriesModel$1),g.registerLayout(g.PRIORITY.VISUAL.LAYOUT,curry$1(layout$4,"pictorialBar")),g.registerLayout(g.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("pictorialBar"))}var ThemeRiverView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._layers=[],r}return n.prototype.render=function(r,$,L){var V=r.getData(),oe=this,re=this.group,ae=r.getLayerSeries(),le=V.getLayout("layoutInfo"),ue=le.rect,de=le.boundaryGap;re.x=0,re.y=ue.y+de[0];function pe(xe){return xe.name}var he=new DataDiffer$1(this._layersSeries||[],ae,pe,pe),_e=[];he.add(bind$3(Oe,this,"add")).update(bind$3(Oe,this,"update")).remove(bind$3(Oe,this,"remove")).execute();function Oe(xe,$e,Ie){var Ne=oe._layers;if(xe==="remove"){re.remove(Ne[$e]);return}for(var ze=[],Ue=[],Fe,qe=ae[$e].indices,Et=0;Et<qe.length;Et++){var At=V.getItemLayout(qe[Et]),kt=At.x,Dt=At.y0,jt=At.y;ze.push(kt,Dt),Ue.push(kt,Dt+jt),Fe=V.getItemVisual(qe[Et],"style")}var Lt,hn=V.getItemLayout(qe[0]),Sn=r.getModel("label"),On=Sn.get("margin"),_n=r.getModel("emphasis");if(xe==="add"){var xn=_e[$e]=new Group$4;Lt=new ECPolygon({shape:{points:ze,stackedOnPoints:Ue,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),xn.add(Lt),re.add(xn),r.isAnimationEnabled()&&Lt.setClipPath(createGridClipShape(Lt.getBoundingRect(),r,function(){Lt.removeClipPath()}))}else{var xn=Ne[Ie];Lt=xn.childAt(0),re.add(xn),_e[$e]=xn,updateProps$1(Lt,{shape:{points:ze,stackedOnPoints:Ue}},r),saveOldStyle(Lt)}setLabelStyle(Lt,getLabelStatesModels(r),{labelDataIndex:qe[Et-1],defaultText:V.getName(qe[Et-1]),inheritColor:Fe.fill},{normal:{verticalAlign:"middle"}}),Lt.setTextConfig({position:null,local:!0});var bn=Lt.getTextContent();bn&&(bn.x=hn.x-On,bn.y=hn.y0+hn.y/2),Lt.useStyle(Fe),V.setItemGraphicEl($e,Lt),setStatesStylesFromModel(Lt,r),toggleHoverEmphasis(Lt,_n.get("focus"),_n.get("blurScope"),_n.get("disabled"))}this._layersSeries=ae,this._layers=_e},n.type="themeRiver",n}(ChartView$1);function createGridClipShape(g,n,r){var $=new Rect$3({shape:{x:g.x-10,y:g.y-10,width:0,height:g.height+20}});return initProps($,{shape:{x:g.x-50,width:g.width+100,height:g.height+20}},n,r),$}const ThemeRiverView$1=ThemeRiverView;var DATA_NAME_INDEX=2,ThemeRiverSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r){g.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$3(this.getData,this),bind$3(this.getRawData,this))},n.prototype.fixData=function(r){var $=r.length,L={},V=groupData(r,function(pe){return L.hasOwnProperty(pe[0]+"")||(L[pe[0]+""]=-1),pe[2]}),oe=[];V.buckets.each(function(pe,he){oe.push({name:he,dataList:pe})});for(var re=oe.length,ae=0;ae<re;++ae){for(var le=oe[ae].name,ue=0;ue<oe[ae].dataList.length;++ue){var de=oe[ae].dataList[ue][0]+"";L[de]=ae}for(var de in L)L.hasOwnProperty(de)&&L[de]!==ae&&(L[de]=ae,r[$]=[de,0,le],$++)}return r},n.prototype.getInitialData=function(r,$){for(var L=this.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0],V=L.get("type"),oe=filter(r.data,function(_e){return _e[2]!==void 0}),re=this.fixData(oe||[]),ae=[],le=this.nameMap=createHashMap(),ue=0,de=0;de<re.length;++de)ae.push(re[de][DATA_NAME_INDEX]),le.get(re[de][DATA_NAME_INDEX])||(le.set(re[de][DATA_NAME_INDEX],ue),ue++);var pe=prepareSeriesDataSchema(re,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis(V)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,he=new SeriesData$1(pe,this);return he.initData(re),he},n.prototype.getLayerSeries=function(){for(var r=this.getData(),$=r.count(),L=[],V=0;V<$;++V)L[V]=V;var oe=r.mapDimension("single"),re=groupData(L,function(le){return r.get("name",le)}),ae=[];return re.buckets.each(function(le,ue){le.sort(function(de,pe){return r.get(oe,de)-r.get(oe,pe)}),ae.push({name:ue,indices:le})}),ae},n.prototype.getAxisTooltipData=function(r,$,L){isArray$6(r)||(r=r?[r]:[]);for(var V=this.getData(),oe=this.getLayerSeries(),re=[],ae=oe.length,le,ue=0;ue<ae;++ue){for(var de=Number.MAX_VALUE,pe=-1,he=oe[ue].indices.length,_e=0;_e<he;++_e){var Oe=V.get(r[0],oe[ue].indices[_e]),xe=Math.abs(Oe-$);xe<=de&&(le=Oe,de=xe,pe=oe[ue].indices[_e])}re.push(pe)}return{dataIndices:re,nestestValue:le}},n.prototype.formatTooltip=function(r,$,L){var V=this.getData(),oe=V.getName(r),re=V.get(V.mapDimension("value"),r);return createTooltipMarkup("nameValue",{name:oe,value:re})},n.type="series.themeRiver",n.dependencies=["singleAxis"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},n}(SeriesModel$1);const ThemeRiverSeriesModel$1=ThemeRiverSeriesModel;function themeRiverLayout(g,n){g.eachSeriesByType("themeRiver",function(r){var $=r.getData(),L=r.coordinateSystem,V={},oe=L.getRect();V.rect=oe;var re=r.get("boundaryGap"),ae=L.getAxis();if(V.boundaryGap=re,ae.orient==="horizontal"){re[0]=parsePercent(re[0],oe.height),re[1]=parsePercent(re[1],oe.height);var le=oe.height-re[0]-re[1];doThemeRiverLayout($,r,le)}else{re[0]=parsePercent(re[0],oe.width),re[1]=parsePercent(re[1],oe.width);var ue=oe.width-re[0]-re[1];doThemeRiverLayout($,r,ue)}$.setLayout("layoutInfo",V)})}function doThemeRiverLayout(g,n,r){if(g.count())for(var $=n.coordinateSystem,L=n.getLayerSeries(),V=g.mapDimension("single"),oe=g.mapDimension("value"),re=map$2(L,function(xe){return map$2(xe.indices,function($e){var Ie=$.dataToPoint(g.get(V,$e));return Ie[1]=g.get(oe,$e),Ie})}),ae=computeBaseline(re),le=ae.y0,ue=r/ae.max,de=L.length,pe=L[0].indices.length,he,_e=0;_e<pe;++_e){he=le[_e]*ue,g.setItemLayout(L[0].indices[_e],{layerIndex:0,x:re[0][_e][0],y0:he,y:re[0][_e][1]*ue});for(var Oe=1;Oe<de;++Oe)he+=re[Oe-1][_e][1]*ue,g.setItemLayout(L[Oe].indices[_e],{layerIndex:Oe,x:re[Oe][_e][0],y0:he,y:re[Oe][_e][1]*ue})}}function computeBaseline(g){for(var n=g.length,r=g[0].length,$=[],L=[],V=0,oe=0;oe<r;++oe){for(var re=0,ae=0;ae<n;++ae)re+=g[ae][oe][1];re>V&&(V=re),$.push(re)}for(var le=0;le<r;++le)L[le]=(V-$[le])/2;V=0;for(var ue=0;ue<r;++ue){var de=$[ue]+L[ue];de>V&&(V=de)}return{y0:L,max:V}}function install$v(g){g.registerChartView(ThemeRiverView$1),g.registerSeriesModel(ThemeRiverSeriesModel$1),g.registerLayout(themeRiverLayout),g.registerProcessor(dataFilter$1("themeRiver"))}var DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPiece=function(g){__extends(n,g);function n(r,$,L,V){var oe=g.call(this)||this;oe.z2=DEFAULT_SECTOR_Z,oe.textConfig={inside:!0},getECData(oe).seriesIndex=$.seriesIndex;var re=new ZRText$1({z2:DEFAULT_TEXT_Z,silent:r.getModel().get(["label","silent"])});return oe.setTextContent(re),oe.updateData(!0,r,$,L,V),oe}return n.prototype.updateData=function(r,$,L,V,oe){this.node=$,$.piece=this,L=L||this._seriesModel,V=V||this._ecModel;var re=this;getECData(re).dataIndex=$.dataIndex;var ae=$.getModel(),le=ae.getModel("emphasis"),ue=$.getLayout(),de=extend$3({},ue);de.label=null;var pe=$.getVisual("style");pe.lineJoin="bevel";var he=$.getVisual("decal");he&&(pe.decal=createOrUpdatePatternFromDecal(he,oe));var _e=getSectorCornerRadius(ae.getModel("itemStyle"),de,!0);extend$3(de,_e),each$f(SPECIAL_STATES,function(Ie){var Ne=re.ensureState(Ie),ze=ae.getModel([Ie,"itemStyle"]);Ne.style=ze.getItemStyle();var Ue=getSectorCornerRadius(ze,de);Ue&&(Ne.shape=Ue)}),r?(re.setShape(de),re.shape.r=ue.r0,initProps(re,{shape:{r:ue.r}},L,$.dataIndex)):(updateProps$1(re,{shape:de},L),saveOldStyle(re)),re.useStyle(pe),this._updateLabel(L);var Oe=ae.getShallow("cursor");Oe&&re.attr("cursor",Oe),this._seriesModel=L||this._seriesModel,this._ecModel=V||this._ecModel;var xe=le.get("focus"),$e=xe==="ancestor"?$.getAncestorsIndices():xe==="descendant"?$.getDescendantIndices():xe;toggleHoverEmphasis(this,$e,le.get("blurScope"),le.get("disabled"))},n.prototype._updateLabel=function(r){var $=this,L=this.node.getModel(),V=L.getModel("label"),oe=this.node.getLayout(),re=oe.endAngle-oe.startAngle,ae=(oe.startAngle+oe.endAngle)/2,le=Math.cos(ae),ue=Math.sin(ae),de=this,pe=de.getTextContent(),he=this.node.dataIndex,_e=V.get("minAngle")/180*Math.PI,Oe=V.get("show")&&!(_e!=null&&Math.abs(re)<_e);pe.ignore=!Oe,each$f(DISPLAY_STATES,function($e){var Ie=$e==="normal"?L.getModel("label"):L.getModel([$e,"label"]),Ne=$e==="normal",ze=Ne?pe:pe.ensureState($e),Ue=r.getFormattedLabel(he,$e);Ne&&(Ue=Ue||$.node.name),ze.style=createTextStyle(Ie,{},null,$e!=="normal",!0),Ue&&(ze.style.text=Ue);var Fe=Ie.get("show");Fe!=null&&!Ne&&(ze.ignore=!Fe);var qe=xe(Ie,"position"),Et=Ne?de:de.states[$e],At=Et.style.fill;Et.textConfig={outsideFill:Ie.get("color")==="inherit"?At:null,inside:qe!=="outside"};var kt,Dt=xe(Ie,"distance")||0,jt=xe(Ie,"align");qe==="outside"?(kt=oe.r+Dt,jt=ae>Math.PI/2?"right":"left"):!jt||jt==="center"?(re===2*Math.PI&&oe.r0===0?kt=0:kt=(oe.r+oe.r0)/2,jt="center"):jt==="left"?(kt=oe.r0+Dt,ae>Math.PI/2&&(jt="right")):jt==="right"&&(kt=oe.r-Dt,ae>Math.PI/2&&(jt="left")),ze.style.align=jt,ze.style.verticalAlign=xe(Ie,"verticalAlign")||"middle",ze.x=kt*le+oe.cx,ze.y=kt*ue+oe.cy;var Lt=xe(Ie,"rotate"),hn=0;Lt==="radial"?(hn=normalizeRadian(-ae),hn>Math.PI/2&&hn<Math.PI*1.5&&(hn+=Math.PI)):Lt==="tangential"?(hn=Math.PI/2-ae,hn>Math.PI/2?hn-=Math.PI:hn<-Math.PI/2&&(hn+=Math.PI)):isNumber$3(Lt)&&(hn=Lt*Math.PI/180),ze.rotation=normalizeRadian(hn)});function xe($e,Ie){var Ne=$e.get(Ie);return Ne!=null?Ne:V.get(Ie)}pe.dirtyStyle()},n}(Sector$1);const SunburstPiece$1=SunburstPiece;var ROOT_TO_NODE_ACTION="sunburstRootToNode",HIGHLIGHT_ACTION="sunburstHighlight",UNHIGHLIGHT_ACTION="sunburstUnhighlight";function installSunburstAction(g){g.registerAction({type:ROOT_TO_NODE_ACTION,update:"updateView"},function(n,r){r.eachComponent({mainType:"series",subType:"sunburst",query:n},$);function $(L,V){var oe=retrieveTargetInfo(n,[ROOT_TO_NODE_ACTION],L);if(oe){var re=L.getViewRoot();re&&(n.direction=aboveViewRoot(re,oe.node)?"rollUp":"drillDown"),L.resetViewRoot(oe.node)}}}),g.registerAction({type:HIGHLIGHT_ACTION,update:"none"},function(n,r,$){n=extend$3({},n),r.eachComponent({mainType:"series",subType:"sunburst",query:n},L);function L(V){var oe=retrieveTargetInfo(n,[HIGHLIGHT_ACTION],V);oe&&(n.dataIndex=oe.node.dataIndex)}$.dispatchAction(extend$3(n,{type:"highlight"}))}),g.registerAction({type:UNHIGHLIGHT_ACTION,update:"updateView"},function(n,r,$){n=extend$3({},n),$.dispatchAction(extend$3(n,{type:"downplay"}))})}var SunburstView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L,V){var oe=this;this.seriesModel=r,this.api=L,this.ecModel=$;var re=r.getData(),ae=re.tree.root,le=r.getViewRoot(),ue=this.group,de=r.get("renderLabelForZeroData"),pe=[];le.eachNode(function(Ie){pe.push(Ie)});var he=this._oldChildren||[];_e(pe,he),$e(ae,le),this._initEvents(),this._oldChildren=pe;function _e(Ie,Ne){if(Ie.length===0&&Ne.length===0)return;new DataDiffer$1(Ne,Ie,ze,ze).add(Ue).update(Ue).remove(curry$1(Ue,null)).execute();function ze(Fe){return Fe.getId()}function Ue(Fe,qe){var Et=Fe==null?null:Ie[Fe],At=qe==null?null:Ne[qe];Oe(Et,At)}}function Oe(Ie,Ne){if(!de&&Ie&&!Ie.getValue()&&(Ie=null),Ie!==ae&&Ne!==ae){if(Ne&&Ne.piece)Ie?(Ne.piece.updateData(!1,Ie,r,$,L),re.setItemGraphicEl(Ie.dataIndex,Ne.piece)):xe(Ne);else if(Ie){var ze=new SunburstPiece$1(Ie,r,$,L);ue.add(ze),re.setItemGraphicEl(Ie.dataIndex,ze)}}}function xe(Ie){!Ie||Ie.piece&&(ue.remove(Ie.piece),Ie.piece=null)}function $e(Ie,Ne){Ne.depth>0?(oe.virtualPiece?oe.virtualPiece.updateData(!1,Ie,r,$,L):(oe.virtualPiece=new SunburstPiece$1(Ie,r,$,L),ue.add(oe.virtualPiece)),Ne.piece.off("click"),oe.virtualPiece.on("click",function(ze){oe._rootToNode(Ne.parentNode)})):oe.virtualPiece&&(ue.remove(oe.virtualPiece),oe.virtualPiece=null)}},n.prototype._initEvents=function(){var r=this;this.group.off("click"),this.group.on("click",function($){var L=!1,V=r.seriesModel.getViewRoot();V.eachNode(function(oe){if(!L&&oe.piece&&oe.piece===$.target){var re=oe.getModel().get("nodeClick");if(re==="rootToNode")r._rootToNode(oe);else if(re==="link"){var ae=oe.getModel(),le=ae.get("link");if(le){var ue=ae.get("target",!0)||"_blank";windowOpen(le,ue)}}L=!0}})})},n.prototype._rootToNode=function(r){r!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION,from:this.uid,seriesId:this.seriesModel.id,targetNode:r})},n.prototype.containPoint=function(r,$){var L=$.getData(),V=L.getItemLayout(0);if(V){var oe=r[0]-V.cx,re=r[1]-V.cy,ae=Math.sqrt(oe*oe+re*re);return ae<=V.r&&ae>=V.r0}},n.type="sunburst",n}(ChartView$1);const SunburstView$1=SunburstView;var SunburstSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.ignoreStyleOnData=!0,r}return n.prototype.getInitialData=function(r,$){var L={name:r.name,children:r.data};completeTreeValue(L);var V=this._levelModels=map$2(r.levels||[],function(ae){return new Model$1(ae,this,$)},this),oe=Tree$2.createTree(L,this,re);function re(ae){ae.wrapMethod("getItemModel",function(le,ue){var de=oe.getNodeByDataIndex(ue),pe=V[de.depth];return pe&&(le.parentModel=pe),le})}return oe.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.getDataParams=function(r){var $=g.prototype.getDataParams.apply(this,arguments),L=this.getData().tree.getNodeByDataIndex(r);return $.treePathInfo=wrapTreePathInfo(L,this),$},n.prototype.getLevelModel=function(r){return this._levelModels&&this._levelModels[r.depth]},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var $=this.getRawData().tree.root;(!r||r!==$&&!$.contains(r))&&(this._viewRoot=$)},n.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},n.type="series.sunburst",n.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},n}(SeriesModel$1);function completeTreeValue(g){var n=0;each$f(g.children,function($){completeTreeValue($);var L=$.value;isArray$6(L)&&(L=L[0]),n+=L});var r=g.value;isArray$6(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=n),r<0&&(r=0),isArray$6(g.value)?g.value[0]=r:g.value=r}const SunburstSeriesModel$1=SunburstSeriesModel;var RADIAN=Math.PI/180;function sunburstLayout(g,n,r){n.eachSeriesByType(g,function($){var L=$.get("center"),V=$.get("radius");isArray$6(V)||(V=[0,V]),isArray$6(L)||(L=[L,L]);var oe=r.getWidth(),re=r.getHeight(),ae=Math.min(oe,re),le=parsePercent(L[0],oe),ue=parsePercent(L[1],re),de=parsePercent(V[0],ae/2),pe=parsePercent(V[1],ae/2),he=-$.get("startAngle")*RADIAN,_e=$.get("minAngle")*RADIAN,Oe=$.getData().tree.root,xe=$.getViewRoot(),$e=xe.depth,Ie=$.get("sort");Ie!=null&&initChildren(xe,Ie);var Ne=0;each$f(xe.children,function(On){!isNaN(On.getValue())&&Ne++});var ze=xe.getValue(),Ue=Math.PI/(ze||Ne)*2,Fe=xe.depth>0,qe=xe.height-(Fe?-1:1),Et=(pe-de)/(qe||1),At=$.get("clockwise"),kt=$.get("stillShowZeroSum"),Dt=At?1:-1,jt=function(On,_n){if(On){var xn=_n;if(On!==Oe){var bn=On.getValue(),Tn=ze===0&&kt?Ue:bn*Ue;Tn<_e&&(Tn=_e),xn=_n+Dt*Tn;var An=On.depth-$e-(Fe?-1:1),En=de+Et*An,Ln=de+Et*(An+1),Wn=$.getLevelModel(On);if(Wn){var Mn=Wn.get("r0",!0),Fn=Wn.get("r",!0),In=Wn.get("radius",!0);In!=null&&(Mn=In[0],Fn=In[1]),Mn!=null&&(En=parsePercent(Mn,ae/2)),Fn!=null&&(Ln=parsePercent(Fn,ae/2))}On.setLayout({angle:Tn,startAngle:_n,endAngle:xn,clockwise:At,cx:le,cy:ue,r0:En,r:Ln})}if(On.children&&On.children.length){var Nn=0;each$f(On.children,function(Vn){Nn+=jt(Vn,_n+Nn)})}return xn-_n}};if(Fe){var Lt=de,hn=de+Et,Sn=Math.PI*2;Oe.setLayout({angle:Sn,startAngle:he,endAngle:he+Sn,clockwise:At,cx:le,cy:ue,r0:Lt,r:hn})}jt(xe,he)})}function initChildren(g,n){var r=g.children||[];g.children=sort(r,n),r.length&&each$f(g.children,function($){initChildren($,n)})}function sort(g,n){if(isFunction$3(n)){var r=map$2(g,function(L,V){var oe=L.getValue();return{params:{depth:L.depth,height:L.height,dataIndex:L.dataIndex,getValue:function(){return oe}},index:V}});return r.sort(function(L,V){return n(L.params,V.params)}),map$2(r,function(L){return g[L.index]})}else{var $=n==="asc";return g.sort(function(L,V){var oe=(L.getValue()-V.getValue())*($?1:-1);return oe===0?(L.dataIndex-V.dataIndex)*($?-1:1):oe})}}function sunburstVisual(g){var n={};function r($,L,V){for(var oe=$;oe&&oe.depth>1;)oe=oe.parentNode;var re=L.getColorFromPalette(oe.name||oe.dataIndex+"",n);return $.depth>1&&isString$3(re)&&(re=lift(re,($.depth-1)/(V-1)*.5)),re}g.eachSeriesByType("sunburst",function($){var L=$.getData(),V=L.tree;V.eachNode(function(oe){var re=oe.getModel(),ae=re.getModel("itemStyle").getItemStyle();ae.fill||(ae.fill=r(oe,$,V.root.height));var le=L.ensureUniqueItemVisual(oe.dataIndex,"style");extend$3(le,ae)})})}function install$u(g){g.registerChartView(SunburstView$1),g.registerSeriesModel(SunburstSeriesModel$1),g.registerLayout(curry$1(sunburstLayout,"sunburst")),g.registerProcessor(curry$1(dataFilter$1,"sunburst")),g.registerVisual(sunburstVisual),installSunburstAction(g)}var STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeriesModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},n.prototype.getInitialData=function(r,$){return createSeriesData(null,this)},n.prototype.getDataParams=function(r,$,L){var V=g.prototype.getDataParams.call(this,r,$);return L&&(V.info=customInnerStore(L).info),V},n.type="series.custom",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},n}(SeriesModel$1);const CustomSeriesModel$1=CustomSeriesModel;function dataToCoordSize$3(g,n){return n=n||[0,0],map$2(["x","y"],function(r,$){var L=this.getAxis(r),V=n[$],oe=g[$]/2;return L.type==="category"?L.getBandWidth():Math.abs(L.dataToCoord(V-oe)-L.dataToCoord(V+oe))},this)}function cartesianPrepareCustom(g){var n=g.master.getRect();return{coordSys:{type:"cartesian2d",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(r){return g.dataToPoint(r)},size:bind$3(dataToCoordSize$3,g)}}}function dataToCoordSize$2(g,n){return n=n||[0,0],map$2([0,1],function(r){var $=n[r],L=g[r]/2,V=[],oe=[];return V[r]=$-L,oe[r]=$+L,V[1-r]=oe[1-r]=n[1-r],Math.abs(this.dataToPoint(V)[r]-this.dataToPoint(oe)[r])},this)}function geoPrepareCustom(g){var n=g.getBoundingRect();return{coordSys:{type:"geo",x:n.x,y:n.y,width:n.width,height:n.height,zoom:g.getZoom()},api:{coord:function(r){return g.dataToPoint(r)},size:bind$3(dataToCoordSize$2,g)}}}function dataToCoordSize$1(g,n){var r=this.getAxis(),$=n instanceof Array?n[0]:n,L=(g instanceof Array?g[0]:g)/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord($-L)-r.dataToCoord($+L))}function singlePrepareCustom(g){var n=g.getRect();return{coordSys:{type:"singleAxis",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(r){return g.dataToPoint(r)},size:bind$3(dataToCoordSize$1,g)}}}function dataToCoordSize(g,n){return n=n||[0,0],map$2(["Radius","Angle"],function(r,$){var L="get"+r+"Axis",V=this[L](),oe=n[$],re=g[$]/2,ae=V.type==="category"?V.getBandWidth():Math.abs(V.dataToCoord(oe-re)-V.dataToCoord(oe+re));return r==="Angle"&&(ae=ae*Math.PI/180),ae},this)}function polarPrepareCustom(g){var n=g.getRadiusAxis(),r=g.getAngleAxis(),$=n.getExtent();return $[0]>$[1]&&$.reverse(),{coordSys:{type:"polar",cx:g.cx,cy:g.cy,r:$[1],r0:$[0]},api:{coord:function(L){var V=n.dataToRadius(L[0]),oe=r.dataToAngle(L[1]),re=g.coordToPoint([V,oe]);return re.push(V,oe*Math.PI/180),re},size:bind$3(dataToCoordSize,g)}}}function calendarPrepareCustom(g){var n=g.getRect(),r=g.getRangeInfo();return{coordSys:{type:"calendar",x:n.x,y:n.y,width:n.width,height:n.height,cellWidth:g.getCellWidth(),cellHeight:g.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function($,L){return g.dataToPoint($,L)}}}}function isEC4CompatibleStyle(g,n,r,$){return g&&(g.legacy||g.legacy!==!1&&!r&&!$&&n!=="tspan"&&(n==="text"||hasOwn(g,"text")))}function convertFromEC4CompatibleStyle(g,n,r){var $=g,L,V,oe;if(n==="text")oe=$;else{oe={},hasOwn($,"text")&&(oe.text=$.text),hasOwn($,"rich")&&(oe.rich=$.rich),hasOwn($,"textFill")&&(oe.fill=$.textFill),hasOwn($,"textStroke")&&(oe.stroke=$.textStroke),hasOwn($,"fontFamily")&&(oe.fontFamily=$.fontFamily),hasOwn($,"fontSize")&&(oe.fontSize=$.fontSize),hasOwn($,"fontStyle")&&(oe.fontStyle=$.fontStyle),hasOwn($,"fontWeight")&&(oe.fontWeight=$.fontWeight),V={type:"text",style:oe,silent:!0},L={};var re=hasOwn($,"textPosition");r?L.position=re?$.textPosition:"inside":re&&(L.position=$.textPosition),hasOwn($,"textPosition")&&(L.position=$.textPosition),hasOwn($,"textOffset")&&(L.offset=$.textOffset),hasOwn($,"textRotation")&&(L.rotation=$.textRotation),hasOwn($,"textDistance")&&(L.distance=$.textDistance)}return convertEC4CompatibleRichItem(oe,g),each$f(oe.rich,function(ae){convertEC4CompatibleRichItem(ae,ae)}),{textConfig:L,textContent:V}}function convertEC4CompatibleRichItem(g,n){!n||(n.font=n.textFont||n.font,hasOwn(n,"textStrokeWidth")&&(g.lineWidth=n.textStrokeWidth),hasOwn(n,"textAlign")&&(g.align=n.textAlign),hasOwn(n,"textVerticalAlign")&&(g.verticalAlign=n.textVerticalAlign),hasOwn(n,"textLineHeight")&&(g.lineHeight=n.textLineHeight),hasOwn(n,"textWidth")&&(g.width=n.textWidth),hasOwn(n,"textHeight")&&(g.height=n.textHeight),hasOwn(n,"textBackgroundColor")&&(g.backgroundColor=n.textBackgroundColor),hasOwn(n,"textPadding")&&(g.padding=n.textPadding),hasOwn(n,"textBorderColor")&&(g.borderColor=n.textBorderColor),hasOwn(n,"textBorderWidth")&&(g.borderWidth=n.textBorderWidth),hasOwn(n,"textBorderRadius")&&(g.borderRadius=n.textBorderRadius),hasOwn(n,"textBoxShadowColor")&&(g.shadowColor=n.textBoxShadowColor),hasOwn(n,"textBoxShadowBlur")&&(g.shadowBlur=n.textBoxShadowBlur),hasOwn(n,"textBoxShadowOffsetX")&&(g.shadowOffsetX=n.textBoxShadowOffsetX),hasOwn(n,"textBoxShadowOffsetY")&&(g.shadowOffsetY=n.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(g,n,r){var $=g;$.textPosition=$.textPosition||r.position||"inside",r.offset!=null&&($.textOffset=r.offset),r.rotation!=null&&($.textRotation=r.rotation),r.distance!=null&&($.textDistance=r.distance);var L=$.textPosition.indexOf("inside")>=0,V=g.fill||"#000";convertToEC4RichItem($,n);var oe=$.textFill==null;return L?oe&&($.textFill=r.insideFill||"#fff",!$.textStroke&&r.insideStroke&&($.textStroke=r.insideStroke),!$.textStroke&&($.textStroke=V),$.textStrokeWidth==null&&($.textStrokeWidth=2)):(oe&&($.textFill=g.fill||r.outsideFill||"#000"),!$.textStroke&&r.outsideStroke&&($.textStroke=r.outsideStroke)),$.text=n.text,$.rich=n.rich,each$f(n.rich,function(re){convertToEC4RichItem(re,re)}),$}function convertToEC4RichItem(g,n){!n||(hasOwn(n,"fill")&&(g.textFill=n.fill),hasOwn(n,"stroke")&&(g.textStroke=n.fill),hasOwn(n,"lineWidth")&&(g.textStrokeWidth=n.lineWidth),hasOwn(n,"font")&&(g.font=n.font),hasOwn(n,"fontStyle")&&(g.fontStyle=n.fontStyle),hasOwn(n,"fontWeight")&&(g.fontWeight=n.fontWeight),hasOwn(n,"fontSize")&&(g.fontSize=n.fontSize),hasOwn(n,"fontFamily")&&(g.fontFamily=n.fontFamily),hasOwn(n,"align")&&(g.textAlign=n.align),hasOwn(n,"verticalAlign")&&(g.textVerticalAlign=n.verticalAlign),hasOwn(n,"lineHeight")&&(g.textLineHeight=n.lineHeight),hasOwn(n,"width")&&(g.textWidth=n.width),hasOwn(n,"height")&&(g.textHeight=n.height),hasOwn(n,"backgroundColor")&&(g.textBackgroundColor=n.backgroundColor),hasOwn(n,"padding")&&(g.textPadding=n.padding),hasOwn(n,"borderColor")&&(g.textBorderColor=n.borderColor),hasOwn(n,"borderWidth")&&(g.textBorderWidth=n.borderWidth),hasOwn(n,"borderRadius")&&(g.textBorderRadius=n.borderRadius),hasOwn(n,"shadowColor")&&(g.textBoxShadowColor=n.shadowColor),hasOwn(n,"shadowBlur")&&(g.textBoxShadowBlur=n.shadowBlur),hasOwn(n,"shadowOffsetX")&&(g.textBoxShadowOffsetX=n.shadowOffsetX),hasOwn(n,"shadowOffsetY")&&(g.textBoxShadowOffsetY=n.shadowOffsetY),hasOwn(n,"textShadowColor")&&(g.textShadowColor=n.textShadowColor),hasOwn(n,"textShadowBlur")&&(g.textShadowBlur=n.textShadowBlur),hasOwn(n,"textShadowOffsetX")&&(g.textShadowOffsetX=n.textShadowOffsetX),hasOwn(n,"textShadowOffsetY")&&(g.textShadowOffsetY=n.textShadowOffsetY))}var LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=keys$2(LEGACY_TRANSFORM_PROPS_MAP);reduce(TRANSFORMABLE_PROPS,function(g,n){return g[n]=1,g},{}),TRANSFORMABLE_PROPS.join(", ");var ELEMENT_ANIMATABLE_PROPS=["","style","shape","extra"],transitionInnerStore=makeInner();function getElementAnimationConfig(g,n,r,$,L){var V=g+"Animation",oe=getAnimationConfig(g,$,L)||{},re=transitionInnerStore(n).userDuring;return oe.duration>0&&(oe.during=re?bind$3(duringCall,{el:n,userDuring:re}):null,oe.setToFinal=!0,oe.scope=g),extend$3(oe,r[V]),oe}function applyUpdateTransition(g,n,r,$){$=$||{};var L=$.dataIndex,V=$.isInit,oe=$.clearStyle,re=r.isAnimationEnabled(),ae=transitionInnerStore(g),le=n.style;ae.userDuring=n.during;var ue={},de={};if(prepareTransformAllPropsFinal(g,n,de),prepareShapeOrExtraAllPropsFinal("shape",n,de),prepareShapeOrExtraAllPropsFinal("extra",n,de),!V&&re&&(prepareTransformTransitionFrom(g,n,ue),prepareShapeOrExtraTransitionFrom("shape",g,n,ue),prepareShapeOrExtraTransitionFrom("extra",g,n,ue),prepareStyleTransitionFrom(g,n,le,ue)),de.style=le,applyPropsDirectly(g,de,oe),applyMiscProps(g,n),re)if(V){var pe={};each$f(ELEMENT_ANIMATABLE_PROPS,function(_e){var Oe=_e?n[_e]:n;Oe&&Oe.enterFrom&&(_e&&(pe[_e]=pe[_e]||{}),extend$3(_e?pe[_e]:pe,Oe.enterFrom))});var he=getElementAnimationConfig("enter",g,n,r,L);he.duration>0&&g.animateFrom(pe,he)}else applyPropsTransition(g,n,L||0,r,ue);updateLeaveTo(g,n),le?g.dirty():g.markRedraw()}function updateLeaveTo(g,n){for(var r=transitionInnerStore(g).leaveToProps,$=0;$<ELEMENT_ANIMATABLE_PROPS.length;$++){var L=ELEMENT_ANIMATABLE_PROPS[$],V=L?n[L]:n;V&&V.leaveTo&&(r||(r=transitionInnerStore(g).leaveToProps={}),L&&(r[L]=r[L]||{}),extend$3(L?r[L]:r,V.leaveTo))}}function applyLeaveTransition(g,n,r,$){if(g){var L=g.parent,V=transitionInnerStore(g).leaveToProps;if(V){var oe=getElementAnimationConfig("update",g,n,r,0);oe.done=function(){L.remove(g),$&&$()},g.animateTo(V,oe)}else L.remove(g),$&&$()}}function isTransitionAll(g){return g==="all"}function applyPropsDirectly(g,n,r){var $=n.style;if(!g.isGroup&&$){if(r){g.useStyle({});for(var L=g.animators,V=0;V<L.length;V++){var oe=L[V];oe.targetName==="style"&&oe.changeTarget(g.style)}}g.setStyle($)}n&&(n.style=null,n&&g.attr(n),n.style=$)}function applyPropsTransition(g,n,r,$,L){if(L){var V=getElementAnimationConfig("update",g,n,$,r);V.duration>0&&g.animateFrom(L,V)}}function applyMiscProps(g,n){hasOwn(n,"silent")&&(g.silent=n.silent),hasOwn(n,"ignore")&&(g.ignore=n.ignore),g instanceof Displayable$1&&hasOwn(n,"invisible")&&(g.invisible=n.invisible),g instanceof Path$1&&hasOwn(n,"autoBatch")&&(g.autoBatch=n.autoBatch)}var tmpDuringScope={},transitionDuringAPI={setTransform:function(g,n){return tmpDuringScope.el[g]=n,this},getTransform:function(g){return tmpDuringScope.el[g]},setShape:function(g,n){var r=tmpDuringScope.el,$=r.shape||(r.shape={});return $[g]=n,r.dirtyShape&&r.dirtyShape(),this},getShape:function(g){var n=tmpDuringScope.el.shape;if(n)return n[g]},setStyle:function(g,n){var r=tmpDuringScope.el,$=r.style;return $&&($[g]=n,r.dirtyStyle&&r.dirtyStyle()),this},getStyle:function(g){var n=tmpDuringScope.el.style;if(n)return n[g]},setExtra:function(g,n){var r=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return r[g]=n,this},getExtra:function(g){var n=tmpDuringScope.el.extra;if(n)return n[g]}};function duringCall(){var g=this,n=g.el;if(n){var r=transitionInnerStore(n).userDuring,$=g.userDuring;if(r!==$){g.el=g.userDuring=null;return}tmpDuringScope.el=n,$(transitionDuringAPI)}}function prepareShapeOrExtraTransitionFrom(g,n,r,$){var L=r[g];if(L){var V=n[g],oe;if(V){var re=r.transition,ae=L.transition;if(ae)if(!oe&&(oe=$[g]={}),isTransitionAll(ae))extend$3(oe,V);else for(var le=normalizeToArray(ae),ue=0;ue<le.length;ue++){var de=le[ue],pe=V[de];oe[de]=pe}else if(isTransitionAll(re)||indexOf(re,g)>=0){!oe&&(oe=$[g]={});for(var he=keys$2(V),ue=0;ue<he.length;ue++){var de=he[ue],pe=V[de];isNonStyleTransitionEnabled(L[de],pe)&&(oe[de]=pe)}}}}}function prepareShapeOrExtraAllPropsFinal(g,n,r){var $=n[g];if($)for(var L=r[g]={},V=keys$2($),oe=0;oe<V.length;oe++){var re=V[oe];L[re]=cloneValue($[re])}}function prepareTransformTransitionFrom(g,n,r){for(var $=n.transition,L=isTransitionAll($)?TRANSFORMABLE_PROPS:normalizeToArray($||[]),V=0;V<L.length;V++){var oe=L[V];if(!(oe==="style"||oe==="shape"||oe==="extra")){var re=g[oe];r[oe]=re}}}function prepareTransformAllPropsFinal(g,n,r){for(var $=0;$<LEGACY_TRANSFORM_PROPS.length;$++){var L=LEGACY_TRANSFORM_PROPS[$],V=LEGACY_TRANSFORM_PROPS_MAP[L],oe=n[L];oe&&(r[V[0]]=oe[0],r[V[1]]=oe[1])}for(var $=0;$<TRANSFORMABLE_PROPS.length;$++){var re=TRANSFORMABLE_PROPS[$];n[re]!=null&&(r[re]=n[re])}}function prepareStyleTransitionFrom(g,n,r,$){if(r){var L=g.style,V;if(L){var oe=r.transition,re=n.transition;if(oe&&!isTransitionAll(oe)){var ae=normalizeToArray(oe);!V&&(V=$.style={});for(var le=0;le<ae.length;le++){var ue=ae[le],de=L[ue];V[ue]=de}}else if(g.getAnimationStyleProps&&(isTransitionAll(re)||isTransitionAll(oe)||indexOf(re,"style")>=0)){var pe=g.getAnimationStyleProps(),he=pe?pe.style:null;if(he){!V&&(V=$.style={});for(var _e=keys$2(r),le=0;le<_e.length;le++){var ue=_e[le];if(he[ue]){var de=L[ue];V[ue]=de}}}}}}}function isNonStyleTransitionEnabled(g,n){return isArrayLike$1(g)?g!==n:g!=null&&isFinite(g)}var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(g){g.stopAnimation("keyframe"),g.attr(getStateToRestore(g))}function applyKeyframeAnimation(g,n,r){if(!(!r.isAnimationEnabled()||!n)){if(isArray$6(n)){each$f(n,function(re){applyKeyframeAnimation(g,re,r)});return}var $=n.keyframes,L=n.duration;if(r&&L==null){var V=getAnimationConfig("enter",r,0);L=V&&V.duration}if(!(!$||!L)){var oe=getStateToRestore(g);each$f(ELEMENT_ANIMATABLE_PROPS,function(re){if(!(re&&!g[re])){var ae;$.sort(function(le,ue){return le.percent-ue.percent}),each$f($,function(le){var ue=g.animators,de=re?le[re]:le;if(de){var pe=keys$2(de);if(re||(pe=filter(pe,function(Oe){return indexOf(KEYFRAME_EXCLUDE_KEYS,Oe)<0})),!!pe.length){ae||(ae=g.animate(re,n.loop,!0),ae.scope="keyframe");for(var he=0;he<ue.length;he++)ue[he]!==ae&&ue[he].targetName===ae.targetName&&ue[he].stopTracks(pe);re&&(oe[re]=oe[re]||{});var _e=re?oe[re]:oe;each$f(pe,function(Oe){_e[Oe]=((re?g[re]:g)||{})[Oe]}),ae.whenWithKeys(L*le.percent,de,pe,le.easing)}}}),ae&&ae.delay(n.delay||0).duration(L).start(n.easing)}})}}}var EMPHASIS="emphasis",NORMAL="normal",BLUR="blur",SELECT="select",STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:[EMPHASIS,"itemStyle"],blur:[BLUR,"itemStyle"],select:[SELECT,"itemStyle"]},PATH_LABEL={normal:["label"],emphasis:[EMPHASIS,"label"],blur:[BLUR,"label"],select:[SELECT,"label"]},DEFAULT_TRANSITION=["x","y"],GROUP_DIFF_PREFIX="e\0\0",attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,single:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function isPath(g){return g instanceof Path$1}function isDisplayable(g){return g instanceof Displayable$1}function copyElement(g,n){n.copyTransform(g),isDisplayable(n)&&isDisplayable(g)&&(n.setStyle(g.style),n.z=g.z,n.z2=g.z2,n.zlevel=g.zlevel,n.invisible=g.invisible,n.ignore=g.ignore,isPath(n)&&isPath(g)&&n.setShape(g.shape))}var CustomChartView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L,V){this._progressiveEls=null;var oe=this._data,re=r.getData(),ae=this.group,le=makeRenderItem(r,re,$,L);oe||ae.removeAll(),re.diff(oe).add(function(de){createOrUpdateItem(L,null,de,le(de,V),r,ae,re)}).remove(function(de){var pe=oe.getItemGraphicEl(de);pe&&applyLeaveTransition(pe,customInnerStore(pe).option,r)}).update(function(de,pe){var he=oe.getItemGraphicEl(pe);createOrUpdateItem(L,he,de,le(de,V),r,ae,re)}).execute();var ue=r.get("clip",!0)?createClipPath(r.coordinateSystem,!1,r):null;ue?ae.setClipPath(ue):ae.removeClipPath(),this._data=re},n.prototype.incrementalPrepareRender=function(r,$,L){this.group.removeAll(),this._data=null},n.prototype.incrementalRender=function(r,$,L,V,oe){var re=$.getData(),ae=makeRenderItem($,re,L,V),le=this._progressiveEls=[];function ue(he){he.isGroup||(he.incremental=!0,he.ensureState("emphasis").hoverLayer=!0)}for(var de=r.start;de<r.end;de++){var pe=createOrUpdateItem(null,null,de,ae(de,oe),$,this.group,re);pe&&(pe.traverse(ue),le.push(pe))}},n.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},n.prototype.filterForExposedEvent=function(r,$,L,V){var oe=$.element;if(oe==null||L.name===oe)return!0;for(;(L=L.__hostTarget||L.parent)&&L!==this.group;)if(L.name===oe)return!0;return!1},n.type="custom",n}(ChartView$1);const CustomChartView$1=CustomChartView;function createEl$1(g){var n=g.type,r;if(n==="path"){var $=g.shape,L=$.width!=null&&$.height!=null?{x:$.x||0,y:$.y||0,width:$.width,height:$.height}:null,V=getPathData($);r=makePath(V,null,L,$.layout||"center"),customInnerStore(r).customPathData=V}else if(n==="image")r=new ZRImage$1({}),customInnerStore(r).customImagePath=g.style.image;else if(n==="text")r=new ZRText$1({});else if(n==="group")r=new Group$4;else{if(n==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var oe=getShapeClass(n);if(!oe){var re="";throwError$1(re)}r=new oe}return customInnerStore(r).customGraphicType=n,r.name=g.name,r.z2EmphasisLift=1,r.z2SelectLift=1,r}function updateElNormal(g,n,r,$,L,V,oe){stopPreviousKeyframeAnimationAndRestore(n);var re=L&&L.normal.cfg;re&&n.setTextConfig(re),$&&$.transition==null&&($.transition=DEFAULT_TRANSITION);var ae=$&&$.style;if(ae){if(n.type==="text"){var le=ae;hasOwn(le,"textFill")&&(le.fill=le.textFill),hasOwn(le,"textStroke")&&(le.stroke=le.textStroke)}var ue=void 0,de=isPath(n)?ae.decal:null;g&&de&&(de.dirty=!0,ue=createOrUpdatePatternFromDecal(de,g)),ae.__decalPattern=ue}if(isDisplayable(n)&&ae){var ue=ae.__decalPattern;ue&&(ae.decal=ue)}applyUpdateTransition(n,$,V,{dataIndex:r,isInit:oe,clearStyle:!0}),applyKeyframeAnimation(n,$.keyframeAnimation,V)}function updateElOnState(g,n,r,$,L){var V=n.isGroup?null:n,oe=L&&L[g].cfg;if(V){var re=V.ensureState(g);if($===!1){var ae=V.getState(g);ae&&(ae.style=null)}else re.style=$||null;oe&&(re.textConfig=oe),setDefaultStateProxy(V)}}function updateZ(g,n,r){if(!g.isGroup){var $=g,L=r.currentZ,V=r.currentZLevel;$.z=L,$.zlevel=V;var oe=n.z2;oe!=null&&($.z2=oe||0);for(var re=0;re<STATES.length;re++)updateZForEachState($,n,STATES[re])}}function updateZForEachState(g,n,r){var $=r===NORMAL,L=$?n:retrieveStateOption(n,r),V=L?L.z2:null,oe;V!=null&&(oe=$?g:g.ensureState(r),oe.z2=V||0)}function makeRenderItem(g,n,r,$){var L=g.get("renderItem"),V=g.coordinateSystem,oe={};V&&(oe=V.prepareCustoms?V.prepareCustoms(V):prepareCustoms[V.type](V));for(var re=defaults$5({getWidth:$.getWidth,getHeight:$.getHeight,getZr:$.getZr,getDevicePixelRatio:$.getDevicePixelRatio,value:ze,style:Fe,ordinalRawValue:Ue,styleEmphasis:qe,visual:kt,barLayout:Dt,currentSeriesIndices:jt,font:Lt},oe.api||{}),ae={context:{},seriesId:g.id,seriesName:g.name,seriesIndex:g.seriesIndex,coordSys:oe.coordSys,dataInsideLength:n.count(),encode:wrapEncodeDef(g.getData())},le,ue,de={},pe={},he={},_e={},Oe=0;Oe<STATES.length;Oe++){var xe=STATES[Oe];he[xe]=g.getModel(PATH_ITEM_STYLE[xe]),_e[xe]=g.getModel(PATH_LABEL[xe])}function $e(hn){return hn===le?ue||(ue=n.getItemModel(hn)):n.getItemModel(hn)}function Ie(hn,Sn){return n.hasItemOption?hn===le?de[Sn]||(de[Sn]=$e(hn).getModel(PATH_ITEM_STYLE[Sn])):$e(hn).getModel(PATH_ITEM_STYLE[Sn]):he[Sn]}function Ne(hn,Sn){return n.hasItemOption?hn===le?pe[Sn]||(pe[Sn]=$e(hn).getModel(PATH_LABEL[Sn])):$e(hn).getModel(PATH_LABEL[Sn]):_e[Sn]}return function(hn,Sn){return le=hn,ue=null,de={},pe={},L&&L(defaults$5({dataIndexInside:hn,dataIndex:n.getRawIndex(hn),actionType:Sn?Sn.type:null},ae),re)};function ze(hn,Sn){return Sn==null&&(Sn=le),n.getStore().get(n.getDimensionIndex(hn||0),Sn)}function Ue(hn,Sn){Sn==null&&(Sn=le),hn=hn||0;var On=n.getDimensionInfo(hn);if(!On){var _n=n.getDimensionIndex(hn);return _n>=0?n.getStore().get(_n,Sn):void 0}var xn=n.get(On.name,Sn),bn=On&&On.ordinalMeta;return bn?bn.categories[xn]:xn}function Fe(hn,Sn){Sn==null&&(Sn=le);var On=n.getItemVisual(Sn,"style"),_n=On&&On.fill,xn=On&&On.opacity,bn=Ie(Sn,NORMAL).getItemStyle();_n!=null&&(bn.fill=_n),xn!=null&&(bn.opacity=xn);var Tn={inheritColor:isString$3(_n)?_n:"#000"},An=Ne(Sn,NORMAL),En=createTextStyle(An,null,Tn,!1,!0);En.text=An.getShallow("show")?retrieve2(g.getFormattedLabel(Sn,NORMAL),getDefaultLabel(n,Sn)):null;var Ln=createTextConfig(An,Tn,!1);return At(hn,bn),bn=convertToEC4StyleForCustomSerise(bn,En,Ln),hn&&Et(bn,hn),bn.legacy=!0,bn}function qe(hn,Sn){Sn==null&&(Sn=le);var On=Ie(Sn,EMPHASIS).getItemStyle(),_n=Ne(Sn,EMPHASIS),xn=createTextStyle(_n,null,null,!0,!0);xn.text=_n.getShallow("show")?retrieve3(g.getFormattedLabel(Sn,EMPHASIS),g.getFormattedLabel(Sn,NORMAL),getDefaultLabel(n,Sn)):null;var bn=createTextConfig(_n,null,!0);return At(hn,On),On=convertToEC4StyleForCustomSerise(On,xn,bn),hn&&Et(On,hn),On.legacy=!0,On}function Et(hn,Sn){for(var On in Sn)hasOwn(Sn,On)&&(hn[On]=Sn[On])}function At(hn,Sn){hn&&(hn.textFill&&(Sn.textFill=hn.textFill),hn.textPosition&&(Sn.textPosition=hn.textPosition))}function kt(hn,Sn){if(Sn==null&&(Sn=le),hasOwn(STYLE_VISUAL_TYPE,hn)){var On=n.getItemVisual(Sn,"style");return On?On[STYLE_VISUAL_TYPE[hn]]:null}if(hasOwn(NON_STYLE_VISUAL_PROPS,hn))return n.getItemVisual(Sn,hn)}function Dt(hn){if(V.type==="cartesian2d"){var Sn=V.getBaseAxis();return getLayoutOnAxis(defaults$5({axis:Sn},hn))}}function jt(){return r.getCurrentSeriesIndices()}function Lt(hn){return getFont(hn,r)}}function wrapEncodeDef(g){var n={};return each$f(g.dimensions,function(r){var $=g.getDimensionInfo(r);if(!$.isExtraCoord){var L=$.coordDim,V=n[L]=n[L]||[];V[$.coordDimIndex]=g.getDimensionIndex(r)}}),n}function createOrUpdateItem(g,n,r,$,L,V,oe){if(!$){V.remove(n);return}var re=doCreateOrUpdateEl(g,n,r,$,L,V);return re&&oe.setItemGraphicEl(r,re),re&&toggleHoverEmphasis(re,$.focus,$.blurScope,$.emphasisDisabled),re}function doCreateOrUpdateEl(g,n,r,$,L,V){var oe=-1,re=n;n&&doesElNeedRecreate(n,$,L)&&(oe=indexOf(V.childrenRef(),n),n=null);var ae=!n,le=n;le?le.clearStates():(le=createEl$1($),re&&copyElement(re,le)),$.morph===!1?le.disableMorphing=!0:le.disableMorphing&&(le.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(le,r,$,L,ae,attachedTxInfoTmp),doCreateOrUpdateClipPath(le,r,$,L,ae),updateElNormal(g,le,r,$,attachedTxInfoTmp,L,ae),hasOwn($,"info")&&(customInnerStore(le).info=$.info);for(var ue=0;ue<STATES.length;ue++){var de=STATES[ue];if(de!==NORMAL){var pe=retrieveStateOption($,de),he=retrieveStyleOptionOnState($,pe,de);updateElOnState(de,le,pe,he,attachedTxInfoTmp)}}return updateZ(le,$,L),$.type==="group"&&mergeChildren(g,le,r,$,L),oe>=0?V.replaceAt(le,oe):V.add(le),le}function doesElNeedRecreate(g,n,r){var $=customInnerStore(g),L=n.type,V=n.shape,oe=n.style;return r.isUniversalTransitionEnabled()||L!=null&&L!==$.customGraphicType||L==="path"&&hasOwnPathData(V)&&getPathData(V)!==$.customPathData||L==="image"&&hasOwn(oe,"image")&&oe.image!==$.customImagePath}function doCreateOrUpdateClipPath(g,n,r,$,L){var V=r.clipPath;if(V===!1)g&&g.getClipPath()&&g.removeClipPath();else if(V){var oe=g.getClipPath();oe&&doesElNeedRecreate(oe,V,$)&&(oe=null),oe||(oe=createEl$1(V),g.setClipPath(oe)),updateElNormal(null,oe,n,V,null,$,L)}}function doCreateOrUpdateAttachedTx(g,n,r,$,L,V){if(!g.isGroup){processTxInfo(r,null,V),processTxInfo(r,EMPHASIS,V);var oe=V.normal.conOpt,re=V.emphasis.conOpt,ae=V.blur.conOpt,le=V.select.conOpt;if(oe!=null||re!=null||le!=null||ae!=null){var ue=g.getTextContent();if(oe===!1)ue&&g.removeTextContent();else{oe=V.normal.conOpt=oe||{type:"text"},ue?ue.clearStates():(ue=createEl$1(oe),g.setTextContent(ue)),updateElNormal(null,ue,n,oe,null,$,L);for(var de=oe&&oe.style,pe=0;pe<STATES.length;pe++){var he=STATES[pe];if(he!==NORMAL){var _e=V[he].conOpt;updateElOnState(he,ue,_e,retrieveStyleOptionOnState(oe,_e,he),null)}}de?ue.dirty():ue.markRedraw()}}}}function processTxInfo(g,n,r){var $=n?retrieveStateOption(g,n):g,L=n?retrieveStyleOptionOnState(g,$,EMPHASIS):g.style,V=g.type,oe=$?$.textConfig:null,re=g.textContent,ae=re?n?retrieveStateOption(re,n):re:null;if(L&&(r.isLegacy||isEC4CompatibleStyle(L,V,!!oe,!!ae))){r.isLegacy=!0;var le=convertFromEC4CompatibleStyle(L,V,!n);!oe&&le.textConfig&&(oe=le.textConfig),!ae&&le.textContent&&(ae=le.textContent)}if(!n&&ae){var ue=ae;!ue.type&&(ue.type="text")}var de=n?r[n]:r.normal;de.cfg=oe,de.conOpt=ae}function retrieveStateOption(g,n){return n?g?g[n]:null:g}function retrieveStyleOptionOnState(g,n,r){var $=n&&n.style;return $==null&&r===EMPHASIS&&g&&($=g.styleEmphasis),$}function mergeChildren(g,n,r,$,L){var V=$.children,oe=V?V.length:0,re=$.$mergeChildren,ae=re==="byName"||$.diffChildrenByName,le=re===!1;if(!(!oe&&!ae&&!le)){if(ae){diffGroupChildren({api:g,oldChildren:n.children()||[],newChildren:V||[],dataIndex:r,seriesModel:L,group:n});return}le&&n.removeAll();for(var ue=0;ue<oe;ue++){var de=V[ue],pe=n.childAt(ue);de?(de.ignore==null&&(de.ignore=!1),doCreateOrUpdateEl(g,pe,r,de,L,n)):pe.ignore=!0}for(var he=n.childCount()-1;he>=ue;he--){var _e=n.childAt(he);removeChildFromGroup(n,_e,L)}}}function removeChildFromGroup(g,n,r){n&&applyLeaveTransition(n,customInnerStore(g).option,r)}function diffGroupChildren(g){new DataDiffer$1(g.oldChildren,g.newChildren,getKey,getKey,g).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey(g,n){var r=g&&g.name;return r!=null?r:GROUP_DIFF_PREFIX+n}function processAddUpdate(g,n){var r=this.context,$=g!=null?r.newChildren[g]:null,L=n!=null?r.oldChildren[n]:null;doCreateOrUpdateEl(r.api,L,r.dataIndex,$,r.seriesModel,r.group)}function processRemove(g){var n=this.context,r=n.oldChildren[g];r&&applyLeaveTransition(r,customInnerStore(r).option,n.seriesModel)}function getPathData(g){return g&&(g.pathData||g.d)}function hasOwnPathData(g){return g&&(hasOwn(g,"pathData")||hasOwn(g,"d"))}function install$t(g){g.registerChartView(CustomChartView$1),g.registerSeriesModel(CustomSeriesModel$1)}var inner$b=makeInner(),clone$2=clone$5,bind$2=bind$3,BaseAxisPointer=function(){function g(){this._dragging=!1,this.animationThreshold=15}return g.prototype.render=function(n,r,$,L){var V=r.get("value"),oe=r.get("status");if(this._axisModel=n,this._axisPointerModel=r,this._api=$,!(!L&&this._lastValue===V&&this._lastStatus===oe)){this._lastValue=V,this._lastStatus=oe;var re=this._group,ae=this._handle;if(!oe||oe==="hide"){re&&re.hide(),ae&&ae.hide();return}re&&re.show(),ae&&ae.show();var le={};this.makeElOption(le,V,n,r,$);var ue=le.graphicKey;ue!==this._lastGraphicKey&&this.clear($),this._lastGraphicKey=ue;var de=this._moveAnimation=this.determineAnimation(n,r);if(!re)re=this._group=new Group$4,this.createPointerEl(re,le,n,r),this.createLabelEl(re,le,n,r),$.getZr().add(re);else{var pe=curry$1(updateProps,r,de);this.updatePointerEl(re,le,pe),this.updateLabelEl(re,le,pe,r)}updateMandatoryProps(re,r,!0),this._renderHandle(V)}},g.prototype.remove=function(n){this.clear(n)},g.prototype.dispose=function(n){this.clear(n)},g.prototype.determineAnimation=function(n,r){var $=r.get("animation"),L=n.axis,V=L.type==="category",oe=r.get("snap");if(!oe&&!V)return!1;if($==="auto"||$==null){var re=this.animationThreshold;if(V&&L.getBandWidth()>re)return!0;if(oe){var ae=getAxisInfo$1(n).seriesDataCount,le=L.getExtent();return Math.abs(le[0]-le[1])/ae>re}return!1}return $===!0},g.prototype.makeElOption=function(n,r,$,L,V){},g.prototype.createPointerEl=function(n,r,$,L){var V=r.pointer;if(V){var oe=inner$b(n).pointerEl=new graphic[V.type](clone$2(r.pointer));n.add(oe)}},g.prototype.createLabelEl=function(n,r,$,L){if(r.label){var V=inner$b(n).labelEl=new ZRText$1(clone$2(r.label));n.add(V),updateLabelShowHide(V,L)}},g.prototype.updatePointerEl=function(n,r,$){var L=inner$b(n).pointerEl;L&&r.pointer&&(L.setStyle(r.pointer.style),$(L,{shape:r.pointer.shape}))},g.prototype.updateLabelEl=function(n,r,$,L){var V=inner$b(n).labelEl;V&&(V.setStyle(r.label.style),$(V,{x:r.label.x,y:r.label.y}),updateLabelShowHide(V,L))},g.prototype._renderHandle=function(n){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,$=this._api.getZr(),L=this._handle,V=r.getModel("handle"),oe=r.get("status");if(!V.get("show")||!oe||oe==="hide"){L&&$.remove(L),this._handle=null;return}var re;this._handle||(re=!0,L=this._handle=createIcon(V.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(le){stop(le.event)},onmousedown:bind$2(this._onHandleDragMove,this,0,0),drift:bind$2(this._onHandleDragMove,this),ondragend:bind$2(this._onHandleDragEnd,this)}),$.add(L)),updateMandatoryProps(L,r,!1),L.setStyle(V.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var ae=V.get("size");isArray$6(ae)||(ae=[ae,ae]),L.scaleX=ae[0]/2,L.scaleY=ae[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",V.get("throttle")||0,"fixRate"),this._moveHandleToValue(n,re)}},g.prototype._moveHandleToValue=function(n,r){updateProps(this._axisPointerModel,!r&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(n,this._axisModel,this._axisPointerModel)))},g.prototype._onHandleDragMove=function(n,r){var $=this._handle;if($){this._dragging=!0;var L=this.updateHandleTransform(getHandleTransProps($),[n,r],this._axisModel,this._axisPointerModel);this._payloadInfo=L,$.stopAnimation(),$.attr(getHandleTransProps(L)),inner$b($).lastProp=null,this._doDispatchAxisPointer()}},g.prototype._doDispatchAxisPointer=function(){var n=this._handle;if(n){var r=this._payloadInfo,$=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:$.axis.dim,axisIndex:$.componentIndex}]})}},g.prototype._onHandleDragEnd=function(){this._dragging=!1;var n=this._handle;if(n){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},g.prototype.clear=function(n){this._lastValue=null,this._lastStatus=null;var r=n.getZr(),$=this._group,L=this._handle;r&&$&&(this._lastGraphicKey=null,$&&r.remove($),L&&r.remove(L),this._group=null,this._handle=null,this._payloadInfo=null),clear$1(this,"_doDispatchAxisPointer")},g.prototype.doClear=function(){},g.prototype.buildLabel=function(n,r,$){return $=$||0,{x:n[$],y:n[1-$],width:r[$],height:r[1-$]}},g}();function updateProps(g,n,r,$){propsEqual(inner$b(r).lastProp,$)||(inner$b(r).lastProp=$,n?updateProps$1(r,$,g):(r.stopAnimation(),r.attr($)))}function propsEqual(g,n){if(isObject$6(g)&&isObject$6(n)){var r=!0;return each$f(n,function($,L){r=r&&propsEqual(g[L],$)}),!!r}else return g===n}function updateLabelShowHide(g,n){g[n.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(g){return{x:g.x||0,y:g.y||0,rotation:g.rotation||0}}function updateMandatoryProps(g,n,r){var $=n.get("z"),L=n.get("zlevel");g&&g.traverse(function(V){V.type!=="group"&&($!=null&&(V.z=$),L!=null&&(V.zlevel=L),V.silent=r)})}const BaseAxisPointer$1=BaseAxisPointer;function buildElStyle(g){var n=g.get("type"),r=g.getModel(n+"Style"),$;return n==="line"?($=r.getLineStyle(),$.fill=null):n==="shadow"&&($=r.getAreaStyle(),$.stroke=null),$}function buildLabelElOption(g,n,r,$,L){var V=r.get("value"),oe=getValueLabel(V,n.axis,n.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),re=r.getModel("label"),ae=normalizeCssArray(re.get("padding")||0),le=re.getFont(),ue=getBoundingRect(oe,le),de=L.position,pe=ue.width+ae[1]+ae[3],he=ue.height+ae[0]+ae[2],_e=L.align;_e==="right"&&(de[0]-=pe),_e==="center"&&(de[0]-=pe/2);var Oe=L.verticalAlign;Oe==="bottom"&&(de[1]-=he),Oe==="middle"&&(de[1]-=he/2),confineInContainer(de,pe,he,$);var xe=re.get("backgroundColor");(!xe||xe==="auto")&&(xe=n.get(["axisLine","lineStyle","color"])),g.label={x:de[0],y:de[1],style:createTextStyle(re,{text:oe,font:le,fill:re.getTextColor(),padding:ae,backgroundColor:xe}),z2:10}}function confineInContainer(g,n,r,$){var L=$.getWidth(),V=$.getHeight();g[0]=Math.min(g[0]+n,L)-n,g[1]=Math.min(g[1]+r,V)-r,g[0]=Math.max(g[0],0),g[1]=Math.max(g[1],0)}function getValueLabel(g,n,r,$,L){g=n.scale.parse(g);var V=n.scale.getLabel({value:g},{precision:L.precision}),oe=L.formatter;if(oe){var re={value:getAxisRawValue(n,{value:g}),axisDimension:n.dim,axisIndex:n.index,seriesData:[]};each$f($,function(ae){var le=r.getSeriesByIndex(ae.seriesIndex),ue=ae.dataIndexInside,de=le&&le.getDataParams(ue);de&&re.seriesData.push(de)}),isString$3(oe)?V=oe.replace("{value}",V):isFunction$3(oe)&&(V=oe(re))}return V}function getTransformedPosition(g,n,r){var $=create$1();return rotate($,$,r.rotation),translate$1($,$,r.position),applyTransform([g.dataToCoord(n),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],$)}function buildCartesianSingleLabelElOption(g,n,r,$,L,V){var oe=AxisBuilder$1.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=L.get(["label","margin"]),buildLabelElOption(n,$,L,V,{position:getTransformedPosition($.axis,g,r),align:oe.textAlign,verticalAlign:oe.textVerticalAlign})}function makeLineShape(g,n,r){return r=r||0,{x1:g[r],y1:g[1-r],x2:n[r],y2:n[1-r]}}function makeRectShape(g,n,r){return r=r||0,{x:g[r],y:g[1-r],width:n[r],height:n[1-r]}}function makeSectorShape(g,n,r,$,L,V){return{cx:g,cy:n,r0:r,r:$,startAngle:L,endAngle:V,clockwise:!0}}var CartesianAxisPointer=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,$,L,V,oe){var re=L.axis,ae=re.grid,le=V.get("type"),ue=getCartesian(ae,re).getOtherAxis(re).getGlobalExtent(),de=re.toGlobalCoord(re.dataToCoord($,!0));if(le&&le!=="none"){var pe=buildElStyle(V),he=pointerShapeBuilder$2[le](re,de,ue);he.style=pe,r.graphicKey=he.type,r.pointer=he}var _e=layout$3(ae.model,L);buildCartesianSingleLabelElOption($,r,_e,L,V,oe)},n.prototype.getHandleTransform=function(r,$,L){var V=layout$3($.axis.grid.model,$,{labelInside:!1});V.labelMargin=L.get(["handle","margin"]);var oe=getTransformedPosition($.axis,r,V);return{x:oe[0],y:oe[1],rotation:V.rotation+(V.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(r,$,L,V){var oe=L.axis,re=oe.grid,ae=oe.getGlobalExtent(!0),le=getCartesian(re,oe).getOtherAxis(oe).getGlobalExtent(),ue=oe.dim==="x"?0:1,de=[r.x,r.y];de[ue]+=$[ue],de[ue]=Math.min(ae[1],de[ue]),de[ue]=Math.max(ae[0],de[ue]);var pe=(le[1]+le[0])/2,he=[pe,pe];he[ue]=de[ue];var _e=[{verticalAlign:"middle"},{align:"center"}];return{x:de[0],y:de[1],rotation:r.rotation,cursorPoint:he,tooltipOption:_e[ue]}},n}(BaseAxisPointer$1);function getCartesian(g,n){var r={};return r[n.dim+"AxisIndex"]=n.index,g.getCartesian(r)}var pointerShapeBuilder$2={line:function(g,n,r){var $=makeLineShape([n,r[0]],[n,r[1]],getAxisDimIndex(g));return{type:"Line",subPixelOptimize:!0,shape:$}},shadow:function(g,n,r){var $=Math.max(1,g.getBandWidth()),L=r[1]-r[0];return{type:"Rect",shape:makeRectShape([n-$/2,r[0]],[$,L],getAxisDimIndex(g))}}};function getAxisDimIndex(g){return g.dim==="x"?0:1}const CartesianAxisPointer$1=CartesianAxisPointer;var AxisPointerModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="axisPointer",n.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},n}(ComponentModel$1);const AxisPointerModel$1=AxisPointerModel;var inner$a=makeInner(),each$8=each$f;function register(g,n,r){if(!env$1.node){var $=n.getZr();inner$a($).records||(inner$a($).records={}),initGlobalListeners($,n);var L=inner$a($).records[g]||(inner$a($).records[g]={});L.handler=r}}function initGlobalListeners(g,n){if(inner$a(g).initialized)return;inner$a(g).initialized=!0,r("click",curry$1(doEnter,"click")),r("mousemove",curry$1(doEnter,"mousemove")),r("globalout",onLeave);function r($,L){g.on($,function(V){var oe=makeDispatchAction$1(n);each$8(inner$a(g).records,function(re){re&&L(re,V,oe.dispatchAction)}),dispatchTooltipFinally(oe.pendings,n)})}}function dispatchTooltipFinally(g,n){var r=g.showTip.length,$=g.hideTip.length,L;r?L=g.showTip[r-1]:$&&(L=g.hideTip[$-1]),L&&(L.dispatchAction=null,n.dispatchAction(L))}function onLeave(g,n,r){g.handler("leave",null,r)}function doEnter(g,n,r,$){n.handler(g,r,$)}function makeDispatchAction$1(g){var n={showTip:[],hideTip:[]},r=function($){var L=n[$.type];L?L.push($):($.dispatchAction=r,g.dispatchAction($))};return{dispatchAction:r,pendings:n}}function unregister(g,n){if(!env$1.node){var r=n.getZr(),$=(inner$a(r).records||{})[g];$&&(inner$a(r).records[g]=null)}}var AxisPointerView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=$.getComponent("tooltip"),oe=r.get("triggerOn")||V&&V.get("triggerOn")||"mousemove|click";register("axisPointer",L,function(re,ae,le){oe!=="none"&&(re==="leave"||oe.indexOf(re)>=0)&&le({type:"updateAxisPointer",currTrigger:re,x:ae&&ae.offsetX,y:ae&&ae.offsetY})})},n.prototype.remove=function(r,$){unregister("axisPointer",$)},n.prototype.dispose=function(r,$){unregister("axisPointer",$)},n.type="axisPointer",n}(ComponentView$1);const AxisPointerView$1=AxisPointerView;function findPointFromSeries(g,n){var r=[],$=g.seriesIndex,L;if($==null||!(L=n.getSeriesByIndex($)))return{point:[]};var V=L.getData(),oe=queryDataIndex(V,g);if(oe==null||oe<0||isArray$6(oe))return{point:[]};var re=V.getItemGraphicEl(oe),ae=L.coordinateSystem;if(L.getTooltipPosition)r=L.getTooltipPosition(oe)||[];else if(ae&&ae.dataToPoint)if(g.isStacked){var le=ae.getBaseAxis(),ue=ae.getOtherAxis(le),de=ue.dim,pe=le.dim,he=de==="x"||de==="radius"?1:0,_e=V.mapDimension(pe),Oe=[];Oe[he]=V.get(_e,oe),Oe[1-he]=V.get(V.getCalculationInfo("stackResultDimension"),oe),r=ae.dataToPoint(Oe)||[]}else r=ae.dataToPoint(V.getValues(map$2(ae.dimensions,function($e){return V.mapDimension($e)}),oe))||[];else if(re){var xe=re.getBoundingRect().clone();xe.applyTransform(re.transform),r=[xe.x+xe.width/2,xe.y+xe.height/2]}return{point:r,el:re}}var inner$9=makeInner();function axisTrigger(g,n,r){var $=g.currTrigger,L=[g.x,g.y],V=g,oe=g.dispatchAction||bind$3(r.dispatchAction,r),re=n.getComponent("axisPointer").coordSysAxesInfo;if(re){illegalPoint(L)&&(L=findPointFromSeries({seriesIndex:V.seriesIndex,dataIndex:V.dataIndex},n).point);var ae=illegalPoint(L),le=V.axesInfo,ue=re.axesInfo,de=$==="leave"||illegalPoint(L),pe={},he={},_e={list:[],map:{}},Oe={showPointer:curry$1(showPointer,he),showTooltip:curry$1(showTooltip$1,_e)};each$f(re.coordSysMap,function($e,Ie){var Ne=ae||$e.containPoint(L);each$f(re.coordSysAxesInfo[Ie],function(ze,Ue){var Fe=ze.axis,qe=findInputAxisInfo(le,ze);if(!de&&Ne&&(!le||qe)){var Et=qe&&qe.value;Et==null&&!ae&&(Et=Fe.pointToData(L)),Et!=null&&processOnAxis(ze,Et,Oe,!1,pe)}})});var xe={};return each$f(ue,function($e,Ie){var Ne=$e.linkGroup;Ne&&!he[Ie]&&each$f(Ne.axesInfo,function(ze,Ue){var Fe=he[Ue];if(ze!==$e&&Fe){var qe=Fe.value;Ne.mapper&&(qe=$e.axis.scale.parse(Ne.mapper(qe,makeMapperParam(ze),makeMapperParam($e)))),xe[$e.key]=qe}})}),each$f(xe,function($e,Ie){processOnAxis(ue[Ie],$e,Oe,!0,pe)}),updateModelActually(he,ue,pe),dispatchTooltipActually(_e,L,g,oe),dispatchHighDownActually(ue,oe,r),pe}}function processOnAxis(g,n,r,$,L){var V=g.axis;if(!(V.scale.isBlank()||!V.containData(n))){if(!g.involveSeries){r.showPointer(g,n);return}var oe=buildPayloadsBySeries(n,g),re=oe.payloadBatch,ae=oe.snapToValue;re[0]&&L.seriesIndex==null&&extend$3(L,re[0]),!$&&g.snap&&V.containData(ae)&&ae!=null&&(n=ae),r.showPointer(g,n,re),r.showTooltip(g,oe,ae)}}function buildPayloadsBySeries(g,n){var r=n.axis,$=r.dim,L=g,V=[],oe=Number.MAX_VALUE,re=-1;return each$f(n.seriesModels,function(ae,le){var ue=ae.getData().mapDimensionsAll($),de,pe;if(ae.getAxisTooltipData){var he=ae.getAxisTooltipData(ue,g,r);pe=he.dataIndices,de=he.nestestValue}else{if(pe=ae.getData().indicesOfNearest(ue[0],g,r.type==="category"?.5:null),!pe.length)return;de=ae.getData().get(ue[0],pe[0])}if(!(de==null||!isFinite(de))){var _e=g-de,Oe=Math.abs(_e);Oe<=oe&&((Oe<oe||_e>=0&&re<0)&&(oe=Oe,re=_e,L=de,V.length=0),each$f(pe,function(xe){V.push({seriesIndex:ae.seriesIndex,dataIndexInside:xe,dataIndex:ae.getData().getRawIndex(xe)})}))}}),{payloadBatch:V,snapToValue:L}}function showPointer(g,n,r,$){g[n.key]={value:r,payloadBatch:$}}function showTooltip$1(g,n,r,$){var L=r.payloadBatch,V=n.axis,oe=V.model,re=n.axisPointerModel;if(!(!n.triggerTooltip||!L.length)){var ae=n.coordSys.model,le=makeKey(ae),ue=g.map[le];ue||(ue=g.map[le]={coordSysId:ae.id,coordSysIndex:ae.componentIndex,coordSysType:ae.type,coordSysMainType:ae.mainType,dataByAxis:[]},g.list.push(ue)),ue.dataByAxis.push({axisDim:V.dim,axisIndex:oe.componentIndex,axisType:oe.type,axisId:oe.id,value:$,valueLabelOpt:{precision:re.get(["label","precision"]),formatter:re.get(["label","formatter"])},seriesDataIndices:L.slice()})}}function updateModelActually(g,n,r){var $=r.axesInfo=[];each$f(n,function(L,V){var oe=L.axisPointerModel.option,re=g[V];re?(!L.useHandle&&(oe.status="show"),oe.value=re.value,oe.seriesDataIndices=(re.payloadBatch||[]).slice()):!L.useHandle&&(oe.status="hide"),oe.status==="show"&&$.push({axisDim:L.axis.dim,axisIndex:L.axis.model.componentIndex,value:oe.value})})}function dispatchTooltipActually(g,n,r,$){if(illegalPoint(n)||!g.list.length){$({type:"hideTip"});return}var L=((g.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};$({type:"showTip",escapeConnect:!0,x:n[0],y:n[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:L.dataIndexInside,dataIndex:L.dataIndex,seriesIndex:L.seriesIndex,dataByCoordSys:g.list})}function dispatchHighDownActually(g,n,r){var $=r.getZr(),L="axisPointerLastHighlights",V=inner$9($)[L]||{},oe=inner$9($)[L]={};each$f(g,function(le,ue){var de=le.axisPointerModel.option;de.status==="show"&&le.triggerEmphasis&&each$f(de.seriesDataIndices,function(pe){var he=pe.seriesIndex+" | "+pe.dataIndex;oe[he]=pe})});var re=[],ae=[];each$f(V,function(le,ue){!oe[ue]&&ae.push(le)}),each$f(oe,function(le,ue){!V[ue]&&re.push(le)}),ae.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:ae}),re.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:re})}function findInputAxisInfo(g,n){for(var r=0;r<(g||[]).length;r++){var $=g[r];if(n.axis.dim===$.axisDim&&n.axis.model.componentIndex===$.axisIndex)return $}}function makeMapperParam(g){var n=g.axis.model,r={},$=r.axisDim=g.axis.dim;return r.axisIndex=r[$+"AxisIndex"]=n.componentIndex,r.axisName=r[$+"AxisName"]=n.name,r.axisId=r[$+"AxisId"]=n.id,r}function illegalPoint(g){return!g||g[0]==null||isNaN(g[0])||g[1]==null||isNaN(g[1])}function install$s(g){AxisView$1.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer$1),g.registerComponentModel(AxisPointerModel$1),g.registerComponentView(AxisPointerView$1),g.registerPreprocessor(function(n){if(n){(!n.axisPointer||n.axisPointer.length===0)&&(n.axisPointer={});var r=n.axisPointer.link;r&&!isArray$6(r)&&(n.axisPointer.link=[r])}}),g.registerProcessor(g.PRIORITY.PROCESSOR.STATISTIC,function(n,r){n.getComponent("axisPointer").coordSysAxesInfo=collect(n,r)}),g.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install$r(g){use(install$P),use(install$s)}var PolarAxisPointer=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,$,L,V,oe){var re=L.axis;re.dim==="angle"&&(this.animationThreshold=Math.PI/18);var ae=re.polar,le=ae.getOtherAxis(re),ue=le.getExtent(),de=re.dataToCoord($),pe=V.get("type");if(pe&&pe!=="none"){var he=buildElStyle(V),_e=pointerShapeBuilder$1[pe](re,ae,de,ue);_e.style=he,r.graphicKey=_e.type,r.pointer=_e}var Oe=V.get(["label","margin"]),xe=getLabelPosition($,L,V,ae,Oe);buildLabelElOption(r,L,V,oe,xe)},n}(BaseAxisPointer$1);function getLabelPosition(g,n,r,$,L){var V=n.axis,oe=V.dataToCoord(g),re=$.getAngleAxis().getExtent()[0];re=re/180*Math.PI;var ae=$.getRadiusAxis().getExtent(),le,ue,de;if(V.dim==="radius"){var pe=create$1();rotate(pe,pe,re),translate$1(pe,pe,[$.cx,$.cy]),le=applyTransform([oe,-L],pe);var he=n.getModel("axisLabel").get("rotate")||0,_e=AxisBuilder$1.innerTextLayout(re,he*Math.PI/180,-1);ue=_e.textAlign,de=_e.textVerticalAlign}else{var Oe=ae[1];le=$.coordToPoint([Oe+L,oe]);var xe=$.cx,$e=$.cy;ue=Math.abs(le[0]-xe)/Oe<.3?"center":le[0]>xe?"left":"right",de=Math.abs(le[1]-$e)/Oe<.3?"middle":le[1]>$e?"top":"bottom"}return{position:le,align:ue,verticalAlign:de}}var pointerShapeBuilder$1={line:function(g,n,r,$){return g.dim==="angle"?{type:"Line",shape:makeLineShape(n.coordToPoint([$[0],r]),n.coordToPoint([$[1],r]))}:{type:"Circle",shape:{cx:n.cx,cy:n.cy,r}}},shadow:function(g,n,r,$){var L=Math.max(1,g.getBandWidth()),V=Math.PI/180;return g.dim==="angle"?{type:"Sector",shape:makeSectorShape(n.cx,n.cy,$[0],$[1],(-r-L/2)*V,(-r+L/2)*V)}:{type:"Sector",shape:makeSectorShape(n.cx,n.cy,r-L/2,r+L/2,0,Math.PI*2)}}};const PolarAxisPointer$1=PolarAxisPointer;var PolarModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.findAxisModel=function(r){var $,L=this.ecModel;return L.eachComponent(r,function(V){V.getCoordSysModel()===this&&($=V)},this),$},n.type="polar",n.dependencies=["radiusAxis","angleAxis"],n.defaultOption={z:0,center:["50%","50%"],radius:"80%"},n}(ComponentModel$1);const PolarModel$1=PolarModel;var PolarAxisModel=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",SINGLE_REFERRING).models[0]},n.type="polarAxis",n}(ComponentModel$1);mixin(PolarAxisModel,AxisModelCommonMixin);var AngleAxisModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="angleAxis",n}(PolarAxisModel),RadiusAxisModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="radiusAxis",n}(PolarAxisModel),RadiusAxis=function(g){__extends(n,g);function n(r,$){return g.call(this,"radius",r,$)||this}return n.prototype.pointToData=function(r,$){return this.polar.pointToData(r,$)[this.dim==="radius"?0:1]},n}(Axis$1);RadiusAxis.prototype.dataToRadius=Axis$1.prototype.dataToCoord,RadiusAxis.prototype.radiusToData=Axis$1.prototype.coordToData;const RadiusAxis$1=RadiusAxis;var inner$8=makeInner(),AngleAxis=function(g){__extends(n,g);function n(r,$){return g.call(this,"angle",r,$||[0,360])||this}return n.prototype.pointToData=function(r,$){return this.polar.pointToData(r,$)[this.dim==="radius"?0:1]},n.prototype.calculateCategoryInterval=function(){var r=this,$=r.getLabelModel(),L=r.scale,V=L.getExtent(),oe=L.count();if(V[1]-V[0]<1)return 0;var re=V[0],ae=r.dataToCoord(re+1)-r.dataToCoord(re),le=Math.abs(ae),ue=getBoundingRect(re==null?"":re+"",$.getFont(),"center","top"),de=Math.max(ue.height,7),pe=de/le;isNaN(pe)&&(pe=1/0);var he=Math.max(0,Math.floor(pe)),_e=inner$8(r.model),Oe=_e.lastAutoInterval,xe=_e.lastTickCount;return Oe!=null&&xe!=null&&Math.abs(Oe-he)<=1&&Math.abs(xe-oe)<=1&&Oe>he?he=Oe:(_e.lastTickCount=oe,_e.lastAutoInterval=he),he},n}(Axis$1);AngleAxis.prototype.dataToAngle=Axis$1.prototype.dataToCoord,AngleAxis.prototype.angleToData=Axis$1.prototype.coordToData;const AngleAxis$1=AngleAxis;var polarDimensions=["radius","angle"],Polar=function(){function g(n){this.dimensions=polarDimensions,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new RadiusAxis$1,this._angleAxis=new AngleAxis$1,this.axisPointerEnabled=!0,this.name=n||"",this._radiusAxis.polar=this._angleAxis.polar=this}return g.prototype.containPoint=function(n){var r=this.pointToCoord(n);return this._radiusAxis.contain(r[0])&&this._angleAxis.contain(r[1])},g.prototype.containData=function(n){return this._radiusAxis.containData(n[0])&&this._angleAxis.containData(n[1])},g.prototype.getAxis=function(n){var r="_"+n+"Axis";return this[r]},g.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},g.prototype.getAxesByScale=function(n){var r=[],$=this._angleAxis,L=this._radiusAxis;return $.scale.type===n&&r.push($),L.scale.type===n&&r.push(L),r},g.prototype.getAngleAxis=function(){return this._angleAxis},g.prototype.getRadiusAxis=function(){return this._radiusAxis},g.prototype.getOtherAxis=function(n){var r=this._angleAxis;return n===r?this._radiusAxis:r},g.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},g.prototype.getTooltipAxes=function(n){var r=n!=null&&n!=="auto"?this.getAxis(n):this.getBaseAxis();return{baseAxes:[r],otherAxes:[this.getOtherAxis(r)]}},g.prototype.dataToPoint=function(n,r){return this.coordToPoint([this._radiusAxis.dataToRadius(n[0],r),this._angleAxis.dataToAngle(n[1],r)])},g.prototype.pointToData=function(n,r){var $=this.pointToCoord(n);return[this._radiusAxis.radiusToData($[0],r),this._angleAxis.angleToData($[1],r)]},g.prototype.pointToCoord=function(n){var r=n[0]-this.cx,$=n[1]-this.cy,L=this.getAngleAxis(),V=L.getExtent(),oe=Math.min(V[0],V[1]),re=Math.max(V[0],V[1]);L.inverse?oe=re-360:re=oe+360;var ae=Math.sqrt(r*r+$*$);r/=ae,$/=ae;for(var le=Math.atan2(-$,r)/Math.PI*180,ue=le<oe?1:-1;le<oe||le>re;)le+=ue*360;return[ae,le]},g.prototype.coordToPoint=function(n){var r=n[0],$=n[1]/180*Math.PI,L=Math.cos($)*r+this.cx,V=-Math.sin($)*r+this.cy;return[L,V]},g.prototype.getArea=function(){var n=this.getAngleAxis(),r=this.getRadiusAxis(),$=r.getExtent().slice();$[0]>$[1]&&$.reverse();var L=n.getExtent(),V=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:$[0],r:$[1],startAngle:-L[0]*V,endAngle:-L[1]*V,clockwise:n.inverse,contain:function(oe,re){var ae=oe-this.cx,le=re-this.cy,ue=ae*ae+le*le-1e-4,de=this.r,pe=this.r0;return ue<=de*de&&ue>=pe*pe}}},g.prototype.convertToPixel=function(n,r,$){var L=getCoordSys$2(r);return L===this?this.dataToPoint($):null},g.prototype.convertFromPixel=function(n,r,$){var L=getCoordSys$2(r);return L===this?this.pointToData($):null},g}();function getCoordSys$2(g){var n=g.seriesModel,r=g.polarModel;return r&&r.coordinateSystem||n&&n.coordinateSystem}const Polar$1=Polar;function resizePolar(g,n,r){var $=n.get("center"),L=r.getWidth(),V=r.getHeight();g.cx=parsePercent($[0],L),g.cy=parsePercent($[1],V);var oe=g.getRadiusAxis(),re=Math.min(L,V)/2,ae=n.get("radius");ae==null?ae=[0,"100%"]:isArray$6(ae)||(ae=[0,ae]);var le=[parsePercent(ae[0],re),parsePercent(ae[1],re)];oe.inverse?oe.setExtent(le[1],le[0]):oe.setExtent(le[0],le[1])}function updatePolarScale(g,n){var r=this,$=r.getAngleAxis(),L=r.getRadiusAxis();if($.scale.setExtent(1/0,-1/0),L.scale.setExtent(1/0,-1/0),g.eachSeries(function(re){if(re.coordinateSystem===r){var ae=re.getData();each$f(getDataDimensionsOnAxis(ae,"radius"),function(le){L.scale.unionExtentFromData(ae,le)}),each$f(getDataDimensionsOnAxis(ae,"angle"),function(le){$.scale.unionExtentFromData(ae,le)})}}),niceScaleExtent($.scale,$.model),niceScaleExtent(L.scale,L.model),$.type==="category"&&!$.onBand){var V=$.getExtent(),oe=360/$.scale.count();$.inverse?V[1]+=oe:V[1]-=oe,$.setExtent(V[0],V[1])}}function isAngleAxisModel(g){return g.mainType==="angleAxis"}function setAxis(g,n){if(g.type=n.get("type"),g.scale=createScaleByModel$1(n),g.onBand=n.get("boundaryGap")&&g.type==="category",g.inverse=n.get("inverse"),isAngleAxisModel(n)){g.inverse=g.inverse!==n.get("clockwise");var r=n.get("startAngle");g.setExtent(r,r+(g.inverse?-360:360))}n.axis=g,g.model=n}var polarCreator={dimensions:polarDimensions,create:function(g,n){var r=[];return g.eachComponent("polar",function($,L){var V=new Polar$1(L+"");V.update=updatePolarScale;var oe=V.getRadiusAxis(),re=V.getAngleAxis(),ae=$.findAxisModel("radiusAxis"),le=$.findAxisModel("angleAxis");setAxis(oe,ae),setAxis(re,le),resizePolar(V,$,n),r.push(V),$.coordinateSystem=V,V.model=$}),g.eachSeries(function($){if($.get("coordinateSystem")==="polar"){var L=$.getReferringComponents("polar",SINGLE_REFERRING).models[0];$.coordinateSystem=L.coordinateSystem}}),r}};const polarCreator$1=polarCreator;var elementList=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape(g,n,r){n[1]>n[0]&&(n=n.slice().reverse());var $=g.coordToPoint([n[0],r]),L=g.coordToPoint([n[1],r]);return{x1:$[0],y1:$[1],x2:L[0],y2:L[1]}}function getRadiusIdx(g){var n=g.getRadiusAxis();return n.inverse?0:1}function fixAngleOverlap(g){var n=g[0],r=g[g.length-1];n&&r&&Math.abs(Math.abs(n.coord-r.coord)-360)<1e-4&&g.pop()}var AngleAxisView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="PolarAxisPointer",r}return n.prototype.render=function(r,$){if(this.group.removeAll(),!!r.get("show")){var L=r.axis,V=L.polar,oe=V.getRadiusAxis().getExtent(),re=L.getTicksCoords(),ae=L.getMinorTicksCoords(),le=map$2(L.getViewLabels(),function(ue){ue=clone$5(ue);var de=L.scale,pe=de.type==="ordinal"?de.getRawOrdinalNumber(ue.tickValue):ue.tickValue;return ue.coord=L.dataToCoord(pe),ue});fixAngleOverlap(le),fixAngleOverlap(re),each$f(elementList,function(ue){r.get([ue,"show"])&&(!L.scale.isBlank()||ue==="axisLine")&&angelAxisElementsBuilders[ue](this.group,r,V,re,ae,oe,le)},this)}},n.type="angleAxis",n}(AxisView$1),angelAxisElementsBuilders={axisLine:function(g,n,r,$,L,V){var oe=n.getModel(["axisLine","lineStyle"]),re=getRadiusIdx(r),ae=re?0:1,le;V[ae]===0?le=new Circle$1({shape:{cx:r.cx,cy:r.cy,r:V[re]},style:oe.getLineStyle(),z2:1,silent:!0}):le=new Ring$1({shape:{cx:r.cx,cy:r.cy,r:V[re],r0:V[ae]},style:oe.getLineStyle(),z2:1,silent:!0}),le.style.fill=null,g.add(le)},axisTick:function(g,n,r,$,L,V){var oe=n.getModel("axisTick"),re=(oe.get("inside")?-1:1)*oe.get("length"),ae=V[getRadiusIdx(r)],le=map$2($,function(ue){return new Line$4({shape:getAxisLineShape(r,[ae,ae+re],ue.coord)})});g.add(mergePath(le,{style:defaults$5(oe.getModel("lineStyle").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})}))},minorTick:function(g,n,r,$,L,V){if(L.length){for(var oe=n.getModel("axisTick"),re=n.getModel("minorTick"),ae=(oe.get("inside")?-1:1)*re.get("length"),le=V[getRadiusIdx(r)],ue=[],de=0;de<L.length;de++)for(var pe=0;pe<L[de].length;pe++)ue.push(new Line$4({shape:getAxisLineShape(r,[le,le+ae],L[de][pe].coord)}));g.add(mergePath(ue,{style:defaults$5(re.getModel("lineStyle").getLineStyle(),defaults$5(oe.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(g,n,r,$,L,V,oe){var re=n.getCategories(!0),ae=n.getModel("axisLabel"),le=ae.get("margin"),ue=n.get("triggerEvent");each$f(oe,function(de,pe){var he=ae,_e=de.tickValue,Oe=V[getRadiusIdx(r)],xe=r.coordToPoint([Oe+le,de.coord]),$e=r.cx,Ie=r.cy,Ne=Math.abs(xe[0]-$e)/Oe<.3?"center":xe[0]>$e?"left":"right",ze=Math.abs(xe[1]-Ie)/Oe<.3?"middle":xe[1]>Ie?"top":"bottom";if(re&&re[_e]){var Ue=re[_e];isObject$6(Ue)&&Ue.textStyle&&(he=new Model$1(Ue.textStyle,ae,ae.ecModel))}var Fe=new ZRText$1({silent:AxisBuilder$1.isLabelSilent(n),style:createTextStyle(he,{x:xe[0],y:xe[1],fill:he.getTextColor()||n.get(["axisLine","lineStyle","color"]),text:de.formattedLabel,align:Ne,verticalAlign:ze})});if(g.add(Fe),ue){var qe=AxisBuilder$1.makeAxisEventDataBase(n);qe.targetType="axisLabel",qe.value=de.rawLabel,getECData(Fe).eventData=qe}},this)},splitLine:function(g,n,r,$,L,V){var oe=n.getModel("splitLine"),re=oe.getModel("lineStyle"),ae=re.get("color"),le=0;ae=ae instanceof Array?ae:[ae];for(var ue=[],de=0;de<$.length;de++){var pe=le++%ae.length;ue[pe]=ue[pe]||[],ue[pe].push(new Line$4({shape:getAxisLineShape(r,V,$[de].coord)}))}for(var de=0;de<ue.length;de++)g.add(mergePath(ue[de],{style:defaults$5({stroke:ae[de%ae.length]},re.getLineStyle()),silent:!0,z:n.get("z")}))},minorSplitLine:function(g,n,r,$,L,V){if(L.length){for(var oe=n.getModel("minorSplitLine"),re=oe.getModel("lineStyle"),ae=[],le=0;le<L.length;le++)for(var ue=0;ue<L[le].length;ue++)ae.push(new Line$4({shape:getAxisLineShape(r,V,L[le][ue].coord)}));g.add(mergePath(ae,{style:re.getLineStyle(),silent:!0,z:n.get("z")}))}},splitArea:function(g,n,r,$,L,V){if($.length){var oe=n.getModel("splitArea"),re=oe.getModel("areaStyle"),ae=re.get("color"),le=0;ae=ae instanceof Array?ae:[ae];for(var ue=[],de=Math.PI/180,pe=-$[0].coord*de,he=Math.min(V[0],V[1]),_e=Math.max(V[0],V[1]),Oe=n.get("clockwise"),xe=1,$e=$.length;xe<=$e;xe++){var Ie=xe===$e?$[0].coord:$[xe].coord,Ne=le++%ae.length;ue[Ne]=ue[Ne]||[],ue[Ne].push(new Sector$1({shape:{cx:r.cx,cy:r.cy,r0:he,r:_e,startAngle:pe,endAngle:-Ie*de,clockwise:Oe},silent:!0})),pe=-Ie*de}for(var xe=0;xe<ue.length;xe++)g.add(mergePath(ue[xe],{style:defaults$5({fill:ae[xe%ae.length]},re.getAreaStyle()),silent:!0}))}}};const AngleAxisView$1=AngleAxisView;var axisBuilderAttrs$1=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$1=["splitLine","splitArea","minorSplitLine"],RadiusAxisView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="PolarAxisPointer",r}return n.prototype.render=function(r,$){if(this.group.removeAll(),!!r.get("show")){var L=this._axisGroup,V=this._axisGroup=new Group$4;this.group.add(V);var oe=r.axis,re=oe.polar,ae=re.getAngleAxis(),le=oe.getTicksCoords(),ue=oe.getMinorTicksCoords(),de=ae.getExtent()[0],pe=oe.getExtent(),he=layoutAxis(re,r,de),_e=new AxisBuilder$1(r,he);each$f(axisBuilderAttrs$1,_e.add,_e),V.add(_e.getGroup()),groupTransition(L,V,r),each$f(selfBuilderAttrs$1,function(Oe){r.get([Oe,"show"])&&!oe.scale.isBlank()&&axisElementBuilders$1[Oe](this.group,r,re,de,pe,le,ue)},this)}},n.type="radiusAxis",n}(AxisView$1),axisElementBuilders$1={splitLine:function(g,n,r,$,L,V){var oe=n.getModel("splitLine"),re=oe.getModel("lineStyle"),ae=re.get("color"),le=0;ae=ae instanceof Array?ae:[ae];for(var ue=[],de=0;de<V.length;de++){var pe=le++%ae.length;ue[pe]=ue[pe]||[],ue[pe].push(new Circle$1({shape:{cx:r.cx,cy:r.cy,r:Math.max(V[de].coord,0)}}))}for(var de=0;de<ue.length;de++)g.add(mergePath(ue[de],{style:defaults$5({stroke:ae[de%ae.length],fill:null},re.getLineStyle()),silent:!0}))},minorSplitLine:function(g,n,r,$,L,V,oe){if(oe.length){for(var re=n.getModel("minorSplitLine"),ae=re.getModel("lineStyle"),le=[],ue=0;ue<oe.length;ue++)for(var de=0;de<oe[ue].length;de++)le.push(new Circle$1({shape:{cx:r.cx,cy:r.cy,r:oe[ue][de].coord}}));g.add(mergePath(le,{style:defaults$5({fill:null},ae.getLineStyle()),silent:!0}))}},splitArea:function(g,n,r,$,L,V){if(V.length){var oe=n.getModel("splitArea"),re=oe.getModel("areaStyle"),ae=re.get("color"),le=0;ae=ae instanceof Array?ae:[ae];for(var ue=[],de=V[0].coord,pe=1;pe<V.length;pe++){var he=le++%ae.length;ue[he]=ue[he]||[],ue[he].push(new Sector$1({shape:{cx:r.cx,cy:r.cy,r0:de,r:V[pe].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),de=V[pe].coord}for(var pe=0;pe<ue.length;pe++)g.add(mergePath(ue[pe],{style:defaults$5({fill:ae[pe%ae.length]},re.getAreaStyle()),silent:!0}))}}};function layoutAxis(g,n,r){return{position:[g.cx,g.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:n.getModel("axisLabel").get("rotate"),z2:1}}const RadiusAxisView$1=RadiusAxisView;function getSeriesStackId(g){return g.get("stack")||"__ec_stack_"+g.seriesIndex}function getAxisKey(g,n){return n.dim+g.model.componentIndex}function barLayoutPolar(g,n,r){var $={},L=calRadialBar(filter(n.getSeriesByType(g),function(V){return!n.isSeriesFiltered(V)&&V.coordinateSystem&&V.coordinateSystem.type==="polar"}));n.eachSeriesByType(g,function(V){if(V.coordinateSystem.type==="polar"){var oe=V.getData(),re=V.coordinateSystem,ae=re.getBaseAxis(),le=getAxisKey(re,ae),ue=getSeriesStackId(V),de=L[le][ue],pe=de.offset,he=de.width,_e=re.getOtherAxis(ae),Oe=V.coordinateSystem.cx,xe=V.coordinateSystem.cy,$e=V.get("barMinHeight")||0,Ie=V.get("barMinAngle")||0;$[ue]=$[ue]||[];for(var Ne=oe.mapDimension(_e.dim),ze=oe.mapDimension(ae.dim),Ue=isDimensionStacked(oe,Ne),Fe=ae.dim!=="radius"||!V.get("roundCap",!0),qe=_e.dataToCoord(0),Et=0,At=oe.count();Et<At;Et++){var kt=oe.get(Ne,Et),Dt=oe.get(ze,Et),jt=kt>=0?"p":"n",Lt=qe;Ue&&($[ue][Dt]||($[ue][Dt]={p:qe,n:qe}),Lt=$[ue][Dt][jt]);var hn=void 0,Sn=void 0,On=void 0,_n=void 0;if(_e.dim==="radius"){var xn=_e.dataToCoord(kt)-qe,bn=ae.dataToCoord(Dt);Math.abs(xn)<$e&&(xn=(xn<0?-1:1)*$e),hn=Lt,Sn=Lt+xn,On=bn-pe,_n=On-he,Ue&&($[ue][Dt][jt]=Sn)}else{var Tn=_e.dataToCoord(kt,Fe)-qe,An=ae.dataToCoord(Dt);Math.abs(Tn)<Ie&&(Tn=(Tn<0?-1:1)*Ie),hn=An+pe,Sn=hn+he,On=Lt,_n=Lt+Tn,Ue&&($[ue][Dt][jt]=_n)}oe.setItemLayout(Et,{cx:Oe,cy:xe,r0:hn,r:Sn,startAngle:-On*Math.PI/180,endAngle:-_n*Math.PI/180,clockwise:On>=_n})}}})}function calRadialBar(g){var n={};each$f(g,function($,L){var V=$.getData(),oe=$.coordinateSystem,re=oe.getBaseAxis(),ae=getAxisKey(oe,re),le=re.getExtent(),ue=re.type==="category"?re.getBandWidth():Math.abs(le[1]-le[0])/V.count(),de=n[ae]||{bandWidth:ue,remainedWidth:ue,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},pe=de.stacks;n[ae]=de;var he=getSeriesStackId($);pe[he]||de.autoWidthCount++,pe[he]=pe[he]||{width:0,maxWidth:0};var _e=parsePercent($.get("barWidth"),ue),Oe=parsePercent($.get("barMaxWidth"),ue),xe=$.get("barGap"),$e=$.get("barCategoryGap");_e&&!pe[he].width&&(_e=Math.min(de.remainedWidth,_e),pe[he].width=_e,de.remainedWidth-=_e),Oe&&(pe[he].maxWidth=Oe),xe!=null&&(de.gap=xe),$e!=null&&(de.categoryGap=$e)});var r={};return each$f(n,function($,L){r[L]={};var V=$.stacks,oe=$.bandWidth,re=parsePercent($.categoryGap,oe),ae=parsePercent($.gap,1),le=$.remainedWidth,ue=$.autoWidthCount,de=(le-re)/(ue+(ue-1)*ae);de=Math.max(de,0),each$f(V,function(Oe,xe){var $e=Oe.maxWidth;$e&&$e<de&&($e=Math.min($e,le),Oe.width&&($e=Math.min($e,Oe.width)),le-=$e,Oe.width=$e,ue--)}),de=(le-re)/(ue+(ue-1)*ae),de=Math.max(de,0);var pe=0,he;each$f(V,function(Oe,xe){Oe.width||(Oe.width=de),he=Oe,pe+=Oe.width*(1+ae)}),he&&(pe-=he.width*ae);var _e=-pe/2;each$f(V,function(Oe,xe){r[L][xe]=r[L][xe]||{offset:_e,width:Oe.width},_e+=Oe.width*(1+ae)})}),r}var angleAxisExtraOption={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},radiusAxisExtraOption={splitNumber:5},PolarView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="polar",n}(ComponentView$1);function install$q(g){use(install$s),AxisView$1.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer$1),g.registerCoordinateSystem("polar",polarCreator$1),g.registerComponentModel(PolarModel$1),g.registerComponentView(PolarView),axisModelCreator(g,"angle",AngleAxisModel,angleAxisExtraOption),axisModelCreator(g,"radius",RadiusAxisModel,radiusAxisExtraOption),g.registerComponentView(AngleAxisView$1),g.registerComponentView(RadiusAxisView$1),g.registerLayout(curry$1(barLayoutPolar,"bar"))}function layout$2(g,n){n=n||{};var r=g.coordinateSystem,$=g.axis,L={},V=$.position,oe=$.orient,re=r.getRect(),ae=[re.x,re.x+re.width,re.y,re.y+re.height],le={horizontal:{top:ae[2],bottom:ae[3]},vertical:{left:ae[0],right:ae[1]}};L.position=[oe==="vertical"?le.vertical[V]:ae[0],oe==="horizontal"?le.horizontal[V]:ae[3]];var ue={horizontal:0,vertical:1};L.rotation=Math.PI/2*ue[oe];var de={top:-1,bottom:1,right:1,left:-1};L.labelDirection=L.tickDirection=L.nameDirection=de[V],g.get(["axisTick","inside"])&&(L.tickDirection=-L.tickDirection),retrieve(n.labelInside,g.get(["axisLabel","inside"]))&&(L.labelDirection=-L.labelDirection);var pe=n.rotate;return pe==null&&(pe=g.get(["axisLabel","rotate"])),L.labelRotation=V==="top"?-pe:pe,L.z2=1,L}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine"],SingleAxisView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="SingleAxisPointer",r}return n.prototype.render=function(r,$,L,V){var oe=this.group;oe.removeAll();var re=this._axisGroup;this._axisGroup=new Group$4;var ae=layout$2(r),le=new AxisBuilder$1(r,ae);each$f(axisBuilderAttrs,le.add,le),oe.add(this._axisGroup),oe.add(le.getGroup()),each$f(selfBuilderAttrs,function(ue){r.get([ue,"show"])&&axisElementBuilders[ue](this,this.group,this._axisGroup,r)},this),groupTransition(re,this._axisGroup,r),g.prototype.render.call(this,r,$,L,V)},n.prototype.remove=function(){rectCoordAxisHandleRemove(this)},n.type="singleAxis",n}(AxisView$1),axisElementBuilders={splitLine:function(g,n,r,$){var L=$.axis;if(!L.scale.isBlank()){var V=$.getModel("splitLine"),oe=V.getModel("lineStyle"),re=oe.get("color");re=re instanceof Array?re:[re];for(var ae=oe.get("width"),le=$.coordinateSystem.getRect(),ue=L.isHorizontal(),de=[],pe=0,he=L.getTicksCoords({tickModel:V}),_e=[],Oe=[],xe=0;xe<he.length;++xe){var $e=L.toGlobalCoord(he[xe].coord);ue?(_e[0]=$e,_e[1]=le.y,Oe[0]=$e,Oe[1]=le.y+le.height):(_e[0]=le.x,_e[1]=$e,Oe[0]=le.x+le.width,Oe[1]=$e);var Ie=new Line$4({shape:{x1:_e[0],y1:_e[1],x2:Oe[0],y2:Oe[1]},silent:!0});subPixelOptimizeLine(Ie.shape,ae);var Ne=pe++%re.length;de[Ne]=de[Ne]||[],de[Ne].push(Ie)}for(var ze=oe.getLineStyle(["color"]),xe=0;xe<de.length;++xe)n.add(mergePath(de[xe],{style:defaults$5({stroke:re[xe%re.length]},ze),silent:!0}))}},splitArea:function(g,n,r,$){rectCoordAxisBuildSplitArea(g,r,$,$)}};const SingleAxisView$1=SingleAxisView;var SingleAxisModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getCoordSysModel=function(){return this},n.type="singleAxis",n.layoutMode="box",n.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},n}(ComponentModel$1);mixin(SingleAxisModel,AxisModelCommonMixin.prototype);const SingleAxisModel$1=SingleAxisModel;var SingleAxis=function(g){__extends(n,g);function n(r,$,L,V,oe){var re=g.call(this,r,$,L)||this;return re.type=V||"value",re.position=oe||"bottom",re}return n.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},n.prototype.pointToData=function(r,$){return this.coordinateSystem.pointToData(r)[0]},n}(Axis$1);const SingleAxis$1=SingleAxis;var singleDimensions=["single"],Single=function(){function g(n,r,$){this.type="single",this.dimension="single",this.dimensions=singleDimensions,this.axisPointerEnabled=!0,this.model=n,this._init(n,r,$)}return g.prototype._init=function(n,r,$){var L=this.dimension,V=new SingleAxis$1(L,createScaleByModel$1(n),[0,0],n.get("type"),n.get("position")),oe=V.type==="category";V.onBand=oe&&n.get("boundaryGap"),V.inverse=n.get("inverse"),V.orient=n.get("orient"),n.axis=V,V.model=n,V.coordinateSystem=this,this._axis=V},g.prototype.update=function(n,r){n.eachSeries(function($){if($.coordinateSystem===this){var L=$.getData();each$f(L.mapDimensionsAll(this.dimension),function(V){this._axis.scale.unionExtentFromData(L,V)},this),niceScaleExtent(this._axis.scale,this._axis.model)}},this)},g.prototype.resize=function(n,r){this._rect=getLayoutRect({left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")},{width:r.getWidth(),height:r.getHeight()}),this._adjustAxis()},g.prototype.getRect=function(){return this._rect},g.prototype._adjustAxis=function(){var n=this._rect,r=this._axis,$=r.isHorizontal(),L=$?[0,n.width]:[0,n.height],V=r.inverse?1:0;r.setExtent(L[V],L[1-V]),this._updateAxisTransform(r,$?n.x:n.y)},g.prototype._updateAxisTransform=function(n,r){var $=n.getExtent(),L=$[0]+$[1],V=n.isHorizontal();n.toGlobalCoord=V?function(oe){return oe+r}:function(oe){return L-oe+r},n.toLocalCoord=V?function(oe){return oe-r}:function(oe){return L-oe+r}},g.prototype.getAxis=function(){return this._axis},g.prototype.getBaseAxis=function(){return this._axis},g.prototype.getAxes=function(){return[this._axis]},g.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},g.prototype.containPoint=function(n){var r=this.getRect(),$=this.getAxis(),L=$.orient;return L==="horizontal"?$.contain($.toLocalCoord(n[0]))&&n[1]>=r.y&&n[1]<=r.y+r.height:$.contain($.toLocalCoord(n[1]))&&n[0]>=r.y&&n[0]<=r.y+r.height},g.prototype.pointToData=function(n){var r=this.getAxis();return[r.coordToData(r.toLocalCoord(n[r.orient==="horizontal"?0:1]))]},g.prototype.dataToPoint=function(n){var r=this.getAxis(),$=this.getRect(),L=[],V=r.orient==="horizontal"?0:1;return n instanceof Array&&(n=n[0]),L[V]=r.toGlobalCoord(r.dataToCoord(+n)),L[1-V]=V===0?$.y+$.height/2:$.x+$.width/2,L},g.prototype.convertToPixel=function(n,r,$){var L=getCoordSys$1(r);return L===this?this.dataToPoint($):null},g.prototype.convertFromPixel=function(n,r,$){var L=getCoordSys$1(r);return L===this?this.pointToData($):null},g}();function getCoordSys$1(g){var n=g.seriesModel,r=g.singleAxisModel;return r&&r.coordinateSystem||n&&n.coordinateSystem}function create(g,n){var r=[];return g.eachComponent("singleAxis",function($,L){var V=new Single($,g,n);V.name="single_"+L,V.resize($,n),$.coordinateSystem=V,r.push(V)}),g.eachSeries(function($){if($.get("coordinateSystem")==="singleAxis"){var L=$.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];$.coordinateSystem=L&&L.coordinateSystem}}),r}var singleCreator={create,dimensions:singleDimensions};const singleCreator$1=singleCreator;var XY$1=["x","y"],WH$1=["width","height"],SingleAxisPointer=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,$,L,V,oe){var re=L.axis,ae=re.coordinateSystem,le=getGlobalExtent(ae,1-getPointDimIndex(re)),ue=ae.dataToPoint($)[0],de=V.get("type");if(de&&de!=="none"){var pe=buildElStyle(V),he=pointerShapeBuilder[de](re,ue,le);he.style=pe,r.graphicKey=he.type,r.pointer=he}var _e=layout$2(L);buildCartesianSingleLabelElOption($,r,_e,L,V,oe)},n.prototype.getHandleTransform=function(r,$,L){var V=layout$2($,{labelInside:!1});V.labelMargin=L.get(["handle","margin"]);var oe=getTransformedPosition($.axis,r,V);return{x:oe[0],y:oe[1],rotation:V.rotation+(V.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(r,$,L,V){var oe=L.axis,re=oe.coordinateSystem,ae=getPointDimIndex(oe),le=getGlobalExtent(re,ae),ue=[r.x,r.y];ue[ae]+=$[ae],ue[ae]=Math.min(le[1],ue[ae]),ue[ae]=Math.max(le[0],ue[ae]);var de=getGlobalExtent(re,1-ae),pe=(de[1]+de[0])/2,he=[pe,pe];return he[ae]=ue[ae],{x:ue[0],y:ue[1],rotation:r.rotation,cursorPoint:he,tooltipOption:{verticalAlign:"middle"}}},n}(BaseAxisPointer$1),pointerShapeBuilder={line:function(g,n,r){var $=makeLineShape([n,r[0]],[n,r[1]],getPointDimIndex(g));return{type:"Line",subPixelOptimize:!0,shape:$}},shadow:function(g,n,r){var $=g.getBandWidth(),L=r[1]-r[0];return{type:"Rect",shape:makeRectShape([n-$/2,r[0]],[$,L],getPointDimIndex(g))}}};function getPointDimIndex(g){return g.isHorizontal()?0:1}function getGlobalExtent(g,n){var r=g.getRect();return[r[XY$1[n]],r[XY$1[n]]+r[WH$1[n]]]}const SingleAxisPointer$1=SingleAxisPointer;var SingleView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="single",n}(ComponentView$1);function install$p(g){use(install$s),AxisView$1.registerAxisPointerClass("SingleAxisPointer",SingleAxisPointer$1),g.registerComponentView(SingleView),g.registerComponentView(SingleAxisView$1),g.registerComponentModel(SingleAxisModel$1),axisModelCreator(g,"single",SingleAxisModel$1,SingleAxisModel$1.defaultOption),g.registerCoordinateSystem("single",singleCreator$1)}var CalendarModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$,L){var V=getLayoutParams(r);g.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams$1(r,V)},n.prototype.mergeOption=function(r){g.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams$1(this.option,r)},n.prototype.getCellSize=function(){return this.option.cellSize},n.type="calendar",n.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},n}(ComponentModel$1);function mergeAndNormalizeLayoutParams$1(g,n){var r=g.cellSize,$;isArray$6(r)?$=r:$=g.cellSize=[r,r],$.length===1&&($[1]=$[0]);var L=map$2([0,1],function(V){return sizeCalculable(n,V)&&($[V]="auto"),$[V]!=null&&$[V]!=="auto"});mergeLayoutParam(g,n,{type:"box",ignoreSize:L})}const CalendarModel$1=CalendarModel;var CalendarView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){var V=this.group;V.removeAll();var oe=r.coordinateSystem,re=oe.getRangeInfo(),ae=oe.getOrient(),le=$.getLocaleModel();this._renderDayRect(r,re,V),this._renderLines(r,re,ae,V),this._renderYearText(r,re,ae,V),this._renderMonthText(r,le,ae,V),this._renderWeekText(r,le,re,ae,V)},n.prototype._renderDayRect=function(r,$,L){for(var V=r.coordinateSystem,oe=r.getModel("itemStyle").getItemStyle(),re=V.getCellWidth(),ae=V.getCellHeight(),le=$.start.time;le<=$.end.time;le=V.getNextNDay(le,1).time){var ue=V.dataToRect([le],!1).tl,de=new Rect$3({shape:{x:ue[0],y:ue[1],width:re,height:ae},cursor:"default",style:oe});L.add(de)}},n.prototype._renderLines=function(r,$,L,V){var oe=this,re=r.coordinateSystem,ae=r.getModel(["splitLine","lineStyle"]).getLineStyle(),le=r.get(["splitLine","show"]),ue=ae.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var de=$.start,pe=0;de.time<=$.end.time;pe++){_e(de.formatedDate),pe===0&&(de=re.getDateInfo($.start.y+"-"+$.start.m));var he=de.date;he.setMonth(he.getMonth()+1),de=re.getDateInfo(he)}_e(re.getNextNDay($.end.time,1).formatedDate);function _e(Oe){oe._firstDayOfMonth.push(re.getDateInfo(Oe)),oe._firstDayPoints.push(re.dataToRect([Oe],!1).tl);var xe=oe._getLinePointsOfOneWeek(r,Oe,L);oe._tlpoints.push(xe[0]),oe._blpoints.push(xe[xe.length-1]),le&&oe._drawSplitline(xe,ae,V)}le&&this._drawSplitline(oe._getEdgesPoints(oe._tlpoints,ue,L),ae,V),le&&this._drawSplitline(oe._getEdgesPoints(oe._blpoints,ue,L),ae,V)},n.prototype._getEdgesPoints=function(r,$,L){var V=[r[0].slice(),r[r.length-1].slice()],oe=L==="horizontal"?0:1;return V[0][oe]=V[0][oe]-$/2,V[1][oe]=V[1][oe]+$/2,V},n.prototype._drawSplitline=function(r,$,L){var V=new Polyline$3({z2:20,shape:{points:r},style:$});L.add(V)},n.prototype._getLinePointsOfOneWeek=function(r,$,L){for(var V=r.coordinateSystem,oe=V.getDateInfo($),re=[],ae=0;ae<7;ae++){var le=V.getNextNDay(oe.time,ae),ue=V.dataToRect([le.time],!1);re[2*le.day]=ue.tl,re[2*le.day+1]=ue[L==="horizontal"?"bl":"tr"]}return re},n.prototype._formatterLabel=function(r,$){return isString$3(r)&&r?formatTplSimple(r,$):isFunction$3(r)?r($):$.nameMap},n.prototype._yearTextPositionControl=function(r,$,L,V,oe){var re=$[0],ae=$[1],le=["center","bottom"];V==="bottom"?(ae+=oe,le=["center","top"]):V==="left"?re-=oe:V==="right"?(re+=oe,le=["center","top"]):ae-=oe;var ue=0;return(V==="left"||V==="right")&&(ue=Math.PI/2),{rotation:ue,x:re,y:ae,style:{align:le[0],verticalAlign:le[1]}}},n.prototype._renderYearText=function(r,$,L,V){var oe=r.getModel("yearLabel");if(oe.get("show")){var re=oe.get("margin"),ae=oe.get("position");ae||(ae=L!=="horizontal"?"top":"left");var le=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],ue=(le[0][0]+le[1][0])/2,de=(le[0][1]+le[1][1])/2,pe=L==="horizontal"?0:1,he={top:[ue,le[pe][1]],bottom:[ue,le[1-pe][1]],left:[le[1-pe][0],de],right:[le[pe][0],de]},_e=$.start.y;+$.end.y>+$.start.y&&(_e=_e+"-"+$.end.y);var Oe=oe.get("formatter"),xe={start:$.start.y,end:$.end.y,nameMap:_e},$e=this._formatterLabel(Oe,xe),Ie=new ZRText$1({z2:30,style:createTextStyle(oe,{text:$e})});Ie.attr(this._yearTextPositionControl(Ie,he[ae],L,ae,re)),V.add(Ie)}},n.prototype._monthTextPositionControl=function(r,$,L,V,oe){var re="left",ae="top",le=r[0],ue=r[1];return L==="horizontal"?(ue=ue+oe,$&&(re="center"),V==="start"&&(ae="bottom")):(le=le+oe,$&&(ae="middle"),V==="start"&&(re="right")),{x:le,y:ue,align:re,verticalAlign:ae}},n.prototype._renderMonthText=function(r,$,L,V){var oe=r.getModel("monthLabel");if(oe.get("show")){var re=oe.get("nameMap"),ae=oe.get("margin"),le=oe.get("position"),ue=oe.get("align"),de=[this._tlpoints,this._blpoints];(!re||isString$3(re))&&(re&&($=getLocaleModel(re)||$),re=$.get(["time","monthAbbr"])||[]);var pe=le==="start"?0:1,he=L==="horizontal"?0:1;ae=le==="start"?-ae:ae;for(var _e=ue==="center",Oe=0;Oe<de[pe].length-1;Oe++){var xe=de[pe][Oe].slice(),$e=this._firstDayOfMonth[Oe];if(_e){var Ie=this._firstDayPoints[Oe];xe[he]=(Ie[he]+de[0][Oe+1][he])/2}var Ne=oe.get("formatter"),ze=re[+$e.m-1],Ue={yyyy:$e.y,yy:($e.y+"").slice(2),MM:$e.m,M:+$e.m,nameMap:ze},Fe=this._formatterLabel(Ne,Ue),qe=new ZRText$1({z2:30,style:extend$3(createTextStyle(oe,{text:Fe}),this._monthTextPositionControl(xe,_e,L,le,ae))});V.add(qe)}}},n.prototype._weekTextPositionControl=function(r,$,L,V,oe){var re="center",ae="middle",le=r[0],ue=r[1],de=L==="start";return $==="horizontal"?(le=le+V+(de?1:-1)*oe[0]/2,re=de?"right":"left"):(ue=ue+V+(de?1:-1)*oe[1]/2,ae=de?"bottom":"top"),{x:le,y:ue,align:re,verticalAlign:ae}},n.prototype._renderWeekText=function(r,$,L,V,oe){var re=r.getModel("dayLabel");if(re.get("show")){var ae=r.coordinateSystem,le=re.get("position"),ue=re.get("nameMap"),de=re.get("margin"),pe=ae.getFirstDayOfWeek();if(!ue||isString$3(ue)){ue&&($=getLocaleModel(ue)||$);var he=$.get(["time","dayOfWeekShort"]);ue=he||map$2($.get(["time","dayOfWeekAbbr"]),function(Ue){return Ue[0]})}var _e=ae.getNextNDay(L.end.time,7-L.lweek).time,Oe=[ae.getCellWidth(),ae.getCellHeight()];de=parsePercent(de,Math.min(Oe[1],Oe[0])),le==="start"&&(_e=ae.getNextNDay(L.start.time,-(7+L.fweek)).time,de=-de);for(var xe=0;xe<7;xe++){var $e=ae.getNextNDay(_e,xe),Ie=ae.dataToRect([$e.time],!1).center,Ne=xe;Ne=Math.abs((xe+pe)%7);var ze=new ZRText$1({z2:30,style:extend$3(createTextStyle(re,{text:ue[Ne]}),this._weekTextPositionControl(Ie,V,le,de,Oe))});oe.add(ze)}}},n.type="calendar",n}(ComponentView$1);const CalendarView$1=CalendarView;var PROXIMATE_ONE_DAY=864e5,Calendar=function(){function g(n,r,$){this.type="calendar",this.dimensions=g.dimensions,this.getDimensionsInfo=g.getDimensionsInfo,this._model=n}return g.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},g.prototype.getRangeInfo=function(){return this._rangeInfo},g.prototype.getModel=function(){return this._model},g.prototype.getRect=function(){return this._rect},g.prototype.getCellWidth=function(){return this._sw},g.prototype.getCellHeight=function(){return this._sh},g.prototype.getOrient=function(){return this._orient},g.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},g.prototype.getDateInfo=function(n){n=parseDate$1(n);var r=n.getFullYear(),$=n.getMonth()+1,L=$<10?"0"+$:""+$,V=n.getDate(),oe=V<10?"0"+V:""+V,re=n.getDay();return re=Math.abs((re+7-this.getFirstDayOfWeek())%7),{y:r+"",m:L,d:oe,day:re,time:n.getTime(),formatedDate:r+"-"+L+"-"+oe,date:n}},g.prototype.getNextNDay=function(n,r){return r=r||0,r===0?this.getDateInfo(n):(n=new Date(this.getDateInfo(n).time),n.setDate(n.getDate()+r),this.getDateInfo(n))},g.prototype.update=function(n,r){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var $=this._rangeInfo.weeks||1,L=["width","height"],V=this._model.getCellSize().slice(),oe=this._model.getBoxLayoutParams(),re=this._orient==="horizontal"?[$,7]:[7,$];each$f([0,1],function(de){ue(V,de)&&(oe[L[de]]=V[de]*re[de])});var ae={width:r.getWidth(),height:r.getHeight()},le=this._rect=getLayoutRect(oe,ae);each$f([0,1],function(de){ue(V,de)||(V[de]=le[L[de]]/re[de])});function ue(de,pe){return de[pe]!=null&&de[pe]!=="auto"}this._sw=V[0],this._sh=V[1]},g.prototype.dataToPoint=function(n,r){isArray$6(n)&&(n=n[0]),r==null&&(r=!0);var $=this.getDateInfo(n),L=this._rangeInfo,V=$.formatedDate;if(r&&!($.time>=L.start.time&&$.time<L.end.time+PROXIMATE_ONE_DAY))return[NaN,NaN];var oe=$.day,re=this._getRangeInfo([L.start.time,V]).nthWeek;return this._orient==="vertical"?[this._rect.x+oe*this._sw+this._sw/2,this._rect.y+re*this._sh+this._sh/2]:[this._rect.x+re*this._sw+this._sw/2,this._rect.y+oe*this._sh+this._sh/2]},g.prototype.pointToData=function(n){var r=this.pointToDate(n);return r&&r.time},g.prototype.dataToRect=function(n,r){var $=this.dataToPoint(n,r);return{contentShape:{x:$[0]-(this._sw-this._lineWidth)/2,y:$[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:$,tl:[$[0]-this._sw/2,$[1]-this._sh/2],tr:[$[0]+this._sw/2,$[1]-this._sh/2],br:[$[0]+this._sw/2,$[1]+this._sh/2],bl:[$[0]-this._sw/2,$[1]+this._sh/2]}},g.prototype.pointToDate=function(n){var r=Math.floor((n[0]-this._rect.x)/this._sw)+1,$=Math.floor((n[1]-this._rect.y)/this._sh)+1,L=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay($,r-1,L):this._getDateByWeeksAndDay(r,$-1,L)},g.prototype.convertToPixel=function(n,r,$){var L=getCoordSys(r);return L===this?L.dataToPoint($):null},g.prototype.convertFromPixel=function(n,r,$){var L=getCoordSys(r);return L===this?L.pointToData($):null},g.prototype.containPoint=function(n){return console.warn("Not implemented."),!1},g.prototype._initRangeOption=function(){var n=this._model.get("range"),r;if(isArray$6(n)&&n.length===1&&(n=n[0]),isArray$6(n))r=n;else{var $=n.toString();if(/^\d{4}$/.test($)&&(r=[$+"-01-01",$+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test($)){var L=this.getDateInfo($),V=L.date;V.setMonth(V.getMonth()+1);var oe=this.getNextNDay(V,-1);r=[L.formatedDate,oe.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test($)&&(r=[$,$])}if(!r)return n;var re=this._getRangeInfo(r);return re.start.time>re.end.time&&r.reverse(),r},g.prototype._getRangeInfo=function(n){var r=[this.getDateInfo(n[0]),this.getDateInfo(n[1])],$;r[0].time>r[1].time&&($=!0,r.reverse());var L=Math.floor(r[1].time/PROXIMATE_ONE_DAY)-Math.floor(r[0].time/PROXIMATE_ONE_DAY)+1,V=new Date(r[0].time),oe=V.getDate(),re=r[1].date.getDate();V.setDate(oe+L-1);var ae=V.getDate();if(ae!==re)for(var le=V.getTime()-r[1].time>0?1:-1;(ae=V.getDate())!==re&&(V.getTime()-r[1].time)*le>0;)L-=le,V.setDate(ae-le);var ue=Math.floor((L+r[0].day+6)/7),de=$?-ue+1:ue-1;return $&&r.reverse(),{range:[r[0].formatedDate,r[1].formatedDate],start:r[0],end:r[1],allDay:L,weeks:ue,nthWeek:de,fweek:r[0].day,lweek:r[1].day}},g.prototype._getDateByWeeksAndDay=function(n,r,$){var L=this._getRangeInfo($);if(n>L.weeks||n===0&&r<L.fweek||n===L.weeks&&r>L.lweek)return null;var V=(n-1)*7-L.fweek+r,oe=new Date(L.start.time);return oe.setDate(+L.start.d+V),this.getDateInfo(oe)},g.create=function(n,r){var $=[];return n.eachComponent("calendar",function(L){var V=new g(L);$.push(V),L.coordinateSystem=V}),n.eachSeries(function(L){L.get("coordinateSystem")==="calendar"&&(L.coordinateSystem=$[L.get("calendarIndex")||0])}),$},g.dimensions=["time","value"],g}();function getCoordSys(g){var n=g.calendarModel,r=g.seriesModel,$=n?n.coordinateSystem:r?r.coordinateSystem:null;return $}const Calendar$1=Calendar;function install$o(g){g.registerComponentModel(CalendarModel$1),g.registerComponentView(CalendarView$1),g.registerCoordinateSystem("calendar",Calendar$1)}function setKeyInfoToNewElOption(g,n){var r=g.existing;if(n.id=g.keyInfo.id,!n.type&&r&&(n.type=r.type),n.parentId==null){var $=n.parentOption;$?n.parentId=$.id:r&&(n.parentId=r.parentId)}n.parentOption=null}function isSetLoc(g,n){var r;return each$f(n,function($){g[$]!=null&&g[$]!=="auto"&&(r=!0)}),r}function mergeNewElOptionToExist(g,n,r){var $=extend$3({},r),L=g[n],V=r.$action||"merge";V==="merge"?L?(merge$4(L,$,!0),mergeLayoutParam(L,$,{ignoreSize:!0}),copyLayoutParams(r,L),copyTransitionInfo(r,L),copyTransitionInfo(r,L,"shape"),copyTransitionInfo(r,L,"style"),copyTransitionInfo(r,L,"extra"),r.clipPath=L.clipPath):g[n]=$:V==="replace"?g[n]=$:V==="remove"&&L&&(g[n]=null)}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(g,n,r){if(r&&(!g[r]&&n[r]&&(g[r]={}),g=g[r],n=n[r]),!(!g||!n))for(var $=r?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,L=0;L<$.length;L++){var V=$[L];g[V]==null&&n[V]!=null&&(g[V]=n[V])}}function setLayoutInfoToExist(g,n){if(!!g&&(g.hv=n.hv=[isSetLoc(n,["left","right"]),isSetLoc(n,["top","bottom"])],g.type==="group")){var r=g,$=n;r.width==null&&(r.width=$.width=0),r.height==null&&(r.height=$.height=0)}}var GraphicComponentModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.preventAutoZ=!0,r}return n.prototype.mergeOption=function(r,$){var L=this.option.elements;this.option.elements=null,g.prototype.mergeOption.call(this,r,$),this.option.elements=L},n.prototype.optionUpdated=function(r,$){var L=this.option,V=($?L:r).elements,oe=L.elements=$?[]:L.elements,re=[];this._flatten(V,re,null);var ae=mappingToExists(oe,re,"normalMerge"),le=this._elOptionsToUpdate=[];each$f(ae,function(ue,de){var pe=ue.newOption;!pe||(le.push(pe),setKeyInfoToNewElOption(ue,pe),mergeNewElOptionToExist(oe,de,pe),setLayoutInfoToExist(oe[de],pe))},this),L.elements=filter(oe,function(ue){return ue&&delete ue.$action,ue!=null})},n.prototype._flatten=function(r,$,L){each$f(r,function(V){if(V){L&&(V.parentOption=L),$.push(V);var oe=V.children;oe&&oe.length&&this._flatten(oe,$,V),delete V.children}},this)},n.prototype.useElOptionsToUpdate=function(){var r=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,r},n.type="graphic",n.defaultOption={elements:[]},n}(ComponentModel$1),nonShapeGraphicElements={path:null,compoundPath:null,group:Group$4,image:ZRImage$1,text:ZRText$1},inner$7=makeInner(),GraphicComponentView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this._elMap=createHashMap()},n.prototype.render=function(r,$,L){r!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=r,this._updateElements(r),this._relocate(r,L)},n.prototype._updateElements=function(r){var $=r.useElOptionsToUpdate();if($){var L=this._elMap,V=this.group,oe=r.get("z"),re=r.get("zlevel");each$f($,function(ae){var le=convertOptionIdName(ae.id,null),ue=le!=null?L.get(le):null,de=convertOptionIdName(ae.parentId,null),pe=de!=null?L.get(de):V,he=ae.type,_e=ae.style;he==="text"&&_e&&ae.hv&&ae.hv[1]&&(_e.textVerticalAlign=_e.textBaseline=_e.verticalAlign=_e.align=null);var Oe=ae.textContent,xe=ae.textConfig;if(_e&&isEC4CompatibleStyle(_e,he,!!xe,!!Oe)){var $e=convertFromEC4CompatibleStyle(_e,he,!0);!xe&&$e.textConfig&&(xe=ae.textConfig=$e.textConfig),!Oe&&$e.textContent&&(Oe=$e.textContent)}var Ie=getCleanedElOption(ae),Ne=ae.$action||"merge",ze=Ne==="merge",Ue=Ne==="replace";if(ze){var Fe=!ue,qe=ue;Fe?qe=createEl(le,pe,ae.type,L):(qe&&(inner$7(qe).isNew=!1),stopPreviousKeyframeAnimationAndRestore(qe)),qe&&(applyUpdateTransition(qe,Ie,r,{isInit:Fe}),updateCommonAttrs(qe,ae,oe,re))}else if(Ue){removeEl$1(ue,ae,L,r);var Et=createEl(le,pe,ae.type,L);Et&&(applyUpdateTransition(Et,Ie,r,{isInit:!0}),updateCommonAttrs(Et,ae,oe,re))}else Ne==="remove"&&(updateLeaveTo(ue,ae),removeEl$1(ue,ae,L,r));var At=L.get(le);if(At&&Oe)if(ze){var kt=At.getTextContent();kt?kt.attr(Oe):At.setTextContent(new ZRText$1(Oe))}else Ue&&At.setTextContent(new ZRText$1(Oe));if(At){var Dt=ae.clipPath;if(Dt){var jt=Dt.type,Lt=void 0,Fe=!1;if(ze){var hn=At.getClipPath();Fe=!hn||inner$7(hn).type!==jt,Lt=Fe?newEl(jt):hn}else Ue&&(Fe=!0,Lt=newEl(jt));At.setClipPath(Lt),applyUpdateTransition(Lt,Dt,r,{isInit:Fe}),applyKeyframeAnimation(Lt,Dt.keyframeAnimation,r)}var Sn=inner$7(At);At.setTextConfig(xe),Sn.option=ae,setEventData(At,r,ae),setTooltipConfig({el:At,componentModel:r,itemName:At.name,itemTooltipOption:ae.tooltip}),applyKeyframeAnimation(At,ae.keyframeAnimation,r)}})}},n.prototype._relocate=function(r,$){for(var L=r.option.elements,V=this.group,oe=this._elMap,re=$.getWidth(),ae=$.getHeight(),le=["x","y"],ue=0;ue<L.length;ue++){var de=L[ue],pe=convertOptionIdName(de.id,null),he=pe!=null?oe.get(pe):null;if(!(!he||!he.isGroup)){var _e=he.parent,Oe=_e===V,xe=inner$7(he),$e=inner$7(_e);xe.width=parsePercent(xe.option.width,Oe?re:$e.width)||0,xe.height=parsePercent(xe.option.height,Oe?ae:$e.height)||0}}for(var ue=L.length-1;ue>=0;ue--){var de=L[ue],pe=convertOptionIdName(de.id,null),he=pe!=null?oe.get(pe):null;if(he){var _e=he.parent,$e=inner$7(_e),Ie=_e===V?{width:re,height:ae}:{width:$e.width,height:$e.height},Ne={},ze=positionElement(he,de,Ie,null,{hv:de.hv,boundingMode:de.bounding},Ne);if(!inner$7(he).isNew&&ze){for(var Ue=de.transition,Fe={},qe=0;qe<le.length;qe++){var Et=le[qe],At=Ne[Et];Ue&&(isTransitionAll(Ue)||indexOf(Ue,Et)>=0)?Fe[Et]=At:he[Et]=At}updateProps$1(he,Fe,r,0)}else he.attr(Ne)}}},n.prototype._clear=function(){var r=this,$=this._elMap;$.each(function(L){removeEl$1(L,inner$7(L).option,$,r._lastGraphicModel)}),this._elMap=createHashMap()},n.prototype.dispose=function(){this._clear()},n.type="graphic",n}(ComponentView$1);function newEl(g){var n=hasOwn(nonShapeGraphicElements,g)?nonShapeGraphicElements[g]:getShapeClass(g),r=new n({});return inner$7(r).type=g,r}function createEl(g,n,r,$){var L=newEl(r);return n.add(L),$.set(g,L),inner$7(L).id=g,inner$7(L).isNew=!0,L}function removeEl$1(g,n,r,$){var L=g&&g.parent;L&&(g.type==="group"&&g.traverse(function(V){removeEl$1(V,n,r,$)}),applyLeaveTransition(g,n,$),r.removeKey(inner$7(g).id))}function updateCommonAttrs(g,n,r,$){g.isGroup||each$f([["cursor",Displayable$1.prototype.cursor],["zlevel",$||0],["z",r||0],["z2",0]],function(L){var V=L[0];hasOwn(n,V)?g[V]=retrieve2(n[V],L[1]):g[V]==null&&(g[V]=L[1])}),each$f(keys$2(n),function(L){if(L.indexOf("on")===0){var V=n[L];g[L]=isFunction$3(V)?V:null}}),hasOwn(n,"draggable")&&(g.draggable=n.draggable),n.name!=null&&(g.name=n.name),n.id!=null&&(g.id=n.id)}function getCleanedElOption(g){return g=extend$3({},g),each$f(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS),function(n){delete g[n]}),g}function setEventData(g,n,r){var $=getECData(g).eventData;!g.silent&&!g.ignore&&!$&&($=getECData(g).eventData={componentType:"graphic",componentIndex:n.componentIndex,name:g.name}),$&&($.info=r.info)}function install$n(g){g.registerComponentModel(GraphicComponentModel),g.registerComponentView(GraphicComponentView),g.registerPreprocessor(function(n){var r=n.graphic;isArray$6(r)?!r[0]||!r[0].elements?n.graphic=[{elements:r}]:n.graphic=[n.graphic[0]]:r&&!r.elements&&(n.graphic=[{elements:[r]}])})}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function isCoordSupported(g){var n=g.get("coordinateSystem");return indexOf(SERIES_COORDS,n)>=0}function getAxisMainType(g){return g+"Axis"}function findEffectedDataZooms(g,n){var r=createHashMap(),$=[],L=createHashMap();g.eachComponent({mainType:"dataZoom",query:n},function(ue){L.get(ue.uid)||re(ue)});var V;do V=!1,g.eachComponent("dataZoom",oe);while(V);function oe(ue){!L.get(ue.uid)&&ae(ue)&&(re(ue),V=!0)}function re(ue){L.set(ue.uid,!0),$.push(ue),le(ue)}function ae(ue){var de=!1;return ue.eachTargetAxis(function(pe,he){var _e=r.get(pe);_e&&_e[he]&&(de=!0)}),de}function le(ue){ue.eachTargetAxis(function(de,pe){(r.get(de)||r.set(de,[]))[pe]=!0})}return $}function collectReferCoordSysModelInfo(g){var n=g.ecModel,r={infoList:[],infoMap:createHashMap()};return g.eachTargetAxis(function($,L){var V=n.getComponent(getAxisMainType($),L);if(V){var oe=V.getCoordSysModel();if(oe){var re=oe.uid,ae=r.infoMap.get(re);ae||(ae={model:oe,axisModels:[]},r.infoList.push(ae),r.infoMap.set(re,ae)),ae.axisModels.push(V)}}}),r}var DataZoomAxisInfo=function(){function g(){this.indexList=[],this.indexMap=[]}return g.prototype.add=function(n){this.indexMap[n]||(this.indexList.push(n),this.indexMap[n]=!0)},g}(),DataZoomModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return n.prototype.init=function(r,$,L){var V=retrieveRawOption(r);this.settledOption=V,this.mergeDefaultAndTheme(r,L),this._doInit(V)},n.prototype.mergeOption=function(r){var $=retrieveRawOption(r);merge$4(this.option,r,!0),merge$4(this.settledOption,$,!0),this._doInit($)},n.prototype._doInit=function(r){var $=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var L=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(V,oe){this._rangePropMode[oe]==="value"&&($[V[0]]=L[V[0]]=null)},this),this._resetTarget()},n.prototype._resetTarget=function(){var r=this.get("orient",!0),$=this._targetAxisInfoMap=createHashMap(),L=this._fillSpecifiedTargetAxis($);L?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient($,this._orient)),this._noTarget=!0,$.each(function(V){V.indexList.length&&(this._noTarget=!1)},this)},n.prototype._fillSpecifiedTargetAxis=function(r){var $=!1;return each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(L){var V=this.getReferringComponents(getAxisMainType(L),MULTIPLE_REFERRING);if(V.specified){$=!0;var oe=new DataZoomAxisInfo;each$f(V.models,function(re){oe.add(re.componentIndex)}),r.set(L,oe)}},this),$},n.prototype._fillAutoTargetAxisByOrient=function(r,$){var L=this.ecModel,V=!0;if(V){var oe=$==="vertical"?"y":"x",re=L.findComponents({mainType:oe+"Axis"});ae(re,oe)}if(V){var re=L.findComponents({mainType:"singleAxis",filter:function(ue){return ue.get("orient",!0)===$}});ae(re,"single")}function ae(le,ue){var de=le[0];if(de){var pe=new DataZoomAxisInfo;if(pe.add(de.componentIndex),r.set(ue,pe),V=!1,ue==="x"||ue==="y"){var he=de.getReferringComponents("grid",SINGLE_REFERRING).models[0];he&&each$f(le,function(_e){de.componentIndex!==_e.componentIndex&&he===_e.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&pe.add(_e.componentIndex)})}}}V&&each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(le){if(V){var ue=L.findComponents({mainType:getAxisMainType(le),filter:function(pe){return pe.get("type",!0)==="category"}});if(ue[0]){var de=new DataZoomAxisInfo;de.add(ue[0].componentIndex),r.set(le,de),V=!1}}},this)},n.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function($){!r&&(r=$)},this),r==="y"?"vertical":"horizontal"},n.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var $=this.ecModel.option;this.option.throttle=$.animation&&$.animationDurationUpdate>0?100:20}},n.prototype._updateRangeUse=function(r){var $=this._rangePropMode,L=this.get("rangeMode");each$f([["start","startValue"],["end","endValue"]],function(V,oe){var re=r[V[0]]!=null,ae=r[V[1]]!=null;re&&!ae?$[oe]="percent":!re&&ae?$[oe]="value":L?$[oe]=L[oe]:re&&($[oe]="percent")})},n.prototype.noTarget=function(){return this._noTarget},n.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function($,L){r==null&&(r=this.ecModel.getComponent(getAxisMainType($),L))},this),r},n.prototype.eachTargetAxis=function(r,$){this._targetAxisInfoMap.each(function(L,V){each$f(L.indexList,function(oe){r.call($,V,oe)})})},n.prototype.getAxisProxy=function(r,$){var L=this.getAxisModel(r,$);if(L)return L.__dzAxisProxy},n.prototype.getAxisModel=function(r,$){var L=this._targetAxisInfoMap.get(r);if(L&&L.indexMap[$])return this.ecModel.getComponent(getAxisMainType(r),$)},n.prototype.setRawRange=function(r){var $=this.option,L=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(V){(r[V[0]]!=null||r[V[1]]!=null)&&($[V[0]]=L[V[0]]=r[V[0]],$[V[1]]=L[V[1]]=r[V[1]])},this),this._updateRangeUse(r)},n.prototype.setCalculatedRange=function(r){var $=this.option;each$f(["start","startValue","end","endValue"],function(L){$[L]=r[L]})},n.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},n.prototype.getValueRange=function(r,$){if(r==null&&$==null){var L=this.findRepresentativeAxisProxy();if(L)return L.getDataValueWindow()}else return this.getAxisProxy(r,$).getDataValueWindow()},n.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var $,L=this._targetAxisInfoMap.keys(),V=0;V<L.length;V++)for(var oe=L[V],re=this._targetAxisInfoMap.get(oe),ae=0;ae<re.indexList.length;ae++){var le=this.getAxisProxy(oe,re.indexList[ae]);if(le.hostedBy(this))return le;$||($=le)}return $},n.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},n.prototype.getOrient=function(){return this._orient},n.type="dataZoom",n.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],n.defaultOption={z:4,filterMode:"filter",start:0,end:100},n}(ComponentModel$1);function retrieveRawOption(g){var n={};return each$f(["start","end","startValue","endValue","throttle"],function(r){g.hasOwnProperty(r)&&(n[r]=g[r])}),n}const DataZoomModel$1=DataZoomModel;var SelectDataZoomModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.select",n}(DataZoomModel$1);const SelectZoomModel=SelectDataZoomModel;var DataZoomView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L,V){this.dataZoomModel=r,this.ecModel=$,this.api=L},n.type="dataZoom",n}(ComponentView$1);const DataZoomView$1=DataZoomView;var SelectDataZoomView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.select",n}(DataZoomView$1);const SelectZoomView=SelectDataZoomView;var each$7=each$f,asc$1=asc$2,AxisProxy=function(){function g(n,r,$,L){this._dimName=n,this._axisIndex=r,this.ecModel=L,this._dataZoomModel=$}return g.prototype.hostedBy=function(n){return this._dataZoomModel===n},g.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},g.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},g.prototype.getTargetSeriesModels=function(){var n=[];return this.ecModel.eachSeries(function(r){if(isCoordSupported(r)){var $=getAxisMainType(this._dimName),L=r.getReferringComponents($,SINGLE_REFERRING).models[0];L&&this._axisIndex===L.componentIndex&&n.push(r)}},this),n},g.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},g.prototype.getMinMaxSpan=function(){return clone$5(this._minMaxSpan)},g.prototype.calculateDataWindow=function(n){var r=this._dataExtent,$=this.getAxisModel(),L=$.axis.scale,V=this._dataZoomModel.getRangePropMode(),oe=[0,100],re=[],ae=[],le;each$7(["start","end"],function(pe,he){var _e=n[pe],Oe=n[pe+"Value"];V[he]==="percent"?(_e==null&&(_e=oe[he]),Oe=L.parse(linearMap$2(_e,oe,r))):(le=!0,Oe=Oe==null?r[he]:L.parse(Oe),_e=linearMap$2(Oe,r,oe)),ae[he]=Oe==null||isNaN(Oe)?r[he]:Oe,re[he]=_e==null||isNaN(_e)?oe[he]:_e}),asc$1(ae),asc$1(re);var ue=this._minMaxSpan;le?de(ae,re,r,oe,!1):de(re,ae,oe,r,!0);function de(pe,he,_e,Oe,xe){var $e=xe?"Span":"ValueSpan";sliderMove(0,pe,_e,"all",ue["min"+$e],ue["max"+$e]);for(var Ie=0;Ie<2;Ie++)he[Ie]=linearMap$2(pe[Ie],_e,Oe,!0),xe&&(he[Ie]=L.parse(he[Ie]))}return{valueWindow:ae,percentWindow:re}},g.prototype.reset=function(n){if(n===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,r),this._updateMinMaxSpan();var $=this.calculateDataWindow(n.settledOption);this._valueWindow=$.valueWindow,this._percentWindow=$.percentWindow,this._setAxisModel()}},g.prototype.filterData=function(n,r){if(n!==this._dataZoomModel)return;var $=this._dimName,L=this.getTargetSeriesModels(),V=n.get("filterMode"),oe=this._valueWindow;if(V==="none")return;each$7(L,function(ae){var le=ae.getData(),ue=le.mapDimensionsAll($);if(ue.length){if(V==="weakFilter"){var de=le.getStore(),pe=map$2(ue,function(he){return le.getDimensionIndex(he)},le);le.filterSelf(function(he){for(var _e,Oe,xe,$e=0;$e<ue.length;$e++){var Ie=de.get(pe[$e],he),Ne=!isNaN(Ie),ze=Ie<oe[0],Ue=Ie>oe[1];if(Ne&&!ze&&!Ue)return!0;Ne&&(xe=!0),ze&&(_e=!0),Ue&&(Oe=!0)}return xe&&_e&&Oe})}else each$7(ue,function(he){if(V==="empty")ae.setData(le=le.map(he,function(Oe){return re(Oe)?Oe:NaN}));else{var _e={};_e[he]=oe,le.selectRange(_e)}});each$7(ue,function(he){le.setApproximateExtent(oe,he)})}});function re(ae){return ae>=oe[0]&&ae<=oe[1]}},g.prototype._updateMinMaxSpan=function(){var n=this._minMaxSpan={},r=this._dataZoomModel,$=this._dataExtent;each$7(["min","max"],function(L){var V=r.get(L+"Span"),oe=r.get(L+"ValueSpan");oe!=null&&(oe=this.getAxisModel().axis.scale.parse(oe)),oe!=null?V=linearMap$2($[0]+oe,$,[0,100],!0):V!=null&&(oe=linearMap$2(V,[0,100],$,!0)-$[0]),n[L+"Span"]=V,n[L+"ValueSpan"]=oe},this)},g.prototype._setAxisModel=function(){var n=this.getAxisModel(),r=this._percentWindow,$=this._valueWindow;if(r){var L=getPixelPrecision($,[0,500]);L=Math.min(L,20);var V=n.axis.scale.rawExtentInfo;r[0]!==0&&V.setDeterminedMinMax("min",+$[0].toFixed(L)),r[1]!==100&&V.setDeterminedMinMax("max",+$[1].toFixed(L)),V.freeze()}},g}();function calculateDataExtent(g,n,r){var $=[1/0,-1/0];each$7(r,function(oe){unionAxisExtentFromData($,oe.getData(),n)});var L=g.getAxisModel(),V=ensureScaleRawExtentInfo(L.axis.scale,L,$).calculate();return[V.min,V.max]}const AxisProxy$1=AxisProxy;var dataZoomProcessor={getTargetSeries:function(g){function n(L){g.eachComponent("dataZoom",function(V){V.eachTargetAxis(function(oe,re){var ae=g.getComponent(getAxisMainType(oe),re);L(oe,re,ae,V)})})}n(function(L,V,oe,re){oe.__dzAxisProxy=null});var r=[];n(function(L,V,oe,re){oe.__dzAxisProxy||(oe.__dzAxisProxy=new AxisProxy$1(L,V,re,g),r.push(oe.__dzAxisProxy))});var $=createHashMap();return each$f(r,function(L){each$f(L.getTargetSeriesModels(),function(V){$.set(V.uid,V)})}),$},overallReset:function(g,n){g.eachComponent("dataZoom",function(r){r.eachTargetAxis(function($,L){r.getAxisProxy($,L).reset(r)}),r.eachTargetAxis(function($,L){r.getAxisProxy($,L).filterData(r,n)})}),g.eachComponent("dataZoom",function(r){var $=r.findRepresentativeAxisProxy();if($){var L=$.getDataPercentWindow(),V=$.getDataValueWindow();r.setCalculatedRange({start:L[0],end:L[1],startValue:V[0],endValue:V[1]})}})}};const dataZoomProcessor$1=dataZoomProcessor;function installDataZoomAction(g){g.registerAction("dataZoom",function(n,r){var $=findEffectedDataZooms(r,n);each$f($,function(L){L.setRawRange({start:n.start,end:n.end,startValue:n.startValue,endValue:n.endValue})})})}var installed$1=!1;function installCommon$1(g){installed$1||(installed$1=!0,g.registerProcessor(g.PRIORITY.PROCESSOR.FILTER,dataZoomProcessor$1),installDataZoomAction(g),g.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function install$m(g){g.registerComponentModel(SelectZoomModel),g.registerComponentView(SelectZoomView),installCommon$1(g)}var ToolboxFeature=function(){function g(){}return g}(),features={};function registerFeature(g,n){features[g]=n}function getFeature(g){return features[g]}var ToolboxModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){g.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;each$f(this.option.feature,function($,L){var V=getFeature(L);V&&(V.getDefaultOption&&(V.defaultOption=V.getDefaultOption(r)),merge$4($,V.defaultOption))})},n.type="toolbox",n.layoutMode={type:"box",ignoreSize:!0},n.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},n}(ComponentModel$1);const ToolboxModel$1=ToolboxModel;function layout$1(g,n,r){var $=n.getBoxLayoutParams(),L=n.get("padding"),V={width:r.getWidth(),height:r.getHeight()},oe=getLayoutRect($,V,L);box(n.get("orient"),g,n.get("itemGap"),oe.width,oe.height),positionElement(g,$,V,L)}function makeBackground(g,n){var r=normalizeCssArray(n.get("padding")),$=n.getItemStyle(["color","opacity"]);return $.fill=n.get("backgroundColor"),g=new Rect$3({shape:{x:g.x-r[3],y:g.y-r[0],width:g.width+r[1]+r[3],height:g.height+r[0]+r[2],r:n.get("borderRadius")},style:$,silent:!0,z2:-1}),g}var ToolboxView=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.render=function(r,$,L,V){var oe=this.group;if(oe.removeAll(),!r.get("show"))return;var re=+r.get("itemSize"),ae=r.get("orient")==="vertical",le=r.get("feature")||{},ue=this._features||(this._features={}),de=[];each$f(le,function(_e,Oe){de.push(Oe)}),new DataDiffer$1(this._featureNames||[],de).add(pe).update(pe).remove(curry$1(pe,null)).execute(),this._featureNames=de;function pe(_e,Oe){var xe=de[_e],$e=de[Oe],Ie=le[xe],Ne=new Model$1(Ie,r,r.ecModel),ze;if(V&&V.newTitle!=null&&V.featureName===xe&&(Ie.title=V.newTitle),xe&&!$e){if(isUserFeatureName(xe))ze={onclick:Ne.option.onclick,featureName:xe};else{var Ue=getFeature(xe);if(!Ue)return;ze=new Ue}ue[xe]=ze}else if(ze=ue[$e],!ze)return;ze.uid=getUID("toolbox-feature"),ze.model=Ne,ze.ecModel=$,ze.api=L;var Fe=ze instanceof ToolboxFeature;if(!xe&&$e){Fe&&ze.dispose&&ze.dispose($,L);return}if(!Ne.get("show")||Fe&&ze.unusable){Fe&&ze.remove&&ze.remove($,L);return}he(Ne,ze,xe),Ne.setIconStatus=function(qe,Et){var At=this.option,kt=this.iconPaths;At.iconStatus=At.iconStatus||{},At.iconStatus[qe]=Et,kt[qe]&&(Et==="emphasis"?enterEmphasis:leaveEmphasis)(kt[qe])},ze instanceof ToolboxFeature&&ze.render&&ze.render(Ne,$,L,V)}function he(_e,Oe,xe){var $e=_e.getModel("iconStyle"),Ie=_e.getModel(["emphasis","iconStyle"]),Ne=Oe instanceof ToolboxFeature&&Oe.getIcons?Oe.getIcons():_e.get("icon"),ze=_e.get("title")||{},Ue,Fe;isString$3(Ne)?(Ue={},Ue[xe]=Ne):Ue=Ne,isString$3(ze)?(Fe={},Fe[xe]=ze):Fe=ze;var qe=_e.iconPaths={};each$f(Ue,function(Et,At){var kt=createIcon(Et,{},{x:-re/2,y:-re/2,width:re,height:re});kt.setStyle($e.getItemStyle());var Dt=kt.ensureState("emphasis");Dt.style=Ie.getItemStyle();var jt=new ZRText$1({style:{text:Fe[At],align:Ie.get("textAlign"),borderRadius:Ie.get("textBorderRadius"),padding:Ie.get("textPadding"),fill:null},ignore:!0});kt.setTextContent(jt),setTooltipConfig({el:kt,componentModel:r,itemName:At,formatterParamsExtra:{title:Fe[At]}}),kt.__title=Fe[At],kt.on("mouseover",function(){var Lt=Ie.getItemStyle(),hn=ae?r.get("right")==null&&r.get("left")!=="right"?"right":"left":r.get("bottom")==null&&r.get("top")!=="bottom"?"bottom":"top";jt.setStyle({fill:Ie.get("textFill")||Lt.fill||Lt.stroke||"#000",backgroundColor:Ie.get("textBackgroundColor")}),kt.setTextConfig({position:Ie.get("textPosition")||hn}),jt.ignore=!r.get("showTitle"),L.enterEmphasis(this)}).on("mouseout",function(){_e.get(["iconStatus",At])!=="emphasis"&&L.leaveEmphasis(this),jt.hide()}),(_e.get(["iconStatus",At])==="emphasis"?enterEmphasis:leaveEmphasis)(kt),oe.add(kt),kt.on("click",bind$3(Oe.onclick,Oe,$,L,At)),qe[At]=kt})}layout$1(oe,r,L),oe.add(makeBackground(oe.getBoundingRect(),r)),ae||oe.eachChild(function(_e){var Oe=_e.__title,xe=_e.ensureState("emphasis"),$e=xe.textConfig||(xe.textConfig={}),Ie=_e.getTextContent(),Ne=Ie&&Ie.ensureState("emphasis");if(Ne&&!isFunction$3(Ne)&&Oe){var ze=Ne.style||(Ne.style={}),Ue=getBoundingRect(Oe,ZRText$1.makeFont(ze)),Fe=_e.x+oe.x,qe=_e.y+oe.y+re,Et=!1;qe+Ue.height>L.getHeight()&&($e.position="top",Et=!0);var At=Et?-5-Ue.height:re+10;Fe+Ue.width/2>L.getWidth()?($e.position=["100%",At],ze.align="right"):Fe-Ue.width/2<0&&($e.position=[0,At],ze.align="left")}})},n.prototype.updateView=function(r,$,L,V){each$f(this._features,function(oe){oe instanceof ToolboxFeature&&oe.updateView&&oe.updateView(oe.model,$,L,V)})},n.prototype.remove=function(r,$){each$f(this._features,function(L){L instanceof ToolboxFeature&&L.remove&&L.remove(r,$)}),this.group.removeAll()},n.prototype.dispose=function(r,$){each$f(this._features,function(L){L instanceof ToolboxFeature&&L.dispose&&L.dispose(r,$)})},n.type="toolbox",n}(ComponentView$1);function isUserFeatureName(g){return g.indexOf("my")===0}const ToolboxView$1=ToolboxView;var SaveAsImage=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.onclick=function(r,$){var L=this.model,V=L.get("name")||r.get("title.0.text")||"echarts",oe=$.getZr().painter.getType()==="svg",re=oe?"svg":L.get("type",!0)||"png",ae=$.getConnectedDataURL({type:re,backgroundColor:L.get("backgroundColor",!0)||r.get("backgroundColor")||"#fff",connectedBackgroundColor:L.get("connectedBackgroundColor"),excludeComponents:L.get("excludeComponents"),pixelRatio:L.get("pixelRatio")}),le=env$1.browser;if(isFunction$3(MouseEvent)&&(le.newEdge||!le.ie&&!le.edge)){var ue=document.createElement("a");ue.download=V+"."+re,ue.target="_blank",ue.href=ae;var de=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});ue.dispatchEvent(de)}else if(window.navigator.msSaveOrOpenBlob||oe){var pe=ae.split(","),he=pe[0].indexOf("base64")>-1,_e=oe?decodeURIComponent(pe[1]):pe[1];he&&(_e=window.atob(_e));var Oe=V+"."+re;if(window.navigator.msSaveOrOpenBlob){for(var xe=_e.length,$e=new Uint8Array(xe);xe--;)$e[xe]=_e.charCodeAt(xe);var Ie=new Blob([$e]);window.navigator.msSaveOrOpenBlob(Ie,Oe)}else{var Ne=document.createElement("iframe");document.body.appendChild(Ne);var ze=Ne.contentWindow,Ue=ze.document;Ue.open("image/svg+xml","replace"),Ue.write(_e),Ue.close(),ze.focus(),Ue.execCommand("SaveAs",!0,Oe),document.body.removeChild(Ne)}}else{var Fe=L.get("lang"),qe='<body style="margin:0;"><img src="'+ae+'" style="max-width:100%;" title="'+(Fe&&Fe[0]||"")+'" /></body>',Et=window.open();Et.document.write(qe),Et.document.title=V}},n.getDefaultOption=function(r){var $={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return $},n}(ToolboxFeature);const SaveAsImage$1=SaveAsImage;var INNER_STACK_KEYWORD="__ec_magicType_stack__",radioTypes=[["line","bar"],["stack"]],MagicType=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.getIcons=function(){var r=this.model,$=r.get("icon"),L={};return each$f(r.get("type"),function(V){$[V]&&(L[V]=$[V])}),L},n.getDefaultOption=function(r){var $={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return $},n.prototype.onclick=function(r,$,L){var V=this.model,oe=V.get(["seriesIndex",L]);if(seriesOptGenreator[L]){var re={series:[]},ae=function(de){var pe=de.subType,he=de.id,_e=seriesOptGenreator[L](pe,he,de,V);_e&&(defaults$5(_e,de.option),re.series.push(_e));var Oe=de.coordinateSystem;if(Oe&&Oe.type==="cartesian2d"&&(L==="line"||L==="bar")){var xe=Oe.getAxesByScale("ordinal")[0];if(xe){var $e=xe.dim,Ie=$e+"Axis",Ne=de.getReferringComponents(Ie,SINGLE_REFERRING).models[0],ze=Ne.componentIndex;re[Ie]=re[Ie]||[];for(var Ue=0;Ue<=ze;Ue++)re[Ie][ze]=re[Ie][ze]||{};re[Ie][ze].boundaryGap=L==="bar"}}};each$f(radioTypes,function(de){indexOf(de,L)>=0&&each$f(de,function(pe){V.setIconStatus(pe,"normal")})}),V.setIconStatus(L,"emphasis"),r.eachComponent({mainType:"series",query:oe==null?null:{seriesIndex:oe}},ae);var le,ue=L;L==="stack"&&(le=merge$4({stack:V.option.title.tiled,tiled:V.option.title.stack},V.option.title),V.get(["iconStatus",L])!=="emphasis"&&(ue="tiled")),$.dispatchAction({type:"changeMagicType",currentType:ue,newOption:re,newTitle:le,featureName:"magicType"})}},n}(ToolboxFeature),seriesOptGenreator={line:function(g,n,r,$){if(g==="bar")return merge$4({id:n,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},$.get(["option","line"])||{},!0)},bar:function(g,n,r,$){if(g==="line")return merge$4({id:n,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},$.get(["option","bar"])||{},!0)},stack:function(g,n,r,$){var L=r.get("stack")===INNER_STACK_KEYWORD;if(g==="line"||g==="bar")return $.setIconStatus("stack",L?"normal":"emphasis"),merge$4({id:n,stack:L?"":INNER_STACK_KEYWORD},$.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(g,n){n.mergeOption(g.newOption)});const MagicType$1=MagicType;var BLOCK_SPLITER=new Array(60).join("-"),ITEM_SPLITER="	";function groupSeries(g){var n={},r=[],$=[];return g.eachRawSeries(function(L){var V=L.coordinateSystem;if(V&&(V.type==="cartesian2d"||V.type==="polar")){var oe=V.getBaseAxis();if(oe.type==="category"){var re=oe.dim+"_"+oe.index;n[re]||(n[re]={categoryAxis:oe,valueAxis:V.getOtherAxis(oe),series:[]},$.push({axisDim:oe.dim,axisIndex:oe.index})),n[re].series.push(L)}else r.push(L)}else r.push(L)}),{seriesGroupByCategoryAxis:n,other:r,meta:$}}function assembleSeriesWithCategoryAxis(g){var n=[];return each$f(g,function(r,$){var L=r.categoryAxis,V=r.valueAxis,oe=V.dim,re=[" "].concat(map$2(r.series,function(he){return he.name})),ae=[L.model.getCategories()];each$f(r.series,function(he){var _e=he.getRawData();ae.push(he.getRawData().mapArray(_e.mapDimension(oe),function(Oe){return Oe}))});for(var le=[re.join(ITEM_SPLITER)],ue=0;ue<ae[0].length;ue++){for(var de=[],pe=0;pe<ae.length;pe++)de.push(ae[pe][ue]);le.push(de.join(ITEM_SPLITER))}n.push(le.join(`
`))}),n.join(`

`+BLOCK_SPLITER+`

`)}function assembleOtherSeries(g){return map$2(g,function(n){var r=n.getRawData(),$=[n.name],L=[];return r.each(r.dimensions,function(){for(var V=arguments.length,oe=arguments[V-1],re=r.getName(oe),ae=0;ae<V-1;ae++)L[ae]=arguments[ae];$.push((re?re+ITEM_SPLITER:"")+L.join(ITEM_SPLITER))}),$.join(`
`)}).join(`

`+BLOCK_SPLITER+`

`)}function getContentFromModel(g){var n=groupSeries(g);return{value:filter([assembleSeriesWithCategoryAxis(n.seriesGroupByCategoryAxis),assembleOtherSeries(n.other)],function(r){return!!r.replace(/[\n\t\s]/g,"")}).join(`

`+BLOCK_SPLITER+`

`),meta:n.meta}}function trim$2(g){return g.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat(g){var n=g.slice(0,g.indexOf(`
`));if(n.indexOf(ITEM_SPLITER)>=0)return!0}var itemSplitRegex=new RegExp("["+ITEM_SPLITER+"]+","g");function parseTSVContents(g){for(var n=g.split(/\n+/g),r=trim$2(n.shift()).split(itemSplitRegex),$=[],L=map$2(r,function(ae){return{name:ae,data:[]}}),V=0;V<n.length;V++){var oe=trim$2(n[V]).split(itemSplitRegex);$.push(oe.shift());for(var re=0;re<oe.length;re++)L[re]&&(L[re].data[V]=oe[re])}return{series:L,categories:$}}function parseListContents(g){for(var n=g.split(/\n+/g),r=trim$2(n.shift()),$=[],L=0;L<n.length;L++){var V=trim$2(n[L]);if(V){var oe=V.split(itemSplitRegex),re="",ae=void 0,le=!1;isNaN(oe[0])?(le=!0,re=oe[0],oe=oe.slice(1),$[L]={name:re,value:[]},ae=$[L].value):ae=$[L]=[];for(var ue=0;ue<oe.length;ue++)ae.push(+oe[ue]);ae.length===1&&(le?$[L].value=ae[0]:$[L]=ae[0])}}return{name:r,data:$}}function parseContents(g,n){var r=g.split(new RegExp(`
*`+BLOCK_SPLITER+`
*`,"g")),$={series:[]};return each$f(r,function(L,V){if(isTSVFormat(L)){var oe=parseTSVContents(L),re=n[V],ae=re.axisDim+"Axis";re&&($[ae]=$[ae]||[],$[ae][re.axisIndex]={data:oe.categories},$.series=$.series.concat(oe.series))}else{var oe=parseListContents(L);$.series.push(oe)}}),$}var DataView$2=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.onclick=function(r,$){setTimeout(function(){$.dispatchAction({type:"hideTip"})});var L=$.getDom(),V=this.model;this._dom&&L.removeChild(this._dom);var oe=document.createElement("div");oe.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",oe.style.backgroundColor=V.get("backgroundColor")||"#fff";var re=document.createElement("h4"),ae=V.get("lang")||[];re.innerHTML=ae[0]||V.get("title"),re.style.cssText="margin:10px 20px",re.style.color=V.get("textColor");var le=document.createElement("div"),ue=document.createElement("textarea");le.style.cssText="overflow:auto";var de=V.get("optionToContent"),pe=V.get("contentToOption"),he=getContentFromModel(r);if(isFunction$3(de)){var _e=de($.getOption());isString$3(_e)?le.innerHTML=_e:isDom(_e)&&le.appendChild(_e)}else{ue.readOnly=V.get("readOnly");var Oe=ue.style;Oe.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",Oe.color=V.get("textColor"),Oe.borderColor=V.get("textareaBorderColor"),Oe.backgroundColor=V.get("textareaColor"),ue.value=he.value,le.appendChild(ue)}var xe=he.meta,$e=document.createElement("div");$e.style.cssText="position:absolute;bottom:5px;left:0;right:0";var Ie="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",Ne=document.createElement("div"),ze=document.createElement("div");Ie+=";background-color:"+V.get("buttonColor"),Ie+=";color:"+V.get("buttonTextColor");var Ue=this;function Fe(){L.removeChild(oe),Ue._dom=null}addEventListener(Ne,"click",Fe),addEventListener(ze,"click",function(){if(pe==null&&de!=null||pe!=null&&de==null){Fe();return}var qe;try{isFunction$3(pe)?qe=pe(le,$.getOption()):qe=parseContents(ue.value,xe)}catch(Et){throw Fe(),new Error("Data view format error "+Et)}qe&&$.dispatchAction({type:"changeDataView",newOption:qe}),Fe()}),Ne.innerHTML=ae[1],ze.innerHTML=ae[2],ze.style.cssText=Ne.style.cssText=Ie,!V.get("readOnly")&&$e.appendChild(ze),$e.appendChild(Ne),oe.appendChild(re),oe.appendChild(le),oe.appendChild($e),le.style.height=L.clientHeight-80+"px",L.appendChild(oe),this._dom=oe},n.prototype.remove=function(r,$){this._dom&&$.getDom().removeChild(this._dom)},n.prototype.dispose=function(r,$){this.remove(r,$)},n.getDefaultOption=function(r){var $={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.getLocaleModel().get(["toolbox","dataView","title"]),lang:r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return $},n}(ToolboxFeature);function tryMergeDataOption(g,n){return map$2(g,function(r,$){var L=n&&n[$];if(isObject$6(L)&&!isArray$6(L)){var V=isObject$6(r)&&!isArray$6(r);V||(r={value:r});var oe=L.name!=null&&r.name==null;return r=defaults$5(r,L),oe&&delete r.name,r}else return r})}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(g,n){var r=[];each$f(g.newOption.series,function($){var L=n.getSeriesByName($.name)[0];if(!L)r.push(extend$3({type:"scatter"},$));else{var V=L.get("data");r.push({name:$.name,data:tryMergeDataOption($.data,V)})}}),n.mergeOption(defaults$5({series:r},g.newOption))});const DataView$3=DataView$2;var each$6=each$f,inner$6=makeInner();function push(g,n){var r=getStoreSnapshots(g);each$6(n,function($,L){for(var V=r.length-1;V>=0;V--){var oe=r[V];if(oe[L])break}if(V<0){var re=g.queryComponents({mainType:"dataZoom",subType:"select",id:L})[0];if(re){var ae=re.getPercentRange();r[0][L]={dataZoomId:L,start:ae[0],end:ae[1]}}}}),r.push(n)}function pop(g){var n=getStoreSnapshots(g),r=n[n.length-1];n.length>1&&n.pop();var $={};return each$6(r,function(L,V){for(var oe=n.length-1;oe>=0;oe--)if(L=n[oe][V],L){$[V]=L;break}}),$}function clear(g){inner$6(g).snapshots=null}function count(g){return getStoreSnapshots(g).length}function getStoreSnapshots(g){var n=inner$6(g);return n.snapshots||(n.snapshots=[{}]),n.snapshots}var RestoreOption=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.onclick=function(r,$){clear(r),$.dispatchAction({type:"restore",from:this.uid})},n.getDefaultOption=function(r){var $={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.getLocaleModel().get(["toolbox","restore","title"])};return $},n}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(g,n){n.resetOption("recreate")});const Restore=RestoreOption;var INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager=function(){function g(n,r,$){var L=this;this._targetInfoList=[];var V=parseFinder(r,n);each$f(targetInfoBuilders,function(oe,re){(!$||!$.include||indexOf($.include,re)>=0)&&oe(V,L._targetInfoList)})}return g.prototype.setOutputRanges=function(n,r){return this.matchOutputRanges(n,r,function($,L,V){if(($.coordRanges||($.coordRanges=[])).push(L),!$.coordRange){$.coordRange=L;var oe=coordConvert[$.brushType](0,V,L);$.__rangeOffset={offset:diffProcessor[$.brushType](oe.values,$.range,[1,1]),xyMinMax:oe.xyMinMax}}}),n},g.prototype.matchOutputRanges=function(n,r,$){each$f(n,function(L){var V=this.findTargetInfo(L,r);V&&V!==!0&&each$f(V.coordSyses,function(oe){var re=coordConvert[L.brushType](1,oe,L.range,!0);$(L,re.values,oe,r)})},this)},g.prototype.setInputRanges=function(n,r){each$f(n,function($){var L=this.findTargetInfo($,r);if($.range=$.range||[],L&&L!==!0){$.panelId=L.panelId;var V=coordConvert[$.brushType](0,L.coordSys,$.coordRange),oe=$.__rangeOffset;$.range=oe?diffProcessor[$.brushType](V.values,oe.offset,getScales(V.xyMinMax,oe.xyMinMax)):V.values}},this)},g.prototype.makePanelOpts=function(n,r){return map$2(this._targetInfoList,function($){var L=$.getPanelRect();return{panelId:$.panelId,defaultBrushType:r?r($):null,clipPath:makeRectPanelClipPath(L),isTargetByCursor:makeRectIsTargetByCursor(L,n,$.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(L)}})},g.prototype.controlSeries=function(n,r,$){var L=this.findTargetInfo(n,$);return L===!0||L&&indexOf(L.coordSyses,r.coordinateSystem)>=0},g.prototype.findTargetInfo=function(n,r){for(var $=this._targetInfoList,L=parseFinder(r,n),V=0;V<$.length;V++){var oe=$[V],re=n.panelId;if(re){if(oe.panelId===re)return oe}else for(var ae=0;ae<targetInfoMatchers.length;ae++)if(targetInfoMatchers[ae](L,oe))return oe}return!0},g}();function formatMinMax(g){return g[0]>g[1]&&g.reverse(),g}function parseFinder(g,n){return parseFinder$1(g,n,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(g,n){var r=g.xAxisModels,$=g.yAxisModels,L=g.gridModels,V=createHashMap(),oe={},re={};!r&&!$&&!L||(each$f(r,function(ae){var le=ae.axis.grid.model;V.set(le.id,le),oe[le.id]=!0}),each$f($,function(ae){var le=ae.axis.grid.model;V.set(le.id,le),re[le.id]=!0}),each$f(L,function(ae){V.set(ae.id,ae),oe[ae.id]=!0,re[ae.id]=!0}),V.each(function(ae){var le=ae.coordinateSystem,ue=[];each$f(le.getCartesians(),function(de,pe){(indexOf(r,de.getAxis("x").model)>=0||indexOf($,de.getAxis("y").model)>=0)&&ue.push(de)}),n.push({panelId:"grid--"+ae.id,gridModel:ae,coordSysModel:ae,coordSys:ue[0],coordSyses:ue,getPanelRect:panelRectBuilders.grid,xAxisDeclared:oe[ae.id],yAxisDeclared:re[ae.id]})}))},geo:function(g,n){each$f(g.geoModels,function(r){var $=r.coordinateSystem;n.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:$,coordSyses:[$],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function(g,n){var r=g.xAxisModel,$=g.yAxisModel,L=g.gridModel;return!L&&r&&(L=r.axis.grid.model),!L&&$&&(L=$.axis.grid.model),L&&L===n.gridModel},function(g,n){var r=g.geoModel;return r&&r===n.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var g=this.coordSys,n=g.getBoundingRect().clone();return n.applyTransform(getTransform$1(g)),n}},coordConvert={lineX:curry$1(axisConvert,0),lineY:curry$1(axisConvert,1),rect:function(g,n,r,$){var L=g?n.pointToData([r[0][0],r[1][0]],$):n.dataToPoint([r[0][0],r[1][0]],$),V=g?n.pointToData([r[0][1],r[1][1]],$):n.dataToPoint([r[0][1],r[1][1]],$),oe=[formatMinMax([L[0],V[0]]),formatMinMax([L[1],V[1]])];return{values:oe,xyMinMax:oe}},polygon:function(g,n,r,$){var L=[[1/0,-1/0],[1/0,-1/0]],V=map$2(r,function(oe){var re=g?n.pointToData(oe,$):n.dataToPoint(oe,$);return L[0][0]=Math.min(L[0][0],re[0]),L[1][0]=Math.min(L[1][0],re[1]),L[0][1]=Math.max(L[0][1],re[0]),L[1][1]=Math.max(L[1][1],re[1]),re});return{values:V,xyMinMax:L}}};function axisConvert(g,n,r,$){var L=r.getAxis(["x","y"][g]),V=formatMinMax(map$2([0,1],function(re){return n?L.coordToData(L.toLocalCoord($[re]),!0):L.toGlobalCoord(L.dataToCoord($[re]))})),oe=[];return oe[g]=V,oe[1-g]=[NaN,NaN],{values:V,xyMinMax:oe}}var diffProcessor={lineX:curry$1(axisDiffProcessor,0),lineY:curry$1(axisDiffProcessor,1),rect:function(g,n,r){return[[g[0][0]-r[0]*n[0][0],g[0][1]-r[0]*n[0][1]],[g[1][0]-r[1]*n[1][0],g[1][1]-r[1]*n[1][1]]]},polygon:function(g,n,r){return map$2(g,function($,L){return[$[0]-r[0]*n[L][0],$[1]-r[1]*n[L][1]]})}};function axisDiffProcessor(g,n,r,$){return[n[0]-$[g]*r[0],n[1]-$[g]*r[1]]}function getScales(g,n){var r=getSize(g),$=getSize(n),L=[r[0]/$[0],r[1]/$[1]];return isNaN(L[0])&&(L[0]=1),isNaN(L[1])&&(L[1]=1),L}function getSize(g){return g?[g[0][1]-g[0][0],g[1][1]-g[1][0]]:[NaN,NaN]}const BrushTargetManager$1=BrushTargetManager;var each$5=each$f,DATA_ZOOM_ID_BASE=makeInternalComponentId("toolbox-dataZoom_"),DataZoomFeature=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.render=function(r,$,L,V){this._brushController||(this._brushController=new BrushController$1(L.getZr()),this._brushController.on("brush",bind$3(this._onBrush,this)).mount()),updateZoomBtnStatus(r,$,this,V,L),updateBackBtnStatus(r,$)},n.prototype.onclick=function(r,$,L){handlers$1[L].call(this)},n.prototype.remove=function(r,$){this._brushController&&this._brushController.unmount()},n.prototype.dispose=function(r,$){this._brushController&&this._brushController.dispose()},n.prototype._onBrush=function(r){var $=r.areas;if(!r.isEnd||!$.length)return;var L={},V=this.ecModel;this._brushController.updateCovers([]);var oe=new BrushTargetManager$1(makeAxisFinder(this.model),V,{include:["grid"]});oe.matchOutputRanges($,V,function(le,ue,de){if(de.type==="cartesian2d"){var pe=le.brushType;pe==="rect"?(re("x",de,ue[0]),re("y",de,ue[1])):re({lineX:"x",lineY:"y"}[pe],de,ue)}}),push(V,L),this._dispatchZoomAction(L);function re(le,ue,de){var pe=ue.getAxis(le),he=pe.model,_e=ae(le,he,V),Oe=_e.findRepresentativeAxisProxy(he).getMinMaxSpan();(Oe.minValueSpan!=null||Oe.maxValueSpan!=null)&&(de=sliderMove(0,de.slice(),pe.scale.getExtent(),0,Oe.minValueSpan,Oe.maxValueSpan)),_e&&(L[_e.id]={dataZoomId:_e.id,startValue:de[0],endValue:de[1]})}function ae(le,ue,de){var pe;return de.eachComponent({mainType:"dataZoom",subType:"select"},function(he){var _e=he.getAxisModel(le,ue.componentIndex);_e&&(pe=he)}),pe}},n.prototype._dispatchZoomAction=function(r){var $=[];each$5(r,function(L,V){$.push(clone$5(L))}),$.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:$})},n.getDefaultOption=function(r){var $={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return $},n}(ToolboxFeature),handlers$1={zoom:function(){var g=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:g})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder(g){var n={xAxisIndex:g.get("xAxisIndex",!0),yAxisIndex:g.get("yAxisIndex",!0),xAxisId:g.get("xAxisId",!0),yAxisId:g.get("yAxisId",!0)};return n.xAxisIndex==null&&n.xAxisId==null&&(n.xAxisIndex="all"),n.yAxisIndex==null&&n.yAxisId==null&&(n.yAxisIndex="all"),n}function updateBackBtnStatus(g,n){g.setIconStatus("back",count(n)>1?"emphasis":"normal")}function updateZoomBtnStatus(g,n,r,$,L){var V=r._isZoomActive;$&&$.type==="takeGlobalCursor"&&(V=$.key==="dataZoomSelect"?$.dataZoomSelectActive:!1),r._isZoomActive=V,g.setIconStatus("zoom",V?"emphasis":"normal");var oe=new BrushTargetManager$1(makeAxisFinder(g),n,{include:["grid"]}),re=oe.makePanelOpts(L,function(ae){return ae.xAxisDeclared&&!ae.yAxisDeclared?"lineX":!ae.xAxisDeclared&&ae.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(re).enableBrush(V&&re.length?{brushType:"auto",brushStyle:g.getModel("brushStyle").getItemStyle()}:!1)}registerInternalOptionCreator("dataZoom",function(g){var n=g.getComponent("toolbox",0),r=["feature","dataZoom"];if(!n||n.get(r)==null)return;var $=n.getModel(r),L=[],V=makeAxisFinder($),oe=parseFinder$1(g,V);each$5(oe.xAxisModels,function(ae){return re(ae,"xAxis","xAxisIndex")}),each$5(oe.yAxisModels,function(ae){return re(ae,"yAxis","yAxisIndex")});function re(ae,le,ue){var de=ae.componentIndex,pe={type:"select",$fromToolbox:!0,filterMode:$.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+le+de};pe[ue]=de,L.push(pe)}return L});const DataZoom=DataZoomFeature;function install$l(g){g.registerComponentModel(ToolboxModel$1),g.registerComponentView(ToolboxView$1),registerFeature("saveAsImage",SaveAsImage$1),registerFeature("magicType",MagicType$1),registerFeature("dataView",DataView$3),registerFeature("dataZoom",DataZoom),registerFeature("restore",Restore),use(install$m)}var TooltipModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="tooltip",n.dependencies=["axisPointer"],n.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},n}(ComponentModel$1);const TooltipModel$1=TooltipModel;function shouldTooltipConfine(g){var n=g.get("confine");return n!=null?!!n:g.get("renderMode")==="richText"}function testStyle(g){if(env$1.domSupported){for(var n=document.documentElement.style,r=0,$=g.length;r<$;r++)if(g[r]in n)return g[r]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(g,n){if(!g)return n;n=toCamelCase$2(n,!0);var r=g.indexOf(n);return g=r===-1?n:"-"+g.slice(0,r)+"-"+n,g.toLowerCase()}function getComputedStyle$1(g,n){var r=g.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(g);return r?n?r[n]:r:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env$1.transform3dSupported?"will-change:transform;":"");function mirrorPos(g){return g=g==="left"?"right":g==="right"?"left":g==="top"?"bottom":"top",g}function assembleArrow(g,n,r){if(!isString$3(r)||r==="inside")return"";var $=g.get("backgroundColor"),L=g.get("borderWidth");n=convertToColorString(n);var V=mirrorPos(r),oe=Math.max(Math.round(L)*1.5,6),re="",ae=CSS_TRANSFORM_VENDOR+":",le;indexOf(["left","right"],V)>-1?(re+="top:50%",ae+="translateY(-50%) rotate("+(le=V==="left"?-225:-45)+"deg)"):(re+="left:50%",ae+="translateX(-50%) rotate("+(le=V==="top"?225:45)+"deg)");var ue=le*Math.PI/180,de=oe+L,pe=de*Math.abs(Math.cos(ue))+de*Math.abs(Math.sin(ue)),he=Math.round(((pe-Math.SQRT2*L)/2+Math.SQRT2*L-(pe-de)/2)*100)/100;re+=";"+V+":-"+he+"px";var _e=n+" solid "+L+"px;",Oe=["position:absolute;width:"+oe+"px;height:"+oe+"px;z-index:-1;",re+";"+ae+";","border-bottom:"+_e,"border-right:"+_e,"background-color:"+$+";"];return'<div style="'+Oe.join("")+'"></div>'}function assembleTransition(g,n){var r="cubic-bezier(0.23,1,0.32,1)",$=" "+g/2+"s "+r,L="opacity"+$+",visibility"+$;return n||($=" "+g+"s "+r,L+=env$1.transformSupported?","+CSS_TRANSFORM_VENDOR+$:",left"+$+",top"+$),CSS_TRANSITION_VENDOR+":"+L}function assembleTransform(g,n,r){var $=g.toFixed(0)+"px",L=n.toFixed(0)+"px";if(!env$1.transformSupported)return r?"top:"+L+";left:"+$+";":[["top",L],["left",$]];var V=env$1.transform3dSupported,oe="translate"+(V?"3d":"")+"("+$+","+L+(V?",0":"")+")";return r?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+oe+";":[["top",0],["left",0],[TRANSFORM_VENDOR,oe]]}function assembleFont(g){var n=[],r=g.get("fontSize"),$=g.getTextColor();$&&n.push("color:"+$),n.push("font:"+g.getFont()),r&&n.push("line-height:"+Math.round(r*3/2)+"px");var L=g.get("textShadowColor"),V=g.get("textShadowBlur")||0,oe=g.get("textShadowOffsetX")||0,re=g.get("textShadowOffsetY")||0;return L&&V&&n.push("text-shadow:"+oe+"px "+re+"px "+V+"px "+L),each$f(["decoration","align"],function(ae){var le=g.get(ae);le&&n.push("text-"+ae+":"+le)}),n.join(";")}function assembleCssText(g,n,r){var $=[],L=g.get("transitionDuration"),V=g.get("backgroundColor"),oe=g.get("shadowBlur"),re=g.get("shadowColor"),ae=g.get("shadowOffsetX"),le=g.get("shadowOffsetY"),ue=g.getModel("textStyle"),de=getPaddingFromTooltipModel(g,"html"),pe=ae+"px "+le+"px "+oe+"px "+re;return $.push("box-shadow:"+pe),n&&L&&$.push(assembleTransition(L,r)),V&&$.push("background-color:"+V),each$f(["width","color","radius"],function(he){var _e="border-"+he,Oe=toCamelCase$2(_e),xe=g.get(Oe);xe!=null&&$.push(_e+":"+xe+(he==="color"?"":"px"))}),$.push(assembleFont(ue)),de!=null&&$.push("padding:"+normalizeCssArray(de).join("px ")+"px"),$.join(";")+";"}function makeStyleCoord$1(g,n,r,$,L){var V=n&&n.painter;if(r){var oe=V&&V.getViewportRoot();oe&&transformLocalCoord(g,oe,document.body,$,L)}else{g[0]=$,g[1]=L;var re=V&&V.getViewportRootOffset();re&&(g[0]+=re.offsetLeft,g[1]+=re.offsetTop)}g[2]=g[0]/n.getWidth(),g[3]=g[1]/n.getHeight()}var TooltipHTMLContent=function(){function g(n,r,$){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,env$1.wxa)return null;var L=document.createElement("div");L.domBelongToZr=!0,this.el=L;var V=this._zr=r.getZr(),oe=this._appendToBody=$&&$.appendToBody;makeStyleCoord$1(this._styleCoord,V,oe,r.getWidth()/2,r.getHeight()/2),oe?document.body.appendChild(L):n.appendChild(L),this._container=n;var re=this;L.onmouseenter=function(){re._enterable&&(clearTimeout(re._hideTimeout),re._show=!0),re._inContent=!0},L.onmousemove=function(ae){if(ae=ae||window.event,!re._enterable){var le=V.handler,ue=V.painter.getViewportRoot();normalizeEvent(ue,ae,!0),le.dispatch("mousemove",ae)}},L.onmouseleave=function(){re._inContent=!1,re._enterable&&re._show&&re.hideLater(re._hideDelay)}}return g.prototype.update=function(n){var r=this._container,$=getComputedStyle$1(r,"position"),L=r.style;L.position!=="absolute"&&$!=="absolute"&&(L.position="relative");var V=n.get("alwaysShowContent");V&&this._moveIfResized(),this._alwaysShowContent=V,this.el.className=n.get("className")||""},g.prototype.show=function(n,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var $=this.el,L=$.style,V=this._styleCoord;$.innerHTML?L.cssText=gCssText+assembleCssText(n,!this._firstShow,this._longHide)+assembleTransform(V[0],V[1],!0)+("border-color:"+convertToColorString(r)+";")+(n.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):L.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},g.prototype.setContent=function(n,r,$,L,V){var oe=this.el;if(n==null){oe.innerHTML="";return}var re="";if(isString$3(V)&&$.get("trigger")==="item"&&!shouldTooltipConfine($)&&(re=assembleArrow($,L,V)),isString$3(n))oe.innerHTML=n+re;else if(n){oe.innerHTML="",isArray$6(n)||(n=[n]);for(var ae=0;ae<n.length;ae++)isDom(n[ae])&&n[ae].parentNode!==oe&&oe.appendChild(n[ae]);if(re&&oe.childNodes.length){var le=document.createElement("div");le.innerHTML=re,oe.appendChild(le)}}},g.prototype.setEnterable=function(n){this._enterable=n},g.prototype.getSize=function(){var n=this.el;return[n.offsetWidth,n.offsetHeight]},g.prototype.moveTo=function(n,r){var $=this._styleCoord;if(makeStyleCoord$1($,this._zr,this._appendToBody,n,r),$[0]!=null&&$[1]!=null){var L=this.el.style,V=assembleTransform($[0],$[1]);each$f(V,function(oe){L[oe[0]]=oe[1]})}},g.prototype._moveIfResized=function(){var n=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),r*this._zr.getHeight())},g.prototype.hide=function(){var n=this,r=this.el.style;r.visibility="hidden",r.opacity="0",env$1.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return n._longHide=!0},500)},g.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$3(this.hide,this),n)):this.hide())},g.prototype.isShow=function(){return this._show},g.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},g}();const TooltipHTMLContent$1=TooltipHTMLContent;var TooltipRichContent=function(){function g(n){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=n.getZr(),makeStyleCoord(this._styleCoord,this._zr,n.getWidth()/2,n.getHeight()/2)}return g.prototype.update=function(n){var r=n.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},g.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},g.prototype.setContent=function(n,r,$,L,V){var oe=this;isObject$6(n)&&throwError$1(""),this.el&&this._zr.remove(this.el);var re=$.getModel("textStyle");this.el=new ZRText$1({style:{rich:r.richTextStyles,text:n,lineHeight:22,borderWidth:1,borderColor:L,textShadowColor:re.get("textShadowColor"),fill:$.get(["textStyle","color"]),padding:getPaddingFromTooltipModel($,"richText"),verticalAlign:"top",align:"left"},z:$.get("z")}),each$f(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(le){oe.el.style[le]=$.get(le)}),each$f(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(le){oe.el.style[le]=re.get(le)||0}),this._zr.add(this.el);var ae=this;this.el.on("mouseover",function(){ae._enterable&&(clearTimeout(ae._hideTimeout),ae._show=!0),ae._inContent=!0}),this.el.on("mouseout",function(){ae._enterable&&ae._show&&ae.hideLater(ae._hideDelay),ae._inContent=!1})},g.prototype.setEnterable=function(n){this._enterable=n},g.prototype.getSize=function(){var n=this.el,r=this.el.getBoundingRect(),$=calcShadowOuterSize(n.style);return[r.width+$.left+$.right,r.height+$.top+$.bottom]},g.prototype.moveTo=function(n,r){var $=this.el;if($){var L=this._styleCoord;makeStyleCoord(L,this._zr,n,r),n=L[0],r=L[1];var V=$.style,oe=mathMaxWith0(V.borderWidth||0),re=calcShadowOuterSize(V);$.x=n+oe+re.left,$.y=r+oe+re.top,$.markRedraw()}},g.prototype._moveIfResized=function(){var n=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),r*this._zr.getHeight())},g.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},g.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$3(this.hide,this),n)):this.hide())},g.prototype.isShow=function(){return this._show},g.prototype.dispose=function(){this._zr.remove(this.el)},g}();function mathMaxWith0(g){return Math.max(0,g)}function calcShadowOuterSize(g){var n=mathMaxWith0(g.shadowBlur||0),r=mathMaxWith0(g.shadowOffsetX||0),$=mathMaxWith0(g.shadowOffsetY||0);return{left:mathMaxWith0(n-r),right:mathMaxWith0(n+r),top:mathMaxWith0(n-$),bottom:mathMaxWith0(n+$)}}function makeStyleCoord(g,n,r,$){g[0]=r,g[1]=$,g[2]=g[0]/n.getWidth(),g[3]=g[1]/n.getHeight()}const TooltipRichContent$1=TooltipRichContent;var proxyRect=new Rect$3({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$){if(!(env$1.node||!$.getDom())){var L=r.getComponent("tooltip"),V=this._renderMode=getTooltipRenderMode(L.get("renderMode"));this._tooltipContent=V==="richText"?new TooltipRichContent$1($):new TooltipHTMLContent$1($.getDom(),$,{appendToBody:L.get("appendToBody",!0)})}},n.prototype.render=function(r,$,L){if(!(env$1.node||!L.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=$,this._api=L;var V=this._tooltipContent;V.update(r),V.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear$1(this,"_updatePosition")}},n.prototype._initGlobalListener=function(){var r=this._tooltipModel,$=r.get("triggerOn");register("itemTooltip",this._api,bind$3(function(L,V,oe){$!=="none"&&($.indexOf(L)>=0?this._tryShow(V,oe):L==="leave"&&this._hide(oe))},this))},n.prototype._keepShow=function(){var r=this._tooltipModel,$=this._ecModel,L=this._api,V=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&V!=="none"&&V!=="click"){var oe=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!L.isDisposed()&&oe.manuallyShowTip(r,$,L,{x:oe._lastX,y:oe._lastY,dataByCoordSys:oe._lastDataByCoordSys})})}},n.prototype.manuallyShowTip=function(r,$,L,V){if(!(V.from===this.uid||env$1.node||!L.getDom())){var oe=makeDispatchAction(V,L);this._ticket="";var re=V.dataByCoordSys,ae=findComponentReference(V,$,L);if(ae){var le=ae.el.getBoundingRect().clone();le.applyTransform(ae.el.transform),this._tryShow({offsetX:le.x+le.width/2,offsetY:le.y+le.height/2,target:ae.el,position:V.position,positionDefault:"bottom"},oe)}else if(V.tooltip&&V.x!=null&&V.y!=null){var ue=proxyRect;ue.x=V.x,ue.y=V.y,ue.update(),getECData(ue).tooltipConfig={name:null,option:V.tooltip},this._tryShow({offsetX:V.x,offsetY:V.y,target:ue},oe)}else if(re)this._tryShow({offsetX:V.x,offsetY:V.y,position:V.position,dataByCoordSys:re,tooltipOption:V.tooltipOption},oe);else if(V.seriesIndex!=null){if(this._manuallyAxisShowTip(r,$,L,V))return;var de=findPointFromSeries(V,$),pe=de.point[0],he=de.point[1];pe!=null&&he!=null&&this._tryShow({offsetX:pe,offsetY:he,target:de.el,position:V.position,positionDefault:"bottom"},oe)}else V.x!=null&&V.y!=null&&(L.dispatchAction({type:"updateAxisPointer",x:V.x,y:V.y}),this._tryShow({offsetX:V.x,offsetY:V.y,position:V.position,target:L.getZr().findHover(V.x,V.y).target},oe))}},n.prototype.manuallyHideTip=function(r,$,L,V){var oe=this._tooltipContent;this._tooltipModel&&oe.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,V.from!==this.uid&&this._hide(makeDispatchAction(V,L))},n.prototype._manuallyAxisShowTip=function(r,$,L,V){var oe=V.seriesIndex,re=V.dataIndex,ae=$.getComponent("axisPointer").coordSysAxesInfo;if(!(oe==null||re==null||ae==null)){var le=$.getSeriesByIndex(oe);if(le){var ue=le.getData(),de=buildTooltipModel([ue.getItemModel(re),le,(le.coordinateSystem||{}).model],this._tooltipModel);if(de.get("trigger")==="axis")return L.dispatchAction({type:"updateAxisPointer",seriesIndex:oe,dataIndex:re,position:V.position}),!0}}},n.prototype._tryShow=function(r,$){var L=r.target,V=this._tooltipModel;if(V){this._lastX=r.offsetX,this._lastY=r.offsetY;var oe=r.dataByCoordSys;if(oe&&oe.length)this._showAxisTooltip(oe,r);else if(L){this._lastDataByCoordSys=null;var re,ae;findEventDispatcher(L,function(le){if(getECData(le).dataIndex!=null)return re=le,!0;if(getECData(le).tooltipConfig!=null)return ae=le,!0},!0),re?this._showSeriesItemTooltip(r,re,$):ae?this._showComponentItemTooltip(r,ae,$):this._hide($)}else this._lastDataByCoordSys=null,this._hide($)}},n.prototype._showOrMove=function(r,$){var L=r.get("showDelay");$=bind$3($,this),clearTimeout(this._showTimout),L>0?this._showTimout=setTimeout($,L):$()},n.prototype._showAxisTooltip=function(r,$){var L=this._ecModel,V=this._tooltipModel,oe=[$.offsetX,$.offsetY],re=buildTooltipModel([$.tooltipOption],V),ae=this._renderMode,le=[],ue=createTooltipMarkup("section",{blocks:[],noHeader:!0}),de=[],pe=new TooltipMarkupStyleCreator;each$f(r,function(Ie){each$f(Ie.dataByAxis,function(Ne){var ze=L.getComponent(Ne.axisDim+"Axis",Ne.axisIndex),Ue=Ne.value;if(!(!ze||Ue==null)){var Fe=getValueLabel(Ue,ze.axis,L,Ne.seriesDataIndices,Ne.valueLabelOpt),qe=createTooltipMarkup("section",{header:Fe,noHeader:!trim$3(Fe),sortBlocks:!0,blocks:[]});ue.blocks.push(qe),each$f(Ne.seriesDataIndices,function(Et){var At=L.getSeriesByIndex(Et.seriesIndex),kt=Et.dataIndexInside,Dt=At.getDataParams(kt);if(!(Dt.dataIndex<0)){Dt.axisDim=Ne.axisDim,Dt.axisIndex=Ne.axisIndex,Dt.axisType=Ne.axisType,Dt.axisId=Ne.axisId,Dt.axisValue=getAxisRawValue(ze.axis,{value:Ue}),Dt.axisValueLabel=Fe,Dt.marker=pe.makeTooltipMarker("item",convertToColorString(Dt.color),ae);var jt=normalizeTooltipFormatResult(At.formatTooltip(kt,!0,null)),Lt=jt.frag;if(Lt){var hn=buildTooltipModel([At],V).get("valueFormatter");qe.blocks.push(hn?extend$3({valueFormatter:hn},Lt):Lt)}jt.text&&de.push(jt.text),le.push(Dt)}})}})}),ue.blocks.reverse(),de.reverse();var he=$.position,_e=re.get("order"),Oe=buildTooltipMarkup(ue,pe,ae,_e,L.get("useUTC"),re.get("textStyle"));Oe&&de.unshift(Oe);var xe=ae==="richText"?`

`:"<br/>",$e=de.join(xe);this._showOrMove(re,function(){this._updateContentNotChangedOnAxis(r,le)?this._updatePosition(re,he,oe[0],oe[1],this._tooltipContent,le):this._showTooltipContent(re,$e,le,Math.random()+"",oe[0],oe[1],he,null,pe)})},n.prototype._showSeriesItemTooltip=function(r,$,L){var V=this._ecModel,oe=getECData($),re=oe.seriesIndex,ae=V.getSeriesByIndex(re),le=oe.dataModel||ae,ue=oe.dataIndex,de=oe.dataType,pe=le.getData(de),he=this._renderMode,_e=r.positionDefault,Oe=buildTooltipModel([pe.getItemModel(ue),le,ae&&(ae.coordinateSystem||{}).model],this._tooltipModel,_e?{position:_e}:null),xe=Oe.get("trigger");if(!(xe!=null&&xe!=="item")){var $e=le.getDataParams(ue,de),Ie=new TooltipMarkupStyleCreator;$e.marker=Ie.makeTooltipMarker("item",convertToColorString($e.color),he);var Ne=normalizeTooltipFormatResult(le.formatTooltip(ue,!1,de)),ze=Oe.get("order"),Ue=Oe.get("valueFormatter"),Fe=Ne.frag,qe=Fe?buildTooltipMarkup(Ue?extend$3({valueFormatter:Ue},Fe):Fe,Ie,he,ze,V.get("useUTC"),Oe.get("textStyle")):Ne.text,Et="item_"+le.name+"_"+ue;this._showOrMove(Oe,function(){this._showTooltipContent(Oe,qe,$e,Et,r.offsetX,r.offsetY,r.position,r.target,Ie)}),L({type:"showTip",dataIndexInside:ue,dataIndex:pe.getRawIndex(ue),seriesIndex:re,from:this.uid})}},n.prototype._showComponentItemTooltip=function(r,$,L){var V=getECData($),oe=V.tooltipConfig,re=oe.option||{};if(isString$3(re)){var ae=re;re={content:ae,formatter:ae}}var le=[re],ue=this._ecModel.getComponent(V.componentMainType,V.componentIndex);ue&&le.push(ue),le.push({formatter:re.content});var de=r.positionDefault,pe=buildTooltipModel(le,this._tooltipModel,de?{position:de}:null),he=pe.get("content"),_e=Math.random()+"",Oe=new TooltipMarkupStyleCreator;this._showOrMove(pe,function(){var xe=clone$5(pe.get("formatterParams")||{});this._showTooltipContent(pe,he,xe,_e,r.offsetX,r.offsetY,r.position,$,Oe)}),L({type:"showTip",from:this.uid})},n.prototype._showTooltipContent=function(r,$,L,V,oe,re,ae,le,ue){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var de=this._tooltipContent;de.setEnterable(r.get("enterable"));var pe=r.get("formatter");ae=ae||r.get("position");var he=$,_e=this._getNearestPoint([oe,re],L,r.get("trigger"),r.get("borderColor")),Oe=_e.color;if(pe)if(isString$3(pe)){var xe=r.ecModel.get("useUTC"),$e=isArray$6(L)?L[0]:L,Ie=$e&&$e.axisType&&$e.axisType.indexOf("time")>=0;he=pe,Ie&&(he=format$1($e.axisValue,he,xe)),he=formatTpl(he,L,!0)}else if(isFunction$3(pe)){var Ne=bind$3(function(ze,Ue){ze===this._ticket&&(de.setContent(Ue,ue,r,Oe,ae),this._updatePosition(r,ae,oe,re,de,L,le))},this);this._ticket=V,he=pe(L,V,Ne)}else he=pe;de.setContent(he,ue,r,Oe,ae),de.show(r,Oe),this._updatePosition(r,ae,oe,re,de,L,le)}},n.prototype._getNearestPoint=function(r,$,L,V){if(L==="axis"||isArray$6($))return{color:V||(this._renderMode==="html"?"#fff":"none")};if(!isArray$6($))return{color:V||$.color||$.borderColor}},n.prototype._updatePosition=function(r,$,L,V,oe,re,ae){var le=this._api.getWidth(),ue=this._api.getHeight();$=$||r.get("position");var de=oe.getSize(),pe=r.get("align"),he=r.get("verticalAlign"),_e=ae&&ae.getBoundingRect().clone();if(ae&&_e.applyTransform(ae.transform),isFunction$3($)&&($=$([L,V],re,oe.el,_e,{viewSize:[le,ue],contentSize:de.slice()})),isArray$6($))L=parsePercent($[0],le),V=parsePercent($[1],ue);else if(isObject$6($)){var Oe=$;Oe.width=de[0],Oe.height=de[1];var xe=getLayoutRect(Oe,{width:le,height:ue});L=xe.x,V=xe.y,pe=null,he=null}else if(isString$3($)&&ae){var $e=calcTooltipPosition($,_e,de,r.get("borderWidth"));L=$e[0],V=$e[1]}else{var $e=refixTooltipPosition(L,V,oe,le,ue,pe?null:20,he?null:20);L=$e[0],V=$e[1]}if(pe&&(L-=isCenterAlign(pe)?de[0]/2:pe==="right"?de[0]:0),he&&(V-=isCenterAlign(he)?de[1]/2:he==="bottom"?de[1]:0),shouldTooltipConfine(r)){var $e=confineTooltipPosition(L,V,oe,le,ue);L=$e[0],V=$e[1]}oe.moveTo(L,V)},n.prototype._updateContentNotChangedOnAxis=function(r,$){var L=this._lastDataByCoordSys,V=this._cbParamsList,oe=!!L&&L.length===r.length;return oe&&each$f(L,function(re,ae){var le=re.dataByAxis||[],ue=r[ae]||{},de=ue.dataByAxis||[];oe=oe&&le.length===de.length,oe&&each$f(le,function(pe,he){var _e=de[he]||{},Oe=pe.seriesDataIndices||[],xe=_e.seriesDataIndices||[];oe=oe&&pe.value===_e.value&&pe.axisType===_e.axisType&&pe.axisId===_e.axisId&&Oe.length===xe.length,oe&&each$f(Oe,function($e,Ie){var Ne=xe[Ie];oe=oe&&$e.seriesIndex===Ne.seriesIndex&&$e.dataIndex===Ne.dataIndex}),V&&each$f(pe.seriesDataIndices,function($e){var Ie=$e.seriesIndex,Ne=$[Ie],ze=V[Ie];Ne&&ze&&ze.data!==Ne.data&&(oe=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=$,!!oe},n.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},n.prototype.dispose=function(r,$){env$1.node||!$.getDom()||(clear$1(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",$))},n.type="tooltip",n}(ComponentView$1);function buildTooltipModel(g,n,r){var $=n.ecModel,L;r?(L=new Model$1(r,$,$),L=new Model$1(n.option,L,$)):L=n;for(var V=g.length-1;V>=0;V--){var oe=g[V];oe&&(oe instanceof Model$1&&(oe=oe.get("tooltip",!0)),isString$3(oe)&&(oe={formatter:oe}),oe&&(L=new Model$1(oe,L,$)))}return L}function makeDispatchAction(g,n){return g.dispatchAction||bind$3(n.dispatchAction,n)}function refixTooltipPosition(g,n,r,$,L,V,oe){var re=r.getSize(),ae=re[0],le=re[1];return V!=null&&(g+ae+V+2>$?g-=ae+V:g+=V),oe!=null&&(n+le+oe>L?n-=le+oe:n+=oe),[g,n]}function confineTooltipPosition(g,n,r,$,L){var V=r.getSize(),oe=V[0],re=V[1];return g=Math.min(g+oe,$)-oe,n=Math.min(n+re,L)-re,g=Math.max(g,0),n=Math.max(n,0),[g,n]}function calcTooltipPosition(g,n,r,$){var L=r[0],V=r[1],oe=Math.ceil(Math.SQRT2*$)+8,re=0,ae=0,le=n.width,ue=n.height;switch(g){case"inside":re=n.x+le/2-L/2,ae=n.y+ue/2-V/2;break;case"top":re=n.x+le/2-L/2,ae=n.y-V-oe;break;case"bottom":re=n.x+le/2-L/2,ae=n.y+ue+oe;break;case"left":re=n.x-L-oe,ae=n.y+ue/2-V/2;break;case"right":re=n.x+le+oe,ae=n.y+ue/2-V/2}return[re,ae]}function isCenterAlign(g){return g==="center"||g==="middle"}function findComponentReference(g,n,r){var $=preParseFinder(g).queryOptionMap,L=$.keys()[0];if(!(!L||L==="series")){var V=queryReferringComponents(n,L,$.get(L),{useDefault:!1,enableAll:!1,enableNone:!1}),oe=V.models[0];if(oe){var re=r.getViewOfComponentModel(oe),ae;if(re.group.traverse(function(le){var ue=getECData(le).tooltipConfig;if(ue&&ue.name===g.name)return ae=le,!0}),ae)return{componentMainType:L,componentIndex:oe.componentIndex,el:ae}}}}const TooltipView$1=TooltipView;function install$k(g){use(install$s),g.registerComponentModel(TooltipModel$1),g.registerComponentView(TooltipView$1),g.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop$5),g.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop$5)}var DEFAULT_TOOLBOX_BTNS=["rect","polygon","keep","clear"];function brushPreprocessor(g,n){var r=normalizeToArray(g?g.brush:[]);if(r.length){var $=[];each$f(r,function(ae){var le=ae.hasOwnProperty("toolbox")?ae.toolbox:[];le instanceof Array&&($=$.concat(le))});var L=g&&g.toolbox;isArray$6(L)&&(L=L[0]),L||(L={feature:{}},g.toolbox=[L]);var V=L.feature||(L.feature={}),oe=V.brush||(V.brush={}),re=oe.type||(oe.type=[]);re.push.apply(re,$),removeDuplicate(re),n&&!re.length&&re.push.apply(re,DEFAULT_TOOLBOX_BTNS)}}function removeDuplicate(g){var n={};each$f(g,function(r){n[r]=1}),g.length=0,each$f(n,function(r,$){g.push($)})}var each$4=each$f;function hasKeys(g){if(g){for(var n in g)if(g.hasOwnProperty(n))return!0}}function createVisualMappings(g,n,r){var $={};return each$4(n,function(V){var oe=$[V]=L();each$4(g[V],function(re,ae){if(VisualMapping$1.isValidType(ae)){var le={type:ae,visual:re};r&&r(le,V),oe[ae]=new VisualMapping$1(le),ae==="opacity"&&(le=clone$5(le),le.type="colorAlpha",oe.__hidden.__alphaForOpacity=new VisualMapping$1(le))}})}),$;function L(){var V=function(){};V.prototype.__hidden=V.prototype;var oe=new V;return oe}}function replaceVisualOption(g,n,r){var $;each$f(r,function(L){n.hasOwnProperty(L)&&hasKeys(n[L])&&($=!0)}),$&&each$f(r,function(L){n.hasOwnProperty(L)&&hasKeys(n[L])?g[L]=clone$5(n[L]):delete g[L]})}function applyVisual(g,n,r,$,L,V){var oe={};each$f(g,function(de){var pe=VisualMapping$1.prepareVisualTypes(n[de]);oe[de]=pe});var re;function ae(de){return getItemVisualFromData(r,re,de)}function le(de,pe){setItemVisualFromData(r,re,de,pe)}V==null?r.each(ue):r.each([V],ue);function ue(de,pe){re=V==null?de:pe;var he=r.getRawDataItem(re);if(!(he&&he.visualMap===!1))for(var _e=$.call(L,de),Oe=n[_e],xe=oe[_e],$e=0,Ie=xe.length;$e<Ie;$e++){var Ne=xe[$e];Oe[Ne]&&Oe[Ne].applyVisual(de,ae,le)}}}function incrementalApplyVisual(g,n,r,$){var L={};return each$f(g,function(V){var oe=VisualMapping$1.prepareVisualTypes(n[V]);L[V]=oe}),{progress:function(V,oe){var re;$!=null&&(re=oe.getDimensionIndex($));function ae(ze){return getItemVisualFromData(oe,ue,ze)}function le(ze,Ue){setItemVisualFromData(oe,ue,ze,Ue)}for(var ue,de=oe.getStore();(ue=V.next())!=null;){var pe=oe.getRawDataItem(ue);if(!(pe&&pe.visualMap===!1))for(var he=$!=null?de.get(re,ue):ue,_e=r(he),Oe=n[_e],xe=L[_e],$e=0,Ie=xe.length;$e<Ie;$e++){var Ne=xe[$e];Oe[Ne]&&Oe[Ne].applyVisual(he,ae,le)}}}}}function makeBrushCommonSelectorForSeries(g){var n=g.brushType,r={point:function($){return selector[n].point($,r,g)},rect:function($){return selector[n].rect($,r,g)}};return r}var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(g,n,r){return g&&r.boundingRect.contain(g[0],g[1])},rect:function(g,n,r){return g&&r.boundingRect.intersect(g)}},polygon:{point:function(g,n,r){return g&&r.boundingRect.contain(g[0],g[1])&&contain(r.range,g[0],g[1])},rect:function(g,n,r){var $=r.range;if(!g||$.length<=1)return!1;var L=g.x,V=g.y,oe=g.width,re=g.height,ae=$[0];if(contain($,L,V)||contain($,L+oe,V)||contain($,L,V+re)||contain($,L+oe,V+re)||BoundingRect$1.create(g).contain(ae[0],ae[1])||linePolygonIntersect(L,V,L+oe,V,$)||linePolygonIntersect(L,V,L,V+re,$)||linePolygonIntersect(L+oe,V,L+oe,V+re,$)||linePolygonIntersect(L,V+re,L+oe,V+re,$))return!0}}};function getLineSelectors(g){var n=["x","y"],r=["width","height"];return{point:function($,L,V){if($){var oe=V.range,re=$[g];return inLineRange(re,oe)}},rect:function($,L,V){if($){var oe=V.range,re=[$[n[g]],$[n[g]]+$[r[g]]];return re[1]<re[0]&&re.reverse(),inLineRange(re[0],oe)||inLineRange(re[1],oe)||inLineRange(oe[0],re)||inLineRange(oe[1],re)}}}}function inLineRange(g,n){return n[0]<=g&&g<=n[1]}var STATE_LIST=["inBrush","outOfBrush"],DISPATCH_METHOD="__ecBrushSelect",DISPATCH_FLAG="__ecInBrushSelectEvent";function layoutCovers(g){g.eachComponent({mainType:"brush"},function(n){var r=n.brushTargetManager=new BrushTargetManager$1(n.option,g);r.setInputRanges(n.areas,g)})}function brushVisual(g,n,r){var $=[],L,V;g.eachComponent({mainType:"brush"},function(oe){r&&r.type==="takeGlobalCursor"&&oe.setBrushOption(r.key==="brush"?r.brushOption:{brushType:!1})}),layoutCovers(g),g.eachComponent({mainType:"brush"},function(oe,re){var ae={brushId:oe.id,brushIndex:re,brushName:oe.name,areas:clone$5(oe.areas),selected:[]};$.push(ae);var le=oe.option,ue=le.brushLink,de=[],pe=[],he=[],_e=!1;re||(L=le.throttleType,V=le.throttleDelay);var Oe=map$2(oe.areas,function(Ue){var Fe=boundingRectBuilders[Ue.brushType],qe=defaults$5({boundingRect:Fe?Fe(Ue):void 0},Ue);return qe.selectors=makeBrushCommonSelectorForSeries(qe),qe}),xe=createVisualMappings(oe.option,STATE_LIST,function(Ue){Ue.mappingMethod="fixed"});isArray$6(ue)&&each$f(ue,function(Ue){de[Ue]=1});function $e(Ue){return ue==="all"||!!de[Ue]}function Ie(Ue){return!!Ue.length}g.eachSeries(function(Ue,Fe){var qe=he[Fe]=[];Ue.subType==="parallel"?Ne(Ue,Fe):ze(Ue,Fe,qe)});function Ne(Ue,Fe){var qe=Ue.coordinateSystem;_e=_e||qe.hasAxisBrushed(),$e(Fe)&&qe.eachActiveState(Ue.getData(),function(Et,At){Et==="active"&&(pe[At]=1)})}function ze(Ue,Fe,qe){if(!(!Ue.brushSelector||brushModelNotControll(oe,Fe))&&(each$f(Oe,function(At){oe.brushTargetManager.controlSeries(At,Ue,g)&&qe.push(At),_e=_e||Ie(qe)}),$e(Fe)&&Ie(qe))){var Et=Ue.getData();Et.each(function(At){checkInRange(Ue,qe,Et,At)&&(pe[At]=1)})}}g.eachSeries(function(Ue,Fe){var qe={seriesId:Ue.id,seriesIndex:Fe,seriesName:Ue.name,dataIndex:[]};ae.selected.push(qe);var Et=he[Fe],At=Ue.getData(),kt=$e(Fe)?function(Dt){return pe[Dt]?(qe.dataIndex.push(At.getRawIndex(Dt)),"inBrush"):"outOfBrush"}:function(Dt){return checkInRange(Ue,Et,At,Dt)?(qe.dataIndex.push(At.getRawIndex(Dt)),"inBrush"):"outOfBrush"};($e(Fe)?_e:Ie(Et))&&applyVisual(STATE_LIST,xe,At,kt)})}),dispatchAction$1(n,L,V,$,r)}function dispatchAction$1(g,n,r,$,L){if(L){var V=g.getZr();if(!V[DISPATCH_FLAG]){V[DISPATCH_METHOD]||(V[DISPATCH_METHOD]=doDispatch);var oe=createOrUpdate(V,DISPATCH_METHOD,r,n);oe(g,$)}}}function doDispatch(g,n){if(!g.isDisposed()){var r=g.getZr();r[DISPATCH_FLAG]=!0,g.dispatchAction({type:"brushSelect",batch:n}),r[DISPATCH_FLAG]=!1}}function checkInRange(g,n,r,$){for(var L=0,V=n.length;L<V;L++){var oe=n[L];if(g.brushSelector($,r,oe.selectors,oe))return!0}}function brushModelNotControll(g,n){var r=g.option.seriesIndex;return r!=null&&r!=="all"&&(isArray$6(r)?indexOf(r,n)<0:n!==r)}var boundingRectBuilders={rect:function(g){return getBoundingRectFromMinMax(g.range)},polygon:function(g){for(var n,r=g.range,$=0,L=r.length;$<L;$++){n=n||[[1/0,-1/0],[1/0,-1/0]];var V=r[$];V[0]<n[0][0]&&(n[0][0]=V[0]),V[0]>n[0][1]&&(n[0][1]=V[0]),V[1]<n[1][0]&&(n[1][0]=V[1]),V[1]>n[1][1]&&(n[1][1]=V[1])}return n&&getBoundingRectFromMinMax(n)}};function getBoundingRectFromMinMax(g){return new BoundingRect$1(g[0][0],g[1][0],g[0][1]-g[0][0],g[1][1]-g[1][0])}var BrushView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$){this.ecModel=r,this.api=$,this.model,(this._brushController=new BrushController$1($.getZr())).on("brush",bind$3(this._onBrush,this)).mount()},n.prototype.render=function(r,$,L,V){this.model=r,this._updateController(r,$,L,V)},n.prototype.updateTransform=function(r,$,L,V){layoutCovers($),this._updateController(r,$,L,V)},n.prototype.updateVisual=function(r,$,L,V){this.updateTransform(r,$,L,V)},n.prototype.updateView=function(r,$,L,V){this._updateController(r,$,L,V)},n.prototype._updateController=function(r,$,L,V){(!V||V.$from!==r.id)&&this._brushController.setPanels(r.brushTargetManager.makePanelOpts(L)).enableBrush(r.brushOption).updateCovers(r.areas.slice())},n.prototype.dispose=function(){this._brushController.dispose()},n.prototype._onBrush=function(r){var $=this.model.id,L=this.model.brushTargetManager.setOutputRanges(r.areas,this.ecModel);(!r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:$,areas:clone$5(L),$from:$}),r.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:$,areas:clone$5(L),$from:$})},n.type="brush",n}(ComponentView$1);const BrushView$1=BrushView;var DEFAULT_OUT_OF_BRUSH_COLOR="#ddd",BrushModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.areas=[],r.brushOption={},r}return n.prototype.optionUpdated=function(r,$){var L=this.option;!$&&replaceVisualOption(L,r,["inBrush","outOfBrush"]);var V=L.inBrush=L.inBrush||{};L.outOfBrush=L.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR},V.hasOwnProperty("liftZ")||(V.liftZ=5)},n.prototype.setAreas=function(r){!r||(this.areas=map$2(r,function($){return generateBrushOption(this.option,$)},this))},n.prototype.setBrushOption=function(r){this.brushOption=generateBrushOption(this.option,r),this.brushType=this.brushOption.brushType},n.type="brush",n.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],n.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},n}(ComponentModel$1);function generateBrushOption(g,n){return merge$4({brushType:g.brushType,brushMode:g.brushMode,transformable:g.transformable,brushStyle:new Model$1(g.brushStyle).getItemStyle(),removeOnClick:g.removeOnClick,z:g.z},n,!0)}const BrushModel$1=BrushModel;var ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature=function(g){__extends(n,g);function n(){return g!==null&&g.apply(this,arguments)||this}return n.prototype.render=function(r,$,L){var V,oe,re;$.eachComponent({mainType:"brush"},function(ae){V=ae.brushType,oe=ae.brushOption.brushMode||"single",re=re||!!ae.areas.length}),this._brushType=V,this._brushMode=oe,each$f(r.get("type",!0),function(ae){r.setIconStatus(ae,(ae==="keep"?oe==="multiple":ae==="clear"?re:ae===V)?"emphasis":"normal")})},n.prototype.updateView=function(r,$,L){this.render(r,$,L)},n.prototype.getIcons=function(){var r=this.model,$=r.get("icon",!0),L={};return each$f(r.get("type",!0),function(V){$[V]&&(L[V]=$[V])}),L},n.prototype.onclick=function(r,$,L){var V=this._brushType,oe=this._brushMode;L==="clear"?($.dispatchAction({type:"axisAreaSelect",intervals:[]}),$.dispatchAction({type:"brush",command:"clear",areas:[]})):$.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:L==="keep"?V:V===L?!1:L,brushMode:L==="keep"?oe==="multiple"?"single":"multiple":oe}})},n.getDefaultOption=function(r){var $={show:!0,type:ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:r.getLocaleModel().get(["toolbox","brush","title"])};return $},n}(ToolboxFeature);const BrushFeature$1=BrushFeature;function install$j(g){g.registerComponentView(BrushView$1),g.registerComponentModel(BrushModel$1),g.registerPreprocessor(brushPreprocessor),g.registerVisual(g.PRIORITY.VISUAL.BRUSH,brushVisual),g.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(n,r){r.eachComponent({mainType:"brush",query:n},function($){$.setAreas(n.areas)})}),g.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},noop$5),g.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},noop$5),registerFeature("brush",BrushFeature$1)}var TitleModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.layoutMode={type:"box",ignoreSize:!0},r}return n.type="title",n.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},n}(ComponentModel$1),TitleView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,$,L){if(this.group.removeAll(),!!r.get("show")){var V=this.group,oe=r.getModel("textStyle"),re=r.getModel("subtextStyle"),ae=r.get("textAlign"),le=retrieve2(r.get("textBaseline"),r.get("textVerticalAlign")),ue=new ZRText$1({style:createTextStyle(oe,{text:r.get("text"),fill:oe.getTextColor()},{disableBox:!0}),z2:10}),de=ue.getBoundingRect(),pe=r.get("subtext"),he=new ZRText$1({style:createTextStyle(re,{text:pe,fill:re.getTextColor(),y:de.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),_e=r.get("link"),Oe=r.get("sublink"),xe=r.get("triggerEvent",!0);ue.silent=!_e&&!xe,he.silent=!Oe&&!xe,_e&&ue.on("click",function(){windowOpen(_e,"_"+r.get("target"))}),Oe&&he.on("click",function(){windowOpen(Oe,"_"+r.get("subtarget"))}),getECData(ue).eventData=getECData(he).eventData=xe?{componentType:"title",componentIndex:r.componentIndex}:null,V.add(ue),pe&&V.add(he);var $e=V.getBoundingRect(),Ie=r.getBoxLayoutParams();Ie.width=$e.width,Ie.height=$e.height;var Ne=getLayoutRect(Ie,{width:L.getWidth(),height:L.getHeight()},r.get("padding"));ae||(ae=r.get("left")||r.get("right"),ae==="middle"&&(ae="center"),ae==="right"?Ne.x+=Ne.width:ae==="center"&&(Ne.x+=Ne.width/2)),le||(le=r.get("top")||r.get("bottom"),le==="center"&&(le="middle"),le==="bottom"?Ne.y+=Ne.height:le==="middle"&&(Ne.y+=Ne.height/2),le=le||"top"),V.x=Ne.x,V.y=Ne.y,V.markRedraw();var ze={align:ae,verticalAlign:le};ue.setStyle(ze),he.setStyle(ze),$e=V.getBoundingRect();var Ue=Ne.margin,Fe=r.getItemStyle(["color","opacity"]);Fe.fill=r.get("backgroundColor");var qe=new Rect$3({shape:{x:$e.x-Ue[3],y:$e.y-Ue[0],width:$e.width+Ue[1]+Ue[3],height:$e.height+Ue[0]+Ue[2],r:r.get("borderRadius")},style:Fe,subPixelOptimize:!0,silent:!0});V.add(qe)}},n.type="title",n}(ComponentView$1);function install$i(g){g.registerComponentModel(TitleModel),g.registerComponentView(TitleView)}var TimelineModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.layoutMode="box",r}return n.prototype.init=function(r,$,L){this.mergeDefaultAndTheme(r,L),this._initData()},n.prototype.mergeOption=function(r){g.prototype.mergeOption.apply(this,arguments),this._initData()},n.prototype.setCurrentIndex=function(r){r==null&&(r=this.option.currentIndex);var $=this._data.count();this.option.loop?r=(r%$+$)%$:(r>=$&&(r=$-1),r<0&&(r=0)),this.option.currentIndex=r},n.prototype.getCurrentIndex=function(){return this.option.currentIndex},n.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},n.prototype.setPlayState=function(r){this.option.autoPlay=!!r},n.prototype.getPlayState=function(){return!!this.option.autoPlay},n.prototype._initData=function(){var r=this.option,$=r.data||[],L=r.axisType,V=this._names=[],oe;L==="category"?(oe=[],each$f($,function(le,ue){var de=convertOptionIdName(getDataItemValue(le),""),pe;isObject$6(le)?(pe=clone$5(le),pe.value=ue):pe=ue,oe.push(pe),V.push(de)})):oe=$;var re={category:"ordinal",time:"time",value:"number"}[L]||"number",ae=this._data=new SeriesData$1([{name:"value",type:re}],this);ae.initData(oe,V)},n.prototype.getData=function(){return this._data},n.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},n.type="timeline",n.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},n}(ComponentModel$1);const TimelineModel$1=TimelineModel;var SliderTimelineModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="timeline.slider",n.defaultOption=inheritDefaultOption(TimelineModel$1.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),n}(TimelineModel$1);mixin(SliderTimelineModel,DataFormatMixin.prototype);const SliderTimelineModel$1=SliderTimelineModel;var TimelineView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="timeline",n}(ComponentView$1);const TimelineView$1=TimelineView;var TimelineAxis=function(g){__extends(n,g);function n(r,$,L,V){var oe=g.call(this,r,$,L)||this;return oe.type=V||"value",oe}return n.prototype.getLabelModel=function(){return this.model.getModel("label")},n.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},n}(Axis$1);const TimelineAxis$1=TimelineAxis;var PI=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,$){this.api=$},n.prototype.render=function(r,$,L){if(this.model=r,this.api=L,this.ecModel=$,this.group.removeAll(),r.get("show",!0)){var V=this._layout(r,L),oe=this._createGroup("_mainGroup"),re=this._createGroup("_labelGroup"),ae=this._axis=this._createAxis(V,r);r.formatTooltip=function(le){var ue=ae.scale.getLabel({value:le});return createTooltipMarkup("nameValue",{noName:!0,value:ue})},each$f(["AxisLine","AxisTick","Control","CurrentPointer"],function(le){this["_render"+le](V,oe,ae,r)},this),this._renderAxisLabel(V,re,ae,r),this._position(V,r)}this._doPlayStop(),this._updateTicksStatus()},n.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},n.prototype.dispose=function(){this._clearTimer()},n.prototype._layout=function(r,$){var L=r.get(["label","position"]),V=r.get("orient"),oe=getViewRect(r,$),re;L==null||L==="auto"?re=V==="horizontal"?oe.y+oe.height/2<$.getHeight()/2?"-":"+":oe.x+oe.width/2<$.getWidth()/2?"+":"-":isString$3(L)?re={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[V][L]:re=L;var ae={horizontal:"center",vertical:re>=0||re==="+"?"left":"right"},le={horizontal:re>=0||re==="+"?"top":"bottom",vertical:"middle"},ue={horizontal:0,vertical:PI/2},de=V==="vertical"?oe.height:oe.width,pe=r.getModel("controlStyle"),he=pe.get("show",!0),_e=he?pe.get("itemSize"):0,Oe=he?pe.get("itemGap"):0,xe=_e+Oe,$e=r.get(["label","rotate"])||0;$e=$e*PI/180;var Ie,Ne,ze,Ue=pe.get("position",!0),Fe=he&&pe.get("showPlayBtn",!0),qe=he&&pe.get("showPrevBtn",!0),Et=he&&pe.get("showNextBtn",!0),At=0,kt=de;Ue==="left"||Ue==="bottom"?(Fe&&(Ie=[0,0],At+=xe),qe&&(Ne=[At,0],At+=xe),Et&&(ze=[kt-_e,0],kt-=xe)):(Fe&&(Ie=[kt-_e,0],kt-=xe),qe&&(Ne=[0,0],At+=xe),Et&&(ze=[kt-_e,0],kt-=xe));var Dt=[At,kt];return r.get("inverse")&&Dt.reverse(),{viewRect:oe,mainLength:de,orient:V,rotation:ue[V],labelRotation:$e,labelPosOpt:re,labelAlign:r.get(["label","align"])||ae[V],labelBaseline:r.get(["label","verticalAlign"])||r.get(["label","baseline"])||le[V],playPosition:Ie,prevBtnPosition:Ne,nextBtnPosition:ze,axisExtent:Dt,controlSize:_e,controlGap:Oe}},n.prototype._position=function(r,$){var L=this._mainGroup,V=this._labelGroup,oe=r.viewRect;if(r.orient==="vertical"){var re=create$1(),ae=oe.x,le=oe.y+oe.height;translate$1(re,re,[-ae,-le]),rotate(re,re,-PI/2),translate$1(re,re,[ae,le]),oe=oe.clone(),oe.applyTransform(re)}var ue=Ie(oe),de=Ie(L.getBoundingRect()),pe=Ie(V.getBoundingRect()),he=[L.x,L.y],_e=[V.x,V.y];_e[0]=he[0]=ue[0][0];var Oe=r.labelPosOpt;if(Oe==null||isString$3(Oe)){var xe=Oe==="+"?0:1;Ne(he,de,ue,1,xe),Ne(_e,pe,ue,1,1-xe)}else{var xe=Oe>=0?0:1;Ne(he,de,ue,1,xe),_e[1]=he[1]+Oe}L.setPosition(he),V.setPosition(_e),L.rotation=V.rotation=r.rotation,$e(L),$e(V);function $e(ze){ze.originX=ue[0][0]-ze.x,ze.originY=ue[1][0]-ze.y}function Ie(ze){return[[ze.x,ze.x+ze.width],[ze.y,ze.y+ze.height]]}function Ne(ze,Ue,Fe,qe,Et){ze[qe]+=Fe[qe][Et]-Ue[qe][Et]}},n.prototype._createAxis=function(r,$){var L=$.getData(),V=$.get("axisType"),oe=createScaleByModel($,V);oe.getTicks=function(){return L.mapArray(["value"],function(le){return{value:le}})};var re=L.getDataExtent("value");oe.setExtent(re[0],re[1]),oe.calcNiceTicks();var ae=new TimelineAxis$1("value",oe,r.axisExtent,V);return ae.model=$,ae},n.prototype._createGroup=function(r){var $=this[r]=new Group$4;return this.group.add($),$},n.prototype._renderAxisLine=function(r,$,L,V){var oe=L.getExtent();if(V.get(["lineStyle","show"])){var re=new Line$4({shape:{x1:oe[0],y1:0,x2:oe[1],y2:0},style:extend$3({lineCap:"round"},V.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});$.add(re);var ae=this._progressLine=new Line$4({shape:{x1:oe[0],x2:this._currentPointer?this._currentPointer.x:oe[0],y1:0,y2:0},style:defaults$5({lineCap:"round",lineWidth:re.style.lineWidth},V.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});$.add(ae)}},n.prototype._renderAxisTick=function(r,$,L,V){var oe=this,re=V.getData(),ae=L.scale.getTicks();this._tickSymbols=[],each$f(ae,function(le){var ue=L.dataToCoord(le.value),de=re.getItemModel(le.value),pe=de.getModel("itemStyle"),he=de.getModel(["emphasis","itemStyle"]),_e=de.getModel(["progress","itemStyle"]),Oe={x:ue,y:0,onclick:bind$3(oe._changeTimeline,oe,le.value)},xe=giveSymbol(de,pe,$,Oe);xe.ensureState("emphasis").style=he.getItemStyle(),xe.ensureState("progress").style=_e.getItemStyle(),enableHoverEmphasis(xe);var $e=getECData(xe);de.get("tooltip")?($e.dataIndex=le.value,$e.dataModel=V):$e.dataIndex=$e.dataModel=null,oe._tickSymbols.push(xe)})},n.prototype._renderAxisLabel=function(r,$,L,V){var oe=this,re=L.getLabelModel();if(re.get("show")){var ae=V.getData(),le=L.getViewLabels();this._tickLabels=[],each$f(le,function(ue){var de=ue.tickValue,pe=ae.getItemModel(de),he=pe.getModel("label"),_e=pe.getModel(["emphasis","label"]),Oe=pe.getModel(["progress","label"]),xe=L.dataToCoord(ue.tickValue),$e=new ZRText$1({x:xe,y:0,rotation:r.labelRotation-r.rotation,onclick:bind$3(oe._changeTimeline,oe,de),silent:!1,style:createTextStyle(he,{text:ue.formattedLabel,align:r.labelAlign,verticalAlign:r.labelBaseline})});$e.ensureState("emphasis").style=createTextStyle(_e),$e.ensureState("progress").style=createTextStyle(Oe),$.add($e),enableHoverEmphasis($e),labelDataIndexStore($e).dataIndex=de,oe._tickLabels.push($e)})}},n.prototype._renderControl=function(r,$,L,V){var oe=r.controlSize,re=r.rotation,ae=V.getModel("controlStyle").getItemStyle(),le=V.getModel(["emphasis","controlStyle"]).getItemStyle(),ue=V.getPlayState(),de=V.get("inverse",!0);pe(r.nextBtnPosition,"next",bind$3(this._changeTimeline,this,de?"-":"+")),pe(r.prevBtnPosition,"prev",bind$3(this._changeTimeline,this,de?"+":"-")),pe(r.playPosition,ue?"stop":"play",bind$3(this._handlePlayClick,this,!ue),!0);function pe(he,_e,Oe,xe){if(he){var $e=parsePercent$1(retrieve2(V.get(["controlStyle",_e+"BtnSize"]),oe),oe),Ie=[0,-$e/2,$e,$e],Ne=makeControlIcon(V,_e+"Icon",Ie,{x:he[0],y:he[1],originX:oe/2,originY:0,rotation:xe?-re:0,rectHover:!0,style:ae,onclick:Oe});Ne.ensureState("emphasis").style=le,$.add(Ne),enableHoverEmphasis(Ne)}}},n.prototype._renderCurrentPointer=function(r,$,L,V){var oe=V.getData(),re=V.getCurrentIndex(),ae=oe.getItemModel(re).getModel("checkpointStyle"),le=this,ue={onCreate:function(de){de.draggable=!0,de.drift=bind$3(le._handlePointerDrag,le),de.ondragend=bind$3(le._handlePointerDragend,le),pointerMoveTo(de,le._progressLine,re,L,V,!0)},onUpdate:function(de){pointerMoveTo(de,le._progressLine,re,L,V)}};this._currentPointer=giveSymbol(ae,ae,this._mainGroup,{},this._currentPointer,ue)},n.prototype._handlePlayClick=function(r){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:r,from:this.uid})},n.prototype._handlePointerDrag=function(r,$,L){this._clearTimer(),this._pointerChangeTimeline([L.offsetX,L.offsetY])},n.prototype._handlePointerDragend=function(r){this._pointerChangeTimeline([r.offsetX,r.offsetY],!0)},n.prototype._pointerChangeTimeline=function(r,$){var L=this._toAxisCoord(r)[0],V=this._axis,oe=asc$2(V.getExtent().slice());L>oe[1]&&(L=oe[1]),L<oe[0]&&(L=oe[0]),this._currentPointer.x=L,this._currentPointer.markRedraw();var re=this._progressLine;re&&(re.shape.x2=L,re.dirty());var ae=this._findNearestTick(L),le=this.model;($||ae!==le.getCurrentIndex()&&le.get("realtime"))&&this._changeTimeline(ae)},n.prototype._doPlayStop=function(){var r=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var $=r.model;r._changeTimeline($.getCurrentIndex()+($.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},n.prototype._toAxisCoord=function(r){var $=this._mainGroup.getLocalTransform();return applyTransform(r,$,!0)},n.prototype._findNearestTick=function(r){var $=this.model.getData(),L=1/0,V,oe=this._axis;return $.each(["value"],function(re,ae){var le=oe.dataToCoord(re),ue=Math.abs(le-r);ue<L&&(L=ue,V=ae)}),V},n.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},n.prototype._changeTimeline=function(r){var $=this.model.getCurrentIndex();r==="+"?r=$+1:r==="-"&&(r=$-1),this.api.dispatchAction({type:"timelineChange",currentIndex:r,from:this.uid})},n.prototype._updateTicksStatus=function(){var r=this.model.getCurrentIndex(),$=this._tickSymbols,L=this._tickLabels;if($)for(var V=0;V<$.length;V++)$&&$[V]&&$[V].toggleState("progress",V<r);if(L)for(var V=0;V<L.length;V++)L&&L[V]&&L[V].toggleState("progress",labelDataIndexStore(L[V]).dataIndex<=r)},n.type="timeline.slider",n}(TimelineView$1);function createScaleByModel(g,n){if(n=n||g.get("type"),n)switch(n){case"category":return new OrdinalScale$1({ordinalMeta:g.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:g.ecModel.getLocaleModel(),useUTC:g.ecModel.get("useUTC")});default:return new IntervalScale$1}}function getViewRect(g,n){return getLayoutRect(g.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},g.get("padding"))}function makeControlIcon(g,n,r,$){var L=$.style,V=createIcon(g.get(["controlStyle",n]),$||{},new BoundingRect$1(r[0],r[1],r[2],r[3]));return L&&V.setStyle(L),V}function giveSymbol(g,n,r,$,L,V){var oe=n.get("color");if(L)L.setColor(oe),r.add(L),V&&V.onUpdate(L);else{var re=g.get("symbol");L=createSymbol$1(re,-1,-1,2,2,oe),L.setStyle("strokeNoScale",!0),r.add(L),V&&V.onCreate(L)}var ae=n.getItemStyle(["color"]);L.setStyle(ae),$=merge$4({rectHover:!0,z2:100},$,!0);var le=normalizeSymbolSize(g.get("symbolSize"));$.scaleX=le[0]/2,$.scaleY=le[1]/2;var ue=normalizeSymbolOffset(g.get("symbolOffset"),le);ue&&($.x=($.x||0)+ue[0],$.y=($.y||0)+ue[1]);var de=g.get("symbolRotate");return $.rotation=(de||0)*Math.PI/180||0,L.attr($),L.updateTransform(),L}function pointerMoveTo(g,n,r,$,L,V){if(!g.dragging){var oe=L.getModel("checkpointStyle"),re=$.dataToCoord(L.getData().get("value",r));if(V||!oe.get("animation",!0))g.attr({x:re,y:0}),n&&n.attr({shape:{x2:re}});else{var ae={duration:oe.get("animationDuration",!0),easing:oe.get("animationEasing",!0)};g.stopAnimation(null,!0),g.animateTo({x:re,y:0},ae),n&&n.animateTo({shape:{x2:re}},ae)}}}const SliderTimelineView$1=SliderTimelineView;function installTimelineAction(g){g.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(n,r,$){var L=r.getComponent("timeline");return L&&n.currentIndex!=null&&(L.setCurrentIndex(n.currentIndex),!L.get("loop",!0)&&L.isIndexMax()&&L.getPlayState()&&(L.setPlayState(!1),$.dispatchAction({type:"timelinePlayChange",playState:!1,from:n.from}))),r.resetOption("timeline",{replaceMerge:L.get("replaceMerge",!0)}),defaults$5({currentIndex:L.option.currentIndex},n)}),g.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(n,r){var $=r.getComponent("timeline");$&&n.playState!=null&&$.setPlayState(n.playState)})}function timelinePreprocessor(g){var n=g&&g.timeline;isArray$6(n)||(n=n?[n]:[]),each$f(n,function(r){!r||compatibleEC2(r)})}function compatibleEC2(g){var n=g.type,r={number:"value",time:"time"};if(r[n]&&(g.axisType=r[n],delete g.type),transferItem(g),has$1(g,"controlPosition")){var $=g.controlStyle||(g.controlStyle={});has$1($,"position")||($.position=g.controlPosition),$.position==="none"&&!has$1($,"show")&&($.show=!1,delete $.position),delete g.controlPosition}each$f(g.data||[],function(L){isObject$6(L)&&!isArray$6(L)&&(!has$1(L,"value")&&has$1(L,"name")&&(L.value=L.name),transferItem(L))})}function transferItem(g){var n=g.itemStyle||(g.itemStyle={}),r=n.emphasis||(n.emphasis={}),$=g.label||g.label||{},L=$.normal||($.normal={}),V={normal:1,emphasis:1};each$f($,function(oe,re){!V[re]&&!has$1(L,re)&&(L[re]=oe)}),r.label&&!has$1($,"emphasis")&&($.emphasis=r.label,delete r.label)}function has$1(g,n){return g.hasOwnProperty(n)}function install$h(g){g.registerComponentModel(SliderTimelineModel$1),g.registerComponentView(SliderTimelineView$1),g.registerSubTypeDefaulter("timeline",function(){return"slider"}),installTimelineAction(g),g.registerPreprocessor(timelinePreprocessor)}function checkMarkerInSeries(g,n){if(!g)return!1;for(var r=isArray$6(g)?g:[g],$=0;$<r.length;$++)if(r[$]&&r[$][n])return!0;return!1}function fillLabel(g){defaultEmphasis(g,"label",["show"])}var inner$5=makeInner(),MarkerModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.createdBySelf=!1,r}return n.prototype.init=function(r,$,L){this.mergeDefaultAndTheme(r,L),this._mergeOption(r,L,!1,!0)},n.prototype.isAnimationEnabled=function(){if(env$1.node)return!1;var r=this.__hostSeries;return this.getShallow("animation")&&r&&r.isAnimationEnabled()},n.prototype.mergeOption=function(r,$){this._mergeOption(r,$,!1,!1)},n.prototype._mergeOption=function(r,$,L,V){var oe=this.mainType;L||$.eachSeries(function(re){var ae=re.get(this.mainType,!0),le=inner$5(re)[oe];if(!ae||!ae.data){inner$5(re)[oe]=null;return}le?le._mergeOption(ae,$,!0):(V&&fillLabel(ae),each$f(ae.data,function(ue){ue instanceof Array?(fillLabel(ue[0]),fillLabel(ue[1])):fillLabel(ue)}),le=this.createMarkerModelFromSeries(ae,this,$),extend$3(le,{mainType:this.mainType,seriesIndex:re.seriesIndex,name:re.name,createdBySelf:!0}),le.__hostSeries=re),inner$5(re)[oe]=le},this)},n.prototype.formatTooltip=function(r,$,L){var V=this.getData(),oe=this.getRawValue(r),re=V.getName(r);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:re,value:oe,noName:!re,noValue:oe==null})]})},n.prototype.getData=function(){return this._data},n.prototype.setData=function(r){this._data=r},n.getMarkerModelFromSeries=function(r,$){return inner$5(r)[$]},n.type="marker",n.dependencies=["series","grid","polar","geo"],n}(ComponentModel$1);mixin(MarkerModel,DataFormatMixin.prototype);const MarkerModel$1=MarkerModel;var MarkPointModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(r,$,L){return new n(r,$,L)},n.type="markPoint",n.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},n}(MarkerModel$1);const MarkPointModel$1=MarkPointModel;function hasXOrY(g){return!(isNaN(parseFloat(g.x))&&isNaN(parseFloat(g.y)))}function hasXAndY(g){return!isNaN(parseFloat(g.x))&&!isNaN(parseFloat(g.y))}function markerTypeCalculatorWithExtent(g,n,r,$,L,V){var oe=[],re=isDimensionStacked(n,$),ae=re?n.getCalculationInfo("stackResultDimension"):$,le=numCalculate(n,ae,g),ue=n.indicesOfNearest(ae,le)[0];oe[L]=n.get(r,ue),oe[V]=n.get(ae,ue);var de=n.get($,ue),pe=getPrecision(n.get($,ue));return pe=Math.min(pe,20),pe>=0&&(oe[V]=+oe[V].toFixed(pe)),[oe,de]}var markerTypeCalculator={min:curry$1(markerTypeCalculatorWithExtent,"min"),max:curry$1(markerTypeCalculatorWithExtent,"max"),average:curry$1(markerTypeCalculatorWithExtent,"average"),median:curry$1(markerTypeCalculatorWithExtent,"median")};function dataTransform(g,n){if(n){var r=g.getData(),$=g.coordinateSystem,L=$&&$.dimensions;if(!hasXAndY(n)&&!isArray$6(n.coord)&&isArray$6(L)){var V=getAxisInfo(n,r,$,g);if(n=clone$5(n),n.type&&markerTypeCalculator[n.type]&&V.baseAxis&&V.valueAxis){var oe=indexOf(L,V.baseAxis.dim),re=indexOf(L,V.valueAxis.dim),ae=markerTypeCalculator[n.type](r,V.baseDataDim,V.valueDataDim,oe,re);n.coord=ae[0],n.value=ae[1]}else n.coord=[n.xAxis!=null?n.xAxis:n.radiusAxis,n.yAxis!=null?n.yAxis:n.angleAxis]}if(n.coord==null||!isArray$6(L))n.coord=[];else for(var le=n.coord,ue=0;ue<2;ue++)markerTypeCalculator[le[ue]]&&(le[ue]=numCalculate(r,r.mapDimension(L[ue]),le[ue]));return n}}function getAxisInfo(g,n,r,$){var L={};return g.valueIndex!=null||g.valueDim!=null?(L.valueDataDim=g.valueIndex!=null?n.getDimension(g.valueIndex):g.valueDim,L.valueAxis=r.getAxis(dataDimToCoordDim($,L.valueDataDim)),L.baseAxis=r.getOtherAxis(L.valueAxis),L.baseDataDim=n.mapDimension(L.baseAxis.dim)):(L.baseAxis=$.getBaseAxis(),L.valueAxis=r.getOtherAxis(L.baseAxis),L.baseDataDim=n.mapDimension(L.baseAxis.dim),L.valueDataDim=n.mapDimension(L.valueAxis.dim)),L}function dataDimToCoordDim(g,n){var r=g.getData().getDimensionInfo(n);return r&&r.coordDim}function dataFilter(g,n){return g&&g.containData&&n.coord&&!hasXOrY(n)?g.containData(n.coord):!0}function zoneFilter(g,n,r){return g&&g.containZone&&n.coord&&r.coord&&!hasXOrY(n)&&!hasXOrY(r)?g.containZone(n.coord,r.coord):!0}function createMarkerDimValueGetter(g,n){return g?function(r,$,L,V){var oe=V<2?r.coord&&r.coord[V]:r.value;return parseDataValue(oe,n[V])}:function(r,$,L,V){return parseDataValue(r.value,n[V])}}function numCalculate(g,n,r){if(r==="average"){var $=0,L=0;return g.each(n,function(V,oe){isNaN(V)||($+=V,L++)}),$/L}else return r==="median"?g.getMedian(n):g.getDataExtent(n)[r==="max"?1:0]}var inner$4=makeInner(),MarkerView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this.markerGroupMap=createHashMap()},n.prototype.render=function(r,$,L){var V=this,oe=this.markerGroupMap;oe.each(function(re){inner$4(re).keep=!1}),$.eachSeries(function(re){var ae=MarkerModel$1.getMarkerModelFromSeries(re,V.type);ae&&V.renderSeries(re,ae,$,L)}),oe.each(function(re){!inner$4(re).keep&&V.group.remove(re.group)})},n.prototype.markKeep=function(r){inner$4(r).keep=!0},n.prototype.toggleBlurSeries=function(r,$){var L=this;each$f(r,function(V){var oe=MarkerModel$1.getMarkerModelFromSeries(V,L.type);if(oe){var re=oe.getData();re.eachItemGraphicEl(function(ae){ae&&($?enterBlur(ae):leaveBlur(ae))})}})},n.type="marker",n}(ComponentView$1);const MarkerView$1=MarkerView;function updateMarkerLayout(g,n,r){var $=n.coordinateSystem;g.each(function(L){var V=g.getItemModel(L),oe,re=parsePercent(V.get("x"),r.getWidth()),ae=parsePercent(V.get("y"),r.getHeight());if(!isNaN(re)&&!isNaN(ae))oe=[re,ae];else if(n.getMarkerPosition)oe=n.getMarkerPosition(g.getValues(g.dimensions,L));else if($){var le=g.get($.dimensions[0],L),ue=g.get($.dimensions[1],L);oe=$.dataToPoint([le,ue])}isNaN(re)||(oe[0]=re),isNaN(ae)||(oe[1]=ae),g.setItemLayout(L,oe)})}var MarkPointView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(r,$,L){$.eachSeries(function(V){var oe=MarkerModel$1.getMarkerModelFromSeries(V,"markPoint");oe&&(updateMarkerLayout(oe.getData(),V,L),this.markerGroupMap.get(V.id).updateLayout())},this)},n.prototype.renderSeries=function(r,$,L,V){var oe=r.coordinateSystem,re=r.id,ae=r.getData(),le=this.markerGroupMap,ue=le.get(re)||le.set(re,new SymbolDraw$1),de=createData(oe,r,$);$.setData(de),updateMarkerLayout($.getData(),r,V),de.each(function(pe){var he=de.getItemModel(pe),_e=he.getShallow("symbol"),Oe=he.getShallow("symbolSize"),xe=he.getShallow("symbolRotate"),$e=he.getShallow("symbolOffset"),Ie=he.getShallow("symbolKeepAspect");if(isFunction$3(_e)||isFunction$3(Oe)||isFunction$3(xe)||isFunction$3($e)){var Ne=$.getRawValue(pe),ze=$.getDataParams(pe);isFunction$3(_e)&&(_e=_e(Ne,ze)),isFunction$3(Oe)&&(Oe=Oe(Ne,ze)),isFunction$3(xe)&&(xe=xe(Ne,ze)),isFunction$3($e)&&($e=$e(Ne,ze))}var Ue=he.getModel("itemStyle").getItemStyle(),Fe=getVisualFromData(ae,"color");Ue.fill||(Ue.fill=Fe),de.setItemVisual(pe,{symbol:_e,symbolSize:Oe,symbolRotate:xe,symbolOffset:$e,symbolKeepAspect:Ie,style:Ue})}),ue.updateData(de),this.group.add(ue.group),de.eachItemGraphicEl(function(pe){pe.traverse(function(he){getECData(he).dataModel=$})}),this.markKeep(ue),ue.group.silent=$.get("silent")||r.get("silent")},n.type="markPoint",n}(MarkerView$1);function createData(g,n,r){var $;g?$=map$2(g&&g.dimensions,function(re){var ae=n.getData().getDimensionInfo(n.getData().mapDimension(re))||{};return extend$3(extend$3({},ae),{name:re,ordinalMeta:null})}):$=[{name:"value",type:"float"}];var L=new SeriesData$1($,r),V=map$2(r.get("data"),curry$1(dataTransform,n));g&&(V=filter(V,curry$1(dataFilter,g)));var oe=createMarkerDimValueGetter(!!g,$);return L.initData(V,null,oe),L}const MarkPointView$1=MarkPointView;function install$g(g){g.registerComponentModel(MarkPointModel$1),g.registerComponentView(MarkPointView$1),g.registerPreprocessor(function(n){checkMarkerInSeries(n.series,"markPoint")&&(n.markPoint=n.markPoint||{})})}var MarkLineModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(r,$,L){return new n(r,$,L)},n.type="markLine",n.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},n}(MarkerModel$1);const MarkLineModel$1=MarkLineModel;var inner$3=makeInner(),markLineTransform=function(g,n,r,$){var L=g.getData(),V;if(isArray$6($))V=$;else{var oe=$.type;if(oe==="min"||oe==="max"||oe==="average"||oe==="median"||$.xAxis!=null||$.yAxis!=null){var re=void 0,ae=void 0;if($.yAxis!=null||$.xAxis!=null)re=n.getAxis($.yAxis!=null?"y":"x"),ae=retrieve($.yAxis,$.xAxis);else{var le=getAxisInfo($,L,n,g);re=le.valueAxis;var ue=getStackedDimension(L,le.valueDataDim);ae=numCalculate(L,ue,oe)}var de=re.dim==="x"?0:1,pe=1-de,he=clone$5($),_e={coord:[]};he.type=null,he.coord=[],he.coord[pe]=-1/0,_e.coord[pe]=1/0;var Oe=r.get("precision");Oe>=0&&isNumber$3(ae)&&(ae=+ae.toFixed(Math.min(Oe,20))),he.coord[de]=_e.coord[de]=ae,V=[he,_e,{type:oe,valueIndex:$.valueIndex,value:ae}]}else V=[]}var xe=[dataTransform(g,V[0]),dataTransform(g,V[1]),extend$3({},V[2])];return xe[2].type=xe[2].type||null,merge$4(xe[2],xe[0]),merge$4(xe[2],xe[1]),xe};function isInfinity$1(g){return!isNaN(g)&&!isFinite(g)}function ifMarkLineHasOnlyDim(g,n,r,$){var L=1-g,V=$.dimensions[g];return isInfinity$1(n[L])&&isInfinity$1(r[L])&&n[g]===r[g]&&$.getAxis(V).containData(n[g])}function markLineFilter(g,n){if(g.type==="cartesian2d"){var r=n[0].coord,$=n[1].coord;if(r&&$&&(ifMarkLineHasOnlyDim(1,r,$,g)||ifMarkLineHasOnlyDim(0,r,$,g)))return!0}return dataFilter(g,n[0])&&dataFilter(g,n[1])}function updateSingleMarkerEndLayout(g,n,r,$,L){var V=$.coordinateSystem,oe=g.getItemModel(n),re,ae=parsePercent(oe.get("x"),L.getWidth()),le=parsePercent(oe.get("y"),L.getHeight());if(!isNaN(ae)&&!isNaN(le))re=[ae,le];else{if($.getMarkerPosition)re=$.getMarkerPosition(g.getValues(g.dimensions,n));else{var ue=V.dimensions,de=g.get(ue[0],n),pe=g.get(ue[1],n);re=V.dataToPoint([de,pe])}if(isCoordinateSystemType(V,"cartesian2d")){var he=V.getAxis("x"),_e=V.getAxis("y"),ue=V.dimensions;isInfinity$1(g.get(ue[0],n))?re[0]=he.toGlobalCoord(he.getExtent()[r?0:1]):isInfinity$1(g.get(ue[1],n))&&(re[1]=_e.toGlobalCoord(_e.getExtent()[r?0:1]))}isNaN(ae)||(re[0]=ae),isNaN(le)||(re[1]=le)}g.setItemLayout(n,re)}var MarkLineView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(r,$,L){$.eachSeries(function(V){var oe=MarkerModel$1.getMarkerModelFromSeries(V,"markLine");if(oe){var re=oe.getData(),ae=inner$3(oe).from,le=inner$3(oe).to;ae.each(function(ue){updateSingleMarkerEndLayout(ae,ue,!0,V,L),updateSingleMarkerEndLayout(le,ue,!1,V,L)}),re.each(function(ue){re.setItemLayout(ue,[ae.getItemLayout(ue),le.getItemLayout(ue)])}),this.markerGroupMap.get(V.id).updateLayout()}},this)},n.prototype.renderSeries=function(r,$,L,V){var oe=r.coordinateSystem,re=r.id,ae=r.getData(),le=this.markerGroupMap,ue=le.get(re)||le.set(re,new LineDraw$1);this.group.add(ue.group);var de=createList$1(oe,r,$),pe=de.from,he=de.to,_e=de.line;inner$3($).from=pe,inner$3($).to=he,$.setData(_e);var Oe=$.get("symbol"),xe=$.get("symbolSize"),$e=$.get("symbolRotate"),Ie=$.get("symbolOffset");isArray$6(Oe)||(Oe=[Oe,Oe]),isArray$6(xe)||(xe=[xe,xe]),isArray$6($e)||($e=[$e,$e]),isArray$6(Ie)||(Ie=[Ie,Ie]),de.from.each(function(ze){Ne(pe,ze,!0),Ne(he,ze,!1)}),_e.each(function(ze){var Ue=_e.getItemModel(ze).getModel("lineStyle").getLineStyle();_e.setItemLayout(ze,[pe.getItemLayout(ze),he.getItemLayout(ze)]),Ue.stroke==null&&(Ue.stroke=pe.getItemVisual(ze,"style").fill),_e.setItemVisual(ze,{fromSymbolKeepAspect:pe.getItemVisual(ze,"symbolKeepAspect"),fromSymbolOffset:pe.getItemVisual(ze,"symbolOffset"),fromSymbolRotate:pe.getItemVisual(ze,"symbolRotate"),fromSymbolSize:pe.getItemVisual(ze,"symbolSize"),fromSymbol:pe.getItemVisual(ze,"symbol"),toSymbolKeepAspect:he.getItemVisual(ze,"symbolKeepAspect"),toSymbolOffset:he.getItemVisual(ze,"symbolOffset"),toSymbolRotate:he.getItemVisual(ze,"symbolRotate"),toSymbolSize:he.getItemVisual(ze,"symbolSize"),toSymbol:he.getItemVisual(ze,"symbol"),style:Ue})}),ue.updateData(_e),de.line.eachItemGraphicEl(function(ze){getECData(ze).dataModel=$,ze.traverse(function(Ue){getECData(Ue).dataModel=$})});function Ne(ze,Ue,Fe){var qe=ze.getItemModel(Ue);updateSingleMarkerEndLayout(ze,Ue,Fe,r,V);var Et=qe.getModel("itemStyle").getItemStyle();Et.fill==null&&(Et.fill=getVisualFromData(ae,"color")),ze.setItemVisual(Ue,{symbolKeepAspect:qe.get("symbolKeepAspect"),symbolOffset:retrieve2(qe.get("symbolOffset",!0),Ie[Fe?0:1]),symbolRotate:retrieve2(qe.get("symbolRotate",!0),$e[Fe?0:1]),symbolSize:retrieve2(qe.get("symbolSize"),xe[Fe?0:1]),symbol:retrieve2(qe.get("symbol",!0),Oe[Fe?0:1]),style:Et})}this.markKeep(ue),ue.group.silent=$.get("silent")||r.get("silent")},n.type="markLine",n}(MarkerView$1);function createList$1(g,n,r){var $;g?$=map$2(g&&g.dimensions,function(le){var ue=n.getData().getDimensionInfo(n.getData().mapDimension(le))||{};return extend$3(extend$3({},ue),{name:le,ordinalMeta:null})}):$=[{name:"value",type:"float"}];var L=new SeriesData$1($,r),V=new SeriesData$1($,r),oe=new SeriesData$1([],r),re=map$2(r.get("data"),curry$1(markLineTransform,n,g,r));g&&(re=filter(re,curry$1(markLineFilter,g)));var ae=createMarkerDimValueGetter(!!g,$);return L.initData(map$2(re,function(le){return le[0]}),null,ae),V.initData(map$2(re,function(le){return le[1]}),null,ae),oe.initData(map$2(re,function(le){return le[2]})),oe.hasItemOption=!0,{from:L,to:V,line:oe}}const MarkLineView$1=MarkLineView;function install$f(g){g.registerComponentModel(MarkLineModel$1),g.registerComponentView(MarkLineView$1),g.registerPreprocessor(function(n){checkMarkerInSeries(n.series,"markLine")&&(n.markLine=n.markLine||{})})}var MarkAreaModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(r,$,L){return new n(r,$,L)},n.type="markArea",n.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},n}(MarkerModel$1);const MarkAreaModel$1=MarkAreaModel;var inner$2=makeInner(),markAreaTransform=function(g,n,r,$){var L=$[0],V=$[1];if(!(!L||!V)){var oe=dataTransform(g,L),re=dataTransform(g,V),ae=oe.coord,le=re.coord;ae[0]=retrieve(ae[0],-1/0),ae[1]=retrieve(ae[1],-1/0),le[0]=retrieve(le[0],1/0),le[1]=retrieve(le[1],1/0);var ue=mergeAll([{},oe,re]);return ue.coord=[oe.coord,re.coord],ue.x0=oe.x,ue.y0=oe.y,ue.x1=re.x,ue.y1=re.y,ue}};function isInfinity(g){return!isNaN(g)&&!isFinite(g)}function ifMarkAreaHasOnlyDim(g,n,r,$){var L=1-g;return isInfinity(n[L])&&isInfinity(r[L])}function markAreaFilter(g,n){var r=n.coord[0],$=n.coord[1],L={coord:r,x:n.x0,y:n.y0},V={coord:$,x:n.x1,y:n.y1};return isCoordinateSystemType(g,"cartesian2d")?r&&$&&(ifMarkAreaHasOnlyDim(1,r,$)||ifMarkAreaHasOnlyDim(0,r,$))?!0:zoneFilter(g,L,V):dataFilter(g,L)||dataFilter(g,V)}function getSingleMarkerEndPoint(g,n,r,$,L){var V=$.coordinateSystem,oe=g.getItemModel(n),re,ae=parsePercent(oe.get(r[0]),L.getWidth()),le=parsePercent(oe.get(r[1]),L.getHeight());if(!isNaN(ae)&&!isNaN(le))re=[ae,le];else{if($.getMarkerPosition){var ue=g.getValues(["x0","y0"],n),de=g.getValues(["x1","y1"],n),pe=V.clampData(ue),he=V.clampData(de),_e=[];r[0]==="x0"?_e[0]=pe[0]>he[0]?de[0]:ue[0]:_e[0]=pe[0]>he[0]?ue[0]:de[0],r[1]==="y0"?_e[1]=pe[1]>he[1]?de[1]:ue[1]:_e[1]=pe[1]>he[1]?ue[1]:de[1],re=$.getMarkerPosition(_e,r,!0)}else{var Oe=g.get(r[0],n),xe=g.get(r[1],n),$e=[Oe,xe];V.clampData&&V.clampData($e,$e),re=V.dataToPoint($e,!0)}if(isCoordinateSystemType(V,"cartesian2d")){var Ie=V.getAxis("x"),Ne=V.getAxis("y"),Oe=g.get(r[0],n),xe=g.get(r[1],n);isInfinity(Oe)?re[0]=Ie.toGlobalCoord(Ie.getExtent()[r[0]==="x0"?0:1]):isInfinity(xe)&&(re[1]=Ne.toGlobalCoord(Ne.getExtent()[r[1]==="y0"?0:1]))}isNaN(ae)||(re[0]=ae),isNaN(le)||(re[1]=le)}return re}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(r,$,L){$.eachSeries(function(V){var oe=MarkerModel$1.getMarkerModelFromSeries(V,"markArea");if(oe){var re=oe.getData();re.each(function(ae){var le=map$2(dimPermutations,function(de){return getSingleMarkerEndPoint(re,ae,de,V,L)});re.setItemLayout(ae,le);var ue=re.getItemGraphicEl(ae);ue.setShape("points",le)})}},this)},n.prototype.renderSeries=function(r,$,L,V){var oe=r.coordinateSystem,re=r.id,ae=r.getData(),le=this.markerGroupMap,ue=le.get(re)||le.set(re,{group:new Group$4});this.group.add(ue.group),this.markKeep(ue);var de=createList(oe,r,$);$.setData(de),de.each(function(pe){var he=map$2(dimPermutations,function(Et){return getSingleMarkerEndPoint(de,pe,Et,r,V)}),_e=oe.getAxis("x").scale,Oe=oe.getAxis("y").scale,xe=_e.getExtent(),$e=Oe.getExtent(),Ie=[_e.parse(de.get("x0",pe)),_e.parse(de.get("x1",pe))],Ne=[Oe.parse(de.get("y0",pe)),Oe.parse(de.get("y1",pe))];asc$2(Ie),asc$2(Ne);var ze=!(xe[0]>Ie[1]||xe[1]<Ie[0]||$e[0]>Ne[1]||$e[1]<Ne[0]),Ue=!ze;de.setItemLayout(pe,{points:he,allClipped:Ue});var Fe=de.getItemModel(pe).getModel("itemStyle").getItemStyle(),qe=getVisualFromData(ae,"color");Fe.fill||(Fe.fill=qe,isString$3(Fe.fill)&&(Fe.fill=modifyAlpha(Fe.fill,.4))),Fe.stroke||(Fe.stroke=qe),de.setItemVisual(pe,"style",Fe)}),de.diff(inner$2(ue).data).add(function(pe){var he=de.getItemLayout(pe);if(!he.allClipped){var _e=new Polygon$1({shape:{points:he.points}});de.setItemGraphicEl(pe,_e),ue.group.add(_e)}}).update(function(pe,he){var _e=inner$2(ue).data.getItemGraphicEl(he),Oe=de.getItemLayout(pe);Oe.allClipped?_e&&ue.group.remove(_e):(_e?updateProps$1(_e,{shape:{points:Oe.points}},$,pe):_e=new Polygon$1({shape:{points:Oe.points}}),de.setItemGraphicEl(pe,_e),ue.group.add(_e))}).remove(function(pe){var he=inner$2(ue).data.getItemGraphicEl(pe);ue.group.remove(he)}).execute(),de.eachItemGraphicEl(function(pe,he){var _e=de.getItemModel(he),Oe=de.getItemVisual(he,"style");pe.useStyle(de.getItemVisual(he,"style")),setLabelStyle(pe,getLabelStatesModels(_e),{labelFetcher:$,labelDataIndex:he,defaultText:de.getName(he)||"",inheritColor:isString$3(Oe.fill)?modifyAlpha(Oe.fill,1):"#000"}),setStatesStylesFromModel(pe,_e),toggleHoverEmphasis(pe,null,null,_e.get(["emphasis","disabled"])),getECData(pe).dataModel=$}),inner$2(ue).data=de,ue.group.silent=$.get("silent")||r.get("silent")},n.type="markArea",n}(MarkerView$1);function createList(g,n,r){var $,L,V=["x0","y0","x1","y1"];if(g){var oe=map$2(g&&g.dimensions,function(le){var ue=n.getData(),de=ue.getDimensionInfo(ue.mapDimension(le))||{};return extend$3(extend$3({},de),{name:le,ordinalMeta:null})});L=map$2(V,function(le,ue){return{name:le,type:oe[ue%2].type}}),$=new SeriesData$1(L,r)}else L=[{name:"value",type:"float"}],$=new SeriesData$1(L,r);var re=map$2(r.get("data"),curry$1(markAreaTransform,n,g,r));g&&(re=filter(re,curry$1(markAreaFilter,g)));var ae=g?function(le,ue,de,pe){var he=le.coord[Math.floor(pe/2)][pe%2];return parseDataValue(he,L[pe])}:function(le,ue,de,pe){return parseDataValue(le.value,L[pe])};return $.initData(re,null,ae),$.hasItemOption=!0,$}const MarkAreaView$1=MarkAreaView;function install$e(g){g.registerComponentModel(MarkAreaModel$1),g.registerComponentView(MarkAreaView$1),g.registerPreprocessor(function(n){checkMarkerInSeries(n.series,"markArea")&&(n.markArea=n.markArea||{})})}var getDefaultSelectorOptions=function(g,n){if(n==="all")return{type:"all",title:g.getLocaleModel().get(["legend","selector","all"])};if(n==="inverse")return{type:"inverse",title:g.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.layoutMode={type:"box",ignoreSize:!0},r}return n.prototype.init=function(r,$,L){this.mergeDefaultAndTheme(r,L),r.selected=r.selected||{},this._updateSelector(r)},n.prototype.mergeOption=function(r,$){g.prototype.mergeOption.call(this,r,$),this._updateSelector(r)},n.prototype._updateSelector=function(r){var $=r.selector,L=this.ecModel;$===!0&&($=r.selector=["all","inverse"]),isArray$6($)&&each$f($,function(V,oe){isString$3(V)&&(V={type:V}),$[oe]=merge$4(V,getDefaultSelectorOptions(L,V.type))})},n.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var $=!1,L=0;L<r.length;L++){var V=r[L].get("name");if(this.isSelected(V)){this.select(V),$=!0;break}}!$&&this.select(r[0].get("name"))}},n.prototype._updateData=function(r){var $=[],L=[];r.eachRawSeries(function(ae){var le=ae.name;L.push(le);var ue;if(ae.legendVisualProvider){var de=ae.legendVisualProvider,pe=de.getAllNames();r.isSeriesFiltered(ae)||(L=L.concat(pe)),pe.length?$=$.concat(pe):ue=!0}else ue=!0;ue&&isNameSpecified(ae)&&$.push(ae.name)}),this._availableNames=L;var V=this.get("data")||$,oe=createHashMap(),re=map$2(V,function(ae){return(isString$3(ae)||isNumber$3(ae))&&(ae={name:ae}),oe.get(ae.name)?null:(oe.set(ae.name,!0),new Model$1(ae,this,this.ecModel))},this);this._data=filter(re,function(ae){return!!ae})},n.prototype.getData=function(){return this._data},n.prototype.select=function(r){var $=this.option.selected,L=this.get("selectedMode");if(L==="single"){var V=this._data;each$f(V,function(oe){$[oe.get("name")]=!1})}$[r]=!0},n.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},n.prototype.toggleSelected=function(r){var $=this.option.selected;$.hasOwnProperty(r)||($[r]=!0),this[$[r]?"unSelect":"select"](r)},n.prototype.allSelect=function(){var r=this._data,$=this.option.selected;each$f(r,function(L){$[L.get("name",!0)]=!0})},n.prototype.inverseSelect=function(){var r=this._data,$=this.option.selected;each$f(r,function(L){var V=L.get("name",!0);$.hasOwnProperty(V)||($[V]=!0),$[V]=!$[V]})},n.prototype.isSelected=function(r){var $=this.option.selected;return!($.hasOwnProperty(r)&&!$[r])&&indexOf(this._availableNames,r)>=0},n.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},n.type="legend.plain",n.dependencies=["series"],n.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},n}(ComponentModel$1);const LegendModel$1=LegendModel;var curry=curry$1,each$3=each$f,Group$1=Group$4,LegendView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.newlineDisabled=!1,r}return n.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},n.prototype.getContentGroup=function(){return this._contentGroup},n.prototype.getSelectorGroup=function(){return this._selectorGroup},n.prototype.render=function(r,$,L){var V=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var oe=r.get("align"),re=r.get("orient");(!oe||oe==="auto")&&(oe=r.get("left")==="right"&&re==="vertical"?"right":"left");var ae=r.get("selector",!0),le=r.get("selectorPosition",!0);ae&&(!le||le==="auto")&&(le=re==="horizontal"?"end":"start"),this.renderInner(oe,r,$,L,ae,re,le);var ue=r.getBoxLayoutParams(),de={width:L.getWidth(),height:L.getHeight()},pe=r.get("padding"),he=getLayoutRect(ue,de,pe),_e=this.layoutInner(r,oe,he,V,ae,le),Oe=getLayoutRect(defaults$5({width:_e.width,height:_e.height},ue),de,pe);this.group.x=Oe.x-_e.x,this.group.y=Oe.y-_e.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(_e,r))}},n.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},n.prototype.renderInner=function(r,$,L,V,oe,re,ae){var le=this.getContentGroup(),ue=createHashMap(),de=$.get("selectedMode"),pe=[];L.eachRawSeries(function(he){!he.get("legendHoverLink")&&pe.push(he.id)}),each$3($.getData(),function(he,_e){var Oe=he.get("name");if(!this.newlineDisabled&&(Oe===""||Oe===`
`)){var xe=new Group$1;xe.newline=!0,le.add(xe);return}var $e=L.getSeriesByName(Oe)[0];if(!ue.get(Oe))if($e){var Ie=$e.getData(),Ne=Ie.getVisual("legendLineStyle")||{},ze=Ie.getVisual("legendIcon"),Ue=Ie.getVisual("style"),Fe=this._createItem($e,Oe,_e,he,$,r,Ne,Ue,ze,de,V);Fe.on("click",curry(dispatchSelectAction,Oe,null,V,pe)).on("mouseover",curry(dispatchHighlightAction,$e.name,null,V,pe)).on("mouseout",curry(dispatchDownplayAction,$e.name,null,V,pe)),ue.set(Oe,!0)}else L.eachRawSeries(function(qe){if(!ue.get(Oe)&&qe.legendVisualProvider){var Et=qe.legendVisualProvider;if(!Et.containName(Oe))return;var At=Et.indexOfName(Oe),kt=Et.getItemVisual(At,"style"),Dt=Et.getItemVisual(At,"legendIcon"),jt=parse(kt.fill);jt&&jt[3]===0&&(jt[3]=.2,kt=extend$3(extend$3({},kt),{fill:stringify$1(jt,"rgba")}));var Lt=this._createItem(qe,Oe,_e,he,$,r,{},kt,Dt,de,V);Lt.on("click",curry(dispatchSelectAction,null,Oe,V,pe)).on("mouseover",curry(dispatchHighlightAction,null,Oe,V,pe)).on("mouseout",curry(dispatchDownplayAction,null,Oe,V,pe)),ue.set(Oe,!0)}},this)},this),oe&&this._createSelector(oe,$,V,re,ae)},n.prototype._createSelector=function(r,$,L,V,oe){var re=this.getSelectorGroup();each$3(r,function(ae){var le=ae.type,ue=new ZRText$1({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){L.dispatchAction({type:le==="all"?"legendAllSelect":"legendInverseSelect"})}});re.add(ue);var de=$.getModel("selectorLabel"),pe=$.getModel(["emphasis","selectorLabel"]);setLabelStyle(ue,{normal:de,emphasis:pe},{defaultText:ae.title}),enableHoverEmphasis(ue)})},n.prototype._createItem=function(r,$,L,V,oe,re,ae,le,ue,de,pe){var he=r.visualDrawType,_e=oe.get("itemWidth"),Oe=oe.get("itemHeight"),xe=oe.isSelected($),$e=V.get("symbolRotate"),Ie=V.get("symbolKeepAspect"),Ne=V.get("icon");ue=Ne||ue||"roundRect";var ze=getLegendStyle(ue,V,ae,le,he,xe,pe),Ue=new Group$1,Fe=V.getModel("textStyle");if(isFunction$3(r.getLegendIcon)&&(!Ne||Ne==="inherit"))Ue.add(r.getLegendIcon({itemWidth:_e,itemHeight:Oe,icon:ue,iconRotate:$e,itemStyle:ze.itemStyle,lineStyle:ze.lineStyle,symbolKeepAspect:Ie}));else{var qe=Ne==="inherit"&&r.getData().getVisual("symbol")?$e==="inherit"?r.getData().getVisual("symbolRotate"):$e:0;Ue.add(getDefaultLegendIcon({itemWidth:_e,itemHeight:Oe,icon:ue,iconRotate:qe,itemStyle:ze.itemStyle,lineStyle:ze.lineStyle,symbolKeepAspect:Ie}))}var Et=re==="left"?_e+5:-5,At=re,kt=oe.get("formatter"),Dt=$;isString$3(kt)&&kt?Dt=kt.replace("{name}",$!=null?$:""):isFunction$3(kt)&&(Dt=kt($));var jt=xe?Fe.getTextColor():V.get("inactiveColor");Ue.add(new ZRText$1({style:createTextStyle(Fe,{text:Dt,x:Et,y:Oe/2,fill:jt,align:At,verticalAlign:"middle"},{inheritColor:jt})}));var Lt=new Rect$3({shape:Ue.getBoundingRect(),invisible:!0}),hn=V.getModel("tooltip");return hn.get("show")&&setTooltipConfig({el:Lt,componentModel:oe,itemName:$,itemTooltipOption:hn.option}),Ue.add(Lt),Ue.eachChild(function(Sn){Sn.silent=!0}),Lt.silent=!de,this.getContentGroup().add(Ue),enableHoverEmphasis(Ue),Ue.__legendDataIndex=L,Ue},n.prototype.layoutInner=function(r,$,L,V,oe,re){var ae=this.getContentGroup(),le=this.getSelectorGroup();box(r.get("orient"),ae,r.get("itemGap"),L.width,L.height);var ue=ae.getBoundingRect(),de=[-ue.x,-ue.y];if(le.markRedraw(),ae.markRedraw(),oe){box("horizontal",le,r.get("selectorItemGap",!0));var pe=le.getBoundingRect(),he=[-pe.x,-pe.y],_e=r.get("selectorButtonGap",!0),Oe=r.getOrient().index,xe=Oe===0?"width":"height",$e=Oe===0?"height":"width",Ie=Oe===0?"y":"x";re==="end"?he[Oe]+=ue[xe]+_e:de[Oe]+=pe[xe]+_e,he[1-Oe]+=ue[$e]/2-pe[$e]/2,le.x=he[0],le.y=he[1],ae.x=de[0],ae.y=de[1];var Ne={x:0,y:0};return Ne[xe]=ue[xe]+_e+pe[xe],Ne[$e]=Math.max(ue[$e],pe[$e]),Ne[Ie]=Math.min(0,pe[Ie]+he[1-Oe]),Ne}else return ae.x=de[0],ae.y=de[1],this.group.getBoundingRect()},n.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},n.type="legend.plain",n}(ComponentView$1);function getLegendStyle(g,n,r,$,L,V,oe){function re(xe,$e){xe.lineWidth==="auto"&&(xe.lineWidth=$e.lineWidth>0?2:0),each$3(xe,function(Ie,Ne){xe[Ne]==="inherit"&&(xe[Ne]=$e[Ne])})}var ae=n.getModel("itemStyle"),le=ae.getItemStyle(),ue=g.lastIndexOf("empty",0)===0?"fill":"stroke",de=ae.getShallow("decal");le.decal=!de||de==="inherit"?$.decal:createOrUpdatePatternFromDecal(de,oe),le.fill==="inherit"&&(le.fill=$[L]),le.stroke==="inherit"&&(le.stroke=$[ue]),le.opacity==="inherit"&&(le.opacity=(L==="fill"?$:r).opacity),re(le,$);var pe=n.getModel("lineStyle"),he=pe.getLineStyle();if(re(he,r),le.fill==="auto"&&(le.fill=$.fill),le.stroke==="auto"&&(le.stroke=$.fill),he.stroke==="auto"&&(he.stroke=$.fill),!V){var _e=n.get("inactiveBorderWidth"),Oe=le[ue];le.lineWidth=_e==="auto"?$.lineWidth>0&&Oe?2:0:le.lineWidth,le.fill=n.get("inactiveColor"),le.stroke=n.get("inactiveBorderColor"),he.stroke=pe.get("inactiveColor"),he.lineWidth=pe.get("inactiveWidth")}return{itemStyle:le,lineStyle:he}}function getDefaultLegendIcon(g){var n=g.icon||"roundRect",r=createSymbol$1(n,0,0,g.itemWidth,g.itemHeight,g.itemStyle.fill,g.symbolKeepAspect);return r.setStyle(g.itemStyle),r.rotation=(g.iconRotate||0)*Math.PI/180,r.setOrigin([g.itemWidth/2,g.itemHeight/2]),n.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function dispatchSelectAction(g,n,r,$){dispatchDownplayAction(g,n,r,$),r.dispatchAction({type:"legendToggleSelect",name:g!=null?g:n}),dispatchHighlightAction(g,n,r,$)}function isUseHoverLayer(g){for(var n=g.getZr().storage.getDisplayList(),r,$=0,L=n.length;$<L&&!(r=n[$].states.emphasis);)$++;return r&&r.hoverLayer}function dispatchHighlightAction(g,n,r,$){isUseHoverLayer(r)||r.dispatchAction({type:"highlight",seriesName:g,name:n,excludeSeriesId:$})}function dispatchDownplayAction(g,n,r,$){isUseHoverLayer(r)||r.dispatchAction({type:"downplay",seriesName:g,name:n,excludeSeriesId:$})}const LegendView$1=LegendView;function legendFilter(g){var n=g.findComponents({mainType:"legend"});n&&n.length&&g.filterSeries(function(r){for(var $=0;$<n.length;$++)if(!n[$].isSelected(r.name))return!1;return!0})}function legendSelectActionHandler(g,n,r){var $={},L=g==="toggleSelected",V;return r.eachComponent("legend",function(oe){L&&V!=null?oe[V?"select":"unSelect"](n.name):g==="allSelect"||g==="inverseSelect"?oe[g]():(oe[g](n.name),V=oe.isSelected(n.name));var re=oe.getData();each$f(re,function(ae){var le=ae.get("name");if(!(le===`
`||le==="")){var ue=oe.isSelected(le);$.hasOwnProperty(le)?$[le]=$[le]&&ue:$[le]=ue}})}),g==="allSelect"||g==="inverseSelect"?{selected:$}:{name:n.name,selected:$}}function installLegendAction(g){g.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),g.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),g.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),g.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),g.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$d(g){g.registerComponentModel(LegendModel$1),g.registerComponentView(LegendView$1),g.registerProcessor(g.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),g.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(g)}var ScrollableLegendModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},n.prototype.init=function(r,$,L){var V=getLayoutParams(r);g.prototype.init.call(this,r,$,L),mergeAndNormalizeLayoutParams(this,r,V)},n.prototype.mergeOption=function(r,$){g.prototype.mergeOption.call(this,r,$),mergeAndNormalizeLayoutParams(this,this.option,r)},n.type="legend.scroll",n.defaultOption=inheritDefaultOption(LegendModel$1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),n}(LegendModel$1);function mergeAndNormalizeLayoutParams(g,n,r){var $=g.getOrient(),L=[1,1];L[$.index]=0,mergeLayoutParam(n,r,{type:"box",ignoreSize:!!L})}const ScrollableLegendModel$1=ScrollableLegendModel;var Group=Group$4,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.newlineDisabled=!0,r._currentIndex=0,r}return n.prototype.init=function(){g.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},n.prototype.resetInner=function(){g.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},n.prototype.renderInner=function(r,$,L,V,oe,re,ae){var le=this;g.prototype.renderInner.call(this,r,$,L,V,oe,re,ae);var ue=this._controllerGroup,de=$.get("pageIconSize",!0),pe=isArray$6(de)?de:[de,de];_e("pagePrev",0);var he=$.getModel("pageTextStyle");ue.add(new ZRText$1({name:"pageText",style:{text:"xx/xx",fill:he.getTextColor(),font:he.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),_e("pageNext",1);function _e(Oe,xe){var $e=Oe+"DataIndex",Ie=createIcon($.get("pageIcons",!0)[$.getOrient().name][xe],{onclick:bind$3(le._pageGo,le,$e,$,V)},{x:-pe[0]/2,y:-pe[1]/2,width:pe[0],height:pe[1]});Ie.name=Oe,ue.add(Ie)}},n.prototype.layoutInner=function(r,$,L,V,oe,re){var ae=this.getSelectorGroup(),le=r.getOrient().index,ue=WH[le],de=XY[le],pe=WH[1-le],he=XY[1-le];oe&&box("horizontal",ae,r.get("selectorItemGap",!0));var _e=r.get("selectorButtonGap",!0),Oe=ae.getBoundingRect(),xe=[-Oe.x,-Oe.y],$e=clone$5(L);oe&&($e[ue]=L[ue]-Oe[ue]-_e);var Ie=this._layoutContentAndController(r,V,$e,le,ue,pe,he,de);if(oe){if(re==="end")xe[le]+=Ie[ue]+_e;else{var Ne=Oe[ue]+_e;xe[le]-=Ne,Ie[de]-=Ne}Ie[ue]+=Oe[ue]+_e,xe[1-le]+=Ie[he]+Ie[pe]/2-Oe[pe]/2,Ie[pe]=Math.max(Ie[pe],Oe[pe]),Ie[he]=Math.min(Ie[he],Oe[he]+xe[1-le]),ae.x=xe[0],ae.y=xe[1],ae.markRedraw()}return Ie},n.prototype._layoutContentAndController=function(r,$,L,V,oe,re,ae,le){var ue=this.getContentGroup(),de=this._containerGroup,pe=this._controllerGroup;box(r.get("orient"),ue,r.get("itemGap"),V?L.width:null,V?null:L.height),box("horizontal",pe,r.get("pageButtonItemGap",!0));var he=ue.getBoundingRect(),_e=pe.getBoundingRect(),Oe=this._showController=he[oe]>L[oe],xe=[-he.x,-he.y];$||(xe[V]=ue[le]);var $e=[0,0],Ie=[-_e.x,-_e.y],Ne=retrieve2(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(Oe){var ze=r.get("pageButtonPosition",!0);ze==="end"?Ie[V]+=L[oe]-_e[oe]:$e[V]+=_e[oe]+Ne}Ie[1-V]+=he[re]/2-_e[re]/2,ue.setPosition(xe),de.setPosition($e),pe.setPosition(Ie);var Ue={x:0,y:0};if(Ue[oe]=Oe?L[oe]:he[oe],Ue[re]=Math.max(he[re],_e[re]),Ue[ae]=Math.min(0,_e[ae]+Ie[1-V]),de.__rectSize=L[oe],Oe){var Fe={x:0,y:0};Fe[oe]=Math.max(L[oe]-_e[oe]-Ne,0),Fe[re]=Ue[re],de.setClipPath(new Rect$3({shape:Fe})),de.__rectSize=Fe[oe]}else pe.eachChild(function(Et){Et.attr({invisible:!0,silent:!0})});var qe=this._getPageInfo(r);return qe.pageIndex!=null&&updateProps$1(ue,{x:qe.contentPosition[0],y:qe.contentPosition[1]},Oe?r:null),this._updatePageInfoView(r,qe),Ue},n.prototype._pageGo=function(r,$,L){var V=this._getPageInfo($)[r];V!=null&&L.dispatchAction({type:"legendScroll",scrollDataIndex:V,legendId:$.id})},n.prototype._updatePageInfoView=function(r,$){var L=this._controllerGroup;each$f(["pagePrev","pageNext"],function(ue){var de=ue+"DataIndex",pe=$[de]!=null,he=L.childOfName(ue);he&&(he.setStyle("fill",pe?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),he.cursor=pe?"pointer":"default")});var V=L.childOfName("pageText"),oe=r.get("pageFormatter"),re=$.pageIndex,ae=re!=null?re+1:0,le=$.pageCount;V&&oe&&V.setStyle("text",isString$3(oe)?oe.replace("{current}",ae==null?"":ae+"").replace("{total}",le==null?"":le+""):oe({current:ae,total:le}))},n.prototype._getPageInfo=function(r){var $=r.get("scrollDataIndex",!0),L=this.getContentGroup(),V=this._containerGroup.__rectSize,oe=r.getOrient().index,re=WH[oe],ae=XY[oe],le=this._findTargetItemIndex($),ue=L.children(),de=ue[le],pe=ue.length,he=pe?1:0,_e={contentPosition:[L.x,L.y],pageCount:he,pageIndex:he-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!de)return _e;var Oe=ze(de);_e.contentPosition[oe]=-Oe.s;for(var xe=le+1,$e=Oe,Ie=Oe,Ne=null;xe<=pe;++xe)Ne=ze(ue[xe]),(!Ne&&Ie.e>$e.s+V||Ne&&!Ue(Ne,$e.s))&&(Ie.i>$e.i?$e=Ie:$e=Ne,$e&&(_e.pageNextDataIndex==null&&(_e.pageNextDataIndex=$e.i),++_e.pageCount)),Ie=Ne;for(var xe=le-1,$e=Oe,Ie=Oe,Ne=null;xe>=-1;--xe)Ne=ze(ue[xe]),(!Ne||!Ue(Ie,Ne.s))&&$e.i<Ie.i&&(Ie=$e,_e.pagePrevDataIndex==null&&(_e.pagePrevDataIndex=$e.i),++_e.pageCount,++_e.pageIndex),$e=Ne;return _e;function ze(Fe){if(Fe){var qe=Fe.getBoundingRect(),Et=qe[ae]+Fe[ae];return{s:Et,e:Et+qe[re],i:Fe.__legendDataIndex}}}function Ue(Fe,qe){return Fe.e>=qe&&Fe.s<=qe+V}},n.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var $,L=this.getContentGroup(),V;return L.eachChild(function(oe,re){var ae=oe.__legendDataIndex;V==null&&ae!=null&&(V=re),ae===r&&($=re)}),$!=null?$:V},n.type="legend.scroll",n}(LegendView$1);const ScrollableLegendView$1=ScrollableLegendView;function installScrollableLegendAction(g){g.registerAction("legendScroll","legendscroll",function(n,r){var $=n.scrollDataIndex;$!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:n},function(L){L.setScrollDataIndex($)})})}function install$c(g){use(install$d),g.registerComponentModel(ScrollableLegendModel$1),g.registerComponentView(ScrollableLegendView$1),installScrollableLegendAction(g)}function install$b(g){use(install$d),use(install$c)}var InsideZoomModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.inside",n.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),n}(DataZoomModel$1);const InsideZoomModel$1=InsideZoomModel;var inner$1=makeInner();function setViewInfoToCoordSysRecord(g,n,r){inner$1(g).coordSysRecordMap.each(function($){var L=$.dataZoomInfoMap.get(n.uid);L&&(L.getRange=r)})}function disposeCoordSysRecordIfNeeded(g,n){for(var r=inner$1(g).coordSysRecordMap,$=r.keys(),L=0;L<$.length;L++){var V=$[L],oe=r.get(V),re=oe.dataZoomInfoMap;if(re){var ae=n.uid,le=re.get(ae);le&&(re.removeKey(ae),re.keys().length||disposeCoordSysRecord(r,oe))}}}function disposeCoordSysRecord(g,n){if(n){g.removeKey(n.model.uid);var r=n.controller;r&&r.dispose()}}function createCoordSysRecord(g,n){var r={model:n,containsPoint:curry$1(containsPoint,n),dispatchAction:curry$1(dispatchAction,g),dataZoomInfoMap:null,controller:null},$=r.controller=new RoamController$1(g.getZr());return each$f(["pan","zoom","scrollMove"],function(L){$.on(L,function(V){var oe=[];r.dataZoomInfoMap.each(function(re){if(V.isAvailableBehavior(re.model.option)){var ae=(re.getRange||{})[L],le=ae&&ae(re.dzReferCoordSysInfo,r.model.mainType,r.controller,V);!re.model.get("disabled",!0)&&le&&oe.push({dataZoomId:re.model.id,start:le[0],end:le[1]})}}),oe.length&&r.dispatchAction(oe)})}),r}function dispatchAction(g,n){g.isDisposed()||g.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:n})}function containsPoint(g,n,r,$){return g.coordinateSystem.containPoint([r,$])}function mergeControllerParams(g){var n,r="type_",$={type_true:2,type_move:1,type_false:0,type_undefined:-1},L=!0;return g.each(function(V){var oe=V.model,re=oe.get("disabled",!0)?!1:oe.get("zoomLock",!0)?"move":!0;$[r+re]>$[r+n]&&(n=re),L=L&&oe.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!L}}}function installDataZoomRoamProcessor(g){g.registerProcessor(g.PRIORITY.PROCESSOR.FILTER,function(n,r){var $=inner$1(r),L=$.coordSysRecordMap||($.coordSysRecordMap=createHashMap());L.each(function(V){V.dataZoomInfoMap=null}),n.eachComponent({mainType:"dataZoom",subType:"inside"},function(V){var oe=collectReferCoordSysModelInfo(V);each$f(oe.infoList,function(re){var ae=re.model.uid,le=L.get(ae)||L.set(ae,createCoordSysRecord(r,re.model)),ue=le.dataZoomInfoMap||(le.dataZoomInfoMap=createHashMap());ue.set(V.uid,{dzReferCoordSysInfo:re,model:V,getRange:null})})}),L.each(function(V){var oe=V.controller,re,ae=V.dataZoomInfoMap;if(ae){var le=ae.keys()[0];le!=null&&(re=ae.get(le))}if(!re){disposeCoordSysRecord(L,V);return}var ue=mergeControllerParams(ae);oe.enable(ue.controlType,ue.opt),oe.setPointerChecker(V.containsPoint),createOrUpdate(V,"dispatchAction",re.model.get("throttle",!0),"fixRate")})})}var InsideZoomView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="dataZoom.inside",r}return n.prototype.render=function(r,$,L){if(g.prototype.render.apply(this,arguments),r.noTarget()){this._clear();return}this.range=r.getPercentRange(),setViewInfoToCoordSysRecord(L,r,{pan:bind$3(getRangeHandlers.pan,this),zoom:bind$3(getRangeHandlers.zoom,this),scrollMove:bind$3(getRangeHandlers.scrollMove,this)})},n.prototype.dispose=function(){this._clear(),g.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},n.type="dataZoom.inside",n}(DataZoomView$1),getRangeHandlers={zoom:function(g,n,r,$){var L=this.range,V=L.slice(),oe=g.axisModels[0];if(oe){var re=getDirectionInfo[n](null,[$.originX,$.originY],oe,r,g),ae=(re.signal>0?re.pixelStart+re.pixelLength-re.pixel:re.pixel-re.pixelStart)/re.pixelLength*(V[1]-V[0])+V[0],le=Math.max(1/$.scale,0);V[0]=(V[0]-ae)*le+ae,V[1]=(V[1]-ae)*le+ae;var ue=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,V,[0,100],0,ue.minSpan,ue.maxSpan),this.range=V,L[0]!==V[0]||L[1]!==V[1])return V}},pan:makeMover(function(g,n,r,$,L,V){var oe=getDirectionInfo[$]([V.oldX,V.oldY],[V.newX,V.newY],n,L,r);return oe.signal*(g[1]-g[0])*oe.pixel/oe.pixelLength}),scrollMove:makeMover(function(g,n,r,$,L,V){var oe=getDirectionInfo[$]([0,0],[V.scrollDelta,V.scrollDelta],n,L,r);return oe.signal*(g[1]-g[0])*V.scrollDelta})};function makeMover(g){return function(n,r,$,L){var V=this.range,oe=V.slice(),re=n.axisModels[0];if(re){var ae=g(oe,re,n,r,$,L);if(sliderMove(ae,oe,[0,100],"all"),this.range=oe,V[0]!==oe[0]||V[1]!==oe[1])return oe}}}var getDirectionInfo={grid:function(g,n,r,$,L){var V=r.axis,oe={},re=L.model.coordinateSystem.getRect();return g=g||[0,0],V.dim==="x"?(oe.pixel=n[0]-g[0],oe.pixelLength=re.width,oe.pixelStart=re.x,oe.signal=V.inverse?1:-1):(oe.pixel=n[1]-g[1],oe.pixelLength=re.height,oe.pixelStart=re.y,oe.signal=V.inverse?-1:1),oe},polar:function(g,n,r,$,L){var V=r.axis,oe={},re=L.model.coordinateSystem,ae=re.getRadiusAxis().getExtent(),le=re.getAngleAxis().getExtent();return g=g?re.pointToCoord(g):[0,0],n=re.pointToCoord(n),r.mainType==="radiusAxis"?(oe.pixel=n[0]-g[0],oe.pixelLength=ae[1]-ae[0],oe.pixelStart=ae[0],oe.signal=V.inverse?1:-1):(oe.pixel=n[1]-g[1],oe.pixelLength=le[1]-le[0],oe.pixelStart=le[0],oe.signal=V.inverse?-1:1),oe},singleAxis:function(g,n,r,$,L){var V=r.axis,oe=L.model.coordinateSystem.getRect(),re={};return g=g||[0,0],V.orient==="horizontal"?(re.pixel=n[0]-g[0],re.pixelLength=oe.width,re.pixelStart=oe.x,re.signal=V.inverse?1:-1):(re.pixel=n[1]-g[1],re.pixelLength=oe.height,re.pixelStart=oe.y,re.signal=V.inverse?-1:1),re}};const InsideZoomView$1=InsideZoomView;function install$a(g){installCommon$1(g),g.registerComponentModel(InsideZoomModel$1),g.registerComponentView(InsideZoomView$1),installDataZoomRoamProcessor(g)}var SliderZoomModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.slider",n.layoutMode="box",n.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),n}(DataZoomModel$1);const SliderZoomModel$1=SliderZoomModel;var Rect=Rect$3,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._displayables={},r}return n.prototype.init=function(r,$){this.api=$,this._onBrush=bind$3(this._onBrush,this),this._onBrushEnd=bind$3(this._onBrushEnd,this)},n.prototype.render=function(r,$,L,V){if(g.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",r.get("throttle"),"fixRate"),this._orient=r.getOrient(),r.get("show")===!1){this.group.removeAll();return}if(r.noTarget()){this._clear(),this.group.removeAll();return}(!V||V.type!=="dataZoom"||V.from!==this.uid)&&this._buildView(),this._updateView()},n.prototype.dispose=function(){this._clear(),g.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){clear$1(this,"_dispatchZoomAction");var r=this.api.getZr();r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)},n.prototype._buildView=function(){var r=this.group;r.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var $=this._displayables.sliderGroup=new Group$4;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),r.add($),this._positionGroup()},n.prototype._resetLocation=function(){var r=this.dataZoomModel,$=this.api,L=r.get("brushSelect"),V=L?DEFAULT_MOVE_HANDLE_SIZE:0,oe=this._findCoordRect(),re={width:$.getWidth(),height:$.getHeight()},ae=this._orient===HORIZONTAL?{right:re.width-oe.x-oe.width,top:re.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-V,width:oe.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:oe.y,width:DEFAULT_FILLER_SIZE,height:oe.height},le=getLayoutParams(r.option);each$f(["right","top","width","height"],function(de){le[de]==="ph"&&(le[de]=ae[de])});var ue=getLayoutRect(le,re);this._location={x:ue.x,y:ue.y},this._size=[ue.width,ue.height],this._orient===VERTICAL&&this._size.reverse()},n.prototype._positionGroup=function(){var r=this.group,$=this._location,L=this._orient,V=this.dataZoomModel.getFirstTargetAxisModel(),oe=V&&V.get("inverse"),re=this._displayables.sliderGroup,ae=(this._dataShadowInfo||{}).otherAxisInverse;re.attr(L===HORIZONTAL&&!oe?{scaleY:ae?1:-1,scaleX:1}:L===HORIZONTAL&&oe?{scaleY:ae?1:-1,scaleX:-1}:L===VERTICAL&&!oe?{scaleY:ae?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:ae?-1:1,scaleX:-1,rotation:Math.PI/2});var le=r.getBoundingRect([re]);r.x=$.x-le.x,r.y=$.y-le.y,r.markRedraw()},n.prototype._getViewExtent=function(){return[0,this._size[0]]},n.prototype._renderBackground=function(){var r=this.dataZoomModel,$=this._size,L=this._displayables.sliderGroup,V=r.get("brushSelect");L.add(new Rect({silent:!0,shape:{x:0,y:0,width:$[0],height:$[1]},style:{fill:r.get("backgroundColor")},z2:-40}));var oe=new Rect({shape:{x:0,y:0,width:$[0],height:$[1]},style:{fill:"transparent"},z2:0,onclick:bind$3(this._onClickPanel,this)}),re=this.api.getZr();V?(oe.on("mousedown",this._onBrushStart,this),oe.cursor="crosshair",re.on("mousemove",this._onBrush),re.on("mouseup",this._onBrushEnd)):(re.off("mousemove",this._onBrush),re.off("mouseup",this._onBrushEnd)),L.add(oe)},n.prototype._renderDataShadow=function(){var r=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!r)return;var $=this._size,L=this._shadowSize||[],V=r.series,oe=V.getRawData(),re=V.getShadowDim&&V.getShadowDim(),ae=re&&oe.getDimensionInfo(re)?V.getShadowDim():r.otherDim;if(ae==null)return;var le=this._shadowPolygonPts,ue=this._shadowPolylinePts;if(oe!==this._shadowData||ae!==this._shadowDim||$[0]!==L[0]||$[1]!==L[1]){var de=oe.getDataExtent(ae),pe=(de[1]-de[0])*.3;de=[de[0]-pe,de[1]+pe];var he=[0,$[1]],_e=[0,$[0]],Oe=[[$[0],0],[0,0]],xe=[],$e=_e[1]/(oe.count()-1),Ie=0,Ne=Math.round(oe.count()/$[0]),ze;oe.each([ae],function(At,kt){if(Ne>0&&kt%Ne){Ie+=$e;return}var Dt=At==null||isNaN(At)||At==="",jt=Dt?0:linearMap$2(At,de,he,!0);Dt&&!ze&&kt?(Oe.push([Oe[Oe.length-1][0],0]),xe.push([xe[xe.length-1][0],0])):!Dt&&ze&&(Oe.push([Ie,0]),xe.push([Ie,0])),Oe.push([Ie,jt]),xe.push([Ie,jt]),Ie+=$e,ze=Dt}),le=this._shadowPolygonPts=Oe,ue=this._shadowPolylinePts=xe}this._shadowData=oe,this._shadowDim=ae,this._shadowSize=[$[0],$[1]];var Ue=this.dataZoomModel;function Fe(At){var kt=Ue.getModel(At?"selectedDataBackground":"dataBackground"),Dt=new Group$4,jt=new Polygon$1({shape:{points:le},segmentIgnoreThreshold:1,style:kt.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Lt=new Polyline$3({shape:{points:ue},segmentIgnoreThreshold:1,style:kt.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return Dt.add(jt),Dt.add(Lt),Dt}for(var qe=0;qe<3;qe++){var Et=Fe(qe===1);this._displayables.sliderGroup.add(Et),this._displayables.dataShadowSegs.push(Et)}},n.prototype._prepareDataShadowInfo=function(){var r=this.dataZoomModel,$=r.get("showDataShadow");if($!==!1){var L,V=this.ecModel;return r.eachTargetAxis(function(oe,re){var ae=r.getAxisProxy(oe,re).getTargetSeriesModels();each$f(ae,function(le){if(!L&&!($!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,le.get("type"))<0)){var ue=V.getComponent(getAxisMainType(oe),re).axis,de=getOtherDim(oe),pe,he=le.coordinateSystem;de!=null&&he.getOtherAxis&&(pe=he.getOtherAxis(ue).inverse),de=le.getData().mapDimension(de),L={thisAxis:ue,series:le,thisDim:oe,otherDim:de,otherAxisInverse:pe}}},this)},this),L}},n.prototype._renderHandle=function(){var r=this.group,$=this._displayables,L=$.handles=[null,null],V=$.handleLabels=[null,null],oe=this._displayables.sliderGroup,re=this._size,ae=this.dataZoomModel,le=this.api,ue=ae.get("borderRadius")||0,de=ae.get("brushSelect"),pe=$.filler=new Rect({silent:de,style:{fill:ae.get("fillerColor")},textConfig:{position:"inside"}});oe.add(pe),oe.add(new Rect({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:re[0],height:re[1],r:ue},style:{stroke:ae.get("dataBackgroundColor")||ae.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),each$f([0,1],function(Ne){var ze=ae.get("handleIcon");!symbolBuildProxies[ze]&&ze.indexOf("path://")<0&&ze.indexOf("image://")<0&&(ze="path://"+ze);var Ue=createSymbol$1(ze,-1,0,2,2,null,!0);Ue.attr({cursor:getCursor$1(this._orient),draggable:!0,drift:bind$3(this._onDragMove,this,Ne),ondragend:bind$3(this._onDragEnd,this),onmouseover:bind$3(this._showDataInfo,this,!0),onmouseout:bind$3(this._showDataInfo,this,!1),z2:5});var Fe=Ue.getBoundingRect(),qe=ae.get("handleSize");this._handleHeight=parsePercent(qe,this._size[1]),this._handleWidth=Fe.width/Fe.height*this._handleHeight,Ue.setStyle(ae.getModel("handleStyle").getItemStyle()),Ue.style.strokeNoScale=!0,Ue.rectHover=!0,Ue.ensureState("emphasis").style=ae.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(Ue);var Et=ae.get("handleColor");Et!=null&&(Ue.style.fill=Et),oe.add(L[Ne]=Ue);var At=ae.getModel("textStyle");r.add(V[Ne]=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle(At,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:At.getTextColor(),font:At.getFont()}),z2:10}))},this);var he=pe;if(de){var _e=parsePercent(ae.get("moveHandleSize"),re[1]),Oe=$.moveHandle=new Rect$3({style:ae.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:re[1]-.5,height:_e}}),xe=_e*.8,$e=$.moveHandleIcon=createSymbol$1(ae.get("moveHandleIcon"),-xe/2,-xe/2,xe,xe,"#fff",!0);$e.silent=!0,$e.y=re[1]+_e/2-.5,Oe.ensureState("emphasis").style=ae.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var Ie=Math.min(re[1]/2,Math.max(_e,10));he=$.moveZone=new Rect$3({invisible:!0,shape:{y:re[1]-Ie,height:_e+Ie}}),he.on("mouseover",function(){le.enterEmphasis(Oe)}).on("mouseout",function(){le.leaveEmphasis(Oe)}),oe.add(Oe),oe.add($e),oe.add(he)}he.attr({draggable:!0,cursor:getCursor$1(this._orient),drift:bind$3(this._onDragMove,this,"all"),ondragstart:bind$3(this._showDataInfo,this,!0),ondragend:bind$3(this._onDragEnd,this),onmouseover:bind$3(this._showDataInfo,this,!0),onmouseout:bind$3(this._showDataInfo,this,!1)})},n.prototype._resetInterval=function(){var r=this._range=this.dataZoomModel.getPercentRange(),$=this._getViewExtent();this._handleEnds=[linearMap$2(r[0],[0,100],$,!0),linearMap$2(r[1],[0,100],$,!0)]},n.prototype._updateInterval=function(r,$){var L=this.dataZoomModel,V=this._handleEnds,oe=this._getViewExtent(),re=L.findRepresentativeAxisProxy().getMinMaxSpan(),ae=[0,100];sliderMove($,V,oe,L.get("zoomLock")?"all":r,re.minSpan!=null?linearMap$2(re.minSpan,ae,oe,!0):null,re.maxSpan!=null?linearMap$2(re.maxSpan,ae,oe,!0):null);var le=this._range,ue=this._range=asc$2([linearMap$2(V[0],oe,ae,!0),linearMap$2(V[1],oe,ae,!0)]);return!le||le[0]!==ue[0]||le[1]!==ue[1]},n.prototype._updateView=function(r){var $=this._displayables,L=this._handleEnds,V=asc$2(L.slice()),oe=this._size;each$f([0,1],function(he){var _e=$.handles[he],Oe=this._handleHeight;_e.attr({scaleX:Oe/2,scaleY:Oe/2,x:L[he]+(he?-1:1),y:oe[1]/2-Oe/2})},this),$.filler.setShape({x:V[0],y:0,width:V[1]-V[0],height:oe[1]});var re={x:V[0],width:V[1]-V[0]};$.moveHandle&&($.moveHandle.setShape(re),$.moveZone.setShape(re),$.moveZone.getBoundingRect(),$.moveHandleIcon&&$.moveHandleIcon.attr("x",re.x+re.width/2));for(var ae=$.dataShadowSegs,le=[0,V[0],V[1],oe[0]],ue=0;ue<ae.length;ue++){var de=ae[ue],pe=de.getClipPath();pe||(pe=new Rect$3,de.setClipPath(pe)),pe.setShape({x:le[ue],y:0,width:le[ue+1]-le[ue],height:oe[1]})}this._updateDataInfo(r)},n.prototype._updateDataInfo=function(r){var $=this.dataZoomModel,L=this._displayables,V=L.handleLabels,oe=this._orient,re=["",""];if($.get("showDetail")){var ae=$.findRepresentativeAxisProxy();if(ae){var le=ae.getAxisModel().axis,ue=this._range,de=r?ae.calculateDataWindow({start:ue[0],end:ue[1]}).valueWindow:ae.getDataValueWindow();re=[this._formatLabel(de[0],le),this._formatLabel(de[1],le)]}}var pe=asc$2(this._handleEnds.slice());he.call(this,0),he.call(this,1);function he(_e){var Oe=getTransform$1(L.handles[_e].parent,this.group),xe=transformDirection(_e===0?"right":"left",Oe),$e=this._handleWidth/2+LABEL_GAP,Ie=applyTransform([pe[_e]+(_e===0?-$e:$e),this._size[1]/2],Oe);V[_e].setStyle({x:Ie[0],y:Ie[1],verticalAlign:oe===HORIZONTAL?"middle":xe,align:oe===HORIZONTAL?xe:"center",text:re[_e]})}},n.prototype._formatLabel=function(r,$){var L=this.dataZoomModel,V=L.get("labelFormatter"),oe=L.get("labelPrecision");(oe==null||oe==="auto")&&(oe=$.getPixelPrecision());var re=r==null||isNaN(r)?"":$.type==="category"||$.type==="time"?$.scale.getLabel({value:Math.round(r)}):r.toFixed(Math.min(oe,20));return isFunction$3(V)?V(r,re):isString$3(V)?V.replace("{value}",re):re},n.prototype._showDataInfo=function(r){r=this._dragging||r;var $=this._displayables,L=$.handleLabels;L[0].attr("invisible",!r),L[1].attr("invisible",!r),$.moveHandle&&this.api[r?"enterEmphasis":"leaveEmphasis"]($.moveHandle,1)},n.prototype._onDragMove=function(r,$,L,V){this._dragging=!0,stop(V.event);var oe=this._displayables.sliderGroup.getLocalTransform(),re=applyTransform([$,L],oe,!0),ae=this._updateInterval(r,re[0]),le=this.dataZoomModel.get("realtime");this._updateView(!le),ae&&le&&this._dispatchZoomAction(!0)},n.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var r=this.dataZoomModel.get("realtime");!r&&this._dispatchZoomAction(!1)},n.prototype._onClickPanel=function(r){var $=this._size,L=this._displayables.sliderGroup.transformCoordToLocal(r.offsetX,r.offsetY);if(!(L[0]<0||L[0]>$[0]||L[1]<0||L[1]>$[1])){var V=this._handleEnds,oe=(V[0]+V[1])/2,re=this._updateInterval("all",L[0]-oe);this._updateView(),re&&this._dispatchZoomAction(!1)}},n.prototype._onBrushStart=function(r){var $=r.offsetX,L=r.offsetY;this._brushStart=new Point$1($,L),this._brushing=!0,this._brushStartTime=+new Date},n.prototype._onBrushEnd=function(r){if(this._brushing){var $=this._displayables.brushRect;if(this._brushing=!1,!!$){$.attr("ignore",!0);var L=$.shape,V=+new Date;if(!(V-this._brushStartTime<200&&Math.abs(L.width)<5)){var oe=this._getViewExtent(),re=[0,100];this._range=asc$2([linearMap$2(L.x,oe,re,!0),linearMap$2(L.x+L.width,oe,re,!0)]),this._handleEnds=[L.x,L.x+L.width],this._updateView(),this._dispatchZoomAction(!1)}}}},n.prototype._onBrush=function(r){this._brushing&&(stop(r.event),this._updateBrushRect(r.offsetX,r.offsetY))},n.prototype._updateBrushRect=function(r,$){var L=this._displayables,V=this.dataZoomModel,oe=L.brushRect;oe||(oe=L.brushRect=new Rect({silent:!0,style:V.getModel("brushStyle").getItemStyle()}),L.sliderGroup.add(oe)),oe.attr("ignore",!1);var re=this._brushStart,ae=this._displayables.sliderGroup,le=ae.transformCoordToLocal(r,$),ue=ae.transformCoordToLocal(re.x,re.y),de=this._size;le[0]=Math.max(Math.min(de[0],le[0]),0),oe.setShape({x:ue[0],y:0,width:le[0]-ue[0],height:de[1]})},n.prototype._dispatchZoomAction=function(r){var $=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:r?REALTIME_ANIMATION_CONFIG:null,start:$[0],end:$[1]})},n.prototype._findCoordRect=function(){var r,$=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!r&&$.length){var L=$[0].model.coordinateSystem;r=L.getRect&&L.getRect()}if(!r){var V=this.api.getWidth(),oe=this.api.getHeight();r={x:V*.2,y:oe*.2,width:V*.6,height:oe*.6}}return r},n.type="dataZoom.slider",n}(DataZoomView$1);function getOtherDim(g){var n={x:"y",y:"x",radius:"angle",angle:"radius"};return n[g]}function getCursor$1(g){return g==="vertical"?"ns-resize":"ew-resize"}const SliderZoomView$1=SliderZoomView;function install$9(g){g.registerComponentModel(SliderZoomModel$1),g.registerComponentView(SliderZoomView$1),installCommon$1(g)}function install$8(g){use(install$a),use(install$9)}var visualDefault={get:function(g,n,r){var $=clone$5((defaultOption[g]||{})[n]);return r&&isArray$6($)?$[$.length-1]:$}},defaultOption={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const visualDefault$1=visualDefault;var mapVisual=VisualMapping$1.mapVisual,eachVisual=VisualMapping$1.eachVisual,isArray$5=isArray$6,each$2=each$f,asc=asc$2,linearMap$1=linearMap$2,VisualMapModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.stateList=["inRange","outOfRange"],r.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],r.layoutMode={type:"box",ignoreSize:!0},r.dataBound=[-1/0,1/0],r.targetVisuals={},r.controllerVisuals={},r}return n.prototype.init=function(r,$,L){this.mergeDefaultAndTheme(r,L)},n.prototype.optionUpdated=function(r,$){var L=this.option;!$&&replaceVisualOption(L,r,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},n.prototype.resetVisual=function(r){var $=this.stateList;r=bind$3(r,this),this.controllerVisuals=createVisualMappings(this.option.controller,$,r),this.targetVisuals=createVisualMappings(this.option.target,$,r)},n.prototype.getItemSymbol=function(){return null},n.prototype.getTargetSeriesIndices=function(){var r=this.option.seriesIndex,$=[];return r==null||r==="all"?this.ecModel.eachSeries(function(L,V){$.push(V)}):$=normalizeToArray(r),$},n.prototype.eachTargetSeries=function(r,$){each$f(this.getTargetSeriesIndices(),function(L){var V=this.ecModel.getSeriesByIndex(L);V&&r.call($,V)},this)},n.prototype.isTargetSeries=function(r){var $=!1;return this.eachTargetSeries(function(L){L===r&&($=!0)}),$},n.prototype.formatValueText=function(r,$,L){var V=this.option,oe=V.precision,re=this.dataBound,ae=V.formatter,le;L=L||["<",">"],isArray$6(r)&&(r=r.slice(),le=!0);var ue=$?r:le?[de(r[0]),de(r[1])]:de(r);if(isString$3(ae))return ae.replace("{value}",le?ue[0]:ue).replace("{value2}",le?ue[1]:ue);if(isFunction$3(ae))return le?ae(r[0],r[1]):ae(r);if(le)return r[0]===re[0]?L[0]+" "+ue[1]:r[1]===re[1]?L[1]+" "+ue[0]:ue[0]+" - "+ue[1];return ue;function de(pe){return pe===re[0]?"min":pe===re[1]?"max":(+pe).toFixed(Math.min(oe,20))}},n.prototype.resetExtent=function(){var r=this.option,$=asc([r.min,r.max]);this._dataExtent=$},n.prototype.getDataDimensionIndex=function(r){var $=this.option.dimension;if($!=null)return r.getDimensionIndex($);for(var L=r.dimensions,V=L.length-1;V>=0;V--){var oe=L[V],re=r.getDimensionInfo(oe);if(!re.isCalculationCoord)return re.storeDimIndex}},n.prototype.getExtent=function(){return this._dataExtent.slice()},n.prototype.completeVisualOption=function(){var r=this.ecModel,$=this.option,L={inRange:$.inRange,outOfRange:$.outOfRange},V=$.target||($.target={}),oe=$.controller||($.controller={});merge$4(V,L),merge$4(oe,L);var re=this.isCategory();ae.call(this,V),ae.call(this,oe),le.call(this,V,"inRange","outOfRange"),ue.call(this,oe);function ae(de){isArray$5($.color)&&!de.inRange&&(de.inRange={color:$.color.slice().reverse()}),de.inRange=de.inRange||{color:r.get("gradientColor")}}function le(de,pe,he){var _e=de[pe],Oe=de[he];_e&&!Oe&&(Oe=de[he]={},each$2(_e,function(xe,$e){if(VisualMapping$1.isValidType($e)){var Ie=visualDefault$1.get($e,"inactive",re);Ie!=null&&(Oe[$e]=Ie,$e==="color"&&!Oe.hasOwnProperty("opacity")&&!Oe.hasOwnProperty("colorAlpha")&&(Oe.opacity=[0,0]))}}))}function ue(de){var pe=(de.inRange||{}).symbol||(de.outOfRange||{}).symbol,he=(de.inRange||{}).symbolSize||(de.outOfRange||{}).symbolSize,_e=this.get("inactiveColor"),Oe=this.getItemSymbol(),xe=Oe||"roundRect";each$2(this.stateList,function($e){var Ie=this.itemSize,Ne=de[$e];Ne||(Ne=de[$e]={color:re?_e:[_e]}),Ne.symbol==null&&(Ne.symbol=pe&&clone$5(pe)||(re?xe:[xe])),Ne.symbolSize==null&&(Ne.symbolSize=he&&clone$5(he)||(re?Ie[0]:[Ie[0],Ie[0]])),Ne.symbol=mapVisual(Ne.symbol,function(Fe){return Fe==="none"?xe:Fe});var ze=Ne.symbolSize;if(ze!=null){var Ue=-1/0;eachVisual(ze,function(Fe){Fe>Ue&&(Ue=Fe)}),Ne.symbolSize=mapVisual(ze,function(Fe){return linearMap$1(Fe,[0,Ue],[0,Ie[0]],!0)})}},this)}},n.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},n.prototype.isCategory=function(){return!!this.option.categories},n.prototype.setSelected=function(r){},n.prototype.getSelected=function(){return null},n.prototype.getValueState=function(r){return null},n.prototype.getVisualMeta=function(r){return null},n.type="visualMap",n.dependencies=["series"],n.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},n}(ComponentModel$1);const VisualMapModel$1=VisualMapModel;var DEFAULT_BAR_BOUND=[20,140],ContinuousModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(r,$){g.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(L){L.mappingMethod="linear",L.dataExtent=this.getExtent()}),this._resetRange()},n.prototype.resetItemSize=function(){g.prototype.resetItemSize.apply(this,arguments);var r=this.itemSize;(r[0]==null||isNaN(r[0]))&&(r[0]=DEFAULT_BAR_BOUND[0]),(r[1]==null||isNaN(r[1]))&&(r[1]=DEFAULT_BAR_BOUND[1])},n.prototype._resetRange=function(){var r=this.getExtent(),$=this.option.range;!$||$.auto?(r.auto=1,this.option.range=r):isArray$6($)&&($[0]>$[1]&&$.reverse(),$[0]=Math.max($[0],r[0]),$[1]=Math.min($[1],r[1]))},n.prototype.completeVisualOption=function(){g.prototype.completeVisualOption.apply(this,arguments),each$f(this.stateList,function(r){var $=this.option.controller[r].symbolSize;$&&$[0]!==$[1]&&($[0]=$[1]/3)},this)},n.prototype.setSelected=function(r){this.option.range=r.slice(),this._resetRange()},n.prototype.getSelected=function(){var r=this.getExtent(),$=asc$2((this.get("range")||[]).slice());return $[0]>r[1]&&($[0]=r[1]),$[1]>r[1]&&($[1]=r[1]),$[0]<r[0]&&($[0]=r[0]),$[1]<r[0]&&($[1]=r[0]),$},n.prototype.getValueState=function(r){var $=this.option.range,L=this.getExtent();return($[0]<=L[0]||$[0]<=r)&&($[1]>=L[1]||r<=$[1])?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(r){var $=[];return this.eachTargetSeries(function(L){var V=[],oe=L.getData();oe.each(this.getDataDimensionIndex(oe),function(re,ae){r[0]<=re&&re<=r[1]&&V.push(ae)},this),$.push({seriesId:L.id,dataIndex:V})},this),$},n.prototype.getVisualMeta=function(r){var $=getColorStopValues(this,"outOfRange",this.getExtent()),L=getColorStopValues(this,"inRange",this.option.range.slice()),V=[];function oe(he,_e){V.push({value:he,color:r(he,_e)})}for(var re=0,ae=0,le=L.length,ue=$.length;ae<ue&&(!L.length||$[ae]<=L[0]);ae++)$[ae]<L[re]&&oe($[ae],"outOfRange");for(var de=1;re<le;re++,de=0)de&&V.length&&oe(L[re],"outOfRange"),oe(L[re],"inRange");for(var de=1;ae<ue;ae++)(!L.length||L[L.length-1]<$[ae])&&(de&&(V.length&&oe(V[V.length-1].value,"outOfRange"),de=0),oe($[ae],"outOfRange"));var pe=V.length;return{stops:V,outerColors:[pe?V[0].color:"transparent",pe?V[pe-1].color:"transparent"]}},n.type="visualMap.continuous",n.defaultOption=inheritDefaultOption(VisualMapModel$1.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),n}(VisualMapModel$1);function getColorStopValues(g,n,r){if(r[0]===r[1])return r.slice();for(var $=200,L=(r[1]-r[0])/$,V=r[0],oe=[],re=0;re<=$&&V<r[1];re++)oe.push(V),V+=L;return oe.push(r[1]),oe}const ContinuousModel$1=ContinuousModel;var VisualMapView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r.autoPositionValues={left:1,right:1,top:1,bottom:1},r}return n.prototype.init=function(r,$){this.ecModel=r,this.api=$},n.prototype.render=function(r,$,L,V){if(this.visualMapModel=r,r.get("show")===!1){this.group.removeAll();return}this.doRender(r,$,L,V)},n.prototype.renderBackground=function(r){var $=this.visualMapModel,L=normalizeCssArray($.get("padding")||0),V=r.getBoundingRect();r.add(new Rect$3({z2:-1,silent:!0,shape:{x:V.x-L[3],y:V.y-L[0],width:V.width+L[3]+L[1],height:V.height+L[0]+L[2]},style:{fill:$.get("backgroundColor"),stroke:$.get("borderColor"),lineWidth:$.get("borderWidth")}}))},n.prototype.getControllerVisual=function(r,$,L){L=L||{};var V=L.forceState,oe=this.visualMapModel,re={};if($==="color"){var ae=oe.get("contentColor");re.color=ae}function le(he){return re[he]}function ue(he,_e){re[he]=_e}var de=oe.controllerVisuals[V||oe.getValueState(r)],pe=VisualMapping$1.prepareVisualTypes(de);return each$f(pe,function(he){var _e=de[he];L.convertOpacityToAlpha&&he==="opacity"&&(he="colorAlpha",_e=de.__alphaForOpacity),VisualMapping$1.dependsOn(he,$)&&_e&&_e.applyVisual(r,le,ue)}),re[$]},n.prototype.positionGroup=function(r){var $=this.visualMapModel,L=this.api;positionElement(r,$.getBoxLayoutParams(),{width:L.getWidth(),height:L.getHeight()})},n.prototype.doRender=function(r,$,L,V){},n.type="visualMap",n}(ComponentView$1);const VisualMapView$1=VisualMapView;var paramsSet=[["left","right","width"],["top","bottom","height"]];function getItemAlign(g,n,r){var $=g.option,L=$.align;if(L!=null&&L!=="auto")return L;for(var V={width:n.getWidth(),height:n.getHeight()},oe=$.orient==="horizontal"?1:0,re=paramsSet[oe],ae=[0,null,10],le={},ue=0;ue<3;ue++)le[paramsSet[1-oe][ue]]=ae[ue],le[re[ue]]=ue===2?r[0]:$[re[ue]];var de=[["x","width",3],["y","height",0]][oe],pe=getLayoutRect(le,V,$.padding);return re[(pe.margin[de[2]]||0)+pe[de[0]]+pe[de[1]]*.5<V[de[1]]*.5?0:1]}function makeHighDownBatch(g,n){return each$f(g||[],function(r){r.dataIndex!=null&&(r.dataIndexInside=r.dataIndex,r.dataIndex=null),r.highlightKey="visualMap"+(n?n.componentIndex:"")}),g}var linearMap=linearMap$2,each$1=each$f,mathMin=Math.min,mathMax=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._shapes={},r._dataInterval=[],r._handleEnds=[],r._hoverLinkDataIndices=[],r}return n.prototype.doRender=function(r,$,L,V){this._api=L,(!V||V.type!=="selectDataRange"||V.from!==this.uid)&&this._buildView()},n.prototype._buildView=function(){this.group.removeAll();var r=this.visualMapModel,$=this.group;this._orient=r.get("orient"),this._useHandle=r.get("calculable"),this._resetInterval(),this._renderBar($);var L=r.get("text");this._renderEndsText($,L,0),this._renderEndsText($,L,1),this._updateView(!0),this.renderBackground($),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup($)},n.prototype._renderEndsText=function(r,$,L){if($){var V=$[1-L];V=V!=null?V+"":"";var oe=this.visualMapModel,re=oe.get("textGap"),ae=oe.itemSize,le=this._shapes.mainGroup,ue=this._applyTransform([ae[0]/2,L===0?-re:ae[1]+re],le),de=this._applyTransform(L===0?"bottom":"top",le),pe=this._orient,he=this.visualMapModel.textStyleModel;this.group.add(new ZRText$1({style:createTextStyle(he,{x:ue[0],y:ue[1],verticalAlign:pe==="horizontal"?"middle":de,align:pe==="horizontal"?de:"center",text:V})}))}},n.prototype._renderBar=function(r){var $=this.visualMapModel,L=this._shapes,V=$.itemSize,oe=this._orient,re=this._useHandle,ae=getItemAlign($,this.api,V),le=L.mainGroup=this._createBarGroup(ae),ue=new Group$4;le.add(ue),ue.add(L.outOfRange=createPolygon()),ue.add(L.inRange=createPolygon(null,re?getCursor(this._orient):null,bind$3(this._dragHandle,this,"all",!1),bind$3(this._dragHandle,this,"all",!0))),ue.setClipPath(new Rect$3({shape:{x:0,y:0,width:V[0],height:V[1],r:3}}));var de=$.textStyleModel.getTextRect("\u56FD"),pe=mathMax(de.width,de.height);re&&(L.handleThumbs=[],L.handleLabels=[],L.handleLabelPoints=[],this._createHandle($,le,0,V,pe,oe),this._createHandle($,le,1,V,pe,oe)),this._createIndicator($,le,V,pe,oe),r.add(le)},n.prototype._createHandle=function(r,$,L,V,oe,re){var ae=bind$3(this._dragHandle,this,L,!1),le=bind$3(this._dragHandle,this,L,!0),ue=parsePercent$1(r.get("handleSize"),V[0]),de=createSymbol$1(r.get("handleIcon"),-ue/2,-ue/2,ue,ue,null,!0),pe=getCursor(this._orient);de.attr({cursor:pe,draggable:!0,drift:ae,ondragend:le,onmousemove:function($e){stop($e.event)}}),de.x=V[0]/2,de.useStyle(r.getModel("handleStyle").getItemStyle()),de.setStyle({strokeNoScale:!0,strokeFirst:!0}),de.style.lineWidth*=2,de.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(de,!0),$.add(de);var he=this.visualMapModel.textStyleModel,_e=new ZRText$1({cursor:pe,draggable:!0,drift:ae,onmousemove:function($e){stop($e.event)},ondragend:le,style:createTextStyle(he,{x:0,y:0,text:""})});_e.ensureState("blur").style={opacity:.1},_e.stateTransition={duration:200},this.group.add(_e);var Oe=[ue,0],xe=this._shapes;xe.handleThumbs[L]=de,xe.handleLabelPoints[L]=Oe,xe.handleLabels[L]=_e},n.prototype._createIndicator=function(r,$,L,V,oe){var re=parsePercent$1(r.get("indicatorSize"),L[0]),ae=createSymbol$1(r.get("indicatorIcon"),-re/2,-re/2,re,re,null,!0);ae.attr({cursor:"move",invisible:!0,silent:!0,x:L[0]/2});var le=r.getModel("indicatorStyle").getItemStyle();if(ae instanceof ZRImage$1){var ue=ae.style;ae.useStyle(extend$3({image:ue.image,x:ue.x,y:ue.y,width:ue.width,height:ue.height},le))}else ae.useStyle(le);$.add(ae);var de=this.visualMapModel.textStyleModel,pe=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle(de,{x:0,y:0,text:""})});this.group.add(pe);var he=[(oe==="horizontal"?V/2:HOVER_LINK_OUT)+L[0]/2,0],_e=this._shapes;_e.indicator=ae,_e.indicatorLabel=pe,_e.indicatorLabelPoint=he,this._firstShowIndicator=!0},n.prototype._dragHandle=function(r,$,L,V){if(this._useHandle){if(this._dragging=!$,!$){var oe=this._applyTransform([L,V],this._shapes.mainGroup,!0);this._updateInterval(r,oe[1]),this._hideIndicator(),this._updateView()}$===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),$?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[r],!1)}},n.prototype._resetInterval=function(){var r=this.visualMapModel,$=this._dataInterval=r.getSelected(),L=r.getExtent(),V=[0,r.itemSize[1]];this._handleEnds=[linearMap($[0],L,V,!0),linearMap($[1],L,V,!0)]},n.prototype._updateInterval=function(r,$){$=$||0;var L=this.visualMapModel,V=this._handleEnds,oe=[0,L.itemSize[1]];sliderMove($,V,oe,r,0);var re=L.getExtent();this._dataInterval=[linearMap(V[0],oe,re,!0),linearMap(V[1],oe,re,!0)]},n.prototype._updateView=function(r){var $=this.visualMapModel,L=$.getExtent(),V=this._shapes,oe=[0,$.itemSize[1]],re=r?oe:this._handleEnds,ae=this._createBarVisual(this._dataInterval,L,re,"inRange"),le=this._createBarVisual(L,L,oe,"outOfRange");V.inRange.setStyle({fill:ae.barColor}).setShape("points",ae.barPoints),V.outOfRange.setStyle({fill:le.barColor}).setShape("points",le.barPoints),this._updateHandle(re,ae)},n.prototype._createBarVisual=function(r,$,L,V){var oe={forceState:V,convertOpacityToAlpha:!0},re=this._makeColorGradient(r,oe),ae=[this.getControllerVisual(r[0],"symbolSize",oe),this.getControllerVisual(r[1],"symbolSize",oe)],le=this._createBarPoints(L,ae);return{barColor:new LinearGradient$1(0,0,0,1,re),barPoints:le,handlesColor:[re[0].color,re[re.length-1].color]}},n.prototype._makeColorGradient=function(r,$){var L=100,V=[],oe=(r[1]-r[0])/L;V.push({color:this.getControllerVisual(r[0],"color",$),offset:0});for(var re=1;re<L;re++){var ae=r[0]+oe*re;if(ae>r[1])break;V.push({color:this.getControllerVisual(ae,"color",$),offset:re/L})}return V.push({color:this.getControllerVisual(r[1],"color",$),offset:1}),V},n.prototype._createBarPoints=function(r,$){var L=this.visualMapModel.itemSize;return[[L[0]-$[0],r[0]],[L[0],r[0]],[L[0],r[1]],[L[0]-$[1],r[1]]]},n.prototype._createBarGroup=function(r){var $=this._orient,L=this.visualMapModel.get("inverse");return new Group$4($==="horizontal"&&!L?{scaleX:r==="bottom"?1:-1,rotation:Math.PI/2}:$==="horizontal"&&L?{scaleX:r==="bottom"?-1:1,rotation:-Math.PI/2}:$==="vertical"&&!L?{scaleX:r==="left"?1:-1,scaleY:-1}:{scaleX:r==="left"?1:-1})},n.prototype._updateHandle=function(r,$){if(this._useHandle){var L=this._shapes,V=this.visualMapModel,oe=L.handleThumbs,re=L.handleLabels,ae=V.itemSize,le=V.getExtent();each$1([0,1],function(ue){var de=oe[ue];de.setStyle("fill",$.handlesColor[ue]),de.y=r[ue];var pe=linearMap(r[ue],[0,ae[1]],le,!0),he=this.getControllerVisual(pe,"symbolSize");de.scaleX=de.scaleY=he/ae[0],de.x=ae[0]-he/2;var _e=applyTransform(L.handleLabelPoints[ue],getTransform$1(de,this.group));re[ue].setStyle({x:_e[0],y:_e[1],text:V.formatValueText(this._dataInterval[ue]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",L.mainGroup):"center"})},this)}},n.prototype._showIndicator=function(r,$,L,V){var oe=this.visualMapModel,re=oe.getExtent(),ae=oe.itemSize,le=[0,ae[1]],ue=this._shapes,de=ue.indicator;if(de){de.attr("invisible",!1);var pe={convertOpacityToAlpha:!0},he=this.getControllerVisual(r,"color",pe),_e=this.getControllerVisual(r,"symbolSize"),Oe=linearMap(r,re,le,!0),xe=ae[0]-_e/2,$e={x:de.x,y:de.y};de.y=Oe,de.x=xe;var Ie=applyTransform(ue.indicatorLabelPoint,getTransform$1(de,this.group)),Ne=ue.indicatorLabel;Ne.attr("invisible",!1);var ze=this._applyTransform("left",ue.mainGroup),Ue=this._orient,Fe=Ue==="horizontal";Ne.setStyle({text:(L||"")+oe.formatValueText($),verticalAlign:Fe?ze:"middle",align:Fe?"center":ze});var qe={x:xe,y:Oe,style:{fill:he}},Et={style:{x:Ie[0],y:Ie[1]}};if(oe.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var At={duration:100,easing:"cubicInOut",additive:!0};de.x=$e.x,de.y=$e.y,de.animateTo(qe,At),Ne.animateTo(Et,At)}else de.attr(qe),Ne.attr(Et);this._firstShowIndicator=!1;var kt=this._shapes.handleLabels;if(kt)for(var Dt=0;Dt<kt.length;Dt++)this._api.enterBlur(kt[Dt])}},n.prototype._enableHoverLinkToSeries=function(){var r=this;this._shapes.mainGroup.on("mousemove",function($){if(r._hovering=!0,!r._dragging){var L=r.visualMapModel.itemSize,V=r._applyTransform([$.offsetX,$.offsetY],r._shapes.mainGroup,!0,!0);V[1]=mathMin(mathMax(0,V[1]),L[1]),r._doHoverLinkToSeries(V[1],0<=V[0]&&V[0]<=L[0])}}).on("mouseout",function(){r._hovering=!1,!r._dragging&&r._clearHoverLinkToSeries()})},n.prototype._enableHoverLinkFromSeries=function(){var r=this.api.getZr();this.visualMapModel.option.hoverLink?(r.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),r.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},n.prototype._doHoverLinkToSeries=function(r,$){var L=this.visualMapModel,V=L.itemSize;if(L.option.hoverLink){var oe=[0,V[1]],re=L.getExtent();r=mathMin(mathMax(oe[0],r),oe[1]);var ae=getHalfHoverLinkSize(L,re,oe),le=[r-ae,r+ae],ue=linearMap(r,oe,re,!0),de=[linearMap(le[0],oe,re,!0),linearMap(le[1],oe,re,!0)];le[0]<oe[0]&&(de[0]=-1/0),le[1]>oe[1]&&(de[1]=1/0),$&&(de[0]===-1/0?this._showIndicator(ue,de[1],"< ",ae):de[1]===1/0?this._showIndicator(ue,de[0],"> ",ae):this._showIndicator(ue,ue,"\u2248 ",ae));var pe=this._hoverLinkDataIndices,he=[];($||useHoverLinkOnHandle(L))&&(he=this._hoverLinkDataIndices=L.findTargetDataIndices(de));var _e=compressBatches(pe,he);this._dispatchHighDown("downplay",makeHighDownBatch(_e[0],L)),this._dispatchHighDown("highlight",makeHighDownBatch(_e[1],L))}},n.prototype._hoverLinkFromSeriesMouseOver=function(r){var $;if(findEventDispatcher(r.target,function(ae){var le=getECData(ae);if(le.dataIndex!=null)return $=le,!0},!0),!!$){var L=this.ecModel.getSeriesByIndex($.seriesIndex),V=this.visualMapModel;if(V.isTargetSeries(L)){var oe=L.getData($.dataType),re=oe.getStore().get(V.getDataDimensionIndex(oe),$.dataIndex);isNaN(re)||this._showIndicator(re,re)}}},n.prototype._hideIndicator=function(){var r=this._shapes;r.indicator&&r.indicator.attr("invisible",!0),r.indicatorLabel&&r.indicatorLabel.attr("invisible",!0);var $=this._shapes.handleLabels;if($)for(var L=0;L<$.length;L++)this._api.leaveBlur($[L])},n.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var r=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(r,this.visualMapModel)),r.length=0},n.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var r=this.api.getZr();r.off("mouseover",this._hoverLinkFromSeriesMouseOver),r.off("mouseout",this._hideIndicator)},n.prototype._applyTransform=function(r,$,L,V){var oe=getTransform$1($,V?null:this.group);return isArray$6(r)?applyTransform(r,oe,L):transformDirection(r,oe,L)},n.prototype._dispatchHighDown=function(r,$){$&&$.length&&this.api.dispatchAction({type:r,batch:$})},n.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.type="visualMap.continuous",n}(VisualMapView$1);function createPolygon(g,n,r,$){return new Polygon$1({shape:{points:g},draggable:!!r,cursor:n,drift:r,onmousemove:function(L){stop(L.event)},ondragend:$})}function getHalfHoverLinkSize(g,n,r){var $=HOVER_LINK_SIZE/2,L=g.get("hoverLinkDataSize");return L&&($=linearMap(L,n,r,!0)/2),$}function useHoverLinkOnHandle(g){var n=g.get("hoverLinkOnHandle");return!!(n!=null?n:g.get("realtime"))}function getCursor(g){return g==="vertical"?"ns-resize":"ew-resize"}const ContinuousView$1=ContinuousView;var visualMapActionInfo={type:"selectDataRange",event:"dataRangeSelected",update:"update"},visualMapActionHander=function(g,n){n.eachComponent({mainType:"visualMap",query:g},function(r){r.setSelected(g.selected)})},visualMapEncodingHandlers=[{createOnAllSeries:!0,reset:function(g,n){var r=[];return n.eachComponent("visualMap",function($){var L=g.pipelineContext;!$.isTargetSeries(g)||L&&L.large||r.push(incrementalApplyVisual($.stateList,$.targetVisuals,bind$3($.getValueState,$),$.getDataDimensionIndex(g.getData())))}),r}},{createOnAllSeries:!0,reset:function(g,n){var r=g.getData(),$=[];n.eachComponent("visualMap",function(L){if(L.isTargetSeries(g)){var V=L.getVisualMeta(bind$3(getColorVisual,null,g,L))||{stops:[],outerColors:[]},oe=L.getDataDimensionIndex(r);oe>=0&&(V.dimension=oe,$.push(V))}}),g.getData().setVisual("visualMeta",$)}}];function getColorVisual(g,n,r,$){for(var L=n.targetVisuals[$],V=VisualMapping$1.prepareVisualTypes(L),oe={color:getVisualFromData(g.getData(),"color")},re=0,ae=V.length;re<ae;re++){var le=V[re],ue=L[le==="opacity"?"__alphaForOpacity":le];ue&&ue.applyVisual(r,de,pe)}return oe.color;function de(he){return oe[he]}function pe(he,_e){oe[he]=_e}}var each=each$f;function visualMapPreprocessor(g){var n=g&&g.visualMap;isArray$6(n)||(n=n?[n]:[]),each(n,function(r){if(r){has(r,"splitList")&&!has(r,"pieces")&&(r.pieces=r.splitList,delete r.splitList);var $=r.pieces;$&&isArray$6($)&&each($,function(L){isObject$6(L)&&(has(L,"start")&&!has(L,"min")&&(L.min=L.start),has(L,"end")&&!has(L,"max")&&(L.max=L.end))})}})}function has(g,n){return g&&g.hasOwnProperty&&g.hasOwnProperty(n)}var installed=!1;function installCommon(g){installed||(installed=!0,g.registerSubTypeDefaulter("visualMap",function(n){return!n.categories&&(!(n.pieces?n.pieces.length>0:n.splitNumber>0)||n.calculable)?"continuous":"piecewise"}),g.registerAction(visualMapActionInfo,visualMapActionHander),each$f(visualMapEncodingHandlers,function(n){g.registerVisual(g.PRIORITY.VISUAL.COMPONENT,n)}),g.registerPreprocessor(visualMapPreprocessor))}function install$7(g){g.registerComponentModel(ContinuousModel$1),g.registerComponentView(ContinuousView$1),installCommon(g)}var PiecewiseModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r._pieceList=[],r}return n.prototype.optionUpdated=function(r,$){g.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var L=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(r,$);var V=this.option.categories;this.resetVisual(function(oe,re){L==="categories"?(oe.mappingMethod="category",oe.categories=clone$5(V)):(oe.dataExtent=this.getExtent(),oe.mappingMethod="piecewise",oe.pieceList=map$2(this._pieceList,function(ae){return ae=clone$5(ae),re!=="inRange"&&(ae.visual=null),ae}))})},n.prototype.completeVisualOption=function(){var r=this.option,$={},L=VisualMapping$1.listVisualTypes(),V=this.isCategory();each$f(r.pieces,function(re){each$f(L,function(ae){re.hasOwnProperty(ae)&&($[ae]=1)})}),each$f($,function(re,ae){var le=!1;each$f(this.stateList,function(ue){le=le||oe(r,ue,ae)||oe(r.target,ue,ae)},this),!le&&each$f(this.stateList,function(ue){(r[ue]||(r[ue]={}))[ae]=visualDefault$1.get(ae,ue==="inRange"?"active":"inactive",V)})},this);function oe(re,ae,le){return re&&re[ae]&&re[ae].hasOwnProperty(le)}g.prototype.completeVisualOption.apply(this,arguments)},n.prototype._resetSelected=function(r,$){var L=this.option,V=this._pieceList,oe=($?L:r).selected||{};if(L.selected=oe,each$f(V,function(ae,le){var ue=this.getSelectedMapKey(ae);oe.hasOwnProperty(ue)||(oe[ue]=!0)},this),L.selectedMode==="single"){var re=!1;each$f(V,function(ae,le){var ue=this.getSelectedMapKey(ae);oe[ue]&&(re?oe[ue]=!1:re=!0)},this)}},n.prototype.getItemSymbol=function(){return this.get("itemSymbol")},n.prototype.getSelectedMapKey=function(r){return this._mode==="categories"?r.value+"":r.index+""},n.prototype.getPieceList=function(){return this._pieceList},n.prototype._determineMode=function(){var r=this.option;return r.pieces&&r.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},n.prototype.setSelected=function(r){this.option.selected=clone$5(r)},n.prototype.getValueState=function(r){var $=VisualMapping$1.findPieceIndex(r,this._pieceList);return $!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[$])]?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(r){var $=[],L=this._pieceList;return this.eachTargetSeries(function(V){var oe=[],re=V.getData();re.each(this.getDataDimensionIndex(re),function(ae,le){var ue=VisualMapping$1.findPieceIndex(ae,L);ue===r&&oe.push(le)},this),$.push({seriesId:V.id,dataIndex:oe})},this),$},n.prototype.getRepresentValue=function(r){var $;if(this.isCategory())$=r.value;else if(r.value!=null)$=r.value;else{var L=r.interval||[];$=L[0]===-1/0&&L[1]===1/0?0:(L[0]+L[1])/2}return $},n.prototype.getVisualMeta=function(r){if(this.isCategory())return;var $=[],L=["",""],V=this;function oe(ue,de){var pe=V.getRepresentValue({interval:ue});de||(de=V.getValueState(pe));var he=r(pe,de);ue[0]===-1/0?L[0]=he:ue[1]===1/0?L[1]=he:$.push({value:ue[0],color:he},{value:ue[1],color:he})}var re=this._pieceList.slice();if(!re.length)re.push({interval:[-1/0,1/0]});else{var ae=re[0].interval[0];ae!==-1/0&&re.unshift({interval:[-1/0,ae]}),ae=re[re.length-1].interval[1],ae!==1/0&&re.push({interval:[ae,1/0]})}var le=-1/0;return each$f(re,function(ue){var de=ue.interval;de&&(de[0]>le&&oe([le,de[0]],"outOfRange"),oe(de.slice()),le=de[1])},this),{stops:$,outerColors:L}},n.type="visualMap.piecewise",n.defaultOption=inheritDefaultOption(VisualMapModel$1.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),n}(VisualMapModel$1),resetMethods={splitNumber:function(g){var n=this.option,r=Math.min(n.precision,20),$=this.getExtent(),L=n.splitNumber;L=Math.max(parseInt(L,10),1),n.splitNumber=L;for(var V=($[1]-$[0])/L;+V.toFixed(r)!==V&&r<5;)r++;n.precision=r,V=+V.toFixed(r),n.minOpen&&g.push({interval:[-1/0,$[0]],close:[0,0]});for(var oe=0,re=$[0];oe<L;re+=V,oe++){var ae=oe===L-1?$[1]:re+V;g.push({interval:[re,ae],close:[1,1]})}n.maxOpen&&g.push({interval:[$[1],1/0],close:[0,0]}),reformIntervals(g),each$f(g,function(le,ue){le.index=ue,le.text=this.formatValueText(le.interval)},this)},categories:function(g){var n=this.option;each$f(n.categories,function(r){g.push({text:this.formatValueText(r,!0),value:r})},this),normalizeReverse(n,g)},pieces:function(g){var n=this.option;each$f(n.pieces,function(r,$){isObject$6(r)||(r={value:r});var L={text:"",index:$};if(r.label!=null&&(L.text=r.label),r.hasOwnProperty("value")){var V=L.value=r.value;L.interval=[V,V],L.close=[1,1]}else{for(var oe=L.interval=[],re=L.close=[0,0],ae=[1,0,1],le=[-1/0,1/0],ue=[],de=0;de<2;de++){for(var pe=[["gte","gt","min"],["lte","lt","max"]][de],he=0;he<3&&oe[de]==null;he++)oe[de]=r[pe[he]],re[de]=ae[he],ue[de]=he===2;oe[de]==null&&(oe[de]=le[de])}ue[0]&&oe[1]===1/0&&(re[0]=0),ue[1]&&oe[0]===-1/0&&(re[1]=0),oe[0]===oe[1]&&re[0]&&re[1]&&(L.value=oe[0])}L.visual=VisualMapping$1.retrieveVisuals(r),g.push(L)},this),normalizeReverse(n,g),reformIntervals(g),each$f(g,function(r){var $=r.close,L=[["<","\u2264"][$[1]],[">","\u2265"][$[0]]];r.text=r.text||this.formatValueText(r.value!=null?r.value:r.interval,!1,L)},this)}};function normalizeReverse(g,n){var r=g.inverse;(g.orient==="vertical"?!r:r)&&n.reverse()}const PiecewiseModel$1=PiecewiseModel;var PiecewiseVisualMapView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.doRender=function(){var r=this.group;r.removeAll();var $=this.visualMapModel,L=$.get("textGap"),V=$.textStyleModel,oe=V.getFont(),re=V.getTextColor(),ae=this._getItemAlign(),le=$.itemSize,ue=this._getViewData(),de=ue.endsText,pe=retrieve($.get("showLabel",!0),!de);de&&this._renderEndsText(r,de[0],le,pe,ae),each$f(ue.viewPieceList,function(he){var _e=he.piece,Oe=new Group$4;Oe.onclick=bind$3(this._onItemClick,this,_e),this._enableHoverLink(Oe,he.indexInModelPieceList);var xe=$.getRepresentValue(_e);if(this._createItemSymbol(Oe,xe,[0,0,le[0],le[1]]),pe){var $e=this.visualMapModel.getValueState(xe);Oe.add(new ZRText$1({style:{x:ae==="right"?-L:le[0]+L,y:le[1]/2,text:_e.text,verticalAlign:"middle",align:ae,font:oe,fill:re,opacity:$e==="outOfRange"?.5:1}}))}r.add(Oe)},this),de&&this._renderEndsText(r,de[1],le,pe,ae),box($.get("orient"),r,$.get("itemGap")),this.renderBackground(r),this.positionGroup(r)},n.prototype._enableHoverLink=function(r,$){var L=this;r.on("mouseover",function(){return V("highlight")}).on("mouseout",function(){return V("downplay")});var V=function(oe){var re=L.visualMapModel;re.option.hoverLink&&L.api.dispatchAction({type:oe,batch:makeHighDownBatch(re.findTargetDataIndices($),re)})}},n.prototype._getItemAlign=function(){var r=this.visualMapModel,$=r.option;if($.orient==="vertical")return getItemAlign(r,this.api,r.itemSize);var L=$.align;return(!L||L==="auto")&&(L="left"),L},n.prototype._renderEndsText=function(r,$,L,V,oe){if($){var re=new Group$4,ae=this.visualMapModel.textStyleModel;re.add(new ZRText$1({style:createTextStyle(ae,{x:V?oe==="right"?L[0]:0:L[0]/2,y:L[1]/2,verticalAlign:"middle",align:V?oe:"center",text:$})})),r.add(re)}},n.prototype._getViewData=function(){var r=this.visualMapModel,$=map$2(r.getPieceList(),function(re,ae){return{piece:re,indexInModelPieceList:ae}}),L=r.get("text"),V=r.get("orient"),oe=r.get("inverse");return(V==="horizontal"?oe:!oe)?$.reverse():L&&(L=L.slice().reverse()),{viewPieceList:$,endsText:L}},n.prototype._createItemSymbol=function(r,$,L){r.add(createSymbol$1(this.getControllerVisual($,"symbol"),L[0],L[1],L[2],L[3],this.getControllerVisual($,"color")))},n.prototype._onItemClick=function(r){var $=this.visualMapModel,L=$.option,V=L.selectedMode;if(V){var oe=clone$5(L.selected),re=$.getSelectedMapKey(r);V==="single"||V===!0?(oe[re]=!0,each$f(oe,function(ae,le){oe[le]=le===re})):oe[re]=!oe[re],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:oe})}},n.type="visualMap.piecewise",n}(VisualMapView$1);const PiecewiseView=PiecewiseVisualMapView;function install$6(g){g.registerComponentModel(PiecewiseModel$1),g.registerComponentView(PiecewiseView),installCommon(g)}function install$5(g){use(install$7),use(install$6)}var DEFAULT_OPTION={label:{enabled:!0},decal:{show:!1}},inner=makeInner(),decalPaletteScope={};function ariaVisual(g,n){var r=g.getModel("aria");if(!r.get("enabled"))return;var $=clone$5(DEFAULT_OPTION);merge$4($.label,g.getLocaleModel().get("aria"),!1),merge$4(r.option,$,!1),L(),V();function L(){var le=r.getModel("decal"),ue=le.get("show");if(ue){var de=createHashMap();g.eachSeries(function(pe){if(!pe.isColorBySeries()){var he=de.get(pe.type);he||(he={},de.set(pe.type,he)),inner(pe).scope=he}}),g.eachRawSeries(function(pe){if(g.isSeriesFiltered(pe))return;if(isFunction$3(pe.enableAriaDecal)){pe.enableAriaDecal();return}var he=pe.getData();if(pe.isColorBySeries()){var _e=getDecalFromPalette(pe.ecModel,pe.name,decalPaletteScope,g.getSeriesCount()),Oe=he.getVisual("decal");he.setVisual("decal",ze(Oe,_e))}else{var xe=pe.getRawData(),$e={},Ie=inner(pe).scope;he.each(function(Ue){var Fe=he.getRawIndex(Ue);$e[Fe]=Ue});var Ne=xe.count();xe.each(function(Ue){var Fe=$e[Ue],qe=xe.getName(Ue)||Ue+"",Et=getDecalFromPalette(pe.ecModel,qe,Ie,Ne),At=he.getItemVisual(Fe,"decal");he.setItemVisual(Fe,"decal",ze(At,Et))})}function ze(Ue,Fe){var qe=Ue?extend$3(extend$3({},Fe),Ue):Fe;return qe.dirty=!0,qe}})}}function V(){var le=g.getLocaleModel().get("aria"),ue=r.getModel("label");if(ue.option=defaults$5(ue.option,le),!!ue.get("enabled")){var de=n.getZr().dom;if(ue.get("description")){de.setAttribute("aria-label",ue.get("description"));return}var pe=g.getSeriesCount(),he=ue.get(["data","maxCount"])||10,_e=ue.get(["series","maxCount"])||10,Oe=Math.min(pe,_e),xe;if(!(pe<1)){var $e=re();if($e){var Ie=ue.get(["general","withTitle"]);xe=oe(Ie,{title:$e})}else xe=ue.get(["general","withoutTitle"]);var Ne=[],ze=pe>1?ue.get(["series","multiple","prefix"]):ue.get(["series","single","prefix"]);xe+=oe(ze,{seriesCount:pe}),g.eachSeries(function(Et,At){if(At<Oe){var kt=void 0,Dt=Et.get("name"),jt=Dt?"withName":"withoutName";kt=pe>1?ue.get(["series","multiple",jt]):ue.get(["series","single",jt]),kt=oe(kt,{seriesId:Et.seriesIndex,seriesName:Et.get("name"),seriesType:ae(Et.subType)});var Lt=Et.getData();if(Lt.count()>he){var hn=ue.get(["data","partialData"]);kt+=oe(hn,{displayCnt:he})}else kt+=ue.get(["data","allData"]);for(var Sn=ue.get(["data","separator","middle"]),On=ue.get(["data","separator","end"]),_n=[],xn=0;xn<Lt.count();xn++)if(xn<he){var bn=Lt.getName(xn),Tn=Lt.getValues(xn),An=ue.get(["data",bn?"withName":"withoutName"]);_n.push(oe(An,{name:bn,value:Tn.join(Sn)}))}kt+=_n.join(Sn)+On,Ne.push(kt)}});var Ue=ue.getModel(["series","multiple","separator"]),Fe=Ue.get("middle"),qe=Ue.get("end");xe+=Ne.join(Fe)+qe,de.setAttribute("aria-label",xe)}}}function oe(le,ue){if(!isString$3(le))return le;var de=le;return each$f(ue,function(pe,he){de=de.replace(new RegExp("\\{\\s*"+he+"\\s*\\}","g"),pe)}),de}function re(){var le=g.get("title");return le&&le.length&&(le=le[0]),le&&le.text}function ae(le){return g.getLocaleModel().get(["series","typeNames"])[le]||"\u81EA\u5B9A\u4E49\u56FE"}}function ariaPreprocessor(g){if(!(!g||!g.aria)){var n=g.aria;n.show!=null&&(n.enabled=n.show),n.label=n.label||{},each$f(["description","general","series","data"],function(r){n[r]!=null&&(n.label[r]=n[r])})}}function install$4(g){g.registerPreprocessor(ariaPreprocessor),g.registerVisual(g.PRIORITY.VISUAL.ARIA,ariaVisual)}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},RegExpEvaluator=function(){function g(n){var r=this._condVal=isString$3(n)?new RegExp(n):isRegExp$2(n)?n:null;if(r==null){var $="";throwError$1($)}}return g.prototype.evaluate=function(n){var r=typeof n;return isString$3(r)?this._condVal.test(n):isNumber$3(r)?this._condVal.test(n+""):!1},g}(),ConstConditionInternal=function(){function g(){}return g.prototype.evaluate=function(){return this.value},g}(),AndConditionInternal=function(){function g(){}return g.prototype.evaluate=function(){for(var n=this.children,r=0;r<n.length;r++)if(!n[r].evaluate())return!1;return!0},g}(),OrConditionInternal=function(){function g(){}return g.prototype.evaluate=function(){for(var n=this.children,r=0;r<n.length;r++)if(n[r].evaluate())return!0;return!1},g}(),NotConditionInternal=function(){function g(){}return g.prototype.evaluate=function(){return!this.child.evaluate()},g}(),RelationalConditionInternal=function(){function g(){}return g.prototype.evaluate=function(){for(var n=!!this.valueParser,r=this.getValue,$=r(this.valueGetterParam),L=n?this.valueParser($):null,V=0;V<this.subCondList.length;V++)if(!this.subCondList[V].evaluate(n?L:$))return!1;return!0},g}();function parseOption(g,n){if(g===!0||g===!1){var r=new ConstConditionInternal;return r.value=g,r}var $="";return isObjectNotArray(g)||throwError$1($),g.and?parseAndOrOption("and",g,n):g.or?parseAndOrOption("or",g,n):g.not?parseNotOption(g,n):parseRelationalOption(g,n)}function parseAndOrOption(g,n,r){var $=n[g],L="";isArray$6($)||throwError$1(L),$.length||throwError$1(L);var V=g==="and"?new AndConditionInternal:new OrConditionInternal;return V.children=map$2($,function(oe){return parseOption(oe,r)}),V.children.length||throwError$1(L),V}function parseNotOption(g,n){var r=g.not,$="";isObjectNotArray(r)||throwError$1($);var L=new NotConditionInternal;return L.child=parseOption(r,n),L.child||throwError$1($),L}function parseRelationalOption(g,n){for(var r="",$=n.prepareGetValue(g),L=[],V=keys$2(g),oe=g.parser,re=oe?getRawValueParser(oe):null,ae=0;ae<V.length;ae++){var le=V[ae];if(!(le==="parser"||n.valueGetterAttrMap.get(le))){var ue=hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP,le)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP[le]:le,de=g[le],pe=re?re(de):de,he=createFilterComparator(ue,pe)||ue==="reg"&&new RegExpEvaluator(pe);he||throwError$1(r),L.push(he)}}L.length||throwError$1(r);var _e=new RelationalConditionInternal;return _e.valueGetterParam=$,_e.valueParser=re,_e.getValue=n.getValue,_e.subCondList=L,_e}function isObjectNotArray(g){return isObject$6(g)&&!isArrayLike$1(g)}var ConditionalExpressionParsed=function(){function g(n,r){this._cond=parseOption(n,r)}return g.prototype.evaluate=function(){return this._cond.evaluate()},g}();function parseConditionalExpression(g,n){return new ConditionalExpressionParsed(g,n)}var filterTransform={type:"echarts:filter",transform:function(g){for(var n=g.upstream,r,$=parseConditionalExpression(g.config,{valueGetterAttrMap:createHashMap({dimension:!0}),prepareGetValue:function(re){var ae="",le=re.dimension;hasOwn(re,"dimension")||throwError$1(ae);var ue=n.getDimensionInfo(le);return ue||throwError$1(ae),{dimIdx:ue.index}},getValue:function(re){return n.retrieveValueFromItem(r,re.dimIdx)}}),L=[],V=0,oe=n.count();V<oe;V++)r=n.getRawDataItem(V),$.evaluate()&&L.push(r);return{data:L}}},sortTransform={type:"echarts:sort",transform:function(g){var n=g.upstream,r=g.config,$="",L=normalizeToArray(r);L.length||throwError$1($);var V=[];each$f(L,function(ue){var de=ue.dimension,pe=ue.order,he=ue.parser,_e=ue.incomparable;if(de==null&&throwError$1($),pe!=="asc"&&pe!=="desc"&&throwError$1($),_e&&_e!=="min"&&_e!=="max"){var Oe="";throwError$1(Oe)}if(pe!=="asc"&&pe!=="desc"){var xe="";throwError$1(xe)}var $e=n.getDimensionInfo(de);$e||throwError$1($);var Ie=he?getRawValueParser(he):null;he&&!Ie&&throwError$1($),V.push({dimIdx:$e.index,parser:Ie,comparator:new SortOrderComparator(pe,_e)})});var oe=n.sourceFormat;oe!==SOURCE_FORMAT_ARRAY_ROWS&&oe!==SOURCE_FORMAT_OBJECT_ROWS&&throwError$1($);for(var re=[],ae=0,le=n.count();ae<le;ae++)re.push(n.getRawDataItem(ae));return re.sort(function(ue,de){for(var pe=0;pe<V.length;pe++){var he=V[pe],_e=n.retrieveValueFromItem(ue,he.dimIdx),Oe=n.retrieveValueFromItem(de,he.dimIdx);he.parser&&(_e=he.parser(_e),Oe=he.parser(Oe));var xe=he.comparator.evaluate(_e,Oe);if(xe!==0)return xe}return 0}),{data:re}}};function install$3(g){g.registerTransform(filterTransform),g.registerTransform(sortTransform)}var DatasetModel=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="dataset",r}return n.prototype.init=function(r,$,L){g.prototype.init.call(this,r,$,L),this._sourceManager=new SourceManager(this),disableTransformOptionMerge(this)},n.prototype.mergeOption=function(r,$){g.prototype.mergeOption.call(this,r,$),disableTransformOptionMerge(this)},n.prototype.optionUpdated=function(){this._sourceManager.dirty()},n.prototype.getSourceManager=function(){return this._sourceManager},n.type="dataset",n.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN},n}(ComponentModel$1),DatasetView=function(g){__extends(n,g);function n(){var r=g!==null&&g.apply(this,arguments)||this;return r.type="dataset",r}return n.type="dataset",n}(ComponentView$1);function install$2(g){g.registerComponentModel(DatasetModel),g.registerComponentView(DatasetView)}var CMD=PathProxy$1.CMD;function aroundEqual(g,n){return Math.abs(g-n)<1e-5}function pathToBezierCurves(g){var n=g.data,r=g.len(),$=[],L,V=0,oe=0,re=0,ae=0;function le(Lt,hn){L&&L.length>2&&$.push(L),L=[Lt,hn]}function ue(Lt,hn,Sn,On){aroundEqual(Lt,Sn)&&aroundEqual(hn,On)||L.push(Lt,hn,Sn,On,Sn,On)}function de(Lt,hn,Sn,On,_n,xn){var bn=Math.abs(hn-Lt),Tn=Math.tan(bn/4)*4/3,An=hn<Lt?-1:1,En=Math.cos(Lt),Ln=Math.sin(Lt),Wn=Math.cos(hn),Mn=Math.sin(hn),Fn=En*_n+Sn,In=Ln*xn+On,Nn=Wn*_n+Sn,Vn=Mn*xn+On,Un=_n*Tn*An,Gn=xn*Tn*An;L.push(Fn-Un*Ln,In+Gn*En,Nn+Un*Mn,Vn-Gn*Wn,Nn,Vn)}for(var pe,he,_e,Oe,xe=0;xe<r;){var $e=n[xe++],Ie=xe===1;switch(Ie&&(V=n[xe],oe=n[xe+1],re=V,ae=oe,($e===CMD.L||$e===CMD.C||$e===CMD.Q)&&(L=[re,ae])),$e){case CMD.M:V=re=n[xe++],oe=ae=n[xe++],le(re,ae);break;case CMD.L:pe=n[xe++],he=n[xe++],ue(V,oe,pe,he),V=pe,oe=he;break;case CMD.C:L.push(n[xe++],n[xe++],n[xe++],n[xe++],V=n[xe++],oe=n[xe++]);break;case CMD.Q:pe=n[xe++],he=n[xe++],_e=n[xe++],Oe=n[xe++],L.push(V+.6666666666666666*(pe-V),oe+.6666666666666666*(he-oe),_e+.6666666666666666*(pe-_e),Oe+.6666666666666666*(he-Oe),_e,Oe),V=_e,oe=Oe;break;case CMD.A:var Ne=n[xe++],ze=n[xe++],Ue=n[xe++],Fe=n[xe++],qe=n[xe++],Et=n[xe++]+qe;xe+=1;var At=!n[xe++];pe=Math.cos(qe)*Ue+Ne,he=Math.sin(qe)*Fe+ze,Ie?(re=pe,ae=he,le(re,ae)):ue(V,oe,pe,he),V=Math.cos(Et)*Ue+Ne,oe=Math.sin(Et)*Fe+ze;for(var kt=(At?-1:1)*Math.PI/2,Dt=qe;At?Dt>Et:Dt<Et;Dt+=kt){var jt=At?Math.max(Dt+kt,Et):Math.min(Dt+kt,Et);de(Dt,jt,Ne,ze,Ue,Fe)}break;case CMD.R:re=V=n[xe++],ae=oe=n[xe++],pe=re+n[xe++],he=ae+n[xe++],le(pe,ae),ue(pe,ae,pe,he),ue(pe,he,re,he),ue(re,he,re,ae),ue(re,ae,pe,ae);break;case CMD.Z:L&&ue(V,oe,re,ae),V=re,oe=ae;break}}return L&&L.length>2&&$.push(L),$}function adpativeBezier(g,n,r,$,L,V,oe,re,ae,le){if(aroundEqual(g,r)&&aroundEqual(n,$)&&aroundEqual(L,oe)&&aroundEqual(V,re)){ae.push(oe,re);return}var ue=2/le,de=ue*ue,pe=oe-g,he=re-n,_e=Math.sqrt(pe*pe+he*he);pe/=_e,he/=_e;var Oe=r-g,xe=$-n,$e=L-oe,Ie=V-re,Ne=Oe*Oe+xe*xe,ze=$e*$e+Ie*Ie;if(Ne<de&&ze<de){ae.push(oe,re);return}var Ue=pe*Oe+he*xe,Fe=-pe*$e-he*Ie,qe=Ne-Ue*Ue,Et=ze-Fe*Fe;if(qe<de&&Ue>=0&&Et<de&&Fe>=0){ae.push(oe,re);return}var At=[],kt=[];cubicSubdivide(g,r,L,oe,.5,At),cubicSubdivide(n,$,V,re,.5,kt),adpativeBezier(At[0],kt[0],At[1],kt[1],At[2],kt[2],At[3],kt[3],ae,le),adpativeBezier(At[4],kt[4],At[5],kt[5],At[6],kt[6],At[7],kt[7],ae,le)}function pathToPolygons(g,n){var r=pathToBezierCurves(g),$=[];n=n||1;for(var L=0;L<r.length;L++){var V=r[L],oe=[],re=V[0],ae=V[1];oe.push(re,ae);for(var le=2;le<V.length;){var ue=V[le++],de=V[le++],pe=V[le++],he=V[le++],_e=V[le++],Oe=V[le++];adpativeBezier(re,ae,ue,de,pe,he,_e,Oe,oe,n),re=_e,ae=Oe}$.push(oe)}return $}function getDividingGrids(g,n,r){var $=g[n],L=g[1-n],V=Math.abs($/L),oe=Math.ceil(Math.sqrt(V*r)),re=Math.floor(r/oe);re===0&&(re=1,oe=r);for(var ae=[],le=0;le<oe;le++)ae.push(re);var ue=oe*re,de=r-ue;if(de>0)for(var le=0;le<de;le++)ae[le%oe]+=1;return ae}function divideSector(g,n,r){for(var $=g.r0,L=g.r,V=g.startAngle,oe=g.endAngle,re=Math.abs(oe-V),ae=re*L,le=L-$,ue=ae>Math.abs(le),de=getDividingGrids([ae,le],ue?0:1,n),pe=(ue?re:le)/de.length,he=0;he<de.length;he++)for(var _e=(ue?le:re)/de[he],Oe=0;Oe<de[he];Oe++){var xe={};ue?(xe.startAngle=V+pe*he,xe.endAngle=V+pe*(he+1),xe.r0=$+_e*Oe,xe.r=$+_e*(Oe+1)):(xe.startAngle=V+_e*Oe,xe.endAngle=V+_e*(Oe+1),xe.r0=$+pe*he,xe.r=$+pe*(he+1)),xe.clockwise=g.clockwise,xe.cx=g.cx,xe.cy=g.cy,r.push(xe)}}function divideRect(g,n,r){for(var $=g.width,L=g.height,V=$>L,oe=getDividingGrids([$,L],V?0:1,n),re=V?"width":"height",ae=V?"height":"width",le=V?"x":"y",ue=V?"y":"x",de=g[re]/oe.length,pe=0;pe<oe.length;pe++)for(var he=g[ae]/oe[pe],_e=0;_e<oe[pe];_e++){var Oe={};Oe[le]=pe*de,Oe[ue]=_e*he,Oe[re]=de,Oe[ae]=he,Oe.x+=g.x,Oe.y+=g.y,r.push(Oe)}}function crossProduct2d(g,n,r,$){return g*$-r*n}function lineLineIntersect(g,n,r,$,L,V,oe,re){var ae=r-g,le=$-n,ue=oe-L,de=re-V,pe=crossProduct2d(ue,de,ae,le);if(Math.abs(pe)<1e-6)return null;var he=g-L,_e=n-V,Oe=crossProduct2d(he,_e,ue,de)/pe;return Oe<0||Oe>1?null:new Point$1(Oe*ae+g,Oe*le+n)}function projPtOnLine(g,n,r){var $=new Point$1;Point$1.sub($,r,n),$.normalize();var L=new Point$1;Point$1.sub(L,g,n);var V=L.dot($);return V}function addToPoly(g,n){var r=g[g.length-1];r&&r[0]===n[0]&&r[1]===n[1]||g.push(n)}function splitPolygonByLine(g,n,r){for(var $=g.length,L=[],V=0;V<$;V++){var oe=g[V],re=g[(V+1)%$],ae=lineLineIntersect(oe[0],oe[1],re[0],re[1],n.x,n.y,r.x,r.y);ae&&L.push({projPt:projPtOnLine(ae,n,r),pt:ae,idx:V})}if(L.length<2)return[{points:g},{points:g}];L.sort(function(xe,$e){return xe.projPt-$e.projPt});var le=L[0],ue=L[L.length-1];if(ue.idx<le.idx){var de=le;le=ue,ue=de}for(var pe=[le.pt.x,le.pt.y],he=[ue.pt.x,ue.pt.y],_e=[pe],Oe=[he],V=le.idx+1;V<=ue.idx;V++)addToPoly(_e,g[V].slice());addToPoly(_e,he),addToPoly(_e,pe);for(var V=ue.idx+1;V<=le.idx+$;V++)addToPoly(Oe,g[V%$].slice());return addToPoly(Oe,pe),addToPoly(Oe,he),[{points:_e},{points:Oe}]}function binaryDividePolygon(g){var n=g.points,r=[],$=[];fromPoints(n,r,$);var L=new BoundingRect$1(r[0],r[1],$[0]-r[0],$[1]-r[1]),V=L.width,oe=L.height,re=L.x,ae=L.y,le=new Point$1,ue=new Point$1;return V>oe?(le.x=ue.x=re+V/2,le.y=ae,ue.y=ae+oe):(le.y=ue.y=ae+oe/2,le.x=re,ue.x=re+V),splitPolygonByLine(n,le,ue)}function binaryDivideRecursive(g,n,r,$){if(r===1)$.push(n);else{var L=Math.floor(r/2),V=g(n);binaryDivideRecursive(g,V[0],L,$),binaryDivideRecursive(g,V[1],r-L,$)}return $}function clone$1(g,n){for(var r=[],$=0;$<n;$++)r.push(clonePath(g));return r}function copyPathProps(g,n){n.setStyle(g.style),n.z=g.z,n.z2=g.z2,n.zlevel=g.zlevel}function polygonConvert(g){for(var n=[],r=0;r<g.length;)n.push([g[r++],g[r++]]);return n}function split(g,n){var r=[],$=g.shape,L;switch(g.type){case"rect":divideRect($,n,r),L=Rect$3;break;case"sector":divideSector($,n,r),L=Sector$1;break;case"circle":divideSector({r0:0,r:$.r,startAngle:0,endAngle:Math.PI*2,cx:$.cx,cy:$.cy},n,r),L=Sector$1;break;default:var V=g.getComputedTransform(),oe=V?Math.sqrt(Math.max(V[0]*V[0]+V[1]*V[1],V[2]*V[2]+V[3]*V[3])):1,re=map$2(pathToPolygons(g.getUpdatedPathProxy(),oe),function($e){return polygonConvert($e)}),ae=re.length;if(ae===0)binaryDivideRecursive(binaryDividePolygon,{points:re[0]},n,r);else if(ae===n)for(var le=0;le<ae;le++)r.push({points:re[le]});else{var ue=0,de=map$2(re,function($e){var Ie=[],Ne=[];fromPoints($e,Ie,Ne);var ze=(Ne[1]-Ie[1])*(Ne[0]-Ie[0]);return ue+=ze,{poly:$e,area:ze}});de.sort(function($e,Ie){return Ie.area-$e.area});for(var pe=n,le=0;le<ae;le++){var he=de[le];if(pe<=0)break;var _e=le===ae-1?pe:Math.ceil(he.area/ue*n);_e<0||(binaryDivideRecursive(binaryDividePolygon,{points:he.poly},_e,r),pe-=_e)}}L=Polygon$1;break}if(!L)return clone$1(g,n);for(var Oe=[],le=0;le<r.length;le++){var xe=new L;xe.setShape(r[le]),copyPathProps(g,xe),Oe.push(xe)}return Oe}function alignSubpath(g,n){var r=g.length,$=n.length;if(r===$)return[g,n];for(var L=[],V=[],oe=r<$?g:n,re=Math.min(r,$),ae=Math.abs($-r)/6,le=(re-2)/6,ue=Math.ceil(ae/le)+1,de=[oe[0],oe[1]],pe=ae,he=2;he<re;){var _e=oe[he-2],Oe=oe[he-1],xe=oe[he++],$e=oe[he++],Ie=oe[he++],Ne=oe[he++],ze=oe[he++],Ue=oe[he++];if(pe<=0){de.push(xe,$e,Ie,Ne,ze,Ue);continue}for(var Fe=Math.min(pe,ue-1)+1,qe=1;qe<=Fe;qe++){var Et=qe/Fe;cubicSubdivide(_e,xe,Ie,ze,Et,L),cubicSubdivide(Oe,$e,Ne,Ue,Et,V),_e=L[3],Oe=V[3],de.push(L[1],V[1],L[2],V[2],_e,Oe),xe=L[5],$e=V[5],Ie=L[6],Ne=V[6]}pe-=Fe-1}return oe===g?[de,n]:[g,de]}function createSubpath(g,n){for(var r=g.length,$=g[r-2],L=g[r-1],V=[],oe=0;oe<n.length;)V[oe++]=$,V[oe++]=L;return V}function alignBezierCurves(g,n){for(var r,$,L,V=[],oe=[],re=0;re<Math.max(g.length,n.length);re++){var ae=g[re],le=n[re],ue=void 0,de=void 0;ae?le?(r=alignSubpath(ae,le),ue=r[0],de=r[1],$=ue,L=de):(de=createSubpath(L||ae,ae),ue=ae):(ue=createSubpath($||le,le),de=le),V.push(ue),oe.push(de)}return[V,oe]}function centroid(g){for(var n=0,r=0,$=0,L=g.length,V=0,oe=L-2;V<L;oe=V,V+=2){var re=g[oe],ae=g[oe+1],le=g[V],ue=g[V+1],de=re*ue-le*ae;n+=de,r+=(re+le)*de,$+=(ae+ue)*de}return n===0?[g[0]||0,g[1]||0]:[r/n/3,$/n/3,n]}function findBestRingOffset(g,n,r,$){for(var L=(g.length-2)/6,V=1/0,oe=0,re=g.length,ae=re-2,le=0;le<L;le++){for(var ue=le*6,de=0,pe=0;pe<re;pe+=2){var he=pe===0?ue:(ue+pe-2)%ae+2,_e=g[he]-r[0],Oe=g[he+1]-r[1],xe=n[pe]-$[0],$e=n[pe+1]-$[1],Ie=xe-_e,Ne=$e-Oe;de+=Ie*Ie+Ne*Ne}de<V&&(V=de,oe=le)}return oe}function reverse(g){for(var n=[],r=g.length,$=0;$<r;$+=2)n[$]=g[r-$-2],n[$+1]=g[r-$-1];return n}function findBestMorphingRotation(g,n,r,$){for(var L=[],V,oe=0;oe<g.length;oe++){var re=g[oe],ae=n[oe],le=centroid(re),ue=centroid(ae);V==null&&(V=le[2]<0!=ue[2]<0);var de=[],pe=[],he=0,_e=1/0,Oe=[],xe=re.length;V&&(re=reverse(re));for(var $e=findBestRingOffset(re,ae,le,ue)*6,Ie=xe-2,Ne=0;Ne<Ie;Ne+=2){var ze=($e+Ne)%Ie+2;de[Ne+2]=re[ze]-le[0],de[Ne+3]=re[ze+1]-le[1]}if(de[0]=re[$e]-le[0],de[1]=re[$e+1]-le[1],r>0)for(var Ue=$/r,Fe=-$/2;Fe<=$/2;Fe+=Ue){for(var qe=Math.sin(Fe),Et=Math.cos(Fe),At=0,Ne=0;Ne<re.length;Ne+=2){var kt=de[Ne],Dt=de[Ne+1],jt=ae[Ne]-ue[0],Lt=ae[Ne+1]-ue[1],hn=jt*Et-Lt*qe,Sn=jt*qe+Lt*Et;Oe[Ne]=hn,Oe[Ne+1]=Sn;var On=hn-kt,_n=Sn-Dt;At+=On*On+_n*_n}if(At<_e){_e=At,he=Fe;for(var xn=0;xn<Oe.length;xn++)pe[xn]=Oe[xn]}}else for(var bn=0;bn<xe;bn+=2)pe[bn]=ae[bn]-ue[0],pe[bn+1]=ae[bn+1]-ue[1];L.push({from:de,to:pe,fromCp:le,toCp:ue,rotation:-he})}return L}function isCombineMorphing(g){return g.__isCombineMorphing}var SAVED_METHOD_PREFIX="__mOriginal_";function saveAndModifyMethod(g,n,r){var $=SAVED_METHOD_PREFIX+n,L=g[$]||g[n];g[$]||(g[$]=g[n]);var V=r.replace,oe=r.after,re=r.before;g[n]=function(){var ae=arguments,le;return re&&re.apply(this,ae),V?le=V.apply(this,ae):le=L.apply(this,ae),oe&&oe.apply(this,ae),le}}function restoreMethod(g,n){var r=SAVED_METHOD_PREFIX+n;g[r]&&(g[n]=g[r],g[r]=null)}function applyTransformOnBeziers(g,n){for(var r=0;r<g.length;r++)for(var $=g[r],L=0;L<$.length;){var V=$[L],oe=$[L+1];$[L++]=n[0]*V+n[2]*oe+n[4],$[L++]=n[1]*V+n[3]*oe+n[5]}}function prepareMorphPath(g,n){var r=g.getUpdatedPathProxy(),$=n.getUpdatedPathProxy(),L=alignBezierCurves(pathToBezierCurves(r),pathToBezierCurves($)),V=L[0],oe=L[1],re=g.getComputedTransform(),ae=n.getComputedTransform();function le(){this.transform=null}re&&applyTransformOnBeziers(V,re),ae&&applyTransformOnBeziers(oe,ae),saveAndModifyMethod(n,"updateTransform",{replace:le}),n.transform=null;var ue=findBestMorphingRotation(V,oe,10,Math.PI),de=[];saveAndModifyMethod(n,"buildPath",{replace:function(pe){for(var he=n.__morphT,_e=1-he,Oe=[],xe=0;xe<ue.length;xe++){var $e=ue[xe],Ie=$e.from,Ne=$e.to,ze=$e.rotation*he,Ue=$e.fromCp,Fe=$e.toCp,qe=Math.sin(ze),Et=Math.cos(ze);lerp$1(Oe,Ue,Fe,he);for(var At=0;At<Ie.length;At+=2){var kt=Ie[At],Dt=Ie[At+1],jt=Ne[At],Lt=Ne[At+1],hn=kt*_e+jt*he,Sn=Dt*_e+Lt*he;de[At]=hn*Et-Sn*qe+Oe[0],de[At+1]=hn*qe+Sn*Et+Oe[1]}var On=de[0],_n=de[1];pe.moveTo(On,_n);for(var At=2;At<Ie.length;){var jt=de[At++],Lt=de[At++],xn=de[At++],bn=de[At++],Tn=de[At++],An=de[At++];On===jt&&_n===Lt&&xn===Tn&&bn===An?pe.lineTo(Tn,An):pe.bezierCurveTo(jt,Lt,xn,bn,Tn,An),On=Tn,_n=An}}}})}function morphPath(g,n,r){if(!g||!n)return n;var $=r.done,L=r.during;prepareMorphPath(g,n),n.__morphT=0;function V(){restoreMethod(n,"buildPath"),restoreMethod(n,"updateTransform"),n.__morphT=-1,n.createPathProxy(),n.dirtyShape()}return n.animateTo({__morphT:1},defaults$5({during:function(oe){n.dirtyShape(),L&&L(oe)},done:function(){V(),$&&$()}},r)),n}function hilbert(g,n,r,$,L,V){var oe=16;g=L===r?0:Math.round(32767*(g-r)/(L-r)),n=V===$?0:Math.round(32767*(n-$)/(V-$));for(var re=0,ae,le=(1<<oe)/2;le>0;le/=2){var ue=0,de=0;(g&le)>0&&(ue=1),(n&le)>0&&(de=1),re+=le*le*(3*ue^de),de===0&&(ue===1&&(g=le-1-g,n=le-1-n),ae=g,g=n,n=ae)}return re}function sortPaths(g){var n=1/0,r=1/0,$=-1/0,L=-1/0,V=map$2(g,function(re){var ae=re.getBoundingRect(),le=re.getComputedTransform(),ue=ae.x+ae.width/2+(le?le[4]:0),de=ae.y+ae.height/2+(le?le[5]:0);return n=Math.min(ue,n),r=Math.min(de,r),$=Math.max(ue,$),L=Math.max(de,L),[ue,de]}),oe=map$2(V,function(re,ae){return{cp:re,z:hilbert(re[0],re[1],n,r,$,L),path:g[ae]}});return oe.sort(function(re,ae){return re.z-ae.z}).map(function(re){return re.path})}function defaultDividePath(g){return split(g.path,g.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph(g,n,r){var $=[];function L(Ue){for(var Fe=0;Fe<Ue.length;Fe++){var qe=Ue[Fe];isCombineMorphing(qe)?L(qe.childrenRef()):qe instanceof Path$1&&$.push(qe)}}L(g);var V=$.length;if(!V)return createEmptyReturn();var oe=r.dividePath||defaultDividePath,re=oe({path:n,count:V});if(re.length!==V)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn();$=sortPaths($),re=sortPaths(re);for(var ae=r.done,le=r.during,ue=r.individualDelay,de=new Transformable,pe=0;pe<V;pe++){var he=$[pe],_e=re[pe];_e.parent=n,_e.copyTransform(de),ue||prepareMorphPath(he,_e)}n.__isCombineMorphing=!0,n.childrenRef=function(){return re};function Oe(Ue){for(var Fe=0;Fe<re.length;Fe++)re[Fe].addSelfToZr(Ue)}saveAndModifyMethod(n,"addSelfToZr",{after:function(Ue){Oe(Ue)}}),saveAndModifyMethod(n,"removeSelfFromZr",{after:function(Ue){for(var Fe=0;Fe<re.length;Fe++)re[Fe].removeSelfFromZr(Ue)}});function xe(){n.__isCombineMorphing=!1,n.__morphT=-1,n.childrenRef=null,restoreMethod(n,"addSelfToZr"),restoreMethod(n,"removeSelfFromZr")}var $e=re.length;if(ue)for(var Ie=$e,Ne=function(){Ie--,Ie===0&&(xe(),ae&&ae())},pe=0;pe<$e;pe++){var ze=ue?defaults$5({delay:(r.delay||0)+ue(pe,$e,$[pe],re[pe]),done:Ne},r):r;morphPath($[pe],re[pe],ze)}else n.__morphT=0,n.animateTo({__morphT:1},defaults$5({during:function(Ue){for(var Fe=0;Fe<$e;Fe++){var qe=re[Fe];qe.__morphT=n.__morphT,qe.dirtyShape()}le&&le(Ue)},done:function(){xe();for(var Ue=0;Ue<g.length;Ue++)restoreMethod(g[Ue],"updateTransform");ae&&ae()}},r));return n.__zr&&Oe(n.__zr),{fromIndividuals:$,toIndividuals:re,count:$e}}function separateMorph(g,n,r){var $=n.length,L=[],V=r.dividePath||defaultDividePath;function oe(he){for(var _e=0;_e<he.length;_e++){var Oe=he[_e];isCombineMorphing(Oe)?oe(Oe.childrenRef()):Oe instanceof Path$1&&L.push(Oe)}}if(isCombineMorphing(g)){oe(g.childrenRef());var re=L.length;if(re<$)for(var ae=0,le=re;le<$;le++)L.push(clonePath(L[ae++%re]));L.length=$}else{L=V({path:g,count:$});for(var ue=g.getComputedTransform(),le=0;le<L.length;le++)L[le].setLocalTransform(ue);if(L.length!==$)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn()}L=sortPaths(L),n=sortPaths(n);for(var de=r.individualDelay,le=0;le<$;le++){var pe=de?defaults$5({delay:(r.delay||0)+de(le,$,L[le],n[le])},r):r;morphPath(L[le],n[le],pe)}return{fromIndividuals:L,toIndividuals:n,count:n.length}}function isMultiple(g){return isArray$6(g[0])}function prepareMorphBatches(g,n){for(var r=[],$=g.length,L=0;L<$;L++)r.push({one:g[L],many:[]});for(var L=0;L<n.length;L++){var V=n[L].length,oe=void 0;for(oe=0;oe<V;oe++)r[oe%$].many.push(n[L][oe])}for(var re=0,L=$-1;L>=0;L--)if(!r[L].many.length){var ae=r[re].many;if(ae.length<=1)if(re)re=0;else return r;var V=ae.length,le=Math.ceil(V/2);r[L].many=ae.slice(le,V),r[re].many=ae.slice(0,le),re++}return r}var pathDividers={clone:function(g){for(var n=[],r=1-Math.pow(1-g.path.style.opacity,1/g.count),$=0;$<g.count;$++){var L=clonePath(g.path);L.setStyle("opacity",r),n.push(L)}return n},split:null};function applyMorphAnimation(g,n,r,$,L,V){if(!g.length||!n.length)return;var oe=getAnimationConfig("update",$,L);if(!(oe&&oe.duration>0))return;var re=$.getModel("universalTransition").get("delay"),ae=Object.assign({setToFinal:!0},oe),le,ue;isMultiple(g)&&(le=g,ue=n),isMultiple(n)&&(le=n,ue=g);function de($e,Ie,Ne,ze,Ue){var Fe=$e.many,qe=$e.one;if(Fe.length===1&&!Ue){var Et=Ie?Fe[0]:qe,At=Ie?qe:Fe[0];if(isCombineMorphing(Et))de({many:[Et],one:At},!0,Ne,ze,!0);else{var kt=re?defaults$5({delay:re(Ne,ze)},ae):ae;morphPath(Et,At,kt),V(Et,At,Et,At,kt)}}else for(var Dt=defaults$5({dividePath:pathDividers[r],individualDelay:re&&function(_n,xn,bn,Tn){return re(_n+Ne,ze)}},ae),jt=Ie?combineMorph(Fe,qe,Dt):separateMorph(qe,Fe,Dt),Lt=jt.fromIndividuals,hn=jt.toIndividuals,Sn=Lt.length,On=0;On<Sn;On++){var kt=re?defaults$5({delay:re(On,Sn)},ae):ae;V(Lt[On],hn[On],Ie?Fe[On]:$e.one,Ie?$e.one:Fe[On],kt)}}for(var pe=le?le===g:g.length>n.length,he=le?prepareMorphBatches(ue,le):prepareMorphBatches(pe?n:g,[pe?g:n]),_e=0,Oe=0;Oe<he.length;Oe++)_e+=he[Oe].many.length;for(var xe=0,Oe=0;Oe<he.length;Oe++)de(he[Oe],pe,xe,_e),xe+=he[Oe].many.length}function getPathList(g){if(!g)return[];if(isArray$6(g)){for(var n=[],r=0;r<g.length;r++)n.push(getPathList(g[r]));return n}var $=[];return g.traverse(function(L){L instanceof Path$1&&!L.disableMorphing&&!L.invisible&&!L.ignore&&$.push(L)}),$}var DATA_COUNT_THRESHOLD=1e4,getUniversalTransitionGlobalStore=makeInner();function getGroupIdDimension(g){for(var n=g.dimensions,r=0;r<n.length;r++){var $=g.getDimensionInfo(n[r]);if($&&$.otherDims.itemGroupId===0)return n[r]}}function flattenDataDiffItems(g){var n=[];return each$f(g,function(r){var $=r.data;if(!($.count()>DATA_COUNT_THRESHOLD))for(var L=$.getIndices(),V=getGroupIdDimension($),oe=0;oe<L.length;oe++)n.push({dataGroupId:r.dataGroupId,data:$,dim:r.dim||V,divide:r.divide,dataIndex:oe})}),n}function fadeInElement(g,n,r){g.traverse(function($){$ instanceof Path$1&&initProps($,{style:{opacity:0}},n,{dataIndex:r,isFrom:!0})})}function removeEl(g){if(g.parent){var n=g.getComputedTransform();g.setLocalTransform(n),g.parent.remove(g)}}function stopAnimation(g){g.stopAnimation(),g.isGroup&&g.traverse(function(n){n.stopAnimation()})}function animateElementStyles(g,n,r){var $=getAnimationConfig("update",r,n);$&&g.traverse(function(L){if(L instanceof Displayable$1){var V=getOldStyle(L);V&&L.animateFrom({style:V},$)}})}function isAllIdSame(g,n){var r=g.length;if(r!==n.length)return!1;for(var $=0;$<r;$++){var L=g[$],V=n[$];if(L.data.getId(L.dataIndex)!==V.data.getId(V.dataIndex))return!1}return!0}function transitionBetween(g,n,r){var $=flattenDataDiffItems(g),L=flattenDataDiffItems(n);function V($e,Ie,Ne,ze,Ue){(Ne||$e)&&Ie.animateFrom({style:Ne&&Ne!==$e?extend$3(extend$3({},Ne.style),$e.style):$e.style},Ue)}function oe($e){for(var Ie=0;Ie<$e.length;Ie++)if($e[Ie].dim)return $e[Ie].dim}var re=oe($),ae=oe(L),le=!1;function ue($e,Ie){return function(Ne){var ze=Ne.data,Ue=Ne.dataIndex;if(Ie)return ze.getId(Ue);var Fe=Ne.dataGroupId,qe=$e?re||ae:ae||re,Et=qe&&ze.getDimensionInfo(qe),At=Et&&Et.ordinalMeta;if(Et){var kt=ze.get(Et.name,Ue);return At&&At.categories[kt]||kt+""}var Dt=ze.getRawDataItem(Ue);return Dt&&Dt.groupId?Dt.groupId+"":Fe||ze.getId(Ue)}}var de=isAllIdSame($,L),pe={};if(!de)for(var he=0;he<L.length;he++){var _e=L[he],Oe=_e.data.getItemGraphicEl(_e.dataIndex);Oe&&(pe[Oe.id]=!0)}function xe($e,Ie){var Ne=$[Ie],ze=L[$e],Ue=ze.data.hostModel,Fe=Ne.data.getItemGraphicEl(Ne.dataIndex),qe=ze.data.getItemGraphicEl(ze.dataIndex);if(Fe===qe){qe&&animateElementStyles(qe,ze.dataIndex,Ue);return}Fe&&pe[Fe.id]||qe&&(stopAnimation(qe),Fe?(stopAnimation(Fe),removeEl(Fe),le=!0,applyMorphAnimation(getPathList(Fe),getPathList(qe),ze.divide,Ue,$e,V)):fadeInElement(qe,Ue,$e))}new DataDiffer$1($,L,ue(!0,de),ue(!1,de),null,"multiple").update(xe).updateManyToOne(function($e,Ie){var Ne=L[$e],ze=Ne.data,Ue=ze.hostModel,Fe=ze.getItemGraphicEl(Ne.dataIndex),qe=filter(map$2(Ie,function(Et){return $[Et].data.getItemGraphicEl($[Et].dataIndex)}),function(Et){return Et&&Et!==Fe&&!pe[Et.id]});Fe&&(stopAnimation(Fe),qe.length?(each$f(qe,function(Et){stopAnimation(Et),removeEl(Et)}),le=!0,applyMorphAnimation(getPathList(qe),getPathList(Fe),Ne.divide,Ue,$e,V)):fadeInElement(Fe,Ue,Ne.dataIndex))}).updateOneToMany(function($e,Ie){var Ne=$[Ie],ze=Ne.data.getItemGraphicEl(Ne.dataIndex);if(!(ze&&pe[ze.id])){var Ue=filter(map$2($e,function(qe){return L[qe].data.getItemGraphicEl(L[qe].dataIndex)}),function(qe){return qe&&qe!==ze}),Fe=L[$e[0]].data.hostModel;Ue.length&&(each$f(Ue,function(qe){return stopAnimation(qe)}),ze?(stopAnimation(ze),removeEl(ze),le=!0,applyMorphAnimation(getPathList(ze),getPathList(Ue),Ne.divide,Fe,$e[0],V)):each$f(Ue,function(qe){return fadeInElement(qe,Fe,$e[0])}))}}).updateManyToMany(function($e,Ie){new DataDiffer$1(Ie,$e,function(Ne){return $[Ne].data.getId($[Ne].dataIndex)},function(Ne){return L[Ne].data.getId(L[Ne].dataIndex)}).update(function(Ne,ze){xe($e[Ne],Ie[ze])}).execute()}).execute(),le&&each$f(n,function($e){var Ie=$e.data,Ne=Ie.hostModel,ze=Ne&&r.getViewOfSeriesModel(Ne),Ue=getAnimationConfig("update",Ne,0);ze&&Ne.isAnimationEnabled()&&Ue&&Ue.duration>0&&ze.group.traverse(function(Fe){Fe instanceof Path$1&&!Fe.animators.length&&Fe.animateFrom({style:{opacity:0}},Ue)})})}function getSeriesTransitionKey(g){var n=g.getModel("universalTransition").get("seriesKey");return n||g.id}function convertArraySeriesKeyToString(g){return isArray$6(g)?g.sort().join(","):g}function getDivideShapeFromData(g){if(g.hostModel)return g.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches(g,n){var r=createHashMap(),$=createHashMap(),L=createHashMap();return each$f(g.oldSeries,function(V,oe){var re=g.oldDataGroupIds[oe],ae=g.oldData[oe],le=getSeriesTransitionKey(V),ue=convertArraySeriesKeyToString(le);$.set(ue,{dataGroupId:re,data:ae}),isArray$6(le)&&each$f(le,function(de){L.set(de,{key:ue,dataGroupId:re,data:ae})})}),each$f(n.updatedSeries,function(V){if(V.isUniversalTransitionEnabled()&&V.isAnimationEnabled()){var oe=V.get("dataGroupId"),re=V.getData(),ae=getSeriesTransitionKey(V),le=convertArraySeriesKeyToString(ae),ue=$.get(le);if(ue)r.set(le,{oldSeries:[{dataGroupId:ue.dataGroupId,divide:getDivideShapeFromData(ue.data),data:ue.data}],newSeries:[{dataGroupId:oe,divide:getDivideShapeFromData(re),data:re}]});else if(isArray$6(ae)){var de=[];each$f(ae,function(_e){var Oe=$.get(_e);Oe.data&&de.push({dataGroupId:Oe.dataGroupId,divide:getDivideShapeFromData(Oe.data),data:Oe.data})}),de.length&&r.set(le,{oldSeries:de,newSeries:[{dataGroupId:oe,data:re,divide:getDivideShapeFromData(re)}]})}else{var pe=L.get(ae);if(pe){var he=r.get(pe.key);he||(he={oldSeries:[{dataGroupId:pe.dataGroupId,data:pe.data,divide:getDivideShapeFromData(pe.data)}],newSeries:[]},r.set(pe.key,he)),he.newSeries.push({dataGroupId:oe,data:re,divide:getDivideShapeFromData(re)})}}}}),r}function querySeries(g,n){for(var r=0;r<g.length;r++){var $=n.seriesIndex!=null&&n.seriesIndex===g[r].seriesIndex||n.seriesId!=null&&n.seriesId===g[r].id;if($)return r}}function transitionSeriesFromOpt(g,n,r,$){var L=[],V=[];each$f(normalizeToArray(g.from),function(oe){var re=querySeries(n.oldSeries,oe);re>=0&&L.push({dataGroupId:n.oldDataGroupIds[re],data:n.oldData[re],divide:getDivideShapeFromData(n.oldData[re]),dim:oe.dimension})}),each$f(normalizeToArray(g.to),function(oe){var re=querySeries(r.updatedSeries,oe);if(re>=0){var ae=r.updatedSeries[re].getData();V.push({dataGroupId:n.oldDataGroupIds[re],data:ae,divide:getDivideShapeFromData(ae),dim:oe.dimension})}}),L.length>0&&V.length>0&&transitionBetween(L,V,$)}function installUniversalTransition(g){g.registerUpdateLifecycle("series:beforeupdate",function(n,r,$){each$f(normalizeToArray($.seriesTransition),function(L){each$f(normalizeToArray(L.to),function(V){for(var oe=$.updatedSeries,re=0;re<oe.length;re++)(V.seriesIndex!=null&&V.seriesIndex===oe[re].seriesIndex||V.seriesId!=null&&V.seriesId===oe[re].id)&&(oe[re][SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),g.registerUpdateLifecycle("series:transition",function(n,r,$){var L=getUniversalTransitionGlobalStore(r);if(L.oldSeries&&$.updatedSeries&&$.optionChanged){var V=$.seriesTransition;if(V)each$f(normalizeToArray(V),function(he){transitionSeriesFromOpt(he,L,$,r)});else{var oe=findTransitionSeriesBatches(L,$);each$f(oe.keys(),function(he){var _e=oe.get(he);transitionBetween(_e.oldSeries,_e.newSeries,r)})}each$f($.updatedSeries,function(he){he[SERIES_UNIVERSAL_TRANSITION_PROP]&&(he[SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var re=n.getSeries(),ae=L.oldSeries=[],le=L.oldDataGroupIds=[],ue=L.oldData=[],de=0;de<re.length;de++){var pe=re[de].getData();pe.count()<DATA_COUNT_THRESHOLD&&(ae.push(re[de]),le.push(re[de].get("dataGroupId")),ue.push(pe))}})}use([install$T]),use([install$U]),use([install$S,install$R,install$Q,install$O,install$M,install$K,install$J,install$I,install$H,install$G,install$F,install$D,install$C,install$B,install$A,install$z,install$y,install$x,install$w,install$v,install$u,install$t]),use(install$r),use(install$q),use(install$L),use(install$p),use(install$E),use(install$o),use(install$n),use(install$l),use(install$k),use(install$s),use(install$j),use(install$i),use(install$h),use(install$g),use(install$f),use(install$e),use(install$b),use(install$8),use(install$a),use(install$9),use(install$5),use(install$7),use(install$6),use(install$4),use(install$3),use(install$2),use(installUniversalTransition),use(installLabelLayout);const __default__$_=defineComponent({name:"EvChart"}),_sfc_main$1o=defineComponent({...__default__$_,props:{option:{default:()=>({})}},emits:[""],setup(g,{emit:n}){const r=g,$=ref(!0),{option:L}=toRefs(r),V=reactive({});Object.assign(V,L.value);const oe=ref();let re;const ae=ref(0),le=()=>{re?(re.clear(),re.setOption(V)):oe.value&&(re=init$1(oe.value),re.setOption(V)),$.value=!1},ue=new ResizeObserver(de=>{ae.value&&clearTimeout(ae.value),ae.value=window.setTimeout(()=>{try{re.resize()}catch(pe){console.warn(`chart\u91CD\u65B0\u8BBE\u7F6E\u5927\u5C0F\u5931\u8D25,\u5931\u8D25\u539F\u56E0\uFF1A${pe}`)}},50)});return onMounted(()=>{le(),ue.observe(oe.value)}),watch(L,()=>{Object.assign(V,L.value),le()},{deep:!0}),(de,pe)=>(openBlock(),createElementBlock("div",{ref_key:"evChart",ref:oe,class:"ev-chart"},null,512))}}),EvChart_vue_vue_type_style_index_0_scoped_cca4a053_lang="",EvChart=_export_sfc$2(_sfc_main$1o,[["__scopeId","data-v-cca4a053"]]),__vite_glob_1_0$1=Object.freeze(Object.defineProperty({__proto__:null,default:EvChart},Symbol.toStringTag,{value:"Module"}));class Text{constructor(){}lineAt(n){if(n<0||n>this.length)throw new RangeError(`Invalid position ${n} in document of length ${this.length}`);return this.lineInner(n,!1,1,0)}line(n){if(n<1||n>this.lines)throw new RangeError(`Invalid line number ${n} in ${this.lines}-line document`);return this.lineInner(n,!0,1,0)}replace(n,r,$){let L=[];return this.decompose(0,n,L,2),$.length&&$.decompose(0,$.length,L,3),this.decompose(r,this.length,L,1),TextNode.from(L,this.length-(r-n)+$.length)}append(n){return this.replace(this.length,this.length,n)}slice(n,r=this.length){let $=[];return this.decompose(n,r,$,0),TextNode.from($,r-n)}eq(n){if(n==this)return!0;if(n.length!=this.length||n.lines!=this.lines)return!1;let r=this.scanIdentical(n,1),$=this.length-this.scanIdentical(n,-1),L=new RawTextCursor(this),V=new RawTextCursor(n);for(let oe=r,re=r;;){if(L.next(oe),V.next(oe),oe=0,L.lineBreak!=V.lineBreak||L.done!=V.done||L.value!=V.value)return!1;if(re+=L.value.length,L.done||re>=$)return!0}}iter(n=1){return new RawTextCursor(this,n)}iterRange(n,r=this.length){return new PartialTextCursor(this,n,r)}iterLines(n,r){let $;if(n==null)$=this.iter();else{r==null&&(r=this.lines+1);let L=this.line(n).from;$=this.iterRange(L,Math.max(L,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new LineCursor($)}toString(){return this.sliceString(0)}toJSON(){let n=[];return this.flatten(n),n}static of(n){if(n.length==0)throw new RangeError("A document must have at least one line");return n.length==1&&!n[0]?Text.empty:n.length<=32?new TextLeaf(n):TextNode.from(TextLeaf.split(n,[]))}}class TextLeaf extends Text{constructor(n,r=textLength(n)){super(),this.text=n,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(n,r,$,L){for(let V=0;;V++){let oe=this.text[V],re=L+oe.length;if((r?$:re)>=n)return new Line(L,re,$,oe);L=re+1,$++}}decompose(n,r,$,L){let V=n<=0&&r>=this.length?this:new TextLeaf(sliceText(this.text,n,r),Math.min(r,this.length)-Math.max(0,n));if(L&1){let oe=$.pop(),re=appendText(V.text,oe.text.slice(),0,V.length);if(re.length<=32)$.push(new TextLeaf(re,oe.length+V.length));else{let ae=re.length>>1;$.push(new TextLeaf(re.slice(0,ae)),new TextLeaf(re.slice(ae)))}}else $.push(V)}replace(n,r,$){if(!($ instanceof TextLeaf))return super.replace(n,r,$);let L=appendText(this.text,appendText($.text,sliceText(this.text,0,n)),r),V=this.length+$.length-(r-n);return L.length<=32?new TextLeaf(L,V):TextNode.from(TextLeaf.split(L,[]),V)}sliceString(n,r=this.length,$=`
`){let L="";for(let V=0,oe=0;V<=r&&oe<this.text.length;oe++){let re=this.text[oe],ae=V+re.length;V>n&&oe&&(L+=$),n<ae&&r>V&&(L+=re.slice(Math.max(0,n-V),r-V)),V=ae+1}return L}flatten(n){for(let r of this.text)n.push(r)}scanIdentical(){return 0}static split(n,r){let $=[],L=-1;for(let V of n)$.push(V),L+=V.length+1,$.length==32&&(r.push(new TextLeaf($,L)),$=[],L=-1);return L>-1&&r.push(new TextLeaf($,L)),r}}class TextNode extends Text{constructor(n,r){super(),this.children=n,this.length=r,this.lines=0;for(let $ of n)this.lines+=$.lines}lineInner(n,r,$,L){for(let V=0;;V++){let oe=this.children[V],re=L+oe.length,ae=$+oe.lines-1;if((r?ae:re)>=n)return oe.lineInner(n,r,$,L);L=re+1,$=ae+1}}decompose(n,r,$,L){for(let V=0,oe=0;oe<=r&&V<this.children.length;V++){let re=this.children[V],ae=oe+re.length;if(n<=ae&&r>=oe){let le=L&((oe<=n?1:0)|(ae>=r?2:0));oe>=n&&ae<=r&&!le?$.push(re):re.decompose(n-oe,r-oe,$,le)}oe=ae+1}}replace(n,r,$){if($.lines<this.lines)for(let L=0,V=0;L<this.children.length;L++){let oe=this.children[L],re=V+oe.length;if(n>=V&&r<=re){let ae=oe.replace(n-V,r-V,$),le=this.lines-oe.lines+ae.lines;if(ae.lines<le>>4&&ae.lines>le>>6){let ue=this.children.slice();return ue[L]=ae,new TextNode(ue,this.length-(r-n)+$.length)}return super.replace(V,re,ae)}V=re+1}return super.replace(n,r,$)}sliceString(n,r=this.length,$=`
`){let L="";for(let V=0,oe=0;V<this.children.length&&oe<=r;V++){let re=this.children[V],ae=oe+re.length;oe>n&&V&&(L+=$),n<ae&&r>oe&&(L+=re.sliceString(n-oe,r-oe,$)),oe=ae+1}return L}flatten(n){for(let r of this.children)r.flatten(n)}scanIdentical(n,r){if(!(n instanceof TextNode))return 0;let $=0,[L,V,oe,re]=r>0?[0,0,this.children.length,n.children.length]:[this.children.length-1,n.children.length-1,-1,-1];for(;;L+=r,V+=r){if(L==oe||V==re)return $;let ae=this.children[L],le=n.children[V];if(ae!=le)return $+ae.scanIdentical(le,r);$+=ae.length+1}}static from(n,r=n.reduce(($,L)=>$+L.length+1,-1)){let $=0;for(let he of n)$+=he.lines;if($<32){let he=[];for(let _e of n)_e.flatten(he);return new TextLeaf(he,r)}let L=Math.max(32,$>>5),V=L<<1,oe=L>>1,re=[],ae=0,le=-1,ue=[];function de(he){let _e;if(he.lines>V&&he instanceof TextNode)for(let Oe of he.children)de(Oe);else he.lines>oe&&(ae>oe||!ae)?(pe(),re.push(he)):he instanceof TextLeaf&&ae&&(_e=ue[ue.length-1])instanceof TextLeaf&&he.lines+_e.lines<=32?(ae+=he.lines,le+=he.length+1,ue[ue.length-1]=new TextLeaf(_e.text.concat(he.text),_e.length+1+he.length)):(ae+he.lines>L&&pe(),ae+=he.lines,le+=he.length+1,ue.push(he))}function pe(){ae!=0&&(re.push(ue.length==1?ue[0]:TextNode.from(ue,le)),le=-1,ae=ue.length=0)}for(let he of n)de(he);return pe(),re.length==1?re[0]:new TextNode(re,r)}}Text.empty=new TextLeaf([""],0);function textLength(g){let n=-1;for(let r of g)n+=r.length+1;return n}function appendText(g,n,r=0,$=1e9){for(let L=0,V=0,oe=!0;V<g.length&&L<=$;V++){let re=g[V],ae=L+re.length;ae>=r&&(ae>$&&(re=re.slice(0,$-L)),L<r&&(re=re.slice(r-L)),oe?(n[n.length-1]+=re,oe=!1):n.push(re)),L=ae+1}return n}function sliceText(g,n,r){return appendText(g,[""],n,r)}class RawTextCursor{constructor(n,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[n],this.offsets=[r>0?1:(n instanceof TextLeaf?n.text.length:n.children.length)<<1]}nextInner(n,r){for(this.done=this.lineBreak=!1;;){let $=this.nodes.length-1,L=this.nodes[$],V=this.offsets[$],oe=V>>1,re=L instanceof TextLeaf?L.text.length:L.children.length;if(oe==(r>0?re:0)){if($==0)return this.done=!0,this.value="",this;r>0&&this.offsets[$-1]++,this.nodes.pop(),this.offsets.pop()}else if((V&1)==(r>0?0:1)){if(this.offsets[$]+=r,n==0)return this.lineBreak=!0,this.value=`
`,this;n--}else if(L instanceof TextLeaf){let ae=L.text[oe+(r<0?-1:0)];if(this.offsets[$]+=r,ae.length>Math.max(0,n))return this.value=n==0?ae:r>0?ae.slice(n):ae.slice(0,ae.length-n),this;n-=ae.length}else{let ae=L.children[oe+(r<0?-1:0)];n>ae.length?(n-=ae.length,this.offsets[$]+=r):(r<0&&this.offsets[$]--,this.nodes.push(ae),this.offsets.push(r>0?1:(ae instanceof TextLeaf?ae.text.length:ae.children.length)<<1))}}}next(n=0){return n<0&&(this.nextInner(-n,-this.dir),n=this.value.length),this.nextInner(n,this.dir)}}class PartialTextCursor{constructor(n,r,$){this.value="",this.done=!1,this.cursor=new RawTextCursor(n,r>$?-1:1),this.pos=r>$?n.length:0,this.from=Math.min(r,$),this.to=Math.max(r,$)}nextInner(n,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;n+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let $=r<0?this.pos-this.from:this.to-this.pos;n>$&&(n=$),$-=n;let{value:L}=this.cursor.next(n);return this.pos+=(L.length+n)*r,this.value=L.length<=$?L:r<0?L.slice(L.length-$):L.slice(0,$),this.done=!this.value,this}next(n=0){return n<0?n=Math.max(n,this.from-this.pos):n>0&&(n=Math.min(n,this.to-this.pos)),this.nextInner(n,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(n){this.inner=n,this.afterBreak=!0,this.value="",this.done=!1}next(n=0){let{done:r,lineBreak:$,value:L}=this.inner.next(n);return r?(this.done=!0,this.value=""):$?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=L,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor(n,r,$,L){this.from=n,this.to=r,this.number=$,this.text=L}get length(){return this.to-this.from}}let extend$2="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(g=>g?parseInt(g,36):1);for(let g=1;g<extend$2.length;g++)extend$2[g]+=extend$2[g-1];function isExtendingChar(g){for(let n=1;n<extend$2.length;n+=2)if(extend$2[n]>g)return extend$2[n-1]<=g;return!1}function isRegionalIndicator(g){return g>=127462&&g<=127487}const ZWJ=8205;function findClusterBreak(g,n,r=!0,$=!0){return(r?nextClusterBreak:prevClusterBreak)(g,n,$)}function nextClusterBreak(g,n,r){if(n==g.length)return n;n&&surrogateLow(g.charCodeAt(n))&&surrogateHigh(g.charCodeAt(n-1))&&n--;let $=codePointAt(g,n);for(n+=codePointSize($);n<g.length;){let L=codePointAt(g,n);if($==ZWJ||L==ZWJ||r&&isExtendingChar(L))n+=codePointSize(L),$=L;else if(isRegionalIndicator(L)){let V=0,oe=n-2;for(;oe>=0&&isRegionalIndicator(codePointAt(g,oe));)V++,oe-=2;if(V%2==0)break;n+=2}else break}return n}function prevClusterBreak(g,n,r){for(;n>0;){let $=nextClusterBreak(g,n-2,r);if($<n)return $;n--}return 0}function surrogateLow(g){return g>=56320&&g<57344}function surrogateHigh(g){return g>=55296&&g<56320}function codePointAt(g,n){let r=g.charCodeAt(n);if(!surrogateHigh(r)||n+1==g.length)return r;let $=g.charCodeAt(n+1);return surrogateLow($)?(r-55296<<10)+($-56320)+65536:r}function fromCodePoint(g){return g<=65535?String.fromCharCode(g):(g-=65536,String.fromCharCode((g>>10)+55296,(g&1023)+56320))}function codePointSize(g){return g<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(g){return g[g.Simple=0]="Simple",g[g.TrackDel=1]="TrackDel",g[g.TrackBefore=2]="TrackBefore",g[g.TrackAfter=3]="TrackAfter",g}(MapMode||(MapMode={}));class ChangeDesc{constructor(n){this.sections=n}get length(){let n=0;for(let r=0;r<this.sections.length;r+=2)n+=this.sections[r];return n}get newLength(){let n=0;for(let r=0;r<this.sections.length;r+=2){let $=this.sections[r+1];n+=$<0?this.sections[r]:$}return n}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(n){for(let r=0,$=0,L=0;r<this.sections.length;){let V=this.sections[r++],oe=this.sections[r++];oe<0?(n($,L,V),L+=V):L+=oe,$+=V}}iterChangedRanges(n,r=!1){iterChanges(this,n,r)}get invertedDesc(){let n=[];for(let r=0;r<this.sections.length;){let $=this.sections[r++],L=this.sections[r++];L<0?n.push($,L):n.push(L,$)}return new ChangeDesc(n)}composeDesc(n){return this.empty?n:n.empty?this:composeSets(this,n)}mapDesc(n,r=!1){return n.empty?this:mapSet(this,n,r)}mapPos(n,r=-1,$=MapMode.Simple){let L=0,V=0;for(let oe=0;oe<this.sections.length;){let re=this.sections[oe++],ae=this.sections[oe++],le=L+re;if(ae<0){if(le>n)return V+(n-L);V+=re}else{if($!=MapMode.Simple&&le>=n&&($==MapMode.TrackDel&&L<n&&le>n||$==MapMode.TrackBefore&&L<n||$==MapMode.TrackAfter&&le>n))return null;if(le>n||le==n&&r<0&&!re)return n==L||r<0?V:V+ae;V+=ae}L=le}if(n>L)throw new RangeError(`Position ${n} is out of range for changeset of length ${L}`);return V}touchesRange(n,r=n){for(let $=0,L=0;$<this.sections.length&&L<=r;){let V=this.sections[$++],oe=this.sections[$++],re=L+V;if(oe>=0&&L<=r&&re>=n)return L<n&&re>r?"cover":!0;L=re}return!1}toString(){let n="";for(let r=0;r<this.sections.length;){let $=this.sections[r++],L=this.sections[r++];n+=(n?" ":"")+$+(L>=0?":"+L:"")}return n}toJSON(){return this.sections}static fromJSON(n){if(!Array.isArray(n)||n.length%2||n.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(n)}static create(n){return new ChangeDesc(n)}}class ChangeSet extends ChangeDesc{constructor(n,r){super(n),this.inserted=r}apply(n){if(this.length!=n.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(r,$,L,V,oe)=>n=n.replace(L,L+($-r),oe),!1),n}mapDesc(n,r=!1){return mapSet(this,n,r,!0)}invert(n){let r=this.sections.slice(),$=[];for(let L=0,V=0;L<r.length;L+=2){let oe=r[L],re=r[L+1];if(re>=0){r[L]=re,r[L+1]=oe;let ae=L>>1;for(;$.length<ae;)$.push(Text.empty);$.push(oe?n.slice(V,V+oe):Text.empty)}V+=oe}return new ChangeSet(r,$)}compose(n){return this.empty?n:n.empty?this:composeSets(this,n,!0)}map(n,r=!1){return n.empty?this:mapSet(this,n,r,!0)}iterChanges(n,r=!1){iterChanges(this,n,r)}get desc(){return ChangeDesc.create(this.sections)}filter(n){let r=[],$=[],L=[],V=new SectionIter(this);e:for(let oe=0,re=0;;){let ae=oe==n.length?1e9:n[oe++];for(;re<ae||re==ae&&V.len==0;){if(V.done)break e;let ue=Math.min(V.len,ae-re);addSection(L,ue,-1);let de=V.ins==-1?-1:V.off==0?V.ins:0;addSection(r,ue,de),de>0&&addInsert($,r,V.text),V.forward(ue),re+=ue}let le=n[oe++];for(;re<le;){if(V.done)break e;let ue=Math.min(V.len,le-re);addSection(r,ue,-1),addSection(L,ue,V.ins==-1?-1:V.off==0?V.ins:0),V.forward(ue),re+=ue}}return{changes:new ChangeSet(r,$),filtered:ChangeDesc.create(L)}}toJSON(){let n=[];for(let r=0;r<this.sections.length;r+=2){let $=this.sections[r],L=this.sections[r+1];L<0?n.push($):L==0?n.push([$]):n.push([$].concat(this.inserted[r>>1].toJSON()))}return n}static of(n,r,$){let L=[],V=[],oe=0,re=null;function ae(ue=!1){if(!ue&&!L.length)return;oe<r&&addSection(L,r-oe,-1);let de=new ChangeSet(L,V);re=re?re.compose(de.map(re)):de,L=[],V=[],oe=0}function le(ue){if(Array.isArray(ue))for(let de of ue)le(de);else if(ue instanceof ChangeSet){if(ue.length!=r)throw new RangeError(`Mismatched change set length (got ${ue.length}, expected ${r})`);ae(),re=re?re.compose(ue.map(re)):ue}else{let{from:de,to:pe=de,insert:he}=ue;if(de>pe||de<0||pe>r)throw new RangeError(`Invalid change range ${de} to ${pe} (in doc of length ${r})`);let _e=he?typeof he=="string"?Text.of(he.split($||DefaultSplit)):he:Text.empty,Oe=_e.length;if(de==pe&&Oe==0)return;de<oe&&ae(),de>oe&&addSection(L,de-oe,-1),addSection(L,pe-de,Oe),addInsert(V,L,_e),oe=pe}}return le(n),ae(!re),re}static empty(n){return new ChangeSet(n?[n,-1]:[],[])}static fromJSON(n){if(!Array.isArray(n))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],$=[];for(let L=0;L<n.length;L++){let V=n[L];if(typeof V=="number")r.push(V,-1);else{if(!Array.isArray(V)||typeof V[0]!="number"||V.some((oe,re)=>re&&typeof oe!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(V.length==1)r.push(V[0],0);else{for(;$.length<L;)$.push(Text.empty);$[L]=Text.of(V.slice(1)),r.push(V[0],$[L].length)}}}return new ChangeSet(r,$)}static createSet(n,r){return new ChangeSet(n,r)}}function addSection(g,n,r,$=!1){if(n==0&&r<=0)return;let L=g.length-2;L>=0&&r<=0&&r==g[L+1]?g[L]+=n:n==0&&g[L]==0?g[L+1]+=r:$?(g[L]+=n,g[L+1]+=r):g.push(n,r)}function addInsert(g,n,r){if(r.length==0)return;let $=n.length-2>>1;if($<g.length)g[g.length-1]=g[g.length-1].append(r);else{for(;g.length<$;)g.push(Text.empty);g.push(r)}}function iterChanges(g,n,r){let $=g.inserted;for(let L=0,V=0,oe=0;oe<g.sections.length;){let re=g.sections[oe++],ae=g.sections[oe++];if(ae<0)L+=re,V+=re;else{let le=L,ue=V,de=Text.empty;for(;le+=re,ue+=ae,ae&&$&&(de=de.append($[oe-2>>1])),!(r||oe==g.sections.length||g.sections[oe+1]<0);)re=g.sections[oe++],ae=g.sections[oe++];n(L,le,V,ue,de),L=le,V=ue}}}function mapSet(g,n,r,$=!1){let L=[],V=$?[]:null,oe=new SectionIter(g),re=new SectionIter(n);for(let ae=-1;;)if(oe.ins==-1&&re.ins==-1){let le=Math.min(oe.len,re.len);addSection(L,le,-1),oe.forward(le),re.forward(le)}else if(re.ins>=0&&(oe.ins<0||ae==oe.i||oe.off==0&&(re.len<oe.len||re.len==oe.len&&!r))){let le=re.len;for(addSection(L,re.ins,-1);le;){let ue=Math.min(oe.len,le);oe.ins>=0&&ae<oe.i&&oe.len<=ue&&(addSection(L,0,oe.ins),V&&addInsert(V,L,oe.text),ae=oe.i),oe.forward(ue),le-=ue}re.next()}else if(oe.ins>=0){let le=0,ue=oe.len;for(;ue;)if(re.ins==-1){let de=Math.min(ue,re.len);le+=de,ue-=de,re.forward(de)}else if(re.ins==0&&re.len<ue)ue-=re.len,re.next();else break;addSection(L,le,ae<oe.i?oe.ins:0),V&&ae<oe.i&&addInsert(V,L,oe.text),ae=oe.i,oe.forward(oe.len-ue)}else{if(oe.done&&re.done)return V?ChangeSet.createSet(L,V):ChangeDesc.create(L);throw new Error("Mismatched change set lengths")}}function composeSets(g,n,r=!1){let $=[],L=r?[]:null,V=new SectionIter(g),oe=new SectionIter(n);for(let re=!1;;){if(V.done&&oe.done)return L?ChangeSet.createSet($,L):ChangeDesc.create($);if(V.ins==0)addSection($,V.len,0,re),V.next();else if(oe.len==0&&!oe.done)addSection($,0,oe.ins,re),L&&addInsert(L,$,oe.text),oe.next();else{if(V.done||oe.done)throw new Error("Mismatched change set lengths");{let ae=Math.min(V.len2,oe.len),le=$.length;if(V.ins==-1){let ue=oe.ins==-1?-1:oe.off?0:oe.ins;addSection($,ae,ue,re),L&&ue&&addInsert(L,$,oe.text)}else oe.ins==-1?(addSection($,V.off?0:V.len,ae,re),L&&addInsert(L,$,V.textBit(ae))):(addSection($,V.off?0:V.len,oe.off?0:oe.ins,re),L&&!oe.off&&addInsert(L,$,oe.text));re=(V.ins>ae||oe.ins>=0&&oe.len>ae)&&(re||$.length>le),V.forward2(ae),oe.forward(ae)}}}}class SectionIter{constructor(n){this.set=n,this.i=0,this.next()}next(){let{sections:n}=this.set;this.i<n.length?(this.len=n[this.i++],this.ins=n[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length?Text.empty:n[r]}textBit(n){let{inserted:r}=this.set,$=this.i-2>>1;return $>=r.length&&!n?Text.empty:r[$].slice(this.off,n==null?void 0:this.off+n)}forward(n){n==this.len?this.next():(this.len-=n,this.off+=n)}forward2(n){this.ins==-1?this.forward(n):n==this.ins?this.next():(this.ins-=n,this.off+=n)}}class SelectionRange{constructor(n,r,$){this.from=n,this.to=r,this.flags=$}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let n=this.flags&3;return n==3?null:n}get goalColumn(){let n=this.flags>>5;return n==33554431?void 0:n}map(n,r=-1){let $,L;return this.empty?$=L=n.mapPos(this.from,r):($=n.mapPos(this.from,1),L=n.mapPos(this.to,-1)),$==this.from&&L==this.to?this:new SelectionRange($,L,this.flags)}extend(n,r=n){if(n<=this.anchor&&r>=this.anchor)return EditorSelection.range(n,r);let $=Math.abs(n-this.anchor)>Math.abs(r-this.anchor)?n:r;return EditorSelection.range(this.anchor,$)}eq(n){return this.anchor==n.anchor&&this.head==n.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(n){if(!n||typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(n.anchor,n.head)}static create(n,r,$){return new SelectionRange(n,r,$)}}class EditorSelection{constructor(n,r){this.ranges=n,this.mainIndex=r}map(n,r=-1){return n.empty?this:EditorSelection.create(this.ranges.map($=>$.map(n,r)),this.mainIndex)}eq(n){if(this.ranges.length!=n.ranges.length||this.mainIndex!=n.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(n.ranges[r]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(n,r=!0){return EditorSelection.create([n].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(n,r=this.mainIndex){let $=this.ranges.slice();return $[r]=n,EditorSelection.create($,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(n=>n.toJSON()),main:this.mainIndex}}static fromJSON(n){if(!n||!Array.isArray(n.ranges)||typeof n.main!="number"||n.main>=n.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(n.ranges.map(r=>SelectionRange.fromJSON(r)),n.main)}static single(n,r=n){return new EditorSelection([EditorSelection.range(n,r)],0)}static create(n,r=0){if(n.length==0)throw new RangeError("A selection needs at least one range");for(let $=0,L=0;L<n.length;L++){let V=n[L];if(V.empty?V.from<=$:V.from<$)return EditorSelection.normalized(n.slice(),r);$=V.to}return new EditorSelection(n,r)}static cursor(n,r=0,$,L){return SelectionRange.create(n,n,(r==0?0:r<0?4:8)|($==null?3:Math.min(2,$))|(L!=null?L:33554431)<<5)}static range(n,r,$,L){let V=($!=null?$:33554431)<<5|(L==null?3:Math.min(2,L));return r<n?SelectionRange.create(r,n,24|V):SelectionRange.create(n,r,(r>n?4:0)|V)}static normalized(n,r=0){let $=n[r];n.sort((L,V)=>L.from-V.from),r=n.indexOf($);for(let L=1;L<n.length;L++){let V=n[L],oe=n[L-1];if(V.empty?V.from<=oe.to:V.from<oe.to){let re=oe.from,ae=Math.max(V.to,oe.to);L<=r&&r--,n.splice(--L,2,V.anchor>V.head?EditorSelection.range(ae,re):EditorSelection.range(re,ae))}}return new EditorSelection(n,r)}}function checkSelection(g,n){for(let r of g.ranges)if(r.to>n)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(n,r,$,L,V){this.combine=n,this.compareInput=r,this.compare=$,this.isStatic=L,this.id=nextID++,this.default=n([]),this.extensions=typeof V=="function"?V(this):V}static define(n={}){return new Facet(n.combine||(r=>r),n.compareInput||((r,$)=>r===$),n.compare||(n.combine?(r,$)=>r===$:sameArray$1),!!n.static,n.enables)}of(n){return new FacetProvider([],this,0,n)}compute(n,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(n,this,1,r)}computeN(n,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(n,this,2,r)}from(n,r){return r||(r=$=>$),this.compute([n],$=>r($.field(n)))}}function sameArray$1(g,n){return g==n||g.length==n.length&&g.every((r,$)=>r===n[$])}class FacetProvider{constructor(n,r,$,L){this.dependencies=n,this.facet=r,this.type=$,this.value=L,this.id=nextID++}dynamicSlot(n){var r;let $=this.value,L=this.facet.compareInput,V=this.id,oe=n[V]>>1,re=this.type==2,ae=!1,le=!1,ue=[];for(let de of this.dependencies)de=="doc"?ae=!0:de=="selection"?le=!0:(((r=n[de.id])!==null&&r!==void 0?r:1)&1)==0&&ue.push(n[de.id]);return{create(de){return de.values[oe]=$(de),1},update(de,pe){if(ae&&pe.docChanged||le&&(pe.docChanged||pe.selection)||ensureAll(de,ue)){let he=$(de);if(re?!compareArray(he,de.values[oe],L):!L(he,de.values[oe]))return de.values[oe]=he,1}return 0},reconfigure:(de,pe)=>{let he,_e=pe.config.address[V];if(_e!=null){let Oe=getAddr(pe,_e);if(this.dependencies.every(xe=>xe instanceof Facet?pe.facet(xe)===de.facet(xe):xe instanceof StateField?pe.field(xe,!1)==de.field(xe,!1):!0)||(re?compareArray(he=$(de),Oe,L):L(he=$(de),Oe)))return de.values[oe]=Oe,0}else he=$(de);return de.values[oe]=he,1}}}}function compareArray(g,n,r){if(g.length!=n.length)return!1;for(let $=0;$<g.length;$++)if(!r(g[$],n[$]))return!1;return!0}function ensureAll(g,n){let r=!1;for(let $ of n)ensureAddr(g,$)&1&&(r=!0);return r}function dynamicFacetSlot(g,n,r){let $=r.map(ae=>g[ae.id]),L=r.map(ae=>ae.type),V=$.filter(ae=>!(ae&1)),oe=g[n.id]>>1;function re(ae){let le=[];for(let ue=0;ue<$.length;ue++){let de=getAddr(ae,$[ue]);if(L[ue]==2)for(let pe of de)le.push(pe);else le.push(de)}return n.combine(le)}return{create(ae){for(let le of $)ensureAddr(ae,le);return ae.values[oe]=re(ae),1},update(ae,le){if(!ensureAll(ae,V))return 0;let ue=re(ae);return n.compare(ue,ae.values[oe])?0:(ae.values[oe]=ue,1)},reconfigure(ae,le){let ue=ensureAll(ae,$),de=le.config.facets[n.id],pe=le.facet(n);if(de&&!ue&&sameArray$1(r,de))return ae.values[oe]=pe,0;let he=re(ae);return n.compare(he,pe)?(ae.values[oe]=pe,0):(ae.values[oe]=he,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(n,r,$,L,V){this.id=n,this.createF=r,this.updateF=$,this.compareF=L,this.spec=V,this.provides=void 0}static define(n){let r=new StateField(nextID++,n.create,n.update,n.compare||(($,L)=>$===L),n);return n.provide&&(r.provides=n.provide(r)),r}create(n){let r=n.facet(initField).find($=>$.field==this);return((r==null?void 0:r.create)||this.createF)(n)}slot(n){let r=n[this.id]>>1;return{create:$=>($.values[r]=this.create($),1),update:($,L)=>{let V=$.values[r],oe=this.updateF(V,L);return this.compareF(V,oe)?0:($.values[r]=oe,1)},reconfigure:($,L)=>L.config.address[this.id]!=null?($.values[r]=L.field(this),0):($.values[r]=this.create($),1)}}init(n){return[this,initField.of({field:this,create:n})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(g){return n=>new PrecExtension(n,g)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(n,r){this.inner=n,this.prec=r}}class Compartment{of(n){return new CompartmentInstance(this,n)}reconfigure(n){return Compartment.reconfigure.of({compartment:this,extension:n})}get(n){return n.config.compartments.get(this)}}class CompartmentInstance{constructor(n,r){this.compartment=n,this.inner=r}}class Configuration{constructor(n,r,$,L,V,oe){for(this.base=n,this.compartments=r,this.dynamicSlots=$,this.address=L,this.staticValues=V,this.facets=oe,this.statusTemplate=[];this.statusTemplate.length<$.length;)this.statusTemplate.push(0)}staticFacet(n){let r=this.address[n.id];return r==null?n.default:this.staticValues[r>>1]}static resolve(n,r,$){let L=[],V=Object.create(null),oe=new Map;for(let pe of flatten$1(n,r,oe))pe instanceof StateField?L.push(pe):(V[pe.facet.id]||(V[pe.facet.id]=[])).push(pe);let re=Object.create(null),ae=[],le=[];for(let pe of L)re[pe.id]=le.length<<1,le.push(he=>pe.slot(he));let ue=$==null?void 0:$.config.facets;for(let pe in V){let he=V[pe],_e=he[0].facet,Oe=ue&&ue[pe]||[];if(he.every(xe=>xe.type==0))if(re[_e.id]=ae.length<<1|1,sameArray$1(Oe,he))ae.push($.facet(_e));else{let xe=_e.combine(he.map($e=>$e.value));ae.push($&&_e.compare(xe,$.facet(_e))?$.facet(_e):xe)}else{for(let xe of he)xe.type==0?(re[xe.id]=ae.length<<1|1,ae.push(xe.value)):(re[xe.id]=le.length<<1,le.push($e=>xe.dynamicSlot($e)));re[_e.id]=le.length<<1,le.push(xe=>dynamicFacetSlot(xe,_e,he))}}let de=le.map(pe=>pe(re));return new Configuration(n,oe,de,re,ae,V)}}function flatten$1(g,n,r){let $=[[],[],[],[],[]],L=new Map;function V(oe,re){let ae=L.get(oe);if(ae!=null){if(ae<=re)return;let le=$[ae].indexOf(oe);le>-1&&$[ae].splice(le,1),oe instanceof CompartmentInstance&&r.delete(oe.compartment)}if(L.set(oe,re),Array.isArray(oe))for(let le of oe)V(le,re);else if(oe instanceof CompartmentInstance){if(r.has(oe.compartment))throw new RangeError("Duplicate use of compartment in extensions");let le=n.get(oe.compartment)||oe.inner;r.set(oe.compartment,le),V(le,re)}else if(oe instanceof PrecExtension)V(oe.inner,oe.prec);else if(oe instanceof StateField)$[re].push(oe),oe.provides&&V(oe.provides,re);else if(oe instanceof FacetProvider)$[re].push(oe),oe.facet.extensions&&V(oe.facet.extensions,Prec_.default);else{let le=oe.extension;if(!le)throw new Error(`Unrecognized extension value in extension set (${oe}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);V(le,re)}}return V(g,Prec_.default),$.reduce((oe,re)=>oe.concat(re))}function ensureAddr(g,n){if(n&1)return 2;let r=n>>1,$=g.status[r];if($==4)throw new Error("Cyclic dependency between fields and/or facets");if($&2)return $;g.status[r]=4;let L=g.computeSlot(g,g.config.dynamicSlots[r]);return g.status[r]=2|L}function getAddr(g,n){return n&1?g.config.staticValues[n>>1]:g.values[n>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:g=>g.some(n=>n),static:!0}),lineSeparator=Facet.define({combine:g=>g.length?g[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:g=>g.length?g[0]:!1});class Annotation{constructor(n,r){this.type=n,this.value=r}static define(){return new AnnotationType}}class AnnotationType{of(n){return new Annotation(this,n)}}class StateEffectType{constructor(n){this.map=n}of(n){return new StateEffect(this,n)}}class StateEffect{constructor(n,r){this.type=n,this.value=r}map(n){let r=this.type.map(this.value,n);return r===void 0?void 0:r==this.value?this:new StateEffect(this.type,r)}is(n){return this.type==n}static define(n={}){return new StateEffectType(n.map||(r=>r))}static mapEffects(n,r){if(!n.length)return n;let $=[];for(let L of n){let V=L.map(r);V&&$.push(V)}return $}}StateEffect.reconfigure=StateEffect.define(),StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(n,r,$,L,V,oe){this.startState=n,this.changes=r,this.selection=$,this.effects=L,this.annotations=V,this.scrollIntoView=oe,this._doc=null,this._state=null,$&&checkSelection($,r.newLength),V.some(re=>re.type==Transaction.time)||(this.annotations=V.concat(Transaction.time.of(Date.now())))}static create(n,r,$,L,V,oe){return new Transaction(n,r,$,L,V,oe)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(n){for(let r of this.annotations)if(r.type==n)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(n){let r=this.annotation(Transaction.userEvent);return!!(r&&(r==n||r.length>n.length&&r.slice(0,n.length)==n&&r[n.length]=="."))}}Transaction.time=Annotation.define(),Transaction.userEvent=Annotation.define(),Transaction.addToHistory=Annotation.define(),Transaction.remote=Annotation.define();function joinRanges(g,n){let r=[];for(let $=0,L=0;;){let V,oe;if($<g.length&&(L==n.length||n[L]>=g[$]))V=g[$++],oe=g[$++];else if(L<n.length)V=n[L++],oe=n[L++];else return r;!r.length||r[r.length-1]<V?r.push(V,oe):r[r.length-1]<oe&&(r[r.length-1]=oe)}}function mergeTransaction(g,n,r){var $;let L,V,oe;return r?(L=n.changes,V=ChangeSet.empty(n.changes.length),oe=g.changes.compose(n.changes)):(L=n.changes.map(g.changes),V=g.changes.mapDesc(n.changes,!0),oe=g.changes.compose(L)),{changes:oe,selection:n.selection?n.selection.map(V):($=g.selection)===null||$===void 0?void 0:$.map(L),effects:StateEffect.mapEffects(g.effects,L).concat(StateEffect.mapEffects(n.effects,V)),annotations:g.annotations.length?g.annotations.concat(n.annotations):n.annotations,scrollIntoView:g.scrollIntoView||n.scrollIntoView}}function resolveTransactionInner(g,n,r){let $=n.selection,L=asArray$1(n.annotations);return n.userEvent&&(L=L.concat(Transaction.userEvent.of(n.userEvent))),{changes:n.changes instanceof ChangeSet?n.changes:ChangeSet.of(n.changes||[],r,g.facet(lineSeparator)),selection:$&&($ instanceof EditorSelection?$:EditorSelection.single($.anchor,$.head)),effects:asArray$1(n.effects),annotations:L,scrollIntoView:!!n.scrollIntoView}}function resolveTransaction(g,n,r){let $=resolveTransactionInner(g,n.length?n[0]:{},g.doc.length);n.length&&n[0].filter===!1&&(r=!1);for(let V=1;V<n.length;V++){n[V].filter===!1&&(r=!1);let oe=!!n[V].sequential;$=mergeTransaction($,resolveTransactionInner(g,n[V],oe?$.changes.newLength:g.doc.length),oe)}let L=Transaction.create(g,$.changes,$.selection,$.effects,$.annotations,$.scrollIntoView);return extendTransaction(r?filterTransaction(L):L)}function filterTransaction(g){let n=g.startState,r=!0;for(let L of n.facet(changeFilter)){let V=L(g);if(V===!1){r=!1;break}Array.isArray(V)&&(r=r===!0?V:joinRanges(r,V))}if(r!==!0){let L,V;if(r===!1)V=g.changes.invertedDesc,L=ChangeSet.empty(n.doc.length);else{let oe=g.changes.filter(r);L=oe.changes,V=oe.filtered.mapDesc(oe.changes).invertedDesc}g=Transaction.create(n,L,g.selection&&g.selection.map(V),StateEffect.mapEffects(g.effects,V),g.annotations,g.scrollIntoView)}let $=n.facet(transactionFilter);for(let L=$.length-1;L>=0;L--){let V=$[L](g);V instanceof Transaction?g=V:Array.isArray(V)&&V.length==1&&V[0]instanceof Transaction?g=V[0]:g=resolveTransaction(n,asArray$1(V),!1)}return g}function extendTransaction(g){let n=g.startState,r=n.facet(transactionExtender),$=g;for(let L=r.length-1;L>=0;L--){let V=r[L](g);V&&Object.keys(V).length&&($=mergeTransaction($,resolveTransactionInner(n,V,g.changes.newLength),!0))}return $==g?g:Transaction.create(n,g.changes,g.selection,$.effects,$.annotations,$.scrollIntoView)}const none$2=[];function asArray$1(g){return g==null?none$2:Array.isArray(g)?g:[g]}var CharCategory=function(g){return g[g.Word=0]="Word",g[g.Space=1]="Space",g[g.Other=2]="Other",g}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function hasWordChar(g){if(wordChar)return wordChar.test(g);for(let n=0;n<g.length;n++){let r=g[n];if(/\w/.test(r)||r>"\x80"&&(r.toUpperCase()!=r.toLowerCase()||nonASCIISingleCaseWordChar.test(r)))return!0}return!1}function makeCategorizer(g){return n=>{if(!/\S/.test(n))return CharCategory.Space;if(hasWordChar(n))return CharCategory.Word;for(let r=0;r<g.length;r++)if(n.indexOf(g[r])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(n,r,$,L,V,oe){this.config=n,this.doc=r,this.selection=$,this.values=L,this.status=n.statusTemplate.slice(),this.computeSlot=V,oe&&(oe._state=this);for(let re=0;re<this.config.dynamicSlots.length;re++)ensureAddr(this,re<<1);this.computeSlot=null}field(n,r=!0){let $=this.config.address[n.id];if($==null){if(r)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,$),getAddr(this,$)}update(...n){return resolveTransaction(this,n,!0)}applyTransaction(n){let r=this.config,{base:$,compartments:L}=r;for(let oe of n.effects)oe.is(Compartment.reconfigure)?(r&&(L=new Map,r.compartments.forEach((re,ae)=>L.set(ae,re)),r=null),L.set(oe.value.compartment,oe.value.extension)):oe.is(StateEffect.reconfigure)?(r=null,$=oe.value):oe.is(StateEffect.appendConfig)&&(r=null,$=asArray$1($).concat(oe.value));let V;r?V=n.startState.values.slice():(r=Configuration.resolve($,L,this),V=new EditorState(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(oe,re)=>re.reconfigure(oe,this),null).values),new EditorState(r,n.newDoc,n.newSelection,V,(oe,re)=>re.update(oe,n),n)}replaceSelection(n){return typeof n=="string"&&(n=this.toText(n)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:n},range:EditorSelection.cursor(r.from+n.length)}))}changeByRange(n){let r=this.selection,$=n(r.ranges[0]),L=this.changes($.changes),V=[$.range],oe=asArray$1($.effects);for(let re=1;re<r.ranges.length;re++){let ae=n(r.ranges[re]),le=this.changes(ae.changes),ue=le.map(L);for(let pe=0;pe<re;pe++)V[pe]=V[pe].map(ue);let de=L.mapDesc(le,!0);V.push(ae.range.map(de)),L=L.compose(ue),oe=StateEffect.mapEffects(oe,ue).concat(StateEffect.mapEffects(asArray$1(ae.effects),de))}return{changes:L,selection:EditorSelection.create(V,r.mainIndex),effects:oe}}changes(n=[]){return n instanceof ChangeSet?n:ChangeSet.of(n,this.doc.length,this.facet(EditorState.lineSeparator))}toText(n){return Text.of(n.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(n=0,r=this.doc.length){return this.doc.sliceString(n,r,this.lineBreak)}facet(n){let r=this.config.address[n.id];return r==null?n.default:(ensureAddr(this,r),getAddr(this,r))}toJSON(n){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(n)for(let $ in n){let L=n[$];L instanceof StateField&&this.config.address[L.id]!=null&&(r[$]=L.spec.toJSON(this.field(n[$]),this))}return r}static fromJSON(n,r={},$){if(!n||typeof n.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let L=[];if($){for(let V in $)if(Object.prototype.hasOwnProperty.call(n,V)){let oe=$[V],re=n[V];L.push(oe.init(ae=>oe.spec.fromJSON(re,ae)))}}return EditorState.create({doc:n.doc,selection:EditorSelection.fromJSON(n.selection),extensions:r.extensions?L.concat([r.extensions]):L})}static create(n={}){let r=Configuration.resolve(n.extensions||[],new Map),$=n.doc instanceof Text?n.doc:Text.of((n.doc||"").split(r.staticFacet(EditorState.lineSeparator)||DefaultSplit)),L=n.selection?n.selection instanceof EditorSelection?n.selection:EditorSelection.single(n.selection.anchor,n.selection.head):EditorSelection.single(0);return checkSelection(L,$.length),r.staticFacet(allowMultipleSelections)||(L=L.asSingle()),new EditorState(r,$,L,r.dynamicSlots.map(()=>null),(V,oe)=>oe.create(V),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(n,...r){for(let $ of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call($,n)){n=$[n];break}return r.length&&(n=n.replace(/\$(\$|\d*)/g,($,L)=>{if(L=="$")return"$";let V=+(L||1);return!V||V>r.length?$:r[V-1]})),n}languageDataAt(n,r,$=-1){let L=[];for(let V of this.facet(languageData))for(let oe of V(this,r,$))Object.prototype.hasOwnProperty.call(oe,n)&&L.push(oe[n]);return L}charCategorizer(n){return makeCategorizer(this.languageDataAt("wordChars",n).join(""))}wordAt(n){let{text:r,from:$,length:L}=this.doc.lineAt(n),V=this.charCategorizer(n),oe=n-$,re=n-$;for(;oe>0;){let ae=findClusterBreak(r,oe,!1);if(V(r.slice(ae,oe))!=CharCategory.Word)break;oe=ae}for(;re<L;){let ae=findClusterBreak(r,re);if(V(r.slice(re,ae))!=CharCategory.Word)break;re=ae}return oe==re?null:EditorSelection.range(oe+$,re+$)}}EditorState.allowMultipleSelections=allowMultipleSelections,EditorState.tabSize=Facet.define({combine:g=>g.length?g[0]:4}),EditorState.lineSeparator=lineSeparator,EditorState.readOnly=readOnly,EditorState.phrases=Facet.define({compare(g,n){let r=Object.keys(g),$=Object.keys(n);return r.length==$.length&&r.every(L=>g[L]==n[L])}}),EditorState.languageData=languageData,EditorState.changeFilter=changeFilter,EditorState.transactionFilter=transactionFilter,EditorState.transactionExtender=transactionExtender,Compartment.reconfigure=StateEffect.define();function combineConfig(g,n,r={}){let $={};for(let L of g)for(let V of Object.keys(L)){let oe=L[V],re=$[V];if(re===void 0)$[V]=oe;else if(!(re===oe||oe===void 0))if(Object.hasOwnProperty.call(r,V))$[V]=r[V](re,oe);else throw new Error("Config merge conflict for field "+V)}for(let L in n)$[L]===void 0&&($[L]=n[L]);return $}class RangeValue{eq(n){return this==n}range(n,r=n){return Range$1.create(n,r,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0,RangeValue.prototype.point=!1,RangeValue.prototype.mapMode=MapMode.TrackDel;class Range$1{constructor(n,r,$){this.from=n,this.to=r,this.value=$}static create(n,r,$){return new Range$1(n,r,$)}}function cmpRange(g,n){return g.from-n.from||g.value.startSide-n.value.startSide}class Chunk{constructor(n,r,$,L){this.from=n,this.to=r,this.value=$,this.maxPoint=L}get length(){return this.to[this.to.length-1]}findIndex(n,r,$,L=0){let V=$?this.to:this.from;for(let oe=L,re=V.length;;){if(oe==re)return oe;let ae=oe+re>>1,le=V[ae]-n||($?this.value[ae].endSide:this.value[ae].startSide)-r;if(ae==oe)return le>=0?oe:re;le>=0?re=ae:oe=ae+1}}between(n,r,$,L){for(let V=this.findIndex(r,-1e9,!0),oe=this.findIndex($,1e9,!1,V);V<oe;V++)if(L(this.from[V]+n,this.to[V]+n,this.value[V])===!1)return!1}map(n,r){let $=[],L=[],V=[],oe=-1,re=-1;for(let ae=0;ae<this.value.length;ae++){let le=this.value[ae],ue=this.from[ae]+n,de=this.to[ae]+n,pe,he;if(ue==de){let _e=r.mapPos(ue,le.startSide,le.mapMode);if(_e==null||(pe=he=_e,le.startSide!=le.endSide&&(he=r.mapPos(ue,le.endSide),he<pe)))continue}else if(pe=r.mapPos(ue,le.startSide),he=r.mapPos(de,le.endSide),pe>he||pe==he&&le.startSide>0&&le.endSide<=0)continue;(he-pe||le.endSide-le.startSide)<0||(oe<0&&(oe=pe),le.point&&(re=Math.max(re,he-pe)),$.push(le),L.push(pe-oe),V.push(he-oe))}return{mapped:$.length?new Chunk(L,V,$,re):null,pos:oe}}}class RangeSet{constructor(n,r,$,L){this.chunkPos=n,this.chunk=r,this.nextLayer=$,this.maxPoint=L}static create(n,r,$,L){return new RangeSet(n,r,$,L)}get length(){let n=this.chunk.length-1;return n<0?0:Math.max(this.chunkEnd(n),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let n=this.nextLayer.size;for(let r of this.chunk)n+=r.value.length;return n}chunkEnd(n){return this.chunkPos[n]+this.chunk[n].length}update(n){let{add:r=[],sort:$=!1,filterFrom:L=0,filterTo:V=this.length}=n,oe=n.filter;if(r.length==0&&!oe)return this;if($&&(r=r.slice().sort(cmpRange)),this.isEmpty)return r.length?RangeSet.of(r):this;let re=new LayerCursor(this,null,-1).goto(0),ae=0,le=[],ue=new RangeSetBuilder;for(;re.value||ae<r.length;)if(ae<r.length&&(re.from-r[ae].from||re.startSide-r[ae].value.startSide)>=0){let de=r[ae++];ue.addInner(de.from,de.to,de.value)||le.push(de)}else re.rangeIndex==1&&re.chunkIndex<this.chunk.length&&(ae==r.length||this.chunkEnd(re.chunkIndex)<r[ae].from)&&(!oe||L>this.chunkEnd(re.chunkIndex)||V<this.chunkPos[re.chunkIndex])&&ue.addChunk(this.chunkPos[re.chunkIndex],this.chunk[re.chunkIndex])?re.nextChunk():((!oe||L>re.to||V<re.from||oe(re.from,re.to,re.value))&&(ue.addInner(re.from,re.to,re.value)||le.push(Range$1.create(re.from,re.to,re.value))),re.next());return ue.finishInner(this.nextLayer.isEmpty&&!le.length?RangeSet.empty:this.nextLayer.update({add:le,filter:oe,filterFrom:L,filterTo:V}))}map(n){if(n.empty||this.isEmpty)return this;let r=[],$=[],L=-1;for(let oe=0;oe<this.chunk.length;oe++){let re=this.chunkPos[oe],ae=this.chunk[oe],le=n.touchesRange(re,re+ae.length);if(le===!1)L=Math.max(L,ae.maxPoint),r.push(ae),$.push(n.mapPos(re));else if(le===!0){let{mapped:ue,pos:de}=ae.map(re,n);ue&&(L=Math.max(L,ue.maxPoint),r.push(ue),$.push(de))}}let V=this.nextLayer.map(n);return r.length==0?V:new RangeSet($,r,V||RangeSet.empty,L)}between(n,r,$){if(!this.isEmpty){for(let L=0;L<this.chunk.length;L++){let V=this.chunkPos[L],oe=this.chunk[L];if(r>=V&&n<=V+oe.length&&oe.between(V,n-V,r-V,$)===!1)return}this.nextLayer.between(n,r,$)}}iter(n=0){return HeapCursor.from([this]).goto(n)}get isEmpty(){return this.nextLayer==this}static iter(n,r=0){return HeapCursor.from(n).goto(r)}static compare(n,r,$,L,V=-1){let oe=n.filter(de=>de.maxPoint>0||!de.isEmpty&&de.maxPoint>=V),re=r.filter(de=>de.maxPoint>0||!de.isEmpty&&de.maxPoint>=V),ae=findSharedChunks(oe,re,$),le=new SpanCursor(oe,ae,V),ue=new SpanCursor(re,ae,V);$.iterGaps((de,pe,he)=>compare(le,de,ue,pe,he,L)),$.empty&&$.length==0&&compare(le,0,ue,0,0,L)}static eq(n,r,$=0,L){L==null&&(L=999999999);let V=n.filter(ue=>!ue.isEmpty&&r.indexOf(ue)<0),oe=r.filter(ue=>!ue.isEmpty&&n.indexOf(ue)<0);if(V.length!=oe.length)return!1;if(!V.length)return!0;let re=findSharedChunks(V,oe),ae=new SpanCursor(V,re,0).goto($),le=new SpanCursor(oe,re,0).goto($);for(;;){if(ae.to!=le.to||!sameValues(ae.active,le.active)||ae.point&&(!le.point||!ae.point.eq(le.point)))return!1;if(ae.to>L)return!0;ae.next(),le.next()}}static spans(n,r,$,L,V=-1){let oe=new SpanCursor(n,null,V).goto(r),re=r,ae=oe.openStart;for(;;){let le=Math.min(oe.to,$);if(oe.point){let ue=oe.activeForPoint(oe.to),de=oe.pointFrom<r?ue.length+1:Math.min(ue.length,ae);L.point(re,le,oe.point,ue,de,oe.pointRank),ae=Math.min(oe.openEnd(le),ue.length)}else le>re&&(L.span(re,le,oe.active,ae),ae=oe.openEnd(le));if(oe.to>$)return ae+(oe.point&&oe.to>$?1:0);re=oe.to,oe.next()}}static of(n,r=!1){let $=new RangeSetBuilder;for(let L of n instanceof Range$1?[n]:r?lazySort(n):n)$.add(L.from,L.to,L.value);return $.finish()}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(g){if(g.length>1)for(let n=g[0],r=1;r<g.length;r++){let $=g[r];if(cmpRange(n,$)>0)return g.slice().sort(cmpRange);n=$}return g}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(n){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,n&&(this.from=[],this.to=[],this.value=[])}add(n,r,$){this.addInner(n,r,$)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(n,r,$)}addInner(n,r,$){let L=n-this.lastTo||$.startSide-this.last.endSide;if(L<=0&&(n-this.lastFrom||$.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return L<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=n),this.from.push(n-this.chunkStart),this.to.push(r-this.chunkStart),this.last=$,this.lastFrom=n,this.lastTo=r,this.value.push($),$.point&&(this.maxPoint=Math.max(this.maxPoint,r-n)),!0)}addChunk(n,r){if((n-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(n);let $=r.value.length-1;return this.last=r.value[$],this.lastFrom=r.from[$]+n,this.lastTo=r.to[$]+n,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(n){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return n;let r=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(n):n,this.setMaxPoint);return this.from=null,r}}function findSharedChunks(g,n,r){let $=new Map;for(let V of g)for(let oe=0;oe<V.chunk.length;oe++)V.chunk[oe].maxPoint<=0&&$.set(V.chunk[oe],V.chunkPos[oe]);let L=new Set;for(let V of n)for(let oe=0;oe<V.chunk.length;oe++){let re=$.get(V.chunk[oe]);re!=null&&(r?r.mapPos(re):re)==V.chunkPos[oe]&&!(r!=null&&r.touchesRange(re,re+V.chunk[oe].length))&&L.add(V.chunk[oe])}return L}class LayerCursor{constructor(n,r,$,L=0){this.layer=n,this.skip=r,this.minPoint=$,this.rank=L}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(n,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(n,r,!1),this}gotoInner(n,r,$){for(;this.chunkIndex<this.layer.chunk.length;){let L=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(L)||this.layer.chunkEnd(this.chunkIndex)<n||L.maxPoint<this.minPoint))break;this.chunkIndex++,$=!1}if(this.chunkIndex<this.layer.chunk.length){let L=this.layer.chunk[this.chunkIndex].findIndex(n-this.layer.chunkPos[this.chunkIndex],r,!0);(!$||this.rangeIndex<L)&&this.setRangeIndex(L)}this.next()}forward(n,r){(this.to-n||this.endSide-r)<0&&this.gotoInner(n,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let n=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],$=n+r.from[this.rangeIndex];if(this.from=$,this.to=n+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(n){if(n==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=n}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(n){return this.from-n.from||this.startSide-n.startSide||this.rank-n.rank||this.to-n.to||this.endSide-n.endSide}}class HeapCursor{constructor(n){this.heap=n}static from(n,r=null,$=-1){let L=[];for(let V=0;V<n.length;V++)for(let oe=n[V];!oe.isEmpty;oe=oe.nextLayer)oe.maxPoint>=$&&L.push(new LayerCursor(oe,r,$,V));return L.length==1?L[0]:new HeapCursor(L)}get startSide(){return this.value?this.value.startSide:0}goto(n,r=-1e9){for(let $ of this.heap)$.goto(n,r);for(let $=this.heap.length>>1;$>=0;$--)heapBubble(this.heap,$);return this.next(),this}forward(n,r){for(let $ of this.heap)$.forward(n,r);for(let $=this.heap.length>>1;$>=0;$--)heapBubble(this.heap,$);(this.to-n||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let n=this.heap[0];this.from=n.from,this.to=n.to,this.value=n.value,this.rank=n.rank,n.value&&n.next(),heapBubble(this.heap,0)}}}function heapBubble(g,n){for(let r=g[n];;){let $=(n<<1)+1;if($>=g.length)break;let L=g[$];if($+1<g.length&&L.compare(g[$+1])>=0&&(L=g[$+1],$++),r.compare(L)<0)break;g[$]=r,g[n]=L,n=$}}class SpanCursor{constructor(n,r,$){this.minPoint=$,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(n,r,$)}goto(n,r=-1e9){return this.cursor.goto(n,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=n,this.endSide=r,this.openStart=-1,this.next(),this}forward(n,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-n||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(n,r)}removeActive(n){remove(this.active,n),remove(this.activeTo,n),remove(this.activeRank,n),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(n){let r=0,{value:$,to:L,rank:V}=this.cursor;for(;r<this.activeRank.length&&this.activeRank[r]<=V;)r++;insert(this.active,r,$),insert(this.activeTo,r,L),insert(this.activeRank,r,V),n&&insert(n,r,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let n=this.to,r=this.point;this.point=null;let $=this.openStart<0?[]:null;for(;;){let L=this.minActive;if(L>-1&&(this.activeTo[L]-this.cursor.from||this.active[L].endSide-this.cursor.startSide)<0){if(this.activeTo[L]>n){this.to=this.activeTo[L],this.endSide=this.active[L].endSide;break}this.removeActive(L),$&&remove($,L)}else if(this.cursor.value)if(this.cursor.from>n){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let V=this.cursor.value;if(!V.point)this.addActive($),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=V,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=V.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if($){this.openStart=0;for(let L=$.length-1;L>=0&&$[L]<n;L--)this.openStart++}}activeForPoint(n){if(!this.active.length)return this.active;let r=[];for(let $=this.active.length-1;$>=0&&!(this.activeRank[$]<this.pointRank);$--)(this.activeTo[$]>n||this.activeTo[$]==n&&this.active[$].endSide>=this.point.endSide)&&r.push(this.active[$]);return r.reverse()}openEnd(n){let r=0;for(let $=this.activeTo.length-1;$>=0&&this.activeTo[$]>n;$--)r++;return r}}function compare(g,n,r,$,L,V){g.goto(n),r.goto($);let oe=$+L,re=$,ae=$-n;for(;;){let le=g.to+ae-r.to||g.endSide-r.endSide,ue=le<0?g.to+ae:r.to,de=Math.min(ue,oe);if(g.point||r.point?g.point&&r.point&&(g.point==r.point||g.point.eq(r.point))&&sameValues(g.activeForPoint(g.to+ae),r.activeForPoint(r.to))||V.comparePoint(re,de,g.point,r.point):de>re&&!sameValues(g.active,r.active)&&V.compareRange(re,de,g.active,r.active),ue>oe)break;re=ue,le<=0&&g.next(),le>=0&&r.next()}}function sameValues(g,n){if(g.length!=n.length)return!1;for(let r=0;r<g.length;r++)if(g[r]!=n[r]&&!g[r].eq(n[r]))return!1;return!0}function remove(g,n){for(let r=n,$=g.length-1;r<$;r++)g[r]=g[r+1];g.pop()}function insert(g,n,r){for(let $=g.length-1;$>=n;$--)g[$+1]=g[$];g[n]=r}function findMinIndex(g,n){let r=-1,$=1e9;for(let L=0;L<n.length;L++)(n[L]-$||g[L].endSide-g[r].endSide)<0&&(r=L,$=n[L]);return r}function countColumn(g,n,r=g.length){let $=0;for(let L=0;L<r;)g.charCodeAt(L)==9?($+=n-$%n,L++):($++,L=findClusterBreak(g,L));return $}function findColumn(g,n,r,$){for(let L=0,V=0;;){if(V>=n)return L;if(L==g.length)break;V+=g.charCodeAt(L)==9?r-V%r:1,L=findClusterBreak(g,L)}return $===!0?-1:g.length}const C$2="\u037C",COUNT=typeof Symbol>"u"?"__"+C$2:Symbol.for(C$2),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(n,r){this.rules=[];let{finish:$}=r||{};function L(oe){return/^@/.test(oe)?[oe]:oe.split(/,\s*/)}function V(oe,re,ae,le){let ue=[],de=/^@(\w+)\b/.exec(oe[0]),pe=de&&de[1]=="keyframes";if(de&&re==null)return ae.push(oe[0]+";");for(let he in re){let _e=re[he];if(/&/.test(he))V(he.split(/,\s*/).map(Oe=>oe.map(xe=>Oe.replace(/&/,xe))).reduce((Oe,xe)=>Oe.concat(xe)),_e,ae);else if(_e&&typeof _e=="object"){if(!de)throw new RangeError("The value of a property ("+he+") should be a primitive value.");V(L(he),_e,ue,pe)}else _e!=null&&ue.push(he.replace(/_.*/,"").replace(/[A-Z]/g,Oe=>"-"+Oe.toLowerCase())+": "+_e+";")}(ue.length||pe)&&ae.push(($&&!de&&!le?oe.map($):oe).join(", ")+" {"+ue.join(" ")+"}")}for(let oe in n)V(L(oe),n[oe],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let n=top[COUNT]||1;return top[COUNT]=n+1,C$2+n.toString(36)}static mount(n,r){(n[SET]||new StyleSet(n)).mount(Array.isArray(r)?r:[r])}}let adoptedSet=null;class StyleSet{constructor(n){if(!n.head&&n.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(adoptedSet)return n.adoptedStyleSheets=[adoptedSet.sheet,...n.adoptedStyleSheets],n[SET]=adoptedSet;this.sheet=new CSSStyleSheet,n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets],adoptedSet=this}else{this.styleTag=(n.ownerDocument||n).createElement("style");let r=n.head||n;r.insertBefore(this.styleTag,r.firstChild)}this.modules=[],n[SET]=this}mount(n){let r=this.sheet,$=0,L=0;for(let V=0;V<n.length;V++){let oe=n[V],re=this.modules.indexOf(oe);if(re<L&&re>-1&&(this.modules.splice(re,1),L--,re=-1),re==-1){if(this.modules.splice(L++,0,oe),r)for(let ae=0;ae<oe.rules.length;ae++)r.insertRule(oe.rules[ae],$++)}else{for(;L<re;)$+=this.modules[L++].rules.length;$+=oe.rules.length,L++}}if(!r){let V="";for(let oe=0;oe<this.modules.length;oe++)V+=this.modules[oe].getRules()+`
`;this.styleTag.textContent=V}}}var base$2={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},chrome$1=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent);typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent);for(var mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),brokenModifierNames=mac||chrome$1&&+chrome$1[1]<57,i$1=0;i$1<10;i$1++)base$2[48+i$1]=base$2[96+i$1]=String(i$1);for(var i$1=1;i$1<=24;i$1++)base$2[i$1+111]="F"+i$1;for(var i$1=65;i$1<=90;i$1++)base$2[i$1]=String.fromCharCode(i$1+32),shift[i$1]=String.fromCharCode(i$1);for(var code in base$2)shift.hasOwnProperty(code)||(shift[code]=base$2[code]);function keyName(g){var n=brokenModifierNames&&(g.ctrlKey||g.altKey||g.metaKey)||ie$1&&g.shiftKey&&g.key&&g.key.length==1||g.key=="Unidentified",r=!n&&g.key||(g.shiftKey?shift:base$2)[g.keyCode]||g.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function getSelection(g){let n;return g.nodeType==11?n=g.getSelection?g:g.ownerDocument:n=g,n.getSelection()}function contains(g,n){return n?g==n||g.contains(n.nodeType!=1?n.parentNode:n):!1}function deepActiveElement(g){let n=g.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function hasSelection(g,n){if(!n.anchorNode)return!1;try{return contains(g,n.anchorNode)}catch{return!1}}function clientRectsFor(g){return g.nodeType==3?textRange(g,0,g.nodeValue.length).getClientRects():g.nodeType==1?g.getClientRects():[]}function isEquivalentPosition(g,n,r,$){return r?scanFor(g,n,r,$,-1)||scanFor(g,n,r,$,1):!1}function domIndex(g){for(var n=0;;n++)if(g=g.previousSibling,!g)return n}function scanFor(g,n,r,$,L){for(;;){if(g==r&&n==$)return!0;if(n==(L<0?0:maxOffset(g))){if(g.nodeName=="DIV")return!1;let V=g.parentNode;if(!V||V.nodeType!=1)return!1;n=domIndex(g)+(L<0?0:1),g=V}else if(g.nodeType==1){if(g=g.childNodes[n+(L<0?-1:0)],g.nodeType==1&&g.contentEditable=="false")return!1;n=L<0?maxOffset(g):0}else return!1}}function maxOffset(g){return g.nodeType==3?g.nodeValue.length:g.childNodes.length}const Rect0={left:0,right:0,top:0,bottom:0};function flattenRect(g,n){let r=n?g.left:g.right;return{left:r,right:r,top:g.top,bottom:g.bottom}}function windowRect(g){return{left:0,right:g.innerWidth,top:0,bottom:g.innerHeight}}function scrollRectIntoView(g,n,r,$,L,V,oe,re){let ae=g.ownerDocument,le=ae.defaultView||window;for(let ue=g;ue;)if(ue.nodeType==1){let de,pe=ue==ae.body;if(pe)de=windowRect(le);else{if(ue.scrollHeight<=ue.clientHeight&&ue.scrollWidth<=ue.clientWidth){ue=ue.assignedSlot||ue.parentNode;continue}let Oe=ue.getBoundingClientRect();de={left:Oe.left,right:Oe.left+ue.clientWidth,top:Oe.top,bottom:Oe.top+ue.clientHeight}}let he=0,_e=0;if(L=="nearest")n.top<de.top?(_e=-(de.top-n.top+oe),r>0&&n.bottom>de.bottom+_e&&(_e=n.bottom-de.bottom+_e+oe)):n.bottom>de.bottom&&(_e=n.bottom-de.bottom+oe,r<0&&n.top-_e<de.top&&(_e=-(de.top+_e-n.top+oe)));else{let Oe=n.bottom-n.top,xe=de.bottom-de.top;_e=(L=="center"&&Oe<=xe?n.top+Oe/2-xe/2:L=="start"||L=="center"&&r<0?n.top-oe:n.bottom-xe+oe)-de.top}if($=="nearest"?n.left<de.left?(he=-(de.left-n.left+V),r>0&&n.right>de.right+he&&(he=n.right-de.right+he+V)):n.right>de.right&&(he=n.right-de.right+V,r<0&&n.left<de.left+he&&(he=-(de.left+he-n.left+V))):he=($=="center"?n.left+(n.right-n.left)/2-(de.right-de.left)/2:$=="start"==re?n.left-V:n.right-(de.right-de.left)+V)-de.left,he||_e)if(pe)le.scrollBy(he,_e);else{let Oe=0,xe=0;if(_e){let $e=ue.scrollTop;ue.scrollTop+=_e,xe=ue.scrollTop-$e}if(he){let $e=ue.scrollLeft;ue.scrollLeft+=he,Oe=ue.scrollLeft-$e}n={left:n.left-Oe,top:n.top-xe,right:n.right-Oe,bottom:n.bottom-xe},Oe&&Math.abs(Oe-he)<1&&($="nearest"),xe&&Math.abs(xe-_e)<1&&(L="nearest")}if(pe)break;ue=ue.assignedSlot||ue.parentNode}else if(ue.nodeType==11)ue=ue.host;else break}function scrollableParent(g){let n=g.ownerDocument;for(let r=g.parentNode;r&&r!=n.body;)if(r.nodeType==1){if(r.scrollHeight>r.clientHeight||r.scrollWidth>r.clientWidth)return r;r=r.assignedSlot||r.parentNode}else if(r.nodeType==11)r=r.host;else break;return null}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(n){return this.anchorNode==n.anchorNode&&this.anchorOffset==n.anchorOffset&&this.focusNode==n.focusNode&&this.focusOffset==n.focusOffset}setRange(n){this.set(n.anchorNode,n.anchorOffset,n.focusNode,n.focusOffset)}set(n,r,$,L){this.anchorNode=n,this.anchorOffset=r,this.focusNode=$,this.focusOffset=L}}let preventScrollSupported=null;function focusPreventScroll(g){if(g.setActive)return g.setActive();if(preventScrollSupported)return g.focus(preventScrollSupported);let n=[];for(let r=g;r&&(n.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(g.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let r=0;r<n.length;){let $=n[r++],L=n[r++],V=n[r++];$.scrollTop!=L&&($.scrollTop=L),$.scrollLeft!=V&&($.scrollLeft=V)}}}let scratchRange;function textRange(g,n,r=n){let $=scratchRange||(scratchRange=document.createRange());return $.setEnd(g,r),$.setStart(g,n),$}function dispatchKey(g,n,r){let $={key:n,code:n,keyCode:r,which:r,cancelable:!0},L=new KeyboardEvent("keydown",$);L.synthetic=!0,g.dispatchEvent(L);let V=new KeyboardEvent("keyup",$);return V.synthetic=!0,g.dispatchEvent(V),L.defaultPrevented||V.defaultPrevented}function getRoot(g){for(;g;){if(g&&(g.nodeType==9||g.nodeType==11&&g.host))return g;g=g.assignedSlot||g.parentNode}return null}function clearAttributes(g){for(;g.attributes.length;)g.removeAttributeNode(g.attributes[0])}function atElementStart(g,n){let r=n.focusNode,$=n.focusOffset;if(!r||n.anchorNode!=r||n.anchorOffset!=$)return!1;for(;;)if($){if(r.nodeType!=1)return!1;let L=r.childNodes[$-1];L.contentEditable=="false"?$--:(r=L,$=maxOffset(r))}else{if(r==g)return!0;$=domIndex(r),r=r.parentNode}}class DOMPos{constructor(n,r,$=!0){this.node=n,this.offset=r,this.precise=$}static before(n,r){return new DOMPos(n.parentNode,domIndex(n),r)}static after(n,r){return new DOMPos(n.parentNode,domIndex(n)+1,r)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(n){let r=this.posAtStart;for(let $ of this.children){if($==n)return r;r+=$.length+$.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(n){return this.posBefore(n)+n.length}coordsAt(n,r){return null}sync(n,r){if(this.dirty&2){let $=this.dom,L=null,V;for(let oe of this.children){if(oe.dirty){if(!oe.dom&&(V=L?L.nextSibling:$.firstChild)){let re=ContentView.get(V);(!re||!re.parent&&re.canReuseDOM(oe))&&oe.reuseDOM(V)}oe.sync(n,r),oe.dirty=0}if(V=L?L.nextSibling:$.firstChild,r&&!r.written&&r.node==$&&V!=oe.dom&&(r.written=!0),oe.dom.parentNode==$)for(;V&&V!=oe.dom;)V=rm$1(V);else $.insertBefore(oe.dom,V);L=oe.dom}for(V=L?L.nextSibling:$.firstChild,V&&r&&r.node==$&&(r.written=!0);V;)V=rm$1(V)}else if(this.dirty&1)for(let $ of this.children)$.dirty&&($.sync(n,r),$.dirty=0)}reuseDOM(n){}localPosFromDOM(n,r){let $;if(n==this.dom)$=this.dom.childNodes[r];else{let L=maxOffset(n)==0?0:r==0?-1:1;for(;;){let V=n.parentNode;if(V==this.dom)break;L==0&&V.firstChild!=V.lastChild&&(n==V.firstChild?L=-1:L=1),n=V}L<0?$=n:$=n.nextSibling}if($==this.dom.firstChild)return 0;for(;$&&!ContentView.get($);)$=$.nextSibling;if(!$)return this.length;for(let L=0,V=0;;L++){let oe=this.children[L];if(oe.dom==$)return V;V+=oe.length+oe.breakAfter}}domBoundsAround(n,r,$=0){let L=-1,V=-1,oe=-1,re=-1;for(let ae=0,le=$,ue=$;ae<this.children.length;ae++){let de=this.children[ae],pe=le+de.length;if(le<n&&pe>r)return de.domBoundsAround(n,r,le);if(pe>=n&&L==-1&&(L=ae,V=le),le>r&&de.dom.parentNode==this.dom){oe=ae,re=ue;break}ue=pe,le=pe+de.breakAfter}return{from:V,to:re<0?$+this.length:re,startDOM:(L?this.children[L-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:oe<this.children.length&&oe>=0?this.children[oe].dom:null}}markDirty(n=!1){this.dirty|=2,this.markParentsDirty(n)}markParentsDirty(n){for(let r=this.parent;r;r=r.parent){if(n&&(r.dirty|=2),r.dirty&1)return;r.dirty|=1,n=!1}}setParent(n){this.parent!=n&&(this.parent=n,this.dirty&&this.markParentsDirty(!0))}setDOM(n){this.dom&&(this.dom.cmView=null),this.dom=n,n.cmView=this}get rootView(){for(let n=this;;){let r=n.parent;if(!r)return n;n=r}}replaceChildren(n,r,$=noChildren){this.markDirty();for(let L=n;L<r;L++){let V=this.children[L];V.parent==this&&V.destroy()}this.children.splice(n,r-n,...$);for(let L=0;L<$.length;L++)$[L].setParent(this)}ignoreMutation(n){return!1}ignoreEvent(n){return!1}childCursor(n=this.length){return new ChildCursor(this.children,n,this.children.length)}childPos(n,r=1){return this.childCursor().findPos(n,r)}toString(){let n=this.constructor.name.replace("View","");return n+(this.children.length?"("+this.children.join()+")":this.length?"["+(n=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(n){return n.cmView}get isEditable(){return!0}get isWidget(){return!1}merge(n,r,$,L,V,oe){return!1}become(n){return!1}canReuseDOM(n){return n.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(g){let n=g.nextSibling;return g.parentNode.removeChild(g),n}class ChildCursor{constructor(n,r,$){this.children=n,this.pos=r,this.i=$,this.off=0}findPos(n,r=1){for(;;){if(n>this.pos||n==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=n-this.pos,this;let $=this.children[--this.i];this.pos-=$.length+$.breakAfter}}}function replaceRange(g,n,r,$,L,V,oe,re,ae){let{children:le}=g,ue=le.length?le[n]:null,de=V.length?V[V.length-1]:null,pe=de?de.breakAfter:oe;if(!(n==$&&ue&&!oe&&!pe&&V.length<2&&ue.merge(r,L,V.length?de:null,r==0,re,ae))){if($<le.length){let he=le[$];he&&L<he.length?(n==$&&(he=he.split(L),L=0),!pe&&de&&he.merge(0,L,de,!0,0,ae)?V[V.length-1]=he:(L&&he.merge(0,L,null,!1,0,ae),V.push(he))):he!=null&&he.breakAfter&&(de?de.breakAfter=1:oe=1),$++}for(ue&&(ue.breakAfter=oe,r>0&&(!oe&&V.length&&ue.merge(r,ue.length,V[0],!1,re,0)?ue.breakAfter=V.shift().breakAfter:(r<ue.length||ue.children.length&&ue.children[ue.children.length-1].length==0)&&ue.merge(r,ue.length,null,!1,re,0),n++));n<$&&V.length;)if(le[$-1].become(V[V.length-1]))$--,V.pop(),ae=V.length?0:re;else if(le[n].become(V[0]))n++,V.shift(),re=V.length?0:ae;else break;!V.length&&n&&$<le.length&&!le[n-1].breakAfter&&le[$].merge(0,0,le[n-1],!1,re,ae)&&n--,(n<$||V.length)&&g.replaceChildren(n,$,V)}}function mergeChildrenInto(g,n,r,$,L,V){let oe=g.childCursor(),{i:re,off:ae}=oe.findPos(r,1),{i:le,off:ue}=oe.findPos(n,-1),de=n-r;for(let pe of $)de+=pe.length;g.length+=de,replaceRange(g,le,ue,re,ae,$,0,L,V)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit,safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(n){super(),this.text=n}get length(){return this.text.length}createDOM(n){this.setDOM(n||document.createTextNode(this.text))}sync(n,r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}reuseDOM(n){n.nodeType==3&&this.createDOM(n)}merge(n,r,$){return $&&(!($ instanceof TextView)||this.length-(r-n)+$.length>MaxJoinLen)?!1:(this.text=this.text.slice(0,n)+($?$.text:"")+this.text.slice(r),this.markDirty(),!0)}split(n){let r=new TextView(this.text.slice(n));return this.text=this.text.slice(0,n),this.markDirty(),r}localPosFromDOM(n,r){return n==this.dom?r:r?this.text.length:0}domAtPos(n){return new DOMPos(this.dom,n)}domBoundsAround(n,r,$){return{from:$,to:$+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(n,r){return textCoords(this.dom,n,r)}}class MarkView extends ContentView{constructor(n,r=[],$=0){super(),this.mark=n,this.children=r,this.length=$;for(let L of r)L.setParent(this)}setAttrs(n){if(clearAttributes(n),this.mark.class&&(n.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)n.setAttribute(r,this.mark.attrs[r]);return n}reuseDOM(n){n.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(n),this.dirty|=6)}sync(n,r){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(n,r)}merge(n,r,$,L,V,oe){return $&&(!($ instanceof MarkView&&$.mark.eq(this.mark))||n&&V<=0||r<this.length&&oe<=0)?!1:(mergeChildrenInto(this,n,r,$?$.children:[],V-1,oe-1),this.markDirty(),!0)}split(n){let r=[],$=0,L=-1,V=0;for(let re of this.children){let ae=$+re.length;ae>n&&r.push($<n?re.split(n-$):re),L<0&&$>=n&&(L=V),$=ae,V++}let oe=this.length-n;return this.length=n,L>-1&&(this.children.length=L,this.markDirty()),new MarkView(this.mark,r,oe)}domAtPos(n){return inlineDOMAtPos(this,n)}coordsAt(n,r){return coordsInChildren(this,n,r)}}function textCoords(g,n,r){let $=g.nodeValue.length;n>$&&(n=$);let L=n,V=n,oe=0;n==0&&r<0||n==$&&r>=0?browser.chrome||browser.gecko||(n?(L--,oe=1):V<$&&(V++,oe=-1)):r<0?L--:V<$&&V++;let re=textRange(g,L,V).getClientRects();if(!re.length)return Rect0;let ae=re[(oe?oe<0:r>=0)?0:re.length-1];return browser.safari&&!oe&&ae.width==0&&(ae=Array.prototype.find.call(re,le=>le.width)||ae),oe?flattenRect(ae,oe<0):ae||null}class WidgetView extends ContentView{constructor(n,r,$){super(),this.widget=n,this.length=r,this.side=$,this.prevWidget=null}static create(n,r,$){return new(n.customView||WidgetView)(n,r,$)}split(n){let r=WidgetView.create(this.widget,this.length-n,this.side);return this.length-=n,r}sync(n){(!this.dom||!this.widget.updateDOM(this.dom,n))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(n)),this.dom.contentEditable="false")}getSide(){return this.side}merge(n,r,$,L,V,oe){return $&&(!($ instanceof WidgetView)||!this.widget.compare($.widget)||n>0&&V<=0||r<this.length&&oe<=0)?!1:(this.length=n+($?$.length:0)+(this.length-r),!0)}become(n){return n.length==this.length&&n instanceof WidgetView&&n.side==this.side&&this.widget.constructor==n.widget.constructor?(this.widget.eq(n.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=n.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(n){return this.widget.ignoreEvent(n)}get overrideDOMText(){if(this.length==0)return Text.empty;let n=this;for(;n.parent;)n=n.parent;let{view:r}=n,$=r&&r.state.doc,L=this.posAtStart;return $?$.slice(L,L+this.length):Text.empty}domAtPos(n){return n==0?DOMPos.before(this.dom):DOMPos.after(this.dom,n==this.length)}domBoundsAround(){return null}coordsAt(n,r){let $=this.dom.getClientRects(),L=null;if(!$.length)return Rect0;for(let V=n>0?$.length-1:0;L=$[V],!(n>0?V==0:V==$.length-1||L.top<L.bottom);V+=n>0?-1:1);return this.length?L:flattenRect(L,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class CompositionView extends WidgetView{domAtPos(n){let{topView:r,text:$}=this.widget;return r?scanCompositionTree(n,0,r,$,(L,V)=>L.domAtPos(V),L=>new DOMPos($,Math.min(L,$.nodeValue.length))):new DOMPos($,Math.min(n,$.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(n,r){let{topView:$,text:L}=this.widget;return $?posFromDOMInCompositionTree(n,r,$,L):Math.min(r,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(n,r){let{topView:$,text:L}=this.widget;return $?scanCompositionTree(n,r,$,L,(V,oe,re)=>V.coordsAt(oe,re),(V,oe)=>textCoords(L,V,oe)):textCoords(L,n,r)}destroy(){var n;super.destroy(),(n=this.widget.topView)===null||n===void 0||n.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function scanCompositionTree(g,n,r,$,L,V){if(r instanceof MarkView){for(let oe=r.dom.firstChild;oe;oe=oe.nextSibling){let re=ContentView.get(oe);if(!re)return V(g,n);let ae=contains(oe,$),le=re.length+(ae?$.nodeValue.length:0);if(g<le||g==le&&re.getSide()<=0)return ae?scanCompositionTree(g,n,re,$,L,V):L(re,g,n);g-=le}return L(r,r.length,-1)}else return r.dom==$?V(g,n):L(r,g,n)}function posFromDOMInCompositionTree(g,n,r,$){if(r instanceof MarkView){let L=0;for(let V of r.children){let oe=contains(V.dom,$);if(contains(V.dom,g))return L+(oe?posFromDOMInCompositionTree(g,n,V,$):V.localPosFromDOM(g,n));L+=oe?$.nodeValue.length:V.length}}else if(r.dom==$)return Math.min(n,$.nodeValue.length);return r.localPosFromDOM(g,n)}class WidgetBufferView extends ContentView{constructor(n){super(),this.side=n}get length(){return 0}merge(){return!1}become(n){return n instanceof WidgetBufferView&&n.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),this.setDOM(n)}}getSide(){return this.side}domAtPos(n){return this.side>0?DOMPos.before(this.dom):DOMPos.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(n){let r=this.dom.getBoundingClientRect(),$=inlineSiblingRect(this,this.side>0?-1:1);return $&&$.top<r.bottom&&$.bottom>r.top?{left:r.left,right:r.right,top:$.top,bottom:$.bottom}:r}get overrideDOMText(){return Text.empty}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineSiblingRect(g,n){let r=g.parent,$=r?r.children.indexOf(g):-1;for(;r&&$>=0;)if(n<0?$>0:$<r.children.length){let L=r.children[$+n];if(L instanceof TextView){let V=L.coordsAt(n<0?L.length:0,n);if(V)return V}$+=n}else if(r instanceof MarkView&&r.parent)$=r.parent.children.indexOf(r)+(n<0?0:1),r=r.parent;else{let L=r.dom.lastChild;if(L&&L.nodeName=="BR")return L.getClientRects()[0];break}}function inlineDOMAtPos(g,n){let r=g.dom,{children:$}=g,L=0;for(let V=0;L<$.length;L++){let oe=$[L],re=V+oe.length;if(!(re==V&&oe.getSide()<=0)){if(n>V&&n<re&&oe.dom.parentNode==r)return oe.domAtPos(n-V);if(n<=V)break;V=re}}for(let V=L;V>0;V--){let oe=$[V-1];if(oe.dom.parentNode==r)return oe.domAtPos(oe.length)}for(let V=L;V<$.length;V++){let oe=$[V];if(oe.dom.parentNode==r)return oe.domAtPos(0)}return new DOMPos(r,0)}function joinInlineInto(g,n,r){let $,{children:L}=g;r>0&&n instanceof MarkView&&L.length&&($=L[L.length-1])instanceof MarkView&&$.mark.eq(n.mark)?joinInlineInto($,n.children[0],r-1):(L.push(n),n.setParent(g)),g.length+=n.length}function coordsInChildren(g,n,r){let $=null,L=-1,V=null,oe=-1;function re(le,ue){for(let de=0,pe=0;de<le.children.length&&pe<=ue;de++){let he=le.children[de],_e=pe+he.length;_e>=ue&&(he.children.length?re(he,ue-pe):!V&&(_e>ue||pe==_e&&he.getSide()>0)?(V=he,oe=ue-pe):(pe<ue||pe==_e&&he.getSide()<0)&&($=he,L=ue-pe)),pe=_e}}re(g,n);let ae=(r<0?$:V)||$||V;return ae?ae.coordsAt(Math.max(0,ae==$?L:oe),r):fallbackRect(g)}function fallbackRect(g){let n=g.dom.lastChild;if(!n)return g.dom.getBoundingClientRect();let r=clientRectsFor(n);return r[r.length-1]||null}function combineAttrs(g,n){for(let r in g)r=="class"&&n.class?n.class+=" "+g.class:r=="style"&&n.style?n.style+=";"+g.style:n[r]=g[r];return n}function attrsEq(g,n){if(g==n)return!0;if(!g||!n)return!1;let r=Object.keys(g),$=Object.keys(n);if(r.length!=$.length)return!1;for(let L of r)if($.indexOf(L)==-1||g[L]!==n[L])return!1;return!0}function updateAttrs(g,n,r){let $=null;if(n)for(let L in n)r&&L in r||g.removeAttribute($=L);if(r)for(let L in r)n&&n[L]==r[L]||g.setAttribute($=L,r[L]);return!!$}class WidgetType{eq(n){return!1}updateDOM(n,r){return!1}compare(n){return this==n||this.constructor==n.constructor&&this.eq(n)}get estimatedHeight(){return-1}ignoreEvent(n){return!0}get customView(){return null}destroy(n){}}var BlockType=function(g){return g[g.Text=0]="Text",g[g.WidgetBefore=1]="WidgetBefore",g[g.WidgetAfter=2]="WidgetAfter",g[g.WidgetRange=3]="WidgetRange",g}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(n,r,$,L){super(),this.startSide=n,this.endSide=r,this.widget=$,this.spec=L}get heightRelevant(){return!1}static mark(n){return new MarkDecoration(n)}static widget(n){let r=n.side||0,$=!!n.block;return r+=$?r>0?3e8:-4e8:r>0?1e8:-1e8,new PointDecoration(n,r,r,$,n.widget||null,!1)}static replace(n){let r=!!n.block,$,L;if(n.isBlockGap)$=-5e8,L=4e8;else{let{start:V,end:oe}=getInclusive(n,r);$=(V?r?-3e8:-1:5e8)-1,L=(oe?r?2e8:1:-6e8)+1}return new PointDecoration(n,$,L,r,n.widget||null,!0)}static line(n){return new LineDecoration(n)}static set(n,r=!1){return RangeSet.of(n,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(n){let{start:r,end:$}=getInclusive(n);super(r?-1:5e8,$?1:-6e8,null,n),this.tagName=n.tagName||"span",this.class=n.class||"",this.attrs=n.attributes||null}eq(n){return this==n||n instanceof MarkDecoration&&this.tagName==n.tagName&&this.class==n.class&&attrsEq(this.attrs,n.attrs)}range(n,r=n){if(n>=r)throw new RangeError("Mark decorations may not be empty");return super.range(n,r)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(n){super(-2e8,-2e8,null,n)}eq(n){return n instanceof LineDecoration&&this.spec.class==n.spec.class&&attrsEq(this.spec.attributes,n.spec.attributes)}range(n,r=n){if(r!=n)throw new RangeError("Line decoration ranges must be zero-length");return super.range(n,r)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore,LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(n,r,$,L,V,oe){super(r,$,V,n),this.block=L,this.isReplace=oe,this.mapMode=L?r<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide<this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(n){return n instanceof PointDecoration&&widgetsEq(this.widget,n.widget)&&this.block==n.block&&this.startSide==n.startSide&&this.endSide==n.endSide}range(n,r=n){if(this.isReplace&&(n>r||n==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=n)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(n,r)}}PointDecoration.prototype.point=!0;function getInclusive(g,n=!1){let{inclusiveStart:r,inclusiveEnd:$}=g;return r==null&&(r=g.inclusive),$==null&&($=g.inclusive),{start:r!=null?r:n,end:$!=null?$:n}}function widgetsEq(g,n){return g==n||!!(g&&n&&g.compare(n))}function addRange(g,n,r,$=0){let L=r.length-1;L>=0&&r[L]+$>=g?r[L]=Math.max(r[L],n):r.push(g,n)}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(n,r,$,L,V,oe){if($){if(!($ instanceof LineView))return!1;this.dom||$.transferDOM(this)}return L&&this.setDeco($?$.attrs:null),mergeChildrenInto(this,n,r,$?$.children:[],V,oe),!0}split(n){let r=new LineView;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i:$,off:L}=this.childPos(n);L&&(r.append(this.children[$].split(L),0),this.children[$].merge(L,this.children[$].length,null,!1,0,0),$++);for(let V=$;V<this.children.length;V++)r.append(this.children[V],0);for(;$>0&&this.children[$-1].length==0;)this.children[--$].destroy();return this.children.length=$,this.markDirty(),this.length=n,r}transferDOM(n){!this.dom||(this.markDirty(),n.setDOM(this.dom),n.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(n){attrsEq(this.attrs,n)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=n)}append(n,r){joinInlineInto(this,n,r)}addLineDeco(n){let r=n.spec.attributes,$=n.spec.class;r&&(this.attrs=combineAttrs(r,this.attrs||{})),$&&(this.attrs=combineAttrs({class:$},this.attrs||{}))}domAtPos(n){return inlineDOMAtPos(this,n)}reuseDOM(n){n.nodeName=="DIV"&&(this.setDOM(n),this.dirty|=6)}sync(n,r){var $;this.dom?this.dirty&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(n,r);let L=this.dom.lastChild;for(;L&&ContentView.get(L)instanceof MarkView;)L=L.lastChild;if(!L||!this.length||L.nodeName!="BR"&&(($=ContentView.get(L))===null||$===void 0?void 0:$.isEditable)==!1&&(!browser.ios||!this.children.some(V=>V instanceof TextView))){let V=document.createElement("BR");V.cmIgnore=!0,this.dom.appendChild(V)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let n=0,r;for(let $ of this.children){if(!($ instanceof TextView)||/[^ -~]/.test($.text))return null;let L=clientRectsFor($.dom);if(L.length!=1)return null;n+=L[0].width,r=L[0].height}return n?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:n/this.length,textHeight:r}:null}coordsAt(n,r){let $=coordsInChildren(this,n,r);if(!this.children.length&&$&&this.parent){let{heightOracle:L}=this.parent.view.viewState,V=$.bottom-$.top;if(Math.abs(V-L.lineHeight)<2&&L.textHeight<V){let oe=(V-L.textHeight)/2;return{top:$.top+oe,bottom:$.bottom-oe,left:$.left,right:$.left}}}return $}become(n){return!1}get type(){return BlockType.Text}static find(n,r){for(let $=0,L=0;$<n.children.length;$++){let V=n.children[$],oe=L+V.length;if(oe>=r){if(V instanceof LineView)return V;if(oe>r)break}L=oe+V.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(n,r,$){super(),this.widget=n,this.length=r,this.type=$,this.breakAfter=0,this.prevWidget=null}merge(n,r,$,L,V,oe){return $&&(!($ instanceof BlockWidgetView)||!this.widget.compare($.widget)||n>0&&V<=0||r<this.length&&oe<=0)?!1:(this.length=n+($?$.length:0)+(this.length-r),!0)}domAtPos(n){return n==0?DOMPos.before(this.dom):DOMPos.after(this.dom,n==this.length)}split(n){let r=this.length-n;this.length=n;let $=new BlockWidgetView(this.widget,r,this.type);return $.breakAfter=this.breakAfter,$}get children(){return noChildren}sync(n){(!this.dom||!this.widget.updateDOM(this.dom,n))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(n)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(n){return n instanceof BlockWidgetView&&n.type==this.type&&n.widget.constructor==this.widget.constructor?(n.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=n.widget,this.length=n.length,this.breakAfter=n.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(n){return this.widget.ignoreEvent(n)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ContentBuilder{constructor(n,r,$,L){this.doc=n,this.pos=r,this.end=$,this.disallowBlockEffectsFor=L,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=n.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let n=this.content[this.content.length-1];return!n.breakAfter&&!(n instanceof BlockWidgetView&&n.type==BlockType.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(n=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),n),n.length),this.pendingBuffer=0)}addBlockWidget(n){this.flushBuffer(),this.curLine=null,this.content.push(n)}finish(n){this.pendingBuffer&&n<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(n,r,$){for(;n>0;){if(this.textOff==this.text.length){let{value:V,lineBreak:oe,done:re}=this.cursor.next(this.skip);if(this.skip=0,re)throw new Error("Ran out of text content when drawing inline views");if(oe){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,n--;continue}else this.text=V,this.textOff=0}let L=Math.min(this.text.length-this.textOff,n,512);this.flushBuffer(r.slice(r.length-$)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+L)),r),$),this.atCursorPos=!0,this.textOff+=L,n-=L,$=0}}span(n,r,$,L){this.buildText(r-n,$,L),this.pos=r,this.openStart<0&&(this.openStart=L)}point(n,r,$,L,V,oe){if(this.disallowBlockEffectsFor[oe]&&$ instanceof PointDecoration){if($.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let re=r-n;if($ instanceof PointDecoration)if($.block){let{type:ae}=$;ae==BlockType.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView($.widget||new NullWidget("div"),re,ae))}else{let ae=WidgetView.create($.widget||new NullWidget("span"),re,re?0:$.startSide),le=this.atCursorPos&&!ae.isEditable&&V<=L.length&&(n<r||$.startSide>0),ue=!ae.isEditable&&(n<r||V>L.length||$.startSide<=0),de=this.getLine();this.pendingBuffer==2&&!le&&(this.pendingBuffer=0),this.flushBuffer(L),le&&(de.append(wrapMarks(new WidgetBufferView(1),L),V),V=L.length+Math.max(0,V-L.length)),de.append(wrapMarks(ae,L),V),this.atCursorPos=ue,this.pendingBuffer=ue?n<r||V>L.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=L.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco($);re&&(this.textOff+re<=this.text.length?this.textOff+=re:(this.skip+=re-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=V)}static build(n,r,$,L,V){let oe=new ContentBuilder(n,r,$,V);return oe.openEnd=RangeSet.spans(L,r,$,oe),oe.openStart<0&&(oe.openStart=oe.openEnd),oe.finish(oe.openEnd),oe}}function wrapMarks(g,n){for(let r of n)g=new MarkView(r,[g],g.length);return g}class NullWidget extends WidgetType{constructor(n){super(),this.tag=n}eq(n){return n.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(n){return n.nodeName.toLowerCase()==this.tag}}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),focusChangeEffect=Facet.define(),perLineTextDirection=Facet.define({combine:g=>g.some(n=>n)}),nativeSelectionHidden=Facet.define({combine:g=>g.some(n=>n)});class ScrollTarget{constructor(n,r="nearest",$="nearest",L=5,V=5){this.range=n,this.y=r,this.x=$,this.yMargin=L,this.xMargin=V}map(n){return n.empty?this:new ScrollTarget(this.range.map(n),this.y,this.x,this.yMargin,this.xMargin)}}const scrollIntoView$2=StateEffect.define({map:(g,n)=>g.map(n)});function logException(g,n,r){let $=g.facet(exceptionSink);$.length?$[0](n):window.onerror?window.onerror(String(n),r,void 0,void 0,n):r?console.error(r+":",n):console.error(n)}const editable=Facet.define({combine:g=>g.length?g[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define();class ViewPlugin{constructor(n,r,$,L){this.id=n,this.create=r,this.domEventHandlers=$,this.extension=L(this)}static define(n,r){const{eventHandlers:$,provide:L,decorations:V}=r||{};return new ViewPlugin(nextPluginID++,n,$,oe=>{let re=[viewPlugin.of(oe)];return V&&re.push(decorations.of(ae=>{let le=ae.plugin(oe);return le?V(le):Decoration.none})),L&&re.push(L(oe)),re})}static fromClass(n,r){return ViewPlugin.define($=>new n($),r)}}class PluginInstance{constructor(n){this.spec=n,this.mustUpdate=null,this.value=null}update(n){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch($){if(logException(r.state,$,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(n)}catch(r){logException(n.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(n){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch($){logException(n.state,$,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),atomicRanges=Facet.define(),scrollMargins=Facet.define(),styleModule=Facet.define();class ChangedRange{constructor(n,r,$,L){this.fromA=n,this.toA=r,this.fromB=$,this.toB=L}join(n){return new ChangedRange(Math.min(this.fromA,n.fromA),Math.max(this.toA,n.toA),Math.min(this.fromB,n.fromB),Math.max(this.toB,n.toB))}addToSet(n){let r=n.length,$=this;for(;r>0;r--){let L=n[r-1];if(!(L.fromA>$.toA)){if(L.toA<$.fromA)break;$=$.join(L),n.splice(r-1,1)}}return n.splice(r,0,$),n}static extendWithRanges(n,r){if(r.length==0)return n;let $=[];for(let L=0,V=0,oe=0,re=0;;L++){let ae=L==n.length?null:n[L],le=oe-re,ue=ae?ae.fromB:1e9;for(;V<r.length&&r[V]<ue;){let de=r[V],pe=r[V+1],he=Math.max(re,de),_e=Math.min(ue,pe);if(he<=_e&&new ChangedRange(he+le,_e+le,he,_e).addToSet($),pe>ue)break;V+=2}if(!ae)return $;new ChangedRange(ae.fromA,ae.toA,ae.fromB,ae.toB).addToSet($),oe=ae.toA,re=ae.toB}}}class ViewUpdate{constructor(n,r,$){this.view=n,this.state=r,this.transactions=$,this.flags=0,this.startState=n.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let V of $)this.changes=this.changes.compose(V.changes);let L=[];this.changes.iterChangedRanges((V,oe,re,ae)=>L.push(new ChangedRange(V,oe,re,ae))),this.changedRanges=L}static create(n,r,$){return new ViewUpdate(n,r,$)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(n=>n.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var Direction=function(g){return g[g.LTR=0]="LTR",g[g.RTL=1]="RTL",g}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(g){let n=[];for(let r=0;r<g.length;r++)n.push(1<<+g[r]);return n}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let g of["()","[]","{}"]){let n=g.charCodeAt(0),r=g.charCodeAt(1);Brackets[n]=r,Brackets[r]=-n}function charType(g){return g<=247?LowTypes[g]:1424<=g&&g<=1524?2:1536<=g&&g<=1785?ArabicTypes[g-1536]:1774<=g&&g<=2220?4:8192<=g&&g<=8203?256:64336<=g&&g<=65023?4:g==8204?256:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{constructor(n,r,$){this.from=n,this.to=r,this.level=$}get dir(){return this.level%2?RTL:LTR}side(n,r){return this.dir==r==n?this.to:this.from}static find(n,r,$,L){let V=-1;for(let oe=0;oe<n.length;oe++){let re=n[oe];if(re.from<=r&&re.to>=r){if(re.level==$)return oe;(V<0||(L!=0?L<0?re.from<r:re.to>r:n[V].level>re.level))&&(V=oe)}}if(V<0)throw new RangeError("Index out of range");return V}}const types$1=[];function computeOrder(g,n){let r=g.length,$=n==LTR?1:2,L=n==LTR?2:1;if(!g||$==1&&!BidiRE.test(g))return trivialOrder(r);for(let oe=0,re=$,ae=$;oe<r;oe++){let le=charType(g.charCodeAt(oe));le==512?le=re:le==8&&ae==4&&(le=16),types$1[oe]=le==4?2:le,le&7&&(ae=le),re=le}for(let oe=0,re=$,ae=$;oe<r;oe++){let le=types$1[oe];if(le==128)oe<r-1&&re==types$1[oe+1]&&re&24?le=types$1[oe]=re:types$1[oe]=256;else if(le==64){let ue=oe+1;for(;ue<r&&types$1[ue]==64;)ue++;let de=oe&&re==8||ue<r&&types$1[ue]==8?ae==1?1:8:256;for(let pe=oe;pe<ue;pe++)types$1[pe]=de;oe=ue-1}else le==8&&ae==1&&(types$1[oe]=1);re=le,le&7&&(ae=le)}for(let oe=0,re=0,ae=0,le,ue,de;oe<r;oe++)if(ue=Brackets[le=g.charCodeAt(oe)])if(ue<0){for(let pe=re-3;pe>=0;pe-=3)if(BracketStack[pe+1]==-ue){let he=BracketStack[pe+2],_e=he&2?$:he&4?he&1?L:$:0;_e&&(types$1[oe]=types$1[BracketStack[pe]]=_e),re=pe;break}}else{if(BracketStack.length==189)break;BracketStack[re++]=oe,BracketStack[re++]=le,BracketStack[re++]=ae}else if((de=types$1[oe])==2||de==1){let pe=de==$;ae=pe?0:1;for(let he=re-3;he>=0;he-=3){let _e=BracketStack[he+2];if(_e&2)break;if(pe)BracketStack[he+2]|=2;else{if(_e&4)break;BracketStack[he+2]|=4}}}for(let oe=0;oe<r;oe++)if(types$1[oe]==256){let re=oe+1;for(;re<r&&types$1[re]==256;)re++;let ae=(oe?types$1[oe-1]:$)==1,le=(re<r?types$1[re]:$)==1,ue=ae==le?ae?1:2:$;for(let de=oe;de<re;de++)types$1[de]=ue;oe=re-1}let V=[];if($==1)for(let oe=0;oe<r;){let re=oe,ae=types$1[oe++]!=1;for(;oe<r&&ae==(types$1[oe]!=1);)oe++;if(ae)for(let le=oe;le>re;){let ue=le,de=types$1[--le]!=2;for(;le>re&&de==(types$1[le-1]!=2);)le--;V.push(new BidiSpan(le,ue,de?2:1))}else V.push(new BidiSpan(re,oe,0))}else for(let oe=0;oe<r;){let re=oe,ae=types$1[oe++]==2;for(;oe<r&&ae==(types$1[oe]==2);)oe++;V.push(new BidiSpan(re,oe,ae?1:2))}return V}function trivialOrder(g){return[new BidiSpan(0,g,0)]}let movedOver="";function moveVisually(g,n,r,$,L){var V;let oe=$.head-g.from,re=-1;if(oe==0){if(!L||!g.length)return null;n[0].level!=r&&(oe=n[0].side(!1,r),re=0)}else if(oe==g.length){if(L)return null;let pe=n[n.length-1];pe.level!=r&&(oe=pe.side(!0,r),re=n.length-1)}re<0&&(re=BidiSpan.find(n,oe,(V=$.bidiLevel)!==null&&V!==void 0?V:-1,$.assoc));let ae=n[re];oe==ae.side(L,r)&&(ae=n[re+=L?1:-1],oe=ae.side(!L,r));let le=L==(ae.dir==r),ue=findClusterBreak(g.text,oe,le);if(movedOver=g.text.slice(Math.min(oe,ue),Math.max(oe,ue)),ue!=ae.side(L,r))return EditorSelection.cursor(ue+g.from,le?-1:1,ae.level);let de=re==(L?n.length-1:0)?null:n[re+(L?1:-1)];return!de&&ae.level!=r?EditorSelection.cursor(L?g.to:g.from,L?-1:1,r):de&&de.level<ae.level?EditorSelection.cursor(de.side(!L,r)+g.from,L?1:-1,de.level):EditorSelection.cursor(ue+g.from,L?-1:1,ae.level)}const LineBreakPlaceholder="\uFFFF";class DOMReader{constructor(n,r){this.points=n,this.text="",this.lineSeparator=r.facet(EditorState.lineSeparator)}append(n){this.text+=n}lineBreak(){this.text+=LineBreakPlaceholder}readRange(n,r){if(!n)return this;let $=n.parentNode;for(let L=n;;){this.findPointBefore($,L),this.readNode(L);let V=L.nextSibling;if(V==r)break;let oe=ContentView.get(L),re=ContentView.get(V);(oe&&re?oe.breakAfter:(oe?oe.breakAfter:isBlockElement(L))||isBlockElement(V)&&(L.nodeName!="BR"||L.cmIgnore))&&this.lineBreak(),L=V}return this.findPointBefore($,r),this}readTextNode(n){let r=n.nodeValue;for(let $ of this.points)$.node==n&&($.pos=this.text.length+Math.min($.offset,r.length));for(let $=0,L=this.lineSeparator?null:/\r\n?|\n/g;;){let V=-1,oe=1,re;if(this.lineSeparator?(V=r.indexOf(this.lineSeparator,$),oe=this.lineSeparator.length):(re=L.exec(r))&&(V=re.index,oe=re[0].length),this.append(r.slice($,V<0?r.length:V)),V<0)break;if(this.lineBreak(),oe>1)for(let ae of this.points)ae.node==n&&ae.pos>this.text.length&&(ae.pos-=oe-1);$=V+oe}}readNode(n){if(n.cmIgnore)return;let r=ContentView.get(n),$=r&&r.overrideDOMText;if($!=null){this.findPointInside(n,$.length);for(let L=$.iter();!L.next().done;)L.lineBreak?this.lineBreak():this.append(L.value)}else n.nodeType==3?this.readTextNode(n):n.nodeName=="BR"?n.nextSibling&&this.lineBreak():n.nodeType==1&&this.readRange(n.firstChild,null)}findPointBefore(n,r){for(let $ of this.points)$.node==n&&n.childNodes[$.offset]==r&&($.pos=this.text.length)}findPointInside(n,r){for(let $ of this.points)(n.nodeType==3?$.node==n:n.contains($.node))&&($.pos=this.text.length+Math.min(r,$.offset))}}function isBlockElement(g){return g.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(g.nodeName)}class DOMPoint{constructor(n,r){this.node=n,this.offset=r,this.pos=-1}}class DocView extends ContentView{constructor(n){super(),this.view=n,this.compositionDeco=Decoration.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(n.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,n.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(n){let r=n.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:oe,toA:re})=>re<this.minWidthFrom||oe>this.minWidthTo)?(this.minWidthFrom=n.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=n.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Decoration.none:(n.transactions.length||this.dirty)&&(this.compositionDeco=computeCompositionDeco(this.view,n.changes)),(browser.ie||browser.chrome)&&!this.compositionDeco.size&&n&&n.state.doc.lines!=n.startState.doc.lines&&(this.forceSelection=!0);let $=this.decorations,L=this.updateDeco(),V=findChangedDeco($,L,n.changes);return r=ChangedRange.extendWithRanges(r,V),this.dirty==0&&r.length==0?!1:(this.updateInner(r,n.startState.doc.length),n.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(n,r);let{observer:$}=this.view;$.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let V=browser.chrome||browser.ios?{node:$.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,V),this.dirty=0,V&&(V.written||$.selectionRange.focusNode!=V.node)&&(this.forceSelection=!0),this.dom.style.height=""});let L=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let V of this.children)V instanceof BlockWidgetView&&V.widget instanceof BlockGapWidget&&L.push(V.dom);$.updateGaps(L)}updateChildren(n,r){let $=this.childCursor(r);for(let L=n.length-1;;L--){let V=L>=0?n[L]:null;if(!V)break;let{fromA:oe,toA:re,fromB:ae,toB:le}=V,{content:ue,breakAtStart:de,openStart:pe,openEnd:he}=ContentBuilder.build(this.view.state.doc,ae,le,this.decorations,this.dynamicDecorationMap),{i:_e,off:Oe}=$.findPos(re,1),{i:xe,off:$e}=$.findPos(oe,-1);replaceRange(this,xe,$e,_e,Oe,ue,de,pe,he)}}updateSelection(n=!1,r=!1){if((n||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!(r||this.mayControlSelection()))return;let $=this.forceSelection;this.forceSelection=!1;let L=this.view.state.selection.main,V=this.domAtPos(L.anchor),oe=L.empty?V:this.domAtPos(L.head);if(browser.gecko&&L.empty&&betweenUneditable(V)){let ae=document.createTextNode("");this.view.observer.ignore(()=>V.node.insertBefore(ae,V.node.childNodes[V.offset]||null)),V=oe=new DOMPos(ae,0),$=!0}let re=this.view.observer.selectionRange;($||!re.focusNode||!isEquivalentPosition(V.node,V.offset,re.anchorNode,re.anchorOffset)||!isEquivalentPosition(oe.node,oe.offset,re.focusNode,re.focusOffset))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(re.focusNode)&&inUneditable(re.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let ae=getSelection(this.view.root);if(ae)if(L.empty){if(browser.gecko){let le=nextToUneditable(V.node,V.offset);if(le&&le!=3){let ue=nearbyTextNode(V.node,V.offset,le==1?1:-1);ue&&(V=new DOMPos(ue,le==1?0:ue.nodeValue.length))}}ae.collapse(V.node,V.offset),L.bidiLevel!=null&&re.cursorBidiLevel!=null&&(re.cursorBidiLevel=L.bidiLevel)}else if(ae.extend){ae.collapse(V.node,V.offset);try{ae.extend(oe.node,oe.offset)}catch{}}else{let le=document.createRange();L.anchor>L.head&&([V,oe]=[oe,V]),le.setEnd(oe.node,oe.offset),le.setStart(V.node,V.offset),ae.removeAllRanges(),ae.addRange(le)}}),this.view.observer.setSelectionRange(V,oe)),this.impreciseAnchor=V.precise?null:new DOMPos(re.anchorNode,re.anchorOffset),this.impreciseHead=oe.precise?null:new DOMPos(re.focusNode,re.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:n}=this,r=n.state.selection.main,$=getSelection(n.root),{anchorNode:L,anchorOffset:V}=n.observer.selectionRange;if(!$||!r.empty||!r.assoc||!$.modify)return;let oe=LineView.find(this,r.head);if(!oe)return;let re=oe.posAtStart;if(r.head==re||r.head==re+oe.length)return;let ae=this.coordsAt(r.head,-1),le=this.coordsAt(r.head,1);if(!ae||!le||ae.bottom>le.top)return;let ue=this.domAtPos(r.head+r.assoc);$.collapse(ue.node,ue.offset),$.modify("move",r.assoc<0?"forward":"backward","lineboundary"),n.observer.readSelectionRange();let de=n.observer.selectionRange;n.docView.posFromDOM(de.anchorNode,de.anchorOffset)!=r.from&&$.collapse(L,V)}mayControlSelection(){let n=this.view.root.activeElement;return n==this.dom||hasSelection(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n))}nearest(n){for(let r=n;r;){let $=ContentView.get(r);if($&&$.rootView==this)return $;r=r.parentNode}return null}posFromDOM(n,r){let $=this.nearest(n);if(!$)throw new RangeError("Trying to find position for a DOM position outside of the document");return $.localPosFromDOM(n,r)+$.posAtStart}domAtPos(n){let{i:r,off:$}=this.childCursor().findPos(n,-1);for(;r<this.children.length-1;){let L=this.children[r];if($<L.length||L instanceof LineView)break;r++,$=0}return this.children[r].domAtPos($)}coordsAt(n,r){for(let $=this.length,L=this.children.length-1;;L--){let V=this.children[L],oe=$-V.breakAfter-V.length;if(n>oe||n==oe&&V.type!=BlockType.WidgetBefore&&V.type!=BlockType.WidgetAfter&&(!L||r==2||this.children[L-1].breakAfter||this.children[L-1].type==BlockType.WidgetBefore&&r>-2))return V.coordsAt(n-oe,r);$=oe}}measureVisibleLineHeights(n){let r=[],{from:$,to:L}=n,V=this.view.contentDOM.clientWidth,oe=V>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,re=-1,ae=this.view.textDirection==Direction.LTR;for(let le=0,ue=0;ue<this.children.length;ue++){let de=this.children[ue],pe=le+de.length;if(pe>L)break;if(le>=$){let he=de.dom.getBoundingClientRect();if(r.push(he.height),oe){let _e=de.dom.lastChild,Oe=_e?clientRectsFor(_e):[];if(Oe.length){let xe=Oe[Oe.length-1],$e=ae?xe.right-he.left:he.right-xe.left;$e>re&&(re=$e,this.minWidth=V,this.minWidthFrom=le,this.minWidthTo=pe)}}}le=pe+de.breakAfter}return r}textDirectionAt(n){let{i:r}=this.childPos(n,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let V of this.children)if(V instanceof LineView){let oe=V.measureTextSize();if(oe)return oe}let n=document.createElement("div"),r,$,L;return n.className="cm-line",n.style.width="99999px",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(n);let V=clientRectsFor(n.firstChild)[0];r=n.getBoundingClientRect().height,$=V?V.width/27:7,L=V?V.height:r,n.remove()}),{lineHeight:r,charWidth:$,textHeight:L}}childCursor(n=this.length){let r=this.children.length;return r&&(n-=this.children[--r].length),new ChildCursor(this.children,n,r)}computeBlockGapDeco(){let n=[],r=this.view.viewState;for(let $=0,L=0;;L++){let V=L==r.viewports.length?null:r.viewports[L],oe=V?V.from-1:this.length;if(oe>$){let re=r.lineBlockAt(oe).bottom-r.lineBlockAt($).top;n.push(Decoration.replace({widget:new BlockGapWidget(re),block:!0,inclusive:!0,isBlockGap:!0}).range($,oe))}if(!V)break;$=V.to+1}return Decoration.set(n)}updateDeco(){let n=this.view.state.facet(decorations).map((r,$)=>(this.dynamicDecorationMap[$]=typeof r=="function")?r(this.view):r);for(let r=n.length;r<n.length+3;r++)this.dynamicDecorationMap[r]=!1;return this.decorations=[...n,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(n){let{range:r}=n,$=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),L;if(!$)return;!r.empty&&(L=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&($={left:Math.min($.left,L.left),top:Math.min($.top,L.top),right:Math.max($.right,L.right),bottom:Math.max($.bottom,L.bottom)});let V=0,oe=0,re=0,ae=0;for(let ue of this.view.state.facet(scrollMargins).map(de=>de(this.view)))if(ue){let{left:de,right:pe,top:he,bottom:_e}=ue;de!=null&&(V=Math.max(V,de)),pe!=null&&(oe=Math.max(oe,pe)),he!=null&&(re=Math.max(re,he)),_e!=null&&(ae=Math.max(ae,_e))}let le={left:$.left-V,top:$.top-re,right:$.right+oe,bottom:$.bottom+ae};scrollRectIntoView(this.view.scrollDOM,le,r.head<r.anchor?-1:1,n.x,n.y,n.xMargin,n.yMargin,this.view.textDirection==Direction.LTR)}}function betweenUneditable(g){return g.node.nodeType==1&&g.node.firstChild&&(g.offset==0||g.node.childNodes[g.offset-1].contentEditable=="false")&&(g.offset==g.node.childNodes.length||g.node.childNodes[g.offset].contentEditable=="false")}class BlockGapWidget extends WidgetType{constructor(n){super(),this.height=n}toDOM(){let n=document.createElement("div");return this.updateDOM(n),n}eq(n){return n.height==this.height}updateDOM(n){return n.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function compositionSurroundingNode(g){let n=g.observer.selectionRange,r=n.focusNode&&nearbyTextNode(n.focusNode,n.focusOffset,0);if(!r)return null;let $=g.docView.nearest(r);if(!$)return null;if($ instanceof LineView){let L=r;for(;L.parentNode!=$.dom;)L=L.parentNode;let V=L.previousSibling;for(;V&&!ContentView.get(V);)V=V.previousSibling;let oe=V?ContentView.get(V).posAtEnd:$.posAtStart;return{from:oe,to:oe,node:L,text:r}}else{for(;;){let{parent:V}=$;if(!V)return null;if(V instanceof LineView)break;$=V}let L=$.posAtStart;return{from:L,to:L+$.length,node:$.dom,text:r}}}function computeCompositionDeco(g,n){let r=compositionSurroundingNode(g);if(!r)return Decoration.none;let{from:$,to:L,node:V,text:oe}=r,re=n.mapPos($,1),ae=Math.max(re,n.mapPos(L,-1)),{state:le}=g,ue=V.nodeType==3?V.nodeValue:new DOMReader([],le).readRange(V.firstChild,null).text;if(ae-re<ue.length)if(le.doc.sliceString(re,Math.min(le.doc.length,re+ue.length),LineBreakPlaceholder)==ue)ae=re+ue.length;else if(le.doc.sliceString(Math.max(0,ae-ue.length),ae,LineBreakPlaceholder)==ue)re=ae-ue.length;else return Decoration.none;else if(le.doc.sliceString(re,ae,LineBreakPlaceholder)!=ue)return Decoration.none;let de=ContentView.get(V);return de instanceof CompositionView?de=de.widget.topView:de&&(de.parent=null),Decoration.set(Decoration.replace({widget:new CompositionWidget(V,oe,de),inclusive:!0}).range(re,ae))}class CompositionWidget extends WidgetType{constructor(n,r,$){super(),this.top=n,this.text=r,this.topView=$}eq(n){return this.top==n.top&&this.text==n.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return CompositionView}}function nearbyTextNode(g,n,r){if(r<=0)for(let $=g,L=n;;){if($.nodeType==3)return $;if($.nodeType==1&&L>0)$=$.childNodes[L-1],L=maxOffset($);else break}if(r>=0)for(let $=g,L=n;;){if($.nodeType==3)return $;if($.nodeType==1&&L<$.childNodes.length&&r>=0)$=$.childNodes[L],L=0;else break}return null}function nextToUneditable(g,n){return g.nodeType!=1?0:(n&&g.childNodes[n-1].contentEditable=="false"?1:0)|(n<g.childNodes.length&&g.childNodes[n].contentEditable=="false"?2:0)}class DecorationComparator$1{constructor(){this.changes=[]}compareRange(n,r){addRange(n,r,this.changes)}comparePoint(n,r){addRange(n,r,this.changes)}}function findChangedDeco(g,n,r){let $=new DecorationComparator$1;return RangeSet.compare(g,n,r,$),$.changes}function inUneditable(g,n){for(let r=g;r&&r!=n;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function groupAt(g,n,r=1){let $=g.charCategorizer(n),L=g.doc.lineAt(n),V=n-L.from;if(L.length==0)return EditorSelection.cursor(n);V==0?r=1:V==L.length&&(r=-1);let oe=V,re=V;r<0?oe=findClusterBreak(L.text,V,!1):re=findClusterBreak(L.text,V);let ae=$(L.text.slice(oe,re));for(;oe>0;){let le=findClusterBreak(L.text,oe,!1);if($(L.text.slice(le,oe))!=ae)break;oe=le}for(;re<L.length;){let le=findClusterBreak(L.text,re);if($(L.text.slice(re,le))!=ae)break;re=le}return EditorSelection.range(oe+L.from,re+L.from)}function getdx(g,n){return n.left>g?n.left-g:Math.max(0,g-n.right)}function getdy(g,n){return n.top>g?n.top-g:Math.max(0,g-n.bottom)}function yOverlap(g,n){return g.top<n.bottom-1&&g.bottom>n.top+1}function upTop(g,n){return n<g.top?{top:n,left:g.left,right:g.right,bottom:g.bottom}:g}function upBot(g,n){return n>g.bottom?{top:g.top,left:g.left,right:g.right,bottom:n}:g}function domPosAtCoords(g,n,r){let $,L,V,oe,re=!1,ae,le,ue,de;for(let _e=g.firstChild;_e;_e=_e.nextSibling){let Oe=clientRectsFor(_e);for(let xe=0;xe<Oe.length;xe++){let $e=Oe[xe];L&&yOverlap(L,$e)&&($e=upTop(upBot($e,L.bottom),L.top));let Ie=getdx(n,$e),Ne=getdy(r,$e);if(Ie==0&&Ne==0)return _e.nodeType==3?domPosInText(_e,n,r):domPosAtCoords(_e,n,r);if(!$||oe>Ne||oe==Ne&&V>Ie){$=_e,L=$e,V=Ie,oe=Ne;let ze=Ne?r<$e.top?-1:1:Ie?n<$e.left?-1:1:0;re=!ze||(ze>0?xe<Oe.length-1:xe>0)}Ie==0?r>$e.bottom&&(!ue||ue.bottom<$e.bottom)?(ae=_e,ue=$e):r<$e.top&&(!de||de.top>$e.top)&&(le=_e,de=$e):ue&&yOverlap(ue,$e)?ue=upBot(ue,$e.bottom):de&&yOverlap(de,$e)&&(de=upTop(de,$e.top))}}if(ue&&ue.bottom>=r?($=ae,L=ue):de&&de.top<=r&&($=le,L=de),!$)return{node:g,offset:0};let pe=Math.max(L.left,Math.min(L.right,n));if($.nodeType==3)return domPosInText($,pe,r);if(re&&$.contentEditable!="false")return domPosAtCoords($,pe,r);let he=Array.prototype.indexOf.call(g.childNodes,$)+(n>=(L.left+L.right)/2?1:0);return{node:g,offset:he}}function domPosInText(g,n,r){let $=g.nodeValue.length,L=-1,V=1e9,oe=0;for(let re=0;re<$;re++){let ae=textRange(g,re,re+1).getClientRects();for(let le=0;le<ae.length;le++){let ue=ae[le];if(ue.top==ue.bottom)continue;oe||(oe=n-ue.left);let de=(ue.top>r?ue.top-r:r-ue.bottom)-1;if(ue.left-1<=n&&ue.right+1>=n&&de<V){let pe=n>=(ue.left+ue.right)/2,he=pe;if((browser.chrome||browser.gecko)&&textRange(g,re).getBoundingClientRect().left==ue.right&&(he=!pe),de<=0)return{node:g,offset:re+(he?1:0)};L=re+(he?1:0),V=de}}}return{node:g,offset:L>-1?L:oe>0?g.nodeValue.length:0}}function posAtCoords(g,n,r,$=-1){var L,V;let oe=g.contentDOM.getBoundingClientRect(),re=oe.top+g.viewState.paddingTop,ae,{docHeight:le}=g.viewState,{x:ue,y:de}=n,pe=de-re;if(pe<0)return 0;if(pe>le)return g.state.doc.length;for(let ze=g.defaultLineHeight/2,Ue=!1;ae=g.elementAtHeight(pe),ae.type!=BlockType.Text;)for(;pe=$>0?ae.bottom+ze:ae.top-ze,!(pe>=0&&pe<=le);){if(Ue)return r?null:0;Ue=!0,$=-$}de=re+pe;let he=ae.from;if(he<g.viewport.from)return g.viewport.from==0?0:r?null:posAtCoordsImprecise(g,oe,ae,ue,de);if(he>g.viewport.to)return g.viewport.to==g.state.doc.length?g.state.doc.length:r?null:posAtCoordsImprecise(g,oe,ae,ue,de);let _e=g.dom.ownerDocument,Oe=g.root.elementFromPoint?g.root:_e,xe=Oe.elementFromPoint(ue,de);xe&&!g.contentDOM.contains(xe)&&(xe=null),xe||(ue=Math.max(oe.left+1,Math.min(oe.right-1,ue)),xe=Oe.elementFromPoint(ue,de),xe&&!g.contentDOM.contains(xe)&&(xe=null));let $e,Ie=-1;if(xe&&((L=g.docView.nearest(xe))===null||L===void 0?void 0:L.isEditable)!=!1){if(_e.caretPositionFromPoint){let ze=_e.caretPositionFromPoint(ue,de);ze&&({offsetNode:$e,offset:Ie}=ze)}else if(_e.caretRangeFromPoint){let ze=_e.caretRangeFromPoint(ue,de);ze&&({startContainer:$e,startOffset:Ie}=ze,(!g.contentDOM.contains($e)||browser.safari&&isSuspiciousSafariCaretResult($e,Ie,ue)||browser.chrome&&isSuspiciousChromeCaretResult($e,Ie,ue))&&($e=void 0))}}if(!$e||!g.docView.dom.contains($e)){let ze=LineView.find(g.docView,he);if(!ze)return pe>ae.top+ae.height/2?ae.to:ae.from;({node:$e,offset:Ie}=domPosAtCoords(ze.dom,ue,de))}let Ne=g.docView.nearest($e);if(!Ne)return null;if(Ne.isWidget&&((V=Ne.dom)===null||V===void 0?void 0:V.nodeType)==1){let ze=Ne.dom.getBoundingClientRect();return n.y<ze.top||n.y<=ze.bottom&&n.x<=(ze.left+ze.right)/2?Ne.posAtStart:Ne.posAtEnd}else return Ne.localPosFromDOM($e,Ie)+Ne.posAtStart}function posAtCoordsImprecise(g,n,r,$,L){let V=Math.round(($-n.left)*g.defaultCharacterWidth);if(g.lineWrapping&&r.height>g.defaultLineHeight*1.5){let re=Math.floor((L-r.top)/g.defaultLineHeight);V+=re*g.viewState.heightOracle.lineLength}let oe=g.state.sliceDoc(r.from,r.to);return r.from+findColumn(oe,V,g.state.tabSize)}function isSuspiciousSafariCaretResult(g,n,r){let $;if(g.nodeType!=3||n!=($=g.nodeValue.length))return!1;for(let L=g.nextSibling;L;L=L.nextSibling)if(L.nodeType!=1||L.nodeName!="BR")return!1;return textRange(g,$-1,$).getBoundingClientRect().left>r}function isSuspiciousChromeCaretResult(g,n,r){if(n!=0)return!1;for(let L=g;;){let V=L.parentNode;if(!V||V.nodeType!=1||V.firstChild!=L)return!1;if(V.classList.contains("cm-line"))break;L=V}let $=g.nodeType==1?g.getBoundingClientRect():textRange(g,0,Math.max(g.nodeValue.length,1)).getBoundingClientRect();return r-$.left>5}function moveToLineBoundary(g,n,r,$){let L=g.state.doc.lineAt(n.head),V=!$||!g.lineWrapping?null:g.coordsAtPos(n.assoc<0&&n.head>L.from?n.head-1:n.head);if(V){let ae=g.dom.getBoundingClientRect(),le=g.textDirectionAt(L.from),ue=g.posAtCoords({x:r==(le==Direction.LTR)?ae.right-1:ae.left+1,y:(V.top+V.bottom)/2});if(ue!=null)return EditorSelection.cursor(ue,r?-1:1)}let oe=LineView.find(g.docView,n.head),re=oe?r?oe.posAtEnd:oe.posAtStart:r?L.to:L.from;return EditorSelection.cursor(re,r?-1:1)}function moveByChar(g,n,r,$){let L=g.state.doc.lineAt(n.head),V=g.bidiSpans(L),oe=g.textDirectionAt(L.from);for(let re=n,ae=null;;){let le=moveVisually(L,V,oe,re,r),ue=movedOver;if(!le){if(L.number==(r?g.state.doc.lines:1))return re;ue=`
`,L=g.state.doc.line(L.number+(r?1:-1)),V=g.bidiSpans(L),le=EditorSelection.cursor(r?L.from:L.to)}if(ae){if(!ae(ue))return re}else{if(!$)return le;ae=$(ue)}re=le}}function byGroup(g,n,r){let $=g.state.charCategorizer(n),L=$(r);return V=>{let oe=$(V);return L==CharCategory.Space&&(L=oe),L==oe}}function moveVertically(g,n,r,$){let L=n.head,V=r?1:-1;if(L==(r?g.state.doc.length:0))return EditorSelection.cursor(L,n.assoc);let oe=n.goalColumn,re,ae=g.contentDOM.getBoundingClientRect(),le=g.coordsAtPos(L),ue=g.documentTop;if(le)oe==null&&(oe=le.left-ae.left),re=V<0?le.top:le.bottom;else{let he=g.viewState.lineBlockAt(L);oe==null&&(oe=Math.min(ae.right-ae.left,g.defaultCharacterWidth*(L-he.from))),re=(V<0?he.top:he.bottom)+ue}let de=ae.left+oe,pe=$!=null?$:g.defaultLineHeight>>1;for(let he=0;;he+=10){let _e=re+(pe+he)*V,Oe=posAtCoords(g,{x:de,y:_e},!1,V);if(_e<ae.top||_e>ae.bottom||(V<0?Oe<L:Oe>L))return EditorSelection.cursor(Oe,n.assoc,void 0,oe)}}function skipAtoms(g,n,r){let $=g.state.facet(atomicRanges).map(L=>L(g));for(;;){let L=!1;for(let V of $)V.between(r.from-1,r.from+1,(oe,re,ae)=>{r.from>oe&&r.from<re&&(r=n.head>r.from?EditorSelection.cursor(oe,1):EditorSelection.cursor(re,-1),L=!0)});if(!L)return r}}class InputState{constructor(n){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;let r=($,L)=>{this.ignoreDuringComposition(L)||L.type=="keydown"&&this.keydown(n,L)||(this.mustFlushObserver(L)&&n.observer.forceFlush(),this.runCustomHandlers(L.type,n,L)?L.preventDefault():$(n,L))};for(let $ in handlers){let L=handlers[$];n.contentDOM.addEventListener($,V=>{eventBelongsToEditor(n,V)&&r(L,V)},handlerOptions[$]),this.registeredEvents.push($)}n.scrollDOM.addEventListener("mousedown",$=>{if($.target==n.scrollDOM&&$.clientY>n.contentDOM.getBoundingClientRect().bottom&&(r(handlers.mousedown,$),!$.defaultPrevented&&$.button==2)){let L=n.contentDOM.style.minHeight;n.contentDOM.style.minHeight="100%",setTimeout(()=>n.contentDOM.style.minHeight=L,200)}}),browser.chrome&&browser.chrome_version==102&&n.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?n.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,n.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=n.hasFocus,browser.safari&&n.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(n){this.lastSelectionOrigin=n,this.lastSelectionTime=Date.now()}ensureHandlers(n,r){var $;let L;this.customHandlers=[];for(let V of r)if(L=($=V.update(n).spec)===null||$===void 0?void 0:$.domEventHandlers){this.customHandlers.push({plugin:V.value,handlers:L});for(let oe in L)this.registeredEvents.indexOf(oe)<0&&oe!="scroll"&&(this.registeredEvents.push(oe),n.contentDOM.addEventListener(oe,re=>{!eventBelongsToEditor(n,re)||this.runCustomHandlers(oe,n,re)&&re.preventDefault()}))}}runCustomHandlers(n,r,$){for(let L of this.customHandlers){let V=L.handlers[n];if(V)try{if(V.call(L.plugin,$,r)||$.defaultPrevented)return!0}catch(oe){logException(r.state,oe)}}return!1}runScrollHandlers(n,r){this.lastScrollTop=n.scrollDOM.scrollTop,this.lastScrollLeft=n.scrollDOM.scrollLeft;for(let $ of this.customHandlers){let L=$.handlers.scroll;if(L)try{L.call($.plugin,r,n)}catch(V){logException(n.state,V)}}}keydown(n,r){if(this.lastKeyCode=r.keyCode,this.lastKeyTime=Date.now(),r.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(browser.android&&browser.chrome&&!r.synthetic&&(r.keyCode==13||r.keyCode==8))return n.observer.delayAndroidKey(r.key,r.keyCode),!0;let $;return browser.ios&&!r.synthetic&&!r.altKey&&!r.metaKey&&(($=PendingKeys.find(L=>L.keyCode==r.keyCode))&&!r.ctrlKey||EmacsyPendingKeys.indexOf(r.key)>-1&&r.ctrlKey&&!r.shiftKey)?(this.pendingIOSKey=$||r,setTimeout(()=>this.flushIOSKey(n),250),!0):!1}flushIOSKey(n){let r=this.pendingIOSKey;return r?(this.pendingIOSKey=void 0,dispatchKey(n.contentDOM,r.key,r.keyCode)):!1}ignoreDuringComposition(n){return/^key/.test(n.type)?this.composing>0?!0:browser.safari&&!browser.ios&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(n){return n.type=="keydown"&&n.keyCode!=229}startMouseSelection(n){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=n}update(n){this.mouseSelection&&this.mouseSelection.update(n),n.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225];function dragScrollSpeed(g){return g*.7+8}class MouseSelection{constructor(n,r,$,L){this.view=n,this.style=$,this.mustSelect=L,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParent=scrollableParent(n.contentDOM);let V=n.contentDOM.ownerDocument;V.addEventListener("mousemove",this.move=this.move.bind(this)),V.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=n.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(n,r),this.dragMove=dragMovesSelection(n,r),this.dragging=isInPrimarySelection(n,r)&&getClickType(r)==1?null:!1}start(n){this.dragging===!1&&(n.preventDefault(),this.select(n))}move(n){var r;if(n.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=n);let $=0,L=0,V=((r=this.scrollParent)===null||r===void 0?void 0:r.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};n.clientX<=V.left?$=-dragScrollSpeed(V.left-n.clientX):n.clientX>=V.right&&($=dragScrollSpeed(n.clientX-V.right)),n.clientY<=V.top?L=-dragScrollSpeed(V.top-n.clientY):n.clientY>=V.bottom&&(L=dragScrollSpeed(n.clientY-V.bottom)),this.setScrollSpeed($,L)}up(n){this.dragging==null&&this.select(this.lastEvent),this.dragging||n.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let n=this.view.contentDOM.ownerDocument;n.removeEventListener("mousemove",this.move),n.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(n,r){this.scrollSpeed={x:n,y:r},n||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}select(n){let r=this.style.get(n,this.extend,this.multiple);(this.mustSelect||!r.eq(this.view.state.selection)||r.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(n){n.docChanged&&this.dragging&&(this.dragging=this.dragging.map(n.changes)),this.style.update(n)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(g,n){let r=g.state.facet(clickAddsSelectionRange);return r.length?r[0](n):browser.mac?n.metaKey:n.ctrlKey}function dragMovesSelection(g,n){let r=g.state.facet(dragMovesSelection$1);return r.length?r[0](n):browser.mac?!n.altKey:!n.ctrlKey}function isInPrimarySelection(g,n){let{main:r}=g.state.selection;if(r.empty)return!1;let $=getSelection(g.root);if(!$||$.rangeCount==0)return!0;let L=$.getRangeAt(0).getClientRects();for(let V=0;V<L.length;V++){let oe=L[V];if(oe.left<=n.clientX&&oe.right>=n.clientX&&oe.top<=n.clientY&&oe.bottom>=n.clientY)return!0}return!1}function eventBelongsToEditor(g,n){if(!n.bubbles)return!0;if(n.defaultPrevented)return!1;for(let r=n.target,$;r!=g.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||($=ContentView.get(r))&&$.ignoreEvent(n))return!1;return!0}const handlers=Object.create(null),handlerOptions=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(g){let n=g.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{g.focus(),r.remove(),doPaste(g,r.value)},50)}function doPaste(g,n){let{state:r}=g,$,L=1,V=r.toText(n),oe=V.lines==r.selection.ranges.length;if(lastLinewiseCopy!=null&&r.selection.ranges.every(re=>re.empty)&&lastLinewiseCopy==V.toString()){let re=-1;$=r.changeByRange(ae=>{let le=r.doc.lineAt(ae.from);if(le.from==re)return{range:ae};re=le.from;let ue=r.toText((oe?V.line(L++).text:n)+r.lineBreak);return{changes:{from:le.from,insert:ue},range:EditorSelection.cursor(ae.from+ue.length)}})}else oe?$=r.changeByRange(re=>{let ae=V.line(L++);return{changes:{from:re.from,to:re.to,insert:ae.text},range:EditorSelection.cursor(re.from+ae.length)}}):$=r.replaceSelection(V);g.dispatch($,{userEvent:"input.paste",scrollIntoView:!0})}handlers.keydown=(g,n)=>{g.inputState.setSelectionOrigin("select"),n.keyCode==27?g.inputState.lastEscPress=Date.now():modifierCodes.indexOf(n.keyCode)<0&&(g.inputState.lastEscPress=0)},handlers.touchstart=(g,n)=>{g.inputState.lastTouchTime=Date.now(),g.inputState.setSelectionOrigin("select.pointer")},handlers.touchmove=g=>{g.inputState.setSelectionOrigin("select.pointer")},handlerOptions.touchstart=handlerOptions.touchmove={passive:!0},handlers.mousedown=(g,n)=>{if(g.observer.flush(),g.inputState.lastTouchTime>Date.now()-2e3)return;let r=null;for(let $ of g.state.facet(mouseSelectionStyle))if(r=$(g,n),r)break;if(!r&&n.button==0&&(r=basicMouseSelection(g,n)),r){let $=g.root.activeElement!=g.contentDOM;g.inputState.startMouseSelection(new MouseSelection(g,n,r,$)),$&&g.observer.ignore(()=>focusPreventScroll(g.contentDOM)),g.inputState.mouseSelection&&g.inputState.mouseSelection.start(n)}};function rangeForClick(g,n,r,$){if($==1)return EditorSelection.cursor(n,r);if($==2)return groupAt(g.state,n,r);{let L=LineView.find(g.docView,n),V=g.state.doc.lineAt(L?L.posAtEnd:n),oe=L?L.posAtStart:V.from,re=L?L.posAtEnd:V.to;return re<g.state.doc.length&&re==V.to&&re++,EditorSelection.range(oe,re)}}let insideY=(g,n)=>g>=n.top&&g<=n.bottom,inside=(g,n,r)=>insideY(n,r)&&g>=r.left&&g<=r.right;function findPositionSide(g,n,r,$){let L=LineView.find(g.docView,n);if(!L)return 1;let V=n-L.posAtStart;if(V==0)return 1;if(V==L.length)return-1;let oe=L.coordsAt(V,-1);if(oe&&inside(r,$,oe))return-1;let re=L.coordsAt(V,1);return re&&inside(r,$,re)?1:oe&&insideY($,oe)?-1:1}function queryPos(g,n){let r=g.posAtCoords({x:n.clientX,y:n.clientY},!1);return{pos:r,bias:findPositionSide(g,r,n.clientX,n.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(g){if(!BadMouseDetail)return g.detail;let n=lastMouseDown,r=lastMouseDownTime;return lastMouseDown=g,lastMouseDownTime=Date.now(),lastMouseDownCount=!n||r>Date.now()-400&&Math.abs(n.clientX-g.clientX)<2&&Math.abs(n.clientY-g.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(g,n){let r=queryPos(g,n),$=getClickType(n),L=g.state.selection;return{update(V){V.docChanged&&(r.pos=V.changes.mapPos(r.pos),L=L.map(V.changes))},get(V,oe,re){let ae=queryPos(g,V),le=rangeForClick(g,ae.pos,ae.bias,$);if(r.pos!=ae.pos&&!oe){let ue=rangeForClick(g,r.pos,r.bias,$),de=Math.min(ue.from,le.from),pe=Math.max(ue.to,le.to);le=de<le.from?EditorSelection.range(de,pe):EditorSelection.range(pe,de)}return oe?L.replaceRange(L.main.extend(le.from,le.to)):re&&L.ranges.length>1&&L.ranges.some(ue=>ue.eq(le))?removeRange(L,le):re?L.addRange(le):EditorSelection.create([le])}}}function removeRange(g,n){for(let r=0;;r++)if(g.ranges[r].eq(n))return EditorSelection.create(g.ranges.slice(0,r).concat(g.ranges.slice(r+1)),g.mainIndex==r?0:g.mainIndex-(g.mainIndex>r?1:0))}handlers.dragstart=(g,n)=>{let{selection:{main:r}}=g.state,{mouseSelection:$}=g.inputState;$&&($.dragging=r),n.dataTransfer&&(n.dataTransfer.setData("Text",g.state.sliceDoc(r.from,r.to)),n.dataTransfer.effectAllowed="copyMove")};function dropText(g,n,r,$){if(!r)return;let L=g.posAtCoords({x:n.clientX,y:n.clientY},!1);n.preventDefault();let{mouseSelection:V}=g.inputState,oe=$&&V&&V.dragging&&V.dragMove?{from:V.dragging.from,to:V.dragging.to}:null,re={from:L,insert:r},ae=g.state.changes(oe?[oe,re]:re);g.focus(),g.dispatch({changes:ae,selection:{anchor:ae.mapPos(L,-1),head:ae.mapPos(L,1)},userEvent:oe?"move.drop":"input.drop"})}handlers.drop=(g,n)=>{if(!n.dataTransfer)return;if(g.state.readOnly)return n.preventDefault();let r=n.dataTransfer.files;if(r&&r.length){n.preventDefault();let $=Array(r.length),L=0,V=()=>{++L==r.length&&dropText(g,n,$.filter(oe=>oe!=null).join(g.state.lineBreak),!1)};for(let oe=0;oe<r.length;oe++){let re=new FileReader;re.onerror=V,re.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(re.result)||($[oe]=re.result),V()},re.readAsText(r[oe])}}else dropText(g,n,n.dataTransfer.getData("Text"),!0)},handlers.paste=(g,n)=>{if(g.state.readOnly)return n.preventDefault();g.observer.flush();let r=brokenClipboardAPI?null:n.clipboardData;r?(doPaste(g,r.getData("text/plain")||r.getData("text/uri-text")),n.preventDefault()):capturePaste(g)};function captureCopy(g,n){let r=g.dom.parentNode;if(!r)return;let $=r.appendChild(document.createElement("textarea"));$.style.cssText="position: fixed; left: -10000px; top: 10px",$.value=n,$.focus(),$.selectionEnd=n.length,$.selectionStart=0,setTimeout(()=>{$.remove(),g.focus()},50)}function copiedRange(g){let n=[],r=[],$=!1;for(let L of g.selection.ranges)L.empty||(n.push(g.sliceDoc(L.from,L.to)),r.push(L));if(!n.length){let L=-1;for(let{from:V}of g.selection.ranges){let oe=g.doc.lineAt(V);oe.number>L&&(n.push(oe.text),r.push({from:oe.from,to:Math.min(g.doc.length,oe.to+1)})),L=oe.number}$=!0}return{text:n.join(g.lineBreak),ranges:r,linewise:$}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(g,n)=>{let{text:r,ranges:$,linewise:L}=copiedRange(g.state);if(!r&&!L)return;lastLinewiseCopy=L?r:null;let V=brokenClipboardAPI?null:n.clipboardData;V?(n.preventDefault(),V.clearData(),V.setData("text/plain",r)):captureCopy(g,r),n.type=="cut"&&!g.state.readOnly&&g.dispatch({changes:$,scrollIntoView:!0,userEvent:"delete.cut"})};const isFocusChange=Annotation.define();function focusChangeTransaction(g,n){let r=[];for(let $ of g.facet(focusChangeEffect)){let L=$(g,n);L&&r.push(L)}return r?g.update({effects:r,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(g){setTimeout(()=>{let n=g.hasFocus;if(n!=g.inputState.notifiedFocused){let r=focusChangeTransaction(g.state,n);r?g.dispatch(r):g.update([])}},10)}handlers.focus=g=>{g.inputState.lastFocusTime=Date.now(),!g.scrollDOM.scrollTop&&(g.inputState.lastScrollTop||g.inputState.lastScrollLeft)&&(g.scrollDOM.scrollTop=g.inputState.lastScrollTop,g.scrollDOM.scrollLeft=g.inputState.lastScrollLeft),updateForFocusChange(g)},handlers.blur=g=>{g.observer.clearSelectionRange(),updateForFocusChange(g)},handlers.compositionstart=handlers.compositionupdate=g=>{g.inputState.compositionFirstChange==null&&(g.inputState.compositionFirstChange=!0),g.inputState.composing<0&&(g.inputState.composing=0)},handlers.compositionend=g=>{g.inputState.composing=-1,g.inputState.compositionEndedAt=Date.now(),g.inputState.compositionFirstChange=null,browser.chrome&&browser.android&&g.observer.flushSoon(),setTimeout(()=>{g.inputState.composing<0&&g.docView.compositionDeco.size&&g.update([])},50)},handlers.contextmenu=g=>{g.inputState.lastContextMenu=Date.now()},handlers.beforeinput=(g,n)=>{var r;let $;if(browser.chrome&&browser.android&&($=PendingKeys.find(L=>L.inputType==n.inputType))&&(g.observer.delayAndroidKey($.key,$.keyCode),$.key=="Backspace"||$.key=="Delete")){let L=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var V;(((V=window.visualViewport)===null||V===void 0?void 0:V.height)||0)>L+10&&g.hasFocus&&(g.contentDOM.blur(),g.focus())},100)}};const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];class HeightOracle{constructor(n){this.lineWrapping=n,this.doc=Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(n,r){let $=this.doc.lineAt(r).number-this.doc.lineAt(n).number+1;return this.lineWrapping&&($+=Math.max(0,Math.ceil((r-n-$*this.lineLength*.5)/this.lineLength))),this.lineHeight*$}heightForLine(n){return this.lineWrapping?(1+Math.max(0,Math.ceil((n-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(n){return this.doc=n,this}mustRefreshForWrapping(n){return wrappingWhiteSpace.indexOf(n)>-1!=this.lineWrapping}mustRefreshForHeights(n){let r=!1;for(let $=0;$<n.length;$++){let L=n[$];L<0?$++:this.heightSamples[Math.floor(L*10)]||(r=!0,this.heightSamples[Math.floor(L*10)]=!0)}return r}refresh(n,r,$,L,V,oe){let re=wrappingWhiteSpace.indexOf(n)>-1,ae=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=re;if(this.lineWrapping=re,this.lineHeight=r,this.charWidth=$,this.textHeight=L,this.lineLength=V,ae){this.heightSamples={};for(let le=0;le<oe.length;le++){let ue=oe[le];ue<0?le++:this.heightSamples[Math.floor(ue*10)]=!0}}return ae}}class MeasuredHeights{constructor(n,r){this.from=n,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(n,r,$,L,V){this.from=n,this.length=r,this.top=$,this.height=L,this.type=V}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(n){let r=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(n.type)?n.type:[n]);return new BlockInfo(this.from,this.length+n.length,this.top,this.height+n.height,r)}}var QueryType$1=function(g){return g[g.ByPos=0]="ByPos",g[g.ByHeight=1]="ByHeight",g[g.ByPosNoHeight=2]="ByPosNoHeight",g}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(n,r,$=2){this.length=n,this.height=r,this.flags=$}get outdated(){return(this.flags&2)>0}set outdated(n){this.flags=(n?2:0)|this.flags&-3}setHeight(n,r){this.height!=r&&(Math.abs(this.height-r)>Epsilon&&(n.heightChanged=!0),this.height=r)}replace(n,r,$){return HeightMap.of($)}decomposeLeft(n,r){r.push(this)}decomposeRight(n,r){r.push(this)}applyChanges(n,r,$,L){let V=this,oe=$.doc;for(let re=L.length-1;re>=0;re--){let{fromA:ae,toA:le,fromB:ue,toB:de}=L[re],pe=V.lineAt(ae,QueryType$1.ByPosNoHeight,$.setDoc(r),0,0),he=pe.to>=le?pe:V.lineAt(le,QueryType$1.ByPosNoHeight,$,0,0);for(de+=he.to-le,le=he.to;re>0&&pe.from<=L[re-1].toA;)ae=L[re-1].fromA,ue=L[re-1].fromB,re--,ae<pe.from&&(pe=V.lineAt(ae,QueryType$1.ByPosNoHeight,$,0,0));ue+=pe.from-ae,ae=pe.from;let _e=NodeBuilder.build($.setDoc(oe),n,ue,de);V=V.replace(ae,le,_e)}return V.updateHeight($,0)}static empty(){return new HeightMapText(0,0)}static of(n){if(n.length==1)return n[0];let r=0,$=n.length,L=0,V=0;for(;;)if(r==$)if(L>V*2){let re=n[r-1];re.break?n.splice(--r,1,re.left,null,re.right):n.splice(--r,1,re.left,re.right),$+=1+re.break,L-=re.size}else if(V>L*2){let re=n[$];re.break?n.splice($,1,re.left,null,re.right):n.splice($,1,re.left,re.right),$+=2+re.break,V-=re.size}else break;else if(L<V){let re=n[r++];re&&(L+=re.size)}else{let re=n[--$];re&&(V+=re.size)}let oe=0;return n[r-1]==null?(oe=1,r--):n[r]==null&&(oe=1,$++),new HeightMapBranch(HeightMap.of(n.slice(0,r)),oe,HeightMap.of(n.slice($)))}}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(n,r,$){super(n,r),this.type=$}blockAt(n,r,$,L){return new BlockInfo(L,this.length,$,this.height,this.type)}lineAt(n,r,$,L,V){return this.blockAt(0,$,L,V)}forEachLine(n,r,$,L,V,oe){n<=V+this.length&&r>=V&&oe(this.blockAt(0,$,L,V))}updateHeight(n,r=0,$=!1,L){return L&&L.from<=r&&L.more&&this.setHeight(n,L.heights[L.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(n,r){super(n,r,BlockType.Text),this.collapsed=0,this.widgetHeight=0}replace(n,r,$){let L=$[0];return $.length==1&&(L instanceof HeightMapText||L instanceof HeightMapGap&&L.flags&4)&&Math.abs(this.length-L.length)<10?(L instanceof HeightMapGap?L=new HeightMapText(L.length,this.height):L.height=this.height,this.outdated||(L.outdated=!1),L):HeightMap.of($)}updateHeight(n,r=0,$=!1,L){return L&&L.from<=r&&L.more?this.setHeight(n,L.heights[L.index++]):($||this.outdated)&&this.setHeight(n,Math.max(this.widgetHeight,n.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(n){super(n,0)}heightMetrics(n,r){let $=n.doc.lineAt(r).number,L=n.doc.lineAt(r+this.length).number,V=L-$+1,oe,re=0;if(n.lineWrapping){let ae=Math.min(this.height,n.lineHeight*V);oe=ae/V,re=(this.height-ae)/(this.length-V-1)}else oe=this.height/V;return{firstLine:$,lastLine:L,perLine:oe,perChar:re}}blockAt(n,r,$,L){let{firstLine:V,lastLine:oe,perLine:re,perChar:ae}=this.heightMetrics(r,L);if(r.lineWrapping){let le=L+Math.round(Math.max(0,Math.min(1,(n-$)/this.height))*this.length),ue=r.doc.lineAt(le),de=re+ue.length*ae,pe=Math.max($,n-de/2);return new BlockInfo(ue.from,ue.length,pe,de,BlockType.Text)}else{let le=Math.max(0,Math.min(oe-V,Math.floor((n-$)/re))),{from:ue,length:de}=r.doc.line(V+le);return new BlockInfo(ue,de,$+re*le,re,BlockType.Text)}}lineAt(n,r,$,L,V){if(r==QueryType$1.ByHeight)return this.blockAt(n,$,L,V);if(r==QueryType$1.ByPosNoHeight){let{from:he,to:_e}=$.doc.lineAt(n);return new BlockInfo(he,_e-he,0,0,BlockType.Text)}let{firstLine:oe,perLine:re,perChar:ae}=this.heightMetrics($,V),le=$.doc.lineAt(n),ue=re+le.length*ae,de=le.number-oe,pe=L+re*de+ae*(le.from-V-de);return new BlockInfo(le.from,le.length,Math.max(L,Math.min(pe,L+this.height-ue)),ue,BlockType.Text)}forEachLine(n,r,$,L,V,oe){n=Math.max(n,V),r=Math.min(r,V+this.length);let{firstLine:re,perLine:ae,perChar:le}=this.heightMetrics($,V);for(let ue=n,de=L;ue<=r;){let pe=$.doc.lineAt(ue);if(ue==n){let _e=pe.number-re;de+=ae*_e+le*(n-V-_e)}let he=ae+le*pe.length;oe(new BlockInfo(pe.from,pe.length,de,he,BlockType.Text)),de+=he,ue=pe.to+1}}replace(n,r,$){let L=this.length-r;if(L>0){let V=$[$.length-1];V instanceof HeightMapGap?$[$.length-1]=new HeightMapGap(V.length+L):$.push(null,new HeightMapGap(L-1))}if(n>0){let V=$[0];V instanceof HeightMapGap?$[0]=new HeightMapGap(n+V.length):$.unshift(new HeightMapGap(n-1),null)}return HeightMap.of($)}decomposeLeft(n,r){r.push(new HeightMapGap(n-1),null)}decomposeRight(n,r){r.push(null,new HeightMapGap(this.length-n-1))}updateHeight(n,r=0,$=!1,L){let V=r+this.length;if(L&&L.from<=r+this.length&&L.more){let oe=[],re=Math.max(r,L.from),ae=-1;for(L.from>r&&oe.push(new HeightMapGap(L.from-r-1).updateHeight(n,r));re<=V&&L.more;){let ue=n.doc.lineAt(re).length;oe.length&&oe.push(null);let de=L.heights[L.index++];ae==-1?ae=de:Math.abs(de-ae)>=Epsilon&&(ae=-2);let pe=new HeightMapText(ue,de);pe.outdated=!1,oe.push(pe),re+=ue+1}re<=V&&oe.push(null,new HeightMapGap(V-re).updateHeight(n,re));let le=HeightMap.of(oe);return(ae<0||Math.abs(le.height-this.height)>=Epsilon||Math.abs(ae-this.heightMetrics(n,r).perLine)>=Epsilon)&&(n.heightChanged=!0),le}else($||this.outdated)&&(this.setHeight(n,n.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(n,r,$){super(n.length+r+$.length,n.height+$.height,r|(n.outdated||$.outdated?2:0)),this.left=n,this.right=$,this.size=n.size+$.size}get break(){return this.flags&1}blockAt(n,r,$,L){let V=$+this.left.height;return n<V?this.left.blockAt(n,r,$,L):this.right.blockAt(n,r,V,L+this.left.length+this.break)}lineAt(n,r,$,L,V){let oe=L+this.left.height,re=V+this.left.length+this.break,ae=r==QueryType$1.ByHeight?n<oe:n<re,le=ae?this.left.lineAt(n,r,$,L,V):this.right.lineAt(n,r,$,oe,re);if(this.break||(ae?le.to<re:le.from>re))return le;let ue=r==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return ae?le.join(this.right.lineAt(re,ue,$,oe,re)):this.left.lineAt(re,ue,$,L,V).join(le)}forEachLine(n,r,$,L,V,oe){let re=L+this.left.height,ae=V+this.left.length+this.break;if(this.break)n<ae&&this.left.forEachLine(n,r,$,L,V,oe),r>=ae&&this.right.forEachLine(n,r,$,re,ae,oe);else{let le=this.lineAt(ae,QueryType$1.ByPos,$,L,V);n<le.from&&this.left.forEachLine(n,le.from-1,$,L,V,oe),le.to>=n&&le.from<=r&&oe(le),r>le.to&&this.right.forEachLine(le.to+1,r,$,re,ae,oe)}}replace(n,r,$){let L=this.left.length+this.break;if(r<L)return this.balanced(this.left.replace(n,r,$),this.right);if(n>this.left.length)return this.balanced(this.left,this.right.replace(n-L,r-L,$));let V=[];n>0&&this.decomposeLeft(n,V);let oe=V.length;for(let re of $)V.push(re);if(n>0&&mergeGaps(V,oe-1),r<this.length){let re=V.length;this.decomposeRight(r,V),mergeGaps(V,re)}return HeightMap.of(V)}decomposeLeft(n,r){let $=this.left.length;if(n<=$)return this.left.decomposeLeft(n,r);r.push(this.left),this.break&&($++,n>=$&&r.push(null)),n>$&&this.right.decomposeLeft(n-$,r)}decomposeRight(n,r){let $=this.left.length,L=$+this.break;if(n>=L)return this.right.decomposeRight(n-L,r);n<$&&this.left.decomposeRight(n,r),this.break&&n<L&&r.push(null),r.push(this.right)}balanced(n,r){return n.size>2*r.size||r.size>2*n.size?HeightMap.of(this.break?[n,null,r]:[n,r]):(this.left=n,this.right=r,this.height=n.height+r.height,this.outdated=n.outdated||r.outdated,this.size=n.size+r.size,this.length=n.length+this.break+r.length,this)}updateHeight(n,r=0,$=!1,L){let{left:V,right:oe}=this,re=r+V.length+this.break,ae=null;return L&&L.from<=r+V.length&&L.more?ae=V=V.updateHeight(n,r,$,L):V.updateHeight(n,r,$),L&&L.from<=re+oe.length&&L.more?ae=oe=oe.updateHeight(n,re,$,L):oe.updateHeight(n,re,$),ae?this.balanced(V,oe):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(g,n){let r,$;g[n]==null&&(r=g[n-1])instanceof HeightMapGap&&($=g[n+1])instanceof HeightMapGap&&g.splice(n-1,3,new HeightMapGap(r.length+1+$.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(n,r){this.pos=n,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=n}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(n,r){if(this.lineStart>-1){let $=Math.min(r,this.lineEnd),L=this.nodes[this.nodes.length-1];L instanceof HeightMapText?L.length+=$-this.pos:($>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText($-this.pos,-1)),this.writtenTo=$,r>$&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(n,r,$){if(n<r||$.heightRelevant){let L=$.widget?$.widget.estimatedHeight:0;L<0&&(L=this.oracle.lineHeight);let V=r-n;$.block?this.addBlock(new HeightMapBlock(V,L,$.type)):(V||L>=relevantWidgetHeight)&&this.addLineDeco(L,V)}else r>n&&this.span(n,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:n,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=n,this.lineEnd=r,this.writtenTo<n&&((this.writtenTo<n-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,n-1)),this.nodes.push(null)),this.pos>n&&this.nodes.push(new HeightMapText(this.pos-n,-1)),this.writtenTo=this.pos}blankContent(n,r){let $=new HeightMapGap(r-n);return this.oracle.doc.lineAt(n).to==r&&($.flags|=4),$}ensureLine(){this.enterLine();let n=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(n instanceof HeightMapText)return n;let r=new HeightMapText(0,-1);return this.nodes.push(r),r}addBlock(n){this.enterLine(),n.type==BlockType.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(n),this.writtenTo=this.pos=this.pos+n.length,n.type!=BlockType.WidgetBefore&&(this.covering=n)}addLineDeco(n,r){let $=this.ensureLine();$.length+=r,$.collapsed+=r,$.widgetHeight=Math.max($.widgetHeight,n),this.writtenTo=this.pos=this.pos+r}finish(n){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let $=n;for(let L of this.nodes)L instanceof HeightMapText&&L.updateHeight(this.oracle,$),$+=L?L.length:1;return this.nodes}static build(n,r,$,L){let V=new NodeBuilder($,n);return RangeSet.spans(r,$,L,V,0),V.finish($)}}function heightRelevantDecoChanges(g,n,r){let $=new DecorationComparator;return RangeSet.compare(g,n,r,$,0),$.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(n,r,$,L){(n<r||$&&$.heightRelevant||L&&L.heightRelevant)&&addRange(n,r,this.changes,5)}}function visiblePixelRange(g,n){let r=g.getBoundingClientRect(),$=g.ownerDocument,L=$.defaultView||window,V=Math.max(0,r.left),oe=Math.min(L.innerWidth,r.right),re=Math.max(0,r.top),ae=Math.min(L.innerHeight,r.bottom);for(let le=g.parentNode;le&&le!=$.body;)if(le.nodeType==1){let ue=le,de=window.getComputedStyle(ue);if((ue.scrollHeight>ue.clientHeight||ue.scrollWidth>ue.clientWidth)&&de.overflow!="visible"){let pe=ue.getBoundingClientRect();V=Math.max(V,pe.left),oe=Math.min(oe,pe.right),re=Math.max(re,pe.top),ae=le==g.parentNode?pe.bottom:Math.min(ae,pe.bottom)}le=de.position=="absolute"||de.position=="fixed"?ue.offsetParent:ue.parentNode}else if(le.nodeType==11)le=le.host;else break;return{left:V-r.left,right:Math.max(V,oe)-r.left,top:re-(r.top+n),bottom:Math.max(re,ae)-(r.top+n)}}function fullPixelRange(g,n){let r=g.getBoundingClientRect();return{left:0,right:r.right-r.left,top:n,bottom:r.bottom-(r.top+n)}}class LineGap{constructor(n,r,$){this.from=n,this.to=r,this.size=$}static same(n,r){if(n.length!=r.length)return!1;for(let $=0;$<n.length;$++){let L=n[$],V=r[$];if(L.from!=V.from||L.to!=V.to||L.size!=V.size)return!1}return!0}draw(n){return Decoration.replace({widget:new LineGapWidget(this.size,n)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(n,r){super(),this.size=n,this.vertical=r}eq(n){return n.size==this.size&&n.vertical==this.vertical}toDOM(){let n=document.createElement("div");return this.vertical?n.style.height=this.size+"px":(n.style.width=this.size+"px",n.style.height="2px",n.style.display="inline-block"),n}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(n){this.state=n,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=n.facet(contentAttributes).some($=>typeof $!="function"&&$.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(r),this.stateDeco=n.facet(decorations).filter($=>typeof $!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(n.doc),[new ChangedRange(0,0,0,n.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map($=>$.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let n=[this.viewport],{main:r}=this.state.selection;for(let $=0;$<=1;$++){let L=$?r.head:r.anchor;if(!n.some(({from:V,to:oe})=>L>=V&&L<=oe)){let{from:V,to:oe}=this.lineBlockAt(L);n.push(new Viewport(V,oe))}}this.viewports=n.sort(($,L)=>$.from-L.from),this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,n=>{this.viewportLines.push(this.scaler.scale==1?n:scaleBlock(n,this.scaler))})}update(n,r=null){this.state=n.state;let $=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(le=>typeof le!="function");let L=n.changedRanges,V=ChangedRange.extendWithRanges(L,heightRelevantDecoChanges($,this.stateDeco,n?n.changes:ChangeSet.empty(this.state.doc.length))),oe=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,n.startState.doc,this.heightOracle.setDoc(this.state.doc),V),this.heightMap.height!=oe&&(n.flags|=2);let re=V.length?this.mapViewport(this.viewport,n.changes):this.viewport;(r&&(r.range.head<re.from||r.range.head>re.to)||!this.viewportIsAppropriate(re))&&(re=this.getViewport(0,r));let ae=!n.changes.empty||n.flags&2||re.from!=this.viewport.from||re.to!=this.viewport.to;this.viewport=re,this.updateForViewport(),ae&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,n.changes))),n.flags|=this.computeVisibleRanges(),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&n.selectionSet&&n.view.lineWrapping&&n.state.selection.main.empty&&n.state.selection.main.assoc&&!n.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(n){let r=n.contentDOM,$=window.getComputedStyle(r),L=this.heightOracle,V=$.whiteSpace;this.defaultTextDirection=$.direction=="rtl"?Direction.RTL:Direction.LTR;let oe=this.heightOracle.mustRefreshForWrapping(V),re=r.getBoundingClientRect(),ae=oe||this.mustMeasureContent||this.contentDOMHeight!=re.height;this.contentDOMHeight=re.height,this.mustMeasureContent=!1;let le=0,ue=0,de=parseInt($.paddingTop)||0,pe=parseInt($.paddingBottom)||0;(this.paddingTop!=de||this.paddingBottom!=pe)&&(this.paddingTop=de,this.paddingBottom=pe,le|=10),this.editorWidth!=n.scrollDOM.clientWidth&&(L.lineWrapping&&(ae=!0),this.editorWidth=n.scrollDOM.clientWidth,le|=8);let he=(this.printing?fullPixelRange:visiblePixelRange)(r,this.paddingTop),_e=he.top-this.pixelViewport.top,Oe=he.bottom-this.pixelViewport.bottom;this.pixelViewport=he;let xe=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(xe!=this.inView&&(this.inView=xe,xe&&(ae=!0)),!this.inView&&!this.scrollTarget)return 0;let $e=re.width;if((this.contentDOMWidth!=$e||this.editorHeight!=n.scrollDOM.clientHeight)&&(this.contentDOMWidth=re.width,this.editorHeight=n.scrollDOM.clientHeight,le|=8),ae){let Ne=n.docView.measureVisibleLineHeights(this.viewport);if(L.mustRefreshForHeights(Ne)&&(oe=!0),oe||L.lineWrapping&&Math.abs($e-this.contentDOMWidth)>L.charWidth){let{lineHeight:ze,charWidth:Ue,textHeight:Fe}=n.docView.measureTextSize();oe=ze>0&&L.refresh(V,ze,Ue,Fe,$e/Ue,Ne),oe&&(n.docView.minWidth=0,le|=8)}_e>0&&Oe>0?ue=Math.max(_e,Oe):_e<0&&Oe<0&&(ue=Math.min(_e,Oe)),L.heightChanged=!1;for(let ze of this.viewports){let Ue=ze.from==this.viewport.from?Ne:n.docView.measureVisibleLineHeights(ze);this.heightMap=(oe?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,n.state.doc.length)]):this.heightMap).updateHeight(L,0,oe,new MeasuredHeights(ze.from,Ue))}L.heightChanged&&(le|=2)}let Ie=!this.viewportIsAppropriate(this.viewport,ue)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return Ie&&(this.viewport=this.getViewport(ue,this.scrollTarget)),this.updateForViewport(),(le&2||Ie)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(oe?[]:this.lineGaps,n)),le|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,n.docView.enforceCursorAssoc()),le}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(n,r){let $=.5-Math.max(-.5,Math.min(.5,n/1e3/2)),L=this.heightMap,V=this.heightOracle,{visibleTop:oe,visibleBottom:re}=this,ae=new Viewport(L.lineAt(oe-$*1e3,QueryType$1.ByHeight,V,0,0).from,L.lineAt(re+(1-$)*1e3,QueryType$1.ByHeight,V,0,0).to);if(r){let{head:le}=r.range;if(le<ae.from||le>ae.to){let ue=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),de=L.lineAt(le,QueryType$1.ByPos,V,0,0),pe;r.y=="center"?pe=(de.top+de.bottom)/2-ue/2:r.y=="start"||r.y=="nearest"&&le<ae.from?pe=de.top:pe=de.bottom-ue,ae=new Viewport(L.lineAt(pe-500,QueryType$1.ByHeight,V,0,0).from,L.lineAt(pe+ue+500,QueryType$1.ByHeight,V,0,0).to)}}return ae}mapViewport(n,r){let $=r.mapPos(n.from,-1),L=r.mapPos(n.to,1);return new Viewport(this.heightMap.lineAt($,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(L,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:n,to:r},$=0){if(!this.inView)return!0;let{top:L}=this.heightMap.lineAt(n,QueryType$1.ByPos,this.heightOracle,0,0),{bottom:V}=this.heightMap.lineAt(r,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop:oe,visibleBottom:re}=this;return(n==0||L<=oe-Math.max(10,Math.min(-$,250)))&&(r==this.state.doc.length||V>=re+Math.max(10,Math.min($,250)))&&L>oe-2e3&&V<re+2e3}mapLineGaps(n,r){if(!n.length||r.empty)return n;let $=[];for(let L of n)r.touchesRange(L.from,L.to)||$.push(new LineGap(r.mapPos(L.from),r.mapPos(L.to),L.size));return $}ensureLineGaps(n,r){let $=this.heightOracle.lineWrapping,L=$?1e4:2e3,V=L>>1,oe=L<<1;if(this.defaultTextDirection!=Direction.LTR&&!$)return[];let re=[],ae=(le,ue,de,pe)=>{if(ue-le<V)return;let he=this.state.selection.main,_e=[he.from];he.empty||_e.push(he.to);for(let xe of _e)if(xe>le&&xe<ue){ae(le,xe-10,de,pe),ae(xe+10,ue,de,pe);return}let Oe=find(n,xe=>xe.from>=de.from&&xe.to<=de.to&&Math.abs(xe.from-le)<V&&Math.abs(xe.to-ue)<V&&!_e.some($e=>xe.from<$e&&xe.to>$e));if(!Oe){if(ue<de.to&&r&&$&&r.visibleRanges.some(xe=>xe.from<=ue&&xe.to>=ue)){let xe=r.moveToLineBoundary(EditorSelection.cursor(ue),!1,!0).head;xe>le&&(ue=xe)}Oe=new LineGap(le,ue,this.gapSize(de,le,ue,pe))}re.push(Oe)};for(let le of this.viewportLines){if(le.length<oe)continue;let ue=lineStructure(le.from,le.to,this.stateDeco);if(ue.total<oe)continue;let de=this.scrollTarget?this.scrollTarget.range.head:null,pe,he;if($){let _e=L/this.heightOracle.lineLength*this.heightOracle.lineHeight,Oe,xe;if(de!=null){let $e=findFraction(ue,de),Ie=((this.visibleBottom-this.visibleTop)/2+_e)/le.height;Oe=$e-Ie,xe=$e+Ie}else Oe=(this.visibleTop-le.top-_e)/le.height,xe=(this.visibleBottom-le.top+_e)/le.height;pe=findPosition(ue,Oe),he=findPosition(ue,xe)}else{let _e=ue.total*this.heightOracle.charWidth,Oe=L*this.heightOracle.charWidth,xe,$e;if(de!=null){let Ie=findFraction(ue,de),Ne=((this.pixelViewport.right-this.pixelViewport.left)/2+Oe)/_e;xe=Ie-Ne,$e=Ie+Ne}else xe=(this.pixelViewport.left-Oe)/_e,$e=(this.pixelViewport.right+Oe)/_e;pe=findPosition(ue,xe),he=findPosition(ue,$e)}pe>le.from&&ae(le.from,pe,le,ue),he<le.to&&ae(he,le.to,le,ue)}return re}gapSize(n,r,$,L){let V=findFraction(L,$)-findFraction(L,r);return this.heightOracle.lineWrapping?n.height*V:L.total*this.heightOracle.charWidth*V}updateLineGaps(n){LineGap.same(n,this.lineGaps)||(this.lineGaps=n,this.lineGapDeco=Decoration.set(n.map(r=>r.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];RangeSet.spans(n,this.viewport.from,this.viewport.to,{span(L,V){r.push({from:L,to:V})},point(){}},20);let $=r.length!=this.visibleRanges.length||this.visibleRanges.some((L,V)=>L.from!=r[V].from||L.to!=r[V].to);return this.visibleRanges=r,$?4:0}lineBlockAt(n){return n>=this.viewport.from&&n<=this.viewport.to&&this.viewportLines.find(r=>r.from<=n&&r.to>=n)||scaleBlock(this.heightMap.lineAt(n,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(n){return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(n),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(n){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(n),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(n,r){this.from=n,this.to=r}}function lineStructure(g,n,r){let $=[],L=g,V=0;return RangeSet.spans(r,g,n,{span(){},point(oe,re){oe>L&&($.push({from:L,to:oe}),V+=oe-L),L=re}},20),L<n&&($.push({from:L,to:n}),V+=n-L),{total:V,ranges:$}}function findPosition({total:g,ranges:n},r){if(r<=0)return n[0].from;if(r>=1)return n[n.length-1].to;let $=Math.floor(g*r);for(let L=0;;L++){let{from:V,to:oe}=n[L],re=oe-V;if($<=re)return V+$;$-=re}}function findFraction(g,n){let r=0;for(let{from:$,to:L}of g.ranges){if(n<=L){r+=n-$;break}r+=L-$}return r/g.total}function find(g,n){for(let r of g)if(n(r))return r}const IdScaler={toDOM(g){return g},fromDOM(g){return g},scale:1};class BigScaler{constructor(n,r,$){let L=0,V=0,oe=0;this.viewports=$.map(({from:re,to:ae})=>{let le=r.lineAt(re,QueryType$1.ByPos,n,0,0).top,ue=r.lineAt(ae,QueryType$1.ByPos,n,0,0).bottom;return L+=ue-le,{from:re,to:ae,top:le,bottom:ue,domTop:0,domBottom:0}}),this.scale=(7e6-L)/(r.height-L);for(let re of this.viewports)re.domTop=oe+(re.top-V)*this.scale,oe=re.domBottom=re.domTop+(re.bottom-re.top),V=re.bottom}toDOM(n){for(let r=0,$=0,L=0;;r++){let V=r<this.viewports.length?this.viewports[r]:null;if(!V||n<V.top)return L+(n-$)*this.scale;if(n<=V.bottom)return V.domTop+(n-V.top);$=V.bottom,L=V.domBottom}}fromDOM(n){for(let r=0,$=0,L=0;;r++){let V=r<this.viewports.length?this.viewports[r]:null;if(!V||n<V.domTop)return $+(n-L)/this.scale;if(n<=V.domBottom)return V.top+(n-V.domTop);$=V.bottom,L=V.domBottom}}}function scaleBlock(g,n){if(n.scale==1)return g;let r=n.toDOM(g.top),$=n.toDOM(g.bottom);return new BlockInfo(g.from,g.length,r,$-r,Array.isArray(g.type)?g.type.map(L=>scaleBlock(L,n)):g.type)}const theme$1=Facet.define({combine:g=>g.join(" ")}),darkTheme=Facet.define({combine:g=>g.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(g,n,r){return new StyleModule(n,{finish($){return/&/.test($)?$.replace(/&\w*/,L=>{if(L=="&")return g;if(!r||!r[L])throw new RangeError(`Unsupported selector: ${L}`);return r[L]}):g+" "+$}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs);class DOMChange{constructor(n,r,$,L){this.typeOver=L,this.bounds=null,this.text="";let{impreciseHead:V,impreciseAnchor:oe}=n.docView;if(n.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=n.docView.domBoundsAround(r,$,0))){let re=V||oe?[]:selectionPoints(n),ae=new DOMReader(re,n.state);ae.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=ae.text,this.newSel=selectionFromPoints(re,this.bounds.from)}else{let re=n.observer.selectionRange,ae=V&&V.node==re.focusNode&&V.offset==re.focusOffset||!contains(n.contentDOM,re.focusNode)?n.state.selection.main.head:n.docView.posFromDOM(re.focusNode,re.focusOffset),le=oe&&oe.node==re.anchorNode&&oe.offset==re.anchorOffset||!contains(n.contentDOM,re.anchorNode)?n.state.selection.main.anchor:n.docView.posFromDOM(re.anchorNode,re.anchorOffset);this.newSel=EditorSelection.single(le,ae)}}}function applyDOMChange(g,n){let r,{newSel:$}=n,L=g.state.selection.main;if(n.bounds){let{from:V,to:oe}=n.bounds,re=L.from,ae=null;(g.inputState.lastKeyCode===8&&g.inputState.lastKeyTime>Date.now()-100||browser.android&&n.text.length<oe-V)&&(re=L.to,ae="end");let le=findDiff(g.state.doc.sliceString(V,oe,LineBreakPlaceholder),n.text,re-V,ae);le&&(browser.chrome&&g.inputState.lastKeyCode==13&&le.toB==le.from+2&&n.text.slice(le.from,le.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&le.toB--,r={from:V+le.from,to:V+le.toA,insert:Text.of(n.text.slice(le.from,le.toB).split(LineBreakPlaceholder))})}else $&&(!g.hasFocus&&g.state.facet(editable)||$.main.eq(L))&&($=null);if(!r&&!$)return!1;if(!r&&n.typeOver&&!L.empty&&$&&$.main.empty?r={from:L.from,to:L.to,insert:g.state.doc.slice(L.from,L.to)}:r&&r.from>=L.from&&r.to<=L.to&&(r.from!=L.from||r.to!=L.to)&&L.to-L.from-(r.to-r.from)<=4?r={from:L.from,to:L.to,insert:g.state.doc.slice(L.from,r.from).append(r.insert).append(g.state.doc.slice(r.to,L.to))}:(browser.mac||browser.android)&&r&&r.from==r.to&&r.from==L.head-1&&/^\. ?$/.test(r.insert.toString())&&g.contentDOM.getAttribute("autocorrect")=="off"?($&&r.insert.length==2&&($=EditorSelection.single($.main.anchor-1,$.main.head-1)),r={from:L.from,to:L.to,insert:Text.of([" "])}):browser.chrome&&r&&r.from==r.to&&r.from==L.head&&r.insert.toString()==`
 `&&g.lineWrapping&&($&&($=EditorSelection.single($.main.anchor-1,$.main.head-1)),r={from:L.from,to:L.to,insert:Text.of([" "])}),r){let V=g.state;if(browser.ios&&g.inputState.flushIOSKey(g)||browser.android&&(r.from==L.from&&r.to==L.to&&r.insert.length==1&&r.insert.lines==2&&dispatchKey(g.contentDOM,"Enter",13)||r.from==L.from-1&&r.to==L.to&&r.insert.length==0&&dispatchKey(g.contentDOM,"Backspace",8)||r.from==L.from&&r.to==L.to+1&&r.insert.length==0&&dispatchKey(g.contentDOM,"Delete",46)))return!0;let oe=r.insert.toString();if(g.state.facet(inputHandler$1).some(le=>le(g,r.from,r.to,oe)))return!0;g.inputState.composing>=0&&g.inputState.composing++;let re;if(r.from>=L.from&&r.to<=L.to&&r.to-r.from>=(L.to-L.from)/3&&(!$||$.main.empty&&$.main.from==r.from+r.insert.length)&&g.inputState.composing<0){let le=L.from<r.from?V.sliceDoc(L.from,r.from):"",ue=L.to>r.to?V.sliceDoc(r.to,L.to):"";re=V.replaceSelection(g.state.toText(le+r.insert.sliceString(0,void 0,g.state.lineBreak)+ue))}else{let le=V.changes(r),ue=$&&!V.selection.main.eq($.main)&&$.main.to<=le.newLength?$.main:void 0;if(V.selection.ranges.length>1&&g.inputState.composing>=0&&r.to<=L.to&&r.to>=L.to-10){let de=g.state.sliceDoc(r.from,r.to),pe=compositionSurroundingNode(g)||g.state.doc.lineAt(L.head),he=L.to-r.to,_e=L.to-L.from;re=V.changeByRange(Oe=>{if(Oe.from==L.from&&Oe.to==L.to)return{changes:le,range:ue||Oe.map(le)};let xe=Oe.to-he,$e=xe-de.length;if(Oe.to-Oe.from!=_e||g.state.sliceDoc($e,xe)!=de||pe&&Oe.to>=pe.from&&Oe.from<=pe.to)return{range:Oe};let Ie=V.changes({from:$e,to:xe,insert:r.insert}),Ne=Oe.to-L.to;return{changes:Ie,range:ue?EditorSelection.range(Math.max(0,ue.anchor+Ne),Math.max(0,ue.head+Ne)):Oe.map(Ie)}})}else re={changes:le,selection:ue&&V.selection.replaceRange(ue)}}let ae="input.type";return g.composing&&(ae+=".compose",g.inputState.compositionFirstChange&&(ae+=".start",g.inputState.compositionFirstChange=!1)),g.dispatch(re,{scrollIntoView:!0,userEvent:ae}),!0}else if($&&!$.main.eq(L)){let V=!1,oe="select";return g.inputState.lastSelectionTime>Date.now()-50&&(g.inputState.lastSelectionOrigin=="select"&&(V=!0),oe=g.inputState.lastSelectionOrigin),g.dispatch({selection:$,scrollIntoView:V,userEvent:oe}),!0}else return!1}function findDiff(g,n,r,$){let L=Math.min(g.length,n.length),V=0;for(;V<L&&g.charCodeAt(V)==n.charCodeAt(V);)V++;if(V==L&&g.length==n.length)return null;let oe=g.length,re=n.length;for(;oe>0&&re>0&&g.charCodeAt(oe-1)==n.charCodeAt(re-1);)oe--,re--;if($=="end"){let ae=Math.max(0,V-Math.min(oe,re));r-=oe+ae-V}if(oe<V&&g.length<n.length){let ae=r<=V&&r>=oe?V-r:0;V-=ae,re=V+(re-oe),oe=V}else if(re<V){let ae=r<=V&&r>=re?V-r:0;V-=ae,oe=V+(oe-re),re=V}return{from:V,toA:oe,toB:re}}function selectionPoints(g){let n=[];if(g.root.activeElement!=g.contentDOM)return n;let{anchorNode:r,anchorOffset:$,focusNode:L,focusOffset:V}=g.observer.selectionRange;return r&&(n.push(new DOMPoint(r,$)),(L!=r||V!=$)&&n.push(new DOMPoint(L,V))),n}function selectionFromPoints(g,n){if(g.length==0)return null;let r=g[0].pos,$=g.length==2?g[1].pos:r;return r>-1&&$>-1?EditorSelection.single(r+n,$+n):null}const observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(n){this.view=n,this.active=!1,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=n.contentDOM,this.observer=new MutationObserver(r=>{for(let $ of r)this.queue.push($);(browser.ie&&browser.ie_version<=11||browser.ios&&n.composing)&&r.some($=>$.type=="childList"&&$.removedNodes.length||$.type=="characterData"&&$.oldValue.length>$.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(n.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(n.contentDOM)),this.addWindowListeners(this.win=n.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(n){this.view.inputState.runScrollHandlers(this.view,n),this.intersecting&&this.view.measure()}onScroll(n){this.intersecting&&this.flush(!1),this.onScrollChanged(n)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(n){if(this.gapIntersection&&(n.length!=this.gaps.length||this.gaps.some((r,$)=>r!=n[$]))){this.gapIntersection.disconnect();for(let r of n)this.gapIntersection.observe(r);this.gaps=n}}onSelectionChange(n){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:$}=this,L=this.selectionRange;if($.state.facet(editable)?$.root.activeElement!=this.dom:!hasSelection($.dom,L))return;let V=L.anchorNode&&$.docView.nearest(L.anchorNode);if(V&&V.ignoreEvent(n)){r||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!$.state.selection.main.empty&&L.focusNode&&isEquivalentPosition(L.focusNode,L.focusOffset,L.anchorNode,L.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:n}=this,r=browser.safari&&n.root.nodeType==11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariSelectionRangeHack(this.view)||getSelection(n.root);if(!r||this.selectionRange.eq(r))return!1;let $=hasSelection(this.dom,r);return $&&!this.selectionChanged&&n.inputState.lastFocusTime>Date.now()-200&&n.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,r)?(this.view.inputState.lastFocusTime=0,n.docView.updateSelection(),!1):(this.selectionRange.setRange(r),$&&(this.selectionChanged=!0),!0)}setSelectionRange(n,r){this.selectionRange.set(n.node,n.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let n=0,r=null;for(let $=this.dom;$;)if($.nodeType==1)!r&&n<this.scrollTargets.length&&this.scrollTargets[n]==$?n++:r||(r=this.scrollTargets.slice(0,n)),r&&r.push($),$=$.assignedSlot||$.parentNode;else if($.nodeType==11)$=$.host;else break;if(n<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,n)),r){for(let $ of this.scrollTargets)$.removeEventListener("scroll",this.onScroll);for(let $ of this.scrollTargets=r)$.addEventListener("scroll",this.onScroll)}}ignore(n){if(!this.active)return n();try{return this.stop(),n()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){!this.active||(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(n,r){var $;if(!this.delayedAndroidKey){let L=()=>{let V=this.delayedAndroidKey;V&&(this.clearDelayedAndroidKey(),!this.flush()&&V.force&&dispatchKey(this.dom,V.key,V.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(L)}(!this.delayedAndroidKey||n=="Enter")&&(this.delayedAndroidKey={key:n,keyCode:r,force:this.lastChange<Date.now()-50||!!(!(($=this.delayedAndroidKey)===null||$===void 0)&&$.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let n=this.queue;for(let V of this.observer.takeRecords())n.push(V);n.length&&(this.queue=[]);let r=-1,$=-1,L=!1;for(let V of n){let oe=this.readMutation(V);!oe||(oe.typeOver&&(L=!0),r==-1?{from:r,to:$}=oe:(r=Math.min(oe.from,r),$=Math.max(oe.to,$)))}return{from:r,to:$,typeOver:L}}readChange(){let{from:n,to:r,typeOver:$}=this.processRecords(),L=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);return n<0&&!L?null:(n>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new DOMChange(this.view,n,r,$))}flush(n=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;n&&this.readSelectionRange();let r=this.readChange();if(!r)return!1;let $=this.view.state,L=applyDOMChange(this.view,r);return this.view.state==$&&this.view.update([]),L}readMutation(n){let r=this.view.docView.nearest(n.target);if(!r||r.ignoreMutation(n))return null;if(r.markDirty(n.type=="attributes"),n.type=="attributes"&&(r.dirty|=4),n.type=="childList"){let $=findChild(r,n.previousSibling||n.target.previousSibling,-1),L=findChild(r,n.nextSibling||n.target.nextSibling,1);return{from:$?r.posAfter($):r.posAtStart,to:L?r.posBefore(L):r.posAtEnd,typeOver:!1}}else return n.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:n.target.nodeValue==n.oldValue}:null}setWindow(n){n!=this.win&&(this.removeWindowListeners(this.win),this.win=n,this.addWindowListeners(this.win))}addWindowListeners(n){n.addEventListener("resize",this.onResize),n.addEventListener("beforeprint",this.onPrint),n.addEventListener("scroll",this.onScroll),n.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(n){n.removeEventListener("scroll",this.onScroll),n.removeEventListener("resize",this.onResize),n.removeEventListener("beforeprint",this.onPrint),n.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var n,r,$,L;this.stop(),(n=this.intersection)===null||n===void 0||n.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),($=this.resizeScroll)===null||$===void 0||$.disconnect(),(L=this.resizeContent)===null||L===void 0||L.disconnect();for(let V of this.scrollTargets)V.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function findChild(g,n,r){for(;n;){let $=ContentView.get(n);if($&&$.parent==g)return $;let L=n.parentNode;n=L!=g.dom?L:r>0?n.nextSibling:n.previousSibling}return null}function safariSelectionRangeHack(g){let n=null;function r(ae){ae.preventDefault(),ae.stopImmediatePropagation(),n=ae.getTargetRanges()[0]}if(g.contentDOM.addEventListener("beforeinput",r,!0),g.dom.ownerDocument.execCommand("indent"),g.contentDOM.removeEventListener("beforeinput",r,!0),!n)return null;let $=n.startContainer,L=n.startOffset,V=n.endContainer,oe=n.endOffset,re=g.docView.domAtPos(g.state.selection.main.anchor);return isEquivalentPosition(re.node,re.offset,V,oe)&&([$,L,V,oe]=[V,oe,$,L]),{anchorNode:$,anchorOffset:L,focusNode:V,focusOffset:oe}}class EditorView{constructor(n={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=n.dispatch||(r=>this.update([r])),this.dispatch=this.dispatch.bind(this),this._root=n.root||getRoot(n.parent)||document,this.viewState=new ViewState(n.state||EditorState.create(n)),this.plugins=this.state.facet(viewPlugin).map(r=>new PluginInstance(r));for(let r of this.plugins)r.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),n.parent&&n.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...n){this._dispatch(n.length==1&&n[0]instanceof Transaction?n[0]:this.state.update(...n))}update(n){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,$=!1,L,V=this.state;for(let pe of n){if(pe.startState!=V)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");V=pe.state}if(this.destroyed){this.viewState.state=V;return}let oe=this.hasFocus,re=0,ae=null;n.some(pe=>pe.annotation(isFocusChange))?(this.inputState.notifiedFocused=oe,re=1):oe!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=oe,ae=focusChangeTransaction(V,oe),ae||(re=1));let le=this.observer.delayedAndroidKey,ue=null;if(le?(this.observer.clearDelayedAndroidKey(),ue=this.observer.readChange(),(ue&&!this.state.doc.eq(V.doc)||!this.state.selection.eq(V.selection))&&(ue=null)):this.observer.clear(),V.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(V);L=ViewUpdate.create(this,V,n),L.flags|=re;let de=this.viewState.scrollTarget;try{this.updateState=2;for(let pe of n){if(de&&(de=de.map(pe.changes)),pe.scrollIntoView){let{main:he}=pe.state.selection;de=new ScrollTarget(he.empty?he:EditorSelection.cursor(he.head,he.head>he.anchor?-1:1))}for(let he of pe.effects)he.is(scrollIntoView$2)&&(de=he.value)}this.viewState.update(L,de),this.bidiCache=CachedOrder.update(this.bidiCache,L.changes),L.empty||(this.updatePlugins(L),this.inputState.update(L)),r=this.docView.update(L),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),$=this.updateAttrs(),this.showAnnouncements(n),this.docView.updateSelection(r,n.some(pe=>pe.isUserEvent("select.pointer")))}finally{this.updateState=0}if(L.startState.facet(theme$1)!=L.state.facet(theme$1)&&(this.viewState.mustMeasureContent=!0),(r||$||de||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!L.empty)for(let pe of this.state.facet(updateListener))pe(L);(ae||ue)&&Promise.resolve().then(()=>{ae&&this.state==ae.startState&&this.dispatch(ae),ue&&!applyDOMChange(this,ue)&&le.force&&dispatchKey(this.contentDOM,le.key,le.keyCode)})}setState(n){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=n;return}this.updateState=2;let r=this.hasFocus;try{for(let $ of this.plugins)$.destroy(this);this.viewState=new ViewState(n),this.plugins=n.facet(viewPlugin).map($=>new PluginInstance($)),this.pluginMap.clear();for(let $ of this.plugins)$.update(this);this.docView=new DocView(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(n){let r=n.startState.facet(viewPlugin),$=n.state.facet(viewPlugin);if(r!=$){let L=[];for(let V of $){let oe=r.indexOf(V);if(oe<0)L.push(new PluginInstance(V));else{let re=this.plugins[oe];re.mustUpdate=n,L.push(re)}}for(let V of this.plugins)V.mustUpdate!=n&&V.destroy(this);this.plugins=L,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let L of this.plugins)L.mustUpdate=n;for(let L=0;L<this.plugins.length;L++)this.plugins[L].update(this)}measure(n=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,n&&this.observer.forceFlush();let r=null,{scrollHeight:$,scrollTop:L,clientHeight:V}=this.scrollDOM,oe=L>$-V-4?$:L;try{for(let re=0;;re++){this.updateState=1;let ae=this.viewport,le=this.viewState.lineBlockAtHeight(oe),ue=this.viewState.measure(this);if(!ue&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(re>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let de=[];ue&4||([this.measureRequests,de]=[de,this.measureRequests]);let pe=de.map(xe=>{try{return xe.read(this)}catch($e){return logException(this.state,$e),BadMeasure}}),he=ViewUpdate.create(this,this.state,[]),_e=!1,Oe=!1;he.flags|=ue,r?r.flags|=ue:r=he,this.updateState=2,he.empty||(this.updatePlugins(he),this.inputState.update(he),this.updateAttrs(),_e=this.docView.update(he));for(let xe=0;xe<de.length;xe++)if(pe[xe]!=BadMeasure)try{let $e=de[xe];$e.write&&$e.write(pe[xe],this)}catch($e){logException(this.state,$e)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,Oe=!0;else{let xe=this.viewState.lineBlockAt(le.from).top-le.top;(xe>1||xe<-1)&&(this.scrollDOM.scrollTop+=xe,Oe=!0)}if(_e&&this.docView.updateSelection(!0),this.viewport.from==ae.from&&this.viewport.to==ae.to&&!Oe&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let re of this.state.facet(updateListener))re(r)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme$1)}updateAttrs(){let n=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,r);let $=this.observer.ignore(()=>{let L=updateAttrs(this.contentDOM,this.contentAttrs,r),V=updateAttrs(this.dom,this.editorAttrs,n);return L||V});return this.editorAttrs=n,this.contentAttrs=r,$}showAnnouncements(n){let r=!0;for(let $ of n)for(let L of $.effects)if(L.is(EditorView.announce)){r&&(this.announceDOM.textContent=""),r=!1;let V=this.announceDOM.appendChild(document.createElement("div"));V.textContent=L.value}}mountStyles(){this.styleModules=this.state.facet(styleModule),StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(n){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),n){if(this.measureRequests.indexOf(n)>-1)return;if(n.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===n.key){this.measureRequests[r]=n;return}}this.measureRequests.push(n)}}plugin(n){let r=this.pluginMap.get(n);return(r===void 0||r&&r.spec!=n)&&this.pluginMap.set(n,r=this.plugins.find($=>$.spec==n)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(n){return this.readMeasured(),this.viewState.elementAtHeight(n)}lineBlockAtHeight(n){return this.readMeasured(),this.viewState.lineBlockAtHeight(n)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(n){return this.viewState.lineBlockAt(n)}get contentHeight(){return this.viewState.contentHeight}moveByChar(n,r,$){return skipAtoms(this,n,moveByChar(this,n,r,$))}moveByGroup(n,r){return skipAtoms(this,n,moveByChar(this,n,r,$=>byGroup(this,n.head,$)))}moveToLineBoundary(n,r,$=!0){return moveToLineBoundary(this,n,r,$)}moveVertically(n,r,$){return skipAtoms(this,n,moveVertically(this,n,r,$))}domAtPos(n){return this.docView.domAtPos(n)}posAtDOM(n,r=0){return this.docView.posFromDOM(n,r)}posAtCoords(n,r=!0){return this.readMeasured(),posAtCoords(this,n,r)}coordsAtPos(n,r=1){this.readMeasured();let $=this.docView.coordsAt(n,r);if(!$||$.left==$.right)return $;let L=this.state.doc.lineAt(n),V=this.bidiSpans(L),oe=V[BidiSpan.find(V,n-L.from,-1,r)];return flattenRect($,oe.dir==Direction.LTR==r>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(n){return!this.state.facet(perLineTextDirection)||n<this.viewport.from||n>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(n))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(n){if(n.length>MaxBidiLine)return trivialOrder(n.length);let r=this.textDirectionAt(n.from);for(let L of this.bidiCache)if(L.from==n.from&&L.dir==r)return L.order;let $=computeOrder(n.text,r);return this.bidiCache.push(new CachedOrder(n.from,n.to,r,$)),$}get hasFocus(){var n;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((n=this.inputState)===null||n===void 0?void 0:n.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(n){this._root!=n&&(this._root=n,this.observer.setWindow((n.nodeType==9?n:n.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let n of this.plugins)n.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(n,r={}){return scrollIntoView$2.of(new ScrollTarget(typeof n=="number"?EditorSelection.cursor(n):n,r.y,r.x,r.yMargin,r.xMargin))}static domEventHandlers(n){return ViewPlugin.define(()=>({}),{eventHandlers:n})}static theme(n,r){let $=StyleModule.newName(),L=[theme$1.of($),styleModule.of(buildTheme(`.${$}`,n))];return r&&r.dark&&L.push(darkTheme.of(!0)),L}static baseTheme(n){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,n,lightDarkIDs)))}static findFromDOM(n){var r;let $=n.querySelector(".cm-content"),L=$&&ContentView.get($)||ContentView.get(n);return((r=L==null?void 0:L.rootView)===null||r===void 0?void 0:r.view)||null}}EditorView.styleModule=styleModule,EditorView.inputHandler=inputHandler$1,EditorView.focusChangeEffect=focusChangeEffect,EditorView.perLineTextDirection=perLineTextDirection,EditorView.exceptionSink=exceptionSink,EditorView.updateListener=updateListener,EditorView.editable=editable,EditorView.mouseSelectionStyle=mouseSelectionStyle,EditorView.dragMovesSelection=dragMovesSelection$1,EditorView.clickAddsSelectionRange=clickAddsSelectionRange,EditorView.decorations=decorations,EditorView.atomicRanges=atomicRanges,EditorView.scrollMargins=scrollMargins,EditorView.darkTheme=darkTheme,EditorView.contentAttributes=contentAttributes,EditorView.editorAttributes=editorAttributes,EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"}),EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(n,r,$,L){this.from=n,this.to=r,this.dir=$,this.order=L}static update(n,r){if(r.empty)return n;let $=[],L=n.length?n[n.length-1].dir:Direction.LTR;for(let V=Math.max(0,n.length-10);V<n.length;V++){let oe=n[V];oe.dir==L&&!r.touchesRange(oe.from,oe.to)&&$.push(new CachedOrder(r.mapPos(oe.from,1),r.mapPos(oe.to,-1),oe.dir,oe.order))}return $}}function attrsFromFacet(g,n,r){for(let $=g.state.facet(n),L=$.length-1;L>=0;L--){let V=$[L],oe=typeof V=="function"?V(g):V;oe&&combineAttrs(oe,r)}return r}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(g,n){const r=g.split(/-(?!$)/);let $=r[r.length-1];$=="Space"&&($=" ");let L,V,oe,re;for(let ae=0;ae<r.length-1;++ae){const le=r[ae];if(/^(cmd|meta|m)$/i.test(le))re=!0;else if(/^a(lt)?$/i.test(le))L=!0;else if(/^(c|ctrl|control)$/i.test(le))V=!0;else if(/^s(hift)?$/i.test(le))oe=!0;else if(/^mod$/i.test(le))n=="mac"?re=!0:V=!0;else throw new Error("Unrecognized modifier name: "+le)}return L&&($="Alt-"+$),V&&($="Ctrl-"+$),re&&($="Meta-"+$),oe&&($="Shift-"+$),$}function modifiers(g,n,r){return n.altKey&&(g="Alt-"+g),n.ctrlKey&&(g="Ctrl-"+g),n.metaKey&&(g="Meta-"+g),r!==!1&&n.shiftKey&&(g="Shift-"+g),g}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(g,n){return runHandlers(getKeymap(n.state),g,n,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(g){let n=g.facet(keymap),r=Keymaps.get(n);return r||Keymaps.set(n,r=buildKeymap(n.reduce(($,L)=>$.concat(L),[]))),r}function runScopeHandlers(g,n,r){return runHandlers(getKeymap(g.state),n,g,r)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(g,n=currentPlatform){let r=Object.create(null),$=Object.create(null),L=(oe,re)=>{let ae=$[oe];if(ae==null)$[oe]=re;else if(ae!=re)throw new Error("Key binding "+oe+" is used both as a regular binding and as a multi-stroke prefix")},V=(oe,re,ae,le)=>{var ue,de;let pe=r[oe]||(r[oe]=Object.create(null)),he=re.split(/ (?!$)/).map(xe=>normalizeKeyName(xe,n));for(let xe=1;xe<he.length;xe++){let $e=he.slice(0,xe).join(" ");L($e,!0),pe[$e]||(pe[$e]={preventDefault:!0,run:[Ie=>{let Ne=storedPrefix={view:Ie,prefix:$e,scope:oe};return setTimeout(()=>{storedPrefix==Ne&&(storedPrefix=null)},PrefixTimeout),!0}]})}let _e=he.join(" ");L(_e,!1);let Oe=pe[_e]||(pe[_e]={preventDefault:!1,run:((de=(ue=pe._any)===null||ue===void 0?void 0:ue.run)===null||de===void 0?void 0:de.slice())||[]});ae&&Oe.run.push(ae),le&&(Oe.preventDefault=!0)};for(let oe of g){let re=oe.scope?oe.scope.split(" "):["editor"];if(oe.any)for(let le of re){let ue=r[le]||(r[le]=Object.create(null));ue._any||(ue._any={preventDefault:!1,run:[]});for(let de in ue)ue[de].run.push(oe.any)}let ae=oe[n]||oe.key;if(ae)for(let le of re)V(le,ae,oe.run,oe.preventDefault),oe.shift&&V(le,"Shift-"+ae,oe.shift,oe.preventDefault)}return r}function runHandlers(g,n,r,$){let L=keyName(n),V=codePointAt(L,0),oe=codePointSize(V)==L.length&&L!=" ",re="",ae=!1;storedPrefix&&storedPrefix.view==r&&storedPrefix.scope==$&&(re=storedPrefix.prefix+" ",(ae=modifierCodes.indexOf(n.keyCode)<0)&&(storedPrefix=null));let le=new Set,ue=_e=>{if(_e){for(let Oe of _e.run)if(!le.has(Oe)&&(le.add(Oe),Oe(r,n)))return!0;_e.preventDefault&&(ae=!0)}return!1},de=g[$],pe,he;if(de){if(ue(de[re+modifiers(L,n,!oe)]))return!0;if(oe&&(n.altKey||n.metaKey||n.ctrlKey)&&!(browser.windows&&n.ctrlKey&&n.altKey)&&(pe=base$2[n.keyCode])&&pe!=L){if(ue(de[re+modifiers(pe,n,!0)])||n.shiftKey&&(he=shift[n.keyCode])!=L&&he!=pe&&ue(de[re+modifiers(he,n,!1)]))return!0}else if(oe&&n.shiftKey&&ue(de[re+modifiers(L,n,!0)]))return!0;if(ue(de._any))return!0}return ae}class RectangleMarker{constructor(n,r,$,L,V){this.className=n,this.left=r,this.top=$,this.width=L,this.height=V}draw(){let n=document.createElement("div");return n.className=this.className,this.adjust(n),n}update(n,r){return r.className!=this.className?!1:(this.adjust(n),!0)}adjust(n){n.style.left=this.left+"px",n.style.top=this.top+"px",this.width!=null&&(n.style.width=this.width+"px"),n.style.height=this.height+"px"}eq(n){return this.left==n.left&&this.top==n.top&&this.width==n.width&&this.height==n.height&&this.className==n.className}static forRange(n,r,$){if($.empty){let L=n.coordsAtPos($.head,$.assoc||1);if(!L)return[];let V=getBase(n);return[new RectangleMarker(r,L.left-V.left,L.top-V.top,null,L.bottom-L.top)]}else return rectanglesForRange(n,r,$)}}function getBase(g){let n=g.scrollDOM.getBoundingClientRect();return{left:(g.textDirection==Direction.LTR?n.left:n.right-g.scrollDOM.clientWidth)-g.scrollDOM.scrollLeft,top:n.top-g.scrollDOM.scrollTop}}function wrappedLine(g,n,r){let $=EditorSelection.cursor(n);return{from:Math.max(r.from,g.moveToLineBoundary($,!1,!0).from),to:Math.min(r.to,g.moveToLineBoundary($,!0,!0).from),type:BlockType.Text}}function blockAt(g,n){let r=g.lineBlockAt(n);if(Array.isArray(r.type)){for(let $ of r.type)if($.to>n||$.to==n&&($.to==r.to||$.type==BlockType.Text))return $}return r}function rectanglesForRange(g,n,r){if(r.to<=g.viewport.from||r.from>=g.viewport.to)return[];let $=Math.max(r.from,g.viewport.from),L=Math.min(r.to,g.viewport.to),V=g.textDirection==Direction.LTR,oe=g.contentDOM,re=oe.getBoundingClientRect(),ae=getBase(g),le=oe.querySelector(".cm-line"),ue=le&&window.getComputedStyle(le),de=re.left+(ue?parseInt(ue.paddingLeft)+Math.min(0,parseInt(ue.textIndent)):0),pe=re.right-(ue?parseInt(ue.paddingRight):0),he=blockAt(g,$),_e=blockAt(g,L),Oe=he.type==BlockType.Text?he:null,xe=_e.type==BlockType.Text?_e:null;if(g.lineWrapping&&(Oe&&(Oe=wrappedLine(g,$,Oe)),xe&&(xe=wrappedLine(g,L,xe))),Oe&&xe&&Oe.from==xe.from)return Ie(Ne(r.from,r.to,Oe));{let Ue=Oe?Ne(r.from,null,Oe):ze(he,!1),Fe=xe?Ne(null,r.to,xe):ze(_e,!0),qe=[];return(Oe||he).to<(xe||_e).from-1?qe.push($e(de,Ue.bottom,pe,Fe.top)):Ue.bottom<Fe.top&&g.elementAtHeight((Ue.bottom+Fe.top)/2).type==BlockType.Text&&(Ue.bottom=Fe.top=(Ue.bottom+Fe.top)/2),Ie(Ue).concat(qe).concat(Ie(Fe))}function $e(Ue,Fe,qe,Et){return new RectangleMarker(n,Ue-ae.left,Fe-ae.top-.01,qe-Ue,Et-Fe+.01)}function Ie({top:Ue,bottom:Fe,horizontal:qe}){let Et=[];for(let At=0;At<qe.length;At+=2)Et.push($e(qe[At],Ue,qe[At+1],Fe));return Et}function Ne(Ue,Fe,qe){let Et=1e9,At=-1e9,kt=[];function Dt(hn,Sn,On,_n,xn){let bn=g.coordsAtPos(hn,hn==qe.to?-2:2),Tn=g.coordsAtPos(On,On==qe.from?2:-2);Et=Math.min(bn.top,Tn.top,Et),At=Math.max(bn.bottom,Tn.bottom,At),xn==Direction.LTR?kt.push(V&&Sn?de:bn.left,V&&_n?pe:Tn.right):kt.push(!V&&_n?de:Tn.left,!V&&Sn?pe:bn.right)}let jt=Ue!=null?Ue:qe.from,Lt=Fe!=null?Fe:qe.to;for(let hn of g.visibleRanges)if(hn.to>jt&&hn.from<Lt)for(let Sn=Math.max(hn.from,jt),On=Math.min(hn.to,Lt);;){let _n=g.state.doc.lineAt(Sn);for(let xn of g.bidiSpans(_n)){let bn=xn.from+_n.from,Tn=xn.to+_n.from;if(bn>=On)break;Tn>Sn&&Dt(Math.max(bn,Sn),Ue==null&&bn<=jt,Math.min(Tn,On),Fe==null&&Tn>=Lt,xn.dir)}if(Sn=_n.to+1,Sn>=On)break}return kt.length==0&&Dt(jt,Ue==null,Lt,Fe==null,g.textDirection),{top:Et,bottom:At,horizontal:kt}}function ze(Ue,Fe){let qe=re.top+(Fe?Ue.top:Ue.bottom);return{top:qe,bottom:qe,horizontal:[]}}}function sameMarker(g,n){return g.constructor==n.constructor&&g.eq(n)}class LayerView{constructor(n,r){this.view=n,this.layer=r,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=n.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(n.state),n.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,n)}update(n){n.startState.facet(layerOrder)!=n.state.facet(layerOrder)&&this.setOrder(n.state),(this.layer.update(n,this.dom)||n.geometryChanged)&&n.view.requestMeasure(this.measureReq)}setOrder(n){let r=0,$=n.facet(layerOrder);for(;r<$.length&&$[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}draw(n){if(n.length!=this.drawn.length||n.some((r,$)=>!sameMarker(r,this.drawn[$]))){let r=this.dom.firstChild,$=0;for(let L of n)L.update&&r&&L.constructor&&this.drawn[$].constructor&&L.update(r,this.drawn[$])?(r=r.nextSibling,$++):this.dom.insertBefore(L.draw(),r);for(;r;){let L=r.nextSibling;r.remove(),r=L}this.drawn=n}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(g){return[ViewPlugin.define(n=>new LayerView(n,g)),layerOrder.of(g)]}const CanHidePrimary=!browser.ios,selectionConfig=Facet.define({combine(g){return combineConfig(g,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(n,r)=>Math.min(n,r),drawRangeCursor:(n,r)=>n||r})}});function drawSelection(g={}){return[selectionConfig.of(g),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(g){return g.startState.facet(selectionConfig)!=g.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(g){let{state:n}=g,r=n.facet(selectionConfig),$=[];for(let L of n.selection.ranges){let V=L==n.selection.main;if(L.empty?!V||CanHidePrimary:r.drawRangeCursor){let oe=V?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",re=L.empty?L:EditorSelection.cursor(L.head,L.head>L.anchor?-1:1);for(let ae of RectangleMarker.forRange(g,oe,re))$.push(ae)}}return $},update(g,n){g.transactions.some($=>$.selection)&&(n.style.animationName=n.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=configChanged(g);return r&&setBlinkRate(g.state,n),g.docChanged||g.selectionSet||r},mount(g,n){setBlinkRate(n.state,g)},class:"cm-cursorLayer"});function setBlinkRate(g,n){n.style.animationDuration=g.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(g){return g.state.selection.ranges.map(n=>n.empty?[]:RectangleMarker.forRange(g,"cm-selectionBackground",n)).reduce((n,r)=>n.concat(r))},update(g,n){return g.docChanged||g.selectionSet||g.viewportChanged||configChanged(g)},class:"cm-selectionLayer"}),themeSpec={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};CanHidePrimary&&(themeSpec[".cm-line"].caretColor="transparent !important");const hideNativeSelection=Prec.highest(EditorView.theme(themeSpec)),setDropCursorPos=StateEffect.define({map(g,n){return g==null?null:n.mapPos(g)}}),dropCursorPos=StateField.define({create(){return null},update(g,n){return g!=null&&(g=n.changes.mapPos(g)),n.effects.reduce((r,$)=>$.is(setDropCursorPos)?$.value:r,g)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(g){this.view=g,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(g){var n;let r=g.state.field(dropCursorPos);r==null?this.cursor!=null&&((n=this.cursor)===null||n===void 0||n.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(g.startState.field(dropCursorPos)!=r||g.docChanged||g.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let g=this.view.state.field(dropCursorPos),n=g!=null&&this.view.coordsAtPos(g);if(!n)return null;let r=this.view.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+this.view.scrollDOM.scrollLeft,top:n.top-r.top+this.view.scrollDOM.scrollTop,height:n.bottom-n.top}}drawCursor(g){this.cursor&&(g?(this.cursor.style.left=g.left+"px",this.cursor.style.top=g.top+"px",this.cursor.style.height=g.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(g){this.view.state.field(dropCursorPos)!=g&&this.view.dispatch({effects:setDropCursorPos.of(g)})}},{eventHandlers:{dragover(g){this.setDropPos(this.view.posAtCoords({x:g.clientX,y:g.clientY}))},dragleave(g){(g.target==this.view.contentDOM||!this.view.contentDOM.contains(g.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(g,n,r,$,L){n.lastIndex=0;for(let V=g.iterRange(r,$),oe=r,re;!V.next().done;oe+=V.value.length)if(!V.lineBreak)for(;re=n.exec(V.value);)L(oe+re.index,re)}function matchRanges(g,n){let r=g.visibleRanges;if(r.length==1&&r[0].from==g.viewport.from&&r[0].to==g.viewport.to)return r;let $=[];for(let{from:L,to:V}of r)L=Math.max(g.state.doc.lineAt(L).from,L-n),V=Math.min(g.state.doc.lineAt(V).to,V+n),$.length&&$[$.length-1].to>=L?$[$.length-1].to=V:$.push({from:L,to:V});return $}class MatchDecorator{constructor(n){const{regexp:r,decoration:$,decorate:L,boundary:V,maxLength:oe=1e3}=n;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,L)this.addMatch=(re,ae,le,ue)=>L(ue,le,le+re[0].length,re,ae);else if(typeof $=="function")this.addMatch=(re,ae,le,ue)=>{let de=$(re,ae,le);de&&ue(le,le+re[0].length,de)};else if($)this.addMatch=(re,ae,le,ue)=>ue(le,le+re[0].length,$);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=V,this.maxLength=oe}createDeco(n){let r=new RangeSetBuilder,$=r.add.bind(r);for(let{from:L,to:V}of matchRanges(n,this.maxLength))iterMatches(n.state.doc,this.regexp,L,V,(oe,re)=>this.addMatch(re,n,oe,$));return r.finish()}updateDeco(n,r){let $=1e9,L=-1;return n.docChanged&&n.changes.iterChanges((V,oe,re,ae)=>{ae>n.view.viewport.from&&re<n.view.viewport.to&&($=Math.min(re,$),L=Math.max(ae,L))}),n.viewportChanged||L-$>1e3?this.createDeco(n.view):L>-1?this.updateRange(n.view,r.map(n.changes),$,L):r}updateRange(n,r,$,L){for(let V of n.visibleRanges){let oe=Math.max(V.from,$),re=Math.min(V.to,L);if(re>oe){let ae=n.state.doc.lineAt(oe),le=ae.to<re?n.state.doc.lineAt(re):ae,ue=Math.max(V.from,ae.from),de=Math.min(V.to,le.to);if(this.boundary){for(;oe>ae.from;oe--)if(this.boundary.test(ae.text[oe-1-ae.from])){ue=oe;break}for(;re<le.to;re++)if(this.boundary.test(le.text[re-le.from])){de=re;break}}let pe=[],he,_e=(Oe,xe,$e)=>pe.push($e.range(Oe,xe));if(ae==le)for(this.regexp.lastIndex=ue-ae.from;(he=this.regexp.exec(ae.text))&&he.index<de-ae.from;)this.addMatch(he,n,he.index+ae.from,_e);else iterMatches(n.state.doc,this.regexp,ue,de,(Oe,xe)=>this.addMatch(xe,n,Oe,_e));r=r.update({filterFrom:ue,filterTo:de,filter:(Oe,xe)=>Oe<ue||xe>de,add:pe})}}return r}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var g;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let n=document.body.style;_supportsTabSize=((g=n.tabSize)!==null&&g!==void 0?g:n.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(g){let n=combineConfig(g,{render:null,specialChars:Specials,addSpecialChars:null});return(n.replaceTabs=!supportsTabSize())&&(n.specialChars=new RegExp("	|"+n.specialChars.source,UnicodeRegexpSupport)),n.addSpecialChars&&(n.specialChars=new RegExp(n.specialChars.source+"|"+n.addSpecialChars.source,UnicodeRegexpSupport)),n}});function highlightSpecialChars(g={}){return[specialCharConfig.of(g),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(g){this.view=g,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(g.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(g)}makeDecorator(g){return new MatchDecorator({regexp:g.specialChars,decoration:(n,r,$)=>{let{doc:L}=r.state,V=codePointAt(n[0],0);if(V==9){let oe=L.lineAt($),re=r.state.tabSize,ae=countColumn(oe.text,re,$-oe.from);return Decoration.replace({widget:new TabWidget((re-ae%re)*this.view.defaultCharacterWidth)})}return this.decorationCache[V]||(this.decorationCache[V]=Decoration.replace({widget:new SpecialCharWidget(g,V)}))},boundary:g.replaceTabs?void 0:/[^]/})}update(g){let n=g.state.facet(specialCharConfig);g.startState.facet(specialCharConfig)!=n?(this.decorator=this.makeDecorator(n),this.decorations=this.decorator.createDeco(g.view)):this.decorations=this.decorator.updateDeco(g,this.decorations)}},{decorations:g=>g.decorations}))}const DefaultPlaceholder="\u2022";function placeholder$1(g){return g>=32?DefaultPlaceholder:g==10?"\u2424":String.fromCharCode(9216+g)}class SpecialCharWidget extends WidgetType{constructor(n,r){super(),this.options=n,this.code=r}eq(n){return n.code==this.code}toDOM(n){let r=placeholder$1(this.code),$=n.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),L=this.options.render&&this.options.render(this.code,$,r);if(L)return L;let V=document.createElement("span");return V.textContent=r,V.title=$,V.setAttribute("aria-label",$),V.className="cm-specialChar",V}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(n){super(),this.width=n}eq(n){return n.width==this.width}toDOM(){let n=document.createElement("span");return n.textContent="	",n.className="cm-tab",n.style.width=this.width+"px",n}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(g){this.decorations=this.getDeco(g)}update(g){(g.docChanged||g.selectionSet)&&(this.decorations=this.getDeco(g.view))}getDeco(g){let n=-1,r=[];for(let $ of g.state.selection.ranges){let L=g.lineBlockAt($.head);L.from>n&&(r.push(lineDeco.range(L.from)),n=L.from)}return Decoration.set(r)}},{decorations:g=>g.decorations});class Placeholder extends WidgetType{constructor(n){super(),this.content=n}toDOM(){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?n.setAttribute("aria-label","placeholder "+this.content):n.setAttribute("aria-hidden","true"),n}ignoreEvent(){return!1}}function placeholder(g){return ViewPlugin.fromClass(class{constructor(n){this.view=n,this.placeholder=Decoration.set([Decoration.widget({widget:new Placeholder(g),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?Decoration.none:this.placeholder}},{decorations:n=>n.decorations})}const MaxOff=2e3;function rectangleFor(g,n,r){let $=Math.min(n.line,r.line),L=Math.max(n.line,r.line),V=[];if(n.off>MaxOff||r.off>MaxOff||n.col<0||r.col<0){let oe=Math.min(n.off,r.off),re=Math.max(n.off,r.off);for(let ae=$;ae<=L;ae++){let le=g.doc.line(ae);le.length<=re&&V.push(EditorSelection.range(le.from+oe,le.to+re))}}else{let oe=Math.min(n.col,r.col),re=Math.max(n.col,r.col);for(let ae=$;ae<=L;ae++){let le=g.doc.line(ae),ue=findColumn(le.text,oe,g.tabSize,!0);if(ue<0)V.push(EditorSelection.cursor(le.to));else{let de=findColumn(le.text,re,g.tabSize);V.push(EditorSelection.range(le.from+ue,le.from+de))}}}return V}function absoluteColumn(g,n){let r=g.coordsAtPos(g.viewport.from);return r?Math.round(Math.abs((r.left-n)/g.defaultCharacterWidth)):-1}function getPos(g,n){let r=g.posAtCoords({x:n.clientX,y:n.clientY},!1),$=g.state.doc.lineAt(r),L=r-$.from,V=L>MaxOff?-1:L==$.length?absoluteColumn(g,n.clientX):countColumn($.text,g.state.tabSize,r-$.from);return{line:$.number,col:V,off:L}}function rectangleSelectionStyle(g,n){let r=getPos(g,n),$=g.state.selection;return r?{update(L){if(L.docChanged){let V=L.changes.mapPos(L.startState.doc.line(r.line).from),oe=L.state.doc.lineAt(V);r={line:oe.number,col:r.col,off:Math.min(r.off,oe.length)},$=$.map(L.changes)}},get(L,V,oe){let re=getPos(g,L);if(!re)return $;let ae=rectangleFor(g.state,r,re);return ae.length?oe?EditorSelection.create(ae.concat($.ranges)):EditorSelection.create(ae):$}}:null}function rectangularSelection(g){let n=(g==null?void 0:g.eventFilter)||(r=>r.altKey&&r.button==0);return EditorView.mouseSelectionStyle.of((r,$)=>n($)?rectangleSelectionStyle(r,$):null)}const keys$1={Alt:[18,g=>g.altKey],Control:[17,g=>g.ctrlKey],Shift:[16,g=>g.shiftKey],Meta:[91,g=>g.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(g={}){let[n,r]=keys$1[g.key||"Alt"],$=ViewPlugin.fromClass(class{constructor(L){this.view=L,this.isDown=!1}set(L){this.isDown!=L&&(this.isDown=L,this.view.update([]))}},{eventHandlers:{keydown(L){this.set(L.keyCode==n||r(L))},keyup(L){(L.keyCode==n||!r(L))&&this.set(!1)},mousemove(L){this.set(r(L))}}});return[$,EditorView.contentAttributes.of(L=>{var V;return!((V=L.plugin($))===null||V===void 0)&&V.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(n,r,$){this.facet=r,this.createTooltipView=$,this.input=n.state.facet(r),this.tooltips=this.input.filter(L=>L),this.tooltipViews=this.tooltips.map($)}update(n){var r;let $=n.state.facet(this.facet),L=$.filter(oe=>oe);if($===this.input){for(let oe of this.tooltipViews)oe.update&&oe.update(n);return!1}let V=[];for(let oe=0;oe<L.length;oe++){let re=L[oe],ae=-1;if(re){for(let le=0;le<this.tooltips.length;le++){let ue=this.tooltips[le];ue&&ue.create==re.create&&(ae=le)}if(ae<0)V[oe]=this.createTooltipView(re);else{let le=V[oe]=this.tooltipViews[ae];le.update&&le.update(n)}}}for(let oe of this.tooltipViews)V.indexOf(oe)<0&&(oe.dom.remove(),(r=oe.destroy)===null||r===void 0||r.call(oe));return this.input=$,this.tooltips=L,this.tooltipViews=V,!0}}function windowSpace(g){let{win:n}=g;return{top:0,left:0,bottom:n.innerHeight,right:n.innerWidth}}const tooltipConfig=Facet.define({combine:g=>{var n,r,$;return{position:browser.ios?"absolute":((n=g.find(L=>L.position))===null||n===void 0?void 0:n.position)||"fixed",parent:((r=g.find(L=>L.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:(($=g.find(L=>L.tooltipSpace))===null||$===void 0?void 0:$.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(g){this.view=g,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let n=g.state.facet(tooltipConfig);this.position=n.position,this.parent=n.parent,this.classes=g.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new TooltipViewManager(g,showTooltip,r=>this.createTooltip(r)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),g.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let g of this.manager.tooltipViews)this.intersectionObserver.observe(g.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(g){g.transactions.length&&(this.lastTransaction=Date.now());let n=this.manager.update(g);n&&this.observeIntersection();let r=n||g.geometryChanged,$=g.state.facet(tooltipConfig);if($.position!=this.position){this.position=$.position;for(let L of this.manager.tooltipViews)L.dom.style.position=this.position;r=!0}if($.parent!=this.parent){this.parent&&this.container.remove(),this.parent=$.parent,this.createContainer();for(let L of this.manager.tooltipViews)this.container.appendChild(L.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(g){let n=g.create(this.view);if(n.dom.classList.add("cm-tooltip"),g.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",n.dom.appendChild(r)}return n.dom.style.position=this.position,n.dom.style.top=Outside,this.container.appendChild(n.dom),n.mount&&n.mount(this.view),n}destroy(){var g,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(g=r.destroy)===null||g===void 0||g.call(r);(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let g=this.view.dom.getBoundingClientRect();return{editor:g,parent:this.parent?this.container.getBoundingClientRect():g,pos:this.manager.tooltips.map((n,r)=>{let $=this.manager.tooltipViews[r];return $.getCoords?$.getCoords(n.pos):this.view.coordsAtPos(n.pos)}),size:this.manager.tooltipViews.map(({dom:n})=>n.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view)}}writeMeasure(g){var n;let{editor:r,space:$}=g,L=[];for(let V=0;V<this.manager.tooltips.length;V++){let oe=this.manager.tooltips[V],re=this.manager.tooltipViews[V],{dom:ae}=re,le=g.pos[V],ue=g.size[V];if(!le||le.bottom<=Math.max(r.top,$.top)||le.top>=Math.min(r.bottom,$.bottom)||le.right<Math.max(r.left,$.left)-.1||le.left>Math.min(r.right,$.right)+.1){ae.style.top=Outside;continue}let de=oe.arrow?re.dom.querySelector(".cm-tooltip-arrow"):null,pe=de?7:0,he=ue.right-ue.left,_e=(n=knownHeight.get(re))!==null&&n!==void 0?n:ue.bottom-ue.top,Oe=re.offset||noOffset,xe=this.view.textDirection==Direction.LTR,$e=ue.width>$.right-$.left?xe?$.left:$.right-ue.width:xe?Math.min(le.left-(de?14:0)+Oe.x,$.right-he):Math.max($.left,le.left-he+(de?14:0)-Oe.x),Ie=!!oe.above;!oe.strictSide&&(Ie?le.top-(ue.bottom-ue.top)-Oe.y<$.top:le.bottom+(ue.bottom-ue.top)+Oe.y>$.bottom)&&Ie==$.bottom-le.bottom>le.top-$.top&&(Ie=!Ie);let Ne=(Ie?le.top-$.top:$.bottom-le.bottom)-pe;if(Ne<_e&&re.resize!==!1){if(Ne<this.view.defaultLineHeight){ae.style.top=Outside;continue}knownHeight.set(re,_e),ae.style.height=(_e=Ne)+"px"}else ae.style.height&&(ae.style.height="");let ze=Ie?le.top-_e-pe-Oe.y:le.bottom+pe+Oe.y,Ue=$e+he;if(re.overlap!==!0)for(let Fe of L)Fe.left<Ue&&Fe.right>$e&&Fe.top<ze+_e&&Fe.bottom>ze&&(ze=Ie?Fe.top-_e-2-pe:Fe.bottom+pe+2);this.position=="absolute"?(ae.style.top=ze-g.parent.top+"px",ae.style.left=$e-g.parent.left+"px"):(ae.style.top=ze+"px",ae.style.left=$e+"px"),de&&(de.style.left=`${le.left+(xe?Oe.x:-Oe.x)-($e+14-7)}px`),re.overlap!==!0&&L.push({left:$e,top:ze,right:Ue,bottom:ze+_e}),ae.classList.toggle("cm-tooltip-above",Ie),ae.classList.toggle("cm-tooltip-below",!Ie),re.positioned&&re.positioned(g.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let g of this.manager.tooltipViews)g.dom.style.top=Outside}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define();class HoverTooltipHost{constructor(n){this.view=n,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(n,showHoverTooltip,r=>this.createHostedView(r))}static create(n){return new HoverTooltipHost(n)}createHostedView(n){let r=n.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(r.dom),this.mounted&&r.mount&&r.mount(this.view),r}mount(n){for(let r of this.manager.tooltipViews)r.mount&&r.mount(n);this.mounted=!0}positioned(n){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(n)}update(n){this.manager.update(n)}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],g=>{let n=g.facet(showHoverTooltip).filter(r=>r);return n.length===0?null:{pos:Math.min(...n.map(r=>r.pos)),end:Math.max(...n.filter(r=>r.end!=null).map(r=>r.end)),create:HoverTooltipHost.create,above:n[0].above,arrow:n.some(r=>r.arrow)}});class HoverPlugin{constructor(n,r,$,L,V){this.view=n,this.source=r,this.field=$,this.setHover=L,this.hoverTime=V,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:n.dom,time:0},this.checkHover=this.checkHover.bind(this),n.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),n.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let n=Date.now()-this.lastMove.time;n<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-n):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:n}=this,r=this.view.contentDOM.contains(n.target)?this.view.posAtCoords(n):null;if(r==null)return;let $=this.view.coordsAtPos(r);if($==null||n.y<$.top||n.y>$.bottom||n.x<$.left-this.view.defaultCharacterWidth||n.x>$.right+this.view.defaultCharacterWidth)return;let L=this.view.bidiSpans(this.view.state.doc.lineAt(r)).find(re=>re.from<=r&&re.to>=r),V=L&&L.dir==Direction.RTL?-1:1,oe=this.source(this.view,r,n.x<$.left?-V:V);if(oe!=null&&oe.then){let re=this.pending={pos:r};oe.then(ae=>{this.pending==re&&(this.pending=null,ae&&this.view.dispatch({effects:this.setHover.of(ae)}))},ae=>logException(this.view.state,ae,"hover tooltip"))}else oe&&this.view.dispatch({effects:this.setHover.of(oe)})}mousemove(n){var r;this.lastMove={x:n.clientX,y:n.clientY,target:n.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let $=this.active;if($&&!isInTooltip(this.lastMove.target)||this.pending){let{pos:L}=$||this.pending,V=(r=$==null?void 0:$.end)!==null&&r!==void 0?r:L;(L==V?this.view.posAtCoords(this.lastMove)!=L:!isOverRange(this.view,L,V,n.clientX,n.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(n){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!isInTooltip(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function isInTooltip(g){for(let n=g;n;n=n.parentNode)if(n.nodeType==1&&n.classList.contains("cm-tooltip"))return!0;return!1}function isOverRange(g,n,r,$,L,V){let oe=document.createRange(),re=g.domAtPos(n),ae=g.domAtPos(r);oe.setEnd(ae.node,ae.offset),oe.setStart(re.node,re.offset);let le=oe.getClientRects();oe.detach();for(let ue=0;ue<le.length;ue++){let de=le[ue];if(Math.max(de.top-L,L-de.bottom,de.left-$,$-de.right)<=V)return!0}return!1}function hoverTooltip(g,n={}){let r=StateEffect.define(),$=StateField.define({create(){return null},update(L,V){if(L&&(n.hideOnChange&&(V.docChanged||V.selection)||n.hideOn&&n.hideOn(V,L)))return null;if(L&&V.docChanged){let oe=V.changes.mapPos(L.pos,-1,MapMode.TrackDel);if(oe==null)return null;let re=Object.assign(Object.create(null),L);re.pos=oe,L.end!=null&&(re.end=V.changes.mapPos(L.end)),L=re}for(let oe of V.effects)oe.is(r)&&(L=oe.value),oe.is(closeHoverTooltipEffect)&&(L=null);return L},provide:L=>showHoverTooltip.from(L)});return[$,ViewPlugin.define(L=>new HoverPlugin(L,g,$,r,n.hoverTime||300)),showHoverTooltipHost]}function getTooltip(g,n){let r=g.plugin(tooltipPlugin);if(!r)return null;let $=r.manager.tooltips.indexOf(n);return $<0?null:r.manager.tooltipViews[$]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(g){let n,r;for(let $ of g)n=n||$.topContainer,r=r||$.bottomContainer;return{topContainer:n,bottomContainer:r}}});function getPanel$1(g,n){let r=g.plugin(panelPlugin),$=r?r.specs.indexOf(n):-1;return $>-1?r.panels[$]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(g){this.input=g.state.facet(showPanel),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(g));let n=g.state.facet(panelConfig);this.top=new PanelGroup(g,!0,n.topContainer),this.bottom=new PanelGroup(g,!1,n.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(g){let n=g.state.facet(panelConfig);this.top.container!=n.topContainer&&(this.top.sync([]),this.top=new PanelGroup(g.view,!0,n.topContainer)),this.bottom.container!=n.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(g.view,!1,n.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=g.state.facet(showPanel);if(r!=this.input){let $=r.filter(ae=>ae),L=[],V=[],oe=[],re=[];for(let ae of $){let le=this.specs.indexOf(ae),ue;le<0?(ue=ae(g.view),re.push(ue)):(ue=this.panels[le],ue.update&&ue.update(g)),L.push(ue),(ue.top?V:oe).push(ue)}this.specs=$,this.panels=L,this.top.sync(V),this.bottom.sync(oe);for(let ae of re)ae.dom.classList.add("cm-panel"),ae.mount&&ae.mount()}else for(let $ of this.panels)$.update&&$.update(g)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:g=>EditorView.scrollMargins.of(n=>{let r=n.plugin(g);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class PanelGroup{constructor(n,r,$){this.view=n,this.top=r,this.container=$,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(n){for(let r of this.panels)r.destroy&&n.indexOf(r)<0&&r.destroy();this.panels=n,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let n=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;n!=r.dom;)n=rm(n);n=n.nextSibling}else this.dom.insertBefore(r.dom,n);for(;n;)n=rm(n)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let n of this.classes.split(" "))n&&this.container.classList.remove(n);for(let n of(this.classes=this.view.themeClasses).split(" "))n&&this.container.classList.add(n)}}}function rm(g){let n=g.nextSibling;return g.remove(),n}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(n){return this==n||this.constructor==n.constructor&&this.eq(n)}eq(n){return!1}destroy(n){}}GutterMarker.prototype.elementClass="",GutterMarker.prototype.toDOM=void 0,GutterMarker.prototype.mapMode=MapMode.TrackBefore,GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1,GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),defaults$4={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},activeGutters=Facet.define();function gutter(g){return[gutters(),activeGutters.of(Object.assign(Object.assign({},defaults$4),g))]}const unfixGutters=Facet.define({combine:g=>g.some(n=>n)});function gutters(g){let n=[gutterView];return g&&g.fixed===!1&&n.push(unfixGutters.of(!0)),n}const gutterView=ViewPlugin.fromClass(class{constructor(g){this.view=g,this.prevViewport=g.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=g.state.facet(activeGutters).map(n=>new SingleGutterView(g,n));for(let n of this.gutters)this.dom.appendChild(n.dom);this.fixed=!g.state.facet(unfixGutters),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),g.scrollDOM.insertBefore(this.dom,g.contentDOM)}update(g){if(this.updateGutters(g)){let n=this.prevViewport,r=g.view.viewport,$=Math.min(n.to,r.to)-Math.max(n.from,r.from);this.syncGutters($<(r.to-r.from)*.8)}g.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=g.view.viewport}syncGutters(g){let n=this.dom.nextSibling;g&&this.dom.remove();let r=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),$=[],L=this.gutters.map(V=>new UpdateContext(V,this.view.viewport,-this.view.documentPadding.top));for(let V of this.view.viewportLineBlocks){let oe;if(Array.isArray(V.type)){for(let re of V.type)if(re.type==BlockType.Text){oe=re;break}}else oe=V.type==BlockType.Text?V:void 0;if(oe){$.length&&($=[]),advanceCursor(r,$,V.from);for(let re of L)re.line(this.view,oe,$)}}for(let V of L)V.finish();g&&this.view.scrollDOM.insertBefore(this.dom,n)}updateGutters(g){let n=g.startState.facet(activeGutters),r=g.state.facet(activeGutters),$=g.docChanged||g.heightChanged||g.viewportChanged||!RangeSet.eq(g.startState.facet(gutterLineClass),g.state.facet(gutterLineClass),g.view.viewport.from,g.view.viewport.to);if(n==r)for(let L of this.gutters)L.update(g)&&($=!0);else{$=!0;let L=[];for(let V of r){let oe=n.indexOf(V);oe<0?L.push(new SingleGutterView(this.view,V)):(this.gutters[oe].update(g),L.push(this.gutters[oe]))}for(let V of this.gutters)V.dom.remove(),L.indexOf(V)<0&&V.destroy();for(let V of L)this.dom.appendChild(V.dom);this.gutters=L}return $}destroy(){for(let g of this.gutters)g.destroy();this.dom.remove()}},{provide:g=>EditorView.scrollMargins.of(n=>{let r=n.plugin(g);return!r||r.gutters.length==0||!r.fixed?null:n.textDirection==Direction.LTR?{left:r.dom.offsetWidth}:{right:r.dom.offsetWidth}})});function asArray(g){return Array.isArray(g)?g:[g]}function advanceCursor(g,n,r){for(;g.value&&g.from<=r;)g.from==r&&n.push(g.value),g.next()}class UpdateContext{constructor(n,r,$){this.gutter=n,this.height=$,this.i=0,this.cursor=RangeSet.iter(n.markers,r.from)}line(n,r,$){let L=[];advanceCursor(this.cursor,L,r.from),$.length&&(L=L.concat($));let V=this.gutter.config.lineMarker(n,r,L);V&&L.unshift(V);let oe=this.gutter;if(L.length==0&&!oe.config.renderEmptyElements)return;let re=r.top-this.height;if(this.i==oe.elements.length){let ae=new GutterElement(n,r.height,re,L);oe.elements.push(ae),oe.dom.appendChild(ae.dom)}else oe.elements[this.i].update(n,r.height,re,L);this.height=r.bottom,this.i++}finish(){let n=this.gutter;for(;n.elements.length>this.i;){let r=n.elements.pop();n.dom.removeChild(r.dom),r.destroy()}}}class SingleGutterView{constructor(n,r){this.view=n,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let $ in r.domEventHandlers)this.dom.addEventListener($,L=>{let V=L.target,oe;if(V!=this.dom&&this.dom.contains(V)){for(;V.parentNode!=this.dom;)V=V.parentNode;let ae=V.getBoundingClientRect();oe=(ae.top+ae.bottom)/2}else oe=L.clientY;let re=n.lineBlockAtHeight(oe-n.documentTop);r.domEventHandlers[$](n,re,L)&&L.preventDefault()});this.markers=asArray(r.markers(n)),r.initialSpacer&&(this.spacer=new GutterElement(n,0,0,[r.initialSpacer(n)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(n){let r=this.markers;if(this.markers=asArray(this.config.markers(n.view)),this.spacer&&this.config.updateSpacer){let L=this.config.updateSpacer(this.spacer.markers[0],n);L!=this.spacer.markers[0]&&this.spacer.update(n.view,0,0,[L])}let $=n.view.viewport;return!RangeSet.eq(this.markers,r,$.from,$.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(n):!1)}destroy(){for(let n of this.elements)n.destroy()}}class GutterElement{constructor(n,r,$,L){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(n,r,$,L)}update(n,r,$,L){this.height!=r&&(this.dom.style.height=(this.height=r)+"px"),this.above!=$&&(this.dom.style.marginTop=(this.above=$)?$+"px":""),sameMarkers(this.markers,L)||this.setMarkers(n,L)}setMarkers(n,r){let $="cm-gutterElement",L=this.dom.firstChild;for(let V=0,oe=0;;){let re=oe,ae=V<r.length?r[V++]:null,le=!1;if(ae){let ue=ae.elementClass;ue&&($+=" "+ue);for(let de=oe;de<this.markers.length;de++)if(this.markers[de].compare(ae)){re=de,le=!0;break}}else re=this.markers.length;for(;oe<re;){let ue=this.markers[oe++];if(ue.toDOM){ue.destroy(L);let de=L.nextSibling;L.remove(),L=de}}if(!ae)break;ae.toDOM&&(le?L=L.nextSibling:this.dom.insertBefore(ae.toDOM(n),L)),le&&oe++}this.dom.className=$,this.markers=r}destroy(){this.setMarkers(null,[])}}function sameMarkers(g,n){if(g.length!=n.length)return!1;for(let r=0;r<g.length;r++)if(!g[r].compare(n[r]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberConfig=Facet.define({combine(g){return combineConfig(g,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(n,r){let $=Object.assign({},n);for(let L in r){let V=$[L],oe=r[L];$[L]=V?(re,ae,le)=>V(re,ae,le)||oe(re,ae,le):oe}return $}})}});class NumberMarker extends GutterMarker{constructor(n){super(),this.number=n}eq(n){return this.number==n.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(g,n){return g.state.facet(lineNumberConfig).formatNumber(n,g.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],g=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(n){return n.state.facet(lineNumberMarkers)},lineMarker(n,r,$){return $.some(L=>L.toDOM)?null:new NumberMarker(formatNumber(n,n.state.doc.lineAt(r.from).number))},lineMarkerChange:n=>n.startState.facet(lineNumberConfig)!=n.state.facet(lineNumberConfig),initialSpacer(n){return new NumberMarker(formatNumber(n,maxLineNumber(n.state.doc.lines)))},updateSpacer(n,r){let $=formatNumber(r.view,maxLineNumber(r.view.state.doc.lines));return $==n.number?n:new NumberMarker($)},domEventHandlers:g.facet(lineNumberConfig).domEventHandlers}));function lineNumbers(g={}){return[lineNumberConfig.of(g),gutters(),lineNumberGutter]}function maxLineNumber(g){let n=9;for(;n<g;)n=n*10+9;return n}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],g=>{let n=[],r=-1;for(let $ of g.selection.ranges){let L=g.doc.lineAt($.head).from;L>r&&(r=L,n.push(activeLineGutterMarker.range(L)))}return RangeSet.of(n)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(n,r){this.from=n,this.to=r}}class NodeProp{constructor(n={}){this.id=nextPropID++,this.perNode=!!n.perNode,this.deserialize=n.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(n){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof n!="function"&&(n=NodeType.match(n)),r=>{let $=n(r);return $===void 0?null:[this,$]}}}NodeProp.closedBy=new NodeProp({deserialize:g=>g.split(" ")}),NodeProp.openedBy=new NodeProp({deserialize:g=>g.split(" ")}),NodeProp.group=new NodeProp({deserialize:g=>g.split(" ")}),NodeProp.contextHash=new NodeProp({perNode:!0}),NodeProp.lookAhead=new NodeProp({perNode:!0}),NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor(n,r,$){this.tree=n,this.overlay=r,this.parser=$}}const noProps=Object.create(null);class NodeType{constructor(n,r,$,L=0){this.name=n,this.props=r,this.id=$,this.flags=L}static define(n){let r=n.props&&n.props.length?Object.create(null):noProps,$=(n.top?1:0)|(n.skipped?2:0)|(n.error?4:0)|(n.name==null?8:0),L=new NodeType(n.name||"",r,n.id,$);if(n.props){for(let V of n.props)if(Array.isArray(V)||(V=V(L)),V){if(V[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[V[0].id]=V[1]}}return L}prop(n){return this.props[n.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(n){if(typeof n=="string"){if(this.name==n)return!0;let r=this.prop(NodeProp.group);return r?r.indexOf(n)>-1:!1}return this.id==n}static match(n){let r=Object.create(null);for(let $ in n)for(let L of $.split(" "))r[L]=n[$];return $=>{for(let L=$.prop(NodeProp.group),V=-1;V<(L?L.length:0);V++){let oe=r[V<0?$.name:L[V]];if(oe)return oe}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(n){this.types=n;for(let r=0;r<n.length;r++)if(n[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...n){let r=[];for(let $ of this.types){let L=null;for(let V of n){let oe=V($);oe&&(L||(L=Object.assign({},$.props)),L[oe[0].id]=oe[1])}r.push(L?new NodeType($.name,L,$.id,$.flags):$)}return new NodeSet(r)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(g){g[g.ExcludeBuffers=1]="ExcludeBuffers",g[g.IncludeAnonymous=2]="IncludeAnonymous",g[g.IgnoreMounts=4]="IgnoreMounts",g[g.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(n,r,$,L,V){if(this.type=n,this.children=r,this.positions=$,this.length=L,this.props=null,V&&V.length){this.props=Object.create(null);for(let[oe,re]of V)this.props[typeof oe=="number"?oe:oe.id]=re}}toString(){let n=this.prop(NodeProp.mounted);if(n&&!n.overlay)return n.tree.toString();let r="";for(let $ of this.children){let L=$.toString();L&&(r&&(r+=","),r+=L)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(n=0){return new TreeCursor(this.topNode,n)}cursorAt(n,r=0,$=0){let L=CachedNode.get(this)||this.topNode,V=new TreeCursor(L);return V.moveTo(n,r),CachedNode.set(this,V._tree),V}get topNode(){return new TreeNode(this,0,0,null)}resolve(n,r=0){let $=resolveNode(CachedNode.get(this)||this.topNode,n,r,!1);return CachedNode.set(this,$),$}resolveInner(n,r=0){let $=resolveNode(CachedInnerNode.get(this)||this.topNode,n,r,!0);return CachedInnerNode.set(this,$),$}iterate(n){let{enter:r,leave:$,from:L=0,to:V=this.length}=n;for(let oe=this.cursor((n.mode||0)|IterMode.IncludeAnonymous);;){let re=!1;if(oe.from<=V&&oe.to>=L&&(oe.type.isAnonymous||r(oe)!==!1)){if(oe.firstChild())continue;re=!0}for(;re&&$&&!oe.type.isAnonymous&&$(oe),!oe.nextSibling();){if(!oe.parent())return;re=!0}}}prop(n){return n.perNode?this.props?this.props[n.id]:void 0:this.type.prop(n)}get propValues(){let n=[];if(this.props)for(let r in this.props)n.push([+r,this.props[r]]);return n}balance(n={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(r,$,L)=>new Tree(this.type,r,$,L,this.propValues),n.makeTree||((r,$,L)=>new Tree(NodeType.none,r,$,L)))}static build(n){return buildTree(n)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(n,r){this.buffer=n,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(n,r,$){this.buffer=n,this.length=r,this.set=$}get type(){return NodeType.none}toString(){let n=[];for(let r=0;r<this.buffer.length;)n.push(this.childString(r)),r=this.buffer[r+3];return n.join(",")}childString(n){let r=this.buffer[n],$=this.buffer[n+3],L=this.set.types[r],V=L.name;if(/\W/.test(V)&&!L.isError&&(V=JSON.stringify(V)),n+=4,$==n)return V;let oe=[];for(;n<$;)oe.push(this.childString(n)),n=this.buffer[n+3];return V+"("+oe.join(",")+")"}findChild(n,r,$,L,V){let{buffer:oe}=this,re=-1;for(let ae=n;ae!=r&&!(checkSide(V,L,oe[ae+1],oe[ae+2])&&(re=ae,$>0));ae=oe[ae+3]);return re}slice(n,r,$){let L=this.buffer,V=new Uint16Array(r-n),oe=0;for(let re=n,ae=0;re<r;){V[ae++]=L[re++],V[ae++]=L[re++]-$;let le=V[ae++]=L[re++]-$;V[ae++]=L[re++]-n,oe=Math.max(oe,le)}return new TreeBuffer(V,oe,this.set)}}function checkSide(g,n,r,$){switch(g){case-2:return r<n;case-1:return $>=n&&r<n;case 0:return r<n&&$>n;case 1:return r<=n&&$>n;case 2:return $>n;case 4:return!0}}function enterUnfinishedNodesBefore(g,n){let r=g.childBefore(n);for(;r;){let $=r.lastChild;if(!$||$.to!=r.to)break;$.type.isError&&$.from==$.to?(g=r,r=$.prevSibling):r=$}return g}function resolveNode(g,n,r,$){for(var L;g.from==g.to||(r<1?g.from>=n:g.from>n)||(r>-1?g.to<=n:g.to<n);){let oe=!$&&g instanceof TreeNode&&g.index<0?null:g.parent;if(!oe)return g;g=oe}let V=$?0:IterMode.IgnoreOverlays;if($)for(let oe=g,re=oe.parent;re;oe=re,re=oe.parent)oe instanceof TreeNode&&oe.index<0&&((L=re.enter(n,r,V))===null||L===void 0?void 0:L.from)!=oe.from&&(g=re);for(;;){let oe=g.enter(n,r,V);if(!oe)return g;g=oe}}class TreeNode{constructor(n,r,$,L){this._tree=n,this.from=r,this.index=$,this._parent=L}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(n,r,$,L,V=0){for(let oe=this;;){for(let{children:re,positions:ae}=oe._tree,le=r>0?re.length:-1;n!=le;n+=r){let ue=re[n],de=ae[n]+oe.from;if(checkSide(L,$,de,de+ue.length)){if(ue instanceof TreeBuffer){if(V&IterMode.ExcludeBuffers)continue;let pe=ue.findChild(0,ue.buffer.length,r,$-de,L);if(pe>-1)return new BufferNode(new BufferContext(oe,ue,n,de),null,pe)}else if(V&IterMode.IncludeAnonymous||!ue.type.isAnonymous||hasChild(ue)){let pe;if(!(V&IterMode.IgnoreMounts)&&ue.props&&(pe=ue.prop(NodeProp.mounted))&&!pe.overlay)return new TreeNode(pe.tree,de,n,oe);let he=new TreeNode(ue,de,n,oe);return V&IterMode.IncludeAnonymous||!he.type.isAnonymous?he:he.nextChild(r<0?ue.children.length-1:0,r,$,L)}}}if(V&IterMode.IncludeAnonymous||!oe.type.isAnonymous||(oe.index>=0?n=oe.index+r:n=r<0?-1:oe._parent._tree.children.length,oe=oe._parent,!oe))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(n){return this.nextChild(0,1,n,2)}childBefore(n){return this.nextChild(this._tree.children.length-1,-1,n,-2)}enter(n,r,$=0){let L;if(!($&IterMode.IgnoreOverlays)&&(L=this._tree.prop(NodeProp.mounted))&&L.overlay){let V=n-this.from;for(let{from:oe,to:re}of L.overlay)if((r>0?oe<=V:oe<V)&&(r<0?re>=V:re>V))return new TreeNode(L.tree,L.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,n,r,$)}nextSignificantParent(){let n=this;for(;n.type.isAnonymous&&n._parent;)n=n._parent;return n}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(n=0){return new TreeCursor(this,n)}get tree(){return this._tree}toTree(){return this._tree}resolve(n,r=0){return resolveNode(this,n,r,!1)}resolveInner(n,r=0){return resolveNode(this,n,r,!0)}enterUnfinishedNodesBefore(n){return enterUnfinishedNodesBefore(this,n)}getChild(n,r=null,$=null){let L=getChildren(this,n,r,$);return L.length?L[0]:null}getChildren(n,r=null,$=null){return getChildren(this,n,r,$)}toString(){return this._tree.toString()}get node(){return this}matchContext(n){return matchNodeContext(this,n)}}function getChildren(g,n,r,$){let L=g.cursor(),V=[];if(!L.firstChild())return V;if(r!=null){for(;!L.type.is(r);)if(!L.nextSibling())return V}for(;;){if($!=null&&L.type.is($))return V;if(L.type.is(n)&&V.push(L.node),!L.nextSibling())return $==null?V:[]}}function matchNodeContext(g,n,r=n.length-1){for(let $=g.parent;r>=0;$=$.parent){if(!$)return!1;if(!$.type.isAnonymous){if(n[r]&&n[r]!=$.name)return!1;r--}}return!0}class BufferContext{constructor(n,r,$,L){this.parent=n,this.buffer=r,this.index=$,this.start=L}}class BufferNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(n,r,$){this.context=n,this._parent=r,this.index=$,this.type=n.buffer.set.types[n.buffer.buffer[$]]}child(n,r,$){let{buffer:L}=this.context,V=L.findChild(this.index+4,L.buffer[this.index+3],n,r-this.context.start,$);return V<0?null:new BufferNode(this.context,this,V)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(n){return this.child(1,n,2)}childBefore(n){return this.child(-1,n,-2)}enter(n,r,$=0){if($&IterMode.ExcludeBuffers)return null;let{buffer:L}=this.context,V=L.findChild(this.index+4,L.buffer[this.index+3],r>0?1:-1,n-this.context.start,r);return V<0?null:new BufferNode(this.context,this,V)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(n){return this._parent?null:this.context.parent.nextChild(this.context.index+n,n,0,4)}get nextSibling(){let{buffer:n}=this.context,r=n.buffer[this.index+3];return r<(this._parent?n.buffer[this._parent.index+3]:n.buffer.length)?new BufferNode(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:n}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new BufferNode(this.context,this._parent,n.findChild(r,this.index,-1,0,4))}cursor(n=0){return new TreeCursor(this,n)}get tree(){return null}toTree(){let n=[],r=[],{buffer:$}=this.context,L=this.index+4,V=$.buffer[this.index+3];if(V>L){let oe=$.buffer[this.index+1];n.push($.slice(L,V,oe)),r.push(0)}return new Tree(this.type,n,r,this.to-this.from)}resolve(n,r=0){return resolveNode(this,n,r,!1)}resolveInner(n,r=0){return resolveNode(this,n,r,!0)}enterUnfinishedNodesBefore(n){return enterUnfinishedNodesBefore(this,n)}toString(){return this.context.buffer.childString(this.index)}getChild(n,r=null,$=null){let L=getChildren(this,n,r,$);return L.length?L[0]:null}getChildren(n,r=null,$=null){return getChildren(this,n,r,$)}get node(){return this}matchContext(n){return matchNodeContext(this,n)}}class TreeCursor{get name(){return this.type.name}constructor(n,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,n instanceof TreeNode)this.yieldNode(n);else{this._tree=n.context.parent,this.buffer=n.context;for(let $=n._parent;$;$=$._parent)this.stack.unshift($.index);this.bufferNode=n,this.yieldBuf(n.index)}}yieldNode(n){return n?(this._tree=n,this.type=n.type,this.from=n.from,this.to=n.to,!0):!1}yieldBuf(n,r){this.index=n;let{start:$,buffer:L}=this.buffer;return this.type=r||L.set.types[L.buffer[n]],this.from=$+L.buffer[n+1],this.to=$+L.buffer[n+2],!0}yield(n){return n?n instanceof TreeNode?(this.buffer=null,this.yieldNode(n)):(this.buffer=n.context,this.yieldBuf(n.index,n.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(n,r,$){if(!this.buffer)return this.yield(this._tree.nextChild(n<0?this._tree._tree.children.length-1:0,n,r,$,this.mode));let{buffer:L}=this.buffer,V=L.findChild(this.index+4,L.buffer[this.index+3],n,r-this.buffer.start,$);return V<0?!1:(this.stack.push(this.index),this.yieldBuf(V))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(n){return this.enterChild(1,n,2)}childBefore(n){return this.enterChild(-1,n,-2)}enter(n,r,$=this.mode){return this.buffer?$&IterMode.ExcludeBuffers?!1:this.enterChild(1,n,r):this.yield(this._tree.enter(n,r,$))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let n=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(n)}sibling(n){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+n,n,0,4,this.mode)):!1;let{buffer:r}=this.buffer,$=this.stack.length-1;if(n<0){let L=$<0?0:this.stack[$]+4;if(this.index!=L)return this.yieldBuf(r.findChild(L,this.index,-1,0,4))}else{let L=r.buffer[this.index+3];if(L<($<0?r.buffer.length:r.buffer[this.stack[$]+3]))return this.yieldBuf(L)}return $<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+n,n,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(n){let r,$,{buffer:L}=this;if(L){if(n>0){if(this.index<L.buffer.buffer.length)return!1}else for(let V=0;V<this.index;V++)if(L.buffer.buffer[V+3]<this.index)return!1;({index:r,parent:$}=L)}else({index:r,_parent:$}=this._tree);for(;$;{index:r,_parent:$}=$)if(r>-1)for(let V=r+n,oe=n<0?-1:$._tree.children.length;V!=oe;V+=n){let re=$._tree.children[V];if(this.mode&IterMode.IncludeAnonymous||re instanceof TreeBuffer||!re.type.isAnonymous||hasChild(re))return!1}return!0}move(n,r){if(r&&this.enterChild(n,0,4))return!0;for(;;){if(this.sibling(n))return!0;if(this.atLastNode(n)||!this.parent())return!1}}next(n=!0){return this.move(1,n)}prev(n=!0){return this.move(-1,n)}moveTo(n,r=0){for(;(this.from==this.to||(r<1?this.from>=n:this.from>n)||(r>-1?this.to<=n:this.to<n))&&this.parent(););for(;this.enterChild(1,n,r););return this}get node(){if(!this.buffer)return this._tree;let n=this.bufferNode,r=null,$=0;if(n&&n.context==this.buffer){e:for(let L=this.index,V=this.stack.length;V>=0;){for(let oe=n;oe;oe=oe._parent)if(oe.index==L){if(L==this.index)return oe;r=oe,$=V+1;break e}L=this.stack[--V]}}for(let L=$;L<this.stack.length;L++)r=new BufferNode(this.buffer,r,this.stack[L]);return this.bufferNode=new BufferNode(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(n,r){for(let $=0;;){let L=!1;if(this.type.isAnonymous||n(this)!==!1){if(this.firstChild()){$++;continue}this.type.isAnonymous||(L=!0)}for(;L&&r&&r(this),L=this.type.isAnonymous,!this.nextSibling();){if(!$)return;this.parent(),$--,L=!0}}}matchContext(n){if(!this.buffer)return matchNodeContext(this.node,n);let{buffer:r}=this.buffer,{types:$}=r.set;for(let L=n.length-1,V=this.stack.length-1;L>=0;V--){if(V<0)return matchNodeContext(this.node,n,L);let oe=$[r.buffer[this.stack[V]]];if(!oe.isAnonymous){if(n[L]&&n[L]!=oe.name)return!1;L--}}return!0}}function hasChild(g){return g.children.some(n=>n instanceof TreeBuffer||!n.type.isAnonymous||hasChild(n))}function buildTree(g){var n;let{buffer:r,nodeSet:$,maxBufferLength:L=DefaultBufferLength,reused:V=[],minRepeatType:oe=$.types.length}=g,re=Array.isArray(r)?new FlatBufferCursor(r,r.length):r,ae=$.types,le=0,ue=0;function de(ze,Ue,Fe,qe,Et){let{id:At,start:kt,end:Dt,size:jt}=re,Lt=ue;for(;jt<0;)if(re.next(),jt==-1){let xn=V[At];Fe.push(xn),qe.push(kt-ze);return}else if(jt==-3){le=At;return}else if(jt==-4){ue=At;return}else throw new RangeError(`Unrecognized record size: ${jt}`);let hn=ae[At],Sn,On,_n=kt-ze;if(Dt-kt<=L&&(On=Oe(re.pos-Ue,Et))){let xn=new Uint16Array(On.size-On.skip),bn=re.pos-On.size,Tn=xn.length;for(;re.pos>bn;)Tn=xe(On.start,xn,Tn);Sn=new TreeBuffer(xn,Dt-On.start,$),_n=On.start-ze}else{let xn=re.pos-jt;re.next();let bn=[],Tn=[],An=At>=oe?At:-1,En=0,Ln=Dt;for(;re.pos>xn;)An>=0&&re.id==An&&re.size>=0?(re.end<=Ln-L&&(he(bn,Tn,kt,En,re.end,Ln,An,Lt),En=bn.length,Ln=re.end),re.next()):de(kt,xn,bn,Tn,An);if(An>=0&&En>0&&En<bn.length&&he(bn,Tn,kt,En,kt,Ln,An,Lt),bn.reverse(),Tn.reverse(),An>-1&&En>0){let Wn=pe(hn);Sn=balanceRange(hn,bn,Tn,0,bn.length,0,Dt-kt,Wn,Wn)}else Sn=_e(hn,bn,Tn,Dt-kt,Lt-Dt)}Fe.push(Sn),qe.push(_n)}function pe(ze){return(Ue,Fe,qe)=>{let Et=0,At=Ue.length-1,kt,Dt;if(At>=0&&(kt=Ue[At])instanceof Tree){if(!At&&kt.type==ze&&kt.length==qe)return kt;(Dt=kt.prop(NodeProp.lookAhead))&&(Et=Fe[At]+kt.length+Dt)}return _e(ze,Ue,Fe,qe,Et)}}function he(ze,Ue,Fe,qe,Et,At,kt,Dt){let jt=[],Lt=[];for(;ze.length>qe;)jt.push(ze.pop()),Lt.push(Ue.pop()+Fe-Et);ze.push(_e($.types[kt],jt,Lt,At-Et,Dt-At)),Ue.push(Et-Fe)}function _e(ze,Ue,Fe,qe,Et=0,At){if(le){let kt=[NodeProp.contextHash,le];At=At?[kt].concat(At):[kt]}if(Et>25){let kt=[NodeProp.lookAhead,Et];At=At?[kt].concat(At):[kt]}return new Tree(ze,Ue,Fe,qe,At)}function Oe(ze,Ue){let Fe=re.fork(),qe=0,Et=0,At=0,kt=Fe.end-L,Dt={size:0,start:0,skip:0};e:for(let jt=Fe.pos-ze;Fe.pos>jt;){let Lt=Fe.size;if(Fe.id==Ue&&Lt>=0){Dt.size=qe,Dt.start=Et,Dt.skip=At,At+=4,qe+=4,Fe.next();continue}let hn=Fe.pos-Lt;if(Lt<0||hn<jt||Fe.start<kt)break;let Sn=Fe.id>=oe?4:0,On=Fe.start;for(Fe.next();Fe.pos>hn;){if(Fe.size<0)if(Fe.size==-3)Sn+=4;else break e;else Fe.id>=oe&&(Sn+=4);Fe.next()}Et=On,qe+=Lt,At+=Sn}return(Ue<0||qe==ze)&&(Dt.size=qe,Dt.start=Et,Dt.skip=At),Dt.size>4?Dt:void 0}function xe(ze,Ue,Fe){let{id:qe,start:Et,end:At,size:kt}=re;if(re.next(),kt>=0&&qe<oe){let Dt=Fe;if(kt>4){let jt=re.pos-(kt-4);for(;re.pos>jt;)Fe=xe(ze,Ue,Fe)}Ue[--Fe]=Dt,Ue[--Fe]=At-ze,Ue[--Fe]=Et-ze,Ue[--Fe]=qe}else kt==-3?le=qe:kt==-4&&(ue=qe);return Fe}let $e=[],Ie=[];for(;re.pos>0;)de(g.start||0,g.bufferStart||0,$e,Ie,-1);let Ne=(n=g.length)!==null&&n!==void 0?n:$e.length?Ie[0]+$e[0].length:0;return new Tree(ae[g.topID],$e.reverse(),Ie.reverse(),Ne)}const nodeSizeCache=new WeakMap;function nodeSize(g,n){if(!g.isAnonymous||n instanceof TreeBuffer||n.type!=g)return 1;let r=nodeSizeCache.get(n);if(r==null){r=1;for(let $ of n.children){if($.type!=g||!($ instanceof Tree)){r=1;break}r+=nodeSize(g,$)}nodeSizeCache.set(n,r)}return r}function balanceRange(g,n,r,$,L,V,oe,re,ae){let le=0;for(let _e=$;_e<L;_e++)le+=nodeSize(g,n[_e]);let ue=Math.ceil(le*1.5/8),de=[],pe=[];function he(_e,Oe,xe,$e,Ie){for(let Ne=xe;Ne<$e;){let ze=Ne,Ue=Oe[Ne],Fe=nodeSize(g,_e[Ne]);for(Ne++;Ne<$e;Ne++){let qe=nodeSize(g,_e[Ne]);if(Fe+qe>=ue)break;Fe+=qe}if(Ne==ze+1){if(Fe>ue){let qe=_e[ze];he(qe.children,qe.positions,0,qe.children.length,Oe[ze]+Ie);continue}de.push(_e[ze])}else{let qe=Oe[Ne-1]+_e[Ne-1].length-Ue;de.push(balanceRange(g,_e,Oe,ze,Ne,Ue,qe,null,ae))}pe.push(Ue+Ie-V)}}return he(n,r,$,L,0),(re||ae)(de,pe,oe)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(n,r,$){let L=this.map.get(n);L||this.map.set(n,L=new Map),L.set(r,$)}getBuffer(n,r){let $=this.map.get(n);return $&&$.get(r)}set(n,r){n instanceof BufferNode?this.setBuffer(n.context.buffer,n.index,r):n instanceof TreeNode&&this.map.set(n.tree,r)}get(n){return n instanceof BufferNode?this.getBuffer(n.context.buffer,n.index):n instanceof TreeNode?this.map.get(n.tree):void 0}cursorSet(n,r){n.buffer?this.setBuffer(n.buffer.buffer,n.index,r):this.map.set(n.tree,r)}cursorGet(n){return n.buffer?this.getBuffer(n.buffer.buffer,n.index):this.map.get(n.tree)}}class TreeFragment{constructor(n,r,$,L,V=!1,oe=!1){this.from=n,this.to=r,this.tree=$,this.offset=L,this.open=(V?1:0)|(oe?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(n,r=[],$=!1){let L=[new TreeFragment(0,n.length,n,0,!1,$)];for(let V of r)V.to>n.length&&L.push(V);return L}static applyChanges(n,r,$=128){if(!r.length)return n;let L=[],V=1,oe=n.length?n[0]:null;for(let re=0,ae=0,le=0;;re++){let ue=re<r.length?r[re]:null,de=ue?ue.fromA:1e9;if(de-ae>=$)for(;oe&&oe.from<de;){let pe=oe;if(ae>=pe.from||de<=pe.to||le){let he=Math.max(pe.from,ae)-le,_e=Math.min(pe.to,de)-le;pe=he>=_e?null:new TreeFragment(he,_e,pe.tree,pe.offset+le,re>0,!!ue)}if(pe&&L.push(pe),oe.to>de)break;oe=V<n.length?n[V++]:null}if(!ue)break;ae=ue.toA,le=ue.toA-ue.toB}return L}}class Parser{startParse(n,r,$){return typeof n=="string"&&(n=new StringInput(n)),$=$?$.length?$.map(L=>new Range(L.from,L.to)):[new Range(0,0)]:[new Range(0,n.length)],this.createParse(n,r||[],$)}parse(n,r,$){let L=this.startParse(n,r,$);for(;;){let V=L.advance();if(V)return V}}}class StringInput{constructor(n){this.string=n}get length(){return this.string.length}chunk(n){return this.string.slice(n)}get lineChunks(){return!1}read(n,r){return this.string.slice(n,r)}}function parseMixed(g){return(n,r,$,L)=>new MixedParse(n,g,r,$,L)}class InnerParse{constructor(n,r,$,L,V){this.parser=n,this.parse=r,this.overlay=$,this.target=L,this.ranges=V}}class ActiveOverlay{constructor(n,r,$,L,V,oe,re){this.parser=n,this.predicate=r,this.mounts=$,this.index=L,this.start=V,this.target=oe,this.prev=re,this.depth=0,this.ranges=[]}}const stoppedInner=new NodeProp({perNode:!0});class MixedParse{constructor(n,r,$,L,V){this.nest=r,this.input=$,this.fragments=L,this.ranges=V,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=n}advance(){if(this.baseParse){let $=this.baseParse.advance();if(!$)return null;if(this.baseParse=null,this.baseTree=$,this.startInner(),this.stoppedAt!=null)for(let L of this.inner)L.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let $=this.baseTree;return this.stoppedAt!=null&&($=new Tree($.type,$.children,$.positions,$.length,$.propValues.concat([[stoppedInner,this.stoppedAt]]))),$}let n=this.inner[this.innerDone],r=n.parse.advance();if(r){this.innerDone++;let $=Object.assign(Object.create(null),n.target.props);$[NodeProp.mounted.id]=new MountedTree(r,n.overlay,n.parser),n.target.props=$}return null}get parsedPos(){if(this.baseParse)return 0;let n=this.input.length;for(let r=this.innerDone;r<this.inner.length;r++)this.inner[r].ranges[0].from<n&&(n=Math.min(n,this.inner[r].parse.parsedPos));return n}stopAt(n){if(this.stoppedAt=n,this.baseParse)this.baseParse.stopAt(n);else for(let r=this.innerDone;r<this.inner.length;r++)this.inner[r].parse.stopAt(n)}startInner(){let n=new FragmentCursor$1(this.fragments),r=null,$=null,L=new TreeCursor(new TreeNode(this.baseTree,this.ranges[0].from,0,null),IterMode.IncludeAnonymous|IterMode.IgnoreMounts);e:for(let V,oe;this.stoppedAt==null||L.from<this.stoppedAt;){let re=!0,ae;if(n.hasNode(L)){if(r){let le=r.mounts.find(ue=>ue.frag.from<=L.from&&ue.frag.to>=L.to&&ue.mount.overlay);if(le)for(let ue of le.mount.overlay){let de=ue.from+le.pos,pe=ue.to+le.pos;de>=L.from&&pe<=L.to&&!r.ranges.some(he=>he.from<pe&&he.to>de)&&r.ranges.push({from:de,to:pe})}}re=!1}else if($&&(oe=checkCover($.ranges,L.from,L.to)))re=oe!=2;else if(!L.type.isAnonymous&&L.from<L.to&&(V=this.nest(L,this.input))){L.tree||materialize(L);let le=n.findMounts(L.from,V.parser);if(typeof V.overlay=="function")r=new ActiveOverlay(V.parser,V.overlay,le,this.inner.length,L.from,L.tree,r);else{let ue=punchRanges(this.ranges,V.overlay||[new Range(L.from,L.to)]);ue.length&&this.inner.push(new InnerParse(V.parser,V.parser.startParse(this.input,enterFragments(le,ue),ue),V.overlay?V.overlay.map(de=>new Range(de.from-L.from,de.to-L.from)):null,L.tree,ue)),V.overlay?ue.length&&($={ranges:ue,depth:0,prev:$}):re=!1}}else r&&(ae=r.predicate(L))&&(ae===!0&&(ae=new Range(L.from,L.to)),ae.from<ae.to&&r.ranges.push(ae));if(re&&L.firstChild())r&&r.depth++,$&&$.depth++;else for(;!L.nextSibling();){if(!L.parent())break e;if(r&&!--r.depth){let le=punchRanges(this.ranges,r.ranges);le.length&&this.inner.splice(r.index,0,new InnerParse(r.parser,r.parser.startParse(this.input,enterFragments(r.mounts,le),le),r.ranges.map(ue=>new Range(ue.from-r.start,ue.to-r.start)),r.target,le)),r=r.prev}$&&!--$.depth&&($=$.prev)}}}}function checkCover(g,n,r){for(let $ of g){if($.from>=r)break;if($.to>n)return $.from<=n&&$.to>=r?2:1}return 0}function sliceBuf(g,n,r,$,L,V){if(n<r){let oe=g.buffer[n+1];$.push(g.slice(n,r,oe)),L.push(oe-V)}}function materialize(g){let{node:n}=g,r=0;do g.parent(),r++;while(!g.tree);let $=0,L=g.tree,V=0;for(;V=L.positions[$]+g.from,!(V<=n.from&&V+L.children[$].length>=n.to);$++);let oe=L.children[$],re=oe.buffer;function ae(le,ue,de,pe,he){let _e=le;for(;re[_e+2]+V<=n.from;)_e=re[_e+3];let Oe=[],xe=[];sliceBuf(oe,le,_e,Oe,xe,pe);let $e=re[_e+1],Ie=re[_e+2],Ne=$e+V==n.from&&Ie+V==n.to&&re[_e]==n.type.id;return Oe.push(Ne?n.toTree():ae(_e+4,re[_e+3],oe.set.types[re[_e]],$e,Ie-$e)),xe.push($e-pe),sliceBuf(oe,re[_e+3],ue,Oe,xe,pe),new Tree(de,Oe,xe,he)}L.children[$]=ae(0,re.length,NodeType.none,0,oe.length);for(let le=0;le<=r;le++)g.childAfter(n.from)}class StructureCursor{constructor(n,r){this.offset=r,this.done=!1,this.cursor=n.cursor(IterMode.IncludeAnonymous|IterMode.IgnoreMounts)}moveTo(n){let{cursor:r}=this,$=n-this.offset;for(;!this.done&&r.from<$;)r.to>=n&&r.enter($,1,IterMode.IgnoreOverlays|IterMode.ExcludeBuffers)||r.next(!1)||(this.done=!0)}hasNode(n){if(this.moveTo(n.from),!this.done&&this.cursor.from+this.offset==n.from&&this.cursor.tree)for(let r=this.cursor.tree;;){if(r==n.tree)return!0;if(r.children.length&&r.positions[0]==0&&r.children[0]instanceof Tree)r=r.children[0];else break}return!1}}class FragmentCursor$1{constructor(n){var r;if(this.fragments=n,this.curTo=0,this.fragI=0,n.length){let $=this.curFrag=n[0];this.curTo=(r=$.tree.prop(stoppedInner))!==null&&r!==void 0?r:$.to,this.inner=new StructureCursor($.tree,-$.offset)}else this.curFrag=this.inner=null}hasNode(n){for(;this.curFrag&&n.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=n.from&&this.curTo>=n.to&&this.inner.hasNode(n)}nextFrag(){var n;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let r=this.curFrag=this.fragments[this.fragI];this.curTo=(n=r.tree.prop(stoppedInner))!==null&&n!==void 0?n:r.to,this.inner=new StructureCursor(r.tree,-r.offset)}}findMounts(n,r){var $;let L=[];if(this.inner){this.inner.cursor.moveTo(n,1);for(let V=this.inner.cursor.node;V;V=V.parent){let oe=($=V.tree)===null||$===void 0?void 0:$.prop(NodeProp.mounted);if(oe&&oe.parser==r)for(let re=this.fragI;re<this.fragments.length;re++){let ae=this.fragments[re];if(ae.from>=V.to)break;ae.tree==this.curFrag.tree&&L.push({frag:ae,pos:V.from-ae.offset,mount:oe})}}}return L}}function punchRanges(g,n){let r=null,$=n;for(let L=1,V=0;L<g.length;L++){let oe=g[L-1].to,re=g[L].from;for(;V<$.length;V++){let ae=$[V];if(ae.from>=re)break;ae.to<=oe||(r||($=r=n.slice()),ae.from<oe?(r[V]=new Range(ae.from,oe),ae.to>re&&r.splice(V+1,0,new Range(re,ae.to))):ae.to>re?r[V--]=new Range(re,ae.to):r.splice(V--,1))}}return $}function findCoverChanges(g,n,r,$){let L=0,V=0,oe=!1,re=!1,ae=-1e9,le=[];for(;;){let ue=L==g.length?1e9:oe?g[L].to:g[L].from,de=V==n.length?1e9:re?n[V].to:n[V].from;if(oe!=re){let pe=Math.max(ae,r),he=Math.min(ue,de,$);pe<he&&le.push(new Range(pe,he))}if(ae=Math.min(ue,de),ae==1e9)break;ue==ae&&(oe?(oe=!1,L++):oe=!0),de==ae&&(re?(re=!1,V++):re=!0)}return le}function enterFragments(g,n){let r=[];for(let{pos:$,mount:L,frag:V}of g){let oe=$+(L.overlay?L.overlay[0].from:0),re=oe+L.tree.length,ae=Math.max(V.from,oe),le=Math.min(V.to,re);if(L.overlay){let ue=L.overlay.map(pe=>new Range(pe.from+$,pe.to+$)),de=findCoverChanges(n,ue,ae,le);for(let pe=0,he=ae;;pe++){let _e=pe==de.length,Oe=_e?le:de[pe].from;if(Oe>he&&r.push(new TreeFragment(he,Oe,L.tree,-oe,V.from>=he||V.openStart,V.to<=Oe||V.openEnd)),_e)break;he=de[pe].to}}else r.push(new TreeFragment(ae,le,L.tree,-oe,V.from>=oe||V.openStart,V.to<=re||V.openEnd))}return r}let nextTagID=0;class Tag$1{constructor(n,r,$){this.set=n,this.base=r,this.modified=$,this.id=nextTagID++}static define(n){if(n!=null&&n.base)throw new Error("Can not derive from a modified tag");let r=new Tag$1([],null,[]);if(r.set.push(r),n)for(let $ of n.set)r.set.push($);return r}static defineModifier(){let n=new Modifier;return r=>r.modified.indexOf(n)>-1?r:Modifier.get(r.base||r,r.modified.concat(n).sort(($,L)=>$.id-L.id))}}let nextModifierID=0;class Modifier{constructor(){this.instances=[],this.id=nextModifierID++}static get(n,r){if(!r.length)return n;let $=r[0].instances.find(re=>re.base==n&&sameArray(r,re.modified));if($)return $;let L=[],V=new Tag$1(L,n,r);for(let re of r)re.instances.push(V);let oe=powerSet(r);for(let re of n.set)if(!re.modified.length)for(let ae of oe)L.push(Modifier.get(re,ae));return V}}function sameArray(g,n){return g.length==n.length&&g.every((r,$)=>r==n[$])}function powerSet(g){let n=[[]];for(let r=0;r<g.length;r++)for(let $=0,L=n.length;$<L;$++)n.push(n[$].concat(g[r]));return n.sort((r,$)=>$.length-r.length)}function styleTags(g){let n=Object.create(null);for(let r in g){let $=g[r];Array.isArray($)||($=[$]);for(let L of r.split(" "))if(L){let V=[],oe=2,re=L;for(let de=0;;){if(re=="..."&&de>0&&de+3==L.length){oe=1;break}let pe=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(re);if(!pe)throw new RangeError("Invalid path: "+L);if(V.push(pe[0]=="*"?"":pe[0][0]=='"'?JSON.parse(pe[0]):pe[0]),de+=pe[0].length,de==L.length)break;let he=L[de++];if(de==L.length&&he=="!"){oe=0;break}if(he!="/")throw new RangeError("Invalid path: "+L);re=L.slice(de)}let ae=V.length-1,le=V[ae];if(!le)throw new RangeError("Invalid path: "+L);let ue=new Rule($,oe,ae>0?V.slice(0,ae):null);n[le]=ue.sort(n[le])}}return ruleNodeProp.add(n)}const ruleNodeProp=new NodeProp;class Rule{constructor(n,r,$,L){this.tags=n,this.mode=r,this.context=$,this.next=L}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(n){return!n||n.depth<this.depth?(this.next=n,this):(n.next=this.sort(n.next),n)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(g,n){let r=Object.create(null);for(let V of g)if(!Array.isArray(V.tag))r[V.tag.id]=V.class;else for(let oe of V.tag)r[oe.id]=V.class;let{scope:$,all:L=null}=n||{};return{style:V=>{let oe=L;for(let re of V)for(let ae of re.set){let le=r[ae.id];if(le){oe=oe?oe+" "+le:le;break}}return oe},scope:$}}function highlightTags(g,n){let r=null;for(let $ of g){let L=$.style(n);L&&(r=r?r+" "+L:L)}return r}function highlightTree(g,n,r,$=0,L=g.length){let V=new HighlightBuilder($,Array.isArray(n)?n:[n],r);V.highlightRange(g.cursor(),$,L,"",V.highlighters),V.flush(L)}class HighlightBuilder{constructor(n,r,$){this.at=n,this.highlighters=r,this.span=$,this.class=""}startSpan(n,r){r!=this.class&&(this.flush(n),n>this.at&&(this.at=n),this.class=r)}flush(n){n>this.at&&this.class&&this.span(this.at,n,this.class)}highlightRange(n,r,$,L,V){let{type:oe,from:re,to:ae}=n;if(re>=$||ae<=r)return;oe.isTop&&(V=this.highlighters.filter(he=>!he.scope||he.scope(oe)));let le=L,ue=getStyleTags(n)||Rule.empty,de=highlightTags(V,ue.tags);if(de&&(le&&(le+=" "),le+=de,ue.mode==1&&(L+=(L?" ":"")+de)),this.startSpan(n.from,le),ue.opaque)return;let pe=n.tree&&n.tree.prop(NodeProp.mounted);if(pe&&pe.overlay){let he=n.node.enter(pe.overlay[0].from+re,1),_e=this.highlighters.filter(xe=>!xe.scope||xe.scope(pe.tree.type)),Oe=n.firstChild();for(let xe=0,$e=re;;xe++){let Ie=xe<pe.overlay.length?pe.overlay[xe]:null,Ne=Ie?Ie.from+re:ae,ze=Math.max(r,$e),Ue=Math.min($,Ne);if(ze<Ue&&Oe)for(;n.from<Ue&&(this.highlightRange(n,ze,Ue,L,V),this.startSpan(Math.min(Ue,n.to),le),!(n.to>=Ne||!n.nextSibling())););if(!Ie||Ne>$)break;$e=Ie.to+re,$e>r&&(this.highlightRange(he.cursor(),Math.max(r,Ie.from+re),Math.min($,$e),L,_e),this.startSpan($e,le))}Oe&&n.parent()}else if(n.firstChild()){do if(!(n.to<=r)){if(n.from>=$)break;this.highlightRange(n,r,$,L,V),this.startSpan(Math.min($,n.to),le)}while(n.nextSibling());n.parent()}}}function getStyleTags(g){let n=g.type.prop(ruleNodeProp);for(;n&&n.context&&!g.matchContext(n.context);)n=n.next;return n||null}const t=Tag$1.define,comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string$1=t(literal),number$1=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags$1={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name,variableName:t(name),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal,string:string$1,docString:t(string$1),character:t(string$1),attributeValue:t(string$1),number:number$1,integer:t(number$1),float:t(number$1),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag$1.defineModifier(),constant:Tag$1.defineModifier(),function:Tag$1.defineModifier(),standard:Tag$1.defineModifier(),local:Tag$1.defineModifier(),special:Tag$1.defineModifier()};tagHighlighter([{tag:tags$1.link,class:"tok-link"},{tag:tags$1.heading,class:"tok-heading"},{tag:tags$1.emphasis,class:"tok-emphasis"},{tag:tags$1.strong,class:"tok-strong"},{tag:tags$1.keyword,class:"tok-keyword"},{tag:tags$1.atom,class:"tok-atom"},{tag:tags$1.bool,class:"tok-bool"},{tag:tags$1.url,class:"tok-url"},{tag:tags$1.labelName,class:"tok-labelName"},{tag:tags$1.inserted,class:"tok-inserted"},{tag:tags$1.deleted,class:"tok-deleted"},{tag:tags$1.literal,class:"tok-literal"},{tag:tags$1.string,class:"tok-string"},{tag:tags$1.number,class:"tok-number"},{tag:[tags$1.regexp,tags$1.escape,tags$1.special(tags$1.string)],class:"tok-string2"},{tag:tags$1.variableName,class:"tok-variableName"},{tag:tags$1.local(tags$1.variableName),class:"tok-variableName tok-local"},{tag:tags$1.definition(tags$1.variableName),class:"tok-variableName tok-definition"},{tag:tags$1.special(tags$1.variableName),class:"tok-variableName2"},{tag:tags$1.definition(tags$1.propertyName),class:"tok-propertyName tok-definition"},{tag:tags$1.typeName,class:"tok-typeName"},{tag:tags$1.namespace,class:"tok-namespace"},{tag:tags$1.className,class:"tok-className"},{tag:tags$1.macroName,class:"tok-macroName"},{tag:tags$1.propertyName,class:"tok-propertyName"},{tag:tags$1.operator,class:"tok-operator"},{tag:tags$1.comment,class:"tok-comment"},{tag:tags$1.meta,class:"tok-meta"},{tag:tags$1.invalid,class:"tok-invalid"},{tag:tags$1.punctuation,class:"tok-punctuation"}]);var _a$1;const languageDataProp=new NodeProp;function defineLanguageFacet(g){return Facet.define({combine:g?n=>n.concat(g):void 0})}const sublanguageProp=new NodeProp;class Language{constructor(n,r,$=[],L=""){this.data=n,this.name=L,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=r,this.extension=[language.of(this),EditorState.languageData.of((V,oe,re)=>{let ae=topNodeAt(V,oe,re),le=ae.type.prop(languageDataProp);if(!le)return[];let ue=V.facet(le),de=ae.type.prop(sublanguageProp);if(de){let pe=ae.resolve(oe-ae.from,re);for(let he of de)if(he.test(pe,V)){let _e=V.facet(he.facet);return he.type=="replace"?_e:_e.concat(ue)}}return ue})].concat($)}isActiveAt(n,r,$=-1){return topNodeAt(n,r,$).type.prop(languageDataProp)==this.data}findRegions(n){let r=n.facet(language);if((r==null?void 0:r.data)==this.data)return[{from:0,to:n.doc.length}];if(!r||!r.allowsNesting)return[];let $=[],L=(V,oe)=>{if(V.prop(languageDataProp)==this.data){$.push({from:oe,to:oe+V.length});return}let re=V.prop(NodeProp.mounted);if(re){if(re.tree.prop(languageDataProp)==this.data){if(re.overlay)for(let ae of re.overlay)$.push({from:ae.from+oe,to:ae.to+oe});else $.push({from:oe,to:oe+V.length});return}else if(re.overlay){let ae=$.length;if(L(re.tree,re.overlay[0].from+oe),$.length>ae)return}}for(let ae=0;ae<V.children.length;ae++){let le=V.children[ae];le instanceof Tree&&L(le,V.positions[ae]+oe)}};return L(syntaxTree(n),0),$}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(g,n,r){let $=g.facet(language),L=syntaxTree(g).topNode;if(!$||$.allowsNesting)for(let V=L;V;V=V.enter(n,r,IterMode.ExcludeBuffers))V.type.isTop&&(L=V);return L}class LRLanguage extends Language{constructor(n,r,$){super(n,r,[],$),this.parser=r}static define(n){let r=defineLanguageFacet(n.languageData);return new LRLanguage(r,n.parser.configure({props:[languageDataProp.add($=>$.isTop?r:void 0)]}),n.name)}configure(n,r){return new LRLanguage(this.data,this.parser.configure(n),r||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(g){let n=g.field(Language.state,!1);return n?n.tree:Tree.empty}class DocInput{constructor(n){this.doc=n,this.cursorPos=0,this.string="",this.cursor=n.iter()}get length(){return this.doc.length}syncTo(n){return this.string=this.cursor.next(n-this.cursorPos).value,this.cursorPos=n+this.string.length,this.cursorPos-this.string.length}chunk(n){return this.syncTo(n),this.string}get lineChunks(){return!0}read(n,r){let $=this.cursorPos-this.string.length;return n<$||r>=this.cursorPos?this.doc.sliceString(n,r):this.string.slice(n-$,r-$)}}let currentContext=null;class ParseContext{constructor(n,r,$=[],L,V,oe,re,ae){this.parser=n,this.state=r,this.fragments=$,this.tree=L,this.treeLen=V,this.viewport=oe,this.skipped=re,this.scheduleOn=ae,this.parse=null,this.tempSkipped=[]}static create(n,r,$){return new ParseContext(n,r,[],Tree.empty,0,$,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(n,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=Tree.empty&&this.isDone(r!=null?r:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var $;if(typeof n=="number"){let L=Date.now()+n;n=()=>Date.now()>L}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let L=this.parse.advance();if(L)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(L,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=($=this.parse.stoppedAt)!==null&&$!==void 0?$:this.state.doc.length,this.tree=L,this.parse=null,this.treeLen<(r!=null?r:this.state.doc.length))this.parse=this.startParse();else return!0;if(n())return!1}})}takeTree(){let n,r;this.parse&&(n=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&this.parse.stopAt(n),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=n,this.tree=r,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(n){let r=currentContext;currentContext=this;try{return n()}finally{currentContext=r}}withoutTempSkipped(n){for(let r;r=this.tempSkipped.pop();)n=cutFragments(n,r.from,r.to);return n}changes(n,r){let{fragments:$,tree:L,treeLen:V,viewport:oe,skipped:re}=this;if(this.takeTree(),!n.empty){let ae=[];if(n.iterChangedRanges((le,ue,de,pe)=>ae.push({fromA:le,toA:ue,fromB:de,toB:pe})),$=TreeFragment.applyChanges($,ae),L=Tree.empty,V=0,oe={from:n.mapPos(oe.from,-1),to:n.mapPos(oe.to,1)},this.skipped.length){re=[];for(let le of this.skipped){let ue=n.mapPos(le.from,1),de=n.mapPos(le.to,-1);ue<de&&re.push({from:ue,to:de})}}}return new ParseContext(this.parser,r,$,L,V,oe,re,this.scheduleOn)}updateViewport(n){if(this.viewport.from==n.from&&this.viewport.to==n.to)return!1;this.viewport=n;let r=this.skipped.length;for(let $=0;$<this.skipped.length;$++){let{from:L,to:V}=this.skipped[$];L<n.to&&V>n.from&&(this.fragments=cutFragments(this.fragments,L,V),this.skipped.splice($--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(n,r){this.skipped.push({from:n,to:r})}static getSkippingParser(n){return new class extends Parser{createParse(r,$,L){let V=L[0].from,oe=L[L.length-1].to;return{parsedPos:V,advance(){let re=currentContext;if(re){for(let ae of L)re.tempSkipped.push(ae);n&&(re.scheduleOn=re.scheduleOn?Promise.all([re.scheduleOn,n]):n)}return this.parsedPos=oe,new Tree(NodeType.none,[],[],oe-V)},stoppedAt:null,stopAt(){}}}}}isDone(n){n=Math.min(n,this.state.doc.length);let r=this.fragments;return this.treeLen>=n&&r.length&&r[0].from==0&&r[0].to>=n}static get(){return currentContext}}function cutFragments(g,n,r){return TreeFragment.applyChanges(g,[{fromA:n,toA:r,fromB:n,toB:r}])}class LanguageState{constructor(n){this.context=n,this.tree=n.tree}apply(n){if(!n.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(n.changes,n.state),$=this.context.treeLen==n.startState.doc.length?void 0:Math.max(n.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,$)||r.takeTree(),new LanguageState(r)}static init(n){let r=Math.min(3e3,n.doc.length),$=ParseContext.create(n.facet(language).parser,n,{from:0,to:r});return $.work(20,r)||$.takeTree(),new LanguageState($)}}Language.state=StateField.define({create:LanguageState.init,update(g,n){for(let r of n.effects)if(r.is(Language.setState))return r.value;return n.startState.facet(language)!=n.state.facet(language)?LanguageState.init(n.state):g.apply(n)}});let requestIdle=g=>{let n=setTimeout(()=>g(),500);return()=>clearTimeout(n)};typeof requestIdleCallback<"u"&&(requestIdle=g=>{let n=-1,r=setTimeout(()=>{n=requestIdleCallback(g,{timeout:500-100})},100);return()=>n<0?clearTimeout(r):cancelIdleCallback(n)});const isInputPending=typeof navigator<"u"&&((_a$1=navigator.scheduling)===null||_a$1===void 0?void 0:_a$1.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(g){this.view=g,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(g){let n=this.view.state.field(Language.state).context;(n.updateViewport(g.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),g.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:g}=this.view,n=g.field(Language.state);(n.tree!=n.context.tree||!n.context.isDone(g.doc.length))&&(this.working=requestIdle(this.work))}work(g){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:$}}=this.view,L=r.field(Language.state);if(L.tree==L.context.tree&&L.context.isDone($+1e5))return;let V=Date.now()+Math.min(this.chunkBudget,100,g&&!isInputPending?Math.max(25,g.timeRemaining()-5):1e9),oe=L.context.treeLen<$&&r.doc.length>$+1e3,re=L.context.work(()=>isInputPending&&isInputPending()||Date.now()>V,$+(oe?0:1e5));this.chunkBudget-=Date.now()-n,(re||this.chunkBudget<=0)&&(L.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(L.context))})),this.chunkBudget>0&&!(re&&!oe)&&this.scheduleWork(),this.checkAsyncSchedule(L.context)}checkAsyncSchedule(g){g.scheduleOn&&(this.workScheduled++,g.scheduleOn.then(()=>this.scheduleWork()).catch(n=>logException(this.view.state,n)).then(()=>this.workScheduled--),g.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(g){return g.length?g[0]:null},enables:g=>[Language.state,parseWorker,EditorView.contentAttributes.compute([g],n=>{let r=n.facet(g);return r&&r.name?{"data-language":r.name}:{}})]});class LanguageSupport{constructor(n,r=[]){this.language=n,this.support=r,this.extension=[n,r]}}const indentService=Facet.define(),indentUnit=Facet.define({combine:g=>{if(!g.length)return"  ";let n=g[0];if(!n||/\S/.test(n)||Array.from(n).some(r=>r!=n[0]))throw new Error("Invalid indent unit: "+JSON.stringify(g[0]));return n}});function getIndentUnit(g){let n=g.facet(indentUnit);return n.charCodeAt(0)==9?g.tabSize*n.length:n.length}function indentString(g,n){let r="",$=g.tabSize,L=g.facet(indentUnit)[0];if(L=="	"){for(;n>=$;)r+="	",n-=$;L=" "}for(let V=0;V<n;V++)r+=L;return r}function getIndentation(g,n){g instanceof EditorState&&(g=new IndentContext(g));for(let $ of g.state.facet(indentService)){let L=$(g,n);if(L!==void 0)return L}let r=syntaxTree(g.state);return r?syntaxIndentation(g,r,n):null}class IndentContext{constructor(n,r={}){this.state=n,this.options=r,this.unit=getIndentUnit(n)}lineAt(n,r=1){let $=this.state.doc.lineAt(n),{simulateBreak:L,simulateDoubleBreak:V}=this.options;return L!=null&&L>=$.from&&L<=$.to?V&&L==n?{text:"",from:n}:(r<0?L<n:L<=n)?{text:$.text.slice(L-$.from),from:L}:{text:$.text.slice(0,L-$.from),from:$.from}:$}textAfterPos(n,r=1){if(this.options.simulateDoubleBreak&&n==this.options.simulateBreak)return"";let{text:$,from:L}=this.lineAt(n,r);return $.slice(n-L,Math.min($.length,n+100-L))}column(n,r=1){let{text:$,from:L}=this.lineAt(n,r),V=this.countColumn($,n-L),oe=this.options.overrideIndentation?this.options.overrideIndentation(L):-1;return oe>-1&&(V+=oe-this.countColumn($,$.search(/\S|$/))),V}countColumn(n,r=n.length){return countColumn(n,this.state.tabSize,r)}lineIndent(n,r=1){let{text:$,from:L}=this.lineAt(n,r),V=this.options.overrideIndentation;if(V){let oe=V(L);if(oe>-1)return oe}return this.countColumn($,$.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(g,n,r){return indentFrom(n.resolveInner(r).enterUnfinishedNodesBefore(r),r,g)}function ignoreClosed(g){return g.pos==g.options.simulateBreak&&g.options.simulateDoubleBreak}function indentStrategy(g){let n=g.type.prop(indentNodeProp);if(n)return n;let r=g.firstChild,$;if(r&&($=r.type.prop(NodeProp.closedBy))){let L=g.lastChild,V=L&&$.indexOf(L.name)>-1;return oe=>delimitedStrategy(oe,!0,1,void 0,V&&!ignoreClosed(oe)?L.from:void 0)}return g.parent==null?topIndent:null}function indentFrom(g,n,r){for(;g;g=g.parent){let $=indentStrategy(g);if($)return $(TreeIndentContext.create(r,n,g))}return null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(n,r,$){super(n.state,n.options),this.base=n,this.pos=r,this.node=$}static create(n,r,$){return new TreeIndentContext(n,r,$)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let n=this.state.doc.lineAt(this.node.from);for(;;){let r=this.node.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(isParent(r,this.node))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){let n=this.node.parent;return n?indentFrom(n,this.pos,this.base):0}}function isParent(g,n){for(let r=n;r;r=r.parent)if(g==r)return!0;return!1}function bracketedAligned(g){let n=g.node,r=n.childAfter(n.from),$=n.lastChild;if(!r)return null;let L=g.options.simulateBreak,V=g.state.doc.lineAt(r.from),oe=L==null||L<=V.from?V.to:Math.min(V.to,L);for(let re=r.to;;){let ae=n.childAfter(re);if(!ae||ae==$)return null;if(!ae.type.isSkipped)return ae.from<oe?r:null;re=ae.to}}function delimitedIndent({closing:g,align:n=!0,units:r=1}){return $=>delimitedStrategy($,n,r,g)}function delimitedStrategy(g,n,r,$,L){let V=g.textAfter,oe=V.match(/^\s*/)[0].length,re=$&&V.slice(oe,oe+$.length)==$||L==g.pos+oe,ae=n?bracketedAligned(g):null;return ae?re?g.column(ae.from):g.column(ae.to):g.baseIndent+(re?0:g.unit*r)}const flatIndent=g=>g.baseIndent;function continuedIndent({except:g,units:n=1}={}){return r=>{let $=g&&g.test(r.textAfter);return r.baseIndent+($?0:n*r.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(g=>{if(!g.docChanged||!g.isUserEvent("input.type")&&!g.isUserEvent("input.complete"))return g;let n=g.startState.languageDataAt("indentOnInput",g.startState.selection.main.head);if(!n.length)return g;let r=g.newDoc,{head:$}=g.newSelection.main,L=r.lineAt($);if($>L.from+DontIndentBeyond)return g;let V=r.sliceString(L.from,$);if(!n.some(le=>le.test(V)))return g;let{state:oe}=g,re=-1,ae=[];for(let{head:le}of oe.selection.ranges){let ue=oe.doc.lineAt(le);if(ue.from==re)continue;re=ue.from;let de=getIndentation(oe,ue.from);if(de==null)continue;let pe=/^\s*/.exec(ue.text)[0],he=indentString(oe,de);pe!=he&&ae.push({from:ue.from,to:ue.from+pe.length,insert:he})}return ae.length?[g,{changes:ae,sequential:!0}]:g})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(g){let n=g.firstChild,r=g.lastChild;return n&&n.to<r.from?{from:n.to,to:r.type.isError?g.to:r.from}:null}function syntaxFolding(g,n,r){let $=syntaxTree(g);if($.length<r)return null;let L=$.resolveInner(r,1),V=null;for(let oe=L;oe;oe=oe.parent){if(oe.to<=r||oe.from>r)continue;if(V&&oe.from<n)break;let re=oe.type.prop(foldNodeProp);if(re&&(oe.to<$.length-50||$.length==g.doc.length||!isUnfinished(oe))){let ae=re(oe,g);ae&&ae.from<=r&&ae.from>=n&&ae.to>r&&(V=ae)}}return V}function isUnfinished(g){let n=g.lastChild;return n&&n.to==g.to&&n.type.isError}function foldable(g,n,r){for(let $ of g.facet(foldService)){let L=$(g,n,r);if(L)return L}return syntaxFolding(g,n,r)}function mapRange(g,n){let r=n.mapPos(g.from,1),$=n.mapPos(g.to,-1);return r>=$?void 0:{from:r,to:$}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(g){let n=[];for(let{head:r}of g.state.selection.ranges)n.some($=>$.from<=r&&$.to>=r)||n.push(g.lineBlockAt(r));return n}const foldState=StateField.define({create(){return Decoration.none},update(g,n){g=g.map(n.changes);for(let r of n.effects)r.is(foldEffect)&&!foldExists(g,r.value.from,r.value.to)?g=g.update({add:[foldWidget.range(r.value.from,r.value.to)]}):r.is(unfoldEffect)&&(g=g.update({filter:($,L)=>r.value.from!=$||r.value.to!=L,filterFrom:r.value.from,filterTo:r.value.to}));if(n.selection){let r=!1,{head:$}=n.selection.main;g.between($,$,(L,V)=>{L<$&&V>$&&(r=!0)}),r&&(g=g.update({filterFrom:$,filterTo:$,filter:(L,V)=>V<=$||L>=$}))}return g},provide:g=>EditorView.decorations.from(g),toJSON(g,n){let r=[];return g.between(0,n.doc.length,($,L)=>{r.push($,L)}),r},fromJSON(g){if(!Array.isArray(g)||g.length%2)throw new RangeError("Invalid JSON for fold state");let n=[];for(let r=0;r<g.length;){let $=g[r++],L=g[r++];if(typeof $!="number"||typeof L!="number")throw new RangeError("Invalid JSON for fold state");n.push(foldWidget.range($,L))}return Decoration.set(n,!0)}});function findFold(g,n,r){var $;let L=null;return($=g.field(foldState,!1))===null||$===void 0||$.between(n,r,(V,oe)=>{(!L||L.from>V)&&(L={from:V,to:oe})}),L}function foldExists(g,n,r){let $=!1;return g.between(n,n,(L,V)=>{L==n&&V==r&&($=!0)}),$}function maybeEnable(g,n){return g.field(foldState,!1)?n:n.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=g=>{for(let n of selectedLines(g)){let r=foldable(g.state,n.from,n.to);if(r)return g.dispatch({effects:maybeEnable(g.state,[foldEffect.of(r),announceFold(g,r)])}),!0}return!1},unfoldCode=g=>{if(!g.state.field(foldState,!1))return!1;let n=[];for(let r of selectedLines(g)){let $=findFold(g.state,r.from,r.to);$&&n.push(unfoldEffect.of($),announceFold(g,$,!1))}return n.length&&g.dispatch({effects:n}),n.length>0};function announceFold(g,n,r=!0){let $=g.state.doc.lineAt(n.from).number,L=g.state.doc.lineAt(n.to).number;return EditorView.announce.of(`${g.state.phrase(r?"Folded lines":"Unfolded lines")} ${$} ${g.state.phrase("to")} ${L}.`)}const foldAll=g=>{let{state:n}=g,r=[];for(let $=0;$<n.doc.length;){let L=g.lineBlockAt($),V=foldable(n,L.from,L.to);V&&r.push(foldEffect.of(V)),$=(V?g.lineBlockAt(V.to):L).to+1}return r.length&&g.dispatch({effects:maybeEnable(g.state,r)}),!!r.length},unfoldAll=g=>{let n=g.state.field(foldState,!1);if(!n||!n.size)return!1;let r=[];return n.between(0,g.state.doc.length,($,L)=>{r.push(unfoldEffect.of({from:$,to:L}))}),g.dispatch({effects:r}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,placeholderText:"\u2026"},foldConfig=Facet.define({combine(g){return combineConfig(g,defaultConfig)}});function codeFolding(g){let n=[foldState,baseTheme$1$2];return g&&n.push(foldConfig.of(g)),n}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(g){let{state:n}=g,r=n.facet(foldConfig),$=V=>{let oe=g.lineBlockAt(g.posAtDOM(V.target)),re=findFold(g.state,oe.from,oe.to);re&&g.dispatch({effects:unfoldEffect.of(re)}),V.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(g,$);let L=document.createElement("span");return L.textContent=r.placeholderText,L.setAttribute("aria-label",n.phrase("folded code")),L.title=n.phrase("unfold"),L.className="cm-foldPlaceholder",L.onclick=$,L}}}),foldGutterDefaults={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(n,r){super(),this.config=n,this.open=r}eq(n){return this.config==n.config&&this.open==n.open}toDOM(n){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=n.state.phrase(this.open?"Fold line":"Unfold line"),r}}function foldGutter(g={}){let n=Object.assign(Object.assign({},foldGutterDefaults),g),r=new FoldMarker(n,!0),$=new FoldMarker(n,!1),L=ViewPlugin.fromClass(class{constructor(oe){this.from=oe.viewport.from,this.markers=this.buildMarkers(oe)}update(oe){(oe.docChanged||oe.viewportChanged||oe.startState.facet(language)!=oe.state.facet(language)||oe.startState.field(foldState,!1)!=oe.state.field(foldState,!1)||syntaxTree(oe.startState)!=syntaxTree(oe.state)||n.foldingChanged(oe))&&(this.markers=this.buildMarkers(oe.view))}buildMarkers(oe){let re=new RangeSetBuilder;for(let ae of oe.viewportLineBlocks){let le=findFold(oe.state,ae.from,ae.to)?$:foldable(oe.state,ae.from,ae.to)?r:null;le&&re.add(ae.from,ae.from,le)}return re.finish()}}),{domEventHandlers:V}=n;return[L,gutter({class:"cm-foldGutter",markers(oe){var re;return((re=oe.plugin(L))===null||re===void 0?void 0:re.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(n,!1)},domEventHandlers:Object.assign(Object.assign({},V),{click:(oe,re,ae)=>{if(V.click&&V.click(oe,re,ae))return!0;let le=findFold(oe.state,re.from,re.to);if(le)return oe.dispatch({effects:unfoldEffect.of(le)}),!0;let ue=foldable(oe.state,re.from,re.to);return ue?(oe.dispatch({effects:foldEffect.of(ue)}),!0):!1}})}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(n,r){this.specs=n;let $;function L(re){let ae=StyleModule.newName();return($||($=Object.create(null)))["."+ae]=re,ae}const V=typeof r.all=="string"?r.all:r.all?L(r.all):void 0,oe=r.scope;this.scope=oe instanceof Language?re=>re.prop(languageDataProp)==oe.data:oe?re=>re==oe:void 0,this.style=tagHighlighter(n.map(re=>({tag:re.tag,class:re.class||L(Object.assign({},re,{tag:null}))})),{all:V}).style,this.module=$?new StyleModule($):null,this.themeType=r.themeType}static define(n,r){return new HighlightStyle(n,r||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(g){return g.length?[g[0]]:null}});function getHighlighters(g){let n=g.facet(highlighterFacet);return n.length?n:g.facet(fallbackHighlighter)}function syntaxHighlighting(g,n){let r=[treeHighlighter],$;return g instanceof HighlightStyle&&(g.module&&r.push(EditorView.styleModule.of(g.module)),$=g.themeType),n!=null&&n.fallback?r.push(fallbackHighlighter.of(g)):$?r.push(highlighterFacet.computeN([EditorView.darkTheme],L=>L.facet(EditorView.darkTheme)==($=="dark")?[g]:[])):r.push(highlighterFacet.of(g)),r}class TreeHighlighter{constructor(n){this.markCache=Object.create(null),this.tree=syntaxTree(n.state),this.decorations=this.buildDeco(n,getHighlighters(n.state))}update(n){let r=syntaxTree(n.state),$=getHighlighters(n.state),L=$!=getHighlighters(n.startState);r.length<n.view.viewport.to&&!L&&r.type==this.tree.type?this.decorations=this.decorations.map(n.changes):(r!=this.tree||n.viewportChanged||L)&&(this.tree=r,this.decorations=this.buildDeco(n.view,$))}buildDeco(n,r){if(!r||!this.tree.length)return Decoration.none;let $=new RangeSetBuilder;for(let{from:L,to:V}of n.visibleRanges)highlightTree(this.tree,r,(oe,re,ae)=>{$.add(oe,re,this.markCache[ae]||(this.markCache[ae]=Decoration.mark({class:ae})))},L,V);return $.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:g=>g.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags$1.meta,color:"#404740"},{tag:tags$1.link,textDecoration:"underline"},{tag:tags$1.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags$1.emphasis,fontStyle:"italic"},{tag:tags$1.strong,fontWeight:"bold"},{tag:tags$1.strikethrough,textDecoration:"line-through"},{tag:tags$1.keyword,color:"#708"},{tag:[tags$1.atom,tags$1.bool,tags$1.url,tags$1.contentSeparator,tags$1.labelName],color:"#219"},{tag:[tags$1.literal,tags$1.inserted],color:"#164"},{tag:[tags$1.string,tags$1.deleted],color:"#a11"},{tag:[tags$1.regexp,tags$1.escape,tags$1.special(tags$1.string)],color:"#e40"},{tag:tags$1.definition(tags$1.variableName),color:"#00f"},{tag:tags$1.local(tags$1.variableName),color:"#30a"},{tag:[tags$1.typeName,tags$1.namespace],color:"#085"},{tag:tags$1.className,color:"#167"},{tag:[tags$1.special(tags$1.variableName),tags$1.macroName],color:"#256"},{tag:tags$1.definition(tags$1.propertyName),color:"#00c"},{tag:tags$1.comment,color:"#940"},{tag:tags$1.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(g){return combineConfig(g,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(g){let n=[],r=g.matched?matchingMark:nonmatchingMark;return n.push(r.range(g.start.from,g.start.to)),g.end&&n.push(r.range(g.end.from,g.end.to)),n}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(g,n){if(!n.docChanged&&!n.selection)return g;let r=[],$=n.state.facet(bracketMatchingConfig);for(let L of n.state.selection.ranges){if(!L.empty)continue;let V=matchBrackets(n.state,L.head,-1,$)||L.head>0&&matchBrackets(n.state,L.head-1,1,$)||$.afterCursor&&(matchBrackets(n.state,L.head,1,$)||L.head<n.state.doc.length&&matchBrackets(n.state,L.head+1,-1,$));V&&(r=r.concat($.renderMatch(V,n.state)))}return Decoration.set(r,!0)},provide:g=>EditorView.decorations.from(g)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(g={}){return[bracketMatchingConfig.of(g),bracketMatchingUnique]}const bracketMatchingHandle=new NodeProp;function matchingNodes(g,n,r){let $=g.prop(n<0?NodeProp.openedBy:NodeProp.closedBy);if($)return $;if(g.name.length==1){let L=r.indexOf(g.name);if(L>-1&&L%2==(n<0?1:0))return[r[L+n]]}return null}function findHandle(g){let n=g.type.prop(bracketMatchingHandle);return n?n(g.node):g}function matchBrackets(g,n,r,$={}){let L=$.maxScanDistance||DefaultScanDist,V=$.brackets||DefaultBrackets,oe=syntaxTree(g),re=oe.resolveInner(n,r);for(let ae=re;ae;ae=ae.parent){let le=matchingNodes(ae.type,r,V);if(le&&ae.from<ae.to){let ue=findHandle(ae);if(ue&&(r>0?n>=ue.from&&n<ue.to:n>ue.from&&n<=ue.to))return matchMarkedBrackets(g,n,r,ae,ue,le,V)}}return matchPlainBrackets(g,n,r,oe,re.type,L,V)}function matchMarkedBrackets(g,n,r,$,L,V,oe){let re=$.parent,ae={from:L.from,to:L.to},le=0,ue=re==null?void 0:re.cursor();if(ue&&(r<0?ue.childBefore($.from):ue.childAfter($.to)))do if(r<0?ue.to<=$.from:ue.from>=$.to){if(le==0&&V.indexOf(ue.type.name)>-1&&ue.from<ue.to){let de=findHandle(ue);return{start:ae,end:de?{from:de.from,to:de.to}:void 0,matched:!0}}else if(matchingNodes(ue.type,r,oe))le++;else if(matchingNodes(ue.type,-r,oe)){if(le==0){let de=findHandle(ue);return{start:ae,end:de&&de.from<de.to?{from:de.from,to:de.to}:void 0,matched:!1}}le--}}while(r<0?ue.prevSibling():ue.nextSibling());return{start:ae,matched:!1}}function matchPlainBrackets(g,n,r,$,L,V,oe){let re=r<0?g.sliceDoc(n-1,n):g.sliceDoc(n,n+1),ae=oe.indexOf(re);if(ae<0||ae%2==0!=r>0)return null;let le={from:r<0?n-1:n,to:r>0?n+1:n},ue=g.doc.iterRange(n,r>0?g.doc.length:0),de=0;for(let pe=0;!ue.next().done&&pe<=V;){let he=ue.value;r<0&&(pe+=he.length);let _e=n+pe*r;for(let Oe=r>0?0:he.length-1,xe=r>0?he.length:-1;Oe!=xe;Oe+=r){let $e=oe.indexOf(he[Oe]);if(!($e<0||$.resolveInner(_e+Oe,1).type!=L))if($e%2==0==r>0)de++;else{if(de==1)return{start:le,end:{from:_e+Oe,to:_e+Oe+1},matched:$e>>1==ae>>1};de--}}r>0&&(pe+=he.length)}return ue.done?{start:le,matched:!1}:null}const noTokens=Object.create(null),typeArray=[NodeType.none],warned=[],defaultTable=Object.create(null);for(let[g,n]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[g]=createTokenType(noTokens,n);function warnForPart(g,n){warned.indexOf(g)>-1||(warned.push(g),console.warn(n))}function createTokenType(g,n){let r=null;for(let V of n.split(".")){let oe=g[V]||tags$1[V];oe?typeof oe=="function"?r?r=oe(r):warnForPart(V,`Modifier ${V} used at start of tag`):r?warnForPart(V,`Tag ${V} used as modifier`):r=oe:warnForPart(V,`Unknown highlighting tag ${V}`)}if(!r)return 0;let $=n.replace(/ /g,"_"),L=NodeType.define({id:typeArray.length,name:$,props:[styleTags({[$]:r})]});return typeArray.push(L),L.id}const toggleComment=g=>{let{state:n}=g,r=n.doc.lineAt(n.selection.main.from),$=getConfig(g.state,r.from);return $.line?toggleLineComment(g):$.block?toggleBlockCommentByLine(g):!1};function command(g,n){return({state:r,dispatch:$})=>{if(r.readOnly)return!1;let L=g(n,r);return L?($(r.update(L)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((g,n)=>changeBlockComment(g,n,selectedLineRanges(n)),0);function getConfig(g,n){let r=g.languageDataAt("commentTokens",n);return r.length?r[0]:{}}const SearchMargin=50;function findBlockComment(g,{open:n,close:r},$,L){let V=g.sliceDoc($-SearchMargin,$),oe=g.sliceDoc(L,L+SearchMargin),re=/\s*$/.exec(V)[0].length,ae=/^\s*/.exec(oe)[0].length,le=V.length-re;if(V.slice(le-n.length,le)==n&&oe.slice(ae,ae+r.length)==r)return{open:{pos:$-re,margin:re&&1},close:{pos:L+ae,margin:ae&&1}};let ue,de;L-$<=2*SearchMargin?ue=de=g.sliceDoc($,L):(ue=g.sliceDoc($,$+SearchMargin),de=g.sliceDoc(L-SearchMargin,L));let pe=/^\s*/.exec(ue)[0].length,he=/\s*$/.exec(de)[0].length,_e=de.length-he-r.length;return ue.slice(pe,pe+n.length)==n&&de.slice(_e,_e+r.length)==r?{open:{pos:$+pe+n.length,margin:/\s/.test(ue.charAt(pe+n.length))?1:0},close:{pos:L-he-r.length,margin:/\s/.test(de.charAt(_e-1))?1:0}}:null}function selectedLineRanges(g){let n=[];for(let r of g.selection.ranges){let $=g.doc.lineAt(r.from),L=r.to<=$.to?$:g.doc.lineAt(r.to),V=n.length-1;V>=0&&n[V].to>$.from?n[V].to=L.to:n.push({from:$.from,to:L.to})}return n}function changeBlockComment(g,n,r=n.selection.ranges){let $=r.map(V=>getConfig(n,V.from).block);if(!$.every(V=>V))return null;let L=r.map((V,oe)=>findBlockComment(n,$[oe],V.from,V.to));if(g!=2&&!L.every(V=>V))return{changes:n.changes(r.map((V,oe)=>L[oe]?[]:[{from:V.from,insert:$[oe].open+" "},{from:V.to,insert:" "+$[oe].close}]))};if(g!=1&&L.some(V=>V)){let V=[];for(let oe=0,re;oe<L.length;oe++)if(re=L[oe]){let ae=$[oe],{open:le,close:ue}=re;V.push({from:le.pos-ae.open.length,to:le.pos+le.margin},{from:ue.pos-ue.margin,to:ue.pos+ae.close.length})}return{changes:V}}return null}function changeLineComment(g,n,r=n.selection.ranges){let $=[],L=-1;for(let{from:V,to:oe}of r){let re=$.length,ae=1e9,le=getConfig(n,V).line;if(le){for(let ue=V;ue<=oe;){let de=n.doc.lineAt(ue);if(de.from>L&&(V==oe||oe>de.from)){L=de.from;let pe=/^\s*/.exec(de.text)[0].length,he=pe==de.length,_e=de.text.slice(pe,pe+le.length)==le?pe:-1;pe<de.text.length&&pe<ae&&(ae=pe),$.push({line:de,comment:_e,token:le,indent:pe,empty:he,single:!1})}ue=de.to+1}if(ae<1e9)for(let ue=re;ue<$.length;ue++)$[ue].indent<$[ue].line.text.length&&($[ue].indent=ae);$.length==re+1&&($[re].single=!0)}}if(g!=2&&$.some(V=>V.comment<0&&(!V.empty||V.single))){let V=[];for(let{line:re,token:ae,indent:le,empty:ue,single:de}of $)(de||!ue)&&V.push({from:re.from+le,insert:ae+" "});let oe=n.changes(V);return{changes:oe,selection:n.selection.map(oe,1)}}else if(g!=1&&$.some(V=>V.comment>=0)){let V=[];for(let{line:oe,comment:re,token:ae}of $)if(re>=0){let le=oe.from+re,ue=le+ae.length;oe.text[ue-oe.from]==" "&&ue++,V.push({from:le,to:ue})}return{changes:V}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(g){return combineConfig(g,{minDepth:100,newGroupDelay:500,joinToEvent:(n,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(n,r)=>($,L)=>n($,L)||r($,L)})}});function changeEnd(g){let n=0;return g.iterChangedRanges((r,$)=>n=$),n}const historyField_=StateField.define({create(){return HistoryState.empty},update(g,n){let r=n.state.facet(historyConfig),$=n.annotation(fromHistory);if($){let ae=n.docChanged?EditorSelection.single(changeEnd(n.changes)):void 0,le=HistEvent.fromTransaction(n,ae),ue=$.side,de=ue==0?g.undone:g.done;return le?de=updateBranch(de,de.length,r.minDepth,le):de=addSelection(de,n.startState.selection),new HistoryState(ue==0?$.rest:de,ue==0?de:$.rest)}let L=n.annotation(isolateHistory);if((L=="full"||L=="before")&&(g=g.isolate()),n.annotation(Transaction.addToHistory)===!1)return n.changes.empty?g:g.addMapping(n.changes.desc);let V=HistEvent.fromTransaction(n),oe=n.annotation(Transaction.time),re=n.annotation(Transaction.userEvent);return V?g=g.addChanges(V,oe,re,r,n):n.selection&&(g=g.addSelection(n.startState.selection,oe,re,r.newGroupDelay)),(L=="full"||L=="after")&&(g=g.isolate()),g},toJSON(g){return{done:g.done.map(n=>n.toJSON()),undone:g.undone.map(n=>n.toJSON())}},fromJSON(g){return new HistoryState(g.done.map(HistEvent.fromJSON),g.undone.map(HistEvent.fromJSON))}});function history$1(g={}){return[historyField_,historyConfig.of(g),EditorView.domEventHandlers({beforeinput(n,r){let $=n.inputType=="historyUndo"?undo:n.inputType=="historyRedo"?redo:null;return $?(n.preventDefault(),$(r)):!1}})]}function cmd(g,n){return function({state:r,dispatch:$}){if(!n&&r.readOnly)return!1;let L=r.field(historyField_,!1);if(!L)return!1;let V=L.pop(g,r,n);return V?($(V),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(n,r,$,L,V){this.changes=n,this.effects=r,this.mapped=$,this.startSelection=L,this.selectionsAfter=V}setSelAfter(n){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,n)}toJSON(){var n,r,$;return{changes:(n=this.changes)===null||n===void 0?void 0:n.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:($=this.startSelection)===null||$===void 0?void 0:$.toJSON(),selectionsAfter:this.selectionsAfter.map(L=>L.toJSON())}}static fromJSON(n){return new HistEvent(n.changes&&ChangeSet.fromJSON(n.changes),[],n.mapped&&ChangeDesc.fromJSON(n.mapped),n.startSelection&&EditorSelection.fromJSON(n.startSelection),n.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(n,r){let $=none$1;for(let L of n.startState.facet(invertedEffects)){let V=L(n);V.length&&($=$.concat(V))}return!$.length&&n.changes.empty?null:new HistEvent(n.changes.invert(n.startState.doc),$,void 0,r||n.startState.selection,none$1)}static selection(n){return new HistEvent(void 0,none$1,void 0,void 0,n)}}function updateBranch(g,n,r,$){let L=n+1>r+20?n-r-1:0,V=g.slice(L,n);return V.push($),V}function isAdjacent(g,n){let r=[],$=!1;return g.iterChangedRanges((L,V)=>r.push(L,V)),n.iterChangedRanges((L,V,oe,re)=>{for(let ae=0;ae<r.length;){let le=r[ae++],ue=r[ae++];re>=le&&oe<=ue&&($=!0)}}),$}function eqSelectionShape(g,n){return g.ranges.length==n.ranges.length&&g.ranges.filter((r,$)=>r.empty!=n.ranges[$].empty).length===0}function conc(g,n){return g.length?n.length?g.concat(n):g:n}const none$1=[],MaxSelectionsPerEvent=200;function addSelection(g,n){if(g.length){let r=g[g.length-1],$=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-MaxSelectionsPerEvent));return $.length&&$[$.length-1].eq(n)?g:($.push(n),updateBranch(g,g.length-1,1e9,r.setSelAfter($)))}else return[HistEvent.selection([n])]}function popSelection(g){let n=g[g.length-1],r=g.slice();return r[g.length-1]=n.setSelAfter(n.selectionsAfter.slice(0,n.selectionsAfter.length-1)),r}function addMappingToBranch(g,n){if(!g.length)return g;let r=g.length,$=none$1;for(;r;){let L=mapEvent(g[r-1],n,$);if(L.changes&&!L.changes.empty||L.effects.length){let V=g.slice(0,r);return V[r-1]=L,V}else n=L.mapped,r--,$=L.selectionsAfter}return $.length?[HistEvent.selection($)]:none$1}function mapEvent(g,n,r){let $=conc(g.selectionsAfter.length?g.selectionsAfter.map(re=>re.map(n)):none$1,r);if(!g.changes)return HistEvent.selection($);let L=g.changes.map(n),V=n.mapDesc(g.changes,!0),oe=g.mapped?g.mapped.composeDesc(V):V;return new HistEvent(L,StateEffect.mapEffects(g.effects,n),oe,g.startSelection.map(V),$)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(n,r,$=0,L=void 0){this.done=n,this.undone=r,this.prevTime=$,this.prevUserEvent=L}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(n,r,$,L,V){let oe=this.done,re=oe[oe.length-1];return re&&re.changes&&!re.changes.empty&&n.changes&&(!$||joinableUserEvent.test($))&&(!re.selectionsAfter.length&&r-this.prevTime<L.newGroupDelay&&L.joinToEvent(V,isAdjacent(re.changes,n.changes))||$=="input.type.compose")?oe=updateBranch(oe,oe.length-1,L.minDepth,new HistEvent(n.changes.compose(re.changes),conc(n.effects,re.effects),re.mapped,re.startSelection,none$1)):oe=updateBranch(oe,oe.length,L.minDepth,n),new HistoryState(oe,none$1,r,$)}addSelection(n,r,$,L){let V=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;return V.length>0&&r-this.prevTime<L&&$==this.prevUserEvent&&$&&/^select($|\.)/.test($)&&eqSelectionShape(V[V.length-1],n)?this:new HistoryState(addSelection(this.done,n),this.undone,r,$)}addMapping(n){return new HistoryState(addMappingToBranch(this.done,n),addMappingToBranch(this.undone,n),this.prevTime,this.prevUserEvent)}pop(n,r,$){let L=n==0?this.done:this.undone;if(L.length==0)return null;let V=L[L.length-1];if($&&V.selectionsAfter.length)return r.update({selection:V.selectionsAfter[V.selectionsAfter.length-1],annotations:fromHistory.of({side:n,rest:popSelection(L)}),userEvent:n==0?"select.undo":"select.redo",scrollIntoView:!0});if(V.changes){let oe=L.length==1?none$1:L.slice(0,L.length-1);return V.mapped&&(oe=addMappingToBranch(oe,V.mapped)),r.update({changes:V.changes,selection:V.startSelection,effects:V.effects,annotations:fromHistory.of({side:n,rest:oe}),filter:!1,userEvent:n==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(g,n){return EditorSelection.create(g.ranges.map(n),g.mainIndex)}function setSel(g,n){return g.update({selection:n,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:g,dispatch:n},r){let $=updateSel(g.selection,r);return $.eq(g.selection)?!1:(n(setSel(g,$)),!0)}function rangeEnd(g,n){return EditorSelection.cursor(n?g.to:g.from)}function cursorByChar(g,n){return moveSel(g,r=>r.empty?g.moveByChar(r,n):rangeEnd(r,n))}function ltrAtCursor(g){return g.textDirectionAt(g.state.selection.main.head)==Direction.LTR}const cursorCharLeft=g=>cursorByChar(g,!ltrAtCursor(g)),cursorCharRight=g=>cursorByChar(g,ltrAtCursor(g));function cursorByGroup(g,n){return moveSel(g,r=>r.empty?g.moveByGroup(r,n):rangeEnd(r,n))}const cursorGroupLeft=g=>cursorByGroup(g,!ltrAtCursor(g)),cursorGroupRight=g=>cursorByGroup(g,ltrAtCursor(g));function interestingNode(g,n,r){if(n.type.prop(r))return!0;let $=n.to-n.from;return $&&($>2||/[^\s,.;:]/.test(g.sliceDoc(n.from,n.to)))||n.firstChild}function moveBySyntax(g,n,r){let $=syntaxTree(g).resolveInner(n.head),L=r?NodeProp.closedBy:NodeProp.openedBy;for(let ae=n.head;;){let le=r?$.childAfter(ae):$.childBefore(ae);if(!le)break;interestingNode(g,le,L)?$=le:ae=r?le.to:le.from}let V=$.type.prop(L),oe,re;return V&&(oe=r?matchBrackets(g,$.from,1):matchBrackets(g,$.to,-1))&&oe.matched?re=r?oe.end.to:oe.end.from:re=r?$.to:$.from,EditorSelection.cursor(re,r?-1:1)}const cursorSyntaxLeft=g=>moveSel(g,n=>moveBySyntax(g.state,n,!ltrAtCursor(g))),cursorSyntaxRight=g=>moveSel(g,n=>moveBySyntax(g.state,n,ltrAtCursor(g)));function cursorByLine(g,n){return moveSel(g,r=>{if(!r.empty)return rangeEnd(r,n);let $=g.moveVertically(r,n);return $.head!=r.head?$:g.moveToLineBoundary(r,n)})}const cursorLineUp=g=>cursorByLine(g,!1),cursorLineDown=g=>cursorByLine(g,!0);function pageInfo(g){let n=g.scrollDOM.clientHeight<g.scrollDOM.scrollHeight-2,r=0,$=0,L;if(n){for(let V of g.state.facet(EditorView.scrollMargins)){let oe=V(g);oe!=null&&oe.top&&(r=Math.max(oe==null?void 0:oe.top,r)),oe!=null&&oe.bottom&&($=Math.max(oe==null?void 0:oe.bottom,$))}L=g.scrollDOM.clientHeight-r-$}else L=(g.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:$,selfScroll:n,height:Math.max(g.defaultLineHeight,L-5)}}function cursorByPage(g,n){let r=pageInfo(g),{state:$}=g,L=updateSel($.selection,oe=>oe.empty?g.moveVertically(oe,n,r.height):rangeEnd(oe,n));if(L.eq($.selection))return!1;let V;if(r.selfScroll){let oe=g.coordsAtPos($.selection.main.head),re=g.scrollDOM.getBoundingClientRect(),ae=re.top+r.marginTop,le=re.bottom-r.marginBottom;oe&&oe.top>ae&&oe.bottom<le&&(V=EditorView.scrollIntoView(L.main.head,{y:"start",yMargin:oe.top-ae}))}return g.dispatch(setSel($,L),{effects:V}),!0}const cursorPageUp=g=>cursorByPage(g,!1),cursorPageDown=g=>cursorByPage(g,!0);function moveByLineBoundary(g,n,r){let $=g.lineBlockAt(n.head),L=g.moveToLineBoundary(n,r);if(L.head==n.head&&L.head!=(r?$.to:$.from)&&(L=g.moveToLineBoundary(n,r,!1)),!r&&L.head==$.from&&$.length){let V=/^\s*/.exec(g.state.sliceDoc($.from,Math.min($.from+100,$.to)))[0].length;V&&n.head!=$.from+V&&(L=EditorSelection.cursor($.from+V))}return L}const cursorLineBoundaryForward=g=>moveSel(g,n=>moveByLineBoundary(g,n,!0)),cursorLineBoundaryBackward=g=>moveSel(g,n=>moveByLineBoundary(g,n,!1)),cursorLineBoundaryLeft=g=>moveSel(g,n=>moveByLineBoundary(g,n,!ltrAtCursor(g))),cursorLineBoundaryRight=g=>moveSel(g,n=>moveByLineBoundary(g,n,ltrAtCursor(g))),cursorLineStart=g=>moveSel(g,n=>EditorSelection.cursor(g.lineBlockAt(n.head).from,1)),cursorLineEnd=g=>moveSel(g,n=>EditorSelection.cursor(g.lineBlockAt(n.head).to,-1));function toMatchingBracket(g,n,r){let $=!1,L=updateSel(g.selection,V=>{let oe=matchBrackets(g,V.head,-1)||matchBrackets(g,V.head,1)||V.head>0&&matchBrackets(g,V.head-1,1)||V.head<g.doc.length&&matchBrackets(g,V.head+1,-1);if(!oe||!oe.end)return V;$=!0;let re=oe.start.from==V.head?oe.end.to:oe.end.from;return r?EditorSelection.range(V.anchor,re):EditorSelection.cursor(re)});return $?(n(setSel(g,L)),!0):!1}const cursorMatchingBracket=({state:g,dispatch:n})=>toMatchingBracket(g,n,!1);function extendSel(g,n){let r=updateSel(g.state.selection,$=>{let L=n($);return EditorSelection.range($.anchor,L.head,L.goalColumn,L.bidiLevel||void 0)});return r.eq(g.state.selection)?!1:(g.dispatch(setSel(g.state,r)),!0)}function selectByChar(g,n){return extendSel(g,r=>g.moveByChar(r,n))}const selectCharLeft=g=>selectByChar(g,!ltrAtCursor(g)),selectCharRight=g=>selectByChar(g,ltrAtCursor(g));function selectByGroup(g,n){return extendSel(g,r=>g.moveByGroup(r,n))}const selectGroupLeft=g=>selectByGroup(g,!ltrAtCursor(g)),selectGroupRight=g=>selectByGroup(g,ltrAtCursor(g)),selectSyntaxLeft=g=>extendSel(g,n=>moveBySyntax(g.state,n,!ltrAtCursor(g))),selectSyntaxRight=g=>extendSel(g,n=>moveBySyntax(g.state,n,ltrAtCursor(g)));function selectByLine(g,n){return extendSel(g,r=>g.moveVertically(r,n))}const selectLineUp=g=>selectByLine(g,!1),selectLineDown=g=>selectByLine(g,!0);function selectByPage(g,n){return extendSel(g,r=>g.moveVertically(r,n,pageInfo(g).height))}const selectPageUp=g=>selectByPage(g,!1),selectPageDown=g=>selectByPage(g,!0),selectLineBoundaryForward=g=>extendSel(g,n=>moveByLineBoundary(g,n,!0)),selectLineBoundaryBackward=g=>extendSel(g,n=>moveByLineBoundary(g,n,!1)),selectLineBoundaryLeft=g=>extendSel(g,n=>moveByLineBoundary(g,n,!ltrAtCursor(g))),selectLineBoundaryRight=g=>extendSel(g,n=>moveByLineBoundary(g,n,ltrAtCursor(g))),selectLineStart=g=>extendSel(g,n=>EditorSelection.cursor(g.lineBlockAt(n.head).from)),selectLineEnd=g=>extendSel(g,n=>EditorSelection.cursor(g.lineBlockAt(n.head).to)),cursorDocStart=({state:g,dispatch:n})=>(n(setSel(g,{anchor:0})),!0),cursorDocEnd=({state:g,dispatch:n})=>(n(setSel(g,{anchor:g.doc.length})),!0),selectDocStart=({state:g,dispatch:n})=>(n(setSel(g,{anchor:g.selection.main.anchor,head:0})),!0),selectDocEnd=({state:g,dispatch:n})=>(n(setSel(g,{anchor:g.selection.main.anchor,head:g.doc.length})),!0),selectAll=({state:g,dispatch:n})=>(n(g.update({selection:{anchor:0,head:g.doc.length},userEvent:"select"})),!0),selectLine=({state:g,dispatch:n})=>{let r=selectedLineBlocks(g).map(({from:$,to:L})=>EditorSelection.range($,Math.min(L+1,g.doc.length)));return n(g.update({selection:EditorSelection.create(r),userEvent:"select"})),!0},selectParentSyntax=({state:g,dispatch:n})=>{let r=updateSel(g.selection,$=>{var L;let V=syntaxTree(g).resolveInner($.head,1);for(;!(V.from<$.from&&V.to>=$.to||V.to>$.to&&V.from<=$.from||!(!((L=V.parent)===null||L===void 0)&&L.parent));)V=V.parent;return EditorSelection.range(V.to,V.from)});return n(setSel(g,r)),!0},simplifySelection=({state:g,dispatch:n})=>{let r=g.selection,$=null;return r.ranges.length>1?$=EditorSelection.create([r.main]):r.main.empty||($=EditorSelection.create([EditorSelection.cursor(r.main.head)])),$?(n(setSel(g,$)),!0):!1};function deleteBy(g,n){if(g.state.readOnly)return!1;let r="delete.selection",{state:$}=g,L=$.changeByRange(V=>{let{from:oe,to:re}=V;if(oe==re){let ae=n(oe);ae<oe?(r="delete.backward",ae=skipAtomic(g,ae,!1)):ae>oe&&(r="delete.forward",ae=skipAtomic(g,ae,!0)),oe=Math.min(oe,ae),re=Math.max(re,ae)}else oe=skipAtomic(g,oe,!1),re=skipAtomic(g,re,!0);return oe==re?{range:V}:{changes:{from:oe,to:re},range:EditorSelection.cursor(oe)}});return L.changes.empty?!1:(g.dispatch($.update(L,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?EditorView.announce.of($.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(g,n,r){if(g instanceof EditorView)for(let $ of g.state.facet(EditorView.atomicRanges).map(L=>L(g)))$.between(n,n,(L,V)=>{L<n&&V>n&&(n=r?V:L)});return n}const deleteByChar=(g,n)=>deleteBy(g,r=>{let{state:$}=g,L=$.doc.lineAt(r),V,oe;if(!n&&r>L.from&&r<L.from+200&&!/[^ \t]/.test(V=L.text.slice(0,r-L.from))){if(V[V.length-1]=="	")return r-1;let re=countColumn(V,$.tabSize),ae=re%getIndentUnit($)||getIndentUnit($);for(let le=0;le<ae&&V[V.length-1-le]==" ";le++)r--;oe=r}else oe=findClusterBreak(L.text,r-L.from,n,n)+L.from,oe==r&&L.number!=(n?$.doc.lines:1)&&(oe+=n?1:-1);return oe}),deleteCharBackward=g=>deleteByChar(g,!1),deleteCharForward=g=>deleteByChar(g,!0),deleteByGroup=(g,n)=>deleteBy(g,r=>{let $=r,{state:L}=g,V=L.doc.lineAt($),oe=L.charCategorizer($);for(let re=null;;){if($==(n?V.to:V.from)){$==r&&V.number!=(n?L.doc.lines:1)&&($+=n?1:-1);break}let ae=findClusterBreak(V.text,$-V.from,n)+V.from,le=V.text.slice(Math.min($,ae)-V.from,Math.max($,ae)-V.from),ue=oe(le);if(re!=null&&ue!=re)break;(le!=" "||$!=r)&&(re=ue),$=ae}return $}),deleteGroupBackward=g=>deleteByGroup(g,!1),deleteGroupForward=g=>deleteByGroup(g,!0),deleteToLineEnd=g=>deleteBy(g,n=>{let r=g.lineBlockAt(n).to;return n<r?r:Math.min(g.state.doc.length,n+1)}),deleteToLineStart=g=>deleteBy(g,n=>{let r=g.lineBlockAt(n).from;return n>r?r:Math.max(0,n-1)}),splitLine=({state:g,dispatch:n})=>{if(g.readOnly)return!1;let r=g.changeByRange($=>({changes:{from:$.from,to:$.to,insert:Text.of(["",""])},range:EditorSelection.cursor($.from)}));return n(g.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:g,dispatch:n})=>{if(g.readOnly)return!1;let r=g.changeByRange($=>{if(!$.empty||$.from==0||$.from==g.doc.length)return{range:$};let L=$.from,V=g.doc.lineAt(L),oe=L==V.from?L-1:findClusterBreak(V.text,L-V.from,!1)+V.from,re=L==V.to?L+1:findClusterBreak(V.text,L-V.from,!0)+V.from;return{changes:{from:oe,to:re,insert:g.doc.slice(L,re).append(g.doc.slice(oe,L))},range:EditorSelection.cursor(re)}});return r.changes.empty?!1:(n(g.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(g){let n=[],r=-1;for(let $ of g.selection.ranges){let L=g.doc.lineAt($.from),V=g.doc.lineAt($.to);if(!$.empty&&$.to==V.from&&(V=g.doc.lineAt($.to-1)),r>=L.number){let oe=n[n.length-1];oe.to=V.to,oe.ranges.push($)}else n.push({from:L.from,to:V.to,ranges:[$]});r=V.number+1}return n}function moveLine(g,n,r){if(g.readOnly)return!1;let $=[],L=[];for(let V of selectedLineBlocks(g)){if(r?V.to==g.doc.length:V.from==0)continue;let oe=g.doc.lineAt(r?V.to+1:V.from-1),re=oe.length+1;if(r){$.push({from:V.to,to:oe.to},{from:V.from,insert:oe.text+g.lineBreak});for(let ae of V.ranges)L.push(EditorSelection.range(Math.min(g.doc.length,ae.anchor+re),Math.min(g.doc.length,ae.head+re)))}else{$.push({from:oe.from,to:V.from},{from:V.to,insert:g.lineBreak+oe.text});for(let ae of V.ranges)L.push(EditorSelection.range(ae.anchor-re,ae.head-re))}}return $.length?(n(g.update({changes:$,scrollIntoView:!0,selection:EditorSelection.create(L,g.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:g,dispatch:n})=>moveLine(g,n,!1),moveLineDown=({state:g,dispatch:n})=>moveLine(g,n,!0);function copyLine(g,n,r){if(g.readOnly)return!1;let $=[];for(let L of selectedLineBlocks(g))r?$.push({from:L.from,insert:g.doc.slice(L.from,L.to)+g.lineBreak}):$.push({from:L.to,insert:g.lineBreak+g.doc.slice(L.from,L.to)});return n(g.update({changes:$,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:g,dispatch:n})=>copyLine(g,n,!1),copyLineDown=({state:g,dispatch:n})=>copyLine(g,n,!0),deleteLine=g=>{if(g.state.readOnly)return!1;let{state:n}=g,r=n.changes(selectedLineBlocks(n).map(({from:L,to:V})=>(L>0?L--:V<n.doc.length&&V++,{from:L,to:V}))),$=updateSel(n.selection,L=>g.moveVertically(L,!0)).map(r);return g.dispatch({changes:r,selection:$,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(g,n){if(/\(\)|\[\]|\{\}/.test(g.sliceDoc(n-1,n+1)))return{from:n,to:n};let r=syntaxTree(g).resolveInner(n),$=r.childBefore(n),L=r.childAfter(n),V;return $&&L&&$.to<=n&&L.from>=n&&(V=$.type.prop(NodeProp.closedBy))&&V.indexOf(L.name)>-1&&g.doc.lineAt($.to).from==g.doc.lineAt(L.from).from?{from:$.to,to:L.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(g){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let $=n.changeByRange(L=>{let{from:V,to:oe}=L,re=n.doc.lineAt(V),ae=!g&&V==oe&&isBetweenBrackets(n,V);g&&(V=oe=(oe<=re.to?re:n.doc.lineAt(oe)).to);let le=new IndentContext(n,{simulateBreak:V,simulateDoubleBreak:!!ae}),ue=getIndentation(le,V);for(ue==null&&(ue=/^\s*/.exec(n.doc.lineAt(V).text)[0].length);oe<re.to&&/\s/.test(re.text[oe-re.from]);)oe++;ae?{from:V,to:oe}=ae:V>re.from&&V<re.from+100&&!/\S/.test(re.text.slice(0,V))&&(V=re.from);let de=["",indentString(n,ue)];return ae&&de.push(indentString(n,le.lineIndent(re.from,-1))),{changes:{from:V,to:oe,insert:Text.of(de)},range:EditorSelection.cursor(V+1+de[1].length)}});return r(n.update($,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(g,n){let r=-1;return g.changeByRange($=>{let L=[];for(let oe=$.from;oe<=$.to;){let re=g.doc.lineAt(oe);re.number>r&&($.empty||$.to>re.from)&&(n(re,L,$),r=re.number),oe=re.to+1}let V=g.changes(L);return{changes:L,range:EditorSelection.range(V.mapPos($.anchor,1),V.mapPos($.head,1))}})}const indentSelection=({state:g,dispatch:n})=>{if(g.readOnly)return!1;let r=Object.create(null),$=new IndentContext(g,{overrideIndentation:V=>{let oe=r[V];return oe!=null?oe:-1}}),L=changeBySelectedLine(g,(V,oe,re)=>{let ae=getIndentation($,V.from);if(ae==null)return;/\S/.test(V.text)||(ae=0);let le=/^\s*/.exec(V.text)[0],ue=indentString(g,ae);(le!=ue||re.from<V.from+le.length)&&(r[V.from]=ae,oe.push({from:V.from,to:V.from+le.length,insert:ue}))});return L.changes.empty||n(g.update(L,{userEvent:"indent"})),!0},indentMore=({state:g,dispatch:n})=>g.readOnly?!1:(n(g.update(changeBySelectedLine(g,(r,$)=>{$.push({from:r.from,insert:g.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:g,dispatch:n})=>g.readOnly?!1:(n(g.update(changeBySelectedLine(g,(r,$)=>{let L=/^\s*/.exec(r.text)[0];if(!L)return;let V=countColumn(L,g.tabSize),oe=0,re=indentString(g,Math.max(0,V-getIndentUnit(g)));for(;oe<L.length&&oe<re.length&&L.charCodeAt(oe)==re.charCodeAt(oe);)oe++;$.push({from:r.from+oe,to:r.from+L.length,insert:re.slice(oe)})}),{userEvent:"delete.dedent"})),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteToLineStart},{mac:"Mod-Delete",run:deleteToLineEnd}].concat(emacsStyleKeymap.map(g=>({mac:g.key,run:g.run,shift:g.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment}].concat(standardKeymap),indentWithTab={key:"Tab",run:indentMore,shift:indentLess};function crelt(){var g=arguments[0];typeof g=="string"&&(g=document.createElement(g));var n=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var $ in r)if(Object.prototype.hasOwnProperty.call(r,$)){var L=r[$];typeof L=="string"?g.setAttribute($,L):L!=null&&(g[$]=L)}n++}for(;n<arguments.length;n++)add(g,arguments[n]);return g}function add(g,n){if(typeof n=="string")g.appendChild(document.createTextNode(n));else if(n!=null)if(n.nodeType!=null)g.appendChild(n);else if(Array.isArray(n))for(var r=0;r<n.length;r++)add(g,n[r]);else throw new RangeError("Unsupported child node: "+n)}const basicNormalize=typeof String.prototype.normalize=="function"?g=>g.normalize("NFKD"):g=>g;class SearchCursor{constructor(n,r,$=0,L=n.length,V,oe){this.test=oe,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=n.iterRange($,L),this.bufferStart=$,this.normalize=V?re=>V(basicNormalize(re)):basicNormalize,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let n=this.peek();if(n<0)return this.done=!0,this;let r=fromCodePoint(n),$=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(n);let L=this.normalize(r);for(let V=0,oe=$;;V++){let re=L.charCodeAt(V),ae=this.match(re,oe);if(ae)return this.value=ae,this;if(V==L.length-1)break;oe==$&&V<r.length&&r.charCodeAt(V)==re&&oe++}}}match(n,r){let $=null;for(let L=0;L<this.matches.length;L+=2){let V=this.matches[L],oe=!1;this.query.charCodeAt(V)==n&&(V==this.query.length-1?$={from:this.matches[L+1],to:r+1}:(this.matches[L]++,oe=!0)),oe||(this.matches.splice(L,2),L-=2)}return this.query.charCodeAt(0)==n&&(this.query.length==1?$={from:r,to:r+1}:this.matches.push(1,r)),$&&this.test&&!this.test($.from,$.to,this.buffer,this.bufferPos)&&($=null),$}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(n,r,$,L=0,V=n.length){if(this.text=n,this.to=V,this.curLine="",this.done=!1,this.value=empty,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new MultilineRegExpCursor(n,r,$,L,V);this.re=new RegExp(r,baseFlags+($!=null&&$.ignoreCase?"i":"")),this.test=$==null?void 0:$.test,this.iter=n.iter();let oe=n.lineAt(L);this.curLineStart=oe.from,this.matchPos=toCharEnd(n,L),this.getLine(this.curLineStart)}getLine(n){this.iter.next(n),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let n=this.matchPos-this.curLineStart;;){this.re.lastIndex=n;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let $=this.curLineStart+r.index,L=$+r[0].length;if(this.matchPos=toCharEnd(this.text,L+($==L?1:0)),$==this.curLineStart+this.curLine.length&&this.nextLine(),($<L||$>this.value.to)&&(!this.test||this.test($,L,r)))return this.value={from:$,to:L,match:r},this;n=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),n=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(n,r){this.from=n,this.text=r}get to(){return this.from+this.text.length}static get(n,r,$){let L=flattened.get(n);if(!L||L.from>=$||L.to<=r){let re=new FlattenedDoc(r,n.sliceString(r,$));return flattened.set(n,re),re}if(L.from==r&&L.to==$)return L;let{text:V,from:oe}=L;return oe>r&&(V=n.sliceString(r,oe)+V,oe=r),L.to<$&&(V+=n.sliceString(L.to,$)),flattened.set(n,new FlattenedDoc(oe,V)),new FlattenedDoc(r,V.slice(r-oe,$-oe))}}class MultilineRegExpCursor{constructor(n,r,$,L,V){this.text=n,this.to=V,this.done=!1,this.value=empty,this.matchPos=toCharEnd(n,L),this.re=new RegExp(r,baseFlags+($!=null&&$.ignoreCase?"i":"")),this.test=$==null?void 0:$.test,this.flat=FlattenedDoc.get(n,L,this.chunkEnd(L+5e3))}chunkEnd(n){return n>=this.to?this.to:this.text.lineAt(n).to}next(){for(;;){let n=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==n&&(this.re.lastIndex=n+1,r=this.re.exec(this.flat.text)),r){let $=this.flat.from+r.index,L=$+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test($,L,r)))return this.value={from:$,to:L,match:r},this.matchPos=toCharEnd(this.text,L+($==L?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(g){try{return new RegExp(g,baseFlags),!0}catch{return!1}}function toCharEnd(g,n){if(n>=g.length)return n;let r=g.lineAt(n),$;for(;n<r.to&&($=r.text.charCodeAt(n-r.from))>=56320&&$<57344;)n++;return n}function createLineDialog(g){let n=crelt("input",{class:"cm-textfield",name:"line"}),r=crelt("form",{class:"cm-gotoLine",onkeydown:L=>{L.keyCode==27?(L.preventDefault(),g.dispatch({effects:dialogEffect.of(!1)}),g.focus()):L.keyCode==13&&(L.preventDefault(),$())},onsubmit:L=>{L.preventDefault(),$()}},crelt("label",g.state.phrase("Go to line"),": ",n)," ",crelt("button",{class:"cm-button",type:"submit"},g.state.phrase("go")));function $(){let L=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!L)return;let{state:V}=g,oe=V.doc.lineAt(V.selection.main.head),[,re,ae,le,ue]=L,de=le?+le.slice(1):0,pe=ae?+ae:oe.number;if(ae&&ue){let _e=pe/100;re&&(_e=_e*(re=="-"?-1:1)+oe.number/V.doc.lines),pe=Math.round(V.doc.lines*_e)}else ae&&re&&(pe=pe*(re=="-"?-1:1)+oe.number);let he=V.doc.line(Math.max(1,Math.min(V.doc.lines,pe)));g.dispatch({effects:dialogEffect.of(!1),selection:EditorSelection.cursor(he.from+Math.max(0,Math.min(de,he.length))),scrollIntoView:!0}),g.focus()}return{dom:r}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(g,n){for(let r of n.effects)r.is(dialogEffect)&&(g=r.value);return g},provide:g=>showPanel.from(g,n=>n?createLineDialog:null)}),gotoLine=g=>{let n=getPanel$1(g,createLineDialog);if(!n){let r=[dialogEffect.of(!0)];g.state.field(dialogField,!1)==null&&r.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),g.dispatch({effects:r}),n=getPanel$1(g,createLineDialog)}return n&&n.dom.querySelector("input").focus(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(g){return combineConfig(g,defaultHighlightOptions,{highlightWordAroundCursor:(n,r)=>n||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(g){let n=[defaultTheme,matchHighlighter];return g&&n.push(highlightConfig.of(g)),n}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(g,n,r,$){return(r==0||g(n.sliceDoc(r-1,r))!=CharCategory.Word)&&($==n.doc.length||g(n.sliceDoc($,$+1))!=CharCategory.Word)}function insideWord(g,n,r,$){return g(n.sliceDoc(r,r+1))==CharCategory.Word&&g(n.sliceDoc($-1,$))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(g){this.decorations=this.getDeco(g)}update(g){(g.selectionSet||g.docChanged||g.viewportChanged)&&(this.decorations=this.getDeco(g.view))}getDeco(g){let n=g.state.facet(highlightConfig),{state:r}=g,$=r.selection;if($.ranges.length>1)return Decoration.none;let L=$.main,V,oe=null;if(L.empty){if(!n.highlightWordAroundCursor)return Decoration.none;let ae=r.wordAt(L.head);if(!ae)return Decoration.none;oe=r.charCategorizer(L.head),V=r.sliceDoc(ae.from,ae.to)}else{let ae=L.to-L.from;if(ae<n.minSelectionLength||ae>200)return Decoration.none;if(n.wholeWords){if(V=r.sliceDoc(L.from,L.to),oe=r.charCategorizer(L.head),!(insideWordBoundaries(oe,r,L.from,L.to)&&insideWord(oe,r,L.from,L.to)))return Decoration.none}else if(V=r.sliceDoc(L.from,L.to).trim(),!V)return Decoration.none}let re=[];for(let ae of g.visibleRanges){let le=new SearchCursor(r.doc,V,ae.from,ae.to);for(;!le.next().done;){let{from:ue,to:de}=le.value;if((!oe||insideWordBoundaries(oe,r,ue,de))&&(L.empty&&ue<=L.from&&de>=L.to?re.push(mainMatchDeco.range(ue,de)):(ue>=L.to||de<=L.from)&&re.push(matchDeco.range(ue,de)),re.length>n.maxMatches))return Decoration.none}}return Decoration.set(re)}},{decorations:g=>g.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:g,dispatch:n})=>{let{selection:r}=g,$=EditorSelection.create(r.ranges.map(L=>g.wordAt(L.head)||EditorSelection.cursor(L.head)),r.mainIndex);return $.eq(r)?!1:(n(g.update({selection:$})),!0)};function findNextOccurrence(g,n){let{main:r,ranges:$}=g.selection,L=g.wordAt(r.head),V=L&&L.from==r.from&&L.to==r.to;for(let oe=!1,re=new SearchCursor(g.doc,n,$[$.length-1].to);;)if(re.next(),re.done){if(oe)return null;re=new SearchCursor(g.doc,n,0,Math.max(0,$[$.length-1].from-1)),oe=!0}else{if(oe&&$.some(ae=>ae.from==re.value.from))continue;if(V){let ae=g.wordAt(re.value.from);if(!ae||ae.from!=re.value.from||ae.to!=re.value.to)continue}return re.value}}const selectNextOccurrence=({state:g,dispatch:n})=>{let{ranges:r}=g.selection;if(r.some(V=>V.from===V.to))return selectWord({state:g,dispatch:n});let $=g.sliceDoc(r[0].from,r[0].to);if(g.selection.ranges.some(V=>g.sliceDoc(V.from,V.to)!=$))return!1;let L=findNextOccurrence(g,$);return L?(n(g.update({selection:g.selection.addRange(EditorSelection.range(L.from,L.to),!1),effects:EditorView.scrollIntoView(L.to)})),!0):!1},searchConfigFacet=Facet.define({combine(g){return combineConfig(g,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:n=>new SearchPanel(n),scrollToMatch:n=>EditorView.scrollIntoView(n)})}});class SearchQuery{constructor(n){this.search=n.search,this.caseSensitive=!!n.caseSensitive,this.literal=!!n.literal,this.regexp=!!n.regexp,this.replace=n.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!n.wholeWord}unquote(n){return this.literal?n:n.replace(/\\([nrt\\])/g,(r,$)=>$=="n"?`
`:$=="r"?"\r":$=="t"?"	":"\\")}eq(n){return this.search==n.search&&this.replace==n.replace&&this.caseSensitive==n.caseSensitive&&this.regexp==n.regexp&&this.wholeWord==n.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(n,r=0,$){let L=n.doc?n:EditorState.create({doc:n});return $==null&&($=L.doc.length),this.regexp?regexpCursor(this,L,r,$):stringCursor(this,L,r,$)}}class QueryType{constructor(n){this.spec=n}}function stringCursor(g,n,r,$){return new SearchCursor(n.doc,g.unquoted,r,$,g.caseSensitive?void 0:L=>L.toLowerCase(),g.wholeWord?stringWordTest(n.doc,n.charCategorizer(n.selection.main.head)):void 0)}function stringWordTest(g,n){return(r,$,L,V)=>((V>r||V+L.length<$)&&(V=Math.max(0,r-2),L=g.sliceString(V,Math.min(g.length,$+2))),(n(charBefore(L,r-V))!=CharCategory.Word||n(charAfter(L,r-V))!=CharCategory.Word)&&(n(charAfter(L,$-V))!=CharCategory.Word||n(charBefore(L,$-V))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(n){super(n)}nextMatch(n,r,$){let L=stringCursor(this.spec,n,$,n.doc.length).nextOverlapping();return L.done&&(L=stringCursor(this.spec,n,0,r).nextOverlapping()),L.done?null:L.value}prevMatchInRange(n,r,$){for(let L=$;;){let V=Math.max(r,L-1e4-this.spec.unquoted.length),oe=stringCursor(this.spec,n,V,L),re=null;for(;!oe.nextOverlapping().done;)re=oe.value;if(re)return re;if(V==r)return null;L-=1e4}}prevMatch(n,r,$){return this.prevMatchInRange(n,0,r)||this.prevMatchInRange(n,$,n.doc.length)}getReplacement(n){return this.spec.unquote(this.spec.replace)}matchAll(n,r){let $=stringCursor(this.spec,n,0,n.doc.length),L=[];for(;!$.next().done;){if(L.length>=r)return null;L.push($.value)}return L}highlight(n,r,$,L){let V=stringCursor(this.spec,n,Math.max(0,r-this.spec.unquoted.length),Math.min($+this.spec.unquoted.length,n.doc.length));for(;!V.next().done;)L(V.value.from,V.value.to)}}function regexpCursor(g,n,r,$){return new RegExpCursor(n.doc,g.search,{ignoreCase:!g.caseSensitive,test:g.wholeWord?regexpWordTest(n.charCategorizer(n.selection.main.head)):void 0},r,$)}function charBefore(g,n){return g.slice(findClusterBreak(g,n,!1),n)}function charAfter(g,n){return g.slice(n,findClusterBreak(g,n))}function regexpWordTest(g){return(n,r,$)=>!$[0].length||(g(charBefore($.input,$.index))!=CharCategory.Word||g(charAfter($.input,$.index))!=CharCategory.Word)&&(g(charAfter($.input,$.index+$[0].length))!=CharCategory.Word||g(charBefore($.input,$.index+$[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(n,r,$){let L=regexpCursor(this.spec,n,$,n.doc.length).next();return L.done&&(L=regexpCursor(this.spec,n,0,r).next()),L.done?null:L.value}prevMatchInRange(n,r,$){for(let L=1;;L++){let V=Math.max(r,$-L*1e4),oe=regexpCursor(this.spec,n,V,$),re=null;for(;!oe.next().done;)re=oe.value;if(re&&(V==r||re.from>V+10))return re;if(V==r)return null}}prevMatch(n,r,$){return this.prevMatchInRange(n,0,r)||this.prevMatchInRange(n,$,n.doc.length)}getReplacement(n){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(r,$)=>$=="$"?"$":$=="&"?n.match[0]:$!="0"&&+$<n.match.length?n.match[$]:r))}matchAll(n,r){let $=regexpCursor(this.spec,n,0,n.doc.length),L=[];for(;!$.next().done;){if(L.length>=r)return null;L.push($.value)}return L}highlight(n,r,$,L){let V=regexpCursor(this.spec,n,Math.max(0,r-250),Math.min($+250,n.doc.length));for(;!V.next().done;)L(V.value.from,V.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(g){return new SearchState(defaultQuery(g).create(),null)},update(g,n){for(let r of n.effects)r.is(setSearchQuery)?g=new SearchState(r.value.create(),g.panel):r.is(togglePanel$1)&&(g=new SearchState(g.query,r.value?createSearchPanel:null));return g},provide:g=>showPanel.from(g,n=>n.panel)});class SearchState{constructor(n,r){this.query=n,this.panel=r}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(g){this.view=g,this.decorations=this.highlight(g.state.field(searchState))}update(g){let n=g.state.field(searchState);(n!=g.startState.field(searchState)||g.docChanged||g.selectionSet||g.viewportChanged)&&(this.decorations=this.highlight(n))}highlight({query:g,panel:n}){if(!n||!g.spec.valid)return Decoration.none;let{view:r}=this,$=new RangeSetBuilder;for(let L=0,V=r.visibleRanges,oe=V.length;L<oe;L++){let{from:re,to:ae}=V[L];for(;L<oe-1&&ae>V[L+1].from-2*250;)ae=V[++L].to;g.highlight(r.state,re,ae,(le,ue)=>{let de=r.state.selection.ranges.some(pe=>pe.from==le&&pe.to==ue);$.add(le,ue,de?selectedMatchMark:matchMark)})}return $.finish()}},{decorations:g=>g.decorations});function searchCommand(g){return n=>{let r=n.state.field(searchState,!1);return r&&r.query.spec.valid?g(n,r):openSearchPanel(n)}}const findNext=searchCommand((g,{query:n})=>{let{to:r}=g.state.selection.main,$=n.nextMatch(g.state,r,r);if(!$)return!1;let L=EditorSelection.single($.from,$.to),V=g.state.facet(searchConfigFacet);return g.dispatch({selection:L,effects:[announceMatch(g,$),V.scrollToMatch(L.main)],userEvent:"select.search"}),!0}),findPrevious=searchCommand((g,{query:n})=>{let{state:r}=g,{from:$}=r.selection.main,L=n.prevMatch(r,$,$);if(!L)return!1;let V=EditorSelection.single(L.from,L.to),oe=g.state.facet(searchConfigFacet);return g.dispatch({selection:V,effects:[announceMatch(g,L),oe.scrollToMatch(V.main)],userEvent:"select.search"}),!0}),selectMatches=searchCommand((g,{query:n})=>{let r=n.matchAll(g.state,1e3);return!r||!r.length?!1:(g.dispatch({selection:EditorSelection.create(r.map($=>EditorSelection.range($.from,$.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:g,dispatch:n})=>{let r=g.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:$,to:L}=r.main,V=[],oe=0;for(let re=new SearchCursor(g.doc,g.sliceDoc($,L));!re.next().done;){if(V.length>1e3)return!1;re.value.from==$&&(oe=V.length),V.push(EditorSelection.range(re.value.from,re.value.to))}return n(g.update({selection:EditorSelection.create(V,oe),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((g,{query:n})=>{let{state:r}=g,{from:$,to:L}=r.selection.main;if(r.readOnly)return!1;let V=n.nextMatch(r,$,$);if(!V)return!1;let oe=[],re,ae,le=[];if(V.from==$&&V.to==L&&(ae=r.toText(n.getReplacement(V)),oe.push({from:V.from,to:V.to,insert:ae}),V=n.nextMatch(r,V.from,V.to),le.push(EditorView.announce.of(r.phrase("replaced match on line $",r.doc.lineAt($).number)+"."))),V){let ue=oe.length==0||oe[0].from>=V.to?0:V.to-V.from-ae.length;re=EditorSelection.single(V.from-ue,V.to-ue),le.push(announceMatch(g,V)),le.push(r.facet(searchConfigFacet).scrollToMatch(re.main))}return g.dispatch({changes:oe,selection:re,effects:le,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((g,{query:n})=>{if(g.state.readOnly)return!1;let r=n.matchAll(g.state,1e9).map(L=>{let{from:V,to:oe}=L;return{from:V,to:oe,insert:n.getReplacement(L)}});if(!r.length)return!1;let $=g.state.phrase("replaced $ matches",r.length)+".";return g.dispatch({changes:r,effects:EditorView.announce.of($),userEvent:"input.replace.all"}),!0});function createSearchPanel(g){return g.state.facet(searchConfigFacet).createPanel(g)}function defaultQuery(g,n){var r,$,L,V;let oe=g.selection.main,re=oe.empty||oe.to>oe.from+100?"":g.sliceDoc(oe.from,oe.to);if(n&&!re)return n;let ae=g.facet(searchConfigFacet);return new SearchQuery({search:((r=n==null?void 0:n.literal)!==null&&r!==void 0?r:ae.literal)?re:re.replace(/\n/g,"\\n"),caseSensitive:($=n==null?void 0:n.caseSensitive)!==null&&$!==void 0?$:ae.caseSensitive,literal:(L=n==null?void 0:n.literal)!==null&&L!==void 0?L:ae.literal,wholeWord:(V=n==null?void 0:n.wholeWord)!==null&&V!==void 0?V:ae.wholeWord})}const openSearchPanel=g=>{let n=g.state.field(searchState,!1);if(n&&n.panel){let r=getPanel$1(g,createSearchPanel);if(!r)return!1;let $=r.dom.querySelector("[main-field]");if($&&$!=g.root.activeElement){let L=defaultQuery(g.state,n.query.spec);L.valid&&g.dispatch({effects:setSearchQuery.of(L)}),$.focus(),$.select()}}else g.dispatch({effects:[togglePanel$1.of(!0),n?setSearchQuery.of(defaultQuery(g.state,n.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=g=>{let n=g.state.field(searchState,!1);if(!n||!n.panel)return!1;let r=getPanel$1(g,createSearchPanel);return r&&r.dom.contains(g.root.activeElement)&&g.focus(),g.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(n){this.view=n;let r=this.query=n.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:r.search,placeholder:phrase(n,"Find"),"aria-label":phrase(n,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:r.replace,placeholder:phrase(n,"Replace"),"aria-label":phrase(n,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function $(L,V,oe){return crelt("button",{class:"cm-button",name:L,onclick:V,type:"button"},oe)}this.dom=crelt("div",{onkeydown:L=>this.keydown(L),class:"cm-search"},[this.searchField,$("next",()=>findNext(n),[phrase(n,"next")]),$("prev",()=>findPrevious(n),[phrase(n,"previous")]),$("select",()=>selectMatches(n),[phrase(n,"all")]),crelt("label",null,[this.caseField,phrase(n,"match case")]),crelt("label",null,[this.reField,phrase(n,"regexp")]),crelt("label",null,[this.wordField,phrase(n,"by word")]),...n.state.readOnly?[]:[crelt("br"),this.replaceField,$("replace",()=>replaceNext(n),[phrase(n,"replace")]),$("replaceAll",()=>replaceAll(n),[phrase(n,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(n),"aria-label":phrase(n,"close"),type:"button"},["\xD7"])])}commit(){let n=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});n.eq(this.query)||(this.query=n,this.view.dispatch({effects:setSearchQuery.of(n)}))}keydown(n){runScopeHandlers(this.view,n,"search-panel")?n.preventDefault():n.keyCode==13&&n.target==this.searchField?(n.preventDefault(),(n.shiftKey?findPrevious:findNext)(this.view)):n.keyCode==13&&n.target==this.replaceField&&(n.preventDefault(),replaceNext(this.view))}update(n){for(let r of n.transactions)for(let $ of r.effects)$.is(setSearchQuery)&&!$.value.eq(this.query)&&this.setQuery($.value)}setQuery(n){this.query=n,this.searchField.value=n.search,this.replaceField.value=n.replace,this.caseField.checked=n.caseSensitive,this.reField.checked=n.regexp,this.wordField.checked=n.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(g,n){return g.state.phrase(n)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(g,{from:n,to:r}){let $=g.state.doc.lineAt(n),L=g.state.doc.lineAt(r).to,V=Math.max($.from,n-AnnounceMargin),oe=Math.min(L,r+AnnounceMargin),re=g.state.sliceDoc(V,oe);if(V!=$.from){for(let ae=0;ae<AnnounceMargin;ae++)if(!Break.test(re[ae+1])&&Break.test(re[ae])){re=re.slice(ae);break}}if(oe!=L){for(let ae=re.length-1;ae>re.length-AnnounceMargin;ae--)if(!Break.test(re[ae-1])&&Break.test(re[ae])){re=re.slice(0,ae);break}}return EditorView.announce.of(`${g.state.phrase("current match")}. ${re} ${g.state.phrase("on line")} ${$.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.lowest(searchHighlighter),baseTheme$2];class CompletionContext{constructor(n,r,$){this.state=n,this.pos=r,this.explicit=$,this.abortListeners=[]}tokenBefore(n){let r=syntaxTree(this.state).resolveInner(this.pos,-1);for(;r&&n.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(n){let r=this.state.doc.lineAt(this.pos),$=Math.max(r.from,this.pos-250),L=r.text.slice($-r.from,this.pos-r.from),V=L.search(ensureAnchor(n,!1));return V<0?null:{from:$+V,to:this.pos,text:L.slice(V)}}get aborted(){return this.abortListeners==null}addEventListener(n,r){n=="abort"&&this.abortListeners&&this.abortListeners.push(r)}}function toSet(g){let n=Object.keys(g).join(""),r=/\w/.test(n);return r&&(n=n.replace(/\w/g,"")),`[${r?"\\w":""}${n.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(g){let n=Object.create(null),r=Object.create(null);for(let{label:L}of g){n[L[0]]=!0;for(let V=1;V<L.length;V++)r[L[V]]=!0}let $=toSet(n)+toSet(r)+"*$";return[new RegExp("^"+$),new RegExp($)]}function completeFromList(g){let n=g.map(L=>typeof L=="string"?{label:L}:L),[r,$]=n.every(L=>/^\w+$/.test(L.label))?[/\w*$/,/\w+$/]:prefixMatch(n);return L=>{let V=L.matchBefore($);return V||L.explicit?{from:V?V.from:L.pos,options:n,validFor:r}:null}}function ifNotIn(g,n){return r=>{for(let $=syntaxTree(r.state).resolveInner(r.pos,-1);$;$=$.parent){if(g.indexOf($.name)>-1)return null;if($.type.isTop)break}return n(r)}}class Option$1{constructor(n,r,$){this.completion=n,this.source=r,this.match=$}}function cur(g){return g.selection.main.head}function ensureAnchor(g,n){var r;let{source:$}=g,L=n&&$[0]!="^",V=$[$.length-1]!="$";return!L&&!V?g:new RegExp(`${L?"^":""}(?:${$})${V?"$":""}`,(r=g.flags)!==null&&r!==void 0?r:g.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(g,n,r,$){return Object.assign(Object.assign({},g.changeByRange(L=>{if(L==g.selection.main)return{changes:{from:r,to:$,insert:n},range:EditorSelection.cursor(r+n.length)};let V=$-r;return!L.empty||V&&g.sliceDoc(L.from-V,L.from)!=g.sliceDoc(r,$)?{range:L}:{changes:{from:L.from-V,to:L.from,insert:n},range:EditorSelection.cursor(L.from-V+n.length)}})),{userEvent:"input.complete"})}function applyCompletion(g,n){const r=n.completion.apply||n.completion.label;let $=n.source;typeof r=="string"?g.dispatch(Object.assign(Object.assign({},insertCompletionText(g.state,r,$.from,$.to)),{annotations:pickedCompletion.of(n.completion)})):r(g,n.completion,$.from,$.to)}const SourceCache=new WeakMap;function asSource(g){if(!Array.isArray(g))return g;let n=SourceCache.get(g);return n||SourceCache.set(g,n=completeFromList(g)),n}class FuzzyMatcher{constructor(n){this.pattern=n,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let r=0;r<n.length;){let $=codePointAt(n,r),L=codePointSize($);this.chars.push($);let V=n.slice(r,r+L),oe=V.toUpperCase();this.folded.push(codePointAt(oe==V?V.toLowerCase():oe,0)),r+=L}this.astral=n.length!=this.chars.length}match(n){if(this.pattern.length==0)return[0];if(n.length<this.pattern.length)return null;let{chars:r,folded:$,any:L,precise:V,byWord:oe}=this;if(r.length==1){let Ie=codePointAt(n,0),Ne=codePointSize(Ie),ze=Ne==n.length?0:-100;if(Ie!=r[0])if(Ie==$[0])ze+=-200;else return null;return[ze,0,Ne]}let re=n.indexOf(this.pattern);if(re==0)return[n.length==this.pattern.length?0:-100,0,this.pattern.length];let ae=r.length,le=0;if(re<0){for(let Ie=0,Ne=Math.min(n.length,200);Ie<Ne&&le<ae;){let ze=codePointAt(n,Ie);(ze==r[le]||ze==$[le])&&(L[le++]=Ie),Ie+=codePointSize(ze)}if(le<ae)return null}let ue=0,de=0,pe=!1,he=0,_e=-1,Oe=-1,xe=/[a-z]/.test(n),$e=!0;for(let Ie=0,Ne=Math.min(n.length,200),ze=0;Ie<Ne&&de<ae;){let Ue=codePointAt(n,Ie);re<0&&(ue<ae&&Ue==r[ue]&&(V[ue++]=Ie),he<ae&&(Ue==r[he]||Ue==$[he]?(he==0&&(_e=Ie),Oe=Ie+1,he++):he=0));let Fe,qe=Ue<255?Ue>=48&&Ue<=57||Ue>=97&&Ue<=122?2:Ue>=65&&Ue<=90?1:0:(Fe=fromCodePoint(Ue))!=Fe.toLowerCase()?1:Fe!=Fe.toUpperCase()?2:0;(!Ie||qe==1&&xe||ze==0&&qe!=0)&&(r[de]==Ue||$[de]==Ue&&(pe=!0)?oe[de++]=Ie:oe.length&&($e=!1)),ze=qe,Ie+=codePointSize(Ue)}return de==ae&&oe[0]==0&&$e?this.result(-100+(pe?-200:0),oe,n):he==ae&&_e==0?[-200-n.length+(Oe==n.length?0:-100),0,Oe]:re>-1?[-700-n.length,re,re+this.pattern.length]:he==ae?[-900-n.length,_e,Oe]:de==ae?this.result(-100+(pe?-200:0)+-700+($e?0:-1100),oe,n):r.length==2?null:this.result((L[0]?-700:0)+-200+-1100,L,n)}result(n,r,$){let L=[n-$.length],V=1;for(let oe of r){let re=oe+(this.astral?codePointSize(codePointAt($,oe)):1);V>1&&L[V-1]==oe?L[V-1]=re:(L[V++]=oe,L[V++]=re)}return L}}const completionConfig=Facet.define({combine(g){return combineConfig(g,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(n,r)=>n.label.localeCompare(r.label),interactionDelay:75},{defaultKeymap:(n,r)=>n&&r,closeOnBlur:(n,r)=>n&&r,icons:(n,r)=>n&&r,tooltipClass:(n,r)=>$=>joinClass(n($),r($)),optionClass:(n,r)=>$=>joinClass(n($),r($)),addToOptions:(n,r)=>n.concat(r)})}});function joinClass(g,n){return g?n?g+" "+n:g:n}function optionContent(g){let n=g.addToOptions.slice();return g.icons&&n.push({render(r){let $=document.createElement("div");return $.classList.add("cm-completionIcon"),r.type&&$.classList.add(...r.type.split(/\s+/g).map(L=>"cm-completionIcon-"+L)),$.setAttribute("aria-hidden","true"),$},position:20}),n.push({render(r,$,L){let V=document.createElement("span");V.className="cm-completionLabel";let{label:oe}=r,re=0;for(let ae=1;ae<L.length;){let le=L[ae++],ue=L[ae++];le>re&&V.appendChild(document.createTextNode(oe.slice(re,le)));let de=V.appendChild(document.createElement("span"));de.appendChild(document.createTextNode(oe.slice(le,ue))),de.className="cm-completionMatchedText",re=ue}return re<oe.length&&V.appendChild(document.createTextNode(oe.slice(re))),V},position:50},{render(r){if(!r.detail)return null;let $=document.createElement("span");return $.className="cm-completionDetail",$.textContent=r.detail,$},position:80}),n.sort((r,$)=>r.position-$.position).map(r=>r.render)}function rangeAroundSelected(g,n,r){if(g<=r)return{from:0,to:g};if(n<0&&(n=0),n<=g>>1){let L=Math.floor(n/r);return{from:L*r,to:(L+1)*r}}let $=Math.floor((g-n)/r);return{from:g-($+1)*r,to:g-$*r}}class CompletionTooltip{constructor(n,r){this.view=n,this.stateField=r,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:re=>this.positionInfo(re),key:this},this.space=null,this.currentClass="";let $=n.state.field(r),{options:L,selected:V}=$.open,oe=n.state.facet(completionConfig);this.optionContent=optionContent(oe),this.optionClass=oe.optionClass,this.tooltipClass=oe.tooltipClass,this.range=rangeAroundSelected(L.length,V,oe.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(n.state),this.dom.addEventListener("mousedown",re=>{for(let ae=re.target,le;ae&&ae!=this.dom;ae=ae.parentNode)if(ae.nodeName=="LI"&&(le=/-(\d+)$/.exec(ae.id))&&+le[1]<L.length){applyCompletion(n,L[+le[1]]),re.preventDefault();return}}),this.list=this.dom.appendChild(this.createListBox(L,$.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(n){var r,$,L;let V=n.state.field(this.stateField),oe=n.startState.field(this.stateField);this.updateTooltipClass(n.state),V!=oe&&(this.updateSel(),((r=V.open)===null||r===void 0?void 0:r.disabled)!=(($=oe.open)===null||$===void 0?void 0:$.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((L=V.open)===null||L===void 0)&&L.disabled)))}updateTooltipClass(n){let r=this.tooltipClass(n);if(r!=this.currentClass){for(let $ of this.currentClass.split(" "))$&&this.dom.classList.remove($);for(let $ of r.split(" "))$&&this.dom.classList.add($);this.currentClass=r}}positioned(n){this.space=n,this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let n=this.view.state.field(this.stateField),r=n.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=rangeAroundSelected(r.options.length,r.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(r.options,n.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(r.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:$}=r.options[r.selected],{info:L}=$;if(!L)return;let V=typeof L=="string"?document.createTextNode(L):L($);if(!V)return;"then"in V?V.then(oe=>{oe&&this.view.state.field(this.stateField,!1)==n&&this.addInfoPane(oe)}).catch(oe=>logException(this.view.state,oe,"completion info")):this.addInfoPane(V)}}addInfoPane(n){let r=this.info=document.createElement("div");r.className="cm-tooltip cm-completionInfo",r.appendChild(n),this.dom.appendChild(r),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(n){let r=null;for(let $=this.list.firstChild,L=this.range.from;$;$=$.nextSibling,L++)L==n?$.hasAttribute("aria-selected")||($.setAttribute("aria-selected","true"),r=$):$.hasAttribute("aria-selected")&&$.removeAttribute("aria-selected");return r&&scrollIntoView$1(this.list,r),r}measureInfo(){let n=this.dom.querySelector("[aria-selected]");if(!n||!this.info)return null;let r=this.dom.getBoundingClientRect(),$=this.info.getBoundingClientRect(),L=n.getBoundingClientRect(),V=this.space;if(!V){let _e=this.dom.ownerDocument.defaultView||window;V={left:0,top:0,right:_e.innerWidth,bottom:_e.innerHeight}}if(L.top>Math.min(V.bottom,r.bottom)-10||L.bottom<Math.max(V.top,r.top)+10)return null;let oe=this.view.textDirection==Direction.RTL,re=oe,ae=!1,le,ue="",de="",pe=r.left-V.left,he=V.right-r.right;if(re&&pe<Math.min($.width,he)?re=!1:!re&&he<Math.min($.width,pe)&&(re=!0),$.width<=(re?pe:he))ue=Math.max(V.top,Math.min(L.top,V.bottom-$.height))-r.top+"px",le=Math.min(400,re?pe:he)+"px";else{ae=!0,le=Math.min(400,(oe?r.right:V.right-r.left)-30)+"px";let _e=V.bottom-r.bottom;_e>=$.height||_e>r.top?ue=L.bottom-r.top+"px":de=r.bottom-L.top+"px"}return{top:ue,bottom:de,maxWidth:le,class:ae?oe?"left-narrow":"right-narrow":re?"left":"right"}}positionInfo(n){this.info&&(n?(this.info.style.top=n.top,this.info.style.bottom=n.bottom,this.info.style.maxWidth=n.maxWidth,this.info.className="cm-tooltip cm-completionInfo cm-completionInfo-"+n.class):this.info.style.top="-1e6px")}createListBox(n,r,$){const L=document.createElement("ul");L.id=r,L.setAttribute("role","listbox"),L.setAttribute("aria-expanded","true"),L.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let V=$.from;V<$.to;V++){let{completion:oe,match:re}=n[V];const ae=L.appendChild(document.createElement("li"));ae.id=r+"-"+V,ae.setAttribute("role","option");let le=this.optionClass(oe);le&&(ae.className=le);for(let ue of this.optionContent){let de=ue(oe,this.view.state,re);de&&ae.appendChild(de)}}return $.from&&L.classList.add("cm-completionListIncompleteTop"),$.to<n.length&&L.classList.add("cm-completionListIncompleteBottom"),L}}function completionTooltip(g){return n=>new CompletionTooltip(n,g)}function scrollIntoView$1(g,n){let r=g.getBoundingClientRect(),$=n.getBoundingClientRect();$.top<r.top?g.scrollTop-=r.top-$.top:$.bottom>r.bottom&&(g.scrollTop+=$.bottom-r.bottom)}function score(g){return(g.boost||0)*100+(g.apply?10:0)+(g.info?5:0)+(g.type?1:0)}function sortOptions(g,n){let r=[],$=0;for(let re of g)if(re.hasResult())if(re.result.filter===!1){let ae=re.result.getMatch;for(let le of re.result.options){let ue=[1e9-$++];if(ae)for(let de of ae(le))ue.push(de);r.push(new Option$1(le,re,ue))}}else{let ae=new FuzzyMatcher(n.sliceDoc(re.from,re.to)),le;for(let ue of re.result.options)(le=ae.match(ue.label))&&(ue.boost!=null&&(le[0]+=ue.boost),r.push(new Option$1(ue,re,le)))}let L=[],V=null,oe=n.facet(completionConfig).compareCompletions;for(let re of r.sort((ae,le)=>le.match[0]-ae.match[0]||oe(ae.completion,le.completion)))!V||V.label!=re.completion.label||V.detail!=re.completion.detail||V.type!=null&&re.completion.type!=null&&V.type!=re.completion.type||V.apply!=re.completion.apply?L.push(re):score(re.completion)>score(V)&&(L[L.length-1]=re),V=re.completion;return L}class CompletionDialog{constructor(n,r,$,L,V,oe){this.options=n,this.attrs=r,this.tooltip=$,this.timestamp=L,this.selected=V,this.disabled=oe}setSelected(n,r){return n==this.selected||n>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(r,n),this.tooltip,this.timestamp,n,this.disabled)}static build(n,r,$,L,V){let oe=sortOptions(n,r);if(!oe.length)return L&&n.some(ae=>ae.state==1)?new CompletionDialog(L.options,L.attrs,L.tooltip,L.timestamp,L.selected,!0):null;let re=r.facet(completionConfig).selectOnOpen?0:-1;if(L&&L.selected!=re&&L.selected!=-1){let ae=L.options[L.selected].completion;for(let le=0;le<oe.length;le++)if(oe[le].completion==ae){re=le;break}}return new CompletionDialog(oe,makeAttrs($,re),{pos:n.reduce((ae,le)=>le.hasResult()?Math.min(ae,le.from):ae,1e8),create:completionTooltip(completionState),above:V.aboveCursor},L?L.timestamp:Date.now(),re,!1)}map(n){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:n.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class CompletionState{constructor(n,r,$){this.active=n,this.id=r,this.open=$}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(n){let{state:r}=n,$=r.facet(completionConfig),L=($.override||r.languageDataAt("autocomplete",cur(r)).map(asSource)).map(oe=>(this.active.find(re=>re.source==oe)||new ActiveSource(oe,this.active.some(re=>re.state!=0)?1:0)).update(n,$));L.length==this.active.length&&L.every((oe,re)=>oe==this.active[re])&&(L=this.active);let V=this.open;V&&n.docChanged&&(V=V.map(n.changes)),n.selection||L.some(oe=>oe.hasResult()&&n.changes.touchesRange(oe.from,oe.to))||!sameResults(L,this.active)?V=CompletionDialog.build(L,r,this.id,V,$):V&&V.disabled&&!L.some(oe=>oe.state==1)&&(V=null),!V&&L.every(oe=>oe.state!=1)&&L.some(oe=>oe.hasResult())&&(L=L.map(oe=>oe.hasResult()?new ActiveSource(oe.source,0):oe));for(let oe of n.effects)oe.is(setSelectedEffect)&&(V=V&&V.setSelected(oe.value,this.id));return L==this.active&&V==this.open?this:new CompletionState(L,this.id,V)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:baseAttrs}}function sameResults(g,n){if(g==n)return!0;for(let r=0,$=0;;){for(;r<g.length&&!g[r].hasResult;)r++;for(;$<n.length&&!n[$].hasResult;)$++;let L=r==g.length,V=$==n.length;if(L||V)return L==V;if(g[r++].result!=n[$++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"};function makeAttrs(g,n){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":g};return n>-1&&(r["aria-activedescendant"]=g+"-"+n),r}const none=[];function getUserEvent(g){return g.isUserEvent("input.type")?"input":g.isUserEvent("delete.backward")?"delete":null}class ActiveSource{constructor(n,r,$=-1){this.source=n,this.state=r,this.explicitPos=$}hasResult(){return!1}update(n,r){let $=getUserEvent(n),L=this;$?L=L.handleUserEvent(n,$,r):n.docChanged?L=L.handleChange(n):n.selection&&L.state!=0&&(L=new ActiveSource(L.source,0));for(let V of n.effects)if(V.is(startCompletionEffect))L=new ActiveSource(L.source,1,V.value?cur(n.state):-1);else if(V.is(closeCompletionEffect))L=new ActiveSource(L.source,0);else if(V.is(setActiveEffect))for(let oe of V.value)oe.source==L.source&&(L=oe);return L}handleUserEvent(n,r,$){return r=="delete"||!$.activateOnTyping?this.map(n.changes):new ActiveSource(this.source,1)}handleChange(n){return n.changes.touchesRange(cur(n.startState))?new ActiveSource(this.source,0):this.map(n.changes)}map(n){return n.empty||this.explicitPos<0?this:new ActiveSource(this.source,this.state,n.mapPos(this.explicitPos))}}class ActiveResult extends ActiveSource{constructor(n,r,$,L,V){super(n,2,r),this.result=$,this.from=L,this.to=V}hasResult(){return!0}handleUserEvent(n,r,$){var L;let V=n.changes.mapPos(this.from),oe=n.changes.mapPos(this.to,1),re=cur(n.state);if((this.explicitPos<0?re<=V:re<this.from)||re>oe||r=="delete"&&cur(n.startState)==this.from)return new ActiveSource(this.source,r=="input"&&$.activateOnTyping?1:0);let ae=this.explicitPos<0?-1:n.changes.mapPos(this.explicitPos),le;return checkValid(this.result.validFor,n.state,V,oe)?new ActiveResult(this.source,ae,this.result,V,oe):this.result.update&&(le=this.result.update(this.result,V,oe,new CompletionContext(n.state,re,ae>=0)))?new ActiveResult(this.source,ae,le,le.from,(L=le.to)!==null&&L!==void 0?L:cur(n.state)):new ActiveSource(this.source,1,ae)}handleChange(n){return n.changes.touchesRange(this.from,this.to)?new ActiveSource(this.source,0):this.map(n.changes)}map(n){return n.empty?this:new ActiveResult(this.source,this.explicitPos<0?-1:n.mapPos(this.explicitPos),this.result,n.mapPos(this.from),n.mapPos(this.to,1))}}function checkValid(g,n,r,$){if(!g)return!1;let L=n.sliceDoc(r,$);return typeof g=="function"?g(L,r,$,n):ensureAnchor(g,!0).test(L)}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define(),setActiveEffect=StateEffect.define({map(g,n){return g.map(r=>r.map(n))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(g,n){return g.update(n)},provide:g=>[showTooltip.from(g,n=>n.tooltip),EditorView.contentAttributes.from(g,n=>n.attrs)]});function moveCompletionSelection(g,n="option"){return r=>{let $=r.state.field(completionState,!1);if(!$||!$.open||$.open.disabled||Date.now()-$.open.timestamp<r.state.facet(completionConfig).interactionDelay)return!1;let L=1,V;n=="page"&&(V=getTooltip(r,$.open.tooltip))&&(L=Math.max(2,Math.floor(V.dom.offsetHeight/V.dom.querySelector("li").offsetHeight)-1));let{length:oe}=$.open.options,re=$.open.selected>-1?$.open.selected+L*(g?1:-1):g?0:oe-1;return re<0?re=n=="page"?0:oe-1:re>=oe&&(re=n=="page"?oe-1:0),r.dispatch({effects:setSelectedEffect.of(re)}),!0}}const acceptCompletion=g=>{let n=g.state.field(completionState,!1);return g.state.readOnly||!n||!n.open||n.open.selected<0||Date.now()-n.open.timestamp<g.state.facet(completionConfig).interactionDelay?!1:(n.open.disabled||applyCompletion(g,n.open.options[n.open.selected]),!0)},startCompletion=g=>g.state.field(completionState,!1)?(g.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=g=>{let n=g.state.field(completionState,!1);return!n||!n.active.some(r=>r.state!=0)?!1:(g.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(n,r){this.active=n,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const DebounceTime=50,MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(g){this.view=g,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let n of g.state.field(completionState).active)n.state==1&&this.startQuery(n)}update(g){let n=g.state.field(completionState);if(!g.selectionSet&&!g.docChanged&&g.startState.field(completionState)==n)return;let r=g.transactions.some($=>($.selection||$.docChanged)&&!getUserEvent($));for(let $=0;$<this.running.length;$++){let L=this.running[$];if(r||L.updates.length+g.transactions.length>MaxUpdateCount&&Date.now()-L.time>MinAbortTime){for(let V of L.context.abortListeners)try{V()}catch(oe){logException(this.view.state,oe)}L.context.abortListeners=null,this.running.splice($--,1)}else L.updates.push(...g.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=n.active.some($=>$.state==1&&!this.running.some(L=>L.active.source==$.source))?setTimeout(()=>this.startUpdate(),DebounceTime):-1,this.composing!=0)for(let $ of g.transactions)getUserEvent($)=="input"?this.composing=2:this.composing==2&&$.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:g}=this.view,n=g.field(completionState);for(let r of n.active)r.state==1&&!this.running.some($=>$.active.source==r.source)&&this.startQuery(r)}startQuery(g){let{state:n}=this.view,r=cur(n),$=new CompletionContext(n,r,g.explicitPos==r),L=new RunningQuery(g,$);this.running.push(L),Promise.resolve(g.source($)).then(V=>{L.context.aborted||(L.done=V||null,this.scheduleAccept())},V=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,V)})}scheduleAccept(){this.running.every(g=>g.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),DebounceTime))}accept(){var g;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let n=[],r=this.view.state.facet(completionConfig);for(let $=0;$<this.running.length;$++){let L=this.running[$];if(L.done===void 0)continue;if(this.running.splice($--,1),L.done){let oe=new ActiveResult(L.active.source,L.active.explicitPos,L.done,L.done.from,(g=L.done.to)!==null&&g!==void 0?g:cur(L.updates.length?L.updates[0].startState:this.view.state));for(let re of L.updates)oe=oe.update(re,r);if(oe.hasResult()){n.push(oe);continue}}let V=this.view.state.field(completionState).active.find(oe=>oe.source==L.active.source);if(V&&V.state==1)if(L.done==null){let oe=new ActiveSource(L.active.source,0);for(let re of L.updates)oe=oe.update(re,r);oe.state!=1&&n.push(oe)}else this.startQuery(V)}n.length&&this.view.dispatch({effects:setActiveEffect.of(n)})}},{eventHandlers:{blur(){let g=this.view.state.field(completionState,!1);g&&g.tooltip&&this.view.state.facet(completionConfig).closeOnBlur&&this.view.dispatch({effects:closeCompletionEffect.of(null)})},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:`${400}px`,boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:`${30}px`},".cm-completionInfo.cm-completionInfo-right-narrow":{left:`${30}px`},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(n,r,$,L){this.field=n,this.line=r,this.from=$,this.to=L}}class FieldRange{constructor(n,r,$){this.field=n,this.from=r,this.to=$}map(n){let r=n.mapPos(this.from,-1,MapMode.TrackDel),$=n.mapPos(this.to,1,MapMode.TrackDel);return r==null||$==null?null:new FieldRange(this.field,r,$)}}class Snippet{constructor(n,r){this.lines=n,this.fieldPositions=r}instantiate(n,r){let $=[],L=[r],V=n.doc.lineAt(r),oe=/^\s*/.exec(V.text)[0];for(let ae of this.lines){if($.length){let le=oe,ue=/^\t*/.exec(ae)[0].length;for(let de=0;de<ue;de++)le+=n.facet(indentUnit);L.push(r+le.length-ue),ae=le+ae.slice(ue)}$.push(ae),r+=ae.length+1}let re=this.fieldPositions.map(ae=>new FieldRange(ae.field,L[ae.line]+ae.from,L[ae.line]+ae.to));return{text:$,ranges:re}}static parse(n){let r=[],$=[],L=[],V;for(let oe of n.split(/\r\n?|\n/)){for(;V=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(oe);){let re=V[1]?+V[1]:null,ae=V[2]||V[3]||"",le=-1;for(let ue=0;ue<r.length;ue++)(re!=null?r[ue].seq==re:ae?r[ue].name==ae:!1)&&(le=ue);if(le<0){let ue=0;for(;ue<r.length&&(re==null||r[ue].seq!=null&&r[ue].seq<re);)ue++;r.splice(ue,0,{seq:re,name:ae}),le=ue;for(let de of L)de.field>=le&&de.field++}L.push(new FieldPos(le,$.length,V.index,V.index+ae.length)),oe=oe.slice(0,V.index)+ae+oe.slice(V.index+V[0].length)}for(let re;re=/\\([{}])/.exec(oe);){oe=oe.slice(0,re.index)+re[1]+oe.slice(re.index+re[0].length);for(let ae of L)ae.line==$.length&&ae.from>re.index&&(ae.from--,ae.to--)}$.push(oe)}return new Snippet($,L)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let g=document.createElement("span");return g.className="cm-snippetFieldPosition",g}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(n,r){this.ranges=n,this.active=r,this.deco=Decoration.set(n.map($=>($.from==$.to?fieldMarker:fieldRange).range($.from,$.to)))}map(n){let r=[];for(let $ of this.ranges){let L=$.map(n);if(!L)return null;r.push(L)}return new ActiveSnippet(r,this.active)}selectionInsideField(n){return n.ranges.every(r=>this.ranges.some($=>$.field==this.active&&$.from<=r.from&&$.to>=r.to))}}const setActive=StateEffect.define({map(g,n){return g&&g.map(n)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(g,n){for(let r of n.effects){if(r.is(setActive))return r.value;if(r.is(moveToField)&&g)return new ActiveSnippet(g.ranges,r.value)}return g&&n.docChanged&&(g=g.map(n.changes)),g&&n.selection&&!g.selectionInsideField(n.selection)&&(g=null),g},provide:g=>EditorView.decorations.from(g,n=>n?n.deco:Decoration.none)});function fieldSelection(g,n){return EditorSelection.create(g.filter(r=>r.field==n).map(r=>EditorSelection.range(r.from,r.to)))}function snippet(g){let n=Snippet.parse(g);return(r,$,L,V)=>{let{text:oe,ranges:re}=n.instantiate(r.state,L),ae={changes:{from:L,to:V,insert:Text.of(oe)},scrollIntoView:!0,annotations:pickedCompletion.of($)};if(re.length&&(ae.selection=fieldSelection(re,0)),re.length>1){let le=new ActiveSnippet(re,0),ue=ae.effects=[setActive.of(le)];r.state.field(snippetState,!1)===void 0&&ue.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}r.dispatch(r.state.update(ae))}}function moveField(g){return({state:n,dispatch:r})=>{let $=n.field(snippetState,!1);if(!$||g<0&&$.active==0)return!1;let L=$.active+g,V=g>0&&!$.ranges.some(oe=>oe.field==L+g);return r(n.update({selection:fieldSelection($.ranges,L),effects:setActive.of(V?null:new ActiveSnippet($.ranges,L))})),!0}}const clearSnippet=({state:g,dispatch:n})=>g.field(snippetState,!1)?(n(g.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(g){return g.length?g[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],g=>g.facet(snippetKeymap)));function snippetCompletion(g,n){return Object.assign(Object.assign({},n),{apply:snippet(g)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(g,n){let r=n.state.field(snippetState,!1),$;if(!r||($=n.posAtCoords({x:g.clientX,y:g.clientY}))==null)return!1;let L=r.ranges.find(V=>V.from<=$&&V.to>=$);return!L||L.field==r.active?!1:(n.dispatch({selection:fieldSelection(r.ranges,L.field),effects:setActive.of(r.ranges.some(V=>V.field>L.field)?new ActiveSnippet(r.ranges,L.field):null)}),!0)}}),defaults$3={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(g,n){let r=n.mapPos(g,-1,MapMode.TrackAfter);return r!=null?r:void 0}}),skipBracketEffect=StateEffect.define({map(g,n){return n.mapPos(g)}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1,closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(g,n){if(n.selection){let r=n.state.doc.lineAt(n.selection.main.head).from,$=n.startState.doc.lineAt(n.startState.selection.main.head).from;r!=n.changes.mapPos($,-1)&&(g=RangeSet.empty)}g=g.map(n.changes);for(let r of n.effects)r.is(closeBracketEffect)?g=g.update({add:[closedBracket.range(r.value,r.value+1)]}):r.is(skipBracketEffect)&&(g=g.update({filter:$=>$!=r.value}));return g}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(g){for(let n=0;n<definedClosing.length;n+=2)if(definedClosing.charCodeAt(n)==g)return definedClosing.charAt(n+1);return fromCodePoint(g<128?g:g+1)}function config(g,n){return g.languageDataAt("closeBrackets",n)[0]||defaults$3}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((g,n,r,$)=>{if((android$1?g.composing:g.compositionStarted)||g.state.readOnly)return!1;let L=g.state.selection.main;if($.length>2||$.length==2&&codePointSize(codePointAt($,0))==1||n!=L.from||r!=L.to)return!1;let V=insertBracket(g.state,$);return V?(g.dispatch(V),!0):!1}),deleteBracketPair=({state:g,dispatch:n})=>{if(g.readOnly)return!1;let r=config(g,g.selection.main.head).brackets||defaults$3.brackets,$=null,L=g.changeByRange(V=>{if(V.empty){let oe=prevChar(g.doc,V.head);for(let re of r)if(re==oe&&nextChar(g.doc,V.head)==closing(codePointAt(re,0)))return{changes:{from:V.head-re.length,to:V.head+re.length},range:EditorSelection.cursor(V.head-re.length)}}return{range:$=V}});return $||n(g.update(L,{scrollIntoView:!0,userEvent:"delete.backward"})),!$},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(g,n){let r=config(g,g.selection.main.head),$=r.brackets||defaults$3.brackets;for(let L of $){let V=closing(codePointAt(L,0));if(n==L)return V==L?handleSame(g,L,$.indexOf(L+L+L)>-1,r):handleOpen(g,L,V,r.before||defaults$3.before);if(n==V&&closedBracketAt(g,g.selection.main.from))return handleClose(g,L,V)}return null}function closedBracketAt(g,n){let r=!1;return g.field(bracketState).between(0,g.doc.length,$=>{$==n&&(r=!0)}),r}function nextChar(g,n){let r=g.sliceString(n,n+2);return r.slice(0,codePointSize(codePointAt(r,0)))}function prevChar(g,n){let r=g.sliceString(n-2,n);return codePointSize(codePointAt(r,0))==r.length?r:r.slice(1)}function handleOpen(g,n,r,$){let L=null,V=g.changeByRange(oe=>{if(!oe.empty)return{changes:[{insert:n,from:oe.from},{insert:r,from:oe.to}],effects:closeBracketEffect.of(oe.to+n.length),range:EditorSelection.range(oe.anchor+n.length,oe.head+n.length)};let re=nextChar(g.doc,oe.head);return!re||/\s/.test(re)||$.indexOf(re)>-1?{changes:{insert:n+r,from:oe.head},effects:closeBracketEffect.of(oe.head+n.length),range:EditorSelection.cursor(oe.head+n.length)}:{range:L=oe}});return L?null:g.update(V,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(g,n,r){let $=null,L=g.selection.ranges.map(V=>V.empty&&nextChar(g.doc,V.head)==r?EditorSelection.cursor(V.head+r.length):$=V);return $?null:g.update({selection:EditorSelection.create(L,g.selection.mainIndex),scrollIntoView:!0,effects:g.selection.ranges.map(({from:V})=>skipBracketEffect.of(V))})}function handleSame(g,n,r,$){let L=$.stringPrefixes||defaults$3.stringPrefixes,V=null,oe=g.changeByRange(re=>{if(!re.empty)return{changes:[{insert:n,from:re.from},{insert:n,from:re.to}],effects:closeBracketEffect.of(re.to+n.length),range:EditorSelection.range(re.anchor+n.length,re.head+n.length)};let ae=re.head,le=nextChar(g.doc,ae),ue;if(le==n){if(nodeStart(g,ae))return{changes:{insert:n+n,from:ae},effects:closeBracketEffect.of(ae+n.length),range:EditorSelection.cursor(ae+n.length)};if(closedBracketAt(g,ae)){let de=r&&g.sliceDoc(ae,ae+n.length*3)==n+n+n;return{range:EditorSelection.cursor(ae+n.length*(de?3:1)),effects:skipBracketEffect.of(ae)}}}else{if(r&&g.sliceDoc(ae-2*n.length,ae)==n+n&&(ue=canStartStringAt(g,ae-2*n.length,L))>-1&&nodeStart(g,ue))return{changes:{insert:n+n+n+n,from:ae},effects:closeBracketEffect.of(ae+n.length),range:EditorSelection.cursor(ae+n.length)};if(g.charCategorizer(ae)(le)!=CharCategory.Word&&canStartStringAt(g,ae,L)>-1&&!probablyInString(g,ae,n,L))return{changes:{insert:n+n,from:ae},effects:closeBracketEffect.of(ae+n.length),range:EditorSelection.cursor(ae+n.length)}}return{range:V=re}});return V?null:g.update(oe,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(g,n){let r=syntaxTree(g).resolveInner(n+1);return r.parent&&r.from==n}function probablyInString(g,n,r,$){let L=syntaxTree(g).resolveInner(n,-1),V=$.reduce((oe,re)=>Math.max(oe,re.length),0);for(let oe=0;oe<5;oe++){let re=g.sliceDoc(L.from,Math.min(L.to,L.from+r.length+V)),ae=re.indexOf(r);if(!ae||ae>-1&&$.indexOf(re.slice(0,ae))>-1){let ue=L.firstChild;for(;ue&&ue.from==L.from&&ue.to-ue.from>r.length+ae;){if(g.sliceDoc(ue.to-r.length,ue.to)==r)return!1;ue=ue.firstChild}return!0}let le=L.to==n&&L.parent;if(!le)break;L=le}return!1}function canStartStringAt(g,n,r){let $=g.charCategorizer(n);if($(g.sliceDoc(n-1,n))!=CharCategory.Word)return n;for(let L of r){let V=n-L.length;if(g.sliceDoc(V,n)==L&&$(g.sliceDoc(V-1,V))!=CharCategory.Word)return V}return-1}function autocompletion(g={}){return[completionState,completionConfig.of(g),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],g=>g.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(n,r,$){this.from=n,this.to=r,this.diagnostic=$}}class LintState{constructor(n,r,$){this.diagnostics=n,this.panel=r,this.selected=$}static init(n,r,$){let L=n,V=$.facet(lintConfig).markerFilter;V&&(L=V(L));let oe=Decoration.set(L.map(re=>re.from==re.to||re.from==re.to-1&&$.doc.lineAt(re.from).to==re.from?Decoration.widget({widget:new DiagnosticWidget(re),diagnostic:re}).range(re.from):Decoration.mark({attributes:{class:"cm-lintRange cm-lintRange-"+re.severity},diagnostic:re}).range(re.from,re.to)),!0);return new LintState(oe,r,findDiagnostic(oe))}}function findDiagnostic(g,n=null,r=0){let $=null;return g.between(r,1e9,(L,V,{spec:oe})=>{if(!(n&&oe.diagnostic!=n))return $=new SelectedDiagnostic(L,V,oe.diagnostic),!1}),$}function hideTooltip(g,n){return!!(g.effects.some(r=>r.is(setDiagnosticsEffect))||g.changes.touchesRange(n.pos))}function maybeEnableLint(g,n){return g.field(lintState,!1)?n:n.concat(StateEffect.appendConfig.of([lintState,EditorView.decorations.compute([lintState],r=>{let{selected:$,panel:L}=r.field(lintState);return!$||!L||$.from==$.to?Decoration.none:Decoration.set([activeMark.range($.from,$.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme]))}function setDiagnostics(g,n){return{effects:maybeEnableLint(g,[setDiagnosticsEffect.of(n)])}}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(g,n){if(n.docChanged){let r=g.diagnostics.map(n.changes),$=null;if(g.selected){let L=n.changes.mapPos(g.selected.from,1);$=findDiagnostic(r,g.selected.diagnostic,L)||findDiagnostic(r,null,L)}g=new LintState(r,g.panel,$)}for(let r of n.effects)r.is(setDiagnosticsEffect)?g=LintState.init(r.value,g.panel,n.state):r.is(togglePanel)?g=new LintState(g.diagnostics,r.value?LintPanel.open:null,g.selected):r.is(movePanelSelection)&&(g=new LintState(g.diagnostics,g.panel,r.value));return g},provide:g=>[showPanel.from(g,n=>n.panel),EditorView.decorations.from(g,n=>n.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(g,n,r){let{diagnostics:$}=g.state.field(lintState),L=[],V=2e8,oe=0;$.between(n-(r<0?1:0),n+(r>0?1:0),(ae,le,{spec:ue})=>{n>=ae&&n<=le&&(ae==le||(n>ae||r>0)&&(n<le||r<0))&&(L.push(ue.diagnostic),V=Math.min(ae,V),oe=Math.max(le,oe))});let re=g.state.facet(lintConfig).tooltipFilter;return re&&(L=re(L)),L.length?{pos:V,end:oe,above:g.state.doc.lineAt(V).to<oe,create(){return{dom:diagnosticsTooltip(g,L)}}}:null}function diagnosticsTooltip(g,n){return crelt("ul",{class:"cm-tooltip-lint"},n.map(r=>renderDiagnostic(g,r,!1)))}const openLintPanel=g=>{let n=g.state.field(lintState,!1);(!n||!n.panel)&&g.dispatch({effects:maybeEnableLint(g.state,[togglePanel.of(!0)])});let r=getPanel$1(g,LintPanel.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=g=>{let n=g.state.field(lintState,!1);return!n||!n.panel?!1:(g.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=g=>{let n=g.state.field(lintState,!1);if(!n)return!1;let r=g.state.selection.main,$=n.diagnostics.iter(r.to+1);return!$.value&&($=n.diagnostics.iter(0),!$.value||$.from==r.from&&$.to==r.to)?!1:(g.dispatch({selection:{anchor:$.from,head:$.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintPlugin=ViewPlugin.fromClass(class{constructor(g){this.view=g,this.timeout=-1,this.set=!0;let{delay:n}=g.state.facet(lintConfig);this.lintTime=Date.now()+n,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,n)}run(){let g=Date.now();if(g<this.lintTime-10)setTimeout(this.run,this.lintTime-g);else{this.set=!1;let{state:n}=this.view,{sources:r}=n.facet(lintConfig);Promise.all(r.map($=>Promise.resolve($(this.view)))).then($=>{let L=$.reduce((V,oe)=>V.concat(oe));this.view.state.doc==n.doc&&this.view.dispatch(setDiagnostics(this.view.state,L))},$=>{logException(this.view.state,$)})}}update(g){let n=g.state.facet(lintConfig);(g.docChanged||n!=g.startState.facet(lintConfig)||n.needsRefresh&&n.needsRefresh(g))&&(this.lintTime=Date.now()+n.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,n.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),lintConfig=Facet.define({combine(g){return Object.assign({sources:g.map(n=>n.source)},combineConfig(g.map(n=>n.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(n,r)=>n?r?$=>n($)||r($):n:r}))},enables:lintPlugin});function assignKeys(g){let n=[];if(g)e:for(let{name:r}of g){for(let $=0;$<r.length;$++){let L=r[$];if(/[a-zA-Z]/.test(L)&&!n.some(V=>V.toLowerCase()==L.toLowerCase())){n.push(L);continue e}}n.push("")}return n}function renderDiagnostic(g,n,r){var $;let L=r?assignKeys(n.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+n.severity},crelt("span",{class:"cm-diagnosticText"},n.renderMessage?n.renderMessage():n.message),($=n.actions)===null||$===void 0?void 0:$.map((V,oe)=>{let re=!1,ae=pe=>{if(pe.preventDefault(),re)return;re=!0;let he=findDiagnostic(g.state.field(lintState).diagnostics,n);he&&V.apply(g,he.from,he.to)},{name:le}=V,ue=L[oe]?le.indexOf(L[oe]):-1,de=ue<0?le:[le.slice(0,ue),crelt("u",le.slice(ue,ue+1)),le.slice(ue+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:ae,onmousedown:ae,"aria-label":` Action: ${le}${ue<0?"":` (access key "${L[oe]})"`}.`},de)}),n.source&&crelt("div",{class:"cm-diagnosticSource"},n.source))}class DiagnosticWidget extends WidgetType{constructor(n){super(),this.diagnostic=n}eq(n){return n.diagnostic==this.diagnostic}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class PanelItem{constructor(n,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(n,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(n){this.view=n,this.items=[];let r=L=>{if(L.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(L.keyCode==38||L.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(L.keyCode==40||L.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(L.keyCode==36)this.moveSelection(0);else if(L.keyCode==35)this.moveSelection(this.items.length-1);else if(L.keyCode==13)this.view.focus();else if(L.keyCode>=65&&L.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:V}=this.items[this.selectedIndex],oe=assignKeys(V.actions);for(let re=0;re<oe.length;re++)if(oe[re].toUpperCase().charCodeAt(0)==L.keyCode){let ae=findDiagnostic(this.view.state.field(lintState).diagnostics,V);ae&&V.actions[re].apply(n,ae.from,ae.to)}}else return;L.preventDefault()},$=L=>{for(let V=0;V<this.items.length;V++)this.items[V].dom.contains(L.target)&&this.moveSelection(V)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:$}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"\xD7")),this.update()}get selectedIndex(){let n=this.view.state.field(lintState).selected;if(!n)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==n.diagnostic)return r;return-1}update(){let{diagnostics:n,selected:r}=this.view.state.field(lintState),$=0,L=!1,V=null;for(n.between(0,this.view.state.doc.length,(oe,re,{spec:ae})=>{let le=-1,ue;for(let de=$;de<this.items.length;de++)if(this.items[de].diagnostic==ae.diagnostic){le=de;break}le<0?(ue=new PanelItem(this.view,ae.diagnostic),this.items.splice($,0,ue),L=!0):(ue=this.items[le],le>$&&(this.items.splice($,le-$),L=!0)),r&&ue.diagnostic==r.diagnostic?ue.dom.hasAttribute("aria-selected")||(ue.dom.setAttribute("aria-selected","true"),V=ue):ue.dom.hasAttribute("aria-selected")&&ue.dom.removeAttribute("aria-selected"),$++});$<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)L=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),L=!0),V?(this.list.setAttribute("aria-activedescendant",V.id),this.view.requestMeasure({key:this,read:()=>({sel:V.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:oe,panel:re})=>{oe.top<re.top?this.list.scrollTop-=re.top-oe.top:oe.bottom>re.bottom&&(this.list.scrollTop+=oe.bottom-re.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),L&&this.sync()}sync(){let n=this.list.firstChild;function r(){let $=n;n=$.nextSibling,$.remove()}for(let $ of this.items)if($.dom.parentNode==this.list){for(;n!=$.dom;)r();n=$.dom.nextSibling}else this.list.insertBefore($.dom,n);for(;n;)r()}moveSelection(n){if(this.selectedIndex<0)return;let r=this.view.state.field(lintState),$=findDiagnostic(r.diagnostics,this.items[n].diagnostic);!$||this.view.dispatch({selection:{anchor:$.from,head:$.to},scrollIntoView:!0,effects:movePanelSelection.of($)})}static open(n){return new LintPanel(n)}}function svg(g,n='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${n}>${encodeURIComponent(g)}</svg>')`}function underline(g){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${g}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),basicSetup=(()=>[lineNumbers(),highlightActiveLineGutter(),highlightSpecialChars(),history$1(),foldGutter(),drawSelection(),dropCursor(),EditorState.allowMultipleSelections.of(!0),indentOnInput(),syntaxHighlighting(defaultHighlightStyle,{fallback:!0}),bracketMatching(),closeBrackets(),autocompletion(),rectangularSelection(),crosshairCursor(),highlightActiveLine(),highlightSelectionMatches(),keymap.of([...closeBracketsKeymap,...defaultKeymap,...searchKeymap,...historyKeymap,...foldKeymap,...completionKeymap,...lintKeymap])])();var h$1=Object.freeze({autofocus:!1,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"",autoDestroy:!0,extensions:[basicSetup]}),y=Symbol("vue-codemirror-global-config"),O$1,j=function(g){var n=g.onUpdate,r=g.onChange,$=g.onFocus,L=g.onBlur,V=function(oe,re){var ae={};for(var le in oe)Object.prototype.hasOwnProperty.call(oe,le)&&re.indexOf(le)<0&&(ae[le]=oe[le]);if(oe!=null&&typeof Object.getOwnPropertySymbols=="function"){var ue=0;for(le=Object.getOwnPropertySymbols(oe);ue<le.length;ue++)re.indexOf(le[ue])<0&&Object.prototype.propertyIsEnumerable.call(oe,le[ue])&&(ae[le[ue]]=oe[le[ue]])}return ae}(g,["onUpdate","onChange","onFocus","onBlur"]);return EditorState.create({doc:V.doc,selection:V.selection,extensions:(Array.isArray(V.extensions)?V.extensions:[V.extensions]).concat([EditorView.updateListener.of(function(oe){n(oe),oe.docChanged&&r(oe.state.doc.toString(),oe),oe.focusChanged&&(oe.view.hasFocus?$(oe):L(oe))})])})},S$2=function(g){var n=new Compartment;return{compartment:n,run:function(r){n.get(g.state)?g.dispatch({effects:n.reconfigure(r)}):g.dispatch({effects:StateEffect.appendConfig.of(n.of(r))})}}},x$1=function(g,n){var r=S$2(g),$=r.compartment,L=r.run;return function(V){var oe=$.get(g.state);L((V!=null?V:oe!==n)?n:[])}},C$1={type:Boolean,default:void 0},D$1={autofocus:C$1,disabled:C$1,indentWithTab:C$1,tabSize:Number,placeholder:String,style:Object,autoDestroy:C$1,phrases:Object,root:Object,extensions:Array,selection:Object},U$2={modelValue:{type:String,default:""}},w$1=Object.assign(Object.assign({},D$1),U$2);(function(g){g.Change="change",g.Update="update",g.Focus="focus",g.Blur="blur",g.Ready="ready",g.ModelUpdate="update:modelValue"})(O$1||(O$1={}));var z={};z[O$1.Change]=function(g,n){return!0},z[O$1.Update]=function(g){return!0},z[O$1.Focus]=function(g){return!0},z[O$1.Blur]=function(g){return!0},z[O$1.Ready]=function(g){return!0};var B$1={};B$1[O$1.ModelUpdate]=z[O$1.Change];var F$1=Object.assign(Object.assign({},z),B$1),P$2=defineComponent({name:"VueCodemirror",props:Object.assign({},w$1),emits:Object.assign({},F$1),setup:function(g,n){var r=shallowRef(),$=shallowRef(),L=shallowRef(),V=Object.assign(Object.assign({},h$1),inject(y,{})),oe=computed(function(){var re={};return Object.keys(toRaw(g)).forEach(function(ae){var le;ae!=="modelValue"&&(re[ae]=(le=g[ae])!==null&&le!==void 0?le:V[ae])}),re});return onMounted(function(){var re;$.value=j({doc:g.modelValue,selection:oe.value.selection,extensions:(re=V.extensions)!==null&&re!==void 0?re:[],onFocus:function(le){return n.emit(O$1.Focus,le)},onBlur:function(le){return n.emit(O$1.Blur,le)},onUpdate:function(le){return n.emit(O$1.Update,le)},onChange:function(le,ue){le!==g.modelValue&&(n.emit(O$1.Change,le,ue),n.emit(O$1.ModelUpdate,le,ue))}}),L.value=function(le){return new EditorView(Object.assign({},le))}({state:$.value,parent:r.value,root:oe.value.root});var ae=function(le){var ue=function(){return le.state.doc.toString()},de=S$2(le).run,pe=x$1(le,[EditorView.editable.of(!1),EditorState.readOnly.of(!0)]),he=x$1(le,keymap.of([indentWithTab])),_e=S$2(le).run,Oe=S$2(le).run,xe=S$2(le).run,$e=S$2(le).run;return{focus:function(){return le.focus()},getDoc:ue,setDoc:function(Ie){Ie!==ue()&&le.dispatch({changes:{from:0,to:le.state.doc.length,insert:Ie}})},reExtensions:de,toggleDisabled:pe,toggleIndentWithTab:he,setTabSize:function(Ie){_e([EditorState.tabSize.of(Ie),indentUnit.of(" ".repeat(Ie))])},setPhrases:function(Ie){Oe([EditorState.phrases.of(Ie)])},setPlaceholder:function(Ie){xe(placeholder(Ie))},setStyle:function(Ie){Ie===void 0&&(Ie={}),$e(EditorView.theme({"&":Object.assign({},Ie)}))}}}(L.value);watch(function(){return g.modelValue},function(le){le!==ae.getDoc()&&ae.setDoc(le)}),watch(function(){return g.extensions},function(le){return ae.reExtensions(le||[])},{immediate:!0}),watch(function(){return oe.value.disabled},function(le){return ae.toggleDisabled(le)},{immediate:!0}),watch(function(){return oe.value.indentWithTab},function(le){return ae.toggleIndentWithTab(le)},{immediate:!0}),watch(function(){return oe.value.tabSize},function(le){return ae.setTabSize(le)},{immediate:!0}),watch(function(){return oe.value.phrases},function(le){return ae.setPhrases(le||{})},{immediate:!0}),watch(function(){return oe.value.placeholder},function(le){return ae.setPlaceholder(le)},{immediate:!0}),watch(function(){return oe.value.style},function(le){return ae.setStyle(le)},{immediate:!0}),oe.value.autofocus&&ae.focus(),n.emit(O$1.Ready,{state:$.value,view:L.value,container:r.value})}),onBeforeUnmount(function(){oe.value.autoDestroy&&L.value&&function(re){re.destroy()}(L.value)}),function(){return h$2("div",{class:"v-codemirror",style:{display:"contents"},ref:r})}}}),T$1=P$2;class Stack$1{constructor(n,r,$,L,V,oe,re,ae,le,ue=0,de){this.p=n,this.stack=r,this.state=$,this.reducePos=L,this.pos=V,this.score=oe,this.buffer=re,this.bufferBase=ae,this.curContext=le,this.lookAhead=ue,this.parent=de}toString(){return`[${this.stack.filter((n,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(n,r,$=0){let L=n.parser.context;return new Stack$1(n,[],r,$,$,0,[],0,L?new StackContext(L,L.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(n,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=n}reduce(n){var r;let $=n>>19,L=n&65535,{parser:V}=this.p,oe=V.dynamicPrecedence(L);if(oe&&(this.score+=oe),$==0){this.pushState(V.getGoto(this.state,L,!0),this.reducePos),L<V.minRepeatTerm&&this.storeNode(L,this.reducePos,this.reducePos,4,!0),this.reduceContext(L,this.reducePos);return}let re=this.stack.length-($-1)*3-(n&262144?6:0),ae=re?this.stack[re-2]:this.p.ranges[0].from,le=this.reducePos-ae;le>=2e3&&!(!((r=this.p.parser.nodeSet.types[L])===null||r===void 0)&&r.isAnonymous)&&(ae==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=le):this.p.lastBigReductionSize<le&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=ae,this.p.lastBigReductionSize=le));let ue=re?this.stack[re-1]:0,de=this.bufferBase+this.buffer.length-ue;if(L<V.minRepeatTerm||n&131072){let pe=V.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(L,ae,pe,de+4,!0)}if(n&262144)this.state=this.stack[re];else{let pe=this.stack[re-3];this.state=V.getGoto(pe,L,!0)}for(;this.stack.length>re;)this.stack.pop();this.reduceContext(L,ae)}storeNode(n,r,$,L=4,V=!1){if(n==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let oe=this,re=this.buffer.length;if(re==0&&oe.parent&&(re=oe.bufferBase-oe.parent.bufferBase,oe=oe.parent),re>0&&oe.buffer[re-4]==0&&oe.buffer[re-1]>-1){if(r==$)return;if(oe.buffer[re-2]>=r){oe.buffer[re-2]=$;return}}}if(!V||this.pos==$)this.buffer.push(n,r,$,L);else{let oe=this.buffer.length;if(oe>0&&this.buffer[oe-4]!=0)for(;oe>0&&this.buffer[oe-2]>$;)this.buffer[oe]=this.buffer[oe-4],this.buffer[oe+1]=this.buffer[oe-3],this.buffer[oe+2]=this.buffer[oe-2],this.buffer[oe+3]=this.buffer[oe-1],oe-=4,L>4&&(L-=4);this.buffer[oe]=n,this.buffer[oe+1]=r,this.buffer[oe+2]=$,this.buffer[oe+3]=L}}shift(n,r,$){let L=this.pos;if(n&131072)this.pushState(n&65535,this.pos);else if((n&262144)==0){let V=n,{parser:oe}=this.p;($>this.pos||r<=oe.maxNode)&&(this.pos=$,oe.stateFlag(V,1)||(this.reducePos=$)),this.pushState(V,L),this.shiftContext(r,L),r<=oe.maxNode&&this.buffer.push(r,L,$,4)}else this.pos=$,this.shiftContext(r,L),r<=this.p.parser.maxNode&&this.buffer.push(r,L,$,4)}apply(n,r,$){n&65536?this.reduce(n):this.shift(n,r,$)}useNode(n,r){let $=this.p.reused.length-1;($<0||this.p.reused[$]!=n)&&(this.p.reused.push(n),$++);let L=this.pos;this.reducePos=this.pos=L+n.length,this.pushState(r,L),this.buffer.push($,L,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,n,this,this.p.stream.reset(this.pos-n.length)))}split(){let n=this,r=n.buffer.length;for(;r>0&&n.buffer[r-2]>n.reducePos;)r-=4;let $=n.buffer.slice(r),L=n.bufferBase+r;for(;n&&L==n.bufferBase;)n=n.parent;return new Stack$1(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,$,L,this.curContext,this.lookAhead,n)}recoverByDelete(n,r){let $=n<=this.p.parser.maxNode;$&&this.storeNode(n,this.pos,r,4),this.storeNode(0,this.pos,r,$?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(n){for(let r=new SimulatedStack(this);;){let $=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,n);if($==0)return!1;if(($&65536)==0)return!0;r.reduce($)}}recoverByInsert(n){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let L=[];for(let V=0,oe;V<r.length;V+=2)(oe=r[V+1])!=this.state&&this.p.parser.hasAction(oe,n)&&L.push(r[V],oe);if(this.stack.length<120)for(let V=0;L.length<8&&V<r.length;V+=2){let oe=r[V+1];L.some((re,ae)=>ae&1&&re==oe)||L.push(r[V],oe)}r=L}let $=[];for(let L=0;L<r.length&&$.length<4;L+=2){let V=r[L+1];if(V==this.state)continue;let oe=this.split();oe.pushState(V,this.pos),oe.storeNode(0,oe.pos,oe.pos,4,!0),oe.shiftContext(r[L],this.pos),oe.score-=200,$.push(oe)}return $}forceReduce(){let n=this.p.parser.stateSlot(this.state,5);if((n&65536)==0)return!1;let{parser:r}=this.p;if(!r.validAction(this.state,n)){let $=n>>19,L=n&65535,V=this.stack.length-$*3;if(V<0||r.getGoto(this.stack[V],L,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:n}=this.p;return n.data[n.stateSlot(this.state,1)]==65535&&!n.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(n){if(this.state!=n.state||this.stack.length!=n.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=n.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(n){return this.p.parser.dialect.flags[n]}shiftContext(n,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,n,this,this.p.stream.reset(r)))}reduceContext(n,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,n,this,this.p.stream.reset(r)))}emitContext(){let n=this.buffer.length-1;(n<0||this.buffer[n]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let n=this.buffer.length-1;(n<0||this.buffer[n]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(n){if(n!=this.curContext.context){let r=new StackContext(this.curContext.tracker,n);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(n){n>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=n)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(n,r){this.tracker=n,this.context=r,this.hash=n.strict?n.hash(r):0}}var Recover;(function(g){g[g.Insert=200]="Insert",g[g.Delete=190]="Delete",g[g.Reduce=100]="Reduce",g[g.MaxNext=4]="MaxNext",g[g.MaxInsertStackDepth=300]="MaxInsertStackDepth",g[g.DampenInsertStackDepth=120]="DampenInsertStackDepth",g[g.MinBigReduction=2e3]="MinBigReduction"})(Recover||(Recover={}));class SimulatedStack{constructor(n){this.start=n,this.state=n.state,this.stack=n.stack,this.base=this.stack.length}reduce(n){let r=n&65535,$=n>>19;$==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=($-1)*3;let L=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=L}}class StackBufferCursor{constructor(n,r,$){this.stack=n,this.pos=r,this.index=$,this.buffer=n.buffer,this.index==0&&this.maybeNext()}static create(n,r=n.bufferBase+n.buffer.length){return new StackBufferCursor(n,r,r-n.bufferBase)}maybeNext(){let n=this.stack.parent;n!=null&&(this.index=this.stack.bufferBase-n.bufferBase,this.stack=n,this.buffer=n.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}function decodeArray(g,n=Uint16Array){if(typeof g!="string")return g;let r=null;for(let $=0,L=0;$<g.length;){let V=0;for(;;){let oe=g.charCodeAt($++),re=!1;if(oe==126){V=65535;break}oe>=92&&oe--,oe>=34&&oe--;let ae=oe-32;if(ae>=46&&(ae-=46,re=!0),V+=ae,re)break;V*=46}r?r[L++]=V:r=new n(V)}return r}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(n,r){this.input=n,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(n,r){let $=this.range,L=this.rangeIndex,V=this.pos+n;for(;V<$.from;){if(!L)return null;let oe=this.ranges[--L];V-=$.from-oe.to,$=oe}for(;r<0?V>$.to:V>=$.to;){if(L==this.ranges.length-1)return null;let oe=this.ranges[++L];V+=oe.from-$.to,$=oe}return V}clipPos(n){if(n>=this.range.from&&n<this.range.to)return n;for(let r of this.ranges)if(r.to>n)return Math.max(n,r.from);return this.end}peek(n){let r=this.chunkOff+n,$,L;if(r>=0&&r<this.chunk.length)$=this.pos+n,L=this.chunk.charCodeAt(r);else{let V=this.resolveOffset(n,1);if(V==null)return-1;if($=V,$>=this.chunk2Pos&&$<this.chunk2Pos+this.chunk2.length)L=this.chunk2.charCodeAt($-this.chunk2Pos);else{let oe=this.rangeIndex,re=this.range;for(;re.to<=$;)re=this.ranges[++oe];this.chunk2=this.input.chunk(this.chunk2Pos=$),$+this.chunk2.length>re.to&&(this.chunk2=this.chunk2.slice(0,re.to-$)),L=this.chunk2.charCodeAt(0)}}return $>=this.token.lookAhead&&(this.token.lookAhead=$+1),L}acceptToken(n,r=0){let $=r?this.resolveOffset(r,-1):this.pos;if($==null||$<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=n,this.token.end=$}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:n,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=n,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let n=this.input.chunk(this.pos),r=this.pos+n.length;this.chunk=r>this.range.to?n.slice(0,this.range.to-this.pos):n,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(n=1){for(this.chunkOff+=n;this.pos+n>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();n-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=n,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(n,r){if(r?(this.token=r,r.start=n,r.lookAhead=n+1,r.value=r.extended=-1):this.token=nullToken,this.pos!=n){if(this.pos=n,n==this.end)return this.setDone(),this;for(;n<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;n>=this.range.to;)this.range=this.ranges[++this.rangeIndex];n>=this.chunkPos&&n<this.chunkPos+this.chunk.length?this.chunkOff=n-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(n,r){if(n>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(n-this.chunkPos,r-this.chunkPos);if(n>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(n-this.chunk2Pos,r-this.chunk2Pos);if(n>=this.range.from&&r<=this.range.to)return this.input.read(n,r);let $="";for(let L of this.ranges){if(L.from>=r)break;L.to>n&&($+=this.input.read(Math.max(L.from,n),Math.min(L.to,r)))}return $}}class TokenGroup{constructor(n,r){this.data=n,this.id=r}token(n,r){let{parser:$}=r.p;readToken(this.data,n,r,this.id,$.data,$.tokenPrecTable)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class LocalTokenGroup{constructor(n,r,$){this.precTable=r,this.elseToken=$,this.data=typeof n=="string"?decodeArray(n):n}token(n,r){let $=n.pos,L;for(;L=n.pos,readToken(this.data,n,r,0,this.data,this.precTable),!(n.token.value>-1);){if(this.elseToken==null)return;if(n.next<0)break;n.advance(),n.reset(L+1,n.token)}L>$&&(n.reset($,n.token),n.acceptToken(this.elseToken,L-$))}}LocalTokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(n,r={}){this.token=n,this.contextual=!!r.contextual,this.fallback=!!r.fallback,this.extend=!!r.extend}}function readToken(g,n,r,$,L,V){let oe=0,re=1<<$,{dialect:ae}=r.p.parser;e:for(;(re&g[oe])!=0;){let le=g[oe+1];for(let he=oe+3;he<le;he+=2)if((g[he+1]&re)>0){let _e=g[he];if(ae.allows(_e)&&(n.token.value==-1||n.token.value==_e||overrides(_e,n.token.value,L,V))){n.acceptToken(_e);break}}let ue=n.next,de=0,pe=g[oe+2];if(n.next<0&&pe>de&&g[le+pe*3-3]==65535&&g[le+pe*3-3]==65535){oe=g[le+pe*3-1];continue e}for(;de<pe;){let he=de+pe>>1,_e=le+he+(he<<1),Oe=g[_e],xe=g[_e+1]||65536;if(ue<Oe)pe=he;else if(ue>=xe)de=he+1;else{oe=g[_e+2],n.advance();continue e}}break}}function findOffset(g,n,r){for(let $=n,L;(L=g[$])!=65535;$++)if(L==r)return $-n;return-1}function overrides(g,n,r,$){let L=findOffset(r,$,n);return L<0||findOffset(r,$,g)<L}const verbose=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let stackIDs=null;var Safety;(function(g){g[g.Margin=25]="Margin"})(Safety||(Safety={}));function cutAt(g,n,r){let $=g.cursor(IterMode.IncludeAnonymous);for($.moveTo(n);;)if(!(r<0?$.childBefore(n):$.childAfter(n)))for(;;){if((r<0?$.to<n:$.from>n)&&!$.type.isError)return r<0?Math.max(0,Math.min($.to-1,n-25)):Math.min(g.length,Math.max($.from+1,n+25));if(r<0?$.prevSibling():$.nextSibling())break;if(!$.parent())return r<0?0:g.length}}class FragmentCursor{constructor(n,r){this.fragments=n,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let n=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(n){for(this.safeFrom=n.openStart?cutAt(n.tree,n.from+n.offset,1)-n.offset:n.from,this.safeTo=n.openEnd?cutAt(n.tree,n.to+n.offset,-1)-n.offset:n.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(n.tree),this.start.push(-n.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(n){if(n<this.nextStart)return null;for(;this.fragment&&this.safeTo<=n;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let $=this.trees[r],L=this.index[r];if(L==$.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let V=$.children[L],oe=this.start[r]+$.positions[L];if(oe>n)return this.nextStart=oe,null;if(V instanceof Tree){if(oe==n){if(oe<this.safeFrom)return null;let re=oe+V.length;if(re<=this.safeTo){let ae=V.prop(NodeProp.lookAhead);if(!ae||re+ae<this.fragment.to)return V}}this.index[r]++,oe+V.length>=Math.max(this.safeFrom,n)&&(this.trees.push(V),this.start.push(oe),this.index.push(0))}else this.index[r]++,this.nextStart=oe+V.length}}}class TokenCache{constructor(n,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=n.tokenizers.map($=>new CachedToken)}getActions(n){let r=0,$=null,{parser:L}=n.p,{tokenizers:V}=L,oe=L.stateSlot(n.state,3),re=n.curContext?n.curContext.hash:0,ae=0;for(let le=0;le<V.length;le++){if((1<<le&oe)==0)continue;let ue=V[le],de=this.tokens[le];if(!($&&!ue.fallback)&&((ue.contextual||de.start!=n.pos||de.mask!=oe||de.context!=re)&&(this.updateCachedToken(de,ue,n),de.mask=oe,de.context=re),de.lookAhead>de.end+25&&(ae=Math.max(de.lookAhead,ae)),de.value!=0)){let pe=r;if(de.extended>-1&&(r=this.addActions(n,de.extended,de.end,r)),r=this.addActions(n,de.value,de.end,r),!ue.extend&&($=de,r>pe))break}}for(;this.actions.length>r;)this.actions.pop();return ae&&n.setLookAhead(ae),!$&&n.pos==this.stream.end&&($=new CachedToken,$.value=n.p.parser.eofTerm,$.start=$.end=n.pos,r=this.addActions(n,$.value,$.end,r)),this.mainToken=$,this.actions}getMainToken(n){if(this.mainToken)return this.mainToken;let r=new CachedToken,{pos:$,p:L}=n;return r.start=$,r.end=Math.min($+1,L.stream.end),r.value=$==L.stream.end?L.parser.eofTerm:0,r}updateCachedToken(n,r,$){let L=this.stream.clipPos($.pos);if(r.token(this.stream.reset(L,n),$),n.value>-1){let{parser:V}=$.p;for(let oe=0;oe<V.specialized.length;oe++)if(V.specialized[oe]==n.value){let re=V.specializers[oe](this.stream.read(n.start,n.end),$);if(re>=0&&$.p.parser.dialect.allows(re>>1)){(re&1)==0?n.value=re>>1:n.extended=re>>1;break}}}else n.value=0,n.end=this.stream.clipPos(L+1)}putAction(n,r,$,L){for(let V=0;V<L;V+=3)if(this.actions[V]==n)return L;return this.actions[L++]=n,this.actions[L++]=r,this.actions[L++]=$,L}addActions(n,r,$,L){let{state:V}=n,{parser:oe}=n.p,{data:re}=oe;for(let ae=0;ae<2;ae++)for(let le=oe.stateSlot(V,ae?2:1);;le+=3){if(re[le]==65535)if(re[le+1]==1)le=pair(re,le+2);else{L==0&&re[le+1]==2&&(L=this.putAction(pair(re,le+2),r,$,L));break}re[le]==r&&(L=this.putAction(pair(re,le+1),r,$,L))}return L}}var Rec;(function(g){g[g.Distance=5]="Distance",g[g.MaxRemainingPerStep=3]="MaxRemainingPerStep",g[g.MinBufferLengthPrune=500]="MinBufferLengthPrune",g[g.ForceReduceLimit=10]="ForceReduceLimit",g[g.CutDepth=15e3]="CutDepth",g[g.CutTo=9e3]="CutTo",g[g.MaxLeftAssociativeReductionCount=300]="MaxLeftAssociativeReductionCount",g[g.MaxStackCount=12]="MaxStackCount"})(Rec||(Rec={}));class Parse{constructor(n,r,$,L){this.parser=n,this.input=r,this.ranges=L,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream(r,L),this.tokens=new TokenCache(n,this.stream),this.topTerm=n.top[1];let{from:V}=L[0];this.stacks=[Stack$1.start(this,n.top[0],V)],this.fragments=$.length&&this.stream.end-V>n.bufferLength*4?new FragmentCursor($,n.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let n=this.stacks,r=this.minStackPos,$=this.stacks=[],L,V;if(this.bigReductionCount>300&&n.length==1){let[oe]=n;for(;oe.forceReduce()&&oe.stack.length&&oe.stack[oe.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let oe=0;oe<n.length;oe++){let re=n[oe];for(;;){if(this.tokens.mainToken=null,re.pos>r)$.push(re);else{if(this.advanceStack(re,$,n))continue;{L||(L=[],V=[]),L.push(re);let ae=this.tokens.getMainToken(re);V.push(ae.value,ae.end)}}break}}if(!$.length){let oe=L&&findFinished(L);if(oe)return this.stackToTree(oe);if(this.parser.strict)throw verbose&&L&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&L){let oe=this.stoppedAt!=null&&L[0].pos>this.stoppedAt?L[0]:this.runRecovery(L,V,$);if(oe)return this.stackToTree(oe.forceAll())}if(this.recovering){let oe=this.recovering==1?1:this.recovering*3;if($.length>oe)for($.sort((re,ae)=>ae.score-re.score);$.length>oe;)$.pop();$.some(re=>re.reducePos>r)&&this.recovering--}else if($.length>1){e:for(let oe=0;oe<$.length-1;oe++){let re=$[oe];for(let ae=oe+1;ae<$.length;ae++){let le=$[ae];if(re.sameState(le)||re.buffer.length>500&&le.buffer.length>500)if((re.score-le.score||re.buffer.length-le.buffer.length)>0)$.splice(ae--,1);else{$.splice(oe--,1);continue e}}}$.length>12&&$.splice(12,$.length-12)}this.minStackPos=$[0].pos;for(let oe=1;oe<$.length;oe++)$[oe].pos<this.minStackPos&&(this.minStackPos=$[oe].pos);return null}stopAt(n){if(this.stoppedAt!=null&&this.stoppedAt<n)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=n}advanceStack(n,r,$){let L=n.pos,{parser:V}=this,oe=verbose?this.stackID(n)+" -> ":"";if(this.stoppedAt!=null&&L>this.stoppedAt)return n.forceReduce()?n:null;if(this.fragments){let le=n.curContext&&n.curContext.tracker.strict,ue=le?n.curContext.hash:0;for(let de=this.fragments.nodeAt(L);de;){let pe=this.parser.nodeSet.types[de.type.id]==de.type?V.getGoto(n.state,de.type.id):-1;if(pe>-1&&de.length&&(!le||(de.prop(NodeProp.contextHash)||0)==ue))return n.useNode(de,pe),verbose&&console.log(oe+this.stackID(n)+` (via reuse of ${V.getName(de.type.id)})`),!0;if(!(de instanceof Tree)||de.children.length==0||de.positions[0]>0)break;let he=de.children[0];if(he instanceof Tree&&de.positions[0]==0)de=he;else break}}let re=V.stateSlot(n.state,4);if(re>0)return n.reduce(re),verbose&&console.log(oe+this.stackID(n)+` (via always-reduce ${V.getName(re&65535)})`),!0;if(n.stack.length>=15e3)for(;n.stack.length>9e3&&n.forceReduce(););let ae=this.tokens.getActions(n);for(let le=0;le<ae.length;){let ue=ae[le++],de=ae[le++],pe=ae[le++],he=le==ae.length||!$,_e=he?n:n.split();if(_e.apply(ue,de,pe),verbose&&console.log(oe+this.stackID(_e)+` (via ${(ue&65536)==0?"shift":`reduce of ${V.getName(ue&65535)}`} for ${V.getName(de)} @ ${L}${_e==n?"":", split"})`),he)return!0;_e.pos>L?r.push(_e):$.push(_e)}return!1}advanceFully(n,r){let $=n.pos;for(;;){if(!this.advanceStack(n,null,null))return!1;if(n.pos>$)return pushStackDedup(n,r),!0}}runRecovery(n,r,$){let L=null,V=!1;for(let oe=0;oe<n.length;oe++){let re=n[oe],ae=r[oe<<1],le=r[(oe<<1)+1],ue=verbose?this.stackID(re)+" -> ":"";if(re.deadEnd&&(V||(V=!0,re.restart(),verbose&&console.log(ue+this.stackID(re)+" (restarted)"),this.advanceFully(re,$))))continue;let de=re.split(),pe=ue;for(let he=0;de.forceReduce()&&he<10&&(verbose&&console.log(pe+this.stackID(de)+" (via force-reduce)"),!this.advanceFully(de,$));he++)verbose&&(pe=this.stackID(de)+" -> ");for(let he of re.recoverByInsert(ae))verbose&&console.log(ue+this.stackID(he)+" (via recover-insert)"),this.advanceFully(he,$);this.stream.end>re.pos?(le==re.pos&&(le++,ae=0),re.recoverByDelete(ae,le),verbose&&console.log(ue+this.stackID(re)+` (via recover-delete ${this.parser.getName(ae)})`),pushStackDedup(re,$)):(!L||L.score<re.score)&&(L=re)}return L}stackToTree(n){return n.close(),Tree.build({buffer:StackBufferCursor.create(n),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:n.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(n){let r=(stackIDs||(stackIDs=new WeakMap)).get(n);return r||stackIDs.set(n,r=String.fromCodePoint(this.nextStackID++)),r+n}}function pushStackDedup(g,n){for(let r=0;r<n.length;r++){let $=n[r];if($.pos==g.pos&&$.sameState(g)){n[r].score<g.score&&(n[r]=g);return}}n.push(g)}class Dialect{constructor(n,r,$){this.source=n,this.flags=r,this.disabled=$}allows(n){return!this.disabled||this.disabled[n]==0}}const id=g=>g;class ContextTracker{constructor(n){this.start=n.start,this.shift=n.shift||id,this.reduce=n.reduce||id,this.reuse=n.reuse||id,this.hash=n.hash||(()=>0),this.strict=n.strict!==!1}}class LRParser extends Parser{constructor(n){if(super(),this.wrappers=[],n.version!=14)throw new RangeError(`Parser version (${n.version}) doesn't match runtime version (${14})`);let r=n.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let re=0;re<n.repeatNodeCount;re++)r.push("");let $=Object.keys(n.topRules).map(re=>n.topRules[re][1]),L=[];for(let re=0;re<r.length;re++)L.push([]);function V(re,ae,le){L[re].push([ae,ae.deserialize(String(le))])}if(n.nodeProps)for(let re of n.nodeProps){let ae=re[0];typeof ae=="string"&&(ae=NodeProp[ae]);for(let le=1;le<re.length;){let ue=re[le++];if(ue>=0)V(ue,ae,re[le++]);else{let de=re[le+-ue];for(let pe=-ue;pe>0;pe--)V(re[le++],ae,de);le++}}}this.nodeSet=new NodeSet(r.map((re,ae)=>NodeType.define({name:ae>=this.minRepeatTerm?void 0:re,id:ae,props:L[ae],top:$.indexOf(ae)>-1,error:ae==0,skipped:n.skippedNodes&&n.skippedNodes.indexOf(ae)>-1}))),n.propSources&&(this.nodeSet=this.nodeSet.extend(...n.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let oe=decodeArray(n.tokenData);this.context=n.context,this.specializerSpecs=n.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let re=0;re<this.specializerSpecs.length;re++)this.specialized[re]=this.specializerSpecs[re].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(n.states,Uint32Array),this.data=decodeArray(n.stateData),this.goto=decodeArray(n.goto),this.maxTerm=n.maxTerm,this.tokenizers=n.tokenizers.map(re=>typeof re=="number"?new TokenGroup(oe,re):re),this.topRules=n.topRules,this.dialects=n.dialects||{},this.dynamicPrecedences=n.dynamicPrecedences||null,this.tokenPrecTable=n.tokenPrec,this.termNames=n.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(n,r,$){let L=new Parse(this,n,r,$);for(let V of this.wrappers)L=V(L,n,r,$);return L}getGoto(n,r,$=!1){let L=this.goto;if(r>=L[0])return-1;for(let V=L[r+1];;){let oe=L[V++],re=oe&1,ae=L[V++];if(re&&$)return ae;for(let le=V+(oe>>1);V<le;V++)if(L[V]==n)return ae;if(re)return-1}}hasAction(n,r){let $=this.data;for(let L=0;L<2;L++)for(let V=this.stateSlot(n,L?2:1),oe;;V+=3){if((oe=$[V])==65535)if($[V+1]==1)oe=$[V=pair($,V+2)];else{if($[V+1]==2)return pair($,V+2);break}if(oe==r||oe==0)return pair($,V+1)}return 0}stateSlot(n,r){return this.states[n*6+r]}stateFlag(n,r){return(this.stateSlot(n,0)&r)>0}validAction(n,r){if(r==this.stateSlot(n,4))return!0;for(let $=this.stateSlot(n,1);;$+=3){if(this.data[$]==65535)if(this.data[$+1]==1)$=pair(this.data,$+2);else return!1;if(r==pair(this.data,$+1))return!0}}nextStates(n){let r=[];for(let $=this.stateSlot(n,1);;$+=3){if(this.data[$]==65535)if(this.data[$+1]==1)$=pair(this.data,$+2);else break;if((this.data[$+2]&1)==0){let L=this.data[$+1];r.some((V,oe)=>oe&1&&V==L)||r.push(this.data[$],L)}}return r}configure(n){let r=Object.assign(Object.create(LRParser.prototype),this);if(n.props&&(r.nodeSet=this.nodeSet.extend(...n.props)),n.top){let $=this.topRules[n.top];if(!$)throw new RangeError(`Invalid top rule name ${n.top}`);r.top=$}return n.tokenizers&&(r.tokenizers=this.tokenizers.map($=>{let L=n.tokenizers.find(V=>V.from==$);return L?L.to:$})),n.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map(($,L)=>{let V=n.specializers.find(re=>re.from==$.external);if(!V)return $;let oe=Object.assign(Object.assign({},$),{external:V.to});return r.specializers[L]=getSpecializer(oe),oe})),n.contextTracker&&(r.context=n.contextTracker),n.dialect&&(r.dialect=this.parseDialect(n.dialect)),n.strict!=null&&(r.strict=n.strict),n.wrap&&(r.wrappers=r.wrappers.concat(n.wrap)),n.bufferLength!=null&&(r.bufferLength=n.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(n){return this.termNames?this.termNames[n]:String(n<=this.maxNode&&this.nodeSet.types[n].name||n)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(n){let r=this.dynamicPrecedences;return r==null?0:r[n]||0}parseDialect(n){let r=Object.keys(this.dialects),$=r.map(()=>!1);if(n)for(let V of n.split(" ")){let oe=r.indexOf(V);oe>=0&&($[oe]=!0)}let L=null;for(let V=0;V<r.length;V++)if(!$[V])for(let oe=this.dialects[r[V]],re;(re=this.data[oe++])!=65535;)(L||(L=new Uint8Array(this.maxTerm+1)))[re]=1;return new Dialect(n,$,L)}static deserialize(n){return new LRParser(n)}}function pair(g,n){return g[n]|g[n+1]<<16}function findFinished(g){let n=null;for(let r of g){let $=r.p.stoppedAt;(r.pos==r.p.stream.end||$!=null&&r.pos>$)&&r.p.parser.stateFlag(r.state,2)&&(!n||n.score<r.score)&&(n=r)}return n}function getSpecializer(g){if(g.external){let n=g.extend?1:0;return(r,$)=>g.external(r,$)<<1|n}return g.get}const noSemi=302,incdec=1,incdecPrefix=2,insertSemi=303,spaces=305,newline=306,LineComment=3,BlockComment=4,space$1=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,semicolon=59,slash$1=47,star=42,plus=43,minus=45,trackNewline=new ContextTracker({start:!1,shift(g,n){return n==LineComment||n==BlockComment||n==spaces?g:n==newline},strict:!1}),insertSemicolon=new ExternalTokenizer((g,n)=>{let{next:r}=g;(r==braceR||r==-1||n.context)&&n.canShift(insertSemi)&&g.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((g,n)=>{let{next:r}=g,$;space$1.indexOf(r)>-1||r==slash$1&&(($=g.peek(1))==slash$1||$==star)||r!=braceR&&r!=semicolon&&r!=-1&&!n.context&&n.canShift(noSemi)&&g.acceptToken(noSemi)},{contextual:!0}),incdecToken=new ExternalTokenizer((g,n)=>{let{next:r}=g;if((r==plus||r==minus)&&(g.advance(),r==g.next)){g.advance();let $=!n.context&&n.canShift(incdec);g.acceptToken($?incdec:incdecPrefix)}},{contextual:!0}),jsHighlight=styleTags({"get set async static":tags$1.modifier,"for while do if else switch try catch finally return throw break continue default case":tags$1.controlKeyword,"in of await yield void typeof delete instanceof":tags$1.operatorKeyword,"let var const function class extends":tags$1.definitionKeyword,"import export from":tags$1.moduleKeyword,"with debugger as new":tags$1.keyword,TemplateString:tags$1.special(tags$1.string),super:tags$1.atom,BooleanLiteral:tags$1.bool,this:tags$1.self,null:tags$1.null,Star:tags$1.modifier,VariableName:tags$1.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags$1.function(tags$1.variableName),VariableDefinition:tags$1.definition(tags$1.variableName),Label:tags$1.labelName,PropertyName:tags$1.propertyName,PrivatePropertyName:tags$1.special(tags$1.propertyName),"CallExpression/MemberExpression/PropertyName":tags$1.function(tags$1.propertyName),"FunctionDeclaration/VariableDefinition":tags$1.function(tags$1.definition(tags$1.variableName)),"ClassDeclaration/VariableDefinition":tags$1.definition(tags$1.className),PropertyDefinition:tags$1.definition(tags$1.propertyName),PrivatePropertyDefinition:tags$1.definition(tags$1.special(tags$1.propertyName)),UpdateOp:tags$1.updateOperator,LineComment:tags$1.lineComment,BlockComment:tags$1.blockComment,Number:tags$1.number,String:tags$1.string,Escape:tags$1.escape,ArithOp:tags$1.arithmeticOperator,LogicOp:tags$1.logicOperator,BitOp:tags$1.bitwiseOperator,CompareOp:tags$1.compareOperator,RegExp:tags$1.regexp,Equals:tags$1.definitionOperator,Arrow:tags$1.function(tags$1.punctuation),": Spread":tags$1.punctuation,"( )":tags$1.paren,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace,"InterpolationStart InterpolationEnd":tags$1.special(tags$1.brace),".":tags$1.derefOperator,", ;":tags$1.separator,"@":tags$1.meta,TypeName:tags$1.typeName,TypeDefinition:tags$1.definition(tags$1.typeName),"type enum interface implements namespace module declare":tags$1.definitionKeyword,"abstract global Privacy readonly override":tags$1.modifier,"is keyof unique infer":tags$1.operatorKeyword,JSXAttributeValue:tags$1.attributeValue,JSXText:tags$1.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags$1.angleBracket,"JSXIdentifier JSXNameSpacedName":tags$1.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags$1.attributeName,"JSXBuiltin/JSXIdentifier":tags$1.standard(tags$1.tagName)}),spec_identifier$1={__proto__:null,export:14,as:19,from:27,default:30,async:35,function:36,extends:46,this:50,true:58,false:58,null:70,void:74,typeof:78,super:96,new:130,delete:146,yield:155,await:159,class:164,public:221,private:221,protected:221,readonly:223,instanceof:242,satisfies:245,in:246,const:248,import:280,keyof:335,unique:339,infer:345,is:381,abstract:401,implements:403,type:405,let:408,var:410,interface:417,enum:421,namespace:427,module:429,declare:433,global:437,for:458,of:467,while:470,with:474,do:478,if:482,else:484,switch:488,case:494,try:500,catch:504,finally:508,return:512,throw:516,break:520,continue:524,debugger:528},spec_word={__proto__:null,async:117,get:119,set:121,declare:181,public:183,private:183,protected:183,static:185,abstract:187,override:189,readonly:195,accessor:197,new:385},spec_LessThan={__proto__:null,"<":137},parser$2=LRParser.deserialize({version:14,states:"$EnO`QUOOO%QQUOOO'TQWOOP(bOSOOO*pQ(CjO'#CfO*wOpO'#CgO+VO!bO'#CgO+eO07`O'#DZO-vQUO'#DaO.WQUO'#DlO%QQUO'#DvO0_QUO'#EOOOQ(CY'#EW'#EWO0uQSO'#ETOOQO'#I`'#I`O0}QSO'#GkOOQO'#Ei'#EiO1YQSO'#EhO1_QSO'#EhO3aQ(CjO'#JcO6QQ(CjO'#JdO6nQSO'#FWO6sQ#tO'#FoOOQ(CY'#F`'#F`O7OO&jO'#F`O7^Q,UO'#FvO8tQSO'#FuOOQ(CY'#Jd'#JdOOQ(CW'#Jc'#JcOOQQ'#J}'#J}O8yQSO'#IPO9OQ(C[O'#IQOOQQ'#JP'#JPOOQQ'#IU'#IUQ`QUOOO%QQUO'#DnO9WQUO'#DzO%QQUO'#D|O9_QSO'#GkO9dQ,UO'#ClO9rQSO'#EgO9}QSO'#ErO:SQ,UO'#F_O:qQSO'#GkO:vQSO'#GoO;RQSO'#GoO;aQSO'#GrO;aQSO'#GsO;aQSO'#GuO9_QSO'#GxO<QQSO'#G{O=cQSO'#CbO=sQSO'#HYO={QSO'#H`O={QSO'#HbO`QUO'#HdO={QSO'#HfO={QSO'#HiO>QQSO'#HoO>VQ(C]O'#HuO%QQUO'#HwO>bQ(C]O'#HyO>mQ(C]O'#H{O9OQ(C[O'#H}O>xQ(CjO'#CfO?zQWO'#DfQOQSOOO@bQSO'#EPO9dQ,UO'#EgO@mQSO'#EgO@xQ`O'#F_OOQQ'#Cd'#CdOOQ(CW'#Dk'#DkOOQ(CW'#Jg'#JgO%QQUO'#JgOBUQWO'#E`OOQ(CW'#E_'#E_OB`Q(C`O'#E`OBzQWO'#ESOOQO'#Jj'#JjOC`QWO'#ESOCmQWO'#E`ODTQWO'#EfODWQWO'#E`ODqQWO'#E`OAQQWO'#E`OBzQWO'#E`PEbO?MpO'#C`POOO)CDn)CDnOOOO'#IV'#IVOEmOpO,59ROOQ(CY,59R,59ROOOO'#IW'#IWOE{O!bO,59RO%QQUO'#D]OOOO'#IY'#IYOFZO07`O,59uOOQ(CY,59u,59uOFiQUO'#IZOF|QSO'#JeOIOQbO'#JeO+sQUO'#JeOIVQSO,59{OImQSO'#EiOIzQSO'#JrOJVQSO'#JqOJVQSO'#JqOJ_QSO,5;VOJdQSO'#JpOOQ(CY,5:W,5:WOJkQUO,5:WOLlQ(CjO,5:bOM]QSO,5:jOMbQSO'#JnON[Q(C[O'#JoO:vQSO'#JnONcQSO'#JnONkQSO,5;UONpQSO'#JnOOQ(CY'#Cf'#CfO%QQUO'#EOO! dQ`O,5:oOOQO'#Jk'#JkOOQO-E<^-E<^O9_QSO,5=VO! zQSO,5=VO!!PQUO,5;SO!$SQ,UO'#EdO!%gQSO,5;SO!'PQ,UO'#DpO!'WQUO'#DuO!'bQWO,5;]O!'jQWO,5;]O%QQUO,5;]OOQQ'#FO'#FOOOQQ'#FQ'#FQO%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^O%QQUO,5;^OOQQ'#FU'#FUO!'xQUO,5;oOOQ(CY,5;t,5;tOOQ(CY,5;u,5;uO!){QSO,5;uOOQ(CY,5;v,5;vO%QQUO'#IfO!*TQ(C[O,5<cO!$SQ,UO,5;^O!*rQ,UO,5;^O%QQUO,5;rO!*yQ#tO'#FeO!+vQ#tO'#JvO!+bQ#tO'#JvO!+}Q#tO'#JvOOQO'#Jv'#JvO!,cQ#tO,5;}OOOO,5<Z,5<ZO!,tQUO'#FqOOOO'#Ie'#IeO7OO&jO,5;zO!,{Q#tO'#FsOOQ(CY,5;z,5;zO!-lQ7[O'#CrOOQ(CY'#Cv'#CvO!.PQSO'#CvO!.UO07`O'#CzO!.rQ,UO,5<`O!.yQSO,5<bO!0`QMhO'#GQO!0mQSO'#GRO!0rQSO'#GRO!0wQMhO'#GVO!1vQWO'#GZO!2iQ7[O'#J^OOQ(CY'#J^'#J^O!2sQSO'#J]O!3RQSO'#J[O!3ZQSO'#CqOOQ(CY'#Ct'#CtOOQ(CY'#DO'#DOOOQ(CY'#DQ'#DQO0xQSO'#DSO!%lQ,UO'#FxO!%lQ,UO'#FzO!3cQSO'#F|O!3hQSO'#F}O!0rQSO'#GTO!%lQ,UO'#GYO!3mQSO'#EjO!4XQSO,5<aO`QUO,5>kOOQQ'#JX'#JXOOQQ,5>l,5>lOOQQ-E<S-E<SO!6WQ(CjO,5:YO!8tQ(CjO,5:fO%QQUO,5:fO!;_Q(CjO,5:hOOQ(CW'#Co'#CoO!<OQ,UO,5=VO!<^Q(C[O'#JYO8tQSO'#JYO!<oQ(C[O,59WO!<zQWO,59WO!=SQ,UO,59WO9dQ,UO,59WO!=_QSO,5;SO!=gQSO'#HXO!=xQSO'#KRO%QQUO,5;wO!>QQWO,5;yO!>VQSO,5=rO!>[QSO,5=rO!>aQSO,5=rO9OQ(C[O,5=rO!>oQSO'#EkO!?iQWO'#ElOOQ(CW'#Jp'#JpO!?pQ(C[O'#KOO9OQ(C[O,5=ZO;aQSO,5=aOOQO'#Cr'#CrO!?{QWO,5=^O!@TQ,UO,5=_O!@`QSO,5=aO!@eQ`O,5=dO>QQSO'#G}O9_QSO'#HPO!@mQSO'#HPO9dQ,UO'#HSO!@rQSO'#HSOOQQ,5=g,5=gO!@wQSO'#HTO!APQSO'#ClO!AUQSO,58|O!A`QSO,58|O!ChQUO,58|OOQQ,58|,58|O!CuQ(C[O,58|O%QQUO,58|O!DQQUO'#H[OOQQ'#H]'#H]OOQQ'#H^'#H^O`QUO,5=tO!DbQSO,5=tO`QUO,5=zO`QUO,5=|O!DgQSO,5>OO`QUO,5>QO!DlQSO,5>TO!DqQUO,5>ZOOQQ,5>a,5>aO%QQUO,5>aO9OQ(C[O,5>cOOQQ,5>e,5>eO!HxQSO,5>eOOQQ,5>g,5>gO!HxQSO,5>gOOQQ,5>i,5>iO!H}QWO'#DXO%QQUO'#JgO!IlQWO'#JgO!JZQWO'#DgO!JlQWO'#DgO!L}QUO'#DgO!MUQSO'#JfO!M^QSO,5:QO!McQSO'#EmO!MqQSO'#JsO!MyQSO,5;WO!NOQWO'#DgO!N]QWO'#EROOQ(CY,5:k,5:kO%QQUO,5:kO!NdQSO,5:kO>QQSO,5;RO!<zQWO,5;RO!=SQ,UO,5;RO9dQ,UO,5;RO!NlQSO,5@RO!NqQ!LQO,5:oO# wQ(C`O,5:zOBzQWO,5:nO#!cQWO,5:nO#!pQWO,5:zO##WQWO,5:zO##qQWO,5:zO#$bQWO,5:zOBzQWO,5:zO!<oQ(C[O,5:nOOQ(CW'#Ec'#EcOOQO,5:z,5:zO%QQUO,5:zO#%UQ(C[O,5:zO#%aQ(C[O,5:zO!<zQWO,5:nOOQO,5;Q,5;QO#%oQ(C[O,5:zPOOO'#IT'#ITP#&TO?MpO,58zPOOO,58z,58zOOOO-E<T-E<TOOQ(CY1G.m1G.mOOOO-E<U-E<UO#&`Q`O,59wOOOO-E<W-E<WOOQ(CY1G/a1G/aO#&eQbO,5>uO+sQUO,5>uOOQO,5>{,5>{O#&oQUO'#IZOOQO-E<X-E<XO#&|QSO,5@PO#'UQbO,5@PO#']QSO,5@]OOQ(CY1G/g1G/gO%QQUO,5@^O#'eQSO'#IaOOQO-E<_-E<_O#']QSO,5@]OOQ(CW1G0q1G0qOOQ(CY1G/r1G/rOOQ(CY1G0U1G0UO#'yQSO,5@YO:vQSO,5@YO#(RQSO,5@YO%QQUO,5@ZO#(aQ(C[O,5@ZO#(rQ(C[O,5@ZO#(yQSO'#IcO#'yQSO,5@YOOQ(CW1G0p1G0pO!'bQWO,5:qO!'mQWO,5:qOOQO,5:s,5:sO#)hQSO,5:sO#)pQ,UO1G2qO9_QSO1G2qOOQ(CY1G0n1G0nO#*OQ(CjO1G0nO#+TQ(ChO,5;OOOQ(CY'#GP'#GPO#+qQ(CjO'#J^O!!PQUO1G0nO#-yQ,UO'#JhO#.TQSO,5:[O#.YQbO'#JiO%QQUO'#JiO#.dQSO,5:aOOQ(CY'#DX'#DXOOQ(CY1G0w1G0wO%QQUO1G0wOOQ(CY1G1a1G1aO#.iQSO1G0wO#1QQ(CjO1G0xO#1XQ(CjO1G0xO#3rQ(CjO1G0xO#3yQ(CjO1G0xO#6TQ(CjO1G0xO#6kQ(CjO1G0xO#9eQ(CjO1G0xO#9lQ(CjO1G0xO#<VQ(CjO1G0xO#<^Q(CjO1G0xO#>UQ(CjO1G0xO#AUQ$IUO'#CfO#CSQ$IUO1G1ZO#EQQ$IUO'#JdO!*OQSO1G1aO#EeQ(CjO,5?QOOQ(CW-E<d-E<dO#FXQ(CjO1G0xOOQ(CY1G0x1G0xO#HdQ(CjO1G1^O#IWQ#tO,5<RO#I`Q#tO,5<SO#IhQ#tO'#FjO#JPQSO'#FiOOQO'#Jw'#JwOOQO'#Id'#IdO#JUQ#tO1G1iOOQ(CY1G1i1G1iOOOO1G1t1G1tO#JgQ$IUO'#JcO#JqQSO,5<]O!'xQUO,5<]OOOO-E<c-E<cOOQ(CY1G1f1G1fO#JvQWO'#JvOOQ(CY,5<_,5<_O#KOQWO,5<_OOQ(CY,59b,59bO!$SQ,UO'#C|OOOO'#IX'#IXO#KTO07`O,59fOOQ(CY,59f,59fO%QQUO1G1zO!3hQSO'#IhO#K`QSO,5<sOOQ(CY,5<p,5<pOOQO'#Gf'#GfO!%lQ,UO,5=POOQO'#Gh'#GhO!%lQ,UO,5=RO!$SQ,UO,5=TOOQO1G1|1G1|O#KnQ`O'#CoO#LRQ`O,5<lO#LYQSO'#JzO9_QSO'#JzO#LhQSO,5<nO!%lQ,UO,5<mO#LmQSO'#GSO#LxQSO,5<mO#L}Q`O'#GPO#M[Q`O'#J{O#MfQSO'#J{O!$SQ,UO'#J{O#MkQSO,5<qO#MpQWO'#G[O!1qQWO'#G[O#NRQSO'#G^O#NWQSO'#G`O!0rQSO'#GcO#N]Q(C[O'#IjO#NhQWO,5<uOOQ(CY,5<u,5<uO#NoQWO'#G[O#N}QWO'#G]O$ VQWO'#G]OOQ(CY,5=U,5=UO!%lQ,UO,5?wO!%lQ,UO,5?wO$ [QSO'#IkO$ gQSO,5?vO$ oQSO,59]O$!`Q,UO,59nOOQ(CY,59n,59nO$#RQ,UO,5<dO$#tQ,UO,5<fO?rQSO,5<hOOQ(CY,5<i,5<iO$$OQSO,5<oO$$TQ,UO,5<tO!!PQUO1G1{O$$eQSO1G1{OOQQ1G4V1G4VOOQ(CY1G/t1G/tO!){QSO1G/tO$&dQ(CjO1G0QOOQQ1G2q1G2qO!$SQ,UO1G2qO%QQUO1G2qO$'TQSO1G2qO$'`Q,UO'#EdOOQ(CW,5?t,5?tO$'jQ(C[O,5?tOOQQ1G.r1G.rO!<oQ(C[O1G.rO!<zQWO1G.rO!=SQ,UO1G.rO$'{QSO1G0nO$(QQSO'#CfO$(]QSO'#KSO$(eQSO,5=sO$(jQSO'#KSO$(oQSO'#KSO$(zQSO'#IsO$)YQSO,5@mO$)bQbO1G1cOOQ(CY1G1e1G1eO9_QSO1G3^O?rQSO1G3^O$)iQSO1G3^O$)nQSO1G3^OOQQ1G3^1G3^O:vQSO'#JqO:vQSO'#EmO%QQUO'#EmO:vQSO'#ImO$)sQ(C[O,5@jOOQQ1G2u1G2uO!@`QSO1G2{O!$SQ,UO1G2xO$*OQSO1G2xOOQQ1G2y1G2yO!$SQ,UO1G2yO$*TQSO1G2yO$*]QWO'#GwOOQQ1G2{1G2{O!1qQWO'#IoO!@eQ`O1G3OOOQQ1G3O1G3OOOQQ,5=i,5=iO$*eQ,UO,5=kO9_QSO,5=kO#NWQSO,5=nO8tQSO,5=nO!<zQWO,5=nO!=SQ,UO,5=nO9dQ,UO,5=nO$*sQSO'#KQO$+OQSO,5=oOOQQ1G.h1G.hO$+TQ(C[O1G.hO?rQSO1G.hO$+`QSO1G.hO9OQ(C[O1G.hO$+kQbO,5@oO$,OQSO,5@oO$,ZQUO,5=vO$,bQSO,5=vO:vQSO,5@oOOQQ1G3`1G3`O`QUO1G3`OOQQ1G3f1G3fOOQQ1G3h1G3hO={QSO1G3jO$,gQUO1G3lO$0hQUO'#HkOOQQ1G3o1G3oO$0uQSO'#HqO>QQSO'#HsOOQQ1G3u1G3uO$0}QUO1G3uO9OQ(C[O1G3{OOQQ1G3}1G3}OOQ(CW'#GW'#GWO9OQ(C[O1G4PO9OQ(C[O1G4RO$5RQSO,5@RO!'xQUO,5;XO:vQSO,5;XO>QQSO,5:RO!'xQUO,5:RO!<zQWO,5:RO$5WQ$IUO,5:ROOQO,5;X,5;XO$5bQWO'#I[O$5xQSO,5@QOOQ(CY1G/l1G/lO$6QQWO'#IbO$6[QSO,5@_OOQ(CW1G0r1G0rO!JlQWO,5:ROOQO'#I_'#I_O$6dQWO,5:mOOQ(CY,5:m,5:mO!NgQSO1G0VOOQ(CY1G0V1G0VO%QQUO1G0VOOQ(CY1G0m1G0mO>QQSO1G0mO!<zQWO1G0mO!=SQ,UO1G0mOOQ(CW1G5m1G5mO!<oQ(C[O1G0YOOQO1G0f1G0fO%QQUO1G0fO$6kQ(C[O1G0fO$6vQ(C[O1G0fO!<zQWO1G0YOBzQWO1G0YO$7UQ(C`O1G0fO$7pQWO1G0YOBzQWO1G0fO$7}QWO1G0fO$8eQWO1G0fO$9OQWO1G0fO$9oQ(C[O1G0fOOQO1G0Y1G0YO$:TQ(CjO1G0fPOOO-E<R-E<RPOOO1G.f1G.fOOOO1G/c1G/cO$:_Q`O,5<cO$:gQbO1G4aOOQO1G4g1G4gO%QQUO,5>uO$:qQSO1G5kO$:yQSO1G5wO$;RQbO1G5xO:vQSO,5>{O$;]QSO1G5tO$;]QSO1G5tO:vQSO1G5tO$;eQ(CjO1G5uO%QQUO1G5uO$;uQ(C[O1G5uO$<WQSO,5>}O:vQSO,5>}OOQO,5>},5>}O$<lQSO,5>}OOQO-E<a-E<aOOQO1G0]1G0]OOQO1G0_1G0_O!*OQSO1G0_OOQQ7+(]7+(]O!$SQ,UO7+(]O%QQUO7+(]O$<zQSO7+(]O$=VQ,UO7+(]O$=eQ(CjO,59nO$?mQ(CjO,5<dO$AxQ(CjO,5<fO$DTQ(CjO,5<tOOQ(CY7+&Y7+&YO$FfQ(CjO7+&YO$GYQ,UO'#I]O$GdQSO,5@SOOQ(CY1G/v1G/vO$GlQUO'#I^O$GyQSO,5@TO$HRQbO,5@TOOQ(CY1G/{1G/{O$H]QSO7+&cOOQ(CY7+&c7+&cO$HbQ$IUO,5:bO%QQUO7+&uO$HlQ$IUO,5:YO$HyQ$IUO,5:fO$ITQ$IUO,5:hOOQ(CY7+&{7+&{OOQO1G1m1G1mOOQO1G1n1G1nO$I_Q#tO,5<UO!'xQUO,5<TOOQO-E<b-E<bOOQ(CY7+'T7+'TOOOO7+'`7+'`OOOO1G1w1G1wO$IjQSO1G1wOOQ(CY1G1y1G1yO$IoQ`O,59hOOOO-E<V-E<VOOQ(CY1G/Q1G/QO$IvQ(CjO7+'fOOQ(CY,5?S,5?SO$JjQSO,5?SOOQ(CY1G2_1G2_P$JoQSO'#IhPOQ(CY-E<f-E<fO$KcQ,UO1G2kO$LUQ,UO1G2mO$L`Q`O1G2oOOQ(CY1G2W1G2WO$LgQSO'#IgO$LuQSO,5@fO$LuQSO,5@fO$L}QSO,5@fO$MYQSO,5@fOOQO1G2Y1G2YO$MhQ,UO1G2XO!%lQ,UO1G2XO$MxQMhO'#IiO$NYQSO,5@gO!$SQ,UO,5@gO$NbQ`O,5@gOOQ(CY1G2]1G2]OOQ(CW,5<v,5<vOOQ(CW,5<w,5<wO$NlQSO,5<wOBuQSO,5<wO!<zQWO,5<vOOQO'#G_'#G_O$NqQSO,5<xOOQ(CW,5<z,5<zO$NlQSO,5<}OOQO,5?U,5?UOOQO-E<h-E<hOOQ(CY1G2a1G2aO!1qQWO,5<vO$NyQSO,5<wO#NRQSO,5<xO!1qQWO,5<wO% UQ,UO1G5cO% `Q,UO1G5cOOQO,5?V,5?VOOQO-E<i-E<iOOQO1G.w1G.wO!>QQWO,59pO%QQUO,59pO% mQSO1G2SO!%lQ,UO1G2ZO% rQ(CjO7+'gOOQ(CY7+'g7+'gO!!PQUO7+'gOOQ(CY7+%`7+%`O%!fQ`O'#J|O!NgQSO7+(]O%!pQbO7+(]O$<}QSO7+(]O%!wQ(ChO'#CfO%#[Q(ChO,5<{O%#|QSO,5<{OOQ(CW1G5`1G5`OOQQ7+$^7+$^O!<oQ(C[O7+$^O!<zQWO7+$^O!!PQUO7+&YO%$RQSO'#IrO%$gQSO,5@nOOQO1G3_1G3_O9_QSO,5@nO%$gQSO,5@nO%$oQSO,5@nOOQO,5?_,5?_OOQO-E<q-E<qOOQ(CY7+&}7+&}O%$tQSO7+(xO9OQ(C[O7+(xO9_QSO7+(xO?rQSO7+(xO%$yQSO,5;XOOQ(CW,5?X,5?XOOQ(CW-E<k-E<kOOQQ7+(g7+(gO%%OQ(ChO7+(dO!$SQ,UO7+(dO%%YQ`O7+(eOOQQ7+(e7+(eO!$SQ,UO7+(eO%%aQSO'#KPO%%lQSO,5=cOOQO,5?Z,5?ZOOQO-E<m-E<mOOQQ7+(j7+(jO%&{QWO'#HQOOQQ1G3V1G3VO!$SQ,UO1G3VO%QQUO1G3VO%'SQSO1G3VO%'_Q,UO1G3VO9OQ(C[O1G3YO#NWQSO1G3YO8tQSO1G3YO!<zQWO1G3YO!=SQ,UO1G3YO%'mQSO'#IqO%'xQSO,5@lO%(QQWO,5@lOOQ(CW1G3Z1G3ZOOQQ7+$S7+$SO?rQSO7+$SO9OQ(C[O7+$SO%(]QSO7+$SO%QQUO1G6ZO%QQUO1G6[O%(bQUO1G3bO%(iQSO1G3bO%(nQUO1G3bO%(uQ(C[O1G6ZOOQQ7+(z7+(zO9OQ(C[O7+)UO`QUO7+)WOOQQ'#KV'#KVOOQQ'#It'#ItO%)PQUO,5>VOOQQ,5>V,5>VO%QQUO'#HlO%)^QSO'#HnOOQQ,5>],5>]O:vQSO,5>]OOQQ,5>_,5>_OOQQ7+)a7+)aOOQQ7+)g7+)gOOQQ7+)k7+)kOOQQ7+)m7+)mO%)cQWO1G5mO%)wQ$IUO1G0sO%*RQSO1G0sOOQO1G/m1G/mO%*^Q$IUO1G/mO>QQSO1G/mO!'xQUO'#DgOOQO,5>v,5>vOOQO-E<Y-E<YOOQO,5>|,5>|OOQO-E<`-E<`O!<zQWO1G/mOOQO-E<]-E<]OOQ(CY1G0X1G0XOOQ(CY7+%q7+%qO!NgQSO7+%qOOQ(CY7+&X7+&XO>QQSO7+&XO!<zQWO7+&XOOQO7+%t7+%tO$:TQ(CjO7+&QOOQO7+&Q7+&QO%QQUO7+&QO%*hQ(C[O7+&QO!<oQ(C[O7+%tO!<zQWO7+%tO%*sQ(C[O7+&QOBzQWO7+%tO%+RQ(C[O7+&QO%+gQ(C`O7+&QO%+qQWO7+%tOBzQWO7+&QO%,OQWO7+&QO%,fQWO7+&QO%-PQSO7++`O%-PQSO7++`O%-XQ(CjO7++aO%QQUO7++aOOQO1G4i1G4iO:vQSO1G4iO%-iQSO1G4iOOQO7+%y7+%yO!NgQSO<<KwO%!pQbO<<KwO%-wQSO<<KwOOQQ<<Kw<<KwO!$SQ,UO<<KwO%QQUO<<KwO%.PQSO<<KwO%.[Q(CjO1G2kO%0gQ(CjO1G2mO%2rQ(CjO1G2XO%5TQ,UO,5>wOOQO-E<Z-E<ZO%5_QbO,5>xO%QQUO,5>xOOQO-E<[-E<[O%5iQSO1G5oOOQ(CY<<I}<<I}O%5qQ$IUO1G0nO%7{Q$IUO1G0xO%8SQ$IUO1G0xO%:WQ$IUO1G0xO%:_Q$IUO1G0xO%<SQ$IUO1G0xO%<jQ$IUO1G0xO%>}Q$IUO1G0xO%?UQ$IUO1G0xO%AYQ$IUO1G0xO%AaQ$IUO1G0xO%CXQ$IUO1G0xO%ClQ(CjO<<JaO%DqQ$IUO1G0xO%FgQ$IUO'#J^O%HjQ$IUO1G1^O%HwQ$IUO1G0QO!'xQUO'#FlOOQO'#Jx'#JxOOQO1G1p1G1pO%IRQSO1G1oO%IWQ$IUO,5?QOOOO7+'c7+'cOOOO1G/S1G/SOOQ(CY1G4n1G4nO!%lQ,UO7+(ZO%IbQSO,5?RO9_QSO,5?ROOQO-E<e-E<eO%IpQSO1G6QO%IpQSO1G6QO%IxQSO1G6QO%JTQ,UO7+'sO%JeQ`O,5?TO%JoQSO,5?TO!$SQ,UO,5?TOOQO-E<g-E<gO%JtQ`O1G6RO%KOQSO1G6ROOQ(CW1G2c1G2cO$NlQSO1G2cOOQ(CW1G2b1G2bO%KWQSO1G2dO!$SQ,UO1G2dOOQ(CW1G2i1G2iO!<zQWO1G2bOBuQSO1G2cO%K]QSO1G2dO%KeQSO1G2cO!%lQ,UO7+*}OOQ(CY1G/[1G/[O%KpQSO1G/[OOQ(CY7+'n7+'nO%KuQ,UO7+'uO%LVQ(CjO<<KROOQ(CY<<KR<<KRO!$SQ,UO'#IlO%LyQSO,5@hO!$SQ,UO1G2gOOQQ<<Gx<<GxO!<oQ(C[O<<GxO%MRQ(CjO<<ItOOQ(CY<<It<<ItOOQO,5?^,5?^O%MuQSO,5?^O$(oQSO,5?^OOQO-E<p-E<pO%MzQSO1G6YO%MzQSO1G6YO9_QSO1G6YO?rQSO<<LdOOQQ<<Ld<<LdO%NSQSO<<LdO9OQ(C[O<<LdO%NXQSO1G0sOOQQ<<LO<<LOO%%OQ(ChO<<LOOOQQ<<LP<<LPO%%YQ`O<<LPO%N^QWO'#InO%NiQSO,5@kO!'xQUO,5@kOOQQ1G2}1G2}O%NqQ(C`O'#JgO& ]QUO'#JgO& dQWO'#E`O&!QQ(C[O'#E`OB`Q(C`O'#E`O(YQWO'#HROOQO'#Ip'#IpO9OQ(C[O'#IpO&!fQWO,5=lOOQQ,5=l,5=lO&#OQWO'#E`O& vQWO'#E`O&#VQWO'#E`O&#pQWO'#E`O& jQWO'#E`O&$aQWO'#HRO&$rQSO7+(qO&$wQSO7+(qOOQQ7+(q7+(qO!$SQ,UO7+(qO%QQUO7+(qO&%PQSO7+(qOOQQ7+(t7+(tO9OQ(C[O7+(tO#NWQSO7+(tO8tQSO7+(tO!<zQWO7+(tO&%[QSO,5?]OOQO-E<o-E<oOOQO'#HU'#HUO&%gQSO1G6WO9OQ(C[O<<GnOOQQ<<Gn<<GnO?rQSO<<GnO&%oQSO7++uO&%tQSO7++vOOQQ7+(|7+(|O&%yQSO7+(|O&&OQUO7+(|O&&VQSO7+(|O%QQUO7++uO%QQUO7++vOOQQ<<Lp<<LpOOQQ<<Lr<<LrOOQQ-E<r-E<rOOQQ1G3q1G3qO&&[QSO,5>WOOQQ,5>Y,5>YO&&aQSO1G3wO:vQSO7+&_O!'xQUO7+&_OOQO7+%X7+%XO&&fQ$IUO1G5xO>QQSO7+%XOOQ(CY<<I]<<I]OOQ(CY<<Is<<IsO>QQSO<<IsOOQO<<Il<<IlO$:TQ(CjO<<IlO%QQUO<<IlOOQO<<I`<<I`O!<oQ(C[O<<I`O&&pQ(C[O<<IlO!<zQWO<<I`O&&{Q(C[O<<IlOBzQWO<<I`O&'ZQ(C[O<<IlO&'oQ(C`O<<IlO&'yQWO<<I`OBzQWO<<IlO&(WQWO<<IlO&(nQSO<<NzO&(vQ(CjO<<N{OOQO7+*T7+*TO:vQSO7+*TOOQQANAcANAcO&)WQSOANAcO!$SQ,UOANAcO!NgQSOANAcO%!pQbOANAcO%QQUOANAcO&)`Q(CjO7+'sO&+qQ(CjO7+'uO&.SQbO1G4dO&.^Q$IUO7+&YO&.kQ$IUO,59nO&0nQ$IUO,5<dO&2qQ$IUO,5<fO&4tQ$IUO,5<tO&6jQ$IUO7+'fO&6wQ$IUO7+'gO&7UQSO,5<WOOQO7+'Z7+'ZO&7ZQ,UO<<KuOOQO1G4m1G4mO&7bQSO1G4mO&7mQSO1G4mO&7{QSO7++lO&7{QSO7++lO!$SQ,UO1G4oO&8TQ`O1G4oO&8_QSO7++mOOQ(CW7+'}7+'}O$NlQSO7+(OO&8gQ`O7+(OOOQ(CW7+'|7+'|O$NlQSO7+'}O&8nQSO7+(OO!$SQ,UO7+(OOBuQSO7+'}O&8sQ,UO<<NiOOQ(CY7+$v7+$vO&8}Q`O,5?WOOQO-E<j-E<jO&9XQ(ChO7+(ROOQQAN=dAN=dO9_QSO1G4xOOQO1G4x1G4xO&9iQSO1G4xO&9nQSO7++tO&9nQSO7++tO9OQ(C[OANBOO?rQSOANBOOOQQANBOANBOOOQQANAjANAjOOQQANAkANAkO&9vQSO,5?YOOQO-E<l-E<lO&:RQ$IUO1G6VO&:]Q(C[O,5=mO8tQSO,5=mO&<nQbO'#CfO&<xQWO,5:zO&=SQWO,5:zO&=aQWO,5:zO&=tQWO,5:zO!<zQWO,5=mOOQO,5?[,5?[OOQO-E<n-E<nOOQQ1G3W1G3WO& ]QUO,5<xO%NqQ(C`O,5=mO# wQ(C`O,5:zO(YQWO,5=mO&>[QWO,5=mO&>mQWO,5:zOOQQ<<L]<<L]O!$SQ,UO<<L]O&$rQSO<<L]O&?WQSO<<L]O%QQUO<<L]OOQQ<<L`<<L`O9OQ(C[O<<L`O#NWQSO<<L`O8tQSO<<L`O&?`QWO1G4wO&?kQSO7++rOOQQAN=YAN=YO9OQ(C[OAN=YOOQQ<= a<= aOOQQ<= b<= bOOQQ<<Lh<<LhO&?sQSO<<LhO&?xQUO<<LhO&@PQSO<= aO&@UQSO<= bOOQQ1G3r1G3rO>QQSO7+)cO&@ZQSO<<IyO&@fQ$IUO<<IyOOQO<<Hs<<HsOOQ(CYAN?_AN?_OOQOAN?WAN?WO$:TQ(CjOAN?WOOQOAN>zAN>zO%QQUOAN?WO!<oQ(C[OAN>zO&@pQ(C[OAN?WO!<zQWOAN>zO&@{Q(C[OAN?WOBzQWOAN>zO&AZQ(C[OAN?WO&AoQ(C`OAN?WO&AyQWOAN>zOBzQWOAN?WOOQO<<Mo<<MoOOQQG26}G26}O!$SQ,UOG26}O!NgQSOG26}O&BWQSOG26}O%!pQbOG26}O&B`Q$IUO<<JaO&BmQ$IUO1G2XO&DcQ$IUO1G2kO&FfQ$IUO1G2mO&HiQ$IUO<<KRO&HvQ$IUO<<ItOOQO1G1r1G1rO!%lQ,UOANAaOOQO7+*X7+*XO&ITQSO7+*XO&I`QSO<= WO&IhQ`O7+*ZOOQ(CW<<Kj<<KjO$NlQSO<<KjOOQ(CW<<Ki<<KiO&IrQ`O<<KjO$NlQSO<<KiOOQO7+*d7+*dO9_QSO7+*dO&IyQSO<= `OOQQG27jG27jO9OQ(C[OG27jO!'xQUO1G4tO&JRQSO7++qOOQO1G3X1G3XO9OQ(C[O1G3XO&:]Q(C[O1G3XO&JZQWO1G0fO&JeQWO1G0fO&JrQWO1G0fO8tQSO1G3XO!<zQWO1G3XO(YQWO1G3XO%NqQ(C`O1G3XO$7UQ(C`O1G0fO&KVQWO1G3XO&$rQSOANAwOOQQANAwANAwO!$SQ,UOANAwO&KhQSOANAwOOQQANAzANAzO9OQ(C[OANAzO#NWQSOANAzOOQO'#HV'#HVOOQO7+*c7+*cOOQQG22tG22tOOQQANBSANBSO&KpQSOANBSOOQQAND{AND{OOQQAND|AND|OOQQ<<L}<<L}O!'xQUOAN?eOOQOG24rG24rO$:TQ(CjOG24rOOQOG24fG24fO%QQUOG24rO!<oQ(C[OG24fO&KuQ(C[OG24rO!<zQWOG24fO&LQQ(C[OG24rOBzQWOG24fO&L`Q(C[OG24rO!NgQSOLD,iOOQQLD,iLD,iO!$SQ,UOLD,iO&LtQSOLD,iO&L|Q$IUO7+'sO&NrQ$IUO7+'uO'!hQ,UOG26{OOQO<<Ms<<MsOOQ(CWANAUANAUO$NlQSOANAUOOQ(CWANATANATOOQO<<NO<<NOOOQQLD-ULD-UO'!xQ$IUO7+*`OOQO7+(s7+(sO9OQ(C[O7+(sO'#SQWO7+&QO'#^QWO7+&QO&:]Q(C[O7+(sO8tQSO7+(sO!<zQWO7+(sO(YQWO7+(sOOQQG27cG27cO&$rQSOG27cO!$SQ,UOG27cOOQQG27fG27fO9OQ(C[OG27fOOQQG27nG27nO'#kQ$IUOG25POOQOLD*^LD*^O$:TQ(CjOLD*^OOQOLD*QLD*QO%QQUOLD*^O!<oQ(C[OLD*QO'#uQ(C[OLD*^O!<zQWOLD*QO'$QQ(C[OLD*^OOQQ!$(!T!$(!TO!NgQSO!$(!TO!$SQ,UO!$(!TO'$`Q(CjOG26{OOQ(CWG26pG26pOOQO<<L_<<L_O'&qQWO<<IlO9OQ(C[O<<L_O&:]Q(C[O<<L_O8tQSO<<L_O!<zQWO<<L_OOQQLD,}LD,}O&$rQSOLD,}OOQQLD-QLD-QOOQO!$'Mx!$'MxO$:TQ(CjO!$'MxOOQO!$'Ml!$'MlO%QQUO!$'MxO!<oQ(C[O!$'MlO'&{Q(C[O!$'MxOOQQ!)9Eo!)9EoO!NgQSO!)9EoOOQOANAyANAyO9OQ(C[OANAyO&:]Q(C[OANAyO8tQSOANAyOOQQ!$(!i!$(!iOOQO!)9Cd!)9CdO$:TQ(CjO!)9CdOOQO!)9CW!)9CWO%QQUO!)9CdOOQQ!.K;Z!.K;ZO''WQ$IUOG26{OOQOG27eG27eO9OQ(C[OG27eO&:]Q(C[OG27eOOQO!.K9O!.K9OO$:TQ(CjO!.K9OOOQOLD-PLD-PO9OQ(C[OLD-POOQO!4/.j!4/.jOOQO!$(!k!$(!kO!'xQUO'#DvO0uQSO'#ETO'(|QbO'#JcO!'xQUO'#DnO')TQUO'#DzO!'xQUO'#D|O')[QbO'#CfO'+rQbO'#CfO',SQUO,5;SO!'xQUO,5;^O!'xQUO,5;^O!'xQUO,5;^O!'xQUO,5;^O!'xQUO,5;^O!'xQUO,5;^O!'xQUO,5;^O!'xQUO,5;^O!'xQUO,5;^O!'xQUO,5;^O!'xQUO,5;^O!'xQUO'#IfO'.VQSO,5<cO'._Q,UO,5;^O'/rQ,UO,5;^O!'xQUO,5;rO0xQSO'#DSO0xQSO'#DSO!$SQ,UO'#FxO'._Q,UO'#FxO!$SQ,UO'#FzO'._Q,UO'#FzO!$SQ,UO'#GYO'._Q,UO'#GYO!'xQUO,5:fO!'xQUO,5@^O',SQUO1G0nO'/yQ$IUO'#CfO!'xQUO1G1zO!$SQ,UO,5=PO'._Q,UO,5=PO!$SQ,UO,5=RO'._Q,UO,5=RO!$SQ,UO,5<mO'._Q,UO,5<mO',SQUO1G1{O!'xQUO7+&uO!$SQ,UO1G2XO'._Q,UO1G2XO!$SQ,UO1G2ZO'._Q,UO1G2ZO',SQUO7+'gO',SQUO7+&YO!$SQ,UOANAaO'._Q,UOANAaO'0TQSO'#EhO'0YQSO'#EhO'0bQSO'#FWO'0gQSO'#ErO'0lQSO'#JrO'0wQSO'#JpO'1SQSO,5;SO'1XQ,UO,5<`O'1`QSO'#GRO'1eQSO'#GRO'1jQSO,5<aO'1rQSO,5;SO'1zQ$IUO1G1ZO'2RQSO,5<mO'2WQSO,5<mO'2]QSO,5<oO'2bQSO,5<oO'2gQSO1G1{O'2lQSO1G0nO'2qQ,UO<<KuO'2xQ,UO<<KuO7^Q,UO'#FvO8tQSO'#FuO@mQSO'#EgO!'xQUO,5;oO!0rQSO'#GRO!0rQSO'#GRO!0rQSO'#GTO!0rQSO'#GTO!%lQ,UO7+(ZO!%lQ,UO7+(ZO$L`Q`O1G2oO$L`Q`O1G2oO!$SQ,UO,5=TO!$SQ,UO,5=T",stateData:"'4R~O'mOS'nOSROS'oRQ~OPYOQYOV!TO^pOaxObwOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!csO!hZO!kYO!lYO!mYO!otO!quO!tvO!x]O#p}O$QzO$UfO%`{O%b!OO%d|O%e|O%h!PO%j!QO%m!RO%n!RO%p!SO%}!UO&T!VO&V!WO&X!XO&Z!YO&^!ZO&d![O&j!]O&l!^O&n!_O&p!`O&r!aO'tSO'vTO'yUO(RVO(`[O(miO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$Q!hO$UfO't!bO'vTO'yUO(RVO(`[O(miO~O^!qOl!kO|!lO![!rO!]!pO!^!pO!x<XO!|!wO!}!vO#O!tO#P!uO#Q!sO#T!xO#U!xO'u!iO'vTO'yUO(U!jO(`!nO~O'o!yO~OPYXXYX^YXkYXyYXzYX|YX!VYX!eYX!fYX!hYX!lYX#XYX#dcX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#oYX#qYX#sYX#uYX#vYX#{YX'kYX(RYX(aYX(hYX(iYX~O!a$zX~P(gO[!{O'v!}O'w!{O'x!}O~O[#OO'x!}O'y!}O'z#OO~Oq#QO!O#RO(S#RO(T#TO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$Q!hO$UfO't<^O'vTO'yUO(RVO(`[O(miO~O!U#XO!V#UO!S(XP!S(eP~P+sO!W#aO~P`OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$Q!hO$UfO'vTO'yUO(RVO(`[O(miO~O!U#gO!x]O#b#jO#c#gO't<_O!g(bP~P._O!h#lO't#kO~O!t#pO!x]O%`#qO~O#d#rO~O!a#sO#d#rO~OP$ZOX$bOk$OOy#wOz#xO|#yO!V$_O!e$QO!f#uO!h#vO!l$ZO#g#|O#h#}O#i#}O#j#}O#k$PO#l$QO#m$QO#n$aO#o$QO#q$RO#s$TO#u$VO#v$WO(RVO(a$XO(h#zO(i#{O~O^(VX'k(VX'i(VX!g(VX!S(VX!X(VX%a(VX!a(VX~P1gO#X$cO#{$cOP(WXX(WXk(WXy(WXz(WX|(WX!V(WX!e(WX!h(WX!l(WX#g(WX#h(WX#i(WX#j(WX#k(WX#l(WX#m(WX#n(WX#o(WX#q(WX#s(WX#u(WX#v(WX(R(WX(a(WX(h(WX(i(WX!X(WX%a(WX~O^(WX!f(WX'k(WX'i(WX!S(WX!g(WXo(WX!a(WX~P3}O#X$cO~O$W$eO$Y$dO$a$jO~O!X$kO$UfO$d$lO$f$nO~Oi%QOk$rOl$qOm$qOs%ROu%SOw%TO|$yO!X$zO!c%YO!h$vO#c%ZO$Q%WO$m%UO$o%VO$r%XO't$pO'vTO'yUO'}%PO(R$sOd(OP~O!h%[O~O!a%^O~O^%_O'k%_O~O'u!iO~P%QO't%fO~O!h%[O't%fO'u!iO'}%PO~Ob%mO!h%[O't%fO~O#o$QO~Oy%rO!X%oO!h%qO%b%uO't%fO'u!iO'vTO'yUO](uP~O!t#pO~O|%wO!X%xO't%fO~O|%wO!X%xO%j%|O't%fO~O't%}O~O#p}O%b!OO%d|O%e|O%h!PO%j!QO%m!RO%n!RO~Oa&WOb&VO!t&TO%`&UO%r&SO~P;fOa&ZObwO!X&YO!tvO!x]O#p}O%`{O%d|O%e|O%h!PO%j!QO%m!RO%n!RO%p!SO~O_&^O#X&aO%b&[O'u!iO~P<eO!h&bO!q&fO~O!h#lO~O!XXO~O^%_O'j&nO'k%_O~O^%_O'j&qO'k%_O~O^%_O'j&sO'k%_O~O'iYX!SYXoYX!gYX&RYX!XYX%aYX!aYX~P(gO!['QO!]&yO!^&yO'u!iO'vTO'yUO~Ol&wO|&vO!U&zO(U&uO!W(YP!W(gP~P?fOg'TO!X'RO't%fO~Ob'YO!h%[O't%fO~Oy%rO!h%qO~Ol!kO|!lO!['_O!]'^O!^'^O!}'bO#O'aO#P'aO#Q'`O#T'dO#U'dO'u!iO'vTO'yUO(U!jO(`!nO~O!x<XO!|'cO~PAQO^%_O!a#sO!h%[O!l'jO#X'hO'k%_O'}%PO(a'fO~Ol!kO|!lO'vTO'yUO(U!jO(`!nO~O!]'^O!^'^O'u!iO~PBzO!['_O!]'^O!^'^O#T'dO#U'dO'u!iO~PBzO!XXO!['_O!]'^O!^'^O#Q'`O#T'dO#U'dO'u!iO~PBzO!['_O!]'^O!^'^O#O'aO#P'aO#Q'`O#T'dO#U'dO'u!iO~PBzO'p'nO'q'nO'r'pO~O[!{O'v'rO'w!{O'x'rO~O[#OO'x'rO'y'rO'z#OO~Oq#QO!O#RO(S#RO(T'vO~O!U'xO!S&}X!S'TX!V&}X!V'TX~P+sO!V'zO!S(XX~OP$ZOX$bOk$OOy#wOz#xO|#yO!V'zO!e$QO!f#uO!h#vO!l$ZO#g#|O#h#}O#i#}O#j#}O#k$PO#l$QO#m$QO#n$aO#o$QO#q$RO#s$TO#u$VO#v$WO(RVO(a$XO(h#zO(i#{O~O!S(XX~PGUO!S(PO~O!S(dX!V(dX!a(dX!g(dX(a(dX~O#X(dX#d#]X!W(dX~PI[O#X(QO!S(fX!V(fX~O!V(RO!S(eX~O!S(UO~O#X$cO~PI[O!W(VO~P`Oy#wOz#xO|#yO!f#uO!h#vO(RVOP!jaX!jak!ja!V!ja!e!ja!l!ja#g!ja#h!ja#i!ja#j!ja#k!ja#l!ja#m!ja#n!ja#o!ja#q!ja#s!ja#u!ja#v!ja(a!ja(h!ja(i!ja~O^!ja'k!ja'i!ja!S!ja!g!jao!ja!X!ja%a!ja!a!ja~PJrO!g(WO~O|%wO!X%xO!x]O#b(ZO#c(YO't%fO~O!a#sO#X([O(a'fO!V(cX^(cX'k(cX~O!g(cX~PMvO!V(_O!g(bX~O!g(aO~O|%wO!X%xO#c(YO't%fO~Oy(bOz(cO!f#uO!h#vO!x!wa|!wa~O!t!wa%`!wa!X!wa#b!wa#c!wa't!wa~P! OO!t(gO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$Q!hO$UfO't!bO'vTO'yUO(RVO(`[O(miO~Oi%QOk$rOl$qOm$qOs%ROu%SOw<qO|$yO!X$zO!c={O!h$vO#c<wO$Q%WO$m<sO$o<uO$r%XO't(kO'vTO'yUO'}%PO(R$sO~O#d(mO~Oi%QOk$rOl$qOm$qOs%ROu%SOw%TO|$yO!X$zO!c%YO!h$vO#c%ZO$Q%WO$m%UO$o%VO$r%XO't(kO'vTO'yUO'}%PO(R$sO~Od([P~P!%lO!U(qO!g(]P~P%QO(U(sO(`[O~O|(uO!h#vO(U(sO(`[O~OP<WOQ<WOa=wOb!fOikOk<WOlkOmkOskOu<WOw<WO|WO!QkO!RkO!X!cO!c<ZO!hZO!k<WO!l<WO!m<WO!o<[O!q<]O!t!eO$Q!hO$UfO't)TO'vTO'yUO(RVO(`[O(m=uO~Oz)WO!h#vO~O!V$_O^$ka'k$ka'i$ka!g$ka!S$ka!X$ka%a$ka!a$ka~O#p)[O~P!$SOy)_O!a)^O!X$XX$T$XX$W$XX$Y$XX$a$XX~O!a)^O!X(jX$T(jX$W(jX$Y(jX$a(jX~Oy)_O~P!+bOy)_O!X(jX$T(jX$W(jX$Y(jX$a(jX~O!X)aO$T)eO$W)`O$Y)`O$a)fO~O!U)iO~P!'xO$W$eO$Y$dO$a)mO~Og$sXy$sX|$sX!f$sX(h$sX(i$sX~OdfXd$sXgfX!VfX#XfX~P!-WOl)oO~Oq)pO(S)qO(T)sO~Og)|Oy)uO|)vO(h)xO(i)zO~Od)tO~P!.aOd)}O~Oi%QOk$rOl$qOm$qOs%ROu%SOw<qO|$yO!X$zO!c={O!h$vO#c<wO$Q%WO$m<sO$o<uO$r%XO'vTO'yUO'}%PO(R$sO~O!U*RO't*OO!g(nP~P!/OO#d*TO~O!h*UO~O!U*ZO't*WO!S(oP~P!/OOk*gO|*_O![*eO!]*^O!^*^O!h*UO#T*fO%W*aO'u!iO(U!jO~O!W*dO~P!1UO!f#uOg(QXy(QX|(QX(h(QX(i(QX!V(QX#X(QX~Od(QX#y(QX~P!1}Og*jO#X*iOd(PX!V(PX~O!V*kOd(OX~O't%}Od(OP~O!h*rO~O't(kO~O|%wO!U#gO!X%xO!x]O#b#jO#c#gO't%fO!g(bP~O!a#sO#d*vO~OP$ZOX$bOk$OOy#wOz#xO|#yO!e$QO!f#uO!h#vO!l$ZO#g#|O#h#}O#i#}O#j#}O#k$PO#l$QO#m$QO#n$aO#o$QO#q$RO#s$TO#u$VO#v$WO(RVO(a$XO(h#zO(i#{O~O^!ba!V!ba'k!ba'i!ba!S!ba!g!bao!ba!X!ba%a!ba!a!ba~P!4aOy#wOz#xO|#yO!f#uO!h#vO(RVOP!naX!nak!na!V!na!e!na!l!na#g!na#h!na#i!na#j!na#k!na#l!na#m!na#n!na#o!na#q!na#s!na#u!na#v!na(a!na(h!na(i!na~O^!na'k!na'i!na!S!na!g!nao!na!X!na%a!na!a!na~P!6zOy#wOz#xO|#yO!f#uO!h#vO(RVOP!paX!pak!pa!V!pa!e!pa!l!pa#g!pa#h!pa#i!pa#j!pa#k!pa#l!pa#m!pa#n!pa#o!pa#q!pa#s!pa#u!pa#v!pa(a!pa(h!pa(i!pa~O^!pa'k!pa'i!pa!S!pa!g!pao!pa!X!pa%a!pa!a!pa~P!9eOg+OO!X'RO%a*}O'}%PO~O!a+QO^'|X!X'|X'k'|X!V'|X~O^%_O!XXO'k%_O~O!h%[O'}%PO~O!h%[O't%fO'}%PO~O!a#sO#d(mO~O%b+^O't+YO'vTO'yUO!W(vP~O!V+_O](uX~O(U(sO~OX+cO~O]+dO~O!X%oO't%fO'u!iO](uP~O|%wO!U+hO!V(RO!X%xO't%fO!S(eP~Ol&}O|+jO!U+iO'vTO'yUO(U(sO~O!W(gP~P!?TO!V+kO^(rX'k(rX~O#X+oO'}%PO~Og+rO!X$zO'}%PO~O!X+tO~Oy+vO!XXO~O!t+{O~Ob,QO~O't#kO!W(tP~Ob%mO~O%b!OO't%}O~P<eOX,WO],VO~OPYOQYOaxObwOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!csO!hZO!kYO!lYO!mYO!otO!quO!tvO!x]O$UfO%`{O'vTO'yUO(RVO(`[O(miO~O!X!cO$Q!hO't!bO~P!AhO],VO^%_O'k%_O~O^,[O#p,^O%d,^O%e,^O~P%QO!h&bO~O&T,cO~O!X,eO~O&f,gO&h,hOP&caQ&caV&ca^&caa&cab&cai&cak&cal&cam&cas&cau&caw&ca|&ca!Q&ca!R&ca!X&ca!c&ca!h&ca!k&ca!l&ca!m&ca!o&ca!q&ca!t&ca!x&ca#p&ca$Q&ca$U&ca%`&ca%b&ca%d&ca%e&ca%h&ca%j&ca%m&ca%n&ca%p&ca%}&ca&T&ca&V&ca&X&ca&Z&ca&^&ca&d&ca&j&ca&l&ca&n&ca&p&ca&r&ca'i&ca't&ca'v&ca'y&ca(R&ca(`&ca(m&ca!W&ca&[&ca_&ca&a&ca~O't,mO~O!V{X!V!_X!W{X!W!_X!a{X!a!_X!h!_X#X{X'}!_X~O!a,rO#X,qO!V#aX!V(ZX!W#aX!W(ZX!a(ZX!h(ZX'}(ZX~O!a,tO!h%[O'}%PO!V!ZX!W!ZX~Ol!kO|!lO'vTO'yUO(U!jO~OP<WOQ<WOa=wOb!fOikOk<WOlkOmkOskOu<WOw<WO|WO!QkO!RkO!X!cO!c<ZO!hZO!k<WO!l<WO!m<WO!o<[O!q<]O!t!eO$Q!hO$UfO'vTO'yUO(RVO(`[O(m=uO~O't<|O~P!J}O!V,xO!W(YX~O!W,zO~O!a,rO#X,qO!V#aX!W#aX~O!V,{O!W(gX~O!W,}O~O!]-OO!^-OO'u!iO~P!JlO!W-RO~P'TOg-UO!X'RO~O!S-ZO~Ol!wa![!wa!]!wa!^!wa!|!wa!}!wa#O!wa#P!wa#Q!wa#T!wa#U!wa'u!wa'v!wa'y!wa(U!wa(`!wa~P! OO^%_O!a#sO!h%[O!l-`O#X-^O'k%_O'}%PO(a'fO~O!]-bO!^-bO'u!iO~PBzO![-dO!]-bO!^-bO#T-eO#U-eO'u!iO~PBzO![-dO!]-bO!^-bO#Q-fO#T-eO#U-eO'u!iO~PBzO![-dO!]-bO!^-bO#O-gO#P-gO#Q-fO#T-eO#U-eO'u!iO~PBzO![-dO!]-bO!^-bO!}-hO#O-gO#P-gO#Q-fO#T-eO#U-eO'u!iO~PBzO^%_O#X-^O'k%_O~O^%_O!a#sO#X-^O'k%_O~O^%_O!a#sO!l-`O#X-^O'k%_O(a'fO~O'p'nO'q'nO'r-mO~Oo-nO~O!S&}a!V&}a~P!4aO!U-rO!S&}X!V&}X~P%QO!V'zO!S(Xa~O!S(Xa~PGUO!V(RO!S(ea~O|%wO!U-vO!X%xO't%fO!S'TX!V'TX~O!V(_O!g(ba~O|%wO!X%xO#c-yO't%fO~O#X-{O!V(ca!g(ca^(ca'k(ca~O!a#sO~P#(aO|%wO!U.OO!X%xO!x]O#b.QO#c.OO't%fO!V'VX!g'VX~Oz.UO!h#vO~Og.XO!X'RO%a.WO'}%PO~O^#[i!V#[i'k#[i'i#[i!S#[i!g#[io#[i!X#[i%a#[i!a#[i~P!4aOg>ROy)uO|)vO(h)xO(i)zO~O#d#Wa^#Wa#X#Wa'k#Wa!V#Wa!g#Wa!X#Wa!S#Wa~P#*rO#d(QXP(QXX(QX^(QXk(QXz(QX!e(QX!h(QX!l(QX#g(QX#h(QX#i(QX#j(QX#k(QX#l(QX#m(QX#n(QX#o(QX#q(QX#s(QX#u(QX#v(QX'k(QX(R(QX(a(QX!g(QX!S(QX'i(QXo(QX!X(QX%a(QX!a(QX~P!1}O!V.bOd([X~P!.aOd.dO~O!V.eO!g(]X~P!4aO!g.hO~O!S.jO~OP$ZOy#wOz#xO|#yO!f#uO!h#vO!l$ZO(RVOX#fi^#fik#fi!V#fi!e#fi#h#fi#i#fi#j#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi'k#fi(a#fi(h#fi(i#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~O#g#fi~P#.nO#g#|O~P#.nOP$ZOy#wOz#xO|#yO!f#uO!h#vO!l$ZO#g#|O#h#}O#i#}O#j#}O(RVOX#fi^#fi!V#fi!e#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi'k#fi(a#fi(h#fi(i#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~Ok#fi~P#1`Ok$OO~P#1`OP$ZOk$OOy#wOz#xO|#yO!f#uO!h#vO!l$ZO#g#|O#h#}O#i#}O#j#}O#k$PO(RVO^#fi!V#fi#q#fi#s#fi#u#fi#v#fi'k#fi(a#fi(h#fi(i#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~OX#fi!e#fi#l#fi#m#fi#n#fi#o#fi~P#4QOX$bO!e$QO#l$QO#m$QO#n$aO#o$QO~P#4QOP$ZOX$bOk$OOy#wOz#xO|#yO!e$QO!f#uO!h#vO!l$ZO#g#|O#h#}O#i#}O#j#}O#k$PO#l$QO#m$QO#n$aO#o$QO#q$RO(RVO^#fi!V#fi#s#fi#u#fi#v#fi'k#fi(a#fi(i#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~O(h#fi~P#7RO(h#zO~P#7ROP$ZOX$bOk$OOy#wOz#xO|#yO!e$QO!f#uO!h#vO!l$ZO#g#|O#h#}O#i#}O#j#}O#k$PO#l$QO#m$QO#n$aO#o$QO#q$RO#s$TO(RVO(h#zO^#fi!V#fi#u#fi#v#fi'k#fi(a#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~O(i#fi~P#9sO(i#{O~P#9sOP$ZOX$bOk$OOy#wOz#xO|#yO!e$QO!f#uO!h#vO!l$ZO#g#|O#h#}O#i#}O#j#}O#k$PO#l$QO#m$QO#n$aO#o$QO#q$RO#s$TO#u$VO(RVO(h#zO(i#{O~O^#fi!V#fi#v#fi'k#fi(a#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~P#<eOPYXXYXkYXyYXzYX|YX!eYX!fYX!hYX!lYX#XYX#dcX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#oYX#qYX#sYX#uYX#vYX#{YX(RYX(aYX(hYX(iYX!VYX!WYX~O#yYX~P#?OOP$ZOX<oOk<cOy#wOz#xO|#yO!e<eO!f#uO!h#vO!l$ZO#g<aO#h<bO#i<bO#j<bO#k<dO#l<eO#m<eO#n<nO#o<eO#q<fO#s<hO#u<jO#v<kO(RVO(a$XO(h#zO(i#{O~O#y.lO~P#A]OP(WXX(WXk(WXy(WXz(WX|(WX!e(WX!f(WX!h(WX!l(WX#g(WX#h(WX#i(WX#j(WX#k(WX#l(WX#m(WX#n(WX#q(WX#s(WX#u(WX#v(WX(R(WX(a(WX(h(WX(i(WX!V(WX~O#X<pO#{<pO#o(WX#y(WX!W(WX~P#CZO^'Ya!V'Ya'k'Ya'i'Ya!g'Ya!S'Yao'Ya!X'Ya%a'Ya!a'Ya~P!4aOP#fiX#fi^#fik#fiz#fi!V#fi!e#fi!f#fi!h#fi!l#fi#g#fi#h#fi#i#fi#j#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi'k#fi(R#fi(a#fi'i#fi!S#fi!g#fio#fi!X#fi%a#fi!a#fi~P#*rO^#zi!V#zi'k#zi'i#zi!S#zi!g#zio#zi!X#zi%a#zi!a#zi~P!4aO$W.qO$Y.qO~O$W.rO$Y.rO~O!a)^O#X.sO!X$^X$T$^X$W$^X$Y$^X$a$^X~O!U.tO~O!X)aO$T.vO$W)`O$Y)`O$a.wO~O!V<lO!W(VX~P#A]O!W.xO~O!a)^O$a(jX~O$a.zO~Oq)pO(S)qO(T.}O~Ol/QO!S/RO'vTO'yUO~O!VcX!acX!gcX!g$sX(acX~P!-WO!g/XO~P#*rO!V/YO!a#sO(a'fO!g(nX~O!g/_O~O!U*RO't%fO!g(nP~O#d/aO~O!S$sX!V$sX!a$zX~P!-WO!V/bO!S(oX~P#*rO!a/dO~O!S/fO~Ok/jO!a#sO!h%[O'}%PO(a'fO~O't/lO~O!a+QO~O^%_O!V/pO'k%_O~O!W/rO~P!1UO!]/sO!^/sO'u!iO(U!jO~O|/uO(U!jO~O#T/vO~O't%}Od'_X!V'_X~O!V*kOd(Oa~Od/{O~Oy/|Oz/|O|/}Ogva(hva(iva!Vva#Xva~Odva#yva~P$ tOy)uO|)vOg$la(h$la(i$la!V$la#X$la~Od$la#y$la~P$!jOy)uO|)vOg$na(h$na(i$na!V$na#X$na~Od$na#y$na~P$#]O#d0PO~Od$|a!V$|a#X$|a#y$|a~P!.aO#d0SO~Oy#wOz#xO|#yO!f#uO!h#vO(RVOP!niX!nik!ni!V!ni!e!ni!l!ni#g!ni#h!ni#i!ni#j!ni#k!ni#l!ni#m!ni#n!ni#o!ni#q!ni#s!ni#u!ni#v!ni(a!ni(h!ni(i!ni~O^!ni'k!ni'i!ni!S!ni!g!nio!ni!X!ni%a!ni!a!ni~P$$jOg.XO!X'RO%a.WO~Oi0ZO't0YO~P!/RO!a+QO^'|a!X'|a'k'|a!V'|a~O#d0aO~OXYX!VcX!WcX~O!V0bO!W(vX~O!W0dO~OX0eO~O't+YO'vTO'yUO~O!X%oO't%fO]'gX!V'gX~O!V+_O](ua~O!g0jO~P!4aOX0mO~O]0nO~O!V+kO^(ra'k(ra~O#X0tO~Og0wO!X$zO~O(U(sO!W(sP~Og1QO!X0}O%a1PO'}%PO~OX1[O!V1YO!W(tX~O!W1]O~O]1_O^%_O'k%_O~O't#kO'vTO'yUO~O#X$cO#o1bO#{$cO&R1cO^(WX~P#CZO#X$cO#o1bO&R1cO~O^1dO~P%QO^1fO~O&[1jOP&YiQ&YiV&Yi^&Yia&Yib&Yii&Yik&Yil&Yim&Yis&Yiu&Yiw&Yi|&Yi!Q&Yi!R&Yi!X&Yi!c&Yi!h&Yi!k&Yi!l&Yi!m&Yi!o&Yi!q&Yi!t&Yi!x&Yi#p&Yi$Q&Yi$U&Yi%`&Yi%b&Yi%d&Yi%e&Yi%h&Yi%j&Yi%m&Yi%n&Yi%p&Yi%}&Yi&T&Yi&V&Yi&X&Yi&Z&Yi&^&Yi&d&Yi&j&Yi&l&Yi&n&Yi&p&Yi&r&Yi'i&Yi't&Yi'v&Yi'y&Yi(R&Yi(`&Yi(m&Yi!W&Yi_&Yi&a&Yi~O_1pO!W1nO&a1oO~P`O!XXO!h1rO~O&h,hOP&ciQ&ciV&ci^&cia&cib&cii&cik&cil&cim&cis&ciu&ciw&ci|&ci!Q&ci!R&ci!X&ci!c&ci!h&ci!k&ci!l&ci!m&ci!o&ci!q&ci!t&ci!x&ci#p&ci$Q&ci$U&ci%`&ci%b&ci%d&ci%e&ci%h&ci%j&ci%m&ci%n&ci%p&ci%}&ci&T&ci&V&ci&X&ci&Z&ci&^&ci&d&ci&j&ci&l&ci&n&ci&p&ci&r&ci'i&ci't&ci'v&ci'y&ci(R&ci(`&ci(m&ci!W&ci&[&ci_&ci&a&ci~O!S1xO~O!V!Za!W!Za~P#A]Ol!kO|!lO!U2OO(U!jO!V'OX!W'OX~P?fO!V,xO!W(Ya~O!V'UX!W'UX~P!?TO!V,{O!W(ga~O!W2VO~P'TO^%_O#X2`O'k%_O~O^%_O!a#sO#X2`O'k%_O~O^%_O!a#sO!h%[O!l2dO#X2`O'k%_O'}%PO(a'fO~O!]2eO!^2eO'u!iO~PBzO![2hO!]2eO!^2eO#T2iO#U2iO'u!iO~PBzO![2hO!]2eO!^2eO#Q2jO#T2iO#U2iO'u!iO~PBzO![2hO!]2eO!^2eO#O2kO#P2kO#Q2jO#T2iO#U2iO'u!iO~PBzO^%_O!a#sO!l2dO#X2`O'k%_O(a'fO~O^%_O'k%_O~P!4aO!V$_Oo$ka~O!S&}i!V&}i~P!4aO!V'zO!S(Xi~O!V(RO!S(ei~O!S(fi!V(fi~P!4aO!V(_O!g(bi~O!V(ci!g(ci^(ci'k(ci~P!4aO#X2oO!V(ci!g(ci^(ci'k(ci~O|%wO!X%xO!x]O#b2rO#c2qO't%fO~O|%wO!X%xO#c2qO't%fO~Og2yO!X'RO%a2xO~Og2yO!X'RO%a2xO'}%PO~O#dvaPvaXva^vakva!eva!fva!hva!lva#gva#hva#iva#jva#kva#lva#mva#nva#ova#qva#sva#uva#vva'kva(Rva(ava!gva!Sva'ivaova!Xva%ava!ava~P$ tO#d$laP$laX$la^$lak$laz$la!e$la!f$la!h$la!l$la#g$la#h$la#i$la#j$la#k$la#l$la#m$la#n$la#o$la#q$la#s$la#u$la#v$la'k$la(R$la(a$la!g$la!S$la'i$lao$la!X$la%a$la!a$la~P$!jO#d$naP$naX$na^$nak$naz$na!e$na!f$na!h$na!l$na#g$na#h$na#i$na#j$na#k$na#l$na#m$na#n$na#o$na#q$na#s$na#u$na#v$na'k$na(R$na(a$na!g$na!S$na'i$nao$na!X$na%a$na!a$na~P$#]O#d$|aP$|aX$|a^$|ak$|az$|a!V$|a!e$|a!f$|a!h$|a!l$|a#g$|a#h$|a#i$|a#j$|a#k$|a#l$|a#m$|a#n$|a#o$|a#q$|a#s$|a#u$|a#v$|a'k$|a(R$|a(a$|a!g$|a!S$|a'i$|a#X$|ao$|a!X$|a%a$|a!a$|a~P#*rO^#[q!V#[q'k#[q'i#[q!S#[q!g#[qo#[q!X#[q%a#[q!a#[q~P!4aOd'PX!V'PX~P!%lO!V.bOd([a~O!U3RO!V'QX!g'QX~P%QO!V.eO!g(]a~O!V.eO!g(]a~P!4aO!S3UO~O#y!ja!W!ja~PJrO#y!ba!V!ba!W!ba~P#A]O#y!na!W!na~P!6zO#y!pa!W!pa~P!9eO!X3hO$UfO$_3iO~O!W3mO~Oo3nO~P#*rO^$hq!V$hq'k$hq'i$hq!S$hq!g$hqo$hq!X$hq%a$hq!a$hq~P!4aO!S3oO~Ol/QO'vTO'yUO~Oy)uO|)vO(i)zOg%Xi(h%Xi!V%Xi#X%Xi~Od%Xi#y%Xi~P$JzOy)uO|)vOg%Zi(h%Zi(i%Zi!V%Zi#X%Zi~Od%Zi#y%Zi~P$KmO(a$XO~P#*rO!U3rO't%fO!V'ZX!g'ZX~O!V/YO!g(na~O!V/YO!a#sO!g(na~O!V/YO!a#sO(a'fO!g(na~Od$ui!V$ui#X$ui#y$ui~P!.aO!U3zO't*WO!S']X!V']X~P!/OO!V/bO!S(oa~O!V/bO!S(oa~P#*rO!a#sO~O!a#sO#o4SO~Ok4VO!a#sO(a'fO~Od(Pi!V(Pi~P!.aO#X4YOd(Pi!V(Pi~P!.aO!g4]O~O^$iq!V$iq'k$iq'i$iq!S$iq!g$iqo$iq!X$iq%a$iq!a$iq~P!4aO!V4aO!X(pX~P#*rO!f#uO~P3}O^$sX!X$sX%UYX'k$sX!V$sX~P!-WO%U4cO^hXghXyhX|hX!XhX'khX(hhX(ihX!VhX~O%U4cO~O%b4jO't+YO'vTO'yUO!V'fX!W'fX~O!V0bO!W(va~OX4nO~O]4oO~O!S4sO~O^%_O'k%_O~P#*rO!X$zO~P#*rO!V4xO#X4zO!W(sX~O!W4{O~Ol!kO|4}O![5]O!]5RO!^5RO!x<XO!|5[O!}5ZO#O5YO#P5YO#Q5XO#T5WO#U!xO'u!iO'vTO'yUO(U!jO(`!nO~O!W5VO~P%%qOg5bO!X0}O%a5aO~Og5bO!X0}O%a5aO'}%PO~O't#kO!V'eX!W'eX~O!V1YO!W(ta~O'vTO'yUO(U5kO~O]5oO~O!g5rO~P%QO^5tO~O^5tO~P%QO#o5vO&R5wO~PMvO_1pO!W5{O&a1oO~P`O!a5}O~O!a6PO!V(Zi!W(Zi!a(Zi!h(Zi'}(Zi~O!V#ai!W#ai~P#A]O#X6QO!V#ai!W#ai~O!V!Zi!W!Zi~P#A]O^%_O#X6ZO'k%_O~O^%_O!a#sO#X6ZO'k%_O~O^%_O!a#sO!l6`O#X6ZO'k%_O(a'fO~O!h%[O'}%PO~P%+RO!]6aO!^6aO'u!iO~PBzO![6dO!]6aO!^6aO#T6eO#U6eO'u!iO~PBzO![6dO!]6aO!^6aO#Q6fO#T6eO#U6eO'u!iO~PBzO!V(_O!g(bq~O!V(cq!g(cq^(cq'k(cq~P!4aO|%wO!X%xO#c6jO't%fO~O!X'RO%a6mO~Og6pO!X'RO%a6mO~O#d%XiP%XiX%Xi^%Xik%Xiz%Xi!e%Xi!f%Xi!h%Xi!l%Xi#g%Xi#h%Xi#i%Xi#j%Xi#k%Xi#l%Xi#m%Xi#n%Xi#o%Xi#q%Xi#s%Xi#u%Xi#v%Xi'k%Xi(R%Xi(a%Xi!g%Xi!S%Xi'i%Xio%Xi!X%Xi%a%Xi!a%Xi~P$JzO#d%ZiP%ZiX%Zi^%Zik%Ziz%Zi!e%Zi!f%Zi!h%Zi!l%Zi#g%Zi#h%Zi#i%Zi#j%Zi#k%Zi#l%Zi#m%Zi#n%Zi#o%Zi#q%Zi#s%Zi#u%Zi#v%Zi'k%Zi(R%Zi(a%Zi!g%Zi!S%Zi'i%Zio%Zi!X%Zi%a%Zi!a%Zi~P$KmO#d$uiP$uiX$ui^$uik$uiz$ui!V$ui!e$ui!f$ui!h$ui!l$ui#g$ui#h$ui#i$ui#j$ui#k$ui#l$ui#m$ui#n$ui#o$ui#q$ui#s$ui#u$ui#v$ui'k$ui(R$ui(a$ui!g$ui!S$ui'i$ui#X$uio$ui!X$ui%a$ui!a$ui~P#*rOd'Pa!V'Pa~P!.aO!V'Qa!g'Qa~P!4aO!V.eO!g(]i~O#y#[i!V#[i!W#[i~P#A]OP$ZOy#wOz#xO|#yO!f#uO!h#vO!l$ZO(RVOX#fik#fi!e#fi#h#fi#i#fi#j#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi#y#fi(a#fi(h#fi(i#fi!V#fi!W#fi~O#g#fi~P%6OO#g<aO~P%6OOP$ZOy#wOz#xO|#yO!f#uO!h#vO!l$ZO#g<aO#h<bO#i<bO#j<bO(RVOX#fi!e#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi#y#fi(a#fi(h#fi(i#fi!V#fi!W#fi~Ok#fi~P%8ZOk<cO~P%8ZOP$ZOk<cOy#wOz#xO|#yO!f#uO!h#vO!l$ZO#g<aO#h<bO#i<bO#j<bO#k<dO(RVO#q#fi#s#fi#u#fi#v#fi#y#fi(a#fi(h#fi(i#fi!V#fi!W#fi~OX#fi!e#fi#l#fi#m#fi#n#fi#o#fi~P%:fOX<oO!e<eO#l<eO#m<eO#n<nO#o<eO~P%:fOP$ZOX<oOk<cOy#wOz#xO|#yO!e<eO!f#uO!h#vO!l$ZO#g<aO#h<bO#i<bO#j<bO#k<dO#l<eO#m<eO#n<nO#o<eO#q<fO(RVO#s#fi#u#fi#v#fi#y#fi(a#fi(i#fi!V#fi!W#fi~O(h#fi~P%=QO(h#zO~P%=QOP$ZOX<oOk<cOy#wOz#xO|#yO!e<eO!f#uO!h#vO!l$ZO#g<aO#h<bO#i<bO#j<bO#k<dO#l<eO#m<eO#n<nO#o<eO#q<fO#s<hO(RVO(h#zO#u#fi#v#fi#y#fi(a#fi!V#fi!W#fi~O(i#fi~P%?]O(i#{O~P%?]OP$ZOX<oOk<cOy#wOz#xO|#yO!e<eO!f#uO!h#vO!l$ZO#g<aO#h<bO#i<bO#j<bO#k<dO#l<eO#m<eO#n<nO#o<eO#q<fO#s<hO#u<jO(RVO(h#zO(i#{O~O#v#fi#y#fi(a#fi!V#fi!W#fi~P%AhO^#wy!V#wy'k#wy'i#wy!S#wy!g#wyo#wy!X#wy%a#wy!a#wy~P!4aOg>SOy)uO|)vO(h)xO(i)zO~OP#fiX#fik#fiz#fi!e#fi!f#fi!h#fi!l#fi#g#fi#h#fi#i#fi#j#fi#k#fi#l#fi#m#fi#n#fi#o#fi#q#fi#s#fi#u#fi#v#fi#y#fi(R#fi(a#fi!V#fi!W#fi~P%D`O!f#uOP(QXX(QXg(QXk(QXy(QXz(QX|(QX!e(QX!h(QX!l(QX#g(QX#h(QX#i(QX#j(QX#k(QX#l(QX#m(QX#n(QX#o(QX#q(QX#s(QX#u(QX#v(QX#y(QX(R(QX(a(QX(h(QX(i(QX!V(QX!W(QX~O#y#zi!V#zi!W#zi~P#A]O#y!ni!W!ni~P$$jO!W6|O~O!V'Ya!W'Ya~P#A]O!a#sO(a'fO!V'Za!g'Za~O!V/YO!g(ni~O!V/YO!a#sO!g(ni~Od$uq!V$uq#X$uq#y$uq~P!.aO!S']a!V']a~P#*rO!a7TO~O!V/bO!S(oi~P#*rO!V/bO!S(oi~O!S7XO~O!a#sO#o7^O~Ok7_O!a#sO(a'fO~O!S7aO~Od$wq!V$wq#X$wq#y$wq~P!.aO^$iy!V$iy'k$iy'i$iy!S$iy!g$iyo$iy!X$iy%a$iy!a$iy~P!4aO!V4aO!X(pa~O^#[y!V#[y'k#[y'i#[y!S#[y!g#[yo#[y!X#[y%a#[y!a#[y~P!4aOX7fO~O!V0bO!W(vi~O]7lO~O!a6PO~O(U(sO!V'bX!W'bX~O!V4xO!W(sa~O!h%[O'}%PO^(ZX!a(ZX!l(ZX#X(ZX'k(ZX(a(ZX~O't7uO~P._O!x<XO!|7yO!}7xO#O7wO#P7wO#Q7vO#T'dO#U'dO~PBzO^%_O!a#sO!l'jO#X'hO'k%_O(a'fO~O!W7}O~P%%qOl!kO'vTO'yUO(U!jO(`!nO~O|8OO~P&!mO![8SO!]8RO!^8RO#Q7vO#T'dO#U'dO'u!iO~PBzO![8SO!]8RO!^8RO#O8TO#P8TO#Q7vO#T'dO#U'dO'u!iO~PBzO!]8RO!^8RO'u!iO(U!jO(`!nO~O!X0}O~O!X0}O%a8VO~Og8YO!X0}O%a8VO~OX8_O!V'ea!W'ea~O!V1YO!W(ti~O!g8cO~O!g8dO~O!g8eO~O!g8eO~P%QO^8gO~O!a8jO~O!g8kO~O!V(fi!W(fi~P#A]O^%_O#X8sO'k%_O~O^%_O!a#sO#X8sO'k%_O~O^%_O!a#sO!l8wO#X8sO'k%_O(a'fO~O!h%[O'}%PO~P&'ZO!]8xO!^8xO'u!iO~PBzO![8{O!]8xO!^8xO#T8|O#U8|O'u!iO~PBzO!V(_O!g(by~O!V(cy!g(cy^(cy'k(cy~P!4aO!X'RO%a9PO~O#d$uqP$uqX$uq^$uqk$uqz$uq!V$uq!e$uq!f$uq!h$uq!l$uq#g$uq#h$uq#i$uq#j$uq#k$uq#l$uq#m$uq#n$uq#o$uq#q$uq#s$uq#u$uq#v$uq'k$uq(R$uq(a$uq!g$uq!S$uq'i$uq#X$uqo$uq!X$uq%a$uq!a$uq~P#*rO#d$wqP$wqX$wq^$wqk$wqz$wq!V$wq!e$wq!f$wq!h$wq!l$wq#g$wq#h$wq#i$wq#j$wq#k$wq#l$wq#m$wq#n$wq#o$wq#q$wq#s$wq#u$wq#v$wq'k$wq(R$wq(a$wq!g$wq!S$wq'i$wq#X$wqo$wq!X$wq%a$wq!a$wq~P#*rO!V'Qi!g'Qi~P!4aO#y#[q!V#[q!W#[q~P#A]Oy/|Oz/|O|/}OPvaXvagvakva!eva!fva!hva!lva#gva#hva#iva#jva#kva#lva#mva#nva#ova#qva#sva#uva#vva#yva(Rva(ava(hva(iva!Vva!Wva~Oy)uO|)vOP$laX$lag$lak$laz$la!e$la!f$la!h$la!l$la#g$la#h$la#i$la#j$la#k$la#l$la#m$la#n$la#o$la#q$la#s$la#u$la#v$la#y$la(R$la(a$la(h$la(i$la!V$la!W$la~Oy)uO|)vOP$naX$nag$nak$naz$na!e$na!f$na!h$na!l$na#g$na#h$na#i$na#j$na#k$na#l$na#m$na#n$na#o$na#q$na#s$na#u$na#v$na#y$na(R$na(a$na(h$na(i$na!V$na!W$na~OP$|aX$|ak$|az$|a!e$|a!f$|a!h$|a!l$|a#g$|a#h$|a#i$|a#j$|a#k$|a#l$|a#m$|a#n$|a#o$|a#q$|a#s$|a#u$|a#v$|a#y$|a(R$|a(a$|a!V$|a!W$|a~P%D`O#y$hq!V$hq!W$hq~P#A]O#y$iq!V$iq!W$iq~P#A]O!W9ZO~O#y9[O~P!.aO!a#sO!V'Zi!g'Zi~O!a#sO(a'fO!V'Zi!g'Zi~O!V/YO!g(nq~O!S']i!V']i~P#*rO!V/bO!S(oq~O!S9bO~P#*rO!S9bO~Od(Py!V(Py~P!.aO!V'`a!X'`a~P#*rO^%Tq!X%Tq'k%Tq!V%Tq~P#*rOX9gO~O!V0bO!W(vq~O#X9kO!V'ba!W'ba~O!V4xO!W(si~P#A]O^%_O!a+QO'k%_O~OPYXXYXkYXyYXzYX|YX!SYX!VYX!eYX!fYX!hYX!lYX#XYX#dcX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#oYX#qYX#sYX#uYX#vYX#{YX(RYX(aYX(hYX(iYX~O!a%RX#o%RX~P&:hO#T-eO#U-eO~PBzO#Q9pO#T-eO#U-eO~PBzO#O9qO#P9qO#Q9pO#T-eO#U-eO~PBzO!}9rO#O9qO#P9qO#Q9pO#T-eO#U-eO~PBzO!]9uO!^9uO'u!iO(U!jO(`!nO~O![9xO!]9uO!^9uO#Q9pO#T-eO#U-eO'u!iO~PBzO!X0}O%a9{O~O'vTO'yUO(U:QO~O!V1YO!W(tq~O!g:TO~O!g:TO~P%QO!g:VO~O!g:WO~O#X:YO!V#ay!W#ay~O!V#ay!W#ay~P#A]O^%_O#X:^O'k%_O~O^%_O!a#sO#X:^O'k%_O~O^%_O!a#sO!l:bO#X:^O'k%_O(a'fO~O!h%[O'}%PO~P&AZO!]:cO!^:cO'u!iO~PBzO!X'RO%a:gO~O#y#wy!V#wy!W#wy~P#A]OP$uiX$uik$uiz$ui!e$ui!f$ui!h$ui!l$ui#g$ui#h$ui#i$ui#j$ui#k$ui#l$ui#m$ui#n$ui#o$ui#q$ui#s$ui#u$ui#v$ui#y$ui(R$ui(a$ui!V$ui!W$ui~P%D`Oy)uO|)vO(i)zOP%XiX%Xig%Xik%Xiz%Xi!e%Xi!f%Xi!h%Xi!l%Xi#g%Xi#h%Xi#i%Xi#j%Xi#k%Xi#l%Xi#m%Xi#n%Xi#o%Xi#q%Xi#s%Xi#u%Xi#v%Xi#y%Xi(R%Xi(a%Xi(h%Xi!V%Xi!W%Xi~Oy)uO|)vOP%ZiX%Zig%Zik%Ziz%Zi!e%Zi!f%Zi!h%Zi!l%Zi#g%Zi#h%Zi#i%Zi#j%Zi#k%Zi#l%Zi#m%Zi#n%Zi#o%Zi#q%Zi#s%Zi#u%Zi#v%Zi#y%Zi(R%Zi(a%Zi(h%Zi(i%Zi!V%Zi!W%Zi~O#y$iy!V$iy!W$iy~P#A]O#y#[y!V#[y!W#[y~P#A]O!a#sO!V'Zq!g'Zq~O!V/YO!g(ny~O!S']q!V']q~P#*rO!S:nO~P#*rO!V0bO!W(vy~O!V4xO!W(sq~O#T2iO#U2iO~PBzO#Q:uO#T2iO#U2iO~PBzO#O:vO#P:vO#Q:uO#T2iO#U2iO~PBzO!]:zO!^:zO'u!iO(U!jO(`!nO~O!X0}O%a:}O~O!g;QO~O^%_O#X;VO'k%_O~O^%_O!a#sO#X;VO'k%_O~O^%_O!a#sO!l;ZO#X;VO'k%_O(a'fO~O!X'RO%a;^O~OP$uqX$uqk$uqz$uq!e$uq!f$uq!h$uq!l$uq#g$uq#h$uq#i$uq#j$uq#k$uq#l$uq#m$uq#n$uq#o$uq#q$uq#s$uq#u$uq#v$uq#y$uq(R$uq(a$uq!V$uq!W$uq~P%D`OP$wqX$wqk$wqz$wq!e$wq!f$wq!h$wq!l$wq#g$wq#h$wq#i$wq#j$wq#k$wq#l$wq#m$wq#n$wq#o$wq#q$wq#s$wq#u$wq#v$wq#y$wq(R$wq(a$wq!V$wq!W$wq~P%D`Od%]!Z!V%]!Z#X%]!Z#y%]!Z~P!.aO!V'bq!W'bq~P#A]O#T6eO#U6eO~PBzO#Q;bO#T6eO#U6eO~PBzO!V#a!Z!W#a!Z~P#A]O^%_O#X;mO'k%_O~O^%_O!a#sO#X;mO'k%_O~O#d%]!ZP%]!ZX%]!Z^%]!Zk%]!Zz%]!Z!V%]!Z!e%]!Z!f%]!Z!h%]!Z!l%]!Z#g%]!Z#h%]!Z#i%]!Z#j%]!Z#k%]!Z#l%]!Z#m%]!Z#n%]!Z#o%]!Z#q%]!Z#s%]!Z#u%]!Z#v%]!Z'k%]!Z(R%]!Z(a%]!Z!g%]!Z!S%]!Z'i%]!Z#X%]!Zo%]!Z!X%]!Z%a%]!Z!a%]!Z~P#*rO#T8|O#U8|O~PBzO^%_O#X;zO'k%_O~OP%]!ZX%]!Zk%]!Zz%]!Z!e%]!Z!f%]!Z!h%]!Z!l%]!Z#g%]!Z#h%]!Z#i%]!Z#j%]!Z#k%]!Z#l%]!Z#m%]!Z#n%]!Z#o%]!Z#q%]!Z#s%]!Z#u%]!Z#v%]!Z#y%]!Z(R%]!Z(a%]!Z!V%]!Z!W%]!Z~P%D`Oo(VX~P1gO'u!iO~P!'xO!ScX!VcX#XcX~P&:hOPYXXYXkYXyYXzYX|YX!VYX!VcX!eYX!fYX!hYX!lYX#XYX#XcX#dcX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#oYX#qYX#sYX#uYX#vYX#{YX(RYX(aYX(hYX(iYX~O!acX!gYX!gcX(acX~P')iOP<WOQ<WOa=wOb!fOikOk<WOlkOmkOskOu<WOw<WO|WO!QkO!RkO!XXO!c<ZO!hZO!k<WO!l<WO!m<WO!o<[O!q<]O!t!eO$Q!hO$UfO't)TO'vTO'yUO(RVO(`[O(m=uO~O!V<lO!W$ka~Oi%QOk$rOl$qOm$qOs%ROu%SOw<rO|$yO!X$zO!c=|O!h$vO#c<xO$Q%WO$m<tO$o<vO$r%XO't(kO'vTO'yUO'}%PO(R$sO~O#p)[O~P'._O!WYX!WcX~P')iO#d<`O~O!a#sO#d<`O~O#X<pO~O#o<eO~O#X<zO!V(fX!W(fX~O#X<pO!V(dX!W(dX~O#d<{O~Od<}O~P!.aO#d=SO~O#d=TO~O!a#sO#d=UO~O!a#sO#d<{O~O#y=VO~P#A]O#d=WO~O#d=XO~O#d=YO~O#d=ZO~O#d=[O~O#d=]O~O#y=^O~P!.aO#y=_O~P!.aO$U~!f!|!}#P#Q#T#b#c#n(m$m$o$r%U%`%a%b%h%j%m%n%p%r~'oR$U(m#h!R'm'u#il#g#jky'n(U'n't$W$Y$W~",goto:"$2w(zPPPP({P)OP)`P+j/pPPPP7RPP7hP=gAYPAmPAmPPPAmPC]PAmPAmPAmPCaPPCfPDPPH}PPPIRPPPPIRLUPPPL[NiPIRP!#SPPPP!%fIRPPPIRPIRP!'xIRP!+`!,b!,gP!-X!-]!-XPPPPP!0j!3SPP!3]!4kP!,bIRIR!8S!;`!@l!@l!DePPP!DlIRPPPPPPPPPPP!G{P!IbPPIR!JsPIRPIRIRIRIRPIR!LZPP# eP#$kP#$o#$y#$}#$}P# bP#%R#%RP#(XP#(]IRIR#(c#+hAmPAmPAmAmP#,rAmAm#.lAm#0yAm#2mAmAm#3Z#5V#5V#5Z#5c#5V#5kP#5VPAm#6gAm#7oAmAm7RPPP#8zPP#9d#9dP#9dP#9y#9dPP#:PP#9vP#9v#:c!3X#9v#:}#;T7O)O#;W)OP#;_#;_#;_P)OP)OP)OP)OPP)OP#;e#;hP#;h)OP#;lP#;oP)OP)OP)OP)OP)OP)O)OPP#;u#;{#<V#<]#<c#<i#<o#<}#=T#=Z#=e#=k#>g#>v#>|#?`#?f#?l#?z#@a#Aq#BP#BV#B]#Bc#Bi#Bs#By#CP#CZ#Cm#CsPPPPPPPPPP#CyPPPPPPP#Dm#I^P#J}#KU#K^PPPP$ h$$^$+P$+S$+V$-g$-j$-m$-tPP$-z$.O$.w$/w$/{$0aPP$0e$0k$0oP$0r$0v$0y$1o$2V$2[$2_$2b$2h$2k$2o$2sR!zRmpOXr!X#b%^&e&g&h&j,`,e1j1mU!pQ'R-QQ%dtQ%lwQ%szQ&]!TS&y!c,xQ'X!f^'^!m!r!s!t!u!v!wS*^$z*cQ+W%mQ+e%uQ,P&VQ-O'QQ-Y'YY-b'_'`'a'b'cQ/s*eQ1X,QW2e-d-f-g-hS5R0}5UU6a2h2j2kU8R5Y5Z5]S8x6d6fS9u8S8TQ:c8{Q:z9xR<y<[%SdOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$_$c%^%d%q&^&a&e&g&h&j&n&v'T'h'x'z(Q([(m(q(u)t*v+j,[,`,e-U-^-r-{.e.l/}0S0a1Q1b1c1d1f1j1m1o2`2o3R4}5b5t5v5w6Z8O8Y8g8s:^;V;m;zS#n]<X!r)V$Y$k&z)i,q,t.t2O3h4z6Q9k:Y<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xQ*n%TQ+]%oQ,R&YQ,Y&bQ.[<qQ0W+OQ0[+QQ0g+^Q1a,WQ2u.XQ4i0bQ5i1YQ6o2yQ6u<rQ7h4jR9S6p'QkOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$Y$_$c$k%^%d%q&^&a&b&e&g&h&j&n&v&z'T'h'x'z(Q([(m(q(u)i)t*v+O+j,[,`,e,q,t-U-^-r-{.X.e.l.t/}0S0a1Q1b1c1d1f1j1m1o2O2`2o2y3R3h4z4}5b5t5v5w6Q6Z6p8O8Y8g8s9k:Y:^;V;m;z<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=x#n!kQ!m!p!r!s!t!u!v!w!x&y'Q'R'^'_'`'a'b'c'd,x-O-Q-b-d-e-f-g-h0}2e2h2i2j2k5O5U5W5X5Y5Z5[6a6d6e6f7v7w7x7y8T8x8{8|9p9q9r:c:u:v;b$Y$qi#s#u$a$b$v$y%U%V%Z)p)y){)|*T*Z*i*j*}+Q+o+r.W.b/a/b/d0P0t0w1P2x3p3z4S4Y4a4c5a6m7T7^8V9P9[9{:g:};^<n<o<s<t<u<v<w<x=O=P=Q=R=S=T=W=X=Y=Z=^=_=u=}>O>R>SQ%vzQ&w!cS&}%x,{Q+]%oS/Q)v/SQ0O*rQ0g+^Q0l+dQ1`,VQ1a,WQ4i0bQ4r0nQ5l1[Q5m1_Q7h4jQ7k4oQ8b5oQ9j7lR:R8_pmOXr!T!X#b%^&[&e&g&h&j,`,e1j1mR,T&^&z`OPXYrstux!X!^!g!l#Q#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$Y$_$c$k%^%d%q&^&a&b&e&g&h&j&n&v'T'h'z(Q([(m(q(u)i)t*v+O+j,[,`,e,q,t-U-^-r-{.X.e.l.t/}0S0a1Q1b1c1d1f1j1m1o2O2`2o2y3R3h4z4}5b5t5v5w6Q6Z6p8O8Y8g8s9k:Y:^;V;m;z<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=w=x[#ZWZ#U#X&z'xQ%gvQ%kwS%pz%u!U%y|}#e#g#j%[%w(R(Y(Z(_+h+i+k,^,r-v-y-}.O.Q1r2q2r6P6jQ&R!RQ'U!eQ'W!fQ(f#pS*Q$v*US+V%l%mQ+Z%oQ+z&TQ,O&VS-X'X'YQ.Z(gQ/^*RQ0`+WQ0f+^Q0h+_Q0k+cQ1S+{S1W,P,QQ2[-YQ3q/YQ4h0bQ4l0eQ4q0mQ5h1XQ7Q3rQ7g4jQ7j4nQ9f7fR:p9gv$xi#u%U%V%Z)y){*T*i*j.b/a0P3p4Y9[=u=}>O!d%iw!f!o%k%l%m&x'W'X'Y']'k*]+V+W,u-X-Y-a-c/k0`2T2[2c2g4U6_6c8v8z:a;YQ+P%gQ+p&OQ+s&PQ+}&VQ.Y(fQ1R+zU1V,O,P,QQ2z.ZQ5c1SS5g1W1XS7t4|5QQ8^5hU9s7z8P8QU:x9t9v9wQ;e:yQ;u;f!z=y#s$a$b$v$y)p)|*Z*}+Q+o+r.W/b/d0t0w1P2x3z4S4a4c5a6m7T7^8V9P9{:g:};^<s<u<w=O=Q=S=W=Y=^>R>Sg=z<n<o<t<v<x=P=R=T=X=Z=_W$}i%P*k=uS&O!O&[Q&P!PQ&Q!QR+n%|$Z$|i#s#u$a$b$v$y%U%V%Z)p)y){)|*T*Z*i*j*}+Q+o+r.W.b/a/b/d0P0t0w1P2x3p3z4S4Y4a4c5a6m7T7^8V9P9[9{:g:};^<n<o<s<t<u<v<w<x=O=P=Q=R=S=T=W=X=Y=Z=^=_=u=}>O>R>ST)q$s)rV*o%T<q<rU&}!c%x,{S(t#w#xQ+b%rS.S(b(cQ0x+tQ4Z/|R7p4x'QkOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$Y$_$c$k%^%d%q&^&a&b&e&g&h&j&n&v&z'T'h'x'z(Q([(m(q(u)i)t*v+O+j,[,`,e,q,t-U-^-r-{.X.e.l.t/}0S0a1Q1b1c1d1f1j1m1o2O2`2o2y3R3h4z4}5b5t5v5w6Q6Z6p8O8Y8g8s9k:Y:^;V;m;z<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=x$q$^c#W#c%b%c%e'w'}(i(p(x(y(z({(|(})O)P)Q)R)S)U)X)])g*{+a,v-k-p-u-z.a.g.k.m.n.o/O0Q1y1|2^2n3Q3V3W3X3Y3Z3[3]3^3_3`3a3b3c3f3g3l4_4f6S6Y6h6s6t6y6z7r8m8q9T9X9Y:[:r;R;T;k;x<R<Y=lT#RV#S'RkOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$Y$_$c$k%^%d%q&^&a&b&e&g&h&j&n&v&z'T'h'x'z(Q([(m(q(u)i)t*v+O+j,[,`,e,q,t-U-^-r-{.X.e.l.t/}0S0a1Q1b1c1d1f1j1m1o2O2`2o2y3R3h4z4}5b5t5v5w6Q6Z6p8O8Y8g8s9k:Y:^;V;m;z<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xQ&{!cR2P,x#f!kQ!c!m!p!r!s!t!u!v!w!x&y'Q'R'^'_'`'a'b'c'd,x-O-Q-b-d-e-f-g-h2e2h2i2j2k5O5W5X5[6a6d6e6f7v7w7x7y8x8{8|9p9q9r:c:u:v;bS*]$z*cS/k*^*eQ/t*fQ0z+vQ4U/sQ4X/vS4|0}5US7z5R5]S8P5Y5ZS9t8R8SQ9v8TS:y9u9xR;f:zlpOXr!X#b%^&e&g&h&j,`,e1j1mQ&l![Q'l!tS(h#r<`Q+T%jQ+x&RQ+y&SQ-V'VQ-j'eS.`(m<{S0R*v=UQ0^+UQ0|+wQ1q,gQ1s,hQ1{,sQ2Y-WQ2]-[S4`0S=[Q4d0_S4g0a=]Q6R1}Q6V2ZQ6[2bQ7e4eQ8n6TQ8o6WQ8r6]Q:X8kQ:]8tQ;U:_Q;l;WR;y;n$l$]c#W#c%c%e'w'}(i(p(x(y(z({(|(})O)P)Q)R)S)U)X)])g*{+a,v-k-p-u-z.a.g.k.n.o/O0Q1y1|2^2n3Q3V3W3X3Y3Z3[3]3^3_3`3a3b3c3f3g3l4_4f6S6Y6h6s6t6y6z7r8m8q9T9X9Y:[:r;R;T;k;x<R<Y=lS(e#m'[U*h${(l3eS*z%b.mQ2v0WQ6l2uQ9R6oR:h9S$l$[c#W#c%c%e'w'}(i(p(x(y(z({(|(})O)P)Q)R)S)U)X)])g*{+a,v-k-p-u-z.a.g.k.n.o/O0Q1y1|2^2n3Q3V3W3X3Y3Z3[3]3^3_3`3a3b3c3f3g3l4_4f6S6Y6h6s6t6y6z7r8m8q9T9X9Y:[:r;R;T;k;x<R<Y=lS(d#m'[S(v#x$]S*y%b.mS.T(c(eQ.p)WQ0T*zR2s.U'QkOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$Y$_$c$k%^%d%q&^&a&b&e&g&h&j&n&v&z'T'h'x'z(Q([(m(q(u)i)t*v+O+j,[,`,e,q,t-U-^-r-{.X.e.l.t/}0S0a1Q1b1c1d1f1j1m1o2O2`2o2y3R3h4z4}5b5t5v5w6Q6Z6p8O8Y8g8s9k:Y:^;V;m;z<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xS#n]<XQ&g!VQ&h!WQ&j!YQ&k!ZR1i,cQ'S!eQ*|%gQ-T'US.V(f+PQ2W-SW2w.Y.Z0V0XQ6U2XU6k2t2v2zS9O6l6nS:f9Q9RS;[:e:hQ;p;]R;{;qV!qQ'R-Q!_^OQXZ_r!T!X!m#b#e%[%^&[&^&e&g&h&j'R(_,`,e-Q-}0}1j1m5O5UT#n]<X%^yOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$_$c%^%d%q&^&a&b&e&g&h&j&n&v'T'h'x'z(Q([(m(q(u)t*v+O+j,[,`,e-U-^-r-{.X.e.l/}0S0a1Q1b1c1d1f1j1m1o2`2o2y3R4}5b5t5v5w6Z6p8O8Y8g8s:^;V;m;zS(t#w#xS.S(b(c!s=c$Y$k&z)i,q,t.t2O3h4z6Q9k:Y<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xU!oQ'R-Q[']!m!s!t!u!v!wS'k!p!rY'm!x5O5W5X5[S-a'^'_W-c'`'a'b'cY-i'd7v7w7x7yS2c-b-dW2f-e9p9q9rU2g-f-g-hS5Q0}5US6_2e2hU6b2i:u:vS6c2j2kS7z5R5]S8Q5Y5ZS8v6a6dS8y6e;bQ8z6fS9t8R8SQ9w8TS:a8x8{Q:d8|S:y9u9xQ;Y:cR;f:zU!qQ'R-QT5S0}5UU'j!o5P5QS(^#f1gU-`']'m8QQ/]*QQ/i*]U2d-c-i9wQ3v/^S4P/j/tS6`2f2gQ7P3qS7[4V4XS8w6b6cQ9^7QQ9e7_S:b8y8zR;Z:dQ#tbU'i!o5P5QS(]#f1gQ*w%]Q+R%hQ+X%nW-_']'j'm8QQ-|(^Q/[*QQ/h*]Q/n*`Q0]+SQ1T+|W2a-`-c-i9wS3u/]/^S4O/i/tQ4R/mQ4T/oQ5e1UU6^2d2f2gQ7O3qQ7S3vS7W4P4XQ7]4WQ8[5fU8u6`6b6cS9]7P7QQ9a7XQ9c7[Q9n7sQ:O8]U:`8w8y8zQ:l9^Q:m9bQ:o9eQ:t9oQ;P:PS;X:b:dQ;`:nQ;c:wQ;o;ZQ;s;dQ<O;tQ<T<PQ=f=aQ=q=jR=r=k%^aOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$_$c%^%d%q&^&a&b&e&g&h&j&n&v'T'h'x'z(Q([(m(q(u)t*v+O+j,[,`,e-U-^-r-{.X.e.l/}0S0a1Q1b1c1d1f1j1m1o2`2o2y3R4}5b5t5v5w6Z6p8O8Y8g8s:^;V;m;zS#tx!g!r=`$Y$k&z)i,q,t.t2O3h4z6Q9k:Y<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xR=f=w%^bOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$_$c%^%d%q&^&a&b&e&g&h&j&n&v'T'h'x'z(Q([(m(q(u)t*v+O+j,[,`,e-U-^-r-{.X.e.l/}0S0a1Q1b1c1d1f1j1m1o2`2o2y3R4}5b5t5v5w6Z6p8O8Y8g8s:^;V;m;zQ%]j!d%hw!f!o%k%l%m&x'W'X'Y']'k*]+V+W,u-X-Y-a-c/k0`2T2[2c2g4U6_6c8v8z:a;YS%nx!gQ+S%iQ+|&VW1U+},O,P,QU5f1V1W1XS7s4|5QS8]5g5hW9o7t7z8P8QQ:P8^W:w9s9t9v9wS;d:x:yS;t;e;fQ<P;u!r=a$Y$k&z)i,q,t.t2O3h4z6Q9k:Y<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xQ=j=vR=k=w%QeOPXYrstu!X!^!l#Q#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$_$c%^%d%q&^&a&e&g&h&j&n&v'T'h'z(Q([(m(q(u)t*v+O+j,[,`,e-U-^-r-{.X.e.l/}0S0a1Q1b1c1d1f1j1m1o2`2o2y3R4}5b5t5v5w6Z6p8O8Y8g8s:^;V;m;zY#`WZ#U#X'x!U%y|}#e#g#j%[%w(R(Y(Z(_+h+i+k,^,r-v-y-}.O.Q1r2q2r6P6jQ,Z&b!p=b$Y$k)i,q,t.t2O3h4z6Q9k:Y<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xR=e&zS'O!c%xR2R,{%SdOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$_$c%^%d%q&^&a&e&g&h&j&n&v'T'h'x'z(Q([(m(q(u)t*v+j,[,`,e-U-^-r-{.e.l/}0S0a1Q1b1c1d1f1j1m1o2`2o3R4}5b5t5v5w6Z8O8Y8g8s:^;V;m;z!r)V$Y$k&z)i,q,t.t2O3h4z6Q9k:Y<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xQ,Y&bQ0W+OQ2u.XQ6o2yR9S6p!n$Sc#W%b'w'}(i(p)P)Q)R)S)X)]+a-k-p-u-z.a.g/O0Q2^2n3Q3c4_4f6Y6h6s8q:[;T;k;x<R<Y!T<g)U)g,v.m1y1|3V3_3`3a3b3f3l6S6t6y6z7r8m9T9X9Y:r;R=l!j$Uc#W%b'w'}(i(p)R)S)X)]+a-k-p-u-z.a.g/O0Q2^2n3Q3c4_4f6Y6h6s8q:[;T;k;x<R<Y!P<i)U)g,v.m1y1|3V3a3b3f3l6S6t6y6z7r8m9T9X9Y:r;R=l!f$Yc#W%b'w'}(i(p)X)]+a-k-p-u-z.a.g/O0Q2^2n3Q3c4_4f6Y6h6s8q:[;T;k;x<R<YQ3p/Wz=x)U)g,v.m1y1|3V3f3l6S6t6y6z7r8m9T9X9Y:r;R=lQ=}>PR>O>Q'QkOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$Y$_$c$k%^%d%q&^&a&b&e&g&h&j&n&v&z'T'h'x'z(Q([(m(q(u)i)t*v+O+j,[,`,e,q,t-U-^-r-{.X.e.l.t/}0S0a1Q1b1c1d1f1j1m1o2O2`2o2y3R3h4z4}5b5t5v5w6Q6Z6p8O8Y8g8s9k:Y:^;V;m;z<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xS$lh$mR3i.s'XgOPWXYZhrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$Y$_$c$k$m%^%d%q&^&a&b&e&g&h&j&n&v&z'T'h'x'z(Q([(m(q(u)i)t*v+O+j,[,`,e,q,t-U-^-r-{.X.e.l.s.t/}0S0a1Q1b1c1d1f1j1m1o2O2`2o2y3R3h4z4}5b5t5v5w6Q6Z6p8O8Y8g8s9k:Y:^;V;m;z<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xT$hf$nQ$ffS)`$i)dR)l$nT$gf$nT)b$i)d'XhOPWXYZhrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$Y$_$c$k$m%^%d%q&^&a&b&e&g&h&j&n&v&z'T'h'x'z(Q([(m(q(u)i)t*v+O+j,[,`,e,q,t-U-^-r-{.X.e.l.s.t/}0S0a1Q1b1c1d1f1j1m1o2O2`2o2y3R3h4z4}5b5t5v5w6Q6Z6p8O8Y8g8s9k:Y:^;V;m;z<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=xT$lh$mQ$ohR)k$m%^jOPWXYZrstu!X!^!l#Q#U#X#b#l#r#v#y#|#}$O$P$Q$R$S$T$U$V$W$_$c%^%d%q&^&a&b&e&g&h&j&n&v'T'h'x'z(Q([(m(q(u)t*v+O+j,[,`,e-U-^-r-{.X.e.l/}0S0a1Q1b1c1d1f1j1m1o2`2o2y3R4}5b5t5v5w6Z6p8O8Y8g8s:^;V;m;z!s=v$Y$k&z)i,q,t.t2O3h4z6Q9k:Y<W<Z<[<]<`<a<b<c<d<e<f<g<h<i<j<k<l<p<y<z<{<}=U=V=[=]=x#alOPXZr!X!^!l#Q#b#l#y$k%^&^&a&b&e&g&h&j&n&v'T(u)i+O+j,[,`,e-U.X.t/}1Q1b1c1d1f1j1m1o2y3h4}5b5t5v5w6p8O8Y8gv${i#u%U%V%Z)y){*T*i*j.b/a0P3p4Y9[=u=}>O!z(l#s$a$b$v$y)p)|*Z*}+Q+o+r.W/b/d0t0w1P2x3z4S4a4c5a6m7T7^8V9P9{:g:};^<s<u<w=O=Q=S=W=Y=^>R>SQ*s%XQ/P)ug3e<n<o<t<v<x=P=R=T=X=Z=_v$wi#u%U%V%Z)y){*T*i*j.b/a0P3p4Y9[=u=}>OQ*V$xS*`$z*cQ*t%YQ/o*a!z=h#s$a$b$v$y)p)|*Z*}+Q+o+r.W/b/d0t0w1P2x3z4S4a4c5a6m7T7^8V9P9{:g:};^<s<u<w=O=Q=S=W=Y=^>R>Sf=i<n<o<t<v<x=P=R=T=X=Z=_Q=m=yQ=n=zQ=o={R=p=|v${i#u%U%V%Z)y){*T*i*j.b/a0P3p4Y9[=u=}>O!z(l#s$a$b$v$y)p)|*Z*}+Q+o+r.W/b/d0t0w1P2x3z4S4a4c5a6m7T7^8V9P9{:g:};^<s<u<w=O=Q=S=W=Y=^>R>Sg3e<n<o<t<v<x=P=R=T=X=Z=_lnOXr!X#b%^&e&g&h&j,`,e1j1mQ*Y$yQ,n&qQ,o&sR3y/b$Y$|i#s#u$a$b$v$y%U%V%Z)p)y){)|*T*Z*i*j*}+Q+o+r.W.b/a/b/d0P0t0w1P2x3p3z4S4Y4a4c5a6m7T7^8V9P9[9{:g:};^<n<o<s<t<u<v<w<x=O=P=Q=R=S=T=W=X=Y=Z=^=_=u=}>O>R>SQ+q&PQ0v+sQ4v0uR7o4wT*b$z*cS*b$z*cT5T0}5US/m*_4}T4W/u8OQ+R%hQ/n*`Q0]+SQ1T+|Q5e1UQ8[5fQ9n7sQ:O8]Q:t9oQ;P:PQ;c:wQ;s;dQ<O;tR<T<Pn)y$t(n*u/`/w/x3O3w4^6}7`:k=g=s=t!W=O(j)Z*P*X._.{/W/e0U0s0u2}3x3|4u4w6q6r7U7Y7b7d9`9d;_>P>Q]=P3d6x9U:i:j;|p){$t(n*u/U/`/w/x3O3w4^6}7`:k=g=s=t!Y=Q(j)Z*P*X._.{/W/e0U0s0u2{2}3x3|4u4w6q6r7U7Y7b7d9`9d;_>P>Q_=R3d6x9U9V:i:j;|pmOXr!T!X#b%^&[&e&g&h&j,`,e1j1mQ&X!SR,[&bpmOXr!T!X#b%^&[&e&g&h&j,`,e1j1mR&X!SQ+u&QR0r+nqmOXr!T!X#b%^&[&e&g&h&j,`,e1j1mQ1O+zS5`1R1SU8U5^5_5cS9z8W8XS:{9y9|Q;g:|R;v;hQ&`!TR,U&[R5l1[S%pz%uR0h+_Q&e!UR,`&fR,f&kT1k,e1mR,j&lQ,i&lR1t,jQ'o!yR-l'oQrOQ#bXT%ar#bQ!|TR'q!|Q#PUR's#PQ)r$sR.|)rQ#SVR'u#SQ#VWU'{#V'|-sQ'|#WR-s'}Q,y&{R2Q,yQ.c(nR3P.cQ.f(pS3S.f3TR3T.gQ-Q'RR2U-Qr_OXr!T!X#b%^&[&^&e&g&h&j,`,e1j1mU!mQ'R-QS#eZ%[Y#o_!m#e-}5OQ-}(_T5O0}5US#]W%wU(S#](T-tQ(T#^R-t(OQ,|'OR2S,|Q(`#hQ-w(XW.R(`-w2l6gQ2l-xR6g2mQ)d$iR.u)dQ$mhR)j$mQ$`cU)Y$`-o<mQ-o<YR<m)gQ/Z*QW3s/Z3t7R9_U3t/[/]/^S7R3u3vR9_7S#m)w$t(j(n)Z*P*X*p*q*u.].^._.{/U/V/W/`/e/w/x0U0s0u2{2|2}3O3d3w3x3|4^4u4w6q6r6v6w6x6}7U7Y7`7b7d9U9V9W9`9d:i:j:k;_;|=g=s=t>P>QQ/c*XU3{/c3}7VQ3}/eR7V3|Q*c$zR/q*cQ*l%OR/z*lQ4b0UR7c4bQ+l%zR0q+lQ4y0xS7q4y9lR9l7rQ+w&RR0{+wQ5U0}R7|5UQ1Z,RS5j1Z8`R8`5lQ0c+ZW4k0c4m7i9hQ4m0fQ7i4lR9h7jQ+`%pR0i+`Q1m,eR5z1mWqOXr#bQ&i!XQ*x%^Q,_&eQ,a&gQ,b&hQ,d&jQ1h,`S1k,e1mR5y1jQ%`oQ&m!]Q&p!_Q&r!`Q&t!aU'g!o5P5QQ+T%jQ+g%vQ+m%{Q,T&`Q,l&oY-]']'i'j'm8QQ-j'eQ/p*bQ0^+US1^,U,XQ1u,kQ1v,nQ1w,oQ2]-[[2_-_-`-c-i-k9wQ4d0_Q4p0lQ4t0sQ5d1TQ5n1`Q5x1iY6X2^2a2d2f2gQ6[2bQ7e4eQ7m4rQ7n4uQ7{5TQ8Z5eQ8a5mY8p6Y6^6`6b6cQ8r6]Q9i7kQ9m7sQ9}8[Q:S8bY:Z8q8u8w8y8zQ:]8tQ:q9jS:s9n9oQ;O:OW;S:[:`:b:dQ;U:_S;a:t:wQ;i;PU;j;T;X;ZQ;l;WS;r;c;dS;w;k;oQ;y;nS;};s;tQ<Q;xS<S<O<PQ<U<RR<V<TQ%jwQ'V!fQ'e!oU+U%k%l%mQ,s&xU-W'W'X'YS-[']'kQ/g*]S0_+V+WQ1},uS2Z-X-YS2b-a-cQ4Q/kQ4e0`Q6T2TQ6W2[S6]2c2gQ7Z4US8t6_6cS:_8v8zQ;W:aR;n;YS$ui=uR*m%PU%Oi%P=uR/y*kQ$tiS(j#s+QQ(n#uS)Z$a$bQ*P$vQ*X$yQ*p%UQ*q%VQ*u%ZQ.]<sQ.^<uQ._<wQ.{)pQ/U)yQ/V){Q/W)|Q/`*TQ/e*ZQ/w*iQ/x*jh0U*}.W1P2x5a6m8V9P9{:g:};^Q0s+oQ0u+rQ2{=OQ2|=QQ2}=SQ3O.bS3d<n<oQ3w/aQ3x/bQ3|/dQ4^0PQ4u0tQ4w0wQ6q=WQ6r=YQ6v<tQ6w<vQ6x<xQ6}3pQ7U3zQ7Y4SQ7`4YQ7b4aQ7d4cQ9U=TQ9V=PQ9W=RQ9`7TQ9d7^Q:i=XQ:j=ZQ:k9[Q;_=^Q;|=_Q=g=uQ=s=}Q=t>OQ>P>RR>Q>SloOXr!X#b%^&e&g&h&j,`,e1j1mQ!dPS#dZ#lQ&o!^U'Z!l4}8OQ't#QQ(w#yQ)h$kS,X&^&aQ,]&bQ,k&nQ,p&vQ-S'TQ.i(uQ.y)iQ0X+OQ0o+jQ1e,[Q2X-UQ2v.XQ3k.tQ4[/}Q5_1QQ5p1bQ5q1cQ5s1dQ5u1fQ5|1oQ6l2yQ6{3hQ8X5bQ8f5tQ8h5vQ8i5wQ9R6pQ9|8YR:U8g#UcOPXZr!X!^!l#b#l#y%^&^&a&b&e&g&h&j&n&v'T(u+O+j,[,`,e-U.X/}1Q1b1c1d1f1j1m1o2y4}5b5t5v5w6p8O8Y8gQ#WWQ#cYQ%bsQ%ctQ%euS'w#U'zQ'}#XQ(i#rQ(p#vQ(x#|Q(y#}Q(z$OQ({$PQ(|$QQ(}$RQ)O$SQ)P$TQ)Q$UQ)R$VQ)S$WQ)U$YQ)X$_Q)]$cW)g$k)i.t3hQ*{%dQ+a%qS,v&z2OQ-k'hS-p'x-rQ-u(QQ-z([Q.a(mQ.g(qQ.k<WQ.m<ZQ.n<[Q.o<]Q/O)tQ0Q*vQ1y,qQ1|,tQ2^-^Q2n-{Q3Q.eQ3V<`Q3W<aQ3X<bQ3Y<cQ3Z<dQ3[<eQ3]<fQ3^<gQ3_<hQ3`<iQ3a<jQ3b<kQ3c.lQ3f<pQ3g<yQ3l<lQ4_0SQ4f0aQ6S<zQ6Y2`Q6h2oQ6s3RQ6t<{Q6y<}Q6z=UQ7r4zQ8m6QQ8q6ZQ9T=VQ9X=[Q9Y=]Q:[8sQ:r9kQ;R:YQ;T:^Q;k;VQ;x;mQ<R;zQ<Y#QR=l=xR#YWR&|!cU!oQ'R-QS&x!c,x[']!m!s!t!u!v!wS'k!p!r^'m!x5O5W5X5Y5Z5[S,u&y'QS-a'^'_W-c'`'a'b'c[-i'd7v7w7x7y8TQ2T-OS2c-b-dW2f-e9p9q9rU2g-f-g-hS5P0}5US6_2e2hU6b2i:u:vS6c2j2kS8v6a6dS8y6e;bQ8z6fS:a8x8{Q:d8|R;Y:cR(o#uR(r#vQ!dQT-P'R-QQ#m]R'[<XT#iZ%[S#hZ%[U%z|},^U(X#e#g#jS-x(Y(ZQ.P(_Q0p+kQ2m-yU2p-}.O.QS6i2q2rR8}6j`#[W#U#X%w'x(R+h-vt#fZ|}#e#g#j%[(Y(Z(_+k-y-}.O.Q2q2r6jQ1g,^Q1z,rQ6O1rQ8l6PT=d&z+iT#_W%wS#^W%wS'y#U(RS(O#X+hS,w&z+iT-q'x-vT'P!c%xQ$ifR)n$nT)c$i)dR3j.sT*S$v*UR*[$yQ0V*}Q2t.WQ5^1PQ6n2xQ8W5aQ9Q6mQ9y8VQ:e9PQ:|9{Q;]:gQ;h:}R;q;^lpOXr!X#b%^&e&g&h&j,`,e1j1mQ&_!TR,T&[V%{|},^R0y+tR,S&YQ%tzR+f%uR+[%oT&c!U&fT&d!U&fT1l,e1m",nodeNames:"\u26A0 ArithOp ArithOp LineComment BlockComment Script ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:363,context:trackNewline,nodeProps:[["group",-26,6,14,16,62,199,203,206,207,209,212,215,226,228,234,236,238,240,243,249,255,257,259,261,263,265,266,"Statement",-32,10,11,25,28,29,35,45,48,49,51,56,64,72,76,78,80,81,103,104,113,114,131,134,136,137,138,139,141,142,162,163,165,"Expression",-23,24,26,30,34,36,38,166,168,170,171,173,174,175,177,178,179,181,182,183,193,195,197,198,"Type",-3,84,96,102,"ClassItem"],["openedBy",31,"InterpolationStart",50,"[",54,"{",69,"(",143,"JSXStartTag",155,"JSXStartTag JSXStartCloseTag"],["closedBy",33,"InterpolationEnd",44,"]",55,"}",70,")",144,"JSXSelfCloseEndTag JSXEndTag",160,"JSXEndTag"]],propSources:[jsHighlight],skippedNodes:[0,3,4,269],repeatNodeCount:32,tokenData:"$>y(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tu>PuvBavwDxwxGgxyMvyz! Qz{!![{|!%O|}!&]}!O!%O!O!P!'g!P!Q!1w!Q!R#0t!R![#3T![!]#@T!]!^#Aa!^!_#Bk!_!`#GS!`!a#In!a!b#N{!b!c$$z!c!}>P!}#O$&U#O#P$'`#P#Q$,w#Q#R$.R#R#S>P#S#T$/`#T#o$0j#o#p$4z#p#q$5p#q#r$7Q#r#s$8^#s$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$I|>P$I|$I}$<s$I}$JO$<s$JO$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(n%d_$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$d&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$d&j'z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$d&j'wpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'wpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'wp'z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$d&j'wp'z!b'm(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'x#S$d&j'n(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$d&j'wp'z!b'n(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$d&j!l$Ip'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#q$Id$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#q$Id$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'v$(n$d&j'z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$d&j'z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$d&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$_#t$d&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$_#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$_#t$d&j'z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$_#t'z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hg$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|<[i$d&j(`!L^'wp'z!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!Q%Z!Q![<P![!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|=|P;=`<%l<P(CS>`k$d&j'wp'z!b(U!LY't&;d$W#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P+d@`k$d&j'wp'z!b$W#tOY%ZYZ&cZr%Zrs&}st%Ztu@Tuw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![@T![!^%Z!^!_*g!_!c%Z!c!}@T!}#O%Z#O#P&c#P#R%Z#R#S@T#S#T%Z#T#o@T#o#p*g#p$g%Z$g;'S@T;'S;=`BT<%lO@T+dBWP;=`<%l@T(CSB^P;=`<%l>P%#SBl`$d&j'wp'z!b#i$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SCy_$d&j#{$Id'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfETa(i%<v$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sv%ZvwFYwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SFe`$d&j#u$Id'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2bGp_'y$)`$d&j'wpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo*QHv_$d&j'wpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo)`IzX$d&jOwIuwx6cx!^Iu!^!_Jg!_#oIu#o#pJg#p;'SIu;'S;=`KP<%lOIu#tJjTOwJgwx7]x;'SJg;'S;=`Jy<%lOJg#tJ|P;=`<%lJg)`KSP;=`<%lIu*QK`]$_#t$d&j'wpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$fL^Z'wpOYLXYZJgZrLXrsJgswLXwxMPx#OLX#O#PJg#P;'SLX;'S;=`Mj<%lOLX$fMWU$_#t'wpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$fMmP;=`<%lLX*QMsP;=`<%lHo(*QNR_!h(!b$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l! ]_!gM|$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!!ib$d&j'wp'z!b'u#)d#j$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!#q{!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!#|`$d&j'wp'z!b#g$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!%Z`$d&j'wp'z!bk&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!&h_!V&;l$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!'rc$d&j'wp'z!by'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!(}!P!Q%Z!Q![!+g![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!)Wa$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!*]!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!*h_!UMt$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!+rg$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!+g![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S!+g#S#X%Z#X#Y!-Z#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!-dg$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!.{|}%Z}!O!.{!O!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!/Uc$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!0lc$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!2Sf$d&j'wp'z!b#h$IdOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}xz!3hz{#$s{!P!3h!P!Q#&Y!Q!^!3h!^!_!Mh!_!`#-x!`!a#/_!a!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(r!3sb$d&j'wp'z!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(Q!5U`$d&j'z!b!RSOY!4{YZ&cZw!4{wx!6Wx!P!4{!P!Q!=o!Q!^!4{!^!_!?g!_!}!4{!}#O!Bn#O#P!<w#P#o!4{#o#p!?g#p;'S!4{;'S;=`!Cw<%lO!4{&n!6_^$d&j!RSOY!6WYZ&cZ!P!6W!P!Q!7Z!Q!^!6W!^!_!8g!_!}!6W!}#O!;U#O#P!<w#P#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!7ba$d&j!RSO!^&c!_#Z&c#Z#[!7Z#[#]&c#]#^!7Z#^#a&c#a#b!7Z#b#g&c#g#h!7Z#h#i&c#i#j!7Z#j#m&c#m#n!7Z#n#o&c#p;'S&c;'S;=`&w<%lO&cS!8lX!RSOY!8gZ!P!8g!P!Q!9X!Q!}!8g!}#O!9p#O#P!:o#P;'S!8g;'S;=`!;O<%lO!8gS!9^U!RS#Z#[!9X#]#^!9X#a#b!9X#g#h!9X#i#j!9X#m#n!9XS!9sVOY!9pZ#O!9p#O#P!:Y#P#Q!8g#Q;'S!9p;'S;=`!:i<%lO!9pS!:]SOY!9pZ;'S!9p;'S;=`!:i<%lO!9pS!:lP;=`<%l!9pS!:rSOY!8gZ;'S!8g;'S;=`!;O<%lO!8gS!;RP;=`<%l!8g&n!;Z[$d&jOY!;UYZ&cZ!^!;U!^!_!9p!_#O!;U#O#P!<P#P#Q!6W#Q#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<UX$d&jOY!;UYZ&cZ!^!;U!^!_!9p!_#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<tP;=`<%l!;U&n!<|X$d&jOY!6WYZ&cZ!^!6W!^!_!8g!_#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!=lP;=`<%l!6W(Q!=xi$d&j'z!b!RSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!=o#[#]&}#]#^!=o#^#a&}#a#b!=o#b#g&}#g#h!=o#h#i&}#i#j!=o#j#m&}#m#n!=o#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!?nZ'z!b!RSOY!?gZw!?gwx!8gx!P!?g!P!Q!@a!Q!}!?g!}#O!Ap#O#P!:o#P;'S!?g;'S;=`!Bh<%lO!?g!f!@hb'z!b!RSOY'}Zw'}x#O'}#P#Z'}#Z#[!@a#[#]'}#]#^!@a#^#a'}#a#b!@a#b#g'}#g#h!@a#h#i'}#i#j!@a#j#m'}#m#n!@a#n;'S'};'S;=`(f<%lO'}!f!AuX'z!bOY!ApZw!Apwx!9px#O!Ap#O#P!:Y#P#Q!?g#Q;'S!Ap;'S;=`!Bb<%lO!Ap!f!BeP;=`<%l!Ap!f!BkP;=`<%l!?g(Q!Bu^$d&j'z!bOY!BnYZ&cZw!Bnwx!;Ux!^!Bn!^!_!Ap!_#O!Bn#O#P!<P#P#Q!4{#Q#o!Bn#o#p!Ap#p;'S!Bn;'S;=`!Cq<%lO!Bn(Q!CtP;=`<%l!Bn(Q!CzP;=`<%l!4{'`!DW`$d&j'wp!RSOY!C}YZ&cZr!C}rs!6Ws!P!C}!P!Q!EY!Q!^!C}!^!_!GQ!_!}!C}!}#O!JX#O#P!<w#P#o!C}#o#p!GQ#p;'S!C};'S;=`!Kb<%lO!C}'`!Eci$d&j'wp!RSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!EY#[#](r#]#^!EY#^#a(r#a#b!EY#b#g(r#g#h!EY#h#i(r#i#j!EY#j#m(r#m#n!EY#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!GXZ'wp!RSOY!GQZr!GQrs!8gs!P!GQ!P!Q!Gz!Q!}!GQ!}#O!IZ#O#P!:o#P;'S!GQ;'S;=`!JR<%lO!GQt!HRb'wp!RSOY)rZr)rs#O)r#P#Z)r#Z#[!Gz#[#])r#]#^!Gz#^#a)r#a#b!Gz#b#g)r#g#h!Gz#h#i)r#i#j!Gz#j#m)r#m#n!Gz#n;'S)r;'S;=`*Z<%lO)rt!I`X'wpOY!IZZr!IZrs!9ps#O!IZ#O#P!:Y#P#Q!GQ#Q;'S!IZ;'S;=`!I{<%lO!IZt!JOP;=`<%l!IZt!JUP;=`<%l!GQ'`!J`^$d&j'wpOY!JXYZ&cZr!JXrs!;Us!^!JX!^!_!IZ!_#O!JX#O#P!<P#P#Q!C}#Q#o!JX#o#p!IZ#p;'S!JX;'S;=`!K[<%lO!JX'`!K_P;=`<%l!JX'`!KeP;=`<%l!C}(r!Ksk$d&j'wp'z!b!RSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[!Kh#[#]%Z#]#^!Kh#^#a%Z#a#b!Kh#b#g%Z#g#h!Kh#h#i%Z#i#j!Kh#j#m%Z#m#n!Kh#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W!Mq]'wp'z!b!RSOY!MhZr!Mhrs!?gsw!Mhwx!GQx!P!Mh!P!Q!Nj!Q!}!Mh!}#O#!U#O#P!:o#P;'S!Mh;'S;=`##U<%lO!Mh#W!Nse'wp'z!b!RSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[!Nj#[#]*g#]#^!Nj#^#a*g#a#b!Nj#b#g*g#g#h!Nj#h#i*g#i#j!Nj#j#m*g#m#n!Nj#n;'S*g;'S;=`+Z<%lO*g#W#!]Z'wp'z!bOY#!UZr#!Urs!Apsw#!Uwx!IZx#O#!U#O#P!:Y#P#Q!Mh#Q;'S#!U;'S;=`##O<%lO#!U#W##RP;=`<%l#!U#W##XP;=`<%l!Mh(r##e`$d&j'wp'z!bOY##[YZ&cZr##[rs!Bnsw##[wx!JXx!^##[!^!_#!U!_#O##[#O#P!<P#P#Q!3h#Q#o##[#o#p#!U#p;'S##[;'S;=`#$g<%lO##[(r#$jP;=`<%l##[(r#$pP;=`<%l!3h(CS#%Qb$d&j'wp'z!b'o(;d!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(CS#&e_$d&j'wp'z!bR(;dOY#&YYZ&cZr#&Yrs#'dsw#&Ywx#*tx!^#&Y!^!_#,s!_#O#&Y#O#P#(f#P#o#&Y#o#p#,s#p;'S#&Y;'S;=`#-r<%lO#&Y(Bb#'m]$d&j'z!bR(;dOY#'dYZ&cZw#'dwx#(fx!^#'d!^!_#)w!_#O#'d#O#P#(f#P#o#'d#o#p#)w#p;'S#'d;'S;=`#*n<%lO#'d(AO#(mX$d&jR(;dOY#(fYZ&cZ!^#(f!^!_#)Y!_#o#(f#o#p#)Y#p;'S#(f;'S;=`#)q<%lO#(f(;d#)_SR(;dOY#)YZ;'S#)Y;'S;=`#)k<%lO#)Y(;d#)nP;=`<%l#)Y(AO#)tP;=`<%l#(f(<v#*OW'z!bR(;dOY#)wZw#)wwx#)Yx#O#)w#O#P#)Y#P;'S#)w;'S;=`#*h<%lO#)w(<v#*kP;=`<%l#)w(Bb#*qP;=`<%l#'d(Ap#*}]$d&j'wpR(;dOY#*tYZ&cZr#*trs#(fs!^#*t!^!_#+v!_#O#*t#O#P#(f#P#o#*t#o#p#+v#p;'S#*t;'S;=`#,m<%lO#*t(<U#+}W'wpR(;dOY#+vZr#+vrs#)Ys#O#+v#O#P#)Y#P;'S#+v;'S;=`#,g<%lO#+v(<U#,jP;=`<%l#+v(Ap#,pP;=`<%l#*t(=h#,|Y'wp'z!bR(;dOY#,sZr#,srs#)wsw#,swx#+vx#O#,s#O#P#)Y#P;'S#,s;'S;=`#-l<%lO#,s(=h#-oP;=`<%l#,s(CS#-uP;=`<%l#&Y%#W#.Vb$d&j#{$Id'wp'z!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h+h#/lb$T#t$d&j'wp'z!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h$/l#1Pp$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#U%Z#U#V#6_#V#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#d#9g#d#l%Z#l#m#<i#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#3`k$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#5`_$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#6hd$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#8Rf$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#9pc$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;We$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#<rg$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>fi$d&j'wp'z!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#@b_!a$b$d&j#y%<f'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Al_^l$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Bz^'}!*v!e'.r'wp'z!b$U)d(mSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Cv!Q!^*g!^!_#Dl!_!`#F^!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#DPX$f&j'wp'z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#DuZ#k$Id'wp'z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Eh!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#EqX#{$Id'wp'z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#FgX#l$Id'wp'z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh#G_a#X%?x$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a#Hd!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W#Ho_#d$Ih$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#I}adBf#l$Id$a#|$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`#KS!`!a#L^!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#K__#l$Id$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#Lia#k$Id$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`!a#Mn!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#My`#k$Id$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$ Wc(a$Ip$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$!c!P!^%Z!^!_*g!_!a%Z!a!b$#m!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$!n_z'#p$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$#x`$d&j#v$Id'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$%V_!x!Ln$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$&a_|(8n$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$'eZ$d&jO!^$(W!^!_$(n!_#i$(W#i#j$(s#j#l$(W#l#m$*f#m#o$(W#o#p$(n#p;'S$(W;'S;=`$,q<%lO$(W(n$(_T[#S$d&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$(sO[#S(n$(x[$d&jO!Q&c!Q![$)n![!^&c!_!c&c!c!i$)n!i#T&c#T#Z$)n#Z#o&c#o#p$,U#p;'S&c;'S;=`&w<%lO&c(n$)sZ$d&jO!Q&c!Q![$*f![!^&c!_!c&c!c!i$*f!i#T&c#T#Z$*f#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$*kZ$d&jO!Q&c!Q![$+^![!^&c!_!c&c!c!i$+^!i#T&c#T#Z$+^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$+cZ$d&jO!Q&c!Q![$(W![!^&c!_!c&c!c!i$(W!i#T&c#T#Z$(W#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$,XR!Q![$,b!c!i$,b#T#Z$,b#S$,eS!Q![$,b!c!i$,b#T#Z$,b#q#r$(n(n$,tP;=`<%l$(W!'l$-S_!SM|$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$.^`#s$Id$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$/k_$d&j'wp'z!b(R&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$0yk$d&j'wp'z!b(U!LY't&;d$Y#tOY%ZYZ&cZr%Zrs&}st%Ztu$0juw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$0j![!^%Z!^!_*g!_!c%Z!c!}$0j!}#O%Z#O#P&c#P#R%Z#R#S$0j#S#T%Z#T#o$0j#o#p*g#p$g%Z$g;'S$0j;'S;=`$4t<%lO$0j+d$2yk$d&j'wp'z!b$Y#tOY%ZYZ&cZr%Zrs&}st%Ztu$2nuw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$2n![!^%Z!^!_*g!_!c%Z!c!}$2n!}#O%Z#O#P&c#P#R%Z#R#S$2n#S#T%Z#T#o$2n#o#p*g#p$g%Z$g;'S$2n;'S;=`$4n<%lO$2n+d$4qP;=`<%l$2n(CS$4wP;=`<%l$0j!5p$5TX!X!3l'wp'z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$5{a(h%<v$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$#m#q;'S%Z;'S;=`+a<%lO%Z%#`$7__!W$I`o`$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$8i_!mS$d&j'wp'z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$9y|$d&j'wp'z!b'm(;d(U!LY't&;d$W#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(CS$=Uk$d&j'wp'z!b'n(;d(U!LY't&;d$W#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P",tokenizers:[noSemicolon,incdecToken,2,3,4,5,6,7,8,9,10,11,12,13,insertSemicolon,new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOq~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!O~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(T~~",141,326),new LocalTokenGroup("j~RQYZXz{^~^O'q~~aP!P!Qd~iO'r~~",25,308)],topRules:{Script:[0,5],SingleExpression:[1,267],SingleClassItem:[2,268]},dialects:{jsx:13525,ts:13527},dynamicPrecedences:{76:1,78:1,163:1,191:1},specialized:[{term:312,get:g=>spec_identifier$1[g]||-1},{term:328,get:g=>spec_word[g]||-1},{term:67,get:g=>spec_LessThan[g]||-1}],tokenPrec:13551}),snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(g){return(n,r)=>{let $=n.node.getChild("VariableDefinition");return $&&r($,g),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(g,n){g.matchContext(functionContext)||n(g,"variable")},TypeDefinition(g,n){n(g,"type")},__proto__:null};function getScope(g,n){let r=cache.get(n);if(r)return r;let $=[],L=!0;function V(oe,re){let ae=g.sliceString(oe.from,oe.to);$.push({label:ae,type:re})}return n.cursor(IterMode.IncludeAnonymous).iterate(oe=>{if(L)L=!1;else if(oe.name){let re=gatherCompletions[oe.name];if(re&&re(oe,V)||ScopeNodes.has(oe.name))return!1}else if(oe.to-oe.from>8192){for(let re of getScope(g,oe.node))$.push(re);return!1}}),cache.set(n,$),$}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName"];function localCompletionSource(g){let n=syntaxTree(g.state).resolveInner(g.pos,-1);if(dontComplete.indexOf(n.name)>-1)return null;let r=n.name=="VariableName"||n.to-n.from<20&&Identifier.test(g.state.sliceDoc(n.from,n.to));if(!r&&!g.explicit)return null;let $=[];for(let L=n;L;L=L.parent)ScopeNodes.has(L.name)&&($=$.concat(getScope(g.state.doc,L)));return{options:$,from:r?n.from:g.pos,validFor:Identifier}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser$2.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:g=>{let n=g.textAfter,r=/^\s*\}/.test(n),$=/^\s*(case|default)\b/.test(n);return g.baseIndent+(r?0:$?1:2)*g.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:g=>g.baseIndent+g.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^{/}),JSXElement(g){let n=/^\s*<\//.test(g.textAfter);return g.lineIndent(g.node.from)+(n?0:g.unit)},JSXEscape(g){let n=/\s*\}/.test(g.textAfter);return g.lineIndent(g.node.from)+(n?0:g.unit)},"JSXOpenTag JSXSelfClosingTag"(g){return g.column(g.node.from)+g.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":foldInside,BlockComment(g){return{from:g.from+2,to:g.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),jsxSublanguage={test:g=>/^JSX/.test(g.name),facet:defineLanguageFacet({commentTokens:{block:{open:"{/*",close:"*/}"}}})},typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx",props:[sublanguageProp.add(g=>g.isTop?[jsxSublanguage]:void 0)]}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts",props:[sublanguageProp.add(g=>g.isTop?[jsxSublanguage]:void 0)]},"typescript"),keywords="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(g=>({label:g,type:"keyword"}));function javascript(g={}){let n=g.jsx?g.typescript?tsxLanguage:jsxLanguage:g.typescript?typescriptLanguage:javascriptLanguage;return new LanguageSupport(n,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(snippets.concat(keywords)))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),g.jsx?autoCloseTags$1:[]])}function findOpenTag(g){for(;;){if(g.name=="JSXOpenTag"||g.name=="JSXSelfClosingTag"||g.name=="JSXFragmentTag")return g;if(!g.parent)return null;g=g.parent}}function elementName$1(g,n,r=g.length){for(let $=n==null?void 0:n.firstChild;$;$=$.nextSibling)if($.name=="JSXIdentifier"||$.name=="JSXBuiltin"||$.name=="JSXNamespacedName"||$.name=="JSXMemberExpression")return g.sliceString($.from,Math.min($.to,r));return""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags$1=EditorView.inputHandler.of((g,n,r,$)=>{if((android?g.composing:g.compositionStarted)||g.state.readOnly||n!=r||$!=">"&&$!="/"||!javascriptLanguage.isActiveAt(g.state,n,-1))return!1;let{state:L}=g,V=L.changeByRange(oe=>{var re,ae;let{head:le}=oe,ue=syntaxTree(L).resolveInner(le,-1),de;if(ue.name=="JSXStartTag"&&(ue=ue.parent),$==">"&&ue.name=="JSXFragmentTag")return{range:EditorSelection.cursor(le+1),changes:{from:le,insert:"></>"}};if($=="/"&&ue.name=="JSXFragmentTag"){let pe=ue.parent,he=pe==null?void 0:pe.parent;if(pe.from==le-1&&((re=he.lastChild)===null||re===void 0?void 0:re.name)!="JSXEndTag"&&(de=elementName$1(L.doc,he==null?void 0:he.firstChild,le))){let _e=`/${de}>`;return{range:EditorSelection.cursor(le+_e.length),changes:{from:le,insert:_e}}}}else if($==">"){let pe=findOpenTag(ue);if(pe&&((ae=pe.lastChild)===null||ae===void 0?void 0:ae.name)!="JSXEndTag"&&L.sliceDoc(le,le+2)!="</"&&(de=elementName$1(L.doc,pe,le)))return{range:EditorSelection.cursor(le+1),changes:{from:le,insert:`></${de}>`}}}return{range:oe}});return V.changes.empty?!1:(g.dispatch(V,{userEvent:"input.type",scrollIntoView:!0}),!0)}),scriptText=54,StartCloseScriptTag=1,styleText=55,StartCloseStyleTag=2,textareaText=56,StartCloseTextareaTag=3,EndTag=4,SelfClosingEndTag=5,StartTag=6,StartScriptTag=7,StartStyleTag=8,StartTextareaTag=9,StartSelfClosingTag=10,StartCloseTag=11,NoMatchStartCloseTag=12,MismatchedStartCloseTag=13,missingCloseTag=57,IncompleteCloseTag=14,commentContent$1=58,Element$1=20,TagName=22,Attribute=23,AttributeName=24,AttributeValue=26,UnquotedAttributeValue=27,ScriptText=28,StyleText=31,TextareaText=34,OpenTag=36,CloseTag=37,Dialect_noMatch=0,Dialect_selfClosing=1,selfClosers$1={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},closeOnOpen={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function nameChar(g){return g==45||g==46||g==58||g>=65&&g<=90||g==95||g>=97&&g<=122||g>=161}function isSpace(g){return g==9||g==10||g==13||g==32}let cachedName=null,cachedInput=null,cachedPos=0;function tagNameAfter(g,n){let r=g.pos+n;if(cachedPos==r&&cachedInput==g)return cachedName;let $=g.peek(n);for(;isSpace($);)$=g.peek(++n);let L="";for(;nameChar($);)L+=String.fromCharCode($),$=g.peek(++n);return cachedInput=g,cachedPos=r,cachedName=L?L.toLowerCase():$==question||$==bang?void 0:null}const lessThan=60,greaterThan=62,slash=47,question=63,bang=33,dash$1=45;function ElementContext(g,n){this.name=g,this.parent=n,this.hash=n?n.hash:0;for(let r=0;r<g.length;r++)this.hash+=(this.hash<<4)+g.charCodeAt(r)+(g.charCodeAt(r)<<8)}const startTagTerms=[StartTag,StartSelfClosingTag,StartScriptTag,StartStyleTag,StartTextareaTag],elementContext=new ContextTracker({start:null,shift(g,n,r,$){return startTagTerms.indexOf(n)>-1?new ElementContext(tagNameAfter($,1)||"",g):g},reduce(g,n){return n==Element$1&&g?g.parent:g},reuse(g,n,r,$){let L=n.type.id;return L==StartTag||L==OpenTag?new ElementContext(tagNameAfter($,1)||"",g):g},hash(g){return g?g.hash:0},strict:!1}),tagStart=new ExternalTokenizer((g,n)=>{if(g.next!=lessThan){g.next<0&&n.context&&g.acceptToken(missingCloseTag);return}g.advance();let r=g.next==slash;r&&g.advance();let $=tagNameAfter(g,0);if($===void 0)return;if(!$)return g.acceptToken(r?IncompleteCloseTag:StartTag);let L=n.context?n.context.name:null;if(r){if($==L)return g.acceptToken(StartCloseTag);if(L&&implicitlyClosed[L])return g.acceptToken(missingCloseTag,-2);if(n.dialectEnabled(Dialect_noMatch))return g.acceptToken(NoMatchStartCloseTag);for(let V=n.context;V;V=V.parent)if(V.name==$)return;g.acceptToken(MismatchedStartCloseTag)}else{if($=="script")return g.acceptToken(StartScriptTag);if($=="style")return g.acceptToken(StartStyleTag);if($=="textarea")return g.acceptToken(StartTextareaTag);if(selfClosers$1.hasOwnProperty($))return g.acceptToken(StartSelfClosingTag);L&&closeOnOpen[L]&&closeOnOpen[L][$]?g.acceptToken(missingCloseTag,-1):g.acceptToken(StartTag)}},{contextual:!0}),commentContent=new ExternalTokenizer(g=>{for(let n=0,r=0;;r++){if(g.next<0){r&&g.acceptToken(commentContent$1);break}if(g.next==dash$1)n++;else if(g.next==greaterThan&&n>=2){r>3&&g.acceptToken(commentContent$1,-2);break}else n=0;g.advance()}});function inForeignElement(g){for(;g;g=g.parent)if(g.name=="svg"||g.name=="math")return!0;return!1}const endTag=new ExternalTokenizer((g,n)=>{if(g.next==slash&&g.peek(1)==greaterThan){let r=n.dialectEnabled(Dialect_selfClosing)||inForeignElement(n.context);g.acceptToken(r?SelfClosingEndTag:EndTag,2)}else g.next==greaterThan&&g.acceptToken(EndTag,1)});function contentTokenizer(g,n,r){let $=2+g.length;return new ExternalTokenizer(L=>{for(let V=0,oe=0,re=0;;re++){if(L.next<0){re&&L.acceptToken(n);break}if(V==0&&L.next==lessThan||V==1&&L.next==slash||V>=2&&V<$&&L.next==g.charCodeAt(V-2))V++,oe++;else if((V==2||V==$)&&isSpace(L.next))oe++;else if(V==$&&L.next==greaterThan){re>oe?L.acceptToken(n,-oe):L.acceptToken(r,-(oe-2));break}else if((L.next==10||L.next==13)&&re){L.acceptToken(n,1);break}else V=oe=0;L.advance()}})}const scriptTokens=contentTokenizer("script",scriptText,StartCloseScriptTag),styleTokens=contentTokenizer("style",styleText,StartCloseStyleTag),textareaTokens=contentTokenizer("textarea",textareaText,StartCloseTextareaTag),htmlHighlighting=styleTags({"Text RawText":tags$1.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":tags$1.angleBracket,TagName:tags$1.tagName,"MismatchedCloseTag/TagName":[tags$1.tagName,tags$1.invalid],AttributeName:tags$1.attributeName,"AttributeValue UnquotedAttributeValue":tags$1.attributeValue,Is:tags$1.definitionOperator,"EntityReference CharacterReference":tags$1.character,Comment:tags$1.blockComment,ProcessingInst:tags$1.processingInstruction,DoctypeDecl:tags$1.documentMeta}),parser$1=LRParser.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%WQ&rO,59fO%`Q&rO,59iO%hQ&rO,59lO%sQ&rO,59nOOOa'#D^'#D^O%{OaO'#CxO&WOaO,59[OOOb'#D_'#D_O&`ObO'#C{O&kObO,59[OOOd'#D`'#D`O&sOdO'#DOO'OOdO,59[OOO`'#Da'#DaO'WO!rO,59[O'_Q#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'dO$fO,59oOOO`,59o,59oO'lQ#|O,59qO'qQ#|O,59rOOO`-E7W-E7WO'vQ&rO'#CsOOQW'#DZ'#DZO(UQ&rO1G.wOOOa1G.w1G.wO(^Q&rO1G/QOOOb1G/Q1G/QO(fQ&rO1G/TOOOd1G/T1G/TO(nQ&rO1G/WOOO`1G/W1G/WOOO`1G/Y1G/YO(yQ&rO1G/YOOOa-E7[-E7[O)RQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)WQ#tO'#C|OOOd-E7^-E7^O)]Q#tO'#DPOOO`-E7_-E7_O)bQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O)gQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rOOO`7+$t7+$tO)rQ#|O,59eO)wQ#|O,59hO)|Q#|O,59kOOO`1G/X1G/XO*RO7[O'#CvO*dOMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O*uO7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+WOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:"+s~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OhyO~OS!OOhyO~OS!QOhyO~OS!SOT!TOhyO~OS!TOhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXhgXTgX~OS!fOhyO~OS!gOhyO~OS!hOhyO~OS!iOT!jOhyO~OS!jOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{}!P!R!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ}bQ!PcQ!RdQ!UeZ!e{}!P!R!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"\u26A0 StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:elementContext,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"]],propSources:[htmlHighlighting],skippedNodes:[0],repeatNodeCount:9,tokenData:"#%g!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs4ysv-_vw5iwxJ^x}-_}!OKP!O!P-_!P!Q$q!Q![-_![!]!!O!]!^-_!^!_!&W!_!`#$o!`!a&X!a!c-_!c!}!!O!}#R-_#R#S!!O#S#T3V#T#o!!O#o#s-_#s$f$q$f%W-_%W%o!!O%o%p-_%p&a!!O&a&b-_&b1p!!O1p4U-_4U4d!!O4d4e-_4e$IS!!O$IS$I`-_$I`$Ib!!O$Ib$Kh-_$Kh%#t!!O%#t&/x-_&/x&Et!!O&Et&FV-_&FV;'S!!O;'S;:j!&Q;:j;=`4s<%l?&r-_?&r?Ah!!O?Ah?BY$q?BY?Mn!!O?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_1n!_!a&X!a#S-_#S#T3V#T#s-_#s$f$q$f;'S-_;'S;=`4s<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/echSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!^!_0p!a#S/^#S#T0p#T#s/^#s$f+P$f;'S/^;'S;=`1h<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0uXhSqr0psw0px!P0p!Q!_0p!a#s0p$f;'S0p;'S;=`1b<%l?Ah0p?BY?Mn0pS1eP;=`<%l0p[1kP;=`<%l/^!U1wbhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!U3SP;=`<%l1n!V3bchS`P!a`!cpOq&Xqr3Vrs&}sv3Vvw0pwx(tx!P3V!P!Q&X!Q!^3V!^!_1n!_!a&X!a#s3V#s$f&X$f;'S3V;'S;=`4m<%l?Ah3V?Ah?BY&X?BY?Mn3V?MnO&X!V4pP;=`<%l3V!_4vP;=`<%l-_!Z5SV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_5rjhSkWc!ROX7dXZ8qZ[7d[^8q^p7dqr:crs8qst@Ttw:cwx8qx!P:c!P!Q7d!Q!]:c!]!^/^!^!_=p!_!a8q!a#S:c#S#T=p#T#s:c#s$f7d$f;'S:c;'S;=`?}<%l?Ah:c?Ah?BY7d?BY?Mn:c?MnO7d!Z7ibkWOX7dXZ8qZ[7d[^8q^p7dqr7drs8qst+Ptw7dwx8qx!]7d!]!^9f!^!a8q!a#S7d#S#T8q#T;'S7d;'S;=`:]<%lO7d!R8tVOp8qqs8qt!]8q!]!^9Z!^;'S8q;'S;=`9`<%lO8q!R9`Oa!R!R9cP;=`<%l8q!Z9mYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z:`P;=`<%l7d!_:jjhSkWOX7dXZ8qZ[7d[^8q^p7dqr:crs8qst/^tw:cwx8qx!P:c!P!Q7d!Q!]:c!]!^<[!^!_=p!_!a8q!a#S:c#S#T=p#T#s:c#s$f7d$f;'S:c;'S;=`?}<%l?Ah:c?Ah?BY7d?BY?Mn:c?MnO7d!_<echSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!^!_0p!a#S/^#S#T0p#T#s/^#s$f+P$f;'S/^;'S;=`1h<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V=udhSOp8qqr=prs8qst0ptw=pwx8qx!P=p!P!Q8q!Q!]=p!]!^?T!^!_=p!_!a8q!a#s=p#s$f8q$f;'S=p;'S;=`?w<%l?Ah=p?Ah?BY8q?BY?Mn=p?MnO8q!V?[XhSa!Rqr0psw0px!P0p!Q!_0p!a#s0p$f;'S0p;'S;=`1b<%l?Ah0p?BY?Mn0p!V?zP;=`<%l=p!_@QP;=`<%l:c!_@[ihSkWOXAyXZCTZ[Ay[^CT^pAyqrDrrsCTswDrwxCTx!PDr!P!QAy!Q!]Dr!]!^/^!^!_G|!_!aCT!a#SDr#S#TG|#T#sDr#s$fAy$f;'SDr;'S;=`JW<%l?AhDr?Ah?BYAy?BY?MnDr?MnOAy!ZBOakWOXAyXZCTZ[Ay[^CT^pAyqrAyrsCTswAywxCTx!]Ay!]!^Cu!^!aCT!a#SAy#S#TCT#T;'SAy;'S;=`Dl<%lOAy!RCWUOpCTq!]CT!]!^Cj!^;'SCT;'S;=`Co<%lOCT!RCoOb!R!RCrP;=`<%lCT!ZC|YkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZDoP;=`<%lAy!_DyihSkWOXAyXZCTZ[Ay[^CT^pAyqrDrrsCTswDrwxCTx!PDr!P!QAy!Q!]Dr!]!^Fh!^!_G|!_!aCT!a#SDr#S#TG|#T#sDr#s$fAy$f;'SDr;'S;=`JW<%l?AhDr?Ah?BYAy?BY?MnDr?MnOAy!_FqchSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!^!_0p!a#S/^#S#T0p#T#s/^#s$f+P$f;'S/^;'S;=`1h<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VHRchSOpCTqrG|rsCTswG|wxCTx!PG|!P!QCT!Q!]G|!]!^I^!^!_G|!_!aCT!a#sG|#s$fCT$f;'SG|;'S;=`JQ<%l?AhG|?Ah?BYCT?BY?MnG|?MnOCT!VIeXhSb!Rqr0psw0px!P0p!Q!_0p!a#s0p$f;'S0p;'S;=`1b<%l?Ah0p?BY?Mn0p!VJTP;=`<%lG|!_JZP;=`<%lDr!ZJgW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aK^lhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMU!O!P-_!P!Q$q!Q!^-_!^!_1n!_!a&X!a#S-_#S#T3V#T#s-_#s$f$q$f;'S-_;'S;=`4s<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aMckhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_1n!_!`&X!`!a! W!a#S-_#S#T3V#T#s-_#s$f$q$f;'S-_;'S;=`4s<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!T! cX`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!a!!_!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!O!!O!O!P!!O!P!Q$q!Q![!!O![!]!!O!]!^-_!^!_1n!_!a&X!a!c-_!c!}!!O!}#R-_#R#S!!O#S#T3V#T#o!!O#o#s-_#s$f$q$f$}-_$}%O!!O%O%W-_%W%o!!O%o%p-_%p&a!!O&a&b-_&b1p!!O1p4U!!O4U4d!!O4d4e-_4e$IS!!O$IS$I`-_$I`$Ib!!O$Ib$Je-_$Je$Jg!!O$Jg$Kh-_$Kh%#t!!O%#t&/x-_&/x&Et!!O&Et&FV-_&FV;'S!!O;'S;:j!&Q;:j;=`4s<%l?&r-_?&r?Ah!!O?Ah?BY$q?BY?Mn!!O?MnO$q!a!&TP;=`<%l!!O!V!&achS!a`!cpOq*Vqr!'lrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!b!Ey!b#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!'uhhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex}1n}!O!)a!O!P1n!P!Q*V!Q!_1n!_!a*V!a!f1n!f!g!,]!g#W1n#W#X!<y#X#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!)jdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex}1n}!O!*x!O!P1n!P!Q*V!Q!_1n!_!a*V!a#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!+TbhS!a`!cp!dPOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!,fdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!q1n!q!r!-t!r#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!-}dhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!e1n!e!f!/]!f#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!/fdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!v1n!v!w!0t!w#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!0}dhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!{1n!{!|!2]!|#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!2fdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!r1n!r!s!3t!s#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!3}dhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!g1n!g!h!5]!h#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!5fchS!a`!cpOq!6qqr!5]rs!7hsv!5]vw!;`wx!9[x!P!5]!P!Q!6q!Q!_!5]!_!`!6q!`!a!:j!a#s!5]#s$f!6q$f;'S!5];'S;=`!<s<%l?Ah!5]?Ah?BY!6q?BY?Mn!5]?MnO!6q!R!6xY!a`!cpOr!6qrs!7hsv!6qvw!8Swx!9[x!`!6q!`!a!:j!a;'S!6q;'S;=`!;Y<%lO!6qq!7mV!cpOv!7hvx!8Sx!`!7h!`!a!8q!a;'S!7h;'S;=`!9U<%lO!7hP!8VTO!`!8S!`!a!8f!a;'S!8S;'S;=`!8k<%lO!8SP!8kO{PP!8nP;=`<%l!8Sq!8xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!9XP;=`<%l!7ha!9aX!a`Or!9[rs!8Ssv!9[vw!8Sw!`!9[!`!a!9|!a;'S!9[;'S;=`!:d<%lO!9[a!:TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!:gP;=`<%l!9[!R!:sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;]P;=`<%l!6qT!;ebhSOq!8Sqr!;`rs!8Ssw!;`wx!8Sx!P!;`!P!Q!8S!Q!_!;`!_!`!8S!`!a!8f!a#s!;`#s$f!8S$f;'S!;`;'S;=`!<m<%l?Ah!;`?Ah?BY!8S?BY?Mn!;`?MnO!8ST!<pP;=`<%l!;`!V!<vP;=`<%l!5]!V!=SdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#c1n#c#d!>b#d#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!>kdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#V1n#V#W!?y#W#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!@SdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#h1n#h#i!Ab#i#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!AkdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#m1n#m#n!By#n#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!CSdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#d1n#d#e!Db#e#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!DkdhS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#X1n#X#Y!5]#Y#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!FSchS!a`!cpOq!G_qr!Eyrs!HUsv!Eyvw!Ncwx!Jvx!P!Ey!P!Q!G_!Q!_!Ey!_!a!G_!a!b##T!b#s!Ey#s$f!G_$f;'S!Ey;'S;=`#$i<%l?Ah!Ey?Ah?BY!G_?BY?Mn!Ey?MnO!G_!R!GfY!a`!cpOr!G_rs!HUsv!G_vw!Hpwx!Jvx!a!G_!a!b!Lv!b;'S!G_;'S;=`!N]<%lO!G_q!HZV!cpOv!HUvx!Hpx!a!HU!a!b!Iq!b;'S!HU;'S;=`!Jp<%lO!HUP!HsTO!a!Hp!a!b!IS!b;'S!Hp;'S;=`!Ik<%lO!HpP!IVTO!`!Hp!`!a!If!a;'S!Hp;'S;=`!Ik<%lO!HpP!IkOxPP!InP;=`<%l!Hpq!IvV!cpOv!HUvx!Hpx!`!HU!`!a!J]!a;'S!HU;'S;=`!Jp<%lO!HUq!JdS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!JsP;=`<%l!HUa!J{X!a`Or!Jvrs!Hpsv!Jvvw!Hpw!a!Jv!a!b!Kh!b;'S!Jv;'S;=`!Lp<%lO!Jva!KmX!a`Or!Jvrs!Hpsv!Jvvw!Hpw!`!Jv!`!a!LY!a;'S!Jv;'S;=`!Lp<%lO!Jva!LaT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!LsP;=`<%l!Jv!R!L}Y!a`!cpOr!G_rs!HUsv!G_vw!Hpwx!Jvx!`!G_!`!a!Mm!a;'S!G_;'S;=`!N]<%lO!G_!R!MvV!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!N`P;=`<%l!G_T!NhbhSOq!Hpqr!Ncrs!Hpsw!Ncwx!Hpx!P!Nc!P!Q!Hp!Q!_!Nc!_!a!Hp!a!b# p!b#s!Nc#s$f!Hp$f;'S!Nc;'S;=`#!}<%l?Ah!Nc?Ah?BY!Hp?BY?Mn!Nc?MnO!HpT# ubhSOq!Hpqr!Ncrs!Hpsw!Ncwx!Hpx!P!Nc!P!Q!Hp!Q!_!Nc!_!`!Hp!`!a!If!a#s!Nc#s$f!Hp$f;'S!Nc;'S;=`#!}<%l?Ah!Nc?Ah?BY!Hp?BY?Mn!Nc?MnO!HpT##QP;=`<%l!Nc!V##^chS!a`!cpOq!G_qr!Eyrs!HUsv!Eyvw!Ncwx!Jvx!P!Ey!P!Q!G_!Q!_!Ey!_!`!G_!`!a!Mm!a#s!Ey#s$f!G_$f;'S!Ey;'S;=`#$i<%l?Ah!Ey?Ah?BY!G_?BY?Mn!Ey?MnO!G_!V#$lP;=`<%l!Ey!V#$zXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[scriptTokens,styleTokens,textareaTokens,endTag,tagStart,commentContent,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:485},tokenPrec:487});function getAttrs(g,n){let r=Object.create(null);for(let $ of g.getChildren(Attribute)){let L=$.getChild(AttributeName),V=$.getChild(AttributeValue)||$.getChild(UnquotedAttributeValue);L&&(r[n.read(L.from,L.to)]=V?V.type.id==AttributeValue?n.read(V.from+1,V.to-1):n.read(V.from,V.to):"")}return r}function findTagName(g,n){let r=g.getChild(TagName);return r?n.read(r.from,r.to):" "}function maybeNest(g,n,r){let $;for(let L of r)if(!L.attrs||L.attrs($||($=getAttrs(g.node.parent.firstChild,n))))return{parser:L.parser};return null}function configureNesting(g=[],n=[]){let r=[],$=[],L=[],V=[];for(let re of g)(re.tag=="script"?r:re.tag=="style"?$:re.tag=="textarea"?L:V).push(re);let oe=n.length?Object.create(null):null;for(let re of n)(oe[re.name]||(oe[re.name]=[])).push(re);return parseMixed((re,ae)=>{let le=re.type.id;if(le==ScriptText)return maybeNest(re,ae,r);if(le==StyleText)return maybeNest(re,ae,$);if(le==TextareaText)return maybeNest(re,ae,L);if(le==Element$1&&V.length){let ue=re.node,de=ue.firstChild,pe=de&&findTagName(de,ae),he;if(pe){for(let _e of V)if(_e.tag==pe&&(!_e.attrs||_e.attrs(he||(he=getAttrs(ue,ae))))){let Oe=ue.lastChild;return{parser:_e.parser,overlay:[{from:de.to,to:Oe.type.id==CloseTag?Oe.from:ue.to}]}}}}if(oe&&le==Attribute){let ue=re.node,de;if(de=ue.firstChild){let pe=oe[ae.read(de.from,de.to)];if(pe)for(let he of pe){if(he.tagName&&he.tagName!=findTagName(ue.parent,ae))continue;let _e=ue.lastChild;if(_e.type.id==AttributeValue){let Oe=_e.from+1,xe=_e.lastChild,$e=_e.to-(xe&&xe.isError?0:1);if($e>Oe)return{parser:he.parser,overlay:[{from:Oe,to:$e}]}}else if(_e.type.id==UnquotedAttributeValue)return{parser:he.parser,overlay:[{from:_e.from,to:_e.to}]}}}}return null})}const descendantOp=94,Unit=1,callee=95,identifier$2=96,VariableName=2,space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],colon=58,parenL=40,underscore=95,bracketL=91,dash=45,period=46,hash=35,percent=37;function isAlpha(g){return g>=65&&g<=90||g>=97&&g<=122||g>=161}function isDigit(g){return g>=48&&g<=57}const identifiers=new ExternalTokenizer((g,n)=>{for(let r=!1,$=0,L=0;;L++){let{next:V}=g;if(isAlpha(V)||V==dash||V==underscore||r&&isDigit(V))!r&&(V!=dash||L>0)&&(r=!0),$===L&&V==dash&&$++,g.advance();else{r&&g.acceptToken(V==parenL?callee:$==2&&n.canShift(VariableName)?VariableName:identifier$2);break}}}),descendant=new ExternalTokenizer(g=>{if(space.includes(g.peek(-1))){let{next:n}=g;(isAlpha(n)||n==underscore||n==hash||n==period||n==bracketL||n==colon||n==dash)&&g.acceptToken(descendantOp)}}),unitToken=new ExternalTokenizer(g=>{if(!space.includes(g.peek(-1))){let{next:n}=g;if(n==percent&&(g.advance(),g.acceptToken(Unit)),isAlpha(n)){do g.advance();while(isAlpha(g.next));g.acceptToken(Unit)}}}),cssHighlighting=styleTags({"AtKeyword import charset namespace keyframes media supports":tags$1.definitionKeyword,"from to selector":tags$1.keyword,NamespaceName:tags$1.namespace,KeyframeName:tags$1.labelName,TagName:tags$1.tagName,ClassName:tags$1.className,PseudoClassName:tags$1.constant(tags$1.className),IdName:tags$1.labelName,"FeatureName PropertyName":tags$1.propertyName,AttributeName:tags$1.attributeName,NumberLiteral:tags$1.number,KeywordQuery:tags$1.keyword,UnaryQueryOp:tags$1.operatorKeyword,"CallTag ValueName":tags$1.atom,VariableName:tags$1.variableName,Callee:tags$1.operatorKeyword,Unit:tags$1.unit,"UniversalSelector NestingSelector":tags$1.definitionOperator,MatchOp:tags$1.compareOperator,"ChildOp SiblingOp, LogicOp":tags$1.logicOperator,BinOp:tags$1.arithmeticOperator,Important:tags$1.modifier,Comment:tags$1.blockComment,ParenthesizedContent:tags$1.special(tags$1.name),ColorLiteral:tags$1.color,StringLiteral:tags$1.string,":":tags$1.punctuation,"PseudoOp #":tags$1.derefOperator,"; ,":tags$1.separator,"( )":tags$1.paren,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace}),spec_callee={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:134},spec_AtKeyword={__proto__:null,"@import":114,"@media":138,"@charset":142,"@namespace":146,"@keyframes":152,"@supports":164},spec_identifier={__proto__:null,not:128,only:128,from:158,to:160},parser=LRParser.deserialize({version:14,states:"7WQYQ[OOO#_Q[OOOOQP'#Cd'#CdOOQP'#Cc'#CcO#fQ[O'#CfO$YQXO'#CaO$aQ[O'#ChO$lQ[O'#DPO$qQ[O'#DTOOQP'#Ed'#EdO$vQdO'#DeO%bQ[O'#DrO$vQdO'#DtO%sQ[O'#DvO&OQ[O'#DyO&TQ[O'#EPO&cQ[O'#EROOQS'#Ec'#EcOOQS'#ET'#ETQYQ[OOO&jQXO'#CdO'_QWO'#DaO'dQWO'#EjO'oQ[O'#EjQOQWOOOOQP'#Cg'#CgOOQP,59Q,59QO#fQ[O,59QO'yQ[O'#EWO(eQWO,58{O(mQ[O,59SO$lQ[O,59kO$qQ[O,59oO'yQ[O,59sO'yQ[O,59uO'yQ[O,59vO(xQ[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO)PQWO,59SO)UQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO)ZQ`O,59oOOQS'#Cp'#CpO$vQdO'#CqO)cQvO'#CsO*pQtO,5:POOQO'#Cx'#CxO)UQWO'#CwO+UQWO'#CyOOQS'#Eg'#EgOOQO'#Dh'#DhO+ZQ[O'#DoO+iQWO'#EkO&TQ[O'#DmO+wQWO'#DpOOQO'#El'#ElO(hQWO,5:^O+|QpO,5:`OOQS'#Dx'#DxO,UQWO,5:bO,ZQ[O,5:bOOQO'#D{'#D{O,cQWO,5:eO,hQWO,5:kO,pQWO,5:mOOQS-E8R-E8RO$vQdO,59{O,xQ[O'#EYO-VQWO,5;UO-VQWO,5;UOOQP1G.l1G.lO-|QXO,5:rOOQO-E8U-E8UOOQS1G.g1G.gOOQP1G.n1G.nO)PQWO1G.nO)UQWO1G.nOOQP1G/V1G/VO.ZQ`O1G/ZO.tQXO1G/_O/[QXO1G/aO/rQXO1G/bO0YQWO,59zO0_Q[O'#DOO0fQdO'#CoOOQP1G/Z1G/ZO$vQdO1G/ZO0mQpO,59]OOQS,59_,59_O$vQdO,59aO0uQWO1G/kOOQS,59c,59cO0zQ!bO,59eO1SQWO'#DhO1_QWO,5:TO1dQWO,5:ZO&TQ[O,5:VO&TQ[O'#EZO1lQWO,5;VO1wQWO,5:XO'yQ[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O2YQWO1G/|O2_QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XO2mQtO1G/gOOQO,5:t,5:tO3TQ[O,5:tOOQO-E8W-E8WO3bQWO1G0pOOQP7+$Y7+$YOOQP7+$u7+$uO$vQdO7+$uOOQS1G/f1G/fO3mQXO'#EiO3tQWO,59jO3yQtO'#EUO4nQdO'#EfO4xQWO,59ZO4}QpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO5VQWO1G/PO$vQdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO5[QWO,5:uOOQO-E8X-E8XO5jQXO1G/vOOQS7+%h7+%hO5qQYO'#CsO(hQWO'#E[O5yQdO,5:hOOQS,5:h,5:hO6XQtO'#EXO$vQdO'#EXO7VQdO7+%ROOQO7+%R7+%ROOQO1G0`1G0`O7jQpO<<HaO7rQWO,5;TOOQP1G/U1G/UOOQS-E8S-E8SO$vQdO'#EVO7zQWO,5;QOOQT1G.u1G.uOOQP<<Ha<<HaOOQS7+$k7+$kO8SQdO7+%ZOOQO7+%b7+%bOOQS,5:v,5:vOOQS-E8Y-E8YOOQS1G0S1G0SO8ZQtO,5:sOOQS-E8V-E8VOOQO<<Hm<<HmOOQPAN={AN={O9XQdO,5:qOOQO-E8T-E8TOOQO<<Hu<<Hu",stateData:"9i~O#UOSROS~OUXOXXO]UO^UOtVOxWO!Y`O!ZYO!gZO!i[O!k]O!n^O!t_O#SQO#XSO~OQeOUXOXXO]UO^UOtVOxWO!Y`O!ZYO!gZO!i[O!k]O!n^O!t_O#SdO#XSO~O#P#^P~P!ZO#SiO~O]nO^nOplOtoOxpO|qO!PsO#QrO#XkO~O!RtO~P#kO`zO#RwO#SvO~O#S{O~O#S}O~OQ!WOb!QOf!WOh!WOn!VO#R!TO#S!PO#[!RO~Ob!YO!b![O!e!]O#S!XO!R#_P~Oh!bOn!VO#S!aO~O#S!dO~Ob!YO!b![O!e!]O#S!XO~O!W#_P~P%bO]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#QWX#XWX~O]!iO~O!W!jO#P#^X!Q#^X~O#P#^X!Q#^X~P!ZOUXOXXO]UO^UOtVOxWO#SQO#XSO~OplO!RtO~O`!sO#RwO#SvO~O!Q#^P~P!ZOb!zO~Ob!{O~Ov!|Oz!}O~OP#PObgXjgX!WgX!bgX!egX#SgXagXQgXfgXhgXngXpgX!VgX#PgX#RgX#[gXvgX!QgX~Ob!YOj#QO!b![O!e!]O#S!XO!W#_P~Ob#TO~Ob!YO!b![O!e!]O#S#UO~Op#YO!`#XO!R#_X!W#_X~Ob#]O~Oj#QO!W#_O~O!W#`O~Oh#aOn!VO~O!R#bO~O!RtO!`#XO~O!RtO!W#eO~O!W!|X#P!|X!Q!|X~P!ZO!W!jO#P#^a!Q#^a~O]nO^nOtoOxpO|qO!PsO#QrO#XkO~Op!za!R!zaa!za~P-bOv#lOz#mO~O]nO^nOtoOxpO#XkO~Op{i|{i!P{i!R{i#Q{ia{i~P.cOp}i|}i!P}i!R}i#Q}ia}i~P.cOp!Oi|!Oi!P!Oi!R!Oi#Q!Oia!Oi~P.cO!Q#nO~Oa#]P~P'yOa#YP~P$vOa#uOj#QO~O!W#wO~Oh#xOo#xO~O]!^Xa![X!`![X~O]#yO~Oa#zO!`#XO~Op#YO!R#_a!W#_a~O!`#XOp!aa!R!aa!W!aaa!aa~O!W$PO~O!Q$TO!q$RO!r$RO#[$QO~Oj#QOp$VO!V$XO!W!Ti#P!Ti!Q!Ti~P$vO!W!|a#P!|a!Q!|a~P!ZO!W!jO#P#^i!Q#^i~Oa#]X~P#kOa$]O~Oj#QOQ!xXa!xXb!xXf!xXh!xXn!xXp!xX#R!xX#S!xX#[!xX~Op$_Oa#YX~P$vOa$aO~Oj#QOv$bO~Oa$cO~O!`#XOp!}a!R!}a!W!}a~Oa$eO~P-bOP#PO!RgX~O!Q$hO!q$RO!r$RO#[$QO~Oj#QOQ!{Xb!{Xf!{Xh!{Xn!{Xp!{X!V!{X!W!{X#P!{X#R!{X#S!{X#[!{X!Q!{X~Op$VO!V$kO!W!Tq#P!Tq!Q!Tq~P$vOj#QOv$lO~OplOa#]a~Op$_Oa#Ya~Oa$oO~P$vOj#QOQ!{ab!{af!{ah!{an!{ap!{a!V!{a!W!{a#P!{a#R!{a#S!{a#[!{a!Q!{a~Oa!yap!ya~P$vOo#[j!Pj~",goto:",`#aPPPPP#bP#k#zP#k$Z#kPP$aPPP$g$p$pP%SP$pP$p%j%|PPP&f&l#kP&rP#kP&xP#kP#k#kPPP'O'b'oPP#bPP'v'v(Q'vP'vP'v'vP#bP#bP#bP(T#bP(W(ZPP#bP#bP(^(m({)R)])c)m)sPPPPPP)y*SP*o*rP+h+k+q+z_aOPcgt!j#hkXOPcglqrst!j!z#]#hkROPcglqrst!j!z#]#hQjSR!mkQxUR!qnQ!qzQ#S!UR#k!sq!WY[!Q!i!{!}#Q#f#m#r#y$V$W$_$d$mp!WY[!Q!i!{!}#Q#f#m#r#y$V$W$_$d$mT$R#b$Sq!UY[!Q!i!{!}#Q#f#m#r#y$V$W$_$d$mp!WY[!Q!i!{!}#Q#f#m#r#y$V$W$_$d$mQ!b]R#a!cQyUR!rnQ!qyR#k!rQ|VR!toQ!OWR!upQuTQ!pmQ#^!_Q#d!fQ#e!gR$f$RSfPtQ!lgQ#g!jR$Y#hZePgt!j#ha!^Z_`!S!Y![#X#YR#V!YR!c]R!e^R#c!eQcOSgPtU!hcg#hR#h!jQ#r!{U$^#r$d$mQ$d#yR$m$_Q$`#rR$n$`QmTS!om$[R$[#oQ$W#fR$j$WQ!kfS#i!k#jR#j!lQ#Z!ZR#}#ZQ$S#bR$g$S_bOPcgt!j#h^TOPcgt!j#hQ!nlQ!vqQ!wrQ!xsQ#o!zR$O#]R#s!{Q!SYQ!`[Q#O!QQ#f!i[#q!{#r#y$_$d$mQ#t!}Q#v#QS$U#f$WQ$Z#mR$i$VR#p!zQhPR!ytQ!_ZQ!g`R#R!SU!ZZ`!SQ!f_Q#W!YQ#[![Q#{#XR#|#Y",nodeNames:"\u26A0 Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList from to SupportsStatement supports AtRule Styles",maxTerm:108,nodeProps:[["openedBy",17,"(",48,"{"],["closedBy",18,")",49,"}"]],propSources:[cssHighlighting],skippedNodes:[0,3],repeatNodeCount:8,tokenData:"Lq~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Cu![!]Dp!]!^El!^!_$}!_!`E}!`!aF`!a!b$}!b!cG[!c!}$}!}#OHt#O#P$}#P#QIV#Q#R6d#R#T$}#T#UIh#U#c$}#c#dJy#d#o$}#o#pK`#p#q6d#q#rKq#r#sLS#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`Lk<%lO$}W%QSOy%^z;'S%^;'S;=`%o<%lO%^W%cSoWOy%^z;'S%^;'S;=`%o<%lO%^W%rP;=`<%l%^~%zh#U~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#U~oWOX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^^)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^^)sUoWOy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^^*[UoWOy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^^*sUoWOy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^^+[UoWOy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^^+sUoWOy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^^,[UoWOy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^^,sUoWOy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^^-[UoWOy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^^-uS!VUoWOy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.R_/zYtPOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^^0oYoWOy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^^1dYoWOy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^^2ZYfUoWOy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^^3QYfUoWOy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^^3uYoWOy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^^4lYfUoWOy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^^5aYoWOy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^^6WSfUoWOy%^z;'S%^;'S;=`%o<%lO%^Y6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^Y7QSzQoWOy%^z;'S%^;'S;=`%o<%lO%^X7cSXPOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7o_9cSbVOy%^z;'S%^;'S;=`%o<%lO%^~9tOa~_9{UUPjSOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^_:fWjS!PPOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^^;TUoWOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^^;nYoW#[UOy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^^<cYoWOy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^^=WUoWOy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^^=qUoW#[UOy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^^>[[oW#[UOy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^_?VSpVOy%^z;'S%^;'S;=`%o<%lO%^^?hWjSOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^_@VU#XPOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjSOy%^z{@}{;'S%^;'S;=`%o<%lO%^~ASUoWOy@}yzAfz{Bm{;'S@};'S;=`Co<%lO@}~AiTOzAfz{Ax{;'SAf;'S;=`Bg<%lOAf~A{VOzAfz{Ax{!PAf!P!QBb!Q;'SAf;'S;=`Bg<%lOAf~BgOR~~BjP;=`<%lAf~BrWoWOy@}yzAfz{Bm{!P@}!P!QC[!Q;'S@};'S;=`Co<%lO@}~CcSoWR~Oy%^z;'S%^;'S;=`%o<%lO%^~CrP;=`<%l@}^Cz[#[UOy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^XDuU]POy%^z![%^![!]EX!];'S%^;'S;=`%o<%lO%^XE`S^PoWOy%^z;'S%^;'S;=`%o<%lO%^_EqS!WVOy%^z;'S%^;'S;=`%o<%lO%^YFSSzQOy%^z;'S%^;'S;=`%o<%lO%^XFeU|POy%^z!`%^!`!aFw!a;'S%^;'S;=`%o<%lO%^XGOS|PoWOy%^z;'S%^;'S;=`%o<%lO%^XG_WOy%^z!c%^!c!}Gw!}#T%^#T#oGw#o;'S%^;'S;=`%o<%lO%^XHO[!YPoWOy%^z}%^}!OGw!O!Q%^!Q![Gw![!c%^!c!}Gw!}#T%^#T#oGw#o;'S%^;'S;=`%o<%lO%^XHySxPOy%^z;'S%^;'S;=`%o<%lO%^^I[SvUOy%^z;'S%^;'S;=`%o<%lO%^XIkUOy%^z#b%^#b#cI}#c;'S%^;'S;=`%o<%lO%^XJSUoWOy%^z#W%^#W#XJf#X;'S%^;'S;=`%o<%lO%^XJmS!`PoWOy%^z;'S%^;'S;=`%o<%lO%^XJ|UOy%^z#f%^#f#gJf#g;'S%^;'S;=`%o<%lO%^XKeS!RPOy%^z;'S%^;'S;=`%o<%lO%^_KvS!QVOy%^z;'S%^;'S;=`%o<%lO%^ZLXU!PPOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^WLnP;=`<%l$}",tokenizers:[descendant,unitToken,identifiers,0,1,2,3],topRules:{StyleSheet:[0,4],Styles:[1,84]},specialized:[{term:95,get:g=>spec_callee[g]||-1},{term:56,get:g=>spec_AtKeyword[g]||-1},{term:96,get:g=>spec_identifier[g]||-1}],tokenPrec:1123});let _properties=null;function properties(){if(!_properties&&typeof document=="object"&&document.body){let{style:g}=document.body,n=[],r=new Set;for(let $ in g)$!="cssText"&&$!="cssFloat"&&typeof g[$]=="string"&&(/[A-Z]/.test($)&&($=$.replace(/[A-Z]/g,L=>"-"+L.toLowerCase())),r.has($)||(n.push($),r.add($)));_properties=n.sort().map($=>({type:"property",label:$}))}return _properties||[]}const pseudoClasses=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(g=>({type:"class",label:g})),values=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(g=>({type:"keyword",label:g})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(g=>({type:"constant",label:g}))),tags=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(g=>({type:"type",label:g})),identifier$1=/^(\w[\w-]*|-\w[\w-]*|)$/,variable=/^-(-[\w-]*)?$/;function isVarArg(g,n){var r;if((g.name=="("||g.type.isError)&&(g=g.parent||g),g.name!="ArgList")return!1;let $=(r=g.parent)===null||r===void 0?void 0:r.firstChild;return($==null?void 0:$.name)!="Callee"?!1:n.sliceString($.from,$.to)=="var"}const VariablesByNode=new NodeWeakMap,declSelector=["Declaration"];function astTop(g){for(let n=g;;){if(n.type.isTop)return n;if(!(n=n.parent))return g}}function variableNames(g,n){if(n.to-n.from>4096){let r=VariablesByNode.get(n);if(r)return r;let $=[],L=new Set,V=n.cursor(IterMode.IncludeAnonymous);if(V.firstChild())do for(let oe of variableNames(g,V.node))L.has(oe.label)||(L.add(oe.label),$.push(oe));while(V.nextSibling());return VariablesByNode.set(n,$),$}else{let r=[],$=new Set;return n.cursor().iterate(L=>{var V;if(L.name=="VariableName"&&L.matchContext(declSelector)&&((V=L.node.nextSibling)===null||V===void 0?void 0:V.name)==":"){let oe=g.sliceString(L.from,L.to);$.has(oe)||($.add(oe),r.push({label:oe,type:"variable"}))}}),r}}const cssCompletionSource=g=>{let{state:n,pos:r}=g,$=syntaxTree(n).resolveInner(r,-1),L=$.type.isError&&$.from==$.to-1&&n.doc.sliceString($.from,$.to)=="-";if($.name=="PropertyName"||(L||$.name=="TagName")&&/^(Block|Styles)$/.test($.resolve($.to).name))return{from:$.from,options:properties(),validFor:identifier$1};if($.name=="ValueName")return{from:$.from,options:values,validFor:identifier$1};if($.name=="PseudoClassName")return{from:$.from,options:pseudoClasses,validFor:identifier$1};if($.name=="VariableName"||(g.explicit||L)&&isVarArg($,n.doc))return{from:$.name=="VariableName"?$.from:r,options:variableNames(n.doc,astTop($)),validFor:variable};if($.name=="TagName"){for(let{parent:re}=$;re;re=re.parent)if(re.name=="Block")return{from:$.from,options:properties(),validFor:identifier$1};return{from:$.from,options:tags,validFor:identifier$1}}if(!g.explicit)return null;let V=$.resolve(r),oe=V.childBefore(r);return oe&&oe.name==":"&&V.name=="PseudoClassSelector"?{from:r,options:pseudoClasses,validFor:identifier$1}:oe&&oe.name==":"&&V.name=="Declaration"||V.name=="ArgList"?{from:r,options:values,validFor:identifier$1}:V.name=="Block"||V.name=="Styles"?{from:r,options:properties(),validFor:identifier$1}:null},cssLanguage=LRLanguage.define({name:"css",parser:parser.configure({props:[indentNodeProp.add({Declaration:continuedIndent()}),foldNodeProp.add({Block:foldInside})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function css(){return new LanguageSupport(cssLanguage,cssLanguage.data.of({autocomplete:cssCompletionSource}))}const Targets=["_blank","_self","_top","_parent"],Charsets=["ascii","utf-8","utf-16","latin1","latin1"],Methods=["get","post","put","delete"],Encs=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Bool=["true","false"],S$1={},Tags={a:{attrs:{href:null,ping:null,type:null,media:null,target:Targets,hreflang:null}},abbr:S$1,address:S$1,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:S$1,aside:S$1,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:S$1,base:{attrs:{href:null,target:Targets}},bdi:S$1,bdo:S$1,blockquote:{attrs:{cite:null}},body:S$1,br:S$1,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Encs,formmethod:Methods,formnovalidate:["novalidate"],formtarget:Targets,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:S$1,center:S$1,cite:S$1,code:S$1,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:S$1,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:S$1,div:S$1,dl:S$1,dt:S$1,em:S$1,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:S$1,figure:S$1,footer:S$1,form:{attrs:{action:null,name:null,"accept-charset":Charsets,autocomplete:["on","off"],enctype:Encs,method:Methods,novalidate:["novalidate"],target:Targets}},h1:S$1,h2:S$1,h3:S$1,h4:S$1,h5:S$1,h6:S$1,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:S$1,hgroup:S$1,hr:S$1,html:{attrs:{manifest:null}},i:S$1,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Encs,formmethod:Methods,formnovalidate:["novalidate"],formtarget:Targets,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:S$1,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:S$1,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:S$1,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Charsets,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:S$1,noscript:S$1,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:S$1,param:{attrs:{name:null,value:null}},pre:S$1,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:S$1,rt:S$1,ruby:S$1,samp:S$1,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Charsets}},section:S$1,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:S$1,source:{attrs:{src:null,type:null,media:null}},span:S$1,strong:S$1,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:S$1,summary:S$1,sup:S$1,table:S$1,tbody:S$1,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:S$1,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:S$1,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:S$1,time:{attrs:{datetime:null}},title:S$1,tr:S$1,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:S$1,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:S$1},GlobalAttrs={accesskey:null,class:null,contenteditable:Bool,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Bool,autocorrect:Bool,autocapitalize:Bool,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Bool,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Bool,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Bool,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Bool,"aria-hidden":Bool,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Bool,"aria-multiselectable":Bool,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Bool,"aria-relevant":null,"aria-required":Bool,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},eventAttributes="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(g=>"on"+g);for(let g of eventAttributes)GlobalAttrs[g]=null;class Schema$1{constructor(n,r){this.tags=Object.assign(Object.assign({},Tags),n),this.globalAttrs=Object.assign(Object.assign({},GlobalAttrs),r),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}Schema$1.default=new Schema$1;function elementName(g,n,r=g.length){if(!n)return"";let $=n.firstChild,L=$&&$.getChild("TagName");return L?g.sliceString(L.from,Math.min(L.to,r)):""}function findParentElement(g,n=!1){for(let r=g.parent;r;r=r.parent)if(r.name=="Element")if(n)n=!1;else return r;return null}function allowedChildren(g,n,r){let $=r.tags[elementName(g,findParentElement(n,!0))];return($==null?void 0:$.children)||r.allTags}function openTags(g,n){let r=[];for(let $=n;$=findParentElement($);){let L=elementName(g,$);if(L&&$.lastChild.name=="CloseTag")break;L&&r.indexOf(L)<0&&(n.name=="EndTag"||n.from>=$.firstChild.to)&&r.push(L)}return r}const identifier=/^[:\-\.\w\u00b7-\uffff]*$/;function completeTag(g,n,r,$,L){let V=/\s*>/.test(g.sliceDoc(L,L+5))?"":">";return{from:$,to:L,options:allowedChildren(g.doc,r,n).map(oe=>({label:oe,type:"type"})).concat(openTags(g.doc,r).map((oe,re)=>({label:"/"+oe,apply:"/"+oe+V,type:"type",boost:99-re}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function completeCloseTag(g,n,r,$){let L=/\s*>/.test(g.sliceDoc($,$+5))?"":">";return{from:r,to:$,options:openTags(g.doc,n).map((V,oe)=>({label:V,apply:V+L,type:"type",boost:99-oe})),validFor:identifier}}function completeStartTag(g,n,r,$){let L=[],V=0;for(let oe of allowedChildren(g.doc,r,n))L.push({label:"<"+oe,type:"type"});for(let oe of openTags(g.doc,r))L.push({label:"</"+oe+">",type:"type",boost:99-V++});return{from:$,to:$,options:L,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function completeAttrName(g,n,r,$,L){let V=findParentElement(r),oe=V?n.tags[elementName(g.doc,V)]:null,re=oe&&oe.attrs?Object.keys(oe.attrs):[],ae=oe&&oe.globalAttrs===!1?re:re.length?re.concat(n.globalAttrNames):n.globalAttrNames;return{from:$,to:L,options:ae.map(le=>({label:le,type:"property"})),validFor:identifier}}function completeAttrValue(g,n,r,$,L){var V;let oe=(V=r.parent)===null||V===void 0?void 0:V.getChild("AttributeName"),re=[],ae;if(oe){let le=g.sliceDoc(oe.from,oe.to),ue=n.globalAttrs[le];if(!ue){let de=findParentElement(r),pe=de?n.tags[elementName(g.doc,de)]:null;ue=(pe==null?void 0:pe.attrs)&&pe.attrs[le]}if(ue){let de=g.sliceDoc($,L).toLowerCase(),pe='"',he='"';/^['"]/.test(de)?(ae=de[0]=='"'?/^[^"]*$/:/^[^']*$/,pe="",he=g.sliceDoc(L,L+1)==de[0]?"":de[0],de=de.slice(1),$++):ae=/^[^\s<>='"]*$/;for(let _e of ue)re.push({label:_e,apply:pe+_e+he,type:"constant"})}}return{from:$,to:L,options:re,validFor:ae}}function htmlCompletionFor(g,n){let{state:r,pos:$}=n,L=syntaxTree(r).resolveInner($),V=L.resolve($,-1);for(let oe=$,re;L==V&&(re=V.childBefore(oe));){let ae=re.lastChild;if(!ae||!ae.type.isError||ae.from<ae.to)break;L=V=re,oe=ae.from}return V.name=="TagName"?V.parent&&/CloseTag$/.test(V.parent.name)?completeCloseTag(r,V,V.from,$):completeTag(r,g,V,V.from,$):V.name=="StartTag"?completeTag(r,g,V,$,$):V.name=="StartCloseTag"||V.name=="IncompleteCloseTag"?completeCloseTag(r,V,$,$):n.explicit&&(V.name=="OpenTag"||V.name=="SelfClosingTag")||V.name=="AttributeName"?completeAttrName(r,g,V,V.name=="AttributeName"?V.from:$,$):V.name=="Is"||V.name=="AttributeValue"||V.name=="UnquotedAttributeValue"?completeAttrValue(r,g,V,V.name=="Is"?$:V.from,$):n.explicit&&(L.name=="Element"||L.name=="Text"||L.name=="Document")?completeStartTag(r,g,V,$):null}function htmlCompletionSourceWith(g){let{extraTags:n,extraGlobalAttributes:r}=g,$=r||n?new Schema$1(n,r):Schema$1.default;return L=>htmlCompletionFor($,L)}const defaultNesting=[{tag:"script",attrs:g=>g.type=="text/typescript"||g.lang=="ts",parser:typescriptLanguage.parser},{tag:"script",attrs:g=>g.type=="text/babel"||g.type=="text/jsx",parser:jsxLanguage.parser},{tag:"script",attrs:g=>g.type=="text/typescript-jsx",parser:tsxLanguage.parser},{tag:"script",attrs(g){return!g.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(g.type)},parser:javascriptLanguage.parser},{tag:"style",attrs(g){return(!g.lang||g.lang=="css")&&(!g.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(g.type))},parser:cssLanguage.parser}],defaultAttrs=[{name:"style",parser:cssLanguage.parser.configure({top:"Styles"})}].concat(eventAttributes.map(g=>({name:g,parser:javascriptLanguage.parser}))),htmlPlain=LRLanguage.define({name:"html",parser:parser$1.configure({props:[indentNodeProp.add({Element(g){let n=/^(\s*)(<\/)?/.exec(g.textAfter);return g.node.to<=g.pos+n[0].length?g.continue():g.lineIndent(g.node.from)+(n[2]?0:g.unit)},"OpenTag CloseTag SelfClosingTag"(g){return g.column(g.node.from)+g.unit},Document(g){if(g.pos+/\s*/.exec(g.textAfter)[0].length<g.node.to)return g.continue();let n=null,r;for(let $=g.node;;){let L=$.lastChild;if(!L||L.name!="Element"||L.to!=$.to)break;n=$=L}return n&&!((r=n.lastChild)&&(r.name=="CloseTag"||r.name=="SelfClosingTag"))?g.lineIndent(n.from)+g.unit:null}}),foldNodeProp.add({Element(g){let n=g.firstChild,r=g.lastChild;return!n||n.name!="OpenTag"?null:{from:n.to,to:r.name=="CloseTag"?r.from:g.to}}}),bracketMatchingHandle.add({"OpenTag CloseTag":g=>g.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),htmlLanguage=htmlPlain.configure({wrap:configureNesting(defaultNesting,defaultAttrs)});function html(g={}){let n="",r;g.matchClosingTags===!1&&(n="noMatch"),g.selfClosingTags===!0&&(n=(n?n+" ":"")+"selfClosing"),(g.nestedLanguages&&g.nestedLanguages.length||g.nestedAttributes&&g.nestedAttributes.length)&&(r=configureNesting((g.nestedLanguages||[]).concat(defaultNesting),(g.nestedAttributes||[]).concat(defaultAttrs)));let $=r?htmlPlain.configure({wrap:r,dialect:n}):n?htmlLanguage.configure({dialect:n}):htmlLanguage;return new LanguageSupport($,[htmlLanguage.data.of({autocomplete:htmlCompletionSourceWith(g)}),g.autoCloseTags!==!1?autoCloseTags:[],javascript().support,css().support])}let selfClosers,autoCloseTags,chalky,coral,cyan,invalid,ivory,stone,malibu,sage,whiskey,violet,darkBackground,highlightBackground,background,tooltipBackground,selection,cursor,oneDarkTheme,oneDarkHighlightStyle,oneDark,__default__$Z,__vite_glob_1_1$1,triggerEvent;selfClosers=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),autoCloseTags=EditorView.inputHandler.of((g,n,r,$)=>{if(g.composing||g.state.readOnly||n!=r||$!=">"&&$!="/"||!htmlLanguage.isActiveAt(g.state,n,-1))return!1;let{state:L}=g,V=L.changeByRange(oe=>{var re,ae,le;let{head:ue}=oe,de=syntaxTree(L).resolveInner(ue,-1),pe;if((de.name=="TagName"||de.name=="StartTag")&&(de=de.parent),$==">"&&de.name=="OpenTag"){if(((ae=(re=de.parent)===null||re===void 0?void 0:re.lastChild)===null||ae===void 0?void 0:ae.name)!="CloseTag"&&(pe=elementName(L.doc,de.parent,ue))&&!selfClosers.has(pe)){let he=g.state.doc.sliceString(ue,ue+1)===">",_e=`${he?"":">"}</${pe}>`;return{range:EditorSelection.cursor(ue+1),changes:{from:ue+(he?1:0),insert:_e}}}}else if($=="/"&&de.name=="OpenTag"){let he=de.parent,_e=he==null?void 0:he.parent;if(he.from==ue-1&&((le=_e.lastChild)===null||le===void 0?void 0:le.name)!="CloseTag"&&(pe=elementName(L.doc,_e,ue))&&!selfClosers.has(pe)){let Oe=g.state.doc.sliceString(ue,ue+1)===">",xe=`/${pe}${Oe?"":">"}`,$e=ue+xe.length+(Oe?1:0);return{range:EditorSelection.cursor($e),changes:{from:ue,insert:xe}}}}return{range:oe}});return V.changes.empty?!1:(g.dispatch(V,{userEvent:"input.type",scrollIntoView:!0}),!0)}),chalky="#e5c07b",coral="#e06c75",cyan="#56b6c2",invalid="#ffffff",ivory="#abb2bf",stone="#7d8799",malibu="#61afef",sage="#98c379",whiskey="#d19a66",violet="#c678dd",darkBackground="#21252b",highlightBackground="#2c313a",background="#282c34",tooltipBackground="#353a42",selection="#3E4451",cursor="#528bff",oneDarkTheme=EditorView.theme({"&":{color:ivory,backgroundColor:background},".cm-content":{caretColor:cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:cursor},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:selection},".cm-panels":{backgroundColor:darkBackground,color:ivory},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:background,color:stone,border:"none"},".cm-activeLineGutter":{backgroundColor:highlightBackground},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tooltipBackground,borderBottomColor:tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:highlightBackground,color:ivory}}},{dark:!0}),oneDarkHighlightStyle=HighlightStyle.define([{tag:tags$1.keyword,color:violet},{tag:[tags$1.name,tags$1.deleted,tags$1.character,tags$1.propertyName,tags$1.macroName],color:coral},{tag:[tags$1.function(tags$1.variableName),tags$1.labelName],color:malibu},{tag:[tags$1.color,tags$1.constant(tags$1.name),tags$1.standard(tags$1.name)],color:whiskey},{tag:[tags$1.definition(tags$1.name),tags$1.separator],color:ivory},{tag:[tags$1.typeName,tags$1.className,tags$1.number,tags$1.changed,tags$1.annotation,tags$1.modifier,tags$1.self,tags$1.namespace],color:chalky},{tag:[tags$1.operator,tags$1.operatorKeyword,tags$1.url,tags$1.escape,tags$1.regexp,tags$1.link,tags$1.special(tags$1.string)],color:cyan},{tag:[tags$1.meta,tags$1.comment],color:stone},{tag:tags$1.strong,fontWeight:"bold"},{tag:tags$1.emphasis,fontStyle:"italic"},{tag:tags$1.strikethrough,textDecoration:"line-through"},{tag:tags$1.link,color:stone,textDecoration:"underline"},{tag:tags$1.heading,fontWeight:"bold",color:coral},{tag:[tags$1.atom,tags$1.bool,tags$1.special(tags$1.variableName)],color:whiskey},{tag:[tags$1.processingInstruction,tags$1.string,tags$1.inserted],color:sage},{tag:tags$1.invalid,color:invalid}]),oneDark=[oneDarkTheme,syntaxHighlighting(oneDarkHighlightStyle)],__default__$Z=defineComponent({name:"EvCode"}),_sfc_main$1n=defineComponent({...__default__$Z,props:{code:{type:String,require:!0,default:""},type:{type:String,default:"javascript"}},emits:["change","update:code"],setup(g,{emit:n}){const r=g,{code:$,type:L}=toRefs(r),V=[oneDark,(()=>L.value=="javascript"?javascript():L.value=="html"?html():javascript())()],oe=re=>{n("change",re),n("update:code",re)};return(re,ae)=>(openBlock(),createBlock(unref(T$1),mergeProps({"model-value":unref($),placeholder:"Code gose here...",style:{height:"400px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:V},re.$attrs,{onChange:oe}),null,16,["model-value"]))}}),__vite_glob_1_1$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$1n},Symbol.toStringTag,{value:"Module"})),triggerEvent=function(g,n,...r){let $;n.includes("mouse")||n.includes("click")?$="MouseEvents":n.includes("key")?$="KeyboardEvent":$="HTMLEvents";const L=document.createEvent($);return L.initEvent(n,...r),g.dispatchEvent(L),g},composeEventHandlers=(g,n,{checkForDefaultPrevented:r=!0}={})=>$=>{const L=g==null?void 0:g($);if(r===!1||!L)return n==null?void 0:n($)},whenMouse=g=>n=>n.pointerType==="mouse"?g(n):void 0;var __defProp$9=Object.defineProperty,__defProps$6=Object.defineProperties,__getOwnPropDescs$6=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$b=Object.getOwnPropertySymbols,__hasOwnProp$b=Object.prototype.hasOwnProperty,__propIsEnum$b=Object.prototype.propertyIsEnumerable,__defNormalProp$9=(g,n,r)=>n in g?__defProp$9(g,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):g[n]=r,__spreadValues$9=(g,n)=>{for(var r in n||(n={}))__hasOwnProp$b.call(n,r)&&__defNormalProp$9(g,r,n[r]);if(__getOwnPropSymbols$b)for(var r of __getOwnPropSymbols$b(n))__propIsEnum$b.call(n,r)&&__defNormalProp$9(g,r,n[r]);return g},__spreadProps$6=(g,n)=>__defProps$6(g,__getOwnPropDescs$6(n));computedEager=function(n,r){var $;const L=shallowRef();return watchEffect(()=>{L.value=n()},__spreadProps$6(__spreadValues$9({},r),{flush:($=r==null?void 0:r.flush)!=null?$:"sync"})),readonly(L)};var _a;let isString$2,noop$4,isIOS;isClient=typeof window<"u",isBoolean$2=g=>typeof g=="boolean",isNumber$2=g=>typeof g=="number",isString$2=g=>typeof g=="string",noop$4=()=>{},isIOS=isClient&&((_a=window==null?void 0:window.navigator)==null?void 0:_a.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(g){return typeof g=="function"?g():unref(g)}function createFilterWrapper(g,n){function r(...$){return new Promise((L,V)=>{Promise.resolve(g(()=>n.apply(this,$),{fn:n,thisArg:this,args:$})).then(L).catch(V)})}return r}function debounceFilter(g,n={}){let r,$,L=noop$4;const V=oe=>{clearTimeout(oe),L(),L=noop$4};return oe=>{const re=resolveUnref(g),ae=resolveUnref(n.maxWait);return r&&V(r),re<=0||ae!==void 0&&ae<=0?($&&(V($),$=null),Promise.resolve(oe())):new Promise((le,ue)=>{L=n.rejectOnCancel?ue:le,ae&&!$&&($=setTimeout(()=>{r&&V(r),$=null,le(oe())},ae)),r=setTimeout(()=>{$&&V($),$=null,le(oe())},re)})}}function identity$1(g){return g}function tryOnScopeDispose(g){return getCurrentScope()?(onScopeDispose(g),!0):!1}function useDebounceFn(g,n=200,r={}){return createFilterWrapper(debounceFilter(n,r),g)}function refDebounced(g,n=200,r={}){const $=ref(g.value),L=useDebounceFn(()=>{$.value=g.value},n,r);return watch(g,()=>L()),$}function tryOnMounted(g,n=!0){getCurrentInstance()?onMounted(g):n?g():nextTick(g)}useTimeoutFn=function(n,r,$={}){const{immediate:L=!0}=$,V=ref(!1);let oe=null;function re(){oe&&(clearTimeout(oe),oe=null)}function ae(){V.value=!1,re()}function le(...ue){re(),V.value=!0,oe=setTimeout(()=>{V.value=!1,oe=null,n(...ue)},resolveUnref(r))}return L&&(V.value=!0,isClient&&le()),tryOnScopeDispose(ae),{isPending:readonly(V),start:le,stop:ae}};function unrefElement(g){var n;const r=resolveUnref(g);return(n=r==null?void 0:r.$el)!=null?n:r}const defaultWindow=isClient?window:void 0,defaultDocument=isClient?window.document:void 0;useEventListener=function(...n){let r,$,L,V;if(isString$2(n[0])||Array.isArray(n[0])?([$,L,V]=n,r=defaultWindow):[r,$,L,V]=n,!r)return noop$4;Array.isArray($)||($=[$]),Array.isArray(L)||(L=[L]);const oe=[],re=()=>{oe.forEach(de=>de()),oe.length=0},ae=(de,pe,he,_e)=>(de.addEventListener(pe,he,_e),()=>de.removeEventListener(pe,he,_e)),le=watch(()=>[unrefElement(r),resolveUnref(V)],([de,pe])=>{re(),de&&oe.push(...$.flatMap(he=>L.map(_e=>ae(de,he,_e,pe))))},{immediate:!0,flush:"post"}),ue=()=>{le(),re()};return tryOnScopeDispose(ue),ue};let _iOSWorkaround=!1;function onClickOutside(g,n,r={}){const{window:$=defaultWindow,ignore:L=[],capture:V=!0,detectIframe:oe=!1}=r;if(!$)return;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from($.document.body.children).forEach(ue=>ue.addEventListener("click",noop$4)));let re=!0;const ae=ue=>L.some(de=>{if(typeof de=="string")return Array.from($.document.querySelectorAll(de)).some(pe=>pe===ue.target||ue.composedPath().includes(pe));{const pe=unrefElement(de);return pe&&(ue.target===pe||ue.composedPath().includes(pe))}}),le=[useEventListener($,"click",ue=>{const de=unrefElement(g);if(!(!de||de===ue.target||ue.composedPath().includes(de))){if(ue.detail===0&&(re=!ae(ue)),!re){re=!0;return}n(ue)}},{passive:!0,capture:V}),useEventListener($,"pointerdown",ue=>{const de=unrefElement(g);de&&(re=!ue.composedPath().includes(de)&&!ae(ue))},{passive:!0}),oe&&useEventListener($,"blur",ue=>{var de;const pe=unrefElement(g);((de=$.document.activeElement)==null?void 0:de.tagName)==="IFRAME"&&!(pe!=null&&pe.contains($.document.activeElement))&&n(ue)})].filter(Boolean);return()=>le.forEach(ue=>ue())}function useSupported(g,n=!1){const r=ref(),$=()=>r.value=Boolean(g());return $(),tryOnMounted($,n),r}const _global$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global$2[globalKey]=_global$2[globalKey]||{},_global$2[globalKey],useDocumentVisibility=function({document:n=defaultDocument}={}){if(!n)return ref("visible");const r=ref(n.visibilityState);return useEventListener(n,"visibilitychange",()=>{r.value=n.visibilityState}),r};var __getOwnPropSymbols$g=Object.getOwnPropertySymbols,__hasOwnProp$g=Object.prototype.hasOwnProperty,__propIsEnum$g=Object.prototype.propertyIsEnumerable,__objRest$2=(g,n)=>{var r={};for(var $ in g)__hasOwnProp$g.call(g,$)&&n.indexOf($)<0&&(r[$]=g[$]);if(g!=null&&__getOwnPropSymbols$g)for(var $ of __getOwnPropSymbols$g(g))n.indexOf($)<0&&__propIsEnum$g.call(g,$)&&(r[$]=g[$]);return r};useResizeObserver=function(n,r,$={}){const L=$,{window:V=defaultWindow}=L,oe=__objRest$2(L,["window"]);let re;const ae=useSupported(()=>V&&"ResizeObserver"in V),le=()=>{re&&(re.disconnect(),re=void 0)},ue=watch(()=>unrefElement(n),pe=>{le(),ae.value&&V&&pe&&(re=new ResizeObserver(r),re.observe(pe,oe))},{immediate:!0,flush:"post"}),de=()=>{le(),ue()};return tryOnScopeDispose(de),{isSupported:ae,stop:de}};var SwipeDirection;(function(g){g.UP="UP",g.RIGHT="RIGHT",g.DOWN="DOWN",g.LEFT="LEFT",g.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(g,n,r)=>n in g?__defProp(g,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):g[n]=r,__spreadValues=(g,n)=>{for(var r in n||(n={}))__hasOwnProp.call(n,r)&&__defNormalProp(g,r,n[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(n))__propIsEnum.call(n,r)&&__defNormalProp(g,r,n[r]);return g};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity$1},_TransitionPresets),useWindowFocus=function({window:n=defaultWindow}={}){if(!n)return ref(!1);const r=ref(n.document.hasFocus());return useEventListener(n,"blur",()=>{r.value=!1}),useEventListener(n,"focus",()=>{r.value=!0}),r};const getClientXY=g=>{let n,r;return g.type==="touchend"?(r=g.changedTouches[0].clientY,n=g.changedTouches[0].clientX):g.type.startsWith("touch")?(r=g.touches[0].clientY,n=g.touches[0].clientX):(r=g.clientY,n=g.clientX),{clientX:n,clientY:r}};var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")();const root$1=root;var Symbol$1=root$1.Symbol;const Symbol$2=Symbol$1;var objectProto$f=Object.prototype,hasOwnProperty$e=objectProto$f.hasOwnProperty,nativeObjectToString$1=objectProto$f.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(g){var n=hasOwnProperty$e.call(g,symToStringTag$1),r=g[symToStringTag$1];try{g[symToStringTag$1]=void 0;var $=!0}catch{}var L=nativeObjectToString$1.call(g);return $&&(n?g[symToStringTag$1]=r:delete g[symToStringTag$1]),L}var objectProto$e=Object.prototype,nativeObjectToString=objectProto$e.toString;function objectToString(g){return nativeObjectToString.call(g)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(g){return g==null?g===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(g)?getRawTag(g):objectToString(g)}function isObjectLike(g){return g!=null&&typeof g=="object"}var symbolTag$3="[object Symbol]";function isSymbol(g){return typeof g=="symbol"||isObjectLike(g)&&baseGetTag(g)==symbolTag$3}function arrayMap(g,n){for(var r=-1,$=g==null?0:g.length,L=Array($);++r<$;)L[r]=n(g[r],r,g);return L}var isArray$3=Array.isArray;const isArray$4=isArray$3;var INFINITY$2=1/0,symbolProto$2=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto$2?symbolProto$2.toString:void 0;function baseToString(g){if(typeof g=="string")return g;if(isArray$4(g))return arrayMap(g,baseToString)+"";if(isSymbol(g))return symbolToString?symbolToString.call(g):"";var n=g+"";return n=="0"&&1/g==-INFINITY$2?"-0":n}var reWhitespace=/\s/;function trimmedEndIndex(g){for(var n=g.length;n--&&reWhitespace.test(g.charAt(n)););return n}var reTrimStart=/^\s+/;function baseTrim(g){return g&&g.slice(0,trimmedEndIndex(g)+1).replace(reTrimStart,"")}function isObject$2(g){var n=typeof g;return g!=null&&(n=="object"||n=="function")}var NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(g){if(typeof g=="number")return g;if(isSymbol(g))return NAN;if(isObject$2(g)){var n=typeof g.valueOf=="function"?g.valueOf():g;g=isObject$2(n)?n+"":n}if(typeof g!="string")return g===0?g:+g;g=baseTrim(g);var r=reIsBinary.test(g);return r||reIsOctal.test(g)?freeParseInt(g.slice(2),r?2:8):reIsBadHex.test(g)?NAN:+g}function identity(g){return g}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(g){if(!isObject$2(g))return!1;var n=baseGetTag(g);return n==funcTag$2||n==genTag$1||n==asyncTag||n==proxyTag}var coreJsData=root$1["__core-js_shared__"];const coreJsData$1=coreJsData;var maskSrcKey=function(){var g=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}();function isMasked(g){return!!maskSrcKey&&maskSrcKey in g}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(g){if(g!=null){try{return funcToString$2.call(g)}catch{}try{return g+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$d=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$d=objectProto$d.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$d).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(g){if(!isObject$2(g)||isMasked(g))return!1;var n=isFunction$2(g)?reIsNative:reIsHostCtor;return n.test(toSource(g))}function getValue$1(g,n){return g==null?void 0:g[n]}function getNative(g,n){var r=getValue$1(g,n);return baseIsNative(r)?r:void 0}var WeakMap$1=getNative(root$1,"WeakMap");const WeakMap$2=WeakMap$1;var objectCreate=Object.create,baseCreate=function(){function g(){}return function(n){if(!isObject$2(n))return{};if(objectCreate)return objectCreate(n);g.prototype=n;var r=new g;return g.prototype=void 0,r}}();const baseCreate$1=baseCreate;function apply(g,n,r){switch(r.length){case 0:return g.call(n);case 1:return g.call(n,r[0]);case 2:return g.call(n,r[0],r[1]);case 3:return g.call(n,r[0],r[1],r[2])}return g.apply(n,r)}function noop$3(){}function copyArray(g,n){var r=-1,$=g.length;for(n||(n=Array($));++r<$;)n[r]=g[r];return n}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(g){var n=0,r=0;return function(){var $=nativeNow(),L=HOT_SPAN-($-r);if(r=$,L>0){if(++n>=HOT_COUNT)return arguments[0]}else n=0;return g.apply(void 0,arguments)}}function constant(g){return function(){return g}}var defineProperty=function(){try{var g=getNative(Object,"defineProperty");return g({},"",{}),g}catch{}}();const defineProperty$1=defineProperty;var baseSetToString=defineProperty$1?function(g,n){return defineProperty$1(g,"toString",{configurable:!0,enumerable:!1,value:constant(n),writable:!0})}:identity;const baseSetToString$1=baseSetToString;var setToString=shortOut(baseSetToString$1);const setToString$1=setToString;function arrayEach(g,n){for(var r=-1,$=g==null?0:g.length;++r<$&&n(g[r],r,g)!==!1;);return g}function baseFindIndex(g,n,r,$){for(var L=g.length,V=r+($?1:-1);$?V--:++V<L;)if(n(g[V],V,g))return V;return-1}function baseIsNaN(g){return g!==g}function strictIndexOf(g,n,r){for(var $=r-1,L=g.length;++$<L;)if(g[$]===n)return $;return-1}function baseIndexOf(g,n,r){return n===n?strictIndexOf(g,n,r):baseFindIndex(g,baseIsNaN,r)}function arrayIncludes(g,n){var r=g==null?0:g.length;return!!r&&baseIndexOf(g,n,0)>-1}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(g,n){var r=typeof g;return n=n!=null?n:MAX_SAFE_INTEGER$1,!!n&&(r=="number"||r!="symbol"&&reIsUint.test(g))&&g>-1&&g%1==0&&g<n}function baseAssignValue(g,n,r){n=="__proto__"&&defineProperty$1?defineProperty$1(g,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):g[n]=r}function eq(g,n){return g===n||g!==g&&n!==n}var objectProto$c=Object.prototype,hasOwnProperty$c=objectProto$c.hasOwnProperty;function assignValue(g,n,r){var $=g[n];(!(hasOwnProperty$c.call(g,n)&&eq($,r))||r===void 0&&!(n in g))&&baseAssignValue(g,n,r)}function copyObject(g,n,r,$){var L=!r;r||(r={});for(var V=-1,oe=n.length;++V<oe;){var re=n[V],ae=$?$(r[re],g[re],re,r,g):void 0;ae===void 0&&(ae=g[re]),L?baseAssignValue(r,re,ae):assignValue(r,re,ae)}return r}var nativeMax$1=Math.max;function overRest(g,n,r){return n=nativeMax$1(n===void 0?g.length-1:n,0),function(){for(var $=arguments,L=-1,V=nativeMax$1($.length-n,0),oe=Array(V);++L<V;)oe[L]=$[n+L];L=-1;for(var re=Array(n+1);++L<n;)re[L]=$[L];return re[n]=r(oe),apply(g,this,re)}}function baseRest(g,n){return setToString$1(overRest(g,n,identity),g+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=MAX_SAFE_INTEGER}function isArrayLike(g){return g!=null&&isLength(g.length)&&!isFunction$2(g)}function isIterateeCall(g,n,r){if(!isObject$2(r))return!1;var $=typeof n;return($=="number"?isArrayLike(r)&&isIndex(n,r.length):$=="string"&&n in r)?eq(r[n],g):!1}function createAssigner(g){return baseRest(function(n,r){var $=-1,L=r.length,V=L>1?r[L-1]:void 0,oe=L>2?r[2]:void 0;for(V=g.length>3&&typeof V=="function"?(L--,V):void 0,oe&&isIterateeCall(r[0],r[1],oe)&&(V=L<3?void 0:V,L=1),n=Object(n);++$<L;){var re=r[$];re&&g(n,re,$,V)}return n})}var objectProto$b=Object.prototype;function isPrototype(g){var n=g&&g.constructor,r=typeof n=="function"&&n.prototype||objectProto$b;return g===r}function baseTimes(g,n){for(var r=-1,$=Array(g);++r<g;)$[r]=n(r);return $}var argsTag$3="[object Arguments]";function baseIsArguments(g){return isObjectLike(g)&&baseGetTag(g)==argsTag$3}var objectProto$a=Object.prototype,hasOwnProperty$b=objectProto$a.hasOwnProperty,propertyIsEnumerable$1=objectProto$a.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(g){return isObjectLike(g)&&hasOwnProperty$b.call(g,"callee")&&!propertyIsEnumerable$1.call(g,"callee")};const isArguments$1=isArguments;function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root$1.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer$2=nativeIsBuffer||stubFalse;const isBuffer$3=isBuffer$2;var argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$5="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0,typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(g){return isObjectLike(g)&&isLength(g.length)&&!!typedArrayTags[baseGetTag(g)]}function baseUnary(g){return function(n){return g(n)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal$1.process,nodeUtil=function(){try{var g=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return g||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}();const nodeUtil$1=nodeUtil;var nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray$2=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;const isTypedArray$3=isTypedArray$2;var objectProto$9=Object.prototype,hasOwnProperty$a=objectProto$9.hasOwnProperty;function arrayLikeKeys(g,n){var r=isArray$4(g),$=!r&&isArguments$1(g),L=!r&&!$&&isBuffer$3(g),V=!r&&!$&&!L&&isTypedArray$3(g),oe=r||$||L||V,re=oe?baseTimes(g.length,String):[],ae=re.length;for(var le in g)(n||hasOwnProperty$a.call(g,le))&&!(oe&&(le=="length"||L&&(le=="offset"||le=="parent")||V&&(le=="buffer"||le=="byteLength"||le=="byteOffset")||isIndex(le,ae)))&&re.push(le);return re}function overArg(g,n){return function(r){return g(n(r))}}var nativeKeys=overArg(Object.keys,Object);const nativeKeys$1=nativeKeys;var objectProto$8=Object.prototype,hasOwnProperty$9=objectProto$8.hasOwnProperty;function baseKeys(g){if(!isPrototype(g))return nativeKeys$1(g);var n=[];for(var r in Object(g))hasOwnProperty$9.call(g,r)&&r!="constructor"&&n.push(r);return n}function keys(g){return isArrayLike(g)?arrayLikeKeys(g):baseKeys(g)}function nativeKeysIn(g){var n=[];if(g!=null)for(var r in Object(g))n.push(r);return n}var objectProto$7=Object.prototype,hasOwnProperty$8=objectProto$7.hasOwnProperty;function baseKeysIn(g){if(!isObject$2(g))return nativeKeysIn(g);var n=isPrototype(g),r=[];for(var $ in g)$=="constructor"&&(n||!hasOwnProperty$8.call(g,$))||r.push($);return r}function keysIn(g){return isArrayLike(g)?arrayLikeKeys(g,!0):baseKeysIn(g)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(g,n){if(isArray$4(g))return!1;var r=typeof g;return r=="number"||r=="symbol"||r=="boolean"||g==null||isSymbol(g)?!0:reIsPlainProp.test(g)||!reIsDeepProp.test(g)||n!=null&&g in Object(n)}var nativeCreate=getNative(Object,"create");const nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(g){var n=this.has(g)&&delete this.__data__[g];return this.size-=n?1:0,n}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$6=Object.prototype,hasOwnProperty$7=objectProto$6.hasOwnProperty;function hashGet(g){var n=this.__data__;if(nativeCreate$1){var r=n[g];return r===HASH_UNDEFINED$2?void 0:r}return hasOwnProperty$7.call(n,g)?n[g]:void 0}var objectProto$5=Object.prototype,hasOwnProperty$6=objectProto$5.hasOwnProperty;function hashHas(g){var n=this.__data__;return nativeCreate$1?n[g]!==void 0:hasOwnProperty$6.call(n,g)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(g,n){var r=this.__data__;return this.size+=this.has(g)?0:1,r[g]=nativeCreate$1&&n===void 0?HASH_UNDEFINED$1:n,this}function Hash(g){var n=-1,r=g==null?0:g.length;for(this.clear();++n<r;){var $=g[n];this.set($[0],$[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(g,n){for(var r=g.length;r--;)if(eq(g[r][0],n))return r;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(g){var n=this.__data__,r=assocIndexOf(n,g);if(r<0)return!1;var $=n.length-1;return r==$?n.pop():splice.call(n,r,1),--this.size,!0}function listCacheGet(g){var n=this.__data__,r=assocIndexOf(n,g);return r<0?void 0:n[r][1]}function listCacheHas(g){return assocIndexOf(this.__data__,g)>-1}function listCacheSet(g,n){var r=this.__data__,$=assocIndexOf(r,g);return $<0?(++this.size,r.push([g,n])):r[$][1]=n,this}function ListCache(g){var n=-1,r=g==null?0:g.length;for(this.clear();++n<r;){var $=g[n];this.set($[0],$[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$1,"Map");const Map$2=Map$1;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(g){var n=typeof g;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?g!=="__proto__":g===null}function getMapData(g,n){var r=g.__data__;return isKeyable(n)?r[typeof n=="string"?"string":"hash"]:r.map}function mapCacheDelete(g){var n=getMapData(this,g).delete(g);return this.size-=n?1:0,n}function mapCacheGet(g){return getMapData(this,g).get(g)}function mapCacheHas(g){return getMapData(this,g).has(g)}function mapCacheSet(g,n){var r=getMapData(this,g),$=r.size;return r.set(g,n),this.size+=r.size==$?0:1,this}function MapCache(g){var n=-1,r=g==null?0:g.length;for(this.clear();++n<r;){var $=g[n];this.set($[0],$[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT$1="Expected a function";memoize=function g(n,r){if(typeof n!="function"||r!=null&&typeof r!="function")throw new TypeError(FUNC_ERROR_TEXT$1);var $=function(){var L=arguments,V=r?r.apply(this,L):L[0],oe=$.cache;if(oe.has(V))return oe.get(V);var re=n.apply(this,L);return $.cache=oe.set(V,re)||oe,re};return $.cache=new(g.Cache||MapCache),$},memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(g){var n=memoize(g,function($){return r.size===MAX_MEMOIZE_SIZE&&r.clear(),$}),r=n.cache;return n}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(g){var n=[];return g.charCodeAt(0)===46&&n.push(""),g.replace(rePropName,function(r,$,L,V){n.push(L?V.replace(reEscapeChar,"$1"):$||r)}),n});const stringToPath$1=stringToPath;function toString$2(g){return g==null?"":baseToString(g)}function castPath(g,n){return isArray$4(g)?g:isKey(g,n)?[g]:stringToPath$1(toString$2(g))}var INFINITY$1=1/0;function toKey(g){if(typeof g=="string"||isSymbol(g))return g;var n=g+"";return n=="0"&&1/g==-INFINITY$1?"-0":n}function baseGet(g,n){n=castPath(n,g);for(var r=0,$=n.length;g!=null&&r<$;)g=g[toKey(n[r++])];return r&&r==$?g:void 0}get=function(n,r,$){var L=n==null?void 0:baseGet(n,r);return L===void 0?$:L};function arrayPush(g,n){for(var r=-1,$=n.length,L=g.length;++r<$;)g[L+r]=n[r];return g}var spreadableSymbol=Symbol$2?Symbol$2.isConcatSpreadable:void 0;function isFlattenable(g){return isArray$4(g)||isArguments$1(g)||!!(spreadableSymbol&&g&&g[spreadableSymbol])}function baseFlatten(g,n,r,$,L){var V=-1,oe=g.length;for(r||(r=isFlattenable),L||(L=[]);++V<oe;){var re=g[V];n>0&&r(re)?n>1?baseFlatten(re,n-1,r,$,L):arrayPush(L,re):$||(L[L.length]=re)}return L}function flatten(g){var n=g==null?0:g.length;return n?baseFlatten(g,1):[]}function flatRest(g){return setToString$1(overRest(g,void 0,flatten),g+"")}var getPrototype=overArg(Object.getPrototypeOf,Object);const getPrototype$1=getPrototype;var objectTag$3="[object Object]",funcProto=Function.prototype,objectProto$4=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$5=objectProto$4.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$2(g){if(!isObjectLike(g)||baseGetTag(g)!=objectTag$3)return!1;var n=getPrototype$1(g);if(n===null)return!0;var r=hasOwnProperty$5.call(n,"constructor")&&n.constructor;return typeof r=="function"&&r instanceof r&&funcToString.call(r)==objectCtorString}function castArray$1(){if(!arguments.length)return[];var g=arguments[0];return isArray$4(g)?g:[g]}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(g){var n=this.__data__,r=n.delete(g);return this.size=n.size,r}function stackGet(g){return this.__data__.get(g)}function stackHas(g){return this.__data__.has(g)}var LARGE_ARRAY_SIZE$1=200;function stackSet(g,n){var r=this.__data__;if(r instanceof ListCache){var $=r.__data__;if(!Map$2||$.length<LARGE_ARRAY_SIZE$1-1)return $.push([g,n]),this.size=++r.size,this;r=this.__data__=new MapCache($)}return r.set(g,n),this.size=r.size,this}function Stack(g){var n=this.__data__=new ListCache(g);this.size=n.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;function baseAssign(g,n){return g&&copyObject(n,keys(n),g)}function baseAssignIn(g,n){return g&&copyObject(n,keysIn(n),g)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root$1.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(g,n){if(n)return g.slice();var r=g.length,$=allocUnsafe?allocUnsafe(r):new g.constructor(r);return g.copy($),$}function arrayFilter(g,n){for(var r=-1,$=g==null?0:g.length,L=0,V=[];++r<$;){var oe=g[r];n(oe,r,g)&&(V[L++]=oe)}return V}function stubArray(){return[]}var objectProto$3=Object.prototype,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(g){return g==null?[]:(g=Object(g),arrayFilter(nativeGetSymbols$1(g),function(n){return propertyIsEnumerable.call(g,n)}))}:stubArray;const getSymbols$1=getSymbols;function copySymbols(g,n){return copyObject(g,getSymbols$1(g),n)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(g){for(var n=[];g;)arrayPush(n,getSymbols$1(g)),g=getPrototype$1(g);return n}:stubArray;const getSymbolsIn$1=getSymbolsIn;function copySymbolsIn(g,n){return copyObject(g,getSymbolsIn$1(g),n)}function baseGetAllKeys(g,n,r){var $=n(g);return isArray$4(g)?$:arrayPush($,r(g))}function getAllKeys(g){return baseGetAllKeys(g,keys,getSymbols$1)}function getAllKeysIn(g){return baseGetAllKeys(g,keysIn,getSymbolsIn$1)}var DataView=getNative(root$1,"DataView");const DataView$1=DataView;var Promise$1=getNative(root$1,"Promise");const Promise$2=Promise$1;var Set$1=getNative(root$1,"Set");const Set$2=Set$1;var mapTag$4="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$4="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$2),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$3||Map$2&&getTag(new Map$2)!=mapTag$4||Promise$2&&getTag(Promise$2.resolve())!=promiseTag||Set$2&&getTag(new Set$2)!=setTag$4||WeakMap$2&&getTag(new WeakMap$2)!=weakMapTag$1)&&(getTag=function(g){var n=baseGetTag(g),r=n==objectTag$2?g.constructor:void 0,$=r?toSource(r):"";if($)switch($){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$4;case promiseCtorString:return promiseTag;case setCtorString:return setTag$4;case weakMapCtorString:return weakMapTag$1}return n});const getTag$1=getTag;var objectProto$2=Object.prototype,hasOwnProperty$4=objectProto$2.hasOwnProperty;function initCloneArray(g){var n=g.length,r=new g.constructor(n);return n&&typeof g[0]=="string"&&hasOwnProperty$4.call(g,"index")&&(r.index=g.index,r.input=g.input),r}var Uint8Array$1=root$1.Uint8Array;const Uint8Array$2=Uint8Array$1;function cloneArrayBuffer(g){var n=new g.constructor(g.byteLength);return new Uint8Array$2(n).set(new Uint8Array$2(g)),n}function cloneDataView(g,n){var r=n?cloneArrayBuffer(g.buffer):g.buffer;return new g.constructor(r,g.byteOffset,g.byteLength)}var reFlags=/\w*$/;function cloneRegExp(g){var n=new g.constructor(g.source,reFlags.exec(g));return n.lastIndex=g.lastIndex,n}var symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(g){return symbolValueOf$1?Object(symbolValueOf$1.call(g)):{}}function cloneTypedArray(g,n){var r=n?cloneArrayBuffer(g.buffer):g.buffer;return new g.constructor(r,g.byteOffset,g.length)}var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$3="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(g,n,r){var $=g.constructor;switch(n){case arrayBufferTag$2:return cloneArrayBuffer(g);case boolTag$2:case dateTag$2:return new $(+g);case dataViewTag$2:return cloneDataView(g,r);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(g,r);case mapTag$3:return new $;case numberTag$2:case stringTag$2:return new $(g);case regexpTag$2:return cloneRegExp(g);case setTag$3:return new $;case symbolTag$2:return cloneSymbol(g)}}function initCloneObject(g){return typeof g.constructor=="function"&&!isPrototype(g)?baseCreate$1(getPrototype$1(g)):{}}var mapTag$2="[object Map]";function baseIsMap(g){return isObjectLike(g)&&getTag$1(g)==mapTag$2}var nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;const isMap$1=isMap;var setTag$2="[object Set]";function baseIsSet(g){return isObjectLike(g)&&getTag$1(g)==setTag$2}var nodeIsSet=nodeUtil$1&&nodeUtil$1.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;const isSet$1=isSet;var CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$2=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$1="[object Map]",numberTag$1="[object Number]",objectTag$1="[object Object]",regexpTag$1="[object RegExp]",setTag$1="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$1]=cloneableTags[numberTag$1]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$1]=cloneableTags[setTag$1]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(g,n,r,$,L,V){var oe,re=n&CLONE_DEEP_FLAG$1,ae=n&CLONE_FLAT_FLAG,le=n&CLONE_SYMBOLS_FLAG$2;if(r&&(oe=L?r(g,$,L,V):r(g)),oe!==void 0)return oe;if(!isObject$2(g))return g;var ue=isArray$4(g);if(ue){if(oe=initCloneArray(g),!re)return copyArray(g,oe)}else{var de=getTag$1(g),pe=de==funcTag||de==genTag;if(isBuffer$3(g))return cloneBuffer(g,re);if(de==objectTag$1||de==argsTag$1||pe&&!L){if(oe=ae||pe?{}:initCloneObject(g),!re)return ae?copySymbolsIn(g,baseAssignIn(oe,g)):copySymbols(g,baseAssign(oe,g))}else{if(!cloneableTags[de])return L?g:{};oe=initCloneByTag(g,de,re)}}V||(V=new Stack);var he=V.get(g);if(he)return he;V.set(g,oe),isSet$1(g)?g.forEach(function(xe){oe.add(baseClone(xe,n,r,xe,g,V))}):isMap$1(g)&&g.forEach(function(xe,$e){oe.set($e,baseClone(xe,n,r,$e,g,V))});var _e=le?ae?getAllKeysIn:getAllKeys:ae?keysIn:keys,Oe=ue?void 0:_e(g);return arrayEach(Oe||g,function(xe,$e){Oe&&($e=xe,xe=g[$e]),assignValue(oe,$e,baseClone(xe,n,r,$e,g,V))}),oe}var CLONE_SYMBOLS_FLAG$1=4;function clone(g){return baseClone(g,CLONE_SYMBOLS_FLAG$1)}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(g){return baseClone(g,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(g){return this.__data__.set(g,HASH_UNDEFINED),this}function setCacheHas(g){return this.__data__.has(g)}function SetCache(g){var n=-1,r=g==null?0:g.length;for(this.__data__=new MapCache;++n<r;)this.add(g[n])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas;function arraySome(g,n){for(var r=-1,$=g==null?0:g.length;++r<$;)if(n(g[r],r,g))return!0;return!1}function cacheHas(g,n){return g.has(n)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(g,n,r,$,L,V){var oe=r&COMPARE_PARTIAL_FLAG$5,re=g.length,ae=n.length;if(re!=ae&&!(oe&&ae>re))return!1;var le=V.get(g),ue=V.get(n);if(le&&ue)return le==n&&ue==g;var de=-1,pe=!0,he=r&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(V.set(g,n),V.set(n,g);++de<re;){var _e=g[de],Oe=n[de];if($)var xe=oe?$(Oe,_e,de,n,g,V):$(_e,Oe,de,g,n,V);if(xe!==void 0){if(xe)continue;pe=!1;break}if(he){if(!arraySome(n,function($e,Ie){if(!cacheHas(he,Ie)&&(_e===$e||L(_e,$e,r,$,V)))return he.push(Ie)})){pe=!1;break}}else if(!(_e===Oe||L(_e,Oe,r,$,V))){pe=!1;break}}return V.delete(g),V.delete(n),pe}function mapToArray(g){var n=-1,r=Array(g.size);return g.forEach(function($,L){r[++n]=[L,$]}),r}function setToArray(g){var n=-1,r=Array(g.size);return g.forEach(function($){r[++n]=$}),r}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(g,n,r,$,L,V,oe){switch(r){case dataViewTag:if(g.byteLength!=n.byteLength||g.byteOffset!=n.byteOffset)return!1;g=g.buffer,n=n.buffer;case arrayBufferTag:return!(g.byteLength!=n.byteLength||!V(new Uint8Array$2(g),new Uint8Array$2(n)));case boolTag:case dateTag:case numberTag:return eq(+g,+n);case errorTag:return g.name==n.name&&g.message==n.message;case regexpTag:case stringTag:return g==n+"";case mapTag:var re=mapToArray;case setTag:var ae=$&COMPARE_PARTIAL_FLAG$4;if(re||(re=setToArray),g.size!=n.size&&!ae)return!1;var le=oe.get(g);if(le)return le==n;$|=COMPARE_UNORDERED_FLAG$2,oe.set(g,n);var ue=equalArrays(re(g),re(n),$,L,V,oe);return oe.delete(g),ue;case symbolTag:if(symbolValueOf)return symbolValueOf.call(g)==symbolValueOf.call(n)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$3=objectProto$1.hasOwnProperty;function equalObjects(g,n,r,$,L,V){var oe=r&COMPARE_PARTIAL_FLAG$3,re=getAllKeys(g),ae=re.length,le=getAllKeys(n),ue=le.length;if(ae!=ue&&!oe)return!1;for(var de=ae;de--;){var pe=re[de];if(!(oe?pe in n:hasOwnProperty$3.call(n,pe)))return!1}var he=V.get(g),_e=V.get(n);if(he&&_e)return he==n&&_e==g;var Oe=!0;V.set(g,n),V.set(n,g);for(var xe=oe;++de<ae;){pe=re[de];var $e=g[pe],Ie=n[pe];if($)var Ne=oe?$(Ie,$e,pe,n,g,V):$($e,Ie,pe,g,n,V);if(!(Ne===void 0?$e===Ie||L($e,Ie,r,$,V):Ne)){Oe=!1;break}xe||(xe=pe=="constructor")}if(Oe&&!xe){var ze=g.constructor,Ue=n.constructor;ze!=Ue&&"constructor"in g&&"constructor"in n&&!(typeof ze=="function"&&ze instanceof ze&&typeof Ue=="function"&&Ue instanceof Ue)&&(Oe=!1)}return V.delete(g),V.delete(n),Oe}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty$2=objectProto.hasOwnProperty;function baseIsEqualDeep(g,n,r,$,L,V){var oe=isArray$4(g),re=isArray$4(n),ae=oe?arrayTag:getTag$1(g),le=re?arrayTag:getTag$1(n);ae=ae==argsTag?objectTag:ae,le=le==argsTag?objectTag:le;var ue=ae==objectTag,de=le==objectTag,pe=ae==le;if(pe&&isBuffer$3(g)){if(!isBuffer$3(n))return!1;oe=!0,ue=!1}if(pe&&!ue)return V||(V=new Stack),oe||isTypedArray$3(g)?equalArrays(g,n,r,$,L,V):equalByTag(g,n,ae,r,$,L,V);if(!(r&COMPARE_PARTIAL_FLAG$2)){var he=ue&&hasOwnProperty$2.call(g,"__wrapped__"),_e=de&&hasOwnProperty$2.call(n,"__wrapped__");if(he||_e){var Oe=he?g.value():g,xe=_e?n.value():n;return V||(V=new Stack),L(Oe,xe,r,$,V)}}return pe?(V||(V=new Stack),equalObjects(g,n,r,$,L,V)):!1}function baseIsEqual(g,n,r,$,L){return g===n?!0:g==null||n==null||!isObjectLike(g)&&!isObjectLike(n)?g!==g&&n!==n:baseIsEqualDeep(g,n,r,$,baseIsEqual,L)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(g,n,r,$){var L=r.length,V=L,oe=!$;if(g==null)return!V;for(g=Object(g);L--;){var re=r[L];if(oe&&re[2]?re[1]!==g[re[0]]:!(re[0]in g))return!1}for(;++L<V;){re=r[L];var ae=re[0],le=g[ae],ue=re[1];if(oe&&re[2]){if(le===void 0&&!(ae in g))return!1}else{var de=new Stack;if($)var pe=$(le,ue,ae,g,n,de);if(!(pe===void 0?baseIsEqual(ue,le,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,$,de):pe))return!1}}return!0}function isStrictComparable(g){return g===g&&!isObject$2(g)}function getMatchData(g){for(var n=keys(g),r=n.length;r--;){var $=n[r],L=g[$];n[r]=[$,L,isStrictComparable(L)]}return n}function matchesStrictComparable(g,n){return function(r){return r==null?!1:r[g]===n&&(n!==void 0||g in Object(r))}}function baseMatches(g){var n=getMatchData(g);return n.length==1&&n[0][2]?matchesStrictComparable(n[0][0],n[0][1]):function(r){return r===g||baseIsMatch(r,g,n)}}function baseHasIn(g,n){return g!=null&&n in Object(g)}function hasPath(g,n,r){n=castPath(n,g);for(var $=-1,L=n.length,V=!1;++$<L;){var oe=toKey(n[$]);if(!(V=g!=null&&r(g,oe)))break;g=g[oe]}return V||++$!=L?V:(L=g==null?0:g.length,!!L&&isLength(L)&&isIndex(oe,L)&&(isArray$4(g)||isArguments$1(g)))}function hasIn(g,n){return g!=null&&hasPath(g,n,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(g,n){return isKey(g)&&isStrictComparable(n)?matchesStrictComparable(toKey(g),n):function(r){var $=get(r,g);return $===void 0&&$===n?hasIn(r,g):baseIsEqual(n,$,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(g){return function(n){return n==null?void 0:n[g]}}function basePropertyDeep(g){return function(n){return baseGet(n,g)}}function property(g){return isKey(g)?baseProperty(toKey(g)):basePropertyDeep(g)}function baseIteratee(g){return typeof g=="function"?g:g==null?identity:typeof g=="object"?isArray$4(g)?baseMatchesProperty(g[0],g[1]):baseMatches(g):property(g)}function createBaseFor(g){return function(n,r,$){for(var L=-1,V=Object(n),oe=$(n),re=oe.length;re--;){var ae=oe[g?re:++L];if(r(V[ae],ae,V)===!1)break}return n}}var baseFor=createBaseFor();const baseFor$1=baseFor;function baseForOwn(g,n){return g&&baseFor$1(g,n,keys)}function createBaseEach(g,n){return function(r,$){if(r==null)return r;if(!isArrayLike(r))return g(r,$);for(var L=r.length,V=n?L:-1,oe=Object(r);(n?V--:++V<L)&&$(oe[V],V,oe)!==!1;);return r}}var baseEach=createBaseEach(baseForOwn);const baseEach$1=baseEach;var now=function(){return root$1.Date.now()};const now$1=now;var FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;debounce=function(n,r,$){var L,V,oe,re,ae,le,ue=0,de=!1,pe=!1,he=!0;if(typeof n!="function")throw new TypeError(FUNC_ERROR_TEXT);r=toNumber(r)||0,isObject$2($)&&(de=!!$.leading,pe="maxWait"in $,oe=pe?nativeMax(toNumber($.maxWait)||0,r):oe,he="trailing"in $?!!$.trailing:he);function _e(qe){var Et=L,At=V;return L=V=void 0,ue=qe,re=n.apply(At,Et),re}function Oe(qe){return ue=qe,ae=setTimeout(Ie,r),de?_e(qe):re}function xe(qe){var Et=qe-le,At=qe-ue,kt=r-Et;return pe?nativeMin(kt,oe-At):kt}function $e(qe){var Et=qe-le,At=qe-ue;return le===void 0||Et>=r||Et<0||pe&&At>=oe}function Ie(){var qe=now$1();if($e(qe))return Ne(qe);ae=setTimeout(Ie,xe(qe))}function Ne(qe){return ae=void 0,he&&L?_e(qe):(L=V=void 0,re)}function ze(){ae!==void 0&&clearTimeout(ae),ue=0,L=le=V=ae=void 0}function Ue(){return ae===void 0?re:Ne(now$1())}function Fe(){var qe=now$1(),Et=$e(qe);if(L=arguments,V=this,le=qe,Et){if(ae===void 0)return Oe(le);if(pe)return clearTimeout(ae),ae=setTimeout(Ie,r),_e(le)}return ae===void 0&&(ae=setTimeout(Ie,r)),re}return Fe.cancel=ze,Fe.flush=Ue,Fe};function assignMergeValue(g,n,r){(r!==void 0&&!eq(g[n],r)||r===void 0&&!(n in g))&&baseAssignValue(g,n,r)}function isArrayLikeObject(g){return isObjectLike(g)&&isArrayLike(g)}function safeGet(g,n){if(!(n==="constructor"&&typeof g[n]=="function")&&n!="__proto__")return g[n]}function toPlainObject(g){return copyObject(g,keysIn(g))}function baseMergeDeep(g,n,r,$,L,V,oe){var re=safeGet(g,r),ae=safeGet(n,r),le=oe.get(ae);if(le){assignMergeValue(g,r,le);return}var ue=V?V(re,ae,r+"",g,n,oe):void 0,de=ue===void 0;if(de){var pe=isArray$4(ae),he=!pe&&isBuffer$3(ae),_e=!pe&&!he&&isTypedArray$3(ae);ue=ae,pe||he||_e?isArray$4(re)?ue=re:isArrayLikeObject(re)?ue=copyArray(re):he?(de=!1,ue=cloneBuffer(ae,!0)):_e?(de=!1,ue=cloneTypedArray(ae,!0)):ue=[]:isPlainObject$2(ae)||isArguments$1(ae)?(ue=re,isArguments$1(re)?ue=toPlainObject(re):(!isObject$2(re)||isFunction$2(re))&&(ue=initCloneObject(ae))):de=!1}de&&(oe.set(ae,ue),L(ue,ae,$,V,oe),oe.delete(ae)),assignMergeValue(g,r,ue)}function baseMerge(g,n,r,$,L){g!==n&&baseFor$1(n,function(V,oe){if(L||(L=new Stack),isObject$2(V))baseMergeDeep(g,n,oe,r,baseMerge,$,L);else{var re=$?$(safeGet(g,oe),V,oe+"",g,n,L):void 0;re===void 0&&(re=V),assignMergeValue(g,oe,re)}},keysIn)}function arrayIncludesWith(g,n,r){for(var $=-1,L=g==null?0:g.length;++$<L;)if(r(n,g[$]))return!0;return!1}function baseMap(g,n){var r=-1,$=isArrayLike(g)?Array(g.length):[];return baseEach$1(g,function(L,V,oe){$[++r]=n(L,V,oe)}),$}function map(g,n){var r=isArray$4(g)?arrayMap:baseMap;return r(g,baseIteratee(n))}function flatMap(g,n){return baseFlatten(map(g,n),1)}function fromPairs(g){for(var n=-1,r=g==null?0:g.length,$={};++n<r;){var L=g[n];$[L[0]]=L[1]}return $}isEqual=function(n,r){return baseIsEqual(n,r)},isNil=function(n){return n==null};function isUndefined$3(g){return g===void 0}var merge$2=createAssigner(function(g,n,r){baseMerge(g,n,r)});const merge$3=merge$2;function baseSet(g,n,r,$){if(!isObject$2(g))return g;n=castPath(n,g);for(var L=-1,V=n.length,oe=V-1,re=g;re!=null&&++L<V;){var ae=toKey(n[L]),le=r;if(ae==="__proto__"||ae==="constructor"||ae==="prototype")return g;if(L!=oe){var ue=re[ae];le=$?$(ue,ae,re):void 0,le===void 0&&(le=isObject$2(ue)?ue:isIndex(n[L+1])?[]:{})}assignValue(re,ae,le),re=re[ae]}return g}function basePickBy(g,n,r){for(var $=-1,L=n.length,V={};++$<L;){var oe=n[$],re=baseGet(g,oe);r(re,oe)&&baseSet(V,castPath(oe,g),re)}return V}function basePick(g,n){return basePickBy(g,n,function(r,$){return hasIn(g,$)})}var pick=flatRest(function(g,n){return g==null?{}:basePick(g,n)});const pick$1=pick;function set(g,n,r){return g==null?g:baseSet(g,n,r)}var INFINITY=1/0,createSet=Set$2&&1/setToArray(new Set$2([,-0]))[1]==INFINITY?function(g){return new Set$2(g)}:noop$3;const createSet$1=createSet;var LARGE_ARRAY_SIZE=200;function baseUniq(g,n,r){var $=-1,L=arrayIncludes,V=g.length,oe=!0,re=[],ae=re;if(r)oe=!1,L=arrayIncludesWith;else if(V>=LARGE_ARRAY_SIZE){var le=n?null:createSet$1(g);if(le)return setToArray(le);oe=!1,L=cacheHas,ae=new SetCache}else ae=n?[]:re;e:for(;++$<V;){var ue=g[$],de=n?n(ue):ue;if(ue=r||ue!==0?ue:0,oe&&de===de){for(var pe=ae.length;pe--;)if(ae[pe]===de)continue e;n&&ae.push(de),re.push(ue)}else L(ae,de,r)||(ae!==re&&ae.push(de),re.push(ue))}return re}var union=baseRest(function(g){return baseUniq(baseFlatten(g,1,isArrayLikeObject,!0))});let union$1,isEmpty,isStringNumber,keysOf,getProp;union$1=union,isUndefined$2=g=>g===void 0,isEmpty=g=>!g&&g!==0||isArray$7(g)&&g.length===0||isObject$7(g)&&!Object.keys(g).length,isElement=g=>typeof Element>"u"?!1:g instanceof Element,isStringNumber=g=>isString$4(g)?!Number.isNaN(Number(g)):!1,escapeStringRegexp=(g="")=>g.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),capitalize=g=>capitalize$1(g),keysOf=g=>Object.keys(g),getProp=(g,n,r)=>({get value(){return get(g,n,r)},set value($){set(g,n,$)}});class ElementPlusError extends Error{constructor(n){super(n),this.name="ElementPlusError"}}throwError=function(n,r){throw new ElementPlusError(`[${n}] ${r}`)},debugWarn=function(n,r){};let classNameToArray;classNameToArray=(g="")=>g.split(" ").filter(n=>!!n.trim()),hasClass=(g,n)=>{if(!g||!n)return!1;if(n.includes(" "))throw new Error("className should not contain space.");return g.classList.contains(n)},addClass=(g,n)=>{!g||!n.trim()||g.classList.add(...classNameToArray(n))},removeClass=(g,n)=>{!g||!n.trim()||g.classList.remove(...classNameToArray(n))},getStyle=(g,n)=>{var r;if(!isClient||!g||!n)return"";let $=camelize(n);$==="float"&&($="cssFloat");try{const L=g.style[$];if(L)return L;const V=(r=document.defaultView)==null?void 0:r.getComputedStyle(g,"");return V?V[$]:""}catch{return g.style[$]}},addUnit=function(n,r="px"){if(!n)return"";if(isNumber$2(n)||isStringNumber(n))return`${n}${r}`;if(isString$4(n))return n};let scrollBarWidth;getScrollBarWidth=g=>{var n;if(!isClient)return 0;if(scrollBarWidth!==void 0)return scrollBarWidth;const r=document.createElement("div");r.className=`${g}-scrollbar__wrap`,r.style.visibility="hidden",r.style.width="100px",r.style.position="absolute",r.style.top="-9999px",document.body.appendChild(r);const $=r.offsetWidth;r.style.overflow="scroll";const L=document.createElement("div");L.style.width="100%",r.appendChild(L);const V=L.offsetWidth;return(n=r.parentNode)==null||n.removeChild(r),scrollBarWidth=$-V,scrollBarWidth};function scrollIntoView(g,n){if(!isClient)return;if(!n){g.scrollTop=0;return}const r=[];let $=n.offsetParent;for(;$!==null&&g!==$&&g.contains($);)r.push($),$=$.offsetParent;const L=n.offsetTop+r.reduce((ae,le)=>ae+le.offsetTop,0),V=L+n.offsetHeight,oe=g.scrollTop,re=oe+g.clientHeight;L<oe?g.scrollTop=L:V>re&&(g.scrollTop=V-g.clientHeight)}var export_helper_default=(g,n)=>{let r=g.__vccOpts||g;for(let[$,L]of n)r[$]=L;return r},arrow_down_vue_vue_type_script_lang_default={name:"ArrowDown"},_hoisted_16={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_26=createBaseVNode("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),_hoisted_36=[_hoisted_26];function _sfc_render6(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_16,_hoisted_36)}let arrow_left_vue_vue_type_script_lang_default,_hoisted_18,_hoisted_28,_hoisted_38;arrow_down_default=export_helper_default(arrow_down_vue_vue_type_script_lang_default,[["render",_sfc_render6],["__file","arrow-down.vue"]]),arrow_left_vue_vue_type_script_lang_default={name:"ArrowLeft"},_hoisted_18={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_28=createBaseVNode("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),_hoisted_38=[_hoisted_28];function _sfc_render8(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_18,_hoisted_38)}let arrow_right_vue_vue_type_script_lang_default,_hoisted_110,_hoisted_210,_hoisted_310;arrow_left_default=export_helper_default(arrow_left_vue_vue_type_script_lang_default,[["render",_sfc_render8],["__file","arrow-left.vue"]]),arrow_right_vue_vue_type_script_lang_default={name:"ArrowRight"},_hoisted_110={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_210=createBaseVNode("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),_hoisted_310=[_hoisted_210];function _sfc_render10(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_110,_hoisted_310)}let arrow_up_vue_vue_type_script_lang_default,_hoisted_112,_hoisted_212,_hoisted_312;arrow_right_default=export_helper_default(arrow_right_vue_vue_type_script_lang_default,[["render",_sfc_render10],["__file","arrow-right.vue"]]),arrow_up_vue_vue_type_script_lang_default={name:"ArrowUp"},_hoisted_112={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_212=createBaseVNode("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),_hoisted_312=[_hoisted_212];function _sfc_render12(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_112,_hoisted_312)}let calendar_vue_vue_type_script_lang_default,_hoisted_129,_hoisted_229,_hoisted_328;arrow_up_default=export_helper_default(arrow_up_vue_vue_type_script_lang_default,[["render",_sfc_render12],["__file","arrow-up.vue"]]),calendar_vue_vue_type_script_lang_default={name:"Calendar"},_hoisted_129={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_229=createBaseVNode("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),_hoisted_328=[_hoisted_229];function _sfc_render29(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_129,_hoisted_328)}var calendar_default=export_helper_default(calendar_vue_vue_type_script_lang_default,[["render",_sfc_render29],["__file","calendar.vue"]]),circle_check_vue_vue_type_script_lang_default={name:"CircleCheck"},_hoisted_149={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_249=createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_348=createBaseVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),_hoisted_415=[_hoisted_249,_hoisted_348];function _sfc_render49(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_149,_hoisted_415)}var circle_check_default=export_helper_default(circle_check_vue_vue_type_script_lang_default,[["render",_sfc_render49],["__file","circle-check.vue"]]),circle_close_filled_vue_vue_type_script_lang_default={name:"CircleCloseFilled"},_hoisted_150={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_250=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),_hoisted_349=[_hoisted_250];function _sfc_render50(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_150,_hoisted_349)}var circle_close_filled_default=export_helper_default(circle_close_filled_vue_vue_type_script_lang_default,[["render",_sfc_render50],["__file","circle-close-filled.vue"]]),circle_close_vue_vue_type_script_lang_default={name:"CircleClose"},_hoisted_151={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_251=createBaseVNode("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),_hoisted_350=createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_416=[_hoisted_251,_hoisted_350];function _sfc_render51(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_151,_hoisted_416)}let clock_vue_vue_type_script_lang_default,_hoisted_154,_hoisted_254,_hoisted_353,_hoisted_418,_hoisted_56;circle_close_default=export_helper_default(circle_close_vue_vue_type_script_lang_default,[["render",_sfc_render51],["__file","circle-close.vue"]]),clock_vue_vue_type_script_lang_default={name:"Clock"},_hoisted_154={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_254=createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_353=createBaseVNode("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),_hoisted_418=createBaseVNode("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),_hoisted_56=[_hoisted_254,_hoisted_353,_hoisted_418];function _sfc_render54(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_154,_hoisted_56)}var clock_default=export_helper_default(clock_vue_vue_type_script_lang_default,[["render",_sfc_render54],["__file","clock.vue"]]),close_vue_vue_type_script_lang_default={name:"Close"},_hoisted_156={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_256=createBaseVNode("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),_hoisted_355=[_hoisted_256];function _sfc_render56(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_156,_hoisted_355)}let d_arrow_left_vue_vue_type_script_lang_default,_hoisted_172,_hoisted_272,_hoisted_371;close_default=export_helper_default(close_vue_vue_type_script_lang_default,[["render",_sfc_render56],["__file","close.vue"]]),d_arrow_left_vue_vue_type_script_lang_default={name:"DArrowLeft"},_hoisted_172={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_272=createBaseVNode("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),_hoisted_371=[_hoisted_272];function _sfc_render72(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_172,_hoisted_371)}var d_arrow_left_default=export_helper_default(d_arrow_left_vue_vue_type_script_lang_default,[["render",_sfc_render72],["__file","d-arrow-left.vue"]]),d_arrow_right_vue_vue_type_script_lang_default={name:"DArrowRight"},_hoisted_173={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_273=createBaseVNode("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),_hoisted_372=[_hoisted_273];function _sfc_render73(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_173,_hoisted_372)}var d_arrow_right_default=export_helper_default(d_arrow_right_vue_vue_type_script_lang_default,[["render",_sfc_render73],["__file","d-arrow-right.vue"]]),delete_vue_vue_type_script_lang_default={name:"Delete"},_hoisted_180={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_280=createBaseVNode("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),_hoisted_379=[_hoisted_280];function _sfc_render80(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_180,_hoisted_379)}let hide_vue_vue_type_script_lang_default,_hoisted_1133,_hoisted_2133,_hoisted_3132,_hoisted_438;delete_default=export_helper_default(delete_vue_vue_type_script_lang_default,[["render",_sfc_render80],["__file","delete.vue"]]),hide_vue_vue_type_script_lang_default={name:"Hide"},_hoisted_1133={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2133=createBaseVNode("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),_hoisted_3132=createBaseVNode("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),_hoisted_438=[_hoisted_2133,_hoisted_3132];function _sfc_render133(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1133,_hoisted_438)}var hide_default=export_helper_default(hide_vue_vue_type_script_lang_default,[["render",_sfc_render133],["__file","hide.vue"]]),info_filled_vue_vue_type_script_lang_default={name:"InfoFilled"},_hoisted_1143={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2143=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),_hoisted_3142=[_hoisted_2143];function _sfc_render143(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1143,_hoisted_3142)}var info_filled_default=export_helper_default(info_filled_vue_vue_type_script_lang_default,[["render",_sfc_render143],["__file","info-filled.vue"]]),loading_vue_vue_type_script_lang_default={name:"Loading"},_hoisted_1150={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2150=createBaseVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),_hoisted_3149=[_hoisted_2150];function _sfc_render150(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1150,_hoisted_3149)}var loading_default=export_helper_default(loading_vue_vue_type_script_lang_default,[["render",_sfc_render150],["__file","loading.vue"]]),minus_vue_vue_type_script_lang_default={name:"Minus"},_hoisted_1169={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2169=createBaseVNode("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),_hoisted_3168=[_hoisted_2169];function _sfc_render169(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1169,_hoisted_3168)}var minus_default=export_helper_default(minus_vue_vue_type_script_lang_default,[["render",_sfc_render169],["__file","minus.vue"]]),more_filled_vue_vue_type_script_lang_default={name:"MoreFilled"},_hoisted_1174={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2174=createBaseVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z"},null,-1),_hoisted_3173=[_hoisted_2174];function _sfc_render174(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1174,_hoisted_3173)}var more_filled_default=export_helper_default(more_filled_vue_vue_type_script_lang_default,[["render",_sfc_render174],["__file","more-filled.vue"]]),more_vue_vue_type_script_lang_default={name:"More"},_hoisted_1175={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2175=createBaseVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),_hoisted_3174=[_hoisted_2175];function _sfc_render175(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1175,_hoisted_3174)}var more_default=export_helper_default(more_vue_vue_type_script_lang_default,[["render",_sfc_render175],["__file","more.vue"]]),plus_vue_vue_type_script_lang_default={name:"Plus"},_hoisted_1201={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2201=createBaseVNode("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),_hoisted_3200=[_hoisted_2201];function _sfc_render201(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1201,_hoisted_3200)}let question_filled_vue_vue_type_script_lang_default,_hoisted_1211,_hoisted_2211,_hoisted_3210;plus_default=export_helper_default(plus_vue_vue_type_script_lang_default,[["render",_sfc_render201],["__file","plus.vue"]]),question_filled_vue_vue_type_script_lang_default={name:"QuestionFilled"},_hoisted_1211={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2211=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"},null,-1),_hoisted_3210=[_hoisted_2211];function _sfc_render211(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1211,_hoisted_3210)}let success_filled_vue_vue_type_script_lang_default,_hoisted_1249,_hoisted_2249,_hoisted_3248;question_filled_default=export_helper_default(question_filled_vue_vue_type_script_lang_default,[["render",_sfc_render211],["__file","question-filled.vue"]]),success_filled_vue_vue_type_script_lang_default={name:"SuccessFilled"},_hoisted_1249={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2249=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),_hoisted_3248=[_hoisted_2249];function _sfc_render249(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1249,_hoisted_3248)}var success_filled_default=export_helper_default(success_filled_vue_vue_type_script_lang_default,[["render",_sfc_render249],["__file","success-filled.vue"]]),view_vue_vue_type_script_lang_default={name:"View"},_hoisted_1283={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2283=createBaseVNode("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),_hoisted_3282=[_hoisted_2283];function _sfc_render283(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1283,_hoisted_3282)}var view_default=export_helper_default(view_vue_vue_type_script_lang_default,[["render",_sfc_render283],["__file","view.vue"]]),warning_filled_vue_vue_type_script_lang_default={name:"WarningFilled"},_hoisted_1287={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_hoisted_2287=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),_hoisted_3286=[_hoisted_2287];function _sfc_render287(g,n,r,$,L,V){return openBlock(),createElementBlock("svg",_hoisted_1287,_hoisted_3286)}var warning_filled_default=export_helper_default(warning_filled_vue_vue_type_script_lang_default,[["render",_sfc_render287],["__file","warning-filled.vue"]]);let epPropKey,isEpProp,datePickTypes,componentSizes,componentSizeMap,getComponentSize;epPropKey="__epPropKey",definePropType=g=>g,isEpProp=g=>isObject$7(g)&&!!g[epPropKey],buildProp=(g,n)=>{if(!isObject$7(g)||isEpProp(g))return g;const{values:r,required:$,default:L,type:V,validator:oe}=g,re={type:V,required:!!$,validator:r||oe?ae=>{let le=!1,ue=[];if(r&&(ue=Array.from(r),hasOwn$1(g,"default")&&ue.push(L),le||(le=ue.includes(ae))),oe&&(le||(le=oe(ae))),!le&&ue.length>0){const de=[...new Set(ue)].map(pe=>JSON.stringify(pe)).join(", ");warn$1(`Invalid prop: validation failed${n?` for prop "${n}"`:""}. Expected one of [${de}], got value ${JSON.stringify(ae)}.`)}return le}:void 0,[epPropKey]:!0};return hasOwn$1(g,"default")&&(re.default=L),re},buildProps=g=>fromPairs(Object.entries(g).map(([n,r])=>[n,buildProp(r,n)])),iconPropType=definePropType([String,Object,Function]),CloseComponents={Close:close_default},TypeComponents={Close:close_default,SuccessFilled:success_filled_default,InfoFilled:info_filled_default,WarningFilled:warning_filled_default,CircleCloseFilled:circle_close_filled_default},TypeComponentsMap={success:success_filled_default,warning:warning_filled_default,error:circle_close_filled_default,info:info_filled_default},ValidateComponentsMap={validating:loading_default,success:circle_check_default,error:circle_close_default},withInstall=(g,n)=>{if(g.install=r=>{for(const $ of[g,...Object.values(n!=null?n:{})])r.component($.name,$)},n)for(const[r,$]of Object.entries(n))g[r]=$;return g},withInstallFunction=(g,n)=>(g.install=r=>{g._context=r._context,r.config.globalProperties[n]=g},g),withNoopInstall=g=>(g.install=NOOP,g),EVENT_CODE={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},datePickTypes=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],UPDATE_MODEL_EVENT="update:modelValue",CHANGE_EVENT="change",INPUT_EVENT="input",componentSizes=["","default","small","large"],componentSizeMap={large:40,default:32,small:24},getComponentSize=g=>componentSizeMap[g||"default"],isValidComponentSize=g=>["",...componentSizes].includes(g),PatchFlags=(g=>(g[g.TEXT=1]="TEXT",g[g.CLASS=2]="CLASS",g[g.STYLE=4]="STYLE",g[g.PROPS=8]="PROPS",g[g.FULL_PROPS=16]="FULL_PROPS",g[g.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",g[g.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",g[g.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",g[g.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",g[g.NEED_PATCH=512]="NEED_PATCH",g[g.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",g[g.HOISTED=-1]="HOISTED",g[g.BAIL=-2]="BAIL",g))(PatchFlags||{});let castArray,generateId,DEFAULT_EXCLUDE_KEYS,LISTENER_PREFIX,useAttrs,useFocus;flattedChildren=g=>{const n=isArray$7(g)?g:[g],r=[];return n.forEach($=>{var L;isArray$7($)?r.push(...flattedChildren($)):isVNode($)&&isArray$7($.children)?r.push(...flattedChildren($.children)):(r.push($),isVNode($)&&((L=$.component)==null?void 0:L.subTree)&&r.push(...flattedChildren($.component.subTree)))}),r},castArray=g=>!g&&g!==0?[]:Array.isArray(g)?g:[g],isFirefox=()=>isClient&&/firefox/i.test(window.navigator.userAgent),isKorean=g=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(g),generateId=()=>Math.floor(Math.random()*1e4),mutable=g=>g,DEFAULT_EXCLUDE_KEYS=["class","style"],LISTENER_PREFIX=/^on[A-Z]/,useAttrs=(g={})=>{const{excludeListeners:n=!1,excludeKeys:r}=g,$=computed(()=>((r==null?void 0:r.value)||[]).concat(DEFAULT_EXCLUDE_KEYS)),L=getCurrentInstance();return computed(L?()=>{var V;return fromPairs(Object.entries((V=L.proxy)==null?void 0:V.$attrs).filter(([oe])=>!$.value.includes(oe)&&!(n&&LISTENER_PREFIX.test(oe))))}:()=>({}))},useDeprecated=({from:g,replacement:n,scope:r,version:$,ref:L,type:V="API"},oe)=>{watch(()=>unref(oe),re=>{},{immediate:!0})},useFocus=g=>({focus:()=>{var n,r;(r=(n=g.value)==null?void 0:n.focus)==null||r.call(n)}});var English={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};let buildTranslator,translate,buildLocaleContext,localeContextKey,statePrefix,_bem,namespaceContextKey,useGetDerivedNamespace,_prop,_event,createModelToggleComposable,useProp;buildTranslator=g=>(n,r)=>translate(n,r,unref(g)),translate=(g,n,r)=>get(r,g,g).replace(/\{(\w+)\}/g,($,L)=>{var V;return`${(V=n==null?void 0:n[L])!=null?V:`{${L}}`}`}),buildLocaleContext=g=>{const n=computed(()=>unref(g).name),r=isRef(g)?g:ref(g);return{lang:n,locale:r,t:buildTranslator(g)}},localeContextKey=Symbol("localeContextKey"),useLocale=g=>{const n=g||inject(localeContextKey,ref());return buildLocaleContext(computed(()=>n.value||English))},defaultNamespace="el",statePrefix="is-",_bem=(g,n,r,$,L)=>{let V=`${g}-${n}`;return r&&(V+=`-${r}`),$&&(V+=`__${$}`),L&&(V+=`--${L}`),V},namespaceContextKey=Symbol("namespaceContextKey"),useGetDerivedNamespace=g=>{const n=g||inject(namespaceContextKey,ref(defaultNamespace));return computed(()=>unref(n)||defaultNamespace)},useNamespace=(g,n)=>{const r=useGetDerivedNamespace(n);return{namespace:r,b:($="")=>_bem(r.value,g,$,"",""),e:$=>$?_bem(r.value,g,"",$,""):"",m:$=>$?_bem(r.value,g,"","",$):"",be:($,L)=>$&&L?_bem(r.value,g,$,L,""):"",em:($,L)=>$&&L?_bem(r.value,g,"",$,L):"",bm:($,L)=>$&&L?_bem(r.value,g,$,"",L):"",bem:($,L,V)=>$&&L&&V?_bem(r.value,g,$,L,V):"",is:($,...L)=>{const V=L.length>=1?L[0]:!0;return $&&V?`${statePrefix}${$}`:""},cssVar:$=>{const L={};for(const V in $)$[V]&&(L[`--${r.value}-${V}`]=$[V]);return L},cssVarName:$=>`--${r.value}-${$}`,cssVarBlock:$=>{const L={};for(const V in $)$[V]&&(L[`--${r.value}-${g}-${V}`]=$[V]);return L},cssVarBlockName:$=>`--${r.value}-${g}-${$}`}},_prop=buildProp({type:definePropType(Boolean),default:null}),_event=buildProp({type:definePropType(Function)}),createModelToggleComposable=g=>{const n=`update:${g}`,r=`onUpdate:${g}`,$=[n],L={[g]:_prop,[r]:_event};return{useModelToggle:({indicator:V,toggleReason:oe,shouldHideWhenRouteChanges:re,shouldProceed:ae,onShow:le,onHide:ue})=>{const de=getCurrentInstance(),{emit:pe}=de,he=de.props,_e=computed(()=>isFunction$4(he[r])),Oe=computed(()=>he[g]===null),xe=Fe=>{V.value!==!0&&(V.value=!0,oe&&(oe.value=Fe),isFunction$4(le)&&le(Fe))},$e=Fe=>{V.value!==!1&&(V.value=!1,oe&&(oe.value=Fe),isFunction$4(ue)&&ue(Fe))},Ie=Fe=>{if(he.disabled===!0||isFunction$4(ae)&&!ae())return;const qe=_e.value&&isClient;qe&&pe(n,!0),(Oe.value||!qe)&&xe(Fe)},Ne=Fe=>{if(he.disabled===!0||!isClient)return;const qe=_e.value&&isClient;qe&&pe(n,!1),(Oe.value||!qe)&&$e(Fe)},ze=Fe=>{!isBoolean$2(Fe)||(he.disabled&&Fe?_e.value&&pe(n,!1):V.value!==Fe&&(Fe?xe():$e()))},Ue=()=>{V.value?Ne():Ie()};return watch(()=>he[g],ze),re&&de.appContext.config.globalProperties.$route!==void 0&&watch(()=>({...de.proxy.$route}),()=>{re.value&&V.value&&Ne()}),onMounted(()=>{ze(he[g])}),{hide:Ne,show:Ie,toggle:Ue,hasUpdateHandler:_e}},useModelToggleProps:L,useModelToggleEmits:$}},useProp=g=>{const n=getCurrentInstance();return computed(()=>{var r,$;return($=(r=n==null?void 0:n.proxy)==null?void 0:r.$props)==null?void 0:$[g]})};let E$1,R,W,P$1,me,G,U$1,J,Xe,je,K,Ye,De,Ge,Je,Ke,Qe,Ze,et,tt,nt,rt,ot;E$1="top",R="bottom",W="right",P$1="left",me="auto",G=[E$1,R,W,P$1],U$1="start",J="end",Xe="clippingParents",je="viewport",K="popper",Ye="reference",De=G.reduce(function(g,n){return g.concat([n+"-"+U$1,n+"-"+J])},[]),Ee=[].concat(G,[me]).reduce(function(g,n){return g.concat([n,n+"-"+U$1,n+"-"+J])},[]),Ge="beforeRead",Je="read",Ke="afterRead",Qe="beforeMain",Ze="main",et="afterMain",tt="beforeWrite",nt="write",rt="afterWrite",ot=[Ge,Je,Ke,Qe,Ze,et,tt,nt,rt];function C(g){return g?(g.nodeName||"").toLowerCase():null}function H(g){if(g==null)return window;if(g.toString()!=="[object Window]"){var n=g.ownerDocument;return n&&n.defaultView||window}return g}function Q(g){var n=H(g).Element;return g instanceof n||g instanceof Element}function B(g){var n=H(g).HTMLElement;return g instanceof n||g instanceof HTMLElement}function Pe(g){if(typeof ShadowRoot>"u")return!1;var n=H(g).ShadowRoot;return g instanceof n||g instanceof ShadowRoot}function Mt(g){var n=g.state;Object.keys(n.elements).forEach(function(r){var $=n.styles[r]||{},L=n.attributes[r]||{},V=n.elements[r];!B(V)||!C(V)||(Object.assign(V.style,$),Object.keys(L).forEach(function(oe){var re=L[oe];re===!1?V.removeAttribute(oe):V.setAttribute(oe,re===!0?"":re)}))})}function Rt(g){var n=g.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow),function(){Object.keys(n.elements).forEach(function($){var L=n.elements[$],V=n.attributes[$]||{},oe=Object.keys(n.styles.hasOwnProperty($)?n.styles[$]:r[$]),re=oe.reduce(function(ae,le){return ae[le]="",ae},{});!B(L)||!C(L)||(Object.assign(L.style,re),Object.keys(V).forEach(function(ae){L.removeAttribute(ae)}))})}}var Ae={name:"applyStyles",enabled:!0,phase:"write",fn:Mt,effect:Rt,requires:["computeStyles"]};function q(g){return g.split("-")[0]}var X$1=Math.max,ve=Math.min,Z=Math.round;function ee(g,n){n===void 0&&(n=!1);var r=g.getBoundingClientRect(),$=1,L=1;if(B(g)&&n){var V=g.offsetHeight,oe=g.offsetWidth;oe>0&&($=Z(r.width)/oe||1),V>0&&(L=Z(r.height)/V||1)}return{width:r.width/$,height:r.height/L,top:r.top/L,right:r.right/$,bottom:r.bottom/L,left:r.left/$,x:r.left/$,y:r.top/L}}function ke(g){var n=ee(g),r=g.offsetWidth,$=g.offsetHeight;return Math.abs(n.width-r)<=1&&(r=n.width),Math.abs(n.height-$)<=1&&($=n.height),{x:g.offsetLeft,y:g.offsetTop,width:r,height:$}}function it(g,n){var r=n.getRootNode&&n.getRootNode();if(g.contains(n))return!0;if(r&&Pe(r)){var $=n;do{if($&&g.isSameNode($))return!0;$=$.parentNode||$.host}while($)}return!1}function N$1(g){return H(g).getComputedStyle(g)}function Wt(g){return["table","td","th"].indexOf(C(g))>=0}function I$1(g){return((Q(g)?g.ownerDocument:g.document)||window.document).documentElement}function ge(g){return C(g)==="html"?g:g.assignedSlot||g.parentNode||(Pe(g)?g.host:null)||I$1(g)}function at(g){return!B(g)||N$1(g).position==="fixed"?null:g.offsetParent}function Bt(g){var n=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&B(g)){var $=N$1(g);if($.position==="fixed")return null}var L=ge(g);for(Pe(L)&&(L=L.host);B(L)&&["html","body"].indexOf(C(L))<0;){var V=N$1(L);if(V.transform!=="none"||V.perspective!=="none"||V.contain==="paint"||["transform","perspective"].indexOf(V.willChange)!==-1||n&&V.willChange==="filter"||n&&V.filter&&V.filter!=="none")return L;L=L.parentNode}return null}function se(g){for(var n=H(g),r=at(g);r&&Wt(r)&&N$1(r).position==="static";)r=at(r);return r&&(C(r)==="html"||C(r)==="body"&&N$1(r).position==="static")?n:r||Bt(g)||n}function Le(g){return["top","bottom"].indexOf(g)>=0?"x":"y"}function fe(g,n,r){return X$1(g,ve(n,r))}function St(g,n,r){var $=fe(g,n,r);return $>r?r:$}function st(){return{top:0,right:0,bottom:0,left:0}}function ft(g){return Object.assign({},st(),g)}function ct(g,n){return n.reduce(function(r,$){return r[$]=g,r},{})}var Tt=function(g,n){return g=typeof g=="function"?g(Object.assign({},n.rects,{placement:n.placement})):g,ft(typeof g!="number"?g:ct(g,G))};function Ht(g){var n,r=g.state,$=g.name,L=g.options,V=r.elements.arrow,oe=r.modifiersData.popperOffsets,re=q(r.placement),ae=Le(re),le=[P$1,W].indexOf(re)>=0,ue=le?"height":"width";if(!(!V||!oe)){var de=Tt(L.padding,r),pe=ke(V),he=ae==="y"?E$1:P$1,_e=ae==="y"?R:W,Oe=r.rects.reference[ue]+r.rects.reference[ae]-oe[ae]-r.rects.popper[ue],xe=oe[ae]-r.rects.reference[ae],$e=se(V),Ie=$e?ae==="y"?$e.clientHeight||0:$e.clientWidth||0:0,Ne=Oe/2-xe/2,ze=de[he],Ue=Ie-pe[ue]-de[_e],Fe=Ie/2-pe[ue]/2+Ne,qe=fe(ze,Fe,Ue),Et=ae;r.modifiersData[$]=(n={},n[Et]=qe,n.centerOffset=qe-Fe,n)}}function Ct(g){var n=g.state,r=g.options,$=r.element,L=$===void 0?"[data-popper-arrow]":$;L!=null&&(typeof L=="string"&&(L=n.elements.popper.querySelector(L),!L)||!it(n.elements.popper,L)||(n.elements.arrow=L))}var pt={name:"arrow",enabled:!0,phase:"main",fn:Ht,effect:Ct,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te(g){return g.split("-")[1]}var qt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vt(g){var n=g.x,r=g.y,$=window,L=$.devicePixelRatio||1;return{x:Z(n*L)/L||0,y:Z(r*L)/L||0}}function ut(g){var n,r=g.popper,$=g.popperRect,L=g.placement,V=g.variation,oe=g.offsets,re=g.position,ae=g.gpuAcceleration,le=g.adaptive,ue=g.roundOffsets,de=g.isFixed,pe=oe.x,he=pe===void 0?0:pe,_e=oe.y,Oe=_e===void 0?0:_e,xe=typeof ue=="function"?ue({x:he,y:Oe}):{x:he,y:Oe};he=xe.x,Oe=xe.y;var $e=oe.hasOwnProperty("x"),Ie=oe.hasOwnProperty("y"),Ne=P$1,ze=E$1,Ue=window;if(le){var Fe=se(r),qe="clientHeight",Et="clientWidth";if(Fe===H(r)&&(Fe=I$1(r),N$1(Fe).position!=="static"&&re==="absolute"&&(qe="scrollHeight",Et="scrollWidth")),Fe=Fe,L===E$1||(L===P$1||L===W)&&V===J){ze=R;var At=de&&Fe===Ue&&Ue.visualViewport?Ue.visualViewport.height:Fe[qe];Oe-=At-$.height,Oe*=ae?1:-1}if(L===P$1||(L===E$1||L===R)&&V===J){Ne=W;var kt=de&&Fe===Ue&&Ue.visualViewport?Ue.visualViewport.width:Fe[Et];he-=kt-$.width,he*=ae?1:-1}}var Dt=Object.assign({position:re},le&&qt),jt=ue===!0?Vt({x:he,y:Oe}):{x:he,y:Oe};if(he=jt.x,Oe=jt.y,ae){var Lt;return Object.assign({},Dt,(Lt={},Lt[ze]=Ie?"0":"",Lt[Ne]=$e?"0":"",Lt.transform=(Ue.devicePixelRatio||1)<=1?"translate("+he+"px, "+Oe+"px)":"translate3d("+he+"px, "+Oe+"px, 0)",Lt))}return Object.assign({},Dt,(n={},n[ze]=Ie?Oe+"px":"",n[Ne]=$e?he+"px":"",n.transform="",n))}function Nt(g){var n=g.state,r=g.options,$=r.gpuAcceleration,L=$===void 0?!0:$,V=r.adaptive,oe=V===void 0?!0:V,re=r.roundOffsets,ae=re===void 0?!0:re,le={placement:q(n.placement),variation:te(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:L,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,ut(Object.assign({},le,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:oe,roundOffsets:ae})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,ut(Object.assign({},le,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ae})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}var Me={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nt,data:{}},ye={passive:!0};function It(g){var n=g.state,r=g.instance,$=g.options,L=$.scroll,V=L===void 0?!0:L,oe=$.resize,re=oe===void 0?!0:oe,ae=H(n.elements.popper),le=[].concat(n.scrollParents.reference,n.scrollParents.popper);return V&&le.forEach(function(ue){ue.addEventListener("scroll",r.update,ye)}),re&&ae.addEventListener("resize",r.update,ye),function(){V&&le.forEach(function(ue){ue.removeEventListener("scroll",r.update,ye)}),re&&ae.removeEventListener("resize",r.update,ye)}}var Re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:It,data:{}},_t={left:"right",right:"left",bottom:"top",top:"bottom"};function be(g){return g.replace(/left|right|bottom|top/g,function(n){return _t[n]})}var zt={start:"end",end:"start"};function lt(g){return g.replace(/start|end/g,function(n){return zt[n]})}function We(g){var n=H(g),r=n.pageXOffset,$=n.pageYOffset;return{scrollLeft:r,scrollTop:$}}function Be(g){return ee(I$1(g)).left+We(g).scrollLeft}function Ft(g){var n=H(g),r=I$1(g),$=n.visualViewport,L=r.clientWidth,V=r.clientHeight,oe=0,re=0;return $&&(L=$.width,V=$.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(oe=$.offsetLeft,re=$.offsetTop)),{width:L,height:V,x:oe+Be(g),y:re}}function Ut(g){var n,r=I$1(g),$=We(g),L=(n=g.ownerDocument)==null?void 0:n.body,V=X$1(r.scrollWidth,r.clientWidth,L?L.scrollWidth:0,L?L.clientWidth:0),oe=X$1(r.scrollHeight,r.clientHeight,L?L.scrollHeight:0,L?L.clientHeight:0),re=-$.scrollLeft+Be(g),ae=-$.scrollTop;return N$1(L||r).direction==="rtl"&&(re+=X$1(r.clientWidth,L?L.clientWidth:0)-V),{width:V,height:oe,x:re,y:ae}}function Se(g){var n=N$1(g),r=n.overflow,$=n.overflowX,L=n.overflowY;return/auto|scroll|overlay|hidden/.test(r+L+$)}function dt(g){return["html","body","#document"].indexOf(C(g))>=0?g.ownerDocument.body:B(g)&&Se(g)?g:dt(ge(g))}function ce(g,n){var r;n===void 0&&(n=[]);var $=dt(g),L=$===((r=g.ownerDocument)==null?void 0:r.body),V=H($),oe=L?[V].concat(V.visualViewport||[],Se($)?$:[]):$,re=n.concat(oe);return L?re:re.concat(ce(ge(oe)))}function Te(g){return Object.assign({},g,{left:g.x,top:g.y,right:g.x+g.width,bottom:g.y+g.height})}function Xt(g){var n=ee(g);return n.top=n.top+g.clientTop,n.left=n.left+g.clientLeft,n.bottom=n.top+g.clientHeight,n.right=n.left+g.clientWidth,n.width=g.clientWidth,n.height=g.clientHeight,n.x=n.left,n.y=n.top,n}function ht(g,n){return n===je?Te(Ft(g)):Q(n)?Xt(n):Te(Ut(I$1(g)))}function Yt(g){var n=ce(ge(g)),r=["absolute","fixed"].indexOf(N$1(g).position)>=0,$=r&&B(g)?se(g):g;return Q($)?n.filter(function(L){return Q(L)&&it(L,$)&&C(L)!=="body"}):[]}function Gt(g,n,r){var $=n==="clippingParents"?Yt(g):[].concat(n),L=[].concat($,[r]),V=L[0],oe=L.reduce(function(re,ae){var le=ht(g,ae);return re.top=X$1(le.top,re.top),re.right=ve(le.right,re.right),re.bottom=ve(le.bottom,re.bottom),re.left=X$1(le.left,re.left),re},ht(g,V));return oe.width=oe.right-oe.left,oe.height=oe.bottom-oe.top,oe.x=oe.left,oe.y=oe.top,oe}function mt(g){var n=g.reference,r=g.element,$=g.placement,L=$?q($):null,V=$?te($):null,oe=n.x+n.width/2-r.width/2,re=n.y+n.height/2-r.height/2,ae;switch(L){case E$1:ae={x:oe,y:n.y-r.height};break;case R:ae={x:oe,y:n.y+n.height};break;case W:ae={x:n.x+n.width,y:re};break;case P$1:ae={x:n.x-r.width,y:re};break;default:ae={x:n.x,y:n.y}}var le=L?Le(L):null;if(le!=null){var ue=le==="y"?"height":"width";switch(V){case U$1:ae[le]=ae[le]-(n[ue]/2-r[ue]/2);break;case J:ae[le]=ae[le]+(n[ue]/2-r[ue]/2);break}}return ae}function ne(g,n){n===void 0&&(n={});var r=n,$=r.placement,L=$===void 0?g.placement:$,V=r.boundary,oe=V===void 0?Xe:V,re=r.rootBoundary,ae=re===void 0?je:re,le=r.elementContext,ue=le===void 0?K:le,de=r.altBoundary,pe=de===void 0?!1:de,he=r.padding,_e=he===void 0?0:he,Oe=ft(typeof _e!="number"?_e:ct(_e,G)),xe=ue===K?Ye:K,$e=g.rects.popper,Ie=g.elements[pe?xe:ue],Ne=Gt(Q(Ie)?Ie:Ie.contextElement||I$1(g.elements.popper),oe,ae),ze=ee(g.elements.reference),Ue=mt({reference:ze,element:$e,strategy:"absolute",placement:L}),Fe=Te(Object.assign({},$e,Ue)),qe=ue===K?Fe:ze,Et={top:Ne.top-qe.top+Oe.top,bottom:qe.bottom-Ne.bottom+Oe.bottom,left:Ne.left-qe.left+Oe.left,right:qe.right-Ne.right+Oe.right},At=g.modifiersData.offset;if(ue===K&&At){var kt=At[L];Object.keys(Et).forEach(function(Dt){var jt=[W,R].indexOf(Dt)>=0?1:-1,Lt=[E$1,R].indexOf(Dt)>=0?"y":"x";Et[Dt]+=kt[Lt]*jt})}return Et}function Jt(g,n){n===void 0&&(n={});var r=n,$=r.placement,L=r.boundary,V=r.rootBoundary,oe=r.padding,re=r.flipVariations,ae=r.allowedAutoPlacements,le=ae===void 0?Ee:ae,ue=te($),de=ue?re?De:De.filter(function(_e){return te(_e)===ue}):G,pe=de.filter(function(_e){return le.indexOf(_e)>=0});pe.length===0&&(pe=de);var he=pe.reduce(function(_e,Oe){return _e[Oe]=ne(g,{placement:Oe,boundary:L,rootBoundary:V,padding:oe})[q(Oe)],_e},{});return Object.keys(he).sort(function(_e,Oe){return he[_e]-he[Oe]})}function Kt(g){if(q(g)===me)return[];var n=be(g);return[lt(g),n,lt(n)]}function Qt(g){var n=g.state,r=g.options,$=g.name;if(!n.modifiersData[$]._skip){for(var L=r.mainAxis,V=L===void 0?!0:L,oe=r.altAxis,re=oe===void 0?!0:oe,ae=r.fallbackPlacements,le=r.padding,ue=r.boundary,de=r.rootBoundary,pe=r.altBoundary,he=r.flipVariations,_e=he===void 0?!0:he,Oe=r.allowedAutoPlacements,xe=n.options.placement,$e=q(xe),Ie=$e===xe,Ne=ae||(Ie||!_e?[be(xe)]:Kt(xe)),ze=[xe].concat(Ne).reduce(function(Wn,Mn){return Wn.concat(q(Mn)===me?Jt(n,{placement:Mn,boundary:ue,rootBoundary:de,padding:le,flipVariations:_e,allowedAutoPlacements:Oe}):Mn)},[]),Ue=n.rects.reference,Fe=n.rects.popper,qe=new Map,Et=!0,At=ze[0],kt=0;kt<ze.length;kt++){var Dt=ze[kt],jt=q(Dt),Lt=te(Dt)===U$1,hn=[E$1,R].indexOf(jt)>=0,Sn=hn?"width":"height",On=ne(n,{placement:Dt,boundary:ue,rootBoundary:de,altBoundary:pe,padding:le}),_n=hn?Lt?W:P$1:Lt?R:E$1;Ue[Sn]>Fe[Sn]&&(_n=be(_n));var xn=be(_n),bn=[];if(V&&bn.push(On[jt]<=0),re&&bn.push(On[_n]<=0,On[xn]<=0),bn.every(function(Wn){return Wn})){At=Dt,Et=!1;break}qe.set(Dt,bn)}if(Et)for(var Tn=_e?3:1,An=function(Wn){var Mn=ze.find(function(Fn){var In=qe.get(Fn);if(In)return In.slice(0,Wn).every(function(Nn){return Nn})});if(Mn)return At=Mn,"break"},En=Tn;En>0;En--){var Ln=An(En);if(Ln==="break")break}n.placement!==At&&(n.modifiersData[$]._skip=!0,n.placement=At,n.reset=!0)}}var vt={name:"flip",enabled:!0,phase:"main",fn:Qt,requiresIfExists:["offset"],data:{_skip:!1}};function gt(g,n,r){return r===void 0&&(r={x:0,y:0}),{top:g.top-n.height-r.y,right:g.right-n.width+r.x,bottom:g.bottom-n.height+r.y,left:g.left-n.width-r.x}}function yt(g){return[E$1,W,R,P$1].some(function(n){return g[n]>=0})}function Zt(g){var n=g.state,r=g.name,$=n.rects.reference,L=n.rects.popper,V=n.modifiersData.preventOverflow,oe=ne(n,{elementContext:"reference"}),re=ne(n,{altBoundary:!0}),ae=gt(oe,$),le=gt(re,L,V),ue=yt(ae),de=yt(le);n.modifiersData[r]={referenceClippingOffsets:ae,popperEscapeOffsets:le,isReferenceHidden:ue,hasPopperEscaped:de},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":ue,"data-popper-escaped":de})}var bt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zt};function en(g,n,r){var $=q(g),L=[P$1,E$1].indexOf($)>=0?-1:1,V=typeof r=="function"?r(Object.assign({},n,{placement:g})):r,oe=V[0],re=V[1];return oe=oe||0,re=(re||0)*L,[P$1,W].indexOf($)>=0?{x:re,y:oe}:{x:oe,y:re}}function tn(g){var n=g.state,r=g.options,$=g.name,L=r.offset,V=L===void 0?[0,0]:L,oe=Ee.reduce(function(ue,de){return ue[de]=en(de,n.rects,V),ue},{}),re=oe[n.placement],ae=re.x,le=re.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=ae,n.modifiersData.popperOffsets.y+=le),n.modifiersData[$]=oe}var wt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tn};function nn(g){var n=g.state,r=g.name;n.modifiersData[r]=mt({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}var He={name:"popperOffsets",enabled:!0,phase:"read",fn:nn,data:{}};function rn(g){return g==="x"?"y":"x"}function on(g){var n=g.state,r=g.options,$=g.name,L=r.mainAxis,V=L===void 0?!0:L,oe=r.altAxis,re=oe===void 0?!1:oe,ae=r.boundary,le=r.rootBoundary,ue=r.altBoundary,de=r.padding,pe=r.tether,he=pe===void 0?!0:pe,_e=r.tetherOffset,Oe=_e===void 0?0:_e,xe=ne(n,{boundary:ae,rootBoundary:le,padding:de,altBoundary:ue}),$e=q(n.placement),Ie=te(n.placement),Ne=!Ie,ze=Le($e),Ue=rn(ze),Fe=n.modifiersData.popperOffsets,qe=n.rects.reference,Et=n.rects.popper,At=typeof Oe=="function"?Oe(Object.assign({},n.rects,{placement:n.placement})):Oe,kt=typeof At=="number"?{mainAxis:At,altAxis:At}:Object.assign({mainAxis:0,altAxis:0},At),Dt=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,jt={x:0,y:0};if(Fe){if(V){var Lt,hn=ze==="y"?E$1:P$1,Sn=ze==="y"?R:W,On=ze==="y"?"height":"width",_n=Fe[ze],xn=_n+xe[hn],bn=_n-xe[Sn],Tn=he?-Et[On]/2:0,An=Ie===U$1?qe[On]:Et[On],En=Ie===U$1?-Et[On]:-qe[On],Ln=n.elements.arrow,Wn=he&&Ln?ke(Ln):{width:0,height:0},Mn=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:st(),Fn=Mn[hn],In=Mn[Sn],Nn=fe(0,qe[On],Wn[On]),Vn=Ne?qe[On]/2-Tn-Nn-Fn-kt.mainAxis:An-Nn-Fn-kt.mainAxis,Un=Ne?-qe[On]/2+Tn+Nn+In+kt.mainAxis:En+Nn+In+kt.mainAxis,Gn=n.elements.arrow&&se(n.elements.arrow),$n=Gn?ze==="y"?Gn.clientTop||0:Gn.clientLeft||0:0,kn=(Lt=Dt==null?void 0:Dt[ze])!=null?Lt:0,Bn=_n+Vn-kn-$n,Yn=_n+Un-kn,Jn=fe(he?ve(xn,Bn):xn,_n,he?X$1(bn,Yn):bn);Fe[ze]=Jn,jt[ze]=Jn-_n}if(re){var Kn,po=ze==="x"?E$1:P$1,oo=ze==="x"?R:W,lo=Fe[Ue],no=Ue==="y"?"height":"width",vo=lo+xe[po],Zn=lo-xe[oo],ho=[E$1,P$1].indexOf($e)!==-1,yo=(Kn=Dt==null?void 0:Dt[Ue])!=null?Kn:0,Oo=ho?vo:lo-qe[no]-Et[no]-yo+kt.altAxis,Co=ho?lo+qe[no]+Et[no]-yo-kt.altAxis:Zn,ro=he&&ho?St(Oo,lo,Co):fe(he?Oo:vo,lo,he?Co:Zn);Fe[Ue]=ro,jt[Ue]=ro-lo}n.modifiersData[$]=jt}}var xt={name:"preventOverflow",enabled:!0,phase:"main",fn:on,requiresIfExists:["offset"]};function an(g){return{scrollLeft:g.scrollLeft,scrollTop:g.scrollTop}}function sn(g){return g===H(g)||!B(g)?We(g):an(g)}function fn(g){var n=g.getBoundingClientRect(),r=Z(n.width)/g.offsetWidth||1,$=Z(n.height)/g.offsetHeight||1;return r!==1||$!==1}function cn(g,n,r){r===void 0&&(r=!1);var $=B(n),L=B(n)&&fn(n),V=I$1(n),oe=ee(g,L),re={scrollLeft:0,scrollTop:0},ae={x:0,y:0};return($||!$&&!r)&&((C(n)!=="body"||Se(V))&&(re=sn(n)),B(n)?(ae=ee(n,!0),ae.x+=n.clientLeft,ae.y+=n.clientTop):V&&(ae.x=Be(V))),{x:oe.left+re.scrollLeft-ae.x,y:oe.top+re.scrollTop-ae.y,width:oe.width,height:oe.height}}function pn(g){var n=new Map,r=new Set,$=[];g.forEach(function(V){n.set(V.name,V)});function L(V){r.add(V.name);var oe=[].concat(V.requires||[],V.requiresIfExists||[]);oe.forEach(function(re){if(!r.has(re)){var ae=n.get(re);ae&&L(ae)}}),$.push(V)}return g.forEach(function(V){r.has(V.name)||L(V)}),$}function un(g){var n=pn(g);return ot.reduce(function(r,$){return r.concat(n.filter(function(L){return L.phase===$}))},[])}function ln(g){var n;return function(){return n||(n=new Promise(function(r){Promise.resolve().then(function(){n=void 0,r(g())})})),n}}function dn(g){var n=g.reduce(function(r,$){var L=r[$.name];return r[$.name]=L?Object.assign({},L,$,{options:Object.assign({},L.options,$.options),data:Object.assign({},L.data,$.data)}):$,r},{});return Object.keys(n).map(function(r){return n[r]})}var Ot={placement:"bottom",modifiers:[],strategy:"absolute"};function $t(){for(var g=arguments.length,n=new Array(g),r=0;r<g;r++)n[r]=arguments[r];return!n.some(function($){return!($&&typeof $.getBoundingClientRect=="function")})}function we(g){g===void 0&&(g={});var n=g,r=n.defaultModifiers,$=r===void 0?[]:r,L=n.defaultOptions,V=L===void 0?Ot:L;return function(oe,re,ae){ae===void 0&&(ae=V);var le={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot,V),modifiersData:{},elements:{reference:oe,popper:re},attributes:{},styles:{}},ue=[],de=!1,pe={state:le,setOptions:function(Oe){var xe=typeof Oe=="function"?Oe(le.options):Oe;_e(),le.options=Object.assign({},V,le.options,xe),le.scrollParents={reference:Q(oe)?ce(oe):oe.contextElement?ce(oe.contextElement):[],popper:ce(re)};var $e=un(dn([].concat($,le.options.modifiers)));return le.orderedModifiers=$e.filter(function(Ie){return Ie.enabled}),he(),pe.update()},forceUpdate:function(){if(!de){var Oe=le.elements,xe=Oe.reference,$e=Oe.popper;if($t(xe,$e)){le.rects={reference:cn(xe,se($e),le.options.strategy==="fixed"),popper:ke($e)},le.reset=!1,le.placement=le.options.placement,le.orderedModifiers.forEach(function(Et){return le.modifiersData[Et.name]=Object.assign({},Et.data)});for(var Ie=0;Ie<le.orderedModifiers.length;Ie++){if(le.reset===!0){le.reset=!1,Ie=-1;continue}var Ne=le.orderedModifiers[Ie],ze=Ne.fn,Ue=Ne.options,Fe=Ue===void 0?{}:Ue,qe=Ne.name;typeof ze=="function"&&(le=ze({state:le,options:Fe,name:qe,instance:pe})||le)}}}},update:ln(function(){return new Promise(function(Oe){pe.forceUpdate(),Oe(le)})}),destroy:function(){_e(),de=!0}};if(!$t(oe,re))return pe;pe.setOptions(ae).then(function(Oe){!de&&ae.onFirstUpdate&&ae.onFirstUpdate(Oe)});function he(){le.orderedModifiers.forEach(function(Oe){var xe=Oe.name,$e=Oe.options,Ie=$e===void 0?{}:$e,Ne=Oe.effect;if(typeof Ne=="function"){var ze=Ne({state:le,name:xe,instance:pe,options:Ie}),Ue=function(){};ue.push(ze||Ue)}})}function _e(){ue.forEach(function(Oe){return Oe()}),ue=[]}return pe}}we();var mn=[Re,He,Me,Ae];we({defaultModifiers:mn});var gn=[Re,He,Me,Ae,wt,vt,xt,pt,bt],yn=we({defaultModifiers:gn});const usePopper=(g,n,r={})=>{const $={name:"updateState",enabled:!0,phase:"write",fn:({state:ae})=>{const le=deriveState(ae);Object.assign(oe.value,le)},requires:["computeStyles"]},L=computed(()=>{const{onFirstUpdate:ae,placement:le,strategy:ue,modifiers:de}=unref(r);return{onFirstUpdate:ae,placement:le||"bottom",strategy:ue||"absolute",modifiers:[...de||[],$,{name:"applyStyles",enabled:!1}]}}),V=shallowRef(),oe=ref({styles:{popper:{position:unref(L).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),re=()=>{!V.value||(V.value.destroy(),V.value=void 0)};return watch(L,ae=>{const le=unref(V);le&&le.setOptions(ae)},{deep:!0}),watch([g,n],([ae,le])=>{re(),!(!ae||!le)&&(V.value=yn(ae,le,unref(L)))}),onBeforeUnmount(()=>{re()}),{state:computed(()=>{var ae;return{...((ae=unref(V))==null?void 0:ae.state)||{}}}),styles:computed(()=>unref(oe).styles),attributes:computed(()=>unref(oe).attributes),update:()=>{var ae;return(ae=unref(V))==null?void 0:ae.update()},forceUpdate:()=>{var ae;return(ae=unref(V))==null?void 0:ae.forceUpdate()},instanceRef:computed(()=>unref(V))}};function deriveState(g){const n=Object.keys(g.elements),r=fromPairs(n.map(L=>[L,g.styles[L]||{}])),$=fromPairs(n.map(L=>[L,g.attributes[L]]));return{styles:r,attributes:$}}function useTimeout(){let g;const n=($,L)=>{r(),g=window.setTimeout($,L)},r=()=>window.clearTimeout(g);return tryOnScopeDispose(()=>r()),{registerTimeout:n,cancelTimeout:r}}let defaultIdInjection,ID_INJECTION_KEY,useIdInjection;defaultIdInjection={prefix:Math.floor(Math.random()*1e4),current:0},ID_INJECTION_KEY=Symbol("elIdInjection"),useIdInjection=()=>getCurrentInstance()?inject(ID_INJECTION_KEY,defaultIdInjection):defaultIdInjection,useId=g=>{const n=useIdInjection(),r=useGetDerivedNamespace();return computed(()=>unref(g)||`${r.value}-id-${n.prefix}-${n.current++}`)};let registeredEscapeHandlers=[];const cachedHandler=g=>{const n=g;n.key===EVENT_CODE.esc&&registeredEscapeHandlers.forEach(r=>r(n))},useEscapeKeydown=g=>{onMounted(()=>{registeredEscapeHandlers.length===0&&document.addEventListener("keydown",cachedHandler),isClient&&registeredEscapeHandlers.push(g)}),onBeforeUnmount(()=>{registeredEscapeHandlers=registeredEscapeHandlers.filter(n=>n!==g),registeredEscapeHandlers.length===0&&isClient&&document.removeEventListener("keydown",cachedHandler)})};let cachedContainer,usePopperContainerId,createContainer,usePopperContainer,useDelayedToggleProps,useDelayedToggle,FORWARD_REF_INJECTION_KEY,useForwardRef,useForwardRefDirective,zIndex,defaultInitialZIndex,zIndexContextKey;usePopperContainerId=()=>{const g=useGetDerivedNamespace(),n=useIdInjection(),r=computed(()=>`${g.value}-popper-container-${n.prefix}`),$=computed(()=>`#${r.value}`);return{id:r,selector:$}},createContainer=g=>{const n=document.createElement("div");return n.id=g,document.body.appendChild(n),n},usePopperContainer=()=>{const{id:g,selector:n}=usePopperContainerId();return onBeforeMount(()=>{!isClient||!cachedContainer&&!document.body.querySelector(n.value)&&(cachedContainer=createContainer(g.value))}),{id:g,selector:n}},useDelayedToggleProps=buildProps({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),useDelayedToggle=({showAfter:g,hideAfter:n,autoClose:r,open:$,close:L})=>{const{registerTimeout:V}=useTimeout(),{registerTimeout:oe,cancelTimeout:re}=useTimeout();return{onOpen:ae=>{V(()=>{$(ae);const le=unref(r);isNumber$2(le)&&le>0&&oe(()=>{L(ae)},le)},unref(g))},onClose:ae=>{re(),V(()=>{L(ae)},unref(n))}}},FORWARD_REF_INJECTION_KEY=Symbol("elForwardRef"),useForwardRef=g=>{provide(FORWARD_REF_INJECTION_KEY,{setForwardRef:n=>{g.value=n}})},useForwardRefDirective=g=>({mounted(n){g(n)},updated(n){g(n)},unmounted(){g(null)}}),zIndex=ref(0),defaultInitialZIndex=2e3,zIndexContextKey=Symbol("zIndexContextKey"),useZIndex=g=>{const n=g||inject(zIndexContextKey,void 0),r=computed(()=>{const L=unref(n);return isNumber$2(L)?L:defaultInitialZIndex}),$=computed(()=>r.value+zIndex.value);return{initialZIndex:r,currentZIndex:$,nextZIndex:()=>(zIndex.value++,$.value)}};function useCursor(g){const n=ref();function r(){if(g.value==null)return;const{selectionStart:L,selectionEnd:V,value:oe}=g.value;if(L==null||V==null)return;const re=oe.slice(0,Math.max(0,L)),ae=oe.slice(Math.max(0,V));n.value={selectionStart:L,selectionEnd:V,value:oe,beforeTxt:re,afterTxt:ae}}function $(){if(g.value==null||n.value==null)return;const{value:L}=g.value,{beforeTxt:V,afterTxt:oe,selectionStart:re}=n.value;if(V==null||oe==null||re==null)return;let ae=L.length;if(L.endsWith(oe))ae=L.length-oe.length;else if(L.startsWith(V))ae=V.length;else{const le=V[re-1],ue=L.indexOf(le,re-1);ue!==-1&&(ae=ue+1)}g.value.setSelectionRange(ae,ae)}return[r,$]}let SIZE_INJECTION_KEY,useGlobalSize,configProviderContextKey,globalConfig;useSizeProp=buildProp({type:String,values:componentSizes,required:!1}),SIZE_INJECTION_KEY=Symbol("size"),useGlobalSize=()=>{const g=inject(SIZE_INJECTION_KEY,{});return computed(()=>unref(g.size)||"")},configProviderContextKey=Symbol(),globalConfig=ref(),useGlobalConfig=function(n,r=void 0){const $=getCurrentInstance()?inject(configProviderContextKey,globalConfig):globalConfig;return n?computed(()=>{var L,V;return(V=(L=$.value)==null?void 0:L[n])!=null?V:r}):$},useGlobalComponentSettings=function(n,r){const $=useGlobalConfig(),L=useNamespace(n,computed(()=>{var ae;return((ae=$.value)==null?void 0:ae.namespace)||defaultNamespace})),V=useLocale(computed(()=>{var ae;return(ae=$.value)==null?void 0:ae.locale})),oe=useZIndex(computed(()=>{var ae;return((ae=$.value)==null?void 0:ae.zIndex)||defaultInitialZIndex})),re=computed(()=>{var ae;return unref(r)||((ae=$.value)==null?void 0:ae.size)||""});return provideGlobalConfig(computed(()=>unref($)||{})),{ns:L,locale:V,zIndex:oe,size:re}};let mergeConfig$2;provideGlobalConfig=(g,n,r=!1)=>{var $;const L=!!getCurrentInstance(),V=L?useGlobalConfig():void 0,oe=($=n==null?void 0:n.provide)!=null?$:L?provide:void 0;if(!oe)return;const re=computed(()=>{const ae=unref(g);return V!=null&&V.value?mergeConfig$2(V.value,ae):ae});return oe(configProviderContextKey,re),oe(localeContextKey,computed(()=>re.value.locale)),oe(namespaceContextKey,computed(()=>re.value.namespace)),oe(zIndexContextKey,computed(()=>re.value.zIndex)),oe(SIZE_INJECTION_KEY,{size:computed(()=>re.value.size||"")}),(r||!globalConfig.value)&&(globalConfig.value=re.value),re},mergeConfig$2=(g,n)=>{var r;const $=[...new Set([...keysOf(g),...keysOf(n)])],L={};for(const V of $)L[V]=(r=n[V])!=null?r:g[V];return L},_export_sfc$1=(g,n)=>{const r=g.__vccOpts||g;for(const[$,L]of n)r[$]=L;return r};const iconProps=buildProps({size:{type:definePropType([Number,String])},color:{type:String}}),__default__$Y=defineComponent({name:"ElIcon",inheritAttrs:!1}),_sfc_main$1m=defineComponent({...__default__$Y,props:iconProps,setup(g){const n=g,r=useNamespace("icon"),$=computed(()=>{const{size:L,color:V}=n;return!L&&!V?{}:{fontSize:isUndefined$2(L)?void 0:addUnit(L),"--color":V}});return(L,V)=>(openBlock(),createElementBlock("i",mergeProps({class:unref(r).b(),style:unref($)},L.$attrs),[renderSlot(L.$slots,"default")],16))}});var Icon=_export_sfc$1(_sfc_main$1m,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);let formContextKey,formItemContextKey,useFormDisabled,formMetaProps,formProps,formEmits;ElIcon=withInstall(Icon),formContextKey=Symbol("formContextKey"),formItemContextKey=Symbol("formItemContextKey"),useFormSize=(g,n={})=>{const r=ref(void 0),$=n.prop?r:useProp("size"),L=n.global?r:useGlobalSize(),V=n.form?{size:void 0}:inject(formContextKey,void 0),oe=n.formItem?{size:void 0}:inject(formItemContextKey,void 0);return computed(()=>$.value||unref(g)||(oe==null?void 0:oe.size)||(V==null?void 0:V.size)||L.value||"")},useFormDisabled=g=>{const n=useProp("disabled"),r=inject(formContextKey,void 0);return computed(()=>n.value||unref(g)||(r==null?void 0:r.disabled)||!1)},useFormItem=()=>{const g=inject(formContextKey,void 0),n=inject(formItemContextKey,void 0);return{form:g,formItem:n}},useFormItemInputId=(g,{formItemContext:n,disableIdGeneration:r,disableIdManagement:$})=>{r||(r=ref(!1)),$||($=ref(!1));const L=ref();let V;const oe=computed(()=>{var re;return!!(!g.label&&n&&n.inputIds&&((re=n.inputIds)==null?void 0:re.length)<=1)});return onMounted(()=>{V=watch([toRef(g,"id"),r],([re,ae])=>{const le=re!=null?re:ae?void 0:useId().value;le!==L.value&&(n!=null&&n.removeInputId&&(L.value&&n.removeInputId(L.value),!($!=null&&$.value)&&!ae&&le&&n.addInputId(le)),L.value=le)},{immediate:!0})}),onUnmounted(()=>{V&&V(),(n==null?void 0:n.removeInputId)&&L.value&&n.removeInputId(L.value)}),{isLabeledByFormItem:oe,inputId:L}},formMetaProps=buildProps({size:{type:String,values:componentSizes},disabled:Boolean}),formProps=buildProps({...formMetaProps,model:Object,rules:{type:definePropType(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),formEmits={validate:(g,n,r)=>(isArray$7(g)||isString$4(g))&&isBoolean$2(n)&&isString$4(r)};function useFormLabelWidth(){const g=ref([]),n=computed(()=>{if(!g.value.length)return"0";const V=Math.max(...g.value);return V?`${V}px`:""});function r(V){const oe=g.value.indexOf(V);return oe===-1&&n.value,oe}function $(V,oe){if(V&&oe){const re=r(oe);g.value.splice(re,1,V)}else V&&g.value.push(V)}function L(V){const oe=r(V);oe>-1&&g.value.splice(oe,1)}return{autoLabelWidth:n,registerLabelWidth:$,deregisterLabelWidth:L}}const filterFields=(g,n)=>{const r=castArray$1(n);return r.length>0?g.filter($=>$.prop&&r.includes($.prop)):g},COMPONENT_NAME$9="ElForm",__default__$X=defineComponent({name:COMPONENT_NAME$9}),_sfc_main$1l=defineComponent({...__default__$X,props:formProps,emits:formEmits,setup(g,{expose:n,emit:r}){const $=g,L=[],V=useFormSize(),oe=useNamespace("form"),re=computed(()=>{const{labelPosition:Ie,inline:Ne}=$;return[oe.b(),oe.m(V.value||"default"),{[oe.m(`label-${Ie}`)]:Ie,[oe.m("inline")]:Ne}]}),ae=Ie=>{L.push(Ie)},le=Ie=>{Ie.prop&&L.splice(L.indexOf(Ie),1)},ue=(Ie=[])=>{!$.model||filterFields(L,Ie).forEach(Ne=>Ne.resetField())},de=(Ie=[])=>{filterFields(L,Ie).forEach(Ne=>Ne.clearValidate())},pe=computed(()=>!!$.model),he=Ie=>{if(L.length===0)return[];const Ne=filterFields(L,Ie);return Ne.length?Ne:[]},_e=async Ie=>xe(void 0,Ie),Oe=async(Ie=[])=>{if(!pe.value)return!1;const Ne=he(Ie);if(Ne.length===0)return!0;let ze={};for(const Ue of Ne)try{await Ue.validate("")}catch(Fe){ze={...ze,...Fe}}return Object.keys(ze).length===0?!0:Promise.reject(ze)},xe=async(Ie=[],Ne)=>{const ze=!isFunction$4(Ne);try{const Ue=await Oe(Ie);return Ue===!0&&(Ne==null||Ne(Ue)),Ue}catch(Ue){if(Ue instanceof Error)throw Ue;const Fe=Ue;return $.scrollToError&&$e(Object.keys(Fe)[0]),Ne==null||Ne(!1,Fe),ze&&Promise.reject(Fe)}},$e=Ie=>{var Ne;const ze=filterFields(L,Ie)[0];ze&&((Ne=ze.$el)==null||Ne.scrollIntoView($.scrollIntoViewOptions))};return watch(()=>$.rules,()=>{$.validateOnRuleChange&&_e().catch(Ie=>{})},{deep:!0}),provide(formContextKey,reactive({...toRefs($),emit:r,resetFields:ue,clearValidate:de,validateField:xe,addField:ae,removeField:le,...useFormLabelWidth()})),n({validate:_e,validateField:xe,resetFields:ue,clearValidate:de,scrollToField:$e}),(Ie,Ne)=>(openBlock(),createElementBlock("form",{class:normalizeClass(unref(re))},[renderSlot(Ie.$slots,"default")],2))}});var Form=_export_sfc$1(_sfc_main$1l,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function _extends(){return _extends=Object.assign?Object.assign.bind():function(g){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var $ in r)Object.prototype.hasOwnProperty.call(r,$)&&(g[$]=r[$])}return g},_extends.apply(this,arguments)}function _inheritsLoose(g,n){g.prototype=Object.create(n.prototype),g.prototype.constructor=g,_setPrototypeOf(g,n)}function _getPrototypeOf(g){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf(g)}function _setPrototypeOf(g,n){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,$){return r.__proto__=$,r},_setPrototypeOf(g,n)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(g,n,r){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function($,L,V){var oe=[null];oe.push.apply(oe,L);var re=Function.bind.apply($,oe),ae=new re;return V&&_setPrototypeOf(ae,V.prototype),ae},_construct.apply(null,arguments)}function _isNativeFunction(g){return Function.toString.call(g).indexOf("[native code]")!==-1}function _wrapNativeSuper(g){var n=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(r){if(r===null||!_isNativeFunction(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(r))return n.get(r);n.set(r,$)}function $(){return _construct(r,arguments,_getPrototypeOf(this).constructor)}return $.prototype=Object.create(r.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf($,r)},_wrapNativeSuper(g)}var formatRegExp=/%[sdj%]/g,warning=function(){};typeof process<"u"&&process.env;function convertFieldsError(g){if(!g||!g.length)return null;var n={};return g.forEach(function(r){var $=r.field;n[$]=n[$]||[],n[$].push(r)}),n}function format(g){for(var n=arguments.length,r=new Array(n>1?n-1:0),$=1;$<n;$++)r[$-1]=arguments[$];var L=0,V=r.length;if(typeof g=="function")return g.apply(null,r);if(typeof g=="string"){var oe=g.replace(formatRegExp,function(re){if(re==="%%")return"%";if(L>=V)return re;switch(re){case"%s":return String(r[L++]);case"%d":return Number(r[L++]);case"%j":try{return JSON.stringify(r[L++])}catch{return"[Circular]"}break;default:return re}});return oe}return g}function isNativeStringType(g){return g==="string"||g==="url"||g==="hex"||g==="email"||g==="date"||g==="pattern"}function isEmptyValue(g,n){return!!(g==null||n==="array"&&Array.isArray(g)&&!g.length||isNativeStringType(n)&&typeof g=="string"&&!g)}function asyncParallelArray(g,n,r){var $=[],L=0,V=g.length;function oe(re){$.push.apply($,re||[]),L++,L===V&&r($)}g.forEach(function(re){n(re,oe)})}function asyncSerialArray(g,n,r){var $=0,L=g.length;function V(oe){if(oe&&oe.length){r(oe);return}var re=$;$=$+1,re<L?n(g[re],V):r([])}V([])}function flattenObjArr(g){var n=[];return Object.keys(g).forEach(function(r){n.push.apply(n,g[r]||[])}),n}var AsyncValidationError=function(g){_inheritsLoose(n,g);function n(r,$){var L;return L=g.call(this,"Async Validation Error")||this,L.errors=r,L.fields=$,L}return n}(_wrapNativeSuper(Error));function asyncMap(g,n,r,$,L){if(n.first){var V=new Promise(function(pe,he){var _e=function(xe){return $(xe),xe.length?he(new AsyncValidationError(xe,convertFieldsError(xe))):pe(L)},Oe=flattenObjArr(g);asyncSerialArray(Oe,r,_e)});return V.catch(function(pe){return pe}),V}var oe=n.firstFields===!0?Object.keys(g):n.firstFields||[],re=Object.keys(g),ae=re.length,le=0,ue=[],de=new Promise(function(pe,he){var _e=function(Oe){if(ue.push.apply(ue,Oe),le++,le===ae)return $(ue),ue.length?he(new AsyncValidationError(ue,convertFieldsError(ue))):pe(L)};re.length||($(ue),pe(L)),re.forEach(function(Oe){var xe=g[Oe];oe.indexOf(Oe)!==-1?asyncSerialArray(xe,r,_e):asyncParallelArray(xe,r,_e)})});return de.catch(function(pe){return pe}),de}function isErrorObj(g){return!!(g&&g.message!==void 0)}function getValue(g,n){for(var r=g,$=0;$<n.length;$++){if(r==null)return r;r=r[n[$]]}return r}function complementError(g,n){return function(r){var $;return g.fullFields?$=getValue(n,g.fullFields):$=n[r.field||g.fullField],isErrorObj(r)?(r.field=r.field||g.fullField,r.fieldValue=$,r):{message:typeof r=="function"?r():r,fieldValue:$,field:r.field||g.fullField}}}function deepMerge(g,n){if(n){for(var r in n)if(n.hasOwnProperty(r)){var $=n[r];typeof $=="object"&&typeof g[r]=="object"?g[r]=_extends({},g[r],$):g[r]=$}}return g}var required$1=function(g,n,r,$,L,V){g.required&&(!r.hasOwnProperty(g.field)||isEmptyValue(n,V||g.type))&&$.push(format(L.messages.required,g.fullField))},whitespace=function(g,n,r,$,L){(/^\s+$/.test(n)||n==="")&&$.push(format(L.messages.whitespace,g.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var g="[a-fA-F\\d:]",n=function(Ne){return Ne&&Ne.includeBoundaries?"(?:(?<=\\s|^)(?="+g+")|(?<="+g+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",$="[a-fA-F\\d]{1,4}",L=(`
(?:
(?:`+$+":){7}(?:"+$+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+$+":){6}(?:"+r+"|:"+$+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+$+":){5}(?::"+r+"|(?::"+$+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+$+":){4}(?:(?::"+$+"){0,1}:"+r+"|(?::"+$+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+$+":){3}(?:(?::"+$+"){0,2}:"+r+"|(?::"+$+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+$+":){2}(?:(?::"+$+"){0,3}:"+r+"|(?::"+$+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+$+":){1}(?:(?::"+$+"){0,4}:"+r+"|(?::"+$+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+$+"){0,5}:"+r+"|(?::"+$+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),V=new RegExp("(?:^"+r+"$)|(?:^"+L+"$)"),oe=new RegExp("^"+r+"$"),re=new RegExp("^"+L+"$"),ae=function(Ne){return Ne&&Ne.exact?V:new RegExp("(?:"+n(Ne)+r+n(Ne)+")|(?:"+n(Ne)+L+n(Ne)+")","g")};ae.v4=function(Ne){return Ne&&Ne.exact?oe:new RegExp(""+n(Ne)+r+n(Ne),"g")},ae.v6=function(Ne){return Ne&&Ne.exact?re:new RegExp(""+n(Ne)+L+n(Ne),"g")};var le="(?:(?:[a-z]+:)?//)",ue="(?:\\S+(?::\\S*)?@)?",de=ae.v4().source,pe=ae.v6().source,he="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",_e="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",Oe="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",xe="(?::\\d{2,5})?",$e='(?:[/?#][^\\s"]*)?',Ie="(?:"+le+"|www\\.)"+ue+"(?:localhost|"+de+"|"+pe+"|"+he+_e+Oe+")"+xe+$e;return urlReg=new RegExp("(?:^"+Ie+"$)","i"),urlReg},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types={integer:function(g){return types.number(g)&&parseInt(g,10)===g},float:function(g){return types.number(g)&&!types.integer(g)},array:function(g){return Array.isArray(g)},regexp:function(g){if(g instanceof RegExp)return!0;try{return!!new RegExp(g)}catch{return!1}},date:function(g){return typeof g.getTime=="function"&&typeof g.getMonth=="function"&&typeof g.getYear=="function"&&!isNaN(g.getTime())},number:function(g){return isNaN(g)?!1:typeof g=="number"},object:function(g){return typeof g=="object"&&!types.array(g)},method:function(g){return typeof g=="function"},email:function(g){return typeof g=="string"&&g.length<=320&&!!g.match(pattern$2.email)},url:function(g){return typeof g=="string"&&g.length<=2048&&!!g.match(getUrlRegex())},hex:function(g){return typeof g=="string"&&!!g.match(pattern$2.hex)}},type$1=function(g,n,r,$,L){if(g.required&&n===void 0){required$1(g,n,r,$,L);return}var V=["integer","float","array","regexp","object","method","email","number","date","url","hex"],oe=g.type;V.indexOf(oe)>-1?types[oe](n)||$.push(format(L.messages.types[oe],g.fullField,g.type)):oe&&typeof n!==g.type&&$.push(format(L.messages.types[oe],g.fullField,g.type))},range=function(g,n,r,$,L){var V=typeof g.len=="number",oe=typeof g.min=="number",re=typeof g.max=="number",ae=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,le=n,ue=null,de=typeof n=="number",pe=typeof n=="string",he=Array.isArray(n);if(de?ue="number":pe?ue="string":he&&(ue="array"),!ue)return!1;he&&(le=n.length),pe&&(le=n.replace(ae,"_").length),V?le!==g.len&&$.push(format(L.messages[ue].len,g.fullField,g.len)):oe&&!re&&le<g.min?$.push(format(L.messages[ue].min,g.fullField,g.min)):re&&!oe&&le>g.max?$.push(format(L.messages[ue].max,g.fullField,g.max)):oe&&re&&(le<g.min||le>g.max)&&$.push(format(L.messages[ue].range,g.fullField,g.min,g.max))},ENUM$1="enum",enumerable$1=function(g,n,r,$,L){g[ENUM$1]=Array.isArray(g[ENUM$1])?g[ENUM$1]:[],g[ENUM$1].indexOf(n)===-1&&$.push(format(L.messages[ENUM$1],g.fullField,g[ENUM$1].join(", ")))},pattern$1=function(g,n,r,$,L){if(g.pattern){if(g.pattern instanceof RegExp)g.pattern.lastIndex=0,g.pattern.test(n)||$.push(format(L.messages.pattern.mismatch,g.fullField,n,g.pattern));else if(typeof g.pattern=="string"){var V=new RegExp(g.pattern);V.test(n)||$.push(format(L.messages.pattern.mismatch,g.fullField,n,g.pattern))}}},rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue(n,"string")&&!g.required)return r();rules.required(g,n,$,V,L,"string"),isEmptyValue(n,"string")||(rules.type(g,n,$,V,L),rules.range(g,n,$,V,L),rules.pattern(g,n,$,V,L),g.whitespace===!0&&rules.whitespace(g,n,$,V,L))}r(V)},method=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue(n)&&!g.required)return r();rules.required(g,n,$,V,L),n!==void 0&&rules.type(g,n,$,V,L)}r(V)},number=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(n===""&&(n=void 0),isEmptyValue(n)&&!g.required)return r();rules.required(g,n,$,V,L),n!==void 0&&(rules.type(g,n,$,V,L),rules.range(g,n,$,V,L))}r(V)},_boolean=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue(n)&&!g.required)return r();rules.required(g,n,$,V,L),n!==void 0&&rules.type(g,n,$,V,L)}r(V)},regexp=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue(n)&&!g.required)return r();rules.required(g,n,$,V,L),isEmptyValue(n)||rules.type(g,n,$,V,L)}r(V)},integer=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue(n)&&!g.required)return r();rules.required(g,n,$,V,L),n!==void 0&&(rules.type(g,n,$,V,L),rules.range(g,n,$,V,L))}r(V)},floatFn=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue(n)&&!g.required)return r();rules.required(g,n,$,V,L),n!==void 0&&(rules.type(g,n,$,V,L),rules.range(g,n,$,V,L))}r(V)},array=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(n==null&&!g.required)return r();rules.required(g,n,$,V,L,"array"),n!=null&&(rules.type(g,n,$,V,L),rules.range(g,n,$,V,L))}r(V)},object=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue(n)&&!g.required)return r();rules.required(g,n,$,V,L),n!==void 0&&rules.type(g,n,$,V,L)}r(V)},ENUM="enum",enumerable=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue(n)&&!g.required)return r();rules.required(g,n,$,V,L),n!==void 0&&rules[ENUM](g,n,$,V,L)}r(V)},pattern=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue(n,"string")&&!g.required)return r();rules.required(g,n,$,V,L),isEmptyValue(n,"string")||rules.pattern(g,n,$,V,L)}r(V)},date$1=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue(n,"date")&&!g.required)return r();if(rules.required(g,n,$,V,L),!isEmptyValue(n,"date")){var re;n instanceof Date?re=n:re=new Date(n),rules.type(g,re,$,V,L),re&&rules.range(g,re.getTime(),$,V,L)}}r(V)},required=function(g,n,r,$,L){var V=[],oe=Array.isArray(n)?"array":typeof n;rules.required(g,n,$,V,L,oe),r(V)},type=function(g,n,r,$,L){var V=g.type,oe=[],re=g.required||!g.required&&$.hasOwnProperty(g.field);if(re){if(isEmptyValue(n,V)&&!g.required)return r();rules.required(g,n,$,oe,L,V),isEmptyValue(n,V)||rules.type(g,n,$,oe,L)}r(oe)},any=function(g,n,r,$,L){var V=[],oe=g.required||!g.required&&$.hasOwnProperty(g.field);if(oe){if(isEmptyValue(n)&&!g.required)return r();rules.required(g,n,$,V,L)}r(V)},validators$3={string,method,number,boolean:_boolean,regexp,integer,float:floatFn,array,object,enum:enumerable,pattern,date:date$1,url:type,hex:type,email:type,required,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var g=JSON.parse(JSON.stringify(this));return g.clone=this.clone,g}}}var messages=newMessages(),Schema=function(){function g(r){this.rules=null,this._messages=messages,this.define(r)}var n=g.prototype;return n.define=function(r){var $=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(L){var V=r[L];$.rules[L]=Array.isArray(V)?V:[V]})},n.messages=function(r){return r&&(this._messages=deepMerge(newMessages(),r)),this._messages},n.validate=function(r,$,L){var V=this;$===void 0&&($={}),L===void 0&&(L=function(){});var oe=r,re=$,ae=L;if(typeof re=="function"&&(ae=re,re={}),!this.rules||Object.keys(this.rules).length===0)return ae&&ae(null,oe),Promise.resolve(oe);function le(_e){var Oe=[],xe={};function $e(Ne){if(Array.isArray(Ne)){var ze;Oe=(ze=Oe).concat.apply(ze,Ne)}else Oe.push(Ne)}for(var Ie=0;Ie<_e.length;Ie++)$e(_e[Ie]);Oe.length?(xe=convertFieldsError(Oe),ae(Oe,xe)):ae(null,oe)}if(re.messages){var ue=this.messages();ue===messages&&(ue=newMessages()),deepMerge(ue,re.messages),re.messages=ue}else re.messages=this.messages();var de={},pe=re.keys||Object.keys(this.rules);pe.forEach(function(_e){var Oe=V.rules[_e],xe=oe[_e];Oe.forEach(function($e){var Ie=$e;typeof Ie.transform=="function"&&(oe===r&&(oe=_extends({},oe)),xe=oe[_e]=Ie.transform(xe)),typeof Ie=="function"?Ie={validator:Ie}:Ie=_extends({},Ie),Ie.validator=V.getValidationMethod(Ie),Ie.validator&&(Ie.field=_e,Ie.fullField=Ie.fullField||_e,Ie.type=V.getType(Ie),de[_e]=de[_e]||[],de[_e].push({rule:Ie,value:xe,source:oe,field:_e}))})});var he={};return asyncMap(de,re,function(_e,Oe){var Ue;var xe=_e.rule,$e=(xe.type==="object"||xe.type==="array")&&(typeof xe.fields=="object"||typeof xe.defaultField=="object");$e=$e&&(xe.required||!xe.required&&_e.value),xe.field=_e.field;function Ie(Fe,qe){return _extends({},qe,{fullField:xe.fullField+"."+Fe,fullFields:xe.fullFields?[].concat(xe.fullFields,[Fe]):[Fe]})}function Ne(Fe){Fe===void 0&&(Fe=[]);var qe=Array.isArray(Fe)?Fe:[Fe];!re.suppressWarning&&qe.length&&g.warning("async-validator:",qe),qe.length&&xe.message!==void 0&&(qe=[].concat(xe.message));var Et=qe.map(complementError(xe,oe));if(re.first&&Et.length)return he[xe.field]=1,Oe(Et);if(!$e)Oe(Et);else{if(xe.required&&!_e.value)return xe.message!==void 0?Et=[].concat(xe.message).map(complementError(xe,oe)):re.error&&(Et=[re.error(xe,format(re.messages.required,xe.field))]),Oe(Et);var At={};xe.defaultField&&Object.keys(_e.value).map(function(jt){At[jt]=xe.defaultField}),At=_extends({},At,_e.rule.fields);var kt={};Object.keys(At).forEach(function(jt){var Lt=At[jt],hn=Array.isArray(Lt)?Lt:[Lt];kt[jt]=hn.map(Ie.bind(null,jt))});var Dt=new g(kt);Dt.messages(re.messages),_e.rule.options&&(_e.rule.options.messages=re.messages,_e.rule.options.error=re.error),Dt.validate(_e.value,_e.rule.options||re,function(jt){var Lt=[];Et&&Et.length&&Lt.push.apply(Lt,Et),jt&&jt.length&&Lt.push.apply(Lt,jt),Oe(Lt.length?Lt:null)})}}var ze;if(xe.asyncValidator)ze=xe.asyncValidator(xe,_e.value,Ne,_e.source,re);else if(xe.validator){try{ze=xe.validator(xe,_e.value,Ne,_e.source,re)}catch(Fe){(Ue=console.error)==null||Ue.call(console,Fe),re.suppressValidatorError||setTimeout(function(){throw Fe},0),Ne(Fe.message)}ze===!0?Ne():ze===!1?Ne(typeof xe.message=="function"?xe.message(xe.fullField||xe.field):xe.message||(xe.fullField||xe.field)+" fails"):ze instanceof Array?Ne(ze):ze instanceof Error&&Ne(ze.message)}ze&&ze.then&&ze.then(function(){return Ne()},function(Fe){return Ne(Fe)})},function(_e){le(_e)},oe)},n.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!validators$3.hasOwnProperty(r.type))throw new Error(format("Unknown rule type %s",r.type));return r.type||"string"},n.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var $=Object.keys(r),L=$.indexOf("message");return L!==-1&&$.splice(L,1),$.length===1&&$[0]==="required"?validators$3.required:validators$3[this.getType(r)]||void 0},g}();Schema.register=function(g,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators$3[g]=n},Schema.warning=warning,Schema.messages=messages,Schema.validators=validators$3;const formItemValidateStates=["","error","validating","success"],formItemProps=buildProps({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:definePropType([String,Array])},required:{type:Boolean,default:void 0},rules:{type:definePropType([Object,Array])},error:String,validateStatus:{type:String,values:formItemValidateStates},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:componentSizes}}),COMPONENT_NAME$8="ElLabelWrap";var FormLabelWrap=defineComponent({name:COMPONENT_NAME$8,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(g,{slots:n}){const r=inject(formContextKey,void 0),$=inject(formItemContextKey);$||throwError(COMPONENT_NAME$8,"usage: <el-form-item><label-wrap /></el-form-item>");const L=useNamespace("form"),V=ref(),oe=ref(0),re=()=>{var ue;if((ue=V.value)!=null&&ue.firstElementChild){const de=window.getComputedStyle(V.value.firstElementChild).width;return Math.ceil(Number.parseFloat(de))}else return 0},ae=(ue="update")=>{nextTick(()=>{n.default&&g.isAutoWidth&&(ue==="update"?oe.value=re():ue==="remove"&&(r==null||r.deregisterLabelWidth(oe.value)))})},le=()=>ae("update");return onMounted(()=>{le()}),onBeforeUnmount(()=>{ae("remove")}),onUpdated(()=>le()),watch(oe,(ue,de)=>{g.updateAll&&(r==null||r.registerLabelWidth(ue,de))}),useResizeObserver(computed(()=>{var ue,de;return(de=(ue=V.value)==null?void 0:ue.firstElementChild)!=null?de:null}),le),()=>{var ue,de;if(!n)return null;const{isAutoWidth:pe}=g;if(pe){const he=r==null?void 0:r.autoLabelWidth,_e=$==null?void 0:$.hasLabel,Oe={};if(_e&&he&&he!=="auto"){const xe=Math.max(0,Number.parseInt(he,10)-oe.value),$e=r.labelPosition==="left"?"marginRight":"marginLeft";xe&&(Oe[$e]=`${xe}px`)}return createVNode$1("div",{ref:V,class:[L.be("item","label-wrap")],style:Oe},[(ue=n.default)==null?void 0:ue.call(n)])}else return createVNode$1(Fragment,{ref:V},[(de=n.default)==null?void 0:de.call(n)])}}});const _hoisted_1$F=["role","aria-labelledby"],__default__$W=defineComponent({name:"ElFormItem"}),_sfc_main$1k=defineComponent({...__default__$W,props:formItemProps,setup(g,{expose:n}){const r=g,$=useSlots(),L=inject(formContextKey,void 0),V=inject(formItemContextKey,void 0),oe=useFormSize(void 0,{formItem:!1}),re=useNamespace("form-item"),ae=useId().value,le=ref([]),ue=ref(""),de=refDebounced(ue,100),pe=ref(""),he=ref();let _e,Oe=!1;const xe=computed(()=>{if((L==null?void 0:L.labelPosition)==="top")return{};const In=addUnit(r.labelWidth||(L==null?void 0:L.labelWidth)||"");return In?{width:In}:{}}),$e=computed(()=>{if((L==null?void 0:L.labelPosition)==="top"||(L==null?void 0:L.inline))return{};if(!r.label&&!r.labelWidth&&At)return{};const In=addUnit(r.labelWidth||(L==null?void 0:L.labelWidth)||"");return!r.label&&!$.label?{marginLeft:In}:{}}),Ie=computed(()=>[re.b(),re.m(oe.value),re.is("error",ue.value==="error"),re.is("validating",ue.value==="validating"),re.is("success",ue.value==="success"),re.is("required",hn.value||r.required),re.is("no-asterisk",L==null?void 0:L.hideRequiredAsterisk),(L==null?void 0:L.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[re.m("feedback")]:L==null?void 0:L.statusIcon}]),Ne=computed(()=>isBoolean$2(r.inlineMessage)?r.inlineMessage:(L==null?void 0:L.inlineMessage)||!1),ze=computed(()=>[re.e("error"),{[re.em("error","inline")]:Ne.value}]),Ue=computed(()=>r.prop?isString$4(r.prop)?r.prop:r.prop.join("."):""),Fe=computed(()=>!!(r.label||$.label)),qe=computed(()=>r.for||le.value.length===1?le.value[0]:void 0),Et=computed(()=>!qe.value&&Fe.value),At=!!V,kt=computed(()=>{const In=L==null?void 0:L.model;if(!(!In||!r.prop))return getProp(In,r.prop).value}),Dt=computed(()=>{const{required:In}=r,Nn=[];r.rules&&Nn.push(...castArray$1(r.rules));const Vn=L==null?void 0:L.rules;if(Vn&&r.prop){const Un=getProp(Vn,r.prop).value;Un&&Nn.push(...castArray$1(Un))}if(In!==void 0){const Un=Nn.map((Gn,$n)=>[Gn,$n]).filter(([Gn])=>Object.keys(Gn).includes("required"));if(Un.length>0)for(const[Gn,$n]of Un)Gn.required!==In&&(Nn[$n]={...Gn,required:In});else Nn.push({required:In})}return Nn}),jt=computed(()=>Dt.value.length>0),Lt=In=>Dt.value.filter(Nn=>!Nn.trigger||!In?!0:Array.isArray(Nn.trigger)?Nn.trigger.includes(In):Nn.trigger===In).map(({trigger:Nn,...Vn})=>Vn),hn=computed(()=>Dt.value.some(In=>In.required)),Sn=computed(()=>{var In;return de.value==="error"&&r.showMessage&&((In=L==null?void 0:L.showMessage)!=null?In:!0)}),On=computed(()=>`${r.label||""}${(L==null?void 0:L.labelSuffix)||""}`),_n=In=>{ue.value=In},xn=In=>{var Nn,Vn;const{errors:Un,fields:Gn}=In;(!Un||!Gn)&&console.error(In),_n("error"),pe.value=Un?(Vn=(Nn=Un==null?void 0:Un[0])==null?void 0:Nn.message)!=null?Vn:`${r.prop} is required`:"",L==null||L.emit("validate",r.prop,!1,pe.value)},bn=()=>{_n("success"),L==null||L.emit("validate",r.prop,!0,"")},Tn=async In=>{const Nn=Ue.value;return new Schema({[Nn]:In}).validate({[Nn]:kt.value},{firstFields:!0}).then(()=>(bn(),!0)).catch(Vn=>(xn(Vn),Promise.reject(Vn)))},An=async(In,Nn)=>{if(Oe||!r.prop)return!1;const Vn=isFunction$4(Nn);if(!jt.value)return Nn==null||Nn(!1),!1;const Un=Lt(In);return Un.length===0?(Nn==null||Nn(!0),!0):(_n("validating"),Tn(Un).then(()=>(Nn==null||Nn(!0),!0)).catch(Gn=>{const{fields:$n}=Gn;return Nn==null||Nn(!1,$n),Vn?!1:Promise.reject($n)}))},En=()=>{_n(""),pe.value="",Oe=!1},Ln=async()=>{const In=L==null?void 0:L.model;if(!In||!r.prop)return;const Nn=getProp(In,r.prop);Oe=!0,Nn.value=clone(_e),await nextTick(),En(),Oe=!1},Wn=In=>{le.value.includes(In)||le.value.push(In)},Mn=In=>{le.value=le.value.filter(Nn=>Nn!==In)};watch(()=>r.error,In=>{pe.value=In||"",_n(In?"error":"")},{immediate:!0}),watch(()=>r.validateStatus,In=>_n(In||""));const Fn=reactive({...toRefs(r),$el:he,size:oe,validateState:ue,labelId:ae,inputIds:le,isGroup:Et,hasLabel:Fe,addInputId:Wn,removeInputId:Mn,resetField:Ln,clearValidate:En,validate:An});return provide(formItemContextKey,Fn),onMounted(()=>{r.prop&&(L==null||L.addField(Fn),_e=clone(kt.value))}),onBeforeUnmount(()=>{L==null||L.removeField(Fn)}),n({size:oe,validateMessage:pe,validateState:ue,validate:An,clearValidate:En,resetField:Ln}),(In,Nn)=>{var Vn;return openBlock(),createElementBlock("div",{ref_key:"formItemRef",ref:he,class:normalizeClass(unref(Ie)),role:unref(Et)?"group":void 0,"aria-labelledby":unref(Et)?unref(ae):void 0},[createVNode$1(unref(FormLabelWrap),{"is-auto-width":unref(xe).width==="auto","update-all":((Vn=unref(L))==null?void 0:Vn.labelWidth)==="auto"},{default:withCtx(()=>[unref(Fe)?(openBlock(),createBlock(resolveDynamicComponent(unref(qe)?"label":"div"),{key:0,id:unref(ae),for:unref(qe),class:normalizeClass(unref(re).e("label")),style:normalizeStyle$1(unref(xe))},{default:withCtx(()=>[renderSlot(In.$slots,"label",{label:unref(On)},()=>[createTextVNode(toDisplayString(unref(On)),1)])]),_:3},8,["id","for","class","style"])):createCommentVNode("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),createBaseVNode("div",{class:normalizeClass(unref(re).e("content")),style:normalizeStyle$1(unref($e))},[renderSlot(In.$slots,"default"),createVNode$1(TransitionGroup,{name:`${unref(re).namespace.value}-zoom-in-top`},{default:withCtx(()=>[unref(Sn)?renderSlot(In.$slots,"error",{key:0,error:pe.value},()=>[createBaseVNode("div",{class:normalizeClass(unref(ze))},toDisplayString(pe.value),3)]):createCommentVNode("v-if",!0)]),_:3},8,["name"])],6)],10,_hoisted_1$F)}}});var FormItem=_export_sfc$1(_sfc_main$1k,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);ElForm=withInstall(Form,{FormItem}),ElFormItem=withNoopInstall(FormItem);let hiddenTextarea;const HIDDEN_STYLE=`
  height:0 !important;
  visibility:hidden !important;
  ${isFirefox()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,CONTEXT_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function calculateNodeStyling(g){const n=window.getComputedStyle(g),r=n.getPropertyValue("box-sizing"),$=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),L=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:CONTEXT_STYLE.map(V=>`${V}:${n.getPropertyValue(V)}`).join(";"),paddingSize:$,borderSize:L,boxSizing:r}}function calcTextareaHeight(g,n=1,r){var $;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),document.body.appendChild(hiddenTextarea));const{paddingSize:L,borderSize:V,boxSizing:oe,contextStyle:re}=calculateNodeStyling(g);hiddenTextarea.setAttribute("style",`${re};${HIDDEN_STYLE}`),hiddenTextarea.value=g.value||g.placeholder||"";let ae=hiddenTextarea.scrollHeight;const le={};oe==="border-box"?ae=ae+V:oe==="content-box"&&(ae=ae-L),hiddenTextarea.value="";const ue=hiddenTextarea.scrollHeight-L;if(isNumber$2(n)){let de=ue*n;oe==="border-box"&&(de=de+L+V),ae=Math.max(de,ae),le.minHeight=`${de}px`}if(isNumber$2(r)){let de=ue*r;oe==="border-box"&&(de=de+L+V),ae=Math.min(de,ae)}return le.height=`${ae}px`,($=hiddenTextarea.parentNode)==null||$.removeChild(hiddenTextarea),hiddenTextarea=void 0,le}const inputProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:definePropType([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:definePropType([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:iconPropType},prefixIcon:{type:iconPropType},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:definePropType([Object,Array,String]),default:()=>mutable({})}}),inputEmits={[UPDATE_MODEL_EVENT]:g=>isString$4(g),input:g=>isString$4(g),change:g=>isString$4(g),focus:g=>g instanceof FocusEvent,blur:g=>g instanceof FocusEvent,clear:()=>!0,mouseleave:g=>g instanceof MouseEvent,mouseenter:g=>g instanceof MouseEvent,keydown:g=>g instanceof Event,compositionstart:g=>g instanceof CompositionEvent,compositionupdate:g=>g instanceof CompositionEvent,compositionend:g=>g instanceof CompositionEvent},_hoisted_1$E=["role"],_hoisted_2$p=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],_hoisted_3$f=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],__default__$V=defineComponent({name:"ElInput",inheritAttrs:!1}),_sfc_main$1j=defineComponent({...__default__$V,props:inputProps,emits:inputEmits,setup(g,{expose:n,emit:r}){const $=g,L=useAttrs$1(),V=useSlots(),oe=computed(()=>{const Zn={};return $.containerRole==="combobox"&&(Zn["aria-haspopup"]=L["aria-haspopup"],Zn["aria-owns"]=L["aria-owns"],Zn["aria-expanded"]=L["aria-expanded"]),Zn}),re=computed(()=>[$.type==="textarea"?xe.b():Oe.b(),Oe.m(he.value),Oe.is("disabled",_e.value),Oe.is("exceed",An.value),{[Oe.b("group")]:V.prepend||V.append,[Oe.bm("group","append")]:V.append,[Oe.bm("group","prepend")]:V.prepend,[Oe.m("prefix")]:V.prefix||$.prefixIcon,[Oe.m("suffix")]:V.suffix||$.suffixIcon||$.clearable||$.showPassword,[Oe.bm("suffix","password-clear")]:_n.value&&xn.value},L.class]),ae=computed(()=>[Oe.e("wrapper"),Oe.is("focus",Ne.value)]),le=useAttrs({excludeKeys:computed(()=>Object.keys(oe.value))}),{form:ue,formItem:de}=useFormItem(),{inputId:pe}=useFormItemInputId($,{formItemContext:de}),he=useFormSize(),_e=useFormDisabled(),Oe=useNamespace("input"),xe=useNamespace("textarea"),$e=shallowRef(),Ie=shallowRef(),Ne=ref(!1),ze=ref(!1),Ue=ref(!1),Fe=ref(!1),qe=ref(),Et=shallowRef($.inputStyle),At=computed(()=>$e.value||Ie.value),kt=computed(()=>{var Zn;return(Zn=ue==null?void 0:ue.statusIcon)!=null?Zn:!1}),Dt=computed(()=>(de==null?void 0:de.validateState)||""),jt=computed(()=>Dt.value&&ValidateComponentsMap[Dt.value]),Lt=computed(()=>Fe.value?view_default:hide_default),hn=computed(()=>[L.style,$.inputStyle]),Sn=computed(()=>[$.inputStyle,Et.value,{resize:$.resize}]),On=computed(()=>isNil($.modelValue)?"":String($.modelValue)),_n=computed(()=>$.clearable&&!_e.value&&!$.readonly&&!!On.value&&(Ne.value||ze.value)),xn=computed(()=>$.showPassword&&!_e.value&&!$.readonly&&!!On.value&&(!!On.value||Ne.value)),bn=computed(()=>$.showWordLimit&&!!le.value.maxlength&&($.type==="text"||$.type==="textarea")&&!_e.value&&!$.readonly&&!$.showPassword),Tn=computed(()=>On.value.length),An=computed(()=>!!bn.value&&Tn.value>Number(le.value.maxlength)),En=computed(()=>!!V.suffix||!!$.suffixIcon||_n.value||$.showPassword||bn.value||!!Dt.value&&kt.value),[Ln,Wn]=useCursor($e);useResizeObserver(Ie,Zn=>{if(Fn(),!bn.value||$.resize!=="both")return;const ho=Zn[0],{width:yo}=ho.contentRect;qe.value={right:`calc(100% - ${yo+15+6}px)`}});const Mn=()=>{const{type:Zn,autosize:ho}=$;if(!(!isClient||Zn!=="textarea"||!Ie.value))if(ho){const yo=isObject$7(ho)?ho.minRows:void 0,Oo=isObject$7(ho)?ho.maxRows:void 0,Co=calcTextareaHeight(Ie.value,yo,Oo);Et.value={overflowY:"hidden",...Co},nextTick(()=>{Ie.value.offsetHeight,Et.value=Co})}else Et.value={minHeight:calcTextareaHeight(Ie.value).minHeight}},Fn=(Zn=>{let ho=!1;return()=>{var yo;ho||!$.autosize||((yo=Ie.value)==null?void 0:yo.offsetParent)===null||(Zn(),ho=!0)}})(Mn),In=()=>{const Zn=At.value;!Zn||Zn.value===On.value||(Zn.value=On.value)},Nn=async Zn=>{Ln();let{value:ho}=Zn.target;if($.formatter&&(ho=$.parser?$.parser(ho):ho,ho=$.formatter(ho)),!Ue.value){if(ho===On.value){In();return}r(UPDATE_MODEL_EVENT,ho),r("input",ho),await nextTick(),In(),Wn()}},Vn=Zn=>{r("change",Zn.target.value)},Un=Zn=>{r("compositionstart",Zn),Ue.value=!0},Gn=Zn=>{var ho;r("compositionupdate",Zn);const yo=(ho=Zn.target)==null?void 0:ho.value,Oo=yo[yo.length-1]||"";Ue.value=!isKorean(Oo)},$n=Zn=>{r("compositionend",Zn),Ue.value&&(Ue.value=!1,Nn(Zn))},kn=()=>{Fe.value=!Fe.value,Bn()},Bn=async()=>{var Zn;await nextTick(),(Zn=At.value)==null||Zn.focus()},Yn=()=>{var Zn;return(Zn=At.value)==null?void 0:Zn.blur()},Jn=Zn=>{Ne.value=!0,r("focus",Zn)},Kn=Zn=>{var ho;Ne.value=!1,r("blur",Zn),$.validateEvent&&((ho=de==null?void 0:de.validate)==null||ho.call(de,"blur").catch(yo=>{}))},po=Zn=>{ze.value=!1,r("mouseleave",Zn)},oo=Zn=>{ze.value=!0,r("mouseenter",Zn)},lo=Zn=>{r("keydown",Zn)},no=()=>{var Zn;(Zn=At.value)==null||Zn.select()},vo=()=>{r(UPDATE_MODEL_EVENT,""),r("change",""),r("clear"),r("input","")};return watch(()=>$.modelValue,()=>{var Zn;nextTick(()=>Mn()),$.validateEvent&&((Zn=de==null?void 0:de.validate)==null||Zn.call(de,"change").catch(ho=>{}))}),watch(On,()=>In()),watch(()=>$.type,async()=>{await nextTick(),In(),Mn()}),onMounted(()=>{!$.formatter&&$.parser,In(),nextTick(Mn)}),n({input:$e,textarea:Ie,ref:At,textareaStyle:Sn,autosize:toRef($,"autosize"),focus:Bn,blur:Yn,select:no,clear:vo,resizeTextarea:Mn}),(Zn,ho)=>withDirectives((openBlock(),createElementBlock("div",mergeProps(unref(oe),{class:unref(re),style:unref(hn),role:Zn.containerRole,onMouseenter:oo,onMouseleave:po}),[createCommentVNode(" input "),Zn.type!=="textarea"?(openBlock(),createElementBlock(Fragment,{key:0},[createCommentVNode(" prepend slot "),Zn.$slots.prepend?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Oe).be("group","prepend"))},[renderSlot(Zn.$slots,"prepend")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(ae))},[createCommentVNode(" prefix slot "),Zn.$slots.prefix||Zn.prefixIcon?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(Oe).e("prefix"))},[createBaseVNode("span",{class:normalizeClass(unref(Oe).e("prefix-inner")),onClick:Bn},[renderSlot(Zn.$slots,"prefix"),Zn.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(Oe).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Zn.prefixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("input",mergeProps({id:unref(pe),ref_key:"input",ref:$e,class:unref(Oe).e("inner")},unref(le),{type:Zn.showPassword?Fe.value?"text":"password":Zn.type,disabled:unref(_e),formatter:Zn.formatter,parser:Zn.parser,readonly:Zn.readonly,autocomplete:Zn.autocomplete,tabindex:Zn.tabindex,"aria-label":Zn.label,placeholder:Zn.placeholder,style:Zn.inputStyle,form:$.form,onCompositionstart:Un,onCompositionupdate:Gn,onCompositionend:$n,onInput:Nn,onFocus:Jn,onBlur:Kn,onChange:Vn,onKeydown:lo}),null,16,_hoisted_2$p),createCommentVNode(" suffix slot "),unref(En)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(Oe).e("suffix"))},[createBaseVNode("span",{class:normalizeClass(unref(Oe).e("suffix-inner")),onClick:Bn},[!unref(_n)||!unref(xn)||!unref(bn)?(openBlock(),createElementBlock(Fragment,{key:0},[renderSlot(Zn.$slots,"suffix"),Zn.suffixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(Oe).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Zn.suffixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0),unref(_n)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(Oe).e("icon"),unref(Oe).e("clear")]),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:vo},{default:withCtx(()=>[createVNode$1(unref(circle_close_default))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0),unref(xn)?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass([unref(Oe).e("icon"),unref(Oe).e("password")]),onClick:kn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Lt))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),unref(bn)?(openBlock(),createElementBlock("span",{key:3,class:normalizeClass(unref(Oe).e("count"))},[createBaseVNode("span",{class:normalizeClass(unref(Oe).e("count-inner"))},toDisplayString(unref(Tn))+" / "+toDisplayString(unref(le).maxlength),3)],2)):createCommentVNode("v-if",!0),unref(Dt)&&unref(jt)&&unref(kt)?(openBlock(),createBlock(unref(ElIcon),{key:4,class:normalizeClass([unref(Oe).e("icon"),unref(Oe).e("validateIcon"),unref(Oe).is("loading",unref(Dt)==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(jt))))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0)],2),createCommentVNode(" append slot "),Zn.$slots.append?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(Oe).be("group","append"))},[renderSlot(Zn.$slots,"append")],2)):createCommentVNode("v-if",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" textarea "),createBaseVNode("textarea",mergeProps({id:unref(pe),ref_key:"textarea",ref:Ie,class:unref(xe).e("inner")},unref(le),{tabindex:Zn.tabindex,disabled:unref(_e),readonly:Zn.readonly,autocomplete:Zn.autocomplete,style:unref(Sn),"aria-label":Zn.label,placeholder:Zn.placeholder,form:$.form,onCompositionstart:Un,onCompositionupdate:Gn,onCompositionend:$n,onInput:Nn,onFocus:Jn,onBlur:Kn,onChange:Vn,onKeydown:lo}),null,16,_hoisted_3$f),unref(bn)?(openBlock(),createElementBlock("span",{key:0,style:normalizeStyle$1(qe.value),class:normalizeClass(unref(Oe).e("count"))},toDisplayString(unref(Tn))+" / "+toDisplayString(unref(le).maxlength),7)):createCommentVNode("v-if",!0)],64))],16,_hoisted_1$E)),[[vShow,Zn.type!=="hidden"]])}});var Input=_export_sfc$1(_sfc_main$1j,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);let GAP,renderThumbStyle,scrollbarContextKey,thumbProps,COMPONENT_NAME$7,_sfc_main$1i;ElInput=withInstall(Input),GAP=4,BAR_MAP={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},renderThumbStyle=({move:g,size:n,bar:r})=>({[r.size]:n,transform:`translate${r.axis}(${g}%)`}),scrollbarContextKey=Symbol("scrollbarContextKey"),thumbProps=buildProps({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),COMPONENT_NAME$7="Thumb",_sfc_main$1i=defineComponent({__name:"thumb",props:thumbProps,setup(g){const n=g,r=inject(scrollbarContextKey),$=useNamespace("scrollbar");r||throwError(COMPONENT_NAME$7,"can not inject scrollbar context");const L=ref(),V=ref(),oe=ref({}),re=ref(!1);let ae=!1,le=!1,ue=isClient?document.onselectstart:null;const de=computed(()=>BAR_MAP[n.vertical?"vertical":"horizontal"]),pe=computed(()=>renderThumbStyle({size:n.size,move:n.move,bar:de.value})),he=computed(()=>L.value[de.value.offset]**2/r.wrapElement[de.value.scrollSize]/n.ratio/V.value[de.value.offset]),_e=Fe=>{var qe;if(Fe.stopPropagation(),Fe.ctrlKey||[1,2].includes(Fe.button))return;(qe=window.getSelection())==null||qe.removeAllRanges(),xe(Fe);const Et=Fe.currentTarget;!Et||(oe.value[de.value.axis]=Et[de.value.offset]-(Fe[de.value.client]-Et.getBoundingClientRect()[de.value.direction]))},Oe=Fe=>{if(!V.value||!L.value||!r.wrapElement)return;const qe=Math.abs(Fe.target.getBoundingClientRect()[de.value.direction]-Fe[de.value.client]),Et=V.value[de.value.offset]/2,At=(qe-Et)*100*he.value/L.value[de.value.offset];r.wrapElement[de.value.scroll]=At*r.wrapElement[de.value.scrollSize]/100},xe=Fe=>{Fe.stopImmediatePropagation(),ae=!0,document.addEventListener("mousemove",$e),document.addEventListener("mouseup",Ie),ue=document.onselectstart,document.onselectstart=()=>!1},$e=Fe=>{if(!L.value||!V.value||ae===!1)return;const qe=oe.value[de.value.axis];if(!qe)return;const Et=(L.value.getBoundingClientRect()[de.value.direction]-Fe[de.value.client])*-1,At=V.value[de.value.offset]-qe,kt=(Et-At)*100*he.value/L.value[de.value.offset];r.wrapElement[de.value.scroll]=kt*r.wrapElement[de.value.scrollSize]/100},Ie=()=>{ae=!1,oe.value[de.value.axis]=0,document.removeEventListener("mousemove",$e),document.removeEventListener("mouseup",Ie),Ue(),le&&(re.value=!1)},Ne=()=>{le=!1,re.value=!!n.size},ze=()=>{le=!0,re.value=ae};onBeforeUnmount(()=>{Ue(),document.removeEventListener("mouseup",Ie)});const Ue=()=>{document.onselectstart!==ue&&(document.onselectstart=ue)};return useEventListener(toRef(r,"scrollbarElement"),"mousemove",Ne),useEventListener(toRef(r,"scrollbarElement"),"mouseleave",ze),(Fe,qe)=>(openBlock(),createBlock(Transition,{name:unref($).b("fade"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{ref_key:"instance",ref:L,class:normalizeClass([unref($).e("bar"),unref($).is(unref(de).key)]),onMousedown:Oe},[createBaseVNode("div",{ref_key:"thumb",ref:V,class:normalizeClass(unref($).e("thumb")),style:normalizeStyle$1(unref(pe)),onMousedown:_e},null,38)],34),[[vShow,Fe.always||re.value]])]),_:1},8,["name"]))}});var Thumb=_export_sfc$1(_sfc_main$1i,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const barProps=buildProps({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),_sfc_main$1h=defineComponent({__name:"bar",props:barProps,setup(g,{expose:n}){const r=g,$=ref(0),L=ref(0);return n({handleScroll:V=>{if(V){const oe=V.offsetHeight-GAP,re=V.offsetWidth-GAP;L.value=V.scrollTop*100/oe*r.ratioY,$.value=V.scrollLeft*100/re*r.ratioX}}}),(V,oe)=>(openBlock(),createElementBlock(Fragment,null,[createVNode$1(Thumb,{move:$.value,ratio:V.ratioX,size:V.width,always:V.always},null,8,["move","ratio","size","always"]),createVNode$1(Thumb,{move:L.value,ratio:V.ratioY,size:V.height,vertical:"",always:V.always},null,8,["move","ratio","size","always"])],64))}});var Bar=_export_sfc$1(_sfc_main$1h,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const scrollbarProps=buildProps({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:definePropType([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),scrollbarEmits={scroll:({scrollTop:g,scrollLeft:n})=>[g,n].every(isNumber$2)},COMPONENT_NAME$6="ElScrollbar",__default__$U=defineComponent({name:COMPONENT_NAME$6}),_sfc_main$1g=defineComponent({...__default__$U,props:scrollbarProps,emits:scrollbarEmits,setup(g,{expose:n,emit:r}){const $=g,L=useNamespace("scrollbar");let V,oe;const re=ref(),ae=ref(),le=ref(),ue=ref("0"),de=ref("0"),pe=ref(),he=ref(1),_e=ref(1),Oe=computed(()=>{const qe={};return $.height&&(qe.height=addUnit($.height)),$.maxHeight&&(qe.maxHeight=addUnit($.maxHeight)),[$.wrapStyle,qe]}),xe=computed(()=>[$.wrapClass,L.e("wrap"),{[L.em("wrap","hidden-default")]:!$.native}]),$e=computed(()=>[L.e("view"),$.viewClass]),Ie=()=>{var qe;ae.value&&((qe=pe.value)==null||qe.handleScroll(ae.value),r("scroll",{scrollTop:ae.value.scrollTop,scrollLeft:ae.value.scrollLeft}))};function Ne(qe,Et){isObject$7(qe)?ae.value.scrollTo(qe):isNumber$2(qe)&&isNumber$2(Et)&&ae.value.scrollTo(qe,Et)}const ze=qe=>{!isNumber$2(qe)||(ae.value.scrollTop=qe)},Ue=qe=>{!isNumber$2(qe)||(ae.value.scrollLeft=qe)},Fe=()=>{if(!ae.value)return;const qe=ae.value.offsetHeight-GAP,Et=ae.value.offsetWidth-GAP,At=qe**2/ae.value.scrollHeight,kt=Et**2/ae.value.scrollWidth,Dt=Math.max(At,$.minSize),jt=Math.max(kt,$.minSize);he.value=At/(qe-At)/(Dt/(qe-Dt)),_e.value=kt/(Et-kt)/(jt/(Et-jt)),de.value=Dt+GAP<qe?`${Dt}px`:"",ue.value=jt+GAP<Et?`${jt}px`:""};return watch(()=>$.noresize,qe=>{qe?(V==null||V(),oe==null||oe()):({stop:V}=useResizeObserver(le,Fe),oe=useEventListener("resize",Fe))},{immediate:!0}),watch(()=>[$.maxHeight,$.height],()=>{$.native||nextTick(()=>{var qe;Fe(),ae.value&&((qe=pe.value)==null||qe.handleScroll(ae.value))})}),provide(scrollbarContextKey,reactive({scrollbarElement:re,wrapElement:ae})),onMounted(()=>{$.native||nextTick(()=>{Fe()})}),onUpdated(()=>Fe()),n({wrapRef:ae,update:Fe,scrollTo:Ne,setScrollTop:ze,setScrollLeft:Ue,handleScroll:Ie}),(qe,Et)=>(openBlock(),createElementBlock("div",{ref_key:"scrollbarRef",ref:re,class:normalizeClass(unref(L).b())},[createBaseVNode("div",{ref_key:"wrapRef",ref:ae,class:normalizeClass(unref(xe)),style:normalizeStyle$1(unref(Oe)),onScroll:Ie},[(openBlock(),createBlock(resolveDynamicComponent(qe.tag),{ref_key:"resizeRef",ref:le,class:normalizeClass(unref($e)),style:normalizeStyle$1(qe.viewStyle)},{default:withCtx(()=>[renderSlot(qe.$slots,"default")]),_:3},8,["class","style"]))],38),qe.native?createCommentVNode("v-if",!0):(openBlock(),createBlock(Bar,{key:0,ref_key:"barRef",ref:pe,height:de.value,width:ue.value,always:qe.always,"ratio-x":_e.value,"ratio-y":he.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var Scrollbar=_export_sfc$1(_sfc_main$1g,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);let POPPER_INJECTION_KEY,POPPER_CONTENT_INJECTION_KEY,roleTypes,popperProps,__default__$T,_sfc_main$1f;ElScrollbar=withInstall(Scrollbar),POPPER_INJECTION_KEY=Symbol("popper"),POPPER_CONTENT_INJECTION_KEY=Symbol("popperContent"),roleTypes=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],popperProps=buildProps({role:{type:String,values:roleTypes,default:"tooltip"}}),__default__$T=defineComponent({name:"ElPopper",inheritAttrs:!1}),_sfc_main$1f=defineComponent({...__default__$T,props:popperProps,setup(g,{expose:n}){const r=g,$=ref(),L=ref(),V=ref(),oe=ref(),re=computed(()=>r.role),ae={triggerRef:$,popperInstanceRef:L,contentRef:V,referenceRef:oe,role:re};return n(ae),provide(POPPER_INJECTION_KEY,ae),(le,ue)=>renderSlot(le.$slots,"default")}});var Popper=_export_sfc$1(_sfc_main$1f,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const popperArrowProps=buildProps({arrowOffset:{type:Number,default:5}}),__default__$S=defineComponent({name:"ElPopperArrow",inheritAttrs:!1}),_sfc_main$1e=defineComponent({...__default__$S,props:popperArrowProps,setup(g,{expose:n}){const r=g,$=useNamespace("popper"),{arrowOffset:L,arrowRef:V,arrowStyle:oe}=inject(POPPER_CONTENT_INJECTION_KEY,void 0);return watch(()=>r.arrowOffset,re=>{L.value=re}),onBeforeUnmount(()=>{V.value=void 0}),n({arrowRef:V}),(re,ae)=>(openBlock(),createElementBlock("span",{ref_key:"arrowRef",ref:V,class:normalizeClass(unref($).e("arrow")),style:normalizeStyle$1(unref(oe)),"data-popper-arrow":""},null,6))}});var ElPopperArrow=_export_sfc$1(_sfc_main$1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);let NAME;NAME="ElOnlyChild",OnlyChild=defineComponent({name:NAME,setup(g,{slots:n,attrs:r}){var $;const L=inject(FORWARD_REF_INJECTION_KEY),V=useForwardRefDirective(($=L==null?void 0:L.setForwardRef)!=null?$:NOOP);return()=>{var oe;const re=(oe=n.default)==null?void 0:oe.call(n,r);if(!re||re.length>1)return null;const ae=findFirstLegitChild(re);return ae?withDirectives(cloneVNode(ae,r),[[V]]):null}}});function findFirstLegitChild(g){if(!g)return null;const n=g;for(const r of n){if(isObject$7(r))switch(r.type){case Comment:continue;case Text$1:case"svg":return wrapTextContent(r);case Fragment:return findFirstLegitChild(r.children);default:return r}return wrapTextContent(r)}return null}function wrapTextContent(g){const n=useNamespace("only-child");return createVNode$1("span",{class:n.e("content")},[g])}const popperTriggerProps=buildProps({virtualRef:{type:definePropType(Object)},virtualTriggering:Boolean,onMouseenter:{type:definePropType(Function)},onMouseleave:{type:definePropType(Function)},onClick:{type:definePropType(Function)},onKeydown:{type:definePropType(Function)},onFocus:{type:definePropType(Function)},onBlur:{type:definePropType(Function)},onContextmenu:{type:definePropType(Function)},id:String,open:Boolean}),__default__$R=defineComponent({name:"ElPopperTrigger",inheritAttrs:!1}),_sfc_main$1d=defineComponent({...__default__$R,props:popperTriggerProps,setup(g,{expose:n}){const r=g,{role:$,triggerRef:L}=inject(POPPER_INJECTION_KEY,void 0);useForwardRef(L);const V=computed(()=>re.value?r.id:void 0),oe=computed(()=>{if($&&$.value==="tooltip")return r.open&&r.id?r.id:void 0}),re=computed(()=>{if($&&$.value!=="tooltip")return $.value}),ae=computed(()=>re.value?`${r.open}`:void 0);let le;return onMounted(()=>{watch(()=>r.virtualRef,ue=>{ue&&(L.value=unrefElement(ue))},{immediate:!0}),watch(L,(ue,de)=>{le==null||le(),le=void 0,isElement(ue)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(pe=>{var he;const _e=r[pe];_e&&(ue.addEventListener(pe.slice(2).toLowerCase(),_e),(he=de==null?void 0:de.removeEventListener)==null||he.call(de,pe.slice(2).toLowerCase(),_e))}),le=watch([V,oe,re,ae],pe=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((he,_e)=>{isNil(pe[_e])?ue.removeAttribute(he):ue.setAttribute(he,pe[_e])})},{immediate:!0})),isElement(de)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(pe=>de.removeAttribute(pe))},{immediate:!0})}),onBeforeUnmount(()=>{le==null||le(),le=void 0}),n({triggerRef:L}),(ue,de)=>ue.virtualTriggering?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(OnlyChild),mergeProps({key:0},ue.$attrs,{"aria-controls":unref(V),"aria-describedby":unref(oe),"aria-expanded":unref(ae),"aria-haspopup":unref(re)}),{default:withCtx(()=>[renderSlot(ue.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var ElPopperTrigger=_export_sfc$1(_sfc_main$1d,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);let FOCUS_AFTER_TRAPPED,FOCUS_AFTER_RELEASED,FOCUSOUT_PREVENTED,FOCUS_AFTER_TRAPPED_OPTS,FOCUSOUT_PREVENTED_OPTS,ON_TRAP_FOCUS_EVT,ON_RELEASE_FOCUS_EVT,focusReason,lastUserFocusTimestamp,lastAutomatedFocusTimestamp;FOCUS_AFTER_TRAPPED="focus-trap.focus-after-trapped",FOCUS_AFTER_RELEASED="focus-trap.focus-after-released",FOCUSOUT_PREVENTED="focus-trap.focusout-prevented",FOCUS_AFTER_TRAPPED_OPTS={cancelable:!0,bubbles:!1},FOCUSOUT_PREVENTED_OPTS={cancelable:!0,bubbles:!1},ON_TRAP_FOCUS_EVT="focusAfterTrapped",ON_RELEASE_FOCUS_EVT="focusAfterReleased",FOCUS_TRAP_INJECTION_KEY=Symbol("elFocusTrap"),focusReason=ref(),lastUserFocusTimestamp=ref(0),lastAutomatedFocusTimestamp=ref(0);let focusReasonUserCount=0;const obtainAllFocusableElements=g=>{const n=[],r=document.createTreeWalker(g,NodeFilter.SHOW_ELEMENT,{acceptNode:$=>{const L=$.tagName==="INPUT"&&$.type==="hidden";return $.disabled||$.hidden||L?NodeFilter.FILTER_SKIP:$.tabIndex>=0||$===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n},getVisibleElement=(g,n)=>{for(const r of g)if(!isHidden(r,n))return r},isHidden=(g,n)=>{if(getComputedStyle(g).visibility==="hidden")return!0;for(;g;){if(n&&g===n)return!1;if(getComputedStyle(g).display==="none")return!0;g=g.parentElement}return!1},getEdges=g=>{const n=obtainAllFocusableElements(g),r=getVisibleElement(n,g),$=getVisibleElement(n.reverse(),g);return[r,$]},isSelectable=g=>g instanceof HTMLInputElement&&"select"in g,tryFocus=(g,n)=>{if(g&&g.focus){const r=document.activeElement;g.focus({preventScroll:!0}),lastAutomatedFocusTimestamp.value=window.performance.now(),g!==r&&isSelectable(g)&&n&&g.select()}};function removeFromStack(g,n){const r=[...g],$=g.indexOf(n);return $!==-1&&r.splice($,1),r}const createFocusableStack=()=>{let g=[];return{push:n=>{const r=g[0];r&&n!==r&&r.pause(),g=removeFromStack(g,n),g.unshift(n)},remove:n=>{var r,$;g=removeFromStack(g,n),($=(r=g[0])==null?void 0:r.resume)==null||$.call(r)}}},focusFirstDescendant=(g,n=!1)=>{const r=document.activeElement;for(const $ of g)if(tryFocus($,n),document.activeElement!==r)return},focusableStack=createFocusableStack(),isFocusCausedByUserEvent=()=>lastUserFocusTimestamp.value>lastAutomatedFocusTimestamp.value,notifyFocusReasonPointer=()=>{focusReason.value="pointer",lastUserFocusTimestamp.value=window.performance.now()},notifyFocusReasonKeydown=()=>{focusReason.value="keyboard",lastUserFocusTimestamp.value=window.performance.now()},useFocusReason=()=>(onMounted(()=>{focusReasonUserCount===0&&(document.addEventListener("mousedown",notifyFocusReasonPointer),document.addEventListener("touchstart",notifyFocusReasonPointer),document.addEventListener("keydown",notifyFocusReasonKeydown)),focusReasonUserCount++}),onBeforeUnmount(()=>{focusReasonUserCount--,focusReasonUserCount<=0&&(document.removeEventListener("mousedown",notifyFocusReasonPointer),document.removeEventListener("touchstart",notifyFocusReasonPointer),document.removeEventListener("keydown",notifyFocusReasonKeydown))}),{focusReason,lastUserFocusTimestamp,lastAutomatedFocusTimestamp}),createFocusOutPreventedEvent=g=>new CustomEvent(FOCUSOUT_PREVENTED,{...FOCUSOUT_PREVENTED_OPTS,detail:g}),_sfc_main$1c=defineComponent({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ON_TRAP_FOCUS_EVT,ON_RELEASE_FOCUS_EVT,"focusin","focusout","focusout-prevented","release-requested"],setup(g,{emit:n}){const r=ref();let $,L;const{focusReason:V}=useFocusReason();useEscapeKeydown(_e=>{g.trapped&&!oe.paused&&n("release-requested",_e)});const oe={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},re=_e=>{if(!g.loop&&!g.trapped||oe.paused)return;const{key:Oe,altKey:xe,ctrlKey:$e,metaKey:Ie,currentTarget:Ne,shiftKey:ze}=_e,{loop:Ue}=g,Fe=Oe===EVENT_CODE.tab&&!xe&&!$e&&!Ie,qe=document.activeElement;if(Fe&&qe){const Et=Ne,[At,kt]=getEdges(Et);if(At&&kt){if(!ze&&qe===kt){const Dt=createFocusOutPreventedEvent({focusReason:V.value});n("focusout-prevented",Dt),Dt.defaultPrevented||(_e.preventDefault(),Ue&&tryFocus(At,!0))}else if(ze&&[At,Et].includes(qe)){const Dt=createFocusOutPreventedEvent({focusReason:V.value});n("focusout-prevented",Dt),Dt.defaultPrevented||(_e.preventDefault(),Ue&&tryFocus(kt,!0))}}else if(qe===Et){const Dt=createFocusOutPreventedEvent({focusReason:V.value});n("focusout-prevented",Dt),Dt.defaultPrevented||_e.preventDefault()}}};provide(FOCUS_TRAP_INJECTION_KEY,{focusTrapRef:r,onKeydown:re}),watch(()=>g.focusTrapEl,_e=>{_e&&(r.value=_e)},{immediate:!0}),watch([r],([_e],[Oe])=>{_e&&(_e.addEventListener("keydown",re),_e.addEventListener("focusin",ue),_e.addEventListener("focusout",de)),Oe&&(Oe.removeEventListener("keydown",re),Oe.removeEventListener("focusin",ue),Oe.removeEventListener("focusout",de))});const ae=_e=>{n(ON_TRAP_FOCUS_EVT,_e)},le=_e=>n(ON_RELEASE_FOCUS_EVT,_e),ue=_e=>{const Oe=unref(r);if(!Oe)return;const xe=_e.target,$e=_e.relatedTarget,Ie=xe&&Oe.contains(xe);g.trapped||$e&&Oe.contains($e)||($=$e),Ie&&n("focusin",_e),!oe.paused&&g.trapped&&(Ie?L=xe:tryFocus(L,!0))},de=_e=>{const Oe=unref(r);if(!(oe.paused||!Oe))if(g.trapped){const xe=_e.relatedTarget;!isNil(xe)&&!Oe.contains(xe)&&setTimeout(()=>{if(!oe.paused&&g.trapped){const $e=createFocusOutPreventedEvent({focusReason:V.value});n("focusout-prevented",$e),$e.defaultPrevented||tryFocus(L,!0)}},0)}else{const xe=_e.target;xe&&Oe.contains(xe)||n("focusout",_e)}};async function pe(){await nextTick();const _e=unref(r);if(_e){focusableStack.push(oe);const Oe=_e.contains(document.activeElement)?$:document.activeElement;if($=Oe,!_e.contains(Oe)){const xe=new Event(FOCUS_AFTER_TRAPPED,FOCUS_AFTER_TRAPPED_OPTS);_e.addEventListener(FOCUS_AFTER_TRAPPED,ae),_e.dispatchEvent(xe),xe.defaultPrevented||nextTick(()=>{let $e=g.focusStartEl;isString$4($e)||(tryFocus($e),document.activeElement!==$e&&($e="first")),$e==="first"&&focusFirstDescendant(obtainAllFocusableElements(_e),!0),(document.activeElement===Oe||$e==="container")&&tryFocus(_e)})}}}function he(){const _e=unref(r);if(_e){_e.removeEventListener(FOCUS_AFTER_TRAPPED,ae);const Oe=new CustomEvent(FOCUS_AFTER_RELEASED,{...FOCUS_AFTER_TRAPPED_OPTS,detail:{focusReason:V.value}});_e.addEventListener(FOCUS_AFTER_RELEASED,le),_e.dispatchEvent(Oe),!Oe.defaultPrevented&&(V.value=="keyboard"||!isFocusCausedByUserEvent()||_e.contains(document.activeElement))&&tryFocus($!=null?$:document.body),_e.removeEventListener(FOCUS_AFTER_RELEASED,ae),focusableStack.remove(oe)}}return onMounted(()=>{g.trapped&&pe(),watch(()=>g.trapped,_e=>{_e?pe():he()})}),onBeforeUnmount(()=>{g.trapped&&he()}),{onKeydown:re}}});function _sfc_render$c(g,n,r,$,L,V){return renderSlot(g.$slots,"default",{handleKeydown:g.onKeydown})}ElFocusTrap=_export_sfc$1(_sfc_main$1c,[["render",_sfc_render$c],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const POSITIONING_STRATEGIES=["fixed","absolute"],popperCoreConfigProps=buildProps({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:definePropType(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ee,default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},strategy:{type:String,values:POSITIONING_STRATEGIES,default:"absolute"}}),popperContentProps=buildProps({...popperCoreConfigProps,id:String,style:{type:definePropType([String,Array,Object])},className:{type:definePropType([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:definePropType([String,Array,Object])},popperStyle:{type:definePropType([String,Array,Object])},referenceEl:{type:definePropType(Object)},triggerTargetEl:{type:definePropType(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),popperContentEmits={mouseenter:g=>g instanceof MouseEvent,mouseleave:g=>g instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},buildPopperOptions=(g,n=[])=>{const{placement:r,strategy:$,popperOptions:L}=g,V={placement:r,strategy:$,...L,modifiers:[...genModifiers(g),...n]};return deriveExtraModifiers(V,L==null?void 0:L.modifiers),V},unwrapMeasurableEl=g=>{if(isClient)return unrefElement(g)};function genModifiers(g){const{offset:n,gpuAcceleration:r,fallbackPlacements:$}=g;return[{name:"offset",options:{offset:[0,n!=null?n:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:$}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function deriveExtraModifiers(g,n){n&&(g.modifiers=[...g.modifiers,...n!=null?n:[]])}const DEFAULT_ARROW_OFFSET=0,usePopperContent=g=>{const{popperInstanceRef:n,contentRef:r,triggerRef:$,role:L}=inject(POPPER_INJECTION_KEY,void 0),V=ref(),oe=ref(),re=computed(()=>({name:"eventListeners",enabled:!!g.visible})),ae=computed(()=>{var $e;const Ie=unref(V),Ne=($e=unref(oe))!=null?$e:DEFAULT_ARROW_OFFSET;return{name:"arrow",enabled:!isUndefined$3(Ie),options:{element:Ie,padding:Ne}}}),le=computed(()=>({onFirstUpdate:()=>{_e()},...buildPopperOptions(g,[unref(ae),unref(re)])})),ue=computed(()=>unwrapMeasurableEl(g.referenceEl)||unref($)),{attributes:de,state:pe,styles:he,update:_e,forceUpdate:Oe,instanceRef:xe}=usePopper(ue,r,le);return watch(xe,$e=>n.value=$e),onMounted(()=>{watch(()=>{var $e;return($e=unref(ue))==null?void 0:$e.getBoundingClientRect()},()=>{_e()})}),{attributes:de,arrowRef:V,contentRef:r,instanceRef:xe,state:pe,styles:he,role:L,forceUpdate:Oe,update:_e}},usePopperContentDOM=(g,{attributes:n,styles:r,role:$})=>{const{nextZIndex:L}=useZIndex(),V=useNamespace("popper"),oe=computed(()=>unref(n).popper),re=ref(g.zIndex||L()),ae=computed(()=>[V.b(),V.is("pure",g.pure),V.is(g.effect),g.popperClass]),le=computed(()=>[{zIndex:unref(re)},g.popperStyle||{},unref(r).popper]),ue=computed(()=>$.value==="dialog"?"false":void 0),de=computed(()=>unref(r).arrow||{});return{ariaModal:ue,arrowStyle:de,contentAttrs:oe,contentClass:ae,contentStyle:le,contentZIndex:re,updateZIndex:()=>{re.value=g.zIndex||L()}}},usePopperContentFocusTrap=(g,n)=>{const r=ref(!1),$=ref();return{focusStartRef:$,trapped:r,onFocusAfterReleased:L=>{var V;((V=L.detail)==null?void 0:V.focusReason)!=="pointer"&&($.value="first",n("blur"))},onFocusAfterTrapped:()=>{n("focus")},onFocusInTrap:L=>{g.visible&&!r.value&&(L.target&&($.value=L.target),r.value=!0)},onFocusoutPrevented:L=>{g.trapping||(L.detail.focusReason==="pointer"&&L.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,n("close")}}},__default__$Q=defineComponent({name:"ElPopperContent"}),_sfc_main$1b=defineComponent({...__default__$Q,props:popperContentProps,emits:popperContentEmits,setup(g,{expose:n,emit:r}){const $=g,{focusStartRef:L,trapped:V,onFocusAfterReleased:oe,onFocusAfterTrapped:re,onFocusInTrap:ae,onFocusoutPrevented:le,onReleaseRequested:ue}=usePopperContentFocusTrap($,r),{attributes:de,arrowRef:pe,contentRef:he,styles:_e,instanceRef:Oe,role:xe,update:$e}=usePopperContent($),{ariaModal:Ie,arrowStyle:Ne,contentAttrs:ze,contentClass:Ue,contentStyle:Fe,updateZIndex:qe}=usePopperContentDOM($,{styles:_e,attributes:de,role:xe}),Et=inject(formItemContextKey,void 0),At=ref();provide(POPPER_CONTENT_INJECTION_KEY,{arrowStyle:Ne,arrowRef:pe,arrowOffset:At}),Et&&(Et.addInputId||Et.removeInputId)&&provide(formItemContextKey,{...Et,addInputId:NOOP,removeInputId:NOOP});let kt;const Dt=(Lt=!0)=>{$e(),Lt&&qe()},jt=()=>{Dt(!1),$.visible&&$.focusOnShow?V.value=!0:$.visible===!1&&(V.value=!1)};return onMounted(()=>{watch(()=>$.triggerTargetEl,(Lt,hn)=>{kt==null||kt(),kt=void 0;const Sn=unref(Lt||he.value),On=unref(hn||he.value);isElement(Sn)&&(kt=watch([xe,()=>$.ariaLabel,Ie,()=>$.id],_n=>{["role","aria-label","aria-modal","id"].forEach((xn,bn)=>{isNil(_n[bn])?Sn.removeAttribute(xn):Sn.setAttribute(xn,_n[bn])})},{immediate:!0})),On!==Sn&&isElement(On)&&["role","aria-label","aria-modal","id"].forEach(_n=>{On.removeAttribute(_n)})},{immediate:!0}),watch(()=>$.visible,jt,{immediate:!0})}),onBeforeUnmount(()=>{kt==null||kt(),kt=void 0}),n({popperContentRef:he,popperInstanceRef:Oe,updatePopper:Dt,contentStyle:Fe}),(Lt,hn)=>(openBlock(),createElementBlock("div",mergeProps({ref_key:"contentRef",ref:he},unref(ze),{style:unref(Fe),class:unref(Ue),tabindex:"-1",onMouseenter:hn[0]||(hn[0]=Sn=>Lt.$emit("mouseenter",Sn)),onMouseleave:hn[1]||(hn[1]=Sn=>Lt.$emit("mouseleave",Sn))}),[createVNode$1(unref(ElFocusTrap),{trapped:unref(V),"trap-on-focus-in":!0,"focus-trap-el":unref(he),"focus-start-el":unref(L),onFocusAfterTrapped:unref(re),onFocusAfterReleased:unref(oe),onFocusin:unref(ae),onFocusoutPrevented:unref(le),onReleaseRequested:unref(ue)},{default:withCtx(()=>[renderSlot(Lt.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var ElPopperContent=_export_sfc$1(_sfc_main$1b,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);let ElPopper,TOOLTIP_INJECTION_KEY,useTooltipModelToggleProps,useTooltipModelToggleEmits,useTooltipModelToggle,useTooltipProps,tooltipEmits,isTriggerType,whenTrigger,__default__$P,_sfc_main$1a;ElPopper=withInstall(Popper),TOOLTIP_INJECTION_KEY=Symbol("elTooltip"),useTooltipContentProps=buildProps({...useDelayedToggleProps,...popperContentProps,appendTo:{type:definePropType([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:definePropType(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),useTooltipTriggerProps=buildProps({...popperTriggerProps,disabled:Boolean,trigger:{type:definePropType([String,Array]),default:"hover"},triggerKeys:{type:definePropType(Array),default:()=>[EVENT_CODE.enter,EVENT_CODE.space]}}),{useModelToggleProps:useTooltipModelToggleProps,useModelToggleEmits:useTooltipModelToggleEmits,useModelToggle:useTooltipModelToggle}=createModelToggleComposable("visible"),useTooltipProps=buildProps({...popperProps,...useTooltipModelToggleProps,...useTooltipContentProps,...useTooltipTriggerProps,...popperArrowProps,showArrow:{type:Boolean,default:!0}}),tooltipEmits=[...useTooltipModelToggleEmits,"before-show","before-hide","show","hide","open","close"],isTriggerType=(g,n)=>isArray$7(g)?g.includes(n):g===n,whenTrigger=(g,n,r)=>$=>{isTriggerType(unref(g),n)&&r($)},__default__$P=defineComponent({name:"ElTooltipTrigger"}),_sfc_main$1a=defineComponent({...__default__$P,props:useTooltipTriggerProps,setup(g,{expose:n}){const r=g,$=useNamespace("tooltip"),{controlled:L,id:V,open:oe,onOpen:re,onClose:ae,onToggle:le}=inject(TOOLTIP_INJECTION_KEY,void 0),ue=ref(null),de=()=>{if(unref(L)||r.disabled)return!0},pe=toRef(r,"trigger"),he=composeEventHandlers(de,whenTrigger(pe,"hover",re)),_e=composeEventHandlers(de,whenTrigger(pe,"hover",ae)),Oe=composeEventHandlers(de,whenTrigger(pe,"click",ze=>{ze.button===0&&le(ze)})),xe=composeEventHandlers(de,whenTrigger(pe,"focus",re)),$e=composeEventHandlers(de,whenTrigger(pe,"focus",ae)),Ie=composeEventHandlers(de,whenTrigger(pe,"contextmenu",ze=>{ze.preventDefault(),le(ze)})),Ne=composeEventHandlers(de,ze=>{const{code:Ue}=ze;r.triggerKeys.includes(Ue)&&(ze.preventDefault(),le(ze))});return n({triggerRef:ue}),(ze,Ue)=>(openBlock(),createBlock(unref(ElPopperTrigger),{id:unref(V),"virtual-ref":ze.virtualRef,open:unref(oe),"virtual-triggering":ze.virtualTriggering,class:normalizeClass(unref($).e("trigger")),onBlur:unref($e),onClick:unref(Oe),onContextmenu:unref(Ie),onFocus:unref(xe),onMouseenter:unref(he),onMouseleave:unref(_e),onKeydown:unref(Ne)},{default:withCtx(()=>[renderSlot(ze.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var ElTooltipTrigger=_export_sfc$1(_sfc_main$1a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const __default__$O=defineComponent({name:"ElTooltipContent",inheritAttrs:!1}),_sfc_main$19=defineComponent({...__default__$O,props:useTooltipContentProps,setup(g,{expose:n}){const r=g,{selector:$}=usePopperContainerId(),L=useNamespace("tooltip"),V=ref(null),oe=ref(!1),{controlled:re,id:ae,open:le,trigger:ue,onClose:de,onOpen:pe,onShow:he,onHide:_e,onBeforeShow:Oe,onBeforeHide:xe}=inject(TOOLTIP_INJECTION_KEY,void 0),$e=computed(()=>r.transition||`${L.namespace.value}-fade-in-linear`),Ie=computed(()=>r.persistent);onBeforeUnmount(()=>{oe.value=!0});const Ne=computed(()=>unref(Ie)?!0:unref(le)),ze=computed(()=>r.disabled?!1:unref(le)),Ue=computed(()=>r.appendTo||$.value),Fe=computed(()=>{var _n;return(_n=r.style)!=null?_n:{}}),qe=computed(()=>!unref(le)),Et=()=>{_e()},At=()=>{if(unref(re))return!0},kt=composeEventHandlers(At,()=>{r.enterable&&unref(ue)==="hover"&&pe()}),Dt=composeEventHandlers(At,()=>{unref(ue)==="hover"&&de()}),jt=()=>{var _n,xn;(xn=(_n=V.value)==null?void 0:_n.updatePopper)==null||xn.call(_n),Oe==null||Oe()},Lt=()=>{xe==null||xe()},hn=()=>{he(),On=onClickOutside(computed(()=>{var _n;return(_n=V.value)==null?void 0:_n.popperContentRef}),()=>{unref(re)||unref(ue)!=="hover"&&de()})},Sn=()=>{r.virtualTriggering||de()};let On;return watch(()=>unref(le),_n=>{_n||(On==null||On())},{flush:"post"}),watch(()=>r.content,()=>{var _n,xn;(xn=(_n=V.value)==null?void 0:_n.updatePopper)==null||xn.call(_n)}),n({contentRef:V}),(_n,xn)=>(openBlock(),createBlock(Teleport,{disabled:!_n.teleported,to:unref(Ue)},[createVNode$1(Transition,{name:unref($e),onAfterLeave:Et,onBeforeEnter:jt,onAfterEnter:hn,onBeforeLeave:Lt},{default:withCtx(()=>[unref(Ne)?withDirectives((openBlock(),createBlock(unref(ElPopperContent),mergeProps({key:0,id:unref(ae),ref_key:"contentRef",ref:V},_n.$attrs,{"aria-label":_n.ariaLabel,"aria-hidden":unref(qe),"boundaries-padding":_n.boundariesPadding,"fallback-placements":_n.fallbackPlacements,"gpu-acceleration":_n.gpuAcceleration,offset:_n.offset,placement:_n.placement,"popper-options":_n.popperOptions,strategy:_n.strategy,effect:_n.effect,enterable:_n.enterable,pure:_n.pure,"popper-class":_n.popperClass,"popper-style":[_n.popperStyle,unref(Fe)],"reference-el":_n.referenceEl,"trigger-target-el":_n.triggerTargetEl,visible:unref(ze),"z-index":_n.zIndex,onMouseenter:unref(kt),onMouseleave:unref(Dt),onBlur:Sn,onClose:unref(de)}),{default:withCtx(()=>[oe.value?createCommentVNode("v-if",!0):renderSlot(_n.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[vShow,unref(ze)]]):createCommentVNode("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var ElTooltipContent=_export_sfc$1(_sfc_main$19,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const _hoisted_1$D=["innerHTML"],_hoisted_2$o={key:1},__default__$N=defineComponent({name:"ElTooltip"}),_sfc_main$18=defineComponent({...__default__$N,props:useTooltipProps,emits:tooltipEmits,setup(g,{expose:n,emit:r}){const $=g;usePopperContainer();const L=useId(),V=ref(),oe=ref(),re=()=>{var $e;const Ie=unref(V);Ie&&(($e=Ie.popperInstanceRef)==null||$e.update())},ae=ref(!1),le=ref(),{show:ue,hide:de,hasUpdateHandler:pe}=useTooltipModelToggle({indicator:ae,toggleReason:le}),{onOpen:he,onClose:_e}=useDelayedToggle({showAfter:toRef($,"showAfter"),hideAfter:toRef($,"hideAfter"),autoClose:toRef($,"autoClose"),open:ue,close:de}),Oe=computed(()=>isBoolean$2($.visible)&&!pe.value);provide(TOOLTIP_INJECTION_KEY,{controlled:Oe,id:L,open:readonly(ae),trigger:toRef($,"trigger"),onOpen:$e=>{he($e)},onClose:$e=>{_e($e)},onToggle:$e=>{unref(ae)?_e($e):he($e)},onShow:()=>{r("show",le.value)},onHide:()=>{r("hide",le.value)},onBeforeShow:()=>{r("before-show",le.value)},onBeforeHide:()=>{r("before-hide",le.value)},updatePopper:re}),watch(()=>$.disabled,$e=>{$e&&ae.value&&(ae.value=!1)});const xe=()=>{var $e,Ie;const Ne=(Ie=($e=oe.value)==null?void 0:$e.contentRef)==null?void 0:Ie.popperContentRef;return Ne&&Ne.contains(document.activeElement)};return onDeactivated(()=>ae.value&&de()),n({popperRef:V,contentRef:oe,isFocusInsideContent:xe,updatePopper:re,onOpen:he,onClose:_e,hide:de}),($e,Ie)=>(openBlock(),createBlock(unref(ElPopper),{ref_key:"popperRef",ref:V,role:$e.role},{default:withCtx(()=>[createVNode$1(ElTooltipTrigger,{disabled:$e.disabled,trigger:$e.trigger,"trigger-keys":$e.triggerKeys,"virtual-ref":$e.virtualRef,"virtual-triggering":$e.virtualTriggering},{default:withCtx(()=>[$e.$slots.default?renderSlot($e.$slots,"default",{key:0}):createCommentVNode("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),createVNode$1(ElTooltipContent,{ref_key:"contentRef",ref:oe,"aria-label":$e.ariaLabel,"boundaries-padding":$e.boundariesPadding,content:$e.content,disabled:$e.disabled,effect:$e.effect,enterable:$e.enterable,"fallback-placements":$e.fallbackPlacements,"hide-after":$e.hideAfter,"gpu-acceleration":$e.gpuAcceleration,offset:$e.offset,persistent:$e.persistent,"popper-class":$e.popperClass,"popper-style":$e.popperStyle,placement:$e.placement,"popper-options":$e.popperOptions,pure:$e.pure,"raw-content":$e.rawContent,"reference-el":$e.referenceEl,"trigger-target-el":$e.triggerTargetEl,"show-after":$e.showAfter,strategy:$e.strategy,teleported:$e.teleported,transition:$e.transition,"virtual-triggering":$e.virtualTriggering,"z-index":$e.zIndex,"append-to":$e.appendTo},{default:withCtx(()=>[renderSlot($e.$slots,"content",{},()=>[$e.rawContent?(openBlock(),createElementBlock("span",{key:0,innerHTML:$e.content},null,8,_hoisted_1$D)):(openBlock(),createElementBlock("span",_hoisted_2$o,toDisplayString($e.content),1))]),$e.showArrow?(openBlock(),createBlock(unref(ElPopperArrow),{key:0,"arrow-offset":$e.arrowOffset},null,8,["arrow-offset"])):createCommentVNode("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Tooltip=_export_sfc$1(_sfc_main$18,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);let buttonGroupContextKey,useButton,buttonNativeTypes,buttonProps,buttonEmits;ElTooltip=withInstall(Tooltip),buttonGroupContextKey=Symbol("buttonGroupContextKey"),useButton=(g,n)=>{useDeprecated({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},computed(()=>g.type==="text"));const r=inject(buttonGroupContextKey,void 0),$=useGlobalConfig("button"),{form:L}=useFormItem(),V=useFormSize(computed(()=>r==null?void 0:r.size)),oe=useFormDisabled(),re=ref(),ae=useSlots(),le=computed(()=>g.type||(r==null?void 0:r.type)||""),ue=computed(()=>{var pe,he,_e;return(_e=(he=g.autoInsertSpace)!=null?he:(pe=$.value)==null?void 0:pe.autoInsertSpace)!=null?_e:!1}),de=computed(()=>{var pe;const he=(pe=ae.default)==null?void 0:pe.call(ae);if(ue.value&&(he==null?void 0:he.length)===1){const _e=he[0];if((_e==null?void 0:_e.type)===Text$1){const Oe=_e.children;return/^\p{Unified_Ideograph}{2}$/u.test(Oe.trim())}}return!1});return{_disabled:oe,_size:V,_type:le,_ref:re,shouldAddSpace:de,handleClick:pe=>{g.nativeType==="reset"&&(L==null||L.resetFields()),n("click",pe)}}},buttonTypes=["default","primary","success","warning","info","danger","text",""],buttonNativeTypes=["button","submit","reset"],buttonProps=buildProps({size:useSizeProp,disabled:Boolean,type:{type:String,values:buttonTypes,default:""},icon:{type:iconPropType},nativeType:{type:String,values:buttonNativeTypes,default:"button"},loading:Boolean,loadingIcon:{type:iconPropType,default:()=>loading_default},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0}}),buttonEmits={click:g=>g instanceof MouseEvent};function bound01$1(g,n){isOnePointZero$1(g)&&(g="100%");var r=isPercentage$1(g);return g=n===360?g:Math.min(n,Math.max(0,parseFloat(g))),r&&(g=parseInt(String(g*n),10)/100),Math.abs(g-n)<1e-6?1:(n===360?g=(g<0?g%n+n:g%n)/parseFloat(String(n)):g=g%n/parseFloat(String(n)),g)}function clamp01(g){return Math.min(1,Math.max(0,g))}function isOnePointZero$1(g){return typeof g=="string"&&g.indexOf(".")!==-1&&parseFloat(g)===1}function isPercentage$1(g){return typeof g=="string"&&g.indexOf("%")!==-1}function boundAlpha(g){return g=parseFloat(g),(isNaN(g)||g<0||g>1)&&(g=1),g}function convertToPercentage(g){return g<=1?"".concat(Number(g)*100,"%"):g}function pad2(g){return g.length===1?"0"+g:String(g)}function rgbToRgb(g,n,r){return{r:bound01$1(g,255)*255,g:bound01$1(n,255)*255,b:bound01$1(r,255)*255}}function rgbToHsl(g,n,r){g=bound01$1(g,255),n=bound01$1(n,255),r=bound01$1(r,255);var $=Math.max(g,n,r),L=Math.min(g,n,r),V=0,oe=0,re=($+L)/2;if($===L)oe=0,V=0;else{var ae=$-L;switch(oe=re>.5?ae/(2-$-L):ae/($+L),$){case g:V=(n-r)/ae+(n<r?6:0);break;case n:V=(r-g)/ae+2;break;case r:V=(g-n)/ae+4;break}V/=6}return{h:V,s:oe,l:re}}function hue2rgb(g,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<.16666666666666666?g+(n-g)*(6*r):r<.5?n:r<.6666666666666666?g+(n-g)*(.6666666666666666-r)*6:g}function hslToRgb(g,n,r){var $,L,V;if(g=bound01$1(g,360),n=bound01$1(n,100),r=bound01$1(r,100),n===0)L=r,V=r,$=r;else{var oe=r<.5?r*(1+n):r+n-r*n,re=2*r-oe;$=hue2rgb(re,oe,g+.3333333333333333),L=hue2rgb(re,oe,g),V=hue2rgb(re,oe,g-.3333333333333333)}return{r:$*255,g:L*255,b:V*255}}function rgbToHsv(g,n,r){g=bound01$1(g,255),n=bound01$1(n,255),r=bound01$1(r,255);var $=Math.max(g,n,r),L=Math.min(g,n,r),V=0,oe=$,re=$-L,ae=$===0?0:re/$;if($===L)V=0;else{switch($){case g:V=(n-r)/re+(n<r?6:0);break;case n:V=(r-g)/re+2;break;case r:V=(g-n)/re+4;break}V/=6}return{h:V,s:ae,v:oe}}function hsvToRgb(g,n,r){g=bound01$1(g,360)*6,n=bound01$1(n,100),r=bound01$1(r,100);var $=Math.floor(g),L=g-$,V=r*(1-n),oe=r*(1-L*n),re=r*(1-(1-L)*n),ae=$%6,le=[r,oe,V,V,re,r][ae],ue=[re,r,r,oe,V,V][ae],de=[V,V,re,r,r,oe][ae];return{r:le*255,g:ue*255,b:de*255}}function rgbToHex(g,n,r,$){var L=[pad2(Math.round(g).toString(16)),pad2(Math.round(n).toString(16)),pad2(Math.round(r).toString(16))];return $&&L[0].startsWith(L[0].charAt(1))&&L[1].startsWith(L[1].charAt(1))&&L[2].startsWith(L[2].charAt(1))?L[0].charAt(0)+L[1].charAt(0)+L[2].charAt(0):L.join("")}function rgbaToHex(g,n,r,$,L){var V=[pad2(Math.round(g).toString(16)),pad2(Math.round(n).toString(16)),pad2(Math.round(r).toString(16)),pad2(convertDecimalToHex($))];return L&&V[0].startsWith(V[0].charAt(1))&&V[1].startsWith(V[1].charAt(1))&&V[2].startsWith(V[2].charAt(1))&&V[3].startsWith(V[3].charAt(1))?V[0].charAt(0)+V[1].charAt(0)+V[2].charAt(0)+V[3].charAt(0):V.join("")}function convertDecimalToHex(g){return Math.round(parseFloat(g)*255).toString(16)}function convertHexToDecimal(g){return parseIntFromHex(g)/255}function parseIntFromHex(g){return parseInt(g,16)}function numberInputToObject(g){return{r:g>>16,g:(g&65280)>>8,b:g&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(g){var n={r:0,g:0,b:0},r=1,$=null,L=null,V=null,oe=!1,re=!1;return typeof g=="string"&&(g=stringInputToObject(g)),typeof g=="object"&&(isValidCSSUnit(g.r)&&isValidCSSUnit(g.g)&&isValidCSSUnit(g.b)?(n=rgbToRgb(g.r,g.g,g.b),oe=!0,re=String(g.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(g.h)&&isValidCSSUnit(g.s)&&isValidCSSUnit(g.v)?($=convertToPercentage(g.s),L=convertToPercentage(g.v),n=hsvToRgb(g.h,$,L),oe=!0,re="hsv"):isValidCSSUnit(g.h)&&isValidCSSUnit(g.s)&&isValidCSSUnit(g.l)&&($=convertToPercentage(g.s),V=convertToPercentage(g.l),n=hslToRgb(g.h,$,V),oe=!0,re="hsl"),Object.prototype.hasOwnProperty.call(g,"a")&&(r=g.a)),r=boundAlpha(r),{ok:oe,format:g.format||re,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(g){if(g=g.trim().toLowerCase(),g.length===0)return!1;var n=!1;if(names[g])g=names[g],n=!0;else if(g==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=matchers.rgb.exec(g);return r?{r:r[1],g:r[2],b:r[3]}:(r=matchers.rgba.exec(g),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=matchers.hsl.exec(g),r?{h:r[1],s:r[2],l:r[3]}:(r=matchers.hsla.exec(g),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=matchers.hsv.exec(g),r?{h:r[1],s:r[2],v:r[3]}:(r=matchers.hsva.exec(g),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=matchers.hex8.exec(g),r?{r:parseIntFromHex(r[1]),g:parseIntFromHex(r[2]),b:parseIntFromHex(r[3]),a:convertHexToDecimal(r[4]),format:n?"name":"hex8"}:(r=matchers.hex6.exec(g),r?{r:parseIntFromHex(r[1]),g:parseIntFromHex(r[2]),b:parseIntFromHex(r[3]),format:n?"name":"hex"}:(r=matchers.hex4.exec(g),r?{r:parseIntFromHex(r[1]+r[1]),g:parseIntFromHex(r[2]+r[2]),b:parseIntFromHex(r[3]+r[3]),a:convertHexToDecimal(r[4]+r[4]),format:n?"name":"hex8"}:(r=matchers.hex3.exec(g),r?{r:parseIntFromHex(r[1]+r[1]),g:parseIntFromHex(r[2]+r[2]),b:parseIntFromHex(r[3]+r[3]),format:n?"name":"hex"}:!1)))))))))}function isValidCSSUnit(g){return Boolean(matchers.CSS_UNIT.exec(String(g)))}var TinyColor=function(){function g(n,r){n===void 0&&(n=""),r===void 0&&(r={});var $;if(n instanceof g)return n;typeof n=="number"&&(n=numberInputToObject(n)),this.originalInput=n;var L=inputToRGB(n);this.originalInput=n,this.r=L.r,this.g=L.g,this.b=L.b,this.a=L.a,this.roundA=Math.round(100*this.a)/100,this.format=($=r.format)!==null&&$!==void 0?$:L.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=L.ok}return g.prototype.isDark=function(){return this.getBrightness()<128},g.prototype.isLight=function(){return!this.isDark()},g.prototype.getBrightness=function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},g.prototype.getLuminance=function(){var n=this.toRgb(),r,$,L,V=n.r/255,oe=n.g/255,re=n.b/255;return V<=.03928?r=V/12.92:r=Math.pow((V+.055)/1.055,2.4),oe<=.03928?$=oe/12.92:$=Math.pow((oe+.055)/1.055,2.4),re<=.03928?L=re/12.92:L=Math.pow((re+.055)/1.055,2.4),.2126*r+.7152*$+.0722*L},g.prototype.getAlpha=function(){return this.a},g.prototype.setAlpha=function(n){return this.a=boundAlpha(n),this.roundA=Math.round(100*this.a)/100,this},g.prototype.isMonochrome=function(){var n=this.toHsl().s;return n===0},g.prototype.toHsv=function(){var n=rgbToHsv(this.r,this.g,this.b);return{h:n.h*360,s:n.s,v:n.v,a:this.a}},g.prototype.toHsvString=function(){var n=rgbToHsv(this.r,this.g,this.b),r=Math.round(n.h*360),$=Math.round(n.s*100),L=Math.round(n.v*100);return this.a===1?"hsv(".concat(r,", ").concat($,"%, ").concat(L,"%)"):"hsva(".concat(r,", ").concat($,"%, ").concat(L,"%, ").concat(this.roundA,")")},g.prototype.toHsl=function(){var n=rgbToHsl(this.r,this.g,this.b);return{h:n.h*360,s:n.s,l:n.l,a:this.a}},g.prototype.toHslString=function(){var n=rgbToHsl(this.r,this.g,this.b),r=Math.round(n.h*360),$=Math.round(n.s*100),L=Math.round(n.l*100);return this.a===1?"hsl(".concat(r,", ").concat($,"%, ").concat(L,"%)"):"hsla(".concat(r,", ").concat($,"%, ").concat(L,"%, ").concat(this.roundA,")")},g.prototype.toHex=function(n){return n===void 0&&(n=!1),rgbToHex(this.r,this.g,this.b,n)},g.prototype.toHexString=function(n){return n===void 0&&(n=!1),"#"+this.toHex(n)},g.prototype.toHex8=function(n){return n===void 0&&(n=!1),rgbaToHex(this.r,this.g,this.b,this.a,n)},g.prototype.toHex8String=function(n){return n===void 0&&(n=!1),"#"+this.toHex8(n)},g.prototype.toHexShortString=function(n){return n===void 0&&(n=!1),this.a===1?this.toHexString(n):this.toHex8String(n)},g.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},g.prototype.toRgbString=function(){var n=Math.round(this.r),r=Math.round(this.g),$=Math.round(this.b);return this.a===1?"rgb(".concat(n,", ").concat(r,", ").concat($,")"):"rgba(".concat(n,", ").concat(r,", ").concat($,", ").concat(this.roundA,")")},g.prototype.toPercentageRgb=function(){var n=function(r){return"".concat(Math.round(bound01$1(r,255)*100),"%")};return{r:n(this.r),g:n(this.g),b:n(this.b),a:this.a}},g.prototype.toPercentageRgbString=function(){var n=function(r){return Math.round(bound01$1(r,255)*100)};return this.a===1?"rgb(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%)"):"rgba(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%, ").concat(this.roundA,")")},g.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var n="#"+rgbToHex(this.r,this.g,this.b,!1),r=0,$=Object.entries(names);r<$.length;r++){var L=$[r],V=L[0],oe=L[1];if(n===oe)return V}return!1},g.prototype.toString=function(n){var r=Boolean(n);n=n!=null?n:this.format;var $=!1,L=this.a<1&&this.a>=0,V=!r&&L&&(n.startsWith("hex")||n==="name");return V?n==="name"&&this.a===0?this.toName():this.toRgbString():(n==="rgb"&&($=this.toRgbString()),n==="prgb"&&($=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&($=this.toHexString()),n==="hex3"&&($=this.toHexString(!0)),n==="hex4"&&($=this.toHex8String(!0)),n==="hex8"&&($=this.toHex8String()),n==="name"&&($=this.toName()),n==="hsl"&&($=this.toHslString()),n==="hsv"&&($=this.toHsvString()),$||this.toHexString())},g.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},g.prototype.clone=function(){return new g(this.toString())},g.prototype.lighten=function(n){n===void 0&&(n=10);var r=this.toHsl();return r.l+=n/100,r.l=clamp01(r.l),new g(r)},g.prototype.brighten=function(n){n===void 0&&(n=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(n/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(n/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(n/100)))),new g(r)},g.prototype.darken=function(n){n===void 0&&(n=10);var r=this.toHsl();return r.l-=n/100,r.l=clamp01(r.l),new g(r)},g.prototype.tint=function(n){return n===void 0&&(n=10),this.mix("white",n)},g.prototype.shade=function(n){return n===void 0&&(n=10),this.mix("black",n)},g.prototype.desaturate=function(n){n===void 0&&(n=10);var r=this.toHsl();return r.s-=n/100,r.s=clamp01(r.s),new g(r)},g.prototype.saturate=function(n){n===void 0&&(n=10);var r=this.toHsl();return r.s+=n/100,r.s=clamp01(r.s),new g(r)},g.prototype.greyscale=function(){return this.desaturate(100)},g.prototype.spin=function(n){var r=this.toHsl(),$=(r.h+n)%360;return r.h=$<0?360+$:$,new g(r)},g.prototype.mix=function(n,r){r===void 0&&(r=50);var $=this.toRgb(),L=new g(n).toRgb(),V=r/100,oe={r:(L.r-$.r)*V+$.r,g:(L.g-$.g)*V+$.g,b:(L.b-$.b)*V+$.b,a:(L.a-$.a)*V+$.a};return new g(oe)},g.prototype.analogous=function(n,r){n===void 0&&(n=6),r===void 0&&(r=30);var $=this.toHsl(),L=360/r,V=[this];for($.h=($.h-(L*n>>1)+720)%360;--n;)$.h=($.h+L)%360,V.push(new g($));return V},g.prototype.complement=function(){var n=this.toHsl();return n.h=(n.h+180)%360,new g(n)},g.prototype.monochromatic=function(n){n===void 0&&(n=6);for(var r=this.toHsv(),$=r.h,L=r.s,V=r.v,oe=[],re=1/n;n--;)oe.push(new g({h:$,s:L,v:V})),V=(V+re)%1;return oe},g.prototype.splitcomplement=function(){var n=this.toHsl(),r=n.h;return[this,new g({h:(r+72)%360,s:n.s,l:n.l}),new g({h:(r+216)%360,s:n.s,l:n.l})]},g.prototype.onBackground=function(n){var r=this.toRgb(),$=new g(n).toRgb(),L=r.a+$.a*(1-r.a);return new g({r:(r.r*r.a+$.r*$.a*(1-r.a))/L,g:(r.g*r.a+$.g*$.a*(1-r.a))/L,b:(r.b*r.a+$.b*$.a*(1-r.a))/L,a:L})},g.prototype.triad=function(){return this.polyad(3)},g.prototype.tetrad=function(){return this.polyad(4)},g.prototype.polyad=function(n){for(var r=this.toHsl(),$=r.h,L=[this],V=360/n,oe=1;oe<n;oe++)L.push(new g({h:($+oe*V)%360,s:r.s,l:r.l}));return L},g.prototype.equals=function(n){return this.toRgbString()===new g(n).toRgbString()},g}();function darken(g,n=20){return g.mix("#141414",n).toString()}function useButtonCustomStyle(g){const n=useFormDisabled(),r=useNamespace("button");return computed(()=>{let $={};const L=g.color;if(L){const V=new TinyColor(L),oe=g.dark?V.tint(20).toString():darken(V,20);if(g.plain)$=r.cssVarBlock({"bg-color":g.dark?darken(V,90):V.tint(90).toString(),"text-color":L,"border-color":g.dark?darken(V,50):V.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":L,"hover-border-color":L,"active-bg-color":oe,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":oe}),n.value&&($[r.cssVarBlockName("disabled-bg-color")]=g.dark?darken(V,90):V.tint(90).toString(),$[r.cssVarBlockName("disabled-text-color")]=g.dark?darken(V,50):V.tint(50).toString(),$[r.cssVarBlockName("disabled-border-color")]=g.dark?darken(V,80):V.tint(80).toString());else{const re=g.dark?darken(V,30):V.tint(30).toString(),ae=V.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if($=r.cssVarBlock({"bg-color":L,"text-color":ae,"border-color":L,"hover-bg-color":re,"hover-text-color":ae,"hover-border-color":re,"active-bg-color":oe,"active-border-color":oe}),n.value){const le=g.dark?darken(V,50):V.tint(50).toString();$[r.cssVarBlockName("disabled-bg-color")]=le,$[r.cssVarBlockName("disabled-text-color")]=g.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,$[r.cssVarBlockName("disabled-border-color")]=le}}}return $})}const _hoisted_1$C=["aria-disabled","disabled","autofocus","type"],__default__$M=defineComponent({name:"ElButton"}),_sfc_main$17=defineComponent({...__default__$M,props:buttonProps,emits:buttonEmits,setup(g,{expose:n,emit:r}){const $=g,L=useButtonCustomStyle($),V=useNamespace("button"),{_ref:oe,_size:re,_type:ae,_disabled:le,shouldAddSpace:ue,handleClick:de}=useButton($,r);return n({ref:oe,size:re,type:ae,disabled:le,shouldAddSpace:ue}),(pe,he)=>(openBlock(),createElementBlock("button",{ref_key:"_ref",ref:oe,class:normalizeClass([unref(V).b(),unref(V).m(unref(ae)),unref(V).m(unref(re)),unref(V).is("disabled",unref(le)),unref(V).is("loading",pe.loading),unref(V).is("plain",pe.plain),unref(V).is("round",pe.round),unref(V).is("circle",pe.circle),unref(V).is("text",pe.text),unref(V).is("link",pe.link),unref(V).is("has-bg",pe.bg)]),"aria-disabled":unref(le)||pe.loading,disabled:unref(le)||pe.loading,autofocus:pe.autofocus,type:pe.nativeType,style:normalizeStyle$1(unref(L)),onClick:he[0]||(he[0]=(..._e)=>unref(de)&&unref(de)(..._e))},[pe.loading?(openBlock(),createElementBlock(Fragment,{key:0},[pe.$slots.loading?renderSlot(pe.$slots,"loading",{key:0}):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(V).is("loading"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(pe.loadingIcon)))]),_:1},8,["class"]))],64)):pe.icon||pe.$slots.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[pe.icon?(openBlock(),createBlock(resolveDynamicComponent(pe.icon),{key:0})):renderSlot(pe.$slots,"icon",{key:1})]),_:3})):createCommentVNode("v-if",!0),pe.$slots.default?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass({[unref(V).em("text","expand")]:unref(ue)})},[renderSlot(pe.$slots,"default")],2)):createCommentVNode("v-if",!0)],14,_hoisted_1$C))}});var Button=_export_sfc$1(_sfc_main$17,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const buttonGroupProps={size:buttonProps.size,type:buttonProps.type},__default__$L=defineComponent({name:"ElButtonGroup"}),_sfc_main$16=defineComponent({...__default__$L,props:buttonGroupProps,setup(g){const n=g;provide(buttonGroupContextKey,reactive({size:toRef(n,"size"),type:toRef(n,"type")}));const r=useNamespace("button");return($,L)=>(openBlock(),createElementBlock("div",{class:normalizeClass(`${unref(r).b("group")}`)},[renderSlot($.$slots,"default")],2))}});var ButtonGroup=_export_sfc$1(_sfc_main$16,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);ElButton=withInstall(Button,{ButtonGroup}),ElButtonGroup=withNoopInstall(ButtonGroup),commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},getDefaultExportFromCjs=function(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n},getAugmentedNamespace=function(n){var r=n.default;if(typeof r=="function"){var $=function(){return r.apply(this,arguments)};$.prototype=r.prototype}else $={};return Object.defineProperty($,"__esModule",{value:!0}),Object.keys(n).forEach(function(L){var V=Object.getOwnPropertyDescriptor(n,L);Object.defineProperty($,L,V.get?V:{enumerable:!0,get:function(){return n[L]}})}),$};var dayjs_min={exports:{}};(function(g,n){(function(r,$){g.exports=$()})(commonjsGlobal,function(){var r=1e3,$=6e4,L=36e5,V="millisecond",oe="second",re="minute",ae="hour",le="day",ue="week",de="month",pe="quarter",he="year",_e="date",Oe="Invalid Date",xe=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,$e=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ie={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Lt){var hn=["th","st","nd","rd"],Sn=Lt%100;return"["+Lt+(hn[(Sn-20)%10]||hn[Sn]||hn[0])+"]"}},Ne=function(Lt,hn,Sn){var On=String(Lt);return!On||On.length>=hn?Lt:""+Array(hn+1-On.length).join(Sn)+Lt},ze={s:Ne,z:function(Lt){var hn=-Lt.utcOffset(),Sn=Math.abs(hn),On=Math.floor(Sn/60),_n=Sn%60;return(hn<=0?"+":"-")+Ne(On,2,"0")+":"+Ne(_n,2,"0")},m:function Lt(hn,Sn){if(hn.date()<Sn.date())return-Lt(Sn,hn);var On=12*(Sn.year()-hn.year())+(Sn.month()-hn.month()),_n=hn.clone().add(On,de),xn=Sn-_n<0,bn=hn.clone().add(On+(xn?-1:1),de);return+(-(On+(Sn-_n)/(xn?_n-bn:bn-_n))||0)},a:function(Lt){return Lt<0?Math.ceil(Lt)||0:Math.floor(Lt)},p:function(Lt){return{M:de,y:he,w:ue,d:le,D:_e,h:ae,m:re,s:oe,ms:V,Q:pe}[Lt]||String(Lt||"").toLowerCase().replace(/s$/,"")},u:function(Lt){return Lt===void 0}},Ue="en",Fe={};Fe[Ue]=Ie;var qe=function(Lt){return Lt instanceof Dt},Et=function Lt(hn,Sn,On){var _n;if(!hn)return Ue;if(typeof hn=="string"){var xn=hn.toLowerCase();Fe[xn]&&(_n=xn),Sn&&(Fe[xn]=Sn,_n=xn);var bn=hn.split("-");if(!_n&&bn.length>1)return Lt(bn[0])}else{var Tn=hn.name;Fe[Tn]=hn,_n=Tn}return!On&&_n&&(Ue=_n),_n||!On&&Ue},At=function(Lt,hn){if(qe(Lt))return Lt.clone();var Sn=typeof hn=="object"?hn:{};return Sn.date=Lt,Sn.args=arguments,new Dt(Sn)},kt=ze;kt.l=Et,kt.i=qe,kt.w=function(Lt,hn){return At(Lt,{locale:hn.$L,utc:hn.$u,x:hn.$x,$offset:hn.$offset})};var Dt=function(){function Lt(Sn){this.$L=Et(Sn.locale,null,!0),this.parse(Sn)}var hn=Lt.prototype;return hn.parse=function(Sn){this.$d=function(On){var _n=On.date,xn=On.utc;if(_n===null)return new Date(NaN);if(kt.u(_n))return new Date;if(_n instanceof Date)return new Date(_n);if(typeof _n=="string"&&!/Z$/i.test(_n)){var bn=_n.match(xe);if(bn){var Tn=bn[2]-1||0,An=(bn[7]||"0").substring(0,3);return xn?new Date(Date.UTC(bn[1],Tn,bn[3]||1,bn[4]||0,bn[5]||0,bn[6]||0,An)):new Date(bn[1],Tn,bn[3]||1,bn[4]||0,bn[5]||0,bn[6]||0,An)}}return new Date(_n)}(Sn),this.$x=Sn.x||{},this.init()},hn.init=function(){var Sn=this.$d;this.$y=Sn.getFullYear(),this.$M=Sn.getMonth(),this.$D=Sn.getDate(),this.$W=Sn.getDay(),this.$H=Sn.getHours(),this.$m=Sn.getMinutes(),this.$s=Sn.getSeconds(),this.$ms=Sn.getMilliseconds()},hn.$utils=function(){return kt},hn.isValid=function(){return this.$d.toString()!==Oe},hn.isSame=function(Sn,On){var _n=At(Sn);return this.startOf(On)<=_n&&_n<=this.endOf(On)},hn.isAfter=function(Sn,On){return At(Sn)<this.startOf(On)},hn.isBefore=function(Sn,On){return this.endOf(On)<At(Sn)},hn.$g=function(Sn,On,_n){return kt.u(Sn)?this[On]:this.set(_n,Sn)},hn.unix=function(){return Math.floor(this.valueOf()/1e3)},hn.valueOf=function(){return this.$d.getTime()},hn.startOf=function(Sn,On){var _n=this,xn=!!kt.u(On)||On,bn=kt.p(Sn),Tn=function(Nn,Vn){var Un=kt.w(_n.$u?Date.UTC(_n.$y,Vn,Nn):new Date(_n.$y,Vn,Nn),_n);return xn?Un:Un.endOf(le)},An=function(Nn,Vn){return kt.w(_n.toDate()[Nn].apply(_n.toDate("s"),(xn?[0,0,0,0]:[23,59,59,999]).slice(Vn)),_n)},En=this.$W,Ln=this.$M,Wn=this.$D,Mn="set"+(this.$u?"UTC":"");switch(bn){case he:return xn?Tn(1,0):Tn(31,11);case de:return xn?Tn(1,Ln):Tn(0,Ln+1);case ue:var Fn=this.$locale().weekStart||0,In=(En<Fn?En+7:En)-Fn;return Tn(xn?Wn-In:Wn+(6-In),Ln);case le:case _e:return An(Mn+"Hours",0);case ae:return An(Mn+"Minutes",1);case re:return An(Mn+"Seconds",2);case oe:return An(Mn+"Milliseconds",3);default:return this.clone()}},hn.endOf=function(Sn){return this.startOf(Sn,!1)},hn.$set=function(Sn,On){var _n,xn=kt.p(Sn),bn="set"+(this.$u?"UTC":""),Tn=(_n={},_n[le]=bn+"Date",_n[_e]=bn+"Date",_n[de]=bn+"Month",_n[he]=bn+"FullYear",_n[ae]=bn+"Hours",_n[re]=bn+"Minutes",_n[oe]=bn+"Seconds",_n[V]=bn+"Milliseconds",_n)[xn],An=xn===le?this.$D+(On-this.$W):On;if(xn===de||xn===he){var En=this.clone().set(_e,1);En.$d[Tn](An),En.init(),this.$d=En.set(_e,Math.min(this.$D,En.daysInMonth())).$d}else Tn&&this.$d[Tn](An);return this.init(),this},hn.set=function(Sn,On){return this.clone().$set(Sn,On)},hn.get=function(Sn){return this[kt.p(Sn)]()},hn.add=function(Sn,On){var _n,xn=this;Sn=Number(Sn);var bn=kt.p(On),Tn=function(Ln){var Wn=At(xn);return kt.w(Wn.date(Wn.date()+Math.round(Ln*Sn)),xn)};if(bn===de)return this.set(de,this.$M+Sn);if(bn===he)return this.set(he,this.$y+Sn);if(bn===le)return Tn(1);if(bn===ue)return Tn(7);var An=(_n={},_n[re]=$,_n[ae]=L,_n[oe]=r,_n)[bn]||1,En=this.$d.getTime()+Sn*An;return kt.w(En,this)},hn.subtract=function(Sn,On){return this.add(-1*Sn,On)},hn.format=function(Sn){var On=this,_n=this.$locale();if(!this.isValid())return _n.invalidDate||Oe;var xn=Sn||"YYYY-MM-DDTHH:mm:ssZ",bn=kt.z(this),Tn=this.$H,An=this.$m,En=this.$M,Ln=_n.weekdays,Wn=_n.months,Mn=function(Vn,Un,Gn,$n){return Vn&&(Vn[Un]||Vn(On,xn))||Gn[Un].slice(0,$n)},Fn=function(Vn){return kt.s(Tn%12||12,Vn,"0")},In=_n.meridiem||function(Vn,Un,Gn){var $n=Vn<12?"AM":"PM";return Gn?$n.toLowerCase():$n},Nn={YY:String(this.$y).slice(-2),YYYY:this.$y,M:En+1,MM:kt.s(En+1,2,"0"),MMM:Mn(_n.monthsShort,En,Wn,3),MMMM:Mn(Wn,En),D:this.$D,DD:kt.s(this.$D,2,"0"),d:String(this.$W),dd:Mn(_n.weekdaysMin,this.$W,Ln,2),ddd:Mn(_n.weekdaysShort,this.$W,Ln,3),dddd:Ln[this.$W],H:String(Tn),HH:kt.s(Tn,2,"0"),h:Fn(1),hh:Fn(2),a:In(Tn,An,!0),A:In(Tn,An,!1),m:String(An),mm:kt.s(An,2,"0"),s:String(this.$s),ss:kt.s(this.$s,2,"0"),SSS:kt.s(this.$ms,3,"0"),Z:bn};return xn.replace($e,function(Vn,Un){return Un||Nn[Vn]||bn.replace(":","")})},hn.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},hn.diff=function(Sn,On,_n){var xn,bn=kt.p(On),Tn=At(Sn),An=(Tn.utcOffset()-this.utcOffset())*$,En=this-Tn,Ln=kt.m(this,Tn);return Ln=(xn={},xn[he]=Ln/12,xn[de]=Ln,xn[pe]=Ln/3,xn[ue]=(En-An)/6048e5,xn[le]=(En-An)/864e5,xn[ae]=En/L,xn[re]=En/$,xn[oe]=En/r,xn)[bn]||En,_n?Ln:kt.a(Ln)},hn.daysInMonth=function(){return this.endOf(de).$D},hn.$locale=function(){return Fe[this.$L]},hn.locale=function(Sn,On){if(!Sn)return this.$L;var _n=this.clone(),xn=Et(Sn,On,!0);return xn&&(_n.$L=xn),_n},hn.clone=function(){return kt.w(this.$d,this)},hn.toDate=function(){return new Date(this.valueOf())},hn.toJSON=function(){return this.isValid()?this.toISOString():null},hn.toISOString=function(){return this.$d.toISOString()},hn.toString=function(){return this.$d.toUTCString()},Lt}(),jt=Dt.prototype;return At.prototype=jt,[["$ms",V],["$s",oe],["$m",re],["$H",ae],["$W",le],["$M",de],["$y",he],["$D",_e]].forEach(function(Lt){jt[Lt[1]]=function(hn){return this.$g(hn,Lt[0],Lt[1])}}),At.extend=function(Lt,hn){return Lt.$i||(Lt(hn,Dt,At),Lt.$i=!0),At},At.locale=Et,At.isDayjs=qe,At.unix=function(Lt){return At(1e3*Lt)},At.en=Fe[Ue],At.Ls=Fe,At.p={},At})})(dayjs_min);const dayjs=dayjs_min.exports;var customParseFormat$1={exports:{}};(function(g,n){(function(r,$){g.exports=$()})(commonjsGlobal,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},$=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,L=/\d\d/,V=/\d\d?/,oe=/\d*[^-_:/,()\s\d]+/,re={},ae=function(Oe){return(Oe=+Oe)+(Oe>68?1900:2e3)},le=function(Oe){return function(xe){this[Oe]=+xe}},ue=[/[+-]\d\d:?(\d\d)?|Z/,function(Oe){(this.zone||(this.zone={})).offset=function(xe){if(!xe||xe==="Z")return 0;var $e=xe.match(/([+-]|\d\d)/g),Ie=60*$e[1]+(+$e[2]||0);return Ie===0?0:$e[0]==="+"?-Ie:Ie}(Oe)}],de=function(Oe){var xe=re[Oe];return xe&&(xe.indexOf?xe:xe.s.concat(xe.f))},pe=function(Oe,xe){var $e,Ie=re.meridiem;if(Ie){for(var Ne=1;Ne<=24;Ne+=1)if(Oe.indexOf(Ie(Ne,0,xe))>-1){$e=Ne>12;break}}else $e=Oe===(xe?"pm":"PM");return $e},he={A:[oe,function(Oe){this.afternoon=pe(Oe,!1)}],a:[oe,function(Oe){this.afternoon=pe(Oe,!0)}],S:[/\d/,function(Oe){this.milliseconds=100*+Oe}],SS:[L,function(Oe){this.milliseconds=10*+Oe}],SSS:[/\d{3}/,function(Oe){this.milliseconds=+Oe}],s:[V,le("seconds")],ss:[V,le("seconds")],m:[V,le("minutes")],mm:[V,le("minutes")],H:[V,le("hours")],h:[V,le("hours")],HH:[V,le("hours")],hh:[V,le("hours")],D:[V,le("day")],DD:[L,le("day")],Do:[oe,function(Oe){var xe=re.ordinal,$e=Oe.match(/\d+/);if(this.day=$e[0],xe)for(var Ie=1;Ie<=31;Ie+=1)xe(Ie).replace(/\[|\]/g,"")===Oe&&(this.day=Ie)}],M:[V,le("month")],MM:[L,le("month")],MMM:[oe,function(Oe){var xe=de("months"),$e=(de("monthsShort")||xe.map(function(Ie){return Ie.slice(0,3)})).indexOf(Oe)+1;if($e<1)throw new Error;this.month=$e%12||$e}],MMMM:[oe,function(Oe){var xe=de("months").indexOf(Oe)+1;if(xe<1)throw new Error;this.month=xe%12||xe}],Y:[/[+-]?\d+/,le("year")],YY:[L,function(Oe){this.year=ae(Oe)}],YYYY:[/\d{4}/,le("year")],Z:ue,ZZ:ue};function _e(Oe){var xe,$e;xe=Oe,$e=re&&re.formats;for(var Ie=(Oe=xe.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(At,kt,Dt){var jt=Dt&&Dt.toUpperCase();return kt||$e[Dt]||r[Dt]||$e[jt].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Lt,hn,Sn){return hn||Sn.slice(1)})})).match($),Ne=Ie.length,ze=0;ze<Ne;ze+=1){var Ue=Ie[ze],Fe=he[Ue],qe=Fe&&Fe[0],Et=Fe&&Fe[1];Ie[ze]=Et?{regex:qe,parser:Et}:Ue.replace(/^\[|\]$/g,"")}return function(At){for(var kt={},Dt=0,jt=0;Dt<Ne;Dt+=1){var Lt=Ie[Dt];if(typeof Lt=="string")jt+=Lt.length;else{var hn=Lt.regex,Sn=Lt.parser,On=At.slice(jt),_n=hn.exec(On)[0];Sn.call(kt,_n),At=At.replace(_n,"")}}return function(xn){var bn=xn.afternoon;if(bn!==void 0){var Tn=xn.hours;bn?Tn<12&&(xn.hours+=12):Tn===12&&(xn.hours=0),delete xn.afternoon}}(kt),kt}}return function(Oe,xe,$e){$e.p.customParseFormat=!0,Oe&&Oe.parseTwoDigitYear&&(ae=Oe.parseTwoDigitYear);var Ie=xe.prototype,Ne=Ie.parse;Ie.parse=function(ze){var Ue=ze.date,Fe=ze.utc,qe=ze.args;this.$u=Fe;var Et=qe[1];if(typeof Et=="string"){var At=qe[2]===!0,kt=qe[3]===!0,Dt=At||kt,jt=qe[2];kt&&(jt=qe[2]),re=this.$locale(),!At&&jt&&(re=$e.Ls[jt]),this.$d=function(On,_n,xn){try{if(["x","X"].indexOf(_n)>-1)return new Date((_n==="X"?1e3:1)*On);var bn=_e(_n)(On),Tn=bn.year,An=bn.month,En=bn.day,Ln=bn.hours,Wn=bn.minutes,Mn=bn.seconds,Fn=bn.milliseconds,In=bn.zone,Nn=new Date,Vn=En||(Tn||An?1:Nn.getDate()),Un=Tn||Nn.getFullYear(),Gn=0;Tn&&!An||(Gn=An>0?An-1:Nn.getMonth());var $n=Ln||0,kn=Wn||0,Bn=Mn||0,Yn=Fn||0;return In?new Date(Date.UTC(Un,Gn,Vn,$n,kn,Bn,Yn+60*In.offset*1e3)):xn?new Date(Date.UTC(Un,Gn,Vn,$n,kn,Bn,Yn)):new Date(Un,Gn,Vn,$n,kn,Bn,Yn)}catch{return new Date("")}}(Ue,Et,Fe),this.init(),jt&&jt!==!0&&(this.$L=this.locale(jt).$L),Dt&&Ue!=this.format(Et)&&(this.$d=new Date("")),re={}}else if(Et instanceof Array)for(var Lt=Et.length,hn=1;hn<=Lt;hn+=1){qe[1]=Et[hn-1];var Sn=$e.apply(this,qe);if(Sn.isValid()){this.$d=Sn.$d,this.$L=Sn.$L,this.init();break}hn===Lt&&(this.$d=new Date(""))}else Ne.call(this,ze)}}})})(customParseFormat$1);const customParseFormat=customParseFormat$1.exports,timeUnits=["hours","minutes","seconds"],DEFAULT_FORMATS_TIME="HH:mm:ss",DEFAULT_FORMATS_DATE="YYYY-MM-DD",DEFAULT_FORMATS_DATEPICKER={date:DEFAULT_FORMATS_DATE,dates:DEFAULT_FORMATS_DATE,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`,monthrange:"YYYY-MM",daterange:DEFAULT_FORMATS_DATE,datetimerange:`${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`},buildTimeList=(g,n)=>[g>0?g-1:void 0,g,g<n?g+1:void 0],rangeArr=g=>Array.from(Array.from({length:g}).keys()),extractDateFormat=g=>g.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),extractTimeFormat=g=>g.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),dateEquals=function(g,n){const r=isDate$2(g),$=isDate$2(n);return r&&$?g.getTime()===n.getTime():!r&&!$?g===n:!1},valueEquals=function(g,n){const r=isArray$7(g),$=isArray$7(n);return r&&$?g.length!==n.length?!1:g.every((L,V)=>dateEquals(L,n[V])):!r&&!$?dateEquals(g,n):!1},parseDate=function(g,n,r){const $=isEmpty(n)||n==="x"?dayjs(g).locale(r):dayjs(g,n).locale(r);return $.isValid()?$:void 0},formatter=function(g,n,r){return isEmpty(n)?g:n==="x"?+g:dayjs(g).locale(r).format(n)},makeList=(g,n)=>{var r;const $=[],L=n==null?void 0:n();for(let V=0;V<g;V++)$.push((r=L==null?void 0:L.includes(V))!=null?r:!1);return $},disabledTimeListsProps=buildProps({disabledHours:{type:definePropType(Function)},disabledMinutes:{type:definePropType(Function)},disabledSeconds:{type:definePropType(Function)}}),timePanelSharedProps=buildProps({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),timePickerDefaultProps=buildProps({id:{type:definePropType([Array,String])},name:{type:definePropType([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:definePropType([String,Object]),default:circle_close_default},editable:{type:Boolean,default:!0},prefixIcon:{type:definePropType([String,Object]),default:""},size:useSizeProp,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})},modelValue:{type:definePropType([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:definePropType([Date,Array])},defaultTime:{type:definePropType([Date,Array])},isRange:{type:Boolean,default:!1},...disabledTimeListsProps,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:definePropType([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),_hoisted_1$B=["id","name","placeholder","value","disabled","readonly"],_hoisted_2$n=["id","name","placeholder","value","disabled","readonly"],__default__$K=defineComponent({name:"Picker"}),_sfc_main$15=defineComponent({...__default__$K,props:timePickerDefaultProps,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(g,{expose:n,emit:r}){const $=g,{lang:L}=useLocale(),V=useNamespace("date"),oe=useNamespace("input"),re=useNamespace("range"),{form:ae,formItem:le}=useFormItem(),ue=inject("ElPopperOptions",{}),de=ref(),pe=ref(),he=ref(!1),_e=ref(!1),Oe=ref(null);let xe=!1,$e=!1;watch(he,zn=>{zn?nextTick(()=>{zn&&(Oe.value=$.modelValue)}):(Kn.value=null,nextTick(()=>{Ie($.modelValue)}))});const Ie=(zn,qn)=>{(qn||!valueEquals(zn,Oe.value))&&(r("change",zn),$.validateEvent&&(le==null||le.validate("change").catch(so=>{})))},Ne=zn=>{if(!valueEquals($.modelValue,zn)){let qn;isArray$7(zn)?qn=zn.map(so=>formatter(so,$.valueFormat,L.value)):zn&&(qn=formatter(zn,$.valueFormat,L.value)),r("update:modelValue",zn&&qn,L.value)}},ze=zn=>{r("keydown",zn)},Ue=computed(()=>{if(pe.value){const zn=kn.value?pe.value:pe.value.$el;return Array.from(zn.querySelectorAll("input"))}return[]}),Fe=(zn,qn,so)=>{const Dn=Ue.value;!Dn.length||(!so||so==="min"?(Dn[0].setSelectionRange(zn,qn),Dn[0].focus()):so==="max"&&(Dn[1].setSelectionRange(zn,qn),Dn[1].focus()))},qe=()=>{Sn(!0,!0),nextTick(()=>{$e=!1})},Et=(zn="",qn=!1)=>{qn||($e=!0),he.value=qn;let so;isArray$7(zn)?so=zn.map(Dn=>Dn.toDate()):so=zn&&zn.toDate(),Kn.value=null,Ne(so)},At=()=>{_e.value=!0},kt=()=>{r("visible-change",!0)},Dt=zn=>{(zn==null?void 0:zn.key)===EVENT_CODE.esc&&Sn(!0,!0)},jt=()=>{_e.value=!1,he.value=!1,$e=!1,r("visible-change",!1)},Lt=()=>{he.value=!0},hn=()=>{he.value=!1},Sn=(zn=!0,qn=!1)=>{$e=qn;const[so,Dn]=unref(Ue);let to=so;!zn&&kn.value&&(to=Dn),to&&to.focus()},On=zn=>{$.readonly||bn.value||he.value||$e||(he.value=!0,r("focus",zn))};let _n;const xn=zn=>{const qn=async()=>{setTimeout(()=>{var so;_n===qn&&(!(((so=de.value)==null?void 0:so.isFocusInsideContent())&&!xe)&&Ue.value.filter(Dn=>Dn.contains(document.activeElement)).length===0&&(po(),he.value=!1,r("blur",zn),$.validateEvent&&(le==null||le.validate("blur").catch(Dn=>{}))),xe=!1)},0)};_n=qn,qn()},bn=computed(()=>$.disabled||(ae==null?void 0:ae.disabled)),Tn=computed(()=>{let zn;if(Nn.value?ro.value.getDefaultValue&&(zn=ro.value.getDefaultValue()):isArray$7($.modelValue)?zn=$.modelValue.map(qn=>parseDate(qn,$.valueFormat,L.value)):zn=parseDate($.modelValue,$.valueFormat,L.value),ro.value.getRangeAvailableTime){const qn=ro.value.getRangeAvailableTime(zn);isEqual(qn,zn)||(zn=qn,Ne(isArray$7(zn)?zn.map(so=>so.toDate()):zn.toDate()))}return isArray$7(zn)&&zn.some(qn=>!qn)&&(zn=[]),zn}),An=computed(()=>{if(!ro.value.panelReady)return"";const zn=lo(Tn.value);return isArray$7(Kn.value)?[Kn.value[0]||zn&&zn[0]||"",Kn.value[1]||zn&&zn[1]||""]:Kn.value!==null?Kn.value:!Ln.value&&Nn.value||!he.value&&Nn.value?"":zn?Wn.value?zn.join(", "):zn:""}),En=computed(()=>$.type.includes("time")),Ln=computed(()=>$.type.startsWith("time")),Wn=computed(()=>$.type==="dates"),Mn=computed(()=>$.prefixIcon||(En.value?clock_default:calendar_default)),Fn=ref(!1),In=zn=>{$.readonly||bn.value||Fn.value&&(zn.stopPropagation(),qe(),Ne(null),Ie(null,!0),Fn.value=!1,he.value=!1,ro.value.handleClear&&ro.value.handleClear())},Nn=computed(()=>{const{modelValue:zn}=$;return!zn||isArray$7(zn)&&!zn.filter(Boolean).length}),Vn=async zn=>{var qn;$.readonly||bn.value||(((qn=zn.target)==null?void 0:qn.tagName)!=="INPUT"||Ue.value.includes(document.activeElement))&&(he.value=!0)},Un=()=>{$.readonly||bn.value||!Nn.value&&$.clearable&&(Fn.value=!0)},Gn=()=>{Fn.value=!1},$n=zn=>{var qn;$.readonly||bn.value||(((qn=zn.touches[0].target)==null?void 0:qn.tagName)!=="INPUT"||Ue.value.includes(document.activeElement))&&(he.value=!0)},kn=computed(()=>$.type.includes("range")),Bn=useFormSize(),Yn=computed(()=>{var zn,qn;return(qn=(zn=unref(de))==null?void 0:zn.popperRef)==null?void 0:qn.contentRef}),Jn=computed(()=>{var zn;return unref(kn)?unref(pe):(zn=unref(pe))==null?void 0:zn.$el});onClickOutside(Jn,zn=>{const qn=unref(Yn),so=unref(Jn);qn&&(zn.target===qn||zn.composedPath().includes(qn))||zn.target===so||zn.composedPath().includes(so)||(he.value=!1)});const Kn=ref(null),po=()=>{if(Kn.value){const zn=oo(An.value);zn&&no(zn)&&(Ne(isArray$7(zn)?zn.map(qn=>qn.toDate()):zn.toDate()),Kn.value=null)}Kn.value===""&&(Ne(null),Ie(null),Kn.value=null)},oo=zn=>zn?ro.value.parseUserInput(zn):null,lo=zn=>zn?ro.value.formatToString(zn):null,no=zn=>ro.value.isValidValue(zn),vo=async zn=>{if($.readonly||bn.value)return;const{code:qn}=zn;if(ze(zn),qn===EVENT_CODE.esc){he.value===!0&&(he.value=!1,zn.preventDefault(),zn.stopPropagation());return}if(qn===EVENT_CODE.down&&(ro.value.handleFocusPicker&&(zn.preventDefault(),zn.stopPropagation()),he.value===!1&&(he.value=!0,await nextTick()),ro.value.handleFocusPicker)){ro.value.handleFocusPicker();return}if(qn===EVENT_CODE.tab){xe=!0;return}if(qn===EVENT_CODE.enter||qn===EVENT_CODE.numpadEnter){(Kn.value===null||Kn.value===""||no(oo(An.value)))&&(po(),he.value=!1),zn.stopPropagation();return}if(Kn.value){zn.stopPropagation();return}ro.value.handleKeydownInput&&ro.value.handleKeydownInput(zn)},Zn=zn=>{Kn.value=zn,he.value||(he.value=!0)},ho=zn=>{const qn=zn.target;Kn.value?Kn.value=[qn.value,Kn.value[1]]:Kn.value=[qn.value,null]},yo=zn=>{const qn=zn.target;Kn.value?Kn.value=[Kn.value[0],qn.value]:Kn.value=[null,qn.value]},Oo=()=>{var zn;const qn=Kn.value,so=oo(qn&&qn[0]),Dn=unref(Tn);if(so&&so.isValid()){Kn.value=[lo(so),((zn=An.value)==null?void 0:zn[1])||null];const to=[so,Dn&&(Dn[1]||null)];no(to)&&(Ne(to),Kn.value=null)}},Co=()=>{var zn;const qn=unref(Kn),so=oo(qn&&qn[1]),Dn=unref(Tn);if(so&&so.isValid()){Kn.value=[((zn=unref(An))==null?void 0:zn[0])||null,lo(so)];const to=[Dn&&Dn[0],so];no(to)&&(Ne(to),Kn.value=null)}},ro=ref({}),Hn=zn=>{ro.value[zn[0]]=zn[1],ro.value.panelReady=!0},io=zn=>{r("calendar-change",zn)},mo=(zn,qn,so)=>{r("panel-change",zn,qn,so)};return provide("EP_PICKER_BASE",{props:$}),n({focus:Sn,handleFocusInput:On,handleBlurInput:xn,handleOpen:Lt,handleClose:hn,onPick:Et}),(zn,qn)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"refPopper",ref:de,visible:he.value,effect:"light",pure:"",trigger:"click"},zn.$attrs,{role:"dialog",teleported:"",transition:`${unref(V).namespace.value}-zoom-in-top`,"popper-class":[`${unref(V).namespace.value}-picker__popper`,zn.popperClass],"popper-options":unref(ue),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:At,onShow:kt,onHide:jt}),{default:withCtx(()=>[unref(kn)?(openBlock(),createElementBlock("div",{key:1,ref_key:"inputRef",ref:pe,class:normalizeClass([unref(V).b("editor"),unref(V).bm("editor",zn.type),unref(oe).e("wrapper"),unref(V).is("disabled",unref(bn)),unref(V).is("active",he.value),unref(re).b("editor"),unref(Bn)?unref(re).bm("editor",unref(Bn)):"",zn.$attrs.class]),style:normalizeStyle$1(zn.$attrs.style),onClick:On,onMouseenter:Un,onMouseleave:Gn,onTouchstart:$n,onKeydown:vo},[unref(Mn)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(oe).e("icon"),unref(re).e("icon")]),onMousedown:withModifiers(Vn,["prevent"]),onTouchstart:$n},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Mn))))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0),createBaseVNode("input",{id:zn.id&&zn.id[0],autocomplete:"off",name:zn.name&&zn.name[0],placeholder:zn.startPlaceholder,value:unref(An)&&unref(An)[0],disabled:unref(bn),readonly:!zn.editable||zn.readonly,class:normalizeClass(unref(re).b("input")),onMousedown:Vn,onInput:ho,onChange:Oo,onFocus:On,onBlur:xn},null,42,_hoisted_1$B),renderSlot(zn.$slots,"range-separator",{},()=>[createBaseVNode("span",{class:normalizeClass(unref(re).b("separator"))},toDisplayString(zn.rangeSeparator),3)]),createBaseVNode("input",{id:zn.id&&zn.id[1],autocomplete:"off",name:zn.name&&zn.name[1],placeholder:zn.endPlaceholder,value:unref(An)&&unref(An)[1],disabled:unref(bn),readonly:!zn.editable||zn.readonly,class:normalizeClass(unref(re).b("input")),onMousedown:Vn,onFocus:On,onBlur:xn,onInput:yo,onChange:Co},null,42,_hoisted_2$n),zn.clearIcon?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(oe).e("icon"),unref(re).e("close-icon"),{[unref(re).e("close-icon--hidden")]:!Fn.value}]),onClick:In},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(zn.clearIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],38)):(openBlock(),createBlock(unref(ElInput),{key:0,id:zn.id,ref_key:"inputRef",ref:pe,"container-role":"combobox","model-value":unref(An),name:zn.name,size:unref(Bn),disabled:unref(bn),placeholder:zn.placeholder,class:normalizeClass([unref(V).b("editor"),unref(V).bm("editor",zn.type),zn.$attrs.class]),style:normalizeStyle$1(zn.$attrs.style),readonly:!zn.editable||zn.readonly||unref(Wn)||zn.type==="week",label:zn.label,tabindex:zn.tabindex,"validate-event":!1,onInput:Zn,onFocus:On,onBlur:xn,onKeydown:vo,onChange:po,onMousedown:Vn,onMouseenter:Un,onMouseleave:Gn,onTouchstart:$n,onClick:qn[0]||(qn[0]=withModifiers(()=>{},["stop"]))},{prefix:withCtx(()=>[unref(Mn)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(oe).e("icon")),onMousedown:withModifiers(Vn,["prevent"]),onTouchstart:$n},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Mn))))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0)]),suffix:withCtx(()=>[Fn.value&&zn.clearIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(`${unref(oe).e("icon")} clear-icon`),onClick:withModifiers(In,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(zn.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:withCtx(()=>[renderSlot(zn.$slots,"default",{visible:he.value,actualVisible:_e.value,parsedValue:unref(Tn),format:zn.format,unlinkPanels:zn.unlinkPanels,type:zn.type,defaultValue:zn.defaultValue,onPick:Et,onSelectRange:Fe,onSetPickerOption:Hn,onCalendarChange:io,onPanelChange:mo,onKeydown:Dt,onMousedown:qn[1]||(qn[1]=withModifiers(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var CommonPicker=_export_sfc$1(_sfc_main$15,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const panelTimePickerProps=buildProps({...timePanelSharedProps,datetimeRole:String,parsedValue:{type:definePropType(Object)}}),useTimePanel=({getAvailableHours:g,getAvailableMinutes:n,getAvailableSeconds:r})=>{const $=(V,oe,re,ae)=>{const le={hour:g,minute:n,second:r};let ue=V;return["hour","minute","second"].forEach(de=>{if(le[de]){let pe;const he=le[de];switch(de){case"minute":{pe=he(ue.hour(),oe,ae);break}case"second":{pe=he(ue.hour(),ue.minute(),oe,ae);break}default:{pe=he(oe,ae);break}}if((pe==null?void 0:pe.length)&&!pe.includes(ue[de]())){const _e=re?0:pe.length-1;ue=ue[de](pe[_e])}}}),ue},L={};return{timePickerOptions:L,getAvailableTime:$,onSetOption:([V,oe])=>{L[V]=oe}}},makeAvailableArr=g=>{const n=($,L)=>$||L,r=$=>$!==!0;return g.map(n).filter(r)},getTimeLists=(g,n,r)=>({getHoursList:($,L)=>makeList(24,g&&(()=>g==null?void 0:g($,L))),getMinutesList:($,L,V)=>makeList(60,n&&(()=>n==null?void 0:n($,L,V))),getSecondsList:($,L,V,oe)=>makeList(60,r&&(()=>r==null?void 0:r($,L,V,oe)))}),buildAvailableTimeSlotGetter=(g,n,r)=>{const{getHoursList:$,getMinutesList:L,getSecondsList:V}=getTimeLists(g,n,r);return{getAvailableHours:(oe,re)=>makeAvailableArr($(oe,re)),getAvailableMinutes:(oe,re,ae)=>makeAvailableArr(L(oe,re,ae)),getAvailableSeconds:(oe,re,ae,le)=>makeAvailableArr(V(oe,re,ae,le))}},useOldValue=g=>{const n=ref(g.parsedValue);return watch(()=>g.visible,r=>{r||(n.value=g.parsedValue)}),n},nodeList=new Map;let startClick;isClient&&(document.addEventListener("mousedown",g=>startClick=g),document.addEventListener("mouseup",g=>{for(const n of nodeList.values())for(const{documentHandler:r}of n)r(g,startClick)}));function createDocumentHandler(g,n){let r=[];return Array.isArray(n.arg)?r=n.arg:isElement(n.arg)&&r.push(n.arg),function($,L){const V=n.instance.popperRef,oe=$.target,re=L==null?void 0:L.target,ae=!n||!n.instance,le=!oe||!re,ue=g.contains(oe)||g.contains(re),de=g===oe,pe=r.length&&r.some(_e=>_e==null?void 0:_e.contains(oe))||r.length&&r.includes(re),he=V&&(V.contains(oe)||V.contains(re));ae||le||ue||de||pe||he||n.value($,L)}}let REPEAT_INTERVAL,REPEAT_DELAY,vRepeatClick;ClickOutside={beforeMount(g,n){nodeList.has(g)||nodeList.set(g,[]),nodeList.get(g).push({documentHandler:createDocumentHandler(g,n),bindingFn:n.value})},updated(g,n){nodeList.has(g)||nodeList.set(g,[]);const r=nodeList.get(g),$=r.findIndex(V=>V.bindingFn===n.oldValue),L={documentHandler:createDocumentHandler(g,n),bindingFn:n.value};$>=0?r.splice($,1,L):r.push(L)},unmounted(g){nodeList.delete(g)}},REPEAT_INTERVAL=100,REPEAT_DELAY=600,vRepeatClick={beforeMount(g,n){const r=n.value,{interval:$=REPEAT_INTERVAL,delay:L=REPEAT_DELAY}=isFunction$4(r)?{}:r;let V,oe;const re=()=>isFunction$4(r)?r():r.handler(),ae=()=>{oe&&(clearTimeout(oe),oe=void 0),V&&(clearInterval(V),V=void 0)};g.addEventListener("mousedown",le=>{le.button===0&&(ae(),re(),document.addEventListener("mouseup",()=>ae(),{once:!0}),oe=setTimeout(()=>{V=setInterval(()=>{re()},$)},L))})}};var v=!1,o,f,s,u,d,N,l,p,m,w,D,x,E,M,F;function a(){if(!v){v=!0;var g=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(g),r=/(Mac OS X)|(Windows)|(Linux)/.exec(g);if(x=/\b(iPhone|iP[ao]d)/.exec(g),E=/\b(iP[ao]d)/.exec(g),w=/Android/i.exec(g),M=/FBAN\/\w+;/i.exec(g),F=/Mobile/i.exec(g),D=!!/Win64/.exec(g),n){o=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,o&&document&&document.documentMode&&(o=document.documentMode);var $=/(?:Trident\/(\d+.\d+))/.exec(g);N=$?parseFloat($[1])+4:o,f=n[2]?parseFloat(n[2]):NaN,s=n[3]?parseFloat(n[3]):NaN,u=n[4]?parseFloat(n[4]):NaN,u?(n=/(?:Chrome\/(\d+\.\d+))/.exec(g),d=n&&n[1]?parseFloat(n[1]):NaN):d=NaN}else o=f=s=d=u=NaN;if(r){if(r[1]){var L=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(g);l=L?parseFloat(L[1].replace("_",".")):!0}else l=!1;p=!!r[2],m=!!r[3]}else l=p=m=!1}}var _$1={ie:function(){return a()||o},ieCompatibilityMode:function(){return a()||N>o},ie64:function(){return _$1.ie()&&D},firefox:function(){return a()||f},opera:function(){return a()||s},webkit:function(){return a()||u},safari:function(){return _$1.webkit()},chrome:function(){return a()||d},windows:function(){return a()||p},osx:function(){return a()||l},linux:function(){return a()||m},iphone:function(){return a()||x},mobile:function(){return a()||x||E||w||F},nativeApp:function(){return a()||M},android:function(){return a()||w},ipad:function(){return a()||E}},A=_$1,c=!!(typeof window<"u"&&window.document&&window.document.createElement),U={canUseDOM:c,canUseWorkers:typeof Worker<"u",canUseEventListeners:c&&!!(window.addEventListener||window.attachEvent),canUseViewport:c&&!!window.screen,isInWorker:!c},h=U,X;h.canUseDOM&&(X=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function S(g,n){if(!h.canUseDOM||n&&!("addEventListener"in document))return!1;var r="on"+g,$=r in document;if(!$){var L=document.createElement("div");L.setAttribute(r,"return;"),$=typeof L[r]=="function"}return!$&&X&&g==="wheel"&&($=document.implementation.hasFeature("Events.wheel","3.0")),$}var b=S,O=10,I=40,P=800;function T(g){var n=0,r=0,$=0,L=0;return"detail"in g&&(r=g.detail),"wheelDelta"in g&&(r=-g.wheelDelta/120),"wheelDeltaY"in g&&(r=-g.wheelDeltaY/120),"wheelDeltaX"in g&&(n=-g.wheelDeltaX/120),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(n=r,r=0),$=n*O,L=r*O,"deltaY"in g&&(L=g.deltaY),"deltaX"in g&&($=g.deltaX),($||L)&&g.deltaMode&&(g.deltaMode==1?($*=I,L*=I):($*=P,L*=P)),$&&!n&&(n=$<1?-1:1),L&&!r&&(r=L<1?-1:1),{spinX:n,spinY:r,pixelX:$,pixelY:L}}T.getEventType=function(){return A.firefox()?"DOMMouseScroll":b("wheel")?"wheel":"mousewheel"};var Y=T;const mousewheel=function(g,n){if(g&&g.addEventListener){const r=function($){const L=Y($);n&&Reflect.apply(n,this,[$,L])};g.addEventListener("wheel",r,{passive:!0})}},Mousewheel={beforeMount(g,n){mousewheel(g,n.value)}},basicTimeSpinnerProps=buildProps({role:{type:String,required:!0},spinnerDate:{type:definePropType(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:definePropType(String),default:""},...disabledTimeListsProps}),_hoisted_1$A=["onClick"],_hoisted_2$m=["onMouseenter"],_sfc_main$14=defineComponent({__name:"basic-time-spinner",props:basicTimeSpinnerProps,emits:["change","select-range","set-option"],setup(g,{emit:n}){const r=g,$=useNamespace("time"),{getHoursList:L,getMinutesList:V,getSecondsList:oe}=getTimeLists(r.disabledHours,r.disabledMinutes,r.disabledSeconds);let re=!1;const ae=ref(),le=ref(),ue=ref(),de=ref(),pe={hours:le,minutes:ue,seconds:de},he=computed(()=>r.showSeconds?timeUnits:timeUnits.slice(0,2)),_e=computed(()=>{const{spinnerDate:bn}=r,Tn=bn.hour(),An=bn.minute(),En=bn.second();return{hours:Tn,minutes:An,seconds:En}}),Oe=computed(()=>{const{hours:bn,minutes:Tn}=unref(_e);return{hours:L(r.role),minutes:V(bn,r.role),seconds:oe(bn,Tn,r.role)}}),xe=computed(()=>{const{hours:bn,minutes:Tn,seconds:An}=unref(_e);return{hours:buildTimeList(bn,23),minutes:buildTimeList(Tn,59),seconds:buildTimeList(An,59)}}),$e=debounce(bn=>{re=!1,ze(bn)},200),Ie=bn=>{if(!r.amPmMode)return"";const Tn=r.amPmMode==="A";let An=bn<12?" am":" pm";return Tn&&(An=An.toUpperCase()),An},Ne=bn=>{let Tn;switch(bn){case"hours":Tn=[0,2];break;case"minutes":Tn=[3,5];break;case"seconds":Tn=[6,8];break}const[An,En]=Tn;n("select-range",An,En),ae.value=bn},ze=bn=>{qe(bn,unref(_e)[bn])},Ue=()=>{ze("hours"),ze("minutes"),ze("seconds")},Fe=bn=>bn.querySelector(`.${$.namespace.value}-scrollbar__wrap`),qe=(bn,Tn)=>{if(r.arrowControl)return;const An=unref(pe[bn]);An&&An.$el&&(Fe(An.$el).scrollTop=Math.max(0,Tn*Et(bn)))},Et=bn=>{const Tn=unref(pe[bn]);return(Tn==null?void 0:Tn.$el.querySelector("li").offsetHeight)||0},At=()=>{Dt(1)},kt=()=>{Dt(-1)},Dt=bn=>{ae.value||Ne("hours");const Tn=ae.value,An=unref(_e)[Tn],En=ae.value==="hours"?24:60,Ln=jt(Tn,An,bn,En);Lt(Tn,Ln),qe(Tn,Ln),nextTick(()=>Ne(Tn))},jt=(bn,Tn,An,En)=>{let Ln=(Tn+An+En)%En;const Wn=unref(Oe)[bn];for(;Wn[Ln]&&Ln!==Tn;)Ln=(Ln+An+En)%En;return Ln},Lt=(bn,Tn)=>{if(unref(Oe)[bn][Tn])return;const{hours:An,minutes:En,seconds:Ln}=unref(_e);let Wn;switch(bn){case"hours":Wn=r.spinnerDate.hour(Tn).minute(En).second(Ln);break;case"minutes":Wn=r.spinnerDate.hour(An).minute(Tn).second(Ln);break;case"seconds":Wn=r.spinnerDate.hour(An).minute(En).second(Tn);break}n("change",Wn)},hn=(bn,{value:Tn,disabled:An})=>{An||(Lt(bn,Tn),Ne(bn),qe(bn,Tn))},Sn=bn=>{re=!0,$e(bn);const Tn=Math.min(Math.round((Fe(unref(pe[bn]).$el).scrollTop-(On(bn)*.5-10)/Et(bn)+3)/Et(bn)),bn==="hours"?23:59);Lt(bn,Tn)},On=bn=>unref(pe[bn]).$el.offsetHeight,_n=()=>{const bn=Tn=>{const An=unref(pe[Tn]);An&&An.$el&&(Fe(An.$el).onscroll=()=>{Sn(Tn)})};bn("hours"),bn("minutes"),bn("seconds")};onMounted(()=>{nextTick(()=>{!r.arrowControl&&_n(),Ue(),r.role==="start"&&Ne("hours")})});const xn=(bn,Tn)=>{pe[Tn].value=bn};return n("set-option",[`${r.role}_scrollDown`,Dt]),n("set-option",[`${r.role}_emitSelectRange`,Ne]),watch(()=>r.spinnerDate,()=>{re||Ue()}),(bn,Tn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref($).b("spinner"),{"has-seconds":bn.showSeconds}])},[bn.arrowControl?createCommentVNode("v-if",!0):(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(unref(he),An=>(openBlock(),createBlock(unref(ElScrollbar),{key:An,ref_for:!0,ref:En=>xn(En,An),class:normalizeClass(unref($).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":unref($).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:En=>Ne(An),onMousemove:En=>ze(An)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Oe)[An],(En,Ln)=>(openBlock(),createElementBlock("li",{key:Ln,class:normalizeClass([unref($).be("spinner","item"),unref($).is("active",Ln===unref(_e)[An]),unref($).is("disabled",En)]),onClick:Wn=>hn(An,{value:Ln,disabled:En})},[An==="hours"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(("0"+(bn.amPmMode?Ln%12||12:Ln)).slice(-2))+toDisplayString(Ie(Ln)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(("0"+Ln).slice(-2)),1)],64))],10,_hoisted_1$A))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),bn.arrowControl?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(unref(he),An=>(openBlock(),createElementBlock("div",{key:An,class:normalizeClass([unref($).be("spinner","wrapper"),unref($).is("arrow")]),onMouseenter:En=>Ne(An)},[withDirectives((openBlock(),createBlock(unref(ElIcon),{class:normalizeClass(["arrow-up",unref($).be("spinner","arrow")])},{default:withCtx(()=>[createVNode$1(unref(arrow_up_default))]),_:1},8,["class"])),[[unref(vRepeatClick),kt]]),withDirectives((openBlock(),createBlock(unref(ElIcon),{class:normalizeClass(["arrow-down",unref($).be("spinner","arrow")])},{default:withCtx(()=>[createVNode$1(unref(arrow_down_default))]),_:1},8,["class"])),[[unref(vRepeatClick),At]]),createBaseVNode("ul",{class:normalizeClass(unref($).be("spinner","list"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(xe)[An],(En,Ln)=>(openBlock(),createElementBlock("li",{key:Ln,class:normalizeClass([unref($).be("spinner","item"),unref($).is("active",En===unref(_e)[An]),unref($).is("disabled",unref(Oe)[An][En])])},[typeof En=="number"?(openBlock(),createElementBlock(Fragment,{key:0},[An==="hours"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(("0"+(bn.amPmMode?En%12||12:En)).slice(-2))+toDisplayString(Ie(En)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(("0"+En).slice(-2)),1)],64))],64)):createCommentVNode("v-if",!0)],2))),128))],2)],42,_hoisted_2$m))),128)):createCommentVNode("v-if",!0)],2))}});var TimeSpinner=_export_sfc$1(_sfc_main$14,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const _sfc_main$13=defineComponent({__name:"panel-time-pick",props:panelTimePickerProps,emits:["pick","select-range","set-picker-option"],setup(g,{emit:n}){const r=g,$=inject("EP_PICKER_BASE"),{arrowControl:L,disabledHours:V,disabledMinutes:oe,disabledSeconds:re,defaultValue:ae}=$.props,{getAvailableHours:le,getAvailableMinutes:ue,getAvailableSeconds:de}=buildAvailableTimeSlotGetter(V,oe,re),pe=useNamespace("time"),{t:he,lang:_e}=useLocale(),Oe=ref([0,2]),xe=useOldValue(r),$e=computed(()=>isUndefined$2(r.actualVisible)?`${pe.namespace.value}-zoom-in-top`:""),Ie=computed(()=>r.format.includes("ss")),Ne=computed(()=>r.format.includes("A")?"A":r.format.includes("a")?"a":""),ze=xn=>{const bn=dayjs(xn).locale(_e.value),Tn=hn(bn);return bn.isSame(Tn)},Ue=()=>{n("pick",xe.value,!1)},Fe=(xn=!1,bn=!1)=>{bn||n("pick",r.parsedValue,xn)},qe=xn=>{if(!r.visible)return;const bn=hn(xn).millisecond(0);n("pick",bn,!0)},Et=(xn,bn)=>{n("select-range",xn,bn),Oe.value=[xn,bn]},At=xn=>{const bn=[0,3].concat(Ie.value?[6]:[]),Tn=["hours","minutes"].concat(Ie.value?["seconds"]:[]),An=(bn.indexOf(Oe.value[0])+xn+bn.length)%bn.length;Dt.start_emitSelectRange(Tn[An])},kt=xn=>{const bn=xn.code,{left:Tn,right:An,up:En,down:Ln}=EVENT_CODE;if([Tn,An].includes(bn)){At(bn===Tn?-1:1),xn.preventDefault();return}if([En,Ln].includes(bn)){const Wn=bn===En?-1:1;Dt.start_scrollDown(Wn),xn.preventDefault();return}},{timePickerOptions:Dt,onSetOption:jt,getAvailableTime:Lt}=useTimePanel({getAvailableHours:le,getAvailableMinutes:ue,getAvailableSeconds:de}),hn=xn=>Lt(xn,r.datetimeRole||"",!0),Sn=xn=>xn?dayjs(xn,r.format).locale(_e.value):null,On=xn=>xn?xn.format(r.format):null,_n=()=>dayjs(ae).locale(_e.value);return n("set-picker-option",["isValidValue",ze]),n("set-picker-option",["formatToString",On]),n("set-picker-option",["parseUserInput",Sn]),n("set-picker-option",["handleKeydownInput",kt]),n("set-picker-option",["getRangeAvailableTime",hn]),n("set-picker-option",["getDefaultValue",_n]),(xn,bn)=>(openBlock(),createBlock(Transition,{name:unref($e)},{default:withCtx(()=>[xn.actualVisible||xn.visible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(pe).b("panel"))},[createBaseVNode("div",{class:normalizeClass([unref(pe).be("panel","content"),{"has-seconds":unref(Ie)}])},[createVNode$1(TimeSpinner,{ref:"spinner",role:xn.datetimeRole||"start","arrow-control":unref(L),"show-seconds":unref(Ie),"am-pm-mode":unref(Ne),"spinner-date":xn.parsedValue,"disabled-hours":unref(V),"disabled-minutes":unref(oe),"disabled-seconds":unref(re),onChange:qe,onSetOption:unref(jt),onSelectRange:Et},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),createBaseVNode("div",{class:normalizeClass(unref(pe).be("panel","footer"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(pe).be("panel","btn"),"cancel"]),onClick:Ue},toDisplayString(unref(he)("el.datepicker.cancel")),3),createBaseVNode("button",{type:"button",class:normalizeClass([unref(pe).be("panel","btn"),"confirm"]),onClick:bn[0]||(bn[0]=Tn=>Fe())},toDisplayString(unref(he)("el.datepicker.confirm")),3)],2)],2)):createCommentVNode("v-if",!0)]),_:1},8,["name"]))}});var TimePickPanel=_export_sfc$1(_sfc_main$13,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const panelTimeRangeProps=buildProps({...timePanelSharedProps,parsedValue:{type:definePropType(Array)}}),_hoisted_1$z=["disabled"],_sfc_main$12=defineComponent({__name:"panel-time-range",props:panelTimeRangeProps,emits:["pick","select-range","set-picker-option"],setup(g,{emit:n}){const r=g,$=(Vn,Un)=>{const Gn=[];for(let $n=Vn;$n<=Un;$n++)Gn.push($n);return Gn},{t:L,lang:V}=useLocale(),oe=useNamespace("time"),re=useNamespace("picker"),ae=inject("EP_PICKER_BASE"),{arrowControl:le,disabledHours:ue,disabledMinutes:de,disabledSeconds:pe,defaultValue:he}=ae.props,_e=computed(()=>r.parsedValue[0]),Oe=computed(()=>r.parsedValue[1]),xe=useOldValue(r),$e=()=>{n("pick",xe.value,!1)},Ie=computed(()=>r.format.includes("ss")),Ne=computed(()=>r.format.includes("A")?"A":r.format.includes("a")?"a":""),ze=(Vn=!1)=>{n("pick",[_e.value,Oe.value],Vn)},Ue=Vn=>{Et(Vn.millisecond(0),Oe.value)},Fe=Vn=>{Et(_e.value,Vn.millisecond(0))},qe=Vn=>{const Un=Vn.map($n=>dayjs($n).locale(V.value)),Gn=bn(Un);return Un[0].isSame(Gn[0])&&Un[1].isSame(Gn[1])},Et=(Vn,Un)=>{n("pick",[Vn,Un],!0)},At=computed(()=>_e.value>Oe.value),kt=ref([0,2]),Dt=(Vn,Un)=>{n("select-range",Vn,Un,"min"),kt.value=[Vn,Un]},jt=computed(()=>Ie.value?11:8),Lt=(Vn,Un)=>{n("select-range",Vn,Un,"max");const Gn=unref(jt);kt.value=[Vn+Gn,Un+Gn]},hn=Vn=>{const Un=Ie.value?[0,3,6,11,14,17]:[0,3,8,11],Gn=["hours","minutes"].concat(Ie.value?["seconds"]:[]),$n=(Un.indexOf(kt.value[0])+Vn+Un.length)%Un.length,kn=Un.length/2;$n<kn?Ln.start_emitSelectRange(Gn[$n]):Ln.end_emitSelectRange(Gn[$n-kn])},Sn=Vn=>{const Un=Vn.code,{left:Gn,right:$n,up:kn,down:Bn}=EVENT_CODE;if([Gn,$n].includes(Un)){hn(Un===Gn?-1:1),Vn.preventDefault();return}if([kn,Bn].includes(Un)){const Yn=Un===kn?-1:1,Jn=kt.value[0]<jt.value?"start":"end";Ln[`${Jn}_scrollDown`](Yn),Vn.preventDefault();return}},On=(Vn,Un)=>{const Gn=ue?ue(Vn):[],$n=Vn==="start",kn=(Un||($n?Oe.value:_e.value)).hour(),Bn=$n?$(kn+1,23):$(0,kn-1);return union$1(Gn,Bn)},_n=(Vn,Un,Gn)=>{const $n=de?de(Vn,Un):[],kn=Un==="start",Bn=Gn||(kn?Oe.value:_e.value),Yn=Bn.hour();if(Vn!==Yn)return $n;const Jn=Bn.minute(),Kn=kn?$(Jn+1,59):$(0,Jn-1);return union$1($n,Kn)},xn=(Vn,Un,Gn,$n)=>{const kn=pe?pe(Vn,Un,Gn):[],Bn=Gn==="start",Yn=$n||(Bn?Oe.value:_e.value),Jn=Yn.hour(),Kn=Yn.minute();if(Vn!==Jn||Un!==Kn)return kn;const po=Yn.second(),oo=Bn?$(po+1,59):$(0,po-1);return union$1(kn,oo)},bn=([Vn,Un])=>[Wn(Vn,"start",!0,Un),Wn(Un,"end",!1,Vn)],{getAvailableHours:Tn,getAvailableMinutes:An,getAvailableSeconds:En}=buildAvailableTimeSlotGetter(On,_n,xn),{timePickerOptions:Ln,getAvailableTime:Wn,onSetOption:Mn}=useTimePanel({getAvailableHours:Tn,getAvailableMinutes:An,getAvailableSeconds:En}),Fn=Vn=>Vn?isArray$7(Vn)?Vn.map(Un=>dayjs(Un,r.format).locale(V.value)):dayjs(Vn,r.format).locale(V.value):null,In=Vn=>Vn?isArray$7(Vn)?Vn.map(Un=>Un.format(r.format)):Vn.format(r.format):null,Nn=()=>{if(isArray$7(he))return he.map(Un=>dayjs(Un).locale(V.value));const Vn=dayjs(he).locale(V.value);return[Vn,Vn.add(60,"m")]};return n("set-picker-option",["formatToString",In]),n("set-picker-option",["parseUserInput",Fn]),n("set-picker-option",["isValidValue",qe]),n("set-picker-option",["handleKeydownInput",Sn]),n("set-picker-option",["getDefaultValue",Nn]),n("set-picker-option",["getRangeAvailableTime",bn]),(Vn,Un)=>Vn.actualVisible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(oe).b("range-picker"),unref(re).b("panel")])},[createBaseVNode("div",{class:normalizeClass(unref(oe).be("range-picker","content"))},[createBaseVNode("div",{class:normalizeClass(unref(oe).be("range-picker","cell"))},[createBaseVNode("div",{class:normalizeClass(unref(oe).be("range-picker","header"))},toDisplayString(unref(L)("el.datepicker.startTime")),3),createBaseVNode("div",{class:normalizeClass([unref(oe).be("range-picker","body"),unref(oe).be("panel","content"),unref(oe).is("arrow",unref(le)),{"has-seconds":unref(Ie)}])},[createVNode$1(TimeSpinner,{ref:"minSpinner",role:"start","show-seconds":unref(Ie),"am-pm-mode":unref(Ne),"arrow-control":unref(le),"spinner-date":unref(_e),"disabled-hours":On,"disabled-minutes":_n,"disabled-seconds":xn,onChange:Ue,onSetOption:unref(Mn),onSelectRange:Dt},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),createBaseVNode("div",{class:normalizeClass(unref(oe).be("range-picker","cell"))},[createBaseVNode("div",{class:normalizeClass(unref(oe).be("range-picker","header"))},toDisplayString(unref(L)("el.datepicker.endTime")),3),createBaseVNode("div",{class:normalizeClass([unref(oe).be("range-picker","body"),unref(oe).be("panel","content"),unref(oe).is("arrow",unref(le)),{"has-seconds":unref(Ie)}])},[createVNode$1(TimeSpinner,{ref:"maxSpinner",role:"end","show-seconds":unref(Ie),"am-pm-mode":unref(Ne),"arrow-control":unref(le),"spinner-date":unref(Oe),"disabled-hours":On,"disabled-minutes":_n,"disabled-seconds":xn,onChange:Fe,onSetOption:unref(Mn),onSelectRange:Lt},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),createBaseVNode("div",{class:normalizeClass(unref(oe).be("panel","footer"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(oe).be("panel","btn"),"cancel"]),onClick:Un[0]||(Un[0]=Gn=>$e())},toDisplayString(unref(L)("el.datepicker.cancel")),3),createBaseVNode("button",{type:"button",class:normalizeClass([unref(oe).be("panel","btn"),"confirm"]),disabled:unref(At),onClick:Un[1]||(Un[1]=Gn=>ze())},toDisplayString(unref(L)("el.datepicker.confirm")),11,_hoisted_1$z)],2)],2)):createCommentVNode("v-if",!0)}});var TimeRangePanel=_export_sfc$1(_sfc_main$12,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);dayjs.extend(customParseFormat);var TimePicker=defineComponent({name:"ElTimePicker",install:null,props:{...timePickerDefaultProps,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(g,n){const r=ref(),[$,L]=g.isRange?["timerange",TimeRangePanel]:["time",TimePickPanel],V=oe=>n.emit("update:modelValue",oe);return provide("ElPopperOptions",g.popperOptions),n.expose({focus:oe=>{var re;(re=r.value)==null||re.handleFocusInput(oe)},blur:oe=>{var re;(re=r.value)==null||re.handleBlurInput(oe)},handleOpen:()=>{var oe;(oe=r.value)==null||oe.handleOpen()},handleClose:()=>{var oe;(oe=r.value)==null||oe.handleClose()}}),()=>{var oe;const re=(oe=g.format)!=null?oe:DEFAULT_FORMATS_TIME;return createVNode$1(CommonPicker,mergeProps(g,{ref:r,type:$,format:re,"onUpdate:modelValue":V}),{default:ae=>createVNode$1(L,ae,null)})}}});const _TimePicker=TimePicker;_TimePicker.install=g=>{g.component(_TimePicker.name,_TimePicker)},ElTimePicker=_TimePicker;var localeData$1={exports:{}};(function(g,n){(function(r,$){g.exports=$()})(commonjsGlobal,function(){return function(r,$,L){var V=$.prototype,oe=function(de){return de&&(de.indexOf?de:de.s)},re=function(de,pe,he,_e,Oe){var xe=de.name?de:de.$locale(),$e=oe(xe[pe]),Ie=oe(xe[he]),Ne=$e||Ie.map(function(Ue){return Ue.slice(0,_e)});if(!Oe)return Ne;var ze=xe.weekStart;return Ne.map(function(Ue,Fe){return Ne[(Fe+(ze||0))%7]})},ae=function(){return L.Ls[L.locale()]},le=function(de,pe){return de.formats[pe]||function(he){return he.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_e,Oe,xe){return Oe||xe.slice(1)})}(de.formats[pe.toUpperCase()])},ue=function(){var de=this;return{months:function(pe){return pe?pe.format("MMMM"):re(de,"months")},monthsShort:function(pe){return pe?pe.format("MMM"):re(de,"monthsShort","months",3)},firstDayOfWeek:function(){return de.$locale().weekStart||0},weekdays:function(pe){return pe?pe.format("dddd"):re(de,"weekdays")},weekdaysMin:function(pe){return pe?pe.format("dd"):re(de,"weekdaysMin","weekdays",2)},weekdaysShort:function(pe){return pe?pe.format("ddd"):re(de,"weekdaysShort","weekdays",3)},longDateFormat:function(pe){return le(de.$locale(),pe)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};V.localeData=function(){return ue.bind(this)()},L.localeData=function(){var de=ae();return{firstDayOfWeek:function(){return de.weekStart||0},weekdays:function(){return L.weekdays()},weekdaysShort:function(){return L.weekdaysShort()},weekdaysMin:function(){return L.weekdaysMin()},months:function(){return L.months()},monthsShort:function(){return L.monthsShort()},longDateFormat:function(pe){return le(de,pe)},meridiem:de.meridiem,ordinal:de.ordinal}},L.months=function(){return re(ae(),"months")},L.monthsShort=function(){return re(ae(),"monthsShort","months",3)},L.weekdays=function(de){return re(ae(),"weekdays",null,null,de)},L.weekdaysShort=function(de){return re(ae(),"weekdaysShort","weekdays",3,de)},L.weekdaysMin=function(de){return re(ae(),"weekdaysMin","weekdays",2,de)}}})})(localeData$1);const localeData=localeData$1.exports,cardProps=buildProps({header:{type:String,default:""},bodyStyle:{type:definePropType([String,Object,Array]),default:""},shadow:{type:String,values:["always","hover","never"],default:"always"}}),__default__$J=defineComponent({name:"ElCard"}),_sfc_main$11=defineComponent({...__default__$J,props:cardProps,setup(g){const n=useNamespace("card");return(r,$)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(n).b(),unref(n).is(`${r.shadow}-shadow`)])},[r.$slots.header||r.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(n).e("header"))},[renderSlot(r.$slots,"header",{},()=>[createTextVNode(toDisplayString(r.header),1)])],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(n).e("body")),style:normalizeStyle$1(r.bodyStyle)},[renderSlot(r.$slots,"default")],6)],2))}});var Card=_export_sfc$1(_sfc_main$11,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);let checkboxProps,checkboxEmits,checkboxGroupContextKey,useCheckboxDisabled,useCheckboxEvent,useCheckboxModel,useCheckboxStatus,setStoreValue,useCheckbox,_hoisted_1$y,_hoisted_2$l,_hoisted_3$e,__default__$I,_sfc_main$10;ElCard=withInstall(Card),checkboxProps={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:useSizeProp,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},checkboxEmits={[UPDATE_MODEL_EVENT]:g=>isString$4(g)||isNumber$2(g)||isBoolean$2(g),change:g=>isString$4(g)||isNumber$2(g)||isBoolean$2(g)},checkboxGroupContextKey=Symbol("checkboxGroupContextKey"),useCheckboxDisabled=({model:g,isChecked:n})=>{const r=inject(checkboxGroupContextKey,void 0),$=computed(()=>{var L,V;const oe=(L=r==null?void 0:r.max)==null?void 0:L.value,re=(V=r==null?void 0:r.min)==null?void 0:V.value;return!isUndefined$2(oe)&&g.value.length>=oe&&!n.value||!isUndefined$2(re)&&g.value.length<=re&&n.value});return{isDisabled:useFormDisabled(computed(()=>(r==null?void 0:r.disabled.value)||$.value)),isLimitDisabled:$}},useCheckboxEvent=(g,{model:n,isLimitExceeded:r,hasOwnLabel:$,isDisabled:L,isLabeledByFormItem:V})=>{const oe=inject(checkboxGroupContextKey,void 0),{formItem:re}=useFormItem(),{emit:ae}=getCurrentInstance();function le(_e){var Oe,xe;return _e===g.trueLabel||_e===!0?(Oe=g.trueLabel)!=null?Oe:!0:(xe=g.falseLabel)!=null?xe:!1}function ue(_e,Oe){ae("change",le(_e),Oe)}function de(_e){if(r.value)return;const Oe=_e.target;ae("change",le(Oe.checked),_e)}async function pe(_e){r.value||!$.value&&!L.value&&V.value&&(_e.composedPath().some(Oe=>Oe.tagName==="LABEL")||(n.value=le([!1,g.falseLabel].includes(n.value)),await nextTick(),ue(n.value,_e)))}const he=computed(()=>(oe==null?void 0:oe.validateEvent)||g.validateEvent);return watch(()=>g.modelValue,()=>{he.value&&(re==null||re.validate("change").catch(_e=>{}))}),{handleChange:de,onClickRoot:pe}},useCheckboxModel=g=>{const n=ref(!1),{emit:r}=getCurrentInstance(),$=inject(checkboxGroupContextKey,void 0),L=computed(()=>isUndefined$2($)===!1),V=ref(!1);return{model:computed({get(){var oe,re;return L.value?(oe=$==null?void 0:$.modelValue)==null?void 0:oe.value:(re=g.modelValue)!=null?re:n.value},set(oe){var re,ae;L.value&&isArray$7(oe)?(V.value=((re=$==null?void 0:$.max)==null?void 0:re.value)!==void 0&&oe.length>($==null?void 0:$.max.value),V.value===!1&&((ae=$==null?void 0:$.changeEvent)==null||ae.call($,oe))):(r(UPDATE_MODEL_EVENT,oe),n.value=oe)}}),isGroup:L,isLimitExceeded:V}},useCheckboxStatus=(g,n,{model:r})=>{const $=inject(checkboxGroupContextKey,void 0),L=ref(!1),V=computed(()=>{const le=r.value;return isBoolean$2(le)?le:isArray$7(le)?isObject$7(g.label)?le.map(toRaw).some(ue=>isEqual(ue,g.label)):le.map(toRaw).includes(g.label):le!=null?le===g.trueLabel:!!le}),oe=useFormSize(computed(()=>{var le;return(le=$==null?void 0:$.size)==null?void 0:le.value}),{prop:!0}),re=useFormSize(computed(()=>{var le;return(le=$==null?void 0:$.size)==null?void 0:le.value})),ae=computed(()=>!!(n.default||g.label));return{checkboxButtonSize:oe,isChecked:V,isFocused:L,checkboxSize:re,hasOwnLabel:ae}},setStoreValue=(g,{model:n})=>{function r(){isArray$7(n.value)&&!n.value.includes(g.label)?n.value.push(g.label):n.value=g.trueLabel||!0}g.checked&&r()},useCheckbox=(g,n)=>{const{formItem:r}=useFormItem(),{model:$,isGroup:L,isLimitExceeded:V}=useCheckboxModel(g),{isFocused:oe,isChecked:re,checkboxButtonSize:ae,checkboxSize:le,hasOwnLabel:ue}=useCheckboxStatus(g,n,{model:$}),{isDisabled:de}=useCheckboxDisabled({model:$,isChecked:re}),{inputId:pe,isLabeledByFormItem:he}=useFormItemInputId(g,{formItemContext:r,disableIdGeneration:ue,disableIdManagement:L}),{handleChange:_e,onClickRoot:Oe}=useCheckboxEvent(g,{model:$,isLimitExceeded:V,hasOwnLabel:ue,isDisabled:de,isLabeledByFormItem:he});return setStoreValue(g,{model:$}),{inputId:pe,isLabeledByFormItem:he,isChecked:re,isDisabled:de,isFocused:oe,checkboxButtonSize:ae,checkboxSize:le,hasOwnLabel:ue,model:$,handleChange:_e,onClickRoot:Oe}},_hoisted_1$y=["tabindex","role","aria-checked"],_hoisted_2$l=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],_hoisted_3$e=["id","aria-hidden","disabled","value","name","tabindex"],__default__$I=defineComponent({name:"ElCheckbox"}),_sfc_main$10=defineComponent({...__default__$I,props:checkboxProps,emits:checkboxEmits,setup(g){const n=g,r=useSlots(),{inputId:$,isLabeledByFormItem:L,isChecked:V,isDisabled:oe,isFocused:re,checkboxSize:ae,hasOwnLabel:le,model:ue,handleChange:de,onClickRoot:pe}=useCheckbox(n,r),he=useNamespace("checkbox"),_e=computed(()=>[he.b(),he.m(ae.value),he.is("disabled",oe.value),he.is("bordered",n.border),he.is("checked",V.value)]),Oe=computed(()=>[he.e("input"),he.is("disabled",oe.value),he.is("checked",V.value),he.is("indeterminate",n.indeterminate),he.is("focus",re.value)]);return(xe,$e)=>(openBlock(),createBlock(resolveDynamicComponent(!unref(le)&&unref(L)?"span":"label"),{class:normalizeClass(unref(_e)),"aria-controls":xe.indeterminate?xe.controls:null,onClick:unref(pe)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(unref(Oe)),tabindex:xe.indeterminate?0:void 0,role:xe.indeterminate?"checkbox":void 0,"aria-checked":xe.indeterminate?"mixed":void 0},[xe.trueLabel||xe.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,id:unref($),"onUpdate:modelValue":$e[0]||($e[0]=Ie=>isRef(ue)?ue.value=Ie:null),class:normalizeClass(unref(he).e("original")),type:"checkbox","aria-hidden":xe.indeterminate?"true":"false",name:xe.name,tabindex:xe.tabindex,disabled:unref(oe),"true-value":xe.trueLabel,"false-value":xe.falseLabel,onChange:$e[1]||($e[1]=(...Ie)=>unref(de)&&unref(de)(...Ie)),onFocus:$e[2]||($e[2]=Ie=>re.value=!0),onBlur:$e[3]||($e[3]=Ie=>re.value=!1)},null,42,_hoisted_2$l)),[[vModelCheckbox,unref(ue)]]):withDirectives((openBlock(),createElementBlock("input",{key:1,id:unref($),"onUpdate:modelValue":$e[4]||($e[4]=Ie=>isRef(ue)?ue.value=Ie:null),class:normalizeClass(unref(he).e("original")),type:"checkbox","aria-hidden":xe.indeterminate?"true":"false",disabled:unref(oe),value:xe.label,name:xe.name,tabindex:xe.tabindex,onChange:$e[5]||($e[5]=(...Ie)=>unref(de)&&unref(de)(...Ie)),onFocus:$e[6]||($e[6]=Ie=>re.value=!0),onBlur:$e[7]||($e[7]=Ie=>re.value=!1)},null,42,_hoisted_3$e)),[[vModelCheckbox,unref(ue)]]),createBaseVNode("span",{class:normalizeClass(unref(he).e("inner"))},null,2)],10,_hoisted_1$y),unref(le)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(he).e("label"))},[renderSlot(xe.$slots,"default"),xe.$slots.default?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(xe.label),1)],64))],2)):createCommentVNode("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var Checkbox=_export_sfc$1(_sfc_main$10,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const _hoisted_1$x=["name","tabindex","disabled","true-value","false-value"],_hoisted_2$k=["name","tabindex","disabled","value"],__default__$H=defineComponent({name:"ElCheckboxButton"}),_sfc_main$$=defineComponent({...__default__$H,props:checkboxProps,emits:checkboxEmits,setup(g){const n=g,r=useSlots(),{isFocused:$,isChecked:L,isDisabled:V,checkboxButtonSize:oe,model:re,handleChange:ae}=useCheckbox(n,r),le=inject(checkboxGroupContextKey,void 0),ue=useNamespace("checkbox"),de=computed(()=>{var he,_e,Oe,xe;const $e=(_e=(he=le==null?void 0:le.fill)==null?void 0:he.value)!=null?_e:"";return{backgroundColor:$e,borderColor:$e,color:(xe=(Oe=le==null?void 0:le.textColor)==null?void 0:Oe.value)!=null?xe:"",boxShadow:$e?`-1px 0 0 0 ${$e}`:void 0}}),pe=computed(()=>[ue.b("button"),ue.bm("button",oe.value),ue.is("disabled",V.value),ue.is("checked",L.value),ue.is("focus",$.value)]);return(he,_e)=>(openBlock(),createElementBlock("label",{class:normalizeClass(unref(pe))},[he.trueLabel||he.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":_e[0]||(_e[0]=Oe=>isRef(re)?re.value=Oe:null),class:normalizeClass(unref(ue).be("button","original")),type:"checkbox",name:he.name,tabindex:he.tabindex,disabled:unref(V),"true-value":he.trueLabel,"false-value":he.falseLabel,onChange:_e[1]||(_e[1]=(...Oe)=>unref(ae)&&unref(ae)(...Oe)),onFocus:_e[2]||(_e[2]=Oe=>$.value=!0),onBlur:_e[3]||(_e[3]=Oe=>$.value=!1)},null,42,_hoisted_1$x)),[[vModelCheckbox,unref(re)]]):withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":_e[4]||(_e[4]=Oe=>isRef(re)?re.value=Oe:null),class:normalizeClass(unref(ue).be("button","original")),type:"checkbox",name:he.name,tabindex:he.tabindex,disabled:unref(V),value:he.label,onChange:_e[5]||(_e[5]=(...Oe)=>unref(ae)&&unref(ae)(...Oe)),onFocus:_e[6]||(_e[6]=Oe=>$.value=!0),onBlur:_e[7]||(_e[7]=Oe=>$.value=!1)},null,42,_hoisted_2$k)),[[vModelCheckbox,unref(re)]]),he.$slots.default||he.label?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass(unref(ue).be("button","inner")),style:normalizeStyle$1(unref(L)?unref(de):void 0)},[renderSlot(he.$slots,"default",{},()=>[createTextVNode(toDisplayString(he.label),1)])],6)):createCommentVNode("v-if",!0)],2))}});var CheckboxButton=_export_sfc$1(_sfc_main$$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const checkboxGroupProps=buildProps({modelValue:{type:definePropType(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:useSizeProp,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),checkboxGroupEmits={[UPDATE_MODEL_EVENT]:g=>isArray$7(g),change:g=>isArray$7(g)},__default__$G=defineComponent({name:"ElCheckboxGroup"}),_sfc_main$_=defineComponent({...__default__$G,props:checkboxGroupProps,emits:checkboxGroupEmits,setup(g,{emit:n}){const r=g,$=useNamespace("checkbox"),{formItem:L}=useFormItem(),{inputId:V,isLabeledByFormItem:oe}=useFormItemInputId(r,{formItemContext:L}),re=async le=>{n(UPDATE_MODEL_EVENT,le),await nextTick(),n("change",le)},ae=computed({get(){return r.modelValue},set(le){re(le)}});return provide(checkboxGroupContextKey,{...pick$1(toRefs(r),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:ae,changeEvent:re}),watch(()=>r.modelValue,()=>{r.validateEvent&&(L==null||L.validate("change").catch(le=>{}))}),(le,ue)=>{var de;return openBlock(),createBlock(resolveDynamicComponent(le.tag),{id:unref(V),class:normalizeClass(unref($).b("group")),role:"group","aria-label":unref(oe)?void 0:le.label||"checkbox-group","aria-labelledby":unref(oe)?(de=unref(L))==null?void 0:de.labelId:void 0},{default:withCtx(()=>[renderSlot(le.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var CheckboxGroup=_export_sfc$1(_sfc_main$_,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);ElCheckbox=withInstall(Checkbox,{CheckboxButton,CheckboxGroup}),withNoopInstall(CheckboxButton);let radioPropsBase,radioProps,radioEmits,radioGroupKey,useRadio,_hoisted_1$w,__default__$F,_sfc_main$Z;ElCheckboxGroup$1=withNoopInstall(CheckboxGroup),radioPropsBase=buildProps({size:useSizeProp,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),radioProps=buildProps({...radioPropsBase,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),radioEmits={[UPDATE_MODEL_EVENT]:g=>isString$4(g)||isNumber$2(g)||isBoolean$2(g),[CHANGE_EVENT]:g=>isString$4(g)||isNumber$2(g)||isBoolean$2(g)},radioGroupKey=Symbol("radioGroupKey"),useRadio=(g,n)=>{const r=ref(),$=inject(radioGroupKey,void 0),L=computed(()=>!!$),V=computed({get(){return L.value?$.modelValue:g.modelValue},set(ue){L.value?$.changeEvent(ue):n&&n(UPDATE_MODEL_EVENT,ue),r.value.checked=g.modelValue===g.label}}),oe=useFormSize(computed(()=>$==null?void 0:$.size)),re=useFormDisabled(computed(()=>$==null?void 0:$.disabled)),ae=ref(!1),le=computed(()=>re.value||L.value&&V.value!==g.label?-1:0);return{radioRef:r,isGroup:L,radioGroup:$,focus:ae,size:oe,disabled:re,tabIndex:le,modelValue:V}},_hoisted_1$w=["value","name","disabled"],__default__$F=defineComponent({name:"ElRadio"}),_sfc_main$Z=defineComponent({...__default__$F,props:radioProps,emits:radioEmits,setup(g,{emit:n}){const r=g,$=useNamespace("radio"),{radioRef:L,radioGroup:V,focus:oe,size:re,disabled:ae,modelValue:le}=useRadio(r,n);function ue(){nextTick(()=>n("change",le.value))}return(de,pe)=>{var he;return openBlock(),createElementBlock("label",{class:normalizeClass([unref($).b(),unref($).is("disabled",unref(ae)),unref($).is("focus",unref(oe)),unref($).is("bordered",de.border),unref($).is("checked",unref(le)===de.label),unref($).m(unref(re))])},[createBaseVNode("span",{class:normalizeClass([unref($).e("input"),unref($).is("disabled",unref(ae)),unref($).is("checked",unref(le)===de.label)])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:L,"onUpdate:modelValue":pe[0]||(pe[0]=_e=>isRef(le)?le.value=_e:null),class:normalizeClass(unref($).e("original")),value:de.label,name:de.name||((he=unref(V))==null?void 0:he.name),disabled:unref(ae),type:"radio",onFocus:pe[1]||(pe[1]=_e=>oe.value=!0),onBlur:pe[2]||(pe[2]=_e=>oe.value=!1),onChange:ue},null,42,_hoisted_1$w),[[vModelRadio,unref(le)]]),createBaseVNode("span",{class:normalizeClass(unref($).e("inner"))},null,2)],2),createBaseVNode("span",{class:normalizeClass(unref($).e("label")),onKeydown:pe[3]||(pe[3]=withModifiers(()=>{},["stop"]))},[renderSlot(de.$slots,"default",{},()=>[createTextVNode(toDisplayString(de.label),1)])],34)],2)}}});var Radio=_export_sfc$1(_sfc_main$Z,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const radioButtonProps=buildProps({...radioPropsBase,name:{type:String,default:""}}),_hoisted_1$v=["value","name","disabled"],__default__$E=defineComponent({name:"ElRadioButton"}),_sfc_main$Y=defineComponent({...__default__$E,props:radioButtonProps,setup(g){const n=g,r=useNamespace("radio"),{radioRef:$,focus:L,size:V,disabled:oe,modelValue:re,radioGroup:ae}=useRadio(n),le=computed(()=>({backgroundColor:(ae==null?void 0:ae.fill)||"",borderColor:(ae==null?void 0:ae.fill)||"",boxShadow:ae!=null&&ae.fill?`-1px 0 0 0 ${ae.fill}`:"",color:(ae==null?void 0:ae.textColor)||""}));return(ue,de)=>{var pe;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(r).b("button"),unref(r).is("active",unref(re)===ue.label),unref(r).is("disabled",unref(oe)),unref(r).is("focus",unref(L)),unref(r).bm("button",unref(V))])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:$,"onUpdate:modelValue":de[0]||(de[0]=he=>isRef(re)?re.value=he:null),class:normalizeClass(unref(r).be("button","original-radio")),value:ue.label,type:"radio",name:ue.name||((pe=unref(ae))==null?void 0:pe.name),disabled:unref(oe),onFocus:de[1]||(de[1]=he=>L.value=!0),onBlur:de[2]||(de[2]=he=>L.value=!1)},null,42,_hoisted_1$v),[[vModelRadio,unref(re)]]),createBaseVNode("span",{class:normalizeClass(unref(r).be("button","inner")),style:normalizeStyle$1(unref(re)===ue.label?unref(le):{}),onKeydown:de[3]||(de[3]=withModifiers(()=>{},["stop"]))},[renderSlot(ue.$slots,"default",{},()=>[createTextVNode(toDisplayString(ue.label),1)])],38)],2)}}});var RadioButton=_export_sfc$1(_sfc_main$Y,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const radioGroupProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),radioGroupEmits=radioEmits,_hoisted_1$u=["id","aria-label","aria-labelledby"],__default__$D=defineComponent({name:"ElRadioGroup"}),_sfc_main$X=defineComponent({...__default__$D,props:radioGroupProps,emits:radioGroupEmits,setup(g,{emit:n}){const r=g,$=useNamespace("radio"),L=useId(),V=ref(),{formItem:oe}=useFormItem(),{inputId:re,isLabeledByFormItem:ae}=useFormItemInputId(r,{formItemContext:oe}),le=de=>{n(UPDATE_MODEL_EVENT,de),nextTick(()=>n("change",de))};onMounted(()=>{const de=V.value.querySelectorAll("[type=radio]"),pe=de[0];!Array.from(de).some(he=>he.checked)&&pe&&(pe.tabIndex=0)});const ue=computed(()=>r.name||L.value);return provide(radioGroupKey,reactive({...toRefs(r),changeEvent:le,name:ue})),watch(()=>r.modelValue,()=>{r.validateEvent&&(oe==null||oe.validate("change").catch(de=>{}))}),(de,pe)=>(openBlock(),createElementBlock("div",{id:unref(re),ref_key:"radioGroupRef",ref:V,class:normalizeClass(unref($).b("group")),role:"radiogroup","aria-label":unref(ae)?void 0:de.label||"radio-group","aria-labelledby":unref(ae)?unref(oe).labelId:void 0},[renderSlot(de.$slots,"default")],10,_hoisted_1$u))}});var RadioGroup=_export_sfc$1(_sfc_main$X,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);ElRadio=withInstall(Radio,{RadioButton,RadioGroup}),ElRadioGroup=withNoopInstall(RadioGroup),withNoopInstall(RadioButton);const tagProps=buildProps({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:componentSizes,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),tagEmits={close:g=>g instanceof MouseEvent,click:g=>g instanceof MouseEvent},__default__$C=defineComponent({name:"ElTag"}),_sfc_main$W=defineComponent({...__default__$C,props:tagProps,emits:tagEmits,setup(g,{emit:n}){const r=g,$=useFormSize(),L=useNamespace("tag"),V=computed(()=>{const{type:ae,hit:le,effect:ue,closable:de,round:pe}=r;return[L.b(),L.is("closable",de),L.m(ae),L.m($.value),L.m(ue),L.is("hit",le),L.is("round",pe)]}),oe=ae=>{n("close",ae)},re=ae=>{n("click",ae)};return(ae,le)=>ae.disableTransitions?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(V)),style:normalizeStyle$1({backgroundColor:ae.color}),onClick:re},[createBaseVNode("span",{class:normalizeClass(unref(L).e("content"))},[renderSlot(ae.$slots,"default")],2),ae.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(L).e("close")),onClick:withModifiers(oe,["stop"])},{default:withCtx(()=>[createVNode$1(unref(close_default))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)):(openBlock(),createBlock(Transition,{key:1,name:`${unref(L).namespace.value}-zoom-in-center`,appear:""},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(unref(V)),style:normalizeStyle$1({backgroundColor:ae.color}),onClick:re},[createBaseVNode("span",{class:normalizeClass(unref(L).e("content"))},[renderSlot(ae.$slots,"default")],2),ae.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(L).e("close")),onClick:withModifiers(oe,["stop"])},{default:withCtx(()=>[createVNode$1(unref(close_default))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)]),_:3},8,["name"]))}});var Tag=_export_sfc$1(_sfc_main$W,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);let rowContextKey,RowJustify,RowAlign,rowProps,__default__$B,_sfc_main$V;ElTag=withInstall(Tag),rowContextKey=Symbol("rowContextKey"),RowJustify=["start","center","end","space-around","space-between","space-evenly"],RowAlign=["top","middle","bottom"],rowProps=buildProps({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:RowJustify,default:"start"},align:{type:String,values:RowAlign,default:"top"}}),__default__$B=defineComponent({name:"ElRow"}),_sfc_main$V=defineComponent({...__default__$B,props:rowProps,setup(g){const n=g,r=useNamespace("row"),$=computed(()=>n.gutter);provide(rowContextKey,{gutter:$});const L=computed(()=>{const oe={};return n.gutter&&(oe.marginRight=oe.marginLeft=`-${n.gutter/2}px`),oe}),V=computed(()=>[r.b(),r.is(`justify-${n.justify}`,n.justify!=="start"),r.is(`align-${n.align}`,n.align!=="top")]);return(oe,re)=>(openBlock(),createBlock(resolveDynamicComponent(oe.tag),{class:normalizeClass(unref(V)),style:normalizeStyle$1(unref(L))},{default:withCtx(()=>[renderSlot(oe.$slots,"default")]),_:3},8,["class","style"]))}});var Row=_export_sfc$1(_sfc_main$V,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);let colProps,__default__$A,_sfc_main$U;ElRow=withInstall(Row),colProps=buildProps({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:definePropType([Number,Object]),default:()=>mutable({})},sm:{type:definePropType([Number,Object]),default:()=>mutable({})},md:{type:definePropType([Number,Object]),default:()=>mutable({})},lg:{type:definePropType([Number,Object]),default:()=>mutable({})},xl:{type:definePropType([Number,Object]),default:()=>mutable({})}}),__default__$A=defineComponent({name:"ElCol"}),_sfc_main$U=defineComponent({...__default__$A,props:colProps,setup(g){const n=g,{gutter:r}=inject(rowContextKey,{gutter:computed(()=>0)}),$=useNamespace("col"),L=computed(()=>{const oe={};return r.value&&(oe.paddingLeft=oe.paddingRight=`${r.value/2}px`),oe}),V=computed(()=>{const oe=[];return["span","offset","pull","push"].forEach(re=>{const ae=n[re];isNumber$2(ae)&&(re==="span"?oe.push($.b(`${n[re]}`)):ae>0&&oe.push($.b(`${re}-${n[re]}`)))}),["xs","sm","md","lg","xl"].forEach(re=>{isNumber$2(n[re])?oe.push($.b(`${re}-${n[re]}`)):isObject$7(n[re])&&Object.entries(n[re]).forEach(([ae,le])=>{oe.push(ae!=="span"?$.b(`${re}-${ae}-${le}`):$.b(`${re}-${le}`))})}),r.value&&oe.push($.is("guttered")),[$.b(),oe]});return(oe,re)=>(openBlock(),createBlock(resolveDynamicComponent(oe.tag),{class:normalizeClass(unref(V)),style:normalizeStyle$1(unref(L))},{default:withCtx(()=>[renderSlot(oe.$slots,"default")]),_:3},8,["class","style"]))}});var Col=_export_sfc$1(_sfc_main$U,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);let emitChangeFn,collapseProps,collapseEmits,collapseContextKey,useCollapse,useCollapseDOM,__default__$z,_sfc_main$T;ElCol=withInstall(Col),emitChangeFn=g=>typeof isNumber$2(g),collapseProps=buildProps({accordion:Boolean,modelValue:{type:definePropType([Array,String,Number]),default:()=>mutable([])}}),collapseEmits={[UPDATE_MODEL_EVENT]:emitChangeFn,[CHANGE_EVENT]:emitChangeFn},collapseContextKey=Symbol("collapseContextKey"),useCollapse=(g,n)=>{const r=ref(castArray$1(g.modelValue)),$=V=>{r.value=V;const oe=g.accordion?r.value[0]:r.value;n(UPDATE_MODEL_EVENT,oe),n(CHANGE_EVENT,oe)},L=V=>{if(g.accordion)$([r.value[0]===V?"":V]);else{const oe=[...r.value],re=oe.indexOf(V);re>-1?oe.splice(re,1):oe.push(V),$(oe)}};return watch(()=>g.modelValue,()=>r.value=castArray$1(g.modelValue),{deep:!0}),provide(collapseContextKey,{activeNames:r,handleItemClick:L}),{activeNames:r,setActiveNames:$}},useCollapseDOM=()=>{const g=useNamespace("collapse");return{rootKls:computed(()=>g.b())}},__default__$z=defineComponent({name:"ElCollapse"}),_sfc_main$T=defineComponent({...__default__$z,props:collapseProps,emits:collapseEmits,setup(g,{expose:n,emit:r}){const $=g,{activeNames:L,setActiveNames:V}=useCollapse($,r),{rootKls:oe}=useCollapseDOM();return n({activeNames:L,setActiveNames:V}),(re,ae)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(oe)),role:"tablist","aria-multiselectable":"true"},[renderSlot(re.$slots,"default")],2))}});var Collapse=_export_sfc$1(_sfc_main$T,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const __default__$y=defineComponent({name:"ElCollapseTransition"}),_sfc_main$S=defineComponent({...__default__$y,setup(g){const n=useNamespace("collapse-transition"),r={beforeEnter($){$.dataset||($.dataset={}),$.dataset.oldPaddingTop=$.style.paddingTop,$.dataset.oldPaddingBottom=$.style.paddingBottom,$.style.maxHeight=0,$.style.paddingTop=0,$.style.paddingBottom=0},enter($){$.dataset.oldOverflow=$.style.overflow,$.scrollHeight!==0?($.style.maxHeight=`${$.scrollHeight}px`,$.style.paddingTop=$.dataset.oldPaddingTop,$.style.paddingBottom=$.dataset.oldPaddingBottom):($.style.maxHeight=0,$.style.paddingTop=$.dataset.oldPaddingTop,$.style.paddingBottom=$.dataset.oldPaddingBottom),$.style.overflow="hidden"},afterEnter($){$.style.maxHeight="",$.style.overflow=$.dataset.oldOverflow},beforeLeave($){$.dataset||($.dataset={}),$.dataset.oldPaddingTop=$.style.paddingTop,$.dataset.oldPaddingBottom=$.style.paddingBottom,$.dataset.oldOverflow=$.style.overflow,$.style.maxHeight=`${$.scrollHeight}px`,$.style.overflow="hidden"},leave($){$.scrollHeight!==0&&($.style.maxHeight=0,$.style.paddingTop=0,$.style.paddingBottom=0)},afterLeave($){$.style.maxHeight="",$.style.overflow=$.dataset.oldOverflow,$.style.paddingTop=$.dataset.oldPaddingTop,$.style.paddingBottom=$.dataset.oldPaddingBottom}};return($,L)=>(openBlock(),createBlock(Transition,mergeProps({name:unref(n).b()},toHandlers(r)),{default:withCtx(()=>[renderSlot($.$slots,"default")]),_:3},16,["name"]))}});var CollapseTransition=_export_sfc$1(_sfc_main$S,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);CollapseTransition.install=g=>{g.component(CollapseTransition.name,CollapseTransition)};const _CollapseTransition=CollapseTransition,collapseItemProps=buildProps({title:{type:String,default:""},name:{type:definePropType([String,Number]),default:()=>generateId()},disabled:Boolean}),useCollapseItem=g=>{const n=inject(collapseContextKey),r=ref(!1),$=ref(!1),L=ref(generateId()),V=computed(()=>n==null?void 0:n.activeNames.value.includes(g.name));return{focusing:r,id:L,isActive:V,handleFocus:()=>{setTimeout(()=>{$.value?$.value=!1:r.value=!0},50)},handleHeaderClick:()=>{g.disabled||(n==null||n.handleItemClick(g.name),r.value=!1,$.value=!0)},handleEnterClick:()=>{n==null||n.handleItemClick(g.name)}}},useCollapseItemDOM=(g,{focusing:n,isActive:r,id:$})=>{const L=useNamespace("collapse"),V=computed(()=>[L.b("item"),L.is("active",unref(r)),L.is("disabled",g.disabled)]),oe=computed(()=>[L.be("item","header"),L.is("active",unref(r)),{focusing:unref(n)&&!g.disabled}]),re=computed(()=>[L.be("item","arrow"),L.is("active",unref(r))]),ae=computed(()=>L.be("item","wrap")),le=computed(()=>L.be("item","content")),ue=computed(()=>L.b(`content-${unref($)}`)),de=computed(()=>L.b(`head-${unref($)}`));return{arrowKls:re,headKls:oe,rootKls:V,itemWrapperKls:ae,itemContentKls:le,scopedContentId:ue,scopedHeadId:de}},_hoisted_1$t=["aria-expanded","aria-controls","aria-describedby"],_hoisted_2$j=["id","tabindex"],_hoisted_3$d=["id","aria-hidden","aria-labelledby"],__default__$x=defineComponent({name:"ElCollapseItem"}),_sfc_main$R=defineComponent({...__default__$x,props:collapseItemProps,setup(g,{expose:n}){const r=g,{focusing:$,id:L,isActive:V,handleFocus:oe,handleHeaderClick:re,handleEnterClick:ae}=useCollapseItem(r),{arrowKls:le,headKls:ue,rootKls:de,itemWrapperKls:pe,itemContentKls:he,scopedContentId:_e,scopedHeadId:Oe}=useCollapseItemDOM(r,{focusing:$,isActive:V,id:L});return n({isActive:V}),(xe,$e)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(de))},[createBaseVNode("div",{role:"tab","aria-expanded":unref(V),"aria-controls":unref(_e),"aria-describedby":unref(_e)},[createBaseVNode("div",{id:unref(Oe),class:normalizeClass(unref(ue)),role:"button",tabindex:xe.disabled?-1:0,onClick:$e[0]||($e[0]=(...Ie)=>unref(re)&&unref(re)(...Ie)),onKeypress:$e[1]||($e[1]=withKeys(withModifiers((...Ie)=>unref(ae)&&unref(ae)(...Ie),["stop","prevent"]),["space","enter"])),onFocus:$e[2]||($e[2]=(...Ie)=>unref(oe)&&unref(oe)(...Ie)),onBlur:$e[3]||($e[3]=Ie=>$.value=!1)},[renderSlot(xe.$slots,"title",{},()=>[createTextVNode(toDisplayString(xe.title),1)]),createVNode$1(unref(ElIcon),{class:normalizeClass(unref(le))},{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1},8,["class"])],42,_hoisted_2$j)],8,_hoisted_1$t),createVNode$1(unref(_CollapseTransition),null,{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:unref(_e),class:normalizeClass(unref(pe)),role:"tabpanel","aria-hidden":!unref(V),"aria-labelledby":unref(Oe)},[createBaseVNode("div",{class:normalizeClass(unref(he))},[renderSlot(xe.$slots,"default")],2)],10,_hoisted_3$d),[[vShow,unref(V)]])]),_:3})],2))}});var CollapseItem=_export_sfc$1(_sfc_main$R,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);let alphaSliderProps;ElCollapse=withInstall(Collapse,{CollapseItem}),ElCollapseItem=withNoopInstall(CollapseItem),alphaSliderProps=buildProps({color:{type:definePropType(Object),required:!0},vertical:{type:Boolean,default:!1}});let isDragging=!1;function draggable(g,n){if(!isClient)return;const r=function(V){var oe;(oe=n.drag)==null||oe.call(n,V)},$=function(V){var oe;document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",$),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",$),document.onselectstart=null,document.ondragstart=null,isDragging=!1,(oe=n.end)==null||oe.call(n,V)},L=function(V){var oe;isDragging||(V.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",r),document.addEventListener("mouseup",$),document.addEventListener("touchmove",r),document.addEventListener("touchend",$),isDragging=!0,(oe=n.start)==null||oe.call(n,V))};g.addEventListener("mousedown",L),g.addEventListener("touchstart",L)}const useAlphaSlider=g=>{const n=getCurrentInstance(),r=shallowRef(),$=shallowRef();function L(oe){oe.target!==r.value&&V(oe)}function V(oe){if(!$.value||!r.value)return;const re=n.vnode.el.getBoundingClientRect(),{clientX:ae,clientY:le}=getClientXY(oe);if(g.vertical){let ue=le-re.top;ue=Math.max(r.value.offsetHeight/2,ue),ue=Math.min(ue,re.height-r.value.offsetHeight/2),g.color.set("alpha",Math.round((ue-r.value.offsetHeight/2)/(re.height-r.value.offsetHeight)*100))}else{let ue=ae-re.left;ue=Math.max(r.value.offsetWidth/2,ue),ue=Math.min(ue,re.width-r.value.offsetWidth/2),g.color.set("alpha",Math.round((ue-r.value.offsetWidth/2)/(re.width-r.value.offsetWidth)*100))}}return{thumb:r,bar:$,handleDrag:V,handleClick:L}},useAlphaSliderDOM=(g,{bar:n,thumb:r,handleDrag:$})=>{const L=getCurrentInstance(),V=useNamespace("color-alpha-slider"),oe=ref(0),re=ref(0),ae=ref();function le(){if(!r.value||g.vertical)return 0;const Ie=L.vnode.el,Ne=g.color.get("alpha");return Ie?Math.round(Ne*(Ie.offsetWidth-r.value.offsetWidth/2)/100):0}function ue(){if(!r.value)return 0;const Ie=L.vnode.el;if(!g.vertical)return 0;const Ne=g.color.get("alpha");return Ie?Math.round(Ne*(Ie.offsetHeight-r.value.offsetHeight/2)/100):0}function de(){if(g.color&&g.color.value){const{r:Ie,g:Ne,b:ze}=g.color.toRgb();return`linear-gradient(to right, rgba(${Ie}, ${Ne}, ${ze}, 0) 0%, rgba(${Ie}, ${Ne}, ${ze}, 1) 100%)`}return""}function pe(){oe.value=le(),re.value=ue(),ae.value=de()}onMounted(()=>{if(!n.value||!r.value)return;const Ie={drag:Ne=>{$(Ne)},end:Ne=>{$(Ne)}};draggable(n.value,Ie),draggable(r.value,Ie),pe()}),watch(()=>g.color.get("alpha"),()=>pe()),watch(()=>g.color.value,()=>pe());const he=computed(()=>[V.b(),V.is("vertical",g.vertical)]),_e=computed(()=>V.e("bar")),Oe=computed(()=>V.e("thumb")),xe=computed(()=>({background:ae.value})),$e=computed(()=>({left:addUnit(oe.value),top:addUnit(re.value)}));return{rootKls:he,barKls:_e,barStyle:xe,thumbKls:Oe,thumbStyle:$e,update:pe}},COMPONENT_NAME$5="ElColorAlphaSlider",__default__$w=defineComponent({name:COMPONENT_NAME$5}),_sfc_main$Q=defineComponent({...__default__$w,props:alphaSliderProps,setup(g,{expose:n}){const r=g,{bar:$,thumb:L,handleDrag:V,handleClick:oe}=useAlphaSlider(r),{rootKls:re,barKls:ae,barStyle:le,thumbKls:ue,thumbStyle:de,update:pe}=useAlphaSliderDOM(r,{bar:$,thumb:L,handleDrag:V});return n({update:pe,bar:$,thumb:L}),(he,_e)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(re))},[createBaseVNode("div",{ref_key:"bar",ref:$,class:normalizeClass(unref(ae)),style:normalizeStyle$1(unref(le)),onClick:_e[0]||(_e[0]=(...Oe)=>unref(oe)&&unref(oe)(...Oe))},null,6),createBaseVNode("div",{ref_key:"thumb",ref:L,class:normalizeClass(unref(ue)),style:normalizeStyle$1(unref(de))},null,6)],2))}});var AlphaSlider=_export_sfc$1(_sfc_main$Q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);const _sfc_main$P=defineComponent({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(g){const n=useNamespace("color-hue-slider"),r=getCurrentInstance(),$=ref(),L=ref(),V=ref(0),oe=ref(0),re=computed(()=>g.color.get("hue"));watch(()=>re.value,()=>{pe()});function ae(he){he.target!==$.value&&le(he)}function le(he){if(!L.value||!$.value)return;const _e=r.vnode.el.getBoundingClientRect(),{clientX:Oe,clientY:xe}=getClientXY(he);let $e;if(g.vertical){let Ie=xe-_e.top;Ie=Math.min(Ie,_e.height-$.value.offsetHeight/2),Ie=Math.max($.value.offsetHeight/2,Ie),$e=Math.round((Ie-$.value.offsetHeight/2)/(_e.height-$.value.offsetHeight)*360)}else{let Ie=Oe-_e.left;Ie=Math.min(Ie,_e.width-$.value.offsetWidth/2),Ie=Math.max($.value.offsetWidth/2,Ie),$e=Math.round((Ie-$.value.offsetWidth/2)/(_e.width-$.value.offsetWidth)*360)}g.color.set("hue",$e)}function ue(){if(!$.value)return 0;const he=r.vnode.el;if(g.vertical)return 0;const _e=g.color.get("hue");return he?Math.round(_e*(he.offsetWidth-$.value.offsetWidth/2)/360):0}function de(){if(!$.value)return 0;const he=r.vnode.el;if(!g.vertical)return 0;const _e=g.color.get("hue");return he?Math.round(_e*(he.offsetHeight-$.value.offsetHeight/2)/360):0}function pe(){V.value=ue(),oe.value=de()}return onMounted(()=>{if(!L.value||!$.value)return;const he={drag:_e=>{le(_e)},end:_e=>{le(_e)}};draggable(L.value,he),draggable($.value,he),pe()}),{bar:L,thumb:$,thumbLeft:V,thumbTop:oe,hueValue:re,handleClick:ae,update:pe,ns:n}}});function _sfc_render$b(g,n,r,$,L,V){return openBlock(),createElementBlock("div",{class:normalizeClass([g.ns.b(),g.ns.is("vertical",g.vertical)])},[createBaseVNode("div",{ref:"bar",class:normalizeClass(g.ns.e("bar")),onClick:n[0]||(n[0]=(...oe)=>g.handleClick&&g.handleClick(...oe))},null,2),createBaseVNode("div",{ref:"thumb",class:normalizeClass(g.ns.e("thumb")),style:normalizeStyle$1({left:g.thumbLeft+"px",top:g.thumbTop+"px"})},null,6)],2)}var HueSlider=_export_sfc$1(_sfc_main$P,[["render",_sfc_render$b],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const colorPickerProps=buildProps({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:useSizeProp,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:definePropType(Array)},validateEvent:{type:Boolean,default:!0}}),colorPickerEmits={[UPDATE_MODEL_EVENT]:g=>isString$4(g)||isNil(g),[CHANGE_EVENT]:g=>isString$4(g)||isNil(g),activeChange:g=>isString$4(g)||isNil(g)},colorPickerContextKey=Symbol("colorPickerContextKey"),hsv2hsl=function(g,n,r){return[g,n*r/((g=(2-n)*r)<1?g:2-g)||0,g/2]},isOnePointZero=function(g){return typeof g=="string"&&g.includes(".")&&Number.parseFloat(g)===1},isPercentage=function(g){return typeof g=="string"&&g.includes("%")},bound01=function(g,n){isOnePointZero(g)&&(g="100%");const r=isPercentage(g);return g=Math.min(n,Math.max(0,Number.parseFloat(`${g}`))),r&&(g=Number.parseInt(`${g*n}`,10)/100),Math.abs(g-n)<1e-6?1:g%n/Number.parseFloat(n)},INT_HEX_MAP={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},hexOne=g=>{g=Math.min(Math.round(g),255);const n=Math.floor(g/16),r=g%16;return`${INT_HEX_MAP[n]||n}${INT_HEX_MAP[r]||r}`},toHex=function({r:g,g:n,b:r}){return Number.isNaN(+g)||Number.isNaN(+n)||Number.isNaN(+r)?"":`#${hexOne(g)}${hexOne(n)}${hexOne(r)}`},HEX_INT_MAP={A:10,B:11,C:12,D:13,E:14,F:15},parseHexChannel=function(g){return g.length===2?(HEX_INT_MAP[g[0].toUpperCase()]||+g[0])*16+(HEX_INT_MAP[g[1].toUpperCase()]||+g[1]):HEX_INT_MAP[g[1].toUpperCase()]||+g[1]},hsl2hsv=function(g,n,r){n=n/100,r=r/100;let $=n;const L=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,$*=L<=1?L:2-L;const V=(r+n)/2,oe=r===0?2*$/(L+$):2*n/(r+n);return{h:g,s:oe*100,v:V*100}},rgb2hsv=(g,n,r)=>{g=bound01(g,255),n=bound01(n,255),r=bound01(r,255);const $=Math.max(g,n,r),L=Math.min(g,n,r);let V;const oe=$,re=$-L,ae=$===0?0:re/$;if($===L)V=0;else{switch($){case g:{V=(n-r)/re+(n<r?6:0);break}case n:{V=(r-g)/re+2;break}case r:{V=(g-n)/re+4;break}}V/=6}return{h:V*360,s:ae*100,v:oe*100}},hsv2rgb=function(g,n,r){g=bound01(g,360)*6,n=bound01(n,100),r=bound01(r,100);const $=Math.floor(g),L=g-$,V=r*(1-n),oe=r*(1-L*n),re=r*(1-(1-L)*n),ae=$%6,le=[r,oe,V,V,re,r][ae],ue=[re,r,r,oe,V,V][ae],de=[V,V,re,r,r,oe][ae];return{r:Math.round(le*255),g:Math.round(ue*255),b:Math.round(de*255)}};class Color{constructor(n={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const r in n)hasOwn$1(n,r)&&(this[r]=n[r]);n.value?this.fromString(n.value):this.doOnChange()}set(n,r){if(arguments.length===1&&typeof n=="object"){for(const $ in n)hasOwn$1(n,$)&&this.set($,n[$]);return}this[`_${n}`]=r,this.doOnChange()}get(n){return n==="alpha"?Math.floor(this[`_${n}`]):this[`_${n}`]}toRgb(){return hsv2rgb(this._hue,this._saturation,this._value)}fromString(n){if(!n){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const r=($,L,V)=>{this._hue=Math.max(0,Math.min(360,$)),this._saturation=Math.max(0,Math.min(100,L)),this._value=Math.max(0,Math.min(100,V)),this.doOnChange()};if(n.includes("hsl")){const $=n.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(L=>L!=="").map((L,V)=>V>2?Number.parseFloat(L):Number.parseInt(L,10));if($.length===4?this._alpha=Number.parseFloat($[3])*100:$.length===3&&(this._alpha=100),$.length>=3){const{h:L,s:V,v:oe}=hsl2hsv($[0],$[1],$[2]);r(L,V,oe)}}else if(n.includes("hsv")){const $=n.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(L=>L!=="").map((L,V)=>V>2?Number.parseFloat(L):Number.parseInt(L,10));$.length===4?this._alpha=Number.parseFloat($[3])*100:$.length===3&&(this._alpha=100),$.length>=3&&r($[0],$[1],$[2])}else if(n.includes("rgb")){const $=n.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(L=>L!=="").map((L,V)=>V>2?Number.parseFloat(L):Number.parseInt(L,10));if($.length===4?this._alpha=Number.parseFloat($[3])*100:$.length===3&&(this._alpha=100),$.length>=3){const{h:L,s:V,v:oe}=rgb2hsv($[0],$[1],$[2]);r(L,V,oe)}}else if(n.includes("#")){const $=n.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test($))return;let L,V,oe;$.length===3?(L=parseHexChannel($[0]+$[0]),V=parseHexChannel($[1]+$[1]),oe=parseHexChannel($[2]+$[2])):($.length===6||$.length===8)&&(L=parseHexChannel($.slice(0,2)),V=parseHexChannel($.slice(2,4)),oe=parseHexChannel($.slice(4,6))),$.length===8?this._alpha=parseHexChannel($.slice(6))/255*100:($.length===3||$.length===6)&&(this._alpha=100);const{h:re,s:ae,v:le}=rgb2hsv(L,V,oe);r(re,ae,le)}}compare(n){return Math.abs(n._hue-this._hue)<2&&Math.abs(n._saturation-this._saturation)<1&&Math.abs(n._value-this._value)<1&&Math.abs(n._alpha-this._alpha)<1}doOnChange(){const{_hue:n,_saturation:r,_value:$,_alpha:L,format:V}=this;if(this.enableAlpha)switch(V){case"hsl":{const oe=hsv2hsl(n,r/100,$/100);this.value=`hsla(${n}, ${Math.round(oe[1]*100)}%, ${Math.round(oe[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${n}, ${Math.round(r)}%, ${Math.round($)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${toHex(hsv2rgb(n,r,$))}${hexOne(L*255/100)}`;break}default:{const{r:oe,g:re,b:ae}=hsv2rgb(n,r,$);this.value=`rgba(${oe}, ${re}, ${ae}, ${this.get("alpha")/100})`}}else switch(V){case"hsl":{const oe=hsv2hsl(n,r/100,$/100);this.value=`hsl(${n}, ${Math.round(oe[1]*100)}%, ${Math.round(oe[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${n}, ${Math.round(r)}%, ${Math.round($)}%)`;break}case"rgb":{const{r:oe,g:re,b:ae}=hsv2rgb(n,r,$);this.value=`rgb(${oe}, ${re}, ${ae})`;break}default:this.value=toHex(hsv2rgb(n,r,$))}}}const _sfc_main$O=defineComponent({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(g){const n=useNamespace("color-predefine"),{currentColor:r}=inject(colorPickerContextKey),$=ref(V(g.colors,g.color));watch(()=>r.value,oe=>{const re=new Color;re.fromString(oe),$.value.forEach(ae=>{ae.selected=re.compare(ae)})}),watchEffect(()=>{$.value=V(g.colors,g.color)});function L(oe){g.color.fromString(g.colors[oe])}function V(oe,re){return oe.map(ae=>{const le=new Color;return le.enableAlpha=!0,le.format="rgba",le.fromString(ae),le.selected=le.value===re.value,le})}return{rgbaColors:$,handleSelect:L,ns:n}}}),_hoisted_1$s=["onClick"];function _sfc_render$a(g,n,r,$,L,V){return openBlock(),createElementBlock("div",{class:normalizeClass(g.ns.b())},[createBaseVNode("div",{class:normalizeClass(g.ns.e("colors"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.rgbaColors,(oe,re)=>(openBlock(),createElementBlock("div",{key:g.colors[re],class:normalizeClass([g.ns.e("color-selector"),g.ns.is("alpha",oe._alpha<100),{selected:oe.selected}]),onClick:ae=>g.handleSelect(re)},[createBaseVNode("div",{style:normalizeStyle$1({backgroundColor:oe.value})},null,4)],10,_hoisted_1$s))),128))],2)],2)}var Predefine=_export_sfc$1(_sfc_main$O,[["render",_sfc_render$a],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const _sfc_main$N=defineComponent({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(g){const n=useNamespace("color-svpanel"),r=getCurrentInstance(),$=ref(0),L=ref(0),V=ref("hsl(0, 100%, 50%)"),oe=computed(()=>{const le=g.color.get("hue"),ue=g.color.get("value");return{hue:le,value:ue}});function re(){const le=g.color.get("saturation"),ue=g.color.get("value"),de=r.vnode.el,{clientWidth:pe,clientHeight:he}=de;L.value=le*pe/100,$.value=(100-ue)*he/100,V.value=`hsl(${g.color.get("hue")}, 100%, 50%)`}function ae(le){const ue=r.vnode.el.getBoundingClientRect(),{clientX:de,clientY:pe}=getClientXY(le);let he=de-ue.left,_e=pe-ue.top;he=Math.max(0,he),he=Math.min(he,ue.width),_e=Math.max(0,_e),_e=Math.min(_e,ue.height),L.value=he,$.value=_e,g.color.set({saturation:he/ue.width*100,value:100-_e/ue.height*100})}return watch(()=>oe.value,()=>{re()}),onMounted(()=>{draggable(r.vnode.el,{drag:le=>{ae(le)},end:le=>{ae(le)}}),re()}),{cursorTop:$,cursorLeft:L,background:V,colorValue:oe,handleDrag:ae,update:re,ns:n}}}),_hoisted_1$r=createBaseVNode("div",null,null,-1),_hoisted_2$i=[_hoisted_1$r];function _sfc_render$9(g,n,r,$,L,V){return openBlock(),createElementBlock("div",{class:normalizeClass(g.ns.b()),style:normalizeStyle$1({backgroundColor:g.background})},[createBaseVNode("div",{class:normalizeClass(g.ns.e("white"))},null,2),createBaseVNode("div",{class:normalizeClass(g.ns.e("black"))},null,2),createBaseVNode("div",{class:normalizeClass(g.ns.e("cursor")),style:normalizeStyle$1({top:g.cursorTop+"px",left:g.cursorLeft+"px"})},_hoisted_2$i,6)],6)}var SvPanel=_export_sfc$1(_sfc_main$N,[["render",_sfc_render$9],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const _hoisted_1$q=["id","aria-label","aria-labelledby","aria-description","tabindex","onKeydown"],__default__$v=defineComponent({name:"ElColorPicker"}),_sfc_main$M=defineComponent({...__default__$v,props:colorPickerProps,emits:colorPickerEmits,setup(g,{expose:n,emit:r}){const $=g,{t:L}=useLocale(),V=useNamespace("color"),{formItem:oe}=useFormItem(),re=useFormSize(),ae=useFormDisabled(),{inputId:le,isLabeledByFormItem:ue}=useFormItemInputId($,{formItemContext:oe}),de=ref(),pe=ref(),he=ref(),_e=ref();let Oe=!0;const xe=reactive(new Color({enableAlpha:$.showAlpha,format:$.colorFormat||"",value:$.modelValue})),$e=ref(!1),Ie=ref(!1),Ne=ref(""),ze=computed(()=>!$.modelValue&&!Ie.value?"transparent":At(xe,$.showAlpha)),Ue=computed(()=>!$.modelValue&&!Ie.value?"":xe.value),Fe=computed(()=>ue.value?void 0:$.label||L("el.colorpicker.defaultLabel")),qe=computed(()=>ue.value?oe==null?void 0:oe.labelId:void 0),Et=computed(()=>[V.b("picker"),V.is("disabled",ae.value),V.bm("picker",re.value)]);function At(bn,Tn){if(!(bn instanceof Color))throw new TypeError("color should be instance of _color Class");const{r:An,g:En,b:Ln}=bn.toRgb();return Tn?`rgba(${An}, ${En}, ${Ln}, ${bn.get("alpha")/100})`:`rgb(${An}, ${En}, ${Ln})`}function kt(bn){$e.value=bn}const Dt=debounce(kt,100);function jt(){ae.value||kt(!0)}function Lt(){Dt(!1),hn()}function hn(){nextTick(()=>{$.modelValue?xe.fromString($.modelValue):(xe.value="",nextTick(()=>{Ie.value=!1}))})}function Sn(){ae.value||Dt(!$e.value)}function On(){xe.fromString(Ne.value)}function _n(){const bn=xe.value;r(UPDATE_MODEL_EVENT,bn),r("change",bn),$.validateEvent&&(oe==null||oe.validate("change").catch(Tn=>{})),Dt(!1),nextTick(()=>{const Tn=new Color({enableAlpha:$.showAlpha,format:$.colorFormat||"",value:$.modelValue});xe.compare(Tn)||hn()})}function xn(){Dt(!1),r(UPDATE_MODEL_EVENT,null),r("change",null),$.modelValue!==null&&$.validateEvent&&(oe==null||oe.validate("change").catch(bn=>{})),hn()}return onMounted(()=>{$.modelValue&&(Ne.value=Ue.value)}),watch(()=>$.modelValue,bn=>{bn?bn&&bn!==xe.value&&(Oe=!1,xe.fromString(bn)):Ie.value=!1}),watch(()=>Ue.value,bn=>{Ne.value=bn,Oe&&r("activeChange",bn),Oe=!0}),watch(()=>xe.value,()=>{!$.modelValue&&!Ie.value&&(Ie.value=!0)}),watch(()=>$e.value,()=>{nextTick(()=>{var bn,Tn,An;(bn=de.value)==null||bn.update(),(Tn=pe.value)==null||Tn.update(),(An=he.value)==null||An.update()})}),provide(colorPickerContextKey,{currentColor:Ue}),n({color:xe,show:jt,hide:Lt}),(bn,Tn)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"popper",ref:_e,visible:$e.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[unref(V).be("picker","panel"),unref(V).b("dropdown"),bn.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${unref(V).namespace.value}-zoom-in-top`,persistent:""},{content:withCtx(()=>[withDirectives((openBlock(),createElementBlock("div",null,[createBaseVNode("div",{class:normalizeClass(unref(V).be("dropdown","main-wrapper"))},[createVNode$1(HueSlider,{ref_key:"hue",ref:de,class:"hue-slider",color:unref(xe),vertical:""},null,8,["color"]),createVNode$1(SvPanel,{ref:"svPanel",color:unref(xe)},null,8,["color"])],2),bn.showAlpha?(openBlock(),createBlock(AlphaSlider,{key:0,ref_key:"alpha",ref:he,color:unref(xe)},null,8,["color"])):createCommentVNode("v-if",!0),bn.predefine?(openBlock(),createBlock(Predefine,{key:1,ref:"predefine",color:unref(xe),colors:bn.predefine},null,8,["color","colors"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(V).be("dropdown","btns"))},[createBaseVNode("span",{class:normalizeClass(unref(V).be("dropdown","value"))},[createVNode$1(unref(ElInput),{modelValue:Ne.value,"onUpdate:modelValue":Tn[0]||(Tn[0]=An=>Ne.value=An),"validate-event":!1,size:"small",onKeyup:withKeys(On,["enter"]),onBlur:On},null,8,["modelValue","onKeyup"])],2),createVNode$1(unref(ElButton),{class:normalizeClass(unref(V).be("dropdown","link-btn")),text:"",size:"small",onClick:xn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(L)("el.colorpicker.clear")),1)]),_:1},8,["class"]),createVNode$1(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(V).be("dropdown","btn")),onClick:_n},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(L)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)])),[[unref(ClickOutside),Lt]])]),default:withCtx(()=>[createBaseVNode("div",{id:unref(le),class:normalizeClass(unref(Et)),role:"button","aria-label":unref(Fe),"aria-labelledby":unref(qe),"aria-description":unref(L)("el.colorpicker.description",{color:bn.modelValue||""}),tabindex:bn.tabindex,onKeydown:withKeys(Sn,["enter"])},[unref(ae)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(V).be("picker","mask"))},null,2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(V).be("picker","trigger")),onClick:Sn},[createBaseVNode("span",{class:normalizeClass([unref(V).be("picker","color"),unref(V).is("alpha",bn.showAlpha)])},[createBaseVNode("span",{class:normalizeClass(unref(V).be("picker","color-inner")),style:normalizeStyle$1({backgroundColor:unref(ze)})},[withDirectives(createVNode$1(unref(ElIcon),{class:normalizeClass([unref(V).be("picker","icon"),unref(V).is("icon-arrow-down")])},{default:withCtx(()=>[createVNode$1(unref(arrow_down_default))]),_:1},8,["class"]),[[vShow,bn.modelValue||Ie.value]]),!bn.modelValue&&!Ie.value?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(V).be("picker","empty"),unref(V).is("icon-close")])},{default:withCtx(()=>[createVNode$1(unref(close_default))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],6)],2)],2)],42,_hoisted_1$q)]),_:1},8,["visible","popper-class","transition"]))}});var ColorPicker=_export_sfc$1(_sfc_main$M,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue"]]);ElColorPicker=withInstall(ColorPicker);var advancedFormat$1={exports:{}};(function(g,n){(function(r,$){g.exports=$()})(commonjsGlobal,function(){return function(r,$){var L=$.prototype,V=L.format;L.format=function(oe){var re=this,ae=this.$locale();if(!this.isValid())return V.bind(this)(oe);var le=this.$utils(),ue=(oe||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(de){switch(de){case"Q":return Math.ceil((re.$M+1)/3);case"Do":return ae.ordinal(re.$D);case"gggg":return re.weekYear();case"GGGG":return re.isoWeekYear();case"wo":return ae.ordinal(re.week(),"W");case"w":case"ww":return le.s(re.week(),de==="w"?1:2,"0");case"W":case"WW":return le.s(re.isoWeek(),de==="W"?1:2,"0");case"k":case"kk":return le.s(String(re.$H===0?24:re.$H),de==="k"?1:2,"0");case"X":return Math.floor(re.$d.getTime()/1e3);case"x":return re.$d.getTime();case"z":return"["+re.offsetName()+"]";case"zzz":return"["+re.offsetName("long")+"]";default:return de}});return V.bind(this)(ue)}}})})(advancedFormat$1);const advancedFormat=advancedFormat$1.exports;var weekOfYear$1={exports:{}};(function(g,n){(function(r,$){g.exports=$()})(commonjsGlobal,function(){var r="week",$="year";return function(L,V,oe){var re=V.prototype;re.week=function(ae){if(ae===void 0&&(ae=null),ae!==null)return this.add(7*(ae-this.week()),"day");var le=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var ue=oe(this).startOf($).add(1,$).date(le),de=oe(this).endOf(r);if(ue.isBefore(de))return 1}var pe=oe(this).startOf($).date(le).startOf(r).subtract(1,"millisecond"),he=this.diff(pe,r,!0);return he<0?oe(this).startOf("week").week():Math.ceil(he)},re.weeks=function(ae){return ae===void 0&&(ae=null),this.week(ae)}}})})(weekOfYear$1);const weekOfYear=weekOfYear$1.exports;var weekYear$1={exports:{}};(function(g,n){(function(r,$){g.exports=$()})(commonjsGlobal,function(){return function(r,$){$.prototype.weekYear=function(){var L=this.month(),V=this.week(),oe=this.year();return V===1&&L===11?oe+1:L===0&&V>=52?oe-1:oe}}})})(weekYear$1);const weekYear=weekYear$1.exports;var dayOfYear$1={exports:{}};(function(g,n){(function(r,$){g.exports=$()})(commonjsGlobal,function(){return function(r,$,L){$.prototype.dayOfYear=function(V){var oe=Math.round((L(this).startOf("day")-L(this).startOf("year"))/864e5)+1;return V==null?oe:this.add(V-oe,"day")}}})})(dayOfYear$1);const dayOfYear=dayOfYear$1.exports;var isSameOrAfter$1={exports:{}};(function(g,n){(function(r,$){g.exports=$()})(commonjsGlobal,function(){return function(r,$){$.prototype.isSameOrAfter=function(L,V){return this.isSame(L,V)||this.isAfter(L,V)}}})})(isSameOrAfter$1);const isSameOrAfter=isSameOrAfter$1.exports;var isSameOrBefore$1={exports:{}};(function(g,n){(function(r,$){g.exports=$()})(commonjsGlobal,function(){return function(r,$){$.prototype.isSameOrBefore=function(L,V){return this.isSame(L,V)||this.isBefore(L,V)}}})})(isSameOrBefore$1);const isSameOrBefore=isSameOrBefore$1.exports,ROOT_PICKER_INJECTION_KEY=Symbol(),datePickerProps=buildProps({type:{type:definePropType(String),default:"date"}}),selectionModes=["date","dates","year","month","week","range"],datePickerSharedProps=buildProps({disabledDate:{type:definePropType(Function)},date:{type:definePropType(Object),required:!0},minDate:{type:definePropType(Object)},maxDate:{type:definePropType(Object)},parsedValue:{type:definePropType([Object,Array])},rangeState:{type:definePropType(Object),default:()=>({endDate:null,selecting:!1})}}),panelSharedProps=buildProps({type:{type:definePropType(String),required:!0,values:datePickTypes}}),panelRangeSharedProps=buildProps({unlinkPanels:Boolean,parsedValue:{type:definePropType(Array)}}),selectionModeWithDefault=g=>({type:String,values:selectionModes,default:g}),panelDatePickProps=buildProps({...panelSharedProps,parsedValue:{type:definePropType([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),basicDateTableProps=buildProps({...datePickerSharedProps,cellClassName:{type:definePropType(Function)},showWeekNumber:Boolean,selectionMode:selectionModeWithDefault("date")}),isValidRange=g=>{if(!isArray$7(g))return!1;const[n,r]=g;return dayjs.isDayjs(n)&&dayjs.isDayjs(r)&&n.isSameOrBefore(r)},getDefaultValue=(g,{lang:n,unit:r,unlinkPanels:$})=>{let L;if(isArray$7(g)){let[V,oe]=g.map(re=>dayjs(re).locale(n));return $||(oe=V.add(1,r)),[V,oe]}else g?L=dayjs(g):L=dayjs();return L=L.locale(n),[L,L.add(1,r)]},buildPickerTable=(g,n,{columnIndexOffset:r,startDate:$,nextEndDate:L,now:V,unit:oe,relativeDateGetter:re,setCellMetadata:ae,setRowMetadata:le})=>{for(let ue=0;ue<g.row;ue++){const de=n[ue];for(let pe=0;pe<g.column;pe++){let he=de[pe+r];he||(he={row:ue,column:pe,type:"normal",inRange:!1,start:!1,end:!1});const _e=ue*g.column+pe,Oe=re(_e);he.dayjs=Oe,he.date=Oe.toDate(),he.timestamp=Oe.valueOf(),he.type="normal",he.inRange=!!($&&Oe.isSameOrAfter($,oe)&&L&&Oe.isSameOrBefore(L,oe))||!!($&&Oe.isSameOrBefore($,oe)&&L&&Oe.isSameOrAfter(L,oe)),$!=null&&$.isSameOrAfter(L)?(he.start=!!L&&Oe.isSame(L,oe),he.end=$&&Oe.isSame($,oe)):(he.start=!!$&&Oe.isSame($,oe),he.end=!!L&&Oe.isSame(L,oe)),Oe.isSame(V,oe)&&(he.type="today"),ae==null||ae(he,{rowIndex:ue,columnIndex:pe}),de[pe+r]=he}le==null||le(de)}},basicCellProps=buildProps({cell:{type:definePropType(Object)}});var ElDatePickerCell=defineComponent({name:"ElDatePickerCell",props:basicCellProps,setup(g){const n=useNamespace("date-table-cell"),{slots:r}=inject(ROOT_PICKER_INJECTION_KEY);return()=>{const{cell:$}=g;if(r.default){const L=r.default($).filter(V=>V.patchFlag!==-2&&V.type.toString()!=="Symbol(Comment)");if(L.length)return L}return createVNode$1("div",{class:n.b()},[createVNode$1("span",{class:n.e("text")},[$==null?void 0:$.text])])}}});const _hoisted_1$p=["aria-label","onMousedown"],_hoisted_2$h={key:0,scope:"col"},_hoisted_3$c=["aria-label"],_hoisted_4$7=["aria-current","aria-selected","tabindex"],_sfc_main$L=defineComponent({__name:"basic-date-table",props:basicDateTableProps,emits:["changerange","pick","select"],setup(g,{expose:n,emit:r}){const $=g,L=useNamespace("date-table"),{t:V,lang:oe}=useLocale(),re=ref(),ae=ref(),le=ref(),ue=ref(),de=ref([[],[],[],[],[],[]]);let pe=!1;const he=$.date.$locale().weekStart||7,_e=$.date.locale("en").localeData().weekdaysShort().map(En=>En.toLowerCase()),Oe=computed(()=>he>3?7-he:-he),xe=computed(()=>{const En=$.date.startOf("month");return En.subtract(En.day()||7,"day")}),$e=computed(()=>_e.concat(_e).slice(he,he+7)),Ie=computed(()=>flatten(Et.value).some(En=>En.isCurrent)),Ne=computed(()=>{const En=$.date.startOf("month"),Ln=En.day()||7,Wn=En.daysInMonth(),Mn=En.subtract(1,"month").daysInMonth();return{startOfMonthDay:Ln,dateCountOfMonth:Wn,dateCountOfLastMonth:Mn}}),ze=computed(()=>$.selectionMode==="dates"?castArray($.parsedValue):[]),Ue=(En,{count:Ln,rowIndex:Wn,columnIndex:Mn})=>{const{startOfMonthDay:Fn,dateCountOfMonth:In,dateCountOfLastMonth:Nn}=unref(Ne),Vn=unref(Oe);if(Wn>=0&&Wn<=1){const Un=Fn+Vn<0?7+Fn+Vn:Fn+Vn;if(Mn+Wn*7>=Un)return En.text=Ln,!0;En.text=Nn-(Un-Mn%7)+1+Wn*7,En.type="prev-month"}else return Ln<=In?En.text=Ln:(En.text=Ln-In,En.type="next-month"),!0;return!1},Fe=(En,{columnIndex:Ln,rowIndex:Wn},Mn)=>{const{disabledDate:Fn,cellClassName:In}=$,Nn=unref(ze),Vn=Ue(En,{count:Mn,rowIndex:Wn,columnIndex:Ln}),Un=En.dayjs.toDate();return En.selected=Nn.find(Gn=>Gn.valueOf()===En.dayjs.valueOf()),En.isSelected=!!En.selected,En.isCurrent=Dt(En),En.disabled=Fn==null?void 0:Fn(Un),En.customClass=In==null?void 0:In(Un),Vn},qe=En=>{if($.selectionMode==="week"){const[Ln,Wn]=$.showWeekNumber?[1,7]:[0,6],Mn=An(En[Ln+1]);En[Ln].inRange=Mn,En[Ln].start=Mn,En[Wn].inRange=Mn,En[Wn].end=Mn}},Et=computed(()=>{const{minDate:En,maxDate:Ln,rangeState:Wn,showWeekNumber:Mn}=$,Fn=Oe.value,In=de.value,Nn="day";let Vn=1;if(Mn)for(let Un=0;Un<6;Un++)In[Un][0]||(In[Un][0]={type:"week",text:xe.value.add(Un*7+1,Nn).week()});return buildPickerTable({row:6,column:7},In,{startDate:En,columnIndexOffset:Mn?1:0,nextEndDate:Wn.endDate||Ln||Wn.selecting&&En||null,now:dayjs().locale(unref(oe)).startOf(Nn),unit:Nn,relativeDateGetter:Un=>xe.value.add(Un-Fn,Nn),setCellMetadata:(...Un)=>{Fe(...Un,Vn)&&(Vn+=1)},setRowMetadata:qe}),In});watch(()=>$.date,async()=>{var En,Ln;(En=re.value)!=null&&En.contains(document.activeElement)&&(await nextTick(),(Ln=ae.value)==null||Ln.focus())});const At=async()=>{var En;(En=ae.value)==null||En.focus()},kt=(En="")=>["normal","today"].includes(En),Dt=En=>$.selectionMode==="date"&&kt(En.type)&&jt(En,$.parsedValue),jt=(En,Ln)=>Ln?dayjs(Ln).locale(oe.value).isSame($.date.date(Number(En.text)),"day"):!1,Lt=En=>{const Ln=[];return kt(En.type)&&!En.disabled?(Ln.push("available"),En.type==="today"&&Ln.push("today")):Ln.push(En.type),Dt(En)&&Ln.push("current"),En.inRange&&(kt(En.type)||$.selectionMode==="week")&&(Ln.push("in-range"),En.start&&Ln.push("start-date"),En.end&&Ln.push("end-date")),En.disabled&&Ln.push("disabled"),En.selected&&Ln.push("selected"),En.customClass&&Ln.push(En.customClass),Ln.join(" ")},hn=(En,Ln)=>{const Wn=En*7+(Ln-($.showWeekNumber?1:0))-Oe.value;return xe.value.add(Wn,"day")},Sn=En=>{var Ln;if(!$.rangeState.selecting)return;let Wn=En.target;if(Wn.tagName==="SPAN"&&(Wn=(Ln=Wn.parentNode)==null?void 0:Ln.parentNode),Wn.tagName==="DIV"&&(Wn=Wn.parentNode),Wn.tagName!=="TD")return;const Mn=Wn.parentNode.rowIndex-1,Fn=Wn.cellIndex;Et.value[Mn][Fn].disabled||(Mn!==le.value||Fn!==ue.value)&&(le.value=Mn,ue.value=Fn,r("changerange",{selecting:!0,endDate:hn(Mn,Fn)}))},On=En=>!Ie.value&&(En==null?void 0:En.text)===1&&En.type==="normal"||En.isCurrent,_n=En=>{pe||Ie.value||$.selectionMode!=="date"||Tn(En,!0)},xn=En=>{!En.target.closest("td")||(pe=!0)},bn=En=>{!En.target.closest("td")||(pe=!1)},Tn=(En,Ln=!1)=>{const Wn=En.target.closest("td");if(!Wn)return;const Mn=Wn.parentNode.rowIndex-1,Fn=Wn.cellIndex,In=Et.value[Mn][Fn];if(In.disabled||In.type==="week")return;const Nn=hn(Mn,Fn);if($.selectionMode==="range")!$.rangeState.selecting||!$.minDate?(r("pick",{minDate:Nn,maxDate:null}),r("select",!0)):(Nn>=$.minDate?r("pick",{minDate:$.minDate,maxDate:Nn}):r("pick",{minDate:Nn,maxDate:$.minDate}),r("select",!1));else if($.selectionMode==="date")r("pick",Nn,Ln);else if($.selectionMode==="week"){const Vn=Nn.week(),Un=`${Nn.year()}w${Vn}`;r("pick",{year:Nn.year(),week:Vn,value:Un,date:Nn.startOf("week")})}else if($.selectionMode==="dates"){const Vn=In.selected?castArray($.parsedValue).filter(Un=>(Un==null?void 0:Un.valueOf())!==Nn.valueOf()):castArray($.parsedValue).concat([Nn]);r("pick",Vn)}},An=En=>{if($.selectionMode!=="week")return!1;let Ln=$.date.startOf("day");if(En.type==="prev-month"&&(Ln=Ln.subtract(1,"month")),En.type==="next-month"&&(Ln=Ln.add(1,"month")),Ln=Ln.date(Number.parseInt(En.text,10)),$.parsedValue&&!Array.isArray($.parsedValue)){const Wn=($.parsedValue.day()-he+7)%7-1;return $.parsedValue.subtract(Wn,"day").isSame(Ln,"day")}return!1};return n({focus:At}),(En,Ln)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref(V)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:normalizeClass([unref(L).b(),{"is-week-mode":En.selectionMode==="week"}]),onClick:Tn,onMousemove:Sn,onMousedown:withModifiers(xn,["prevent"]),onMouseup:bn},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:re},[createBaseVNode("tr",null,[En.showWeekNumber?(openBlock(),createElementBlock("th",_hoisted_2$h,toDisplayString(unref(V)("el.datepicker.week")),1)):createCommentVNode("v-if",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref($e),(Wn,Mn)=>(openBlock(),createElementBlock("th",{key:Mn,scope:"col","aria-label":unref(V)("el.datepicker.weeksFull."+Wn)},toDisplayString(unref(V)("el.datepicker.weeks."+Wn)),9,_hoisted_3$c))),128))]),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Et),(Wn,Mn)=>(openBlock(),createElementBlock("tr",{key:Mn,class:normalizeClass([unref(L).e("row"),{current:An(Wn[1])}])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Wn,(Fn,In)=>(openBlock(),createElementBlock("td",{key:`${Mn}.${In}`,ref_for:!0,ref:Nn=>On(Fn)&&(ae.value=Nn),class:normalizeClass(Lt(Fn)),"aria-current":Fn.isCurrent?"date":void 0,"aria-selected":Fn.isCurrent,tabindex:On(Fn)?0:-1,onFocus:_n},[createVNode$1(unref(ElDatePickerCell),{cell:Fn},null,8,["cell"])],42,_hoisted_4$7))),128))],2))),128))],512)],42,_hoisted_1$p))}});var DateTable=_export_sfc$1(_sfc_main$L,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const basicMonthTableProps=buildProps({...datePickerSharedProps,selectionMode:selectionModeWithDefault("month")}),_hoisted_1$o=["aria-label"],_hoisted_2$g=["aria-selected","aria-label","tabindex","onKeydown"],_hoisted_3$b={class:"cell"},_sfc_main$K=defineComponent({__name:"basic-month-table",props:basicMonthTableProps,emits:["changerange","pick","select"],setup(g,{expose:n,emit:r}){const $=g,L=(ze,Ue,Fe)=>{const qe=dayjs().locale(Fe).startOf("month").month(Ue).year(ze),Et=qe.daysInMonth();return rangeArr(Et).map(At=>qe.add(At,"day").toDate())},V=useNamespace("month-table"),{t:oe,lang:re}=useLocale(),ae=ref(),le=ref(),ue=ref($.date.locale("en").localeData().monthsShort().map(ze=>ze.toLowerCase())),de=ref([[],[],[]]),pe=ref(),he=ref(),_e=computed(()=>{var ze,Ue;const Fe=de.value,qe=dayjs().locale(re.value).startOf("month");for(let Et=0;Et<3;Et++){const At=Fe[Et];for(let kt=0;kt<4;kt++){const Dt=At[kt]||(At[kt]={row:Et,column:kt,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});Dt.type="normal";const jt=Et*4+kt,Lt=$.date.startOf("year").month(jt),hn=$.rangeState.endDate||$.maxDate||$.rangeState.selecting&&$.minDate||null;Dt.inRange=!!($.minDate&&Lt.isSameOrAfter($.minDate,"month")&&hn&&Lt.isSameOrBefore(hn,"month"))||!!($.minDate&&Lt.isSameOrBefore($.minDate,"month")&&hn&&Lt.isSameOrAfter(hn,"month")),(ze=$.minDate)!=null&&ze.isSameOrAfter(hn)?(Dt.start=!!(hn&&Lt.isSame(hn,"month")),Dt.end=$.minDate&&Lt.isSame($.minDate,"month")):(Dt.start=!!($.minDate&&Lt.isSame($.minDate,"month")),Dt.end=!!(hn&&Lt.isSame(hn,"month"))),qe.isSame(Lt)&&(Dt.type="today"),Dt.text=jt,Dt.disabled=((Ue=$.disabledDate)==null?void 0:Ue.call($,Lt.toDate()))||!1}}return Fe}),Oe=()=>{var ze;(ze=le.value)==null||ze.focus()},xe=ze=>{const Ue={},Fe=$.date.year(),qe=new Date,Et=ze.text;return Ue.disabled=$.disabledDate?L(Fe,Et,re.value).every($.disabledDate):!1,Ue.current=castArray($.parsedValue).findIndex(At=>dayjs.isDayjs(At)&&At.year()===Fe&&At.month()===Et)>=0,Ue.today=qe.getFullYear()===Fe&&qe.getMonth()===Et,ze.inRange&&(Ue["in-range"]=!0,ze.start&&(Ue["start-date"]=!0),ze.end&&(Ue["end-date"]=!0)),Ue},$e=ze=>{const Ue=$.date.year(),Fe=ze.text;return castArray($.date).findIndex(qe=>qe.year()===Ue&&qe.month()===Fe)>=0},Ie=ze=>{var Ue;if(!$.rangeState.selecting)return;let Fe=ze.target;if(Fe.tagName==="A"&&(Fe=(Ue=Fe.parentNode)==null?void 0:Ue.parentNode),Fe.tagName==="DIV"&&(Fe=Fe.parentNode),Fe.tagName!=="TD")return;const qe=Fe.parentNode.rowIndex,Et=Fe.cellIndex;_e.value[qe][Et].disabled||(qe!==pe.value||Et!==he.value)&&(pe.value=qe,he.value=Et,r("changerange",{selecting:!0,endDate:$.date.startOf("year").month(qe*4+Et)}))},Ne=ze=>{var Ue;const Fe=(Ue=ze.target)==null?void 0:Ue.closest("td");if((Fe==null?void 0:Fe.tagName)!=="TD"||hasClass(Fe,"disabled"))return;const qe=Fe.cellIndex,Et=Fe.parentNode.rowIndex*4+qe,At=$.date.startOf("year").month(Et);$.selectionMode==="range"?$.rangeState.selecting?($.minDate&&At>=$.minDate?r("pick",{minDate:$.minDate,maxDate:At}):r("pick",{minDate:At,maxDate:$.minDate}),r("select",!1)):(r("pick",{minDate:At,maxDate:null}),r("select",!0)):r("pick",Et)};return watch(()=>$.date,async()=>{var ze,Ue;(ze=ae.value)!=null&&ze.contains(document.activeElement)&&(await nextTick(),(Ue=le.value)==null||Ue.focus())}),n({focus:Oe}),(ze,Ue)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref(oe)("el.datepicker.monthTablePrompt"),class:normalizeClass(unref(V).b()),onClick:Ne,onMousemove:Ie},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:ae},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(_e),(Fe,qe)=>(openBlock(),createElementBlock("tr",{key:qe},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Fe,(Et,At)=>(openBlock(),createElementBlock("td",{key:At,ref_for:!0,ref:kt=>$e(Et)&&(le.value=kt),class:normalizeClass(xe(Et)),"aria-selected":`${$e(Et)}`,"aria-label":unref(oe)(`el.datepicker.month${+Et.text+1}`),tabindex:$e(Et)?0:-1,onKeydown:[withKeys(withModifiers(Ne,["prevent","stop"]),["space"]),withKeys(withModifiers(Ne,["prevent","stop"]),["enter"])]},[createBaseVNode("div",null,[createBaseVNode("span",_hoisted_3$b,toDisplayString(unref(oe)("el.datepicker.months."+ue.value[Et.text])),1)])],42,_hoisted_2$g))),128))]))),128))],512)],42,_hoisted_1$o))}});var MonthTable=_export_sfc$1(_sfc_main$K,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date,disabledDate,parsedValue}=datePickerSharedProps,basicYearTableProps=buildProps({date,disabledDate,parsedValue}),_hoisted_1$n=["aria-label"],_hoisted_2$f=["aria-selected","tabindex","onKeydown"],_hoisted_3$a={class:"cell"},_hoisted_4$6={key:1},_sfc_main$J=defineComponent({__name:"basic-year-table",props:basicYearTableProps,emits:["pick"],setup(g,{expose:n,emit:r}){const $=g,L=(Oe,xe)=>{const $e=dayjs(String(Oe)).locale(xe).startOf("year"),Ie=$e.endOf("year").dayOfYear();return rangeArr(Ie).map(Ne=>$e.add(Ne,"day").toDate())},V=useNamespace("year-table"),{t:oe,lang:re}=useLocale(),ae=ref(),le=ref(),ue=computed(()=>Math.floor($.date.year()/10)*10),de=()=>{var Oe;(Oe=le.value)==null||Oe.focus()},pe=Oe=>{const xe={},$e=dayjs().locale(re.value);return xe.disabled=$.disabledDate?L(Oe,re.value).every($.disabledDate):!1,xe.current=castArray($.parsedValue).findIndex(Ie=>Ie.year()===Oe)>=0,xe.today=$e.year()===Oe,xe},he=Oe=>Oe===ue.value&&$.date.year()<ue.value&&$.date.year()>ue.value+9||castArray($.date).findIndex(xe=>xe.year()===Oe)>=0,_e=Oe=>{const xe=Oe.target.closest("td");if(xe&&xe.textContent){if(hasClass(xe,"disabled"))return;const $e=xe.textContent||xe.innerText;r("pick",Number($e))}};return watch(()=>$.date,async()=>{var Oe,xe;(Oe=ae.value)!=null&&Oe.contains(document.activeElement)&&(await nextTick(),(xe=le.value)==null||xe.focus())}),n({focus:de}),(Oe,xe)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref(oe)("el.datepicker.yearTablePrompt"),class:normalizeClass(unref(V).b()),onClick:_e},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:ae},[(openBlock(),createElementBlock(Fragment,null,renderList(3,($e,Ie)=>createBaseVNode("tr",{key:Ie},[(openBlock(),createElementBlock(Fragment,null,renderList(4,(Ne,ze)=>(openBlock(),createElementBlock(Fragment,{key:Ie+"_"+ze},[Ie*4+ze<10?(openBlock(),createElementBlock("td",{key:0,ref_for:!0,ref:Ue=>he(unref(ue)+Ie*4+ze)&&(le.value=Ue),class:normalizeClass(["available",pe(unref(ue)+Ie*4+ze)]),"aria-selected":`${he(unref(ue)+Ie*4+ze)}`,tabindex:he(unref(ue)+Ie*4+ze)?0:-1,onKeydown:[withKeys(withModifiers(_e,["prevent","stop"]),["space"]),withKeys(withModifiers(_e,["prevent","stop"]),["enter"])]},[createBaseVNode("span",_hoisted_3$a,toDisplayString(unref(ue)+Ie*4+ze),1)],42,_hoisted_2$f)):(openBlock(),createElementBlock("td",_hoisted_4$6))],64))),64))])),64))],512)],10,_hoisted_1$n))}});var YearTable=_export_sfc$1(_sfc_main$J,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const _hoisted_1$m=["onClick"],_hoisted_2$e=["aria-label"],_hoisted_3$9=["aria-label"],_hoisted_4$5=["aria-label"],_hoisted_5$5=["aria-label"],_sfc_main$I=defineComponent({__name:"panel-date-pick",props:panelDatePickProps,emits:["pick","set-picker-option","panel-change"],setup(g,{emit:n}){const r=g,$=(Hn,io,mo)=>!0,L=useNamespace("picker-panel"),V=useNamespace("date-picker"),oe=useAttrs$1(),re=useSlots(),{t:ae,lang:le}=useLocale(),ue=inject("EP_PICKER_BASE"),de=inject(TOOLTIP_INJECTION_KEY),{shortcuts:pe,disabledDate:he,cellClassName:_e,defaultTime:Oe,arrowControl:xe}=ue.props,$e=toRef(ue.props,"defaultValue"),Ie=ref(),Ne=ref(dayjs().locale(le.value)),ze=ref(!1),Ue=computed(()=>dayjs(Oe).locale(le.value)),Fe=computed(()=>Ne.value.month()),qe=computed(()=>Ne.value.year()),Et=ref([]),At=ref(null),kt=ref(null),Dt=Hn=>Et.value.length>0?$(Hn,Et.value,r.format||"HH:mm:ss"):!0,jt=Hn=>Oe&&!$n.value&&!ze.value?Ue.value.year(Hn.year()).month(Hn.month()).date(Hn.date()):Fn.value?Hn.millisecond(0):Hn.startOf("day"),Lt=(Hn,...io)=>{if(!Hn)n("pick",Hn,...io);else if(isArray$7(Hn)){const mo=Hn.map(jt);n("pick",mo,...io)}else n("pick",jt(Hn),...io);At.value=null,kt.value=null,ze.value=!1},hn=(Hn,io)=>{if(Tn.value==="date"){Hn=Hn;let mo=r.parsedValue?r.parsedValue.year(Hn.year()).month(Hn.month()).date(Hn.date()):Hn;Dt(mo)||(mo=Et.value[0][0].year(Hn.year()).month(Hn.month()).date(Hn.date())),Ne.value=mo,Lt(mo,Fn.value||io)}else Tn.value==="week"?Lt(Hn.date):Tn.value==="dates"&&Lt(Hn,!0)},Sn=Hn=>{const io=Hn?"add":"subtract";Ne.value=Ne.value[io](1,"month"),ro("month")},On=Hn=>{const io=Ne.value,mo=Hn?"add":"subtract";Ne.value=_n.value==="year"?io[mo](10,"year"):io[mo](1,"year"),ro("year")},_n=ref("date"),xn=computed(()=>{const Hn=ae("el.datepicker.year");if(_n.value==="year"){const io=Math.floor(qe.value/10)*10;return Hn?`${io} ${Hn} - ${io+9} ${Hn}`:`${io} - ${io+9}`}return`${qe.value} ${Hn}`}),bn=Hn=>{const io=isFunction$4(Hn.value)?Hn.value():Hn.value;if(io){Lt(dayjs(io).locale(le.value));return}Hn.onClick&&Hn.onClick({attrs:oe,slots:re,emit:n})},Tn=computed(()=>{const{type:Hn}=r;return["week","month","year","dates"].includes(Hn)?Hn:"date"}),An=computed(()=>Tn.value==="date"?_n.value:Tn.value),En=computed(()=>!!pe.length),Ln=async Hn=>{Ne.value=Ne.value.startOf("month").month(Hn),Tn.value==="month"?Lt(Ne.value,!1):(_n.value="date",["month","year","date","week"].includes(Tn.value)&&(Lt(Ne.value,!0),await nextTick(),yo())),ro("month")},Wn=async Hn=>{Tn.value==="year"?(Ne.value=Ne.value.startOf("year").year(Hn),Lt(Ne.value,!1)):(Ne.value=Ne.value.year(Hn),_n.value="month",["month","year","date","week"].includes(Tn.value)&&(Lt(Ne.value,!0),await nextTick(),yo())),ro("year")},Mn=async Hn=>{_n.value=Hn,await nextTick(),yo()},Fn=computed(()=>r.type==="datetime"||r.type==="datetimerange"),In=computed(()=>Fn.value||Tn.value==="dates"),Nn=()=>{if(Tn.value==="dates")Lt(r.parsedValue);else{let Hn=r.parsedValue;if(!Hn){const io=dayjs(Oe).locale(le.value),mo=ho();Hn=io.year(mo.year()).month(mo.month()).date(mo.date())}Ne.value=Hn,Lt(Hn)}},Vn=()=>{const Hn=dayjs().locale(le.value).toDate();ze.value=!0,(!he||!he(Hn))&&Dt(Hn)&&(Ne.value=dayjs().locale(le.value),Lt(Ne.value))},Un=computed(()=>extractTimeFormat(r.format)),Gn=computed(()=>extractDateFormat(r.format)),$n=computed(()=>{if(kt.value)return kt.value;if(!(!r.parsedValue&&!$e.value))return(r.parsedValue||Ne.value).format(Un.value)}),kn=computed(()=>{if(At.value)return At.value;if(!(!r.parsedValue&&!$e.value))return(r.parsedValue||Ne.value).format(Gn.value)}),Bn=ref(!1),Yn=()=>{Bn.value=!0},Jn=()=>{Bn.value=!1},Kn=Hn=>({hour:Hn.hour(),minute:Hn.minute(),second:Hn.second(),year:Hn.year(),month:Hn.month(),date:Hn.date()}),po=(Hn,io,mo)=>{const{hour:zn,minute:qn,second:so}=Kn(Hn),Dn=r.parsedValue?r.parsedValue.hour(zn).minute(qn).second(so):Hn;Ne.value=Dn,Lt(Ne.value,!0),mo||(Bn.value=io)},oo=Hn=>{const io=dayjs(Hn,Un.value).locale(le.value);if(io.isValid()&&Dt(io)){const{year:mo,month:zn,date:qn}=Kn(Ne.value);Ne.value=io.year(mo).month(zn).date(qn),kt.value=null,Bn.value=!1,Lt(Ne.value,!0)}},lo=Hn=>{const io=dayjs(Hn,Gn.value).locale(le.value);if(io.isValid()){if(he&&he(io.toDate()))return;const{hour:mo,minute:zn,second:qn}=Kn(Ne.value);Ne.value=io.hour(mo).minute(zn).second(qn),At.value=null,Lt(Ne.value,!0)}},no=Hn=>dayjs.isDayjs(Hn)&&Hn.isValid()&&(he?!he(Hn.toDate()):!0),vo=Hn=>Tn.value==="dates"?Hn.map(io=>io.format(r.format)):Hn.format(r.format),Zn=Hn=>dayjs(Hn,r.format).locale(le.value),ho=()=>{const Hn=dayjs($e.value).locale(le.value);if(!$e.value){const io=Ue.value;return dayjs().hour(io.hour()).minute(io.minute()).second(io.second()).locale(le.value)}return Hn},yo=async()=>{var Hn;["week","month","year","date"].includes(Tn.value)&&((Hn=Ie.value)==null||Hn.focus(),Tn.value==="week"&&Co(EVENT_CODE.down))},Oo=Hn=>{const{code:io}=Hn;[EVENT_CODE.up,EVENT_CODE.down,EVENT_CODE.left,EVENT_CODE.right,EVENT_CODE.home,EVENT_CODE.end,EVENT_CODE.pageUp,EVENT_CODE.pageDown].includes(io)&&(Co(io),Hn.stopPropagation(),Hn.preventDefault()),[EVENT_CODE.enter,EVENT_CODE.space,EVENT_CODE.numpadEnter].includes(io)&&At.value===null&&kt.value===null&&(Hn.preventDefault(),Lt(Ne.value,!1))},Co=Hn=>{var io;const{up:mo,down:zn,left:qn,right:so,home:Dn,end:to,pageUp:_o,pageDown:xo}=EVENT_CODE,Uo={year:{[mo]:-4,[zn]:4,[qn]:-1,[so]:1,offset:(Ao,Wo)=>Ao.setFullYear(Ao.getFullYear()+Wo)},month:{[mo]:-4,[zn]:4,[qn]:-1,[so]:1,offset:(Ao,Wo)=>Ao.setMonth(Ao.getMonth()+Wo)},week:{[mo]:-1,[zn]:1,[qn]:-1,[so]:1,offset:(Ao,Wo)=>Ao.setDate(Ao.getDate()+Wo*7)},date:{[mo]:-7,[zn]:7,[qn]:-1,[so]:1,[Dn]:Ao=>-Ao.getDay(),[to]:Ao=>-Ao.getDay()+6,[_o]:Ao=>-new Date(Ao.getFullYear(),Ao.getMonth(),0).getDate(),[xo]:Ao=>new Date(Ao.getFullYear(),Ao.getMonth()+1,0).getDate(),offset:(Ao,Wo)=>Ao.setDate(Ao.getDate()+Wo)}},Vo=Ne.value.toDate();for(;Math.abs(Ne.value.diff(Vo,"year",!0))<1;){const Ao=Uo[An.value];if(!Ao)return;if(Ao.offset(Vo,isFunction$4(Ao[Hn])?Ao[Hn](Vo):(io=Ao[Hn])!=null?io:0),he&&he(Vo))break;const Wo=dayjs(Vo).locale(le.value);Ne.value=Wo,n("pick",Wo,!0);break}},ro=Hn=>{n("panel-change",Ne.value.toDate(),Hn,_n.value)};return watch(()=>Tn.value,Hn=>{if(["month","year"].includes(Hn)){_n.value=Hn;return}_n.value="date"},{immediate:!0}),watch(()=>_n.value,()=>{de==null||de.updatePopper()}),watch(()=>$e.value,Hn=>{Hn&&(Ne.value=ho())},{immediate:!0}),watch(()=>r.parsedValue,Hn=>{if(Hn){if(Tn.value==="dates"||Array.isArray(Hn))return;Ne.value=Hn}else Ne.value=ho()},{immediate:!0}),n("set-picker-option",["isValidValue",no]),n("set-picker-option",["formatToString",vo]),n("set-picker-option",["parseUserInput",Zn]),n("set-picker-option",["handleFocusPicker",yo]),(Hn,io)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(L).b(),unref(V).b(),{"has-sidebar":Hn.$slots.sidebar||unref(En),"has-time":unref(Fn)}])},[createBaseVNode("div",{class:normalizeClass(unref(L).e("body-wrapper"))},[renderSlot(Hn.$slots,"sidebar",{class:normalizeClass(unref(L).e("sidebar"))}),unref(En)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(L).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(pe),(mo,zn)=>(openBlock(),createElementBlock("button",{key:zn,type:"button",class:normalizeClass(unref(L).e("shortcut")),onClick:qn=>bn(mo)},toDisplayString(mo.text),11,_hoisted_1$m))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(L).e("body"))},[unref(Fn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(V).e("time-header"))},[createBaseVNode("span",{class:normalizeClass(unref(V).e("editor-wrap"))},[createVNode$1(unref(ElInput),{placeholder:unref(ae)("el.datepicker.selectDate"),"model-value":unref(kn),size:"small","validate-event":!1,onInput:io[0]||(io[0]=mo=>At.value=mo),onChange:lo},null,8,["placeholder","model-value"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(V).e("editor-wrap"))},[createVNode$1(unref(ElInput),{placeholder:unref(ae)("el.datepicker.selectTime"),"model-value":unref($n),size:"small","validate-event":!1,onFocus:Yn,onInput:io[1]||(io[1]=mo=>kt.value=mo),onChange:oo},null,8,["placeholder","model-value"]),createVNode$1(unref(TimePickPanel),{visible:Bn.value,format:unref(Un),"time-arrow-control":unref(xe),"parsed-value":Ne.value,onPick:po},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[unref(ClickOutside),Jn]])],2)):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{class:normalizeClass([unref(V).e("header"),(_n.value==="year"||_n.value==="month")&&unref(V).e("header--bordered")])},[createBaseVNode("span",{class:normalizeClass(unref(V).e("prev-btn"))},[createBaseVNode("button",{type:"button","aria-label":unref(ae)("el.datepicker.prevYear"),class:normalizeClass(["d-arrow-left",unref(L).e("icon-btn")]),onClick:io[2]||(io[2]=mo=>On(!1))},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})],10,_hoisted_2$e),withDirectives(createBaseVNode("button",{type:"button","aria-label":unref(ae)("el.datepicker.prevMonth"),class:normalizeClass([unref(L).e("icon-btn"),"arrow-left"]),onClick:io[3]||(io[3]=mo=>Sn(!1))},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_left_default))]),_:1})],10,_hoisted_3$9),[[vShow,_n.value==="date"]])],2),createBaseVNode("span",{role:"button",class:normalizeClass(unref(V).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:io[4]||(io[4]=withKeys(mo=>Mn("year"),["enter"])),onClick:io[5]||(io[5]=mo=>Mn("year"))},toDisplayString(unref(xn)),35),withDirectives(createBaseVNode("span",{role:"button","aria-live":"polite",tabindex:"0",class:normalizeClass([unref(V).e("header-label"),{active:_n.value==="month"}]),onKeydown:io[6]||(io[6]=withKeys(mo=>Mn("month"),["enter"])),onClick:io[7]||(io[7]=mo=>Mn("month"))},toDisplayString(unref(ae)(`el.datepicker.month${unref(Fe)+1}`)),35),[[vShow,_n.value==="date"]]),createBaseVNode("span",{class:normalizeClass(unref(V).e("next-btn"))},[withDirectives(createBaseVNode("button",{type:"button","aria-label":unref(ae)("el.datepicker.nextMonth"),class:normalizeClass([unref(L).e("icon-btn"),"arrow-right"]),onClick:io[8]||(io[8]=mo=>Sn(!0))},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1})],10,_hoisted_4$5),[[vShow,_n.value==="date"]]),createBaseVNode("button",{type:"button","aria-label":unref(ae)("el.datepicker.nextYear"),class:normalizeClass([unref(L).e("icon-btn"),"d-arrow-right"]),onClick:io[9]||(io[9]=mo=>On(!0))},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})],10,_hoisted_5$5)],2)],2),[[vShow,_n.value!=="time"]]),createBaseVNode("div",{class:normalizeClass(unref(L).e("content")),onKeydown:Oo},[_n.value==="date"?(openBlock(),createBlock(DateTable,{key:0,ref_key:"currentViewRef",ref:Ie,"selection-mode":unref(Tn),date:Ne.value,"parsed-value":Hn.parsedValue,"disabled-date":unref(he),"cell-class-name":unref(_e),onPick:hn},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):createCommentVNode("v-if",!0),_n.value==="year"?(openBlock(),createBlock(YearTable,{key:1,ref_key:"currentViewRef",ref:Ie,date:Ne.value,"disabled-date":unref(he),"parsed-value":Hn.parsedValue,onPick:Wn},null,8,["date","disabled-date","parsed-value"])):createCommentVNode("v-if",!0),_n.value==="month"?(openBlock(),createBlock(MonthTable,{key:2,ref_key:"currentViewRef",ref:Ie,date:Ne.value,"parsed-value":Hn.parsedValue,"disabled-date":unref(he),onPick:Ln},null,8,["date","parsed-value","disabled-date"])):createCommentVNode("v-if",!0)],34)],2)],2),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(L).e("footer"))},[withDirectives(createVNode$1(unref(ElButton),{text:"",size:"small",class:normalizeClass(unref(L).e("link-btn")),onClick:Vn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(ae)("el.datepicker.now")),1)]),_:1},8,["class"]),[[vShow,unref(Tn)!=="dates"]]),createVNode$1(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(L).e("link-btn")),onClick:Nn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(ae)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[vShow,unref(In)&&_n.value==="date"]])],2))}});var DatePickPanel=_export_sfc$1(_sfc_main$I,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const panelDateRangeProps=buildProps({...panelSharedProps,...panelRangeSharedProps}),useShortcut=g=>{const{emit:n}=getCurrentInstance(),r=useAttrs$1(),$=useSlots();return L=>{const V=isFunction$4(L.value)?L.value():L.value;if(V){n("pick",[dayjs(V[0]).locale(g.value),dayjs(V[1]).locale(g.value)]);return}L.onClick&&L.onClick({attrs:r,slots:$,emit:n})}},useRangePicker=(g,{defaultValue:n,leftDate:r,rightDate:$,unit:L,onParsedValueChanged:V})=>{const{emit:oe}=getCurrentInstance(),{pickerNs:re}=inject(ROOT_PICKER_INJECTION_KEY),ae=useNamespace("date-range-picker"),{t:le,lang:ue}=useLocale(),de=useShortcut(ue),pe=ref(),he=ref(),_e=ref({endDate:null,selecting:!1}),Oe=Ne=>{_e.value=Ne},xe=(Ne=!1)=>{const ze=unref(pe),Ue=unref(he);isValidRange([ze,Ue])&&oe("pick",[ze,Ue],Ne)},$e=Ne=>{_e.value.selecting=Ne,Ne||(_e.value.endDate=null)},Ie=()=>{const[Ne,ze]=getDefaultValue(unref(n),{lang:unref(ue),unit:L,unlinkPanels:g.unlinkPanels});pe.value=void 0,he.value=void 0,r.value=Ne,$.value=ze};return watch(n,Ne=>{Ne&&Ie()},{immediate:!0}),watch(()=>g.parsedValue,Ne=>{if(isArray$7(Ne)&&Ne.length===2){const[ze,Ue]=Ne;pe.value=ze,r.value=ze,he.value=Ue,V(unref(pe),unref(he))}else Ie()},{immediate:!0}),{minDate:pe,maxDate:he,rangeState:_e,lang:ue,ppNs:re,drpNs:ae,handleChangeRange:Oe,handleRangeConfirm:xe,handleShortcutClick:de,onSelect:$e,t:le}},_hoisted_1$l=["onClick"],_hoisted_2$d=["disabled"],_hoisted_3$8=["disabled"],_hoisted_4$4=["disabled"],_hoisted_5$4=["disabled"],unit$1="month",_sfc_main$H=defineComponent({__name:"panel-date-range",props:panelDateRangeProps,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(g,{emit:n}){const r=g,$=inject("EP_PICKER_BASE"),{disabledDate:L,cellClassName:V,format:oe,defaultTime:re,arrowControl:ae,clearable:le}=$.props,ue=toRef($.props,"shortcuts"),de=toRef($.props,"defaultValue"),{lang:pe}=useLocale(),he=ref(dayjs().locale(pe.value)),_e=ref(dayjs().locale(pe.value).add(1,unit$1)),{minDate:Oe,maxDate:xe,rangeState:$e,ppNs:Ie,drpNs:Ne,handleChangeRange:ze,handleRangeConfirm:Ue,handleShortcutClick:Fe,onSelect:qe,t:Et}=useRangePicker(r,{defaultValue:de,leftDate:he,rightDate:_e,unit:unit$1,onParsedValueChanged:zn}),At=ref({min:null,max:null}),kt=ref({min:null,max:null}),Dt=computed(()=>`${he.value.year()} ${Et("el.datepicker.year")} ${Et(`el.datepicker.month${he.value.month()+1}`)}`),jt=computed(()=>`${_e.value.year()} ${Et("el.datepicker.year")} ${Et(`el.datepicker.month${_e.value.month()+1}`)}`),Lt=computed(()=>he.value.year()),hn=computed(()=>he.value.month()),Sn=computed(()=>_e.value.year()),On=computed(()=>_e.value.month()),_n=computed(()=>!!ue.value.length),xn=computed(()=>At.value.min!==null?At.value.min:Oe.value?Oe.value.format(Ln.value):""),bn=computed(()=>At.value.max!==null?At.value.max:xe.value||Oe.value?(xe.value||Oe.value).format(Ln.value):""),Tn=computed(()=>kt.value.min!==null?kt.value.min:Oe.value?Oe.value.format(En.value):""),An=computed(()=>kt.value.max!==null?kt.value.max:xe.value||Oe.value?(xe.value||Oe.value).format(En.value):""),En=computed(()=>extractTimeFormat(oe)),Ln=computed(()=>extractDateFormat(oe)),Wn=()=>{he.value=he.value.subtract(1,"year"),r.unlinkPanels||(_e.value=he.value.add(1,"month")),$n("year")},Mn=()=>{he.value=he.value.subtract(1,"month"),r.unlinkPanels||(_e.value=he.value.add(1,"month")),$n("month")},Fn=()=>{r.unlinkPanels?_e.value=_e.value.add(1,"year"):(he.value=he.value.add(1,"year"),_e.value=he.value.add(1,"month")),$n("year")},In=()=>{r.unlinkPanels?_e.value=_e.value.add(1,"month"):(he.value=he.value.add(1,"month"),_e.value=he.value.add(1,"month")),$n("month")},Nn=()=>{he.value=he.value.add(1,"year"),$n("year")},Vn=()=>{he.value=he.value.add(1,"month"),$n("month")},Un=()=>{_e.value=_e.value.subtract(1,"year"),$n("year")},Gn=()=>{_e.value=_e.value.subtract(1,"month"),$n("month")},$n=qn=>{n("panel-change",[he.value.toDate(),_e.value.toDate()],qn)},kn=computed(()=>{const qn=(hn.value+1)%12,so=hn.value+1>=12?1:0;return r.unlinkPanels&&new Date(Lt.value+so,qn)<new Date(Sn.value,On.value)}),Bn=computed(()=>r.unlinkPanels&&Sn.value*12+On.value-(Lt.value*12+hn.value+1)>=12),Yn=computed(()=>!(Oe.value&&xe.value&&!$e.value.selecting&&isValidRange([Oe.value,xe.value]))),Jn=computed(()=>r.type==="datetime"||r.type==="datetimerange"),Kn=(qn,so)=>{if(qn)return re?dayjs(re[so]||re).locale(pe.value).year(qn.year()).month(qn.month()).date(qn.date()):qn},po=(qn,so=!0)=>{const Dn=qn.minDate,to=qn.maxDate,_o=Kn(Dn,0),xo=Kn(to,1);xe.value===xo&&Oe.value===_o||(n("calendar-change",[Dn.toDate(),to&&to.toDate()]),xe.value=xo,Oe.value=_o,!(!so||Jn.value)&&Ue())},oo=ref(!1),lo=ref(!1),no=()=>{oo.value=!1},vo=()=>{lo.value=!1},Zn=(qn,so)=>{At.value[so]=qn;const Dn=dayjs(qn,Ln.value).locale(pe.value);if(Dn.isValid()){if(L&&L(Dn.toDate()))return;so==="min"?(he.value=Dn,Oe.value=(Oe.value||he.value).year(Dn.year()).month(Dn.month()).date(Dn.date()),r.unlinkPanels||(_e.value=Dn.add(1,"month"),xe.value=Oe.value.add(1,"month"))):(_e.value=Dn,xe.value=(xe.value||_e.value).year(Dn.year()).month(Dn.month()).date(Dn.date()),r.unlinkPanels||(he.value=Dn.subtract(1,"month"),Oe.value=xe.value.subtract(1,"month")))}},ho=(qn,so)=>{At.value[so]=null},yo=(qn,so)=>{kt.value[so]=qn;const Dn=dayjs(qn,En.value).locale(pe.value);Dn.isValid()&&(so==="min"?(oo.value=!0,Oe.value=(Oe.value||he.value).hour(Dn.hour()).minute(Dn.minute()).second(Dn.second()),(!xe.value||xe.value.isBefore(Oe.value))&&(xe.value=Oe.value)):(lo.value=!0,xe.value=(xe.value||_e.value).hour(Dn.hour()).minute(Dn.minute()).second(Dn.second()),_e.value=xe.value,xe.value&&xe.value.isBefore(Oe.value)&&(Oe.value=xe.value)))},Oo=(qn,so)=>{kt.value[so]=null,so==="min"?(he.value=Oe.value,oo.value=!1):(_e.value=xe.value,lo.value=!1)},Co=(qn,so,Dn)=>{kt.value.min||(qn&&(he.value=qn,Oe.value=(Oe.value||he.value).hour(qn.hour()).minute(qn.minute()).second(qn.second())),Dn||(oo.value=so),(!xe.value||xe.value.isBefore(Oe.value))&&(xe.value=Oe.value,_e.value=qn))},ro=(qn,so,Dn)=>{kt.value.max||(qn&&(_e.value=qn,xe.value=(xe.value||_e.value).hour(qn.hour()).minute(qn.minute()).second(qn.second())),Dn||(lo.value=so),xe.value&&xe.value.isBefore(Oe.value)&&(Oe.value=xe.value))},Hn=()=>{he.value=getDefaultValue(unref(de),{lang:unref(pe),unit:"month",unlinkPanels:r.unlinkPanels})[0],_e.value=he.value.add(1,"month"),n("pick",null)},io=qn=>isArray$7(qn)?qn.map(so=>so.format(oe)):qn.format(oe),mo=qn=>isArray$7(qn)?qn.map(so=>dayjs(so,oe).locale(pe.value)):dayjs(qn,oe).locale(pe.value);function zn(qn,so){if(r.unlinkPanels&&so){const Dn=(qn==null?void 0:qn.year())||0,to=(qn==null?void 0:qn.month())||0,_o=so.year(),xo=so.month();_e.value=Dn===_o&&to===xo?so.add(1,unit$1):so}else _e.value=he.value.add(1,unit$1),so&&(_e.value=_e.value.hour(so.hour()).minute(so.minute()).second(so.second()))}return n("set-picker-option",["isValidValue",isValidRange]),n("set-picker-option",["parseUserInput",mo]),n("set-picker-option",["formatToString",io]),n("set-picker-option",["handleClear",Hn]),(qn,so)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(Ie).b(),unref(Ne).b(),{"has-sidebar":qn.$slots.sidebar||unref(_n),"has-time":unref(Jn)}])},[createBaseVNode("div",{class:normalizeClass(unref(Ie).e("body-wrapper"))},[renderSlot(qn.$slots,"sidebar",{class:normalizeClass(unref(Ie).e("sidebar"))}),unref(_n)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Ie).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(ue),(Dn,to)=>(openBlock(),createElementBlock("button",{key:to,type:"button",class:normalizeClass(unref(Ie).e("shortcut")),onClick:_o=>unref(Fe)(Dn)},toDisplayString(Dn.text),11,_hoisted_1$l))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(Ie).e("body"))},[unref(Jn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Ne).e("time-header"))},[createBaseVNode("span",{class:normalizeClass(unref(Ne).e("editors-wrap"))},[createBaseVNode("span",{class:normalizeClass(unref(Ne).e("time-picker-wrap"))},[createVNode$1(unref(ElInput),{size:"small",disabled:unref($e).selecting,placeholder:unref(Et)("el.datepicker.startDate"),class:normalizeClass(unref(Ne).e("editor")),"model-value":unref(xn),"validate-event":!1,onInput:so[0]||(so[0]=Dn=>Zn(Dn,"min")),onChange:so[1]||(so[1]=Dn=>ho(Dn,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(Ne).e("time-picker-wrap"))},[createVNode$1(unref(ElInput),{size:"small",class:normalizeClass(unref(Ne).e("editor")),disabled:unref($e).selecting,placeholder:unref(Et)("el.datepicker.startTime"),"model-value":unref(Tn),"validate-event":!1,onFocus:so[2]||(so[2]=Dn=>oo.value=!0),onInput:so[3]||(so[3]=Dn=>yo(Dn,"min")),onChange:so[4]||(so[4]=Dn=>Oo(Dn,"min"))},null,8,["class","disabled","placeholder","model-value"]),createVNode$1(unref(TimePickPanel),{visible:oo.value,format:unref(En),"datetime-role":"start","time-arrow-control":unref(ae),"parsed-value":he.value,onPick:Co},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[unref(ClickOutside),no]])],2),createBaseVNode("span",null,[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1})]),createBaseVNode("span",{class:normalizeClass([unref(Ne).e("editors-wrap"),"is-right"])},[createBaseVNode("span",{class:normalizeClass(unref(Ne).e("time-picker-wrap"))},[createVNode$1(unref(ElInput),{size:"small",class:normalizeClass(unref(Ne).e("editor")),disabled:unref($e).selecting,placeholder:unref(Et)("el.datepicker.endDate"),"model-value":unref(bn),readonly:!unref(Oe),"validate-event":!1,onInput:so[5]||(so[5]=Dn=>Zn(Dn,"max")),onChange:so[6]||(so[6]=Dn=>ho(Dn,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(Ne).e("time-picker-wrap"))},[createVNode$1(unref(ElInput),{size:"small",class:normalizeClass(unref(Ne).e("editor")),disabled:unref($e).selecting,placeholder:unref(Et)("el.datepicker.endTime"),"model-value":unref(An),readonly:!unref(Oe),"validate-event":!1,onFocus:so[7]||(so[7]=Dn=>unref(Oe)&&(lo.value=!0)),onInput:so[8]||(so[8]=Dn=>yo(Dn,"max")),onChange:so[9]||(so[9]=Dn=>Oo(Dn,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),createVNode$1(unref(TimePickPanel),{"datetime-role":"end",visible:lo.value,format:unref(En),"time-arrow-control":unref(ae),"parsed-value":_e.value,onPick:ro},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[unref(ClickOutside),vo]])],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([[unref(Ie).e("content"),unref(Ne).e("content")],"is-left"])},[createBaseVNode("div",{class:normalizeClass(unref(Ne).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(Ie).e("icon-btn"),"d-arrow-left"]),onClick:Wn},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})],2),createBaseVNode("button",{type:"button",class:normalizeClass([unref(Ie).e("icon-btn"),"arrow-left"]),onClick:Mn},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_left_default))]),_:1})],2),qn.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(Bn),class:normalizeClass([[unref(Ie).e("icon-btn"),{"is-disabled":!unref(Bn)}],"d-arrow-right"]),onClick:Nn},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})],10,_hoisted_2$d)):createCommentVNode("v-if",!0),qn.unlinkPanels?(openBlock(),createElementBlock("button",{key:1,type:"button",disabled:!unref(kn),class:normalizeClass([[unref(Ie).e("icon-btn"),{"is-disabled":!unref(kn)}],"arrow-right"]),onClick:Vn},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1})],10,_hoisted_3$8)):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString(unref(Dt)),1)],2),createVNode$1(DateTable,{"selection-mode":"range",date:he.value,"min-date":unref(Oe),"max-date":unref(xe),"range-state":unref($e),"disabled-date":unref(L),"cell-class-name":unref(V),onChangerange:unref(ze),onPick:po,onSelect:unref(qe)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),createBaseVNode("div",{class:normalizeClass([[unref(Ie).e("content"),unref(Ne).e("content")],"is-right"])},[createBaseVNode("div",{class:normalizeClass(unref(Ne).e("header"))},[qn.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(Bn),class:normalizeClass([[unref(Ie).e("icon-btn"),{"is-disabled":!unref(Bn)}],"d-arrow-left"]),onClick:Un},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})],10,_hoisted_4$4)):createCommentVNode("v-if",!0),qn.unlinkPanels?(openBlock(),createElementBlock("button",{key:1,type:"button",disabled:!unref(kn),class:normalizeClass([[unref(Ie).e("icon-btn"),{"is-disabled":!unref(kn)}],"arrow-left"]),onClick:Gn},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_left_default))]),_:1})],10,_hoisted_5$4)):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button",class:normalizeClass([unref(Ie).e("icon-btn"),"d-arrow-right"]),onClick:Fn},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})],2),createBaseVNode("button",{type:"button",class:normalizeClass([unref(Ie).e("icon-btn"),"arrow-right"]),onClick:In},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1})],2),createBaseVNode("div",null,toDisplayString(unref(jt)),1)],2),createVNode$1(DateTable,{"selection-mode":"range",date:_e.value,"min-date":unref(Oe),"max-date":unref(xe),"range-state":unref($e),"disabled-date":unref(L),"cell-class-name":unref(V),onChangerange:unref(ze),onPick:po,onSelect:unref(qe)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),unref(Jn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Ie).e("footer"))},[unref(le)?(openBlock(),createBlock(unref(ElButton),{key:0,text:"",size:"small",class:normalizeClass(unref(Ie).e("link-btn")),onClick:Hn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(Et)("el.datepicker.clear")),1)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createVNode$1(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(Ie).e("link-btn")),disabled:unref(Yn),onClick:so[10]||(so[10]=Dn=>unref(Ue)(!1))},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(Et)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):createCommentVNode("v-if",!0)],2))}});var DateRangePickPanel=_export_sfc$1(_sfc_main$H,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const panelMonthRangeProps=buildProps({...panelRangeSharedProps}),panelMonthRangeEmits=["pick","set-picker-option"],useMonthRangeHeader=({unlinkPanels:g,leftDate:n,rightDate:r})=>{const{t:$}=useLocale(),L=()=>{n.value=n.value.subtract(1,"year"),g.value||(r.value=r.value.subtract(1,"year"))},V=()=>{g.value||(n.value=n.value.add(1,"year")),r.value=r.value.add(1,"year")},oe=()=>{n.value=n.value.add(1,"year")},re=()=>{r.value=r.value.subtract(1,"year")},ae=computed(()=>`${n.value.year()} ${$("el.datepicker.year")}`),le=computed(()=>`${r.value.year()} ${$("el.datepicker.year")}`),ue=computed(()=>n.value.year()),de=computed(()=>r.value.year()===n.value.year()?n.value.year()+1:r.value.year());return{leftPrevYear:L,rightNextYear:V,leftNextYear:oe,rightPrevYear:re,leftLabel:ae,rightLabel:le,leftYear:ue,rightYear:de}},_hoisted_1$k=["onClick"],_hoisted_2$c=["disabled"],_hoisted_3$7=["disabled"],unit="year",__default__$u=defineComponent({name:"DatePickerMonthRange"}),_sfc_main$G=defineComponent({...__default__$u,props:panelMonthRangeProps,emits:panelMonthRangeEmits,setup(g,{emit:n}){const r=g,{lang:$}=useLocale(),L=inject("EP_PICKER_BASE"),{shortcuts:V,disabledDate:oe,format:re}=L.props,ae=toRef(L.props,"defaultValue"),le=ref(dayjs().locale($.value)),ue=ref(dayjs().locale($.value).add(1,unit)),{minDate:de,maxDate:pe,rangeState:he,ppNs:_e,drpNs:Oe,handleChangeRange:xe,handleRangeConfirm:$e,handleShortcutClick:Ie,onSelect:Ne}=useRangePicker(r,{defaultValue:ae,leftDate:le,rightDate:ue,unit,onParsedValueChanged:On}),ze=computed(()=>!!V.length),{leftPrevYear:Ue,rightNextYear:Fe,leftNextYear:qe,rightPrevYear:Et,leftLabel:At,rightLabel:kt,leftYear:Dt,rightYear:jt}=useMonthRangeHeader({unlinkPanels:toRef(r,"unlinkPanels"),leftDate:le,rightDate:ue}),Lt=computed(()=>r.unlinkPanels&&jt.value>Dt.value+1),hn=(_n,xn=!0)=>{const bn=_n.minDate,Tn=_n.maxDate;pe.value===Tn&&de.value===bn||(pe.value=Tn,de.value=bn,xn&&$e())},Sn=_n=>_n.map(xn=>xn.format(re));function On(_n,xn){if(r.unlinkPanels&&xn){const bn=(_n==null?void 0:_n.year())||0,Tn=xn.year();ue.value=bn===Tn?xn.add(1,unit):xn}else ue.value=le.value.add(1,unit)}return n("set-picker-option",["formatToString",Sn]),(_n,xn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(_e).b(),unref(Oe).b(),{"has-sidebar":Boolean(_n.$slots.sidebar)||unref(ze)}])},[createBaseVNode("div",{class:normalizeClass(unref(_e).e("body-wrapper"))},[renderSlot(_n.$slots,"sidebar",{class:normalizeClass(unref(_e).e("sidebar"))}),unref(ze)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(_e).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(V),(bn,Tn)=>(openBlock(),createElementBlock("button",{key:Tn,type:"button",class:normalizeClass(unref(_e).e("shortcut")),onClick:An=>unref(Ie)(bn)},toDisplayString(bn.text),11,_hoisted_1$k))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(_e).e("body"))},[createBaseVNode("div",{class:normalizeClass([[unref(_e).e("content"),unref(Oe).e("content")],"is-left"])},[createBaseVNode("div",{class:normalizeClass(unref(Oe).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(_e).e("icon-btn"),"d-arrow-left"]),onClick:xn[0]||(xn[0]=(...bn)=>unref(Ue)&&unref(Ue)(...bn))},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})],2),_n.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(Lt),class:normalizeClass([[unref(_e).e("icon-btn"),{[unref(_e).is("disabled")]:!unref(Lt)}],"d-arrow-right"]),onClick:xn[1]||(xn[1]=(...bn)=>unref(qe)&&unref(qe)(...bn))},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})],10,_hoisted_2$c)):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString(unref(At)),1)],2),createVNode$1(MonthTable,{"selection-mode":"range",date:le.value,"min-date":unref(de),"max-date":unref(pe),"range-state":unref(he),"disabled-date":unref(oe),onChangerange:unref(xe),onPick:hn,onSelect:unref(Ne)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),createBaseVNode("div",{class:normalizeClass([[unref(_e).e("content"),unref(Oe).e("content")],"is-right"])},[createBaseVNode("div",{class:normalizeClass(unref(Oe).e("header"))},[_n.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(Lt),class:normalizeClass([[unref(_e).e("icon-btn"),{"is-disabled":!unref(Lt)}],"d-arrow-left"]),onClick:xn[2]||(xn[2]=(...bn)=>unref(Et)&&unref(Et)(...bn))},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})],10,_hoisted_3$7)):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button",class:normalizeClass([unref(_e).e("icon-btn"),"d-arrow-right"]),onClick:xn[3]||(xn[3]=(...bn)=>unref(Fe)&&unref(Fe)(...bn))},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})],2),createBaseVNode("div",null,toDisplayString(unref(kt)),1)],2),createVNode$1(MonthTable,{"selection-mode":"range",date:ue.value,"min-date":unref(de),"max-date":unref(pe),"range-state":unref(he),"disabled-date":unref(oe),onChangerange:unref(xe),onPick:hn,onSelect:unref(Ne)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var MonthRangePickPanel=_export_sfc$1(_sfc_main$G,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const getPanel=function(g){switch(g){case"daterange":case"datetimerange":return DateRangePickPanel;case"monthrange":return MonthRangePickPanel;default:return DatePickPanel}};dayjs.extend(localeData),dayjs.extend(advancedFormat),dayjs.extend(customParseFormat),dayjs.extend(weekOfYear),dayjs.extend(weekYear),dayjs.extend(dayOfYear),dayjs.extend(isSameOrAfter),dayjs.extend(isSameOrBefore);var DatePicker=defineComponent({name:"ElDatePicker",install:null,props:{...timePickerDefaultProps,...datePickerProps},emits:["update:modelValue"],setup(g,{expose:n,emit:r,slots:$}){const L=useNamespace("picker-panel");provide("ElPopperOptions",reactive(toRef(g,"popperOptions"))),provide(ROOT_PICKER_INJECTION_KEY,{slots:$,pickerNs:L});const V=ref();n({focus:(re=!0)=>{var ae;(ae=V.value)==null||ae.focus(re)},handleOpen:()=>{var re;(re=V.value)==null||re.handleOpen()},handleClose:()=>{var re;(re=V.value)==null||re.handleClose()}});const oe=re=>{r("update:modelValue",re)};return()=>{var re;const ae=(re=g.format)!=null?re:DEFAULT_FORMATS_DATEPICKER[g.type]||DEFAULT_FORMATS_DATE,le=getPanel(g.type);return createVNode$1(CommonPicker,mergeProps(g,{format:ae,type:g.type,ref:V,"onUpdate:modelValue":oe}),{default:ue=>createVNode$1(le,ue,null),"range-separator":$["range-separator"]})}}});const _DatePicker=DatePicker;_DatePicker.install=g=>{g.component(_DatePicker.name,_DatePicker)};let inputNumberProps,inputNumberEmits,_hoisted_1$j,_hoisted_2$b,__default__$t,_sfc_main$F;ElDatePicker=_DatePicker,inputNumberProps=buildProps({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:useSizeProp,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:g=>g===null||isNumber$2(g)||["min","max"].includes(g),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:g=>g>=0&&g===Number.parseInt(`${g}`,10)},validateEvent:{type:Boolean,default:!0}}),inputNumberEmits={[CHANGE_EVENT]:(g,n)=>n!==g,blur:g=>g instanceof FocusEvent,focus:g=>g instanceof FocusEvent,[INPUT_EVENT]:g=>isNumber$2(g)||isNil(g),[UPDATE_MODEL_EVENT]:g=>isNumber$2(g)||isNil(g)},_hoisted_1$j=["aria-label","onKeydown"],_hoisted_2$b=["aria-label","onKeydown"],__default__$t=defineComponent({name:"ElInputNumber"}),_sfc_main$F=defineComponent({...__default__$t,props:inputNumberProps,emits:inputNumberEmits,setup(g,{expose:n,emit:r}){const $=g,{t:L}=useLocale(),V=useNamespace("input-number"),oe=ref(),re=reactive({currentValue:$.modelValue,userInput:null}),{formItem:ae}=useFormItem(),le=computed(()=>isNumber$2($.modelValue)&&$.modelValue<=$.min),ue=computed(()=>isNumber$2($.modelValue)&&$.modelValue>=$.max),de=computed(()=>{const Lt=$e($.step);return isUndefined$2($.precision)?Math.max($e($.modelValue),Lt):(Lt>$.precision,$.precision)}),pe=computed(()=>$.controls&&$.controlsPosition==="right"),he=useFormSize(),_e=useFormDisabled(),Oe=computed(()=>{if(re.userInput!==null)return re.userInput;let Lt=re.currentValue;if(isNil(Lt))return"";if(isNumber$2(Lt)){if(Number.isNaN(Lt))return"";isUndefined$2($.precision)||(Lt=Lt.toFixed($.precision))}return Lt}),xe=(Lt,hn)=>{if(isUndefined$2(hn)&&(hn=de.value),hn===0)return Math.round(Lt);let Sn=String(Lt);const On=Sn.indexOf(".");if(On===-1||!Sn.replace(".","").split("")[On+hn])return Lt;const _n=Sn.length;return Sn.charAt(_n-1)==="5"&&(Sn=`${Sn.slice(0,Math.max(0,_n-1))}6`),Number.parseFloat(Number(Sn).toFixed(hn))},$e=Lt=>{if(isNil(Lt))return 0;const hn=Lt.toString(),Sn=hn.indexOf(".");let On=0;return Sn!==-1&&(On=hn.length-Sn-1),On},Ie=(Lt,hn=1)=>isNumber$2(Lt)?xe(Lt+$.step*hn):re.currentValue,Ne=()=>{if($.readonly||_e.value||ue.value)return;const Lt=Number(Oe.value)||0,hn=Ie(Lt);Fe(hn),r(INPUT_EVENT,re.currentValue)},ze=()=>{if($.readonly||_e.value||le.value)return;const Lt=Number(Oe.value)||0,hn=Ie(Lt,-1);Fe(hn),r(INPUT_EVENT,re.currentValue)},Ue=(Lt,hn)=>{const{max:Sn,min:On,step:_n,precision:xn,stepStrictly:bn,valueOnClear:Tn}=$;let An=Number(Lt);if(isNil(Lt)||Number.isNaN(An))return null;if(Lt===""){if(Tn===null)return null;An=isString$4(Tn)?{min:On,max:Sn}[Tn]:Tn}return bn&&(An=xe(Math.round(An/_n)*_n,xn)),isUndefined$2(xn)||(An=xe(An,xn)),(An>Sn||An<On)&&(An=An>Sn?Sn:On,hn&&r(UPDATE_MODEL_EVENT,An)),An},Fe=(Lt,hn=!0)=>{var Sn;const On=re.currentValue,_n=Ue(Lt);if(!hn){r(UPDATE_MODEL_EVENT,_n);return}On!==_n&&(re.userInput=null,r(UPDATE_MODEL_EVENT,_n),r(CHANGE_EVENT,_n,On),$.validateEvent&&((Sn=ae==null?void 0:ae.validate)==null||Sn.call(ae,"change").catch(xn=>{})),re.currentValue=_n)},qe=Lt=>{re.userInput=Lt;const hn=Lt===""?null:Number(Lt);r(INPUT_EVENT,hn),Fe(hn,!1)},Et=Lt=>{const hn=Lt!==""?Number(Lt):"";(isNumber$2(hn)&&!Number.isNaN(hn)||Lt==="")&&Fe(hn),re.userInput=null},At=()=>{var Lt,hn;(hn=(Lt=oe.value)==null?void 0:Lt.focus)==null||hn.call(Lt)},kt=()=>{var Lt,hn;(hn=(Lt=oe.value)==null?void 0:Lt.blur)==null||hn.call(Lt)},Dt=Lt=>{r("focus",Lt)},jt=Lt=>{var hn;r("blur",Lt),$.validateEvent&&((hn=ae==null?void 0:ae.validate)==null||hn.call(ae,"blur").catch(Sn=>{}))};return watch(()=>$.modelValue,Lt=>{const hn=Ue(re.userInput),Sn=Ue(Lt,!0);!isNumber$2(hn)&&(!hn||hn!==Sn)&&(re.currentValue=Sn,re.userInput=null)},{immediate:!0}),onMounted(()=>{var Lt;const{min:hn,max:Sn,modelValue:On}=$,_n=(Lt=oe.value)==null?void 0:Lt.input;if(_n.setAttribute("role","spinbutton"),Number.isFinite(Sn)?_n.setAttribute("aria-valuemax",String(Sn)):_n.removeAttribute("aria-valuemax"),Number.isFinite(hn)?_n.setAttribute("aria-valuemin",String(hn)):_n.removeAttribute("aria-valuemin"),_n.setAttribute("aria-valuenow",String(re.currentValue)),_n.setAttribute("aria-disabled",String(_e.value)),!isNumber$2(On)&&On!=null){let xn=Number(On);Number.isNaN(xn)&&(xn=null),r(UPDATE_MODEL_EVENT,xn)}}),onUpdated(()=>{var Lt;const hn=(Lt=oe.value)==null?void 0:Lt.input;hn==null||hn.setAttribute("aria-valuenow",`${re.currentValue}`)}),n({focus:At,blur:kt}),(Lt,hn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(V).b(),unref(V).m(unref(he)),unref(V).is("disabled",unref(_e)),unref(V).is("without-controls",!Lt.controls),unref(V).is("controls-right",unref(pe))]),onDragstart:hn[1]||(hn[1]=withModifiers(()=>{},["prevent"]))},[Lt.controls?withDirectives((openBlock(),createElementBlock("span",{key:0,role:"button","aria-label":unref(L)("el.inputNumber.decrease"),class:normalizeClass([unref(V).e("decrease"),unref(V).is("disabled",unref(le))]),onKeydown:withKeys(ze,["enter"])},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[unref(pe)?(openBlock(),createBlock(unref(arrow_down_default),{key:0})):(openBlock(),createBlock(unref(minus_default),{key:1}))]),_:1})],42,_hoisted_1$j)),[[unref(vRepeatClick),ze]]):createCommentVNode("v-if",!0),Lt.controls?withDirectives((openBlock(),createElementBlock("span",{key:1,role:"button","aria-label":unref(L)("el.inputNumber.increase"),class:normalizeClass([unref(V).e("increase"),unref(V).is("disabled",unref(ue))]),onKeydown:withKeys(Ne,["enter"])},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[unref(pe)?(openBlock(),createBlock(unref(arrow_up_default),{key:0})):(openBlock(),createBlock(unref(plus_default),{key:1}))]),_:1})],42,_hoisted_2$b)),[[unref(vRepeatClick),Ne]]):createCommentVNode("v-if",!0),createVNode$1(unref(ElInput),{id:Lt.id,ref_key:"input",ref:oe,type:"number",step:Lt.step,"model-value":unref(Oe),placeholder:Lt.placeholder,readonly:Lt.readonly,disabled:unref(_e),size:unref(he),max:Lt.max,min:Lt.min,name:Lt.name,label:Lt.label,"validate-event":!1,onWheel:hn[0]||(hn[0]=withModifiers(()=>{},["prevent"])),onKeydown:[withKeys(withModifiers(Ne,["prevent"]),["up"]),withKeys(withModifiers(ze,["prevent"]),["down"])],onBlur:jt,onFocus:Dt,onInput:qe,onChange:Et},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var InputNumber=_export_sfc$1(_sfc_main$F,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);ElInputNumber=withInstall(InputNumber);class SubMenu$1{constructor(n,r){this.parent=n,this.domNode=r,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(n){n===this.subMenuItems.length?n=0:n<0&&(n=this.subMenuItems.length-1),this.subMenuItems[n].focus(),this.subIndex=n}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,r=>{r.addEventListener("keydown",$=>{let L=!1;switch($.code){case EVENT_CODE.down:{this.gotoSubIndex(this.subIndex+1),L=!0;break}case EVENT_CODE.up:{this.gotoSubIndex(this.subIndex-1),L=!0;break}case EVENT_CODE.tab:{triggerEvent(n,"mouseleave");break}case EVENT_CODE.enter:case EVENT_CODE.space:{L=!0,$.currentTarget.click();break}}return L&&($.preventDefault(),$.stopPropagation()),!1})})}}class MenuItem$1{constructor(n,r){this.domNode=n,this.submenu=null,this.submenu=null,this.init(r)}init(n){this.domNode.setAttribute("tabindex","0");const r=this.domNode.querySelector(`.${n}-menu`);r&&(this.submenu=new SubMenu$1(this,r)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",n=>{let r=!1;switch(n.code){case EVENT_CODE.down:{triggerEvent(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),r=!0;break}case EVENT_CODE.up:{triggerEvent(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),r=!0;break}case EVENT_CODE.tab:{triggerEvent(n.currentTarget,"mouseleave");break}case EVENT_CODE.enter:case EVENT_CODE.space:{r=!0,n.currentTarget.click();break}}r&&n.preventDefault()})}}class Menu$1{constructor(n,r){this.domNode=n,this.init(r)}init(n){const r=this.domNode.childNodes;Array.from(r).forEach($=>{$.nodeType===1&&new MenuItem$1($,n)})}}const _sfc_main$E=defineComponent({name:"ElMenuCollapseTransition",setup(){const g=useNamespace("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,r){addClass(n,`${g.namespace.value}-opacity-transition`),n.style.opacity="1",r()},onAfterEnter(n){removeClass(n,`${g.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),hasClass(n,g.m("collapse"))?(removeClass(n,g.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),addClass(n,g.m("collapse"))):(addClass(n,g.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),removeClass(n,g.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){addClass(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function _sfc_render$8(g,n,r,$,L,V){return openBlock(),createBlock(Transition,mergeProps({mode:"out-in"},g.listeners),{default:withCtx(()=>[renderSlot(g.$slots,"default")]),_:3},16)}var ElMenuCollapseTransition=_export_sfc$1(_sfc_main$E,[["render",_sfc_render$8],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function useMenu(g,n){const r=computed(()=>{let $=g.parent;const L=[n.value];for(;$.type.name!=="ElMenu";)$.props.index&&L.unshift($.props.index),$=$.parent;return L});return{parentMenu:computed(()=>{let $=g.parent;for(;$&&!["ElMenu","ElSubMenu"].includes($.type.name);)$=$.parent;return $}),indexPath:r}}function useMenuColor(g){return computed(()=>{const n=g.backgroundColor;return n?new TinyColor(n).shade(20).toString():""})}const useMenuCssVar=(g,n)=>{const r=useNamespace("menu");return computed(()=>r.cssVarBlock({"text-color":g.textColor||"","hover-text-color":g.textColor||"","bg-color":g.backgroundColor||"","hover-bg-color":useMenuColor(g).value||"","active-color":g.activeTextColor||"",level:`${n}`}))},subMenuProps=buildProps({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:iconPropType},expandOpenIcon:{type:iconPropType},collapseCloseIcon:{type:iconPropType},collapseOpenIcon:{type:iconPropType}}),COMPONENT_NAME$4="ElSubMenu";var SubMenu=defineComponent({name:COMPONENT_NAME$4,props:subMenuProps,setup(g,{slots:n,expose:r}){useDeprecated({from:"popper-append-to-body",replacement:"teleported",scope:COMPONENT_NAME$4,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},computed(()=>g.popperAppendToBody!==void 0));const $=getCurrentInstance(),{indexPath:L,parentMenu:V}=useMenu($,computed(()=>g.index)),oe=useNamespace("menu"),re=useNamespace("sub-menu"),ae=inject("rootMenu");ae||throwError(COMPONENT_NAME$4,"can not inject root menu");const le=inject(`subMenu:${V.value.uid}`);le||throwError(COMPONENT_NAME$4,"can not inject sub menu");const ue=ref({}),de=ref({});let pe;const he=ref(!1),_e=ref(),Oe=ref(null),xe=computed(()=>Dt.value==="horizontal"&&Ie.value?"bottom-start":"right-start"),$e=computed(()=>Dt.value==="horizontal"&&Ie.value||Dt.value==="vertical"&&!ae.props.collapse?g.expandCloseIcon&&g.expandOpenIcon?Fe.value?g.expandOpenIcon:g.expandCloseIcon:arrow_down_default:g.collapseCloseIcon&&g.collapseOpenIcon?Fe.value?g.collapseOpenIcon:g.collapseCloseIcon:arrow_right_default),Ie=computed(()=>le.level===0),Ne=computed(()=>{var bn;const Tn=(bn=g.teleported)!=null?bn:g.popperAppendToBody;return Tn===void 0?Ie.value:Tn}),ze=computed(()=>ae.props.collapse?`${oe.namespace.value}-zoom-in-left`:`${oe.namespace.value}-zoom-in-top`),Ue=computed(()=>Dt.value==="horizontal"&&Ie.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),Fe=computed(()=>ae.openedMenus.includes(g.index)),qe=computed(()=>{let bn=!1;return Object.values(ue.value).forEach(Tn=>{Tn.active&&(bn=!0)}),Object.values(de.value).forEach(Tn=>{Tn.active&&(bn=!0)}),bn}),Et=computed(()=>ae.props.backgroundColor||""),At=computed(()=>ae.props.activeTextColor||""),kt=computed(()=>ae.props.textColor||""),Dt=computed(()=>ae.props.mode),jt=reactive({index:g.index,indexPath:L,active:qe}),Lt=computed(()=>Dt.value!=="horizontal"?{color:kt.value}:{borderBottomColor:qe.value?ae.props.activeTextColor?At.value:"":"transparent",color:qe.value?At.value:kt.value}),hn=()=>{var bn,Tn,An;return(An=(Tn=(bn=Oe.value)==null?void 0:bn.popperRef)==null?void 0:Tn.popperInstanceRef)==null?void 0:An.destroy()},Sn=bn=>{bn||hn()},On=()=>{ae.props.menuTrigger==="hover"&&ae.props.mode==="horizontal"||ae.props.collapse&&ae.props.mode==="vertical"||g.disabled||ae.handleSubMenuClick({index:g.index,indexPath:L.value,active:qe.value})},_n=(bn,Tn=g.showTimeout)=>{var An;bn.type!=="focus"&&(ae.props.menuTrigger==="click"&&ae.props.mode==="horizontal"||!ae.props.collapse&&ae.props.mode==="vertical"||g.disabled||(le.mouseInChild.value=!0,pe==null||pe(),{stop:pe}=useTimeoutFn(()=>{ae.openMenu(g.index,L.value)},Tn),Ne.value&&((An=V.value.vnode.el)==null||An.dispatchEvent(new MouseEvent("mouseenter")))))},xn=(bn=!1)=>{var Tn,An;ae.props.menuTrigger==="click"&&ae.props.mode==="horizontal"||!ae.props.collapse&&ae.props.mode==="vertical"||(pe==null||pe(),le.mouseInChild.value=!1,{stop:pe}=useTimeoutFn(()=>!he.value&&ae.closeMenu(g.index,L.value),g.hideTimeout),Ne.value&&bn&&((Tn=$.parent)==null?void 0:Tn.type.name)==="ElSubMenu"&&((An=le.handleMouseleave)==null||An.call(le,!0)))};watch(()=>ae.props.collapse,bn=>Sn(Boolean(bn)));{const bn=An=>{de.value[An.index]=An},Tn=An=>{delete de.value[An.index]};provide(`subMenu:${$.uid}`,{addSubMenu:bn,removeSubMenu:Tn,handleMouseleave:xn,mouseInChild:he,level:le.level+1})}return r({opened:Fe}),onMounted(()=>{ae.addSubMenu(jt),le.addSubMenu(jt)}),onBeforeUnmount(()=>{le.removeSubMenu(jt),ae.removeSubMenu(jt)}),()=>{var bn;const Tn=[(bn=n.title)==null?void 0:bn.call(n),h$2(ElIcon,{class:re.e("icon-arrow"),style:{transform:Fe.value?g.expandCloseIcon&&g.expandOpenIcon||g.collapseCloseIcon&&g.collapseOpenIcon&&ae.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>isString$4($e.value)?h$2($.appContext.components[$e.value]):h$2($e.value)})],An=useMenuCssVar(ae.props,le.level+1),En=ae.isMenuPopup?h$2(ElTooltip,{ref:Oe,visible:Fe.value,effect:"light",pure:!0,offset:g.popperOffset,showArrow:!1,persistent:!0,popperClass:g.popperClass,placement:xe.value,teleported:Ne.value,fallbackPlacements:Ue.value,transition:ze.value,gpuAcceleration:!1},{content:()=>{var Ln;return h$2("div",{class:[oe.m(Dt.value),oe.m("popup-container"),g.popperClass],onMouseenter:Wn=>_n(Wn,100),onMouseleave:()=>xn(!0),onFocus:Wn=>_n(Wn,100)},[h$2("ul",{class:[oe.b(),oe.m("popup"),oe.m(`popup-${xe.value}`)],style:An.value},[(Ln=n.default)==null?void 0:Ln.call(n)])])},default:()=>h$2("div",{class:re.e("title"),style:[Lt.value,{backgroundColor:Et.value}],onClick:On},Tn)}):h$2(Fragment,{},[h$2("div",{class:re.e("title"),style:[Lt.value,{backgroundColor:Et.value}],ref:_e,onClick:On},Tn),h$2(_CollapseTransition,{},{default:()=>{var Ln;return withDirectives(h$2("ul",{role:"menu",class:[oe.b(),oe.m("inline")],style:An.value},[(Ln=n.default)==null?void 0:Ln.call(n)]),[[vShow,Fe.value]])}})]);return h$2("li",{class:[re.b(),re.is("active",qe.value),re.is("opened",Fe.value),re.is("disabled",g.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:Fe.value,onMouseenter:_n,onMouseleave:()=>xn(!0),onFocus:_n},[En])}}});const menuProps=buildProps({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:definePropType(Array),default:()=>mutable([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),checkIndexPath=g=>Array.isArray(g)&&g.every(n=>isString$4(n)),menuEmits={close:(g,n)=>isString$4(g)&&checkIndexPath(n),open:(g,n)=>isString$4(g)&&checkIndexPath(n),select:(g,n,r,$)=>isString$4(g)&&checkIndexPath(n)&&isObject$7(r)&&($===void 0||$ instanceof Promise)};var Menu=defineComponent({name:"ElMenu",props:menuProps,emits:menuEmits,setup(g,{emit:n,slots:r,expose:$}){const L=getCurrentInstance(),V=L.appContext.config.globalProperties.$router,oe=ref(),re=useNamespace("menu"),ae=useNamespace("sub-menu"),le=ref(-1),ue=ref(g.defaultOpeneds&&!g.collapse?g.defaultOpeneds.slice(0):[]),de=ref(g.defaultActive),pe=ref({}),he=ref({}),_e=computed(()=>g.mode==="horizontal"||g.mode==="vertical"&&g.collapse),Oe=()=>{const Dt=de.value&&pe.value[de.value];!Dt||g.mode==="horizontal"||g.collapse||Dt.indexPath.forEach(jt=>{const Lt=he.value[jt];Lt&&xe(jt,Lt.indexPath)})},xe=(Dt,jt)=>{ue.value.includes(Dt)||(g.uniqueOpened&&(ue.value=ue.value.filter(Lt=>jt.includes(Lt))),ue.value.push(Dt),n("open",Dt,jt))},$e=Dt=>{const jt=ue.value.indexOf(Dt);jt!==-1&&ue.value.splice(jt,1)},Ie=(Dt,jt)=>{$e(Dt),n("close",Dt,jt)},Ne=({index:Dt,indexPath:jt})=>{ue.value.includes(Dt)?Ie(Dt,jt):xe(Dt,jt)},ze=Dt=>{(g.mode==="horizontal"||g.collapse)&&(ue.value=[]);const{index:jt,indexPath:Lt}=Dt;if(!(isNil(jt)||isNil(Lt)))if(g.router&&V){const hn=Dt.route||jt,Sn=V.push(hn).then(On=>(On||(de.value=jt),On));n("select",jt,Lt,{index:jt,indexPath:Lt,route:hn},Sn)}else de.value=jt,n("select",jt,Lt,{index:jt,indexPath:Lt})},Ue=Dt=>{const jt=pe.value,Lt=jt[Dt]||de.value&&jt[de.value]||jt[g.defaultActive];Lt?de.value=Lt.index:de.value=Dt},Fe=()=>{var Dt,jt;if(!oe.value)return-1;const Lt=Array.from((jt=(Dt=oe.value)==null?void 0:Dt.childNodes)!=null?jt:[]).filter(Tn=>Tn.nodeName!=="#text"||Tn.nodeValue),hn=64,Sn=Number.parseInt(getComputedStyle(oe.value).paddingLeft,10),On=Number.parseInt(getComputedStyle(oe.value).paddingRight,10),_n=oe.value.clientWidth-Sn-On;let xn=0,bn=0;return Lt.forEach((Tn,An)=>{xn+=Tn.offsetWidth||0,xn<=_n-hn&&(bn=An+1)}),bn===Lt.length?-1:bn},qe=(Dt,jt=33.34)=>{let Lt;return()=>{Lt&&clearTimeout(Lt),Lt=setTimeout(()=>{Dt()},jt)}};let Et=!0;const At=()=>{const Dt=()=>{le.value=-1,nextTick(()=>{le.value=Fe()})};Et?Dt():qe(Dt)(),Et=!1};watch(()=>g.defaultActive,Dt=>{pe.value[Dt]||(de.value=""),Ue(Dt)}),watch(()=>g.collapse,Dt=>{Dt&&(ue.value=[])}),watch(pe.value,Oe);let kt;watchEffect(()=>{g.mode==="horizontal"&&g.ellipsis?kt=useResizeObserver(oe,At).stop:kt==null||kt()});{const Dt=Lt=>{he.value[Lt.index]=Lt},jt=Lt=>{delete he.value[Lt.index]};provide("rootMenu",reactive({props:g,openedMenus:ue,items:pe,subMenus:he,activeIndex:de,isMenuPopup:_e,addMenuItem:Lt=>{pe.value[Lt.index]=Lt},removeMenuItem:Lt=>{delete pe.value[Lt.index]},addSubMenu:Dt,removeSubMenu:jt,openMenu:xe,closeMenu:Ie,handleMenuItemClick:ze,handleSubMenuClick:Ne})),provide(`subMenu:${L.uid}`,{addSubMenu:Dt,removeSubMenu:jt,mouseInChild:ref(!1),level:0})}return onMounted(()=>{g.mode==="horizontal"&&new Menu$1(L.vnode.el,re.namespace.value)}),$({open:Dt=>{const{indexPath:jt}=he.value[Dt];jt.forEach(Lt=>xe(Lt,jt))},close:$e,handleResize:At}),()=>{var Dt,jt;let Lt=(jt=(Dt=r.default)==null?void 0:Dt.call(r))!=null?jt:[];const hn=[];if(g.mode==="horizontal"&&oe.value){const _n=flattedChildren(Lt),xn=le.value===-1?_n:_n.slice(0,le.value),bn=le.value===-1?[]:_n.slice(le.value);(bn==null?void 0:bn.length)&&g.ellipsis&&(Lt=xn,hn.push(h$2(SubMenu,{index:"sub-menu-more",class:ae.e("hide-arrow")},{title:()=>h$2(ElIcon,{class:ae.e("icon-more")},{default:()=>h$2(more_default)}),default:()=>bn})))}const Sn=useMenuCssVar(g,0),On=h$2("ul",{key:String(g.collapse),role:"menubar",ref:oe,style:Sn.value,class:{[re.b()]:!0,[re.m(g.mode)]:!0,[re.m("collapse")]:g.collapse}},[...Lt,...hn]);return g.collapseTransition&&g.mode==="vertical"?h$2(ElMenuCollapseTransition,()=>On):On}}});const menuItemProps=buildProps({index:{type:definePropType([String,null]),default:null},route:{type:definePropType([String,Object])},disabled:Boolean}),menuItemEmits={click:g=>isString$4(g.index)&&Array.isArray(g.indexPath)},COMPONENT_NAME$3="ElMenuItem",_sfc_main$D=defineComponent({name:COMPONENT_NAME$3,components:{ElTooltip},props:menuItemProps,emits:menuItemEmits,setup(g,{emit:n}){const r=getCurrentInstance(),$=inject("rootMenu"),L=useNamespace("menu"),V=useNamespace("menu-item");$||throwError(COMPONENT_NAME$3,"can not inject root menu");const{parentMenu:oe,indexPath:re}=useMenu(r,toRef(g,"index")),ae=inject(`subMenu:${oe.value.uid}`);ae||throwError(COMPONENT_NAME$3,"can not inject sub menu");const le=computed(()=>g.index===$.activeIndex),ue=reactive({index:g.index,indexPath:re,active:le}),de=()=>{g.disabled||($.handleMenuItemClick({index:g.index,indexPath:re.value,route:g.route}),n("click",ue))};return onMounted(()=>{ae.addSubMenu(ue),$.addMenuItem(ue)}),onBeforeUnmount(()=>{ae.removeSubMenu(ue),$.removeMenuItem(ue)}),{parentMenu:oe,rootMenu:$,active:le,nsMenu:L,nsMenuItem:V,handleClick:de}}});function _sfc_render$7(g,n,r,$,L,V){const oe=resolveComponent("el-tooltip");return openBlock(),createElementBlock("li",{class:normalizeClass([g.nsMenuItem.b(),g.nsMenuItem.is("active",g.active),g.nsMenuItem.is("disabled",g.disabled)]),role:"menuitem",tabindex:"-1",onClick:n[0]||(n[0]=(...re)=>g.handleClick&&g.handleClick(...re))},[g.parentMenu.type.name==="ElMenu"&&g.rootMenu.props.collapse&&g.$slots.title?(openBlock(),createBlock(oe,{key:0,effect:g.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:withCtx(()=>[renderSlot(g.$slots,"title")]),default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(g.nsMenu.be("tooltip","trigger"))},[renderSlot(g.$slots,"default")],2)]),_:3},8,["effect"])):(openBlock(),createElementBlock(Fragment,{key:1},[renderSlot(g.$slots,"default"),renderSlot(g.$slots,"title")],64))],2)}var MenuItem=_export_sfc$1(_sfc_main$D,[["render",_sfc_render$7],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const menuItemGroupProps={title:String},COMPONENT_NAME$2="ElMenuItemGroup",_sfc_main$C=defineComponent({name:COMPONENT_NAME$2,props:menuItemGroupProps,setup(){return{ns:useNamespace("menu-item-group")}}});function _sfc_render$6(g,n,r,$,L,V){return openBlock(),createElementBlock("li",{class:normalizeClass(g.ns.b())},[createBaseVNode("div",{class:normalizeClass(g.ns.e("title"))},[g.$slots.title?renderSlot(g.$slots,"title",{key:1}):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(g.title),1)],64))],2),createBaseVNode("ul",null,[renderSlot(g.$slots,"default")])],2)}var MenuItemGroup=_export_sfc$1(_sfc_main$C,[["render",_sfc_render$6],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const ElMenu=withInstall(Menu,{MenuItem,MenuItemGroup,SubMenu}),ElMenuItem=withNoopInstall(MenuItem);withNoopInstall(MenuItemGroup);const ElSubMenu=withNoopInstall(SubMenu),elPaginationKey=Symbol("elPaginationKey"),paginationPrevProps=buildProps({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:iconPropType}}),paginationPrevEmits={click:g=>g instanceof MouseEvent},_hoisted_1$i=["disabled","aria-label","aria-disabled"],_hoisted_2$a={key:0},__default__$s=defineComponent({name:"ElPaginationPrev"}),_sfc_main$B=defineComponent({...__default__$s,props:paginationPrevProps,emits:paginationPrevEmits,setup(g){const n=g,{t:r}=useLocale(),$=computed(()=>n.disabled||n.currentPage<=1);return(L,V)=>(openBlock(),createElementBlock("button",{type:"button",class:"btn-prev",disabled:unref($),"aria-label":L.prevText||unref(r)("el.pagination.prev"),"aria-disabled":unref($),onClick:V[0]||(V[0]=oe=>L.$emit("click",oe))},[L.prevText?(openBlock(),createElementBlock("span",_hoisted_2$a,toDisplayString(L.prevText),1)):(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(L.prevIcon)))]),_:1}))],8,_hoisted_1$i))}});var Prev=_export_sfc$1(_sfc_main$B,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const paginationNextProps=buildProps({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:iconPropType}}),_hoisted_1$h=["disabled","aria-label","aria-disabled"],_hoisted_2$9={key:0},__default__$r=defineComponent({name:"ElPaginationNext"}),_sfc_main$A=defineComponent({...__default__$r,props:paginationNextProps,emits:["click"],setup(g){const n=g,{t:r}=useLocale(),$=computed(()=>n.disabled||n.currentPage===n.pageCount||n.pageCount===0);return(L,V)=>(openBlock(),createElementBlock("button",{type:"button",class:"btn-next",disabled:unref($),"aria-label":L.nextText||unref(r)("el.pagination.next"),"aria-disabled":unref($),onClick:V[0]||(V[0]=oe=>L.$emit("click",oe))},[L.nextText?(openBlock(),createElementBlock("span",_hoisted_2$9,toDisplayString(L.nextText),1)):(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(L.nextIcon)))]),_:1}))],8,_hoisted_1$h))}});var Next=_export_sfc$1(_sfc_main$A,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const selectGroupKey=Symbol("ElSelectGroup"),selectKey=Symbol("ElSelect");function useOption(g,n){const r=inject(selectKey),$=inject(selectGroupKey,{disabled:!1}),L=computed(()=>Object.prototype.toString.call(g.value).toLowerCase()==="[object object]"),V=computed(()=>r.props.multiple?de(r.props.modelValue,g.value):pe(g.value,r.props.modelValue)),oe=computed(()=>{if(r.props.multiple){const Oe=r.props.modelValue||[];return!V.value&&Oe.length>=r.props.multipleLimit&&r.props.multipleLimit>0}else return!1}),re=computed(()=>g.label||(L.value?"":g.value)),ae=computed(()=>g.value||g.label||""),le=computed(()=>g.disabled||n.groupDisabled||oe.value),ue=getCurrentInstance(),de=(Oe=[],xe)=>{if(L.value){const $e=r.props.valueKey;return Oe&&Oe.some(Ie=>toRaw(get(Ie,$e))===get(xe,$e))}else return Oe&&Oe.includes(xe)},pe=(Oe,xe)=>{if(L.value){const{valueKey:$e}=r.props;return get(Oe,$e)===get(xe,$e)}else return Oe===xe},he=()=>{!g.disabled&&!$.disabled&&(r.hoverIndex=r.optionsArray.indexOf(ue.proxy))};watch(()=>re.value,()=>{!g.created&&!r.props.remote&&r.setSelected()}),watch(()=>g.value,(Oe,xe)=>{const{remote:$e,valueKey:Ie}=r.props;if(Object.is(Oe,xe)||(r.onOptionDestroy(xe,ue.proxy),r.onOptionCreate(ue.proxy)),!g.created&&!$e){if(Ie&&typeof Oe=="object"&&typeof xe=="object"&&Oe[Ie]===xe[Ie])return;r.setSelected()}}),watch(()=>$.disabled,()=>{n.groupDisabled=$.disabled},{immediate:!0});const{queryChange:_e}=toRaw(r);return watch(_e,Oe=>{const{query:xe}=unref(Oe),$e=new RegExp(escapeStringRegexp(xe),"i");n.visible=$e.test(re.value)||g.created,n.visible||r.filteredOptionsCount--},{immediate:!0}),{select:r,currentLabel:re,currentValue:ae,itemSelected:V,isDisabled:le,hoverItem:he}}const _sfc_main$z=defineComponent({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(g){const n=useNamespace("select"),r=reactive({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:$,itemSelected:L,isDisabled:V,select:oe,hoverItem:re}=useOption(g,r),{visible:ae,hover:le}=toRefs(r),ue=getCurrentInstance().proxy;oe.onOptionCreate(ue),onBeforeUnmount(()=>{const pe=ue.value,{selected:he}=oe,_e=(oe.props.multiple?he:[he]).some(Oe=>Oe.value===ue.value);nextTick(()=>{oe.cachedOptions.get(pe)===ue&&!_e&&oe.cachedOptions.delete(pe)}),oe.onOptionDestroy(pe,ue)});function de(){g.disabled!==!0&&r.groupDisabled!==!0&&oe.handleOptionSelect(ue,!0)}return{ns:n,currentLabel:$,itemSelected:L,isDisabled:V,select:oe,hoverItem:re,visible:ae,hover:le,selectOptionClick:de,states:r}}});function _sfc_render$5(g,n,r,$,L,V){return withDirectives((openBlock(),createElementBlock("li",{class:normalizeClass([g.ns.be("dropdown","item"),g.ns.is("disabled",g.isDisabled),{selected:g.itemSelected,hover:g.hover}]),onMouseenter:n[0]||(n[0]=(...oe)=>g.hoverItem&&g.hoverItem(...oe)),onClick:n[1]||(n[1]=withModifiers((...oe)=>g.selectOptionClick&&g.selectOptionClick(...oe),["stop"]))},[renderSlot(g.$slots,"default",{},()=>[createBaseVNode("span",null,toDisplayString(g.currentLabel),1)])],34)),[[vShow,g.visible]])}var Option=_export_sfc$1(_sfc_main$z,[["render",_sfc_render$5],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const _sfc_main$y=defineComponent({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const g=inject(selectKey),n=useNamespace("select"),r=computed(()=>g.props.popperClass),$=computed(()=>g.props.multiple),L=computed(()=>g.props.fitInputWidth),V=ref("");function oe(){var re;V.value=`${(re=g.selectWrapper)==null?void 0:re.offsetWidth}px`}return onMounted(()=>{oe(),useResizeObserver(g.selectWrapper,oe)}),{ns:n,minWidth:V,popperClass:r,isMultiple:$,isFitInputWidth:L}}});function _sfc_render$4(g,n,r,$,L,V){return openBlock(),createElementBlock("div",{class:normalizeClass([g.ns.b("dropdown"),g.ns.is("multiple",g.isMultiple),g.popperClass]),style:normalizeStyle$1({[g.isFitInputWidth?"width":"minWidth"]:g.minWidth})},[renderSlot(g.$slots,"default")],6)}var ElSelectMenu=_export_sfc$1(_sfc_main$y,[["render",_sfc_render$4],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function useSelectStates(g){const{t:n}=useLocale();return reactive({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:g.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:n("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1,mouseEnter:!1})}const useSelect=(g,n,r)=>{const{t:$}=useLocale(),L=useNamespace("select");useDeprecated({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},computed(()=>g.suffixTransition===!1));const V=ref(null),oe=ref(null),re=ref(null),ae=ref(null),le=ref(null),ue=ref(null),de=ref(null),pe=ref(-1),he=shallowRef({query:""}),_e=shallowRef(""),Oe=ref([]);let xe=0;const{form:$e,formItem:Ie}=useFormItem(),Ne=computed(()=>!g.filterable||g.multiple||!n.visible),ze=computed(()=>g.disabled||($e==null?void 0:$e.disabled)),Ue=computed(()=>{const Dn=g.multiple?Array.isArray(g.modelValue)&&g.modelValue.length>0:g.modelValue!==void 0&&g.modelValue!==null&&g.modelValue!=="";return g.clearable&&!ze.value&&n.inputHovering&&Dn}),Fe=computed(()=>g.remote&&g.filterable&&!g.remoteShowSuffix?"":g.suffixIcon),qe=computed(()=>L.is("reverse",Fe.value&&n.visible&&g.suffixTransition)),Et=computed(()=>g.remote?300:0),At=computed(()=>g.loading?g.loadingText||$("el.select.loading"):g.remote&&n.query===""&&n.options.size===0?!1:g.filterable&&n.query&&n.options.size>0&&n.filteredOptionsCount===0?g.noMatchText||$("el.select.noMatch"):n.options.size===0?g.noDataText||$("el.select.noData"):null),kt=computed(()=>{const Dn=Array.from(n.options.values()),to=[];return Oe.value.forEach(_o=>{const xo=Dn.findIndex(Uo=>Uo.currentLabel===_o);xo>-1&&to.push(Dn[xo])}),to.length?to:Dn}),Dt=computed(()=>Array.from(n.cachedOptions.values())),jt=computed(()=>{const Dn=kt.value.filter(to=>!to.created).some(to=>to.currentLabel===n.query);return g.filterable&&g.allowCreate&&n.query!==""&&!Dn}),Lt=useFormSize(),hn=computed(()=>["small"].includes(Lt.value)?"small":"default"),Sn=computed({get(){return n.visible&&At.value!==!1},set(Dn){n.visible=Dn}});watch([()=>ze.value,()=>Lt.value,()=>$e==null?void 0:$e.size],()=>{nextTick(()=>{On()})}),watch(()=>g.placeholder,Dn=>{n.cachedPlaceHolder=n.currentPlaceholder=Dn}),watch(()=>g.modelValue,(Dn,to)=>{g.multiple&&(On(),Dn&&Dn.length>0||oe.value&&n.query!==""?n.currentPlaceholder="":n.currentPlaceholder=n.cachedPlaceHolder,g.filterable&&!g.reserveKeyword&&(n.query="",_n(n.query))),Tn(),g.filterable&&!g.multiple&&(n.inputLength=20),!isEqual(Dn,to)&&g.validateEvent&&(Ie==null||Ie.validate("change").catch(_o=>{}))},{flush:"post",deep:!0}),watch(()=>n.visible,Dn=>{var to,_o,xo,Uo,Vo;Dn?((_o=(to=ae.value)==null?void 0:to.updatePopper)==null||_o.call(to),g.filterable&&(n.filteredOptionsCount=n.optionsCount,n.query=g.remote?"":n.selectedLabel,(Uo=(xo=re.value)==null?void 0:xo.focus)==null||Uo.call(xo),g.multiple?(Vo=oe.value)==null||Vo.focus():n.selectedLabel&&(n.currentPlaceholder=`${n.selectedLabel}`,n.selectedLabel=""),_n(n.query),!g.multiple&&!g.remote&&(he.value.query="",triggerRef(he),triggerRef(_e)))):(g.filterable&&(isFunction$4(g.filterMethod)&&g.filterMethod(""),isFunction$4(g.remoteMethod)&&g.remoteMethod("")),oe.value&&oe.value.blur(),n.query="",n.previousQuery=null,n.selectedLabel="",n.inputLength=20,n.menuVisibleOnFocus=!1,En(),nextTick(()=>{oe.value&&oe.value.value===""&&n.selected.length===0&&(n.currentPlaceholder=n.cachedPlaceHolder)}),g.multiple||(n.selected&&(g.filterable&&g.allowCreate&&n.createdSelected&&n.createdLabel?n.selectedLabel=n.createdLabel:n.selectedLabel=n.selected.currentLabel,g.filterable&&(n.query=n.selectedLabel)),g.filterable&&(n.currentPlaceholder=n.cachedPlaceHolder))),r.emit("visible-change",Dn)}),watch(()=>n.options.entries(),()=>{var Dn,to,_o;if(!isClient)return;(to=(Dn=ae.value)==null?void 0:Dn.updatePopper)==null||to.call(Dn),g.multiple&&On();const xo=((_o=ue.value)==null?void 0:_o.querySelectorAll("input"))||[];Array.from(xo).includes(document.activeElement)||Tn(),g.defaultFirstOption&&(g.filterable||g.remote)&&n.filteredOptionsCount&&bn()},{flush:"post"}),watch(()=>n.hoverIndex,Dn=>{isNumber$2(Dn)&&Dn>-1?pe.value=kt.value[Dn]||{}:pe.value={},kt.value.forEach(to=>{to.hover=pe.value===to})});const On=()=>{nextTick(()=>{var Dn,to;if(!V.value)return;const _o=V.value.$el.querySelector("input");xe=xe||(_o.clientHeight>0?_o.clientHeight+2:0);const xo=le.value,Uo=getComponentSize(Lt.value||($e==null?void 0:$e.size)),Vo=Uo===xe||xe<=0?Uo:xe;_o.offsetParent!==null&&(_o.style.height=`${(n.selected.length===0?Vo:Math.max(xo?xo.clientHeight+(xo.clientHeight>Vo?6:0):0,Vo))-2}px`),n.tagInMultiLine=Number.parseFloat(_o.style.height)>=Vo,n.visible&&At.value!==!1&&((to=(Dn=ae.value)==null?void 0:Dn.updatePopper)==null||to.call(Dn))})},_n=async Dn=>{if(!(n.previousQuery===Dn||n.isOnComposition)){if(n.previousQuery===null&&(isFunction$4(g.filterMethod)||isFunction$4(g.remoteMethod))){n.previousQuery=Dn;return}n.previousQuery=Dn,nextTick(()=>{var to,_o;n.visible&&((_o=(to=ae.value)==null?void 0:to.updatePopper)==null||_o.call(to))}),n.hoverIndex=-1,g.multiple&&g.filterable&&nextTick(()=>{const to=oe.value.value.length*15+20;n.inputLength=g.collapseTags?Math.min(50,to):to,xn(),On()}),g.remote&&isFunction$4(g.remoteMethod)?(n.hoverIndex=-1,g.remoteMethod(Dn)):isFunction$4(g.filterMethod)?(g.filterMethod(Dn),triggerRef(_e)):(n.filteredOptionsCount=n.optionsCount,he.value.query=Dn,triggerRef(he),triggerRef(_e)),g.defaultFirstOption&&(g.filterable||g.remote)&&n.filteredOptionsCount&&(await nextTick(),bn())}},xn=()=>{n.currentPlaceholder!==""&&(n.currentPlaceholder=oe.value.value?"":n.cachedPlaceHolder)},bn=()=>{const Dn=kt.value.filter(xo=>xo.visible&&!xo.disabled&&!xo.states.groupDisabled),to=Dn.find(xo=>xo.created),_o=Dn[0];n.hoverIndex=kn(kt.value,to||_o)},Tn=()=>{var Dn;if(g.multiple)n.selectedLabel="";else{const _o=An(g.modelValue);(Dn=_o.props)!=null&&Dn.created?(n.createdLabel=_o.props.value,n.createdSelected=!0):n.createdSelected=!1,n.selectedLabel=_o.currentLabel,n.selected=_o,g.filterable&&(n.query=n.selectedLabel);return}const to=[];Array.isArray(g.modelValue)&&g.modelValue.forEach(_o=>{to.push(An(_o))}),n.selected=to,nextTick(()=>{On()})},An=Dn=>{let to;const _o=toRawType(Dn).toLowerCase()==="object",xo=toRawType(Dn).toLowerCase()==="null",Uo=toRawType(Dn).toLowerCase()==="undefined";for(let Wo=n.cachedOptions.size-1;Wo>=0;Wo--){const si=Dt.value[Wo];if(_o?get(si.value,g.valueKey)===get(Dn,g.valueKey):si.value===Dn){to={value:Dn,currentLabel:si.currentLabel,isDisabled:si.isDisabled};break}}if(to)return to;const Vo=_o?Dn.label:!xo&&!Uo?Dn:"",Ao={value:Dn,currentLabel:Vo};return g.multiple&&(Ao.hitState=!1),Ao},En=()=>{setTimeout(()=>{const Dn=g.valueKey;g.multiple?n.selected.length>0?n.hoverIndex=Math.min.apply(null,n.selected.map(to=>kt.value.findIndex(_o=>get(_o,Dn)===get(to,Dn)))):n.hoverIndex=-1:n.hoverIndex=kt.value.findIndex(to=>io(to)===io(n.selected))},300)},Ln=()=>{var Dn,to;Wn(),(to=(Dn=ae.value)==null?void 0:Dn.updatePopper)==null||to.call(Dn),g.multiple&&On()},Wn=()=>{var Dn;n.inputWidth=(Dn=V.value)==null?void 0:Dn.$el.offsetWidth},Mn=()=>{g.filterable&&n.query!==n.selectedLabel&&(n.query=n.selectedLabel,_n(n.query))},Fn=debounce(()=>{Mn()},Et.value),In=debounce(Dn=>{_n(Dn.target.value)},Et.value),Nn=Dn=>{isEqual(g.modelValue,Dn)||r.emit(CHANGE_EVENT,Dn)},Vn=Dn=>{if(Dn.target.value.length<=0&&!oo()){const to=g.modelValue.slice();to.pop(),r.emit(UPDATE_MODEL_EVENT,to),Nn(to)}Dn.target.value.length===1&&g.modelValue.length===0&&(n.currentPlaceholder=n.cachedPlaceHolder)},Un=(Dn,to)=>{const _o=n.selected.indexOf(to);if(_o>-1&&!ze.value){const xo=g.modelValue.slice();xo.splice(_o,1),r.emit(UPDATE_MODEL_EVENT,xo),Nn(xo),r.emit("remove-tag",to.value)}Dn.stopPropagation()},Gn=Dn=>{Dn.stopPropagation();const to=g.multiple?[]:"";if(!isString$4(to))for(const _o of n.selected)_o.isDisabled&&to.push(_o.value);r.emit(UPDATE_MODEL_EVENT,to),Nn(to),n.hoverIndex=-1,n.visible=!1,r.emit("clear")},$n=(Dn,to)=>{var _o;if(g.multiple){const xo=(g.modelValue||[]).slice(),Uo=kn(xo,Dn.value);Uo>-1?xo.splice(Uo,1):(g.multipleLimit<=0||xo.length<g.multipleLimit)&&xo.push(Dn.value),r.emit(UPDATE_MODEL_EVENT,xo),Nn(xo),Dn.created&&(n.query="",_n(""),n.inputLength=20),g.filterable&&((_o=oe.value)==null||_o.focus())}else r.emit(UPDATE_MODEL_EVENT,Dn.value),Nn(Dn.value),n.visible=!1;n.isSilentBlur=to,Bn(),!n.visible&&nextTick(()=>{Yn(Dn)})},kn=(Dn=[],to)=>{if(!isObject$7(to))return Dn.indexOf(to);const _o=g.valueKey;let xo=-1;return Dn.some((Uo,Vo)=>toRaw(get(Uo,_o))===get(to,_o)?(xo=Vo,!0):!1),xo},Bn=()=>{n.softFocus=!0;const Dn=oe.value||V.value;Dn&&(Dn==null||Dn.focus())},Yn=Dn=>{var to,_o,xo,Uo,Vo;const Ao=Array.isArray(Dn)?Dn[0]:Dn;let Wo=null;if(Ao!=null&&Ao.value){const si=kt.value.filter(Or=>Or.value===Ao.value);si.length>0&&(Wo=si[0].$el)}if(ae.value&&Wo){const si=(Uo=(xo=(_o=(to=ae.value)==null?void 0:to.popperRef)==null?void 0:_o.contentRef)==null?void 0:xo.querySelector)==null?void 0:Uo.call(xo,`.${L.be("dropdown","wrap")}`);si&&scrollIntoView(si,Wo)}(Vo=de.value)==null||Vo.handleScroll()},Jn=Dn=>{n.optionsCount++,n.filteredOptionsCount++,n.options.set(Dn.value,Dn),n.cachedOptions.set(Dn.value,Dn)},Kn=(Dn,to)=>{n.options.get(Dn)===to&&(n.optionsCount--,n.filteredOptionsCount--,n.options.delete(Dn))},po=Dn=>{Dn.code!==EVENT_CODE.backspace&&oo(!1),n.inputLength=oe.value.value.length*15+20,On()},oo=Dn=>{if(!Array.isArray(n.selected))return;const to=n.selected[n.selected.length-1];if(to)return Dn===!0||Dn===!1?(to.hitState=Dn,Dn):(to.hitState=!to.hitState,to.hitState)},lo=Dn=>{const to=Dn.target.value;if(Dn.type==="compositionend")n.isOnComposition=!1,nextTick(()=>_n(to));else{const _o=to[to.length-1]||"";n.isOnComposition=!isKorean(_o)}},no=()=>{nextTick(()=>Yn(n.selected))},vo=Dn=>{n.softFocus?n.softFocus=!1:((g.automaticDropdown||g.filterable)&&(g.filterable&&!n.visible&&(n.menuVisibleOnFocus=!0),n.visible=!0),r.emit("focus",Dn))},Zn=()=>{var Dn,to,_o;n.visible=!1,(Dn=V.value)==null||Dn.blur(),(_o=(to=re.value)==null?void 0:to.blur)==null||_o.call(to)},ho=Dn=>{nextTick(()=>{n.isSilentBlur?n.isSilentBlur=!1:r.emit("blur",Dn)}),n.softFocus=!1},yo=Dn=>{Gn(Dn)},Oo=()=>{n.visible=!1},Co=Dn=>{n.visible&&(Dn.preventDefault(),Dn.stopPropagation(),n.visible=!1)},ro=Dn=>{var to;Dn&&!n.mouseEnter||ze.value||(n.menuVisibleOnFocus?n.menuVisibleOnFocus=!1:(!ae.value||!ae.value.isFocusInsideContent())&&(n.visible=!n.visible),n.visible&&((to=oe.value||V.value)==null||to.focus()))},Hn=()=>{n.visible?kt.value[n.hoverIndex]&&$n(kt.value[n.hoverIndex],void 0):ro()},io=Dn=>isObject$7(Dn.value)?get(Dn.value,g.valueKey):Dn.value,mo=computed(()=>kt.value.filter(Dn=>Dn.visible).every(Dn=>Dn.disabled)),zn=computed(()=>n.selected.slice(0,g.maxCollapseTags)),qn=computed(()=>n.selected.slice(g.maxCollapseTags)),so=Dn=>{if(!n.visible){n.visible=!0;return}if(!(n.options.size===0||n.filteredOptionsCount===0)&&!n.isOnComposition&&!mo.value){Dn==="next"?(n.hoverIndex++,n.hoverIndex===n.options.size&&(n.hoverIndex=0)):Dn==="prev"&&(n.hoverIndex--,n.hoverIndex<0&&(n.hoverIndex=n.options.size-1));const to=kt.value[n.hoverIndex];(to.disabled===!0||to.states.groupDisabled===!0||!to.visible)&&so(Dn),nextTick(()=>Yn(pe.value))}};return{optionList:Oe,optionsArray:kt,selectSize:Lt,handleResize:Ln,debouncedOnInputChange:Fn,debouncedQueryChange:In,deletePrevTag:Vn,deleteTag:Un,deleteSelected:Gn,handleOptionSelect:$n,scrollToOption:Yn,readonly:Ne,resetInputHeight:On,showClose:Ue,iconComponent:Fe,iconReverse:qe,showNewOption:jt,collapseTagSize:hn,setSelected:Tn,managePlaceholder:xn,selectDisabled:ze,emptyText:At,toggleLastOptionHitState:oo,resetInputState:po,handleComposition:lo,onOptionCreate:Jn,onOptionDestroy:Kn,handleMenuEnter:no,handleFocus:vo,blur:Zn,handleBlur:ho,handleClearClick:yo,handleClose:Oo,handleKeydownEscape:Co,toggleMenu:ro,selectOption:Hn,getValueKey:io,navigateOptions:so,dropMenuVisible:Sn,queryChange:he,groupQueryChange:_e,showTagList:zn,collapseTagList:qn,reference:V,input:oe,iOSInput:re,tooltipRef:ae,tags:le,selectWrapper:ue,scrollbar:de,handleMouseEnter:()=>{n.mouseEnter=!0},handleMouseLeave:()=>{n.mouseEnter=!1}}};var ElOptions=defineComponent({name:"ElOptions",emits:["update-options"],setup(g,{slots:n,emit:r}){let $=[];function L(V,oe){if(V.length!==oe.length)return!1;for(const[re]of V.entries())if(V[re]!=oe[re])return!1;return!0}return()=>{var V,oe;const re=(V=n.default)==null?void 0:V.call(n),ae=[];function le(ue){!Array.isArray(ue)||ue.forEach(de=>{var pe,he,_e,Oe;const xe=(pe=(de==null?void 0:de.type)||{})==null?void 0:pe.name;xe==="ElOptionGroup"?le(!isString$4(de.children)&&!Array.isArray(de.children)&&isFunction$4((he=de.children)==null?void 0:he.default)?(_e=de.children)==null?void 0:_e.default():de.children):xe==="ElOption"?ae.push((Oe=de.props)==null?void 0:Oe.label):Array.isArray(de.children)&&le(de.children)})}return re.length&&le((oe=re[0])==null?void 0:oe.children),L(ae,$)||($=ae,r("update-options",ae)),re}}});const COMPONENT_NAME$1="ElSelect",_sfc_main$x=defineComponent({name:COMPONENT_NAME$1,componentName:COMPONENT_NAME$1,components:{ElInput,ElSelectMenu,ElOption:Option,ElOptions,ElTag,ElScrollbar,ElTooltip,ElIcon},directives:{ClickOutside},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:isValidComponentSize},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:iconPropType,default:circle_close_default},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:iconPropType,default:arrow_down_default},tagType:{...tagProps.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Ee,default:"bottom-start"}},emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur"],setup(g,n){const r=useNamespace("select"),$=useNamespace("input"),{t:L}=useLocale(),V=useSelectStates(g),{optionList:oe,optionsArray:re,selectSize:ae,readonly:le,handleResize:ue,collapseTagSize:de,debouncedOnInputChange:pe,debouncedQueryChange:he,deletePrevTag:_e,deleteTag:Oe,deleteSelected:xe,handleOptionSelect:$e,scrollToOption:Ie,setSelected:Ne,resetInputHeight:ze,managePlaceholder:Ue,showClose:Fe,selectDisabled:qe,iconComponent:Et,iconReverse:At,showNewOption:kt,emptyText:Dt,toggleLastOptionHitState:jt,resetInputState:Lt,handleComposition:hn,onOptionCreate:Sn,onOptionDestroy:On,handleMenuEnter:_n,handleFocus:xn,blur:bn,handleBlur:Tn,handleClearClick:An,handleClose:En,handleKeydownEscape:Ln,toggleMenu:Wn,selectOption:Mn,getValueKey:Fn,navigateOptions:In,dropMenuVisible:Nn,reference:Vn,input:Un,iOSInput:Gn,tooltipRef:$n,tags:kn,selectWrapper:Bn,scrollbar:Yn,queryChange:Jn,groupQueryChange:Kn,handleMouseEnter:po,handleMouseLeave:oo,showTagList:lo,collapseTagList:no}=useSelect(g,V,n),{focus:vo}=useFocus(Vn),{inputWidth:Zn,selected:ho,inputLength:yo,filteredOptionsCount:Oo,visible:Co,softFocus:ro,selectedLabel:Hn,hoverIndex:io,query:mo,inputHovering:zn,currentPlaceholder:qn,menuVisibleOnFocus:so,isOnComposition:Dn,isSilentBlur:to,options:_o,cachedOptions:xo,optionsCount:Uo,prefixWidth:Vo,tagInMultiLine:Ao}=toRefs(V),Wo=computed(()=>{const li=[r.b()],ki=unref(ae);return ki&&li.push(r.m(ki)),g.disabled&&li.push(r.m("disabled")),li}),si=computed(()=>({maxWidth:`${unref(Zn)-32}px`,width:"100%"})),Or=computed(()=>({maxWidth:`${unref(Zn)>123?unref(Zn)-123:unref(Zn)-75}px`}));provide(selectKey,reactive({props:g,options:_o,optionsArray:re,cachedOptions:xo,optionsCount:Uo,filteredOptionsCount:Oo,hoverIndex:io,handleOptionSelect:$e,onOptionCreate:Sn,onOptionDestroy:On,selectWrapper:Bn,selected:ho,setSelected:Ne,queryChange:Jn,groupQueryChange:Kn})),onMounted(()=>{V.cachedPlaceHolder=qn.value=g.placeholder||(()=>L("el.select.placeholder")),g.multiple&&Array.isArray(g.modelValue)&&g.modelValue.length>0&&(qn.value=""),useResizeObserver(Bn,ue),g.remote&&g.multiple&&ze(),nextTick(()=>{const li=Vn.value&&Vn.value.$el;if(!!li&&(Zn.value=li.getBoundingClientRect().width,n.slots.prefix)){const ki=li.querySelector(`.${$.e("prefix")}`);Vo.value=Math.max(ki.getBoundingClientRect().width+5,30)}}),Ne()}),g.multiple&&!Array.isArray(g.modelValue)&&n.emit(UPDATE_MODEL_EVENT,[]),!g.multiple&&Array.isArray(g.modelValue)&&n.emit(UPDATE_MODEL_EVENT,"");const Ca=computed(()=>{var li,ki;return(ki=(li=$n.value)==null?void 0:li.popperRef)==null?void 0:ki.contentRef});return{isIOS,onOptionsRendered:li=>{oe.value=li},tagInMultiLine:Ao,prefixWidth:Vo,selectSize:ae,readonly:le,handleResize:ue,collapseTagSize:de,debouncedOnInputChange:pe,debouncedQueryChange:he,deletePrevTag:_e,deleteTag:Oe,deleteSelected:xe,handleOptionSelect:$e,scrollToOption:Ie,inputWidth:Zn,selected:ho,inputLength:yo,filteredOptionsCount:Oo,visible:Co,softFocus:ro,selectedLabel:Hn,hoverIndex:io,query:mo,inputHovering:zn,currentPlaceholder:qn,menuVisibleOnFocus:so,isOnComposition:Dn,isSilentBlur:to,options:_o,resetInputHeight:ze,managePlaceholder:Ue,showClose:Fe,selectDisabled:qe,iconComponent:Et,iconReverse:At,showNewOption:kt,emptyText:Dt,toggleLastOptionHitState:jt,resetInputState:Lt,handleComposition:hn,handleMenuEnter:_n,handleFocus:xn,blur:bn,handleBlur:Tn,handleClearClick:An,handleClose:En,handleKeydownEscape:Ln,toggleMenu:Wn,selectOption:Mn,getValueKey:Fn,navigateOptions:In,dropMenuVisible:Nn,focus:vo,reference:Vn,input:Un,iOSInput:Gn,tooltipRef:$n,popperPaneRef:Ca,tags:kn,selectWrapper:Bn,scrollbar:Yn,wrapperKls:Wo,selectTagsStyle:si,nsSelect:r,tagTextStyle:Or,handleMouseEnter:po,handleMouseLeave:oo,showTagList:lo,collapseTagList:no}}}),_hoisted_1$g=["disabled","autocomplete"],_hoisted_2$8=["disabled"],_hoisted_3$6={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function _sfc_render$3(g,n,r,$,L,V){const oe=resolveComponent("el-tag"),re=resolveComponent("el-tooltip"),ae=resolveComponent("el-icon"),le=resolveComponent("el-input"),ue=resolveComponent("el-option"),de=resolveComponent("el-options"),pe=resolveComponent("el-scrollbar"),he=resolveComponent("el-select-menu"),_e=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",{ref:"selectWrapper",class:normalizeClass(g.wrapperKls),onMouseenter:n[21]||(n[21]=(...Oe)=>g.handleMouseEnter&&g.handleMouseEnter(...Oe)),onMouseleave:n[22]||(n[22]=(...Oe)=>g.handleMouseLeave&&g.handleMouseLeave(...Oe)),onClick:n[23]||(n[23]=withModifiers((...Oe)=>g.toggleMenu&&g.toggleMenu(...Oe),["stop"]))},[createVNode$1(re,{ref:"tooltipRef",visible:g.dropMenuVisible,placement:g.placement,teleported:g.teleported,"popper-class":[g.nsSelect.e("popper"),g.popperClass],"popper-options":g.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:g.effect,pure:"",trigger:"click",transition:`${g.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:g.persistent,onShow:g.handleMenuEnter},{default:withCtx(()=>[createBaseVNode("div",{class:"select-trigger",onMouseenter:n[19]||(n[19]=Oe=>g.inputHovering=!0),onMouseleave:n[20]||(n[20]=Oe=>g.inputHovering=!1)},[g.multiple?(openBlock(),createElementBlock("div",{key:0,ref:"tags",class:normalizeClass([g.nsSelect.e("tags"),g.nsSelect.is("disabled",g.selectDisabled)]),style:normalizeStyle$1(g.selectTagsStyle)},[g.collapseTags&&g.selected.length?(openBlock(),createBlock(Transition,{key:0,onAfterLeave:g.resetInputHeight},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass([g.nsSelect.b("tags-wrapper"),{"has-prefix":g.prefixWidth&&g.selected.length}])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.showTagList,Oe=>(openBlock(),createBlock(oe,{key:g.getValueKey(Oe),closable:!g.selectDisabled&&!Oe.isDisabled,size:g.collapseTagSize,hit:Oe.hitState,type:g.tagType,"disable-transitions":"",onClose:xe=>g.deleteTag(xe,Oe)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(g.nsSelect.e("tags-text")),style:normalizeStyle$1(g.tagTextStyle)},toDisplayString(Oe.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),g.selected.length>g.maxCollapseTags?(openBlock(),createBlock(oe,{key:0,closable:!1,size:g.collapseTagSize,type:g.tagType,"disable-transitions":""},{default:withCtx(()=>[g.collapseTagsTooltip?(openBlock(),createBlock(re,{key:0,disabled:g.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:g.effect,placement:"bottom",teleported:g.teleported},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(g.nsSelect.e("tags-text"))},"+ "+toDisplayString(g.selected.length-g.maxCollapseTags),3)]),content:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(g.nsSelect.e("collapse-tags"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.collapseTagList,Oe=>(openBlock(),createElementBlock("div",{key:g.getValueKey(Oe),class:normalizeClass(g.nsSelect.e("collapse-tag"))},[createVNode$1(oe,{class:"in-tooltip",closable:!g.selectDisabled&&!Oe.isDisabled,size:g.collapseTagSize,hit:Oe.hitState,type:g.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:xe=>g.deleteTag(xe,Oe)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(g.nsSelect.e("tags-text")),style:normalizeStyle$1({maxWidth:g.inputWidth-75+"px"})},toDisplayString(Oe.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(g.nsSelect.e("tags-text"))},"+ "+toDisplayString(g.selected.length-g.maxCollapseTags),3))]),_:1},8,["size","type"])):createCommentVNode("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):createCommentVNode("v-if",!0),g.collapseTags?createCommentVNode("v-if",!0):(openBlock(),createBlock(Transition,{key:1,onAfterLeave:g.resetInputHeight},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass([g.nsSelect.b("tags-wrapper"),{"has-prefix":g.prefixWidth&&g.selected.length}])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.selected,Oe=>(openBlock(),createBlock(oe,{key:g.getValueKey(Oe),closable:!g.selectDisabled&&!Oe.isDisabled,size:g.collapseTagSize,hit:Oe.hitState,type:g.tagType,"disable-transitions":"",onClose:xe=>g.deleteTag(xe,Oe)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(g.nsSelect.e("tags-text")),style:normalizeStyle$1({maxWidth:g.inputWidth-75+"px"})},toDisplayString(Oe.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),g.filterable?withDirectives((openBlock(),createElementBlock("input",{key:2,ref:"input","onUpdate:modelValue":n[0]||(n[0]=Oe=>g.query=Oe),type:"text",class:normalizeClass([g.nsSelect.e("input"),g.nsSelect.is(g.selectSize),g.nsSelect.is("disabled",g.selectDisabled)]),disabled:g.selectDisabled,autocomplete:g.autocomplete,style:normalizeStyle$1({marginLeft:g.prefixWidth&&!g.selected.length||g.tagInMultiLine?`${g.prefixWidth}px`:"",flexGrow:1,width:`${g.inputLength/(g.inputWidth-32)}%`,maxWidth:`${g.inputWidth-42}px`}),onFocus:n[1]||(n[1]=(...Oe)=>g.handleFocus&&g.handleFocus(...Oe)),onBlur:n[2]||(n[2]=(...Oe)=>g.handleBlur&&g.handleBlur(...Oe)),onKeyup:n[3]||(n[3]=(...Oe)=>g.managePlaceholder&&g.managePlaceholder(...Oe)),onKeydown:[n[4]||(n[4]=(...Oe)=>g.resetInputState&&g.resetInputState(...Oe)),n[5]||(n[5]=withKeys(withModifiers(Oe=>g.navigateOptions("next"),["prevent"]),["down"])),n[6]||(n[6]=withKeys(withModifiers(Oe=>g.navigateOptions("prev"),["prevent"]),["up"])),n[7]||(n[7]=withKeys((...Oe)=>g.handleKeydownEscape&&g.handleKeydownEscape(...Oe),["esc"])),n[8]||(n[8]=withKeys(withModifiers((...Oe)=>g.selectOption&&g.selectOption(...Oe),["stop","prevent"]),["enter"])),n[9]||(n[9]=withKeys((...Oe)=>g.deletePrevTag&&g.deletePrevTag(...Oe),["delete"])),n[10]||(n[10]=withKeys(Oe=>g.visible=!1,["tab"]))],onCompositionstart:n[11]||(n[11]=(...Oe)=>g.handleComposition&&g.handleComposition(...Oe)),onCompositionupdate:n[12]||(n[12]=(...Oe)=>g.handleComposition&&g.handleComposition(...Oe)),onCompositionend:n[13]||(n[13]=(...Oe)=>g.handleComposition&&g.handleComposition(...Oe)),onInput:n[14]||(n[14]=(...Oe)=>g.debouncedQueryChange&&g.debouncedQueryChange(...Oe))},null,46,_hoisted_1$g)),[[vModelText,g.query]]):createCommentVNode("v-if",!0)],6)):createCommentVNode("v-if",!0),createCommentVNode(" fix: https://github.com/element-plus/element-plus/issues/11415 "),g.isIOS&&!g.multiple&&g.filterable&&g.readonly?(openBlock(),createElementBlock("input",{key:1,ref:"iOSInput",class:normalizeClass([g.nsSelect.e("input"),g.nsSelect.is(g.selectSize),g.nsSelect.em("input","iOS")]),disabled:g.selectDisabled,type:"text"},null,10,_hoisted_2$8)):createCommentVNode("v-if",!0),createVNode$1(le,{id:g.id,ref:"reference",modelValue:g.selectedLabel,"onUpdate:modelValue":n[15]||(n[15]=Oe=>g.selectedLabel=Oe),type:"text",placeholder:typeof g.currentPlaceholder=="function"?g.currentPlaceholder():g.currentPlaceholder,name:g.name,autocomplete:g.autocomplete,size:g.selectSize,disabled:g.selectDisabled,readonly:g.readonly,"validate-event":!1,class:normalizeClass([g.nsSelect.is("focus",g.visible)]),tabindex:g.multiple&&g.filterable?-1:void 0,onFocus:g.handleFocus,onBlur:g.handleBlur,onInput:g.debouncedOnInputChange,onPaste:g.debouncedOnInputChange,onCompositionstart:g.handleComposition,onCompositionupdate:g.handleComposition,onCompositionend:g.handleComposition,onKeydown:[n[16]||(n[16]=withKeys(withModifiers(Oe=>g.navigateOptions("next"),["stop","prevent"]),["down"])),n[17]||(n[17]=withKeys(withModifiers(Oe=>g.navigateOptions("prev"),["stop","prevent"]),["up"])),withKeys(withModifiers(g.selectOption,["stop","prevent"]),["enter"]),withKeys(g.handleKeydownEscape,["esc"]),n[18]||(n[18]=withKeys(Oe=>g.visible=!1,["tab"]))]},createSlots({suffix:withCtx(()=>[g.iconComponent&&!g.showClose?(openBlock(),createBlock(ae,{key:0,class:normalizeClass([g.nsSelect.e("caret"),g.nsSelect.e("icon"),g.iconReverse])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(g.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),g.showClose&&g.clearIcon?(openBlock(),createBlock(ae,{key:1,class:normalizeClass([g.nsSelect.e("caret"),g.nsSelect.e("icon")]),onClick:g.handleClearClick},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(g.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)]),_:2},[g.$slots.prefix?{name:"prefix",fn:withCtx(()=>[createBaseVNode("div",_hoisted_3$6,[renderSlot(g.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:withCtx(()=>[createVNode$1(he,null,{default:withCtx(()=>[withDirectives(createVNode$1(pe,{ref:"scrollbar",tag:"ul","wrap-class":g.nsSelect.be("dropdown","wrap"),"view-class":g.nsSelect.be("dropdown","list"),class:normalizeClass([g.nsSelect.is("empty",!g.allowCreate&&Boolean(g.query)&&g.filteredOptionsCount===0)])},{default:withCtx(()=>[g.showNewOption?(openBlock(),createBlock(ue,{key:0,value:g.query,created:!0},null,8,["value"])):createCommentVNode("v-if",!0),createVNode$1(de,{onUpdateOptions:g.onOptionsRendered},{default:withCtx(()=>[renderSlot(g.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[vShow,g.options.size>0&&!g.loading]]),g.emptyText&&(!g.allowCreate||g.loading||g.allowCreate&&g.options.size===0)?(openBlock(),createElementBlock(Fragment,{key:0},[g.$slots.empty?renderSlot(g.$slots,"empty",{key:0}):(openBlock(),createElementBlock("p",{key:1,class:normalizeClass(g.nsSelect.be("dropdown","empty"))},toDisplayString(g.emptyText),3))],64)):createCommentVNode("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[_e,g.handleClose,g.popperPaneRef]])}var Select=_export_sfc$1(_sfc_main$x,[["render",_sfc_render$3],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const _sfc_main$w=defineComponent({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(g){const n=useNamespace("select"),r=ref(!0),$=getCurrentInstance(),L=ref([]);provide(selectGroupKey,reactive({...toRefs(g)}));const V=inject(selectKey);onMounted(()=>{L.value=oe($.subTree)});const oe=ae=>{const le=[];return Array.isArray(ae.children)&&ae.children.forEach(ue=>{var de;ue.type&&ue.type.name==="ElOption"&&ue.component&&ue.component.proxy?le.push(ue.component.proxy):(de=ue.children)!=null&&de.length&&le.push(...oe(ue))}),le},{groupQueryChange:re}=toRaw(V);return watch(re,()=>{r.value=L.value.some(ae=>ae.visible===!0)},{flush:"post"}),{visible:r,ns:n}}});function _sfc_render$2(g,n,r,$,L,V){return withDirectives((openBlock(),createElementBlock("ul",{class:normalizeClass(g.ns.be("group","wrap"))},[createBaseVNode("li",{class:normalizeClass(g.ns.be("group","title"))},toDisplayString(g.label),3),createBaseVNode("li",null,[createBaseVNode("ul",{class:normalizeClass(g.ns.b("group"))},[renderSlot(g.$slots,"default")],2)])],2)),[[vShow,g.visible]])}var OptionGroup=_export_sfc$1(_sfc_main$w,[["render",_sfc_render$2],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);ElSelect=withInstall(Select,{Option,OptionGroup}),ElOption=withNoopInstall(Option),withNoopInstall(OptionGroup);const usePagination=()=>inject(elPaginationKey,{}),paginationSizesProps=buildProps({pageSize:{type:Number,required:!0},pageSizes:{type:definePropType(Array),default:()=>mutable([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,size:{type:String,values:componentSizes}}),__default__$q=defineComponent({name:"ElPaginationSizes"}),_sfc_main$v=defineComponent({...__default__$q,props:paginationSizesProps,emits:["page-size-change"],setup(g,{emit:n}){const r=g,{t:$}=useLocale(),L=useNamespace("pagination"),V=usePagination(),oe=ref(r.pageSize);watch(()=>r.pageSizes,(le,ue)=>{if(!isEqual(le,ue)&&Array.isArray(le)){const de=le.includes(r.pageSize)?r.pageSize:r.pageSizes[0];n("page-size-change",de)}}),watch(()=>r.pageSize,le=>{oe.value=le});const re=computed(()=>r.pageSizes);function ae(le){var ue;le!==oe.value&&(oe.value=le,(ue=V.handleSizeChange)==null||ue.call(V,Number(le)))}return(le,ue)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(L).e("sizes"))},[createVNode$1(unref(ElSelect),{"model-value":oe.value,disabled:le.disabled,"popper-class":le.popperClass,size:le.size,"validate-event":!1,onChange:ae},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(re),de=>(openBlock(),createBlock(unref(ElOption),{key:de,value:de,label:de+unref($)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size"])],2))}});var Sizes=_export_sfc$1(_sfc_main$v,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const paginationJumperProps=buildProps({size:{type:String,values:componentSizes}}),_hoisted_1$f=["disabled"],__default__$p=defineComponent({name:"ElPaginationJumper"}),_sfc_main$u=defineComponent({...__default__$p,props:paginationJumperProps,setup(g){const{t:n}=useLocale(),r=useNamespace("pagination"),{pageCount:$,disabled:L,currentPage:V,changeEvent:oe}=usePagination(),re=ref(),ae=computed(()=>{var de;return(de=re.value)!=null?de:V==null?void 0:V.value});function le(de){re.value=de?+de:""}function ue(de){de=Math.trunc(+de),oe==null||oe(de),re.value=void 0}return(de,pe)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(r).e("jump")),disabled:unref(L)},[createBaseVNode("span",{class:normalizeClass([unref(r).e("goto")])},toDisplayString(unref(n)("el.pagination.goto")),3),createVNode$1(unref(ElInput),{size:de.size,class:normalizeClass([unref(r).e("editor"),unref(r).is("in-pagination")]),min:1,max:unref($),disabled:unref(L),"model-value":unref(ae),"validate-event":!1,label:unref(n)("el.pagination.page"),type:"number","onUpdate:modelValue":le,onChange:ue},null,8,["size","class","max","disabled","model-value","label"]),createBaseVNode("span",{class:normalizeClass([unref(r).e("classifier")])},toDisplayString(unref(n)("el.pagination.pageClassifier")),3)],10,_hoisted_1$f))}});var Jumper=_export_sfc$1(_sfc_main$u,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const paginationTotalProps=buildProps({total:{type:Number,default:1e3}}),_hoisted_1$e=["disabled"],__default__$o=defineComponent({name:"ElPaginationTotal"}),_sfc_main$t=defineComponent({...__default__$o,props:paginationTotalProps,setup(g){const{t:n}=useLocale(),r=useNamespace("pagination"),{disabled:$}=usePagination();return(L,V)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(r).e("total")),disabled:unref($)},toDisplayString(unref(n)("el.pagination.total",{total:L.total})),11,_hoisted_1$e))}});var Total=_export_sfc$1(_sfc_main$t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const paginationPagerProps=buildProps({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),_hoisted_1$d=["onKeyup"],_hoisted_2$7=["aria-current","aria-label","tabindex"],_hoisted_3$5=["tabindex","aria-label"],_hoisted_4$3=["aria-current","aria-label","tabindex"],_hoisted_5$3=["tabindex","aria-label"],_hoisted_6=["aria-current","aria-label","tabindex"],__default__$n=defineComponent({name:"ElPaginationPager"}),_sfc_main$s=defineComponent({...__default__$n,props:paginationPagerProps,emits:["change"],setup(g,{emit:n}){const r=g,$=useNamespace("pager"),L=useNamespace("icon"),{t:V}=useLocale(),oe=ref(!1),re=ref(!1),ae=ref(!1),le=ref(!1),ue=ref(!1),de=ref(!1),pe=computed(()=>{const Ie=r.pagerCount,Ne=(Ie-1)/2,ze=Number(r.currentPage),Ue=Number(r.pageCount);let Fe=!1,qe=!1;Ue>Ie&&(ze>Ie-Ne&&(Fe=!0),ze<Ue-Ne&&(qe=!0));const Et=[];if(Fe&&!qe){const At=Ue-(Ie-2);for(let kt=At;kt<Ue;kt++)Et.push(kt)}else if(!Fe&&qe)for(let At=2;At<Ie;At++)Et.push(At);else if(Fe&&qe){const At=Math.floor(Ie/2)-1;for(let kt=ze-At;kt<=ze+At;kt++)Et.push(kt)}else for(let At=2;At<Ue;At++)Et.push(At);return Et}),he=computed(()=>r.disabled?-1:0);watchEffect(()=>{const Ie=(r.pagerCount-1)/2;oe.value=!1,re.value=!1,r.pageCount>r.pagerCount&&(r.currentPage>r.pagerCount-Ie&&(oe.value=!0),r.currentPage<r.pageCount-Ie&&(re.value=!0))});function _e(Ie=!1){r.disabled||(Ie?ae.value=!0:le.value=!0)}function Oe(Ie=!1){Ie?ue.value=!0:de.value=!0}function xe(Ie){const Ne=Ie.target;if(Ne.tagName.toLowerCase()==="li"&&Array.from(Ne.classList).includes("number")){const ze=Number(Ne.textContent);ze!==r.currentPage&&n("change",ze)}else Ne.tagName.toLowerCase()==="li"&&Array.from(Ne.classList).includes("more")&&$e(Ie)}function $e(Ie){const Ne=Ie.target;if(Ne.tagName.toLowerCase()==="ul"||r.disabled)return;let ze=Number(Ne.textContent);const Ue=r.pageCount,Fe=r.currentPage,qe=r.pagerCount-2;Ne.className.includes("more")&&(Ne.className.includes("quickprev")?ze=Fe-qe:Ne.className.includes("quicknext")&&(ze=Fe+qe)),Number.isNaN(+ze)||(ze<1&&(ze=1),ze>Ue&&(ze=Ue)),ze!==Fe&&n("change",ze)}return(Ie,Ne)=>(openBlock(),createElementBlock("ul",{class:normalizeClass(unref($).b()),onClick:$e,onKeyup:withKeys(xe,["enter"])},[Ie.pageCount>0?(openBlock(),createElementBlock("li",{key:0,class:normalizeClass([[unref($).is("active",Ie.currentPage===1),unref($).is("disabled",Ie.disabled)],"number"]),"aria-current":Ie.currentPage===1,"aria-label":unref(V)("el.pagination.currentPage",{pager:1}),tabindex:unref(he)}," 1 ",10,_hoisted_2$7)):createCommentVNode("v-if",!0),oe.value?(openBlock(),createElementBlock("li",{key:1,class:normalizeClass(["more","btn-quickprev",unref(L).b(),unref($).is("disabled",Ie.disabled)]),tabindex:unref(he),"aria-label":unref(V)("el.pagination.prevPages",{pager:Ie.pagerCount-2}),onMouseenter:Ne[0]||(Ne[0]=ze=>_e(!0)),onMouseleave:Ne[1]||(Ne[1]=ze=>ae.value=!1),onFocus:Ne[2]||(Ne[2]=ze=>Oe(!0)),onBlur:Ne[3]||(Ne[3]=ze=>ue.value=!1)},[(ae.value||ue.value)&&!Ie.disabled?(openBlock(),createBlock(unref(d_arrow_left_default),{key:0})):(openBlock(),createBlock(unref(more_filled_default),{key:1}))],42,_hoisted_3$5)):createCommentVNode("v-if",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(pe),ze=>(openBlock(),createElementBlock("li",{key:ze,class:normalizeClass([[unref($).is("active",Ie.currentPage===ze),unref($).is("disabled",Ie.disabled)],"number"]),"aria-current":Ie.currentPage===ze,"aria-label":unref(V)("el.pagination.currentPage",{pager:ze}),tabindex:unref(he)},toDisplayString(ze),11,_hoisted_4$3))),128)),re.value?(openBlock(),createElementBlock("li",{key:2,class:normalizeClass(["more","btn-quicknext",unref(L).b(),unref($).is("disabled",Ie.disabled)]),tabindex:unref(he),"aria-label":unref(V)("el.pagination.nextPages",{pager:Ie.pagerCount-2}),onMouseenter:Ne[4]||(Ne[4]=ze=>_e()),onMouseleave:Ne[5]||(Ne[5]=ze=>le.value=!1),onFocus:Ne[6]||(Ne[6]=ze=>Oe()),onBlur:Ne[7]||(Ne[7]=ze=>de.value=!1)},[(le.value||de.value)&&!Ie.disabled?(openBlock(),createBlock(unref(d_arrow_right_default),{key:0})):(openBlock(),createBlock(unref(more_filled_default),{key:1}))],42,_hoisted_5$3)):createCommentVNode("v-if",!0),Ie.pageCount>1?(openBlock(),createElementBlock("li",{key:3,class:normalizeClass([[unref($).is("active",Ie.currentPage===Ie.pageCount),unref($).is("disabled",Ie.disabled)],"number"]),"aria-current":Ie.currentPage===Ie.pageCount,"aria-label":unref(V)("el.pagination.currentPage",{pager:Ie.pageCount}),tabindex:unref(he)},toDisplayString(Ie.pageCount),11,_hoisted_6)):createCommentVNode("v-if",!0)],42,_hoisted_1$d))}});var Pager=_export_sfc$1(_sfc_main$s,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const isAbsent=g=>typeof g!="number",paginationProps=buildProps({total:Number,pageSize:Number,defaultPageSize:Number,currentPage:Number,defaultCurrentPage:Number,pageCount:Number,pagerCount:{type:Number,validator:g=>isNumber$2(g)&&Math.trunc(g)===g&&g>4&&g<22&&g%2===1,default:7},layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:definePropType(Array),default:()=>mutable([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:iconPropType,default:()=>arrow_left_default},nextText:{type:String,default:""},nextIcon:{type:iconPropType,default:()=>arrow_right_default},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),paginationEmits={"update:current-page":g=>isNumber$2(g),"update:page-size":g=>isNumber$2(g),"size-change":g=>isNumber$2(g),"current-change":g=>isNumber$2(g),"prev-click":g=>isNumber$2(g),"next-click":g=>isNumber$2(g)},componentName="ElPagination";var Pagination=defineComponent({name:componentName,props:paginationProps,emits:paginationEmits,setup(g,{emit:n,slots:r}){const{t:$}=useLocale(),L=useNamespace("pagination"),V=getCurrentInstance().vnode.props||{},oe="onUpdate:currentPage"in V||"onUpdate:current-page"in V||"onCurrentChange"in V,re="onUpdate:pageSize"in V||"onUpdate:page-size"in V||"onSizeChange"in V,ae=computed(()=>{if(isAbsent(g.total)&&isAbsent(g.pageCount)||!isAbsent(g.currentPage)&&!oe)return!1;if(g.layout.includes("sizes")){if(isAbsent(g.pageCount)){if(!isAbsent(g.total)&&!isAbsent(g.pageSize)&&!re)return!1}else if(!re)return!1}return!0}),le=ref(isAbsent(g.defaultPageSize)?10:g.defaultPageSize),ue=ref(isAbsent(g.defaultCurrentPage)?1:g.defaultCurrentPage),de=computed({get(){return isAbsent(g.pageSize)?le.value:g.pageSize},set(Ne){isAbsent(g.pageSize)&&(le.value=Ne),re&&(n("update:page-size",Ne),n("size-change",Ne))}}),pe=computed(()=>{let Ne=0;return isAbsent(g.pageCount)?isAbsent(g.total)||(Ne=Math.max(1,Math.ceil(g.total/de.value))):Ne=g.pageCount,Ne}),he=computed({get(){return isAbsent(g.currentPage)?ue.value:g.currentPage},set(Ne){let ze=Ne;Ne<1?ze=1:Ne>pe.value&&(ze=pe.value),isAbsent(g.currentPage)&&(ue.value=ze),oe&&(n("update:current-page",ze),n("current-change",ze))}});watch(pe,Ne=>{he.value>Ne&&(he.value=Ne)});function _e(Ne){he.value=Ne}function Oe(Ne){de.value=Ne;const ze=pe.value;he.value>ze&&(he.value=ze)}function xe(){g.disabled||(he.value-=1,n("prev-click",he.value))}function $e(){g.disabled||(he.value+=1,n("next-click",he.value))}function Ie(Ne,ze){Ne&&(Ne.props||(Ne.props={}),Ne.props.class=[Ne.props.class,ze].join(" "))}return provide(elPaginationKey,{pageCount:pe,disabled:computed(()=>g.disabled),currentPage:he,changeEvent:_e,handleSizeChange:Oe}),()=>{var Ne,ze;if(!ae.value)return $("el.pagination.deprecationWarning"),null;if(!g.layout||g.hideOnSinglePage&&pe.value<=1)return null;const Ue=[],Fe=[],qe=h$2("div",{class:L.e("rightwrapper")},Fe),Et={prev:h$2(Prev,{disabled:g.disabled,currentPage:he.value,prevText:g.prevText,prevIcon:g.prevIcon,onClick:xe}),jumper:h$2(Jumper,{size:g.small?"small":"default"}),pager:h$2(Pager,{currentPage:he.value,pageCount:pe.value,pagerCount:g.pagerCount,onChange:_e,disabled:g.disabled}),next:h$2(Next,{disabled:g.disabled,currentPage:he.value,pageCount:pe.value,nextText:g.nextText,nextIcon:g.nextIcon,onClick:$e}),sizes:h$2(Sizes,{pageSize:de.value,pageSizes:g.pageSizes,popperClass:g.popperClass,disabled:g.disabled,size:g.small?"small":"default"}),slot:(ze=(Ne=r==null?void 0:r.default)==null?void 0:Ne.call(r))!=null?ze:null,total:h$2(Total,{total:isAbsent(g.total)?0:g.total})},At=g.layout.split(",").map(Dt=>Dt.trim());let kt=!1;return At.forEach(Dt=>{if(Dt==="->"){kt=!0;return}kt?Fe.push(Et[Dt]):Ue.push(Et[Dt])}),Ie(Ue[0],L.is("first")),Ie(Ue[Ue.length-1],L.is("last")),kt&&Fe.length>0&&(Ie(Fe[0],L.is("first")),Ie(Fe[Fe.length-1],L.is("last")),Ue.push(qe)),h$2("div",{class:[L.b(),L.is("background",g.background),{[L.m("small")]:g.small}]},Ue)}}});const ElPagination=withInstall(Pagination),switchProps=buildProps({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:iconPropType},inactiveIcon:{type:iconPropType},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:definePropType(Function)},size:{type:String,validator:isValidComponentSize},tabindex:{type:[String,Number]}}),switchEmits={[UPDATE_MODEL_EVENT]:g=>isBoolean$2(g)||isString$4(g)||isNumber$2(g),[CHANGE_EVENT]:g=>isBoolean$2(g)||isString$4(g)||isNumber$2(g),[INPUT_EVENT]:g=>isBoolean$2(g)||isString$4(g)||isNumber$2(g)},_hoisted_1$c=["onClick"],_hoisted_2$6=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],_hoisted_3$4=["aria-hidden"],_hoisted_4$2=["aria-hidden"],_hoisted_5$2=["aria-hidden"],COMPONENT_NAME="ElSwitch",__default__$m=defineComponent({name:COMPONENT_NAME}),_sfc_main$r=defineComponent({...__default__$m,props:switchProps,emits:switchEmits,setup(g,{expose:n,emit:r}){const $=g,L=getCurrentInstance(),{formItem:V}=useFormItem(),oe=useFormSize(),re=useNamespace("switch");useDeprecated({from:'"value"',replacement:'"model-value" or "v-model"',scope:COMPONENT_NAME,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},computed(()=>{var Ue;return!!((Ue=L.vnode.props)!=null&&Ue.value)}));const{inputId:ae}=useFormItemInputId($,{formItemContext:V}),le=useFormDisabled(computed(()=>$.loading)),ue=ref($.modelValue!==!1),de=ref(),pe=ref(),he=computed(()=>[re.b(),re.m(oe.value),re.is("disabled",le.value),re.is("checked",xe.value)]),_e=computed(()=>({width:addUnit($.width)}));watch(()=>$.modelValue,()=>{ue.value=!0}),watch(()=>$.value,()=>{ue.value=!1});const Oe=computed(()=>ue.value?$.modelValue:$.value),xe=computed(()=>Oe.value===$.activeValue);[$.activeValue,$.inactiveValue].includes(Oe.value)||(r(UPDATE_MODEL_EVENT,$.inactiveValue),r(CHANGE_EVENT,$.inactiveValue),r(INPUT_EVENT,$.inactiveValue)),watch(xe,Ue=>{var Fe;de.value.checked=Ue,$.validateEvent&&((Fe=V==null?void 0:V.validate)==null||Fe.call(V,"change").catch(qe=>{}))});const $e=()=>{const Ue=xe.value?$.inactiveValue:$.activeValue;r(UPDATE_MODEL_EVENT,Ue),r(CHANGE_EVENT,Ue),r(INPUT_EVENT,Ue),nextTick(()=>{de.value.checked=xe.value})},Ie=()=>{if(le.value)return;const{beforeChange:Ue}=$;if(!Ue){$e();return}const Fe=Ue();[isPromise(Fe),isBoolean$2(Fe)].includes(!0)||throwError(COMPONENT_NAME,"beforeChange must return type `Promise<boolean>` or `boolean`"),isPromise(Fe)?Fe.then(qe=>{qe&&$e()}).catch(qe=>{}):Fe&&$e()},Ne=computed(()=>re.cssVarBlock({...$.activeColor?{"on-color":$.activeColor}:null,...$.inactiveColor?{"off-color":$.inactiveColor}:null,...$.borderColor?{"border-color":$.borderColor}:null})),ze=()=>{var Ue,Fe;(Fe=(Ue=de.value)==null?void 0:Ue.focus)==null||Fe.call(Ue)};return onMounted(()=>{de.value.checked=xe.value}),n({focus:ze,checked:xe}),(Ue,Fe)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(he)),style:normalizeStyle$1(unref(Ne)),onClick:withModifiers(Ie,["prevent"])},[createBaseVNode("input",{id:unref(ae),ref_key:"input",ref:de,class:normalizeClass(unref(re).e("input")),type:"checkbox",role:"switch","aria-checked":unref(xe),"aria-disabled":unref(le),name:Ue.name,"true-value":Ue.activeValue,"false-value":Ue.inactiveValue,disabled:unref(le),tabindex:Ue.tabindex,onChange:$e,onKeydown:withKeys(Ie,["enter"])},null,42,_hoisted_2$6),!Ue.inlinePrompt&&(Ue.inactiveIcon||Ue.inactiveText)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass([unref(re).e("label"),unref(re).em("label","left"),unref(re).is("active",!unref(xe))])},[Ue.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Ue.inactiveIcon)))]),_:1})):createCommentVNode("v-if",!0),!Ue.inactiveIcon&&Ue.inactiveText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":unref(xe)},toDisplayString(Ue.inactiveText),9,_hoisted_3$4)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("span",{ref_key:"core",ref:pe,class:normalizeClass(unref(re).e("core")),style:normalizeStyle$1(unref(_e))},[Ue.inlinePrompt?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(re).e("inner"))},[Ue.activeIcon||Ue.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(re).is("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(xe)?Ue.activeIcon:Ue.inactiveIcon)))]),_:1},8,["class"])):Ue.activeText||Ue.inactiveText?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(re).is("text")),"aria-hidden":!unref(xe)},toDisplayString(unref(xe)?Ue.activeText:Ue.inactiveText),11,_hoisted_4$2)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(re).e("action"))},[Ue.loading?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(re).is("loading"))},{default:withCtx(()=>[createVNode$1(unref(loading_default))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],6),!Ue.inlinePrompt&&(Ue.activeIcon||Ue.activeText)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass([unref(re).e("label"),unref(re).em("label","right"),unref(re).is("active",unref(xe))])},[Ue.activeIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Ue.activeIcon)))]),_:1})):createCommentVNode("v-if",!0),!Ue.activeIcon&&Ue.activeText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":!unref(xe)},toDisplayString(Ue.activeText),9,_hoisted_5$2)):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],14,_hoisted_1$c))}});var Switch=_export_sfc$1(_sfc_main$r,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);ElSwitch=withInstall(Switch);var matchHtmlRegExp=/["'&<>]/,escapeHtml_1=escapeHtml;function escapeHtml(g){var n=""+g,r=matchHtmlRegExp.exec(n);if(!r)return n;var $,L="",V=0,oe=0;for(V=r.index;V<n.length;V++){switch(n.charCodeAt(V)){case 34:$="&quot;";break;case 38:$="&amp;";break;case 39:$="&#39;";break;case 60:$="&lt;";break;case 62:$="&gt;";break;default:continue}oe!==V&&(L+=n.substring(oe,V)),oe=V+1,L+=$}return oe!==V?L+n.substring(oe,V):L}const getCell=function(g){var n;return(n=g.target)==null?void 0:n.closest("td")},orderBy=function(g,n,r,$,L){if(!n&&!$&&(!L||Array.isArray(L)&&!L.length))return g;typeof r=="string"?r=r==="descending"?-1:1:r=r&&r<0?-1:1;const V=$?null:function(re,ae){return L?(Array.isArray(L)||(L=[L]),L.map(le=>typeof le=="string"?get(re,le):le(re,ae,g))):(n!=="$key"&&isObject$7(re)&&"$value"in re&&(re=re.$value),[isObject$7(re)?get(re,n):re])},oe=function(re,ae){if($)return $(re.value,ae.value);for(let le=0,ue=re.key.length;le<ue;le++){if(re.key[le]<ae.key[le])return-1;if(re.key[le]>ae.key[le])return 1}return 0};return g.map((re,ae)=>({value:re,index:ae,key:V?V(re,ae):null})).sort((re,ae)=>{let le=oe(re,ae);return le||(le=re.index-ae.index),le*+r}).map(re=>re.value)},getColumnById=function(g,n){let r=null;return g.columns.forEach($=>{$.id===n&&(r=$)}),r},getColumnByKey=function(g,n){let r=null;for(let $=0;$<g.columns.length;$++){const L=g.columns[$];if(L.columnKey===n){r=L;break}}return r||throwError("ElTable",`No column matching with column-key: ${n}`),r},getColumnByCell=function(g,n,r){const $=(n.className||"").match(new RegExp(`${r}-table_[^\\s]+`,"gm"));return $?getColumnById(g,$[0]):null},getRowIdentity=(g,n)=>{if(!g)throw new Error("Row is required when get row identity");if(typeof n=="string"){if(!n.includes("."))return`${g[n]}`;const r=n.split(".");let $=g;for(const L of r)$=$[L];return`${$}`}else if(typeof n=="function")return n.call(null,g)},getKeysMap=function(g,n){const r={};return(g||[]).forEach(($,L)=>{r[getRowIdentity($,n)]={row:$,index:L}}),r};function mergeOptions$1(g,n){const r={};let $;for($ in g)r[$]=g[$];for($ in n)if(hasOwn$1(n,$)){const L=n[$];typeof L<"u"&&(r[$]=L)}return r}function parseWidth(g){return g===""||g!==void 0&&(g=Number.parseInt(g,10),Number.isNaN(g)&&(g="")),g}function parseMinWidth(g){return g===""||g!==void 0&&(g=parseWidth(g),Number.isNaN(g)&&(g=80)),g}function parseHeight(g){return typeof g=="number"?g:typeof g=="string"?/^\d+(?:px)?$/.test(g)?Number.parseInt(g,10):g:null}function compose(...g){return g.length===0?n=>n:g.length===1?g[0]:g.reduce((n,r)=>(...$)=>n(r(...$)))}function toggleRowStatus(g,n,r){let $=!1;const L=g.indexOf(n),V=L!==-1,oe=re=>{re==="add"?g.push(n):g.splice(L,1),$=!0,isArray$7(n.children)&&n.children.forEach(ae=>{toggleRowStatus(g,ae,r!=null?r:!V)})};return isBoolean$2(r)?r&&!V?oe("add"):!r&&V&&oe("remove"):oe(V?"remove":"add"),$}function walkTreeNode(g,n,r="children",$="hasChildren"){const L=oe=>!(Array.isArray(oe)&&oe.length);function V(oe,re,ae){n(oe,re,ae),re.forEach(le=>{if(le[$]){n(le,null,ae+1);return}const ue=le[r];L(ue)||V(le,ue,ae+1)})}g.forEach(oe=>{if(oe[$]){n(oe,null,0);return}const re=oe[r];L(re)||V(oe,re,0)})}let removePopper;function createTablePopper(g,n,r,$,L){L=merge$3({enterable:!0,showArrow:!0},L);const V=g==null?void 0:g.dataset.prefix,oe=g==null?void 0:g.querySelector(`.${V}-scrollbar__wrap`);function re(){const xe=L.effect==="light",$e=document.createElement("div");return $e.className=[`${V}-popper`,xe?"is-light":"is-dark",L.popperClass||""].join(" "),r=escapeHtml_1(r),$e.innerHTML=r,$e.style.zIndex=String($()),g==null||g.appendChild($e),$e}function ae(){const xe=document.createElement("div");return xe.className=`${V}-popper__arrow`,xe}function le(){ue&&ue.update()}removePopper==null||removePopper(),removePopper=()=>{try{ue&&ue.destroy(),he&&(g==null||g.removeChild(he)),n.removeEventListener("mouseenter",de),n.removeEventListener("mouseleave",pe),oe==null||oe.removeEventListener("scroll",removePopper),removePopper=void 0}catch{}};let ue=null,de=le,pe=removePopper;L.enterable&&({onOpen:de,onClose:pe}=useDelayedToggle({showAfter:L.showAfter,hideAfter:L.hideAfter,open:le,close:removePopper}));const he=re();he.onmouseenter=de,he.onmouseleave=pe;const _e=[];if(L.offset&&_e.push({name:"offset",options:{offset:[0,L.offset]}}),L.showArrow){const xe=he.appendChild(ae());_e.push({name:"arrow",options:{element:xe,padding:10}})}const Oe=L.popperOptions||{};return ue=yn(n,he,{placement:L.placement||"top",strategy:"fixed",...Oe,modifiers:Oe.modifiers?_e.concat(Oe.modifiers):_e}),n.addEventListener("mouseenter",de),n.addEventListener("mouseleave",pe),oe==null||oe.addEventListener("scroll",removePopper),ue}function getCurrentColumns(g){return g.children?flatMap(g.children,getCurrentColumns):[g]}function getColSpan(g,n){return g+n.colSpan}const isFixedColumn=(g,n,r,$)=>{let L=0,V=g;const oe=r.states.columns.value;if($){const ae=getCurrentColumns($[g]);L=oe.slice(0,oe.indexOf(ae[0])).reduce(getColSpan,0),V=L+ae.reduce(getColSpan,0)-1}else L=g;let re;switch(n){case"left":V<r.states.fixedLeafColumnsLength.value&&(re="left");break;case"right":L>=oe.length-r.states.rightFixedLeafColumnsLength.value&&(re="right");break;default:V<r.states.fixedLeafColumnsLength.value?re="left":L>=oe.length-r.states.rightFixedLeafColumnsLength.value&&(re="right")}return re?{direction:re,start:L,after:V}:{}},getFixedColumnsClass=(g,n,r,$,L,V=0)=>{const oe=[],{direction:re,start:ae,after:le}=isFixedColumn(n,r,$,L);if(re){const ue=re==="left";oe.push(`${g}-fixed-column--${re}`),ue&&le+V===$.states.fixedLeafColumnsLength.value-1?oe.push("is-last-column"):!ue&&ae-V===$.states.columns.value.length-$.states.rightFixedLeafColumnsLength.value&&oe.push("is-first-column")}return oe};function getOffset(g,n){return g+(n.realWidth===null||Number.isNaN(n.realWidth)?Number(n.width):n.realWidth)}const getFixedColumnOffset=(g,n,r,$)=>{const{direction:L,start:V=0,after:oe=0}=isFixedColumn(g,n,r,$);if(!L)return;const re={},ae=L==="left",le=r.states.columns.value;return ae?re.left=le.slice(0,V).reduce(getOffset,0):re.right=le.slice(oe+1).reverse().reduce(getOffset,0),re},ensurePosition=(g,n)=>{!g||Number.isNaN(g[n])||(g[n]=`${g[n]}px`)};function useExpand(g){const n=getCurrentInstance(),r=ref(!1),$=ref([]);return{updateExpandRows:()=>{const L=g.data.value||[],V=g.rowKey.value;if(r.value)$.value=L.slice();else if(V){const oe=getKeysMap($.value,V);$.value=L.reduce((re,ae)=>{const le=getRowIdentity(ae,V);return oe[le]&&re.push(ae),re},[])}else $.value=[]},toggleRowExpansion:(L,V)=>{toggleRowStatus($.value,L,V)&&n.emit("expand-change",L,$.value.slice())},setExpandRowKeys:L=>{n.store.assertRowKey();const V=g.data.value||[],oe=g.rowKey.value,re=getKeysMap(V,oe);$.value=L.reduce((ae,le)=>{const ue=re[le];return ue&&ae.push(ue.row),ae},[])},isRowExpanded:L=>{const V=g.rowKey.value;return V?!!getKeysMap($.value,V)[getRowIdentity(L,V)]:$.value.includes(L)},states:{expandRows:$,defaultExpandAll:r}}}function useCurrent(g){const n=getCurrentInstance(),r=ref(null),$=ref(null),L=re=>{n.store.assertRowKey(),r.value=re,oe(re)},V=()=>{r.value=null},oe=re=>{const{data:ae,rowKey:le}=g;let ue=null;le.value&&(ue=(unref(ae)||[]).find(de=>getRowIdentity(de,le.value)===re)),$.value=ue,n.emit("current-change",$.value,null)};return{setCurrentRowKey:L,restoreCurrentRowKey:V,setCurrentRowByKey:oe,updateCurrentRow:re=>{const ae=$.value;if(re&&re!==ae){$.value=re,n.emit("current-change",$.value,ae);return}!re&&ae&&($.value=null,n.emit("current-change",null,ae))},updateCurrentRowData:()=>{const re=g.rowKey.value,ae=g.data.value||[],le=$.value;if(!ae.includes(le)&&le){if(re){const ue=getRowIdentity(le,re);oe(ue)}else $.value=null;$.value===null&&n.emit("current-change",null,le)}else r.value&&(oe(r.value),V())},states:{_currentRowKey:r,currentRow:$}}}function useTree(g){const n=ref([]),r=ref({}),$=ref(16),L=ref(!1),V=ref({}),oe=ref("hasChildren"),re=ref("children"),ae=getCurrentInstance(),le=computed(()=>{if(!g.rowKey.value)return{};const $e=g.data.value||[];return de($e)}),ue=computed(()=>{const $e=g.rowKey.value,Ie=Object.keys(V.value),Ne={};return Ie.length&&Ie.forEach(ze=>{if(V.value[ze].length){const Ue={children:[]};V.value[ze].forEach(Fe=>{const qe=getRowIdentity(Fe,$e);Ue.children.push(qe),Fe[oe.value]&&!Ne[qe]&&(Ne[qe]={children:[]})}),Ne[ze]=Ue}}),Ne}),de=$e=>{const Ie=g.rowKey.value,Ne={};return walkTreeNode($e,(ze,Ue,Fe)=>{const qe=getRowIdentity(ze,Ie);Array.isArray(Ue)?Ne[qe]={children:Ue.map(Et=>getRowIdentity(Et,Ie)),level:Fe}:L.value&&(Ne[qe]={children:[],lazy:!0,level:Fe})},re.value,oe.value),Ne},pe=($e=!1,Ie=(Ne=>(Ne=ae.store)==null?void 0:Ne.states.defaultExpandAll.value)())=>{var Ne;const ze=le.value,Ue=ue.value,Fe=Object.keys(ze),qe={};if(Fe.length){const Et=unref(r),At=[],kt=(jt,Lt)=>{if($e)return n.value?Ie||n.value.includes(Lt):!!(Ie||(jt==null?void 0:jt.expanded));{const hn=Ie||n.value&&n.value.includes(Lt);return!!((jt==null?void 0:jt.expanded)||hn)}};Fe.forEach(jt=>{const Lt=Et[jt],hn={...ze[jt]};if(hn.expanded=kt(Lt,jt),hn.lazy){const{loaded:Sn=!1,loading:On=!1}=Lt||{};hn.loaded=!!Sn,hn.loading=!!On,At.push(jt)}qe[jt]=hn});const Dt=Object.keys(Ue);L.value&&Dt.length&&At.length&&Dt.forEach(jt=>{const Lt=Et[jt],hn=Ue[jt].children;if(At.includes(jt)){if(qe[jt].children.length!==0)throw new Error("[ElTable]children must be an empty array.");qe[jt].children=hn}else{const{loaded:Sn=!1,loading:On=!1}=Lt||{};qe[jt]={lazy:!0,loaded:!!Sn,loading:!!On,expanded:kt(Lt,jt),children:hn,level:""}}})}r.value=qe,(Ne=ae.store)==null||Ne.updateTableScrollY()};watch(()=>n.value,()=>{pe(!0)}),watch(()=>le.value,()=>{pe()}),watch(()=>ue.value,()=>{pe()});const he=$e=>{n.value=$e,pe()},_e=($e,Ie)=>{ae.store.assertRowKey();const Ne=g.rowKey.value,ze=getRowIdentity($e,Ne),Ue=ze&&r.value[ze];if(ze&&Ue&&"expanded"in Ue){const Fe=Ue.expanded;Ie=typeof Ie>"u"?!Ue.expanded:Ie,r.value[ze].expanded=Ie,Fe!==Ie&&ae.emit("expand-change",$e,Ie),ae.store.updateTableScrollY()}},Oe=$e=>{ae.store.assertRowKey();const Ie=g.rowKey.value,Ne=getRowIdentity($e,Ie),ze=r.value[Ne];L.value&&ze&&"loaded"in ze&&!ze.loaded?xe($e,Ne,ze):_e($e,void 0)},xe=($e,Ie,Ne)=>{const{load:ze}=ae.props;ze&&!r.value[Ie].loaded&&(r.value[Ie].loading=!0,ze($e,Ne,Ue=>{if(!Array.isArray(Ue))throw new TypeError("[ElTable] data must be an array");r.value[Ie].loading=!1,r.value[Ie].loaded=!0,r.value[Ie].expanded=!0,Ue.length&&(V.value[Ie]=Ue),ae.emit("expand-change",$e,!0)}))};return{loadData:xe,loadOrToggle:Oe,toggleTreeExpansion:_e,updateTreeExpandKeys:he,updateTreeData:pe,normalize:de,states:{expandRowKeys:n,treeData:r,indent:$,lazy:L,lazyTreeNodeMap:V,lazyColumnIdentifier:oe,childrenColumnName:re}}}const sortData=(g,n)=>{const r=n.sortingColumn;return!r||typeof r.sortable=="string"?g:orderBy(g,n.sortProp,n.sortOrder,r.sortMethod,r.sortBy)},doFlattenColumns=g=>{const n=[];return g.forEach(r=>{r.children?n.push.apply(n,doFlattenColumns(r.children)):n.push(r)}),n};function useWatcher$1(){var g;const n=getCurrentInstance(),{size:r}=toRefs((g=n.proxy)==null?void 0:g.$props),$=ref(null),L=ref([]),V=ref([]),oe=ref(!1),re=ref([]),ae=ref([]),le=ref([]),ue=ref([]),de=ref([]),pe=ref([]),he=ref([]),_e=ref([]),Oe=[],xe=ref(0),$e=ref(0),Ie=ref(0),Ne=ref(!1),ze=ref([]),Ue=ref(!1),Fe=ref(!1),qe=ref(null),Et=ref({}),At=ref(null),kt=ref(null),Dt=ref(null),jt=ref(null),Lt=ref(null);watch(L,()=>n.state&&_n(!1),{deep:!0});const hn=()=>{if(!$.value)throw new Error("[ElTable] prop row-key is required")},Sn=ro=>{var Hn;(Hn=ro.children)==null||Hn.forEach(io=>{io.fixed=ro.fixed,Sn(io)})},On=()=>{re.value.forEach(zn=>{Sn(zn)}),ue.value=re.value.filter(zn=>zn.fixed===!0||zn.fixed==="left"),de.value=re.value.filter(zn=>zn.fixed==="right"),ue.value.length>0&&re.value[0]&&re.value[0].type==="selection"&&!re.value[0].fixed&&(re.value[0].fixed=!0,ue.value.unshift(re.value[0]));const ro=re.value.filter(zn=>!zn.fixed);ae.value=[].concat(ue.value).concat(ro).concat(de.value);const Hn=doFlattenColumns(ro),io=doFlattenColumns(ue.value),mo=doFlattenColumns(de.value);xe.value=Hn.length,$e.value=io.length,Ie.value=mo.length,le.value=[].concat(io).concat(Hn).concat(mo),oe.value=ue.value.length>0||de.value.length>0},_n=(ro,Hn=!1)=>{ro&&On(),Hn?n.state.doLayout():n.state.debouncedUpdateLayout()},xn=ro=>ze.value.includes(ro),bn=()=>{Ne.value=!1,ze.value.length&&(ze.value=[],n.emit("selection-change",[]))},Tn=()=>{let ro;if($.value){ro=[];const Hn=getKeysMap(ze.value,$.value),io=getKeysMap(L.value,$.value);for(const mo in Hn)hasOwn$1(Hn,mo)&&!io[mo]&&ro.push(Hn[mo].row)}else ro=ze.value.filter(Hn=>!L.value.includes(Hn));if(ro.length){const Hn=ze.value.filter(io=>!ro.includes(io));ze.value=Hn,n.emit("selection-change",Hn.slice())}},An=()=>(ze.value||[]).slice(),En=(ro,Hn=void 0,io=!0)=>{if(toggleRowStatus(ze.value,ro,Hn)){const mo=(ze.value||[]).slice();io&&n.emit("select",mo,ro),n.emit("selection-change",mo)}},Ln=()=>{var ro,Hn;const io=Fe.value?!Ne.value:!(Ne.value||ze.value.length);Ne.value=io;let mo=!1,zn=0;const qn=(Hn=(ro=n==null?void 0:n.store)==null?void 0:ro.states)==null?void 0:Hn.rowKey.value;L.value.forEach((so,Dn)=>{const to=Dn+zn;qe.value?qe.value.call(null,so,to)&&toggleRowStatus(ze.value,so,io)&&(mo=!0):toggleRowStatus(ze.value,so,io)&&(mo=!0),zn+=Fn(getRowIdentity(so,qn))}),mo&&n.emit("selection-change",ze.value?ze.value.slice():[]),n.emit("select-all",ze.value)},Wn=()=>{const ro=getKeysMap(ze.value,$.value);L.value.forEach(Hn=>{const io=getRowIdentity(Hn,$.value),mo=ro[io];mo&&(ze.value[mo.index]=Hn)})},Mn=()=>{var ro,Hn,io;if(((ro=L.value)==null?void 0:ro.length)===0){Ne.value=!1;return}let mo;$.value&&(mo=getKeysMap(ze.value,$.value));const zn=function(to){return mo?!!mo[getRowIdentity(to,$.value)]:ze.value.includes(to)};let qn=!0,so=0,Dn=0;for(let to=0,_o=(L.value||[]).length;to<_o;to++){const xo=(io=(Hn=n==null?void 0:n.store)==null?void 0:Hn.states)==null?void 0:io.rowKey.value,Uo=to+Dn,Vo=L.value[to],Ao=qe.value&&qe.value.call(null,Vo,Uo);if(zn(Vo))so++;else if(!qe.value||Ao){qn=!1;break}Dn+=Fn(getRowIdentity(Vo,xo))}so===0&&(qn=!1),Ne.value=qn},Fn=ro=>{var Hn;if(!n||!n.store)return 0;const{treeData:io}=n.store.states;let mo=0;const zn=(Hn=io.value[ro])==null?void 0:Hn.children;return zn&&(mo+=zn.length,zn.forEach(qn=>{mo+=Fn(qn)})),mo},In=(ro,Hn)=>{Array.isArray(ro)||(ro=[ro]);const io={};return ro.forEach(mo=>{Et.value[mo.id]=Hn,io[mo.columnKey||mo.id]=Hn}),io},Nn=(ro,Hn,io)=>{kt.value&&kt.value!==ro&&(kt.value.order=null),kt.value=ro,Dt.value=Hn,jt.value=io},Vn=()=>{let ro=unref(V);Object.keys(Et.value).forEach(Hn=>{const io=Et.value[Hn];if(!io||io.length===0)return;const mo=getColumnById({columns:le.value},Hn);mo&&mo.filterMethod&&(ro=ro.filter(zn=>io.some(qn=>mo.filterMethod.call(null,qn,zn,mo))))}),At.value=ro},Un=()=>{L.value=sortData(At.value,{sortingColumn:kt.value,sortProp:Dt.value,sortOrder:jt.value})},Gn=(ro=void 0)=>{ro&&ro.filter||Vn(),Un()},$n=ro=>{const{tableHeaderRef:Hn}=n.refs;if(!Hn)return;const io=Object.assign({},Hn.filterPanels),mo=Object.keys(io);if(mo.length)if(typeof ro=="string"&&(ro=[ro]),Array.isArray(ro)){const zn=ro.map(qn=>getColumnByKey({columns:le.value},qn));mo.forEach(qn=>{const so=zn.find(Dn=>Dn.id===qn);so&&(so.filteredValue=[])}),n.store.commit("filterChange",{column:zn,values:[],silent:!0,multi:!0})}else mo.forEach(zn=>{const qn=le.value.find(so=>so.id===zn);qn&&(qn.filteredValue=[])}),Et.value={},n.store.commit("filterChange",{column:{},values:[],silent:!0})},kn=()=>{!kt.value||(Nn(null,null,null),n.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Bn,toggleRowExpansion:Yn,updateExpandRows:Jn,states:Kn,isRowExpanded:po}=useExpand({data:L,rowKey:$}),{updateTreeExpandKeys:oo,toggleTreeExpansion:lo,updateTreeData:no,loadOrToggle:vo,states:Zn}=useTree({data:L,rowKey:$}),{updateCurrentRowData:ho,updateCurrentRow:yo,setCurrentRowKey:Oo,states:Co}=useCurrent({data:L,rowKey:$});return{assertRowKey:hn,updateColumns:On,scheduleLayout:_n,isSelected:xn,clearSelection:bn,cleanSelection:Tn,getSelectionRows:An,toggleRowSelection:En,_toggleAllSelection:Ln,toggleAllSelection:null,updateSelectionByRowKey:Wn,updateAllSelected:Mn,updateFilters:In,updateCurrentRow:yo,updateSort:Nn,execFilter:Vn,execSort:Un,execQuery:Gn,clearFilter:$n,clearSort:kn,toggleRowExpansion:Yn,setExpandRowKeysAdapter:ro=>{Bn(ro),oo(ro)},setCurrentRowKey:Oo,toggleRowExpansionAdapter:(ro,Hn)=>{le.value.some(({type:io})=>io==="expand")?Yn(ro,Hn):lo(ro,Hn)},isRowExpanded:po,updateExpandRows:Jn,updateCurrentRowData:ho,loadOrToggle:vo,updateTreeData:no,states:{tableSize:r,rowKey:$,data:L,_data:V,isComplex:oe,_columns:re,originColumns:ae,columns:le,fixedColumns:ue,rightFixedColumns:de,leafColumns:pe,fixedLeafColumns:he,rightFixedLeafColumns:_e,updateOrderFns:Oe,leafColumnsLength:xe,fixedLeafColumnsLength:$e,rightFixedLeafColumnsLength:Ie,isAllSelected:Ne,selection:ze,reserveSelection:Ue,selectOnIndeterminate:Fe,selectable:qe,filters:Et,filteredData:At,sortingColumn:kt,sortProp:Dt,sortOrder:jt,hoverRow:Lt,...Kn,...Zn,...Co}}}function replaceColumn(g,n){return g.map(r=>{var $;return r.id===n.id?n:(($=r.children)!=null&&$.length&&(r.children=replaceColumn(r.children,n)),r)})}function sortColumn(g){g.forEach(n=>{var r,$;n.no=(r=n.getColumnIndex)==null?void 0:r.call(n),($=n.children)!=null&&$.length&&sortColumn(n.children)}),g.sort((n,r)=>n.no-r.no)}function useStore(){const g=getCurrentInstance(),n=useWatcher$1();return{ns:useNamespace("table"),...n,mutations:{setData(r,$){const L=unref(r._data)!==$;r.data.value=$,r._data.value=$,g.store.execQuery(),g.store.updateCurrentRowData(),g.store.updateExpandRows(),g.store.updateTreeData(g.store.states.defaultExpandAll.value),unref(r.reserveSelection)?(g.store.assertRowKey(),g.store.updateSelectionByRowKey()):L?g.store.clearSelection():g.store.cleanSelection(),g.store.updateAllSelected(),g.$ready&&g.store.scheduleLayout()},insertColumn(r,$,L,V){const oe=unref(r._columns);let re=[];L?(L&&!L.children&&(L.children=[]),L.children.push($),re=replaceColumn(oe,L)):(oe.push($),re=oe),sortColumn(re),r._columns.value=re,r.updateOrderFns.push(V),$.type==="selection"&&(r.selectable.value=$.selectable,r.reserveSelection.value=$.reserveSelection),g.$ready&&(g.store.updateColumns(),g.store.scheduleLayout())},updateColumnOrder(r,$){var L;((L=$.getColumnIndex)==null?void 0:L.call($))!==$.no&&(sortColumn(r._columns.value),g.$ready&&g.store.updateColumns())},removeColumn(r,$,L,V){const oe=unref(r._columns)||[];if(L)L.children.splice(L.children.findIndex(ae=>ae.id===$.id),1),nextTick(()=>{var ae;((ae=L.children)==null?void 0:ae.length)===0&&delete L.children}),r._columns.value=replaceColumn(oe,L);else{const ae=oe.indexOf($);ae>-1&&(oe.splice(ae,1),r._columns.value=oe)}const re=r.updateOrderFns.indexOf(V);re>-1&&r.updateOrderFns.splice(re,1),g.$ready&&(g.store.updateColumns(),g.store.scheduleLayout())},sort(r,$){const{prop:L,order:V,init:oe}=$;if(L){const re=unref(r.columns).find(ae=>ae.property===L);re&&(re.order=V,g.store.updateSort(re,L,V),g.store.commit("changeSortCondition",{init:oe}))}},changeSortCondition(r,$){const{sortingColumn:L,sortProp:V,sortOrder:oe}=r,re=unref(L),ae=unref(V),le=unref(oe);le===null&&(r.sortingColumn.value=null,r.sortProp.value=null);const ue={filter:!0};g.store.execQuery(ue),(!$||!($.silent||$.init))&&g.emit("sort-change",{column:re,prop:ae,order:le}),g.store.updateTableScrollY()},filterChange(r,$){const{column:L,values:V,silent:oe}=$,re=g.store.updateFilters(L,V);g.store.execQuery(),oe||g.emit("filter-change",re),g.store.updateTableScrollY()},toggleAllSelection(){g.store.toggleAllSelection()},rowSelectedChanged(r,$){g.store.toggleRowSelection($),g.store.updateAllSelected()},setHoverRow(r,$){r.hoverRow.value=$},setCurrentRow(r,$){g.store.updateCurrentRow($)}},commit:function(r,...$){const L=g.store.mutations;if(L[r])L[r].apply(g,[g.store.states].concat($));else throw new Error(`Action not found: ${r}`)},updateTableScrollY:function(){nextTick(()=>g.layout.updateScrollY.apply(g.layout))}}}const InitialStateMap={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data",["treeProps.hasChildren"]:{key:"lazyColumnIdentifier",default:"hasChildren"},["treeProps.children"]:{key:"childrenColumnName",default:"children"}};function createStore(g,n){if(!g)throw new Error("Table is required.");const r=useStore();return r.toggleAllSelection=debounce(r._toggleAllSelection,10),Object.keys(InitialStateMap).forEach($=>{handleValue(getArrKeysValue(n,$),$,r)}),proxyTableProps(r,n),r}function proxyTableProps(g,n){Object.keys(InitialStateMap).forEach(r=>{watch(()=>getArrKeysValue(n,r),$=>{handleValue($,r,g)})})}function handleValue(g,n,r){let $=g,L=InitialStateMap[n];typeof InitialStateMap[n]=="object"&&(L=L.key,$=$||InitialStateMap[n].default),r.states[L].value=$}function getArrKeysValue(g,n){if(n.includes(".")){const r=n.split(".");let $=g;return r.forEach(L=>{$=$[L]}),$}else return g[n]}class TableLayout{constructor(n){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=ref(null),this.scrollX=ref(!1),this.scrollY=ref(!1),this.bodyWidth=ref(null),this.fixedWidth=ref(null),this.rightFixedWidth=ref(null),this.gutterWidth=0;for(const r in n)hasOwn$1(n,r)&&(isRef(this[r])?this[r].value=n[r]:this[r]=n[r]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n==null?void 0:n.wrapRef)){let r=!0;const $=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,$!==r}return!1}setHeight(n,r="height"){if(!isClient)return;const $=this.table.vnode.el;if(n=parseHeight(n),this.height.value=Number(n),!$&&(n||n===0))return nextTick(()=>this.setHeight(n,r));typeof n=="number"?($.style[r]=`${n}px`,this.updateElsHeight()):typeof n=="string"&&($.style[r]=n,this.updateElsHeight())}setMaxHeight(n){this.setHeight(n,"max-height")}getFlattenColumns(){const n=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?n.push.apply(n,r.columns):n.push(r)}),n}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(n){if(!n)return!0;let r=n;for(;r.tagName!=="DIV";){if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}updateColumnsWidth(){if(!isClient)return;const n=this.fit,r=this.table.vnode.el.clientWidth;let $=0;const L=this.getFlattenColumns(),V=L.filter(ae=>typeof ae.width!="number");if(L.forEach(ae=>{typeof ae.width=="number"&&ae.realWidth&&(ae.realWidth=null)}),V.length>0&&n){if(L.forEach(ae=>{$+=Number(ae.width||ae.minWidth||80)}),$<=r){this.scrollX.value=!1;const ae=r-$;if(V.length===1)V[0].realWidth=Number(V[0].minWidth||80)+ae;else{const le=V.reduce((pe,he)=>pe+Number(he.minWidth||80),0),ue=ae/le;let de=0;V.forEach((pe,he)=>{if(he===0)return;const _e=Math.floor(Number(pe.minWidth||80)*ue);de+=_e,pe.realWidth=Number(pe.minWidth||80)+_e}),V[0].realWidth=Number(V[0].minWidth||80)+ae-de}}else this.scrollX.value=!0,V.forEach(ae=>{ae.realWidth=Number(ae.minWidth)});this.bodyWidth.value=Math.max($,r),this.table.state.resizeState.value.width=this.bodyWidth.value}else L.forEach(ae=>{!ae.width&&!ae.minWidth?ae.realWidth=80:ae.realWidth=Number(ae.width||ae.minWidth),$+=ae.realWidth}),this.scrollX.value=$>r,this.bodyWidth.value=$;const oe=this.store.states.fixedColumns.value;if(oe.length>0){let ae=0;oe.forEach(le=>{ae+=Number(le.realWidth||le.width)}),this.fixedWidth.value=ae}const re=this.store.states.rightFixedColumns.value;if(re.length>0){let ae=0;re.forEach(le=>{ae+=Number(le.realWidth||le.width)}),this.rightFixedWidth.value=ae}this.notifyObservers("columns")}addObserver(n){this.observers.push(n)}removeObserver(n){const r=this.observers.indexOf(n);r!==-1&&this.observers.splice(r,1)}notifyObservers(n){this.observers.forEach(r=>{var $,L;switch(n){case"columns":($=r.state)==null||$.onColumnsChange(this);break;case"scrollable":(L=r.state)==null||L.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${n}.`)}})}}const{CheckboxGroup:ElCheckboxGroup}=ElCheckbox,_sfc_main$q=defineComponent({name:"ElTableFilterPanel",components:{ElCheckbox,ElCheckboxGroup,ElScrollbar,ElTooltip,ElIcon,ArrowDown:arrow_down_default,ArrowUp:arrow_up_default},directives:{ClickOutside},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(g){const n=getCurrentInstance(),{t:r}=useLocale(),$=useNamespace("table-filter"),L=n==null?void 0:n.parent;L.filterPanels.value[g.column.id]||(L.filterPanels.value[g.column.id]=n);const V=ref(!1),oe=ref(null),re=computed(()=>g.column&&g.column.filters),ae=computed({get:()=>{var ze;return(((ze=g.column)==null?void 0:ze.filteredValue)||[])[0]},set:ze=>{le.value&&(typeof ze<"u"&&ze!==null?le.value.splice(0,1,ze):le.value.splice(0,1))}}),le=computed({get(){return g.column?g.column.filteredValue||[]:[]},set(ze){g.column&&g.upDataColumn("filteredValue",ze)}}),ue=computed(()=>g.column?g.column.filterMultiple:!0),de=ze=>ze.value===ae.value,pe=()=>{V.value=!1},he=ze=>{ze.stopPropagation(),V.value=!V.value},_e=()=>{V.value=!1},Oe=()=>{Ie(le.value),pe()},xe=()=>{le.value=[],Ie(le.value),pe()},$e=ze=>{ae.value=ze,Ie(typeof ze<"u"&&ze!==null?le.value:[]),pe()},Ie=ze=>{g.store.commit("filterChange",{column:g.column,values:ze}),g.store.updateAllSelected()};watch(V,ze=>{g.column&&g.upDataColumn("filterOpened",ze)},{immediate:!0});const Ne=computed(()=>{var ze,Ue;return(Ue=(ze=oe.value)==null?void 0:ze.popperRef)==null?void 0:Ue.contentRef});return{tooltipVisible:V,multiple:ue,filteredValue:le,filterValue:ae,filters:re,handleConfirm:Oe,handleReset:xe,handleSelect:$e,isActive:de,t:r,ns:$,showFilterPanel:he,hideFilterPanel:_e,popperPaneRef:Ne,tooltip:oe}}}),_hoisted_1$b={key:0},_hoisted_2$5=["disabled"],_hoisted_3$3=["label","onClick"];function _sfc_render$1(g,n,r,$,L,V){const oe=resolveComponent("el-checkbox"),re=resolveComponent("el-checkbox-group"),ae=resolveComponent("el-scrollbar"),le=resolveComponent("arrow-up"),ue=resolveComponent("arrow-down"),de=resolveComponent("el-icon"),pe=resolveComponent("el-tooltip"),he=resolveDirective("click-outside");return openBlock(),createBlock(pe,{ref:"tooltip",visible:g.tooltipVisible,offset:0,placement:g.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":g.ns.b(),persistent:""},{content:withCtx(()=>[g.multiple?(openBlock(),createElementBlock("div",_hoisted_1$b,[createBaseVNode("div",{class:normalizeClass(g.ns.e("content"))},[createVNode$1(ae,{"wrap-class":g.ns.e("wrap")},{default:withCtx(()=>[createVNode$1(re,{modelValue:g.filteredValue,"onUpdate:modelValue":n[0]||(n[0]=_e=>g.filteredValue=_e),class:normalizeClass(g.ns.e("checkbox-group"))},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.filters,_e=>(openBlock(),createBlock(oe,{key:_e.value,label:_e.value},{default:withCtx(()=>[createTextVNode(toDisplayString(_e.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),createBaseVNode("div",{class:normalizeClass(g.ns.e("bottom"))},[createBaseVNode("button",{class:normalizeClass({[g.ns.is("disabled")]:g.filteredValue.length===0}),disabled:g.filteredValue.length===0,type:"button",onClick:n[1]||(n[1]=(..._e)=>g.handleConfirm&&g.handleConfirm(..._e))},toDisplayString(g.t("el.table.confirmFilter")),11,_hoisted_2$5),createBaseVNode("button",{type:"button",onClick:n[2]||(n[2]=(..._e)=>g.handleReset&&g.handleReset(..._e))},toDisplayString(g.t("el.table.resetFilter")),1)],2)])):(openBlock(),createElementBlock("ul",{key:1,class:normalizeClass(g.ns.e("list"))},[createBaseVNode("li",{class:normalizeClass([g.ns.e("list-item"),{[g.ns.is("active")]:g.filterValue===void 0||g.filterValue===null}]),onClick:n[3]||(n[3]=_e=>g.handleSelect(null))},toDisplayString(g.t("el.table.clearFilter")),3),(openBlock(!0),createElementBlock(Fragment,null,renderList(g.filters,_e=>(openBlock(),createElementBlock("li",{key:_e.value,class:normalizeClass([g.ns.e("list-item"),g.ns.is("active",g.isActive(_e))]),label:_e.value,onClick:Oe=>g.handleSelect(_e.value)},toDisplayString(_e.text),11,_hoisted_3$3))),128))],2))]),default:withCtx(()=>[withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass([`${g.ns.namespace.value}-table__column-filter-trigger`,`${g.ns.namespace.value}-none-outline`]),onClick:n[4]||(n[4]=(..._e)=>g.showFilterPanel&&g.showFilterPanel(..._e))},[createVNode$1(de,null,{default:withCtx(()=>[g.column.filterOpened?(openBlock(),createBlock(le,{key:0})):(openBlock(),createBlock(ue,{key:1}))]),_:1})],2)),[[he,g.hideFilterPanel,g.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var FilterPanel=_export_sfc$1(_sfc_main$q,[["render",_sfc_render$1],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function useLayoutObserver(g){const n=getCurrentInstance();onBeforeMount(()=>{r.value.addObserver(n)}),onMounted(()=>{$(r.value),L(r.value)}),onUpdated(()=>{$(r.value),L(r.value)}),onUnmounted(()=>{r.value.removeObserver(n)});const r=computed(()=>{const V=g.layout;if(!V)throw new Error("Can not find table layout.");return V}),$=V=>{var oe;const re=((oe=g.vnode.el)==null?void 0:oe.querySelectorAll("colgroup > col"))||[];if(!re.length)return;const ae=V.getFlattenColumns(),le={};ae.forEach(ue=>{le[ue.id]=ue});for(let ue=0,de=re.length;ue<de;ue++){const pe=re[ue],he=pe.getAttribute("name"),_e=le[he];_e&&pe.setAttribute("width",_e.realWidth||_e.width)}},L=V=>{var oe,re;const ae=((oe=g.vnode.el)==null?void 0:oe.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let ue=0,de=ae.length;ue<de;ue++)ae[ue].setAttribute("width",V.scrollY.value?V.gutterWidth:"0");const le=((re=g.vnode.el)==null?void 0:re.querySelectorAll("th.gutter"))||[];for(let ue=0,de=le.length;ue<de;ue++){const pe=le[ue];pe.style.width=V.scrollY.value?`${V.gutterWidth}px`:"0",pe.style.display=V.scrollY.value?"":"none"}};return{tableLayout:r.value,onColumnsChange:$,onScrollableChange:L}}const TABLE_INJECTION_KEY=Symbol("ElTable");function useEvent(g,n){const r=getCurrentInstance(),$=inject(TABLE_INJECTION_KEY),L=Oe=>{Oe.stopPropagation()},V=(Oe,xe)=>{!xe.filters&&xe.sortable?_e(Oe,xe,!1):xe.filterable&&!xe.sortable&&L(Oe),$==null||$.emit("header-click",xe,Oe)},oe=(Oe,xe)=>{$==null||$.emit("header-contextmenu",xe,Oe)},re=ref(null),ae=ref(!1),le=ref({}),ue=(Oe,xe)=>{if(!!isClient&&!(xe.children&&xe.children.length>0)&&re.value&&g.border){ae.value=!0;const $e=$;n("set-drag-visible",!0);const Ie=($e==null?void 0:$e.vnode.el).getBoundingClientRect().left,Ne=r.vnode.el.querySelector(`th.${xe.id}`),ze=Ne.getBoundingClientRect(),Ue=ze.left-Ie+30;addClass(Ne,"noclick"),le.value={startMouseLeft:Oe.clientX,startLeft:ze.right-Ie,startColumnLeft:ze.left-Ie,tableLeft:Ie};const Fe=$e==null?void 0:$e.refs.resizeProxy;Fe.style.left=`${le.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const qe=At=>{const kt=At.clientX-le.value.startMouseLeft,Dt=le.value.startLeft+kt;Fe.style.left=`${Math.max(Ue,Dt)}px`},Et=()=>{if(ae.value){const{startColumnLeft:At,startLeft:kt}=le.value,Dt=Number.parseInt(Fe.style.left,10)-At;xe.width=xe.realWidth=Dt,$e==null||$e.emit("header-dragend",xe.width,kt-At,xe,Oe),requestAnimationFrame(()=>{g.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",ae.value=!1,re.value=null,le.value={},n("set-drag-visible",!1)}document.removeEventListener("mousemove",qe),document.removeEventListener("mouseup",Et),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{removeClass(Ne,"noclick")},0)};document.addEventListener("mousemove",qe),document.addEventListener("mouseup",Et)}},de=(Oe,xe)=>{var $e;if(xe.children&&xe.children.length>0)return;const Ie=($e=Oe.target)==null?void 0:$e.closest("th");if(!(!xe||!xe.resizable)&&!ae.value&&g.border){const Ne=Ie.getBoundingClientRect(),ze=document.body.style;Ne.width>12&&Ne.right-Oe.pageX<8?(ze.cursor="col-resize",hasClass(Ie,"is-sortable")&&(Ie.style.cursor="col-resize"),re.value=xe):ae.value||(ze.cursor="",hasClass(Ie,"is-sortable")&&(Ie.style.cursor="pointer"),re.value=null)}},pe=()=>{!isClient||(document.body.style.cursor="")},he=({order:Oe,sortOrders:xe})=>{if(Oe==="")return xe[0];const $e=xe.indexOf(Oe||null);return xe[$e>xe.length-2?0:$e+1]},_e=(Oe,xe,$e)=>{var Ie;Oe.stopPropagation();const Ne=xe.order===$e?null:$e||he(xe),ze=(Ie=Oe.target)==null?void 0:Ie.closest("th");if(ze&&hasClass(ze,"noclick")){removeClass(ze,"noclick");return}if(!xe.sortable)return;const Ue=g.store.states;let Fe=Ue.sortProp.value,qe;const Et=Ue.sortingColumn.value;(Et!==xe||Et===xe&&Et.order===null)&&(Et&&(Et.order=null),Ue.sortingColumn.value=xe,Fe=xe.property),Ne?qe=xe.order=Ne:qe=xe.order=null,Ue.sortProp.value=Fe,Ue.sortOrder.value=qe,$==null||$.store.commit("changeSortCondition")};return{handleHeaderClick:V,handleHeaderContextMenu:oe,handleMouseDown:ue,handleMouseMove:de,handleMouseOut:pe,handleSortClick:_e,handleFilterClick:L}}function useStyle$2(g){const n=inject(TABLE_INJECTION_KEY),r=useNamespace("table");return{getHeaderRowStyle:$=>{const L=n==null?void 0:n.props.headerRowStyle;return typeof L=="function"?L.call(null,{rowIndex:$}):L},getHeaderRowClass:$=>{const L=[],V=n==null?void 0:n.props.headerRowClassName;return typeof V=="string"?L.push(V):typeof V=="function"&&L.push(V.call(null,{rowIndex:$})),L.join(" ")},getHeaderCellStyle:($,L,V,oe)=>{var re;let ae=(re=n==null?void 0:n.props.headerCellStyle)!=null?re:{};typeof ae=="function"&&(ae=ae.call(null,{rowIndex:$,columnIndex:L,row:V,column:oe}));const le=getFixedColumnOffset(L,oe.fixed,g.store,V);return ensurePosition(le,"left"),ensurePosition(le,"right"),Object.assign({},ae,le)},getHeaderCellClass:($,L,V,oe)=>{const re=getFixedColumnsClass(r.b(),L,oe.fixed,g.store,V),ae=[oe.id,oe.order,oe.headerAlign,oe.className,oe.labelClassName,...re];oe.children||ae.push("is-leaf"),oe.sortable&&ae.push("is-sortable");const le=n==null?void 0:n.props.headerCellClassName;return typeof le=="string"?ae.push(le):typeof le=="function"&&ae.push(le.call(null,{rowIndex:$,columnIndex:L,row:V,column:oe})),ae.push(r.e("cell")),ae.filter(ue=>Boolean(ue)).join(" ")}}}const getAllColumns=g=>{const n=[];return g.forEach(r=>{r.children?(n.push(r),n.push.apply(n,getAllColumns(r.children))):n.push(r)}),n},convertToRows=g=>{let n=1;const r=(L,V)=>{if(V&&(L.level=V.level+1,n<L.level&&(n=L.level)),L.children){let oe=0;L.children.forEach(re=>{r(re,L),oe+=re.colSpan}),L.colSpan=oe}else L.colSpan=1};g.forEach(L=>{L.level=1,r(L,void 0)});const $=[];for(let L=0;L<n;L++)$.push([]);return getAllColumns(g).forEach(L=>{L.children?(L.rowSpan=1,L.children.forEach(V=>V.isSubColumn=!0)):L.rowSpan=n-L.level+1,$[L.level-1].push(L)}),$};function useUtils$1(g){const n=inject(TABLE_INJECTION_KEY),r=computed(()=>convertToRows(g.store.states.originColumns.value));return{isGroup:computed(()=>{const $=r.value.length>1;return $&&n&&(n.state.isGroup.value=!0),$}),toggleAllSelection:$=>{$.stopPropagation(),n==null||n.store.commit("toggleAllSelection")},columnRows:r}}var TableHeader=defineComponent({name:"ElTableHeader",components:{ElCheckbox},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(g,{emit:n}){const r=getCurrentInstance(),$=inject(TABLE_INJECTION_KEY),L=useNamespace("table"),V=ref({}),{onColumnsChange:oe,onScrollableChange:re}=useLayoutObserver($);onMounted(async()=>{await nextTick(),await nextTick();const{prop:Fe,order:qe}=g.defaultSort;$==null||$.store.commit("sort",{prop:Fe,order:qe,init:!0})});const{handleHeaderClick:ae,handleHeaderContextMenu:le,handleMouseDown:ue,handleMouseMove:de,handleMouseOut:pe,handleSortClick:he,handleFilterClick:_e}=useEvent(g,n),{getHeaderRowStyle:Oe,getHeaderRowClass:xe,getHeaderCellStyle:$e,getHeaderCellClass:Ie}=useStyle$2(g),{isGroup:Ne,toggleAllSelection:ze,columnRows:Ue}=useUtils$1(g);return r.state={onColumnsChange:oe,onScrollableChange:re},r.filterPanels=V,{ns:L,filterPanels:V,onColumnsChange:oe,onScrollableChange:re,columnRows:Ue,getHeaderRowClass:xe,getHeaderRowStyle:Oe,getHeaderCellClass:Ie,getHeaderCellStyle:$e,handleHeaderClick:ae,handleHeaderContextMenu:le,handleMouseDown:ue,handleMouseMove:de,handleMouseOut:pe,handleSortClick:he,handleFilterClick:_e,isGroup:Ne,toggleAllSelection:ze}},render(){const{ns:g,isGroup:n,columnRows:r,getHeaderCellStyle:$,getHeaderCellClass:L,getHeaderRowClass:V,getHeaderRowStyle:oe,handleHeaderClick:re,handleHeaderContextMenu:ae,handleMouseDown:le,handleMouseMove:ue,handleSortClick:de,handleMouseOut:pe,store:he,$parent:_e}=this;let Oe=1;return h$2("thead",{class:{[g.is("group")]:n}},r.map((xe,$e)=>h$2("tr",{class:V($e),key:$e,style:oe($e)},xe.map((Ie,Ne)=>(Ie.rowSpan>Oe&&(Oe=Ie.rowSpan),h$2("th",{class:L($e,Ne,xe,Ie),colspan:Ie.colSpan,key:`${Ie.id}-thead`,rowspan:Ie.rowSpan,style:$($e,Ne,xe,Ie),onClick:ze=>re(ze,Ie),onContextmenu:ze=>ae(ze,Ie),onMousedown:ze=>le(ze,Ie),onMousemove:ze=>ue(ze,Ie),onMouseout:pe},[h$2("div",{class:["cell",Ie.filteredValue&&Ie.filteredValue.length>0?"highlight":""]},[Ie.renderHeader?Ie.renderHeader({column:Ie,$index:Ne,store:he,_self:_e}):Ie.label,Ie.sortable&&h$2("span",{onClick:ze=>de(ze,Ie),class:"caret-wrapper"},[h$2("i",{onClick:ze=>de(ze,Ie,"ascending"),class:"sort-caret ascending"}),h$2("i",{onClick:ze=>de(ze,Ie,"descending"),class:"sort-caret descending"})]),Ie.filterable&&h$2(FilterPanel,{store:he,placement:Ie.filterPlacement||"bottom-start",column:Ie,upDataColumn:(ze,Ue)=>{Ie[ze]=Ue}})])]))))))}});function useEvents(g){const n=inject(TABLE_INJECTION_KEY),r=ref(""),$=ref(h$2("div")),{nextZIndex:L}=useZIndex(),V=(de,pe,he)=>{var _e;const Oe=n,xe=getCell(de);let $e;const Ie=(_e=Oe==null?void 0:Oe.vnode.el)==null?void 0:_e.dataset.prefix;xe&&($e=getColumnByCell({columns:g.store.states.columns.value},xe,Ie),$e&&(Oe==null||Oe.emit(`cell-${he}`,pe,$e,xe,de))),Oe==null||Oe.emit(`row-${he}`,pe,$e,de)},oe=(de,pe)=>{V(de,pe,"dblclick")},re=(de,pe)=>{g.store.commit("setCurrentRow",pe),V(de,pe,"click")},ae=(de,pe)=>{V(de,pe,"contextmenu")},le=debounce(de=>{g.store.commit("setHoverRow",de)},30),ue=debounce(()=>{g.store.commit("setHoverRow",null)},30);return{handleDoubleClick:oe,handleClick:re,handleContextMenu:ae,handleMouseEnter:le,handleMouseLeave:ue,handleCellMouseEnter:(de,pe,he)=>{var _e;const Oe=n,xe=getCell(de),$e=(_e=Oe==null?void 0:Oe.vnode.el)==null?void 0:_e.dataset.prefix;if(xe){const Fe=getColumnByCell({columns:g.store.states.columns.value},xe,$e),qe=Oe.hoverState={cell:xe,column:Fe,row:pe};Oe==null||Oe.emit("cell-mouse-enter",qe.row,qe.column,qe.cell,de)}if(!he)return;const Ie=de.target.querySelector(".cell");if(!(hasClass(Ie,`${$e}-tooltip`)&&Ie.childNodes.length))return;const Ne=document.createRange();Ne.setStart(Ie,0),Ne.setEnd(Ie,Ie.childNodes.length);const ze=Math.round(Ne.getBoundingClientRect().width),Ue=(Number.parseInt(getStyle(Ie,"paddingLeft"),10)||0)+(Number.parseInt(getStyle(Ie,"paddingRight"),10)||0);(ze+Ue>Ie.offsetWidth||Ie.scrollWidth>Ie.offsetWidth)&&createTablePopper(n==null?void 0:n.refs.tableWrapper,xe,xe.innerText||xe.textContent,L,he)},handleCellMouseLeave:de=>{if(!getCell(de))return;const pe=n==null?void 0:n.hoverState;n==null||n.emit("cell-mouse-leave",pe==null?void 0:pe.row,pe==null?void 0:pe.column,pe==null?void 0:pe.cell,de)},tooltipContent:r,tooltipTrigger:$}}function useStyles(g){const n=inject(TABLE_INJECTION_KEY),r=useNamespace("table");return{getRowStyle:($,L)=>{const V=n==null?void 0:n.props.rowStyle;return typeof V=="function"?V.call(null,{row:$,rowIndex:L}):V||null},getRowClass:($,L)=>{const V=[r.e("row")];(n==null?void 0:n.props.highlightCurrentRow)&&$===g.store.states.currentRow.value&&V.push("current-row"),g.stripe&&L%2===1&&V.push(r.em("row","striped"));const oe=n==null?void 0:n.props.rowClassName;return typeof oe=="string"?V.push(oe):typeof oe=="function"&&V.push(oe.call(null,{row:$,rowIndex:L})),V},getCellStyle:($,L,V,oe)=>{const re=n==null?void 0:n.props.cellStyle;let ae=re!=null?re:{};typeof re=="function"&&(ae=re.call(null,{rowIndex:$,columnIndex:L,row:V,column:oe}));const le=getFixedColumnOffset(L,g==null?void 0:g.fixed,g.store);return ensurePosition(le,"left"),ensurePosition(le,"right"),Object.assign({},ae,le)},getCellClass:($,L,V,oe,re)=>{const ae=getFixedColumnsClass(r.b(),L,g==null?void 0:g.fixed,g.store,void 0,re),le=[oe.id,oe.align,oe.className,...ae],ue=n==null?void 0:n.props.cellClassName;return typeof ue=="string"?le.push(ue):typeof ue=="function"&&le.push(ue.call(null,{rowIndex:$,columnIndex:L,row:V,column:oe})),le.push(r.e("cell")),le.filter(de=>Boolean(de)).join(" ")},getSpan:($,L,V,oe)=>{let re=1,ae=1;const le=n==null?void 0:n.props.spanMethod;if(typeof le=="function"){const ue=le({row:$,column:L,rowIndex:V,columnIndex:oe});Array.isArray(ue)?(re=ue[0],ae=ue[1]):typeof ue=="object"&&(re=ue.rowspan,ae=ue.colspan)}return{rowspan:re,colspan:ae}},getColspanRealWidth:($,L,V)=>{if(L<1)return $[V].realWidth;const oe=$.map(({realWidth:re,width:ae})=>re||ae).slice(V,V+L);return Number(oe.reduce((re,ae)=>Number(re)+Number(ae),-1))}}}function useRender$1(g){const n=inject(TABLE_INJECTION_KEY),r=useNamespace("table"),{handleDoubleClick:$,handleClick:L,handleContextMenu:V,handleMouseEnter:oe,handleMouseLeave:re,handleCellMouseEnter:ae,handleCellMouseLeave:le,tooltipContent:ue,tooltipTrigger:de}=useEvents(g),{getRowStyle:pe,getRowClass:he,getCellStyle:_e,getCellClass:Oe,getSpan:xe,getColspanRealWidth:$e}=useStyles(g),Ie=computed(()=>g.store.states.columns.value.findIndex(({type:Fe})=>Fe==="default")),Ne=(Fe,qe)=>{const Et=n.props.rowKey;return Et?getRowIdentity(Fe,Et):qe},ze=(Fe,qe,Et,At=!1)=>{const{tooltipEffect:kt,tooltipOptions:Dt,store:jt}=g,{indent:Lt,columns:hn}=jt.states,Sn=he(Fe,qe);let On=!0;return Et&&(Sn.push(r.em("row",`level-${Et.level}`)),On=Et.display),h$2("tr",{style:[On?null:{display:"none"},pe(Fe,qe)],class:Sn,key:Ne(Fe,qe),onDblclick:_n=>$(_n,Fe),onClick:_n=>L(_n,Fe),onContextmenu:_n=>V(_n,Fe),onMouseenter:()=>oe(qe),onMouseleave:re},hn.value.map((_n,xn)=>{const{rowspan:bn,colspan:Tn}=xe(Fe,_n,qe,xn);if(!bn||!Tn)return null;const An={..._n};An.realWidth=$e(hn.value,Tn,xn);const En={store:g.store,_self:g.context||n,column:An,row:Fe,$index:qe,cellIndex:xn,expanded:At};xn===Ie.value&&Et&&(En.treeNode={indent:Et.level*Lt.value,level:Et.level},typeof Et.expanded=="boolean"&&(En.treeNode.expanded=Et.expanded,"loading"in Et&&(En.treeNode.loading=Et.loading),"noLazyChildren"in Et&&(En.treeNode.noLazyChildren=Et.noLazyChildren)));const Ln=`${qe},${xn}`,Wn=An.columnKey||An.rawColumnKey||"",Mn=Ue(xn,_n,En),Fn=_n.showOverflowTooltip&&merge$3({effect:kt},Dt,_n.showOverflowTooltip);return h$2("td",{style:_e(qe,xn,Fe,_n),class:Oe(qe,xn,Fe,_n,Tn-1),key:`${Wn}${Ln}`,rowspan:bn,colspan:Tn,onMouseenter:In=>ae(In,Fe,Fn),onMouseleave:le},[Mn])}))},Ue=(Fe,qe,Et)=>qe.renderCell(Et);return{wrappedRowRender:(Fe,qe)=>{const Et=g.store,{isRowExpanded:At,assertRowKey:kt}=Et,{treeData:Dt,lazyTreeNodeMap:jt,childrenColumnName:Lt,rowKey:hn}=Et.states,Sn=Et.states.columns.value;if(Sn.some(({type:On})=>On==="expand")){const On=At(Fe),_n=ze(Fe,qe,void 0,On),xn=n.renderExpanded;return On?xn?[[_n,h$2("tr",{key:`expanded-row__${_n.key}`},[h$2("td",{colspan:Sn.length,class:`${r.e("cell")} ${r.e("expanded-cell")}`},[xn({row:Fe,$index:qe,store:Et,expanded:On})])])]]:(console.error("[Element Error]renderExpanded is required."),_n):[[_n]]}else if(Object.keys(Dt.value).length){kt();const On=getRowIdentity(Fe,hn.value);let _n=Dt.value[On],xn=null;_n&&(xn={expanded:_n.expanded,level:_n.level,display:!0},typeof _n.lazy=="boolean"&&(typeof _n.loaded=="boolean"&&_n.loaded&&(xn.noLazyChildren=!(_n.children&&_n.children.length)),xn.loading=_n.loading));const bn=[ze(Fe,qe,xn)];if(_n){let Tn=0;const An=(Ln,Wn)=>{!(Ln&&Ln.length&&Wn)||Ln.forEach(Mn=>{const Fn={display:Wn.display&&Wn.expanded,level:Wn.level+1,expanded:!1,noLazyChildren:!1,loading:!1},In=getRowIdentity(Mn,hn.value);if(In==null)throw new Error("For nested data item, row-key is required.");if(_n={...Dt.value[In]},_n&&(Fn.expanded=_n.expanded,_n.level=_n.level||Fn.level,_n.display=!!(_n.expanded&&Fn.display),typeof _n.lazy=="boolean"&&(typeof _n.loaded=="boolean"&&_n.loaded&&(Fn.noLazyChildren=!(_n.children&&_n.children.length)),Fn.loading=_n.loading)),Tn++,bn.push(ze(Mn,qe+Tn,Fn)),_n){const Nn=jt.value[In]||Mn[Lt.value];An(Nn,_n)}})};_n.display=!0;const En=jt.value[On]||Fe[Lt.value];An(En,_n)}return bn}else return ze(Fe,qe,void 0)},tooltipContent:ue,tooltipTrigger:de}}const defaultProps$2={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var TableBody=defineComponent({name:"ElTableBody",props:defaultProps$2,setup(g){const n=getCurrentInstance(),r=inject(TABLE_INJECTION_KEY),$=useNamespace("table"),{wrappedRowRender:L,tooltipContent:V,tooltipTrigger:oe}=useRender$1(g),{onColumnsChange:re,onScrollableChange:ae}=useLayoutObserver(r);return watch(g.store.states.hoverRow,(le,ue)=>{if(!g.store.states.isComplex.value||!isClient)return;let de=window.requestAnimationFrame;de||(de=pe=>window.setTimeout(pe,16)),de(()=>{const pe=n==null?void 0:n.vnode.el,he=Array.from((pe==null?void 0:pe.children)||[]).filter(xe=>xe==null?void 0:xe.classList.contains(`${$.e("row")}`)),_e=he[ue],Oe=he[le];_e&&removeClass(_e,"hover-row"),Oe&&addClass(Oe,"hover-row")})}),onUnmounted(()=>{var le;(le=removePopper)==null||le()}),{ns:$,onColumnsChange:re,onScrollableChange:ae,wrappedRowRender:L,tooltipContent:V,tooltipTrigger:oe}},render(){const{wrappedRowRender:g,store:n}=this,r=n.states.data.value||[];return h$2("tbody",{},[r.reduce(($,L)=>$.concat(g(L,$.length)),[])])}});function hColgroup(g){const n=g.tableLayout==="auto";let r=g.columns||[];n&&r.every(L=>L.width===void 0)&&(r=[]);const $=L=>{const V={key:`${g.tableLayout}_${L.id}`,style:{},name:void 0};return n?V.style={width:`${L.width}px`}:V.name=L.id,V};return h$2("colgroup",{},r.map(L=>h$2("col",$(L))))}hColgroup.props=["columns","tableLayout"];function useMapState(){const g=inject(TABLE_INJECTION_KEY),n=g==null?void 0:g.store,r=computed(()=>n.states.fixedLeafColumnsLength.value),$=computed(()=>n.states.rightFixedColumns.value.length),L=computed(()=>n.states.columns.value.length),V=computed(()=>n.states.fixedColumns.value.length),oe=computed(()=>n.states.rightFixedColumns.value.length);return{leftFixedLeafCount:r,rightFixedLeafCount:$,columnsCount:L,leftFixedCount:V,rightFixedCount:oe,columns:n.states.columns}}function useStyle$1(g){const{columns:n}=useMapState(),r=useNamespace("table");return{getCellClasses:($,L)=>{const V=$[L],oe=[r.e("cell"),V.id,V.align,V.labelClassName,...getFixedColumnsClass(r.b(),L,V.fixed,g.store)];return V.className&&oe.push(V.className),V.children||oe.push(r.is("leaf")),oe},getCellStyles:($,L)=>{const V=getFixedColumnOffset(L,$.fixed,g.store);return ensurePosition(V,"left"),ensurePosition(V,"right"),V},columns:n}}var TableFooter=defineComponent({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(g){const{getCellClasses:n,getCellStyles:r,columns:$}=useStyle$1(g);return{ns:useNamespace("table"),getCellClasses:n,getCellStyles:r,columns:$}},render(){const{columns:g,getCellStyles:n,getCellClasses:r,summaryMethod:$,sumText:L,ns:V}=this,oe=this.store.states.data.value;let re=[];return $?re=$({columns:g,data:oe}):g.forEach((ae,le)=>{if(le===0){re[le]=L;return}const ue=oe.map(_e=>Number(_e[ae.property])),de=[];let pe=!0;ue.forEach(_e=>{if(!Number.isNaN(+_e)){pe=!1;const Oe=`${_e}`.split(".")[1];de.push(Oe?Oe.length:0)}});const he=Math.max.apply(null,de);pe?re[le]="":re[le]=ue.reduce((_e,Oe)=>{const xe=Number(Oe);return Number.isNaN(+xe)?_e:Number.parseFloat((_e+Oe).toFixed(Math.min(he,20)))},0)}),h$2("table",{class:V.e("footer"),cellspacing:"0",cellpadding:"0",border:"0"},[hColgroup({columns:g}),h$2("tbody",[h$2("tr",{},[...g.map((ae,le)=>h$2("td",{key:le,colspan:ae.colSpan,rowspan:ae.rowSpan,class:r(g,le),style:n(ae,le)},[h$2("div",{class:["cell",ae.labelClassName]},[re[le]])]))])])])}});function useUtils(g){return{setCurrentRow:n=>{g.commit("setCurrentRow",n)},getSelectionRows:()=>g.getSelectionRows(),toggleRowSelection:(n,r)=>{g.toggleRowSelection(n,r,!1),g.updateAllSelected()},clearSelection:()=>{g.clearSelection()},clearFilter:n=>{g.clearFilter(n)},toggleAllSelection:()=>{g.commit("toggleAllSelection")},toggleRowExpansion:(n,r)=>{g.toggleRowExpansionAdapter(n,r)},clearSort:()=>{g.clearSort()},sort:(n,r)=>{g.commit("sort",{prop:n,order:r})}}}function useStyle(g,n,r,$){const L=ref(!1),V=ref(null),oe=ref(!1),re=_n=>{oe.value=_n},ae=ref({width:null,height:null,headerHeight:null}),le=ref(!1),ue={display:"inline-block",verticalAlign:"middle"},de=ref(),pe=ref(0),he=ref(0),_e=ref(0),Oe=ref(0);watchEffect(()=>{n.setHeight(g.height)}),watchEffect(()=>{n.setMaxHeight(g.maxHeight)}),watch(()=>[g.currentRowKey,r.states.rowKey],([_n,xn])=>{!unref(xn)||!unref(_n)||r.setCurrentRowKey(`${_n}`)},{immediate:!0}),watch(()=>g.data,_n=>{$.store.commit("setData",_n)},{immediate:!0,deep:!0}),watchEffect(()=>{g.expandRowKeys&&r.setExpandRowKeysAdapter(g.expandRowKeys)});const xe=()=>{$.store.commit("setHoverRow",null),$.hoverState&&($.hoverState=null)},$e=(_n,xn)=>{const{pixelX:bn,pixelY:Tn}=xn;Math.abs(bn)>=Math.abs(Tn)&&($.refs.bodyWrapper.scrollLeft+=xn.pixelX/5)},Ie=computed(()=>g.height||g.maxHeight||r.states.fixedColumns.value.length>0||r.states.rightFixedColumns.value.length>0),Ne=computed(()=>({width:n.bodyWidth.value?`${n.bodyWidth.value}px`:""})),ze=()=>{Ie.value&&n.updateElsHeight(),n.updateColumnsWidth(),requestAnimationFrame(Et)};onMounted(async()=>{await nextTick(),r.updateColumns(),At(),requestAnimationFrame(ze);const _n=$.vnode.el,xn=$.refs.headerWrapper;g.flexible&&_n&&_n.parentElement&&(_n.parentElement.style.minWidth="0"),ae.value={width:de.value=_n.offsetWidth,height:_n.offsetHeight,headerHeight:g.showHeader&&xn?xn.offsetHeight:null},r.states.columns.value.forEach(bn=>{bn.filteredValue&&bn.filteredValue.length&&$.store.commit("filterChange",{column:bn,values:bn.filteredValue,silent:!0})}),$.$ready=!0});const Ue=(_n,xn)=>{if(!_n)return;const bn=Array.from(_n.classList).filter(Tn=>!Tn.startsWith("is-scrolling-"));bn.push(n.scrollX.value?xn:"is-scrolling-none"),_n.className=bn.join(" ")},Fe=_n=>{const{tableWrapper:xn}=$.refs;Ue(xn,_n)},qe=_n=>{const{tableWrapper:xn}=$.refs;return!!(xn&&xn.classList.contains(_n))},Et=function(){if(!$.refs.scrollBarRef)return;if(!n.scrollX.value){const Wn="is-scrolling-none";qe(Wn)||Fe(Wn);return}const _n=$.refs.scrollBarRef.wrapRef;if(!_n)return;const{scrollLeft:xn,offsetWidth:bn,scrollWidth:Tn}=_n,{headerWrapper:An,footerWrapper:En}=$.refs;An&&(An.scrollLeft=xn),En&&(En.scrollLeft=xn);const Ln=Tn-bn-1;xn>=Ln?Fe("is-scrolling-right"):Fe(xn===0?"is-scrolling-left":"is-scrolling-middle")},At=()=>{!$.refs.scrollBarRef||($.refs.scrollBarRef.wrapRef&&useEventListener($.refs.scrollBarRef.wrapRef,"scroll",Et,{passive:!0}),g.fit?useResizeObserver($.vnode.el,kt):useEventListener(window,"resize",kt),useResizeObserver($.refs.bodyWrapper,()=>{var _n,xn;kt(),(xn=(_n=$.refs)==null?void 0:_n.scrollBarRef)==null||xn.update()}))},kt=()=>{var _n,xn,bn;const Tn=$.vnode.el;if(!$.$ready||!Tn)return;let An=!1;const{width:En,height:Ln,headerHeight:Wn}=ae.value,Mn=de.value=Tn.offsetWidth;En!==Mn&&(An=!0);const Fn=Tn.offsetHeight;(g.height||Ie.value)&&Ln!==Fn&&(An=!0);const In=g.tableLayout==="fixed"?$.refs.headerWrapper:(_n=$.refs.tableHeaderRef)==null?void 0:_n.$el;g.showHeader&&(In==null?void 0:In.offsetHeight)!==Wn&&(An=!0),pe.value=((xn=$.refs.tableWrapper)==null?void 0:xn.scrollHeight)||0,_e.value=(In==null?void 0:In.scrollHeight)||0,Oe.value=((bn=$.refs.footerWrapper)==null?void 0:bn.offsetHeight)||0,he.value=pe.value-_e.value-Oe.value,An&&(ae.value={width:Mn,height:Fn,headerHeight:g.showHeader&&(In==null?void 0:In.offsetHeight)||0},ze())},Dt=useFormSize(),jt=computed(()=>{const{bodyWidth:_n,scrollY:xn,gutterWidth:bn}=n;return _n.value?`${_n.value-(xn.value?bn:0)}px`:""}),Lt=computed(()=>g.maxHeight?"fixed":g.tableLayout),hn=computed(()=>{if(g.data&&g.data.length)return null;let _n="100%";g.height&&he.value&&(_n=`${he.value}px`);const xn=de.value;return{width:xn?`${xn}px`:"",height:_n}}),Sn=computed(()=>g.height?{height:Number.isNaN(Number(g.height))?g.height:`${g.height}px`}:g.maxHeight?{maxHeight:Number.isNaN(Number(g.maxHeight))?g.maxHeight:`${g.maxHeight}px`}:{}),On=computed(()=>{if(g.height)return{height:"100%"};if(g.maxHeight){if(Number.isNaN(Number(g.maxHeight)))return{maxHeight:`calc(${g.maxHeight} - ${_e.value+Oe.value}px)`};{const _n=g.maxHeight;if(pe.value>=Number(_n))return{maxHeight:`${pe.value-_e.value-Oe.value}px`}}}return{}});return{isHidden:L,renderExpanded:V,setDragVisible:re,isGroup:le,handleMouseLeave:xe,handleHeaderFooterMousewheel:$e,tableSize:Dt,emptyBlockStyle:hn,handleFixedMousewheel:(_n,xn)=>{const bn=$.refs.bodyWrapper;if(Math.abs(xn.spinY)>0){const Tn=bn.scrollTop;xn.pixelY<0&&Tn!==0&&_n.preventDefault(),xn.pixelY>0&&bn.scrollHeight-bn.clientHeight>Tn&&_n.preventDefault(),bn.scrollTop+=Math.ceil(xn.pixelY/5)}else bn.scrollLeft+=Math.ceil(xn.pixelX/5)},resizeProxyVisible:oe,bodyWidth:jt,resizeState:ae,doLayout:ze,tableBodyStyles:Ne,tableLayout:Lt,scrollbarViewStyle:ue,tableInnerStyle:Sn,scrollbarStyle:On}}function useKeyRender(g){const n=ref(),r=()=>{const $=g.vnode.el.querySelector(".hidden-columns"),L={childList:!0,subtree:!0},V=g.store.states.updateOrderFns;n.value=new MutationObserver(()=>{V.forEach(oe=>oe())}),n.value.observe($,L)};onMounted(()=>{r()}),onUnmounted(()=>{var $;($=n.value)==null||$.disconnect()})}var defaultProps$1={data:{type:Array,default:()=>[]},size:useSizeProp,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:{type:Boolean,default:!1},flexible:Boolean};const useScrollbar=()=>{const g=ref(),n=($,L)=>{const V=g.value;V&&V.scrollTo($,L)},r=($,L)=>{const V=g.value;V&&isNumber$2(L)&&["Top","Left"].includes($)&&V[`setScroll${$}`](L)};return{scrollBarRef:g,scrollTo:n,setScrollTop:$=>r("Top",$),setScrollLeft:$=>r("Left",$)}};let tableIdSeed=1;const _sfc_main$p=defineComponent({name:"ElTable",directives:{Mousewheel},components:{TableHeader,TableBody,TableFooter,ElScrollbar,hColgroup},props:defaultProps$1,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(g){const{t:n}=useLocale(),r=useNamespace("table"),$=getCurrentInstance();provide(TABLE_INJECTION_KEY,$);const L=createStore($,g);$.store=L;const V=new TableLayout({store:$.store,table:$,fit:g.fit,showHeader:g.showHeader});$.layout=V;const oe=computed(()=>(L.states.data.value||[]).length===0),{setCurrentRow:re,getSelectionRows:ae,toggleRowSelection:le,clearSelection:ue,clearFilter:de,toggleAllSelection:pe,toggleRowExpansion:he,clearSort:_e,sort:Oe}=useUtils(L),{isHidden:xe,renderExpanded:$e,setDragVisible:Ie,isGroup:Ne,handleMouseLeave:ze,handleHeaderFooterMousewheel:Ue,tableSize:Fe,emptyBlockStyle:qe,handleFixedMousewheel:Et,resizeProxyVisible:At,bodyWidth:kt,resizeState:Dt,doLayout:jt,tableBodyStyles:Lt,tableLayout:hn,scrollbarViewStyle:Sn,tableInnerStyle:On,scrollbarStyle:_n}=useStyle(g,V,L,$),{scrollBarRef:xn,scrollTo:bn,setScrollLeft:Tn,setScrollTop:An}=useScrollbar(),En=debounce(jt,50),Ln=`${r.namespace.value}-table_${tableIdSeed++}`;$.tableId=Ln,$.state={isGroup:Ne,resizeState:Dt,doLayout:jt,debouncedUpdateLayout:En};const Wn=computed(()=>g.sumText||n("el.table.sumText")),Mn=computed(()=>g.emptyText||n("el.table.emptyText"));return useKeyRender($),{ns:r,layout:V,store:L,handleHeaderFooterMousewheel:Ue,handleMouseLeave:ze,tableId:Ln,tableSize:Fe,isHidden:xe,isEmpty:oe,renderExpanded:$e,resizeProxyVisible:At,resizeState:Dt,isGroup:Ne,bodyWidth:kt,tableBodyStyles:Lt,emptyBlockStyle:qe,debouncedUpdateLayout:En,handleFixedMousewheel:Et,setCurrentRow:re,getSelectionRows:ae,toggleRowSelection:le,clearSelection:ue,clearFilter:de,toggleAllSelection:pe,toggleRowExpansion:he,clearSort:_e,doLayout:jt,sort:Oe,t:n,setDragVisible:Ie,context:$,computedSumText:Wn,computedEmptyText:Mn,tableLayout:hn,scrollbarViewStyle:Sn,tableInnerStyle:On,scrollbarStyle:_n,scrollBarRef:xn,scrollTo:bn,setScrollLeft:Tn,setScrollTop:An}}}),_hoisted_1$a=["data-prefix"],_hoisted_2$4={ref:"hiddenColumns",class:"hidden-columns"};function _sfc_render(g,n,r,$,L,V){const oe=resolveComponent("hColgroup"),re=resolveComponent("table-header"),ae=resolveComponent("table-body"),le=resolveComponent("el-scrollbar"),ue=resolveComponent("table-footer"),de=resolveDirective("mousewheel");return openBlock(),createElementBlock("div",{ref:"tableWrapper",class:normalizeClass([{[g.ns.m("fit")]:g.fit,[g.ns.m("striped")]:g.stripe,[g.ns.m("border")]:g.border||g.isGroup,[g.ns.m("hidden")]:g.isHidden,[g.ns.m("group")]:g.isGroup,[g.ns.m("fluid-height")]:g.maxHeight,[g.ns.m("scrollable-x")]:g.layout.scrollX.value,[g.ns.m("scrollable-y")]:g.layout.scrollY.value,[g.ns.m("enable-row-hover")]:!g.store.states.isComplex.value,[g.ns.m("enable-row-transition")]:(g.store.states.data.value||[]).length!==0&&(g.store.states.data.value||[]).length<100,"has-footer":g.showSummary},g.ns.m(g.tableSize),g.className,g.ns.b(),g.ns.m(`layout-${g.tableLayout}`)]),style:normalizeStyle$1(g.style),"data-prefix":g.ns.namespace.value,onMouseleave:n[0]||(n[0]=(...pe)=>g.handleMouseLeave&&g.handleMouseLeave(...pe))},[createBaseVNode("div",{class:normalizeClass(g.ns.e("inner-wrapper")),style:normalizeStyle$1(g.tableInnerStyle)},[createBaseVNode("div",_hoisted_2$4,[renderSlot(g.$slots,"default")],512),g.showHeader&&g.tableLayout==="fixed"?withDirectives((openBlock(),createElementBlock("div",{key:0,ref:"headerWrapper",class:normalizeClass(g.ns.e("header-wrapper"))},[createBaseVNode("table",{ref:"tableHeader",class:normalizeClass(g.ns.e("header")),style:normalizeStyle$1(g.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[createVNode$1(oe,{columns:g.store.states.columns.value,"table-layout":g.tableLayout},null,8,["columns","table-layout"]),createVNode$1(re,{ref:"tableHeaderRef",border:g.border,"default-sort":g.defaultSort,store:g.store,onSetDragVisible:g.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[de,g.handleHeaderFooterMousewheel]]):createCommentVNode("v-if",!0),createBaseVNode("div",{ref:"bodyWrapper",class:normalizeClass(g.ns.e("body-wrapper"))},[createVNode$1(le,{ref:"scrollBarRef","view-style":g.scrollbarViewStyle,"wrap-style":g.scrollbarStyle,always:g.scrollbarAlwaysOn},{default:withCtx(()=>[createBaseVNode("table",{ref:"tableBody",class:normalizeClass(g.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:normalizeStyle$1({width:g.bodyWidth,tableLayout:g.tableLayout})},[createVNode$1(oe,{columns:g.store.states.columns.value,"table-layout":g.tableLayout},null,8,["columns","table-layout"]),g.showHeader&&g.tableLayout==="auto"?(openBlock(),createBlock(re,{key:0,ref:"tableHeaderRef",border:g.border,"default-sort":g.defaultSort,store:g.store,onSetDragVisible:g.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])):createCommentVNode("v-if",!0),createVNode$1(ae,{context:g.context,highlight:g.highlightCurrentRow,"row-class-name":g.rowClassName,"tooltip-effect":g.tooltipEffect,"tooltip-options":g.tooltipOptions,"row-style":g.rowStyle,store:g.store,stripe:g.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"])],6),g.isEmpty?(openBlock(),createElementBlock("div",{key:0,ref:"emptyBlock",style:normalizeStyle$1(g.emptyBlockStyle),class:normalizeClass(g.ns.e("empty-block"))},[createBaseVNode("span",{class:normalizeClass(g.ns.e("empty-text"))},[renderSlot(g.$slots,"empty",{},()=>[createTextVNode(toDisplayString(g.computedEmptyText),1)])],2)],6)):createCommentVNode("v-if",!0),g.$slots.append?(openBlock(),createElementBlock("div",{key:1,ref:"appendWrapper",class:normalizeClass(g.ns.e("append-wrapper"))},[renderSlot(g.$slots,"append")],2)):createCommentVNode("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),g.showSummary?withDirectives((openBlock(),createElementBlock("div",{key:1,ref:"footerWrapper",class:normalizeClass(g.ns.e("footer-wrapper"))},[createVNode$1(ue,{border:g.border,"default-sort":g.defaultSort,store:g.store,style:normalizeStyle$1(g.tableBodyStyles),"sum-text":g.computedSumText,"summary-method":g.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],2)),[[vShow,!g.isEmpty],[de,g.handleHeaderFooterMousewheel]]):createCommentVNode("v-if",!0),g.border||g.isGroup?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(g.ns.e("border-left-patch"))},null,2)):createCommentVNode("v-if",!0)],6),withDirectives(createBaseVNode("div",{ref:"resizeProxy",class:normalizeClass(g.ns.e("column-resize-proxy"))},null,2),[[vShow,g.resizeProxyVisible]])],46,_hoisted_1$a)}var Table=_export_sfc$1(_sfc_main$p,[["render",_sfc_render],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const defaultClassNames={selection:"table-column--selection",expand:"table__expand-column"},cellStarts={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},getDefaultClassName=g=>defaultClassNames[g]||"",cellForced={selection:{renderHeader({store:g}){function n(){return g.states.data.value&&g.states.data.value.length===0}return h$2(ElCheckbox,{disabled:n(),size:g.states.tableSize.value,indeterminate:g.states.selection.value.length>0&&!g.states.isAllSelected.value,"onUpdate:modelValue":g.toggleAllSelection,modelValue:g.states.isAllSelected.value})},renderCell({row:g,column:n,store:r,$index:$}){return h$2(ElCheckbox,{disabled:n.selectable?!n.selectable.call(null,g,$):!1,size:r.states.tableSize.value,onChange:()=>{r.commit("rowSelectedChanged",g)},onClick:L=>L.stopPropagation(),modelValue:r.isSelected(g)})},sortable:!1,resizable:!1},index:{renderHeader({column:g}){return g.label||"#"},renderCell({column:g,$index:n}){let r=n+1;const $=g.index;return typeof $=="number"?r=n+$:typeof $=="function"&&(r=$(n)),h$2("div",{},[r])},sortable:!1},expand:{renderHeader({column:g}){return g.label||""},renderCell({row:g,store:n,expanded:r}){const{ns:$}=n,L=[$.e("expand-icon")];return r&&L.push($.em("expand-icon","expanded")),h$2("div",{class:L,onClick:function(V){V.stopPropagation(),n.toggleRowExpansion(g)}},{default:()=>[h$2(ElIcon,null,{default:()=>[h$2(arrow_right_default)]})]})},sortable:!1,resizable:!1}};function defaultRenderCell({row:g,column:n,$index:r}){var $;const L=n.property,V=L&&getProp(g,L).value;return n&&n.formatter?n.formatter(g,n,V,r):(($=V==null?void 0:V.toString)==null?void 0:$.call(V))||""}function treeCellPrefix({row:g,treeNode:n,store:r},$=!1){const{ns:L}=r;if(!n)return $?[h$2("span",{class:L.e("placeholder")})]:null;const V=[],oe=function(re){re.stopPropagation(),!n.loading&&r.loadOrToggle(g)};if(n.indent&&V.push(h$2("span",{class:L.e("indent"),style:{"padding-left":`${n.indent}px`}})),typeof n.expanded=="boolean"&&!n.noLazyChildren){const re=[L.e("expand-icon"),n.expanded?L.em("expand-icon","expanded"):""];let ae=arrow_right_default;n.loading&&(ae=loading_default),V.push(h$2("div",{class:re,onClick:oe},{default:()=>[h$2(ElIcon,{class:{[L.is("loading")]:n.loading}},{default:()=>[h$2(ae)]})]}))}else V.push(h$2("span",{class:L.e("placeholder")}));return V}function getAllAliases(g,n){return g.reduce((r,$)=>(r[$]=$,r),n)}function useWatcher(g,n){const r=getCurrentInstance();return{registerComplexWatchers:()=>{const $=["fixed"],L={realWidth:"width",realMinWidth:"minWidth"},V=getAllAliases($,L);Object.keys(V).forEach(oe=>{const re=L[oe];hasOwn$1(n,re)&&watch(()=>n[re],ae=>{let le=ae;re==="width"&&oe==="realWidth"&&(le=parseWidth(ae)),re==="minWidth"&&oe==="realMinWidth"&&(le=parseMinWidth(ae)),r.columnConfig.value[re]=le,r.columnConfig.value[oe]=le;const ue=re==="fixed";g.value.store.scheduleLayout(ue)})})},registerNormalWatchers:()=>{const $=["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],L={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},V=getAllAliases($,L);Object.keys(V).forEach(oe=>{const re=L[oe];hasOwn$1(n,re)&&watch(()=>n[re],ae=>{r.columnConfig.value[oe]=ae})})}}}function useRender(g,n,r){const $=getCurrentInstance(),L=ref(""),V=ref(!1),oe=ref(),re=ref(),ae=useNamespace("table");watchEffect(()=>{oe.value=g.align?`is-${g.align}`:null,oe.value}),watchEffect(()=>{re.value=g.headerAlign?`is-${g.headerAlign}`:oe.value,re.value});const le=computed(()=>{let xe=$.vnode.vParent||$.parent;for(;xe&&!xe.tableId&&!xe.columnId;)xe=xe.vnode.vParent||xe.parent;return xe}),ue=computed(()=>{const{store:xe}=$.parent;if(!xe)return!1;const{treeData:$e}=xe.states,Ie=$e.value;return Ie&&Object.keys(Ie).length>0}),de=ref(parseWidth(g.width)),pe=ref(parseMinWidth(g.minWidth)),he=xe=>(de.value&&(xe.width=de.value),pe.value&&(xe.minWidth=pe.value),!de.value&&pe.value&&(xe.width=void 0),xe.minWidth||(xe.minWidth=80),xe.realWidth=Number(xe.width===void 0?xe.minWidth:xe.width),xe),_e=xe=>{const $e=xe.type,Ie=cellForced[$e]||{};Object.keys(Ie).forEach(ze=>{const Ue=Ie[ze];ze!=="className"&&Ue!==void 0&&(xe[ze]=Ue)});const Ne=getDefaultClassName($e);if(Ne){const ze=`${unref(ae.namespace)}-${Ne}`;xe.className=xe.className?`${xe.className} ${ze}`:ze}return xe},Oe=xe=>{Array.isArray(xe)?xe.forEach(Ie=>$e(Ie)):$e(xe);function $e(Ie){var Ne;((Ne=Ie==null?void 0:Ie.type)==null?void 0:Ne.name)==="ElTableColumn"&&(Ie.vParent=$)}};return{columnId:L,realAlign:oe,isSubColumn:V,realHeaderAlign:re,columnOrTableParent:le,setColumnWidth:he,setColumnForcedProps:_e,setColumnRenders:xe=>{g.renderHeader||xe.type!=="selection"&&(xe.renderHeader=Ie=>{$.columnConfig.value.label;const Ne=n.header;return Ne?Ne(Ie):xe.label});let $e=xe.renderCell;return xe.type==="expand"?(xe.renderCell=Ie=>h$2("div",{class:"cell"},[$e(Ie)]),r.value.renderExpanded=Ie=>n.default?n.default(Ie):n.default):($e=$e||defaultRenderCell,xe.renderCell=Ie=>{let Ne=null;if(n.default){const At=n.default(Ie);Ne=At.some(kt=>kt.type!==Comment)?At:$e(Ie)}else Ne=$e(Ie);const{columns:ze}=r.value.store.states,Ue=ze.value.findIndex(At=>At.type==="default"),Fe=ue.value&&Ie.cellIndex===Ue,qe=treeCellPrefix(Ie,Fe),Et={class:"cell",style:{}};return xe.showOverflowTooltip&&(Et.class=`${Et.class} ${unref(ae.namespace)}-tooltip`,Et.style={width:`${(Ie.column.realWidth||Number(Ie.column.width))-1}px`}),Oe(Ne),h$2("div",Et,[qe,Ne])}),xe},getPropsData:(...xe)=>xe.reduce(($e,Ie)=>(Array.isArray(Ie)&&Ie.forEach(Ne=>{$e[Ne]=g[Ne]}),$e),{}),getColumnElIndex:(xe,$e)=>Array.prototype.indexOf.call(xe,$e),updateColumnOrder:()=>{r.value.store.commit("updateColumnOrder",$.columnConfig.value)}}}var defaultProps={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:[Boolean,Object],fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:g=>g.every(n=>["ascending","descending",null].includes(n))}};let columnIdSeed=1;var ElTableColumn$1=defineComponent({name:"ElTableColumn",components:{ElCheckbox},props:defaultProps,setup(g,{slots:n}){const r=getCurrentInstance(),$=ref({}),L=computed(()=>{let Ne=r.parent;for(;Ne&&!Ne.tableId;)Ne=Ne.parent;return Ne}),{registerNormalWatchers:V,registerComplexWatchers:oe}=useWatcher(L,g),{columnId:re,isSubColumn:ae,realHeaderAlign:le,columnOrTableParent:ue,setColumnWidth:de,setColumnForcedProps:pe,setColumnRenders:he,getPropsData:_e,getColumnElIndex:Oe,realAlign:xe,updateColumnOrder:$e}=useRender(g,n,L),Ie=ue.value;re.value=`${Ie.tableId||Ie.columnId}_column_${columnIdSeed++}`,onBeforeMount(()=>{ae.value=L.value!==Ie;const Ne=g.type||"default",ze=g.sortable===""?!0:g.sortable,Ue={...cellStarts[Ne],id:re.value,type:Ne,property:g.prop||g.property,align:xe,headerAlign:le,showOverflowTooltip:g.showOverflowTooltip,filterable:g.filters||g.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:ze,index:g.index,rawColumnKey:r.vnode.key};let Fe=_e(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);Fe=mergeOptions$1(Ue,Fe),Fe=compose(he,de,pe)(Fe),$.value=Fe,V(),oe()}),onMounted(()=>{var Ne;const ze=ue.value,Ue=ae.value?ze.vnode.el.children:(Ne=ze.refs.hiddenColumns)==null?void 0:Ne.children,Fe=()=>Oe(Ue||[],r.vnode.el);$.value.getColumnIndex=Fe,Fe()>-1&&L.value.store.commit("insertColumn",$.value,ae.value?ze.columnConfig.value:null,$e)}),onBeforeUnmount(()=>{L.value.store.commit("removeColumn",$.value,ae.value?Ie.columnConfig.value:null,$e)}),r.columnId=re.value,r.columnConfig=$},render(){var g,n,r;try{const $=(n=(g=this.$slots).default)==null?void 0:n.call(g,{row:{},column:{},$index:-1}),L=[];if(Array.isArray($))for(const V of $)((r=V.type)==null?void 0:r.name)==="ElTableColumn"||V.shapeFlag&2?L.push(V):V.type===Fragment&&Array.isArray(V.children)&&V.children.forEach(oe=>{(oe==null?void 0:oe.patchFlag)!==1024&&!isString$4(oe==null?void 0:oe.children)&&L.push(oe)});return h$2("div",L)}catch{return h$2("div",[])}}});let ElTable,ElTableColumn,base$1,form,collapse,collapseItem,__default__$l,_sfc_main$o,FormCollapse_vue_vue_type_style_index_0_scoped_b32f0ede_lang,__unplugin_components_14,card,__default__$k,_sfc_main$n,FormCard_vue_vue_type_style_index_0_scoped_7129ca38_lang,__unplugin_components_13,row,col,__default__$j,_sfc_main$m,FormGrid_vue_vue_type_style_index_0_scoped_3514cd03_lang,__unplugin_components_12$1,formItem,button,_switch,inputNumber,input,timePicker,scrollbar,popper,datePicker,checkboxGroup,checkbox,colorPicker,tag,option,optionGroup,select,_hoisted_1$9,__default__$i,_sfc_main$l,__default__$h,__vite_glob_1_2$1,scriptRel,assetsURL,seen,__vitePreload,useSysStore,__default__$g,_sfc_main$j,__vite_glob_1_16,menu,tooltip,menuItem,subMenu,__default__$f,_sfc_main$i,__default__$e,_sfc_main$h,EvMenu_vue_vue_type_style_index_0_scoped_ab9019dc_lang,__unplugin_components_0,__vite_glob_1_7,_imports_0,data,_withScopeId,_hoisted_1$8,_hoisted_2$3,_hoisted_3$2,_hoisted_4$1,_hoisted_5$1,_sfc_main$g,LayoutHeader_vue_vue_type_style_index_0_scoped_01ab4808_lang,LayoutHeader,_hoisted_1$7,_sfc_main$f,LayoutContainer_vue_vue_type_style_index_0_scoped_13c142d5_lang,LayoutContainer,_hoisted_1$6,_sfc_main$e,LayoutView_vue_vue_type_style_index_0_scoped_f86e79be_lang,Layout,business$1,__vite_glob_0_0$1,__default__$d,_sfc_main$d,business,__vite_glob_0_1$1;ElTable=withInstall(Table,{TableColumn:ElTableColumn$1}),ElTableColumn=withNoopInstall(ElTableColumn$1),base$1="",form="",collapse="",collapseItem="",__default__$l=defineComponent({name:"formCard"}),_sfc_main$o=defineComponent({...__default__$l,props:{collapse:{type:Object,required:!0},data:{type:Object,required:!0},title:{type:String}},setup(g){const n=g,{collapse:r,data:$,title:L}=toRefs(n);return(V,oe)=>{const re=ElCollapseItem,ae=ElCollapse;return openBlock(),createBlock(ae,normalizeProps(guardReactiveProps(V.$attrs)),{default:withCtx(()=>[createVNode$1(re,{title:unref(L),name:unref(L)},{default:withCtx(()=>[createVNode$1(_sfc_main$l,{list:unref(r).list,data:unref($)},null,8,["list","data"])]),_:1},8,["title","name"])]),_:1},16)}}}),FormCollapse_vue_vue_type_style_index_0_scoped_b32f0ede_lang="",__unplugin_components_14=_export_sfc$2(_sfc_main$o,[["__scopeId","data-v-b32f0ede"]]),card="",__default__$k=defineComponent({name:"formCard"}),_sfc_main$n=defineComponent({...__default__$k,props:{card:{type:Object,required:!0},data:{type:Object,required:!0}},setup(g){const n=g,{card:r,data:$}=toRefs(n);return(L,V)=>{const oe=ElCard;return openBlock(),createBlock(oe,normalizeProps(guardReactiveProps(L.$attrs)),{default:withCtx(()=>[createVNode$1(_sfc_main$l,{list:unref(r).list,data:unref($)},null,8,["list","data"])]),_:1},16)}}}),FormCard_vue_vue_type_style_index_0_scoped_7129ca38_lang="",__unplugin_components_13=_export_sfc$2(_sfc_main$n,[["__scopeId","data-v-7129ca38"]]),row="",col="",__default__$j=defineComponent({name:"formGrid"}),_sfc_main$m=defineComponent({...__default__$j,props:{cols:{type:Array,required:!0},data:{type:Object,required:!0}},setup(g){const n=g,{cols:r,data:$}=toRefs(n);return(L,V)=>{const oe=ElCol,re=ElRow;return openBlock(),createBlock(re,normalizeProps(guardReactiveProps(L.$attrs)),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(r),ae=>(openBlock(),createBlock(oe,{key:ae.key,span:Number(ae.span),class:"col"},{default:withCtx(()=>[createVNode$1(_sfc_main$l,{list:ae.list,data:unref($)},null,8,["list","data"])]),_:2},1032,["span"]))),128))]),_:1},16)}}}),FormGrid_vue_vue_type_style_index_0_scoped_3514cd03_lang="",__unplugin_components_12$1=_export_sfc$2(_sfc_main$m,[["__scopeId","data-v-3514cd03"]]),formItem="",button="",_switch="",inputNumber="",input="",timePicker="",scrollbar="",popper="",datePicker="",checkboxGroup="",checkbox="",colorPicker="",tag="",option="",optionGroup="",select="",_hoisted_1$9={key:1},__default__$i=defineComponent({name:"FormComp"}),_sfc_main$l=defineComponent({...__default__$i,props:{list:{type:Array,required:!0},data:{type:Object,required:!0}},emits:["update:data"],setup(g,{emit:n}){const r=g,{list:$}=toRefs(r),L=computed({get(){return r.data},set(oe){n("update:data",oe)}}),V=reactive({});return $.value.forEach(oe=>{oe.comp=="button"&&oe.prop.clickEvent&&(V[oe.prop.field]=new Function("formData",oe.prop.clickEvent))}),(oe,re)=>{const ae=ElInput,le=ElOption,ue=ElSelect,de=ElColorPicker,pe=ElCheckbox,he=ElCheckboxGroup$1,_e=ElDatePicker,Oe=ElTimePicker,xe=ElInputNumber,$e=ElSwitch,Ie=ElButton,Ne=ElFormItem,ze=__unplugin_components_12$1,Ue=__unplugin_components_13,Fe=__unplugin_components_14;return openBlock(!0),createElementBlock(Fragment,null,renderList(unref($),qe=>(openBlock(),createElementBlock(Fragment,{key:qe.compId},[qe.type=="component"?(openBlock(),createBlock(Ne,mergeProps({key:0,prop:qe.prop.field},qe.form_config),{default:withCtx(()=>[qe.comp=="input"?(openBlock(),createBlock(ae,mergeProps({key:qe.compId,modelValue:unref(L)[qe.prop.field],"onUpdate:modelValue":Et=>unref(L)[qe.prop.field]=Et},qe.prop),null,16,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),qe.comp=="textarea"?(openBlock(),createBlock(ae,mergeProps({key:qe.compId,modelValue:unref(L)[qe.prop.field],"onUpdate:modelValue":Et=>unref(L)[qe.prop.field]=Et},qe.prop),null,16,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),qe.comp=="select"?(openBlock(),createBlock(ue,mergeProps({key:2},qe.prop,{key:qe.compId,modelValue:unref(L)[qe.prop.field],"onUpdate:modelValue":Et=>unref(L)[qe.prop.field]=Et}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(qe.prop.options,Et=>(openBlock(),createBlock(le,{key:Et.value,value:Et.value,label:Et.label},null,8,["value","label"]))),128))]),_:2},1040,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),qe.comp=="color"?(openBlock(),createBlock(de,mergeProps({key:3},qe.prop,{key:qe.compId,modelValue:unref(L)[qe.prop.field],"onUpdate:modelValue":Et=>unref(L)[qe.prop.field]=Et}),null,16,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),qe.comp=="checkbox"?(openBlock(),createBlock(he,mergeProps({key:4},qe.prop,{key:qe.compId,modelValue:unref(L)[qe.prop.field],"onUpdate:modelValue":Et=>unref(L)[qe.prop.field]=Et}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(qe.prop.options,Et=>(openBlock(),createBlock(pe,{key:Et.value,label:Et.value},{default:withCtx(()=>[createTextVNode(toDisplayString(Et.label),1)]),_:2},1032,["label"]))),128))]),_:2},1040,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),qe.comp=="date"?(openBlock(),createBlock(_e,mergeProps({key:5},qe.prop,{key:qe.compId,modelValue:unref(L)[qe.prop.field],"onUpdate:modelValue":Et=>unref(L)[qe.prop.field]=Et}),null,16,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),qe.comp=="time"?(openBlock(),createBlock(Oe,mergeProps({key:6},qe.prop,{key:qe.compId,modelValue:unref(L)[qe.prop.field],"onUpdate:modelValue":Et=>unref(L)[qe.prop.field]=Et}),null,16,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),qe.comp=="number"?(openBlock(),createBlock(xe,mergeProps({key:7},qe.prop,{key:qe.compId,modelValue:unref(L)[qe.prop.field],"onUpdate:modelValue":Et=>unref(L)[qe.prop.field]=Et}),null,16,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),qe.comp=="switch"?(openBlock(),createBlock($e,mergeProps({key:8},qe.prop,{key:qe.compId,modelValue:unref(L)[qe.prop.field],"onUpdate:modelValue":Et=>unref(L)[qe.prop.field]=Et}),null,16,["modelValue","onUpdate:modelValue"])):createCommentVNode("",!0),qe.comp=="button"?(openBlock(),createBlock(Ie,mergeProps({key:9},qe.prop,{key:qe.compId,onClick:Et=>V[qe.prop.field](unref(L))}),{default:withCtx(()=>[createTextVNode(toDisplayString(qe.prop.name),1)]),_:2},1040,["onClick"])):createCommentVNode("",!0)]),_:2},1040,["prop"])):createCommentVNode("",!0),qe.type=="container"?(openBlock(),createElementBlock("div",_hoisted_1$9,[qe.comp=="grid"?(openBlock(),createBlock(ze,mergeProps({key:0},qe.prop,{data:unref(L)}),null,16,["data"])):createCommentVNode("",!0),qe.comp=="card"?(openBlock(),createBlock(Ue,mergeProps({key:1},qe.prop,{data:unref(L)}),null,16,["data"])):createCommentVNode("",!0),qe.comp=="collapse"?(openBlock(),createBlock(Fe,mergeProps({key:2},qe.prop,{data:unref(L)}),null,16,["data"])):createCommentVNode("",!0)])):createCommentVNode("",!0)],64))),128)}}}),__default__$h=defineComponent({name:"EvForm"}),_sfc_main$k=defineComponent({...__default__$h,props:{formConfig:{type:Object,required:!0}},setup(g,{expose:n}){const r=g,$=ref(),L=reactive({}),{formConfig:V}=toRefs(r);return n({getFormData:()=>L,resetForm:()=>{!$.value||$.value.resetFields()}}),(oe,re)=>{const ae=ElForm;return openBlock(),createBlock(ae,mergeProps(unref(V).formProp,{ref_key:"formRef",ref:$,model:L}),{default:withCtx(()=>[createVNode$1(_sfc_main$l,{list:unref(V).list,data:L},null,8,["list","data"])]),_:1},16,["model"])}}}),__vite_glob_1_2$1=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$k},Symbol.toStringTag,{value:"Module"})),scriptRel="modulepreload",assetsURL=function(g,n){return new URL(g,n).href},seen={},__vitePreload=function(g,n,r){if(!n||n.length===0)return g();const $=document.getElementsByTagName("link");return Promise.all(n.map(L=>{if(L=assetsURL(L,r),L in seen)return;seen[L]=!0;const V=L.endsWith(".css"),oe=V?'[rel="stylesheet"]':"";if(r)for(let ae=$.length-1;ae>=0;ae--){const le=$[ae];if(le.href===L&&(!V||le.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${L}"]${oe}`))return;const re=document.createElement("link");if(re.rel=V?"stylesheet":scriptRel,V||(re.as="script",re.crossOrigin=""),re.href=L,document.head.appendChild(re),V)return new Promise((ae,le)=>{re.addEventListener("load",ae),re.addEventListener("error",()=>le(new Error(`Unable to preload CSS for ${L}`)))})})).then(()=>g())},useSysStore=defineStore("sysStore",()=>{const g=ref("light"),n=reactive({sysName:"",sysLoginBackground:"",sysLogo:""});return{theme:g,sysConfig:n}}),__default__$g=defineComponent({name:"ToggleTheme"}),_sfc_main$j=defineComponent({...__default__$g,setup(g){const n=useSysStore(),{theme:r}=storeToRefs(n),$=V=>{const oe=V=="dark"?"light":"dark";document.documentElement.classList.replace(oe,V),localStorage.setItem("ev-theme",V),n.$patch({theme:V})},L=localStorage.getItem("ev-theme");return L&&n.$patch({theme:L}),document.documentElement.classList.add(r.value),(V,oe)=>{const re=ElSwitch;return openBlock(),createBlock(re,{"active-value":"dark","inactive-value":"light","model-value":unref(r),onChange:$},null,8,["model-value"])}}}),__vite_glob_1_16=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$j},Symbol.toStringTag,{value:"Module"})),menu="",tooltip="",menuItem="",subMenu="",__default__$f=defineComponent({name:"EvMenuItem"}),_sfc_main$i=defineComponent({...__default__$f,props:{menuData:{type:Object,required:!0},replaceFields:{type:Object,required:!1,default:()=>({value:"value",children:"children",label:"label",key:"key",icon:"icon"})}},emits:["onClickItem"],setup(g,{emit:n}){const r=g,{menuData:$,replaceFields:L}=toRefs(r),V=re=>{n("onClickItem",re.index)},oe=re=>{n("onClickItem",re)};return(re,ae)=>{const le=resolveComponent("EvMenuItem",!0),ue=ElSubMenu,de=ElMenuItem;return openBlock(!0),createElementBlock(Fragment,null,renderList(unref($),(pe,he)=>(openBlock(),createElementBlock(Fragment,{key:he},[pe[unref(L).children]&&pe[unref(L).children].length?(openBlock(),createBlock(ue,{key:0,index:pe[unref(L).value]},{title:withCtx(()=>[unref(L).icon&&pe[unref(L).icon]?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass(["iconfont","icon-"+pe[unref(L).icon]])},null,2)):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(pe[unref(L).label]),1)]),default:withCtx(()=>[createVNode$1(le,{"menu-data":pe[unref(L).children],"replace-fields":unref(L),onOnClickItem:oe},null,8,["menu-data","replace-fields"])]),_:2},1032,["index"])):(openBlock(),createBlock(de,{key:1,index:pe[unref(L).value],onClick:V},{default:withCtx(()=>[unref(L).icon&&pe[unref(L).icon]?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass(["iconfont","icon-"+pe[unref(L).icon]])},null,2)):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(pe[unref(L).label]),1)]),_:2},1032,["index"]))],64))),128)}}}),__default__$e=defineComponent({name:"EvMenu"}),_sfc_main$h=defineComponent({...__default__$e,props:{data:{type:Array,required:!0},replaceFields:{type:Object,required:!1,default:()=>({value:"value",children:"children",label:"label",key:"key"})}},emits:["onClickItem"],setup(g,{emit:n}){const r=g,{data:$,replaceFields:L}=toRefs(r),V=oe=>{n("onClickItem",oe)};return(oe,re)=>{const ae=ElMenu;return openBlock(),createBlock(ae,mergeProps({class:"ev-menu"},oe.$attrs),{default:withCtx(()=>[createVNode$1(_sfc_main$i,mergeProps({"menu-data":unref($),"replace-fields":unref(L)},oe.$attrs,{onOnClickItem:V}),null,16,["menu-data","replace-fields"])]),_:1},16)}}}),EvMenu_vue_vue_type_style_index_0_scoped_ab9019dc_lang="",__unplugin_components_0=_export_sfc$2(_sfc_main$h,[["__scopeId","data-v-ab9019dc"]]),__vite_glob_1_7=Object.freeze(Object.defineProperty({__proto__:null,default:__unplugin_components_0},Symbol.toStringTag,{value:"Module"})),_imports_0=""+new URL("logo.4d128d94.jpg",import.meta.url).href,data=[{id:44,appName:"\u8868\u5355\u8BBE\u8BA1",appId:"2af076bc-9bae-4909-b6d3-83d583441d8d",appType:"app",orderNum:200,pid:"",icon:"",description:""},{id:441,appName:"\u9875\u9762\u8BBE\u8BA1",appId:"test",appType:"app",orderNum:200,pid:"",icon:"",description:""}],_withScopeId=g=>(pushScopeId("data-v-01ab4808"),g=g(),popScopeId(),g),_hoisted_1$8={class:"layout_header"},_hoisted_2$3=_withScopeId(()=>createBaseVNode("div",{class:"layout_header_sys_logo"},[createBaseVNode("img",{src:_imports_0,alt:""})],-1)),_hoisted_3$2=_withScopeId(()=>createBaseVNode("div",{class:"layout_header_sys_title"}," gaius-form ",-1)),_hoisted_4$1=[_hoisted_2$3,_hoisted_3$2],_hoisted_5$1={class:"layout_header_sys_opt"},_sfc_main$g=defineComponent({__name:"LayoutHeader",setup(g){const n=ref(data),r=$=>{routerPush($)};return($,L)=>{const V=__unplugin_components_0,oe=_sfc_main$j;return openBlock(),createElementBlock("header",_hoisted_1$8,[createBaseVNode("div",{class:"layout_header_sys",onClick:L[0]||(L[0]=re=>r("home"))},_hoisted_4$1),createVNode$1(V,{class:"layout_header_sys_menu",mode:"horizontal",data:n.value,"replace-fields":{value:"appId",label:"appName",children:"children",icon:"icon"},onOnClickItem:r},null,8,["data"]),createBaseVNode("div",_hoisted_5$1,[createVNode$1(oe)])])}}}),LayoutHeader_vue_vue_type_style_index_0_scoped_01ab4808_lang="",LayoutHeader=_export_sfc$2(_sfc_main$g,[["__scopeId","data-v-01ab4808"]]),_hoisted_1$7={class:"layout_container"},_sfc_main$f=defineComponent({__name:"LayoutContainer",setup(g){return(n,r)=>{const $=resolveComponent("router-view");return openBlock(),createElementBlock("main",_hoisted_1$7,[createVNode$1($)])}}}),LayoutContainer_vue_vue_type_style_index_0_scoped_13c142d5_lang="",LayoutContainer=_export_sfc$2(_sfc_main$f,[["__scopeId","data-v-13c142d5"]]),_hoisted_1$6={class:"layout_main"},_sfc_main$e=defineComponent({__name:"LayoutView",setup(g){return(n,r)=>(openBlock(),createElementBlock("div",_hoisted_1$6,[createVNode$1(LayoutHeader),createVNode$1(LayoutContainer)]))}}),LayoutView_vue_vue_type_style_index_0_scoped_f86e79be_lang="",Layout=_export_sfc$2(_sfc_main$e,[["__scopeId","data-v-f86e79be"]]),business$1=[{path:"/",name:"business",component:Layout,children:[{path:"home",name:"home",component:()=>__vitePreload(()=>import("./HomeView.4cd73a58.js").then(async g=>(await g.__tla,g)),["./HomeView.4cd73a58.js","./HomeView.8dbba45a.css"],import.meta.url),meta:{appId:"home"}},{path:"formList",name:"formList",component:()=>__vitePreload(()=>import("./FormList.ca9ced1a.js").then(async g=>(await g.__tla,g)),["./FormList.ca9ced1a.js","./divider.e9a2dc6d.js","./divider.bc49360e.css","./link.9db7c650.js","./link.9c55d40e.css","./api.60f16167.js","./request.f4cf2784.js","./FormList.94e0358d.css"],import.meta.url),meta:{appId:"2af076bc-9bae-4909-b6d3-83d583441d8d"}},{path:"formDesign",name:"formDesign",component:()=>__vitePreload(()=>import("./FormDesign.1906fbe9.js").then(async g=>(await g.__tla,g)),["./FormDesign.1906fbe9.js","./vuedraggable.umd.d47a0189.js","./vuedraggable.a5b84b01.css","./api.60f16167.js","./request.f4cf2784.js","./FormDesign.d700e31e.css"],import.meta.url),meta:{appId:"2af076bc-9bae-4909-b6d3-83d583441d8d"}},{path:"viewList",name:"viewList",component:()=>__vitePreload(()=>import("./ViewList.4c6fd11f.js").then(async g=>(await g.__tla,g)),["./ViewList.4c6fd11f.js","./divider.e9a2dc6d.js","./divider.bc49360e.css","./api.96f3aea1.js","./request.f4cf2784.js","./ViewList.5b385960.css"],import.meta.url),meta:{appId:"test"}},{path:"viewDesign",name:"viewDesign",component:()=>__vitePreload(()=>import("./ViewDesign.e961645a.js").then(async g=>(await g.__tla,g)),["./ViewDesign.e961645a.js","./link.9db7c650.js","./link.9c55d40e.css","./vuedraggable.umd.d47a0189.js","./vuedraggable.a5b84b01.css","./useViewData.b074e28b.js","./api.96f3aea1.js","./request.f4cf2784.js","./ViewDesign.a21257ca.css"],import.meta.url),meta:{appId:"test"}},{path:"404",name:"404",component:()=>__vitePreload(()=>import("./404View.2e0a4150.js").then(async g=>(await g.__tla,g)),[],import.meta.url)}]}],__vite_glob_0_0$1=Object.freeze(Object.defineProperty({__proto__:null,default:business$1},Symbol.toStringTag,{value:"Module"})),__default__$d=defineComponent({name:"view"}),_sfc_main$d=defineComponent({...__default__$d,setup(g){return(n,r)=>{const $=resolveComponent("router-view");return openBlock(),createBlock($)}}}),business=[{path:"/view",name:"view",component:_sfc_main$d,children:[{path:"viewPre",name:"viewPre",component:()=>__vitePreload(()=>import("./ViewPreview.9497f29e.js").then(async g=>(await g.__tla,g)),["./ViewPreview.9497f29e.js","./useViewData.b074e28b.js","./api.96f3aea1.js","./request.f4cf2784.js","./ViewPreview.0fe40530.css"],import.meta.url),meta:{appId:"test"}}]}],__vite_glob_0_1$1=Object.freeze(Object.defineProperty({__proto__:null,default:business},Symbol.toStringTag,{value:"Module"}));const isBrowser=typeof window<"u";function isESModule(g){return g.__esModule||g[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(g,n){const r={};for(const $ in n){const L=n[$];r[$]=isArray$2(L)?L.map(g):g(L)}return r}const noop$2=()=>{},isArray$2=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=g=>g.replace(TRAILING_SLASH_RE,"");function parseURL(g,n,r="/"){let $,L={},V="",oe="";const re=n.indexOf("#");let ae=n.indexOf("?");return re<ae&&re>=0&&(ae=-1),ae>-1&&($=n.slice(0,ae),V=n.slice(ae+1,re>-1?re:n.length),L=g(V)),re>-1&&($=$||n.slice(0,re),oe=n.slice(re,n.length)),$=resolveRelativePath($!=null?$:n,r),{fullPath:$+(V&&"?")+V+oe,path:$,query:L,hash:oe}}function stringifyURL(g,n){const r=n.query?g(n.query):"";return n.path+(r&&"?")+r+(n.hash||"")}function stripBase(g,n){return!n||!g.toLowerCase().startsWith(n.toLowerCase())?g:g.slice(n.length)||"/"}function isSameRouteLocation(g,n,r){const $=n.matched.length-1,L=r.matched.length-1;return $>-1&&$===L&&isSameRouteRecord(n.matched[$],r.matched[L])&&isSameRouteLocationParams(n.params,r.params)&&g(n.query)===g(r.query)&&n.hash===r.hash}function isSameRouteRecord(g,n){return(g.aliasOf||g)===(n.aliasOf||n)}function isSameRouteLocationParams(g,n){if(Object.keys(g).length!==Object.keys(n).length)return!1;for(const r in g)if(!isSameRouteLocationParamsValue(g[r],n[r]))return!1;return!0}function isSameRouteLocationParamsValue(g,n){return isArray$2(g)?isEquivalentArray(g,n):isArray$2(n)?isEquivalentArray(n,g):g===n}function isEquivalentArray(g,n){return isArray$2(n)?g.length===n.length&&g.every((r,$)=>r===n[$]):g.length===1&&g[0]===n}function resolveRelativePath(g,n){if(g.startsWith("/"))return g;if(!g)return n;const r=n.split("/"),$=g.split("/");let L=r.length-1,V,oe;for(V=0;V<$.length;V++)if(oe=$[V],oe!==".")if(oe==="..")L>1&&L--;else break;return r.slice(0,L).join("/")+"/"+$.slice(V-(V===$.length?1:0)).join("/")}var NavigationType;(function(g){g.pop="pop",g.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(g){g.back="back",g.forward="forward",g.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(g){if(!g)if(isBrowser){const n=document.querySelector("base");g=n&&n.getAttribute("href")||"/",g=g.replace(/^\w+:\/\/[^\/]+/,"")}else g="/";return g[0]!=="/"&&g[0]!=="#"&&(g="/"+g),removeTrailingSlash(g)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(g,n){return g.replace(BEFORE_HASH_RE,"#")+n}function getElementPosition(g,n){const r=document.documentElement.getBoundingClientRect(),$=g.getBoundingClientRect();return{behavior:n.behavior,left:$.left-r.left-(n.left||0),top:$.top-r.top-(n.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(g){let n;if("el"in g){const r=g.el,$=typeof r=="string"&&r.startsWith("#"),L=typeof r=="string"?$?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!L)return;n=getElementPosition(L,g)}else n=g;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function getScrollKey(g,n){return(history.state?history.state.position-n:-1)+g}const scrollPositions=new Map;function saveScrollPosition(g,n){scrollPositions.set(g,n)}function getSavedScrollPosition(g){const n=scrollPositions.get(g);return scrollPositions.delete(g),n}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(g,n){const{pathname:r,search:$,hash:L}=n,V=g.indexOf("#");if(V>-1){let oe=L.includes(g.slice(V))?g.slice(V).length:1,re=L.slice(oe);return re[0]!=="/"&&(re="/"+re),stripBase(re,"")}return stripBase(r,g)+$+L}function useHistoryListeners(g,n,r,$){let L=[],V=[],oe=null;const re=({state:pe})=>{const he=createCurrentLocation(g,location),_e=r.value,Oe=n.value;let xe=0;if(pe){if(r.value=he,n.value=pe,oe&&oe===_e){oe=null;return}xe=Oe?pe.position-Oe.position:0}else $(he);L.forEach($e=>{$e(r.value,_e,{delta:xe,type:NavigationType.pop,direction:xe?xe>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function ae(){oe=r.value}function le(pe){L.push(pe);const he=()=>{const _e=L.indexOf(pe);_e>-1&&L.splice(_e,1)};return V.push(he),he}function ue(){const{history:pe}=window;!pe.state||pe.replaceState(assign({},pe.state,{scroll:computeScrollPosition()}),"")}function de(){for(const pe of V)pe();V=[],window.removeEventListener("popstate",re),window.removeEventListener("beforeunload",ue)}return window.addEventListener("popstate",re),window.addEventListener("beforeunload",ue),{pauseListeners:ae,listen:le,destroy:de}}function buildState(g,n,r,$=!1,L=!1){return{back:g,current:n,forward:r,replaced:$,position:window.history.length,scroll:L?computeScrollPosition():null}}function useHistoryStateNavigation(g){const{history:n,location:r}=window,$={value:createCurrentLocation(g,r)},L={value:n.state};L.value||V($.value,{back:null,current:$.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function V(ae,le,ue){const de=g.indexOf("#"),pe=de>-1?(r.host&&document.querySelector("base")?g:g.slice(de))+ae:createBaseLocation()+g+ae;try{n[ue?"replaceState":"pushState"](le,"",pe),L.value=le}catch(he){console.error(he),r[ue?"replace":"assign"](pe)}}function oe(ae,le){const ue=assign({},n.state,buildState(L.value.back,ae,L.value.forward,!0),le,{position:L.value.position});V(ae,ue,!0),$.value=ae}function re(ae,le){const ue=assign({},L.value,n.state,{forward:ae,scroll:computeScrollPosition()});V(ue.current,ue,!0);const de=assign({},buildState($.value,ae,null),{position:ue.position+1},le);V(ae,de,!1),$.value=ae}return{location:$,state:L,push:re,replace:oe}}function createWebHistory(g){g=normalizeBase(g);const n=useHistoryStateNavigation(g),r=useHistoryListeners(g,n.state,n.location,n.replace);function $(V,oe=!0){oe||r.pauseListeners(),history.go(V)}const L=assign({location:"",base:g,go:$,createHref:createHref.bind(null,g)},n,r);return Object.defineProperty(L,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(L,"state",{enumerable:!0,get:()=>n.state.value}),L}function createWebHashHistory(g){return g=location.host?g||location.pathname+location.search:"",g.includes("#")||(g+="#"),createWebHistory(g)}function isRouteLocation(g){return typeof g=="string"||g&&typeof g=="object"}function isRouteName(g){return typeof g=="string"||typeof g=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(g){g[g.aborted=4]="aborted",g[g.cancelled=8]="cancelled",g[g.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(g,n){return assign(new Error,{type:g,[NavigationFailureSymbol]:!0},n)}function isNavigationFailure(g,n){return g instanceof Error&&NavigationFailureSymbol in g&&(n==null||!!(g.type&n))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(g,n){const r=assign({},BASE_PATH_PARSER_OPTIONS,n),$=[];let L=r.start?"^":"";const V=[];for(const le of g){const ue=le.length?[]:[90];r.strict&&!le.length&&(L+="/");for(let de=0;de<le.length;de++){const pe=le[de];let he=40+(r.sensitive?.25:0);if(pe.type===0)de||(L+="/"),L+=pe.value.replace(REGEX_CHARS_RE,"\\$&"),he+=40;else if(pe.type===1){const{value:_e,repeatable:Oe,optional:xe,regexp:$e}=pe;V.push({name:_e,repeatable:Oe,optional:xe});const Ie=$e||BASE_PARAM_PATTERN;if(Ie!==BASE_PARAM_PATTERN){he+=10;try{new RegExp(`(${Ie})`)}catch(ze){throw new Error(`Invalid custom RegExp for param "${_e}" (${Ie}): `+ze.message)}}let Ne=Oe?`((?:${Ie})(?:/(?:${Ie}))*)`:`(${Ie})`;de||(Ne=xe&&le.length<2?`(?:/${Ne})`:"/"+Ne),xe&&(Ne+="?"),L+=Ne,he+=20,xe&&(he+=-8),Oe&&(he+=-20),Ie===".*"&&(he+=-50)}ue.push(he)}$.push(ue)}if(r.strict&&r.end){const le=$.length-1;$[le][$[le].length-1]+=.7000000000000001}r.strict||(L+="/?"),r.end?L+="$":r.strict&&(L+="(?:/|$)");const oe=new RegExp(L,r.sensitive?"":"i");function re(le){const ue=le.match(oe),de={};if(!ue)return null;for(let pe=1;pe<ue.length;pe++){const he=ue[pe]||"",_e=V[pe-1];de[_e.name]=he&&_e.repeatable?he.split("/"):he}return de}function ae(le){let ue="",de=!1;for(const pe of g){(!de||!ue.endsWith("/"))&&(ue+="/"),de=!1;for(const he of pe)if(he.type===0)ue+=he.value;else if(he.type===1){const{value:_e,repeatable:Oe,optional:xe}=he,$e=_e in le?le[_e]:"";if(isArray$2($e)&&!Oe)throw new Error(`Provided param "${_e}" is an array but it is not repeatable (* or + modifiers)`);const Ie=isArray$2($e)?$e.join("/"):$e;if(!Ie)if(xe)pe.length<2&&(ue.endsWith("/")?ue=ue.slice(0,-1):de=!0);else throw new Error(`Missing required param "${_e}"`);ue+=Ie}}return ue||"/"}return{re:oe,score:$,keys:V,parse:re,stringify:ae}}function compareScoreArray(g,n){let r=0;for(;r<g.length&&r<n.length;){const $=n[r]-g[r];if($)return $;r++}return g.length<n.length?g.length===1&&g[0]===80?-1:1:g.length>n.length?n.length===1&&n[0]===80?1:-1:0}function comparePathParserScore(g,n){let r=0;const $=g.score,L=n.score;for(;r<$.length&&r<L.length;){const V=compareScoreArray($[r],L[r]);if(V)return V;r++}if(Math.abs(L.length-$.length)===1){if(isLastScoreNegative($))return 1;if(isLastScoreNegative(L))return-1}return L.length-$.length}function isLastScoreNegative(g){const n=g[g.length-1];return g.length>0&&n[n.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(g){if(!g)return[[]];if(g==="/")return[[ROOT_TOKEN]];if(!g.startsWith("/"))throw new Error(`Invalid path "${g}"`);function n(he){throw new Error(`ERR (${r})/"${le}": ${he}`)}let r=0,$=r;const L=[];let V;function oe(){V&&L.push(V),V=[]}let re=0,ae,le="",ue="";function de(){!le||(r===0?V.push({type:0,value:le}):r===1||r===2||r===3?(V.length>1&&(ae==="*"||ae==="+")&&n(`A repeatable param (${le}) must be alone in its segment. eg: '/:ids+.`),V.push({type:1,value:le,regexp:ue,repeatable:ae==="*"||ae==="+",optional:ae==="*"||ae==="?"})):n("Invalid state to consume buffer"),le="")}function pe(){le+=ae}for(;re<g.length;){if(ae=g[re++],ae==="\\"&&r!==2){$=r,r=4;continue}switch(r){case 0:ae==="/"?(le&&de(),oe()):ae===":"?(de(),r=1):pe();break;case 4:pe(),r=$;break;case 1:ae==="("?r=2:VALID_PARAM_RE.test(ae)?pe():(de(),r=0,ae!=="*"&&ae!=="?"&&ae!=="+"&&re--);break;case 2:ae===")"?ue[ue.length-1]=="\\"?ue=ue.slice(0,-1)+ae:r=3:ue+=ae;break;case 3:de(),r=0,ae!=="*"&&ae!=="?"&&ae!=="+"&&re--,ue="";break;default:n("Unknown state");break}}return r===2&&n(`Unfinished custom RegExp for param "${le}"`),de(),oe(),L}function createRouteRecordMatcher(g,n,r){const $=tokensToParser(tokenizePath(g.path),r),L=assign($,{record:g,parent:n,children:[],alias:[]});return n&&!L.record.aliasOf==!n.record.aliasOf&&n.children.push(L),L}function createRouterMatcher(g,n){const r=[],$=new Map;n=mergeOptions({strict:!1,end:!0,sensitive:!1},n);function L(ue){return $.get(ue)}function V(ue,de,pe){const he=!pe,_e=normalizeRouteRecord(ue);_e.aliasOf=pe&&pe.record;const Oe=mergeOptions(n,ue),xe=[_e];if("alias"in ue){const Ne=typeof ue.alias=="string"?[ue.alias]:ue.alias;for(const ze of Ne)xe.push(assign({},_e,{components:pe?pe.record.components:_e.components,path:ze,aliasOf:pe?pe.record:_e}))}let $e,Ie;for(const Ne of xe){const{path:ze}=Ne;if(de&&ze[0]!=="/"){const Ue=de.record.path,Fe=Ue[Ue.length-1]==="/"?"":"/";Ne.path=de.record.path+(ze&&Fe+ze)}if($e=createRouteRecordMatcher(Ne,de,Oe),pe?pe.alias.push($e):(Ie=Ie||$e,Ie!==$e&&Ie.alias.push($e),he&&ue.name&&!isAliasRecord($e)&&oe(ue.name)),_e.children){const Ue=_e.children;for(let Fe=0;Fe<Ue.length;Fe++)V(Ue[Fe],$e,pe&&pe.children[Fe])}pe=pe||$e,($e.record.components&&Object.keys($e.record.components).length||$e.record.name||$e.record.redirect)&&ae($e)}return Ie?()=>{oe(Ie)}:noop$2}function oe(ue){if(isRouteName(ue)){const de=$.get(ue);de&&($.delete(ue),r.splice(r.indexOf(de),1),de.children.forEach(oe),de.alias.forEach(oe))}else{const de=r.indexOf(ue);de>-1&&(r.splice(de,1),ue.record.name&&$.delete(ue.record.name),ue.children.forEach(oe),ue.alias.forEach(oe))}}function re(){return r}function ae(ue){let de=0;for(;de<r.length&&comparePathParserScore(ue,r[de])>=0&&(ue.record.path!==r[de].record.path||!isRecordChildOf(ue,r[de]));)de++;r.splice(de,0,ue),ue.record.name&&!isAliasRecord(ue)&&$.set(ue.record.name,ue)}function le(ue,de){let pe,he={},_e,Oe;if("name"in ue&&ue.name){if(pe=$.get(ue.name),!pe)throw createRouterError(1,{location:ue});Oe=pe.record.name,he=assign(paramsFromLocation(de.params,pe.keys.filter(Ie=>!Ie.optional).map(Ie=>Ie.name)),ue.params&&paramsFromLocation(ue.params,pe.keys.map(Ie=>Ie.name))),_e=pe.stringify(he)}else if("path"in ue)_e=ue.path,pe=r.find(Ie=>Ie.re.test(_e)),pe&&(he=pe.parse(_e),Oe=pe.record.name);else{if(pe=de.name?$.get(de.name):r.find(Ie=>Ie.re.test(de.path)),!pe)throw createRouterError(1,{location:ue,currentLocation:de});Oe=pe.record.name,he=assign({},de.params,ue.params),_e=pe.stringify(he)}const xe=[];let $e=pe;for(;$e;)xe.unshift($e.record),$e=$e.parent;return{name:Oe,path:_e,params:he,matched:xe,meta:mergeMetaFields(xe)}}return g.forEach(ue=>V(ue)),{addRoute:V,resolve:le,removeRoute:oe,getRoutes:re,getRecordMatcher:L}}function paramsFromLocation(g,n){const r={};for(const $ of n)$ in g&&(r[$]=g[$]);return r}function normalizeRouteRecord(g){return{path:g.path,redirect:g.redirect,name:g.name,meta:g.meta||{},aliasOf:void 0,beforeEnter:g.beforeEnter,props:normalizeRecordProps(g),children:g.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in g?g.components||null:g.component&&{default:g.component}}}function normalizeRecordProps(g){const n={},r=g.props||!1;if("component"in g)n.default=r;else for(const $ in g.components)n[$]=typeof r=="boolean"?r:r[$];return n}function isAliasRecord(g){for(;g;){if(g.record.aliasOf)return!0;g=g.parent}return!1}function mergeMetaFields(g){return g.reduce((n,r)=>assign(n,r.meta),{})}function mergeOptions(g,n){const r={};for(const $ in g)r[$]=$ in n?n[$]:g[$];return r}function isRecordChildOf(g,n){return n.children.some(r=>r===g||isRecordChildOf(g,r))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(g){return encodeURI(""+g).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(g){return commonEncode(g).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(g){return commonEncode(g).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(g){return encodeQueryValue(g).replace(EQUAL_RE,"%3D")}function encodePath(g){return commonEncode(g).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(g){return g==null?"":encodePath(g).replace(SLASH_RE,"%2F")}function decode(g){try{return decodeURIComponent(""+g)}catch{}return""+g}function parseQuery(g){const n={};if(g===""||g==="?")return n;const r=(g[0]==="?"?g.slice(1):g).split("&");for(let $=0;$<r.length;++$){const L=r[$].replace(PLUS_RE," "),V=L.indexOf("="),oe=decode(V<0?L:L.slice(0,V)),re=V<0?null:decode(L.slice(V+1));if(oe in n){let ae=n[oe];isArray$2(ae)||(ae=n[oe]=[ae]),ae.push(re)}else n[oe]=re}return n}function stringifyQuery(g){let n="";for(let r in g){const $=g[r];if(r=encodeQueryKey(r),$==null){$!==void 0&&(n+=(n.length?"&":"")+r);continue}(isArray$2($)?$.map(L=>L&&encodeQueryValue(L)):[$&&encodeQueryValue($)]).forEach(L=>{L!==void 0&&(n+=(n.length?"&":"")+r,L!=null&&(n+="="+L))})}return n}function normalizeQuery(g){const n={};for(const r in g){const $=g[r];$!==void 0&&(n[r]=isArray$2($)?$.map(L=>L==null?null:""+L):$==null?$:""+$)}return n}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let g=[];function n($){return g.push($),()=>{const L=g.indexOf($);L>-1&&g.splice(L,1)}}function r(){g=[]}return{add:n,list:()=>g,reset:r}}function guardToPromiseFn(g,n,r,$,L){const V=$&&($.enterCallbacks[L]=$.enterCallbacks[L]||[]);return()=>new Promise((oe,re)=>{const ae=de=>{de===!1?re(createRouterError(4,{from:r,to:n})):de instanceof Error?re(de):isRouteLocation(de)?re(createRouterError(2,{from:n,to:de})):(V&&$.enterCallbacks[L]===V&&typeof de=="function"&&V.push(de),oe())},le=g.call($&&$.instances[L],n,r,ae);let ue=Promise.resolve(le);g.length<3&&(ue=ue.then(ae)),ue.catch(de=>re(de))})}function extractComponentsGuards(g,n,r,$){const L=[];for(const V of g)for(const oe in V.components){let re=V.components[oe];if(!(n!=="beforeRouteEnter"&&!V.instances[oe]))if(isRouteComponent(re)){const ae=(re.__vccOpts||re)[n];ae&&L.push(guardToPromiseFn(ae,r,$,V,oe))}else{let ae=re();L.push(()=>ae.then(le=>{if(!le)return Promise.reject(new Error(`Couldn't resolve component "${oe}" at "${V.path}"`));const ue=isESModule(le)?le.default:le;V.components[oe]=ue;const de=(ue.__vccOpts||ue)[n];return de&&guardToPromiseFn(de,r,$,V,oe)()}))}}return L}function isRouteComponent(g){return typeof g=="object"||"displayName"in g||"props"in g||"__vccOpts"in g}function useLink(g){const n=inject(routerKey),r=inject(routeLocationKey),$=computed(()=>n.resolve(unref(g.to))),L=computed(()=>{const{matched:ae}=$.value,{length:le}=ae,ue=ae[le-1],de=r.matched;if(!ue||!de.length)return-1;const pe=de.findIndex(isSameRouteRecord.bind(null,ue));if(pe>-1)return pe;const he=getOriginalPath(ae[le-2]);return le>1&&getOriginalPath(ue)===he&&de[de.length-1].path!==he?de.findIndex(isSameRouteRecord.bind(null,ae[le-2])):pe}),V=computed(()=>L.value>-1&&includesParams(r.params,$.value.params)),oe=computed(()=>L.value>-1&&L.value===r.matched.length-1&&isSameRouteLocationParams(r.params,$.value.params));function re(ae={}){return guardEvent(ae)?n[unref(g.replace)?"replace":"push"](unref(g.to)).catch(noop$2):Promise.resolve()}return{route:$,href:computed(()=>$.value.href),isActive:V,isExactActive:oe,navigate:re}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(g,{slots:n}){const r=reactive(useLink(g)),{options:$}=inject(routerKey),L=computed(()=>({[getLinkClass(g.activeClass,$.linkActiveClass,"router-link-active")]:r.isActive,[getLinkClass(g.exactActiveClass,$.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const V=n.default&&n.default(r);return g.custom?V:h$2("a",{"aria-current":r.isExactActive?g.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:L.value},V)}}}),RouterLink=RouterLinkImpl;function guardEvent(g){if(!(g.metaKey||g.altKey||g.ctrlKey||g.shiftKey)&&!g.defaultPrevented&&!(g.button!==void 0&&g.button!==0)){if(g.currentTarget&&g.currentTarget.getAttribute){const n=g.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return g.preventDefault&&g.preventDefault(),!0}}function includesParams(g,n){for(const r in n){const $=n[r],L=g[r];if(typeof $=="string"){if($!==L)return!1}else if(!isArray$2(L)||L.length!==$.length||$.some((V,oe)=>V!==L[oe]))return!1}return!0}function getOriginalPath(g){return g?g.aliasOf?g.aliasOf.path:g.path:""}const getLinkClass=(g,n,r)=>{var $;return($=g!=null?g:n)!=null?$:r},RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(g,{attrs:n,slots:r}){const $=inject(routerViewLocationKey),L=computed(()=>g.route||$.value),V=inject(viewDepthKey,0),oe=computed(()=>{let le=unref(V);const{matched:ue}=L.value;let de;for(;(de=ue[le])&&!de.components;)le++;return le}),re=computed(()=>L.value.matched[oe.value]);provide(viewDepthKey,computed(()=>oe.value+1)),provide(matchedRouteKey,re),provide(routerViewLocationKey,L);const ae=ref();return watch(()=>[ae.value,re.value,g.name],([le,ue,de],[pe,he,_e])=>{ue&&(ue.instances[de]=le,he&&he!==ue&&le&&le===pe&&(ue.leaveGuards.size||(ue.leaveGuards=he.leaveGuards),ue.updateGuards.size||(ue.updateGuards=he.updateGuards))),le&&ue&&(!he||!isSameRouteRecord(ue,he)||!pe)&&(ue.enterCallbacks[de]||[]).forEach(Oe=>Oe(le))},{flush:"post"}),()=>{const le=L.value,ue=g.name,de=re.value,pe=de&&de.components[ue];if(!pe)return normalizeSlot(r.default,{Component:pe,route:le});const he=de.props[ue],_e=he?he===!0?le.params:typeof he=="function"?he(le):he:null,Oe=h$2(pe,assign({},_e,n,{onVnodeUnmounted:xe=>{xe.component.isUnmounted&&(de.instances[ue]=null)},ref:ae}));return normalizeSlot(r.default,{Component:Oe,route:le})||Oe}}});function normalizeSlot(g,n){if(!g)return null;const r=g(n);return r.length===1?r[0]:r}const RouterView=RouterViewImpl;function createRouter(g){const n=createRouterMatcher(g.routes,g),r=g.parseQuery||parseQuery,$=g.stringifyQuery||stringifyQuery,L=g.history,V=useCallbacks(),oe=useCallbacks(),re=useCallbacks(),ae=shallowRef(START_LOCATION_NORMALIZED);let le=START_LOCATION_NORMALIZED;isBrowser&&g.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const ue=applyToParams.bind(null,Mn=>""+Mn),de=applyToParams.bind(null,encodeParam),pe=applyToParams.bind(null,decode);function he(Mn,Fn){let In,Nn;return isRouteName(Mn)?(In=n.getRecordMatcher(Mn),Nn=Fn):Nn=Mn,n.addRoute(Nn,In)}function _e(Mn){const Fn=n.getRecordMatcher(Mn);Fn&&n.removeRoute(Fn)}function Oe(){return n.getRoutes().map(Mn=>Mn.record)}function xe(Mn){return!!n.getRecordMatcher(Mn)}function $e(Mn,Fn){if(Fn=assign({},Fn||ae.value),typeof Mn=="string"){const $n=parseURL(r,Mn,Fn.path),kn=n.resolve({path:$n.path},Fn),Bn=L.createHref($n.fullPath);return assign($n,kn,{params:pe(kn.params),hash:decode($n.hash),redirectedFrom:void 0,href:Bn})}let In;if("path"in Mn)In=assign({},Mn,{path:parseURL(r,Mn.path,Fn.path).path});else{const $n=assign({},Mn.params);for(const kn in $n)$n[kn]==null&&delete $n[kn];In=assign({},Mn,{params:de(Mn.params)}),Fn.params=de(Fn.params)}const Nn=n.resolve(In,Fn),Vn=Mn.hash||"";Nn.params=ue(pe(Nn.params));const Un=stringifyURL($,assign({},Mn,{hash:encodeHash(Vn),path:Nn.path})),Gn=L.createHref(Un);return assign({fullPath:Un,hash:Vn,query:$===stringifyQuery?normalizeQuery(Mn.query):Mn.query||{}},Nn,{redirectedFrom:void 0,href:Gn})}function Ie(Mn){return typeof Mn=="string"?parseURL(r,Mn,ae.value.path):assign({},Mn)}function Ne(Mn,Fn){if(le!==Mn)return createRouterError(8,{from:Fn,to:Mn})}function ze(Mn){return qe(Mn)}function Ue(Mn){return ze(assign(Ie(Mn),{replace:!0}))}function Fe(Mn){const Fn=Mn.matched[Mn.matched.length-1];if(Fn&&Fn.redirect){const{redirect:In}=Fn;let Nn=typeof In=="function"?In(Mn):In;return typeof Nn=="string"&&(Nn=Nn.includes("?")||Nn.includes("#")?Nn=Ie(Nn):{path:Nn},Nn.params={}),assign({query:Mn.query,hash:Mn.hash,params:"path"in Nn?{}:Mn.params},Nn)}}function qe(Mn,Fn){const In=le=$e(Mn),Nn=ae.value,Vn=Mn.state,Un=Mn.force,Gn=Mn.replace===!0,$n=Fe(In);if($n)return qe(assign(Ie($n),{state:typeof $n=="object"?assign({},Vn,$n.state):Vn,force:Un,replace:Gn}),Fn||In);const kn=In;kn.redirectedFrom=Fn;let Bn;return!Un&&isSameRouteLocation($,Nn,In)&&(Bn=createRouterError(16,{to:kn,from:Nn}),Tn(Nn,Nn,!0,!1)),(Bn?Promise.resolve(Bn):At(kn,Nn)).catch(Yn=>isNavigationFailure(Yn)?isNavigationFailure(Yn,2)?Yn:bn(Yn):_n(Yn,kn,Nn)).then(Yn=>{if(Yn){if(isNavigationFailure(Yn,2))return qe(assign({replace:Gn},Ie(Yn.to),{state:typeof Yn.to=="object"?assign({},Vn,Yn.to.state):Vn,force:Un}),Fn||kn)}else Yn=Dt(kn,Nn,!0,Gn,Vn);return kt(kn,Nn,Yn),Yn})}function Et(Mn,Fn){const In=Ne(Mn,Fn);return In?Promise.reject(In):Promise.resolve()}function At(Mn,Fn){let In;const[Nn,Vn,Un]=extractChangingRecords(Mn,Fn);In=extractComponentsGuards(Nn.reverse(),"beforeRouteLeave",Mn,Fn);for(const $n of Nn)$n.leaveGuards.forEach(kn=>{In.push(guardToPromiseFn(kn,Mn,Fn))});const Gn=Et.bind(null,Mn,Fn);return In.push(Gn),runGuardQueue(In).then(()=>{In=[];for(const $n of V.list())In.push(guardToPromiseFn($n,Mn,Fn));return In.push(Gn),runGuardQueue(In)}).then(()=>{In=extractComponentsGuards(Vn,"beforeRouteUpdate",Mn,Fn);for(const $n of Vn)$n.updateGuards.forEach(kn=>{In.push(guardToPromiseFn(kn,Mn,Fn))});return In.push(Gn),runGuardQueue(In)}).then(()=>{In=[];for(const $n of Mn.matched)if($n.beforeEnter&&!Fn.matched.includes($n))if(isArray$2($n.beforeEnter))for(const kn of $n.beforeEnter)In.push(guardToPromiseFn(kn,Mn,Fn));else In.push(guardToPromiseFn($n.beforeEnter,Mn,Fn));return In.push(Gn),runGuardQueue(In)}).then(()=>(Mn.matched.forEach($n=>$n.enterCallbacks={}),In=extractComponentsGuards(Un,"beforeRouteEnter",Mn,Fn),In.push(Gn),runGuardQueue(In))).then(()=>{In=[];for(const $n of oe.list())In.push(guardToPromiseFn($n,Mn,Fn));return In.push(Gn),runGuardQueue(In)}).catch($n=>isNavigationFailure($n,8)?$n:Promise.reject($n))}function kt(Mn,Fn,In){for(const Nn of re.list())Nn(Mn,Fn,In)}function Dt(Mn,Fn,In,Nn,Vn){const Un=Ne(Mn,Fn);if(Un)return Un;const Gn=Fn===START_LOCATION_NORMALIZED,$n=isBrowser?history.state:{};In&&(Nn||Gn?L.replace(Mn.fullPath,assign({scroll:Gn&&$n&&$n.scroll},Vn)):L.push(Mn.fullPath,Vn)),ae.value=Mn,Tn(Mn,Fn,In,Gn),bn()}let jt;function Lt(){jt||(jt=L.listen((Mn,Fn,In)=>{if(!Wn.listening)return;const Nn=$e(Mn),Vn=Fe(Nn);if(Vn){qe(assign(Vn,{replace:!0}),Nn).catch(noop$2);return}le=Nn;const Un=ae.value;isBrowser&&saveScrollPosition(getScrollKey(Un.fullPath,In.delta),computeScrollPosition()),At(Nn,Un).catch(Gn=>isNavigationFailure(Gn,12)?Gn:isNavigationFailure(Gn,2)?(qe(Gn.to,Nn).then($n=>{isNavigationFailure($n,20)&&!In.delta&&In.type===NavigationType.pop&&L.go(-1,!1)}).catch(noop$2),Promise.reject()):(In.delta&&L.go(-In.delta,!1),_n(Gn,Nn,Un))).then(Gn=>{Gn=Gn||Dt(Nn,Un,!1),Gn&&(In.delta&&!isNavigationFailure(Gn,8)?L.go(-In.delta,!1):In.type===NavigationType.pop&&isNavigationFailure(Gn,20)&&L.go(-1,!1)),kt(Nn,Un,Gn)}).catch(noop$2)}))}let hn=useCallbacks(),Sn=useCallbacks(),On;function _n(Mn,Fn,In){bn(Mn);const Nn=Sn.list();return Nn.length?Nn.forEach(Vn=>Vn(Mn,Fn,In)):console.error(Mn),Promise.reject(Mn)}function xn(){return On&&ae.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((Mn,Fn)=>{hn.add([Mn,Fn])})}function bn(Mn){return On||(On=!Mn,Lt(),hn.list().forEach(([Fn,In])=>Mn?In(Mn):Fn()),hn.reset()),Mn}function Tn(Mn,Fn,In,Nn){const{scrollBehavior:Vn}=g;if(!isBrowser||!Vn)return Promise.resolve();const Un=!In&&getSavedScrollPosition(getScrollKey(Mn.fullPath,0))||(Nn||!In)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Vn(Mn,Fn,Un)).then(Gn=>Gn&&scrollToPosition(Gn)).catch(Gn=>_n(Gn,Mn,Fn))}const An=Mn=>L.go(Mn);let En;const Ln=new Set,Wn={currentRoute:ae,listening:!0,addRoute:he,removeRoute:_e,hasRoute:xe,getRoutes:Oe,resolve:$e,options:g,push:ze,replace:Ue,go:An,back:()=>An(-1),forward:()=>An(1),beforeEach:V.add,beforeResolve:oe.add,afterEach:re.add,onError:Sn.add,isReady:xn,install(Mn){const Fn=this;Mn.component("RouterLink",RouterLink),Mn.component("RouterView",RouterView),Mn.config.globalProperties.$router=Fn,Object.defineProperty(Mn.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(ae)}),isBrowser&&!En&&ae.value===START_LOCATION_NORMALIZED&&(En=!0,ze(L.location).catch(Vn=>{}));const In={};for(const Vn in START_LOCATION_NORMALIZED)In[Vn]=computed(()=>ae.value[Vn]);Mn.provide(routerKey,Fn),Mn.provide(routeLocationKey,reactive(In)),Mn.provide(routerViewLocationKey,ae);const Nn=Mn.unmount;Ln.add(Mn),Mn.unmount=function(){Ln.delete(Mn),Ln.size<1&&(le=START_LOCATION_NORMALIZED,jt&&jt(),jt=null,ae.value=START_LOCATION_NORMALIZED,En=!1,On=!1),Nn()}}};return Wn}function runGuardQueue(g){return g.reduce((n,r)=>n.then(()=>r()),Promise.resolve())}function extractChangingRecords(g,n){const r=[],$=[],L=[],V=Math.max(n.matched.length,g.matched.length);for(let oe=0;oe<V;oe++){const re=n.matched[oe];re&&(g.matched.find(le=>isSameRouteRecord(le,re))?$.push(re):r.push(re));const ae=g.matched[oe];ae&&(n.matched.find(le=>isSameRouteRecord(le,ae))||L.push(ae))}return[r,$,L]}useRouter=function(){return inject(routerKey)},useRoute=function(){return inject(routeLocationKey)};const modules=Object.assign({"./modules/business.ts":__vite_glob_0_0$1,"./modules/view.ts":__vite_glob_0_1$1}),routersModules=[];for(const g in modules){const n=await modules[g];routersModules.push(...n.default)}const routes=[{path:"/",redirect:"/home"},...routersModules],router=createRouter({history:createWebHashHistory(),routes});lodash={exports:{}},function(g,n){(function(){var r,$="4.17.21",L=200,V="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",oe="Expected a function",re="Invalid `variable` option passed into `_.template`",ae="__lodash_hash_undefined__",le=500,ue="__lodash_placeholder__",de=1,pe=2,he=4,_e=1,Oe=2,xe=1,$e=2,Ie=4,Ne=8,ze=16,Ue=32,Fe=64,qe=128,Et=256,At=512,kt=30,Dt="...",jt=800,Lt=16,hn=1,Sn=2,On=3,_n=1/0,xn=9007199254740991,bn=17976931348623157e292,Tn=0/0,An=4294967295,En=An-1,Ln=An>>>1,Wn=[["ary",qe],["bind",xe],["bindKey",$e],["curry",Ne],["curryRight",ze],["flip",At],["partial",Ue],["partialRight",Fe],["rearg",Et]],Mn="[object Arguments]",Fn="[object Array]",In="[object AsyncFunction]",Nn="[object Boolean]",Vn="[object Date]",Un="[object DOMException]",Gn="[object Error]",$n="[object Function]",kn="[object GeneratorFunction]",Bn="[object Map]",Yn="[object Number]",Jn="[object Null]",Kn="[object Object]",po="[object Promise]",oo="[object Proxy]",lo="[object RegExp]",no="[object Set]",vo="[object String]",Zn="[object Symbol]",ho="[object Undefined]",yo="[object WeakMap]",Oo="[object WeakSet]",Co="[object ArrayBuffer]",ro="[object DataView]",Hn="[object Float32Array]",io="[object Float64Array]",mo="[object Int8Array]",zn="[object Int16Array]",qn="[object Int32Array]",so="[object Uint8Array]",Dn="[object Uint8ClampedArray]",to="[object Uint16Array]",_o="[object Uint32Array]",xo=/\b__p \+= '';/g,Uo=/\b(__p \+=) '' \+/g,Vo=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ao=/&(?:amp|lt|gt|quot|#39);/g,Wo=/[&<>"']/g,si=RegExp(Ao.source),Or=RegExp(Wo.source),Ca=/<%-([\s\S]+?)%>/g,li=/<%([\s\S]+?)%>/g,ki=/<%=([\s\S]+?)%>/g,hc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fc=/^\w*$/,mc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pa=/[\\^$.*+?()[\]{}|]/g,vc=RegExp(Pa.source),Ea=/^\s+/,yc=/\s/,gc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Sc=/\{\n\/\* \[wrapped with (.+)\] \*/,bc=/,? & /,Oc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xc=/[()=,{}\[\]\/\s]/,wc=/\\(\\)?/g,$c=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zs=/\w*$/,Tc=/^[-+]0x[0-9a-f]+$/i,Cc=/^0b[01]+$/i,Pc=/^\[object .+?Constructor\]$/,Ec=/^0o[0-7]+$/i,Ac=/^(?:0|[1-9]\d*)$/,kc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Br=/($^)/,Mc=/['\n\r\u2028\u2029\\]/g,Vr="\uD800-\uDFFF",Ic="\\u0300-\\u036f",Rc="\\ufe20-\\ufe2f",Dc="\\u20d0-\\u20ff",Qs=Ic+Rc+Dc,Fs="\\u2700-\\u27bf",Us="a-z\\xdf-\\xf6\\xf8-\\xff",Nc="\\xac\\xb1\\xd7\\xf7",Lc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Bc="\\u2000-\\u206f",Vc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Hs="A-Z\\xc0-\\xd6\\xd8-\\xde",Gs="\\ufe0e\\ufe0f",Ws=Nc+Lc+Bc+Vc,Aa="['\u2019]",zc="["+Vr+"]",js="["+Ws+"]",zr="["+Qs+"]",Ys="\\d+",Qc="["+Fs+"]",Xs="["+Us+"]",Zs="[^"+Vr+Ws+Ys+Fs+Us+Hs+"]",ka="\uD83C[\uDFFB-\uDFFF]",Fc="(?:"+zr+"|"+ka+")",qs="[^"+Vr+"]",Ma="(?:\uD83C[\uDDE6-\uDDFF]){2}",Ia="[\uD800-\uDBFF][\uDC00-\uDFFF]",lr="["+Hs+"]",Ks="\\u200d",Js="(?:"+Xs+"|"+Zs+")",Uc="(?:"+lr+"|"+Zs+")",el="(?:"+Aa+"(?:d|ll|m|re|s|t|ve))?",tl="(?:"+Aa+"(?:D|LL|M|RE|S|T|VE))?",nl=Fc+"?",ol="["+Gs+"]?",Hc="(?:"+Ks+"(?:"+[qs,Ma,Ia].join("|")+")"+ol+nl+")*",Gc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Wc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",il=ol+nl+Hc,jc="(?:"+[Qc,Ma,Ia].join("|")+")"+il,Yc="(?:"+[qs+zr+"?",zr,Ma,Ia,zc].join("|")+")",Xc=RegExp(Aa,"g"),Zc=RegExp(zr,"g"),Ra=RegExp(ka+"(?="+ka+")|"+Yc+il,"g"),qc=RegExp([lr+"?"+Xs+"+"+el+"(?="+[js,lr,"$"].join("|")+")",Uc+"+"+tl+"(?="+[js,lr+Js,"$"].join("|")+")",lr+"?"+Js+"+"+el,lr+"+"+tl,Wc,Gc,Ys,jc].join("|"),"g"),Kc=RegExp("["+Ks+Vr+Qs+Gs+"]"),Jc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ed=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],td=-1,Ho={};Ho[Hn]=Ho[io]=Ho[mo]=Ho[zn]=Ho[qn]=Ho[so]=Ho[Dn]=Ho[to]=Ho[_o]=!0,Ho[Mn]=Ho[Fn]=Ho[Co]=Ho[Nn]=Ho[ro]=Ho[Vn]=Ho[Gn]=Ho[$n]=Ho[Bn]=Ho[Yn]=Ho[Kn]=Ho[lo]=Ho[no]=Ho[vo]=Ho[yo]=!1;var Fo={};Fo[Mn]=Fo[Fn]=Fo[Co]=Fo[ro]=Fo[Nn]=Fo[Vn]=Fo[Hn]=Fo[io]=Fo[mo]=Fo[zn]=Fo[qn]=Fo[Bn]=Fo[Yn]=Fo[Kn]=Fo[lo]=Fo[no]=Fo[vo]=Fo[Zn]=Fo[so]=Fo[Dn]=Fo[to]=Fo[_o]=!0,Fo[Gn]=Fo[$n]=Fo[yo]=!1;var nd={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},od={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ad={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},sd=parseFloat,ld=parseInt,rl=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,ud=typeof self=="object"&&self&&self.Object===Object&&self,ei=rl||ud||Function("return this")(),Da=n&&!n.nodeType&&n,Ji=Da&&!0&&g&&!g.nodeType&&g,al=Ji&&Ji.exports===Da,Na=al&&rl.process,_i=function(){try{var jn=Ji&&Ji.require&&Ji.require("util").types;return jn||Na&&Na.binding&&Na.binding("util")}catch{}}(),sl=_i&&_i.isArrayBuffer,ll=_i&&_i.isDate,ul=_i&&_i.isMap,cl=_i&&_i.isRegExp,dl=_i&&_i.isSet,pl=_i&&_i.isTypedArray;function hi(jn,ao,eo){switch(eo.length){case 0:return jn.call(ao);case 1:return jn.call(ao,eo[0]);case 2:return jn.call(ao,eo[0],eo[1]);case 3:return jn.call(ao,eo[0],eo[1],eo[2])}return jn.apply(ao,eo)}function cd(jn,ao,eo,So){for(var Po=-1,Lo=jn==null?0:jn.length;++Po<Lo;){var qo=jn[Po];ao(So,qo,eo(qo),jn)}return So}function Si(jn,ao){for(var eo=-1,So=jn==null?0:jn.length;++eo<So&&ao(jn[eo],eo,jn)!==!1;);return jn}function dd(jn,ao){for(var eo=jn==null?0:jn.length;eo--&&ao(jn[eo],eo,jn)!==!1;);return jn}function hl(jn,ao){for(var eo=-1,So=jn==null?0:jn.length;++eo<So;)if(!ao(jn[eo],eo,jn))return!1;return!0}function Hi(jn,ao){for(var eo=-1,So=jn==null?0:jn.length,Po=0,Lo=[];++eo<So;){var qo=jn[eo];ao(qo,eo,jn)&&(Lo[Po++]=qo)}return Lo}function Qr(jn,ao){var eo=jn==null?0:jn.length;return!!eo&&ur(jn,ao,0)>-1}function La(jn,ao,eo){for(var So=-1,Po=jn==null?0:jn.length;++So<Po;)if(eo(ao,jn[So]))return!0;return!1}function Go(jn,ao){for(var eo=-1,So=jn==null?0:jn.length,Po=Array(So);++eo<So;)Po[eo]=ao(jn[eo],eo,jn);return Po}function Gi(jn,ao){for(var eo=-1,So=ao.length,Po=jn.length;++eo<So;)jn[Po+eo]=ao[eo];return jn}function Ba(jn,ao,eo,So){var Po=-1,Lo=jn==null?0:jn.length;for(So&&Lo&&(eo=jn[++Po]);++Po<Lo;)eo=ao(eo,jn[Po],Po,jn);return eo}function pd(jn,ao,eo,So){var Po=jn==null?0:jn.length;for(So&&Po&&(eo=jn[--Po]);Po--;)eo=ao(eo,jn[Po],Po,jn);return eo}function Va(jn,ao){for(var eo=-1,So=jn==null?0:jn.length;++eo<So;)if(ao(jn[eo],eo,jn))return!0;return!1}var hd=za("length");function fd(jn){return jn.split("")}function md(jn){return jn.match(Oc)||[]}function fl(jn,ao,eo){var So;return eo(jn,function(Po,Lo,qo){if(ao(Po,Lo,qo))return So=Lo,!1}),So}function Fr(jn,ao,eo,So){for(var Po=jn.length,Lo=eo+(So?1:-1);So?Lo--:++Lo<Po;)if(ao(jn[Lo],Lo,jn))return Lo;return-1}function ur(jn,ao,eo){return ao===ao?Cd(jn,ao,eo):Fr(jn,ml,eo)}function vd(jn,ao,eo,So){for(var Po=eo-1,Lo=jn.length;++Po<Lo;)if(So(jn[Po],ao))return Po;return-1}function ml(jn){return jn!==jn}function vl(jn,ao){var eo=jn==null?0:jn.length;return eo?Fa(jn,ao)/eo:Tn}function za(jn){return function(ao){return ao==null?r:ao[jn]}}function Qa(jn){return function(ao){return jn==null?r:jn[ao]}}function yl(jn,ao,eo,So,Po){return Po(jn,function(Lo,qo,Qo){eo=So?(So=!1,Lo):ao(eo,Lo,qo,Qo)}),eo}function yd(jn,ao){var eo=jn.length;for(jn.sort(ao);eo--;)jn[eo]=jn[eo].value;return jn}function Fa(jn,ao){for(var eo,So=-1,Po=jn.length;++So<Po;){var Lo=ao(jn[So]);Lo!==r&&(eo=eo===r?Lo:eo+Lo)}return eo}function Ua(jn,ao){for(var eo=-1,So=Array(jn);++eo<jn;)So[eo]=ao(eo);return So}function gd(jn,ao){return Go(ao,function(eo){return[eo,jn[eo]]})}function gl(jn){return jn&&jn.slice(0,Ol(jn)+1).replace(Ea,"")}function fi(jn){return function(ao){return jn(ao)}}function Ha(jn,ao){return Go(ao,function(eo){return jn[eo]})}function xr(jn,ao){return jn.has(ao)}function _l(jn,ao){for(var eo=-1,So=jn.length;++eo<So&&ur(ao,jn[eo],0)>-1;);return eo}function Sl(jn,ao){for(var eo=jn.length;eo--&&ur(ao,jn[eo],0)>-1;);return eo}function _d(jn,ao){for(var eo=jn.length,So=0;eo--;)jn[eo]===ao&&++So;return So}var Sd=Qa(nd),bd=Qa(od);function Od(jn){return"\\"+ad[jn]}function xd(jn,ao){return jn==null?r:jn[ao]}function cr(jn){return Kc.test(jn)}function wd(jn){return Jc.test(jn)}function $d(jn){for(var ao,eo=[];!(ao=jn.next()).done;)eo.push(ao.value);return eo}function Ga(jn){var ao=-1,eo=Array(jn.size);return jn.forEach(function(So,Po){eo[++ao]=[Po,So]}),eo}function bl(jn,ao){return function(eo){return jn(ao(eo))}}function Wi(jn,ao){for(var eo=-1,So=jn.length,Po=0,Lo=[];++eo<So;){var qo=jn[eo];(qo===ao||qo===ue)&&(jn[eo]=ue,Lo[Po++]=eo)}return Lo}function Ur(jn){var ao=-1,eo=Array(jn.size);return jn.forEach(function(So){eo[++ao]=So}),eo}function Td(jn){var ao=-1,eo=Array(jn.size);return jn.forEach(function(So){eo[++ao]=[So,So]}),eo}function Cd(jn,ao,eo){for(var So=eo-1,Po=jn.length;++So<Po;)if(jn[So]===ao)return So;return-1}function Pd(jn,ao,eo){for(var So=eo+1;So--;)if(jn[So]===ao)return So;return So}function dr(jn){return cr(jn)?Ad(jn):hd(jn)}function Ci(jn){return cr(jn)?kd(jn):fd(jn)}function Ol(jn){for(var ao=jn.length;ao--&&yc.test(jn.charAt(ao)););return ao}var Ed=Qa(rd);function Ad(jn){for(var ao=Ra.lastIndex=0;Ra.test(jn);)++ao;return ao}function kd(jn){return jn.match(Ra)||[]}function Md(jn){return jn.match(qc)||[]}var Id=function jn(ao){ao=ao==null?ei:pr.defaults(ei.Object(),ao,pr.pick(ei,ed));var eo=ao.Array,So=ao.Date,Po=ao.Error,Lo=ao.Function,qo=ao.Math,Qo=ao.Object,Wa=ao.RegExp,Rd=ao.String,bi=ao.TypeError,Hr=eo.prototype,Dd=Lo.prototype,hr=Qo.prototype,Gr=ao["__core-js_shared__"],Wr=Dd.toString,zo=hr.hasOwnProperty,Nd=0,xl=function(){var Ce=/[^.]+$/.exec(Gr&&Gr.keys&&Gr.keys.IE_PROTO||"");return Ce?"Symbol(src)_1."+Ce:""}(),jr=hr.toString,Ld=Wr.call(Qo),Bd=ei._,Vd=Wa("^"+Wr.call(zo).replace(Pa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yr=al?ao.Buffer:r,ji=ao.Symbol,Xr=ao.Uint8Array,wl=Yr?Yr.allocUnsafe:r,Zr=bl(Qo.getPrototypeOf,Qo),$l=Qo.create,Tl=hr.propertyIsEnumerable,qr=Hr.splice,Cl=ji?ji.isConcatSpreadable:r,wr=ji?ji.iterator:r,er=ji?ji.toStringTag:r,Kr=function(){try{var Ce=rr(Qo,"defineProperty");return Ce({},"",{}),Ce}catch{}}(),zd=ao.clearTimeout!==ei.clearTimeout&&ao.clearTimeout,Qd=So&&So.now!==ei.Date.now&&So.now,Fd=ao.setTimeout!==ei.setTimeout&&ao.setTimeout,Jr=qo.ceil,ea=qo.floor,ja=Qo.getOwnPropertySymbols,Ud=Yr?Yr.isBuffer:r,Pl=ao.isFinite,Hd=Hr.join,Gd=bl(Qo.keys,Qo),Ko=qo.max,ni=qo.min,Wd=So.now,jd=ao.parseInt,El=qo.random,Yd=Hr.reverse,Ya=rr(ao,"DataView"),$r=rr(ao,"Map"),Xa=rr(ao,"Promise"),fr=rr(ao,"Set"),Tr=rr(ao,"WeakMap"),Cr=rr(Qo,"create"),ta=Tr&&new Tr,mr={},Xd=ar(Ya),Zd=ar($r),qd=ar(Xa),Kd=ar(fr),Jd=ar(Tr),na=ji?ji.prototype:r,Pr=na?na.valueOf:r,Al=na?na.toString:r;function Cn(Ce){if(Yo(Ce)&&!Eo(Ce)&&!(Ce instanceof Do)){if(Ce instanceof Oi)return Ce;if(zo.call(Ce,"__wrapped__"))return ku(Ce)}return new Oi(Ce)}var vr=function(){function Ce(){}return function(Ve){if(!jo(Ve))return{};if($l)return $l(Ve);Ce.prototype=Ve;var Pt=new Ce;return Ce.prototype=r,Pt}}();function oa(){}function Oi(Ce,Ve){this.__wrapped__=Ce,this.__actions__=[],this.__chain__=!!Ve,this.__index__=0,this.__values__=r}Cn.templateSettings={escape:Ca,evaluate:li,interpolate:ki,variable:"",imports:{_:Cn}},Cn.prototype=oa.prototype,Cn.prototype.constructor=Cn,Oi.prototype=vr(oa.prototype),Oi.prototype.constructor=Oi;function Do(Ce){this.__wrapped__=Ce,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=An,this.__views__=[]}function ep(){var Ce=new Do(this.__wrapped__);return Ce.__actions__=ui(this.__actions__),Ce.__dir__=this.__dir__,Ce.__filtered__=this.__filtered__,Ce.__iteratees__=ui(this.__iteratees__),Ce.__takeCount__=this.__takeCount__,Ce.__views__=ui(this.__views__),Ce}function tp(){if(this.__filtered__){var Ce=new Do(this);Ce.__dir__=-1,Ce.__filtered__=!0}else Ce=this.clone(),Ce.__dir__*=-1;return Ce}function np(){var Ce=this.__wrapped__.value(),Ve=this.__dir__,Pt=Eo(Ce),vn=Ve<0,wn=Pt?Ce.length:0,Pn=fh(0,wn,this.__views__),Rn=Pn.start,Qn=Pn.end,Xn=Qn-Rn,uo=vn?Qn:Rn-1,co=this.__iteratees__,fo=co.length,go=0,bo=ni(Xn,this.__takeCount__);if(!Pt||!vn&&wn==Xn&&bo==Xn)return eu(Ce,this.__actions__);var $o=[];e:for(;Xn--&&go<bo;){uo+=Ve;for(var Mo=-1,To=Ce[uo];++Mo<fo;){var Ro=co[Mo],No=Ro.iteratee,yi=Ro.type,ai=No(To);if(yi==Sn)To=ai;else if(!ai){if(yi==hn)continue e;break e}}$o[go++]=To}return $o}Do.prototype=vr(oa.prototype),Do.prototype.constructor=Do;function tr(Ce){var Ve=-1,Pt=Ce==null?0:Ce.length;for(this.clear();++Ve<Pt;){var vn=Ce[Ve];this.set(vn[0],vn[1])}}function op(){this.__data__=Cr?Cr(null):{},this.size=0}function ip(Ce){var Ve=this.has(Ce)&&delete this.__data__[Ce];return this.size-=Ve?1:0,Ve}function rp(Ce){var Ve=this.__data__;if(Cr){var Pt=Ve[Ce];return Pt===ae?r:Pt}return zo.call(Ve,Ce)?Ve[Ce]:r}function ap(Ce){var Ve=this.__data__;return Cr?Ve[Ce]!==r:zo.call(Ve,Ce)}function sp(Ce,Ve){var Pt=this.__data__;return this.size+=this.has(Ce)?0:1,Pt[Ce]=Cr&&Ve===r?ae:Ve,this}tr.prototype.clear=op,tr.prototype.delete=ip,tr.prototype.get=rp,tr.prototype.has=ap,tr.prototype.set=sp;function Di(Ce){var Ve=-1,Pt=Ce==null?0:Ce.length;for(this.clear();++Ve<Pt;){var vn=Ce[Ve];this.set(vn[0],vn[1])}}function lp(){this.__data__=[],this.size=0}function up(Ce){var Ve=this.__data__,Pt=ia(Ve,Ce);if(Pt<0)return!1;var vn=Ve.length-1;return Pt==vn?Ve.pop():qr.call(Ve,Pt,1),--this.size,!0}function cp(Ce){var Ve=this.__data__,Pt=ia(Ve,Ce);return Pt<0?r:Ve[Pt][1]}function dp(Ce){return ia(this.__data__,Ce)>-1}function pp(Ce,Ve){var Pt=this.__data__,vn=ia(Pt,Ce);return vn<0?(++this.size,Pt.push([Ce,Ve])):Pt[vn][1]=Ve,this}Di.prototype.clear=lp,Di.prototype.delete=up,Di.prototype.get=cp,Di.prototype.has=dp,Di.prototype.set=pp;function Ni(Ce){var Ve=-1,Pt=Ce==null?0:Ce.length;for(this.clear();++Ve<Pt;){var vn=Ce[Ve];this.set(vn[0],vn[1])}}function hp(){this.size=0,this.__data__={hash:new tr,map:new($r||Di),string:new tr}}function fp(Ce){var Ve=va(this,Ce).delete(Ce);return this.size-=Ve?1:0,Ve}function mp(Ce){return va(this,Ce).get(Ce)}function vp(Ce){return va(this,Ce).has(Ce)}function yp(Ce,Ve){var Pt=va(this,Ce),vn=Pt.size;return Pt.set(Ce,Ve),this.size+=Pt.size==vn?0:1,this}Ni.prototype.clear=hp,Ni.prototype.delete=fp,Ni.prototype.get=mp,Ni.prototype.has=vp,Ni.prototype.set=yp;function nr(Ce){var Ve=-1,Pt=Ce==null?0:Ce.length;for(this.__data__=new Ni;++Ve<Pt;)this.add(Ce[Ve])}function gp(Ce){return this.__data__.set(Ce,ae),this}function _p(Ce){return this.__data__.has(Ce)}nr.prototype.add=nr.prototype.push=gp,nr.prototype.has=_p;function Pi(Ce){var Ve=this.__data__=new Di(Ce);this.size=Ve.size}function Sp(){this.__data__=new Di,this.size=0}function bp(Ce){var Ve=this.__data__,Pt=Ve.delete(Ce);return this.size=Ve.size,Pt}function Op(Ce){return this.__data__.get(Ce)}function xp(Ce){return this.__data__.has(Ce)}function wp(Ce,Ve){var Pt=this.__data__;if(Pt instanceof Di){var vn=Pt.__data__;if(!$r||vn.length<L-1)return vn.push([Ce,Ve]),this.size=++Pt.size,this;Pt=this.__data__=new Ni(vn)}return Pt.set(Ce,Ve),this.size=Pt.size,this}Pi.prototype.clear=Sp,Pi.prototype.delete=bp,Pi.prototype.get=Op,Pi.prototype.has=xp,Pi.prototype.set=wp;function kl(Ce,Ve){var Pt=Eo(Ce),vn=!Pt&&sr(Ce),wn=!Pt&&!vn&&Ki(Ce),Pn=!Pt&&!vn&&!wn&&Sr(Ce),Rn=Pt||vn||wn||Pn,Qn=Rn?Ua(Ce.length,Rd):[],Xn=Qn.length;for(var uo in Ce)(Ve||zo.call(Ce,uo))&&!(Rn&&(uo=="length"||wn&&(uo=="offset"||uo=="parent")||Pn&&(uo=="buffer"||uo=="byteLength"||uo=="byteOffset")||zi(uo,Xn)))&&Qn.push(uo);return Qn}function Ml(Ce){var Ve=Ce.length;return Ve?Ce[as(0,Ve-1)]:r}function $p(Ce,Ve){return ya(ui(Ce),or(Ve,0,Ce.length))}function Tp(Ce){return ya(ui(Ce))}function Za(Ce,Ve,Pt){(Pt!==r&&!Ei(Ce[Ve],Pt)||Pt===r&&!(Ve in Ce))&&Li(Ce,Ve,Pt)}function Er(Ce,Ve,Pt){var vn=Ce[Ve];(!(zo.call(Ce,Ve)&&Ei(vn,Pt))||Pt===r&&!(Ve in Ce))&&Li(Ce,Ve,Pt)}function ia(Ce,Ve){for(var Pt=Ce.length;Pt--;)if(Ei(Ce[Pt][0],Ve))return Pt;return-1}function Cp(Ce,Ve,Pt,vn){return Yi(Ce,function(wn,Pn,Rn){Ve(vn,wn,Pt(wn),Rn)}),vn}function Il(Ce,Ve){return Ce&&Ii(Ve,Jo(Ve),Ce)}function Pp(Ce,Ve){return Ce&&Ii(Ve,di(Ve),Ce)}function Li(Ce,Ve,Pt){Ve=="__proto__"&&Kr?Kr(Ce,Ve,{configurable:!0,enumerable:!0,value:Pt,writable:!0}):Ce[Ve]=Pt}function qa(Ce,Ve){for(var Pt=-1,vn=Ve.length,wn=eo(vn),Pn=Ce==null;++Pt<vn;)wn[Pt]=Pn?r:ks(Ce,Ve[Pt]);return wn}function or(Ce,Ve,Pt){return Ce===Ce&&(Pt!==r&&(Ce=Ce<=Pt?Ce:Pt),Ve!==r&&(Ce=Ce>=Ve?Ce:Ve)),Ce}function xi(Ce,Ve,Pt,vn,wn,Pn){var Rn,Qn=Ve&de,Xn=Ve&pe,uo=Ve&he;if(Pt&&(Rn=wn?Pt(Ce,vn,wn,Pn):Pt(Ce)),Rn!==r)return Rn;if(!jo(Ce))return Ce;var co=Eo(Ce);if(co){if(Rn=vh(Ce),!Qn)return ui(Ce,Rn)}else{var fo=oi(Ce),go=fo==$n||fo==kn;if(Ki(Ce))return ou(Ce,Qn);if(fo==Kn||fo==Mn||go&&!wn){if(Rn=Xn||go?{}:Ou(Ce),!Qn)return Xn?rh(Ce,Pp(Rn,Ce)):ih(Ce,Il(Rn,Ce))}else{if(!Fo[fo])return wn?Ce:{};Rn=yh(Ce,fo,Qn)}}Pn||(Pn=new Pi);var bo=Pn.get(Ce);if(bo)return bo;Pn.set(Ce,Rn),qu(Ce)?Ce.forEach(function(To){Rn.add(xi(To,Ve,Pt,To,Ce,Pn))}):Xu(Ce)&&Ce.forEach(function(To,Ro){Rn.set(Ro,xi(To,Ve,Pt,Ro,Ce,Pn))});var $o=uo?Xn?ys:vs:Xn?di:Jo,Mo=co?r:$o(Ce);return Si(Mo||Ce,function(To,Ro){Mo&&(Ro=To,To=Ce[Ro]),Er(Rn,Ro,xi(To,Ve,Pt,Ro,Ce,Pn))}),Rn}function Ep(Ce){var Ve=Jo(Ce);return function(Pt){return Rl(Pt,Ce,Ve)}}function Rl(Ce,Ve,Pt){var vn=Pt.length;if(Ce==null)return!vn;for(Ce=Qo(Ce);vn--;){var wn=Pt[vn],Pn=Ve[wn],Rn=Ce[wn];if(Rn===r&&!(wn in Ce)||!Pn(Rn))return!1}return!0}function Dl(Ce,Ve,Pt){if(typeof Ce!="function")throw new bi(oe);return Nr(function(){Ce.apply(r,Pt)},Ve)}function Ar(Ce,Ve,Pt,vn){var wn=-1,Pn=Qr,Rn=!0,Qn=Ce.length,Xn=[],uo=Ve.length;if(!Qn)return Xn;Pt&&(Ve=Go(Ve,fi(Pt))),vn?(Pn=La,Rn=!1):Ve.length>=L&&(Pn=xr,Rn=!1,Ve=new nr(Ve));e:for(;++wn<Qn;){var co=Ce[wn],fo=Pt==null?co:Pt(co);if(co=vn||co!==0?co:0,Rn&&fo===fo){for(var go=uo;go--;)if(Ve[go]===fo)continue e;Xn.push(co)}else Pn(Ve,fo,vn)||Xn.push(co)}return Xn}var Yi=lu(Mi),Nl=lu(Ja,!0);function Ap(Ce,Ve){var Pt=!0;return Yi(Ce,function(vn,wn,Pn){return Pt=!!Ve(vn,wn,Pn),Pt}),Pt}function ra(Ce,Ve,Pt){for(var vn=-1,wn=Ce.length;++vn<wn;){var Pn=Ce[vn],Rn=Ve(Pn);if(Rn!=null&&(Qn===r?Rn===Rn&&!vi(Rn):Pt(Rn,Qn)))var Qn=Rn,Xn=Pn}return Xn}function kp(Ce,Ve,Pt,vn){var wn=Ce.length;for(Pt=ko(Pt),Pt<0&&(Pt=-Pt>wn?0:wn+Pt),vn=vn===r||vn>wn?wn:ko(vn),vn<0&&(vn+=wn),vn=Pt>vn?0:Ju(vn);Pt<vn;)Ce[Pt++]=Ve;return Ce}function Ll(Ce,Ve){var Pt=[];return Yi(Ce,function(vn,wn,Pn){Ve(vn,wn,Pn)&&Pt.push(vn)}),Pt}function ti(Ce,Ve,Pt,vn,wn){var Pn=-1,Rn=Ce.length;for(Pt||(Pt=_h),wn||(wn=[]);++Pn<Rn;){var Qn=Ce[Pn];Ve>0&&Pt(Qn)?Ve>1?ti(Qn,Ve-1,Pt,vn,wn):Gi(wn,Qn):vn||(wn[wn.length]=Qn)}return wn}var Ka=uu(),Bl=uu(!0);function Mi(Ce,Ve){return Ce&&Ka(Ce,Ve,Jo)}function Ja(Ce,Ve){return Ce&&Bl(Ce,Ve,Jo)}function aa(Ce,Ve){return Hi(Ve,function(Pt){return Qi(Ce[Pt])})}function ir(Ce,Ve){Ve=Zi(Ve,Ce);for(var Pt=0,vn=Ve.length;Ce!=null&&Pt<vn;)Ce=Ce[Ri(Ve[Pt++])];return Pt&&Pt==vn?Ce:r}function Vl(Ce,Ve,Pt){var vn=Ve(Ce);return Eo(Ce)?vn:Gi(vn,Pt(Ce))}function ii(Ce){return Ce==null?Ce===r?ho:Jn:er&&er in Qo(Ce)?hh(Ce):Th(Ce)}function es(Ce,Ve){return Ce>Ve}function Mp(Ce,Ve){return Ce!=null&&zo.call(Ce,Ve)}function Ip(Ce,Ve){return Ce!=null&&Ve in Qo(Ce)}function Rp(Ce,Ve,Pt){return Ce>=ni(Ve,Pt)&&Ce<Ko(Ve,Pt)}function ts(Ce,Ve,Pt){for(var vn=Pt?La:Qr,wn=Ce[0].length,Pn=Ce.length,Rn=Pn,Qn=eo(Pn),Xn=1/0,uo=[];Rn--;){var co=Ce[Rn];Rn&&Ve&&(co=Go(co,fi(Ve))),Xn=ni(co.length,Xn),Qn[Rn]=!Pt&&(Ve||wn>=120&&co.length>=120)?new nr(Rn&&co):r}co=Ce[0];var fo=-1,go=Qn[0];e:for(;++fo<wn&&uo.length<Xn;){var bo=co[fo],$o=Ve?Ve(bo):bo;if(bo=Pt||bo!==0?bo:0,!(go?xr(go,$o):vn(uo,$o,Pt))){for(Rn=Pn;--Rn;){var Mo=Qn[Rn];if(!(Mo?xr(Mo,$o):vn(Ce[Rn],$o,Pt)))continue e}go&&go.push($o),uo.push(bo)}}return uo}function Dp(Ce,Ve,Pt,vn){return Mi(Ce,function(wn,Pn,Rn){Ve(vn,Pt(wn),Pn,Rn)}),vn}function kr(Ce,Ve,Pt){Ve=Zi(Ve,Ce),Ce=Tu(Ce,Ve);var vn=Ce==null?Ce:Ce[Ri($i(Ve))];return vn==null?r:hi(vn,Ce,Pt)}function zl(Ce){return Yo(Ce)&&ii(Ce)==Mn}function Np(Ce){return Yo(Ce)&&ii(Ce)==Co}function Lp(Ce){return Yo(Ce)&&ii(Ce)==Vn}function Mr(Ce,Ve,Pt,vn,wn){return Ce===Ve?!0:Ce==null||Ve==null||!Yo(Ce)&&!Yo(Ve)?Ce!==Ce&&Ve!==Ve:Bp(Ce,Ve,Pt,vn,Mr,wn)}function Bp(Ce,Ve,Pt,vn,wn,Pn){var Rn=Eo(Ce),Qn=Eo(Ve),Xn=Rn?Fn:oi(Ce),uo=Qn?Fn:oi(Ve);Xn=Xn==Mn?Kn:Xn,uo=uo==Mn?Kn:uo;var co=Xn==Kn,fo=uo==Kn,go=Xn==uo;if(go&&Ki(Ce)){if(!Ki(Ve))return!1;Rn=!0,co=!1}if(go&&!co)return Pn||(Pn=new Pi),Rn||Sr(Ce)?_u(Ce,Ve,Pt,vn,wn,Pn):dh(Ce,Ve,Xn,Pt,vn,wn,Pn);if(!(Pt&_e)){var bo=co&&zo.call(Ce,"__wrapped__"),$o=fo&&zo.call(Ve,"__wrapped__");if(bo||$o){var Mo=bo?Ce.value():Ce,To=$o?Ve.value():Ve;return Pn||(Pn=new Pi),wn(Mo,To,Pt,vn,Pn)}}return go?(Pn||(Pn=new Pi),ph(Ce,Ve,Pt,vn,wn,Pn)):!1}function Vp(Ce){return Yo(Ce)&&oi(Ce)==Bn}function ns(Ce,Ve,Pt,vn){var wn=Pt.length,Pn=wn,Rn=!vn;if(Ce==null)return!Pn;for(Ce=Qo(Ce);wn--;){var Qn=Pt[wn];if(Rn&&Qn[2]?Qn[1]!==Ce[Qn[0]]:!(Qn[0]in Ce))return!1}for(;++wn<Pn;){Qn=Pt[wn];var Xn=Qn[0],uo=Ce[Xn],co=Qn[1];if(Rn&&Qn[2]){if(uo===r&&!(Xn in Ce))return!1}else{var fo=new Pi;if(vn)var go=vn(uo,co,Xn,Ce,Ve,fo);if(!(go===r?Mr(co,uo,_e|Oe,vn,fo):go))return!1}}return!0}function Ql(Ce){if(!jo(Ce)||bh(Ce))return!1;var Ve=Qi(Ce)?Vd:Pc;return Ve.test(ar(Ce))}function zp(Ce){return Yo(Ce)&&ii(Ce)==lo}function Qp(Ce){return Yo(Ce)&&oi(Ce)==no}function Fp(Ce){return Yo(Ce)&&wa(Ce.length)&&!!Ho[ii(Ce)]}function Fl(Ce){return typeof Ce=="function"?Ce:Ce==null?pi:typeof Ce=="object"?Eo(Ce)?Gl(Ce[0],Ce[1]):Hl(Ce):cc(Ce)}function os(Ce){if(!Dr(Ce))return Gd(Ce);var Ve=[];for(var Pt in Qo(Ce))zo.call(Ce,Pt)&&Pt!="constructor"&&Ve.push(Pt);return Ve}function Up(Ce){if(!jo(Ce))return $h(Ce);var Ve=Dr(Ce),Pt=[];for(var vn in Ce)vn=="constructor"&&(Ve||!zo.call(Ce,vn))||Pt.push(vn);return Pt}function is(Ce,Ve){return Ce<Ve}function Ul(Ce,Ve){var Pt=-1,vn=ci(Ce)?eo(Ce.length):[];return Yi(Ce,function(wn,Pn,Rn){vn[++Pt]=Ve(wn,Pn,Rn)}),vn}function Hl(Ce){var Ve=_s(Ce);return Ve.length==1&&Ve[0][2]?wu(Ve[0][0],Ve[0][1]):function(Pt){return Pt===Ce||ns(Pt,Ce,Ve)}}function Gl(Ce,Ve){return bs(Ce)&&xu(Ve)?wu(Ri(Ce),Ve):function(Pt){var vn=ks(Pt,Ce);return vn===r&&vn===Ve?Ms(Pt,Ce):Mr(Ve,vn,_e|Oe)}}function sa(Ce,Ve,Pt,vn,wn){Ce!==Ve&&Ka(Ve,function(Pn,Rn){if(wn||(wn=new Pi),jo(Pn))Hp(Ce,Ve,Rn,Pt,sa,vn,wn);else{var Qn=vn?vn(xs(Ce,Rn),Pn,Rn+"",Ce,Ve,wn):r;Qn===r&&(Qn=Pn),Za(Ce,Rn,Qn)}},di)}function Hp(Ce,Ve,Pt,vn,wn,Pn,Rn){var Qn=xs(Ce,Pt),Xn=xs(Ve,Pt),uo=Rn.get(Xn);if(uo){Za(Ce,Pt,uo);return}var co=Pn?Pn(Qn,Xn,Pt+"",Ce,Ve,Rn):r,fo=co===r;if(fo){var go=Eo(Xn),bo=!go&&Ki(Xn),$o=!go&&!bo&&Sr(Xn);co=Xn,go||bo||$o?Eo(Qn)?co=Qn:Xo(Qn)?co=ui(Qn):bo?(fo=!1,co=ou(Xn,!0)):$o?(fo=!1,co=iu(Xn,!0)):co=[]:Lr(Xn)||sr(Xn)?(co=Qn,sr(Qn)?co=ec(Qn):(!jo(Qn)||Qi(Qn))&&(co=Ou(Xn))):fo=!1}fo&&(Rn.set(Xn,co),wn(co,Xn,vn,Pn,Rn),Rn.delete(Xn)),Za(Ce,Pt,co)}function Wl(Ce,Ve){var Pt=Ce.length;if(Pt)return Ve+=Ve<0?Pt:0,zi(Ve,Pt)?Ce[Ve]:r}function jl(Ce,Ve,Pt){Ve.length?Ve=Go(Ve,function(Pn){return Eo(Pn)?function(Rn){return ir(Rn,Pn.length===1?Pn[0]:Pn)}:Pn}):Ve=[pi];var vn=-1;Ve=Go(Ve,fi(wo()));var wn=Ul(Ce,function(Pn,Rn,Qn){var Xn=Go(Ve,function(uo){return uo(Pn)});return{criteria:Xn,index:++vn,value:Pn}});return yd(wn,function(Pn,Rn){return oh(Pn,Rn,Pt)})}function Gp(Ce,Ve){return Yl(Ce,Ve,function(Pt,vn){return Ms(Ce,vn)})}function Yl(Ce,Ve,Pt){for(var vn=-1,wn=Ve.length,Pn={};++vn<wn;){var Rn=Ve[vn],Qn=ir(Ce,Rn);Pt(Qn,Rn)&&Ir(Pn,Zi(Rn,Ce),Qn)}return Pn}function Wp(Ce){return function(Ve){return ir(Ve,Ce)}}function rs(Ce,Ve,Pt,vn){var wn=vn?vd:ur,Pn=-1,Rn=Ve.length,Qn=Ce;for(Ce===Ve&&(Ve=ui(Ve)),Pt&&(Qn=Go(Ce,fi(Pt)));++Pn<Rn;)for(var Xn=0,uo=Ve[Pn],co=Pt?Pt(uo):uo;(Xn=wn(Qn,co,Xn,vn))>-1;)Qn!==Ce&&qr.call(Qn,Xn,1),qr.call(Ce,Xn,1);return Ce}function Xl(Ce,Ve){for(var Pt=Ce?Ve.length:0,vn=Pt-1;Pt--;){var wn=Ve[Pt];if(Pt==vn||wn!==Pn){var Pn=wn;zi(wn)?qr.call(Ce,wn,1):us(Ce,wn)}}return Ce}function as(Ce,Ve){return Ce+ea(El()*(Ve-Ce+1))}function jp(Ce,Ve,Pt,vn){for(var wn=-1,Pn=Ko(Jr((Ve-Ce)/(Pt||1)),0),Rn=eo(Pn);Pn--;)Rn[vn?Pn:++wn]=Ce,Ce+=Pt;return Rn}function ss(Ce,Ve){var Pt="";if(!Ce||Ve<1||Ve>xn)return Pt;do Ve%2&&(Pt+=Ce),Ve=ea(Ve/2),Ve&&(Ce+=Ce);while(Ve);return Pt}function Io(Ce,Ve){return ws($u(Ce,Ve,pi),Ce+"")}function Yp(Ce){return Ml(br(Ce))}function Xp(Ce,Ve){var Pt=br(Ce);return ya(Pt,or(Ve,0,Pt.length))}function Ir(Ce,Ve,Pt,vn){if(!jo(Ce))return Ce;Ve=Zi(Ve,Ce);for(var wn=-1,Pn=Ve.length,Rn=Pn-1,Qn=Ce;Qn!=null&&++wn<Pn;){var Xn=Ri(Ve[wn]),uo=Pt;if(Xn==="__proto__"||Xn==="constructor"||Xn==="prototype")return Ce;if(wn!=Rn){var co=Qn[Xn];uo=vn?vn(co,Xn,Qn):r,uo===r&&(uo=jo(co)?co:zi(Ve[wn+1])?[]:{})}Er(Qn,Xn,uo),Qn=Qn[Xn]}return Ce}var Zl=ta?function(Ce,Ve){return ta.set(Ce,Ve),Ce}:pi,Zp=Kr?function(Ce,Ve){return Kr(Ce,"toString",{configurable:!0,enumerable:!1,value:Rs(Ve),writable:!0})}:pi;function qp(Ce){return ya(br(Ce))}function wi(Ce,Ve,Pt){var vn=-1,wn=Ce.length;Ve<0&&(Ve=-Ve>wn?0:wn+Ve),Pt=Pt>wn?wn:Pt,Pt<0&&(Pt+=wn),wn=Ve>Pt?0:Pt-Ve>>>0,Ve>>>=0;for(var Pn=eo(wn);++vn<wn;)Pn[vn]=Ce[vn+Ve];return Pn}function Kp(Ce,Ve){var Pt;return Yi(Ce,function(vn,wn,Pn){return Pt=Ve(vn,wn,Pn),!Pt}),!!Pt}function la(Ce,Ve,Pt){var vn=0,wn=Ce==null?vn:Ce.length;if(typeof Ve=="number"&&Ve===Ve&&wn<=Ln){for(;vn<wn;){var Pn=vn+wn>>>1,Rn=Ce[Pn];Rn!==null&&!vi(Rn)&&(Pt?Rn<=Ve:Rn<Ve)?vn=Pn+1:wn=Pn}return wn}return ls(Ce,Ve,pi,Pt)}function ls(Ce,Ve,Pt,vn){var wn=0,Pn=Ce==null?0:Ce.length;if(Pn===0)return 0;Ve=Pt(Ve);for(var Rn=Ve!==Ve,Qn=Ve===null,Xn=vi(Ve),uo=Ve===r;wn<Pn;){var co=ea((wn+Pn)/2),fo=Pt(Ce[co]),go=fo!==r,bo=fo===null,$o=fo===fo,Mo=vi(fo);if(Rn)var To=vn||$o;else uo?To=$o&&(vn||go):Qn?To=$o&&go&&(vn||!bo):Xn?To=$o&&go&&!bo&&(vn||!Mo):bo||Mo?To=!1:To=vn?fo<=Ve:fo<Ve;To?wn=co+1:Pn=co}return ni(Pn,En)}function ql(Ce,Ve){for(var Pt=-1,vn=Ce.length,wn=0,Pn=[];++Pt<vn;){var Rn=Ce[Pt],Qn=Ve?Ve(Rn):Rn;if(!Pt||!Ei(Qn,Xn)){var Xn=Qn;Pn[wn++]=Rn===0?0:Rn}}return Pn}function Kl(Ce){return typeof Ce=="number"?Ce:vi(Ce)?Tn:+Ce}function mi(Ce){if(typeof Ce=="string")return Ce;if(Eo(Ce))return Go(Ce,mi)+"";if(vi(Ce))return Al?Al.call(Ce):"";var Ve=Ce+"";return Ve=="0"&&1/Ce==-_n?"-0":Ve}function Xi(Ce,Ve,Pt){var vn=-1,wn=Qr,Pn=Ce.length,Rn=!0,Qn=[],Xn=Qn;if(Pt)Rn=!1,wn=La;else if(Pn>=L){var uo=Ve?null:uh(Ce);if(uo)return Ur(uo);Rn=!1,wn=xr,Xn=new nr}else Xn=Ve?[]:Qn;e:for(;++vn<Pn;){var co=Ce[vn],fo=Ve?Ve(co):co;if(co=Pt||co!==0?co:0,Rn&&fo===fo){for(var go=Xn.length;go--;)if(Xn[go]===fo)continue e;Ve&&Xn.push(fo),Qn.push(co)}else wn(Xn,fo,Pt)||(Xn!==Qn&&Xn.push(fo),Qn.push(co))}return Qn}function us(Ce,Ve){return Ve=Zi(Ve,Ce),Ce=Tu(Ce,Ve),Ce==null||delete Ce[Ri($i(Ve))]}function Jl(Ce,Ve,Pt,vn){return Ir(Ce,Ve,Pt(ir(Ce,Ve)),vn)}function ua(Ce,Ve,Pt,vn){for(var wn=Ce.length,Pn=vn?wn:-1;(vn?Pn--:++Pn<wn)&&Ve(Ce[Pn],Pn,Ce););return Pt?wi(Ce,vn?0:Pn,vn?Pn+1:wn):wi(Ce,vn?Pn+1:0,vn?wn:Pn)}function eu(Ce,Ve){var Pt=Ce;return Pt instanceof Do&&(Pt=Pt.value()),Ba(Ve,function(vn,wn){return wn.func.apply(wn.thisArg,Gi([vn],wn.args))},Pt)}function cs(Ce,Ve,Pt){var vn=Ce.length;if(vn<2)return vn?Xi(Ce[0]):[];for(var wn=-1,Pn=eo(vn);++wn<vn;)for(var Rn=Ce[wn],Qn=-1;++Qn<vn;)Qn!=wn&&(Pn[wn]=Ar(Pn[wn]||Rn,Ce[Qn],Ve,Pt));return Xi(ti(Pn,1),Ve,Pt)}function tu(Ce,Ve,Pt){for(var vn=-1,wn=Ce.length,Pn=Ve.length,Rn={};++vn<wn;){var Qn=vn<Pn?Ve[vn]:r;Pt(Rn,Ce[vn],Qn)}return Rn}function ds(Ce){return Xo(Ce)?Ce:[]}function ps(Ce){return typeof Ce=="function"?Ce:pi}function Zi(Ce,Ve){return Eo(Ce)?Ce:bs(Ce,Ve)?[Ce]:Au(Bo(Ce))}var Jp=Io;function qi(Ce,Ve,Pt){var vn=Ce.length;return Pt=Pt===r?vn:Pt,!Ve&&Pt>=vn?Ce:wi(Ce,Ve,Pt)}var nu=zd||function(Ce){return ei.clearTimeout(Ce)};function ou(Ce,Ve){if(Ve)return Ce.slice();var Pt=Ce.length,vn=wl?wl(Pt):new Ce.constructor(Pt);return Ce.copy(vn),vn}function hs(Ce){var Ve=new Ce.constructor(Ce.byteLength);return new Xr(Ve).set(new Xr(Ce)),Ve}function eh(Ce,Ve){var Pt=Ve?hs(Ce.buffer):Ce.buffer;return new Ce.constructor(Pt,Ce.byteOffset,Ce.byteLength)}function th(Ce){var Ve=new Ce.constructor(Ce.source,zs.exec(Ce));return Ve.lastIndex=Ce.lastIndex,Ve}function nh(Ce){return Pr?Qo(Pr.call(Ce)):{}}function iu(Ce,Ve){var Pt=Ve?hs(Ce.buffer):Ce.buffer;return new Ce.constructor(Pt,Ce.byteOffset,Ce.length)}function ru(Ce,Ve){if(Ce!==Ve){var Pt=Ce!==r,vn=Ce===null,wn=Ce===Ce,Pn=vi(Ce),Rn=Ve!==r,Qn=Ve===null,Xn=Ve===Ve,uo=vi(Ve);if(!Qn&&!uo&&!Pn&&Ce>Ve||Pn&&Rn&&Xn&&!Qn&&!uo||vn&&Rn&&Xn||!Pt&&Xn||!wn)return 1;if(!vn&&!Pn&&!uo&&Ce<Ve||uo&&Pt&&wn&&!vn&&!Pn||Qn&&Pt&&wn||!Rn&&wn||!Xn)return-1}return 0}function oh(Ce,Ve,Pt){for(var vn=-1,wn=Ce.criteria,Pn=Ve.criteria,Rn=wn.length,Qn=Pt.length;++vn<Rn;){var Xn=ru(wn[vn],Pn[vn]);if(Xn){if(vn>=Qn)return Xn;var uo=Pt[vn];return Xn*(uo=="desc"?-1:1)}}return Ce.index-Ve.index}function au(Ce,Ve,Pt,vn){for(var wn=-1,Pn=Ce.length,Rn=Pt.length,Qn=-1,Xn=Ve.length,uo=Ko(Pn-Rn,0),co=eo(Xn+uo),fo=!vn;++Qn<Xn;)co[Qn]=Ve[Qn];for(;++wn<Rn;)(fo||wn<Pn)&&(co[Pt[wn]]=Ce[wn]);for(;uo--;)co[Qn++]=Ce[wn++];return co}function su(Ce,Ve,Pt,vn){for(var wn=-1,Pn=Ce.length,Rn=-1,Qn=Pt.length,Xn=-1,uo=Ve.length,co=Ko(Pn-Qn,0),fo=eo(co+uo),go=!vn;++wn<co;)fo[wn]=Ce[wn];for(var bo=wn;++Xn<uo;)fo[bo+Xn]=Ve[Xn];for(;++Rn<Qn;)(go||wn<Pn)&&(fo[bo+Pt[Rn]]=Ce[wn++]);return fo}function ui(Ce,Ve){var Pt=-1,vn=Ce.length;for(Ve||(Ve=eo(vn));++Pt<vn;)Ve[Pt]=Ce[Pt];return Ve}function Ii(Ce,Ve,Pt,vn){var wn=!Pt;Pt||(Pt={});for(var Pn=-1,Rn=Ve.length;++Pn<Rn;){var Qn=Ve[Pn],Xn=vn?vn(Pt[Qn],Ce[Qn],Qn,Pt,Ce):r;Xn===r&&(Xn=Ce[Qn]),wn?Li(Pt,Qn,Xn):Er(Pt,Qn,Xn)}return Pt}function ih(Ce,Ve){return Ii(Ce,Ss(Ce),Ve)}function rh(Ce,Ve){return Ii(Ce,Su(Ce),Ve)}function ca(Ce,Ve){return function(Pt,vn){var wn=Eo(Pt)?cd:Cp,Pn=Ve?Ve():{};return wn(Pt,Ce,wo(vn,2),Pn)}}function yr(Ce){return Io(function(Ve,Pt){var vn=-1,wn=Pt.length,Pn=wn>1?Pt[wn-1]:r,Rn=wn>2?Pt[2]:r;for(Pn=Ce.length>3&&typeof Pn=="function"?(wn--,Pn):r,Rn&&ri(Pt[0],Pt[1],Rn)&&(Pn=wn<3?r:Pn,wn=1),Ve=Qo(Ve);++vn<wn;){var Qn=Pt[vn];Qn&&Ce(Ve,Qn,vn,Pn)}return Ve})}function lu(Ce,Ve){return function(Pt,vn){if(Pt==null)return Pt;if(!ci(Pt))return Ce(Pt,vn);for(var wn=Pt.length,Pn=Ve?wn:-1,Rn=Qo(Pt);(Ve?Pn--:++Pn<wn)&&vn(Rn[Pn],Pn,Rn)!==!1;);return Pt}}function uu(Ce){return function(Ve,Pt,vn){for(var wn=-1,Pn=Qo(Ve),Rn=vn(Ve),Qn=Rn.length;Qn--;){var Xn=Rn[Ce?Qn:++wn];if(Pt(Pn[Xn],Xn,Pn)===!1)break}return Ve}}function ah(Ce,Ve,Pt){var vn=Ve&xe,wn=Rr(Ce);function Pn(){var Rn=this&&this!==ei&&this instanceof Pn?wn:Ce;return Rn.apply(vn?Pt:this,arguments)}return Pn}function cu(Ce){return function(Ve){Ve=Bo(Ve);var Pt=cr(Ve)?Ci(Ve):r,vn=Pt?Pt[0]:Ve.charAt(0),wn=Pt?qi(Pt,1).join(""):Ve.slice(1);return vn[Ce]()+wn}}function gr(Ce){return function(Ve){return Ba(lc(sc(Ve).replace(Xc,"")),Ce,"")}}function Rr(Ce){return function(){var Ve=arguments;switch(Ve.length){case 0:return new Ce;case 1:return new Ce(Ve[0]);case 2:return new Ce(Ve[0],Ve[1]);case 3:return new Ce(Ve[0],Ve[1],Ve[2]);case 4:return new Ce(Ve[0],Ve[1],Ve[2],Ve[3]);case 5:return new Ce(Ve[0],Ve[1],Ve[2],Ve[3],Ve[4]);case 6:return new Ce(Ve[0],Ve[1],Ve[2],Ve[3],Ve[4],Ve[5]);case 7:return new Ce(Ve[0],Ve[1],Ve[2],Ve[3],Ve[4],Ve[5],Ve[6])}var Pt=vr(Ce.prototype),vn=Ce.apply(Pt,Ve);return jo(vn)?vn:Pt}}function sh(Ce,Ve,Pt){var vn=Rr(Ce);function wn(){for(var Pn=arguments.length,Rn=eo(Pn),Qn=Pn,Xn=_r(wn);Qn--;)Rn[Qn]=arguments[Qn];var uo=Pn<3&&Rn[0]!==Xn&&Rn[Pn-1]!==Xn?[]:Wi(Rn,Xn);if(Pn-=uo.length,Pn<Pt)return mu(Ce,Ve,da,wn.placeholder,r,Rn,uo,r,r,Pt-Pn);var co=this&&this!==ei&&this instanceof wn?vn:Ce;return hi(co,this,Rn)}return wn}function du(Ce){return function(Ve,Pt,vn){var wn=Qo(Ve);if(!ci(Ve)){var Pn=wo(Pt,3);Ve=Jo(Ve),Pt=function(Qn){return Pn(wn[Qn],Qn,wn)}}var Rn=Ce(Ve,Pt,vn);return Rn>-1?wn[Pn?Ve[Rn]:Rn]:r}}function pu(Ce){return Vi(function(Ve){var Pt=Ve.length,vn=Pt,wn=Oi.prototype.thru;for(Ce&&Ve.reverse();vn--;){var Pn=Ve[vn];if(typeof Pn!="function")throw new bi(oe);if(wn&&!Rn&&ma(Pn)=="wrapper")var Rn=new Oi([],!0)}for(vn=Rn?vn:Pt;++vn<Pt;){Pn=Ve[vn];var Qn=ma(Pn),Xn=Qn=="wrapper"?gs(Pn):r;Xn&&Os(Xn[0])&&Xn[1]==(qe|Ne|Ue|Et)&&!Xn[4].length&&Xn[9]==1?Rn=Rn[ma(Xn[0])].apply(Rn,Xn[3]):Rn=Pn.length==1&&Os(Pn)?Rn[Qn]():Rn.thru(Pn)}return function(){var uo=arguments,co=uo[0];if(Rn&&uo.length==1&&Eo(co))return Rn.plant(co).value();for(var fo=0,go=Pt?Ve[fo].apply(this,uo):co;++fo<Pt;)go=Ve[fo].call(this,go);return go}})}function da(Ce,Ve,Pt,vn,wn,Pn,Rn,Qn,Xn,uo){var co=Ve&qe,fo=Ve&xe,go=Ve&$e,bo=Ve&(Ne|ze),$o=Ve&At,Mo=go?r:Rr(Ce);function To(){for(var Ro=arguments.length,No=eo(Ro),yi=Ro;yi--;)No[yi]=arguments[yi];if(bo)var ai=_r(To),gi=_d(No,ai);if(vn&&(No=au(No,vn,wn,bo)),Pn&&(No=su(No,Pn,Rn,bo)),Ro-=gi,bo&&Ro<uo){var Zo=Wi(No,ai);return mu(Ce,Ve,da,To.placeholder,Pt,No,Zo,Qn,Xn,uo-Ro)}var Ai=fo?Pt:this,Ui=go?Ai[Ce]:Ce;return Ro=No.length,Qn?No=Ch(No,Qn):$o&&Ro>1&&No.reverse(),co&&Xn<Ro&&(No.length=Xn),this&&this!==ei&&this instanceof To&&(Ui=Mo||Rr(Ui)),Ui.apply(Ai,No)}return To}function hu(Ce,Ve){return function(Pt,vn){return Dp(Pt,Ce,Ve(vn),{})}}function pa(Ce,Ve){return function(Pt,vn){var wn;if(Pt===r&&vn===r)return Ve;if(Pt!==r&&(wn=Pt),vn!==r){if(wn===r)return vn;typeof Pt=="string"||typeof vn=="string"?(Pt=mi(Pt),vn=mi(vn)):(Pt=Kl(Pt),vn=Kl(vn)),wn=Ce(Pt,vn)}return wn}}function fs(Ce){return Vi(function(Ve){return Ve=Go(Ve,fi(wo())),Io(function(Pt){var vn=this;return Ce(Ve,function(wn){return hi(wn,vn,Pt)})})})}function ha(Ce,Ve){Ve=Ve===r?" ":mi(Ve);var Pt=Ve.length;if(Pt<2)return Pt?ss(Ve,Ce):Ve;var vn=ss(Ve,Jr(Ce/dr(Ve)));return cr(Ve)?qi(Ci(vn),0,Ce).join(""):vn.slice(0,Ce)}function lh(Ce,Ve,Pt,vn){var wn=Ve&xe,Pn=Rr(Ce);function Rn(){for(var Qn=-1,Xn=arguments.length,uo=-1,co=vn.length,fo=eo(co+Xn),go=this&&this!==ei&&this instanceof Rn?Pn:Ce;++uo<co;)fo[uo]=vn[uo];for(;Xn--;)fo[uo++]=arguments[++Qn];return hi(go,wn?Pt:this,fo)}return Rn}function fu(Ce){return function(Ve,Pt,vn){return vn&&typeof vn!="number"&&ri(Ve,Pt,vn)&&(Pt=vn=r),Ve=Fi(Ve),Pt===r?(Pt=Ve,Ve=0):Pt=Fi(Pt),vn=vn===r?Ve<Pt?1:-1:Fi(vn),jp(Ve,Pt,vn,Ce)}}function fa(Ce){return function(Ve,Pt){return typeof Ve=="string"&&typeof Pt=="string"||(Ve=Ti(Ve),Pt=Ti(Pt)),Ce(Ve,Pt)}}function mu(Ce,Ve,Pt,vn,wn,Pn,Rn,Qn,Xn,uo){var co=Ve&Ne,fo=co?Rn:r,go=co?r:Rn,bo=co?Pn:r,$o=co?r:Pn;Ve|=co?Ue:Fe,Ve&=~(co?Fe:Ue),Ve&Ie||(Ve&=~(xe|$e));var Mo=[Ce,Ve,wn,bo,fo,$o,go,Qn,Xn,uo],To=Pt.apply(r,Mo);return Os(Ce)&&Cu(To,Mo),To.placeholder=vn,Pu(To,Ce,Ve)}function ms(Ce){var Ve=qo[Ce];return function(Pt,vn){if(Pt=Ti(Pt),vn=vn==null?0:ni(ko(vn),292),vn&&Pl(Pt)){var wn=(Bo(Pt)+"e").split("e"),Pn=Ve(wn[0]+"e"+(+wn[1]+vn));return wn=(Bo(Pn)+"e").split("e"),+(wn[0]+"e"+(+wn[1]-vn))}return Ve(Pt)}}var uh=fr&&1/Ur(new fr([,-0]))[1]==_n?function(Ce){return new fr(Ce)}:Ls;function vu(Ce){return function(Ve){var Pt=oi(Ve);return Pt==Bn?Ga(Ve):Pt==no?Td(Ve):gd(Ve,Ce(Ve))}}function Bi(Ce,Ve,Pt,vn,wn,Pn,Rn,Qn){var Xn=Ve&$e;if(!Xn&&typeof Ce!="function")throw new bi(oe);var uo=vn?vn.length:0;if(uo||(Ve&=~(Ue|Fe),vn=wn=r),Rn=Rn===r?Rn:Ko(ko(Rn),0),Qn=Qn===r?Qn:ko(Qn),uo-=wn?wn.length:0,Ve&Fe){var co=vn,fo=wn;vn=wn=r}var go=Xn?r:gs(Ce),bo=[Ce,Ve,Pt,vn,wn,co,fo,Pn,Rn,Qn];if(go&&wh(bo,go),Ce=bo[0],Ve=bo[1],Pt=bo[2],vn=bo[3],wn=bo[4],Qn=bo[9]=bo[9]===r?Xn?0:Ce.length:Ko(bo[9]-uo,0),!Qn&&Ve&(Ne|ze)&&(Ve&=~(Ne|ze)),!Ve||Ve==xe)var $o=ah(Ce,Ve,Pt);else Ve==Ne||Ve==ze?$o=sh(Ce,Ve,Qn):(Ve==Ue||Ve==(xe|Ue))&&!wn.length?$o=lh(Ce,Ve,Pt,vn):$o=da.apply(r,bo);var Mo=go?Zl:Cu;return Pu(Mo($o,bo),Ce,Ve)}function yu(Ce,Ve,Pt,vn){return Ce===r||Ei(Ce,hr[Pt])&&!zo.call(vn,Pt)?Ve:Ce}function gu(Ce,Ve,Pt,vn,wn,Pn){return jo(Ce)&&jo(Ve)&&(Pn.set(Ve,Ce),sa(Ce,Ve,r,gu,Pn),Pn.delete(Ve)),Ce}function ch(Ce){return Lr(Ce)?r:Ce}function _u(Ce,Ve,Pt,vn,wn,Pn){var Rn=Pt&_e,Qn=Ce.length,Xn=Ve.length;if(Qn!=Xn&&!(Rn&&Xn>Qn))return!1;var uo=Pn.get(Ce),co=Pn.get(Ve);if(uo&&co)return uo==Ve&&co==Ce;var fo=-1,go=!0,bo=Pt&Oe?new nr:r;for(Pn.set(Ce,Ve),Pn.set(Ve,Ce);++fo<Qn;){var $o=Ce[fo],Mo=Ve[fo];if(vn)var To=Rn?vn(Mo,$o,fo,Ve,Ce,Pn):vn($o,Mo,fo,Ce,Ve,Pn);if(To!==r){if(To)continue;go=!1;break}if(bo){if(!Va(Ve,function(Ro,No){if(!xr(bo,No)&&($o===Ro||wn($o,Ro,Pt,vn,Pn)))return bo.push(No)})){go=!1;break}}else if(!($o===Mo||wn($o,Mo,Pt,vn,Pn))){go=!1;break}}return Pn.delete(Ce),Pn.delete(Ve),go}function dh(Ce,Ve,Pt,vn,wn,Pn,Rn){switch(Pt){case ro:if(Ce.byteLength!=Ve.byteLength||Ce.byteOffset!=Ve.byteOffset)return!1;Ce=Ce.buffer,Ve=Ve.buffer;case Co:return!(Ce.byteLength!=Ve.byteLength||!Pn(new Xr(Ce),new Xr(Ve)));case Nn:case Vn:case Yn:return Ei(+Ce,+Ve);case Gn:return Ce.name==Ve.name&&Ce.message==Ve.message;case lo:case vo:return Ce==Ve+"";case Bn:var Qn=Ga;case no:var Xn=vn&_e;if(Qn||(Qn=Ur),Ce.size!=Ve.size&&!Xn)return!1;var uo=Rn.get(Ce);if(uo)return uo==Ve;vn|=Oe,Rn.set(Ce,Ve);var co=_u(Qn(Ce),Qn(Ve),vn,wn,Pn,Rn);return Rn.delete(Ce),co;case Zn:if(Pr)return Pr.call(Ce)==Pr.call(Ve)}return!1}function ph(Ce,Ve,Pt,vn,wn,Pn){var Rn=Pt&_e,Qn=vs(Ce),Xn=Qn.length,uo=vs(Ve),co=uo.length;if(Xn!=co&&!Rn)return!1;for(var fo=Xn;fo--;){var go=Qn[fo];if(!(Rn?go in Ve:zo.call(Ve,go)))return!1}var bo=Pn.get(Ce),$o=Pn.get(Ve);if(bo&&$o)return bo==Ve&&$o==Ce;var Mo=!0;Pn.set(Ce,Ve),Pn.set(Ve,Ce);for(var To=Rn;++fo<Xn;){go=Qn[fo];var Ro=Ce[go],No=Ve[go];if(vn)var yi=Rn?vn(No,Ro,go,Ve,Ce,Pn):vn(Ro,No,go,Ce,Ve,Pn);if(!(yi===r?Ro===No||wn(Ro,No,Pt,vn,Pn):yi)){Mo=!1;break}To||(To=go=="constructor")}if(Mo&&!To){var ai=Ce.constructor,gi=Ve.constructor;ai!=gi&&"constructor"in Ce&&"constructor"in Ve&&!(typeof ai=="function"&&ai instanceof ai&&typeof gi=="function"&&gi instanceof gi)&&(Mo=!1)}return Pn.delete(Ce),Pn.delete(Ve),Mo}function Vi(Ce){return ws($u(Ce,r,Ru),Ce+"")}function vs(Ce){return Vl(Ce,Jo,Ss)}function ys(Ce){return Vl(Ce,di,Su)}var gs=ta?function(Ce){return ta.get(Ce)}:Ls;function ma(Ce){for(var Ve=Ce.name+"",Pt=mr[Ve],vn=zo.call(mr,Ve)?Pt.length:0;vn--;){var wn=Pt[vn],Pn=wn.func;if(Pn==null||Pn==Ce)return wn.name}return Ve}function _r(Ce){var Ve=zo.call(Cn,"placeholder")?Cn:Ce;return Ve.placeholder}function wo(){var Ce=Cn.iteratee||Ds;return Ce=Ce===Ds?Fl:Ce,arguments.length?Ce(arguments[0],arguments[1]):Ce}function va(Ce,Ve){var Pt=Ce.__data__;return Sh(Ve)?Pt[typeof Ve=="string"?"string":"hash"]:Pt.map}function _s(Ce){for(var Ve=Jo(Ce),Pt=Ve.length;Pt--;){var vn=Ve[Pt],wn=Ce[vn];Ve[Pt]=[vn,wn,xu(wn)]}return Ve}function rr(Ce,Ve){var Pt=xd(Ce,Ve);return Ql(Pt)?Pt:r}function hh(Ce){var Ve=zo.call(Ce,er),Pt=Ce[er];try{Ce[er]=r;var vn=!0}catch{}var wn=jr.call(Ce);return vn&&(Ve?Ce[er]=Pt:delete Ce[er]),wn}var Ss=ja?function(Ce){return Ce==null?[]:(Ce=Qo(Ce),Hi(ja(Ce),function(Ve){return Tl.call(Ce,Ve)}))}:Bs,Su=ja?function(Ce){for(var Ve=[];Ce;)Gi(Ve,Ss(Ce)),Ce=Zr(Ce);return Ve}:Bs,oi=ii;(Ya&&oi(new Ya(new ArrayBuffer(1)))!=ro||$r&&oi(new $r)!=Bn||Xa&&oi(Xa.resolve())!=po||fr&&oi(new fr)!=no||Tr&&oi(new Tr)!=yo)&&(oi=function(Ce){var Ve=ii(Ce),Pt=Ve==Kn?Ce.constructor:r,vn=Pt?ar(Pt):"";if(vn)switch(vn){case Xd:return ro;case Zd:return Bn;case qd:return po;case Kd:return no;case Jd:return yo}return Ve});function fh(Ce,Ve,Pt){for(var vn=-1,wn=Pt.length;++vn<wn;){var Pn=Pt[vn],Rn=Pn.size;switch(Pn.type){case"drop":Ce+=Rn;break;case"dropRight":Ve-=Rn;break;case"take":Ve=ni(Ve,Ce+Rn);break;case"takeRight":Ce=Ko(Ce,Ve-Rn);break}}return{start:Ce,end:Ve}}function mh(Ce){var Ve=Ce.match(Sc);return Ve?Ve[1].split(bc):[]}function bu(Ce,Ve,Pt){Ve=Zi(Ve,Ce);for(var vn=-1,wn=Ve.length,Pn=!1;++vn<wn;){var Rn=Ri(Ve[vn]);if(!(Pn=Ce!=null&&Pt(Ce,Rn)))break;Ce=Ce[Rn]}return Pn||++vn!=wn?Pn:(wn=Ce==null?0:Ce.length,!!wn&&wa(wn)&&zi(Rn,wn)&&(Eo(Ce)||sr(Ce)))}function vh(Ce){var Ve=Ce.length,Pt=new Ce.constructor(Ve);return Ve&&typeof Ce[0]=="string"&&zo.call(Ce,"index")&&(Pt.index=Ce.index,Pt.input=Ce.input),Pt}function Ou(Ce){return typeof Ce.constructor=="function"&&!Dr(Ce)?vr(Zr(Ce)):{}}function yh(Ce,Ve,Pt){var vn=Ce.constructor;switch(Ve){case Co:return hs(Ce);case Nn:case Vn:return new vn(+Ce);case ro:return eh(Ce,Pt);case Hn:case io:case mo:case zn:case qn:case so:case Dn:case to:case _o:return iu(Ce,Pt);case Bn:return new vn;case Yn:case vo:return new vn(Ce);case lo:return th(Ce);case no:return new vn;case Zn:return nh(Ce)}}function gh(Ce,Ve){var Pt=Ve.length;if(!Pt)return Ce;var vn=Pt-1;return Ve[vn]=(Pt>1?"& ":"")+Ve[vn],Ve=Ve.join(Pt>2?", ":" "),Ce.replace(gc,`{
/* [wrapped with `+Ve+`] */
`)}function _h(Ce){return Eo(Ce)||sr(Ce)||!!(Cl&&Ce&&Ce[Cl])}function zi(Ce,Ve){var Pt=typeof Ce;return Ve=Ve!=null?Ve:xn,!!Ve&&(Pt=="number"||Pt!="symbol"&&Ac.test(Ce))&&Ce>-1&&Ce%1==0&&Ce<Ve}function ri(Ce,Ve,Pt){if(!jo(Pt))return!1;var vn=typeof Ve;return(vn=="number"?ci(Pt)&&zi(Ve,Pt.length):vn=="string"&&Ve in Pt)?Ei(Pt[Ve],Ce):!1}function bs(Ce,Ve){if(Eo(Ce))return!1;var Pt=typeof Ce;return Pt=="number"||Pt=="symbol"||Pt=="boolean"||Ce==null||vi(Ce)?!0:fc.test(Ce)||!hc.test(Ce)||Ve!=null&&Ce in Qo(Ve)}function Sh(Ce){var Ve=typeof Ce;return Ve=="string"||Ve=="number"||Ve=="symbol"||Ve=="boolean"?Ce!=="__proto__":Ce===null}function Os(Ce){var Ve=ma(Ce),Pt=Cn[Ve];if(typeof Pt!="function"||!(Ve in Do.prototype))return!1;if(Ce===Pt)return!0;var vn=gs(Pt);return!!vn&&Ce===vn[0]}function bh(Ce){return!!xl&&xl in Ce}var Oh=Gr?Qi:Vs;function Dr(Ce){var Ve=Ce&&Ce.constructor,Pt=typeof Ve=="function"&&Ve.prototype||hr;return Ce===Pt}function xu(Ce){return Ce===Ce&&!jo(Ce)}function wu(Ce,Ve){return function(Pt){return Pt==null?!1:Pt[Ce]===Ve&&(Ve!==r||Ce in Qo(Pt))}}function xh(Ce){var Ve=Oa(Ce,function(vn){return Pt.size===le&&Pt.clear(),vn}),Pt=Ve.cache;return Ve}function wh(Ce,Ve){var Pt=Ce[1],vn=Ve[1],wn=Pt|vn,Pn=wn<(xe|$e|qe),Rn=vn==qe&&Pt==Ne||vn==qe&&Pt==Et&&Ce[7].length<=Ve[8]||vn==(qe|Et)&&Ve[7].length<=Ve[8]&&Pt==Ne;if(!(Pn||Rn))return Ce;vn&xe&&(Ce[2]=Ve[2],wn|=Pt&xe?0:Ie);var Qn=Ve[3];if(Qn){var Xn=Ce[3];Ce[3]=Xn?au(Xn,Qn,Ve[4]):Qn,Ce[4]=Xn?Wi(Ce[3],ue):Ve[4]}return Qn=Ve[5],Qn&&(Xn=Ce[5],Ce[5]=Xn?su(Xn,Qn,Ve[6]):Qn,Ce[6]=Xn?Wi(Ce[5],ue):Ve[6]),Qn=Ve[7],Qn&&(Ce[7]=Qn),vn&qe&&(Ce[8]=Ce[8]==null?Ve[8]:ni(Ce[8],Ve[8])),Ce[9]==null&&(Ce[9]=Ve[9]),Ce[0]=Ve[0],Ce[1]=wn,Ce}function $h(Ce){var Ve=[];if(Ce!=null)for(var Pt in Qo(Ce))Ve.push(Pt);return Ve}function Th(Ce){return jr.call(Ce)}function $u(Ce,Ve,Pt){return Ve=Ko(Ve===r?Ce.length-1:Ve,0),function(){for(var vn=arguments,wn=-1,Pn=Ko(vn.length-Ve,0),Rn=eo(Pn);++wn<Pn;)Rn[wn]=vn[Ve+wn];wn=-1;for(var Qn=eo(Ve+1);++wn<Ve;)Qn[wn]=vn[wn];return Qn[Ve]=Pt(Rn),hi(Ce,this,Qn)}}function Tu(Ce,Ve){return Ve.length<2?Ce:ir(Ce,wi(Ve,0,-1))}function Ch(Ce,Ve){for(var Pt=Ce.length,vn=ni(Ve.length,Pt),wn=ui(Ce);vn--;){var Pn=Ve[vn];Ce[vn]=zi(Pn,Pt)?wn[Pn]:r}return Ce}function xs(Ce,Ve){if(!(Ve==="constructor"&&typeof Ce[Ve]=="function")&&Ve!="__proto__")return Ce[Ve]}var Cu=Eu(Zl),Nr=Fd||function(Ce,Ve){return ei.setTimeout(Ce,Ve)},ws=Eu(Zp);function Pu(Ce,Ve,Pt){var vn=Ve+"";return ws(Ce,gh(vn,Ph(mh(vn),Pt)))}function Eu(Ce){var Ve=0,Pt=0;return function(){var vn=Wd(),wn=Lt-(vn-Pt);if(Pt=vn,wn>0){if(++Ve>=jt)return arguments[0]}else Ve=0;return Ce.apply(r,arguments)}}function ya(Ce,Ve){var Pt=-1,vn=Ce.length,wn=vn-1;for(Ve=Ve===r?vn:Ve;++Pt<Ve;){var Pn=as(Pt,wn),Rn=Ce[Pn];Ce[Pn]=Ce[Pt],Ce[Pt]=Rn}return Ce.length=Ve,Ce}var Au=xh(function(Ce){var Ve=[];return Ce.charCodeAt(0)===46&&Ve.push(""),Ce.replace(mc,function(Pt,vn,wn,Pn){Ve.push(wn?Pn.replace(wc,"$1"):vn||Pt)}),Ve});function Ri(Ce){if(typeof Ce=="string"||vi(Ce))return Ce;var Ve=Ce+"";return Ve=="0"&&1/Ce==-_n?"-0":Ve}function ar(Ce){if(Ce!=null){try{return Wr.call(Ce)}catch{}try{return Ce+""}catch{}}return""}function Ph(Ce,Ve){return Si(Wn,function(Pt){var vn="_."+Pt[0];Ve&Pt[1]&&!Qr(Ce,vn)&&Ce.push(vn)}),Ce.sort()}function ku(Ce){if(Ce instanceof Do)return Ce.clone();var Ve=new Oi(Ce.__wrapped__,Ce.__chain__);return Ve.__actions__=ui(Ce.__actions__),Ve.__index__=Ce.__index__,Ve.__values__=Ce.__values__,Ve}function Eh(Ce,Ve,Pt){(Pt?ri(Ce,Ve,Pt):Ve===r)?Ve=1:Ve=Ko(ko(Ve),0);var vn=Ce==null?0:Ce.length;if(!vn||Ve<1)return[];for(var wn=0,Pn=0,Rn=eo(Jr(vn/Ve));wn<vn;)Rn[Pn++]=wi(Ce,wn,wn+=Ve);return Rn}function Ah(Ce){for(var Ve=-1,Pt=Ce==null?0:Ce.length,vn=0,wn=[];++Ve<Pt;){var Pn=Ce[Ve];Pn&&(wn[vn++]=Pn)}return wn}function kh(){var Ce=arguments.length;if(!Ce)return[];for(var Ve=eo(Ce-1),Pt=arguments[0],vn=Ce;vn--;)Ve[vn-1]=arguments[vn];return Gi(Eo(Pt)?ui(Pt):[Pt],ti(Ve,1))}var Mh=Io(function(Ce,Ve){return Xo(Ce)?Ar(Ce,ti(Ve,1,Xo,!0)):[]}),Ih=Io(function(Ce,Ve){var Pt=$i(Ve);return Xo(Pt)&&(Pt=r),Xo(Ce)?Ar(Ce,ti(Ve,1,Xo,!0),wo(Pt,2)):[]}),Rh=Io(function(Ce,Ve){var Pt=$i(Ve);return Xo(Pt)&&(Pt=r),Xo(Ce)?Ar(Ce,ti(Ve,1,Xo,!0),r,Pt):[]});function Dh(Ce,Ve,Pt){var vn=Ce==null?0:Ce.length;return vn?(Ve=Pt||Ve===r?1:ko(Ve),wi(Ce,Ve<0?0:Ve,vn)):[]}function Nh(Ce,Ve,Pt){var vn=Ce==null?0:Ce.length;return vn?(Ve=Pt||Ve===r?1:ko(Ve),Ve=vn-Ve,wi(Ce,0,Ve<0?0:Ve)):[]}function Lh(Ce,Ve){return Ce&&Ce.length?ua(Ce,wo(Ve,3),!0,!0):[]}function Bh(Ce,Ve){return Ce&&Ce.length?ua(Ce,wo(Ve,3),!0):[]}function Vh(Ce,Ve,Pt,vn){var wn=Ce==null?0:Ce.length;return wn?(Pt&&typeof Pt!="number"&&ri(Ce,Ve,Pt)&&(Pt=0,vn=wn),kp(Ce,Ve,Pt,vn)):[]}function Mu(Ce,Ve,Pt){var vn=Ce==null?0:Ce.length;if(!vn)return-1;var wn=Pt==null?0:ko(Pt);return wn<0&&(wn=Ko(vn+wn,0)),Fr(Ce,wo(Ve,3),wn)}function Iu(Ce,Ve,Pt){var vn=Ce==null?0:Ce.length;if(!vn)return-1;var wn=vn-1;return Pt!==r&&(wn=ko(Pt),wn=Pt<0?Ko(vn+wn,0):ni(wn,vn-1)),Fr(Ce,wo(Ve,3),wn,!0)}function Ru(Ce){var Ve=Ce==null?0:Ce.length;return Ve?ti(Ce,1):[]}function zh(Ce){var Ve=Ce==null?0:Ce.length;return Ve?ti(Ce,_n):[]}function Qh(Ce,Ve){var Pt=Ce==null?0:Ce.length;return Pt?(Ve=Ve===r?1:ko(Ve),ti(Ce,Ve)):[]}function Fh(Ce){for(var Ve=-1,Pt=Ce==null?0:Ce.length,vn={};++Ve<Pt;){var wn=Ce[Ve];vn[wn[0]]=wn[1]}return vn}function Du(Ce){return Ce&&Ce.length?Ce[0]:r}function Uh(Ce,Ve,Pt){var vn=Ce==null?0:Ce.length;if(!vn)return-1;var wn=Pt==null?0:ko(Pt);return wn<0&&(wn=Ko(vn+wn,0)),ur(Ce,Ve,wn)}function Hh(Ce){var Ve=Ce==null?0:Ce.length;return Ve?wi(Ce,0,-1):[]}var Gh=Io(function(Ce){var Ve=Go(Ce,ds);return Ve.length&&Ve[0]===Ce[0]?ts(Ve):[]}),Wh=Io(function(Ce){var Ve=$i(Ce),Pt=Go(Ce,ds);return Ve===$i(Pt)?Ve=r:Pt.pop(),Pt.length&&Pt[0]===Ce[0]?ts(Pt,wo(Ve,2)):[]}),jh=Io(function(Ce){var Ve=$i(Ce),Pt=Go(Ce,ds);return Ve=typeof Ve=="function"?Ve:r,Ve&&Pt.pop(),Pt.length&&Pt[0]===Ce[0]?ts(Pt,r,Ve):[]});function Yh(Ce,Ve){return Ce==null?"":Hd.call(Ce,Ve)}function $i(Ce){var Ve=Ce==null?0:Ce.length;return Ve?Ce[Ve-1]:r}function Xh(Ce,Ve,Pt){var vn=Ce==null?0:Ce.length;if(!vn)return-1;var wn=vn;return Pt!==r&&(wn=ko(Pt),wn=wn<0?Ko(vn+wn,0):ni(wn,vn-1)),Ve===Ve?Pd(Ce,Ve,wn):Fr(Ce,ml,wn,!0)}function Zh(Ce,Ve){return Ce&&Ce.length?Wl(Ce,ko(Ve)):r}var qh=Io(Nu);function Nu(Ce,Ve){return Ce&&Ce.length&&Ve&&Ve.length?rs(Ce,Ve):Ce}function Kh(Ce,Ve,Pt){return Ce&&Ce.length&&Ve&&Ve.length?rs(Ce,Ve,wo(Pt,2)):Ce}function Jh(Ce,Ve,Pt){return Ce&&Ce.length&&Ve&&Ve.length?rs(Ce,Ve,r,Pt):Ce}var ef=Vi(function(Ce,Ve){var Pt=Ce==null?0:Ce.length,vn=qa(Ce,Ve);return Xl(Ce,Go(Ve,function(wn){return zi(wn,Pt)?+wn:wn}).sort(ru)),vn});function tf(Ce,Ve){var Pt=[];if(!(Ce&&Ce.length))return Pt;var vn=-1,wn=[],Pn=Ce.length;for(Ve=wo(Ve,3);++vn<Pn;){var Rn=Ce[vn];Ve(Rn,vn,Ce)&&(Pt.push(Rn),wn.push(vn))}return Xl(Ce,wn),Pt}function $s(Ce){return Ce==null?Ce:Yd.call(Ce)}function nf(Ce,Ve,Pt){var vn=Ce==null?0:Ce.length;return vn?(Pt&&typeof Pt!="number"&&ri(Ce,Ve,Pt)?(Ve=0,Pt=vn):(Ve=Ve==null?0:ko(Ve),Pt=Pt===r?vn:ko(Pt)),wi(Ce,Ve,Pt)):[]}function of(Ce,Ve){return la(Ce,Ve)}function rf(Ce,Ve,Pt){return ls(Ce,Ve,wo(Pt,2))}function af(Ce,Ve){var Pt=Ce==null?0:Ce.length;if(Pt){var vn=la(Ce,Ve);if(vn<Pt&&Ei(Ce[vn],Ve))return vn}return-1}function sf(Ce,Ve){return la(Ce,Ve,!0)}function lf(Ce,Ve,Pt){return ls(Ce,Ve,wo(Pt,2),!0)}function uf(Ce,Ve){var Pt=Ce==null?0:Ce.length;if(Pt){var vn=la(Ce,Ve,!0)-1;if(Ei(Ce[vn],Ve))return vn}return-1}function cf(Ce){return Ce&&Ce.length?ql(Ce):[]}function df(Ce,Ve){return Ce&&Ce.length?ql(Ce,wo(Ve,2)):[]}function pf(Ce){var Ve=Ce==null?0:Ce.length;return Ve?wi(Ce,1,Ve):[]}function hf(Ce,Ve,Pt){return Ce&&Ce.length?(Ve=Pt||Ve===r?1:ko(Ve),wi(Ce,0,Ve<0?0:Ve)):[]}function ff(Ce,Ve,Pt){var vn=Ce==null?0:Ce.length;return vn?(Ve=Pt||Ve===r?1:ko(Ve),Ve=vn-Ve,wi(Ce,Ve<0?0:Ve,vn)):[]}function mf(Ce,Ve){return Ce&&Ce.length?ua(Ce,wo(Ve,3),!1,!0):[]}function vf(Ce,Ve){return Ce&&Ce.length?ua(Ce,wo(Ve,3)):[]}var yf=Io(function(Ce){return Xi(ti(Ce,1,Xo,!0))}),gf=Io(function(Ce){var Ve=$i(Ce);return Xo(Ve)&&(Ve=r),Xi(ti(Ce,1,Xo,!0),wo(Ve,2))}),_f=Io(function(Ce){var Ve=$i(Ce);return Ve=typeof Ve=="function"?Ve:r,Xi(ti(Ce,1,Xo,!0),r,Ve)});function Sf(Ce){return Ce&&Ce.length?Xi(Ce):[]}function bf(Ce,Ve){return Ce&&Ce.length?Xi(Ce,wo(Ve,2)):[]}function Of(Ce,Ve){return Ve=typeof Ve=="function"?Ve:r,Ce&&Ce.length?Xi(Ce,r,Ve):[]}function Ts(Ce){if(!(Ce&&Ce.length))return[];var Ve=0;return Ce=Hi(Ce,function(Pt){if(Xo(Pt))return Ve=Ko(Pt.length,Ve),!0}),Ua(Ve,function(Pt){return Go(Ce,za(Pt))})}function Lu(Ce,Ve){if(!(Ce&&Ce.length))return[];var Pt=Ts(Ce);return Ve==null?Pt:Go(Pt,function(vn){return hi(Ve,r,vn)})}var xf=Io(function(Ce,Ve){return Xo(Ce)?Ar(Ce,Ve):[]}),wf=Io(function(Ce){return cs(Hi(Ce,Xo))}),$f=Io(function(Ce){var Ve=$i(Ce);return Xo(Ve)&&(Ve=r),cs(Hi(Ce,Xo),wo(Ve,2))}),Tf=Io(function(Ce){var Ve=$i(Ce);return Ve=typeof Ve=="function"?Ve:r,cs(Hi(Ce,Xo),r,Ve)}),Cf=Io(Ts);function Pf(Ce,Ve){return tu(Ce||[],Ve||[],Er)}function Ef(Ce,Ve){return tu(Ce||[],Ve||[],Ir)}var Af=Io(function(Ce){var Ve=Ce.length,Pt=Ve>1?Ce[Ve-1]:r;return Pt=typeof Pt=="function"?(Ce.pop(),Pt):r,Lu(Ce,Pt)});function Bu(Ce){var Ve=Cn(Ce);return Ve.__chain__=!0,Ve}function kf(Ce,Ve){return Ve(Ce),Ce}function ga(Ce,Ve){return Ve(Ce)}var Mf=Vi(function(Ce){var Ve=Ce.length,Pt=Ve?Ce[0]:0,vn=this.__wrapped__,wn=function(Pn){return qa(Pn,Ce)};return Ve>1||this.__actions__.length||!(vn instanceof Do)||!zi(Pt)?this.thru(wn):(vn=vn.slice(Pt,+Pt+(Ve?1:0)),vn.__actions__.push({func:ga,args:[wn],thisArg:r}),new Oi(vn,this.__chain__).thru(function(Pn){return Ve&&!Pn.length&&Pn.push(r),Pn}))});function If(){return Bu(this)}function Rf(){return new Oi(this.value(),this.__chain__)}function Df(){this.__values__===r&&(this.__values__=Ku(this.value()));var Ce=this.__index__>=this.__values__.length,Ve=Ce?r:this.__values__[this.__index__++];return{done:Ce,value:Ve}}function Nf(){return this}function Lf(Ce){for(var Ve,Pt=this;Pt instanceof oa;){var vn=ku(Pt);vn.__index__=0,vn.__values__=r,Ve?wn.__wrapped__=vn:Ve=vn;var wn=vn;Pt=Pt.__wrapped__}return wn.__wrapped__=Ce,Ve}function Bf(){var Ce=this.__wrapped__;if(Ce instanceof Do){var Ve=Ce;return this.__actions__.length&&(Ve=new Do(this)),Ve=Ve.reverse(),Ve.__actions__.push({func:ga,args:[$s],thisArg:r}),new Oi(Ve,this.__chain__)}return this.thru($s)}function Vf(){return eu(this.__wrapped__,this.__actions__)}var zf=ca(function(Ce,Ve,Pt){zo.call(Ce,Pt)?++Ce[Pt]:Li(Ce,Pt,1)});function Qf(Ce,Ve,Pt){var vn=Eo(Ce)?hl:Ap;return Pt&&ri(Ce,Ve,Pt)&&(Ve=r),vn(Ce,wo(Ve,3))}function Ff(Ce,Ve){var Pt=Eo(Ce)?Hi:Ll;return Pt(Ce,wo(Ve,3))}var Uf=du(Mu),Hf=du(Iu);function Gf(Ce,Ve){return ti(Sa(Ce,Ve),1)}function Wf(Ce,Ve){return ti(Sa(Ce,Ve),_n)}function jf(Ce,Ve,Pt){return Pt=Pt===r?1:ko(Pt),ti(Sa(Ce,Ve),Pt)}function Vu(Ce,Ve){var Pt=Eo(Ce)?Si:Yi;return Pt(Ce,wo(Ve,3))}function zu(Ce,Ve){var Pt=Eo(Ce)?dd:Nl;return Pt(Ce,wo(Ve,3))}var Yf=ca(function(Ce,Ve,Pt){zo.call(Ce,Pt)?Ce[Pt].push(Ve):Li(Ce,Pt,[Ve])});function Xf(Ce,Ve,Pt,vn){Ce=ci(Ce)?Ce:br(Ce),Pt=Pt&&!vn?ko(Pt):0;var wn=Ce.length;return Pt<0&&(Pt=Ko(wn+Pt,0)),$a(Ce)?Pt<=wn&&Ce.indexOf(Ve,Pt)>-1:!!wn&&ur(Ce,Ve,Pt)>-1}var Zf=Io(function(Ce,Ve,Pt){var vn=-1,wn=typeof Ve=="function",Pn=ci(Ce)?eo(Ce.length):[];return Yi(Ce,function(Rn){Pn[++vn]=wn?hi(Ve,Rn,Pt):kr(Rn,Ve,Pt)}),Pn}),qf=ca(function(Ce,Ve,Pt){Li(Ce,Pt,Ve)});function Sa(Ce,Ve){var Pt=Eo(Ce)?Go:Ul;return Pt(Ce,wo(Ve,3))}function Kf(Ce,Ve,Pt,vn){return Ce==null?[]:(Eo(Ve)||(Ve=Ve==null?[]:[Ve]),Pt=vn?r:Pt,Eo(Pt)||(Pt=Pt==null?[]:[Pt]),jl(Ce,Ve,Pt))}var Jf=ca(function(Ce,Ve,Pt){Ce[Pt?0:1].push(Ve)},function(){return[[],[]]});function em(Ce,Ve,Pt){var vn=Eo(Ce)?Ba:yl,wn=arguments.length<3;return vn(Ce,wo(Ve,4),Pt,wn,Yi)}function tm(Ce,Ve,Pt){var vn=Eo(Ce)?pd:yl,wn=arguments.length<3;return vn(Ce,wo(Ve,4),Pt,wn,Nl)}function nm(Ce,Ve){var Pt=Eo(Ce)?Hi:Ll;return Pt(Ce,xa(wo(Ve,3)))}function om(Ce){var Ve=Eo(Ce)?Ml:Yp;return Ve(Ce)}function im(Ce,Ve,Pt){(Pt?ri(Ce,Ve,Pt):Ve===r)?Ve=1:Ve=ko(Ve);var vn=Eo(Ce)?$p:Xp;return vn(Ce,Ve)}function am(Ce){var Ve=Eo(Ce)?Tp:qp;return Ve(Ce)}function sm(Ce){if(Ce==null)return 0;if(ci(Ce))return $a(Ce)?dr(Ce):Ce.length;var Ve=oi(Ce);return Ve==Bn||Ve==no?Ce.size:os(Ce).length}function lm(Ce,Ve,Pt){var vn=Eo(Ce)?Va:Kp;return Pt&&ri(Ce,Ve,Pt)&&(Ve=r),vn(Ce,wo(Ve,3))}var um=Io(function(Ce,Ve){if(Ce==null)return[];var Pt=Ve.length;return Pt>1&&ri(Ce,Ve[0],Ve[1])?Ve=[]:Pt>2&&ri(Ve[0],Ve[1],Ve[2])&&(Ve=[Ve[0]]),jl(Ce,ti(Ve,1),[])}),ba=Qd||function(){return ei.Date.now()};function cm(Ce,Ve){if(typeof Ve!="function")throw new bi(oe);return Ce=ko(Ce),function(){if(--Ce<1)return Ve.apply(this,arguments)}}function Qu(Ce,Ve,Pt){return Ve=Pt?r:Ve,Ve=Ce&&Ve==null?Ce.length:Ve,Bi(Ce,qe,r,r,r,r,Ve)}function Fu(Ce,Ve){var Pt;if(typeof Ve!="function")throw new bi(oe);return Ce=ko(Ce),function(){return--Ce>0&&(Pt=Ve.apply(this,arguments)),Ce<=1&&(Ve=r),Pt}}var Cs=Io(function(Ce,Ve,Pt){var vn=xe;if(Pt.length){var wn=Wi(Pt,_r(Cs));vn|=Ue}return Bi(Ce,vn,Ve,Pt,wn)}),Uu=Io(function(Ce,Ve,Pt){var vn=xe|$e;if(Pt.length){var wn=Wi(Pt,_r(Uu));vn|=Ue}return Bi(Ve,vn,Ce,Pt,wn)});function Hu(Ce,Ve,Pt){Ve=Pt?r:Ve;var vn=Bi(Ce,Ne,r,r,r,r,r,Ve);return vn.placeholder=Hu.placeholder,vn}function Gu(Ce,Ve,Pt){Ve=Pt?r:Ve;var vn=Bi(Ce,ze,r,r,r,r,r,Ve);return vn.placeholder=Gu.placeholder,vn}function Wu(Ce,Ve,Pt){var vn,wn,Pn,Rn,Qn,Xn,uo=0,co=!1,fo=!1,go=!0;if(typeof Ce!="function")throw new bi(oe);Ve=Ti(Ve)||0,jo(Pt)&&(co=!!Pt.leading,fo="maxWait"in Pt,Pn=fo?Ko(Ti(Pt.maxWait)||0,Ve):Pn,go="trailing"in Pt?!!Pt.trailing:go);function bo(Zo){var Ai=vn,Ui=wn;return vn=wn=r,uo=Zo,Rn=Ce.apply(Ui,Ai),Rn}function $o(Zo){return uo=Zo,Qn=Nr(Ro,Ve),co?bo(Zo):Rn}function Mo(Zo){var Ai=Zo-Xn,Ui=Zo-uo,dc=Ve-Ai;return fo?ni(dc,Pn-Ui):dc}function To(Zo){var Ai=Zo-Xn,Ui=Zo-uo;return Xn===r||Ai>=Ve||Ai<0||fo&&Ui>=Pn}function Ro(){var Zo=ba();if(To(Zo))return No(Zo);Qn=Nr(Ro,Mo(Zo))}function No(Zo){return Qn=r,go&&vn?bo(Zo):(vn=wn=r,Rn)}function yi(){Qn!==r&&nu(Qn),uo=0,vn=Xn=wn=Qn=r}function ai(){return Qn===r?Rn:No(ba())}function gi(){var Zo=ba(),Ai=To(Zo);if(vn=arguments,wn=this,Xn=Zo,Ai){if(Qn===r)return $o(Xn);if(fo)return nu(Qn),Qn=Nr(Ro,Ve),bo(Xn)}return Qn===r&&(Qn=Nr(Ro,Ve)),Rn}return gi.cancel=yi,gi.flush=ai,gi}var dm=Io(function(Ce,Ve){return Dl(Ce,1,Ve)}),pm=Io(function(Ce,Ve,Pt){return Dl(Ce,Ti(Ve)||0,Pt)});function hm(Ce){return Bi(Ce,At)}function Oa(Ce,Ve){if(typeof Ce!="function"||Ve!=null&&typeof Ve!="function")throw new bi(oe);var Pt=function(){var vn=arguments,wn=Ve?Ve.apply(this,vn):vn[0],Pn=Pt.cache;if(Pn.has(wn))return Pn.get(wn);var Rn=Ce.apply(this,vn);return Pt.cache=Pn.set(wn,Rn)||Pn,Rn};return Pt.cache=new(Oa.Cache||Ni),Pt}Oa.Cache=Ni;function xa(Ce){if(typeof Ce!="function")throw new bi(oe);return function(){var Ve=arguments;switch(Ve.length){case 0:return!Ce.call(this);case 1:return!Ce.call(this,Ve[0]);case 2:return!Ce.call(this,Ve[0],Ve[1]);case 3:return!Ce.call(this,Ve[0],Ve[1],Ve[2])}return!Ce.apply(this,Ve)}}function fm(Ce){return Fu(2,Ce)}var mm=Jp(function(Ce,Ve){Ve=Ve.length==1&&Eo(Ve[0])?Go(Ve[0],fi(wo())):Go(ti(Ve,1),fi(wo()));var Pt=Ve.length;return Io(function(vn){for(var wn=-1,Pn=ni(vn.length,Pt);++wn<Pn;)vn[wn]=Ve[wn].call(this,vn[wn]);return hi(Ce,this,vn)})}),Ps=Io(function(Ce,Ve){var Pt=Wi(Ve,_r(Ps));return Bi(Ce,Ue,r,Ve,Pt)}),ju=Io(function(Ce,Ve){var Pt=Wi(Ve,_r(ju));return Bi(Ce,Fe,r,Ve,Pt)}),vm=Vi(function(Ce,Ve){return Bi(Ce,Et,r,r,r,Ve)});function ym(Ce,Ve){if(typeof Ce!="function")throw new bi(oe);return Ve=Ve===r?Ve:ko(Ve),Io(Ce,Ve)}function gm(Ce,Ve){if(typeof Ce!="function")throw new bi(oe);return Ve=Ve==null?0:Ko(ko(Ve),0),Io(function(Pt){var vn=Pt[Ve],wn=qi(Pt,0,Ve);return vn&&Gi(wn,vn),hi(Ce,this,wn)})}function _m(Ce,Ve,Pt){var vn=!0,wn=!0;if(typeof Ce!="function")throw new bi(oe);return jo(Pt)&&(vn="leading"in Pt?!!Pt.leading:vn,wn="trailing"in Pt?!!Pt.trailing:wn),Wu(Ce,Ve,{leading:vn,maxWait:Ve,trailing:wn})}function Sm(Ce){return Qu(Ce,1)}function bm(Ce,Ve){return Ps(ps(Ve),Ce)}function Om(){if(!arguments.length)return[];var Ce=arguments[0];return Eo(Ce)?Ce:[Ce]}function xm(Ce){return xi(Ce,he)}function wm(Ce,Ve){return Ve=typeof Ve=="function"?Ve:r,xi(Ce,he,Ve)}function $m(Ce){return xi(Ce,de|he)}function Tm(Ce,Ve){return Ve=typeof Ve=="function"?Ve:r,xi(Ce,de|he,Ve)}function Cm(Ce,Ve){return Ve==null||Rl(Ce,Ve,Jo(Ve))}function Ei(Ce,Ve){return Ce===Ve||Ce!==Ce&&Ve!==Ve}var Pm=fa(es),Em=fa(function(Ce,Ve){return Ce>=Ve}),sr=zl(function(){return arguments}())?zl:function(Ce){return Yo(Ce)&&zo.call(Ce,"callee")&&!Tl.call(Ce,"callee")},Eo=eo.isArray,Am=sl?fi(sl):Np;function ci(Ce){return Ce!=null&&wa(Ce.length)&&!Qi(Ce)}function Xo(Ce){return Yo(Ce)&&ci(Ce)}function km(Ce){return Ce===!0||Ce===!1||Yo(Ce)&&ii(Ce)==Nn}var Ki=Ud||Vs,Mm=ll?fi(ll):Lp;function Im(Ce){return Yo(Ce)&&Ce.nodeType===1&&!Lr(Ce)}function Rm(Ce){if(Ce==null)return!0;if(ci(Ce)&&(Eo(Ce)||typeof Ce=="string"||typeof Ce.splice=="function"||Ki(Ce)||Sr(Ce)||sr(Ce)))return!Ce.length;var Ve=oi(Ce);if(Ve==Bn||Ve==no)return!Ce.size;if(Dr(Ce))return!os(Ce).length;for(var Pt in Ce)if(zo.call(Ce,Pt))return!1;return!0}function Dm(Ce,Ve){return Mr(Ce,Ve)}function Nm(Ce,Ve,Pt){Pt=typeof Pt=="function"?Pt:r;var vn=Pt?Pt(Ce,Ve):r;return vn===r?Mr(Ce,Ve,r,Pt):!!vn}function Es(Ce){if(!Yo(Ce))return!1;var Ve=ii(Ce);return Ve==Gn||Ve==Un||typeof Ce.message=="string"&&typeof Ce.name=="string"&&!Lr(Ce)}function Lm(Ce){return typeof Ce=="number"&&Pl(Ce)}function Qi(Ce){if(!jo(Ce))return!1;var Ve=ii(Ce);return Ve==$n||Ve==kn||Ve==In||Ve==oo}function Yu(Ce){return typeof Ce=="number"&&Ce==ko(Ce)}function wa(Ce){return typeof Ce=="number"&&Ce>-1&&Ce%1==0&&Ce<=xn}function jo(Ce){var Ve=typeof Ce;return Ce!=null&&(Ve=="object"||Ve=="function")}function Yo(Ce){return Ce!=null&&typeof Ce=="object"}var Xu=ul?fi(ul):Vp;function Bm(Ce,Ve){return Ce===Ve||ns(Ce,Ve,_s(Ve))}function Vm(Ce,Ve,Pt){return Pt=typeof Pt=="function"?Pt:r,ns(Ce,Ve,_s(Ve),Pt)}function zm(Ce){return Zu(Ce)&&Ce!=+Ce}function Qm(Ce){if(Oh(Ce))throw new Po(V);return Ql(Ce)}function Fm(Ce){return Ce===null}function Um(Ce){return Ce==null}function Zu(Ce){return typeof Ce=="number"||Yo(Ce)&&ii(Ce)==Yn}function Lr(Ce){if(!Yo(Ce)||ii(Ce)!=Kn)return!1;var Ve=Zr(Ce);if(Ve===null)return!0;var Pt=zo.call(Ve,"constructor")&&Ve.constructor;return typeof Pt=="function"&&Pt instanceof Pt&&Wr.call(Pt)==Ld}var As=cl?fi(cl):zp;function Hm(Ce){return Yu(Ce)&&Ce>=-xn&&Ce<=xn}var qu=dl?fi(dl):Qp;function $a(Ce){return typeof Ce=="string"||!Eo(Ce)&&Yo(Ce)&&ii(Ce)==vo}function vi(Ce){return typeof Ce=="symbol"||Yo(Ce)&&ii(Ce)==Zn}var Sr=pl?fi(pl):Fp;function Gm(Ce){return Ce===r}function Wm(Ce){return Yo(Ce)&&oi(Ce)==yo}function jm(Ce){return Yo(Ce)&&ii(Ce)==Oo}var Ym=fa(is),Xm=fa(function(Ce,Ve){return Ce<=Ve});function Ku(Ce){if(!Ce)return[];if(ci(Ce))return $a(Ce)?Ci(Ce):ui(Ce);if(wr&&Ce[wr])return $d(Ce[wr]());var Ve=oi(Ce),Pt=Ve==Bn?Ga:Ve==no?Ur:br;return Pt(Ce)}function Fi(Ce){if(!Ce)return Ce===0?Ce:0;if(Ce=Ti(Ce),Ce===_n||Ce===-_n){var Ve=Ce<0?-1:1;return Ve*bn}return Ce===Ce?Ce:0}function ko(Ce){var Ve=Fi(Ce),Pt=Ve%1;return Ve===Ve?Pt?Ve-Pt:Ve:0}function Ju(Ce){return Ce?or(ko(Ce),0,An):0}function Ti(Ce){if(typeof Ce=="number")return Ce;if(vi(Ce))return Tn;if(jo(Ce)){var Ve=typeof Ce.valueOf=="function"?Ce.valueOf():Ce;Ce=jo(Ve)?Ve+"":Ve}if(typeof Ce!="string")return Ce===0?Ce:+Ce;Ce=gl(Ce);var Pt=Cc.test(Ce);return Pt||Ec.test(Ce)?ld(Ce.slice(2),Pt?2:8):Tc.test(Ce)?Tn:+Ce}function ec(Ce){return Ii(Ce,di(Ce))}function Zm(Ce){return Ce?or(ko(Ce),-xn,xn):Ce===0?Ce:0}function Bo(Ce){return Ce==null?"":mi(Ce)}var qm=yr(function(Ce,Ve){if(Dr(Ve)||ci(Ve)){Ii(Ve,Jo(Ve),Ce);return}for(var Pt in Ve)zo.call(Ve,Pt)&&Er(Ce,Pt,Ve[Pt])}),tc=yr(function(Ce,Ve){Ii(Ve,di(Ve),Ce)}),Ta=yr(function(Ce,Ve,Pt,vn){Ii(Ve,di(Ve),Ce,vn)}),Km=yr(function(Ce,Ve,Pt,vn){Ii(Ve,Jo(Ve),Ce,vn)}),Jm=Vi(qa);function ev(Ce,Ve){var Pt=vr(Ce);return Ve==null?Pt:Il(Pt,Ve)}var tv=Io(function(Ce,Ve){Ce=Qo(Ce);var Pt=-1,vn=Ve.length,wn=vn>2?Ve[2]:r;for(wn&&ri(Ve[0],Ve[1],wn)&&(vn=1);++Pt<vn;)for(var Pn=Ve[Pt],Rn=di(Pn),Qn=-1,Xn=Rn.length;++Qn<Xn;){var uo=Rn[Qn],co=Ce[uo];(co===r||Ei(co,hr[uo])&&!zo.call(Ce,uo))&&(Ce[uo]=Pn[uo])}return Ce}),nv=Io(function(Ce){return Ce.push(r,gu),hi(nc,r,Ce)});function ov(Ce,Ve){return fl(Ce,wo(Ve,3),Mi)}function iv(Ce,Ve){return fl(Ce,wo(Ve,3),Ja)}function rv(Ce,Ve){return Ce==null?Ce:Ka(Ce,wo(Ve,3),di)}function av(Ce,Ve){return Ce==null?Ce:Bl(Ce,wo(Ve,3),di)}function sv(Ce,Ve){return Ce&&Mi(Ce,wo(Ve,3))}function lv(Ce,Ve){return Ce&&Ja(Ce,wo(Ve,3))}function uv(Ce){return Ce==null?[]:aa(Ce,Jo(Ce))}function cv(Ce){return Ce==null?[]:aa(Ce,di(Ce))}function ks(Ce,Ve,Pt){var vn=Ce==null?r:ir(Ce,Ve);return vn===r?Pt:vn}function dv(Ce,Ve){return Ce!=null&&bu(Ce,Ve,Mp)}function Ms(Ce,Ve){return Ce!=null&&bu(Ce,Ve,Ip)}var pv=hu(function(Ce,Ve,Pt){Ve!=null&&typeof Ve.toString!="function"&&(Ve=jr.call(Ve)),Ce[Ve]=Pt},Rs(pi)),hv=hu(function(Ce,Ve,Pt){Ve!=null&&typeof Ve.toString!="function"&&(Ve=jr.call(Ve)),zo.call(Ce,Ve)?Ce[Ve].push(Pt):Ce[Ve]=[Pt]},wo),fv=Io(kr);function Jo(Ce){return ci(Ce)?kl(Ce):os(Ce)}function di(Ce){return ci(Ce)?kl(Ce,!0):Up(Ce)}function mv(Ce,Ve){var Pt={};return Ve=wo(Ve,3),Mi(Ce,function(vn,wn,Pn){Li(Pt,Ve(vn,wn,Pn),vn)}),Pt}function vv(Ce,Ve){var Pt={};return Ve=wo(Ve,3),Mi(Ce,function(vn,wn,Pn){Li(Pt,wn,Ve(vn,wn,Pn))}),Pt}var yv=yr(function(Ce,Ve,Pt){sa(Ce,Ve,Pt)}),nc=yr(function(Ce,Ve,Pt,vn){sa(Ce,Ve,Pt,vn)}),gv=Vi(function(Ce,Ve){var Pt={};if(Ce==null)return Pt;var vn=!1;Ve=Go(Ve,function(Pn){return Pn=Zi(Pn,Ce),vn||(vn=Pn.length>1),Pn}),Ii(Ce,ys(Ce),Pt),vn&&(Pt=xi(Pt,de|pe|he,ch));for(var wn=Ve.length;wn--;)us(Pt,Ve[wn]);return Pt});function _v(Ce,Ve){return oc(Ce,xa(wo(Ve)))}var Sv=Vi(function(Ce,Ve){return Ce==null?{}:Gp(Ce,Ve)});function oc(Ce,Ve){if(Ce==null)return{};var Pt=Go(ys(Ce),function(vn){return[vn]});return Ve=wo(Ve),Yl(Ce,Pt,function(vn,wn){return Ve(vn,wn[0])})}function bv(Ce,Ve,Pt){Ve=Zi(Ve,Ce);var vn=-1,wn=Ve.length;for(wn||(wn=1,Ce=r);++vn<wn;){var Pn=Ce==null?r:Ce[Ri(Ve[vn])];Pn===r&&(vn=wn,Pn=Pt),Ce=Qi(Pn)?Pn.call(Ce):Pn}return Ce}function Ov(Ce,Ve,Pt){return Ce==null?Ce:Ir(Ce,Ve,Pt)}function xv(Ce,Ve,Pt,vn){return vn=typeof vn=="function"?vn:r,Ce==null?Ce:Ir(Ce,Ve,Pt,vn)}var ic=vu(Jo),rc=vu(di);function wv(Ce,Ve,Pt){var vn=Eo(Ce),wn=vn||Ki(Ce)||Sr(Ce);if(Ve=wo(Ve,4),Pt==null){var Pn=Ce&&Ce.constructor;wn?Pt=vn?new Pn:[]:jo(Ce)?Pt=Qi(Pn)?vr(Zr(Ce)):{}:Pt={}}return(wn?Si:Mi)(Ce,function(Rn,Qn,Xn){return Ve(Pt,Rn,Qn,Xn)}),Pt}function $v(Ce,Ve){return Ce==null?!0:us(Ce,Ve)}function Tv(Ce,Ve,Pt){return Ce==null?Ce:Jl(Ce,Ve,ps(Pt))}function Cv(Ce,Ve,Pt,vn){return vn=typeof vn=="function"?vn:r,Ce==null?Ce:Jl(Ce,Ve,ps(Pt),vn)}function br(Ce){return Ce==null?[]:Ha(Ce,Jo(Ce))}function Pv(Ce){return Ce==null?[]:Ha(Ce,di(Ce))}function Ev(Ce,Ve,Pt){return Pt===r&&(Pt=Ve,Ve=r),Pt!==r&&(Pt=Ti(Pt),Pt=Pt===Pt?Pt:0),Ve!==r&&(Ve=Ti(Ve),Ve=Ve===Ve?Ve:0),or(Ti(Ce),Ve,Pt)}function Av(Ce,Ve,Pt){return Ve=Fi(Ve),Pt===r?(Pt=Ve,Ve=0):Pt=Fi(Pt),Ce=Ti(Ce),Rp(Ce,Ve,Pt)}function kv(Ce,Ve,Pt){if(Pt&&typeof Pt!="boolean"&&ri(Ce,Ve,Pt)&&(Ve=Pt=r),Pt===r&&(typeof Ve=="boolean"?(Pt=Ve,Ve=r):typeof Ce=="boolean"&&(Pt=Ce,Ce=r)),Ce===r&&Ve===r?(Ce=0,Ve=1):(Ce=Fi(Ce),Ve===r?(Ve=Ce,Ce=0):Ve=Fi(Ve)),Ce>Ve){var vn=Ce;Ce=Ve,Ve=vn}if(Pt||Ce%1||Ve%1){var wn=El();return ni(Ce+wn*(Ve-Ce+sd("1e-"+((wn+"").length-1))),Ve)}return as(Ce,Ve)}var Mv=gr(function(Ce,Ve,Pt){return Ve=Ve.toLowerCase(),Ce+(Pt?ac(Ve):Ve)});function ac(Ce){return Is(Bo(Ce).toLowerCase())}function sc(Ce){return Ce=Bo(Ce),Ce&&Ce.replace(kc,Sd).replace(Zc,"")}function Iv(Ce,Ve,Pt){Ce=Bo(Ce),Ve=mi(Ve);var vn=Ce.length;Pt=Pt===r?vn:or(ko(Pt),0,vn);var wn=Pt;return Pt-=Ve.length,Pt>=0&&Ce.slice(Pt,wn)==Ve}function Rv(Ce){return Ce=Bo(Ce),Ce&&Or.test(Ce)?Ce.replace(Wo,bd):Ce}function Dv(Ce){return Ce=Bo(Ce),Ce&&vc.test(Ce)?Ce.replace(Pa,"\\$&"):Ce}var Nv=gr(function(Ce,Ve,Pt){return Ce+(Pt?"-":"")+Ve.toLowerCase()}),Lv=gr(function(Ce,Ve,Pt){return Ce+(Pt?" ":"")+Ve.toLowerCase()}),Bv=cu("toLowerCase");function Vv(Ce,Ve,Pt){Ce=Bo(Ce),Ve=ko(Ve);var vn=Ve?dr(Ce):0;if(!Ve||vn>=Ve)return Ce;var wn=(Ve-vn)/2;return ha(ea(wn),Pt)+Ce+ha(Jr(wn),Pt)}function zv(Ce,Ve,Pt){Ce=Bo(Ce),Ve=ko(Ve);var vn=Ve?dr(Ce):0;return Ve&&vn<Ve?Ce+ha(Ve-vn,Pt):Ce}function Qv(Ce,Ve,Pt){Ce=Bo(Ce),Ve=ko(Ve);var vn=Ve?dr(Ce):0;return Ve&&vn<Ve?ha(Ve-vn,Pt)+Ce:Ce}function Fv(Ce,Ve,Pt){return Pt||Ve==null?Ve=0:Ve&&(Ve=+Ve),jd(Bo(Ce).replace(Ea,""),Ve||0)}function Uv(Ce,Ve,Pt){return(Pt?ri(Ce,Ve,Pt):Ve===r)?Ve=1:Ve=ko(Ve),ss(Bo(Ce),Ve)}function Hv(){var Ce=arguments,Ve=Bo(Ce[0]);return Ce.length<3?Ve:Ve.replace(Ce[1],Ce[2])}var Gv=gr(function(Ce,Ve,Pt){return Ce+(Pt?"_":"")+Ve.toLowerCase()});function Wv(Ce,Ve,Pt){return Pt&&typeof Pt!="number"&&ri(Ce,Ve,Pt)&&(Ve=Pt=r),Pt=Pt===r?An:Pt>>>0,Pt?(Ce=Bo(Ce),Ce&&(typeof Ve=="string"||Ve!=null&&!As(Ve))&&(Ve=mi(Ve),!Ve&&cr(Ce))?qi(Ci(Ce),0,Pt):Ce.split(Ve,Pt)):[]}var jv=gr(function(Ce,Ve,Pt){return Ce+(Pt?" ":"")+Is(Ve)});function Yv(Ce,Ve,Pt){return Ce=Bo(Ce),Pt=Pt==null?0:or(ko(Pt),0,Ce.length),Ve=mi(Ve),Ce.slice(Pt,Pt+Ve.length)==Ve}function Xv(Ce,Ve,Pt){var vn=Cn.templateSettings;Pt&&ri(Ce,Ve,Pt)&&(Ve=r),Ce=Bo(Ce),Ve=Ta({},Ve,vn,yu);var wn=Ta({},Ve.imports,vn.imports,yu),Pn=Jo(wn),Rn=Ha(wn,Pn),Qn,Xn,uo=0,co=Ve.interpolate||Br,fo="__p += '",go=Wa((Ve.escape||Br).source+"|"+co.source+"|"+(co===ki?$c:Br).source+"|"+(Ve.evaluate||Br).source+"|$","g"),bo="//# sourceURL="+(zo.call(Ve,"sourceURL")?(Ve.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++td+"]")+`
`;Ce.replace(go,function(To,Ro,No,yi,ai,gi){return No||(No=yi),fo+=Ce.slice(uo,gi).replace(Mc,Od),Ro&&(Qn=!0,fo+=`' +
__e(`+Ro+`) +
'`),ai&&(Xn=!0,fo+=`';
`+ai+`;
__p += '`),No&&(fo+=`' +
((__t = (`+No+`)) == null ? '' : __t) +
'`),uo=gi+To.length,To}),fo+=`';
`;var $o=zo.call(Ve,"variable")&&Ve.variable;if(!$o)fo=`with (obj) {
`+fo+`
}
`;else if(xc.test($o))throw new Po(re);fo=(Xn?fo.replace(xo,""):fo).replace(Uo,"$1").replace(Vo,"$1;"),fo="function("+($o||"obj")+`) {
`+($o?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Qn?", __e = _.escape":"")+(Xn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+fo+`return __p
}`;var Mo=uc(function(){return Lo(Pn,bo+"return "+fo).apply(r,Rn)});if(Mo.source=fo,Es(Mo))throw Mo;return Mo}function Zv(Ce){return Bo(Ce).toLowerCase()}function qv(Ce){return Bo(Ce).toUpperCase()}function Kv(Ce,Ve,Pt){if(Ce=Bo(Ce),Ce&&(Pt||Ve===r))return gl(Ce);if(!Ce||!(Ve=mi(Ve)))return Ce;var vn=Ci(Ce),wn=Ci(Ve),Pn=_l(vn,wn),Rn=Sl(vn,wn)+1;return qi(vn,Pn,Rn).join("")}function Jv(Ce,Ve,Pt){if(Ce=Bo(Ce),Ce&&(Pt||Ve===r))return Ce.slice(0,Ol(Ce)+1);if(!Ce||!(Ve=mi(Ve)))return Ce;var vn=Ci(Ce),wn=Sl(vn,Ci(Ve))+1;return qi(vn,0,wn).join("")}function ey(Ce,Ve,Pt){if(Ce=Bo(Ce),Ce&&(Pt||Ve===r))return Ce.replace(Ea,"");if(!Ce||!(Ve=mi(Ve)))return Ce;var vn=Ci(Ce),wn=_l(vn,Ci(Ve));return qi(vn,wn).join("")}function ty(Ce,Ve){var Pt=kt,vn=Dt;if(jo(Ve)){var wn="separator"in Ve?Ve.separator:wn;Pt="length"in Ve?ko(Ve.length):Pt,vn="omission"in Ve?mi(Ve.omission):vn}Ce=Bo(Ce);var Pn=Ce.length;if(cr(Ce)){var Rn=Ci(Ce);Pn=Rn.length}if(Pt>=Pn)return Ce;var Qn=Pt-dr(vn);if(Qn<1)return vn;var Xn=Rn?qi(Rn,0,Qn).join(""):Ce.slice(0,Qn);if(wn===r)return Xn+vn;if(Rn&&(Qn+=Xn.length-Qn),As(wn)){if(Ce.slice(Qn).search(wn)){var uo,co=Xn;for(wn.global||(wn=Wa(wn.source,Bo(zs.exec(wn))+"g")),wn.lastIndex=0;uo=wn.exec(co);)var fo=uo.index;Xn=Xn.slice(0,fo===r?Qn:fo)}}else if(Ce.indexOf(mi(wn),Qn)!=Qn){var go=Xn.lastIndexOf(wn);go>-1&&(Xn=Xn.slice(0,go))}return Xn+vn}function ny(Ce){return Ce=Bo(Ce),Ce&&si.test(Ce)?Ce.replace(Ao,Ed):Ce}var oy=gr(function(Ce,Ve,Pt){return Ce+(Pt?" ":"")+Ve.toUpperCase()}),Is=cu("toUpperCase");function lc(Ce,Ve,Pt){return Ce=Bo(Ce),Ve=Pt?r:Ve,Ve===r?wd(Ce)?Md(Ce):md(Ce):Ce.match(Ve)||[]}var uc=Io(function(Ce,Ve){try{return hi(Ce,r,Ve)}catch(Pt){return Es(Pt)?Pt:new Po(Pt)}}),iy=Vi(function(Ce,Ve){return Si(Ve,function(Pt){Pt=Ri(Pt),Li(Ce,Pt,Cs(Ce[Pt],Ce))}),Ce});function ry(Ce){var Ve=Ce==null?0:Ce.length,Pt=wo();return Ce=Ve?Go(Ce,function(vn){if(typeof vn[1]!="function")throw new bi(oe);return[Pt(vn[0]),vn[1]]}):[],Io(function(vn){for(var wn=-1;++wn<Ve;){var Pn=Ce[wn];if(hi(Pn[0],this,vn))return hi(Pn[1],this,vn)}})}function ay(Ce){return Ep(xi(Ce,de))}function Rs(Ce){return function(){return Ce}}function sy(Ce,Ve){return Ce==null||Ce!==Ce?Ve:Ce}var ly=pu(),uy=pu(!0);function pi(Ce){return Ce}function Ds(Ce){return Fl(typeof Ce=="function"?Ce:xi(Ce,de))}function cy(Ce){return Hl(xi(Ce,de))}function dy(Ce,Ve){return Gl(Ce,xi(Ve,de))}var py=Io(function(Ce,Ve){return function(Pt){return kr(Pt,Ce,Ve)}}),hy=Io(function(Ce,Ve){return function(Pt){return kr(Ce,Pt,Ve)}});function Ns(Ce,Ve,Pt){var vn=Jo(Ve),wn=aa(Ve,vn);Pt==null&&!(jo(Ve)&&(wn.length||!vn.length))&&(Pt=Ve,Ve=Ce,Ce=this,wn=aa(Ve,Jo(Ve)));var Pn=!(jo(Pt)&&"chain"in Pt)||!!Pt.chain,Rn=Qi(Ce);return Si(wn,function(Qn){var Xn=Ve[Qn];Ce[Qn]=Xn,Rn&&(Ce.prototype[Qn]=function(){var uo=this.__chain__;if(Pn||uo){var co=Ce(this.__wrapped__),fo=co.__actions__=ui(this.__actions__);return fo.push({func:Xn,args:arguments,thisArg:Ce}),co.__chain__=uo,co}return Xn.apply(Ce,Gi([this.value()],arguments))})}),Ce}function fy(){return ei._===this&&(ei._=Bd),this}function Ls(){}function my(Ce){return Ce=ko(Ce),Io(function(Ve){return Wl(Ve,Ce)})}var vy=fs(Go),yy=fs(hl),gy=fs(Va);function cc(Ce){return bs(Ce)?za(Ri(Ce)):Wp(Ce)}function _y(Ce){return function(Ve){return Ce==null?r:ir(Ce,Ve)}}var Sy=fu(),by=fu(!0);function Bs(){return[]}function Vs(){return!1}function Oy(){return{}}function xy(){return""}function wy(){return!0}function $y(Ce,Ve){if(Ce=ko(Ce),Ce<1||Ce>xn)return[];var Pt=An,vn=ni(Ce,An);Ve=wo(Ve),Ce-=An;for(var wn=Ua(vn,Ve);++Pt<Ce;)Ve(Pt);return wn}function Ty(Ce){return Eo(Ce)?Go(Ce,Ri):vi(Ce)?[Ce]:ui(Au(Bo(Ce)))}function Cy(Ce){var Ve=++Nd;return Bo(Ce)+Ve}var Py=pa(function(Ce,Ve){return Ce+Ve},0),Ey=ms("ceil"),Ay=pa(function(Ce,Ve){return Ce/Ve},1),ky=ms("floor");function My(Ce){return Ce&&Ce.length?ra(Ce,pi,es):r}function Iy(Ce,Ve){return Ce&&Ce.length?ra(Ce,wo(Ve,2),es):r}function Ry(Ce){return vl(Ce,pi)}function Dy(Ce,Ve){return vl(Ce,wo(Ve,2))}function Ny(Ce){return Ce&&Ce.length?ra(Ce,pi,is):r}function Ly(Ce,Ve){return Ce&&Ce.length?ra(Ce,wo(Ve,2),is):r}var By=pa(function(Ce,Ve){return Ce*Ve},1),Vy=ms("round"),zy=pa(function(Ce,Ve){return Ce-Ve},0);function Qy(Ce){return Ce&&Ce.length?Fa(Ce,pi):0}function Fy(Ce,Ve){return Ce&&Ce.length?Fa(Ce,wo(Ve,2)):0}return Cn.after=cm,Cn.ary=Qu,Cn.assign=qm,Cn.assignIn=tc,Cn.assignInWith=Ta,Cn.assignWith=Km,Cn.at=Jm,Cn.before=Fu,Cn.bind=Cs,Cn.bindAll=iy,Cn.bindKey=Uu,Cn.castArray=Om,Cn.chain=Bu,Cn.chunk=Eh,Cn.compact=Ah,Cn.concat=kh,Cn.cond=ry,Cn.conforms=ay,Cn.constant=Rs,Cn.countBy=zf,Cn.create=ev,Cn.curry=Hu,Cn.curryRight=Gu,Cn.debounce=Wu,Cn.defaults=tv,Cn.defaultsDeep=nv,Cn.defer=dm,Cn.delay=pm,Cn.difference=Mh,Cn.differenceBy=Ih,Cn.differenceWith=Rh,Cn.drop=Dh,Cn.dropRight=Nh,Cn.dropRightWhile=Lh,Cn.dropWhile=Bh,Cn.fill=Vh,Cn.filter=Ff,Cn.flatMap=Gf,Cn.flatMapDeep=Wf,Cn.flatMapDepth=jf,Cn.flatten=Ru,Cn.flattenDeep=zh,Cn.flattenDepth=Qh,Cn.flip=hm,Cn.flow=ly,Cn.flowRight=uy,Cn.fromPairs=Fh,Cn.functions=uv,Cn.functionsIn=cv,Cn.groupBy=Yf,Cn.initial=Hh,Cn.intersection=Gh,Cn.intersectionBy=Wh,Cn.intersectionWith=jh,Cn.invert=pv,Cn.invertBy=hv,Cn.invokeMap=Zf,Cn.iteratee=Ds,Cn.keyBy=qf,Cn.keys=Jo,Cn.keysIn=di,Cn.map=Sa,Cn.mapKeys=mv,Cn.mapValues=vv,Cn.matches=cy,Cn.matchesProperty=dy,Cn.memoize=Oa,Cn.merge=yv,Cn.mergeWith=nc,Cn.method=py,Cn.methodOf=hy,Cn.mixin=Ns,Cn.negate=xa,Cn.nthArg=my,Cn.omit=gv,Cn.omitBy=_v,Cn.once=fm,Cn.orderBy=Kf,Cn.over=vy,Cn.overArgs=mm,Cn.overEvery=yy,Cn.overSome=gy,Cn.partial=Ps,Cn.partialRight=ju,Cn.partition=Jf,Cn.pick=Sv,Cn.pickBy=oc,Cn.property=cc,Cn.propertyOf=_y,Cn.pull=qh,Cn.pullAll=Nu,Cn.pullAllBy=Kh,Cn.pullAllWith=Jh,Cn.pullAt=ef,Cn.range=Sy,Cn.rangeRight=by,Cn.rearg=vm,Cn.reject=nm,Cn.remove=tf,Cn.rest=ym,Cn.reverse=$s,Cn.sampleSize=im,Cn.set=Ov,Cn.setWith=xv,Cn.shuffle=am,Cn.slice=nf,Cn.sortBy=um,Cn.sortedUniq=cf,Cn.sortedUniqBy=df,Cn.split=Wv,Cn.spread=gm,Cn.tail=pf,Cn.take=hf,Cn.takeRight=ff,Cn.takeRightWhile=mf,Cn.takeWhile=vf,Cn.tap=kf,Cn.throttle=_m,Cn.thru=ga,Cn.toArray=Ku,Cn.toPairs=ic,Cn.toPairsIn=rc,Cn.toPath=Ty,Cn.toPlainObject=ec,Cn.transform=wv,Cn.unary=Sm,Cn.union=yf,Cn.unionBy=gf,Cn.unionWith=_f,Cn.uniq=Sf,Cn.uniqBy=bf,Cn.uniqWith=Of,Cn.unset=$v,Cn.unzip=Ts,Cn.unzipWith=Lu,Cn.update=Tv,Cn.updateWith=Cv,Cn.values=br,Cn.valuesIn=Pv,Cn.without=xf,Cn.words=lc,Cn.wrap=bm,Cn.xor=wf,Cn.xorBy=$f,Cn.xorWith=Tf,Cn.zip=Cf,Cn.zipObject=Pf,Cn.zipObjectDeep=Ef,Cn.zipWith=Af,Cn.entries=ic,Cn.entriesIn=rc,Cn.extend=tc,Cn.extendWith=Ta,Ns(Cn,Cn),Cn.add=Py,Cn.attempt=uc,Cn.camelCase=Mv,Cn.capitalize=ac,Cn.ceil=Ey,Cn.clamp=Ev,Cn.clone=xm,Cn.cloneDeep=$m,Cn.cloneDeepWith=Tm,Cn.cloneWith=wm,Cn.conformsTo=Cm,Cn.deburr=sc,Cn.defaultTo=sy,Cn.divide=Ay,Cn.endsWith=Iv,Cn.eq=Ei,Cn.escape=Rv,Cn.escapeRegExp=Dv,Cn.every=Qf,Cn.find=Uf,Cn.findIndex=Mu,Cn.findKey=ov,Cn.findLast=Hf,Cn.findLastIndex=Iu,Cn.findLastKey=iv,Cn.floor=ky,Cn.forEach=Vu,Cn.forEachRight=zu,Cn.forIn=rv,Cn.forInRight=av,Cn.forOwn=sv,Cn.forOwnRight=lv,Cn.get=ks,Cn.gt=Pm,Cn.gte=Em,Cn.has=dv,Cn.hasIn=Ms,Cn.head=Du,Cn.identity=pi,Cn.includes=Xf,Cn.indexOf=Uh,Cn.inRange=Av,Cn.invoke=fv,Cn.isArguments=sr,Cn.isArray=Eo,Cn.isArrayBuffer=Am,Cn.isArrayLike=ci,Cn.isArrayLikeObject=Xo,Cn.isBoolean=km,Cn.isBuffer=Ki,Cn.isDate=Mm,Cn.isElement=Im,Cn.isEmpty=Rm,Cn.isEqual=Dm,Cn.isEqualWith=Nm,Cn.isError=Es,Cn.isFinite=Lm,Cn.isFunction=Qi,Cn.isInteger=Yu,Cn.isLength=wa,Cn.isMap=Xu,Cn.isMatch=Bm,Cn.isMatchWith=Vm,Cn.isNaN=zm,Cn.isNative=Qm,Cn.isNil=Um,Cn.isNull=Fm,Cn.isNumber=Zu,Cn.isObject=jo,Cn.isObjectLike=Yo,Cn.isPlainObject=Lr,Cn.isRegExp=As,Cn.isSafeInteger=Hm,Cn.isSet=qu,Cn.isString=$a,Cn.isSymbol=vi,Cn.isTypedArray=Sr,Cn.isUndefined=Gm,Cn.isWeakMap=Wm,Cn.isWeakSet=jm,Cn.join=Yh,Cn.kebabCase=Nv,Cn.last=$i,Cn.lastIndexOf=Xh,Cn.lowerCase=Lv,Cn.lowerFirst=Bv,Cn.lt=Ym,Cn.lte=Xm,Cn.max=My,Cn.maxBy=Iy,Cn.mean=Ry,Cn.meanBy=Dy,Cn.min=Ny,Cn.minBy=Ly,Cn.stubArray=Bs,Cn.stubFalse=Vs,Cn.stubObject=Oy,Cn.stubString=xy,Cn.stubTrue=wy,Cn.multiply=By,Cn.nth=Zh,Cn.noConflict=fy,Cn.noop=Ls,Cn.now=ba,Cn.pad=Vv,Cn.padEnd=zv,Cn.padStart=Qv,Cn.parseInt=Fv,Cn.random=kv,Cn.reduce=em,Cn.reduceRight=tm,Cn.repeat=Uv,Cn.replace=Hv,Cn.result=bv,Cn.round=Vy,Cn.runInContext=jn,Cn.sample=om,Cn.size=sm,Cn.snakeCase=Gv,Cn.some=lm,Cn.sortedIndex=of,Cn.sortedIndexBy=rf,Cn.sortedIndexOf=af,Cn.sortedLastIndex=sf,Cn.sortedLastIndexBy=lf,Cn.sortedLastIndexOf=uf,Cn.startCase=jv,Cn.startsWith=Yv,Cn.subtract=zy,Cn.sum=Qy,Cn.sumBy=Fy,Cn.template=Xv,Cn.times=$y,Cn.toFinite=Fi,Cn.toInteger=ko,Cn.toLength=Ju,Cn.toLower=Zv,Cn.toNumber=Ti,Cn.toSafeInteger=Zm,Cn.toString=Bo,Cn.toUpper=qv,Cn.trim=Kv,Cn.trimEnd=Jv,Cn.trimStart=ey,Cn.truncate=ty,Cn.unescape=ny,Cn.uniqueId=Cy,Cn.upperCase=oy,Cn.upperFirst=Is,Cn.each=Vu,Cn.eachRight=zu,Cn.first=Du,Ns(Cn,function(){var Ce={};return Mi(Cn,function(Ve,Pt){zo.call(Cn.prototype,Pt)||(Ce[Pt]=Ve)}),Ce}(),{chain:!1}),Cn.VERSION=$,Si(["bind","bindKey","curry","curryRight","partial","partialRight"],function(Ce){Cn[Ce].placeholder=Cn}),Si(["drop","take"],function(Ce,Ve){Do.prototype[Ce]=function(Pt){Pt=Pt===r?1:Ko(ko(Pt),0);var vn=this.__filtered__&&!Ve?new Do(this):this.clone();return vn.__filtered__?vn.__takeCount__=ni(Pt,vn.__takeCount__):vn.__views__.push({size:ni(Pt,An),type:Ce+(vn.__dir__<0?"Right":"")}),vn},Do.prototype[Ce+"Right"]=function(Pt){return this.reverse()[Ce](Pt).reverse()}}),Si(["filter","map","takeWhile"],function(Ce,Ve){var Pt=Ve+1,vn=Pt==hn||Pt==On;Do.prototype[Ce]=function(wn){var Pn=this.clone();return Pn.__iteratees__.push({iteratee:wo(wn,3),type:Pt}),Pn.__filtered__=Pn.__filtered__||vn,Pn}}),Si(["head","last"],function(Ce,Ve){var Pt="take"+(Ve?"Right":"");Do.prototype[Ce]=function(){return this[Pt](1).value()[0]}}),Si(["initial","tail"],function(Ce,Ve){var Pt="drop"+(Ve?"":"Right");Do.prototype[Ce]=function(){return this.__filtered__?new Do(this):this[Pt](1)}}),Do.prototype.compact=function(){return this.filter(pi)},Do.prototype.find=function(Ce){return this.filter(Ce).head()},Do.prototype.findLast=function(Ce){return this.reverse().find(Ce)},Do.prototype.invokeMap=Io(function(Ce,Ve){return typeof Ce=="function"?new Do(this):this.map(function(Pt){return kr(Pt,Ce,Ve)})}),Do.prototype.reject=function(Ce){return this.filter(xa(wo(Ce)))},Do.prototype.slice=function(Ce,Ve){Ce=ko(Ce);var Pt=this;return Pt.__filtered__&&(Ce>0||Ve<0)?new Do(Pt):(Ce<0?Pt=Pt.takeRight(-Ce):Ce&&(Pt=Pt.drop(Ce)),Ve!==r&&(Ve=ko(Ve),Pt=Ve<0?Pt.dropRight(-Ve):Pt.take(Ve-Ce)),Pt)},Do.prototype.takeRightWhile=function(Ce){return this.reverse().takeWhile(Ce).reverse()},Do.prototype.toArray=function(){return this.take(An)},Mi(Do.prototype,function(Ce,Ve){var Pt=/^(?:filter|find|map|reject)|While$/.test(Ve),vn=/^(?:head|last)$/.test(Ve),wn=Cn[vn?"take"+(Ve=="last"?"Right":""):Ve],Pn=vn||/^find/.test(Ve);!wn||(Cn.prototype[Ve]=function(){var Rn=this.__wrapped__,Qn=vn?[1]:arguments,Xn=Rn instanceof Do,uo=Qn[0],co=Xn||Eo(Rn),fo=function(Ro){var No=wn.apply(Cn,Gi([Ro],Qn));return vn&&go?No[0]:No};co&&Pt&&typeof uo=="function"&&uo.length!=1&&(Xn=co=!1);var go=this.__chain__,bo=!!this.__actions__.length,$o=Pn&&!go,Mo=Xn&&!bo;if(!Pn&&co){Rn=Mo?Rn:new Do(this);var To=Ce.apply(Rn,Qn);return To.__actions__.push({func:ga,args:[fo],thisArg:r}),new Oi(To,go)}return $o&&Mo?Ce.apply(this,Qn):(To=this.thru(fo),$o?vn?To.value()[0]:To.value():To)})}),Si(["pop","push","shift","sort","splice","unshift"],function(Ce){var Ve=Hr[Ce],Pt=/^(?:push|sort|unshift)$/.test(Ce)?"tap":"thru",vn=/^(?:pop|shift)$/.test(Ce);Cn.prototype[Ce]=function(){var wn=arguments;if(vn&&!this.__chain__){var Pn=this.value();return Ve.apply(Eo(Pn)?Pn:[],wn)}return this[Pt](function(Rn){return Ve.apply(Eo(Rn)?Rn:[],wn)})}}),Mi(Do.prototype,function(Ce,Ve){var Pt=Cn[Ve];if(Pt){var vn=Pt.name+"";zo.call(mr,vn)||(mr[vn]=[]),mr[vn].push({name:Ve,func:Pt})}}),mr[da(r,$e).name]=[{name:"wrapper",func:r}],Do.prototype.clone=ep,Do.prototype.reverse=tp,Do.prototype.value=np,Cn.prototype.at=Mf,Cn.prototype.chain=If,Cn.prototype.commit=Rf,Cn.prototype.next=Df,Cn.prototype.plant=Lf,Cn.prototype.reverse=Bf,Cn.prototype.toJSON=Cn.prototype.valueOf=Cn.prototype.value=Vf,Cn.prototype.first=Cn.prototype.head,wr&&(Cn.prototype[wr]=Nf),Cn},pr=Id();Ji?((Ji.exports=pr)._=pr,Da._=pr):ei._=pr}).call(commonjsGlobal)}(lodash,lodash.exports);let copyText,copy,__vite_glob_0_0,obServer,lazyImg,__vite_glob_0_1;_=lodash.exports,copyText=g=>{const n=document.createElement("input");n.value=g,document.body.appendChild(n),n.select();try{document.execCommand("Copy")}catch(r){console.error(`\u590D\u5236\u5931\u8D25:${r}`)}document.body.removeChild(n)},copy={name:"copy",options:{mounted(g,n){const{arg:r="click",value:$}=n;g.addEventListener(r,()=>{copyText($)})}}},__vite_glob_0_0=Object.freeze(Object.defineProperty({__proto__:null,default:copy},Symbol.toStringTag,{value:"Module"})),obServer=(g,n)=>{let r=new IntersectionObserver(($,L)=>{$.forEach(V=>{V.isIntersecting&&(g.src=n,r.unobserve(g))})});r.observe(g)},lazyImg={name:"lazy-img",options:{mounted(g,n){obServer(g,n.value)}}},__vite_glob_0_1=Object.freeze(Object.defineProperty({__proto__:null,default:lazyImg},Symbol.toStringTag,{value:"Module"}));function bind$1(g,n){return function(){return g.apply(n,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,kindOf$1=(g=>n=>{const r=toString$1.call(n);return g[r]||(g[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest$1=g=>(g=g.toLowerCase(),n=>kindOf$1(n)===g),typeOfTest$1=g=>n=>typeof n===g,{isArray:isArray$1}=Array,isUndefined$1=typeOfTest$1("undefined");function isBuffer$1(g){return g!==null&&!isUndefined$1(g)&&g.constructor!==null&&!isUndefined$1(g.constructor)&&isFunction$1(g.constructor.isBuffer)&&g.constructor.isBuffer(g)}const isArrayBuffer$1=kindOfTest$1("ArrayBuffer");function isArrayBufferView$1(g){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(g):n=g&&g.buffer&&isArrayBuffer$1(g.buffer),n}const isString$1=typeOfTest$1("string"),isFunction$1=typeOfTest$1("function"),isNumber$1=typeOfTest$1("number"),isObject$1=g=>g!==null&&typeof g=="object",isBoolean$1=g=>g===!0||g===!1,isPlainObject$1=g=>{if(kindOf$1(g)!=="object")return!1;const n=getPrototypeOf$1(g);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in g)&&!(Symbol.iterator in g)},isDate$1=kindOfTest$1("Date"),isFile$1=kindOfTest$1("File"),isBlob$1=kindOfTest$1("Blob"),isFileList$1=kindOfTest$1("FileList"),isStream$1=g=>isObject$1(g)&&isFunction$1(g.pipe),isFormData$1=g=>{const n="[object FormData]";return g&&(typeof FormData=="function"&&g instanceof FormData||toString$1.call(g)===n||isFunction$1(g.toString)&&g.toString()===n)},isURLSearchParams$1=kindOfTest$1("URLSearchParams"),trim$1=g=>g.trim?g.trim():g.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(g,n,{allOwnKeys:r=!1}={}){if(g===null||typeof g>"u")return;let $,L;if(typeof g!="object"&&(g=[g]),isArray$1(g))for($=0,L=g.length;$<L;$++)n.call(null,g[$],$,g);else{const V=r?Object.getOwnPropertyNames(g):Object.keys(g),oe=V.length;let re;for($=0;$<oe;$++)re=V[$],n.call(null,g[re],re,g)}}function findKey$1(g,n){n=n.toLowerCase();const r=Object.keys(g);let $=r.length,L;for(;$-- >0;)if(L=r[$],n===L.toLowerCase())return L;return null}const _global$1=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined$1=g=>!isUndefined$1(g)&&g!==_global$1;function merge$1(){const{caseless:g}=isContextDefined$1(this)&&this||{},n={},r=($,L)=>{const V=g&&findKey$1(n,L)||L;isPlainObject$1(n[V])&&isPlainObject$1($)?n[V]=merge$1(n[V],$):isPlainObject$1($)?n[V]=merge$1({},$):isArray$1($)?n[V]=$.slice():n[V]=$};for(let $=0,L=arguments.length;$<L;$++)arguments[$]&&forEach$1(arguments[$],r);return n}const extend$1=(g,n,r,{allOwnKeys:$}={})=>(forEach$1(n,(L,V)=>{r&&isFunction$1(L)?g[V]=bind$1(L,r):g[V]=L},{allOwnKeys:$}),g),stripBOM$1=g=>(g.charCodeAt(0)===65279&&(g=g.slice(1)),g),inherits$1=(g,n,r,$)=>{g.prototype=Object.create(n.prototype,$),g.prototype.constructor=g,Object.defineProperty(g,"super",{value:n.prototype}),r&&Object.assign(g.prototype,r)},toFlatObject$1=(g,n,r,$)=>{let L,V,oe;const re={};if(n=n||{},g==null)return n;do{for(L=Object.getOwnPropertyNames(g),V=L.length;V-- >0;)oe=L[V],(!$||$(oe,g,n))&&!re[oe]&&(n[oe]=g[oe],re[oe]=!0);g=r!==!1&&getPrototypeOf$1(g)}while(g&&(!r||r(g,n))&&g!==Object.prototype);return n},endsWith$1=(g,n,r)=>{g=String(g),(r===void 0||r>g.length)&&(r=g.length),r-=n.length;const $=g.indexOf(n,r);return $!==-1&&$===r},toArray$1=g=>{if(!g)return null;if(isArray$1(g))return g;let n=g.length;if(!isNumber$1(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=g[n];return r},isTypedArray$1=(g=>n=>g&&n instanceof g)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry$1=(g,n)=>{const r=(g&&g[Symbol.iterator]).call(g);let $;for(;($=r.next())&&!$.done;){const L=$.value;n.call(g,L[0],L[1])}},matchAll$1=(g,n)=>{let r;const $=[];for(;(r=g.exec(n))!==null;)$.push(r);return $},isHTMLForm$1=kindOfTest$1("HTMLFormElement"),toCamelCase$1=g=>g.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,$){return r.toUpperCase()+$}),hasOwnProperty$1=(({hasOwnProperty:g})=>(n,r)=>g.call(n,r))(Object.prototype),isRegExp$1=kindOfTest$1("RegExp"),reduceDescriptors$1=(g,n)=>{const r=Object.getOwnPropertyDescriptors(g),$={};forEach$1(r,(L,V)=>{n(L,V,g)!==!1&&($[V]=L)}),Object.defineProperties(g,$)},freezeMethods$1=g=>{reduceDescriptors$1(g,(n,r)=>{if(isFunction$1(g)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const $=g[r];if(isFunction$1($)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet$1=(g,n)=>{const r={},$=L=>{L.forEach(V=>{r[V]=!0})};return isArray$1(g)?$(g):$(String(g).split(n)),r},noop$1=()=>{},toFiniteNumber$1=(g,n)=>(g=+g,Number.isFinite(g)?g:n),ALPHA$1="abcdefghijklmnopqrstuvwxyz",DIGIT$1="0123456789",ALPHABET$1={DIGIT:DIGIT$1,ALPHA:ALPHA$1,ALPHA_DIGIT:ALPHA$1+ALPHA$1.toUpperCase()+DIGIT$1},generateString$1=(g=16,n=ALPHABET$1.ALPHA_DIGIT)=>{let r="";const{length:$}=n;for(;g--;)r+=n[Math.random()*$|0];return r};function isSpecCompliantForm$1(g){return!!(g&&isFunction$1(g.append)&&g[Symbol.toStringTag]==="FormData"&&g[Symbol.iterator])}const toJSONObject$1=g=>{const n=new Array(10),r=($,L)=>{if(isObject$1($)){if(n.indexOf($)>=0)return;if(!("toJSON"in $)){n[L]=$;const V=isArray$1($)?[]:{};return forEach$1($,(oe,re)=>{const ae=r(oe,L+1);!isUndefined$1(ae)&&(V[re]=ae)}),n[L]=void 0,V}}return $};return r(g,0)},utils$1={isArray:isArray$1,isArrayBuffer:isArrayBuffer$1,isBuffer:isBuffer$1,isFormData:isFormData$1,isArrayBufferView:isArrayBufferView$1,isString:isString$1,isNumber:isNumber$1,isBoolean:isBoolean$1,isObject:isObject$1,isPlainObject:isPlainObject$1,isUndefined:isUndefined$1,isDate:isDate$1,isFile:isFile$1,isBlob:isBlob$1,isRegExp:isRegExp$1,isFunction:isFunction$1,isStream:isStream$1,isURLSearchParams:isURLSearchParams$1,isTypedArray:isTypedArray$1,isFileList:isFileList$1,forEach:forEach$1,merge:merge$1,extend:extend$1,trim:trim$1,stripBOM:stripBOM$1,inherits:inherits$1,toFlatObject:toFlatObject$1,kindOf:kindOf$1,kindOfTest:kindOfTest$1,endsWith:endsWith$1,toArray:toArray$1,forEachEntry:forEachEntry$1,matchAll:matchAll$1,isHTMLForm:isHTMLForm$1,hasOwnProperty:hasOwnProperty$1,hasOwnProp:hasOwnProperty$1,reduceDescriptors:reduceDescriptors$1,freezeMethods:freezeMethods$1,toObjectSet:toObjectSet$1,toCamelCase:toCamelCase$1,noop:noop$1,toFiniteNumber:toFiniteNumber$1,findKey:findKey$1,global:_global$1,isContextDefined:isContextDefined$1,ALPHABET:ALPHABET$1,generateString:generateString$1,isSpecCompliantForm:isSpecCompliantForm$1,toJSONObject:toJSONObject$1};function AxiosError$1(g,n,r,$,L){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=g,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),$&&(this.request=$),L&&(this.response=L)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1$1=AxiosError$1.prototype,descriptors$1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(g=>{descriptors$1[g]={value:g}}),Object.defineProperties(AxiosError$1,descriptors$1),Object.defineProperty(prototype$1$1,"isAxiosError",{value:!0}),AxiosError$1.from=(g,n,r,$,L,V)=>{const oe=Object.create(prototype$1$1);return utils$1.toFlatObject(g,oe,function(re){return re!==Error.prototype},re=>re!=="isAxiosError"),AxiosError$1.call(oe,g.message,n,r,$,L),oe.cause=g,oe.name=g.name,V&&Object.assign(oe,V),oe};const httpAdapter$1=null;function isVisitable$1(g){return utils$1.isPlainObject(g)||utils$1.isArray(g)}function removeBrackets$1(g){return utils$1.endsWith(g,"[]")?g.slice(0,-2):g}function renderKey$1(g,n,r){return g?g.concat(n).map(function($,L){return $=removeBrackets$1($),!r&&L?"["+$+"]":$}).join(r?".":""):n}function isFlatArray$1(g){return utils$1.isArray(g)&&!g.some(isVisitable$1)}const predicates$1=utils$1.toFlatObject(utils$1,{},null,function(g){return/^is[A-Z]/.test(g)});function toFormData$1(g,n,r){if(!utils$1.isObject(g))throw new TypeError("target must be an object");n=n||new FormData,r=utils$1.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(he,_e){return!utils$1.isUndefined(_e[he])});const $=r.metaTokens,L=r.visitor||le,V=r.dots,oe=r.indexes,re=(r.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(n);if(!utils$1.isFunction(L))throw new TypeError("visitor must be a function");function ae(he){if(he===null)return"";if(utils$1.isDate(he))return he.toISOString();if(!re&&utils$1.isBlob(he))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(he)||utils$1.isTypedArray(he)?re&&typeof Blob=="function"?new Blob([he]):Buffer.from(he):he}function le(he,_e,Oe){let xe=he;if(he&&!Oe&&typeof he=="object"){if(utils$1.endsWith(_e,"{}"))_e=$?_e:_e.slice(0,-2),he=JSON.stringify(he);else if(utils$1.isArray(he)&&isFlatArray$1(he)||(utils$1.isFileList(he)||utils$1.endsWith(_e,"[]"))&&(xe=utils$1.toArray(he)))return _e=removeBrackets$1(_e),xe.forEach(function($e,Ie){!(utils$1.isUndefined($e)||$e===null)&&n.append(oe===!0?renderKey$1([_e],Ie,V):oe===null?_e:_e+"[]",ae($e))}),!1}return isVisitable$1(he)?!0:(n.append(renderKey$1(Oe,_e,V),ae(he)),!1)}const ue=[],de=Object.assign(predicates$1,{defaultVisitor:le,convertValue:ae,isVisitable:isVisitable$1});function pe(he,_e){if(!utils$1.isUndefined(he)){if(ue.indexOf(he)!==-1)throw Error("Circular reference detected in "+_e.join("."));ue.push(he),utils$1.forEach(he,function(Oe,xe){(!(utils$1.isUndefined(Oe)||Oe===null)&&L.call(n,Oe,utils$1.isString(xe)?xe.trim():xe,_e,de))===!0&&pe(Oe,_e?_e.concat(xe):[xe])}),ue.pop()}}if(!utils$1.isObject(g))throw new TypeError("data must be an object");return pe(g),n}function encode$1$1(g){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(g).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function AxiosURLSearchParams$1(g,n){this._pairs=[],g&&toFormData$1(g,this,n)}const prototype$2=AxiosURLSearchParams$1.prototype;prototype$2.append=function(g,n){this._pairs.push([g,n])},prototype$2.toString=function(g){const n=g?function(r){return g.call(this,r,encode$1$1)}:encode$1$1;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function encode$2(g){return encodeURIComponent(g).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL$1(g,n,r){if(!n)return g;const $=r&&r.encode||encode$2,L=r&&r.serialize;let V;if(L?V=L(n,r):V=utils$1.isURLSearchParams(n)?n.toString():new AxiosURLSearchParams$1(n,r).toString($),V){const oe=g.indexOf("#");oe!==-1&&(g=g.slice(0,oe)),g+=(g.indexOf("?")===-1?"?":"&")+V}return g}class InterceptorManager$2{constructor(){this.handlers=[]}use(n,r,$){return this.handlers.push({fulfilled:n,rejected:r,synchronous:$?$.synchronous:!1,runWhen:$?$.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){utils$1.forEach(this.handlers,function(r){r!==null&&n(r)})}}const InterceptorManager$1$1=InterceptorManager$2,transitionalDefaults$1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams$1,FormData$1$1=typeof FormData<"u"?FormData:null,Blob$1$1=typeof Blob<"u"?Blob:null,isStandardBrowserEnv$1=(()=>{let g;return typeof navigator<"u"&&((g=navigator.product)==="ReactNative"||g==="NativeScript"||g==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv$1=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1$1,FormData:FormData$1$1,Blob:Blob$1$1},isStandardBrowserEnv:isStandardBrowserEnv$1,isStandardBrowserWebWorkerEnv:isStandardBrowserWebWorkerEnv$1,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm$1(g,n){return toFormData$1(g,new platform$1.classes.URLSearchParams,Object.assign({visitor:function(r,$,L,V){return platform$1.isNode&&utils$1.isBuffer(r)?(this.append($,r.toString("base64")),!1):V.defaultVisitor.apply(this,arguments)}},n))}function parsePropPath$1(g){return utils$1.matchAll(/\w+|\[(\w*)]/g,g).map(n=>n[0]==="[]"?"":n[1]||n[0])}function arrayToObject$1(g){const n={},r=Object.keys(g);let $;const L=r.length;let V;for($=0;$<L;$++)V=r[$],n[V]=g[V];return n}function formDataToJSON$1(g){function n(r,$,L,V){let oe=r[V++];const re=Number.isFinite(+oe),ae=V>=r.length;return oe=!oe&&utils$1.isArray(L)?L.length:oe,ae?(utils$1.hasOwnProp(L,oe)?L[oe]=[L[oe],$]:L[oe]=$,!re):((!L[oe]||!utils$1.isObject(L[oe]))&&(L[oe]=[]),n(r,$,L[oe],V)&&utils$1.isArray(L[oe])&&(L[oe]=arrayToObject$1(L[oe])),!re)}if(utils$1.isFormData(g)&&utils$1.isFunction(g.entries)){const r={};return utils$1.forEachEntry(g,($,L)=>{n(parsePropPath$1($),L,r,0)}),r}return null}const DEFAULT_CONTENT_TYPE$1={"Content-Type":void 0};function stringifySafely$1(g,n,r){if(utils$1.isString(g))try{return(n||JSON.parse)(g),utils$1.trim(g)}catch($){if($.name!=="SyntaxError")throw $}return(r||JSON.stringify)(g)}const defaults$2={transitional:transitionalDefaults$1,adapter:["xhr","http"],transformRequest:[function(g,n){const r=n.getContentType()||"",$=r.indexOf("application/json")>-1,L=utils$1.isObject(g);if(L&&utils$1.isHTMLForm(g)&&(g=new FormData(g)),utils$1.isFormData(g))return $&&$?JSON.stringify(formDataToJSON$1(g)):g;if(utils$1.isArrayBuffer(g)||utils$1.isBuffer(g)||utils$1.isStream(g)||utils$1.isFile(g)||utils$1.isBlob(g))return g;if(utils$1.isArrayBufferView(g))return g.buffer;if(utils$1.isURLSearchParams(g))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),g.toString();let V;if(L){if(r.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm$1(g,this.formSerializer).toString();if((V=utils$1.isFileList(g))||r.indexOf("multipart/form-data")>-1){const oe=this.env&&this.env.FormData;return toFormData$1(V?{"files[]":g}:g,oe&&new oe,this.formSerializer)}}return L||$?(n.setContentType("application/json",!1),stringifySafely$1(g)):g}],transformResponse:[function(g){const n=this.transitional||defaults$2.transitional,r=n&&n.forcedJSONParsing,$=this.responseType==="json";if(g&&utils$1.isString(g)&&(r&&!this.responseType||$)){const L=!(n&&n.silentJSONParsing)&&$;try{return JSON.parse(g)}catch(V){if(L)throw V.name==="SyntaxError"?AxiosError$1.from(V,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):V}}return g}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform$1.classes.FormData,Blob:platform$1.classes.Blob},validateStatus:function(g){return g>=200&&g<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$1.forEach(["delete","get","head"],function(g){defaults$2.headers[g]={}}),utils$1.forEach(["post","put","patch"],function(g){defaults$2.headers[g]=utils$1.merge(DEFAULT_CONTENT_TYPE$1)});const defaults$1$1=defaults$2,ignoreDuplicateOf$1=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders$1=g=>{const n={};let r,$,L;return g&&g.split(`
`).forEach(function(V){L=V.indexOf(":"),r=V.substring(0,L).trim().toLowerCase(),$=V.substring(L+1).trim(),!(!r||n[r]&&ignoreDuplicateOf$1[r])&&(r==="set-cookie"?n[r]?n[r].push($):n[r]=[$]:n[r]=n[r]?n[r]+", "+$:$)}),n},$internals$1=Symbol("internals");function normalizeHeader$1(g){return g&&String(g).trim().toLowerCase()}function normalizeValue$1(g){return g===!1||g==null?g:utils$1.isArray(g)?g.map(normalizeValue$1):String(g)}function parseTokens$1(g){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let $;for(;$=r.exec(g);)n[$[1]]=$[2];return n}function isValidHeaderName$1(g){return/^[-_a-zA-Z]+$/.test(g.trim())}function matchHeaderValue$1(g,n,r,$,L){if(utils$1.isFunction($))return $.call(this,n,r);if(L&&(n=r),!!utils$1.isString(n)){if(utils$1.isString($))return n.indexOf($)!==-1;if(utils$1.isRegExp($))return $.test(n)}}function formatHeader$1(g){return g.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,$)=>r.toUpperCase()+$)}function buildAccessors$1(g,n){const r=utils$1.toCamelCase(" "+n);["get","set","has"].forEach($=>{Object.defineProperty(g,$+r,{value:function(L,V,oe){return this[$].call(this,n,L,V,oe)},configurable:!0})})}class AxiosHeaders$2{constructor(n){n&&this.set(n)}set(n,r,$){const L=this;function V(re,ae,le){const ue=normalizeHeader$1(ae);if(!ue)throw new Error("header name must be a non-empty string");const de=utils$1.findKey(L,ue);(!de||L[de]===void 0||le===!0||le===void 0&&L[de]!==!1)&&(L[de||ae]=normalizeValue$1(re))}const oe=(re,ae)=>utils$1.forEach(re,(le,ue)=>V(le,ue,ae));return utils$1.isPlainObject(n)||n instanceof this.constructor?oe(n,r):utils$1.isString(n)&&(n=n.trim())&&!isValidHeaderName$1(n)?oe(parseHeaders$1(n),r):n!=null&&V(r,n,$),this}get(n,r){if(n=normalizeHeader$1(n),n){const $=utils$1.findKey(this,n);if($){const L=this[$];if(!r)return L;if(r===!0)return parseTokens$1(L);if(utils$1.isFunction(r))return r.call(this,L,$);if(utils$1.isRegExp(r))return r.exec(L);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=normalizeHeader$1(n),n){const $=utils$1.findKey(this,n);return!!($&&this[$]!==void 0&&(!r||matchHeaderValue$1(this,this[$],$,r)))}return!1}delete(n,r){const $=this;let L=!1;function V(oe){if(oe=normalizeHeader$1(oe),oe){const re=utils$1.findKey($,oe);re&&(!r||matchHeaderValue$1($,$[re],re,r))&&(delete $[re],L=!0)}}return utils$1.isArray(n)?n.forEach(V):V(n),L}clear(n){const r=Object.keys(this);let $=r.length,L=!1;for(;$--;){const V=r[$];(!n||matchHeaderValue$1(this,this[V],V,n,!0))&&(delete this[V],L=!0)}return L}normalize(n){const r=this,$={};return utils$1.forEach(this,(L,V)=>{const oe=utils$1.findKey($,V);if(oe){r[oe]=normalizeValue$1(L),delete r[V];return}const re=n?formatHeader$1(V):String(V).trim();re!==V&&delete r[V],r[re]=normalizeValue$1(L),$[re]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return utils$1.forEach(this,($,L)=>{$!=null&&$!==!1&&(r[L]=n&&utils$1.isArray($)?$.join(", "):$)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const $=new this(n);return r.forEach(L=>$.set(L)),$}static accessor(n){const r=(this[$internals$1]=this[$internals$1]={accessors:{}}).accessors,$=this.prototype;function L(V){const oe=normalizeHeader$1(V);r[oe]||(buildAccessors$1($,V),r[oe]=!0)}return utils$1.isArray(n)?n.forEach(L):L(n),this}}AxiosHeaders$2.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),utils$1.freezeMethods(AxiosHeaders$2.prototype),utils$1.freezeMethods(AxiosHeaders$2);const AxiosHeaders$1$1=AxiosHeaders$2;function transformData$1(g,n){const r=this||defaults$1$1,$=n||r,L=AxiosHeaders$1$1.from($.headers);let V=$.data;return utils$1.forEach(g,function(oe){V=oe.call(r,V,L.normalize(),n?n.status:void 0)}),L.normalize(),V}function isCancel$1(g){return!!(g&&g.__CANCEL__)}function CanceledError$1(g,n,r){AxiosError$1.call(this,g!=null?g:"canceled",AxiosError$1.ERR_CANCELED,n,r),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle$1(g,n,r){const $=r.config.validateStatus;!r.status||!$||$(r.status)?g(r):n(new AxiosError$1("Request failed with status code "+r.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const cookies$1=platform$1.isStandardBrowserEnv?function(){return{write:function(g,n,r,$,L,V){const oe=[];oe.push(g+"="+encodeURIComponent(n)),utils$1.isNumber(r)&&oe.push("expires="+new Date(r).toGMTString()),utils$1.isString($)&&oe.push("path="+$),utils$1.isString(L)&&oe.push("domain="+L),V===!0&&oe.push("secure"),document.cookie=oe.join("; ")},read:function(g){const n=document.cookie.match(new RegExp("(^|;\\s*)("+g+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(g){this.write(g,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL$1(g){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(g)}function combineURLs$1(g,n){return n?g.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):g}function buildFullPath$1(g,n){return g&&!isAbsoluteURL$1(n)?combineURLs$1(g,n):n}const isURLSameOrigin$1=platform$1.isStandardBrowserEnv?function(){const g=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function $(L){let V=L;return g&&(n.setAttribute("href",V),V=n.href),n.setAttribute("href",V),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=$(window.location.href),function(L){const V=utils$1.isString(L)?$(L):L;return V.protocol===r.protocol&&V.host===r.host}}():function(){return function(){return!0}}();function parseProtocol$1(g){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(g);return n&&n[1]||""}function speedometer$1(g,n){g=g||10;const r=new Array(g),$=new Array(g);let L=0,V=0,oe;return n=n!==void 0?n:1e3,function(re){const ae=Date.now(),le=$[V];oe||(oe=ae),r[L]=re,$[L]=ae;let ue=V,de=0;for(;ue!==L;)de+=r[ue++],ue=ue%g;if(L=(L+1)%g,L===V&&(V=(V+1)%g),ae-oe<n)return;const pe=le&&ae-le;return pe?Math.round(de*1e3/pe):void 0}}function progressEventReducer$1(g,n){let r=0;const $=speedometer$1(50,250);return L=>{const V=L.loaded,oe=L.lengthComputable?L.total:void 0,re=V-r,ae=$(re),le=V<=oe;r=V;const ue={loaded:V,total:oe,progress:oe?V/oe:void 0,bytes:re,rate:ae||void 0,estimated:ae&&oe&&le?(oe-V)/ae:void 0,event:L};ue[n?"download":"upload"]=!0,g(ue)}}const isXHRAdapterSupported$1=typeof XMLHttpRequest<"u",xhrAdapter$1=isXHRAdapterSupported$1&&function(g){return new Promise(function(n,r){let $=g.data;const L=AxiosHeaders$1$1.from(g.headers).normalize(),V=g.responseType;let oe;function re(){g.cancelToken&&g.cancelToken.unsubscribe(oe),g.signal&&g.signal.removeEventListener("abort",oe)}utils$1.isFormData($)&&(platform$1.isStandardBrowserEnv||platform$1.isStandardBrowserWebWorkerEnv)&&L.setContentType(!1);let ae=new XMLHttpRequest;if(g.auth){const pe=g.auth.username||"",he=g.auth.password?unescape(encodeURIComponent(g.auth.password)):"";L.set("Authorization","Basic "+btoa(pe+":"+he))}const le=buildFullPath$1(g.baseURL,g.url);ae.open(g.method.toUpperCase(),buildURL$1(le,g.params,g.paramsSerializer),!0),ae.timeout=g.timeout;function ue(){if(!ae)return;const pe=AxiosHeaders$1$1.from("getAllResponseHeaders"in ae&&ae.getAllResponseHeaders()),he={data:!V||V==="text"||V==="json"?ae.responseText:ae.response,status:ae.status,statusText:ae.statusText,headers:pe,config:g,request:ae};settle$1(function(_e){n(_e),re()},function(_e){r(_e),re()},he),ae=null}if("onloadend"in ae?ae.onloadend=ue:ae.onreadystatechange=function(){!ae||ae.readyState!==4||ae.status===0&&!(ae.responseURL&&ae.responseURL.indexOf("file:")===0)||setTimeout(ue)},ae.onabort=function(){!ae||(r(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,g,ae)),ae=null)},ae.onerror=function(){r(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,g,ae)),ae=null},ae.ontimeout=function(){let pe=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const he=g.transitional||transitionalDefaults$1;g.timeoutErrorMessage&&(pe=g.timeoutErrorMessage),r(new AxiosError$1(pe,he.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,g,ae)),ae=null},platform$1.isStandardBrowserEnv){const pe=(g.withCredentials||isURLSameOrigin$1(le))&&g.xsrfCookieName&&cookies$1.read(g.xsrfCookieName);pe&&L.set(g.xsrfHeaderName,pe)}$===void 0&&L.setContentType(null),"setRequestHeader"in ae&&utils$1.forEach(L.toJSON(),function(pe,he){ae.setRequestHeader(he,pe)}),utils$1.isUndefined(g.withCredentials)||(ae.withCredentials=!!g.withCredentials),V&&V!=="json"&&(ae.responseType=g.responseType),typeof g.onDownloadProgress=="function"&&ae.addEventListener("progress",progressEventReducer$1(g.onDownloadProgress,!0)),typeof g.onUploadProgress=="function"&&ae.upload&&ae.upload.addEventListener("progress",progressEventReducer$1(g.onUploadProgress)),(g.cancelToken||g.signal)&&(oe=pe=>{!ae||(r(!pe||pe.type?new CanceledError$1(null,g,ae):pe),ae.abort(),ae=null)},g.cancelToken&&g.cancelToken.subscribe(oe),g.signal&&(g.signal.aborted?oe():g.signal.addEventListener("abort",oe)));const de=parseProtocol$1(le);if(de&&platform$1.protocols.indexOf(de)===-1){r(new AxiosError$1("Unsupported protocol "+de+":",AxiosError$1.ERR_BAD_REQUEST,g));return}ae.send($||null)})},knownAdapters$1={http:httpAdapter$1,xhr:xhrAdapter$1};utils$1.forEach(knownAdapters$1,(g,n)=>{if(g){try{Object.defineProperty(g,"name",{value:n})}catch{}Object.defineProperty(g,"adapterName",{value:n})}});const adapters$1={getAdapter:g=>{g=utils$1.isArray(g)?g:[g];const{length:n}=g;let r,$;for(let L=0;L<n&&(r=g[L],!($=utils$1.isString(r)?knownAdapters$1[r.toLowerCase()]:r));L++);if(!$)throw $===!1?new AxiosError$1(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(utils$1.hasOwnProp(knownAdapters$1,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!utils$1.isFunction($))throw new TypeError("adapter is not a function");return $},adapters:knownAdapters$1};function throwIfCancellationRequested$1(g){if(g.cancelToken&&g.cancelToken.throwIfRequested(),g.signal&&g.signal.aborted)throw new CanceledError$1(null,g)}function dispatchRequest$1(g){return throwIfCancellationRequested$1(g),g.headers=AxiosHeaders$1$1.from(g.headers),g.data=transformData$1.call(g,g.transformRequest),["post","put","patch"].indexOf(g.method)!==-1&&g.headers.setContentType("application/x-www-form-urlencoded",!1),adapters$1.getAdapter(g.adapter||defaults$1$1.adapter)(g).then(function(n){return throwIfCancellationRequested$1(g),n.data=transformData$1.call(g,g.transformResponse,n),n.headers=AxiosHeaders$1$1.from(n.headers),n},function(n){return isCancel$1(n)||(throwIfCancellationRequested$1(g),n&&n.response&&(n.response.data=transformData$1.call(g,g.transformResponse,n.response),n.response.headers=AxiosHeaders$1$1.from(n.response.headers))),Promise.reject(n)})}const headersToObject$1=g=>g instanceof AxiosHeaders$1$1?g.toJSON():g;function mergeConfig$1(g,n){n=n||{};const r={};function $(le,ue,de){return utils$1.isPlainObject(le)&&utils$1.isPlainObject(ue)?utils$1.merge.call({caseless:de},le,ue):utils$1.isPlainObject(ue)?utils$1.merge({},ue):utils$1.isArray(ue)?ue.slice():ue}function L(le,ue,de){if(utils$1.isUndefined(ue)){if(!utils$1.isUndefined(le))return $(void 0,le,de)}else return $(le,ue,de)}function V(le,ue){if(!utils$1.isUndefined(ue))return $(void 0,ue)}function oe(le,ue){if(utils$1.isUndefined(ue)){if(!utils$1.isUndefined(le))return $(void 0,le)}else return $(void 0,ue)}function re(le,ue,de){if(de in n)return $(le,ue);if(de in g)return $(void 0,le)}const ae={url:V,method:V,data:V,baseURL:oe,transformRequest:oe,transformResponse:oe,paramsSerializer:oe,timeout:oe,timeoutMessage:oe,withCredentials:oe,adapter:oe,responseType:oe,xsrfCookieName:oe,xsrfHeaderName:oe,onUploadProgress:oe,onDownloadProgress:oe,decompress:oe,maxContentLength:oe,maxBodyLength:oe,beforeRedirect:oe,transport:oe,httpAgent:oe,httpsAgent:oe,cancelToken:oe,socketPath:oe,responseEncoding:oe,validateStatus:re,headers:(le,ue)=>L(headersToObject$1(le),headersToObject$1(ue),!0)};return utils$1.forEach(Object.keys(g).concat(Object.keys(n)),function(le){const ue=ae[le]||L,de=ue(g[le],n[le],le);utils$1.isUndefined(de)&&ue!==re||(r[le]=de)}),r}const VERSION$1="1.3.4",validators$1$1={};["object","boolean","number","function","string","symbol"].forEach((g,n)=>{validators$1$1[g]=function(r){return typeof r===g||"a"+(n<1?"n ":" ")+g}});const deprecatedWarnings$1={};validators$1$1.transitional=function(g,n,r){function $(L,V){return"[Axios v"+VERSION$1+"] Transitional option '"+L+"'"+V+(r?". "+r:"")}return(L,V,oe)=>{if(g===!1)throw new AxiosError$1($(V," has been removed"+(n?" in "+n:"")),AxiosError$1.ERR_DEPRECATED);return n&&!deprecatedWarnings$1[V]&&(deprecatedWarnings$1[V]=!0,console.warn($(V," has been deprecated since v"+n+" and will be removed in the near future"))),g?g(L,V,oe):!0}};function assertOptions$1(g,n,r){if(typeof g!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const $=Object.keys(g);let L=$.length;for(;L-- >0;){const V=$[L],oe=n[V];if(oe){const re=g[V],ae=re===void 0||oe(re,V,g);if(ae!==!0)throw new AxiosError$1("option "+V+" must be "+ae,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError$1("Unknown option "+V,AxiosError$1.ERR_BAD_OPTION)}}const validator$1={assertOptions:assertOptions$1,validators:validators$1$1},validators$2=validator$1.validators;class Axios$2{constructor(n){this.defaults=n,this.interceptors={request:new InterceptorManager$1$1,response:new InterceptorManager$1$1}}request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=mergeConfig$1(this.defaults,r);const{transitional:$,paramsSerializer:L,headers:V}=r;$!==void 0&&validator$1.assertOptions($,{silentJSONParsing:validators$2.transitional(validators$2.boolean),forcedJSONParsing:validators$2.transitional(validators$2.boolean),clarifyTimeoutError:validators$2.transitional(validators$2.boolean)},!1),L!==void 0&&validator$1.assertOptions(L,{encode:validators$2.function,serialize:validators$2.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let oe;oe=V&&utils$1.merge(V.common,V[r.method]),oe&&utils$1.forEach(["delete","get","head","post","put","patch","common"],_e=>{delete V[_e]}),r.headers=AxiosHeaders$1$1.concat(oe,V);const re=[];let ae=!0;this.interceptors.request.forEach(function(_e){typeof _e.runWhen=="function"&&_e.runWhen(r)===!1||(ae=ae&&_e.synchronous,re.unshift(_e.fulfilled,_e.rejected))});const le=[];this.interceptors.response.forEach(function(_e){le.push(_e.fulfilled,_e.rejected)});let ue,de=0,pe;if(!ae){const _e=[dispatchRequest$1.bind(this),void 0];for(_e.unshift.apply(_e,re),_e.push.apply(_e,le),pe=_e.length,ue=Promise.resolve(r);de<pe;)ue=ue.then(_e[de++],_e[de++]);return ue}pe=re.length;let he=r;for(de=0;de<pe;){const _e=re[de++],Oe=re[de++];try{he=_e(he)}catch(xe){Oe.call(this,xe);break}}try{ue=dispatchRequest$1.call(this,he)}catch(_e){return Promise.reject(_e)}for(de=0,pe=le.length;de<pe;)ue=ue.then(le[de++],le[de++]);return ue}getUri(n){n=mergeConfig$1(this.defaults,n);const r=buildFullPath$1(n.baseURL,n.url);return buildURL$1(r,n.params,n.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function(g){Axios$2.prototype[g]=function(n,r){return this.request(mergeConfig$1(r||{},{method:g,url:n,data:(r||{}).data}))}}),utils$1.forEach(["post","put","patch"],function(g){function n(r){return function($,L,V){return this.request(mergeConfig$1(V||{},{method:g,headers:r?{"Content-Type":"multipart/form-data"}:{},url:$,data:L}))}}Axios$2.prototype[g]=n(),Axios$2.prototype[g+"Form"]=n(!0)});const Axios$1$1=Axios$2;class CancelToken$2{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(L){r=L});const $=this;this.promise.then(L=>{if(!$._listeners)return;let V=$._listeners.length;for(;V-- >0;)$._listeners[V](L);$._listeners=null}),this.promise.then=L=>{let V;const oe=new Promise(re=>{$.subscribe(re),V=re}).then(L);return oe.cancel=function(){$.unsubscribe(V)},oe},n(function(L,V,oe){$.reason||($.reason=new CanceledError$1(L,V,oe),r($.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}static source(){let n;return{token:new CancelToken$2(function(r){n=r}),cancel:n}}}const CancelToken$1$1=CancelToken$2;function spread$1(g){return function(n){return g.apply(null,n)}}function isAxiosError$1(g){return utils$1.isObject(g)&&g.isAxiosError===!0}const HttpStatusCode$2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$2).forEach(([g,n])=>{HttpStatusCode$2[n]=g});const HttpStatusCode$1$1=HttpStatusCode$2;function createInstance$1(g){const n=new Axios$1$1(g),r=bind$1(Axios$1$1.prototype.request,n);return utils$1.extend(r,Axios$1$1.prototype,n,{allOwnKeys:!0}),utils$1.extend(r,n,null,{allOwnKeys:!0}),r.create=function($){return createInstance$1(mergeConfig$1(g,$))},r}const axios$2=createInstance$1(defaults$1$1);axios$2.Axios=Axios$1$1,axios$2.CanceledError=CanceledError$1,axios$2.CancelToken=CancelToken$1$1,axios$2.isCancel=isCancel$1,axios$2.VERSION=VERSION$1,axios$2.toFormData=toFormData$1,axios$2.AxiosError=AxiosError$1,axios$2.Cancel=axios$2.CanceledError,axios$2.all=function(g){return Promise.all(g)},axios$2.spread=spread$1,axios$2.isAxiosError=isAxiosError$1,axios$2.mergeConfig=mergeConfig$1,axios$2.AxiosHeaders=AxiosHeaders$1$1,axios$2.formToJSON=g=>formDataToJSON$1(utils$1.isHTMLForm(g)?new FormData(g):g),axios$2.HttpStatusCode=HttpStatusCode$1$1,axios$2.default=axios$2;const axios$1$1=axios$2,__default__$3$1=defineComponent({name:"GuChart"}),_sfc_main$3$1=defineComponent({...__default__$3$1,props:{insertOption:{default:()=>({})},option:{default:()=>({})}},emits:[""],setup(__props,{emit:emits}){const props=__props,loading=ref(!0),route=useRoute(),{insertOption,option}=toRefs(props),chartOption=reactive({}),req=reactive({url:"",method:"get",params:{},data:{},headers:{}}),oldParams=reactive({}),variable=reactive({}),handleDatajs=ref("");if(insertOption.value){loading.value=!0;const data=insertOption.value;Object.assign(req,data.reqOption),req.method=="get"?Object.assign(oldParams,req.params):Object.assign(oldParams,req.data),Object.assign(variable,data.variable),axios$1$1({...req}).then(reqData=>{const option=data.option;handleDatajs.value=data.handleDatajs;try{eval(data.handleDatajs)}catch(g){console.log(g)}Object.assign(chartOption,option),initEchart()}).catch(g=>{console.error(g),loading.value=!1})}else Object.assign(chartOption,option.value);const guChart=ref();let guChartInstance;const timer=ref(0),initEchart=()=>{guChartInstance?(guChartInstance.clear(),guChartInstance.setOption(chartOption)):guChart.value&&(guChartInstance=init$1(guChart.value),guChartInstance.setOption(chartOption)),loading.value=!1},rsOb=new ResizeObserver(g=>{timer.value&&clearTimeout(timer.value),timer.value=window.setTimeout(()=>{try{guChartInstance.resize()}catch(n){console.warn(`chart\u91CD\u65B0\u8BBE\u7F6E\u5927\u5C0F\u5931\u8D25,\u5931\u8D25\u539F\u56E0\uFF1A${n}`)}},50)});onMounted(()=>{initEchart(),rsOb.observe(guChart.value),window.addEventListener("hashchange",()=>{let g=window.location.href;if(g.includes("?")){let n=g.split("?")[1];const r=new URLSearchParams(n),$=Object.fromEntries(r.entries());handleUrl($)}})}),watch(option,()=>{Object.assign(chartOption,option.value),initEchart()},{deep:!0}),watch(route,()=>{const{query:g}=route;handleUrl(g)},{deep:!0});const handleUrl=g=>{const n=[];Object.keys(variable).forEach(r=>{n.push({realParamsName:r,alias:variable[r]||r})}),n.forEach(r=>{g[r.alias]&&(req.method=="get"?req.params[r.realParamsName]=g[r.alias]:req.data[r.realParamsName]=g[r.alias])}),handleVar()},handleVar=()=>{loading.value=!0,axios$1$1({...req}).then(reqData=>{const option=chartOption;eval(handleDatajs.value),Object.assign(chartOption,option),initEchart()})};return(g,n)=>(openBlock(),createElementBlock("div",{ref_key:"guChart",ref:guChart,class:"gu-chart"},null,512))}}),_export_sfc=(g,n)=>{const r=g.__vccOpts||g;for(const[$,L]of n)r[$]=L;return r},GuChart=_export_sfc(_sfc_main$3$1,[["__scopeId","data-v-aab9e14f"]]),__vite_glob_1_0=Object.freeze(Object.defineProperty({__proto__:null,default:GuChart},Symbol.toStringTag,{value:"Module"})),_hoisted_1$2$1={class:"gu-mask"},_hoisted_2$1$1={class:"gu-header"},_hoisted_3$1={class:"title"},_hoisted_4={class:"content"},_hoisted_5={key:0,class:"footer"},__default__$2$1=defineComponent({name:"GuDialogTemplate"}),_sfc_main$2$1=defineComponent({...__default__$2$1,props:{onConfirm:null,onCancel:null,title:{default:"\u9ED8\u8BA4"},size:{default:"default"},width:{default:void 0},height:{default:void 0},footer:{type:Boolean,default:!0},content:null,componentProps:{default:()=>({})}},emits:[],setup(g,{emit:n}){const r=g,{title:$,content:L,footer:V,size:oe,height:re,width:ae,onConfirm:le,onCancel:ue}=toRefs(r),de=ref(),pe=()=>{le.value(de.value)},he=()=>{ue.value(de.value)};return(_e,Oe)=>(openBlock(),createElementBlock("div",_hoisted_1$2$1,[createBaseVNode("div",{class:normalizeClass(["gu-dialog",unref(oe)]),style:normalizeStyle$1({width:`${unref(ae)}px`,height:`${unref(re)}px`})},[createBaseVNode("header",_hoisted_2$1$1,[createBaseVNode("div",_hoisted_3$1,toDisplayString(unref($)),1),createBaseVNode("div",{class:"close",onClick:he}," X ")]),createBaseVNode("div",_hoisted_4,[(openBlock(),createBlock(resolveDynamicComponent(unref(L)),mergeProps(g.componentProps,{ref_key:"contentCompontent",ref:de}),null,16))]),unref(V)?(openBlock(),createElementBlock("div",_hoisted_5,[createBaseVNode("div",{class:"button-group"},[createBaseVNode("div",{class:"button primary",onClick:pe}," \u786E\u8BA4 "),createBaseVNode("div",{class:"button",onClick:he}," \u53D6\u6D88 ")])])):createCommentVNode("",!0)],6)]))}}),GuDialogTemplate=_export_sfc(_sfc_main$2$1,[["__scopeId","data-v-fe83f443"]]),__vite_glob_1_1=Object.freeze(Object.defineProperty({__proto__:null,default:GuDialogTemplate},Symbol.toStringTag,{value:"Module"}));var getRandomValues$1,rnds8$1=new Uint8Array(16);function rng$1(){if(!getRandomValues$1&&(getRandomValues$1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues$1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues$1(rnds8$1)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(g){return typeof g=="string"&&REGEX.test(g)}for(var byteToHex$1=[],i=0;i<256;++i)byteToHex$1.push((i+256).toString(16).substr(1));function stringify(g){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(byteToHex$1[g[n+0]]+byteToHex$1[g[n+1]]+byteToHex$1[g[n+2]]+byteToHex$1[g[n+3]]+"-"+byteToHex$1[g[n+4]]+byteToHex$1[g[n+5]]+"-"+byteToHex$1[g[n+6]]+byteToHex$1[g[n+7]]+"-"+byteToHex$1[g[n+8]]+byteToHex$1[g[n+9]]+"-"+byteToHex$1[g[n+10]]+byteToHex$1[g[n+11]]+byteToHex$1[g[n+12]]+byteToHex$1[g[n+13]]+byteToHex$1[g[n+14]]+byteToHex$1[g[n+15]]).toLowerCase();if(!validate(r))throw TypeError("Stringified UUID is invalid");return r}function v4$1(g,n,r){g=g||{};var $=g.random||(g.rng||rng$1)();if($[6]=$[6]&15|64,$[8]=$[8]&63|128,n){r=r||0;for(var L=0;L<16;++L)n[r+L]=$[L];return n}return stringify($)}let _hoisted_1$1$1,_hoisted_2$2,_hoisted_3,__default__$1$1,_sfc_main$1$1,__vite_glob_1_2,_hoisted_1$5,__default__$c,_sfc_main$c,GuVirtualList,__vite_glob_1_3$1,directives,compModules,install$1,index,formComp;_hoisted_1$1$1={class:"drag-resize-container"},_hoisted_2$2={key:0,class:"tip"},_hoisted_3=["onMousedown"],__default__$1$1=defineComponent({name:"GuDragResize"}),_sfc_main$1$1=defineComponent({...__default__$1$1,props:{nodeKey:{default:v4$1()},minh:{default:10},minw:{default:10},disabled:{type:[Boolean,String],default:!1},width:{default:100},height:{default:100},top:{default:0},left:{default:0}},emits:["onDragResize","onDrag","onResize"],setup(g,{emit:n}){const r=g,{nodeKey:$,minh:L,minw:V,disabled:oe,height:re,width:ae,left:le,top:ue}=toRefs(r),de=ref(),pe=ref(null),he=reactive({left:0,top:0,width:0,height:0}),_e=computed(()=>{const{left:ze,top:Ue,width:Fe,height:qe}=he;return pe.value=="drag"?`[${ze},${Ue}]`:`${qe}*${Fe}`}),Oe=ze=>{if(Ie(oe.value,"drag"))console.warn("\u62D6\u62FD\u529F\u80FD\u5DF2\u88AB\u7981\u7528");else{const Ue=de.value.parentElement;let Fe=Ue.style.position;Ue.style.position="relative";let{left:qe,top:Et}=$e(),At=ze.clientX-parseFloat(qe)||de.value.offsetLeft,kt=ze.clientY-parseFloat(Et)||de.value.offsetTop;ze.preventDefault(),document.onmousemove=function(Dt){pe.value="drag";let jt=Dt.clientX-At,Lt=Dt.clientY-kt;jt<0?jt=0:jt>Ue.clientWidth-de.value.clientWidth&&(jt=Ue.clientWidth-de.value.clientWidth),Lt<0?Lt=0:Lt>Ue.clientHeight-de.value.clientHeight&&(Lt=Ue.clientHeight-de.value.clientHeight),he.left=jt,he.top=Lt,de.value.style.transform=`translate3d(${jt}px, ${Lt}px,0)`,n("onDrag",{left:jt,top:Lt,height:de.value.style.height,width:de.value.style.width,nodeKey:$.value})},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,Ue.style.position=Fe,pe.value=null;let{left:Dt,top:jt}=$e();n("onDragResize",{left:Dt,top:jt,height:de.value.style.height,width:de.value.style.width,nodeKey:$.value})}}},xe=()=>{if(Ie(oe.value,"resize"))console.warn("\u8BBE\u7F6E\u5927\u5C0F\u529F\u80FD\u5DF2\u88AB\u7981\u7528");else{const ze=de.value.parentElement,Ue=window.event;Ue==null||Ue.stopPropagation(),Ue==null||Ue.preventDefault();const Fe=de.value.clientHeight,qe=de.value.clientWidth,Et=Ue.clientX,At=Ue.clientY,kt=jt=>{const Lt=jt.clientX,hn=jt.clientY-At,Sn=Lt-Et;pe.value="resize";const On=Fe+hn>L.value?Fe+hn>ze.clientHeight?ze.clientHeight:Fe+hn:L.value,_n=qe+Sn>V.value?qe+Sn>ze.clientWidth?ze.clientWidth:qe+Sn:V.value;he.width=_n,he.height=On,de.value.style.width=_n+"px",de.value.style.height=On+"px";let{left:xn,top:bn}=$e();n("onResize",{left:xn,top:bn,height:de.value.style.height,width:de.value.style.width,nodeKey:$.value})},Dt=()=>{document.removeEventListener("mousemove",kt),document.removeEventListener("mouseup",Dt);let{left:jt,top:Lt}=$e();pe.value=null,n("onDragResize",{left:jt,top:Lt,height:de.value.style.height,width:de.value.style.width,nodeKey:$.value})};document.addEventListener("mousemove",kt),document.addEventListener("mouseup",Dt)}},$e=()=>{let ze=/(\d+px, \d+px)/,[Ue,Fe]=de.value.style.transform.match(ze)[0].split(",");return{left:Ue,top:Fe}},Ie=(ze,Ue)=>typeof ze=="boolean"?ze:Ue==ze,Ne=()=>{de.value.parentElement.style.position="relative",de.value.style.height=re.value+"px",de.value.style.width=ae.value+"px",de.value.style.transform=`translate3d(${le.value}px, ${ue.value}px,0)`};return watch(()=>[le.value,ue.value,ae.value,re.value],()=>{Ne()}),onMounted(()=>{Ne()}),(ze,Ue)=>(openBlock(),createElementBlock("div",{ref_key:"dragResize",ref:de,class:normalizeClass(["drag-resize",Ie(unref(oe),"drag")?"disabled":""]),onMousedown:Oe},[createBaseVNode("div",_hoisted_1$1$1,[pe.value?(openBlock(),createElementBlock("div",_hoisted_2$2,toDisplayString(unref(_e)),1)):createCommentVNode("",!0),renderSlot(ze.$slots,"default",{},void 0,!0)]),Ie(unref(oe),"resize")?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,ref:"resizeNode",class:normalizeClass([Ie(unref(oe),"resize")?"disabled":"","resize-node"]),onMousedown:withModifiers(xe,["stop"])},null,42,_hoisted_3))],34))}}),GuDragResize=_export_sfc(_sfc_main$1$1,[["__scopeId","data-v-09cacc06"]]),__vite_glob_1_2=Object.freeze(Object.defineProperty({__proto__:null,default:GuDragResize},Symbol.toStringTag,{value:"Module"})),_hoisted_1$5=["onClick"],__default__$c=defineComponent({name:"GuVirtualList"}),_sfc_main$c=defineComponent({...__default__$c,props:{itemHeight:{default:25},list:{default:()=>[]},replaceField:{default:()=>({children:"children",value:"value",label:"label",key:"key"})}},emits:["onClickItem"],setup(g,{emit:n}){const r=g,$={children:"children",value:"value",label:"label",key:"key"},{itemHeight:L,list:V,replaceField:oe}=toRefs(r);computed(()=>`${L.value*V.value.length-Oe.value}px`);const re=computed(()=>({...$,...oe.value})),ae=ref(""),le=ze=>{ae.value=ze[re.value.value],n("onClickItem",ze)},ue=ref([]),de=ref(),pe=ref(0),he=ref(0),_e=ref(0),Oe=ref(0),xe=ref(0),$e=ref(),Ie=()=>{const{height:ze}=de.value.getBoundingClientRect();Oe.value=de.value.scrollTop,de.value.style.paddingTop=Oe,_e.value=Math.floor(ze/L.value),pe.value=Math.floor(Oe.value/L.value),he.value=Math.floor(pe.value+_e.value+2),he.value>=V.value.length&&(he.value=V.value.length,pe.value=he.value-_e.value+2),ue.value=V.value.slice(pe.value,he.value)},Ne=new ResizeObserver(()=>{xe.value&&clearTimeout(xe.value),xe.value=window.setTimeout(()=>{Ie()},50)});return onMounted(()=>{Ie(),Ne.observe(de.value)}),(ze,Ue)=>(openBlock(),createElementBlock("div",{ref_key:"guList",ref:de,class:"gu-list",onScroll:Ie},[createBaseVNode("ul",{ref_key:"virtualList",ref:$e,class:"gu-virtual-list",style:normalizeStyle$1({paddingTop:Oe.value+"px"})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ue.value,Fe=>(openBlock(),createElementBlock("li",{key:Fe[unref(re).key],class:normalizeClass(["gu-virtual-list-item",ae.value==Fe[unref(re).value]?"active":""]),style:normalizeStyle$1({height:unref(L)+"px"}),onClick:qe=>le(Fe)},[renderSlot(ze.$slots,"content",{item:Fe},()=>[createTextVNode(toDisplayString(Fe[unref(re).label]),1)],!0)],14,_hoisted_1$5))),128))],4)],544))}}),GuVirtualList=_export_sfc(_sfc_main$c,[["__scopeId","data-v-079c00a7"]]),__vite_glob_1_3$1=Object.freeze(Object.defineProperty({__proto__:null,default:GuVirtualList},Symbol.toStringTag,{value:"Module"})),getUpperCase=(g,n=0,r=1)=>n>g.length||r>g.length?"error:word\u957F\u5EA6\u4E0D\u591F":g.slice(n,r).toLocaleUpperCase()+g.slice(r),useGuDialog=g=>{let n;const r=document.createElement("div"),$=()=>{n.unmount(),document.body.removeChild(r)};return{open:()=>new Promise((L,V)=>{try{n=createApp(GuDialogTemplate,{...g,onConfirm:oe=>{L({type:"ok",data:oe}),$()},onCancel:oe=>{L({type:"cancel",data:oe}),$()}}),n.mount(r).$el,document.body.appendChild(r)}catch(oe){V(oe)}}),destroyed:$}},directives=Object.assign({"./directives/copy.ts":__vite_glob_0_0,"./directives/lazyImg.ts":__vite_glob_0_1}),compModules=Object.assign({"./components/GuChart.vue":__vite_glob_1_0,"./components/GuDialogTemplate.vue":__vite_glob_1_1,"./components/GuDragResize.vue":__vite_glob_1_2,"./components/GuVirtualList.vue":__vite_glob_1_3$1}),install$1=g=>{for(const n in directives){const r=directives[n];g.directive(r.default.name,r.default.options)}for(const n in compModules){const r=compModules[n];g.component(r.default.name,r.default)}},index={install:install$1},formComp={input:g=>`
  <el-form-item
    prop="${g.prop.field}"
    label="${g.form_config.label}"
  >
    <el-input
      v-model="formData.${g.prop.field}"
      placeholder="${g.prop.placeholder}"
      :readonly="${g.prop.readonly}"
      :disabled="${g.prop.disabled}"
      :clearable="${g.prop.clearable}"
      :showPassword="${g.prop.showPassword}"
    >
    </el-input>
  </el-form-item>
    `,textarea:g=>`
  <el-form-item
    prop="${g.prop.field}"
    label="${g.form_config.label}"
  >
    <el-input
      v-model="formData.${g.prop.field}"
      placeholder="${g.prop.placeholder}"
      :readonly="${g.prop.readonly}"
      :disabled="${g.prop.disabled}"
      type="textarea"
      :rows="${g.prop.rows}"
    >
    </el-input>
  </el-form-item>
    `,select:g=>`
  <el-form-item
    prop="${g.prop.field}"
    label="${g.form_config.label}"
  >
    <el-select
      v-model="formData.${g.prop.field}"
      placeholder="${g.prop.placeholder}"
      :readonly="${g.prop.readonly}"
      :disabled="${g.prop.disabled}"
      :filterable="${g.prop.filterable}"
      :clearable="${g.prop.clearable}"
    >
      <el-option 
      v-for="item in options${getUpperCase(g.prop.field)}"
      :key="item.value"
      :value="item.value"
      :label="item.label"
      >
      </el-option>
    </el-select>
  </el-form-item>
    `,checkbox:g=>`
  <el-form-item
    prop="${g.prop.field}"
    label="${g.form_config.label}"
  >
    <el-checkbox-group
      v-model="formData.${g.prop.field}"
      placeholder="${g.prop.placeholder}"
      :readonly="${g.prop.readonly}"
      :disabled="${g.prop.disabled}"
    >
      <el-checkbox 
      v-for="item in options${getUpperCase(g.prop.field)}"
      :key="item.value"
      :value="item.value"
      :label="item.label"
      >
      {{item.label}}
      </el-checkbox>
    </el-checkbox-group>
  </el-form-item>
    `,color:g=>`
  <el-form-item
    prop="${g.prop.field}"
    label="${g.form_config.label}"
  >
    <el-color-picker
      v-model="formData.${g.prop.field}"
      :readonly="${g.prop.readonly}"
      :disabled="${g.prop.disabled}"
    >
    </el-color-picker>
  </el-form-item>
  `,date:g=>`
  <el-form-item
    prop="${g.prop.field}"
    label="${g.form_config.label}"
  >
    <el-date-picker
      v-model="formData.${g.prop.field}"
      :readonly="${g.prop.readonly}"
      :disabled="${g.prop.disabled}"
      value-format="${g.prop.valueFormat}"
      format="${g.prop.format}"
      type="${g.prop.type}"
      placeholder="${g.prop.placeholder}"
    >
    </el-date-picker>
  </el-form-item>
  `,number:g=>`
  <el-form-item
    prop="${g.prop.field}"
    label="${g.form_config.label}"
  >
    <el-input-number
      v-model="formData.${g.prop.field}"
      :readonly="${g.prop.readonly}"
      :disabled="${g.prop.disabled}"
      :step="${g.prop.step}"
      :min="${g.prop.min}"
      :max="${g.prop.max}"
      placeholder="${g.prop.placeholder}"
      controls-position="${g.prop.controlsPosition}"
    >
    </el-input-number>
  </el-form-item>
  `,switch:g=>`
  <el-form-item
    prop="${g.prop.field}"
    label="${g.form_config.label}"
  >
    <el-switch
      v-model="formData.${g.prop.field}"
      :disabled="${g.prop.disabled}"
      activeText="${g.prop.activeText}"
      inactiveText="${g.prop.inactiveText}"
    >
    </el-switch>
  </el-form-item>
  `,time:g=>`
  <el-form-item
    prop="${g.prop.field}"
    label="${g.form_config.label}"
  >
    <el-time-picker
      v-model="formData.${g.prop.field}"
      :disabled="${g.prop.disabled}"
      :readonly="${g.prop.readonly}"
      :arrowControl="${g.prop.arrowControl}"
      :clearable="${g.prop.clearable}"
      :isRange="${g.prop.isRange}"
      format="${g.prop.format}"
      inactiveText="${g.prop.inactiveText}"
      placeholder="${g.prop.placeholder}"
    >
    </el-time-picker>
  </el-form-item>
    `,button:g=>`
  <el-form-item>
    <el-button
    :round="${g.prop.round}"
    :link="${g.prop.link}"
    :bg="${g.prop.bg}"
    :text="${g.prop.text}"
    :plain="${g.prop.plain}"
    :disabled="${g.prop.disabled}"
    size="${g.prop.size}"
    type="${g.prop.type}"
    @click="onClick${getUpperCase(g.prop.field)}"
    >
    ${g.prop.name}
    </el-button>
  </el-form-item>
  `,grid:g=>{let n="";const{prop:{cols:r,gutter:$}}=g;return r.forEach(L=>{L.list instanceof Array?L.list.forEach(V=>{n+=`
          <el-col :span='${L.span}'>
              ${formComp[V.comp](V)}
          </el-col>`}):n+=""}),`
    <el-row :gutter='${$}'>
    ${n}
    </el-row>`},card(g){const{header:n,card:{list:r},shadow:$}=g.prop;let L="";return r.forEach(V=>{L+=`
      ${formComp[V.comp](V)}
      `}),`
    <el-card header='${n}' shadow='${$}'>
      ${L}
    </el-card>
    `},collapse(g){const{title:n,collapse:{list:r}}=g.prop;let $="";return r.forEach(L=>{$+=`
      ${formComp[L.comp](L)}
      `}),`
    <el-collapse>
      <el-collapse-item 
      title="${n}"
      name="${n}"
      >
      ${$}
      </el-collapse-item>
    </el-collapse>
    `},createOptions:g=>{let n="";const{prop:{options:r,field:$}}=g;return r.forEach(L=>{const V=`
        {
          label:'${L.label}',
          value:'${L.value}'
        },
      `;n+=V}),`
      const options${getUpperCase($)} = reactive([${n}])
    `},createRuleFunc:g=>{const{prop:{field:n},form_config:{rules:{required:r,regular:$,message:L},label:V}}=g;return r&&$?`
        const check_${n} = (rule: any, value: any, callback: any) =>{
          if(!value){
            callback(new Error('\u8BF7\u586B\u5199${V}(${n})'))
          }else if(!/${$}/.test(value)) {
            callback(new Error('${L}'))
          }else {
            callback()
          }
        }
      `:""},createRules:g=>{const{prop:{field:n},form_config:{rules:{required:r,regular:$,message:L,trigger:V}}}=g;return r?`${n}:[{
        required:true,
        trigger:'${V}',
        message:'${L}',
        ${$?"validator:check_"+n:""}
      }],`:""},createFunction:g=>{const{prop:{field:n,clickEvent:r}}=g;if(r)return`
      const onClick${getUpperCase(n)} = () =>{
        ${r}
      }
      `},createRulesV2:g=>{const{prop:{field:n},form_config:{rules:{required:r,regular:$,message:L,trigger:V}}}=g;return r?`${n}:[{
        required:true,
        trigger:'${V}',
        message:'${L}',
        ${$?"validator:this.check_"+n:""}
      }],`:""},createFunctionV2:g=>{const{prop:{field:n,clickEvent:r}}=g;if(r)return`
      onClick${getUpperCase(n)}(){
        ${r}
      },
      `},createRuleFuncV2:g=>{const{prop:{field:n},form_config:{rules:{required:r,regular:$,message:L},label:V}}=g;return r&&$?`
        check_${n}(rule, value, callback){
          if(!value){
            callback(new Error('\u8BF7\u586B\u5199${V}(${n})'))
          }else if(!/${$}/.test(value)) {
            callback(new Error('${L}'))
          }else {
            callback()
          }
        },
      `:""},createOptionsV2:g=>{let n="";const{prop:{options:r,field:$}}=g;return r.forEach(L=>{const V=`
        {
          label:'${L.label}',
          value:'${L.value}'
        },
      `;n+=V}),`
      options${getUpperCase($)}: [${n}],
    `}};let getRandomValues;const rnds8=new Uint8Array(16);rng=function g(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)};const byteToHex=[];for(let g=0;g<256;++g)byteToHex.push((g+256).toString(16).slice(1));unsafeStringify=function g(n,r=0){return(byteToHex[n[r+0]]+byteToHex[n[r+1]]+byteToHex[n[r+2]]+byteToHex[n[r+3]]+"-"+byteToHex[n[r+4]]+byteToHex[n[r+5]]+"-"+byteToHex[n[r+6]]+byteToHex[n[r+7]]+"-"+byteToHex[n[r+8]]+byteToHex[n[r+9]]+"-"+byteToHex[n[r+10]]+byteToHex[n[r+11]]+byteToHex[n[r+12]]+byteToHex[n[r+13]]+byteToHex[n[r+14]]+byteToHex[n[r+15]]).toLowerCase()};const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};v4=function g(n,r,$){if(native.randomUUID&&!r&&!n)return native.randomUUID();n=n||{};const L=n.random||(n.rng||rng)();if(L[6]=L[6]&15|64,L[8]=L[8]&63|128,r){$=$||0;for(let V=0;V<16;++V)r[$+V]=L[V];return r}return unsafeStringify(L)};let routerPush,transformCssVar,__default__$b,_sfc_main$b,EvIcon_vue_vue_type_style_index_0_scoped_91b9a374_lang,EvIcon,__vite_glob_1_3,_hoisted_1$4,_hoisted_2$1,__default__$a,_sfc_main$a,EvIframe_vue_vue_type_style_index_0_scoped_29ddd2a6_lang,EvIframe,__vite_glob_1_4,__default__$9,_sfc_main$9,EvImg_vue_vue_type_style_index_0_scoped_23ff8d50_lang,EvImg,__vite_glob_1_5,table,tableColumn,_hoisted_1$3,__default__$8,__vite_glob_1_8,pagination,__default__$7,__vite_glob_1_9,radioGroup,radio;routerPush=g=>{const{options:{routes:n}}=router,r=(V,oe)=>{const re=oe||[];return V.forEach(ae=>{if(re.push(ae),ae.children)return r(ae.children,re)}),re},$=lodash.exports.cloneDeep(n),L=r($).find(V=>{var oe;return((oe=V==null?void 0:V.meta)==null?void 0:oe.appId)==g});L?router.push({name:L.name,query:{appId:g}}):router.push({name:"404"})},createFormSfc=g=>{let n="",r="",$="",L="";const V=re=>{re.forEach(ae=>{n+=formComp[ae.comp](ae)})},oe=re=>{re instanceof Array&&re.forEach(ae=>{ae.type!="container"?(ae.comp!="button"&&($+=formComp.createRules(ae),L+=formComp.createRuleFunc(ae)),["select","checkbox"].includes(ae.comp)?r+=formComp.createOptions(ae):["button"].includes(ae.comp)&&(r+=formComp.createFunction(ae))):ae.comp=="grid"?ae.prop.cols.forEach(le=>{oe(le.list)}):ae.comp=="card"?oe(ae.prop.card.list):ae.comp=="collapse"&&oe(ae.prop.collapse.list)})};return oe(g.list),V(g.list),`
  <template>
    <el-form
      size="${g.formProp.size}"
      label-position="${g.formProp.labelPosition}"
      label-width="${g.formProp.labelWidth}"
      ref="formRef"
      :model="formData"
      :rules="rules"
    >
      ${n}
    </el-form>
  </template>

  <script lang='ts' setup >
  import { reactive, toRefs, ref, PropType } from 'vue'
  import type { FormInstance } from 'element-plus'
  interface obj {
    [key:string]:any
  }
  const formRef = ref<FormInstance>()
  const formData = reactive<obj>({})
  ${L}
  const rules = reactive<obj>({${$}})
  const getFormData = () => formData
  ${r}
  const resetForm = () => {
    if (!formRef.value) return
    formRef.value.resetFields()
  }
  defineExpose({ getFormData, resetForm })
  <\/script>
  <style scoped lang='scss'>
  </style>
  `},createFormSfcV2=g=>{let n="",r="",$="",L="";const V=re=>{re.forEach(ae=>{n+=formComp[ae.comp](ae)})},oe=re=>{re instanceof Array&&re.forEach(ae=>{ae.type!="container"?(ae.comp!="button"&&($+=formComp.createRulesV2(ae),L+=formComp.createRuleFuncV2(ae)),["select","checkbox"].includes(ae.comp)?r+=formComp.createOptionsV2(ae):["button"].includes(ae.comp)&&(L+=formComp.createFunctionV2(ae))):ae.comp=="grid"?ae.prop.cols.forEach(le=>{oe(le.list)}):ae.comp=="card"?oe(ae.prop.card.list):ae.comp=="collapse"&&oe(ae.prop.collapse.list)})};return oe(g.list),V(g.list),`
  <template>
    <el-form
      size="${g.formProp.size}"
      label-position="${g.formProp.labelPosition}"
      label-width="${g.formProp.labelWidth}"
      ref="formRef"
      :model="formData"
      :rules="rules"
    >
      ${n}
    </el-form>
  </template>

  <script>
  export default {
		      
    components: {},
    data() {
      return {
       formData:{},
       ${$?`rules:{${$}},`:"rules:{},"}
       ${r?`${r}`:""}
      }
    },
    computed: {},
    watch: {},
    methods: {
      getFormData(){
        return this.formData
      },
      resetForm(){
        if(!this.$refs.formRef) return 
        this.$refs.formRef.resetFields()
      },
      ${L?`${L}`:""}
    },
    created() {
    },
    mounted() {
    },
  }
  <\/script>
  <style scoped lang='scss'>
  </style>
  `},downloadFile=(g,n,r="json")=>{const $=document.createElement("a"),L=new Blob([g]);n=`${decodeURI(encodeURI(n||v4()))}.${r}`,$.href=URL.createObjectURL(L),$.setAttribute("download",n),document.body.appendChild($),$.click(),document.body.removeChild($)},transformCssVar=g=>{const n={};function r($,L=""){for(const V in $){const oe=L?`${L}${getUpperCase(V)}`:`--${V}`;typeof $[V]=="object"&&!Array.isArray($[V])?r($[V],oe):n[oe]=$[V]}}return r(g),n},__default__$b=defineComponent({name:"EvIcon"}),_sfc_main$b=defineComponent({...__default__$b,props:{icon:{default:""},styleConfig:{default:()=>({})}},setup(g){const n=g,{icon:r}=toRefs(n);return($,L)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["ev-icon iconfont",`icon-${unref(r)}`]),style:normalizeStyle$1(unref(transformCssVar)(g.styleConfig))},null,6))}}),EvIcon_vue_vue_type_style_index_0_scoped_91b9a374_lang="",EvIcon=_export_sfc$2(_sfc_main$b,[["__scopeId","data-v-91b9a374"]]),__vite_glob_1_3=Object.freeze(Object.defineProperty({__proto__:null,default:EvIcon},Symbol.toStringTag,{value:"Module"})),_hoisted_1$4={class:"ev-iframe"},_hoisted_2$1=["src"],__default__$a=defineComponent({name:"EvIframe"}),_sfc_main$a=defineComponent({...__default__$a,props:{url:{default:""},preview:{type:Boolean,default:!1}},setup(g){const n=g,{url:r,preview:$}=toRefs(n);return(L,V)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("iframe",{src:unref(r),frameborder:"0",class:"iframe",style:normalizeStyle$1({zIndex:unref($)?0:-1})},null,12,_hoisted_2$1)]))}}),EvIframe_vue_vue_type_style_index_0_scoped_29ddd2a6_lang="",EvIframe=_export_sfc$2(_sfc_main$a,[["__scopeId","data-v-29ddd2a6"]]),__vite_glob_1_4=Object.freeze(Object.defineProperty({__proto__:null,default:EvIframe},Symbol.toStringTag,{value:"Module"})),__default__$9=defineComponent({name:"EvImg"}),_sfc_main$9=defineComponent({...__default__$9,props:{src:{default:""},fit:{default:""},alt:{default:""}},setup(g){const n=g;useCssVars(V=>({"1f34475a":unref($)}));const{src:r,fit:$,alt:L}=toRefs(n);return(V,oe)=>(openBlock(),createElementBlock("img",mergeProps(n,{class:"ev-img"}),null,16))}}),EvImg_vue_vue_type_style_index_0_scoped_23ff8d50_lang="",EvImg=_export_sfc$2(_sfc_main$9,[["__scopeId","data-v-23ff8d50"]]),__vite_glob_1_5=Object.freeze(Object.defineProperty({__proto__:null,default:EvImg},Symbol.toStringTag,{value:"Module"})),table="",tableColumn="",_hoisted_1$3=["onClick"],__default__$8=defineComponent({name:"EvOptTable"}),_sfc_main$8=defineComponent({...__default__$8,props:{data:{type:Array,required:!0},columnConfig:{type:Array,required:!0}},emits:["update:data"],setup(g,{emit:n}){const r=g,$=computed({get(){return r.data},set(re){n("update:data",re)}}),L=ref(v4()),V=()=>{const re=cloneDeep($.value[0]);Object.keys(re).forEach(ae=>{re[ae]=""}),re.key=v4(),$.value.push(re),L.value=v4()},oe=re=>{const ae=$.value.findIndex(le=>le.key==re.key);$.value.splice(ae,1),L.value=v4()};return(re,ae)=>{const le=ElInput,ue=ElTableColumn,de=ElTable;return openBlock(),createBlock(de,{key:L.value,data:unref($)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.columnConfig,pe=>(openBlock(),createBlock(ue,{prop:pe.field,label:pe.label},{default:withCtx(he=>[createVNode$1(le,{modelValue:he.row[pe.field],"onUpdate:modelValue":_e=>he.row[pe.field]=_e},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","label"]))),256)),createVNode$1(ue,{label:"\u64CD\u4F5C"},{default:withCtx(pe=>[createBaseVNode("span",{class:"opt",onClick:ae[0]||(ae[0]=he=>V())}," + "),createBaseVNode("span",{class:"opt",onClick:he=>oe(pe.row)}," - ",8,_hoisted_1$3)]),_:1})]),_:1},8,["data"])}}}),__vite_glob_1_8=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$8},Symbol.toStringTag,{value:"Module"})),pagination="",__default__$7=defineComponent({name:"EvPager"}),_sfc_main$7=defineComponent({...__default__$7,props:{pagConfig:{type:Object,default:()=>({}),required:!0}},emits:["onPageChange"],setup(g,{emit:n}){const r=()=>{n("onPageChange")};return($,L)=>{const V=ElPagination;return openBlock(),createBlock(V,mergeProps($.$attrs,{"current-page":g.pagConfig.pageNumber,"onUpdate:currentPage":L[0]||(L[0]=oe=>g.pagConfig.pageNumber=oe),"page-size":g.pagConfig.pageSize,"onUpdate:pageSize":L[1]||(L[1]=oe=>g.pagConfig.pageSize=oe),"page-sizes":g.pagConfig.pageSizes||[10,20,30],total:g.pagConfig.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:r,onCurrentChange:r}),null,16,["current-page","page-size","page-sizes","total"])}}}),__vite_glob_1_9=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$7},Symbol.toStringTag,{value:"Module"})),radioGroup="",radio="";function bind(g,n){return function(){return g.apply(n,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(g=>n=>{const r=toString.call(n);return g[r]||(g[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=g=>(g=g.toLowerCase(),n=>kindOf(n)===g),typeOfTest=g=>n=>typeof n===g,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(g){return g!==null&&!isUndefined(g)&&g.constructor!==null&&!isUndefined(g.constructor)&&isFunction(g.constructor.isBuffer)&&g.constructor.isBuffer(g)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(g){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(g):n=g&&g.buffer&&isArrayBuffer(g.buffer),n}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=g=>g!==null&&typeof g=="object",isBoolean=g=>g===!0||g===!1,isPlainObject=g=>{if(kindOf(g)!=="object")return!1;const n=getPrototypeOf(g);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in g)&&!(Symbol.iterator in g)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=g=>isObject(g)&&isFunction(g.pipe),isFormData=g=>{const n="[object FormData]";return g&&(typeof FormData=="function"&&g instanceof FormData||toString.call(g)===n||isFunction(g.toString)&&g.toString()===n)},isURLSearchParams=kindOfTest("URLSearchParams"),trim=g=>g.trim?g.trim():g.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(g,n,{allOwnKeys:r=!1}={}){if(g===null||typeof g>"u")return;let $,L;if(typeof g!="object"&&(g=[g]),isArray(g))for($=0,L=g.length;$<L;$++)n.call(null,g[$],$,g);else{const V=r?Object.getOwnPropertyNames(g):Object.keys(g),oe=V.length;let re;for($=0;$<oe;$++)re=V[$],n.call(null,g[re],re,g)}}function findKey(g,n){n=n.toLowerCase();const r=Object.keys(g);let $=r.length,L;for(;$-- >0;)if(L=r[$],n===L.toLowerCase())return L;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=g=>!isUndefined(g)&&g!==_global;function merge(){const{caseless:g}=isContextDefined(this)&&this||{},n={},r=($,L)=>{const V=g&&findKey(n,L)||L;isPlainObject(n[V])&&isPlainObject($)?n[V]=merge(n[V],$):isPlainObject($)?n[V]=merge({},$):isArray($)?n[V]=$.slice():n[V]=$};for(let $=0,L=arguments.length;$<L;$++)arguments[$]&&forEach(arguments[$],r);return n}const extend=(g,n,r,{allOwnKeys:$}={})=>(forEach(n,(L,V)=>{r&&isFunction(L)?g[V]=bind(L,r):g[V]=L},{allOwnKeys:$}),g),stripBOM=g=>(g.charCodeAt(0)===65279&&(g=g.slice(1)),g),inherits=(g,n,r,$)=>{g.prototype=Object.create(n.prototype,$),g.prototype.constructor=g,Object.defineProperty(g,"super",{value:n.prototype}),r&&Object.assign(g.prototype,r)},toFlatObject=(g,n,r,$)=>{let L,V,oe;const re={};if(n=n||{},g==null)return n;do{for(L=Object.getOwnPropertyNames(g),V=L.length;V-- >0;)oe=L[V],(!$||$(oe,g,n))&&!re[oe]&&(n[oe]=g[oe],re[oe]=!0);g=r!==!1&&getPrototypeOf(g)}while(g&&(!r||r(g,n))&&g!==Object.prototype);return n},endsWith=(g,n,r)=>{g=String(g),(r===void 0||r>g.length)&&(r=g.length),r-=n.length;const $=g.indexOf(n,r);return $!==-1&&$===r},toArray=g=>{if(!g)return null;if(isArray(g))return g;let n=g.length;if(!isNumber(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=g[n];return r},isTypedArray=(g=>n=>g&&n instanceof g)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(g,n)=>{const r=(g&&g[Symbol.iterator]).call(g);let $;for(;($=r.next())&&!$.done;){const L=$.value;n.call(g,L[0],L[1])}},matchAll=(g,n)=>{let r;const $=[];for(;(r=g.exec(n))!==null;)$.push(r);return $},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=g=>g.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,$){return r.toUpperCase()+$}),hasOwnProperty=(({hasOwnProperty:g})=>(n,r)=>g.call(n,r))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(g,n)=>{const r=Object.getOwnPropertyDescriptors(g),$={};forEach(r,(L,V)=>{n(L,V,g)!==!1&&($[V]=L)}),Object.defineProperties(g,$)},freezeMethods=g=>{reduceDescriptors(g,(n,r)=>{if(isFunction(g)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const $=g[r];if(isFunction($)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet=(g,n)=>{const r={},$=L=>{L.forEach(V=>{r[V]=!0})};return isArray(g)?$(g):$(String(g).split(n)),r},noop=()=>{},toFiniteNumber=(g,n)=>(g=+g,Number.isFinite(g)?g:n),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(g=16,n=ALPHABET.ALPHA_DIGIT)=>{let r="";const{length:$}=n;for(;g--;)r+=n[Math.random()*$|0];return r};function isSpecCompliantForm(g){return!!(g&&isFunction(g.append)&&g[Symbol.toStringTag]==="FormData"&&g[Symbol.iterator])}const toJSONObject=g=>{const n=new Array(10),r=($,L)=>{if(isObject($)){if(n.indexOf($)>=0)return;if(!("toJSON"in $)){n[L]=$;const V=isArray($)?[]:{};return forEach($,(oe,re)=>{const ae=r(oe,L+1);!isUndefined(ae)&&(V[re]=ae)}),n[L]=void 0,V}}return $};return r(g,0)},utils={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject};function AxiosError(g,n,r,$,L){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=g,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),$&&(this.request=$),L&&(this.response=L)}utils.inherits(AxiosError,Error,{toJSON:function g(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(g=>{descriptors[g]={value:g}}),Object.defineProperties(AxiosError,descriptors),Object.defineProperty(prototype$1,"isAxiosError",{value:!0}),AxiosError.from=(g,n,r,$,L,V)=>{const oe=Object.create(prototype$1);return utils.toFlatObject(g,oe,function(re){return re!==Error.prototype},re=>re!=="isAxiosError"),AxiosError.call(oe,g.message,n,r,$,L),oe.cause=g,oe.name=g.name,V&&Object.assign(oe,V),oe};const httpAdapter=null;function isVisitable(g){return utils.isPlainObject(g)||utils.isArray(g)}function removeBrackets(g){return utils.endsWith(g,"[]")?g.slice(0,-2):g}function renderKey(g,n,r){return g?g.concat(n).map(function($,L){return $=removeBrackets($),!r&&L?"["+$+"]":$}).join(r?".":""):n}function isFlatArray(g){return utils.isArray(g)&&!g.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function g(n){return/^is[A-Z]/.test(n)});function toFormData(g,n,r){if(!utils.isObject(g))throw new TypeError("target must be an object");n=n||new FormData,r=utils.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(he,_e){return!utils.isUndefined(_e[he])});const $=r.metaTokens,L=r.visitor||le,V=r.dots,oe=r.indexes,re=(r.Blob||typeof Blob<"u"&&Blob)&&utils.isSpecCompliantForm(n);if(!utils.isFunction(L))throw new TypeError("visitor must be a function");function ae(he){if(he===null)return"";if(utils.isDate(he))return he.toISOString();if(!re&&utils.isBlob(he))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(he)||utils.isTypedArray(he)?re&&typeof Blob=="function"?new Blob([he]):Buffer.from(he):he}function le(he,_e,Oe){let xe=he;if(he&&!Oe&&typeof he=="object"){if(utils.endsWith(_e,"{}"))_e=$?_e:_e.slice(0,-2),he=JSON.stringify(he);else if(utils.isArray(he)&&isFlatArray(he)||(utils.isFileList(he)||utils.endsWith(_e,"[]"))&&(xe=utils.toArray(he)))return _e=removeBrackets(_e),xe.forEach(function($e,Ie){!(utils.isUndefined($e)||$e===null)&&n.append(oe===!0?renderKey([_e],Ie,V):oe===null?_e:_e+"[]",ae($e))}),!1}return isVisitable(he)?!0:(n.append(renderKey(Oe,_e,V),ae(he)),!1)}const ue=[],de=Object.assign(predicates,{defaultVisitor:le,convertValue:ae,isVisitable});function pe(he,_e){if(!utils.isUndefined(he)){if(ue.indexOf(he)!==-1)throw Error("Circular reference detected in "+_e.join("."));ue.push(he),utils.forEach(he,function(Oe,xe){(!(utils.isUndefined(Oe)||Oe===null)&&L.call(n,Oe,utils.isString(xe)?xe.trim():xe,_e,de))===!0&&pe(Oe,_e?_e.concat(xe):[xe])}),ue.pop()}}if(!utils.isObject(g))throw new TypeError("data must be an object");return pe(g),n}function encode$1(g){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(g).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function AxiosURLSearchParams(g,n){this._pairs=[],g&&toFormData(g,this,n)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function g(n,r){this._pairs.push([n,r])},prototype.toString=function g(n){const r=n?function($){return n.call(this,$,encode$1)}:encode$1;return this._pairs.map(function($){return r($[0])+"="+r($[1])},"").join("&")};function encode(g){return encodeURIComponent(g).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(g,n,r){if(!n)return g;const $=r&&r.encode||encode,L=r&&r.serialize;let V;if(L?V=L(n,r):V=utils.isURLSearchParams(n)?n.toString():new AxiosURLSearchParams(n,r).toString($),V){const oe=g.indexOf("#");oe!==-1&&(g=g.slice(0,oe)),g+=(g.indexOf("?")===-1?"?":"&")+V}return g}class InterceptorManager{constructor(){this.handlers=[]}use(n,r,$){return this.handlers.push({fulfilled:n,rejected:r,synchronous:$?$.synchronous:!1,runWhen:$?$.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){utils.forEach(this.handlers,function(r){r!==null&&n(r)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,isStandardBrowserEnv=(()=>{let g;return typeof navigator<"u"&&((g=navigator.product)==="ReactNative"||g==="NativeScript"||g==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(g,n){return toFormData(g,new platform.classes.URLSearchParams,Object.assign({visitor:function(r,$,L,V){return platform.isNode&&utils.isBuffer(r)?(this.append($,r.toString("base64")),!1):V.defaultVisitor.apply(this,arguments)}},n))}function parsePropPath(g){return utils.matchAll(/\w+|\[(\w*)]/g,g).map(n=>n[0]==="[]"?"":n[1]||n[0])}function arrayToObject(g){const n={},r=Object.keys(g);let $;const L=r.length;let V;for($=0;$<L;$++)V=r[$],n[V]=g[V];return n}function formDataToJSON(g){function n(r,$,L,V){let oe=r[V++];const re=Number.isFinite(+oe),ae=V>=r.length;return oe=!oe&&utils.isArray(L)?L.length:oe,ae?(utils.hasOwnProp(L,oe)?L[oe]=[L[oe],$]:L[oe]=$,!re):((!L[oe]||!utils.isObject(L[oe]))&&(L[oe]=[]),n(r,$,L[oe],V)&&utils.isArray(L[oe])&&(L[oe]=arrayToObject(L[oe])),!re)}if(utils.isFormData(g)&&utils.isFunction(g.entries)){const r={};return utils.forEachEntry(g,($,L)=>{n(parsePropPath($),L,r,0)}),r}return null}const DEFAULT_CONTENT_TYPE={"Content-Type":void 0};function stringifySafely(g,n,r){if(utils.isString(g))try{return(n||JSON.parse)(g),utils.trim(g)}catch($){if($.name!=="SyntaxError")throw $}return(r||JSON.stringify)(g)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function g(n,r){const $=r.getContentType()||"",L=$.indexOf("application/json")>-1,V=utils.isObject(n);if(V&&utils.isHTMLForm(n)&&(n=new FormData(n)),utils.isFormData(n))return L&&L?JSON.stringify(formDataToJSON(n)):n;if(utils.isArrayBuffer(n)||utils.isBuffer(n)||utils.isStream(n)||utils.isFile(n)||utils.isBlob(n))return n;if(utils.isArrayBufferView(n))return n.buffer;if(utils.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let oe;if(V){if($.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(n,this.formSerializer).toString();if((oe=utils.isFileList(n))||$.indexOf("multipart/form-data")>-1){const re=this.env&&this.env.FormData;return toFormData(oe?{"files[]":n}:n,re&&new re,this.formSerializer)}}return V||L?(r.setContentType("application/json",!1),stringifySafely(n)):n}],transformResponse:[function g(n){const r=this.transitional||defaults.transitional,$=r&&r.forcedJSONParsing,L=this.responseType==="json";if(n&&utils.isString(n)&&($&&!this.responseType||L)){const V=!(r&&r.silentJSONParsing)&&L;try{return JSON.parse(n)}catch(oe){if(V)throw oe.name==="SyntaxError"?AxiosError.from(oe,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):oe}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function g(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],function g(n){defaults.headers[n]={}}),utils.forEach(["post","put","patch"],function g(n){defaults.headers[n]=utils.merge(DEFAULT_CONTENT_TYPE)});const defaults$1=defaults,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=g=>{const n={};let r,$,L;return g&&g.split(`
`).forEach(function(V){L=V.indexOf(":"),r=V.substring(0,L).trim().toLowerCase(),$=V.substring(L+1).trim(),!(!r||n[r]&&ignoreDuplicateOf[r])&&(r==="set-cookie"?n[r]?n[r].push($):n[r]=[$]:n[r]=n[r]?n[r]+", "+$:$)}),n},$internals=Symbol("internals");function normalizeHeader(g){return g&&String(g).trim().toLowerCase()}function normalizeValue(g){return g===!1||g==null?g:utils.isArray(g)?g.map(normalizeValue):String(g)}function parseTokens(g){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let $;for(;$=r.exec(g);)n[$[1]]=$[2];return n}const isValidHeaderName=g=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(g.trim());function matchHeaderValue(g,n,r,$,L){if(utils.isFunction($))return $.call(this,n,r);if(L&&(n=r),!!utils.isString(n)){if(utils.isString($))return n.indexOf($)!==-1;if(utils.isRegExp($))return $.test(n)}}function formatHeader(g){return g.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,$)=>r.toUpperCase()+$)}function buildAccessors(g,n){const r=utils.toCamelCase(" "+n);["get","set","has"].forEach($=>{Object.defineProperty(g,$+r,{value:function(L,V,oe){return this[$].call(this,n,L,V,oe)},configurable:!0})})}class AxiosHeaders{constructor(n){n&&this.set(n)}set(n,r,$){const L=this;function V(re,ae,le){const ue=normalizeHeader(ae);if(!ue)throw new Error("header name must be a non-empty string");const de=utils.findKey(L,ue);(!de||L[de]===void 0||le===!0||le===void 0&&L[de]!==!1)&&(L[de||ae]=normalizeValue(re))}const oe=(re,ae)=>utils.forEach(re,(le,ue)=>V(le,ue,ae));return utils.isPlainObject(n)||n instanceof this.constructor?oe(n,r):utils.isString(n)&&(n=n.trim())&&!isValidHeaderName(n)?oe(parseHeaders(n),r):n!=null&&V(r,n,$),this}get(n,r){if(n=normalizeHeader(n),n){const $=utils.findKey(this,n);if($){const L=this[$];if(!r)return L;if(r===!0)return parseTokens(L);if(utils.isFunction(r))return r.call(this,L,$);if(utils.isRegExp(r))return r.exec(L);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=normalizeHeader(n),n){const $=utils.findKey(this,n);return!!($&&this[$]!==void 0&&(!r||matchHeaderValue(this,this[$],$,r)))}return!1}delete(n,r){const $=this;let L=!1;function V(oe){if(oe=normalizeHeader(oe),oe){const re=utils.findKey($,oe);re&&(!r||matchHeaderValue($,$[re],re,r))&&(delete $[re],L=!0)}}return utils.isArray(n)?n.forEach(V):V(n),L}clear(n){const r=Object.keys(this);let $=r.length,L=!1;for(;$--;){const V=r[$];(!n||matchHeaderValue(this,this[V],V,n,!0))&&(delete this[V],L=!0)}return L}normalize(n){const r=this,$={};return utils.forEach(this,(L,V)=>{const oe=utils.findKey($,V);if(oe){r[oe]=normalizeValue(L),delete r[V];return}const re=n?formatHeader(V):String(V).trim();re!==V&&delete r[V],r[re]=normalizeValue(L),$[re]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return utils.forEach(this,($,L)=>{$!=null&&$!==!1&&(r[L]=n&&utils.isArray($)?$.join(", "):$)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const $=new this(n);return r.forEach(L=>$.set(L)),$}static accessor(n){const r=(this[$internals]=this[$internals]={accessors:{}}).accessors,$=this.prototype;function L(V){const oe=normalizeHeader(V);r[oe]||(buildAccessors($,V),r[oe]=!0)}return utils.isArray(n)?n.forEach(L):L(n),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),utils.freezeMethods(AxiosHeaders.prototype),utils.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(g,n){const r=this||defaults$1,$=n||r,L=AxiosHeaders$1.from($.headers);let V=$.data;return utils.forEach(g,function(oe){V=oe.call(r,V,L.normalize(),n?n.status:void 0)}),L.normalize(),V}function isCancel(g){return!!(g&&g.__CANCEL__)}function CanceledError(g,n,r){AxiosError.call(this,g!=null?g:"canceled",AxiosError.ERR_CANCELED,n,r),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(g,n,r){const $=r.config.validateStatus;!r.status||!$||$(r.status)?g(r):n(new AxiosError("Request failed with status code "+r.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const cookies=platform.isStandardBrowserEnv?function g(){return{write:function(n,r,$,L,V,oe){const re=[];re.push(n+"="+encodeURIComponent(r)),utils.isNumber($)&&re.push("expires="+new Date($).toGMTString()),utils.isString(L)&&re.push("path="+L),utils.isString(V)&&re.push("domain="+V),oe===!0&&re.push("secure"),document.cookie=re.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function g(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(g){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(g)}function combineURLs(g,n){return n?g.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):g}function buildFullPath(g,n){return g&&!isAbsoluteURL(n)?combineURLs(g,n):n}const isURLSameOrigin=platform.isStandardBrowserEnv?function g(){const n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let $;function L(V){let oe=V;return n&&(r.setAttribute("href",oe),oe=r.href),r.setAttribute("href",oe),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return $=L(window.location.href),function(V){const oe=utils.isString(V)?L(V):V;return oe.protocol===$.protocol&&oe.host===$.host}}():function g(){return function(){return!0}}();function parseProtocol(g){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(g);return n&&n[1]||""}function speedometer(g,n){g=g||10;const r=new Array(g),$=new Array(g);let L=0,V=0,oe;return n=n!==void 0?n:1e3,function(re){const ae=Date.now(),le=$[V];oe||(oe=ae),r[L]=re,$[L]=ae;let ue=V,de=0;for(;ue!==L;)de+=r[ue++],ue=ue%g;if(L=(L+1)%g,L===V&&(V=(V+1)%g),ae-oe<n)return;const pe=le&&ae-le;return pe?Math.round(de*1e3/pe):void 0}}function progressEventReducer(g,n){let r=0;const $=speedometer(50,250);return L=>{const V=L.loaded,oe=L.lengthComputable?L.total:void 0,re=V-r,ae=$(re),le=V<=oe;r=V;const ue={loaded:V,total:oe,progress:oe?V/oe:void 0,bytes:re,rate:ae||void 0,estimated:ae&&oe&&le?(oe-V)/ae:void 0,event:L};ue[n?"download":"upload"]=!0,g(ue)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(g){return new Promise(function(n,r){let $=g.data;const L=AxiosHeaders$1.from(g.headers).normalize(),V=g.responseType;let oe;function re(){g.cancelToken&&g.cancelToken.unsubscribe(oe),g.signal&&g.signal.removeEventListener("abort",oe)}utils.isFormData($)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv)&&L.setContentType(!1);let ae=new XMLHttpRequest;if(g.auth){const pe=g.auth.username||"",he=g.auth.password?unescape(encodeURIComponent(g.auth.password)):"";L.set("Authorization","Basic "+btoa(pe+":"+he))}const le=buildFullPath(g.baseURL,g.url);ae.open(g.method.toUpperCase(),buildURL(le,g.params,g.paramsSerializer),!0),ae.timeout=g.timeout;function ue(){if(!ae)return;const pe=AxiosHeaders$1.from("getAllResponseHeaders"in ae&&ae.getAllResponseHeaders()),he={data:!V||V==="text"||V==="json"?ae.responseText:ae.response,status:ae.status,statusText:ae.statusText,headers:pe,config:g,request:ae};settle(function(_e){n(_e),re()},function(_e){r(_e),re()},he),ae=null}if("onloadend"in ae?ae.onloadend=ue:ae.onreadystatechange=function(){!ae||ae.readyState!==4||ae.status===0&&!(ae.responseURL&&ae.responseURL.indexOf("file:")===0)||setTimeout(ue)},ae.onabort=function(){!ae||(r(new AxiosError("Request aborted",AxiosError.ECONNABORTED,g,ae)),ae=null)},ae.onerror=function(){r(new AxiosError("Network Error",AxiosError.ERR_NETWORK,g,ae)),ae=null},ae.ontimeout=function(){let pe=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const he=g.transitional||transitionalDefaults;g.timeoutErrorMessage&&(pe=g.timeoutErrorMessage),r(new AxiosError(pe,he.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,g,ae)),ae=null},platform.isStandardBrowserEnv){const pe=(g.withCredentials||isURLSameOrigin(le))&&g.xsrfCookieName&&cookies.read(g.xsrfCookieName);pe&&L.set(g.xsrfHeaderName,pe)}$===void 0&&L.setContentType(null),"setRequestHeader"in ae&&utils.forEach(L.toJSON(),function(pe,he){ae.setRequestHeader(he,pe)}),utils.isUndefined(g.withCredentials)||(ae.withCredentials=!!g.withCredentials),V&&V!=="json"&&(ae.responseType=g.responseType),typeof g.onDownloadProgress=="function"&&ae.addEventListener("progress",progressEventReducer(g.onDownloadProgress,!0)),typeof g.onUploadProgress=="function"&&ae.upload&&ae.upload.addEventListener("progress",progressEventReducer(g.onUploadProgress)),(g.cancelToken||g.signal)&&(oe=pe=>{!ae||(r(!pe||pe.type?new CanceledError(null,g,ae):pe),ae.abort(),ae=null)},g.cancelToken&&g.cancelToken.subscribe(oe),g.signal&&(g.signal.aborted?oe():g.signal.addEventListener("abort",oe)));const de=parseProtocol(le);if(de&&platform.protocols.indexOf(de)===-1){r(new AxiosError("Unsupported protocol "+de+":",AxiosError.ERR_BAD_REQUEST,g));return}ae.send($||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(g,n)=>{if(g){try{Object.defineProperty(g,"name",{value:n})}catch{}Object.defineProperty(g,"adapterName",{value:n})}});const adapters={getAdapter:g=>{g=utils.isArray(g)?g:[g];const{length:n}=g;let r,$;for(let L=0;L<n&&(r=g[L],!($=utils.isString(r)?knownAdapters[r.toLowerCase()]:r));L++);if(!$)throw $===!1?new AxiosError(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(utils.hasOwnProp(knownAdapters,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!utils.isFunction($))throw new TypeError("adapter is not a function");return $},adapters:knownAdapters};function throwIfCancellationRequested(g){if(g.cancelToken&&g.cancelToken.throwIfRequested(),g.signal&&g.signal.aborted)throw new CanceledError(null,g)}function dispatchRequest(g){return throwIfCancellationRequested(g),g.headers=AxiosHeaders$1.from(g.headers),g.data=transformData.call(g,g.transformRequest),["post","put","patch"].indexOf(g.method)!==-1&&g.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(g.adapter||defaults$1.adapter)(g).then(function(n){return throwIfCancellationRequested(g),n.data=transformData.call(g,g.transformResponse,n),n.headers=AxiosHeaders$1.from(n.headers),n},function(n){return isCancel(n)||(throwIfCancellationRequested(g),n&&n.response&&(n.response.data=transformData.call(g,g.transformResponse,n.response),n.response.headers=AxiosHeaders$1.from(n.response.headers))),Promise.reject(n)})}const headersToObject=g=>g instanceof AxiosHeaders$1?g.toJSON():g;function mergeConfig(g,n){n=n||{};const r={};function $(le,ue,de){return utils.isPlainObject(le)&&utils.isPlainObject(ue)?utils.merge.call({caseless:de},le,ue):utils.isPlainObject(ue)?utils.merge({},ue):utils.isArray(ue)?ue.slice():ue}function L(le,ue,de){if(utils.isUndefined(ue)){if(!utils.isUndefined(le))return $(void 0,le,de)}else return $(le,ue,de)}function V(le,ue){if(!utils.isUndefined(ue))return $(void 0,ue)}function oe(le,ue){if(utils.isUndefined(ue)){if(!utils.isUndefined(le))return $(void 0,le)}else return $(void 0,ue)}function re(le,ue,de){if(de in n)return $(le,ue);if(de in g)return $(void 0,le)}const ae={url:V,method:V,data:V,baseURL:oe,transformRequest:oe,transformResponse:oe,paramsSerializer:oe,timeout:oe,timeoutMessage:oe,withCredentials:oe,adapter:oe,responseType:oe,xsrfCookieName:oe,xsrfHeaderName:oe,onUploadProgress:oe,onDownloadProgress:oe,decompress:oe,maxContentLength:oe,maxBodyLength:oe,beforeRedirect:oe,transport:oe,httpAgent:oe,httpsAgent:oe,cancelToken:oe,socketPath:oe,responseEncoding:oe,validateStatus:re,headers:(le,ue)=>L(headersToObject(le),headersToObject(ue),!0)};return utils.forEach(Object.keys(g).concat(Object.keys(n)),function(le){const ue=ae[le]||L,de=ue(g[le],n[le],le);utils.isUndefined(de)&&ue!==re||(r[le]=de)}),r}const VERSION="1.3.5",validators$1={};["object","boolean","number","function","string","symbol"].forEach((g,n)=>{validators$1[g]=function(r){return typeof r===g||"a"+(n<1?"n ":" ")+g}});const deprecatedWarnings={};validators$1.transitional=function g(n,r,$){function L(V,oe){return"[Axios v"+VERSION+"] Transitional option '"+V+"'"+oe+($?". "+$:"")}return(V,oe,re)=>{if(n===!1)throw new AxiosError(L(oe," has been removed"+(r?" in "+r:"")),AxiosError.ERR_DEPRECATED);return r&&!deprecatedWarnings[oe]&&(deprecatedWarnings[oe]=!0,console.warn(L(oe," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(V,oe,re):!0}};function assertOptions(g,n,r){if(typeof g!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const $=Object.keys(g);let L=$.length;for(;L-- >0;){const V=$[L],oe=n[V];if(oe){const re=g[V],ae=re===void 0||oe(re,V,g);if(ae!==!0)throw new AxiosError("option "+V+" must be "+ae,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError("Unknown option "+V,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(n){this.defaults=n,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=mergeConfig(this.defaults,r);const{transitional:$,paramsSerializer:L,headers:V}=r;$!==void 0&&validator.assertOptions($,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),L!=null&&(utils.isFunction(L)?r.paramsSerializer={serialize:L}:validator.assertOptions(L,{encode:validators.function,serialize:validators.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let oe;oe=V&&utils.merge(V.common,V[r.method]),oe&&utils.forEach(["delete","get","head","post","put","patch","common"],_e=>{delete V[_e]}),r.headers=AxiosHeaders$1.concat(oe,V);const re=[];let ae=!0;this.interceptors.request.forEach(function(_e){typeof _e.runWhen=="function"&&_e.runWhen(r)===!1||(ae=ae&&_e.synchronous,re.unshift(_e.fulfilled,_e.rejected))});const le=[];this.interceptors.response.forEach(function(_e){le.push(_e.fulfilled,_e.rejected)});let ue,de=0,pe;if(!ae){const _e=[dispatchRequest.bind(this),void 0];for(_e.unshift.apply(_e,re),_e.push.apply(_e,le),pe=_e.length,ue=Promise.resolve(r);de<pe;)ue=ue.then(_e[de++],_e[de++]);return ue}pe=re.length;let he=r;for(de=0;de<pe;){const _e=re[de++],Oe=re[de++];try{he=_e(he)}catch(xe){Oe.call(this,xe);break}}try{ue=dispatchRequest.call(this,he)}catch(_e){return Promise.reject(_e)}for(de=0,pe=le.length;de<pe;)ue=ue.then(le[de++],le[de++]);return ue}getUri(n){n=mergeConfig(this.defaults,n);const r=buildFullPath(n.baseURL,n.url);return buildURL(r,n.params,n.paramsSerializer)}}utils.forEach(["delete","get","head","options"],function g(n){Axios.prototype[n]=function(r,$){return this.request(mergeConfig($||{},{method:n,url:r,data:($||{}).data}))}}),utils.forEach(["post","put","patch"],function g(n){function r($){return function(L,V,oe){return this.request(mergeConfig(oe||{},{method:n,headers:$?{"Content-Type":"multipart/form-data"}:{},url:L,data:V}))}}Axios.prototype[n]=r(),Axios.prototype[n+"Form"]=r(!0)});const Axios$1=Axios;class CancelToken{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(L){r=L});const $=this;this.promise.then(L=>{if(!$._listeners)return;let V=$._listeners.length;for(;V-- >0;)$._listeners[V](L);$._listeners=null}),this.promise.then=L=>{let V;const oe=new Promise(re=>{$.subscribe(re),V=re}).then(L);return oe.cancel=function(){$.unsubscribe(V)},oe},n(function(L,V,oe){$.reason||($.reason=new CanceledError(L,V,oe),r($.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}static source(){let n;return{token:new CancelToken(function(r){n=r}),cancel:n}}}const CancelToken$1=CancelToken;function spread(g){return function(n){return g.apply(null,n)}}function isAxiosError(g){return utils.isObject(g)&&g.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([g,n])=>{HttpStatusCode[n]=g});const HttpStatusCode$1=HttpStatusCode;function createInstance(g){const n=new Axios$1(g),r=bind(Axios$1.prototype.request,n);return utils.extend(r,Axios$1.prototype,n,{allOwnKeys:!0}),utils.extend(r,n,null,{allOwnKeys:!0}),r.create=function($){return createInstance(mergeConfig(g,$))},r}const axios=createInstance(defaults$1);axios.Axios=Axios$1,axios.CanceledError=CanceledError,axios.CancelToken=CancelToken$1,axios.isCancel=isCancel,axios.VERSION=VERSION,axios.toFormData=toFormData,axios.AxiosError=AxiosError,axios.Cancel=axios.CanceledError,axios.all=function g(n){return Promise.all(n)},axios.spread=spread,axios.isAxiosError=isAxiosError,axios.mergeConfig=mergeConfig,axios.AxiosHeaders=AxiosHeaders$1,axios.formToJSON=g=>formDataToJSON(utils.isHTMLForm(g)?new FormData(g):g),axios.HttpStatusCode=HttpStatusCode$1,axios.default=axios;let _hoisted_1$2,__default__$6,_sfc_main$6,ReqTable_vue_vue_type_style_index_0_scoped_b4fdbe51_lang,ReqTable,__default__$5,_sfc_main$5,__vite_glob_1_10,pool,__default__$4,_sfc_main$4,__vite_glob_1_11,__default__$3,_sfc_main$3,EvTable_vue_vue_type_style_index_0_scoped_24785849_lang,__vite_glob_1_12,__default__$2,_sfc_main$2,EvText_vue_vue_type_style_index_0_scoped_81cfc156_lang,EvText,__vite_glob_1_13,_hoisted_1$1,_hoisted_2,__default__$1,_sfc_main$1,EvTitle_vue_vue_type_style_index_0_scoped_67955e10_lang,__vite_glob_1_14,_hoisted_1,__default__,_sfc_main,EvVar_vue_vue_type_style_index_0_scoped_297b6072_lang,__vite_glob_1_15,install,autoImport,base,elBadge,elMessage,normalize,iconfont,theme,layout,githubMarkdown,style;axios$1=axios,_hoisted_1$2=["onClick"],__default__$6=defineComponent({name:"ReqTable"}),_sfc_main$6=defineComponent({...__default__$6,props:{data:{type:Object,required:!0}},emits:["update:data"],setup(g,{emit:n}){const r=g,{data:$}=toRefs(r),L=ref(v4()),V=computed(()=>{const le=[];Object.keys($.value).length==0&&le.push({key:v4(),paramsKey:"",paramsValue:""});for(const ue in $.value)if(Object.prototype.hasOwnProperty.call($.value,ue)){const de=$.value[ue];le.push({key:v4(),paramsKey:ue,paramsValue:de})}return le}),oe=()=>{const le={};V.value.forEach(ue=>{le[ue.paramsKey]=ue.paramsValue}),n("update:data",le)},re=()=>{V.value.unshift({key:v4(),paramsKey:"",paramsValue:""}),L.value=v4()},ae=le=>{const ue=V.value.findIndex(de=>de.key==le.key);V.value.splice(ue,1),L.value=v4(),oe()};return(le,ue)=>{const de=ElInput,pe=ElTableColumn,he=ElTable;return openBlock(),createBlock(he,{key:L.value,data:unref(V)},{default:withCtx(()=>[createVNode$1(pe,{prop:"paramsKey",label:"\u53C2\u6570\u540D"},{default:withCtx(_e=>[createVNode$1(de,{modelValue:_e.row.paramsKey,"onUpdate:modelValue":Oe=>_e.row.paramsKey=Oe,onChange:oe},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),createVNode$1(pe,{prop:"paramsValue",label:"\u53C2\u6570\u503C"},{default:withCtx(_e=>[createVNode$1(de,{modelValue:_e.row.paramsValue,"onUpdate:modelValue":Oe=>_e.row.paramsValue=Oe,onChange:oe},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),createVNode$1(pe,{label:"\u64CD\u4F5C"},{default:withCtx(_e=>[createBaseVNode("span",{class:"opt",onClick:ue[0]||(ue[0]=Oe=>re())}," + "),createBaseVNode("span",{class:"opt",onClick:Oe=>ae(_e.row)}," - ",8,_hoisted_1$2)]),_:1})]),_:1},8,["data"])}}}),ReqTable_vue_vue_type_style_index_0_scoped_b4fdbe51_lang="",ReqTable=_export_sfc$2(_sfc_main$6,[["__scopeId","data-v-b4fdbe51"]]),__default__$5=defineComponent({name:"EvReq"}),_sfc_main$5=defineComponent({...__default__$5,props:{reqForm:{type:Object,required:!0}},emits:["getReqData"],setup(g,{expose:n,emit:r}){const $=g,{reqForm:L}=toRefs($),V=()=>{axios$1({...L.value}).then(oe=>{r("getReqData",oe)}).catch(oe=>{r("getReqData",oe)})};return n({onRefresh:V}),(oe,re)=>{const ae=ElInput,le=ElFormItem,ue=ElRadio,de=ElRadioGroup,pe=ElButton,he=ElForm;return openBlock(),createBlock(he,{model:unref(L),"label-width":"100px"},{default:withCtx(()=>[createVNode$1(le,{prop:"url",label:"\u8BF7\u6C42\u5730\u5740"},{default:withCtx(()=>[createVNode$1(ae,{modelValue:unref(L).url,"onUpdate:modelValue":re[0]||(re[0]=_e=>unref(L).url=_e)},null,8,["modelValue"])]),_:1}),createVNode$1(le,{prop:"method",label:"\u8BF7\u6C42\u65B9\u5F0F"},{default:withCtx(()=>[createVNode$1(de,{modelValue:unref(L).method,"onUpdate:modelValue":re[1]||(re[1]=_e=>unref(L).method=_e)},{default:withCtx(()=>[createVNode$1(ue,{label:"get"},{default:withCtx(()=>[createTextVNode(" GET ")]),_:1}),createVNode$1(ue,{label:"post"},{default:withCtx(()=>[createTextVNode(" POST ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),createVNode$1(le,{label:"headers"},{default:withCtx(()=>[createVNode$1(ReqTable,{data:unref(L).headers,"onUpdate:data":[re[2]||(re[2]=_e=>unref(L).headers=_e),re[3]||(re[3]=_e=>{unref(L).headers=_e})]},null,8,["data"])]),_:1}),unref(L).method=="get"?(openBlock(),createBlock(le,{key:0,label:"params\u53C2\u6570"},{default:withCtx(()=>[createVNode$1(ReqTable,{data:unref(L).params,"onUpdate:data":[re[4]||(re[4]=_e=>unref(L).params=_e),re[5]||(re[5]=_e=>{unref(L).params=_e})]},null,8,["data"])]),_:1})):(openBlock(),createBlock(le,{key:1,label:"body\u53C2\u6570"},{default:withCtx(()=>[createVNode$1(ReqTable,{data:unref(L).data,"onUpdate:data":[re[6]||(re[6]=_e=>unref(L).data=_e),re[7]||(re[7]=_e=>{unref(L).data=_e})]},null,8,["data"])]),_:1})),createVNode$1(le,null,{default:withCtx(()=>[createVNode$1(pe,{onClick:V},{default:withCtx(()=>[createTextVNode(" \u5237\u65B0\u6570\u636E ")]),_:1})]),_:1})]),_:1},8,["model"])}}}),__vite_glob_1_10=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$5},Symbol.toStringTag,{value:"Module"})),pool=reactive({}),useParamsPool=()=>({pool,setParams:g=>{Object.assign(pool,{...pool,...g})},initPool:()=>{Object.assign(pool,{})}}),__default__$4=defineComponent({name:"EvSelect"}),_sfc_main$4=defineComponent({...__default__$4,props:{value:{default:""},list:{default:()=>[]},replaceFields:{default:()=>({value:"value",label:"label",key:"value"})},paramsField:{default:()=>({paramsValue:"paramsValue"})}},setup(g){const n=g,{value:r,list:$,replaceFields:L,paramsField:V}=toRefs(n),oe=ref("");oe.value=r.value;const re=computed({get(){return oe.value},set(ue){oe.value=ue}}),{setParams:ae}=useParamsPool(),le=ue=>{ae({[V.value.paramsValue]:ue})};return(ue,de)=>{const pe=ElOption,he=ElSelect;return openBlock(),createBlock(he,{modelValue:unref(re),"onUpdate:modelValue":de[0]||(de[0]=_e=>isRef(re)?re.value=_e:null),onChange:le},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref($),_e=>(openBlock(),createBlock(pe,{key:_e[unref(L).key],label:_e[unref(L).label],value:_e[unref(L).value]},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])}}}),__vite_glob_1_11=Object.freeze(Object.defineProperty({__proto__:null,default:_sfc_main$4},Symbol.toStringTag,{value:"Module"})),__default__$3=defineComponent({name:"EvTable"}),_sfc_main$3=defineComponent({...__default__$3,props:{data:{type:Array,require:!0,default:()=>[]},tableConfig:{type:Object,require:!0,default:()=>({columns:[]})},pagConfig:{type:Object,default:()=>({show:!1})}},emits:["onPageChange"],setup(g,{emit:n}){const r=()=>{n("onPageChange")};return($,L)=>{const V=ElTableColumn,oe=ElTable,re=_sfc_main$7;return openBlock(),createElementBlock(Fragment,null,[createVNode$1(oe,mergeProps({class:"ev-table"},$.$attrs,{data:g.data}),{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.tableConfig.columns,ae=>(openBlock(),createBlock(V,{prop:ae.prop,label:ae.label,sortable:ae.sortable,width:ae.width},createSlots({_:2},[ae.slot?{name:"default",fn:withCtx(le=>[renderSlot($.$slots,ae.slot,{row:le.row},void 0,!0)]),key:"0"}:void 0]),1032,["prop","label","sortable","width"]))),256)),g.tableConfig.opt?(openBlock(),createBlock(V,{key:0,fixed:g.tableConfig.opt.fixed,width:g.tableConfig.opt.width||200,label:g.tableConfig.opt.label||"\u64CD\u4F5C"},{default:withCtx(ae=>[renderSlot($.$slots,"opt",{row:ae.row},void 0,!0)]),_:3},8,["fixed","width","label"])):createCommentVNode("",!0)]),_:3},16,["data"]),g.pagConfig.show?(openBlock(),createBlock(re,{key:0,"pag-config":g.pagConfig,onOnPageChange:r},null,8,["pag-config"])):createCommentVNode("",!0)],64)}}}),EvTable_vue_vue_type_style_index_0_scoped_24785849_lang="",__unplugin_components_7$1=_export_sfc$2(_sfc_main$3,[["__scopeId","data-v-24785849"]]),__vite_glob_1_12=Object.freeze(Object.defineProperty({__proto__:null,default:__unplugin_components_7$1},Symbol.toStringTag,{value:"Module"})),__default__$2=defineComponent({name:"EvText"}),_sfc_main$2=defineComponent({...__default__$2,props:{value:null,styleConfig:{default:()=>({})},openUrl:{type:Boolean,default:!1},openType:{default:"_blank"},url:{default:""}},setup(g){const n=g,{openUrl:r,openType:$,url:L}=toRefs(n),V=()=>{r.value&&L.value&&window.open(L.value,$.value)};return(oe,re)=>(openBlock(),createElementBlock("div",{class:"ev-text",style:normalizeStyle$1(unref(transformCssVar)(g.styleConfig)),onClick:V},toDisplayString(g.value),5))}}),EvText_vue_vue_type_style_index_0_scoped_81cfc156_lang="",EvText=_export_sfc$2(_sfc_main$2,[["__scopeId","data-v-81cfc156"]]),__vite_glob_1_13=Object.freeze(Object.defineProperty({__proto__:null,default:EvText},Symbol.toStringTag,{value:"Module"})),_hoisted_1$1={class:"ev_title_container"},_hoisted_2={class:"ev_title_text"},__default__$1=defineComponent({name:"EvTitle"}),_sfc_main$1=defineComponent({...__default__$1,setup(g){return(n,r)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("span",_hoisted_2,[renderSlot(n.$slots,"default",{},void 0,!0)]),renderSlot(n.$slots,"opt",{},void 0,!0)]))}}),EvTitle_vue_vue_type_style_index_0_scoped_67955e10_lang="",__unplugin_components_7=_export_sfc$2(_sfc_main$1,[["__scopeId","data-v-67955e10"]]),__vite_glob_1_14=Object.freeze(Object.defineProperty({__proto__:null,default:__unplugin_components_7},Symbol.toStringTag,{value:"Module"})),_hoisted_1=["onClick"],__default__=defineComponent({name:"ReqTable"}),_sfc_main=defineComponent({...__default__,props:{data:{type:Object,required:!0}},emits:["update:data"],setup(g,{emit:n}){const r=g,{data:$}=toRefs(r),L=ref(v4());console.log($);const V=computed(()=>{const le=[];Object.keys($.value).length==0&&le.push({key:v4(),varKey:"",varValue:""});for(const ue in $.value)if(Object.prototype.hasOwnProperty.call($.value,ue)){const de=$.value[ue];le.push({key:v4(),varKey:ue,varValue:de})}return le}),oe=()=>{const le={};V.value.forEach(ue=>{le[ue.varKey]=ue.varValue}),n("update:data",le)},re=()=>{V.value.unshift({key:v4(),varKey:"",varValue:""}),L.value=v4()},ae=le=>{const ue=V.value.findIndex(de=>de.key==le.key);V.value.splice(ue,1),L.value=v4(),oe()};return(le,ue)=>{const de=ElInput,pe=ElTableColumn,he=ElTable;return openBlock(),createBlock(he,{key:L.value,data:unref(V)},{default:withCtx(()=>[createVNode$1(pe,{prop:"varKey",label:"\u53C2\u6570\u540D"},{default:withCtx(_e=>[createVNode$1(de,{modelValue:_e.row.varKey,"onUpdate:modelValue":Oe=>_e.row.varKey=Oe,onChange:oe},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),createVNode$1(pe,{prop:"varValue",label:"\u53C2\u6570\u522B\u540D"},{default:withCtx(_e=>[createVNode$1(de,{modelValue:_e.row.varValue,"onUpdate:modelValue":Oe=>_e.row.varValue=Oe,onChange:oe},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),createVNode$1(pe,{label:"\u64CD\u4F5C"},{default:withCtx(_e=>[createBaseVNode("span",{class:"opt",onClick:ue[0]||(ue[0]=Oe=>re())}," + "),createBaseVNode("span",{class:"opt",onClick:Oe=>ae(_e.row)}," - ",8,_hoisted_1)]),_:1})]),_:1},8,["data"])}}}),EvVar_vue_vue_type_style_index_0_scoped_297b6072_lang="",__unplugin_components_12=_export_sfc$2(_sfc_main,[["__scopeId","data-v-297b6072"]]),__vite_glob_1_15=Object.freeze(Object.defineProperty({__proto__:null,default:__unplugin_components_12},Symbol.toStringTag,{value:"Module"})),install=async g=>{const n=Object.assign({"/src/directives/common/clickOutside.ts":__vite_glob_0_0$2,"/src/directives/common/loading.ts":__vite_glob_0_1$2});for(const $ in n){const L=await n[$];await g.directive(L.default.name,L.default.options)}console.log("%c---------directives\u52A0\u8F7D\u5B8C\u6210---------","color:#ccc");const r=Object.assign({"/src/components/common/EvChart/EvChart.vue":__vite_glob_1_0$1,"/src/components/common/EvCode/EvCode.vue":__vite_glob_1_1$1,"/src/components/common/EvForm/EvForm.vue":__vite_glob_1_2$1,"/src/components/common/EvIcon/EvIcon.vue":__vite_glob_1_3,"/src/components/common/EvIframe/EvIframe.vue":__vite_glob_1_4,"/src/components/common/EvImg/EvImg.vue":__vite_glob_1_5,"/src/components/common/EvLoading/EvLoading.vue":__vite_glob_1_6,"/src/components/common/EvMenu/EvMenu.vue":__vite_glob_1_7,"/src/components/common/EvOptTable/EvOptTable.vue":__vite_glob_1_8,"/src/components/common/EvPager/EvPager.vue":__vite_glob_1_9,"/src/components/common/EvReq/EvReq.vue":__vite_glob_1_10,"/src/components/common/EvSelect/EvSelect.vue":__vite_glob_1_11,"/src/components/common/EvTable/EvTable.vue":__vite_glob_1_12,"/src/components/common/EvText/EvText.vue":__vite_glob_1_13,"/src/components/common/EvTitle/EvTitle.vue":__vite_glob_1_14,"/src/components/common/EvVar/EvVar.vue":__vite_glob_1_15,"/src/components/common/ToggleTheme/ToggleTheme.vue":__vite_glob_1_16});for(const $ in r){const L=r[$];await g.component(L.default.name,L.default)}console.log("%c---------components\u52A0\u8F7D\u5B8C\u6210---------","color:#ccc"),console.log("%c---------\u52A0\u8F7D\u5B8C\u6210\u{1F60A}---------","color:#ccc")},autoImport={install},base="",elBadge="",elMessage="",normalize="",iconfont="",theme="",layout="",githubMarkdown="",style="",createApp(App).use(createPinia()).use(autoImport).use(router).use(index).mount("#app")})();export{useGlobalComponentSettings as $,normalizeStyle$1 as A,_export_sfc$1 as B,withInstall as C,buttonTypes as D,ElButton as E,iconPropType as F,question_filled_default as G,useTooltipContentProps as H,useLocale as I,addUnit as J,createBlock as K,ElIcon as L,resolveDynamicComponent as M,toDisplayString as N,mergeProps as O,ElTooltip as P,useSizeProp as Q,watch as R,provideGlobalConfig as S,isNumber$2 as T,withDirectives as U,vShow as V,Transition as W,mutable as X,isClient as Y,shallowReactive as Z,_export_sfc$2 as _,__tla,createStaticVNode as a,ElCard as a$,TypeComponentsMap as a0,useEventListener as a1,useResizeObserver as a2,Fragment as a3,withModifiers as a4,TypeComponents as a5,useTimeoutFn as a6,EVENT_CODE as a7,isString$4 as a8,isVNode as a9,useGlobalConfig as aA,defaultNamespace as aB,nextTick as aC,getCurrentInstance as aD,useSlots as aE,useDeprecated as aF,provide as aG,ElFocusTrap as aH,createSlots as aI,Teleport as aJ,defineStore as aK,reactive as aL,storeToRefs as aM,ElFormItem as aN,ElSwitch as aO,ElRadio as aP,ElRadioGroup as aQ,ElInputNumber as aR,_sfc_main$8 as aS,renderList as aT,ElOption as aU,ElSelect as aV,_sfc_main$1n as aW,ElForm as aX,toRefs as aY,normalizeProps as aZ,guardReactiveProps as a_,isFunction$4 as aa,render$1 as ab,isElement as ac,withInstallFunction as ad,axios$1 as ae,watchEffect as af,onBeforeUnmount as ag,isRef as ah,throwError as ai,computed$1 as aj,hasClass as ak,getScrollBarWidth as al,getStyle as am,addClass as an,onScopeDispose as ao,removeClass as ap,NOOP as aq,PatchFlags as ar,h$2 as as,inject as at,FOCUS_TRAP_INJECTION_KEY as au,CloseComponents as av,UPDATE_MODEL_EVENT as aw,isBoolean$2 as ax,useZIndex as ay,useId as az,createVNode$1 as b,onBeforeUpdate as b$,ElCollapseItem as b0,ElCollapse as b1,ElColorPicker as b2,ElCheckbox as b3,ElCheckboxGroup$1 as b4,ElDatePicker as b5,ElTimePicker as b6,v4 as b7,pushScopeId as b8,popScopeId as b9,BaseTransition as bA,Comment as bB,KeepAlive as bC,Static as bD,Suspense as bE,Text$1 as bF,assertNumber as bG,callWithAsyncErrorHandling as bH,callWithErrorHandling as bI,cloneVNode as bJ,compatUtils as bK,createHydrationRenderer as bL,createPropsRestProxy as bM,createRenderer as bN,defineAsyncComponent as bO,defineEmits as bP,defineExpose as bQ,defineProps as bR,devtools as bS,getTransitionRawChildren as bT,handleError as bU,initCustomFormatter as bV,isMemoSame as bW,isRuntimeOnly as bX,mergeDefaults as bY,onActivated as bZ,onBeforeMount as b_,downloadFile as ba,createFormSfcV2 as bb,createFormSfc as bc,useRoute as bd,EffectScope as be,ReactiveEffect as bf,customRef as bg,effect as bh,effectScope as bi,getCurrentScope as bj,isProxy as bk,isReactive as bl,isReadonly as bm,isShallow as bn,markRaw as bo,proxyRefs as bp,readonly as bq,shallowReadonly as br,shallowRef as bs,stop$1 as bt,toRaw as bu,toRef as bv,triggerRef as bw,camelize as bx,capitalize$1 as by,toHandlerKey as bz,createElementBlock as c,composeEventHandlers as c$,onDeactivated as c0,onErrorCaptured as c1,onRenderTracked as c2,onRenderTriggered as c3,onServerPrefetch as c4,onUnmounted as c5,onUpdated as c6,queuePostFlushCb as c7,registerRuntimeCompiler as c8,resolveComponent as c9,defineSSRCustomElement as cA,hydrate as cB,initDirectivesForSSR as cC,useCssModule as cD,useCssVars as cE,vModelCheckbox as cF,vModelDynamic as cG,vModelRadio as cH,vModelSelect as cI,vModelText as cJ,withKeys as cK,flattedChildren as cL,capitalize as cM,useDocumentVisibility as cN,useWindowFocus as cO,arrow_left_default as cP,arrow_right_default as cQ,close_default as cR,plus_default as cS,isUndefined$2 as cT,computedEager as cU,withNoopInstall as cV,getAugmentedNamespace as cW,getDefaultExportFromCjs as cX,commonjsGlobal as cY,delete_default as cZ,_sfc_main$7 as c_,resolveDirective as ca,resolveFilter as cb,resolveTransitionHooks as cc,setBlockTracking as cd,setDevtoolsHook as ce,setTransitionHooks as cf,ssrContextKey as cg,ssrUtils as ch,toHandlers as ci,transformVNodeArgs as cj,useAttrs$1 as ck,useSSRContext as cl,useTransitionState as cm,version as cn,warn$1 as co,watchPostEffect as cp,watchSyncEffect as cq,withAsyncContext as cr,withDefaults as cs,withMemo as ct,withScopeId as cu,TransitionGroup as cv,VueElement as cw,createApp as cx,createSSRApp as cy,defineCustomElement as cz,defineComponent as d,useTooltipTriggerProps as d0,ElScrollbar as d1,OnlyChild as d2,arrow_down_default as d3,useFormSize as d4,isArray$7 as d5,whenMouse as d6,memoize as d7,isFirefox as d8,buildProp as d9,useParamsPool as dA,lodash as dB,__unplugin_components_12 as dC,getUpperCase as dD,ElButtonGroup as dE,BAR_MAP as da,hasOwn$1 as db,circle_close_default as dc,isValidComponentSize as dd,Ee as de,get as df,isObject$7 as dg,isKorean as dh,useFormItem as di,isNil as dj,arrow_up_default as dk,ValidateComponentsMap as dl,debounce as dm,isEqual as dn,debugWarn as dp,escapeStringRegexp as dq,CHANGE_EVENT as dr,ElTag as ds,ClickOutside as dt,INPUT_EVENT as du,useFormItemInputId as dv,rng as dw,unsafeStringify as dx,__unplugin_components_7 as dy,GuDragResize as dz,onMounted as e,useRouter as f,createBaseVNode as g,createTextVNode as h,_ as i,useGuDialog as j,_sfc_main$k as k,ElCol as l,ElRow as m,ElInput as n,openBlock as o,__unplugin_components_7$1 as p,buildProps as q,ref as r,definePropType as s,useNamespace as t,unref as u,computed as v,withCtx as w,normalizeClass as x,renderSlot as y,createCommentVNode as z};
