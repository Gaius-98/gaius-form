import{aL as y,aM as m,r as S,dC as s,__tla as _}from"./index.47ffa79d.js";let r,j=Promise.all([(()=>{try{return _}catch{}})()]).then(async()=>{r=y("viewStore",()=>{const t=m({componentData:[],name:"",id:"",img:"",height:1080,width:1920}),p=m({name:"",label:"",props:{},id:"",type:"",dataSetting:{type:"static",data:"",handleFunc:"",params:{}},positionSize:{top:0,left:0,width:100,height:100}}),D=e=>{const{id:o}=e;let a=t.componentData.find(c=>c.id==o);a&&Object.assign(a,{...a,...e})},i=m([]),n=S(0),l=()=>{i[n.value++]=s.exports.cloneDeep(t.componentData)},h=()=>{n.value>0&&(n.value--,t.componentData=s.exports.cloneDeep(i[n.value]))},u=()=>{n.value<i.length-1&&(n.value++,t.componentData=s.exports.cloneDeep(i[n.value]))},g=e=>{let o=t.componentData.findIndex(a=>a.id===e.id);o!=-1&&Object.assign(p,s.exports.cloneDeep(t.componentData[o]))},b=()=>{let e=t.componentData.findIndex(o=>o.id===p.id);e!=-1&&Object.assign(t.componentData[e],s.exports.cloneDeep(p))},C=e=>{t.componentData.push(e),l()},x=(e,o)=>{let a=t.componentData.findIndex(w=>w.id===o),c=t.componentData[a];switch(e){case"delete":t.componentData.splice(a,1);break;case"placeTop":t.componentData.splice(a,1),t.componentData.push(c);break;case"placeBottom":t.componentData.splice(a,1),t.componentData.unshift(c);break}l()},f=()=>{Object.assign(t,{componentData:[],name:"",id:"",img:"",height:1080,width:1920}),d()},v=e=>{Object.assign(t,e)},d=()=>{Object.assign(p,{name:"",label:"",props:{},id:"",type:"",dataSetting:{type:"static",data:"",handleFunc:"",params:{}},positionSize:{top:0,left:0,width:100,height:100}})};return{viewData:t,curCompData:p,snapshotData:i,curSnapshotIdx:n,setSnapshot:l,undo:h,redo:u,onClickComp:g,setComp:D,addComp:C,changeCompByCommand:x,init:f,setViewData:v,initCurComp:d,syncCfg:b}})});export{j as __tla,r as u};
