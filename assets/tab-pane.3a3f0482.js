import{b7 as Ke,b8 as Ve,b9 as qe,q as U,B as J,C as ne,d as K,A as Q,ag as Z,G as W,r as P,H as F,aB as ee,ba as oe,o as re,c as ie,N as ue,u as E,at as Me,z as ce,bb as _,W as X,bc as He,bd as Ue,t as q,ac as de,be as We,b as v,y as j,U as Xe,V as je,bf as De,bg as D,aE as Ge,X as Ie,bh as Oe,ar as be,av as ve,bi as pe,bj as Ye,aN as Je,aD as Qe,bk as me,h as Ze,bl as ea,a3 as aa,aI as ta,P as la,$ as sa,aR as na,__tla as oa}from"./index.ff4fefae.js";let fe,he,ra=Promise.all([(()=>{try{return oa}catch{}})()]).then(async()=>{const M=Symbol("tabsRootContextKey"),ye=(e,l,p)=>Ve(e.subTree).filter(i=>{var t;return qe(i)&&((t=i.type)==null?void 0:t.name)===l&&!!i.component}).map(i=>i.component.uid).map(i=>p[i]).filter(i=>!!i),ge=(e,l)=>{const p={},i=Ke([]);return{children:i,addChild:t=>{p[t.uid]=t,i.value=ye(e,l,p)},removeChild:t=>{delete p[t],i.value=i.value.filter(s=>s.uid!==t)}}},Ce=U({tabs:{type:J(Array),default:()=>ne([])}}),ae="ElTabBar",$e=K({name:ae}),we=K({...$e,props:Ce,setup(e,{expose:l}){const p=e,i=X(),t=Q(M);t||Z(ae,"<el-tabs><el-tab-bar /></el-tabs>");const s=W("tabs"),m=P(),R=P(),d=()=>{let f=0,r=0;const c=["top","bottom"].includes(t.props.tabPosition)?"width":"height",b=c==="width"?"x":"y";return p.tabs.every(k=>{var T,A,a,$;const h=(A=(T=i.parent)==null?void 0:T.refs)==null?void 0:A[`tab-${k.uid}`];if(!h)return!1;if(!k.active)return!0;r=h[`client${_(c)}`];const B=b==="x"?"left":"top";f=h[`offset${_(B)}`]-(($=(a=h.parentElement)==null?void 0:a[`offset${_(B)}`])!=null?$:0);const H=h.closest(".is-scrollable");if(H){const V=window.getComputedStyle(H);f+=Number.parseFloat(V[`padding${_(B)}`])}const L=window.getComputedStyle(h);return c==="width"&&(p.tabs.length>1&&(r-=Number.parseFloat(L.paddingLeft)+Number.parseFloat(L.paddingRight)),f+=Number.parseFloat(L.paddingLeft)),!1}),{[c]:`${r}px`,transform:`translate${_(b)}(${f}px)`}},g=()=>R.value=d();return F(()=>p.tabs,async()=>{await ee(),g()},{immediate:!0}),oe(m,()=>g()),l({ref:m,update:g}),(f,r)=>(re(),ie("div",{ref_key:"barRef",ref:m,class:ue([E(s).e("active-bar"),E(s).is(E(t).props.tabPosition)]),style:Me(R.value)},null,6))}});var Ne=ce(we,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const xe=U({panes:{type:J(Array),default:()=>ne([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Pe={tabClick:(e,l,p)=>p instanceof Event,tabRemove:(e,l)=>l instanceof Event},te="ElTabNav",ke=K({name:te,props:xe,emits:Pe,setup(e,{expose:l,emit:p}){const i=X(),t=Q(M);t||Z(te,"<el-tabs><tab-nav /></el-tabs>");const s=W("tabs"),m=He(),R=Ue(),d=P(),g=P(),f=P(),r=P(!1),c=P(0),b=P(!1),k=P(!0),T=q(()=>["top","bottom"].includes(t.props.tabPosition)?"width":"height"),A=q(()=>({transform:`translate${T.value==="width"?"X":"Y"}(-${c.value}px)`})),a=()=>{if(!d.value)return;const o=d.value[`offset${_(T.value)}`],u=c.value;if(!u)return;const n=u>o?u-o:0;c.value=n},$=()=>{if(!d.value||!g.value)return;const o=g.value[`offset${_(T.value)}`],u=d.value[`offset${_(T.value)}`],n=c.value;if(o-n<=u)return;const N=o-n>u*2?n+u:o-u;c.value=N},h=async()=>{const o=g.value;if(!r.value||!f.value||!d.value||!o)return;await ee();const u=f.value.querySelector(".is-active");if(!u)return;const n=d.value,N=["top","bottom"].includes(t.props.tabPosition),w=u.getBoundingClientRect(),C=n.getBoundingClientRect(),S=N?o.offsetWidth-C.width:o.offsetHeight-C.height,x=c.value;let y=x;N?(w.left<C.left&&(y=x-(C.left-w.left)),w.right>C.right&&(y=x+w.right-C.right)):(w.top<C.top&&(y=x-(C.top-w.top)),w.bottom>C.bottom&&(y=x+(w.bottom-C.bottom))),y=Math.max(y,0),c.value=Math.min(y,S)},B=()=>{if(!g.value||!d.value)return;const o=g.value[`offset${_(T.value)}`],u=d.value[`offset${_(T.value)}`],n=c.value;if(u<o){const N=c.value;r.value=r.value||{},r.value.prev=N,r.value.next=N+u<o,o-N<u&&(c.value=o-u)}else r.value=!1,n>0&&(c.value=0)},H=o=>{const u=o.code,{up:n,down:N,left:w,right:C}=D;if(![n,N,w,C].includes(u))return;const S=Array.from(o.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),x=S.indexOf(o.target);let y;u===w||u===n?x===0?y=S.length-1:y=x-1:x<S.length-1?y=x+1:y=0,S[y].focus({preventScroll:!0}),S[y].click(),L()},L=()=>{k.value&&(b.value=!0)},V=()=>b.value=!1;return F(m,o=>{o==="hidden"?k.value=!1:o==="visible"&&setTimeout(()=>k.value=!0,50)}),F(R,o=>{o?setTimeout(()=>k.value=!0,50):k.value=!1}),oe(f,B),de(()=>setTimeout(()=>h(),0)),We(()=>B()),l({scrollToActiveTab:h,removeFocus:V}),F(()=>e.panes,()=>i.update(),{flush:"post"}),()=>{const o=r.value?[v("span",{class:[s.e("nav-prev"),s.is("disabled",!r.value.prev)],onClick:a},[v(j,null,{default:()=>[v(Xe,null,null)]})]),v("span",{class:[s.e("nav-next"),s.is("disabled",!r.value.next)],onClick:$},[v(j,null,{default:()=>[v(je,null,null)]})])]:null,u=e.panes.map((n,N)=>{var w,C,S,x;const y=n.uid,I=n.props.disabled,O=(C=(w=n.props.name)!=null?w:n.index)!=null?C:`${N}`,Y=!I&&(n.isClosable||e.editable);n.index=`${N}`;const Ae=Y?v(j,{class:"is-icon-close",onClick:z=>p("tabRemove",n,z)},{default:()=>[v(De,null,null)]}):null,ze=((x=(S=n.slots).label)==null?void 0:x.call(S))||n.props.label,Le=!I&&n.active?0:-1;return v("div",{ref:`tab-${y}`,class:[s.e("item"),s.is(t.props.tabPosition),s.is("active",n.active),s.is("disabled",I),s.is("closable",Y),s.is("focus",b.value)],id:`tab-${O}`,key:`tab-${y}`,"aria-controls":`pane-${O}`,role:"tab","aria-selected":n.active,tabindex:Le,onFocus:()=>L(),onBlur:()=>V(),onClick:z=>{V(),p("tabClick",n,O,z)},onKeydown:z=>{Y&&(z.code===D.delete||z.code===D.backspace)&&p("tabRemove",n,z)}},[ze,Ae])});return v("div",{ref:f,class:[s.e("nav-wrap"),s.is("scrollable",!!r.value),s.is(t.props.tabPosition)]},[o,v("div",{class:s.e("nav-scroll"),ref:d},[v("div",{class:[s.e("nav"),s.is(t.props.tabPosition),s.is("stretch",e.stretch&&["top","bottom"].includes(t.props.tabPosition))],ref:g,style:A.value,role:"tablist",onKeydown:H},[e.type?null:v(Ne,{tabs:[...e.panes]},null),u])])])}}}),Te=U({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:J(Function),default:()=>!0},stretch:Boolean}),G=e=>Ye(e)||Je(e),Be={[ve]:e=>G(e),tabClick:(e,l)=>l instanceof Event,tabChange:e=>G(e),edit:(e,l)=>["remove","add"].includes(l),tabRemove:e=>G(e),tabAdd:()=>!0};var Se=K({name:"ElTabs",props:Te,emits:Be,setup(e,{emit:l,slots:p,expose:i}){var t,s;const m=W("tabs"),{children:R,addChild:d,removeChild:g}=ge(X(),"ElTabPane"),f=P(),r=P((s=(t=e.modelValue)!=null?t:e.activeName)!=null?s:"0"),c=a=>{r.value=a,l(ve,a),l("tabChange",a)},b=async a=>{var $,h,B;if(!(r.value===a||pe(a)))try{await(($=e.beforeLeave)==null?void 0:$.call(e,a,r.value))!==!1&&(c(a),(B=(h=f.value)==null?void 0:h.removeFocus)==null||B.call(h))}catch{}},k=(a,$,h)=>{a.props.disabled||(b($),l("tabClick",a,h))},T=(a,$)=>{a.props.disabled||pe(a.props.name)||($.stopPropagation(),l("edit",a.props.name,"remove"),l("tabRemove",a.props.name))},A=()=>{l("edit",void 0,"add"),l("tabAdd")};return Ge({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},q(()=>!!e.activeName)),F(()=>e.activeName,a=>b(a)),F(()=>e.modelValue,a=>b(a)),F(r,async()=>{var a;await ee(),(a=f.value)==null||a.scrollToActiveTab()}),Ie(M,{props:e,currentName:r,registerPane:d,unregisterPane:g}),i({currentName:r}),()=>{const a=e.editable||e.addable?v("span",{class:m.e("new-tab"),tabindex:"0",onClick:A,onKeydown:B=>{B.code===D.enter&&A()}},[v(j,{class:m.is("icon-plus")},{default:()=>[v(Oe,null,null)]})]):null,$=v("div",{class:[m.e("header"),m.is(e.tabPosition)]},[a,v(ke,{ref:f,currentName:r.value,editable:e.editable,type:e.type,panes:R.value,stretch:e.stretch,onTabClick:k,onTabRemove:T},null)]),h=v("div",{class:m.e("content")},[be(p,"default")]);return v("div",{class:[m.b(),m.m(e.tabPosition),{[m.m("card")]:e.type==="card",[m.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[$,h]:[h,$]])}}});const _e=U({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Ee=["id","aria-hidden","aria-labelledby"],le="ElTabPane",Re=K({name:le}),Fe=K({...Re,props:_e,setup(e){const l=e,p=X(),i=Qe(),t=Q(M);t||Z(le,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const s=W("tab-pane"),m=P(),R=q(()=>l.closable||t.props.closable),d=me(()=>{var b;return t.currentName.value===((b=l.name)!=null?b:m.value)}),g=P(d.value),f=q(()=>{var b;return(b=l.name)!=null?b:m.value}),r=me(()=>!l.lazy||g.value||d.value);F(d,b=>{b&&(g.value=!0)});const c=Ze({uid:p.uid,slots:i,props:l,paneName:f,active:d,index:m,isClosable:R});return de(()=>{t.registerPane(c)}),ea(()=>{t.unregisterPane(c.uid)}),(b,k)=>E(r)?aa((re(),ie("div",{key:0,id:`pane-${E(f)}`,class:ue(E(s).b()),role:"tabpanel","aria-hidden":!E(d),"aria-labelledby":`tab-${E(f)}`},[be(b.$slots,"default")],10,Ee)),[[ta,E(d)]]):la("v-if",!0)}});var se=ce(Fe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);he=sa(Se,{TabPane:se}),fe=na(se)});export{fe as E,ra as __tla,he as a};
