import{aT as u,aU as i,aI as n,__tla as l}from"./index.42181d04.js";let c,h=Promise.all([(()=>{try{return l}catch{}})()]).then(async()=>{const s=u.create({baseURL:"/api"});s.interceptors.request.use(e=>{const r=i("ev-token");return r&&e.headers&&(e.headers.Authorization=`bearer ${r}`),e},e=>e),s.interceptors.response.use(e=>{const{code:r,msg:t}=e.data;return r==0?e.data:(n.error(t),Promise.reject(new Error(t)))},e=>{var t;let r;switch((t=e.response)==null?void 0:t.status){case 401:r="token \u5931\u6548\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55";break;case 403:r="\u6CA1\u6709\u6743\u9650";break;case 404:r="\u8BF7\u6C42\u5730\u5740\u9519\u8BEF";break;case 500:r="\u670D\u52A1\u5668\u9519\u8BEF";break;default:r="\u7F51\u7EDC\u8FDE\u63A5\u6545\u969C"}return n.error(r),Promise.reject(e)});let o;o=e=>new Promise((r,t)=>{s.request(e).then(a=>{r(a)},a=>{t(a)})}),c=o});export{h as __tla,c as r};
