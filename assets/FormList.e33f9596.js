import{d as v,r as p,e as L,f as j,o as F,c as I,g as f,b as a,w as e,h as r,i as U,j as A,k as B,E as G,l as H,m as K,n as M,p as Q,_ as R,__tla as T}from"./index.c4f7cc90.js";import{E as W,a as X,__tla as $}from"./divider.d1e2fcb3.js";import{E as Y,__tla as Z}from"./link.ef5818b5.js";import{a as h,__tla as aa}from"./api.8205ea66.js";import{E as ta,__tla as ea}from"./request.8df36517.js";let b,oa=Promise.all([(()=>{try{return T}catch{}})(),(()=>{try{return $}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return ea}catch{}})()]).then(async()=>{const k={class:"form-list"},w={class:"opt"},C={class:"filter"},P={class:"main"},x=v({name:"formList"}),E=v({...x,setup(la){const _=p([]),S=p({columns:[{label:"\u8868\u5355id",prop:"id"},{label:"\u8868\u5355\u540D\u79F0",prop:"name"}],opt:{label:"\u64CD\u4F5C",width:200,fixed:"right"}}),n=p({show:!0,pageNumber:1,pageSize:10,keyword:"",total:0,pageSizes:[10,20,30]}),c=()=>{h.getList(n.value).then(o=>{const{code:t,data:l,msg:s}=o;t==0&&(_.value=l.rows,n.value.total=l.count)})};L(()=>{c()});const D=o=>{const t=U.cloneDeep(o.row);t.list=JSON.parse(t.list),t.formProp=JSON.parse(t.formProp),A({title:t.name,content:B,componentProps:{formConfig:t}}).open()},m=j(),N=()=>{m.push({name:"formDesign",query:{type:"add"}})},O=o=>{m.push({name:"formDesign",query:{id:o.row.id,type:"edit"}})},V=o=>{h.deleteForm({id:o.row.id}).then(t=>{const{code:l,msg:s}=t;l==0&&(ta.success(s),c())})};return(o,t)=>{const l=G,s=H,u=K,q=M,d=Y,g=W,z=X,J=Q;return F(),I("div",k,[f("div",w,[a(u,null,{default:e(()=>[a(s,{offset:22,span:2},{default:e(()=>[a(l,{type:"primary",onClick:N},{default:e(()=>[r(" \u65B0\u589E ")]),_:1})]),_:1})]),_:1})]),f("div",C,[a(u,{align:"middle"},{default:e(()=>[a(s,{span:4},{default:e(()=>[r(" \u8868\u5355\u540D\u79F0 ")]),_:1}),a(s,{span:4,offset:1},{default:e(()=>[a(q,{modelValue:n.value.keyword,"onUpdate:modelValue":t[0]||(t[0]=i=>n.value.keyword=i)},null,8,["modelValue"])]),_:1}),a(s,{span:4,offset:10},{default:e(()=>[a(l,{onClick:c},{default:e(()=>[r(" \u641C\u7D22 ")]),_:1})]),_:1})]),_:1})]),f("div",P,[a(J,{data:_.value,"table-config":S.value,"pag-config":n.value,onOnPageChange:c},{opt:e(i=>[a(d,{type:"primary",onClick:y=>D(i)},{default:e(()=>[r(" \u9884\u89C8 ")]),_:2},1032,["onClick"]),a(g,{direction:"vertical"}),a(d,{type:"primary",onClick:y=>O(i)},{default:e(()=>[r(" \u7F16\u8F91 ")]),_:2},1032,["onClick"]),a(g,{direction:"vertical"}),a(z,{title:"\u786E\u5B9A\u8981\u5220\u9664\u5417?","confirm-button-text":"\u786E\u8BA4","cancel-button-text":"\u53D6\u6D88",onConfirm:y=>V(i)},{reference:e(()=>[a(d,{type:"danger"},{default:e(()=>[r(" \u5220\u9664 ")]),_:1})]),_:2},1032,["onConfirm"])]),_:1},8,["data","table-config","pag-config"])])])}}});b=R(E,[["__scopeId","data-v-5f21b0c7"]])});export{oa as __tla,b as default};
