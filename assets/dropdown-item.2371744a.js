import{W as L,d as N,T as M,r as E,ax as z,ay as _,y as Fo,u as k,az as be,f as Q,g as D,Y as g,v as S,aA as To,aB as H,w as we,X as So,aC as $,aD as I,o as K,z as J,A as w,b as B,aE as Ro,aF as xo,aG as he,x as Bo,aH as Oo,au as ye,aa as Mo,ak as Ie,aI as $o,aw as Do,aJ as Ko,G as Ee,aK as Lo,n as ee,l as No,av as Po,aL as Go,aM as _e,aN as Ao,c as V,aO as zo,a3 as j,C as oe,F as ne,B as Ho,N as Jo,E as te,I as Uo,aP as Ce,aQ as jo,D as Wo,$ as Yo,aR as ke,__tla as Qo}from"./index.64d56b1e.js";import{c as Fe,__tla as Vo}from"./refs.050d22da.js";let Te,Se,Re,Xo=Promise.all([(()=>{try{return Qo}catch{}})(),(()=>{try{return Vo}catch{}})()]).then(async()=>{const xe=N({inheritAttrs:!1});function Be(e,o,i,t,d,u){return M(e.$slots,"default")}var Oe=L(xe,[["render",Be],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const Me=N({name:"ElCollectionItem",inheritAttrs:!1});function $e(e,o,i,t,d,u){return M(e.$slots,"default")}var De=L(Me,[["render",$e],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const le="data-el-collection-item",re=e=>{const o=`El${e}Collection`,i=`${o}Item`,t=Symbol(o),d=Symbol(i),u={...Oe,name:o,setup(){const r=E(null),p=new Map;z(t,{itemMap:p,getItems:()=>{const f=k(r);if(!f)return[];const v=Array.from(f.querySelectorAll(`[${le}]`));return[...p.values()].sort((m,h)=>v.indexOf(m.ref)-v.indexOf(h.ref))},collectionRef:r})}},a={...De,name:i,setup(r,{attrs:p}){const f=E(null),v=_(t,void 0);z(d,{collectionItemRef:f}),Fo(()=>{const m=k(f);m&&v.itemMap.set(m,{ref:m,...p})}),be(()=>{const m=k(f);v.itemMap.delete(m)})}};return{COLLECTION_INJECTION_KEY:t,COLLECTION_ITEM_INJECTION_KEY:d,ElCollection:u,ElCollectionItem:a}},Ke=Q({style:{type:D([String,Array,Object])},currentTabId:{type:D(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:D(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Le,ElCollectionItem:Ne,COLLECTION_INJECTION_KEY:X,COLLECTION_ITEM_INJECTION_KEY:Pe}=re("RovingFocusGroup"),q=Symbol("elRovingFocusGroup"),ae=Symbol("elRovingFocusGroupItem"),Ge={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Ae=(e,o)=>{if(o!=="rtl")return e;switch(e){case g.right:return g.left;case g.left:return g.right;default:return e}},ze=(e,o,i)=>{const t=Ae(e.key,i);if(!(o==="vertical"&&[g.left,g.right].includes(t))&&!(o==="horizontal"&&[g.up,g.down].includes(t)))return Ge[t]},He=(e,o)=>e.map((i,t)=>e[(t+o)%e.length]),Z=e=>{const{activeElement:o}=document;for(const i of e)if(i===o||(i.focus(),o!==document.activeElement))return},ie="currentTabIdChange",se="rovingFocusGroup.entryFocus",Je={bubbles:!1,cancelable:!0},Ue=N({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Ke,emits:[ie,"entryFocus"],setup(e,{emit:o}){var i;const t=E((i=e.currentTabId||e.defaultCurrentTabId)!=null?i:null),d=E(!1),u=E(!1),a=E(null),{getItems:r}=_(X,void 0),p=S(()=>[{outline:"none"},e.style]),f=s=>{o(ie,s)},v=()=>{d.value=!0},m=$(s=>{var b;(b=e.onMousedown)==null||b.call(e,s)},()=>{u.value=!0}),h=$(s=>{var b;(b=e.onFocus)==null||b.call(e,s)},s=>{const b=!k(u),{target:P,currentTarget:F}=s;if(P===F&&b&&!k(d)){const C=new Event(se,Je);if(F==null||F.dispatchEvent(C),!C.defaultPrevented){const y=r().filter(x=>x.focusable),R=y.find(x=>x.active),O=y.find(x=>x.id===k(t)),G=[R,O,...y].filter(Boolean).map(x=>x.ref);Z(G)}}u.value=!1}),n=$(s=>{var b;(b=e.onBlur)==null||b.call(e,s)},()=>{d.value=!1}),c=(...s)=>{o("entryFocus",...s)};z(q,{currentTabbedId:To(t),loop:H(e,"loop"),tabIndex:S(()=>k(d)?-1:0),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:p,orientation:H(e,"orientation"),dir:H(e,"dir"),onItemFocus:f,onItemShiftTab:v,onBlur:n,onFocus:h,onMousedown:m}),we(()=>e.currentTabId,s=>{t.value=s!=null?s:null}),So(a,se,c)}});function je(e,o,i,t,d,u){return M(e.$slots,"default")}var We=L(Ue,[["render",je],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const Ye=N({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Le,ElRovingFocusGroupImpl:We}});function Qe(e,o,i,t,d,u){const a=I("el-roving-focus-group-impl"),r=I("el-focus-group-collection");return K(),J(r,null,{default:w(()=>[B(a,Ro(xo(e.$attrs)),{default:w(()=>[M(e.$slots,"default")]),_:3},16)]),_:3})}var Ve=L(Ye,[["render",Qe],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const Xe=N({components:{ElRovingFocusCollectionItem:Ne},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:o}){const{currentTabbedId:i,loop:t,onItemFocus:d,onItemShiftTab:u}=_(q,void 0),{getItems:a}=_(X,void 0),r=he(),p=E(null),f=$(n=>{o("mousedown",n)},n=>{e.focusable?d(k(r)):n.preventDefault()}),v=$(n=>{o("focus",n)},()=>{d(k(r))}),m=$(n=>{o("keydown",n)},n=>{const{key:c,shiftKey:s,target:b,currentTarget:P}=n;if(c===g.tab&&s){u();return}if(b!==P)return;const F=ze(n);if(F){n.preventDefault();let C=a().filter(y=>y.focusable).map(y=>y.ref);switch(F){case"last":{C.reverse();break}case"prev":case"next":{F==="prev"&&C.reverse();const y=C.indexOf(P);C=t.value?He(C,y+1):C.slice(y+1);break}}Bo(()=>{Z(C)})}}),h=S(()=>i.value===k(r));return z(ae,{rovingFocusGroupItemRef:p,tabIndex:S(()=>k(h)?0:-1),handleMousedown:f,handleFocus:v,handleKeydown:m}),{id:r,handleKeydown:m,handleFocus:v,handleMousedown:f}}});function qe(e,o,i,t,d,u){const a=I("el-roving-focus-collection-item");return K(),J(a,{id:e.id,focusable:e.focusable,active:e.active},{default:w(()=>[M(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var Ze=L(Xe,[["render",qe],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const eo=Q({trigger:Oo.trigger,effect:{...ye.effect,default:"light"},type:{type:D(String)},placement:{type:D(String),default:"bottom"},popperOptions:{type:D(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:D([Number,String]),default:0},maxHeight:{type:D([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:D(Object)},teleported:ye.teleported}),ue=Q({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Mo}}),oo=Q({onKeydown:{type:D(Function)}}),no=[g.down,g.pageDown,g.home],de=[g.up,g.pageUp,g.end],to=[...no,...de],{ElCollection:lo,ElCollectionItem:ro,COLLECTION_INJECTION_KEY:ao,COLLECTION_ITEM_INJECTION_KEY:io}=re("Dropdown"),W=Symbol("elDropdown"),{ButtonGroup:so}=Ie,uo=N({name:"ElDropdown",components:{ElButton:Ie,ElButtonGroup:so,ElScrollbar:$o,ElDropdownCollection:lo,ElTooltip:Do,ElRovingFocusGroup:Ve,ElOnlyChild:Ko,ElIcon:Ee,ArrowDown:Lo},props:eo,emits:["visible-change","click","command"],setup(e,{emit:o}){const i=_e(),t=ee("dropdown"),{t:d}=No(),u=E(),a=E(),r=E(null),p=E(null),f=E(null),v=E(null),m=E(!1),h=[g.enter,g.space,g.down],n=S(()=>({maxHeight:Po(e.maxHeight)})),c=S(()=>[t.m(y.value)]),s=he().value,b=S(()=>e.id||s);we([u,H(e,"trigger")],([l,T],[A])=>{var me,ve,ge;const ko=Ao(T)?T:[T];(me=A==null?void 0:A.$el)!=null&&me.removeEventListener&&A.$el.removeEventListener("pointerenter",O),(ve=l==null?void 0:l.$el)!=null&&ve.removeEventListener&&l.$el.removeEventListener("pointerenter",O),((ge=l==null?void 0:l.$el)==null?void 0:ge.addEventListener)&&ko.includes("hover")&&l.$el.addEventListener("pointerenter",O)},{immediate:!0}),be(()=>{var l,T;(T=(l=u.value)==null?void 0:l.$el)!=null&&T.removeEventListener&&u.value.$el.removeEventListener("pointerenter",O)});function P(){F()}function F(){var l;(l=r.value)==null||l.onClose()}function C(){var l;(l=r.value)==null||l.onOpen()}const y=Go();function R(...l){o("command",...l)}function O(){var l,T;(T=(l=u.value)==null?void 0:l.$el)==null||T.focus()}function G(){}function x(){const l=k(p);l==null||l.focus(),v.value=null}function Y(l){v.value=l}function U(l){m.value||(l.preventDefault(),l.stopImmediatePropagation())}function Eo(){o("visible-change",!0)}function _o(l){(l==null?void 0:l.type)==="keydown"&&p.value.focus()}function Co(){o("visible-change",!1)}return z(W,{contentRef:p,role:S(()=>e.role),triggerId:b,isUsingKeyboard:m,onItemEnter:G,onItemLeave:x}),z("elDropdown",{instance:i,dropdownSize:y,handleClick:P,commandHandler:R,trigger:H(e,"trigger"),hideOnClick:H(e,"hideOnClick")}),{t:d,ns:t,scrollbar:f,wrapStyle:n,dropdownTriggerKls:c,dropdownSize:y,triggerId:b,triggerKeys:h,currentTabId:v,handleCurrentTabIdChange:Y,handlerMainButtonClick:l=>{o("click",l)},handleEntryFocus:U,handleClose:F,handleOpen:C,handleBeforeShowTooltip:Eo,handleShowTooltip:_o,handleBeforeHideTooltip:Co,onFocusAfterTrapped:l=>{var T,A;l.preventDefault(),(A=(T=p.value)==null?void 0:T.focus)==null||A.call(T,{preventScroll:!0})},popperRef:r,contentRef:p,triggeringElementRef:u,referenceElementRef:a}}});function co(e,o,i,t,d,u){var a;const r=I("el-dropdown-collection"),p=I("el-roving-focus-group"),f=I("el-scrollbar"),v=I("el-only-child"),m=I("el-tooltip"),h=I("el-button"),n=I("arrow-down"),c=I("el-icon"),s=I("el-button-group");return K(),V("div",{class:oe([e.ns.b(),e.ns.is("disabled",e.disabled)])},[B(m,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(a=e.referenceElementRef)==null?void 0:a.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},zo({content:w(()=>[B(f,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:w(()=>[B(p,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:w(()=>[B(r,null,{default:w(()=>[M(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:w(()=>[B(v,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:w(()=>[M(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(K(),J(s,{key:0},{default:w(()=>[B(h,j({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:w(()=>[M(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),B(h,j({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:w(()=>[B(c,{class:oe(e.ns.e("icon"))},{default:w(()=>[B(n)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):ne("v-if",!0)],2)}var po=L(uo,[["render",co],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const fo=N({name:"DropdownItemImpl",components:{ElIcon:Ee},props:ue,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:o}){const i=ee("dropdown"),{role:t}=_(W,void 0),{collectionItemRef:d}=_(io,void 0),{collectionItemRef:u}=_(Pe,void 0),{rovingFocusGroupItemRef:a,tabIndex:r,handleFocus:p,handleKeydown:f,handleMousedown:v}=_(ae,void 0),m=Fe(d,u,a),h=S(()=>t.value==="menu"?"menuitem":t.value==="navigation"?"link":"button"),n=$(c=>{const{code:s}=c;if(s===g.enter||s===g.space)return c.preventDefault(),c.stopImmediatePropagation(),o("clickimpl",c),!0},f);return{ns:i,itemRef:m,dataset:{[le]:""},role:h,tabIndex:r,handleFocus:p,handleKeydown:n,handleMousedown:v}}}),mo=["aria-disabled","tabindex","role"];function vo(e,o,i,t,d,u){const a=I("el-icon");return K(),V(Uo,null,[e.divided?(K(),V("li",j({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):ne("v-if",!0),Ho("li",j({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:o[0]||(o[0]=r=>e.$emit("clickimpl",r)),onFocus:o[1]||(o[1]=(...r)=>e.handleFocus&&e.handleFocus(...r)),onKeydown:o[2]||(o[2]=te((...r)=>e.handleKeydown&&e.handleKeydown(...r),["self"])),onMousedown:o[3]||(o[3]=(...r)=>e.handleMousedown&&e.handleMousedown(...r)),onPointermove:o[4]||(o[4]=r=>e.$emit("pointermove",r)),onPointerleave:o[5]||(o[5]=r=>e.$emit("pointerleave",r))}),[e.icon?(K(),J(a,{key:0},{default:w(()=>[(K(),J(Jo(e.icon)))]),_:1})):ne("v-if",!0),M(e.$slots,"default")],16,mo)],64)}var go=L(fo,[["render",vo],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const ce=()=>{const e=_("elDropdown",{}),o=S(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:o}},bo=N({name:"ElDropdownItem",components:{ElDropdownCollectionItem:ro,ElRovingFocusItem:Ze,ElDropdownItemImpl:go},inheritAttrs:!1,props:ue,emits:["pointermove","pointerleave","click"],setup(e,{emit:o,attrs:i}){const{elDropdown:t}=ce(),d=_e(),u=E(null),a=S(()=>{var n,c;return(c=(n=k(u))==null?void 0:n.textContent)!=null?c:""}),{onItemEnter:r,onItemLeave:p}=_(W,void 0),f=$(n=>(o("pointermove",n),n.defaultPrevented),Ce(n=>{if(e.disabled){p(n);return}const c=n.currentTarget;c===document.activeElement||c.contains(document.activeElement)||(r(n),n.defaultPrevented||(c==null||c.focus()))})),v=$(n=>(o("pointerleave",n),n.defaultPrevented),Ce(n=>{p(n)})),m=$(n=>{if(!e.disabled)return o("click",n),n.type!=="keydown"&&n.defaultPrevented},n=>{var c,s,b;if(e.disabled){n.stopImmediatePropagation();return}(c=t==null?void 0:t.hideOnClick)!=null&&c.value&&((s=t.handleClick)==null||s.call(t)),(b=t.commandHandler)==null||b.call(t,e.command,d,n)}),h=S(()=>({...e,...i}));return{handleClick:m,handlePointerMove:f,handlePointerLeave:v,textContent:a,propsAndAttrs:h}}});function wo(e,o,i,t,d,u){var a;const r=I("el-dropdown-item-impl"),p=I("el-roving-focus-item"),f=I("el-dropdown-collection-item");return K(),J(f,{disabled:e.disabled,"text-value":(a=e.textValue)!=null?a:e.textContent},{default:w(()=>[B(p,{focusable:!e.disabled},{default:w(()=>[B(r,j(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:w(()=>[M(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var pe=L(bo,[["render",wo],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const ho=N({name:"ElDropdownMenu",props:oo,setup(e){const o=ee("dropdown"),{_elDropdownSize:i}=ce(),t=i.value,{focusTrapRef:d,onKeydown:u}=_(jo,void 0),{contentRef:a,role:r,triggerId:p}=_(W,void 0),{collectionRef:f,getItems:v}=_(ao,void 0),{rovingFocusGroupRef:m,rovingFocusGroupRootStyle:h,tabIndex:n,onBlur:c,onFocus:s,onMousedown:b}=_(q,void 0),{collectionRef:P}=_(X,void 0),F=S(()=>[o.b("menu"),o.bm("menu",t==null?void 0:t.value)]),C=Fe(a,f,d,m,P),y=$(R=>{var O;(O=e.onKeydown)==null||O.call(e,R)},R=>{const{currentTarget:O,code:G,target:x}=R;if(O.contains(x),g.tab===G&&R.stopImmediatePropagation(),R.preventDefault(),x!==k(a)||!to.includes(G))return;const Y=v().filter(U=>!U.disabled).map(U=>U.ref);de.includes(G)&&Y.reverse(),Z(Y)});return{size:t,rovingFocusGroupRootStyle:h,tabIndex:n,dropdownKls:F,role:r,triggerId:p,dropdownListWrapperRef:C,handleKeydown:R=>{y(R),u(R)},onBlur:c,onFocus:s,onMousedown:b}}}),yo=["role","aria-labelledby"];function Io(e,o,i,t,d,u){return K(),V("ul",{ref:e.dropdownListWrapperRef,class:oe(e.dropdownKls),style:Wo(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:o[0]||(o[0]=(...a)=>e.onBlur&&e.onBlur(...a)),onFocus:o[1]||(o[1]=(...a)=>e.onFocus&&e.onFocus(...a)),onKeydown:o[2]||(o[2]=te((...a)=>e.handleKeydown&&e.handleKeydown(...a),["self"])),onMousedown:o[3]||(o[3]=te((...a)=>e.onMousedown&&e.onMousedown(...a),["self"]))},[M(e.$slots,"default")],46,yo)}var fe=L(ho,[["render",Io],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);Re=Yo(po,{DropdownItem:pe,DropdownMenu:fe}),Te=ke(pe),Se=ke(fe)});export{Te as E,Xo as __tla,Se as a,Re as b};
